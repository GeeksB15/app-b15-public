(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["3e7d8bb7"],{"3cc9":function(t,a,e){},"469f8":function(t,a,e){"use strict";var i=e("3cc9"),o=e.n(i);o.a},"4c39":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("q-modal",{attrs:{"content-css":{minWidth:"30vw"}},model:{value:t.modal.visivel,callback:function(a){t.$set(t.modal,"visivel",a)},expression:"modal.visivel"}},[e("q-modal-layout",[e("q-toolbar",{attrs:{slot:"header",color:"negative"},slot:"header"},[e("q-toolbar-title",[t._v("Confirmar exclusão")]),e("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),e("div",{staticClass:"row layout-padding"},[t._v("\n        Deseja mesmo excluir o item?\n      ")]),e("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[e("q-toolbar-title",[e("div",{staticClass:"row justify-end"},[e("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",label:"Cancelar",color:"primary"}}),e("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",label:"Confirmar",color:"primary"},nativeOn:{click:function(a){t.$emit("excluir")}}})],1)])],1)],1)],1)],1)},o=[];i._withStripped=!0;var s={data:function(){return{modal:{visivel:!1}}}},r=s,n=(e("7b59b"),e("2877")),l=Object(n["a"])(r,i,o,!1,null,null,null);l.options.__file="ModalExcluir.vue";a["a"]=l.exports},"4ec1":function(t,a,e){},"557e":function(t,a,e){},"74b8":function(t,a,e){"use strict";var i=e("4ec1"),o=e.n(i);o.a},"7b59b":function(t,a,e){"use strict";var i=e("557e"),o=e.n(i);o.a},bc0c:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-layout",{staticClass:"Lista",attrs:{view:"hHh LpR lFr"}},[e("barra-topo"),e("q-page-container",[e("q-page",[t.list?e("div",[e("q-toolbar",{staticClass:"q-py-sm",attrs:{color:"primary"}},[e("q-btn-group",{staticClass:"no-shadow"},[e("q-btn",{staticClass:"q-px-xs",attrs:{icon:"view_headline",color:t.list?"white":"none","text-color":t.list?"primary":"white"},nativeOn:{click:function(a){t.carregaComponent("list")}}})],1),e("q-toolbar-title",[e("q-search",{ref:"buscaCampo",staticStyle:{"max-width":"990px",margin:"0 auto"},attrs:{color:"none",inverted:"",placeholder:"Buscar"},on:{input:t.buscar},model:{value:t.buscaCampo,callback:function(a){t.buscaCampo=a},expression:"buscaCampo"}})],1),e("q-btn",{staticClass:"hideonmobile",attrs:{flat:"",dense:"",icon:"add",round:""},on:{click:t.adicionarManipulacaoItens}},[e("q-tooltip",[t._v("Criar")])],1),e("q-btn",{staticClass:"no-shadow q-px-xs",attrs:{icon:"mdi-filter",flat:"",dense:"",round:""},on:{click:t.abrirFiltro}})],1),e("q-tabs",{attrs:{color:"transparent","text-color":"primary"},model:{value:t.tabsModel,callback:function(a){t.tabsModel=a},expression:"tabsModel"}},[e("q-tab",{attrs:{slot:"title",name:"digitacao",label:"Digitação",default:""},nativeOn:{click:function(a){t.getPage("Digitação")}},slot:"title"}),e("q-tab",{attrs:{slot:"title",name:"finalizado",label:"Finalizado"},nativeOn:{click:function(a){t.getPage("Finalizado")}},slot:"title"}),e("q-tab-pane",{staticClass:"q-pa-none",staticStyle:{"border-top":"1px solid #e0e0e0"},attrs:{name:"digitacao"}},[t._l(t.documentos,function(a){return"Digitação"===a.status?e("q-list",{key:a.id,staticClass:"q-py-none qListaItems"},[e("q-item",{staticClass:"itemLista"},[e("q-item-side",{nativeOn:{click:function(a){t.showsectionm=!t.showsectionm}}},[t._v("\n                  "+t._s(a.codigoDocumento)+"\n                ")]),e("q-item-main",{staticClass:"hideondesktop",attrs:{label:a.descricaoEmpresa},nativeOn:{click:function(a){t.showsectionm=!t.showsectionm}}},[e("q-item-tile",{attrs:{stamp:""}},[t._v(t._s(t._f("data")(a.dataHoraEmissao)))]),e("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"warning"}},[t._v(t._s(a.status))]),e("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[t._v(t._s(a.operacao))])],1),e("q-item-main",{staticClass:"hideonmobile",nativeOn:{click:function(a){t.showsectionm=!t.showsectionm}}},[e("q-item-tile",[t._v(t._s(a.descricaoEmpresa))])],1),e("q-item-main",{staticClass:"hideonmobile",nativeOn:{click:function(a){t.showsectionm=!t.showsectionm}}},[e("q-item-tile",{attrs:{stamp:""}},[t._v(t._s(t._f("data")(a.dataHoraEmissao)))])],1),e("q-item-main",{staticClass:"hideonmobile"},[e("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"warning"}},[t._v("\n                    "+t._s(a.status)+"\n                  ")]),e("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[t._v("\n                    "+t._s(a.operacao)+"\n                  ")])],1),e("q-item-side",{attrs:{right:""}},[e("q-btn",{staticClass:"buttons",attrs:{color:"tertiary",size:"md",icon:a.showPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",flat:"",dense:"",round:""},nativeOn:{click:function(e){t.showDetails(a)}}}),e("q-btn",{staticClass:"buttons",attrs:{color:"tertiary",size:"md",icon:"edit",flat:"",dense:"",round:""},nativeOn:{click:function(e){t.editarManipulacao(a.id)}}}),e("q-btn",{staticClass:"buttons",attrs:{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:""},nativeOn:{click:function(e){t.excluir(a.id)}}}),e("q-btn",{staticClass:"morevert",attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[e("q-popover",[e("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-py-none",attrs:{link:"","no-border":"",separator:""}},[e("q-item",[e("q-item-side",{attrs:{icon:"edit"},on:{click:function(e){t.editarManipulacao(a.id)}}}),e("q-item-main",{attrs:{label:"Editar"},nativeOn:{click:function(e){t.editarManipulacao(a.id)}}})],1)],1)],1)],1)],1)],1),a.showPreviewDetail?e("q-item",{staticClass:" q-pa-md"},[e("q-item-main",{attrs:{label:"Origem"}},t._l(a.documentoItens,function(a){return-1===a.operacaoFator?e("div",{key:a.id},[e("q-item-tile",{attrs:{stamp:""}},[t._v("\n                      "+t._s(a.quantidade)+" "+t._s(a.unidade)+" - "+t._s(a.descricaoItem)+"\n                    ")])],1):t._e()})),e("q-item-main",{attrs:{label:"Destino"}},t._l(a.documentoItens,function(a){return 1===a.operacaoFator?e("div",{key:a.id},[e("q-item-tile",{attrs:{stamp:""}},[t._v("\n                      "+t._s(a.quantidade)+" "+t._s(a.unidade)+" - "+t._s(a.descricaoItem)+"\n                    ")])],1):t._e()}))],1):t._e(),e("q-item-separator")],1):t._e()}),e("q-pagination",{staticClass:"justify-center q-mb-sm",attrs:{input:"",color:"dark",min:t.page.digitacao.min,max:t.page.digitacao.max},on:{input:function(a){t.filtrar(t.page.digitacao.current)}},model:{value:t.page.digitacao.current,callback:function(a){t.$set(t.page.digitacao,"current",a)},expression:"page.digitacao.current"}})],2),e("q-tab-pane",{staticClass:"q-pa-none",staticStyle:{"border-top":"1px solid #e0e0e0"},attrs:{name:"finalizado"}},[t._l(t.documentos,function(a){return"Finalizado"===a.status?e("q-list",{key:a.id,staticClass:"q-py-none qListaItems"},[e("q-item",{staticClass:"itemLista"},[e("q-item-side",{nativeOn:{click:function(a){t.showsectionm=!t.showsectionm}}},[t._v("\n                  "+t._s(a.codigoDocumento)+"\n                ")]),e("q-item-main",{staticClass:"hideondesktop",attrs:{label:a.descricaoEmpresa},nativeOn:{click:function(a){t.showsectionm=!t.showsectionm}}},[e("q-item-tile",{attrs:{stamp:""}},[t._v(t._s(t._f("data")(a.dataHoraEmissao)))]),e("q-item-tile",{attrs:{stamp:""}},[t._v(t._s(t._f("data")(a.dataHoraFinalizado)))]),e("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[t._v(t._s(a.status))]),e("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[t._v(t._s(a.operacao))])],1),e("q-item-main",{staticClass:"hideonmobile",nativeOn:{click:function(a){t.showsectionm=!t.showsectionm}}},[e("q-item-tile",[t._v(t._s(a.descricaoEmpresa))])],1),e("q-item-main",{staticClass:"hideonmobile",nativeOn:{click:function(a){t.showsectionm=!t.showsectionm}}},[e("q-item-tile",{attrs:{stamp:""}},[t._v(t._s(t._f("data")(a.dataHoraEmissao)))]),e("q-item-tile",{attrs:{stamp:""}},[t._v(t._s(t._f("data")(a.dataHoraFinalizado)))])],1),e("q-item-main",{staticClass:"hideonmobile"},[e("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[t._v("\n                    "+t._s(a.status)+"\n                  ")]),e("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[t._v("\n                    "+t._s(a.operacao)+"\n                  ")])],1),e("q-item-side",{attrs:{right:""}},[e("q-btn",{staticClass:"buttons",attrs:{color:"tertiary",size:"md",icon:a.showPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",flat:"",dense:"",round:""},nativeOn:{click:function(e){t.showDetails(a)}}}),e("q-btn",{staticClass:"buttons",attrs:{color:"tertiary",size:"md",icon:"edit",flat:"",dense:"",round:""},nativeOn:{click:function(e){t.editarManipulacao(a.id)}}}),e("q-btn",{staticClass:"buttons",attrs:{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:""}}),e("q-btn",{staticClass:"morevert",attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[e("q-popover",[e("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-py-none",attrs:{link:"","no-border":"",separator:""}},[e("q-item",{nativeOn:{click:function(e){t.editarManipulacao(a.id)}}},[e("q-item-side",{attrs:{icon:"edit"}}),e("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1),a.showPreviewDetail?e("q-item",{staticClass:" q-pa-md"},[e("q-item-main",{attrs:{label:"Origem"}},t._l(a.documentoItens,function(a){return-1===a.operacaoFator?e("div",{key:a.id},[e("q-item-tile",{attrs:{stamp:""}},[t._v("\n                      "+t._s(a.quantidade)+" "+t._s(a.unidade)+" - "+t._s(a.descricaoItem)+"\n                    ")])],1):t._e()})),e("q-item-main",{attrs:{label:"Destino"}},t._l(a.documentoItens,function(a){return 1===a.operacaoFator?e("div",{key:a.id},[e("q-item-tile",{attrs:{stamp:""}},[t._v("\n                      "+t._s(a.quantidade)+" "+t._s(a.unidade)+" - "+t._s(a.descricaoItem)+"\n                    ")])],1):t._e()}))],1):t._e(),e("q-item-separator")],1):t._e()}),e("q-pagination",{staticClass:"justify-center q-mb-sm",attrs:{input:"",color:"dark",min:t.page.finalizado.min,max:t.page.finalizado.max},on:{input:function(a){t.filtrar(t.page.finalizado.current)}},model:{value:t.page.finalizado.current,callback:function(a){t.$set(t.page.finalizado,"current",a)},expression:"page.finalizado.current"}})],2)],1)],1):t._e(),e("div",{staticClass:"q-pb-md"},[e("q-btn",{staticClass:"fixed hideondesktop",staticStyle:{right:"18px",bottom:"18px"},attrs:{round:"",color:"primary",icon:"add",size:"lg"},on:{click:t.adicionarManipulacaoItens}})],1)])],1),e("q-layout-drawer",{style:t.showFilters?{opacity:1}:{opacity:0},attrs:{side:t.left?"left":"right",id:"mydrawer","content-class":"mydrawerFL"},model:{value:t.showFilters,callback:function(a){t.showFilters=a},expression:"showFilters"}},[e("q-toolbar",{attrs:{color:"white","text-color":"faded"}},[e("q-icon",{attrs:{name:"mdi-filter",color:"faded"}}),e("q-toolbar-title",{staticClass:"q-subheading"},[t._v("Filtrar")]),e("q-btn",{attrs:{dense:"",flat:"",icon:"close",round:""},on:{click:function(a){t.showFilters=!t.showFilters}}})],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 q-px-sm"},[e("q-select",{staticClass:"q-mx-sm",attrs:{options:t.filtro.empresas.options,clearable:"",placeholder:"Por empresa"},nativeOn:{click:function(a){return t.empresaOpcoesCarregar(a)}},model:{value:t.filtro.empresas.selected,callback:function(a){t.$set(t.filtro.empresas,"selected",a)},expression:"filtro.empresas.selected"}})],1),e("div",{staticClass:"col-12 row q-px-md q-mt-lg"},[e("h1",{staticClass:"col-12 q-body-2 text-dark"},[t._v("Período de Emissão")]),e("div",{staticClass:"col-6 "},[e("campo",{staticClass:"no-shadow full-width",attrs:{tipo:"data",rotulo:"De",after:[{icon:"mdi-close-circle",handler:function(){t.filtro.periodo.emissao.ini=""}}]},model:{value:t.filtro.periodo.emissao.ini,callback:function(a){t.$set(t.filtro.periodo.emissao,"ini",a)},expression:"filtro.periodo.emissao.ini"}})],1),e("div",{staticClass:"col-6 "},[e("campo",{staticClass:"no-shadow full-width",attrs:{tipo:"data",rotulo:"até",after:[{icon:"mdi-close-circle",handler:function(){t.filtro.periodo.emissao.fim=""}}]},model:{value:t.filtro.periodo.emissao.fim,callback:function(a){t.$set(t.filtro.periodo.emissao,"fim",a)},expression:"filtro.periodo.emissao.fim"}})],1)]),e("div",{staticClass:"col-12 row q-px-md q-mt-lg"},[e("h1",{staticClass:"col-12 q-body-2 text-dark"},[t._v("Período de Finalização")]),e("div",{staticClass:"col-6"},[e("campo",{staticClass:"no-shadow full-width",attrs:{tipo:"data",rotulo:"De",after:[{icon:"mdi-close-circle",handler:function(){t.filtro.periodo.finalizado.ini=""}}]},model:{value:t.filtro.periodo.finalizado.ini,callback:function(a){t.$set(t.filtro.periodo.finalizado,"ini",a)},expression:"filtro.periodo.finalizado.ini"}})],1),e("div",{staticClass:"col-6 "},[e("campo",{staticClass:"no-shadow full-width",attrs:{tipo:"data",rotulo:"até",after:[{icon:"mdi-close-circle",handler:function(){t.filtro.periodo.finalizado.fim=""}}]},model:{value:t.filtro.periodo.finalizado.fim,callback:function(a){t.$set(t.filtro.periodo.finalizado,"fim",a)},expression:"filtro.periodo.finalizado.fim"}})],1)]),e("div",{staticClass:"col-12 row q-px-md q-mt-lg"},[e("campo",{attrs:{opcoes:{max:30,min:1},rotulo:"Quantidade por página",tipo:"quantidade"},model:{value:t.pageSize,callback:function(a){t.pageSize=a},expression:"pageSize"}})],1),e("div",{staticClass:"col-12 row q-px-md q-mt-lg"},[e("q-btn",{staticClass:"col-12 ",attrs:{color:"primary",label:"Aplicar"},on:{click:t.filtrar}})],1)])],1),e("ItensManipulacao",{ref:"itensManipulacao",on:{atualizar:t.atualizar}}),e("ModalExcluir",{ref:"modalExcluir",on:{excluir:t.excluirDocumento}})],1)},o=[];i._withStripped=!0;e("ac4d"),e("8a81"),e("ac6a");var s=e("3156"),r=e.n(s),n=(e("96cf"),e("c973")),l=e.n(n),c=e("01f0"),d=e("a0fd"),u=e("4c39"),m=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-modal",{attrs:{maximized:""},on:{show:t.mostrar,hide:t.fechar},model:{value:t.visibilidade.modal,callback:function(a){t.$set(t.visibilidade,"modal",a)},expression:"visibilidade.modal"}},[e("q-modal-layout",{staticClass:"bg-grey-4"},[e("q-toolbar",{attrs:{slot:"header"},slot:"header"},[e("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),e("q-toolbar-title",[t._v("Manipulação de Itens")]),e("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"white","text-color":"primary",label:"Salvar"},on:{click:function(a){t.salvar(!1)}}})],1),e("q-page",{staticClass:"u-container q-py-sm"},[e("q-toolbar",{staticClass:"q-pa-none q-ma-none q-mb-md ",staticStyle:{"min-height":"auto"},attrs:{color:"none","text-color":"black"}},[e("q-toolbar-title",{staticClass:"text-black q-px-none q-body-1 "},[t._v("Emissão: "+t._s(t._f("data")(t.documento.dataHoraEmissao))+"\n          "),t.documento.dataHoraFinalizado?e("span",[t._v("Cancelamento: "+t._s(t._f("data")(t.documento.dataHoraFinalizado)))]):t._e()]),t.documento.status?e("badge",{staticClass:"q-mx-sm ",attrs:{cor:"positive",icone:"flag",escuro:""}},[t._v("\n          "+t._s(t.documento.status)+"\n        ")]):t._e(),t.documento.codigoDocumento?e("badge",{staticClass:"q-mx-xs ",attrs:{cor:"faded",escuro:"",icone:"playlist_add_check"}},[t._v("\n          #"+t._s(t.documento.codigoDocumento)+"\n        ")]):t._e(),t.documento.codigoDocumento?e("q-btn",{staticClass:"q-ml-xs",attrs:{color:"primary",icon:"print",flat:"",dense:"",round:""}}):t._e()],1),e("q-card",{staticClass:"bg-white q-pa-md  q-mt-md no-shadow"},[e("form",{ref:"form"},[e("div",{staticClass:"row gutter-sm "},[e("campo",{staticClass:"col-10",attrs:{rotulo:"Empresa",tipo:"texto",disable:""},model:{value:t.campos.empresa.nome,callback:function(a){t.$set(t.campos.empresa,"nome",a)},expression:"campos.empresa.nome"}})],1)])]),e("div",{staticClass:"row gutter-sm q-mt-md "},[e("div",{staticClass:"col-12 col-lg-6 q-pt-none"},[e("q-card",{staticClass:"no-shadow bg-white full-width fit q-pa-md"},[e("q-toolbar",{staticClass:"q-pa-none q-ma-none q-mb-md",staticStyle:{"min-height":"auto"},attrs:{color:"none","text-color":"black"}},[e("p",{staticClass:"q-item-label q-mb-none",staticStyle:{color:"#0c0c0c"}},[e("q-icon",{staticClass:"q-mr-md",staticStyle:{color:"#737373"},attrs:{name:"shopping_cart",size:"24px"}}),t._v(" Origem\n              ")],1),e("q-toolbar-title",{staticClass:"q-pa-none q-ma-none",staticStyle:{height:"0 !important","min-height":"auto"}}),"Digitação"===t.documento.status?e("q-btn",{attrs:{color:"positive",flat:"",dense:"",icon:"add",round:"",size:"md"},on:{click:function(a){t.abrirModal("Origem")}}},[e("q-tooltip",[t._v("Adicionar Item")])],1):t._e()],1),e("q-list",{staticClass:"col-12 no-border q-mx-none q-pa-none"},[e("q-item",{staticClass:"q-pa-none"},[e("q-item-main",[e("q-item-tile",{attrs:{sublabel:""}},[e("div",{staticClass:"row text-weight-bold text-left justify-around"},[e("div",{staticClass:"col-2 col-lg-1"},[t._v("Código")]),e("div",{staticClass:"col-10 col-lg-3 "},[t._v("Descrição ")]),e("div",{staticClass:"col-3 col-lg-2 text-right"},[t._v("Quantidade")]),e("div",{staticClass:"col-3 col-lg-2 text-right"},[t._v("Valor Item")]),e("div",{staticClass:"col-3 col-lg-2 text-right"},[t._v("Total")]),e("div",{staticClass:"col-3 col-lg-2"})])]),e("q-item-separator",{staticClass:"q-my-xs"}),t._l(t.documentoItens,function(a,i){return-1===a.operacaoFator?e("div",{key:i},[e("q-item-tile",{attrs:{sublabel:""}},[e("div",{staticClass:"row text-left justify-around"},[e("div",{staticClass:"col-2 col-lg-1 "},[t._v("\n                          "+t._s(a.codigoItem||"-")+"\n                        ")]),e("div",{staticClass:"col-10 col-lg-3 "},[t._v("\n                          "+t._s(a.descricaoItem||"-")+"\n                        ")]),e("div",{staticClass:"col-3 col-lg-2 text-right"},[e("campo",{attrs:{tipo:"decimal",decimals:"4"},on:{blur:function(e){t.recalcularTotal(a)}},model:{value:a.quantidade,callback:function(e){t.$set(a,"quantidade",e)},expression:"item.quantidade"}})],1),e("div",{staticClass:"col-3 col-lg-2 text-right"},[e("campo",{attrs:{tipo:"decimal",decimals:"4",disable:""},model:{value:a.valorItem,callback:function(e){t.$set(a,"valorItem",e)},expression:"item.valorItem"}})],1),e("div",{staticClass:"col-3 col-lg-2 text-right"},[e("campo",{attrs:{tipo:"decimal",decimals:"4"},on:{blur:function(t){a.quantidade=a.subTotal/a.valorItem}},model:{value:a.subTotal,callback:function(e){t.$set(a,"subTotal",e)},expression:"item.subTotal"}})],1),"Digitação"===t.documento.status?e("div",{staticClass:"col-3 col-lg-2 text-right"},[e("q-btn",{attrs:{flat:"",dense:"",icon:"delete",round:"",size:"md"},on:{click:function(e){t.excluirItem(a.id)}}},[e("q-tooltip",[t._v("Excluir")])],1)],1):t._e()])]),e("q-item-separator",{staticClass:"q-my-xs"}),e("q-item-tile",{attrs:{sublabel:""}})],1):t._e()})],2)],1),e("q-item-tile",{attrs:{sublabel:""}},[e("div",{staticClass:"row text-weight-bold text-left justify-around"},[e("div",{staticClass:"col-2 col-lg-1 "}),e("div",{staticClass:"col-10 col-lg-3 "}),e("div",{staticClass:"col-3 col-lg-2 text-right"}),e("div",{staticClass:"col-3 col-lg-2 text-right "}),e("div",{staticClass:"col-3 col-lg-2 text-right "},[t._v(t._s(t._f("numero")(t.totalOrigem,2)))]),e("div",{staticClass:"col-3 col-lg-2"})])]),e("q-item",{staticClass:"text-center"},[e("q-btn",{staticClass:"q-mx-auto",attrs:{color:"positive",icon:"add",label:"Adicionar item",outline:"",size:"xs"},on:{click:function(a){t.abrirModal("Origem")}}})],1)],1)],1)],1),e("div",{staticClass:"col-12 col-lg-6 q-pt-none"},[e("q-card",{staticClass:"no-shadow bg-white full-width fit q-pa-md"},[e("q-toolbar",{staticClass:"q-pa-none q-ma-none q-mb-md",staticStyle:{"min-height":"auto"},attrs:{color:"none","text-color":"black"}},[e("p",{staticClass:"q-item-label q-mb-none",staticStyle:{color:"#0c0c0c"}},[e("q-icon",{staticClass:"q-mr-md",staticStyle:{color:"#737373"},attrs:{name:"shopping_cart",size:"24px"}}),t._v(" Destino\n              ")],1),e("q-toolbar-title",{staticClass:"q-pa-none q-ma-none",staticStyle:{height:"0 !important","min-height":"auto"}}),"Digitação"===t.documento.status?e("q-btn",{attrs:{color:"positive",flat:"",dense:"",icon:"add",round:"",size:"md"},on:{click:function(a){t.abrirModal("Destino")}}},[e("q-tooltip",[t._v("Adicionar Item")])],1):t._e()],1),e("q-list",{staticClass:"col-12 no-border q-mx-none q-pa-none"},[e("q-item",{staticClass:"q-pa-none"},[e("q-item-main",[e("q-item-tile",{attrs:{sublabel:""}},[e("div",{staticClass:"row text-weight-bold text-left justify-around"},[e("div",{staticClass:"col-2 col-lg-1"},[t._v("Código")]),e("div",{staticClass:"col-10 col-lg-3 "},[t._v("Descrição ")]),e("div",{staticClass:"col-3 col-lg-2 text-right"},[t._v("Quantidade")]),e("div",{staticClass:"col-3 col-lg-2 text-right"},[t._v("Valor Item")]),e("div",{staticClass:"col-3 col-lg-2 text-right"},[t._v("Total")]),e("div",{staticClass:"col-3 col-lg-2"})])]),e("q-item-separator",{staticClass:"q-my-xs"}),t._l(t.documentoItens,function(a,i){return 1===a.operacaoFator?e("div",{key:i},[e("q-item-tile",{attrs:{sublabel:""}},[e("div",{staticClass:"row text-left justify-around"},[e("div",{staticClass:"col-2 col-lg-1 "},[t._v("\n                          "+t._s(a.codigoItem||"-")+"\n                        ")]),e("div",{staticClass:"col-10 col-lg-3 "},[t._v("\n                          "+t._s(a.descricaoItem||"-")+"\n                        ")]),e("div",{staticClass:"col-3 col-lg-2 text-right"},[e("campo",{attrs:{tipo:"decimal",decimals:"4"},on:{blur:function(e){t.recalcularTotal(a)}},model:{value:a.quantidade,callback:function(e){t.$set(a,"quantidade",e)},expression:"item.quantidade"}})],1),e("div",{staticClass:"col-3 col-lg-2 text-right"},[e("campo",{staticClass:"col",attrs:{tipo:"decimal",decimals:"4"},model:{value:a.valorItem,callback:function(e){t.$set(a,"valorItem",e)},expression:"item.valorItem"}}),e("campo",{staticClass:"col",attrs:{tipo:"decimal",decimals:"4",disable:""},model:{value:a.valorCustoMedio,callback:function(e){t.$set(a,"valorCustoMedio",e)},expression:"item.valorCustoMedio"}})],1),e("div",{staticClass:"col-3 col-lg-2 text-right"},[e("campo",{attrs:{tipo:"decimal",decimals:"4"},on:{blur:function(e){t.recalcularQuantidade(a)}},model:{value:a.subTotal,callback:function(e){t.$set(a,"subTotal",e)},expression:"item.subTotal"}})],1),"Digitação"===t.documento.status?e("div",{staticClass:"col-3 col-lg-2 text-right"},[e("q-btn",{attrs:{flat:"",dense:"",icon:"delete",round:"",size:"md"},on:{click:function(e){t.excluirItem(a.id)}}},[e("q-tooltip",[t._v("Excluir")])],1)],1):t._e()])]),e("q-item-separator",{staticClass:"q-my-xs"}),e("q-item-tile",{attrs:{sublabel:""}})],1):t._e()})],2)],1),e("q-item-tile",{attrs:{sublabel:""}},[e("div",{staticClass:"row text-weight-bold text-left justify-around"},[e("div",{staticClass:"col-2 col-lg-1  "}),e("div",{staticClass:"col-10 col-lg-3 "}),e("div",{staticClass:"col-3 col-lg-2 text-right"}),e("div",{staticClass:"col-3 col-lg-2 text-right "}),e("div",{staticClass:"col-3 col-lg-2 text-right "},[t._v(t._s(t._f("numero")(t.totalDestino,2)))]),e("div",{staticClass:"col-3 col-lg-2"})])]),e("q-item",{staticClass:"text-center"},[e("q-btn",{staticClass:"q-mx-auto",attrs:{color:"positive",icon:"add",label:"Adicionar item",outline:"",size:"xs"},on:{click:function(a){t.abrirModal("Destino")}}})],1)],1)],1)],1)]),e("prompt-item-novo",{ref:"promptItem",attrs:{filtro:{ativo:!0,idEmpresa:t.campos.empresa.idContato},habilitarQuantidade:!0},on:{selecionarItens:t.selecionarItens},model:{value:t.adicionar.modal.value,callback:function(a){t.$set(t.adicionar.modal,"value",a)},expression:"adicionar.modal.value"}}),e("prompt-contato-novo",{attrs:{filtro:{ativo:!0,empresas:!0},placeholder:"Seleciona a empresa"},on:{selecionar:t.selecionarEmpresa},model:{value:t.modalContatoEmpresa.visivel,callback:function(a){t.$set(t.modalContatoEmpresa,"visivel",a)},expression:"modalContatoEmpresa.visivel"}}),e("ModalComposicao",{ref:"modalComposicao",on:{adicionarComposicao:t.adicionarComposicao}})],1),e("q-toolbar",{staticClass:"footer",staticStyle:{background:"#eeeeee !important"},attrs:{slot:"footer"},slot:"footer"},[e("q-toolbar-title",{staticClass:"text-right"},[e("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-mx-md",attrs:{color:"negative",flat:"",label:"Cancelar"},on:{click:function(a){t.$emit("atualizar")}}}),"Finalizado"===t.documento.status?e("q-btn",{attrs:{color:"primary",label:"Reabrir"},on:{click:t.reabrir}}):t._e(),"Digitação"===t.documento.status?e("q-btn",{attrs:{color:"primary",label:"Finalizar"},on:{click:t.finalizar}}):t._e()],1)],1)],1)],1)},p=[];m._withStripped=!0;e("cadf"),e("7514");var f=e("7037"),v=e.n(f),h=(e("7f7f"),e("551c"),e("ed08")),b=e("88db"),g=e("3c82"),q=e("41ff"),C=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("q-modal",{attrs:{"content-css":{minWidth:"30vw"}},model:{value:t.modal.visivel,callback:function(a){t.$set(t.modal,"visivel",a)},expression:"modal.visivel"}},[e("q-modal-layout",[e("q-toolbar",{attrs:{slot:"header",color:"warning"},slot:"header"},[e("q-toolbar-title",[t._v("Confirmar exclusão")]),e("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),e("div",{staticClass:"row layout-padding"},[t._v("\n        O item selecionado possue itens de composição, deseja preencher?\n      ")]),e("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[e("q-toolbar-title",[e("div",{staticClass:"row justify-end"},[e("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",label:"Cancelar",color:"primary"}}),e("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",label:"Confirmar",color:"primary"},nativeOn:{click:function(a){t.$emit("adicionarComposicao")}}})],1)])],1)],1)],1)],1)},x=[];C._withStripped=!0;var w={data:function(){return{modal:{visivel:!1}}}},_=w,y=(e("74b8"),e("2877")),k=Object(y["a"])(_,C,x,!1,null,null,null);k.options.__file="ModalComposicao.vue";var I=k.exports,z=e("8149"),E=e("3e8a"),O={components:{Campo:b["a"],PromptItemNovo:g["a"],ModalComposicao:I,PromptContatoNovo:q["a"]},data:function(){return{modalContatoEmpresa:{visivel:!1,retorno:{},aguardarRetorno:!0},itens:[],confirm:!0,documentoAnterior:{},documentoItensAnterior:[],documento:{id:"",codigoDocumento:"",idEmpresa:"",codigoEmpresa:"",descricaoEmpresa:"",operacao:"Manipulacao",tipo:"Estoque",status:"",dataEmissao:Object(h["dataAtual"])(),dataFinalizacao:""},documentoItens:[],campos:{empresa:{id:"",descricao:""}},adicionar:{modal:{name:"",value:!1}},itensComposicao:{},totalOrigem:0,totalDestino:0,carregando:!0,visibilidade:{modal:!1}}},methods:{mostrar:function(){var t=l()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["dormir"])(500);case 2:this.carregando=!1;case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),fechar:function(){this.carregando=!0},atualizar:function(){var t=l()(regeneratorRuntime.mark(function t(a){var e,i,o,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.zerarCampos(),!a){t.next=14;break}return t.next=4,z["a"].itemManipulacao.le({id:a});case 4:return this.documentoAnterior=t.sent,this.documento=Object(h["clonarV2"])(this.documentoAnterior),t.next=8,z["a"].itemManipulacao.leItens({idDocumento:a});case 8:this.documentoItensAnterior=t.sent,this.documentoItens=Object(h["clonarV2"])(this.documentoItensAnterior),this.campos.empresa.id=this.documentoAnterior.idEmpresa,this.campos.empresa.nome=this.documentoAnterior.descricaoEmpresa,t.next=40;break;case 14:return e=[],t.next=17,z["a"].contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);case 17:if(i=t.sent,!i.length){t.next=21;break}return t.next=21,Object(E["a"])().empresa.where("idContato").anyOf(i.map(function(t){return t.id})).each(function(t){e.push(t)});case 21:if(e.length){t.next=24;break}return this.$q.notify({message:"Não há empresa configurada",timeout:0,type:"negative",closeBtn:!0}),t.abrupt("return");case 24:if(o={},this.modalContatoEmpresa.retorno={},this.modalContatoEmpresa.aguardarRetorno=!0,!(e.length>1)){t.next=38;break}return this.modalContatoEmpresa.visivel=!0,t.next=31,new Promise(function(t,a){var e=setInterval(function(){s.modalContatoEmpresa.aguardarRetorno||(clearInterval(e),t())},100)});case 31:if(this.modalContatoEmpresa.retorno.id){t.next=35;break}return this.$emit("fechar"),this.$q.notifyError("Empresa não selecionada."),t.abrupt("return");case 35:o=this.modalContatoEmpresa.retorno,t.next=39;break;case 38:o=e[0];case 39:this.empresa=o;case 40:this.somarValorTotal();case 41:case"end":return t.stop()}},t,this)}));return function(a){return t.apply(this,arguments)}}(),salvar:function(){var t=l()(regeneratorRuntime.mark(function t(){var a,e=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.length>0&&void 0!==e[0]&&e[0],this.campos.empresa.id){t.next=4;break}return this.$q.notifyAlert("Selecione uma empresa"),t.abrupt("return");case 4:return t.prev=4,t.next=7,z["a"].itemManipulacao.grava({documentoAnterior:this.documentoAnterior,documento:this.documento,documentoItensAnterior:this.documentoItensAnterior,documentoItens:this.documentoItens});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](4),this.$q.notifyError("Erro ao salvar",t.t0);case 12:this.visibilidade.modal=a,this.atualizar(this.documento.id),this.$emit("atualizar");case 15:case"end":return t.stop()}},t,this,[[4,9]])}));return function(){return t.apply(this,arguments)}}(),finalizar:function(){var t=this.verificarTotal();if(t)if(this.campos.empresa.id){this.documento.status="Finalizado",this.documento.dataHoraFinalizado=Object(h["dataAtual"])();var a=!0,e=!1,i=void 0;try{for(var o,s=this.documentoItens[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var r=o.value;r.status="Finalizado",r.dataHoraFinalizado=Object(h["dataAtual"])()}}catch(t){e=!0,i=t}finally{try{a||null==s.return||s.return()}finally{if(e)throw i}}this.salvar(!1)}else this.$q.notifyAlert("Selecione uma empresa")},reabrir:function(){try{this.documento.status="Digitação",this.documento.dataHoraFinalizado="";var t=!0,a=!1,e=void 0;try{for(var i,o=this.documentoItens[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;s.status="Digitação",s.dataHoraFinalizado=""}}catch(t){a=!0,e=t}finally{try{t||null==o.return||o.return()}finally{if(a)throw e}}this.salvar(!0)}catch(t){this.$q.notifyError("Erro ao reabrir",t)}},excluirItem:function(){var t=l()(regeneratorRuntime.mark(function t(a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.documentoItens=this.documentoItens.filter(function(t){return t.id!==a}),this.somarValorTotal();case 2:case"end":return t.stop()}},t,this)}));return function(a){return t.apply(this,arguments)}}(),recalcularTotal:function(t){t.subTotal=Object(h["arredondar"])(t.quantidade*t.valorCustoMedio),t.total=Object(h["arredondar"])(t.quantidade*t.valorCustoMedio),this.somarValorTotal()},recalcularQuantidade:function(t){t.quantidade=Object(h["arredondar"])(t.subTotal/t.valorCustoMedio),this.somarValorTotal()},zerarCampos:function(){this.empresa={},this.documentoAnterior={},this.documentoItensAnterior=[],this.documento={id:Object(h["uuid"])(),idEmpresa:"",descricaoEmpresa:"",operacao:"Manipulação",tipo:"Estoque",status:"Digitação",dataHoraEmissao:Object(h["dataAtual"])(),dataHoraFinalizado:""},this.documentoItens=[],this.totalOrigem=0,this.totalDestino=0,this.campos={empresa:{id:"",descricao:""},finalizado:!1}},abrirModal:function(){var t=l()(regeneratorRuntime.mark(function t(a){var e,i,o,s,r,n,l,c,d,u,m=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=m.length>1&&void 0!==m[1]?m[1]:"",i={},o=[],s="Destino"===a?1:-1,o=e?this.documentoItens.filter(function(t){return t.idItem===e}):this.documentoItens.filter(function(t){return t.operacaoFator===s}),r=!0,n=!1,l=void 0,t.prev=8,c=o[Symbol.iterator]();case 10:if(r=(d=c.next()).done){t.next=23;break}return u=d.value,t.next=14,Object(E["a"])().item.get(u.idItem);case 14:if(t.t0=t.sent,t.t0){t.next=17;break}t.t0={};case 17:t.t1=t.t0,t.t2=u.quantidade,i[u.idItem]={item:t.t1,quantidade:t.t2};case 20:r=!0,t.next=10;break;case 23:t.next=29;break;case 25:t.prev=25,t.t3=t["catch"](8),n=!0,l=t.t3;case 29:t.prev=29,t.prev=30,r||null==c.return||c.return();case 32:if(t.prev=32,!n){t.next=35;break}throw l;case 35:return t.finish(32);case 36:return t.finish(29);case 37:this.$refs.promptItem.itensSelecionados=i,this.$refs.promptItem.termo=e,this.$refs.promptItem.atualizar(),this.adicionar.modal.value=!0,this.adicionar.modal.name=a;case 42:case"end":return t.stop()}},t,this,[[8,25,29,37],[30,,32,36]])}));return function(a){return t.apply(this,arguments)}}(),selecionarEmpresa:function(){var t=l()(regeneratorRuntime.mark(function t(a){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.modalContatoEmpresa.retorno={},a){t.next=4;break}return this.modalContatoEmpresa.aguardarRetorno=!1,t.abrupt("return");case 4:return t.next=6,z["a"].empresa.le({idContato:a});case 6:e=t.sent,e.length&&(this.modalContatoEmpresa.retorno=e[0],this.campos.empresa=e[0]),this.modalContatoEmpresa.aguardarRetorno=!1,this.documento.idEmpresa=e[0].id,this.documento.descricaoEmpresa=e[0].nome;case 11:case"end":return t.stop()}},t,this)}));return function(a){return t.apply(this,arguments)}}(),selecionarItens:function(){var t=l()(regeneratorRuntime.mark(function t(a){var e,i,o,s,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e="Destino"===this.adicionar.modal.name?1:-1,i=regeneratorRuntime.mark(function t(i){var o,s,n,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,z["a"].estoqueSaldoProdutoEmpresa.le({idEmpresa:r.campos.empresa.idContato,tipoEstoque:"Disponível",idItem:i});case 2:if(o=t.sent,o=o[0],o){t.next=7;break}return r.$q.notifyError("Item não disponível no estoque"),t.abrupt("return",{v:void 0});case 7:if(s=a[i].item||{},n=a[i].quantidade||0,l=r.documentoItens.find(function(t){return t.idItem===i}),l?(l.quantidade=n,l.quantidadeRealizado=n,l.subTotal=Object(h["arredondar"])(n*o.valorCustoMedio),l.total=Object(h["arredondar"])(n*o.valorCustoMedio)):r.documentoItens.push({dataHoraEmissao:Object(h["dataAtual"])(),dataHoraFinalizado:"",descricaoItem:s.descricao,id:Object(h["uuid"])(),idDocumento:r.documento.id,idItem:s.id,operacao:"Manipulação",operacaoFator:e,quantidade:n,quantidadeRealizado:n,status:"Digitação",tipoItem:s.tipoItem,subTotal:Object(h["arredondar"])(n*o.valorCustoMedio),total:Object(h["arredondar"])(n*o.valorCustoMedio),unidade:s.unidade,valorCustoMedio:o.valorCustoMedio,valorItem:s.valorCustoReposicao}),1!==e){t.next=14;break}return t.next=14,r.verificarComposicao(s.id,n);case 14:case"end":return t.stop()}},t)}),t.t0=regeneratorRuntime.keys(a);case 3:if((t.t1=t.t0()).done){t.next=11;break}return o=t.t1.value,t.delegateYield(i(o),"t2",6);case 6:if(s=t.t2,"object"!==v()(s)){t.next=9;break}return t.abrupt("return",s.v);case 9:t.next=3;break;case 11:this.somarValorTotal();case 12:case"end":return t.stop()}},t,this)}));return function(a){return t.apply(this,arguments)}}(),verificarComposicao:function(){var t=l()(regeneratorRuntime.mark(function t(a,e){var i,o,s,r,n,l,c,d,u;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=!1,o=[],t.next=4,z["a"].item.leCompleto({id:a});case 4:for(s=t.sent,r=!0,n=!1,l=void 0,t.prev=8,c=s.atual.composicao[Symbol.iterator]();!(r=(d=c.next()).done);r=!0)u=d.value,u.idItemUtilizado&&(u.quantidade=u.quantidade*e,o.push(u),i=!0);t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](8),n=!0,l=t.t0;case 16:t.prev=16,t.prev=17,r||null==c.return||c.return();case 19:if(t.prev=19,!n){t.next=22;break}throw l;case 22:return t.finish(19);case 23:return t.finish(16);case 24:this.itensComposicao=o.reduce(function(t,a){return t[a.idItemUtilizado]||(t[a.idItemUtilizado]=a),t},{}),this.$refs.modalComposicao.modal.visivel=i;case 26:case"end":return t.stop()}},t,this,[[8,12,16,24],[17,,19,23]])}));return function(a,e){return t.apply(this,arguments)}}(),adicionarComposicao:function(){this.adicionar.modal.name="Origem",this.selecionarItens(this.itensComposicao)},somarValorTotal:function(){this.totalOrigem=this.documentoItens.filter(function(t){return-1===t.operacaoFator}).reduce(function(t,a){return t+a.total},0),this.totalDestino=this.documentoItens.filter(function(t){return 1===t.operacaoFator}).reduce(function(t,a){return t+a.total},0),console.log(this.totalOrigem)},verificarTotal:function(){return 0===this.documentoItens.length&&0===this.totalDestino&&0===this.totalOrigem?(this.$q.notifyError("Selecione alguns itens na lista"),!1):this.totalOrigem===this.totalDestino||(this.$q.notifyError("Valores Totais de Origem e Destino devem ser iguais!"),!1)}}},M=O,D=Object(y["a"])(M,m,p,!1,null,null,null);D.options.__file="ItensManipulacao.vue";var F=D.exports,R=e("2ef0"),$={components:{BarraTopo:c["a"],Badge:d["a"],ItensManipulacao:F,ModalExcluir:u["a"]},data:function(){return{documentos:[],confirm:!1,currentId:null,documentoItens:null,showsectionm:!1,tabsModel:"aberto",page:{digitacao:{current:1,min:0,max:0},finalizado:{current:1,min:0,max:0},ativa:"Digitação"},pageSize:10,buscaCampo:"",checkboxModel:[],carregando:!1,contatosEmpresa:[],dados:{},erroEmpresas:!1,erroPeriodo:!1,filtro:{empresas:{selected:"",options:[]},periodo:{emissao:{ini:"",fim:""},finalizado:{ini:"",fim:""}}},modalManipulacao:!1,showingHelp:!1,showFilters:!1,showList:!1,gantt:!1,kanban:!1,ganttL:!1,kanbanL:!1,section:!1,list:!0,left:!1}},watch:{showFilters:function(t){!0===t?this.showList=!1:!0!==this.section&&!0!==this.kanban&&!0!==this.gantt||(this.showList=!0)}},methods:{atualizar:function(){var t=l()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.filtrar();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),showDetails:function(){var t=l()(regeneratorRuntime.mark(function t(a){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,z["a"].itemManipulacao.leItens({idDocumento:a.id});case 2:e=t.sent,a.documentoItens=e,a.showPreviewDetail=!a.showPreviewDetail;case 5:case"end":return t.stop()}},t)}));return function(a){return t.apply(this,arguments)}}(),editarManipulacao:function(){var t=l()(regeneratorRuntime.mark(function t(a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.$refs.itensManipulacao.visibilidade.modal=!0,t.next=3,this.$refs.itensManipulacao.atualizar(a);case 3:case"end":return t.stop()}},t,this)}));return function(a){return t.apply(this,arguments)}}(),adicionarManipulacaoItens:function(){var t=l()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.$refs.itensManipulacao.visibilidade.modal=!0,t.next=3,this.$refs.itensManipulacao.atualizar();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),excluirDocumento:function(){var t=l()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,z["a"].itemManipulacao.remove(this.currentId);case 2:this.atualizar();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),filtrar:function(){var t=l()(regeneratorRuntime.mark(function t(){var a,e,i,o,s=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=s.length>0&&void 0!==s[0]?s[0]:1,this.buscaCampo="",e=(a-1)*this.pageSize,t.next=5,z["a"].itemManipulacao.le({periodoEmissao:{ini:this.filtro.periodo.emissao.ini,fim:this.filtro.periodo.emissao.fim},periodoFinalizado:{ini:this.filtro.periodo.finalizado.ini,fim:this.filtro.periodo.finalizado.fim},status:this.page.ativa,idEmpresa:this.filtro.empresas.selected,offset:e,limit:this.pageSize});case 5:i=t.sent,this.documentos=i[0].map(function(t){return r()({},t,{showPreviewDetail:!1,documentoItens:[]})}),this.documentos=Object(R["orderBy"])(this.documentos,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"]),o=i[1],this.page.digitacao.max=Math.ceil(o/this.pageSize),this.page.finalizado.max=Math.ceil(o/this.pageSize);case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getPage:function(t){this.page.ativa=t,this.filtrar()},excluir:function(t){this.currentId=t,this.$refs.modalExcluir.modal.visivel=!0},buscar:function(){var t=l()(regeneratorRuntime.mark(function t(){var a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:setTimeout(l()(regeneratorRuntime.mark(function t(){var e,i,o,s,n,l,c,d,u,m,p,f,v,h,b,g;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,z["a"].itemBusca.filtrar(a.buscaCampo,{},0);case 2:e=t.sent,i=[],o=[],s=!0,n=!1,l=void 0,t.prev=8,c=e[Symbol.iterator]();case 10:if(s=(d=c.next()).done){t.next=18;break}return u=d.value,t.next=14,z["a"].itemManipulacao.leItens({idItem:u.id});case 14:i=t.sent;case 15:s=!0,t.next=10;break;case 18:t.next=24;break;case 20:t.prev=20,t.t0=t["catch"](8),n=!0,l=t.t0;case 24:t.prev=24,t.prev=25,s||null==c.return||c.return();case 27:if(t.prev=27,!n){t.next=30;break}throw l;case 30:return t.finish(27);case 31:return t.finish(24);case 32:m=!0,p=!1,f=void 0,t.prev=35,v=i[Symbol.iterator]();case 37:if(m=(h=v.next()).done){t.next=47;break}return b=h.value,console.log("doc"),t.next=42,z["a"].itemManipulacao.le({id:b.idDocumento});case 42:g=t.sent,o.push(g);case 44:m=!0,t.next=37;break;case 47:t.next=53;break;case 49:t.prev=49,t.t1=t["catch"](35),p=!0,f=t.t1;case 53:t.prev=53,t.prev=54,m||null==v.return||v.return();case 56:if(t.prev=56,!p){t.next=59;break}throw f;case 59:return t.finish(56);case 60:return t.finish(53);case 61:a.documentos=o.map(function(t){return r()({},t,{showPreviewDetail:!1,documentoItens:[]})});case 62:case"end":return t.stop()}},t,null,[[8,20,24,32],[25,,27,31],[35,49,53,61],[54,,56,60]])})),1500);case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),abrirFiltro:function(){!0===this.section||!0===this.kanban||!0===this.gantt?this.left=!0:this.left=!1,this.showFilters=!this.showFilters},empresaOpcoesCarregar:function(){var t=l()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,z["a"].empresa.le();case 2:t.t0=function(t){return{label:t.nome,value:t.id}},this.filtro.empresas.options=t.sent.map(t.t0);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),carregaComponent:function(t){this.showFilters=!1,"list"===t&&(this.left=!1,this.section=!1,this.showList=!1,this.list=!0,this.kanban=!1,this.gantt=!1,this.ganttL=!1,this.kanbanL=!1)}},created:function(){this.filtrar()}},S=$,j=(e("469f8"),Object(y["a"])(S,i,o,!1,null,null,null));j.options.__file="ItensManipulacaoLista.vue";a["default"]=j.exports}}]);