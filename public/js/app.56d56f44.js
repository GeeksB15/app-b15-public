(()=>{var e,o,t,a,i,r,l,s={65150:(e,o,t)=>{"use strict";var a=t(34182),i=t(59362);const r={id:"q-app"};var l=t(19119);const s=(0,a.createElementVNode)("div",{class:"text-h6"},"Conferência de figuras fiscais",-1),n={class:"q-pa-md"},c={class:"row items-center"},d={class:"col-12 col-md-6"},m={class:"q-pl-sm q-pt-sm q-pb-sm"},u=(0,a.createElementVNode)("div",{class:"q-subtitle"},"Configuração encontrada",-1),p=(0,a.createTextVNode)("Emitente"),h={class:"text-weight-bold"},C=(0,a.createTextVNode)("Destinatário"),v={class:"text-weight-bold"},f=(0,a.createTextVNode)("Outros"),N={class:"text-weight-bold"},V={class:"col-12 col-md-6"},g={class:"q-pr-sm q-pt-sm q-pb-sm"},x=(0,a.createElementVNode)("div",{class:"q-subtitle"},"Configuração não encontrada",-1),b=(0,a.createTextVNode)("Emitente"),w={class:"text-weight-bold"},_=(0,a.createTextVNode)("Destinatário"),y={class:"text-weight-bold"},I=(0,a.createTextVNode)("Outros"),E={class:"text-weight-bold"};var S=t(72407);const M={components:{Badge:S.Z},data:()=>({mostrar:!1,confrontos:[]}),methods:{totalDadosNaoEncontrados:e=>Object.keys(e.emitente).length+Object.keys(e.destinatario).length+Object.keys(e.outros).length,async confrontarFigurasFiscaisV2(e){const o=await $erp().configuracaoImposto.toArray();let t=[];for(const e of o)t.push(JSON.parse(e.json));t=$lodash.orderBy(t,"ordem");const a=[];for(const o of e){const e=[];for(const a of t)e.push({figura:a,descricaoFigura:a.descricao,ordemFigura:a.ordem,descricaoProduto:o.produto,encontrado:{destinatario:{..."T"===a.destinatario.consumidor||a.destinatario.consumidor===o.destinatario.consumidor?{consumidor:o.destinatario.consumidor}:{},..."T"===a.destinatario.destino||a.destinatario.destino===o.destinatario.destino?{destino:o.destinatario.destino}:{},..."T"===a.destinatario.indicadorIE||a.destinatario.indicadorIE===o.destinatario.indicadorIE?{indicadorIE:o.destinatario.indicadorIE}:{},..."T"===a.destinatario.pessoa||a.destinatario.pessoa===o.destinatario.pessoa?{pessoa:o.destinatario.pessoa}:{},..."T"===a.destinatario.regime||a.destinatario.regime===o.destinatario.regime?{regime:o.destinatario.regime}:{},..."T"===a.destinatario.tributacao||a.destinatario.tributacao===o.destinatario.tributacao?{tributacao:o.destinatario.tributacao}:{},..."T"===a.destinatario.tributacaoSetor||a.destinatario.tributacaoSetor===o.destinatario.tributacaoSetor?{tributacaoSetor:o.destinatario.tributacaoSetor}:{},...0===(a.destinatario.ufs||[]).length||(a.destinatario.ufs||[]).find((e=>e.codigo===o.destinatario.uf))?{uf:o.destinatario.uf}:{}},emitente:{..."T"===a.emitente.regime||a.emitente.regime===o.emitente.regime?{regime:o.emitente.regime}:{},..."T"===a.emitente.tributacao||a.emitente.tributacao===o.emitente.tributacao?{tributacao:o.emitente.tributacao}:{},..."T"===a.emitente.tributacaoSetor||a.emitente.tributacaoSetor===o.emitente.tributacaoSetor?{tributacaoSetor:o.emitente.tributacaoSetor}:{},...0===(a.emitente.ufs||[]).length||(a.emitente.ufs||[]).find((e=>e.codigo===o.emitente.uf))?{uf:o.emitente.uf}:{}},outros:{...0===(a.ncms||[]).length||(a.ncms||[]).find((e=>String(e.codigo)===String(o.ncm)))?{ncm:o.ncm}:{},...0===(a.ncms||[]).length||(a.ncms||[]).find((e=>String(e.codigo)===o.ncm&&(!e.cest||e.cest===o.cest)))?{cest:o.cest}:{},...0===(a.cfops||[]).length||(a.cfops||[]).find((e=>String(e.codigo)===String(o.cfop)))?{cfop:o.cfop}:{},..."T"===a.origemMercadoria||a.origemMercadoria===o.origemMercadoria?{origemMercadoria:o.origemMercadoria}:{}}},naoEncontrado:{destinatario:{..."T"!==a.destinatario.consumidor&&a.destinatario.consumidor!==o.destinatario.consumidor?{consumidor:o.destinatario.consumidor}:{},..."T"!==a.destinatario.destino&&a.destinatario.destino!==o.destinatario.destino?{destino:o.destinatario.destino}:{},..."T"!==a.destinatario.indicadorIE&&a.destinatario.indicadorIE!==o.destinatario.indicadorIE?{indicadorIE:o.destinatario.indicadorIE}:{},..."T"!==a.destinatario.pessoa&&a.destinatario.pessoa!==o.destinatario.pessoa?{pessoa:o.destinatario.pessoa}:{},..."T"!==a.destinatario.regime&&a.destinatario.regime!==o.destinatario.regime?{regime:o.destinatario.regime}:{},..."T"!==a.destinatario.tributacao&&a.destinatario.tributacao!==o.destinatario.tributacao?{tributacao:o.destinatario.tributacao}:{},..."T"!==a.destinatario.tributacaoSetor&&a.destinatario.tributacaoSetor!==o.destinatario.tributacaoSetor?{tributacaoSetor:o.destinatario.tributacaoSetor}:{},...(a.destinatario.ufs||[]).length&&!(a.destinatario.ufs||[]).find((e=>e.codigo===o.destinatario.uf))?{uf:o.destinatario.uf}:{}},emitente:{..."T"!==a.emitente.regime&&a.emitente.regime!==o.emitente.regime?{regime:o.emitente.regime}:{},..."T"!==a.emitente.tributacao&&a.emitente.tributacao!==o.emitente.tributacao?{tributacao:o.emitente.tributacao}:{},..."T"!==a.emitente.tributacaoSetor&&a.emitente.tributacaoSetor!==o.emitente.tributacaoSetor?{tributacaoSetor:o.emitente.tributacaoSetor}:{},...(a.emitente.ufs||[]).length&&!(a.emitente.ufs||[]).find((e=>e.codigo===o.emitente.uf))?{uf:o.emitente.uf}:{}},outros:{...(a.ncms||[]).length&&!(a.ncms||[]).find((e=>String(e.codigo)===o.ncm))?{ncm:o.ncm}:{},...(a.ncms||[]).length&&!(a.ncms||[]).find((e=>String(e.codigo)===o.ncm&&(!e.cest||e.cest===o.cest)))?{cest:o.cest}:{},...(a.cfops||[]).length&&!(a.cfops||[]).find((e=>String(e.codigo)===o.cfop))?{cfop:o.cfop}:{},..."T"!==a.origemMercadoria&&a.origemMercadoria!==o.origemMercadoria?{origemMercadoria:o.origemMercadoria}:{}}}});a.push(e)}const i=[];for(const e of a){const o=[],t=[];for(const a of e)0!==this.totalDadosNaoEncontrados(a.naoEncontrado)?t.push(a):o.push(a);o.sort(((e,o)=>Number(e.ordemFigura)<Number(o.ordemFigura)?-1:1)),t.sort(((e,o)=>Number(e.ordemFigura)<Number(o.ordemFigura)?-1:1)),t.sort(((e,o)=>this.totalDadosNaoEncontrados(e.naoEncontrado)<this.totalDadosNaoEncontrados(o.naoEncontrado)?-1:1));const a=[];for(const e of o)a.push(e);for(const e of t)a.push(e);i.push(a)}this.confrontos=i,this.mostrar=!0}},mounted(){$utils.emitter.off("confrontarFigurasFiscais"),$utils.emitter.on("confrontarFigurasFiscais",this.confrontarFigurasFiscaisV2)}};var T=t(74260),k=t(39341),D=t(83054),q=t(782),F=t(25901),P=t(85249),A=t(60880),B=t(76106),L=t(68900),O=t(47266),z=t(77953),j=t(31106),$=t(83831),U=t(7518),Z=t.n(U);const Q=(0,T.Z)(M,[["render",function(e,o,t,i,r,l){const S=(0,a.resolveComponent)("q-card-section"),M=(0,a.resolveComponent)("q-badge"),T=(0,a.resolveComponent)("q-item-section"),k=(0,a.resolveComponent)("badge"),D=(0,a.resolveComponent)("q-icon"),q=(0,a.resolveComponent)("q-toolbar"),F=(0,a.resolveComponent)("q-item-label"),P=(0,a.resolveComponent)("q-item"),A=(0,a.resolveComponent)("q-list"),B=(0,a.resolveComponent)("row"),L=(0,a.resolveComponent)("q-expansion-item"),O=(0,a.resolveComponent)("q-separator"),z=(0,a.resolveComponent)("q-card"),j=(0,a.resolveComponent)("q-dialog");return(0,a.openBlock)(),(0,a.createBlock)(j,{modelValue:r.mostrar,"onUpdate:modelValue":o[0]||(o[0]=e=>r.mostrar=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(z,{style:{width:"768px","max-width":"100%"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[s])),_:1}),(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{bordered:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.confrontos,(e=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:e},[(0,a.createVNode)(L,{"default-opened":1===r.confrontos.length,icon:"mdi-tag-minus",label:e[0].descricaoProduto,"header-class":"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",n,[(0,a.createVNode)(A,{bordered:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e,(e=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:e.descricaoFigura},[(0,a.createVNode)(L,{"header-class":"text-tertiary"},{header:(0,a.withCtx)((()=>[(0,a.createVNode)(T,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(M,{color:"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Ordem "+(0,a.toDisplayString)(e.ordemFigura),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.descricaoFigura),1)])),_:2},1024),(0,a.createVNode)(T,{side:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",c,[l.totalDadosNaoEncontrados(e.naoEncontrado)?((0,a.openBlock)(),(0,a.createBlock)(k,{key:0,cor:"negative",denso:"",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.totalDadosNaoEncontrados(e.naoEncontrado)),1)])),_:2},1024)):((0,a.openBlock)(),(0,a.createBlock)(D,{key:1,name:"mdi-check-bold",color:"positive"}))])])),_:2},1024)])),default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{class:"q-mb-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",d,[(0,a.createElementVNode)("div",m,[(0,a.createVNode)(q,{class:"bg-primary text-white shadow-2"},{default:(0,a.withCtx)((()=>[u])),_:1}),Object.keys(e.encontrado.emitente).length?((0,a.openBlock)(),(0,a.createBlock)(A,{key:0,bordered:"",padding:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(P,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(F,null,{default:(0,a.withCtx)((()=>[p])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(Object.keys(e.encontrado.emitente),(o=>((0,a.openBlock)(),(0,a.createBlock)(F,{key:o,caption:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("span",h,(0,a.toDisplayString)(o),1),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.encontrado.emitente[o]),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)):(0,a.createCommentVNode)("",!0),Object.keys(e.encontrado.destinatario).length?((0,a.openBlock)(),(0,a.createBlock)(A,{key:1,bordered:"",padding:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(P,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(F,null,{default:(0,a.withCtx)((()=>[C])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(Object.keys(e.encontrado.destinatario),(o=>((0,a.openBlock)(),(0,a.createBlock)(F,{key:o,caption:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("span",v,(0,a.toDisplayString)(o),1),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.encontrado.destinatario[o]),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)):(0,a.createCommentVNode)("",!0),Object.keys(e.encontrado.outros).length?((0,a.openBlock)(),(0,a.createBlock)(A,{key:2,bordered:"",padding:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(P,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(F,null,{default:(0,a.withCtx)((()=>[f])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(Object.keys(e.encontrado.outros),(o=>((0,a.openBlock)(),(0,a.createBlock)(F,{key:o,caption:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("span",N,(0,a.toDisplayString)(o),1),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.encontrado.outros[o]),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)):(0,a.createCommentVNode)("",!0)])]),(0,a.createElementVNode)("div",V,[(0,a.createElementVNode)("div",g,[(0,a.createVNode)(q,{class:"bg-negative text-white shadow-2"},{default:(0,a.withCtx)((()=>[x])),_:1}),Object.keys(e.naoEncontrado.emitente).length?((0,a.openBlock)(),(0,a.createBlock)(A,{key:0,bordered:"",padding:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(P,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(F,null,{default:(0,a.withCtx)((()=>[b])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(Object.keys(e.naoEncontrado.emitente),(o=>((0,a.openBlock)(),(0,a.createBlock)(F,{key:o,caption:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("span",w,(0,a.toDisplayString)(o),1),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.naoEncontrado.emitente[o]),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)):(0,a.createCommentVNode)("",!0),Object.keys(e.naoEncontrado.destinatario).length?((0,a.openBlock)(),(0,a.createBlock)(A,{key:1,bordered:"",padding:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(P,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(F,null,{default:(0,a.withCtx)((()=>[_])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(Object.keys(e.naoEncontrado.destinatario),(o=>((0,a.openBlock)(),(0,a.createBlock)(F,{key:o,caption:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("span",y,(0,a.toDisplayString)(o),1),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.naoEncontrado.destinatario[o]),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)):(0,a.createCommentVNode)("",!0),Object.keys(e.naoEncontrado.outros).length?((0,a.openBlock)(),(0,a.createBlock)(A,{key:2,bordered:"",padding:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(P,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(F,null,{default:(0,a.withCtx)((()=>[I])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(Object.keys(e.naoEncontrado.outros),(o=>((0,a.openBlock)(),(0,a.createBlock)(F,{key:o,caption:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("span",E,(0,a.toDisplayString)(o),1),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.naoEncontrado.outros[o]),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)):(0,a.createCommentVNode)("",!0)])])])),_:2},1024)])),_:2},1024),(0,a.createVNode)(O)],64)))),128))])),_:2},1024)])])),_:2},1032,["default-opened","label"]),(0,a.createVNode)(O)],64)))),128))])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);Z()(M,"components",{QDialog:k.Z,QCard:D.Z,QCardSection:q.Z,QList:F.Z,QExpansionItem:P.Z,QItemSection:A.Z,QBadge:B.Z,QIcon:L.Z,QToolbar:O.Z,QItem:z.Z,QItemLabel:j.Z,QSeparator:$.Z});const R={data:()=>({modal:{visivel:!1,titulo:"Erro",erros:[]}}),mounted(){$g.modalAlerta={show:e=>{this.modal={visivel:!0,titulo:e.titulo||"Erro",erros:e.erros||[]}}}}};var G=t(48761),H=t(76210),J=t(98586);const Y=(0,T.Z)(R,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("row"),m=(0,a.resolveComponent)("q-card-section"),u=(0,a.resolveComponent)("q-separator"),p=(0,a.resolveComponent)("q-card"),h=(0,a.resolveComponent)("q-dialog"),C=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(h,{modelValue:r.modal.visivel,"onUpdate:modelValue":o[0]||(o[0]=e=>r.modal.visivel=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-red text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-mx-sm"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.modal.titulo),1)])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",round:"",icon:"close"},null,512),[[C]])])),_:1}),(0,a.createVNode)(m,{class:"text-body1 q-mx-lg q-my-sm"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.modal.erros,((e,o)=>((0,a.openBlock)(),(0,a.createBlock)(d,{key:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e),1)])),_:2},1024)))),128))])),_:1}),(0,a.createVNode)(u),(0,a.createVNode)(c,{class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"justify-end"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(n,{flat:"",label:"Fechar"},null,512),[[C]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])}]]);Z()(R,"components",{QDialog:k.Z,QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QCardSection:q.Z,QSeparator:$.Z}),Z()(R,"directives",{ClosePopup:J.Z});const X={data:()=>({modal:{visivel:!1,titulo:"Sucesso",mensagens:[]}}),mounted(){$g.modalSucesso={show:e=>{this.modal={visivel:!0,titulo:e.titulo||"Sucesso",mensagens:e.mensagens||[]}}}}},W=(0,T.Z)(X,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("row"),m=(0,a.resolveComponent)("q-card-section"),u=(0,a.resolveComponent)("q-separator"),p=(0,a.resolveComponent)("q-card"),h=(0,a.resolveComponent)("q-dialog"),C=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(h,{modelValue:r.modal.visivel,"onUpdate:modelValue":o[0]||(o[0]=e=>r.modal.visivel=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-mx-sm"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.modal.titulo),1)])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",round:"",icon:"close"},null,512),[[C]])])),_:1}),(0,a.createVNode)(m,{class:"text-body1 q-mx-lg q-my-sm"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.modal.mensagens,((e,o)=>((0,a.openBlock)(),(0,a.createBlock)(d,{key:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e),1)])),_:2},1024)))),128))])),_:1}),(0,a.createVNode)(u),(0,a.createVNode)(c,{class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"justify-end"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(n,{flat:"",label:"OK"},null,512),[[C]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);Z()(X,"components",{QDialog:k.Z,QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QCardSection:q.Z,QSeparator:$.Z}),Z()(X,"directives",{ClosePopup:J.Z});const K={key:0,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"},ee={key:1,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"},oe=[{valor:"1",rotulo:"1 - Entrada ou aquisição de serviços do estado"},{valor:"2",rotulo:"2 - Entrada ou aquisição de serviços de outros estados"},{valor:"3",rotulo:"3 - Entrada ou aquisição de serviços do exterior"},{valor:"5",rotulo:"5 - Saídas ou prestações de serviços para o estado"},{valor:"6",rotulo:"6 - Saídas ou prestações de serviços para outros estados"},{valor:"7",rotulo:"7 - Saídas ou prestações de serviços para o exterior"}],te={data:()=>({carregando:!0,listaFiltrada:[],placeholder:"Selecione o CFOP",termo:"",visivel:!1}),methods:{filtrar(){let e;if(this.termo){const o=$utils.removerAcentos(this.termo.toUpperCase()).split(" ").filter((e=>""!==e));e=this.listaCompleta.filter((e=>{const t=$utils.removerAcentos(" "+$utils.stringOrEmpty(e.cfop)+" "+$utils.stringOrEmpty(e.descr).toUpperCase());let a=!0;for(const e of o)a=isNaN(Number(e))?a&&t.includes(e):a&&t.includes(" "+e+" ");return a}))}else e=this.listaCompleta;this.listaFiltrada=e.slice(0,50),this.carregando=!1},classeCfop(e){const o=String(e||"").substr(0,1);return(oe.find((e=>e.valor===o))||{}).rotulo||""},limpar(){this.listaFiltrada=[],this.placeholder="Selecione o CFOP",this.termo=""},onHide(){this.resolve({}),this.limpar()},onShow(){this.$refs.search.focus()},item_click(e={}){this.resolve(e),this.visivel=!1},async show(e){return this.carregando=!0,this.visivel=!0,this.listaCompleta=(await $db.cfop.le()).sort(((e,o)=>$utils.stringOrEmpty(e.cfop).localeCompare($utils.stringOrEmpty(o.cfop)))),this.filtrar(),new Promise(((e,o)=>{this.resolve=e}))}},mounted(){$g.promptCfop={show:this.show}}};var ae=t(63626),ie=t(54553),re=t(86952),le=t(7112),se=t(24515);const ne=(0,T.Z)(te,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-input"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-header"),u=(0,a.resolveComponent)("q-item-label"),p=(0,a.resolveComponent)("q-item-section"),h=(0,a.resolveComponent)("q-item"),C=(0,a.resolveComponent)("q-list"),v=(0,a.resolveComponent)("q-page"),f=(0,a.resolveComponent)("q-page-container"),N=(0,a.resolveComponent)("q-layout"),V=(0,a.resolveComponent)("q-dialog"),g=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(V,{modelValue:r.visivel,"onUpdate:modelValue":o[1]||(o[1]=e=>r.visivel=e),maximized:"",onHide:o[2]||(o[2]=e=>l.onHide()),onShow:o[3]||(o[3]=e=>l.onShow())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"bg-white",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[g]]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{modelValue:r.termo,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.termo=e),l.filtrar],color:"none",ref:"search",dark:"",placeholder:r.placeholder,debounce:"600",standout:"",filled:"",dense:"",clearable:"","clear-icon":"close"},null,8,["modelValue","placeholder","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(f,{class:"u-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[r.carregando?((0,a.openBlock)(),(0,a.createElementBlock)("div",K," Carregando... ")):r.listaFiltrada.length?((0,a.openBlock)(),(0,a.createBlock)(C,{key:2,link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.listaFiltrada,(e=>((0,a.openBlock)(),(0,a.createBlock)(h,{key:e.id,clickable:"",onClick:o=>l.item_click(e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.cfop),1),(0,a.createTextVNode)(" - "+(0,a.toDisplayString)(e.descr),1)])),_:2},1024),(0,a.createVNode)(u,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Classe:"+(0,a.toDisplayString)(l.classeCfop(e.cfop)),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):((0,a.openBlock)(),(0,a.createElementBlock)("div",ee," Nenhum resultado encontrado "))])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);Z()(te,"components",{QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QInput:re.Z,QPageContainer:le.Z,QPage:se.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z}),Z()(te,"directives",{ClosePopup:J.Z});const ce={class:"layout-padding",container:""},de={key:0},me={key:1,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"};var ue=t(11463);const pe={components:{ContatoCard:t(61341).Z},computed:{contatosEncontrados(){return this.contatos.length}},data:()=>({carregando:!1,contatos:[],contato:{},filtro:{},placeholder:"Buscar",termo:"",visivel:!1}),methods:{async filtrar(){let e;try{this.carregando=!0,e=setTimeout((()=>{$q.loading.show({message:"Carregando informações...",boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary"})}),500);const o=await ue.db.contatoBusca.filtrar(this.termo,this.filtro);o.sort(((e,o)=>{const t=$utils.removerAcentos(e.nome||""),a=$utils.removerAcentos(o.nome||"");return t.toLowerCase()>a.toLowerCase()?1:-1})),this.contatos=o}finally{this.carregando=!1,clearTimeout(e),$q.loading.hide()}},limpar(){this.contatos=[],this.filtro={},this.placeholder="Buscar",this.termo="",this.visivel=!1},onHide(){this.resolve()},item_click(e={}){this.contato=JSON.parse(JSON.stringify(e)),this.resolve(e),this.visivel=!1},async show(e){return this.limpar(),e.filtro&&(this.filtro=e.filtro),e.placeholder&&(this.placeholder=e.placeholder),await this.filtrar(),this.visivel=!0,new Promise(((e,o)=>{this.resolve=e}))}},mounted(){$g.promptContato={show:this.show}},updated(){this.$nextTick((function(){this.$refs.search&&this.$refs.search.focus()}))}},he=(0,T.Z)(pe,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-input"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-header"),u=(0,a.resolveComponent)("contato-card"),p=(0,a.resolveComponent)("q-list"),h=(0,a.resolveComponent)("q-page-container"),C=(0,a.resolveComponent)("q-layout"),v=(0,a.resolveComponent)("q-dialog"),f=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(v,{modelValue:r.visivel,"onUpdate:modelValue":o[1]||(o[1]=e=>r.visivel=e),maximized:"",onHide:o[2]||(o[2]=e=>l.onHide())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"bg-white",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[f]]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{modelValue:r.termo,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.termo=e),l.filtrar],color:"none",ref:"search",dark:"",placeholder:r.placeholder,debounce:"1000",standout:"",filled:"",dense:"",clearable:"","clear-icon":"close"},null,8,["modelValue","placeholder","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ce,[l.contatosEncontrados?((0,a.openBlock)(),(0,a.createElementBlock)("div",de,[(0,a.createVNode)(p,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.contatos,(e=>((0,a.openBlock)(),(0,a.createBlock)(u,{key:e.id,contato:e,modo:"lista",onSelecionar:l.item_click},null,8,["contato","onSelecionar"])))),128))])),_:1})])):(0,a.createCommentVNode)("",!0),r.carregando||l.contatosEncontrados?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",me," Nenhum resultado encontrado "))])])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);Z()(pe,"components",{QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QInput:re.Z,QPageContainer:le.Z,QList:F.Z}),Z()(pe,"directives",{ClosePopup:J.Z});const Ce={class:"layout-padding",container:""},ve=(0,a.createElementVNode)("strong",null,"Tipo financeito:",-1),fe={key:0,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"},Ne={data:()=>({itens:[],filtro:{},termo:"",visivel:!1}),methods:{atualizar(){},limpar(){this.itens=[],this.filtro={},this.placeholder="Buscar",this.termo=""},onHide(){this.resolve({}),this.limpar()},onShow(){this.$refs.search.focus()},item_click(e={}){this.resolve(e),this.visivel=!1},async show(e){return this.itens=await $db.formaPagamento.le(),this.visivel=!0,new Promise(((e,o)=>{this.resolve=e}))}}},Ve=(0,T.Z)(Ne,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-input"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-header"),u=(0,a.resolveComponent)("q-item-label"),p=(0,a.resolveComponent)("q-item"),h=(0,a.resolveComponent)("q-list"),C=(0,a.resolveComponent)("q-page-container"),v=(0,a.resolveComponent)("q-layout"),f=(0,a.resolveComponent)("q-dialog"),N=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(f,{modelValue:r.visivel,"onUpdate:modelValue":o[1]||(o[1]=e=>r.visivel=e),maximized:"",onHide:o[2]||(o[2]=e=>l.onHide()),onShow:o[3]||(o[3]=e=>l.onShow())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{class:"bg-white",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[N]]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{modelValue:r.termo,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.termo=e),l.atualizar],color:"none",ref:"search",dark:"",placeholder:"Buscar",debounce:"600",standout:"",filled:"",dense:"",clearable:"","clear-icon":"close"},null,8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Ce,[(0,a.createVNode)(h,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.itens,(e=>((0,a.openBlock)(),(0,a.createBlock)(p,{key:e.id,clickable:"",onClick:o=>l.item_click(e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{header:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.descricao),1)])),_:2},1024),(0,a.createVNode)(u,{caption:""},{default:(0,a.withCtx)((()=>[ve,(0,a.createTextVNode)((0,a.toDisplayString)(e.tipoFinanceiro),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),r.itens.length?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",fe," Nenhum resultado encontrado "))])])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);Z()(Ne,"components",{QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QInput:re.Z,QPageContainer:le.Z,QList:F.Z,QItem:z.Z,QItemLabel:j.Z}),Z()(Ne,"directives",{ClosePopup:J.Z});const ge={class:"layout-padding"},xe={key:0,class:"q-mt-lg text-center"},be={key:1,class:"q-py-xl"},we={key:2,class:"bg-light q-pa-lg round-borders text-black text-center"},_e={class:"text-tertiary"},ye={class:"text-positive float-right"};var Ie=t(27228),Ee=t(88603);const Se={components:{ItemCard:Ie.Z},computed:{itensEncontrados(){return this.itens.length},sku(){let e=0;for(const o in this.itensSelecionados)e+=this.itensSelecionados[o].quantidade>0?1:0;return e},valorItensSelecionados(){let e=0;for(const o in this.itensSelecionados){const t=$utils.arredondar((this.itensSelecionados[o].item.novoValorVenda||this.itensSelecionados[o].item.valorVenda||0)*this.itensSelecionados[o].quantidade);e=$utils.arredondar(e+t)}return e}},data:()=>({carregando:!0,carregandoEstoque:!0,estoque:[],itens:[],itensSelecionados:{},filtro:{},termo:"",visivel:!1,habilitarQuantidade:!1}),methods:{onShow(){this.$refs.search.focus()},onHide(){this.resolve({}),this.visivel=!1},adicionar(e){const o=$utils.clonarV2(this.itensSelecionados);o[e.item.id]=e,this.itensSelecionados=o},async atualizar(){this.carregando=!0,await $utils.dormir(500);let e=(await $db.item.ler({filtros:{termoBusca:this.termo,...this.filtro},limit:30})).data;if(e=$utils.clonarV2(e),e.length&&this.filtro.idTabelaPreco){let o=await $erp().itemTabelaPreco.get(this.filtro.idTabelaPreco)||{};if(o.id)for(let t of e.filter((e=>e.valorVenda))){let e;e=await $db.itemTabelaPreco.obterValores(o,t,4)||{},t.valorVenda=e.valorVenda||0,t.valorReal=e.valorVenda||0}}e=e.map((e=>this.itensSelecionados[e.id]?this.itensSelecionados[e.id].item:e)),this.itens=e,this.carregarEstoque(),this.carregando=!1},async carregarEstoque(){this.carregandoEstoque=!0,this.estoque=[];let e=[];const o=this.itens.map((e=>e.id));if(o.length)try{const t=(((await this.$utils.geeksApi({estoque:{funcao:"CC9F3B9A-16B9-4AE8-A523-938E4433AFAA",idItem:o,idEmpresa:this.filtro.idEmpresa}})||{}).data||{}).estoque||[]).filter((e=>"Disponível"===e.tipoEstoque));for(const a of o)e.push({idItem:a,saldo:t.filter((e=>e.idItem===a)).reduce(((e,o)=>e+o.saldo),0)})}catch(t){let a=await $erp().estoqueSaldoProdutoEmpresa.where("idItem").anyOf(o).toArray();a=a.filter((e=>"Disponível"===e.tipoEstoque)),this.filtro.idEmpresa&&(a=a.filter((e=>e.idEmpresa===this.filtro.idEmpresa)));for(const t of o)e.push({idItem:t,saldo:a.filter((e=>e.idItem===t)).reduce(((e,o)=>e+o.saldo),0),offline:!0})}this.carregandoEstoque=!1,this.estoque=e},async concluir(){this.resolve({acao:"selecionarItens",itensSelecionados:this.itensSelecionados}),this.visivel=!1},obterEstoque(e,o){if(!this.carregandoEstoque)return e&&this.estoque.find((o=>o.idItem===e))||{}},refresh(){this.carregando=!0,this.itens=[],this.itensSelecionados={}},selecionar(e,o){this.resolve({id:e,item:o}),this.visivel=!1},async show(e){return e.filtro&&(this.filtro=e.filtro),e.placeholder&&(this.placeholder=e.placeholder),e.habilitarQuantidade&&(this.habilitarQuantidade=e.habilitarQuantidade),this.itens=[],this.itensSelecionados={},await this.atualizar(),this.visivel=!0,new Promise(((e,o)=>{this.resolve=e}))}},mounted(){$g.promptItem={show:this.show}}};var Me=t(41837),Te=t(83671);const ke=(0,T.Z)(Se,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-input"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-header"),u=(0,a.resolveComponent)("q-spinner"),p=(0,a.resolveComponent)("item-card"),h=(0,a.resolveComponent)("q-list"),C=(0,a.resolveComponent)("q-footer"),v=(0,a.resolveComponent)("q-layout"),f=(0,a.resolveComponent)("q-dialog"),N=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(f,{modelValue:r.visivel,"onUpdate:modelValue":o[1]||(o[1]=e=>r.visivel=e),maximized:"",onHide:o[2]||(o[2]=e=>l.onHide()),onShow:o[3]||(o[3]=e=>l.onShow())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{class:"bg-white",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[N]]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{modelValue:r.termo,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.termo=e),l.atualizar],color:"none",ref:"search",dark:"",placeholder:"Buscar",debounce:"600",standout:"",filled:"",dense:"",clearable:"","clear-icon":"close"},null,8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createElementVNode)("div",ge,[r.carregando?((0,a.openBlock)(),(0,a.createElementBlock)("div",xe,[(0,a.createVNode)(u,{color:"faded",size:50})])):(0,a.createCommentVNode)("",!0),!r.carregando&&l.itensEncontrados?((0,a.openBlock)(),(0,a.createElementBlock)("div",be,[(0,a.createVNode)(h,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.itens,(e=>((0,a.openBlock)(),(0,a.createBlock)(p,{key:e.id,item:e,estoque:l.obterEstoque(e.id),idEmpresa:r.filtro.idEmpresa,modo:"lista",onSelecionar:l.selecionar,onAdicionar:l.adicionar,onConcluir:l.concluir,quantidadeSelecionada:(r.itensSelecionados[e.id]||{}).quantidade||0,habilitarQuantidade:r.habilitarQuantidade},null,8,["item","estoque","idEmpresa","onSelecionar","onAdicionar","onConcluir","quantidadeSelecionada","habilitarQuantidade"])))),128))])),_:1})])):(0,a.createCommentVNode)("",!0),r.carregando||l.itensEncontrados?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",we," Não encontramos itens com os critérios selecionados. "))]),l.sku>0?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0,class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("span",_e,(0,a.toDisplayString)(l.sku)+" SKU(s)",1),(0,a.createElementVNode)("span",ye,"R$ "+(0,a.toDisplayString)(e.$filters.numero(l.valorItensSelecionados,2)),1)])),_:1}),(0,a.createVNode)(s,{class:"q-ml-sm no-shadow float-right",color:"primary",label:"Concluir",onClick:l.concluir,unelevated:""},null,8,["onClick"])])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1},8,["modelValue"])}]]);Z()(Se,"components",{QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QInput:re.Z,QSpinner:Me.Z,QList:F.Z,QFooter:Te.Z}),Z()(Se,"directives",{ClosePopup:J.Z});const De={class:"layout-padding"},qe=(0,a.createElementVNode)("strong",null,"Empresa: ",-1),Fe=(0,a.createElementVNode)("strong",null,"Fator (%): ",-1),Pe=(0,a.createElementVNode)("strong",null,"Arredondamento: ",-1),Ae={key:0,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"},Be={computed:{registrosEncontrados(){return!!this.itens.length}},data:()=>({itens:[],termo:"",visivel:!1}),methods:{async atualizar(){},limpar(){this.itens=[],this.termo=""},onHide(){this.resolve({}),this.limpar()},item_click(e={}){this.resolve(e),this.visivel=!1},async show(e){return this.itens=await $erp().itemTabelaPreco.toArray(),this.visivel=!0,new Promise(((e,o)=>{this.resolve=e}))}},updated(){this.$nextTick((function(){this.$refs.search&&this.$refs.search.focus()}))}},Le=(0,T.Z)(Be,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-input"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-header"),u=(0,a.resolveComponent)("q-item-label"),p=(0,a.resolveComponent)("q-item-section"),h=(0,a.resolveComponent)("q-separator"),C=(0,a.resolveComponent)("q-item"),v=(0,a.resolveComponent)("q-list"),f=(0,a.resolveComponent)("q-page-container"),N=(0,a.resolveComponent)("q-layout"),V=(0,a.resolveComponent)("q-dialog"),g=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(V,{modelValue:r.visivel,"onUpdate:modelValue":o[1]||(o[1]=e=>r.visivel=e),maximized:"",onHide:o[2]||(o[2]=e=>l.onHide())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"bg-white",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[g]]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{modelValue:r.termo,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.termo=e),l.atualizar],color:"none",ref:"search",dark:"",placeholder:"Tabela de Preços",debounce:"600",standout:"",filled:"",dense:"",clearable:"","clear-icon":"close"},null,8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",De,[(0,a.createVNode)(v,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.itens,(o=>((0,a.openBlock)(),(0,a.createBlock)(C,{key:o.id,clickable:"",onClick:e=>l.item_click(o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{header:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.descricao),1)])),_:2},1024),(0,a.createVNode)(u,{caption:""},{default:(0,a.withCtx)((()=>[qe,(0,a.createTextVNode)((0,a.toDisplayString)(o.empresa),1)])),_:2},1024),o.fatorPercentual?((0,a.openBlock)(),(0,a.createBlock)(p,{key:0,sublabel:""},{default:(0,a.withCtx)((()=>[Fe,(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(o.fatorPercentual,2))+" %",1)])),_:2},1024)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(u,{caption:""},{default:(0,a.withCtx)((()=>[Pe,(0,a.createTextVNode)((0,a.toDisplayString)(o.arredondamento?"Sim":"Não"),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(h)])),_:2},1032,["onClick"])))),128))])),_:1}),r.itens.length?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",Ae," Não encontramos registros com os critérios selecionados. "))])])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);Z()(Be,"components",{QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QInput:re.Z,QPageContainer:le.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z,QSeparator:$.Z}),Z()(Be,"directives",{ClosePopup:J.Z});const Oe={key:0,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"},ze={key:1,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"},je={data:()=>({carregando:!0,listaFiltrada:[],placeholder:"Selecione o NCM",termo:"",visivel:!1}),methods:{filtrar(){let e;if(this.termo){const o=$utils.removerAcentos(this.termo.toUpperCase()).split(" ").filter((e=>""!==e));e=this.listaCompleta.filter((e=>{const t=$utils.removerAcentos(" "+$utils.stringOrEmpty(e.ncm)+" "+$utils.stringOrEmpty(e.descricao).toUpperCase());let a=!0;for(const e of o)a=isNaN(Number(e))?a&&t.includes(e):a&&t.includes(" "+e);return a}))}else e=this.listaCompleta;this.listaFiltrada=e.slice(0,50),this.carregando=!1},limpar(){this.listaFiltrada=[],this.placeholder="Selecione o NCM",this.termo=""},onHide(){this.resolve({}),this.limpar()},onShow(){this.$refs.search.focus()},item_click(e={}){this.resolve(e),this.visivel=!1},async show(e){return this.carregando=!0,this.visivel=!0,this.listaCompleta=(await $db.ncm.le()).sort(((e,o)=>$utils.stringOrEmpty(e.ncm).localeCompare($utils.stringOrEmpty(o.ncm)))),this.filtrar(),new Promise(((e,o)=>{this.resolve=e}))}},mounted(){$g.promptNcm={show:this.show}}},$e=(0,T.Z)(je,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-input"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-header"),u=(0,a.resolveComponent)("q-item-label"),p=(0,a.resolveComponent)("q-item-section"),h=(0,a.resolveComponent)("q-item"),C=(0,a.resolveComponent)("q-list"),v=(0,a.resolveComponent)("q-page"),f=(0,a.resolveComponent)("q-page-container"),N=(0,a.resolveComponent)("q-layout"),V=(0,a.resolveComponent)("q-dialog"),g=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(V,{modelValue:r.visivel,"onUpdate:modelValue":o[1]||(o[1]=e=>r.visivel=e),maximized:"",onHide:o[2]||(o[2]=e=>l.onHide()),onShow:o[3]||(o[3]=e=>l.onShow())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"bg-white",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[g]]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{modelValue:r.termo,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.termo=e),l.filtrar],color:"none",ref:"search",dark:"",placeholder:r.placeholder,debounce:"600",standout:"",filled:"",dense:"",clearable:"","clear-icon":"close"},null,8,["modelValue","placeholder","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(f,{class:"u-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[r.carregando?((0,a.openBlock)(),(0,a.createElementBlock)("div",Oe," Carregando... ")):r.listaFiltrada.length?((0,a.openBlock)(),(0,a.createBlock)(C,{key:2,link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.listaFiltrada,(e=>((0,a.openBlock)(),(0,a.createBlock)(h,{key:e.id,clickable:"",onClick:o=>l.item_click(e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.ncm),1),(0,a.createTextVNode)(" - "+(0,a.toDisplayString)(e.descricao),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):((0,a.openBlock)(),(0,a.createElementBlock)("div",ze," Nenhum resultado encontrado "))])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);Z()(je,"components",{QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QInput:re.Z,QPageContainer:le.Z,QPage:se.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z}),Z()(je,"directives",{ClosePopup:J.Z});var Ue=t(99904);const Ze={components:{BarraTopo:Ue.Z},props:{msg:{type:String,required:!0}}};var Qe=t(77505);const Re=(0,T.Z)(Ze,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("barra-topo"),n=(0,a.resolveComponent)("q-banner"),c=(0,a.resolveComponent)("q-page"),d=(0,a.resolveComponent)("q-page-container"),m=(0,a.resolveComponent)("q-layout");return(0,a.openBlock)(),(0,a.createBlock)(m,{class:"Atendimento Layout"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{restricao:""}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"u-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{"inline-actions":"",class:"text-white text-center bg-red"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.msg),1)])),_:1})])),_:1})])),_:1})])),_:1})}]]);Z()(Ze,"components",{QLayout:ae.Z,QPageContainer:le.Z,QPage:se.Z,QBanner:Qe.Z});const Ge={components:{ConfrontoFigurasFiscais:Q,modalAlerta:Y,modalSucesso:W,promptCfop:ne,promptContato:he,promptFormaPagamento:Ve,promptItem:ke,promptItemTabelaPreco:Le,promptNcm:$e,Restricao:Re},data:()=>({observacao:"",restricao:"",clienteSistema:{}}),methods:{exibirConduta(e){this.observacao!==e.observacao&&(this.observacao=e.observacao,this.observacao&&this.$q.notify({type:"warning",message:e.observacao})),this.restricao=e.restricao},async menu_click(e){this.$refs.Plataforma15.menu_click(e)}},created(){$utils.gconsole.log("App","created()"),this.clienteSistema=JSON.parse(localStorage.getItem("clienteSistema"))||{};let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`),window.addEventListener("resize",(()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)})),this.sincronismoInterval&&($utils.gconsole.log("App","parar sincronismo",this.sincronismoInterval),clearInterval(this.sincronismoInterval)),"false"!==localStorage.getItem("sincronismoAtivo")&&(this.sincronismoInterval=setInterval((function(){l.t.executar()}),2e3),$utils.gconsole.log("App","ativar sincronismo",this.sincronismoInterval)),$utils.emitter.on("exibirConduta",this.exibirConduta),$utils.emitter.on("notifyError",this.$q.notifyError)},beforeUnmount(){$utils.emitter.off("exibirConduta"),$utils.emitter.off("notifyError"),this.sincronismoInterval&&($utils.gconsole.log("App","parar sincronismo",this.sincronismoInterval),clearInterval(this.sincronismoInterval))}},He=(0,T.Z)(Ge,[["render",function(e,o,t,i,l,s){const n=(0,a.resolveComponent)("router-view"),c=(0,a.resolveComponent)("modalAlerta"),d=(0,a.resolveComponent)("modalSucesso"),m=(0,a.resolveComponent)("promptCfop"),u=(0,a.resolveComponent)("promptContato"),p=(0,a.resolveComponent)("promptFormaPagamento"),h=(0,a.resolveComponent)("promptItem"),C=(0,a.resolveComponent)("promptItemTabelaPreco"),v=(0,a.resolveComponent)("promptNcm"),f=(0,a.resolveComponent)("ConfrontoFigurasFiscais"),N=(0,a.resolveComponent)("Restricao"),V=(0,a.resolveComponent)("q-layout");return(0,a.openBlock)(),(0,a.createElementBlock)("div",r,[(0,a.createVNode)(V,{class:"Atendimento Layout",view:"hHh LpR lFr"},{default:(0,a.withCtx)((()=>[l.restricao?((0,a.openBlock)(),(0,a.createBlock)(N,{key:1,msg:l.restricao},null,8,["msg"])):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(n),(0,a.createVNode)(c),(0,a.createVNode)(d),(0,a.createVNode)(m),(0,a.createVNode)(u),(0,a.createVNode)(p,{ref:"promptFormaPagamento"},null,512),(0,a.createVNode)(h),(0,a.createVNode)(C,{ref:"PromptItemTabelaPreco"},null,512),(0,a.createVNode)(v),(0,a.createVNode)(f)],64))])),_:1})])}]]);Z()(Ge,"components",{QLayout:ae.Z});var Je=t(17792),Ye=t(79582);const Xe={class:"u-container"},We={key:0},Ke=(0,a.createTextVNode)("Buscar contato"),eo=(0,a.createTextVNode)("Criar contato"),oo=(0,a.createTextVNode)("Buscar excluídos"),to=(0,a.createTextVNode)("Importar contatos"),ao=(0,a.createTextVNode)("Combinar contatos duplicados"),io=(0,a.createTextVNode)("Copiar código do contato"),ro={class:"u-container"},lo={key:0,class:"bg-white q-pa-xl text-center"},so=(0,a.createTextVNode)(" Não é possível acessar este recurso como "),no=(0,a.createElementVNode)("strong",null,"consumidor",-1),co=(0,a.createTextVNode)(". Por favor, cadastre ou selecione um contato. "),mo={class:"text-center q-mt-sm"};var uo=t(15358),po=t(69269);const ho=(0,a.createTextVNode)("Combinar Contatos"),Co={class:"row justify-end"},vo={data:()=>({origem:{},destino:{}}),methods:{onHide(){this.$emit("update:modelValue",!1)},async combinar(){$q.dialog({message:"Ao continuar você irá combinar todas as informações dos dois contatos em apenas um contato.",title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Combinar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{try{$q.loading.show();const e=await $utils.geeksApi({combinarContato:{funcao:"1C2ABCA8-AF5A-45CA-B799-774E43FA7F96",idContatoCombinar:this.destino.id,idContatoRemover:this.origem.id}});$q.notifyPositive(e.data.combinarContato.mensagem)}catch(e){$q.notifyError("Ocorreu um erro ao combinar contatos",e)}finally{$q.loading.hide()}}))},async selecionarCombinarOrigem(){const e=await $g.promptContato.show({filtro:{ativo:!0,somenteCarteira:!0}});$lodash.get(e,"id")&&(this.origem=e)},async selecionarCombinarDestino(){const e=await $g.promptContato.show({filtro:{ativo:!0,somenteCarteira:!0}});$lodash.get(e,"id")&&(this.destino=e)}},emits:["update:modelValue"],props:{modelValue:{required:!0,type:Boolean}}};var fo=t(46229);const No=(0,T.Z)(vo,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-input"),m=(0,a.resolveComponent)("q-card-section"),u=(0,a.resolveComponent)("q-form"),p=(0,a.resolveComponent)("q-card"),h=(0,a.resolveComponent)("q-dialog"),C=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(h,{modelValue:t.modelValue,"onUpdate:modelValue":o[2]||(o[2]=e=>t.modelValue=e),onHide:l.onHide},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[ho])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",icon:"close",round:""},null,512),[[C]])])),_:1}),(0,a.createVNode)(u,{onSubmit:l.combinar},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:r.origem.nome,"onUpdate:modelValue":o[0]||(o[0]=e=>r.origem.nome=e),color:"primary",placeholder:"Buscar Contato",label:"Pegar dados de",onClick:l.selecionarCombinarOrigem},null,8,["modelValue","onClick"]),(0,a.createVNode)(d,{modelValue:r.destino.nome,"onUpdate:modelValue":o[1]||(o[1]=e=>r.destino.nome=e),color:"primary",placeholder:"Buscar Contato",label:"Transferir para",onClick:l.selecionarCombinarDestino},null,8,["modelValue","onClick"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Co,[(0,a.withDirectives)((0,a.createVNode)(n,{flat:"",color:"tertiary",label:"Cancelar"},null,512),[[C]]),(0,a.createVNode)(n,{unelevated:"",color:"primary",type:"submit",label:"Combinar"})])])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue","onHide"])}]]);Z()(vo,"components",{QDialog:k.Z,QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QForm:fo.Z,QCardSection:q.Z,QInput:re.Z}),Z()(vo,"directives",{ClosePopup:J.Z});const Vo=(0,a.createTextVNode)(" Importar contatos "),go={class:"q-pa-md"};var xo=t(91330);const bo={endereco:{lista:{id:{tipo:"id"},idContato:{tipo:"id"},logradouro:{tipo:"texto"},numero:{tipo:"texto"},complemento:{tipo:"texto"},condominio:{tipo:"texto"},bairro:{tipo:"texto"},cep:{tipo:"texto"},ibgeCod:{tipo:"texto"},municipio:{tipo:"texto"},uf:{tipo:"texto"},pais:{tipo:"texto"},grupo:{tipo:"texto"},cidadeCodChave:{tipo:"texto"},observacao:{tipo:"texto"},idCidade:{tipo:"id"}}},telefone:{lista:{id:{tipo:"id"},tipoTelefone:{tipo:"texto"},telefone:{tipo:"texto"},observacao:{tipo:"texto"},idContato:{tipo:"id"}}},id:{tipo:"id"},codigoContato:{tipo:"numerico"},nome:{tipo:"texto"},apelido:{tipo:"texto"},numeroDocumentoNacional:{tipo:"texto"},idContatoAssistente:{tipo:"id"},idContatoIndicacao:{tipo:"id"},idContatoMatriz:{tipo:"id"},idContatoTransportadora:{tipo:"id"},idContatoVendedor:{tipo:"id"},idFormaPagamento:{tipo:"id"},idItemTabelaPreco:{tipo:"id"},tipoDocumentoNacional:{tipo:"texto"},numeroDocumentoEstadual:{tipo:"texto"},numeroDocumentoMunicipal:{tipo:"texto"},site:{tipo:"texto"},email:{tipo:"texto"},emailNfe:{tipo:"texto"},sexo:{tipo:"texto"},segmento:{tipo:"texto"},condutaObservacao:{tipo:"texto"},condutaRestricao:{tipo:"texto"},observacao:{tipo:"texto"},observacaoConsulta:{tipo:"texto"},dataAbertura:{tipo:"dataHora"},dataCadastro:{tipo:"dataHora"},dataAlteracao:{tipo:"dataHora"},dataConsulta:{tipo:"dataHora"},codigoContatoVendedor:{tipo:"numerico"},codigoContatoAssistente:{tipo:"numerico"},codigoContatoIndicacao:{tipo:"numerico"},codigoContatoTransportadora:{tipo:"numerico"},codigoItemTabelaPreco:{tipo:"numerico"},codigoFormaPagamento:{tipo:"numerico"},condicaoPagamento:{tipo:"texto"},codigoAntigo:{tipo:"texto"},imagem:{tipo:"texto"},codigoGrupo:{tipo:"numerico"},ativo:{tipo:"logico"},excluido:{tipo:"logico"},codigoContatoPlataforma:{tipo:"numerico"},regime:{tipo:"texto"},observacaoNFE:{tipo:"texto"},limiteCredito:{tipo:"texto"},nSerieCert:{tipo:"texto"},codigoUsuario:{tipo:"texto"},crmCurvaABC:{tipo:"texto"},crmValorTotalVendasPeriodo:{tipo:"texto"},crmValorTotalOrcamentos:{tipo:"texto"},crmDataUltimoOrcamento:{tipo:"dataHora"},crmValorTotalVendasMesAtual:{tipo:"texto"},crmMetaProximaVenda:{tipo:"texto"},crmMargem:{tipo:"texto"},crmDataPrimeraVenda:{tipo:"dataHora"},crmDiasUltimaVenda:{tipo:"texto"},crmFrequenciaVenda:{tipo:"texto"},crmFrequenciaStatus:{tipo:"texto"},crmStatusFinanceiro:{tipo:"texto"},crmAcao:{tipo:"texto"},crmDataUltimoContato:{tipo:"dataHora"},cobrancaDataPrevisao:{tipo:"dataHora"},creditoUtilizado:{tipo:"decimal"},creditoDevolucao:{tipo:"decimal"},creditoDisponivel:{tipo:"decimal"},idUsuario:{tipo:"id"}},wo={alterados:0,arquivo:null,cor:"text-negative",corFinal:"",erro:"",erros:0,incluidos:0,listaErros:[],mensagem:"",mensagemFinal:"",modalResultado:!1},_o={data:()=>({importar:$utils.clonarV2(wo)}),emits:["update:modelValue"],methods:{beforeShow(){this.importar.arquivo=null,this.importar.mensagem="",this.importar.mensagemFinal="",this.importar.erro=""},hide(){this.$emit("update:modelValue",!1)},async prepareFile(e){try{const t=await(o=e[0],new Promise(((e,t)=>{const a=new FileReader;a.readAsBinaryString(o),a.onload=()=>e(a.result),a.onerror=e=>t(e)})));await this.importarArquivo(t),this.hide(),this.$q.notify({type:"positive",message:"Importação realizada com sucesso"})}catch(e){this.importar.erro="Ocorreu erro ao importar contatos",this.$q.notifyError(this.importar.erro,e)}var o},templateDownload(){window.open("statics/downloads/B15-Importar-ou-Atualizar-Contatos.xlsx","_self")},async importarArquivo(e){try{this.importar.modalResultado=!0,this.importar.mensagem="Carregando o arquivo .xlsx",this.importarLista=await $erp().contato.toArray();const o={Contato:bo,ContatoTelefone:bo.telefone.lista,ContatoEndereco:bo.endereco.lista};await(0,xo.Z)(e,o,this.importarCallbackParcial,this.importarCallbackErro,this.importarCallbackFinal)}catch(e){e.name&&"ErroValidacao"===e.name?(this.importar.erro=e.message,this.$q.notifyError(e.message,e)):(this.importar.erro="Ocorreu erro ao importar arquivo xlsx",this.$q.notifyError(this.importar.erro,e))}},async importarCallbackErro(e,o){this.importar.erros++,this.importar.listaErros.length<20&&this.importar.listaErros.push({linha:e,mensagem:o})},async importarCallbackFinal(e){this.importar.incluidos+this.importar.alterados>0?this.importar.erros>0?(this.importar.corFinal="bg-warning",this.importar.mensagemFinal="Importação realizada parcialmente!"):(this.importar.corFinal="bg-positive text-white",this.importar.mensagemFinal="Importação concluída com sucesso!"):this.importar.erros>0?(this.importar.corFinal="text-negative",this.importar.mensagemFinal="Importação não realizada!"):(this.importar.corFinal="bg-warning",this.importar.mensagemFinal="Importação não realizada!")},acertarEnderecos(e){for(const o of e.atual.endereco){o.id=$utils.uuid(),o.idContato=e.atual.id;let t=(o.cep||"").replace(/[^0-9]/g,"");8===t.length&&(o.cep=t.substr(0,5)+"-"+t.substr(5,3)),o.pais||(o.pais="Brasil")}for(const o of e.original.endereco||[]){let t=e.atual.endereco.find((e=>{let t=$utils.diferencaNivel1(e,o);return delete t.id,0===Object.keys(t).length}));t?t.id=o.id:e.atual.endereco.push(o)}},acertarTelefones(e){for(const o of e.atual.telefone)o.id=$utils.uuid(),o.idContato=e.atual.id;for(const o of e.original.telefone||[]){let t=e.atual.telefone.find((e=>{let t=$utils.diferencaNivel1(e,o);return delete t.id,0===Object.keys(t).length}));t?t.id=o.id:e.atual.telefone.push(o)}},async importarCallbackParcial(e){const o=e.Contato[0];e.ContatoEndereco&&(o.endereco=e.ContatoEndereco),e.ContatoTelefone&&(o.telefone=e.ContatoTelefone);const t=e.chaves.length>0?t=>e.chaves.reduce(((e,a)=>e&&t[a]===o[a]),!0):e=>!1,a=this.importarLista.filter(t);if(o.numeroDocumentoNacional){const e=this.importarLista.filter((e=>e.numeroDocumentoNacional===o.numeroDocumentoNacional));if(e.length>1)throw new $utils.ErroValidacao(`NumeroDocumentoNacional deve ser único (${o.numeroDocumentoNacional})`);if(1===e.length){if(0===a.length)throw new $utils.ErroValidacao(`NumeroDocumentoNacional deve ser único (${o.numeroDocumentoNacional})`);if(e[0].id!==a[0].id)throw new $utils.ErroValidacao(`NumeroDocumentoNacional deve ser único (${o.numeroDocumentoNacional})`)}}const i=$utils.dataAtual();if(0===a.length){const e={...$db.contato.vazio,dataCadastro:i,dataAlteracao:i,...o,id:$utils.uuid()};let t={atual:e,original:{}};this.acertarEnderecos(t),this.acertarTelefones(t),await $db.contato.gravaImportarContato(t),this.importarLista.push(e),this.importar.incluidos++}else{if(1!==a.length){const t=e.chaves.map((e=>e+": "+o[e])).join(", ");throw new $utils.ErroValidacao(`Existem ${a.length} contatos no banco com a chave (${t})`)}{let e=await $db.contato.leCompletoV2(a[0].id);o.id=e.atual.id,Object.assign(e.atual,o),this.acertarEnderecos(e),this.acertarTelefones(e),await $db.contato.gravaImportarContato(e),this.importar.alterados++}}}},props:{modelValue:{required:!0,type:Boolean}}};var yo=t(56673);const Io=(0,T.Z)(_o,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-toolbar"),c=(0,a.resolveComponent)("q-uploader"),d=(0,a.resolveComponent)("q-btn"),m=(0,a.resolveComponent)("row"),u=(0,a.resolveComponent)("q-card"),p=(0,a.resolveComponent)("q-dialog");return(0,a.openBlock)(),(0,a.createBlock)(p,{modelValue:t.modelValue,"onUpdate:modelValue":o[0]||(o[0]=e=>t.modelValue=e),onBeforeShow:l.beforeShow,onHide:l.hide},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[Vo])),_:1})])),_:1}),(0,a.createElementVNode)("div",go,[(0,a.createVNode)(c,{label:"Selecione o arquivo (.xlsx)","hide-upload-btn":"","auto-upload":"",factory:l.prepareFile},null,8,["factory"]),r.importar.erro?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:(0,a.normalizeClass)(["row","q-pa-sm",r.importar.cor])},(0,a.toDisplayString)(r.importar.erro),3)):((0,a.openBlock)(),(0,a.createBlock)(m,{key:1,class:"q-mt-md justify-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"primary",flat:"",icon:"cloud_download",onClick:l.templateDownload,label:"Baixar arquivo modelo (.xlsx)"},null,8,["onClick"])])),_:1}))])])),_:1})])),_:1},8,["modelValue","onBeforeShow","onHide"])}]]);Z()(_o,"components",{QDialog:k.Z,QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QUploader:yo.Z,QBtn:H.Z});const Eo={class:"bg-gradiente text-white"},So={class:"u-container"};var Mo=t(48409);const To={data:()=>({abaSelecionada:"",abas:[]}),methods:{async atualizar(){this.abas=[],this.abaSelecionada=null;let e=JSON.parse(localStorage.getItem("clienteSistema"))||{};if(!(e||{}).idSistema)return;const o=(await Mo.s.objeto.where({nomeObjeto:this.objetoPai}).toArray()).find((e=>e.id));if(!(o||{}).id)return;let t=await Mo.s.sistemaObjeto.where({idPai:o.id,idSistema:e.idSistema}).toArray();if(!t.length)return;const a=await Mo.s.objeto.where("id").anyOf(t.map((e=>e.idObjeto))).toArray();if(!a.length)return;t=t.sort(((e,o)=>(e.ordem||0)>(o.ordem||0)?1:-1));const i=[];for(const e of t){const o=a.find((o=>o.id===e.idObjeto)),t=JSON.parse(o.rota||null)||{};await ue.db.permissao.objeto(o.nomeObjeto)&&("componente"!==o.tipo||o.menuPrincipal||(!o.menuDesenvolvimento||ue.db.usuario.logado.desenvolvedor&&ue.db.usuario.logado.desenvolvedor())&&i.push({icon:o.icone||"",label:o.descricao||"",to:{name:t.name||""}}))}if(!i.length)return;let r=i.find((e=>e.to.name===this.$route.name));r||(r=i[0]),this.irPara(r.to),this.abaSelecionada=r.to.name,this.abas=i},irPara(e){this.$router.push({...e,...this.$route.params.id?{params:{id:this.$route.params.id}}:{}}),this.abaSelecionada=e.name}},props:{objetoPai:{type:String,required:!0}},watch:{"$route.name"(){this.abaSelecionada=this.$route.name}},mounted(){this.atualizar()}};var ko=t(16078),Do=t(38837);const qo=(0,T.Z)(To,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-tab"),n=(0,a.resolveComponent)("q-tabs");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",Eo,[(0,a.createElementVNode)("div",So,[(0,a.createVNode)(n,{modelValue:r.abaSelecionada,"onUpdate:modelValue":o[0]||(o[0]=e=>r.abaSelecionada=e),align:"justify",dense:"","indicator-color":"light-blue-4",color:"transparent","text-color":"white",class:"text-white q-mb-md"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.abas,((e,o)=>((0,a.openBlock)(),(0,a.createBlock)(s,{class:"Layout-aba",name:e.to.name,label:e.label,icon:e.icon,key:o,onClick:o=>l.irPara(e.to)},null,8,["name","label","icon","onClick"])))),128))])),_:1},8,["modelValue"])])]),(0,a.renderSlot)(e.$slots,"default")],64)}]]);Z()(To,"components",{QTabs:ko.Z,QTab:Do.Z});var Fo=t(58294);const Po={components:{Avatar:uo.Z,Badge:S.Z,Tutorial:po.Z,ModalCombinarContato:No,ImportarContatos:Io,MenuAbas:qo},computed:{badge(){return this.contato.ativo?this.contato.condutaRestricao?{cor:"negative",rotulo:"Restrição"}:!!this.contato.condutaObservacao&&{cor:"warning",rotulo:"Observação"}:{cor:"tertiary",rotulo:"Excluído"}},badgeDetalhes(){const{ativo:e,condutaRestricao:o,condutaObservacao:t}=this.contato;return e&&(o||t)||!1},podeAcessar(){return!this.contatoConsumidor&&!!this.contato},telefone(){let e=this.contato.telefone;return!(!e||!e.length)&&(e=e.find((e=>"Principal"===e.tipo))||e[0],e.telefone)},usuario:()=>$db.usuario.logado},data:()=>({contato:$db.contato.vazio,carregando:!1,modalCombinar:!1,contatosAtivos:[],contatosInativos:[],contatosInativosModal:!1,modalImportar:!1,contatoConsumidor:!1,sincronismoStatus:l.t.status}),methods:{refresher(){this.$router.go()},abrirContato(e){e&&this.$router.push({name:this.$route.name,params:{id:e}}),this.contatosInativosModal=!1,this.contatosModal=!1},async buscarContato(){const e=await $g.promptContato.show({filtro:{ativo:!0,somenteCarteira:!0},placeholder:"Selecione o contato"});$lodash.get(e,"id")&&($db.contato.selecionado=await $db.contato.le({id:e.id}),this.$router.push({name:this.$route.name,params:{id:e.id}}))},async adicionarContato(){this.$refs.componentefilho&&this.$refs.componentefilho.desejaDescartar&&!await this.$refs.componentefilho.desejaDescartar()||$q.dialog({message:"Qual é o nome completo?",preventClose:!0,prompt:{type:"text"},title:"Cadastrar contato",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Criar",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk((async e=>{try{$q.loading.show();let o="";const t=($db.usuario.logado.cpf||"").replace(/\D/g,"");if(t){let e;await $db.contatoBusca.inicializar();for(const o in $db.contatoBusca.novoContatos)if(($db.contatoBusca.novoContatos[o].numeroDocumentoNacional||"").replace(/\D/g,"")===t){e=o;break}if(e){(await $erp().contatoGrupo.where({idContato:e}).toArray()).find((e=>~["vendedor","vendedora","vendedores","vendedor(a)"].indexOf((e.descricao||"").toLowerCase())))&&(o=e)}}const a={id:(0,Fo.uuid)(),nome:e,ativo:!0,idContatoVendedor:o};await $db.contato.grava({contato:a});let i="AtendimentoContato";-1!==this.$route.name.indexOf("Atendimento")&&(i=this.$route.name),this.$router.push({name:i,params:{id:a.id}})}catch(e){$q.notifyError("Erro ao cadastrar contato.",e)}finally{$q.loading.hide()}}))},async buscarContatoExcluido(){if(this.$refs.componentefilho&&this.$refs.componentefilho.desejaDescartar&&!await this.$refs.componentefilho.desejaDescartar())return;const e=await $g.promptContato.show({filtro:{ativo:!1,somenteCarteira:!0}});e.id&&this.$router.push({name:this.$route.name,params:{id:e.id}})},async carregarContato(){if(!this.carregando){this.carregando=!0;try{let e=this.$route.params.id;e="0"===e?null:e;let o={};this.contatoConsumidor=!1,e&&(o=await $db.contato.le({id:e}),e=(o||{}).id);const t=await $db.configuracoes.leValorNumerico("venda.codigoconsumidor");if(o.codigoContato===t)this.contatoConsumidor=!0;else if(!e&&t){const a=await(0,Mo.X)().contato.where({codigoContato:t}).toArray();(0,Fo.verificarErro)(!a.length||!a[0].id,"Contato consumidor não encontrado."),o=a[0],e=o.id,this.contatoConsumidor=!0}if(!e)return;this.contato=$db.contato.selecionado=o,localStorage.setItem("contatoSelecionado",e)}catch(e){this.$q.notifyError("Erro ao carregar contato",e)}finally{this.carregando=!1}}},copiarUid(){const e=this.$refs.uid;e.type="text";try{e.select(),document.execCommand("copy"),this.$q.notify({message:"Copiado!",type:"info"})}catch(e){this.$q.notify("Erro ao copiar.")}e.type="hidden",window.getSelection().removeAllRanges()},async selecionarCombinarContatos(e){}},watch:{"$route.params.id"(e){~this.$route.name.indexOf("Atendimento")&&this.carregarContato()},"sincronismoStatus.concluidoErp"(){~this.$route.name.indexOf("Atendimento")&&this.carregarContato()}},created(){this.carregarContato(),$utils.emitter.off("carregarContatoAtendimentoLayout"),$utils.emitter.on("carregarContatoAtendimentoLayout",this.carregarContato),$utils.emitter.off("adicionarContato"),$utils.emitter.on("adicionarContato",this.adicionarContato)}};var Ao=t(4957),Bo=t(54707);const Lo=(0,T.Z)(Po,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("avatar"),n=(0,a.resolveComponent)("q-tooltip"),c=(0,a.resolveComponent)("badge"),d=(0,a.resolveComponent)("q-toolbar-title"),m=(0,a.resolveComponent)("q-btn"),u=(0,a.resolveComponent)("Tutorial"),p=(0,a.resolveComponent)("q-icon"),h=(0,a.resolveComponent)("q-item-section"),C=(0,a.resolveComponent)("q-item-label"),v=(0,a.resolveComponent)("q-item"),f=(0,a.resolveComponent)("q-list"),N=(0,a.resolveComponent)("q-menu"),V=(0,a.resolveComponent)("row"),g=(0,a.resolveComponent)("q-toolbar"),x=(0,a.resolveComponent)("router-view"),b=(0,a.resolveComponent)("MenuAbas"),w=(0,a.resolveComponent)("ImportarContatos"),_=(0,a.resolveComponent)("ModalCombinarContato"),y=(0,a.resolveComponent)("q-page"),I=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(y,{id:"Atendimento",class:"Atendimento"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{class:"bg-gradiente text-white"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Xe,[(0,a.createVNode)(V,{class:"items-center q-mx-none q-px-none q-py-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:r.contato.imagem,rotulo:!!l.podeAcessar&&r.contato.apelido,tamanho:"40"},null,8,["imagem","rotulo"]),(0,a.createVNode)(d,null,{subtitle:(0,a.withCtx)((()=>[l.telefone?((0,a.openBlock)(),(0,a.createElementBlock)("span",We,(0,a.toDisplayString)(l.telefone),1)):(0,a.createCommentVNode)("",!0)])),default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.contato.apelido)+" ",1),l.badge?((0,a.openBlock)(),(0,a.createBlock)(c,(0,a.mergeProps)({key:0,class:"q-ml-sm",denso:"",escuro:""},l.badge),{default:(0,a.withCtx)((()=>[l.badgeDetalhes?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0,class:"Atendimento-badgeDetalhes"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.badgeDetalhes),1)])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1},16)):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(m,{flat:"",dense:"",icon:"search",round:"",size:"md",onClick:l.buscarContato},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[Ke])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)(m,{flat:"",dense:"",icon:"person_add",round:"",size:"md",onClick:l.adicionarContato},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[eo])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)(u,{componente:"AtendimentoLayout"}),(0,a.createVNode)(m,{icon:"more_vert",flat:"",dense:"",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(v,{clickable:"",onClick:l.buscarContatoExcluido},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{name:"search"})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[oo])),_:1})])),_:1})])),_:1},8,["onClick"]),[[I]]),(0,a.withDirectives)((0,a.createVNode)(v,{clickable:"",onClick:o[0]||(o[0]=e=>r.modalImportar=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{name:"import_export"})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[to])),_:1})])),_:1})])),_:1},512),[[I]]),(0,a.createVNode)(v,{clickable:"",onClick:o[1]||(o[1]=()=>{this.modalCombinar=!0})},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{name:"compare_arrows"})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[ao])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(v,{clickable:"",onClick:l.copiarUid},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{name:"file_copy"})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[io])),_:1})])),_:1}),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"hidden","onUpdate:modelValue":o[2]||(o[2]=e=>r.contato.id=e),ref:"uid"},null,512),[[a.vModelText,r.contato.id]])])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1}),(0,a.createVNode)(b,{objetoPai:"atendimento"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ro,[l.podeAcessar||["AtendimentoVenda","AtendimentoFatura"].includes(e.$route.name)?((0,a.openBlock)(),(0,a.createBlock)(x,{key:1,ref:"componentefilho"},null,512)):((0,a.openBlock)(),(0,a.createElementBlock)("div",lo,[so,no,co,(0,a.createElementVNode)("div",mo,[(0,a.createVNode)(m,{class:"q-ma-sm no-shadow",color:"primary",unelevated:"",icon:"person_add",label:"Novo contato",onClick:l.adicionarContato},null,8,["onClick"]),(0,a.createVNode)(m,{class:"q-ma-sm no-shadow",color:"primary",unelevated:"",icon:"search",label:"Buscar contato",onClick:l.buscarContato},null,8,["onClick"])])]))])])),_:1}),(0,a.createVNode)(w,{modelValue:r.modalImportar,"onUpdate:modelValue":o[3]||(o[3]=e=>r.modalImportar=e)},null,8,["modelValue"]),(0,a.createVNode)(_,{modelValue:r.modalCombinar,"onUpdate:modelValue":o[4]||(o[4]=e=>r.modalCombinar=e)},null,8,["modelValue"])])),_:1})}]]);Z()(Po,"components",{QPage:se.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QTooltip:Ao.Z,QBtn:H.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QIcon:L.Z,QItemLabel:j.Z}),Z()(Po,"directives",{ClosePopup:J.Z});const Oo={class:"AtendimentoAnotacoes bg-light rounded-borders"},zo={class:"ChatMensagens-mensagens q-pa-sm",ref:"mensagens"},jo={class:"u-container q-px-none q-pt-md"},$o={class:"col"},Uo={components:{Avatar:uo.Z},data:()=>({dialogos:[],estaEnviando:!1,mensagem:""}),methods:{async carregarAnotacoes(){this.dialogos=await ue.db.contatoAnotacao.leAnotacoesDeUmContato(this.$route.params.id)},async enviarMensagem(){try{if(this.estaEnviando)return;if(!this.mensagem)return;this.estaEnviando=!0,await ue.db.contatoAnotacao.grava({id:(0,Fo.uuid)(),descricao:this.mensagem,idContato:this.$route.params.id,idContatoUsuario:ue.db.usuario.logado.id,tipo:"Atendimento 4.0",dataHora:(0,Fo.dataAtual)()}),await this.carregarAnotacoes(),this.mensagem="",this.$nextTick(this.rolarMensagens)}catch(e){this.$q.notifyError("Ocorreu um erro ao enviar mensagem",e)}finally{this.estaEnviando=!1}},rolarMensagens(){const e=this.$refs.mensagens;e.scrollTop=e.scrollHeight}},watch:{"$route.params.id"(){this.carregarAnotacoes()}},created(){this.carregarAnotacoes()},mounted(){this.rolarMensagens()}};var Zo=t(65267);const Qo=(0,T.Z)(Uo,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("avatar"),n=(0,a.resolveComponent)("q-chat-message"),c=(0,a.resolveComponent)("q-btn"),d=(0,a.resolveComponent)("q-input"),m=(0,a.resolveComponent)("row"),u=(0,a.resolveComponent)("q-footer");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createElementVNode)("div",zo,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.dialogos,((e,o)=>((0,a.openBlock)(),(0,a.createBlock)(n,{name:e.usuarioApelido,sent:e.enviado,stamp:e.rotulo,text:e.mensagens,key:o},{avatar:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:e.usuarioImagem,rotulo:e.usuarioApelido,tamanho:"50"},null,8,["imagem","rotulo"])])),_:2},1032,["name","sent","stamp","text"])))),128))],512),(0,a.createVNode)(u,{class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",jo,[(0,a.createVNode)(m,{class:"ChatMensagens-enviar bg-white q-col-gutter-md q-px-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",$o,[(0,a.createVNode)(d,{autofocus:"",disabled:r.estaEnviando,loading:r.estaEnviando,placeholder:"Digite sua mensagem",value:"",modelValue:r.mensagem,"onUpdate:modelValue":o[0]||(o[0]=e=>r.mensagem=e),modelModifiers:{trim:!0},onKeyup:(0,a.withKeys)(l.enviarMensagem,["enter"])},{append:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{icon:"send",unelevated:"",round:"",class:"bg-primary text-white",onClick:l.enviarMensagem},null,8,["onClick"])])),_:1},8,["disabled","loading","modelValue","onKeyup"])])])),_:1})])])),_:1})])}]]);Z()(Uo,"components",{QChatMessage:Zo.Z,QFooter:Te.Z,QInput:re.Z,QBtn:H.Z});const Ro={components:{ChatMensagens:Qo}},Go=(0,T.Z)(Ro,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("chat-mensagens");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Oo,[(0,a.createVNode)(s,{class:"AtendimentoAnotacoes-mensagens"})])}]]),Ho={class:"AtendimentoFinanceiro"},Jo={class:"q-mt-md q-mb-md text-h6"},Yo={key:0},Xo=(0,a.createTextVNode)("Receber"),Wo={key:1},Ko={class:"q-mt-md q-mb-md text-h6"},et={header:"",class:"text-weight-bold"},ot=(0,a.createTextVNode)(" Saldo "),tt={key:0,style:{margin:"0","text-align":"right",color:"red"},class:"text-weight-bold"},at={key:1,style:{margin:"0","text-align":"right",color:"#4caf50"},class:"text-weight-bold"},it={key:2,style:{margin:"0","text-align":"right",color:"red"}},rt={key:3,style:{margin:"0","text-align":"right"}},lt={class:"col-12 col-md-6"},st=(0,a.createElementVNode)("div",{class:"text-h6 text-tertiary"}," Perfil ",-1),nt={class:"col-12 col-md-6"},ct=(0,a.createElementVNode)("div",{class:"text-h6 text-tertiary"}," Histórico ",-1),dt={key:0},mt={key:1},ut=(0,a.createTextVNode)("Fatura"),pt={class:"layout-padding q-pa-none q-pb-xl"},ht={class:"u-container"},Ct={class:"Fatura round-borders bg-grey-2 q-pb-sm"},vt={class:"row items-center"},ft={class:"col q-ma-sm q-title"},Nt=(0,a.createElementVNode)("div",{class:"text-h5"},null,-1),Vt=(0,a.createTextVNode)("Emitir cupom"),gt=(0,a.createTextVNode)("NFe de Saída/Venda"),xt=(0,a.createTextVNode)("NFe de Entrada/Devolução"),bt=(0,a.createTextVNode)("NFe de Remessa"),wt={class:"bg-grey-2"},_t={class:"q-ma-sm"},yt={key:0,class:"q-item-label",style:{color:"#0c0c0c"}},It=(0,a.createTextVNode)(" Vendas "),Et={key:1,class:"q-item-label q-mt-md",style:{color:"#0c0c0c"}},St=(0,a.createTextVNode)(" Carnês "),Mt={class:"col-12 col-md-4 border-1 q-ma-md"},Tt=(0,a.createElementVNode)("div",{class:"col-4 col-lg-3",style:{"line-height":"35px"}},"Subtotal",-1),kt={class:"col-8 text-right"},Dt=(0,a.createElementVNode)("div",{class:"col-4 col-lg-3",style:{"line-height":"50px"}},"Desconto",-1),qt={class:"col-3"},Ft={class:"col-5"},Pt=(0,a.createElementVNode)("div",{class:"col-4 col-lg-3",style:{"line-height":"35px"}},"Total",-1),At={class:"col-8 q-mt-sm text-right"},Bt=(0,a.createElementVNode)("div",{class:"col-4 col-lg-3",style:{"line-height":"35px"}},"Peso Total",-1),Lt={class:"col-8 q-mt-sm text-right"},Ot={class:"Fatura-faturamento round-borders q-ma-sm q-pa-md"},zt={class:"round-borders q-ma-sm q-pa-md"};var jt=t(91784),$t=t(7211),Ut=t(40480);const Zt={methods:{async emitirNFeV2({idVenda:e,idFatura:o},t=1,a=""){try{$utils.verificarExcecao(![1,0].includes(t)||!(e||o),"Parâmetros inválidos.");const i=o||e,r=await $db.documento.le({id:i});if($utils.verificarErro(!r||!r.status||!r.tipo,"Erro ao emitir nota. Falha na consulta da fatura/venda."),$utils.verificarErro(!this.$utils.mapearStatus(r).permiteNota,`A ${r.tipo} não foi finalizada.`),"Remessa"!==a){const t=await $db.documentoFiscalEletronico.le({idDocumento:i});if($utils.verificarErro(!t,"Falha na consulta das notas"),$utils.verificarErro(t.find((e=>"Cancelado"!==e.situacao&&e.operacao===a)),`${r.tipo} já possui nota de ${a}`),e){$utils.verificarErro("Venda"!==r.tipo,"Venda inválida");const e=await $db.documentoFiscalEletronico.le({idDocumento:r.idFatura});$utils.verificarErro(!e,"Falha na consulta das notas"),$utils.verificarErro(e.find((e=>"Cancelado"!==e.situacao&&e.operacao===a)),`Fatura da Venda já possui nota de ${a}`)}if(o){$utils.verificarErro("Fatura"!==r.tipo,"Fatura inválida");const e=await $db.documento.le({idFatura:o});let t;for(const o of e){const e=Number(o?.codigoDocumentoOperacao);if(Number.isInteger(e)&&e>0){const o=await $erp().documentoOperacao.where({codigoDocumentoOperacao:e}).toArray();t||(t=o[0]),$utils.verificarErro(t?.finalidade!==o[0]?.finalidade,"Vendas possuem operações com finalidades diferentes. Favor emitir a NFe a partir de cada venda da fatura.")}const i=await $db.documentoFiscalEletronico.le({idDocumento:o.id});$utils.verificarErro(!i,"Falha na consulta das notas"),$utils.verificarErro(i.find((e=>"Cancelado"!==e.situacao&&e.operacao===a)),`Fatura/Venda já possui nota de ${a}. Favor emitir a NFe a partir de cada venda da fatura.`)}}}await $utils.atualizarCfop(i),this.$q.loading.show({message:"Processando"}),$utils.emitter.emit("gerarNFe",i,t,a)}catch(e){this.$q.notifyError("Ocorreu um erro ao gerar NFe",e)}finally{this.$q.loading.hide()}}}};var Qt=t(72821);const Rt={class:"col-12 col-md-6 q-pl-none"},Gt=(0,a.createElementVNode)("br",null,null,-1),Ht={class:"col-4 col-md"},Jt={key:0,class:"q-my-none"},Yt={class:"q-my-none"},Xt={class:"q-my-none"},Wt={class:"col-4 col-md text-right"},Kt=(0,a.createTextVNode)("Vencimento original"),ea={class:"col-4 col-md text-right"},oa=(0,a.createTextVNode)("Vencimento"),ta={class:"col-12 col-md"},aa={class:"text-right text-h5 text-positive text-weight-bold q-my-none"},ia={class:"text-right text-weight-normal text-tertiary text-body2 q-my-none"},ra={class:"col-6"},la={class:"text-body2"},sa={class:"col-6 text-right"},na=(0,a.createTextVNode)("Migrar para nova fatura"),ca={class:"col-12 col-md-6"},da={class:"text-body2 q-my-none q-mb-md"},ma={class:"col-12 col-sm-4 col-md-2"},ua={class:"text-left q-my-none"},pa={class:"col-6 col-md-1"},ha={class:"text-left q-my-none"},Ca=(0,a.createTextVNode)("Emissão"),va={class:"col-6 col-md-1"},fa={class:"text-left q-my-none"},Na=(0,a.createTextVNode)("Competência"),Va={class:"col-12 col-sm-4 col-md-2 text-right"},ga=(0,a.createElementVNode)("p",{class:"text-subtitle1 text-weight-bold q-ma-none"}," Desconto ",-1),xa={class:"q-ma-none"},ba={class:"q-mt-xs"},wa=(0,a.createElementVNode)("small",{class:"block text-caption"},"Multa",-1),_a={class:"q-mt-xs"},ya=(0,a.createElementVNode)("small",{class:"block text-caption"},"Juros",-1),Ia=(0,a.createTextVNode)("Editar Título"),Ea={class:"layout-padding"},Sa={class:"horizontal"},Ma=(0,a.createElementVNode)("dt",{style:{"text-align":"left"}},"Valor",-1),Ta={class:"text-right"},ka={class:"horizontal"},Da=(0,a.createElementVNode)("dt",{style:{"text-align":"left"}},"Dias em Atraso",-1),qa={class:"text-right"},Fa={class:"horizontal"},Pa=(0,a.createElementVNode)("dt",{style:{"text-align":"left"}},"Multa",-1),Aa={class:"text-right"},Ba={class:"horizontal"},La=(0,a.createElementVNode)("dt",{style:{"text-align":"left"}},"Juros",-1),Oa={class:"text-right"},za={class:"horizontal"},ja=(0,a.createElementVNode)("dt",{style:{"text-align":"left"}},"Desconto",-1),$a={class:"text-right"},Ua={class:"horizontal"},Za=(0,a.createElementVNode)("dt",{style:{"text-align":"left"}},"Total",-1),Qa={class:"text-right"},Ra={class:"q-mt-lg text-right"},Ga={components:{Avatar:uo.Z},computed:{mostrarMenuTresPontos(){return this.mostrarOpcaoMigrarFatura}},data:()=>({titulo:{},tituloOriginal:{},detalhes:!1,contatos:{},documento:{},fatura:{},faturasAbertas:[],mostrarOpcaoMigrarFatura:!1,visibilidade:{botao:{remover:!1,editar:!1}},modalEditar:{visivel:!1,erroCalculo:!1,rules:[]},tema:["TituloCard","bg-white","rounded-borders"]}),emits:["executar"],methods:{irParaAtendimentoFatura(e){this.$router.push({name:"AtendimentoFatura",params:{id:e}})},async migrarFatura(e){try{await new Promise(((e,o)=>{this.$q.dialog({message:"Esta ação irá migrar esta venda para outra fatura.",noRefocus:!0,preventClose:!0,title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk((()=>{e()})).onCancel((()=>{o()}))}))}catch(e){return}if(!e&&this.titulo.idContato&&this.titulo.idEmpresa){const o=await $erp().contato.get(this.titulo.idContato)||{};let t=await $erp().contatoEndereco.where({idContato:this.titulo.idContato}).toArray(),a=await $erp().contatoTelefone.where({idContato:this.titulo.idContato}).toArray();t=t.find((e=>"Principal"===(e.grupo||"").trim().toLowerCase()))||t[0]||{},a=a.find((e=>"Principal"===(e.tipoTelefone||"").trim().toLowerCase()))||a[0]||{};const i=await $erp().contato.get(this.titulo.idEmpresa)||{};let r=await $erp().contatoEndereco.where({idContato:this.titulo.idEmpresa}).toArray();r=r.find((e=>"Principal"===e.grupo.trim().toLowerCase()))||r[0]||{},e=$db.fatura.criar({idEmpresa:i.id,idEmpresaEndereco:r.id||"",descricaoEmpresa:i.nome||"",numeroDocumentoEmpresa:i.numeroDocumentoNacional||"",inscricaoMunicipalEmpresa:i.numeroDocumentoMunicipal||"",optanteSimplesNacional:"SimplesNacional"===i.regime?"1":"0",idContato:o.id,idContatoEndereco:t.id||"",numeroDocumentoContato:o.numeroDocumentoNacional||"",descricaoContato:o.nome||"",descricaoContatoEndereco:"".concat(t.logradouro||"",", ",t.numero||""," ",t.complemento||""," - ",t.bairro||""," - ",t.municipio||"","/",t.uf||""),telefoneContato:a.telefone||"",emailContato:o.email||"",regimeContato:o.regime||"",observacaoFaturamento:""}),await $db.fatura.grava({fatura:e})}e.id?(await $db.financeiroTitulo.grava({atual:{id:this.titulo.id,idFatura:e.id},original:this.titulo}),localStorage.setItem("idFatura",e.id),this.titulo.idContato&&(this.$emit("executar","atualizar"),this.irParaAtendimentoFatura(this.titulo.idContato))):this.$q.notify("Não foi possível realizar a operação")},async salvar(){if(this.titulo.valorDesconto)try{await $db.financeiroTitulo.grava({atual:this.titulo,original:this.tituloOriginal}),this.tituloOriginal=$utils.clonar(this.titulo),this.modalEditar.visivel=!1,this.$q.notifyPositive("Título salvo."),this.$emit("executar","recalcular")}catch(e){this.$q.notifyPositive("Não foi possível salvar o título. Por favor, tente novamente.")}else this.modalEditar.visivel=!1},editar(){this.modalEditar.visivel=!0},permissaoEditar:async()=>await $db.permissao.objeto("Diretiva_Caixa_DescontoTitulo"),async desconto(){const e=$utils.arredondar((this.titulo.valorMulta||0)+(this.titulo.valorJuros||0)*(this.titulo.diasEmAtraso||0));if(this.titulo.valorDesconto<0||this.titulo.valorDesconto>e)return this.modalEditar.rules=[()=>"Desconto não permitido"],this.modalEditar.erroCalculo=!0,this.titulo.valorTotal=this.tituloOriginal.valorTotal,this.titulo.valorARealizar=this.tituloOriginal.valorARealizar,void(this.titulo.percentualDesconto=this.tituloOriginal.percentualDesconto);this.modalEditar.rules=[()=>!0],this.titulo.valorTotal=$utils.arredondar((this.titulo.valor||0)-(this.titulo.valorDesconto||0)+(this.titulo.valorMulta||0)+(this.titulo.valorJuros||0)*(this.titulo.diasEmAtraso||0)),this.titulo.valorARealizar=this.titulo.valorTotal,this.titulo.percentualDesconto=$utils.arredondar(100*(this.titulo.valorDesconto||0)/(this.titulo.valor||1)),this.modalEditar.erroCalculo=!1},alternarDetalhes(){this.detalhes=!this.detalhes},async remover(){try{await new Promise(((e,o)=>{this.$q.dialog({message:"Esta ação irá remover este título da fatura.",noRefocus:!0,preventClose:!0,title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{e()})).onCancel((()=>{o()}))}))}catch(e){return}this.titulo.idFatura="",await $db.financeiroTitulo.grava({atual:this.titulo,original:this.tituloOriginal}),this.visibilidade.botao.remover=!1,this.$q.notifyPositive("Título removido da fatura."),this.$emit("executar","remover")}},props:{dados:{required:!0,type:Object}},async mounted(){new Date(this.dados.dataVencimento).setHours(0,0,0,0)<(new Date).setHours(0,0,0,0)?this.tema.push("vencido"):this.tema=$lodash.remove(this.tema,(e=>"vencido"!==e)),this.tituloOriginal=$utils.clonar(this.dados),this.titulo=$utils.clonar(this.dados),this.titulo.documentoId&&(this.documento=await $erp().documento.get(this.titulo.documentoId)),this.visibilidade.botao.remover=!1,this.permissaoEditar().then((e=>this.visibilidade.botao.editar=e&&!this.tituloOriginal.valorRealizado)),this.contatos={};const e={};if(this.titulo.idContato){const o=await $db.contato.le({id:this.titulo.idContato});o&&(e[this.titulo.idContato]=o)}if(this.titulo.idEmpresa){const o=await $db.contato.le({id:this.titulo.idEmpresa});o&&(e[this.titulo.idEmpresa]=o)}this.contatos=e,this.mostrarOpcaoMigrarFatura=!0,this.titulo.idFatura&&$db.fatura.leNew({id:this.titulo.idFatura}).then((e=>{this.fatura=e,"Aberta"===e.status&&$db.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0).then((e=>{e.find((e=>e.id===this.titulo.idEmpresa))&&(this.visibilidade.botao.remover=!0)}))}))}},Ha=(0,T.Z)(Ga,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("avatar"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-badge"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-icon"),u=(0,a.resolveComponent)("q-tooltip"),p=(0,a.resolveComponent)("row"),h=(0,a.resolveComponent)("q-btn"),C=(0,a.resolveComponent)("q-item-section"),v=(0,a.resolveComponent)("q-item-label"),f=(0,a.resolveComponent)("q-item"),N=(0,a.resolveComponent)("q-list"),V=(0,a.resolveComponent)("q-menu"),g=(0,a.resolveComponent)("q-separator"),x=(0,a.resolveComponent)("campo"),b=(0,a.resolveComponent)("q-form"),w=(0,a.resolveComponent)("q-card"),_=(0,a.resolveComponent)("q-dialog"),y=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)([r.tema,"extratoItem bg-white q-pa-sm no-shadow"])},[(0,a.createVNode)(p,{class:"items-center q-mx-none q-px-none q-mb-sm text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Rt,[(0,a.createVNode)(d,{class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:(r.contatos[r.titulo.idContato]||{}).imagem,rotulo:(r.contatos[r.titulo.idContato]||{}).apelido,tamanho:"30"},null,8,["imagem","rotulo"]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)((r.contatos[r.titulo.idContato]||{}).apelido)+" ",1),Gt])),_:1}),r.titulo.parcela?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,rounded:"",color:"tertiary",small:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.titulo.parcela),1)])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})]),(0,a.createElementVNode)("div",Ht,[r.titulo.documentoCodigo?((0,a.openBlock)(),(0,a.createElementBlock)("p",Jt,(0,a.toDisplayString)(r.titulo.documentoTipo)+" #"+(0,a.toDisplayString)(r.documento?.numero),1)):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("p",Yt,(0,a.toDisplayString)(r.titulo.formaDePagamento),1),(0,a.createElementVNode)("p",Xt,(0,a.toDisplayString)(r.titulo.descricaoPlanoConta),1)]),(0,a.createElementVNode)("div",Wt,[r.titulo.dataVencimentoOriginal?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,name:"mdi-calendar-today"})):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.data(r.titulo.dataVencimentoOriginal))+" ",1),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[Kt])),_:1})]),(0,a.createElementVNode)("div",ea,[r.titulo.dataVencimento?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,name:"mdi-calendar-check"})):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.data(r.titulo.dataVencimento))+" ",1),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[oa])),_:1})]),(0,a.createElementVNode)("div",ta,[(0,a.createElementVNode)("p",aa,(0,a.toDisplayString)(e.$filters.numero(r.titulo.valorTotal,2)),1),(0,a.createElementVNode)("p",ia,(0,a.toDisplayString)(e.$filters.numero(r.titulo.valor,2)),1)])])),_:1}),(0,a.createVNode)(p,{class:"items-center justify-end"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ra,[(0,a.createElementVNode)("div",la,(0,a.toDisplayString)(r.titulo.descricao),1)]),(0,a.createElementVNode)("div",sa,[(0,a.createVNode)(h,{rounded:"",dense:"",flat:"",icon:"keyboard_arrow_"+(r.detalhes?"up":"down"),color:"tertiary",onClick:l.alternarDetalhes},null,8,["icon","onClick"]),r.visibilidade.botao.editar?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,rounded:"",dense:"",flat:"",icon:"edit",color:"primary",onClick:l.editar},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),r.visibilidade.botao.remover?((0,a.openBlock)(),(0,a.createBlock)(h,{key:1,rounded:"",dense:"",flat:"",icon:"clear",color:"tertiary",onClick:l.remover},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Remover da Fatura #"+(0,a.toDisplayString)(parseInt(r.fatura.numero)||(r.fatura.id||"").slice(-6)),1)])),_:1})])),_:1},8,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.renderSlot)(e.$slots,"default"),l.mostrarMenuTresPontos?((0,a.openBlock)(),(0,a.createBlock)(h,{key:2,rounded:"",dense:"",flat:"",icon:"more_vert",color:"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(N,{link:"",separator:""},{default:(0,a.withCtx)((()=>[r.mostrarOpcaoMigrarFatura?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.faturasAbertas,(e=>((0,a.openBlock)(),(0,a.createBlock)(f,{clickable:"",key:e.id,onClick:o=>l.migrarFatura(e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"mdi-folder-move"})])),_:1}),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)("Migrar para fatura #"+(e.numero||e.id.slice(-6))),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),(0,a.createVNode)(f,{clickable:"",onClick:o[0]||(o[0]=e=>l.migrarFatura())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"mdi-folder-move"})])),_:1}),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[na])),_:1})])),_:1})])),_:1})],64)):(0,a.createCommentVNode)("",!0)])),_:1},512),[[y]])])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0)])])),_:3}),r.detalhes?((0,a.openBlock)(),(0,a.createBlock)(g,{key:0,class:"hideondesktop q-my-sm"})):(0,a.createCommentVNode)("",!0),r.detalhes?((0,a.openBlock)(),(0,a.createBlock)(p,{key:1,class:"items-start q-mx-none q-px-none q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ca,[(0,a.createVNode)(d,{class:"u-autoHeight q-pa-none",color:"none",dark:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"business"}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)((r.contatos[r.titulo.idEmpresa]||{}).apelido),1)])),_:1})])),_:1}),(0,a.createElementVNode)("p",da,(0,a.toDisplayString)(r.titulo.observacao),1)]),(0,a.createElementVNode)("div",ma,[(0,a.createElementVNode)("p",ua,(0,a.toDisplayString)(r.titulo.descricaoCentroCusto),1)]),(0,a.createElementVNode)("div",pa,[(0,a.createElementVNode)("p",ha,[r.titulo.dataEmissao?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,name:"mdi-calendar-check"})):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.data(r.titulo.dataEmissao))+" ",1),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[Ca])),_:1})])]),(0,a.createElementVNode)("div",va,[(0,a.createElementVNode)("p",fa,[r.titulo.dataCompetencia?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,name:"mdi-calendar-check"})):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.data(r.titulo.dataCompetencia))+" ",1),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[Na])),_:1})])]),(0,a.createElementVNode)("div",Va,[ga,(0,a.createElementVNode)("p",xa,(0,a.toDisplayString)(e.$filters.numero(r.titulo.valorDesconto||0,2)),1),r.titulo.diasEmAtraso?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createElementVNode)("div",ba,[wa,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.$filters.numero(r.titulo.valorMulta||0,2))+" ("+(0,a.toDisplayString)(e.$filters.numero(r.titulo.percentualMulta||0,2))+"%) ",1)]),(0,a.createElementVNode)("div",_a,[ya,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.$filters.numero(r.titulo.valorTotalJuros||0,2))+" ("+(0,a.toDisplayString)(e.$filters.numero(r.titulo.percentualJuros||0,2))+"% dia) ",1)])],64)):(0,a.createCommentVNode)("",!0)])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(_,{modelValue:r.modalEditar.visivel,"onUpdate:modelValue":o[2]||(o[2]=e=>r.modalEditar.visivel=e),"content-css":{minWidth:"30vw"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{class:"q-dialog-plugin"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[Ia])),_:1}),(0,a.withDirectives)((0,a.createVNode)(h,{dense:"",flat:"",icon:"close",round:""},null,512),[[y]])])),_:1}),(0,a.createElementVNode)("div",Ea,[(0,a.createVNode)(b,{onSubmit:l.salvar,class:"q-pa-md q-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("dl",Sa,[Ma,(0,a.createElementVNode)("dd",Ta,(0,a.toDisplayString)(e.$filters.numero(r.titulo.valor,2)),1)]),(0,a.createElementVNode)("dl",ka,[Da,(0,a.createElementVNode)("dd",qa,(0,a.toDisplayString)(e.$filters.numero(r.titulo.diasEmAtraso,0)),1)]),(0,a.createElementVNode)("dl",Fa,[Pa,(0,a.createElementVNode)("dd",Aa,(0,a.toDisplayString)(e.$filters.numero(r.titulo.valorMulta,2)),1)]),(0,a.createElementVNode)("dl",Ba,[La,(0,a.createElementVNode)("dd",Oa,(0,a.toDisplayString)(e.$filters.numero(r.titulo.valorTotalJuros,2)),1)]),(0,a.createElementVNode)("dl",za,[ja,(0,a.createElementVNode)("dd",$a,[(0,a.createVNode)(x,{modelValue:r.titulo.valorDesconto,"onUpdate:modelValue":[o[1]||(o[1]=e=>r.titulo.valorDesconto=e),l.desconto],dense:"",tipo:"decimal",decimals:"2",rules:r.modalEditar.rules},null,8,["modelValue","onUpdate:modelValue","rules"])])]),(0,a.createElementVNode)("dl",Ua,[Za,(0,a.createElementVNode)("dd",Qa,(0,a.toDisplayString)(e.$filters.numero(r.titulo.valorTotal,2)),1)]),(0,a.createElementVNode)("div",Ra,[(0,a.createVNode)(h,{color:"primary",unelevated:"",label:"Salvar",type:"submit"})])])),_:1},8,["onSubmit"])])])),_:1})])),_:1},8,["modelValue"])],2)}]]);Z()(Ga,"components",{QToolbar:O.Z,QToolbarTitle:G.Z,QBadge:B.Z,QIcon:L.Z,QTooltip:Ao.Z,QBtn:H.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z,QSeparator:$.Z,QDialog:k.Z,QCard:D.Z,QForm:fo.Z}),Z()(Ga,"directives",{ClosePopup:J.Z});const Ja={class:"col-12 col-md-6 q-pl-none"},Ya={class:"col-6 col-md hideonmobile"},Xa={class:"text-left q-my-none"},Wa=(0,a.createTextVNode)(" Vendedor(a) "),Ka={class:"col-4 col-md hideonmobile"},ei={class:"text-left q-my-none"},oi=(0,a.createTextVNode)(" Emissão "),ti={class:"col-4 col-md hideonmobile"},ai={class:"text-left q-my-none"},ii=(0,a.createTextVNode)(" Finalizado "),ri={class:"col-6 col-md hideonmobile"},li={class:"text-right text-h5 text-positive text-weight-bold q-my-none"},si={class:"text-right text-weight-normal text-tertiary text-body2 q-my-none"},ni={class:"col-12 hideondesktop"},ci={class:"text-left q-my-none"},di=(0,a.createTextVNode)(" Vendedor(a) "),mi={class:"col-12 col-md-6"},ui=(0,a.createTextVNode)(" OS "),pi=(0,a.createTextVNode)(" EN "),hi={class:"col-12 col-md-6 full-height items-end hideonmobile"},Ci=(0,a.createTextVNode)("NFe de Saída/Venda"),vi=(0,a.createTextVNode)("NFe de Entrada/Devolução"),fi=(0,a.createTextVNode)("NFe de Remessa"),Ni=(0,a.createTextVNode)("Migrar para nova fatura"),Vi=(0,a.createTextVNode)("Histórico do Status"),gi={class:"col-6"},xi={class:"text-left q-my-none"},bi=(0,a.createTextVNode)(" Emissão "),wi={class:"text-left q-my-none"},_i=(0,a.createTextVNode)(" Finalizado "),yi={class:"col-6"},Ii={class:"text-right text-weight-normal text-tertiary text-body2 q-my-none"},Ei={class:"text-right text-h5 text-positive text-weight-bold q-my-none"},Si={class:"col-12 full-height items-end"},Mi=(0,a.createTextVNode)("NFe de Saída/Venda"),Ti=(0,a.createTextVNode)("NFe de Entrada/Devolução"),ki=(0,a.createTextVNode)("NFe de Remessa"),Di=(0,a.createTextVNode)("Migrar para nova fatura"),qi=(0,a.createTextVNode)("Histórico do Status"),Fi={class:"col-12 col-md-6"},Pi={class:"text-subtitle1 text-weight-bold q-ma-none items-center"},Ai={class:"q-ma-none"},Bi={key:0},Li={key:1},Oi={class:"col-6 col-md-4"},zi=(0,a.createElementVNode)("p",{class:"text-subtitle1 text-weight-bold q-ma-none"}," Faturamento ",-1),ji={class:"q-ma-none"},$i={class:"col-6 col-md-2 text-right"},Ui=(0,a.createElementVNode)("p",{class:"text-subtitle1 text-weight-bold q-ma-none"}," Desconto ",-1),Zi={class:"q-ma-none"};var Qi=t(79815),Ri=t(99807);const Gi={components:{Avatar:uo.Z,DocumentosFiscais:Ut.Z,VendaModal:Ri.Z,ModalHistoricoStatus:Qi.Z},computed:{config:()=>$db.configuracoes.valores,podeMigrarFatura(){return!~["Aguardando Estoque","Aguardando Financeiro","Aguardando Aprovação","Aguardando Pagamento","Cancelado","Não Aprovado","Orçamento","Faturado"].indexOf(this.dados.venda.status)}},data:()=>({dbUsuario:$db.usuario,dados:{venda:{}},contatos:{},faturasAbertas:[],detalhesVisivel:!1,visibilidade:{botao:{editar:!1,remover:!1}},modalDevolucaoGarantia:{visivel:!1,item:{},orcamento:{}},sistemaPai:"",configImpressaoOrcamento:[],configImpressaoEnvelope:[]}),emits:["executar"],methods:{irParaAtendimentoFatura(e){this.$router.push({name:"AtendimentoFatura",params:{id:e}})},async migrarFatura(e){try{await this.$q.dialog({message:"Esta ação irá migrar esta venda para outra fatura.",noRefocus:!0,preventClose:!0,title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-primary",textColor:"white",flat:!0}})}catch(e){return}e||(e=$db.fatura.criar(this.dados.venda),await $db.fatura.grava({fatura:e})),e.id?(await $db.venda.grava({venda:{id:this.dados.venda.id,idFatura:e.id},vendaOriginal:this.dados.venda}),localStorage.setItem("idFatura",e.id),this.dados.venda.idContato&&(this.$emit("executar","atualizar"),this.irParaAtendimentoFatura(this.dados.venda.idContato))):this.$q.notify("Não foi possível realizar a operação")},alternarDetalhes(){this.detalhesVisivel=!this.detalhesVisivel},async atualizar(){const e=await $db.venda.leCompleto(this.id);if(e.carrinho.sort(((e,o)=>new Date(e.dataHoraEmissao)<new Date(o.dataHoraEmissao)?-1:1)),e.oss.sort(((e,o)=>new Date(e.documento.dataHoraEmissao)<new Date(o.documento.dataHoraEmissao)?-1:1)),e.customs.sort(((e,o)=>new Date(e.documento.dataHoraEmissao)<new Date(o.documento.dataHoraEmissao)?-1:1)),(e.venda||{}).idContato&&(e.venda||{}).idEmpresa){let o=[];o=await $db.fatura.obterAbertas(e.venda.idContato,e.venda.idEmpresa),this.faturasAbertas=o.sort(((e,o)=>!e.numero||e.numero<o.numero?-1:1))}const o={};if(e.venda.idContato){const t=e.venda.idContato;o[t]||(o[t]=await $db.contato.le({id:t}))}if(e.venda.idContatoVendedor){const t=e.venda.idContatoVendedor;o[t]||(o[t]=await $db.contato.le({id:t}))}this.configuraImpressaoEnvelope(e.venda.idEmpresa),this.configuraImpressaoOrcamento(e.venda.idEmpresa),this.contatos=o,this.dados=e,await this.$nextTick(),e.venda.id===localStorage.getItem("idVenda")&&(this.$refs.vendaModal.mostrar({id:e.venda.id}),localStorage.removeItem("idVenda"))},async configuraImpressaoEnvelope(e){const o=await $db.configuracoes.porNome("impressao.envelope",e);this.configImpressaoEnvelope=[...o.length?o.map((e=>({texto:"Imprimir Envelope",...e}))):[{valor:"envelope",texto:"Imprimir Envelope"},{valor:"envelopeMini",texto:"Imprimir Envelope Mini"}]]},async configuraImpressaoOrcamento(e){const o=await $db.configuracoes.porNome("impressao.venda",e);this.configImpressaoOrcamento=[...o.length?o.map((e=>({texto:"Imprimir Orçamento",...e}))):[{valor:"invoice",texto:"Orçamento/Venda (Invoice)"},"optisoul"===this.sistemaPai?{valor:"orcamento",texto:"Orçamento (Antigo)"}:{}]]},copiarUid(){const e=this.$refs.uid;e.type="text";try{e.select(),document.execCommand("copy"),this.$q.notify({message:"UID copiado para a área de transferência.",type:"info"})}catch(e){this.$q.notify("Erro ao copiar.")}e.type="hidden",window.getSelection().removeAllRanges()},descricaoEnvelope(e){let o="";for(const t of this.dados.itensEnvelopes)t.idDocumentoAdicional===e&&t.descricaoItem.trim()&&(o+=t.descricaoItem.trim()+" | ");return o.slice(0,-3)},async devolucaoGarantia(e){let o=await $db.documento.le({idContato:$db.contato.selecionado.id,tipo:"Venda",status:"Orçamento"});o=$lodash.orderBy(o,"dataHoraEmissao","desc"),o.length?this.modalDevolucaoGarantia={visivel:!0,item:e,orcamento:o[0]}:this.$q.notify({message:"Crie um orçamento para inclusão de devolução/garantia.",type:"info"})},editar(){this.$refs.vendaModal.mostrar({id:this.dados.venda.id})},executar(e){switch(e){case"atualizar":this.atualizar();break;case"cancelar":case"finalizar":case"reprovar":this.$emit("executar","atualizar");break;case"retornarOrcamento":this.$emit("executar",e)}},async finalizaDevolucaoGarantia(e,o,t){const a=$utils.clonar(e);"devolucao"===o&&(a.operacao="Devolução de Venda"),"garantia"===o&&(a.operacao="Garantia de Venda",a.motivo=t),a.idDocumentoItemVenda=a.id,a.idDocumentoVenda=a.idDocumento,a.id=$utils.uuid(),a.idDocumento=this.modalDevolucaoGarantia.orcamento.id,a.status="Orçamento",a.operacaoFator=1,a.codigoCfop=20,a.idCfop=(await $db.cfop.le({codigoCfop:20}))[0].id,a.dataHoraEmissao=$utils.dataAtual(),a.dataHoraFinalizado="",a.subTotal=-1*a.subTotal,a.total=-1*a.total,a.valorItem=-1*a.valorItem,a.descontoSubTotal=0,delete a.codigoCfop,delete a.codigoDocumento,delete a.codigoDocumentoItem,delete a.codigoItem,delete a.codigoPlanoContaDestino,delete a.codigoPlanoContaEstoque,await $db.documentoItem.grava({atual:a}),this.$q.notify({message:"Item adicionado ao orçamento.",type:"positive"}),localStorage.setItem("idVenda",this.modalDevolucaoGarantia.orcamento.id),this.$emit("executar","atualizar")},async remover(){this.$q.dialog({message:"Esta ação irá remover esta venda da fatura",title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{try{await $db.venda.checarConflitoStatus({id:this.dados.venda.id,status:this.dados.venda.status})}catch(e){return $q.notifyError(e.message),!1}let e=$utils.clonar(this.dados.venda);this.dados.venda.idFatura="",await $db.venda.grava({venda:this.dados.venda,vendaOriginal:e}),this.$emit("executar","remover")}))}},mixins:[Zt],props:{id:{required:!0,type:String}},watch:{async dados(e){this.visibilidade.botao.editar=!1,this.visibilidade.botao.remover=!1,(await $db.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0)).find((o=>o.id===e.venda.idEmpresa))&&(e.venda.idFatura&&this.faturasAbertas.find((o=>o.id===e.venda.idFatura))&&(this.visibilidade.botao.remover=await $db.permissao.objeto("Diretiva_Vendas_RemoverVendaFatura")),~["Cancelado","Não Aprovado"].indexOf(e.venda.status)||e.venda.idFatura||(this.visibilidade.botao.editar=!0))}},mounted(){this.sistemaPai=$utils.sistemaPai(),this.atualizar()}},Hi=(0,T.Z)(Gi,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("avatar"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-badge"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-icon"),u=(0,a.resolveComponent)("q-tooltip"),p=(0,a.resolveComponent)("row"),h=(0,a.resolveComponent)("q-separator"),C=(0,a.resolveComponent)("q-item-label"),v=(0,a.resolveComponent)("q-item-section"),f=(0,a.resolveComponent)("q-item"),N=(0,a.resolveComponent)("q-list"),V=(0,a.resolveComponent)("q-menu"),g=(0,a.resolveComponent)("q-btn"),x=(0,a.resolveComponent)("documentos-fiscais"),b=(0,a.resolveComponent)("VendaModal"),w=(0,a.resolveComponent)("modal-historico-status"),_=(0,a.resolveComponent)("q-card"),y=(0,a.resolveDirective)("close-popup");return r.dados.venda.id?((0,a.openBlock)(),(0,a.createBlock)(_,{key:0,id:"VendaCard",class:"extratoItem bg-white q-pa-sm no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"items-center justify-between q-mx-none q-px-none q-mb-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Ja,[(0,a.createVNode)(d,{class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:(r.contatos[r.dados.venda.idContato]||{}).imagem,rotulo:r.dados.venda.descricaoContato,tamanho:"40",style:{float:"left"}},null,8,["imagem","rotulo"]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.dados.venda.descricaoContato),1)])),_:1}),(0,a.createVNode)(c,{rounded:"",color:"tertiary",small:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.dados.venda.status),1)])),_:1}),(0,a.createVNode)(c,{class:"q-ml-sm",color:"positive",escuro:"",onClick:l.copiarUid},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)(parseInt(r.dados.venda.numero)||(r.dados.venda.id||"").slice(-6))+" ",1),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"hidden","onUpdate:modelValue":o[0]||(o[0]=e=>r.dados.venda.id=e),ref:"uid"},null,512),[[a.vModelText,r.dados.venda.id]])])),_:1},8,["onClick"])])),_:1})]),(0,a.createElementVNode)("div",Ya,[(0,a.createElementVNode)("p",Xa,[r.contatos[r.dados.venda.idContatoVendedor]?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,name:"mdi-account-tie"})):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)((r.contatos[r.dados.venda.idContatoVendedor]||{}).apelido)+" ",1),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[Wa])),_:1})])]),(0,a.createElementVNode)("div",Ka,[(0,a.createElementVNode)("p",ei,[r.dados.venda.dataHoraEmissao?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,name:"mdi-calendar-today "})):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.data(r.dados.venda.dataHoraEmissao))+" ",1),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[oi])),_:1})])]),(0,a.createElementVNode)("div",ti,[(0,a.createElementVNode)("p",ai,[r.dados.venda.dataHoraFinalizado?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,name:"mdi-calendar-check"})):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.data(r.dados.venda.dataHoraFinalizado))+" ",1),r.dados.venda.dataHoraFinalizado?((0,a.openBlock)(),(0,a.createBlock)(u,{key:1},{default:(0,a.withCtx)((()=>[ii])),_:1})):(0,a.createCommentVNode)("",!0)])]),(0,a.createElementVNode)("div",ri,[(0,a.createElementVNode)("p",li,(0,a.toDisplayString)(e.$filters.numero(r.dados.venda.totalDocumento,2)),1),(0,a.createElementVNode)("p",si,(0,a.toDisplayString)(e.$filters.numero(r.dados.venda.subTotal,2)),1)])])),_:1}),(0,a.createVNode)(h,{class:"hideondesktop q-mb-sm"}),(0,a.createVNode)(p,{class:"q-mx-none q-px-none items-center"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ni,[(0,a.createElementVNode)("p",ci,[r.contatos[r.dados.venda.idContatoVendedor]?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,name:"mdi-account-tie"})):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)((r.contatos[r.dados.venda.idContatoVendedor]||{}).apelido)+" ",1),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[di])),_:1})])]),(0,a.createElementVNode)("div",mi,[(0,a.createVNode)(N,{class:"no-border text-tertiary"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.dados.carrinho,(o=>((0,a.openBlock)(),(0,a.createBlock)(f,{key:o.id,class:"q-pa-none q-mb-xs",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:"",class:"mw80"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.quantidade)+"x",1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.descricaoItem),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(v,{side:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(o.total,2)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.dados.customs,(o=>((0,a.openBlock)(),(0,a.createBlock)(f,{key:o.documento.id,class:"q-pa-none q-mb-xs",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:"",class:"mw80"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.documento.numero)+"x ",1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.documento.descricao),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(v,{side:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(o.documento.totalDocumento,2)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.dados.oss,(o=>((0,a.openBlock)(),(0,a.createBlock)(f,{key:o.documento.id,class:"q-pa-none q-mb-xs",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:"",class:"mw80"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[ui,(0,a.createVNode)(c,{color:"tertiary",small:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("#"+(0,a.toDisplayString)(o.documento.numero),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.documento.descricao),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(v,{avatar:"",class:"mw50"},{default:(0,a.withCtx)((()=>["Orçamento"!==o.documento.status?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,rounded:"",color:"tertiary",small:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.documento.status),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0)])),_:2},1024),(0,a.createVNode)(v,{right:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(o.documento.totalDocumento,2)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.dados.envelopes,(o=>((0,a.openBlock)(),(0,a.createBlock)(f,{key:o.id,class:"q-pa-none q-mb-xs",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:"",class:"mw80"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[pi,(0,a.createVNode)(c,{color:"tertiary",small:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)(parseInt(o.numero)||(o.id||"").slice(-6))+" ",1),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.tipo)+" - "+(0,a.toDisplayString)(o.descricaoContato),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.descricaoEnvelope(o.id)),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>["Orçamento"!==o.status?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,rounded:"",color:"tertiary",small:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.status),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0)])),_:2},1024),(0,a.createVNode)(v,{right:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(o.totalDocumento,2)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})]),(0,a.createElementVNode)("div",hi,[(0,a.createVNode)(h,{class:"hideondesktop q-mb-sm q-mt-xs"}),(0,a.createVNode)(g,{rounded:"",dense:"",flat:"",icon:"more_vert",color:"tertiary",class:"no-shadow q-mx-xs",size:"md",style:{float:"right"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(N,{link:"",separator:""},{default:(0,a.withCtx)((()=>[e.$utils.mapearStatus(r.dados.venda).permiteNota?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.withDirectives)((0,a.createVNode)(f,{clickable:"",onClick:o[1]||(o[1]=o=>e.emitirNFeV2({idVenda:r.dados.venda.id},1,"Venda"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"account_balance"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[Ci])),_:1})])),_:1},512),[[y]]),(0,a.withDirectives)((0,a.createVNode)(f,{clickable:"",onClick:o[2]||(o[2]=o=>e.emitirNFeV2({idVenda:r.dados.venda.id},0,"Devolução"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"account_balance"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[vi])),_:1})])),_:1},512),[[y]]),(0,a.withDirectives)((0,a.createVNode)(f,{clickable:"",onClick:o[3]||(o[3]=o=>e.emitirNFeV2({idVenda:r.dados.venda.id},1,"Remessa"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"account_balance"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[fi])),_:1})])),_:1},512),[[y]])],64)):(0,a.createCommentVNode)("",!0),l.podeMigrarFatura?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.faturasAbertas.filter((e=>e.id!==r.dados.venda.idFatura)),(e=>(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(f,{clickable:"",key:e.id,onClick:o=>l.migrarFatura(e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"mdi-folder-move"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)("Migrar para fatura #"+(e.numero||e.id.slice(-6))),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[y]]))),128)),(0,a.withDirectives)((0,a.createVNode)(f,{clickable:"",onClick:o[4]||(o[4]=e=>l.migrarFatura())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"mdi-folder-move"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[Ni])),_:1})])),_:1},512),[[y]])],64)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(f,{clickable:"",onClick:o[5]||(o[5]=o=>e.$refs.modalHistoricoStatus.mostrar({idDocumento:r.dados.venda.id}))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"history"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[Vi])),_:1})])),_:1})])),_:1},512),[[y]])])),_:1})])),_:1}),r.visibilidade.botao.remover?((0,a.openBlock)(),(0,a.createBlock)(g,{key:0,rounded:"",dense:"",flat:"",icon:"clear",color:"tertiary",class:"no-shadow q-mx-xs",size:"md",onClick:l.remover,style:{float:"right"}},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),r.visibilidade.botao.editar?((0,a.openBlock)(),(0,a.createBlock)(g,{key:1,rounded:"",dense:"",flat:"",icon:"edit",color:"primary",class:"no-shadow q-mx-xs",size:"md",onClick:l.editar,style:{float:"right"}},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(g,{rounded:"",dense:"",flat:"",icon:"print",color:"primary",class:"no-shadow q-mx-xs",size:"md",style:{float:"right"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{link:"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.configImpressaoOrcamento.filter((e=>e.valor)),(o=>((0,a.openBlock)(),(0,a.createBlock)(f,{clickable:"",key:o.valor,onClick:t=>e.$imprimir(o.valor,{id:(r.dados.venda||{}).id||"0",Oculto:"0"})},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"print"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.texto),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),"optisoul"===r.sistemaPai?((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:0},(0,a.renderList)(r.configImpressaoEnvelope,(o=>((0,a.openBlock)(),(0,a.createBlock)(f,{clickable:"",key:o.valor,onClick:t=>e.$imprimir(o.valor,(r.dados.venda||{}).id||"0")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"print"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.texto),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(g,{rounded:"",dense:"",flat:"",icon:r.detalhesVisivel?"keyboard_arrow_up":"keyboard_arrow_down",size:"md",class:"no-shadow q-mx-xs",color:"tertiary",style:{float:"right"},onClick:l.alternarDetalhes},null,8,["icon","onClick"])])])),_:1}),(0,a.createVNode)(h,{class:"hideondesktop q-mb-sm q-mt-xs"}),(0,a.createVNode)(p,{class:"q-mx-none q-px-none hideondesktop"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",gi,[(0,a.createElementVNode)("p",xi,[r.dados.venda.dataHoraEmissao?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,name:"mdi-calendar-today"})):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.data(r.dados.venda.dataHoraEmissao))+" ",1),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[bi])),_:1})]),(0,a.createElementVNode)("p",wi,[r.dados.venda.dataHoraFinalizado?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,name:"mdi-calendar-check"})):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.data(r.dados.venda.dataHoraFinalizado))+" ",1),r.dados.venda.dataHoraFinalizado?((0,a.openBlock)(),(0,a.createBlock)(u,{key:1},{default:(0,a.withCtx)((()=>[_i])),_:1})):(0,a.createCommentVNode)("",!0)])]),(0,a.createElementVNode)("div",yi,[(0,a.createElementVNode)("p",Ii,(0,a.toDisplayString)(e.$filters.numero(r.dados.venda.subTotal,2)),1),(0,a.createElementVNode)("p",Ei,(0,a.toDisplayString)(e.$filters.numero(r.dados.venda.totalDocumento,2)),1)]),(0,a.createElementVNode)("div",Si,[(0,a.createVNode)(h,{class:"hideondesktop q-mb-sm q-mt-xs"}),(0,a.createVNode)(g,{rounded:"",dense:"",flat:"",icon:"more_vert",color:"tertiary",class:"no-shadow q-mx-xs",size:"md",style:{float:"right"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(N,{link:"",separator:""},{default:(0,a.withCtx)((()=>[e.$utils.mapearStatus(r.dados.venda).permiteNota?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.withDirectives)((0,a.createVNode)(f,{clickable:"",onClick:o[6]||(o[6]=o=>e.emitirNFeV2({idVenda:r.dados.venda.id},1,"Venda"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"account_balance"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[Mi])),_:1})])),_:1},512),[[y]]),(0,a.withDirectives)((0,a.createVNode)(f,{clickable:"",onClick:o[7]||(o[7]=o=>e.emitirNFeV2({idVenda:r.dados.venda.id},0,"Devolução"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"account_balance"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[Ti])),_:1})])),_:1},512),[[y]]),(0,a.withDirectives)((0,a.createVNode)(f,{clickable:"",onClick:o[8]||(o[8]=o=>e.emitirNFeV2({idVenda:r.dados.venda.id},1,"Remessa"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"account_balance"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[ki])),_:1})])),_:1},512),[[y]])],64)):(0,a.createCommentVNode)("",!0),l.podeMigrarFatura?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.faturasAbertas.filter((e=>e.id!==r.dados.venda.idFatura)),(e=>(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(f,{key:e.id,onClick:o=>l.migrarFatura(e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"mdi-folder-move"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)("Migrar para fatura #"+(e.numero||e.id.slice(-6))),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[y]]))),128)),(0,a.withDirectives)((0,a.createVNode)(f,{onClick:o[9]||(o[9]=e=>l.migrarFatura())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"mdi-folder-move"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[Di])),_:1})])),_:1},512),[[y]])],64)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(f,{clickable:"",onClick:o[10]||(o[10]=o=>e.$refs.modalHistoricoStatus.mostrar({idDocumento:r.dados.venda.id}))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"history"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[qi])),_:1})])),_:1})])),_:1},512),[[y]])])),_:1})])),_:1}),r.visibilidade.botao.remover?((0,a.openBlock)(),(0,a.createBlock)(g,{key:0,rounded:"",dense:"",flat:"",icon:"clear",color:"tertiary",class:"no-shadow q-mx-xs",size:"md",onClick:l.remover,style:{float:"right"}},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),r.visibilidade.botao.editar?((0,a.openBlock)(),(0,a.createBlock)(g,{key:1,rounded:"",dense:"",flat:"",icon:"edit",color:"primary",class:"no-shadow q-mx-xs",size:"md",onClick:l.editar,style:{float:"right"}},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(g,{rounded:"",dense:"",flat:"",icon:"print",color:"primary",class:"no-shadow q-mx-xs",size:"md",style:{float:"right"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{link:"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.configImpressaoOrcamento.filter((e=>e.valor)),(o=>((0,a.openBlock)(),(0,a.createBlock)(f,{clickable:"",key:o.valor,onClick:t=>e.$imprimir(o.valor,{id:(r.dados.venda||{}).id||"0",Oculto:"0"})},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"print"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.texto),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),"optisoul"===r.sistemaPai?((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:0},(0,a.renderList)(r.configImpressaoEnvelope,(o=>((0,a.openBlock)(),(0,a.createBlock)(f,{clickable:"",key:o.valor,onClick:t=>e.$imprimir(o.valor,(r.dados.venda||{}).id||"0")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"print"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.texto),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(g,{rounded:"",dense:"",flat:"",icon:r.detalhesVisivel?"keyboard_arrow_up":"keyboard_arrow_down",size:"md",class:"no-shadow q-mx-xs",color:"tertiary",style:{float:"right"},onClick:l.alternarDetalhes},null,8,["icon","onClick"])])])),_:1}),r.detalhesVisivel?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,class:"hideondesktop q-my-sm"})):(0,a.createCommentVNode)("",!0),r.detalhesVisivel?((0,a.openBlock)(),(0,a.createBlock)(p,{key:1,class:"items-start q-mx-none q-px-none q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Fi,[(0,a.createElementVNode)("p",Pi,[(0,a.createVNode)(m,{name:"business"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(r.dados.venda.descricaoEmpresa),1)]),(0,a.createElementVNode)("p",Ai,[(0,a.createTextVNode)((0,a.toDisplayString)(r.dados.venda.observacao)+" ",1),r.dados.venda.observacaoInterna?((0,a.openBlock)(),(0,a.createElementBlock)("br",Bi)):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(r.dados.venda.observacaoInterna)+" ",1),r.dados.venda.observacaoCancelamento?((0,a.openBlock)(),(0,a.createElementBlock)("br",Li)):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(r.dados.venda.observacaoCancelamento),1)]),(0,a.createVNode)(x,{idVenda:r.dados.venda.id},null,8,["idVenda"])]),(0,a.createElementVNode)("div",Oi,[zi,(0,a.createElementVNode)("p",ji,(0,a.toDisplayString)(r.dados.venda.observacaoFaturamento),1)]),(0,a.createElementVNode)("div",$i,[Ui,(0,a.createElementVNode)("p",Zi,(0,a.toDisplayString)(e.$filters.numero(r.dados.venda.totalDesconto,2)),1)])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(b,{ref:"vendaModal",onExecutar:l.executar},null,8,["onExecutar"]),(0,a.createVNode)(w,{ref:"modalHistoricoStatus"},null,512)])),_:1})):(0,a.createCommentVNode)("",!0)}]]);Z()(Gi,"components",{QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBadge:B.Z,QIcon:L.Z,QTooltip:Ao.Z,QSeparator:$.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z,QBtn:H.Z,QMenu:Bo.Z}),Z()(Gi,"directives",{ClosePopup:J.Z});const Ji={async finalizar(e){try{if($utils.verificarErro(this.erroCalculo,"Erro de cálculo encontrado."),!e)try{await new Promise(((e,o)=>{$q.dialog({cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},message:"Esta ação irá finalizar esta fatura",ok:{label:"Continuar",push:!0,class:"bg-primary",textColor:"white",flat:!0},title:"Tem certeza?"}).onOk((()=>{e()})).onCancel((()=>{o()}))}))}catch(e){return!1}this.$q.loading.show({message:"Processando..."});const o=$utils.clonar(this.fatura),t=$utils.clonar(this.vendas),a=$utils.clonar(this.carnes);await this.$refs.faturamento.validar();let i=$lodash.orderBy(this.$refs.faturamento.condicaoPagamento.filter((e=>e.valor)),["idFormaPagamento","autorizacao","dataVencimento"]);$utils.verificarErro(t.find((e=>!e.dataHoraFinalizado)),"Existe pedido de venda sem data de finalização.");const r=$utils.arredondar(this.carnes.reduce(((e,o)=>e+(o.valorARealizar||0)),0)),l=$utils.arredondar(i.reduce(((e,o)=>e+(o.valor||0)),0));let s=0;if(e&&(i=i.filter((e=>!this.$refs.faturamento.condicaoPagamentoOriginal.find((o=>o.id===e.id))))),o.totalDocumento>=0){if(this.carnes.length){if(l<r)return this.$q.notify("Valor pago menor que a soma dos títulos à faturar!"),!1;if(!await $db.permissao.objeto("Diretiva_Caixa_PagarCarneCartao")){const e=i.reduce(((e,o)=>{const t=`${o.autorizacao||""}${o.documento||""}${o.idFormaPagamento}`;return e[t]||(e[t]={parcelas:0,formaPagamento:o.formaPagamento}),e[t].parcelas++,e}),{});for(const o in e)if(e[o].parcelas>this.carnes.length)return this.$q.notify(`Quantidade de parcelas da forma de pagamento ${e[o].formaPagamento} acima do permitido.`),!1}}l<o.totalDocumento&&(s=1)}const n=e?o.dataHoraFinalizado:$utils.dataAtual(),c=n,d=await $db.documento.le({id:this.$refs.faturamento.idDocumentoCaixa});let m=1===s?"Aguardando Pagamento":"Finalizada";if(this.documentoStatus=[],!e){this.documentoStatus.push({id:$utils.uuid(),idDocumento:o.id,operacao:"Fatura",statusOriginal:o.status,statusFinalizado:m,dataHoraEmissao:n,idUsuarioAlterou:$db.usuario.logado.id,idDocumentoCaixa:d.id||""}),o.status=m,o.dataHoraFinalizado=n;let e=0;for(const o of t)e=(await $db.documentoItem.le({idDocumento:o.id})).reduce(((e,o)=>(o.total>0&&(e+=o.total),e)),e);e=$utils.arredondar(e),m="Faturado";let a=0,i=0,r=!1;for(const e of t)i+=(await $db.documento.le({tipo:"Envelope",documentoId:e.id,documentoTipo:"Venda"})||[]).filter((e=>"Entregue"!==e.status)).length;if(i){let e="Nesta Fatura há 1 envelope aguardando entrega, deseja mudar o status deste para Entregue?";i>1&&(e=`Nesta Fatura há ${i} envelopes aguardando entrega, deseja mudar o status destes para Entregue?`),this.$q.loading.hide();try{await new Promise(((o,t)=>{this.$q.dialog({cancel:"Não",message:e,noRefocus:!0,ok:"Sim",preventClose:!0,title:"Confirma?"}).onOk((()=>{r=!0,o()})).onCancel((()=>{t()}))}))}catch(e){}this.$q.loading.show({message:"Processando..."})}for(const i of t){this.documentoStatus.push({id:$utils.uuid(),idDocumento:i.id,operacao:"Venda de Mercadoria",statusOriginal:i.status,statusFinalizado:m,dataHoraEmissao:n,idUsuarioAlterou:$db.usuario.logado.id,idDocumentoCaixa:d.id||""}),i.status=m;const t=await $db.documento.le({tipo:"Envelope",documentoId:i.id,documentoTipo:"Venda"});if(this.envelopesOriginal=this.envelopesOriginal.concat($utils.clonar(t)),r)for(const e of t.filter((e=>"Entregue"!==e.status)))console.log("baixando envelope: ",e),this.documentoStatus.push({id:$utils.uuid(),idDocumento:e.id,operacao:"Envelope",statusOriginal:e.status,statusFinalizado:"Entregue",dataHoraEmissao:n,idUsuarioAlterou:$db.usuario.logado.id,idDocumentoCaixa:this.$refs.faturamento.idDocumentoCaixa}),e.status="Entregue",e.dataHoraFinalizado=$utils.dataAtual();this.envelopes=this.envelopes.concat(t);const l=await $db.documentoItem.le({idDocumento:i.id});this.documentoItensOriginal=this.documentoItensOriginal.concat($utils.clonar(l));for(const t of l)if(t.status=m,t.total>0){t.quantidade=t.quantidade||1,t.valorItem=t.valorItem||0,t.descontoItem=t.descontoItem||0,t.descontoTotalRateado=t.descontoTotalRateado||0;let i=(t.valorItem-t.descontoItem)*t.quantidade-t.descontoTotalRateado;const r=$utils.arredondar((o.totalDesconto||0)*i/(e||1)||0);t.descontoFaturaRateado=$utils.arredondar(r),t.valorRealTotal=$utils.arredondar(i-r),t.valorReal=$utils.arredondar(t.valorRealTotal/t.quantidade),a+=r}this.documentoItens=this.documentoItens.concat(l)}if(o.totalDesconto!==$utils.arredondar(a)){const e=$utils.arredondar((o.totalDesconto||0)-(a||0));let t,i=0;for(const e of this.documentoItens)e.total>i&&(i=e.total,t=e);if(t){const o=(t.descontoFaturaRateado||0)+(e||0),a=((t.valorItem||0)-(t.descontoItem||0))*(t.quantidade||1)-(t.descontoTotalRateado||0)-(o||0),i=(a||0)/(t.quantidade||1);t.descontoFaturaRateado=$utils.arredondar(o),t.valorReal=$utils.arredondar(i),t.valorRealTotal=$utils.arredondar(a)}}}const u=parseInt((await $db.configuracoes.le({nome:"financeiro.planocontas.renegociacao"}))[0].valor),p=await $db.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:u}),h=parseInt((await $db.configuracoes.le({nome:"financeiro.planocontas.duplicatareceber"}))[0].valor);let C=await $db.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:h});const v=parseInt((await $db.configuracoes.le({nome:"financeiro.planocontas.duplicatapagar"}))[0].valor),f=await $db.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:v}),N=parseInt((await $db.configuracoes.le({nome:"financeiro.planocontas.cheque"}))[0].valor),V=await $db.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:N}),g=parseInt((await $db.configuracoes.le({nome:"financeiro.planocontas.faturamentogeral"}))[0].valor),x=await $db.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:g}),b=parseInt((await $db.configuracoes.le({nome:"financeiro.planocontas.comprageral"}))[0].valor),w=await $db.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:b}),_=parseInt((await $db.configuracoes.le({nome:"financeiro.planocontas.frete"}))[0].valor),y=await $db.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:_}),I=parseInt((await $db.configuracoes.le({nome:"financeiro.planocontas.cmv"}))[0].valor),E=await $db.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:I}),S=parseInt((await $db.configuracoes.le({nome:"financeiro.planocontas.creditoclientes"}))[0].valor),M=await $db.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:S}),T=await $db.formaPagamento.le();let k=$utils.arredondar(t.reduce(((e,o)=>e+o.totalDocumento),0));k=$utils.arredondar(k-o.totalDesconto);let D=o.totalDocumento,q=[];const F=[],P=[],A=[],B=[];let L=1,O="",z=1,j="";for(const e of i.filter((e=>!e.sinal))){e.sinal=e.sinal||s;const t=T.filter((o=>o.id===e.idFormaPagamento))[0];if(D<0)j=$utils.uuid(),F.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:j,idContato:o.idContato,idEmpresa:o.idEmpresa,idFinanceiroPlanoConta:x.id,dataEmissao:n,valorCredito:0,valorDebito:$utils.arredondar(-1*D),descricao:x.descricao,observacao:`Movimentação de débito da devolução de clientes no(s) pedido(s) da fatura código (${o.id})`,automatico:0,liquidando:0,dataCompetencia:c,dataVencimento:e.dataVencimento,dataMovimento:e.dataVencimento,documentoTipo:"Fatura",documentoId:o.id,idDocumentoCaixa:d.id}),F.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:j,idContato:o.idContato,idEmpresa:o.idEmpresa,idFinanceiroPlanoConta:M.id,dataEmissao:n,valorCredito:$utils.arredondar(-1*D),valorDebito:0,descricao:`Crédito proveniente de produtos devolvidos no(s) pedido(s) da fatura código (${o.id})`,observacao:"Movimentação de crédito na conta de clientes",automatico:0,liquidando:0,dataCompetencia:c,dataVencimento:e.dataVencimento,dataMovimento:e.dataVencimento,documentoTipo:"Fatura",documentoId:o.id,idDocumentoCaixa:d.id});else{if(O!==e.idFormaPagamento+e.autorizacao&&(O=e.idFormaPagamento+e.autorizacao,L=1,z=i.reduce(((e,o)=>o.idFormaPagamento+o.autorizacao===O?e+1:e),0)),"Título Liquidado"===t.tipoFinanceiro&&(j=$utils.uuid()),r>0){const a=$utils.uuid(),i=$utils.arredondar(e.valor*(r/D));let l=0,s=0,m=0,u=0;if(5===t.tipo){let e=(await $erp().financeiroBanco.toArray()).find((e=>122===e.codigoBanco));e&&(s=e.percentualMulta||0,u=e.percentualJuros||0,l=$utils.arredondar(s/100*i),m=$utils.arredondar(u/100*i))}q.push({id:a,idFinanceiroPlanoConta:p.id,idContato:o.idContato,dataEmissao:n,dataCompetencia:c,dataVencimento:e.dataVencimento,dataVencimentoOriginal:e.dataVencimento,valor:i,valorTotal:i,valorARealizar:i,valorMulta:l,percentualMulta:s,valorJuros:m,percentualJuros:u,documentoId:o.id,documentoTipo:"Fatura",parcela:L+"/"+z,descricao:"Fatura de Venda Mercadoria",observacao:`${this.$refs.faturamento.observacaoFaturamento||""} ${e.observacao||""}`.trim(),documentoVinculado:1,receberPagar:1,valorDesconto:0,percentualDesconto:0,idEmpresa:o.idEmpresa,formaDePagamento:t.descricao,carne:5===t.tipo?1:0,dataEmissaoCarne:5===t.tipo?n:"",idDocumentoCaixa:d.id,idFinanceiroMovimentacaoAgrupamento:"Título Liquidado"===t.tipoFinanceiro?j:""}),e.idFinanceiroTitulo=a,2===t.tipo&&A.push({idTitulo:a,idDocumentoCondicaoPagamento:e.id,valor:i,dataVencimento:e.dataVencimento,idBanco:e.idBanco,agencia:e.agencia,conta:e.conta,numeroCheque:e.numeroCheque,formaPagamento:t}),B.push({idTitulo:a,valor:i,desconto:0})}if(k>0){const a=$utils.uuid(),i=$utils.arredondar(e.valor*(k/D));let r=0,l=0,s=0,m=0;if(5===t.tipo){let e=(await $erp().financeiroBanco.toArray()).find((e=>122===e.codigoBanco));e&&(l=e.percentualMulta||0,m=e.percentualJuros||0,r=$utils.arredondar(l/100*i),s=$utils.arredondar(m/100*i))}q.push({id:a,idFinanceiroPlanoConta:x.id,idContato:o.idContato,dataEmissao:n,dataCompetencia:c,dataVencimento:e.dataVencimento,dataVencimentoOriginal:e.dataVencimento,valor:i,valorTotal:i,valorARealizar:i,valorMulta:r,percentualMulta:l,valorJuros:s,percentualJuros:m,documentoId:o.id,documentoTipo:"Fatura",parcela:L+"/"+z,descricao:"Fatura de Venda Mercadoria",observacao:`${this.$refs.faturamento.observacaoFaturamento||""} ${e.observacao||""}`.trim(),documentoVinculado:1,receberPagar:1,valorDesconto:0,percentualDesconto:0,idEmpresa:o.idEmpresa,formaDePagamento:t.descricao,carne:5===t.tipo?1:0,dataEmissaoCarne:5===t.tipo?n:"",idDocumentoCaixa:d.id,idFinanceiroMovimentacaoAgrupamento:"Título Liquidado"===t.tipoFinanceiro?j:""}),e.idFinanceiroTitulo=a,2===t.tipo&&A.push({idTitulo:a,idDocumentoCondicaoPagamento:e.id,valor:i,dataVencimento:e.dataVencimento,idBanco:e.idBanco,agencia:e.agencia,conta:e.conta,numeroCheque:e.numeroCheque,formaPagamento:t})}if("Título Liquidado"===t.tipoFinanceiro&&k>=0){F.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:j,idEmpresa:o.idEmpresa,idContato:o.idContato,idFinanceiroPlanoConta:C.id,idFinanceiroTitulo:e.idFinanceiroTitulo,dataEmissao:n,valorCredito:e.valor,valorDebito:0,descricao:C.descricao,observacao:`Liquidação referente título fatura (${o.id}) - contabilização automática`,automatico:0,liquidando:0,dataCompetencia:c,dataVencimento:e.dataVencimento,dataMovimento:e.dataVencimento,documentoTipo:"Fatura",documentoId:o.id,idDocumentoCaixa:d.id});let a=t.idFinanceiroPlanoConta;1===t.tipo&&(d||{}).idFinanceiroPlanoContaCaixa&&(a=d.idFinanceiroPlanoContaCaixa);let i=await $db.financeiroPlanoConta.le({id:a});F.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:j,idEmpresa:o.idEmpresa,idContato:o.idContato,idFinanceiroPlanoConta:i.id,idFinanceiroTitulo:e.idFinanceiroTitulo,dataEmissao:n,valorCredito:0,valorDebito:e.valor,descricao:i.descricao,observacao:`Liquidação referente título fatura (${o.id}) - contabilização automática`,automatico:0,liquidando:0,dataCompetencia:c,dataVencimento:e.dataVencimento,dataMovimento:e.dataVencimento,documentoTipo:"Fatura",documentoId:o.id,idDocumentoCaixa:d.id});for(const o of q)o.idFinanceiroMovimentacaoAgrupamento===j&&(o.valorRealizado=o.valorARealizar,o.dataPagamento=e.dataVencimento,o.dataMovimento=e.dataVencimento,o.idDocumentoCaixaLiquidacao=d.id)}if(t.aliquota){const a=$utils.uuid(),i=$utils.arredondar(e.valor*(t.aliquota/100));if(q.push({id:a,idFinanceiroPlanoConta:t.idFinanceiroPlanoContaAliquota,idContato:t.idContatoOperadoraCartao,dataEmissao:n,dataCompetencia:c,dataVencimento:e.dataVencimento,dataVencimentoOriginal:e.dataVencimento,valor:i,valorTotal:i,valorARealizar:i,valorMulta:0,percentualJuros:0,documentoId:o.id,documentoTipo:"Fatura",parcela:L+"/"+z,descricao:`Título referente a alíquota da forma de pagamento: ${t.descricao}`,observacao:`Título referente a alíquota. ${this.$refs.faturamento.observacaoFaturamento||""} ${e.observacao||""}`.trim(),documentoVinculado:1,receberPagar:0,valorDesconto:0,percentualDesconto:0,idEmpresa:o.idEmpresa,formaDePagamento:t.descricao,idDocumentoCaixa:d.id}),e.idFinanceiroTituloPagar=a,"Título Liquidado"===t.tipoFinanceiro){const r=$utils.uuid();F.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:r,idEmpresa:o.idEmpresa,idFinanceiroPlanoConta:f.id,dataEmissao:n,valorCredito:0,valorDebito:i,descricao:f.descricao,observacao:`Liquidação alíquota cartão referente fatura (${o.id}) - contabilização automática`,automatico:0,liquidando:0,dataCompetencia:c,dataVencimento:e.dataVencimento,dataMovimento:e.dataVencimento,documentoTipo:"Fatura",documentoId:o.id,idFinanceiroTitulo:a,idContato:t.idContatoOperadoraCartao,idDocumentoCaixa:d.id});let l=t.idFinanceiroPlanoConta;1===t.tipo&&(d||{}).idFinanceiroPlanoContaCaixa&&(l=d.idFinanceiroPlanoContaCaixa);let s=await $db.financeiroPlanoConta.le({id:l});F.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:r,idEmpresa:o.idEmpresa,idFinanceiroPlanoConta:s.id,dataEmissao:n,valorCredito:i,valorDebito:0,descricao:s.descricao,observacao:`Liquidação alíquota cartão referente fatura (${o.id}) - contabilização automática`,automatico:0,liquidando:0,dataCompetencia:c,dataVencimento:e.dataVencimento,dataMovimento:e.dataVencimento,documentoTipo:"Fatura",documentoId:o.id,idFinanceiroTitulo:a,idContato:t.idContatoOperadoraCartao,idDocumentoCaixa:d.id});for(const o of q)o.id===a&&(o.idFinanceiroMovimentacaoAgrupamento=r,o.valorRealizado=i,o.dataPagamento=e.dataVencimento,o.dataMovimento=e.dataVencimento,o.idDocumentoCaixaLiquidacao=d.id)}}L++}}const $=[];for(const e of A){const t=$utils.uuid(),a=$utils.uuid();for(const o of q)o.id===e.idTitulo&&(o.idFinanceiroMovimentacaoAgrupamento=a,o.valorRealizado=o.valorARealizar,o.dataPagamento=n,o.dataMovimento=n,o.dataVencimento=n,o.dataVencimentoOriginal=n,o.idDocumentoCaixaLiquidacao=d.id);if($.includes(e.idDocumentoCondicaoPagamento))continue;$.push(e.idDocumentoCondicaoPagamento);const i=$utils.arredondar(A.reduce(((o,t)=>t.idDocumentoCondicaoPagamento===e.idDocumentoCondicaoPagamento?o+(t.valor||0):o),0));q.push({id:t,idFinanceiroPlanoConta:V.id,idContato:o.idContato,dataEmissao:n,dataCompetencia:c,dataVencimento:e.dataVencimento,dataVencimentoOriginal:e.dataVencimento,valor:i,valorTotal:i,valorARealizar:i,valorMulta:0,percentualJuros:0,receberPagar:1,valorDesconto:0,percentualDesconto:0,documentoId:o.id,documentoTipo:"Fatura",idEmpresa:o.idEmpresa,formaDePagamento:e.formaPagamento.descricao,idDocumentoCaixa:d.id,cheque:1,idBanco:e.idBanco,agencia:e.agencia,conta:e.conta,numeroCheque:e.numeroCheque,observacao:`Liquidação de Cheques da Fatura #${o.id} - CódigoN #${a}`,descricao:"Cheque"}),F.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:a,idEmpresa:o.idEmpresa,idContato:o.idContato,idFinanceiroPlanoConta:V.id,idFinanceiroTitulo:t,dataEmissao:n,valorCredito:0,valorDebito:i,descricao:"Cheque - Crédito de títulos a receber",observacao:"Crédito de títulos a receber",automatico:0,liquidando:0,dataCompetencia:c,dataVencimento:n,dataMovimento:n,idFinanceiroCheque:t,idDocumentoCaixa:d.id,documentoId:o.id}),F.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:a,idEmpresa:o.idEmpresa,idContato:o.idContato,idFinanceiroPlanoConta:C.id,idFinanceiroTitulo:t,dataEmissao:n,valorCredito:i,valorDebito:0,descricao:C.descricao,observacao:"Contabilização automática",automatico:0,liquidando:0,dataCompetencia:c,dataVencimento:n,dataMovimento:n,idFinanceiroCheque:t,idDocumentoCaixa:d.id,documentoId:o.id})}if(r>0){const e=$utils.uuid();F.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:e,idEmpresa:o.idEmpresa,idContato:o.idContato,idFinanceiroPlanoConta:C.id,dataEmissao:n,valorCredito:r,valorDebito:0,descricao:C.descricao,observacao:"Contabilização automática",automatico:1,liquidando:0,dataCompetencia:c,dataVencimento:n,dataMovimento:n,idDocumentoCaixa:d.id}),F.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:e,idEmpresa:o.idEmpresa,idContato:o.idContato,idFinanceiroPlanoConta:p.id,dataEmissao:n,valorCredito:0,valorDebito:r,descricao:p.descricao,observacao:"Contabilização automática - Complemento",automatico:0,liquidando:0,dataCompetencia:c,dataVencimento:n,dataMovimento:n,documentoTipo:"Renegociação",documentoId:e,idDocumentoCaixa:d.id});for(const o of B)P.push({idFinanceiroMovimentacaoN:e,idFinanceiroTitulo:o.idTitulo,dataVencimento:n,valorOriginal:o.valor,valorDesconto:o.desconto,valorTotal:$utils.arredondar(o.valor-o.desconto)});for(const o of a)o.idFinanceiroMovimentacaoAgrupamento=e,o.idDocumentoCaixaLiquidacao=d.id,o.dataPagamento=n,o.dataMovimento=n,o.renegociado=1,1!==o.cheque?o.valorARealizar?o.valorRealizado=o.valorARealizar:o.valorRealizado=o.valorTotal:o.valorRealizado=o.valor;q=q.concat(a)}if(0===s){let t=$utils.uuid();const a=o.valorFrete||0;let r=0,l=0;const s=[];if(a>0&&(F.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:t,idEmpresa:o.idEmpresa,idFinanceiroPlanoConta:x.id,dataEmissao:n,valorCredito:0,valorDebito:a,descricao:x.descricao,observacao:`Lançamento frete da fatura (${o.id}) - contabilização automática`,automatico:0,liquidando:0,dataCompetencia:c,dataVencimento:n,dataMovimento:n,documentoTipo:"Fatura",documentoId:o.id,idDocumentoCaixa:d.id}),F.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:t,idEmpresa:o.idEmpresa,idFinanceiroPlanoConta:y.id,dataEmissao:n,valorCredito:a,valorDebito:0,descricao:y.descricao,observacao:`Lançamento frete da fatura (${o.id}) - contabilização automática`,automatico:0,liquidando:0,dataCompetencia:c,dataVencimento:n,dataMovimento:n,documentoTipo:"Fatura",documentoId:o.id,idDocumentoCaixa:d.id})),!e){t=$utils.uuid();for(const e of this.documentoItens){let a="",i={},l="",m={},u="",p={};const h=await $db.item.leNew({id:e.idItem});if(a=e.idPlanoContaEstoque,!a){const o=await $db.perfilContabilItem.le({idPerfilContabil:h.idPerfilContabil,idCfop:e.idCfop,and:{idPerfilContabil:h.idPerfilContabil,idCfop:e.idCfop}});o.length&&o[0].idPlanoContaEstoque&&(a=o[0].idPlanoContaEstoque)}if(!a&&w.id&&(a=w.id),!a&&e.idCfop&&(a=(await $db.cfop.le({id:e.idCfop})).idPlanoContaEstoque),i=await $db.financeiroPlanoConta.le({id:a}),!i.id)return void this.$q.notify("Não foi possível localizar Conta de Estoque.");if(l="",!l){const o=await $db.perfilContabilItem.le({idPerfilContabil:h.idPerfilContabil,idCfop:e.idCfop,and:{idPerfilContabil:h.idPerfilContabil,idCfop:e.idCfop}});o.length&&o[0].idPlanoContaDespesa&&(l=o[0].idPlanoContaDespesa)}if(!l&&E.id&&(l=E.id),!l&&e.idCfop&&(l=(await $db.cfop.le({id:e.idCfop})).idPlanoContaDestino),m=await $db.financeiroPlanoConta.le({id:l}),!m.id)return void this.$q.notify("Não foi possível localizar Conta de Despesa.");const C=$utils.arredondar(e.total-(e.descontoTotalRateado||0)-(e.descontoFaturaRateado||0)),v=$utils.arredondar(e.valorCustoMedio*e.quantidade);if(v){if(e.operacaoFator<0?(F.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:t,idEmpresa:o.idEmpresa,idFinanceiroPlanoConta:i.id,dataEmissao:e.dataHoraFinalizado||n,valorCredito:v,valorDebito:0,descricao:i.descricao,observacao:`Movimentações de CMV referente fatura (${o.id}) e item (${e.idItem}) - contabilização automática`,automatico:0,liquidando:0,dataCompetencia:c,dataVencimento:n,dataMovimento:n,documentoTipo:o.tipo,documentoId:o.id,idDocumentoCaixa:d.id}),F.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:t,idEmpresa:o.idEmpresa,idFinanceiroPlanoConta:m.id,dataEmissao:e.dataHoraFinalizado||n,valorCredito:0,valorDebito:v,descricao:m.descricao,observacao:`Movimentações de CMV referente fatura (${o.id}) e item (${e.idItem}) - contabilização automática`,automatico:0,liquidando:0,dataCompetencia:c,dataVencimento:n,dataMovimento:n,documentoTipo:o.tipo,documentoId:o.id,idDocumentoCaixa:d.id})):(F.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:t,idEmpresa:o.idEmpresa,idFinanceiroPlanoConta:i.id,dataEmissao:e.dataHoraFinalizado||n,valorCredito:0,valorDebito:v,descricao:i.descricao,observacao:`Movimentações de CMV referente fatura (${o.id}) e item (${e.idItem}) - contabilização automática`,automatico:0,liquidando:0,dataCompetencia:c,dataVencimento:n,dataMovimento:n,documentoTipo:o.tipo,documentoId:o.id,idDocumentoCaixa:d.id}),F.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:t,idEmpresa:o.idEmpresa,idFinanceiroPlanoConta:m.id,dataEmissao:e.dataHoraFinalizado||n,valorCredito:v,valorDebito:0,descricao:m.descricao,observacao:`Movimentações de CMV referente fatura (${o.id}) e item (${e.idItem}) - contabilização automática`,automatico:0,liquidando:0,dataCompetencia:c,dataVencimento:n,dataMovimento:n,documentoTipo:o.tipo,documentoId:o.id,idDocumentoCaixa:d.id})),u=e.idPlanoContaDestino,!u){const o=await $db.perfilContabilItem.le({idPerfilContabil:h.idPerfilContabil,idCfop:e.idCfop,and:{idPerfilContabil:h.idPerfilContabil,idCfop:e.idCfop}});o.length&&o[0].idPlanoContaDespesa&&(u=o[0].idPlanoContaDespesa)}if(!u&&E.id&&(u=E.id),!u&&e.idCfop&&(u=(await $db.cfop.le({id:e.idCfop})).idPlanoContaDestino),p=await $db.financeiroPlanoConta.le({id:u}),!p.id)return void this.$q.notify("Não foi possível localizar Conta de Receita.");let a=!0;for(const e of s)if(e.idPlanoContaDestino===p.id&&e.idPlanoContaEstoque===i.id){e.valor=$utils.arredondar(e.valor+C),a=!1;break}a&&s.push({idPlanoContaDestino:p.id,idPlanoContaEstoque:i.id,valor:C}),r+=C}}for(const e of s)e.valor<0&&(l+=e.valor);for(const e of s)if(e.valor>0){const a=await $db.financeiroPlanoConta.le({id:e.idPlanoContaDestino}),s=$utils.arredondar(l*(e.valor/(r||1)));if(s>0){F.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:t,idEmpresa:o.idEmpresa,idFinanceiroPlanoConta:x.id,dataEmissao:n,valorCredito:0,valorDebito:s,descricao:x.descricao,observacao:`Lançamento entrada faturamento geral da devolução referente fatura (${o.id}) - contabilização automática`,automatico:0,liquidando:0,dataCompetencia:c,dataVencimento:n,dataMovimento:n,documentoTipo:"Fatura",documentoId:o.id,idDocumentoCaixa:d.id}),F.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:t,idEmpresa:o.idEmpresa,idFinanceiroPlanoConta:a.id,dataEmissao:n,valorCredito:s,valorDebito:0,descricao:a.descricao,observacao:`Lançamento saída na conta de destino referente fatura (${o.id}) - contabilização automática`,automatico:0,liquidando:0,dataCompetencia:c,dataVencimento:n,dataMovimento:n,documentoTipo:"Fatura",documentoId:o.id,idDocumentoCaixa:d.id});for(const r of i)F.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:t,idEmpresa:o.idEmpresa,idFinanceiroPlanoConta:x.id,dataEmissao:n,valorCredito:0,valorDebito:$utils.arredondar((e.valor-s)*(r.valor/(D||1))),descricao:x.descricao,observacao:`Lançamento saída na conta de faturamento geral referente fatura (${o.id}) - contabilização automática`,automatico:0,liquidando:0,dataCompetencia:c,dataVencimento:r.dataVencimento,dataMovimento:r.dataVencimento,documentoTipo:"Fatura",documentoId:o.id,idDocumentoCaixa:d.id}),F.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:t,idEmpresa:o.idEmpresa,idFinanceiroPlanoConta:a.id,dataEmissao:n,valorCredito:$utils.arredondar((e.valor-s)*(r.valor/(D||1))),valorDebito:0,descricao:a.descricao,observacao:`Lançamento entrada na conta de venda do produto referente fatura (${o.id}) - contabilização automática`,automatico:0,liquidando:0,dataCompetencia:c,dataVencimento:r.dataVencimento,dataMovimento:r.dataVencimento,documentoTipo:"Fatura",documentoId:o.id,idDocumentoCaixa:d.id})}else for(const r of i){const i=$utils.arredondar(e.valor*(r.valor/(D||1)));F.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:t,idEmpresa:o.idEmpresa,idFinanceiroPlanoConta:x.id,dataEmissao:n,valorCredito:0,valorDebito:i,descricao:x.descricao,observacao:`Lançamento saída na conta de faturamento geral referente fatura (${o.id}) - contabilização automática`,automatico:0,liquidando:0,dataCompetencia:c,dataVencimento:r.dataVencimento,dataMovimento:r.dataVencimento,documentoTipo:"Fatura",documentoId:o.id,idDocumentoCaixa:d.id}),F.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:t,idEmpresa:o.idEmpresa,idFinanceiroPlanoConta:a.id,dataEmissao:n,valorCredito:i,valorDebito:0,descricao:a.descricao,observacao:`Lançamento entrada na conta de venda do produto referente fatura (${o.id}) - contabilização automática`,automatico:0,liquidando:0,dataCompetencia:c,dataVencimento:r.dataVencimento,dataMovimento:r.dataVencimento,documentoTipo:"Fatura",documentoId:o.id,idDocumentoCaixa:d.id})}}}}return this.financeiroTitulo=q,this.financeiroMovimentacao=F,this.financeiroRenegociacao=P,this.fatura=o,this.vendas=t,this.carnes=a,e||(await this.salvarFatura(),$utils.emitter.emit("desativarBotoesFaturaModal"),this.vendas.length&&await this.$refs.documentosFiscais.emitirCupom(this.fatura.id),this.$q.notifyPositive("Fatura finalizada")),!0}catch(e){this.$q.notifyError("Não foi possível finalizar a fatura",e)}finally{this.$q.loading.hide()}}},Yi={components:{Avatar:uo.Z,DocumentoCodigo:jt.Z,DocumentoMetas:$t.Z,DocumentosFiscais:Ut.Z,Faturamento:Qt.Z,TituloCard:Ha,VendaCard:Hi},computed:{config:()=>$db.configuracoes.valores},data:()=>({contatos:{},faturaOriginal:{},fatura:{totalDocumento:0,subTotal:0,totalDesconto:0,totalPercentualDesconto:0},vendas:[],vendasOriginal:[],envelopes:[],envelopesOriginal:[],documentoItens:[],documentoItensOriginal:[],carnes:[],carnesOriginal:[],documentoStatus:[],erroCalculo:!1,erroCalculoMsg:"",sistemaPai:"",configImpressaoCarne:[],configImpressaoConvenio:[],configImpressaoFatura:[],configImpressaoEnvelope:[],permissaoDesconto:!1,pesoTotal:null}),emits:["executar"],mixins:[Zt],methods:{async calcularPesoTotal(){const e=await $erp().documento.where({idFatura:this.fatura.id}).toArray(),o=[],t={};let a=0;for(const t of e){const e=await $erp().documentoItem.where({idDocumento:t.id}).toArray();for(const t of e)o.push(t)}for(const e of o)if(-1===e.operacaoFator){if(e.idItem&&!t[e.idItem]){const o=await $erp().item.get(e.idItem);o&&(t[e.idItem]=o)}a+=(t[e.idItem]?.peso||0)*(e.quantidade||0)}a>=1e-4&&(this.pesoTotal=$filters.numeroZerosDireita(a,4,2)),console.log("this.pesoTotal: ",this.pesoTotal)},atualizarDocumentoMetas(){this.$refs.documentoMetas&&(this.$refs.documentoMetas.documento=$utils.clonarV2(this.fatura))},...Ji,async atualizar(){if(this.permissaoDesconto=await $db.permissao.objeto("Diretiva_Caixa_DescontoFatura"),this.vendas=[],this.envelopes=[],this.envelopesOriginal=[],this.documentoItens=[],this.documentoitensOriginal=[],this.carnes=[],this.carnesOriginal=[],this.documentoStatus=[],this.contatos={},this.erroCalculo=!1,this.erroCalculoMsg="",this.prop.id){const e=await $db.fatura.leCompleto(this.prop.id);this.faturaOriginal=$utils.clonar(e.fatura),this.fatura=e.fatura,this.$refs.faturamento&&(this.$refs.faturamento.condicaoPagamentoOriginal=$utils.clonar(e.condicaoPagamento),this.$refs.faturamento.condicaoPagamento=e.condicaoPagamento),this.vendasOriginal=$utils.clonar(e.vendas),this.vendas=e.vendas.sort(((e,o)=>new Date(e.dataHoraFinalizado)<new Date(o.dataHoraFinalizado)?-1:1)),this.receberTitulo.id&&!e.carnes.find((e=>e.id===this.receberTitulo.id))&&e.carnes.push(await $db.financeiroTitulo.le({id:this.receberTitulo.id})),this.carnesOriginal=$utils.clonar(e.carnes),this.carnes=e.carnes.sort(((e,o)=>new Date(e.dataVencimento)<new Date(o.dataVencimento)?-1:1));const o={};if(e.fatura.idContato){const t=e.fatura.idContato;o[t]||(o[t]=await $db.contato.le({id:t}))}this.configuraImpressaoCarne(e.fatura.idEmpresa),this.configuraImpressaoConvenio(e.fatura.idEmpresa),this.configuraImpressaoEnvelope(e.fatura.idEmpresa),this.configuraImpressaoFatura(e.fatura.idEmpresa),this.contatos=o,await this.atualizarDocumentoMetas(),await this.calculaTotais(),await this.calcularPesoTotal()}},async executar(e){if("recalcular"===e){if(this.prop.id){const e=await $db.fatura.leCompleto(this.prop.id);this.carnesOriginal=$utils.clonar(e.carnes),this.carnes=e.carnes,await this.calculaTotais()}}else await this.atualizar(),this.$emit("executar",e)},async calculaTotais(e){const o=$utils.arredondar(this.vendas.reduce(((e,o)=>e+o.totalDocumento||0),0)),t=$utils.arredondar(this.carnes.reduce(((e,o)=>e+o.valorARealizar||0),0));e||(this.fatura.subTotal=$utils.arredondar(o+t),e="desconto"),"descontoPercentual"===e&&(this.fatura.totalDesconto=$utils.arredondar((this.fatura.totalPercentualDesconto||0)/100*this.fatura.subTotal)),"desconto"===e&&(this.fatura.totalPercentualDesconto=$utils.arredondar((this.fatura.totalDesconto||0)/this.fatura.subTotal*100)),this.fatura.totalDocumento=$utils.arredondar(this.fatura.subTotal-(this.fatura.totalDesconto||0)),this.erroCalculo=!1,this.erroCalculoMsg="",0!==this.fatura.totalDesconto&&this.fatura.totalDesconto>o&&(this.erroCalculo=!0,this.erroCalculoMsg="Desconto maior que o total das vendas"),0!==this.fatura.totalDesconto&&this.fatura.totalDocumento>this.fatura.subTotal&&(this.erroCalculo=!0);try{await this.$refs.faturamento.resumeCondicaoPagamento(),await this.$refs.faturamento.atualizaValorRestante(),await this.$refs.faturamento.redefinirCampos()}catch(e){}},async configuraImpressaoConvenio(e){const o=await $db.configuracoes.porNome("impressao.convenio",e);this.configImpressaoConvenio=[...o.length?o.map((e=>({texto:"Imprimir Convênio",...e}))):[{valor:"convenio",texto:"Imprimir Convênio"}]]},async configuraImpressaoCarne(e){const o=await $db.configuracoes.porNome("impressao.carne",e);this.configImpressaoCarne=[...o.length?o.map((e=>({texto:"Imprimir Carnê",...e}))):[{valor:"carne-crediario",texto:"Reimprimir carnê e notas promissórias da fatura"}]]},async configuraImpressaoEnvelope(e){const o=await $db.configuracoes.porNome("impressao.envelope",e);this.configImpressaoEnvelope=[...o.length?o.map((e=>({texto:"Imprimir Envelope",...e}))):[{valor:"envelope",texto:"Imprimir Envelope"},{valor:"envelopeMini",texto:"Imprimir Envelope Mini"}]]},async configuraImpressaoFatura(e){const o=await $db.configuracoes.porNome("impressao.fatura",e);this.configImpressaoFatura=[...o.length?o.map((e=>({texto:"Imprimir Fatura",...e}))):[{valor:"invoice",texto:"Fatura (Invoice)"},{valor:"fatura-recibo",texto:"Recibo"}]]},async reabrir(e){if(!e){const e=await $db.documentoSat.le({idDocumento:this.fatura.id}),o=e.filter((e=>e.cancelamento)).map((e=>e.chaveCupomCancelado)),t=e.filter((e=>!o.includes(e.chaveCupom))).filter((e=>!e.cancelamento)),a=await $db.documentoFiscalEletronico.le({idDocumento:this.fatura.id,situacao:"Emitido"});if(t.length||a.length)return void this.$q.notify("Documento fiscal emitido. Operação não permitida.")}if(!e)try{await new Promise(((e,o)=>{$q.dialog({message:"Esta ação irá reabrir esta fatura",title:"Tem certeza?",cancel:{label:"CANCELAR",push:!0,color:"tertiary",flat:!0},ok:{label:"CONTINUAR",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk((()=>{e()})).onCancel((()=>{o()}))}))}catch(e){return}try{this.$q.loading.show({message:"Processando..."});const o=$utils.clonar(this.fatura),t=$utils.clonar(this.vendas),a=$utils.clonar(this.envelopes),i=$utils.clonar(this.documentoItens),r=this.$refs.faturamento.condicaoPagamento.filter((e=>e.valor));if(!e){const e=[];r.reduce(((o,t)=>(t.idDocumentoCaixa&&!o[t.idDocumentoCaixa]&&(o[t.idDocumentoCaixa]=!0,e.push($db.documento.le({id:t.idDocumentoCaixa}))),o)),{});for await(const o of e)if("Aberto"!==o.status)return this.$q.notify({message:"Não é possível reabrir fatura de caixas fechados!"}),!1}try{await $db.fatura.checarTitulosLiquidados({condicoesPagamento:this.$refs.faturamento.condicaoPagamentoOriginal})}catch(e){return void $q.notifyError(e.message)}let l=[],s=[],n=[];if(!e){l=await $db.financeiroTitulo.le({documentoId:o.id});for(const e of l)if(e.idFinanceiroBoleto){const o=await $erp().financeiroBoleto.get(e.idFinanceiroBoleto),t=await $db.financeiroBanco.le({id:o.idFinanceiroBanco}),a=await $db.banco.le({id:t.idBanco}),i=o.revisao,r=a.baixa,l=a.registro;if(o.remessaOperacao!==r){const t=e.idFinanceiroBoleto,a=$utils.uuid(),s={id:a,idFinanceiroBanco:o.idFinanceiroBanco,nossoNumero:o.nossoNumero,nossoNumeroDv:o.nossoNumeroDv,revisao:i+1,idEmpresa:o.idEmpresa,idContato:o.idContato,empresaNome:o.empresaNome,empresaNumeroDocumento:o.empresaNumeroDocumento,contatoNome:o.contatoNome,contatoNumeroDocumento:o.contatoNumeroDocumento,contatoLogradouro:o.contatoLogradouro,contatoCEP:o.contatoCEP,contatoBairro:o.contatoBairro,contatoCidade:o.contatoCidade,contatoUF:o.contatoUF,dataEmissao:$utils.dataAtual(),dataVencimento:o.dataVencimento,dataImpressao:o.dataImpressao,valor:o.valor,valorJuros:o.valorJuros,tipoJuros:o.tipoJuros,valorMulta:o.valorMulta,valorDesconto:o.valorDesconto,valorTotal:o.valorTotal,codigoBarras:o.codigoBarras,linhaDigitavel:o.linhaDigitavel,mensagem1:o.mensagem1,mensagem2:o.mensagem2,mensagem3:o.mensagem3,mensagem4:o.mensagem4,mensagem5:o.mensagem5,gerarRemessa:1,remessaOperacao:r};await $db.financeiroBoleto.grava({atual:s});let n=[];t&&(n=await $db.financeiroTitulo.le({idFinanceiroBoleto:t}));for(const e of n){const o=$utils.clonar(e);e.idFinanceiroBoleto=a;let i=[];t&&(i=await $db.financeiroBoletoTitulo.le({idFinanceiroBoleto:t}));for(const e of i){const o={id:$utils.uuid(),idFinanceiroBoleto:a,idFinanceiroTitulo:e.idFinanceiroTitulo};await $db.financeiroBoletoTitulo.grava({atual:o})}await $db.financeiroTitulo.grava({atual:e,original:o})}if(o.remessaOperacao===l&&1===o.gerarRemessa)for(const e of[o,s]){const o={...e,gerarRemessa:0};await $db.financeiroBoleto.grava({original:e,atual:o})}}}let e=[];this.$refs.faturamento.idDocumentoCaixa&&(e=await $db.financeiroMovimentacao.le({idDocumentoCaixa:this.$refs.faturamento.idDocumentoCaixa})),l=await $db.financeiroTitulo.le({idFatura:o.id});let c=await $db.financeiroTitulo.le({idFatura:o.id});for(const e of $utils.clonar(l)){if(!e.idFinanceiroMovimentacaoAgrupamento)continue;const o=await $db.financeiroRenegociacao.le({idFinanceiroMovimentacaoN:e.idFinanceiroMovimentacaoAgrupamento});for(const e of o){const o=await $db.financeiroTitulo.le({id:e.idFinanceiroTitulo});o.idDocumentoCaixa===this.$refs.faturamento.idDocumentoCaixa&&(l=l.concat(o))}}let d=!1;for(const o of r){const t=await $db.financeiroTitulo.le({id:o.idFinanceiroTitulo});if(Object.keys(t).length){let o=[];o=e.filter((e=>e.idFinanceiroMovimentacaoN===t.idFinanceiroMovimentacaoAgrupamento)),s=s.concat(o),o=e.filter((e=>e.idFinanceiroTitulo===t.id)),s=s.concat(o),o=e.filter((e=>e.idFinanceiroCheque===t.id)),s=s.concat(o),l=l.concat(t)}o.idFinanceiroTitulo="",1===o.sinal&&(d=!0)}c=await $db.financeiroTitulo.le({idFatura:o.id,idDocumentoCaixa:this.$refs.faturamento.idDocumentoCaixa});for(const e of c){if(!e.idFinanceiroMovimentacaoAgrupamento)continue;const o=await $db.financeiroMovimentacao.le({idFinanceiroMovimentacaoN:e.idFinanceiroMovimentacaoAgrupamento});s=s.concat(o);const t=await $db.financeiroRenegociacao.le({idFinanceiroMovimentacaoN:e.idFinanceiroMovimentacaoAgrupamento});n=n.concat(t)}if(c=await $db.financeiroTitulo.le({idDocumentoCaixa:this.$refs.faturamento.idDocumentoCaixa,documentoId:o.id}),l=l.concat(c),o.id){let e=await $db.financeiroMovimentacao.lerV2({documentoTipo:"Devolução",documentoId:o.id});s=s.concat(e),e=await $db.financeiroMovimentacao.lerV2({idDocumentoCaixa:this.$refs.faturamento.idDocumentoCaixa,documentoId:o.id}),s=s.concat(e),e=await $db.financeiroMovimentacao.lerV2({documentoId:o.id});for(const o of e)(await $db.financeiroTitulo.le({id:o.idFinanceiroTitulo})).id||(s=s.concat(o))}const m=await $db.documento.le({idFatura:o.id});for(const e of m){const o=await $db.financeiroMovimentacao.le({idDocumentoCaixa:this.$refs.faturamento.idDocumentoCaixa,documentoId:e.id});s=s.concat(o)}let u=[];for(const e in l){const o=l[e].id;u.includes(o)?delete l[e]:u.push(o)}l=l.filter((e=>e)),u=[];for(const e in s){const o=s[e].id;u.includes(o)?delete s[e]:u.push(o)}s=s.filter((e=>e)),u=[];for(const e in n){const o=n[e].id;u.includes(o)?delete n[e]:u.push(o)}n=n.filter((e=>e));let p=$utils.dataAtual(),h=d?"Aguardando Pagamento":"Aberta";this.documentoStatus=[{id:$utils.uuid(),idDocumento:o.id,operacao:"Fatura",statusOriginal:o.status,statusFinalizado:h,dataHoraEmissao:p,idUsuarioAlterou:$db.usuario.logado.id,idDocumentoCaixa:this.$refs.faturamento.idDocumentoCaixa}],o.status=h,"Aberta"===h&&(o.dataHoraFinalizado=""),h=d?"Aguardando Pagamento":"Aguardando Faturamento";for(const e of t)this.documentoStatus.push({id:$utils.uuid(),idDocumento:e.id,operacao:"Venda de Mercadoria",statusOriginal:e.status,statusFinalizado:h,dataHoraEmissao:p,idUsuarioAlterou:$db.usuario.logado.id,idDocumentoCaixa:this.$refs.faturamento.idDocumentoCaixa}),e.status=h;for(const e of i)e.status=h;this.fatura=o,this.vendas=t,this.envelopes=a,this.documentoItens=i}if(this.$q.loading.hide(),e&&await this.finalizar(e),this.$q.loading.show({message:"Processando..."}),e){let e=[],o=[],t=[],a=[],i=[],r=[];e=this.$refs.faturamento.condicaoPagamento.map((e=>e.id)),o=this.$refs.faturamento.condicaoPagamentoOriginal.filter((o=>!e.includes(o.id)));for(const e of o)if(e.idFinanceiroTitulo&&t.push(e.idFinanceiroTitulo),e.idFormaPagamento){let o;o=await $erp().formaPagamento.get(e.idFormaPagamento),(o||{}).aliquota&&(e.idFinanceiroTituloPagar?t.push(e.idFinanceiroTituloPagar):this.$q.notify("Não foi possível excluir as movimentações referentes à aliquota. Exclua-as manualmente."))}for(const e of t){let o;if(o=await $erp().financeiroTitulo.get(e),o.id&&a.push(o),o.idFinanceiroMovimentacaoAgrupamento){let e,t;if(e=await $erp().financeiroMovimentacao.where({idFinanceiroMovimentacaoN:o.idFinanceiroMovimentacaoAgrupamento}).toArray(),t=(e.find((e=>e.idFinanceiroCheque))||{}).idFinanceiroCheque,t){let e=await $erp().financeiroTitulo.get(t);e.id&&a.push(e)}i.push(...e)}}for(let e of this.carnes){if(!e.id)continue;if(e=await $erp().financeiroTitulo.get(e.id),!(e||{}).idFinanceiroMovimentacaoAgrupamento)continue;let o,t;o=await $erp().financeiroMovimentacao.where({idFinanceiroMovimentacaoN:e.idFinanceiroMovimentacaoAgrupamento}).toArray(),t=await $erp().financeiroRenegociacao.where({idFinanceiroMovimentacaoN:e.idFinanceiroMovimentacaoAgrupamento}).toArray(),i.push(...o),r.push(...t)}await $db.financeiroTitulo.remove(a),await $db.financeiroMovimentacao.remove(i),await $db.financeiroRenegociacao.remove(r)}else{await $db.financeiroTitulo.remove(l.filter((e=>!(e.carne&&e.idFatura===o.id)))),await $db.financeiroMovimentacao.remove(s),await $db.financeiroRenegociacao.remove(n);for(const e of l.filter((e=>e.carne&&e.idFatura===o.id)))await $db.financeiroTitulo.grava({original:e,atual:{valorRealizado:0,receberPagar:1,dataPagamento:""}})}return await this.salvarFatura(),await this.atualizar(),e?this.$q.notifyPositive("Fatura corrigida."):this.$q.notifyPositive("Fatura reaberta."),!0}catch(e){this.$q.notify("Não foi possível reabrir a fatura."),this.$q.loading.hide()}finally{this.$q.loading.hide()}},async corrigir(){let e,o,t,a;if(e=this.$refs.faturamento.condicaoPagamentoOriginal,o=this.$refs.faturamento.condicaoPagamento,a=$utils.arredondar(this.fatura.totalDocumento||0),t=$utils.arredondar(o.reduce(((e,o)=>e+o.valor||0),0)),t===a){if(e.length){let t=!1;o.length||(t=!0);for(const a of o)if(!e.find((e=>e.id===a.id))){t=!0;break}if(!t)return void this.$q.notify("Não há correção a ser realizada")}try{return await new Promise(((e,o)=>{$q.dialog({message:"Esta ação irá corrigir esta fatura",title:"Tem certeza?",cancel:{label:"CANCELAR",push:!0,color:"tertiary",flat:!0},ok:{label:"CONTINUAR",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk((()=>{e()})).onCancel((()=>{o()}))})),await this.reabrir(!0),!0}catch(e){return!1}}else this.$q.notify("Total das condições de pagamento difere do total da fatura")},async salvarFatura(){try{this.$q.loading.show({message:"Processando..."});let e=$utils.clonar(this.$refs.faturamento.condicaoPagamento.filter((e=>e.valor)));for(let o in e)delete e[o].idDocumentoCondicaoPagamento,delete e[o].parcelas,delete e[o].formaPagamento,delete e[o].edicao,delete e[o].codigoDocumento,delete e[o].codigoDocumentoCaixa;this.fatura.observacaoFaturamento=this.$refs.faturamento.observacaoFaturamento;const o=(this.carnesOriginal||[]).filter((e=>(this.financeiroTitulo||[]).find((o=>o.id===e.id))));if(await $db.fatura.grava({faturaOriginal:this.faturaOriginal,fatura:this.fatura,vendasOriginal:this.vendasOriginal,vendas:this.vendas,envelopesOriginal:this.envelopesOriginal,envelopes:this.envelopes,documentoItensOriginal:this.documentoItensOriginal,documentoItens:this.documentoItens,condicaoPagamentoOriginal:this.$refs.faturamento.condicaoPagamentoOriginal,condicaoPagamento:e,documentoStatus:this.documentoStatus,financeiroTitulo:this.financeiroTitulo,financeiroTituloOriginal:o,financeiroMovimentacao:this.financeiroMovimentacao,financeiroRenegociacao:this.financeiroRenegociacao}),this.receberTitulo.id){let e=this.carnes.find((e=>e.id===this.receberTitulo.id));e.id&&await $db.financeiroTitulo.grava({original:e,atual:{idFatura:this.fatura.id}})}}catch(e){this.$q.notify("Não foi possível salvar a fatura."),this.$q.loading.hide()}finally{this.$q.loading.hide()}}},props:{prop:{default:()=>({}),required:!0,type:Object},receberTitulo:{default:()=>({}),type:Object}},mounted(){this.sistemaPai=$utils.sistemaPai(),this.atualizar()}},Xi=(0,T.Z)(Yi,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("avatar"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("documento-codigo"),d=(0,a.resolveComponent)("q-icon"),m=(0,a.resolveComponent)("q-item-section"),u=(0,a.resolveComponent)("q-item-label"),p=(0,a.resolveComponent)("q-item"),h=(0,a.resolveComponent)("q-list"),C=(0,a.resolveComponent)("q-menu"),v=(0,a.resolveComponent)("q-btn"),f=(0,a.resolveComponent)("q-toolbar"),N=(0,a.resolveComponent)("documento-metas"),V=(0,a.resolveComponent)("venda-card"),g=(0,a.resolveComponent)("titulo-card"),x=(0,a.resolveComponent)("row"),b=(0,a.resolveComponent)("campo"),w=(0,a.resolveComponent)("faturamento"),_=(0,a.resolveComponent)("documentos-fiscais");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Ct,[(0,a.createVNode)(f,{class:"Fatura-barra bg-grey-2 q-py-md",color:"black",dark:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",vt,[(0,a.createVNode)(s,{imagem:(r.contatos[r.fatura.idContato]||{}).imagem,rotulo:r.fatura.descricaoContato,tamanho:"60"},null,8,["imagem","rotulo"]),(0,a.createElementVNode)("div",ft,(0,a.toDisplayString)(r.fatura.descricaoContato),1)]),Nt])),_:1}),r.fatura.id?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,documento:r.fatura},null,8,["documento"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(v,{color:"tertiary",flat:"",icon:"more_vert",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{link:"",separator:""},{default:(0,a.withCtx)((()=>[r.fatura.id?((0,a.openBlock)(),(0,a.createBlock)(p,{key:0,clickable:"",onClick:o[0]||(o[0]=o=>e.$refs.documentosFiscais.emitirCupom(r.fatura.id))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"account_balance"})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[Vt])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),r.fatura.id&&e.$utils.mapearStatus(r.fatura).permiteNota?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createVNode)(p,{clickable:"",onClick:o[1]||(o[1]=o=>e.emitirNFeV2({idFatura:r.fatura.id},1,"Venda"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"account_balance"})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[gt])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,{clickable:"",onClick:o[2]||(o[2]=o=>e.emitirNFeV2({idFatura:r.fatura.id},0,"Devolução"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"account_balance"})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[xt])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,{clickable:"",onClick:o[3]||(o[3]=o=>e.emitirNFeV2({idFatura:r.fatura.id},1,"Remessa"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"account_balance"})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[bt])),_:1})])),_:1})])),_:1})],64)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createElementVNode)("div",wt,[(0,a.createVNode)(N,{ref:"documentoMetas"},null,512)]),(0,a.createElementVNode)("div",_t,[r.vendas.length>0?((0,a.openBlock)(),(0,a.createElementBlock)("p",yt,[(0,a.createVNode)(d,{name:"shopping_cart",class:"q-mr-md",size:"24px",style:{color:"#737373"}}),It])):(0,a.createCommentVNode)("",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.vendas,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id,class:"bg-white q-mt-sm round-borders"},[(0,a.createVNode)(V,{id:e.id,onAtualizar:l.atualizar,onExecutar:l.executar},null,8,["id","onAtualizar","onExecutar"])])))),128)),r.carnes.length>0?((0,a.openBlock)(),(0,a.createElementBlock)("p",Et,[(0,a.createVNode)(d,{name:"attach_money",class:"q-mr-md",size:"24px",style:{color:"#737373"}}),St])):(0,a.createCommentVNode)("",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.carnes,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id,class:"bg-white q-mt-sm round-borders"},[(0,a.createVNode)(g,{dados:e,class:"q-mt-md",onExecutar:l.executar},null,8,["dados","onExecutar"])])))),128))]),(0,a.createVNode)(x,{class:"justify-end"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Mt,[(0,a.createVNode)(x,{class:"q-col-gutter-md q-mb-sm"},{default:(0,a.withCtx)((()=>[Tt,(0,a.createElementVNode)("strong",kt,(0,a.toDisplayString)(e.$filters.numero(r.fatura.subTotal,2)),1)])),_:1}),r.permissaoDesconto?((0,a.openBlock)(),(0,a.createBlock)(x,{key:0,class:"q-col-gutter-x-sm"},{default:(0,a.withCtx)((()=>[Dt,(0,a.createElementVNode)("div",qt,[(0,a.createVNode)(b,{modelValue:r.fatura.totalPercentualDesconto,"onUpdate:modelValue":[o[4]||(o[4]=e=>r.fatura.totalPercentualDesconto=e),o[5]||(o[5]=e=>l.calculaTotais("descontoPercentual"))],tipo:"decimal",decimals:"2",suffix:"%","somente-leitura":"Aberta"!==r.fatura.status,erro:r.erroCalculo},null,8,["modelValue","somente-leitura","erro"])]),(0,a.createElementVNode)("div",Ft,[(0,a.createVNode)(b,{modelValue:r.fatura.totalDesconto,"onUpdate:modelValue":[o[6]||(o[6]=e=>r.fatura.totalDesconto=e),o[7]||(o[7]=e=>l.calculaTotais("desconto"))],tipo:"decimal",decimals:"2","somente-leitura":"Aberta"!==r.fatura.status,erro:r.erroCalculo,"erro-rotulo":r.erroCalculoMsg},null,8,["modelValue","somente-leitura","erro","erro-rotulo"])])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(x,{class:"q-col-gutter-x-sm q-mt-sm"},{default:(0,a.withCtx)((()=>[Pt,(0,a.createElementVNode)("strong",At,(0,a.toDisplayString)(e.$filters.numero(r.fatura.totalDocumento,2)),1)])),_:1}),r.pesoTotal?((0,a.openBlock)(),(0,a.createBlock)(x,{key:1,class:"q-col-gutter-x-sm q-mt-sm"},{default:(0,a.withCtx)((()=>[Bt,(0,a.createElementVNode)("span",Lt,(0,a.toDisplayString)(r.pesoTotal),1)])),_:1})):(0,a.createCommentVNode)("",!0)])])),_:1}),(0,a.createElementVNode)("div",Ot,[(0,a.createVNode)(w,{documento:r.fatura,ref:"faturamento"},null,8,["documento"])]),(0,a.createElementVNode)("div",zt,[(0,a.createVNode)(_,{ref:"documentosFiscais",idFatura:r.fatura.id},null,8,["idFatura"])])])}]]);Z()(Yi,"components",{QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QIcon:L.Z,QItemLabel:j.Z});const Wi={components:{Fatura:Xi},data:()=>({fatura:{},visivel:!1,visibilidade:{botao:{finalizar:!1,reabrir:!1,corrigir:!1}},temPermissaoCorrigir:!1}),emits:["executar"],methods:{async atualizar(){let e;try{e=setTimeout((()=>{$q.loading.show({message:"Carregando informações...",boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary"})}),500);let o=this.id?await $db.documento.le({id:this.id}):{};this.fatura=o,this.verificarPermissoes(),this.desativarBotoes(),"Aberta"===o.status&&(this.visibilidade.botao.salvar=!0),"Finalizada"===o.status||"Aguardando Pagamento"!==o.status&&o.dataHoraFinalizado?this.visibilidade.botao.reabrir=!0:this.visibilidade.botao.finalizar=!0}finally{clearTimeout(e),$q.loading.hide()}},desativarBotoes(){this.visibilidade.botao.finalizar=!1,this.visibilidade.botao.reabrir=!1,this.visibilidade.botao.salvar=!1},async reabrir(){await this.$refs.fatura.reabrir(),await this.atualizar(),this.runOnHide.push((()=>$utils.emitter.emit("atualizarAtendimentoFatura")))},voltar(e){e.stopPropagation(),this.lockEsc||this.fechar()},async finalizar(){this.lockEsc=!0,await this.$refs.fatura.finalizar()?(this.$emit("executar","finalizar"),this.fechar()):this.lockEsc=!1},async executar(e){switch(e){case"finalizar":if(!await this.$refs.fatura.finalizar())return;break;case"retornarOrcamento":case"remover":return await this.atualizar(),void this.runOnHide.push((()=>$utils.emitter.emit("atualizarAtendimentoFatura")))}this.$emit("executar",e),this.fechar()},fechar(){this.visivel=!1},async mostrar(e={}){this.id=e.id,await this.atualizar(),this.visivel=!0},onHide(){this.fatura={},this.visibilidade={botao:{finalizar:!1,reabrir:!1,corrigir:!1}},this.temPermissaoCorrigir=!1,this.runOnHide.forEach((e=>e())),this.runOnHide=[]},async salvar(){try{await new Promise(((e,o)=>{$q.dialog({message:"Esta ação irá salvar esta fatura",title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk((()=>{e()})).onCancel((()=>{o()}))}))}catch(e){return}await this.$refs.fatura.salvarFatura(),this.$emit("executar","atualizar"),this.fechar()},corrigir(){this.$refs.fatura.corrigir().then((()=>{this.$emit("executar","atualizar"),this.fechar()}))},verificarPermissoes(){$db.permissao.objeto("caixa/tesouraria").then((e=>{this.temPermissaoCorrigir=e})).catch((()=>{this.temPermissaoCorrigir=!1}))}},props:{receberTitulo:{default:()=>({}),type:Object}},created(){this.runOnHide=[]},mounted(){$utils.emitter.on("desativarBotoesFaturaModal",this.desativarBotoes)},beforeUnmount(){$utils.emitter.off("desativarBotoesFaturaModal",this.desativarBotoes)}},Ki=(0,T.Z)(Wi,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-header"),m=(0,a.resolveComponent)("fatura"),u=(0,a.resolveComponent)("q-page-container"),p=(0,a.resolveComponent)("q-footer"),h=(0,a.resolveComponent)("q-layout"),C=(0,a.resolveComponent)("q-dialog"),v=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(C,{modelValue:r.visivel,"onUpdate:modelValue":o[0]||(o[0]=e=>r.visivel=e),maximized:"",persistent:"",onKeyup:(0,a.withKeys)(l.voltar,["esc"]),onHide:l.onHide},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{container:"",class:"bg-grey-4"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:"",clikable:""},null,512),[[v]]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[ut])),_:1}),r.visibilidade.botao.salvar?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,unelevated:"",color:"white","text-color":"primary",label:"Salvar",onClick:l.salvar},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),r.visibilidade.botao.reabrir&&r.temPermissaoCorrigir?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,unelevated:"",color:"white","text-color":"negative",label:"Corrigir",onClick:l.corrigir},null,8,["onClick"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",pt,[(0,a.createElementVNode)("div",ht,[r.fatura.id?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,prop:{id:r.fatura.id},receberTitulo:t.receberTitulo,ref:"fatura",onExecutar:l.executar},null,8,["prop","receberTitulo","onExecutar"])):(0,a.createCommentVNode)("",!0)])])])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"footer",style:{background:"#eee !important"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-right"},{default:(0,a.withCtx)((()=>[r.visibilidade.botao.reabrir?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,class:"q-mx-md",color:"negative",flat:"",label:"Reabrir",onClick:l.reabrir},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),r.visibilidade.botao.reabrir?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,disabled:!r.visibilidade.botao.finalizar,color:"primary",label:"Finalizar",onClick:l.finalizar},null,8,["disabled","onClick"]))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","onKeyup","onHide"])}]]);Z()(Wi,"components",{QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QPageContainer:le.Z,QFooter:Te.Z}),Z()(Wi,"directives",{ClosePopup:J.Z});const er=["beforeInit","afterInit","beforeUpdate","afterUpdate","beforeLayout","afterLayout","beforeDatasetsUpdate","afterDatasetsUpdate","beforeDatasetUpdate","afterDatasetUpdate","beforeRender","afterRender","beforeDraw","afterDraw","beforeDatasetsDraw","afterDatasetsDraw","beforeDatasetDraw","afterDatasetDraw","beforeEvent","afterEvent","resize","destroy"];function or(e,o){return{[o.type]:()=>(e(o.type,o),o.isDefaultPrevented())}}var tr=t(14765),ar=t.n(tr);const ir=(0,a.defineComponent)({name:"Vue3ChartJs",props:{type:{type:String,required:!0},data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]}},emits:er,setup(e,{emit:o}){const t=(0,a.ref)(null),i=er.reduce(((e,a)=>{const i=function(e,o=null){return{type:e,chartRef:o,preventDefault(){this._defaultPrevented=!0},isDefaultPrevented(){return!this._defaultPrevented},_defaultPrevented:!1}}(a,t);return{...e,...or(o,i)}}),{id:"Vue3ChartJsEventHookPlugin"}),r={chart:null,plugins:[i,...e.plugins],props:{...e}},l=()=>r.chart?r.chart.update():(r.chart=new(ar())(t.value.getContext("2d"),{type:r.props.type,data:r.props.data,options:r.props.options,plugins:r.plugins}),r.chart);return(0,a.onMounted)((()=>l())),{chartJSState:r,chartRef:t,render:l,resize:()=>r.chart&&r.chart.resize(),update:()=>{r.props={...r.props,...e},r.chart.update()},destroy:()=>{r.chart&&(r.chart.destroy(),r.chart=null)}}},render:()=>(0,a.h)("canvas",{ref:"chartRef"})}),rr={components:{Badge:S.Z,FaturaModal:Ki,TituloCard:Ha,Grafico:ir},data(){return{tab:"tab-1",graficoMensal:{labels:["Em dia","Dentro do mês","Fora do mês","Inadimplente","Outros"],datasets:[{backgroundColor:["green","yellow","orange","red","gray"],data:[0,0,0,0,0]}]},graficoFluxo:{datasets:[{backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgb(75, 192, 192)",borderWidth:2,data:[50],label:"Entrada"},{borderWidth:2,data:[35],label:"Saída"}]},graficoOpcoesFluxo:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,padding:25}}]}},graficoOpcoesMensal:{responsive:!0,maintainAspectRatio:!1},historicoColunas:[{name:"dataPagamento",label:"Data",field:"dataPagamento",sortable:!0,format:this.$filters.diaMes},{name:"formaDePagamento",label:"Forma",field:"formaDePagamento",sortable:!0},{name:"parcela",label:"Parcelas",field:"parcela"},{name:"valor",label:"Valor",field:"valor",format:e=>this.$filters.numero(e,2)}],titulosCliente:[],titulosEmAberto:[],titulosHistorico:[],creditoCliente:{},saldo:0,documentos:{},modalFatura:{idFatura:"",idTitulo:""},carregandoIdEmpresas:!0,idEmpresasPermissao:[]}},methods:{async calculaDadosGraficoPizza(){let e=[];const o=await $db.financeiroTitulo.le({idContato:$db.contato.selecionado.id});for(const t of o){const o=(t.dataPagamento||"").substr(0,10),a=(t.dataVencimentoOriginal||"").substr(0,10),i=$utils.dataAtual().substr(0,10);let r="Outros",l="tertiary";a&&(o?o<=a?(r="Em dia",l="positive"):o.substr(0,7)===a.substr(0,7)?(r="Dentro do mês",l="warning"):(r="Fora do mês",l="orange"):a<i&&(r="Inadimplente",l="negative")),e.push({eixo:r,cor:l,valor:t.valorRealizado||0,dataPagamento:o,data:o||(t.dataVencimento||"").substr(0,10),dataVencimentoOriginal:a})}let t={"Em dia":{q:0,v:0},"Dentro do mês":{q:0,v:0},"Fora do mês":{q:0,v:0},Inadimplente:{q:0,v:0},Outros:{q:0,v:0}};for(const o of e)t[o.eixo].q+=1,t[o.eixo].v+=o.valor;this.graficoMensal.datasets[0].data=[t["Em dia"].q,t["Dentro do mês"].q,t["Fora do mês"].q,t.Inadimplente.q,t.Outros.q],this.titulosCliente=e},executar(e){this.atualizar()},async receberTitulo(e){let o=[],t=[],a=await $db.contato.le({id:e.idEmpresa}),i={},r=await $db.contato.le({id:e.idContato}),l={},s={};a.id||this.$q.notify("Erro ao recuperar informações da Empresa."),o=await $db.contatoEndereco.leNew({idContato:a.id}),o.length&&(i=o[0]),r.id||this.$q.notify("Erro ao recuperar informações do Contato."),o=await $db.contatoEndereco.leNew({idContato:r.id}),t=await $db.contatoTelefone.leNew({idContato:r.id}),o.length&&(l=o[0]),t.length&&(s=t[0]);let n=await $db.fatura.leNew({status:"Aberta",idContato:r.id,idEmpresa:a.id});for(const o of $lodash.orderBy(n,"dataHoraEmissao","desc")){try{this.modalFatura={idTitulo:e.id},this.$refs.faturaModal.mostrar({id:o.id})}catch(e){this.$q.notifyError("Não foi possível adicionar este título a uma fatura.",e)}return}try{let o={id:$utils.uuid(),status:"Aberta",tipo:"Fatura",dataHoraEmissao:$utils.dataAtual(),calcularAutomatico:"Sim",idEmpresa:a.id,descricaoEmpresa:a.nome||"",numeroDocumentoEmpresa:a.numeroDocumentoNacional||"",inscricaoMunicipalEmpresa:a.numeroDocumentoMunicipal||"",idEmpresaEndereco:i.id||"",idContato:r.id,descricaoContato:r.nome||"",idContatoEndereco:l.id||"",numeroDocumentoContato:r.numeroDocumentoNacional||"",descricaoContatoEndereco:"".concat(l.logradouro||"",", ",l.numero||""," ",l.complemento||""," - ",l.bairro||""," - ",l.municipio||"","/",l.uf||""),telefoneContato:s.telefone||"",emailContato:r.email||"",regimeContato:r.regime||"",observacaoFaturamento:"",optanteSimplesNacional:"SimplesNacional"===a.regime?"1":"0",freteSeparado:!1,operacao:"Faturamento",tipoFrete:"CIF",totalDesconto:0,totalPercentualDesconto:0,subTotal:0,totalDocumento:0};await $db.documento.grava({atual:o}),this.modalFatura={idTitulo:e.id},this.$refs.faturaModal.mostrar({id:o.id})}catch(e){this.$q.notifyError("Não foi possível adicionar este título a uma fatura.",e)}},async atualizar(){this.titulosEmAberto=[],this.titulosHistorico=[];const e=await $db.financeiroTitulo.le({idContato:$db.contato.selecionado.id,emAberto:!0}),o=await $db.financeiroTitulo.le({idContato:$db.contato.selecionado.id,emAberto:!1});this.titulosEmAberto=$lodash.orderBy(e,"dataVencimento","asc"),this.titulosHistorico=$lodash.orderBy(o,"dataPagamento","asc"),this.carregandoIdEmpresas=!0,$db.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0).then((e=>{this.idEmpresasPermissao=e.map((e=>e.id)),this.carregandoIdEmpresas=!1}));let t=await $db.contatoCreditoExtrato.le({idContato:$db.contato.selecionado.id});t=$lodash.orderBy(t,"dataEmissao","asc");let a=0,i={};t=t.filter((e=>"Crédito Devolução"===e.tipo)).reduce(((e,o)=>{const t=this.$filters.data(o.dataEmissao);return e[t]||(e[t]=[]),o.documentoId&&!i[o.documentoId]&&(i[o.documentoId]=$db.documento.le({id:o.documentoId})),a+=o.creditoDevolucao,o.saldo=$utils.arredondar(a),e[t].push(o),e}),{}),this.saldo=$utils.arredondar(a);let r={};for(const e in i)r[e]=await i[e];this.documentos=r,this.creditoCliente=t,await this.calculaDadosGraficoPizza()}},watch:{"$route.params.id"(){this.atualizar()}},mounted(){this.atualizar()}};var lr=t(84384),sr=t(74488),nr=t(80073);const cr=(0,T.Z)(rr,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-tab"),n=(0,a.resolveComponent)("q-tabs"),c=(0,a.resolveComponent)("q-spinner"),d=(0,a.resolveComponent)("q-tooltip"),m=(0,a.resolveComponent)("q-btn"),u=(0,a.resolveComponent)("titulo-card"),p=(0,a.resolveComponent)("q-tab-panel"),h=(0,a.resolveComponent)("q-icon"),C=(0,a.resolveComponent)("q-item-section"),v=(0,a.resolveComponent)("q-item-label"),f=(0,a.resolveComponent)("badge"),N=(0,a.resolveComponent)("q-item"),V=(0,a.resolveComponent)("q-list"),g=(0,a.resolveComponent)("q-card"),x=(0,a.resolveComponent)("grafico"),b=(0,a.resolveComponent)("row"),w=(0,a.resolveComponent)("q-table"),_=(0,a.resolveComponent)("q-tab-panels"),y=(0,a.resolveComponent)("fatura-modal");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Ho,[(0,a.createVNode)(n,{modelValue:r.tab,"onUpdate:modelValue":o[0]||(o[0]=e=>r.tab=e),class:"bg-transparent q-mt-lg text-primary",color:"transparent",align:"left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{label:"Em aberto",name:"tab-1"}),(0,a.createVNode)(s,{label:"Crédito do Cliente",name:"tab-2"}),(0,a.createVNode)(s,{label:"Histórico",name:"tab-3"})])),_:1},8,["modelValue"]),(0,a.createVNode)(_,{modelValue:r.tab,"onUpdate:modelValue":o[1]||(o[1]=e=>r.tab=e),animated:"",class:"q-mb-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"bg-white",name:"tab-1"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Jo," Total R$ "+(0,a.toDisplayString)(e.$filters.numero(r.titulosEmAberto.reduce(((e,o)=>e+o.valorTotal),0),2)),1),r.titulosEmAberto.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",Yo,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.titulosEmAberto,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id},[(0,a.createVNode)(u,{dados:e,class:"q-mb-md",onExecutar:l.executar},{default:(0,a.withCtx)((()=>[r.carregandoIdEmpresas?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,dense:"",flat:"",class:"no-shadow q-ma-xs",style:{float:"right"}})):(0,a.createCommentVNode)("",!0),r.carregandoIdEmpresas||e.cheque||!r.idEmpresasPermissao.includes(e.idEmpresa)?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(m,{key:1,color:"primary",dense:"",flat:"",rounded:"",icon:"save_alt",size:"md",unelevated:"",style:{float:"right"},onClick:o=>l.receberTitulo(e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[Xo])),_:1})])),_:2},1032,["onClick"]))])),_:2},1032,["dados","onExecutar"])])))),128))])):((0,a.openBlock)(),(0,a.createElementBlock)("div",Wo," Não há titulos em aberto para este contato "))])),_:1}),(0,a.createVNode)(p,{class:"bg-white",name:"tab-2"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Ko," Saldo R$ "+(0,a.toDisplayString)(e.$filters.numero(r.saldo,2)),1),(0,a.createVNode)(g,{class:"no-shadow"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(Object.keys(r.creditoCliente),(o=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o,class:"q-pa-none text-left"},[(0,a.createElementVNode)("label",et,(0,a.toDisplayString)(o),1),(0,a.createVNode)(V,{highlight:"",style:{width:"100%"}},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.creditoCliente[o],(o=>((0,a.openBlock)(),(0,a.createBlock)(N,{key:o.id},{default:(0,a.withCtx)((()=>[o.creditoDevolucao<0?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0,avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"trending_down",color:"red"})])),_:1})):((0,a.openBlock)(),(0,a.createBlock)(C,{key:1,icon:"trending_up",avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"trending_up",color:"green-6"})])),_:1})),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.documentoTipo),1)])),_:2},1024),(0,a.createVNode)(v,{caption:""},{default:(0,a.withCtx)((()=>[ot])),_:1})])),_:2},1024),(0,a.createVNode)(C,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"q-mx-sm",escuro:"",cor:"green-6",denso:"",round:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)(parseInt((r.documentos[o.documentoId]||{}).numero)||(o.documentoId||"").slice(-6)),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(C,{right:""},{default:(0,a.withCtx)((()=>[o.creditoDevolucao<0?((0,a.openBlock)(),(0,a.createElementBlock)("p",tt,(0,a.toDisplayString)(e.$filters.numero(o.creditoDevolucao,2)),1)):((0,a.openBlock)(),(0,a.createElementBlock)("p",at,(0,a.toDisplayString)(e.$filters.numero(o.creditoDevolucao,2)),1)),o.saldo<0?((0,a.openBlock)(),(0,a.createElementBlock)("p",it,[(0,a.createElementVNode)("small",null,(0,a.toDisplayString)(e.$filters.numero(o.saldo,2)),1)])):((0,a.openBlock)(),(0,a.createElementBlock)("p",rt,[(0,a.createElementVNode)("small",null,(0,a.toDisplayString)(e.$filters.numero(o.saldo,2)),1)]))])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)])))),128))])),_:1})])),_:1}),(0,a.createVNode)(p,{class:"bg-white",name:"tab-3"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",lt,[(0,a.withDirectives)((0,a.createElementVNode)("div",null,[st,(0,a.createVNode)(b,{class:"q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{type:"pie",data:r.graficoMensal,options:r.graficoOpcoesMensal,class:"col-12"},null,8,["data","options"])])),_:1})],512),[[a.vShow,r.titulosCliente.length]])]),(0,a.createElementVNode)("div",nt,[ct,r.titulosHistorico.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",dt,[(0,a.createVNode)(w,{columns:r.historicoColunas,rows:r.titulosHistorico,grid:"","rows-per-page-options":[15]},null,8,["columns","rows"])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",mt," Não há titulos pagos "))])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(y,{ref:"faturaModal",receberTitulo:{id:r.modalFatura.idTitulo},onExecutar:l.executar},null,8,["receberTitulo","onExecutar"])])}]]);Z()(rr,"components",{QTabs:ko.Z,QTab:Do.Z,QTabPanels:lr.Z,QTabPanel:sr.Z,QSpinner:Me.Z,QBtn:H.Z,QTooltip:Ao.Z,QCard:D.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QIcon:L.Z,QItemLabel:j.Z,QTable:nr.Z});const dr={class:"q-mt-md full-width float-left"},mr={class:"bg-white q-px-md q-pb-md rounded-borders"},ur={class:"col-1 col-md-auto"},pr={class:"col-11 col-md",icon:"person"},hr={class:"col-6 col-md",icon:"healing"},Cr={class:"col-6 col-md",icon:"calendar_today"},vr={key:0,class:"bg-white q-pa-xl text-center rounded-borders"},fr=(0,a.createElementVNode)("p",{class:"text-caption"},"Para incluir, utilize o botão de adição.",-1),Nr=(0,a.createTextVNode)("Receita"),Vr=(0,a.createTextVNode)("Duplicar"),gr=(0,a.createTextVNode)("Remover"),xr={class:"q-pa-md"},br={class:"col-12 col-md-4"},wr=(0,a.createElementVNode)("span",{class:"text-body2"},"Paciente: ",-1),_r={class:"col-12 col-md-4"},yr=(0,a.createElementVNode)("span",{class:"text-body2"},"Médico: ",-1),Ir={class:"col-12 col-md-2"},Er=(0,a.createElementVNode)("span",{class:"text-body2"},"Data: ",-1),Sr={class:"col-12 col-md-2"},Mr=(0,a.createElementVNode)("span",{class:"text-body2"},"Validade: ",-1),Tr={key:0,class:"col-12"},kr=(0,a.createElementVNode)("strong",{class:"text-body2"},"Observação:",-1),Dr={style:{"font-weight":"bold !important","font-size":"120%",color:"black"}},qr=(0,a.createTextVNode)("Olho Direito"),Fr=(0,a.createTextVNode)("Olho Esquerdo"),Pr=(0,a.createTextVNode)("Adição"),Ar=(0,a.createTextVNode)("Esférico"),Br=(0,a.createTextVNode)("Cilíndrico"),Lr=(0,a.createTextVNode)("Eixo"),Or=(0,a.createTextVNode)("Prisma"),zr=(0,a.createTextVNode)("Base"),jr=(0,a.createTextVNode)("DNP"),$r={id:"envelopeCard"},Ur={class:"col-6 col-md-6"},Zr=(0,a.createTextVNode)(" Envelope "),Qr={class:"col-6 col-md",style:{"justify-content":"space-between",display:"flex"}},Rr={class:"col-12 col-md-auto"},Gr={class:"col-12"},Hr=(0,a.createTextVNode)("Anexos"),Jr=["href"],Yr=["src"],Xr={class:"text-center q-mt-none"};var Wr=t(34976);const Kr={components:{Pupilometro:Wr.Z},data:()=>({arquivos:{},configImpressaoEnvelope:[],envelope:{},pupilometro:{}}),methods:{abrirModalArquivos(){this.arquivos.obj={},this.arquivos.mostrarModal=!0},abrirModalPupilometro(){$db.pupilometro.limpar(),$db.pupilometro.foto=this.pupilometro.obj.foto,$db.pupilometro.fotoOriginal=this.pupilometro.obj.fotoOriginal,$db.pupilometro.medidas=this.pupilometro.obj.medidas,this.pupilometro.mostrarModal=!0},async atualizar(){let e,o,t;e=await $erp().documento.get(this.id)||{},e.id&&(o=await $erp().documentoItem.where({idDocumentoAdicional:this.id}).toArray(),o=o.filter((e=>e.idItem)),t=await $erp().arquivo.where({idTabelaMaster:this.id}).toArray(),this.arquivos=this.createFreshArquivos(),t.length&&(this.arquivos.arr=t,this.arquivos.mostrarBotao=!0),e.documentoId&&e.idEmpresa&&this.configuraImpressaoEnvelope(e.idEmpresa),this.envelope={...e,itens:o}),this.carregarPupilometro()},async carregarPupilometro(){let e,o;e=await $erp().json.where({descricao:"Pupilômetro",referencia:"idEnvelope:"+this.id}).toArray(),o=(e.find((e=>e.id))||{}).json,this.pupilometro=this.createFreshPupilometro(),o&&(this.pupilometro.obj=JSON.parse(o),this.pupilometro.mostrarBotao=!0),this.pupilometro.mostrarBotao=this.pupilometro.mostrarBotao&&await $db.permissao.objeto("pupilometro")},async configuraImpressaoEnvelope(e){const o=await $db.configuracoes.porNome("impressao.envelope",e);this.configImpressaoEnvelope=[...o.length?o.map((e=>({texto:"Imprimir Envelope",...e}))):[{valor:"envelope",texto:"Imprimir Envelope"},{valor:"envelopeMini",texto:"Imprimir Envelope Mini"}]]},createFreshArquivos:()=>({mostrarBotao:!1,mostrarModal:!1,obj:{},arr:[]}),createFreshPupilometro:()=>({mostrarBotao:!1,mostrarModal:!1,obj:{}})},props:{id:{type:String,required:!0}},created(){this.atualizar()}},el=(0,T.Z)(Kr,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-badge"),c=(0,a.resolveComponent)("q-btn"),d=(0,a.resolveComponent)("q-icon"),m=(0,a.resolveComponent)("q-item-section"),u=(0,a.resolveComponent)("q-item-label"),p=(0,a.resolveComponent)("q-item"),h=(0,a.resolveComponent)("q-list"),C=(0,a.resolveComponent)("q-menu"),v=(0,a.resolveComponent)("row"),f=(0,a.resolveComponent)("q-card"),N=(0,a.resolveComponent)("pupilometro"),V=(0,a.resolveComponent)("q-layout"),g=(0,a.resolveComponent)("q-dialog"),x=(0,a.resolveComponent)("q-toolbar"),b=(0,a.resolveComponent)("q-header"),w=(0,a.resolveComponent)("q-separator"),_=(0,a.resolveComponent)("q-page-container"),y=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",$r,[(0,a.createVNode)(f,{class:"card q-pa-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Ur,[(0,a.createVNode)(s,{class:"q-py-none"},{default:(0,a.withCtx)((()=>[Zr])),_:1})]),(0,a.createElementVNode)("div",Qr,[(0,a.createVNode)(n,{color:"tertiary",small:"",rounded:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.envelope.status),1)])),_:1}),(0,a.createVNode)(n,{escuro:"",small:"",color:"positive"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)(parseInt(r.envelope.numero)||(r.envelope.id||"").slice(-6)),1)])),_:1})]),(0,a.createElementVNode)("div",Rr,[r.pupilometro.mostrarBotao?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,icon:"mdi-eye-settings-outline",color:"tertiary",size:"md",rounded:"",dense:"",flat:"",style:{float:"right"},onClick:o[0]||(o[0]=e=>l.abrirModalPupilometro())})):(0,a.createCommentVNode)("",!0),r.arquivos.mostrarBotao?((0,a.openBlock)(),(0,a.createBlock)(c,{key:1,rounded:"",dense:"",flat:"",icon:"mdi-paperclip",color:"tertiary",size:"md",style:{float:"right"},onClick:o[1]||(o[1]=e=>l.abrirModalArquivos())})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(c,{rounded:"",dense:"",flat:"",icon:"print",color:"tertiary",size:"md",style:{float:"right"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{link:"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.configImpressaoEnvelope,(o=>((0,a.openBlock)(),(0,a.createBlock)(p,{clickable:"",key:o.valor,onClick:t=>e.$imprimir(o.valor,r.envelope.documentoId||"0")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"print"})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.texto),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})])])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Gr,[e.$lodash.get(r.envelope,"itens.length")?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,class:"no-border"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.envelope.itens,(o=>((0,a.openBlock)(),(0,a.createBlock)(p,{key:o.id,class:"q-pa-none full-width",style:{"min-height":"auto  !important"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("small",null,(0,a.toDisplayString)(o.quantidade)+"x",1)])),_:2},1024),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("small",null,(0,a.toDisplayString)(o.descricaoItem),1)])),_:2},1024),(0,a.createVNode)(m,{right:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("small",null,(0,a.toDisplayString)(e.$filters.numero(o.total,2)),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})):(0,a.createCommentVNode)("",!0)])])),_:1})])),_:1}),(0,a.createVNode)(g,{modelValue:r.pupilometro.mostrarModal,"onUpdate:modelValue":o[3]||(o[3]=e=>r.pupilometro.mostrarModal=e),maximized:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{avancar:"Medidas",somenteLeitura:!0,onFecharModal:o[2]||(o[2]=e=>r.pupilometro.mostrarModal=!1)})])),_:1})])),_:1},8,["modelValue"]),e.$lodash.get(r.arquivos,"arr.length")?((0,a.openBlock)(),(0,a.createBlock)(g,{key:0,modelValue:r.arquivos.mostrarModal,"onUpdate:modelValue":o[4]||(o[4]=e=>r.arquivos.mostrarModal=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[Hr])),_:1}),(0,a.withDirectives)((0,a.createVNode)(c,{dense:"",flat:"",icon:"close",round:""},null,512),[[y]])])),_:1})])),_:1}),(0,a.createVNode)(_,null,{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.arquivos.arr,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{multiline:"",key:e.id,class:"q-pa-md"},[(0,a.createElementVNode)("a",{href:e.arquivo,download:""},[(0,a.createElementVNode)("img",{src:e.arquivo,style:{"max-width":"100%",height:"auto"}},null,8,Yr),(0,a.createElementVNode)("p",Xr,(0,a.toDisplayString)(e.nome),1)],8,Jr),(0,a.createVNode)(w)])))),128))])),_:1})])),_:1})])),_:1},8,["modelValue"])):(0,a.createCommentVNode)("",!0)])}]]);Z()(Kr,"components",{QCard:D.Z,QToolbarTitle:G.Z,QBadge:B.Z,QBtn:H.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QIcon:L.Z,QItemLabel:j.Z,QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QPageContainer:le.Z,QSeparator:$.Z}),Z()(Kr,"directives",{ClosePopup:J.Z});var ol=t(54097);const tl={components:{Badge:S.Z,EnvelopeCard:el,Receita:ol.Z},data:()=>({columns:[{name:"distancia",align:"left",field:"distancia",style:"font-weight:bold;min-width:110px"},{name:"adicao",align:"center",field:"adicao"},{name:"esferico",align:"center",field:"esferico"},{name:"cilindrico",align:"center",field:"cilindrico"},{name:"eixo",align:"center",field:"eixo"},{name:"prisma",align:"center",field:"prisma"},{name:"base",align:"center",field:"base"},{name:"dnp",align:"center",field:"dnp"}],contato:{},configImpressaoReceita:{},receitas:[],idsEnvelopeReceita:{},filtro:{},filtros:{pacientes:{todos:[],selecionados:[]},medicos:{todos:[],selecionados:[]},validade:{todos:[{label:"Vencido",value:"vencido"},{label:"À vencer",value:"aVencer"}],selecionados:[]}}}),methods:{async configuraImpressaoReceita(e){if(this.configImpressaoReceita[e])return;let o=[];const t=await $db.configuracoes.porNome("impressao.receita",e);o=t.length?t.map((e=>({texto:"Imprimir Receita",...e}))):[{valor:"receita-qrcode",texto:"Imprimir Receita"}];const a=$utils.clonarV2(this.configImpressaoReceita);a[e]=o,this.configImpressaoReceita=a},dadosTabela(e,o){const t=[],a=$lodash.get(o,`prisma.${e}.valor`),i=$lodash.get(o,`prisma.${e}.base`,"").trim();let r,l,s,n,c,d=[{label:"Longe",value:"longe"},{label:"Médio",value:"medio"},{label:"Perto",value:"perto"}];for(const m of d)r=$lodash.get(o,`dioptria.${e}.${m.value}.adicao`),l=$lodash.get(o,`dioptria.${e}.${m.value}.esferico`),s=$lodash.get(o,`dioptria.${e}.${m.value}.cilindrico`),n=$lodash.get(o,`dioptria.${e}.${m.value}.eixo`),c=$lodash.get(o,`dioptria.${e}.${m.value}.dnp`),(l||s||n||c)&&t.push({distancia:m.label,adicao:r,esferico:l,cilindrico:s,eixo:n,prisma:a,base:i,dnp:c});return t},habilitaPerto(e){let o=!1,t=!1;return($lodash.get(e,"dioptria.od.longe.esferico")||$lodash.get(e,"dioptria.od.longe.cilindrico")||$lodash.get(e,"dioptria.od.longe.eixo")||$lodash.get(e,"dioptria.od.longe.dnp")||$lodash.get(e,"dioptria.oe.longe.esferico")||$lodash.get(e,"dioptria.oe.longe.cilindrico")||$lodash.get(e,"dioptria.oe.longe.eixo")||$lodash.get(e,"dioptria.oe.longe.dnp"))&&(t=!0),!t&&($lodash.get(e,"dioptria.od.perto.cilindrico")||$lodash.get(e,"dioptria.od.perto.eixo")||$lodash.get(e,"dioptria.oe.perto.cilindrico")||$lodash.get(e,"dioptria.oe.perto.eixo"))&&(o=!0),o},async abrirModalReceita(e,o){try{let t;if(e){const o=await $db.documento.le({id:e});o.idEmpresa&&(t=o.idEmpresa)}if(e&&t||(t=(await $g.promptContato.show({filtro:{ativo:!0,empresas:!0},placeholder:"Selecione a empresa"})||{}).id),!t)return;this.$refs.modalReceita.mostrar({id:e||$utils.uuid(),idEmpresa:t,duplicarReceita:o})}catch(e){this.$q.notifyError("Ocorreu um erro ao carregar a receita.",e)}},async atualizar(){let e=[];const o=await $erp().documento.where({tipo:"Prescrição"}).toArray(),t={idContato:this.contato.id,idsPaciente:[],idsMedico:[],validade:"",...this.filtro};if(!t.idContato)return;const a=await $db.contato.leFilhos(t.idContato)||[];a.push({id:t.idContato});for(const t of o)a.map((e=>e.id)).includes(t.idContato)&&"Prescrição"===t.tipo&&e.push(t);const i={},r={};for(let o in e)e[o]=await $db.receita.le({id:e[o].id}),i[e[o].medico.id]={nome:e[o].medico.nome},r[e[o].paciente.id]={nome:e[o].paciente.nome};const l=[];for(const e in i)l.push({value:e,label:i[e].nome});this.filtros.medicos.todos=l;const s=[];for(const e in r)s.push({value:e,label:r[e].nome});if(this.filtros.pacientes.todos=s,this.filtros.pacientes.selecionados.length&&(e=e.filter((e=>this.filtros.pacientes.selecionados.find((o=>o.value===e.paciente.id))))),this.filtros.medicos.selecionados.length&&(e=e.filter((e=>this.filtros.medicos.selecionados.find((o=>o.value===e.medico.id))))),1===this.filtros.validade.selecionados.length){const o=(new Date).setHours(0,0,0,0);this.filtros.validade.selecionados.find((e=>"vencido"===e.value))&&(e=e.filter((e=>new Date(e.validade).setHours(0,0,0,0)<o))),this.filtros.validade.selecionados.find((e=>"aVencer"===e.value))&&(e=e.filter((e=>new Date(e.validade).setHours(0,0,0,0)>=o)))}for(const o of e){const e=[];await $erp().documento.where({idDocumentoAdicional:o.id}).each((o=>{e.push(o.id)})),this.idsEnvelopeReceita[o.id]=e,this.configuraImpressaoReceita(o.idEmpresa)}this.receitas=$lodash.orderBy(e,"validade","desc")},async excluirReceita(e){this.$q.dialog({message:"Esta ação irá excluir a receita.",title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{try{await $db.receita.exclui(e),this.$q.notifyPositive("Receita excluída com sucesso.")}catch(e){this.$q.notifyError("Ocorreu um erro ao excluir a receita.",e)}this.atualizar()}))},async carregarContato(){const e=this.$route.params.id;this.contato=await $db.contato.le({id:e})}},watch:{async"$route.params.id"(){await this.carregarContato(),this.atualizar()}},async mounted(){await this.carregarContato(),this.atualizar()}};var al=t(40320),il=t(81312),rl=t(59459),ll=t(36852),sl=t(89561);const nl=(0,T.Z)(tl,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-item-label"),c=(0,a.resolveComponent)("q-item-section"),d=(0,a.resolveComponent)("q-toggle"),m=(0,a.resolveComponent)("q-item"),u=(0,a.resolveComponent)("q-select"),p=(0,a.resolveComponent)("row"),h=(0,a.resolveComponent)("q-toolbar-title"),C=(0,a.resolveComponent)("badge"),v=(0,a.resolveComponent)("q-list"),f=(0,a.resolveComponent)("q-menu"),N=(0,a.resolveComponent)("q-btn"),V=(0,a.resolveComponent)("q-toolbar"),g=(0,a.resolveComponent)("q-th"),x=(0,a.resolveComponent)("q-tr"),b=(0,a.resolveComponent)("q-td"),w=(0,a.resolveComponent)("q-table"),_=(0,a.resolveComponent)("envelopeCard"),y=(0,a.resolveComponent)("receita"),I=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",dr,[(0,a.createElementVNode)("div",mr,[(0,a.createVNode)(p,{class:"q-col-gutter-md items-center"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ur,[(0,a.createVNode)(s,{name:"mdi-filter",size:"sm",class:"text-tertiary"})]),(0,a.createElementVNode)("div",pr,[(0,a.createVNode)(u,{outlined:"",dense:"",modelValue:r.filtros.pacientes.selecionados,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.filtros.pacientes.selecionados=e),l.atualizar],multiple:"",options:r.filtros.pacientes.todos,label:"Paciente"},(0,a.createSlots)({_:2},[r.filtros.pacientes.todos.length>1?{name:"option",fn:(0,a.withCtx)((({itemProps:e,opt:o,selected:t,toggleOption:i})=>[(0,a.createVNode)(m,(0,a.normalizeProps)((0,a.guardReactiveProps)(e)),{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{innerHTML:o.label},null,8,["innerHTML"])])),_:2},1024),(0,a.createVNode)(c,{side:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{"model-value":t,"onUpdate:modelValue":e=>i(o)},null,8,["model-value","onUpdate:modelValue"])])),_:2},1024)])),_:2},1040)]))}:void 0]),1032,["modelValue","options","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",hr,[(0,a.createVNode)(u,{outlined:"",dense:"",modelValue:r.filtros.medicos.selecionados,"onUpdate:modelValue":[o[1]||(o[1]=e=>r.filtros.medicos.selecionados=e),l.atualizar],"map-options":"",multiple:"",options:r.filtros.medicos.todos,label:"Médico"},(0,a.createSlots)({_:2},[r.filtros.medicos.todos.length>1?{name:"option",fn:(0,a.withCtx)((({itemProps:e,opt:o,selected:t,toggleOption:i})=>[(0,a.createVNode)(m,(0,a.normalizeProps)((0,a.guardReactiveProps)(e)),{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{innerHTML:o.label},null,8,["innerHTML"])])),_:2},1024),(0,a.createVNode)(c,{side:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{"model-value":t,"onUpdate:modelValue":e=>i(o)},null,8,["model-value","onUpdate:modelValue"])])),_:2},1024)])),_:2},1040)]))}:void 0]),1032,["modelValue","options","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",Cr,[(0,a.createVNode)(u,{outlined:"",dense:"",modelValue:r.filtros.validade.selecionados,"onUpdate:modelValue":[o[2]||(o[2]=e=>r.filtros.validade.selecionados=e),l.atualizar],multiple:"",options:r.filtros.validade.todos,label:"Validade"},{option:(0,a.withCtx)((({itemProps:e,opt:o,selected:t,toggleOption:i})=>[(0,a.createVNode)(m,(0,a.normalizeProps)((0,a.guardReactiveProps)(e)),{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{innerHTML:o.label},null,8,["innerHTML"])])),_:2},1024),(0,a.createVNode)(c,{side:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{"model-value":t,"onUpdate:modelValue":e=>i(o)},null,8,["model-value","onUpdate:modelValue"])])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options","onUpdate:modelValue"])])])),_:1})]),r.receitas.length?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",vr,[(0,a.createElementVNode)("p",null,"Não há receitas cadastradas para o contato "+(0,a.toDisplayString)((r.contato.nome||"").trim())+".",1),fr])),(0,a.createElementVNode)("div",null,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.receitas,(o=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"bg-white q-mt-md rounded-borders",key:o.id},[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[Nr])),_:1}),(0,a.createVNode)(C,{class:"q-mr-md",cor:"positive",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.id?"#"+o.id.substr(-6,6):""),1)])),_:2},1024),r.configImpressaoReceita[o.idEmpresa]?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[r.configImpressaoReceita[o.idEmpresa].length>1?((0,a.openBlock)(),(0,a.createBlock)(N,{key:0,color:"tertiary",dense:"",flat:"",icon:"print",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{link:"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.configImpressaoReceita[o.idEmpresa],(t=>((0,a.openBlock)(),(0,a.createBlock)(m,{clickable:"",key:t.valor,onClick:a=>e.$imprimir(t.valor,(o||{}).id||"0")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"print"})])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.texto),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)):((0,a.openBlock)(),(0,a.createBlock)(N,{key:1,color:"tertiary",dense:"",flat:"",icon:"print",round:"",onClick:t=>e.$imprimir(r.configImpressaoReceita[o.idEmpresa][0].valor,(o||{}).id||"0")},null,8,["onClick"]))],64)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(N,{color:"primary",dense:"",flat:"",icon:"edit",onClick:e=>l.abrirModalReceita(o.id,!1),round:""},null,8,["onClick"]),(0,a.createVNode)(N,{color:"tertiary",flat:"",icon:"more_vert",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{link:"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(m,{clickable:"",onClick:e=>l.abrirModalReceita(o.id,!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"file_copy"})])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[Vr])),_:1})])),_:1})])),_:2},1032,["onClick"]),[[I]]),r.idsEnvelopeReceita[o.id].length?(0,a.createCommentVNode)("",!0):(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,clickable:"",onClick:e=>l.excluirReceita(o.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"delete"})])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[gr])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[I]])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.createElementVNode)("div",xr,[(0,a.createVNode)(p,{class:"q-col-gutter-md q-mb-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",br,[wr,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(o.paciente.nome),1)]),(0,a.createElementVNode)("div",_r,[yr,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(o.medico.nome),1)]),(0,a.createElementVNode)("div",Ir,[Er,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.$filters.data(o.data)),1)]),(0,a.createElementVNode)("div",Sr,[Mr,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.$filters.data(o.validade)),1)]),o.observacoes?((0,a.openBlock)(),(0,a.createElementBlock)("div",Tr,[kr,(0,a.createElementVNode)("p",null,(0,a.toDisplayString)(o.observacoes),1)])):(0,a.createCommentVNode)("",!0)])),_:2},1024),(0,a.createVNode)(p,{class:"q-col-gutter-md q-mb-md"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(["od","oe"],(t=>(0,a.createVNode)(w,{key:t,class:"col-xs-12 col-md-6 no-shadow",rows:l.dadosTabela(t,o.prescricao),columns:r.columns,"row-key":"name",separator:"cell",dense:"","hide-bottom":""},{header:(0,a.withCtx)((e=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{key:"distancia",props:e,style:{"min-width":"110px","max-width":"110px"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("span",Dr,["od"===t?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[qr],64)):(0,a.createCommentVNode)("",!0),"oe"===t?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[Fr],64)):(0,a.createCommentVNode)("",!0)])])),_:2},1032,["props"]),(0,a.createVNode)(g,{key:"adicao",props:e},{default:(0,a.withCtx)((()=>[Pr])),_:2},1032,["props"]),(0,a.createVNode)(g,{key:"esferico",props:e},{default:(0,a.withCtx)((()=>[Ar])),_:2},1032,["props"]),(0,a.createVNode)(g,{key:"cilindrico",props:e},{default:(0,a.withCtx)((()=>[Br])),_:2},1032,["props"]),(0,a.createVNode)(g,{key:"eixo",props:e},{default:(0,a.withCtx)((()=>[Lr])),_:2},1032,["props"]),(0,a.createVNode)(g,{key:"prisma",props:e},{default:(0,a.withCtx)((()=>[Or])),_:2},1032,["props"]),(0,a.createVNode)(g,{key:"base",props:e},{default:(0,a.withCtx)((()=>[zr])),_:2},1032,["props"]),(0,a.createVNode)(g,{key:"dnp",props:e},{default:(0,a.withCtx)((()=>[jr])),_:2},1032,["props"])])),_:2},1024)])),body:(0,a.withCtx)((o=>[(0,a.createVNode)(x,{props:o},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{key:"distancia",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.distancia),1)])),_:2},1032,["props"]),(0,a.createVNode)(b,{key:"adicao",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numeroSinal(o.row.adicao,2)),1)])),_:2},1032,["props"]),(0,a.createVNode)(b,{key:"esferico",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numeroSinal(o.row.esferico,2)),1)])),_:2},1032,["props"]),(0,a.createVNode)(b,{key:"cilindrico",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numeroSinal(o.row.cilindrico,2)),1)])),_:2},1032,["props"]),(0,a.createVNode)(b,{key:"eixo",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.eixo),1)])),_:2},1032,["props"]),(0,a.createVNode)(b,{key:"prisma",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.prisma),1)])),_:2},1032,["props"]),(0,a.createVNode)(b,{key:"base",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.base),1)])),_:2},1032,["props"]),(0,a.createVNode)(b,{key:"dnp",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numeroOuBranco(o.row.dnp,2)),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:2},1032,["rows","columns"]))),64))])),_:2},1024),(0,a.createVNode)(p,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.idsEnvelopeReceita[o.id],(e=>((0,a.openBlock)(),(0,a.createBlock)(_,{key:e,id:e,class:"col-12"},null,8,["id"])))),128))])),_:2},1024)])])))),128))]),(0,a.createVNode)(y,{ref:"modalReceita",onAtualizar:l.atualizar},null,8,["onAtualizar"]),(0,a.createVNode)(N,{round:"",color:"primary",class:"fixed",icon:"add",size:"lg",style:{right:"18px",bottom:"18px"},onClick:o[3]||(o[3]=e=>l.abrirModalReceita("",!1))})])}]]);Z()(tl,"components",{QIcon:L.Z,QSelect:al.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z,QToggle:il.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QMenu:Bo.Z,QList:F.Z,QTable:nr.Z,QTr:rl.Z,QTh:ll.Z,QTd:sl.Z}),Z()(tl,"directives",{ClosePopup:J.Z});const cl={class:"AtendimentoVenda q-pb-md"},dl={class:"row q-mt-md",style:{display:"flex","align-items":"center"}},ml={class:"col"},ul={class:"col-12 col-md-6"},pl={class:"col"},hl=(0,a.createElementVNode)("div",{class:"col-auto",style:{"align-items":"center",display:"flex"}},[(0,a.createElementVNode)("label",null,"até")],-1),Cl={class:"col"},vl={class:"col-auto q-ml-xs"},fl=(0,a.createTextVNode)("Vendas"),Nl=(0,a.createTextVNode)("Produtos e Serviço"),Vl=(0,a.createTextVNode)("Histórico do Cliente"),gl=(0,a.createTextVNode)(" Outras opções "),xl={key:0,class:"row justify-end q-mb-md"},bl={class:"row"},wl={key:1,class:"row justify-end q-mb-md"},_l={key:0,class:"row justify-end q-mb-md"},yl={class:"row"},Il={key:1,class:"row justify-end q-mb-md"},El={key:0,class:"col-12",style:{"margin-bottom":"50px"}},Sl={key:1,class:"col-12",style:{"margin-bottom":"50px"}},Ml={class:"row items-center",style:{"min-width":"180px","max-width":"100%"}},Tl={class:"col-auto hideonmobile"},kl={class:"col",style:{"word-break":"break-word","white-space":"initial"}},Dl=(0,a.createElementVNode)("br",null,null,-1),ql=(0,a.createElementVNode)("br",null,null,-1),Fl=(0,a.createElementVNode)("br",null,null,-1),Pl=(0,a.createElementVNode)("br",null,null,-1),Al=(0,a.createElementVNode)("br",null,null,-1),Bl={key:0,style:{"text-decoration":"line-through"}},Ll=(0,a.createTextVNode)("Devolução/Garantia"),Ol={key:2,class:"q-pa-lg text-center"},zl=[(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Registros não encontrados")],-1)],jl={key:3,class:"q-mt-lg text-center"},$l=(0,a.createTextVNode)("Nota Fiscal"),Ul={key:0},Zl={class:"q-mt-lg text-center"},Ql={key:1};var Rl=t(4834),Gl=t(70154),Hl=t(81105),Jl=t(29497);const Yl={computed:{atributos(){const e=this.meta||{},o={};return e._decimals&&(o.decimals=e._decimals),e._doc&&(o.dica=e._doc),e._maxLength&&(o.maxlength=e._maxLength),e._enumeration&&(o.opcoes=e._enumeration),e._titulo&&(o.rotulo=e._titulo),e._tipo&&(o.tipo=e._tipo),{...o,...this.$attrs}}},data:()=>({}),emits:["update:modelValue"],props:{modelValue:{type:[Number,String,Boolean,Date]},meta:{type:Object}},methods:{consisteCampo(e){if(this.meta)return Jl.Z.consisteCampo(e,this.meta,"")},emitirModelValue(e){this.$emit("update:modelValue",e)}},created(){this.meta||console.error("NFeCampo sem atributo meta. modelValue:",this.modelValue),void 0===this.modelValue&&console.error("NFeCampo com v-model com valor undefined",this.meta)}},Xl={components:{nfeCampo:(0,T.Z)(Yl,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("campo");return(0,a.openBlock)(),(0,a.createBlock)(s,(0,a.mergeProps)({"model-value":t.modelValue,rules:[l.consisteCampo]},l.atributos,{"onUpdate:modelValue":l.emitirModelValue,dense:""}),null,16,["model-value","rules","onUpdate:modelValue"])}]])},computed:{alteraBC(){return this.outrosNFe.automatico.calculaBC||"Em digitação"!==this.nota.situacao},alteraTotais(){return this.outrosNFe.calculaTotais||"Em digitação"!==this.nota.situacao},badgeCor(){return"Emitido"===this.nota.situacao?"positive":"Carta de Correção"===this.nota.situacao||"Cancelado"===this.nota.situacao?"orange":"Em digitação"===this.nota.situacao?"tertiary":"negative"},emDigitacao(){return"Em digitação"===this.nota.situacao},infNFe(){return this.nota.infNFe},metadados:()=>Gl.Z,outrosNFe(){return this.nota.outrosNFe}},data:()=>({}),methods:{adicionarLinhaNaLista(e,o){let t=Rl.Z.executa(o,{},"NFe");e.push(t)},calcularTotais(){this.verificaSePodeAlterar()&&Hl.Z.calculaTotais(this.infNFe,this.outrosNFe,Gl.Z)},calcularTotaisSemDistribuir(){this.verificaSePodeAlterar()&&Hl.Z.calculaTotais(this.infNFe,this.outrosNFe,Gl.Z,!1)},removerLinhaDaLista(e,o){e.splice(o,1),this.calcularTotais()},verificaSePodeAlterar(){return!(this.outrosNFe.importada||this.outrosNFe.transmitida)}}};var Wl=t(62159),Kl=t(82812),es=t(80166),os=t(84573),ts=t(81792),as=t(4340);const is={data:function(){return{infEvento:Rl.Z.executa(Gl.Z.infEvento,{})}},emits:["atualizar","salvar"],methods:{async abrirModalCancelamento(){$utils.gconsole.log("NFeCancelamento","abrirModalCancelamento"),this.infEvento=Rl.Z.executa(Gl.Z.infEvento,{cOrgao:this.nota.infNFe.ide.cUF,tpAmb:this.nota.infNFe.ide.tpAmb,escolhas:{valor_escolha:this.nota.infNFe.emit.escolhas.valor_escolha,CNPJ:this.nota.infNFe.emit.escolhas.CNPJ,CPF:this.nota.infNFe.emit.escolhas.CPF},chNFe:this.nota.outrosNFe.chNFe,dhEvento:os.Z.formatarDataNFe(new Date),nSeqEvento:"1",detEvento:{nProt:this.outrosNFe.nProt_emissao,xJust:"Nota cancelada devido divergencia de informacoes"}}),this.$refs.dialog.show()},async transmitirCancelamento(){let e="Erro na operação de Cancelamento";try{$utils.gconsole.log("NFeCancelamento","transmitirCancelamento",this.infEvento),$utils.verificarErro(!this.infEvento.detEvento.xJust,"Justificativa não preenchida");const o={...this.nota};if(this.infEvento.detEvento.xJust=$utils.removerAcentos(this.infEvento.detEvento.xJust),o.infEvento=Wl.Z.executa(Gl.Z.infEvento,this.infEvento),Wl.Z.erros.length)return void $g.modalAlerta.show({titulo:"Erro de validação",erros:Wl.Z.erros});ts.Z.show({spinner:as.Z,spinnerColor:"amber",message:"Selecionando Certificado e Trasmitindo o Cancelamento"}),e="Ocorreu um erro ao transmitir o Cancelamento";let t=es.Z.EventoNFe(Gl.Z.infEvento,o.infEvento,o.infNFe.ide.nNF);const a=await Kl.Z.servicoIntegrador(o,t,"CancelaNFe","Cancelamento",o.infEvento.nSeqEvento,{},"NFe",this.nota.outrosNFe.idContatoEmitente);if(this.$emit("salvar",o),"Erro"===a.status){$utils.gconsole.log("NFeCancelamento",a);const e=[...(a.mensagem||"").split("\n"),...(a.complemento||"").split("\n")];return void $g.modalAlerta.show({titulo:a.status,erros:e})}this.$q.notifyPositive(a.mensagem),this.$refs.dialog.hide(),this.$emit("atualizar")}catch(o){this.$q.notifyError(e,o),this.$emit("atualizar")}finally{ts.Z.hide()}}},mixins:[Xl],props:{nota:{required:!0,type:Object}},created(){$utils.gconsole.log("NFeCancelamento","created()")}},rs=(0,T.Z)(is,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("campo"),n=(0,a.resolveComponent)("nfeCampo"),c=(0,a.resolveComponent)("row"),d=(0,a.resolveComponent)("card"),m=(0,a.resolveComponent)("q-btn"),u=(0,a.resolveComponent)("dialogForm"),p=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(u,{ref:"dialog",title:"Nota Fiscal / Cancelamento",size:"md",footer:"",hideOnSubmit:!1,onSubmit:l.transmitirCancelamento},{buttonsFooter:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(m,{flat:"",color:"tertiary",label:"Cancelar"},null,512),[[p]]),(0,a.createVNode)(m,{unelevated:"",color:"primary",type:"submit",label:"Enviar"})])),default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"q-col-gutter-y-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:e.infNFe.ide.nNF,"onUpdate:modelValue":o[0]||(o[0]=o=>e.infNFe.ide.nNF=o),col:"2",rotulo:"Número da nota","somente-leitura":""},null,8,["modelValue"]),(0,a.createVNode)(s,{modelValue:e.infNFe.ide.serie,"onUpdate:modelValue":o[1]||(o[1]=o=>e.infNFe.ide.serie=o),col:"2",rotulo:e.metadados.infNFe.ide.serie._titulo,"somente-leitura":""},null,8,["modelValue","rotulo"]),(0,a.createVNode)(s,{modelValue:e.infEvento.chNFe,"onUpdate:modelValue":o[2]||(o[2]=o=>e.infEvento.chNFe=o),col:"8",rotulo:e.metadados.infEvento.chNFe._titulo,"somente-leitura":""},null,8,["modelValue","rotulo"]),(0,a.createVNode)(n,{modelValue:e.infEvento.detEvento.xJust,"onUpdate:modelValue":o[3]||(o[3]=o=>e.infEvento.detEvento.xJust=o),modelModifiers:{trim:!0},col:"12",meta:e.metadados.infEvento.detEvento.xJust,tipo:"textoArea",autogrow:"",autofocus:""},null,8,["modelValue","meta"])])),_:1})])),_:1})])),_:1},8,["onSubmit"])}]]);Z()(is,"components",{QBtn:H.Z,QSpinnerGears:as.Z}),Z()(is,"directives",{ClosePopup:J.Z});const ls={data:()=>({infEvento:Rl.Z.executa(Gl.Z.infEventoCC,{})}),emits:["atualizar","salvar"],methods:{async show(){$utils.gconsole.log("NFeCartaCorrecao","abrirModalCartaCorrecao"),this.infEvento=Rl.Z.executa(Gl.Z.infEventoCC,{cOrgao:this.nota.infNFe.ide.cUF,tpAmb:this.nota.infNFe.ide.tpAmb,escolhas:{valor_escolha:this.nota.infNFe.emit.escolhas.valor_escolha,CNPJ:this.nota.infNFe.emit.escolhas.CNPJ,CPF:this.nota.infNFe.emit.escolhas.CPF},chNFe:this.nota.outrosNFe.chNFe,dhEvento:os.Z.formatarDataNFe(new Date),nSeqEvento:String(await $db.documentoFiscalEletronicoXml.proximoNumeroSequencialEvento(this.nota.id,"Carta de correção")),detEvento:{xCorrecao:""}}),this.$refs.dialog.show()},async transmitirCartaCorrecao(){let e="Erro na operação da Carta de Correção";try{$utils.gconsole.log("NFeCartaCorrecao","transmitirCartaCorrecao",this.infEvento),$utils.verificarErro(!this.infEvento.detEvento.xCorrecao,"Correção a ser considerada não preenchida");const o={...this.nota};if(this.infEvento.detEvento.xCorrecao=$utils.removerAcentos(this.infEvento.detEvento.xCorrecao),o.infEventoCC=Wl.Z.executa(Gl.Z.infEventoCC,this.infEvento),Wl.Z.erros.length)return void $g.modalAlerta.show({titulo:"Erro de validação",erros:Wl.Z.erros});Array.isArray(o.outrosNFe.textoCartaCorrecao)||(o.outrosNFe.textoCartaCorrecao=[]),o.outrosNFe.textoCartaCorrecao.push(`Carta de correção ${this.$filters.data(this.infEvento.dhEvento)} Evento ${this.infEvento.nSeqEvento} - ${this.infEvento.detEvento.xCorrecao}`),ts.Z.show({spinner:as.Z,spinnerColor:"amber",message:"Selecionando Certificado e Trasmitindo Carta de Correção"}),e="Ocorreu um erro ao transmitir a Carta de Correção";let t=es.Z.EventoNFe(Gl.Z.infEventoCC,o.infEventoCC,o.infNFe.ide.nNF);const a=await Kl.Z.servicoIntegrador(o,t,"CartaCorrecaoNFe","Carta de correção",o.infEventoCC.nSeqEvento,{},"NFe",this.nota.outrosNFe.idContatoEmitente);if(this.$emit("salvar",o),"Erro"===a.status){$utils.gconsole.log("NFeCartaCorrecao",a);const e=[...(a.mensagem||"").split("\n"),...(a.complemento||"").split("\n")];return void $g.modalAlerta.show({titulo:a.status,erros:e})}this.$q.notifyPositive(a.mensagem),this.$refs.dialog.hide(),this.$emit("atualizar")}catch(o){this.$q.notifyError(e,o),this.$emit("atualizar")}finally{ts.Z.hide()}}},mixins:[Xl],props:{nota:{required:!0,type:Object}},created(){$utils.gconsole.log("NFeCartaCorrecao","created()")}},ss=(0,T.Z)(ls,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("campo"),n=(0,a.resolveComponent)("nfeCampo"),c=(0,a.resolveComponent)("row"),d=(0,a.resolveComponent)("card"),m=(0,a.resolveComponent)("q-btn"),u=(0,a.resolveComponent)("dialogForm"),p=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(u,{ref:"dialog",title:"Nota Fiscal / Carta de Correção",size:"md",footer:"",hideOnSubmit:!1,onSubmit:l.transmitirCartaCorrecao},{buttonsFooter:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(m,{flat:"",color:"tertiary",label:"Cancelar"},null,512),[[p]]),(0,a.createVNode)(m,{unelevated:"",color:"primary",type:"submit",label:"Enviar"})])),default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"q-col-gutter-y-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:e.infNFe.ide.nNF,"onUpdate:modelValue":o[0]||(o[0]=o=>e.infNFe.ide.nNF=o),col:"2",rotulo:"Número da nota","somente-leitura":""},null,8,["modelValue"]),(0,a.createVNode)(s,{modelValue:e.infNFe.ide.serie,"onUpdate:modelValue":o[1]||(o[1]=o=>e.infNFe.ide.serie=o),col:"2",rotulo:e.metadados.infNFe.ide.serie._titulo,"somente-leitura":""},null,8,["modelValue","rotulo"]),(0,a.createVNode)(s,{modelValue:r.infEvento.chNFe,"onUpdate:modelValue":o[2]||(o[2]=e=>r.infEvento.chNFe=e),col:"8",rotulo:e.metadados.infEvento.chNFe._titulo,"somente-leitura":""},null,8,["modelValue","rotulo"]),(0,a.createVNode)(s,{modelValue:r.infEvento.detEvento.xCondUso,"onUpdate:modelValue":o[3]||(o[3]=e=>r.infEvento.detEvento.xCondUso=e),modelModifiers:{trim:!0},col:"12","rotulo-fixo":"Condições de uso da Carta de Correção",tipo:"textoArea","somente-leitura":"",autogrow:""},null,8,["modelValue"]),(0,a.createVNode)(n,{modelValue:r.infEvento.detEvento.xCorrecao,"onUpdate:modelValue":o[4]||(o[4]=e=>r.infEvento.detEvento.xCorrecao=e),modelModifiers:{trim:!0},col:"12",meta:e.metadados.infEventoCC.detEvento.xCorrecao,tipo:"textoArea",autogrow:"",autofocus:""},null,8,["modelValue","meta"])])),_:1})])),_:1})])),_:1},8,["onSubmit"])}]]);Z()(ls,"components",{QBtn:H.Z,QSpinnerGears:as.Z}),Z()(ls,"directives",{ClosePopup:J.Z});const ns={class:"text-caption q-mr-sm q-my-sm"},cs=(0,a.createTextVNode)("Situação: "),ds={class:"text-caption q-mr-sm q-my-sm"},ms=(0,a.createTextVNode)("Chave de acesso: "),us={key:0,class:"text-caption q-mr-sm q-my-sm"},ps=(0,a.createTextVNode)("Mensagem: "),hs=(0,a.createTextVNode)(" Histórico "),Cs=(0,a.createTextVNode)("Recebimento: "),vs=(0,a.createTextVNode)("Situação: "),fs=(0,a.createTextVNode)("Protocolo: "),Ns=(0,a.createTextVNode)("Download Xml"),Vs={key:0},gs={key:1};var xs=t(43119);const bs={data:()=>({}),mixins:[Xl],props:{nota:{required:!0,type:Object}},created(){$utils.gconsole.log("NFeDadosDaNota","created()")}},ws=(0,T.Z)(bs,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("nfeCampo"),n=(0,a.resolveComponent)("row"),c=(0,a.resolveComponent)("card");return(0,a.openBlock)(),(0,a.createBlock)(c,{expansion:"",icon:"assignment",label:e.metadados.infNFe.ide._titulo},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:e.infNFe.ide.natOp,"onUpdate:modelValue":o[0]||(o[0]=o=>e.infNFe.ide.natOp=o),col:"6",meta:e.metadados.infNFe.ide.natOp,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.ide.tpNF,"onUpdate:modelValue":o[1]||(o[1]=o=>e.infNFe.ide.tpNF=o),col:"3",meta:e.metadados.infNFe.ide.tpNF,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.ide.idDest,"onUpdate:modelValue":o[2]||(o[2]=o=>e.infNFe.ide.idDest=o),col:"3",meta:e.metadados.infNFe.ide.idDest,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.ide.finNFe,"onUpdate:modelValue":o[3]||(o[3]=o=>e.infNFe.ide.finNFe=o),col:"3",meta:e.metadados.infNFe.ide.finNFe,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.ide.indFinal,"onUpdate:modelValue":o[4]||(o[4]=o=>e.infNFe.ide.indFinal=o),col:"3",meta:e.metadados.infNFe.ide.indFinal,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.ide.indPres,"onUpdate:modelValue":o[5]||(o[5]=o=>e.infNFe.ide.indPres=o),col:"3",meta:e.metadados.infNFe.ide.indPres,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.ide.indIntermed,"onUpdate:modelValue":o[6]||(o[6]=o=>e.infNFe.ide.indIntermed=o),col:"3",meta:e.metadados.infNFe.ide.indIntermed,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.ide.mod,"onUpdate:modelValue":o[7]||(o[7]=o=>e.infNFe.ide.mod=o),col:"3",meta:e.metadados.infNFe.ide.mod,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.ide.serie,"onUpdate:modelValue":o[8]||(o[8]=o=>e.infNFe.ide.serie=o),col:"3",meta:e.metadados.infNFe.ide.serie,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),e.outrosNFe.visaoCompleta?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(s,{modelValue:e.infNFe.ide.nNF,"onUpdate:modelValue":o[9]||(o[9]=o=>e.infNFe.ide.nNF=o),col:"3",meta:e.metadados.infNFe.ide.nNF,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.ide.tpImp,"onUpdate:modelValue":o[10]||(o[10]=o=>e.infNFe.ide.tpImp=o),col:"3",meta:e.metadados.infNFe.ide.tpImp,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.ide.tpAmb,"onUpdate:modelValue":o[11]||(o[11]=o=>e.infNFe.ide.tpAmb=o),col:"3",meta:e.metadados.infNFe.ide.tpAmb,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.ide.tpEmis,"onUpdate:modelValue":[o[12]||(o[12]=o=>e.infNFe.ide.tpEmis=o),o[13]||(o[13]=o=>e.infNFe.ide.opcional.visivel="1"!==e.infNFe.ide.tpEmis)],col:"3",meta:e.metadados.infNFe.ide.tpEmis,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),e.infNFe.ide.opcional.visivel?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(s,{modelValue:e.infNFe.ide.opcional.dhCont,"onUpdate:modelValue":o[14]||(o[14]=o=>e.infNFe.ide.opcional.dhCont=o),col:"6",meta:e.metadados.infNFe.ide.opcional.dhCont,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.ide.opcional.xJust,"onUpdate:modelValue":o[15]||(o[15]=o=>e.infNFe.ide.opcional.xJust=o),col:"12",meta:e.metadados.infNFe.ide.opcional.xJust,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])],64)):(0,a.createCommentVNode)("",!0)],64)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1},8,["label"])}]]),_s={data:()=>({}),methods:{abrirDialog(){this.$refs.dialogDestinatario.show()},async selecionarDestinatario(e){Fo.gconsole.log("NFeDestinatario","selecionarDestinatario()",(e||{}).apelido);try{e&&e.id&&await this.obterDestinatario(this.nota.infNFe,e.id)}catch(e){this.$q.notifyError("Não foi possível carregar o destinatário",e)}},async obterDestinatario(e,o){const t=await(0,Mo.X)().contato.get(o);(0,Fo.verificarErro)(!t,"Não foi possível carregar o contato do destinatário"),t.enderecos=await(0,Mo.X)().contatoEndereco.where({idContato:o}).toArray(),t.enderecoPrincipal=t.enderecos.find((e=>"Principal"===e.grupo)),t.enderecoPrincipal||(t.enderecoPrincipal=t.enderecos[0]||{}),t.telefones=await(0,Mo.X)().contatoTelefone.where("idContato").equals(o).toArray(),t.telefonePrincipal=t.telefones.find((e=>"Principal"===e.grupo)),t.telefonePrincipal||(t.telefonePrincipal=t.telefones[0]||{}),Fo.gconsole.log("NFeDestinatario","destinatario",t);const a=e.dest;a.visivel=!0;const i=(0,Fo.filtrarDigitos)(t.numeroDocumentoNacional);11===i.length?(a.escolhas.valor_escolha="CPF",a.escolhas.CPF=i,a.indIEDest="9"):14===i.length?(a.escolhas.valor_escolha="CNPJ",a.escolhas.CNPJ=i,a.indIEDest="9"):(0,Fo.verificarErro)(!0,"Destinatario com CPF/CNPJ inválido"),"CNPJ"===a.escolhas.valor_escolha&&t.numeroDocumentoEstadual&&(a.IE=(0,Fo.filtrarDigitos)(t.numeroDocumentoEstadual),a.indIEDest="1"),a.xNome=(0,Fo.removerCaracteresEspeciais)(t.nome).substr(0,60),a.enderDest.visivel=!0,a.email=String(t.emailNfe||t.email||"").trim(),a.enderDest.fone=(0,Fo.filtrarDigitos)(t.telefonePrincipal.telefone||""),a.enderDest.xLgr=(0,Fo.removerCaracteresEspeciais)(t.enderecoPrincipal.logradouro).substr(0,60),a.enderDest.nro=String(t.enderecoPrincipal.numero||"").trim(),a.enderDest.xCpl=(0,Fo.removerCaracteresEspeciais)(t.enderecoPrincipal.complemento).substr(0,60),a.enderDest.xBairro=(0,Fo.removerCaracteresEspeciais)(t.enderecoPrincipal.bairro).substr(0,60),a.enderDest.cMun=String(t.enderecoPrincipal.ibgeCod||"").trim(),a.enderDest.xMun=(0,Fo.removerCaracteresEspeciais)(t.enderecoPrincipal.municipio).substr(0,60),a.enderDest.UF=String(t.enderecoPrincipal.uf||"").trim(),a.enderDest.CEP=(0,Fo.filtrarDigitos)(t.enderecoPrincipal.cep||""),a.enderDest.cPais="1058",a.enderDest.xPais=(t.enderecoPrincipal.pais||"").trim()||"Brasil"}},mixins:[Xl],props:{nota:{required:!0,type:Object}},created(){Fo.gconsole.log("NFeDestinatario","created()")}};var ys=t(68);const Is=(0,T.Z)(_s,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("SeletorContato"),n=(0,a.resolveComponent)("q-radio"),c=(0,a.resolveComponent)("row"),d=(0,a.resolveComponent)("nfeCampo"),m=(0,a.resolveComponent)("card"),u=(0,a.resolveComponent)("column"),p=(0,a.resolveComponent)("dialogForm");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(s,{modelValue:t.nota.outrosNFe.idContatoDestinatario,"onUpdate:modelValue":o[0]||(o[0]=e=>t.nota.outrosNFe.idContatoDestinatario=e),valorExibir:e.infNFe.dest.xNome,filtro:{ativo:!0},rotulo:"Destinatário",after:[{icon:e.emDigitacao?"edit":"remove_red_eye",handler:l.abrirDialog}],onSelecionar:l.selecionarDestinatario,"somente-leitura":!e.emDigitacao},null,8,["modelValue","valorExibir","after","onSelecionar","somente-leitura"]),(0,a.createVNode)(p,{ref:"dialogDestinatario",title:"Nota Fiscal / Destinatário",labelButtonSubmit:"OK",size:"max"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{icon:"face",label:e.metadados.infNFe.dest._titulo},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{modelValue:e.infNFe.dest.escolhas.valor_escolha,"onUpdate:modelValue":o[1]||(o[1]=o=>e.infNFe.dest.escolhas.valor_escolha=o),label:"CNPJ",val:"CNPJ"},null,8,["modelValue"]),(0,a.createVNode)(n,{modelValue:e.infNFe.dest.escolhas.valor_escolha,"onUpdate:modelValue":o[2]||(o[2]=o=>e.infNFe.dest.escolhas.valor_escolha=o),label:"CPF",val:"CPF"},null,8,["modelValue"]),(0,a.createVNode)(n,{modelValue:e.infNFe.dest.escolhas.valor_escolha,"onUpdate:modelValue":o[3]||(o[3]=o=>e.infNFe.dest.escolhas.valor_escolha=o),label:"idEstrangeiro",val:"idEstrangeiro"},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>["CNPJ"==e.infNFe.dest.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,modelValue:e.infNFe.dest.escolhas.CNPJ,"onUpdate:modelValue":o[4]||(o[4]=o=>e.infNFe.dest.escolhas.CNPJ=o),col:"6",meta:e.metadados.infNFe.dest.escolhas.CNPJ,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])):(0,a.createCommentVNode)("",!0),"CPF"==e.infNFe.dest.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,modelValue:e.infNFe.dest.escolhas.CPF,"onUpdate:modelValue":o[5]||(o[5]=o=>e.infNFe.dest.escolhas.CPF=o),col:"6",meta:e.metadados.infNFe.dest.escolhas.CPF,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])):(0,a.createCommentVNode)("",!0),"idEstrangeiro"==e.infNFe.dest.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(d,{key:2,modelValue:e.infNFe.dest.escolhas.idEstrangeiro,"onUpdate:modelValue":o[6]||(o[6]=o=>e.infNFe.dest.escolhas.idEstrangeiro=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.dest.escolhas.idEstrangeiro},null,8,["modelValue","somente-leitura","meta"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(d,{modelValue:e.infNFe.dest.xNome,"onUpdate:modelValue":o[7]||(o[7]=o=>e.infNFe.dest.xNome=o),col:"6",meta:e.metadados.infNFe.dest.xNome,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:e.infNFe.dest.indIEDest,"onUpdate:modelValue":o[8]||(o[8]=o=>e.infNFe.dest.indIEDest=o),col:"3",meta:e.metadados.infNFe.dest.indIEDest,opcoes:e.metadados.infNFe.dest.indIEDest._enumeration,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","opcoes","somente-leitura"]),(0,a.createVNode)(d,{modelValue:e.infNFe.dest.IE,"onUpdate:modelValue":o[9]||(o[9]=o=>e.infNFe.dest.IE=o),col:"3",meta:e.metadados.infNFe.dest.IE,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(d,{modelValue:e.infNFe.dest.ISUF,"onUpdate:modelValue":o[10]||(o[10]=o=>e.infNFe.dest.ISUF=o),col:"3",meta:e.metadados.infNFe.dest.ISUF,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(d,{modelValue:e.infNFe.dest.IM,"onUpdate:modelValue":o[11]||(o[11]=o=>e.infNFe.dest.IM=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.dest.IM},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.dest.email,"onUpdate:modelValue":o[12]||(o[12]=o=>e.infNFe.dest.email=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.dest.email},null,8,["modelValue","somente-leitura","meta"])])),_:1})])),_:1},8,["label"]),(0,a.createVNode)(m,{icon:"house",label:"Endereço"},{default:(0,a.withCtx)((()=>[e.infNFe.dest.enderDest.visivel?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:e.infNFe.dest.enderDest.xLgr,"onUpdate:modelValue":o[13]||(o[13]=o=>e.infNFe.dest.enderDest.xLgr=o),col:"3",meta:e.metadados.infNFe.dest.enderDest.xLgr,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(d,{modelValue:e.infNFe.dest.enderDest.nro,"onUpdate:modelValue":o[14]||(o[14]=o=>e.infNFe.dest.enderDest.nro=o),col:"3",meta:e.metadados.infNFe.dest.enderDest.nro,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(d,{modelValue:e.infNFe.dest.enderDest.xCpl,"onUpdate:modelValue":o[15]||(o[15]=o=>e.infNFe.dest.enderDest.xCpl=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.dest.enderDest.xCpl},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.dest.enderDest.xBairro,"onUpdate:modelValue":o[16]||(o[16]=o=>e.infNFe.dest.enderDest.xBairro=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.dest.enderDest.xBairro},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.dest.enderDest.cMun,"onUpdate:modelValue":o[17]||(o[17]=o=>e.infNFe.dest.enderDest.cMun=o),col:"3",meta:e.metadados.infNFe.dest.enderDest.cMun,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(d,{modelValue:e.infNFe.dest.enderDest.xMun,"onUpdate:modelValue":o[18]||(o[18]=o=>e.infNFe.dest.enderDest.xMun=o),col:"3",meta:e.metadados.infNFe.dest.enderDest.xMun,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(d,{modelValue:e.infNFe.dest.enderDest.UF,"onUpdate:modelValue":o[19]||(o[19]=o=>e.infNFe.dest.enderDest.UF=o),col:"3",meta:e.metadados.infNFe.dest.enderDest.UF,opcoes:e.metadados.infNFe.dest.enderDest.UF._enumeration,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","opcoes","somente-leitura"]),(0,a.createVNode)(d,{modelValue:e.infNFe.dest.enderDest.CEP,"onUpdate:modelValue":o[20]||(o[20]=o=>e.infNFe.dest.enderDest.CEP=o),col:"3",meta:e.metadados.infNFe.dest.enderDest.CEP,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(d,{modelValue:e.infNFe.dest.enderDest.cPais,"onUpdate:modelValue":o[21]||(o[21]=o=>e.infNFe.dest.enderDest.cPais=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.dest.enderDest.cPais},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.dest.enderDest.xPais,"onUpdate:modelValue":o[22]||(o[22]=o=>e.infNFe.dest.enderDest.xPais=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.dest.enderDest.xPais},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.dest.enderDest.fone,"onUpdate:modelValue":o[23]||(o[23]=o=>e.infNFe.dest.enderDest.fone=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.dest.enderDest.fone},null,8,["modelValue","somente-leitura","meta"])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(m,{icon:"house",label:"Endereço Entrega"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:e.infNFe.entrega.visivel,"onUpdate:modelValue":o[24]||(o[24]=o=>e.infNFe.entrega.visivel=o),col:"12",meta:e.metadados.infNFe.entrega.visivel,"somente-leitura":!e.emDigitacao,tipo:"logico"},null,8,["modelValue","meta","somente-leitura"])])),_:1}),e.infNFe.entrega.visivel?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{col:"12"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{modelValue:e.infNFe.entrega.escolhas.valor_escolha,"onUpdate:modelValue":o[25]||(o[25]=o=>e.infNFe.entrega.escolhas.valor_escolha=o),label:"CNPJ",val:"CNPJ"},null,8,["modelValue"]),(0,a.createVNode)(n,{modelValue:e.infNFe.entrega.escolhas.valor_escolha,"onUpdate:modelValue":o[26]||(o[26]=o=>e.infNFe.entrega.escolhas.valor_escolha=o),label:"CPF",val:"CPF"},null,8,["modelValue"])])),_:1}),"CNPJ"==e.infNFe.entrega.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,modelValue:e.infNFe.entrega.escolhas.CNPJ,"onUpdate:modelValue":o[27]||(o[27]=o=>e.infNFe.entrega.escolhas.CNPJ=o),col:"6",meta:e.metadados.infNFe.entrega.escolhas.CNPJ,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])):(0,a.createCommentVNode)("",!0),"CPF"==e.infNFe.entrega.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,modelValue:e.infNFe.entrega.escolhas.CPF,"onUpdate:modelValue":o[28]||(o[28]=o=>e.infNFe.entrega.escolhas.CPF=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.entrega.escolhas.CPF},null,8,["modelValue","somente-leitura","meta"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(d,{modelValue:e.infNFe.entrega.xNome,"onUpdate:modelValue":o[29]||(o[29]=o=>e.infNFe.entrega.xNome=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.entrega.xNome},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.entrega.xLgr,"onUpdate:modelValue":o[30]||(o[30]=o=>e.infNFe.entrega.xLgr=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.entrega.xLgr},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.entrega.nro,"onUpdate:modelValue":o[31]||(o[31]=o=>e.infNFe.entrega.nro=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.entrega.nro},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.entrega.xCpl,"onUpdate:modelValue":o[32]||(o[32]=o=>e.infNFe.entrega.xCpl=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.entrega.xCpl},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.entrega.xBairro,"onUpdate:modelValue":o[33]||(o[33]=o=>e.infNFe.entrega.xBairro=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.entrega.xBairro},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.entrega.cMun,"onUpdate:modelValue":o[34]||(o[34]=o=>e.infNFe.entrega.cMun=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.entrega.cMun},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.entrega.xMun,"onUpdate:modelValue":o[35]||(o[35]=o=>e.infNFe.entrega.xMun=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.entrega.xMun},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.entrega.UF,"onUpdate:modelValue":o[36]||(o[36]=o=>e.infNFe.entrega.UF=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.entrega.UF,opcoes:e.metadados.infNFe.entrega.UF._enumeration},null,8,["modelValue","somente-leitura","meta","opcoes"]),(0,a.createVNode)(d,{modelValue:e.infNFe.entrega.CEP,"onUpdate:modelValue":o[37]||(o[37]=o=>e.infNFe.entrega.CEP=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.entrega.CEP},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.entrega.cPais,"onUpdate:modelValue":o[38]||(o[38]=o=>e.infNFe.entrega.cPais=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.entrega.cPais},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.entrega.xPais,"onUpdate:modelValue":o[39]||(o[39]=o=>e.infNFe.entrega.xPais=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.entrega.xPais},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.entrega.fone,"onUpdate:modelValue":o[40]||(o[40]=o=>e.infNFe.entrega.fone=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.entrega.fone},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.entrega.email,"onUpdate:modelValue":o[41]||(o[41]=o=>e.infNFe.entrega.email=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.entrega.email},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.entrega.IE,"onUpdate:modelValue":o[42]||(o[42]=o=>e.infNFe.entrega.IE=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.entrega.IE},null,8,["modelValue","somente-leitura","meta"])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1},512)],64)}]]);Z()(_s,"components",{QRadio:ys.Z});const Es={data:()=>({modalEmitente:!1}),methods:{abrirDialog(){this.$refs.dialogEmitente.show()},async selecionarEmitente(e){Fo.gconsole.log("NFeEmitente","selecionarEmitente()",(e||{}).apelido);try{e&&e.id&&await this.obterEmitente(this.nota.infNFe,e.id,this.nota.outrosNFe)}catch(e){this.$q.notifyError("Não foi possível carregar a empresa emitente",e)}},async obterEmitente(e,o,t){Fo.gconsole.log("NFeEmitente","obterEmitente");const a=await(0,Mo.X)().contato.get(o);(0,Fo.verificarErro)(!a,"Não foi possível carregar o contato da empresa emitente"),a.enderecos=await(0,Mo.X)().contatoEndereco.where({idContato:o}).toArray(),(0,Fo.verificarErro)(!a.enderecos||0===a.enderecos.length,"Não foi possível carregar o endereço da empresa emitente"),a.enderecoPrincipal=a.enderecos.find((e=>"Principal"===e.grupo)),a.enderecoPrincipal||(a.enderecoPrincipal=a.enderecos[0]||{}),a.telefones=await(0,Mo.X)().contatoTelefone.where("idContato").equals(o).toArray(),a.telefonePrincipal=a.telefones.find((e=>"Principal"===e.grupo)),a.telefonePrincipal||(a.telefonePrincipal=a.telefones[0]||{}),Fo.gconsole.log("NFeEmitente","empresa",a),(0,Fo.verificarErro)(!a.numeroDocumentoNacional,"Empresa emitente sem CNPJ cadastrado"),(0,Fo.verificarErro)(!a.numeroDocumentoEstadual,"Empresa emitente sem Inscrição Estadual cadastrado"),(0,Fo.verificarErro)(!a.nome,"Empresa emitente sem Razão Social (nome) cadastrado"),(0,Fo.verificarErro)(!a.enderecoPrincipal.uf,"Empresa emitente sem UF cadastrado"),(0,Fo.verificarErro)(!a.enderecoPrincipal.ibgeCod,"Empresa emitente sem código do município cadastrado"),(0,Fo.verificarErro)(!a.regime,"Empresa emitente sem regime cadastrado");const i=e.emit;i.escolhas.CNPJ=(0,Fo.filtrarDigitos)(a.numeroDocumentoNacional),i.IE=(0,Fo.filtrarDigitos)(a.numeroDocumentoEstadual),i.CRT="SimplesNacional"===a.regime?"1":"3",i.xNome=(0,Fo.removerCaracteresEspeciais)(a.nome).substr(0,60),i.xFant=(0,Fo.removerCaracteresEspeciais)(a.apelido),i.email=String(a.email||"").trim(),i.enderEmit.fone=(0,Fo.filtrarDigitos)(a.telefonePrincipal.telefone),i.enderEmit.xLgr=(0,Fo.removerCaracteresEspeciais)(a.enderecoPrincipal.logradouro).substr(0,60),i.enderEmit.nro=String(a.enderecoPrincipal.numero||"").trim(),i.enderEmit.xCpl=(0,Fo.removerCaracteresEspeciais)(a.enderecoPrincipal.complemento).substr(0,60),i.enderEmit.xBairro=(0,Fo.removerCaracteresEspeciais)(a.enderecoPrincipal.bairro).substr(0,60),i.enderEmit.cMun=String(a.enderecoPrincipal.ibgeCod||"").trim(),i.enderEmit.xMun=(0,Fo.removerCaracteresEspeciais)(a.enderecoPrincipal.municipio).substr(0,60),i.enderEmit.UF=String(a.enderecoPrincipal.uf||"").trim(),i.enderEmit.CEP=(0,Fo.filtrarDigitos)(a.enderecoPrincipal.cep),i.enderEmit.cPais="1058",i.enderEmit.xPais=(0,Fo.removerCaracteresEspeciais)(a.enderecoPrincipal.pais||"Brasil"),e.ide.cMunFG=i.enderEmit.cMun,e.ide.cUF=String(Fo.mapearEstadoCodigo[i.enderEmit.UF]),t.dadosAdicionaisEmitente=(0,Fo.removerCaracteresEspeciais)(a.observacaoNFE);const r=await(0,Mo.X)().aliquotaSimples.where({idEmpresa:o}).sortBy("dataInicio"),l=new Date((new Date).toDateString());t.aliquotaSimples=0;for(const e of r)new Date(e.dataInicio)<=l&&(!e.dataFim||new Date(e.dataFim)>=l)&&(t.aliquotaSimples=e.valor)}},mixins:[Xl],props:{nota:{required:!0,type:Object}},created(){Fo.gconsole.log("NFeEmitente","created()")}},Ss=(0,T.Z)(Es,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("SeletorContato"),n=(0,a.resolveComponent)("q-radio"),c=(0,a.resolveComponent)("row"),d=(0,a.resolveComponent)("nfeCampo"),m=(0,a.resolveComponent)("card"),u=(0,a.resolveComponent)("dialogForm");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(s,{modelValue:t.nota.outrosNFe.idContatoEmitente,"onUpdate:modelValue":o[0]||(o[0]=e=>t.nota.outrosNFe.idContatoEmitente=e),valorExibir:e.infNFe.emit.xNome,filtro:{ativo:!0,empresas:!0},rotulo:"Emitente",after:[{icon:e.emDigitacao?"edit":"remove_red_eye",handler:l.abrirDialog}],onSelecionar:l.selecionarEmitente,"somente-leitura":!e.emDigitacao},null,8,["modelValue","valorExibir","after","onSelecionar","somente-leitura"]),(0,a.createVNode)(u,{ref:"dialogEmitente",title:"Nota Fiscal / Emitente",labelButtonSubmit:"OK",size:"max"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{icon:"face",label:e.metadados.infNFe.emit._titulo},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-mr-md",modelValue:e.infNFe.emit.escolhas.valor_escolha,"onUpdate:modelValue":o[1]||(o[1]=o=>e.infNFe.emit.escolhas.valor_escolha=o),label:"CNPJ",val:"CNPJ"},null,8,["modelValue"]),(0,a.createVNode)(n,{modelValue:e.infNFe.emit.escolhas.valor_escolha,"onUpdate:modelValue":o[2]||(o[2]=o=>e.infNFe.emit.escolhas.valor_escolha=o),label:"CPF",val:"CPF"},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>["CNPJ"==e.infNFe.emit.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,modelValue:e.infNFe.emit.escolhas.CNPJ,"onUpdate:modelValue":o[3]||(o[3]=o=>e.infNFe.emit.escolhas.CNPJ=o),col:"3",meta:e.metadados.infNFe.emit.escolhas.CNPJ,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])):(0,a.createCommentVNode)("",!0),"CPF"==e.infNFe.emit.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,modelValue:e.infNFe.emit.escolhas.CPF,"onUpdate:modelValue":o[4]||(o[4]=o=>e.infNFe.emit.escolhas.CPF=o),col:"3",meta:e.metadados.infNFe.emit.escolhas.CPF,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(d,{modelValue:e.infNFe.emit.CRT,"onUpdate:modelValue":o[5]||(o[5]=o=>e.infNFe.emit.CRT=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.emit.CRT,opcoes:e.metadados.infNFe.emit.CRT._enumeration},null,8,["modelValue","somente-leitura","meta","opcoes"]),(0,a.createVNode)(d,{modelValue:e.infNFe.emit.IE,"onUpdate:modelValue":o[6]||(o[6]=o=>e.infNFe.emit.IE=o),col:"3",meta:e.metadados.infNFe.emit.IE,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(d,{modelValue:e.infNFe.emit.IEST,"onUpdate:modelValue":o[7]||(o[7]=o=>e.infNFe.emit.IEST=o),col:"3",meta:e.metadados.infNFe.emit.IEST,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:e.infNFe.emit.xNome,"onUpdate:modelValue":o[8]||(o[8]=o=>e.infNFe.emit.xNome=o),col:"6",meta:e.metadados.infNFe.emit.xNome,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(d,{modelValue:e.infNFe.emit.xFant,"onUpdate:modelValue":o[9]||(o[9]=o=>e.infNFe.emit.xFant=o),col:"6",meta:e.metadados.infNFe.emit.xFant,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,modelValue:e.infNFe.emit.opcional.visivel,"onUpdate:modelValue":o[10]||(o[10]=o=>e.infNFe.emit.opcional.visivel=o),col:"12",meta:e.metadados.infNFe.emit.opcional.visivel,tipo:"logico"},null,8,["modelValue","meta"])):(0,a.createCommentVNode)("",!0),e.infNFe.emit.opcional.visivel?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createVNode)(d,{modelValue:e.infNFe.emit.opcional.IM,"onUpdate:modelValue":o[11]||(o[11]=o=>e.infNFe.emit.opcional.IM=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.emit.opcional.IM},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.emit.opcional.CNAE,"onUpdate:modelValue":o[12]||(o[12]=o=>e.infNFe.emit.opcional.CNAE=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.emit.opcional.CNAE},null,8,["modelValue","somente-leitura","meta"])],64)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1},8,["label"]),(0,a.createVNode)(m,{icon:"house",label:"Endereço"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:e.infNFe.emit.enderEmit.xLgr,"onUpdate:modelValue":o[13]||(o[13]=o=>e.infNFe.emit.enderEmit.xLgr=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.emit.enderEmit.xLgr},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.emit.enderEmit.nro,"onUpdate:modelValue":o[14]||(o[14]=o=>e.infNFe.emit.enderEmit.nro=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.emit.enderEmit.nro},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.emit.enderEmit.xCpl,"onUpdate:modelValue":o[15]||(o[15]=o=>e.infNFe.emit.enderEmit.xCpl=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.emit.enderEmit.xCpl},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.emit.enderEmit.xBairro,"onUpdate:modelValue":o[16]||(o[16]=o=>e.infNFe.emit.enderEmit.xBairro=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.emit.enderEmit.xBairro},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.emit.enderEmit.cMun,"onUpdate:modelValue":o[17]||(o[17]=o=>e.infNFe.emit.enderEmit.cMun=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.emit.enderEmit.cMun},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.emit.enderEmit.xMun,"onUpdate:modelValue":o[18]||(o[18]=o=>e.infNFe.emit.enderEmit.xMun=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.emit.enderEmit.xMun},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.emit.enderEmit.UF,"onUpdate:modelValue":o[19]||(o[19]=o=>e.infNFe.emit.enderEmit.UF=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.emit.enderEmit.UF,opcoes:e.metadados.infNFe.emit.enderEmit.UF._enumeration},null,8,["modelValue","somente-leitura","meta","opcoes"]),(0,a.createVNode)(d,{modelValue:e.infNFe.emit.enderEmit.CEP,"onUpdate:modelValue":o[20]||(o[20]=o=>e.infNFe.emit.enderEmit.CEP=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.emit.enderEmit.CEP},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.emit.enderEmit.cPais,"onUpdate:modelValue":o[21]||(o[21]=o=>e.infNFe.emit.enderEmit.cPais=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.emit.enderEmit.cPais,opcoes:e.metadados.infNFe.emit.enderEmit.cPais._enumeration},null,8,["modelValue","somente-leitura","meta","opcoes"]),(0,a.createVNode)(d,{modelValue:e.infNFe.emit.enderEmit.xPais,"onUpdate:modelValue":o[22]||(o[22]=o=>e.infNFe.emit.enderEmit.xPais=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.emit.enderEmit.xPais,opcoes:e.metadados.infNFe.emit.enderEmit.xPais._enumeration},null,8,["modelValue","somente-leitura","meta","opcoes"]),(0,a.createVNode)(d,{modelValue:e.infNFe.emit.enderEmit.fone,"onUpdate:modelValue":o[23]||(o[23]=o=>e.infNFe.emit.enderEmit.fone=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.emit.enderEmit.fone},null,8,["modelValue","somente-leitura","meta"])])),_:1})])),_:1}),(0,a.createVNode)(m,{icon:"house",label:"Endereço Retirada"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:e.infNFe.retirada.visivel,"onUpdate:modelValue":o[24]||(o[24]=o=>e.infNFe.retirada.visivel=o),col:"12",meta:e.metadados.infNFe.retirada.visivel,tipo:"logico"},null,8,["modelValue","meta"])])),_:1}),e.infNFe.retirada.visivel?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{modelValue:e.infNFe.retirada.escolhas.valor_escolha,"onUpdate:modelValue":o[25]||(o[25]=o=>e.infNFe.retirada.escolhas.valor_escolha=o),label:"CNPJ",val:"CNPJ"},null,8,["modelValue"]),(0,a.createVNode)(n,{modelValue:e.infNFe.retirada.escolhas.valor_escolha,"onUpdate:modelValue":o[26]||(o[26]=o=>e.infNFe.retirada.escolhas.valor_escolha=o),label:"CPF",val:"CPF"},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>["CNPJ"==e.infNFe.retirada.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,modelValue:e.infNFe.retirada.escolhas.CNPJ,"onUpdate:modelValue":o[27]||(o[27]=o=>e.infNFe.retirada.escolhas.CNPJ=o),col:"3",meta:e.metadados.infNFe.retirada.escolhas.CNPJ,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])):(0,a.createCommentVNode)("",!0),"CPF"==e.infNFe.retirada.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,modelValue:e.infNFe.retirada.escolhas.CPF,"onUpdate:modelValue":o[28]||(o[28]=o=>e.infNFe.retirada.escolhas.CPF=o),col:"3",meta:e.metadados.infNFe.retirada.escolhas.CPF,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(d,{modelValue:e.infNFe.retirada.xNome,"onUpdate:modelValue":o[29]||(o[29]=o=>e.infNFe.retirada.xNome=o),col:"6",meta:e.metadados.infNFe.retirada.xNome,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(d,{modelValue:e.infNFe.retirada.xLgr,"onUpdate:modelValue":o[30]||(o[30]=o=>e.infNFe.retirada.xLgr=o),col:"3",meta:e.metadados.infNFe.retirada.xLgr,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(d,{modelValue:e.infNFe.retirada.nro,"onUpdate:modelValue":o[31]||(o[31]=o=>e.infNFe.retirada.nro=o),col:"3",meta:e.metadados.infNFe.retirada.nro,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(d,{modelValue:e.infNFe.retirada.xCpl,"onUpdate:modelValue":o[32]||(o[32]=o=>e.infNFe.retirada.xCpl=o),col:"3",meta:e.metadados.infNFe.retirada.xCpl,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(d,{modelValue:e.infNFe.retirada.xBairro,"onUpdate:modelValue":o[33]||(o[33]=o=>e.infNFe.retirada.xBairro=o),col:"3",meta:e.metadados.infNFe.retirada.xBairro,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(d,{modelValue:e.infNFe.retirada.cMun,"onUpdate:modelValue":o[34]||(o[34]=o=>e.infNFe.retirada.cMun=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.retirada.cMun},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.retirada.xMun,"onUpdate:modelValue":o[35]||(o[35]=o=>e.infNFe.retirada.xMun=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.retirada.xMun},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.retirada.UF,"onUpdate:modelValue":o[36]||(o[36]=o=>e.infNFe.retirada.UF=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.retirada.UF,opcoes:e.metadados.infNFe.retirada.UF._enumeration},null,8,["modelValue","somente-leitura","meta","opcoes"]),(0,a.createVNode)(d,{modelValue:e.infNFe.retirada.CEP,"onUpdate:modelValue":o[37]||(o[37]=o=>e.infNFe.retirada.CEP=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.retirada.CEP},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.retirada.cPais,"onUpdate:modelValue":o[38]||(o[38]=o=>e.infNFe.retirada.cPais=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.retirada.cPais},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.retirada.xPais,"onUpdate:modelValue":o[39]||(o[39]=o=>e.infNFe.retirada.xPais=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.retirada.xPais},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.retirada.fone,"onUpdate:modelValue":o[40]||(o[40]=o=>e.infNFe.retirada.fone=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.retirada.fone},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.retirada.email,"onUpdate:modelValue":o[41]||(o[41]=o=>e.infNFe.retirada.email=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.retirada.email},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.retirada.IE,"onUpdate:modelValue":o[42]||(o[42]=o=>e.infNFe.retirada.IE=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.retirada.IE},null,8,["modelValue","somente-leitura","meta"])])),_:1})],64)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1},512)],64)}]]);Z()(Es,"components",{QRadio:ys.Z});const Ms={class:"col-auto"},Ts=(0,a.createTextVNode)("Remover duplicata"),ks=(0,a.createTextVNode)(" Não há itens "),Ds={data:()=>({}),mixins:[Xl],props:{label:{type:String},labelAdd:{type:String},lista:{required:!0,type:Array},meta:{required:!0,type:Object},nota:{required:!0,type:Object}}},qs=(0,T.Z)(Ds,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("column"),n=(0,a.resolveComponent)("row"),c=(0,a.resolveComponent)("btnAdicionar");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[t.label?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-py-sm text-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.label),1)])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(t.lista,((o,t)=>((0,a.openBlock)(),(0,a.createBlock)(n,{key:t},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{col:"",class:"items-carrinho q-mb-sm q-px-md"},{default:(0,a.withCtx)((()=>[(0,a.renderSlot)(e.$slots,"default",{item:o,index:t})])),_:2},1024)])),_:2},1024)))),128)),t.lista.length?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(n,{key:1,class:"q-ml-lg"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{col:"",class:"bg-grey-2 q-mb-sm q-pa-md"},{default:(0,a.withCtx)((()=>[ks])),_:1})])),_:1})),e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(n,{key:2,class:"q-mb-sm q-ml-lg"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{label:t.labelAdd||"Adicionar",onClick:o[0]||(o[0]=o=>e.adicionarLinhaNaLista(t.lista,t.meta))},null,8,["label"])])),_:1})):(0,a.createCommentVNode)("",!0)],64)}]]),Fs={key:0,class:"bg-grey-2 q-mb-sm q-px-md"},Ps=(0,a.createTextVNode)(" Não enviar "),As={data:()=>({}),emits:["update:modelValue"],methods:{emitirModelValue(e){this.$emit("update:modelValue",e)}},mixins:[Xl],props:{modelValue:{type:Boolean},meta:{required:!0,type:Object},nota:{required:!0,type:Object}}},Bs=(0,T.Z)(As,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("nfeCampo"),n=(0,a.resolveComponent)("row"),c=(0,a.resolveComponent)("column");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:t.modelValue,"onUpdate:modelValue":[o[0]||(o[0]=e=>t.modelValue=e),l.emitirModelValue],col:"12",class:"q-py-xs",meta:t.meta,"somente-leitura":!e.emDigitacao,tipo:"logico"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"])])),_:1}),t.modelValue?((0,a.openBlock)(),(0,a.createElementBlock)("div",Fs,[(0,a.renderSlot)(e.$slots,"default")])):((0,a.openBlock)(),(0,a.createBlock)(n,{key:1},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{col:"",class:"bg-grey-2 q-ml-sm q-mb-sm q-pa-sm"},{default:(0,a.withCtx)((()=>[Ps])),_:1})])),_:1}))],64)}]]),Ls={components:{nfeCrud:qs,nfeGrupoOpcional:Bs},data:()=>({}),methods:{removerDuplicata(e){$q.dialog({cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},title:"Remover",message:"Ao continuar você irá remover esta duplicata.",ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{try{this.infNFe.cobr.dup.splice(e,1),$q.notifyPositive("Duplicata removida com sucesso.")}catch(e){$q.notifyError("Ocorreu um erro ao remover a duplicata.",e)}}))}},mixins:[Xl],props:{nota:{required:!0,type:Object}},created(){$utils.gconsole.log("NFeFaturamento","created()")}},Os=(0,T.Z)(Ls,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("nfeCampo"),n=(0,a.resolveComponent)("row"),c=(0,a.resolveComponent)("nfeGrupoOpcional"),d=(0,a.resolveComponent)("q-tooltip"),m=(0,a.resolveComponent)("q-btn"),u=(0,a.resolveComponent)("nfeCrud"),p=(0,a.resolveComponent)("card");return(0,a.openBlock)(),(0,a.createBlock)(p,{expansion:"","default-opened":"",icon:"payment",label:e.metadados.infNFe.cobr._titulo},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:e.infNFe.cobr.visivel,"onUpdate:modelValue":o[5]||(o[5]=o=>e.infNFe.cobr.visivel=o),nota:t.nota,meta:e.metadados.infNFe.cobr.visivel},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:e.infNFe.cobr.fat.visivel,"onUpdate:modelValue":o[4]||(o[4]=o=>e.infNFe.cobr.fat.visivel=o),nota:t.nota,meta:e.metadados.infNFe.cobr.fat.visivel},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:e.infNFe.cobr.fat.nFat,"onUpdate:modelValue":o[0]||(o[0]=o=>e.infNFe.cobr.fat.nFat=o),class:"u-campoCompacto col-12 col-md-3",meta:e.metadados.infNFe.cobr.fat.nFat,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.cobr.fat.vOrig,"onUpdate:modelValue":o[1]||(o[1]=o=>e.infNFe.cobr.fat.vOrig=o),class:"u-campoCompacto col-12 col-md-3",meta:e.metadados.infNFe.cobr.fat.vOrig,align:"center","somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.cobr.fat.vDesc,"onUpdate:modelValue":o[2]||(o[2]=o=>e.infNFe.cobr.fat.vDesc=o),class:"u-campoCompacto col-12 col-md-3",meta:e.metadados.infNFe.cobr.fat.vDesc,prefix:" - ",align:"center","somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.cobr.fat.vLiq,"onUpdate:modelValue":o[3]||(o[3]=o=>e.infNFe.cobr.fat.vLiq=o),class:"u-campoCompacto col-12 col-md-3",meta:e.metadados.infNFe.cobr.fat.vLiq,prefix:"= ","somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])])),_:1})])),_:1},8,["modelValue","nota","meta"])])),_:1},8,["modelValue","nota","meta"]),e.infNFe.cobr.visivel?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,lista:e.infNFe.cobr.dup,meta:e.metadados.infNFe.cobr.dup.lista,label:e.metadados.infNFe.cobr.dup._titulo+":",labelAdd:"duplicata",nota:t.nota},{default:(0,a.withCtx)((({item:o,index:t})=>[(0,a.createVNode)(n,{class:"items-center q-mb-xs"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Ms,[(0,a.createVNode)(m,{color:"tertiary",size:"sm",dense:"",flat:"",icon:"delete",round:"",onClick:e=>l.removerDuplicata(t)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[Ts])),_:1})])),_:2},1032,["onClick"])])])),_:2},1024),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:o.dVenc,"onUpdate:modelValue":e=>o.dVenc=e,col:"4",meta:e.metadados.infNFe.cobr.dup.lista.dVenc,"somente-leitura":!e.emDigitacao,tipo:"data"},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:o.vDup,"onUpdate:modelValue":e=>o.vDup=e,col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.cobr.dup.lista.vDup},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])])),_:2},1024)])),_:1},8,["lista","meta","label","nota"])):(0,a.createCommentVNode)("",!0)])),_:1},8,["label"])}]]);Z()(Ls,"components",{QBtn:H.Z,QTooltip:Ao.Z});const zs={key:0},js={class:"row q-col-gutter-x-sm"},$s={class:"col-12 no-shadow q-mb-md"},Us={class:"col-5 col-md"},Zs={class:"col-5 col-md"},Qs={class:"col-auto"},Rs={class:"row q-col-gutter-x-sm"},Gs={key:1},Hs={class:"row q-col-gutter-x-sm"},Js={class:"row q-col-gutter-x-sm"},Ys={key:2},Xs={class:"row q-col-gutter-x-sm"},Ws={class:"row q-col-gutter-x-sm"},Ks={key:3},en={class:"row q-col-gutter-x-sm"},on={class:"row q-col-gutter-x-sm"},tn={key:4},an={class:"row q-col-gutter-x-sm"},rn={class:"col-12 no-shadow"},ln={class:"row q-col-gutter-x-sm"},sn={class:"col-auto justify-end q-pt-md"},nn={class:"row q-col-gutter-x-sm"},cn={class:"col-12 no-shadow"},dn={class:"col-auto justify-end q-pt-md"},mn={class:"row q-col-gutter-x-sm"},un={data:()=>({}),mixins:[Xl],props:{nota:{required:!0,type:Object}},created(){$utils.gconsole.log("NFeInformacoesAdicionais","created()")}},pn=(0,T.Z)(un,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("nfeCampo"),n=(0,a.resolveComponent)("q-card-section"),c=(0,a.resolveComponent)("q-btn"),d=(0,a.resolveComponent)("row"),m=(0,a.resolveComponent)("q-item-section"),u=(0,a.resolveComponent)("q-item"),p=(0,a.resolveComponent)("q-list"),h=(0,a.resolveComponent)("card");return(0,a.openBlock)(),(0,a.createBlock)(h,{expansion:"",icon:"description",label:e.metadados.infNFe.infAdic._titulo},{default:(0,a.withCtx)((()=>[e.infNFe.infAdic.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",zs,[(0,a.createElementVNode)("div",js,[(0,a.createVNode)(s,{modelValue:e.infNFe.infAdic.infAdFisco,"onUpdate:modelValue":o[0]||(o[0]=o=>e.infNFe.infAdic.infAdFisco=o),class:"col-12 col-md-12","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.infAdic.infAdFisco,maxlength:"2000",rows:"3",tipo:"textoArea"},null,8,["modelValue","somente-leitura","meta"])]),(0,a.createElementVNode)("div",$s,[(0,a.createVNode)(n,{class:"q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.metadados.infNFe.infAdic.procRef._titulo)+": ",1)])),_:1}),(0,a.createVNode)(p,{class:"no-border q-py-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.infNFe.infAdic.procRef,((o,t)=>((0,a.openBlock)(),(0,a.createBlock)(u,{key:t},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Us,[(0,a.createVNode)(s,{modelValue:o.nProc,"onUpdate:modelValue":e=>o.nProc=e,"somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.infAdic.procRef.lista.nProc},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])]),(0,a.createElementVNode)("div",Zs,[(0,a.createVNode)(s,{modelValue:o.indProc,"onUpdate:modelValue":e=>o.indProc=e,"somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.infAdic.procRef.lista.indProc,opcoes:e.metadados.infNFe.infAdic.procRef.lista.indProc._enumeration},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta","opcoes"])]),(0,a.createElementVNode)("div",Qs,[e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,color:"negative",class:"bt-negative",size:"xs",icon:"remove",outline:"",round:"",onClick:o=>e.removerLinhaDaLista(e.infNFe.infAdic.procRef,t)},null,8,["onClick"])):(0,a.createCommentVNode)("",!0)])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm",onClick:o[1]||(o[1]=o=>e.adicionarLinhaNaLista(e.infNFe.infAdic.procRef,e.metadados.infNFe.infAdic.procRef.lista))})):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",Rs,[(0,a.createVNode)(s,{modelValue:e.infNFe.avulsa.visivel,"onUpdate:modelValue":o[2]||(o[2]=o=>e.infNFe.avulsa.visivel=o),col:"12",meta:e.metadados.infNFe.avulsa.visivel,"somente-leitura":!e.emDigitacao,tipo:"logico"},null,8,["modelValue","meta","somente-leitura"])]),e.infNFe.avulsa.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Gs,[(0,a.createElementVNode)("div",Hs,[(0,a.createVNode)(s,{modelValue:e.infNFe.avulsa.CNPJ,"onUpdate:modelValue":o[3]||(o[3]=o=>e.infNFe.avulsa.CNPJ=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.avulsa.CNPJ},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.avulsa.xOrgao,"onUpdate:modelValue":o[4]||(o[4]=o=>e.infNFe.avulsa.xOrgao=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.avulsa.xOrgao},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.avulsa.matr,"onUpdate:modelValue":o[5]||(o[5]=o=>e.infNFe.avulsa.matr=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.avulsa.matr},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.avulsa.xAgente,"onUpdate:modelValue":o[6]||(o[6]=o=>e.infNFe.avulsa.xAgente=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.avulsa.xAgente},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.avulsa.fone,"onUpdate:modelValue":o[7]||(o[7]=o=>e.infNFe.avulsa.fone=o),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.avulsa.fone},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.avulsa.UF,"onUpdate:modelValue":o[8]||(o[8]=o=>e.infNFe.avulsa.UF=o),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.avulsa.UF,opcoes:e.metadados.infNFe.avulsa.UF._enumeration},null,8,["modelValue","somente-leitura","meta","opcoes"]),(0,a.createVNode)(s,{modelValue:e.infNFe.avulsa.nDAR,"onUpdate:modelValue":o[9]||(o[9]=o=>e.infNFe.avulsa.nDAR=o),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.avulsa.nDAR},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.avulsa.dEmi,"onUpdate:modelValue":o[10]||(o[10]=o=>e.infNFe.avulsa.dEmi=o),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.avulsa.dEmi,tipo:"data"},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.avulsa.vDAR,"onUpdate:modelValue":o[11]||(o[11]=o=>e.infNFe.avulsa.vDAR=o),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.avulsa.vDAR},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.avulsa.repEmi,"onUpdate:modelValue":o[12]||(o[12]=o=>e.infNFe.avulsa.repEmi=o),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.avulsa.repEmi},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.avulsa.dPag,"onUpdate:modelValue":o[13]||(o[13]=o=>e.infNFe.avulsa.dPag=o),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.avulsa.dPag,tipo:"data"},null,8,["modelValue","somente-leitura","meta"])])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",Js,[(0,a.createVNode)(s,{modelValue:e.infNFe.exporta.visivel,"onUpdate:modelValue":o[14]||(o[14]=o=>e.infNFe.exporta.visivel=o),col:"12",meta:e.metadados.infNFe.exporta.visivel,"somente-leitura":!e.emDigitacao,tipo:"logico"},null,8,["modelValue","meta","somente-leitura"])]),e.infNFe.exporta.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ys,[(0,a.createElementVNode)("div",Xs,[(0,a.createVNode)(s,{modelValue:e.infNFe.exporta.UFSaidaPais,"onUpdate:modelValue":o[15]||(o[15]=o=>e.infNFe.exporta.UFSaidaPais=o),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.exporta.UFSaidaPais,opcoes:e.metadados.infNFe.exporta.UFSaidaPais._enumeration},null,8,["modelValue","somente-leitura","meta","opcoes"]),(0,a.createVNode)(s,{modelValue:e.infNFe.exporta.xLocExporta,"onUpdate:modelValue":o[16]||(o[16]=o=>e.infNFe.exporta.xLocExporta=o),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.exporta.xLocExporta},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.exporta.xLocDespacho,"onUpdate:modelValue":o[17]||(o[17]=o=>e.infNFe.exporta.xLocDespacho=o),col:"4",meta:e.metadados.infNFe.exporta.xLocDespacho,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",Ws,[(0,a.createVNode)(s,{modelValue:e.infNFe.compra.visivel,"onUpdate:modelValue":o[18]||(o[18]=o=>e.infNFe.compra.visivel=o),col:"12",meta:e.metadados.infNFe.compra.visivel,"somente-leitura":!e.emDigitacao,tipo:"logico"},null,8,["modelValue","meta","somente-leitura"])]),e.infNFe.compra.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ks,[(0,a.createElementVNode)("div",en,[(0,a.createVNode)(s,{modelValue:e.infNFe.compra.xNEmp,"onUpdate:modelValue":o[19]||(o[19]=o=>e.infNFe.compra.xNEmp=o),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.compra.xNEmp},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.compra.xPed,"onUpdate:modelValue":o[20]||(o[20]=o=>e.infNFe.compra.xPed=o),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.compra.xPed},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.compra.xCont,"onUpdate:modelValue":o[21]||(o[21]=o=>e.infNFe.compra.xCont=o),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.compra.xCont},null,8,["modelValue","somente-leitura","meta"])])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",on,[(0,a.createVNode)(s,{modelValue:e.infNFe.cana.visivel,"onUpdate:modelValue":o[22]||(o[22]=o=>e.infNFe.cana.visivel=o),col:"12",meta:e.metadados.infNFe.cana.visivel,"somente-leitura":!e.emDigitacao,tipo:"logico"},null,8,["modelValue","meta","somente-leitura"])]),e.infNFe.cana.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",tn,[(0,a.createElementVNode)("div",an,[(0,a.createVNode)(s,{modelValue:e.infNFe.cana.safra,"onUpdate:modelValue":o[23]||(o[23]=o=>e.infNFe.cana.safra=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.cana.safra},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.cana.ref,"onUpdate:modelValue":o[24]||(o[24]=o=>e.infNFe.cana.ref=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.cana.ref},null,8,["modelValue","somente-leitura","meta"])]),(0,a.createElementVNode)("div",rn,[(0,a.createVNode)(n,{class:"q-py-sm q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.metadados.infNFe.cana.forDia._titulo)+": ",1)])),_:1}),(0,a.createVNode)(p,{class:"no-border q-pa-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.infNFe.cana.forDia,((o,t)=>((0,a.openBlock)(),(0,a.createBlock)(u,{key:t,class:"border-1 q-mb-xs q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ln,[(0,a.createVNode)(s,{modelValue:o.qtde,"onUpdate:modelValue":e=>o.qtde=e,class:"col",meta:e.metadados.infNFe.cana.forDia.lista.qtde,"somente-leitura":!e.emDigitacao,opcoes:{minimumValue:0,decimalPlaces:4},tipo:"decimal"},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"]),(0,a.createElementVNode)("div",sn,[e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,color:"negative",class:"bt-negative",size:"xs",icon:"remove",outline:"",round:"",onClick:o=>e.removerLinhaDaLista(e.infNFe.cana.forDia,t)},null,8,["onClick"])):(0,a.createCommentVNode)("",!0)])])])),_:2},1024)])),_:2},1024)))),128))])),_:1}),e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm",onClick:o[25]||(o[25]=o=>e.adicionarLinhaNaLista(e.infNFe.cana.forDia,e.metadados.infNFe.cana.forDia.lista))})):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",nn,[(0,a.createVNode)(s,{modelValue:e.infNFe.cana.qTotMes,"onUpdate:modelValue":o[26]||(o[26]=o=>e.infNFe.cana.qTotMes=o),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.cana.qTotMes,opcoes:{minimumValue:0,decimalPlaces:4},tipo:"decimal"},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.cana.qTotAnt,"onUpdate:modelValue":o[27]||(o[27]=o=>e.infNFe.cana.qTotAnt=o),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.cana.qTotAnt,opcoes:{minimumValue:0,decimalPlaces:4},tipo:"decimal"},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.cana.qTotGer,"onUpdate:modelValue":o[28]||(o[28]=o=>e.infNFe.cana.qTotGer=o),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.cana.qTotGer,opcoes:{minimumValue:0,decimalPlaces:4},tipo:"decimal"},null,8,["modelValue","somente-leitura","meta"])]),(0,a.createElementVNode)("div",cn,[(0,a.createVNode)(n,{class:"q-py-sm q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.metadados.infNFe.cana.deduc._titulo)+": ",1)])),_:1}),(0,a.createVNode)(p,{class:"no-border q-pa-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.infNFe.cana.deduc,((o,t)=>((0,a.openBlock)(),(0,a.createBlock)(u,{key:t,class:"border-1 q-mb-xs q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"row q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:o.xDed,"onUpdate:modelValue":e=>o.xDed=e,col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.cana.deduc.lista.xDed},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:o.vDed,"onUpdate:modelValue":e=>o.vDed=e,class:"col-12 col-md-auto","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.cana.deduc.lista.vDed},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createElementVNode)("div",dn,[e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,color:"negative",class:"bt-negative",size:"xs",icon:"remove",outline:"",round:"",onClick:o=>e.removerLinhaDaLista(e.infNFe.cana.deduc,t)},null,8,["onClick"])):(0,a.createCommentVNode)("",!0)])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm",onClick:o[29]||(o[29]=o=>e.adicionarLinhaNaLista(e.infNFe.cana.deduc,e.metadados.infNFe.cana.deduc.lista))})):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",mn,[(0,a.createVNode)(s,{modelValue:e.infNFe.cana.vFor,"onUpdate:modelValue":o[30]||(o[30]=o=>e.infNFe.cana.vFor=o),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.cana.vFor},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.cana.vTotDed,"onUpdate:modelValue":o[31]||(o[31]=o=>e.infNFe.cana.vTotDed=o),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.cana.vTotDed},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.cana.vLiqFor,"onUpdate:modelValue":o[32]||(o[32]=o=>e.infNFe.cana.vLiqFor=o),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.cana.vLiqFor},null,8,["modelValue","somente-leitura","meta"])])])):(0,a.createCommentVNode)("",!0)])),_:1},8,["label"])}]]);Z()(un,"components",{QCardSection:q.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QBtn:H.Z});const hn={class:"col-12 no-shadow"},Cn={class:"row q-col-gutter-x-sm"},vn={class:"col-12 no-shadow"},fn={class:"row q-col-gutter-x-sm"},Nn={key:0},Vn={class:"row q-col-gutter-x-sm"},gn={class:"col-12 no-shadow"},xn={class:"row q-col-gutter-x-sm"},bn={key:0},wn={class:"row q-col-gutter-x-sm"},_n={data:()=>({}),mixins:[Xl],props:{nota:{required:!0,type:Object}},created(){$utils.gconsole.log("NFeOutrosValores","created()")}},yn=(0,T.Z)(_n,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("nfeCampo"),n=(0,a.resolveComponent)("card");return(0,a.openBlock)(),(0,a.createBlock)(n,{expansion:"",icon:"account_balance",label:e.metadados.infNFe.total._titulo},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",hn,[(0,a.createElementVNode)("div",Cn,[(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vICMSDeson,"onUpdate:modelValue":o[0]||(o[0]=o=>e.infNFe.total.ICMSTot.vICMSDeson=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vICMSDeson,"somente-leitura":""},null,8,["modelValue","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vFCPUFDest,"onUpdate:modelValue":o[1]||(o[1]=o=>e.infNFe.total.ICMSTot.vFCPUFDest=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vFCPUFDest,"somente-leitura":""},null,8,["modelValue","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vICMSUFDest,"onUpdate:modelValue":o[2]||(o[2]=o=>e.infNFe.total.ICMSTot.vICMSUFDest=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vICMSUFDest,"somente-leitura":""},null,8,["modelValue","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vICMSUFRemet,"onUpdate:modelValue":o[3]||(o[3]=o=>e.infNFe.total.ICMSTot.vICMSUFRemet=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vICMSUFRemet,"somente-leitura":""},null,8,["modelValue","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vFCP,"onUpdate:modelValue":o[4]||(o[4]=o=>e.infNFe.total.ICMSTot.vFCP=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vFCP,"somente-leitura":""},null,8,["modelValue","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vFCPST,"onUpdate:modelValue":o[5]||(o[5]=o=>e.infNFe.total.ICMSTot.vFCPST=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vFCPST,"somente-leitura":""},null,8,["modelValue","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vFCPSTRet,"onUpdate:modelValue":o[6]||(o[6]=o=>e.infNFe.total.ICMSTot.vFCPSTRet=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vFCPSTRet,"somente-leitura":""},null,8,["modelValue","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vII,"onUpdate:modelValue":o[7]||(o[7]=o=>e.infNFe.total.ICMSTot.vII=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vII,"somente-leitura":""},null,8,["modelValue","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vIPIDevol,"onUpdate:modelValue":o[8]||(o[8]=o=>e.infNFe.total.ICMSTot.vIPIDevol=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vIPIDevol,"somente-leitura":""},null,8,["modelValue","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vPIS,"onUpdate:modelValue":o[9]||(o[9]=o=>e.infNFe.total.ICMSTot.vPIS=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vPIS,"somente-leitura":""},null,8,["modelValue","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vCOFINS,"onUpdate:modelValue":o[10]||(o[10]=o=>e.infNFe.total.ICMSTot.vCOFINS=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vCOFINS,"somente-leitura":""},null,8,["modelValue","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vTotTrib,"onUpdate:modelValue":o[11]||(o[11]=o=>e.infNFe.total.ICMSTot.vTotTrib=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vTotTrib,"somente-leitura":""},null,8,["modelValue","meta"])])]),(0,a.createElementVNode)("div",vn,[(0,a.createElementVNode)("div",fn,[(0,a.createVNode)(s,{modelValue:e.infNFe.total.ISSQNtot.visivel,"onUpdate:modelValue":o[12]||(o[12]=o=>e.infNFe.total.ISSQNtot.visivel=o),col:"12",meta:e.metadados.infNFe.total.ISSQNtot.visivel,"somente-leitura":!e.emDigitacao,tipo:"logico"},null,8,["modelValue","meta","somente-leitura"])]),e.infNFe.total.ISSQNtot.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Nn,[(0,a.createElementVNode)("div",Vn,[(0,a.createVNode)(s,{modelValue:e.infNFe.total.ISSQNtot.vServ,"onUpdate:modelValue":o[13]||(o[13]=o=>e.infNFe.total.ISSQNtot.vServ=o),col:"3",meta:e.metadados.infNFe.total.ISSQNtot.vServ,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ISSQNtot.vBC,"onUpdate:modelValue":o[14]||(o[14]=o=>e.infNFe.total.ISSQNtot.vBC=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.total.ISSQNtot.vBC},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ISSQNtot.vISS,"onUpdate:modelValue":o[15]||(o[15]=o=>e.infNFe.total.ISSQNtot.vISS=o),col:"3",meta:e.metadados.infNFe.total.ISSQNtot.vISS,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ISSQNtot.vPIS,"onUpdate:modelValue":o[16]||(o[16]=o=>e.infNFe.total.ISSQNtot.vPIS=o),col:"3",meta:e.metadados.infNFe.total.ISSQNtot.vPIS,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ISSQNtot.vCOFINS,"onUpdate:modelValue":o[17]||(o[17]=o=>e.infNFe.total.ISSQNtot.vCOFINS=o),col:"3",meta:e.metadados.infNFe.total.ISSQNtot.vCOFINS,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ISSQNtot.dCompet,"onUpdate:modelValue":o[18]||(o[18]=o=>e.infNFe.total.ISSQNtot.dCompet=o),col:"3",meta:e.metadados.infNFe.total.ISSQNtot.dCompet,"somente-leitura":!e.emDigitacao,tipo:"data"},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ISSQNtot.vDeducao,"onUpdate:modelValue":o[19]||(o[19]=o=>e.infNFe.total.ISSQNtot.vDeducao=o),col:"3",meta:e.metadados.infNFe.total.ISSQNtot.vDeducao,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ISSQNtot.vOutro,"onUpdate:modelValue":o[20]||(o[20]=o=>e.infNFe.total.ISSQNtot.vOutro=o),col:"3",meta:e.metadados.infNFe.total.ISSQNtot.vOutro,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ISSQNtot.vDescIncond,"onUpdate:modelValue":o[21]||(o[21]=o=>e.infNFe.total.ISSQNtot.vDescIncond=o),col:"3",meta:e.metadados.infNFe.total.ISSQNtot.vDescIncond,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ISSQNtot.vDescCond,"onUpdate:modelValue":o[22]||(o[22]=o=>e.infNFe.total.ISSQNtot.vDescCond=o),col:"3",meta:e.metadados.infNFe.total.ISSQNtot.vDescCond,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ISSQNtot.vISSRet,"onUpdate:modelValue":o[23]||(o[23]=o=>e.infNFe.total.ISSQNtot.vISSRet=o),col:"3",meta:e.metadados.infNFe.total.ISSQNtot.vISSRet,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ISSQNtot.cRegTrib,"onUpdate:modelValue":o[24]||(o[24]=o=>e.infNFe.total.ISSQNtot.cRegTrib=o),col:"3",meta:e.metadados.infNFe.total.ISSQNtot.cRegTrib,"somente-leitura":!e.emDigitacao,opcoes:e.metadados.infNFe.total.ISSQNtot.cRegTrib._enumeration},null,8,["modelValue","meta","somente-leitura","opcoes"])])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",gn,[(0,a.createElementVNode)("div",xn,[(0,a.createVNode)(s,{modelValue:e.infNFe.total.retTrib.visivel,"onUpdate:modelValue":o[25]||(o[25]=o=>e.infNFe.total.retTrib.visivel=o),col:"12",meta:e.metadados.infNFe.total.retTrib.visivel,"somente-leitura":!e.emDigitacao,tipo:"logico"},null,8,["modelValue","meta","somente-leitura"])]),e.infNFe.total.retTrib.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",bn,[(0,a.createElementVNode)("div",wn,[(0,a.createVNode)(s,{modelValue:e.infNFe.total.retTrib.vRetPIS,"onUpdate:modelValue":o[26]||(o[26]=o=>e.infNFe.total.retTrib.vRetPIS=o),col:"3",meta:e.metadados.infNFe.total.retTrib.vRetPIS,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.retTrib.vRetCOFINS,"onUpdate:modelValue":o[27]||(o[27]=o=>e.infNFe.total.retTrib.vRetCOFINS=o),col:"3",meta:e.metadados.infNFe.total.retTrib.vRetCOFINS,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.retTrib.vRetCSLL,"onUpdate:modelValue":o[28]||(o[28]=o=>e.infNFe.total.retTrib.vRetCSLL=o),col:"3",meta:e.metadados.infNFe.total.retTrib.vRetCSLL,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.retTrib.vBCIRRF,"onUpdate:modelValue":o[29]||(o[29]=o=>e.infNFe.total.retTrib.vBCIRRF=o),col:"3",meta:e.metadados.infNFe.total.retTrib.vBCIRRF,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.retTrib.vIRRF,"onUpdate:modelValue":o[30]||(o[30]=o=>e.infNFe.total.retTrib.vIRRF=o),col:"3",meta:e.metadados.infNFe.total.retTrib.vIRRF,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.retTrib.vBCRetPrev,"onUpdate:modelValue":o[31]||(o[31]=o=>e.infNFe.total.retTrib.vBCRetPrev=o),col:"3",meta:e.metadados.infNFe.total.retTrib.vBCRetPrev,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.retTrib.vRetPrev,"onUpdate:modelValue":o[32]||(o[32]=o=>e.infNFe.total.retTrib.vRetPrev=o),col:"3",meta:e.metadados.infNFe.total.retTrib.vRetPrev,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])])])):(0,a.createCommentVNode)("",!0)])])),_:1},8,["label"])}]]);Z()(_n,"components",{QCardSection:q.Z});const In={class:"col-auto"},En=(0,a.createTextVNode)("Remover pagamento"),Sn={components:{nfeCrud:qs},data:()=>({}),methods:{atualizar(e){"99"!==e.tPag&&delete e.xPag,"90"===e.tPag&&(e.vPag=0),$lodash.set(e,"card.visivel",["03","04"].includes(e.tPag))},removerPagamento(e){$q.dialog({cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},title:"Remover",message:"Ao continuar você irá remover este pagamento.",ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{try{this.infNFe.pag.detPag.splice(e,1),$q.notifyPositive("Pagamento removido com sucesso.")}catch(e){$q.notifyError("Ocorreu um erro ao remover o pagamento.",e)}}))}},mixins:[Xl],props:{nota:{required:!0,type:Object}},created(){$utils.gconsole.log("NFePagamento","created()")}},Mn=(0,T.Z)(Sn,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-tooltip"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("row"),d=(0,a.resolveComponent)("nfeCampo"),m=(0,a.resolveComponent)("nfeCrud"),u=(0,a.resolveComponent)("card");return(0,a.openBlock)(),(0,a.createBlock)(u,{expansion:"","default-opened":"",icon:"payment",label:e.metadados.infNFe.pag._titulo},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{nota:t.nota,lista:e.infNFe.pag.detPag,meta:e.metadados.infNFe.pag.detPag.lista,labelAdd:"Pagamento"},{default:(0,a.withCtx)((({item:o,index:t})=>[(0,a.createVNode)(c,{class:"items-center q-mb-xs"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",In,[(0,a.createVNode)(n,{color:"tertiary",size:"sm",dense:"",flat:"",icon:"delete",round:"",onClick:e=>l.removerPagamento(t)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[En])),_:1})])),_:2},1032,["onClick"])])])),_:2},1024),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:o.tPag,"onUpdate:modelValue":[e=>o.tPag=e,e=>l.atualizar(o)],col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.pag.detPag.lista.tPag},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),"90"!==o.tPag?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,modelValue:o.vPag,"onUpdate:modelValue":e=>o.vPag=e,col:"4",meta:e.metadados.infNFe.pag.detPag.lista.vPag,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"])):(0,a.createCommentVNode)("",!0),"99"===o.tPag?((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,modelValue:o.xPag,"onUpdate:modelValue":e=>o.xPag=e,col:"4",meta:e.metadados.infNFe.pag.detPag.lista.xPag,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"])):(0,a.createCommentVNode)("",!0),e.outrosNFe.visaoCompleta?((0,a.openBlock)(),(0,a.createBlock)(d,{key:2,modelValue:o.indPag,"onUpdate:modelValue":e=>o.indPag=e,col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.pag.detPag.lista.indPag,"rotulo-fixo":"À vista ou à prazo"},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])):(0,a.createCommentVNode)("",!0)])),_:2},1024),e.$lodash.get(o,"card.visivel")?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:o.card.tpIntegra,"onUpdate:modelValue":e=>o.card.tpIntegra=e,col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.pag.detPag.lista.card.tpIntegra},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:o.card.tBand,"onUpdate:modelValue":e=>o.card.tBand=e,col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.pag.detPag.lista.card.tBand},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:o.card.cAut,"onUpdate:modelValue":e=>o.card.cAut=e,col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.pag.detPag.lista.card.cAut},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),e.outrosNFe.visaoCompleta?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,modelValue:o.card.CNPJ,"onUpdate:modelValue":e=>o.card.CNPJ=e,col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.pag.detPag.lista.card.CNPJ},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])):(0,a.createCommentVNode)("",!0)])),_:2},1024)):(0,a.createCommentVNode)("",!0)])),_:1},8,["nota","lista","meta"]),e.outrosNFe.visaoCompleta?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:e.infNFe.pag.vTroco,"onUpdate:modelValue":o[0]||(o[0]=o=>e.infNFe.pag.vTroco=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.pag.vTroco},null,8,["modelValue","somente-leitura","meta"])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1},8,["label"])}]]);Z()(Sn,"components",{QBtn:H.Z,QTooltip:Ao.Z});const Tn={class:"col-12 no-shadow"},kn={class:"row gutter-x-sm"},Dn={class:"row gutter-x-sm"},qn={class:"col-auto justify-end q-pt-md"},Fn={data:()=>({}),mixins:[Xl],props:{nota:{required:!0,type:Object}},created(){$utils.gconsole.log("NFePessoasAutorizadas","created()")}},Pn=(0,T.Z)(Fn,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-radio"),n=(0,a.resolveComponent)("nfeCampo"),c=(0,a.resolveComponent)("q-btn"),d=(0,a.resolveComponent)("q-item-section"),m=(0,a.resolveComponent)("q-item"),u=(0,a.resolveComponent)("q-list"),p=(0,a.resolveComponent)("card");return(0,a.openBlock)(),(0,a.createBlock)(p,{expansion:"",icon:"perm_identity",label:e.metadados.infNFe.autXML._titulo},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Tn,[(0,a.createVNode)(u,{class:"no-border q-pa-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.infNFe.autXML,((o,t)=>((0,a.openBlock)(),(0,a.createBlock)(m,{key:t,class:"border-1 q-mb-xs q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",kn,[(0,a.createVNode)(s,{modelValue:o.escolhas.valor_escolha,"onUpdate:modelValue":e=>o.escolhas.valor_escolha=e,label:"CNPJ",val:"CNPJ"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(s,{modelValue:o.escolhas.valor_escolha,"onUpdate:modelValue":e=>o.escolhas.valor_escolha=e,label:"CPF",val:"CPF"},null,8,["modelValue","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",Dn,["CNPJ"==o.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0,modelValue:o.escolhas.CNPJ,"onUpdate:modelValue":e=>o.escolhas.CNPJ=e,class:"col","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.autXML.lista.escolhas.CNPJ},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])):(0,a.createCommentVNode)("",!0),"CPF"==o.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(n,{key:1,modelValue:o.escolhas.CPF,"onUpdate:modelValue":e=>o.escolhas.CPF=e,class:"col","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.autXML.lista.escolhas.CPF},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",qn,[e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,color:"negative",class:"bt-negative",size:"xs",icon:"remove",outline:"",round:"",onClick:o=>e.removerLinhaDaLista(e.infNFe.autXML,t)},null,8,["onClick"])):(0,a.createCommentVNode)("",!0)])])])),_:2},1024)])),_:2},1024)))),128))])),_:1}),e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm",onClick:o[0]||(o[0]=o=>e.adicionarLinhaNaLista(e.infNFe.autXML,e.metadados.infNFe.autXML.lista))})):(0,a.createCommentVNode)("",!0)])])),_:1},8,["label"])}]]);Z()(Fn,"components",{QList:F.Z,QItem:z.Z,QItemSection:A.Z,QRadio:ys.Z,QBtn:H.Z});const An={class:"col-avatar"},Bn={class:"col"},Ln={class:"col-auto"},On={class:"col-auto"},zn=(0,a.createTextVNode)("Remover Item"),jn={class:"col-12"},$n={class:"col-4 col-md"},Un={class:"col-4 col-md"},Zn={class:"col-4 col-md"},Qn={class:"col-4 col-md"},Rn={class:"col-4 col-md"};var Gn=t(31969);const Hn={class:"col-12 no-shadow"},Jn={class:"col-12 no-shadow"},Yn={class:"col-12 no-shadow"},Xn={class:"row q-col-gutter-x-sm"},Wn={class:"col-12 no-shadow"},Kn={class:"row q-col-gutter-x-sm"},ec={key:0},oc={class:"row q-col-gutter-x-sm"},tc={class:"col-12 no-shadow"},ac={key:0,class:"row q-col-gutter-x-sm"},ic={key:1},rc={class:"row q-col-gutter-x-sm"},lc={class:"row q-col-gutter-x-sm"},sc={class:"col-12 no-shadow"},nc={key:0,class:"row q-col-gutter-x-sm"},cc={class:"col-12 no-shadow"},dc={key:0,class:"row q-col-gutter-x-sm"},mc={class:"col-12 no-shadow"},uc={key:0,class:"row q-col-gutter-x-sm"},pc={key:2},hc={class:"row q-col-gutter-x-sm"},Cc={class:"col-12 no-shadow"},vc={key:0,class:"row q-col-gutter-x-sm"},fc={class:"col-12 no-shadow"},Nc={key:0,class:"row q-col-gutter-x-sm"},Vc={key:3},gc={class:"row q-col-gutter-x-sm"},xc={class:"col-12 no-shadow"},bc={key:0,class:"row q-col-gutter-x-sm"},wc={class:"col-12 no-shadow"},_c={key:0,class:"row q-col-gutter-x-sm"},yc={key:4},Ic={class:"col-12 no-shadow"},Ec={key:0,class:"row q-col-gutter-x-sm"},Sc={key:5},Mc={class:"row q-col-gutter-x-sm"},Tc={class:"col-12 no-shadow"},kc={key:0,class:"row q-col-gutter-x-sm"},Dc={key:6},qc={class:"col-12 no-shadow"},Fc={key:0,class:"row q-col-gutter-x-sm"},Pc={class:"col-12 no-shadow"},Ac={key:0,class:"row q-col-gutter-x-sm"},Bc={class:"col-12 no-shadow"},Lc={key:0,class:"row q-col-gutter-x-sm"},Oc={key:7},zc={class:"row q-col-gutter-x-sm"},jc={class:"row q-col-gutter-x-sm"},$c={class:"col-12 no-shadow"},Uc={key:0,class:"row q-col-gutter-x-sm"},Zc={class:"col-12 no-shadow"},Qc={key:0,class:"row q-col-gutter-x-sm"},Rc={class:"col-12 no-shadow"},Gc={key:0,class:"row q-col-gutter-x-sm"},Hc={key:8},Jc={class:"col-12 no-shadow"},Yc={key:0,class:"row q-col-gutter-x-sm"},Xc={class:"col-12 no-shadow"},Wc={key:0,class:"row q-col-gutter-x-sm"},Kc={class:"col-12 no-shadow"},ed={key:0,class:"row q-col-gutter-x-sm"},od={class:"col-12 no-shadow"},td={key:0,class:"row q-col-gutter-x-sm"},ad={class:"col-12 no-shadow"},id={key:0,class:"row q-col-gutter-x-sm"},rd={key:0},ld={class:"row q-col-gutter-x-sm"},sd={key:1},nd={key:2},cd={class:"row q-col-gutter-x-sm"},dd={class:"row q-col-gutter-x-sm"},md={class:"row q-col-gutter-x-sm"},ud={class:"row q-col-gutter-x-sm"},pd={class:"row q-col-gutter-x-sm"},hd={class:"col-12 no-shadow"},Cd={key:0,class:"row q-col-gutter-x-sm"},vd={key:3},fd={class:"row q-col-gutter-x-sm"},Nd={class:"row q-col-gutter-x-sm"},Vd={class:"row q-col-gutter-x-sm"},gd={class:"row q-col-gutter-x-sm"},xd={class:"col-12 no-shadow"},bd={key:0,class:"row q-col-gutter-x-sm"},wd={key:4},_d={class:"col-12 no-shadow"},yd={key:0,class:"row q-col-gutter-x-sm"},Id={class:"col-12 no-shadow"},Ed={key:0,class:"row q-col-gutter-x-sm"},Sd={class:"col-12 no-shadow"},Md={key:0,class:"row q-col-gutter-x-sm"},Td={key:5},kd={class:"col-12 no-shadow"},Dd={key:0,class:"row q-col-gutter-x-sm"},qd={class:"col-12 no-shadow"},Fd={key:0,class:"row q-col-gutter-x-sm"},Pd={class:"col-12 no-shadow"},Ad={key:0,class:"row q-col-gutter-x-sm"},Bd={class:"col-12 no-shadow"},Ld={key:0,class:"row q-col-gutter-x-sm"},Od={class:"row q-col-gutter-x-sm"},zd={class:"col-12 no-shadow"},jd={key:0},$d={class:"row q-col-gutter-x-sm"},Ud={key:1},Zd={class:"row q-col-gutter-x-sm"},Qd={key:2},Rd={class:"col-12 no-shadow"},Gd={class:"row q-col-gutter-x-sm q-mt-md"},Hd={key:0},Jd={class:"row q-col-gutter-x-sm"},Yd={key:1},Xd={class:"row q-col-gutter-x-sm"},Wd={class:"row q-col-gutter-x-sm"},Kd={key:0,class:"col-12 no-shadow"},em={class:"row q-col-gutter-x-sm"},om={key:0},tm={class:"col-12 no-shadow"},am={class:"row q-col-gutter-x-sm"},im={key:0},rm={class:"row q-col-gutter-x-sm"},lm={key:1},sm={class:"row q-col-gutter-x-sm"},nm={class:"row q-col-gutter-x-sm"},cm={class:"row q-col-gutter-x-sm"},dm={class:"col-12 no-shadow"},mm={key:0},um={class:"row q-col-gutter-x-sm"},pm={key:1},hm={class:"row q-col-gutter-x-sm"},Cm={key:2},vm={class:"col-12 no-shadow"},fm={class:"row q-col-gutter-x-sm q-mt-md"},Nm={key:0},Vm={class:"row q-col-gutter-x-sm"},gm={key:1},xm={class:"row q-col-gutter-x-sm"},bm={class:"row q-col-gutter-x-sm"},wm={key:0,class:"col-12 no-shadow"},_m={class:"row q-col-gutter-x-sm"},ym={key:0},Im={class:"col-12 no-shadow"},Em={class:"row q-col-gutter-x-sm"},Sm={key:0},Mm={class:"row q-col-gutter-x-sm"},Tm={key:1},km={class:"row q-col-gutter-x-sm"},Dm={class:"row q-col-gutter-x-sm"},qm={class:"col-12 no-shadow"},Fm={class:"row q-col-gutter-x-sm"},Pm={key:0},Am={class:"row q-col-gutter-x-sm"},Bm={class:"col-12 no-shadow"},Lm={class:"row q-col-gutter-x-sm"},Om={key:0},zm={class:"row q-col-gutter-x-sm"},jm={class:"col-12 no-shadow"},$m={class:"row q-col-gutter-x-sm"},Um={key:0},Zm={class:"row q-col-gutter-x-sm"},Qm={key:1},Rm={class:"row q-col-gutter-x-sm"},Gm={class:"row q-col-gutter-x-sm"},Hm={key:1},Jm={class:"row q-col-gutter-x-sm"},Ym={class:"row q-col-gutter-x-sm"},Xm={key:0},Wm={class:"row q-col-gutter-x-sm"},Km={class:"row q-col-gutter-x-sm"},eu={key:0,class:"tributosb"},ou={class:"row q-col-gutter-x-sm"},tu={class:"row q-col-gutter-x-sm"},au={key:0,class:"tributosb"},iu={class:"row q-col-gutter-x-sm"},ru={class:"row q-col-gutter-x-sm"},lu={class:"row q-col-gutter-x-sm"},su={class:"col-12 no-shadow"},nu={class:"row q-col-gutter-x-sm"},cu={class:"row q-col-gutter-x-sm"},du={class:"col-12 no-shadow"},mu={class:"row q-col-gutter-x-sm"},uu={key:0},pu={class:"row q-col-gutter-x-sm"},hu={components:{nfeGrupoOpcional:Bs},data:()=>({}),mixins:[Xl],props:{nota:{required:!0,type:Object},item_det:{required:!1,type:Object}},created(){$utils.gconsole.log("NFeProdutosModal","created()"),console.log("this.nota: ",this.nota)}},Cu=(0,T.Z)(hu,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toggle"),n=(0,a.resolveComponent)("column"),c=(0,a.resolveComponent)("row"),d=(0,a.resolveComponent)("card"),m=(0,a.resolveComponent)("nfeCampo"),u=(0,a.resolveComponent)("campo"),p=(0,a.resolveComponent)("seletorNcm"),h=(0,a.resolveComponent)("seletorCfop"),C=(0,a.resolveComponent)("nfeGrupoOpcional"),v=(0,a.resolveComponent)("q-radio"),f=(0,a.resolveComponent)("q-btn"),N=(0,a.resolveComponent)("q-item-section"),V=(0,a.resolveComponent)("q-item"),g=(0,a.resolveComponent)("q-list"),x=(0,a.resolveComponent)("q-expansion-item"),b=(0,a.resolveComponent)("dialogForm");return(0,a.openBlock)(),(0,a.createBlock)(b,{ref:"dialog",title:"Nota Fiscal / Produto",labelButtonSubmit:"OK",size:"max"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:e.outrosNFe.visaoCompletaProduto,"onUpdate:modelValue":o[0]||(o[0]=o=>e.outrosNFe.visaoCompletaProduto=o),label:"Visão Completa"},null,8,["modelValue"]),(0,a.createVNode)(s,{modelValue:e.outrosNFe.automatico.calculaBC,"onUpdate:modelValue":[o[1]||(o[1]=o=>e.outrosNFe.automatico.calculaBC=o),e.calcularTotais],class:"q-pl-md",label:"Calcula BC"},null,8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(d,{expansion:"","default-opened":"",icon:"list_alt",label:"Produto"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.item_det.prod.cProd,"onUpdate:modelValue":o[2]||(o[2]=e=>t.item_det.prod.cProd=e),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.cProd},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.cEAN,"onUpdate:modelValue":[o[3]||(o[3]=e=>t.item_det.prod.cEAN=e),e.calcularTotaisSemDistribuir],col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.cEAN},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),e.outrosNFe.visaoCompletaProduto?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,modelValue:t.item_det.prod.cBarra,"onUpdate:modelValue":[o[4]||(o[4]=e=>t.item_det.prod.cBarra=e),e.calcularTotaisSemDistribuir],col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.cBarra},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(m,{modelValue:t.item_det.prod.xProd,"onUpdate:modelValue":o[5]||(o[5]=e=>t.item_det.prod.xProd=e),col:"12","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.xProd},null,8,["modelValue","somente-leitura","meta"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.item_det.prod.vUnCom,"onUpdate:modelValue":[o[6]||(o[6]=e=>t.item_det.prod.vUnCom=e),e.calcularTotais],col:"3",meta:e.metadados.infNFe.det.lista.prod.vUnCom,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.qCom,"onUpdate:modelValue":[o[7]||(o[7]=e=>t.item_det.prod.qCom=e),e.calcularTotais],col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.qCom},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.uCom,"onUpdate:modelValue":[o[8]||(o[8]=e=>t.item_det.prod.uCom=e),e.calcularTotais],col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.uCom},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.vProd,"onUpdate:modelValue":o[9]||(o[9]=e=>t.item_det.prod.vProd=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.vProd,"somente-leitura":""},null,8,["modelValue","meta"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.item_det.prod.vDesc,"onUpdate:modelValue":[o[10]||(o[10]=e=>t.item_det.prod.vDesc=e),e.calcularTotais],col:"3",meta:e.metadados.infNFe.det.lista.prod.vDesc,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.vFrete,"onUpdate:modelValue":[o[11]||(o[11]=e=>t.item_det.prod.vFrete=e),e.calcularTotais],col:"3",meta:e.metadados.infNFe.det.lista.prod.vFrete,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.vSeg,"onUpdate:modelValue":[o[12]||(o[12]=e=>t.item_det.prod.vSeg=e),e.calcularTotais],col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.vSeg},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.item_det.prod.vOutro,"onUpdate:modelValue":[o[13]||(o[13]=e=>t.item_det.prod.vOutro=e),e.calcularTotais],col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.vOutro},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(u,{modelValue:e.outrosNFe.automatico.incluiDespesasNaBC,"onUpdate:modelValue":[o[14]||(o[14]=o=>e.outrosNFe.automatico.incluiDespesasNaBC=o),e.calcularTotais],col:"3",class:"q-pa-sm self-top","somente-leitura":!e.emDigitacao,rotulo:"Inclui despesas na BC",tipo:"logico"},null,8,["modelValue","somente-leitura","onUpdate:modelValue"]),e.outrosNFe.visaoCompletaProduto?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,modelValue:t.item_det.prod.indTot,"onUpdate:modelValue":o[15]||(o[15]=e=>t.item_det.prod.indTot=e),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.indTot},null,8,["modelValue","somente-leitura","meta"])):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.noXml_orig,"onUpdate:modelValue":o[16]||(o[16]=e=>t.item_det.imposto.noXml_orig=e),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.noXml_orig},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.vTotTrib,"onUpdate:modelValue":o[17]||(o[17]=e=>t.item_det.imposto.vTotTrib=e),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.vTotTrib},null,8,["modelValue","somente-leitura","meta"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:t.item_det.prod.NCM,"onUpdate:modelValue":o[18]||(o[18]=e=>t.item_det.prod.NCM=e),col:"6",class:"q-pb-md","somente-leitura":!e.emDigitacao},null,8,["modelValue","somente-leitura"]),(0,a.createVNode)(h,{modelValue:t.item_det.prod.CFOP,"onUpdate:modelValue":o[19]||(o[19]=e=>t.item_det.prod.CFOP=e),col:"6",class:"q-pb-md","somente-leitura":!e.emDigitacao},null,8,["modelValue","somente-leitura"])])),_:1}),(0,a.createVNode)(C,{modelValue:t.item_det.prod.opcional.visivel,"onUpdate:modelValue":o[23]||(o[23]=e=>t.item_det.prod.opcional.visivel=e),nota:t.nota,meta:e.metadados.infNFe.det.lista.prod.opcional.visivel},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.item_det.prod.opcional.CEST,"onUpdate:modelValue":o[20]||(o[20]=e=>t.item_det.prod.opcional.CEST=e),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.opcional.CEST},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.opcional.indEscala,"onUpdate:modelValue":o[21]||(o[21]=e=>t.item_det.prod.opcional.indEscala=e),col:"4",meta:e.metadados.infNFe.det.lista.prod.opcional.indEscala,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.opcional.CNPJFab,"onUpdate:modelValue":o[22]||(o[22]=e=>t.item_det.prod.opcional.CNPJFab=e),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.opcional.CNPJFab},null,8,["modelValue","somente-leitura","meta"])])),_:1})])),_:1},8,["modelValue","nota","meta"])])),_:1}),e.outrosNFe.visaoCompletaProduto?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,expansion:"",icon:"list_alt",label:"Informações adicionais"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.item_det.infAdProd,"onUpdate:modelValue":o[24]||(o[24]=e=>t.item_det.infAdProd=e),col:"12",meta:e.metadados.infNFe.det.lista.infAdProd,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.item_det.prod.uTrib,"onUpdate:modelValue":o[25]||(o[25]=e=>t.item_det.prod.uTrib=e),col:"4",meta:e.metadados.infNFe.det.lista.prod.uTrib,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.qTrib,"onUpdate:modelValue":o[26]||(o[26]=e=>t.item_det.prod.qTrib=e),col:"4",meta:e.metadados.infNFe.det.lista.prod.qTrib,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.vUnTrib,"onUpdate:modelValue":o[27]||(o[27]=e=>t.item_det.prod.vUnTrib=e),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.vUnTrib},null,8,["modelValue","somente-leitura","meta"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.item_det.prod.cEANTrib,"onUpdate:modelValue":o[28]||(o[28]=e=>t.item_det.prod.cEANTrib=e),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.cEANTrib},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.cBarraTrib,"onUpdate:modelValue":o[29]||(o[29]=e=>t.item_det.prod.cBarraTrib=e),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.cBarraTrib},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.cBenef,"onUpdate:modelValue":o[30]||(o[30]=e=>t.item_det.prod.cBenef=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.cBenef},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.EXTIPI,"onUpdate:modelValue":o[31]||(o[31]=e=>t.item_det.prod.EXTIPI=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.EXTIPI},null,8,["modelValue","somente-leitura","meta"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.item_det.prod.xPed,"onUpdate:modelValue":o[32]||(o[32]=e=>t.item_det.prod.xPed=e),col:"4",meta:e.metadados.infNFe.det.lista.prod.xPed,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.nItemPed,"onUpdate:modelValue":o[33]||(o[33]=e=>t.item_det.prod.nItemPed=e),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.nItemPed},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.nFCI,"onUpdate:modelValue":o[34]||(o[34]=e=>t.item_det.prod.nFCI=e),col:"4",meta:e.metadados.infNFe.det.lista.prod.nFCI,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),e.outrosNFe.visaoCompletaProduto?((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,expansion:"",icon:"list_alt",label:"Produtos Específicos"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{modelValue:t.item_det.prod.escolhas.valor_escolha,"onUpdate:modelValue":o[35]||(o[35]=e=>t.item_det.prod.escolhas.valor_escolha=e),label:"Não se aplica",val:"Não se aplica"},null,8,["modelValue"]),(0,a.createVNode)(v,{modelValue:t.item_det.prod.escolhas.valor_escolha,"onUpdate:modelValue":o[36]||(o[36]=e=>t.item_det.prod.escolhas.valor_escolha=e),label:"Veículo",val:"veicProd"},null,8,["modelValue"]),(0,a.createVNode)(v,{modelValue:t.item_det.prod.escolhas.valor_escolha,"onUpdate:modelValue":o[37]||(o[37]=e=>t.item_det.prod.escolhas.valor_escolha=e),label:"Medicamento",val:"med"},null,8,["modelValue"]),(0,a.createVNode)(v,{modelValue:t.item_det.prod.escolhas.valor_escolha,"onUpdate:modelValue":o[38]||(o[38]=e=>t.item_det.prod.escolhas.valor_escolha=e),label:"Arma",val:"arma"},null,8,["modelValue"]),(0,a.createVNode)(v,{modelValue:t.item_det.prod.escolhas.valor_escolha,"onUpdate:modelValue":o[39]||(o[39]=e=>t.item_det.prod.escolhas.valor_escolha=e),label:"Combustível",val:"comb"},null,8,["modelValue"]),(0,a.createVNode)(v,{modelValue:t.item_det.prod.escolhas.valor_escolha,"onUpdate:modelValue":o[40]||(o[40]=e=>t.item_det.prod.escolhas.valor_escolha=e),label:"nRECOPI",val:"nRECOPI"},null,8,["modelValue"])])),_:1}),"veicProd"==t.item_det.prod.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.tpOp,"onUpdate:modelValue":o[41]||(o[41]=e=>t.item_det.prod.escolhas.veicProd.tpOp=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.tpOp,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.chassi,"onUpdate:modelValue":o[42]||(o[42]=e=>t.item_det.prod.escolhas.veicProd.chassi=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.chassi,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.cCor,"onUpdate:modelValue":o[43]||(o[43]=e=>t.item_det.prod.escolhas.veicProd.cCor=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.cCor,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.xCor,"onUpdate:modelValue":o[44]||(o[44]=e=>t.item_det.prod.escolhas.veicProd.xCor=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.xCor,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.pot,"onUpdate:modelValue":o[45]||(o[45]=e=>t.item_det.prod.escolhas.veicProd.pot=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.pot,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.cilin,"onUpdate:modelValue":o[46]||(o[46]=e=>t.item_det.prod.escolhas.veicProd.cilin=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.cilin},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.pesoL,"onUpdate:modelValue":o[47]||(o[47]=e=>t.item_det.prod.escolhas.veicProd.pesoL=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.pesoL},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.pesoB,"onUpdate:modelValue":o[48]||(o[48]=e=>t.item_det.prod.escolhas.veicProd.pesoB=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.pesoB,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.nSerie,"onUpdate:modelValue":o[49]||(o[49]=e=>t.item_det.prod.escolhas.veicProd.nSerie=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.nSerie},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.tpComb,"onUpdate:modelValue":o[50]||(o[50]=e=>t.item_det.prod.escolhas.veicProd.tpComb=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.tpComb,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.nMotor,"onUpdate:modelValue":o[51]||(o[51]=e=>t.item_det.prod.escolhas.veicProd.nMotor=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.nMotor},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.CMT,"onUpdate:modelValue":o[52]||(o[52]=e=>t.item_det.prod.escolhas.veicProd.CMT=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.CMT},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.dist,"onUpdate:modelValue":o[53]||(o[53]=e=>t.item_det.prod.escolhas.veicProd.dist=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.dist},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.anoMod,"onUpdate:modelValue":o[54]||(o[54]=e=>t.item_det.prod.escolhas.veicProd.anoMod=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.anoMod,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.anoFab,"onUpdate:modelValue":o[55]||(o[55]=e=>t.item_det.prod.escolhas.veicProd.anoFab=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.anoFab},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.tpPint,"onUpdate:modelValue":o[56]||(o[56]=e=>t.item_det.prod.escolhas.veicProd.tpPint=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.tpPint},null,8,["modelValue","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.tpVeic,"onUpdate:modelValue":o[57]||(o[57]=e=>t.item_det.prod.escolhas.veicProd.tpVeic=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.tpVeic},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.espVeic,"onUpdate:modelValue":o[58]||(o[58]=e=>t.item_det.prod.escolhas.veicProd.espVeic=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.espVeic,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.VIN,"onUpdate:modelValue":o[59]||(o[59]=e=>t.item_det.prod.escolhas.veicProd.VIN=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.VIN},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.condVeic,"onUpdate:modelValue":o[60]||(o[60]=e=>t.item_det.prod.escolhas.veicProd.condVeic=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.condVeic},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.cMod,"onUpdate:modelValue":o[61]||(o[61]=e=>t.item_det.prod.escolhas.veicProd.cMod=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.cMod,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.cCorDENATRAN,"onUpdate:modelValue":o[62]||(o[62]=e=>t.item_det.prod.escolhas.veicProd.cCorDENATRAN=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.cCorDENATRAN,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.lota,"onUpdate:modelValue":o[63]||(o[63]=e=>t.item_det.prod.escolhas.veicProd.lota=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.lota,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.veicProd.tpRest,"onUpdate:modelValue":o[64]||(o[64]=e=>t.item_det.prod.escolhas.veicProd.tpRest=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.tpRest},null,8,["modelValue","somente-leitura","meta"])])),_:1})):(0,a.createCommentVNode)("",!0),"med"==t.item_det.prod.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(c,{key:1},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.med.cProdANVISA,"onUpdate:modelValue":o[65]||(o[65]=e=>t.item_det.prod.escolhas.med.cProdANVISA=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.med.cProdANVISA,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.med.xMotivoIsencao,"onUpdate:modelValue":o[66]||(o[66]=e=>t.item_det.prod.escolhas.med.xMotivoIsencao=e),col:"6",meta:e.metadados.infNFe.det.lista.prod.escolhas.med.xMotivoIsencao,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.med.vPMC,"onUpdate:modelValue":o[67]||(o[67]=e=>t.item_det.prod.escolhas.med.vPMC=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.escolhas.med.vPMC},null,8,["modelValue","somente-leitura","meta"])])),_:1})):(0,a.createCommentVNode)("",!0),"arma"==t.item_det.prod.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(c,{key:2},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Hn,[(0,a.createVNode)(g,{style:{border:"none"}},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(t.item_det.prod.escolhas.arma,((o,i)=>((0,a.openBlock)(),(0,a.createBlock)(V,{class:"border-item",key:i},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Jn,[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{modelValue:o.escolhas.valor_escolha,"onUpdate:modelValue":e=>o.escolhas.valor_escolha=e,label:"tpArma",val:"tpArma"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(v,{modelValue:o.escolhas.valor_escolha,"onUpdate:modelValue":e=>o.escolhas.valor_escolha=e,label:"nSerie",val:"nSerie"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(v,{modelValue:o.escolhas.valor_escolha,"onUpdate:modelValue":e=>o.escolhas.valor_escolha=e,label:"nCano",val:"nCano"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(v,{modelValue:o.escolhas.valor_escolha,"onUpdate:modelValue":e=>o.escolhas.valor_escolha=e,label:"descr",val:"descr"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),"tpArma"==o.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:o.escolhas.tpArma,"onUpdate:modelValue":e=>o.escolhas.tpArma=e,col:"12",meta:e.metadados.infNFe.det.lista.prod.escolhas.arma.lista.escolhas.tpArma,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"])])),_:2},1024)):(0,a.createCommentVNode)("",!0),"nSerie"==o.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(c,{key:1},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:o.escolhas.nSerie,"onUpdate:modelValue":e=>o.escolhas.nSerie=e,col:"12",meta:e.metadados.infNFe.det.lista.prod.escolhas.arma.lista.escolhas.nSerie,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"])])),_:2},1024)):(0,a.createCommentVNode)("",!0),"nCano"==o.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(c,{key:2},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:o.escolhas.nCano,"onUpdate:modelValue":e=>o.escolhas.nCano=e,col:"12",meta:e.metadados.infNFe.det.lista.prod.escolhas.arma.lista.escolhas.nCano,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"])])),_:2},1024)):(0,a.createCommentVNode)("",!0),"descr"==o.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(c,{key:3},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:o.escolhas.descr,"onUpdate:modelValue":e=>o.escolhas.descr=e,col:"12",meta:e.metadados.infNFe.det.lista.prod.escolhas.arma.lista.escolhas.descr,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"])])),_:2},1024)):(0,a.createCommentVNode)("",!0)]),e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"negative",class:"bt-negative q-my-sm",size:"xs",icon:"remove",outline:"",label:"Remover item",onClick:o=>e.removerLinhaDaLista(t.item_det.prod.escolhas.arma,i)},null,8,["onClick"])):(0,a.createCommentVNode)("",!0)])),_:2},1024)])),_:2},1024)))),128)),e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm",onClick:o[68]||(o[68]=o=>e.adicionarLinhaNaLista(t.item_det.prod.escolhas.arma,e.metadados.infNFe.det.lista.prod.escolhas.arma.lista))})):(0,a.createCommentVNode)("",!0)])),_:1})])])),_:1})):(0,a.createCommentVNode)("",!0),"comb"==t.item_det.prod.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(c,{key:3},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.comb.cProdANP,"onUpdate:modelValue":o[69]||(o[69]=e=>t.item_det.prod.escolhas.comb.cProdANP=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.comb.cProdANP,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.comb.descANP,"onUpdate:modelValue":o[70]||(o[70]=e=>t.item_det.prod.escolhas.comb.descANP=e),col:"6",meta:e.metadados.infNFe.det.lista.prod.escolhas.comb.descANP,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.comb.pGLP,"onUpdate:modelValue":[o[71]||(o[71]=e=>t.item_det.prod.escolhas.comb.pGLP=e),e.calcularTotaisSemDistribuir],col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.comb.pGLP,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.comb.pGNn,"onUpdate:modelValue":[o[72]||(o[72]=e=>t.item_det.prod.escolhas.comb.pGNn=e),e.calcularTotaisSemDistribuir],col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.escolhas.comb.pGNn,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.comb.pGNi,"onUpdate:modelValue":[o[73]||(o[73]=e=>t.item_det.prod.escolhas.comb.pGNi=e),e.calcularTotaisSemDistribuir],col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.escolhas.comb.pGNi,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.comb.vPart,"onUpdate:modelValue":o[74]||(o[74]=e=>t.item_det.prod.escolhas.comb.vPart=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.comb.vPart,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.comb.CODIF,"onUpdate:modelValue":o[75]||(o[75]=e=>t.item_det.prod.escolhas.comb.CODIF=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.escolhas.comb.CODIF},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.comb.qTemp,"onUpdate:modelValue":o[76]||(o[76]=e=>t.item_det.prod.escolhas.comb.qTemp=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.escolhas.comb.qTemp},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.comb.UFCons,"onUpdate:modelValue":o[77]||(o[77]=e=>t.item_det.prod.escolhas.comb.UFCons=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.escolhas.comb.UFCons},null,8,["modelValue","somente-leitura","meta"]),(0,a.createElementVNode)("div",Yn,[(0,a.createElementVNode)("div",Xn,[(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.comb.CIDE.visivel,"onUpdate:modelValue":o[78]||(o[78]=e=>t.item_det.prod.escolhas.comb.CIDE.visivel=e),col:"12",meta:e.metadados.infNFe.det.lista.prod.escolhas.comb.CIDE.visivel,"somente-leitura":!e.emDigitacao,tipo:"logico"},null,8,["modelValue","meta","somente-leitura"])]),t.item_det.prod.escolhas.comb.CIDE.visivel?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.comb.CIDE.qBCProd,"onUpdate:modelValue":o[79]||(o[79]=e=>t.item_det.prod.escolhas.comb.CIDE.qBCProd=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.comb.CIDE.qBCProd,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.comb.CIDE.vAliqProd,"onUpdate:modelValue":o[80]||(o[80]=e=>t.item_det.prod.escolhas.comb.CIDE.vAliqProd=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.comb.CIDE.vAliqProd,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.comb.CIDE.vCIDE,"onUpdate:modelValue":o[81]||(o[81]=e=>t.item_det.prod.escolhas.comb.CIDE.vCIDE=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.escolhas.comb.CIDE.vCIDE},null,8,["modelValue","somente-leitura","meta"])])),_:1})):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",Wn,[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.comb.encerrante.visivel,"onUpdate:modelValue":o[82]||(o[82]=e=>t.item_det.prod.escolhas.comb.encerrante.visivel=e),col:"12",meta:e.metadados.infNFe.det.lista.prod.escolhas.comb.encerrante.visivel,"somente-leitura":!e.emDigitacao,tipo:"logico"},null,8,["modelValue","meta","somente-leitura"])])),_:1}),t.item_det.prod.escolhas.comb.encerrante.visivel?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.comb.encerrante.nBico,"onUpdate:modelValue":o[83]||(o[83]=e=>t.item_det.prod.escolhas.comb.encerrante.nBico=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.comb.encerrante.nBico,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.comb.encerrante.nBomba,"onUpdate:modelValue":o[84]||(o[84]=e=>t.item_det.prod.escolhas.comb.encerrante.nBomba=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.comb.encerrante.nBomba,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.comb.encerrante.nTanque,"onUpdate:modelValue":o[85]||(o[85]=e=>t.item_det.prod.escolhas.comb.encerrante.nTanque=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.escolhas.comb.encerrante.nTanque},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.comb.encerrante.vEncIni,"onUpdate:modelValue":o[86]||(o[86]=e=>t.item_det.prod.escolhas.comb.encerrante.vEncIni=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.comb.encerrante.vEncIni,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.comb.encerrante.vEncFin,"onUpdate:modelValue":o[87]||(o[87]=e=>t.item_det.prod.escolhas.comb.encerrante.vEncFin=e),col:"3",meta:e.metadados.infNFe.det.lista.prod.escolhas.comb.encerrante.vEncFin,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])])),_:1})):(0,a.createCommentVNode)("",!0)])])),_:1})):(0,a.createCommentVNode)("",!0),"nRECOPI"==t.item_det.prod.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(c,{key:4},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.item_det.prod.escolhas.nRECOPI,"onUpdate:modelValue":o[88]||(o[88]=e=>t.item_det.prod.escolhas.nRECOPI=e),col:"12",meta:e.metadados.infNFe.det.lista.prod.escolhas.nRECOPI,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(d,{expansion:"","default-opened":"",icon:"account_balance",label:"ICMS"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Kn,["3"===e.infNFe.emit.CRT?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,modelValue:t.item_det.imposto.noXml_CST,"onUpdate:modelValue":[o[89]||(o[89]=e=>t.item_det.imposto.noXml_CST=e),e.calcularTotais],col:"12",meta:e.metadados.infNFe.det.lista.imposto.noXml_CST,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"])):((0,a.openBlock)(),(0,a.createBlock)(m,{key:1,modelValue:t.item_det.imposto.noXml_CSOSN,"onUpdate:modelValue":[o[90]||(o[90]=e=>t.item_det.imposto.noXml_CSOSN=e),e.calcularTotais],col:"12",meta:e.metadados.infNFe.det.lista.imposto.noXml_CSOSN,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]))]),"3"===e.infNFe.emit.CRT?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},["ICMS00"==t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",ec,[(0,a.createElementVNode)("div",oc,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.modBC,"onUpdate:modelValue":o[91]||(o[91]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.modBC=e),col:"12",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.modBC,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vBC,"onUpdate:modelValue":[o[92]||(o[92]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vBC=e),e.calcularTotais],col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vBC,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.pICMS,"onUpdate:modelValue":[o[93]||(o[93]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.pICMS=e),e.calcularTotaisSemDistribuir],col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.pICMS,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vICMS,"onUpdate:modelValue":o[94]||(o[94]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vICMS=e),col:"6",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vICMS,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])]),(0,a.createElementVNode)("div",tc,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.visivel,"onUpdate:modelValue":[o[95]||(o[95]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.visivel=e),e.calcularTotais],col:"12",rotulo:"FCP",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",ac,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.pFCP,"onUpdate:modelValue":[o[96]||(o[96]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.pFCP=e),e.calcularTotaisSemDistribuir],"somente-leitura":!e.emDigitacao,col:"6",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.pFCP,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.vFCP,"onUpdate:modelValue":o[97]||(o[97]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.vFCP=e),meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.vFCP,"somente-leitura":""},null,8,["modelValue","meta"])])):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0),"ICMS10"==t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",ic,[(0,a.createElementVNode)("div",rc,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBC,"onUpdate:modelValue":o[98]||(o[98]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBC=e),col:"12",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBC,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vBC,"onUpdate:modelValue":[o[99]||(o[99]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vBC=e),e.calcularTotais],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vBC,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pICMS,"onUpdate:modelValue":[o[100]||(o[100]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pICMS=e),e.calcularTotaisSemDistribuir],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pICMS,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vICMS,"onUpdate:modelValue":o[101]||(o[101]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vICMS=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vICMS,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])]),(0,a.createElementVNode)("div",lc,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBCST,"onUpdate:modelValue":o[102]||(o[102]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBCST=e),col:"12","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBCST},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pMVAST,"onUpdate:modelValue":[o[103]||(o[103]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pMVAST=e),e.calcularTotaisSemDistribuir],col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pMVAST,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pRedBCST,"onUpdate:modelValue":[o[104]||(o[104]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pRedBCST=e),e.calcularTotaisSemDistribuir],col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pRedBCST,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vBCST,"onUpdate:modelValue":o[105]||(o[105]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vBCST=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vBCST},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pICMSST,"onUpdate:modelValue":[o[106]||(o[106]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pICMSST=e),e.calcularTotaisSemDistribuir],col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pICMSST,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vICMSST,"onUpdate:modelValue":o[107]||(o[107]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vICMSST=e),col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vICMSST,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])]),(0,a.createElementVNode)("div",sc,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.visivel,"onUpdate:modelValue":[o[108]||(o[108]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.visivel=e),e.calcularTotais],col:"12",rotulo:"FCP",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",nc,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.vBCFCP,"onUpdate:modelValue":[o[109]||(o[109]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.vBCFCP=e),e.calcularTotais],meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.vBCFCP,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.pFCP,"onUpdate:modelValue":[o[110]||(o[110]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.pFCP=e),e.calcularTotaisSemDistribuir],col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.pFCP,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.vFCP,"onUpdate:modelValue":o[111]||(o[111]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.vFCP=e),col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.vFCP,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",cc,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.visivel,"onUpdate:modelValue":[o[112]||(o[112]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.visivel=e),e.calcularTotais],col:"12",rotulo:"FCP ST",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",dc,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.vBCFCPST,"onUpdate:modelValue":[o[113]||(o[113]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.vBCFCPST=e),e.calcularTotais],col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.vBCFCPST,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.pFCPST,"onUpdate:modelValue":[o[114]||(o[114]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.pFCPST=e),e.calcularTotaisSemDistribuir],col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.pFCPST,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.vFCPST,"onUpdate:modelValue":o[115]||(o[115]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.vFCPST=e),col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.vFCPST,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",mc,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional3.visivel,"onUpdate:modelValue":[o[116]||(o[116]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional3.visivel=e),e.calcularTotais],col:"12",rotulo:"FCP desoneração",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional3.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",uc,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional3.vICMSSTDeson,"onUpdate:modelValue":o[117]||(o[117]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional3.vICMSSTDeson=e),col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional3.vICMSSTDeson,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional3.motDesICMSST,"onUpdate:modelValue":o[118]||(o[118]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional3.motDesICMSST=e),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional3.motDesICMSST},null,8,["modelValue","somente-leitura","meta"])])):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0),"ICMS20"==t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",pc,[(0,a.createElementVNode)("div",hc,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.modBC,"onUpdate:modelValue":o[119]||(o[119]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.modBC=e),col:"12",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.modBC,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.pRedBC,"onUpdate:modelValue":[o[120]||(o[120]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.pRedBC=e),e.calcularTotaisSemDistribuir],col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.pRedBC,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.vBC,"onUpdate:modelValue":[o[121]||(o[121]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.vBC=e),e.calcularTotais],col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.vBC,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.pICMS,"onUpdate:modelValue":[o[122]||(o[122]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.pICMS=e),e.calcularTotaisSemDistribuir],col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.pICMS,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.vICMS,"onUpdate:modelValue":o[123]||(o[123]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.vICMS=e),col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.vICMS,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])]),(0,a.createElementVNode)("div",Cc,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.visivel,"onUpdate:modelValue":[o[124]||(o[124]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.visivel=e),e.calcularTotais],col:"12",rotulo:"FCP",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",vc,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.vBCFCP,"onUpdate:modelValue":[o[125]||(o[125]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.vBCFCP=e),e.calcularTotais],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.vBCFCP,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.pFCP,"onUpdate:modelValue":[o[126]||(o[126]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.pFCP=e),e.calcularTotaisSemDistribuir],col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.pFCP,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.vFCP,"onUpdate:modelValue":o[127]||(o[127]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.vFCP=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.vFCP,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",fc,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.visivel,"onUpdate:modelValue":[o[128]||(o[128]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.visivel=e),e.calcularTotais],col:"12",rotulo:"Desoneração",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Nc,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.vICMSDeson,"onUpdate:modelValue":o[129]||(o[129]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.vICMSDeson=e),"somente-leitura":!e.emDigitacao,col:"6",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.vICMSDeson},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.motDesICMS,"onUpdate:modelValue":o[130]||(o[130]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.motDesICMS=e),"somente-leitura":!e.emDigitacao,col:"6",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.motDesICMS},null,8,["modelValue","somente-leitura","meta"])])):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0),"ICMS30"==t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Vc,[(0,a.createElementVNode)("div",gc,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.modBCST,"onUpdate:modelValue":o[131]||(o[131]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.modBCST=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.modBCST,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pMVAST,"onUpdate:modelValue":[o[132]||(o[132]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pMVAST=e),e.calcularTotaisSemDistribuir],col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pMVAST,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pRedBCST,"onUpdate:modelValue":[o[133]||(o[133]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pRedBCST=e),e.calcularTotaisSemDistribuir],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pRedBCST,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.vBCST,"onUpdate:modelValue":[o[134]||(o[134]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.vBCST=e),e.calcularTotais],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.vBCST,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pICMSST,"onUpdate:modelValue":[o[135]||(o[135]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pICMSST=e),e.calcularTotaisSemDistribuir],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pICMSST,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.vICMSST,"onUpdate:modelValue":o[136]||(o[136]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.vICMSST=e),col:"4","somente-leitura":e.alteraTotais,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.vICMSST},null,8,["modelValue","somente-leitura","meta"])]),(0,a.createElementVNode)("div",xc,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.visivel,"onUpdate:modelValue":[o[137]||(o[137]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.visivel=e),e.calcularTotais],col:"12",rotulo:"FCP ST",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",bc,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.vBCFCPST,"onUpdate:modelValue":[o[138]||(o[138]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.vBCFCPST=e),e.calcularTotais],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.vBCFCPST,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.pFCPST,"onUpdate:modelValue":[o[139]||(o[139]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.pFCPST=e),e.calcularTotaisSemDistribuir],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.pFCPST,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.vFCPST,"onUpdate:modelValue":o[140]||(o[140]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.vFCPST=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.vFCPST,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",wc,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.visivel,"onUpdate:modelValue":[o[141]||(o[141]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.visivel=e),e.calcularTotais],col:"12",rotulo:"Desoneração",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",_c,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.vICMSDeson,"onUpdate:modelValue":o[142]||(o[142]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.vICMSDeson=e),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.vICMSDeson},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.motDesICMS,"onUpdate:modelValue":o[143]||(o[143]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.motDesICMS=e),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.motDesICMS},null,8,["modelValue","somente-leitura","meta"])])):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0),"ICMS40"==t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",yc,[(0,a.createElementVNode)("div",Ic,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.visivel,"onUpdate:modelValue":[o[144]||(o[144]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.visivel=e),e.calcularTotais],col:"12",rotulo:"Desoneração",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ec,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.vICMSDeson,"onUpdate:modelValue":o[145]||(o[145]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.vICMSDeson=e),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.vICMSDeson},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.motDesICMS,"onUpdate:modelValue":o[146]||(o[146]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.motDesICMS=e),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.motDesICMS},null,8,["modelValue","somente-leitura","meta"])])):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0),"ICMS51"==t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Sc,[(0,a.createElementVNode)("div",Mc,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.modBC,"onUpdate:modelValue":o[147]||(o[147]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.modBC=e),col:"12","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.modBC},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pRedBC,"onUpdate:modelValue":[o[148]||(o[148]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pRedBC=e),e.calcularTotaisSemDistribuir],col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pRedBC,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vBC,"onUpdate:modelValue":[o[149]||(o[149]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vBC=e),e.calcularTotais],col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vBC,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pICMS,"onUpdate:modelValue":[o[150]||(o[150]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pICMS=e),e.calcularTotaisSemDistribuir],col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pICMS,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMSOp,"onUpdate:modelValue":o[151]||(o[151]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMSOp=e),col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMSOp,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pDif,"onUpdate:modelValue":[o[152]||(o[152]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pDif=e),e.calcularTotaisSemDistribuir],col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pDif,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMSDif,"onUpdate:modelValue":o[153]||(o[153]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMSDif=e),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMSDif},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMS,"onUpdate:modelValue":o[154]||(o[154]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMS=e),col:"6","somente-leitura":e.alteraTotais,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMS},null,8,["modelValue","somente-leitura","meta"])]),(0,a.createElementVNode)("div",Tc,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.visivel,"onUpdate:modelValue":[o[155]||(o[155]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.visivel=e),e.calcularTotais],col:"12",rotulo:"FCP",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",kc,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.vBCFCP,"onUpdate:modelValue":[o[156]||(o[156]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.vBCFCP=e),e.calcularTotais],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.vBCFCP,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.pFCP,"onUpdate:modelValue":[o[157]||(o[157]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.pFCP=e),e.calcularTotaisSemDistribuir],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.pFCP,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.vFCP,"onUpdate:modelValue":o[158]||(o[158]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.vFCP=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.vFCP,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])])):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0),"ICMS60"==t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Dc,[(0,a.createElementVNode)("div",qc,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.visivel,"onUpdate:modelValue":[o[159]||(o[159]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.visivel=e),e.calcularTotais],col:"12",rotulo:"ICMS ST Ret",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Fc,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vBCSTRet,"onUpdate:modelValue":o[160]||(o[160]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vBCSTRet=e),col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vBCSTRet,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.pST,"onUpdate:modelValue":[o[161]||(o[161]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.pST=e),e.calcularTotaisSemDistribuir],col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.pST,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vICMSSubstituto,"onUpdate:modelValue":o[162]||(o[162]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vICMSSubstituto=e),col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vICMSSubstituto,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vICMSSTRet,"onUpdate:modelValue":o[163]||(o[163]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vICMSSTRet=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vICMSSTRet},null,8,["modelValue","somente-leitura","meta"])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",Pc,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.visivel,"onUpdate:modelValue":[o[164]||(o[164]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.visivel=e),e.calcularTotais],col:"12",rotulo:"FCP ST Ret",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ac,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.vBCFCPSTRet,"onUpdate:modelValue":o[165]||(o[165]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.vBCFCPSTRet=e),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.vBCFCPSTRet},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.pFCPSTRet,"onUpdate:modelValue":[o[166]||(o[166]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.pFCPSTRet=e),e.calcularTotaisSemDistribuir],col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.pFCPSTRet,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.vFCPSTRet,"onUpdate:modelValue":o[167]||(o[167]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.vFCPSTRet=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.vFCPSTRet,"somente-leitura":""},null,8,["modelValue","meta"])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",Bc,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.visivel,"onUpdate:modelValue":[o[168]||(o[168]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.visivel=e),e.calcularTotais],col:"12",rotulo:"ICMS Efetivo",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Lc,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.pRedBCEfet,"onUpdate:modelValue":[o[169]||(o[169]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.pRedBCEfet=e),e.calcularTotaisSemDistribuir],col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.pRedBCEfet,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.vBCEfet,"onUpdate:modelValue":o[170]||(o[170]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.vBCEfet=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.vBCEfet},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.pICMSEfet,"onUpdate:modelValue":[o[171]||(o[171]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.pICMSEfet=e),e.calcularTotaisSemDistribuir],col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.pICMSEfet,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.vICMSEfet,"onUpdate:modelValue":o[172]||(o[172]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.vICMSEfet=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.vICMSEfet},null,8,["modelValue","somente-leitura","meta"])])):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0),"ICMS70"==t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Oc,[(0,a.createElementVNode)("div",zc,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBC,"onUpdate:modelValue":o[173]||(o[173]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBC=e),col:"12",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBC,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pRedBC,"onUpdate:modelValue":[o[174]||(o[174]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pRedBC=e),e.calcularTotaisSemDistribuir],col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pRedBC,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vBC,"onUpdate:modelValue":[o[175]||(o[175]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vBC=e),e.calcularTotais],col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vBC,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pICMS,"onUpdate:modelValue":[o[176]||(o[176]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pICMS=e),e.calcularTotaisSemDistribuir],col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pICMS,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vICMS,"onUpdate:modelValue":o[177]||(o[177]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vICMS=e),col:"3","somente-leitura":e.alteraTotais,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vICMS},null,8,["modelValue","somente-leitura","meta"])]),(0,a.createElementVNode)("div",jc,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBCST,"onUpdate:modelValue":o[178]||(o[178]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBCST=e),col:"12",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBCST,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pMVAST,"onUpdate:modelValue":[o[179]||(o[179]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pMVAST=e),e.calcularTotaisSemDistribuir],col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pMVAST,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pRedBCST,"onUpdate:modelValue":[o[180]||(o[180]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pRedBCST=e),e.calcularTotaisSemDistribuir],col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pRedBCST,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vBCST,"onUpdate:modelValue":[o[181]||(o[181]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vBCST=e),e.calcularTotais],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vBCST,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pICMSST,"onUpdate:modelValue":[o[182]||(o[182]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pICMSST=e),e.calcularTotaisSemDistribuir],col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pICMSST,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vICMSST,"onUpdate:modelValue":o[183]||(o[183]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vICMSST=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vICMSST,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])]),(0,a.createElementVNode)("div",$c,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.visivel,"onUpdate:modelValue":[o[184]||(o[184]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.visivel=e),e.calcularTotais],col:"12",rotulo:"FCP",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Uc,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.vBCFCP,"onUpdate:modelValue":[o[185]||(o[185]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.vBCFCP=e),e.calcularTotais],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.vBCFCP,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.pFCP,"onUpdate:modelValue":[o[186]||(o[186]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.pFCP=e),e.calcularTotaisSemDistribuir],col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.pFCP,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.vFCP,"onUpdate:modelValue":o[187]||(o[187]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.vFCP=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.vFCP,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",Zc,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.visivel,"onUpdate:modelValue":[o[188]||(o[188]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.visivel=e),e.calcularTotais],col:"12",rotulo:"FCP ST",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Qc,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.vBCFCPST,"onUpdate:modelValue":[o[189]||(o[189]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.vBCFCPST=e),e.calcularTotais],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.vBCFCPST,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.pFCPST,"onUpdate:modelValue":[o[190]||(o[190]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.pFCPST=e),e.calcularTotaisSemDistribuir],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.pFCPST,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.vFCPST,"onUpdate:modelValue":o[191]||(o[191]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.vFCPST=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.vFCPST,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",Rc,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.visivel,"onUpdate:modelValue":[o[192]||(o[192]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.visivel=e),e.calcularTotais],col:"12",rotulo:"Desoneração",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Gc,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.vICMSDeson,"onUpdate:modelValue":o[193]||(o[193]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.vICMSDeson=e),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.vICMSDeson},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.motDesICMS,"onUpdate:modelValue":o[194]||(o[194]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.motDesICMS=e),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.motDesICMS},null,8,["modelValue","somente-leitura","meta"])])):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0),"ICMS90"==t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Hc,[(0,a.createElementVNode)("div",Jc,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.visivel,"onUpdate:modelValue":[o[195]||(o[195]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.visivel=e),e.calcularTotais],col:"12",rotulo:"ICMS",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Yc,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.modBC,"onUpdate:modelValue":o[196]||(o[196]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.modBC=e),col:"12","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.modBC},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.vBC,"onUpdate:modelValue":[o[197]||(o[197]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.vBC=e),e.calcularTotais],col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.vBC,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.pRedBC,"onUpdate:modelValue":[o[198]||(o[198]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.pRedBC=e),e.calcularTotaisSemDistribuir],col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.pRedBC,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.pICMS,"onUpdate:modelValue":[o[199]||(o[199]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.pICMS=e),e.calcularTotaisSemDistribuir],col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.pICMS,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.vICMS,"onUpdate:modelValue":o[200]||(o[200]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.vICMS=e),col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.vICMS,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",Xc,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.visivel,"onUpdate:modelValue":[o[201]||(o[201]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.visivel=e),e.calcularTotais],col:"12",rotulo:"FCP",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Wc,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.vBCFCP,"onUpdate:modelValue":[o[202]||(o[202]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.vBCFCP=e),e.calcularTotais],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.vBCFCP,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.pFCP,"onUpdate:modelValue":[o[203]||(o[203]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.pFCP=e),e.calcularTotaisSemDistribuir],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.pFCP,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.vFCP,"onUpdate:modelValue":o[204]||(o[204]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.vFCP=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.vFCP,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])])):(0,a.createCommentVNode)("",!0)])]),(0,a.createElementVNode)("div",Kc,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.visivel,"onUpdate:modelValue":[o[205]||(o[205]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.visivel=e),e.calcularTotais],col:"12",rotulo:"ICMS ST",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",ed,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.modBCST,"onUpdate:modelValue":o[206]||(o[206]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.modBCST=e),col:"12",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.modBCST,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pMVAST,"onUpdate:modelValue":[o[207]||(o[207]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pMVAST=e),e.calcularTotaisSemDistribuir],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pMVAST,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pRedBCST,"onUpdate:modelValue":[o[208]||(o[208]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pRedBCST=e),e.calcularTotaisSemDistribuir],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pRedBCST,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.vBCST,"onUpdate:modelValue":[o[209]||(o[209]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.vBCST=e),e.calcularTotais],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.vBCST,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pICMSST,"onUpdate:modelValue":[o[210]||(o[210]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pICMSST=e),e.calcularTotaisSemDistribuir],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pICMSST,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.vICMSST,"onUpdate:modelValue":o[211]||(o[211]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.vICMSST=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.vICMSST,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",od,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.visivel,"onUpdate:modelValue":[o[212]||(o[212]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.visivel=e),e.calcularTotais],col:"12",rotulo:"FCP ST",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",td,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.vBCFCPST,"onUpdate:modelValue":[o[213]||(o[213]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.vBCFCPST=e),e.calcularTotais],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.vBCFCPST,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.pFCPST,"onUpdate:modelValue":[o[214]||(o[214]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.pFCPST=e),e.calcularTotaisSemDistribuir],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.pFCPST,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.vFCPST,"onUpdate:modelValue":o[215]||(o[215]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.vFCPST=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.vFCPST,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])])):(0,a.createCommentVNode)("",!0)])]),(0,a.createElementVNode)("div",ad,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.visivel,"onUpdate:modelValue":[o[216]||(o[216]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.visivel=e),e.calcularTotais],col:"12",rotulo:"Desoneração",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",id,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.vICMSDeson,"onUpdate:modelValue":o[217]||(o[217]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.vICMSDeson=e),col:"6",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.vICMSDeson,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.motDesICMS,"onUpdate:modelValue":o[218]||(o[218]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.motDesICMS=e),col:"6",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.motDesICMS,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])])):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0)],64)):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},["ICMSSN101"==t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",rd,[(0,a.createElementVNode)("div",ld,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN101.pCredSN,"onUpdate:modelValue":[o[219]||(o[219]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN101.pCredSN=e),e.calcularTotaisSemDistribuir],col:"6",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN101.pCredSN,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN101.vCredICMSSN,"onUpdate:modelValue":o[220]||(o[220]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN101.vCredICMSSN=e),col:"6",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN101.vCredICMSSN,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])])])):(0,a.createCommentVNode)("",!0),"ICMSSN102"==t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",sd)):(0,a.createCommentVNode)("",!0),"ICMSSN201"==t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",nd,[(0,a.createElementVNode)("div",cd,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.noXml_vBC,"onUpdate:modelValue":[o[221]||(o[221]=e=>t.item_det.imposto.noXml_vBC=e),e.calcularTotais],col:"4","somente-leitura":e.alteraBC,meta:e.metadados.infNFe.det.lista.imposto.noXml_vBC},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.noXml_pICMS,"onUpdate:modelValue":[o[222]||(o[222]=e=>t.item_det.imposto.noXml_pICMS=e),e.calcularTotaisSemDistribuir],col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.noXml_pICMS,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.noXml_vICMS,"onUpdate:modelValue":o[223]||(o[223]=e=>t.item_det.imposto.noXml_vICMS=e),col:"4","somente-leitura":e.alteraTotais,meta:e.metadados.infNFe.det.lista.imposto.noXml_vICMS},null,8,["modelValue","somente-leitura","meta"])]),(0,a.createElementVNode)("div",dd,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.modBCST,"onUpdate:modelValue":o[224]||(o[224]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.modBCST=e),col:"12",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.modBCST,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pMVAST,"onUpdate:modelValue":[o[225]||(o[225]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pMVAST=e),e.calcularTotaisSemDistribuir],col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pMVAST,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pRedBCST,"onUpdate:modelValue":[o[226]||(o[226]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pRedBCST=e),e.calcularTotaisSemDistribuir],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pRedBCST,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",md,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vBCST,"onUpdate:modelValue":[o[227]||(o[227]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vBCST=e),e.calcularTotais],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vBCST,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pICMSST,"onUpdate:modelValue":[o[228]||(o[228]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pICMSST=e),e.calcularTotaisSemDistribuir],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pICMSST,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vICMSST,"onUpdate:modelValue":o[229]||(o[229]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vICMSST=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vICMSST,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])]),(0,a.createElementVNode)("div",ud,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pCredSN,"onUpdate:modelValue":[o[230]||(o[230]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pCredSN=e),e.calcularTotaisSemDistribuir],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pCredSN,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vCredICMSSN,"onUpdate:modelValue":o[231]||(o[231]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vCredICMSSN=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vCredICMSSN,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])]),(0,a.createElementVNode)("div",pd,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.noXml_vBCFCP,"onUpdate:modelValue":[o[232]||(o[232]=e=>t.item_det.imposto.noXml_vBCFCP=e),e.calcularTotais],col:"4",meta:e.metadados.infNFe.det.lista.imposto.noXml_vBCFCP,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.noXml_pFCP,"onUpdate:modelValue":[o[233]||(o[233]=e=>t.item_det.imposto.noXml_pFCP=e),e.calcularTotaisSemDistribuir],col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.noXml_pFCP,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.noXml_vFCP,"onUpdate:modelValue":o[234]||(o[234]=e=>t.item_det.imposto.noXml_vFCP=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.noXml_vFCP,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])]),(0,a.createElementVNode)("div",hd,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.visivel,"onUpdate:modelValue":[o[235]||(o[235]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.visivel=e),e.calcularTotais],col:"12",rotulo:"FCP ST",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Cd,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.vBCFCPST,"onUpdate:modelValue":[o[236]||(o[236]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.vBCFCPST=e),e.calcularTotais],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.vBCFCPST,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.pFCPST,"onUpdate:modelValue":[o[237]||(o[237]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.pFCPST=e),e.calcularTotaisSemDistribuir],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.pFCPST,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.vFCPST,"onUpdate:modelValue":o[238]||(o[238]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.vFCPST=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.vFCPST,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])])):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0),"ICMSSN202"==t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",vd,[(0,a.createElementVNode)("div",fd,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.noXml_vBC,"onUpdate:modelValue":[o[239]||(o[239]=e=>t.item_det.imposto.noXml_vBC=e),e.calcularTotais],col:"4","somente-leitura":e.alteraBC,meta:e.metadados.infNFe.det.lista.imposto.noXml_vBC},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.noXml_pICMS,"onUpdate:modelValue":[o[240]||(o[240]=e=>t.item_det.imposto.noXml_pICMS=e),o[241]||(o[241]=o=>e.calcularTotaisSemDistribuir())],col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.noXml_pICMS,suffix:"%"},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.noXml_vICMS,"onUpdate:modelValue":o[242]||(o[242]=e=>t.item_det.imposto.noXml_vICMS=e),col:"4","somente-leitura":e.alteraTotais,meta:e.metadados.infNFe.det.lista.imposto.noXml_vICMS},null,8,["modelValue","somente-leitura","meta"])]),(0,a.createElementVNode)("div",Nd,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.modBCST,"onUpdate:modelValue":o[243]||(o[243]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.modBCST=e),col:"12",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.modBCST,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pMVAST,"onUpdate:modelValue":[o[244]||(o[244]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pMVAST=e),e.calcularTotaisSemDistribuir],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pMVAST,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pRedBCST,"onUpdate:modelValue":[o[245]||(o[245]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pRedBCST=e),e.calcularTotaisSemDistribuir],col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pRedBCST,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",Vd,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.vBCST,"onUpdate:modelValue":[o[246]||(o[246]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.vBCST=e),e.calcularTotais],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.vBCST,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pICMSST,"onUpdate:modelValue":[o[247]||(o[247]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pICMSST=e),e.calcularTotaisSemDistribuir],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pICMSST,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.vICMSST,"onUpdate:modelValue":o[248]||(o[248]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.vICMSST=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.vICMSST,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])]),(0,a.createElementVNode)("div",gd,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.noXml_vBCFCP,"onUpdate:modelValue":[o[249]||(o[249]=e=>t.item_det.imposto.noXml_vBCFCP=e),e.calcularTotais],col:"4",meta:e.metadados.infNFe.det.lista.imposto.noXml_vBCFCP,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.noXml_pFCP,"onUpdate:modelValue":[o[250]||(o[250]=e=>t.item_det.imposto.noXml_pFCP=e),o[251]||(o[251]=o=>e.calcularTotaisSemDistribuir())],col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.noXml_pFCP,suffix:"%"},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.noXml_vFCP,"onUpdate:modelValue":o[252]||(o[252]=e=>t.item_det.imposto.noXml_vFCP=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.noXml_vFCP,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])]),(0,a.createElementVNode)("div",xd,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.visivel,"onUpdate:modelValue":[o[253]||(o[253]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.visivel=e),e.calcularTotais],col:"12",rotulo:"FCP ST",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",bd,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.vBCFCPST,"onUpdate:modelValue":[o[254]||(o[254]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.vBCFCPST=e),e.calcularTotais],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.vBCFCPST,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.pFCPST,"onUpdate:modelValue":[o[255]||(o[255]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.pFCPST=e),e.calcularTotaisSemDistribuir],col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.pFCPST,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.vFCPST,"onUpdate:modelValue":o[256]||(o[256]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.vFCPST=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.vFCPST,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])])):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0),"ICMSSN500"==t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",wd,[(0,a.createElementVNode)("div",_d,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.visivel,"onUpdate:modelValue":[o[257]||(o[257]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.visivel=e),e.calcularTotais],col:"12",rotulo:"ICMS ST Ret",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",yd,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vBCSTRet,"onUpdate:modelValue":[o[258]||(o[258]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vBCSTRet=e),e.calcularTotais],col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vBCSTRet,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.pST,"onUpdate:modelValue":[o[259]||(o[259]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.pST=e),e.calcularTotaisSemDistribuir],col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.pST,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vICMSSubstituto,"onUpdate:modelValue":o[260]||(o[260]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vICMSSubstituto=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vICMSSubstituto},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vICMSSTRet,"onUpdate:modelValue":o[261]||(o[261]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vICMSSTRet=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vICMSSTRet},null,8,["modelValue","somente-leitura","meta"])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",Id,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.visivel,"onUpdate:modelValue":[o[262]||(o[262]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.visivel=e),e.calcularTotais],col:"12",rotulo:"FCP ST Ret",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ed,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.vBCFCPSTRet,"onUpdate:modelValue":[o[263]||(o[263]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.vBCFCPSTRet=e),e.calcularTotais],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.vBCFCPSTRet,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.pFCPSTRet,"onUpdate:modelValue":[o[264]||(o[264]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.pFCPSTRet=e),e.calcularTotaisSemDistribuir],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.pFCPSTRet,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.vFCPSTRet,"onUpdate:modelValue":o[265]||(o[265]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.vFCPSTRet=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.vFCPSTRet,"somente-leitura":""},null,8,["modelValue","meta"])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",Sd,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.visivel,"onUpdate:modelValue":[o[266]||(o[266]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.visivel=e),e.calcularTotais],col:"12",rotulo:"ICMS Efetivo",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Md,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.pRedBCEfet,"onUpdate:modelValue":[o[267]||(o[267]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.pRedBCEfet=e),e.calcularTotaisSemDistribuir],col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.pRedBCEfet,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.vBCEfet,"onUpdate:modelValue":o[268]||(o[268]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.vBCEfet=e),col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.vBCEfet,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.pICMSEfet,"onUpdate:modelValue":[o[269]||(o[269]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.pICMSEfet=e),e.calcularTotaisSemDistribuir],col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.pICMSEfet,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.vICMSEfet,"onUpdate:modelValue":o[270]||(o[270]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.vICMSEfet=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.vICMSEfet},null,8,["modelValue","somente-leitura","meta"])])):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0),"ICMSSN900"==t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Td,[(0,a.createElementVNode)("div",kd,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.visivel,"onUpdate:modelValue":[o[271]||(o[271]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.visivel=e),e.calcularTotais],col:"12",rotulo:"ICMS",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Dd,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.modBC,"onUpdate:modelValue":o[272]||(o[272]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.modBC=e),col:"12",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.modBC,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.vBC,"onUpdate:modelValue":[o[273]||(o[273]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.vBC=e),e.calcularTotais],col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.vBC,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.pRedBC,"onUpdate:modelValue":[o[274]||(o[274]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.pRedBC=e),e.calcularTotaisSemDistribuir],col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.pRedBC,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.pICMS,"onUpdate:modelValue":[o[275]||(o[275]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.pICMS=e),e.calcularTotaisSemDistribuir],col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.pICMS,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.vICMS,"onUpdate:modelValue":o[276]||(o[276]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.vICMS=e),col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.vICMS,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",qd,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.visivel,"onUpdate:modelValue":[o[277]||(o[277]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.visivel=e),e.calcularTotais],col:"12",rotulo:"ICMS ST",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Fd,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.modBCST,"onUpdate:modelValue":o[278]||(o[278]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.modBCST=e),col:"12",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.modBCST,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pMVAST,"onUpdate:modelValue":[o[279]||(o[279]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pMVAST=e),e.calcularTotaisSemDistribuir],col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pMVAST,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pRedBCST,"onUpdate:modelValue":[o[280]||(o[280]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pRedBCST=e),e.calcularTotaisSemDistribuir],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pRedBCST,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.vBCST,"onUpdate:modelValue":[o[281]||(o[281]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.vBCST=e),e.calcularTotais],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.vBCST,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pICMSST,"onUpdate:modelValue":[o[282]||(o[282]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pICMSST=e),e.calcularTotaisSemDistribuir],col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pICMSST,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.vICMSST,"onUpdate:modelValue":o[283]||(o[283]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.vICMSST=e),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.vICMSST},null,8,["modelValue","somente-leitura","meta"])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",Pd,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.visivel,"onUpdate:modelValue":[o[284]||(o[284]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.visivel=e),e.calcularTotais],col:"12",rotulo:"FCP ST",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ad,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.vBCFCPST,"onUpdate:modelValue":[o[285]||(o[285]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.vBCFCPST=e),e.calcularTotais],col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.vBCFCPST,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.pFCPST,"onUpdate:modelValue":[o[286]||(o[286]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.pFCPST=e),e.calcularTotaisSemDistribuir],col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.pFCPST,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.vFCPST,"onUpdate:modelValue":o[287]||(o[287]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.vFCPST=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.vFCPST,"somente-leitura":""},null,8,["modelValue","meta"])])):(0,a.createCommentVNode)("",!0)])]),(0,a.createElementVNode)("div",Bd,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.visivel,"onUpdate:modelValue":[o[288]||(o[288]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.visivel=e),e.calcularTotais],col:"12",rotulo:"Crédito ICMS",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"]),t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ld,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.pCredSN,"onUpdate:modelValue":[o[289]||(o[289]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.pCredSN=e),e.calcularTotaisSemDistribuir],col:"6",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.pCredSN,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.vCredICMSSN,"onUpdate:modelValue":o[290]||(o[290]=e=>t.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.vCredICMSSN=e),col:"6",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.vCredICMSSN,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])])):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0)],64))])),_:1}),(0,a.createVNode)(d,{expansion:"","default-opened":"",icon:"account_balance",label:"PIS"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Od,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.noXml_CSTPis,"onUpdate:modelValue":[o[291]||(o[291]=e=>t.item_det.imposto.noXml_CSTPis=e),e.calcularTotais],col:"12",meta:e.metadados.infNFe.det.lista.imposto.noXml_CSTPis,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createElementVNode)("div",zd,["PISAliq"==t.item_det.imposto.PIS.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",jd,[(0,a.createElementVNode)("div",$d,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.PIS.escolhas.PISAliq.vBC,"onUpdate:modelValue":[o[292]||(o[292]=e=>t.item_det.imposto.PIS.escolhas.PISAliq.vBC=e),e.calcularTotais],col:"4",meta:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISAliq.vBC,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.PIS.escolhas.PISAliq.pPIS,"onUpdate:modelValue":[o[293]||(o[293]=e=>t.item_det.imposto.PIS.escolhas.PISAliq.pPIS=e),e.calcularTotaisSemDistribuir],col:"4",meta:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISAliq.pPIS,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.PIS.escolhas.PISAliq.vPIS,"onUpdate:modelValue":o[294]||(o[294]=e=>t.item_det.imposto.PIS.escolhas.PISAliq.vPIS=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISAliq.vPIS,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])])])):(0,a.createCommentVNode)("",!0),"PISQtde"==t.item_det.imposto.PIS.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ud,[(0,a.createElementVNode)("div",Zd,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.PIS.escolhas.PISQtde.qBCProd,"onUpdate:modelValue":o[295]||(o[295]=e=>t.item_det.imposto.PIS.escolhas.PISQtde.qBCProd=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISQtde.qBCProd,"somente-leitura":""},null,8,["modelValue","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.PIS.escolhas.PISQtde.vAliqProd,"onUpdate:modelValue":[o[296]||(o[296]=e=>t.item_det.imposto.PIS.escolhas.PISQtde.vAliqProd=e),e.calcularTotaisSemDistribuir],col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISQtde.vAliqProd},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.PIS.escolhas.PISQtde.vPIS,"onUpdate:modelValue":o[297]||(o[297]=e=>t.item_det.imposto.PIS.escolhas.PISQtde.vPIS=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISQtde.vPIS,"somente-leitura":""},null,8,["modelValue","meta"])])])):(0,a.createCommentVNode)("",!0),"PISOutr"==t.item_det.imposto.PIS.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Qd,[(0,a.createElementVNode)("div",Rd,[(0,a.createElementVNode)("div",Gd,[(0,a.createVNode)(v,{modelValue:t.item_det.imposto.PIS.escolhas.PISOutr.escolhas.valor_escolha,"onUpdate:modelValue":o[298]||(o[298]=e=>t.item_det.imposto.PIS.escolhas.PISOutr.escolhas.valor_escolha=e),label:"Calculo por valor da operção",val:"opcao1"},null,8,["modelValue"]),(0,a.createVNode)(v,{modelValue:t.item_det.imposto.PIS.escolhas.PISOutr.escolhas.valor_escolha,"onUpdate:modelValue":o[299]||(o[299]=e=>t.item_det.imposto.PIS.escolhas.PISOutr.escolhas.valor_escolha=e),label:"Calculo por quantidade vendida",val:"opcao2"},null,8,["modelValue"])]),"opcao1"==t.item_det.imposto.PIS.escolhas.PISOutr.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Hd,[(0,a.createElementVNode)("div",Jd,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao1.vBC,"onUpdate:modelValue":[o[300]||(o[300]=e=>t.item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao1.vBC=e),e.calcularTotais],col:"6",meta:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISOutr.escolhas.opcao1.vBC,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao1.pPIS,"onUpdate:modelValue":[o[301]||(o[301]=e=>t.item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao1.pPIS=e),e.calcularTotaisSemDistribuir],col:"6",meta:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISOutr.escolhas.opcao1.pPIS,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"])])])):(0,a.createCommentVNode)("",!0),"opcao2"==t.item_det.imposto.PIS.escolhas.PISOutr.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Yd,[(0,a.createElementVNode)("div",Xd,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao2.qBCProd,"onUpdate:modelValue":o[302]||(o[302]=e=>t.item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao2.qBCProd=e),col:"6",meta:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISOutr.escolhas.opcao2.qBCProd,"somente-leitura":""},null,8,["modelValue","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao2.vAliqProd,"onUpdate:modelValue":[o[303]||(o[303]=e=>t.item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao2.vAliqProd=e),e.calcularTotaisSemDistribuir],col:"6",meta:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISOutr.escolhas.opcao2.vAliqProd,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"])])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",Wd,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.PIS.escolhas.PISOutr.vPIS,"onUpdate:modelValue":o[304]||(o[304]=e=>t.item_det.imposto.PIS.escolhas.PISOutr.vPIS=e),col:"12",meta:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISOutr.vPIS,"somente-leitura":""},null,8,["modelValue","meta"])])])):(0,a.createCommentVNode)("",!0)]),e.outrosNFe.visaoCompletaProduto?((0,a.openBlock)(),(0,a.createElementBlock)("div",Kd,[(0,a.createElementVNode)("div",em,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.PISST.visivel,"onUpdate:modelValue":[o[305]||(o[305]=e=>t.item_det.imposto.PISST.visivel=e),e.calcularTotais],col:"12",rotulo:"PIS Substituição Tributária",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"])]),t.item_det.imposto.PISST.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",om,[(0,a.createElementVNode)("div",tm,[(0,a.createElementVNode)("div",am,[(0,a.createVNode)(v,{modelValue:t.item_det.imposto.PISST.escolhas.valor_escolha,"onUpdate:modelValue":o[306]||(o[306]=e=>t.item_det.imposto.PISST.escolhas.valor_escolha=e),label:"opcao1",val:"opcao1"},null,8,["modelValue"]),(0,a.createVNode)(v,{modelValue:t.item_det.imposto.PISST.escolhas.valor_escolha,"onUpdate:modelValue":o[307]||(o[307]=e=>t.item_det.imposto.PISST.escolhas.valor_escolha=e),label:"opcao2",val:"opcao2"},null,8,["modelValue"])]),"opcao1"==t.item_det.imposto.PISST.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",im,[(0,a.createElementVNode)("div",rm,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.PISST.escolhas.opcao1.vBC,"onUpdate:modelValue":[o[308]||(o[308]=e=>t.item_det.imposto.PISST.escolhas.opcao1.vBC=e),e.calcularTotais],col:"6",meta:e.metadados.infNFe.det.lista.imposto.PISST.escolhas.opcao1.vBC,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.PISST.escolhas.opcao1.pPIS,"onUpdate:modelValue":[o[309]||(o[309]=e=>t.item_det.imposto.PISST.escolhas.opcao1.pPIS=e),e.calcularTotaisSemDistribuir],col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.PISST.escolhas.opcao1.pPIS,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"])])])):(0,a.createCommentVNode)("",!0),"opcao2"==t.item_det.imposto.PISST.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",lm,[(0,a.createElementVNode)("div",sm,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.PISST.escolhas.opcao2.qBCProd,"onUpdate:modelValue":o[310]||(o[310]=e=>t.item_det.imposto.PISST.escolhas.opcao2.qBCProd=e),col:"6",meta:e.metadados.infNFe.det.lista.imposto.PISST.escolhas.opcao2.qBCProd,"somente-leitura":""},null,8,["modelValue","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.PISST.escolhas.opcao2.vAliqProd,"onUpdate:modelValue":[o[311]||(o[311]=e=>t.item_det.imposto.PISST.escolhas.opcao2.vAliqProd=e),e.calcularTotaisSemDistribuir],col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.PISST.escolhas.opcao2.vAliqProd},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"])])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",nm,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.PISST.vPIS,"onUpdate:modelValue":o[312]||(o[312]=e=>t.item_det.imposto.PISST.vPIS=e),col:"12",meta:e.metadados.infNFe.det.lista.imposto.PISST.vPIS,"somente-leitura":""},null,8,["modelValue","meta"])])])):(0,a.createCommentVNode)("",!0)])):(0,a.createCommentVNode)("",!0)])])),_:1}),(0,a.createVNode)(d,{expansion:"","default-opened":"",icon:"account_balance",label:"COFINS"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",cm,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.noXml_CSTCofins,"onUpdate:modelValue":[o[313]||(o[313]=e=>t.item_det.imposto.noXml_CSTCofins=e),e.calcularTotais],col:"12",meta:e.metadados.infNFe.det.lista.imposto.noXml_CSTCofins},null,8,["modelValue","meta","onUpdate:modelValue"]),(0,a.createElementVNode)("div",dm,["COFINSAliq"==t.item_det.imposto.COFINS.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",mm,[(0,a.createElementVNode)("div",um,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.COFINS.escolhas.COFINSAliq.vBC,"onUpdate:modelValue":[o[314]||(o[314]=e=>t.item_det.imposto.COFINS.escolhas.COFINSAliq.vBC=e),e.calcularTotais],col:"4",meta:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSAliq.vBC,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.COFINS.escolhas.COFINSAliq.pCOFINS,"onUpdate:modelValue":[o[315]||(o[315]=e=>t.item_det.imposto.COFINS.escolhas.COFINSAliq.pCOFINS=e),e.calcularTotaisSemDistribuir],col:"4",meta:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSAliq.pCOFINS,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.COFINS.escolhas.COFINSAliq.vCOFINS,"onUpdate:modelValue":o[316]||(o[316]=e=>t.item_det.imposto.COFINS.escolhas.COFINSAliq.vCOFINS=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSAliq.vCOFINS,"somente-leitura":""},null,8,["modelValue","meta"])])])):(0,a.createCommentVNode)("",!0),"COFINSQtde"==t.item_det.imposto.COFINS.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",pm,[(0,a.createElementVNode)("div",hm,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.COFINS.escolhas.COFINSQtde.qBCProd,"onUpdate:modelValue":o[317]||(o[317]=e=>t.item_det.imposto.COFINS.escolhas.COFINSQtde.qBCProd=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSQtde.qBCProd,"somente-leitura":""},null,8,["modelValue","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.COFINS.escolhas.COFINSQtde.vAliqProd,"onUpdate:modelValue":[o[318]||(o[318]=e=>t.item_det.imposto.COFINS.escolhas.COFINSQtde.vAliqProd=e),e.calcularTotaisSemDistribuir],col:"4",meta:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSQtde.vAliqProd,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.COFINS.escolhas.COFINSQtde.vCOFINS,"onUpdate:modelValue":o[319]||(o[319]=e=>t.item_det.imposto.COFINS.escolhas.COFINSQtde.vCOFINS=e),col:"4",meta:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSQtde.vCOFINS,"somente-leitura":""},null,8,["modelValue","meta"])])])):(0,a.createCommentVNode)("",!0),"COFINSOutr"==t.item_det.imposto.COFINS.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Cm,[(0,a.createElementVNode)("div",vm,[(0,a.createElementVNode)("div",fm,[(0,a.createVNode)(v,{modelValue:t.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.valor_escolha,"onUpdate:modelValue":o[320]||(o[320]=e=>t.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.valor_escolha=e),label:"Calculo por valor da operação",val:"opcao1"},null,8,["modelValue"]),(0,a.createVNode)(v,{modelValue:t.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.valor_escolha,"onUpdate:modelValue":o[321]||(o[321]=e=>t.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.valor_escolha=e),label:"Calculo por quantidade vendida",val:"opcao2"},null,8,["modelValue"])]),"opcao1"==t.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Nm,[(0,a.createElementVNode)("div",Vm,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao1.vBC,"onUpdate:modelValue":[o[322]||(o[322]=e=>t.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao1.vBC=e),e.calcularTotais],col:"6",meta:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao1.vBC,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao1.pCOFINS,"onUpdate:modelValue":[o[323]||(o[323]=e=>t.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao1.pCOFINS=e),e.calcularTotaisSemDistribuir],col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao1.pCOFINS,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"])])])):(0,a.createCommentVNode)("",!0),"opcao2"==t.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",gm,[(0,a.createElementVNode)("div",xm,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao2.qBCProd,"onUpdate:modelValue":o[324]||(o[324]=e=>t.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao2.qBCProd=e),col:"6",meta:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao2.qBCProd,"somente-leitura":""},null,8,["modelValue","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao2.vAliqProd,"onUpdate:modelValue":[o[325]||(o[325]=e=>t.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao2.vAliqProd=e),e.calcularTotaisSemDistribuir],col:"6",meta:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao2.vAliqProd,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"])])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",bm,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.COFINS.escolhas.COFINSOutr.vCOFINS,"onUpdate:modelValue":o[326]||(o[326]=e=>t.item_det.imposto.COFINS.escolhas.COFINSOutr.vCOFINS=e),col:"12",meta:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSOutr.vCOFINS,"somente-leitura":""},null,8,["modelValue","meta"])])])):(0,a.createCommentVNode)("",!0)]),e.outrosNFe.visaoCompletaProduto?((0,a.openBlock)(),(0,a.createElementBlock)("div",wm,[(0,a.createElementVNode)("div",_m,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.COFINSST.visivel,"onUpdate:modelValue":[o[327]||(o[327]=e=>t.item_det.imposto.COFINSST.visivel=e),e.calcularTotais],col:"12",rotulo:"COFINS da Substituição Tributaria",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"])]),t.item_det.imposto.COFINSST.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",ym,[(0,a.createElementVNode)("div",Im,[(0,a.createElementVNode)("div",Em,[(0,a.createVNode)(v,{modelValue:t.item_det.imposto.COFINSST.escolhas.valor_escolha,"onUpdate:modelValue":o[328]||(o[328]=e=>t.item_det.imposto.COFINSST.escolhas.valor_escolha=e),label:"opcao1",val:"opcao1"},null,8,["modelValue"]),(0,a.createVNode)(v,{modelValue:t.item_det.imposto.COFINSST.escolhas.valor_escolha,"onUpdate:modelValue":o[329]||(o[329]=e=>t.item_det.imposto.COFINSST.escolhas.valor_escolha=e),label:"opcao2",val:"opcao2"},null,8,["modelValue"])]),"opcao1"==t.item_det.imposto.COFINSST.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Sm,[(0,a.createElementVNode)("div",Mm,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.COFINSST.escolhas.opcao1.vBC,"onUpdate:modelValue":[o[330]||(o[330]=e=>t.item_det.imposto.COFINSST.escolhas.opcao1.vBC=e),e.calcularTotais],col:"6",meta:e.metadados.infNFe.det.lista.imposto.COFINSST.escolhas.opcao1.vBC,"somente-leitura":e.alteraBC},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.COFINSST.escolhas.opcao1.pCOFINS,"onUpdate:modelValue":[o[331]||(o[331]=e=>t.item_det.imposto.COFINSST.escolhas.opcao1.pCOFINS=e),e.calcularTotaisSemDistribuir],col:"6",meta:e.metadados.infNFe.det.lista.imposto.COFINSST.escolhas.opcao1.pCOFINS,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"])])])):(0,a.createCommentVNode)("",!0),"opcao2"==t.item_det.imposto.COFINSST.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Tm,[(0,a.createElementVNode)("div",km,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.COFINSST.escolhas.opcao2.qBCProd,"onUpdate:modelValue":o[332]||(o[332]=e=>t.item_det.imposto.COFINSST.escolhas.opcao2.qBCProd=e),col:"6",meta:e.metadados.infNFe.det.lista.imposto.COFINSST.escolhas.opcao2.qBCProd,"somente-leitura":""},null,8,["modelValue","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.COFINSST.escolhas.opcao2.vAliqProd,"onUpdate:modelValue":[o[333]||(o[333]=e=>t.item_det.imposto.COFINSST.escolhas.opcao2.vAliqProd=e),e.calcularTotaisSemDistribuir],col:"6",meta:e.metadados.infNFe.det.lista.imposto.COFINSST.escolhas.opcao2.vAliqProd,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"])])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",Dm,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.COFINSST.vCOFINS,"onUpdate:modelValue":o[334]||(o[334]=e=>t.item_det.imposto.COFINSST.vCOFINS=e),col:"12",meta:e.metadados.infNFe.det.lista.imposto.COFINSST.vCOFINS,"somente-leitura":""},null,8,["modelValue","meta"])])])):(0,a.createCommentVNode)("",!0)])):(0,a.createCommentVNode)("",!0)])])),_:1}),e.outrosNFe.visaoCompletaProduto?((0,a.openBlock)(),(0,a.createBlock)(d,{key:2,expansion:"",icon:"account_balance",label:"IPI"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",qm,[(0,a.createElementVNode)("div",Fm,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.IPI.visivel,"onUpdate:modelValue":[o[335]||(o[335]=e=>t.item_det.imposto.escolhas.opcao1.IPI.visivel=e),e.calcularTotais],col:"12",rotulo:"IPI","somente-leitura":!e.emDigitacao,tipo:"logico"},null,8,["modelValue","somente-leitura","onUpdate:modelValue"])]),t.item_det.imposto.escolhas.opcao1.IPI.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Pm,[(0,a.createElementVNode)("div",Am,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.IPI.CNPJProd,"onUpdate:modelValue":o[336]||(o[336]=e=>t.item_det.imposto.escolhas.opcao1.IPI.CNPJProd=e),col:"6",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.CNPJProd,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.IPI.cSelo,"onUpdate:modelValue":o[337]||(o[337]=e=>t.item_det.imposto.escolhas.opcao1.IPI.cSelo=e),col:"6",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.cSelo,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.IPI.qSelo,"onUpdate:modelValue":o[338]||(o[338]=e=>t.item_det.imposto.escolhas.opcao1.IPI.qSelo=e),col:"6",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.qSelo,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.IPI.cEnq,"onUpdate:modelValue":o[339]||(o[339]=e=>t.item_det.imposto.escolhas.opcao1.IPI.cEnq=e),col:"6",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.cEnq,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"])]),(0,a.createElementVNode)("div",Bm,[(0,a.createElementVNode)("div",Lm,[(0,a.createVNode)(v,{modelValue:t.item_det.imposto.escolhas.opcao1.IPI.escolhas.valor_escolha,"onUpdate:modelValue":o[340]||(o[340]=e=>t.item_det.imposto.escolhas.opcao1.IPI.escolhas.valor_escolha=e),label:"IPITrib",val:"IPITrib"},null,8,["modelValue"]),(0,a.createVNode)(v,{modelValue:t.item_det.imposto.escolhas.opcao1.IPI.escolhas.valor_escolha,"onUpdate:modelValue":o[341]||(o[341]=e=>t.item_det.imposto.escolhas.opcao1.IPI.escolhas.valor_escolha=e),label:"IPINT",val:"IPINT"},null,8,["modelValue"])]),"IPITrib"==t.item_det.imposto.escolhas.opcao1.IPI.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Om,[(0,a.createElementVNode)("div",zm,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST,"onUpdate:modelValue":o[342]||(o[342]=e=>t.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST=e),col:"12","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST},null,8,["modelValue","somente-leitura","meta"])]),(0,a.createElementVNode)("div",jm,[(0,a.createElementVNode)("div",$m,[(0,a.createVNode)(v,{modelValue:t.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.valor_escolha,"onUpdate:modelValue":o[343]||(o[343]=e=>t.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.valor_escolha=e),label:"opcao1",val:"opcao1"},null,8,["modelValue"]),(0,a.createVNode)(v,{modelValue:t.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.valor_escolha,"onUpdate:modelValue":o[344]||(o[344]=e=>t.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.valor_escolha=e),label:"opcao2",val:"opcao2"},null,8,["modelValue"])]),"opcao1"==t.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Um,[(0,a.createElementVNode)("div",Zm,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.vBC,"onUpdate:modelValue":o[345]||(o[345]=e=>t.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.vBC=e),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.vBC},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.pIPI,"onUpdate:modelValue":[o[346]||(o[346]=e=>t.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.pIPI=e),e.calcularTotaisSemDistribuir],col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.pIPI,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"])])])):(0,a.createCommentVNode)("",!0),"opcao2"==t.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Qm,[(0,a.createElementVNode)("div",Rm,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao2.qUnid,"onUpdate:modelValue":o[347]||(o[347]=e=>t.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao2.qUnid=e),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao2.qUnid},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao2.vUnid,"onUpdate:modelValue":o[348]||(o[348]=e=>t.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao2.vUnid=e),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao2.vUnid},null,8,["modelValue","somente-leitura","meta"])])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",Gm,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.vIPI,"onUpdate:modelValue":o[349]||(o[349]=e=>t.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.vIPI=e),col:"12","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.vIPI},null,8,["modelValue","somente-leitura","meta"])])])):(0,a.createCommentVNode)("",!0),"IPINT"==t.item_det.imposto.escolhas.opcao1.IPI.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Hm,[(0,a.createElementVNode)("div",Jm,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST,"onUpdate:modelValue":o[350]||(o[350]=e=>t.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST=e),col:"12","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST},null,8,["modelValue","somente-leitura","meta"])])])):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0)])])),_:1})):(0,a.createCommentVNode)("",!0),e.outrosNFe.visaoCompletaProduto?((0,a.openBlock)(),(0,a.createBlock)(d,{key:3,expansion:"",icon:"account_balance",label:"II"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Ym,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.escolhas.opcao1.II.visivel,"onUpdate:modelValue":[o[351]||(o[351]=e=>t.item_det.imposto.escolhas.opcao1.II.visivel=e),e.calcularTotais],col:"12",rotulo:"Imposto de Importação","somente-leitura":!e.emDigitacao,tipo:"logico"},null,8,["modelValue","somente-leitura","onUpdate:modelValue"])]),t.item_det.imposto.escolhas.opcao1.II.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",Xm,[(0,a.createElementVNode)("div",Wm,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.II.vBC,"onUpdate:modelValue":o[352]||(o[352]=e=>t.item_det.imposto.escolhas.opcao1.II.vBC=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.II.vBC},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.II.vDespAdu,"onUpdate:modelValue":o[353]||(o[353]=e=>t.item_det.imposto.escolhas.opcao1.II.vDespAdu=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.II.vDespAdu},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.II.vII,"onUpdate:modelValue":o[354]||(o[354]=e=>t.item_det.imposto.escolhas.opcao1.II.vII=e),col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.II.vII,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao1.II.vIOF,"onUpdate:modelValue":o[355]||(o[355]=e=>t.item_det.imposto.escolhas.opcao1.II.vIOF=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.II.vIOF},null,8,["modelValue","somente-leitura","meta"])])])):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0),e.outrosNFe.visaoCompletaProduto?((0,a.openBlock)(),(0,a.createBlock)(d,{key:4,expansion:"",icon:"account_balance",label:"ISSQN"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{modelValue:t.item_det.imposto.escolhas.opcao2.ISSQN.visivel,"onUpdate:modelValue":o[372]||(o[372]=e=>t.item_det.imposto.escolhas.opcao2.ISSQN.visivel=e),nota:t.nota,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.visivel},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao2.ISSQN.vBC,"onUpdate:modelValue":o[356]||(o[356]=e=>t.item_det.imposto.escolhas.opcao2.ISSQN.vBC=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vBC},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao2.ISSQN.vAliq,"onUpdate:modelValue":o[357]||(o[357]=e=>t.item_det.imposto.escolhas.opcao2.ISSQN.vAliq=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vAliq},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao2.ISSQN.vISSQN,"onUpdate:modelValue":o[358]||(o[358]=e=>t.item_det.imposto.escolhas.opcao2.ISSQN.vISSQN=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vISSQN},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao2.ISSQN.cMunFG,"onUpdate:modelValue":o[359]||(o[359]=e=>t.item_det.imposto.escolhas.opcao2.ISSQN.cMunFG=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.cMunFG},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao2.ISSQN.cListServ,"onUpdate:modelValue":o[360]||(o[360]=e=>t.item_det.imposto.escolhas.opcao2.ISSQN.cListServ=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.cListServ},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao2.ISSQN.vDeducao,"onUpdate:modelValue":o[361]||(o[361]=e=>t.item_det.imposto.escolhas.opcao2.ISSQN.vDeducao=e),col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vDeducao,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao2.ISSQN.vOutro,"onUpdate:modelValue":o[362]||(o[362]=e=>t.item_det.imposto.escolhas.opcao2.ISSQN.vOutro=e),col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vOutro,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao2.ISSQN.vDescIncond,"onUpdate:modelValue":o[363]||(o[363]=e=>t.item_det.imposto.escolhas.opcao2.ISSQN.vDescIncond=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vDescIncond},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao2.ISSQN.vDescCond,"onUpdate:modelValue":o[364]||(o[364]=e=>t.item_det.imposto.escolhas.opcao2.ISSQN.vDescCond=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vDescCond},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao2.ISSQN.vISSRet,"onUpdate:modelValue":o[365]||(o[365]=e=>t.item_det.imposto.escolhas.opcao2.ISSQN.vISSRet=e),col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vISSRet,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao2.ISSQN.indISS,"onUpdate:modelValue":o[366]||(o[366]=e=>t.item_det.imposto.escolhas.opcao2.ISSQN.indISS=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.indISS},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao2.ISSQN.cServico,"onUpdate:modelValue":o[367]||(o[367]=e=>t.item_det.imposto.escolhas.opcao2.ISSQN.cServico=e),col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.cServico,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao2.ISSQN.cMun,"onUpdate:modelValue":o[368]||(o[368]=e=>t.item_det.imposto.escolhas.opcao2.ISSQN.cMun=e),col:"3",meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.cMun,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao2.ISSQN.cPais,"onUpdate:modelValue":o[369]||(o[369]=e=>t.item_det.imposto.escolhas.opcao2.ISSQN.cPais=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.cPais},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao2.ISSQN.nProcesso,"onUpdate:modelValue":o[370]||(o[370]=e=>t.item_det.imposto.escolhas.opcao2.ISSQN.nProcesso=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.nProcesso},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.escolhas.opcao2.ISSQN.indIncentivo,"onUpdate:modelValue":o[371]||(o[371]=e=>t.item_det.imposto.escolhas.opcao2.ISSQN.indIncentivo=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.indIncentivo},null,8,["modelValue","somente-leitura","meta"])])),_:1})])),_:1},8,["modelValue","nota","meta"])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(d,{expansion:"","default-opened":"",icon:"account_balance",label:"Tributos sobre Vendas interestaduais"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Km,[(0,a.createVNode)(u,{modelValue:t.item_det.imposto.ICMSUFDest.visivel,"onUpdate:modelValue":[o[373]||(o[373]=e=>t.item_det.imposto.ICMSUFDest.visivel=e),e.calcularTotais],col:"12",rotulo:"Vendas interestaduais para consumidor final, não contribuinte de ICMS",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"])]),t.item_det.imposto.ICMSUFDest.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",eu,[(0,a.createElementVNode)("div",ou,[(0,a.createVNode)(m,{modelValue:t.item_det.imposto.ICMSUFDest.vBCUFDest,"onUpdate:modelValue":o[374]||(o[374]=e=>t.item_det.imposto.ICMSUFDest.vBCUFDest=e),col:"3",meta:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.vBCUFDest,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.ICMSUFDest.vBCFCPUFDest,"onUpdate:modelValue":o[375]||(o[375]=e=>t.item_det.imposto.ICMSUFDest.vBCFCPUFDest=e),col:"3",meta:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.vBCFCPUFDest,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.ICMSUFDest.pFCPUFDest,"onUpdate:modelValue":[o[376]||(o[376]=e=>t.item_det.imposto.ICMSUFDest.pFCPUFDest=e),e.calcularTotaisSemDistribuir],col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pFCPUFDest,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.ICMSUFDest.pICMSUFDest,"onUpdate:modelValue":[o[377]||(o[377]=e=>t.item_det.imposto.ICMSUFDest.pICMSUFDest=e),e.calcularTotaisSemDistribuir],col:"3",meta:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSUFDest,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.ICMSUFDest.pICMSInter,"onUpdate:modelValue":o[378]||(o[378]=e=>t.item_det.imposto.ICMSUFDest.pICMSInter=e),col:"3",meta:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSInter,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.ICMSUFDest.pICMSInterPart,"onUpdate:modelValue":[o[379]||(o[379]=e=>t.item_det.imposto.ICMSUFDest.pICMSInterPart=e),e.calcularTotaisSemDistribuir],col:"3",meta:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSInterPart,"somente-leitura":!e.emDigitacao,suffix:"%"},null,8,["modelValue","meta","somente-leitura","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.ICMSUFDest.vFCPUFDest,"onUpdate:modelValue":o[380]||(o[380]=e=>t.item_det.imposto.ICMSUFDest.vFCPUFDest=e),col:"3",meta:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.vFCPUFDest,"somente-leitura":!e.emDigitacao},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.ICMSUFDest.vICMSUFDest,"onUpdate:modelValue":o[381]||(o[381]=e=>t.item_det.imposto.ICMSUFDest.vICMSUFDest=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.vICMSUFDest},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:t.item_det.imposto.ICMSUFDest.vICMSUFRemet,"onUpdate:modelValue":o[382]||(o[382]=e=>t.item_det.imposto.ICMSUFDest.vICMSUFRemet=e),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.vICMSUFRemet},null,8,["modelValue","somente-leitura","meta"])])])):(0,a.createCommentVNode)("",!0)])),_:1}),e.outrosNFe.visaoCompletaProduto?((0,a.openBlock)(),(0,a.createBlock)(d,{key:5,expansion:"",icon:"account_balance",label:"Imposto devolvido"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",tu,[(0,a.createVNode)(u,{modelValue:t.item_det.impostoDevol.visivel,"onUpdate:modelValue":[o[383]||(o[383]=e=>t.item_det.impostoDevol.visivel=e),e.calcularTotais],col:"12",rotulo:"Imposto devolvido",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"])]),t.item_det.impostoDevol.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",au,[(0,a.createElementVNode)("div",iu,[(0,a.createVNode)(m,{modelValue:t.item_det.impostoDevol.pDevol,"onUpdate:modelValue":[o[384]||(o[384]=e=>t.item_det.impostoDevol.pDevol=e),e.calcularTotaisSemDistribuir],col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.impostoDevol.pDevol,suffix:"%"},null,8,["modelValue","somente-leitura","meta","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:t.item_det.impostoDevol.IPI.vIPIDevol,"onUpdate:modelValue":o[385]||(o[385]=e=>t.item_det.impostoDevol.IPI.vIPIDevol=e),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.impostoDevol.IPI.vIPIDevol},null,8,["modelValue","somente-leitura","meta"])])])):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0),e.outrosNFe.visaoCompletaProduto?((0,a.openBlock)(),(0,a.createBlock)(d,{key:6,expansion:"",icon:"directions_boat",label:e.metadados.infNFe.det.lista.prod.NVE._titulo},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{style:{border:"none"}},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(t.item_det.prod.NVE,((o,i)=>((0,a.openBlock)(),(0,a.createBlock)(V,{key:i},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:o.NVE,"onUpdate:modelValue":e=>o.NVE=e,col:"12","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.NVE.lista.NVE},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"negative",class:"bt-negative q-my-sm",size:"xs",icon:"remove",outline:"",label:"Remover item",onClick:o=>e.removerLinhaDaLista(t.item_det.prod.NVE,i)},null,8,["onClick"])):(0,a.createCommentVNode)("",!0)])),_:2},1024)])),_:2},1024)))),128)),e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm",onClick:o[386]||(o[386]=o=>e.adicionarLinhaNaLista(t.item_det.prod.NVE,e.metadados.infNFe.det.lista.prod.NVE.lista))})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1},8,["label"])):(0,a.createCommentVNode)("",!0),e.outrosNFe.visaoCompletaProduto?((0,a.openBlock)(),(0,a.createBlock)(d,{key:7,expansion:"",icon:"directions",label:"Rastro"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{style:{border:"none"}},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(t.item_det.prod.rastro,((o,i)=>((0,a.openBlock)(),(0,a.createBlock)(V,{key:i},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ru,[(0,a.createVNode)(m,{modelValue:o.nLote,"onUpdate:modelValue":e=>o.nLote=e,col:"4",meta:e.metadados.infNFe.det.lista.prod.rastro.lista.nLote,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:o.qLote,"onUpdate:modelValue":e=>o.qLote=e,col:"4",meta:e.metadados.infNFe.det.lista.prod.rastro.lista.qLote,"somente-leitura":!e.emDigitacao,opcoes:{minimumValue:0,decimalPlaces:3},tipo:"decimal"},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:o.dFab,"onUpdate:modelValue":e=>o.dFab=e,col:"4",meta:e.metadados.infNFe.det.lista.prod.rastro.lista.dFab,"somente-leitura":!e.emDigitacao,tipo:"data"},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:o.dVal,"onUpdate:modelValue":e=>o.dVal=e,col:"4",meta:e.metadados.infNFe.det.lista.prod.rastro.lista.dVal,"somente-leitura":!e.emDigitacao,tipo:"data"},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:o.cAgreg,"onUpdate:modelValue":e=>o.cAgreg=e,col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.rastro.lista.cAgreg},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])]),e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"negative",class:"bt-negative q-my-sm",size:"xs",icon:"remove",outline:"",label:"Remover item",onClick:o=>e.removerLinhaDaLista(t.item_det.prod.rastro,i)},null,8,["onClick"])):(0,a.createCommentVNode)("",!0)])),_:2},1024)])),_:2},1024)))),128)),e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm",onClick:o[387]||(o[387]=o=>e.adicionarLinhaNaLista(t.item_det.prod.rastro,e.metadados.infNFe.det.lista.prod.rastro.lista))})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),e.outrosNFe.visaoCompletaProduto?((0,a.openBlock)(),(0,a.createBlock)(d,{key:8,expansion:"",icon:"mdi-airplane-landing",label:"Importação"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{style:{border:"none"}},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(t.item_det.prod.DI,((o,i)=>((0,a.openBlock)(),(0,a.createBlock)(V,{key:i},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",lu,[(0,a.createVNode)(m,{modelValue:o.nDI,"onUpdate:modelValue":e=>o.nDI=e,col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.DI.lista.nDI},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:o.dDI,"onUpdate:modelValue":e=>o.dDI=e,col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.DI.lista.dDI,tipo:"data"},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:o.xLocDesemb,"onUpdate:modelValue":e=>o.xLocDesemb=e,col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.DI.lista.xLocDesemb},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:o.UFDesemb,"onUpdate:modelValue":e=>o.UFDesemb=e,col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.DI.lista.UFDesemb},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:o.dDesemb,"onUpdate:modelValue":e=>o.dDesemb=e,col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.DI.lista.dDesemb,tipo:"data"},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:o.tpViaTransp,"onUpdate:modelValue":e=>o.tpViaTransp=e,col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.DI.lista.tpViaTransp},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:o.vAFRMM,"onUpdate:modelValue":e=>o.vAFRMM=e,col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.DI.lista.vAFRMM},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:o.tpIntermedio,"onUpdate:modelValue":e=>o.tpIntermedio=e,col:"6",meta:e.metadados.infNFe.det.lista.prod.DI.lista.tpIntermedio,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:o.CNPJ,"onUpdate:modelValue":e=>o.CNPJ=e,col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.DI.lista.CNPJ},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:o.UFTerceiro,"onUpdate:modelValue":e=>o.UFTerceiro=e,col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.DI.lista.UFTerceiro},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:o.cExportador,"onUpdate:modelValue":e=>o.cExportador=e,col:"6",meta:e.metadados.infNFe.det.lista.prod.DI.lista.cExportador,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"])]),(0,a.createElementVNode)("div",su,[(0,a.createVNode)(x,{icon:"list","default-opened":"",label:e.metadados.infNFe.det.lista.prod.DI.lista.adi._titulo,class:"border-1 q-my-sm q-item-borders"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{style:{border:"none"}},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.adi,((t,i)=>((0,a.openBlock)(),(0,a.createBlock)(V,{key:i,class:"border-item"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",nu,[(0,a.createVNode)(m,{modelValue:t.nAdicao,"onUpdate:modelValue":e=>t.nAdicao=e,col:"4",meta:e.metadados.infNFe.det.lista.prod.DI.lista.adi.lista.nAdicao,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.nSeqAdic,"onUpdate:modelValue":e=>t.nSeqAdic=e,col:"4",meta:e.metadados.infNFe.det.lista.prod.DI.lista.adi.lista.nSeqAdic,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.cFabricante,"onUpdate:modelValue":e=>t.cFabricante=e,col:"4",meta:e.metadados.infNFe.det.lista.prod.DI.lista.adi.lista.cFabricante,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.vDescDI,"onUpdate:modelValue":e=>t.vDescDI=e,col:"6",meta:e.metadados.infNFe.det.lista.prod.DI.lista.adi.lista.vDescDI,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"]),(0,a.createVNode)(m,{modelValue:t.nDraw,"onUpdate:modelValue":e=>t.nDraw=e,col:"6",meta:e.metadados.infNFe.det.lista.prod.DI.lista.adi.lista.nDraw,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"])]),e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"negative",class:"bt-negative q-my-sm",size:"xs",icon:"remove",outline:"",label:"Remover item",onClick:t=>e.removerLinhaDaLista(o.adi,i)},null,8,["onClick"])):(0,a.createCommentVNode)("",!0)])),_:2},1024)])),_:2},1024)))),128)),e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm",onClick:t=>e.adicionarLinhaNaLista(o.adi,e.metadados.infNFe.det.lista.prod.DI.lista.adi.lista)},null,8,["onClick"])):(0,a.createCommentVNode)("",!0)])),_:2},1024)])),_:2},1032,["label"])]),e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"negative",class:"bt-negative q-my-sm",size:"xs",icon:"remove",outline:"",label:"Remover item",onClick:o=>e.removerLinhaDaLista(t.item_det.prod.DI,i)},null,8,["onClick"])):(0,a.createCommentVNode)("",!0)])),_:2},1024)])),_:2},1024)))),128)),e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm",onClick:o[388]||(o[388]=o=>e.adicionarLinhaNaLista(t.item_det.prod.DI,e.metadados.infNFe.det.lista.prod.DI.lista))})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),e.outrosNFe.visaoCompletaProduto?((0,a.openBlock)(),(0,a.createBlock)(d,{key:9,expansion:"",icon:"mdi-airplane-takeoff",label:"Exportação"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{style:{border:"none"}},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(t.item_det.prod.detExport,((o,i)=>((0,a.openBlock)(),(0,a.createBlock)(V,{key:i},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",cu,[(0,a.createVNode)(m,{modelValue:o.nDraw,"onUpdate:modelValue":e=>o.nDraw=e,col:"12",meta:e.metadados.infNFe.det.lista.prod.detExport.lista.nDraw,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"])]),(0,a.createElementVNode)("div",du,[(0,a.createElementVNode)("div",mu,[(0,a.createVNode)(u,{modelValue:o.exportInd.visivel,"onUpdate:modelValue":e=>o.exportInd.visivel=e,col:"12","somente-leitura":!e.emDigitacao,rotulo:"Exportação indireta",tipo:"logico"},null,8,["modelValue","onUpdate:modelValue","somente-leitura"])]),o.exportInd.visivel?((0,a.openBlock)(),(0,a.createElementBlock)("div",uu,[(0,a.createElementVNode)("div",pu,[(0,a.createVNode)(m,{modelValue:o.exportInd.nRE,"onUpdate:modelValue":e=>o.exportInd.nRE=e,col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.detExport.lista.exportInd.nRE},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:o.exportInd.chNFe,"onUpdate:modelValue":e=>o.exportInd.chNFe=e,col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.detExport.lista.exportInd.chNFe},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(m,{modelValue:o.exportInd.qExport,"onUpdate:modelValue":e=>o.exportInd.qExport=e,col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.detExport.lista.exportInd.qExport},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])])])):(0,a.createCommentVNode)("",!0)]),e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"negative",class:"bt-negative q-my-sm",label:"Remover item",size:"xs",icon:"remove",outline:"",onClick:o=>e.removerLinhaDaLista(t.item_det.prod.detExport,i)},null,8,["onClick"])):(0,a.createCommentVNode)("",!0)])),_:2},1024)])),_:2},1024)))),128)),e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm",onClick:o[389]||(o[389]=o=>e.adicionarLinhaNaLista(t.item_det.prod.detExport,e.metadados.infNFe.det.lista.prod.detExport.lista))})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1},512)}]]);Z()(hu,"components",{QToggle:il.Z,QRadio:ys.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QBtn:H.Z,QExpansionItem:P.Z});const vu={components:{Avatar:uo.Z,nfeCrud:qs,nfeProdutosModal:Cu},data:()=>({itemDetModal:null}),methods:{abrirModalItem(e){Fo.gconsole.log("NFeProdutos","abrirModalItem()",e),this.itemDetModal=e,this.$refs.modalItem.$refs.dialog.show()},adicionarItem(e,o){this.itemDetModal=null,this.adicionarLinhaNaLista(e,o),this.calcularTotais()},async selecionarItens(e,o){const t=Object.keys(e)[0],a=e[t].item;Fo.gconsole.log("NFeProdutos","selecionarItens()",t,a.descricao);try{t&&(await this.obterItem(o.prod,a),2===await $db.configuracoes.leValorNumerico("imposto.versao")?await this.obterConfiguracaoImpostoV2(o,a):await this.obterConfiguracaoImposto(o,a),await this.obterAliquotasTributosIbpt(o,a),this.calcularTotais())}catch(e){this.$q.notifyError("Não foi possível carregar o produto",e)}},async obterAliquotasTributosIbpt(e,o){Fo.gconsole.log("NFeProdutos","obterAliquotasTributosIbpt",o);const t=await(0,Mo.X)().nfeIbpt.where("codigo").equals(Number(o.ncm)).toArray();if(!t||0===t.length)return void console.log(`Não encontrado alíquotas para calculo do valor aproximado de tributos do NCM: ${o.ncm}. Atualize sua tabela IBPT.`);const a=t.filter((e=>e.idContato===this.outrosNFe.idContatoEmitente)),i=(a.length?a:t).reduce(((e,o)=>!e||e.vigenciaFim<o.vigenciaFim?o:e),null);i.vigenciaFim<(0,Fo.dataAtual)()&&console.log(`Informações vencidas para para o calculo do valor aproximado de tributos do NCM: ${o.ncm}. Atualize sua tabela IBPT.`),e.imposto.noXml_pTribImp=Number(i.importadosFederal||0),e.imposto.noXml_pTribFed=Number(i.nacionalFederal||0),e.imposto.noXml_pTribEst=Number(i.estadual||0),e.imposto.noXml_pTribMun=Number(i.municipal||0)},async obterItem(e,o){let t=String(o.codigoBarras||"").padStart(13,"0");t.startsWith("999")&&(t="SEM GTIN"),e.cProd=String(o.referencia||o.codigoItem||"0").trim(),e.cEAN=t,e.xProd=(0,Fo.removerCaracteresEspeciais)(o.descricao),e.NCM=String(o.ncm||""),e.uCom=String(o.unidade||"UN"),e.qCom=1,e.vUnCom=Number(o.valorVenda)||0,e.noXml_id=o.id,e.noXml_imagem=o.imagem},async obterConfiguracaoImposto(e,o){Fo.gconsole.log("NFeProdutos","obterConfiguracaoImposto");const t=`Produto '${e.prod.xProd}'`;(0,Fo.verificarErro)(!this.outrosNFe.idContatoEmitente,"Configuração de imposto não pode ser importada sem selecionar a Empresa Emitente"),(0,Fo.verificarErro)(!this.infNFe.emit.enderEmit.UF,"Configuração de imposto não pode ser importada sem UF do Emitente"),(0,Fo.verificarErro)(!this.infNFe.dest.enderDest.UF,"Configuração de imposto não pode ser importada sem UF do Destinatário"),(0,Fo.verificarErro)(!o.ncm,`${t} sem cadastro de NCM`);const a=await(0,Mo.X)()._ncm.where({ncm:o.ncm}).first();(0,Fo.verificarErro)(!a,`${t} com NCM '${o.ncm||""}' inválido`);const i=(await(0,Mo.X)().documentoOperacao.filter((e=>"Venda"===e.descricao)).first()).idCfop;(0,Fo.verificarErro)(!i,"Sistama sem configuração de CFOP para operação de venda");const r=await(0,Mo.X)().cfop.get(i);(0,Fo.verificarErro)(!r,"Sistama com configuração de CFOP inválida"),Fo.gconsole.log("NFeProdutos",`dadosNcm.id: ${a.id} dadosCfop.id: ${r.id} idContatoEmitente: ${this.outrosNFe.idContatoEmitente}`);const l=await(0,Mo.X)().impostoConfiguracao.where("idNcm").equals(a.id).filter((e=>e.idCfop===r.id&&e.idEmitente===this.outrosNFe.idContatoEmitente&&e.ufOrigem===this.infNFe.emit.enderEmit.UF&&e.ufDestino===this.infNFe.dest.enderDest.UF)).first();Fo.gconsole.log("NFeProdutos","impostoConfiguracao",l);const s=`Verifique a configuração do imposto para NCM: ${o.ncm||""}, CFOP: ${r.cfop||""}, CNPJ: ${this.infNFe.emit.escolhas.CNPJ||""}, origem: ${this.infNFe.emit.enderEmit.UF||""}, destino: ${this.infNFe.dest.enderDest.UF||""}.`;(0,Fo.verificarErro)(!l,`${t} sem configuração de imposto. ${s}`);const n=e.prod,c=e.imposto;try{if(n.CFOP=(r.cfop||0).toString(),c.noXml_orig=await this.obterImpostoParametro(l.idOrigem),c.noXml_CST=c.noXml_CSOSN=await this.obterImpostoParametro(l.idCst),c.noXml_pICMS=l.aliqIcmsUFOrigem||l.aliqIcms||0,c.noXml_pRedBC=l.percRedBcIcms||0,c.noXml_pFCP=l.aliqFcp||0,c.noXml_CSTPis=await this.obterImpostoParametro(l.idTipoTribPis),c.noXml_pPIS=l.aliqPis||0,c.noXml_CSTCofins=await this.obterImpostoParametro(l.idTipoTribCofins),c.noXml_pCOFINS=l.aliqCofins||0,l.idCest){const e=await this.obterImpostoParametro(l.idCest);e&&(n.opcional.visivel=!0,n.opcional.CEST=(0,Fo.filtrarDigitos)(e))}}catch(e){console.error(e),(0,Fo.verificarErro)(!0,`${t} com erro na configuração de imposto. ${s}`)}},async obterConfiguracaoImpostoV2(e,o){Fo.gconsole.log("NFeProdutos","obterConfiguracaoImposto");const t=`Produto '${e.prod.xProd}'`;(0,Fo.verificarErro)(!this.outrosNFe.idContatoEmitente,"Configuração de imposto não pode ser importada sem selecionar a Empresa Emitente"),(0,Fo.verificarErro)(!this.infNFe.emit.enderEmit.UF,"Configuração de imposto não pode ser importada sem UF do Emitente"),(0,Fo.verificarErro)(!this.infNFe.dest.enderDest.UF,"Configuração de imposto não pode ser importada sem UF do Destinatário"),(0,Fo.verificarErro)(!o.ncm,`${t} sem cadastro de NCM`);const a=(await(0,Mo.X)().documentoOperacao.filter((e=>"Venda"===e.descricao)).first()).idCfop;(0,Fo.verificarErro)(!a,"Sistama sem configuração de CFOP para operação de venda");const i=await(0,Mo.X)().cfop.get(a);(0,Fo.verificarErro)(!i||!i.cfop,"Sistama com configuração de CFOP inválida");const r=await(0,Mo.X)().contato.get(this.outrosNFe.idContatoEmitente)||{},l=await(0,Mo.X)().contato.get(this.outrosNFe.idContatoDestinatario)||{};await(0,Gn.Z)({infNFe:this.infNFe,det:e,descricaoProduto:t,item:o,cfop:i.cfop,empresa:r,destinatario:l})},async obterImpostoParametro(e){(0,Fo.verificarErro)(!e,"Configuração de imposto sem informação completa");const o=await(0,Mo.X)().impostoParametro.get(e),t=o?o.numero.trim():void 0;return(0,Fo.verificarErro)(!t,"Configuração de imposto inválida"),t},removerItem(e){$q.dialog({cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},title:"Remover",message:"Ao continuar você irá remover este item.",ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{try{this.infNFe.det=this.infNFe.det.filter((o=>o.prod.noXml_id!==e.prod.noXml_id)),this.calcularTotais(),$q.notifyPositive("Item removido com sucesso.")}catch(e){$q.notifyError("Ocorreu um erro ao remover o item.",e)}}))}},mixins:[Xl],props:{nota:{required:!0,type:Object}},created(){Fo.gconsole.log("NFeProdutos","created()")}},fu=(0,T.Z)(vu,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("avatar"),n=(0,a.resolveComponent)("SeletorItem"),c=(0,a.resolveComponent)("badge"),d=(0,a.resolveComponent)("q-tooltip"),m=(0,a.resolveComponent)("q-btn"),u=(0,a.resolveComponent)("row"),p=(0,a.resolveComponent)("nfeCampo"),h=(0,a.resolveComponent)("q-icon"),C=(0,a.resolveComponent)("nfeCrud"),v=(0,a.resolveComponent)("card"),f=(0,a.resolveComponent)("nfeProdutosModal");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(v,{expansion:"","default-opened":"",icon:"list_alt",label:e.metadados.infNFe.det._titulo},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{lista:e.infNFe.det,meta:e.metadados.infNFe.det.lista,labelAdd:"Produto",nota:t.nota},{default:(0,a.withCtx)((({item:o})=>[(0,a.createVNode)(u,{class:"items-center q-mb-xs"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",An,[(0,a.createVNode)(s,{imagem:o.prod.noXml_imagem,rotulo:o.prod.xProd,tamanho:"40"},null,8,["imagem","rotulo"])]),(0,a.createElementVNode)("div",Bn,[(0,a.createVNode)(n,{modelValue:o.prod.noXml_id,"onUpdate:modelValue":e=>o.prod.noXml_id=e,valorExibir:o.prod.xProd,after:[{icon:e.emDigitacao?"edit":"remove_red_eye",handler:()=>l.abrirModalItem(o)}],onSelecionarItens:e=>l.selecionarItens(e,o),"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","valorExibir","after","onSelecionarItens","somente-leitura"])]),(0,a.createElementVNode)("div",Ln,[(0,a.createVNode)(c,{cor:"tertiary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.prod.cProd),1)])),_:2},1024)]),(0,a.createElementVNode)("div",On,[(0,a.createVNode)(m,{color:"tertiary",dense:"",flat:"",icon:"delete",round:"",onClick:e=>l.removerItem(o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[zn])),_:1})])),_:2},1032,["onClick"])])])),_:2},1024),(0,a.createVNode)(u,{class:"q-mt-xs"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",jn,[(0,a.createVNode)(u,{class:"q-col-gutter-sm items-center"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",$n,[(0,a.createVNode)(u,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:o.prod.vUnCom,"onUpdate:modelValue":[e=>o.prod.vUnCom=e,e.calcularTotais],"somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.vUnCom},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])])),_:2},1024)]),(0,a.createElementVNode)("div",Un,[(0,a.createVNode)(u,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"mdi-minus",color:"primary"}),(0,a.createVNode)(p,{modelValue:o.prod.vDesc,"onUpdate:modelValue":[e=>o.prod.vDesc=e,e.calcularTotais],"somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.vDesc},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])])),_:2},1024)]),(0,a.createElementVNode)("div",Zn,[(0,a.createVNode)(u,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"mdi-close",color:"primary"}),(0,a.createVNode)(p,{modelValue:o.prod.qCom,"onUpdate:modelValue":[e=>o.prod.qCom=e,e.calcularTotais],"somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.qCom},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])])),_:2},1024)]),(0,a.createElementVNode)("div",Qn,[(0,a.createVNode)(u,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:o.prod.uCom,"onUpdate:modelValue":[e=>o.prod.uCom=e,e.calcularTotais],"somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.det.lista.prod.uCom},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])])),_:2},1024)]),(0,a.createElementVNode)("div",Rn,[(0,a.createVNode)(u,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"mdi-equal",color:"primary"}),(0,a.createVNode)(p,{modelValue:o.prod.vProd,"onUpdate:modelValue":e=>o.prod.vProd=e,meta:e.metadados.infNFe.det.lista.prod.vProd,"somente-leitura":""},null,8,["modelValue","onUpdate:modelValue","meta"])])),_:2},1024)])])),_:2},1024)])])),_:2},1024)])),_:1},8,["lista","meta","nota"])])),_:1},8,["label"]),(0,a.createVNode)(f,{ref:"modalItem",nota:t.nota,item_det:r.itemDetModal},null,8,["nota","item_det"])],64)}]]);Z()(vu,"components",{QBtn:H.Z,QTooltip:Ao.Z,QIcon:L.Z,QExpansionItem:P.Z});const Nu={class:"col-12 no-shadow"},Vu={class:"col justify-end"},gu={key:0},xu={class:"row q-col-gutter-x-sm"},bu={key:1},wu={class:"row q-col-gutter-x-sm"},_u={key:2},yu={class:"row q-col-gutter-x-sm"},Iu={class:"row q-col-gutter-x-sm"},Eu={class:"col-12 col-lg-3 q-pt-lg"},Su={key:0,class:"col-md-9"},Mu={key:1,class:"col-md-9"},Tu={class:"row q-col-gutter-x-sm"},ku={key:3},Du={class:"row q-col-gutter-x-sm"},qu={key:4},Fu={class:"row q-col-gutter-x-sm"},Pu=(0,a.createTextVNode)(" Adicionar NFe Referenciada "),Au={class:"layout-padding row justify-center"},Bu={style:{width:"1280px","max-width":"90vw",background:"white"}},Lu={class:"col-12 no-shadow"},Ou={class:"row q-px-md q-col-gutter-x-sm"},zu={key:0},ju={class:"row q-px-md q-col-gutter-x-sm"},$u={key:1},Uu={class:"row q-px-md q-col-gutter-x-sm"},Zu={key:2},Qu={class:"row q-px-md q-col-gutter-x-sm"},Ru={class:"col-12 no-shadow"},Gu={class:"row q-px-md q-col-gutter-x-sm"},Hu={key:0},Ju={class:"row q-px-md q-col-gutter-x-sm"},Yu={key:1},Xu={class:"row q-px-md q-col-gutter-x-sm"},Wu={class:"row q-px-md q-col-gutter-x-sm"},Ku={key:3},ep={class:"row q-px-md q-col-gutter-x-sm"},op={key:4},tp={class:"row q-px-md q-col-gutter-x-sm"},ap={data:()=>({modalReferenciada:!1}),mixins:[Xl],props:{nota:{required:!0,type:Object}},created(){$utils.gconsole.log("NFeReferenciada","created()")}},ip=(0,T.Z)(ap,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-radio"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("row"),d=(0,a.resolveComponent)("nfeCampo"),m=(0,a.resolveComponent)("q-item-section"),u=(0,a.resolveComponent)("q-item"),p=(0,a.resolveComponent)("q-list"),h=(0,a.resolveComponent)("card"),C=(0,a.resolveComponent)("q-toolbar-title"),v=(0,a.resolveComponent)("q-toolbar"),f=(0,a.resolveComponent)("q-header"),N=(0,a.resolveComponent)("q-card-section"),V=(0,a.resolveComponent)("q-layout"),g=(0,a.resolveComponent)("q-dialog"),x=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(h,{expansion:"",icon:"attach_file",label:e.metadados.infNFe.ide.NFref._titulo},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"no-border q-pa-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.infNFe.ide.NFref,((o,t)=>((0,a.openBlock)(),(0,a.createBlock)(u,{key:t,class:"border-1 q-mb-xs q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Nu,[(0,a.createVNode)(c,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"col-auto",modelValue:o.escolhas.valor_escolha,"onUpdate:modelValue":e=>o.escolhas.valor_escolha=e,label:"refNFe",val:"refNFe"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(s,{class:"col-auto",modelValue:o.escolhas.valor_escolha,"onUpdate:modelValue":e=>o.escolhas.valor_escolha=e,label:"refNF",val:"refNF"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(s,{class:"col-auto",modelValue:o.escolhas.valor_escolha,"onUpdate:modelValue":e=>o.escolhas.valor_escolha=e,label:"refNFP",val:"refNFP"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(s,{class:"col-auto",modelValue:o.escolhas.valor_escolha,"onUpdate:modelValue":e=>o.escolhas.valor_escolha=e,label:"refCTe",val:"refCTe"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(s,{class:"col-auto",modelValue:o.escolhas.valor_escolha,"onUpdate:modelValue":e=>o.escolhas.valor_escolha=e,label:"refECF",val:"refECF"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createElementVNode)("div",Vu,[(0,a.createVNode)(n,{color:"negative",class:"bt-negative q-mt-sm",size:"xs",icon:"remove",outline:"",round:"",onClick:o=>e.removerLinhaDaLista(e.infNFe.ide.NFref,t)},null,8,["onClick"])])])),_:2},1024),"refNFe"==o.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",gu,[(0,a.createElementVNode)("div",xu,[(0,a.createVNode)(d,{modelValue:o.escolhas.refNFe,"onUpdate:modelValue":e=>o.escolhas.refNFe=e,col:"12","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFe,rotulo:"Chave de Acesso da NFs referenciadas"},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])])])):(0,a.createCommentVNode)("",!0),"refNF"==o.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",bu,[(0,a.createElementVNode)("div",wu,[(0,a.createVNode)(d,{modelValue:o.escolhas.refNF.cUF,"onUpdate:modelValue":e=>o.escolhas.refNF.cUF=e,col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.cUF,opcoes:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.cUF._enumeration,"rotulo-fixo":"Cód. da UF do emitente do doc. fiscal",tipo:"seletor"},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta","opcoes"]),(0,a.createVNode)(d,{modelValue:o.escolhas.refNF.AAMM,"onUpdate:modelValue":e=>o.escolhas.refNF.AAMM=e,col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.AAMM},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:o.escolhas.refNF.CNPJ,"onUpdate:modelValue":e=>o.escolhas.refNF.CNPJ=e,col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.CNPJ,rotulo:"CNPJ do emitente do doc. fiscal"},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:o.escolhas.refNF.mod,"onUpdate:modelValue":e=>o.escolhas.refNF.mod=e,col:"3",meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.mod,"somente-leitura":!e.emDigitacao,opcoes:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.mod._enumeration,tipo:"seletor"},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura","opcoes"]),(0,a.createVNode)(d,{modelValue:o.escolhas.refNF.serie,"onUpdate:modelValue":e=>o.escolhas.refNF.serie=e,col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.serie},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:o.escolhas.refNF.nNF,"onUpdate:modelValue":e=>o.escolhas.refNF.nNF=e,col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.nNF},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])])])):(0,a.createCommentVNode)("",!0),"refNFP"==o.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",_u,[(0,a.createElementVNode)("div",yu,[(0,a.createVNode)(d,{modelValue:o.escolhas.refNFP.cUF,"onUpdate:modelValue":e=>o.escolhas.refNFP.cUF=e,col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.cUF,opcoes:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.cUF._enumeration,tipo:"seletor"},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta","opcoes"]),(0,a.createVNode)(d,{modelValue:o.escolhas.refNFP.AAMM,"onUpdate:modelValue":e=>o.escolhas.refNFP.AAMM=e,col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.AAMM},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])]),(0,a.createElementVNode)("div",Iu,[(0,a.createElementVNode)("div",Eu,[(0,a.createVNode)(s,{modelValue:o.escolhas.refNFP.escolhas.valor_escolha,"onUpdate:modelValue":e=>o.escolhas.refNFP.escolhas.valor_escolha=e,label:"CNPJ",val:"CNPJ"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(s,{modelValue:o.escolhas.refNFP.escolhas.valor_escolha,"onUpdate:modelValue":e=>o.escolhas.refNFP.escolhas.valor_escolha=e,label:"CPF",val:"CPF",class:"q-ml-md"},null,8,["modelValue","onUpdate:modelValue"])]),"CNPJ"==o.escolhas.refNFP.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Su,[(0,a.createVNode)(d,{modelValue:o.escolhas.refNFP.escolhas.CNPJ,"onUpdate:modelValue":e=>o.escolhas.refNFP.escolhas.CNPJ=e,"somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.escolhas.CNPJ},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])])):(0,a.createCommentVNode)("",!0),"CPF"==o.escolhas.refNFP.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Mu,[(0,a.createVNode)(d,{modelValue:o.escolhas.refNFP.escolhas.CPF,"onUpdate:modelValue":e=>o.escolhas.refNFP.escolhas.CPF=e,"somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.escolhas.CPF},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",Tu,[(0,a.createVNode)(d,{modelValue:o.escolhas.refNFP.IE,"onUpdate:modelValue":e=>o.escolhas.refNFP.IE=e,col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.IE},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:o.escolhas.refNFP.mod,"onUpdate:modelValue":e=>o.escolhas.refNFP.mod=e,col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.mod,opcoes:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.mod._enumeration,tipo:"seletor"},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta","opcoes"]),(0,a.createVNode)(d,{modelValue:o.escolhas.refNFP.serie,"onUpdate:modelValue":e=>o.escolhas.refNFP.serie=e,col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.serie},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:o.escolhas.refNFP.nNF,"onUpdate:modelValue":e=>o.escolhas.refNFP.nNF=e,col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.nNF},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])])])):(0,a.createCommentVNode)("",!0),"refCTe"==o.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",ku,[(0,a.createElementVNode)("div",Du,[(0,a.createVNode)(d,{modelValue:o.escolhas.refCTe,"onUpdate:modelValue":e=>o.escolhas.refCTe=e,col:"12","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refCTe},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])])])):(0,a.createCommentVNode)("",!0),"refECF"==o.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",qu,[(0,a.createElementVNode)("div",Fu,[(0,a.createVNode)(d,{modelValue:o.escolhas.refECF.mod,"onUpdate:modelValue":e=>o.escolhas.refECF.mod=e,class:"col-12 col-lg-12","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refECF.mod,opcoes:e.metadados.infNFe.ide.NFref.lista.escolhas.refECF.mod._enumeration,"rotulo-fixo":"Cód. do modelo do doc. fiscal",tipo:"seletor"},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta","opcoes"]),(0,a.createVNode)(d,{modelValue:o.escolhas.refECF.nECF,"onUpdate:modelValue":e=>o.escolhas.refECF.nECF=e,class:"col-12 col-lg-6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refECF.nECF,rotulo:"Ordem sequencial do ECF vinculado à NFe"},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:o.escolhas.refECF.nCOO,"onUpdate:modelValue":e=>o.escolhas.refECF.nCOO=e,class:"col-12 col-lg-6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refECF.nCOO,rotulo:"COO vinculado à NFe"},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])])])):(0,a.createCommentVNode)("",!0)])])),_:2},1024)])),_:2},1024)))),128))])),_:1}),e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0,color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm",onClick:o[0]||(o[0]=o=>e.adicionarLinhaNaLista(e.infNFe.ide.NFref,e.metadados.infNFe.ide.NFref.lista))})):(0,a.createCommentVNode)("",!0)])),_:1},8,["label"]),(0,a.createVNode)(g,{modelValue:r.modalReferenciada,"onUpdate:modelValue":o[2]||(o[2]=e=>r.modalReferenciada=e),maximized:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{reveal:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{class:"BarraTopo"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(n,{flat:"",round:"",dense:"",icon:"arrow_back"},null,512),[[x]]),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[Pu])),_:1}),(0,a.createVNode)(n,{color:"primary",class:"no-shadow",label:"Salvar",icon:"save",unelevated:""})])),_:1})])),_:1}),(0,a.createVNode)(V,{container:"",style:{background:"#eee"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Au,[(0,a.createElementVNode)("div",Bu,[(0,a.createVNode)(N,{class:"q-py-sm q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.metadados.infNFe.ide.NFref._titulo)+": ",1)])),_:1}),(0,a.createVNode)(p,{class:"no-border q-pa-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.infNFe.ide.NFref,((o,t)=>((0,a.openBlock)(),(0,a.createBlock)(u,{key:t,class:"border-1 q-mb-xs q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Lu,[(0,a.createElementVNode)("div",Ou,[(0,a.createVNode)(s,{modelValue:o.escolhas.valor_escolha,"onUpdate:modelValue":e=>o.escolhas.valor_escolha=e,label:"refNFe",val:"refNFe"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(s,{modelValue:o.escolhas.valor_escolha,"onUpdate:modelValue":e=>o.escolhas.valor_escolha=e,label:"refNF",val:"refNF"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(s,{modelValue:o.escolhas.valor_escolha,"onUpdate:modelValue":e=>o.escolhas.valor_escolha=e,label:"refNFP",val:"refNFP"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(s,{modelValue:o.escolhas.valor_escolha,"onUpdate:modelValue":e=>o.escolhas.valor_escolha=e,label:"refCTe",val:"refCTe"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(s,{modelValue:o.escolhas.valor_escolha,"onUpdate:modelValue":e=>o.escolhas.valor_escolha=e,label:"refECF",val:"refECF"},null,8,["modelValue","onUpdate:modelValue"])]),"refNFe"==o.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",zu,[(0,a.createElementVNode)("div",ju,[(0,a.createVNode)(d,{modelValue:o.escolhas.refNFe,"onUpdate:modelValue":e=>o.escolhas.refNFe=e,col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFe},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])])])):(0,a.createCommentVNode)("",!0),"refNF"==o.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",$u,[(0,a.createElementVNode)("div",Uu,[(0,a.createVNode)(d,{modelValue:o.escolhas.refNF.cUF,"onUpdate:modelValue":e=>o.escolhas.refNF.cUF=e,col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.cUF,opcoes:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.cUF._enumeration,tipo:"seletor"},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta","opcoes"]),(0,a.createVNode)(d,{modelValue:o.escolhas.refNF.AAMM,"onUpdate:modelValue":e=>o.escolhas.refNF.AAMM=e,col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.AAMM},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:o.escolhas.refNF.CNPJ,"onUpdate:modelValue":e=>o.escolhas.refNF.CNPJ=e,col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.CNPJ},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:o.escolhas.refNF.mod,"onUpdate:modelValue":e=>o.escolhas.refNF.mod=e,col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.mod,opcoes:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.mod._enumeration,tipo:"seletor"},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta","opcoes"]),(0,a.createVNode)(d,{modelValue:o.escolhas.refNF.serie,"onUpdate:modelValue":e=>o.escolhas.refNF.serie=e,col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.serie},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:o.escolhas.refNF.nNF,"onUpdate:modelValue":e=>o.escolhas.refNF.nNF=e,col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.nNF},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])])])):(0,a.createCommentVNode)("",!0),"refNFP"==o.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Zu,[(0,a.createElementVNode)("div",Qu,[(0,a.createVNode)(d,{modelValue:o.escolhas.refNFP.cUF,"onUpdate:modelValue":e=>o.escolhas.refNFP.cUF=e,col:"3",meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.cUF,"somente-leitura":!e.emDigitacao,opcoes:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.cUF._enumeration,tipo:"seletor"},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura","opcoes"]),(0,a.createVNode)(d,{modelValue:o.escolhas.refNFP.AAMM,"onUpdate:modelValue":e=>o.escolhas.refNFP.AAMM=e,col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.AAMM},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])]),(0,a.createElementVNode)("div",Ru,[(0,a.createElementVNode)("div",Gu,[(0,a.createVNode)(s,{modelValue:o.escolhas.refNFP.escolhas.valor_escolha,"onUpdate:modelValue":e=>o.escolhas.refNFP.escolhas.valor_escolha=e,label:"CNPJ",val:"CNPJ"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(s,{modelValue:o.escolhas.refNFP.escolhas.valor_escolha,"onUpdate:modelValue":e=>o.escolhas.refNFP.escolhas.valor_escolha=e,label:"CPF",val:"CPF"},null,8,["modelValue","onUpdate:modelValue"])]),"CNPJ"==o.escolhas.refNFP.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Hu,[(0,a.createElementVNode)("div",Ju,[(0,a.createVNode)(d,{modelValue:o.escolhas.refNFP.escolhas.CNPJ,"onUpdate:modelValue":e=>o.escolhas.refNFP.escolhas.CNPJ=e,col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.escolhas.CNPJ},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])])])):(0,a.createCommentVNode)("",!0),"CPF"==o.escolhas.refNFP.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Yu,[(0,a.createElementVNode)("div",Xu,[(0,a.createVNode)(d,{modelValue:o.escolhas.refNFP.escolhas.CPF,"onUpdate:modelValue":e=>o.escolhas.refNFP.escolhas.CPF=e,col:"3",meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.escolhas.CPF,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"])])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",Wu,[(0,a.createVNode)(d,{modelValue:o.escolhas.refNFP.IE,"onUpdate:modelValue":e=>o.escolhas.refNFP.IE=e,col:"3",meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.IE,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"]),(0,a.createVNode)(d,{modelValue:o.escolhas.refNFP.mod,"onUpdate:modelValue":e=>o.escolhas.refNFP.mod=e,col:"3",meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.mod,"somente-leitura":!e.emDigitacao,opcoes:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.mod._enumeration,tipo:"seletor"},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura","opcoes"]),(0,a.createVNode)(d,{modelValue:o.escolhas.refNFP.serie,"onUpdate:modelValue":e=>o.escolhas.refNFP.serie=e,col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.serie},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(d,{modelValue:o.escolhas.refNFP.nNF,"onUpdate:modelValue":e=>o.escolhas.refNFP.nNF=e,col:"3",meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.nNF,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"])])])):(0,a.createCommentVNode)("",!0),"refCTe"==o.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ku,[(0,a.createElementVNode)("div",ep,[(0,a.createVNode)(d,{modelValue:o.escolhas.refCTe,"onUpdate:modelValue":e=>o.escolhas.refCTe=e,col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refCTe},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])])])):(0,a.createCommentVNode)("",!0),"refECF"==o.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)("div",op,[(0,a.createElementVNode)("div",tp,[(0,a.createVNode)(d,{modelValue:o.escolhas.refECF.mod,"onUpdate:modelValue":e=>o.escolhas.refECF.mod=e,col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refECF.mod,opcoes:e.metadados.infNFe.ide.NFref.lista.escolhas.refECF.mod._enumeration,tipo:"seletor"},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta","opcoes"]),(0,a.createVNode)(d,{modelValue:o.escolhas.refECF.nECF,"onUpdate:modelValue":e=>o.escolhas.refECF.nECF=e,col:"3",meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refECF.nECF,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"]),(0,a.createVNode)(d,{modelValue:o.escolhas.refECF.nCOO,"onUpdate:modelValue":e=>o.escolhas.refECF.nCOO=e,col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.ide.NFref.lista.escolhas.refECF.nCOO},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])])])):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(n,{color:"negative",class:"bt-negative bt-negative",size:"xs",icon:"remove",outline:"",round:"",onClick:o=>e.removerLinhaDaLista(e.infNFe.ide.NFref,t)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1}),e.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0,color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm",onClick:o[1]||(o[1]=o=>e.adicionarLinhaNaLista(e.infNFe.ide.NFref,e.metadados.infNFe.ide.NFref.lista))})):(0,a.createCommentVNode)("",!0)])])])),_:1})])),_:1},8,["modelValue"])],64)}]]);Z()(ap,"components",{QList:F.Z,QItem:z.Z,QItemSection:A.Z,QRadio:ys.Z,QBtn:H.Z,QDialog:k.Z,QHeader:ie.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QLayout:ae.Z,QCardSection:q.Z}),Z()(ap,"directives",{ClosePopup:J.Z});const rp={data:()=>({}),mixins:[Xl],props:{nota:{required:!0,type:Object}},created(){$utils.gconsole.log("NFeTotais","created()")}},lp=(0,T.Z)(rp,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("nfeCampo"),n=(0,a.resolveComponent)("row"),c=(0,a.resolveComponent)("card");return(0,a.openBlock)(),(0,a.createBlock)(c,{expansion:"",icon:"attach_money",label:"Totais"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vBC,"onUpdate:modelValue":o[0]||(o[0]=o=>e.infNFe.total.ICMSTot.vBC=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vBC,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vICMS,"onUpdate:modelValue":o[1]||(o[1]=o=>e.infNFe.total.ICMSTot.vICMS=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vICMS,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vBCST,"onUpdate:modelValue":o[2]||(o[2]=o=>e.infNFe.total.ICMSTot.vBCST=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vBCST,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vST,"onUpdate:modelValue":o[3]||(o[3]=o=>e.infNFe.total.ICMSTot.vST=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vST,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"]),e.outrosNFe.visaoCompleta?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vICMSDeson,"onUpdate:modelValue":o[4]||(o[4]=o=>e.infNFe.total.ICMSTot.vICMSDeson=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vICMSDeson,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vFCPUFDest,"onUpdate:modelValue":o[5]||(o[5]=o=>e.infNFe.total.ICMSTot.vFCPUFDest=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vFCPUFDest,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vICMSUFDest,"onUpdate:modelValue":o[6]||(o[6]=o=>e.infNFe.total.ICMSTot.vICMSUFDest=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vICMSUFDest,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vICMSUFRemet,"onUpdate:modelValue":o[7]||(o[7]=o=>e.infNFe.total.ICMSTot.vICMSUFRemet=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vICMSUFRemet,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vFCP,"onUpdate:modelValue":o[8]||(o[8]=o=>e.infNFe.total.ICMSTot.vFCP=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vFCP,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vFCPST,"onUpdate:modelValue":o[9]||(o[9]=o=>e.infNFe.total.ICMSTot.vFCPST=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vFCPST,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vFCPSTRet,"onUpdate:modelValue":o[10]||(o[10]=o=>e.infNFe.total.ICMSTot.vFCPSTRet=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vFCPSTRet,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vII,"onUpdate:modelValue":o[11]||(o[11]=o=>e.infNFe.total.ICMSTot.vII=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vII,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])],64)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vProd,"onUpdate:modelValue":o[12]||(o[12]=o=>e.infNFe.total.ICMSTot.vProd=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vProd,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vFrete,"onUpdate:modelValue":o[13]||(o[13]=o=>e.infNFe.total.ICMSTot.vFrete=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vFrete,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vSeg,"onUpdate:modelValue":o[14]||(o[14]=o=>e.infNFe.total.ICMSTot.vSeg=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vSeg,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vDesc,"onUpdate:modelValue":o[15]||(o[15]=o=>e.infNFe.total.ICMSTot.vDesc=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vDesc,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vIPI,"onUpdate:modelValue":o[16]||(o[16]=o=>e.infNFe.total.ICMSTot.vIPI=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vIPI,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:e.infNFe.total.ICMSTot.vOutro,"onUpdate:modelValue":o[17]||(o[17]=o=>e.infNFe.total.ICMSTot.vOutro=o),col:"3",meta:e.metadados.infNFe.total.ICMSTot.vOutro,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])])),_:1})])),_:1})}]]),sp={components:{nfeCrud:qs,nfeGrupoOpcional:Bs},data:()=>({}),mixins:[Xl],props:{nota:{required:!0,type:Object}},created(){$utils.gconsole.log("NFeTransporte","created()")}},np=(0,T.Z)(sp,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("nfeCampo"),n=(0,a.resolveComponent)("row"),c=(0,a.resolveComponent)("q-radio"),d=(0,a.resolveComponent)("nfeGrupoOpcional"),m=(0,a.resolveComponent)("nfeCrud"),u=(0,a.resolveComponent)("card");return(0,a.openBlock)(),(0,a.createBlock)(u,{expansion:"",icon:"airplanemode_active",label:e.metadados.infNFe.transp._titulo},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:e.infNFe.transp.modFrete,"onUpdate:modelValue":o[0]||(o[0]=o=>e.infNFe.transp.modFrete=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.transp.modFrete},null,8,["modelValue","somente-leitura","meta"])])),_:1}),"9"!==e.infNFe.transp.modFrete?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(d,{modelValue:e.infNFe.transp.transporta.visivel,"onUpdate:modelValue":o[11]||(o[11]=o=>e.infNFe.transp.transporta.visivel=o),nota:t.nota,meta:e.metadados.infNFe.transp.transporta.visivel},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[e.emDigitacao?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(c,{modelValue:e.infNFe.transp.transporta.escolhas.valor_escolha,"onUpdate:modelValue":o[1]||(o[1]=o=>e.infNFe.transp.transporta.escolhas.valor_escolha=o),label:"CNPJ",val:"CNPJ"},null,8,["modelValue"]),(0,a.createVNode)(c,{modelValue:e.infNFe.transp.transporta.escolhas.valor_escolha,"onUpdate:modelValue":o[2]||(o[2]=o=>e.infNFe.transp.transporta.escolhas.valor_escolha=o),label:"CPF",val:"CPF"},null,8,["modelValue"]),(0,a.createVNode)(c,{modelValue:e.infNFe.transp.transporta.escolhas.valor_escolha,"onUpdate:modelValue":o[3]||(o[3]=o=>e.infNFe.transp.transporta.escolhas.valor_escolha=o),label:"Não se aplica",val:"Não se aplica"},null,8,["modelValue"])],64)):(0,a.createCommentVNode)("",!0),"CNPJ"==e.infNFe.transp.transporta.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,modelValue:e.infNFe.transp.transporta.escolhas.CNPJ,"onUpdate:modelValue":o[4]||(o[4]=o=>e.infNFe.transp.transporta.escolhas.CNPJ=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.transp.transporta.escolhas.CNPJ},null,8,["modelValue","somente-leitura","meta"])):(0,a.createCommentVNode)("",!0),"CPF"==e.infNFe.transp.transporta.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(s,{key:2,modelValue:e.infNFe.transp.transporta.escolhas.CPF,"onUpdate:modelValue":o[5]||(o[5]=o=>e.infNFe.transp.transporta.escolhas.CPF=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.transp.transporta.escolhas.CPF},null,8,["modelValue","somente-leitura","meta"])):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:e.infNFe.transp.transporta.xNome,"onUpdate:modelValue":o[6]||(o[6]=o=>e.infNFe.transp.transporta.xNome=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.transp.transporta.xNome},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.transp.transporta.IE,"onUpdate:modelValue":o[7]||(o[7]=o=>e.infNFe.transp.transporta.IE=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.transp.transporta.IE},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.transp.transporta.xEnder,"onUpdate:modelValue":o[8]||(o[8]=o=>e.infNFe.transp.transporta.xEnder=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.transp.transporta.xEnder},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.transp.transporta.xMun,"onUpdate:modelValue":o[9]||(o[9]=o=>e.infNFe.transp.transporta.xMun=o),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.transp.transporta.xMun},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.transp.transporta.UF,"onUpdate:modelValue":o[10]||(o[10]=o=>e.infNFe.transp.transporta.UF=o),col:"2","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.transp.transporta.UF},null,8,["modelValue","somente-leitura","meta"])])),_:1})])),_:1},8,["modelValue","nota","meta"]),(0,a.createVNode)(d,{modelValue:e.infNFe.transp.retTransp.visivel,"onUpdate:modelValue":o[18]||(o[18]=o=>e.infNFe.transp.retTransp.visivel=o),nota:t.nota,meta:e.metadados.infNFe.transp.retTransp.visivel},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:e.infNFe.transp.retTransp.vServ,"onUpdate:modelValue":o[12]||(o[12]=o=>e.infNFe.transp.retTransp.vServ=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.transp.retTransp.vServ},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.transp.retTransp.vBCRet,"onUpdate:modelValue":o[13]||(o[13]=o=>e.infNFe.transp.retTransp.vBCRet=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.transp.retTransp.vBCRet},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.transp.retTransp.pICMSRet,"onUpdate:modelValue":o[14]||(o[14]=o=>e.infNFe.transp.retTransp.pICMSRet=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.transp.retTransp.pICMSRet,suffix:"%"},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.transp.retTransp.vICMSRet,"onUpdate:modelValue":o[15]||(o[15]=o=>e.infNFe.transp.retTransp.vICMSRet=o),col:"3","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.transp.retTransp.vICMSRet},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.transp.retTransp.CFOP,"onUpdate:modelValue":o[16]||(o[16]=o=>e.infNFe.transp.retTransp.CFOP=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.transp.retTransp.CFOP},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.transp.retTransp.cMunFG,"onUpdate:modelValue":o[17]||(o[17]=o=>e.infNFe.transp.retTransp.cMunFG=o),col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.transp.retTransp.cMunFG},null,8,["modelValue","somente-leitura","meta"])])),_:1})])),_:1},8,["modelValue","nota","meta"]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:e.infNFe.transp.escolhas.valor_escolha,"onUpdate:modelValue":o[19]||(o[19]=o=>e.infNFe.transp.escolhas.valor_escolha=o),label:"veículo",val:"opcao1"},null,8,["modelValue"]),(0,a.createVNode)(c,{modelValue:e.infNFe.transp.escolhas.valor_escolha,"onUpdate:modelValue":o[20]||(o[20]=o=>e.infNFe.transp.escolhas.valor_escolha=o),label:"vagão",val:"vagao"},null,8,["modelValue"]),(0,a.createVNode)(c,{modelValue:e.infNFe.transp.escolhas.valor_escolha,"onUpdate:modelValue":o[21]||(o[21]=o=>e.infNFe.transp.escolhas.valor_escolha=o),label:"balsa",val:"balsa"},null,8,["modelValue"])])),_:1}),"opcao1"===e.infNFe.transp.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(d,{modelValue:e.infNFe.transp.escolhas.opcao1.veicTransp.visivel,"onUpdate:modelValue":o[25]||(o[25]=o=>e.infNFe.transp.escolhas.opcao1.veicTransp.visivel=o),nota:t.nota,meta:e.metadados.infNFe.transp.escolhas.opcao1.veicTransp.visivel},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:e.infNFe.transp.escolhas.opcao1.veicTransp.placa,"onUpdate:modelValue":o[22]||(o[22]=o=>e.infNFe.transp.escolhas.opcao1.veicTransp.placa=o),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.transp.escolhas.opcao1.veicTransp.placa},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.transp.escolhas.opcao1.veicTransp.UF,"onUpdate:modelValue":o[23]||(o[23]=o=>e.infNFe.transp.escolhas.opcao1.veicTransp.UF=o),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.transp.escolhas.opcao1.veicTransp.UF},null,8,["modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:e.infNFe.transp.escolhas.opcao1.veicTransp.RNTC,"onUpdate:modelValue":o[24]||(o[24]=o=>e.infNFe.transp.escolhas.opcao1.veicTransp.RNTC=o),col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.transp.escolhas.opcao1.veicTransp.RNTC},null,8,["modelValue","somente-leitura","meta"])])),_:1})])),_:1},8,["modelValue","nota","meta"]),e.infNFe.transp.escolhas.opcao1.veicTransp.visivel?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,lista:e.infNFe.transp.escolhas.opcao1.reboque,meta:e.metadados.infNFe.transp.escolhas.opcao1.reboque.lista,label:e.metadados.infNFe.transp.escolhas.opcao1.reboque._titulo+":",labelAdd:"Reboque",nota:t.nota},{default:(0,a.withCtx)((({item:o})=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:o.placa,"onUpdate:modelValue":e=>o.placa=e,col:"4",meta:e.metadados.infNFe.transp.escolhas.opcao1.reboque.lista.placa,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:o.UF,"onUpdate:modelValue":e=>o.UF=e,col:"2","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.transp.escolhas.opcao1.reboque.lista.UF},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"]),(0,a.createVNode)(s,{modelValue:o.RNTC,"onUpdate:modelValue":e=>o.RNTC=e,col:"4","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.transp.escolhas.opcao1.reboque.lista.RNTC},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])])),_:2},1024)])),_:1},8,["lista","meta","label","nota"])):(0,a.createCommentVNode)("",!0)],64)):(0,a.createCommentVNode)("",!0),"vagao"===e.infNFe.transp.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(n,{key:1},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:e.infNFe.transp.escolhas.vagao,"onUpdate:modelValue":o[26]||(o[26]=o=>e.infNFe.transp.escolhas.vagao=o),col:"12","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.transp.escolhas.vagao},null,8,["modelValue","somente-leitura","meta"])])),_:1})):(0,a.createCommentVNode)("",!0),"balsa"===e.infNFe.transp.escolhas.valor_escolha?((0,a.openBlock)(),(0,a.createBlock)(n,{key:2},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:e.infNFe.transp.escolhas.balsa,"onUpdate:modelValue":o[27]||(o[27]=o=>e.infNFe.transp.escolhas.balsa=o),col:"12","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.transp.escolhas.balsa},null,8,["modelValue","somente-leitura","meta"])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(m,{lista:e.infNFe.transp.vol,meta:e.metadados.infNFe.transp.vol.lista,label:e.metadados.infNFe.transp.vol._titulo+":",labelAdd:"Volume",nota:t.nota},{default:(0,a.withCtx)((({item:o})=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:o.qVol,"onUpdate:modelValue":e=>o.qVol=e,col:"4",meta:e.metadados.infNFe.transp.vol.lista.qVol,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:o.esp,"onUpdate:modelValue":e=>o.esp=e,col:"4",meta:e.metadados.infNFe.transp.vol.lista.esp,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:o.marca,"onUpdate:modelValue":e=>o.marca=e,col:"4",meta:e.metadados.infNFe.transp.vol.lista.marca,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:o.nVol,"onUpdate:modelValue":e=>o.nVol=e,col:"4",meta:e.metadados.infNFe.transp.vol.lista.nVol,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:o.pesoL,"onUpdate:modelValue":e=>o.pesoL=e,col:"4",meta:e.metadados.infNFe.transp.vol.lista.pesoL,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"]),(0,a.createVNode)(s,{modelValue:o.pesoB,"onUpdate:modelValue":e=>o.pesoB=e,col:"4",meta:e.metadados.infNFe.transp.vol.lista.pesoB,"somente-leitura":!e.emDigitacao},null,8,["modelValue","onUpdate:modelValue","meta","somente-leitura"])])),_:2},1024),(0,a.createVNode)(m,{lista:o.lacres,meta:e.metadados.infNFe.transp.vol.lista.lacres.lista,label:e.metadados.infNFe.transp.vol.lista.lacres._titulo+":",labelAdd:"Lacre",nota:t.nota},{default:(0,a.withCtx)((({item:o})=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:o.nLacre,"onUpdate:modelValue":e=>o.nLacre=e,col:"6","somente-leitura":!e.emDigitacao,meta:e.metadados.infNFe.transp.vol.lista.lacres.lista.nLacre},null,8,["modelValue","onUpdate:modelValue","somente-leitura","meta"])])),_:2},1024)])),_:2},1032,["lista","meta","label","nota"])])),_:1},8,["lista","meta","label","nota"])],64)):(0,a.createCommentVNode)("",!0)])),_:1},8,["label"])}]]);Z()(sp,"components",{QRadio:ys.Z});const cp={components:{badgeCopiarUid:xs.Z,nfeDadosDaNota:ws,nfeDestinatario:Is,nfeEmitente:Ss,nfeFaturamento:Os,nfeInformacoesAdicionais:pn,nfeOutrosValores:yn,nfePagamento:Mn,nfePessoasAutorizadas:Pn,nfeProdutos:fu,nfeReferenciada:ip,nfeTotais:lp,nfeTransporte:np},computed:{historico(){return this.nota.historico},opcoesContato:()=>[{rotulo:"Selecionar",valor:""},{rotulo:"contato.nome",valor:"contato.id"}]},data:()=>({ajuda:{},diversos:{modalRef:!1,openedDestinatario:!1,openedEmitente:!1,visaoCompleta:!1}}),methods:{async atualizar(){let e=this.nota.outrosNFe.textoValorAproximadosTributos;"string"==typeof this.nota.outrosNFe.observacoesNFe&&(e+=this.nota.outrosNFe.observacoesNFe),this.ajuda.dadosAdicionaisEmitente=e},downloadXml(e){Fo.gconsole.log("NFeFormulario","downloadXml()",e);try{(0,Fo.verificarErro)(!e.chNFe||!e.xmlProt,"Arquivo Xml não encontrado"),o=`${e.chNFe}-${e.situacao||""}${1===e.nSeqEvento?"":e.nSeqEvento}-${e.tipo||""}.xml`,t=e.xmlProt,(a=document.createElement("a")).setAttribute("href","data:attachment/text;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",o),a.click()}catch(e){this.$q.notifyError("Erro no download",e)}var o,t,a}},mixins:[Xl],props:{nota:{required:!0,type:Object}},created(){Fo.gconsole.log("NFeFormulario","created()"),this.atualizar()},mounted(){Fo.gconsole.log("NFeFormulario","mounted()")}},dp=(0,T.Z)(cp,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toggle"),n=(0,a.resolveComponent)("column"),c=(0,a.resolveComponent)("badgeCopiarUid"),d=(0,a.resolveComponent)("row"),m=(0,a.resolveComponent)("campo"),u=(0,a.resolveComponent)("q-tooltip"),p=(0,a.resolveComponent)("q-btn"),h=(0,a.resolveComponent)("card"),C=(0,a.resolveComponent)("nfeEmitente"),v=(0,a.resolveComponent)("nfeDestinatario"),f=(0,a.resolveComponent)("nfeDadosDaNota"),N=(0,a.resolveComponent)("nfeProdutos"),V=(0,a.resolveComponent)("nfeFaturamento"),g=(0,a.resolveComponent)("nfePagamento"),x=(0,a.resolveComponent)("nfeTotais"),b=(0,a.resolveComponent)("nfeCampo"),w=(0,a.resolveComponent)("nfeTransporte"),_=(0,a.resolveComponent)("nfePessoasAutorizadas"),y=(0,a.resolveComponent)("nfeReferenciada"),I=(0,a.resolveComponent)("nfeOutrosValores"),E=(0,a.resolveComponent)("nfeInformacoesAdicionais");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{col:"6"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:e.outrosNFe.visaoCompleta,"onUpdate:modelValue":o[0]||(o[0]=o=>e.outrosNFe.visaoCompleta=o),label:"Visão Completa"},null,8,["modelValue"]),(0,a.createVNode)(s,{modelValue:e.outrosNFe.calculaTotais,"onUpdate:modelValue":[o[1]||(o[1]=o=>e.outrosNFe.calculaTotais=o),e.calcularTotais],label:"Calcula Totais"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,a.createVNode)(n,{col:"6",class:"text-right"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{id:t.nota.id,numero:e.infNFe.ide.nNF,cor:e.badgeCor},null,8,["id","numero","cor"])])),_:1})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[e.emDigitacao?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createElementVNode)("div",ns,[cs,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.outrosNFe.situacao),1)]),(0,a.createElementVNode)("div",ds,[ms,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.outrosNFe.chNFe),1)]),e.outrosNFe.mensagem?((0,a.openBlock)(),(0,a.createElementBlock)("div",us,[ps,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.outrosNFe.mensagem),1)])):(0,a.createCommentVNode)("",!0)],64))])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[e.outrosNFe.protNFe.xMotivo&&"Sucesso"!==e.outrosNFe.status?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(m,{modelValue:e.outrosNFe.protNFe.xMotivo,col:"10","somente-leitura":"",rotulo:"Motivo Sefaz"},null,8,["modelValue"]),(0,a.createVNode)(m,{modelValue:e.outrosNFe.protNFe.cStat,col:"2","somente-leitura":"",rotulo:"Código"},null,8,["modelValue"])],64)):(0,a.createCommentVNode)("",!0)])),_:1}),l.historico.length?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-h6"},{default:(0,a.withCtx)((()=>[hs])),_:1})])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.historico,((o,t)=>((0,a.openBlock)(),(0,a.createBlock)(d,{key:t,class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{col:"0"},{default:(0,a.withCtx)((()=>[Cs,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.$filters.dataHora(o.dhRecbto)),1)])),_:2},1024),(0,a.createVNode)(n,{col:"0"},{default:(0,a.withCtx)((()=>[vs,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(o.situacao),1)])),_:2},1024),(0,a.createVNode)(n,{col:"0"},{default:(0,a.withCtx)((()=>[fs,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(o.nProt),1)])),_:2},1024),(0,a.createVNode)(p,{class:"col-auto",color:"tertiary",size:"md",icon:"cloud_download",round:"",flat:"",onClick:e=>l.downloadXml(o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[Ns])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)))),128))],64)):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{col:"6"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{nota:t.nota},null,8,["nota"])])),_:1}),(0,a.createVNode)(n,{col:"6"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{nota:t.nota},null,8,["nota"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(f,{nota:t.nota},null,8,["nota"]),(0,a.createVNode)(N,{nota:t.nota},null,8,["nota"]),(0,a.createVNode)(V,{nota:t.nota},null,8,["nota"]),(0,a.createVNode)(g,{nota:t.nota},null,8,["nota"]),(0,a.createVNode)(x,{nota:t.nota},null,8,["nota"]),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[e.infNFe.infAdic.visivel?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,class:"q-mb-lg"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:e.outrosNFe.dadosAdicionaisEmitente,"onUpdate:modelValue":o[2]||(o[2]=o=>e.outrosNFe.dadosAdicionaisEmitente=o),col:"6",maxlength:"5000",rotulo:"Informações complementares do Emitente",tipo:"textoArea",rows:"5","somente-leitura":!e.emDigitacao,ajuda:r.ajuda.dadosAdicionaisEmitente},null,8,["modelValue","somente-leitura","ajuda"]),(0,a.createVNode)(m,{modelValue:e.outrosNFe.dadosAdicionais,"onUpdate:modelValue":o[3]||(o[3]=o=>e.outrosNFe.dadosAdicionais=o),col:"6",maxlength:"5000",rotulo:e.metadados.infNFe.infAdic.infCpl._titulo,tipo:"textoArea",rows:"5","somente-leitura":!e.emDigitacao},null,8,["modelValue","rotulo","somente-leitura"])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{modelValue:e.infNFe.total.ICMSTot.vNF,"onUpdate:modelValue":o[4]||(o[4]=o=>e.infNFe.total.ICMSTot.vNF=o),col:"12",meta:e.metadados.infNFe.total.ICMSTot.vNF,"somente-leitura":e.alteraTotais},null,8,["modelValue","meta","somente-leitura"])])),_:1})])),_:1}),e.outrosNFe.visaoCompleta?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(w,{nota:t.nota},null,8,["nota"]),(0,a.createVNode)(_,{nota:t.nota},null,8,["nota"]),(0,a.createVNode)(y,{nota:t.nota},null,8,["nota"]),(0,a.createVNode)(I,{nota:t.nota},null,8,["nota"]),(0,a.createVNode)(E,{nota:t.nota},null,8,["nota"])],64)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(d,{class:"justify-around q-my-lg"},{default:(0,a.withCtx)((()=>[t.nota.dataHoraCriacao?((0,a.openBlock)(),(0,a.createElementBlock)("small",Vs,"Data de criação: "+(0,a.toDisplayString)(e.$filters.dataHora(t.nota.dataHoraCriacao)),1)):(0,a.createCommentVNode)("",!0),t.nota.dataHoraAlteracao?((0,a.openBlock)(),(0,a.createElementBlock)("small",gs,"Última alteração: "+(0,a.toDisplayString)(e.$filters.dataHora(t.nota.dataHoraAlteracao)),1)):(0,a.createCommentVNode)("",!0)])),_:1})],64)}]]);Z()(cp,"components",{QToggle:il.Z,QBtn:H.Z,QTooltip:Ao.Z});var mp=t(38075),up=t(47592),pp=t(26504),hp=t(50162),Cp=t(64477),vp=t(9511),fp=t(44465);const Np={tipo:"NFe",serie:"nfe.padrao.serie",homologacao:"nfe.homologacao",usadesconto:"nfe.usadesconto",gerarAutorizacaoDownload:mp.Z,gerarConfiguracaoImposto:Gn.Z,gerarNumeroNFe:up.Z,obterAliquotasTributosIbpt:async function(e,o){const t=await $erp().nfeIbpt.where("codigo").equals(Number(o.prod.NCM)).toArray();if(this.verificarAlerta(!t||0===t.length,`Não encontrado alíquotas para cálculo do valor aproximado de tributos do NCM: ${o.prod.NCM}. Atualize sua tabela IBPT.`,e))return;const a=t.filter((o=>o.idContato===e.empresa.id)),i=(a.length?a:t).reduce(((e,o)=>!e||e.vigenciaFim<o.vigenciaFim?o:e),null);this.verificarAlerta(i.vigenciaFim<$utils.dataAtual(),`Informações vencidas para o cálculo do valor aproximado de tributos do NCM: ${o.prod.NCM}. Atualize sua tabela IBPT.`,e),o.imposto.noXml_pTribImp=Number(i.importadosFederal||0),o.imposto.noXml_pTribFed=Number(i.nacionalFederal||0),o.imposto.noXml_pTribEst=Number(i.estadual||0),o.imposto.noXml_pTribMun=Number(i.municipal||0)},obterConfiguracaoImposto:async function(e){Fo.gconsole.log("gerarJsonBaseD","obterConfiguracaoImposto");const o=`Produto '${e.documentoItem.descricaoItem||""}'`;(0,Fo.verificarErro)(!e.item.ncm,`${o} sem cadastro de NCM`);const t=await(0,Mo.X)()._ncm.where("ncm").equals(e.item.ncm).first();let a;(0,Fo.verificarErro)(!t,`${o} com NCM '${e.item.ncm||""}' inválido`),e.outrosNFe.cfop?(a=await(0,Mo.X)().cfop.where({cfop:Number(e.outrosNFe.cfop)}).first(),(0,Fo.verificarErro)(!a,"CFOP inválido")):((0,Fo.verificarErro)(!e.documentoItem.idCfop,`${o} sem CFOP definido`),a=await(0,Mo.X)().cfop.get(e.documentoItem.idCfop),(0,Fo.verificarErro)(!a,`${o} com CFOP inválido`)),Fo.gconsole.log("gerarJsonBaseD",`dadosNcm.id: ${t.id} dadosCfop.id: ${a.id} dados.empresa.id: ${e.empresa.id}`);const i=(await(0,Mo.X)().impostoParametro.where({impParamTipoCod:2}).toArray()).find((o=>Number(o.numero)===Number(e.item.codigoOrigem))),r=await(0,Mo.X)().impostoConfiguracao.where("idNcm").equals(t.id).filter((o=>o.idCfop===a.id&&o.idEmitente===e.empresa.id&&o.ufOrigem===e.empresa.enderecoPrincipal.uf&&o.ufDestino===e.infNFe.dest.enderDest.UF&&(!i||o.idOrigem===i.id))).first();Fo.gconsole.log("gerarJsonBaseD","impostoConfiguracao",r);const l=`Verifique a configuração do imposto para NCM: ${e.item.ncm||""}, CFOP: ${a.cfop||""}, CNPJ: ${e.empresa.numeroDocumentoNacional||""}, UF origem: ${e.empresa.enderecoPrincipal.uf||""}, UF destino: ${e.infNFe.dest.enderDest.UF||""}.`;(0,Fo.verificarErro)(!r,`${o} sem configuração de imposto. ${l}`);const s=e.det.prod,n=e.det.imposto;try{if(s.CFOP=(a.cfop||0).toString(),n.noXml_orig=await this.obterImpostoParametro(e,r.idOrigem),n.noXml_CST=n.noXml_CSOSN=await this.obterImpostoParametro(e,r.idCst),n.noXml_pICMS=r.aliqIcmsUFOrigem||r.aliqIcms||0,n.noXml_pRedBC=r.percRedBcIcms||0,n.noXml_pFCP=r.aliqFcp||0,n.noXml_CSTPis=await this.obterImpostoParametro(e,r.idTipoTribPis),n.noXml_pPIS=r.aliqPis||0,n.noXml_CSTCofins=await this.obterImpostoParametro(e,r.idTipoTribCofins),n.noXml_pCOFINS=r.aliqCofins||0,r.idCest){const o=await this.obterImpostoParametro(e,r.idCest);o&&(s.opcional.visivel=!0,s.opcional.CEST=(0,Fo.filtrarDigitos)(o))}}catch(e){console.error(e),(0,Fo.verificarErro)(!0,`${o} com erro na configuração de imposto. ${l}`)}},obterConfiguracaoImpostoV2:pp.Z,obterDestinatario:async function(e){e.destinatario={};const o=e.documentoFatura.idContato;o&&(e.destinatario=await(0,Mo.X)().contato.get(o),e.destinatario&&(e.destinatario.enderecos=await(0,Mo.X)().contatoEndereco.where("idContato").equals(o).toArray(),e.destinatario.enderecoPrincipal=e.destinatario.enderecos.find((e=>"Principal"===e.grupo)),e.destinatario.enderecoPrincipal||(e.destinatario.enderecoPrincipal=e.destinatario.enderecos[0]||{}),e.destinatario.telefones=await(0,Mo.X)().contatoTelefone.where("idContato").equals(o).toArray(),e.destinatario.telefonePrincipal=e.destinatario.telefones.find((e=>"Principal"===e.grupo)),e.destinatario.telefonePrincipal||(e.destinatario.telefonePrincipal=e.destinatario.telefones[0]||{}),Fo.gconsole.log("gerarJsonNFeD","dados.destinatario",e.destinatario)));const t=e.infNFe.dest;t.visivel=!0;const a=(0,Fo.filtrarDigitos)(e.destinatario.numeroDocumentoNacional);if(11===a.length?(t.escolhas.valor_escolha="CPF",t.escolhas.CPF=a,t.indIEDest="9"):14===a.length?(t.escolhas.valor_escolha="CNPJ",t.escolhas.CNPJ=a,t.indIEDest="9"):(0,Fo.verificarErro)(!0,"Destinatario com CPF/CNPJ inválido"),"CNPJ"===t.escolhas.valor_escolha&&e.destinatario.numeroDocumentoEstadual&&("ISENTO"===e.destinatario.numeroDocumentoEstadual.toLocaleUpperCase().trim()?(t.IE="",t.indIEDest="2"):(t.IE=(0,Fo.filtrarDigitos)(e.destinatario.numeroDocumentoEstadual),t.indIEDest="1")),t.xNome=(0,Fo.removerCaracteresEspeciais)(e.destinatario.nome).substr(0,60),"NFe"===this.tipo&&e.destinatario.observacaoNFE){let o=(0,Fo.removerCaracteresEspeciais)(e.destinatario.observacaoNFE);o=`[${o}]`,e.outrosNFe.dadosAdicionaisDestinatario=(0,Fo.removerCaracteresEspeciais)(o)}e.destinatario.enderecoPrincipal.uf&&e.destinatario.enderecoPrincipal.ibgeCod&&(t.enderDest.visivel=!0,t.email=(e.destinatario.emailNfe||e.destinatario.email||"").trim(),t.enderDest.fone=(0,Fo.filtrarDigitos)(e.destinatario.telefonePrincipal.telefone||""),t.enderDest.xLgr=(0,Fo.removerCaracteresEspeciais)(e.destinatario.enderecoPrincipal.logradouro).substr(0,60),t.enderDest.nro=(e.destinatario.enderecoPrincipal.numero||"").trim(),t.enderDest.xCpl=(0,Fo.removerCaracteresEspeciais)(e.destinatario.enderecoPrincipal.complemento).substr(0,60),t.enderDest.xBairro=(0,Fo.removerCaracteresEspeciais)(e.destinatario.enderecoPrincipal.bairro).substr(0,60),t.enderDest.cMun=String(e.destinatario.enderecoPrincipal.ibgeCod||"").trim(),t.enderDest.xMun=(0,Fo.removerCaracteresEspeciais)(e.destinatario.enderecoPrincipal.municipio).substr(0,60),t.enderDest.UF=(e.destinatario.enderecoPrincipal.uf||"").trim(),t.enderDest.CEP=(0,Fo.filtrarDigitos)(e.destinatario.enderecoPrincipal.cep||""),t.enderDest.cPais="1058",t.enderDest.xPais=(e.destinatario.enderecoPrincipal.pais||"").trim()||"Brasil")},obterDuplicatas:async function(e){if(Fo.gconsole.log("gerarJsonNFeD","obterDuplicatas"),"Remessa"===e.outrosNFe.operacao||e.vendaSemPagamento||!e.documentosPagamento||0===e.documentosPagamento.length)return void(e.infNFe.cobr.visivel=!1);if(e.infNFe.cobr.visivel=!0,e.infNFe.cobr.fat.visivel=!0,e.infNFe.cobr.fat.nFat=String(e.documentoFatura.numero),e.infNFe.cobr.fat.vDesc=e.infNFe.total.ICMSTot.vDesc,e.infNFe.cobr.fat.vLiq=(0,Fo.arredondar)((0,Fo.somar)(e.documentosPagamento,"valor")),e.infNFe.cobr.fat.vOrig=e.infNFe.cobr.fat.vLiq+e.infNFe.cobr.fat.vDesc,"4"===e.infNFe.ide.finNFe)return;const o=(0,Fo.dataAtual)();e.documentosPagamento=e.documentosPagamento.sort(((e,t)=>(e.dataVencimento||o).localeCompare(t.dataVencimento||o)));const t=[];let a=1;for(const o of e.documentosPagamento){const e=Rl.Z.executa(Gl.Z.infNFe.cobr.dup.lista,{},this.tipo);e.nDup=String(a).padStart(3,"0"),e.dVenc=os.Z.formatarDataNFeSemHoras(o.dataVencimento||(0,Fo.dataAtual)())+"T00:00:00",e.vDup=(0,Fo.arredondar)(o.valor),a++,t.push(e)}e.infNFe.cobr.dup=t},obterEmitente:async function(e){Fo.gconsole.log("gerarJsonBaseD","obterEmpresa");const o=e.documentoFatura.idEmpresa;(0,Fo.verificarErro)(!o,"Fatura sem empresa emitente"),e.empresa=await(0,Mo.X)().contato.get(o),(0,Fo.verificarErro)(!e.empresa,"Não foi possível carregar a empresa emitente"),e.outrosNFe.idContatoEmitente=o,"NFCe"===this.tipo&&(e.empresaPlat=await Mo.s.empresa.where({idContato:o}).first(),e.empresaPlat||(e.empresaPlat=await Mo.s.empresa.where({codigoContato:e.empresa.codigoContato}).first()),(0,Fo.verificarErro)(!e.empresaPlat,"Não foi possível carregar a empresa emitente"),"1"===e.infNFe.ide.tpAmb?((0,Fo.verificarErro)(!e.empresaPlat.hashCSCProducao,"Empresa emitente sem hashCSC de produção cadastrado"),(0,Fo.verificarErro)(!e.empresaPlat.tokenCSCProducao,"Empresa emitente sem tokenCSC de produção cadastrado"),e.empresaPlat.hashCSC=e.empresaPlat.hashCSCProducao,e.empresaPlat.tokenCSC=e.empresaPlat.tokenCSCProducao):((0,Fo.verificarErro)(!e.empresaPlat.hashCSCHomologacao,"Empresa emitente sem hashCSC de homologação cadastrado"),(0,Fo.verificarErro)(!e.empresaPlat.tokenCSCHomologacao,"Empresa emitente sem tokenCSC de homologação cadastrado"),e.empresaPlat.hashCSC=e.empresaPlat.hashCSCHomologacao,e.empresaPlat.tokenCSC=e.empresaPlat.tokenCSCHomologacao)),e.empresa.enderecos=await(0,Mo.X)().contatoEndereco.where("idContato").equals(o).toArray(),(0,Fo.verificarErro)(!e.empresa.enderecos||0===e.empresa.enderecos.length,"Não foi possível carregar o endereço da empresa emitente"),e.empresa.enderecoPrincipal=e.empresa.enderecos.find((e=>"Principal"===e.grupo)),e.empresa.enderecoPrincipal||(e.empresa.enderecoPrincipal=e.empresa.enderecos[0]||{}),e.empresa.telefones=await(0,Mo.X)().contatoTelefone.where("idContato").equals(o).toArray()||[],e.empresa.telefonePrincipal=e.empresa.telefones.find((e=>"Principal"===e.grupo)),e.empresa.telefonePrincipal||(e.empresa.telefonePrincipal=e.empresa.telefones[0]||{}),Fo.gconsole.log("gerarJsonBaseD","dados.empresa",e.empresa),(0,Fo.verificarErro)(!e.empresa.numeroDocumentoNacional,"Empresa emitente sem CNPJ cadastrado"),(0,Fo.verificarErro)(!e.empresa.numeroDocumentoEstadual,"Empresa emitente sem Inscrição Estadual cadastrado"),(0,Fo.verificarErro)(!e.empresa.nome,"Empresa emitente sem Razão Social (nome) cadastrado"),(0,Fo.verificarErro)(!e.empresa.enderecoPrincipal.uf,"Empresa emitente sem UF cadastrado"),(0,Fo.verificarErro)(!e.empresa.enderecoPrincipal.ibgeCod,"Empresa emitente sem código do município cadastrado"),(0,Fo.verificarErro)(!e.empresa.regime,"Empresa emitente sem regime cadastrado");const t=e.infNFe.emit;if(t.escolhas.CNPJ=(0,Fo.filtrarDigitos)(e.empresa.numeroDocumentoNacional),t.IE=(0,Fo.filtrarDigitos)(e.empresa.numeroDocumentoEstadual),t.CRT="SimplesNacional"===e.empresa.regime?"1":"3",t.xNome=(0,Fo.removerCaracteresEspeciais)(e.empresa.nome).substr(0,60),t.xFant=(0,Fo.removerCaracteresEspeciais)(e.empresa.apelido).substr(0,60),t.email=(e.empresa.email||"").trim(),t.enderEmit.fone=(0,Fo.filtrarDigitos)(e.empresa.telefonePrincipal.telefone),t.enderEmit.xLgr=(0,Fo.removerCaracteresEspeciais)(e.empresa.enderecoPrincipal.logradouro).substr(0,60),t.enderEmit.nro=(e.empresa.enderecoPrincipal.numero||"SN").trim(),t.enderEmit.xCpl=(0,Fo.removerCaracteresEspeciais)(e.empresa.enderecoPrincipal.complemento).substr(0,60),t.enderEmit.xBairro=(0,Fo.removerCaracteresEspeciais)(e.empresa.enderecoPrincipal.bairro).substr(0,60),t.enderEmit.cMun=String(e.empresa.enderecoPrincipal.ibgeCod||"").trim(),t.enderEmit.xMun=(0,Fo.removerCaracteresEspeciais)(e.empresa.enderecoPrincipal.municipio).substr(0,60),t.enderEmit.UF=(e.empresa.enderecoPrincipal.uf||"").trim(),t.enderEmit.CEP=(0,Fo.filtrarDigitos)(e.empresa.enderecoPrincipal.cep),t.enderEmit.cPais="1058",t.enderEmit.xPais=(0,Fo.removerCaracteresEspeciais)(e.empresa.enderecoPrincipal.pais||"Brasil"),e.infNFe.ide.cMunFG=t.enderEmit.cMun,e.infNFe.ide.cUF=String(Fo.mapearEstadoCodigo[t.enderEmit.UF]),"NFe"===this.tipo){const t=await(0,Mo.X)().aliquotaSimples.where({idEmpresa:o}).sortBy("dataInicio"),a=new Date((new Date).toDateString());e.outrosNFe.aliquotaSimples=0;for(const o of t)new Date(new Date(o.dataInicio).toDateString())<=a&&(!o.dataFim||new Date(new Date(o.dataFim))>=a)&&(e.outrosNFe.aliquotaSimples=o.valor);if(e.outrosNFe.dadosAdicionaisEmitente="",e.empresa.observacaoNFE){let o=(0,Fo.removerCaracteresEspeciais)(e.empresa.observacaoNFE);o=`[${o}]`,e.outrosNFe.dadosAdicionaisEmitente+=o}e.outrosNFe.dadosAdicionaisDestinatario&&(e.outrosNFe.dadosAdicionaisEmitente&&(e.outrosNFe.dadosAdicionaisEmitente+=" "),e.outrosNFe.dadosAdicionaisEmitente+=e.outrosNFe.dadosAdicionaisDestinatario),e.outrosNFe.ordemCompra&&(e.outrosNFe.dadosAdicionaisEmitente&&(e.outrosNFe.dadosAdicionaisEmitente+=" "),e.outrosNFe.dadosAdicionaisEmitente+=e.outrosNFe.ordemCompra),e.outrosNFe.dadosAdicionaisEnderecoEntrega&&(e.outrosNFe.dadosAdicionaisEmitente&&(e.outrosNFe.dadosAdicionaisEmitente+=" "),e.outrosNFe.dadosAdicionaisEmitente+=e.outrosNFe.dadosAdicionaisEnderecoEntrega)}},obterFatura:hp.Z,obterOrdemCompra:function(e={}){let o=[];"Venda"===e.documentoFatura?.tipo&&e.documentoFatura.numeroOrdemCompra&&o.push(e.documentoFatura.numeroOrdemCompra);for(const t of e.documentosVendas||[])t.numeroOrdemCompra&&o.push(t.numeroOrdemCompra);o=new Set(o),o=Array.from(o),o.length&&(e.outrosNFe.ordemCompra=`[Ordem de compra: ${o.join(", ")}]`)},obterObservacoesFigurasFiscais:function(e={}){const o=[];for(const t in e.outrosNFe?.observacoesNFe||{}){const a=(e.infNFe.det||[]).find((e=>e.prod.noXml_id===t));if(!a)continue;const i=e.outrosNFe.observacoesNFe[t];let r=o.find((e=>e.msg===i));r||(r={msg:i},r.aliquotaSimples=e.outrosNFe?.aliquotaSimples||0,r.valorSimples=0,o.push(r)),r.valorSimples+=a.imposto.noXml_vICMS||0}e.outrosNFe.observacoesNFe="";for(const t of o){e.outrosNFe.observacoesNFe&&(e.outrosNFe.observacoesNFe+=" ");const o=t.valorSimples*t.aliquotaSimples/100;e.outrosNFe.observacoesNFe+="["+t.msg.replace("[AliquotaSimples]",$utils.formatarNumero(t.aliquotaSimples,2)).replace("[ValorSimples]",$utils.formatarNumero(o,2))+"]"}},obterValoresAproximadosTributos:function(e={}){const o=e.infNFe.total.ICMSTot.vProd-e.infNFe.total.ICMSTot.vDesc;e.outrosNFe.textoValorAproximadosTributos="[Valores aproximados dos tributos: R$ "+$utils.formatarNumero(e.infNFe.total.ICMSTot.vTotTrib,2)+" ("+$utils.formatarNumero(100*e.infNFe.total.ICMSTot.vTotTrib/o,2)+"%)  Federais: R$ "+$utils.formatarNumero(e.infNFe.total.ICMSTot.noXml_vTribFed,2)+" ("+$utils.formatarNumero(100*e.infNFe.total.ICMSTot.noXml_vTribFed/o,2)+"%)  Estaduais: R$ "+$utils.formatarNumero(e.infNFe.total.ICMSTot.noXml_vTribEst,2)+" ("+$utils.formatarNumero(100*e.infNFe.total.ICMSTot.noXml_vTribEst/o,2)+"%)  Municipais: R$ "+$utils.formatarNumero(e.infNFe.total.ICMSTot.noXml_vTribMun,2)+" ("+$utils.formatarNumero(100*e.infNFe.total.ICMSTot.noXml_vTribMun/o,2)+"%) Fonte: IBPT.] "},obterFormasPagamento:Cp.Z,obterFrete:vp.Z,obterImpostoParametro:async function(e,o){(0,Fo.verificarErro)(!o,"Configuração de imposto sem informação completa");let t=e.cache[o];if(!t){const a=await(0,Mo.X)().impostoParametro.get(o);t=a?a.numero.trim():void 0,e.cache[o]=t}return(0,Fo.verificarErro)(!t,"Configuração de imposto inválida"),t},obterItens:fp.Z,obterMeioPagamento:async function(e,o){Fo.gconsole.log("gerarJsonBaseD","obterMeioPagamento",o),(0,Fo.verificarErro)(!o,"Forma de pagamento inválida");let t=e.cache[o];if(t)return t;const a=await(0,Mo.X)().formaPagamento.get(o);(0,Fo.verificarErro)(!a||!a.descricao,"Não foi possível carregar a forma de pagamento");const i=a.descricao.toLowerCase();return t=i.includes("dinheiro")?"01":i.includes("débito")?"04":i.includes("crédito de clientes")?"90":i.includes("crédito")?"03":i.includes("cartão")&&1===Number(a.parcelamentoMaximo||0)?"04":i.includes("cartão")&&Number(a.parcelamentoMaximo||0)>1?"03":"99",e.cache[o]=t,t},obterTransportadora:async function(e={}){e.transportadora=null;let o=e.documentoFatura?.descricaoContatoEnderecoEntrega,t=e.documentoFatura?.descricaoContatoEndereco;if(!o){const a=(e.documentosVenda||[]).find((e=>e.descricaoContatoEndereco&&e.descricaoContatoEnderecoEntrega));o=a?.descricaoContatoEnderecoEntrega,t=a?.descricaoContatoEndereco}o===t&&(o=""),o&&(e.outrosNFe.dadosAdicionaisEnderecoEntrega=(0,Fo.removerCaracteresEspeciais)("Endereço de entrega: "+o.trim()),e.outrosNFe.dadosAdicionaisEnderecoEntrega=`[${e.outrosNFe.dadosAdicionaisEnderecoEntrega}]`);const a=(e.documentoFatura||{}).idContatoTransportadora||((e.documentosVendas||[])[0]||{}).idContatoTransportadora||e.destinatario?.idContatoTransportadora;if(a&&(e.transportadora=await(0,Mo.X)().contato.get(a),e.transportadora&&(e.transportadora.enderecos=await(0,Mo.X)().contatoEndereco.where({idContato:a}).toArray(),e.transportadora.enderecoPrincipal=e.transportadora.enderecos.find((e=>"Principal"===e.grupo)),e.transportadora.enderecoPrincipal||(e.transportadora.enderecoPrincipal=e.transportadora.enderecos[0]||{}))),!e.transportadora)return;"9"===e.infNFe.transp.modFrete&&(e.infNFe.transp.modFrete="0");const i=e.infNFe.transp.transporta;i.visivel=!0;const r=(0,Fo.filtrarDigitos)(e.transportadora.numeroDocumentoNacional);11===r.length?(i.escolhas.valor_escolha="CPF",i.escolhas.CPF=r):14===r.length?(i.escolhas.valor_escolha="CNPJ",i.escolhas.CNPJ=r):(0,Fo.verificarErro)(!0,"Transportadora com CPF/CNPJ inválido"),"CNPJ"===i.escolhas.valor_escolha&&e.transportadora.numeroDocumentoEstadual&&("ISENTO"===e.transportadora.numeroDocumentoEstadual.toLocaleUpperCase().trim()?i.IE="":i.IE=(0,Fo.filtrarDigitos)(e.transportadora.numeroDocumentoEstadual)),i.xNome=(0,Fo.removerCaracteresEspeciais)(e.transportadora.nome),e.transportadora.enderecoPrincipal.uf&&(i.xEnder=(0,Fo.removerCaracteresEspeciais)(e.transportadora.enderecoPrincipal.logradouro)+", "+(e.transportadora.enderecoPrincipal.numero||"").trim(),e.transportadora.enderecoPrincipal.complemento&&(i.xEnder+=" - "+(0,Fo.removerCaracteresEspeciais)(e.transportadora.enderecoPrincipal.complemento)),i.xEnder=i.xEnder.substr(0,60),i.xMun=(0,Fo.removerCaracteresEspeciais)(e.transportadora.enderecoPrincipal.municipio),i.UF=(e.transportadora.enderecoPrincipal.uf||"").trim())},verificarAlerta:function(e,o,t){return e&&(t.alertas||(t.alertas=[]),t.alertas.push(o),console.warn(o)),e},async gerarJson(e,o,t,a){const i=(0,Fo.logarIni)("gerarJsonNFe",e);try{(0,Fo.verificarErro)(!e,"Fatura não fornecida");const r=os.Z.iniciarCampos({tipo:this.tipo,idDocumento:e,totalDesconto:0,totalDevolucao:0,totalProdutos:0,totalServicos:0,alertas:[],erros:[],historico:[],cache:{},outrosNFe:{},infNFe:Rl.Z.executa(Gl.Z.infNFe,{},this.tipo)},"gerarNFeFatura");Fo.gconsole.log("gerarJsonNFeD","iniciarCampos",r),await this.acertoInicial(r,o,t,a),await this.obterFatura(r),this.obterOrdemCompra(r),await this.obterTransportadora(r),await this.obterDestinatario(r),await this.obterEmitente(r);const l=[];if(await this.obterItens(r,l),l.length)throw $utils.emitter.emit("confrontarFigurasFiscais",l),new Error("Figura fiscal não encontrada");return"4"===r.infNFe.ide.finNFe||"Remessa"===r.outrosNFe.operacao?await this.gerarSemPagamento(r):await this.obterFormasPagamento(r),await this.obterFrete(r),await this.obterDuplicatas(r),await this.gerarNumeroNFe(r.infNFe,r.outrosNFe.idContatoEmitente),await this.gerarAutorizacaoDownload(r.infNFe,r.outrosNFe.idContatoEmitente),Hl.Z.calculaTotais(r.infNFe,r.outrosNFe,Gl.Z),this.obterValoresAproximadosTributos(r),this.obterObservacoesFigurasFiscais(r),os.Z.acertarDadosNFe(r.infNFe,r.outrosNFe,this.tipo),r}finally{(0,Fo.logarFim)(i,1)}},async acertoInicial(e,o,t,a){if(Fo.gconsole.log("gerarJsonNFeD","acertoInicial",o,t,a),"NFe"===this.tipo){let o=(await async function(e={}){const{idDocumento:o}=e,t=await $erp().documento.get(o);let a=[];"Venda"===t?.tipo&&a.push(t),"Fatura"===t?.tipo&&(a=await $db.documento.le({idFatura:t.id}));for(const e of a){const o=Number(e?.codigoDocumentoOperacao);if(Number.isInteger(o)&&o>0)return(await $erp().documentoOperacao.where({codigoDocumentoOperacao:o}).toArray())[0]}}(e))?.finalidade;~[99,100].indexOf(o)||(o=await ue.db.configuracoes.leValorNumerico("nfe.padrao.consumidorfinal")),e.infNFe.ide.indFinal=100===o?"1":99===o?"0":String(o)}e.infNFe.ide.tpNF=0===o?"0":"1",e.infNFe.ide.finNFe=0===o?"4":"1",e.infNFe.ide.tpAmb=1===await ue.db.configuracoes.leValorNumerico(this.homologacao)?"2":"1",e.infNFe.ide.mod="NFe"===this.tipo?"55":"65",e.infNFe.ide.tpImp="NFe"===this.tipo?"1":"4",e.infNFe.ide.dhEmi=os.Z.formatarDataNFe(new Date),e.outrosNFe.operacao=t,e.outrosNFe.cfop=a},async gerarSemPagamento(e){Fo.gconsole.log("gerarJsonNFeD","gerarSemPagamento");const o=Rl.Z.executa(Gl.Z.infNFe.pag.detPag.lista,{},this.tipo);o.tPag="90",o.vPag=0,e.infNFe.pag.detPag=[o]}};var Vp=t(18295);const gp={components:{nfeCancelamento:rs,nfeCartaCorrecao:ss,nfeFormulario:dp},computed:{emDigitacao(){return"Em digitação"===this.nota.situacao},metadados:()=>Gl.Z},data:()=>({carregando:!0,foiAlterado:!1,modalNFe:!1,params:{},tipo:"NFe",nota:{id:"",historico:[],infNFe:{},outrosNFe:{}}}),emits:["fechar"],methods:{gerarAutorizacaoDownload:mp.Z,fecharNFe(){$utils.gconsole.log("NFePrincipal","fecharNFe()",this.foiAlterado),this.modalNFe=!1,this.nota={},this.$emit("fechar",this.foiAlterado)},async salvarNFeNucleo(e){e||(e={...this.nota}),e.infNFe=Wl.Z.executa(Gl.Z.infNFe,e.infNFe),e=os.Z.prepararDocumentoFiscalEletronico(e),await $db.documentoFiscalEletronico.grava({atual:e,original:this.notaOriginal}),this.notaOriginal=(0,Fo.clonarV2)(e),this.foiAlterado=!0},async salvarNFe(){$utils.gconsole.log("NFePrincipal","salvarNFe()");try{(0,Fo.verificarErro)(this.nota.outrosNFe.importada,"Esta nota foi importada. Não pode ser alterada."),(0,Fo.verificarErro)(this.nota.outrosNFe.transmitida,"Esta nota já foi transmitida. Não pode ser alterada."),$q.loading.show(),Hl.Z.calculaTotais(this.nota.infNFe,this.nota.outrosNFe,Gl.Z),os.Z.acertarDadosNFe(this.nota.infNFe,this.nota.outrosNFe,"NFe"),await this.salvarNFeNucleo(),$q.notifyPositive("Os dados da nota foram salvos com sucesso"),this.fecharNFe()}catch(e){$q.notifyError("Ocorreu um erro ao salvar",e)}finally{$q.loading.hide()}},async emitirNFe(){$utils.gconsole.log("NFePrincipal","emitirNFe()");let e="Ocorreu um erro ao emitir a nota";try{(0,Fo.verificarErro)(this.nota.outrosNFe.importada,"Esta foi importada. Não pode ser transmitida"),(0,Fo.verificarErro)(this.nota.outrosNFe.transmitida,"Esta nota já foi transmitida"),(0,Fo.verificarErro)(!this.nota.outrosNFe.idContatoEmitente,"Empresa emitente não selecionada"),(0,Fo.verificarErro)(!this.nota.infNFe.dest.xNome,"Destinatário não selecionado ou preenchido"),(0,Fo.verificarErro)(!this.nota.infNFe.dest.enderDest.xLgr,"Destinatário com endereço incompleto"),(0,Fo.verificarErro)(!this.nota.infNFe.dest.enderDest.nro,"Destinatário com endereço incompleto"),(0,Fo.verificarErro)(!this.nota.infNFe.det.length,"Nota sem produtos"),ts.Z.show({spinner:as.Z,spinnerColor:"amber",message:"Selecionando Certificado e Emitindo a nota"}),e="Erro ao preparar os dados da nota",Hl.Z.calculaTotais(this.nota.infNFe,this.nota.outrosNFe,Gl.Z),await this.gerarNumeroNFe(this.nota.infNFe,this.nota.outrosNFe.idContatoEmitente),os.Z.acertarDadosNFe(this.nota.infNFe,this.nota.outrosNFe,"NFe");let o={...this.nota};if(o.infNFe=Wl.Z.executa(Gl.Z.infNFe,o.infNFe),Wl.Z.erros.length)return $utils.gconsole.log("NFePrincipal","notaEmitir",o),void $g.modalAlerta.show({titulo:"Erro de validação",erros:Wl.Z.erros});e="Erro ao salvar nota";const t=es.Z.Nfe(Gl.Z.infNFe,o.infNFe,o.id);o.outrosNFe.chNFe=es.Z.chNFe,await this.salvarNFeNucleo(o),e="Ocorreu um erro ao transmitir a nota";const a=await Kl.Z.servicoIntegrador(o,t,"EmiteNFe","Emissão",1,{},"NFe",this.nota.outrosNFe.idContatoEmitente);if(await this.salvarNFeNucleo(o),"Erro"===a.status){$utils.gconsole.log("NFePrincipalErro",a);const e=[...(a.mensagem||"").split("\n"),...(a.complemento||"").split("\n")];return void $g.modalAlerta.show({titulo:a.status,erros:e})}$q.notifyPositive(a.mensagem),await this.atualizar(),this.$imprimir("nfe-danfe",this.nota.id)}catch(o){$q.notifyError(e,o)}finally{ts.Z.hide()}},async gerarNumeroNFe(e,o){Number(e.ide.nNF)||(e.ide.nNF=String(await $db.documentoFiscalEletronico.proximoNumero(e.ide.tpAmb,"CPF"===e.emit.escolhas.valor_escolha?e.emit.escolhas.CPF:e.emit.escolhas.CNPJ,e.ide.mod,e.ide.serie,o)))},async cartaCorrecaoNFe(){$utils.gconsole.log("NFePrincipal","cartaCorrecaoNFe()"),this.$refs.modalCartaCorrecao.show()},async cancelarNFe(){$utils.gconsole.log("NFePrincipal","cancelarNFe()"),this.$refs.modalCancelamento.abrirModalCancelamento()},async removerNFe(){$utils.gconsole.log("NFePrincipal","removerNFe()");try{(0,Fo.verificarErro)(this.nota.outrosNFe.importada,"Esta nota foi importada. Não pode ser removida."),(0,Fo.verificarErro)(this.nota.outrosNFe.transmitida,"Esta nota já foi transmitida. Não pode ser removida."),(0,Fo.verificarErro)(!this.emDigitacao,"Pode remover apenas notas em digitação"),$q.dialog({title:"Tem certeza?",message:"Ao continuar você irá remover esta nota",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Remover",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{try{$q.loading.show(),await $db.documentoFiscalEletronico.remove(this.nota.id),$q.notifyPositive("Nota removida com sucesso"),this.foiAlterado=!0,this.fecharNFe()}catch(e){$q.notifyError("Ocorreu um erro ao remover",e)}finally{$q.loading.hide()}}))}catch(e){$q.notifyError("Ocorreu um erro ao remover",e)}},async adicionarNFe(){$utils.gconsole.log("NFePrincipal","adicionarNFe()");try{this.carregando=!0;const e=os.Z.iniciarCampos({tipo:"NFe",outrosNFe:{},historico:[],infNFe:Rl.Z.executa(Gl.Z.infNFe,{},"NFe")},"criar");await this.gerarAutorizacaoDownload(e.infNFe);const o=await $db.configuracoes.leValorNumerico("nfe.padrao.consumidorfinal");e.infNFe.ide.indFinal=100===o?"1":99===o?"0":String(o),e.infNFe.ide.serie=String(await $db.configuracoes.leValorNumerico("nfe.padrao.serie",1)),e.infNFe.ide.tpAmb=1===await $db.configuracoes.leValorNumerico("nfe.homologacao")?"2":"1",e.infNFe.cobr.visivel=!0,e.infNFe.cobr.fat.visivel=!0,e.infNFe.infAdic.visivel=!0,this.nota=e,this.notaOriginal={},this.modalNFe=!0}catch(e){$q.notifyError("Erro ao criar nota",e),this.foiAlterado=!0,this.fecharNFe()}finally{this.carregando=!1}},async gerarNFe(e,o,t){$utils.gconsole.log("NFePrincipal","gerarNFe()",t);try{if(t&&(this.params={idDocumento:e,tipo:o,operacao:t,cfop:""}),"Remessa"===this.params.operacao&&!this.params.cfop)return void this.$refs.dialogNFeRemessa.show();this.carregando=!0;const a=await Np.gerarJson(this.params.idDocumento,this.params.tipo,this.params.operacao,this.params.cfop);if((0,Fo.verificarExcecao)(!a,"Ocorreu um erro no nfe.gerarJson(idDocumento)"),a.infNFeCompac=Wl.Z.executa(Gl.Z.infNFe,a.infNFe),a.erros=Wl.Z.erros,a.erros.length)return void $g.modalAlerta.show({titulo:"Erro de validação",erros:a.erros});for(const e of a.alertas)$q.notify({message:e,textColor:"black",type:"warning"});this.nota=a,this.notaOriginal={},this.modalNFe=!0}catch(e){$q.notifyError("Erro ao gerar nota",e),this.foiAlterado=!0,this.fecharNFe()}finally{this.carregando=!1}},async abrirNFe(e){$utils.gconsole.log("NFePrincipal","abrirNFe()",e),await this.atualizar(e),this.modalNFe=!0},async atualizar(e){$utils.gconsole.log("NFePrincipal","atualizar()",e);try{this.carregando=!0;const o=await $db.documentoFiscalEletronico.le({id:e||this.nota.id}),t=JSON.parse(o.json);o.infNFe=Rl.Z.executa(Gl.Z.infNFe,t.infNFe,"NFe"),o.outrosNFe=os.Z.completarOutrosNFe(Vp.Z,t.outrosNFe);const a=await $db.documentoFiscalEletronicoXml.le({idDocumentoFiscalEletronico:e||this.nota.id});o.historico=$lodash.orderBy(a,"dhRecbto"),this.nota=o,this.notaOriginal=(0,Fo.clonarV2)(o)}catch(e){$q.notifyError("Erro ao carregar os dados da nota",e)}finally{this.carregando=!1}},onValidationError(e){$utils.gconsole.log("NFePrincipal","onValidationError",{campo:e.label,valor:e.modelValue,mensagem:e.rules.map((o=>o(e.modelValue))).join(" | ")}),this.$q.notifyError("Erro no preenchimento dos campos")}},props:{},watch:{},created(){$utils.gconsole.log("NFePrincipal","created()")},mounted(){$utils.gconsole.log("NFePrincipal","mounted()"),$utils.emitter.off("adicionarNFe"),$utils.emitter.on("adicionarNFe",this.adicionarNFe),$utils.emitter.off("abrirNFe"),$utils.emitter.on("abrirNFe",this.abrirNFe),$utils.emitter.off("gerarNFe"),$utils.emitter.on("gerarNFe",this.gerarNFe)},beforeUnmount(){$utils.gconsole.log("NFePrincipal"," beforeUnmount()"),$utils.emitter.off("adicionarNFe"),$utils.emitter.off("abrirNFe"),$utils.emitter.off("gerarNFe")}},xp=(0,T.Z)(gp,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-header"),m=(0,a.resolveComponent)("q-spinner"),u=(0,a.resolveComponent)("nfeFormulario"),p=(0,a.resolveComponent)("q-page"),h=(0,a.resolveComponent)("q-page-container"),C=(0,a.resolveComponent)("q-footer"),v=(0,a.resolveComponent)("q-form"),f=(0,a.resolveComponent)("q-layout"),N=(0,a.resolveComponent)("q-dialog"),V=(0,a.resolveComponent)("nfeCartaCorrecao"),g=(0,a.resolveComponent)("nfeCancelamento"),x=(0,a.resolveComponent)("seletorCfop"),b=(0,a.resolveComponent)("row"),w=(0,a.resolveComponent)("card"),_=(0,a.resolveComponent)("dialogForm"),y=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(N,{modelValue:r.modalNFe,"onUpdate:modelValue":o[0]||(o[0]=e=>r.modalNFe=e),maximized:"",onHide:l.fecharNFe},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{container:"",class:"bg-grey-4"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{onSubmit:l.salvarNFe,onValidationError:l.onValidationError,greedy:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",round:"",icon:"arrow_back"},null,512),[[y]]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[$l])),_:1}),!r.carregando&&l.emDigitacao?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,color:"white","text-color":"primary",label:"Salvar",type:"submit",unelevated:""})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createVNode)(h,{class:"u-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[r.carregando?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ul,[(0,a.createElementVNode)("div",Zl,[(0,a.createVNode)(m,{color:"tertiary",size:50})])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",Ql,[r.nota.id?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,nota:r.nota},null,8,["nota"])):(0,a.createCommentVNode)("",!0)]))])),_:1})])),_:1}),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-right"},{default:(0,a.withCtx)((()=>[["Emitido","Carta de Correção"].includes(r.nota.situacao)?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(s,{color:"negative",flat:"",label:"Cancelar Nota",onClick:l.cancelarNFe,class:"q-mx-md",unelevated:""},null,8,["onClick"]),(0,a.createVNode)(s,{color:"primary",flat:"",label:"Carta Correção",onClick:l.cartaCorrecaoNFe,unelevated:""},null,8,["onClick"])],64)):(0,a.createCommentVNode)("",!0),l.emDigitacao?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createVNode)(s,{color:"negative",flat:"",label:"Remover",onClick:l.removerNFe,class:"q-mx-md",unelevated:""},null,8,["onClick"]),(0,a.createVNode)(s,{color:"primary",label:"Emitir",onClick:l.emitirNFe,unelevated:""},null,8,["onClick"])],64)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1})])),_:1},8,["onSubmit","onValidationError"])])),_:1})])),_:1},8,["modelValue","onHide"]),r.nota.id?((0,a.openBlock)(),(0,a.createBlock)(V,{key:0,ref:"modalCartaCorrecao",nota:r.nota,onSalvar:l.salvarNFeNucleo,onAtualizar:l.atualizar},null,8,["nota","onSalvar","onAtualizar"])):(0,a.createCommentVNode)("",!0),r.nota.id?((0,a.openBlock)(),(0,a.createBlock)(g,{key:1,ref:"modalCancelamento",nota:r.nota,onSalvar:l.salvarNFeNucleo,onAtualizar:l.atualizar},null,8,["nota","onSalvar","onAtualizar"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(_,{ref:"dialogNFeRemessa",title:"Nota Fiscal de Remessa",size:"sm",footer:"",onSubmit:l.gerarNFe},{buttonsFooter:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{flat:"",color:"tertiary",label:"Cancelar"},null,512),[[y]]),(0,a.createVNode)(s,{unelevated:"",color:"primary",type:"submit",label:"Enviar"})])),default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{modelValue:r.params.cfop,"onUpdate:modelValue":o[1]||(o[1]=e=>r.params.cfop=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["onSubmit"])],64)}]]);Z()(gp,"components",{QDialog:k.Z,QLayout:ae.Z,QForm:fo.Z,QHeader:ie.Z,QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QPageContainer:le.Z,QPage:se.Z,QSpinner:Me.Z,QFooter:Te.Z,QSpinnerGears:as.Z}),Z()(gp,"directives",{ClosePopup:J.Z});const bp=(0,a.createTextVNode)("Devolução/Garantia"),wp={class:"layout-padding"},_p={class:"q-mt-lg text-center"},yp={data:()=>({motivo:"",motivos:[],tipo:"devolucao",visivel:!1}),emits:["executa"],methods:{async atualizar(){this.motivo="",this.tipo="devolucao";const e=await $db.configuracoes.le({nome:"vendas.garantia.motivo"});this.motivos=e.map((e=>e.valor))},executa(){"garantia"!==this.tipo||this.motivo?(this.visivel=!1,this.$emit("executa",{tipo:this.tipo,motivo:this.motivo})):this.$q.notify({message:"Selecione o motivo",type:"negative"})},async mostrar(){await this.atualizar(),this.visivel=!0}}},Ip=(0,T.Z)(yp,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-radio"),m=(0,a.resolveComponent)("campo"),u=(0,a.resolveComponent)("q-card"),p=(0,a.resolveComponent)("q-dialog"),h=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(p,{modelValue:r.visivel,"onUpdate:modelValue":o[5]||(o[5]=e=>r.visivel=e),"content-css":{minWidth:"30vw"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"q-dialog-plugin"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[bp])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",icon:"close",round:""},null,512),[[h]])])),_:1}),(0,a.createElementVNode)("div",wp,[(0,a.createElementVNode)("form",{class:"q-pa-md",onSubmit:o[4]||(o[4]=(0,a.withModifiers)(((...e)=>l.executa&&l.executa(...e)),["prevent"]))},[(0,a.createVNode)(d,{modelValue:r.tipo,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.tipo=e),o[1]||(o[1]=e=>r.motivo="")],class:"q-mr-sm",label:"Devolução",val:"devolucao"},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.tipo,"onUpdate:modelValue":o[2]||(o[2]=e=>r.tipo=e),label:"Garantia",val:"garantia"},null,8,["modelValue"]),"garantia"===r.tipo?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,modelValue:r.motivo,"onUpdate:modelValue":o[3]||(o[3]=e=>r.motivo=e),rotulo:"Motivo",tipo:"seletor",opcoes:r.motivos},null,8,["modelValue","opcoes"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",_p,[(0,a.createVNode)(n,{color:"primary",class:"q-ml-sm no-shadow",label:"Continua",type:"submit"})])],32)])])),_:1})])),_:1},8,["modelValue"])}]]);Z()(yp,"components",{QDialog:k.Z,QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QRadio:ys.Z}),Z()(yp,"directives",{ClosePopup:J.Z});const Ep={computed:{placeholderToggle(){const e=this.placeholder??"";return this.chips.length?"":e}},data(){return{chips:this.modelValue}},emits:["update:modelValue"],methods:{add(e){e.target.value.trim()&&(this.chips.push(e.target.value),this.$refs.qSelect.updateInputValue(""),this.$emit("update:modelValue",this.chips))},remove(e){this.chips.splice(e.index,1),this.$emit("update:modelValue",this.chips)}},props:{modelValue:{type:Array,required:!0},placeholder:String}};var Sp=t(15031);const Mp=(0,T.Z)(Ep,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-select");return(0,a.openBlock)(),(0,a.createBlock)(s,{dense:"",outlined:"","use-input":"","use-chips":"",multiple:"","hide-dropdown-icon":"",modelValue:r.chips,"onUpdate:modelValue":o[0]||(o[0]=e=>r.chips=e),ref:"qSelect",class:"q-px-none",placeholder:l.placeholderToggle,onKeydown:(0,a.withKeys)(l.add,["enter"]),onRemove:l.remove,color:"primary","text-color":"white"},{before:(0,a.withCtx)((()=>[(0,a.renderSlot)(e.$slots,"before",{class:"q-px-none"},void 0,!0)])),prepend:(0,a.withCtx)((()=>[(0,a.renderSlot)(e.$slots,"prepend",{class:"q-px-none"},void 0,!0)])),append:(0,a.withCtx)((()=>[(0,a.renderSlot)(e.$slots,"append",{class:"q-px-none"},void 0,!0)])),after:(0,a.withCtx)((()=>[(0,a.renderSlot)(e.$slots,"after",{class:"q-px-none"},void 0,!0)])),_:3},8,["modelValue","placeholder","onKeydown","onRemove"])}],["__scopeId","data-v-7373484c"]]);Z()(Ep,"components",{QSelect:al.Z,QField:Sp.Z});var Tp=t(70225);const kp={components:{Avatar:uo.Z,NfePrincipal:xp,VendaCard:Hi,VendaDevolucaoGarantia:Ip,VendaModal:Ri.Z,GChipsV2:Mp},computed:{temVendasAbertas(){return!!this.vendasAbertas.length},temVendasCanceladas(){return!!this.vendasCanceladas.length},temVendasFinalizadas(){return!!this.vendasFinalizadas.length},temRegistros(){return this.temVendasAbertas||this.temVendasCanceladas||this.temVendasFinalizadas}},data:()=>({grupos:[],documentos:{},vendasAbertas:[],vendasCanceladas:[],vendasFinalizadas:[],filtro:{},tipoData:"",tiposData:[{label:"Emissão",value:"emissao"},{label:"Finalizado",value:"finalizado"}],tipoLista:"documentos",dataIni:null,dataFim:null,carregando:!1,colunas:[{name:"descricao",label:"Descrição",align:"left"},{name:"documento",label:"Documento",align:"left"},{name:"valorUnitario",label:"Valor Unitário",align:"right"},{name:"quantidade",label:"Quantidade",align:"right"},{name:"valorTotal",label:"Valor Total",align:"right"},{name:"botao",label:"",align:"right"}],contato:null,tablePagination:{page:1,rowsPerPage:25},vendaCardPagination:{maxPages:7,perPage:5,vendasAbertas:{page:1,min:1,max:1},vendasFinalizadas:{page:1,min:1,max:1},vendasCanceladas:{page:1,min:1,max:1}},documentoItemDevolucaoGarantia:{},modalVenda:{visivel:!1,orcamento:{}},urlHistoricoCliente:""}),methods:{abrirHistoricoCliente(){(0,Tp.Z)(this.urlHistoricoCliente)},adicionarOrcamento(){this.$refs.modalVenda.mostrar({idContato:this.$route.params.id})},abrirModalDevolucaoGarantia(e){this.documentoItemDevolucaoGarantia=e,this.$refs.modalDevolucaoGarantia.mostrar()},alternarLista(){this.tipoLista="documentos"===this.tipoLista?"itens":"documentos",this.atualizar()},fechouNFe(e){e&&$utils.emitter.emit("atualizarDocumentosFiscais")},async finalizaDevolucaoGarantia(e){let o,t;if(t=this.documentoItemDevolucaoGarantia||{},t.idDocumento&&(o=await $erp().documento.get(t.idDocumento)||{}),!o.id)return void this.$q.notify("Venda original não encontrada");let a={};if(this.documentoItemDevolucaoGarantia.idItem&&(a=await $erp().item.get(this.documentoItemDevolucaoGarantia.idItem)||{}),!a.id)return void this.$q.notify("Erro na recuperação do item");if(!o.idContato)return void this.$q.notify("Destinatário não encontrado");if(!o.idEmpresa)return void this.$q.notify("Emitente não encontrado");const i=await $erp().documento.where({idContato:o.idContato,idEmpresa:o.idEmpresa,tipo:"Venda",status:"Orçamento"}).toArray();i.sort(((e,o)=>new Date(e.dataHoraEmissao)<new Date(o.dataHoraEmissao)?1:-1));const r=await $utils.selecionarCfop({ncm:a.ncm,itemTipo:a.tipo,codigoDocumentoOperacao:i[0]?.codigoDocumentoOperacao||o.codigoDocumentoOperacao,idContatoDestinatario:o.idContato,idContatoEmitente:o.idEmpresa,operacaoFator:1});if(!r)return void this.$q.notifyError("CFOP não encontrado");let l={};const s="servico"===$utils.removerAcentos((this.documentoItemDevolucaoGarantia.tipoItem||"").toLowerCase());"devolucao"===e.tipo&&(l.operacao=s?"Devolução de Serviço":"Devolução de Venda"),"garantia"===e.tipo&&(l.operacao=s?"Garantia de Serviço":"Garantia de Venda",l.motivo=e.motivo),l.id=$utils.uuid(),l.dataHoraFinalizado="",l.idDocumentoItemVenda=this.documentoItemDevolucaoGarantia.id,l.idDocumentoVenda=this.documentoItemDevolucaoGarantia.idDocumento,l.idItem=this.documentoItemDevolucaoGarantia.idItem,l.idPlanoContaDestino=this.documentoItemDevolucaoGarantia.idPlanoContaDestino,l.idPlanoContaEstoque=this.documentoItemDevolucaoGarantia.idPlanoContaEstoque,l.tipoItem=this.documentoItemDevolucaoGarantia.tipoItem,l.descricaoItem=this.documentoItemDevolucaoGarantia.descricaoItem,l.status="Orçamento",l.quantidade=this.documentoItemDevolucaoGarantia.quantidade||1,l.operacaoFator=r?.fator,l.idCfop=r?.id,l.descontoItem=$utils.arredondar(-1*((this.documentoItemDevolucaoGarantia.valorItem||0)-(this.documentoItemDevolucaoGarantia.valorReal||0))),l.descontoPercentualItem=$utils.arredondar(100*(l.descontoItem||0)/(-1*(this.documentoItemDevolucaoGarantia.valorItem||0))),l.descontoTotalRateado=0,l.descontoFaturaRateado=0,l.descontoSubTotal=this.documentoItemDevolucaoGarantia.descontoSubTotal||0,l.valorCustoMedio=$utils.arredondar(this.documentoItemDevolucaoGarantia.valorCustoMedio||0),l.valorOriginal=$utils.arredondar(-1*(this.documentoItemDevolucaoGarantia.valorOriginal||0)),l.valorItem=$utils.arredondar(-1*(this.documentoItemDevolucaoGarantia.valorItem||0)),l.subTotal=$utils.arredondar(-1*(this.documentoItemDevolucaoGarantia.valorRealTotal||0)),l.total=$utils.arredondar(-1*(this.documentoItemDevolucaoGarantia.valorRealTotal||0)),localStorage.setItem("documentoItemDevolucao",JSON.stringify(l)),i.length&&(l.idDocumento=i[0].id,l.dataHoraEmissao=$utils.dataAtual(),await $db.documentoItem.grava({atual:l}),this.$q.notify({message:"Item adicionado ao orçamento.",type:"positive"})),this.$refs.modalVenda.mostrar({id:i[0]?.id,idContato:this.$route.params.id})},async atualizar(){let e,o;this.documentos={},this.documentosItens=[],this.tablePagination={page:1,rowsPerPage:25},o=JSON.parse(localStorage.getItem("clienteSistema"))||{},e="https://rel.storage.b15.com.br/Relatorios/OptiSoul/historico-cliente.html?",e+="CodigoCliente="+this.contato.codigoContato,e+="&BancoDeDados="+o.bancoDeDados,e+="&URLServidor="+o.urlServidor,this.urlHistoricoCliente=e,this.carregando=!0,await this.filtrar(),this.carregando=!1},executar(e){this.atualizar()},async filtrar(){const e=this.contato.id;if(!e)return;const o=await $db.permissao.objeto("Diretiva_Venda/Fatura_OutrasLojas_VerTodos"),t=await $db.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);let a=await $erp().documento.where({idContato:e,tipo:"Venda"}).toArray();if(o||(a=a.filter((e=>t.find((o=>o.id===e.idEmpresa))))),this.dataIni&&this.dataFim){const e=new Date(this.dataIni).setHours(0,0,0,0),o=new Date(this.dataFim).setHours(0,0,0,0);a=a.filter((t=>{let a=t.dataHoraFinalizado||t.dataHoraEmissao;if(a)return a=new Date(a).setHours(0,0,0,0),a>=e&&a<=o}))}let i=[];for(const e of a){const o=await $db.documentoItem.leNew({idDocumento:e.id});i=[...i,...o.filter((e=>e.idItem))]}let r=[],l={};for(const e of i)if(e.idItem&&!r.filter((o=>o.id===e.idItem)).length){const o=await $db.item.leNew({id:e.idItem});r.push(o)}if(!this.grupos.length){this.documentos=a.reduce(((e,o)=>(e[o.id]||(e[o.id]=o),e)),{}),a=$lodash.orderBy(a,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"]);const e=["Aguardando Liberação","Aguardando Estoque","Aguardando Financeiro","Orçamento"],o=["Não Aprovado","Cancelado"],t=a.filter((o=>e.includes(o.status))),s=a.filter((e=>o.includes(e.status))),n=a.filter((t=>![...e,...o].includes(t.status)));this.vendaCardPagination.vendasAbertas.max=(t.length/5|0)+(t.length%5>0?1:0),this.vendaCardPagination.vendasCanceladas.max=(s.length/5|0)+(s.length%5>0?1:0),this.vendaCardPagination.vendasFinalizadas.max=(n.length/5|0)+(n.length%5>0?1:0),this.vendasAbertas=t,this.vendasCanceladas=s,this.vendasFinalizadas=n;for(const e of i)if(!l[e.idItem]){const o=r.filter((o=>o.id===e.idItem));o.length&&(l[e.idItem]=o[0])}return this.itens=l,void(this.documentosItens=$lodash.orderBy(i,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"]))}const s=$utils.clonar(this.grupos).map((e=>$utils.removerAcentos(e)));let n=a.filter((e=>{if(!e.numero)return!1;const o=String(e.numero);for(const e of s){const t=new RegExp(e,"gi");if(o.match(t))return!0}})),c=[],d=i.filter((e=>{if(!e.idItem&&!e.descricaoItem)return!1;const o=$utils.removerAcentos(e.descricaoItem);for(const t of s){const a=new RegExp(t,"gi");if(o.match(a))return c.push(e.id),!0}}));l=r.filter((e=>{const o=e.marca||"",t=e.referencia||"",a=e.codigoItem?String(e.codigoItem):"",i=e.codigoBarras||"",r=$utils.removerAcentos(o+t+a+i);for(const e of s){const o=new RegExp(e,"gi");if(r.match(o))return!0}}));for(const e of n){const o=i.filter((o=>{if(o.idItem&&o.idDocumento===e.id&&!c.includes(o.id))return c.push(o.id),!0}));d=[...d,...o]}for(const e of l){const o=i.filter((o=>{if(o.idItem===e.id&&!c.includes(o.id))return c.push(o.id),!0}));d=[...d,...o]}d=d.filter((e=>{let o=$utils.clonar(s),t=a.filter((o=>o.id===e.idDocumento)),i=r.filter((o=>o.id===e.idItem));t=t.length?t[0]:{},i=i.length?i[0]:{};let l=t.numero?String(t.numero):"";if(l+=e.descricaoItem||"",l+=i.marca||"",l+=i.referencia||"",l+=i.codigoItem?String(i.codigoItem):"",l+=i.codigoBarras||"",l)for(const e of s){const t=new RegExp(e,"gi");l.match(t)&&(o=o.filter((o=>o!==e)))}if(!o.length)return!0}));let m=[];n=[],l={};for(const e of d)if(m.includes(e.idDocumento)||(m.push(e.idDocumento),n=[...n,...a.filter((o=>o.id===e.idDocumento))]),!l[e.idItem]){const o=r.filter((o=>o.id===e.idItem));o.length&&(l[e.idItem]=o[0])}this.documentos=n.reduce(((e,o)=>(e[o.id]||(e[o.id]=o),e)),{}),a=$lodash.orderBy(n,["dataHoraEmissao"],["desc"]);const u=a.filter((e=>"Orçamento"===e.status)),p=a.filter((e=>["Não Aprovado","Cancelado"].includes(e.status))),h=a.filter((e=>!["Não Aprovado","Cancelado","Orçamento"].includes(e.status)));this.vendaCardPagination.vendasAbertas.max=(u.length/5|0)+(u.length%5>0?1:0),this.vendaCardPagination.vendasCanceladas.max=(p.length/5|0)+(p.length%5>0?1:0),this.vendaCardPagination.vendasFinalizadas.max=(h.length/5|0)+(h.length%5>0?1:0),this.vendasAbertas=u,this.vendasCanceladas=p,this.vendasFinalizadas=h,this.itens=l,this.documentosItens=$lodash.orderBy(d,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"])},async limparFiltro(){this.grupos=[],this.dataFim=new Date;const e=new Date;if(e.setMonth(e.getMonth()-3),this.dataIni=e,this.contato.codigoContato){const e=await $db.configuracoes.leValorNumerico("venda.codigoconsumidor");this.contato.codigoContato===e&&(this.dataIni=this.dataFim)}}},watch:{"$route.params.id"(){const e=this.$route.params.id;e&&$db.contato.le({id:e}).then((e=>{this.contato=e,this.tipoLista="documentos",this.limparFiltro().then((()=>{this.atualizar()}))}))}},mounted(){const e=this.$route.params.id;e&&$db.contato.le({id:e}).then((e=>{this.contato=e,this.limparFiltro().then((()=>{this.atualizar()}))}))}};var Dp=t(6427);const qp=(0,T.Z)(kp,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("GChipsV2"),c=(0,a.resolveComponent)("campo"),d=(0,a.resolveComponent)("row"),m=(0,a.resolveComponent)("q-card"),u=(0,a.resolveComponent)("q-item-section"),p=(0,a.resolveComponent)("q-item-label"),h=(0,a.resolveComponent)("q-item"),C=(0,a.resolveComponent)("q-list"),v=(0,a.resolveComponent)("q-menu"),f=(0,a.resolveComponent)("q-tooltip"),N=(0,a.resolveComponent)("q-btn"),V=(0,a.resolveComponent)("q-pagination"),g=(0,a.resolveComponent)("venda-card"),x=(0,a.resolveComponent)("q-expansion-item"),b=(0,a.resolveComponent)("avatar"),w=(0,a.resolveComponent)("q-td"),_=(0,a.resolveComponent)("q-tr"),y=(0,a.resolveComponent)("q-table"),I=(0,a.resolveComponent)("q-spinner"),E=(0,a.resolveComponent)("VendaModal"),S=(0,a.resolveComponent)("VendaDevolucaoGarantia"),M=(0,a.resolveComponent)("NfePrincipal"),T=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",cl,[(0,a.createElementVNode)("div",dl,[(0,a.createElementVNode)("div",ml,[(0,a.createVNode)(m,{class:"q-pa-sm q-ml-sm no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"items-center q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ul,[(0,a.createVNode)(n,{modelValue:r.grupos,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.grupos=e),l.filtrar],placeholder:"Filtre por Produto, Marca, Número..."},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"mdi-filter"})])),_:1},8,["modelValue","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",pl,[(0,a.createVNode)(c,{modelValue:r.dataIni,"onUpdate:modelValue":o[1]||(o[1]=e=>r.dataIni=e),tipo:"data",onBlur:l.atualizar,dense:"",outlined:""},null,8,["modelValue","onBlur"])]),hl,(0,a.createElementVNode)("div",Cl,[(0,a.createVNode)(c,{modelValue:r.dataFim,"onUpdate:modelValue":o[2]||(o[2]=e=>r.dataFim=e),tipo:"data",onBlur:l.atualizar,dense:"",outlined:""},null,8,["modelValue","onBlur"])])])),_:1})])),_:1})]),(0,a.createElementVNode)("div",vl,[(0,a.createVNode)(N,{round:"",dense:"",flat:"",icon:"more_vert",color:"primary",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(C,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>["itens"===r.tipoLista?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,onClick:l.alternarLista,clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"view_stream"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[fl])),_:1})])),_:1})])),_:1},8,["onClick"])):(0,a.createCommentVNode)("",!0),"documentos"===r.tipoLista?((0,a.openBlock)(),(0,a.createBlock)(h,{key:1,onClick:l.alternarLista,clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"view_list"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[Nl])),_:1})])),_:1})])),_:1},8,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(h,{clickable:"",onClick:l.abrirHistoricoCliente},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"mdi-account"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[Vl])),_:1})])),_:1})])),_:1},8,["onClick"])])),_:1},512),[[T]])])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[gl])),_:1})])),_:1})])]),!r.carregando&&l.temRegistros&&"documentos"===r.tipoLista?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0,class:"no-border"},{default:(0,a.withCtx)((()=>[l.temVendasAbertas?((0,a.openBlock)(),(0,a.createBlock)(x,{key:0,"model-value":!0,label:"Abertas (Total R$ "+e.$filters.numero(r.vendasAbertas.reduce(((e,o)=>e+o.totalDocumento),0),2)+")",group:"vendasAbertas"},{default:(0,a.withCtx)((()=>[r.vendaCardPagination.vendasAbertas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",xl,[(0,a.createVNode)(V,{modelValue:r.vendaCardPagination.vendasAbertas.page,"onUpdate:modelValue":o[3]||(o[3]=e=>r.vendaCardPagination.vendasAbertas.page=e),min:r.vendaCardPagination.vendasAbertas.min,unelevated:"",max:r.vendaCardPagination.vendasAbertas.max,ellipses:"","max-pages":r.vendaCardPagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",bl,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.vendasAbertas.slice((r.vendaCardPagination.vendasAbertas.page-1)*r.vendaCardPagination.perPage,r.vendaCardPagination.vendasAbertas.page*r.vendaCardPagination.perPage),(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"q-px-sm full-width",key:e.id},[(0,a.createVNode)(g,{id:e.id,onExecutar:l.executar,class:"q-mb-md"},null,8,["id","onExecutar"])])))),128))]),r.vendaCardPagination.vendasAbertas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",wl,[(0,a.createVNode)(V,{modelValue:r.vendaCardPagination.vendasAbertas.page,"onUpdate:modelValue":o[4]||(o[4]=e=>r.vendaCardPagination.vendasAbertas.page=e),min:r.vendaCardPagination.vendasAbertas.min,unelevated:"",max:r.vendaCardPagination.vendasAbertas.max,ellipses:"","max-pages":r.vendaCardPagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0)])),_:1},8,["label"])):(0,a.createCommentVNode)("",!0),l.temVendasFinalizadas?((0,a.openBlock)(),(0,a.createBlock)(x,{key:1,"model-value":!0,label:"Finalizadas (Total R$ "+e.$filters.numero(r.vendasFinalizadas.reduce(((e,o)=>e+o.totalDocumento),0),2)+")",group:"vendasFinalizadas"},{default:(0,a.withCtx)((()=>[r.vendaCardPagination.vendasFinalizadas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",_l,[(0,a.createVNode)(V,{modelValue:r.vendaCardPagination.vendasFinalizadas.page,"onUpdate:modelValue":o[5]||(o[5]=e=>r.vendaCardPagination.vendasFinalizadas.page=e),unelevated:"",min:r.vendaCardPagination.vendasFinalizadas.min,max:r.vendaCardPagination.vendasFinalizadas.max,ellipses:"","max-pages":r.vendaCardPagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",yl,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.vendasFinalizadas.slice((r.vendaCardPagination.vendasFinalizadas.page-1)*r.vendaCardPagination.perPage,r.vendaCardPagination.vendasFinalizadas.page*r.vendaCardPagination.perPage),(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"q-px-sm full-width",key:e.id},[(0,a.createVNode)(g,{id:e.id,onExecutar:l.executar,class:"q-mb-md"},null,8,["id","onExecutar"])])))),128))]),r.vendaCardPagination.vendasFinalizadas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",Il,[(0,a.createVNode)(V,{modelValue:r.vendaCardPagination.vendasFinalizadas.page,"onUpdate:modelValue":o[6]||(o[6]=e=>r.vendaCardPagination.vendasFinalizadas.page=e),min:r.vendaCardPagination.vendasFinalizadas.min,max:r.vendaCardPagination.vendasFinalizadas.max,ellipses:"",unelevated:"","max-pages":r.vendaCardPagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0)])),_:1},8,["label"])):(0,a.createCommentVNode)("",!0),l.temVendasCanceladas?((0,a.openBlock)(),(0,a.createBlock)(x,{key:2,"model-value":!0,label:"Canceladas (Total R$ "+e.$filters.numero(r.vendasCanceladas.reduce(((e,o)=>e+o.totalDocumento),0),2)+")",group:"vendasCanceladas"},{default:(0,a.withCtx)((()=>[r.vendaCardPagination.vendasCanceladas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",El,[(0,a.createVNode)(V,{modelValue:r.vendaCardPagination.vendasCanceladas.page,"onUpdate:modelValue":o[7]||(o[7]=e=>r.vendaCardPagination.vendasCanceladas.page=e),min:r.vendaCardPagination.vendasCanceladas.min,max:r.vendaCardPagination.vendasCanceladas.max,ellipses:"","max-pages":r.vendaCardPagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.vendasCanceladas.slice((r.vendaCardPagination.vendasCanceladas.page-1)*r.vendaCardPagination.perPage,r.vendaCardPagination.vendasCanceladas.page*r.vendaCardPagination.perPage),(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id},[(0,a.createVNode)(g,{id:e.id,onExecutar:l.executar,class:"q-mb-md"},null,8,["id","onExecutar"])])))),128)),r.vendaCardPagination.vendasCanceladas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",Sl,[(0,a.createVNode)(V,{modelValue:r.vendaCardPagination.vendasCanceladas.page,"onUpdate:modelValue":o[8]||(o[8]=e=>r.vendaCardPagination.vendasCanceladas.page=e),min:r.vendaCardPagination.vendasCanceladas.min,max:r.vendaCardPagination.vendasCanceladas.max,ellipses:"","max-pages":r.vendaCardPagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0)])),_:1},8,["label"])):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0),!r.carregando&&l.temRegistros&&"itens"===r.tipoLista?((0,a.openBlock)(),(0,a.createBlock)(y,{key:1,rows:e.documentosItens,columns:r.colunas,pagination:r.tablePagination,"onUpdate:pagination":o[9]||(o[9]=e=>r.tablePagination=e),class:"no-shadow text-left q-mt-md my-sticky-header-column-table"},{body:(0,a.withCtx)((o=>[(0,a.createVNode)(_,{props:o},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{key:"descricao",props:o},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Ml,[(0,a.createElementVNode)("div",Tl,[(0,a.createVNode)(b,{imagem:e.itens[o.row.idItem].imagem,rotulo:e.itens[o.row.idItem].descricaoConcatenada,tamanho:"40",class:"q-mr-sm"},null,8,["imagem","rotulo"])]),(0,a.createElementVNode)("div",kl,[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.idItem?e.itens[o.row.idItem].descricaoConcatenada:""),1),Dl,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(o.row.idItem&&e.itens[o.row.idItem].referencia?"Ref. "+e.itens[o.row.idItem].referencia:""),1),ql,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(o.row.idItem&&e.itens[o.row.idItem].codigoItem?"#"+e.itens[o.row.idItem].codigoItem:""),1),Fl,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(o.row.idItem&&e.itens[o.row.idItem].marca||""),1)])])])),_:2},1032,["props"]),(0,a.createVNode)(w,{key:"documento",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.documentos[o.row.idDocumento].tipo)+" #"+(0,a.toDisplayString)(parseInt(r.documentos[o.row.idDocumento].numero)||(r.documentos[o.row.idDocumento].id||"").slice(-6)),1),Pl,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(r.documentos[o.row.idDocumento].status),1),Al,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.dataHora(r.documentos[o.row.idDocumento].dataHoraFinalizado||r.documentos[o.row.idDocumento].dataHoraEmissao)),1)])),_:2},1032,["props"]),(0,a.createVNode)(w,{key:"valorUnitario",props:o},{default:(0,a.withCtx)((()=>[o.row.valorReal!==o.row.valorItem?((0,a.openBlock)(),(0,a.createElementBlock)("span",Bl,(0,a.toDisplayString)(e.$filters.numero(o.row.valorItem,2)),1)):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.numero(o.row.valorReal,2)),1)])),_:2},1032,["props"]),(0,a.createVNode)(w,{key:"quantidade",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.quantidade*o.row.operacaoFator*-1),1)])),_:2},1032,["props"]),(0,a.createVNode)(w,{key:"valorTotal",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(o.row.valorRealTotal,2)),1)])),_:2},1032,["props"]),(0,a.createVNode)(w,{key:"botao",props:o},{default:(0,a.withCtx)((()=>[-1===o.row.operacaoFator?((0,a.openBlock)(),(0,a.createBlock)(N,{key:0,clickable:"",class:"q-ml-sm",color:"warning",dense:"",flat:"",icon:"replay",round:"",onClick:e=>l.abrirModalDevolucaoGarantia(o.row)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[Ll])),_:1})])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","pagination"])):(0,a.createCommentVNode)("",!0),r.carregando||l.temRegistros?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",Ol,zl)),r.carregando?((0,a.openBlock)(),(0,a.createElementBlock)("div",jl,[(0,a.createVNode)(I,{color:"tertiary",size:50})])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(N,{round:"",color:"primary",class:"fixed",icon:"add",size:"lg",style:{right:"18px",bottom:"18px"},onClick:l.adicionarOrcamento},null,8,["onClick"]),(0,a.createVNode)(E,{ref:"modalVenda",onExecutar:l.executar},null,8,["onExecutar"]),(0,a.createVNode)(S,{ref:"modalDevolucaoGarantia",onExecuta:l.finalizaDevolucaoGarantia},null,8,["onExecuta"]),(0,a.createVNode)(M,{onFechar:l.fechouNFe},null,8,["onFechar"])])}]]);Z()(kp,"components",{QCard:D.Z,QIcon:L.Z,QBtn:H.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z,QTooltip:Ao.Z,QExpansionItem:P.Z,QPagination:Dp.Z,QTable:nr.Z,QTr:rl.Z,QTd:sl.Z,QSpinner:Me.Z}),Z()(kp,"directives",{ClosePopup:J.Z});const Fp={class:"AtendimentoFatura q-pb-md"},Pp={class:"col-12 col-md-6"},Ap={class:"col"},Bp=(0,a.createElementVNode)("div",{class:"col-auto",style:{"align-items":"center",display:"flex"}},[(0,a.createElementVNode)("label",null,"até")],-1),Lp={class:"col"},Op={key:0,class:"row justify-end q-mb-md"},zp={key:1,class:"row justify-end q-mb-md"},jp={key:0,class:"row justify-end q-mb-md"},$p={class:"row"},Up={key:1,class:"row justify-end q-mb-md"},Zp={key:0,class:"row justify-end q-mb-md"},Qp={class:"row"},Rp={key:1,class:"row justify-end q-mb-md"},Gp={key:1,class:"q-pa-lg text-center"},Hp=[(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Registros não encontrados")],-1)],Jp={class:"col-12 col-md-6 q-pl-none"},Yp={class:"col-3 col-md hideonmobile"},Xp={class:"text-left q-my-none"},Wp=(0,a.createTextVNode)(" Emissão "),Kp={class:"col-3 col-md hideonmobile"},eh={class:"text-left q-my-none"},oh=(0,a.createTextVNode)(" Finalizado "),th={class:"col-6 col-md hideonmobile"},ah={class:"text-right text-h5 text-positive text-weight-bold q-my-none"},ih={class:"text-right text-weight-normal text-tertiary text-body2 q-my-none"},rh={class:"col-12 col-md-6"},lh=(0,a.createTextVNode)(" Data Finalizado - Vendedor "),sh=(0,a.createTextVNode)(" Carnê "),nh={class:"col-12 col-md-6 full-height items-end hideonmobile"},ch=(0,a.createTextVNode)("Emitir cupom"),dh=(0,a.createTextVNode)("NFe de Saída/Venda"),mh=(0,a.createTextVNode)("NFe de Entrada/Devolução"),uh=(0,a.createTextVNode)("NFe de Remessa"),ph=(0,a.createTextVNode)("Remover Fatura"),hh=(0,a.createTextVNode)("Histórico do Status"),Ch=(0,a.createTextVNode)("Emitir Boleto"),vh={class:"col-6"},fh={class:"text-left q-my-none hideondesktop"},Nh=(0,a.createTextVNode)(" Emissão "),Vh={class:"text-left q-my-none"},gh=(0,a.createTextVNode)(" Finalizado "),xh={class:"col-6"},bh={class:"text-right text-weight-normal text-tertiary text-body2 q-my-none"},wh={class:"text-right text-h5 text-positive text-weight-bold q-my-none"},_h={class:"col-12 full-height items-end"},yh=(0,a.createTextVNode)("NFe de Saída/Venda"),Ih=(0,a.createTextVNode)("NFe de Entrada/Devolução"),Eh=(0,a.createTextVNode)("NFe de Remessa"),Sh=(0,a.createTextVNode)("Remover Fatura"),Mh=(0,a.createTextVNode)("Histórico do Status"),Th=(0,a.createTextVNode)("Emitir Boleto"),kh={class:"col-12 col-md-6"},Dh={class:"text-subtitle1 text-weight-bold q-ma-none items-center"},qh={class:"col-12 col-md-4"},Fh=(0,a.createElementVNode)("p",{class:"text-subtitle1 text-weight-bold q-ma-none"}," Faturamento ",-1),Ph={class:"q-ma-none"},Ah={class:"col-12 col-md-2 text-right"},Bh=(0,a.createElementVNode)("p",{class:"text-subtitle1 text-weight-bold q-ma-none"}," Desconto ",-1),Lh={class:"q-ma-none"},Oh=(0,a.createElementVNode)("span",{class:"text-weight-bold"},"Emissão de Boleto",-1),zh=(0,a.createTextVNode)("Recuperando informações do servidor "),jh=(0,a.createTextVNode)("Boletos emitidos"),$h=(0,a.createTextVNode)("Boletos a emitir"),Uh={class:"q-mt-lg text-center"};var Zh=t(98396);const Qh={components:{Avatar:uo.Z,DocumentosFiscais:Ut.Z,FaturaModal:Ki,ModalHistoricoStatus:Qi.Z},computed:{config:()=>ue.db.configuracoes.valores,mostrarOpcaoEmitirBoleto(){return(this.modalBoleto.condicoesPagamento||[]).length&&(this.modalBoleto.bancos||[]).length},mostrarOpcaoRemoverFatura(){return"Aberta"===this.dados.fatura.status&&!this.dados.carnes.length&&!this.dados.condicaoPagamento.length&&!this.dados.vendas.length},ativarBotaoEmissaoBoleto(){const e=Number(this.modalBoleto.financeiroBanco.value);return Number.isInteger(e)&&e&&this.modalBoleto.condicoesPagamento.find((e=>e.checked))}},data:()=>({dbUsuario:ue.db.usuario,dados:{fatura:{}},contatos:{},detalhesVisivel:!1,sistemaPai:"",configImpressaoCarne:[],configImpressaoConvenio:[],configImpressaoFatura:[],configImpressaoEnvelope:[],modalBoleto:{},podeEditar:!1}),emits:["executar"],methods:{async removerFatura(){try{await new Promise(((e,o)=>{this.$q.dialog({message:"Esta ação irá remover esta fatura.",noRefocus:!0,preventClose:!0,title:"Tem certeza?",cancel:{label:"CANCELAR",push:!0,color:"tertiary",flat:!0},ok:{label:"CONTINUAR",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{e()})).onCancel((()=>{o()}))}))}catch(e){return}this.dados.fatura.id?(await ue.db.fatura.remover(this.dados.fatura.id),this.$emit("executar","atualizar")):this.$q.notify("Não foi possível realizar a operação")},abrirModalBoleto(){for(const e of this.modalBoleto.condicoesPagamento)e.checked=!1,e.disable=!0,e.codigoFinanceiroBoleto="",e.codigoFinanceiroTitulo="",e.banco={};this.modalBoleto.checked=!1,this.modalBoleto.financeiroBanco=this.modalBoleto.bancos[0],this.modalBoleto.ativo=!0,this.$nextTick().then((()=>{this.modalBoleto.visivel=!0,this.atualizarBoletos()}))},alternarCheckboxModalBoleto(e){"todos"!==e?this.modalBoleto.checked=!this.modalBoleto.condicoesPagamento.find((e=>!e.checked)):this.modalBoleto.condicoesPagamento.forEach((e=>{e.checked=this.modalBoleto.checked}))},async atualizarBoletos(){let e,o,t,a;a=this.modalBoleto.condicoesPagamento,t=a.reduce(((e,o)=>e+"'"+o.idFinanceiroTitulo+"',"),""),t=t.slice(0,t.length-1),e=`select\n          fTitulo.id,\n          fTitulo.codigoFinanceiroTitulo,\n          fBoleto.codigoFinanceiroBoleto,\n          fBoleto.dataEmissao,\n          b.descricao,\n          fBanco.agencia,\n          fBanco.conta,\n          b.arquivoBoleto\n        from financeiroTitulo fTitulo\n        left join financeiroBoleto fBoleto on fBoleto.codigoFinanceiroBoleto = fTitulo.codigoFinanceiroBoleto\n        left join financeiroBanco fBanco on fBanco.CodigoFinanceiroBanco = fBoleto.codigoFinanceiroBanco\n        left join _banco b on b.codigoBanco = fBanco.codigoBanco\n        where fTitulo.id in (${t})`,this.cancelarAtualizarBoletos=!1;let i=0;for(;;){try{o=await(0,Fo.executarSql)(e),i=0}catch(e){o=[],++i%3==0&&this.$q.notifyError(e.message)}for(const e of o){const o=a.find((o=>o.idFinanceiroTitulo===e.id));o&&(e.codigoFinanceiroBoleto&&(o.codigoFinanceiroBoleto=e.codigoFinanceiroBoleto,o.banco={descricao:e.descricao,dataEmissao:e.dataEmissao,agencia:e.agencia,conta:e.conta,arquivoBoleto:e.arquivoBoleto}),e.codigoFinanceiroTitulo&&(o.codigoFinanceiroTitulo=e.codigoFinanceiroTitulo,o.disable=!1))}if(o.length===a.length||this.cancelarAtualizarBoletos)break;await(0,Fo.dormir)(5e3)}},async atualizarModalBoleto(){this.modalBoleto={ativo:!1,visivel:!1,loading:!1,codigoFinanceiroBanco:"",condicoesPagamento:[],bancos:[]};const e=[],o=await(0,Mo.X)().formaPagamento.toArray(),t=await(0,Mo.X)().empresa.where({idContato:this.dados.fatura.idEmpresa}).toArray();if(await(0,Mo.X)().documentoCondicaoPagamento.where({idDocumento:this.dados.fatura.id}).each((t=>{const a=o.find((e=>e.id===t.idFormaPagamento&&99===e.tipo&&"Título em aberto"===e.tipoFinanceiro));a&&e.push({dataVencimento:t.dataVencimento,descricao:a.descricao,idFinanceiroTitulo:t.idFinanceiroTitulo,codigoFinanceiroBoleto:"",checked:!1,disable:!0,valor:t.valor})})),!e.length)return;const a=[];await(0,Mo.X)().financeiroBanco.each((e=>{e.ativo&&("7D07229E-B35E-42AA-A312-78313BE61B2F"!==e.id?e.idEmpresa&&t.find((o=>o.id===e.idEmpresa))&&a.push(e):a.push(e))}));const i=[...new Set(a.map((e=>e.codigoBanco)))],r=[];await(0,Mo.X)()._banco.each((e=>{i.find((o=>o===e.codigoBanco))&&r.push(e)})),this.modalBoleto.condicoesPagamento=(0,Ee.orderBy)(e,"dataVencimento","asc");const l=[];for(const e of a){const o=r.find((o=>o.codigoBanco===e.codigoBanco))||{};if(!o)continue;const t=(o.descricao||"").trim(),a=(e.agencia||"").trim(),i=(e.conta||"").trim();if(!(o.arquivoBoleto&&t&&a&&i))continue;let s=t+" - Ag. "+a+" C/C "+i;l.push({arquivoBoleto:o.arquivoBoleto,label:s,value:e.codigoFinanceiroBanco})}l.length&&(this.modalBoleto.financeiroBanco=l[0],this.modalBoleto.bancos=l)},fecharModalBoleto(){this.cancelarAtualizarBoletos=!0,this.cancelarEmitirBoletos=!0,this.modalBoleto.visivel=!1,this.$nextTick().then((()=>{this.modalBoleto.avito=!1}))},async emitirImprimirBoleto(){this.modalBoleto.loading=!0;let e,o,t,a={},i=[];t=this.modalBoleto.condicoesPagamento.filter((e=>e.checked));for(const e of t)if(e.codigoFinanceiroBoleto&&(e.banco||{}).arquivoBoleto){if(!a[e.banco.arquivoBoleto]){a[e.banco.arquivoBoleto]=[e.codigoFinanceiroBoleto];continue}a[e.banco.arquivoBoleto].push(e.codigoFinanceiroBoleto)}else i.push(e.codigoFinanceiroTitulo);if(i.length&&this.modalBoleto.financeiroBanco?.value){this.cancelarEmitirBoletos=!1;let t,r,l,s,n=0,c=0;if(s=(this.modalBoleto.bancos.find((e=>e.value===this.modalBoleto.financeiroBanco.value))||{}).arquivoBoleto,!s)return void this.$q.notifyError("Arquivo boleto não encontrado");for(e=`sp_financeiro_boletoEmitir ${this.modalBoleto.financeiroBanco.value}, '${i.join(",")}'`;!this.cancelarEmitirBoletos;){try{o=await(0,Fo.executarSql)(e),n=0}catch(e){o=[],++n%3==0&&this.$q.notifyError(e.message)}if(t=(o||[])[0],r=((t||{}).Msg||"").trim(),l=((t||{}).Retorno||"").trim(),"Boleto Gerado com sucesso!"===r&&l){const e=l.substring(0,l.length-1).split(",");if(!a[s]){a[s]=e;break}for(const o of e)a[s].push(o);break}++c%3==0&&this.$q.notifyError(r),await(0,Fo.dormir)(5e3)}}let r=JSON.parse(localStorage.getItem("clienteSistema"))||{};for(const e in a){let o;o="https://rel.storage.b15.com.br/Relatorios/"+e+".html?",o+="CodigoFinanceiroBoleto="+a[e].join(","),o+="&Banco="+r.bancoDeDados,o+="&URLServidor="+r.urlServidor,window.open(o)}await this.atualizarBoletos(),this.modalBoleto.loading=!1},alternarDetalhes(){this.detalhesVisivel=!this.detalhesVisivel},async atualizar(){const e=await ue.db.fatura.leCompleto(this.id);e.vendas.sort(((e,o)=>new Date(e.dataHoraFinalizado)<new Date(o.dataHoraFinalizado)?-1:1)),e.carnes.sort(((e,o)=>new Date(e.dataVencimento)<new Date(o.dataVencimento)?-1:1));const o=await e.vendas.reduce((async(e,o)=>(e[o.idContatoVendedor]||(e[o.idContatoVendedor]=await ue.db.contato.le({id:o.idContatoVendedor})),e)),{});if(e.fatura.idContato){const t=e.fatura.idContato;o[t]||(o[t]=await ue.db.contato.le({id:t}))}this.configuraImpressaoCarne(e.fatura.idEmpresa),this.configuraImpressaoConvenio(e.fatura.idEmpresa),this.configuraImpressaoEnvelope(e.fatura.idEmpresa),this.configuraImpressaoFatura(e.fatura.idEmpresa),this.contatos=o,this.dados=e,this.atualizarModalBoleto(),this.condicaoPagamento=e.condicaoPagamento,this.resumeCondicaoPagamento();const t=await ue.db.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);this.podeEditar=!1,t.find((o=>o.id===e.fatura.idEmpresa))&&(this.podeEditar=!0),this.$nextTick((()=>{e.fatura.id===localStorage.getItem("idFatura")&&(this.podeEditar&&this.$refs.faturaModal.mostrar({id:this.dados.fatura.id}),localStorage.removeItem("idFatura"))}))},copiarUid(){const e=this.$refs.uid;e.type="text";try{e.select(),document.execCommand("copy"),this.$q.notify({message:"UID copiado para a área de transferência.",type:"info"})}catch(e){this.$q.notify("Erro ao copiar.")}e.type="hidden",window.getSelection().removeAllRanges()},async configuraImpressaoConvenio(e){const o=await ue.db.configuracoes.porNome("impressao.convenio",e);this.configImpressaoConvenio=[...o.length?o.map((e=>({texto:"Imprimir Convênio",...e}))):[{valor:"convenio",texto:"Imprimir Convênio"}]]},async configuraImpressaoCarne(e){const o=await ue.db.configuracoes.porNome("impressao.carne",e);this.configImpressaoCarne=[...o.length?o.map((e=>({texto:"Imprimir Carnê",...e}))):[{valor:"carne-crediario",texto:"Reimprimir carnê e notas promissórias da fatura"}]]},async configuraImpressaoEnvelope(e){const o=await ue.db.configuracoes.porNome("impressao.envelope",e);this.configImpressaoEnvelope=[...o.length?o.map((e=>({texto:"Imprimir Envelope",...e}))):[{valor:"envelope",texto:"Imprimir Envelope"},{valor:"envelopeMini",texto:"Imprimir Envelope Mini"}]]},async configuraImpressaoFatura(e){const o=await ue.db.configuracoes.porNome("impressao.fatura",e);this.configImpressaoFatura=[...o.length?o.map((e=>({texto:"Imprimir Fatura",...e}))):[{valor:"invoice",texto:"Fatura (Invoice)"},{valor:"fatura-recibo",texto:"Recibo"}]]},editar(){this.$refs.faturaModal.mostrar({id:this.dados.fatura.id})},async executar(e){switch(e){case"atualizar":case"finalizar":case"retornarOrcamento":case"remover":return void this.$emit("executar","atualizar")}await this.atualizar()}},mixins:[Zh.Z,Zt],props:{id:{required:!0,type:String}},mounted(){this.sistemaPai=(0,Fo.sistemaPai)(),this.atualizar()}};var Rh=t(47803),Gh=t(835),Hh=t(46924),Jh=t(52788);const Yh=(0,T.Z)(Qh,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("avatar"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-badge"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-icon"),u=(0,a.resolveComponent)("q-tooltip"),p=(0,a.resolveComponent)("row"),h=(0,a.resolveComponent)("q-separator"),C=(0,a.resolveComponent)("q-item-label"),v=(0,a.resolveComponent)("q-item-section"),f=(0,a.resolveComponent)("q-item"),N=(0,a.resolveComponent)("q-list"),V=(0,a.resolveComponent)("q-menu"),g=(0,a.resolveComponent)("q-btn"),x=(0,a.resolveComponent)("documentos-fiscais"),b=(0,a.resolveComponent)("fatura-modal"),w=(0,a.resolveComponent)("q-spinner-hourglass"),_=(0,a.resolveComponent)("q-spinner-dots"),y=(0,a.resolveComponent)("q-checkbox"),I=(0,a.resolveComponent)("q-select"),E=(0,a.resolveComponent)("q-spinner"),S=(0,a.resolveComponent)("q-inner-loading"),M=(0,a.resolveComponent)("q-card-section"),T=(0,a.resolveComponent)("q-card"),k=(0,a.resolveComponent)("q-dialog"),D=(0,a.resolveComponent)("modal-historico-status"),q=(0,a.resolveDirective)("close-popup");return r.dados.fatura.id?((0,a.openBlock)(),(0,a.createBlock)(T,{key:0,id:"FaturaCard",class:"extratoItem bg-grey-1 q-pa-sm no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"items-center q-mx-none q-px-none q-mb-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Jp,[(0,a.createVNode)(d,{class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:(r.contatos[r.dados.fatura.idContato]||{}).imagem,rotulo:r.dados.fatura.descricaoContato,tamanho:"40",style:{float:"left"}},null,8,["imagem","rotulo"]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",null,(0,a.toDisplayString)(r.dados.fatura.descricaoContato),1)])),_:1}),(0,a.createVNode)(c,{rounded:"",color:"tertiary",small:"",class:"q-ma-sm"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.dados.fatura.status),1)])),_:1}),(0,a.createVNode)(c,{class:"q-mr-sm",dark:"",color:"positive",onClick:l.copiarUid},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)(parseInt(r.dados.fatura.numero)||(r.dados.fatura.id||"").slice(-6))+" ",1),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"hidden","onUpdate:modelValue":o[0]||(o[0]=e=>r.dados.fatura.id=e),ref:"uid"},null,512),[[a.vModelText,r.dados.fatura.id]])])),_:1},8,["onClick"])])),_:1})]),(0,a.createElementVNode)("div",Yp,[(0,a.createElementVNode)("p",Xp,[r.dados.fatura.dataHoraEmissao?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,name:"mdi-calendar-today "})):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.data(r.dados.fatura.dataHoraEmissao))+" ",1),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[Wp])),_:1})])]),(0,a.createElementVNode)("div",Kp,[(0,a.createElementVNode)("p",eh,[r.dados.fatura.dataHoraFinalizado?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,name:"mdi-calendar-check"})):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.data(r.dados.fatura.dataHoraFinalizado))+" ",1),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[oh])),_:1})])]),(0,a.createElementVNode)("div",th,[(0,a.createElementVNode)("p",ah,(0,a.toDisplayString)(e.$filters.numero(r.dados.fatura.totalDocumento,2)),1),(0,a.createElementVNode)("p",ih,(0,a.toDisplayString)(e.$filters.numero(r.dados.fatura.subTotal,2)),1)])])),_:1}),(0,a.createVNode)(h,{class:"hideondesktop q-mb-sm"}),(0,a.createVNode)(p,{class:"q-mx-none q-px-none items-end"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",rh,[(0,a.createVNode)(N,{class:"no-border text-tertiary"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.dados.vendas,(o=>((0,a.openBlock)(),(0,a.createBlock)(f,{key:o.id,class:"items-center q-pa-none q-mb-xs",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:"",class:"mw80"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.tipo)+" ",1),(0,a.createVNode)(c,{dark:"",color:"tertiary",denso:"",round:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("#"+(0,a.toDisplayString)(parseInt(o.numero)||(o.id||"").slice(-6)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(o.dataHoraFinalizado))+" - "+(0,a.toDisplayString)((r.contatos[o.idContatoVendedor]||{}).apelido)+" ",1),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[lh])),_:1})])),_:2},1024)])),_:2},1024),(0,a.createVNode)(v,{avatar:"",class:"mw50"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{dark:"",rounded:"",color:"tertiary",denso:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.status),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(v,{right:"",top:"",class:"mw50"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(o.totalDocumento,2)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),(0,a.createVNode)(N,{class:"no-border text-tertiary"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.dados.carnes,(o=>((0,a.openBlock)(),(0,a.createBlock)(f,{key:o.id,class:"q-pa-none q-mb-xs",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:"",class:"mw80"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[sh,(0,a.createVNode)(c,{dark:"",color:"tertiary",denso:"",round:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("#"+(0,a.toDisplayString)((o.id||"").slice(-6)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(o.dataVencimento)),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.formaDePagamento),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(v,{right:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(o.valorTotal,2)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})]),(0,a.createElementVNode)("div",nh,[(0,a.createVNode)(h,{class:"hideondesktop q-mb-sm q-mt-xs"}),(0,a.createVNode)(g,{rounded:"",dense:"",flat:"",icon:"more_vert",color:"tertiary",class:"no-shadow q-ma-xs",size:"md",style:{float:"right"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(N,{link:"",separator:""},{default:(0,a.withCtx)((()=>[r.dados.fatura.id?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,clickable:"",onClick:o[1]||(o[1]=o=>e.$refs.documentosFiscais.emitirCupom(r.dados.fatura.id))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"account_balance"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[ch])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),e.$utils.mapearStatus(r.dados.fatura).permiteNota?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createVNode)(f,{clickable:"",onClick:o[2]||(o[2]=o=>e.emitirNFeV2({idFatura:r.dados.fatura.id},1,"Venda"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"account_balance"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[dh])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(f,{clickable:"",onClick:o[3]||(o[3]=o=>e.emitirNFeV2({idFatura:r.dados.fatura.id},0,"Devolução"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"account_balance"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[mh])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(f,{clickable:"",onClick:o[4]||(o[4]=o=>e.emitirNFeV2({idFatura:r.dados.fatura.id},1,"Remessa"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"account_balance"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[uh])),_:1})])),_:1})])),_:1})],64)):(0,a.createCommentVNode)("",!0),l.mostrarOpcaoRemoverFatura?((0,a.openBlock)(),(0,a.createBlock)(f,{key:2,clickable:"",onClick:o[5]||(o[5]=e=>l.removerFatura())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"mdi-trash-can"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[ph])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(f,{clickable:"",onClick:o[6]||(o[6]=o=>e.$refs.modalHistoricoStatus.mostrar({idDocumento:r.dados.fatura.id}))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"history"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[hh])),_:1})])),_:1})])),_:1},512),[[q]])])),_:1})])),_:1}),r.podeEditar?((0,a.openBlock)(),(0,a.createBlock)(g,{key:0,rounded:"",dense:"",flat:"",icon:"edit",color:"primary",class:"no-shadow q-ma-xs",size:"md",onClick:l.editar,style:{float:"right"}},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(g,{rounded:"",dense:"",flat:"",icon:"print",color:"primary",class:"no-shadow q-ma-xs",size:"md",style:{float:"right"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(N,{link:"",separator:""},{default:(0,a.withCtx)((()=>[l.mostrarOpcaoEmitirBoleto?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,clickable:"",onClick:o[7]||(o[7]=e=>l.abrirModalBoleto())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"mdi-printer"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[Ch])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.configImpressaoFatura,(o=>((0,a.openBlock)(),(0,a.createBlock)(f,{clickable:"",key:o.valor,onClick:t=>e.$imprimir(o.valor,(r.dados.fatura||{}).id||"0")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"print"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.texto),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),"optisoul"===r.sistemaPai?((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:1},(0,a.renderList)(r.configImpressaoEnvelope,(o=>((0,a.openBlock)(),(0,a.createBlock)(f,{clickable:"",key:o.valor,onClick:t=>e.$imprimir(o.valor,(r.dados.fatura||{}).id||"0")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"print"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.texto),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)):(0,a.createCommentVNode)("",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.configImpressaoCarne,(o=>((0,a.openBlock)(),(0,a.createBlock)(f,{clickable:"",key:o.valor,onClick:t=>e.$imprimir(o.valor,(r.dados.fatura||{}).id||"0")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"print"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.texto),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.configImpressaoConvenio,(o=>((0,a.openBlock)(),(0,a.createBlock)(f,{clickable:"",key:o.valor,onClick:t=>e.$imprimir(o.valor,(r.dados.fatura||{}).id||"0")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"print"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.texto),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},512),[[q]])])),_:1})])),_:1}),(0,a.createVNode)(g,{rounded:"",dense:"",flat:"",icon:r.detalhesVisivel?"keyboard_arrow_up":"keyboard_arrow_down",size:"md",class:"no-shadow q-ma-xs",color:"tertiary",style:{float:"right"},onClick:l.alternarDetalhes},null,8,["icon","onClick"])])])),_:1}),(0,a.createVNode)(h,{class:"hideondesktop q-mb-sm q-mt-xs"}),(0,a.createVNode)(p,{class:"hideondesktop"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",vh,[(0,a.createElementVNode)("p",fh,[r.dados.fatura.dataHoraEmissao?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,name:"mdi-calendar-today"})):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.data(r.dados.fatura.dataHoraEmissao))+" ",1),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[Nh])),_:1})]),(0,a.createElementVNode)("p",Vh,[r.dados.fatura.dataHoraFinalizado?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,name:"mdi-calendar-check"})):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.data(r.dados.fatura.dataHoraFinalizado))+" ",1),r.dados.fatura.dataHoraFinalizado?((0,a.openBlock)(),(0,a.createBlock)(u,{key:1},{default:(0,a.withCtx)((()=>[gh])),_:1})):(0,a.createCommentVNode)("",!0)])]),(0,a.createElementVNode)("div",xh,[(0,a.createElementVNode)("p",bh,(0,a.toDisplayString)(e.$filters.numero(r.dados.fatura.subTotal,2)),1),(0,a.createElementVNode)("p",wh,(0,a.toDisplayString)(e.$filters.numero(r.dados.fatura.totalDocumento,2)),1)]),(0,a.createElementVNode)("div",_h,[(0,a.createVNode)(h,{class:"hideondesktop q-mb-sm q-mt-xs"}),(0,a.createVNode)(g,{rounded:"",dense:"",flat:"",icon:"more_vert",color:"tertiary",class:"no-shadow q-ma-xs",size:"md",style:{float:"right"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(N,{link:"",separator:""},{default:(0,a.withCtx)((()=>[e.$utils.mapearStatus(r.dados.fatura).permiteNota?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(f,{clickable:"",onClick:o[8]||(o[8]=o=>e.emitirNFeV2({idFatura:r.dados.fatura.id},1,"Venda"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"account_balance"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[yh])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(f,{clickable:"",onClick:o[9]||(o[9]=o=>e.emitirNFeV2({idFatura:r.dados.fatura.id},0,"Devolução"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"account_balance"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[Ih])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(f,{clickable:"",onClick:o[10]||(o[10]=o=>e.emitirNFeV2({idFatura:r.dados.fatura.id},1,"Remessa"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"account_balance"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[Eh])),_:1})])),_:1})])),_:1})],64)):(0,a.createCommentVNode)("",!0),l.mostrarOpcaoRemoverFatura?((0,a.openBlock)(),(0,a.createBlock)(f,{key:1,clickable:"",onClick:o[11]||(o[11]=e=>l.removerFatura())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"mdi-trash-can"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[Sh])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(f,{clickable:"",onClick:o[12]||(o[12]=o=>e.$refs.modalHistoricoStatus.mostrar({idDocumento:r.dados.fatura.id}))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"history"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[Mh])),_:1})])),_:1})])),_:1},512),[[q]])])),_:1})])),_:1}),r.podeEditar?((0,a.openBlock)(),(0,a.createBlock)(g,{key:0,rounded:"",dense:"",flat:"",icon:"edit",color:"primary",class:"no-shadow q-ma-xs",size:"md",onClick:l.editar,style:{float:"right"}},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(g,{rounded:"",dense:"",flat:"",icon:"print",color:"primary",class:"no-shadow q-ma-xs",size:"md",style:{float:"right"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{link:"",separator:""},{default:(0,a.withCtx)((()=>[l.mostrarOpcaoEmitirBoleto?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,clickable:"",onClick:o[13]||(o[13]=e=>l.abrirModalBoleto())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"mdi-printer"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[Th])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.configImpressaoFatura,(o=>((0,a.openBlock)(),(0,a.createBlock)(f,{clickable:"",key:o.valor,onClick:t=>e.$imprimir(o.valor,(r.dados.fatura||{}).id||"0")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"print"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.texto),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),"optisoul"===r.sistemaPai?((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:1},(0,a.renderList)(r.configImpressaoEnvelope,(o=>((0,a.openBlock)(),(0,a.createBlock)(f,{clickable:"",key:o.valor,onClick:t=>e.$imprimir(o.valor,(r.dados.fatura||{}).id||"0")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"print"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.texto),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)):(0,a.createCommentVNode)("",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.configImpressaoCarne,(o=>((0,a.openBlock)(),(0,a.createBlock)(f,{clickable:"",key:o.valor,onClick:t=>e.$imprimir(o.valor,(r.dados.fatura||{}).id||"0")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"print"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.texto),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.configImpressaoConvenio,(o=>((0,a.openBlock)(),(0,a.createBlock)(f,{clickable:"",key:o.valor,onClick:t=>e.$imprimir(o.valor,(r.dados.fatura||{}).id||"0")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"print"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.texto),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(g,{rounded:"",dense:"",flat:"",icon:r.detalhesVisivel?"keyboard_arrow_up":"keyboard_arrow_down",size:"md",class:"no-shadow q-ma-xs",color:"tertiary",style:{float:"right"},onClick:l.alternarDetalhes},null,8,["icon","onClick"])])])),_:1}),r.detalhesVisivel?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,class:"hideondesktop q-my-sm"})):(0,a.createCommentVNode)("",!0),(0,a.withDirectives)((0,a.createVNode)(p,{class:"items-start q-mx-none q-px-none q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",kh,[(0,a.createElementVNode)("p",Dh,[(0,a.createVNode)(m,{name:"business"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(r.dados.fatura.descricaoEmpresa),1)]),(0,a.createVNode)(x,{ref:"documentosFiscais",idFatura:r.dados.fatura.id},null,8,["idFatura"])]),(0,a.createElementVNode)("div",qh,[Fh,(0,a.createElementVNode)("p",Ph,(0,a.toDisplayString)(r.dados.fatura.observacaoFaturamento),1),(0,a.createVNode)(N,{class:"no-border"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.condicaoPagamentoResumo,(o=>((0,a.openBlock)(),(0,a.createBlock)(f,{key:o.id,class:"q-pa-none row",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.formaPagamento),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(v,{class:"text-right"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(o.valor,2))+(0,a.toDisplayString)(o.parcelas>1?` (em ${o.parcelas}x)`:""),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(v,{right:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(o.dataVencimento)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})]),(0,a.createElementVNode)("div",Ah,[Bh,(0,a.createElementVNode)("p",Lh,(0,a.toDisplayString)(e.$filters.numero(r.dados.fatura.totalDesconto,2)),1)])])),_:1},512),[[a.vShow,r.detalhesVisivel]]),(0,a.createVNode)(b,{ref:"faturaModal",onExecutar:l.executar},null,8,["onExecutar"]),r.modalBoleto.ativo?((0,a.openBlock)(),(0,a.createBlock)(k,{key:1,modelValue:r.modalBoleto.visivel,"onUpdate:modelValue":o[16]||(o[16]=e=>r.modalBoleto.visivel=e),onHide:l.fecharModalBoleto,minimized:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[Oh])),_:1}),(0,a.withDirectives)((0,a.createVNode)(g,{flat:"",round:"",dense:"",icon:"close"},null,512),[[q]])])),_:1}),(0,a.createVNode)(M,null,{default:(0,a.withCtx)((()=>[r.modalBoleto.condicoesPagamento.filter((e=>e.disable)).length?((0,a.openBlock)(),(0,a.createBlock)(N,{key:0,dense:"",highlight:"",class:"q-mb-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{header:""},{default:(0,a.withCtx)((()=>[zh,(0,a.createVNode)(w)])),_:1}),(0,a.createVNode)(h),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.modalBoleto.condicoesPagamento.filter((e=>e.disable)),((o,t)=>((0,a.openBlock)(),(0,a.createBlock)(f,{key:t,tag:"label"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[o.disable?((0,a.openBlock)(),(0,a.createBlock)(_,{key:0})):(0,a.createCommentVNode)("",!0)])),_:2},1024),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{header:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.descricao)+" - "+(0,a.toDisplayString)(e.$filters.numero(o.valor,2))+" - Venc. "+(0,a.toDisplayString)(e.$filters.data(o.dataVencimento)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("form",{class:"q-pa-sm",onSubmit:o[15]||(o[15]=(0,a.withModifiers)((e=>l.emitirImprimirBoleto()),["prevent"]))},[r.modalBoleto.condicoesPagamento.filter((e=>!e.disable&&e.codigoFinanceiroBoleto)).length?((0,a.openBlock)(),(0,a.createBlock)(N,{key:0,dense:"",highlight:"",class:"q-mb-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{header:""},{default:(0,a.withCtx)((()=>[jh])),_:1}),(0,a.createVNode)(h),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.modalBoleto.condicoesPagamento.filter((e=>!e.disable&&e.codigoFinanceiroBoleto)),((o,t)=>((0,a.openBlock)(),(0,a.createBlock)(f,{key:t,tag:"label"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{modelValue:o.checked,"onUpdate:modelValue":e=>o.checked=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{header:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.descricao)+" - "+(0,a.toDisplayString)(e.$filters.numero(o.valor,2))+" - Venc. "+(0,a.toDisplayString)(e.$filters.data(o.dataVencimento)),1)])),_:2},1024),(0,a.createVNode)(C,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.banco.descricao)+" - Ag. "+(0,a.toDisplayString)(o.banco.agencia)+" C/C "+(0,a.toDisplayString)(o.banco.conta)+" - Emitido em "+(0,a.toDisplayString)(e.$filters.dataHora(o.banco.dataEmissao)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})):(0,a.createCommentVNode)("",!0),r.modalBoleto.condicoesPagamento.filter((e=>!e.disable&&!e.codigoFinanceiroBoleto)).length?((0,a.openBlock)(),(0,a.createBlock)(N,{key:1,dense:"",highlight:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{header:""},{default:(0,a.withCtx)((()=>[$h])),_:1}),(0,a.createVNode)(h),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{modelValue:r.modalBoleto.financeiroBanco,"onUpdate:modelValue":o[14]||(o[14]=e=>r.modalBoleto.financeiroBanco=e),options:r.modalBoleto.bancos},null,8,["modelValue","options"])])),_:1})])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.modalBoleto.condicoesPagamento.filter((e=>!e.disable&&!e.codigoFinanceiroBoleto)),((o,t)=>((0,a.openBlock)(),(0,a.createBlock)(f,{key:t,tag:"label"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{modelValue:o.checked,"onUpdate:modelValue":e=>o.checked=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{header:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.descricao)+" - "+(0,a.toDisplayString)(e.$filters.numero(o.valor,2))+" - Venc. "+(0,a.toDisplayString)(e.$filters.data(o.dataVencimento)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",Uh,[(0,a.withDirectives)((0,a.createVNode)(g,{color:"tertiary",flat:"",label:"Cancelar"},null,512),[[q]]),(0,a.createVNode)(g,{color:"primary",class:"q-ml-sm",label:"Imprimir",type:"submit",unelevated:"",disable:!l.ativarBotaoEmissaoBoleto},null,8,["disable"])])],32),(0,a.createVNode)(S,{showing:r.modalBoleto.loading},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,{size:"50px",color:"primary"})])),_:1},8,["showing"])])),_:1})])),_:1})])),_:1},8,["modelValue","onHide"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(D,{ref:"modalHistoricoStatus"},null,512)])),_:1})):(0,a.createCommentVNode)("",!0)}]]);Z()(Qh,"components",{QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBadge:B.Z,QIcon:L.Z,QTooltip:Ao.Z,QSeparator:$.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z,QBtn:H.Z,QMenu:Bo.Z,QDialog:k.Z,QCardSection:q.Z,QSpinnerHourglass:Rh.Z,QSpinnerDots:Gh.Z,QCheckbox:Hh.Z,QSelect:al.Z,QInnerLoading:Jh.Z,QSpinner:Me.Z}),Z()(Qh,"directives",{ClosePopup:J.Z});const Xh={components:{FaturaCard:Yh,GChipsV2:Mp,nfePrincipal:xp},computed:{temFaturasAbertas(){return!!this.faturasAbertas.length},temFaturasFinalizadas(){return!!this.faturasFinalizadas.length},temFaturasCanceladas(){return!!this.faturasCanceladas.length},temRegistros(){return this.temFaturasAbertas||this.temFaturasFinalizadas||this.temFaturasCanceladas}},data:()=>({contato:null,grupos:[],faturasAbertas:[],faturasFinalizadas:[],faturasCanceladas:[],filtro:{},tipoData:"",tiposData:[{label:"Emissão",value:"emissao"},{label:"Finalizado",value:"finalizado"}],dataIni:null,dataFim:null,carregando:!1,faturasPorSecao:"10",faturasPorSecaoOpts:[{value:"5",label:"5"},{value:"10",label:"10"},{value:"15",label:"15"},{value:"20",label:"20"},{value:"25",label:"25"},{value:"50",label:"50"}],faturaCardPagination:{maxPages:7,perPage:5,faturasAbertas:{page:1,min:1,max:1},faturasFinalizadas:{page:1,min:1,max:1},faturasCanceladas:{page:1,min:1,max:1}}}),methods:{async atualizar(){let e;try{this.carregando=!0,e=setTimeout((()=>{$q.loading.show({message:"Carregando informações...",boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary"})}),500),await this.filtrar()}finally{this.carregando=!1,clearTimeout(e),$q.loading.hide()}},executar(e){this.atualizar()},fechouNFe(e){e&&$utils.emitter.emit("atualizarDocumentosFiscais")},async filtrar(){let e=[],o=new Date(new Date(this.dataIni).setHours(0,0,0,0)).toISOString().replace(/T.*/,"T00:00:00.000Z"),t=new Date(new Date(this.dataFim).setHours(0,0,0,0)).toISOString().replace(/T.*/,"T23:59:59.999Z");await $erp().documento.where(["tipo","idContato","dataHoraFinalizado"]).between(["Fatura",this.contato.id,o],["Fatura",this.contato.id,t],!0,!0).each((o=>{e.push(o)})),await $erp().documento.where(["tipo","idContato","dataHoraEmissao"]).between(["Fatura",this.contato.id,o],["Fatura",this.contato.id,t],!0,!0).each((o=>{e.find((e=>e.id===o.id))||e.push(o)}));const a=await $db.permissao.objeto("Diretiva_Venda/Fatura_OutrasLojas_VerTodos"),i=await $db.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);a||(e=e.filter((e=>i.find((o=>o.id===e.idEmpresa)))));for(const o of this.grupos){const t=o.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");e=e.filter((e=>{if(-1!==e.descricaoContato.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").search(t))return!0;let o=Number(e.codigoDocumento);if(Number.isInteger(o)&&-1!==String(o).search(t))return!0;let a=Number(e.numero);return!(!Number.isInteger(a)||-1===String(a).search(t))||void 0}))}e=$lodash.orderBy(e,"dataHoraEmissao","desc");const r=e.filter((e=>"Aberta"===e.status)),l=e.filter((e=>!["Aberta","Cancelada"].includes(e.status))),s=e.filter((e=>"Cancelada"===e.status));this.faturaCardPagination.faturasAbertas.max=(r.length/5|0)+(r.length%5>0?1:0),this.faturaCardPagination.faturasFinalizadas.max=(l.length/5|0)+(l.length%5>0?1:0),this.faturaCardPagination.faturasCanceladas.max=(s.length/5|0)+(s.length%5>0?1:0),this.faturasAbertas=r,this.faturasFinalizadas=l,this.faturasCanceladas=s},async limparFiltro(){this.grupos=[],this.dataFim=new Date;const e=new Date;if(e.setMonth(e.getMonth()-3),this.dataIni=e,this.contato.codigoContato){const e=await $db.configuracoes.leValorNumerico("venda.codigoconsumidor");this.contato.codigoContato===e&&(this.dataIni=this.dataFim)}}},watch:{"$route.params.id"(){const e=this.$route.params.id;e&&$db.contato.le({id:e}).then((e=>{this.contato=e,this.limparFiltro().then((()=>{this.atualizar()}))}))}},mounted(){$utils.emitter.off("atualizarAtendimentoFatura"),$utils.emitter.on("atualizarAtendimentoFatura",this.atualizar);const e=this.$route.params.id;e&&$db.contato.le({id:e}).then((e=>{this.contato=e,this.limparFiltro().then((()=>{this.atualizar()}))}))},unmounted(){$utils.emitter.off("atualizarAtendimentoFatura")}},Wh=(0,T.Z)(Xh,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("GChipsV2"),c=(0,a.resolveComponent)("campo"),d=(0,a.resolveComponent)("row"),m=(0,a.resolveComponent)("q-card"),u=(0,a.resolveComponent)("q-pagination"),p=(0,a.resolveComponent)("fatura-card"),h=(0,a.resolveComponent)("q-expansion-item"),C=(0,a.resolveComponent)("q-list"),v=(0,a.resolveComponent)("nfePrincipal");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Fp,[(0,a.createVNode)(m,{class:"q-pa-sm q-mx-sm no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"items-center q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Pp,[(0,a.createVNode)(n,{modelValue:r.grupos,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.grupos=e),l.filtrar],class:"q-px-none",placeholder:"Filtre por Código, Número..."},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"mdi-filter"})])),_:1},8,["modelValue","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",Ap,[(0,a.createVNode)(c,{modelValue:r.dataIni,"onUpdate:modelValue":o[1]||(o[1]=e=>r.dataIni=e),tipo:"data",onBlur:l.atualizar,dense:"",outlined:""},null,8,["modelValue","onBlur"])]),Bp,(0,a.createElementVNode)("div",Lp,[(0,a.createVNode)(c,{modelValue:r.dataFim,"onUpdate:modelValue":o[2]||(o[2]=e=>r.dataFim=e),tipo:"data",onBlur:l.atualizar,dense:"",outlined:""},null,8,["modelValue","onBlur"])])])),_:1})])),_:1}),!r.carregando&&l.temRegistros?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0,class:"no-border"},{default:(0,a.withCtx)((()=>[l.temFaturasAbertas?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,"default-opened":"",label:"Abertas (Total R$ "+e.$filters.numero(r.faturasAbertas.reduce(((e,o)=>e+o.totalDocumento),0),2)+")",group:"faturasAbertas"},{default:(0,a.withCtx)((()=>[r.faturaCardPagination.faturasAbertas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",Op,[(0,a.createVNode)(u,{modelValue:r.faturaCardPagination.faturasAbertas.page,"onUpdate:modelValue":o[3]||(o[3]=e=>r.faturaCardPagination.faturasAbertas.page=e),min:r.faturaCardPagination.faturasAbertas.min,max:r.faturaCardPagination.faturasAbertas.max,ellipses:"","max-pages":r.faturaCardPagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.faturasAbertas.slice((r.faturaCardPagination.faturasAbertas.page-1)*r.faturaCardPagination.perPage,r.faturaCardPagination.faturasAbertas.page*r.faturaCardPagination.perPage),(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id},[(0,a.createVNode)(p,{id:e.id,onExecutar:l.executar,class:"q-mb-md"},null,8,["id","onExecutar"])])))),128)),r.faturaCardPagination.faturasAbertas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",zp,[(0,a.createVNode)(u,{modelValue:r.faturaCardPagination.faturasAbertas.page,"onUpdate:modelValue":o[4]||(o[4]=e=>r.faturaCardPagination.faturasAbertas.page=e),min:r.faturaCardPagination.faturasAbertas.min,max:r.faturaCardPagination.faturasAbertas.max,ellipses:"","max-pages":r.faturaCardPagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0)])),_:1},8,["label"])):(0,a.createCommentVNode)("",!0),l.temFaturasFinalizadas?((0,a.openBlock)(),(0,a.createBlock)(h,{key:1,"default-opened":"",label:"Finalizadas (Total R$ "+e.$filters.numero(r.faturasFinalizadas.reduce(((e,o)=>e+o.totalDocumento),0),2)+")",group:"faturasFinalizadas"},{default:(0,a.withCtx)((()=>[r.faturaCardPagination.faturasFinalizadas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",jp,[(0,a.createVNode)(u,{modelValue:r.faturaCardPagination.faturasFinalizadas.page,"onUpdate:modelValue":o[5]||(o[5]=e=>r.faturaCardPagination.faturasFinalizadas.page=e),min:r.faturaCardPagination.faturasFinalizadas.min,max:r.faturaCardPagination.faturasFinalizadas.max,ellipses:"","max-pages":r.faturaCardPagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",$p,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.faturasFinalizadas.slice((r.faturaCardPagination.faturasFinalizadas.page-1)*r.faturaCardPagination.perPage,r.faturaCardPagination.faturasFinalizadas.page*r.faturaCardPagination.perPage),(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"q-px-sm full-width",key:e.id},[(0,a.createVNode)(p,{id:e.id,onExecutar:l.executar,class:"q-mb-md"},null,8,["id","onExecutar"])])))),128))]),r.faturaCardPagination.faturasFinalizadas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",Up,[(0,a.createVNode)(u,{modelValue:r.faturaCardPagination.faturasFinalizadas.page,"onUpdate:modelValue":o[6]||(o[6]=e=>r.faturaCardPagination.faturasFinalizadas.page=e),min:r.faturaCardPagination.faturasFinalizadas.min,max:r.faturaCardPagination.faturasFinalizadas.max,ellipses:"","max-pages":r.faturaCardPagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0)])),_:1},8,["label"])):(0,a.createCommentVNode)("",!0),l.temFaturasCanceladas?((0,a.openBlock)(),(0,a.createBlock)(h,{key:2,"default-opened":"",label:"Canceladas (Total R$ "+e.$filters.numero(r.faturasCanceladas.reduce(((e,o)=>e+o.totalDocumento),0),2)+")",group:"faturasCanceladas"},{default:(0,a.withCtx)((()=>[r.faturaCardPagination.faturasCanceladas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",Zp,[(0,a.createVNode)(u,{modelValue:r.faturaCardPagination.faturasCanceladas.page,"onUpdate:modelValue":o[7]||(o[7]=e=>r.faturaCardPagination.faturasCanceladas.page=e),min:r.faturaCardPagination.faturasCanceladas.min,max:r.faturaCardPagination.faturasCanceladas.max,ellipses:"","max-pages":r.faturaCardPagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",Qp,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.faturasCanceladas.slice((r.faturaCardPagination.faturasCanceladas.page-1)*r.faturaCardPagination.perPage,r.faturaCardPagination.faturasCanceladas.page*r.faturaCardPagination.perPage),(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"q-px-sm full-width",key:e.id},[(0,a.createVNode)(p,{id:e.id,onExecutar:l.executar,class:"q-mb-md"},null,8,["id","onExecutar"])])))),128))]),r.faturaCardPagination.faturasCanceladas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",Rp,[(0,a.createVNode)(u,{modelValue:r.faturaCardPagination.faturasCanceladas.page,"onUpdate:modelValue":o[8]||(o[8]=e=>r.faturaCardPagination.faturasCanceladas.page=e),min:r.faturaCardPagination.faturasCanceladas.min,max:r.faturaCardPagination.faturasCanceladas.max,ellipses:"","max-pages":r.faturaCardPagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0)])),_:1},8,["label"])):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0),r.carregando||l.temRegistros?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",Gp,Hp)),(0,a.createVNode)(v,{onFechar:l.fechouNFe},null,8,["onFechar"])])}]]);Z()(Xh,"components",{QCard:D.Z,QIcon:L.Z,QList:F.Z,QExpansionItem:P.Z,QPagination:Dp.Z});const Kh={key:0,class:"bg-white q-pa-xl text-center"},eC=(0,a.createElementVNode)("p",{class:"text-caption"},"Para incluir, utilize o botão de adição.",-1),oC=(0,a.createTextVNode)(" Duplicar "),tC=(0,a.createTextVNode)(" Remover "),aC=(0,a.createElementVNode)("div",{class:"q-ma-xl"},null,-1);var iC=t(2085),rC=t(78955);const lC={id:"OSCard"},sC={class:"col-12 col-md-6"},nC=(0,a.createTextVNode)(" Ordem de serviço "),cC={class:"col-8 col-md"},dC={class:"text-left q-my-none"},mC=(0,a.createTextVNode)(" Emissão "),uC={class:"col-auto text-right items-end justify-end"},pC={class:"col-12"},hC={components:{BadgeCopiarUid:xs.Z},data:()=>({}),methods:{async atualizar(){this.os.id&&(this.os.itens=await(0,Mo.X)().documentoItem.where({idDocumentoAdicional:this.os.id}).toArray())}},props:{os:{type:Object,required:!0}},mounted(){this.atualizar()}},CC=(0,T.Z)(hC,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-badge"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-icon"),m=(0,a.resolveComponent)("q-tooltip"),u=(0,a.resolveComponent)("BadgeCopiarUid"),p=(0,a.resolveComponent)("row"),h=(0,a.resolveComponent)("q-item-section"),C=(0,a.resolveComponent)("q-item-label"),v=(0,a.resolveComponent)("q-item"),f=(0,a.resolveComponent)("q-list"),N=(0,a.resolveComponent)("q-card");return(0,a.openBlock)(),(0,a.createElementBlock)("div",lC,[(0,a.createVNode)(N,{class:"card-os q-pa-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"items-center justify-between q-col-gutter-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",sC,[(0,a.createVNode)(c,{class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[nC])),_:1}),(0,a.createVNode)(n,{rounded:"",color:"tertiary",small:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.os.status),1)])),_:1})])),_:1})]),(0,a.createElementVNode)("div",cC,[(0,a.createElementVNode)("p",dC,[t.os.dataHoraEmissao?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,name:"mdi-calendar-today "})):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.data(t.os.dataHoraEmissao))+" ",1),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[mC])),_:1})])]),(0,a.createElementVNode)("div",uC,[(0,a.createVNode)(u,{id:t.os.id,numero:t.os.numero,cor:"positive"},null,8,["id","numero"])])])),_:1}),(0,a.createVNode)(p,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",pC,[(0,a.createElementVNode)("div",null,(0,a.toDisplayString)(t.os.descricao),1),e.$lodash.get(t.os,"itens.length")?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,class:"no-border"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(t.os.itens,(o=>((0,a.openBlock)(),(0,a.createBlock)(v,{key:o.id,class:"q-pa-none",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("small",null,(0,a.toDisplayString)(o.quantidade)+"x",1)])),_:2},1024),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("small",null,(0,a.toDisplayString)(o.descricaoItem),1)])),_:2},1024),(0,a.createVNode)(h,{right:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("small",null,(0,a.toDisplayString)(e.$filters.numero(o.total,2)),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})):(0,a.createCommentVNode)("",!0)])])),_:1})])),_:1})])}]]);Z()(hC,"components",{QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBadge:B.Z,QIcon:L.Z,QTooltip:Ao.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z});const vC={components:{BadgeCopiarUid:xs.Z,EquipamentoCard:iC.Z,EquipamentoModal:rC.Z,OSCard:CC},data:()=>({contato:{},equipamentos:[]}),methods:{async atualizar(){try{this.idContato=this.contato.id,this.equipamentos=(await $db.equipamento.le({idContato:this.idContato})).sort(((e,o)=>(e.dataCadastro||"z").localeCompare(o.dataCadastro||"z"))),$utils.gconsole.log("Equipamentos","atualizar",this.equipamentos.length,"linhas");for(const e of this.equipamentos)e.oss=await $erp().documento.where({idEquipamento:e.id}).toArray();console.log("this.equipamentos",this.equipamentos)}catch(e){this.$q.notifyError("Ocorreu erro ao consultar equipamentos",e)}},async abrirModalEquipamento(e){$utils.gconsole.log("Equipamentos","abrirModalEquipamento",{...e}),this.$refs.equipamento.campos=$utils.clonarV2(e),this.$refs.equipamento.original=$utils.clonarV2(e),this.$refs.equipamento.visivel=!0},async duplicarEquipamento(e){e||(e=this.$refs.equipamento.campos);const o=this.$utils.clonarV2(e);o.id=this.$utils.uuid(),delete o.dataCadastro,this.$refs.equipamento.original={},this.$refs.equipamento.campos=o,this.$refs.equipamento.visivel=!0,this.$q.notifyPositive("Equipamento duplicado com sucesso")},async removerEquipamento(e){$utils.gconsole.log("Equipamentos","removerEquipamento",{...e}),$q.dialog({title:"Tem certeza que deseja remover?",message:"Ao continuar você irá remover o equipamento",cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{this.tryLoading((async()=>{await $db.equipamento.remove(e.id),await this.atualizar(),this.$q.notifyPositive("O equipamento foi removido com sucesso")}),{erro:"Erro ao remover equipamento"})})).onCancel((()=>{console.log("Cancel")}))}},watch:{"$route.params.id"(){const e=this.$route.params.id;e&&$db.contato.le({id:e}).then((e=>{this.contato=e,this.atualizar()}))}},mounted(){const e=this.$route.params.id;e&&$db.contato.le({id:e}).then((e=>{this.contato=e,this.atualizar()}))}},fC=(0,T.Z)(vC,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("BadgeCopiarUid"),c=(0,a.resolveComponent)("q-btn"),d=(0,a.resolveComponent)("q-icon"),m=(0,a.resolveComponent)("q-item-section"),u=(0,a.resolveComponent)("q-item"),p=(0,a.resolveComponent)("q-list"),h=(0,a.resolveComponent)("q-menu"),C=(0,a.resolveComponent)("q-toolbar"),v=(0,a.resolveComponent)("EquipamentoCard"),f=(0,a.resolveComponent)("row"),N=(0,a.resolveComponent)("OSCard"),V=(0,a.resolveComponent)("q-card"),g=(0,a.resolveComponent)("EquipamentoModal"),x=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[r.equipamentos.length?((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:1},(0,a.renderList)(r.equipamentos,(e=>((0,a.openBlock)(),(0,a.createBlock)(V,{class:"q-px-md q-pb-md q-mb-md bg-white no-shadow rounded-borders",key:e.id},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"q-px-none items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.tipo||"Equipamento"),1)])),_:2},1024),(0,a.createVNode)(n,{id:e.id,numero:"",class:"q-my-none q-mr-sm",cor:"positive"},null,8,["id"]),(0,a.createVNode)(c,{color:"primary",flat:"",icon:"edit",onClick:o=>l.abrirModalEquipamento(e),round:""},null,8,["onClick"]),(0,a.createVNode)(c,{color:"tertiary",flat:"",icon:"more_vert",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{link:"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(u,{clickable:"",onClick:o=>l.duplicarEquipamento(e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"file_copy"})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[oC])),_:1})])),_:2},1032,["onClick"]),[[x]]),(0,a.withDirectives)((0,a.createVNode)(u,{clickable:"",onClick:o=>l.removerEquipamento(e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"delete"})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[tC])),_:1})])),_:2},1032,["onClick"]),[[x]])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(f,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{equipamento:e},null,8,["equipamento"])])),_:2},1024),(0,a.createVNode)(f,{class:"row"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.oss,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id,class:"col-12 q-mt-lg"},[(0,a.createVNode)(N,{os:e,class:"q-mb-md"},null,8,["os"])])))),128))])),_:2},1024)])),_:2},1024)))),128)):((0,a.openBlock)(),(0,a.createElementBlock)("div",Kh,[(0,a.createElementVNode)("p",null,"Não há equipamentos cadastrados para o contato "+(0,a.toDisplayString)((r.contato.nome||"").trim())+".",1),eC])),aC,(0,a.createVNode)(c,{round:"",color:"primary",class:"fixed",icon:"add",size:"lg",style:{right:"18px",bottom:"18px"},onClick:o[0]||(o[0]=e=>l.abrirModalEquipamento({}))}),(0,a.createVNode)(g,{ref:"equipamento",onAtualizar:l.atualizar},null,8,["onAtualizar"])])}]]);Z()(vC,"components",{QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QIcon:L.Z}),Z()(vC,"directives",{ClosePopup:J.Z});var NC=t(60223),VC=t.n(NC);const gC={class:"Autenticacao-main fixed-center text-center"},xC=(0,a.createElementVNode)("img",{alt:"B15",class:"q-mb-lg",src:VC(),style:{height:"50px"}},null,-1),bC={},wC=(0,T.Z)(bC,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("router-view"),n=(0,a.resolveComponent)("q-layout");return(0,a.openBlock)(),(0,a.createBlock)(n,{class:"Autenticacao bg-cover fit"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",gC,[xC,(0,a.createVNode)(s)])])),_:1})}]]);Z()(bC,"components",{QLayout:ae.Z});const _C={class:"AutenticacaoBancos"},yC=(0,a.createTextVNode)(" Erro ao estabelecer conexão. "),IC=(0,a.createElementVNode)("p",null,"Selecione os bancos de dados que deseja disponibilizar nesta máquina:",-1),EC={class:"AutenticacaoBancos-bancos"},SC={class:"actions q-mt-lg"},MC={key:2,class:"q-mt-md text-white"},TC=(0,a.createElementVNode)("div",{class:"text-body2 q-mt-sm"},"Aguarde, sincronizando...",-1),kC={class:"text-caption q-mt-sm text-light"},DC={key:3,class:"q-mt-md text-white"},qC=[(0,a.createElementVNode)("div",{class:"text-body2 q-mt-sm"},"Redirecionando...",-1)],FC={key:4,class:"q-mt-md text-white"},PC=(0,a.createElementVNode)("div",{class:"text-body2 q-mt-sm"},"Adicionado bancos de dados...",-1),AC={key:5,class:"q-mt-md text-white"},BC=[(0,a.createElementVNode)("div",{class:"text-body2 q-mt-sm"},"Carregando...",-1)];var LC=t(49642);const OC={components:{},data(){return{filtro:"",idsClienteSistemaSelecionados:[],operacao:"",plataformaPercentagem:"0 %",sincronismoStatus:l.t.status,clienteSistemasFiltrado:[],erroAcoes:[{label:"Retomar",handler:this.atualizar}]}},methods:{async abrirSistema(){this.operacao="redirecionando",this.$router.push({name:"Home"})},async atualizar(){$utils.gconsole.log("AutenticacaoBancos","atualizar()");try{if($q.loading.show(),!navigator.onLine)return void(this.operacao="semConexao");const e=JSON.parse(localStorage.getItem("clienteSistemaBaixados")||"[]").map((e=>e.idClienteSistema)),o=o=>""+(99-Number(o.padrao))+Number(!e.includes(o.idClienteSistema))+o.sistema+o.bancoDeDados;if(await $db.usuario.inicializaLogado(),navigator.onLine){const e=await $utils.geeksApi({clienteSistemas:{funcao:"50BD6521-7654-4455-A161-BDFFCC1AA3A9"}},{bancoDeDados:"GeeksPlat15A"});this.sistemas=e.data.clienteSistemas.sort(((e,t)=>o(e).localeCompare(o(t))))}else this.sistemas=$db.usuario.logado.sistemas.sort(((e,t)=>o(e).localeCompare(o(t))));if(!(await LC.Z.getDatabaseNames()).includes("plataforma"))return this.$q.notifyError("O banco principal não foi encontrado."),this.desconectar();if(!Array.isArray(this.sistemas))return this.$q.notifyError("Não foi possível obter os bancos de dados."),this.desconectar();if(this.sistemas.length<=0)return this.$q.notifyError("Este usuário não possui direito de acesso a nenhum sistema."),this.desconectar();const t=this.sistemas.filter((e=>"19A"===e.versao));return"selecionar"===this.operacao?($utils.gconsole.log("AutenticacaoBancos","aguardando selecionar sistemas/bancos"),this.idsClienteSistemaSelecionados=e,void(this.clienteSistemasFiltrado=this.sistemas)):localStorage.getItem("clienteSistema")?"ok"!==localStorage.getItem("sincronismoPlat")?this.sincronismoInicial():($utils.gconsole.log("abrirSistema","via atualizar"),this.abrirSistema()):void(t.length<=1&&this.sistemas.length<=10?($utils.gconsole.log("AutenticacaoBancos","menos de 10 sistemas online e 1 banco offline"),this.idsClienteSistemaSelecionados=this.sistemas.map((e=>e.idClienteSistema)),this.adicionarBancos()):($utils.gconsole.log("AutenticacaoBancos","aguardando selecionar sistemas/bancos"),this.idsClienteSistemaSelecionados=e,this.clienteSistemasFiltrado=this.sistemas,this.operacao="selecionar"))}catch(e){this.$q.notifyError("Erro na operação",e)}finally{$q.loading.hide()}},obterDispositivo(){let e=localStorage.getItem("dispositivoCliente");return e||(e=$utils.uuid(),localStorage.setItem("dispositivoCliente",e)),{id:e,detalhe:JSON.stringify({navigator:navigator?{platform:navigator.platform,vendor:navigator.vendor,appVersion:navigator.appVersion,userAgent:navigator.userAgent,deviceMemory:navigator.deviceMemory,connection_downlink:(navigator.connection||{}).downlink}:{},screen:screen?{width:screen.width,height:screen.height}:{},usuario:{id:$db.usuario.logado.id,nome:$db.usuario.logado.nome},dataHora:$utils.dataAtual()})}},async adicionarBancos(){if($utils.gconsole.log("AutenticacaoBancos","adicionarBancos()"),!this.idsClienteSistemaSelecionados.length)return this.operacao="selecionar",this.$q.notifyError("Banco de dados não selecionado");this.operacao="adicionandoBancoDeDados";const e=JSON.parse(localStorage.getItem("clienteSistema")||"null"),o=this.sistemas.filter((e=>this.idsClienteSistemaSelecionados.includes(e.idClienteSistema))),t=e&&this.idsClienteSistemaSelecionados.includes(e.id)?e:o[0],a=this.obterDispositivo(),i=o.filter((e=>"19A"===e.versao)),r=$utils.unicos(i,"bancoDeDados"),s=await Mo.s.sincronismo.toArray();$db.cache.setJson("clienteSistemaBaixados",o),$db.cache.setJson("clienteSistema",t),$db.cache.set("bancoDeDados",t.bancoDeDados),localStorage.setItem("sincronismoPlat","sincronizando"),localStorage.setItem("versaoPlataforma",""),$db.cache.setJson("sincronismoPlataforma",{});for(const e of Mo.s.tables)"login"!==e.name&&await e.clear();(await LC.Z.getDatabaseNames()).filter((e=>"plataforma"!==e&&!r.includes(e))).forEach((e=>{$erp(e,"delete")}));for(const e of r){const o=s.find((o=>o.bancoDeDados===e))||{bancoDeDados:e};await Mo.s.sincronismo.put(o),await $db.dispositivoCliente.grava(a,e)}return await l.t.atualizarStatus(),this.plataformaPercentagem="0 %",this.sincronismoInicial()},desconectar(){$utils.gconsole.log("AutenticacaoBancos","desconectar()"),$db.usuario.desconecta(),this.$router.push({name:"Autenticacao"})},async sincronismoInicial(){$utils.gconsole.log("AutenticacaoBancos","sincronismoInicial()"),l.t.descarregarPlataforma(),l.t.descarregarErp(),this.operacao="sincronizando"},mostraTelaSelecao(e){$utils.gconsole.log("AutenticacaoBancos","aguardando selecionar sistemas/bancos"),this.idsClienteSistemaSelecionados=e;const o=o=>""+(99-Number(o.padrao))+Number(!e.includes(o.idClienteSistema))+o.sistema+o.bancoDeDados;this.clienteSistemasFiltrado=this.sistemas=this.sistemas.sort(((e,t)=>o(e).localeCompare(o(t)))),this.operacao="selecionar"},sincronismoPlataformaPercentagem(e){this.plataformaPercentagem=e,"100 %"===e&&e&&"selecionar"!==this.operacao&&this.abrirSistema()}},watch:{filtro(e){$utils.gconsole.log("AutenticacaoBancos","filtro",e),this.clienteSistemasFiltrado=e?this.sistemas.filter((o=>o.bancoDeDados.toUpperCase().includes(e.toUpperCase()))):this.sistemas}},async created(){this.operacao=this.$route.params.operacao},async mounted(){await this.atualizar(),$utils.emitter.on("sincronismoPlataformaPercentagem",this.sincronismoPlataformaPercentagem,this)},beforeUnmount(){$utils.emitter.off("sincronismoPlataformaPercentagem",this.sincronismoPlataformaPercentagem)}},zC=(0,T.Z)(OC,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-banner"),n=(0,a.resolveComponent)("q-input"),c=(0,a.resolveComponent)("q-field"),d=(0,a.resolveComponent)("q-checkbox"),m=(0,a.resolveComponent)("q-btn"),u=(0,a.resolveComponent)("q-spinner");return(0,a.openBlock)(),(0,a.createElementBlock)("div",_C,["semConexao"===r.operacao?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,actions:r.erroAcoes,detail:"Tente novamente em instantes.",type:"negative"},{default:(0,a.withCtx)((()=>[yC])),_:1},8,["actions"])):"selecionar"===r.operacao?((0,a.openBlock)(),(0,a.createElementBlock)("form",{key:1,class:"text-white",onSubmit:o[2]||(o[2]=(0,a.withModifiers)(((...e)=>l.adicionarBancos&&l.adicionarBancos(...e)),["prevent"]))},[IC,(0,a.createElementVNode)("div",EC,[(0,a.createVNode)(c,{"error-label":"Informe uma senha válida.",class:"q-px-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{modelValue:r.filtro,"onUpdate:modelValue":o[0]||(o[0]=e=>r.filtro=e),filled:"",dark:"",dense:"",label:"Filtro"},null,8,["modelValue"])])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.clienteSistemasFiltrado,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(c,{key:t},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:r.idsClienteSistemaSelecionados,"onUpdate:modelValue":o[1]||(o[1]=e=>r.idsClienteSistemaSelecionados=e),label:e.sistema+" - "+e.bancoDeDados,val:e.idClienteSistema,dark:"",color:"primary"},null,8,["modelValue","label","val"])])),_:2},1024)))),128))]),(0,a.createElementVNode)("div",SC,[(0,a.createVNode)(m,{color:"transparent",label:"Desconectar",size:"md","text-color":"primary",onClick:l.desconectar},null,8,["onClick"]),(0,a.createVNode)(m,{autofocus:"",class:"q-ml-md",color:"white",label:"Continuar","text-color":"primary",type:"submit",disable:!r.idsClienteSistemaSelecionados.length},null,8,["disable"])])],32)):"sincronizando"===r.operacao?((0,a.openBlock)(),(0,a.createElementBlock)("div",MC,[(0,a.createVNode)(u,{color:"white",size:35}),TC,(0,a.createElementVNode)("div",kC," plataforma: "+(0,a.toDisplayString)(r.plataformaPercentagem),1)])):"redirecionando"===r.operacao?((0,a.openBlock)(),(0,a.createElementBlock)("div",DC,qC)):"adicionandoBancoDeDados"===r.operacao?((0,a.openBlock)(),(0,a.createElementBlock)("div",FC,[(0,a.createVNode)(u,{color:"white",size:35}),PC])):((0,a.openBlock)(),(0,a.createElementBlock)("div",AC,BC))])}]]);Z()(OC,"components",{QBanner:Qe.Z,QField:Sp.Z,QInput:re.Z,QCheckbox:Hh.Z,QBtn:H.Z,QSpinner:Me.Z});const jC={class:"q-my-xl q-px-md float-left full-width"},$C={class:"float-left full-width q-mt-lg"},UC=(0,a.createElementVNode)("span",{class:"text-white"},"Não tem uma conta?",-1),ZC={data:()=>({text:"",campos:{cpf:"",senha:""},validation:{campos:{}},carregando:!1}),methods:{abrirURL:Tp.Z,async entrar(){if(!this.carregando)try{this.carregando=!0,await this.validar(),await $db.usuario.autentica({cpf:this.campos.cpf,senha:this.campos.senha}),this.$router.push({name:"AutenticacaoBancos"})}catch(e){this.$q.notifyError(e.message,e)}finally{this.carregando=!1}},async validar(){const e={required:e=>(e||"").length>0};this.validation.campos.cpf=[e.required],this.validation.campos.senha=[e.required],this.$refs.cpf.validate(),this.$refs.senha.validate(),await this.$nextTick();const o=this.$refs.cpf.validate(),t=this.$refs.senha.validate();if(!o||!t)throw new Error("Preencha os campos obrigatórios")}}},QC=(0,T.Z)(ZC,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-input"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("row");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("form",{onSubmit:o[2]||(o[2]=(0,a.withModifiers)(((...e)=>l.entrar&&l.entrar(...e)),["prevent"])),class:"q-my-xl float-left full-width"},[(0,a.createElementVNode)("div",jC,[(0,a.createVNode)(s,{modelValue:r.campos.cpf,"onUpdate:modelValue":o[0]||(o[0]=e=>r.campos.cpf=e),label:"CPF","lazy-rules":"",filled:"",dark:"",autofocus:"",class:"full-width",ref:"cpf",rules:r.validation.campos.cpf},null,8,["modelValue","rules"]),(0,a.createVNode)(s,{modelValue:r.campos.senha,"onUpdate:modelValue":o[1]||(o[1]=e=>r.campos.senha=e),label:"Senha",type:"password","lazy-rules":"",filled:"",dark:"",class:"full-width q-my-sm",ref:"senha",rules:r.validation.campos.senha},null,8,["modelValue","rules"]),(0,a.createVNode)(n,{class:"full-width",color:"white",label:"Entrar",loading:r.carregando,size:"lg","text-color":"primary",type:"submit"},null,8,["loading"])])],32),(0,a.createVNode)(c,{class:"justify-center text-center q-mt-lg"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("p",$C,[UC,(0,a.createVNode)(n,{color:"transparent",label:"Cadastre-se",size:"md","text-color":"white",onClick:o[3]||(o[3]=e=>l.abrirURL("https://b15.com.br"))})])])),_:1})],64)}]]);Z()(ZC,"components",{QInput:re.Z,QBtn:H.Z});const RC={class:"u-container"},GC=(0,a.createTextVNode)(" Caixa "),HC={class:"bg-gradiente text-white"},JC={class:"u-container"},YC={class:"u-container"},XC={components:{Tutorial:po.Z},computed:{badge(){return this.contato.ativo?this.contato.condutaRestricao?{cor:"negative",rotulo:"Restrição"}:!!this.contato.condutaObservacao&&{cor:"warning",rotulo:"Observação"}:{cor:"tertiary",rotulo:"Excluído"}}},data:()=>({dbUsuario:$db.usuario,abas:[],dados:{empresaselecionada:["Principal"],empresa:[{label:"Principal",value:"Principal"},{label:"Empresa X",value:"Emprexa X"},{label:"Emprexa P",value:"Emprexa P"},{label:"Emprexa T",value:"Emprexa T"},{label:"Emprexa O",value:"Emprexa O"}]},carregando:!1,contatosInativosModal:!1,contatosModal:!1,filtrosContatos:[]}),methods:{async atualizarAbas(){let e=[];await $db.permissao.objeto("caixa/empresas")&&e.push({icon:"credit_card",label:"Caixa",to:{name:"CaixaEmpresas"}}),await $db.permissao.objeto("caixa/tesouraria")&&e.push({icon:"account_balance",label:"Tesouraria",to:{name:"CaixaTesouraria"}}),this.abas=e}},watch:{"dbUsuario.logado.id"(){this.atualizarAbas()}},created(){this.atualizarAbas()}};var WC=t(52801);const KC=(0,T.Z)(XC,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("Tutorial"),d=(0,a.resolveComponent)("row"),m=(0,a.resolveComponent)("q-toolbar"),u=(0,a.resolveComponent)("q-route-tab"),p=(0,a.resolveComponent)("q-tabs"),h=(0,a.resolveComponent)("router-view"),C=(0,a.resolveComponent)("q-page");return(0,a.openBlock)(),(0,a.createBlock)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"bg-gradiente text-white"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",RC,[(0,a.createVNode)(d,{class:"items-center q-mx-none q-px-none q-py-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"credit_card",size:"32px"}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[GC])),_:1}),(0,a.createVNode)(c,{componente:"CaixaLayout"})])),_:1})])])),_:1}),(0,a.createElementVNode)("div",HC,[(0,a.createElementVNode)("div",JC,[(0,a.createVNode)(p,{align:"justify",dense:"","indicator-color":"light-blue-4",color:"transparent","text-color":"white",class:"text-white q-mb-md"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.abas,((e,o)=>((0,a.openBlock)(),(0,a.createBlock)(u,(0,a.mergeProps)({class:"Caixa-aba"},e,{key:o}),null,16)))),128))])),_:1})])]),(0,a.createElementVNode)("div",YC,[(0,a.createVNode)(h)])])),_:1})}]]);Z()(XC,"components",{QPage:se.Z,QToolbar:O.Z,QIcon:L.Z,QToolbarTitle:G.Z,QTabs:ko.Z,QRouteTab:WC.Z});const ev={class:"CaixaEmpresas"},ov={class:"q-pb-md"},tv={class:"no-shadow"};var av=t(72699);const iv=(0,a.createTextVNode)("Conferência de Caixa"),rv={class:"row"},lv={class:"col-6"},sv={class:"col-6"},nv={key:1,class:"text-center q-mt-md"},cv={style:{"font-size":"80%"}},dv={class:"q-mt-lg text-center"},mv={computed:{documentosCaixaEncontrados(){return!!this.documentosCaixa.filter((e=>e.valor)).length}},data:()=>({abrindo:!1,documentosCaixa:[],empresa:{},idDocumentoCaixa:"",msg:"",periodo:{},visivel:!1}),methods:{async abrir(){this.idDocumentoCaixa&&(this.abrindo=!0,this.$imprimir("conferencia-de-caixa",this.idDocumentoCaixa),this.visivel=!1)},async abrirModalContatoEmpresas(){if(this.abrindo)return;const e=await $g.promptContato.show({filtro:{ativo:!0,empresas:!0},placeholder:"Selecione a empresa"});this.selecionarEmpresa((e||{}).id)},async getDocumentosCaixa(){try{if(!this.empresa.id)return;this.documentosCaixa=[],this.idDocumentoCaixa="",this.msg="Carregando caixas...",await $utils.dormir(500);const e=await $db.documento.le({tipo:"Caixa",idEmpresa:this.empresa.id}),o=new Date(new Date(this.periodo.de).toDateString()),t=new Date(new Date(this.periodo.ate).toDateString());let a=e.filter((e=>{const a=new Date(new Date(e.dataHoraFinalizado).toDateString());return["Aguardando Conferência","Fechado"].includes(e.status)&&a>=o&&a<=t}));a=$lodash.orderBy(a,"dataHoraFinalizado","desc");for(const e of a)e.rotulo=((await $db.caixa.le({id:e.idCaixa})||{}).descricao||"")+" - Fechado em "+this.$filters.dataHora(e.dataHoraFinalizado),e.valor=e.id;this.documentosCaixa=[{rotulo:"Selecione um caixa",valor:""},...a],this.documentosCaixaEncontrados||(this.msg="Nenhum caixa encontrado para este filtro")}catch(e){this.$q.notifyError("Erro ao carregar caixas.")}},limparSeletor(){this.documentosCaixa=this.documentosCaixa.filter((e=>e.valor))},async selecionarEmpresa(e){try{if(!e)return;const o=await $db.empresa.le({idContato:e});$utils.verificarErro(!o.length||!o[0].id,"Não foi possível recuperar os dados da empresa."),this.empresa={id:e,descricao:o[0].nome||"Empresa sem nome"},this.getDocumentosCaixa()}catch(e){this.limpar(),this.$q.notifyError("Erro ao selecionar a empresa.",e)}},mostrar(){this.visivel=!0},onShow(){this.limpar()},limpar(){this.abrindo=!1,this.empresa={id:"",descricao:""},this.idDocumentoCaixa="",this.documentosCaixa=[];const e=new Date;this.periodo={de:new Date(e.setDate(e.getDate()-7)),ate:new Date},this.msg="Preencha o filtro para buscar caixas"}}},uv=(0,T.Z)(mv,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("campo"),m=(0,a.resolveComponent)("q-card-section"),u=(0,a.resolveComponent)("q-card"),p=(0,a.resolveComponent)("q-dialog"),h=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(p,{modelValue:r.visivel,"onUpdate:modelValue":o[7]||(o[7]=e=>r.visivel=e),onShow:l.onShow,"content-css":{minWidth:"30vw"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[iv])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",icon:"close",round:""},null,512),[[h]])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("form",{class:"layout-padding",onSubmit:o[6]||(o[6]=(0,a.withModifiers)(((...e)=>l.abrir&&l.abrir(...e)),["prevent"]))},[(0,a.createVNode)(d,{modelValue:r.empresa.descricao,"onUpdate:modelValue":o[0]||(o[0]=e=>r.empresa.descricao=e),before:[{icon:"search",handler:l.abrirModalContatoEmpresas}],placeholder:"Selecione","rotulo-fixo":r.empresa.descricao?"Empresa":"","somente-leitura":"",disable:r.abrindo},null,8,["modelValue","before","rotulo-fixo","disable"]),(0,a.createElementVNode)("div",rv,[(0,a.createElementVNode)("div",lv,[(0,a.createVNode)(d,{modelValue:r.periodo.de,"onUpdate:modelValue":[o[1]||(o[1]=e=>r.periodo.de=e),o[2]||(o[2]=e=>l.getDocumentosCaixa())],tipo:"data",rotulo:"De",disable:r.abrindo},null,8,["modelValue","disable"])]),(0,a.createElementVNode)("div",sv,[(0,a.createVNode)(d,{modelValue:r.periodo.ate,"onUpdate:modelValue":[o[3]||(o[3]=e=>r.periodo.ate=e),o[4]||(o[4]=e=>l.getDocumentosCaixa())],tipo:"data",rotulo:"Até",disable:r.abrindo},null,8,["modelValue","disable"])])]),l.documentosCaixaEncontrados?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,modelValue:r.idDocumentoCaixa,"onUpdate:modelValue":[o[5]||(o[5]=e=>r.idDocumentoCaixa=e),l.limparSeletor],opcoes:r.documentosCaixa,tipo:"seletor",disable:r.abrindo},null,8,["modelValue","opcoes","disable","onUpdate:modelValue"])):((0,a.openBlock)(),(0,a.createElementBlock)("div",nv,[(0,a.createElementVNode)("span",cv,(0,a.toDisplayString)(r.msg),1)])),(0,a.createElementVNode)("div",dv,[(0,a.createVNode)(n,{loading:r.abrindo,color:"primary",class:"q-ml-sm no-shadow",label:"Abrir",type:"submit",disable:!r.idDocumentoCaixa},null,8,["loading","disable"])])],32)])),_:1})])),_:1})])),_:1},8,["modelValue","onShow"])}]]);Z()(mv,"components",{QDialog:k.Z,QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QCardSection:q.Z}),Z()(mv,"directives",{ClosePopup:J.Z});const pv=(0,a.createTextVNode)("Fechar caixa"),hv={class:"layout-padding q-pa-none q-pb-md"},Cv={class:"u-container q-pt-md"},vv={class:"col-12"},fv={class:"bg-white round-borders q-px-md q-pb-md"},Nv={class:"q-px-sm text-tertiary"},Vv=(0,a.createElementVNode)("small",null,"Abertura",-1),gv=(0,a.createElementVNode)("br",null,null,-1),xv={class:"q-px-sm text-tertiary hideonmobile"},bv=(0,a.createElementVNode)("small",null,"Usuário",-1),wv=(0,a.createElementVNode)("br",null,null,-1),_v={class:"q-px-sm text-tertiary hideonmobile"},yv=(0,a.createElementVNode)("small",null,"Empresa",-1),Iv=(0,a.createElementVNode)("br",null,null,-1),Ev={class:"col-6 text-tertiary hideondesktop"},Sv=(0,a.createElementVNode)("small",null,"Usuário",-1),Mv=(0,a.createElementVNode)("br",null,null,-1),Tv={class:"col-6 text-tertiary hideondesktop"},kv=(0,a.createElementVNode)("small",null,"Empresa",-1),Dv=(0,a.createElementVNode)("br",null,null,-1),qv={class:"col-12"},Fv={class:"col-12 col-md-6"},Pv={class:"bg-white fit round-borders q-px-md q-pb-md"},Av=(0,a.createTextVNode)("Dinheiro"),Bv={class:"col-12 items-center q-col-gutter-sm text-body2 row"},Lv=(0,a.createElementVNode)("div",{class:"col-5"},"Abertura",-1),Ov={class:"col-7"},zv=(0,a.createElementVNode)("div",{class:"col-5"},"Recebimentos",-1),jv={class:"col-7 text-right"},$v=(0,a.createTextVNode)("Fechamento - Abertura + Despesas - Suprimentos + Sangrias = "),Uv=(0,a.createElementVNode)("strong",null,"Recebimentos",-1),Zv=(0,a.createElementVNode)("div",{class:"col-5"},"Sangrias",-1),Qv={class:"col-7 text-right"},Rv={key:0,class:"col-12"},Gv={class:"Tabela q-ma-sm q-pa-md full-width"},Hv=(0,a.createElementVNode)("div",{class:"col-5"},"Suprimentos",-1),Jv={class:"col-7 text-right"},Yv={key:1,class:"col-12"},Xv={class:"Tabela q-ma-sm q-pa-md full-width"},Wv=(0,a.createElementVNode)("div",{class:"col-5"},"Despesas",-1),Kv={class:"col-7 text-right"},ef={key:2,class:"col-12"},of={class:"Tabela q-ma-sm q-pa-md full-width"},tf=(0,a.createElementVNode)("div",{class:"col-5"},"Fechamento",-1),af={class:"col-7"},rf=(0,a.createElementVNode)("div",{class:"col-5"},"Fundo de caixa",-1),lf={class:"col-7"},sf=(0,a.createElementVNode)("div",{class:"col-5"},"Sangria Final",-1),nf={class:"col-7 text-right"},cf={class:"col-12 col-md-6"},df={class:"bg-white fit round-borders q-px-md q-pb-md"},mf=(0,a.createTextVNode)("Outras formas de pagamento"),uf={class:"q-mt-sm"},pf={class:"col-7"},hf={class:"col-5"},Cf={key:1,class:"text-right",style:{"padding-top":"6px","padding-right":"8px"}},vf={computed:{recebimentos(){return $utils.arredondar((this.campos.fechamento||0)-(this.campos.abertura||0)+(this.campos.despesas||0)-(this.campos.suprimentos||0)+(this.campos.sangrias||0))}},data:()=>({visivel:!1,idDocumentoCaixa:"",campos:{sangrias:0,despesas:0,suprimentos:0,sangriaFinal:0,fundoCaixa:0,abertura:0,dataHoraAbertura:"",nomeUsuarioAbertura:"",caixaDescricao:"",caixaEmpresaNome:"",observacao:""},sangrias:[],despesas:[],suprimentos:[],condicaoPagamento:[],condicaoPagamentoDinheiro:[]}),emits:["fechado","update:modelValue"],methods:{calculaSangriaFinal(){let e=$utils.arredondar(this.campos.fechamento-this.campos.fundoCaixa);e<0&&(this.$q.notify({message:"Sangria final não pode ser maior do que o recebimento",type:"warning"}),this.campos.fundoCaixa=0,e=$utils.arredondar(this.campos.fechamento)),this.campos.sangriaFinal=e},async atualizar(){try{if($q.loading.show({message:"Processando..."}),this.campos.sangrias=0,this.campos.despesas=0,this.campos.suprimentos=0,this.campos.sangriaFinal=0,this.campos.fundoCaixa=0,this.campos.abertura=0,this.campos.dataHoraAbertura="",this.campos.nomeUsuarioAbertura="",this.campos.caixaDescricao="",this.campos.caixaEmpresaNome="",this.campos.observacao="",this.documentoCaixa={},this.idDocumentoCaixa){const e=await $db.documento.le({id:this.idDocumentoCaixa});"Caixa"===e.tipo&&["Aberto","Reaberto"].includes(e.status)&&(this.documentoCaixa=e)}if(!this.documentoCaixa||!this.documentoCaixa.id)return void $q.notify({message:"Selecione um caixa aberto",type:"warning"});const e=await $db.documentoCondicaoPagamento.le({idDocumentoCaixa:this.idDocumentoCaixa}),o={};for(const t of e)if(t.idDocumento&&!o[t.idDocumento]&&(o[t.idDocumento]=await $db.documento.le({id:t.idDocumento}),!o[t.idDocumento].dataHoraFinalizado))return void this.$q.notify({message:"Existem faturas abertas com condição de pagamento lançada. Não é possível finalizar o caixa sem finalizar ou excluir essas faturas!",type:"warning"});this.caixa=await $db.caixa.le({id:this.documentoCaixa.idCaixa});const t=await $db.financeiroTitulo.le({idDocumentoCaixa:this.documentoCaixa.id}),a=await $db.empresa.le({idContato:this.documentoCaixa.idEmpresa});a.length&&(this.empresa=a[0]);const i=await $db.financeiroMovimentacao.le({idDocumentoCaixa:this.documentoCaixa.id,documentoTipo:"Sangria"});this.sangrias=i.filter((e=>e.valorCredito>0)),this.campos.sangrias=$utils.arredondar(this.sangrias.reduce(((e,o)=>e+o.valorCredito),0)),this.despesas=t.filter((e=>"DespesaSimples"===e.documentoTipo));let r=0;for(const e of this.despesas)r+=e.valorTotal,e.contato=await $db.contato.le({id:e.idContato}),e.financeiroPlanoConta=await $db.financeiroPlanoConta.le({id:e.idFinanceiroPlanoConta});this.campos.despesas=$utils.arredondar(r);const l=await $db.financeiroMovimentacao.le({idDocumentoCaixa:this.documentoCaixa.id,documentoTipo:"Suprimento"});this.suprimentos=l.filter((e=>e.valorDebito>0)),this.campos.suprimentos=$utils.arredondar(this.suprimentos.reduce(((e,o)=>e+o.valorDebito),0));let s=(await $db.formaPagamento.le()).filter((e=>!(e.idContatoEmpresa&&e.idContatoEmpresa!==this.documentoCaixa.idEmpresa||!e.ativo))).map((e=>({id:e.id,tipo:e.tipo,descricao:e.descricao,valor:0,idFinanceiroPlanoConta:e.idFinanceiroPlanoConta})));for(const t in o){const o=e.filter((e=>e.idDocumento===t));for(const e of o)for(const o of s)o.id===e.idFormaPagamento&&[5,97,99].includes(o.tipo)&&(o.valor=$utils.arredondar(o.valor+e.valor))}this.condicaoPagamento=$lodash.orderBy(s.filter((e=>e.idFinanceiroPlanoConta!==this.caixa.idPlanoConta)),"descricao","asc"),this.condicaoPagamentoDinheiro=s.filter((e=>e.idFinanceiroPlanoConta===this.caixa.idPlanoConta)),this.campos.abertura=this.documentoCaixa.valorAbertura,this.campos.dataHoraAbertura=this.documentoCaixa.dataHoraEmissao,this.campos.observacao=this.documentoCaixa.observacao;const n=await $db.usuario.le({id:this.documentoCaixa.idContato});this.campos.nomeUsuarioAbertura=n.nome||"",this.campos.caixaDescricao=this.caixa.descricao,this.campos.caixaEmpresaNome=this.empresa.nome,this.calculaSangriaFinal(),$q.loading.hide(),this.visivel=!0,this.$emit("update:modelValue",!0)}catch(e){$q.notifyError("Não foi possível realizar o Fechamento de Caixa.",e)}finally{$q.loading.hide()}},async fecharCaixa(){try{if($q.loading.show({message:"Processando..."}),this.campos.sangriaFinal<0)return void this.$q.notify({message:"Sangria final não pode ser negativa.",type:"warning"});const e=$utils.dataAtual();let o=$utils.clonar(this.documentoCaixa);o.status="Aguardando Conferência",o.dataHoraFinalizado=e,o.observacao=this.campos.observacao,o.valorAbertura=this.campos.abertura;let t=await $db.caixa.le({id:o.idCaixa});$utils.verificarErro(!t.id,"Caixa não existe");let a=await $db.financeiroPlanoConta.le({id:t.idPlanoConta}),i=await $db.financeiroPlanoConta.le({id:t.idPlanoContaSangria}),r=await $db.documentoStatus.le({idDocumento:o.id});if(r=r.filter((e=>"Fechamento Caixa"===e.operacao&&"Aguardando Conferência"===e.statusFinalizado&&"Aberto"===e.statusOriginal)),this.campos.sangriaFinal>0){const t=r.length?r[0].dataHoraEmissao:e,l=$db.usuario.logado.id,s=$utils.uuid(),n={id:$utils.uuid(),idFinanceiroMovimentacaoN:s,idEmpresa:o.idEmpresa,idContato:l,idFinanceiroPlanoConta:a.id,dataEmissao:e,dataCompetencia:t,dataVencimento:t,dataMovimento:t,valorDebito:0,valorCredito:this.campos.sangriaFinal,descricao:`Sangria final de ${$db.usuario.logado.apelido} no Caixa #${o.id}`,observacao:"Transferência entre contas",documentoTipo:"Sangria Final",documentoId:o.id,idDocumentoCaixa:o.id},c={id:$utils.uuid(),idFinanceiroMovimentacaoN:s,idEmpresa:o.idEmpresa,idContato:l,idFinanceiroPlanoConta:i.id,dataEmissao:e,dataCompetencia:t,dataVencimento:t,dataMovimento:t,valorDebito:this.campos.sangriaFinal,valorCredito:0,descricao:`Sangria final de ${$db.usuario.logado.apelido} no Caixa #${o.id}`,observacao:"Transferência entre contas",documentoTipo:"Sangria Final",documentoId:o.id,idDocumentoCaixa:o.id};$db.financeiroMovimentacaoN.grava({atual:{id:s}}),$db.financeiroMovimentacao.grava({atual:n}),$db.financeiroMovimentacao.grava({atual:c})}let l=await $db.documentoStatus.le({idDocumento:o.id}),s="";l.length&&(l=$lodash.orderBy(l,"dataHoraEmissao","desc"),s=l[0].statusFinalizado);const n=$utils.uuid(),c={id:n,idDocumento:o.id,operacao:"Fechamento Caixa",statusOriginal:s,statusFinalizado:"Aguardando Conferência",dataHoraEmissao:e,idUsuarioAlterou:$db.usuario.logado.id,idDocumentoCaixa:o.id};let d=[];for(let t of this.condicaoPagamento)d.push({id:$utils.uuid(),idDocumento:o.id,idFormaPagamento:t.id,dataVencimento:e,valor:t.valor,ordem:n});for(let t of this.condicaoPagamentoDinheiro)d.push({id:$utils.uuid(),idDocumento:o.id,idFormaPagamento:t.id,dataVencimento:e,valor:this.campos.fechamento,ordem:n});let m=await $db.documentoCondicaoPagamento.le({idDocumentoCaixa:o.id}),u=await $db.financeiroTitulo.le({idDocumentoCaixa:o.id,idDocumentoCaixaLiquidacao:o.id}),p=await $db.financeiroMovimentacao.le({idDocumentoCaixa:o.id}),h=[];for(let t of m)h.push({id:$utils.uuid(),idDocumentoCaixa:o.id,idDocumentoStatus:n,tabela:"documentoCondicaoPagamento",idTabela:t.id,json:JSON.stringify(t),dataHoraEmissao:e});for(let t of d)h.push({id:$utils.uuid(),idDocumentoCaixa:o.id,idDocumentoStatus:n,tabela:"documentoCondicaoPagamento",idTabela:t.id,json:JSON.stringify(t),dataHoraEmissao:e});for(let t of u)h.push({id:$utils.uuid(),idDocumentoCaixa:o.id,idDocumentoStatus:n,tabela:"financeiroTitulo",idTabela:t.id,json:JSON.stringify(t),dataHoraEmissao:e});for(let t of p)h.push({id:$utils.uuid(),idDocumentoCaixa:o.id,idDocumentoStatus:n,tabela:"financeiroMovimentacao",idTabela:t.id,json:JSON.stringify(t),dataHoraEmissao:e});await $db.caixa.fecha({documentoCaixa:o,documentoCaixaOriginal:this.documentoCaixa,documentoStatus:[c],caixaConsolidacao2:h}),$q.loading.hide(),this.visivel=!1,this.$emit("update:modelValue",!1),this.$emit("fechado"),this.$imprimir("fechamento-de-caixa",this.documentoCaixa.id),$q.notifyPositive("Caixa fechado com sucesso")}catch(e){this.$q.notifyError("Não foi possível realizar o Fechamento de Caixa.",e)}finally{$q.loading.hide()}},async mostrar(e){const{idDocumentoCaixa:o}=e;this.idDocumentoCaixa=o,await this.atualizar()}}},ff=(0,T.Z)(vf,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-header"),m=(0,a.resolveComponent)("q-icon"),u=(0,a.resolveComponent)("campo"),p=(0,a.resolveComponent)("row"),h=(0,a.resolveComponent)("q-tooltip"),C=(0,a.resolveComponent)("q-page-container"),v=(0,a.resolveComponent)("q-layout"),f=(0,a.resolveComponent)("q-dialog"),N=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(f,{id:"caixaFechar",modelValue:r.visivel,"onUpdate:modelValue":o[4]||(o[4]=e=>r.visivel=e),maximized:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:"",clikable:""},null,512),[[N]]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[pv])),_:1}),(0,a.createVNode)(s,{color:"white",class:"text-primary",label:"Concluir",onClick:l.fecharCaixa,unelevated:""},null,8,["onClick"])])),_:1})])),_:1}),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",hv,[(0,a.createElementVNode)("div",Cv,[(0,a.createVNode)(p,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",vv,[(0,a.createElementVNode)("div",fv,[(0,a.createVNode)(c,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.campos.caixaDescricao),1)])),_:1}),(0,a.createElementVNode)("div",Nv,[(0,a.createElementVNode)("div",null,[Vv,gv,(0,a.createVNode)(m,{name:"calendar_today",class:"q-mr-sm"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.dataHora(r.campos.dataHoraAbertura)),1)])]),(0,a.createElementVNode)("div",xv,[(0,a.createElementVNode)("div",null,[bv,wv,(0,a.createVNode)(m,{name:"person",class:"q-mr-sm"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(r.campos.nomeUsuarioAbertura),1)])]),(0,a.createElementVNode)("div",_v,[yv,Iv,(0,a.createVNode)(m,{name:"business"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(r.campos.caixaEmpresaNome),1)])])),_:1}),(0,a.createVNode)(p,{class:"items-center q-col-gutter-x-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Ev,[(0,a.createElementVNode)("p",null,[Sv,Mv,(0,a.createVNode)(m,{name:"person"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(r.campos.nomeUsuarioAbertura),1)])]),(0,a.createElementVNode)("div",Tv,[(0,a.createElementVNode)("p",null,[kv,Dv,(0,a.createVNode)(m,{name:"business"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(r.campos.caixaEmpresaNome),1)])]),(0,a.createElementVNode)("div",qv,[(0,a.createVNode)(u,{modelValue:r.campos.observacao,"onUpdate:modelValue":o[0]||(o[0]=e=>r.campos.observacao=e),rotulo:"Observação",rows:"2",tipo:"textoArea"},null,8,["modelValue"])])])),_:1})])]),(0,a.createElementVNode)("div",Fv,[(0,a.createElementVNode)("div",Pv,[(0,a.createElementVNode)("form",null,[(0,a.createVNode)(c,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"mdi-cash-multiple",size:"24px",class:"text-tertiary"}),(0,a.createVNode)(n,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[Av])),_:1})])),_:1}),(0,a.createVNode)(p,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Bv,[Lv,(0,a.createElementVNode)("div",Ov,[(0,a.createVNode)(u,{modelValue:r.campos.abertura,"onUpdate:modelValue":o[1]||(o[1]=e=>r.campos.abertura=e),class:"bg-grey-2",tipo:"decimal",decimals:"2"},null,8,["modelValue"])]),zv,(0,a.createElementVNode)("div",jv,[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(l.recebimentos,2))+" ",1),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[$v,Uv])),_:1})]),Zv,(0,a.createElementVNode)("div",Qv,(0,a.toDisplayString)(e.$filters.numero(r.campos.sangrias,2)),1),r.campos.sangrias>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",Rv,[(0,a.createElementVNode)("table",Gv,[(0,a.createElementVNode)("tbody",null,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.sangrias,(o=>((0,a.openBlock)(),(0,a.createElementBlock)("tr",{key:o.id},[(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.$filters.data(o.dataEmissao)),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(o.observacao),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.$filters.numero(o.valorCredito,2)),1)])))),128))])])])):(0,a.createCommentVNode)("",!0),Hv,(0,a.createElementVNode)("div",Jv,(0,a.toDisplayString)(e.$filters.numero(r.campos.suprimentos,2)),1),r.campos.suprimentos>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",Yv,[(0,a.createElementVNode)("table",Xv,[(0,a.createElementVNode)("tbody",null,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.suprimentos,(o=>((0,a.openBlock)(),(0,a.createElementBlock)("tr",{key:o.id},[(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.$filters.data(o.dataEmissao)),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(o.observacao),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.$filters.numero(o.valorDebito,2)),1)])))),128))])])])):(0,a.createCommentVNode)("",!0),Wv,(0,a.createElementVNode)("div",Kv,(0,a.toDisplayString)(e.$filters.numero(r.campos.despesas,2)),1),r.campos.despesas>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",ef,[(0,a.createElementVNode)("table",of,[(0,a.createElementVNode)("tbody",null,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.despesas,(o=>((0,a.openBlock)(),(0,a.createElementBlock)("tr",{key:o.id},[(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.$filters.data(o.dataEmissao)),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)((o.contato||{}).nome),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(((o.financeiroPlanoConta||{}).descricao||"").trim()),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.$filters.numero(o.valorTotal,2)),1)])))),128))])])])):(0,a.createCommentVNode)("",!0),tf,(0,a.createElementVNode)("div",af,[(0,a.createVNode)(u,{modelValue:r.campos.fechamento,"onUpdate:modelValue":o[2]||(o[2]=e=>r.campos.fechamento=e),class:"bg-grey-2",tipo:"decimal",decimals:"2",onBlur:l.calculaSangriaFinal},null,8,["modelValue","onBlur"])]),rf,(0,a.createElementVNode)("div",lf,[(0,a.createVNode)(u,{modelValue:r.campos.fundoCaixa,"onUpdate:modelValue":o[3]||(o[3]=e=>r.campos.fundoCaixa=e),class:"bg-grey-2",tipo:"decimal",decimals:"2",onBlur:l.calculaSangriaFinal},null,8,["modelValue","onBlur"])]),sf,(0,a.createElementVNode)("div",nf,(0,a.toDisplayString)(e.$filters.numero(r.campos.sangriaFinal,2)),1)])])),_:1})])])]),(0,a.createElementVNode)("div",cf,[(0,a.createElementVNode)("div",df,[(0,a.createElementVNode)("form",null,[(0,a.createVNode)(c,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"mdi-credit-card-multiple",size:"24px",class:"text-tertiary"}),(0,a.createVNode)(n,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[mf])),_:1})])),_:1}),(0,a.createElementVNode)("div",uf,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.condicaoPagamento,(o=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"q-col-gutter-x-sm items-center q-mt-sm row",key:o.id},[(0,a.createElementVNode)("div",pf,(0,a.toDisplayString)(o.descricao),1),(0,a.createElementVNode)("div",hf,[[5,99].includes(o.tipo)?((0,a.openBlock)(),(0,a.createElementBlock)("div",Cf,(0,a.toDisplayString)(e.$filters.numero(o.valor,2)),1)):((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,modelValue:o.valor,"onUpdate:modelValue":e=>o.valor=e,tipo:"decimal",decimals:"2",class:"bg-grey-2"},null,8,["modelValue","onUpdate:modelValue"]))])])))),128))])])])])])),_:1})])])])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);Z()(vf,"components",{QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QPageContainer:le.Z,QIcon:L.Z,QTooltip:Ao.Z}),Z()(vf,"directives",{ClosePopup:J.Z});const Nf=(0,a.createTextVNode)("Lançar Sangria"),Vf={class:"col-12"},gf={class:"col-12"},xf={class:"q-mt-lg text-right"},bf={data:()=>({visivel:!1,campos:{},contaOrigem:"",contaDestino:""}),methods:{async atualizar(){try{let e={},o={};e=await $db.documento.le({id:this.idDocumentoCaixa}),(0,Fo.verificarAlerta)(!("Caixa"===e.tipo&&"Aberto"===e.status),"Selecione um caixa aberto"),(0,Fo.verificarErro)(!e.idEmpresa,"Caixa sem empresa"),o=await $db.caixa.le({id:e.idCaixa}),(0,Fo.verificarErro)(!o.id,"Caixa não existe"),this.contaOrigem=await $db.financeiroPlanoConta.le({id:o.idPlanoConta}),this.contaDestino=await $db.financeiroPlanoConta.le({id:o.idPlanoContaSangria}),this.campos.valor=0,this.campos.descricao=`Transf. de ${this.contaOrigem.descricao.trim()||""} para ${this.contaDestino.descricao.trim()||""}`,this.idContatoEmpresa=e.idEmpresa;const t=await $db.empresa.le({idContato:this.idContatoEmpresa});(0,Fo.verificarErro)(!t||!t.length||!t[0].id,"Caixa sem empresa válida"),this.idEmpresa=t[0].idContato,this.visivel=!0}catch(e){this.$q.notifyError("Erro no lancamento de Sangria",e)}},async lancar(){try{$q.loading.show({message:"Processando..."});const e=(0,Fo.dataAtual)(),o=$db.usuario.logado.id;(0,Fo.verificarAlerta)(!this.campos.valor,"Valor não preenchido");const t={id:(0,Fo.uuid)(),idEmpresa:this.idEmpresa,tipo:"Financeiro",operacao:"Sangria",status:"Finalizado",dataHoraEmissao:e,dataHoraFinalizado:e,totalDocumento:this.campos.valor,idContato:o,observacao:this.campos.descricao,idDocumentoAdicional:this.idDocumentoCaixa,idDocumentoOperacao:""},a=(0,Fo.uuid)(),i={id:(0,Fo.uuid)(),idFinanceiroMovimentacaoN:a,idEmpresa:this.idEmpresa,idContato:o,idFinanceiroPlanoConta:this.contaOrigem.id,dataEmissao:e,dataCompetencia:e,dataVencimento:e,dataMovimento:e,valorDebito:0,valorCredito:this.campos.valor,descricao:`Sangria de ${$db.usuario.logado.apelido} no Caixa #${this.idDocumentoCaixa}`,observacao:"Transferência entre contas",documentoTipo:"Sangria",documentoId:this.idDocumentoCaixa,idDocumentoCaixa:this.idDocumentoCaixa},r={id:(0,Fo.uuid)(),idFinanceiroMovimentacaoN:a,idEmpresa:this.idEmpresa,idContato:o,idFinanceiroPlanoConta:this.contaDestino.id,dataEmissao:e,dataCompetencia:e,dataVencimento:e,dataMovimento:e,valorDebito:this.campos.valor,valorCredito:0,descricao:`Sangria de ${$db.usuario.logado.apelido} no Caixa #${this.idDocumentoCaixa}`,observacao:"Transferência entre contas",documentoTipo:"Sangria",documentoId:this.idDocumentoCaixa,idDocumentoCaixa:this.idDocumentoCaixa};$db.financeiroMovimentacaoN.grava({atual:{id:a}}),$db.documento.grava({atual:t}),$db.financeiroMovimentacao.grava({atual:i}),$db.financeiroMovimentacao.grava({atual:r}),this.visivel=!1,$q.notifyPositive("Sangria lançada com sucesso")}catch(e){$q.notifyError("Erro no lancamento de Sangria",e)}finally{$q.loading.hide()}},mostrar(e){const{idDocumentoCaixa:o}=e;this.campos={valor:0,descricao:""},this.contaOrigem="",this.contaDestino="",this.idDocumentoCaixa=o,this.atualizar()}}},wf=(0,T.Z)(bf,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("campo"),m=(0,a.resolveComponent)("row"),u=(0,a.resolveComponent)("q-form"),p=(0,a.resolveComponent)("q-card-section"),h=(0,a.resolveComponent)("q-card"),C=(0,a.resolveComponent)("q-dialog"),v=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(C,{modelValue:r.visivel,"onUpdate:modelValue":o[2]||(o[2]=e=>r.visivel=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[Nf])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",icon:"close",round:""},null,512),[[v]])])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{onSubmit:l.lancar},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Vf,[(0,a.createVNode)(d,{modelValue:r.campos.valor,"onUpdate:modelValue":o[0]||(o[0]=e=>r.campos.valor=e),before:[{icon:"attach_money"}],rotulo:"Valor",tipo:"decimal",decimals:"2"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",gf,[(0,a.createVNode)(d,{modelValue:r.campos.descricao,"onUpdate:modelValue":o[1]||(o[1]=e=>r.campos.descricao=e),before:[{icon:"message"}],rotulo:"Descrição",tipo:"texto",autogrow:""},null,8,["modelValue"])])])),_:1}),(0,a.createElementVNode)("div",xf,[(0,a.withDirectives)((0,a.createVNode)(n,{color:"tertiary",flat:"",label:"Cancelar"},null,512),[[v]]),(0,a.createVNode)(n,{color:"primary",class:"q-ml-sm",unelevated:"",label:"Lançar",type:"submit"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);Z()(bf,"components",{QDialog:k.Z,QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QCardSection:q.Z,QForm:fo.Z}),Z()(bf,"directives",{ClosePopup:J.Z});const _f=(0,a.createTextVNode)("Lançar Suprimento"),yf={class:"col-12"},If={class:"col-12"},Ef={class:"q-mt-lg text-right"},Sf={data:()=>({visivel:!1,campos:{},contaOrigem:"",contaDestino:"",idDocumentoCaixa:""}),methods:{async atualizar(){try{let e={},o={};e=await $db.documento.le({id:this.idDocumentoCaixa}),(0,Fo.verificarAlerta)(!("Caixa"===e.tipo&&"Aberto"===e.status),"Selecione um caixa aberto"),(0,Fo.verificarErro)(!e.idEmpresa,"Caixa sem empresa"),o=await $db.caixa.le({id:e.idCaixa}),(0,Fo.verificarErro)(!o.id,"Caixa não existe"),this.contaOrigem=await $db.financeiroPlanoConta.le({id:o.idPlanoContaSangria}),this.contaDestino=await $db.financeiroPlanoConta.le({id:o.idPlanoConta}),this.campos.valor=0,this.campos.descricao=`Transf. de ${this.contaOrigem.descricao.trim()||""} para ${this.contaDestino.descricao.trim()||""}`,this.idContatoEmpresa=e.idEmpresa;const t=await $db.empresa.le({idContato:this.idContatoEmpresa});(0,Fo.verificarErro)(!t||!t.length||!t[0].id,"Caixa sem empresa válida"),this.idEmpresa=t[0].idContato,this.visivel=!0}catch(e){this.$q.notifyError("Erro no lancamento de Suprimento",e),this.eventoInput(!1)}},async lancar(e){e.preventDefault();try{$q.loading.show({message:"Processando..."});const e=(0,Fo.dataAtual)(),o=$db.usuario.logado.id;(0,Fo.verificarAlerta)(!this.campos.valor,"Valor não preenchido");const t={id:(0,Fo.uuid)(),idEmpresa:this.idEmpresa,tipo:"Financeiro",operacao:"Suprimento",status:"Finalizado",dataHoraEmissao:e,dataHoraFinalizado:e,totalDocumento:this.campos.valor,idContato:o,observacao:this.campos.descricao,idDocumentoAdicional:this.idDocumentoCaixa,idDocumentoOperacao:""},a=(0,Fo.uuid)(),i={id:(0,Fo.uuid)(),idFinanceiroMovimentacaoN:a,idEmpresa:this.idEmpresa,idContato:o,idFinanceiroPlanoConta:this.contaOrigem.id,dataEmissao:e,dataCompetencia:e,dataVencimento:e,dataMovimento:e,valorDebito:0,valorCredito:this.campos.valor,descricao:`Suprimento de ${$db.usuario.logado.apelido} no Caixa #${this.idDocumentoCaixa}`,observacao:"Transferência entre contas",documentoTipo:"Suprimento",documentoId:this.idDocumentoCaixa,idDocumentoCaixa:this.idDocumentoCaixa},r={id:(0,Fo.uuid)(),idFinanceiroMovimentacaoN:a,idEmpresa:this.idEmpresa,idContato:o,idFinanceiroPlanoConta:this.contaDestino.id,dataEmissao:e,dataCompetencia:e,dataVencimento:e,dataMovimento:e,valorDebito:this.campos.valor,valorCredito:0,descricao:`Suprimento de ${$db.usuario.logado.apelido} no Caixa #${this.idDocumentoCaixa}`,observacao:"Transferência entre contas",documentoTipo:"Suprimento",documentoId:this.idDocumentoCaixa,idDocumentoCaixa:this.idDocumentoCaixa};$db.financeiroMovimentacaoN.grava({atual:{id:a}}),$db.documento.grava({atual:t}),$db.financeiroMovimentacao.grava({atual:i}),$db.financeiroMovimentacao.grava({atual:r}),this.visivel=!1,$q.notifyPositive("Suprimento lançado com sucesso")}catch(e){$q.notifyError("Erro no lancamento de Suprimento",e)}finally{$q.loading.hide()}},mostrar(e){const{idDocumentoCaixa:o}=e;this.campos={valor:0,descricao:""},this.contaOrigem="",this.contaDestino="",this.idDocumentoCaixa=o,this.atualizar()}}},Mf=(0,T.Z)(Sf,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("campo"),m=(0,a.resolveComponent)("row"),u=(0,a.resolveComponent)("q-form"),p=(0,a.resolveComponent)("q-card-section"),h=(0,a.resolveComponent)("q-card"),C=(0,a.resolveComponent)("q-dialog"),v=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(C,{modelValue:r.visivel,"onUpdate:modelValue":o[2]||(o[2]=e=>r.visivel=e),"content-css":{minWidth:"30vw"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[_f])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",icon:"close",round:""},null,512),[[v]])])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{onSubmit:l.lancar},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",yf,[(0,a.createVNode)(d,{modelValue:r.campos.valor,"onUpdate:modelValue":o[0]||(o[0]=e=>r.campos.valor=e),before:[{icon:"attach_money"}],rotulo:"Valor",tipo:"decimal",decimals:"2"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",If,[(0,a.createVNode)(d,{modelValue:r.campos.descricao,"onUpdate:modelValue":o[1]||(o[1]=e=>r.campos.descricao=e),before:[{icon:"message"}],rotulo:"Descrição",tipo:"texto",autogrow:""},null,8,["modelValue"])])])),_:1}),(0,a.createElementVNode)("div",Ef,[(0,a.withDirectives)((0,a.createVNode)(n,{color:"tertiary",flat:"",label:"Cancelar"},null,512),[[v]]),(0,a.createVNode)(n,{color:"primary",class:"q-ml-sm",unelevated:"",label:"Lançar",type:"submit"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);Z()(Sf,"components",{QDialog:k.Z,QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QCardSection:q.Z,QForm:fo.Z}),Z()(Sf,"directives",{ClosePopup:J.Z});const Tf=(0,a.createTextVNode)("Lançar Despesa"),kf={class:"col-12"},Df={class:"col-12"},qf={class:"col-12"},Ff={class:"col-12"},Pf={class:"q-mt-lg text-right"},Af=(0,a.createTextVNode)(" Resultado não encontrado "),Bf={data:()=>({opcoes:[]}),emits:["update:modelValue"],methods:{async atualizar(e,o,t){let a=await $db.financeiroPlanoConta.le(this.filtro);a=a.map((e=>({id:e.id,apelido:e.apelido||"",descricao:e.descricao||"",caminho:e.caminho||"",codigoFinanceiroPlanoConta:e.codigoFinanceiroPlanoConta,textoPesquisa:($utils.removerAcentos((e.descricao||"").trim()+" "+(e.apelido||"").trim())+" "+String(e.codigoFinanceiroPlanoConta)).toLowerCase()}))),e&&(a=a.filter((o=>o.textoPesquisa.includes(e)))),a.sort(((e,o)=>e.textoPesquisa<o.textoPesquisa?-1:1)),this.opcoes=a,"function"==typeof o&&o()},selecionar(e){console.log(e),this.$emit("update:modelValue",e)}},props:{modelValue:{default:"",type:String},somenteLeitura:{type:Boolean},filtro:{default:()=>({}),type:Object},rotulo:{default:"",type:String}},created(){this.atualizar()}},Lf=(0,T.Z)(Bf,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-item-label"),n=(0,a.resolveComponent)("q-item-section"),c=(0,a.resolveComponent)("q-item"),d=(0,a.resolveComponent)("q-select");return(0,a.openBlock)(),(0,a.createBlock)(d,{"model-value":t.modelValue,options:r.opcoes,"option-value":"id","option-label":"descricao",onFilter:l.atualizar,"onUpdate:modelValue":l.selecionar,"emit-value":"","map-options":"","use-input":"","input-debounce":"400",label:t.rotulo},{option:(0,a.withCtx)((e=>[(0,a.createVNode)(c,(0,a.normalizeProps)((0,a.guardReactiveProps)(e.itemProps)),{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{header:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)((e.opt.apelido||"").trim()+" - "+(e.opt.descricao||"").trim()),1)])),_:2},1024),(0,a.createVNode)(s,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.opt.caminho),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),"no-option":(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-grey"},{default:(0,a.withCtx)((()=>[Af])),_:1})])),_:1})])),_:1},8,["model-value","options","onFilter","onUpdate:modelValue","label"])}]]);Z()(Bf,"components",{QSelect:al.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z});const Of={components:{seletorFinContas:Lf},data:()=>({campos:{idFinanceiroPlanoConta:"",valor:0,descricao:""},contaOrigem:{},contato:{nome:""},idEmpresa:"",idContatoEmpresa:"",idDocumentoCaixa:"",visivel:!1}),methods:{async atualizar(){try{let e=await $db.documento.le({id:this.idDocumentoCaixa});(0,Fo.verificarAlerta)(!("Caixa"===e.tipo&&"Aberto"===e.status),"Selecione um caixa aberto"),(0,Fo.verificarErro)(!e.idEmpresa,"Caixa sem empresa");let o=await $db.caixa.le({id:e.idCaixa});(0,Fo.verificarErro)(!o.id,"Caixa não existe"),this.contaOrigem=await $db.financeiroPlanoConta.le({id:o.idPlanoConta}),this.contato={},this.campos.valor=0,this.campos.descricao="",this.idContatoEmpresa=e.idEmpresa;const t=await $db.empresa.le({idContato:this.idContatoEmpresa});(0,Fo.verificarErro)(!t||!t.length||!t[0].id,"Caixa sem empresa válida"),this.idEmpresa=t[0].idContato,this.visivel=!0}catch(e){this.$q.notifyError("Erro no lancamento de Despesa",e)}},async lancar(){try{$q.loading.show({message:"Processando..."});const e=(0,Fo.dataAtual)(),o=(0,Fo.uuid)(),t=await $db.configuracoes.le({nome:"financeiro.planocontas.duplicatapagar"});(0,Fo.verificarAlerta)(!t||!t.length,"Falta configuração para 'financeiro.planocontas.duplicatapagar'");const a=await $db.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:Number(t[0].valor)});(0,Fo.verificarAlerta)(!a||!a.id,"Falta plano de conta para 'financeiro.planocontas.duplicatapagar'"),(0,Fo.verificarAlerta)(!this.campos.idFinanceiroPlanoConta,"Conta destino não selecionada"),(0,Fo.verificarAlerta)(!this.contato||!this.contato.id,"Contato para pagamento não selecionado"),(0,Fo.verificarAlerta)(!this.campos.valor,"Valor não preenchido");const i={id:(0,Fo.uuid)(),idEmpresa:this.idEmpresa,idContato:this.contato.id,idFinanceiroPlanoConta:this.campos.idFinanceiroPlanoConta,dataEmissao:e,dataCompetencia:e,dataVencimento:e,dataVencimentoOriginal:e,dataPagamento:e,dataMovimento:e,valor:this.campos.valor,descricao:(this.campos.descricao||"").substr(0,100),observacao:this.campos.descricao||"",receberPagar:0,valorOriginal:this.campos.valor,valorTotal:this.campos.valor,valorARealizar:this.campos.valor,valorRealizado:this.campos.valor,documentoTipo:"DespesaSimples",formaDePagamento:"Caixa",documentoId:this.idDocumentoCaixa,idDocumentoCaixa:this.idDocumentoCaixa,idDocumentoCaixaLiquidacao:this.idDocumentoCaixa,idFinanceiroMovimentacaoAgrupamento:o},r={id:(0,Fo.uuid)(),idFinanceiroMovimentacaoN:o,idEmpresa:this.idEmpresa,idFinanceiroPlanoConta:a.id,dataEmissao:e,dataCompetencia:e,dataVencimento:e,dataMovimento:e,valorDebito:this.campos.valor,valorCredito:0,descricao:`Pagamento de despesa simples por ${$db.usuario.logado.nome} no Caixa #${this.idDocumentoCaixa}`,observacao:"Liquidação Despesa Simples - Título",documentoTipo:"DespesaSimples",automatico:0,liquidando:0,documentoId:this.idDocumentoCaixa,idDocumentoCaixa:this.idDocumentoCaixa},l={id:(0,Fo.uuid)(),idFinanceiroMovimentacaoN:o,idEmpresa:this.idEmpresa,idFinanceiroPlanoConta:this.contaOrigem.id,dataEmissao:e,dataCompetencia:e,dataVencimento:e,dataMovimento:e,valorDebito:0,valorCredito:this.campos.valor,descricao:`Pagamento de despesa simples por ${$db.usuario.logado.nome} no Caixa #${this.idDocumentoCaixa}`,observacao:"Liquidação Despesa Simples - Título",documentoTipo:"DespesaSimples",automatico:0,liquidando:0,documentoId:this.idDocumentoCaixa,idDocumentoCaixa:this.idDocumentoCaixa};$db.financeiroMovimentacaoN.grava({atual:{id:o}}),$db.financeiroTitulo.grava({atual:i}),$db.financeiroMovimentacao.grava({atual:r}),$db.financeiroMovimentacao.grava({atual:l}),$q.notifyPositive("Despesa lançada com sucesso"),this.$imprimir("titulo-recibo",i.id),this.visivel=!1}catch(e){$q.notifyError("Erro no lancamento de Despesa",e)}finally{$q.loading.hide()}},async abrirModalFinanceiroContas(){this.modalFinanceiroContas.filtros.despesa={idContatoEmpresa:this.idContatoEmpresa}},async abrirModalContato(){const e=await $g.promptContato.show({filtro:{ativo:!0},placeholder:"Selecione "});$lodash.get(e,"id")&&(this.contato=e)},mostrar(e){const{idDocumentoCaixa:o}=e;this.campos={idFinanceiroPlanoConta:"",valor:0,descricao:""},this.contaOrigem={},this.contato={nome:""},this.idEmpresa="",this.idContatoEmpresa="",this.idDocumentoCaixa=o,this.atualizar()}}},zf=(0,T.Z)(Of,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("seletorFinContas"),m=(0,a.resolveComponent)("q-select"),u=(0,a.resolveComponent)("campo"),p=(0,a.resolveComponent)("row"),h=(0,a.resolveComponent)("q-form"),C=(0,a.resolveComponent)("q-card-section"),v=(0,a.resolveComponent)("q-card"),f=(0,a.resolveComponent)("q-dialog"),N=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(f,{modelValue:r.visivel,"onUpdate:modelValue":o[4]||(o[4]=e=>r.visivel=e),"content-css":{minWidth:"30vw"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[Tf])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",icon:"close",round:""},null,512),[[N]])])),_:1}),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{onSubmit:l.lancar},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",kf,[(0,a.createVNode)(d,{modelValue:r.campos.idFinanceiroPlanoConta,"onUpdate:modelValue":o[0]||(o[0]=e=>r.campos.idFinanceiroPlanoConta=e),class:"q-pb-none",rules:[e=>e&&e.length>2||"obrigatório."],rotulo:"Destino",filtro:{despesa:{idContatoEmpresa:r.idContatoEmpresa}}},null,8,["modelValue","rules","filtro"])]),(0,a.createElementVNode)("div",Df,[(0,a.createVNode)(m,{dense:"",rounded:"",modelValue:r.contato.nome,"onUpdate:modelValue":o[1]||(o[1]=e=>r.contato.nome=e),label:"Pagar a",options:["a","b"],onFilter:l.abrirModalContato},null,8,["modelValue","onFilter"])]),(0,a.createElementVNode)("div",qf,[(0,a.createVNode)(u,{modelValue:r.campos.valor,"onUpdate:modelValue":o[2]||(o[2]=e=>r.campos.valor=e),before:[{icon:"attach_money"}],rotulo:"Valor",tipo:"decimal",decimals:"2"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Ff,[(0,a.createVNode)(u,{modelValue:r.campos.descricao,"onUpdate:modelValue":o[3]||(o[3]=e=>r.campos.descricao=e),before:[{icon:"message"}],rotulo:"Descrição",tipo:"texto",autogrow:""},null,8,["modelValue"])])])),_:1}),(0,a.createElementVNode)("div",Pf,[(0,a.withDirectives)((0,a.createVNode)(n,{color:"tertiary",flat:"",label:"Cancelar"},null,512),[[N]]),(0,a.createVNode)(n,{color:"primary",class:"q-ml-sm",unelevated:"",label:"Lançar",type:"submit"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);Z()(Of,"components",{QDialog:k.Z,QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QCardSection:q.Z,QForm:fo.Z,QSelect:al.Z}),Z()(Of,"directives",{ClosePopup:J.Z});const jf={components:{CaixaAbrir:av.Z,CaixaConferencia:uv,CaixaFechar:ff,CaixaSangriaLancar:wf,CaixaSuprimentoLancar:Mf,CaixaDespesaLancar:zf,FaturaCard:Yh,VendaCard:Hi},data(){return{idDocumentoCaixa:"",caixas:[],vendas:{},faturas:{},totalEmpresasPermitidas:[],intervaloAtualizar:void 0,intervaloCarregaCaixas:void 0,tituloCaixaTransferencia:"",menuFaturamento:[{icone:"lock_open",rotulo:"Abrir caixa",manipulador:()=>{this.$refs.Abrir.mostrar()}},{icone:"attach_money",rotulo:"Suprimento",manipulador:()=>{this.$refs.Suprimento.mostrar({idDocumentoCaixa:this.idDocumentoCaixa})}},{icone:"money_off",rotulo:"Sangria",manipulador:()=>{this.$refs.Sangria.mostrar({idDocumentoCaixa:this.idDocumentoCaixa})}},{icone:"payment",rotulo:"Despesa",manipulador:()=>{this.$refs.Despesa.mostrar({idDocumentoCaixa:this.idDocumentoCaixa})}},{icone:"lock",rotulo:"Fechar caixa",manipulador:()=>{this.$refs.Fechar.mostrar({idDocumentoCaixa:this.idDocumentoCaixa})}}]}},methods:{async atualizar(){!this.menuFaturamento.find((e=>"Imprimir Conferência de caixa"===e.rotulo))&&await $db.permissao.objeto("Diretiva_Caixa_ImprimirConferenciaCaixa")&&(this.menuFaturamento=[...this.menuFaturamento,{icone:"print",rotulo:"Imprimir Conferência de caixa",manipulador:()=>{this.idDocumentoCaixa?this.$imprimir("conferencia-de-caixa",this.idDocumentoCaixa):this.$q.notifyError("Caixa não selecionada")}}]),!this.menuFaturamento.find((e=>"Reimprimir Conferência de caixa"===e.rotulo))&&await $db.permissao.objeto("Diretiva_Caixa_VisualizaDiferenca")&&(this.menuFaturamento=[...this.menuFaturamento,{icone:"print",rotulo:"Reimprimir Conferência de caixa",manipulador:()=>{this.$refs.Conferencia.mostrar()}}]),this.vendas={},this.faturas={},this.idDocumentoCaixa="",this.caixas=[],await this.carregaCaixas(),this.idDocumentoCaixa=(this.caixas[0]||{}).valor||"",this.idDocumentoCaixa&&this.carregarDocumentos()},async carregaCaixas(){let e=$db.usuario.logado.codigoContato;try{await $db.permissao.objeto("Diretiva_Caixa_LivreUtilizacao")&&(e="")}catch(e){this.$q.notify("Não foi possível recuperar informações de permissão.")}let o=(await $db.caixa.le({aberto:!0})).filter((o=>!e||o.codigoContato===e)),t=(await $db.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0)).map((e=>e.id));if(o=o.filter((e=>t.includes(e.idEmpresa))),o.length)for(const e of o)e.rotulo=((await $db.caixa.le({id:e.idCaixa})||{}).descricao||"")+" - Aberto em "+this.$filters.dataHora(e.dataHoraEmissao)+("Reaberto"===e.status?" - Reaberto":""),e.valor=e.id;this.caixas=o.length?$lodash.orderBy(o,"dataHoraEmissao","desc"):[{rotulo:"Não há caixas abertos",valor:""}]},carregarDocumentos(){$db.documentoCondicaoPagamento.le({idDocumentoCaixa:this.idDocumentoCaixa}).then((async e=>{const o=[];e.reduce(((e,t)=>(e.includes(t.idDocumento)||(e.push(t.idDocumento),o.push($db.documento.le({id:t.idDocumento}))),e)),[]);let t=[];for await(const e of o)t.push(e);t=$lodash.orderBy(t,"dataHoraEmissao","desc");const a={},i={};for(const e of t)"Venda"===e.tipo&&e.status&&(a[e.status]||(a[e.status]=[]),a[e.status].push(e)),"Fatura"===e.tipo&&e.status&&(i[e.status]||(i[e.status]=[]),i[e.status].push(e));this.vendas=a,this.vendas.encontradas=!!Object.keys(a).length,this.vendas.status=Object.keys(a).filter((e=>"encontradas"!==e)),this.faturas=i,this.faturas.encontradas=!!Object.keys(i).length,this.faturas.status=Object.keys(i).filter((e=>"encontradas"!==e))}))}},async mounted(){this.caixas=[{rotulo:"Carregando caixas...",valor:""}];let e=!1,o=await $db.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);if(o.length)this.atualizar(),e=!0;else{let t=0;this.intervaloAtualizar=setInterval((async()=>{t++,(t>60||o.length)&&(clearInterval(this.intervaloAtualizar),this.atualizar(),e=!0),o=await $db.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0)}),1e3)}let t=0,a=500;const i=()=>{this.intervaloCarregaCaixas=setInterval((async()=>{e&&(t++,t>5&&(a=5e3,clearInterval(this.intervaloCarregaCaixas),i()),await this.carregaCaixas(),this.caixas.find((e=>e.valor===this.idDocumentoCaixa))||(this.idDocumentoCaixa=(this.caixas[0]||{}).valor||"",this.idDocumentoCaixa&&await this.carregarDocumentos()))}),a)};i()},beforeUnmount(){this.intervaloAtualizar&&clearInterval(this.intervaloAtualizar),this.intervaloCarregaCaixas&&clearInterval(this.intervaloCarregaCaixas)}},$f=(0,T.Z)(jf,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("campo"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("row"),d=(0,a.resolveComponent)("venda-card"),m=(0,a.resolveComponent)("q-expansion-item"),u=(0,a.resolveComponent)("q-list"),p=(0,a.resolveComponent)("fatura-card"),h=(0,a.resolveComponent)("caixa-abrir"),C=(0,a.resolveComponent)("CaixaFechar"),v=(0,a.resolveComponent)("caixa-sangria-lancar"),f=(0,a.resolveComponent)("caixa-suprimento-lancar"),N=(0,a.resolveComponent)("caixa-despesa-lancar"),V=(0,a.resolveComponent)("caixa-conferencia");return(0,a.openBlock)(),(0,a.createElementBlock)("div",ev,[(0,a.createElementVNode)("div",ov,[(0,a.createVNode)(s,{modelValue:r.idDocumentoCaixa,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.idDocumentoCaixa=e),l.carregarDocumentos],opcoes:r.caixas,class:"q-mx-md",tipo:"seletor"},null,8,["modelValue","opcoes","onUpdate:modelValue"]),(0,a.createVNode)(c,{class:"q-col-gutter-md q-pa-md"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.menuFaturamento,((e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"col-6 col-md",key:o},[(0,a.createVNode)(n,{class:"botaoAcesso full-width",color:"primary",outline:"",icon:e.icone,onClick:e.manipulador,label:e.rotulo,size:"lg"},null,8,["icon","onClick","label"])])))),128))])),_:1}),(0,a.createElementVNode)("div",tv,[r.vendas.encontradas?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{"default-opened":"",label:"Vendas"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.vendas.status,(e=>((0,a.openBlock)(),(0,a.createBlock)(m,{key:e,"default-opened":"",label:e},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.vendas[e],(e=>((0,a.openBlock)(),(0,a.createBlock)(d,{key:e.id,id:e.id,onAtualizar:l.atualizar,class:"q-mb-md q-mx-md"},null,8,["id","onAtualizar"])))),128))])),_:2},1032,["label"])))),128))])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),r.faturas.encontradas?((0,a.openBlock)(),(0,a.createBlock)(u,{key:1},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{"default-opened":"",label:"Faturas"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.faturas.status,(e=>((0,a.openBlock)(),(0,a.createBlock)(m,{key:e,"default-opened":"",label:e},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.faturas[e],(e=>((0,a.openBlock)(),(0,a.createBlock)(p,{key:e.id,id:e.id,onAtualizar:l.atualizar,class:"q-mb-md q-mx-md"},null,8,["id","onAtualizar"])))),128))])),_:2},1032,["label"])))),128))])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(h,{ref:"Abrir",onAberto:l.atualizar},null,8,["onAberto"]),(0,a.createVNode)(C,{ref:"Fechar",onFechado:l.atualizar},null,8,["onFechado"]),(0,a.createVNode)(v,{ref:"Sangria"},null,512),(0,a.createVNode)(f,{ref:"Suprimento"},null,512),(0,a.createVNode)(N,{ref:"Despesa"},null,512),(0,a.createVNode)(V,{ref:"Conferencia"},null,512)])}]]);Z()(jf,"components",{QBtn:H.Z,QList:F.Z,QExpansionItem:P.Z});const Uf={class:"CaixaTesouraria"},Zf={class:"col-12 col-md-6"},Qf={class:"col"},Rf=(0,a.createElementVNode)("div",{class:"col-auto",style:{"align-items":"center",display:"flex"}},[(0,a.createElementVNode)("label",null,"até")],-1),Gf={class:"col"},Hf={class:"q-pa-sm"},Jf={id:"CaixaCard",class:"q-mb-md"},Yf={class:"col-12 col-md-6 q-pl-none"},Xf={class:"col-12 col-md"},Wf={class:"text-left q-my-none"},Kf={class:"text-weight-bold"},eN=(0,a.createElementVNode)("br",null,null,-1),oN={class:"col-6 col-md-auto"},tN={class:"text-left q-my-none"},aN=(0,a.createTextVNode)(" Abertura "),iN={class:"col-6 col-md-auto"},rN={class:"text-left q-my-none"},lN=(0,a.createTextVNode)(" Fechamento "),sN={class:"col-6 col-md"},nN={class:"text-right text-h5 text-positive text-weight-bold q-my-none"},cN={class:"text-right text-weight-normal text-tertiary text-body2 q-my-none"},dN={class:"col-6 col-md-auto"},mN=(0,a.createTextVNode)(" Abrir conferência "),uN=(0,a.createTextVNode)("Imprimir Fechamento"),pN=(0,a.createTextVNode)("Imprimir Conferência"),hN=(0,a.createTextVNode)("Conferir caixa"),CN={class:"layout-padding q-pa-none q-pb-md"},vN={class:"u-container q-pt-md"},fN={class:"bg-white round-borders q-pa-md"},NN={class:"col-12 col-lg-8 text-tertiary"},VN={class:"Faturamento-historico col-12 col-lg-4 text-caption text-tertiary text-right"},gN=(0,a.createElementVNode)("br",null,null,-1),xN={key:0,class:"q-mt-lg text-center"},bN={key:1},wN={class:"col-auto"},_N=(0,a.createTextVNode)("Valor no sistema"),yN=(0,a.createTextVNode)("Valor digitado pelo usuário"),IN=(0,a.createTextVNode)("Diferença"),EN=(0,a.createTextVNode)(" Abertura "),SN={class:"col-auto"},MN=(0,a.createTextVNode)(" "),TN=(0,a.createTextVNode)("Valor digitado pelo usuário"),kN=(0,a.createTextVNode)(" "),DN=(0,a.createTextVNode)(" Fechamento "),qN={key:0,class:"col-auto"},FN=(0,a.createTextVNode)(" "),PN=(0,a.createTextVNode)(" "),AN=(0,a.createTextVNode)(" Acerto "),BN={class:"col-auto"},LN=(0,a.createTextVNode)("Valor no sistema"),ON=(0,a.createTextVNode)("Diferença"),zN=(0,a.createTextVNode)(" Fundo Caixa "),jN={class:"q-pr-md q-pl-xs q-pt-md"},$N=(0,a.createTextVNode)(" Suprimentos "),UN={class:"q-pa-xs"},ZN={class:"text-right text-h5 text-positive text-weight-bold q-mb-sm"},QN={key:0,class:"q-px-md q-pb-md"},RN={class:"col-9 col-lg-10 q-pl-sm"},GN={class:"row"},HN={class:"col-12 col-sm"},JN={class:"col-12 col-sm"},YN={class:"col-12 col-sm"},XN={class:"col-12 col-sm"},WN={class:"q-pr-md q-pl-xs q-pt-md"},KN={class:"row"},eV=(0,a.createTextVNode)(" Despesas "),oV={class:"q-pa-xs"},tV={class:"text-right text-h5 text-positive text-weight-bold q-mb-sm"},aV={key:0,class:"q-px-md q-pb-md"},iV={class:"col-9 col-lg-10 q-pl-sm"},rV={class:"row"},lV={class:"col-12 col-sm"},sV={class:"col-12 col-sm"},nV={class:"col-12 col-sm"},cV={class:"col-12 col-sm"},dV={class:"q-pr-md q-pl-xs q-pt-md"},mV={class:"row"},uV=(0,a.createTextVNode)(" Dinheiro "),pV={class:"q-pa-xs"},hV={class:"text-right text-h5 text-positive text-weight-bold q-mb-sm"},CV={key:1,class:"q-px-md q-pb-md"},vV={class:"col-9 col-lg-10 q-pl-sm"},fV={class:"row"},NV={class:"col-12 col-sm"},VV=(0,a.createElementVNode)("div",{class:"col-12 col-sm"}," Dinheiro ",-1),gV={class:"col-12 col-sm"},xV={class:"col-12 col-sm"},bV={class:"q-pr-md q-pl-xs q-pt-md"},wV={class:"row"},_V=(0,a.createTextVNode)(" Sangrias "),yV={class:"q-pa-xs"},IV={class:"text-right text-h5 text-positive text-weight-bold q-mb-sm"},EV={key:0,class:"q-px-md q-pb-md"},SV={class:"col-9 col-lg-10 q-pl-sm"},MV={class:"row"},TV={class:"col-12 col-sm"},kV={class:"col-12 col-sm"},DV={class:"col-12 col-sm"},qV={class:"col-12 col-sm"},FV={key:3,class:"q-title"},PV={class:"q-pr-md q-pl-xs q-pt-md"},AV={class:"row"},BV=(0,a.createTextVNode)(" Acertos "),LV={class:"text-right text-h5 text-warning text-weight-bold q-mb-sm"},OV={class:"q-px-md q-pb-md"},zV={class:"col-9 col-lg-10 q-pl-sm"},jV={class:"row"},$V={class:"col-12 col-sm"},UV={class:"col-12 col-sm"},ZV={class:"q-pr-md q-pl-xs q-pt-md"},QV={class:"row"},RV={class:"q-pa-xs"},GV=(0,a.createTextVNode)("Digitado pelo usuário"),HV={class:"text-weight-normal text-tertiary text-body2 q-pa-none q-ma-none"},JV=(0,a.createTextVNode)("Diferença"),YV={key:1,class:"q-px-md q-pb-md"},XV={class:"col-9 col-lg-10 q-pl-sm"},WV={class:"row"},KV={class:"col-12 col-sm"},eg={class:"col-12 col-sm"},og={class:"col-12 col-sm"},tg={components:{Badge:S.Z,CaixaFechar:ff},data:()=>({documentoCaixa:{},mostrarDinheiro:!1,idDocumentoStatus:"",documentoStatusSelecionado:{},documentoStatus:[],caixa:{},campos:{},dinheiro:{},acertoDinheiro:0,acertos:[],totalAcertos:0,totalDinheiro:0,formasPagamento:[],totaisFormasPagamento:{},outrasFormasPagamento:{},condicoesPagamentoFechamento:{},valorAberturaSistema:0,valorFundoCaixa:0,valorFundoCaixaSistema:0,valorFechamento:0,diferencaFundo:0,diferencaAbertura:0,contatos:{},usuarios:{},documentos:{},mostrarSangrias:!1,sangrias:[],totalSangrias:0,mostrarDespesas:!1,despesas:[],totalDespesas:0,mostrarSuprimentos:!1,suprimentos:[],totalSuprimentos:0,visivel:!1,edicao:!1,carregando:!0,faturaModal:{visivel:!1,id:""},vendaModal:{visivel:!1,id:""},visibilidade:{botao:{reabrir:!1,finalizar:!1}},atualizarAoFecharModal:!1}),emits:["executar","update:modelValue"],methods:{aoFecharModal(){this.atualizarAoFecharModal&&this.$emit("executar","atualizar")},obterDivergencias(){let e=[],o=$utils.arredondar(this.diferencaAbertura-this.diferencaFundo);if(o){let t=this.formasPagamento.filter((e=>1===e.tipo));t.length&&(t=t[0],e.push({...t,diferenca:o}))}for(const t of this.formasPagamento.filter((e=>1!==e.tipo&&"Título Liquidado"===e.tipoFinanceiro))){let a=(this.totaisFormasPagamento[t.id]||{}).totalSistema||0,i=(this.totaisFormasPagamento[t.id]||{}).totalInformadoUsuario||0;o=$utils.arredondar(a-i),o&&e.push({...t,diferenca:o})}return e},cor(e,o,t){let a=(this.totaisFormasPagamento[t]||{}).totalSistema||0,i=(this.totaisFormasPagamento[t]||{}).totalInformadoUsuario||0,r=$utils.arredondar(a-i);if("card"===o)return"outraFormaPagamento"===e&&r?"itemError":"itemOk";switch(e){case"abertura":if(this.diferencaAbertura)return"text-negative";break;case"fundo":if(this.diferencaFundo)return"text-negative";break;case"outraFormaPagamento":if(r)return"text-negative"}return"text-blue-8"},async abrirModalDocumento(e){const o=await $db.documento.le({id:e});"Fatura"===o.tipo&&(this.faturaModal={visivel:!0,id:e}),"Venda"===o.tipo&&(this.vendaModal={visivel:!0,id:e})},async atualizar(){try{this.$q.loading.show({message:"Processando..."}),this.documentoCaixa=await $db.documento.le({id:this.idDocumentoCaixa}),this.caixa=await $db.caixa.le({id:this.documentoCaixa.idCaixa});const e=await $db.contato.le({id:this.documentoCaixa.idEmpresa}),o=await $db.usuario.le({id:this.documentoCaixa.idContato});let t=await $db.documentoStatus.le({idDocumento:this.documentoCaixa.id});switch(t=$lodash.orderBy(t,"dataHoraEmissao","desc"),t.pop(),this.visibilidade={botao:{reabrir:!1,finalizar:!1,fechar:!1}},t[0].statusFinalizado){case"Aguardando Conferência":this.visibilidade.botao.reabrir=!0,this.visibilidade.botao.finalizar=!0;break;case"Reaberto":this.visibilidade.botao.fechar=!0;break;case"Fechado":this.visibilidade.botao.reabrir=!0}let a={};for(let e of t)a[e.idUsuarioAlterou]||(a[e.idUsuarioAlterou]=await $db.usuario.le({id:e.idUsuarioAlterou}));this.documentoStatus=t.map((e=>({label:`${e.statusFinalizado} - ${this.$filters.dataHora(e.dataHoraEmissao)} - ${a[e.idUsuarioAlterou].nome}`,value:e.id,statusFinalizado:e.statusFinalizado}))),this.documentoStatusSelecionado=this.documentoStatus[0],this.campos.caixaEmpresaNome=e.nome,this.campos.dataHoraAbertura=this.documentoCaixa.dataHoraEmissao,this.campos.nomeUsuarioAbertura=o.nome,this.valorAberturaSistema=0;const i=`declare @codigoFinanceiroPlanoConta int = (select codigoFinanceiroPlanoConta from financeiroPlanoConta where id = ${$utils.sqlStr(this.caixa.idPlanoConta)})\n            declare @codigoEmpresa int = (select codigoEmpresa from documento where id = ${$utils.sqlStr(this.documentoCaixa.id)})\n            declare @dataAbertura varchar(10) = (select format(cast(dataHoraEmissao as date), 'dd/MM/yyyy') dataAbertura from documento where id = ${$utils.sqlStr(this.documentoCaixa.id)})\n\n          if (@codigoFinanceiroPlanoConta is not null and @codigoEmpresa is not null and @dataAbertura is not null)\n          begin\n            exec sp_financeiroMovimentacao_calcula_saldoPeriodo @codigoFinanceiroPlanoConta, @codigoEmpresa, 'DataPagamento', @dataAbertura, @dataAbertura, 0\n          end`;let r=new Date(this.documentoCaixa.dataHoraEmissao).setMilliseconds(0);r=new Date(r);let l=await $utils.executarSql(i);l=$lodash.orderBy(l,"ordem","asc"),l=l.filter((e=>!e.DataMovimento||new Date(e.DataMovimento)<r));const s=l[l.length-1];this.valorAberturaSistema=$utils.arredondar(s.ValorSaldo||0),this.diferencaAbertura=$utils.arredondar(((this.documentoCaixa||{}).valorAbertura||0)-this.valorAberturaSistema),this.$q.loading.hide(),this.visivel=!0,this.preencherConferencia()}catch(e){this.$q.notifyError("Não foi possível abrir a conferência.",e)}finally{this.$q.loading.hide()}},fechar(){this.$refs.Fechar.mostrar({idDocumentoCaixa:this.documentoCaixa.id})},async finalizar(){try{let e=this.obterDivergencias(),o="Deseja finalizar a conferência?",t="Deseja finalizar a conferência e lançar movimentações financeiras para acertar as divergências?";try{await new Promise(((a,i)=>{this.$q.dialog({message:e.length?t:o,noRefocus:!0,preventClose:!0,title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk((()=>{a()})).onCancel((()=>{i()}))})),this.$q.loading.show({message:"Processando..."})}catch(e){return}const a=$utils.dataAtual(),i=[],r=[];if(e.length){let o=await $db.documentoStatus.le({idDocumento:this.documentoCaixa.id});o=o.filter((e=>"Fechamento Caixa"===e.operacao&&"Aguardando Conferência"===e.statusFinalizado&&"Aberto"===e.statusOriginal));const t=o.length?o[0].dataHoraEmissao:a;let l=await $db.configuracoes.le({nome:"financeiro.planocontas.diferencacaixa"});if(l.length){const e=parseInt(l[0].valor);Number.isInteger(e)&&(l=await $db.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:e}))}if(!(l||{}).id)return void this.$q.notify("Faltando parâmetro da conta Diferença de Caixa.");for(const o of e){const e=$utils.uuid();r.push(e),i.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:e,idEmpresa:this.documentoCaixa.idEmpresa,idContato:$db.usuario.logado.id,idFinanceiroPlanoConta:l.id,valorDebito:o.diferenca>0?o.diferenca:0,valorCredito:o.diferenca<0?Math.abs(o.diferenca):0,dataEmissao:a,dataCompetencia:t,dataVencimento:t,dataMovimento:t,descricao:`Acerto do caixa #${this.documentoCaixa.id} Conta ${o.descricao}`,observacao:"Transferência entre contas",documentoTipo:"Acerto",documentoId:this.documentoCaixa.id,idDocumentoCaixa:this.documentoCaixa.id}),i.push({id:$utils.uuid(),idFinanceiroMovimentacaoN:e,idEmpresa:this.documentoCaixa.idEmpresa,idContato:$db.usuario.logado.id,idFinanceiroPlanoConta:1===o.tipo?this.documentoCaixa.idFinanceiroPlanoContaCaixa:o.idFinanceiroPlanoConta,valorDebito:o.diferenca<0?Math.abs(o.diferenca):0,valorCredito:o.diferenca>0?o.diferenca:0,dataEmissao:a,dataCompetencia:t,dataVencimento:t,dataMovimento:t,descricao:`Acerto do caixa #${this.documentoCaixa.id} Conta ${o.descricao}`,observacao:"Transferência entre contas",documentoTipo:"Acerto",documentoId:this.documentoCaixa.id,idDocumentoCaixa:this.documentoCaixa.id})}}const l={id:$utils.uuid(),idDocumento:this.documentoCaixa.id,operacao:"Conferência Finalizada",statusOriginal:"Aguardando Conferência",statusFinalizado:"Fechado",dataHoraEmissao:a,idUsuarioAlterou:$db.usuario.logado.id,idDocumentoCaixa:this.documentoCaixa.id};let s=$utils.clonar(this.documentoCaixa);s.status="Fechado";let n=await $db.caixaConsolidacao2.le({idDocumentoStatus:this.documentoStatus[0].value});n=n.map((e=>({...e,id:$utils.uuid(),idDocumentoStatus:l.id,dataHoraEmissao:a}))),await $db.documento.grava({atual:s,original:this.documentoCaixa}),await $db.documentoStatus.grava({atual:l});for(const e of r)await $db.financeiroMovimentacaoN.grava({atual:{id:e}});for(const e of i)n.push({id:$utils.uuid(),idDocumentoCaixa:s.id,idDocumentoStatus:l.id,tabela:"financeiroMovimentacao",idTabela:e.id,json:JSON.stringify(e),dataHoraEmissao:a}),await $db.financeiroMovimentacao.grava({atual:e});for(const e of n)await $db.caixaConsolidacao2.grava({atual:e});this.$q.loading.hide(),this.$emit("executar","atualizar"),this.visivel=!1,this.$q.notify({message:"Conferência finalizada.",type:"positive"})}catch(e){this.$q.notifyError("Não foi possível finalizar a conferência.",e)}finally{this.$q.loading.hide()}},async preencherConferencia(){this.carregando=!0,await $utils.dormir(500),this.refreshData();const e=this.documentoStatusSelecionado.value;let o=await $db.caixaConsolidacao2.le({idDocumentoStatus:e});o=o.map((e=>({...e,json:JSON.parse(e.json)})));let t={},a={};for(let e of o)!e.json.idContato||["Sangria Final","Sangria","Suprimento"].includes(e.json.documentoTipo)||t[e.json.idContato]||(t[e.json.idContato]=await $db.contato.le({id:e.json.idContato})),e.json.idContato&&["Sangria Final","Sangria","Suprimento"].includes(e.json.documentoTipo)&&!a[e.json.idContato]&&(a[e.json.idContato]=await $db.usuario.le({id:e.json.idContato}));this.contatos=t,this.usuarios=a;let i=o.filter((e=>"financeiroMovimentacao"===e.tabela&&"Acerto"===e.json.documentoTipo)).map((e=>e.json));const r=o.filter((e=>"financeiroTitulo"===e.tabela)).map((e=>e.json)),l=o.filter((e=>"financeiroMovimentacao"===e.tabela)).map((e=>e.json));this.sangrias=l.filter((e=>["Sangria","Sangria Final"].includes(e.documentoTipo)&&e.valorCredito>0)),this.totalSangrias=$utils.arredondar(this.sangrias.reduce(((e,o)=>e+(o.valorCredito||0)),0)),this.suprimentos=l.filter((e=>"Suprimento"===e.documentoTipo&&e.valorDebito>0)),this.totalSuprimentos=$utils.arredondar(this.suprimentos.reduce(((e,o)=>e+(o.valorDebito||0)),0));const s=l.filter((e=>"DespesaSimples"===e.documentoTipo&&e.valorCredito>0));this.despesas=r.filter((e=>s.find((o=>o.idFinanceiroMovimentacaoN===e.idFinanceiroMovimentacaoAgrupamento)))),this.totalDespesas=$utils.arredondar(this.despesas.reduce(((e,o)=>e+(o.valorRealizado||0)),0)),this.formasPagamento=(await $db.formaPagamento.le()).map((e=>({id:e.id,idFinanceiroPlanoConta:e.idFinanceiroPlanoConta,tipoFinanceiro:e.tipoFinanceiro,tipo:e.tipo,descricao:e.descricao,mostrar:!1})));const n=o.filter((e=>"documentoCondicaoPagamento"===e.tabela&&e.json.ordem)).map((e=>e.json));this.valorFechamento=$utils.arredondar(n.reduce(((e,o)=>(this.formasPagamento.find((e=>e.id===o.idFormaPagamento&&e.idFinanceiroPlanoConta===this.caixa.idPlanoConta))&&(e+=o.valor||0),e)),0)),this.condicoesPagamentoFechamento=n.reduce(((e,o)=>(e[o.idFormaPagamento]=o,e)),{});let c=o.filter((e=>"documentoCondicaoPagamento"===e.tabela&&!e.json.ordem)).map((e=>e.json));this.dinheiro=c.reduce(((e,o)=>(this.formasPagamento.find((e=>e.id===o.idFormaPagamento&&e.idFinanceiroPlanoConta===this.caixa.idPlanoConta))&&e.push(o),e)),[]),this.totalDinheiro=$utils.arredondar(this.dinheiro.reduce(((e,o)=>e+(o.valor||0)),0)),this.valorFundoCaixa=$utils.arredondar(this.valorFechamento-this.sangrias.filter((e=>"Sangria Final"===e.documentoTipo)).reduce(((e,o)=>e+(o.valorCredito||0)),0));const d=this.valorAberturaSistema+this.totalDinheiro-this.totalSangrias-this.totalDespesas+this.totalSuprimentos;this.diferencaFundo=$utils.arredondar(this.valorFundoCaixa-d),this.acertoDinheiro=i.filter((e=>e.idFinanceiroPlanoConta===this.documentoCaixa.idFinanceiroPlanoContaCaixa)).reduce(((e,o)=>e+(o.valorDebito||0)-(o.valorCredito||0)),0),this.valorFundoCaixaSistema=$utils.arredondar(d+this.acertoDinheiro),this.acertoDinheiro=$utils.arredondar(-1*this.acertoDinheiro),this.outrasFormasPagamento=c.reduce(((e,o)=>(!e[o.idFormaPagamento]&&this.formasPagamento.find((e=>e.id===o.idFormaPagamento&&e.idFinanceiroPlanoConta!==this.caixa.idPlanoConta))&&(e[o.idFormaPagamento]=[]),e[o.idFormaPagamento]&&e[o.idFormaPagamento].push(o),e)),{});let m=c.reduce(((e,o)=>(e[o.idFormaPagamento]||(e[o.idFormaPagamento]={totalInformadoUsuario:0}),e[o.idFormaPagamento]&&(void 0===e[o.idFormaPagamento].totalSistema?e[o.idFormaPagamento].totalSistema=o.valor||0:e[o.idFormaPagamento].totalSistema+=o.valor||0),e)),{});m=n.reduce(((e,o)=>(e[o.idFormaPagamento]||(e[o.idFormaPagamento]={totalSistema:0}),e[o.idFormaPagamento]&&(void 0===e[o.idFormaPagamento].totalInformadoUsuario?e[o.idFormaPagamento].totalInformadoUsuario=o.valor||0:e[o.idFormaPagamento].totalInformadoUsuario+=o.valor||0),e)),m);for(const e in m)m[e].totalSistema=$utils.arredondar(m[e].totalSistema),m[e].totalInformadoUsuario=$utils.arredondar(m[e].totalInformadoUsuario);this.totaisFormasPagamento=m;let u=c.reduce(((e,o)=>(e[o.idDocumento]||(e[o.idDocumento]={}),e)),{});for(let e in u)u[e]=await $db.documento.le({id:e});this.documentos=u,this.acertos=i.filter((e=>e.idFinanceiroPlanoConta!==this.documentoCaixa.idFinanceiroPlanoContaCaixa)).reduce(((e,o)=>{const t=this.formasPagamento.find((e=>e.idFinanceiroPlanoConta===o.idFinanceiroPlanoConta));return t&&e.push({descricao:t.descricao,valor:$utils.arredondar((o.valorCredito||0)-(o.valorDebito||0))}),e}),[]),this.totalAcertos=$utils.arredondar(this.acertos.reduce(((e,o)=>e+o.valor),0)),this.carregando=!1},async reabrir(){try{try{await new Promise(((e,o)=>{this.$q.dialog({message:"Deseja reabrir o caixa para correção?",noRefocus:!0,preventClose:!0,title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk((()=>{e()})).onCancel((()=>{o()}))})),this.$q.loading.show({message:"Processando..."})}catch(e){return}const e=$utils.dataAtual();let o=$utils.clonar(this.documentoCaixa),t=await $db.caixaConsolidacao2.le({idDocumentoStatus:this.documentoStatus[0].value});t=t.map((e=>({...e,json:JSON.parse(e.json)})));let a=t.filter((e=>"financeiroMovimentacao"===e.tabela)).map((e=>e.json));const i=a.filter((e=>"Sangria Final"===e.documentoTipo)),r=a.filter((e=>"Acerto"===e.documentoTipo)),l={id:$utils.uuid(),idDocumento:o.id,operacao:"Fechamento Caixa",statusOriginal:this.documentoStatus[0].statusFinalizado,statusFinalizado:"Reaberto",dataHoraEmissao:e,idUsuarioAlterou:$db.usuario.logado.id,idDocumentoCaixa:o.id};t=t.filter((e=>!["Sangria Final","Acerto"].includes(e.json.documentoTipo))),t=t.map((o=>({...o,id:$utils.uuid(),idDocumentoStatus:l.id,dataHoraEmissao:e,json:JSON.stringify(o.json)}))),o.status="Reaberto",o.dataHoraFinalizado="",await $db.documento.grava({atual:o,original:this.documentoCaixa}),await $db.documentoStatus.grava({atual:l}),await $db.financeiroMovimentacao.remove([...i,...r]);for(const e of t)await $db.caixaConsolidacao2.grava({atual:e});this.atualizar(),this.atualizarAoFecharModal=!0,this.$q.loading.hide()}catch(e){this.$q.notifyError("Não foi possível abrir a conferência.",e)}finally{this.$q.loading.hide()}},refreshData(){this.mostrarDinheiro=!1,this.dinheiro={},this.acertoDinheiro=0,this.acertos=[],this.totalAcertos=0,this.formasPagamento=[],this.totaisFormasPagamento={},this.outrasFormasPagamento={},this.condicoesPagamentoFechamento={},this.valorFechamento=0,this.diferencaFundo=0,this.contatos={},this.usuarios={},this.documentos={},this.mostrarSangrias=!1,this.sangrias=[],this.totalSangrias=0,this.mostrarDespesas=!1,this.despesas=[],this.totalDespesas=0,this.mostrarSuprimentos=!1,this.suprimentos=[],this.totalSuprimentos=0,this.mostrarDivergencias=!1,this.divergencias=[],this.totalDivergencias=0,this.edicao=!1,this.faturaModal={visivel:!1,id:""},this.vendaModal={visivel:!1,id:""}}},props:{idDocumentoCaixa:{required:!0,type:String},modelValue:{required:!0,type:Boolean}},watch:{modelValue(e){e&&(this.atualizar(),this.refreshData())},visivel(e){this.$emit("update:modelValue",e)}}};var ag=t(27760);const ig=(0,T.Z)(tg,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-header"),m=(0,a.resolveComponent)("q-icon"),u=(0,a.resolveComponent)("q-select"),p=(0,a.resolveComponent)("row"),h=(0,a.resolveComponent)("q-spinner"),C=(0,a.resolveComponent)("q-tooltip"),v=(0,a.resolveComponent)("q-card-section"),f=(0,a.resolveComponent)("badge"),N=(0,a.resolveComponent)("q-card-actions"),V=(0,a.resolveComponent)("q-item"),g=(0,a.resolveComponent)("q-list"),x=(0,a.resolveComponent)("q-card"),b=(0,a.resolveComponent)("q-page-container"),w=(0,a.resolveComponent)("q-footer"),_=(0,a.resolveComponent)("q-layout"),y=(0,a.resolveComponent)("CaixaFechar"),I=(0,a.resolveComponent)("q-dialog"),E=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(I,{modelValue:r.visivel,"onUpdate:modelValue":o[9]||(o[9]=e=>r.visivel=e),class:"caixaconferir",onHide:l.aoFecharModal,maximized:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{flat:"",round:"",dense:"",icon:"arrow_back"},null,512),[[E]]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[hN])),_:1}),(0,a.createVNode)(s,{dense:"",flat:"",icon:"print",round:""})])),_:1})])),_:1}),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",CN,[(0,a.createElementVNode)("div",vN,[(0,a.createElementVNode)("div",fN,[(0,a.createVNode)(p,{class:"items-center q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",NN,[(0,a.createVNode)(m,{name:"place"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(r.campos.caixaEmpresaNome),1)]),(0,a.createElementVNode)("div",VN,[(0,a.createElementVNode)("div",null,[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.dataHora(r.campos.dataHoraAbertura))+" ",1),(0,a.createVNode)(m,{name:"calendar_today"}),gN,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(r.campos.nomeUsuarioAbertura)+" ",1),(0,a.createVNode)(m,{name:"person"})])]),(0,a.createVNode)(u,{modelValue:r.documentoStatusSelecionado,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.documentoStatusSelecionado=e),l.preencherConferencia],label:"Histórico",options:r.documentoStatus,filter:"",style:{"white-space":"pre-wrap !important"}},null,8,["modelValue","options","onUpdate:modelValue"])])),_:1}),r.carregando?((0,a.openBlock)(),(0,a.createElementBlock)("div",xN,[(0,a.createVNode)(h,{color:"tertiary",size:50})])):(0,a.createCommentVNode)("",!0),r.carregando?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",bN,[(0,a.createVNode)(p,{class:"q-col-gutter-md justify-around"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",wN,[(0,a.createVNode)(v,{class:"q-pa-none text-tertiary text-center"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(r.valorAberturaSistema,2))+" ",1),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[_N])),_:1})])),_:1}),(0,a.createVNode)(n,{class:(0,a.normalizeClass)(["q-display-1 text-weight-bold text-center",l.cor("abertura")])},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(r.documentoCaixa.valorAbertura,2))+" ",1),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[yN])),_:1})])),_:1},8,["class"]),(0,a.createVNode)(v,{class:"q-pa-none text-tertiary text-center"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(r.diferencaAbertura,2))+" ",1),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[IN])),_:1})])),_:1}),(0,a.createVNode)(v,{class:"q-pa-none text-tertiary text-center"},{default:(0,a.withCtx)((()=>[EN])),_:1})]),(0,a.createElementVNode)("div",SN,[(0,a.createVNode)(v,{class:"q-pa-none text-tertiary text-center"},{default:(0,a.withCtx)((()=>[MN])),_:1}),(0,a.createVNode)(n,{class:(0,a.normalizeClass)(["q-display-1 text-weight-bold text-center",l.cor("fundo")])},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(r.valorFechamento,2))+" ",1),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[TN])),_:1})])),_:1},8,["class"]),(0,a.createVNode)(v,{class:"q-pa-none text-tertiary text-center"},{default:(0,a.withCtx)((()=>[kN])),_:1}),(0,a.createVNode)(v,{class:"q-pa-none text-tertiary text-center"},{default:(0,a.withCtx)((()=>[DN])),_:1})]),r.acertoDinheiro?((0,a.openBlock)(),(0,a.createElementBlock)("div",qN,[(0,a.createVNode)(v,{class:"q-pa-none text-tertiary text-center"},{default:(0,a.withCtx)((()=>[FN])),_:1}),(0,a.createVNode)(n,{class:"q-display-1 text-weight-bold text-center text-warning"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(r.acertoDinheiro,2)),1)])),_:1}),(0,a.createVNode)(v,{class:"q-pa-none text-tertiary text-center"},{default:(0,a.withCtx)((()=>[PN])),_:1}),(0,a.createVNode)(v,{class:"q-pa-none text-tertiary text-center"},{default:(0,a.withCtx)((()=>[AN])),_:1})])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",BN,[(0,a.createVNode)(v,{class:"q-pa-none text-tertiary text-center"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(r.valorFundoCaixaSistema,2))+" ",1),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[LN])),_:1})])),_:1}),(0,a.createVNode)(n,{class:(0,a.normalizeClass)(["q-display-1 text-weight-bold text-center",l.cor("fundo")])},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(r.valorFundoCaixa,2)),1)])),_:1},8,["class"]),(0,a.createVNode)(v,{class:"q-pa-none text-tertiary text-center"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(r.diferencaFundo,2))+" ",1),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[ON])),_:1})])),_:1}),(0,a.createVNode)(v,{class:"q-pa-none text-tertiary text-center"},{default:(0,a.withCtx)((()=>[zN])),_:1})])])),_:1}),r.suprimentos.length?((0,a.openBlock)(),(0,a.createBlock)(x,{key:0,class:"itemOk q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",jN,[(0,a.createVNode)(p,{class:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[$N])),_:1}),(0,a.createElementVNode)("div",UN,[(0,a.createVNode)(f,{cor:"primary",escuro:"",class:"q-mr-sm"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.suprimentos.length),1)])),_:1})]),(0,a.createElementVNode)("div",ZN,(0,a.toDisplayString)(e.$filters.numero(r.totalSuprimentos,2)),1)])),_:1})]),(0,a.createVNode)(N,{class:"content-center justify-center q-mt-lg"},{default:(0,a.withCtx)((()=>[r.mostrarSuprimentos?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,outline:"",size:"sm",icon:"keyboard_arrow_up",class:"no-shadow q-ma-xs",color:"grey",style:{"margin-top":"-30px"},label:"Ocultar Detalhes",onClick:o[1]||(o[1]=e=>r.mostrarSuprimentos=!r.mostrarSuprimentos)})):(0,a.createCommentVNode)("",!0),r.mostrarSuprimentos?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,outline:"",size:"sm",icon:"keyboard_arrow_down",class:"no-shadow q-ma-xs",color:"grey",style:{"margin-top":"-30px"},label:"Ver Detalhes",onClick:o[2]||(o[2]=e=>r.mostrarSuprimentos=!r.mostrarSuprimentos)}))])),_:1}),r.mostrarSuprimentos?((0,a.openBlock)(),(0,a.createElementBlock)("div",QN,[(0,a.createVNode)(g,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.suprimentos,(o=>((0,a.openBlock)(),(0,a.createBlock)(V,{key:o.id,class:"row u-separador q-my-none q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",RN,[(0,a.createElementVNode)("div",GN,[(0,a.createElementVNode)("div",HN,(0,a.toDisplayString)((r.usuarios[o.idContato]||{}).nome||"Nome não encontrado"),1),(0,a.createElementVNode)("div",JN,(0,a.toDisplayString)(o.documentoTipo),1),(0,a.createElementVNode)("div",YN,(0,a.toDisplayString)(e.$filters.numero(o.valorDebito,2)),1),(0,a.createElementVNode)("div",XN,(0,a.toDisplayString)(e.$filters.dataHora(o.dataMovimento)),1)])])])),_:2},1024)))),128))])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0),r.despesas.length?((0,a.openBlock)(),(0,a.createBlock)(x,{key:1,class:"itemOk q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",WN,[(0,a.createElementVNode)("div",KN,[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[eV])),_:1}),(0,a.createElementVNode)("div",oV,[(0,a.createVNode)(f,{cor:"primary",escuro:"",class:"q-mr-sm"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.despesas.length),1)])),_:1})]),(0,a.createElementVNode)("div",tV,(0,a.toDisplayString)(e.$filters.numero(r.totalDespesas,2)),1)])]),(0,a.createVNode)(N,{class:"content-center justify-center q-mt-lg"},{default:(0,a.withCtx)((()=>[r.mostrarDespesas?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,outline:"",size:"sm",icon:"keyboard_arrow_up",class:"no-shadow q-ma-xs",color:"grey",style:{"margin-top":"-30px"},label:"Ocultar Detalhes",onClick:o[3]||(o[3]=e=>r.mostrarDespesas=!r.mostrarDespesas)})):(0,a.createCommentVNode)("",!0),r.mostrarDespesas?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,outline:"",size:"sm",icon:"keyboard_arrow_down",class:"no-shadow q-ma-xs",color:"grey",style:{"margin-top":"-30px"},label:"Ver Detalhes",onClick:o[4]||(o[4]=e=>r.mostrarDespesas=!r.mostrarDespesas)}))])),_:1}),r.mostrarDespesas?((0,a.openBlock)(),(0,a.createElementBlock)("div",aV,[(0,a.createVNode)(g,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.despesas,(o=>((0,a.openBlock)(),(0,a.createBlock)(V,{key:o.id,class:"row u-separador q-my-none q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",iV,[(0,a.createElementVNode)("div",rV,[(0,a.createElementVNode)("div",lV,(0,a.toDisplayString)((r.contatos[o.idContato]||{}).nome||"Nome não encontrado"),1),(0,a.createElementVNode)("div",sV,(0,a.toDisplayString)(o.documentoTipo),1),(0,a.createElementVNode)("div",nV,(0,a.toDisplayString)(e.$filters.numero(o.valorRealizado,2)),1),(0,a.createElementVNode)("div",cV,(0,a.toDisplayString)(e.$filters.dataHora(o.dataMovimento)),1)])])])),_:2},1024)))),128))])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(x,{class:"itemOk q-my-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",dV,[(0,a.createElementVNode)("div",mV,[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[uV])),_:1}),(0,a.createElementVNode)("div",pV,[(0,a.createVNode)(f,{cor:"primary",escuro:"",class:"q-mr-sm"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.dinheiro.length),1)])),_:1})]),(0,a.createElementVNode)("div",hV,(0,a.toDisplayString)(e.$filters.numero((r.totaisFormasPagamento[(r.dinheiro[0]||{}).idFormaPagamento]||{}).totalSistema,2)),1)])]),r.dinheiro.length?((0,a.openBlock)(),(0,a.createBlock)(N,{key:0,class:"content-center justify-center q-mt-lg"},{default:(0,a.withCtx)((()=>[r.mostrarDinheiro?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,outline:"",size:"sm",icon:"keyboard_arrow_up",class:"no-shadow q-ma-xs",color:"grey",style:{"margin-top":"-30px"},label:"Ocultar Detalhes",onClick:o[5]||(o[5]=e=>r.mostrarDinheiro=!r.mostrarDinheiro)})):(0,a.createCommentVNode)("",!0),r.mostrarDinheiro?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,outline:"",size:"sm",icon:"keyboard_arrow_down",class:"no-shadow q-ma-xs",color:"grey",style:{"margin-top":"-30px"},label:"Ver Detalhes",onClick:o[6]||(o[6]=e=>r.mostrarDinheiro=!r.mostrarDinheiro)}))])),_:1})):(0,a.createCommentVNode)("",!0),r.mostrarDinheiro?((0,a.openBlock)(),(0,a.createElementBlock)("div",CV,[(0,a.createVNode)(g,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.dinheiro,(o=>((0,a.openBlock)(),(0,a.createBlock)(V,{key:o.id,class:"row u-separador q-my-none q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",vV,[(0,a.createElementVNode)("div",fV,[(0,a.createElementVNode)("div",NV,[(0,a.createTextVNode)((0,a.toDisplayString)(r.documentos[o.idDocumento].descricaoContato)+" ",1),(0,a.createVNode)(f,{cor:"primary",escuro:"",class:"q-mx-sm"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("#"+(0,a.toDisplayString)(r.documentos[o.idDocumento].numero),1)])),_:2},1024)]),VV,(0,a.createElementVNode)("div",gV,(0,a.toDisplayString)(e.$filters.numero(o.valor,2)),1),(0,a.createElementVNode)("div",xV,(0,a.toDisplayString)(e.$filters.data(o.dataVencimento)),1)])])])),_:2},1024)))),128))])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1}),r.sangrias.length?((0,a.openBlock)(),(0,a.createBlock)(x,{key:2,class:"itemOk q-my-md q-mb-xl"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",bV,[(0,a.createElementVNode)("div",wV,[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[_V])),_:1}),(0,a.createElementVNode)("div",yV,[(0,a.createVNode)(f,{cor:"primary",escuro:"",class:"q-mr-sm"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.sangrias.length),1)])),_:1})]),(0,a.createElementVNode)("div",IV,(0,a.toDisplayString)(e.$filters.numero(r.totalSangrias,2)),1)])]),(0,a.createVNode)(N,{class:"content-center justify-center q-mt-lg"},{default:(0,a.withCtx)((()=>[r.mostrarSangrias?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,outline:"",size:"sm",icon:"keyboard_arrow_up",class:"no-shadow q-ma-xs",color:"grey",style:{"margin-top":"-30px"},label:"Ocultar Detalhes",onClick:o[7]||(o[7]=e=>r.mostrarSangrias=!r.mostrarSangrias)})):(0,a.createCommentVNode)("",!0),r.mostrarSangrias?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,outline:"",size:"sm",icon:"keyboard_arrow_down",class:"no-shadow q-ma-xs",color:"grey",style:{"margin-top":"-30px"},label:"Ver Detalhes",onClick:o[8]||(o[8]=e=>r.mostrarSangrias=!r.mostrarSangrias)}))])),_:1}),r.mostrarSangrias?((0,a.openBlock)(),(0,a.createElementBlock)("div",EV,[(0,a.createVNode)(g,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.sangrias,(o=>((0,a.openBlock)(),(0,a.createBlock)(V,{key:o.id,class:"row u-separador q-my-none q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",SV,[(0,a.createElementVNode)("div",MV,[(0,a.createElementVNode)("div",TV,(0,a.toDisplayString)((r.usuarios[o.idContato]||{}).nome||"Nome não encontrado"),1),(0,a.createElementVNode)("div",kV,(0,a.toDisplayString)(o.documentoTipo),1),(0,a.createElementVNode)("div",DV,(0,a.toDisplayString)(e.$filters.numero(o.valorCredito,2)),1),(0,a.createElementVNode)("div",qV,(0,a.toDisplayString)(e.$filters.dataHora(o.dataMovimento)),1)])])])),_:2},1024)))),128))])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0),r.acertos.length||r.formasPagamento.filter((e=>1!==e.tipo&&(r.outrasFormasPagamento[e.id]||(r.totaisFormasPagamento[e.id]||{}).totalInformadoUsuario))).length?((0,a.openBlock)(),(0,a.createElementBlock)("div",FV," Outras formas de pagamento ")):(0,a.createCommentVNode)("",!0),r.acertos.length?((0,a.openBlock)(),(0,a.createBlock)(x,{key:4,class:"itemWarning q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",PV,[(0,a.createElementVNode)("div",AV,[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[BV])),_:1}),(0,a.createElementVNode)("div",LV,(0,a.toDisplayString)(e.$filters.numero(r.totalAcertos,2)),1)])]),(0,a.createElementVNode)("div",OV,[(0,a.createVNode)(g,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.acertos,((o,t)=>((0,a.openBlock)(),(0,a.createBlock)(V,{key:t,class:"row u-separador q-my-none q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",zV,[(0,a.createElementVNode)("div",jV,[(0,a.createElementVNode)("div",$V,(0,a.toDisplayString)(o.descricao),1),(0,a.createElementVNode)("div",UV,(0,a.toDisplayString)(e.$filters.numero(o.valor,2)),1)])])])),_:2},1024)))),128))])),_:1})])])),_:1})):(0,a.createCommentVNode)("",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.formasPagamento.filter((e=>1!==e.tipo&&(r.outrasFormasPagamento[e.id]||(r.totaisFormasPagamento[e.id]||{}).totalInformadoUsuario))),(o=>((0,a.openBlock)(),(0,a.createBlock)(x,{key:o.id,class:(0,a.normalizeClass)(["q-mt-md",l.cor("outraFormaPagamento","card",o.id)])},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ZV,[(0,a.createElementVNode)("div",QV,[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.descricao),1)])),_:2},1024),(0,a.createElementVNode)("div",RV,[(0,a.createVNode)(f,{cor:"primary",escuro:"",class:"q-mr-sm"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.outrasFormasPagamento[o.id]?(r.outrasFormasPagamento[o.id]||[]).length:0),1)])),_:2},1024)]),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["text-right text-h5 text-weight-bold q-mb-sm",l.cor("outraFormaPagamento","",o.id)])},[(0,a.createElementVNode)("span",null,[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero((r.totaisFormasPagamento[o.id]||{}).totalInformadoUsuario,2))+" ",1),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[GV])),_:1})]),(0,a.createElementVNode)("p",HV,[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero((r.totaisFormasPagamento[o.id]||{}).totalSistema-(r.totaisFormasPagamento[o.id]||{}).totalInformadoUsuario,2))+" ",1),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[JV])),_:1})])],2)])]),r.outrasFormasPagamento[o.id]?((0,a.openBlock)(),(0,a.createBlock)(N,{key:0,class:"content-center justify-center q-mt-lg"},{default:(0,a.withCtx)((()=>[o.mostrar?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,outline:"",size:"sm",icon:"keyboard_arrow_up",class:"no-shadow q-ma-xs",color:"grey",style:{"margin-top":"-30px"},label:"Ocultar Detalhes",onClick:e=>o.mostrar=!o.mostrar},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),o.mostrar?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,outline:"",size:"sm",icon:"keyboard_arrow_down",class:"no-shadow q-ma-xs",color:"grey",style:{"margin-top":"-30px"},label:"Ver Detalhes",onClick:e=>o.mostrar=!o.mostrar},null,8,["onClick"]))])),_:2},1024)):(0,a.createCommentVNode)("",!0),o.mostrar?((0,a.openBlock)(),(0,a.createElementBlock)("div",YV,[(0,a.createVNode)(g,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.outrasFormasPagamento[o.id],(o=>((0,a.openBlock)(),(0,a.createBlock)(V,{key:o.id,class:"row u-separador q-my-none q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",XV,[(0,a.createElementVNode)("div",WV,[(0,a.createElementVNode)("div",KV,[(0,a.createTextVNode)((0,a.toDisplayString)(r.documentos[o.idDocumento].descricaoContato)+" ",1),(0,a.createVNode)(f,{cor:"primary",escuro:"",class:"q-mx-sm"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)(r.documentos[o.idDocumento].id.slice(-6)),1)])),_:2},1024)]),(0,a.createElementVNode)("div",eg,(0,a.toDisplayString)(e.$filters.numero(o.valor,2)),1),(0,a.createElementVNode)("div",og,(0,a.toDisplayString)(e.$filters.data(o.dataVencimento)),1)])])])),_:2},1024)))),128))])),_:2},1024)])):(0,a.createCommentVNode)("",!0)])),_:2},1032,["class"])))),128))]))])])])])),_:1}),(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"footer"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-right"},{default:(0,a.withCtx)((()=>[r.visibilidade.botao.reabrir?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,color:"negative",flat:"",label:"Reabrir",onClick:l.reabrir},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),r.visibilidade.botao.finalizar?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,class:"q-ml-sm no-shadow",color:"primary",label:"finalizar",onClick:l.finalizar},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),r.visibilidade.botao.fechar?((0,a.openBlock)(),(0,a.createBlock)(s,{key:2,class:"q-ml-sm no-shadow",color:"primary",label:"refechar caixa",onClick:l.fechar},null,8,["onClick"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(y,{ref:"Fechar",onFechado:l.atualizar},null,8,["onFechado"])])),_:1},8,["modelValue","onHide"])}]]);Z()(tg,"components",{QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QPageContainer:le.Z,QIcon:L.Z,QSelect:al.Z,QSpinner:Me.Z,QCardSection:q.Z,QTooltip:Ao.Z,QCard:D.Z,QCardActions:ag.Z,QList:F.Z,QItem:z.Z,QFooter:Te.Z}),Z()(tg,"directives",{ClosePopup:J.Z});const rg={components:{Avatar:uo.Z,CaixaConferir:ig},data:()=>({empresa:{},contato:{},usuarioAbertura:{},caixaConferirModal:{visivel:!1}}),emits:["atualizar"],methods:{abrirCaixaConferirModal(){this.caixaConferirModal.visivel=!0},async atualizar(){this.empresa=await $db.contato.le({id:this.documento.idEmpresa}),this.contato=await $db.contato.le({id:this.documento.idContato}),this.usuarioAbertura=await $db.usuario.le({id:this.documento.idContato})},executar(e){"atualizar"===e&&(this.atualizar(),this.$emit("atualizar"))}},props:{documento:{required:!0,type:Object}},mounted(){this.atualizar()}},lg=(0,T.Z)(rg,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("avatar"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-badge"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-icon"),u=(0,a.resolveComponent)("q-tooltip"),p=(0,a.resolveComponent)("q-btn"),h=(0,a.resolveComponent)("q-item-section"),C=(0,a.resolveComponent)("q-item-label"),v=(0,a.resolveComponent)("q-item"),f=(0,a.resolveComponent)("q-list"),N=(0,a.resolveComponent)("q-menu"),V=(0,a.resolveComponent)("row"),g=(0,a.resolveComponent)("q-card"),x=(0,a.resolveComponent)("CaixaConferir");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Jf,[(0,a.createVNode)(g,{class:"extratoItem bg-white q-pa-sm no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"items-center q-mx-none q-px-none q-mb-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Yf,[(0,a.createVNode)(d,{class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:r.usuarioAbertura.imagem,rotulo:r.usuarioAbertura.nome,tamanho:"40",style:{float:"left"}},null,8,["imagem","rotulo"]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.usuarioAbertura.apelido),1)])),_:1}),(0,a.createVNode)(c,{rounded:"",color:"grey",small:"",class:"q-ma-sm"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.documento.status),1)])),_:1}),(0,a.createVNode)(c,{class:"q-mr-sm",rounded:"",color:"positive"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)(parseInt(t.documento.numero)||(t.documento.id||"").slice(-6)),1)])),_:1})])),_:1})]),(0,a.createElementVNode)("div",Xf,[(0,a.createElementVNode)("p",Wf,[(0,a.createElementVNode)("span",Kf,[(0,a.createVNode)(m,{name:"business "}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(r.empresa.apelido),1)]),eN,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(r.empresa.nome),1)])]),(0,a.createElementVNode)("div",oN,[(0,a.createElementVNode)("p",tN,[t.documento.dataHoraEmissao?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,name:"mdi-calendar-today "})):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.data(t.documento.dataHoraEmissao))+" ",1),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[aN])),_:1})])]),(0,a.createElementVNode)("div",iN,[(0,a.createElementVNode)("p",rN,[t.documento.dataHoraEmissao?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,name:"mdi-calendar-today "})):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.data(t.documento.dataHoraFinalizado))+" ",1),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[lN])),_:1})])]),(0,a.createElementVNode)("div",sN,[(0,a.createElementVNode)("p",nN,(0,a.toDisplayString)(e.$filters.numero(t.documento.totalDocumento,2)),1),(0,a.createElementVNode)("p",cN,(0,a.toDisplayString)(e.$filters.numero(t.documento.subTotal,2)),1)]),(0,a.createElementVNode)("div",dN,[(0,a.createVNode)(p,{rounded:"",dense:"",flat:"",icon:"edit",class:"no-shadow q-ma-xs",size:"md",color:"primary",style:{float:"right"},onClick:l.abrirCaixaConferirModal},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[mN])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)(p,{rounded:"",dense:"",flat:"",icon:"print",class:"no-shadow q-ma-xs",size:"md",color:"primary",style:{float:"right"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{link:"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{clickable:"",onClick:o[0]||(o[0]=o=>{e.$imprimir("fechamento-de-caixa",t.documento.id)})},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"print"})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[uN])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(v,{clickable:"",onClick:o[1]||(o[1]=o=>{e.$imprimir("conferencia-de-caixa",t.documento.id)})},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"print"})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[pN])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1})])),_:1}),(0,a.createVNode)(x,{modelValue:r.caixaConferirModal.visivel,"onUpdate:modelValue":o[2]||(o[2]=e=>r.caixaConferirModal.visivel=e),idDocumentoCaixa:t.documento.id,onExecutar:l.executar},null,8,["modelValue","idDocumentoCaixa","onExecutar"])])}]]);Z()(rg,"components",{QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBadge:B.Z,QIcon:L.Z,QTooltip:Ao.Z,QBtn:H.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z});const sg={components:{CaixaCard:lg,GChipsV2:Mp},data:()=>({documentosCaixaConferencia:[],documentosCaixaFechado:[],dataIni:"",dataFim:"",termosPesquisa:[]}),methods:{async filtrar(){let e=[];const o=await $db.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);let t=new Date(new Date(this.dataIni).toDateString()),a=new Date(new Date(this.dataFim).toDateString());for(const i of o)(await $erp().documento.where({tipo:"Caixa",idEmpresa:i.id}).toArray()).forEach((o=>{const i=new Date(new Date(o.dataHoraEmissao).toDateString());i<=a&&i>=t&&e.push(o)}));e.sort(((e,o)=>new Date(e.dataHoraEmissao)>new Date(o.dataHoraEmissao)?-1:1));for(let t of this.termosPesquisa)t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim().toLowerCase(),e=/^#\d+$/gi.test(t)?e.filter((e=>e.numero===Number(t.slice(1)))):e.filter((e=>{const a=o.find((o=>o.id===e.idEmpresa));return-1!==((a.nome||"")+(a.apelido||"")).normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim().toLowerCase().search(t)}));let i=e.filter((e=>"Aguardando Conferência"===e.status)),r=e.filter((e=>"Fechado"===e.status));this.documentosCaixaConferencia=i,this.documentosCaixaFechado=r}},mounted(){const e=new Date((new Date).toDateString()),o=new Date(e);o.setDate(o.getDate()-7),this.dataIni=o,this.dataFim=e,this.filtrar()}},ng=(0,T.Z)(sg,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("GChipsV2"),c=(0,a.resolveComponent)("campo"),d=(0,a.resolveComponent)("row"),m=(0,a.resolveComponent)("q-card"),u=(0,a.resolveComponent)("caixa-card"),p=(0,a.resolveComponent)("q-expansion-item"),h=(0,a.resolveComponent)("q-list");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Uf,[(0,a.createVNode)(m,{class:"q-pa-sm q-mx-sm no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"items-center q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Zf,[(0,a.createVNode)(n,{modelValue:r.termosPesquisa,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.termosPesquisa=e),l.filtrar],class:"q-px-none",placeholder:"Termo de pesquisa"},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"mdi-filter"})])),_:1},8,["modelValue","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",Qf,[(0,a.createVNode)(c,{modelValue:r.dataIni,"onUpdate:modelValue":o[1]||(o[1]=e=>r.dataIni=e),tipo:"data",onInput:l.filtrar,dense:"",outlined:""},null,8,["modelValue","onInput"])]),Rf,(0,a.createElementVNode)("div",Gf,[(0,a.createVNode)(c,{modelValue:r.dataFim,"onUpdate:modelValue":o[2]||(o[2]=e=>r.dataFim=e),tipo:"data",onInput:l.filtrar,dense:"",outlined:""},null,8,["modelValue","onInput"])])])),_:1})])),_:1}),(0,a.createElementVNode)("div",Hf,[(0,a.createVNode)(h,{class:"no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{"default-opened":"",label:"Aguardando Conferência"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.documentosCaixaConferencia,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id},[(0,a.createVNode)(u,{documento:e,onAtualizar:l.filtrar},null,8,["documento","onAtualizar"])])))),128))])),_:1})])),_:1}),(0,a.createVNode)(h,{class:"no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{"default-opened":"",label:"Fechado"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.documentosCaixaFechado,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id},[(0,a.createVNode)(u,{documento:e,onAtualizar:l.filtrar},null,8,["documento","onAtualizar"])])))),128))])),_:1})])),_:1})])])}]]);Z()(sg,"components",{QCard:D.Z,QIcon:L.Z,QList:F.Z,QExpansionItem:P.Z});const cg={class:"u-container"},dg=(0,a.createTextVNode)("Buscar vendedor/empresa"),mg={class:"bg-gradiente text-white"},ug={class:"u-container"},pg={class:"u-container"},hg={components:{Avatar:uo.Z,Tutorial:po.Z},computed:{abas(){return[{icon:"insert_chart",label:"Vendedor",to:{name:"CockpitVendedor",params:{id:this.$route.params.id}}},...$db.usuario.logado.desenvolvedor()?[{icon:"multiline_chart",label:"Performance",to:{name:"CockpitPerformance",params:{id:this.$route.params.id}}}]:[],...this.permissoes.vendas?[{icon:"shopping_cart",label:"Vendas",to:{name:"CockpitVendas",params:{id:this.$route.params.id}}}]:[],...this.permissoes.faturas?[{icon:"how_to_vote",label:"Faturas",to:{name:"CockpitFaturas",params:{id:this.$route.params.id}}}]:[],..."optisoul"===this.sistemaPai&&this.permissoes.envelope?[{icon:"mail",label:"Envelopes",to:{name:"CockpitEnvelopes",params:{id:this.$route.params.id}}}]:[]]}},data:()=>({contato:{},permissoes:{},sistemaPai:""}),methods:{async atualizar(){try{await this.obterContatoUsuario()}catch(e){$q.notifyError("Não foi possível carregar os dados do cockpit",e)}},async criarObjStoreIDB(){if(!("indexedDB"in window))return void console.log("Navegador sem suporte ao IndexedDB");let e=indexedDB.open("cockpit",1);return e.onupgradeneeded=function(e){e.target.result.createObjectStore("consultasRecentes",{keyPath:"id"}).createIndex("id","id",{unique:!0})},new Promise(((o,t)=>{e.onsuccess=function(e){o()},e.onerror=function(e){o()}}))},salvarObjIDb(e){if(!("indexedDB"in window))return;let o,t,a;return o=new Promise(((e,o)=>{a=e})),t=indexedDB.open("cockpit",1),t.onsuccess=function(){let o=t.result.transaction(["consultasRecentes"],"readwrite").objectStore("consultasRecentes");t=o.put(e),t.onsuccess=function(e){a()},t.onerror=function(e){a()}},o},obterObjIDb(e){if(!("indexedDB"in window))return;let o,t,a;return o=new Promise(((e,o)=>{a=e})),t=indexedDB.open("cockpit",1),t.onsuccess=function(){let o=t.result.transaction(["consultasRecentes"],"readwrite").objectStore("consultasRecentes");t=o.get(e),t.onsuccess=function(e){a(e.target.result)},t.onerror=function(e){a()}},o},async obterContatoUsuario(){const e=JSON.parse(localStorage.getItem("usuario"))||{},o=this.$route.params.id,t=e.numeroDocumentoNacional;let a={};if(t){if(o&&(a=await $erp().contato.get(o)||{},a.ativo&&!a.excluido&&a.numeroDocumentoNacional===t||(a={})),!a.id){let e;e=await $erp().contato.where({numeroDocumentoNacional:t}).toArray(),a=e.find((e=>e.ativo&&!e.excluido&&e.codigoUsuario))||{}}this.selecionarContato(a)}if(!a.id){const e=await $g.promptContato.show({filtro:{ativo:!0,vendedores:!0},placeholder:"Selecione o usuário"});$lodash.get(e,"id")&&this.selecionarContato(e)}},async btBuscar_click(){const e=await $g.promptContato.show({filtro:{ativo:!0,vendedores:!0},placeholder:"Selecione o usuário"});$lodash.get(e,"id")&&this.selecionarContato(e)},selecionarContato(e){e.id&&(this.contato={id:e.id,nome:e.nome||"",apelido:e.apelido||"",imagem:e.imagem||""},this.$router.push({name:"Cockpit"===this.$route.name?"CockpitVendedor":this.$route.name,params:{id:e.id||""}}),this.salvarConsultaRecente())},async salvarConsultaRecente(){let e,o;await this.criarObjStoreIDB(),e=JSON.parse(localStorage.getItem("clienteSistema"))||{},o=e.codigoClienteSistema,this.salvarObjIDb({id:o,idContato:this.contato.id})}},mounted(){this.permissoes={obterUsuario:!1,envelope:!1,vendas:!1,faturas:!1},$db.permissao.objeto("Diretiva_Cockpit_MudarUsuario").then((e=>{this.permissoes.obterUsuario=e})),$db.permissao.objeto("cockpit/envelope").then((e=>{this.permissoes.envelope=e})),$db.permissao.objeto("cockpit/vendas").then((e=>{this.permissoes.vendas=e})),$db.permissao.objeto("cockpit/faturas").then((e=>{this.permissoes.faturas=e})),this.sistemaPai=$utils.sistemaPai(),this.atualizar()}},Cg=(0,T.Z)(hg,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("avatar"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-tooltip"),d=(0,a.resolveComponent)("q-btn"),m=(0,a.resolveComponent)("Tutorial"),u=(0,a.resolveComponent)("row"),p=(0,a.resolveComponent)("q-toolbar"),h=(0,a.resolveComponent)("q-route-tab"),C=(0,a.resolveComponent)("q-tabs"),v=(0,a.resolveComponent)("router-view"),f=(0,a.resolveComponent)("q-page");return(0,a.openBlock)(),(0,a.createBlock)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"bg-gradiente text-white"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",cg,[(0,a.createVNode)(u,{class:"items-center q-mx-none q-px-none q-py-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:r.contato.imagem,rotulo:r.contato.apelido,tamanho:"40"},null,8,["imagem","rotulo"]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.contato.nome),1)])),_:1}),r.permissoes.obterUsuario?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,flat:"",dense:"",icon:"search",round:"",size:"md",onClick:l.btBuscar_click},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[dg])),_:1})])),_:1},8,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(m,{componente:"CockpitLayout"})])),_:1})])])),_:1}),(0,a.createElementVNode)("div",mg,[(0,a.createElementVNode)("div",ug,[(0,a.createVNode)(C,{align:"justify",dense:"","indicator-color":"light-blue-4",color:"transparent","text-color":"white",class:"text-white q-mb-md"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.abas,(e=>((0,a.openBlock)(),(0,a.createBlock)(h,(0,a.mergeProps)({class:"Cockpit-aba"},e,{key:e.label}),null,16)))),128))])),_:1})])]),(0,a.createElementVNode)("div",pg,[(0,a.createVNode)(v)])])),_:1})}]]);Z()(hg,"components",{QPage:se.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QTooltip:Ao.Z,QTabs:ko.Z,QRouteTab:WC.Z});const vg={id:"cockipitvendedor"},fg={class:"col-12 col-md-6"},Ng={class:"col"},Vg=(0,a.createElementVNode)("div",{class:"col-auto",style:{"align-items":"center",display:"flex"}},[(0,a.createElementVNode)("label",null,"até")],-1),gg={class:"col"},xg={class:"col-12"},bg={style:{"font-size":"70%"}},wg={class:"col-12 col-md-3"},_g=(0,a.createTextVNode)("Pendências"),yg={class:"row justify-around"},Ig={class:"col-auto"},Eg=(0,a.createTextVNode)("Orçamentos"),Sg={class:"col-12 col-md-9"},Mg=(0,a.createTextVNode)("Faturamento"),Tg={class:"progress"},kg={class:"row justify-between"},Dg={class:"text-left text-primary q-mt-sm q-pb-none",style:{"line-height":"22px"}},qg={class:"text-h5 text-weight-bold"},Fg=(0,a.createElementVNode)("p",{class:"text-body1 text-tertiary text-weight-regular"}," Período ",-1),Pg={class:"text-center text-blue-5 q-mt-sm q-pb-none",style:{"line-height":"22px"}},Ag={class:"text-h5 text-weight-bold"},Bg=(0,a.createElementVNode)("p",{class:"text-body1 text-tertiary text-weight-regular"}," sendo Hoje ",-1),Lg={class:"text-right text-positive q-mt-sm q-pb-none",style:{"line-height":"22px"}},Og={class:"text-h5 text-weight-bold"},zg=(0,a.createElementVNode)("p",{class:"text-body1 text-tertiary text-weight-regular"}," Projeção Final ",-1),jg={class:"col-6 col-md-3"},Ug=(0,a.createTextVNode)(" Atendimento c/ vendas "),Zg={class:"row justify-around"},Qg={class:"text-h4 text-weight-bold text-center text-blue-8"},Rg=(0,a.createTextVNode)(" Hoje "),Gg={class:"text-h4 text-weight-bold text-center text-blue-8"},Hg=(0,a.createTextVNode)(" Período "),Jg={class:"col-6 col-md-3"},Yg=(0,a.createTextVNode)(" Maior Venda Período "),Xg={class:"text-h4 text-weight-bold text-left text-blue-8 q-px-none"},Wg=(0,a.createElementVNode)("br",null,null,-1),Kg={class:"text-tertiary"},ex=(0,a.createTextVNode)("Recorde Histórico "),ox=(0,a.createElementVNode)("br",null,null,-1),tx={class:"col-6 col-md-3"},ax=(0,a.createTextVNode)(" Ticket Médio Período "),ix={class:"text-h4 text-weight-bold text-left text-blue-8 q-px-none"},rx={class:"text-tertiary"},lx=(0,a.createElementVNode)("br",null,null,-1),sx={class:"col-6 col-md-3"},nx=(0,a.createTextVNode)(" Médio YtD "),cx={class:"text-h4 text-weight-bold text-left text-blue-8 q-px-none"},dx={class:"text-tertiary"},mx=(0,a.createElementVNode)("br",null,null,-1),ux={key:0,class:"col-12"},px=(0,a.createTextVNode)(" Envelopes "),hx={class:"row justify-around"},Cx={class:"col-4 col-md-auto"},vx=(0,a.createTextVNode)(" Atrasados "),fx={class:"col-4 col-md-auto"},Nx=(0,a.createTextVNode)(" Para hoje "),Vx={class:"col-4 col-md-auto"},gx=(0,a.createTextVNode)(" A Entregar "),xx={class:"col-12 col-md-6"},bx=(0,a.createTextVNode)(" Pós-venda "),wx={class:"row items-center justify-between"},_x={class:"row items-center no-wrap"},yx={class:"row items-center"},Ix={class:"col-12 col-md-6"},Ex=(0,a.createTextVNode)(" Aniversariantes "),Sx={class:"row items-center no-wrap"};var Mx=t(97231);const Tx={components:{Avatar:uo.Z,Icone:Mx.Z},computed:{faturamentoProgressBar(){let e,o,t,a,i,r={};return o=this.cockpit.faturamento.periodo||0,t=this.cockpit.faturamento.hoje||0,a=this.cockpit.faturamento.projecao||0,e=$utils.arredondar(a),i=$utils.arredondar(100*(o-t)/e),r.periodo="width:"+i+"%",i=$utils.arredondar(100*t/e),r.hoje="width:"+i+"%",i=$utils.arredondar(100*(a-o)/e),r.projecao="width:"+i+"%",r},colunas(){return{aniversariantes:[{name:"imagem",label:"",field:"imagem",align:"left"},{name:"nome",label:"Nome",field:"nome",sortable:!0,align:"left"},{name:"telefone",label:"Telefone",field:"telefone",align:"left"},{name:"aniversario",label:"Data",field:"aniversario",align:"left"}],posVenda:[{name:"imagem",label:"",field:"imagem",align:"left"},{name:"nome",label:"Cliente",field:"nome",sortable:!0,align:"left"},{name:"telefone",label:"Telefone",field:"telefone",align:"left"},{name:"nroVenda",label:"Venda",field:"numero",align:"left"},..."optisoul"===this.sistemaPai?[{name:"nroEnvelope",label:"Envelope",field:"numero",align:"left"}]:[],{name:"valor",label:"Valor",field:"valor",align:"left"}]}}},data:()=>({carregando:!0,cockpit:{faturamento:{periodo:0,hoje:0,projecao:0},ticketMedio:{ticketMedioPeriodo:0,ticketMedioPeriodoAnoAnterior:0,percentualTicketPeriodoRelAnterior:0,ticketMedioYeartoDate:0,ticketMedioYeartoDateAnoAnterior:0,percentualTicketMedioYeartoDateRelAnterior:0,maiorVendaPeriodo:0,maiorVendaPeriodoNumeroFatura:0,maiorVendaPeriodoNomeCliente:"",maiorVendaHistoria:0},conversao:{conversoesHoje:0,atendimentosHoje:0,conversoesPeriodo:0,atendimentosPeriodo:0},pendencias:{orcamentos:0,envelopesAtrasados:0,envelopesHoje:0,envelopesAEntregar:0,tarefas:0},parametros:{periodoIni:0,periodoFim:0,periodoIniAnoAnterior:0,periodoFimAnoAnterior:0,ytDDia1:0,ytDHoje:0,ytDAnoAnteriorDia1:0,ytDAnoAnteriorHoje:0},posVenda:[],aniversariantes:[]},contato:{},empresas:[],nomesEmpresasSelecionadas:[],filtro:{codigoClienteSistema:"",codigoContatoUsuario:"",empresas:[],periodo:{ini:"",fim:""}},sistemaPai:""}),methods:{irParaCockpitVendas(){this.$router.push({name:"CockpitVendas",params:{id:this.$route.params.id,periodo:{ini:this.cockpit.pendencias.orcamentosPeriodoIni,fim:this.cockpit.pendencias.orcamentosPeriodoFim}}})},irParaCockpitEnvelopes(){this.$router.push({name:"CockpitEnvelopes",params:{id:this.$route.params.id,filtroT:JSON.stringify(this.filtro)}})},irParaAtendimentoContato(e){this.$router.push({name:"AtendimentoContato",params:{id:e}})},irParaAtendimentoVenda(e){this.$router.push({name:"AtendimentoVenda",params:{id:e}})},abrirTelefone(e){if(!e.telefone)return;const o="WhatsApp"===e.tipoTelefone?"https://api.whatsapp.com/send?"+(e.aniversario?"text=Parabéns, "+e.nome+"&":"")+"phone=":"tel:+";(0,Tp.Z)(o+this.formatarTelefone(e.telefone))},formatarTelefone:e=>e||"string"==typeof e?"55"+e.replace(/\D/g,"").replace(/^55/,""):e,telefoneIcone:e=>({Celular:{color:"dark",name:"phone_iphone",size:"18px"},Comercial:{color:"dark",name:"phone",size:"18px"},Fixo:{color:"dark",name:"phone",size:"18px"},Principal:{color:"orange",name:"star",size:"18px"},WhatsApp:{cor:"whatsapp",nome:"whatsapp",tamanho:18}}[e]||{color:"dark",name:"phone",size:"18px"}),async obterContatos(e){let o={};for(const t of e)if(t.idContato&&!o[t.idContato]){const e=await $erp().contato.get(t.idContato);e&&e.id&&(o[t.idContato]={imagem:e.imagem||""})}this.contato=o},async obterConsultaRecente(){await this.criarObjStoreIDB();const e=String(this.codigoClienteSistema)+"_"+String(this.codigoContatoUsuario)+"/vendedor";let o=await this.obterObjIDb(e);if(o){this.filtro={codigoClienteSistema:this.codigoClienteSistema,codigoContatoUsuario:this.codigoContatoUsuario,empresas:o.empresas,dataConsulta:new Date(o.dataConsulta),periodo:o.periodo},this.nomesEmpresasSelecionadas=[];for(const e of this.filtro.empresas){const o=this.empresas.find((o=>o.codigoContato===e));o&&this.nomesEmpresasSelecionadas.push(o.nome)}const e=o.dados;return await this.obterContatos([...e.posVenda,...e.aniversariantes]),this.acertarDatas(e),this.cockpit=e,!0}return!1},async salvarConsultaRecente(){await this.criarObjStoreIDB(),this.salvarObjIDb({id:String(this.filtro.codigoClienteSistema)+"_"+String(this.filtro.codigoContatoUsuario)+"/vendedor",periodo:this.filtro.periodo,dataConsulta:this.filtro.dataConsulta.toISOString(),empresas:this.filtro.empresas,dados:this.cockpit})},async criarObjStoreIDB(){if(!("indexedDB"in window))return void console.log("Navegador sem suporte ao IndexedDB");let e=indexedDB.open("cockpit",1);return e.onupgradeneeded=function(e){e.target.result.createObjectStore("consultasRecentes",{keyPath:"id"}).createIndex("id","id",{unique:!0})},new Promise(((o,t)=>{e.onsuccess=function(e){o()},e.onerror=function(e){o()}}))},salvarObjIDb(e){if(!("indexedDB"in window))return;let o,t,a;return o=new Promise(((e,o)=>{a=e})),t=indexedDB.open("cockpit",1),t.onsuccess=function(){let o=t.result.transaction(["consultasRecentes"],"readwrite").objectStore("consultasRecentes");t=o.put($utils.clonarV2(e)),t.onsuccess=function(e){a()},t.onerror=function(e){a()}},o},obterObjIDb(e){if(!("indexedDB"in window))return;let o,t,a;return o=new Promise(((e,o)=>{a=e})),t=indexedDB.open("cockpit",1),t.onsuccess=function(){let o=t.result.transaction(["consultasRecentes"],"readwrite").objectStore("consultasRecentes");t=o.get(e),t.onsuccess=function(e){a(e.target.result)},t.onerror=function(e){a()}},o},async filtrar(){this.carregando=!0,this.contato={},this.filtro.periodo.ini=new Date(this.filtro.periodo.ini).toISOString(),this.filtro.periodo.fim=new Date(this.filtro.periodo.fim).toISOString(),this.filtro.dataConsulta=new Date;let e=await this.$utils.geeksApi({"cockpit-vendedor":{funcao:"4AA26CFA-1FE9-426C-955D-09206DE424CB",codigoClienteSistema:this.filtro.codigoClienteSistema,codigoContatoUsuario:this.filtro.codigoContatoUsuario,codigoUsuario:$db.usuario.logado.codigoUsuario,empresas:$utils.clonarV2(this.filtro.empresas).map((e=>e.codigoContato)),periodo:this.filtro.periodo}});e=e.data["cockpit-vendedor"],await this.obterContatos([...e.posVenda,...e.aniversariantes]),this.acertarDatas(e),this.cockpit=e,this.salvarConsultaRecente(),this.carregando=!1},acertarDatas(e){const o=new Date((new Date).setHours(0,0,0,0)).toISOString().replace(/\d{4}-\d{2}-\d{2}/g,"");e.parametros.periodoIni=(e.parametros.periodoIni||"").replace(/T.+$/g,o),e.parametros.periodoFim=(e.parametros.periodoFim||"").replace(/T.+$/g,o),e.parametros.periodoIniAnoAnterior=(e.parametros.periodoIniAnoAnterior||"").replace(/T.+$/g,o),e.parametros.periodoFimAnoAnterior=(e.parametros.periodoFimAnoAnterior||"").replace(/T.+$/g,o),e.parametros.ytDDia1=(e.parametros.ytDDia1||"").replace(/T.+$/g,o),e.parametros.ytDHoje=(e.parametros.ytDHoje||"").replace(/T.+$/g,o),e.parametros.ytDAnoAnteriorDia1=(e.parametros.ytDAnoAnteriorDia1||"").replace(/T.+$/g,o),e.parametros.ytDAnoAnteriorHoje=(e.parametros.ytDAnoAnteriorHoje||"").replace(/T.+$/g,o)},async atualizar(){try{let e,o,t;const a=this.$route.params.id;$utils.verificarErro(!a,"Id do contato não encontrado"),t=(await $erp().contato.get(a)||{}).codigoContato,$utils.verificarErro(!t,"Contato não encontrado"),e=JSON.parse(localStorage.getItem("clienteSistema"))||{},o=e.codigoClienteSistema,$utils.verificarErro(!o,"Cliente Sistema não encontrado"),this.codigoClienteSistema=o,this.codigoContatoUsuario=t;const i=(await $db.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0)).map((e=>e.id));let r,l,s=(await $erp().empresa.toArray()).filter((e=>~i.indexOf(e.idContato)));if(this.empresas=s.map((e=>({codigoContato:e.codigoContato,nome:e.nome,apelido:e.apelido,numeroDocumentoNacional:e.numeroDocumentoNacional}))),r=new Date(new Date((new Date).setDate(1)).setHours(0,0,0,0)),l=new Date(new Date(new Date(r).setMonth(r.getMonth()+1)).setDate(0)),this.nomesEmpresasSelecionadas=[],this.filtro={codigoClienteSistema:this.codigoClienteSistema,codigoContatoUsuario:this.codigoContatoUsuario,empresas:[],dataConsulta:new Date,periodo:{ini:r,fim:l}},await this.obterConsultaRecente()&&(this.carregando=!1,!(new Date-new Date(this.filtro.dataConsulta)>3e5)))return;this.filtrar()}catch(e){$q.notifyError("Não foi possível carregar os dados do cockpit",e)}}},watch:{"$route.params.id"(){~this.$route.name.indexOf("CockpitVendedor")&&this.atualizar()},"filtro.periodo.ini"(){console.log("filtro.periodo.ini",this.filtro.periodo.ini)}},created(){this.sistemaPai=$utils.sistemaPai(),this.atualizar()}};var kx=t(91668),Dx=t(25740);const qx=(0,T.Z)(Tx,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-item-label"),c=(0,a.resolveComponent)("q-item-section"),d=(0,a.resolveComponent)("q-toggle"),m=(0,a.resolveComponent)("q-item"),u=(0,a.resolveComponent)("q-select"),p=(0,a.resolveComponent)("campo"),h=(0,a.resolveComponent)("row"),C=(0,a.resolveComponent)("q-card"),v=(0,a.resolveComponent)("q-spinner"),f=(0,a.resolveComponent)("q-card-section"),N=(0,a.resolveComponent)("q-tooltip"),V=(0,a.resolveComponent)("q-btn"),g=(0,a.resolveComponent)("q-toolbar-title"),x=(0,a.resolveComponent)("avatar"),b=(0,a.resolveComponent)("q-td"),w=(0,a.resolveComponent)("q-tr"),_=(0,a.resolveComponent)("q-table");return(0,a.openBlock)(),(0,a.createElementBlock)("div",vg,[(0,a.createVNode)(C,{class:"q-pa-sm no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"items-center q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",fg,[(0,a.createVNode)(u,{dense:"",outlined:"","use-chips":"",multiple:"",modelValue:r.filtro.empresas,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.filtro.empresas=e),l.filtrar],label:"Filtre por Empresa",options:r.empresas,"option-value":"codigoContato","option-label":"nome"},(0,a.createSlots)({prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"mdi-filter"})])),_:2},[r.empresas.length>1?{name:"option",fn:(0,a.withCtx)((({itemProps:e,opt:o,selected:t,toggleOption:i})=>[(0,a.createVNode)(m,(0,a.normalizeProps)((0,a.guardReactiveProps)(e)),{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{innerHTML:o.nome},null,8,["innerHTML"])])),_:2},1024),(0,a.createVNode)(c,{side:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{"model-value":t,"onUpdate:modelValue":e=>i(o)},null,8,["model-value","onUpdate:modelValue"])])),_:2},1024)])),_:2},1040)]))}:void 0]),1032,["modelValue","options","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",Ng,[(0,a.createVNode)(p,{modelValue:r.filtro.periodo.ini,"onUpdate:modelValue":o[1]||(o[1]=e=>r.filtro.periodo.ini=e),tipo:"data",onBlur:l.filtrar,outlined:""},null,8,["modelValue","onBlur"])]),Vg,(0,a.createElementVNode)("div",gg,[(0,a.createVNode)(p,{modelValue:r.filtro.periodo.fim,"onUpdate:modelValue":o[2]||(o[2]=e=>r.filtro.periodo.fim=e),tipo:"data",onBlur:l.filtrar,outlined:""},null,8,["modelValue","onBlur"])])])),_:1})])),_:1}),(0,a.createVNode)(h,{class:"q-col-gutter-md q-mb-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",xg,[(0,a.createElementVNode)("span",bg,[(0,a.createTextVNode)(" Atualizado em: "+(0,a.toDisplayString)(e.$filters.dataHora(this.filtro.dataConsulta))+" ",1),(0,a.withDirectives)((0,a.createVNode)(v,{color:"primary",size:20},null,512),[[a.vShow,r.carregando]])])]),(0,a.createElementVNode)("div",wg,[(0,a.createVNode)(C,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"q-title text-tertiary q-pb-sm"},{default:(0,a.withCtx)((()=>[_g])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createElementVNode)("div",null,[(0,a.createElementVNode)("div",yg,[(0,a.createElementVNode)("div",Ig,[(0,a.createElementVNode)("div",{class:"text-h3 text-weight-bold text-center text-negative",onClick:o[3]||(o[3]=(...e)=>l.irParaCockpitVendas&&l.irParaCockpitVendas(...e)),style:{cursor:"pointer"}},(0,a.toDisplayString)(e.$filters.numero(r.cockpit.pendencias.orcamentos)),1),(0,a.createVNode)(f,{class:"q-pa-none text-tertiary text-center"},{default:(0,a.withCtx)((()=>[Eg])),_:1})])])],512),[[a.vShow,!r.carregando]])])),_:1})])),_:1})]),(0,a.createElementVNode)("div",Sg,[(0,a.createVNode)(C,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"text-tertiary q-title q-pb-sm"},{default:(0,a.withCtx)((()=>[Mg])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createElementVNode)("div",null,[(0,a.createElementVNode)("div",Tg,[(0,a.createElementVNode)("div",{class:"progress-bar bg-primary",style:(0,a.normalizeStyle)(l.faturamentoProgressBar.periodo)},null,4),(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-striped bg-info",style:(0,a.normalizeStyle)(l.faturamentoProgressBar.hoje)},null,4),(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-success",style:(0,a.normalizeStyle)(l.faturamentoProgressBar.projecao)},null,4)]),(0,a.createElementVNode)("div",kg,[(0,a.createElementVNode)("div",Dg,[(0,a.createElementVNode)("span",qg," R$ "+(0,a.toDisplayString)(e.$filters.numero(r.cockpit.faturamento.periodo,2)),1),Fg]),(0,a.createElementVNode)("div",Pg,[(0,a.createElementVNode)("span",Ag," R$ "+(0,a.toDisplayString)(e.$filters.numero(r.cockpit.faturamento.hoje,2)),1),Bg]),(0,a.createElementVNode)("div",Lg,[(0,a.createElementVNode)("span",Og," R$ "+(0,a.toDisplayString)(e.$filters.numero(r.cockpit.faturamento.projecao,2)),1),zg])])],512),[[a.vShow,!r.carregando]])])),_:1})])),_:1})]),(0,a.createElementVNode)("div",jg,[(0,a.createVNode)(C,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"text-tertiary q-title q-pb-sm"},{default:(0,a.withCtx)((()=>[Ug])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createElementVNode)("div",null,[(0,a.createElementVNode)("div",Zg,[(0,a.createElementVNode)("div",null,[(0,a.createElementVNode)("div",Qg,(0,a.toDisplayString)(e.$filters.numero(r.cockpit.conversao.conversoesHoje))+"/"+(0,a.toDisplayString)(e.$filters.numero(r.cockpit.conversao.atendimentosHoje)),1),(0,a.createVNode)(f,{class:"q-pa-none text-tertiary text-center"},{default:(0,a.withCtx)((()=>[Rg])),_:1})]),(0,a.createElementVNode)("div",null,[(0,a.createElementVNode)("div",Gg,(0,a.toDisplayString)(e.$filters.numero(r.cockpit.conversao.conversoesPeriodo))+"/"+(0,a.toDisplayString)(e.$filters.numero(r.cockpit.conversao.atendimentosPeriodo)),1),(0,a.createVNode)(f,{class:"q-pa-none text-tertiary text-center"},{default:(0,a.withCtx)((()=>[Hg])),_:1})])])],512),[[a.vShow,!r.carregando]])])),_:1})])),_:1})]),(0,a.createElementVNode)("div",Jg,[(0,a.createVNode)(C,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"d-flex full-height column justify-between"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"q-pa-none text-tertiary text-left"},{default:(0,a.withCtx)((()=>[Yg])),_:1}),(0,a.withDirectives)((0,a.createElementVNode)("div",Xg,[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(r.cockpit.ticketMedio.maiorVendaPeriodo,2))+" ",1),(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Fatura N°. "+(0,a.toDisplayString)(r.cockpit.ticketMedio.maiorVendaPeriodoNumeroFatura),1),Wg,(0,a.createTextVNode)(" Cliente: "+(0,a.toDisplayString)(r.cockpit.ticketMedio.maiorVendaPeriodoNomeCliente),1)])),_:1}),(0,a.createVNode)(V,{dense:"",round:"",icon:"mdi-trophy",color:"amber-7",class:"no-shadow",style:{float:"right"},unelevated:""})],512),[[a.vShow,!r.carregando]]),(0,a.withDirectives)((0,a.createElementVNode)("small",Kg,[ex,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.$filters.numero(r.cockpit.ticketMedio.maiorVendaHistoria,2)),1),ox],512),[[a.vShow,!r.carregando]])])),_:1})])),_:1})]),(0,a.createElementVNode)("div",tx,[(0,a.createVNode)(C,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"d-flex full-height column justify-between"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"q-pa-none text-tertiary text-left"},{default:(0,a.withCtx)((()=>[ax])),_:1}),(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(r.cockpit.parametros.periodoIniAnoAnterior))+" "+(0,a.toDisplayString)(e.$filters.data(r.cockpit.parametros.periodoFimAnoAnterior))+" do ano anterior ",1)])),_:1}),(0,a.withDirectives)((0,a.createElementVNode)("div",ix,[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(r.cockpit.ticketMedio.ticketMedioPeriodo,2))+" ",1),(0,a.createVNode)(V,{dense:"",round:"",icon:"mdi-bell",unelevated:"",color:r.cockpit.ticketMedio.percentualTicketMedioYeartoDateRelAnterior>=0?"positive":"negative",class:"no-shadow",style:{float:"right"}},null,8,["color"])],512),[[a.vShow,!r.carregando]]),(0,a.withDirectives)((0,a.createElementVNode)("small",{class:(0,a.normalizeClass)(r.cockpit.ticketMedio.percentualTicketPeriodoRelAnterior>=0?"text-positive":"text-negative")},[(0,a.createElementVNode)("span",rx,(0,a.toDisplayString)(e.$filters.numero(r.cockpit.ticketMedio.ticketMedioPeriodoAnoAnterior,2)),1),(0,a.createTextVNode)(" (Δ "+(0,a.toDisplayString)(e.$filters.numero(r.cockpit.ticketMedio.percentualTicketPeriodoRelAnterior,2))+"%) ",1),lx],2),[[a.vShow,!r.carregando]])])),_:1})])),_:1})]),(0,a.createElementVNode)("div",sx,[(0,a.createVNode)(C,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"d-flex full-height column justify-between"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"q-pa-none text-tertiary text-left"},{default:(0,a.withCtx)((()=>[nx])),_:1}),(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(r.cockpit.parametros.ytDAnoAnteriorDia1))+" "+(0,a.toDisplayString)(e.$filters.data(r.cockpit.parametros.ytDAnoAnteriorHoje))+" do ano anterior ",1)])),_:1}),(0,a.withDirectives)((0,a.createElementVNode)("div",cx,[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(r.cockpit.ticketMedio.ticketMedioYeartoDate,2))+" ",1),(0,a.createVNode)(V,{dense:"",round:"",icon:"mdi-bell",unelevated:"",color:r.cockpit.ticketMedio.percentualTicketMedioYeartoDateRelAnterior>=0?"positive":"negative",class:"no-shadow",style:{float:"right"}},null,8,["color"])],512),[[a.vShow,!r.carregando]]),(0,a.withDirectives)((0,a.createElementVNode)("small",{class:(0,a.normalizeClass)(r.cockpit.ticketMedio.percentualTicketMedioYeartoDateRelAnterior>=0?"text-positive":"text-negative")},[(0,a.createElementVNode)("span",dx,(0,a.toDisplayString)(e.$filters.numero(r.cockpit.ticketMedio.ticketMedioYeartoDateAnoAnterior,2)),1),(0,a.createTextVNode)(" (Δ "+(0,a.toDisplayString)(e.$filters.numero(r.cockpit.ticketMedio.percentualTicketMedioYeartoDateRelAnterior,2))+"%) ",1),mx],2),[[a.vShow,!r.carregando]])])),_:1})])),_:1})]),"optisoul"===r.sistemaPai?((0,a.openBlock)(),(0,a.createElementBlock)("div",ux,[(0,a.createVNode)(C,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"q-title text-tertiary q-pb-sm"},{default:(0,a.withCtx)((()=>[px])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createElementVNode)("div",null,[(0,a.createElementVNode)("div",hx,[(0,a.createElementVNode)("div",Cx,[(0,a.createElementVNode)("div",{onClick:o[4]||(o[4]=(...e)=>l.irParaCockpitEnvelopes&&l.irParaCockpitEnvelopes(...e)),style:{cursor:"pointer"},class:"text-h4 text-weight-bold text-center text-negative"},(0,a.toDisplayString)(e.$filters.numero(r.cockpit.pendencias.envelopesAtrasados)),1),(0,a.createVNode)(f,{class:"q-pa-none text-tertiary text-center"},{default:(0,a.withCtx)((()=>[vx])),_:1})]),(0,a.createElementVNode)("div",fx,[(0,a.createElementVNode)("div",{onClick:o[5]||(o[5]=(...e)=>l.irParaCockpitEnvelopes&&l.irParaCockpitEnvelopes(...e)),style:{cursor:"pointer"},class:"text-h4 text-weight-bold text-center text-negative"},(0,a.toDisplayString)(e.$filters.numero(r.cockpit.pendencias.envelopesHoje)),1),(0,a.createVNode)(f,{class:"q-pa-none text-tertiary text-center"},{default:(0,a.withCtx)((()=>[Nx])),_:1})]),(0,a.createElementVNode)("div",Vx,[(0,a.createVNode)(g,{onClick:l.irParaCockpitEnvelopes,style:{cursor:"pointer"},class:"text-h4 text-weight-bold text-center text-negative"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(r.cockpit.pendencias.envelopesAEntregar)),1)])),_:1},8,["onClick"]),(0,a.createVNode)(f,{class:"q-pa-none text-tertiary text-center"},{default:(0,a.withCtx)((()=>[gx])),_:1})])])],512),[[a.vShow,!r.carregando]])])),_:1})])),_:1})])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",xx,[(0,a.createVNode)(C,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"text-tertiary q-title q-pb-sm"},{default:(0,a.withCtx)((()=>[bx])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(_,{rows:r.cockpit.posVenda,columns:l.colunas.posVenda,class:"no-shadow text-left"},{body:(0,a.withCtx)((o=>[(0,a.createVNode)(w,{props:o,style:{cursor:"pointer"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{key:"imagem",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",wx,[(0,a.createVNode)(x,{imagem:(r.contato[o.row.idContato]||{}).imagem,rotulo:o.row.nome,tamanho:"40",class:"q-mr-sm"},null,8,["imagem","rotulo"])])])),_:2},1032,["props","onClick"]),(0,a.createVNode)(b,{key:"nome",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.nome),1)])),_:2},1032,["props","onClick"]),(0,a.createVNode)(b,{key:"telefone",props:o,onClick:e=>l.abrirTelefone(o.row),class:"text-no-wrap"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",_x,[(0,a.createVNode)(V,{color:"none",dense:"",flat:"",round:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)("WhatsApp"===o.row.tipoTelefone?"icone":"q-icon"),(0,a.normalizeProps)((0,a.guardReactiveProps)(l.telefoneIcone(o.row.tipoTelefone))),null,16))])),_:2},1024),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(o.row.telefone),1)])])),_:2},1032,["props","onClick"]),(0,a.createVNode)(b,{key:"nroVenda",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)(o.row.nroVenda),1)])),_:2},1032,["props","onClick"]),o.row.optisoul?((0,a.openBlock)(),(0,a.createBlock)(b,{key:"nroEnvelope",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)(o.row.nroEnvelope),1)])),_:2},1032,["props","onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(b,{key:"valor",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",yx,[(0,a.createVNode)(V,{color:"none",class:"q-mx-xs",dense:"",flat:"",round:"",icon:"shopping_cart"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.numero(o.row.valor||0,2)),1)])])),_:2},1032,["props","onClick"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"]),[[a.vShow,!r.carregando]])])),_:1})])),_:1})]),(0,a.createElementVNode)("div",Ix,[(0,a.createVNode)(C,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"text-tertiary q-title q-pb-sm"},{default:(0,a.withCtx)((()=>[Ex])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(_,{rows:r.cockpit.aniversariantes,columns:l.colunas.aniversariantes,class:"no-shadow text-left"},{body:(0,a.withCtx)((e=>[(0,a.createVNode)(w,{props:e,style:{cursor:"pointer"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{key:"imagem",props:e,onClick:o=>l.irParaAtendimentoContato(e.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{imagem:(r.contato[e.row.idContato]||{}).imagem,rotulo:e.row.nome,tamanho:"40"},null,8,["imagem","rotulo"])])),_:2},1032,["props","onClick"]),(0,a.createVNode)(b,{key:"nome",props:e,onClick:o=>l.irParaAtendimentoContato(e.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.nome),1)])),_:2},1032,["props","onClick"]),(0,a.createVNode)(b,{key:"telefone",props:e,onClick:o=>l.abrirTelefone({...e.row,aniversario:!0})},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Sx,[(0,a.createVNode)(V,{color:"none",dense:"",flat:"",round:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)("WhatsApp"===e.row.tipoTelefone?"icone":"q-icon"),(0,a.normalizeProps)((0,a.guardReactiveProps)(l.telefoneIcone(e.row.tipoTelefone))),null,16))])),_:2},1024),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.row.telefone),1)])])),_:2},1032,["props","onClick"]),(0,a.createVNode)(b,{key:"aniversario",props:e,onClick:o=>l.irParaAtendimentoContato(e.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.aniversario),1)])),_:2},1032,["props","onClick"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"]),[[a.vShow,!r.carregando]])])),_:1})])),_:1})])])),_:1})])}]]);Z()(Tx,"components",{QCard:D.Z,QSelect:al.Z,QIcon:L.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z,QToggle:il.Z,QInput:re.Z,QPopupProxy:kx.Z,QDate:Dx.Z,QBtn:H.Z,QSpinner:Me.Z,QCardSection:q.Z,QTooltip:Ao.Z,QToolbarTitle:G.Z,QTable:nr.Z,QTr:rl.Z,QTd:sl.Z}),Z()(Tx,"directives",{ClosePopup:J.Z});const Fx={id:"cockpitenvelope"},Px={class:"col-12"},Ax={class:"filters row content-stretch justify-between q-pt-sm q-pr-sm q-mt-md q-mb-md q-col-gutter-x-sm bg-white",style:{"border-radius":"5px","min-height":"50px"}},Bx={class:"col-11"},Lx={class:"row q-mb-sm"},Ox={class:"row q-col-gutter-sm q-pb-md"},zx={class:"col-12",style:{float:"right"}},jx={style:{"font-size":"70%"}},$x={class:"col-12"},Ux=(0,a.createTextVNode)(" Atrasados "),Zx={class:"row items-center"},Qx={class:"row items-center"},Rx={class:"row items-center"},Gx={class:"row items-center"},Hx={class:"col-12"},Jx=(0,a.createTextVNode)(" Para hoje "),Yx={class:"row items-center"},Xx={class:"row items-center"},Wx={class:"row items-center"},Kx={class:"row items-center"},eb={class:"col-12"},ob=(0,a.createTextVNode)(" A Entregar "),tb={class:"row items-center"},ab={class:"row items-center"},ib={class:"row items-center"},rb={class:"row items-center"},lb={components:{Avatar:uo.Z,Icone:Mx.Z},computed:{colunas:()=>({envelopes:[{name:"nroVenda",label:"N.° Venda",field:"numero",align:"left"},{name:"nroEnvelope",label:"N.° Envelope",field:"numero",align:"left"},{name:"status",label:"Status",field:"status",sortable:!0,align:"left"},{name:"dataHoraPrevisto",label:"Previsão de Entrega",field:"dataHoraPrevisto",sortable:!0,align:"center"},{name:"nome",label:"Cliente",field:"nome",sortable:!0,align:"left"},{name:"telefone",label:"Telefone",field:"telefone",align:"left"},{name:"valor",label:"Valor",field:"valor",align:"left"},{name:"imprimir",field:"idVenda",align:"center"}]})},data:()=>({carregando:!0,cockpit:{envelopesAtrasados:[],envelopesHoje:[],envelopesAEntregar:[]},contato:{},empresas:[],nomesEmpresasSelecionadas:[],configImpressaoEnvelope:{},filtro:{codigoClienteSistema:"",codigoContatoUsuario:"",empresas:[],periodo:{ini:"",fim:""}}}),watch:{"$route.params.id"(){this.atualizar()}},methods:{irParaAtendimentoVenda(e){this.$router.push({name:"AtendimentoVenda",params:{id:e}})},abrirTelefone(e){if(!e.telefone)return;const o="WhatsApp"===e.tipoTelefone?"https://api.whatsapp.com/send?"+(e.aniversario?"text=Parabéns, "+e.nome+"&":"")+"phone=":"tel:+";(0,Tp.Z)(o+this.formatarTelefone(e.telefone))},async configuraImpressaoEnvelope(e){for(const o of e)if(!this.configImpressaoEnvelope[o.idEmpresa]){const e=await $db.configuracoes.porNome("impressao.envelope",o.idEmpresa),t=[...e.length?e.map((e=>({texto:"Imprimir Envelope",...e}))):[{valor:"envelope",texto:"Imprimir Envelope"},{valor:"envelopeMini",texto:"Imprimir Envelope Mini"}]];this.configImpressaoEnvelope[o.idEmpresa]=t}},formatarTelefone:e=>e||"string"==typeof e?"55"+e.replace(/\D/g,"").replace(/^55/,""):e,telefoneIcone:e=>({Celular:{color:"dark",name:"phone_iphone",size:"18px"},Comercial:{color:"dark",name:"phone",size:"18px"},Fixo:{color:"dark",name:"phone",size:"18px"},Principal:{color:"orange",name:"star",size:"18px"},WhatsApp:{cor:"whatsapp",nome:"whatsapp",tamanho:18}}[e]||{color:"dark",name:"phone",size:"18px"}),removerEmpresa(e){const o=this.empresas.find((o=>o.nome===e.value[0]));o&&(this.filtro.empresas=this.filtro.empresas.filter((e=>e!==o.codigoContato)),this.filtrar())},selecionarEmpresa(e){this.filtro.empresas.includes(e.value)?this.nomesEmpresasSelecionadas=this.nomesEmpresasSelecionadas.slice(0,this.nomesEmpresasSelecionadas.length-1):(this.filtro.empresas.push(e.value),this.nomesEmpresasSelecionadas.splice(this.nomesEmpresasSelecionadas.length-1,1,e.label),this.filtrar())},async obterContatos(e){let o={};for(const t of e)if(t.idContato&&!o[t.idContato]){const e=await $erp().contato.get(t.idContato);e&&e.id&&(o[t.idContato]={imagem:e.imagem||""})}this.contato=o},async obterConsultaRecente(){await this.criarObjStoreIDB();const e=String(this.codigoClienteSistema)+"_"+String(this.codigoContatoUsuario)+"/envelopes";let o=await this.obterObjIDb(e);if(o){this.filtro={codigoClienteSistema:this.codigoClienteSistema,codigoContatoUsuario:this.codigoContatoUsuario,empresas:o.empresas,dataConsulta:new Date(o.dataConsulta),periodo:o.periodo},this.nomesEmpresasSelecionadas=[];for(const e of this.filtro.empresas){const o=this.empresas.find((o=>o.codigoContato===e));o&&this.nomesEmpresasSelecionadas.push(o.nome)}const e=o.dados;return await this.obterContatos([...e.envelopesAtrasados,...e.envelopesHoje,...e.envelopesAEntregar]),await this.configuraImpressaoEnvelope([...e.envelopesAtrasados,...e.envelopesHoje,...e.envelopesAEntregar]),this.acertarDatas(e),this.cockpit=e,!0}return!1},acertarDatas(e){const o=new Date((new Date).setHours(0,0,0,0)).toISOString().replace(/\d{4}-\d{2}-\d{2}/g,"");e.envelopesAtrasados.forEach((e=>{e.dataHoraPrevisto=(e.dataHoraPrevisto||"").replace(/T.+$/g,o)})),e.envelopesHoje.forEach((e=>{e.dataHoraPrevisto=(e.dataHoraPrevisto||"").replace(/T.+$/g,o)})),e.envelopesAEntregar.forEach((e=>{e.dataHoraPrevisto=(e.dataHoraPrevisto||"").replace(/T.+$/g,o)}))},async salvarConsultaRecente(){await this.criarObjStoreIDB(),this.salvarObjIDb({id:String(this.filtro.codigoClienteSistema)+"_"+String(this.filtro.codigoContatoUsuario)+"/envelopes",periodo:this.filtro.periodo,dataConsulta:this.filtro.dataConsulta.toISOString(),empresas:this.filtro.empresas,dados:this.cockpit})},async criarObjStoreIDB(){if(!("indexedDB"in window))return void console.log("Navegador sem suporte ao IndexedDB");let e=indexedDB.open("cockpit",1);return e.onupgradeneeded=function(e){e.target.result.createObjectStore("consultasRecentes",{keyPath:"id"}).createIndex("id","id",{unique:!0})},new Promise(((o,t)=>{e.onsuccess=function(e){o()},e.onerror=function(e){o()}}))},salvarObjIDb(e){if(!("indexedDB"in window))return;let o,t,a;return o=new Promise(((e,o)=>{a=e})),t=indexedDB.open("cockpit",1),t.onsuccess=function(){let o=t.result.transaction(["consultasRecentes"],"readwrite").objectStore("consultasRecentes");t=o.put($utils.clonarV2(e)),t.onsuccess=function(e){a()},t.onerror=function(e){a()}},o},obterObjIDb(e){if(!("indexedDB"in window))return;let o,t,a;return o=new Promise(((e,o)=>{a=e})),t=indexedDB.open("cockpit",1),t.onsuccess=function(){let o=t.result.transaction(["consultasRecentes"],"readwrite").objectStore("consultasRecentes");t=o.get(e),t.onsuccess=function(e){a(e.target.result)},t.onerror=function(e){a()}},o},async filtrar(){this.carregando=!0,this.contato={},this.filtro.periodo.ini=new Date(this.filtro.periodo.ini).toISOString(),this.filtro.periodo.fim=new Date(this.filtro.periodo.fim).toISOString(),this.filtro.dataConsulta=new Date;let e=await this.$utils.geeksApi({"cockpit-envelopes":{funcao:"1A2281A1-795D-4ACE-8A8B-DFFE2CAEE2CA",codigoClienteSistema:this.filtro.codigoClienteSistema,codigoContatoUsuario:this.filtro.codigoContatoUsuario,empresas:this.filtro.empresas,periodo:this.filtro.periodo}});e=e.data["cockpit-envelopes"],await this.obterContatos([...e.envelopesAtrasados,...e.envelopesHoje,...e.envelopesAEntregar]),await this.configuraImpressaoEnvelope([...e.envelopesAtrasados,...e.envelopesHoje,...e.envelopesAEntregar]),this.acertarDatas(e),this.cockpit=e,this.salvarConsultaRecente(),this.carregando=!1},async atualizar(){try{let e,o,t;const a=this.$route.params.id;$utils.verificarErro(!a,"Id do contato não encontrado"),t=(await $erp().contato.get(a)||{}).codigoContato,$utils.verificarErro(!t,"Contato não encontrado"),e=JSON.parse(localStorage.getItem("clienteSistema"))||{},o=e.codigoClienteSistema,$utils.verificarErro(!o,"Cliente Sistema não encontrado"),this.codigoClienteSistema=o,this.codigoContatoUsuario=t;let i,r,l=await $erp().empresa.toArray();this.empresas=l.map((e=>({codigoContato:e.codigoContato,nome:e.nome,apelido:e.apelido,numeroDocumentoNacional:e.numeroDocumentoNacional}))),i=new Date(new Date((new Date).setDate(1)).setHours(0,0,0,0)),r=new Date(new Date(new Date(i).setMonth(i.getMonth()+1)).setDate(0)),this.nomesEmpresasSelecionadas=[],this.filtro=JSON.parse(this.filtroT||null)||{codigoClienteSistema:this.codigoClienteSistema,codigoContatoUsuario:this.codigoContatoUsuario,empresas:[],dataConsulta:new Date,periodo:{ini:i,fim:r}},this.nomesEmpresasSelecionadas=[];for(const e of this.filtro.empresas){const o=this.empresas.find((o=>o.codigoContato===e));o&&this.nomesEmpresasSelecionadas.push(o.nome)}if(!this.filtroT&&await this.obterConsultaRecente()&&(this.carregando=!1,!(new Date-new Date(this.filtro.dataConsulta)>3e5)))return;this.filtrar()}catch(e){this.$q.notifyError("Não foi possível carregar os dados do cockpit",e)}}},props:{filtroT:String},mounted(){this.atualizar()}};var sb=t(67280);const nb=(0,T.Z)(lb,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-chips-input"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-card"),u=(0,a.resolveComponent)("q-spinner"),p=(0,a.resolveComponent)("q-card-section"),h=(0,a.resolveComponent)("q-td"),C=(0,a.resolveComponent)("avatar"),v=(0,a.resolveComponent)("q-item-section"),f=(0,a.resolveComponent)("q-item-label"),N=(0,a.resolveComponent)("q-item"),V=(0,a.resolveComponent)("q-list"),g=(0,a.resolveComponent)("q-menu"),x=(0,a.resolveComponent)("q-tr"),b=(0,a.resolveComponent)("q-table");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Fx,[(0,a.createVNode)(m,{class:"shadow-3 filters row no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Px,[(0,a.createVNode)(d,{"text-color":"black",class:"no-shadow q-pa-none",color:"transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Ax,[(0,a.createElementVNode)("div",Bx,[(0,a.createElementVNode)("div",Lx,[(0,a.createVNode)(s,{modelValue:r.nomesEmpresasSelecionadas,"onUpdate:modelValue":o[0]||(o[0]=e=>r.nomesEmpresasSelecionadas=e),color:"tertiary",class:"col q-mx-md",placeholder:"Filtre por Empresa",onRemove:l.removerEmpresa},null,8,["modelValue","onRemove"])])]),(0,a.createVNode)(n,{icon:"mdi-refresh",round:"",dense:"",flat:"",color:"tertiary",class:"no-shadow",onClick:l.filtrar},null,8,["onClick"])])])),_:1})])),_:1})])])),_:1}),(0,a.createElementVNode)("div",Ox,[(0,a.createElementVNode)("div",zx,[(0,a.createElementVNode)("span",jx,[(0,a.createTextVNode)(" Atualizado em: "+(0,a.toDisplayString)(e.$filters.dataHora(this.filtro.dataConsulta))+" ",1),(0,a.withDirectives)((0,a.createVNode)(u,{color:"primary",size:20},null,512),[[a.vShow,r.carregando]])])]),(0,a.createElementVNode)("div",$x,[(0,a.createVNode)(m,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"text-tertiary q-title q-pb-sm"},{default:(0,a.withCtx)((()=>[Ux])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(b,{rows:r.cockpit.envelopesAtrasados,columns:l.colunas.envelopes,class:"no-shadow text-left"},{body:(0,a.withCtx)((o=>[(0,a.createVNode)(x,{props:o,style:{cursor:"pointer"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{key:"nroVenda",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.nroVenda),1)])),_:2},1032,["props","onClick"]),(0,a.createVNode)(h,{key:"nroEnvelope",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.nroEnvelope),1)])),_:2},1032,["props","onClick"]),(0,a.createVNode)(h,{key:"status",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.status),1)])),_:2},1032,["props","onClick"]),(0,a.createVNode)(h,{key:"dataHoraPrevisto",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(o.row.dataHoraPrevisto)),1)])),_:2},1032,["props","onClick"]),(0,a.createVNode)(h,{key:"nome",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Zx,[(0,a.createVNode)(C,{imagem:(r.contato[o.row.idContato]||{}).imagem,rotulo:o.row.nome,tamanho:"40",class:"q-mr-sm"},null,8,["imagem","rotulo"]),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(o.row.nome),1)])])),_:2},1032,["props","onClick"]),(0,a.createVNode)(h,{key:"telefone",props:o,onClick:e=>l.abrirTelefone(o.row)},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Qx,[(0,a.createVNode)(n,{color:"none",dense:"",flat:"",round:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)("WhatsApp"===o.row.tipoTelefone?"icone":"q-icon"),(0,a.normalizeProps)((0,a.guardReactiveProps)(l.telefoneIcone(o.row.tipoTelefone))),null,16))])),_:2},1024),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(o.row.telefone),1)])])),_:2},1032,["props","onClick"]),(0,a.createVNode)(h,{key:"valor",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Rx,[(0,a.createVNode)(n,{color:"none",class:"q-mx-xs",dense:"",flat:"",round:"",icon:"shopping_cart"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.numero(o.row.valor||0,2)),1)])])),_:2},1032,["props","onClick"]),(0,a.createVNode)(h,{key:"imprimir",props:o},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Gx,[(0,a.createVNode)(n,{rounded:"",dense:"",flat:"",icon:"print",color:"primary",class:"no-shadow q-ma-xs",size:"md",style:{float:"right"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{link:"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.configImpressaoEnvelope[o.row.idEmpresa],(t=>((0,a.openBlock)(),(0,a.createBlock)(N,{key:t.valor,onClick:a=>e.$imprimir(t.valor,o.row.idVenda||"0")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{icon:"print"}),(0,a.createVNode)(f,{label:t.texto},null,8,["label"])])),_:2},1032,["onClick"])))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"]),[[a.vShow,!r.carregando]])])),_:1})])),_:1})]),(0,a.createElementVNode)("div",Hx,[(0,a.createVNode)(m,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"text-tertiary q-title q-pb-sm"},{default:(0,a.withCtx)((()=>[Jx])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(b,{rows:r.cockpit.envelopesHoje,columns:l.colunas.envelopes,class:"no-shadow text-left"},{body:(0,a.withCtx)((o=>[(0,a.createVNode)(x,{props:o,style:{cursor:"pointer"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{key:"nroVenda",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.nroVenda),1)])),_:2},1032,["props","onClick"]),(0,a.createVNode)(h,{key:"nroEnvelope",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.nroEnvelope),1)])),_:2},1032,["props","onClick"]),(0,a.createVNode)(h,{key:"status",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.status),1)])),_:2},1032,["props","onClick"]),(0,a.createVNode)(h,{key:"dataHoraPrevisto",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(o.row.dataHoraPrevisto)),1)])),_:2},1032,["props","onClick"]),(0,a.createVNode)(h,{key:"nome",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Yx,[(0,a.createVNode)(C,{imagem:(r.contato[o.row.idContato]||{}).imagem,rotulo:o.row.nome,tamanho:"40",class:"q-mr-sm"},null,8,["imagem","rotulo"]),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(o.row.nome),1)])])),_:2},1032,["props","onClick"]),(0,a.createVNode)(h,{key:"telefone",props:o,onClick:e=>l.abrirTelefone(o.row)},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Xx,[(0,a.createVNode)(n,{color:"none",dense:"",flat:"",round:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)("WhatsApp"===o.row.tipoTelefone?"icone":"q-icon"),(0,a.normalizeProps)((0,a.guardReactiveProps)(l.telefoneIcone(o.row.tipoTelefone))),null,16))])),_:2},1024),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(o.row.telefone),1)])])),_:2},1032,["props","onClick"]),(0,a.createVNode)(h,{key:"valor",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Wx,[(0,a.createVNode)(n,{color:"none",class:"q-mx-xs",dense:"",flat:"",round:"",icon:"shopping_cart"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.numero(o.row.valor||0,2)),1)])])),_:2},1032,["props","onClick"]),(0,a.createVNode)(h,{key:"imprimir",props:o},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Kx,[(0,a.createVNode)(n,{rounded:"",dense:"",flat:"",icon:"print",color:"primary",class:"no-shadow q-ma-xs",size:"md",style:{float:"right"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{link:"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.configImpressaoEnvelope[o.row.idEmpresa],(t=>((0,a.openBlock)(),(0,a.createBlock)(N,{key:t.valor,onClick:a=>e.$imprimir(t.valor,o.row.idVenda||"0")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{icon:"print"}),(0,a.createVNode)(f,{label:t.texto},null,8,["label"])])),_:2},1032,["onClick"])))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"]),[[a.vShow,!r.carregando]])])),_:1})])),_:1})]),(0,a.createElementVNode)("div",eb,[(0,a.createVNode)(m,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"text-tertiary q-title q-pb-sm"},{default:(0,a.withCtx)((()=>[ob])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(b,{rows:r.cockpit.envelopesAEntregar,columns:l.colunas.envelopes,class:"no-shadow text-left"},{body:(0,a.withCtx)((o=>[(0,a.createVNode)(x,{props:o,style:{cursor:"pointer"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{key:"nroVenda",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.nroVenda),1)])),_:2},1032,["props","onClick"]),(0,a.createVNode)(h,{key:"nroEnvelope",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.nroEnvelope),1)])),_:2},1032,["props","onClick"]),(0,a.createVNode)(h,{key:"status",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.status),1)])),_:2},1032,["props","onClick"]),(0,a.createVNode)(h,{key:"dataHoraPrevisto",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(o.row.dataHoraPrevisto)),1)])),_:2},1032,["props","onClick"]),(0,a.createVNode)(h,{key:"nome",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",tb,[(0,a.createVNode)(C,{imagem:(r.contato[o.row.idContato]||{}).imagem,rotulo:o.row.nome,tamanho:"40",class:"q-mr-sm"},null,8,["imagem","rotulo"]),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(o.row.nome),1)])])),_:2},1032,["props","onClick"]),(0,a.createVNode)(h,{key:"telefone",props:o,onClick:e=>l.abrirTelefone(o.row)},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ab,[(0,a.createVNode)(n,{color:"none",dense:"",flat:"",round:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)("WhatsApp"===o.row.tipoTelefone?"icone":"q-icon"),(0,a.normalizeProps)((0,a.guardReactiveProps)(l.telefoneIcone(o.row.tipoTelefone))),null,16))])),_:2},1024),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(o.row.telefone),1)])])),_:2},1032,["props","onClick"]),(0,a.createVNode)(h,{key:"valor",props:o,onClick:e=>l.irParaAtendimentoVenda(o.row.idContato)},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ib,[(0,a.createVNode)(n,{color:"none",class:"q-mx-xs",dense:"",flat:"",round:"",icon:"shopping_cart"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.numero(o.row.valor||0,2)),1)])])),_:2},1032,["props","onClick"]),(0,a.createVNode)(h,{key:"imprimir",props:o},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",rb,[(0,a.createVNode)(n,{rounded:"",dense:"",flat:"",icon:"print",color:"primary",class:"no-shadow q-ma-xs",size:"md",style:{float:"right"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{link:"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.configImpressaoEnvelope[o.row.idEmpresa],(t=>((0,a.openBlock)(),(0,a.createBlock)(N,{key:t.valor,onClick:a=>e.$imprimir(t.valor,o.row.idVenda||"0")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{icon:"print"}),(0,a.createVNode)(f,{label:t.texto},null,8,["label"])])),_:2},1032,["onClick"])))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"]),[[a.vShow,!r.carregando]])])),_:1})])),_:1})])])])}]]);Z()(lb,"components",{QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QChip:sb.Z,QBtn:H.Z,QSpinner:Me.Z,QCardSection:q.Z,QTable:nr.Z,QTr:rl.Z,QTd:sl.Z,QIcon:L.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z});const cb={class:"CockpitPerformance"},db={class:"row q-col-gutter-sm"},mb={class:"col-12 q-mb-sm"},ub={class:"col-12 q-mb-sm"},pb={class:"col-12 col-md-6 q-mb-sm"},hb={class:"col-12 col-md-6 q-mb-sm"},Cb={class:"col-12"},vb={class:"q-px-md q-pb-md verde bg-white"},fb=(0,a.createTextVNode)("Vendas este mês (Diário) "),Nb=(0,a.createElementVNode)("section",null,null,-1),Vb={class:"row"},gb={components:{Grafico:ir},data:()=>({graficoFluxo:{labels:["01","04","05","06","07","08","11","12","13","14","15","18","19","20","21","22","25","26","27","28","29"],datasets:[{label:"Venda",backgroundColor:"rgba(33, 186, 69, 0.5)",borderColor:"rgb(33, 186, 69)",borderWidth:1,data:[50,35,75,60,50,35,75,60,50,35,75,60,50,35,75,60,50,35,75,60,50]},{label:"Orçamento",borderColor:"rgba(0, 0, 0, 0.15)",borderWidth:1,data:[0,22,0,15,0,0,0,50,0,0,0,0,0,0,0,18,0,0,0,0,0]},{label:"Perdida",backgroundColor:"rgba(219, 40, 40, 0.5)",borderColor:"rgb(219, 40, 40)",borderWidth:1,data:[0,0,12,15,0,0,0,0,10,0,0,0,0,0,0,0,5,0,0,0,0]}]},graficoOpcoesFluxo:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]},legend:{position:"top"}}})},xb=(0,T.Z)(gb,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("grafico");return(0,a.openBlock)(),(0,a.createElementBlock)("div",vb,[(0,a.createVNode)(c,{color:"transparent",class:"q-ma-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"text-positive q-title q-pa-none"},{default:(0,a.withCtx)((()=>[fb,Nb])),_:1}),(0,a.createVNode)(n,{rounded:"",flat:"",dense:"",color:"positive",icon:"remove_red_eye"})])),_:1}),(0,a.createElementVNode)("div",Vb,[(0,a.createVNode)(d,{class:"col",type:"bar",data:r.graficoFluxo,options:r.graficoOpcoesFluxo},null,8,["data","options"])])])}]]);Z()(gb,"components",{QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z});const bb={class:"q-px-md q-pb-md verde bg-white"},wb=(0,a.createTextVNode)("Vendas por mês"),_b=(0,a.createElementVNode)("section",null,null,-1),yb={class:"row"},Ib={components:{Grafico:ir},data:()=>({graficoFluxo:{labels:["Março/18","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro","Janeiro","Fevereiro","Março/19"],datasets:[{label:"Vendido",backgroundColor:"rgba(33, 186, 69, 0.5)",borderColor:"rgb(33, 186, 69)",borderWidth:1,data:[45,50,35,75,60,50,35,75,60,50,35,75,60]},{label:"Projeção",borderColor:"rgba(0, 0, 0, 0.15)",borderWidth:1,data:[0,0,0,0,0,0,0,0,0,0,0,0,50]}]},graficoOpcoesFluxo:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]},legend:{position:"top"}}})},Eb=(0,T.Z)(Ib,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("grafico");return(0,a.openBlock)(),(0,a.createElementBlock)("div",bb,[(0,a.createVNode)(c,{color:"transparent",class:"q-ma-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"text-positive q-title q-pa-none"},{default:(0,a.withCtx)((()=>[wb,_b])),_:1}),(0,a.createVNode)(n,{rounded:"",flat:"",dense:"",color:"positive",icon:"remove_red_eye"})])),_:1}),(0,a.createElementVNode)("div",yb,[(0,a.createVNode)(d,{class:"col",type:"bar",data:r.graficoFluxo,options:r.graficoOpcoesFluxo},null,8,["data","options"])])])}]]);Z()(Ib,"components",{QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z});const Sb={class:"q-px-md q-pb-md bg-white"},Mb=(0,a.createTextVNode)("Tipo de Produto"),Tb={data:function(){return{columns:[{name:"codigo",label:"Posição",field:"codigo",sortable:!0,align:"left"},{name:"name",label:"Tipo",field:"name",align:"left"},{name:"data",label:"Mês",field:"data",align:"left"},{name:"valor",label:"Ano",field:"valor",align:"left"}],tableData:[{photo:"statics/avatar.jpg",codigo:"1",name:"Oculos de Sol",data:"5und. R$100",valor:"5und. R$100"},{photo:"statics/avatar.jpg",codigo:"2",name:"Armação",data:"5und. R$100",valor:"5und. R$100"},{photo:"statics/avatar.jpg",codigo:"3",name:"Lente de contato",data:"5und. R$100",valor:"5und. R$100"},{photo:"statics/avatar.jpg",codigo:"4",name:"Oculos de Sol",data:"5und. R$100",valor:"5und. R$100"}]}}},kb=(0,T.Z)(Tb,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-td"),m=(0,a.resolveComponent)("q-tr"),u=(0,a.resolveComponent)("q-table");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Sb,[(0,a.createVNode)(c,{color:"transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"text-blue-8 q-title q-pa-none"},{default:(0,a.withCtx)((()=>[Mb])),_:1}),(0,a.createVNode)(n,{rounded:"",flat:"",dense:"",color:"blue-6",icon:"remove_red_eye"})])),_:1}),(0,a.createVNode)(u,{rows:e.tableData,columns:e.columns,class:"no-shadow text-left"},{body:(0,a.withCtx)((e=>[(0,a.createVNode)(m,{props:e},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{key:"codigo",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.codigo),1)])),_:2},1032,["props"]),(0,a.createVNode)(d,{key:"name",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.name),1)])),_:2},1032,["props"]),(0,a.createVNode)(d,{key:"data",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.data),1)])),_:2},1032,["props"]),(0,a.createVNode)(d,{key:"valor",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.valor),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])}]]);Z()(Tb,"components",{QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QTable:nr.Z,QTr:rl.Z,QTd:sl.Z});const Db={class:"q-px-md q-pb-md bg-white"},qb=(0,a.createTextVNode)("Marcas"),Fb={data:function(){return{columns:[{name:"photo",label:"Posição",field:"photo",sortable:!0,align:"left"},{name:"name",label:"Nome",field:"name",sortable:!0,align:"left"},{name:"phone",label:"Mês",field:"phone",align:"left"},{name:"data",label:"Ano",field:"data",align:"left"}],tableData:[{photo:"1",name:"Rayban",phone:"5und. R$100",data:"5und. R$100"},{photo:"2",name:"Chilli Beans",phone:"5und. R$100",data:"5und. R$100"},{photo:"3",name:"Ana hickman",phone:"5und. R$100",data:"5und. R$100"},{photo:"4",name:"Oakley ",phone:"5und. R$100",data:"5und. R$100"},{photo:"5",name:"Carrera",phone:"5und. R$100",data:"5und. R$100"}]}}},Pb=(0,T.Z)(Fb,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-td"),m=(0,a.resolveComponent)("q-tr"),u=(0,a.resolveComponent)("q-table");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Db,[(0,a.createVNode)(c,{color:"transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"text-blue-8 q-title q-pa-none"},{default:(0,a.withCtx)((()=>[qb])),_:1}),(0,a.createVNode)(n,{rounded:"",flat:"",dense:"",color:"blue-6",icon:"remove_red_eye"})])),_:1}),(0,a.createVNode)(u,{rows:e.tableData,columns:e.columns,class:"no-shadow text-left"},{body:(0,a.withCtx)((e=>[(0,a.createVNode)(m,{props:e},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{key:"photo",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.photo),1)])),_:2},1032,["props"]),(0,a.createVNode)(d,{key:"name",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.name),1)])),_:2},1032,["props"]),(0,a.createVNode)(d,{key:"phone",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.phone),1)])),_:2},1032,["props"]),(0,a.createVNode)(d,{key:"data",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.data),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])}]]);Z()(Fb,"components",{QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QTable:nr.Z,QTr:rl.Z,QTd:sl.Z});const Ab={class:"q-pa-md"},Bb={components:{Avatar:uo.Z},data:function(){return{paginationControl:{rowsPerPage:12,page:1},columns:[{name:"mes",label:"Mês/Ano",field:"mes",sortable:!0,align:"left"},{name:"photo",label:"Tkt. Médio",field:"photo",sortable:!0,align:"left"},{name:"name",label:"Vendas",field:"name",sortable:!0,align:"left"},{name:"phone",label:"Envelope",field:"phone",align:"left"},{name:"phone2",label:"Desconto",field:"phone2",align:"left"},{name:"phone3",label:"Margem",field:"phone3",align:"left"},{name:"data",label:"Cliente Retornou",field:"data",align:"left"}],tableData:[{mes:"01/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"},{mes:"02/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"},{mes:"03/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"},{mes:"04/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"},{mes:"05/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"},{mes:"06/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"},{mes:"07/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"},{mes:"08/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"},{mes:"09/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"},{mes:"10/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"},{mes:"11/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"},{mes:"12/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"}]}}},Lb=(0,T.Z)(Bb,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("avatar"),n=(0,a.resolveComponent)("q-toolbar"),c=(0,a.resolveComponent)("q-td"),d=(0,a.resolveComponent)("q-tr"),m=(0,a.resolveComponent)("q-table");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Ab,[(0,a.createVNode)(n,{color:"transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:"statics/avatar.jpg",tamanho:"40"})])),_:1}),(0,a.createVNode)(m,{rows:e.tableData,pagination:e.paginationControl,"onUpdate:pagination":o[0]||(o[0]=o=>e.paginationControl=o),columns:e.columns,class:"no-shadow text-left"},{body:(0,a.withCtx)((e=>[(0,a.createVNode)(d,{props:e},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{key:"mes",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.mes),1)])),_:2},1032,["props"]),(0,a.createVNode)(c,{key:"photo",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.photo),1)])),_:2},1032,["props"]),(0,a.createVNode)(c,{key:"name",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.name),1)])),_:2},1032,["props"]),(0,a.createVNode)(c,{key:"phone",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.phone),1)])),_:2},1032,["props"]),(0,a.createVNode)(c,{key:"phone2",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.phone2),1)])),_:2},1032,["props"]),(0,a.createVNode)(c,{key:"phone3",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.phone3),1)])),_:2},1032,["props"]),(0,a.createVNode)(c,{key:"data",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.data),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","pagination","columns"])])}]]);Z()(Bb,"components",{QToolbar:O.Z,QTable:nr.Z,QTr:rl.Z,QTd:sl.Z});const Ob={components:{DashDiaDia:xb,DashMesMes:Eb,DashNumero:kb,DashNumero2:Pb,DashTabela:Lb},methods:{handleResize(){}},data:()=>({layout:[],draggable:!0,resizable:!0,responsive:!0,mirrored:!0,index:0}),created(){window.addEventListener("resize",this.handleResize),this.handleResize()}},zb=(0,T.Z)(Ob,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("DashDiaDia"),n=(0,a.resolveComponent)("DashMesMes"),c=(0,a.resolveComponent)("DashNumero"),d=(0,a.resolveComponent)("DashNumero2"),m=(0,a.resolveComponent)("DashTabela");return(0,a.openBlock)(),(0,a.createElementBlock)("div",cb,[(0,a.createElementVNode)("div",db,[(0,a.createElementVNode)("div",mb,[(0,a.createVNode)(s)]),(0,a.createElementVNode)("div",ub,[(0,a.createVNode)(n)]),(0,a.createElementVNode)("div",pb,[(0,a.createVNode)(c)]),(0,a.createElementVNode)("div",hb,[(0,a.createVNode)(d)]),(0,a.createElementVNode)("div",Cb,[(0,a.createVNode)(m)])])])}]]);Z()(Ob,"components",{QCard:D.Z});const jb={class:"AtendimentoVenda q-pb-md"},$b={class:"col-12 col-md-6"},Ub={class:"col"},Zb=(0,a.createElementVNode)("div",{class:"col-auto",style:{"align-items":"center",display:"flex"}},[(0,a.createElementVNode)("label",null,"até")],-1),Qb={class:"col"},Rb={key:0,class:"col-12",style:{"margin-bottom":"50px"}},Gb={key:1,class:"col-12",style:{"margin-bottom":"50px"}},Hb={key:0,class:"col-12",style:{"margin-bottom":"50px"}},Jb={key:1,class:"col-12",style:{"margin-bottom":"50px"}},Yb={key:0,class:"col-12",style:{"margin-bottom":"50px"}},Xb={key:1,class:"col-12",style:{"margin-bottom":"50px"}},Wb={key:1,class:"q-pa-lg text-center"},Kb=[(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Registros não encontrados")],-1)],ew={key:2,class:"q-mt-lg text-center"};var ow=t(11488),tw=t.n(ow);const aw={components:{GChipsV2:Mp,nfePrincipal:xp,VendaCard:Hi,VendaModal:Ri.Z},computed:{temVendasAbertas(){return!!this.vendasAbertas.length},temVendasCanceladas(){return!!this.vendasCanceladas.length},temVendasFinalizadas(){return!!this.vendasFinalizadas.length},temRegistros(){return this.temVendasAbertas||this.temVendasCanceladas||this.temVendasFinalizadas}},data:()=>({grupos:[],documentos:{},vendasAbertas:[],vendasCanceladas:[],vendasFinalizadas:[],filtro:{},tipoData:"",tiposData:[{label:"Emissão",value:"emissao"},{label:"Finalizado",value:"finalizado"}],dataIni:null,dataFim:null,carregando:!1,colunas:[{name:"descricao",label:"Descrição",align:"left"},{name:"documento",label:"Documento",align:"left"},{name:"valorUnitario",label:"Valor Unitário",align:"right"},{name:"quantidade",label:"Quantidade",align:"right"},{name:"valorTotal",label:"Valor Total",align:"right"},{name:"botao",label:"",align:"right"}],paginacao:{page:1,rowsPerPage:25},modalDevolucaoGarantia:{visivel:!1},pagination:{maxPages:7,perPage:5,vendasAbertas:{page:1,min:1,max:1},vendasFinalizadas:{page:1,min:1,max:1},vendasCanceladas:{page:1,min:1,max:1}}}),methods:{adicionarOrcamento(){this.$refs.modalVenda.mostrar()},abrirModalDevolucaoGarantia(e){this.modalDevolucaoGarantia={visivel:!0,documentoItem:e}},fechouNFe(e){e&&$utils.emitter.emit("atualizarDocumentosFiscais")},async atualizar(){this.documentos={},this.documentosItens=[],this.paginacao={page:1,rowsPerPage:25},this.carregando=!0,await this.filtrar(),this.carregando=!1},executar(e){this.atualizar()},async filtrar(){let e={};this.$route.params.id&&(e=await $db.contato.le({id:this.$route.params.id})),e.id||this.$router.go(-1);let o=await $db.venda.leNew({idContatoVendedor:e.id}),t=o.map((e=>e.id));o=[...o,...(await $db.venda.leNew({idContatoDigitador:e.id})).filter((e=>!t.includes(e.id)&&t.push(e.id)))],o=[...o,...(await $db.venda.leNew({idEmpresa:e.id})).filter((e=>!t.includes(e.id)))];const a=await $db.permissao.objeto("Diretiva_Venda/Fatura_OutrasLojas_VerTodos"),i=await $db.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);if(a||(o=o.filter((e=>i.find((o=>o.id===e.idEmpresa))))),this.dataIni&&this.dataFim){const e=new Date(this.dataIni).setHours(0,0,0,0),t=new Date(this.dataFim).setHours(0,0,0,0);o=o.filter((o=>{let a=o.dataHoraFinalizado||o.dataHoraEmissao;if(a)return a=new Date(a).setHours(0,0,0,0),a>=e&&a<=t}))}let r=[];for(const e of o){const o=await $db.documentoItem.leNew({idDocumento:e.id});r=[...r,...o.filter((e=>e.idItem))]}let l=[],s={};for(const e of r)if(e.idItem&&!l.filter((o=>o.id===e.idItem)).length){const o=await $db.item.leNew({id:e.idItem});l.push(o)}if(!this.grupos.length){this.documentos=o.reduce(((e,o)=>(e[o.id]||(e[o.id]=o),e)),{}),o=$lodash.orderBy(o,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"]);const e=o.filter((e=>"Orçamento"===e.status)),t=o.filter((e=>!["Não Aprovado","Cancelado","Orçamento"].includes(e.status))),a=o.filter((e=>["Não Aprovado","Cancelado"].includes(e.status)));this.pagination.vendasAbertas.max=(e.length/5|0)+(e.length%5>0?1:0),this.pagination.vendasFinalizadas.max=(t.length/5|0)+(t.length%5>0?1:0),this.pagination.vendasCanceladas.max=(a.length/5|0)+(a.length%5>0?1:0),this.vendasAbertas=e,this.vendasFinalizadas=t,this.vendasCanceladas=a;for(const e of r)if(!s[e.idItem]){const o=l.filter((o=>o.id===e.idItem));o.length&&(s[e.idItem]=o[0])}return this.itens=s,void(this.documentosItens=$lodash.orderBy(r,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"]))}const n=$utils.clonar(this.grupos).map((e=>$utils.removerAcentos(e)));let c=o.filter((e=>{if(!e.numero)return!1;const o=String(e.numero)+(e.descricaoEmpresa||"");for(const e of n){const t=new RegExp(e,"gi");if(o.match(t))return!0}})),d=[],m=r.filter((e=>{if(!e.idItem&&!e.descricaoItem)return!1;const o=$utils.removerAcentos(e.descricaoItem);for(const t of n){const a=new RegExp(t,"gi");if(o.match(a))return d.push(e.id),!0}}));s=l.filter((e=>{const o=e.marca||"",t=e.referencia||"",a=e.codigoItem?String(e.codigoItem):"",i=e.codigoBarras||"",r=$utils.removerAcentos(o+t+a+i);for(const e of n){const o=new RegExp(e,"gi");if(r.match(o))return!0}}));for(const e of c){const o=r.filter((o=>{if(o.idItem&&o.idDocumento===e.id&&!d.includes(o.id))return d.push(o.id),!0}));m=[...m,...o]}for(const e of s){const o=r.filter((o=>{if(o.idItem===e.id&&!d.includes(o.id))return d.push(o.id),!0}));m=[...m,...o]}m=m.filter((e=>{let t=$utils.clonar(n),a=o.filter((o=>o.id===e.idDocumento)),i=l.filter((o=>o.id===e.idItem));a=a.length?a[0]:{},i=i.length?i[0]:{};let r=a.numero?String(a.numero):"";if(r+=a.descricaoEmpresa||"",r+=e.descricaoItem||"",r+=i.marca||"",r+=i.referencia||"",r+=i.codigoItem?String(i.codigoItem):"",r+=i.codigoBarras||"",r)for(const e of n){const o=new RegExp(e,"gi");r.match(o)&&(t=t.filter((o=>o!==e)))}if(!t.length)return!0}));let u=[];c=[],s={};for(const e of m)if(u.includes(e.idDocumento)||(u.push(e.idDocumento),c=[...c,...o.filter((o=>o.id===e.idDocumento))]),!s[e.idItem]){const o=l.filter((o=>o.id===e.idItem));o.length&&(s[e.idItem]=o[0])}this.documentos=c.reduce(((e,o)=>(e[o.id]||(e[o.id]=o),e)),{}),o=$lodash.orderBy(c,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"]);const p=o.filter((e=>"Orçamento"===e.status)),h=o.filter((e=>!["Não Aprovado","Cancelado","Orçamento"].includes(e.status))),C=o.filter((e=>["Não Aprovado","Cancelado"].includes(e.status)));this.pagination.vendasAbertas.max=(p.length/5|0)+(p.length%5>0?1:0),this.pagination.vendasFinalizadas.max=(h.length/5|0)+(h.length%5>0?1:0),this.pagination.vendasCanceladas.max=(C.length/5|0)+(C.length%5>0?1:0),this.vendasAbertas=p,this.vendasFinalizadas=h,this.vendasCanceladas=C,this.itens=s,this.documentosItens=$lodash.orderBy(m,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"])},limparFiltro(){this.grupos=[],this.dataFim=new Date,this.dataIni=new Date(tw()().add(-7,"days"))}},props:{periodo:Object},watch:{"$route.params.id"(e){~this.$route.name.indexOf("CockpitVendas")&&(this.limparFiltro(),this.atualizar())}},mounted(){if(this.$route.params.id){if(this.limparFiltro(),this.periodo&&this.periodo.ini&&this.periodo.fim){const e=new Date((new Date).setHours(0,0,0,0)).toISOString().replace(/\d{4}-\d{2}-\d{2}/g,"");this.dataIni=this.periodo.ini.replace(/T.+$/g,e),this.dataFim=this.periodo.fim.replace(/T.+$/g,e)}this.atualizar()}}},iw=(0,T.Z)(aw,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("GChipsV2"),c=(0,a.resolveComponent)("campo"),d=(0,a.resolveComponent)("row"),m=(0,a.resolveComponent)("q-card"),u=(0,a.resolveComponent)("q-pagination"),p=(0,a.resolveComponent)("venda-card"),h=(0,a.resolveComponent)("q-expansion-item"),C=(0,a.resolveComponent)("q-list"),v=(0,a.resolveComponent)("q-spinner"),f=(0,a.resolveComponent)("q-btn"),N=(0,a.resolveComponent)("VendaModal"),V=(0,a.resolveComponent)("nfePrincipal");return(0,a.openBlock)(),(0,a.createElementBlock)("div",jb,[(0,a.createVNode)(m,{class:"q-pa-sm no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"items-center q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",$b,[(0,a.createVNode)(n,{modelValue:r.grupos,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.grupos=e),l.atualizar],placeholder:"Filtre por Código, Produto, Marca, Número..."},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"mdi-filter"})])),_:1},8,["modelValue","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",Ub,[(0,a.createVNode)(c,{modelValue:r.dataIni,"onUpdate:modelValue":[o[1]||(o[1]=e=>r.dataIni=e),l.atualizar],tipo:"data",dense:"",outlined:""},null,8,["modelValue","onUpdate:modelValue"])]),Zb,(0,a.createElementVNode)("div",Qb,[(0,a.createVNode)(c,{modelValue:r.dataFim,"onUpdate:modelValue":[o[2]||(o[2]=e=>r.dataFim=e),l.atualizar],tipo:"data",dense:"",outlined:""},null,8,["modelValue","onUpdate:modelValue"])])])),_:1})])),_:1}),!r.carregando&&l.temRegistros?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0,class:"no-border row"},{default:(0,a.withCtx)((()=>[l.temVendasAbertas?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,class:"col-12 q-mb-xl","default-opened":"",label:"Abertas (Total R$ "+e.$filters.numero(r.vendasAbertas.reduce(((e,o)=>e+o.totalDocumento),0),2)+")",group:"vendasAbertas"},{default:(0,a.withCtx)((()=>[r.pagination.vendasAbertas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",Rb,[(0,a.createVNode)(u,{modelValue:r.pagination.vendasAbertas.page,"onUpdate:modelValue":o[3]||(o[3]=e=>r.pagination.vendasAbertas.page=e),min:r.pagination.vendasAbertas.min,max:r.pagination.vendasAbertas.max,ellipses:"","max-pages":r.pagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.vendasAbertas.slice((r.pagination.vendasAbertas.page-1)*r.pagination.perPage,r.pagination.vendasAbertas.page*r.pagination.perPage),(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id},[(0,a.createVNode)(p,{id:e.id,onExecutar:l.executar,class:"q-mb-md"},null,8,["id","onExecutar"])])))),128)),r.pagination.vendasAbertas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",Gb,[(0,a.createVNode)(u,{modelValue:r.pagination.vendasAbertas.page,"onUpdate:modelValue":o[4]||(o[4]=e=>r.pagination.vendasAbertas.page=e),min:r.pagination.vendasAbertas.min,max:r.pagination.vendasAbertas.max,ellipses:"","max-pages":r.pagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0)])),_:1},8,["label"])):(0,a.createCommentVNode)("",!0),l.temVendasFinalizadas?((0,a.openBlock)(),(0,a.createBlock)(h,{key:1,class:"col-12 q-mb-xl","default-opened":"",label:"Finalizadas (Total R$ "+e.$filters.numero(r.vendasFinalizadas.reduce(((e,o)=>e+o.totalDocumento),0),2)+")",group:"vendasFinalizadas"},{default:(0,a.withCtx)((()=>[r.pagination.vendasFinalizadas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",Hb,[(0,a.createVNode)(u,{modelValue:r.pagination.vendasFinalizadas.page,"onUpdate:modelValue":o[5]||(o[5]=e=>r.pagination.vendasFinalizadas.page=e),min:r.pagination.vendasFinalizadas.min,max:r.pagination.vendasFinalizadas.max,ellipses:"","max-pages":r.pagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.vendasFinalizadas.slice((r.pagination.vendasFinalizadas.page-1)*r.pagination.perPage,r.pagination.vendasFinalizadas.page*r.pagination.perPage),(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id},[(0,a.createVNode)(p,{id:e.id,onExecutar:l.executar,class:"q-mb-md"},null,8,["id","onExecutar"])])))),128)),r.pagination.vendasFinalizadas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",Jb,[(0,a.createVNode)(u,{modelValue:r.pagination.vendasFinalizadas.page,"onUpdate:modelValue":o[6]||(o[6]=e=>r.pagination.vendasFinalizadas.page=e),min:r.pagination.vendasFinalizadas.min,max:r.pagination.vendasFinalizadas.max,ellipses:"","max-pages":r.pagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0)])),_:1},8,["label"])):(0,a.createCommentVNode)("",!0),l.temVendasCanceladas?((0,a.openBlock)(),(0,a.createBlock)(h,{key:2,class:"col-12 q-mb-xl","default-opened":"",label:"Canceladas (Total R$ "+e.$filters.numero(r.vendasCanceladas.reduce(((e,o)=>e+o.totalDocumento),0),2)+")",group:"vendasCanceladas"},{default:(0,a.withCtx)((()=>[r.pagination.vendasCanceladas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",Yb,[(0,a.createVNode)(u,{modelValue:r.pagination.vendasCanceladas.page,"onUpdate:modelValue":o[7]||(o[7]=e=>r.pagination.vendasCanceladas.page=e),min:r.pagination.vendasCanceladas.min,max:r.pagination.vendasCanceladas.max,ellipses:"","max-pages":r.pagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.vendasCanceladas.slice((r.pagination.vendasCanceladas.page-1)*r.pagination.perPage,r.pagination.vendasCanceladas.page*r.pagination.perPage),(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id},[(0,a.createVNode)(p,{id:e.id,onExecutar:l.executar,class:"q-mb-md"},null,8,["id","onExecutar"])])))),128)),r.pagination.vendasCanceladas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",Xb,[(0,a.createVNode)(u,{modelValue:r.pagination.vendasCanceladas.page,"onUpdate:modelValue":o[8]||(o[8]=e=>r.pagination.vendasCanceladas.page=e),min:r.pagination.vendasCanceladas.min,max:r.pagination.vendasCanceladas.max,ellipses:"","max-pages":r.pagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0)])),_:1},8,["label"])):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0),r.carregando||l.temRegistros?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",Wb,Kb)),r.carregando?((0,a.openBlock)(),(0,a.createElementBlock)("div",ew,[(0,a.createVNode)(v,{color:"tertiary",size:50})])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(f,{round:"",color:"primary",class:"fixed",icon:"add",size:"lg",style:{right:"18px",bottom:"18px"},onClick:l.adicionarOrcamento},null,8,["onClick"]),(0,a.createVNode)(N,{ref:"modalVenda",onExecutar:l.executar},null,8,["onExecutar"]),(0,a.createVNode)(V,{onFechar:l.fechouNFe},null,8,["onFechar"])])}]]);Z()(aw,"components",{QCard:D.Z,QIcon:L.Z,QList:F.Z,QExpansionItem:P.Z,QPagination:Dp.Z,QSpinner:Me.Z,QBtn:H.Z});const rw={class:"AtendimentoFatura q-pb-md"},lw={class:"col-12 col-md-6"},sw={class:"col"},nw=(0,a.createElementVNode)("div",{class:"col-auto",style:{"align-items":"center",display:"flex"}},[(0,a.createElementVNode)("label",null,"até")],-1),cw={class:"col"},dw={key:0,class:"col-12",style:{"margin-bottom":"50px"}},mw={key:1,class:"col-12",style:{"margin-bottom":"50px"}},uw={key:0,class:"col-12",style:{"margin-bottom":"50px"}},pw={key:1,class:"col-12",style:{"margin-bottom":"50px"}},hw={key:0,class:"col-12",style:{"margin-bottom":"50px"}},Cw={key:1,class:"col-12",style:{"margin-bottom":"50px"}},vw={key:1,class:"q-pa-lg text-center"},fw=[(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Registros não encontrados")],-1)],Nw={key:2,class:"q-mt-lg text-center"},Vw={components:{FaturaCard:Yh,GChipsV2:Mp,nfePrincipal:xp},computed:{temFaturasAbertas(){return!!this.faturasAbertas.length},temFaturasFinalizadas(){return!!this.faturasFinalizadas.length},temFaturasCanceladas(){return!!this.faturasCanceladas.length},temRegistros(){return this.temFaturasAbertas||this.temFaturasFinalizadas||this.temFaturasCanceladas}},data:()=>({grupos:[],faturasAbertas:[],faturasFinalizadas:[],faturasCanceladas:[],filtro:{},tipoData:"",tiposData:[{label:"Emissão",value:"emissao"},{label:"Finalizado",value:"finalizado"}],dataIni:null,dataFim:null,carregando:!1,faturasPorSecao:"10",faturasPorSecaoOpts:[{value:"5",label:"5"},{value:"10",label:"10"},{value:"15",label:"15"},{value:"20",label:"20"},{value:"25",label:"25"},{value:"50",label:"50"}],pagination:{maxPages:7,perPage:5,faturasAbertas:{page:1,min:1,max:1},faturasFinalizadas:{page:1,min:1,max:1},faturasCanceladas:{page:1,min:1,max:1}}}),methods:{async atualizar(){this.faturas=[],this.carregando=!0,await $utils.dormir(500),await this.filtrar(),this.carregando=!1},executar(e){this.atualizar()},fechouNFe(e){e&&$utils.emitter.emit("atualizarDocumentosFiscais")},async filtrar(){let e=[],o=[],t=[];o=await $erp().empresa.toArray(),o.length&&(t=await $erp().contato.where("id").anyOf(o.map((e=>e.idContato))).toArray(),t=t.filter((e=>e.ativo&&!e.excluido)));let a=new Date(this.dataIni).toISOString().replace(/T.*/,"T00:00:00.000Z"),i=new Date(this.dataFim).toISOString().replace(/T.*/,"T23:59:59.999Z");for(const o of t)await $erp().documento.where(["tipo","idEmpresa","dataHoraFinalizado"]).between(["Fatura",o.id,a],["Fatura",o.id,i],!0,!0).each((o=>{e.push(o)})),await $erp().documento.where(["tipo","idEmpresa","dataHoraEmissao"]).between(["Fatura",o.id,a],["Fatura",o.id,i],!0,!0).each((o=>{e.find((e=>e.id===o.id))||e.push(o)}));await $db.permissao.objeto("Diretiva_Venda/Fatura_OutrasLojas_VerTodos")||(t=await $db.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0),e=e.filter((e=>t.find((o=>o.id===e.idEmpresa)))));for(let o of this.grupos)o=o.normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim().toLowerCase(),e=/^\d+$/gi.test(o)?e.filter((e=>[e.numero,e.codigoDocumento].includes(Number(o)))):e.filter((e=>-1!==((e.descricaoContato||"")+(e.descricaoEmpresa||"")).normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim().toLowerCase().search(o)));e=$lodash.orderBy(e,"dataHoraEmissao","desc");const r=e.filter((e=>"Aberta"===e.status)),l=e.filter((e=>!["Aberta","Cancelada"].includes(e.status))),s=e.filter((e=>"Cancelada"===e.status));this.pagination.faturasAbertas.max=(r.length/5|0)+(r.length%5>0?1:0),this.pagination.faturasFinalizadas.max=(l.length/5|0)+(l.length%5>0?1:0),this.pagination.faturasCanceladas.max=(s.length/5|0)+(s.length%5>0?1:0),this.faturasAbertas=r,this.faturasFinalizadas=l,this.faturasCanceladas=s},async limparFiltro(){this.grupos=[],this.dataFim=new Date,this.dataIni=new Date(tw()().add(-7,"days"))}},watch:{"$route.params.id"(e){~this.$route.name.indexOf("CockpitFaturas")&&(this.limparFiltro(),this.atualizar())}},async mounted(){if(this.$route.params.id){if(this.limparFiltro(),this.periodo&&this.periodo.ini&&this.periodo.fim){const e=new Date((new Date).setHours(0,0,0,0)).toISOString().replace(/\d{4}-\d{2}-\d{2}/g,"");this.dataIni=this.periodo.ini.replace(/T.+$/g,e),this.dataFim=this.periodo.fim.replace(/T.+$/g,e)}this.atualizar()}}},gw=(0,T.Z)(Vw,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("GChipsV2"),c=(0,a.resolveComponent)("campo"),d=(0,a.resolveComponent)("row"),m=(0,a.resolveComponent)("q-card"),u=(0,a.resolveComponent)("q-pagination"),p=(0,a.resolveComponent)("fatura-card"),h=(0,a.resolveComponent)("q-expansion-item"),C=(0,a.resolveComponent)("q-list"),v=(0,a.resolveComponent)("q-spinner"),f=(0,a.resolveComponent)("nfePrincipal");return(0,a.openBlock)(),(0,a.createElementBlock)("div",rw,[(0,a.createVNode)(m,{class:"q-pa-sm no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"items-center q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",lw,[(0,a.createVNode)(n,{modelValue:r.grupos,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.grupos=e),l.atualizar],placeholder:"Filtre por Cliente, Código ou Número"},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"mdi-filter"})])),_:1},8,["modelValue","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",sw,[(0,a.createVNode)(c,{modelValue:r.dataIni,"onUpdate:modelValue":[o[1]||(o[1]=e=>r.dataIni=e),l.atualizar],tipo:"data",dense:"",outlined:""},null,8,["modelValue","onUpdate:modelValue"])]),nw,(0,a.createElementVNode)("div",cw,[(0,a.createVNode)(c,{modelValue:r.dataFim,"onUpdate:modelValue":[o[2]||(o[2]=e=>r.dataFim=e),l.atualizar],tipo:"data",dense:"",outlined:""},null,8,["modelValue","onUpdate:modelValue"])])])),_:1})])),_:1}),!r.carregando&&l.temRegistros?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0,class:"no-border row"},{default:(0,a.withCtx)((()=>[l.temFaturasAbertas?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,class:"col-12 q-mb-xl","default-opened":"",label:"Abertas (Total R$ "+e.$filters.numero(r.faturasAbertas.reduce(((e,o)=>e+o.totalDocumento),0),2)+")",group:"faturasAbertas"},{default:(0,a.withCtx)((()=>[r.pagination.faturasAbertas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",dw,[(0,a.createVNode)(u,{modelValue:r.pagination.faturasAbertas.page,"onUpdate:modelValue":o[3]||(o[3]=e=>r.pagination.faturasAbertas.page=e),min:r.pagination.faturasAbertas.min,max:r.pagination.faturasAbertas.max,ellipses:"","max-pages":r.pagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.faturasAbertas.slice((r.pagination.faturasAbertas.page-1)*r.pagination.perPage,r.pagination.faturasAbertas.page*r.pagination.perPage),(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id},[(0,a.createVNode)(p,{id:e.id,onExecutar:l.executar,class:"q-mb-md"},null,8,["id","onExecutar"])])))),128)),r.pagination.faturasAbertas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",mw,[(0,a.createVNode)(u,{modelValue:r.pagination.faturasAbertas.page,"onUpdate:modelValue":o[4]||(o[4]=e=>r.pagination.faturasAbertas.page=e),min:r.pagination.faturasAbertas.min,max:r.pagination.faturasAbertas.max,ellipses:"","max-pages":r.pagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0)])),_:1},8,["label"])):(0,a.createCommentVNode)("",!0),l.temFaturasFinalizadas?((0,a.openBlock)(),(0,a.createBlock)(h,{key:1,class:"col-12 q-mb-xl","default-opened":"",label:"Finalizadas (Total R$ "+e.$filters.numero(r.faturasFinalizadas.reduce(((e,o)=>e+o.totalDocumento),0),2)+")",group:"faturasFinalizadas"},{default:(0,a.withCtx)((()=>[r.pagination.faturasFinalizadas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",uw,[(0,a.createVNode)(u,{modelValue:r.pagination.faturasFinalizadas.page,"onUpdate:modelValue":o[5]||(o[5]=e=>r.pagination.faturasFinalizadas.page=e),min:r.pagination.faturasFinalizadas.min,max:r.pagination.faturasFinalizadas.max,ellipses:"","max-pages":r.pagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.faturasFinalizadas.slice((r.pagination.faturasFinalizadas.page-1)*r.pagination.perPage,r.pagination.faturasFinalizadas.page*r.pagination.perPage),(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id},[(0,a.createVNode)(p,{id:e.id,onExecutar:l.executar,class:"q-mb-md"},null,8,["id","onExecutar"])])))),128)),r.pagination.faturasFinalizadas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",pw,[(0,a.createVNode)(u,{modelValue:r.pagination.faturasFinalizadas.page,"onUpdate:modelValue":o[6]||(o[6]=e=>r.pagination.faturasFinalizadas.page=e),min:r.pagination.faturasFinalizadas.min,max:r.pagination.faturasFinalizadas.max,ellipses:"","max-pages":r.pagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0)])),_:1},8,["label"])):(0,a.createCommentVNode)("",!0),l.temFaturasCanceladas?((0,a.openBlock)(),(0,a.createBlock)(h,{key:2,class:"col-12 q-mb-xl","default-opened":"",label:"Canceladas (Total R$ "+e.$filters.numero(r.faturasCanceladas.reduce(((e,o)=>e+o.totalDocumento),0),2)+")",group:"faturasCanceladas"},{default:(0,a.withCtx)((()=>[r.pagination.faturasCanceladas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",hw,[(0,a.createVNode)(u,{modelValue:r.pagination.faturasCanceladas.page,"onUpdate:modelValue":o[7]||(o[7]=e=>r.pagination.faturasCanceladas.page=e),min:r.pagination.faturasCanceladas.min,max:r.pagination.faturasCanceladas.max,ellipses:"","max-pages":r.pagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.faturasCanceladas.slice((r.pagination.faturasCanceladas.page-1)*r.pagination.perPage,r.pagination.faturasCanceladas.page*r.pagination.perPage),(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id},[(0,a.createVNode)(p,{id:e.id,onExecutar:l.executar,class:"q-mb-md"},null,8,["id","onExecutar"])])))),128)),r.pagination.faturasCanceladas.max>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",Cw,[(0,a.createVNode)(u,{modelValue:r.pagination.faturasCanceladas.page,"onUpdate:modelValue":o[8]||(o[8]=e=>r.pagination.faturasCanceladas.page=e),min:r.pagination.faturasCanceladas.min,max:r.pagination.faturasCanceladas.max,ellipses:"","max-pages":r.pagination.maxPages,class:"float-right"},null,8,["modelValue","min","max","max-pages"])])):(0,a.createCommentVNode)("",!0)])),_:1},8,["label"])):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0),r.carregando||l.temRegistros?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",vw,fw)),r.carregando?((0,a.openBlock)(),(0,a.createElementBlock)("div",Nw,[(0,a.createVNode)(v,{color:"tertiary",size:50})])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(f,{onFechar:l.fechouNFe},null,8,["onFechar"])])}]]);Z()(Vw,"components",{QCard:D.Z,QIcon:L.Z,QList:F.Z,QExpansionItem:P.Z,QPagination:Dp.Z,QSpinner:Me.Z});const xw=(0,a.createTextVNode)("Configurações"),bw={components:{MenuAbas:qo}},ww=(0,T.Z)(bw,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("router-view"),m=(0,a.resolveComponent)("MenuAbas"),u=(0,a.resolveComponent)("q-page");return(0,a.openBlock)(),(0,a.createBlock)(u,{class:"Configuracoes"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-gradiente text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"settings",size:"24px"}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[xw])),_:1})])),_:1}),(0,a.createVNode)(m,{objetoPai:"configuracoes"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d)])),_:1})])),_:1})}]]);Z()(bw,"components",{QPage:se.Z,QToolbar:O.Z,QIcon:L.Z,QToolbarTitle:G.Z});const _w={class:"ConfiguracoesEmpresas u-container"},yw={class:"q-mt-md no-shadow"},Iw={class:"col text-body1"},Ew={class:"col text-body1"},Sw={class:"col text-body1"},Mw={class:"q-pr-md"},Tw=(0,a.createTextVNode)("Ativa: "),kw={key:0,class:"q-pr-md"},Dw=(0,a.createTextVNode)("Sigla: "),qw={class:"q-mt-md text-center"},Fw={class:"layout-padding q-pa-none q-pb-md"},Pw={class:"u-container"},Aw={class:"col-12 col-md-4"},Bw={class:"row items-center"},Lw=(0,a.createElementVNode)("div",{class:"col no-wrap"},"Cor principal",-1),Ow={class:"col-12 col-md-4"},zw={class:"row items-center"},jw=(0,a.createElementVNode)("div",{class:"col no-wrap"},"Cor secundaria",-1),$w=(0,a.createElementVNode)("div",{class:"col-12 text-subtitle text-tertiary text-weight-bold"},"Token de atualização de alíquotas para calculo do valor aproximado dos tributos",-1),Uw=(0,a.createElementVNode)("div",{class:"col-12 text-subtitle text-tertiary text-weight-bold"},"Dados para geração do QRCode da NFC-e",-1),Zw=(0,a.createElementVNode)("div",{class:"col-12 text-subtitle text-tertiary text-weight-bold"},"Certificado digital",-1),Qw=(0,a.createTextVNode)("Upload certificado digital"),Rw={class:"row q-ma-md"},Gw=(0,a.createElementVNode)("div",{class:"col-6 col-sm-3 text-subtitle text-tertiary text-weight-bold"},"Total de NCMs:",-1),Hw={class:"col-6 col-sm-9 text-subtitle text-tertiary"},Jw=(0,a.createElementVNode)("div",{class:"col-6 col-sm-3 text-subtitle text-tertiary text-weight-bold"},"Sucesso:",-1),Yw={class:"col-6 col-sm-9 text-subtitle text-tertiary"},Xw=(0,a.createElementVNode)("div",{class:"col-6 col-sm-3 text-subtitle text-tertiary text-weight-bold"},"Erro(s):",-1),Ww={class:"col-6 col-sm-9 text-subtitle text-tertiary"},Kw=(0,a.createElementVNode)("div",{class:"col-12 text-subtitle text-tertiary text-weight-bold"},"Os NCMs abaixo não foram validados no servidor do IBPT:",-1),e_={class:"col-12 text-subtitle text-tertiary text-weight-bold"};var o_=t(30052),t_=t.n(o_);const a_={components:{Avatar:uo.Z},data:()=>({certificado:{arquivo:"",senha:""},dbUsuario:ue.db.usuario,empresa:{},empresas:[],modalCertificado:!1,modalEmpresa:!1,resultado:{erro:0,final:"",listaNCMErros:[],percentagem:0,sucesso:0,titulo:"Importando...",total:0,visivel:!1}}),methods:{abrirValidCertificadora(){window.open("http://www.validcertificadora.com.br/P/B516DF35-5BC4-4D2D-8A62-CCF42F9BEF71/RD019446","_blank")},async atualizar(){try{const e=localStorage.getItem("clienteSistema");(0,Fo.verificarErro)(!e,"Ocorreu erro ao consultar clienteSistema"),this.clienteSistema=JSON.parse(e);const o=await ue.db.empresa.leOnlinePlat({codigoClienteSistema:this.clienteSistema.codigoClienteSistema});Fo.gconsole.log("ConfiguracoesEmpresas","atualizar",o.length);for(const e of o){const o=await ue.db.contato.leOnline({codigoContato:e.codigoContato});e.contato=o[0]||{}}this.empresas=o}catch(e){this.$q.notifyError("Ocorreu erro ao consultar empresas",e)}},async abrirPromptContatoEmpresa(){const e=await $g.promptContato.show({filtro:{ativo:!0},placeholder:"Selecione a empresa"});(e||{}).id&&this.criarEmpresa(e.id,e)},abrirModalEmpresa(e){try{Fo.gconsole.log("ConfiguracoesEmpresas","abrirModalEmpresa",e),this.modalEmpresa=!0,this.empresa=e}catch(e){this.$q.notifyError("Ocorreu erro ao abrir empresa",e)}},abrirSiteIbpt(){window.open("https://deolhonoimposto.ibpt.org.br/Site/PassoPasso")},adicionarCertificado(e){Fo.gconsole.log("ConfiguracoesEmpresas","adicionarCertificado",e[0].name),this.certificado.arquivo=e[0]},async enviarCertificado(e){Fo.gconsole.log("ConfiguracoesEmpresas","enviarCertificado",this.empresa.numeroDocumentoNacional,this.certificado.arquivo.name),(0,Fo.verificarErro)(!this.certificado.arquivo,"Certificado não selecionado"),(0,Fo.verificarErro)(!this.certificado.senha,"Senha obrigatória");const o=new FormData;o.append("funcao","948AE0B9-67F9-4116-AE95-E48617202DCA"),o.append("arquivo",this.certificado.arquivo),o.append("senha",this.certificado.senha),o.append("CNPJ",this.$utils.filtrarDigitos(this.empresa.numeroDocumentoNacional));const t=await this.$utils.geeksApi(o,{baseURL:"https://srv2.api.b15.com.br"});this.$q.notifyPositive(t.data.upload.mensagem),this.modalCertificado=!1},async removerEmpresa(e){Fo.gconsole.log("ConfiguracoesEmpresas","removerEmpresa",e);try{await this.$q.dialog({title:"Tem certeza?",message:"Ao continuar você irá remover esta empresa.",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Remover",push:!0,class:"bg-negative",textColor:"white",flat:!0}})}catch(e){return}try{await ue.db.empresa.removeOnline(e),await this.atualizar(),this.$q.notifyPositive("A empresa foi removida com sucesso.")}catch(e){this.$q.notifyError("Ocorreu um erro ao remover empresa",e)}},async criarEmpresa(e,o){try{if(!e)return;Fo.gconsole.log("ConfiguracoesEmpresas","criarEmpresa",e,o,this.clienteSistema);const t=this.empresas.find((e=>e.idContato===o.id))||{};await ue.db.empresa.gravaOnline({atual:{...t,idContato:o.id,codigoContato:o.codigoContato,nome:o.nome,apelido:o.apelido,numeroDocumentoNacional:o.numeroDocumentoNacional,numeroDocumentoEstadual:o.numeroDocumentoEstadual,codigoClienteSistema:this.clienteSistema.codigoClienteSistema,idClienteSistema:this.clienteSistema.idClienteSistema}}),await this.atualizar(),this.$q.notifyPositive("Empresa salva com sucesso")}catch(e){this.$q.notifyError("Ocorreu erro ao salvar empresa",e)}},async gravarEmpresa(){try{Fo.gconsole.log("ConfiguracoesEmpresas","gravarEmpresa",this.empresa),await ue.db.empresa.gravaOnline({atual:{...this.empresa,idContato:this.empresa.contato.id,codigoClienteSistema:this.clienteSistema.codigoClienteSistema,idClienteSistema:this.clienteSistema.idClienteSistema}}),await this.atualizar(),this.$q.notifyPositive("Empresa salva com sucesso"),this.modalEmpresa=!1}catch(e){this.$q.notifyError("Ocorreu erro ao salvar empresa",e)}},async importaAliquotasIBPT(e){Fo.gconsole.log("NFeIbpt","importaAliquotasIBPT()",e);try{(0,Fo.verificarErro)(14!==(0,Fo.filtrarDigitos)(e.numeroDocumentoNacional).length,"CNPJ da empresa inválido"),(0,Fo.verificarErro)(!e.tokenIBPT,"Empresa sem Token do IBPT"),e.contato.enderecoPrincipal=await ue.db.contatoEndereco.leEnderecoPrincipal(e.contato.id),(0,Fo.verificarErro)(!e.contato.enderecoPrincipal,"Empresa sem endereco"),(0,Fo.verificarErro)(!e.contato.enderecoPrincipal.uf,"Empresa sem UF cadastrado");let o={token:e.tokenIBPT,cnpj:(0,Fo.filtrarDigitos)(e.numeroDocumentoNacional),codigo:"",uf:e.contato.enderecoPrincipal.uf,ex:"0",descricao:"X",unidadeMedida:"UN",valor:"0",gtin:"0"};this.resultado.visivel=!0,this.resultado.sucesso=0,this.resultado.erro=0,this.resultado.percentagem=0,this.resultado.listaNCMErros=[],this.resultado.final="";const t=(await ue.db.ncm.le()).map((e=>e.ncm)).sort();Fo.gconsole.log("NFeIbpt","ncms",t),this.resultado.total=t.length;let a=[],i=[a];for(const e of t)a.length>=10&&(a=[],i.push(a)),a.push({ncm:e,params:(0,Fo.clonarV2)(o),promisse:null});Fo.gconsole.log("NFeIbpt","listaLista",i);for(const o of i){if(!this.resultado.visivel)return;for(const e of o)e.params.codigo=e.ncm,e.promisse=t_()({method:"get",url:"https://apidoni.ibpt.org.br/api/v1/produtos",params:e.params,validateStatus:e=>e>=200&&e<=500});for(const t of o){let o;try{o=await t.promisse}catch(e){}(0,Fo.verificarErro)(!o||!o.data||!o.status,"Erro de comunicação com o servidor IBPT. Tente novamente mais tarde."),(0,Fo.verificarErro)(200!==o.status,"Erro retornado pelo servidor do IBPT: "+o.data.Message||0),o.data.Codigo===t.ncm?(this.resultado.sucesso++,await ue.db.nfeIbpt.atualiza(e.contato.id,o.data)):(this.resultado.erro++,this.resultado.listaNCMErros.push(t.ncm)),this.resultado.percentagem=100*(this.resultado.sucesso+this.resultado.erro)/this.resultado.total}}this.resultado.final="Importação finalizada!"}catch(e){this.resultado.final=this.$q.notifyError("Falha na importação!",e)}}},created(){this.atualizar()}};var i_=t(11529),r_=t(98482);const l_=(0,T.Z)(a_,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("avatar"),n=(0,a.resolveComponent)("row"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-btn"),m=(0,a.resolveComponent)("q-toolbar"),u=(0,a.resolveComponent)("q-card"),p=(0,a.resolveComponent)("q-header"),h=(0,a.resolveComponent)("campo"),C=(0,a.resolveComponent)("q-color"),v=(0,a.resolveComponent)("SeletorContato"),f=(0,a.resolveComponent)("q-page-container"),N=(0,a.resolveComponent)("q-layout"),V=(0,a.resolveComponent)("q-dialog"),g=(0,a.resolveComponent)("q-uploader"),x=(0,a.resolveComponent)("q-page"),b=(0,a.resolveComponent)("q-linear-progress"),w=(0,a.resolveComponent)("card"),_=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",_w,[(0,a.createElementVNode)("div",yw,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.empresas,(e=>((0,a.openBlock)(),(0,a.createBlock)(u,{class:"extratoItem bg-white q-mb-md q-pa-md",key:e.id},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:e.contato.imagem,rotulo:e.apelido,tamanho:"40",class:"float-left"},null,8,["imagem","rotulo"]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",null,(0,a.toDisplayString)(e.nome),1),(0,a.createVNode)(n,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Iw,(0,a.toDisplayString)(e.apelido),1),(0,a.createElementVNode)("div",Ew,(0,a.toDisplayString)(e.numeroDocumentoNacional),1),(0,a.createElementVNode)("div",Sw,[(0,a.createElementVNode)("span",Mw,[Tw,(0,a.createElementVNode)("b",null,(0,a.toDisplayString)(e.ativo?"Sim":"Não"),1)]),e.sigla?((0,a.openBlock)(),(0,a.createElementBlock)("span",kw,[Dw,(0,a.createElementVNode)("b",null,(0,a.toDisplayString)(e.sigla),1)])):(0,a.createCommentVNode)("",!0)])])),_:2},1024)])),_:2},1024),(0,a.createVNode)(d,{rounded:"",dense:"",flat:"",icon:"edit",color:"tertiary",class:"no-shadow q-ma-xs",size:"md",onClick:o=>l.abrirModalEmpresa(e)},null,8,["onClick"]),(0,a.createVNode)(d,{rounded:"",dense:"",flat:"",icon:"delete",color:"tertiary",class:"no-shadow q-ma-xs",size:"md",onClick:o=>l.removerEmpresa(e)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128)),(0,a.createElementVNode)("div",qw,[(0,a.createVNode)(d,{color:"positive",icon:"add",label:"Empresa",outline:"",size:"sm",onClick:l.abrirPromptContatoEmpresa},null,8,["onClick"])])]),(0,a.createVNode)(V,{modelValue:r.modalEmpresa,"onUpdate:modelValue":o[16]||(o[16]=e=>r.modalEmpresa=e),maximized:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"bg-light",container:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("form",{onSubmit:o[15]||(o[15]=(0,a.withModifiers)(((...e)=>l.gravarEmpresa&&l.gravarEmpresa(...e)),["prevent"]))},[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(d,{flat:"",round:"",dense:"",icon:"arrow_back"},null,512),[[_]]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.empresa.nome),1)])),_:1}),(0,a.createVNode)(d,{class:"q-ml-sm no-shadow",color:"white","text-color":"primary",label:"Salvar",type:"submit",unelevated:""})])),_:1})])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Fw,[(0,a.createElementVNode)("div",Pw,[(0,a.createVNode)(u,{class:"q-pa-md q-pa-md q-mt-md bg-white no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-col-gutter-md items-center"},{default:(0,a.withCtx)((()=>[r.dbUsuario.logado.administrador&&[1,2].includes(r.dbUsuario.logado.grupoInterno)?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,modelValue:r.empresa.ativo,"onUpdate:modelValue":o[0]||(o[0]=e=>r.empresa.ativo=e),class:"col-12 col-md-4",maxlength:"1",rotulo:"Ativo",tipo:"logico"},null,8,["modelValue"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",Aw,[(0,a.createElementVNode)("div",Bw,[(0,a.withDirectives)((0,a.createVNode)(C,{modelValue:r.empresa.corPrincipal,"onUpdate:modelValue":o[1]||(o[1]=e=>r.empresa.corPrincipal=e),ref:"corPrincipal","format-model":"hex",modal:"",clearable:"","ok-label":"Ok","cancel-label":"Cancelar"},null,8,["modelValue"]),[[a.vShow,!1]]),(0,a.createVNode)(d,{class:"col-auto",style:(0,a.normalizeStyle)({color:r.empresa.corPrincipal}),flat:"",icon:"mdi-circle",size:"xl",onClick:o[2]||(o[2]=o=>e.$refs.corPrincipal.show())},null,8,["style"]),Lw])]),(0,a.createElementVNode)("div",Ow,[(0,a.createElementVNode)("div",zw,[(0,a.withDirectives)((0,a.createVNode)(C,{modelValue:r.empresa.corSecundaria,"onUpdate:modelValue":o[3]||(o[3]=e=>r.empresa.corSecundaria=e),ref:"corSecundaria","format-model":"hex",modal:"",clearable:"","ok-label":"Ok","cancel-label":"Cancelar"},null,8,["modelValue"]),[[a.vShow,!1]]),(0,a.createVNode)(d,{class:"col-auto",style:(0,a.normalizeStyle)({color:r.empresa.corSecundaria}),flat:"",icon:"mdi-circle",size:"xl",onClick:o[4]||(o[4]=o=>e.$refs.corSecundaria.show())},null,8,["style"]),jw])])])),_:1}),(0,a.createVNode)(n,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:r.empresa.sigla,"onUpdate:modelValue":o[5]||(o[5]=e=>r.empresa.sigla=e),class:"col-12 col-md-4",maxlength:"5",rotulo:"Sigla"},null,8,["modelValue"]),(0,a.createVNode)(v,{modelValue:r.empresa.idPai,"onUpdate:modelValue":o[6]||(o[6]=e=>r.empresa.idPai=e),class:"col-12 col-md-8",filtro:{ativo:!0,empresas:!0},rotulo:"Grupo",onSelecionar:o[7]||(o[7]=e=>r.empresa.codigoPai=e.codigoContato)},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.createVNode)(u,{class:"q-pa-md q-pa-md q-mt-md bg-white no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[$w,(0,a.createVNode)(h,{modelValue:r.empresa.tokenIBPT,"onUpdate:modelValue":o[8]||(o[8]=e=>r.empresa.tokenIBPT=e),class:"col-12",maxlength:"64",rotulo:"Token IBPT (ibpt.com.br)"},null,8,["modelValue"]),r.empresa.tokenIBPT?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,label:"Atualizar alíquotas online",color:"primary",flat:"",icon:"cloud_download",onClick:o[9]||(o[9]=e=>l.importaAliquotasIBPT(r.empresa))})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(d,{label:"Site para obter o token",color:"primary",flat:"",icon:"vpn_key",onClick:l.abrirSiteIbpt},null,8,["onClick"])])),_:1})])),_:1}),(0,a.createVNode)(u,{class:"q-pa-md q-pa-md q-mt-md bg-white no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[Uw,(0,a.createVNode)(h,{modelValue:r.empresa.tokenCSCProducao,"onUpdate:modelValue":o[10]||(o[10]=e=>r.empresa.tokenCSCProducao=e),class:"col-12 col-md-4",maxlength:"6",rotulo:"Token CSC Produção"},null,8,["modelValue"]),(0,a.createVNode)(h,{modelValue:r.empresa.hashCSCProducao,"onUpdate:modelValue":o[11]||(o[11]=e=>r.empresa.hashCSCProducao=e),class:"col-12 col-md-8",maxlength:"50",rotulo:"Hash CSC Produção"},null,8,["modelValue"]),(0,a.createVNode)(h,{modelValue:r.empresa.tokenCSCHomologacao,"onUpdate:modelValue":o[12]||(o[12]=e=>r.empresa.tokenCSCHomologacao=e),class:"col-12 col-md-4",maxlength:"6",rotulo:"Token CSC Homologação"},null,8,["modelValue"]),(0,a.createVNode)(h,{modelValue:r.empresa.hashCSCHomologacao,"onUpdate:modelValue":o[13]||(o[13]=e=>r.empresa.hashCSCHomologacao=e),class:"col-12 col-md-8",maxlength:"50",rotulo:"Hash CSC Homologação"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.createVNode)(u,{class:"q-pa-md q-pa-md q-mt-md bg-white no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[Zw,(0,a.createVNode)(d,{label:"Upload certificado",color:"primary",flat:"",icon:"vpn_key",onClick:o[14]||(o[14]=e=>{r.modalEmpresa=!1,r.modalCertificado=!0,r.certificado.senha=""})}),(0,a.createVNode)(d,{label:"Adquirir/Renovar Certificado",color:"primary",flat:"",icon:"add_moderator",onClick:l.abrirValidCertificadora},null,8,["onClick"])])),_:1})])),_:1})])])])),_:1})],32)])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(V,{modelValue:r.modalCertificado,"onUpdate:modelValue":o[19]||(o[19]=e=>r.modalCertificado=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{container:"",class:"bg-light",style:{height:"40vh",width:"50vw","max-width":"100vw"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("form",{onSubmit:o[18]||(o[18]=(0,a.withModifiers)((o=>e.tryLoading(l.enviarCertificado)),["prevent"]))},[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(d,{flat:"",round:"",dense:"",icon:"arrow_back"},null,512),[[_]]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Qw])),_:1}),(0,a.createVNode)(d,{color:"white","text-color":"primary",label:"Enviar",type:"submit",unelevated:""})])),_:1})])),_:1}),(0,a.createVNode)(f,{class:"u-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Rw,[(0,a.createVNode)(g,{class:"col-12","hide-upload-btn":"","auto-upload":"",factory:l.adicionarCertificado,filter:e=>e.filter((e=>"application/x-pkcs12"===e.type))},null,8,["factory","filter"]),(0,a.createVNode)(h,{modelValue:r.certificado.senha,"onUpdate:modelValue":o[17]||(o[17]=e=>r.certificado.senha=e),class:"col-12 q-mt-lg",rotulo:"Senha",type:"password",autofocus:""},null,8,["modelValue"])])])),_:1})])),_:1})],32)])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(V,{modelValue:r.resultado.visivel,"onUpdate:modelValue":o[20]||(o[20]=e=>r.resultado.visivel=e),"content-css":{width:"100vw",maxWidth:"768px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(d,{flat:"",round:"",dense:"",icon:"arrow_back"},null,512),[[_]]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.resultado.titulo),1)])),_:1}),(0,a.withDirectives)((0,a.createVNode)(d,{color:"white","text-color":"primary",label:r.resultado.percentagem>=99.9?"Fechar":"Parar",unelevated:""},null,8,["label"]),[[_]])])),_:1})])),_:1}),(0,a.createVNode)(f,{class:"u-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[Gw,(0,a.createElementVNode)("div",Hw,(0,a.toDisplayString)(r.resultado.total),1),Jw,(0,a.createElementVNode)("div",Yw,(0,a.toDisplayString)(r.resultado.sucesso),1),Xw,(0,a.createElementVNode)("div",Ww,(0,a.toDisplayString)(r.resultado.erro),1),r.resultado.listaNCMErros.length>0?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[Kw,((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.resultado.listaNCMErros,((e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o,class:"col-12 text-subtitle text-tertiary"},"'"+(0,a.toDisplayString)(e)+"'",1)))),128))],64)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(b,{class:"col-12 q-my-md",percentage:r.resultado.percentagem,color:"primary"},null,8,["percentage"]),(0,a.createElementVNode)("div",e_,(0,a.toDisplayString)(r.resultado.final),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])}]]);Z()(a_,"components",{QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QPageContainer:le.Z,QColor:i_.Z,QPage:se.Z,QUploader:yo.Z,QLinearProgress:r_.Z}),Z()(a_,"directives",{ClosePopup:J.Z});const s_={class:"ConfiguracoesUsuarios u-container"},n_={class:"q-pb-md"},c_={class:"col-12"},d_={class:"filters row q-pa-sm q-ma-md q-col-gutter-x-sm bg-white",style:{"border-radius":"5px","min-height":"50px"}},m_={class:"col-12 col-md q-pl-none"},u_={class:"row"},p_={class:"no-shadow"},h_={class:"row q-col-gutter-sm"},C_={class:"col-12 col-lg-8"},v_={class:"row"},f_={class:"col-12 col-lg"},N_=(0,a.createElementVNode)("img",{src:"https://i.pinimg.com/originals/a9/38/09/a938091f6fdca06fc6e829688f2dbe88.jpg",class:"avatar float-left",style:{"max-width":"40px",height:"auto",float:"left"}},null,-1),V_=(0,a.createElementVNode)("div",null,"Ricardo Floriano ",-1),g_=(0,a.createElementVNode)("div",null," Ricardo Floriano da Silva ",-1),x_={class:"col-10 offset-1 q-pl-md col-lg"},b_=(0,a.createElementVNode)("div",null,"018.594.415.99",-1),w_=(0,a.createElementVNode)("div",null," Administrador ",-1),__={class:"col-12 col-lg",style:{"text-align":"right"}},y_={class:"q-mt-md text-center"},I_={class:"col-12 col-lg"},E_={class:"row"},S_={class:"col"},M_=(0,a.createElementVNode)("div",null,"Administrador ",-1),T_={class:"q-mt-md text-center"},k_=(0,a.createTextVNode)("Nome do Usuário"),D_={class:"layout-padding"},q_={class:"row justify-end"},F_=(0,a.createTextVNode)(" Alterar Permissões "),P_={class:"row justify-center"},A_={style:{width:"1280px","max-width":"100%"}},B_={class:"no-shadow q-mb-md row q-col-gutter-sm q-mx-none q-mt-xl"};var L_=t(26891);const O_={components:{Campo:L_.Z},data:function(){return{checkedVO:!1,checkedDetails:!1,checkedTitulo:!1,showMoreDetails:!1,openedSangria:!1,openedEditar:!1,openedTitulo:!1,showchat:!1,openedC:!1,showing:!1,dataIni:"",dataFin:"",grupos:[],tickable:[{label:"Empresas",icon:"business",children:[{label:"Geeks"},{label:"Carlos"}]},{label:"Telas e Diretivas",children:[{label:"Geeks"},{label:"Pleasant surroundings",icon:"photo",children:[{label:"Pleasing decor"}]},{label:"Extra information (has no tick)",icon:"photo"},{label:'Forced tick strategy (to "strict" in this case)',tickStrategy:"strict",icon:"school",children:[{label:"Happy atmosphere"},{label:"Good table presentation"},{label:"Very pleasing decor"}]}]}],ticked:[],tickStrategy:"leaf",tickFilter:null,simple:[{label:"Satisfied customers",children:[{label:"Good food",children:[{label:"Quality ingredients"},{label:"Good recipe"}]},{label:"Good service (disabled node)",disabled:!0,children:[{label:"Prompt attention"},{label:"Professional waiter"}]},{label:"Pleasant surroundings",children:[{label:"Happy atmosphere"},{label:"Good table presentation"},{label:"Pleasing decor"}]}]}],selectListOptions:[{label:"Nome do banco",inset:!0,sublabel:"Enables communication",stamp:"Saldo",value:"fb1"},{label:"Nome do banco",inset:!0,sublabel:"Enables communication",stamp:"Saldo",value:"fb2"}],selectPC:"",selectedDataTipo:"",selectDataTipo:[{label:"Vencimento",value:"goog"},{label:"Outro",value:"fb"}],selectOptionsPC:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],dados:{fonetipo:[{label:"Principal",value:"Principal"},{label:"Celular",value:"Celular"},{label:"Fixo",value:"Fixo"},{label:"WhatsApp",value:"WhatsApp"}]}}}};var z_=t(79826);const j_=(0,T.Z)(O_,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-chips-input"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-card"),u=(0,a.resolveComponent)("q-expansion-item"),p=(0,a.resolveComponent)("q-list"),h=(0,a.resolveComponent)("q-header"),C=(0,a.resolveComponent)("q-select"),v=(0,a.resolveComponent)("campo"),f=(0,a.resolveComponent)("q-footer"),N=(0,a.resolveComponent)("q-layout"),V=(0,a.resolveComponent)("q-dialog"),g=(0,a.resolveComponent)("q-tree"),x=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",s_,[(0,a.createElementVNode)("div",n_,[(0,a.createVNode)(m,{class:"shadow-3 row no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",c_,[(0,a.createVNode)(d,{"text-color":"black",class:"no-shadow q-pa-none",color:"transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",d_,[(0,a.createElementVNode)("div",m_,[(0,a.createElementVNode)("div",u_,[(0,a.createVNode)(s,{icon:"filter_list",round:"",color:"tertiary",class:"no-shadow"}),(0,a.createVNode)(n,{modelValue:e.grupos,"onUpdate:modelValue":o[0]||(o[0]=o=>e.grupos=o),color:"tertiary",class:"col q-mx-sm"},null,8,["modelValue"])])])])])),_:1})])),_:1})])])),_:1}),(0,a.createElementVNode)("div",p_,[(0,a.createElementVNode)("div",h_,[(0,a.createElementVNode)("div",C_,[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{"default-opened":"",label:"Usuários"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{"default-opened":"",label:"Administrador"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"extratoItem bg-white q-mb-md q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",v_,[(0,a.createElementVNode)("div",f_,[N_,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[V_,g_])),_:1})]),(0,a.createElementVNode)("div",x_,[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[b_,w_])),_:1})]),(0,a.createElementVNode)("div",__,[(0,a.createVNode)(s,{rounded:"",dense:"",flat:"",icon:"vpn_lock",color:"primary",class:"no-shadow q-ma-xs",size:"md",onClick:o[1]||(o[1]=o=>e.openedTitulo=!0)}),(0,a.createVNode)(s,{rounded:"",dense:"",flat:"",icon:"edit",color:"primary",class:"no-shadow q-ma-xs",size:"md",onClick:o[2]||(o[2]=o=>e.openedEditar=!0)}),(0,a.createVNode)(s,{rounded:"",dense:"",flat:"",icon:"delete",color:"grey",class:"no-shadow q-ma-xs",size:"md"})])])])),_:1})])),_:1}),(0,a.createElementVNode)("div",y_,[(0,a.createVNode)(s,{color:"positive",icon:"add",label:"Usuário",outline:"",size:"sm"})])])),_:1})])),_:1})])),_:1})]),(0,a.createElementVNode)("div",I_,[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{"default-opened":"",label:"Grupos"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"extratoItem bg-white q-mb-md q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",E_,[(0,a.createElementVNode)("div",S_,[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[M_])),_:1})]),(0,a.createVNode)(s,{rounded:"",dense:"",flat:"",icon:"vpn_lock",color:"primary",class:"no-shadow q-ma-xs",size:"md",onClick:o[3]||(o[3]=o=>e.openedTitulo=!0)}),(0,a.createVNode)(s,{rounded:"",dense:"",flat:"",icon:"edit",color:"primary",class:"no-shadow q-ma-xs",size:"md",onClick:o[4]||(o[4]=o=>e.openedEditar=!0)}),(0,a.createVNode)(s,{rounded:"",dense:"",flat:"",icon:"delete",color:"grey",class:"no-shadow q-ma-xs",size:"md"})])])),_:1})])),_:1}),(0,a.createElementVNode)("div",T_,[(0,a.createVNode)(s,{color:"positive",icon:"add",label:"Grupo",outline:"",size:"sm"})])])),_:1})])])])]),(0,a.createVNode)(V,{modelValue:e.openedEditar,"onUpdate:modelValue":o[6]||(o[6]=o=>e.openedEditar=o),"content-css":{width:"80vw",maxWidth:"480px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[k_])),_:1})])),_:1})])),_:1}),(0,a.createElementVNode)("form",null,[(0,a.createElementVNode)("div",D_,[(0,a.createVNode)(C,{modelValue:e.selectPC,"onUpdate:modelValue":o[5]||(o[5]=o=>e.selectPC=o),placeholder:"Grupo",radio:"",color:"green-7",class:"text-body2",options:e.selectOptionsPC},null,8,["modelValue","options"]),(0,a.createVNode)(v,{maxlength:"50",rotulo:"Senha"}),(0,a.createVNode)(v,{maxlength:"50",rotulo:"Tela Inicial"})]),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",q_,[(0,a.withDirectives)((0,a.createVNode)(s,{flat:"",color:"primary",label:"Cancelar"},null,512),[[x]]),(0,a.createVNode)(s,{flat:"",class:"",color:"primary",type:"submit",label:"Salvar"})])])),_:1})])),_:1})])),_:1})])])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(V,{modelValue:e.openedTitulo,"onUpdate:modelValue":o[8]||(o[8]=o=>e.openedTitulo=o),maximized:"",class:"bg-cinza"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{reveal:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"BarraTopo"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{flat:"",round:"",dense:"",icon:"arrow_back"},null,512),[[x]]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[F_])),_:1}),(0,a.createVNode)(s,{color:"primary",class:"no-shadow",label:"Salvar"})])),_:1})])),_:1}),(0,a.createVNode)(N,{container:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",P_,[(0,a.createElementVNode)("div",A_,[(0,a.createElementVNode)("div",B_,[(0,a.createVNode)(m,{class:"col-12 bg-white q-pb-md no-shadow reverse"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{nodes:e.tickable,color:"primary","default-expand-all":"",ticked:e.ticked,"onUpdate:ticked":o[7]||(o[7]=o=>e.ticked=o),"tick-strategy":e.tickStrategy,filter:e.tickFilter,"node-key":"label"},null,8,["nodes","ticked","tick-strategy","filter"])])),_:1})])])])])),_:1})])),_:1},8,["modelValue"])])}]]);Z()(O_,"components",{QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QChip:sb.Z,QList:F.Z,QExpansionItem:P.Z,QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QSelect:al.Z,QFooter:Te.Z,QTree:z_.Z}),Z()(O_,"directives",{ClosePopup:J.Z});const $_={class:"u-container"},U_={row:""},Z_=(0,a.createTextVNode)("Inutilização de número NFe/NFCe"),Q_={class:"layout-padding"},R_={class:"q-mt-lg text-right"},G_={data:function(){return{metadados:Gl.Z,idEmitente:"",infInut:Rl.Z.executa(Gl.Z.infInut,{})}},methods:{async abrirModalInutilizacao(){Fo.gconsole.log("ConfiguracoesDocumentosFiscais","abrirModalInutilizacao"),this.infInut=Rl.Z.executa(Gl.Z.infInut,{tpAmb:1===await $db.configuracoes.leValorNumerico("nfce.homologacao")?"2":"1",mod:"",cUF:"",ano:tw()().format("YY"),CNPJ:"",serie:String(await $db.configuracoes.leValorNumerico("nfce.padrao.serie",1)),nNFIni:"",nNFFin:"",xJust:"Ocorreu uma falha que pulou a sequência de numeração"}),this.$refs.dialogInutilizacao.show()},async inutilizarNota(){let e="Erro na inutilização";try{Fo.gconsole.log("ConfiguracoesDocumentosFiscais","inutilizarNota",this.infInut),(0,Fo.verificarErro)(!this.infInut.CNPJ||!this.infInut.cUF,"Empresa não selecionada"),(0,Fo.verificarErro)(!this.infInut.mod,"Modelo não preenchido"),(0,Fo.verificarErro)(!this.infInut.serie,"Serie não preenchida"),(0,Fo.verificarErro)(!this.infInut.nNFIni,"Número inicial não preenchido"),(0,Fo.verificarErro)(!this.infInut.xJust,"Justificativa não preenchida"),this.infInut.nNFFin||(this.infInut.nNFFin=this.infInut.nNFIni);let o=Wl.Z.executa(Gl.Z.infInut,this.infInut);if(Wl.Z.erros.length)return void $g.modalAlerta.show({titulo:"Erro de validação",erros:Wl.Z.erros});ts.Z.show({spinner:as.Z,spinnerColor:"amber",message:"Selecionando Certificado e Trasmitindo Inutilização"}),e="Ocorreu um erro ao Transmitir";const t=await Kl.Z.inutilizar(Gl.Z,o,this.idEmpresa);if("Erro"===t.status){Fo.gconsole.log("ConfiguracoesDocumentosFiscais",t);const e=[...(t.mensagem||"").split("\n"),...(t.complemento||"").split("\n")];return void $g.modalAlerta.show({titulo:t.status,erros:e})}this.$q.notifyPositive(t.mensagem),this.$refs.dialogInutilizacao.hide()}catch(o){this.$q.notifyError(e,o)}finally{ts.Z.hide()}},async selecionarEmpresaInutilizacao(e){try{const o=e.id;if(!o)return;let t=await $db.contato.le({id:o});this.idEmpresa=o,(0,Fo.verificarErro)(!t||!t.id,"Não foi possível recuperar os dados da empresa."),(0,Fo.verificarErro)(!t.numeroDocumentoNacional,"Empresa emitente sem CNPJ cadastrado"),t.enderecos=await $db.contatoEndereco.le({idContato:o}),(0,Fo.verificarErro)(!t.enderecos||0===t.enderecos.length,"Não foi possível recuperar o endereço da empresa emitente"),t.enderecoPrincipal=t.enderecos.find((e=>"Principal"===e.grupo)),t.enderecoPrincipal||(t.enderecoPrincipal=t.enderecos[0]||{}),(0,Fo.verificarErro)(!t.enderecoPrincipal.uf,"Empresa emitente sem UF cadastrado"),this.infInut.cUF=String(Fo.mapearEstadoCodigo[(t.enderecoPrincipal.uf||"").trim()]),this.infInut.CNPJ=(0,Fo.filtrarDigitos)(t.numeroDocumentoNacional)}catch(e){this.$q.notifyError("Erro ao selecionar a empresa.",e)}}}},H_=(0,T.Z)(G_,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("SeletorContato"),m=(0,a.resolveComponent)("campo"),u=(0,a.resolveComponent)("row"),p=(0,a.resolveComponent)("q-card"),h=(0,a.resolveComponent)("q-dialog"),C=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(h,{ref:"dialogInutilizacao"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"q-dialog-plugin"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[Z_])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",icon:"close",round:""},null,512),[[C]])])),_:1}),(0,a.createElementVNode)("div",Q_,[(0,a.createElementVNode)("form",{class:"q-pa-md",onSubmit:o[6]||(o[6]=(0,a.withModifiers)(((...e)=>l.inutilizarNota&&l.inutilizarNota(...e)),["prevent"]))},[(0,a.createVNode)(u,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:e.idEmitente,"onUpdate:modelValue":o[0]||(o[0]=o=>e.idEmitente=o),col:"12",filtro:{ativo:!0,empresas:!0},rotulo:"Empresa",onSelecionar:l.selecionarEmpresaInutilizacao},null,8,["modelValue","onSelecionar"]),(0,a.createVNode)(m,{modelValue:e.infInut.mod,"onUpdate:modelValue":o[1]||(o[1]=o=>e.infInut.mod=o),col:"3",dica:e.metadados.infInut.mod._doc,opcoes:e.metadados.infInut.mod._enumeration,"rotulo-fixo":e.metadados.infInut.mod._titulo,tipo:"seletor"},null,8,["modelValue","dica","opcoes","rotulo-fixo"]),(0,a.createVNode)(m,{modelValue:e.infInut.serie,"onUpdate:modelValue":o[2]||(o[2]=o=>e.infInut.serie=o),modelModifiers:{trim:!0},col:"3",dica:e.metadados.infInut.serie._doc,rotulo:e.metadados.infInut.serie._titulo},null,8,["modelValue","dica","rotulo"]),(0,a.createVNode)(m,{modelValue:e.infInut.nNFIni,"onUpdate:modelValue":o[3]||(o[3]=o=>e.infInut.nNFIni=o),modelModifiers:{trim:!0},col:"3",dica:e.metadados.infInut.nNFIni._doc,rotulo:e.metadados.infInut.nNFIni._titulo},null,8,["modelValue","dica","rotulo"]),(0,a.createVNode)(m,{modelValue:e.infInut.nNFFin,"onUpdate:modelValue":o[4]||(o[4]=o=>e.infInut.nNFFin=o),modelModifiers:{trim:!0},col:"3",dica:e.metadados.infInut.nNFFin._doc,rotulo:e.metadados.infInut.nNFFin._titulo},null,8,["modelValue","dica","rotulo"]),(0,a.createVNode)(m,{modelValue:e.infInut.xJust,"onUpdate:modelValue":o[5]||(o[5]=o=>e.infInut.xJust=o),modelModifiers:{trim:!0},col:"12",dica:e.metadados.infInut.xJust._doc,rotulo:e.metadados.infInut.xJust._titulo,tipo:"textoArea"},null,8,["modelValue","dica","rotulo"])])),_:1}),(0,a.createElementVNode)("div",R_,[(0,a.withDirectives)((0,a.createVNode)(n,{flat:"",color:"tertiary",label:"Cancelar"},null,512),[[C]]),(0,a.createVNode)(n,{unelevated:"",color:"primary",type:"submit",label:"Inutilizar"})])],32)])])),_:1})])),_:1},512)}]]);Z()(G_,"components",{QDialog:k.Z,QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QSpinnerGears:as.Z}),Z()(G_,"directives",{ClosePopup:J.Z});const J_={components:{nfeInutilizacao:H_},data:function(){return{}},methods:{abrirModalInutilizacao(){this.$refs.modalNFeInutilizacao.abrirModalInutilizacao()},abrirModalIbpt(){Fo.gconsole.log("ConfiguracoesDocumentosFiscais","abrirModalIbpt")}}},Y_=(0,T.Z)(J_,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("nfeInutilizacao");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",$_,[(0,a.createElementVNode)("div",U_,[(0,a.createVNode)(s,{class:"q-ma-sm no-shadow",color:"primary",icon:"healing",label:"Inutilização de número NFe/NFCe",onClick:l.abrirModalInutilizacao},null,8,["onClick"])])]),(0,a.createVNode)(n,{ref:"modalNFeInutilizacao"},null,512)],64)}]]);Z()(J_,"components",{QBtn:H.Z});const X_={class:"u-container"},W_={class:"text-left q-mt-lg"},K_={row:""},ey=(0,a.createTextVNode)("Download"),oy=(0,a.createTextVNode)("Atualizar"),ty=(0,a.createTextVNode)("SPED"),ay={class:"layout-padding"},iy={class:"row q-col-gutter-x-sm"},ry=(0,a.createElementVNode)("div",{class:"col-12 q-mt-xm text-h2 text-weight-bold"},"Dados para geração do SPED fiscal",-1),ly={class:"row justify-end"},sy={data:function(){return{descricaoEmpresa:"",modalSped:!1,sped:{},spedErros:{empresa:"",dataInicio:"",dataFim:"",dataInventario:""}}},methods:{abrirModalSped(){$utils.gconsole.log("Sped","abrirModalSped"),this.modalSped=!0,this.sped={},this.spedErros={empresa:"",dataInicio:"",dataFim:"",dataInventario:""},this.descricaoEmpresa=""},async abrirmodalSpedEmpresas(){const e=await $g.promptContato.show({filtro:{ativo:!0,empresas:!0},placeholder:"Selecione a empresa"});this.selecionarEmpresa((e||{}).id)},validarSped(){return this.spedErros={empresa:this.sped.empresa?"":"Preenchimento obrigatório",dataInicio:this.sped.dataInicio?"":"Preenchimento obrigatório",dataFim:this.sped.dataFim?"":"Preenchimento obrigatório",dataInventario:this.sped.dataInventario?"":"Preenchimento obrigatório"},Object.values(this.spedErros).reduce(((e,o)=>e&&!o),!0)},async gerarSped(){try{if($utils.gconsole.log("Sped","gerarSped",this.sped),!this.validarSped())return;ts.Z.show({spinner:as.Z,spinnerColor:"amber",message:"Gerando arquivo de SPED"});const e=await $utils.executarApi("sped",this.sped);$utils.verificarErro(!e.sucesso,e.mensagem||"Erro na geração do sped"),$utils.gconsole.log("Sped",`gerarSped: ${e.mensagem}\n arquivo: ${e.nomeArquivo}`),await $utils.dormir(2e3),this.$q.notifyPositive(e.mensagem),this.modalSped=!1,this.$parent.atualizar()}catch(e){this.$q.notifyError("Erro na geração do sped",e)}finally{ts.Z.hide()}},async selecionarEmpresa(e){try{if(!e)return;const o=await $db.empresa.le({idContato:e});$utils.verificarErro(!o.length||!o[0].id,"Não foi possível recuperar os dados da empresa."),this.descricaoEmpresa=o[0].nome||"",this.sped.empresa=o[0].codigoEmpresa,this.sped.cnpj=o[0].numeroDocumentoNacional}catch(e){this.$q.notifyError("Erro ao selecionar a empresa.",e)}}}},ny=(0,T.Z)(sy,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-toolbar"),c=(0,a.resolveComponent)("q-header"),d=(0,a.resolveComponent)("campo"),m=(0,a.resolveComponent)("q-btn"),u=(0,a.resolveComponent)("q-footer"),p=(0,a.resolveComponent)("q-layout"),h=(0,a.resolveComponent)("q-dialog"),C=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(h,{modelValue:e.modalSped,"onUpdate:modelValue":o[4]||(o[4]=o=>e.modalSped=o),"content-css":{width:"100vw",maxWidth:"768px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[ty])),_:1})])),_:1})])),_:1}),(0,a.createElementVNode)("form",{onSubmit:o[3]||(o[3]=(0,a.withModifiers)(((...e)=>l.gerarSped&&l.gerarSped(...e)),["prevent"]))},[(0,a.createElementVNode)("div",ay,[(0,a.createElementVNode)("div",iy,[ry,(0,a.createVNode)(d,{"model-value":e.descricaoEmpresa,class:"col-12",before:[{icon:"search",handler:l.abrirmodalSpedEmpresas}],rotulo:"Empresa",erro:!!e.spedErros.empresa,"erro-rotulo":e.spedErros.empresa,"somente-leitura":""},null,8,["model-value","before","erro","erro-rotulo"]),(0,a.createVNode)(d,{modelValue:e.sped.dataInicio,"onUpdate:modelValue":o[0]||(o[0]=o=>e.sped.dataInicio=o),class:"col-12 col-md-6",rotulo:"Data início",erro:!!e.spedErros.dataInicio,"erro-rotulo":e.spedErros.dataInicio,tipo:"data"},null,8,["modelValue","erro","erro-rotulo"]),(0,a.createVNode)(d,{modelValue:e.sped.dataFim,"onUpdate:modelValue":o[1]||(o[1]=o=>e.sped.dataFim=o),class:"col-12 col-md-6",rotulo:"Data final",erro:!!e.spedErros.dataFim,"erro-rotulo":e.spedErros.dataFim,tipo:"data"},null,8,["modelValue","erro","erro-rotulo"]),(0,a.createVNode)(d,{modelValue:e.sped.dataInventario,"onUpdate:modelValue":o[2]||(o[2]=o=>e.sped.dataInventario=o),class:"col-12 col-md-6",rotulo:"Data inventário",erro:!!e.spedErros.dataInventario,"erro-rotulo":e.spedErros.dataInventario,tipo:"data"},null,8,["modelValue","erro","erro-rotulo"])])]),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{color:"light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ly,[(0,a.withDirectives)((0,a.createVNode)(m,{flat:"",color:"tertiary",label:"Cancelar"},null,512),[[C]]),(0,a.createVNode)(m,{unelevated:"",color:"primary",type:"submit",label:"Gerar"})])])),_:1})])),_:1})])),_:1})],32)])),_:1})])),_:1},8,["modelValue"])])}]]);Z()(sy,"components",{QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QFooter:Te.Z,QBtn:H.Z,QSpinnerGears:as.Z}),Z()(sy,"directives",{ClosePopup:J.Z});const cy={components:{Sped:ny},computed:{colunasSped(){return[{align:"left",name:"dataHoraSolicitacao",field:"dataHoraSolicitacao",label:"Data Solicitação",sortable:!0,format:this.$filters.dataHora},{align:"left",name:"situacao",field:"situacao",label:"Situacao",sortable:!0},{align:"center",name:"cnpj",field:"cnpj",label:"Empresa",sortable:!0},{align:"left",name:"dataInicio",field:"dataInicio",label:"Data Início",sortable:!0,format:this.$filters.data},{align:"left",name:"dataFim",field:"dataFim",label:"Data Fim",sortable:!0,format:this.$filters.data},{align:"left",name:"dataInventario",field:"dataInventario",label:"Data Inventário",sortable:!0,format:this.$filters.data}]}},data:function(){return{tabelaSped:[]}},methods:{abrirModalSped(){this.$refs.modalSped.abrirModalSped()},async atualizar(){Fo.gconsole.log("ConfiguracoesSped","atualizar()");try{this.tabelaSped=await ue.db.spedArquivo.leOnline()}catch(e){this.$q.notifyError("Erro na consulta dos arquivos Sped",e)}},async downloadSped(e){Fo.gconsole.log("ConfiguracoesSped","downloadSped",e);try{const i=await ue.db.spedArquivo.baixaConteudoOnline(e);Fo.gconsole.log("ConfiguracoesSped",`downloadSped\n arquivo: ${i[0].nome}\n tamanho: ${i[0].arquivo.length} kb`),(0,Fo.verificarErro)(!(i&&i.length&&i[0].nome&&i[0].arquivo),"Arquivo Sped não encontrado"),o=i[0].nome,t=i[0].arquivo,(a=document.createElement("a")).setAttribute("href","data:attachment/text;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",o),a.click()}catch(e){this.$q.notifyError("Erro na consulta do arquivo Sped",e)}var o,t,a}},created(){Fo.gconsole.log("ConfiguracoesSped","created()"),this.atualizar()}},dy=(0,T.Z)(cy,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-tooltip"),c=(0,a.resolveComponent)("q-td"),d=(0,a.resolveComponent)("q-tr"),m=(0,a.resolveComponent)("q-table"),u=(0,a.resolveComponent)("q-card"),p=(0,a.resolveComponent)("sped");return(0,a.openBlock)(),(0,a.createElementBlock)("div",X_,[(0,a.createElementVNode)("div",W_,[(0,a.createElementVNode)("div",K_,[(0,a.createVNode)(s,{class:"q-ma-sm no-shadow",color:"primary",icon:"control_point",label:"Gerar SPED fiscal",onClick:l.abrirModalSped},null,8,["onClick"])])]),(0,a.createVNode)(u,{class:"bg-white no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{title:"Histórico de arquivos Sped",rows:e.tabelaSped,columns:l.colunasSped,"row-key":"id"},{body:(0,a.withCtx)((o=>[(0,a.createVNode)(d,{props:o},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{key:"dataHoraSolicitacao",props:o},{default:(0,a.withCtx)((()=>["Arquivo gerado"===o.row.situacao?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,class:"no-shadow",color:"tertiary",size:"md",icon:"cloud_download",round:"",flat:"",onClick:e=>l.downloadSped(o.row.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[ey])),_:1})])),_:2},1032,["onClick"])):((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,class:"no-shadow",color:"tertiary",size:"md",icon:"refresh",round:"",flat:"",onClick:l.atualizar},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[oy])),_:1})])),_:1},8,["onClick"])),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.dataHora(o.row.dataHoraSolicitacao)),1)])),_:2},1032,["props"]),(0,a.createVNode)(c,{key:"situacao",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.situacao),1)])),_:2},1032,["props"]),(0,a.createVNode)(c,{key:"cnpj",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.cnpj),1)])),_:2},1032,["props"]),(0,a.createVNode)(c,{key:"dataInicio",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(o.row.dataInicio)),1)])),_:2},1032,["props"]),(0,a.createVNode)(c,{key:"dataFim",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(o.row.dataFim)),1)])),_:2},1032,["props"]),(0,a.createVNode)(c,{key:"dataInventario",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(o.row.dataInventario)),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])),_:1}),(0,a.createVNode)(p,{ref:"modalSped"},null,512)])}]]);Z()(cy,"components",{QBtn:H.Z,QCard:D.Z,QTable:nr.Z,QTr:rl.Z,QTd:sl.Z,QTooltip:Ao.Z});const my={class:"text-left q-mt-lg u-container"},uy={class:"q-card bg-white q-my-md no-shadow"},py={class:"q-mt-md text-center"},hy={class:"q-card bg-white no-shadow q-mb-md q-px-md q-pb-md"},Cy={class:"col-12"},vy=(0,a.createElementVNode)("div",{class:"col"},"Finalidade",-1),fy={class:"col"},Ny=(0,a.createElementVNode)("div",{class:"col"},"     ",-1),Vy=(0,a.createElementVNode)("div",{class:"col"},"     ",-1),gy=(0,a.createElementVNode)("div",{class:"col"},"     ",-1),xy={class:"q-card bg-white no-shadow q-mb-md q-px-md q-pb-md"},by={class:"col-12"},wy=(0,a.createTextVNode)("PJ Contribuinte"),_y=(0,a.createElementVNode)("div",{class:"col-12 col-md"},"     ",-1),yy=(0,a.createElementVNode)("div",{class:"col-6 col-md"},[(0,a.createElementVNode)("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Interna")],-1),Iy=(0,a.createElementVNode)("div",{class:"col-6 col-md"},[(0,a.createElementVNode)("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Interna ST")],-1),Ey=(0,a.createElementVNode)("div",{class:"col-6 col-md"},[(0,a.createElementVNode)("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Interestadual")],-1),Sy=(0,a.createElementVNode)("div",{class:"col-6 col-md"},[(0,a.createElementVNode)("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Interestadual ST")],-1),My={class:"col-12 col-md"},Ty={class:"col-6 col-md"},ky={class:"col-6 col-md"},Dy={class:"col-6 col-md"},qy={class:"col-6 col-md"},Fy={key:0,class:"q-card bg-white no-shadow q-mb-md q-px-md q-pb-md"},Py={class:"col-12"},Ay=(0,a.createTextVNode)("PF/PJ Não Contribuinte"),By=(0,a.createElementVNode)("div",{class:"col-12 col-md"},"     ",-1),Ly=(0,a.createElementVNode)("div",{class:"col-6 col-md"},[(0,a.createElementVNode)("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Interna")],-1),Oy=(0,a.createElementVNode)("div",{class:"col-6 col-md"},[(0,a.createElementVNode)("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Interna ST")],-1),zy=(0,a.createElementVNode)("div",{class:"col-6 col-md"},[(0,a.createElementVNode)("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Interestadual")],-1),jy=(0,a.createElementVNode)("div",{class:"col-6 col-md"},[(0,a.createElementVNode)("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Interestadual ST")],-1),$y={class:"col-12 col-md"},Uy={class:"col-6 col-md"},Zy={class:"col-6 col-md"},Qy={class:"col-6 col-md"},Ry={class:"col-6 col-md"};var Gy=t(19017);const Hy={id:"",descricao:"",finalidade:100,json:{contribuinte:[{descricao:"Venda",interna:"",internaST:"",interestadual:"",interestadualST:""},{descricao:"Devolução",interna:"",internaST:"",interestadual:"",interestadualST:""}],naoContribuinte:[{descricao:"Venda",interna:"",internaST:"",interestadual:"",interestadualST:""},{descricao:"Devolução",interna:"",internaST:"",interestadual:"",interestadualST:""}]}},Jy={show:!1,titulo:"",documento:{}},Yy={components:{SeletorCfop:Gy.Z},data:()=>({documentos:[],columnsContribuinte:[],columnsNaoContribuinte:[],opcoesFinalidade:[],modal:{},validations:{}}),methods:{async atualizar(){this.modal=$utils.clonarV2(Jy);try{const e=await $db.documentoOperacao.ler();for(const o of e)o.json?o.json=JSON.parse(o.json):o.json=$utils.clonarV2(Hy.json);this.documentos=e}catch(e){console.log(e)}},alterar(e){const o=this.documentos.find((o=>o.id===e));this.modal.documento=$utils.clonarV2(o),this.modal.titulo="Alterar operação",this.modal.show=!0},descricaoFinalidade(e){const o=this.documentos.find((o=>o.id===e));return this.opcoesFinalidade.find((e=>e.value===o.finalidade))?.label},inserir(){this.modal.documento=$utils.clonarV2(Hy),this.modal.documento.id=$utils.uuid(),this.modal.titulo="Inserir operação",this.modal.show=!0},async ativarDesativar(e){const o=this.documentos.find((o=>o.id===e)),t={};t.original={id:o.id,ativo:!o.ativo},t.atual={id:o.id,ativo:o.ativo};try{await $db.documentoOperacao.gravar(t)}catch(e){console.log(e)}},async salvar(){if(!this.modal.documento.finalidade)return void $q.notify({message:"Selecione a finalidade",type:"negative"});const e=this.documentos.find((e=>e.id===this.modal.documento.id)),o={};e&&(o.original=$utils.clonarV2(e),o.original.json=JSON.stringify(o.original.json)),o.atual=$utils.clonarV2(this.modal.documento),o.atual.json=JSON.stringify(o.atual.json);try{await $db.documentoOperacao.gravar(o)}catch(e){console.log(e)}finally{this.atualizar()}},voltar(e){e.stopPropagation();const o=this.documentos.find((e=>e.id===this.modal.documento.id));let t={};o||(t=$utils.diferencaObjetos(Hy,this.modal.documento)),o&&(t=$utils.diferencaObjetos(o,this.modal.documento)),delete t.id,console.log("diferenca: ",t),Object.keys(t).length?$q.dialog({message:"Deseja descartar as modificações?",title:"Descartar",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Descartar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{this.modal=$utils.clonarV2(Jy)})):this.modal=$utils.clonarV2(Jy)}},async beforeMount(){this.columnsContribuinte=[{name:"descricao",align:"left",label:"PJ Contribuinte",field:"descricao",sortable:!1},{name:"interna",align:"left",label:"Interna",field:"interna",sortable:!1},{name:"internaST",align:"left",label:"Interna ST",field:"internaST",sortable:!1},{name:"interestadual",align:"left",label:"Interestadual",field:"interestadual",sortable:!1},{name:"interestadualST",align:"left",label:"Interestadual ST",field:"interestadualST",sortable:!1}],this.columnsNaoContribuinte=[{name:"descricao",align:"left",label:"PF/PJ Não Contribuinte",field:"descricao",sortable:!1},{name:"interna",align:"left",label:"Interna",field:"interna",sortable:!1},{name:"internaST",align:"left",label:"Interna ST",field:"internaST",sortable:!1},{name:"interestadual",align:"left",label:"Interestadual",field:"interestadual",sortable:!1},{name:"interestadualST",align:"left",label:"Interestadual ST",field:"interestadualST",sortable:!1}],this.opcoesFinalidade=[{label:"Revenda",value:99},{label:"Consumo",value:100}],this.validations={required:[e=>e.length||"Campo obrigatório"]},this.atualizar()}};var Xy=t(89891);const Wy=(0,T.Z)(Yy,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-badge"),n=(0,a.resolveComponent)("q-tooltip"),c=(0,a.resolveComponent)("q-item-section"),d=(0,a.resolveComponent)("q-btn"),m=(0,a.resolveComponent)("q-toggle"),u=(0,a.resolveComponent)("row"),p=(0,a.resolveComponent)("q-item"),h=(0,a.resolveComponent)("q-table"),C=(0,a.resolveComponent)("q-list"),v=(0,a.resolveComponent)("q-expansion-item"),f=(0,a.resolveComponent)("q-toolbar-title"),N=(0,a.resolveComponent)("q-toolbar"),V=(0,a.resolveComponent)("q-header"),g=(0,a.resolveComponent)("q-input"),x=(0,a.resolveComponent)("q-btn-toggle"),b=(0,a.resolveComponent)("SeletorCfop"),w=(0,a.resolveComponent)("q-card"),_=(0,a.resolveComponent)("q-page"),y=(0,a.resolveComponent)("q-page-container"),I=(0,a.resolveComponent)("q-form"),E=(0,a.resolveComponent)("q-layout"),S=(0,a.resolveComponent)("q-dialog");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",my,[(0,a.createElementVNode)("div",uy,[(0,a.createVNode)(v,{group:"somegroup",icon:"explore",label:"Operações",class:"border-1 q-my-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{highlight:"",class:"q-ma-sm q-pb-md"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.documentos,(e=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:e.id},[(0,a.createVNode)(p,{class:"row u-separador q-my-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{color:e.ativo?"positive":"tertiary",small:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)(e.id.slice(-6)),1)])),_:2},1032,["color"]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.ativo?"Ativado":"Desativado"),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.descricao),1)])),_:2},1024),(0,a.createVNode)(c,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{color:"tertiary",small:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.descricaoFinalidade(e.id)),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(c,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"q-col-gutter-x-sm itens-end"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:o=>l.alterar(e.id)},null,8,["onClick"]),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(m,{modelValue:e.ativo,"onUpdate:modelValue":[o=>e.ativo=o,o=>l.ativarDesativar(e.id)],"checked-icon":"check",color:"green","unchecked-icon":"clear"},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024)])),_:2},1024)])),_:2},1024),e.json?((0,a.openBlock)(),(0,a.createBlock)(p,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"q-col-gutter-md q-mb-md"},{default:(0,a.withCtx)((()=>[e.json.contribuinte[0].interna?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,dense:"",flat:"",rows:e.json.contribuinte,columns:r.columnsContribuinte,"row-key":"descricao",class:"col-xs-12 col-md-6","hide-bottom":""},null,8,["rows","columns"])):(0,a.createCommentVNode)("",!0),e.json.naoContribuinte[0].interna?((0,a.openBlock)(),(0,a.createBlock)(h,{key:1,dense:"",flat:"",rows:e.json.naoContribuinte,columns:r.columnsNaoContribuinte,"row-key":"descricao",class:"col-xs-12 col-md-6","hide-bottom":""},null,8,["rows","columns"])):(0,a.createCommentVNode)("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)):(0,a.createCommentVNode)("",!0)],64)))),128)),(0,a.createElementVNode)("div",py,[(0,a.createVNode)(d,{color:"positive",icon:"add",label:"Operação",outline:"",size:"sm",onClick:l.inserir},null,8,["onClick"])])])),_:1})])),_:1})])]),(0,a.createVNode)(S,{modelValue:r.modal.show,"onUpdate:modelValue":o[2]||(o[2]=e=>r.modal.show=e),maximized:"","content-css":{maxWidth:"80vw"},persistent:"",onKeyup:(0,a.withKeys)(l.voltar,["esc"])},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{onSubmit:l.salvar},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{dense:"",flat:"",icon:"arrow_back",round:"",onClick:l.voltar},null,8,["onClick"]),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.modal.titulo),1)])),_:1}),(0,a.createVNode)(d,{class:"bg-white text-primary",label:"Salvar",unelevated:"",type:"submit"})])),_:1})])),_:1}),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"u-container q-pt-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",hy,[(0,a.createVNode)(u,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Cy,[(0,a.createVNode)(g,{modelValue:r.modal.documento.descricao,"onUpdate:modelValue":o[0]||(o[0]=e=>r.modal.documento.descricao=e),label:"Descrição",rules:r.validations.required},null,8,["modelValue","rules"])])])),_:1}),(0,a.createVNode)(u,{class:"items-center q-mt-md"},{default:(0,a.withCtx)((()=>[vy,(0,a.createElementVNode)("div",fy,[(0,a.createVNode)(x,{unelevated:"",modelValue:r.modal.documento.finalidade,"onUpdate:modelValue":o[1]||(o[1]=e=>r.modal.documento.finalidade=e),"toggle-color":"primary",options:r.opcoesFinalidade},null,8,["modelValue","options"])]),Ny,Vy,gy])),_:1})]),(0,a.createElementVNode)("div",xy,[(0,a.createVNode)(u,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",by,[(0,a.createVNode)(w,{class:"no-shadow rounded-borders"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[wy])),_:1})])),_:1}),(0,a.createVNode)(u,{class:"items-center q-col-gutter-md"},{default:(0,a.withCtx)((()=>[_y,yy,Iy,Ey,Sy])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.modal.documento.json.contribuinte,(e=>((0,a.openBlock)(),(0,a.createBlock)(u,{key:e.descricao,class:"items-center q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",My,(0,a.toDisplayString)(e.descricao),1),(0,a.createElementVNode)("div",Ty,[(0,a.createVNode)(b,{modelValue:e.interna,"onUpdate:modelValue":o=>e.interna=o,rules:r.validations.required},null,8,["modelValue","onUpdate:modelValue","rules"])]),(0,a.createElementVNode)("div",ky,[(0,a.createVNode)(b,{modelValue:e.internaST,"onUpdate:modelValue":o=>e.internaST=o,rules:r.validations.required},null,8,["modelValue","onUpdate:modelValue","rules"])]),(0,a.createElementVNode)("div",Dy,[(0,a.createVNode)(b,{modelValue:e.interestadual,"onUpdate:modelValue":o=>e.interestadual=o,rules:r.validations.required},null,8,["modelValue","onUpdate:modelValue","rules"])]),(0,a.createElementVNode)("div",qy,[(0,a.createVNode)(b,{modelValue:e.interestadualST,"onUpdate:modelValue":o=>e.interestadualST=o,rules:r.validations.required},null,8,["modelValue","onUpdate:modelValue","rules"])])])),_:2},1024)))),128))])),_:1})])])),_:1})]),100===r.modal.documento.finalidade?((0,a.openBlock)(),(0,a.createElementBlock)("div",Fy,[(0,a.createVNode)(u,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Py,[(0,a.createVNode)(w,{class:"no-shadow rounded-borders"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[Ay])),_:1})])),_:1}),(0,a.createVNode)(u,{class:"items-center q-col-gutter-md"},{default:(0,a.withCtx)((()=>[By,Ly,Oy,zy,jy])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.modal.documento.json.naoContribuinte,(e=>((0,a.openBlock)(),(0,a.createBlock)(u,{key:e.descricao,class:"items-center q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",$y,(0,a.toDisplayString)(e.descricao),1),(0,a.createElementVNode)("div",Uy,[(0,a.createVNode)(b,{modelValue:e.interna,"onUpdate:modelValue":o=>e.interna=o,rules:r.validations.required},null,8,["modelValue","onUpdate:modelValue","rules"])]),(0,a.createElementVNode)("div",Zy,[(0,a.createVNode)(b,{modelValue:e.internaST,"onUpdate:modelValue":o=>e.internaST=o,rules:r.validations.required},null,8,["modelValue","onUpdate:modelValue","rules"])]),(0,a.createElementVNode)("div",Qy,[(0,a.createVNode)(b,{modelValue:e.interestadual,"onUpdate:modelValue":o=>e.interestadual=o,rules:r.validations.required},null,8,["modelValue","onUpdate:modelValue","rules"])]),(0,a.createElementVNode)("div",Ry,[(0,a.createVNode)(b,{modelValue:e.interestadualST,"onUpdate:modelValue":o=>e.interestadualST=o,rules:r.validations.required},null,8,["modelValue","onUpdate:modelValue","rules"])])])),_:2},1024)))),128))])),_:1})])])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue","onKeyup"])],64)}]]);Z()(Yy,"components",{QCard:D.Z,QExpansionItem:P.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QBadge:B.Z,QTooltip:Ao.Z,QBtn:H.Z,QToggle:il.Z,QTable:nr.Z,QDialog:k.Z,QLayout:ae.Z,QForm:fo.Z,QHeader:ie.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QPageContainer:le.Z,QPage:se.Z,QInput:re.Z,QBtnToggle:Xy.Z});const Ky={class:"text-left q-mt-lg u-container"},eI={class:"q-card bg-white q-my-md no-shadow"},oI={class:"q-gutter-xs"},tI=(0,a.createTextVNode)("NCM"),aI=["innerHTML"],iI=(0,a.createTextVNode)("Descrição"),rI=["innerHTML"],lI=(0,a.createTextVNode)("CEST"),sI=(0,a.createTextVNode)("ST"),nI=(0,a.createTextVNode)("Vigência Inicial"),cI=(0,a.createTextVNode)("Vigência Final"),dI={class:"q-card bg-white no-shadow q-mb-md q-px-md q-pb-md"},mI={class:"col-12"},uI={class:"q-card bg-white no-shadow q-mb-md q-px-md q-pb-md"},pI={class:"col-12"},hI=(0,a.createTextVNode)("Substituição Tributária por UF"),CI={id:"",ncm:"",descricao:"",cest:"",dataVigenteInicial:"",dataVigenteFinal:"",json:[]},vI={show:!1,titulo:"",ncm:{}},fI={data:()=>({columnsNCM:[],ncms:[],ncmsFiltrados:[],ufsDescricao:[],ufsNcm:[],pagination:{},fullText:{},termoBusca:"",modal:{},validations:{},loading:!1,hint:{}}),methods:{async atualizar(){try{this.loading=!0;const e=await $db.ncm.ler();this.obterJson(e),this.obterTermos(e),this.ncms=e,await this.buscar()}catch(e){console.log(e)}finally{this.loading=!1}},alterar(e){const o=this.ncms.find((o=>o.id===e));this.obterUfs(o),this.modal.ncm=$utils.clonarV2(o),this.modal.titulo="Alterar NCM",this.modal.show=!0},async buscar(){try{if(this.loading=!0,await $utils.dormir(500),!this.termoBusca.trim())return void(this.ncmsFiltrados=$utils.clonarV2(this.ncms));let e=$utils.removerAcentos(this.termoBusca).toLowerCase().trim().replace(/\s+/g," ").split(" ");if(this.hint.show=!1,!e.find((e=>e.length>=3)))return void(this.hint.show=!0);e=Array.from(new Set(e)),e.sort(((e,o)=>e.length<o.length?1:-1));const o=[];for(const t in this.fullText){const a=this.fullText[t];if(!a)continue;let i=!0;for(const o of e)if(!~a.indexOf(o)){i=!1;break}if(!i)continue;const r=$utils.clonarV2(this.ncms.find((e=>e.id===t)));o.push(r),this.destacarTexto(["ncm","descricao"],r,e)}this.ncmsFiltrados=o}catch(e){console.log(e)}finally{this.loading=!1}},descricaoST(e){const o=this.ncms.find((o=>o.id===e)),t=[];for(const e of o?.json||[])t.push(e);return t.sort(((e,o)=>e<o?-1:1)),t.join(", ")},descricaoUF(e){const o=this.ufsDescricao.find((o=>o.sigla===e));return`${o.nome} (${o.sigla})`},inserir(){const e=$utils.clonarV2(CI);this.obterUfs(e),this.modal.ncm=$utils.clonarV2(CI),this.modal.ncm.id=$utils.uuid(),this.modal.titulo="Inserir NCM",this.modal.show=!0},obterJson(e){for(const o of e)o.json?o.json=JSON.parse(o.json):o.json=$utils.clonarV2(CI.json)},destacarTexto(e,o,t){for(const a of e){const e=$utils.removerAcentos(o[a]||"").toLowerCase(),i=[];for(const o of t){const t=new RegExp(o,"g");for(const a of[...e.matchAll(t)].map((e=>e.index)))i.push({from:a,length:o.length})}i.sort(((e,o)=>e.from<o.from?-1:1));let r=0;for(;i.length>1&&!(r+1>=i.length);)i[r].from+i[r].length>i[r+1].from?(i[r].length=i[r].length>i[r+1].length?i[r].length:i[r+1].length,i.splice(r+1,1),r=0):r++;let l=o[a].substr(0,i[0]?.from||0);for(let e=0;e<i.length;e++){l+='<mark style="background-color:#fafcb8 !important">'+o[a].substr(i[e].from,i[e].length)+"</mark>";const t=i[e].from+i[e].length,r=(i[e+1]?.from||t)-t;l+=o[a].substr(t,r)}const s=i.length-1,n=(i[s]?.from||0)+(i[s]?.length||0);l+=o[a].substr(n,o[a].length),o[a]=l}},obterTermos(e){this.fullText=[];for(const o of e)this.fullText[o.id]=`${o.ncm} ${$utils.removerAcentos(o.descricao)}`.toLowerCase()},obterUfs(e){const o=[{uf:"AC",st:!1},{uf:"AL",st:!1},{uf:"AP",st:!1},{uf:"AM",st:!1},{uf:"BA",st:!1},{uf:"CE",st:!1},{uf:"DF",st:!1},{uf:"ES",st:!1},{uf:"GO",st:!1},{uf:"MA",st:!1},{uf:"MT",st:!1},{uf:"MS",st:!1},{uf:"MG",st:!1},{uf:"PA",st:!1},{uf:"PB",st:!1},{uf:"PR",st:!1},{uf:"PE",st:!1},{uf:"PI",st:!1},{uf:"RJ",st:!1},{uf:"RN",st:!1},{uf:"RS",st:!1},{uf:"RO",st:!1},{uf:"RR",st:!1},{uf:"SC",st:!1},{uf:"SP",st:!1},{uf:"SE",st:!1},{uf:"TO",st:!1}];if((e.json||[]).length){for(const t of e.json){const e=o.find((e=>e.uf===t));e&&(e.st=!0)}this.ufsNcm=$utils.clonarV2(o)}else this.ufsNcm=$utils.clonarV2(o)},async remover(e){try{await new Promise(((e,o)=>{$q.dialog({cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},title:"Remover",message:"Deseja remover o NCM?",ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{e()})).onCancel((()=>{o()}))}))}catch(e){return}try{const o=this.ncms.find((o=>o.id===e));await $db.ncm.remover(o)}catch(e){console.log(e)}finally{this.atualizar()}},async salvar(){const e=this.ncms.find((e=>e.id===this.modal.ncm.id)),o={};e&&(o.original=$utils.clonarV2(e),o.original.json=JSON.stringify(o.original.json)),o.atual=$utils.clonarV2(this.modal.ncm),o.atual.json=[];for(const e of this.ufsNcm)e.st&&o.atual.json.push(e.uf);o.atual.json=JSON.stringify(o.atual.json);try{await $db.ncm.gravar(o)}catch(e){console.log(e)}finally{this.modal=$utils.clonarV2(vI),this.atualizar()}},voltar(e){e.stopPropagation();const o=this.ncms.find((e=>e.id===this.modal.ncm.id));let t={};o||(t=$utils.diferencaObjetos(CI,this.modal.ncm)),o&&(t=$utils.diferencaObjetos(o,this.modal.ncm)),delete t.id,Object.keys(t).length?$q.dialog({message:"Deseja descartar as modificações?",title:"Descartar",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Descartar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{this.modal=$utils.clonarV2(vI)})):this.modal=$utils.clonarV2(vI)}},async beforeMount(){this.pagination={rowsPerPage:25},this.columnsNCM=[{name:"id",align:"left",label:"ID",field:"id",sortable:!1},{name:"ncm",align:"left",label:"NCM",field:"ncm",sortable:!1},{name:"descricao",align:"left",label:"Descrição",field:"descricao",sortable:!1},{name:"cest",align:"left",label:"CEST",field:"cest",sortable:!1},{name:"dataVigenteInicial",align:"left",label:"Vigência",field:"dataVigenteInicial",sortable:!1},{name:"alterar",align:"left",label:"Alterar",sortable:!1},{name:"remover",align:"left",label:"Remover",sortable:!1}],this.ufsDescricao=[{nome:"Acre",sigla:"AC"},{nome:"Alagoas",sigla:"AL"},{nome:"Amapá",sigla:"AP"},{nome:"Amazonas",sigla:"AM"},{nome:"Bahia",sigla:"BA"},{nome:"Ceará",sigla:"CE"},{nome:"Distrito Federal",sigla:"DF"},{nome:"Espírito Santo",sigla:"ES"},{nome:"Goiás",sigla:"GO"},{nome:"Maranhão",sigla:"MA"},{nome:"Mato Grosso",sigla:"MT"},{nome:"Mato Grosso do Sul",sigla:"MS"},{nome:"Minas Gerais",sigla:"MG"},{nome:"Pará",sigla:"PA"},{nome:"Paraíba",sigla:"PB"},{nome:"Paraná",sigla:"PR"},{nome:"Pernambuco",sigla:"PE"},{nome:"Piauí",sigla:"PI"},{nome:"Rio de Janeiro",sigla:"RJ"},{nome:"Rio Grande do Norte",sigla:"RN"},{nome:"Rio Grande do Sul",sigla:"RS"},{nome:"Rondônia",sigla:"RO"},{nome:"Roraima",sigla:"RR"},{nome:"Santa Catarina",sigla:"SC"},{nome:"São Paulo",sigla:"SP"},{nome:"Sergipe",sigla:"SE"},{nome:"Tocantins",sigla:"TO"}],this.validations={required:[e=>e.length||"Campo obrigatório"],ncm:[e=>e.length||"Campo obrigatório",e=>e.length>=8||"O NCM deve ser composto de 8 dígitos",e=>{const o=this.ncms.find((o=>o.ncm===e));return!o||o.id===this.modal.ncm.id||"NCM já existente"}]},this.hint={msg:"Para pesquisar digite termo(s) com 3 caracteres ou mais",show:!1},this.modal=$utils.clonarV2(vI),this.atualizar()}},NI=(0,T.Z)(fI,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-input"),c=(0,a.resolveComponent)("q-btn"),d=(0,a.resolveComponent)("q-badge"),m=(0,a.resolveComponent)("q-card-section"),u=(0,a.resolveComponent)("q-item-label"),p=(0,a.resolveComponent)("q-item-section"),h=(0,a.resolveComponent)("q-item"),C=(0,a.resolveComponent)("q-list"),v=(0,a.resolveComponent)("q-card"),f=(0,a.resolveComponent)("q-table"),N=(0,a.resolveComponent)("q-expansion-item"),V=(0,a.resolveComponent)("q-toolbar-title"),g=(0,a.resolveComponent)("q-toolbar"),x=(0,a.resolveComponent)("q-header"),b=(0,a.resolveComponent)("campo"),w=(0,a.resolveComponent)("row"),_=(0,a.resolveComponent)("q-toggle"),y=(0,a.resolveComponent)("q-page"),I=(0,a.resolveComponent)("q-page-container"),E=(0,a.resolveComponent)("q-form"),S=(0,a.resolveComponent)("q-layout"),M=(0,a.resolveComponent)("q-dialog");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",Ky,[(0,a.createElementVNode)("div",eI,[(0,a.createVNode)(N,{group:"somegroup",icon:"explore",label:"NCM",class:"border-1 q-my-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{highlight:"",class:"q-ma-sm q-pb-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{dense:"",flat:"",rows:r.ncmsFiltrados,columns:r.columnsNCM,pagination:r.pagination,class:"col-xs-12 col-md-6",grid:"",loading:r.loading},{"top-right":(0,a.withCtx)((()=>[(0,a.createVNode)(n,{outlined:"",dense:"",debounce:"300",modelValue:r.termoBusca,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.termoBusca=e),l.buscar],placeholder:"Pesquisar",hint:r.hint.show?r.hint.msg:""},{append:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"search"})])),_:1},8,["modelValue","onUpdate:modelValue","hint"])])),"top-left":(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",oI,[(0,a.createVNode)(c,{icon:"refresh",outline:"",size:"sm",onClick:l.atualizar},null,8,["onClick"]),(0,a.createVNode)(c,{color:"positive",icon:"add",label:"NCM",outline:"",size:"sm",onClick:l.inserir},null,8,["onClick"])])])),item:(0,a.withCtx)((o=>[(0,a.createVNode)(v,{class:"my-card",flat:"",bordered:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"row justify-between"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"positive",small:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)(o.row.id.slice(-6)),1)])),_:2},1024),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(c,{color:"primary",dense:"",flat:"",size:"sm",icon:"edit",round:"",onClick:e=>l.alterar(o.row.id)},null,8,["onClick"])])])),_:2},1024),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[tI])),_:1}),(0,a.createVNode)(u,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("span",{innerHTML:o.row.ncm},null,8,aI)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[iI])),_:1}),(0,a.createVNode)(u,{caption:"",class:"word-break"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("span",{innerHTML:o.row.descricao},null,8,rI)])),_:2},1024)])),_:2},1024)])),_:2},1024),(o.row.cest||"").trim()?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[lI])),_:1}),(0,a.createVNode)(u,{caption:"",class:"word-break"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.cest),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)):(0,a.createCommentVNode)("",!0),l.descricaoST(o.row.id)?((0,a.openBlock)(),(0,a.createBlock)(h,{key:1},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[sI])),_:1}),(0,a.createVNode)(u,{caption:"",class:"word-break"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.descricaoST(o.row.id)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(o.row.dataVigenteInicial||"").trim()?((0,a.openBlock)(),(0,a.createBlock)(p,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[nI])),_:1}),(0,a.createVNode)(u,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(o.row.dataVigenteInicial)),1)])),_:2},1024)])),_:2},1024)):(0,a.createCommentVNode)("",!0),(o.row.dataVigenteFinal||"").trim()?((0,a.openBlock)(),(0,a.createBlock)(p,{key:1},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[cI])),_:1}),(0,a.createVNode)(u,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(o.row.dataVigenteFinal)),1)])),_:2},1024)])),_:2},1024)):(0,a.createCommentVNode)("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:1},8,["rows","columns","pagination","loading"])])),_:1})])),_:1})])]),(0,a.createVNode)(M,{modelValue:r.modal.show,"onUpdate:modelValue":o[6]||(o[6]=e=>r.modal.show=e),maximized:"","content-css":{maxWidth:"80vw"},persistent:"",onKeyup:(0,a.withKeys)(l.voltar,["esc"])},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,{onSubmit:l.salvar},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{dense:"",flat:"",icon:"arrow_back",round:"",onClick:l.voltar},null,8,["onClick"]),(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.modal.titulo),1)])),_:1}),(0,a.createVNode)(c,{class:"bg-white text-primary",label:"Salvar",unelevated:"",type:"submit"})])),_:1})])),_:1}),(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{class:"u-container q-pt-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",dI,[(0,a.createVNode)(w,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",mI,[(0,a.createVNode)(n,{modelValue:r.modal.ncm.ncm,"onUpdate:modelValue":o[1]||(o[1]=e=>r.modal.ncm.ncm=e),mask:"########",maxlength:"8",label:"NCM",rules:r.validations.ncm},null,8,["modelValue","rules"]),(0,a.createVNode)(n,{modelValue:r.modal.ncm.descricao,"onUpdate:modelValue":o[2]||(o[2]=e=>r.modal.ncm.descricao=e),maxlength:"500",label:"Descrição",rules:r.validations.required},null,8,["modelValue","rules"]),(0,a.createVNode)(n,{modelValue:r.modal.ncm.cest,"onUpdate:modelValue":o[3]||(o[3]=e=>r.modal.ncm.cest=e),maxlength:"135",label:"CEST"},null,8,["modelValue"]),(0,a.createVNode)(b,{modelValue:r.modal.ncm.dataVigenteInicial,"onUpdate:modelValue":o[4]||(o[4]=e=>r.modal.ncm.dataVigenteInicial=e),tipo:"data",rotulo:"Vigência Inicial"},null,8,["modelValue"]),(0,a.createVNode)(b,{modelValue:r.modal.ncm.dataVigenteFinal,"onUpdate:modelValue":o[5]||(o[5]=e=>r.modal.ncm.dataVigenteFinal=e),tipo:"data",rotulo:"Vigência Final"},null,8,["modelValue"])])])),_:1})]),(0,a.createElementVNode)("div",uI,[(0,a.createVNode)(w,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",pI,[(0,a.createVNode)(v,{class:"no-shadow rounded-borders"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[hI])),_:1})])),_:1}),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(C,{bordered:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.ufsNcm,(e=>((0,a.openBlock)(),(0,a.createBlock)(h,{key:e.uf},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.descricaoUF(e.uf)),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(p,{side:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{color:"blue",modelValue:e.st,"onUpdate:modelValue":o=>e.st=o,val:"1"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])])),_:1})])])),_:1})])])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue","onKeyup"])],64)}],["__scopeId","data-v-0fcd7072"]]);Z()(fI,"components",{QCard:D.Z,QExpansionItem:P.Z,QList:F.Z,QTable:nr.Z,QInput:re.Z,QIcon:L.Z,QBtn:H.Z,QCardSection:q.Z,QBadge:B.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z,QDialog:k.Z,QLayout:ae.Z,QForm:fo.Z,QHeader:ie.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QPageContainer:le.Z,QPage:se.Z,QToggle:il.Z});const VI={components:{Operacoes:Wy,NCM:NI}},gI=(0,T.Z)(VI,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("Operacoes"),n=(0,a.resolveComponent)("NCM");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(s),(0,a.createVNode)(n)],64)}]]),xI={class:"text-left q-mt-lg u-container"},bI={row:""},wI={class:"q-card bg-white q-pa-sm q-my-md no-shadow"},_I={class:"row"},yI={class:"col-12 col-lg-3"},II=(0,a.createElementVNode)("div",{class:"col-7 q-pl-sm"}," Level 1 ",-1),EI={class:"col-5 text-right"},SI={key:0,class:"col-12 bg-white"},MI=(0,a.createElementVNode)("div",{class:"col-7 q-pl-sm"}," Level 2 ",-1),TI={class:"col-5 text-right"},kI={key:0,class:"col-12 bg-white"},DI=(0,a.createElementVNode)("div",{class:"col-7 q-pl-sm"}," Level 3 ",-1),qI={class:"col-5 text-right"},FI={key:0,class:"col-12 bg-white"},PI=(0,a.createElementVNode)("div",{class:"col-6 q-pl-sm"}," Level 4 ",-1),AI={class:"col-6 text-right"},BI={key:0,class:"col-12 bg-white"},LI=(0,a.createElementVNode)("div",{class:"col-7 q-pl-sm"}," Level 5 ",-1),OI={class:"col-5 text-right"},zI={class:"col-12 col-lg-3"},jI=(0,a.createElementVNode)("div",{class:"col-7 q-pl-sm"}," Level 1 ",-1),$I={class:"col-5 text-right"},UI={key:0,class:"col-12 bg-white"},ZI=(0,a.createElementVNode)("div",{class:"col-7 q-pl-sm"}," Level 2 ",-1),QI={class:"col-5 text-right"},RI={key:0,class:"col-12 bg-white"},GI=(0,a.createElementVNode)("div",{class:"col-7 q-pl-sm"}," Level 3 ",-1),HI={class:"col-5 text-right"},JI={key:0,class:"col-12 bg-white"},YI=(0,a.createElementVNode)("div",{class:"col-6 q-pl-sm"}," Level 4 ",-1),XI={class:"col-6 text-right"},WI={key:0,class:"col-12 bg-white"},KI=(0,a.createElementVNode)("div",{class:"col-7 q-pl-sm"}," Level 5 ",-1),eE={class:"col-5 text-right"},oE={class:"col-12 col-lg-3"},tE=(0,a.createElementVNode)("div",{class:"col-7 q-pl-sm"}," Level 1 ",-1),aE={class:"col-5 text-right"},iE={key:0,class:"col-12 bg-white"},rE=(0,a.createElementVNode)("div",{class:"col-7 q-pl-sm"}," Level 2 ",-1),lE={class:"col-5 text-right"},sE={key:0,class:"col-12 bg-white"},nE=(0,a.createElementVNode)("div",{class:"col-7 q-pl-sm"}," Level 3 ",-1),cE={class:"col-5 text-right"},dE={key:0,class:"col-12 bg-white"},mE=(0,a.createElementVNode)("div",{class:"col-6 q-pl-sm"}," Level 4 ",-1),uE={class:"col-6 text-right"},pE={key:0,class:"col-12 bg-white"},hE=(0,a.createElementVNode)("div",{class:"col-7 q-pl-sm"}," Level 5 ",-1),CE={class:"col-5 text-right"},vE={class:"col-12 col-lg-3"},fE=(0,a.createElementVNode)("div",{class:"col-7 q-pl-sm"}," Level 1 ",-1),NE={class:"col-5 text-right"},VE={key:0,class:"col-12 bg-white"},gE=(0,a.createElementVNode)("div",{class:"col-7 q-pl-sm"}," Level 2 ",-1),xE={class:"col-5 text-right"},bE={key:0,class:"col-12 bg-white"},wE=(0,a.createElementVNode)("div",{class:"col-7 q-pl-sm"}," Level 3 ",-1),_E={class:"col-5 text-right"},yE={key:0,class:"col-12 bg-white"},IE=(0,a.createElementVNode)("div",{class:"col-6 q-pl-sm"}," Level 4 ",-1),EE={class:"col-6 text-right"},SE={key:0,class:"col-12 bg-white"},ME=(0,a.createElementVNode)("div",{class:"col-7 q-pl-sm"}," Level 5 ",-1),TE={class:"col-5 text-right"},kE={class:"text-center q-mt-lg"},DE={class:"q-card bg-white q-pa-sm q-my-md no-shadow"},qE=(0,a.createElementVNode)("div",{class:"col-9 col-lg-10 q-pl-sm"}," Descrição ",-1),FE={class:"col-3 col-lg-2 text-right"},PE={key:0,class:"col-12 bg-white"},AE=(0,a.createElementVNode)("div",{class:"u-container"},[(0,a.createElementVNode)("div",{class:"row q-col-gutter-x-sm q-py-md bordertop"},[(0,a.createElementVNode)("div",{class:"col-12 col-md-6 col-lg-4"},[(0,a.createElementVNode)("div",{class:"text-body2"},"Vigência inicial")]),(0,a.createElementVNode)("div",{class:"col-12 col-md-6 col-lg-4"},[(0,a.createElementVNode)("div",{class:"text-body2"},"Vigência final")]),(0,a.createElementVNode)("div",{class:"col-12 col-md-6 col-lg-4"},[(0,a.createElementVNode)("div",{class:"text-body2"},"Centro de custo pai")]),(0,a.createElementVNode)("div",{class:"col-12 q-mt-sm"},[(0,a.createElementVNode)("div",{class:"text-body2"},"Observações")])])],-1),BE=(0,a.createElementVNode)("div",{class:"col-9 col-lg-10 q-pl-sm"}," Descrição ",-1),LE={class:"col-3 col-lg-2 text-right"},OE={key:0,class:"col-12 bg-white"},zE=[(0,a.createElementVNode)("div",{class:"u-container"},[(0,a.createElementVNode)("div",{class:"row q-col-gutter-x-sm q-py-md bordertop"},[(0,a.createElementVNode)("div",{class:"col-12 col-md-6 col-lg-4"},[(0,a.createElementVNode)("div",{class:"text-body2"},"Vigência inicial")]),(0,a.createElementVNode)("div",{class:"col-12 col-md-6 col-lg-4"},[(0,a.createElementVNode)("div",{class:"text-body2"},"Vigência final")]),(0,a.createElementVNode)("div",{class:"col-12 col-md-6 col-lg-4"},[(0,a.createElementVNode)("div",{class:"text-body2"},"Centro de custo pai")]),(0,a.createElementVNode)("div",{class:"col-12 q-mt-sm"},[(0,a.createElementVNode)("div",{class:"text-body2"},"Observações")])])],-1)],jE={class:"text-center q-mt-lg"},$E=(0,a.createTextVNode)("Centro de custos"),UE={class:"u-container q-pb-md"},ZE={class:"row q-col-gutter-x-sm"},QE={class:"col-12"},RE={class:"col-12 col-lg-6"},GE={class:"col-12 col-lg-6"},HE={class:"col-12"},JE={class:"col-12 q-mt-md"},YE={class:"row justify-end"},XE=(0,a.createTextVNode)("66 - Plano de Contas"),WE={class:"u-container q-pb-md"},KE={class:"row q-col-gutter-x-sm"},eS={class:"col-12 col-lg-6"},oS={class:"col-12 col-lg-6"},tS={class:"col-12 col-lg-6"},aS={class:"col-12 col-lg-6"},iS={class:"col-12 col-lg-6"},rS={class:"col-12 col-lg-6"},lS={class:"col-12 col-lg-6"},sS={class:"col-12 col-lg-6"},nS={class:"col-12 col-lg-6"},cS={class:"col-12 col-md-6 col-lg-4 q-pt-md"},dS={class:"col-12 col-lg-6"},mS={class:"col-12 col-lg-6"},uS={class:"col-12 col-lg-6"},pS={class:"col-12 col-md-6 col-lg-4 q-pt-md"},hS={class:"row justify-end"},CS={components:{},computed:{},data:function(){return{openedFormaPgto:!1,openedFormaPgtoD:!1,openedPlano:!1,openL1:!1,openL2:!1,openL3:!1,openL4:!1,openL5:!1,select:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}]}},methods:{abrirPlano(){this.openedPlano=!0},abrirFormaPgtoDiv(){this.openedFormaPgtoD=!this.openedFormaPgtoD},abrirFormaPgto(){this.openedFormaPgto=!0},abrirLevel(e){1===e&&(this.openL1=!this.openL1),2===e&&(this.openL2=!this.openL2),3===e&&(this.openL3=!this.openL3),4===e&&(this.openL4=!this.openL4),5===e&&(this.openL5=!this.openL5)}}},vS=(0,T.Z)(CS,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-item"),c=(0,a.resolveComponent)("q-list"),d=(0,a.resolveComponent)("q-expansion-item"),m=(0,a.resolveComponent)("q-toolbar-title"),u=(0,a.resolveComponent)("q-toolbar"),p=(0,a.resolveComponent)("q-header"),h=(0,a.resolveComponent)("q-input"),C=(0,a.resolveComponent)("q-field"),v=(0,a.resolveComponent)("q-footer"),f=(0,a.resolveComponent)("q-layout"),N=(0,a.resolveComponent)("q-dialog"),V=(0,a.resolveComponent)("q-checkbox"),g=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createElementVNode)("div",xI,[(0,a.createElementVNode)("div",bI,[(0,a.createElementVNode)("div",wI,[(0,a.createVNode)(d,{group:"somegroup","default-opened":"",icon:"explore",label:"Plano Conta",class:"border-1 q-my-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",null,[(0,a.createElementVNode)("div",_I,[(0,a.createElementVNode)("div",yI,[(0,a.createVNode)(d,{group:"ativo","default-opened":"","header-class":"ativo",label:"Ativo",class:"border-1 q-my-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",null,[(0,a.createVNode)(c,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"row u-separador q-my-none q-pa-xs",style:{"margin-top":"0 !important"}},{default:(0,a.withCtx)((()=>[II,(0,a.createElementVNode)("div",EI,[(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"keyboard_arrow_down",round:"",onClick:o[0]||(o[0]=e=>l.abrirLevel(1))}),(0,a.createVNode)(s,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:l.abrirPlano},null,8,["onClick"]),(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})]),1==e.openL1?((0,a.openBlock)(),(0,a.createElementBlock)("div",SI,[(0,a.createVNode)(c,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"row u-separador q-my-none q-pa-xs",style:{"margin-top":"0 !important"}},{default:(0,a.withCtx)((()=>[MI,(0,a.createElementVNode)("div",TI,[(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"keyboard_arrow_down",round:"",onClick:o[1]||(o[1]=e=>l.abrirLevel(2))}),(0,a.createVNode)(s,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:l.abrirPlano},null,8,["onClick"]),(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})]),1==e.openL2?((0,a.openBlock)(),(0,a.createElementBlock)("div",kI,[(0,a.createVNode)(c,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"row u-separador q-my-none q-pa-xs",style:{"margin-top":"0 !important"}},{default:(0,a.withCtx)((()=>[DI,(0,a.createElementVNode)("div",qI,[(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"keyboard_arrow_down",round:"",onClick:o[2]||(o[2]=e=>l.abrirLevel(3))}),(0,a.createVNode)(s,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:l.abrirPlano},null,8,["onClick"]),(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})]),1==e.openL3?((0,a.openBlock)(),(0,a.createElementBlock)("div",FI,[(0,a.createVNode)(c,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"row u-separador q-my-none q-pa-xs",style:{"margin-top":"0 !important"}},{default:(0,a.withCtx)((()=>[PI,(0,a.createElementVNode)("div",AI,[(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"keyboard_arrow_down",round:"",onClick:o[3]||(o[3]=e=>l.abrirLevel(4))}),(0,a.createVNode)(s,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:l.abrirPlano},null,8,["onClick"]),(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})]),1==e.openL4?((0,a.openBlock)(),(0,a.createElementBlock)("div",BI,[(0,a.createVNode)(c,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"row u-separador q-my-none q-pa-xs",style:{"margin-top":"0 !important"}},{default:(0,a.withCtx)((()=>[LI,(0,a.createElementVNode)("div",OI,[(0,a.createVNode)(s,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:l.abrirPlano},null,8,["onClick"]),(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})])])),_:1})])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])])),_:1})]),(0,a.createElementVNode)("div",zI,[(0,a.createVNode)(d,{group:"ativo","default-opened":"","header-class":"passivo",label:"Passivo",class:"border-1 q-my-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",null,[(0,a.createVNode)(c,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"row u-separador q-my-none q-pa-xs",style:{"margin-top":"0 !important"}},{default:(0,a.withCtx)((()=>[jI,(0,a.createElementVNode)("div",$I,[(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"keyboard_arrow_down",round:"",onClick:o[4]||(o[4]=e=>l.abrirLevel(1))}),(0,a.createVNode)(s,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:l.abrirPlano},null,8,["onClick"]),(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})]),1==e.openL1?((0,a.openBlock)(),(0,a.createElementBlock)("div",UI,[(0,a.createVNode)(c,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"row u-separador q-my-none q-pa-xs",style:{"margin-top":"0 !important"}},{default:(0,a.withCtx)((()=>[ZI,(0,a.createElementVNode)("div",QI,[(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"keyboard_arrow_down",round:"",onClick:o[5]||(o[5]=e=>l.abrirLevel(2))}),(0,a.createVNode)(s,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:l.abrirPlano},null,8,["onClick"]),(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})]),1==e.openL2?((0,a.openBlock)(),(0,a.createElementBlock)("div",RI,[(0,a.createVNode)(c,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"row u-separador q-my-none q-pa-xs",style:{"margin-top":"0 !important"}},{default:(0,a.withCtx)((()=>[GI,(0,a.createElementVNode)("div",HI,[(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"keyboard_arrow_down",round:"",onClick:o[6]||(o[6]=e=>l.abrirLevel(3))}),(0,a.createVNode)(s,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:l.abrirPlano},null,8,["onClick"]),(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})]),1==e.openL3?((0,a.openBlock)(),(0,a.createElementBlock)("div",JI,[(0,a.createVNode)(c,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"row u-separador q-my-none q-pa-xs",style:{"margin-top":"0 !important"}},{default:(0,a.withCtx)((()=>[YI,(0,a.createElementVNode)("div",XI,[(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"keyboard_arrow_down",round:"",onClick:o[7]||(o[7]=e=>l.abrirLevel(4))}),(0,a.createVNode)(s,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:l.abrirPlano},null,8,["onClick"]),(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})]),1==e.openL4?((0,a.openBlock)(),(0,a.createElementBlock)("div",WI,[(0,a.createVNode)(c,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"row u-separador q-my-none q-pa-xs",style:{"margin-top":"0 !important"}},{default:(0,a.withCtx)((()=>[KI,(0,a.createElementVNode)("div",eE,[(0,a.createVNode)(s,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:l.abrirPlano},null,8,["onClick"]),(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})])])),_:1})])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])])),_:1})]),(0,a.createElementVNode)("div",oE,[(0,a.createVNode)(d,{group:"ativo","default-opened":"","header-class":"receita",label:"Receita",class:"border-1 q-my-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",null,[(0,a.createVNode)(c,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"row u-separador q-my-none q-pa-xs",style:{"margin-top":"0 !important"}},{default:(0,a.withCtx)((()=>[tE,(0,a.createElementVNode)("div",aE,[(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"keyboard_arrow_down",round:"",onClick:o[8]||(o[8]=e=>l.abrirLevel(1))}),(0,a.createVNode)(s,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:l.abrirPlano},null,8,["onClick"]),(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})]),1==e.openL1?((0,a.openBlock)(),(0,a.createElementBlock)("div",iE,[(0,a.createVNode)(c,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"row u-separador q-my-none q-pa-xs",style:{"margin-top":"0 !important"}},{default:(0,a.withCtx)((()=>[rE,(0,a.createElementVNode)("div",lE,[(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"keyboard_arrow_down",round:"",onClick:o[9]||(o[9]=e=>l.abrirLevel(2))}),(0,a.createVNode)(s,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:l.abrirPlano},null,8,["onClick"]),(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})]),1==e.openL2?((0,a.openBlock)(),(0,a.createElementBlock)("div",sE,[(0,a.createVNode)(c,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"row u-separador q-my-none q-pa-xs",style:{"margin-top":"0 !important"}},{default:(0,a.withCtx)((()=>[nE,(0,a.createElementVNode)("div",cE,[(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"keyboard_arrow_down",round:"",onClick:o[10]||(o[10]=e=>l.abrirLevel(3))}),(0,a.createVNode)(s,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:l.abrirPlano},null,8,["onClick"]),(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})]),1==e.openL3?((0,a.openBlock)(),(0,a.createElementBlock)("div",dE,[(0,a.createVNode)(c,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"row u-separador q-my-none q-pa-xs",style:{"margin-top":"0 !important"}},{default:(0,a.withCtx)((()=>[mE,(0,a.createElementVNode)("div",uE,[(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"keyboard_arrow_down",round:"",onClick:o[11]||(o[11]=e=>l.abrirLevel(4))}),(0,a.createVNode)(s,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:l.abrirPlano},null,8,["onClick"]),(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})]),1==e.openL4?((0,a.openBlock)(),(0,a.createElementBlock)("div",pE,[(0,a.createVNode)(c,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"row u-separador q-my-none q-pa-xs",style:{"margin-top":"0 !important"}},{default:(0,a.withCtx)((()=>[hE,(0,a.createElementVNode)("div",CE,[(0,a.createVNode)(s,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:l.abrirPlano},null,8,["onClick"]),(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})])])),_:1})])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])])),_:1})]),(0,a.createElementVNode)("div",vE,[(0,a.createVNode)(d,{group:"ativo","default-opened":"","header-class":"despesa",label:"Despesa",class:"border-1 q-my-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",null,[(0,a.createVNode)(c,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"row u-separador q-my-none q-pa-xs",style:{"margin-top":"0 !important"}},{default:(0,a.withCtx)((()=>[fE,(0,a.createElementVNode)("div",NE,[(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"keyboard_arrow_down",round:"",onClick:o[12]||(o[12]=e=>l.abrirLevel(1))}),(0,a.createVNode)(s,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:l.abrirPlano},null,8,["onClick"]),(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})]),1==e.openL1?((0,a.openBlock)(),(0,a.createElementBlock)("div",VE,[(0,a.createVNode)(c,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"row u-separador q-my-none q-pa-xs",style:{"margin-top":"0 !important"}},{default:(0,a.withCtx)((()=>[gE,(0,a.createElementVNode)("div",xE,[(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"keyboard_arrow_down",round:"",onClick:o[13]||(o[13]=e=>l.abrirLevel(2))}),(0,a.createVNode)(s,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:l.abrirPlano},null,8,["onClick"]),(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})]),1==e.openL2?((0,a.openBlock)(),(0,a.createElementBlock)("div",bE,[(0,a.createVNode)(c,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"row u-separador q-my-none q-pa-xs",style:{"margin-top":"0 !important"}},{default:(0,a.withCtx)((()=>[wE,(0,a.createElementVNode)("div",_E,[(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"keyboard_arrow_down",round:"",onClick:o[14]||(o[14]=e=>l.abrirLevel(3))}),(0,a.createVNode)(s,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:l.abrirPlano},null,8,["onClick"]),(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})]),1==e.openL3?((0,a.openBlock)(),(0,a.createElementBlock)("div",yE,[(0,a.createVNode)(c,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"row u-separador q-my-none q-pa-xs",style:{"margin-top":"0 !important"}},{default:(0,a.withCtx)((()=>[IE,(0,a.createElementVNode)("div",EE,[(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"keyboard_arrow_down",round:"",onClick:o[15]||(o[15]=e=>l.abrirLevel(4))}),(0,a.createVNode)(s,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:l.abrirPlano},null,8,["onClick"]),(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})]),1==e.openL4?((0,a.openBlock)(),(0,a.createElementBlock)("div",SE,[(0,a.createVNode)(c,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"row u-separador q-my-none q-pa-xs",style:{"margin-top":"0 !important"}},{default:(0,a.withCtx)((()=>[ME,(0,a.createElementVNode)("div",TE,[(0,a.createVNode)(s,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:l.abrirPlano},null,8,["onClick"]),(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})])])),_:1})])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])])),_:1})])]),(0,a.createElementVNode)("div",kE,[(0,a.createVNode)(s,{color:"positive",icon:"add",label:"Adiconar",outline:"",size:"sm",onClick:l.abrirFormaPgto},null,8,["onClick"])])])])),_:1})]),(0,a.createElementVNode)("div",DE,[(0,a.createVNode)(d,{group:"somegroup",icon:"explore",label:"Centro de custos",class:"border-1 q-my-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",null,[(0,a.createVNode)(c,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"row u-separador q-my-none q-pa-xs",style:{"margin-top":"0 !important"}},{default:(0,a.withCtx)((()=>[qE,(0,a.createElementVNode)("div",FE,[(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"keyboard_arrow_down",round:"",onClick:l.abrirFormaPgtoDiv},null,8,["onClick"]),(0,a.createVNode)(s,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:l.abrirFormaPgto},null,8,["onClick"]),(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})]),1==e.openedFormaPgtoD?((0,a.openBlock)(),(0,a.createElementBlock)("div",PE,[AE,(0,a.createVNode)(c,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"row u-separador q-my-none q-pa-xs",style:{"margin-top":"0 !important"}},{default:(0,a.withCtx)((()=>[BE,(0,a.createElementVNode)("div",LE,[(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"keyboard_arrow_down",round:"",onClick:l.abrirFormaPgtoDiv},null,8,["onClick"]),(0,a.createVNode)(s,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:l.abrirFormaPgto},null,8,["onClick"]),(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})]),1==e.openedFormaPgtoD?((0,a.openBlock)(),(0,a.createElementBlock)("div",OE,zE)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createElementVNode)("div",jE,[(0,a.createVNode)(s,{color:"positive",icon:"add",label:"Adiconar",outline:"",size:"sm",onClick:l.abrirFormaPgto},null,8,["onClick"])])])])),_:1})])])]),(0,a.createVNode)(N,{modelValue:e.openedFormaPgto,"onUpdate:modelValue":o[17]||(o[17]=o=>e.openedFormaPgto=o),"content-css":{maxWidth:"80vw"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[g]]),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[$E])),_:1})])),_:1})])),_:1}),(0,a.createElementVNode)("form",null,[(0,a.createElementVNode)("div",UE,[(0,a.createElementVNode)("div",ZE,[(0,a.createElementVNode)("div",QE,[(0,a.createVNode)(h,{label:"Descrição"})]),(0,a.createElementVNode)("div",RE,[(0,a.createVNode)(h,{label:"Vigência inicial"})]),(0,a.createElementVNode)("div",GE,[(0,a.createVNode)(h,{label:"Vigência final"})]),(0,a.createElementVNode)("div",HE,[(0,a.createVNode)(h,{debounce:500,label:"Centro de custo pai",modelValue:e.filhoCampo,"onUpdate:modelValue":o[16]||(o[16]=o=>e.filhoCampo=o)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",JE,[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"bg-light q-px-md",label:"Observações",rows:"3",type:"textarea"})])),_:1})])])])]),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{color:"light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",YE,[(0,a.createVNode)(s,{flat:"",color:"tertiary",label:"Cancelar"}),(0,a.createVNode)(s,{class:"",color:"primary",type:"submit",label:"Salvar"})])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(N,{modelValue:e.openedPlano,"onUpdate:modelValue":o[25]||(o[25]=o=>e.openedPlano=o),"content-css":{maxWidth:"80vw"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[g]]),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[XE])),_:1})])),_:1})])),_:1}),(0,a.createElementVNode)("form",null,[(0,a.createElementVNode)("div",WE,[(0,a.createElementVNode)("div",KE,[(0,a.createElementVNode)("div",eS,[(0,a.createVNode)(h,{label:"Tradutor"})]),(0,a.createElementVNode)("div",oS,[(0,a.createVNode)(h,{label:"Descrição"})]),(0,a.createElementVNode)("div",tS,[(0,a.createVNode)(h,{label:"Apelido"})]),(0,a.createElementVNode)("div",aS,[(0,a.createVNode)(h,{debounce:500,label:"Conta pai",modelValue:e.filhoCampo,"onUpdate:modelValue":o[18]||(o[18]=o=>e.filhoCampo=o)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",iS,[(0,a.createVNode)(h,{debounce:500,label:"Tipo",modelValue:e.filhoCampo,"onUpdate:modelValue":o[19]||(o[19]=o=>e.filhoCampo=o)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",rS,[(0,a.createVNode)(h,{debounce:500,label:"Empresa",modelValue:e.filhoCampo,"onUpdate:modelValue":o[20]||(o[20]=o=>e.filhoCampo=o)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",lS,[(0,a.createVNode)(h,{label:"Vigência inicial"})]),(0,a.createElementVNode)("div",sS,[(0,a.createVNode)(h,{label:"Vigência Final"})]),(0,a.createElementVNode)("div",nS,[(0,a.createVNode)(h,{debounce:500,label:"Observação",modelValue:e.filhoCampo,"onUpdate:modelValue":o[21]||(o[21]=o=>e.filhoCampo=o)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",cS,[(0,a.createVNode)(V,{modelValue:e.checked,"onUpdate:modelValue":o[22]||(o[22]=o=>e.checked=o),label:"Fluxo de caixa"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",dS,[(0,a.createVNode)(h,{debounce:500,label:"DRE",modelValue:e.filhoCampo,"onUpdate:modelValue":o[23]||(o[23]=o=>e.filhoCampo=o)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",mS,[(0,a.createVNode)(h,{label:"Cod. Contabilidade"})]),(0,a.createElementVNode)("div",uS,[(0,a.createVNode)(h,{label:"Código SPED"})]),(0,a.createElementVNode)("div",pS,[(0,a.createVNode)(V,{modelValue:e.checked,"onUpdate:modelValue":o[24]||(o[24]=o=>e.checked=o),label:"Ativo"},null,8,["modelValue"])])])])]),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{color:"light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",hS,[(0,a.createVNode)(s,{flat:"",color:"tertiary",label:"Cancelar"}),(0,a.createVNode)(s,{class:"",color:"primary",type:"submit",label:"Salvar"})])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])}]]);Z()(CS,"components",{QCard:D.Z,QExpansionItem:P.Z,QList:F.Z,QItem:z.Z,QBtn:H.Z,QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QInput:re.Z,QField:Sp.Z,QFooter:Te.Z,QCheckbox:Hh.Z}),Z()(CS,"directives",{ClosePopup:J.Z});const fS=(0,a.createTextVNode)(" Emitente regime "),NS=(0,a.createTextVNode)(" Ordem: "),VS=(0,a.createTextVNode)("NCMs: "),gS=(0,a.createTextVNode)("Todos os NCMs "),xS=(0,a.createTextVNode)("CFOPs:"),bS=(0,a.createTextVNode)("Todos os CFOPs "),wS={class:"q-my-md text-center"},_S=(0,a.createTextVNode)("Configuração de imposto"),yS={class:"layout-padding q-pa-none q-pb-md"},IS={class:"u-container"},ES={class:"bg-white fit q-mt-md q-pa-md"},SS={class:"col-12 col-md-8"},MS={class:"col-12 col-md-4"},TS=(0,a.createTextVNode)("Validade"),kS={class:"col-12 col-md-6"},DS={class:"col-12 col-md-6"},qS=(0,a.createTextVNode)("Entrada"),FS={class:"col-12 col-md-4"},PS={class:"bg-white fit q-px-md q-pb-md q-pt-none"},AS=(0,a.createTextVNode)("Emitente"),BS=(0,a.createElementVNode)("div",{class:"col-12"},"Regime",-1),LS=(0,a.createElementVNode)("div",{class:"col-12"},"Tributação",-1),OS=(0,a.createElementVNode)("div",{class:"col-12"},"Setor",-1),zS=(0,a.createTextVNode)("UFs emitente"),jS=(0,a.createTextVNode)("Adicionar"),$S=(0,a.createTextVNode)("Remover"),US=(0,a.createTextVNode)("Todas as UFs"),ZS={class:"col-12 col-md-4"},QS={class:"bg-white fit q-px-md q-pb-md q-pt-none"},RS=(0,a.createTextVNode)("Destinatário"),GS=(0,a.createElementVNode)("div",{class:"col-12 q-mb-sm"},"Regime",-1),HS=(0,a.createElementVNode)("div",{class:"col-12 q-mb-sm"},"Tributação",-1),JS=(0,a.createElementVNode)("div",{class:"col-12 q-mb-sm"},"Setor",-1),YS=(0,a.createElementVNode)("div",{class:"col-12"},"Consumidor final",-1),XS=(0,a.createTextVNode)("UFs Destinatário"),WS=(0,a.createTextVNode)("Adicionar"),KS=(0,a.createTextVNode)("Remover"),eM=(0,a.createTextVNode)("Todas as UFs"),oM={class:"col-12 col-md-4"},tM={class:"bg-white fit q-px-md q-pb-md q-pt-none"},aM=(0,a.createTextVNode)("Produto"),iM=(0,a.createTextVNode)("NCMs "),rM=(0,a.createTextVNode)("Classificação tributária do produto"),lM=(0,a.createTextVNode)("Adicionar"),sM=(0,a.createTextVNode)("Remover"),nM=(0,a.createTextVNode)("Todos os NCMs"),cM=(0,a.createTextVNode)("CFOPs "),dM=(0,a.createTextVNode)("Código Fiscal de Operações e Prestações das entradas e saídas de mercadorias"),mM=(0,a.createTextVNode)("Adicionar"),uM=(0,a.createTextVNode)("Remover"),pM=(0,a.createTextVNode)("Todos os CFOPs"),hM=(0,a.createTextVNode)("Saida"),CM={class:"col-12 col-md-4"},vM={class:"bg-white fit q-px-md q-pb-md q-pt-none"},fM=(0,a.createTextVNode)("PIS "),NM={class:"col-12 col-md-4"},VM={class:"bg-white fit q-px-md q-pb-md q-pt-none"},gM=(0,a.createTextVNode)("COFINS"),xM={class:"col-12 col-md-4"},bM={class:"bg-white fit q-px-md q-pb-md q-pt-none"},wM=(0,a.createTextVNode)("IPI"),_M={class:"col-12"},yM={class:"bg-white fit q-px-md q-pb-md q-pt-none"},IM=(0,a.createTextVNode)("ICMS "),EM=(0,a.createElementVNode)("div",{class:"col-2 col-md-2"}," UF ",-1),SM={class:"col-6 col-md-3"},MM={class:"col-6 col-md-3"},TM={key:0,class:"col-6 col-md-2"},kM={class:"col-4 col-md-2"},DM=(0,a.createTextVNode)(" Percentual de redução da BC ICMS ST Interestadual "),qM=(0,a.createTextVNode)("Percentual de redução da BC ICMS ST Interestadual (pRedBCST) (Opcional)"),FM={class:"col-xs-12"},PM={class:"bg-white fit q-px-md q-pb-md q-pt-none"},AM=(0,a.createTextVNode)(" Observações na nota ");var BM=t(91240),LM=t(82254);const OM={normal:[{valor:"999",rotulo:"999 - Tributação normal IPI; Outros"}],imunidade:[{valor:"001",rotulo:"001 - Livros, jornais, periódicos e o papel destinado à sua impressão - Art. 18 Inciso I do Decreto 7.212/2010"},{valor:"002",rotulo:"002 - Produtos industrializados destinados ao exterior - Art. 18 Inciso II do Decreto 7.212/2010"},{valor:"003",rotulo:"003 - Ouro, definido em lei como ativo financeiro ou instrumento cambial - Art. 18 Inciso III do Decreto 7.212/2010"},{valor:"004",rotulo:"004 - Energia elétrica, derivados de petróleo, combustíveis e minerais do País - Art. 18 Inciso IV do Decreto 7.212/2010"},{valor:"005",rotulo:"005 - Exportação de produtos nacionais - sem saída do território brasileiro - venda para empresa sediada no exterior -atividades de pesquisa ou lavra de jazidas de petróleo e de gás natural - Art. 19 Inciso I do Decreto 7.212/2010"},{valor:"006",rotulo:"006 - Exportação de produtos nacionais - sem saída do território brasileiro - venda para empresa sediada no exterior - incorporados a produto final exportado para o Brasil - Art. 19 Inciso II do Decreto 7.212/2010"},{valor:"007",rotulo:"007 - Exportação de produtos nacionais - sem saída do território brasileiro - venda para órgão ou entidade de governo estrangeiro ou organismo internacional de que o Brasil seja membro, para ser entregue, no País, à ordem do comprador - Art. 19 Inciso III do Decreto 7.212/2010"}],isencao:[{valor:"301",rotulo:"301 - Produtos industrializados por instituições de educação ou de assistência social, destinados a uso próprio ou a distribuição gratuita a seus educandos ou assistidos - Art. 54 Inciso I do Decreto 7.212/2010"},{valor:"302",rotulo:"302 - Produtos industrializados por estabelecimentos públicos e autárquicos da União, dos Estados, do Distrito Federal e dos Municípios, não destinados a comércio - Art. 54 Inciso II do Decreto 7.212/2010"},{valor:"303",rotulo:"303 - Amostras de produtos para distribuição gratuita, de diminuto ou nenhum valor comercial -Art. 54 Inciso III do Decreto 7.212/2010"},{valor:"304",rotulo:"304 - Amostras de tecidos sem valor comercial- Art. 54 Inciso IV do Decreto 7.212/2010"},{valor:"305",rotulo:"305 - Pés isolados de calçados - Art. 54 Inciso V do Decreto 7.212/2010"},{valor:"306",rotulo:"306 - Aeronaves de uso militar e suas partes e peças, vendidas à União - Art. 54 Inciso VI do Decreto 7.212/2010"},{valor:"307",rotulo:"307 - Caixões funerários - Art. 54 Inciso VII do Decreto 7.212/2010"},{valor:"308",rotulo:"308 - Papel destinado à impressão de músicas - Art. 54 Inciso VIII do Decreto 7.212/2010"},{valor:"309",rotulo:"309 - Panelas e outros artefatos semelhantes, de uso doméstico, de fabricação rústica, de pedra ou barro bruto - Art. 54 Inciso IX do Decreto 7.212/2010"},{valor:"310",rotulo:"310 - Chapéus, roupas e proteção, de couro, próprios para tropeiros - Art. 54 Inciso X do Decreto 7.212/2010"},{valor:"311",rotulo:"311 - Material bélico, de uso privativo das Forças Armadas, vendido à União - Art. 54 Inciso XI do Decreto 7.212/2010"},{valor:"312",rotulo:"312 - Automóvel adquirido diretamente a fabricante nacional, pelas missões diplomáticas e repartições consulares de caráter permanente, ou seus integrantes, bem assim pelas representações internacionais ou regionais de que o Brasil seja membro, e seus funcionários, peritos, técnicos e consultores, de nacionalidade estrangeira, que exerçam funções de caráter permanente - Art. 54 Inciso XII do Decreto 7.212/2010"},{valor:"313",rotulo:"313 - Veículo de fabricação nacional adquirido por funcionário das missões diplomáticas acreditadas junto ao Governo Brasileiro - Art. 54 Inciso XIII do Decreto 7.212/2010"},{valor:"314",rotulo:"314 - Produtos nacionais saídos diretamente para Lojas Francas - Art. 54 Inciso XIV do Decreto 7.212/2010"},{valor:"315",rotulo:"315 - Materiais e equipamentos destinados a Itaipu Binacional - Art. 54 Inciso XV do Decreto 7.212/2010"},{valor:"316",rotulo:"316 - Produtos Importados por missões diplomáticas, consulados ou organismo internacional -Art. 54 Inciso XVI do Decreto 7.212/2010"},{valor:"317",rotulo:"317 - Bagagem de passageiros desembaraçada com isenção do II. - Art. 54 Inciso XVII do Decreto 7.212/2010"},{valor:"318",rotulo:"318 - Bagagem de passageiros desembaraçada com pagamento do II. - Art. 54 Inciso XVIII do Decreto 7.212/2010"},{valor:"319",rotulo:"319 - Remessas postais internacionais sujeitas a tributação simplificada. - Art. 54 Inciso XIX do Decreto 7.212/2010"},{valor:"320",rotulo:"320 - Máquinas e outros destinados à pesquisa científica e tecnológica - Art. 54 Inciso XX do Decreto 7.212/2010"},{valor:"321",rotulo:"321 - Produtos de procedência estrangeira, isentos do II conforme Lei n° 8032/1990. - Art. 54 Inciso XXI do Decreto 7.212/2010"},{valor:"322",rotulo:"322 - Produtos de procedência estrangeira utilizados em eventos esportivos - Art. 54 Inciso XXII do Decreto 7.212/2010"},{valor:"323",rotulo:"323 - Veículos automotores, máquinas, equipamentos, bem assim suas partes e peças separadas, destinadas à utilização nas atividades dos Corpos de Bombeiros - Art. 54 Inciso XXIII do Decreto 7.212/2010"},{valor:"324",rotulo:"324 - Produtos importados para consumo em congressos, feiras e exposições - Art. 54 Inciso XXIV do Decreto 7.212/2010"},{valor:"325",rotulo:"325 - Bens de informática, Matéria Prima, produtos intermediários e embalagem destinados a Urnas eletrônicas - TSE - Art. 54 Inciso XXV do Decreto 7.212/2010"},{valor:"326",rotulo:"326 - Materiais, equipamentos, máquinas, aparelhos e instrumentos, bem assim os respectivos acessórios, sobressalentes e ferramentas, que os acompanhem, destinados à construção do Gasoduto Brasil - Bolívia - Art. 54 Inciso XXVI do Decreto 7.212/2010"},{valor:"327",rotulo:"327 - Partes, peças e componentes, adquiridos por estaleiros navais brasileiros, destinados ao emprego na conservação, modernização, conversão ou reparo de embarcações registradas no Registro Especial Brasileiro - REB - Art. 54 Inciso XXVII do Decreto 7.212/2010"},{valor:"328",rotulo:"328 - Aparelhos transmissores e receptores de radiotelefonia e radiotelegrafia; veículos para patrulhamento policial; armas e munições, destinados a órgãos de segurança pública da União, dos Estados e do Distrito Federal - Art. 54 Inciso XXVIII do Decreto 7.212/2010"},{valor:"329",rotulo:"329 - Automóveis de passageiros de fabricação nacional destinados à utilização como táxi adquiridos por motoristas profissionais - Art. 55 Inciso I do Decreto 7.212/2010"},{valor:"330",rotulo:"330 - Automóveis de passageiros de fabricação nacional destinados à utilização como táxi por impedidos de exercer atividade por destruição, furto ou roubo do veículo adquiridos por motoristas profissionais. - Art. 55 Inciso II do Decreto 7.212/2010"},{valor:"331",rotulo:"331 - Automóveis de passageiros de fabricação nacional destinados à utilização como táxi adquiridos por cooperativas de trabalho. - Art. 55 Inciso II do Decreto 7.212/2010"},{valor:"332",rotulo:"332 - Automóveis de passageiros de fabricação nacional, destinados a pessoas portadoras de deficiência física, visual, mental severa ou profunda, ou autistas - Art. 55 Inciso IV do Decreto 7.212/2010"},{valor:"333",rotulo:"333 - Produtos estrangeiros, recebidos em doação de representações diplomáticas estrangeiras sediadas no País,vendidos em feiras, bazares e eventos semelhantes porentidades beneficentes - Art. 67 do Decreto 7.212/2010"},{valor:"334",rotulo:"334 - Produtos industrializados na Zona Franca de Manaus - ZFM, destinados ao seu consumo interno - Art. 81 Inciso I do Decreto 7.212/2010"},{valor:"335",rotulo:"335 - Produtos industrializados na ZFM, por estabelecimentos com projetos aprovados pela SUFRAMA, destinados a comercialização em qualquer outro ponto do Território Nacional -Art. 81 Inciso II do Decreto 7.212/2010"},{valor:"336",rotulo:"336 - Produtos nacionais destinados à entrada na ZFM, para seu consumo interno, utilização ou industrialização, ou ainda, para serem remetidos, por intermédio de seus entrepostos, à Amazônia Ocidental - Art. 81 Inciso III do Decreto 7.212/2010"},{valor:"337",rotulo:"337 - Produtos industrializados por estabelecimentos com projetos aprovados pela SUFRAMA, consumidos ou utilizados na Amazônia Ocidental,ou adquiridos através da ZFM ou de seus entrepostos na referida região - Art. 95 Inciso I do Decreto 7.212/2010"},{valor:"338",rotulo:"338 - Produtos de procedência estrangeira, relacionados na legislação, oriundos da ZFM e que derem entrada na Amazônia Ocidental para ali serem consumidos ou utilizados:- Art. 95 Inciso II do Decreto 7.212/2010"},{valor:"339",rotulo:"339 - Produtos elaborados com matérias-primas agrícolas e extrativas vegetais de produção regional, por estabelecimentos industriais localizados na Amazônia Ocidental, com projetos aprovados pela SUFRAMA - Art. 95 Inciso III do Decreto 7.212/2010"},{valor:"340",rotulo:"340 - Produtos industrializados em Area de Livre Comércio - Art. 105 do Decreto 7.212/2010"},{valor:"341",rotulo:"341 - Produtos nacionais ou nacionalizados, destinados à entrada na Area de Livre Comércio de Tabatinga - ALCT - Art. 107 do Decreto 7.212/2010"},{valor:"342",rotulo:"342 - Produtos nacionais ou nacionalizados, destinados à entrada na Area de Livre Comércio de Guajará-Mirim - ALCGM - Art. 110 do Decreto 7.212/2010"},{valor:"343",rotulo:"343 - Produtos nacionais ou nacionalizados, destinados à entrada nas Areas de Livre Comércio de Boa Vista - ALCBV e Bonfim - ALCB - Art. 113 do Decreto 7.212/2010"},{valor:"344",rotulo:"344 - Produtos nacionais ou nacionalizados, destinados à entrada na Area de Livre Comércio de Macapá e Santana - ALCMS - Art. 117 do Decreto 7.212/2010"},{valor:"345",rotulo:"345 - Produtos nacionais ou nacionalizados, destinados à entrada nas Areas de Livre Comércio de Brasiléia - ALCB e de Cruzeiro do Sul - ALCCS - Art. 120 do Decreto 7.212/2010"},{valor:"346",rotulo:"346 - Recompe - equipamentos de informática - de beneficiário do regime para escolas das redes públicas de ensino federal, estadual, distrital, municipal ou nas escolas sem fins lucrativos de atendimento a pessoas com deficiência - Decreto n° 7.243/2010, art. 7°"},{valor:"347",rotulo:"347 - Rio 2016 - Importação de materiais para os jogos (medalhas, troféus, impressos, bens não duráveis, etc.) - Lei n° 12.780/2013, Art. 4°, §1°, I"},{valor:"348",rotulo:"348 - Rio 2016 - Suspensão convertida em Isenção - Lei n° 12.780/2013, Art. 6°, I"},{valor:"349",rotulo:"349 - Rio 2016 - Empresas vinculadas ao CIO - Lei n° 12.780/2013, Art. 9°, I, d"},{valor:"350",rotulo:"350 - Rio 2016 - Saída de produtos importados pelo RIO 2016- Lei n° 12.780/2013, Art. 10, I, d"},{valor:"351",rotulo:"351 - Rio 2016 - Produtos nacionais, não duráveis, uso e consumo dos eventos, adquiridos pelas pessoas jurídicas mencionadas no § 2o do art. 4o da Lei n° 12.780/2013, Art. 12"}],suspensao:[{valor:"101",rotulo:"101 - Oleo de menta em bruto, produzido por lavradores - Art. 43 Inciso I do Decreto 7.212/2010"},{valor:"102",rotulo:"102 - Produtos remetidos à exposição em feiras de amostras e promoções semelhantes - Art. 43 Inciso II do Decreto 7.212/2010"},{valor:"103",rotulo:"103 - Produtos remetidos a depósitos fechados ou armazéns-gerais, bem assim aqueles devolvidos ao remetente - Art. 43 Inciso III do Decreto 7.212/2010"},{valor:"104",rotulo:"104 - Produtos industrializados, que com matérias-primas (MP), produtos intermediários (PI) e material de embalagem (ME) importados submetidos a regime aduaneiro especial (drawback - suspensão/isenção), remetidos diretamente a empresas industriais exportadoras - Art. 43 Inciso IV do Decreto 7.212/2010"},{valor:"105",rotulo:'105 - Produtos, destinados à exportação, que saiam do estabelecimento industrial para empresas comerciais exportadoras, com o fim específico de exportação - Art. 43, Inciso V, alínea "a" do Decreto 7.212/2010'},{valor:"106",rotulo:'106 - Produtos, destinados à exportação, que saiam do estabelecimento industrial para recintos alfandegados onde se processe o despacho aduaneiro de exportação - Art. 43, Inciso V, alíneas "b" do Decreto 7.212/2010'},{valor:"107",rotulo:'107 - Produtos, destinados à exportação, que saiam do estabelecimento industrial para outros locais onde se processe o despacho aduaneiro de exportação - Art. 43, Inciso V, alíneas "c" do Decreto 7.212/2010'},{valor:"108",rotulo:"108 - Matérias-primas (MP), produtos intermediários (PI) e material de embalagem (ME) destinados ao executor de industrialização por encomenda - Art. 43 Inciso VI do Decreto 7.212/2010"},{valor:"109",rotulo:"109 - Produtos industrializados por encomenda remetidos ao estabelecimento de origem - Art. 43 Inciso VII do Decreto 7.212/2010"},{valor:"110",rotulo:"110 - Matérias-primas ou produtos intermediários remetidos para emprego em operação industrial realizada pelo remetente fora do estabelecimento - Art. 43 Inciso VIII do Decreto 7.212/2010"},{valor:"111",rotulo:"111 - Veículo, aeronave ou embarcação destinados aemprego em provas de engenharia pelo fabricante - Art. 43 Inciso IX do Decreto 7.212/2010"},{valor:"112",rotulo:"112 - Produtos remetidos, para industrialização ou comércio, de um para outro estabelecimento da mesma firma - Art. 43 Inciso X do Decreto 7.212/2010"},{valor:"113",rotulo:"113 - Bens do ativo permanente remetidosa outro estabelecimento da mesma firma, para serem utilizados no processo industrial do recebedor - Art. 43 Inciso XI do Decreto 7.212/2010"},{valor:"114",rotulo:"114 - Bens do ativo permanente remetidosa outro estabelecimento, para serem utilizados no processo industrial de produtos encomendados pelo remetente - Art. 43 Inciso XII do Decreto 7.212/2010"},{valor:"115",rotulo:"115 - Partes e peças destinadas ao reparo de produtos com defeito de fabricação, quando a operação for executada gratuitamente, em virtude de garantia - Art. 43 Inciso XIII do Decreto 7.212/2010"},{valor:"116",rotulo:"116 - Matérias-primas (MP), produtos intermediários (PI) e material de embalagem (ME) de fabricação nacional, vendidos a estabelecimento industrial, para industrialização de produtos destinados à exportação ou a estabelecimento comercial, para industrialização em outro estabelecimento da mesma firma ou de terceiro, de produto destinado à exportação -Art. 43 Inciso XIV do Decreto 7.212/2010"},{valor:"117",rotulo:"117 - Produtos para emprego ou consumo na industrialização ou elaboração de produto a ser exportado, adquiridos no mercado interno ou importados - Art. 43 Inciso XV do Decreto 7.212/2010"},{valor:"118",rotulo:"118 - Bebidas alcóolicas e demais produtos de produção nacional acondicionados em recipientes de capacidade superior ao limite máximo permitido para venda a varejo - Art. 44 do Decreto 7.212/2010"},{valor:"119",rotulo:"119 - Produtos classificados NCM 21.06.90.10 Ex 02, 22.01, 22.02, exceto os Ex 01 e Ex 02 do Código 22.02.90.00 e 22.03 saídos de estabelecimento industrial destinado a comercial equiparado a industrial - Art. 45 Inciso I do Decreto7.212/2010"},{valor:"120",rotulo:"120 - Produtos classificados NCM 21.06.90.10 Ex 02, 22.01, 22.02, exceto os Ex 01 e Ex 02 do Código 22.02.90.00 e 22.03 saídos de estabelecimento comercial equiparado a industrial destinado aequiparado a industrial - Art. 45 Inciso II do Decreto7.212/2010"},{valor:"121",rotulo:"121 - Produtos classificados NCM 21.06.90.10 Ex 02, 22.01, 22.02, exceto os Ex 01 e Ex 02 do Código 22.02.90.00 e 22.03 saídos de importador destinado a equiparado a industrial - Art. 45 Inciso III do Decreto7.212/2010"},{valor:"122",rotulo:"122 - Matérias-primas (MP), produtos intermediários (PI) e material de embalagem (ME) destinados a estabelecimento que se dedique à elaboração de produtos classificados nos códigos previstos no art. 25 da Lei 10.684/2003 - Art. 46 Inciso I do Decreto 7.212/2010"},{valor:"123",rotulo:"123 - Matérias-primas (MP), produtos intermediários (PI) e material de embalagem (ME) adquiridos por estabelecimentos industriais fabricantes de partes e peças destinadas a estabelecimento industrial fabricante de produto classificado no Capítulo 88 da Tipi - Art. 46 Inciso II do Decreto 7.212/2010"},{valor:"124",rotulo:"124 - Matérias-primas (MP), produtos intermediários (PI) e material de embalagem (ME) adquiridos por pessoas jurídicas preponderantemente exportadoras - Art. 46 Inciso III do Decreto 7.212/2010"},{valor:"125",rotulo:"125 - Materiais e equipamentos destinados a embarcações pré-registradas ou registradas no Registro Especial Brasileira - REB quando adquiridos por estaleiros navais brasileiros - Art. 46 Inciso IV do Decreto 7.212/2010"},{valor:"126",rotulo:"126 - Aquisição por beneficiário de regime aduaneiro suspensivo do imposto, destinado a industrialização para exportação - Art. 47 do Decreto 7.212/2010"},{valor:"127",rotulo:"127 - Desembaraço de produtos de procedência estrangeira importados por lojas francas - Art. 48 Inciso I do Decreto 7.212/2010"},{valor:"128",rotulo:"128 - Desembaraço de maquinas, equipamentos, veículos, aparelhos e instrumentos sem similar nacional importados por empresas nacionais de engenharia, destinados à execução de obras no exterior - Art. 48 Inciso II do Decreto 7.212/2010"},{valor:"129",rotulo:"129 - Desembaraço de produtos de procedência estrangeira com saída de repartições aduaneiras com suspensão do Imposto de Importação - Art. 48 Inciso III do Decreto 7.212/2010"},{valor:"130",rotulo:"130 - Desembaraço de matérias-primas, produtos intermediários e materiais de embalagem, importados diretamente por estabelecimento de que tratam os incisos I a III do caput do Decreto 7.212/2010 - Art. 48 Inciso IV do Decreto 7.212/2010"},{valor:"131",rotulo:"131 - Remessa de produtos para a ZFM destinados ao seu consumo interno, utilização ou industrialização - Art. 84 do Decreto 7.212/2010"},{valor:"132",rotulo:"132 - Remessa de produtos para a ZFM destinados à exportação - Art. 85 Inciso I do Decreto 7.212/2010"},{valor:"133",rotulo:"133 - Produtos que, antes de sua remessa à ZFM, forem enviados pelo seu fabricante a outro estabelecimento, para industrialização adicional, por conta e ordem do destinatário - Art. 85 Inciso II do Decreto 7.212/2010"},{valor:"134",rotulo:"134 - Desembaraço de produtos de procedência estrangeira importados pela ZFM quando ali consumidos ou utilizados, exceto armas, munições, fumo, bebidas alcoólicas e automóveis de passageiros. - Art. 86 do Decreto 7.212/2010"},{valor:"135",rotulo:"135 - Remessa de produtos para a Amazônia Ocidental destinados ao seu consumo interno ou utilização - Art. 96 do Decreto 7.212/2010"},{valor:"136",rotulo:"136 - Entrada de produtos estrangeiros na Área de Livre Comércio de Tabatinga - ALCT destinados ao seu consumo interno ou utilização - Art. 106 do Decreto 7.212/2010"},{valor:"137",rotulo:"137 - Entrada de produtos estrangeiros na Área de Livre Comércio de Guajará-Mirim - ALCGM destinados ao seu consumo interno ou utilização - Art. 109 do Decreto 7.212/2010"},{valor:"138",rotulo:"138 - Entrada de produtos estrangeiros nas Áreas de Livre Comércio de Boa Vista - ALCBV e Bomfim - ALCB destinados a seu consumo interno ou utilização - Art. 112 do Decreto 7.212/2010"},{valor:"139",rotulo:"139 - Entrada de produtos estrangeiros na Área de Livre Comércio de Macapá e Santana -ALCMS destinados a seu consumo interno ou utilização - Art. 116 do Decreto 7.212/2010"},{valor:"140",rotulo:"140 - Entrada de produtos estrangeiros nas Áreas de Livre Comércio de Brasiléia - ALCB e de Cruzeiro do Sul - ALCCS destinados a seu consumo interno ou utilização - Art. 119 do Decreto 7.212/2010"},{valor:"141",rotulo:"141 - Remessa para Zona de Processamento de Exportação - ZPE - Art. 121 do Decreto 7.212/2010"},{valor:"142",rotulo:"142 - Setor Automotivo - Desembaraço aduaneiro, chassis e outros - regime aduaneiro especial - industrialização 87.01 a 87.05 - Art. 136, I do Decreto 7.212/2010"},{valor:"143",rotulo:"143 - Setor Automotivo - Do estabelecimento industrial produtos 87.01 a 87.05 da TIPI - mercado interno - empresa comercial atacadista controlada por PJ encomendante do exterior. - Art. 136, II do Decreto 7.212/2010"},{valor:"144",rotulo:"144 - Setor Automotivo - Do estabelecimento industrial - chassis e outros classificados nas posições 84.29, 84.32, 84.33, 87.01 a 87.06 e 87.11 da TIPI. - Art. 136, III do Decreto 7.212/2010"},{valor:"145",rotulo:"145 - Setor Automotivo - Desembaraço aduaneiro, chassis e outros classificados nas posições 84.29, 84.32, 84.33, 87.01 a 87.06 e 87.11 da TIPI quando importados diretamente por estabelecimento industrial - Art. 136, IV do Decreto 7.212/2010"},{valor:"146",rotulo:"146 - Setor Automotivo - do estabelecimento industrial matérias-primas, os produtos intermediários e os materiais de embalagem, adquiridos por fabricantes, preponderantemente, de componentes, chassis e outrosclassificados nos Códigos 84.29, 8432.40.00, 8432.80.00, 8433.20, 8433.30.00, 8433.40.00, 8433.5 e 87.01 a 87.06 da TIPIArt. 136, V do Decreto 7.212/2010"},{valor:"147",rotulo:"147 - Setor Automotivo -Desembaraço aduaneiro, as matérias-primas, os produtos intermediários e os materiais de embalagem, importados diretamente por fabricantes, preponderantemente, de componentes, chassis e outrosclassificados nos Códigos 84.29, 8432.40.00, 8432.80.00, 8433.20, 8433.30.00, 8433.40.00, 8433.5 e 87.01 a 87.06 da TIPI -Art. 136, VI do Decreto 7.212/2010"},{valor:"148",rotulo:"148 - Bens de Informática e Automação- matérias-primas, os produtos intermediários e os materiais de embalagem, quando adquiridos por estabelecimentos industriais fabricantes dos referidos bens. - Art. 148 do Decreto 7.212/2010"},{valor:"149",rotulo:"149 - Reporto - Saída de Estabelecimento de máquinas e outros quando adquiridos por beneficiários do REPORTO - Art. 166, I do Decreto 7.212/2010"},{valor:"150",rotulo:"150 - Reporto - Desembaraço aduaneiro de máquinas e outros quando adquiridos por beneficiários do REPORTO - Art. 166, II do Decreto 7.212/2010"},{valor:"151",rotulo:"151 - Repes - Desembaraço aduaneiro - bens sem similar nacional importados por beneficiários do REPES - Art. 171 do Decreto 7.212/2010"},{valor:"152",rotulo:"152 - Recine - Saída para beneficiário do regime - Art. 14, III da Lei 12.599/2012"},{valor:"153",rotulo:"153 - Recine - Desembaraço aduaneiro por beneficiário do regime - Art. 14, IV da Lei 12.599/2012"},{valor:"154",rotulo:"154 - Reif - Saída para beneficiário do regime - Lei 12.794/1013, art. 8, III"},{valor:"155",rotulo:"155 - Reif - Desembaraço aduaneiro por beneficiário do regime - Lei 12.794/1013, art. 8, IV"},{valor:"156",rotulo:"156 - Repnbl-Redes - Saída para beneficiário do regime - Lei n° 12.715/2012, art. 30, II"},{valor:"157",rotulo:"157 - Recompe - Saída de matérias-primas e produtos intermediários para beneficiários do regime - Decreto n° 7.243/2010, art. 5°, I"},{valor:"158",rotulo:"158 - Recompe - Saída de matérias-primas e produtos intermediários destinados a industrialização de equipamentos - Programa Estímulo Universidade-Empresa - Apoio à Inovação - Decreto n° 7.243/2010, art. 5°, III"},{valor:"159",rotulo:"159 - Rio 2016 - Produtos nacionais, duráveis, uso e consumo dos eventos, adquiridos pelas pessoas jurídicas mencionadas no § 2o do art. 4o da Lei n° 12.780/2013 - Lei n° 12.780/2013, Art. 13"},{valor:"160",rotulo:"160 - Regime Especial de Admissão Temporária nos Termos do Art. 2o da IN 1361/2013"},{valor:"161",rotulo:"161 - Regime Especial de Admissão Temporária nos termos do art. 5o da IN 1361/2013"},{valor:"162",rotulo:"162 - Regime Especial de Admissão Temporária nos termos do art. 7o da IN 1361/2013 (Suspensão com pagamento de tributos diferidos até a duração do regime, limitado a 100% do valor original)"},{valor:"163",rotulo:"163 - REPETRO-Industrialização Venda no mercado interno de matérias-primas, produtos intermediários e materiais de embalagem para serem utilizados integralmente no processo de industrialização de produto final destinado às atividades de exploração, de desenvolvimento e de produção de petróleo, de gás natural e de outros hidrocarbonetos fluidos à PJ habilitada no Repetro-Industrialização. - Instrução Normativa RFB nº 1901, de 17 de julho de 2019."},{valor:"164",rotulo:"164 - REPETRO-SPED Venda dos produtos finais destinados às atividades de exploração, de desenvolvimento e de produção de petróleo, de gás natural e de outros hidrocarbonetos fluidos previstas na Lei nº 9.478, de 6 de agosto de 1997 , na Lei nº 12.276, de 30 de junho de 2010, e na Lei nº 12.351, de 22 de dezembro de 2010, por fabricantes desses, beneficiários do RepetroIndustrialização, quando diretamente adquiridos por pessoa jurídica habilitada no RepetroSped.- Instrução Normativa RFB nº 1901, de 17 de julho de 2019."},{valor:"165",rotulo:"165 - O transportador com relação aos produtos tributados que transportar desacompanhados da documentação comprobatória de sua procedência; qualquer possuidor - com relação aos produtos tributados cuja posse mantiver para fins de venda ou industrialização; o industrial ou equiparado, mediante requerimento, nas operações anteriores, concomitantes ou posteriores às saídas que promover, nas hipóteses e condições estabelecidas pela Secretaria da Receita Federal, nos termos da IN RFB nº 1.081/2010."}],reducao:[{valor:"601",rotulo:"601 - Equipamentos e outros destinados à pesquisa e ao desenvolvimento tecnológico - Art. 72 do Decreto 7.212/2010"},{valor:"602",rotulo:"602 - Equipamentos e outros destinados àempresas habilitadas no PDTI e PDTA utilizados em pesquisa e ao desenvolvimento tecnológico - Art. 73 do Decreto 7.212/2010"},{valor:"603",rotulo:"603 - Microcomputadores e outros de até R$11.000,00, unidades de disco, circuitos, etc, destinados a bens de informática ou automação. Centro-Oeste SUDAM SUDENE - Art. 142, I do Decreto 7.212/2010"},{valor:"604",rotulo:"604 - Microcomputadores e outros de até R$11.000,00, unidades de disco, circuitos, etc, destinados a bens de informática ou automação. - Art. 142, I do Decreto 7.212/2010"},{valor:"605",rotulo:"605 - Bens de informática não incluídos no art. 142 do Decreto 7.212/2010 - Produzidos no CentroOeste, SUDAM, SUDENE - Art. 143, I do Decreto 7.212/2010"},{valor:"606",rotulo:"606 - Bens de informática não incluídos no art. 142 do Decreto 7.212/2010- Art. 143, II do Decreto 7.212/2010"},{valor:"607",rotulo:"607 - Padis - Art. 150 do Decreto 7.212/2010"},{valor:"608",rotulo:"608 - Patvd - Art. 158 do Decreto 7.212/2010"}],outros:[{valor:"999",rotulo:"999 - Tributação normal IPI; Outros"}]};var zM=t(54726),jM=t(72585);const $M={components:{Campo:L_.Z,SeletorCest:BM.Z,SeletorCfop:Gy.Z,SeletorNcm:LM.Z},computed:{campos(){return this.modal.campos},metadados:()=>Gl.Z,opcoesIpiTipo:()=>[{rotulo:"Normal",valor:"normal"},{rotulo:"Tributada com Alíquota zero",valor:"aliquotaZero"},{rotulo:"Isenta",valor:"isencao"},{rotulo:"Não Tributada",valor:"naoTributada"},{rotulo:"Imune",valor:"imunidade"},{rotulo:"Com Suspensão",valor:"suspensao"},{rotulo:"Redução",valor:"reducao"},{rotulo:"Outros",valor:"outros"}]},data:()=>({opcoesIpiCEnq:[],opcoesIpiCstEntrada:[],opcoesIpiCstSaida:[]}),emits:["duplicar","salvar"],methods:{adicionarLinhaNaLista(e,o){e[o]||(e[o]=[]),e[o].push({})},classificacaoJuridicaAlterada(){"T"===this.modal.campos.destinatario.pessoa&&(this.modal.campos.destinatario.regime="T",this.modal.campos.destinatario.tributacao="T",this.modal.campos.destinatario.tributacaoSetor="T",this.modal.campos.destinatario.indicadorIE="T")},ipiVisivelAlterado(){this.modal.campos.imposto.ipiVisivel||(this.modal.campos.imposto.ipiTipo="",this.modal.campos.imposto.ipiCstSaida="",this.modal.campos.imposto.ipiCstEntrada="",this.modal.campos.imposto.ipiCEnq="999",this.modal.campos.imposto.pIPI=0)},configICMSInterestadual(){if(void 0===this.modal.campos.icmsInterestadual){const e=[{uf:"AC",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"AL",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"AM",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"AP",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"BA",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"CE",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"DF",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"ES",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"GO",pICMSInter:"12.00",pICMSInterPart:"100.00"},{uf:"MA",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"MG",pICMSInter:"12.00",pICMSInterPart:"100.00"},{uf:"MS",pICMSInter:"12.00",pICMSInterPart:"100.00"},{uf:"MT",pICMSInter:"12.00",pICMSInterPart:"100.00"},{uf:"PA",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"PB",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"PE",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"PI",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"PR",pICMSInter:"12.00",pICMSInterPart:"100.00"},{uf:"RJ",pICMSInter:"12.00",pICMSInterPart:"100.00"},{uf:"RN",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"RO",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"RR",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"RS",pICMSInter:"12.00",pICMSInterPart:"100.00"},{uf:"SC",pICMSInter:"12.00",pICMSInterPart:"100.00"},{uf:"SE",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"SP",pICMSInter:"12.00",pICMSInterPart:"100.00"},{uf:"TO",pICMSInter:"7.00",pICMSInterPart:"100.00"}];this.modal.campos.icmsInterestadual=[];for(const o in e)this.modal.campos.icmsInterestadual[o]=e[o]}for(const e in this.modal.campos.icmsInterestadual)if(void 0===this.modal.campos.icmsInterestadual[e].pICMSUFDest){const o=this.modal.campos.icmsInterestadual[e].uf;this.modal.campos.icmsInterestadual[e].pICMSUFDest=(0,jM.i)({ufOrigem:o,ufDestino:o})}},removerLinhaDaLista(e,o,t){e[o].splice(t,1)},mostraCampo(e,o){if(!e)return!1;const t={ICMS00:["modBC","pICMS","pFCP"],ICMS10:["pICMS","pFCP","modBCST","pMVAST","pRedBCST","pICMSST","pFCPST"],ICMS20:["modBC","pICMS","pFCP"],ICMS30:["modBCST","pMVAST","pRedBCST","pICMSST","pFCPST"],ICMS40:[],ICMS51:["modBC","pICMS","pFCP"],ICMS60:["pST","pFCPSTRet","pICMSEfet"],ICMS70:["modBC","pICMS","pFCP","modBCST","pMVAST","pRedBCST","pICMSST","pFCPST"],ICMS90:["modBC","pICMS","pFCP","modBCST","pMVAST","pRedBCST","pICMSST","pFCPST"],ICMSSN101:[],ICMSSN102:[],ICMSSN201:["pICMS","pFCP","modBCST","pMVAST","pRedBCST","pICMSST","pFCPST"],ICMSSN202:["pICMS","pFCP","modBCST","pMVAST","pRedBCST","pICMSST","pFCPST"],ICMSSN500:["pST","pFCPSTRet","pICMSEfet"],ICMSSN900:["modBC","pICMS","modBCST","pMVAST","pRedBCST","pICMSST","pFCPST"]}[{"00":"ICMS00",10:"ICMS10",20:"ICMS20",30:"ICMS30",40:"ICMS40",41:"ICMS40",50:"ICMS40",51:"ICMS51",60:"ICMS60",70:"ICMS70",90:"ICMS90",101:"ICMSSN101",102:"ICMSSN102",103:"ICMSSN102",201:"ICMSSN201",202:"ICMSSN202",203:"ICMSSN202",300:"ICMSSN102",400:"ICMSSN102",500:"ICMSSN500",900:"ICMSSN900"}[e]];return!~["pICMS","pICMSST","pRedBCST"].indexOf(o)&&!!t&&t.includes(o)},mostraCampoPis(e,o){if(!e)return!1;const t={PISAliq:["pPIS"],PISQtde:["vAliqProdPIS"],PISNT:[],PISOutr:["pPIS","vAliqProdPIS"]}[e>="01"&&e<="02"?"PISAliq":"03"===e?"PISQtde":e>="04"&&e<="09"?"PISNT":"PISOutr"];return!!t&&t.includes(o)},mostraCampoCofins(e,o){if(!e)return!1;const t={COFINSAliq:["pCOFINS"],COFINSQtde:["vAliqProdCOFINS"],COFINSNT:[],COFINSOutr:["pCOFINS","vAliqProdCOFINS"]}[e>="01"&&e<="02"?"COFINSAliq":"03"===e?"COFINSQtde":e>="04"&&e<="09"?"COFINSNT":"COFINSOutr"];return!!t&&t.includes(o)}},props:{modal:{required:!0,type:Object}},watch:{"modal.campos.imposto.ipiTipo"(e){this.campos.imposto||(this.campos.imposto={}),this.opcoesIpiCstEntrada={normal:Gl.Z.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST._enumeration.filter((e=>["50"].includes(e.valor))),aliquotaZero:Gl.Z.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._enumeration.filter((e=>["51"].includes(e.valor))),isencao:Gl.Z.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._enumeration.filter((e=>["52"].includes(e.valor))),naoTributada:Gl.Z.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._enumeration.filter((e=>["53"].includes(e.valor))),imunidade:Gl.Z.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._enumeration.filter((e=>["54"].includes(e.valor))),suspensao:Gl.Z.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._enumeration.filter((e=>["55"].includes(e.valor))),reducao:Gl.Z.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST._enumeration.filter((e=>["50","99"].includes(e.valor))),outros:Gl.Z.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST._enumeration.filter((e=>["99"].includes(e.valor)))}[e]||[],1===this.opcoesIpiCstEntrada.length&&(this.campos.imposto.ipiCstEntrada=this.opcoesIpiCstEntrada[0].valor),this.opcoesIpiCstSaida={normal:Gl.Z.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST._enumeration.filter((e=>["00"].includes(e.valor))),aliquotaZero:Gl.Z.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._enumeration.filter((e=>["01"].includes(e.valor))),isencao:Gl.Z.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._enumeration.filter((e=>["02"].includes(e.valor))),naoTributada:Gl.Z.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._enumeration.filter((e=>["03"].includes(e.valor))),imunidade:Gl.Z.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._enumeration.filter((e=>["04"].includes(e.valor))),suspensao:Gl.Z.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._enumeration.filter((e=>["05"].includes(e.valor))),reducao:Gl.Z.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST._enumeration.filter((e=>["00","49"].includes(e.valor))),outros:Gl.Z.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST._enumeration.filter((e=>["49"].includes(e.valor)))}[e]||[],1===this.opcoesIpiCstSaida.length&&(this.campos.imposto.ipiCstSaida=this.opcoesIpiCstSaida[0].valor),this.opcoesIpiCEnq=OM[e]||OM.outros,1===this.opcoesIpiCEnq.length&&(this.campos.imposto.ipiCEnq=this.opcoesIpiCEnq[0].valor)},"modal.visivel"(e){if(e){const e={id:this.$utils.uuid(),descricao:"Configuração",ordem:100,dataInicio:zM.ZP.formatDate(new Date((new Date).toDateString())),origemMercadoria:"T",destinatario:{consumidor:"T",destino:"T",indicadorIE:"T",pessoa:"T",regime:"T",tributacao:"T",tributacaoSetor:"T"},emitente:{regime:"1",tributacao:"T",tributacaoSetor:"T"},imposto:{cofinsCst:"",cstCsosn:"",ipiCEnq:"",ipiCstEntrada:"",ipiCstSaida:"",ipiTipo:"",ipiVisivel:!1,modBC:"",modBCST:"",pCOFINS:0,pFCP:0,pFCPST:0,pFCPSTRet:0,pFCPSTRetVisivel:!1,pFCPSTVisivel:!1,pFCPVisivel:!1,pICMS:0,pICMSEfet:0,pICMSEfetVisivel:!1,pICMSST:0,pIPI:0,pMVAST:0,pPIS:0,pRedBCST:0,pST:0,pSTVisivel:!1,pisCst:"",vAliqProdCOFINS:0,vAliqProdPIS:0}};for(const o in e)if("object"==typeof e[o]){void 0===this.modal.campos[o]&&(this.modal.campos[o]={});for(const t in e[o])void 0===this.modal.campos[o][t]&&(this.modal.campos[o][t]=e[o][t])}else void 0===this.modal.campos[o]&&(this.modal.campos[o]=e[o]);this.configICMSInterestadual()}}}},UM=(0,T.Z)($M,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-header"),m=(0,a.resolveComponent)("campo"),u=(0,a.resolveComponent)("row"),p=(0,a.resolveComponent)("q-btn-toggle"),h=(0,a.resolveComponent)("q-tooltip"),C=(0,a.resolveComponent)("q-separator"),v=(0,a.resolveComponent)("SeletorNcm"),f=(0,a.resolveComponent)("SeletorCest"),N=(0,a.resolveComponent)("SeletorCfop"),V=(0,a.resolveComponent)("q-page-container"),g=(0,a.resolveComponent)("q-layout"),x=(0,a.resolveComponent)("q-dialog"),b=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(x,{modelValue:t.modal.visivel,"onUpdate:modelValue":o[54]||(o[54]=e=>t.modal.visivel=e),maximized:""},{default:(0,a.withCtx)((()=>[t.modal.campos.id?((0,a.openBlock)(),(0,a.createBlock)(g,{key:0,container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{flat:"",round:"",dense:"",icon:"arrow_back"},null,512),[[b]]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[_S])),_:1}),(0,a.createVNode)(s,{class:"q-ml-sm no-shadow",color:"white","text-color":"primary",label:"Duplicar",unelevated:"",onClick:o[0]||(o[0]=o=>e.$emit("duplicar"))}),(0,a.createVNode)(s,{class:"q-ml-sm no-shadow",color:"white","text-color":"primary",label:"Salvar",onClick:o[1]||(o[1]=o=>e.$emit("salvar")),unelevated:""})])),_:1})])),_:1}),(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",yS,[(0,a.createElementVNode)("div",IS,[(0,a.createElementVNode)("form",{onSubmit:o[53]||(o[53]=(0,a.withModifiers)(((...o)=>e.gravarConfig&&e.gravarConfig(...o)),["prevent"]))},[(0,a.createElementVNode)("div",ES,[(0,a.createVNode)(u,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",SS,[(0,a.createVNode)(m,{modelValue:l.campos.descricao,"onUpdate:modelValue":o[2]||(o[2]=e=>l.campos.descricao=e),rotulo:"Descrição da configuraçao",dense:""},null,8,["modelValue"])]),(0,a.createElementVNode)("div",MS,[(0,a.createVNode)(m,{modelValue:l.campos.ordem,"onUpdate:modelValue":o[3]||(o[3]=e=>l.campos.ordem=e),rotulo:"Ordem",tipo:"decimal",decimals:"0",zerosDireita:"0",dense:""},null,8,["modelValue"])]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[TS])),_:1})])),_:1}),(0,a.createElementVNode)("div",kS,[(0,a.createVNode)(m,{modelValue:l.campos.dataInicio,"onUpdate:modelValue":o[4]||(o[4]=e=>l.campos.dataInicio=e),rotulo:"Início",tipo:"data",dense:""},null,8,["modelValue"])]),(0,a.createElementVNode)("div",DS,[(0,a.createVNode)(m,{modelValue:l.campos.dataFim,"onUpdate:modelValue":o[5]||(o[5]=e=>l.campos.dataFim=e),rotulo:"Fim",tipo:"data",dense:""},null,8,["modelValue"])])])),_:1})]),(0,a.createVNode)(c,{class:"q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[qS])),_:1})])),_:1}),(0,a.createVNode)(u,{class:"q-col-gutter-md q-mb-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",FS,[(0,a.createElementVNode)("div",PS,[(0,a.createVNode)(c,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[AS])),_:1})])),_:1}),(0,a.createVNode)(u,{class:"q-col-gutter-md q-pt-md items-center"},{default:(0,a.withCtx)((()=>[BS,(0,a.createVNode)(p,{unelevated:"",modelValue:l.campos.emitente.regime,"onUpdate:modelValue":o[6]||(o[6]=e=>l.campos.emitente.regime=e),"toggle-color":"primary",options:[{label:"Simples",value:"1"},{label:"Normal",value:"3"}]},null,8,["modelValue"])])),_:1}),"3"===l.campos.emitente.regime?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,class:"q-col-gutter-md q-pt-md items-center"},{default:(0,a.withCtx)((()=>[LS,(0,a.createVNode)(p,{unelevated:"",modelValue:l.campos.emitente.tributacao,"onUpdate:modelValue":o[7]||(o[7]=e=>l.campos.emitente.tributacao=e),"toggle-color":"primary",options:[{label:"Todos",value:"T"},{label:"Lucro real",value:"1"},{label:"Lucro presumido",value:"2"}]},null,8,["modelValue"])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(u,{class:"q-col-gutter-md q-pt-md items-center"},{default:(0,a.withCtx)((()=>[OS,(0,a.createVNode)(p,{unelevated:"",modelValue:l.campos.emitente.tributacaoSetor,"onUpdate:modelValue":o[8]||(o[8]=e=>l.campos.emitente.tributacaoSetor=e),"toggle-color":"primary",options:[{label:"Todos",value:"T"},{label:"Indústria",value:"1"},{label:"Outros",value:"99"}]},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(c,{class:"q-px-none q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[zS])),_:1}),(0,a.createVNode)(s,{color:"primary",class:"self-center",dense:"",flat:"",icon:"add",round:"",onClick:o[9]||(o[9]=e=>l.adicionarLinhaNaLista(l.campos.emitente,"ufs"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[jS])),_:1})])),_:1})])),_:1}),e.$lodash.get(l.campos,"emitente.ufs.length")?((0,a.openBlock)(),(0,a.createBlock)(u,{key:1,class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.campos.emitente.ufs,((e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o,class:"col-12"},[(0,a.createVNode)(u,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:e.codigo,"onUpdate:modelValue":o=>e.codigo=o,class:"col",opcoes:l.metadados.infNFe.emit.enderEmit.UF._enumeration,"rotulo-fixo":l.metadados.infNFe.emit.enderEmit.UF._titulo,tipo:"seletor"},null,8,["modelValue","onUpdate:modelValue","opcoes","rotulo-fixo"]),(0,a.createVNode)(s,{color:"tertiary",class:"col-auto self-center",dense:"",flat:"",icon:"delete",round:"",onClick:e=>l.removerLinhaDaLista(l.campos.emitente,"ufs",o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[$S])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])))),128))])),_:1})):((0,a.openBlock)(),(0,a.createBlock)(u,{key:2,class:"q-col-gutter-md q-pt-md justify-center"},{default:(0,a.withCtx)((()=>[US])),_:1}))])]),(0,a.createElementVNode)("div",ZS,[(0,a.createElementVNode)("div",QS,[(0,a.createVNode)(c,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[RS])),_:1})])),_:1}),(0,a.createVNode)(u,{class:"q-col-gutter-md q-pt-md items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:l.campos.destinatario.pessoa,"onUpdate:modelValue":[o[10]||(o[10]=e=>l.campos.destinatario.pessoa=e),l.classificacaoJuridicaAlterada],class:"col-12",opcoes:[{rotulo:"Todos",valor:"T"},{rotulo:"Pessoa física",valor:"PF"},{rotulo:"Pessoa jurídica",valor:"PJ"},{rotulo:"Estrangeiro",valor:"Estrangeiro"}],"rotulo-fixo":"Classificação Jurídica",tipo:"seletor"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),"PJ"===l.campos.destinatario.pessoa?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(u,{class:"q-col-gutter-md q-pt-md items-center"},{default:(0,a.withCtx)((()=>[GS,(0,a.createVNode)(p,{unelevated:"",modelValue:l.campos.destinatario.regime,"onUpdate:modelValue":o[11]||(o[11]=e=>l.campos.destinatario.regime=e),"toggle-color":"primary",options:[{label:"Todos",value:"T"},{label:"Simples",value:"1"},{label:"Normal",value:"3"}]},null,8,["modelValue"])])),_:1}),"3"===l.campos.destinatario.regime?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,class:"q-col-gutter-md q-pt-md items-center"},{default:(0,a.withCtx)((()=>[HS,(0,a.createVNode)(p,{unelevated:"",modelValue:l.campos.destinatario.tributacao,"onUpdate:modelValue":o[12]||(o[12]=e=>l.campos.destinatario.tributacao=e),"toggle-color":"primary",options:[{label:"Todos",value:"T"},{label:"Lucro real",value:"1"},{label:"Lucro presumido",value:"2"}]},null,8,["modelValue"])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(u,{class:"q-col-gutter-md q-pt-md items-center"},{default:(0,a.withCtx)((()=>[JS,(0,a.createVNode)(p,{unelevated:"",modelValue:l.campos.destinatario.tributacaoSetor,"onUpdate:modelValue":o[13]||(o[13]=e=>l.campos.destinatario.tributacaoSetor=e),"toggle-color":"primary",options:[{label:"Todos",value:"T"},{label:"Indústria",value:"1"},{label:"Outros",value:"99"}]},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(u,{class:"q-col-gutter-md q-pt-md items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:l.campos.destinatario.indicadorIE,"onUpdate:modelValue":o[14]||(o[14]=e=>l.campos.destinatario.indicadorIE=e),class:"col-12",opcoes:[{rotulo:"Todos",valor:"T"},...l.metadados.infNFe.dest.indIEDest._enumeration],"rotulo-fixo":"Indicador da IE",tipo:"seletor"},null,8,["modelValue","opcoes"])])),_:1})],64)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(u,{class:"q-col-gutter-md q-py-md items-center"},{default:(0,a.withCtx)((()=>[YS,(0,a.createVNode)(p,{unelevated:"",modelValue:l.campos.destinatario.consumidor,"onUpdate:modelValue":o[15]||(o[15]=e=>l.campos.destinatario.consumidor=e),"toggle-color":"primary",options:[{label:"Todos",value:"T"},{label:"Sim",value:"S"},{label:"Não",value:"N"}]},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(m,{modelValue:l.campos.destinatario.destino,"onUpdate:modelValue":o[16]||(o[16]=e=>l.campos.destinatario.destino=e),class:"col-12",dica:l.metadados.infNFe.ide.idDest._doc,opcoes:[{rotulo:"Todos",valor:"T"},...l.metadados.infNFe.ide.idDest._enumeration],"rotulo-fixo":l.metadados.infNFe.ide.idDest._titulo,tipo:"seletor"},null,8,["modelValue","dica","opcoes","rotulo-fixo"]),(0,a.createVNode)(c,{class:"q-px-none q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[XS])),_:1}),(0,a.createVNode)(s,{color:"primary",class:"self-center",dense:"",flat:"",icon:"add",round:"",onClick:o[17]||(o[17]=e=>l.adicionarLinhaNaLista(l.campos.destinatario,"ufs"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[WS])),_:1})])),_:1})])),_:1}),e.$lodash.get(l.campos,"destinatario.ufs.length")?((0,a.openBlock)(),(0,a.createBlock)(u,{key:1,class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.campos.destinatario.ufs,((e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o,class:"col-12"},[(0,a.createVNode)(u,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:e.codigo,"onUpdate:modelValue":o=>e.codigo=o,class:"col",opcoes:l.metadados.infNFe.dest.enderDest.UF._enumeration,"rotulo-fixo":l.metadados.infNFe.dest.enderDest.UF._titulo,tipo:"seletor"},null,8,["modelValue","onUpdate:modelValue","opcoes","rotulo-fixo"]),(0,a.createVNode)(s,{color:"tertiary",class:"col-auto self-center",dense:"",flat:"",icon:"delete",round:"",onClick:e=>l.removerLinhaDaLista(l.campos.destinatario,"ufs",o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[KS])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])))),128))])),_:1})):((0,a.openBlock)(),(0,a.createBlock)(u,{key:2,class:"q-col-gutter-md q-pt-md justify-center"},{default:(0,a.withCtx)((()=>[eM])),_:1}))])]),(0,a.createElementVNode)("div",oM,[(0,a.createElementVNode)("div",tM,[(0,a.createVNode)(c,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[aM])),_:1})])),_:1}),(0,a.createVNode)(u,{class:"q-col-gutter-md q-pt-md items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:l.campos.origemMercadoria,"onUpdate:modelValue":o[18]||(o[18]=e=>l.campos.origemMercadoria=e),class:"col-12",opcoes:[{rotulo:"Todos",valor:"T"},...l.metadados.infNFe.det.lista.imposto.noXml_orig._enumeration],"rotulo-fixo":l.metadados.infNFe.det.lista.imposto.noXml_orig._titulo,tipo:"seletor"},null,8,["modelValue","opcoes","rotulo-fixo"])])),_:1}),(0,a.createVNode)(C,{class:"q-mt-md"}),(0,a.createVNode)(c,{class:"q-px-none q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[iM,(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[rM])),_:1})])),_:1}),(0,a.createVNode)(s,{color:"primary",class:"self-center",dense:"",flat:"",icon:"add",round:"",onClick:o[19]||(o[19]=e=>l.adicionarLinhaNaLista(l.campos,"ncms"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[lM])),_:1})])),_:1})])),_:1}),e.$lodash.get(l.campos,"ncms.length")?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.campos.ncms,((e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o,class:"col-12"},[(0,a.createVNode)(u,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{modelValue:e.codigo,"onUpdate:modelValue":o=>e.codigo=o,class:"col-12"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.createVNode)(u,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{modelValue:e.cest,"onUpdate:modelValue":o=>e.cest=o,ncm:e.codigo,class:"col"},null,8,["modelValue","onUpdate:modelValue","ncm"]),(0,a.createVNode)(s,{color:"tertiary",class:"col-auto self-center",dense:"",flat:"",icon:"delete",round:"",onClick:e=>l.removerLinhaDaLista(l.campos,"ncms",o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[sM])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])))),128))])),_:1})):((0,a.openBlock)(),(0,a.createBlock)(u,{key:1,class:"q-col-gutter-md q-pt-md justify-center"},{default:(0,a.withCtx)((()=>[nM])),_:1})),(0,a.createVNode)(c,{class:"q-px-none q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[cM,(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[dM])),_:1})])),_:1}),(0,a.createVNode)(s,{color:"primary",class:"self-center",dense:"",flat:"",icon:"add",round:"",onClick:o[20]||(o[20]=e=>l.adicionarLinhaNaLista(l.campos,"cfops"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[mM])),_:1})])),_:1})])),_:1}),e.$lodash.get(l.campos,"cfops.length")?((0,a.openBlock)(),(0,a.createBlock)(u,{key:2,class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.campos.cfops,((e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o,class:"col-12"},[(0,a.createVNode)(u,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{modelValue:e.codigo,"onUpdate:modelValue":o=>e.codigo=o,class:"col"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(s,{color:"tertiary",class:"col-auto self-center",dense:"",flat:"",icon:"delete",round:"",onClick:e=>l.removerLinhaDaLista(l.campos,"cfops",o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[uM])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])))),128))])),_:1})):((0,a.openBlock)(),(0,a.createBlock)(u,{key:3,class:"q-col-gutter-md q-pt-md justify-center"},{default:(0,a.withCtx)((()=>[pM])),_:1}))])])])),_:1}),(0,a.createVNode)(c,{class:"q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[hM])),_:1})])),_:1}),(0,a.createVNode)(u,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",CM,[(0,a.createElementVNode)("div",vM,[(0,a.createVNode)(c,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[fM])),_:1})])),_:1}),(0,a.createVNode)(u,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:l.campos.imposto.pisCst,"onUpdate:modelValue":o[21]||(o[21]=e=>l.campos.imposto.pisCst=e),class:"col-12",opcoes:l.metadados.infNFe.det.lista.imposto.noXml_CSTPis._enumeration,"rotulo-fixo":"CST do PIS",tipo:"seletor"},null,8,["modelValue","opcoes"]),l.mostraCampoPis(l.campos.imposto.pisCst,"pPIS")?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,modelValue:l.campos.imposto.pPIS,"onUpdate:modelValue":o[22]||(o[22]=e=>l.campos.imposto.pPIS=e),class:"col-12 col-md-6",rotulo:l.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISAliq.pPIS._titulo,tipo:"decimal",decimals:"4",suffix:"%"},null,8,["modelValue","rotulo"])):(0,a.createCommentVNode)("",!0),l.mostraCampoPis(l.campos.imposto.pisCst,"vAliqProdPIS")?((0,a.openBlock)(),(0,a.createBlock)(m,{key:1,modelValue:l.campos.imposto.vAliqProdPIS,"onUpdate:modelValue":o[23]||(o[23]=e=>l.campos.imposto.vAliqProdPIS=e),class:"col-12 col-md-6",rotulo:l.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISQtde.vAliqProd._titulo,tipo:"decimal",decimals:"4"},null,8,["modelValue","rotulo"])):(0,a.createCommentVNode)("",!0)])),_:1})])]),(0,a.createElementVNode)("div",NM,[(0,a.createElementVNode)("div",VM,[(0,a.createVNode)(c,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[gM])),_:1})])),_:1}),(0,a.createVNode)(u,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:l.campos.imposto.cofinsCst,"onUpdate:modelValue":o[24]||(o[24]=e=>l.campos.imposto.cofinsCst=e),class:"col-12",opcoes:l.metadados.infNFe.det.lista.imposto.noXml_CSTCofins._enumeration,"rotulo-fixo":"CST do COFINS",tipo:"seletor"},null,8,["modelValue","opcoes"]),l.mostraCampoCofins(l.campos.imposto.cofinsCst,"pCOFINS")?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,modelValue:l.campos.imposto.pCOFINS,"onUpdate:modelValue":o[25]||(o[25]=e=>l.campos.imposto.pCOFINS=e),class:"col-12 col-md-6",rotulo:l.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSAliq.pCOFINS._titulo,tipo:"decimal",decimals:"4",suffix:"%"},null,8,["modelValue","rotulo"])):(0,a.createCommentVNode)("",!0),l.mostraCampoCofins(l.campos.imposto.cofinsCst,"vAliqProdCOFINS")?((0,a.openBlock)(),(0,a.createBlock)(m,{key:1,modelValue:l.campos.imposto.vAliqProdCOFINS,"onUpdate:modelValue":o[26]||(o[26]=e=>l.campos.imposto.vAliqProdCOFINS=e),class:"col-12 col-md-6",rotulo:l.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSQtde.vAliqProd._titulo,tipo:"decimal",decimals:"4"},null,8,["modelValue","rotulo"])):(0,a.createCommentVNode)("",!0)])),_:1})])]),(0,a.createElementVNode)("div",xM,[(0,a.createElementVNode)("div",bM,[(0,a.createVNode)(c,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[wM])),_:1}),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(m,{modelValue:l.campos.imposto.ipiVisivel,"onUpdate:modelValue":[o[27]||(o[27]=e=>l.campos.imposto.ipiVisivel=e),l.ipiVisivelAlterado],tipo:"logico"},null,8,["modelValue","onUpdate:modelValue"])])])),_:1}),l.campos.imposto.ipiVisivel?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:l.campos.imposto.ipiTipo,"onUpdate:modelValue":o[28]||(o[28]=e=>l.campos.imposto.ipiTipo=e),class:"col-12",opcoes:l.opcoesIpiTipo,"rotulo-fixo":"Tipo de tributação de IPI",tipo:"seletor"},null,8,["modelValue","opcoes"]),l.campos.imposto.ipiTipo?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,modelValue:l.campos.imposto.ipiCstSaida,"onUpdate:modelValue":o[29]||(o[29]=e=>l.campos.imposto.ipiCstSaida=e),class:"col-12",opcoes:r.opcoesIpiCstSaida,"rotulo-fixo":"CST para nota de saída",tipo:"seletor"},null,8,["modelValue","opcoes"])):(0,a.createCommentVNode)("",!0),l.campos.imposto.ipiTipo?((0,a.openBlock)(),(0,a.createBlock)(m,{key:1,modelValue:l.campos.imposto.ipiCstEntrada,"onUpdate:modelValue":o[30]||(o[30]=e=>l.campos.imposto.ipiCstEntrada=e),class:"col-12",opcoes:r.opcoesIpiCstEntrada,"rotulo-fixo":"CST para nota de entrada",tipo:"seletor"},null,8,["modelValue","opcoes"])):(0,a.createCommentVNode)("",!0),l.campos.imposto.ipiTipo?((0,a.openBlock)(),(0,a.createBlock)(m,{key:2,modelValue:l.campos.imposto.ipiCEnq,"onUpdate:modelValue":o[31]||(o[31]=e=>l.campos.imposto.ipiCEnq=e),class:"col-12",opcoes:r.opcoesIpiCEnq,dica:l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.cEnq._doc,"rotulo-fixo":l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.cEnq._titulo,tipo:"seletor"},null,8,["modelValue","opcoes","dica","rotulo-fixo"])):(0,a.createCommentVNode)("",!0),["normal","reducao","outros"].includes(l.campos.imposto.ipiTipo)?((0,a.openBlock)(),(0,a.createBlock)(m,{key:3,modelValue:l.campos.imposto.pIPI,"onUpdate:modelValue":o[32]||(o[32]=e=>l.campos.imposto.pIPI=e),class:"col-12",rotulo:l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.pIPI._titulo,tipo:"decimal",decimals:"4",suffix:"%"},null,8,["modelValue","rotulo"])):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0)])]),(0,a.createElementVNode)("div",_M,[(0,a.createElementVNode)("div",yM,[(0,a.createVNode)(c,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[IM])),_:1})])),_:1}),(0,a.createVNode)(u,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>["3"===l.campos.emitente.regime?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,modelValue:l.campos.imposto.cstCsosn,"onUpdate:modelValue":o[33]||(o[33]=e=>l.campos.imposto.cstCsosn=e),class:"col-12","rotulo-fixo":"CST",opcoes:l.metadados.infNFe.det.lista.imposto.noXml_CST._enumeration,tipo:"seletor"},null,8,["modelValue","opcoes"])):((0,a.openBlock)(),(0,a.createBlock)(m,{key:1,modelValue:l.campos.imposto.cstCsosn,"onUpdate:modelValue":o[34]||(o[34]=e=>l.campos.imposto.cstCsosn=e),class:"col-12","rotulo-fixo":"CSOSN",opcoes:l.metadados.infNFe.det.lista.imposto.noXml_CSOSN._enumeration,tipo:"seletor"},null,8,["modelValue","opcoes"])),l.mostraCampo(l.campos.imposto.cstCsosn,"modBC")?((0,a.openBlock)(),(0,a.createBlock)(m,{key:2,modelValue:l.campos.imposto.modBC,"onUpdate:modelValue":o[35]||(o[35]=e=>l.campos.imposto.modBC=e),class:"col-12",opcoes:l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.modBC._enumeration,"rotulo-fixo":l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.modBC._titulo,tipo:"seletor"},null,8,["modelValue","opcoes","rotulo-fixo"])):(0,a.createCommentVNode)("",!0),l.mostraCampo(l.campos.imposto.cstCsosn,"modBCST")?((0,a.openBlock)(),(0,a.createBlock)(m,{key:3,modelValue:l.campos.imposto.modBCST,"onUpdate:modelValue":o[36]||(o[36]=e=>l.campos.imposto.modBCST=e),class:"col-12",opcoes:l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBCST._enumeration,"rotulo-fixo":l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBCST._titulo,tipo:"seletor"},null,8,["modelValue","opcoes","rotulo-fixo"])):(0,a.createCommentVNode)("",!0),l.mostraCampo(l.campos.imposto.cstCsosn,"pICMS")?((0,a.openBlock)(),(0,a.createBlock)(m,{key:4,modelValue:l.campos.imposto.pICMS,"onUpdate:modelValue":o[37]||(o[37]=e=>l.campos.imposto.pICMS=e),class:"col-12 col-md-3",rotulo:l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.pICMS._titulo,dica:l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.pICMS._doc,tipo:"decimal",decimals:"4",suffix:"%"},null,8,["modelValue","rotulo","dica"])):(0,a.createCommentVNode)("",!0),l.mostraCampo(l.campos.imposto.cstCsosn,"pRedBCST")?((0,a.openBlock)(),(0,a.createBlock)(m,{key:5,modelValue:l.campos.imposto.pRedBCST,"onUpdate:modelValue":o[38]||(o[38]=e=>l.campos.imposto.pRedBCST=e),class:"col-12 col-md-3",rotulo:l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pRedBCST._titulo,dica:l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pRedBCST._doc,tipo:"decimal",decimals:"4",suffix:"%"},null,8,["modelValue","rotulo","dica"])):(0,a.createCommentVNode)("",!0),l.mostraCampo(l.campos.imposto.cstCsosn,"pICMSST")?((0,a.openBlock)(),(0,a.createBlock)(m,{key:6,modelValue:l.campos.imposto.pICMSST,"onUpdate:modelValue":o[39]||(o[39]=e=>l.campos.imposto.pICMSST=e),class:"col-12 col-md-3",rotulo:l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pICMSST._titulo,dica:l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pICMSST._doc,tipo:"decimal",decimals:"4",suffix:"%"},null,8,["modelValue","rotulo","dica"])):(0,a.createCommentVNode)("",!0),l.mostraCampo(l.campos.imposto.cstCsosn,"pST")?((0,a.openBlock)(),(0,a.createBlock)(m,{key:7,modelValue:l.campos.imposto.pST,"onUpdate:modelValue":o[40]||(o[40]=e=>l.campos.imposto.pST=e),class:"col-12 col-md-3",rotulo:l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.pST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},null,8,["modelValue","rotulo"])):(0,a.createCommentVNode)("",!0),l.mostraCampo(l.campos.imposto.cstCsosn,"pICMSEfet")?((0,a.openBlock)(),(0,a.createBlock)(m,{key:8,modelValue:l.campos.imposto.pICMSEfet,"onUpdate:modelValue":o[41]||(o[41]=e=>l.campos.imposto.pICMSEfet=e),class:"col-12 col-md-3",rotulo:l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.pICMSEfet._titulo,tipo:"decimal",decimals:"4",suffix:"%"},null,8,["modelValue","rotulo"])):(0,a.createCommentVNode)("",!0)])),_:1}),l.mostraCampo(l.campos.imposto.cstCsosn,"pST")?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:l.campos.imposto.pSTVisivel,"onUpdate:modelValue":o[42]||(o[42]=e=>l.campos.imposto.pSTVisivel=e),class:"col-12 col-md-6",rotulo:"ICMS ST Retido anteriormente",tipo:"logico"},null,8,["modelValue"]),l.campos.imposto.pSTVisivel?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,modelValue:l.campos.imposto.pST,"onUpdate:modelValue":o[43]||(o[43]=e=>l.campos.imposto.pST=e),class:"col-12 col-md-6",rotulo:l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.pST._titulo,dica:l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.pST._doc,tipo:"decimal",decimals:"4",suffix:"%"},null,8,["modelValue","rotulo","dica"])):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0),l.mostraCampo(l.campos.imposto.cstCsosn,"pFCP")?((0,a.openBlock)(),(0,a.createBlock)(u,{key:1,class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:l.campos.imposto.pFCPVisivel,"onUpdate:modelValue":o[44]||(o[44]=e=>l.campos.imposto.pFCPVisivel=e),class:"col-12 col-md-6",rotulo:"FCP - Fundo de Combate à Pobreza",tipo:"logico"},null,8,["modelValue"]),l.campos.imposto.pFCPVisivel?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,modelValue:l.campos.imposto.pFCP,"onUpdate:modelValue":o[45]||(o[45]=e=>l.campos.imposto.pFCP=e),class:"col-12 col-md-6",rotulo:l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.pFCP._titulo,dica:l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.pFCP._doc,tipo:"decimal",decimals:"4",suffix:"%"},null,8,["modelValue","rotulo","dica"])):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0),l.mostraCampo(l.campos.imposto.cstCsosn,"pFCPST")?((0,a.openBlock)(),(0,a.createBlock)(u,{key:2,class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:l.campos.imposto.pFCPSTVisivel,"onUpdate:modelValue":o[46]||(o[46]=e=>l.campos.imposto.pFCPSTVisivel=e),class:"col-12 col-md-6",rotulo:"FCP ST - Fundo de Combate à Pobreza ST",tipo:"logico"},null,8,["modelValue"]),l.campos.imposto.pFCPSTVisivel?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,modelValue:l.campos.imposto.pFCPST,"onUpdate:modelValue":o[47]||(o[47]=e=>l.campos.imposto.pFCPST=e),class:"col-12 col-md-6",rotulo:l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.pFCPST._titulo,dica:l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.pFCPST._doc,tipo:"decimal",decimals:"4",suffix:"%"},null,8,["modelValue","rotulo","dica"])):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0),l.mostraCampo(l.campos.imposto.cstCsosn,"pFCPSTRet")?((0,a.openBlock)(),(0,a.createBlock)(u,{key:3,class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:l.campos.imposto.pFCPSTRetVisivel,"onUpdate:modelValue":o[48]||(o[48]=e=>l.campos.imposto.pFCPSTRetVisivel=e),class:"col-12 col-md-6",rotulo:"FCP ST Retido anteriormente",tipo:"logico"},null,8,["modelValue"]),l.campos.imposto.pFCPSTRetVisivel?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,modelValue:l.campos.imposto.pFCPSTRet,"onUpdate:modelValue":o[49]||(o[49]=e=>l.campos.imposto.pFCPSTRet=e),class:"col-12 col-md-6",rotulo:l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.pFCPSTRet._titulo,tipo:"decimal",decimals:"4",suffix:"%"},null,8,["modelValue","rotulo"])):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0),l.mostraCampo(l.campos.imposto.cstCsosn,"pICMSEfet")?((0,a.openBlock)(),(0,a.createBlock)(u,{key:4,class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:l.campos.imposto.pICMSEfetVisivel,"onUpdate:modelValue":o[50]||(o[50]=e=>l.campos.imposto.pICMSEfetVisivel=e),class:"col-12 col-md-6",rotulo:"ICMS Efetivo",tipo:"logico"},null,8,["modelValue"]),l.campos.imposto.pICMSEfetVisivel?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,modelValue:l.campos.imposto.pICMSEfet,"onUpdate:modelValue":o[51]||(o[51]=e=>l.campos.imposto.pICMSEfet=e),class:"col-12 col-md-6",rotulo:l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.pICMSEfet._titulo,dica:l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.pICMSEfet._doc,tipo:"decimal",decimals:"4",suffix:"%"},null,8,["modelValue","rotulo","dica"])):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(u,{class:"q-col-gutter-md q-my-md text-body1"},{default:(0,a.withCtx)((()=>[EM,(0,a.createElementVNode)("div",SM,[(0,a.createTextVNode)((0,a.toDisplayString)(l.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSUFDest._titulo)+" ",1),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSUFDest._doc),1)])),_:1})]),(0,a.createElementVNode)("div",MM,[(0,a.createTextVNode)((0,a.toDisplayString)(l.metadados.infNFe.det.lista.imposto.ICMSUFDest.pFCPUFDest._titulo)+" ",1),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.metadados.infNFe.det.lista.imposto.ICMSUFDest.pFCPUFDest._doc),1)])),_:1})]),l.mostraCampo(l.campos.imposto.cstCsosn,"pMVAST")?((0,a.openBlock)(),(0,a.createElementBlock)("div",TM,[(0,a.createTextVNode)((0,a.toDisplayString)(l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pMVAST._titulo)+" ",1),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pMVAST._doc),1)])),_:1})])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",kM,[DM,(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[qM])),_:1})])])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.campos.icmsInterestadual,((e,o)=>((0,a.openBlock)(),(0,a.createBlock)(u,{class:"q-col-gutter-md",key:o},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:e.uf,"onUpdate:modelValue":o=>e.uf=o,class:"col-2 col-md-2","apenas-leitura":""},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(m,{modelValue:e.pICMSUFDest,"onUpdate:modelValue":o=>e.pICMSUFDest=o,class:"col-6 col-md-3",dica:l.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSUFDest._doc,tipo:"decimal",decimals:"2",suffix:"%"},null,8,["modelValue","onUpdate:modelValue","dica"]),(0,a.createVNode)(m,{modelValue:e.pFCPUFDest,"onUpdate:modelValue":o=>e.pFCPUFDest=o,class:"col-6 col-md-3",dica:l.metadados.infNFe.det.lista.imposto.ICMSUFDest.pFCPUFDest._doc,tipo:"decimal",decimals:"2",suffix:"%"},null,8,["modelValue","onUpdate:modelValue","dica"]),l.mostraCampo(l.campos.imposto.cstCsosn,"pMVAST")?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,modelValue:e.pMVAST,"onUpdate:modelValue":o=>e.pMVAST=o,class:"col-6 col-md-2",dica:l.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pMVAST._doc,tipo:"decimal",decimals:"4",suffix:"%"},null,8,["modelValue","onUpdate:modelValue","dica"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(m,{modelValue:e.pRedBCSTInter,"onUpdate:modelValue":o=>e.pRedBCSTInter=o,class:"col-6 col-md-2",dica:"Percentual de redução da BC ICMS ST Interestadual (pRedBCST) (Opcional)",tipo:"decimal",decimals:"4",suffix:"%"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)))),128))])]),(0,a.createElementVNode)("div",FM,[(0,a.createElementVNode)("div",PM,[(0,a.createVNode)(c,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[AM])),_:1})])),_:1}),(0,a.createVNode)(u,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:l.campos.imposto.observacaoNFe,"onUpdate:modelValue":o[52]||(o[52]=e=>l.campos.imposto.observacaoNFe=e),rotulo:"Observações",dense:""},null,8,["modelValue"])])),_:1})])])])),_:1})],32)])])])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1},8,["modelValue"])}]]);Z()($M,"components",{QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QPageContainer:le.Z,QBtnToggle:Xy.Z,QTooltip:Ao.Z,QSeparator:$.Z}),Z()($M,"directives",{ClosePopup:J.Z});const ZM={components:{ConfiguracoesImpostosModal:UM},data:()=>({modalConfig:{visivel:!1,campos:{}},configuracoes:[]}),methods:{abrirConfig(e){this.modalConfig={visivel:!0,campos:this.$utils.clonarV2(e),original:this.$utils.clonarV2(e)}},async atualizar(){try{$q.loading.show();const e=await $db.configuracaoImposto.le(),o=[];for(const t of e){const e=JSON.parse(t.json);e.id=t.id,o.push(e)}this.configuracoes=o.sort(((e,o)=>e.ordem-o.ordem)),$utils.gconsole.log("ConfiguracoesImpostos","atualizar",this.configuracoes.length)}catch(e){$q.notifyError("Ocorreu erro ao consultar configuração",e)}finally{$q.loading.hide()}},async duplicarConfig(){const e=this.$utils.clonarV2(this.modalConfig.campos);e.id=this.$utils.uuid(),this.modalConfig={visivel:!0,campos:e},this.$q.notifyPositive("Configuração duplicada com sucesso")},async removerConfig(e){try{await new Promise(((e,o)=>{$q.dialog({title:"Tem certeza?",message:"Ao continuar você irá remover a configuração",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Remover",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{e()})).onCancel((()=>{o()}))}))}catch(e){return}await $db.configuracaoImposto.remove(e.id),await this.atualizar(),this.$q.notifyPositive("A configuração foi removida com sucesso")},async salvarConfig(){this.$utils.gconsole.log("ConfiguracoesImpostos","salvarConfig",this.modalConfig.campos);const e=this.modalConfig.campos;(0,Fo.verificarErro)(!e.descricao,"Descrição não fornecida."),(0,Fo.verificarErro)(!e.ordem,"Ordem não fornecida."),(0,Fo.verificarErro)(!e.imposto.cstCsosn,"CST ou CSOSN do ICMS não fornecido."),(0,Fo.verificarErro)(!e.imposto.cofinsCst,"CST do COFINS não fornecido."),(0,Fo.verificarErro)(!e.imposto.pisCst,"CST do PIS não fornecido.");for(const o of e.ncms||[])(0,Fo.verificarErro)(!o.codigo,"NCM não fornecida."),(0,Fo.verificarErro)(8!==o.codigo.length||8!==(0,Fo.filtrarDigitos)(o.codigo).length,"NCM inválido."),(0,Fo.verificarErro)(!!o.cest&&(9!==o.cest.length||7!==(0,Fo.filtrarDigitos)(o.cest).length),"CEST inválido.");for(const o of e.cfops||[])(0,Fo.verificarErro)(!o.codigo,"CFOP não fornecida."),(0,Fo.verificarErro)(4!==o.codigo.length||4!==(0,Fo.filtrarDigitos)(o.codigo).length,"CFOP inválido.");await $db.configuracaoImposto.grava({atual:{id:this.modalConfig.campos.id,json:JSON.stringify({...this.modalConfig.campos,id:void 0})},original:this.modalConfig.original}),await this.atualizar(),this.$q.notifyPositive("Configuração salva com sucesso"),this.modalConfig.visivel=!1}},created(){this.atualizar()}},QM=(0,T.Z)(ZM,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-item-label"),n=(0,a.resolveComponent)("q-item-section"),c=(0,a.resolveComponent)("q-btn"),d=(0,a.resolveComponent)("row"),m=(0,a.resolveComponent)("q-item"),u=(0,a.resolveComponent)("q-separator"),p=(0,a.resolveComponent)("q-list"),h=(0,a.resolveComponent)("ConfiguracoesImpostosModal");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(p,{class:"rounded-borders"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.configuracoes,(o=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:o.id},[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"text-weight-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.descricao),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{caption:""},{default:(0,a.withCtx)((()=>[fS])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)({1:"Simples",3:"Normal"}[e.$lodash.get(o,"emitente.regime")]),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{caption:""},{default:(0,a.withCtx)((()=>[NS])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.ordem),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[e.$lodash.get(o,"ncms.length")?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(s,{caption:""},{default:(0,a.withCtx)((()=>[VS])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.ncms.map((e=>e.codigo)).join(", ")),1)])),_:2},1024)],64)):((0,a.openBlock)(),(0,a.createBlock)(s,{key:1},{default:(0,a.withCtx)((()=>[gS])),_:1}))])),_:2},1024),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[e.$lodash.get(o,"cfops.length")?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(s,{caption:""},{default:(0,a.withCtx)((()=>[xS])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.cfops.map((e=>e.codigo)).join(", ")),1)])),_:2},1024)],64)):((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,caption:""},{default:(0,a.withCtx)((()=>[bS])),_:1}))])),_:2},1024),(0,a.createVNode)(n,{side:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{rounded:"",dense:"",flat:"",icon:"edit",color:"tertiary",class:"no-shadow q-ma-xs",size:"md",onClick:e=>l.abrirConfig(o)},null,8,["onClick"]),(0,a.createVNode)(c,{rounded:"",dense:"",flat:"",icon:"delete",color:"tertiary",class:"no-shadow q-ma-xs",size:"md",onClick:t=>e.tryCatch(l.removerConfig,o)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(u)],64)))),128))])),_:1}),(0,a.createElementVNode)("div",wS,[(0,a.createVNode)(c,{color:"positive",icon:"add",label:"Configuração",outline:"",size:"sm",onClick:o[0]||(o[0]=e=>r.modalConfig={visivel:!0,campos:{}})})]),(0,a.createVNode)(h,{modal:r.modalConfig,onSalvar:o[1]||(o[1]=o=>e.tryLoading(l.salvarConfig,{erro:"Ocorreu erro ao salvar config"})),onDuplicar:o[2]||(o[2]=o=>e.tryLoading(l.duplicarConfig))},null,8,["modal"])],64)}]]);Z()(ZM,"components",{QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z,QBtn:H.Z,QSeparator:$.Z});var RM=t(60357),GM=t(8759);const HM={components:{ContatoFicha:GM.Z,Avatar:uo.Z,PromptContatoNovo:RM.Z,Badge:S.Z,ImportarContatos:Io},computed:{},data:()=>({combinarContatosModal:!1,modalImportar:!1,contatosModal:!1,showsectionm:!1,openedFicha:!1,openedCofirm:!1,tabsModel:"xtab-1",lista:[{name:"Jim Doe",fullName:"Jim Doe da Silva",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 2111.6161",tags:["grupo1","grupo2","grupo1","grupo2","grupo1","grupo2","grupo1","grupo2"],cnpj:"07.660.198/0001-89",ie:"0000000000000",address:"Av. Pres. Vargas, 2001, CJ 45, Jd. St. Ângela, Ribeirão Preto-SP / 14020-525",birthday:"02/12/2020",segment:"Segmento",showPreviewDetail:!1}],showAllPreviewDetail:!1,page:1,minPages:1,maxPages:5,buscaCampo:"",checkboxModel:[],carregando:!1,contatosEmpresa:[],dados:{},empresas:{selected:[],options:[]},empresasSelecionadas:[],selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],erroEmpresas:!1,erroPeriodo:!1,filtro:{codigoClienteSistema:"",codigoContatoUsuario:"",dataConsulta:"",empresas:[],periodo:{ini:null,fim:""}},showingHelp:!1,showFilters:!1,showList:!1,gantt:!1,kanban:!1,ganttL:!1,kanbanL:!1,section:!1,list:!0,left:!1}),watch:{showFilters:function(e){!0===e?this.showList=!1:!0!==this.section&&!0!==this.kanban&&!0!==this.gantt||(this.showList=!0)}},methods:{async filtrar(){console.log("filtrar")},abrirTodosPreview(){if(this.showAllPreviewDetail=!this.showAllPreviewDetail,this.showAllPreviewDetail)for(let e in this.lista)this.lista[e].showPreviewDetail=!0;else for(let e in this.lista)this.lista[e].showPreviewDetail=!1},abrirFiltro(){!0===this.section||!0===this.kanban||!0===this.gantt?this.left=!0:this.left=!1,this.showFilters=!this.showFilters}}};var JM=t(27763),YM=t(95277);Z()(HM,"components",{QPage:se.Z,QToolbar:O.Z,QIcon:L.Z,QToolbarTitle:G.Z,QInput:re.Z,QBtn:H.Z,QTooltip:Ao.Z,QCheckbox:Hh.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QTabs:ko.Z,QTab:Do.Z,QItemLabel:j.Z,QBtnGroup:JM.Z,QSeparator:$.Z,QFooter:Te.Z,QPagination:Dp.Z,QDrawer:YM.Z,QLayout:ae.Z,QHeader:ie.Z,QPageContainer:le.Z,QDialog:k.Z}),Z()(HM,"directives",{ClosePopup:J.Z});const XM=(0,a.createTextVNode)("Combinar"),WM=["onClick"],KM=["onClick"],eT={class:"col-12"},oT=(0,a.createTextVNode)("#0001"),tT=(0,a.createTextVNode)("CNPJ"),aT=(0,a.createTextVNode)("Inscrição Estadual"),iT={class:"text-tertiary q-col-gutter-xs"},rT=(0,a.createTextVNode)(" Editar "),lT=(0,a.createTextVNode)(" Detalhes "),sT=(0,a.createTextVNode)(" Remover "),nT=(0,a.createTextVNode)("Restaurar"),cT=(0,a.createTextVNode)("Duplicar "),dT={key:0,class:"q-pa-md showPreviewDetail"},mT={class:"col-12 col-md-4"},uT=(0,a.createElementVNode)("small",null,"Local",-1),pT={style:{"white-space":"pre-line"}},hT={class:"col-12 col-md"},CT=(0,a.createElementVNode)("small",null,"Aniversário",-1),vT={class:"col-12 col-md"},fT=(0,a.createElementVNode)("small",null,"Segmento",-1),NT={class:"col-12 col-md"},VT=(0,a.createElementVNode)("small",null,"E-mail",-1),gT={key:1,class:"row q-px-md q-pb-md showPreviewDetail"};var xT=t(26531);const bT=(0,a.createTextVNode)("Duplicar Contato"),wT={components:{ContatoFicha:GM.Z},data:()=>({id:"",contato:{},visivel:!1}),emits:["atualizar"],methods:{fechar(){this.visivel=!1,this.$emit("atualizar")},async duplicarItem(e){try{let o=await $db.item.duplica(e);await this.atualizar(o),$q.notifyPositive("O produto foi duplicado com sucesso.")}catch(e){$q.notifyError("Ocorreu erro ao duplicar Produto",e)}},async atualizar({id:e}){this.id=e},async show({id:e}){this.visivel=!0,this.id=e,this.$nextTick((()=>{this.$refs.modalContatoFicha.atualizar({id:e})}))}}},_T=(0,T.Z)(wT,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-icon"),d=(0,a.resolveComponent)("q-item-section"),m=(0,a.resolveComponent)("q-item-label"),u=(0,a.resolveComponent)("q-item"),p=(0,a.resolveComponent)("q-list"),h=(0,a.resolveComponent)("q-menu"),C=(0,a.resolveComponent)("q-toolbar"),v=(0,a.resolveComponent)("q-header"),f=(0,a.resolveComponent)("contatoFicha"),N=(0,a.resolveComponent)("q-page"),V=(0,a.resolveComponent)("q-page-container"),g=(0,a.resolveComponent)("q-layout"),x=(0,a.resolveComponent)("q-dialog"),b=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(x,{modelValue:r.visivel,"onUpdate:modelValue":o[1]||(o[1]=e=>r.visivel=e),maximized:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{class:"bg-light",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"u-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{class:"bg-gradiente"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"no-shadow q-px-none q-py-sm",color:"transparent"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:"",onClick:l.fechar},null,8,["onClick"]),[[b]]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.contato.nome||"Contato"),1)])),_:1}),(0,a.createVNode)(s,{dense:"",flat:"",icon:"more_vert",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(u,{clickable:"",onClick:o[0]||(o[0]=o=>l.duplicarItem(e.item.id))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"control_point_duplicate"})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[bT])),_:1})])),_:1})])),_:1},512),[[b]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{ref:"modalContatoFicha"},null,512)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);Z()(wT,"components",{QDialog:k.Z,QLayout:ae.Z,QPageContainer:le.Z,QHeader:ie.Z,QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QIcon:L.Z,QItemLabel:j.Z,QPage:se.Z}),Z()(wT,"directives",{ClosePopup:J.Z});var yT=t(84830),IT=t.n(yT);const ET={components:{lista:xT.Z,modalContatoFicha:_T,Avatar:uo.Z,Badge:S.Z,ModalCombinarContato:No},data:()=>({lista:[],listaOriginal:[],listaLayout:{},modalCombinarContatos:!1,modalImportar:!1,campos:{nome:"",apelido:"",numeroDocumentoNacional:"",telefone:"",cep:"",numero:""},paginacao:{atual:1,maximo:1,total:1,limite:25},showFilters:!1,filtros:{nome:null,apelido:null,numeroDocumentoNacional:null,telefone:null,cidade:null,uf:null,grupo:null,segmento:null,estoque:null,vendedor:null},buscaCampo:"",opcoesVendedores:[],opcoesSegmento:[],tabSelecionada:{valor:"Ativos"},tabs:[{rotulo:"Ativos",value:"Ativos"},{rotulo:"Excluídos",value:"Excluidos"},{rotulo:"Todos",value:"Todos"}],showAllPreviewDetail:!1,checkboxModel:!1}),methods:{async atualizar(){try{$q.loading.show();const e=this.paginacao.limite,o=this.paginacao.atual,t="nome",a=$utils.eliminarVazios(this.filtros);delete a.ativo,"Ativos"===this.tabSelecionada.valor&&(a.ativo=!0),"Excluidos"===this.tabSelecionada.valor&&(a.ativo=!1);let i={};this.buscaCampo?i.data=await $db.contatoBusca.filtrar(this.buscaCampo,{ativo:a.ativo}):i=await $db.contato.leRefatorado({filtros:a,limit:e,page:o,sort:t}),i.total||(i.total=i.total=i.data.length),i.totalPages||(i.totalPages=1),this.listaLayout={};for(let e of i.data){const o=await $db.contato.leCompletoV3(e.id);o.detalhes=!1,o.remover=!1,o.ende=$db.contato.contatoBase().endereco[0],this.listaLayout[e.id]=o}this.listaOriginal=$utils.clonarV2(i.data),this.lista=i.data,this.paginacao.total=i.total,this.paginacao.maximo=i.totalPages}catch(e){$q.notifyError("Erro iniciar",e)}finally{$q.loading.hide()}},async removerItem(e){$q.dialog({cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},title:"Remover",message:"Ao continuar você irá remover este item.",ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{try{$q.loading.show();const o=$utils.clonar(e);e.ativo=!1,await $db.item.grava({atual:e,original:o}),$q.notifyPositive("O produto foi excluído com sucesso.")}catch(e){$q.notifyError("Ocorreu um erro ao remover produto",e)}finally{$q.loading.hide()}}))},async duplicarItem(e){try{const o=await $db.item.duplica(e.id);this.filtros.codIdRef=o.id,await this.atualizar(),this.$q.notifyPositive("O produto foi duplicado com sucesso.")}catch(e){this.$q.notifyError("Ocorreu erro ao duplicar Produto",e)}},async abrirItem(e){this.$refs.modalFicha.show({id:e})},async restaurarItem(e){$q.dialog({title:"Restaurar item",message:"Deseja restaurar este item?",cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{try{$q.loading.show();let o=$utils.clonarV2(e);e.ativo=!0,await $db.item.grava({atual:e,original:o}),$q.notifyPositive("O produto foi restaurado com sucesso.")}catch(e){$q.notifyError("Ocorreu um erro ao remover produto",e)}finally{$q.loading.hide()}}))},contatoCriarPorModal_click(){this.$refs.modalFicha.show({id:""})},limparFiltros_click(){this.filtros={tab:"Ativos",nome:null,apelido:null,numeroDocumentoNacional:null,telefone:null,cidade:null,uf:null,grupo:null,segmento:null,estoque:null,vendedor:null},this.atualizar()},async leOpcoesVendedores(){const e=await $db.contatoBusca.filtrar("",{ativo:!0,vendedores:!0});e.sort(((e,o)=>{const t=$utils.removerAcentos(e.nome||""),a=$utils.removerAcentos(o.nome||"");return t.toLowerCase()>a.toLowerCase()?1:-1})),this.opcoesVendedores=e},async leOpcoesSegmento(){this.opcoesSegmento=(await $db.contato.leValoresUnicos("segmento","")).map((e=>({rotulo:e,valor:e})))},async itemCriarPorModal_click(){const e=await this.$refs.modalItemCriar.show();e.id&&(this.filtros.codIdRef=e.id,await this.atualizar(),this.abrirEdicaoCompleta(e.id))},async buscarItem(){const e=await $g.promptItem.show({filtro:{ativo:!0}});e.acao&&Object.keys(e.itensSelecionados)[0]&&this.abrirItem(Object.keys(e.itensSelecionados)[0])},checkBoxGeral_click(){for(let e of this.lista)this.listaLayout[e.id].remover=this.checkboxModel},async removerTodos(){$q.dialog({title:"Remover Contatos",message:"Deseja remover todos os contatos selecionados?",cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{for(let e of this.lista)if(this.listaLayout[e.id].remover){let o=$utils.clonarV2(e);e.ativo=!1;try{await $db.contato.gravar({original:{contato:o},atual:{contato:e}})}catch(e){$q.notify("Houve um erro ao remover os contatos. Tente novamente")}}}))},async restaurarTodos(){$q.dialog({title:"Restaurar itens",message:"Deseja restaurar todos os itens selecionados?",cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{for(let e of this.lista)if(this.listaLayout[e.id].remover){let o=$utils.clonarV2(e);e.ativo=!0;try{await $db.contato.gravar({original:{contato:o},atual:{contato:e}})}catch(e){$q.notify("Houve um erro ao restaurar os itens. Tente novamente")}}}))},async abrirDetalhesItem(e,o){this.listaLayout[e.id].detalhes=o||!this.listaLayout[e.id].detalhes,this.listaLayout[e.id].detalhes&&await $db.contato.leCompleto(e.id)},abrirTodosPreview(){this.showAllPreviewDetail=!this.showAllPreviewDetail,this.lista.forEach((e=>{this.abrirDetalhesItem(e,this.showAllPreviewDetail)}))},editarMarca_click(){this.$refs.modalEditarMarca.visivel=!0},async adicionarItem(){if(this.campos.descricao.length<2)return void $q.notifyError("favor preencher a descrição do item");let e={};try{this.completarCodigoBarras(),e={...$db.item.vazio,id:$utils.uuid(),ativo:!0,tipo:this.campos.tipo,marca:this.campos.marca,descricao:this.campos.descricao,referencia:this.campos.referencia,valorVenda:this.campos.valorVenda,codigoBarras:this.campos.codigoBarras,valorCustoReposicao:this.campos.valorCustoReposicao},$q.loading.show(),await $db.item.grava({atual:e}),this.filtros.codIdRef=e.id,this.atualizar(),$q.notifyPositive("Os dados do produto foram salvos com sucesso."),this.campos={ativo:!0,codigoBarras:"",descricao:"",marca:"",referencia:"",tipo:"Produto",valorCustoReposicao:0,valorVenda:0}}catch(e){$q.notifyError("Ocorreu um erro ao salvar",e)}finally{$q.loading.hide()}},abrirEdicaoCompleta(e){$q.dialog({title:"Item Cadastrado!",message:"Deseja abrir a edição completa?",persistent:"Sim",cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk((()=>{this.abrirItem(e)}))},async exportarXLSX_click(){try{$q.loading.show();const e=$utils.eliminarVazios(this.filtros);delete e.ativo,"Ativos"===this.tabSelecionada.valor&&(e.ativo=!0),"Excluidos"===this.tabSelecionada.valaor&&(e.ativo=!1);const o=await $db.contato.leRefatorado({filtros:e,limit:999999,page:1,sort:"descricao"}),t=IT().utils.book_new(),a=IT().utils.json_to_sheet(o.data,{header:Object.keys(o.data[0])});IT().utils.book_append_sheet(t,a,"contatos"),IT().writeFile(t,"contatos.xlsx")}catch(e){$q.notifyError("Erro iniciar",e)}finally{$q.loading.hide()}},salvarItem(e){let o=this.listaItensOriginal.filter((o=>o.id===e.id))[0],t=$utils.clonarV2(e);try{$db.item.gravaItem({original:o,atual:t}),this.$q.notifyPositive("Item alterado com sucesso")}catch(e){console.log(e),this.$q.notifyError("Ocorreu um erro ao alterar o item"),this.atualizar()}},criarMarca(){$q.dialog({title:"Cadastrar marca",prompt:{model:"",isValid:e=>e.length<=50,type:"text",class:"bg-light"},cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk((e=>{try{if(!e)return void alert("Favor preencher");if(e.length>50)return void alert("Máximo 50 caracteres");if(this.opcoesMarca.find((o=>o.rotulo.toUpperCase()===e.toUpperCase())))return void alert("Nome já existente");this.campos.marca=e,$q.notifyPositive("Marca criada com sucesso.")}catch(e){$q.notifyError("Ocorreu um erro ao criar marca",e)}}))}},async mounted(){this.atualizar()}},ST=(0,T.Z)(ET,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-item-section"),c=(0,a.resolveComponent)("q-item"),d=(0,a.resolveComponent)("campo"),m=(0,a.resolveComponent)("q-checkbox"),u=(0,a.resolveComponent)("badge"),p=(0,a.resolveComponent)("row"),h=(0,a.resolveComponent)("avatar"),C=(0,a.resolveComponent)("q-item-label"),v=(0,a.resolveComponent)("q-tooltip"),f=(0,a.resolveComponent)("q-btn"),N=(0,a.resolveComponent)("q-btn-group"),V=(0,a.resolveComponent)("q-menu"),g=(0,a.resolveComponent)("q-list"),x=(0,a.resolveComponent)("Br"),b=(0,a.resolveComponent)("q-separator"),w=(0,a.resolveComponent)("lista"),_=(0,a.resolveComponent)("modalContatoFicha"),y=(0,a.resolveComponent)("modalCombinarContato"),I=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(w,{titulo:"Contatos",onCriar_click:l.contatoCriarPorModal_click,onCheckBoxGeral_click:l.checkBoxGeral_click,onFiltro_change:l.atualizar,onLimparFiltros_click:l.limparFiltros_click,onAbrirTodosPreview:l.abrirTodosPreview,onExportarXLSX_click:l.exportarXLSX_click,onRemoverTodos:l.removerTodos,onRestaurarTodos:l.restaurarTodos,tabSelecionada:r.tabSelecionada,tabs:r.tabs,lista:r.lista,listaLayout:r.listaLayout,paginacao:r.paginacao,filtros:r.filtros,buscaCampo:r.buscaCampo,"onUpdate:buscaCampo":o[13]||(o[13]=e=>r.buscaCampo=e),checkboxModel:r.checkboxModel,"onUpdate:checkboxModel":o[14]||(o[14]=e=>r.checkboxModel=e)},{menuExtras:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{clickable:"",onClick:o[0]||(o[0]=()=>{this.modalCombinarContatos=!0})},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"compare_arrows",size:"sm"})])),_:1}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[XM])),_:1})])),_:1})])),filtroCampos:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:r.filtros.nome,"onUpdate:modelValue":o[1]||(o[1]=e=>r.filtros.nome=e),rotulo:"Nome/Razão",dense:""},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.filtros.apelido,"onUpdate:modelValue":o[2]||(o[2]=e=>r.filtros.apelido=e),rotulo:"Apelido/Fantasia",dense:""},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.filtros.numeroDocumentoNacional,"onUpdate:modelValue":o[3]||(o[3]=e=>r.filtros.numeroDocumentoNacional=e),rotulo:"CPF/CNPJ",dense:""},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.filtros.telefone,"onUpdate:modelValue":o[4]||(o[4]=e=>r.filtros.telefone=e),rotulo:"Telefone",dense:""},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.filtros.cidade,"onUpdate:modelValue":o[5]||(o[5]=e=>r.filtros.cidade=e),rotulo:"Cidade",dense:""},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.filtros.uf,"onUpdate:modelValue":o[6]||(o[6]=e=>r.filtros.uf=e),rotulo:"Estado",dense:""},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.filtros.grupo,"onUpdate:modelValue":o[7]||(o[7]=e=>r.filtros.grupo=e),rotulo:"Grupo",dense:""},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.filtros.segmento,"onUpdate:modelValue":o[8]||(o[8]=e=>r.filtros.segmento=e),rotulo:"Segmento/Profissão",tipo:"seletor",opcoes:r.opcoesSegmento,dense:"",onClick:l.leOpcoesSegmento},null,8,["modelValue","opcoes","onClick"]),(0,a.createVNode)(d,{modelValue:r.filtros.vendedor,"onUpdate:modelValue":o[9]||(o[9]=e=>r.filtros.vendedor=e),rotulo:"Vendedor",tipo:"seletor",opcoes:r.opcoesSegmento,filter:"",dense:"","option-value":"id","option-label":"apelido",onClick:l.leOpcoesVendedores},null,8,["modelValue","opcoes","onClick"]),(0,a.createVNode)(d,{modelValue:r.paginacao.limite,"onUpdate:modelValue":o[10]||(o[10]=e=>r.paginacao.limite=e),min:"1",rotulo:"Quantidade por página",tipo:"quantidade",dense:""},null,8,["modelValue"])])),itemLista:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{class:"rounded-borders"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(t=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:t,class:"itemHover fullWidth"},[(0,a.createVNode)(c,{"manual-focus":"",clickable:"",class:"items-center d-flex q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:"",center:"",class:"mw120 hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:r.listaLayout[t.id].remover,"onUpdate:modelValue":e=>r.listaLayout[t.id].remover=e},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(u,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)((t.codigoContato||0).toString().padStart(4,"0")),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(n,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"items-center q-col-gutter-x-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[11]||(o[11]=e=>r.checkboxModel=e),class:"q-ma-none q-pa-none hideondesktop"},null,8,["modelValue"]),(0,a.createElementVNode)("div",{class:"col-auto q-pl-none items-center",onClick:e=>l.abrirItem(t.id)},[(0,a.createVNode)(h,{imagem:t.photo,tamanho:"40",rotulo:t.nome,style:{display:"flex","align-self":"center"}},null,8,["imagem","rotulo"])],8,WM),(0,a.createElementVNode)("div",{class:"col",onClick:e=>l.abrirItem(t.id)},[(0,a.createVNode)(C,{class:"text-tertiary text-weight-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.apelido),1)])),_:2},1024),(0,a.createVNode)(C,{caption:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.nome),1)])),_:2},1024),(0,a.createVNode)(p,{class:"hideondesktop items-center q-my-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",eT,[(0,a.createVNode)(u,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[oT])),_:1})])])),_:1})],8,KM)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(n,{class:"hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.numeroDocumentoNacional)+" ",1),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[tT])),_:1})])),_:2},1024),(0,a.createVNode)(C,{caption:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.numeroDocumentoEstadual)+" ",1),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[aT])),_:1})])),_:2},1024)])),_:2},1024),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{icon:"phone",color:"none",flat:"","text-color":"dark",label:t.tel,"icon-right":"arrow_drop_down"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.listaLayout[t.id].telefone,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e,class:"row q-pa-none bordered"},[(0,a.createVNode)(N,{flat:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{label:e.telefone,icon:"phone",color:"none","text-color":"dark",class:"btntel"},null,8,["label"]),(0,a.createVNode)(f,{icon:"mdi-whatsapp",color:"none","text-color":"positive",class:"btntel"})])),_:2},1024)])))),128))])),_:2},1024)])),_:2},1032,["label"])])),_:2},1024),(0,a.createVNode)(n,{side:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",iT,[(0,a.createVNode)(f,{color:"tertiary",size:"md",icon:r.listaLayout[t.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down",flat:"",dense:"",round:"",class:"buttons hideonmobile",onClick:e=>l.abrirDetalhesItem(t)},null,8,["icon","onClick"]),(0,a.createVNode)(f,{color:"tertiary",size:"md",icon:"edit",flat:"",dense:"",round:"",class:"buttons hideonmobile",onClick:e=>l.abrirItem(t.id)},null,8,["onClick"]),(0,a.createVNode)(f,{dense:"",flat:"",icon:"more_vert",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(g,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"hideondesktop",clickable:"",onClick:o[12]||(o[12]=o=>e.openedFicha=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"edit"})])),_:1}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[rT])),_:1})])),_:1}),(0,a.createVNode)(c,{class:"hideondesktop",clickable:"",onClick:e=>l.abrirDetalhesItem(t)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:r.listaLayout[t.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["name"])])),_:2},1024),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[lT])),_:1})])),_:2},1032,["onClick"]),t.ativo?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,clickable:"",onClick:e=>l.removerItem(t)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"delete"})])),_:1}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[sT])),_:1})])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0),t.ativo?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(c,{key:1,clickable:"",onClick:e=>l.restaurarItem(t)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"restore_from_trash"})])),_:1}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[nT])),_:1})])),_:2},1032,["onClick"])),(0,a.createVNode)(c,{clickable:"",onClick:e=>l.duplicarItem(t)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"control_point_duplicate"})])),_:1}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[cT])),_:1})])),_:2},1032,["onClick"])])),_:2},1536),[[I]])])),_:2},1024)])),_:2},1024)])])),_:2},1024)])),_:2},1024),r.listaLayout[t.id].detalhes?((0,a.openBlock)(),(0,a.createElementBlock)("div",dT,[(0,a.createVNode)(p,{class:"q-col-gutter-md text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",mT,[uT,(0,a.createVNode)(x),(0,a.createVNode)(s,{name:"mdi-map-marker",class:"q-mr-xs"}),(0,a.createElementVNode)("span",pT,(0,a.toDisplayString)(r.listaLayout[t.id].ende.logradouro)+" "+(0,a.toDisplayString)(r.listaLayout[t.id].ende.numero)+" "+(0,a.toDisplayString)(r.listaLayout[t.id].ende.complemento)+" "+(0,a.toDisplayString)(r.listaLayout[t.id].ende.bairro)+" "+(0,a.toDisplayString)(r.listaLayout[t.id].ende.cep)+" "+(0,a.toDisplayString)(r.listaLayout[t.id].ende.municipio)+" "+(0,a.toDisplayString)(r.listaLayout[t.id].ende.uf),1)]),(0,a.createElementVNode)("div",hT,[CT,(0,a.createVNode)(x),(0,a.createVNode)(s,{name:"event",class:"q-mr-xs"}),(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(t.dataAbertura)),1)]),(0,a.createElementVNode)("div",vT,[fT,(0,a.createVNode)(x),(0,a.createVNode)(s,{name:"local_offer",class:"q-mr-xs"}),(0,a.createTextVNode)((0,a.toDisplayString)(t.segmento),1)]),(0,a.createElementVNode)("div",NT,[VT,(0,a.createVNode)(x),(0,a.createVNode)(s,{name:"email",class:"q-mr-xs"}),(0,a.createTextVNode)((0,a.toDisplayString)(t.email),1)])])),_:2},1024)])):(0,a.createCommentVNode)("",!0),r.listaLayout[t.id].detalhes?((0,a.openBlock)(),(0,a.createElementBlock)("div",gT,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(t.tags,(e=>((0,a.openBlock)(),(0,a.createBlock)(u,{class:"q-mr-sm",escuro:"",cor:"primary",key:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e),1)])),_:2},1024)))),128))])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(b)])))),128))])),_:1})])),_:1},8,["onCriar_click","onCheckBoxGeral_click","onFiltro_change","onLimparFiltros_click","onAbrirTodosPreview","onExportarXLSX_click","onRemoverTodos","onRestaurarTodos","tabSelecionada","tabs","lista","listaLayout","paginacao","filtros","buscaCampo","checkboxModel"]),(0,a.createVNode)(_,{ref:"modalFicha"},null,512),(0,a.createVNode)(y,{modelValue:r.modalCombinarContatos,"onUpdate:modelValue":o[15]||(o[15]=e=>r.modalCombinarContatos=e)},null,8,["modelValue"])],64)}]]);Z()(ET,"components",{QItem:z.Z,QItemSection:A.Z,QIcon:L.Z,QBtn:H.Z,QList:F.Z,QCheckbox:Hh.Z,QItemLabel:j.Z,QTooltip:Ao.Z,QMenu:Bo.Z,QBtnGroup:JM.Z,QSeparator:$.Z}),Z()(ET,"directives",{ClosePopup:J.Z}),t(26929);const MT={key:0,class:"q-ma-md"},TT=[(0,a.createElementVNode)("div",{class:"q-mb-md"},"Carregando ...",-1)],kT={key:1,class:"q-ma-md"},DT=[(0,a.createElementVNode)("div",{class:"q-mb-md"},"Sem permissão",-1)],qT={key:2,class:"q-ma-md"},FT=(0,a.createElementVNode)("div",{class:"q-mb-md"},"Ferramenta do desenvolvedor",-1),PT={class:"q-mt-sm"},AT={key:0,class:"text-red q-mt-sm"},BT=(0,a.createElementVNode)("div",{class:"row q-my-sm"},"Resultado",-1),LT={class:"row bg-white q-mb-sm"},OT=(0,a.createElementVNode)("div",{id:"resultado"},null,-1),zT=["innerHTML"],jT={ref:"resultadoCanvas"},$T=(0,a.createElementVNode)("svg",{id:"resultadoSvg"},null,-1),UT={ref:"resultadoSvgRef"},ZT={ref:"resultadoImg"};var QT=t(98484),RT=t.n(QT);const GT={ref:"container"};var HT=t(13955);const JT={name:"MonacoEditor",props:{modelValue:{type:String,required:!0},original:String,options:{type:Object,default:()=>({})},language:{type:String,default:""},theme:{type:String,default:"vs"},diffEditor:{type:Boolean,default:!1}},emits:["update:modelValue","editorWillMount","editorDidMount"],watch:{modelValue(e){if(this.monacoEditor){var o=this.getModifiedEditor();e!==o.getValue()&&o.setValue(e)}}},mounted(){this.$emit("editorWillMount",this.monacoEditor),this.init(),this.$emit("editorDidMount",this.monacoEditor)},beforeUnmount(){this.monacoEditor&&this.monacoEditor.dispose()},methods:{init(){this.$refs.container.innerHTML="";const e={value:this.modelValue,theme:this.theme,language:this.language,roundedSelection:!1,autoIndent:!0,...this.options};if(this.diffEditor){this.monacoEditor=HT.editor.createDiffEditor(this.$el,e);var o=HT.editor.createModel(this.original,this.language),t=HT.editor.createModel(this.modelValue,this.language);this.monacoEditor.setModel({original:o,modified:t})}else this.monacoEditor=HT.editor.create(this.$el,e);this.monacoEditor.onDidChangeModelContent((e=>{const o=this.monacoEditor.getValue();this.modelValue!==o&&this.$emit("update:modelValue",o,e)}))},getValue(){return this.monacoEditor.getValue()},getEditor(){return this.monacoEditor},getModifiedEditor(){return this.diffEditor?this.monacoEditor.getModifiedEditor():this.monacoEditor},getOriginalEditor(){return this.diffEditor?this.monacoEditor.getOriginalEditor():this.monacoEditor},focus(){this.monacoEditor.focus()}}},YT=(0,T.Z)(JT,[["render",function(e,o,t,i,r,l){return(0,a.openBlock)(),(0,a.createElementBlock)("div",GT,null,512)}]]);var XT=t(89874),WT=t(37714),KT=t(82916),ek=t(82600);const ok={Alerta:Fo.Alerta,ErroValidacao:Fo.ErroValidacao,adicionarSincronizar:Fo.adicionarSincronizar,agrupar:Fo.agrupar,analisarRedeSocialLink:Fo.analisarRedeSocialLink,arredondar:Fo.arredondar,arredondarPiso:Fo.arredondarPiso,arredondarTeto:Fo.arredondarTeto,atualizarCfop:Fo.atualizarCfop,bancosPiloto:Fo.bancosPiloto,base64:Fo.base64,bulkPut:Fo.bulkPut,buscarCep:Fo.buscarCep,buscarEndereco:Fo.buscarEndereco,clonar:Fo.clonar,clonarCompactar:Fo.clonarCompactar,clonarV2:Fo.clonarV2,compactarObjeto:Fo.compactarObjeto,completarCodigoBarras:Fo.completarCodigoBarras,converterDataHoraBr:Fo.converterDataHoraBr,dataAtual:Fo.dataAtual,diferenca:Fo.diferenca,diferencaNivel1:Fo.diferencaNivel1,diferencaObjetos:Fo.diferencaObjetos,dormir:Fo.dormir,executarApi:Fo.executarApi,executarSql:Fo.executarSql,executarSqlProtegido:Fo.executarSqlProtegido,extenso:Fo.extenso,fbarcode:Fo.fbarcode,filtrar:Fo.filtrar,filtrarDigitos:Fo.filtrarDigitos,gconsole:Fo.gconsole,geeksApi:Fo.geeksApi,imposto:Fo.imposto,imprimir:Fo.imprimir,isNumber:Fo.isNumber,jsBarcode128C:Fo.jsBarcode128C,juntar:Fo.juntar,logarDebug:Fo.logarDebug,logarFim:Fo.logarFim,logarIni:Fo.logarIni,mapearEstadoCodigo:Fo.mapearEstadoCodigo,mapearStatus:Fo.mapearStatus,mostrarErro:Fo.mostrarErro,primeiraMaiuscula:Fo.primeiraMaiuscula,primeiraMinuscula:Fo.primeiraMinuscula,processarFilho:Fo.processarFilho,processarFilhoEspecifico:Fo.processarFilhoEspecifico,processarFilhos:Fo.processarFilhos,removerAcentos:Fo.removerAcentos,removerCaracteresEspeciais:Fo.removerCaracteresEspeciais,sincronismoEnviar:Fo.sincronismoEnviar,sistemaPai:Fo.sistemaPai,somar:Fo.somar,sqlData:Fo.sqlData,sqlNum:Fo.sqlNum,sqlStr:Fo.sqlStr,unicos:Fo.unicos,uuid:Fo.uuid,validarDocumentoNacional:Fo.validarDocumentoNacional,validarDocumentoNacionalUnico:Fo.validarDocumentoNacionalUnico,verificarAlerta:Fo.verificarAlerta,verificarConduta:Fo.verificarConduta,verificarErro:Fo.verificarErro,verificarExcecao:Fo.verificarExcecao,verificarSeCamposSaoValidos:Fo.verificarSeCamposSaoValidos,BrowserQRCodeSvgWriter:XT.BrowserQRCodeSvgWriter,Dexie:LC.Z,RobustIndexeddb:KT.e,RobustSql:KT.G,axios:t_(),date:zM.ZP,db:ue.db,dbPlataforma:WT._,erp:Mo.X,merge:Ee.merge,moment:tw(),JsBarcode:RT(),orderBy:Ee.orderBy,plataforma:Mo.s,rb:KT.rb,uid:ek.Z,vm:void 0},tk={components:{MonacoEditor:YT},computed:{},data:()=>({carregando:!0,comando:"",constructor_:"",mensagemErro:"",registros:"",retorno:"",retornoJson:"",tamanhoJson:"",tempoExecucao:"",type_of:"",usuarioDesenvolvedor:!1,vHtml:""}),methods:{aoIniciarEditor(e){e.onKeyDown((e=>{const o=e.browserEvent||{};(o.ctrlKey||o.metaKey)&&13===o.which&&(e.stopPropagation(),this.enviarComando())}))},async enviarComando(){try{this.mensagemErro="",ok.vm=this,localStorage.setItem("desenvolvedor",this.comando);const e=new Function(...Object.keys(ok),"return async function() {"+this.comando+"}()");this.constructor_="",this.mensagemErro="",this.registros="",this.retorno="",this.retornoJson="Processando ...",this.tamanhoJson="",this.tempoExecucao="",this.type_of="";let o=new Date;const t=await e(...Object.values(ok));let a=new Date;this.type_of=typeof t,this.constructor_=null==t?"":t.constructor.name,"Array"===this.constructor_?this.registros=t.length:"Object"===this.constructor_&&(this.registros=Object.keys(t).length),this.tempoExecucao=function(e,o){const t=o-e;return t<1e3?t.toFixed(0)+" ms":t<6e4?(t/1e3).toFixed(2)+" seg":(t/6e4).toFixed(2)+" min"}(o,a);const i=JSON.stringify(t,0,2),r=(i||"").length;this.tamanhoJson=function(e){return e<1024?e.toFixed(0)+" byte(s)":e<1048576?(e/1024).toFixed(2)+" Kb":e<1024**3?(e/1048576).toFixed(2)+" Mb":(e/1024**3).toFixed(2)+" Gb"}(r),this.retornoJson=r<1e5?i:i.substr(0,1e4)+"\n\n..."}catch(e){this.retorno="",this.mensagemErro=e.message}},eventoKeydown(e){"Control"===e.key&&(this.teclaControl=!0),this.teclaControl&&"Enter"===e.key&&this.enviarComando()},eventoKeyup(e){"Control"===e.key&&(this.teclaControl=!1)}},watch:{},async mounted(){Fo.gconsole.log("Desenvolvedor","created()"),this.usuarioDesenvolvedor=await $db.usuario.desenvolvedor(),Fo.gconsole.log("Desenvolvedor",this.usuarioDesenvolvedor),this.comando=localStorage.getItem("desenvolvedor")||"",this.carregando=!1}},ak=(0,T.Z)(tk,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("MonacoEditor"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("campo");return r.carregando?((0,a.openBlock)(),(0,a.createElementBlock)("div",MT,TT)):r.usuarioDesenvolvedor?((0,a.openBlock)(),(0,a.createElementBlock)("div",qT,[FT,(0,a.createElementVNode)("div",null,[(0,a.createVNode)(s,{modelValue:r.comando,"onUpdate:modelValue":o[0]||(o[0]=e=>r.comando=e),class:"editor-dev",language:"javascript",options:{automaticLayout:!0,lineNumbersMinChars:2},theme:"vs-dark",onEditorDidMount:l.aoIniciarEditor},null,8,["modelValue","onEditorDidMount"]),(0,a.createElementVNode)("div",PT,[(0,a.createVNode)(n,{color:"primary",class:"full-width",icon:"send",label:"Executar",onClick:l.enviarComando},null,8,["onClick"])]),r.mensagemErro?((0,a.openBlock)(),(0,a.createElementBlock)("div",AT,(0,a.toDisplayString)(r.mensagemErro),1)):(0,a.createCommentVNode)("",!0),BT,(0,a.createElementVNode)("div",LT,[(0,a.createVNode)(c,{modelValue:r.type_of,"onUpdate:modelValue":o[1]||(o[1]=e=>r.type_of=e),"somente-leitura":"",class:"col-6 col-md-1","rotulo-fixo":"typeof"},null,8,["modelValue"]),(0,a.createVNode)(c,{modelValue:r.constructor_,"onUpdate:modelValue":o[2]||(o[2]=e=>r.constructor_=e),"somente-leitura":"",class:"col-6 col-md-1","rotulo-fixo":"constructor"},null,8,["modelValue"]),(0,a.createVNode)(c,{modelValue:r.registros,"onUpdate:modelValue":o[3]||(o[3]=e=>r.registros=e),"somente-leitura":"",class:"col-6 col-md-1","rotulo-fixo":"registros"},null,8,["modelValue"]),(0,a.createVNode)(c,{modelValue:r.tamanhoJson,"onUpdate:modelValue":o[4]||(o[4]=e=>r.tamanhoJson=e),"somente-leitura":"",class:"col-6 col-md-2","rotulo-fixo":"tamanho json"},null,8,["modelValue"]),(0,a.createVNode)(c,{modelValue:r.tempoExecucao,"onUpdate:modelValue":o[5]||(o[5]=e=>r.tempoExecucao=e),"somente-leitura":"",class:"col-6 col-md-2","rotulo-fixo":"tempoExecucao"},null,8,["modelValue"])]),(0,a.createVNode)(c,{modelValue:r.retornoJson,"onUpdate:modelValue":o[6]||(o[6]=e=>r.retornoJson=e),"somente-leitura":"",class:"row bg-white","rotulo-fixo":"Retorno",rows:"5",tipo:"textoArea"},null,8,["modelValue"])]),OT,(0,a.createElementVNode)("div",{innerHTML:r.vHtml},null,8,zT),(0,a.createElementVNode)("canvas",jT,null,512),$T,((0,a.openBlock)(),(0,a.createElementBlock)("svg",UT,null,512)),(0,a.createElementVNode)("img",ZT,null,512)])):((0,a.openBlock)(),(0,a.createElementBlock)("div",kT,DT))}]]);Z()(tk,"components",{QBtn:H.Z}),t(42867);var ik=t(77017);const rk={class:"u-container"},lk=(0,a.createTextVNode)("Nota fiscal"),sk=(0,a.createTextVNode)("Criar nota"),nk=(0,a.createTextVNode)("Inutilização de número NFe/NFCe"),ck={components:{nfeInutilizacao:H_,Tutorial:po.Z},data:()=>({}),methods:{abrirModalInutilizacao(){this.$refs.modalNFeInutilizacao.abrirModalInutilizacao()},adicionarNFe(){$utils.gconsole.log("NFeLayout","adicionarNFe()"),$utils.emitter.emit("adicionarNFe")}},created(){$utils.gconsole.log("NFeLayout","created()")}},dk=(0,T.Z)(ck,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("Tutorial"),c=(0,a.resolveComponent)("q-tooltip"),d=(0,a.resolveComponent)("q-btn"),m=(0,a.resolveComponent)("q-icon"),u=(0,a.resolveComponent)("q-item-section"),p=(0,a.resolveComponent)("q-item"),h=(0,a.resolveComponent)("q-list"),C=(0,a.resolveComponent)("q-menu"),v=(0,a.resolveComponent)("row"),f=(0,a.resolveComponent)("q-toolbar"),N=(0,a.resolveComponent)("router-view"),V=(0,a.resolveComponent)("q-page"),g=(0,a.resolveComponent)("nfeInutilizacao"),x=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"bg-gradiente text-white q-mb-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",rk,[(0,a.createVNode)(v,{class:"items-center q-mx-none q-px-none q-py-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[lk])),_:1}),(0,a.createVNode)(n,{componente:"nfeLayout"}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"add",round:"",size:"md",onClick:l.adicionarNFe},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[sk])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)(d,{rounded:"",dense:"",flat:"",icon:"more_vert",class:"no-shadow q-mx-xs",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(h,{link:"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(p,{clickable:"",onClick:l.abrirModalInutilizacao},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"healing"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[nk])),_:1})])),_:1},8,["onClick"]),[[x]])])),_:1},512),[[x]])])),_:1})])),_:1})])),_:1})])])),_:1}),(0,a.createVNode)(N)])),_:1}),(0,a.createVNode)(g,{ref:"modalNFeInutilizacao"},null,512)])}]]);Z()(ck,"components",{QPage:se.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QTooltip:Ao.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QIcon:L.Z}),Z()(ck,"directives",{ClosePopup:J.Z});const mk={class:"NFeLista q-pb-md q-px-none"},uk={class:"u-container"},pk={class:"col-12 col-md-6"},hk={class:"col"},Ck=(0,a.createElementVNode)("div",{class:"col-auto",style:{"align-items":"center",display:"flex"}},[(0,a.createElementVNode)("label",null,"até")],-1),vk={class:"col"},fk={key:1,class:"q-pa-lg text-center"},Nk=[(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Não há notas com o filtro selecionado")],-1)],Vk={class:"col-12"},gk={class:"col-12"},xk=(0,a.createTextVNode)("Valor da nota"),bk=(0,a.createTextVNode)("Valor da nota"),wk={class:"text-tertiary q-col-gutter-xs"},_k=(0,a.createTextVNode)(" Imprimir DANFE "),yk=(0,a.createTextVNode)(" Detalhes "),Ik={components:{BadgeCopiarUid:xs.Z,Badge:S.Z},data:()=>({detalhesVisivel:!1}),methods:{abrirNFe(){$utils.emitter.emit("abrirNFe",this.nota.id)}},mixins:[Xl],props:{nota:{required:!0,type:Object}},created(){$utils.gconsole.log("NFeCard","created()")}},Ek=(0,T.Z)(Ik,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("BadgeCopiarUid"),n=(0,a.resolveComponent)("q-item-section"),c=(0,a.resolveComponent)("q-item-label"),d=(0,a.resolveComponent)("q-icon"),m=(0,a.resolveComponent)("badge"),u=(0,a.resolveComponent)("q-tooltip"),p=(0,a.resolveComponent)("row"),h=(0,a.resolveComponent)("q-btn"),C=(0,a.resolveComponent)("q-item"),v=(0,a.resolveComponent)("q-list"),f=(0,a.resolveComponent)("q-menu"),N=(0,a.resolveComponent)("q-separator"),V=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[t.nota.id?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0,"manual-focus":"",clickable:"",class:"items-center d-flex q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:"",center:"",class:"mw120"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{id:t.nota.id,numero:t.nota.nNF,class:"q-mr-sm",cor:"positive"},null,8,["id","numero"])])),_:1}),(0,a.createVNode)(n,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"items-center q-col-gutter-x-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",{class:"col",onClick:o[0]||(o[0]=(...e)=>l.abrirNFe&&l.abrirNFe(...e))},[(0,a.createVNode)(c,{class:"text-tertiary text-weight-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.nota.xNomeDestinatario||"Destinatário não preenchido"),1)])),_:1}),(0,a.createVNode)(p,{class:"hideondesktop items-center q-my-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Vk,[(0,a.createVNode)(c,{caption:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"event"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.data(t.nota.dataHoraEmissao)),1)])),_:1}),(0,a.createVNode)(m,{cor:"tertiary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.nota.situacao)+(0,a.toDisplayString)("2"===t.nota.tpAmb?" - Homologação":""),1)])),_:1})]),(0,a.createElementVNode)("div",gk,[(0,a.createVNode)(c,{caption:"",class:"text-tertiary text-weight-bold q-mt-sm"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(t.nota.vNF,2))+" ",1),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[xk])),_:1})])),_:1})])])),_:1})])])),_:1})])),_:1}),(0,a.createVNode)(n,{onClick:l.abrirNFe,avatar:"",class:"mw100 hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"event"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.data(t.nota.dataHoraEmissao)),1)])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)(n,{onClick:l.abrirNFe,avatar:"",class:"mw100 hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cor:"tertiary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.nota.situacao)+(0,a.toDisplayString)("2"===t.nota.tpAmb?" - Homologação":""),1)])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)(n,{onClick:l.abrirNFe,class:"hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{caption:"",class:"text-right text-tertiary text-weight-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(t.nota.vNF,2))+" ",1),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[bk])),_:1})])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)(n,{side:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",wk,[(0,a.createVNode)(h,{rounded:"",dense:"",flat:"",icon:e.emDigitacao?"edit":"remove_red_eye",color:"tertiary",class:"no-shadow q-ma-xs hideonmobile",size:"md",onClick:l.abrirNFe,style:{float:"right"}},null,8,["icon","onClick"]),(0,a.createVNode)(h,{rounded:"",dense:"",flat:"",icon:"print",color:"tertiary",class:"no-shadow q-ma-xs hideonmobile",size:"md",onClick:o[1]||(o[1]=o=>e.$imprimir("nfe-danfe",(t.nota||{}).id||"0")),style:{float:"right"}}),(0,a.createVNode)(h,{rounded:"",dense:"",flat:"",icon:r.detalhesVisivel?"keyboard_arrow_up":"keyboard_arrow_down",size:"md",class:"no-shadow q-ma-xs hideonmobile",color:"tertiary",style:{float:"right"},onClick:o[2]||(o[2]=e=>r.detalhesVisivel=!r.detalhesVisivel)},null,8,["icon"]),(0,a.createVNode)(h,{dense:"",flat:"",icon:"more_vert",round:"",size:"md",class:"hideondesktop"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(v,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"hideondesktop",clickable:"",onClick:l.abrirNFe},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:e.emDigitacao?"edit":"remove_red_eye"},null,8,["name"])])),_:1}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.emDigitacao?"Editar":"Consultar"),1)])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)(C,{class:"hideondesktop",clickable:"",onClick:o[3]||(o[3]=o=>e.$imprimir("nfe-danfe",(t.nota||{}).id||"0"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"print"})])),_:1}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[_k])),_:1})])),_:1}),(0,a.createVNode)(C,{class:"hideondesktop",clickable:"",onClick:o[4]||(o[4]=e=>r.detalhesVisivel=!r.detalhesVisivel)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:r.detalhesVisivel?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["name"])])),_:1}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[yk])),_:1})])),_:1})])),_:1},512),[[V]])])),_:1})])),_:1})])])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),r.detalhesVisivel?((0,a.openBlock)(),(0,a.createBlock)(C,{key:1,class:"q-px-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-px-none fullWidth"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"business"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(t.nota.xFantEmitente||t.nota.xNomeEmitente),1)])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(N)],64)}]]);Z()(Ik,"components",{QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z,QIcon:L.Z,QTooltip:Ao.Z,QBtn:H.Z,QMenu:Bo.Z,QList:F.Z,QSeparator:$.Z}),Z()(Ik,"directives",{ClosePopup:J.Z});const Sk={components:{nfeCard:Ek,nfePrincipal:xp},data:()=>({dataFim:null,dataIni:null,grupos:[],notasEmDigitacao:[],notasEmitidas:[],notasOutras:[],tabSelecionada:""}),methods:{async atualizar(){Fo.gconsole.log("NFeLista","atualizar()");try{this.$q.loading.show();let e=await $db.documentoFiscalEletronico.le({tipo:"NFe"});if(this.dataIni&&this.dataFim){const o=new Date(this.dataIni).setHours(0,0,0,0),t=new Date(this.dataFim).setHours(23,59,59,0);e=e.filter((e=>{const a=new Date(e.dataHoraEmissao);return a>=o&&a<=t}))}if(this.grupos.length){const o=this.grupos.map((e=>(0,Fo.removerAcentos)(e.label).toUpperCase()));e=e.filter((e=>{const t=(0,Fo.removerAcentos)(e.chNFe.toUpperCase()+e.xNomeEmitente.toUpperCase()+e.xFantEmitente.toUpperCase()+e.cpfCnpjDestinatario.toUpperCase()+e.xNomeDestinatario.toUpperCase()+" "+String(e.nNF)+" ");let a=!0;for(const e of o)a=e.length>9||isNaN(Number(e))?a&&t.includes(e):a&&t.includes(" "+e+" ");return a}))}e=(0,Ee.orderBy)(e,["dataHoraEmissao"],["desc"]),this.notasEmDigitacao=e.filter((e=>["Em digitação"].includes(e.situacao))),this.notasEmitidas=e.filter((e=>["Emitido","Carta de Correção"].includes(e.situacao))),this.notasOutras=e.filter((e=>!["Em digitação","Carta de Correção","Emitido"].includes(e.situacao)));let o=this.notasEmDigitacao.length?"notasEmDigitacao":"";o||(o=this.notasEmitidas.length?"notasEmitidas":""),o||(o=this.notasOutras.length?"notasEmitidas":""),this.tabSelecionada=o}catch(e){this.$q.notifyError("Erro ao carregar notas",e)}finally{this.$q.loading.hide()}},fechouNFe(e){Fo.gconsole.log("NFeLista","fechouNFe()",e),e&&this.atualizar()},limparFiltro(){this.grupos=[],this.dataFim=new Date,this.dataIni=new Date(tw()().add(-7,"days"))}},created(){Fo.gconsole.log("NFeLista","created()")},mounted(){Fo.gconsole.log("NFeLista","mounted()"),this.limparFiltro(),this.atualizar()}},Mk=(0,T.Z)(Sk,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("gchips"),n=(0,a.resolveComponent)("campo"),c=(0,a.resolveComponent)("row"),d=(0,a.resolveComponent)("q-card"),m=(0,a.resolveComponent)("q-tab"),u=(0,a.resolveComponent)("q-tabs"),p=(0,a.resolveComponent)("nfeCard"),h=(0,a.resolveComponent)("q-list"),C=(0,a.resolveComponent)("q-tab-panel"),v=(0,a.resolveComponent)("q-tab-panels"),f=(0,a.resolveComponent)("nfePrincipal");return(0,a.openBlock)(),(0,a.createElementBlock)("div",mk,[(0,a.createElementVNode)("div",uk,[(0,a.createVNode)(d,{class:"q-pa-sm no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"items-center q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",pk,[(0,a.createVNode)(s,{modelValue:r.grupos,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.grupos=e),l.atualizar],placeholder:r.grupos.length?"":"Filtre por Empresa, Destinatário, Número...",before:[{icon:"mdi-filter",handler(){e.filtrar()}}]},null,8,["modelValue","onUpdate:modelValue","placeholder","before"])]),(0,a.createElementVNode)("div",hk,[(0,a.createVNode)(n,{modelValue:r.dataIni,"onUpdate:modelValue":[o[1]||(o[1]=e=>r.dataIni=e),l.atualizar],tipo:"data",dense:"",outlined:""},null,8,["modelValue","onUpdate:modelValue"])]),Ck,(0,a.createElementVNode)("div",vk,[(0,a.createVNode)(n,{modelValue:r.dataFim,"onUpdate:modelValue":[o[2]||(o[2]=e=>r.dataFim=e),l.atualizar],tipo:"data",dense:"",outlined:""},null,8,["modelValue","onUpdate:modelValue"])])])),_:1})])),_:1})]),r.tabSelecionada?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(u,{modelValue:r.tabSelecionada,"onUpdate:modelValue":o[3]||(o[3]=e=>r.tabSelecionada=e),dense:"",class:"text-primary q-mt-md",align:"left",style:{"border-bottom":"1px solid #0000001f"}},{default:(0,a.withCtx)((()=>[r.notasEmDigitacao.length?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,label:"Em digitação",name:"notasEmDigitacao",active:""})):(0,a.createCommentVNode)("",!0),r.notasEmitidas.length?((0,a.openBlock)(),(0,a.createBlock)(m,{key:1,label:"Emitidas",name:"notasEmitidas"})):(0,a.createCommentVNode)("",!0),r.notasOutras.length?((0,a.openBlock)(),(0,a.createBlock)(m,{key:2,label:"Outras",name:"notasOutras"})):(0,a.createCommentVNode)("",!0)])),_:1},8,["modelValue"]),(0,a.createVNode)(v,{modelValue:r.tabSelecionada,"onUpdate:modelValue":o[4]||(o[4]=e=>r.tabSelecionada=e),animated:"",class:"transparent q-pa-none"},{default:(0,a.withCtx)((()=>[r.notasEmDigitacao.length?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0,name:"notasEmDigitacao",class:"q-pa-none transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"rounded-borders"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.notasEmDigitacao,(e=>((0,a.openBlock)(),(0,a.createBlock)(p,{key:e.id,nota:e},null,8,["nota"])))),128))])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),r.notasEmitidas.length?((0,a.openBlock)(),(0,a.createBlock)(C,{key:1,name:"notasEmitidas",class:"q-pa-none transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"rounded-borders"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.notasEmitidas,(e=>((0,a.openBlock)(),(0,a.createBlock)(p,{key:e.id,nota:e},null,8,["nota"])))),128))])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),r.notasOutras.length?((0,a.openBlock)(),(0,a.createBlock)(C,{key:2,name:"notasOutras",class:"q-pa-none transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"rounded-borders"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.notasOutras,(e=>((0,a.openBlock)(),(0,a.createBlock)(p,{key:e.id,nota:e},null,8,["nota"])))),128))])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1},8,["modelValue"])],64)):((0,a.openBlock)(),(0,a.createElementBlock)("div",fk,Nk)),(0,a.createVNode)(f,{onFechar:l.fechouNFe},null,8,["onFechar"])])}]]);Z()(Sk,"components",{QCard:D.Z,QTabs:ko.Z,QTab:Do.Z,QTabPanels:lr.Z,QTabPanel:sr.Z,QList:F.Z});const Tk={class:"Qg"};var kk=t(40738);function Dk(){console.log(...arguments)}const qk={components:{Avatar:uo.Z},computed:{abas:()=>[{icon:"gps_fixed",label:"QG",to:{name:"Qg2Dashboard"}},{icon:"group",label:"Equipe",to:{name:"Qg2Equipe"}},{icon:"compare_arrows",label:"Estoque",to:{name:"Qg2Estoque"}},{icon:"star",label:"Records",to:{name:"Qg2Records"}}],badge(){return this.contato.ativo?this.contato.condutaRestricao?{cor:"negative",rotulo:"Restrição"}:!!this.contato.condutaObservacao&&{cor:"warning",rotulo:"Observação"}:{cor:"tertiary",rotulo:"Excluído"}},badgeDetalhes(){const{ativo:e,condutaRestricao:o,condutaObservacao:t}=this.contato;return e&&(o||t)||!1},podeAcessar(){return"0"!==this.$route.params.id&&!!this.contato},telefone(){let e=this.contato.telefone;return!(!e||!e.length)&&(e=e.find((e=>"Principal"===e.tipo))||e[0],e.telefone)},...(0,kk.Se)({contato:"contato",contatosAtivos:"contatosAtivos",contatosInativos:"contatosInativos"})},data:()=>({dados:{empresaselecionada:["Loja 1","Loja 2","Loja 3","Loja 4"],empresa:[{label:"Loja 1",value:"Loja 1"},{label:"Loja 2",value:"Loja 2"},{label:"Loja 3",value:"Loja 3"},{label:"Loja 4",value:"Loja 4"}]},carregando:!1,contatosInativosModal:!1,contatosModal:!1,filtrosContatos:[]}),methods:{abrirContato(e){this.$router.push({params:{id:e}}),this.contatosInativosModal=!1,this.contatosModal=!1},async adicionarContato(){const e=await this.$q.dialog({message:"Qual é o nome completo?",preventClose:!0,prompt:{type:"text"},title:"Cadastrar contato",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Criar",push:!0,class:"bg-primary",textColor:"white",flat:!0}});if(e){this.$q.loading.show();try{const o=await this.$store.dispatch("salvarContato",{nome:e});this.$router.push({params:{id:o.id}})}catch(e){this.$q.notifyError("Erro ao cadastrar contato.",e)}this.$q.loading.hide()}},buscarContato(){this.filtrosContatos=[{campo:"ativo",filtro:"verdadeiro"}],this.contatosModal=!0},buscarContatoExcluido(){this.filtrosContatos=[{campo:"ativo",filtro:"falso"}],this.contatosInativosModal=!0},copiarUid(){const e=this.$refs.uid;e.type="text";try{e.select(),document.execCommand("copy"),this.$q.notify({message:"Copiado!",type:"info"})}catch(e){this.$q.notify("Erro ao copiar.")}e.type="hidden",window.getSelection().removeAllRanges()},fecharContatosModal(){this.contatosModal=!1},async carregarContato(){if(Dk("Atendimento.vue carregarContato",this.$route.params.id),!this.carregando){this.carregando=!0;try{await this.$store.dispatch("carregarContato",this.$route.params.id)}catch(e){this.$q.notifyError("Ocorreu um erro ao obter o contato.",e)}this.carregando=!1}}},watch:{"$route.params.id"(){this.carregarContato()},contato(){}},created(){Dk("Atendimento.vue created()",this.$route.params.id),this.carregarContato()}},Fk=(0,T.Z)(qk,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("avatar"),n=(0,a.resolveComponent)("q-select"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-route-tab"),u=(0,a.resolveComponent)("router-view"),p=(0,a.resolveComponent)("q-tabs"),h=(0,a.resolveComponent)("q-page");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Tk,[(0,a.createVNode)(h,{class:"u-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"q-py-sm q-mb-sm topo",color:"none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:e.contato.imagem,rotulo:!!l.podeAcessar&&e.contato.apelido,tamanho:"40"},null,8,["imagem","rotulo"]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{modelValue:r.dados.empresaselecionada,"onUpdate:modelValue":o[0]||(o[0]=e=>r.dados.empresaselecionada=e),multiple:"",chips:"",options:r.dados.empresa,style:{float:"left",width:"auto"}},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,a.createVNode)(p,{align:"justify",color:"none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.abas,((e,o)=>((0,a.openBlock)(),(0,a.createBlock)(m,(0,a.mergeProps)({class:"Qg-aba"},e,{key:o}),null,16)))),128)),(0,a.createVNode)(u)])),_:1})])),_:1})])}]]);Z()(qk,"components",{QPage:se.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QSelect:al.Z,QTabs:ko.Z,QRouteTab:WC.Z});const Pk={id:"QgQg"},Ak={class:"row q-col-gutter-sm q-mt-sm q-pb-md"},Bk={class:"col-12",style:{float:"right"}},Lk={style:{"font-size":"70%"}},Ok={class:"col-12 q-mt-sm"},zk=(0,a.createTextVNode)("Financeiro"),jk={class:"row justify-around"},$k={class:"text-h5 text-weight-bold text-right q-mt-sm q-pb-none verde",style:{"line-height":"22px"}},Uk=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Recebido ",-1),Zk={class:"row float-right"},Qk=(0,a.createElementVNode)("div",{class:"graph",style:{"margin-right":"10px"}},[(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"15px"}}),(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"10px"}}),(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"15px"}}),(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"8px"}}),(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"17px"}})],-1),Rk={class:"text-h5 text-weight-bold text-right text-positive q-mt-sm q-pb-none",style:{"line-height":"22px"}},Gk={class:"text-h5 text-weight-bold text-right q-mt-sm q-pb-none vermelho",style:{"line-height":"22px"}},Hk=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Pago ",-1),Jk={class:"row float-right"},Yk=(0,a.createElementVNode)("div",{class:"graph",style:{"margin-right":"10px"}},[(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"15px"}}),(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"10px"}}),(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"15px"}}),(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"8px"}}),(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"17px"}})],-1),Xk={class:"text-h5 text-weight-bold text-right text-negative q-mt-sm q-pb-none",style:{"line-height":"22px"}},Wk={class:"text-h5 text-weight-bold text-right q-mt-sm q-pb-none azul",style:{"line-height":"22px"}},Kk=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Saldo (R$) disponivel ",-1),eD={class:"row float-right"},oD=(0,a.createElementVNode)("div",{class:"graph",style:{"margin-right":"10px"}},[(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"15px"}}),(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"10px"}}),(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"15px"}}),(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"8px"}}),(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"17px"}})],-1),tD={class:"text-h5 text-weight-bold text-right text-primary q-mt-sm q-pb-none",style:{"line-height":"22px"}},aD={class:"text-h5 text-weight-bold text-right q-mt-sm q-pb-none verde",style:{"line-height":"22px"}},iD=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Receber ",-1),rD={class:"row float-right"},lD=(0,a.createElementVNode)("div",{class:"graph",style:{"margin-right":"10px"}},[(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"15px"}}),(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"10px"}}),(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"15px"}}),(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"8px"}}),(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"17px"}})],-1),sD={class:"text-h5 text-weight-bold text-right text-positive q-mt-sm q-pb-none",style:{"line-height":"22px"}},nD={class:"text-h5 text-weight-bold text-right q-mt-sm q-pb-none vermelho",style:{"line-height":"22px"}},cD=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Pagar ",-1),dD={class:"row float-right"},mD=(0,a.createElementVNode)("div",{class:"graph",style:{"margin-right":"10px"}},[(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"15px"}}),(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"10px"}}),(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"15px"}}),(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"8px"}}),(0,a.createElementVNode)("div",{class:"graphbar",style:{height:"17px"}})],-1),uD={class:"text-h5 text-weight-bold text-right text-negative q-mt-sm q-pb-none",style:{"line-height":"22px"}},pD={key:0,class:"col-12"},hD=(0,a.createTextVNode)("Envelopes"),CD={class:"row justify-around"},vD={class:"text-body1 text-tertiary text-weight-regular q-block q-mr-sm q-pa-none",style:{display:"block"}},fD={class:"float-right text-h5 text-weight-bold text-right text-primary q-mt-sm q-mr-sm q-pb-none"},ND={class:"text-left"},VD={class:"text-caption col text-tertiary"},gD=(0,a.createElementVNode)("br",null,null,-1),xD=(0,a.createElementVNode)("br",null,null,-1),bD={class:"row text-weight-bold text-right q-mt-sm q-pb-none"},wD={class:"text-body1 text-tertiary text-weight-regular q-block q-mr-sm q-pa-none",style:{display:"block"}},_D=(0,a.createTextVNode)(" PME (Dias) "),yD=(0,a.createTextVNode)(" Prazo Médio de Entrega "),ID={class:"float-right text-h5 text-weight-bold text-right text-primary q-mt-sm q-mr-sm q-pb-none"},ED={class:"col-12 col-lg-4"},SD=(0,a.createTextVNode)("Faturamento "),MD={class:"row text-weight-bold text-right q-mt-sm q-pb-none"},TD={class:"col-12"},kD=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-pa-none",style:{display:"block"}}," Valor Bruto ",-1),DD={key:0,class:"full-width text-h5 text-weight-bold text-right text-primary q-mt-sm q-mr-sm q-pb-none"},qD={class:"text-tertiary",style:{float:"left"}},FD={class:"row text-weight-bold text-right q-mt-sm q-pb-none"},PD={class:"col-12"},AD=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-pa-none",style:{display:"block"}}," Desconto ",-1),BD={key:0,class:"full-width text-h5 text-weight-bold text-right text-primary q-mt-sm q-mr-sm q-pb-none"},LD={class:"text-tertiary",style:{float:"left"}},OD={class:"row text-weight-bold text-right q-mt-sm q-pb-none"},zD={class:"col-12"},jD=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-pa-none",style:{display:"block"}}," Margem de Lucro ",-1),$D={key:0,class:"full-width text-h5 text-weight-bold text-right text-primary q-mt-sm q-mr-sm q-pb-none"},UD={class:"text-tertiary",style:{float:"left"}},ZD=(0,a.createElementVNode)("br",null,null,-1),QD=(0,a.createTextVNode)(" Valor Líquido "),RD={class:"text-tertiary"},GD={class:"col-12 col-lg-8"},HD={class:"row q-col-gutter-sm"},JD={class:"col-6 col-lg-4",style:{"min-height":"180px"}},YD=(0,a.createTextVNode)(" Custo "),XD={class:"text-tertiary"},WD=(0,a.createElementVNode)("br",null,null,-1),KD={class:"col-6 col-lg-4",style:{"min-height":"180px"}},eq=(0,a.createTextVNode)(" Ticket Médio "),oq={class:"text-tertiary"},tq=(0,a.createElementVNode)("br",null,null,-1),aq={class:"col-6 col-lg-4",style:{"min-height":"180px"}},iq=(0,a.createTextVNode)(" Preço Médio "),rq={class:"text-tertiary"},lq=(0,a.createElementVNode)("br",null,null,-1),sq={class:"col-6 col-lg-4",style:{"min-height":"180px"}},nq=(0,a.createTextVNode)(" Quantidade PDV "),cq={class:"text-tertiary"},dq=(0,a.createElementVNode)("br",null,null,-1),mq={class:"col-6 col-lg-4",style:{"min-height":"180px"}},uq=(0,a.createTextVNode)(" Quantidade "),pq={class:"text-tertiary"},hq=(0,a.createElementVNode)("br",null,null,-1),Cq={class:"col-12"},vq=(0,a.createTextVNode)("Estoque"),fq={class:"row justify-around"},Nq={class:"text-h5 text-weight-bold text-center q-mt-sm q-pb-none",style:{"line-height":"22px"}},Vq={class:"text-primary"},gq=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Estoque Final ",-1),xq=(0,a.createElementVNode)("div",{class:"text-body1 text-weight-bolder text-center q-mt-sm q-pb-none",style:{"line-height":"22px"}},[(0,a.createElementVNode)("div",{class:"text-tertiary"},[(0,a.createTextVNode)(" / "),(0,a.createElementVNode)("span",{style:{"margin-left":"100px"}},"(")])],-1),bq={class:"text-h5 text-weight-bold text-center q-mt-sm q-pb-none",style:{"line-height":"22px"}},wq={class:"text-primary"},_q=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," CMV ",-1),yq=(0,a.createElementVNode)("div",{class:"text-body1 text-weight-bolder text-center q-mt-sm q-pb-none",style:{"line-height":"22px"}},[(0,a.createElementVNode)("div",{class:"text-tertiary"}," / ")],-1),Iq={class:"text-h5 text-weight-bold text-center q-mt-sm q-pb-none",style:{"line-height":"22px"}},Eq={class:"text-primary"},Sq=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Dia(s) Trabalhado(s) ",-1),Mq=(0,a.createElementVNode)("div",{class:"text-body1 text-weight-bolder text-center q-mt-sm q-pb-none",style:{"line-height":"22px"}},[(0,a.createElementVNode)("div",{class:"text-tertiary"},[(0,a.createElementVNode)("span",{style:{"margin-right":"100px"}},")"),(0,a.createTextVNode)(" = ")])],-1),Tq={class:"text-h5 text-weight-bold text-center q-mt-sm q-pb-none",style:{"line-height":"22px"}},kq={class:"text-primary"},Dq=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Dia(s) ",-1),qq={class:"col-12"},Fq=(0,a.createTextVNode)("Público Alvo"),Pq={class:"col-12"},Aq=(0,a.createTextVNode)("Lucro / Prejuízo"),Bq={mounted(){}},Lq={data:()=>({dados:{},opcoes:{}}),methods:{atualizar({dados:e,opcoes:o}){}}},Oq={components:{GraficoBarras:Bq,GraficoPizza:Lq},computed:{envelopes(){let e=this.dados.empresa.envelopes;return e.sort(((e,o)=>e.ordem<o.ordem?-1:1)),e},estoque(){return{grafico:{labels:["Estoque"],datasets:[{type:"bar",label:"Inicial",borderColor:"rgb(54, 162, 235)",backgroundColor:"rgba(54, 162, 235, 0.75)",borderWidth:2,fill:!1,data:[this.dados.empresa.estoque.estoqueInicial]},{label:"Final",type:"bar",backgroundColor:"rgba(75, 192, 192, 0.75)",borderColor:"rgb(75, 192, 192)",borderWidth:1,data:[this.dados.empresa.estoque.estoqueFinal]}],cfg:{responsive:!0,maintainAspectRatio:!1,legend:{position:"top"}}}}},percentualCustoRelAnoAnterior(){return((this.dados.empresa||{}).percentualRelAnoAnterior||{}).custo||0},percentualDescontoRelAnoAnterior(){return((this.dados.empresa||{}).percentualRelAnoAnterior||{}).desconto||0},percentualMargemLucroRelAnoAnterior(){return((this.dados.empresa||{}).percentualRelAnoAnterior||{}).margemLucro||0},percentualPrecoMedioRelAnoAnterior(){return((this.dados.empresa||{}).percentualRelAnoAnterior||{}).precoMedio||0},percentualQtdePDVRelAnoAnterior(){return((this.dados.empresa||{}).percentualRelAnoAnterior||{}).qtdePDV||0},percentualQuantidadeRelAnoAnterior(){return((this.dados.empresa||{}).percentualRelAnoAnterior||{}).quantidade||0},percentualTicketMedioRelAnoAnterior(){return((this.dados.empresa||{}).percentualRelAnoAnterior||{}).ticketMedio||0},percentualValorBrutoRelAnoAnterior(){return((this.dados.empresa||{}).percentualRelAnoAnterior||{}).valorBruto||0},percentualValorLiquidoRelAnoAnterior(){return((this.dados.empresa||{}).percentualRelAnoAnterior||{}).valorLiquido||0},percentualValorMargemLucroRelAnoAnterior(){return((this.dados.empresa||{}).percentualRelAnoAnterior||{}).valorMargemLucro||0},publicoAlvo(){return{genero:{graficoBarras:{labels:this.dados.empresa.venda.sexoFaixaEtaria.map((e=>e.faixaEtaria)),datasets:[{label:this.dados.empresa.venda.sexoFaixaEtaria.map((e=>e.sexo)),type:"bar",backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgb(75, 192, 192)",borderWidth:1,data:this.dados.empresa.venda.sexoFaixaEtaria.map((e=>e.venda))}],cfg:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]},legend:{position:"top"}}},graficoPizza:{type:"pie",labels:this.dados.empresa.venda.sexo.map((e=>e.sexo)),datasets:[{label:"Gênero",backgroundColor:["rgb(75, 192, 192)","rgb(219, 40, 40)"],data:this.dados.empresa.venda.sexo.map((e=>e.venda))}],cfg:{responsive:!0}}},idade:{graficoPizza:{type:"pie",labels:this.dados.empresa.venda.faixaEtaria.map((e=>e.faixaEtaria)),datasets:[{label:"Idade",backgroundColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)"],data:this.dados.empresa.venda.faixaEtaria.map((e=>e.venda))}],cfg:{responsive:!0}}}}},receitasDespesas(){return{labels:["Período Atual","Período Ano Anterior"],datasets:[{type:"line",label:"Ponto de Equilíbrio",borderColor:"rgb(54, 162, 235)",backgroundColor:"rgba(219, 40, 40, 0)",borderWidth:1,data:[(this.dados.empresa.receitasDespesas||{}).periodoAtualPontoEquilibrio,(this.dados.empresa.receitasDespesas||{}).periodoAnoAnteriorPontoEquilibrio]},{label:"Receita",type:"bar",stack:"Stack 1",backgroundColor:"rgba(219, 40, 40, 0.75)",borderColor:"rgb(219, 40, 40)",borderWidth:1,data:[(this.dados.empresa.receitasDespesas||{}).periodoAtualReceita,(this.dados.empresa.receitasDespesas||{}).periodoAnoAnteriorReceita]},{label:"Despesa Variável - Projeção",type:"bar",stack:"Stack 2",backgroundColor:"rgba(219, 40, 40, 0.5)",borderColor:"rgb(219, 40, 40)",borderWidth:1,data:[(this.dados.empresa.receitasDespesas||{}).periodoAtualDespVariavelProjecao,(this.dados.empresa.receitasDespesas||{}).periodoAnoAnteriorDespVariavelProjecao]},{label:"Receita - Projeção",type:"bar",stack:"Stack 3",backgroundColor:"rgba(219, 40, 40, 0.25)",borderColor:"rgb(219, 40, 40)",borderWidth:1,data:[(this.dados.empresa.receitasDespesas||{}).periodoAtualReceitaProjecao,(this.dados.empresa.receitasDespesas||{}).periodoAnoAnteriorReceitaProjecao]},{label:"Lucro x Prejuízo",type:"bar",stack:"Stack 4",backgroundColor:"rgba(54, 162, 235, 0.75)",borderColor:"rgb(54, 162, 235)",borderWidth:1,data:[(this.dados.empresa.receitasDespesas||{}).periodoAtualLucroPrejuizo,(this.dados.empresa.receitasDespesas||{}).periodoAnoAnteriorLucroPrejuizo]},{label:"Despesa Variável",type:"bar",stack:"Stack 5",backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgb(54, 162, 235)",borderWidth:1,data:[(this.dados.empresa.receitasDespesas||{}).periodoAtualDespVariavel,(this.dados.empresa.receitasDespesas||{}).periodoAnoAnteriorDespVariavel]},{label:"Despesa Fixa",type:"bar",stack:"Stack 6",backgroundColor:"rgba(54, 162, 235, 0)",borderColor:"rgba(54, 162, 235, 0)",data:[(this.dados.empresa.receitasDespesas||{}).periodoAtualDespFixa,(this.dados.empresa.receitasDespesas||{}).periodoAnoAnteriorDespFixa]}],cfg:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]},legend:{position:"top"}}}}},data:()=>({permissoes:{},sistemaPai:""}),props:{carregando:{default:!0,required:!0,type:Boolean},dados:{default:()=>({}),required:!0,type:Object}},mounted(){this.permissoes={envelope:!1},ue.db.permissao.objeto("cockpit/envelope").then((e=>{this.permissoes.envelope=e})),this.sistemaPai=(0,Fo.sistemaPai)()}},zq=(0,T.Z)(Oq,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-spinner"),n=(0,a.resolveComponent)("q-card-section"),c=(0,a.resolveComponent)("q-card"),d=(0,a.resolveComponent)("q-icon"),m=(0,a.resolveComponent)("q-tooltip"),u=(0,a.resolveComponent)("q-toolbar-title"),p=(0,a.resolveComponent)("q-btn"),h=(0,a.resolveComponent)("grafico-barras"),C=(0,a.resolveComponent)("grafico-pizza");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Pk,[(0,a.createElementVNode)("div",Ak,[(0,a.createElementVNode)("div",Bk,[(0,a.createElementVNode)("span",Lk,[(0,a.withDirectives)((0,a.createVNode)(s,{color:"primary",size:20},null,512),[[a.vShow,t.carregando]])])]),(0,a.createElementVNode)("div",Ok,[(0,a.createVNode)(c,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-tertiary q-title q-pb-sm"},{default:(0,a.withCtx)((()=>[zk])),_:1}),!t.carregando&&t.dados.empresa&&t.dados.empresa.financeiro?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",jk,[(0,a.createElementVNode)("div",$k,[Uk,(0,a.createElementVNode)("div",Zk,[Qk,(0,a.createElementVNode)("div",Rk,(0,a.toDisplayString)(e.$filters.numero(t.dados.empresa.financeiro.recebido,2)),1)])]),(0,a.createElementVNode)("div",Gk,[Hk,(0,a.createElementVNode)("div",Jk,[Yk,(0,a.createElementVNode)("div",Xk,(0,a.toDisplayString)(e.$filters.numero(t.dados.empresa.financeiro.pago,2)),1)])]),(0,a.createElementVNode)("div",Wk,[Kk,(0,a.createElementVNode)("div",eD,[oD,(0,a.createElementVNode)("div",tD,(0,a.toDisplayString)(e.$filters.numero(t.dados.empresa.financeiro.saldoHoje,2)),1)])]),(0,a.createElementVNode)("div",aD,[iD,(0,a.createElementVNode)("div",rD,[lD,(0,a.createElementVNode)("div",sD,(0,a.toDisplayString)(e.$filters.numero(t.dados.empresa.financeiro.aReceber,2)),1)])]),(0,a.createElementVNode)("div",nD,[cD,(0,a.createElementVNode)("div",dD,[mD,(0,a.createElementVNode)("div",uD,(0,a.toDisplayString)(e.$filters.numero(t.dados.empresa.financeiro.aPagar,2)),1)])])])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})]),"optisoul"===r.sistemaPai&&r.permissoes.envelope?((0,a.openBlock)(),(0,a.createElementBlock)("div",pD,[(0,a.createVNode)(c,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-tertiary q-title q-pb-sm"},{default:(0,a.withCtx)((()=>[hD])),_:1}),!t.carregando&&t.dados.empresa.envelopes&&t.dados.empresa.envelope?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",CD,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.envelopes,((o,t)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:t,class:"row text-weight-bold text-right q-mt-sm q-pb-none"},[(0,a.createElementVNode)("div",null,[(0,a.createElementVNode)("small",vD,(0,a.toDisplayString)(o.status),1),(0,a.createElementVNode)("div",fD,(0,a.toDisplayString)(e.$filters.numero((o.verde||0)+(o.amarelo||0)+(o.vermelho||0),0)),1)]),(0,a.createElementVNode)("div",ND,[(0,a.createElementVNode)("small",VD,[(0,a.createVNode)(d,{name:"event_available",color:"positive",class:"q-mr-sm"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.numero(o.verde,0)),1),gD,(0,a.createVNode)(d,{name:"event_note",color:"amber",class:"q-mr-sm"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.numero(o.amarelo,0)),1),xD,(0,a.createVNode)(d,{name:"event_busy",color:"negative",class:"q-mr-sm"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.numero(o.vermelho,0)),1)])])])))),128)),(0,a.createElementVNode)("div",bD,[(0,a.createElementVNode)("div",null,[(0,a.createElementVNode)("small",wD,[_D,(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[yD])),_:1})]),(0,a.createElementVNode)("div",ID,(0,a.toDisplayString)(e.$filters.numero(t.dados.empresa.envelope.pme,0)),1)])])])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",ED,[(0,a.createVNode)(c,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"d-flex full-height column q-pb-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-tertiary q-title q-mx-none q-mt-none q-px-none q-pt-none q-pb-sm"},{default:(0,a.withCtx)((()=>[SD])),_:1}),(0,a.createElementVNode)("div",MD,[(0,a.createElementVNode)("div",TD,[kD,!t.carregando&&t.dados.empresa&&t.dados.empresa.vendasEsteAno?((0,a.openBlock)(),(0,a.createElementBlock)("div",DD,[!t.carregando&&t.dados.empresa&&t.dados.empresa.vendasAnoAnterior?((0,a.openBlock)(),(0,a.createElementBlock)("small",{key:0,class:(0,a.normalizeClass)(l.percentualValorBrutoRelAnoAnterior>=0?"text-positive":"text-negative"),style:{float:"left","font-weight":"normal","font-size":"12px"}},[(0,a.createElementVNode)("span",qD,(0,a.toDisplayString)(e.$filters.numero(t.dados.empresa.vendasAnoAnterior.valorBruto,2)),1),(0,a.createTextVNode)(" (Δ "+(0,a.toDisplayString)(e.$filters.numero(l.percentualValorBrutoRelAnoAnterior,2))+"%) ",1)],2)):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$.filters.numero(((t.dados.empresa||{}).vendasEsteAno||{}).valorBruto,2)),1)])):(0,a.createCommentVNode)("",!0)])]),(0,a.createElementVNode)("div",FD,[(0,a.createElementVNode)("div",PD,[AD,!t.carregando&&t.dados.empresa.vendasEsteAno?((0,a.openBlock)(),(0,a.createElementBlock)("div",BD,[!t.carregando&&t.dados.empresa&&t.dados.empresa.vendasAnoAnterior?((0,a.openBlock)(),(0,a.createElementBlock)("small",{key:0,class:(0,a.normalizeClass)(l.percentualValorBrutoRelAnoAnterior>=0?"text-positive":"text-negative"),style:{float:"left","font-weight":"normal","font-size":"12px"}},[(0,a.createElementVNode)("span",LD,(0,a.toDisplayString)(e.$filters.numero(t.dados.empresa.vendasAnoAnterior.desconto,2)),1),(0,a.createTextVNode)(" (Δ "+(0,a.toDisplayString)(e.$filters.numero(l.percentualDescontoRelAnoAnterior,2))+"%) ",1)],2)):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.numero(t.dados.empresa.vendasEsteAno.desconto,2)),1)])):(0,a.createCommentVNode)("",!0)])]),(0,a.createElementVNode)("div",OD,[(0,a.createElementVNode)("div",zD,[jD,!t.carregando&&t.dados.empresa.vendasEsteAno?((0,a.openBlock)(),(0,a.createElementBlock)("div",$D,[!t.carregando&&t.dados.empresa&&t.dados.empresa.vendasAnoAnterior?((0,a.openBlock)(),(0,a.createElementBlock)("small",{key:0,class:(0,a.normalizeClass)(l.percentualValorBrutoRelAnoAnterior>=0?"text-positive":"text-negative"),style:{float:"left","font-weight":"normal","font-size":"12px"}},[(0,a.createTextVNode)(" (Δ "+(0,a.toDisplayString)(e.$filters.numero(l.percentualMargemLucroRelAnoAnterior,2))+"%) ",1),(0,a.createElementVNode)("span",UD,(0,a.toDisplayString)(e.$filters.numero(t.dados.empresa.vendasAnoAnterior.margemLucro,2)),1),ZD],2)):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.numero(((t.dados.empresa||{}).vendasEsteAno||{}).valorMargemLucro,2))+" ",1),(0,a.createElementVNode)("small",null,"("+(0,a.toDisplayString)(e.$filters.numero(t.dados.empresa.vendasEsteAno.margemLucro,2))+"%)",1)])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(n,{class:"q-pa-none text-tertiary text-right q-mt-sm q-pt-sm",style:{"border-top":"1px solid #eeeeee"}},{default:(0,a.withCtx)((()=>[QD])),_:1}),!t.carregando&&t.dados.empresa&&t.dados.empresa.vendasEsteAno?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,class:"q-display-1 text-weight-bold text-right text-primary q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(((t.dados.empresa||{}).vendasEsteAno||{}).valorLiquido,2)),1)])),_:1})):(0,a.createCommentVNode)("",!0),!t.carregando&&t.dados.empresa&&t.dados.empresa.vendasAnoAnterior?((0,a.openBlock)(),(0,a.createElementBlock)("small",{key:1,class:(0,a.normalizeClass)(l.percentualValorLiquidoRelAnoAnterior>=0?"text-positive":"text-negative"),style:{top:"-21px",position:"relative"}},[(0,a.createElementVNode)("span",RD,(0,a.toDisplayString)(e.$filters.numero(t.dados.empresa.vendasAnoAnterior.valorLiquido,2)),1),(0,a.createTextVNode)(" (Δ "+(0,a.toDisplayString)(e.$filters.numero(l.percentualValorLiquidoRelAnoAnterior,2))+"%) ",1)],2)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})]),(0,a.createElementVNode)("div",GD,[(0,a.createElementVNode)("div",HD,[(0,a.createElementVNode)("div",JD,[(0,a.createVNode)(c,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"d-flex full-height column"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-pa-none text-tertiary text-left"},{default:(0,a.withCtx)((()=>[YD])),_:1}),!t.carregando&&t.dados.empresa&&t.dados.empresa.vendasEsteAno?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,class:"q-display-1 text-weight-bold text-left text-primary q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(((t.dados.empresa||{}).vendasEsteAno||{}).custo,2))+" ",1),(0,a.createVNode)(p,{dense:"",round:"",icon:"mdi-bell",color:l.percentualCustoRelAnoAnterior>=0?"positive":"negative",class:"no-shadow",style:{float:"right"}},null,8,["color"])])),_:1})):(0,a.createCommentVNode)("",!0),!t.carregando&&t.dados.empresa&&t.dados.empresa.vendasAnoAnterior?((0,a.openBlock)(),(0,a.createElementBlock)("small",{key:1,class:(0,a.normalizeClass)(l.percentualCustoRelAnoAnterior>=0?"text-positive":"text-negative")},[(0,a.createElementVNode)("span",XD,(0,a.toDisplayString)(e.$filters.numero(t.dados.empresa.vendasAnoAnterior.custo,2)),1),(0,a.createTextVNode)(" (Δ "+(0,a.toDisplayString)(e.$filters.numero(l.percentualCustoRelAnoAnterior,2))+"%) ",1),WD],2)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})]),(0,a.createElementVNode)("div",KD,[(0,a.createVNode)(c,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"d-flex full-height column"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-pa-none text-tertiary text-left"},{default:(0,a.withCtx)((()=>[eq])),_:1}),!t.carregando&&t.dados.empresa&&t.dados.empresa.vendasEsteAno?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,class:"q-display-1 text-weight-bold text-left text-primary q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(((t.dados.empresa||{}).vendasEsteAno||{}).ticketMedio,2))+" ",1),(0,a.createVNode)(p,{dense:"",round:"",icon:"mdi-bell",color:l.percentualTicketMedioRelAnoAnterior>=0?"positive":"negative",class:"no-shadow",style:{float:"right"}},null,8,["color"])])),_:1})):(0,a.createCommentVNode)("",!0),!t.carregando&&t.dados.empresa&&t.dados.empresa.vendasAnoAnterior?((0,a.openBlock)(),(0,a.createElementBlock)("small",{key:1,class:(0,a.normalizeClass)(l.percentualTicketMedioRelAnoAnterior>=0?"text-positive":"text-negative")},[(0,a.createElementVNode)("span",oq,(0,a.toDisplayString)(e.$filters.numero(t.dados.empresa.vendasAnoAnterior.ticketMedio,2)),1),(0,a.createTextVNode)(" (Δ "+(0,a.toDisplayString)(e.$filters.numero(l.percentualTicketMedioRelAnoAnterior,2))+"%) ",1),tq],2)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})]),(0,a.createElementVNode)("div",aq,[(0,a.createVNode)(c,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"d-flex full-height column"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-pa-none text-tertiary text-left"},{default:(0,a.withCtx)((()=>[iq])),_:1}),!t.carregando&&t.dados.empresa&&t.dados.empresa.vendasEsteAno?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,class:"q-display-1 text-weight-bold text-left text-primary q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(((t.dados.empresa||{}).vendasEsteAno||{}).precoMedio,2))+" ",1),(0,a.createVNode)(p,{dense:"",round:"",icon:"mdi-bell",color:l.percentualPrecoMedioRelAnoAnterior>=0?"positive":"negative",class:"no-shadow",style:{float:"right"}},null,8,["color"])])),_:1})):(0,a.createCommentVNode)("",!0),!t.carregando&&t.dados.empresa&&t.dados.empresa.vendasAnoAnterior?((0,a.openBlock)(),(0,a.createElementBlock)("small",{key:1,class:(0,a.normalizeClass)(l.percentualPrecoMedioRelAnoAnterior>=0?"text-positive":"text-negative")},[(0,a.createElementVNode)("span",rq,(0,a.toDisplayString)(e.$filters.numero(t.dados.empresa.vendasAnoAnterior.precoMedio,2)),1),(0,a.createTextVNode)(" (Δ "+(0,a.toDisplayString)(e.$filters.numero(l.percentualPrecoMedioRelAnoAnterior,2))+"%) ",1),lq],2)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})]),(0,a.createElementVNode)("div",sq,[(0,a.createVNode)(c,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"d-flex full-height column"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-pa-none text-tertiary text-left"},{default:(0,a.withCtx)((()=>[nq])),_:1}),!t.carregando&&t.dados.empresa&&t.dados.empresa.vendasEsteAno?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,class:"q-display-1 text-weight-bold text-left text-primary q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(((t.dados.empresa||{}).vendasEsteAno||{}).qtdePDV)+" ",1),(0,a.createVNode)(p,{dense:"",round:"",icon:"mdi-bell",color:l.percentualQtdePDVRelAnoAnterior>=0?"positive":"negative",class:"no-shadow",style:{float:"right"}},null,8,["color"])])),_:1})):(0,a.createCommentVNode)("",!0),!t.carregando&&t.dados.empresa&&t.dados.empresa.vendasAnoAnterior?((0,a.openBlock)(),(0,a.createElementBlock)("small",{key:1,class:(0,a.normalizeClass)(l.percentualQtdePDVRelAnoAnterior>=0?"text-positive":"text-negative")},[(0,a.createElementVNode)("span",cq,(0,a.toDisplayString)(e.$filters.numero(t.dados.empresa.vendasAnoAnterior.qtdePDV,2)),1),(0,a.createTextVNode)(" (Δ "+(0,a.toDisplayString)(e.$filters.numero(l.percentualQtdePDVRelAnoAnterior,2))+"%) ",1),dq],2)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})]),(0,a.createElementVNode)("div",mq,[(0,a.createVNode)(c,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"d-flex full-height column"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-pa-none text-tertiary text-left"},{default:(0,a.withCtx)((()=>[uq])),_:1}),!t.carregando&&t.dados.empresa&&t.dados.empresa.vendasEsteAno?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,class:"q-display-1 text-weight-bold text-left text-primary q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(((t.dados.empresa||{}).vendasEsteAno||{}).quantidade)+" ",1),(0,a.createVNode)(p,{dense:"",round:"",icon:"mdi-bell",color:l.percentualQuantidadeRelAnoAnterior>=0?"positive":"negative",class:"no-shadow",style:{float:"right"}},null,8,["color"])])),_:1})):(0,a.createCommentVNode)("",!0),!t.carregando&&t.dados.empresa&&t.dados.empresa.vendasAnoAnterior?((0,a.openBlock)(),(0,a.createElementBlock)("small",{key:1,class:(0,a.normalizeClass)(l.percentualQuantidadeRelAnoAnterior>=0?"text-positive":"text-negative")},[(0,a.createElementVNode)("span",pq,(0,a.toDisplayString)(e.$filters.numero(t.dados.empresa.vendasAnoAnterior.quantidade,2)),1),(0,a.createTextVNode)(" (Δ "+(0,a.toDisplayString)(e.$filters.numero(l.percentualQuantidadeRelAnoAnterior,2))+"%) ",1),hq],2)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])])]),(0,a.createElementVNode)("div",Cq,[(0,a.createElementVNode)("div",null,[(0,a.createVNode)(c,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-tertiary q-title q-pb-sm"},{default:(0,a.withCtx)((()=>[vq])),_:1}),!t.carregando&&t.dados.empresa&&t.dados.empresa.estoque?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"col",dados:l.estoque.grafico,opcoes:l.estoque.grafico.cfg},null,8,["dados","opcoes"])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})]),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(c,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[!t.carregando&&t.dados.empresa&&t.dados.empresa.estoque?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",fq,[(0,a.createElementVNode)("div",Nq,[(0,a.createElementVNode)("div",Vq,(0,a.toDisplayString)(e.$filters.numero(t.dados.empresa.estoque.estoqueFinal,2)),1),gq]),xq,(0,a.createElementVNode)("div",bq,[(0,a.createElementVNode)("div",wq,(0,a.toDisplayString)(e.$filters.numero(t.dados.empresa.estoque.cmv,2)),1),_q]),yq,(0,a.createElementVNode)("div",Iq,[(0,a.createElementVNode)("div",Eq,(0,a.toDisplayString)(e.$filters.numero(t.dados.empresa.estoque.diasT,0)),1),Sq]),Mq,(0,a.createElementVNode)("div",Tq,[(0,a.createElementVNode)("div",kq,(0,a.toDisplayString)(e.$filters.numero(t.dados.empresa.estoque.dias,1)),1),Dq])])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])]),(0,a.createElementVNode)("div",qq,[(0,a.createVNode)(c,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-tertiary q-title q-pb-sm"},{default:(0,a.withCtx)((()=>[Fq])),_:1}),!t.carregando&&t.dados.empresa&&t.dados.empresa.venda?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0,class:"row"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"col-12 col-md-6",dados:l.publicoAlvo.genero.graficoBarras,opcoes:l.publicoAlvo.genero.graficoBarras.cfg},null,8,["dados","opcoes"]),(0,a.createVNode)(C,{class:"col-12 col-md-3",dados:l.publicoAlvo.genero.graficoPizza,opcoes:l.publicoAlvo.genero.graficoPizza.cfg},null,8,["dados","opcoes"]),(0,a.createVNode)(C,{class:"col-12 col-md-3",dados:l.publicoAlvo.idade.graficoPizza,opcoes:l.publicoAlvo.idade.graficoPizza.cfg},null,8,["dados","opcoes"])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})]),(0,a.createElementVNode)("div",Pq,[(0,a.createVNode)(c,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-tertiary q-title q-pb-sm"},{default:(0,a.withCtx)((()=>[Aq])),_:1}),!t.carregando&&t.dados.empresa&&t.dados.empresa.receitasDespesas?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0,class:"row"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"col",dados:l.receitasDespesas,opcoes:l.receitasDespesas.cfg},null,8,["dados","opcoes"])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])])])}]]);Z()(Oq,"components",{QSpinner:Me.Z,QCard:D.Z,QCardSection:q.Z,QIcon:L.Z,QTooltip:Ao.Z,QToolbarTitle:G.Z,QBtn:H.Z});const jq={class:"CockpitReceber"},Uq={class:"q-pb-md"},Zq={class:"no-shadow"},Qq={class:"col-12"},Rq={style:{"font-size":"70%"}},Gq={class:"row q-mb-xs items-center"},Hq={class:"col-12 col-lg-6"},Jq={class:"row q-mb-sm"},Yq={class:"col"},Xq=(0,a.createElementVNode)("div",{class:"row"},[(0,a.createElementVNode)("div",{class:"progress"},[(0,a.createElementVNode)("div",{class:"progress-bar bg-primary",style:{width:"62%"}}),(0,a.createElementVNode)("div",{class:"progress-bar bg-info",style:{width:"5%"}}),(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-success",style:{width:"33%"}})])],-1),Wq={class:"row"},Kq={class:"q-title text-weight-bold text-left text-primary q-mt-xs q-pb-none col-12 col-md",style:{"line-height":"22px"}},eF=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}},"Mês",-1),oF={class:"q-title text-weight-bold text-center text-blue-5 q-mt-xs q-pb-none col-12 col-md",style:{"line-height":"22px"}},tF=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}},"Hoje",-1),aF={class:"q-title text-weight-bold text-right text-positive q-mt-xs q-pb-none col-12 col-md",style:{"line-height":"22px"}},iF=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}},"Projeção",-1),rF={class:"col-12 col-lg-6"},lF={class:"row"},sF={class:"col-6 col-lg-3 q-mb-sm blocks"},nF=(0,a.createTextVNode)(" Ticket Médio "),cF={class:"col-6 col-lg-3 q-mb-sm blocks"},dF=(0,a.createTextVNode)(" Orçamento(s) "),mF={class:"col-6 col-lg-3 q-mb-sm blocks"},uF=(0,a.createTextVNode)(" Atendimento c/ vendas hoje "),pF={class:"col-6 col-lg-3 q-mb-sm blocks"},hF=(0,a.createTextVNode)(" Atendimento c/ vendas período "),CF={class:"text-right q-mt-sm"},vF=(0,a.createTextVNode)("Mês "),fF=(0,a.createTextVNode)(" - Hoje "),NF=(0,a.createTextVNode)(" - Projeção "),VF={components:{Avatar:uo.Z},data:()=>({empresas:[],vendedores:{}}),props:{carregando:{default:!0,required:!0,type:Boolean},dados:{default:()=>({}),required:!0,type:Object}},methods:{async obterEmpresas(){this.empresas=[];const e=await ue.db.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0),o=new Set((this.dados.equipe||[]).map((e=>e.codigoEmpresa))),t=[];o.forEach((o=>{const a=e.find((e=>e.codigoContato===o));t.push({codigoContato:a.codigoContato,nome:a.nome})})),this.empresas=t},async obterVendedores(){let e=await ue.db.contatoBusca.filtrar(null,{ativo:!0,usuario:!0},0);e=e.concat(await ue.db.contatoBusca.filtrar(null,{ativo:!0,vendedores:!0},0));const o={};e.forEach((e=>{o[e.codigoContato]||(o[e.codigoContato]=e)})),this.vendedores=o}},watch:{carregando(){this.carregando||this.obterVendedores().then((()=>{this.obterEmpresas()}))}},mounted(){this.obterVendedores().then((()=>{this.obterEmpresas()}))}},gF=(0,T.Z)(VF,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-spinner"),n=(0,a.resolveComponent)("avatar"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-card-section"),m=(0,a.resolveComponent)("q-card"),u=(0,a.resolveComponent)("q-expansion-item"),p=(0,a.resolveComponent)("q-list");return(0,a.openBlock)(),(0,a.createElementBlock)("div",jq,[(0,a.createElementVNode)("div",Uq,[(0,a.createElementVNode)("div",Zq,[(0,a.createElementVNode)("div",Qq,[(0,a.createElementVNode)("span",Rq,[(0,a.withDirectives)((0,a.createVNode)(s,{color:"primary",size:20},null,512),[[a.vShow,t.carregando]])])]),(0,a.createVNode)(p,{class:"q-my-sm"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.empresas,(o=>((0,a.openBlock)(),(0,a.createBlock)(u,{key:o.codigoContato,"default-opened":"",label:o.nome},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(t.dados.equipe.filter((e=>e.codigoEmpresa===o.codigoContato)),(t=>((0,a.openBlock)(),(0,a.createBlock)(m,{key:t.codigoContatoVendedor,class:"extratoItem bg-white q-my-md q-py-sm q-px-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Gq,[(0,a.createElementVNode)("div",Hq,[(0,a.createElementVNode)("div",Jq,[(0,a.createElementVNode)("div",Yq,[(0,a.createVNode)(n,{class:"avatar float-left",imagem:r.vendedores[t.codigoContatoVendedor].imagem,rotulo:r.vendedores[t.codigoContatoVendedor].nome,tamanho:"40"},null,8,["imagem","rotulo"]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.vendedores[t.codigoContatoVendedor].nome)+" ",1),(0,a.createElementVNode)("div",null,(0,a.toDisplayString)(o.nome),1)])),_:2},1024)])]),Xq,(0,a.createElementVNode)("div",Wq,[(0,a.createElementVNode)("div",Kq,[(0,a.createTextVNode)("R$ "+(0,a.toDisplayString)(e.$filters.numero(t.faturamentoPeriodo,2))+" ",1),eF]),(0,a.createElementVNode)("div",oF,[(0,a.createTextVNode)("R$ "+(0,a.toDisplayString)(e.$filters.numero(t.faturamentoHoje,2))+" ",1),tF]),(0,a.createElementVNode)("div",aF,[(0,a.createTextVNode)("R$ "+(0,a.toDisplayString)(e.$filters.numero(t.faturamentoProjecao,2))+" ",1),iF])])]),(0,a.createElementVNode)("div",rF,[(0,a.createElementVNode)("div",lF,[(0,a.createElementVNode)("div",sF,[(0,a.createVNode)(c,{class:"text-h5 text-weight-bold text-center text-blue-8"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(t.ticketMedioPeriodo,2)),1)])),_:2},1024),(0,a.createVNode)(d,{class:"q-pa-none text-tertiary text-center"},{default:(0,a.withCtx)((()=>[nF])),_:1})]),(0,a.createElementVNode)("div",cF,[(0,a.createVNode)(c,{class:"text-h5 text-weight-bold text-center text-blue-8"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(t.pendenciasOrcamentos,0)),1)])),_:2},1024),(0,a.createVNode)(d,{class:"q-pa-none text-tertiary text-center"},{default:(0,a.withCtx)((()=>[dF])),_:1})]),(0,a.createElementVNode)("div",mF,[(0,a.createVNode)(c,{class:"text-h5 text-weight-bold text-center text-blue-8"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(t.conversoesHoje,0))+" / "+(0,a.toDisplayString)(e.$filters.numero(t.atendimentosHoje,0)),1)])),_:2},1024),(0,a.createVNode)(d,{class:"q-pa-none text-tertiary text-center"},{default:(0,a.withCtx)((()=>[uF])),_:1})]),(0,a.createElementVNode)("div",pF,[(0,a.createVNode)(c,{class:"text-h5 text-weight-bold text-center text-blue-8"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(t.conversoesPeriodo,0))+" / "+(0,a.toDisplayString)(e.$filters.numero(t.atendimentosPeriodo,0)),1)])),_:2},1024),(0,a.createVNode)(d,{class:"q-pa-none text-tertiary text-center"},{default:(0,a.withCtx)((()=>[hF])),_:1})])])])])])),_:2},1024)))),128)),(0,a.createElementVNode)("p",CF,[vF,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.$filters.numero(t.dados.equipe.filter((e=>e.codigoEmpresa===o.codigoContato)).reduce(((e,o)=>e+o.faturamentoPeriodo),0),2)),1),fF,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.$filters.numero(t.dados.equipe.filter((e=>e.codigoEmpresa===o.codigoContato)).reduce(((e,o)=>e+o.faturamentoHoje),0),2)),1),NF,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.$filters.numero(t.dados.equipe.filter((e=>e.codigoEmpresa===o.codigoContato)).reduce(((e,o)=>e+o.faturamentoProjecao),0),2)),1)])])),_:2},1032,["label"])))),128))])),_:1})])])])}]]);Z()(VF,"components",{QSpinner:Me.Z,QList:F.Z,QExpansionItem:P.Z,QCard:D.Z,QToolbarTitle:G.Z,QCardSection:q.Z});const xF={class:"row q-col-gutter-sm q-mt-sm q-pb-md"},bF={class:"col-12",style:{float:"right"}},wF={style:{"font-size":"70%"}},_F={class:"col-12 q-mt-sm"},yF=(0,a.createTextVNode)("Estoque"),IF={class:"row justify-around"},EF={class:"text-h5 text-weight-bold text-center q-mt-sm q-pb-none",style:{"line-height":"22px"}},SF={class:"text-primary"},MF=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Custo Total ",-1),TF={class:"text-h5 text-weight-bold text-center q-mt-sm q-pb-none",style:{"line-height":"22px"}},kF={class:"text-primary"},DF=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Unidades ",-1),qF={class:"text-h5 text-weight-bold text-center q-mt-sm q-pb-none",style:{"line-height":"22px"}},FF={class:"text-primary"},PF=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Valor Venda ",-1),AF={class:"text-h5 text-weight-bold text-center q-mt-sm q-pb-none",style:{"line-height":"22px"}},BF={class:"text-primary"},LF=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Margem ",-1),OF={key:0,class:"col-6"},zF=(0,a.createTextVNode)("Tipos"),jF={key:1,class:"col-6"},$F=(0,a.createTextVNode)("Grupos"),UF={class:"col-6"},ZF=(0,a.createTextVNode)("Marcas"),QF={class:"col-12"},RF=(0,a.createTextVNode)("Giro"),GF={components:{GraficoPizza:Lq},computed:{tipos(){return{graficoPizza:{type:"pie",labels:this.dados.estoque[1].filter((e=>e.estoque)).map((e=>e.tipo)),datasets:[{label:"Valor de Custo",backgroundColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)"],data:this.dados.estoque[1].filter((e=>e.estoque)).map((e=>e.estoque))}],cfg:{responsive:!0}}}},grupos(){return{graficoPizza:{type:"pie",labels:this.dados.estoque[4].filter((e=>e.estoque)).map((e=>e.grupo)),datasets:[{label:"Valor de Custo",backgroundColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)"],data:this.dados.estoque[4].filter((e=>e.estoque)).map((e=>e.estoque))}],cfg:{responsive:!0}}}},marcas(){return{graficoPizza:{type:"pie",labels:this.dados.estoque[2].filter((e=>e.estoque)).map((e=>e.marca)),datasets:[{label:"Valor de Custo",backgroundColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)"],data:this.dados.estoque[2].filter((e=>e.estoque)).map((e=>e.estoque))}],cfg:{responsive:!0}}}},giro(){let e=(0,Fo.clonarV2)(this.dados.estoque[3]),o=e,t=e,a=[];o=o.sort(((e,o)=>{const t=(e.faixaVenda||"").match(/\d+/gi),a=(o.faixaVenda||"").match(/\d+/gi);return Number(t[0])>Number(a[0])?t[1]&&a[1]&&Number(t[1])<Number(a[1])?-1:1:-1})),o=new Set(o.map((e=>e.faixaVenda))),o=["",...o],o=o.map(((e,o)=>({name:"faixa"+o,label:e,field:"faixa"+o,align:"left"}))),t=t.sort(((e,o)=>{const t=(e.faixaGiro||"").match(/\d+/gi),a=(o.faixaGiro||"").match(/\d+/gi);return Number(t[0])>Number(a[0])?t[1]&&a[1]&&Number(t[1])<Number(a[1])?-1:1:-1})),t=new Set(t.map((e=>e.faixaGiro)));for(const i of t){let t=0,r={faixa0:i};for(const a of o.filter((e=>e.label))){const o=e.reduce(((e,o)=>o.faixaVenda===a.label&&o.faixaGiro===i?e+o.custoTotal:e),0);t+=o,r[a.name]=this.$filters.numero(o,2)}r.totais=this.$filters.numero(t,2),a.push(r)}return{columns:o,tableData:a}}},data:()=>({sistemaPai:""}),props:{carregando:{default:!0,required:!0,type:Boolean},dados:{default:()=>({}),required:!0,type:Object}},created(){this.sistemaPai=(0,Fo.sistemaPai)()}},HF=(0,T.Z)(GF,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-spinner"),n=(0,a.resolveComponent)("q-card-section"),c=(0,a.resolveComponent)("q-card"),d=(0,a.resolveComponent)("grafico-pizza"),m=(0,a.resolveComponent)("q-table");return(0,a.openBlock)(),(0,a.createElementBlock)("div",xF,[(0,a.createElementVNode)("div",bF,[(0,a.createElementVNode)("span",wF,[(0,a.withDirectives)((0,a.createVNode)(s,{color:"primary",size:20},null,512),[[a.vShow,t.carregando]])])]),(0,a.createElementVNode)("div",_F,[(0,a.createVNode)(c,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-tertiary q-title q-pb-sm"},{default:(0,a.withCtx)((()=>[yF])),_:1}),!t.carregando&&t.dados.estoque&&t.dados.estoque[0]&&t.dados.estoque[0][0]?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",IF,[(0,a.createElementVNode)("div",EF,[(0,a.createElementVNode)("div",SF,(0,a.toDisplayString)(e.$filters.numero(t.dados.estoque[0][0].estoqueCusto,2)),1),MF]),(0,a.createElementVNode)("div",TF,[(0,a.createElementVNode)("div",kF,(0,a.toDisplayString)(e.$filters.numero(t.dados.estoque[0][0].qtdeSku,0)),1),DF]),(0,a.createElementVNode)("div",qF,[(0,a.createElementVNode)("div",FF,(0,a.toDisplayString)(e.$filters.numero(t.dados.estoque[0][0].estoqueVenda,2)),1),PF]),(0,a.createElementVNode)("div",AF,[(0,a.createElementVNode)("div",BF,(0,a.toDisplayString)(e.$filters.numero(t.dados.estoque[0][0].margem,0))+"% ",1),LF])])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})]),"optisoul"===r.sistemaPai?((0,a.openBlock)(),(0,a.createElementBlock)("div",OF,[(0,a.createVNode)(c,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-tertiary q-title q-pb-sm"},{default:(0,a.withCtx)((()=>[zF])),_:1}),!t.carregando&&t.dados.estoque&&t.dados.estoque[1]?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"col-12",dados:l.tipos.graficoPizza,opcoes:l.tipos.graficoPizza.cfg},null,8,["dados","opcoes"])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])):((0,a.openBlock)(),(0,a.createElementBlock)("div",jF,[(0,a.createVNode)(c,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-tertiary q-title q-pb-sm"},{default:(0,a.withCtx)((()=>[$F])),_:1}),!t.carregando&&t.dados.estoque&&t.dados.estoque[1]?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"col-12",dados:l.grupos.graficoPizza,opcoes:l.grupos.graficoPizza.cfg},null,8,["dados","opcoes"])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])),(0,a.createElementVNode)("div",UF,[(0,a.createVNode)(c,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-tertiary q-title q-pb-sm"},{default:(0,a.withCtx)((()=>[ZF])),_:1}),!t.carregando&&t.dados.estoque&&t.dados.estoque[2]?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"col-12",dados:l.marcas.graficoPizza,opcoes:l.marcas.graficoPizza.cfg},null,8,["dados","opcoes"])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})]),(0,a.createElementVNode)("div",QF,[(0,a.createVNode)(c,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-tertiary q-title q-pb-sm"},{default:(0,a.withCtx)((()=>[RF])),_:1}),!t.carregando&&t.dados.estoque&&t.dados.estoque[3]?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{rows:l.giro.tableData,columns:l.giro.columns,class:"no-shadow text-left col-12","hide-bottom":""},null,8,["rows","columns"])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])])}]]);Z()(GF,"components",{QSpinner:Me.Z,QCard:D.Z,QCardSection:q.Z,QTable:nr.Z});const JF={class:"Relatorios",view:"hHh Lpr lFf"},YF={class:"background"},XF={components:{},computed:{abas(){return[{label:"Financeiro",to:{name:"RelatoriosFinanceiro",params:{id:this.$route.params.id}},children:[{label:"DRE",to:{name:"FinanceiroDRE",params:{id:this.$route.params.id}}},{label:"Balanço",to:{name:"FinanceiroBalanco",params:{id:this.$route.params.id}}},{label:"Fluxo de Caixa",to:{name:"FinanceiroFluxo",params:{id:this.$route.params.id}}},{label:"Resultado",to:{name:"FinanceiroResultado",params:{id:this.$route.params.id}}}]},{label:"Vendas",to:{name:"RelatoriosVendas",params:{id:this.$route.params.id}},children:[{label:"DRE",to:{name:"FinanceiroDRE",params:{id:this.$route.params.id}}}]},{label:"Estoque",to:{name:"RelatoriosEstoque",params:{id:this.$route.params.id}},children:[{label:"DRE",to:{name:"FinanceiroDRE",params:{id:this.$route.params.id}}}]},{label:"Faturamento",to:{name:"RelatoriosFaturamento",params:{id:this.$route.params.id}},children:[{label:"DRE",to:{name:"FinanceiroDRE",params:{id:this.$route.params.id}}}]},{label:"Fiscal",to:{name:"RelatoriosFiscal",params:{id:this.$route.params.id}},children:[{label:"DRE",to:{name:"FinanceiroDRE",params:{id:this.$route.params.id}}}]},{label:"Compras",to:{name:"RelatoriosCompras",params:{id:this.$route.params.id}},children:[{label:"DRE",to:{name:"FinanceiroDRE",params:{id:this.$route.params.id}}}]}]}},data:()=>({data:"",drawer:!0}),methods:{toogleMenu(){this.drawer=!this.drawer}},mounted(){}},WF=(0,T.Z)(XF,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-item-label"),n=(0,a.resolveComponent)("q-item"),c=(0,a.resolveComponent)("q-list"),d=(0,a.resolveComponent)("router-view"),m=(0,a.resolveComponent)("q-page"),u=(0,a.resolveComponent)("q-drawer");return(0,a.openBlock)(),(0,a.createElementBlock)("div",JF,[(0,a.createVNode)(m,{class:"q-px-md"},{default:(0,a.withCtx)((()=>["RelatoriosLayout"===this.$route.name?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,link:"","no-border":"",separator:"",class:"hideondesktop"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.abas,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:e.label},[e.children?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,header:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.label),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0),e.children?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(n,(0,a.normalizeProps)((0,a.mergeProps)({key:1},e)),{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{label:e.label},null,8,["label"])])),_:2},1040)),e.children?((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:2},(0,a.renderList)(e.children,(e=>((0,a.openBlock)(),(0,a.createBlock)(n,(0,a.mergeProps)(e,{key:e.label}),{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{label:e.label},null,8,["label"])])),_:2},1040)))),128)):(0,a.createCommentVNode)("",!0)])))),128))])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(d,{onMyEvent:l.toogleMenu},null,8,["onMyEvent"])])),_:1}),(0,a.createVNode)(u,{side:"left",modelValue:r.drawer,"onUpdate:modelValue":o[0]||(o[0]=e=>r.drawer=e),"content-class":"mydrawerL no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",YF,[(0,a.createVNode)(c,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.abas,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:e.label},[e.children?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,header:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.label),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0),e.children?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(n,(0,a.normalizeProps)((0,a.mergeProps)({key:1},e)),{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{label:e.label},null,8,["label"])])),_:2},1040)),e.children?((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:2},(0,a.renderList)(e.children,(e=>((0,a.openBlock)(),(0,a.createBlock)(n,(0,a.mergeProps)(e,{key:e.label}),{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{label:e.label},null,8,["label"])])),_:2},1040)))),128)):(0,a.createCommentVNode)("",!0)])))),128))])),_:1})])])),_:1},8,["modelValue"])])}]]);Z()(XF,"components",{QPage:se.Z,QList:F.Z,QItemLabel:j.Z,QItem:z.Z,QDrawer:YM.Z});const KF={class:"vendas q-pa-md bg-white"},eP={components:{},data:()=>({data:""})},oP=(0,T.Z)(eP,[["render",function(e,o,t,i,r,l){return(0,a.openBlock)(),(0,a.createElementBlock)("div",KF,"vendas")}]]),tP={class:"estoque row"},aP={components:{},data:()=>({data:""})},iP=(0,T.Z)(aP,[["render",function(e,o,t,i,r,l){return(0,a.openBlock)(),(0,a.createElementBlock)("div",tP,"estoque")}]]),rP={class:"faturamento row"},lP={components:{},data:()=>({data:""})},sP=(0,T.Z)(lP,[["render",function(e,o,t,i,r,l){return(0,a.openBlock)(),(0,a.createElementBlock)("div",rP,"faturamento")}]]),nP={class:"fiscal row"},cP={components:{},data:()=>({data:""})},dP=(0,T.Z)(cP,[["render",function(e,o,t,i,r,l){return(0,a.openBlock)(),(0,a.createElementBlock)("div",nP,"fiscal")}]]),mP={class:"compras row"},uP={components:{},data:()=>({data:""})},pP=(0,T.Z)(uP,[["render",function(e,o,t,i,r,l){return(0,a.openBlock)(),(0,a.createElementBlock)("div",mP,"compras")}]]),hP={class:"financeiro"},CP=(0,a.createTextVNode)(" Financeiro "),vP=(0,a.createTextVNode)(" Financeiro "),fP={class:"q-pa-md bg-white"},NP={computed:{abas(){return[{label:"DRE",to:{name:"FinanceiroDRE",params:{id:this.$route.params.id}}},{label:"Balanço",to:{name:"FinanceiroBalanco",params:{id:this.$route.params.id}}},{label:"Fluxo de Caixa",to:{name:"FinanceiroFluxo",params:{id:this.$route.params.id}}},{label:"Resultado",to:{name:"FinanceiroResultado",params:{id:this.$route.params.id}}}]}},data:()=>({data:"",drawer:!0}),emits:["myEvent"],methods:{clicou(){this.$emit("myEvent")}}},VP=(0,T.Z)(NP,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-route-tab"),d=(0,a.resolveComponent)("q-tabs"),m=(0,a.resolveComponent)("q-toolbar"),u=(0,a.resolveComponent)("router-view");return(0,a.openBlock)(),(0,a.createElementBlock)("div",hP,[(0,a.createVNode)(m,{class:"q-pa-none q-pt-sm hideonmobile",color:"none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{icon:"vertical_split",color:"dark",class:"q-px-xs q-ml-none",flat:"",onClick:o[0]||(o[0]=e=>l.clicou())}),(0,a.createVNode)(n,{class:"text-dark"},{default:(0,a.withCtx)((()=>[CP])),_:1}),(0,a.createVNode)(d,{align:"justify",color:"none","text-color":"primary"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.abas,(e=>((0,a.openBlock)(),(0,a.createBlock)(c,(0,a.mergeProps)({class:"Relatorios-aba"},e,{key:e.label}),null,16)))),128))])),_:1})])),_:1}),(0,a.createVNode)(m,{class:"q-pa-none q-pt-sm hideondesktop",color:"none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{icon:"vertical_split",color:"dark",class:"q-px-xs q-ml-none",flat:"",onClick:o[1]||(o[1]=e=>l.clicou())}),(0,a.createVNode)(n,{class:"text-dark"},{default:(0,a.withCtx)((()=>[vP])),_:1})])),_:1}),(0,a.createVNode)(m,{class:"q-pa-none q-pt-sm hideondesktop",color:"none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{align:"justify",color:"none","text-color":"primary"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.abas,(e=>((0,a.openBlock)(),(0,a.createBlock)(c,(0,a.mergeProps)({class:"Relatorios-aba"},e,{key:e.label}),null,16)))),128))])),_:1})])),_:1}),(0,a.createElementVNode)("div",fP,[(0,a.createVNode)(u)])])}],["__scopeId","data-v-29c48a96"]]);Z()(NP,"components",{QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QTabs:ko.Z,QRouteTab:WC.Z});const gP={class:"q-pa-none row"},xP=(0,a.createTextVNode)(" DRE "),bP={components:{},data:()=>({data:""})},wP=(0,T.Z)(bP,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar");return(0,a.openBlock)(),(0,a.createElementBlock)("div",gP,[(0,a.createVNode)(c,{class:"q-pa-none",color:"none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{icon:"mdi-filter",color:"dark",class:"q-px-xs q-ml-none",flat:""}),(0,a.createVNode)(n,{class:"text-dark"},{default:(0,a.withCtx)((()=>[xP])),_:1}),(0,a.createVNode)(s,{icon:"mdi-arrow-expand",color:"dark",class:"q-px-xs q-ml-none",flat:""})])),_:1})])}]]);Z()(bP,"components",{QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z});const _P={class:"q-pa-none row"},yP=(0,a.createTextVNode)(" 2020 "),IP=(0,a.createTextVNode)(" 2020 "),EP={components:{},data:()=>({opened:!1,columns:[{name:"desc",required:!0,label:"",align:"left",field:"name",sortable:!0,classes:"my-class"},{name:"desc",required:!0,label:"Mês",align:"left",field:"calories",sortable:!0,classes:"my-class"},{name:"desc",required:!0,label:"2020",align:"left",field:"fat",sortable:!0,classes:"my-class"}],tableData:[{name:"RECEITA",calories:159,fat:6},{name:"Impostos",calories:159,fat:6},{name:"Despesa Comercial",calories:159,fat:6},{name:"MARGEM DE CONTRIBUIÇÃO",calories:159,fat:6},{name:"Encargos Sociais",calories:159,fat:6},{name:"Despesa Fixa",calories:159,fat:6},{name:"Imobilizado",calories:159,fat:6},{name:"DESPESA TOTAL",calories:159,fat:6},{name:"Despesas Financeiras",calories:159,fat:6},{name:"RESULTADO",calories:159,fat:6}]})},SP=(0,T.Z)(EP,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-table"),m=(0,a.resolveComponent)("q-dialog");return(0,a.openBlock)(),(0,a.createElementBlock)("div",_P,[(0,a.createVNode)(c,{class:"q-pa-none",color:"none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{icon:"mdi-filter",color:"dark",class:"q-px-xs q-ml-none",flat:""}),(0,a.createVNode)(n,{class:"text-dark"},{default:(0,a.withCtx)((()=>[yP])),_:1}),(0,a.createVNode)(s,{icon:"mdi-arrow-expand",color:"dark",class:"q-px-xs q-ml-none",flat:"",onClick:o[0]||(o[0]=e=>r.opened=!r.opened)})])),_:1}),(0,a.createVNode)(d,{rows:r.tableData,columns:r.columns,"row-key":"name",class:"no-shadow col-12",dense:""},null,8,["rows","columns"]),(0,a.createVNode)(m,{modelValue:r.opened,"onUpdate:modelValue":o[2]||(o[2]=e=>r.opened=e),maximized:"",class:"bg-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"q-pa-none",color:"none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{icon:"mdi-filter",color:"dark",class:"q-px-xs q-ml-none",flat:""}),(0,a.createVNode)(n,{class:"text-dark"},{default:(0,a.withCtx)((()=>[IP])),_:1}),(0,a.createVNode)(s,{icon:"mdi-arrow-collapse",color:"dark",class:"q-px-xs q-ml-none",flat:"",onClick:o[1]||(o[1]=e=>r.opened=!r.opened)})])),_:1}),(0,a.createVNode)(d,{rows:r.tableData,columns:r.columns,"row-key":"name",class:"no-shadow col-12 bg-white",dense:""},null,8,["rows","columns"])])),_:1},8,["modelValue"])])}]]);Z()(EP,"components",{QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QTable:nr.Z,QDialog:k.Z});const MP={class:"q-pa-none row"},TP=(0,a.createTextVNode)(" Fluxo de caixa "),kP={components:{},data:()=>({data:""})},DP=(0,T.Z)(kP,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar");return(0,a.openBlock)(),(0,a.createElementBlock)("div",MP,[(0,a.createVNode)(c,{class:"q-pa-none",color:"none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{icon:"mdi-filter",color:"dark",class:"q-px-xs q-ml-none",flat:""}),(0,a.createVNode)(n,{class:"text-dark"},{default:(0,a.withCtx)((()=>[TP])),_:1}),(0,a.createVNode)(s,{icon:"mdi-arrow-expand",color:"dark",class:"q-px-xs q-ml-none",flat:""})])),_:1})])}]]);Z()(kP,"components",{QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z});const qP={class:"q-pa-none row"},FP=(0,a.createTextVNode)(" Resultado "),PP={components:{},data:()=>({data:""})},AP=(0,T.Z)(PP,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar");return(0,a.openBlock)(),(0,a.createElementBlock)("div",qP,[(0,a.createVNode)(c,{class:"q-pa-none",color:"none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{icon:"mdi-filter",color:"dark",class:"q-px-xs q-ml-none",flat:""}),(0,a.createVNode)(n,{class:"text-dark"},{default:(0,a.withCtx)((()=>[FP])),_:1}),(0,a.createVNode)(s,{icon:"mdi-arrow-expand",color:"dark",class:"q-px-xs q-ml-none",flat:""})])),_:1})])}]]);Z()(PP,"components",{QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z});const BP={class:"bg-gradiente text-white"},LP={class:"u-container"},OP=(0,a.createTextVNode)(" Site "),zP={class:"u-container"},jP={class:"q-card bg-white q-px-md no-shadow"},$P={class:"row items-center"},UP={class:"col"},ZP={class:"col-auto text-right"},QP={class:"q-card bg-white q-my-md no-shadow"},RP={class:"q-px-md"},GP=(0,a.createElementVNode)("div",{class:"col-6 col-md-1"},"Principal",-1),HP=(0,a.createElementVNode)("div",{class:"col-6 col-md-1"},"Ativo",-1),JP=(0,a.createElementVNode)("div",{class:"col-12 col-md"},"Empresa",-1),YP={class:"col-6 col-md-1"},XP={class:"col-6 col-md-1"},WP={class:"col-12 col-md"},KP={class:"q-card bg-white q-my-md no-shadow"},eA={class:"q-px-md q-pb-md"},oA={class:"q-card bg-white q-my-md no-shadow"},tA={class:"q-px-md q-pb-md"},aA={class:"q-card bg-white q-my-md no-shadow"},iA={class:"q-px-md q-pb-md"},rA={class:"q-card bg-white no-shadow"},lA={class:"q-px-md q-pb-md"},sA={class:"row items-center"},nA={class:"text-weight-bold text-primary q-mx-sm"},cA={key:0},dA=(0,a.createElementVNode)("div",{class:"row text-weight-bold text-right justify-around"},[(0,a.createElementVNode)("div",{class:"col-2 text-center"},"Valor de venda"),(0,a.createElementVNode)("div",{class:"col-2 text-center"},"Marca"),(0,a.createElementVNode)("div",{class:"col-2"},"Código de barras"),(0,a.createElementVNode)("div",{class:"col-2"},"Ref")],-1),mA={class:"row text-right justify-around"},uA={class:"col-2 text-center"},pA={class:"col-2 text-center"},hA={class:"col-2"},CA={class:"col-2"},vA={class:"u-container relative-position"};var fA=t(80399);const NA={components:{Arquivo:fA.Z,Avatar:uo.Z,Badge:S.Z},data:()=>({tabsSite:"home",dados:null,empresas:[],itens:[],formasPagamento:[],empresaPrincipal:"",pened:!0,ticked:[],tickStrategy:"leaf",tickFilter:null,tickable:[],json:{siteUrl:"",ativo:!0,empresas:{},carrossel:[],slogan:"",descricao:"",formasPagamento:{},marketingDigital:{codigoTagHead:"",codigoTagBody:""}}}),methods:{atualizarCarrossel(){this.json.carrossel.map((e=>{this.$refs.arquivo.arquivo.push({arquivo:e.imagemB64,nome:e.nome,id:e.id})}))},async atualizar(){try{let e=await this.$utils.geeksApi({site:{funcao:"84C328A7-CEA7-4762-A703-C59DE8D53BF5"}});if(this.dados=e,e=e.data.site,(0,Ee.isEmpty)(e.empresas)){let e=await ue.db.empresa.le();this.empresas=e.reduce(((e,o)=>(e[o.id]={id:o.id,idContato:o.idContato,nome:o.nome,ativoSite:!1,principal:!1},e)),{}),(await ue.db.formaPagamento.le()).map((e=>{this.formasPagamento.push({id:e.id,descricao:e.descricao,ativoSite:!1})}))}else{this.json=e,this.empresas=this.json.empresas;for(let e in this.empresas)this.empresas[e].principal&&(this.empresaPrincipal=e);this.formasPagamento=this.json.formasPagamento,this.ticked=this.json.itens}let o=localStorage.getItem("bancoDeDados");this.json.siteUrl=o,await this.montarGrupos()}catch(e){this.$q.notifyError("Erro ao consltar banco",e)}},novoCarrossel(){this.json.carrossel=[],this.$refs.arquivo.arquivo.map((e=>{this.json.carrossel.push({imagemB64:e.arquivo,nome:e.nome,id:e.id})}))},async salvar(){if(!this.empresaPrincipal)return void this.$q.notifyError("Selecione ao menos uma empresa principal");if(!this.ticked.length)return void this.$q.notifyAlert("Selecione alguns produtos");this.json.empresas=this.empresas,this.json.formasPagamento=this.formasPagamento,this.json.empresas[this.empresaPrincipal].principal=!0,this.json.itens=this.ticked;let e=(0,Fo.clonarV2)(this.json);await this.$utils.geeksApi({site:{funcao:"E981897C-A205-441E-99DE-BECD16CB261A",...e}}),this.$q.notifyPositive("Salvo com sucesso!")},buscarImagens(){this.json.carrossel=[],this.$refs.arquivo.arquivo.map((e=>{this.json.carrossel.push({imagemB64:e.arquivo,nome:e.nome,id:e.id})}))},async montarGrupos(){let e=await ue.db.item.le({ativo:!0});e=(0,Ee.orderBy)(e,"descricao","asc");let o=[],t=[];e.map((e=>{const t=e.grupo||"Outros",a=e.subGrupo||"Outros";o[t]||(o[t]={}),o[t][a]||(o[t][a]=[]),o[t][a].push({label:e.descricaoConcatenada,key:e.id,image:e.imagem,header:"generic",accordion:!0,...e})}));for(let e in o){let a=[];for(let t in o[e])a.push({label:t,children:o[e][t],key:e+t,header:"root"});a=(0,Ee.orderBy)(a,"label","asc"),t.push({label:e,children:a,key:e,header:"root"})}t=(0,Ee.orderBy)(t,"label","asc"),this.tickable=t}},created(){this.atualizar()}},VA=(0,T.Z)(NA,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-tab"),m=(0,a.resolveComponent)("q-tabs"),u=(0,a.resolveComponent)("q-input"),p=(0,a.resolveComponent)("q-toggle"),h=(0,a.resolveComponent)("row"),C=(0,a.resolveComponent)("q-radio"),v=(0,a.resolveComponent)("q-expansion-item"),f=(0,a.resolveComponent)("arquivo"),N=(0,a.resolveComponent)("q-item-section"),V=(0,a.resolveComponent)("q-item-label"),g=(0,a.resolveComponent)("q-item"),x=(0,a.resolveComponent)("q-list"),b=(0,a.resolveComponent)("q-field"),w=(0,a.resolveComponent)("q-tab-panel"),_=(0,a.resolveComponent)("q-card"),y=(0,a.resolveComponent)("avatar"),I=(0,a.resolveComponent)("q-separator"),E=(0,a.resolveComponent)("badge"),S=(0,a.resolveComponent)("q-tree"),M=(0,a.resolveComponent)("q-tab-panels"),T=(0,a.resolveComponent)("q-btn"),k=(0,a.resolveComponent)("q-footer"),D=(0,a.resolveComponent)("q-page");return(0,a.openBlock)(),(0,a.createBlock)(D,{class:"Site"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",BP,[(0,a.createElementVNode)("div",LP,[(0,a.createVNode)(c,{class:"bg-transparent text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"mdi-earth",size:"32px"}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[OP])),_:1})])),_:1}),(0,a.createVNode)(m,{modelValue:r.tabsSite,"onUpdate:modelValue":o[0]||(o[0]=e=>r.tabsSite=e),align:"justify",dense:"","indicator-color":"light-blue-4",color:"transparent","text-color":"white",class:"text-white q-mb-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{default:"",name:"home",icon:"mdi-home",label:"Home","active-color":"white"}),(0,a.createVNode)(d,{name:"produtos",icon:"extension",label:"Produtos","active-color":"white"})])),_:1},8,["modelValue"])])]),(0,a.createElementVNode)("div",zP,[(0,a.createVNode)(M,{modelValue:r.tabsSite,"onUpdate:modelValue":o[11]||(o[11]=e=>r.tabsSite=e),animated:"",class:"bg-transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{name:"home",class:"bg-transparent"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",jP,[(0,a.createElementVNode)("div",$P,[(0,a.createElementVNode)("div",UP,[(0,a.createVNode)(u,{type:"text",prefix:"b15.app/",label:"URL do Site",modelValue:r.json.siteUrl,"onUpdate:modelValue":o[1]||(o[1]=e=>r.json.siteUrl=e)},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"mdi-earth",size:"32px"})])),_:1},8,["modelValue"])]),(0,a.createElementVNode)("div",ZP,[(0,a.createVNode)(p,{modelValue:r.json.ativo,"onUpdate:modelValue":o[2]||(o[2]=e=>r.json.ativo=e),label:"Ativo",class:"q-ma-md"},null,8,["modelValue"])])])]),(0,a.createElementVNode)("div",QP,[(0,a.createVNode)(v,{group:"somegroup",icon:"business",label:"Empresas",class:"border-1","header-class":"bg-white text-tertiary","exact-active-class":"bg-white text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",RP,[(0,a.createVNode)(h,{class:"items-center borderBottom"},{default:(0,a.withCtx)((()=>[GP,HP,JP])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.empresas,(e=>((0,a.openBlock)(),(0,a.createBlock)(h,{class:"items-center borderBottom",key:e.id},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",YP,[(0,a.createVNode)(C,{modelValue:r.empresaPrincipal,"onUpdate:modelValue":[o[3]||(o[3]=e=>r.empresaPrincipal=e),o=>e.ativoSite=!0],val:e.id},null,8,["modelValue","val","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",XP,[(0,a.createVNode)(p,{modelValue:e.ativoSite,"onUpdate:modelValue":o=>e.ativoSite=o,class:"col",disable:r.empresaPrincipal==e.id},null,8,["modelValue","onUpdate:modelValue","disable"])]),(0,a.createElementVNode)("div",WP,(0,a.toDisplayString)(e.nome),1)])),_:2},1024)))),128))])])),_:1})]),(0,a.createElementVNode)("div",KP,[(0,a.createVNode)(v,{group:"somegroup",icon:"mdi-view-carousel",label:"Carrossel",class:"border-1","header-class":"bg-white text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",eA,[(0,a.createVNode)(f,{ref:"arquivo",onRemover:l.novoCarrossel,onAdicionar:l.novoCarrossel,onAtualizar:l.atualizarCarrossel},null,8,["onRemover","onAdicionar","onAtualizar"])])])),_:1})]),(0,a.createElementVNode)("div",oA,[(0,a.createVNode)(v,{group:"somegroup",icon:"mdi-format-title",label:"Textos",class:"border-1","header-class":"bg-white text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",tA,[(0,a.createVNode)(u,{label:"Slogan",class:"q-mb-sm",modelValue:r.json.slogan,"onUpdate:modelValue":o[4]||(o[4]=e=>r.json.slogan=e)},null,8,["modelValue"]),(0,a.createVNode)(u,{class:"bg-light q-px-sm",label:"Descrição",rows:"3",type:"textarea",modelValue:r.json.descricao,"onUpdate:modelValue":o[5]||(o[5]=e=>r.json.descricao=e)},null,8,["modelValue"])])])),_:1})]),(0,a.createElementVNode)("div",aA,[(0,a.createVNode)(v,{group:"somegroup",icon:"credit_card",label:"Formas de pagamento",class:"border-1","header-class":"bg-white text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",iA,[(0,a.createVNode)(x,{highlight:"","no-border":"",separator:"",class:"q-pt-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.formasPagamento,(e=>((0,a.openBlock)(),(0,a.createBlock)(g,{key:e.id,class:"q-pa-xs itemlista"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:e.ativoSite,"onUpdate:modelValue":o=>e.ativoSite=o},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.descricao),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])])),_:1})]),(0,a.createElementVNode)("div",rA,[(0,a.createVNode)(v,{group:"somegroup",icon:"mdi-code-tags",label:"Códigos marketing digital",class:"border-1","header-class":"bg-white text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",lA,[(0,a.createVNode)(u,{class:"bg-light q-px-md q-mb-md",label:"Código na tag head ",rows:"10",type:"textarea",modelValue:r.json.marketingDigital.codigoTagHead,"onUpdate:modelValue":o[6]||(o[6]=e=>r.json.marketingDigital.codigoTagHead=e)},null,8,["modelValue"]),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"bg-light q-px-md",label:"Código após a tag de abertura body",rows:"10",type:"textarea",modelValue:r.json.marketingDigital.codigoTagBody,"onUpdate:modelValue":o[7]||(o[7]=e=>r.json.marketingDigital.codigoTagBody=e)},null,8,["modelValue"])])),_:1})])])),_:1})])])),_:1}),(0,a.createVNode)(w,{name:"produtos"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"col-12 bg-white q-pa-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{before:[{icon:"search"}],modelValue:r.tickFilter,"onUpdate:modelValue":o[8]||(o[8]=e=>r.tickFilter=e),label:"Buscar",clearable:"",class:"q-mb-sm"},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(_,{class:"col-12 bg-white q-pa-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,{nodes:r.tickable,"node-key":"key",color:"primary","default-expand-all":"",ticked:r.ticked,"onUpdate:ticked":o[9]||(o[9]=e=>r.ticked=e),filter:r.tickFilter,"onUpdate:filter":o[10]||(o[10]=e=>r.tickFilter=e),"tick-strategy":"leaf"},{header:(0,a.withCtx)((e=>[(0,a.createElementVNode)("div",sA,["generic"===e.node.header?((0,a.openBlock)(),(0,a.createBlock)(y,{key:0,imagem:e.node.image,tamanho:"35",rotulo:e.node.label},null,8,["imagem","rotulo"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",nA,(0,a.toDisplayString)(e.node.label),1)])])),body:(0,a.withCtx)((o=>["generic"===o.node.header?((0,a.openBlock)(),(0,a.createElementBlock)("div",cA,[(0,a.createVNode)(x,{class:"col-12 no-border q-ml-sm","no-border":""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{class:"q-pl-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{caption:""},{default:(0,a.withCtx)((()=>[dA])),_:1}),(0,a.createVNode)(I,{class:"q-my-xs"}),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(V,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",mA,[(0,a.createElementVNode)("div",uA," R$ "+(0,a.toDisplayString)(e.$filters.numero(o.node.valorVenda,2))+" - "+(0,a.toDisplayString)(o.node.unidade),1),(0,a.createElementVNode)("div",pA,(0,a.toDisplayString)(o.node.marca),1),(0,a.createElementVNode)("div",hA,(0,a.toDisplayString)(o.node.codigoBarras),1),(0,a.createElementVNode)("div",CA,[(0,a.createVNode)(E,{cor:"warning",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)((o.node.codigoItem||0).toString().padStart(6,"0")),1)])),_:2},1024)])])])),_:2},1024)])])),_:2},1024)])),_:2},1024)])),_:2},1024)])):(0,a.createCommentVNode)("",!0)])),_:1},8,["nodes","ticked","filter"])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,a.createVNode)(k,{class:"bg-light no-shadow q-pa-sm text-right u-bordaCima",reveal:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",vA,[(0,a.createVNode)(T,{color:"tertiary",flat:"",label:"Cancelar"}),(0,a.createVNode)(T,{class:"q-ml-sm no-shadow",color:"primary",label:"Salvar",onClick:l.salvar},null,8,["onClick"])])])),_:1})])),_:1})}]]);Z()(NA,"components",{QPage:se.Z,QToolbar:O.Z,QIcon:L.Z,QToolbarTitle:G.Z,QTabs:ko.Z,QTab:Do.Z,QTabPanels:lr.Z,QTabPanel:sr.Z,QCard:D.Z,QInput:re.Z,QToggle:il.Z,QExpansionItem:P.Z,QRadio:ys.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z,QField:Sp.Z,QTree:z_.Z,QSeparator:$.Z,QFooter:Te.Z,QBtn:H.Z});var gA=t(40392),xA=t.n(gA),bA=t(94344),wA=t.n(bA),_A=t(24209),yA=t.n(_A),IA=t(65111),EA=t.n(IA),SA=t(85105),MA=t.n(SA);const TA={class:"u-container q-px-none"},kA={key:0,src:VC(),alt:"",height:"28"},DA=(0,a.createTextVNode)("Extrato"),qA=(0,a.createElementVNode)("div",{class:"BarraTopo-separador hideonmobile"},null,-1),FA=(0,a.createTextVNode)("Tarefas"),PA=(0,a.createElementVNode)("div",{class:"BarraTopo-separador hideonmobile"},null,-1),AA=(0,a.createTextVNode)("Últimas compras"),BA=(0,a.createElementVNode)("div",{class:"BarraTopo-separador hideonmobile"},null,-1),LA=(0,a.createTextVNode)("Lugares Favoritos"),OA=(0,a.createElementVNode)("div",{class:"BarraTopo-separador hideonmobile"},null,-1),zA=(0,a.createTextVNode)("Indique um Amigo"),jA=(0,a.createElementVNode)("img",{src:xA(),alt:"",height:"36",class:"q-mx-sm q-mt-xs imgavatar"},null,-1),$A={class:"row"},UA={href:"",class:"botaoTopo q-btn q-btn-flat text-tertiary q-ma-xs text-caption"},ZA=(0,a.createElementVNode)("div",{class:"q-mt-sm"},"Restaurantes",-1),QA={href:"",class:"botaoTopo q-btn q-btn-flat text-tertiary q-ma-xs text-caption"},RA=(0,a.createElementVNode)("div",{class:"q-mt-sm"},"Bares e Boates",-1),GA={href:"",class:"botaoTopo q-btn q-btn-flat text-tertiary q-ma-xs text-caption"},HA=(0,a.createElementVNode)("div",{class:"q-mt-sm"},"Eventos",-1),JA={class:"filters row q-pa-xs q-ma-xs q-ml-none q-col-gutter-x-sm arredondado",style:{"min-height":"50px"}},YA={class:"col"},XA={class:"col"},WA={class:"col"},KA={class:"filters q-px-xs q-ma-xs q-ml-none q-col-gutter-x-sm arredondado",style:{"min-height":"50px"}},eB={class:"row"},oB={class:"col"},tB={class:"col-auto"},aB={class:"row q-q-col-gutter-x-md"},iB={class:"col-12 col-lg-6 q-mb-xs"},rB=(0,a.createTextVNode)(" Carteira "),lB={class:"text-white"},sB=(0,a.createTextVNode)("Última compra "),nB=(0,a.createElementVNode)("br",null,null,-1),cB={class:"col-12 col-lg-6 q-mb-xs"},dB=(0,a.createTextVNode)(" Tarefas "),mB=(0,a.createTextVNode)(" 5/18 "),uB={class:"q-display-1 text-primary q-mt-xl q-mb-xs q-mx-md"},pB=(0,a.createTextVNode)(" Últimas compras "),hB={class:"row q-col-gutter-x-sm"},CB={class:"col-12 col-md-6 col-lg-3 q-my-sm"},vB=(0,a.createElementVNode)("img",{src:wA()},null,-1),fB=(0,a.createTextVNode)(" Cafe Basilico "),NB=(0,a.createElementVNode)("p",{class:"text-h5 q-mb-none text-dark"},[(0,a.createElementVNode)("strong",null,"R$50,00")],-1),VB=(0,a.createTextVNode)("Quantidade"),gB={class:"col-12 col-md-6 col-lg-3 q-my-sm"},xB=(0,a.createElementVNode)("img",{src:yA()},null,-1),bB=(0,a.createTextVNode)(" Cafe Basilico "),wB=(0,a.createElementVNode)("p",{class:"text-h5 q-mb-none text-dark"},[(0,a.createElementVNode)("strong",null,"R$50,00")],-1),_B={class:"col-12 col-md-6 col-lg-3 q-my-sm"},yB=(0,a.createElementVNode)("img",{src:EA()},null,-1),IB=(0,a.createTextVNode)(" Cafe Basilico "),EB=(0,a.createElementVNode)("p",{class:"text-h5 q-mb-none text-dark"},[(0,a.createElementVNode)("strong",null,"R$50,00")],-1),SB={class:"col-12 col-md-6 col-lg-3 q-my-sm"},MB=(0,a.createElementVNode)("img",{src:MA()},null,-1),TB=(0,a.createTextVNode)(" Cafe Basilico "),kB=(0,a.createElementVNode)("p",{class:"text-h5 q-mb-none text-dark"},[(0,a.createElementVNode)("strong",null,"R$50,00")],-1),DB={class:"row q-col-gutter-x-sm"},qB=(0,a.createElementVNode)("img",{src:wA()},null,-1),FB=(0,a.createElementVNode)("p",{class:"text-h5 q-mb-none text-dark"},[(0,a.createElementVNode)("strong",null,"R$50,00")],-1),PB=(0,a.createTextVNode)("Quantidade"),AB={class:"q-pa-sm hideondesktop"},BB={class:"row"},LB={class:"col-5"},OB=(0,a.createElementVNode)("img",{src:MA(),class:"arredondadoLT",style:{"margin-top":"0"}},null,-1),zB={class:"col"},jB=(0,a.createElementVNode)("div",{class:"text-subtitle1 text-dark"},[(0,a.createElementVNode)("strong",null,"Cafe Basilico")],-1),$B=(0,a.createElementVNode)("p",{class:"text-h5 q-mb-none text-dark"},[(0,a.createElementVNode)("strong",null,"R$50,00")],-1),UB={class:"q-display-1 text-dark q-mt-lg q-mb-xs q-mx-md"},ZB=(0,a.createTextVNode)(" Locais favoritos "),QB={class:"row q-col-gutter-x-sm q-pb-lg"},RB=(0,a.createElementVNode)("img",{src:MA()},null,-1),GB={class:"text-h5 text-white"},HB=(0,a.createElementVNode)("p",{class:"text-white q-mb-none"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce efficitur arcu vitae ex rutrum varius. ",-1),JB={class:"row q-col-gutter-x-sm q-pb-lg"},YB=(0,a.createElementVNode)("img",{src:MA()},null,-1),XB={class:"text-h5 text-white"},WB=(0,a.createElementVNode)("p",{class:"text-white q-mb-none"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce efficitur arcu vitae ex rutrum varius. ",-1),KB={class:"q-pt-md q-pb-lg q-px-sm hideondesktop"},eL={class:"row"},oL={class:"col-5"},tL=(0,a.createElementVNode)("img",{src:MA(),class:"arredondadoL",style:{"margin-top":"0"}},null,-1),aL={class:"col"},iL={class:"text-subtitle1 text-white"},rL=(0,a.createElementVNode)("p",{class:"text-white q-mb-none text-caption q-mb-none"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. ",-1),lL={class:"text-white q-py-md hideonmobile"},sL={class:"u-container"},nL={class:"row"},cL=(0,a.createElementVNode)("div",{class:"col-4"},[(0,a.createElementVNode)("div",{class:"text-h5 q-mx-md"}," Explore por segmentos")],-1),dL=(0,a.createElementVNode)("div",{class:"col-8"},[(0,a.createElementVNode)("div",{class:"text-h5 q-mx-md"}," Explore por cidades")],-1),mL={class:"col-12 col-md-4"},uL={class:"col-12 col-md-4"},pL={class:"col-12 col-md-4"},hL={class:"copy text-white text-caption q-py-sm"},CL={class:"u-container"},vL={class:"row q-py-md"},fL=(0,a.createElementVNode)("div",{class:"col-12 col-lg-8"},[(0,a.createElementVNode)("p",{class:"q-mb-none q-mx-md q-pt-sm"},"CNPJ 07.660.198/0001-89 / Av. Presidente Vargas, 2001, CJ 45, Jardim América, Ribeirão Preto / SP - CEP 14020-525")],-1),NL={class:"col-12 col-lg-4 q-pr-sm",style:{"text-align":"right"}},VL={class:"q-py-none"},gL=(0,a.createTextVNode)("Ecosistema "),xL={key:0,class:"q-ml-xs",style:{"margin-bottom":"-7px"},src:VC(),alt:"",height:"25"},bL={components:{Campo:L_.Z},computed:{},data:()=>({opened:!1,openedM:!1,openedC:!1,qtd:0,grupos:[],mostrarLogo:!1,select:"",selectOptions:[{label:"Cidade",value:"goog"},{label:"Produto",value:"goog"},{label:"Empresa",value:"fb"}]}),methods:{abrirClub(){this.opened=!0},userHasScrolled(e){this.mostrarLogo=e.position>=102},goTo(e){this.$router.push(e)}}};var wL=t(24714),_L=t(88536),yL=t(14333);const IL=(0,T.Z)(bL,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-tooltip"),c=(0,a.resolveComponent)("q-btn"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-header"),u=(0,a.resolveComponent)("q-scroll-observer"),p=(0,a.resolveComponent)("q-icon"),h=(0,a.resolveComponent)("q-input"),C=(0,a.resolveComponent)("q-card-section"),v=(0,a.resolveComponent)("q-card"),f=(0,a.resolveComponent)("q-separator"),N=(0,a.resolveComponent)("campo"),V=(0,a.resolveComponent)("q-field"),g=(0,a.resolveComponent)("q-card-actions"),x=(0,a.resolveComponent)("q-carousel-slide"),b=(0,a.resolveComponent)("q-carousel"),w=(0,a.resolveComponent)("q-page"),_=(0,a.resolveComponent)("q-page-container"),y=(0,a.resolveComponent)("q-layout");return(0,a.openBlock)(),(0,a.createBlock)(y,{class:"Club",id:"ClubApp"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{reveal:"",class:"topbar"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",TA,[(0,a.createVNode)(d,{color:"transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[r.mostrarLogo?((0,a.openBlock)(),(0,a.createElementBlock)("img",kA)):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(c,{dense:"",flat:"",icon:"mdi-chart-timeline",color:"white",cround:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[DA])),_:1})])),_:1}),qA,(0,a.createVNode)(c,{dense:"",flat:"",icon:"mdi-check-all",color:"white",cround:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[FA])),_:1})])),_:1}),PA,(0,a.createVNode)(c,{color:"white",dense:"",flat:"",icon:"mdi-shopping",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[AA])),_:1})])),_:1}),BA,(0,a.createVNode)(c,{color:"white",dense:"",flat:"",icon:"mdi-map-marker-circle",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[LA])),_:1})])),_:1}),OA,(0,a.createVNode)(c,{color:"white",dense:"",flat:"",icon:"person_add",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[zA])),_:1})])),_:1})])),_:1})])])),_:1}),(0,a.createVNode)(_,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{class:"u-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{onScroll:l.userHasScrolled},null,8,["onScroll"]),(0,a.createVNode)(d,{color:"transparent",class:"q-px-none q-my-md cliente"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[jA])),_:1}),(0,a.createElementVNode)("div",$A,[(0,a.createElementVNode)("a",UA,[(0,a.createVNode)(p,{name:"mdi-food",size:"28px"}),ZA]),(0,a.createElementVNode)("a",QA,[(0,a.createVNode)(p,{name:"mdi-beer",size:"28px"}),RA]),(0,a.createElementVNode)("a",GA,[(0,a.createVNode)(p,{name:"mdi-microphone-variant",size:"28px"}),HA])])])),_:1}),(0,a.createVNode)(s,{class:"q-pa-none bg-white arredondado hideonmobile bordered",style:{"margin-top":"-4px"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",JA,[(0,a.createVNode)(c,{color:"white","text-color":"tertiary",icon:"search",class:"q-ml-sm arredondadobt no-shadow q-title",style:{"pointer-events":"none"}}),(0,a.createElementVNode)("div",YA,[(0,a.createVNode)(h,{color:"dark",label:"Produto ou Serviço"})]),(0,a.createElementVNode)("div",XA,[(0,a.createVNode)(h,{color:"dark",label:"Lugar"})]),(0,a.createElementVNode)("div",WA,[(0,a.createVNode)(h,{color:"dark",label:"Cidade"})]),(0,a.createVNode)(c,{color:"primary",label:"BUSCAR",class:"q-ml-sm q-px-xl arredondadobt"})])])),_:1}),(0,a.createVNode)(s,{class:"q-pa-none bg-white arredondado hideondesktop bordered",style:{"margin-top":"-4px"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",KA,[(0,a.createElementVNode)("div",eB,[(0,a.createElementVNode)("div",oB,[(0,a.createVNode)(h,{color:"dark",label:"Produto / Serviço / Lugar / Cidade"})]),(0,a.createElementVNode)("div",tB,[(0,a.createVNode)(c,{color:"primary",icon:"search",round:"",style:{"margin-top":"6px"}})])])])])),_:1}),(0,a.createElementVNode)("div",aB,[(0,a.createElementVNode)("div",iB,[(0,a.createVNode)(v,{inline:"",color:"primary",class:"fit no-shadow bordered q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"d-flex full-height column"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"q-pa-none text-white text-left"},{default:(0,a.withCtx)((()=>[rB])),_:1}),(0,a.createVNode)(s,{class:"q-display-1 text-weight-bold text-left text-lime-12 q-px-none",style:{"line-height":"33px"}},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(684,2))+" ",1),(0,a.createVNode)(c,{dense:"",round:"",icon:"mdi-barcode-scan",color:"white","text-color":"primary",class:"no-shadow q-ml-sm",style:{float:"right"}}),(0,a.createVNode)(c,{dense:"",round:"",icon:"mdi-bank-transfer",color:"negative",class:"no-shadow q-ml-sm",style:{float:"right"}}),(0,a.createVNode)(c,{dense:"",round:"",icon:"mdi-chart-timeline",color:"amber-7",class:"no-shadow q-ml-sm",style:{float:"right"}})])),_:1}),(0,a.createElementVNode)("small",lB,[sB,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.$filters.numero(1e4,2)),1),nB])])),_:1})])),_:1})]),(0,a.createElementVNode)("div",cB,[(0,a.createVNode)(v,{inline:"",color:"white",class:"fit no-shadow bordered q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"d-flex full-height column"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"q-pa-none text-tertiary text-left"},{default:(0,a.withCtx)((()=>[dB])),_:1}),(0,a.createVNode)(s,{class:"q-display-1 text-weight-bold text-left text-primary q-px-none",style:{"line-height":"33px"}},{default:(0,a.withCtx)((()=>[mB,(0,a.createVNode)(c,{dense:"",round:"",icon:"mdi-alarm-plus",color:"primary",class:"no-shadow q-ml-sm",style:{float:"right"}}),(0,a.createVNode)(c,{dense:"",round:"",icon:"mdi-check-all",color:"negative",class:"no-shadow q-ml-sm",style:{float:"right"}})])),_:1})])),_:1})])),_:1})])]),(0,a.createElementVNode)("div",uB,[(0,a.createVNode)(c,{color:"primary",dense:"",flat:"",icon:"mdi-shopping",round:"",size:"xl",disabled:""}),pB]),(0,a.createVNode)(b,{class:"hideonmobile",color:"white",arrows:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{class:"q-py-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",hB,[(0,a.createElementVNode)("div",CB,[(0,a.createVNode)(v,{class:"bg-white shadow-10 full-height row"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"full-width self-start"},{default:(0,a.withCtx)((()=>[vB])),_:1}),(0,a.createVNode)(C,{class:"q-mb-none full-width self-start q-pb-none text-dark"},{default:(0,a.withCtx)((()=>[fB])),_:1}),(0,a.createVNode)(C,{class:"full-width self-start text-right"},{default:(0,a.withCtx)((()=>[NB])),_:1}),(0,a.createVNode)(g,{class:"self-end full-width q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"full-width"}),(0,a.createVNode)(d,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-px-none text-left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"col-3 q-px-sm q-pt-xs",style:{"margin-top":"-18px","max-width":"60%"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{min:"0",tipo:"quantidade",borderless:"",modelValue:r.qtd,"onUpdate:modelValue":o[0]||(o[0]=e=>r.qtd=e)},null,8,["modelValue"]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[VB])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(c,{flat:"",color:"primary",label:"Saiba mais",style:{float:"right"},onClick:o[1]||(o[1]=e=>l.goTo("/clubprodutosingle"))})])),_:1})])),_:1})])),_:1})]),(0,a.createElementVNode)("div",gB,[(0,a.createVNode)(v,{class:"bg-white shadow-10 full-height row"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"full-width self-start"},{default:(0,a.withCtx)((()=>[xB])),_:1}),(0,a.createVNode)(C,{class:"q-mb-none full-width self-start q-pb-none text-dark"},{default:(0,a.withCtx)((()=>[bB])),_:1}),(0,a.createVNode)(C,{class:"full-width self-start text-right"},{default:(0,a.withCtx)((()=>[wB])),_:1}),(0,a.createVNode)(g,{class:"self-end full-width q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"full-width"}),(0,a.createVNode)(d,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-px-none text-left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{flat:"",color:"negative",label:"Adicionar"})])),_:1}),(0,a.createVNode)(c,{flat:"",color:"primary",label:"Saiba mais",style:{float:"right"},onClick:o[2]||(o[2]=e=>l.goTo("/clubprodutosingle"))})])),_:1})])),_:1})])),_:1})]),(0,a.createElementVNode)("div",_B,[(0,a.createVNode)(v,{class:"bg-white shadow-10 full-height row"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"full-width self-start"},{default:(0,a.withCtx)((()=>[yB])),_:1}),(0,a.createVNode)(C,{class:"q-mb-none full-width self-start q-pb-none text-dark"},{default:(0,a.withCtx)((()=>[IB])),_:1}),(0,a.createVNode)(C,{class:"full-width self-start text-right"},{default:(0,a.withCtx)((()=>[EB])),_:1}),(0,a.createVNode)(g,{class:"self-end full-width q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"full-width"}),(0,a.createVNode)(d,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-px-none text-left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{flat:"",color:"negative",label:"Adicionar"})])),_:1}),(0,a.createVNode)(c,{flat:"",color:"primary",label:"Saiba mais",style:{float:"right"},onClick:o[3]||(o[3]=e=>l.goTo("/clubprodutosingle"))})])),_:1})])),_:1})])),_:1})]),(0,a.createElementVNode)("div",SB,[(0,a.createVNode)(v,{class:"bg-white shadow-10 full-height row"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"full-width self-start"},{default:(0,a.withCtx)((()=>[MB])),_:1}),(0,a.createVNode)(C,{class:"q-mb-none full-width self-start q-pb-none text-dark"},{default:(0,a.withCtx)((()=>[TB])),_:1}),(0,a.createVNode)(C,{class:"full-width self-start text-right"},{default:(0,a.withCtx)((()=>[kB])),_:1}),(0,a.createVNode)(g,{class:"self-end full-width q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"full-width"}),(0,a.createVNode)(d,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-px-none text-left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{flat:"",color:"negative",label:"Adicionar"})])),_:1}),(0,a.createVNode)(c,{flat:"",color:"primary",label:"Saiba mais",style:{float:"right"},onClick:o[4]||(o[4]=e=>l.goTo("/clubprodutosingle"))})])),_:1})])),_:1})])),_:1})])])])),_:1}),(0,a.createVNode)(x,{class:"q-py-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",DB,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(4,(e=>(0,a.createElementVNode)("div",{class:"col-12 col-md-6 col-lg-3 q-my-sm",key:e},[(0,a.createVNode)(v,{class:"bg-white shadow-10 full-height row"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"full-width self-start"},{default:(0,a.withCtx)((()=>[qB])),_:1}),(0,a.createVNode)(C,{class:"q-mb-none full-width self-start q-pb-none text-dark"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Cafe Basilico "+(0,a.toDisplayString)(e),1)])),_:2},1024),(0,a.createVNode)(C,{class:"full-width self-start text-right"},{default:(0,a.withCtx)((()=>[FB])),_:1}),(0,a.createVNode)(g,{class:"self-end full-width q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"full-width"}),(0,a.createVNode)(d,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-px-none text-left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"col-3 q-px-sm q-pt-xs",style:{"margin-top":"-18px","max-width":"60%"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{min:"0",tipo:"quantidade",borderless:"",modelValue:r.qtd,"onUpdate:modelValue":o[5]||(o[5]=e=>r.qtd=e)},null,8,["modelValue"]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[PB])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(c,{flat:"",color:"primary",label:"Saiba mais",style:{float:"right"},onClick:o[6]||(o[6]=e=>l.goTo("/clubprodutosingle"))})])),_:1})])),_:1})])),_:2},1024)]))),64))])])),_:1})])),_:1}),(0,a.createElementVNode)("div",AB,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(4,(e=>(0,a.createVNode)(v,{class:"q-my-sm shadow-5 bg-white",inline:"",onClick:o[8]||(o[8]=e=>l.goTo("/clubsingle")),key:e},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",BB,[(0,a.createElementVNode)("div",LB,[(0,a.createVNode)(C,{style:{height:"100% !important"}},{default:(0,a.withCtx)((()=>[OB])),_:1})]),(0,a.createElementVNode)("div",zB,[(0,a.createVNode)(C,{class:"q-mb-none q-py-sm"},{default:(0,a.withCtx)((()=>[jB])),_:1}),(0,a.createVNode)(C,{class:"full-width self-end text-right"},{default:(0,a.withCtx)((()=>[$B])),_:1})])]),(0,a.createVNode)(g,{class:"self-end full-width q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"full-width"}),(0,a.createVNode)(d,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-px-none text-left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{flat:"",color:"negative",label:"Adicionar"})])),_:1}),(0,a.createVNode)(c,{flat:"",color:"primary",label:"Saiba mais",style:{float:"right"},onClick:o[7]||(o[7]=e=>l.goTo("/clubprodutosingle"))})])),_:1})])),_:1})])),_:2},1024))),64)),(0,a.createVNode)(c,{color:"primary",size:"md",label:"Ver mais",class:"q-my-md q-mx-sm full-width arredondadoMinibt"})]),(0,a.createElementVNode)("div",UB,[(0,a.createVNode)(c,{color:"dark",dense:"",flat:"",icon:"mdi-map-marker-circle",round:"",size:"xl",disabled:""}),ZB]),(0,a.createVNode)(b,{color:"white",arrows:"",class:"q-mb-xl hideonmobile",style:{"margin-top":"-6px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",QB,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(4,(e=>(0,a.createElementVNode)("div",{class:"col-12 col-md-3 q-py-sm",key:e},[(0,a.createVNode)(v,{class:"q-ma-sm shadow-10 bg-dark",inline:"",onClick:o[9]||(o[9]=e=>l.goTo("/clubsingle"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[RB])),_:1}),(0,a.createVNode)(C,{class:"q-mb-none q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",GB,[(0,a.createElementVNode)("strong",null,"Cafe Basilico "+(0,a.toDisplayString)(e),1)])])),_:2},1024),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[HB])),_:1})])),_:2},1024)]))),64))])])),_:1}),(0,a.createVNode)(x,{class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",JB,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(4,(e=>(0,a.createElementVNode)("div",{class:"col-12 col-md-3 q-py-sm",key:e},[(0,a.createVNode)(v,{class:"q-ma-sm shadow-10 bg-dark",inline:"",onClick:o[10]||(o[10]=e=>l.goTo("/clubsingle"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[YB])),_:1}),(0,a.createVNode)(C,{class:"q-mb-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",XB,[(0,a.createElementVNode)("strong",null,"Cafe Basilico "+(0,a.toDisplayString)(e),1)])])),_:2},1024),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[WB])),_:1})])),_:2},1024)]))),64))])])),_:1})])),_:1}),(0,a.createElementVNode)("div",KB,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(4,(e=>(0,a.createVNode)(v,{class:"q-my-sm shadow-5 bg-dark",inline:"",onClick:o[11]||(o[11]=e=>l.goTo("/clubsingle")),key:e},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",eL,[(0,a.createElementVNode)("div",oL,[(0,a.createVNode)(C,{style:{height:"100% !important"}},{default:(0,a.withCtx)((()=>[tL])),_:1})]),(0,a.createElementVNode)("div",aL,[(0,a.createVNode)(C,{class:"q-mb-none q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",iL,[(0,a.createElementVNode)("strong",null,"Cafe Basilico "+(0,a.toDisplayString)(e),1)])])),_:2},1024),(0,a.createVNode)(C,{class:"q-pb-none"},{default:(0,a.withCtx)((()=>[rL])),_:1})])])])),_:2},1024))),64)),(0,a.createVNode)(c,{color:"primary",size:"md",label:"Ver mais",class:"q-my-md q-mx-sm full-width arredondadoMinibt"})])])),_:1})])),_:1}),(0,a.createElementVNode)("footer",lL,[(0,a.createElementVNode)("div",sL,[(0,a.createElementVNode)("div",nL,[cL,dL,(0,a.createElementVNode)("div",mL,[(0,a.createElementVNode)("ul",null,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(4,(e=>(0,a.createElementVNode)("li",{class:"text-body1 q-mb-sm",key:e},"Segmento "+(0,a.toDisplayString)(e),1))),64))])]),(0,a.createElementVNode)("div",uL,[(0,a.createElementVNode)("ul",null,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(4,(e=>(0,a.createElementVNode)("li",{class:"text-body1 q-mb-sm",key:e},"Cidade "+(0,a.toDisplayString)(e),1))),64))])]),(0,a.createElementVNode)("div",pL,[(0,a.createElementVNode)("ul",null,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(4,(e=>(0,a.createElementVNode)("li",{class:"text-body1 q-mb-sm",key:e},"Cidade "+(0,a.toDisplayString)(e+4),1))),64))])])])])]),(0,a.createElementVNode)("div",hL,[(0,a.createElementVNode)("div",CL,[(0,a.createElementVNode)("div",vL,[fL,(0,a.createElementVNode)("div",NL,[(0,a.createElementVNode)("p",VL,[gL,r.mostrarLogo?((0,a.openBlock)(),(0,a.createElementBlock)("img",xL)):(0,a.createCommentVNode)("",!0)])])])])])])),_:1})}]]);Z()(bL,"components",{QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QTooltip:Ao.Z,QPageContainer:le.Z,QPage:se.Z,QScrollObserver:wL.Z,QIcon:L.Z,QInput:re.Z,QCard:D.Z,QCardSection:q.Z,QCarousel:_L.Z,QCarouselSlide:yL.Z,QCardActions:ag.Z,QSeparator:$.Z,QField:Sp.Z});const EL={class:"u-container"},SL=(0,a.createTextVNode)(" Nome "),ML=(0,a.createTextVNode)("Buscar"),TL=(0,a.createTextVNode)("Buscar excluídos"),kL=(0,a.createTextVNode)("Importar contatos"),DL={class:"row q-col-gutter-sm q-mb-sm"},qL={class:"col-12 col-lg-6"},FL=(0,a.createTextVNode)(" Carteira "),PL=(0,a.createElementVNode)("div",{class:"progress"},[(0,a.createElementVNode)("div",{class:"progress-bar bg-primary",style:{width:"49%"}}),(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-success",style:{width:"51%"}})],-1),AL={class:"row justify-between"},BL={class:"text-h5 text-weight-bold text-left text-primary q-mt-sm q-pb-none",style:{"line-height":"22px"}},LL=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}},"Hoje",-1),OL={class:"text-h5 text-weight-bold text-right text-positive q-mt-sm q-pb-none",style:{"line-height":"22px"}},zL=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}},"Projeção Final",-1),jL=(0,a.createElementVNode)("div",{class:"row q-col-gutter-x-xs q-mt-sm"},[(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("button",{"data-v-cd753374":"",tabindex:"0",type:"button",class:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-grey-7"},[(0,a.createElementVNode)("div",{class:"q-btn-inner row col items-center q-popup--skip justify-center"},[(0,a.createElementVNode)("i",{"aria-hidden":"true",class:"q-icon mdi mdi-bank-transfer",style:{"font-size":"2em","margin-bottom":"0 !important"}}),(0,a.createElementVNode)("div",null,"Transferir")])])]),(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("button",{"data-v-cd753374":"",tabindex:"0",type:"button",class:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-grey-7"},[(0,a.createElementVNode)("div",{class:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[(0,a.createElementVNode)("i",{"aria-hidden":"true",class:"q-icon mdi mdi-barcode-scan"}),(0,a.createElementVNode)("div",null,"Pagar")])])]),(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("button",{"data-v-cd753374":"",tabindex:"0",type:"button",class:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-grey-7"},[(0,a.createElementVNode)("div",{class:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[(0,a.createElementVNode)("i",{"aria-hidden":"true",class:"q-icon mdi mdi-chart-timeline"}),(0,a.createElementVNode)("div",null,"Extrato")])])])],-1),$L={class:"col-12 col-md-6 col-lg-3"},UL={class:"futuremoney"},ZL=(0,a.createTextVNode)(" À receber "),QL=(0,a.createTextVNode)(" 116,32 do ano anterior "),RL=(0,a.createTextVNode)(" 500,50 "),GL=(0,a.createElementVNode)("small",{class:"text-tertiary"},[(0,a.createElementVNode)("span",{class:"text-positive"}," 500,00 "),(0,a.createTextVNode)(" Hoje "),(0,a.createElementVNode)("br")],-1),HL={class:"futuremoney"},JL=(0,a.createTextVNode)(" À pagar "),YL=(0,a.createTextVNode)(" 500,00 do ano anterior "),XL=(0,a.createTextVNode)(" 500,00 "),WL=(0,a.createElementVNode)("small",{class:"text-tertiary"},[(0,a.createElementVNode)("span",{class:"text-negative"}," 500,00 "),(0,a.createTextVNode)(" Hoje "),(0,a.createElementVNode)("br")],-1),KL={class:"col-12 col-md-6 col-lg-3"},eO=(0,a.createTextVNode)(" Tarefas "),oO=(0,a.createElementVNode)("div",{class:"row justify-between"},[(0,a.createElementVNode)("div",{class:"col q-pb-none"},[(0,a.createElementVNode)("div",{class:"q-display-1 text-weight-bold text-left text-primary"},"3"),(0,a.createTextVNode)(),(0,a.createElementVNode)("small",{class:"row text-caption text-tertiary",style:{"line-height":"1"}},"Hoje")]),(0,a.createElementVNode)("div",{class:"col q-pb-none"},[(0,a.createElementVNode)("div",{class:"q-display-1 text-weight-bold text-left text-negative"},"2"),(0,a.createTextVNode)(),(0,a.createElementVNode)("small",{class:"text-caption row text-tertiary",style:{"line-height":"1"}},"Atrasadas")]),(0,a.createElementVNode)("div",{class:"col q-pb-none"},[(0,a.createElementVNode)("div",{class:"q-display-1 text-weight-bold text-left text-positive"},"15"),(0,a.createTextVNode)(),(0,a.createElementVNode)("small",{class:"text-caption row text-tertiary",style:{"line-height":"1"}},"Futuras")])],-1),tO=(0,a.createElementVNode)("div",{class:"row q-col-gutter-x-xs q-mt-sm"},[(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("button",{"data-v-cd753374":"",tabindex:"0",type:"button",class:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-primary"},[(0,a.createElementVNode)("div",{class:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[(0,a.createElementVNode)("i",{"aria-hidden":"true",class:"q-icon mdi mdi-check-all",style:{"font-size":"1.8em"}}),(0,a.createElementVNode)("div",null,"Ver tarefas")])])]),(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("button",{"data-v-cd753374":"",tabindex:"0",type:"button",class:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-primary"},[(0,a.createElementVNode)("div",{class:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[(0,a.createElementVNode)("i",{"aria-hidden":"true",class:"q-icon mdi mdi-alarm-plus",style:{"font-size":"1.8em"}}),(0,a.createElementVNode)("div",null,"Adicionar Tarefa")])])])],-1),aO=(0,a.createTextVNode)("Tab Two"),iO={class:"row q-col-gutter-x-sm"},rO={class:"row"},lO={class:"col-5"},sO=(0,a.createElementVNode)("img",{src:MA(),class:"arredondadoL",style:{"margin-top":"0"}},null,-1),nO={class:"col"},cO={class:"text-subtitle1 text-white"},dO=(0,a.createElementVNode)("p",{class:"text-white q-mb-none text-caption q-mb-none"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. ",-1),mO={class:"row q-col-gutter-x-sm"},uO={class:"row"},pO={class:"col-12"},hO=(0,a.createElementVNode)("img",{src:MA(),class:"arredondadoT",style:{"margin-top":"0"}},null,-1),CO={class:"col-12"},vO={class:"q-title text-dark"},fO=(0,a.createElementVNode)("p",{class:"text-tertiary q-mb-none q-body",style:{"text-decoration":"line-through"}},"De R$55,00",-1),NO=(0,a.createElementVNode)("p",{class:"q-display-1 q-mb-none text-dark"},[(0,a.createElementVNode)("strong",null,"R$50,00")],-1),VO=(0,a.createElementVNode)("p",{class:"text-tertiary q-mb-none q-body"},"+ 10% de cashback",-1),gO={class:"row"},xO={class:"col-12 col-lg-5"},bO=(0,a.createElementVNode)("img",{src:MA(),class:"arredondadoLT",style:{"margin-top":"0"}},null,-1),wO={class:"col-12 col-lg"},_O={class:"q-title text-dark"},yO=(0,a.createElementVNode)("p",{class:"text-tertiary q-mb-none q-body",style:{"text-decoration":"line-through"}},"De R$55,00",-1),IO=(0,a.createElementVNode)("p",{class:"text-h5 q-mb-none text-dark"},[(0,a.createElementVNode)("strong",null,"R$50,00")],-1),EO={class:"row"},SO={class:"col-5"},MO=(0,a.createElementVNode)("img",{src:MA(),class:"arredondadoLT",style:{"margin-top":"0"}},null,-1),TO={class:"col"},kO={class:"text-subtitle1 text-dark"},DO=(0,a.createElementVNode)("p",{class:"text-tertiary q-mb-none q-body",style:{"text-decoration":"line-through"}},"De R$55,00",-1),qO=(0,a.createElementVNode)("p",{class:"text-h5 q-mb-none text-dark"},[(0,a.createElementVNode)("strong",null,"R$50,00")],-1),FO=(0,a.createTextVNode)("Quantidade"),PO=(0,a.createElementVNode)("div",{class:"copy text-white text-caption q-py-sm"},[(0,a.createElementVNode)("div",{class:"u-container"},[(0,a.createElementVNode)("div",{class:"row q-py-md"},[(0,a.createElementVNode)("div",{class:"col-12 col-lg-8"},[(0,a.createElementVNode)("p",{class:"q-mb-none q-mx-md q-pt-sm"},"CNPJ 07.660.198/0001-89 / Av. Presidente Vargas, 2001, CJ 45, Jardim América, Ribeirão Preto / SP - CEP 14020-525")]),(0,a.createElementVNode)("div",{class:"col-12 col-lg-4 q-pr-sm",style:{"text-align":"right"}},[(0,a.createElementVNode)("p",{class:"q-py-none"},[(0,a.createTextVNode)("Ecosistema "),(0,a.createElementVNode)("img",{class:"q-ml-xs",style:{"margin-bottom":"-7px"},src:VC(),alt:"",height:"25"})])])])])],-1),AO={components:{Campo:L_.Z,Avatar:uo.Z,ConfiguracoesEmpresas:l_},computed:{},data:()=>({opened:!1,openedM:!1,openedC:!1,qtd:0,grupos:[],mostrarLogo:!1,select:"",selectOptions:[{label:"Cidade",value:"goog"},{label:"Produto",value:"goog"},{label:"Empresa",value:"fb"}]}),methods:{abrirClub(){this.opened=!0},userHasScrolled(e){this.mostrarLogo=e.position>=102},goTo(e){this.$router.push(e)}}},BO=(0,T.Z)(AO,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("avatar"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-tooltip"),d=(0,a.resolveComponent)("q-btn"),m=(0,a.resolveComponent)("q-icon"),u=(0,a.resolveComponent)("q-item-section"),p=(0,a.resolveComponent)("q-item-label"),h=(0,a.resolveComponent)("q-item"),C=(0,a.resolveComponent)("q-list"),v=(0,a.resolveComponent)("q-menu"),f=(0,a.resolveComponent)("q-toolbar"),N=(0,a.resolveComponent)("q-tab"),V=(0,a.resolveComponent)("q-card-section"),g=(0,a.resolveComponent)("q-card"),x=(0,a.resolveComponent)("q-tab-panels"),b=(0,a.resolveComponent)("q-separator"),w=(0,a.resolveComponent)("q-card-actions"),_=(0,a.resolveComponent)("campo"),y=(0,a.resolveComponent)("q-field"),I=(0,a.resolveComponent)("configuracoes-empresas"),E=(0,a.resolveComponent)("q-tabs"),S=(0,a.resolveComponent)("q-page"),M=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(S,{class:"Club",id:"ClubApp"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",EL,[(0,a.createVNode)(f,{class:"q-py-sm",color:"none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:"statics/tocosbar.jpg",tamanho:"40"}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[SL])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"search",round:"",size:"lg"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[ML])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"more_vert",round:"",size:"lg"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"search"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[TL])),_:1})])),_:1})])),_:1},512),[[M]]),(0,a.withDirectives)((0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"import_export"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[kL])),_:1})])),_:1})])),_:1},512),[[M]])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(E,{align:"justify",color:"none",class:"q-mb-lg"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{default:"",name:"tab-1",icon:"star",label:"Meu B15"}),(0,a.createVNode)(N,{name:"tab-2",icon:"mdi-car",label:"Meu carro"}),(0,a.createVNode)(N,{name:"tab-3",icon:"mdi-map-marker",label:"Favoritos"}),(0,a.createVNode)(N,{count:"5",name:"tab-4",icon:"mdi-shopping",label:"Promoções"}),(0,a.createVNode)(N,{name:"tab-5",icon:"business",label:"Empresa"}),(0,a.createVNode)(x,{name:"tab-1"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",DL,[(0,a.createElementVNode)("div",qL,[(0,a.createVNode)(g,{inline:"",color:"white",class:"fit no-shadow q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"d-flex full-height column"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-subtitle1 text-left text-tertiary q-px-none q-mb-sm",style:{"line-height":"33px","max-height":"35px"}},{default:(0,a.withCtx)((()=>[FL,(0,a.createVNode)(d,{dense:"",round:"",icon:"mdi-cash-multiple",color:"primary","text-color":"white",class:"no-shadow q-ml-sm",style:{float:"right"}})])),_:1}),(0,a.createVNode)(n,{class:"q-px-none q-mt-lg"},{default:(0,a.withCtx)((()=>[PL,(0,a.createElementVNode)("div",AL,[(0,a.createElementVNode)("div",BL,[(0,a.createTextVNode)(" R$ "+(0,a.toDisplayString)(e.$filters.numero(2326,2)),1),LL]),(0,a.createElementVNode)("div",OL,[(0,a.createTextVNode)(" R$ "+(0,a.toDisplayString)(e.$filters.numero(6382,2)),1),zL])])])),_:1}),jL])),_:1})])),_:1})]),(0,a.createElementVNode)("div",$L,[(0,a.createVNode)(g,{inline:"",color:"white",class:"fit50 no-shadow q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"d-flex full-height column"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",UL,[(0,a.createVNode)(n,{class:"text-subtitle1 text-left text-tertiary q-px-none q-mb-sm",style:{"line-height":"33px","max-height":"35px"}},{default:(0,a.withCtx)((()=>[ZL,(0,a.createVNode)(d,{dense:"",round:"",icon:"mdi-bell",color:"positive",class:"no-shadow",style:{float:"right"}})])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[QL])),_:1}),(0,a.createVNode)(n,{class:"q-display-1 text-weight-bold text-left text-blue-8 q-px-none"},{default:(0,a.withCtx)((()=>[RL])),_:1}),GL])])),_:1})])),_:1}),(0,a.createVNode)(g,{inline:"",color:"white",class:"fit50 no-shadow q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"d-flex full-height column"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",HL,[(0,a.createVNode)(n,{class:"text-subtitle1 text-left text-tertiary q-px-none q-mb-sm",style:{"line-height":"33px","max-height":"35px"}},{default:(0,a.withCtx)((()=>[JL,(0,a.createVNode)(d,{dense:"",round:"",icon:"mdi-bell",color:"negative",class:"no-shadow",style:{float:"right"}})])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[YL])),_:1}),(0,a.createVNode)(n,{class:"q-display-1 text-weight-bold text-left text-blue-8 q-px-none"},{default:(0,a.withCtx)((()=>[XL])),_:1}),WL])])),_:1})])),_:1})]),(0,a.createElementVNode)("div",KL,[(0,a.createVNode)(g,{inline:"",color:"white",class:"fit no-shadow q-mt-md",style:{"min-height":"100px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"d-flex full-height column"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-subtitle1 text-left text-tertiary q-px-none q-mb-sm",style:{"line-height":"33px","max-height":"35px"}},{default:(0,a.withCtx)((()=>[eO,(0,a.createVNode)(d,{dense:"",round:"",icon:"mdi-check-all",color:"primary","text-color":"white",class:"no-shadow q-ml-sm",style:{float:"right"}})])),_:1}),(0,a.createVNode)(n,{class:"q-px-none q-mt-lg"},{default:(0,a.withCtx)((()=>[oO])),_:1}),tO])),_:1})])),_:1})])])])),_:1}),(0,a.createVNode)(x,{name:"tab-2"},{default:(0,a.withCtx)((()=>[aO])),_:1}),(0,a.createVNode)(x,{name:"tab-3"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",iO,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(12,(e=>(0,a.createElementVNode)("div",{class:"col-12 col-md-6 col-lg-3 q-mb-sm",key:e},[(0,a.createVNode)(g,{class:"q-my-sm shadow-5 bg-dark arredondadoMinibt",inline:"",onClick:o[0]||(o[0]=e=>l.goTo("/clubsingle"))},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",rO,[(0,a.createElementVNode)("div",lO,[(0,a.createVNode)(V,{style:{height:"100% !important"}},{default:(0,a.withCtx)((()=>[sO])),_:1})]),(0,a.createElementVNode)("div",nO,[(0,a.createVNode)(V,{class:"q-mb-none q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",cO,[(0,a.createElementVNode)("strong",null,"Cafe Basilico "+(0,a.toDisplayString)(e),1)])])),_:2},1024),(0,a.createVNode)(V,{class:"q-pb-none"},{default:(0,a.withCtx)((()=>[dO])),_:1})])])])),_:2},1024)]))),64)),(0,a.createVNode)(d,{color:"primary",size:"md",flat:"",label:"Ver mais",class:"q-my-md q-mx-sm full-width arredondadoMinibt"})])])),_:1}),(0,a.createVNode)(x,{name:"tab-4"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",mO,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(4,(e=>(0,a.createElementVNode)("div",{class:"col-12 col-md-6 col-lg-3 q-mb-sm",key:e},[(0,a.createVNode)(g,{class:"q-my-sm shadow-5 bg-white arredondadoMinibt",inline:"",onClick:o[2]||(o[2]=e=>l.goTo("/clubsingle"))},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",uO,[(0,a.createElementVNode)("div",pO,[(0,a.createVNode)(V,{style:{height:"100% !important"}},{default:(0,a.withCtx)((()=>[hO])),_:1})]),(0,a.createElementVNode)("div",CO,[(0,a.createVNode)(V,{class:"q-mb-none q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",vO,[(0,a.createElementVNode)("strong",null,"Cafe Basilico "+(0,a.toDisplayString)(e),1)])])),_:2},1024),(0,a.createVNode)(V,{class:"full-width self-end text-right"},{default:(0,a.withCtx)((()=>[fO,NO,VO])),_:1})])]),(0,a.createVNode)(w,{class:"self-end full-width q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{class:"full-width"}),(0,a.createVNode)(f,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-px-none text-left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{flat:"",color:"negative",label:"Adicionar"})])),_:1}),(0,a.createVNode)(d,{flat:"",color:"primary",label:"Saiba mais",style:{float:"right"},onClick:o[1]||(o[1]=e=>l.goTo("/clubprodutosingle"))})])),_:1})])),_:1})])),_:2},1024)]))),64)),((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(3,(e=>(0,a.createElementVNode)("div",{class:"col-12 col-md-6 col-lg-4 q-mb-sm",key:e},[(0,a.createVNode)(g,{class:"q-my-sm shadow-5 bg-white arredondadoMinibt",inline:"",onClick:o[4]||(o[4]=e=>l.goTo("/clubsingle"))},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",gO,[(0,a.createElementVNode)("div",xO,[(0,a.createVNode)(V,{style:{height:"100% !important"}},{default:(0,a.withCtx)((()=>[bO])),_:1})]),(0,a.createElementVNode)("div",wO,[(0,a.createVNode)(V,{class:"q-mb-none q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",_O,[(0,a.createElementVNode)("strong",null,"Cafe Basilico "+(0,a.toDisplayString)(e),1)])])),_:2},1024),(0,a.createVNode)(V,{class:"full-width self-end text-right"},{default:(0,a.withCtx)((()=>[yO,IO])),_:1}),(0,a.createVNode)(w,{class:"self-end full-width q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{class:"full-width"}),(0,a.createVNode)(f,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-px-none text-left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{flat:"",color:"negative",label:"Adicionar"})])),_:1}),(0,a.createVNode)(d,{flat:"",color:"primary",label:"Saiba mais",style:{float:"right"},onClick:o[3]||(o[3]=e=>l.goTo("/clubprodutosingle"))})])),_:1})])),_:1})])])])),_:2},1024)]))),64)),((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(4,(e=>(0,a.createElementVNode)("div",{class:"col-12 col-md-6 col-lg-3 q-mb-sm",key:e},[(0,a.createVNode)(g,{class:"q-my-sm shadow-5 bg-white arredondadoMinibt",inline:"",onClick:o[7]||(o[7]=e=>l.goTo("/clubsingle"))},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",EO,[(0,a.createElementVNode)("div",SO,[(0,a.createVNode)(V,{style:{height:"100% !important"}},{default:(0,a.withCtx)((()=>[MO])),_:1})]),(0,a.createElementVNode)("div",TO,[(0,a.createVNode)(V,{class:"q-mb-none q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",kO,[(0,a.createElementVNode)("strong",null,"Cafe Basilico "+(0,a.toDisplayString)(e),1)])])),_:2},1024),(0,a.createVNode)(V,{class:"full-width self-end text-right"},{default:(0,a.withCtx)((()=>[DO,qO])),_:1})])]),(0,a.createVNode)(w,{class:"self-end full-width q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{class:"full-width"}),(0,a.createVNode)(f,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-px-none text-left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{class:"col-3 q-px-sm q-pt-xs",style:{"margin-top":"-18px","max-width":"60%"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{min:"0",tipo:"quantidade",borderless:"",modelValue:r.qtd,"onUpdate:modelValue":o[5]||(o[5]=e=>r.qtd=e)},null,8,["modelValue"]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[FO])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",color:"primary",label:"Saiba mais",style:{float:"right"},onClick:o[6]||(o[6]=e=>l.goTo("/clubprodutosingle"))})])),_:1})])),_:1})])),_:2},1024)]))),64)),(0,a.createVNode)(d,{color:"primary",size:"md",flat:"",label:"Ver mais",class:"q-my-md q-mx-sm full-width arredondadoMinibt"})])])),_:1}),(0,a.createVNode)(x,{name:"tab-5"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I)])),_:1})])),_:1})]),PO])),_:1})}]]);Z()(AO,"components",{QPage:se.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QTooltip:Ao.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QIcon:L.Z,QItemLabel:j.Z,QTabs:ko.Z,QTab:Do.Z,QTabPanels:lr.Z,QCard:D.Z,QCardSection:q.Z,QCardActions:ag.Z,QSeparator:$.Z,QField:Sp.Z,QCarousel:_L.Z,QLayout:ae.Z}),Z()(AO,"directives",{ClosePopup:J.Z});const LO={class:"u-container"},OO=(0,a.createTextVNode)(" Nome "),zO=(0,a.createTextVNode)("Buscar"),jO=(0,a.createTextVNode)("Buscar excluídos"),$O=(0,a.createTextVNode)("Importar contatos"),UO={class:"row q-col-gutter-sm q-mb-sm"},ZO={class:"col-12 col-lg-6"},QO=(0,a.createTextVNode)(" Carteira "),RO=(0,a.createElementVNode)("div",{class:"progress"},[(0,a.createElementVNode)("div",{class:"progress-bar bg-primary",style:{width:"49%"}}),(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-success",style:{width:"51%"}})],-1),GO={class:"row justify-between"},HO={class:"text-h5 text-weight-bold text-left text-primary q-mt-sm q-pb-none",style:{"line-height":"22px"}},JO=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}},"Hoje",-1),YO={class:"text-h5 text-weight-bold text-right text-positive q-mt-sm q-pb-none",style:{"line-height":"22px"}},XO=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}},"Projeção Final",-1),WO=(0,a.createElementVNode)("div",{class:"row q-col-gutter-x-xs q-mt-sm"},[(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("button",{"data-v-cd753374":"",tabindex:"0",type:"button",class:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-grey-7"},[(0,a.createElementVNode)("div",{class:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[(0,a.createElementVNode)("i",{"aria-hidden":"true",class:"q-icon mdi mdi-chart-timeline"}),(0,a.createElementVNode)("div",null,"Extrato")])])]),(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("button",{"data-v-cd753374":"",tabindex:"0",type:"button",class:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-grey-7"},[(0,a.createElementVNode)("div",{class:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[(0,a.createElementVNode)("i",{"aria-hidden":"true",class:"q-icon mdi mdi-square-inc-cash"}),(0,a.createElementVNode)("div",null,"Depositar")])])]),(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("button",{"data-v-cd753374":"",tabindex:"0",type:"button",class:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-grey-7"},[(0,a.createElementVNode)("div",{class:"q-btn-inner row col items-center q-popup--skip justify-center"},[(0,a.createElementVNode)("i",{"aria-hidden":"true",class:"q-icon mdi mdi-bank-transfer",style:{"font-size":"2em","margin-bottom":"0 !important"}}),(0,a.createElementVNode)("div",null,"Transferir")])])]),(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("button",{"data-v-cd753374":"",tabindex:"0",type:"button",class:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-grey-7"},[(0,a.createElementVNode)("div",{class:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[(0,a.createElementVNode)("i",{"aria-hidden":"true",class:"q-icon mdi mdi-barcode-scan"}),(0,a.createElementVNode)("div",null,"Pagar")])])])],-1),KO={class:"col-12 col-md-6 col-lg-3"},ez={class:"futuremoney"},oz=(0,a.createTextVNode)(" À receber "),tz=(0,a.createTextVNode)(" 116,32 do ano anterior "),az=(0,a.createTextVNode)(" 500,500 "),iz=(0,a.createElementVNode)("small",{class:"text-tertiary"},[(0,a.createElementVNode)("span",{class:"text-positive"}," 500,00 "),(0,a.createTextVNode)(" Hoje "),(0,a.createElementVNode)("br")],-1),rz={class:"futuremoney"},lz=(0,a.createTextVNode)(" À pagar "),sz=(0,a.createTextVNode)(" 500,00 do ano anterior "),nz=(0,a.createTextVNode)(" 500,00 "),cz=(0,a.createElementVNode)("small",{class:"text-tertiary"},[(0,a.createElementVNode)("span",{class:"text-negative"}," 500,00 "),(0,a.createTextVNode)(" Hoje "),(0,a.createElementVNode)("br")],-1),dz={class:"col-12 col-md-6 col-lg-3"},mz=(0,a.createTextVNode)(" Tarefas "),uz=(0,a.createElementVNode)("div",{class:"row justify-between"},[(0,a.createElementVNode)("div",{class:"col q-pb-none text-center"},[(0,a.createElementVNode)("div",{class:"q-display-1 text-weight-bold text-center text-primary"},"3"),(0,a.createElementVNode)("small",{class:"text-caption text-tertiary text-center",style:{"line-height":"1"}},"Hoje")]),(0,a.createElementVNode)("div",{class:"col q-pb-none text-center"},[(0,a.createElementVNode)("div",{class:"q-display-1 text-weight-bold text-center text-negative"},"2"),(0,a.createElementVNode)("small",{class:"text-caption text-tertiary text-center",style:{"line-height":"1"}},"Atrasadas")]),(0,a.createElementVNode)("div",{class:"col q-pb-none text-center"},[(0,a.createElementVNode)("div",{class:"q-display-1 text-weight-bold text-center text-positive"},"15"),(0,a.createElementVNode)("small",{class:"text-caption text-tertiary text-center",style:{"line-height":"1"}},"Futuras")])],-1),pz=(0,a.createElementVNode)("div",{class:"row q-col-gutter-x-xs q-mt-sm"},[(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("button",{"data-v-cd753374":"",tabindex:"0",type:"button",class:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-primary"},[(0,a.createElementVNode)("div",{class:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[(0,a.createElementVNode)("i",{"aria-hidden":"true",class:"q-icon mdi mdi-check-all",style:{"font-size":"1.8em"}}),(0,a.createElementVNode)("div",null,"Ver tarefas")])])]),(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("button",{"data-v-cd753374":"",tabindex:"0",type:"button",class:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-primary"},[(0,a.createElementVNode)("div",{class:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[(0,a.createElementVNode)("i",{"aria-hidden":"true",class:"q-icon mdi mdi-alarm-plus",style:{"font-size":"1.8em"}}),(0,a.createElementVNode)("div",null,"Adicionar Tarefa")])])])],-1),hz={class:"row q-col-gutter-sm q-mb-sm"},Cz={class:"col-12 col-lg-8"},vz=(0,a.createTextVNode)(" Carteira "),fz=(0,a.createElementVNode)("div",{class:"progress"},[(0,a.createElementVNode)("div",{class:"progress-bar bg-primary",style:{width:"49%"}}),(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-success",style:{width:"51%"}})],-1),Nz={class:"row justify-between"},Vz={class:"text-h5 text-weight-bold text-left text-primary q-mt-sm q-pb-none",style:{"line-height":"22px"}},gz=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}},"Hoje",-1),xz={class:"text-h5 text-weight-bold text-right text-positive q-mt-sm q-pb-none",style:{"line-height":"22px"}},bz=(0,a.createElementVNode)("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}},"Projeção Final",-1),wz=(0,a.createElementVNode)("div",{class:"row q-col-gutter-x-xs q-mt-sm"},[(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("button",{"data-v-cd753374":"",tabindex:"0",type:"button",class:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-grey-7"},[(0,a.createElementVNode)("div",{class:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[(0,a.createElementVNode)("i",{"aria-hidden":"true",class:"q-icon mdi mdi-chart-timeline"}),(0,a.createElementVNode)("div",null,"Extrato")])])]),(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("button",{"data-v-cd753374":"",tabindex:"0",type:"button",class:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-grey-7"},[(0,a.createElementVNode)("div",{class:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[(0,a.createElementVNode)("i",{"aria-hidden":"true",class:"q-icon mdi mdi-square-inc-cash"}),(0,a.createElementVNode)("div",null,"Depositar")])])]),(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("button",{"data-v-cd753374":"",tabindex:"0",type:"button",class:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-grey-7"},[(0,a.createElementVNode)("div",{class:"q-btn-inner row col items-center q-popup--skip justify-center"},[(0,a.createElementVNode)("i",{"aria-hidden":"true",class:"q-icon mdi mdi-bank-transfer",style:{"font-size":"2em","margin-bottom":"0 !important"}}),(0,a.createElementVNode)("div",null,"Transferir")])])]),(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("button",{"data-v-cd753374":"",tabindex:"0",type:"button",class:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-grey-7"},[(0,a.createElementVNode)("div",{class:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[(0,a.createElementVNode)("i",{"aria-hidden":"true",class:"q-icon mdi mdi-barcode-scan"}),(0,a.createElementVNode)("div",null,"Pagar")])])])],-1),_z={class:"col-12 col-md-6 col-lg-4"},yz={class:"futuremoney"},Iz=(0,a.createTextVNode)(" À receber "),Ez=(0,a.createTextVNode)(" 116,32 do ano anterior "),Sz=(0,a.createTextVNode)(" 500,500 "),Mz=(0,a.createElementVNode)("small",{class:"text-tertiary"},[(0,a.createElementVNode)("span",{class:"text-positive"}," 500,00 "),(0,a.createTextVNode)(" Hoje "),(0,a.createElementVNode)("br")],-1),Tz={class:"futuremoney"},kz=(0,a.createTextVNode)(" À pagar "),Dz=(0,a.createTextVNode)(" 500,00 do ano anterior "),qz=(0,a.createTextVNode)(" 500,00 "),Fz=(0,a.createElementVNode)("small",{class:"text-tertiary"},[(0,a.createElementVNode)("span",{class:"text-negative"}," 500,00 "),(0,a.createTextVNode)(" Hoje "),(0,a.createElementVNode)("br")],-1),Pz=(0,a.createTextVNode)("Tab Two"),Az={class:"row q-col-gutter-x-sm"},Bz={class:"row"},Lz={class:"col-5"},Oz=(0,a.createElementVNode)("img",{src:MA(),class:"arredondadoL",style:{"margin-top":"0"}},null,-1),zz={class:"col"},jz={class:"text-subtitle1 text-white"},$z=(0,a.createElementVNode)("p",{class:"text-white q-mb-none text-caption q-mb-none"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. ",-1),Uz={class:"row q-col-gutter-x-sm"},Zz={class:"row"},Qz={class:"col-12"},Rz=(0,a.createElementVNode)("img",{src:MA(),class:"arredondadoT",style:{"margin-top":"0"}},null,-1),Gz={class:"col-12"},Hz={class:"q-title text-dark"},Jz=(0,a.createElementVNode)("p",{class:"text-tertiary q-mb-none q-body",style:{"text-decoration":"line-through"}},"De R$55,00",-1),Yz=(0,a.createElementVNode)("p",{class:"q-display-1 q-mb-none text-dark"},[(0,a.createElementVNode)("strong",null,"R$50,00")],-1),Xz=(0,a.createElementVNode)("p",{class:"text-tertiary q-mb-none q-body"},"+ 10% de cashback",-1),Wz={class:"row"},Kz={class:"col-12 col-lg-5"},ej=(0,a.createElementVNode)("img",{src:MA(),class:"arredondadoLT",style:{"margin-top":"0"}},null,-1),oj={class:"col-12 col-lg"},tj={class:"q-title text-dark"},aj=(0,a.createElementVNode)("p",{class:"text-tertiary q-mb-none q-body",style:{"text-decoration":"line-through"}},"De R$55,00",-1),ij=(0,a.createElementVNode)("p",{class:"text-h5 q-mb-none text-dark"},[(0,a.createElementVNode)("strong",null,"R$50,00")],-1),rj={class:"row"},lj={class:"col-5"},sj=(0,a.createElementVNode)("img",{src:MA(),class:"arredondadoLT",style:{"margin-top":"0"}},null,-1),nj={class:"col"},cj={class:"text-subtitle1 text-dark"},dj=(0,a.createElementVNode)("p",{class:"text-tertiary q-mb-none q-body",style:{"text-decoration":"line-through"}},"De R$55,00",-1),mj=(0,a.createElementVNode)("p",{class:"text-h5 q-mb-none text-dark"},[(0,a.createElementVNode)("strong",null,"R$50,00")],-1),uj=(0,a.createTextVNode)("Quantidade"),pj={class:"text-white q-py-md hideonmobile"},hj={class:"u-container"},Cj={class:"row"},vj=(0,a.createElementVNode)("div",{class:"col-4"},[(0,a.createElementVNode)("div",{class:"text-h5 q-mx-md"}," Explore por segmentos")],-1),fj=(0,a.createElementVNode)("div",{class:"col-8"},[(0,a.createElementVNode)("div",{class:"text-h5 q-mx-md"}," Explore por cidades")],-1),Nj={class:"col-12 col-md-4"},Vj={class:"col-12 col-md-4"},gj={class:"col-12 col-md-4"},xj=(0,a.createElementVNode)("div",{class:"copy text-white text-caption q-py-sm"},[(0,a.createElementVNode)("div",{class:"u-container"},[(0,a.createElementVNode)("div",{class:"row q-py-md"},[(0,a.createElementVNode)("div",{class:"col-12 col-lg-8"},[(0,a.createElementVNode)("p",{class:"q-mb-none q-mx-md q-pt-sm"},"CNPJ 07.660.198/0001-89 / Av. Presidente Vargas, 2001, CJ 45, Jardim América, Ribeirão Preto / SP - CEP 14020-525")]),(0,a.createElementVNode)("div",{class:"col-12 col-lg-4 q-pr-sm",style:{"text-align":"right"}},[(0,a.createElementVNode)("p",{class:"q-py-none"},[(0,a.createTextVNode)("Ecosistema "),(0,a.createElementVNode)("img",{class:"q-ml-xs",style:{"margin-bottom":"-7px"},src:VC(),alt:"",height:"25"})])])])])],-1),bj={class:"FinanceiroReceber"},wj={class:"q-pb-md"},_j={class:"col-12 q-pt-md"},yj={class:"filters row q-pa-sm q-ma-md q-col-gutter-x-sm bg-white",style:{"border-radius":"5px","min-height":"50px"}},Ij={class:"col-12 col-md q-pl-none"},Ej={class:"row"},Sj={class:"col-11 col-md"},Mj={class:"row"},Tj=(0,a.createElementVNode)("label",{class:"q-ma-sm"},"até",-1),kj=(0,a.createTextVNode)(" Outras opções "),Dj=(0,a.createTextVNode)(" Agrupar "),qj={class:"no-shadow"},Fj={class:"row"},Pj={class:"col-12 col-lg-6"},Aj={class:"q-px-sm"},Bj=(0,a.createElementVNode)("img",{src:"https://i.pinimg.com/originals/a9/38/09/a938091f6fdca06fc6e829688f2dbe88.jpg",class:"avatar float-left",style:{"max-width":"40px",height:"auto",float:"left"}},null,-1),Lj=(0,a.createElementVNode)("div",null,"Optidados Soluções para Opticas ",-1),Oj=(0,a.createElementVNode)("div",null," Optidados Soluções para Opticas Ltda - ME ",-1),zj=(0,a.createTextVNode)(" Renegociado "),jj=(0,a.createTextVNode)(" Em Aberto "),$j=(0,a.createElementVNode)("p",{class:"q-mt-sm"},[(0,a.createElementVNode)("small",{style:{display:"block"}},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A blanditiis commodi eaque iusto tempore. ")],-1),Uj=(0,a.createElementVNode)("div",{class:"col-12 col-lg-2"},[(0,a.createElementVNode)("div",{class:"q-px-sm"},[(0,a.createElementVNode)("dl",{class:"q-mt-sm"},[(0,a.createElementVNode)("dt",null,"Venda #1802"),(0,a.createElementVNode)("dd",null,"Cartão Visa"),(0,a.createElementVNode)("dt",{class:"q-mt-md"},"Faturamento Geral")])])],-1),Zj={class:"col-3 col-lg-1"},Qj=(0,a.createTextVNode)(" Vencimento "),Rj=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"DEZ")],-1),Gj=(0,a.createElementVNode)("p",{class:"text-center q-my-none text-h5 text-weight-bold"},[(0,a.createElementVNode)("strong",null,"10")],-1),Hj=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"2018")],-1),Jj={class:"col-3 col-lg-1"},Yj=(0,a.createTextVNode)(" Vencimento "),Xj=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"DEZ")],-1),Wj=(0,a.createElementVNode)("p",{class:"text-center q-my-none text-h5 text-weight-bold"},[(0,a.createElementVNode)("strong",null,"10")],-1),Kj=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"2018")],-1),e$={class:"col-6 col-lg-2"},o$=(0,a.createElementVNode)("dl",{class:"float-right full-width q-mb-sm"},[(0,a.createElementVNode)("dt",{class:"text-right text-h5 text-positive text-weight-bold"},[(0,a.createTextVNode)(" 2.050,00 "),(0,a.createElementVNode)("p",{class:"text-weight-normal text-tertiary text-body2"}," 1.050,00 ")])],-1),t$={class:"col q-pt-sm",style:{float:"right"}},a$={key:0,class:"row"},i$={class:"col-12 col-lg-6"},r$={class:"q-px-sm"},l$=(0,a.createTextVNode)(" Geeks Solucoes "),s$=(0,a.createElementVNode)("p",{class:"q-mt-sm"},[(0,a.createElementVNode)("small",{style:{display:"block"}},"Lorem Observacao ipsum dolor sit amet, consectetura dipisicing elit. A blanditiis commodi eaqueiusto tempore. ")],-1),n$=(0,a.createElementVNode)("div",{class:"col-12 col-lg-2"},[(0,a.createElementVNode)("div",{class:"q-px-sm"},[(0,a.createElementVNode)("dl",{class:"q-mt-sm"},[(0,a.createElementVNode)("dt",null,"Descricao do CC")])])],-1),c$={class:"col-2 col-lg-1"},d$=(0,a.createTextVNode)(" Vencimento Original "),m$=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"DEZ")],-1),u$=(0,a.createElementVNode)("p",{class:"text-center q-my-none text-h5 text-weight-bold"},[(0,a.createElementVNode)("strong",null,"10")],-1),p$=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"2018")],-1),h$={class:"col-2 col-lg-1"},C$=(0,a.createTextVNode)(" Emissão "),v$=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"DEZ")],-1),f$=(0,a.createElementVNode)("p",{class:"text-center q-my-none text-h5 text-weight-bold"},[(0,a.createElementVNode)("strong",null,"10")],-1),N$=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"2018")],-1),V$=(0,a.createElementVNode)("div",{class:"col-6 col-lg-2"},[(0,a.createElementVNode)("div",{class:"q-px-sm"},[(0,a.createElementVNode)("dl",{class:"q-mt-none text-right"},[(0,a.createElementVNode)("dd",null,[(0,a.createElementVNode)("small",null,"Desconto"),(0,a.createElementVNode)("span",{class:"text-subtitle1"},[(0,a.createElementVNode)("strong",null,"100,00")])]),(0,a.createElementVNode)("dd",null,[(0,a.createElementVNode)("small",null,"Multa"),(0,a.createElementVNode)("span",{class:"text-subtitle1"},[(0,a.createElementVNode)("strong",null,"100,00 (2%)")])]),(0,a.createElementVNode)("dd",null,[(0,a.createElementVNode)("small",null,"Juros"),(0,a.createElementVNode)("span",{class:"text-subtitle1"},[(0,a.createElementVNode)("strong",null,"1,00 (0,15% dia)")])])])])],-1),g$=(0,a.createElementVNode)("p",{class:"text-right q-mt-sm"},[(0,a.createTextVNode)("Receber "),(0,a.createElementVNode)("strong",null,"4.000,00"),(0,a.createTextVNode)(" - Recebido "),(0,a.createElementVNode)("strong",null,"6.000,00")],-1),x$={class:"container"},b$=(0,a.createTextVNode)(" Receber "),w$={class:"row q-pt-lg justify-center"},_$={class:"q-pt-lg",style:{width:"1280px","max-width":"100%"}},y$={class:"no-shadow q-mb-md row q-col-gutter-sm q-mx-none"},I$={class:"row reverse"},E$={class:"col-12 col-lg-6"},S$={class:"row no-shadow q-pa-md q-px-md"},M$=(0,a.createTextVNode)(" Outros Valores "),T$=(0,a.createElementVNode)("div",{class:"row items-center text-body2"}," 55,00 ",-1),k$={class:"row"},D$={class:"row q-px-sm q-col-gutter-xs"},q$={class:"col-3"},F$=(0,a.createTextVNode)("Desconto "),P$={class:"col-3 offset-3"},A$={class:"col-3"},B$={class:"row q-px-sm q-col-gutter-xs"},L$={class:"col-3"},O$=(0,a.createTextVNode)("Multa"),z$={class:"col-3 offset-3"},j$={class:"col-3"},$$={class:"row q-px-sm q-col-gutter-xs"},U$={class:"col-3"},Z$=(0,a.createTextVNode)("Juros"),Q$={class:"col-3"},R$={class:"col-3"},G$={class:"col-3"},H$={class:"row q-px-sm q-col-gutter-xs"},J$={class:"col-3"},Y$=(0,a.createTextVNode)("Protesto "),X$={class:"col-3 offset-6"},W$={class:"row"},K$=(0,a.createElementVNode)("div",{class:"col-6 text-body2"},"Liquidado",-1),eU={class:"col-6 text-body2 text-right"},oU=(0,a.createTextVNode)(" 1.355,00 "),tU=(0,a.createTextVNode)("23/11/1984 "),aU={class:"col-12 col-lg-6"},iU={style:{padding:"0",widows:"100%"}},rU=(0,a.createElementVNode)("img",{src:"https://i.pinimg.com/originals/a9/38/09/a938091f6fdca06fc6e829688f2dbe88.jpg"},null,-1),lU=(0,a.createTextVNode)("John Doe"),sU=(0,a.createTextVNode)(" Está atrasado em 1 dia "),nU=(0,a.createTextVNode)(" Em aberto "),cU=(0,a.createTextVNode)(" Parcela 1 / 10 "),dU={class:"col-12 col-lg-4"},mU=(0,a.createTextVNode)(" Boletos "),uU={class:"row q-px-md q-col-gutter-x-sm q-pt-sm justify-center"},pU={class:"row q-px-md q-col-gutter-x-sm q-pt-sm justify-center"},hU=(0,a.createTextVNode)(" Imprimir "),CU=(0,a.createTextVNode)(" Imprimir Atualizado "),vU=(0,a.createTextVNode)(" Protestar Boleto "),fU=(0,a.createTextVNode)(" Cancelar Protesto "),NU=(0,a.createTextVNode)(" Cancelar Boleto "),VU=(0,a.createTextVNode)("#123456789"),gU=(0,a.createElementVNode)("br",null,null,-1),xU=(0,a.createElementVNode)("small",null,"Banco do Brasil - Ag 3312 - CC 107143",-1),bU=(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Boleto gerado")],-1),wU=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right"}},"55,00",-1),_U=(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Protestado")],-1),yU=(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Liquidado")],-1),IU=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right",color:"green"}},"58,50",-1),EU={class:"col-12 col-lg-12"},SU=(0,a.createTextVNode)(" Arquivos "),MU={class:"row q-px-md q-col-gutter-x-sm q-pt-sm"},TU={class:"row q-q-col-gutter-x-md q-px-md justify-center",style:{margin:"0"}},kU={class:"col-3 col-lg-2 shadow-1 q-ma-md q-pa-none",style:{"border-radius":"16px",overflow:"hidden"}},DU=(0,a.createElementVNode)("img",{src:"https://i.pinimg.com/originals/a9/38/09/a938091f6fdca06fc6e829688f2dbe88.jpg"},null,-1),qU={class:"q-pa-md"},FU={class:"row q-col-gutter-x-sm"},PU={class:"col-12 col-md-5"},AU={class:"col-12 col-md-2"},BU={class:"col-12 col-md-2"},LU={class:"col-12 col-md-2"},OU={class:"row q-col-gutter-x-sm"},zU=(0,a.createElementVNode)("div",{class:"col-12 col-md-5"}," Forma de Pagamento ",-1),jU=(0,a.createElementVNode)("div",{class:"col-12 col-md-2"}," Valor ",-1),$U=(0,a.createElementVNode)("div",{class:"col-12 col-md-2"}," Parcelas ",-1),UU=(0,a.createElementVNode)("div",{class:"col-12 col-md-2"}," Data ",-1),ZU=(0,a.createTextVNode)(" Restante "),QU=(0,a.createElementVNode)("strong",null," 3.130,00",-1),RU={class:"row q-col-gutter-x-sm q-ma-none"},GU=(0,a.createTextVNode)("Débito"),HU=(0,a.createElementVNode)("br",null,null,-1),JU=(0,a.createElementVNode)("small",null,[(0,a.createTextVNode)("Movimentação "),(0,a.createElementVNode)("strong",null,"10/10/2018"),(0,a.createTextVNode)(" - Vencimento "),(0,a.createElementVNode)("strong",null,"08/10/2018")],-1),YU=(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Xxxxxxxx")],-1),XU=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right",color:"green"}},"50,00",-1),WU=(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Xxxxxxxx2")],-1),KU=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right",color:"green"}},"9,50",-1),eZ=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right"}},[(0,a.createElementVNode)("small",null,"59,50")],-1),oZ=(0,a.createTextVNode)("Crédito"),tZ=(0,a.createElementVNode)("br",null,null,-1),aZ=(0,a.createElementVNode)("small",null,[(0,a.createTextVNode)("Movimentação "),(0,a.createElementVNode)("strong",null,"10/10/2018"),(0,a.createTextVNode)(" - Vencimento "),(0,a.createElementVNode)("strong",null,"08/10/2018")],-1),iZ=(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Zzzzzzz")],-1),rZ=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right"}},"55,00",-1),lZ=(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Acrescimo por vencimento.")],-1),sZ=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right"}},"4,50",-1),nZ=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right"}},[(0,a.createElementVNode)("small",null,"59,50")],-1),cZ={class:"q-pa-md"},dZ={class:"row"},mZ={class:"col-12 col-lg-6"},uZ={class:"q-px-sm"},pZ=(0,a.createElementVNode)("img",{class:"avatar float-left",style:{"max-width":"40px",height:"auto"}},null,-1),hZ=(0,a.createElementVNode)("div",null,"Optidados Soluções para Opticas ",-1),CZ=(0,a.createElementVNode)("div",null," Optidados Soluções para Opticas Ltda - ME ",-1),vZ=(0,a.createTextVNode)(" Renegociado "),fZ=(0,a.createTextVNode)(" Em Aberto "),NZ=(0,a.createElementVNode)("p",{class:"q-my-sm"},[(0,a.createElementVNode)("small",{style:{display:"block"}},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A blanditiis commodi eaque iusto tempore. ")],-1),VZ=(0,a.createElementVNode)("div",{class:"col-12 col-lg-2"},[(0,a.createElementVNode)("div",{class:"q-px-sm"},[(0,a.createElementVNode)("dl",{style:{"margin-top":"6px"}},[(0,a.createElementVNode)("dt",null,"Venda #1802"),(0,a.createElementVNode)("dd",null,"Cartão Visa"),(0,a.createElementVNode)("dt",{class:"q-mt-md"},"Faturamento Geral")])])],-1),gZ={class:"col-3 col-lg-1"},xZ=(0,a.createTextVNode)(" Vencimento "),bZ=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"DEZ")],-1),wZ=(0,a.createElementVNode)("p",{class:"text-center q-my-none text-h5 text-weight-bold"},[(0,a.createElementVNode)("strong",null,"10")],-1),_Z=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"2018")],-1),yZ={class:"col-3 col-lg-1"},IZ=(0,a.createTextVNode)(" Vencimento "),EZ=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"DEZ")],-1),SZ=(0,a.createElementVNode)("p",{class:"text-center q-my-none text-h5 text-weight-bold"},[(0,a.createElementVNode)("strong",null,"10")],-1),MZ=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"2018")],-1),TZ={class:"col-6 col-lg-2"},kZ=(0,a.createElementVNode)("dl",{style:{float:"right",width:"100%","margin-bottom":"0"}},[(0,a.createElementVNode)("dt",{style:{"text-align":"right","font-size":"24px",color:"green"}},[(0,a.createTextVNode)(" 2.050,00 "),(0,a.createElementVNode)("small",{style:{display:"block","font-size":"0.65em","font-weight":"normal",color:"grey"}}," 1.050,00 ")])],-1),DZ={class:"col",style:{float:"right","padding-top":"7px"}},qZ={key:0,class:"row"},FZ={class:"col-12 col-lg-6"},PZ={class:"q-px-sm"},AZ=(0,a.createTextVNode)(" Geeks Solucoes "),BZ=(0,a.createElementVNode)("p",{style:{clear:"left",margin:"6px 0 0"}},[(0,a.createElementVNode)("small",{style:{display:"block"}},"Lorem Observacao ipsum dolor sit amet, consectetura dipisicing elit. A blanditiis commodi eaqueiusto tempore. ")],-1),LZ=(0,a.createElementVNode)("div",{class:"col-12 col-lg-2"},[(0,a.createElementVNode)("div",{class:"q-px-sm"},[(0,a.createElementVNode)("dl",{style:{"margin-top":"6px"}},[(0,a.createElementVNode)("dt",null,"Descricao do CC")])])],-1),OZ={class:"col-2 col-lg-1"},zZ=(0,a.createTextVNode)(" Vencimento Original "),jZ=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"DEZ")],-1),$Z=(0,a.createElementVNode)("p",{class:"text-center q-my-none text-h5 text-weight-bold"},[(0,a.createElementVNode)("strong",null,"10")],-1),UZ=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"2018")],-1),ZZ={class:"col-2 col-lg-1"},QZ=(0,a.createTextVNode)(" Emissão "),RZ=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"DEZ")],-1),GZ=(0,a.createElementVNode)("p",{class:"text-center q-my-none text-h5 text-weight-bold"},[(0,a.createElementVNode)("strong",null,"10")],-1),HZ=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"2018")],-1),JZ=(0,a.createElementVNode)("div",{class:"col-6 col-lg-2"},[(0,a.createElementVNode)("div",{class:"q-px-sm"},[(0,a.createElementVNode)("dl",{style:{"margin-top":"0px","text-align":"right"}},[(0,a.createElementVNode)("dd",null,[(0,a.createElementVNode)("small",null,"Desconto"),(0,a.createElementVNode)("span",{style:{"text-align":"center","font-size":"18px"}},[(0,a.createElementVNode)("strong",null,"100,00")])]),(0,a.createElementVNode)("dd",null,[(0,a.createElementVNode)("small",null,"Multa"),(0,a.createElementVNode)("span",{style:{"text-align":"center","font-size":"18px"}},[(0,a.createElementVNode)("strong",null,"100,00 (2%)")])]),(0,a.createElementVNode)("dd",null,[(0,a.createElementVNode)("small",null,"Juros"),(0,a.createElementVNode)("span",{style:{"text-align":"center","font-size":"18px"}},[(0,a.createElementVNode)("strong",null,"1,00 (0,15% dia)")])])])])],-1),YZ=(0,a.createElementVNode)("p",{style:{"text-align":"right"}},[(0,a.createTextVNode)("Receber "),(0,a.createElementVNode)("strong",null,"4.000,00"),(0,a.createTextVNode)(" - Recebido "),(0,a.createElementVNode)("strong",null,"6.000,00")],-1),XZ={data:function(){return{checkedVO:!1,checkedDetails:!1,checkedTitulo:!1,showMoreDetails:!1,openedSangria:!1,openedTitulo:!1,showchat:!1,openedC:!1,showing:!1,dataIni:"",dataFin:"",grupos:[],selectListOptions:[{label:"Nome do banco",inset:!0,sublabel:"Enables communication",stamp:"Saldo",value:"fb1"},{label:"Nome do banco",inset:!0,sublabel:"Enables communication",stamp:"Saldo",value:"fb2"}],selectPC:"",selectedDataTipo:"",selectDataTipo:[{label:"Vencimento",value:"goog"},{label:"Outro",value:"fb"}],selectOptionsPC:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],dados:{fonetipo:[{label:"Principal",value:"Principal"},{label:"Celular",value:"Celular"},{label:"Fixo",value:"Fixo"},{label:"WhatsApp",value:"WhatsApp"}]}}}},WZ=(0,T.Z)(XZ,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-chips-input"),c=(0,a.resolveComponent)("q-select"),d=(0,a.resolveComponent)("q-date"),m=(0,a.resolveComponent)("q-toolbar-title"),u=(0,a.resolveComponent)("q-tooltip"),p=(0,a.resolveComponent)("q-toolbar"),h=(0,a.resolveComponent)("q-card"),C=(0,a.resolveComponent)("q-chip"),v=(0,a.resolveComponent)("q-checkbox"),f=(0,a.resolveComponent)("q-icon"),N=(0,a.resolveComponent)("q-expansion-item"),V=(0,a.resolveComponent)("q-list"),g=(0,a.resolveComponent)("q-footer"),x=(0,a.resolveComponent)("q-header"),b=(0,a.resolveComponent)("q-input"),w=(0,a.resolveComponent)("q-alert"),_=(0,a.resolveComponent)("q-card-section"),y=(0,a.resolveComponent)("q-card-actions"),I=(0,a.resolveComponent)("Br"),E=(0,a.resolveComponent)("q-item-section"),S=(0,a.resolveComponent)("q-item-label"),M=(0,a.resolveComponent)("q-item"),T=(0,a.resolveComponent)("q-field"),k=(0,a.resolveComponent)("q-uploader"),D=(0,a.resolveComponent)("q-tab"),q=(0,a.resolveComponent)("q-tab-panels"),F=(0,a.resolveComponent)("q-tabs"),P=(0,a.resolveComponent)("q-layout"),A=(0,a.resolveComponent)("q-dialog"),B=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",bj,[(0,a.createElementVNode)("div",wj,[(0,a.createVNode)(h,{class:"shadow-3 row no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",_j,[(0,a.createVNode)(p,{"text-color":"black",class:"no-shadow q-pa-none",color:"transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",yj,[(0,a.createElementVNode)("div",Ij,[(0,a.createElementVNode)("div",Ej,[(0,a.createVNode)(s,{icon:"filter_list",round:"",color:"tertiary",class:"no-shadow"}),(0,a.createVNode)(n,{modelValue:e.grupos,"onUpdate:modelValue":o[0]||(o[0]=o=>e.grupos=o),color:"tertiary",class:"col q-mx-sm"},null,8,["modelValue"])])]),(0,a.createElementVNode)("div",Sj,[(0,a.createElementVNode)("div",Mj,[(0,a.createVNode)(s,{icon:"date_range",round:"",color:"tertiary",class:"no-shadow"}),(0,a.createVNode)(c,{modelValue:e.selectedDataTipo,"onUpdate:modelValue":o[1]||(o[1]=o=>e.selectedDataTipo=o),placeholder:"Vencimento",class:"q-mx-md text-body2",options:e.selectDataTipo},null,8,["modelValue","options"]),(0,a.createVNode)(d,{modelValue:e.dataIni,"onUpdate:modelValue":o[2]||(o[2]=o=>e.dataIni=o),type:"date"},null,8,["modelValue"]),Tj,(0,a.createVNode)(d,{modelValue:e.dataFin,"onUpdate:modelValue":o[3]||(o[3]=o=>e.dataFin=o),type:"date"},null,8,["modelValue"])])])])])),_:1}),(0,a.createVNode)(s,{round:"",dense:"",flat:"",icon:"more_vert",color:"primary",size:"lg"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[kj])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,{"text-color":"black",class:"no-shadow q-pa-none",color:"transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{round:"",dense:"",flat:"",icon:"view_stream",color:"primary",size:"lg"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[Dj])),_:1})])),_:1})])),_:1})])])),_:1}),(0,a.createElementVNode)("div",qj,[(0,a.createVNode)(V,{class:"no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{"default-opened":"",label:"Faturamento geral"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{"default-opened":"",label:"25/11/2018"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"extratoItem bg-white q-mb-md q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Fj,[(0,a.createElementVNode)("div",Pj,[(0,a.createElementVNode)("div",Aj,[Bj,(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[Lj,Oj])),_:1}),(0,a.createVNode)(C,{rounded:"",color:"grey",small:"",class:"q-ma-sm q-my-sm"},{default:(0,a.withCtx)((()=>[zj])),_:1}),(0,a.createVNode)(C,{rounded:"",color:"primary",small:"",class:"q-my-sm"},{default:(0,a.withCtx)((()=>[jj])),_:1}),$j])]),Uj,(0,a.createElementVNode)("div",Zj,[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[Qj])),_:1}),Rj,Gj,Hj]),(0,a.createElementVNode)("div",Jj,[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[Yj])),_:1}),Xj,Wj,Kj]),(0,a.createElementVNode)("div",e$,[o$,(0,a.createVNode)(s,{rounded:"",dense:"",flat:"",icon:"delete",color:"primary",class:"no-shadow q-ma-xs",size:"md",style:{float:"right"}}),(0,a.createVNode)(s,{rounded:"",dense:"",flat:"",icon:"edit",color:"primary",class:"no-shadow q-ma-xs",size:"md",onClick:o[4]||(o[4]=o=>e.openedTitulo=!0),style:{float:"right"}}),(0,a.createVNode)(s,{rounded:"",dense:"",flat:"",icon:"attach_money",class:"no-shadow q-ma-xs",size:"md",color:"primary",style:{float:"right"}}),(0,a.createElementVNode)("div",t$,[(0,a.createVNode)(v,{modelValue:e.checkedTitulo,"onUpdate:modelValue":o[5]||(o[5]=o=>e.checkedTitulo=o),color:"primary"},null,8,["modelValue"])]),(0,a.createVNode)(s,{rounded:"",dense:"",flat:"",icon:"keyboard_arrow_down",size:"md",class:"no-shadow q-ma-xs",color:"grey",style:{float:"right"},onClick:o[6]||(o[6]=o=>e.showMoreDetails=!e.showMoreDetails)})])]),e.showMoreDetails?((0,a.openBlock)(),(0,a.createElementBlock)("div",a$,[(0,a.createElementVNode)("div",i$,[(0,a.createElementVNode)("div",r$,[(0,a.createVNode)(m,{class:"q-mx-none q-mt-sm q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{name:"business"}),l$])),_:1}),s$])]),n$,(0,a.createElementVNode)("div",c$,[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[d$])),_:1}),m$,u$,p$]),(0,a.createElementVNode)("div",h$,[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[C$])),_:1}),v$,f$,N$]),V$])):(0,a.createCommentVNode)("",!0)])),_:1}),g$])),_:1})])),_:1})])),_:1})])]),"ClubApp2"!==e.$route.name?((0,a.openBlock)(),(0,a.createBlock)(g,{key:0,class:"no-shadow bg-cinza text-right",reveal:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",x$,[(0,a.createVNode)(p,{color:"light-grey"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{style:{color:"black"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{flat:"",size:"md","no-ripple":"","text-color":"black",label:"5 registros",style:{cursor:"default !important"}})])),_:1}),(0,a.createVNode)(s,{flat:"",size:"md","no-ripple":"","text-color":"black",label:"A RECEBER 10.250,00",style:{cursor:"default !important"}}),(0,a.createVNode)(s,{"no-ripple":"",label:"RECEBIDO 0,00",color:"light-blue-9",style:{float:"right","margin-left":"6px",cursor:"default !important"},class:"no-shadow"})])),_:1})])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(A,{modelValue:e.openedTitulo,"onUpdate:modelValue":o[31]||(o[31]=o=>e.openedTitulo=o),maximized:"",class:"bg-cinza"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{reveal:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"BarraTopo"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{flat:"",round:"",dense:"",icon:"arrow_back"},null,512),[[B]]),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[b$])),_:1}),(0,a.createVNode)(s,{color:"primary",class:"no-shadow",label:"Salvar"})])),_:1})])),_:1}),(0,a.createVNode)(P,{container:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",w$,[(0,a.createElementVNode)("div",_$,[(0,a.createElementVNode)("div",y$,[(0,a.createVNode)(h,{class:"col-12 col-lg-8 bg-white q-pb-md no-shadow reverse"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",I$,[(0,a.createElementVNode)("div",E$,[(0,a.createElementVNode)("div",S$,[(0,a.createVNode)(w,{color:"green-8","text-color":"white",class:"no-shadow q-mb-md full-width"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{color:"white",dark:"",value:"55,00",class:'no-shadow q-title"',borderless:"",prefix:"Valor",align:"right"})])),_:1}),e.checkedDetails||e.checkedVO?((0,a.openBlock)(),(0,a.createBlock)(w,{key:0,color:"green-7","text-color":"white",class:"no-shadow q-mb-md full-width"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{color:"white",dark:"",value:"55,00",class:"no-shadow q-title",borderless:"",prefix:"Valor Original",align:"right"})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",{onClick:o[7]||(o[7]=o=>e.checkedVO=!e.checkedVO),class:"full-width"},[(0,a.createVNode)(_,{class:"valorOriginal q-pa-sm text-body2",style:{"background-color":"#e8f5e9"}},{default:(0,a.withCtx)((()=>[e.checkedVO?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,name:"arrow_drop_up"})):(0,a.createCommentVNode)("",!0),e.checkedVO?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(f,{key:1,name:"arrow_drop_down"})),M$,T$])),_:1})]),e.checkedDetails||e.checkedVO?((0,a.openBlock)(),(0,a.createBlock)(y,{key:1,style:{"background-color":"#e8f5e9"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",k$,[(0,a.createElementVNode)("div",D$,[(0,a.createElementVNode)("div",q$,[(0,a.createVNode)(_,{class:"titleOtherValues"},{default:(0,a.withCtx)((()=>[F$])),_:1})]),(0,a.createElementVNode)("div",P$,[(0,a.createVNode)(b,{color:"green-7",class:"text-subtitle1",value:"2500,00",suffix:"%",align:"right"})]),(0,a.createElementVNode)("div",A$,[(0,a.createVNode)(b,{color:"green-7",class:"text-subtitle1",placeholder:"2050,00",prefix:"R$",align:"right"})])]),(0,a.createElementVNode)("div",B$,[(0,a.createElementVNode)("div",L$,[(0,a.createVNode)(_,{class:"titleOtherValues"},{default:(0,a.withCtx)((()=>[O$])),_:1})]),(0,a.createElementVNode)("div",z$,[(0,a.createVNode)(b,{color:"green-7",class:"text-subtitle1",placeholder:"2050,00",suffix:"%",align:"right"})]),(0,a.createElementVNode)("div",j$,[(0,a.createVNode)(b,{color:"green-7",class:"text-subtitle1",placeholder:"2050,00",prefix:"R$",align:"right"})])]),(0,a.createElementVNode)("div",$$,[(0,a.createElementVNode)("div",U$,[(0,a.createVNode)(_,{class:"titleOtherValues"},{default:(0,a.withCtx)((()=>[Z$])),_:1})]),(0,a.createElementVNode)("div",Q$,[(0,a.createVNode)(c,{modelValue:e.selectPC,"onUpdate:modelValue":o[8]||(o[8]=o=>e.selectPC=o),placeholder:"Tipo",radio:"",color:"green-7",class:"text-body2",options:e.selectOptionsPC},null,8,["modelValue","options"])]),(0,a.createElementVNode)("div",R$,[(0,a.createVNode)(b,{color:"green-7",class:"text-subtitle1",placeholder:"250,00",suffix:"%",align:"right"})]),(0,a.createElementVNode)("div",G$,[(0,a.createVNode)(b,{color:"green-7",class:"text-subtitle1",placeholder:"250,00",prefix:"R$",align:"right"})])]),(0,a.createElementVNode)("div",H$,[(0,a.createElementVNode)("div",J$,[(0,a.createVNode)(_,{class:"titleOtherValues"},{default:(0,a.withCtx)((()=>[Y$])),_:1})]),(0,a.createElementVNode)("div",X$,[(0,a.createVNode)(b,{color:"green-7",class:"text-subtitle1",placeholder:"250,00",prefix:"R$",align:"right"})])])])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(w,{color:"green-7","text-color":"white",class:"no-shadow q-my-md full-width",style:{"border-radius":"0"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{color:"white",dark:"",value:"55,00",class:"no-shadow text-subtitle1",borderless:"",prefix:"Total",align:"right"})])),_:1}),(0,a.createVNode)(w,{color:"green-6","text-color":"white",class:"no-shadow full-width",style:{"border-radius":"0"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",W$,[K$,(0,a.createElementVNode)("div",eU,[oU,(0,a.createVNode)(I),tU])])])),_:1})]),(0,a.createVNode)(s,{class:"float-right q-mx-sm",color:"primary",icon:"call_split",label:"Parcelar"})]),(0,a.createElementVNode)("div",aU,[(0,a.createElementVNode)("div",iU,[(0,a.createVNode)(V,{class:"row no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(M,{class:"col-12 col-lg-6 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,{avatar:""},{default:(0,a.withCtx)((()=>[rU])),_:1})])),_:1}),(0,a.createVNode)(S,{label:"Fulana de tal"},{default:(0,a.withCtx)((()=>[lU])),_:1}),(0,a.createVNode)(E,{right:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,{icon:"search",color:"green"})])),_:1})])),_:1}),(0,a.createVNode)(M,{class:"col-12 col-lg-6 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,{icon:"business"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{borderless:"",modelValue:e.selectPC,"onUpdate:modelValue":o[9]||(o[9]=o=>e.selectPC=o),label:"Empresa",class:"text-body2",radio:"",options:e.selectOptionsPC},null,8,["modelValue","options"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(M,{class:"row no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{color:"warning",small:"",class:"q-ma-none"},{default:(0,a.withCtx)((()=>[sU])),_:1}),(0,a.createVNode)(C,{color:"primary",small:"",class:"q-mx-sm"},{default:(0,a.withCtx)((()=>[nU])),_:1}),(0,a.createVNode)(C,{color:"primary",small:"",class:"q-mx-sm"},{default:(0,a.withCtx)((()=>[cU])),_:1})])),_:1}),(0,a.createVNode)(M,{class:"no-border col-12"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{type:"textarea",label:"Descrição","max-height":100,class:"bg-white",rows:"1"})])),_:1})])),_:1}),e.checkedDetails?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(M,{key:0,class:"col-12 col-lg-12 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{label:"Vencimento",type:"date",modelValue:e.selectPC,"onUpdate:modelValue":o[10]||(o[10]=o=>e.selectPC=o),class:"text-body2 full-width"},null,8,["modelValue"])])),_:1})),e.checkedDetails?((0,a.openBlock)(),(0,a.createBlock)(M,{key:1,class:"col-12 col-lg-6 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{label:"Vencimento",type:"date",modelValue:e.selectPC,"onUpdate:modelValue":o[11]||(o[11]=o=>e.selectPC=o),class:"text-body2 full-width"},null,8,["modelValue"])])),_:1})):(0,a.createCommentVNode)("",!0),e.checkedDetails?((0,a.openBlock)(),(0,a.createBlock)(M,{key:2,class:"col-12 col-lg-6 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{label:"Vencimento Original",type:"date",modelValue:e.selectPC,"onUpdate:modelValue":o[12]||(o[12]=o=>e.selectPC=o),class:"text-body2 full-width"},null,8,["modelValue"])])),_:1})):(0,a.createCommentVNode)("",!0),e.checkedDetails?((0,a.openBlock)(),(0,a.createBlock)(M,{key:3,class:"col-12 col-lg-6 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{label:"Competência",type:"date",modelValue:e.selectPC,"onUpdate:modelValue":o[13]||(o[13]=o=>e.selectPC=o),class:"text-body2 full-width"},null,8,["modelValue"])])),_:1})):(0,a.createCommentVNode)("",!0),e.checkedDetails?((0,a.openBlock)(),(0,a.createBlock)(M,{key:4,class:"col-12 col-lg-6 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{label:"Emissão",type:"date",modelValue:e.selectPC,"onUpdate:modelValue":o[14]||(o[14]=o=>e.selectPC=o),class:"text-body2 full-width"},null,8,["modelValue"])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(M,{class:"col-12 col-lg-6",style:{"border-bottom":"none"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:e.selectPC,"onUpdate:modelValue":o[15]||(o[15]=o=>e.selectPC=o),label:"Plano de Contas",radio:"",options:e.selectOptionsPC,class:"text-body2 full-width"},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,a.createVNode)(M,{class:"col-12 col-lg-6",style:{"border-bottom":"none"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:e.selectPC,"onUpdate:modelValue":o[16]||(o[16]=o=>e.selectPC=o),label:"Centro de Custo",radio:"",options:e.selectOptionsPC,class:"text-body2 full-width"},null,8,["modelValue","options"])])),_:1})])),_:1}),e.checkedDetails?((0,a.openBlock)(),(0,a.createBlock)(M,{key:5,class:"col-12 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{type:"textarea",label:"Observações","max-height":100,class:"bg-cinza q-pa-sm text-body2 full-width",rows:"2"})])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])])]),e.checkedDetails?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,rounded:"",dense:"",flat:"",icon:"keyboard_arrow_up",size:"xs",class:"no-shadow q-ma-xs",color:"grey",style:{margin:"0 auto",display:"block",padding:"0 12px 0 4px"},label:"Detalhes",onClick:o[17]||(o[17]=o=>e.checkedDetails=!e.checkedDetails)})):(0,a.createCommentVNode)("",!0),e.checkedDetails?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,rounded:"",dense:"",flat:"",icon:"keyboard_arrow_down",size:"xs",class:"no-shadow q-ma-xs",color:"grey",style:{margin:"0 auto",display:"block",padding:"0 12px 0 4px"},label:"Detalhes",onClick:o[18]||(o[18]=o=>e.checkedDetails=!e.checkedDetails)}))])),_:1}),(0,a.createElementVNode)("div",dU,[(0,a.createVNode)(h,{class:"bg-white no-shadow col-12 col-lg-12 q-pa-md q-px-md full-height"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[mU])),_:1}),(0,a.createElementVNode)("div",uU,[(0,a.createVNode)(s,{flat:"",color:"primary",size:"md",label:"Gerar Boleto",icon:"add"})]),(0,a.createElementVNode)("div",pU,[(0,a.createVNode)(s,{flat:"",color:"primary",size:"md",icon:"print"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[hU])),_:1})])),_:1}),(0,a.createVNode)(s,{flat:"",color:"primary",size:"md",icon:"print"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[CU])),_:1})])),_:1}),(0,a.createVNode)(s,{flat:"",color:"red",size:"md",icon:"gavel"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[vU])),_:1})])),_:1}),(0,a.createVNode)(s,{flat:"",color:"white","text-color":"red",size:"md",icon:"pan_tool"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[fU])),_:1})])),_:1}),(0,a.createVNode)(s,{flat:"",color:"white","text-color":"grey",size:"md",icon:"delete"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[NU])),_:1})])),_:1})]),(0,a.createVNode)(V,{highlight:"",class:"no-border q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,{header:""},{default:(0,a.withCtx)((()=>[VU,gU,xU])),_:1}),(0,a.createElementVNode)("a",{onClick:o[19]||(o[19]=o=>e.openedSangria=!0),class:"q-item",style:""},[(0,a.createVNode)(E,{icon:"add",color:"blue"}),(0,a.createVNode)(S,{label:"15/10/2018"},{default:(0,a.withCtx)((()=>[bU])),_:1}),(0,a.createVNode)(E,{right:""},{default:(0,a.withCtx)((()=>[wU])),_:1})]),(0,a.createElementVNode)("a",{onClick:o[20]||(o[20]=o=>e.openedSangria=!0),class:"q-item"},[(0,a.createVNode)(E,{icon:"gavel",color:"red"}),(0,a.createVNode)(S,{label:"25/10/2018"},{default:(0,a.withCtx)((()=>[_U])),_:1})]),(0,a.createElementVNode)("a",{onClick:o[21]||(o[21]=o=>e.openedSangria=!0),class:"q-item"},[(0,a.createVNode)(E,{icon:"attach_money",color:"green"}),(0,a.createVNode)(S,{label:"27/10/2018"},{default:(0,a.withCtx)((()=>[yU])),_:1}),(0,a.createVNode)(E,{right:""},{default:(0,a.withCtx)((()=>[IU])),_:1})])])),_:1})])),_:1})])]),(0,a.createVNode)(h,{class:"row q-pb-md q-mb-md bg-white no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",EU,[(0,a.createVNode)(m,{class:"q-mt-lg"},{default:(0,a.withCtx)((()=>[SU])),_:1}),(0,a.createElementVNode)("div",MU,[(0,a.createVNode)(k,{multiple:"",url:"","upload-factory":e.uploadFile,class:"full-width"},null,8,["upload-factory"])]),(0,a.createElementVNode)("div",TU,[(0,a.createElementVNode)("div",kU,[(0,a.createVNode)(_,null,{default:(0,a.withCtx)((()=>[DU])),_:1}),(0,a.createVNode)(s,{flat:"",rounded:"",dense:"",icon:"delete",color:"grey ",class:"float-right"})])])])])),_:1}),(0,a.createVNode)(F,{swipeable:"",class:"bg-cinza q-mb-md roundedB",color:"cinza","text-color":"light-blue-9"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(D,{default:"",name:"tab-1",label:"Liquidar"}),(0,a.createVNode)(D,{name:"tab-2",label:"Movimentação"}),(0,a.createVNode)(D,{name:"tab-3",label:"Relacionados"}),(0,a.createVNode)(q,{name:"tab-1",class:"bg-white"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",qU,[(0,a.createVNode)(V,{class:"no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(M,{class:"noborder"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",FU,[(0,a.createElementVNode)("div",PU,[(0,a.createVNode)(c,{modelValue:e.dados.foneselect,"onUpdate:modelValue":o[22]||(o[22]=o=>e.dados.foneselect=o),label:"Forma de Pagamento",radio:"",options:e.dados.fonetipo},null,8,["modelValue","options"])]),(0,a.createElementVNode)("div",AU,[(0,a.createVNode)(b,{label:"Valor",modelValue:e.dados.fone,"onUpdate:modelValue":o[23]||(o[23]=o=>e.dados.fone=o),class:"text-body2"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",BU,[(0,a.createVNode)(b,{class:"col text-body2",label:"Parcelas",modelValue:e.dados.fonedesc,"onUpdate:modelValue":o[24]||(o[24]=o=>e.dados.fonedesc=o)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",LU,[(0,a.createVNode)(b,{class:"col text-body2",label:"Data",modelValue:e.dados.fonedesc,"onUpdate:modelValue":o[25]||(o[25]=o=>e.dados.fonedesc=o)},null,8,["modelValue"])]),(0,a.createVNode)(s,{flat:"",round:"",dense:"",icon:"add",color:"green",class:"btadd q-mt-none"})])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(V,{class:"noborder"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(M,{class:"noborder"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",OU,[zU,jU,$U,UU,(0,a.createVNode)(s,{flat:"",round:"",dense:"",icon:"close",color:"red",style:{position:"absolute",right:"16px",top:"0px",border:"1px solid darkgray"}})])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(V,{class:"no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(M,{class:"noborder"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,{style:{"text-align":"right !important",width:"100%"}},{default:(0,a.withCtx)((()=>[ZU,QU])),_:1})])),_:1})])),_:1})])])),_:1}),(0,a.createVNode)(q,{name:"tab-2",class:"bg-white"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",RU,[(0,a.createVNode)(V,{highlight:"",class:"col-12 col-lg-6 q-pa-none no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,{header:""},{default:(0,a.withCtx)((()=>[GU,HU,JU])),_:1}),(0,a.createElementVNode)("a",{onClick:o[26]||(o[26]=o=>e.openedSangria=!0),class:"q-item",style:""},[(0,a.createVNode)(E,{icon:"compare_arrows",color:"green"}),(0,a.createVNode)(S,{label:"1002 - BB Ag 3312 CC 107143"},{default:(0,a.withCtx)((()=>[YU])),_:1}),(0,a.createVNode)(E,{right:""},{default:(0,a.withCtx)((()=>[XU])),_:1})]),(0,a.createElementVNode)("a",{onClick:o[27]||(o[27]=o=>e.openedSangria=!0),class:"q-item"},[(0,a.createVNode)(E,{icon:"compare_arrows",color:"green"}),(0,a.createVNode)(S,{label:"1001 - Dinheiro"},{default:(0,a.withCtx)((()=>[WU])),_:1}),(0,a.createVNode)(E,{right:""},{default:(0,a.withCtx)((()=>[KU])),_:1})]),(0,a.createVNode)(E,{right:"",style:{padding:"0 16px"}},{default:(0,a.withCtx)((()=>[eZ])),_:1})])),_:1}),(0,a.createVNode)(V,{highlight:"",class:"col-12 col-lg-6 no-border q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,{header:""},{default:(0,a.withCtx)((()=>[oZ,tZ,aZ])),_:1}),(0,a.createVNode)(M,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,{icon:"compare_arrows",color:"grey"}),(0,a.createVNode)(S,{label:"1102 - Título a Receber"},{default:(0,a.withCtx)((()=>[iZ])),_:1}),(0,a.createVNode)(E,{right:""},{default:(0,a.withCtx)((()=>[rZ])),_:1})])),_:1}),(0,a.createVNode)(M,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,{icon:"compare_arrows",color:"grey"}),(0,a.createVNode)(S,{label:"1108 - Multa e Juros"},{default:(0,a.withCtx)((()=>[lZ])),_:1}),(0,a.createVNode)(E,{right:""},{default:(0,a.withCtx)((()=>[sZ])),_:1})])),_:1}),(0,a.createVNode)(E,{right:"",style:{padding:"0 16px"}},{default:(0,a.withCtx)((()=>[nZ])),_:1})])),_:1})])])),_:1}),(0,a.createVNode)(q,{name:"tab-3",class:"bg-white"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",cZ,[(0,a.createVNode)(N,{label:"25/11/2018"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",null,[(0,a.createVNode)(h,{class:"extratoItem bg-white q-mb-md q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",dZ,[(0,a.createElementVNode)("div",mZ,[(0,a.createElementVNode)("div",uZ,[pZ,(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[hZ,CZ])),_:1}),(0,a.createVNode)(C,{rounded:"",color:"grey",small:"",class:"q-ma-sm float-left q-my-sm"},{default:(0,a.withCtx)((()=>[vZ])),_:1}),(0,a.createVNode)(C,{rounded:"",color:"primary",small:"",class:"q-ma-sm float-left q-my-sm"},{default:(0,a.withCtx)((()=>[fZ])),_:1}),NZ])]),VZ,(0,a.createElementVNode)("div",gZ,[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[xZ])),_:1}),bZ,wZ,_Z]),(0,a.createElementVNode)("div",yZ,[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[IZ])),_:1}),EZ,SZ,MZ]),(0,a.createElementVNode)("div",TZ,[kZ,(0,a.createVNode)(s,{rounded:"",dense:"",flat:"",icon:"delete",color:"primary",class:"no-shadow q-ma-xs",size:"md",style:{float:"right"}}),(0,a.createVNode)(s,{rounded:"",dense:"",flat:"",icon:"edit",color:"primary",class:"no-shadow q-ma-xs",size:"md",onClick:o[28]||(o[28]=o=>e.openedTitulo=!0),style:{float:"right"}}),(0,a.createVNode)(s,{rounded:"",dense:"",flat:"",icon:"attach_money",class:"no-shadow q-ma-xs",size:"md",color:"primary",style:{float:"right"}}),(0,a.createElementVNode)("div",DZ,[(0,a.createVNode)(v,{modelValue:e.checkedTitulo,"onUpdate:modelValue":o[29]||(o[29]=o=>e.checkedTitulo=o),color:"primary"},null,8,["modelValue"])]),(0,a.createVNode)(s,{rounded:"",dense:"",flat:"",icon:"keyboard_arrow_down",size:"md",class:"no-shadow q-ma-xs",color:"grey",style:{float:"right"},onClick:o[30]||(o[30]=o=>e.showMoreDetails=!e.showMoreDetails)})])]),e.showMoreDetails?((0,a.openBlock)(),(0,a.createElementBlock)("div",qZ,[(0,a.createElementVNode)("div",FZ,[(0,a.createElementVNode)("div",PZ,[(0,a.createVNode)(m,{style:{clear:"left",margin:"6px 0 0 -16px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{name:"business"}),AZ])),_:1}),BZ])]),LZ,(0,a.createElementVNode)("div",OZ,[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[zZ])),_:1}),jZ,$Z,UZ]),(0,a.createElementVNode)("div",ZZ,[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[QZ])),_:1}),RZ,GZ,HZ]),JZ])):(0,a.createCommentVNode)("",!0)])),_:1})]),YZ])),_:1})])])),_:1})])),_:1})])])])),_:1})])),_:1},8,["modelValue"])])}]]);Z()(XZ,"components",{QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QChip:sb.Z,QSelect:al.Z,QDate:Dx.Z,QTooltip:Ao.Z,QList:F.Z,QExpansionItem:P.Z,QCheckbox:Hh.Z,QIcon:L.Z,QFooter:Te.Z,QDialog:k.Z,QHeader:ie.Z,QLayout:ae.Z,QInput:re.Z,QCardSection:q.Z,QCardActions:ag.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z,QField:Sp.Z,QUploader:yo.Z,QTabs:ko.Z,QTab:Do.Z,QTabPanels:lr.Z}),Z()(XZ,"directives",{ClosePopup:J.Z});const KZ={components:{Avatar:uo.Z,ConfiguracoesEmpresas:l_,FinanceiroReceber:WZ},computed:{},data:()=>({opened:!1,openedM:!1,openedC:!1,qtd:0,grupos:[],mostrarLogo:!1,select:"",selectOptions:[{label:"Cidade",value:"goog"},{label:"Produto",value:"goog"},{label:"Empresa",value:"fb"}]}),methods:{abrirClub(){this.opened=!0},userHasScrolled(e){this.mostrarLogo=e.position>=102},goTo(e){this.$router.push(e)}}},eQ=(0,T.Z)(KZ,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("avatar"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-tooltip"),d=(0,a.resolveComponent)("q-btn"),m=(0,a.resolveComponent)("q-icon"),u=(0,a.resolveComponent)("q-item-section"),p=(0,a.resolveComponent)("q-item-label"),h=(0,a.resolveComponent)("q-item"),C=(0,a.resolveComponent)("q-list"),v=(0,a.resolveComponent)("q-menu"),f=(0,a.resolveComponent)("q-toolbar"),N=(0,a.resolveComponent)("q-tab"),V=(0,a.resolveComponent)("q-card-section"),g=(0,a.resolveComponent)("q-card"),x=(0,a.resolveComponent)("q-tab-panels"),b=(0,a.resolveComponent)("financeiro-receber"),w=(0,a.resolveComponent)("q-separator"),_=(0,a.resolveComponent)("q-card-actions"),y=(0,a.resolveComponent)("campo"),I=(0,a.resolveComponent)("q-field"),E=(0,a.resolveComponent)("configuracoes-empresas"),S=(0,a.resolveComponent)("q-tabs"),M=(0,a.resolveComponent)("q-page"),T=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(M,{class:"Club",id:"ClubApp"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",LO,[(0,a.createVNode)(f,{class:"q-py-sm",color:"none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:"statics/tocosbar.jpg",tamanho:"40"}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[OO])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"search",round:"",size:"lg"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[zO])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"more_vert",round:"",size:"lg"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"search"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[jO])),_:1})])),_:1})])),_:1},512),[[T]]),(0,a.withDirectives)((0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"import_export"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[$O])),_:1})])),_:1})])),_:1},512),[[T]])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(S,{align:"justify",color:"none",class:"q-mb-lg"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{default:"",name:"tab-1",icon:"mdi-account",label:"Meu B15"}),(0,a.createVNode)(N,{name:"tab-carteira",icon:"credit_card",label:"Carteira"}),(0,a.createVNode)(N,{name:"tab-2",icon:"mdi-car",label:"Meu carro"}),(0,a.createVNode)(N,{name:"tab-3",icon:"mdi-map-marker",label:"Favoritos"}),(0,a.createVNode)(N,{count:"5",name:"tab-4",icon:"mdi-shopping",label:"Promoções"}),(0,a.createVNode)(N,{name:"tab-5",icon:"business",label:"Empresa"}),(0,a.createVNode)(x,{name:"tab-1"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",UO,[(0,a.createElementVNode)("div",ZO,[(0,a.createVNode)(g,{inline:"",color:"white",class:"fit no-shadow q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"d-flex full-height column"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-subtitle1 text-left text-tertiary q-px-none q-mb-sm",style:{"line-height":"33px","max-height":"35px"}},{default:(0,a.withCtx)((()=>[QO,(0,a.createVNode)(d,{dense:"",round:"",icon:"mdi-cash-multiple",color:"primary","text-color":"white",class:"no-shadow q-ml-sm",style:{float:"right"}})])),_:1}),(0,a.createVNode)(n,{class:"q-px-none q-mt-lg"},{default:(0,a.withCtx)((()=>[RO,(0,a.createElementVNode)("div",GO,[(0,a.createElementVNode)("div",HO,[(0,a.createTextVNode)(" R$ "+(0,a.toDisplayString)(e.$filters.numero(2326,2)),1),JO]),(0,a.createElementVNode)("div",YO,[(0,a.createTextVNode)(" R$ "+(0,a.toDisplayString)(e.$filters.numero(6382,2)),1),XO])])])),_:1}),WO])),_:1})])),_:1})]),(0,a.createElementVNode)("div",KO,[(0,a.createVNode)(g,{inline:"",color:"white",class:"fit50 no-shadow q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"d-flex full-height column"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ez,[(0,a.createVNode)(n,{class:"text-subtitle1 text-left text-tertiary q-px-none q-mb-sm",style:{"line-height":"33px","max-height":"35px"}},{default:(0,a.withCtx)((()=>[oz,(0,a.createVNode)(d,{dense:"",round:"",icon:"mdi-bell",color:"positive",class:"no-shadow",style:{float:"right"}})])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[tz])),_:1}),(0,a.createVNode)(n,{class:"q-display-1 text-weight-bold text-left text-blue-8 q-px-none"},{default:(0,a.withCtx)((()=>[az])),_:1}),iz])])),_:1})])),_:1}),(0,a.createVNode)(g,{inline:"",color:"white",class:"fit50 no-shadow q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"d-flex full-height column"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",rz,[(0,a.createVNode)(n,{class:"text-subtitle1 text-left text-tertiary q-px-none q-mb-sm",style:{"line-height":"33px","max-height":"35px"}},{default:(0,a.withCtx)((()=>[lz,(0,a.createVNode)(d,{dense:"",round:"",icon:"mdi-bell",color:"negative",class:"no-shadow",style:{float:"right"}})])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[sz])),_:1}),(0,a.createVNode)(n,{class:"q-display-1 text-weight-bold text-left text-blue-8 q-px-none"},{default:(0,a.withCtx)((()=>[nz])),_:1}),cz])])),_:1})])),_:1})]),(0,a.createElementVNode)("div",dz,[(0,a.createVNode)(g,{inline:"",color:"white",class:"fit no-shadow q-mt-md",style:{"min-height":"100px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"d-flex full-height column"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-subtitle1 text-left text-tertiary q-px-none q-mb-sm",style:{"line-height":"33px","max-height":"35px"}},{default:(0,a.withCtx)((()=>[mz,(0,a.createVNode)(d,{dense:"",round:"",icon:"mdi-check-all",color:"primary","text-color":"white",class:"no-shadow q-ml-sm",style:{float:"right"}})])),_:1}),(0,a.createVNode)(n,{class:"q-px-none q-mt-lg"},{default:(0,a.withCtx)((()=>[uz])),_:1}),pz])),_:1})])),_:1})])])])),_:1}),(0,a.createVNode)(x,{name:"tab-carteira"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",hz,[(0,a.createElementVNode)("div",Cz,[(0,a.createVNode)(g,{inline:"",color:"white",class:"fit no-shadow q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"d-flex full-height column"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-subtitle1 text-left text-tertiary q-px-none q-mb-sm",style:{"line-height":"33px","max-height":"35px"}},{default:(0,a.withCtx)((()=>[vz,(0,a.createVNode)(d,{dense:"",round:"",icon:"mdi-cash-multiple",color:"primary","text-color":"white",class:"no-shadow q-ml-sm",style:{float:"right"}})])),_:1}),(0,a.createVNode)(n,{class:"q-px-none q-mt-lg"},{default:(0,a.withCtx)((()=>[fz,(0,a.createElementVNode)("div",Nz,[(0,a.createElementVNode)("div",Vz,[(0,a.createTextVNode)(" R$ "+(0,a.toDisplayString)(e.$filters.numero(2326,2)),1),gz]),(0,a.createElementVNode)("div",xz,[(0,a.createTextVNode)(" R$ "+(0,a.toDisplayString)(e.$filters.numero(6382,2)),1),bz])])])),_:1}),wz])),_:1})])),_:1})]),(0,a.createElementVNode)("div",_z,[(0,a.createVNode)(g,{inline:"",color:"white",class:"fit50 no-shadow q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"d-flex full-height column"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",yz,[(0,a.createVNode)(n,{class:"text-subtitle1 text-left text-tertiary q-px-none q-mb-sm",style:{"line-height":"33px","max-height":"35px"}},{default:(0,a.withCtx)((()=>[Iz,(0,a.createVNode)(d,{dense:"",round:"",icon:"mdi-bell",color:"positive",class:"no-shadow",style:{float:"right"}})])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Ez])),_:1}),(0,a.createVNode)(n,{class:"q-display-1 text-weight-bold text-left text-blue-8 q-px-none"},{default:(0,a.withCtx)((()=>[Sz])),_:1}),Mz])])),_:1})])),_:1}),(0,a.createVNode)(g,{inline:"",color:"white",class:"fit50 no-shadow q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"d-flex full-height column"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Tz,[(0,a.createVNode)(n,{class:"text-subtitle1 text-left text-tertiary q-px-none q-mb-sm",style:{"line-height":"33px","max-height":"35px"}},{default:(0,a.withCtx)((()=>[kz,(0,a.createVNode)(d,{dense:"",round:"",icon:"mdi-bell",color:"negative",class:"no-shadow",style:{float:"right"}})])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Dz])),_:1}),(0,a.createVNode)(n,{class:"q-display-1 text-weight-bold text-left text-blue-8 q-px-none"},{default:(0,a.withCtx)((()=>[qz])),_:1}),Fz])])),_:1})])),_:1})])]),(0,a.createVNode)(b)])),_:1}),(0,a.createVNode)(x,{name:"tab-2"},{default:(0,a.withCtx)((()=>[Pz])),_:1}),(0,a.createVNode)(x,{name:"tab-3"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Az,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(12,(e=>(0,a.createElementVNode)("div",{class:"col-12 col-md-6 col-lg-3 q-mb-sm",key:e},[(0,a.createVNode)(g,{class:"q-my-sm shadow-5 bg-dark arredondadoMinibt",inline:"",onClick:o[0]||(o[0]=e=>l.goTo("/clubsingle"))},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Bz,[(0,a.createElementVNode)("div",Lz,[(0,a.createVNode)(V,{style:{height:"100% !important"}},{default:(0,a.withCtx)((()=>[Oz])),_:1})]),(0,a.createElementVNode)("div",zz,[(0,a.createVNode)(V,{class:"q-mb-none q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",jz,[(0,a.createElementVNode)("strong",null,"Cafe Basilico "+(0,a.toDisplayString)(e),1)])])),_:2},1024),(0,a.createVNode)(V,{class:"q-pb-none"},{default:(0,a.withCtx)((()=>[$z])),_:1})])])])),_:2},1024)]))),64)),(0,a.createVNode)(d,{color:"primary",size:"md",flat:"",label:"Ver mais",class:"q-my-md q-mx-sm full-width arredondadoMinibt"})])])),_:1}),(0,a.createVNode)(x,{name:"tab-4"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Uz,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(4,(e=>(0,a.createElementVNode)("div",{class:"col-12 col-md-6 col-lg-3 q-mb-sm",key:e},[(0,a.createVNode)(g,{class:"q-my-sm shadow-5 bg-white arredondadoMinibt",inline:"",onClick:o[2]||(o[2]=e=>l.goTo("/clubsingle"))},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Zz,[(0,a.createElementVNode)("div",Qz,[(0,a.createVNode)(V,{style:{height:"100% !important"}},{default:(0,a.withCtx)((()=>[Rz])),_:1})]),(0,a.createElementVNode)("div",Gz,[(0,a.createVNode)(V,{class:"q-mb-none q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Hz,[(0,a.createElementVNode)("strong",null,"Cafe Basilico "+(0,a.toDisplayString)(e),1)])])),_:2},1024),(0,a.createVNode)(V,{class:"full-width self-end text-right"},{default:(0,a.withCtx)((()=>[Jz,Yz,Xz])),_:1})])]),(0,a.createVNode)(_,{class:"self-end full-width q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{class:"full-width"}),(0,a.createVNode)(f,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-px-none text-left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{flat:"",color:"negative",label:"Adicionar"})])),_:1}),(0,a.createVNode)(d,{flat:"",color:"primary",label:"Saiba mais",style:{float:"right"},onClick:o[1]||(o[1]=e=>l.goTo("/clubprodutosingle"))})])),_:1})])),_:1})])),_:2},1024)]))),64)),((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(3,(e=>(0,a.createElementVNode)("div",{class:"col-12 col-md-6 col-lg-4 q-mb-sm",key:e},[(0,a.createVNode)(g,{class:"q-my-sm shadow-5 bg-white arredondadoMinibt",inline:"",onClick:o[4]||(o[4]=e=>l.goTo("/clubsingle"))},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Wz,[(0,a.createElementVNode)("div",Kz,[(0,a.createVNode)(V,{style:{height:"100% !important"}},{default:(0,a.withCtx)((()=>[ej])),_:1})]),(0,a.createElementVNode)("div",oj,[(0,a.createVNode)(V,{class:"q-mb-none q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",tj,[(0,a.createElementVNode)("strong",null,"Cafe Basilico "+(0,a.toDisplayString)(e),1)])])),_:2},1024),(0,a.createVNode)(V,{class:"full-width self-end text-right"},{default:(0,a.withCtx)((()=>[aj,ij])),_:1}),(0,a.createVNode)(_,{class:"self-end full-width q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{class:"full-width"}),(0,a.createVNode)(f,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-px-none text-left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{flat:"",color:"negative",label:"Adicionar"})])),_:1}),(0,a.createVNode)(d,{flat:"",color:"primary",label:"Saiba mais",style:{float:"right"},onClick:o[3]||(o[3]=e=>l.goTo("/clubprodutosingle"))})])),_:1})])),_:1})])])])),_:2},1024)]))),64)),((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(4,(e=>(0,a.createElementVNode)("div",{class:"col-12 col-md-6 col-lg-3 q-mb-sm",key:e},[(0,a.createVNode)(g,{class:"q-my-sm shadow-5 bg-white arredondadoMinibt",inline:"",onClick:o[7]||(o[7]=e=>l.goTo("/clubsingle"))},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",rj,[(0,a.createElementVNode)("div",lj,[(0,a.createVNode)(V,{style:{height:"100% !important"}},{default:(0,a.withCtx)((()=>[sj])),_:1})]),(0,a.createElementVNode)("div",nj,[(0,a.createVNode)(V,{class:"q-mb-none q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",cj,[(0,a.createElementVNode)("strong",null,"Cafe Basilico "+(0,a.toDisplayString)(e),1)])])),_:2},1024),(0,a.createVNode)(V,{class:"full-width self-end text-right"},{default:(0,a.withCtx)((()=>[dj,mj])),_:1})])]),(0,a.createVNode)(_,{class:"self-end full-width q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{class:"full-width"}),(0,a.createVNode)(f,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-px-none text-left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"col-3 q-px-sm q-pt-xs",style:{"margin-top":"-18px","max-width":"60%"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{min:"0",tipo:"quantidade",borderless:"",modelValue:r.qtd,"onUpdate:modelValue":o[5]||(o[5]=e=>r.qtd=e)},null,8,["modelValue"]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[uj])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",color:"primary",label:"Saiba mais",style:{float:"right"},onClick:o[6]||(o[6]=e=>l.goTo("/clubprodutosingle"))})])),_:1})])),_:1})])),_:2},1024)]))),64)),(0,a.createVNode)(d,{color:"primary",size:"md",flat:"",label:"Ver mais",class:"q-my-md q-mx-sm full-width arredondadoMinibt"})])])),_:1}),(0,a.createVNode)(x,{name:"tab-5"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E)])),_:1})])),_:1})]),(0,a.createElementVNode)("footer",pj,[(0,a.createElementVNode)("div",hj,[(0,a.createElementVNode)("div",Cj,[vj,fj,(0,a.createElementVNode)("div",Nj,[(0,a.createElementVNode)("ul",null,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(4,(e=>(0,a.createElementVNode)("li",{class:"text-body1 q-mb-sm",key:e},"Segmento "+(0,a.toDisplayString)(e),1))),64))])]),(0,a.createElementVNode)("div",Vj,[(0,a.createElementVNode)("ul",null,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(4,(e=>(0,a.createElementVNode)("li",{class:"text-body1 q-mb-sm",key:e},"Cidade "+(0,a.toDisplayString)(e),1))),64))])]),(0,a.createElementVNode)("div",gj,[(0,a.createElementVNode)("ul",null,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(4,(e=>(0,a.createElementVNode)("li",{class:"text-body1 q-mb-sm",key:e},"Cidade "+(0,a.toDisplayString)(e+4),1))),64))])])])])]),xj])),_:1})}]]);Z()(KZ,"components",{QPage:se.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QTooltip:Ao.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QIcon:L.Z,QItemLabel:j.Z,QTabs:ko.Z,QTab:Do.Z,QTabPanels:lr.Z,QCard:D.Z,QCardSection:q.Z,QCardActions:ag.Z,QSeparator:$.Z,QField:Sp.Z,QCarousel:_L.Z,QLayout:ae.Z}),Z()(KZ,"directives",{ClosePopup:J.Z});var oQ=t(98324),tQ=t.n(oQ);const aQ={class:"u-container q-px-none"},iQ=(0,a.createElementVNode)("img",{src:xA(),alt:"",height:"36",class:"q-mx-sm q-mt-xs imgavatar"},null,-1),rQ={class:"row"},lQ={href:"",class:"botaoTopo q-btn q-btn-flat text-tertiary q-ma-xs text-caption"},sQ=(0,a.createElementVNode)("div",{class:"q-mt-sm"},"Restaurantes",-1),nQ={href:"",class:"botaoTopo q-btn q-btn-flat text-tertiary q-ma-xs text-caption"},cQ=(0,a.createElementVNode)("div",{class:"q-mt-sm"},"Bares e Boates",-1),dQ={href:"",class:"botaoTopo q-btn q-btn-flat text-tertiary q-ma-xs text-caption"},mQ=(0,a.createElementVNode)("div",{class:"q-mt-sm"},"Eventos",-1),uQ={class:"filters row q-pa-xs q-ma-xs q-ml-none q-col-gutter-x-sm arredondado",style:{"min-height":"50px"}},pQ={class:"col"},hQ={class:"col"},CQ={class:"col"},vQ={class:"filters q-px-xs q-ma-xs q-ml-none q-col-gutter-x-sm arredondado",style:{"min-height":"50px"}},fQ={class:"row"},NQ={class:"col"},VQ={class:"col-auto"},gQ={class:"q-display-1 text-primary q-mt-xl q-mb-md q-mx-md"},xQ=(0,a.createTextVNode)(" Dicas para você "),bQ={class:"row q-col-gutter-x-sm items-stretch q-pb-lg"},wQ={class:"col-12 col-md-6 q-py-md"},_Q=(0,a.createElementVNode)("img",{src:tQ()},null,-1),yQ=(0,a.createElementVNode)("div",{class:"text-h5 text-dark"},[(0,a.createElementVNode)("strong",null,"Cafe Basilico")],-1),IQ=(0,a.createElementVNode)("p",{class:"text-tertiary text-body1",style:{"line-height":"1.5"}},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce efficitur arcu vitae ex rutrum varius. Suspendisse viverra faucibus placerat.",-1),EQ=(0,a.createElementVNode)("p",{class:"text-tertiary q-mb-none q-body",style:{"text-decoration":"line-through"}},"De R$55,00",-1),SQ=(0,a.createElementVNode)("p",{class:"q-display-1 q-mb-none text-dark"},[(0,a.createElementVNode)("strong",null,"R$50,00")],-1),MQ=(0,a.createElementVNode)("p",{class:"text-tertiary q-body"},"+ 10% de cashback",-1),TQ=(0,a.createTextVNode)("Quantidade"),kQ={class:"col-12 col-md-6 q-py-sm"},DQ={class:"row q-col-gutter-x-sm"},qQ=(0,a.createElementVNode)("img",{src:wA()},null,-1),FQ=(0,a.createElementVNode)("p",{class:"text-h5 q-mb-none text-dark"},[(0,a.createElementVNode)("strong",null,"R$50,00")],-1),PQ={class:"row q-col-gutter-x-sm items-stretch q-pb-lg"},AQ={class:"col-12 col-md-6 q-py-md"},BQ=(0,a.createElementVNode)("img",{src:tQ()},null,-1),LQ=(0,a.createElementVNode)("div",{class:"text-h5 text-dark"},[(0,a.createElementVNode)("strong",null,"Cafe Basilico")],-1),OQ=(0,a.createElementVNode)("p",{class:"text-tertiary text-body1",style:{"line-height":"1.5"}},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce efficitur arcu vitae ex rutrum varius. Suspendisse viverra faucibus placerat.",-1),zQ=(0,a.createElementVNode)("p",{class:"text-tertiary q-mb-none q-body",style:{"text-decoration":"line-through"}},"De R$55,00",-1),jQ=(0,a.createElementVNode)("p",{class:"q-display-1 q-mb-none text-dark"},[(0,a.createElementVNode)("strong",null,"R$50,00")],-1),$Q=(0,a.createElementVNode)("p",{class:"text-tertiary q-body"},"+ 10% de cashback",-1),UQ=(0,a.createTextVNode)("Quantidade"),ZQ={class:"col-12 col-md-6 q-py-sm"},QQ={class:"row q-col-gutter-x-sm"},RQ=(0,a.createElementVNode)("img",{src:wA()},null,-1),GQ=(0,a.createElementVNode)("p",{class:"text-h5 q-mb-none text-dark"},[(0,a.createElementVNode)("strong",null,"R$50,00")],-1),HQ={class:"q-pa-sm hideondesktop"},JQ={class:"row"},YQ={class:"col-5"},XQ=(0,a.createElementVNode)("img",{src:MA(),class:"arredondadoLT",style:{"margin-top":"0"}},null,-1),WQ={class:"col"},KQ=(0,a.createElementVNode)("div",{class:"text-subtitle1 text-dark"},[(0,a.createElementVNode)("strong",null,"Cafe Basilico")],-1),eR=(0,a.createElementVNode)("p",{class:"text-h5 q-mb-none text-dark"},[(0,a.createElementVNode)("strong",null,"R$50,00")],-1),oR={class:"row"},tR={class:"col-5"},aR=(0,a.createElementVNode)("img",{src:MA(),class:"arredondadoLT",style:{"margin-top":"0"}},null,-1),iR={class:"col"},rR=(0,a.createElementVNode)("div",{class:"text-subtitle1 text-dark"},[(0,a.createElementVNode)("strong",null,"Cafe Basilico")],-1),lR=(0,a.createElementVNode)("p",{class:"text-h5 q-mb-none text-dark"},[(0,a.createElementVNode)("strong",null,"R$50,00")],-1),sR={class:"row"},nR={class:"col-5"},cR=(0,a.createElementVNode)("img",{src:MA(),class:"arredondadoLT",style:{"margin-top":"0"}},null,-1),dR={class:"col"},mR=(0,a.createElementVNode)("div",{class:"text-subtitle1 text-dark"},[(0,a.createElementVNode)("strong",null,"Cafe Basilico")],-1),uR=(0,a.createElementVNode)("p",{class:"text-h5 q-mb-none text-dark"},[(0,a.createElementVNode)("strong",null,"R$50,00")],-1),pR={class:"row"},hR={class:"col-5"},CR=(0,a.createElementVNode)("img",{src:MA(),class:"arredondadoLT",style:{"margin-top":"0"}},null,-1),vR={class:"col"},fR=(0,a.createElementVNode)("div",{class:"text-subtitle1 text-dark"},[(0,a.createElementVNode)("strong",null,"Cafe Basilico")],-1),NR=(0,a.createElementVNode)("p",{class:"text-h5 q-mb-none text-dark"},[(0,a.createElementVNode)("strong",null,"R$50,00")],-1),VR={class:"q-display-1 text-dark q-mt-xl q-mb-md q-mx-md"},gR=(0,a.createTextVNode)(" Lugares pra conhecer "),xR={class:"row q-col-gutter-x-sm q-pb-lg"},bR=(0,a.createElementVNode)("img",{src:MA()},null,-1),wR={class:"text-h5 text-white"},_R=(0,a.createElementVNode)("p",{class:"text-white q-mb-none"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce efficitur arcu vitae ex rutrum varius. ",-1),yR={class:"row q-col-gutter-x-sm q-pb-lg"},IR=(0,a.createElementVNode)("img",{src:MA()},null,-1),ER={class:"text-h5 text-white"},SR=(0,a.createElementVNode)("p",{class:"text-white q-mb-none"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce efficitur arcu vitae ex rutrum varius. ",-1),MR={class:"q-pt-md q-pb-lg q-px-sm hideondesktop"},TR={class:"row"},kR={class:"col-5"},DR=(0,a.createElementVNode)("img",{src:MA(),class:"arredondadoL",style:{"margin-top":"0"}},null,-1),qR={class:"col"},FR=(0,a.createElementVNode)("div",{class:"text-subtitle1 text-white"},[(0,a.createElementVNode)("strong",null,"Cafe Basilico")],-1),PR=(0,a.createElementVNode)("p",{class:"text-white q-mb-none text-caption q-mb-none"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. ",-1),AR={class:"row"},BR={class:"col-5"},LR=(0,a.createElementVNode)("img",{src:MA(),class:"arredondadoL",style:{"margin-top":"0"}},null,-1),OR={class:"col"},zR=(0,a.createElementVNode)("div",{class:"text-subtitle1 text-white"},[(0,a.createElementVNode)("strong",null,"Cafe Basilico")],-1),jR=(0,a.createElementVNode)("p",{class:"text-white q-mb-none text-caption q-mb-none"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. ",-1),$R={class:"row"},UR={class:"col-5"},ZR=(0,a.createElementVNode)("img",{src:MA(),class:"arredondadoL",style:{"margin-top":"0"}},null,-1),QR={class:"col"},RR=(0,a.createElementVNode)("div",{class:"text-subtitle1 text-white"},[(0,a.createElementVNode)("strong",null,"Cafe Basilico")],-1),GR=(0,a.createElementVNode)("p",{class:"text-white q-mb-none text-caption q-mb-none"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. ",-1),HR={class:"text-white q-py-md hideonmobile"},JR={class:"u-container"},YR={class:"row"},XR=(0,a.createElementVNode)("div",{class:"col-4"},[(0,a.createElementVNode)("div",{class:"text-h5 q-mx-md"}," Explore por segmentos")],-1),WR=(0,a.createElementVNode)("div",{class:"col-8"},[(0,a.createElementVNode)("div",{class:"text-h5 q-mx-md"}," Explore por cidades")],-1),KR={class:"col-12 col-md-4"},eG={class:"col-12 col-md-4"},oG={class:"col-12 col-md-4"},tG={class:"copy text-white text-caption q-py-sm"},aG={class:"u-container"},iG={class:"row q-py-md"},rG=(0,a.createElementVNode)("div",{class:"col-12 col-lg-8"},[(0,a.createElementVNode)("p",{class:"q-mb-none q-mx-md q-pt-sm"},"CNPJ 07.660.198/0001-89 / Av. Presidente Vargas, 2001, CJ 45, Jardim América, Ribeirão Preto / SP - CEP 14020-525")],-1),lG={class:"col-12 col-lg-4 q-pr-sm",style:{"text-align":"right"}},sG={class:"q-py-none"},nG=(0,a.createTextVNode)("Ecosistema "),cG={key:0,class:"q-ml-xs",style:{"margin-bottom":"-7px"},src:VC(),alt:"",height:"25"},dG=(0,a.createElementVNode)("div",{class:"text-subtitle1 text-white"},"Login",-1),mG={class:"layout-padding q-pa-md"},uG=(0,a.createElementVNode)("div",{class:"text-subtitle1 text-white"},"Minha empresa",-1),pG={class:"layout-padding q-pa-md"},hG=(0,a.createElementVNode)("div",{class:"text-subtitle1 text-white"},"Cadastre-se",-1),CG={class:"layout-padding q-pa-md"},vG={components:{Campo:L_.Z},computed:{},data:()=>({opened:!1,openedM:!1,openedC:!1,qtd:0,grupos:[],mostrarLogo:!1,select:"",selectOptions:[{label:"Cidade",value:"goog"},{label:"Produto",value:"goog"},{label:"Empresa",value:"fb"}]}),methods:{abrirClub(){this.opened=!0},userHasScrolled(e){this.mostrarLogo=e.position>=102},goTo(e){this.$router.push(e)}}},fG=(0,T.Z)(vG,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-header"),m=(0,a.resolveComponent)("q-scroll-observer"),u=(0,a.resolveComponent)("q-icon"),p=(0,a.resolveComponent)("q-input"),h=(0,a.resolveComponent)("q-card-section"),C=(0,a.resolveComponent)("q-separator"),v=(0,a.resolveComponent)("campo"),f=(0,a.resolveComponent)("q-tooltip"),N=(0,a.resolveComponent)("q-field"),V=(0,a.resolveComponent)("q-card-actions"),g=(0,a.resolveComponent)("q-card"),x=(0,a.resolveComponent)("q-carousel-slide"),b=(0,a.resolveComponent)("q-carousel"),w=(0,a.resolveComponent)("q-page"),_=(0,a.resolveComponent)("q-page-container"),y=(0,a.resolveComponent)("q-layout"),I=(0,a.resolveComponent)("q-dialog"),E=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(y,{class:"Club",id:"Club"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{reveal:"",class:"topbar"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",aQ,[(0,a.createVNode)(c,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-px-none hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(a.Transition,{name:"fade"},{default:(0,a.withCtx)((()=>[r.mostrarLogo?((0,a.openBlock)(),(0,a.createElementBlock)("img",{key:0,src:VC(),alt:"",height:"28",onClick:o[0]||(o[0]=e=>l.goTo("/club"))})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createVNode)(n,{flat:"",color:"white",label:"Minha empresa",class:"q-mx-sm",onClick:o[1]||(o[1]=e=>r.openedM=!0)}),(0,a.createVNode)(n,{color:"white",flat:"",label:"Cadastre-se",class:"q-mx-sm hideonmobile",onClick:o[2]||(o[2]=e=>r.openedC=!0)}),(0,a.createVNode)(n,{color:"white","text-color":"primary",label:"Entrar",class:"q-mx-sm",onClick:o[3]||(o[3]=o=>e.openURL("https://app.b15.com.br"))})])),_:1})])])),_:1}),(0,a.createVNode)(_,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{class:"u-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{onScroll:l.userHasScrolled},null,8,["onScroll"]),(0,a.createVNode)(c,{color:"transparent",class:"q-px-none q-my-md cliente"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[iQ])),_:1}),(0,a.createElementVNode)("div",rQ,[(0,a.createElementVNode)("a",lQ,[(0,a.createVNode)(u,{name:"mdi-food",size:"28px"}),sQ]),(0,a.createElementVNode)("a",nQ,[(0,a.createVNode)(u,{name:"mdi-beer",size:"28px"}),cQ]),(0,a.createElementVNode)("a",dQ,[(0,a.createVNode)(u,{name:"mdi-microphone-variant",size:"28px"}),mQ])])])),_:1}),(0,a.createVNode)(s,{class:"q-pa-none bg-white arredondado hideonmobile",style:{"margin-top":"-4px",border:"1px solid #bdbdbd"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",uQ,[(0,a.createVNode)(n,{color:"white","text-color":"tertiary",icon:"search",class:"q-ml-sm arredondadobt no-shadow q-title",style:{"pointer-events":"none"}}),(0,a.createElementVNode)("div",pQ,[(0,a.createVNode)(p,{color:"dark",label:"Produto ou Serviço"})]),(0,a.createElementVNode)("div",hQ,[(0,a.createVNode)(p,{color:"dark",label:"Lugar"})]),(0,a.createElementVNode)("div",CQ,[(0,a.createVNode)(p,{color:"dark",label:"Cidade"})]),(0,a.createVNode)(n,{color:"primary",label:"BUSCAR",class:"q-ml-sm q-px-xl arredondadobt"})])])),_:1}),(0,a.createVNode)(s,{class:"q-pa-none bg-white arredondado hideondesktop",style:{"margin-top":"-4px",border:"1px solid #bdbdbd"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",vQ,[(0,a.createElementVNode)("div",fQ,[(0,a.createElementVNode)("div",NQ,[(0,a.createVNode)(p,{color:"dark",label:"Produto / Serviço / Lugar / Cidade"})]),(0,a.createElementVNode)("div",VQ,[(0,a.createVNode)(n,{color:"primary",icon:"search",round:"",style:{"margin-top":"6px"}})])])])])),_:1}),(0,a.createElementVNode)("div",gQ,[(0,a.createVNode)(n,{color:"primary",dense:"",flat:"",icon:"mdi-shopping",round:"",size:"xl",disabled:""}),xQ]),(0,a.createVNode)(b,{class:"hideonmobile",color:"white",arrows:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",bQ,[(0,a.createElementVNode)("div",wQ,[(0,a.createVNode)(g,{class:"bg-white shadow-10 full-height row"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{style:{height:"360px"},class:"full-width self-start"},{default:(0,a.withCtx)((()=>[_Q])),_:1}),(0,a.createVNode)(h,{class:"full-width self-start"},{default:(0,a.withCtx)((()=>[yQ,IQ])),_:1}),(0,a.createVNode)(h,{class:"full-width self-start text-right"},{default:(0,a.withCtx)((()=>[EQ,SQ,MQ])),_:1}),(0,a.createVNode)(V,{class:"self-end full-width q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"full-width q-py-none"}),(0,a.createVNode)(c,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-px-none text-left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"col-3 q-px-sm q-pt-xs",style:{"margin-top":"-18px","max-width":"60%"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{min:"0",tipo:"quantidade",borderless:"",modelValue:r.qtd,"onUpdate:modelValue":o[4]||(o[4]=e=>r.qtd=e)},null,8,["modelValue"]),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[TQ])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(n,{flat:"",color:"primary",label:"Saiba mais",style:{float:"right"},onClick:o[5]||(o[5]=e=>l.goTo("/clubprodutosingle"))})])),_:1})])),_:1})])),_:1})]),(0,a.createElementVNode)("div",kQ,[(0,a.createElementVNode)("div",DQ,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(4,(e=>(0,a.createElementVNode)("div",{class:"col-12 col-md-6 q-my-sm",key:e},[(0,a.createVNode)(g,{class:"bg-white shadow-10 full-height row"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"full-width self-start"},{default:(0,a.withCtx)((()=>[qQ])),_:1}),(0,a.createVNode)(h,{class:"q-mb-none full-width self-start q-pb-none text-dark"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Cafe Basilico "+(0,a.toDisplayString)(e),1)])),_:2},1024),(0,a.createVNode)(h,{class:"full-width self-start text-right"},{default:(0,a.withCtx)((()=>[FQ])),_:1}),(0,a.createVNode)(V,{class:"self-end full-width q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"full-width"}),(0,a.createVNode)(c,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-px-none text-left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{flat:"",color:"negative",label:"Adicionar"})])),_:1}),(0,a.createVNode)(n,{flat:"",color:"primary",label:"Saiba mais",style:{float:"right"},onClick:o[6]||(o[6]=e=>l.goTo("/clubprodutosingle"))})])),_:1})])),_:1})])),_:2},1024)]))),64))])])])])),_:1}),(0,a.createVNode)(x,{class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",PQ,[(0,a.createElementVNode)("div",AQ,[(0,a.createVNode)(g,{class:"bg-white shadow-10 full-height row"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{style:{height:"360px"},class:"full-width self-start"},{default:(0,a.withCtx)((()=>[BQ])),_:1}),(0,a.createVNode)(h,{class:"full-width self-start"},{default:(0,a.withCtx)((()=>[LQ,OQ])),_:1}),(0,a.createVNode)(h,{class:"full-width self-start text-right"},{default:(0,a.withCtx)((()=>[zQ,jQ,$Q])),_:1}),(0,a.createVNode)(V,{class:"self-end full-width q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"full-width q-py-none"}),(0,a.createVNode)(c,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-px-none text-left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"col-3 q-px-sm q-pt-xs",style:{"margin-top":"-18px","max-width":"60%"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{min:"0",tipo:"quantidade",borderless:"",modelValue:r.qtd,"onUpdate:modelValue":o[7]||(o[7]=e=>r.qtd=e)},null,8,["modelValue"]),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[UQ])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(n,{flat:"",color:"primary",label:"Saiba mais",style:{float:"right"},onClick:o[8]||(o[8]=e=>l.goTo("/clubprodutosingle"))})])),_:1})])),_:1})])),_:1})]),(0,a.createElementVNode)("div",ZQ,[(0,a.createElementVNode)("div",QQ,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(4,(e=>(0,a.createElementVNode)("div",{class:"col-12 col-md-6 q-my-sm",key:e},[(0,a.createVNode)(g,{class:"bg-white shadow-10 full-height row"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"full-width self-start"},{default:(0,a.withCtx)((()=>[RQ])),_:1}),(0,a.createVNode)(h,{class:"q-mb-none full-width self-start q-pb-none text-dark"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Cafe Basilico "+(0,a.toDisplayString)(e),1)])),_:2},1024),(0,a.createVNode)(h,{class:"full-width self-start text-right"},{default:(0,a.withCtx)((()=>[GQ])),_:1}),(0,a.createVNode)(V,{class:"self-end full-width q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"full-width"}),(0,a.createVNode)(c,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-px-none text-left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{flat:"",color:"negative",label:"Adicionar"})])),_:1}),(0,a.createVNode)(n,{flat:"",color:"primary",label:"Saiba mais",style:{float:"right"},onClick:o[9]||(o[9]=e=>l.goTo("/clubprodutosingle"))})])),_:1})])),_:1})])),_:2},1024)]))),64))])])])])),_:1})])),_:1}),(0,a.createElementVNode)("div",HQ,[(0,a.createVNode)(g,{class:"q-my-sm shadow-5 bg-white",inline:"",onClick:o[11]||(o[11]=e=>l.goTo("/clubsingle"))},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",JQ,[(0,a.createElementVNode)("div",YQ,[(0,a.createVNode)(h,{style:{height:"100% !important"}},{default:(0,a.withCtx)((()=>[XQ])),_:1})]),(0,a.createElementVNode)("div",WQ,[(0,a.createVNode)(h,{class:"q-mb-none q-py-sm"},{default:(0,a.withCtx)((()=>[KQ])),_:1}),(0,a.createVNode)(h,{class:"full-width self-end text-right"},{default:(0,a.withCtx)((()=>[eR])),_:1})])]),(0,a.createVNode)(V,{class:"self-end full-width q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"full-width"}),(0,a.createVNode)(c,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-px-none text-left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{flat:"",color:"negative",label:"Adicionar"})])),_:1}),(0,a.createVNode)(n,{flat:"",color:"primary",label:"Saiba mais",style:{float:"right"},onClick:o[10]||(o[10]=e=>l.goTo("/clubprodutosingle"))})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(g,{class:"q-my-sm shadow-5 bg-white",inline:"",onClick:o[13]||(o[13]=e=>l.goTo("/clubsingle"))},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",oR,[(0,a.createElementVNode)("div",tR,[(0,a.createVNode)(h,{style:{height:"100% !important"}},{default:(0,a.withCtx)((()=>[aR])),_:1})]),(0,a.createElementVNode)("div",iR,[(0,a.createVNode)(h,{class:"q-mb-none q-py-sm"},{default:(0,a.withCtx)((()=>[rR])),_:1}),(0,a.createVNode)(h,{class:"full-width self-end text-right"},{default:(0,a.withCtx)((()=>[lR])),_:1})])]),(0,a.createVNode)(V,{class:"self-end full-width q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"full-width"}),(0,a.createVNode)(c,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-px-none text-left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{flat:"",color:"negative",label:"Adicionar"})])),_:1}),(0,a.createVNode)(n,{flat:"",color:"primary",label:"Saiba mais",style:{float:"right"},onClick:o[12]||(o[12]=e=>l.goTo("/clubprodutosingle"))})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(g,{class:"q-my-sm shadow-5 bg-white",inline:"",onClick:o[15]||(o[15]=e=>l.goTo("/clubsingle"))},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",sR,[(0,a.createElementVNode)("div",nR,[(0,a.createVNode)(h,{style:{height:"100% !important"}},{default:(0,a.withCtx)((()=>[cR])),_:1})]),(0,a.createElementVNode)("div",dR,[(0,a.createVNode)(h,{class:"q-mb-none q-py-sm"},{default:(0,a.withCtx)((()=>[mR])),_:1}),(0,a.createVNode)(h,{class:"full-width self-end text-right"},{default:(0,a.withCtx)((()=>[uR])),_:1})])]),(0,a.createVNode)(V,{class:"self-end full-width q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"full-width"}),(0,a.createVNode)(c,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-px-none text-left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{flat:"",color:"negative",label:"Adicionar"})])),_:1}),(0,a.createVNode)(n,{flat:"",color:"primary",label:"Saiba mais",style:{float:"right"},onClick:o[14]||(o[14]=e=>l.goTo("/clubprodutosingle"))})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(g,{class:"q-my-sm shadow-5 bg-white",inline:"",onClick:o[17]||(o[17]=e=>l.goTo("/clubsingle"))},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",pR,[(0,a.createElementVNode)("div",hR,[(0,a.createVNode)(h,{style:{height:"100% !important"}},{default:(0,a.withCtx)((()=>[CR])),_:1})]),(0,a.createElementVNode)("div",vR,[(0,a.createVNode)(h,{class:"q-mb-none q-py-sm"},{default:(0,a.withCtx)((()=>[fR])),_:1}),(0,a.createVNode)(h,{class:"full-width self-end text-right"},{default:(0,a.withCtx)((()=>[NR])),_:1})])]),(0,a.createVNode)(V,{class:"self-end full-width q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"full-width"}),(0,a.createVNode)(c,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-px-none text-left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{flat:"",color:"negative",label:"Adicionar"})])),_:1}),(0,a.createVNode)(n,{flat:"",color:"primary",label:"Saiba mais",style:{float:"right"},onClick:o[16]||(o[16]=e=>l.goTo("/clubprodutosingle"))})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(n,{color:"primary",size:"md",label:"Ver mais",class:"q-my-md q-mx-sm full-width arredondadoMinibt"})]),(0,a.createElementVNode)("div",VR,[(0,a.createVNode)(n,{color:"dark",dense:"",flat:"",icon:"mdi-map-marker-circle",round:"",size:"xl",disabled:""}),gR]),(0,a.createVNode)(b,{color:"white",arrows:"",class:"q-mb-xl hideonmobile",style:{"margin-top":"-6px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",xR,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(4,(e=>(0,a.createElementVNode)("div",{class:"col-12 col-md-3 q-py-sm",key:e},[(0,a.createVNode)(g,{class:"q-ma-sm shadow-10 bg-dark",inline:"",onClick:o[18]||(o[18]=e=>l.goTo("/clubsingle"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[bR])),_:1}),(0,a.createVNode)(h,{class:"q-mb-none q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",wR,[(0,a.createElementVNode)("strong",null,"Cafe Basilico "+(0,a.toDisplayString)(e),1)])])),_:2},1024),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[_R])),_:1})])),_:2},1024)]))),64))])])),_:1}),(0,a.createVNode)(x,{class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",yR,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(4,(e=>(0,a.createElementVNode)("div",{class:"col-12 col-md-3 q-py-sm",key:e},[(0,a.createVNode)(g,{class:"q-ma-sm shadow-10 bg-dark",inline:"",onClick:o[19]||(o[19]=e=>l.goTo("/clubsingle"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[IR])),_:1}),(0,a.createVNode)(h,{class:"q-mb-none q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ER,[(0,a.createElementVNode)("strong",null,"Cafe Basilico "+(0,a.toDisplayString)(e),1)])])),_:2},1024),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[SR])),_:1})])),_:2},1024)]))),64))])])),_:1})])),_:1}),(0,a.createElementVNode)("div",MR,[(0,a.createVNode)(g,{class:"q-my-sm shadow-5 bg-dark",inline:"",onClick:o[20]||(o[20]=e=>l.goTo("/clubsingle"))},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",TR,[(0,a.createElementVNode)("div",kR,[(0,a.createVNode)(h,{style:{height:"100% !important"}},{default:(0,a.withCtx)((()=>[DR])),_:1})]),(0,a.createElementVNode)("div",qR,[(0,a.createVNode)(h,{class:"q-mb-none q-py-sm"},{default:(0,a.withCtx)((()=>[FR])),_:1}),(0,a.createVNode)(h,{class:"q-pb-none"},{default:(0,a.withCtx)((()=>[PR])),_:1})])])])),_:1}),(0,a.createVNode)(g,{class:"q-my-sm shadow-5 bg-dark",inline:"",onClick:o[21]||(o[21]=e=>l.goTo("/clubsingle"))},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",AR,[(0,a.createElementVNode)("div",BR,[(0,a.createVNode)(h,{style:{height:"100% !important"}},{default:(0,a.withCtx)((()=>[LR])),_:1})]),(0,a.createElementVNode)("div",OR,[(0,a.createVNode)(h,{class:"q-mb-none q-py-sm"},{default:(0,a.withCtx)((()=>[zR])),_:1}),(0,a.createVNode)(h,{class:"q-pb-none"},{default:(0,a.withCtx)((()=>[jR])),_:1})])])])),_:1}),(0,a.createVNode)(g,{class:"q-my-sm shadow-5 bg-dark",inline:"",onClick:o[22]||(o[22]=e=>l.goTo("/clubsingle"))},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",$R,[(0,a.createElementVNode)("div",UR,[(0,a.createVNode)(h,{style:{height:"100% !important"}},{default:(0,a.withCtx)((()=>[ZR])),_:1})]),(0,a.createElementVNode)("div",QR,[(0,a.createVNode)(h,{class:"q-mb-none q-py-sm"},{default:(0,a.withCtx)((()=>[RR])),_:1}),(0,a.createVNode)(h,{class:"q-pb-none"},{default:(0,a.withCtx)((()=>[GR])),_:1})])])])),_:1}),(0,a.createVNode)(n,{color:"primary",size:"md",label:"Ver mais",class:"q-my-md q-mx-sm full-width arredondadoMinibt"})])])),_:1})])),_:1}),(0,a.createElementVNode)("footer",HR,[(0,a.createElementVNode)("div",JR,[(0,a.createElementVNode)("div",YR,[XR,WR,(0,a.createElementVNode)("div",KR,[(0,a.createElementVNode)("ul",null,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(4,(e=>(0,a.createElementVNode)("li",{class:"text-body1 q-mb-sm",key:e},"Segmento "+(0,a.toDisplayString)(e),1))),64))])]),(0,a.createElementVNode)("div",eG,[(0,a.createElementVNode)("ul",null,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(4,(e=>(0,a.createElementVNode)("li",{class:"text-body1 q-mb-sm",key:e},"Cidade "+(0,a.toDisplayString)(e),1))),64))])]),(0,a.createElementVNode)("div",oG,[(0,a.createElementVNode)("ul",null,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(4,(e=>(0,a.createElementVNode)("li",{class:"text-body1 q-mb-sm",key:e},"Cidade "+(0,a.toDisplayString)(e+4),1))),64))])])])])]),(0,a.createElementVNode)("div",tG,[(0,a.createElementVNode)("div",aG,[(0,a.createElementVNode)("div",iG,[rG,(0,a.createElementVNode)("div",lG,[(0,a.createElementVNode)("p",sG,[nG,r.mostrarLogo?((0,a.openBlock)(),(0,a.createElementBlock)("img",cG)):(0,a.createCommentVNode)("",!0)])])])])]),(0,a.createVNode)(I,{modelValue:r.opened,"onUpdate:modelValue":o[23]||(o[23]=e=>r.opened=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{color:"primary"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",color:"white",icon:"arrow_back",round:""},null,512),[[E]]),dG])),_:1})])),_:1}),(0,a.createElementVNode)("div",mG,[(0,a.createVNode)(p,{color:"tertiary",label:"Login"}),(0,a.createVNode)(p,{color:"tertiary",label:"Senha"}),(0,a.createVNode)(n,{color:"primary",label:"Enviar",class:"q-mt-sm"})])])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(I,{modelValue:r.openedM,"onUpdate:modelValue":o[24]||(o[24]=e=>r.openedM=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{color:"primary"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",color:"white",icon:"arrow_back",round:""},null,512),[[E]]),uG])),_:1})])),_:1}),(0,a.createElementVNode)("div",pG,[(0,a.createVNode)(p,{color:"tertiary",label:"Login"}),(0,a.createVNode)(p,{color:"tertiary",label:"Senha"}),(0,a.createVNode)(n,{color:"primary",label:"Enviar",class:"q-mt-sm"})])])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(I,{modelValue:r.openedC,"onUpdate:modelValue":o[25]||(o[25]=e=>r.openedC=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{color:"primary"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",color:"white",icon:"arrow_back",round:""},null,512),[[E]]),hG])),_:1})])),_:1}),(0,a.createElementVNode)("div",CG,[(0,a.createVNode)(p,{color:"tertiary",label:"Nome"}),(0,a.createVNode)(p,{color:"tertiary",label:"E-mail"}),(0,a.createVNode)(p,{color:"tertiary",label:"Telefone"}),(0,a.createVNode)(p,{color:"tertiary",label:"CPF/CNPJP"}),(0,a.createVNode)(n,{color:"primary",label:"Enviar",class:"q-mt-sm"})])])),_:1})])),_:1},8,["modelValue"])])),_:1})}]]);Z()(vG,"components",{QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QPageContainer:le.Z,QPage:se.Z,QScrollObserver:wL.Z,QIcon:L.Z,QInput:re.Z,QCarousel:_L.Z,QCarouselSlide:yL.Z,QCard:D.Z,QCardSection:q.Z,QCardActions:ag.Z,QSeparator:$.Z,QField:Sp.Z,QTooltip:Ao.Z,QDialog:k.Z}),Z()(vG,"directives",{ClosePopup:J.Z});var NG=t(99951),VG=t.n(NG);const gG={class:"u-container q-px-sm"},xG={class:"u-container q-px-none"},bG={class:"bg-light q-py-md"},wG={class:"u-container"},_G={id:"slogan"},yG={class:"q-display-1 text-primary q-mb-md text-center"},IG={class:"text-subtitle1 text-tertiary q-mb-xl text-center",style:{"font-weight":"400"}},EG={id:"produtos"},SG=["id"],MG={class:"q-title text-tertiary q-mb-md q-pl-sm q-pt-xl",style:{"font-weight":"400"}},TG=["src"],kG={class:"text-h5 q-mb-none"},DG=(0,a.createTextVNode)("Quantidade"),qG={class:"row"},FG={class:"text-body1 q-mr-sm"},PG={class:"text-body1 q-mr-sm"},AG=e=>((0,a.pushScopeId)("data-v-0cd1bde7"),e=e(),(0,a.popScopeId)(),e),BG={class:"clubcarrinho q-pa-none"},LG=AG((()=>(0,a.createElementVNode)("div",{class:"q-pa-md"},[(0,a.createElementVNode)("span",{class:"text-body1"},"Itens adicionados:")],-1))),OG={class:"items q-pb-lg"},zG={class:"row q-px-sm q-pb-none q-mb-none"},jG={class:"col-auto q-pt-sm"},$G={class:"text-body1"},UG={class:"col q-px-sm"},ZG=(0,a.createTextVNode)("Quantidade"),QG={class:"text-body1 q-px-sm"},RG=(0,a.createTextVNode)("Subtotal "),GG={class:"q-pa-md"},HG=AG((()=>(0,a.createElementVNode)("span",{class:"text-body1"},"Informe seus dados pessoais:",-1))),JG={class:"q-pt-md"},YG=(0,a.createTextVNode)("´ "),XG={class:"row"},WG={class:"text-body1 q-mr-sm"},KG={class:"text-body1 q-mr-sm"},eH={components:{Avatar:uo.Z},data:()=>({cartItems:[],carrinhoPorBanco:{},campos:{email:"",nome:"",telefone:"",endereco:"",pagamento:""}}),props:{formasPagamento:{required:!0,type:Array},contatoPrincipal:{required:!0,type:Object},banco:{required:!0,type:String}},emits:["carrinhoAtualizado"],methods:{atualizar(){let e=JSON.parse(localStorage.getItem("cartItemsStoraged"));if(e&&(this.carrinhoPorBanco=e,this.carrinhoPorBanco[this.banco]))return this.cartItems=this.carrinhoPorBanco[this.banco],void this.$emit("carrinhoAtualizado",this.cartItems);this.carrinhoPorBanco={...this.carrinhoPorBanco,[this.banco]:[]},this.cartItems=[],this.$emit("carrinhoAtualizado",this.cartItems)},atualizarCarrinho(e,o){const t=this.cartItems.findIndex((o=>o.cod===e.codigoItem));-1!==t?0===o?this.cartItems=this.cartItems.filter((o=>o.cod!==e.codigoItem)):this.cartItems[t].qtd=o:this.cartItems.push({cod:e.codigoItem,name:e.descricao,qtd:o,price:e.valorVenda,imagem:e.imagem});let a=this.carrinhoPorBanco;a[this.banco]=this.cartItems,localStorage.setItem("cartItemsStoraged",JSON.stringify(a)),this.$emit("carrinhoAtualizado",this.cartItems)},atualizarQuantidade(e,o){const t=this.cartItems.findIndex((o=>o.cod===e.cod));0===o?this.cartItems=this.cartItems.filter((o=>o.cod!==e.cod)):this.cartItems[t].qtd=o;let a=this.carrinhoPorBanco;a[this.banco]=this.cartItems,localStorage.setItem("cartItemsStoraged",JSON.stringify(a)),this.$emit("carrinhoAtualizado",this.cartItems)},enviarWhatsapp(){if(""===this.campos.nome||""===this.campos.email||""===this.campos.telefone||""===this.campos.pagamento||""===this.campos.endereco)return void this.$q.notify("Por favor, revise seus dados");let e=this.cartItems.reduce(((e,o)=>e+o.qtd*o.price),0),o="";for(var t in this.cartItems)o+=this.cartItems[t].qtd+" "+this.cartItems[t].name+"%0A";let a=this.contatoPrincipal.telefone.find((e=>"WhatsApp"===e.tipoTelefone)).telefone,i="*Tenho um pedido:* %0A"+o+"%0A*Total R$"+e+"*%0A %0AForma de pagamento: *"+this.formasPagamento.filter((e=>e.valor===this.campos.pagamento))[0].rotulo+"*%0A %0A*"+this.campos.nome+"*%0A %0AEndereço:%0A *"+this.campos.endereco+"*";(0,Tp.Z)("https://api.whatsapp.com/send?phone=55"+a+"&text="+i)}},abrirPagto(){this.pagamento=!0},abrirParcelas(){this.parcelas=!0},created(){this.atualizar()}},oH=(0,T.Z)(eH,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("avatar"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("campo"),m=(0,a.resolveComponent)("q-tooltip"),u=(0,a.resolveComponent)("q-card-actions"),p=(0,a.resolveComponent)("q-separator"),h=(0,a.resolveComponent)("q-card"),C=(0,a.resolveComponent)("q-input"),v=(0,a.resolveComponent)("q-select"),f=(0,a.resolveComponent)("q-btn"),N=(0,a.resolveComponent)("q-footer"),V=(0,a.resolveComponent)("q-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",BG,[(0,a.createVNode)(V,{onSubmit:l.enviarWhatsapp},{default:(0,a.withCtx)((()=>[LG,(0,a.createElementVNode)("div",OG,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.cartItems,(o=>((0,a.openBlock)(),(0,a.createBlock)(h,{key:o,class:"q-ma-xs q-mb-sm no-shadow itemcard",style:{"border-radius":"0"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",zG,[(0,a.createElementVNode)("div",jG,[(0,a.createVNode)(s,{imagem:o.imagem,tamanho:"40"},null,8,["imagem"])]),(0,a.createVNode)(c,{class:"bg-transparent col q-pr-none q-py-none",color:"black",dark:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("span",$G,(0,a.toDisplayString)(o.name),1)])),_:2},1024)])),_:2},1024)]),(0,a.createVNode)(u,{class:"text-center no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",UG,[(0,a.createVNode)(d,{min:"1",tipo:"quantidade",dense:"",borderless:"",modelValue:o.qtd,"onUpdate:modelValue":e=>o.qtd=e},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[ZG])),_:1})]),(0,a.createElementVNode)("strong",QG,[(0,a.createTextVNode)("R$"+(0,a.toDisplayString)(e.$filters.numero(o.price*o.qtd,2))+" ",1),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[RG])),_:1})])])),_:2},1024),(0,a.createVNode)(p)])),_:2},1024)))),128)),(0,a.createElementVNode)("div",GG,[HG,(0,a.createElementVNode)("div",JG,[YG,(0,a.createVNode)(C,{dense:"",color:"tertiary",modelValue:r.campos.nome,"onUpdate:modelValue":o[0]||(o[0]=e=>r.campos.nome=e),label:"Nome *",hint:"Name and surname","lazy-rules":"",rules:[e=>e&&e.length>0||"Informe seu nome"]},null,8,["modelValue","rules"]),(0,a.createVNode)(C,{dense:"",color:"tertiary",modelValue:r.campos.email,"onUpdate:modelValue":o[1]||(o[1]=e=>r.campos.email=e),label:"E-mail *",hint:"Name and surname","lazy-rules":"",rules:[e=>e&&e.length>0||"Informe seu e-mail"]},null,8,["modelValue","rules"]),(0,a.createVNode)(C,{dense:"",color:"tertiary",modelValue:r.campos.telefone,"onUpdate:modelValue":o[2]||(o[2]=e=>r.campos.telefone=e),label:"Telefone *",hint:"Name and surname","lazy-rules":"",rules:[e=>e&&e.length>0||"Informe seu telefone"]},null,8,["modelValue","rules"]),(0,a.createVNode)(C,{dense:"",color:"tertiary",modelValue:r.campos.endereco,"onUpdate:modelValue":o[3]||(o[3]=e=>r.campos.endereco=e),label:"Endereço *",hint:"Name and surname","lazy-rules":"",rules:[e=>e&&e.length>0||"Informe seu endereco"]},null,8,["modelValue","rules"]),(0,a.createVNode)(v,{modelValue:r.campos.pagamento,"onUpdate:modelValue":o[4]||(o[4]=e=>r.campos.pagamento=e),options:t.formasPagamento,label:"Formas de Pagamento",rules:[e=>e&&e.length>0||"Escolha uma forma de pagamento"],dense:""},null,8,["modelValue","options","rules"])])])]),(0,a.createVNode)(N,{color:"primary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",XG,[(0,a.createElementVNode)("div",WG,(0,a.toDisplayString)(r.cartItems.reduce(((e,o)=>e+o.qtd),0))+" itens",1),(0,a.createElementVNode)("strong",KG," R$ "+(0,a.toDisplayString)(e.$filters.numero(r.cartItems.reduce(((e,o)=>e+o.qtd*o.price),0),2)),1)])])),_:1}),(0,a.createVNode)(f,{label:"ENVIAR",color:"white","text-color":"primary",type:"submit",unelevated:""})])),_:1})])),_:1})])),_:1},8,["onSubmit"])])}],["__scopeId","data-v-0cd1bde7"]]);Z()(eH,"components",{QIcon:L.Z,QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QCardActions:ag.Z,QField:Sp.Z,QTooltip:Ao.Z,QFooter:Te.Z,QBtn:H.Z,QForm:fo.Z,QSeparator:$.Z,QInput:re.Z,QSelect:al.Z});const tH=["src","alt"],aH={name:"BarraTopoEmpresa",data:()=>({contatoTelefone:{}}),props:{contatoPrincipal:{required:!0,type:Object}},methods:{async atualizar(){},abrirTelefone(e){if(!e.telefone)return;const o="WhatsApp"===e.tipoTelefone?"https://api.whatsapp.com/send?phone=":"tel:+";this.abrirURL(o+this.formatarTelefone(e.telefone))},goToHome(){let e="/page/"+this.$route.params.banco;this.$router.push(e)},abrirURL:Tp.Z,formatarTelefone:e=>e||"string"==typeof e?"55"+e.replace(/\D/g,"").replace(/^55/,""):e,goToAnchor(e){let o=document.getElementById(e).offsetTop+120;window.scroll({top:o,behavior:"smooth"})}},watch:{contatoPrincipal(){this.atualizar()}},mounted(){this.atualizar()}},iH=(0,T.Z)(aH,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-tab"),c=(0,a.resolveComponent)("q-tabs"),d=(0,a.resolveComponent)("q-toolbar");return(0,a.openBlock)(),(0,a.createBlock)(d,{color:"transparent",class:"q-pa-none cliente",style:{"min-height":"auto !important"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("img",{src:t.contatoPrincipal.imagem,alt:t.contatoPrincipal.nome,height:"80",class:"imgavatar"},null,8,tH)])),_:1}),(0,a.createVNode)(c,{modelValue:e.tab,"onUpdate:modelValue":o[0]||(o[0]=o=>e.tab=o),"outside-arrows":"","mobile-arrows":"",class:"bg-transparent text-primary no-shadow q-my-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{name:"mails",icon:"mdi-whatsapp",label:"1699999999 "}),(0,a.createVNode)(n,{name:"alarms",icon:"mdi-beer",label:"Produtos"}),(0,a.createVNode)(n,{name:"movies",icon:"mdi-map-marker",label:"Endereço"})])),_:1},8,["modelValue"])])),_:1})}],["__scopeId","data-v-006aca09"]]);Z()(aH,"components",{QToolbar:O.Z,QToolbarTitle:G.Z,QTabs:ko.Z,QTab:Do.Z});var rH=t(36709),lH=t.n(rH),sH=t(21001),nH=t.n(sH),cH=t(56682),dH=t.n(cH),mH=t(74419),uH=t.n(mH);const pH=e=>((0,a.pushScopeId)("data-v-3f30007d"),e=e(),(0,a.popScopeId)(),e),hH=["src"],CH=pH((()=>(0,a.createElementVNode)("footer",{class:"text-white q-py-md"},[(0,a.createElementVNode)("div",{class:"u-container"},[(0,a.createElementVNode)("div",{class:"row"},[(0,a.createElementVNode)("div",{class:"col-12"},[(0,a.createElementVNode)("div",{class:"text-h5 q-mx-md q-mb-none text-center"},[(0,a.createElementVNode)("img",{src:lH(),alt:"",height:"28",class:"q-mx-sm",style:{"margin-bottom":"-6px"}}),(0,a.createElementVNode)("img",{src:nH(),alt:"",height:"28",class:"q-mx-sm",style:{"margin-bottom":"-6px"}}),(0,a.createElementVNode)("img",{src:dH(),alt:"",height:"28",class:"q-mx-sm",style:{"margin-bottom":"-6px"}}),(0,a.createElementVNode)("img",{src:uH(),alt:"",height:"28",class:"q-mx-sm",style:{"margin-bottom":"-6px"}})])])])])],-1))),vH={class:"copy text-tertiary q-caption q-py-md q-pb-xl q-mb-xl"},fH={class:"u-container"},NH={class:"col-12 col-md-8"},VH={class:"q-mb-none q-mx-md"},gH={key:0},xH=pH((()=>(0,a.createElementVNode)("p",{class:"q-mb-none q-mx-md"},[(0,a.createTextVNode)(" Nosso site usa cookies para melhorar a navegação. "),(0,a.createElementVNode)("a",{href:"https://www.b15.com.br/politica-de-privacidade/",target:"_blank",style:{color:"black"}},"Politica de privacidade")],-1))),bH=pH((()=>(0,a.createElementVNode)("div",{class:"col-12 col-md-4 assinatura"},[(0,a.createElementVNode)("p",{class:"q-mb-none items-center"},[(0,a.createTextVNode)("Ecosistema "),(0,a.createElementVNode)("img",{class:"q-ml-xs",style:{"margin-bottom":"-7px"},src:xA(),alt:"",height:"25"})])],-1))),wH={name:"FooterSite",data:()=>({visible:!0,contatoEndereco:[],enderecoCompleto:""}),props:{contatoPrincipal:{required:!0,type:Object}},methods:{aceito(){this.visible=!1,localStorage.setItem("politica","aceito")}},watch:{contatoPrincipal(){console.log("politica",localStorage.getItem("politica")),localStorage.getItem("politica")&&(this.visible=!1),this.contatoTelefone=this.contatoPrincipal.telefone.filter((e=>"WhatsApp"===e.tipoTelefone))[0],this.contatoEndereco=this.contatoPrincipal.endereco,this.enderecoCompleto=this.contatoEndereco[0].logradouro+", ",this.enderecoCompleto+=this.contatoEndereco[0].numero+", ",this.enderecoCompleto+=this.contatoEndereco[0].complemento+", ",this.enderecoCompleto+=this.contatoEndereco[0].bairro+", ",this.enderecoCompleto+=this.contatoEndereco[0].municipio+"-",this.enderecoCompleto+=this.contatoEndereco[0].uf}}},_H=(0,T.Z)(wH,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("row");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("iframe",{src:"https://www.google.com/maps?q="+r.enderecoCompleto+"&output=embed",width:"600",height:"450",frameborder:"0",style:{border:"0",width:"100%"},allowfullscreen:"","aria-hidden":"false",tabindex:"0"},null,8,hH),CH,(0,a.createElementVNode)("div",vH,[(0,a.createElementVNode)("div",fH,[(0,a.createVNode)(s,{class:"items-center justify-center"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",NH,[(0,a.createElementVNode)("p",VH,[(0,a.createTextVNode)((0,a.toDisplayString)(t.contatoPrincipal.numeroDocumentoNacional)+" ",1),r.enderecoCompleto?((0,a.openBlock)(),(0,a.createElementBlock)("span",gH,"/")):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(r.enderecoCompleto),1)]),xH]),bH])),_:1})])])],64)}],["__scopeId","data-v-3f30007d"]]),yH={components:{FooterSite:_H,BarraTopoEmpresa:iH,CarrinhoCompras:oH},computed:{},data:()=>({slide:(0,a.ref)("1"),dados:{},banco:"",contatos:[],contatoPrincipal:{telefone:{}},visible:!0,gruposItens:{},filterSelect:"",filterOptions:[],opened:!1,openedM:!1,openedC:!1,openedF:!1,mostrarLogo:!1,qtd:{},contato:[],contatoEndereco:[],contatoTelefone:[],formasPagamento:[],item:[],cartItems:[],address:"",state:!0,carregando:!0,tabs:""}),methods:{updateCart(e,o){this.$refs.carrinho.atualizarCarrinho(e,o)},carrinhoAtualizado(e){this.cartItems=e,this.cartItems.forEach((e=>{this.qtd[e.cod]=e.qtd}))},criarSlug:e=>(0,Fo.removerAcentos)(e.replace(" ","")),onFilterChange(){this.goToAnchor(this.filterSelect)},goToAnchor(e){document.getElementById(e).scrollIntoView({behavior:"smooth"})},async atualizar(){this.banco="Demo_Ricardo","/ricardo"===this.$route.path&&(this.banco="Demo_Ricardo"),"/capotabebidas"===this.$route.path&&(this.banco="CapotaBebidasSP");let e=await this.$utils.geeksApi({site:{funcao:"84C328A7-CEA7-4762-A703-C59DE8D53BF5"}},{bancoDeDados:this.banco,convidado:!0});this.dados=e.data.site,e=e.data.site,this.carregando=!1;let o=(await this.$utils.geeksApi({contato:{funcao:"010B5481-B61E-47A4-9557-20A0763B5F8E"}},{bancoDeDados:this.banco,convidado:!0})).data.contato,t=[],a={};for(let a in e.empresas)t.push(o.filter((o=>o.id===e.empresas[a].idContato))[0]);for(let t in e.empresas)e.empresas[t].principal&&(a=o.filter((o=>o.id===e.empresas[t].idContato))[0]);this.contatoPrincipal=a,this.contatos=t,e.formasPagamento.map((e=>{e.ativoSite&&this.formasPagamento.push({rotulo:e.descricao,valor:e.id})}));let i=(await this.$utils.geeksApi({site:{funcao:"6AA367D8-5683-48B5-8F35-75B4FF37DEFD"}},{bancoDeDados:this.banco,convidado:!0})).data.site;console.log({todosItens:i}),this.montarGrupos(i),window.innerWidth>990&&this.cartItems.length>0?(console.log("if if if"),this.openedF=!0):this.openedF=!1,console.log("this.cartItems.length",this.cartItems.length),console.log("this.openedF",this.openedF)},async montarGrupos(e){let o=[];this.dados.itens.map((async t=>{o.push(e.filter((e=>e.id===t))[0])})),this.item=o,e=(0,Ee.orderBy)(this.item,"descricao","asc");let t={};e.map((e=>{const o=e?.grupo||"Outros";t[o]||(t[o]=[],this.filterOptions.push({label:o,value:this.criarSlug(o)})),t[o].push(e)})),this.gruposItens=t,console.log("gruposItens",this.gruposItens);for(const e of o.map((e=>e.codigoItem)))this.qtd[e]=0;this.cartItems.forEach((e=>{this.qtd[e.cod]=e.qtd}))},userHasScrolled(e){window.innerWidth>768?this.mostrarLogo=e.position>=102:this.mostrarLogo=!0},goToItem(e){this.$router.push({name:"ClubProdutoSingle",params:{id:e}})}},created(){console.log("ClubSingle created"),this.atualizar()},watch:{cartItems(e,o){for(const e of o.map((e=>e.cod)))this.qtd[e]=0;e.forEach((e=>{this.qtd[e.cod]=e.qtd}))}}},IH=(0,T.Z)(yH,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-spinner-dots"),n=(0,a.resolveComponent)("q-select"),c=(0,a.resolveComponent)("q-btn"),d=(0,a.resolveComponent)("q-btn-group"),m=(0,a.resolveComponent)("q-header"),u=(0,a.resolveComponent)("carrinho-compras"),p=(0,a.resolveComponent)("q-drawer"),h=(0,a.resolveComponent)("q-scroll-observable"),C=(0,a.resolveComponent)("BarraTopoEmpresa"),v=(0,a.resolveComponent)("q-carousel-slide"),f=(0,a.resolveComponent)("q-carousel"),N=(0,a.resolveComponent)("q-card-section"),V=(0,a.resolveComponent)("q-separator"),g=(0,a.resolveComponent)("campo"),x=(0,a.resolveComponent)("q-tooltip"),b=(0,a.resolveComponent)("q-toolbar-title"),w=(0,a.resolveComponent)("q-toolbar"),_=(0,a.resolveComponent)("q-card-actions"),y=(0,a.resolveComponent)("q-card"),I=(0,a.resolveComponent)("row"),E=(0,a.resolveComponent)("FooterSite"),S=(0,a.resolveComponent)("q-page"),M=(0,a.resolveComponent)("q-page-container"),T=(0,a.resolveComponent)("q-footer"),k=(0,a.resolveComponent)("q-layout");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[r.carregando?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,color:"primary",size:"10em"})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(k,{class:"Club",id:"ClubeSingle",view:"lHr lpR lFr"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{bordered:"",class:"topbar"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",gG,[(0,a.createVNode)(n,{class:"hideondesktop no-shadow",dark:"",color:"transparent",modelValue:r.filterSelect,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.filterSelect=e),l.onFilterChange],dense:"",borderless:"",options:r.filterOptions,label:"Filtrar produtos por:"},null,8,["modelValue","options","onUpdate:modelValue"]),r.mostrarLogo?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,class:"no-shadow hideonmobile"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.filterOptions,((e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:o},[(0,a.createVNode)(c,{label:r.filterOptions[o].label,flat:"","text-color":"white",onClick:e=>l.goToAnchor(r.filterOptions[o].value)},null,8,["label","onClick"])])))),128))])),_:1}))])])),_:1}),(0,a.createVNode)(p,{"show-if-above":"",modelValue:r.openedF,"onUpdate:modelValue":o[1]||(o[1]=e=>r.openedF=e),side:"right",bordered:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{ref:"carrinho",onCarrinhoAtualizado:l.carrinhoAtualizado,formasPagamento:r.formasPagamento,contatoPrincipal:r.contatoPrincipal,banco:r.banco},null,8,["onCarrinhoAtualizado","formasPagamento","contatoPrincipal","banco"])])),_:1},8,["modelValue"]),(0,a.createVNode)(M,{style:{"padding-top":"0 !important"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,{style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",xG,[(0,a.createVNode)(h,{onScroll:l.userHasScrolled},null,8,["onScroll"]),(0,a.createVNode)(C,{contatoPrincipal:r.contatoPrincipal},null,8,["contatoPrincipal"])]),(0,a.createVNode)(f,{modelValue:r.slide,"onUpdate:modelValue":o[2]||(o[2]=e=>r.slide=e),"transition-prev":"scale","transition-next":"scale",swipeable:"",animated:"","control-color":"white",navigation:"",padding:"",arrows:"",height:"480px",class:"bg-primary text-white shadow-1 rounded-borders"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{name:"1",class:"column no-wrap flex-center","img-src":VG()}),(0,a.createVNode)(v,{name:"2",class:"column no-wrap flex-center","img-src":VG()}),(0,a.createVNode)(v,{name:"3",class:"column no-wrap flex-center","img-src":VG()})])),_:1},8,["modelValue"]),(0,a.createElementVNode)("div",bG,[(0,a.createElementVNode)("div",wG,[(0,a.createElementVNode)("div",_G,[(0,a.createElementVNode)("div",yG,(0,a.toDisplayString)(r.dados.slogan),1),(0,a.createElementVNode)("div",IG,(0,a.toDisplayString)(r.dados.descricao),1)]),(0,a.createElementVNode)("div",EG,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.gruposItens,((o,t)=>((0,a.openBlock)(),(0,a.createElementBlock)("section",{key:t,id:l.criarSlug(t),class:"q-pt-md"},[(0,a.createElementVNode)("div",MG,(0,a.toDisplayString)(t),1),(0,a.createVNode)(I,{class:"q-col-gutter-md items-stretch q-py-md products"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o,(o=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"col-12 col-sm-4 col-md-2 q-mb-md",key:o.id},[(0,a.createVNode)(y,{class:"bg-white full-height q-pa-none"},{default:(0,a.withCtx)((()=>[o.imagem?((0,a.openBlock)(),(0,a.createBlock)(N,{key:0,class:"full-width q-pa-none self-start cursor-pointer arredondadoT",onClick:e=>l.goToItem(o.id)},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("img",{src:o.imagem,style:{width:"100%",margin:"0 auto",display:"block"},class:"arredondadoT"},null,8,TG)])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(N,{class:"q-my-none q-py-xs full-width self-start cursor-pointer",style:{"min-height":"50px"},onClick:e=>l.goToItem(o.id)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.descricao),1)])),_:2},1032,["onClick"]),(0,a.createVNode)(N,{class:"full-width q-py-xs self-start text-right cursor-pointer",click:"goToItem(item.id)"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("p",kG,[(0,a.createElementVNode)("strong",null,"R$ "+(0,a.toDisplayString)(e.$filters.numero(o.valorVenda,2)),1)])])),_:2},1024),(0,a.createVNode)(_,{class:"self-end full-width q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"full-width"}),(0,a.createVNode)(w,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{class:"q-px-none text-left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{min:"0",tipo:"quantidade",borderless:"",modelValue:r.qtd[o.codigoItem],"onUpdate:modelValue":[e=>r.qtd[o.codigoItem]=e,e=>l.updateCart(o,r.qtd[o.codigoItem])],dense:""},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[DG])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])))),128))])),_:2},1024)],8,SG)))),128))])])]),(0,a.createVNode)(E,{"contato-principal":r.contatoPrincipal,id:"mapaD"},null,8,["contato-principal"])])),_:1})])),_:1}),r.openedF?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(T,{key:0,bordered:"",color:"primary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",qG,[(0,a.createElementVNode)("div",FG,(0,a.toDisplayString)(r.cartItems.reduce(((e,o)=>e+o.qtd),0))+" itens",1),(0,a.createElementVNode)("div",PG,"R$ "+(0,a.toDisplayString)(e.$filters.numero(r.cartItems.reduce(((e,o)=>e+o.qtd*o.price),0),2)),1)])])),_:1}),(0,a.createVNode)(c,{label:"Finalizar",color:"white","text-color":"primary",onClick:o[3]||(o[3]=e=>r.openedF=!r.openedF),unelevated:""})])),_:1})])),_:1}))])),_:1})],64)}],["__scopeId","data-v-3d6cf6be"]]);Z()(yH,"components",{QSpinnerDots:Gh.Z,QLayout:ae.Z,QHeader:ie.Z,QSelect:al.Z,QBtnGroup:JM.Z,QBtn:H.Z,QDrawer:YM.Z,QPageContainer:le.Z,QPage:se.Z,QCarousel:_L.Z,QCarouselSlide:yL.Z,QCard:D.Z,QCardSection:q.Z,QCardActions:ag.Z,QSeparator:$.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QTooltip:Ao.Z,QFooter:Te.Z,QField:Sp.Z});const EH={class:"u-container q-px-none"},SH={class:"u-container q-px-none"},MH={class:"q-display-1 text-primary q-pl-sm q-mt-xl"},TH={class:"text-h5 text-tertiary q-pl-sm"},kH={class:"row q-my-lg"},DH={class:"col-12 col-md-6 col-lg-4"},qH=["src"],FH={class:"col-12 col-md-6 col-lg-8 text-tertiary text-subtitle1"},PH={class:"text-body2 q-px-md",style:{"white-space":"pre-line"}},AH=(0,a.createElementVNode)("p",{class:"text-tertiary q-mb-none",style:{"text-decoration":"line-through"},hidden:""},"De R$ 50,00",-1),BH={class:"q-display-1 text-primary"},LH=(0,a.createElementVNode)("small",{class:"q-title",hidden:""},"por ",-1),OH=(0,a.createElementVNode)("p",{class:"text-tertiary q-mb-none",hidden:""},"em até 10x de R$ 3,50 sem juros",-1),zH=(0,a.createTextVNode)("Quantidade"),jH={color:"transparent",class:"q-px-sm q-mt-sm q-mb-none hideondesktop"},$H=(0,a.createElementVNode)("p",{class:"text-tertiary q-mb-none",style:{"text-decoration":"line-through"}},"De R$ 50,00",-1),UH=(0,a.createElementVNode)("div",{class:"q-display-1 text-primary"},[(0,a.createElementVNode)("small",{class:"q-title"},"por "),(0,a.createElementVNode)("strong",null,"R$ 35,00")],-1),ZH=(0,a.createElementVNode)("p",{class:"text-tertiary q-mb-none"},"em até 10x de R$ 3,50 sem juros",-1),QH=(0,a.createTextVNode)("Quantidade"),RH={class:"q-title text-primary q-mt-xl q-mb-sm q-pl-sm"},GH=(0,a.createTextVNode)(" Compre junto: "),HH={class:"row q-mb-lg"},JH=["src"],YH={class:"text-h5 q-mb-none"},XH=(0,a.createTextVNode)("Quantidade"),WH={class:"row"},KH={class:"text-body1 q-mr-sm"},eJ={class:"text-body1 q-mr-sm"},oJ=(0,a.createElementVNode)("div",{class:"text-subtitle1 text-white"},"Minha empresa",-1),tJ=(0,a.createElementVNode)("div",{class:"text-subtitle1 text-white"},"Cadastre-se",-1),aJ={components:{Campo:L_.Z,BarraTopoEmpresa:iH,FooterSite:_H,CarrinhoCompras:oH},computed:{},data:()=>({filterSelect:"",filterOptions:[],opened:!1,openedM:!1,openedC:!1,openedF:!1,mostrarLogo:!1,qtd:{},dados:{},dadosE:{},contato:[],contatoEndereco:[],contatoTelefone:[],formasPagamento:[],item:[],cartItems:[],address:"",product:[],upSell:[],id:"",contatoPrincipal:{telefone:{}}}),methods:{updateCart(e,o,t,a,i){const r=this.cartItems.findIndex((o=>o.cod===e));-1!==r?0===t?this.cartItems=this.cartItems.filter((o=>o.cod!==e)):this.cartItems[r].qtd=t:this.cartItems.push({cod:e,name:o,qtd:t,price:a,imagem:i}),localStorage.setItem("cartItemsStoraged",JSON.stringify(this.cartItems))},async atualizar(){let e=(await this.$utils.geeksApi({contato:{funcao:"010B5481-B61E-47A4-9557-20A0763B5F8E"}},{bancoDeDados:this.banco,convidado:!0})).data.contato,o=[],t={},a=await this.$utils.geeksApi({site:{funcao:"84C328A7-CEA7-4762-A703-C59DE8D53BF5"}},{bancoDeDados:this.banco,convidado:!0});this.dadosE=a.data.site,a=a.data.site;for(let t in a.empresas)o.push(e.filter((e=>e.id===a.empresas[t].idContato))[0]);for(let o in a.empresas)a.empresas[o].principal&&(t=e.filter((e=>e.id===a.empresas[o].idContato))[0]);console.log("dadosE",a),this.contatoPrincipal=t,this.contatos=o,a.formasPagamento.map((e=>{e.ativoSite&&this.formasPagamento.push({rotulo:e.descricao,valor:e.id})}));const i=await this.$utils.geeksApi({clubsingle:{funcao:"D0405D75-055F-4202-80CE-76CBDF8EE0A7"}});this.cartItems.forEach((e=>{this.qtd[e.cod]=e.qtd}));let r=0;this.item=i.data.clubsingle.item.reduce(((e,o)=>(""!==o.Grupo&&(e[o.Grupo]=[...e[o.Grupo]||[],o],r<4&&""!==o.Imagem&&"2"!==o.CodigoItem&&(this.upSell.push(o),r++)),e)),{}),console.log("this.upSell",this.upSell),this.product=i.data.clubsingle.item.find(((e,o)=>"2"===e.CodigoItem)),console.log("this.product",this.product),this.contato=i.data.clubsingle.contato,console.log("this.contato",this.contato),this.contatoEndereco=i.data.clubsingle.contatoEndereco,this.address=this.contatoEndereco[0].Logradouro+", ",this.address+=this.contatoEndereco[0].Numero+", ",this.address+=this.contatoEndereco[0].Complemento+", ",this.address+=this.contatoEndereco[0].Bairro+", ",this.address+=this.contatoEndereco[0].Municipio+"-",this.address+=this.contatoEndereco[0].UF,console.log("this.address",this.address),this.contatoTelefone=i.data.clubsingle.contatoTelefone,console.log("this.contatoTelefone",this.contatoTelefone)},abrirClub(){this.opened=!0,console.log(this.opened)},userHasScrolled(e){this.mostrarLogo=e.position>=102},goTo(e){this.$router.push(e)}},async created(){await this.atualizar()}},iJ=(0,T.Z)(aJ,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-header"),m=(0,a.resolveComponent)("carrinho-compras"),u=(0,a.resolveComponent)("q-drawer"),p=(0,a.resolveComponent)("q-scroll-observable"),h=(0,a.resolveComponent)("BarraTopoEmpresa"),C=(0,a.resolveComponent)("campo"),v=(0,a.resolveComponent)("q-tooltip"),f=(0,a.resolveComponent)("q-field"),N=(0,a.resolveComponent)("q-card-section"),V=(0,a.resolveComponent)("q-separator"),g=(0,a.resolveComponent)("q-card-actions"),x=(0,a.resolveComponent)("q-card"),b=(0,a.resolveComponent)("FooterSite"),w=(0,a.resolveComponent)("q-page"),_=(0,a.resolveComponent)("q-page-container"),y=(0,a.resolveComponent)("q-footer"),I=(0,a.resolveComponent)("q-input"),E=(0,a.resolveComponent)("q-dialog"),S=(0,a.resolveComponent)("q-layout"),M=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(S,{class:"Club",id:"ClubeSingle",view:"lHr lpR lFr"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"topbar"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",EH,[(0,a.createVNode)(c,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-px-none hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(a.Transition,{name:"fade"},{default:(0,a.withCtx)((()=>[r.mostrarLogo?((0,a.openBlock)(),(0,a.createElementBlock)("img",{key:0,src:VC(),alt:"",height:"28",onClick:o[0]||(o[0]=e=>l.goTo("/club"))})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createVNode)(n,{flat:"",color:"white",label:"Minha empresa",class:"q-mx-sm",onClick:o[1]||(o[1]=e=>r.openedM=!0)}),(0,a.createVNode)(n,{color:"white",flat:"",label:"Cadastre-se",class:"q-mx-sm hideonmobile",onClick:o[2]||(o[2]=e=>r.openedC=!0)}),(0,a.createVNode)(n,{color:"white","text-color":"primary",label:"Entrar",class:"q-mx-sm",onClick:o[3]||(o[3]=o=>e.openURL("https://app.b15.com.br"))})])),_:1})])])),_:1}),(0,a.createVNode)(u,{"show-if-above":"",modelValue:r.openedF,"onUpdate:modelValue":o[4]||(o[4]=e=>r.openedF=e),side:"right",bordered:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{ref:"carrinho",onCarrinhoAtualizado:e.carrinhoAtualizado,formasPagamento:r.formasPagamento,contatoPrincipal:r.contatoPrincipal,banco:e.banco},null,8,["onCarrinhoAtualizado","formasPagamento","contatoPrincipal","banco"])])),_:1},8,["modelValue"]),(0,a.createVNode)(_,{style:{"padding-top":"0 !important"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",SH,[(0,a.createVNode)(p,{onScroll:l.userHasScrolled},null,8,["onScroll"]),(0,a.createVNode)(h,{contatoPrincipal:r.contatoPrincipal},null,8,["contatoPrincipal"]),(0,a.createElementVNode)("div",MH,[(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(r.product.Descricao),1)]),(0,a.createElementVNode)("div",TH,(0,a.toDisplayString)(r.product.Marca),1),(0,a.createElementVNode)("div",kH,[(0,a.createElementVNode)("div",DH,[(0,a.createElementVNode)("img",{src:r.product.Imagem,style:{width:"100%"}},null,8,qH)]),(0,a.createElementVNode)("div",FH,[(0,a.createElementVNode)("pre",PH,(0,a.toDisplayString)(r.product.Observacao),1),(0,a.createVNode)(c,{color:"transparent",class:"q-px-md q-my-lg hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[AH,(0,a.createElementVNode)("div",BH,[LH,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.$filters.numero(r.product.ValorVenda,2)),1)]),OH])),_:1}),(0,a.createVNode)(f,{class:"col-3 q-px-sm",style:{"margin-top":"-18px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{min:"0",tipo:"quantidade","onUpdate:modelValue":[o[5]||(o[5]=e=>l.updateCart(r.product.CodigoItem,r.product.Descricao,r.qtd[r.product.CodigoItem],r.product.ValorVenda,r.product.Imagem)),o[6]||(o[6]=e=>r.qtd[r.product.CodigoItem]=e)],borderless:"",modelValue:r.qtd[r.product.CodigoItem]},null,8,["modelValue"]),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[zH])),_:1})])),_:1})])),_:1}),(0,a.createElementVNode)("div",jH,[$H,UH,ZH,(0,a.createVNode)(f,{class:"q-px-sm q-mt-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{min:"0",tipo:"quantidade",borderless:"",modelValue:r.qtd,"onUpdate:modelValue":[o[7]||(o[7]=e=>r.qtd=e),o[8]||(o[8]=e=>l.updateCart(r.item,r.qtd[r.item.CodigoItem]))]},null,8,["modelValue"]),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[QH])),_:1})])),_:1})])])]),(0,a.createElementVNode)("div",RH,[(0,a.createVNode)(n,{color:"primary",dense:"",flat:"",icon:"mdi-shopping",round:"",size:"xl",disabled:""}),GH]),(0,a.createElementVNode)("div",HH,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.upSell,(o=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"col-12 col-md-3 q-mb-md",key:o.id},[(0,a.createVNode)(x,{class:"q-ma-sm bg-white full-height q-pa-none"},{default:(0,a.withCtx)((()=>[o.Imagem?((0,a.openBlock)(),(0,a.createBlock)(N,{key:0,class:"full-width q-pa-none self-start cursor-pointer arredondadoT"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("img",{src:o.Imagem,style:{width:"100%",margin:"0 auto",display:"block"},class:"arredondadoT"},null,8,JH)])),_:2},1024)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(N,{class:"q-my-none q-py-xs full-width self-start cursor-pointer"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.Descricao),1)])),_:2},1024),(0,a.createVNode)(N,{class:"full-width q-py-xs self-start text-right cursor-pointer"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("p",YH,[(0,a.createElementVNode)("strong",null,"R$ "+(0,a.toDisplayString)(e.$filters.numero(o.ValorVenda,2)),1)])])),_:2},1024),(0,a.createVNode)(g,{class:"self-end full-width q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"full-width"}),(0,a.createVNode)(c,{color:"none",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-px-none text-left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{min:"0",tipo:"quantidade",borderless:"",modelValue:r.qtd[o.CodigoItem],"onUpdate:modelValue":[e=>r.qtd[o.CodigoItem]=e,e=>l.updateCart(o,r.qtd[o.CodigoItem])],dense:""},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[XH])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])))),128))])]),(0,a.createVNode)(b,{"contato-principal":r.contatoPrincipal,id:"mapaD"},null,8,["contato-principal"])])),_:1})])),_:1}),r.cartItems.length&&!1===r.openedF?((0,a.openBlock)(),(0,a.createBlock)(y,{key:0,bordered:"",color:"primary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",WH,[(0,a.createElementVNode)("div",KH,(0,a.toDisplayString)(r.cartItems.reduce(((e,o)=>e+o.qtd),0))+" itens",1),(0,a.createElementVNode)("div",eJ,"R$ "+(0,a.toDisplayString)(e.$filters.numero(r.cartItems.reduce(((e,o)=>e+o.qtd*o.price),0),2)),1)])])),_:1}),(0,a.createVNode)(n,{label:"Finalizar",color:"white","text-color":"primary",onClick:o[9]||(o[9]=e=>r.openedF=!r.openedF),unelevated:""})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(E,{modelValue:r.openedM,"onUpdate:modelValue":o[10]||(o[10]=e=>r.openedM=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{class:"bg-light col-12 col-md-8 col-lg-6",style:{"min-width":"320px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"text-white bg-primary"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",color:"white",icon:"arrow_back",round:""},null,512),[[M]]),oJ])),_:1}),(0,a.createVNode)(N,{class:"layout-padding q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{color:"tertiary",label:"Login"}),(0,a.createVNode)(I,{color:"tertiary",label:"Senha"}),(0,a.createVNode)(n,{color:"primary",label:"Enviar",class:"q-mt-sm"})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(E,{modelValue:r.openedC,"onUpdate:modelValue":o[11]||(o[11]=e=>r.openedC=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{class:"bg-light col-12 col-md-8 col-lg-6",style:{"min-width":"320px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"text-white bg-primary"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",color:"white",icon:"arrow_back",round:""},null,512),[[M]]),tJ])),_:1}),(0,a.createVNode)(N,{class:"layout-padding q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{color:"tertiary",label:"Nome"}),(0,a.createVNode)(I,{color:"tertiary",label:"E-mail"}),(0,a.createVNode)(I,{color:"tertiary",label:"Telefone"}),(0,a.createVNode)(I,{color:"tertiary",label:"CPF/CNPJP"}),(0,a.createVNode)(n,{color:"primary",label:"Enviar",class:"q-mt-sm"})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}]]);Z()(aJ,"components",{QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QDrawer:YM.Z,QPageContainer:le.Z,QPage:se.Z,QField:Sp.Z,QTooltip:Ao.Z,QCard:D.Z,QCardSection:q.Z,QCardActions:ag.Z,QSeparator:$.Z,QFooter:Te.Z,QDialog:k.Z,QInput:re.Z}),Z()(aJ,"directives",{ClosePopup:J.Z});const rJ={class:"Pdv",id:"Pdv"},lJ=(0,a.createTextVNode)(" PDV - Caixa {Nome do atendente?} "),sJ=(0,a.createTextVNode)("Buscar Cliente"),nJ=(0,a.createElementVNode)("img",{src:xA(),height:"35",alt:""},null,-1),cJ=(0,a.createElementVNode)("div",{class:"text-subtitle1"},"21/02/2020 - 11:54",-1),dJ=(0,a.createTextVNode)("Buscar excluídos"),mJ=(0,a.createTextVNode)("Importar contatos"),uJ={class:"layout-padding q-pa-none"},pJ={class:"col-12 col-md-3 promocao"},hJ={class:"col-12 col-md-5 catalogo"},CJ={class:"col-12 col-md-4 carrinho"},vJ=(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("div",{class:"text-h6 text-white q-pl-xs"},"Venda")],-1),fJ={class:"col-auto"},NJ={class:"col-auto",style:{"align-items":"center",display:"flex","justify-content":"center"}},VJ={class:"col"},gJ={class:"text-caption text-weight-bold q-pb-none"},xJ=(0,a.createElementVNode)("br",null,null,-1),bJ={class:"col"},wJ={class:"text-caption"},_J={class:"col-5 col-md-4"},yJ=(0,a.createTextVNode)("Quantidade"),IJ={class:"col text-right"},EJ={class:"text-caption"},SJ=(0,a.createTextVNode)("Subtotal"),MJ={class:"col-auto"},TJ=(0,a.createTextVNode)("Editar Item"),kJ=(0,a.createElementVNode)("br",null,null,-1),DJ=(0,a.createTextVNode)("Remover Item"),qJ={class:"q-px-sm q-mr-sm q-mb-xs"},FJ=(0,a.createTextVNode)(" Consumidor "),PJ=(0,a.createTextVNode)("Buscar contato"),AJ=(0,a.createTextVNode)("Criar contato"),BJ={class:"col-12 col-md-12"},LJ={class:"col-12 col-md-6"},OJ={class:"col-12 col-md-6"},zJ=(0,a.createTextVNode)(" Data de Emissão "),jJ=(0,a.createTextVNode)(" 04/05/2021 "),$J={class:"col-12 col-md-6"},UJ={class:"col-12 col-md-6"},ZJ=(0,a.createTextVNode)(" Digitador "),QJ=(0,a.createTextVNode)(" Digitador "),RJ=(0,a.createElementVNode)("div",{class:"col-3"},"Subtotal",-1),GJ={class:"col text-right text-weight-bold"},HJ=(0,a.createElementVNode)("div",{class:"col-3"},"Desconto",-1),JJ={class:"col"},YJ={class:"col"},XJ=(0,a.createElementVNode)("div",{class:"col-3"},"Acréscimo",-1),WJ={class:"col"},KJ={class:"col"},eY=(0,a.createElementVNode)("div",{class:"col-3"},"Frete",-1),oY={class:"col"},tY={class:"col"},aY={class:"col-12 col-md-6"},iY={class:"col-12 col-md-6"},rY={class:"col-12 col-md-6"},lY={class:"col-12 col-md-6"},sY={class:"col-12 col-md-12"},nY={class:"col-12 col-md-12"},cY={class:"col-12"},dY=(0,a.createElementVNode)("div",{class:"q-pa-md"},[(0,a.createElementVNode)("div",{class:"text-h4 q-px-sm text-right text-white"},[(0,a.createTextVNode)("Total "),(0,a.createElementVNode)("span",{class:"text-bold"},"R$500,00")])],-1),mY=(0,a.createTextVNode)("Buscar excluídos"),uY=(0,a.createTextVNode)("Importar contatos"),pY=(0,a.createTextVNode)("Escolha a forma de pagamento"),hY={class:"layout-padding q-px-md"},CY={class:"q-title q-my-md text-center"},vY={class:"col-12"},fY={class:"col-12"},NY={class:"col-12"},VY=(0,a.createTextVNode)("Parcelas"),gY={class:"layout-padding q-px-md"},xY={class:"row"},bY=(0,a.createElementVNode)("div",{class:"col-12"},[(0,a.createElementVNode)("div",{class:"q-title q-my-md"}," Quantidade: ")],-1),wY={class:"col-12"},_Y={class:"col-3 q-px-sm q-mb-md"},yY=(0,a.createTextVNode)("Quantidade"),IY=(0,a.createTextVNode)("Finalizar"),EY={class:"layout-padding q-px-md"},SY={class:"row"},MY={class:"col-12"},TY=(0,a.createElementVNode)("div",{class:"q-title q-my-md"}," Gerar comprovante: ",-1),kY=(0,a.createTextVNode)(" Novo Cliente "),DY={class:"layout-padding q-pa-none q-pb-md"},qY={class:"u-container"},FY={class:"text-right"},PY=(0,a.createTextVNode)("#000"),AY={class:"col-12 col-md"},BY={class:"col-12 col-md"},LY={class:"col-12 col-md"},OY=(0,a.createElementVNode)("div",{class:"q-mb-md q-subheading"},"Telefones",-1),zY={class:"u-separador animate-pop"},jY={class:"col-2 col-md-auto"},$Y={class:"col-4 col-md"},UY={class:"col-6 col-md"},ZY={class:"col-10 col-md"},QY={class:"col-2 col-md-auto text-right"},RY=(0,a.createTextVNode)("Excluir"),GY={class:"q-mt-md text-center"},HY=(0,a.createElementVNode)("div",{class:"q-mb-md q-subheading"},"Endereços",-1),JY={class:"u-separador animate-pop"},YY={class:"col-2 col-md-auto"},XY={class:"col-10 col-md-3"},WY={class:"col-12 col-md-2"},KY={class:"col-2 col-md-2"},eX={class:"col-10 col-md"},oX={class:"col-12 col-md-7"},tX={class:"col-12 col-md-2"},aX={class:"col-12 col-md-3"},iX={class:"col-12 col-md-6","error-label":"O bairro está muito curto."},rX={class:"col-12 col-md","error-label":"Insira um país."},lX={class:"col-2 col-md-auto text-right"},sX=(0,a.createTextVNode)("Remover"),nX={class:"q-mt-md text-center"},cX={class:"q-pa-md"},dX={class:"col-12 text-center"},mX=["src"],uX=(0,a.createElementVNode)("div",{class:"col-3"},"Valor",-1),pX={class:"col"},hX=(0,a.createElementVNode)("div",{class:"col-3"},"Desconto",-1),CX={class:"col"},vX={class:"col"},fX=(0,a.createElementVNode)("div",{class:"col-3"},"Subtotal",-1),NX={class:"col"},VX=(0,a.createElementVNode)("div",{class:"col-3"},"Quantidade",-1),gX={class:"col"},xX=(0,a.createElementVNode)("div",{class:"col-3"},"Total",-1),bX={class:"col"},wX={class:"col-12"},_X={class:"col-12 col-md-6 q-mb-md"},yX=(0,a.createElementVNode)("div",{class:"text-weight-bold text-caption"},"Observação",-1),IX={class:"q-item__label",style:{"white-space":"pre-line"}},EX={class:"col-12 col-md-6 q-mb-md"},SX=(0,a.createElementVNode)("div",{class:"text-weight-bold text-caption"},"Aplicação",-1),MX={class:"q-item__label",style:{"white-space":"pre-line"}},TX=(0,a.createElementVNode)("br",null,null,-1),kX={components:{Campo:L_.Z},data:()=>({documentoItem:{},documentoVenda:{},imposto:{},item:{},abaSelecionada:"valores",visivel:!1,estoque:{},tabelaEstoque:{colunas:[{name:"empresa",label:"Empresa",align:"left"},{name:"tipoEstoque",label:"Tipo estoque",align:"right"},{name:"lote",label:"Lote",align:"right"},{name:"quantidade",label:"Quantidade",align:"right"}],paginacao:{page:1,rowsPerPage:5}},historico:{},tabelaHistorico:{colunas:[{name:"documento",label:"Documento",align:"left"},{name:"valorUnitario",label:"Valor Unitário",align:"right"},{name:"quantidade",label:"Quantidade",align:"right"},{name:"valorTotal",label:"Valor Total",align:"right"}],paginacao:{page:1,rowsPerPage:5}}}),emits:["salvar"],methods:{async atualizar(){this.item=await $db.item.le({id:this.documentoItem.idItem});const e=await $utils.impostoV2({documento:this.documentoVenda,documentoItem:this.documentoItem});this.imposto={aliqIpi:$utils.arredondar($lodash.get(e.saida,"pIPI",0)),aliqICMSST:$utils.arredondar($lodash.get(e.saida,"pICMSST",0))};let o=await $erp().documento.where({idContato:this.documentoVenda.idContato}).toArray();o=o.filter((e=>e.id!==this.documentoVenda.id));let t={},a=[];for(const e of o){const o=(await $erp().documentoItem.where({idDocumento:e.id,idItem:this.documentoItem.idItem}).toArray()).find((e=>e.id));o&&(a.push({idDocumento:$lodash.get(o,"idDocumento",""),valorReal:$lodash.get(o,"valorReal",0),valorItem:$lodash.get(o,"valorItem",0),quantidade:$lodash.get(o,"quantidade",0),operacaoFator:$lodash.get(o,"operacaoFator",0),valorRealTotal:$lodash.get(o,"valorRealTotal",0),dataHoraEmissao:$lodash.get(o,"dataHoraEmissao",""),dataHoraFinalizado:$lodash.get(o,"dataHoraFinalizado",""),docDataHoraEmissao:$lodash.get(e,"dataHoraEmissao",""),docDataHoraFinalizado:$lodash.get(e,"dataHoraFinalizado","")}),t[e.id]||(t[e.id]={id:$lodash.get(e,"id",""),tipo:$lodash.get(e,"tipo",""),numero:$lodash.get(e,"numero",""),status:$lodash.get(e,"status",""),dataHoraFinalizado:$lodash.get(e,"dataHoraFinalizado",""),dataHoraEmissao:$lodash.get(e,"dataHoraEmissao","")}))}this.historico.documentos=t,this.historico.documentosItens=$lodash.orderBy(a,["docDataHoraFinalizado","docDataHoraEmissao","dataHoraFinalizado","dataHoraEmissao"],["desc","desc","desc","desc"]);const i=await $db.estoqueSaldoProdutoEmpresa.le({idItem:this.documentoItem.idItem});let r={};for(const e of i)if(!r[e.idEmpresa]){const o=await $db.contato.le({id:e.idEmpresa});o.id&&(r[e.idEmpresa]=o)}this.estoque=i.map((e=>({...e,nomeEmpresa:$lodash.get(r[e.idEmpresa],"nome",""),apelidoEmpresa:$lodash.get(r[e.idEmpresa],"apelido","")})))},async mostrar(){this.visivel=!0},salvar(){this.$emit("salvar",this.documentoItem),this.visivel=!1}}},DX=(0,T.Z)(kX,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-tab"),m=(0,a.resolveComponent)("q-tabs"),u=(0,a.resolveComponent)("campo"),p=(0,a.resolveComponent)("row"),h=(0,a.resolveComponent)("q-tab-panel"),C=(0,a.resolveComponent)("q-td"),v=(0,a.resolveComponent)("q-tr"),f=(0,a.resolveComponent)("q-table"),N=(0,a.resolveComponent)("q-tab-panels"),V=(0,a.resolveComponent)("q-footer"),g=(0,a.resolveComponent)("q-layout"),x=(0,a.resolveComponent)("q-dialog"),b=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(x,{modelValue:r.visivel,"onUpdate:modelValue":o[3]||(o[3]=e=>r.visivel=e),maximized:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{class:"q-layout-modal bg-white",style:{"max-width":"990px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.documentoItem.descricaoItem)+" - "+(0,a.toDisplayString)(r.item.marca),1)])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",icon:"close",round:""},null,512),[[b]])])),_:1}),(0,a.createElementVNode)("div",cX,[(0,a.createElementVNode)("div",dX,[r.item.imagem?((0,a.openBlock)(),(0,a.createElementBlock)("img",{key:0,src:r.item.imagem,alt:"",style:{"max-width":"100%"}},null,8,mX)):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(m,{modelValue:r.abaSelecionada,"onUpdate:modelValue":o[0]||(o[0]=e=>r.abaSelecionada=e),align:"justify",dense:"","indicator-color":"light-blue-4",class:"text-primary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{default:"",name:"valores",icon:"paid",label:"Valores"}),(0,a.createVNode)(d,{default:"",name:"tab1",icon:"info",label:"Detalhes"}),(0,a.createVNode)(d,{name:"tab4",icon:"compare_arrows",label:"Estoque"})])),_:1},8,["modelValue"]),(0,a.createVNode)(N,{modelValue:r.abaSelecionada,"onUpdate:modelValue":o[2]||(o[2]=e=>r.abaSelecionada=e),animated:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"valores",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"q-gutter-x-none q-gutter-y-sm text-tertiary q-mb-sm items-center"},{default:(0,a.withCtx)((()=>[uX,(0,a.createElementVNode)("div",pX,[(0,a.createVNode)(u,{tipo:"decimal",decimals:"2",borderless:"",dense:"",outlined:"",class:"bg-white text-tertiary rounded-borders"})])])),_:1}),(0,a.createVNode)(p,{class:"q-gutter-x-none q-gutter-y-sm text-tertiary q-mb-sm items-center"},{default:(0,a.withCtx)((()=>[hX,(0,a.createElementVNode)("div",CX,[(0,a.createVNode)(u,{tipo:"decimal",decimals:"2",suffix:"%",borderless:"",dense:"",outlined:"",class:"bg-white text-tertiary rounded-borders"})]),(0,a.createElementVNode)("div",vX,[(0,a.createVNode)(u,{tipo:"decimal",decimals:"2",borderless:"",dense:"",outlined:"",class:"bg-white text-tertiary rounded-borders"})])])),_:1}),(0,a.createVNode)(p,{class:"q-gutter-x-none q-gutter-y-sm text-tertiary q-mb-sm items-center"},{default:(0,a.withCtx)((()=>[fX,(0,a.createElementVNode)("div",NX,[(0,a.createVNode)(u,{tipo:"decimal",decimals:"2",borderless:"",dense:"",outlined:"",class:"bg-white text-tertiary rounded-borders"})])])),_:1}),(0,a.createVNode)(p,{class:"q-gutter-x-none q-gutter-y-sm text-tertiary q-mb-sm items-center"},{default:(0,a.withCtx)((()=>[VX,(0,a.createElementVNode)("div",gX,[(0,a.createVNode)(u,{tipo:"quantidade",decimals:"2",borderless:"",dense:"",outlined:"",class:"bg-white text-tertiary rounded-borders"})])])),_:1}),(0,a.createVNode)(p,{class:"q-gutter-x-none q-gutter-y-sm text-tertiary q-mb-sm items-center"},{default:(0,a.withCtx)((()=>[xX,(0,a.createElementVNode)("div",bX,[(0,a.createVNode)(u,{tipo:"decimal",decimals:"2",borderless:"",dense:"",outlined:"","somente-leitura":"",class:"bg-white text-tertiary rounded-borders"})])])),_:1})])),_:1}),(0,a.createVNode)(h,{name:"tab1",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("p",wX,[(0,a.createVNode)(u,{modelValue:r.documentoItem.descricaoAgrupamento,"onUpdate:modelValue":o[1]||(o[1]=e=>r.documentoItem.descricaoAgrupamento=e),modelModifiers:{trim:!0},tipo:"texto",rotulo:"Agrupamento",autogrow:""},null,8,["modelValue"])]),(0,a.createElementVNode)("div",_X,[yX,(0,a.createElementVNode)("div",IX,(0,a.toDisplayString)(r.item.observacao),1)]),(0,a.createElementVNode)("div",EX,[SX,(0,a.createElementVNode)("div",MX,(0,a.toDisplayString)(r.item.aplicacao),1)])])),_:1})])),_:1}),(0,a.createVNode)(h,{name:"tab4",class:"q-px-none"},{default:(0,a.withCtx)((()=>[r.estoque&&r.estoque.length?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,rows:r.estoque,columns:r.tabelaEstoque.colunas,pagination:r.tabelaEstoque.paginacao,class:"no-shadow text-left"},{body:(0,a.withCtx)((e=>[(0,a.createVNode)(v,{props:e},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{key:"empresa",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.apelidoEmpresa)+" ",1),TX,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.row.nomeEmpresa),1)])),_:2},1032,["props"]),(0,a.createVNode)(C,{key:"tipoEstoque",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.tipoEstoque),1)])),_:2},1032,["props"]),(0,a.createVNode)(C,{key:"lote",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.loteEmpresa),1)])),_:2},1032,["props"]),(0,a.createVNode)(C,{key:"quantidade",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.saldo),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","pagination"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1},8,["modelValue"])]),(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s),(0,a.withDirectives)((0,a.createVNode)(n,{flat:"",size:"md","no-ripple":"",color:"tertiary",label:"Cancelar",class:"q-mr-sm"},null,512),[[b]]),(0,a.createVNode)(n,{"no-ripple":"",label:"Salvar",color:"primary",unelevated:"",class:"no-shadow",onClick:l.salvar},null,8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);Z()(kX,"components",{QDialog:k.Z,QLayout:ae.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QTabs:ko.Z,QTab:Do.Z,QTabPanels:lr.Z,QTabPanel:sr.Z,QItem:z.Z,QTable:nr.Z,QTr:rl.Z,QTd:sl.Z,QFooter:Te.Z}),Z()(kX,"directives",{ClosePopup:J.Z});const qX={components:{Avatar:uo.Z,Badge:S.Z,Campo:L_.Z,ModalEditarProdutoPDV:DX},data:()=>({openNovoCliente:!1,finalizar:!1,parcelas:!1,pagamento:!1,modelS:"Todos",thumbStyle:{top:"2px",right:"3px",borderRadius:"7px",backgroundColor:"#0098db",width:"6px",opacity:1},tab:"Carrinho",barStyle:{right:"2px",borderRadius:"9px",backgroundColor:"#000",width:"8px",opacity:.35},opcoes:[{label:"Masculino",value:"Masculino"},{label:"Feminino",value:"Feminino"},{label:"Outro",value:"Outro"}],shoppingItems:[{id:1,descricaoConcatenada:"apple",valor:"70.00",quantidade:1,unidade:"UN"},{id:2,descricaoConcatenada:"orane",valor:"12.00",quantidade:1,unidade:"LT"},{id:1,descricaoConcatenada:"apple",valor:"71.00",quantidade:1,unidade:"MT"},{id:2,descricaoConcatenada:"orane",valor:"12.00",quantidade:1,unidade:"UN"},{id:1,descricaoConcatenada:"apple",valor:"72.00",quantidade:1,unidade:"UN"},{id:1,descricaoConcatenada:"apple",valor:"73.00",quantidade:1,unidade:"UN"},{id:2,descricaoConcatenada:"orane",valor:"12.00",quantidade:1,unidade:"UN"},{id:1,descricaoConcatenada:"apple",valor:"74.00",quantidade:1,unidade:"UN"},{id:2,descricaoConcatenada:"orane",valor:"12.00",quantidade:1,unidade:"UN"},{id:1,descricaoConcatenada:"apple",valor:"75.00",quantidade:1,unidade:"UN"},{id:1,descricaoConcatenada:"apple",valor:"76.00",quantidade:1,unidade:"UN"},{id:2,descricaoConcatenada:"orane",valor:"12.00",quantidade:1,unidade:"UN"},{id:1,descricaoConcatenada:"apple",valor:"77.00",quantidade:1,unidade:"UN"},{id:2,descricaoConcatenada:"orane",valor:"12.00",quantidade:1,unidade:"UN"},{id:1,descricaoConcatenada:"apple",valor:"78.00",quantidade:1,unidade:"UN"},{id:2,descricaoConcatenada:"orane",valor:"12.00",quantidade:1,unidade:"UN"}]}),methods:{abrirPagto(){this.pagamento=!0},abrirParcelas(){this.parcelas=!0},salvarEdicaoProduto(e){},editarProduto(e){this.$refs.modalEditarProdutoPDV.mostrar()},abrirFinalizar(){this.finalizar=!0}}};var FX=t(71387);const PX=(0,T.Z)(qX,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-tab"),n=(0,a.resolveComponent)("q-tabs"),c=(0,a.resolveComponent)("row"),d=(0,a.resolveComponent)("q-icon"),m=(0,a.resolveComponent)("q-input"),u=(0,a.resolveComponent)("q-card"),p=(0,a.resolveComponent)("avatar"),h=(0,a.resolveComponent)("campo"),C=(0,a.resolveComponent)("q-tooltip"),v=(0,a.resolveComponent)("q-btn"),f=(0,a.resolveComponent)("q-scroll-area"),N=(0,a.resolveComponent)("q-tab-panel"),V=(0,a.resolveComponent)("q-toolbar-title"),g=(0,a.resolveComponent)("q-select"),x=(0,a.resolveComponent)("q-item-label"),b=(0,a.resolveComponent)("q-item-section"),w=(0,a.resolveComponent)("q-item"),_=(0,a.resolveComponent)("q-list"),y=(0,a.resolveComponent)("q-separator"),I=(0,a.resolveComponent)("q-radio"),E=(0,a.resolveComponent)("q-tab-panels"),S=(0,a.resolveComponent)("q-menu"),M=(0,a.resolveComponent)("q-toolbar"),T=(0,a.resolveComponent)("q-footer"),k=(0,a.resolveComponent)("q-page-container"),D=(0,a.resolveComponent)("q-layout"),q=(0,a.resolveComponent)("q-header"),F=(0,a.resolveComponent)("q-dialog"),P=(0,a.resolveComponent)("q-toggle"),A=(0,a.resolveComponent)("badge"),B=(0,a.resolveComponent)("ModalEditarProdutoPDV"),L=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(D,{container:"",id:"pdvcarrinho",class:"pdvcarrinho"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"q-mb-none q-mr-sm q-mt-md"},{default:(0,a.withCtx)((()=>[vJ,(0,a.createElementVNode)("div",fJ,[(0,a.createVNode)(n,{modelValue:r.tab,"onUpdate:modelValue":o[0]||(o[0]=e=>r.tab=e),align:"justify",dense:"","indicator-color":"light-blue-4",color:"transparent","no-caps":"",swipeable:"",class:"text-white no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"Carrinho",label:"Carrinho"}),(0,a.createVNode)(s,{name:"Detalhes",label:"Detalhes"})])),_:1},8,["modelValue"])])])),_:1}),(0,a.createVNode)(E,{modelValue:r.tab,"onUpdate:modelValue":o[10]||(o[10]=e=>r.tab=e),animated:"",swipeable:"",class:"q-pa-none q-pl-xs q-ma-none bg-transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{name:"Carrinho",class:"q-pa-none q-ma-none bg-transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"q-mr-md q-mt-md bg-light-blue no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:e.searchModel,"onUpdate:modelValue":o[1]||(o[1]=o=>e.searchModel=o),borderless:"",dense:"",debounce:600,placeholder:"Ler código de barras, pesquisar produto...",class:"q-mx-md q-my-sm bg-transparent no-shadow",dark:""},{before:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"mdi-barcode-scan",color:"white"})])),_:1},8,["modelValue"])])),_:1}),(0,a.createVNode)(f,{visible:"","thumb-style":r.thumbStyle,"bar-style":r.barStyle,class:"items"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.shoppingItems,(e=>((0,a.openBlock)(),(0,a.createBlock)(u,{key:e.id,class:"q-mr-md q-mb-sm q-px-sm q-pt-xs q-pb-none",style:{background:"rgba(255,255,255,1)"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"items-center q-col-gutter-x-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",NJ,[(0,a.createVNode)(p,{imagem:"https://thumbs.dreamstime.com/b/cartoon-growling-zombie-face-vector-zombie-monster-square-avatar-cartoon-growling-zombie-face-vector-zombie-monster-square-avatar-101865083.jpg",tamanho:"40"})]),(0,a.createElementVNode)("div",VJ,[(0,a.createElementVNode)("span",gJ,(0,a.toDisplayString)(e.descricaoConcatenada),1),xJ,(0,a.createVNode)(c,{class:"items-center q-pt-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",bJ,[(0,a.createElementVNode)("span",wJ,"R$ "+(0,a.toDisplayString)(e.valor)+" "+(0,a.toDisplayString)(e.unidade),1)]),(0,a.createElementVNode)("div",_J,[(0,a.createVNode)(h,{min:"1",tipo:"quantidade",borderless:"",dense:"",modelValue:e.quantidade,"onUpdate:modelValue":o=>e.quantidade=o},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[yJ])),_:1})]),(0,a.createElementVNode)("div",IJ,[(0,a.createElementVNode)("span",EJ,[(0,a.createTextVNode)("R$ "+(0,a.toDisplayString)(e.valor*e.quantidade)+" ",1),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[SJ])),_:1})])])])),_:2},1024)]),(0,a.createElementVNode)("div",MJ,[(0,a.createVNode)(v,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:o=>l.editarProduto(e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[TJ])),_:1})])),_:2},1032,["onClick"]),kJ,(0,a.createVNode)(v,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[DJ])),_:1})])),_:1})])])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["thumb-style","bar-style"])])),_:1}),(0,a.createVNode)(N,{name:"Detalhes",class:"q-pa-none q-ma-none bg-transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{visible:"","thumb-style":r.thumbStyle,"bar-style":r.barStyle,class:"items detalhes q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",qJ,[(0,a.createVNode)(c,{class:"items-center q-mx-none q-px-none q-py-sm q-mb-sm text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{imagem:"statics/avatar.jpg",rotulo:"ricardo",tamanho:"40"}),(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[FJ])),_:1}),(0,a.createVNode)(v,{flat:"",dense:"",icon:"search",round:"",size:"md",onClick:e.buscarContato},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[PJ])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)(v,{flat:"",dense:"",icon:"person_add",round:"",size:"md",onClick:o[2]||(o[2]=e=>r.openNovoCliente=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[AJ])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(c,{class:"q-gutter-x-none q-gutter-y-sm text-white"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",BJ,[(0,a.createVNode)(g,{borderless:"",dense:"",outlined:"",options:r.opcoes,label:"Cliente",modelValue:r.modelS,"onUpdate:modelValue":o[3]||(o[3]=e=>r.modelS=e),class:"bg-white text-tertiary rounded-borders"},null,8,["options","modelValue"])]),(0,a.createElementVNode)("div",LJ,[(0,a.createVNode)(g,{borderless:"",dense:"",outlined:"",options:r.opcoes,label:"Tabela de preço",modelValue:r.modelS,"onUpdate:modelValue":o[4]||(o[4]=e=>r.modelS=e),class:"bg-white text-tertiary rounded-borders"},null,8,["options","modelValue"])]),(0,a.createElementVNode)("div",OJ,[(0,a.createVNode)(_,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{class:"q-py-none q-px-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{class:"text-weight-bold text-caption"},{default:(0,a.withCtx)((()=>[zJ])),_:1}),(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[jJ])),_:1})])),_:1})])),_:1})])),_:1})]),(0,a.createElementVNode)("div",$J,[(0,a.createVNode)(g,{borderless:"",dense:"",outlined:"",options:r.opcoes,label:"Vendedor",modelValue:r.modelS,"onUpdate:modelValue":o[5]||(o[5]=e=>r.modelS=e),class:"bg-white text-tertiary rounded-borders"},null,8,["options","modelValue"])]),(0,a.createElementVNode)("div",UJ,[(0,a.createVNode)(_,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{class:"q-py-none q-px-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{class:"text-weight-bold text-caption"},{default:(0,a.withCtx)((()=>[ZJ])),_:1}),(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[QJ])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1}),(0,a.createVNode)(y,{dark:"",class:"q-my-md"}),(0,a.createVNode)(c,{class:"q-gutter-x-none q-gutter-y-sm text-white q-mb-sm items-center"},{default:(0,a.withCtx)((()=>[RJ,(0,a.createElementVNode)("strong",GJ,(0,a.toDisplayString)(e.$filters.numero(500,2)),1)])),_:1}),(0,a.createVNode)(c,{class:"q-gutter-x-none q-gutter-y-sm text-white q-mb-sm items-center"},{default:(0,a.withCtx)((()=>[HJ,(0,a.createElementVNode)("div",JJ,[(0,a.createVNode)(h,{tipo:"decimal",decimals:"2",suffix:"%",borderless:"",dense:"",outlined:"",class:"bg-white text-tertiary rounded-borders"})]),(0,a.createElementVNode)("div",YJ,[(0,a.createVNode)(h,{tipo:"decimal",decimals:"2",borderless:"",dense:"",outlined:"",class:"bg-white text-tertiary rounded-borders"})])])),_:1}),(0,a.createVNode)(c,{class:"q-gutter-x-none q-gutter-y-sm text-white q-mb-sm items-center"},{default:(0,a.withCtx)((()=>[XJ,(0,a.createElementVNode)("div",WJ,[(0,a.createVNode)(h,{tipo:"decimal",decimals:"2",suffix:"%",borderless:"",dense:"",outlined:"",class:"bg-white text-tertiary rounded-borders"})]),(0,a.createElementVNode)("div",KJ,[(0,a.createVNode)(h,{tipo:"decimal",decimals:"2",borderless:"",dense:"",outlined:"",class:"bg-white text-tertiary rounded-borders"})])])),_:1}),(0,a.createVNode)(c,{class:"q-gutter-x-none q-gutter-y-sm text-white q-mb-sm items-center"},{default:(0,a.withCtx)((()=>[eY,(0,a.createElementVNode)("div",oY,[(0,a.createVNode)(I,{class:"q-mr-md",label:"CIF",val:"CIF",dense:"",dark:""}),(0,a.createVNode)(I,{label:"FOB",val:"FOB",dense:"",dark:""})]),(0,a.createElementVNode)("div",tY,[(0,a.createVNode)(h,{tipo:"decimal",decimals:"2",borderless:"",dense:"",outlined:"",class:"bg-white text-tertiary rounded-borders"})])])),_:1}),(0,a.createVNode)(y,{dark:"",class:"q-my-md"}),(0,a.createVNode)(c,{class:"q-gutter-x-none q-gutter-y-sm text-white"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",aY,[(0,a.createVNode)(m,{class:"bg-light q-px-md rounded-borders",label:" Observação",rows:"3",type:"textarea"})]),(0,a.createElementVNode)("div",iY,[(0,a.createVNode)(m,{class:"bg-light q-px-md rounded-borders",label:" Observação Interna",rows:"3",type:"textarea"})]),(0,a.createElementVNode)("div",rY,[(0,a.createVNode)(g,{borderless:"",dense:"",outlined:"",options:r.opcoes,label:"Indicador",modelValue:r.modelS,"onUpdate:modelValue":o[6]||(o[6]=e=>r.modelS=e),class:"bg-white text-tertiary rounded-borders"},null,8,["options","modelValue"])]),(0,a.createElementVNode)("div",lY,[(0,a.createVNode)(g,{borderless:"",dense:"",outlined:"",options:r.opcoes,label:"Convênio",modelValue:r.modelS,"onUpdate:modelValue":o[7]||(o[7]=e=>r.modelS=e),class:"bg-white text-tertiary rounded-borders"},null,8,["options","modelValue"])])])),_:1}),(0,a.createVNode)(y,{dark:"",class:"q-my-md"}),(0,a.createVNode)(c,{class:"q-gutter-x-none q-gutter-y-sm text-white"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",sY,[(0,a.createVNode)(g,{borderless:"",dense:"",outlined:"",options:r.opcoes,label:"Logística",modelValue:r.modelS,"onUpdate:modelValue":o[8]||(o[8]=e=>r.modelS=e),class:"bg-white text-tertiary rounded-borders"},null,8,["options","modelValue"])]),(0,a.createElementVNode)("div",nY,[(0,a.createVNode)(h,{modelValue:r.modelS,"onUpdate:modelValue":o[9]||(o[9]=e=>r.modelS=e),tipo:"dataHora",min:Date.now(),format:"DD/MM/YYYY HH:mm",dense:"",outlined:"",rotulo:"Data prevista entrega","class-campo":"bg-white text-tertiary rounded-borders"},null,8,["modelValue","min"])]),(0,a.createElementVNode)("div",cY,[(0,a.createVNode)(m,{class:"bg-light q-px-md rounded-borders",label:" Observação Entrega",rows:"3",type:"textarea"})])])),_:1})])])),_:1},8,["thumb-style","bar-style"])])),_:1})])),_:1},8,["modelValue"]),dY,(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(M,{class:"footer"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"text-right"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{flat:"",color:"white",dense:"",icon:"more_vert",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"search"})])),_:1}),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[mY])),_:1})])),_:1})])),_:1},512),[[L]]),(0,a.withDirectives)((0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"import_export"})])),_:1}),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[uY])),_:1})])),_:1})])),_:1},512),[[L]])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(v,{class:"q-mx-md",color:"negative","text-color":"white",label:"Cancelar",unelevated:""}),(0,a.createVNode)(v,{color:"white","text-color":"primary",label:"Finalizar",onClick:l.abrirPagto,unelevated:""},null,8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(F,{modelValue:r.pagamento,"onUpdate:modelValue":o[11]||(o[11]=e=>r.pagamento=e),"content-css":{width:"460px",minHeight:"460px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(D,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(M,{color:"primary"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(v,{dense:"",flat:"",color:"white",icon:"arrow_back",round:""},null,512),[[L]]),(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[pY])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(k,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",hY,[(0,a.createElementVNode)("div",CY,[(0,a.createVNode)(m,{label:"Valor",class:"text-h5 text-weight-bold text-center",align:"center",value:"100"})]),(0,a.createVNode)(c,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",vY,[(0,a.createVNode)(v,{class:"botaoAcesso full-width",color:"primary",size:"lg",outline:"",icon:"monetization_on",label:"Dinheiro"})]),(0,a.createElementVNode)("div",fY,[(0,a.createVNode)(v,{class:"botaoAcesso full-width",color:"primary",size:"lg",onClick:l.abrirParcelas,outline:"",label:"Cartão de Crédito",icon:"monetization_on"},null,8,["onClick"])]),(0,a.createElementVNode)("div",NY,[(0,a.createVNode)(v,{class:"botaoAcesso full-width",color:"primary",size:"lg",outline:"",icon:"monetization_on",label:"TEF"})])])),_:1})])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(F,{modelValue:r.parcelas,"onUpdate:modelValue":o[12]||(o[12]=e=>r.parcelas=e),"content-css":{width:"460px",minHeight:"460px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(D,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(M,{color:"primary"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(v,{dense:"",flat:"",color:"white",icon:"arrow_back",round:""},null,512),[[L]]),(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[VY])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(k,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",gY,[(0,a.createElementVNode)("div",xY,[bY,(0,a.createElementVNode)("div",wY,[(0,a.createElementVNode)("div",null,[(0,a.createElementVNode)("div",_Y,[(0,a.createVNode)(h,{min:"1",value:"1",tipo:"quantidade",borderless:""}),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[yY])),_:1})]),(0,a.createVNode)(v,{class:"full-width q-mb-sm",color:"primary",outline:"",size:"lg",label:"Master",onClick:l.abrirFinalizar},null,8,["onClick"]),(0,a.createVNode)(v,{class:"full-width q-mb-sm",color:"primary",outline:"",size:"lg",label:"Visa",onClick:l.abrirFinalizar},null,8,["onClick"]),(0,a.createVNode)(v,{class:"full-width q-mb-sm",color:"primary",outline:"",size:"lg",label:"Elo",onClick:l.abrirFinalizar},null,8,["onClick"])])])])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(F,{modelValue:r.finalizar,"onUpdate:modelValue":o[16]||(o[16]=e=>r.finalizar=e),"content-css":{width:"460px",minHeight:"460px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(D,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(M,{color:"primary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[IY])),_:1}),(0,a.withDirectives)((0,a.createVNode)(v,{dense:"",flat:"",color:"white",icon:"clear",round:""},null,512),[[L]])])),_:1})])),_:1}),(0,a.createVNode)(k,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",EY,[(0,a.createElementVNode)("div",SY,[(0,a.createElementVNode)("div",MY,[TY,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{color:"tertiary",rotulo:"CPF",dense:"",class:"q-mb-sm"}),(0,a.createVNode)(P,{modelValue:e.value,"onUpdate:modelValue":o[13]||(o[13]=o=>e.value=o)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{color:"tertiary",rotulo:"Whatsapp",dense:"",class:"q-mb-sm"}),(0,a.createVNode)(P,{modelValue:e.value,"onUpdate:modelValue":o[14]||(o[14]=o=>e.value=o)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{color:"tertiary",rotulo:"E-mail",dense:"",class:"q-mb-sm"}),(0,a.createVNode)(P,{modelValue:e.value,"onUpdate:modelValue":o[15]||(o[15]=o=>e.value=o)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(v,{class:"full-width q-mb-sm",color:"primary",outline:"",label:"NFCe",size:"lg"}),(0,a.createVNode)(v,{class:"full-width q-mb-sm",color:"primary",outline:"",label:"SAT",size:"lg"}),(0,a.createVNode)(v,{class:"full-width q-mb-sm",color:"primary",outline:"",label:"RElatório Gerencial",size:"lg"})])])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(F,{modelValue:r.openNovoCliente,"onUpdate:modelValue":o[18]||(o[18]=e=>r.openNovoCliente=e),maximized:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(D,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(M,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(v,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[L]]),(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[kY])),_:1}),(0,a.createVNode)(v,{class:"bg-white text-primary",label:"Salvar",unelevated:""})])),_:1})])),_:1}),(0,a.createVNode)(k,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",DY,[(0,a.createElementVNode)("div",qY,[(0,a.createVNode)(c,{class:"q-col-gutter-md q-pt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"q-pa-md q-pa-md q-mt-md bg-white no-shadow full-width"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",FY,[(0,a.createVNode)(A,{cor:"positive",escuro:""},{default:(0,a.withCtx)((()=>[PY])),_:1})]),(0,a.createVNode)(h,{rotulo:"Apelido",dense:""}),(0,a.createVNode)(h,{rotulo:"Nome completo",dense:""}),(0,a.createVNode)(c,{class:"q-col-gutter-x-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",AY,[(0,a.createVNode)(m,{label:"CNPJ/CPF",dense:""},{append:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"mdi-arrow-down-bold-circle",onClick:o[17]||(o[17]=o=>e.alert("teste")),class:"cursor-pointer"})])),_:1})]),(0,a.createElementVNode)("div",BY,[(0,a.createVNode)(h,{rotulo:"RG/IE",dense:""})]),(0,a.createElementVNode)("div",LY,[(0,a.createVNode)(h,{rotulo:"Data de Nascimento",dense:""})])])),_:1})])),_:1}),(0,a.createVNode)(u,{class:"q-pa-md q-pa-md q-mt-md bg-white no-shadow full-width"},{default:(0,a.withCtx)((()=>[OY,(0,a.createElementVNode)("div",zY,[(0,a.createVNode)(c,{class:"q-col-gutter-x-md items-baseline"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",jY,[(0,a.createVNode)(v,{color:"none",dense:"",flat:"",round:"",icon:"phone"})]),(0,a.createElementVNode)("div",$Y,[(0,a.createVNode)(h,{rotulo:"Tipo",tipo:"seletor",dense:""})]),(0,a.createElementVNode)("div",UY,[(0,a.createVNode)(h,{rotulo:"Telefone",dense:""})]),(0,a.createElementVNode)("div",ZY,[(0,a.createVNode)(h,{rotulo:"Descrição",dense:""})]),(0,a.createElementVNode)("div",QY,[(0,a.createVNode)(v,{color:"negative",size:"xs",icon:"remove",outline:"",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[RY])),_:1})])),_:1})])])),_:1})]),(0,a.createElementVNode)("div",GY,[(0,a.createVNode)(v,{color:"positive",icon:"add",label:"Telefone",outline:"",size:"sm"})])])),_:1}),(0,a.createVNode)(u,{class:"q-pa-md q-pa-md q-mt-md bg-white no-shadow full-width"},{default:(0,a.withCtx)((()=>[HY,(0,a.createElementVNode)("div",JY,[(0,a.createVNode)(c,{class:"q-col-gutter-x-md items-baseline"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",YY,[(0,a.createVNode)(v,{color:"none u-semClique",dense:"",flat:"",round:"",icon:"star"})]),(0,a.createElementVNode)("div",XY,[(0,a.createVNode)(h,{rotulo:"Grupo",tipo:"seletor",dense:""})]),(0,a.createElementVNode)("div",WY,[(0,a.createVNode)(h,{rotulo:"CEP",dense:""})]),(0,a.createElementVNode)("div",KY,[(0,a.createVNode)(h,{rotulo:"UF",dense:""})]),(0,a.createElementVNode)("div",eX,[(0,a.createVNode)(h,{rotulo:"Cidade",dense:""})])])),_:1}),(0,a.createVNode)(c,{class:"q-col-gutter-x-md items-baseline"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",oX,[(0,a.createVNode)(h,{rotulo:"Endereço",dense:""})]),(0,a.createElementVNode)("div",tX,[(0,a.createVNode)(h,{rotulo:"Número",dense:""})]),(0,a.createElementVNode)("div",aX,[(0,a.createVNode)(h,{rotulo:"Complemento",dense:""})]),(0,a.createElementVNode)("div",iX,[(0,a.createVNode)(h,{rotulo:"Bairro",dense:""})]),(0,a.createElementVNode)("div",rX,[(0,a.createVNode)(h,{rotulo:"País",dense:""})]),(0,a.createElementVNode)("div",lX,[(0,a.createVNode)(v,{color:"negative",size:"xs",icon:"remove",outline:"",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[sX])),_:1})])),_:1})])])),_:1})]),(0,a.createElementVNode)("div",nX,[(0,a.createVNode)(v,{color:"positive",icon:"add",label:"Endereço",outline:"",size:"sm"})])])),_:1})])),_:1})])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(B,{ref:"modalEditarProdutoPDV",onSalvar:l.salvarEdicaoProduto},null,8,["onSalvar"])],64)}]]);Z()(qX,"components",{QLayout:ae.Z,QPageContainer:le.Z,QTabs:ko.Z,QTab:Do.Z,QTabPanels:lr.Z,QTabPanel:sr.Z,QCard:D.Z,QInput:re.Z,QIcon:L.Z,QScrollArea:FX.Z,QTooltip:Ao.Z,QBtn:H.Z,QToolbarTitle:G.Z,QSelect:al.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z,QSeparator:$.Z,QRadio:ys.Z,QFooter:Te.Z,QToolbar:O.Z,QMenu:Bo.Z,QDialog:k.Z,QHeader:ie.Z,QToggle:il.Z}),Z()(qX,"directives",{ClosePopup:J.Z});const AX={id:"pdvCatalogo",class:"pdvcatalogo q-pt-md q-pl-xs"},BX={class:"q-pa-sm rounded-borders q-mb-md q-mr-xs bg-white"},LX={class:"col-12 col-md"},OX={class:"col-12 col-md-5"},zX={class:"q-pr-md"},jX={class:"col-12"},$X={class:"q-title text-white q-mt-md",style:{"font-weight":"400"}},UX=["src"],ZX={key:1,src:"http://placehold.it/320x320",class:"img-fluid"},QX={class:"product-label absolute-bottom text-caption q-pa-sm text-white"},RX=(0,a.createElementVNode)("br",null,null,-1),GX={class:"text-body2"},HX={data:()=>({lista:[],listaOriginal:[],listaLayout:{},modalCombinarItens:!1,modalImportar:!1,campos:{codigoBarras:"",descricao:"",marca:"",referencia:"",tipo:"Produto",valorCustoReposicao:0,valorVenda:0},paginacao:{atual:1,maximo:1,total:1,limite:25},showFilters:!1,filtros:{ativo:null,descricaoAplicacao:null,codIdRef:null,codigoBarras:null,marca:null,fornecedores:null,grupo:null,subGrupo:null,estoque:null,tipo:null,codigoCompra:null},buscaCampo:"",opcoesMarca:[],opcoesGrupo:[],opcoesSubGrupo:[],opcoesTipo:[],tabSelecionada:{valor:"Ativos"},tabs:[{rotulo:"Ativos",value:"Ativos"},{rotulo:"Excluídos",value:"Excluidos"},{rotulo:"Todos",value:"Todos"}],dados:{},banco:"",contatos:[],contatoPrincipal:{telefone:{}},visible:!0,gruposItens:{},filterSelect:"",filterOptions:[],opened:!1,openedM:!1,openedC:!1,openedF:!1,mostrarLogo:!1,qtd:{},contato:[],contatoEndereco:[],contatoTelefone:[],formasPagamento:[],item:[],cartItems:[],address:"",state:!0,carregando:!0}),methods:{criarSlug:e=>(0,Fo.removerAcentos)(e.replace(" ","")),onFilterChange(){this.goToAnchor(this.filterSelect)},goToAnchor(e){const o=this.$refs.scrollArea.getScrollTarget(document.getElementById(e.value)),t=document.getElementById(e.value).offsetTop;this.$refs.scrollArea.setScrollPosition(o,t,300)},async atualizar(){console.log(this.filtros),console.log(this.buscaCampo),console.log("ATUALIZAR");try{$q.loading.show(),this.paginacao.atual;const e=$utils.eliminarVazios(this.filtros);e.grupo&&(e.grupo=e.grupo.value),delete e.ativo,"Ativos"===this.tabSelecionada.valor&&(e.ativo=!0),"Excluidos"===this.tabSelecionada.valor&&(e.ativo=!1);const o=await $db.item.ler({filtros:{...e,termoBusca:this.buscaCampo}});this.listaLayout={};for(let e of o.data)this.listaLayout[e.id]={detalhes:!1,remover:!1,utilizaMarkupInvertido:!e.utilizaMarkup,utilizaComposicaoValorReposicaoInvertido:!e.utilizaComposicaoValorReposicao};this.listaOriginal=$utils.clonarV2(o.data),this.lista=o.data,this.montarGrupos(this.lista)}catch(e){$q.notifyError("Erro iniciar",e)}finally{$q.loading.hide()}},async leOpcoesGrupo(){this.opcoesGrupo=(await $db.item.leValoresUnicos("grupo")).map((e=>({rotulo:e,valor:e})))},async montarGrupos(e){console.log("itens",e);let o=[];e.map((async t=>{o.push(e.filter((e=>e.id===t.id))[0])})),console.log("itensSite",o),e=(0,Ee.orderBy)(o,"descricaoConcatenada","asc");let t={};e.map((e=>{const o=e?.grupo||"Outros";t[o]||(t[o]=[],"Outros"===o?this.filterOptions.push({label:"Todos",value:""}):this.filterOptions.push({label:o,value:this.criarSlug(o)})),t[o].push({label:e.descricaoConcatenada,value:e.id,image:e.imagem,...e})})),this.gruposItens=t;for(const e of o.map((e=>e.codigoItem)))this.qtd[e]=0;this.cartItems.forEach((e=>{this.qtd[e.cod]=e.qtd}))},userHasScrolled(e){window.innerWidth>768?this.mostrarLogo=e.position>=102:this.mostrarLogo=!0},goToItem(e){let o="/page/"+this.banco+"/item/"+e;console.log(o),this.$router.push(o)}},created(){console.log("ClubSingle created"),this.atualizar()},watch:{}},JX=(0,T.Z)(HX,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-input"),c=(0,a.resolveComponent)("q-select"),d=(0,a.resolveComponent)("row"),m=(0,a.resolveComponent)("q-card"),u=(0,a.resolveComponent)("q-scroll-area");return(0,a.openBlock)(),(0,a.createElementBlock)("div",AX,[(0,a.createElementVNode)("div",BX,[(0,a.createVNode)(d,{class:"q-col-gutter-md text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",LX,[(0,a.createVNode)(n,{debounce:500,borderless:"",dense:"",outlined:"",label:"Filtre por Produto, Marca, Número",modelValue:r.buscaCampo,"onUpdate:modelValue":o[0]||(o[0]=e=>r.buscaCampo=e),onBlur:l.atualizar},{before:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"mdi-filter"})])),_:1},8,["modelValue","onBlur"])]),(0,a.createElementVNode)("div",OX,[(0,a.createVNode)(c,{class:"no-shadow",color:"transparent",modelValue:r.filtros.grupo,"onUpdate:modelValue":[o[1]||(o[1]=e=>r.filtros.grupo=e),l.atualizar],dense:"",options:r.filterOptions,label:"Filtrar produtos por:"},null,8,["modelValue","options","onUpdate:modelValue"])])])),_:1})]),(0,a.createVNode)(u,{visible:"",ref:"scrollArea","thumb-style":e.thumbStyle,"bar-style":e.barStyle,class:"items"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",zX,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.gruposItens,((o,t)=>((0,a.openBlock)(),(0,a.createBlock)(d,{class:"q-col-gutter-md",key:t,id:l.criarSlug(t)},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",jX,[(0,a.createElementVNode)("div",$X,(0,a.toDisplayString)(t),1)]),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o,(o=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"col-6 col-md-4 col-lg-2",key:o.id},[(0,a.createVNode)(m,{class:"rounded-borders"},{default:(0,a.withCtx)((()=>[o.imagem?((0,a.openBlock)(),(0,a.createElementBlock)("img",{key:0,src:o.imagem,class:"img-fluid"},null,8,UX)):((0,a.openBlock)(),(0,a.createElementBlock)("img",ZX)),(0,a.createElementVNode)("div",QX,[(0,a.createTextVNode)((0,a.toDisplayString)(o.descricaoConcatenada),1),RX,(0,a.createElementVNode)("strong",GX,(0,a.toDisplayString)(e.$filters.numeroZerosDireita(o.valorVenda,4,2)),1)])])),_:2},1024)])))),128))])),_:2},1032,["id"])))),128))])])),_:1},8,["thumb-style","bar-style"])])}]]);Z()(HX,"components",{QInput:re.Z,QIcon:L.Z,QSelect:al.Z,QScrollArea:FX.Z,QCard:D.Z});const YX={class:"pdvpromocoes q-pa-sm q-pt-md"},XX=(0,a.createElementVNode)("img",{src:"https://image.freepik.com/vetores-gratis/modelo-de-banner-de-promocao-de-venda-abstrata_23-2148216640.jpg",class:"img-fluid"},null,-1),WX=(0,a.createElementVNode)("img",{src:"https://image.freepik.com/vetores-gratis/banner-de-venda-brilhante-para-marketing-e-promocao_1017-11519.jpg",class:"img-fluid"},null,-1),KX={data:()=>({thumbStyle:{top:"2px",right:"3px",borderRadius:"7px",backgroundColor:"#0098db",width:"6px",opacity:1},barStyle:{right:"2px",borderRadius:"9px",backgroundColor:"#000",width:"8px",opacity:.35}})},eW=(0,T.Z)(KX,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-card-section"),n=(0,a.resolveComponent)("q-card"),c=(0,a.resolveComponent)("q-scroll-area");return(0,a.openBlock)(),(0,a.createElementBlock)("div",YX,[(0,a.createVNode)(c,{visible:"","thumb-style":r.thumbStyle,"bar-style":r.barStyle,class:"items"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-mb-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-pa-none rounded-borders"},{default:(0,a.withCtx)((()=>[XX])),_:1})])),_:1}),(0,a.createVNode)(n,{class:"rounded-borders q-mb-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-pa-none"},{default:(0,a.withCtx)((()=>[WX])),_:1})])),_:1})])),_:1},8,["thumb-style","bar-style"])])}]]);Z()(KX,"components",{QScrollArea:FX.Z,QCard:D.Z,QCardSection:q.Z});const oW={components:{PdvCarrinho:PX,PdvCatalogo:JX,PdvPromocoes:eW},computed:{},data:()=>({tabs:"Carrinhos",opened:!1}),methods:{abrirPDV(){this.opened=!0}}},tW=(0,T.Z)(oW,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-tooltip"),c=(0,a.resolveComponent)("q-btn"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-page"),u=(0,a.resolveComponent)("q-icon"),p=(0,a.resolveComponent)("q-item-section"),h=(0,a.resolveComponent)("q-item-label"),C=(0,a.resolveComponent)("q-item"),v=(0,a.resolveComponent)("q-list"),f=(0,a.resolveComponent)("q-menu"),N=(0,a.resolveComponent)("q-header"),V=(0,a.resolveComponent)("pdv-promocoes"),g=(0,a.resolveComponent)("pdv-catalogo"),x=(0,a.resolveComponent)("pdv-carrinho"),b=(0,a.resolveComponent)("row"),w=(0,a.resolveComponent)("q-tab"),_=(0,a.resolveComponent)("q-tabs"),y=(0,a.resolveComponent)("q-tab-panel"),I=(0,a.resolveComponent)("q-tab-panels"),E=(0,a.resolveComponent)("q-page-container"),S=(0,a.resolveComponent)("q-layout"),M=(0,a.resolveComponent)("q-dialog"),T=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",rJ,[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"bg-gradiente text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[lJ])),_:1}),(0,a.createVNode)(c,{flat:"",dense:"",icon:"search",round:"",size:"lg"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[sJ])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(c,{round:"",color:"primary",class:"fixed",icon:"add",size:"lg",style:{right:"18px",bottom:"18px"},onClick:l.abrirPDV},null,8,["onClick"])])),_:1}),(0,a.createVNode)(M,{modelValue:r.opened,"onUpdate:modelValue":o[2]||(o[2]=e=>r.opened=e),maximized:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,{container:"",class:"bg-gradiente"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"bg-white text-primary"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(c,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[T]]),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[nJ])),_:1}),cJ,(0,a.createVNode)(c,{flat:"",dense:"",icon:"more_vert",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{name:"search"})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[dJ])),_:1})])),_:1})])),_:1},512),[[T]]),(0,a.withDirectives)((0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{name:"import_export"})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[mJ])),_:1})])),_:1})])),_:1},512),[[T]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(E,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",uJ,[(0,a.createVNode)(b,{class:"q-col-gutter-md justify-center items-stretch hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",pJ,[(0,a.createVNode)(V)]),(0,a.createElementVNode)("div",hJ,[(0,a.createVNode)(g)]),(0,a.createElementVNode)("div",CJ,[(0,a.createVNode)(x)])])),_:1}),(0,a.createVNode)(_,{modelValue:r.tabs,"onUpdate:modelValue":o[0]||(o[0]=e=>r.tabs=e),align:"justify",dense:"","indicator-color":"light-blue-4",color:"white","no-caps":"","inline-label":"",class:"text-primary bg-white no-shadow hideondesktop"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{name:"Carrinhos",label:"PDV"}),(0,a.createVNode)(w,{name:"Catalogo",label:"Catálogo"}),(0,a.createVNode)(w,{name:"Promocoes",label:"Promoções"})])),_:1},8,["modelValue"]),(0,a.createVNode)(I,{modelValue:r.tabs,"onUpdate:modelValue":o[1]||(o[1]=e=>r.tabs=e),animated:"",swipeable:"",class:"hideondesktop bg-transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{name:"Carrinhos",class:"q-pa-none q-ma-none bg-transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x)])),_:1}),(0,a.createVNode)(y,{name:"Catalogo",class:"q-pa-none q-ma-none bg-transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g)])),_:1}),(0,a.createVNode)(y,{name:"Promocoes",class:"q-pa-none q-ma-none bg-transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V)])),_:1})])),_:1},8,["modelValue"])])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}]]);Z()(oW,"components",{QPage:se.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QTooltip:Ao.Z,QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QIcon:L.Z,QItemLabel:j.Z,QPageContainer:le.Z,QTabs:ko.Z,QTab:Do.Z,QTabPanels:lr.Z,QTabPanel:sr.Z}),Z()(oW,"directives",{ClosePopup:J.Z});var aW=t(94120);const iW={id:"Modelo",view:"hHh lpR fFf"},rW=(0,a.createElementVNode)("span",{class:"text-h6"},"NFSe",-1),lW=(0,a.createTextVNode)("Criar"),sW=(0,a.createTextVNode)("Editar"),nW=(0,a.createTextVNode)("Tag"),cW=(0,a.createTextVNode)("Delete"),dW=(0,a.createTextVNode)("Abrir tudo"),mW=(0,a.createTextVNode)("Alfabetica"),uW=(0,a.createTextVNode)("Data"),pW=(0,a.createTextVNode)("Download"),hW=(0,a.createTextVNode)("Imprimir"),CW=(0,a.createTextVNode)("Editar"),vW={class:"row items-center"},fW=(0,a.createTextVNode)(" #NUM "),NW=["src"],VW=(0,a.createTextVNode)("Data"),gW=(0,a.createTextVNode)(" Status "),xW=(0,a.createTextVNode)("Valor"),bW={class:"text-tertiary q-col-gutter-xs"},wW=(0,a.createTextVNode)("Editar"),_W=(0,a.createTextVNode)("Imprimir"),yW=(0,a.createTextVNode)("Cancelar"),IW=(0,a.createTextVNode)("Baixar XML"),EW=(0,a.createTextVNode)("Enviar por email"),SW=(0,a.createTextVNode)("Carta de Correção"),MW=(0,a.createTextVNode)("Justificativa/Correção"),TW={class:"row full-width"},kW=["src"],DW=(0,a.createTextVNode)("Emitente"),qW=(0,a.createTextVNode)("Local"),FW=(0,a.createTextVNode)("Emissão"),PW=(0,a.createTextVNode)("Finalizado"),AW=(0,a.createTextVNode)(" Novo Cliente "),BW={class:"layout-padding q-my-lg"},LW={class:"u-container q-py-lg"},OW={class:"text-right"},zW=(0,a.createTextVNode)("#000"),jW={class:"q-mt-md"},$W={class:"gutter-x-sm row"},UW={class:"col-12 col-md"},ZW={class:"row"},QW={class:"col"},RW=(0,a.createTextVNode)("Consultar cadastro no Sefaz"),GW={class:"col-12 col-md"},HW={class:"col-12 col-md"},JW={class:"q-mt-xl"},YW=(0,a.createElementVNode)("div",{class:"q-mb-md q-subheading"},"Telefones",-1),XW={class:"u-separador animate-pop"},WW={class:"gutter-x-sm items-baseline row"},KW={class:"col-2 col-md-1"},eK={class:"col-4 col-md-3"},oK={class:"col-6 col-md-4"},tK={class:"col-10 col-md-3"},aK={class:"col-2 col-md-1 text-right"},iK=(0,a.createTextVNode)("Excluir"),rK={class:"q-mt-md text-center"},lK={class:"q-mt-xl"},sK=(0,a.createElementVNode)("div",{class:"q-mb-md q-subheading"},"Endereços",-1),nK={class:"u-separador animate-pop"},cK={class:"q-col-gutter-x-sm items-baseline row"},dK={class:"col-2 col-md-1"},mK={class:"col-10 col-md-11"},uK={class:"col-6 col-md-4"},pK={class:"col-2 col-md-4"},hK={class:"col-10 col-md-4"},CK={class:"col-12 col-md-7"},vK={class:"col-12 col-md-2"},fK={class:"col-12 col-md-3"},NK={class:"col-12 col-md-6","error-label":"O bairro está muito curto."},VK={class:"col-10 col-md-5","error-label":"Insira um país."},gK={class:"col-2 col-md-1 text-right"},xK=(0,a.createTextVNode)("Remover"),bK={class:"q-mt-md text-center"},wK={class:"u-container"},_K=(0,a.createTextVNode)(" Nota Fiscal / Destinatário "),yK={class:"layout-padding q-my-lg"},IK={class:"u-container q-py-lg"},EK=(0,a.createElementVNode)("p",{class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}}," Dados tomador do serviço ",-1),SK={class:"row q-col-gutter-x-sm q-px-none"},MK={class:"col-12 col-md-6"},TK={class:"col-12 col-md-6"},kK={class:"col-12 col-md-6"},DK={class:"col-12 col-md-6"},qK={class:"row q-col-gutter-x-sm q-px-none"},FK={class:"col-12 col-md-2"},PK={class:"col-12 col-md-8"},AK={class:"col-12 col-md-2"},BK={class:"row q-col-gutter-x-sm q-px-none"},LK={class:"col-12 col-md-3"},OK={class:"col-12 col-md-3"},zK={class:"col-12 col-md-3"},jK={class:"col-12 col-md-3"},$K={class:"row q-col-gutter-x-sm q-px-none"},UK={class:"col-12 col-md-6"},ZK={class:"col-12 col-md-6"},QK={class:"u-container"},RK=(0,a.createTextVNode)(" Carta de Correção "),GK={class:"layout-padding q-my-lg"},HK={class:"u-container q-py-lg"},JK={class:"row q-col-gutter-x-sm q-px-none"},YK=(0,a.createElementVNode)("div",{class:"col-12 q-mt-md"},[(0,a.createElementVNode)("p",null,"Conforme o DECRETO Nº 176/2020, a utilização da Carta de Correção é permitida somente para retificar a “Descrição dos Serviços” da NFS-e. Não é permitida sua utilização para a retificação de erros relacionados com:"),(0,a.createElementVNode)("ul",null,[(0,a.createElementVNode)("li",null,"as variáveis que determinam o valor do imposto: base de cálculo, alíquota, valor das deduções, código de serviço, diferença de preço, quantidade e valor da prestação de serviços;"),(0,a.createElementVNode)("li",null,"os dados cadastrais do prestador ou do tomador dos serviços;"),(0,a.createElementVNode)("li",null,"o número da nota e a data de emissão;"),(0,a.createElementVNode)("li",null,"a indicação de isenção ou imunidade relativa ao ISS;"),(0,a.createElementVNode)("li",null,"a indicação da existência de ação judicial relativa ao ISS;"),(0,a.createElementVNode)("li",null,"a indicação do local de incidência do ISS;"),(0,a.createElementVNode)("li",null,"a indicação da responsabilidade pelo recolhimento do ISS;"),(0,a.createElementVNode)("li",null,"o número e a data de emissão do Recibo Provisório de Serviços (RPS).")])],-1),XK={class:"col-12"},WK={class:"u-container"},KK=(0,a.createTextVNode)(" NFSe "),e0={class:"layout-padding q-my-lg"},o0={class:"u-container q-py-lg"},t0=(0,a.createElementVNode)("p",{class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}}," Informações da Nota Fiscal Eletrônica ",-1),a0={class:"col-4 text-right q-py-sm"},i0={class:"row q-col-gutter-x-sm q-px-none"},r0={class:"col-12 col-md-3"},l0={class:"col-12 col-md-3"},s0={class:"col-12 col-md-3"},n0={class:"col-12 col-md-3"},c0={class:"row q-col-gutter-x-sm q-px-none"},d0={class:"col-12 col-md-3"},m0={class:"col-12 col-md-3"},u0={class:"col-12 col-md-3"},p0={class:"col-12 col-md-3"},h0={class:"row q-col-gutter-x-sm q-px-none"},C0={class:"col-12 col-md-6"},v0={class:"row"},f0={class:"col-12"},N0=(0,a.createElementVNode)("p",{class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}}," Emitente ",-1),V0=(0,a.createTextVNode)(" "),g0={class:"row q-col-gutter-x-sm q-px-none"},x0={class:"col-12"},b0={class:"col-12 col-md-6"},w0={class:"row"},_0={class:"col-12"},y0=(0,a.createElementVNode)("p",{class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}}," Destinatário ",-1),I0=(0,a.createTextVNode)(" "),E0=(0,a.createTextVNode)("Adicionar"),S0={class:"row q-col-gutter-x-sm q-px-none"},M0={class:"col-12"},T0={class:"col-12"},k0={class:"row"},D0={class:"col-12"},q0=(0,a.createElementVNode)("p",{class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}}," Intermediário ",-1),F0=(0,a.createTextVNode)(" "),P0=(0,a.createTextVNode)("Adicionar"),A0={class:"row q-col-gutter-x-sm q-px-none"},B0={class:"col-12"},L0=(0,a.createElementVNode)("p",{class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}}," Local dos serviços ",-1),O0={class:"row q-col-gutter-x-sm q-px-none"},z0={class:"col-12"},j0=(0,a.createElementVNode)("p",{class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}}," Descrição dos Serviços ",-1),$0={class:"row q-px-none"},U0={class:"col-12"},Z0=(0,a.createElementVNode)("p",{class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}}," Imposto sobre serviços de qualquer natureza-ISSQN ",-1),Q0={class:"row q-col-gutter-x-sm q-px-none"},R0={class:"col-12 col-md-6"},G0={class:"col-12 col-md-3"},H0={class:"col-12 col-md-3"},J0={class:"col-6 col-md-4"},Y0={class:"col-6 col-md-4"},X0={class:"row q-col-gutter-x-sm q-px-none"},W0={class:"col-6 col-md-2"},K0={class:"col-6 col-md-2"},e1={class:"col-6 col-md-2"},o1={class:"col-6 col-md-2"},t1={class:"col-6 col-md-auto"},a1={class:"col-6 col-md-2"},i1=(0,a.createElementVNode)("p",{class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}}," Retenção de Impostos ",-1),r1={class:"row q-col-gutter-x-sm q-px-none"},l1={class:"col-6 col-md-4 col-md"},s1={class:"col-6 col-md-4 col-md"},n1={class:"col-6 col-md-4 col-md"},c1={class:"col-6 col-md-4 col-md"},d1={class:"col-6 col-md-4 col-md"},m1={class:"col-6 col-md-4 col-md"},u1={class:"col-6 col-md-4 col-md"},p1={class:"u-container"},h1=(0,a.createElementVNode)("span",{class:"text-tertiary"},[(0,a.createTextVNode)("Total "),(0,a.createElementVNode)("strong",null,"R$ 300,00")],-1),C1=(0,a.createTextVNode)("Filtro Avançado"),v1={class:"row"},f1=(0,a.createElementVNode)("div",{class:"col-12 row q-px-md"},[(0,a.createElementVNode)("h1",{class:"col-12 text-body1 text-tertiary"},"Empresas"),(0,a.createTextVNode)(" Chips input ")],-1),N1={class:"col-12 row q-px-md q-mt-lg"},V1={components:{Badge:S.Z,BadgeCopiarUid:xs.Z,Campo:L_.Z},computed:{},data:()=>({showModalNovoCliente:!1,showModalDestinatario:!1,showModalCarta:!1,showModal:!1,promptCliente:!1,promptContato:!1,checkedISSQN:!1,openedCartaCorrecao:!1,openedCardNFSe:!1,contatosModal:!1,showsectionm:!1,telefoneTipos:[{label:"Principal",value:"Principal"},{label:"Comercial",value:"Comercial"},{label:"Celular",value:"Celular"},{label:"Fixo",value:"Fixo"},{label:"WhatsApp",value:"WhatsApp"}],tabsModel:"xtab-1",lista:[{name:"Jim Doe",fullName:"Jim Doe da Silva",photo:"statics/avatar.jpg",data:"22/01/2021",valor:"100,00",tags:["status"],showPreviewDetail:!1,linha2:{emitente:{sigla:"Sigla",apelido:"apelido",localNota:"localNota"},produto:{atividadeMunicio:"atividadeMunicio",itemLC:"item LC",codNacional:"cod nacional",descricao:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."},justificativa:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."}},{name:"Jim Doe",fullName:"Jim Doe da Silva",photo:"statics/avatar.jpg",data:"22/01/2021",valor:"100,00",tags:["status"],showPreviewDetail:!1,linha2:{emitente:{sigla:"sigla",apelido:"apelido",localNota:"localNota"},produto:{atividadeMunicio:"atividadeMunicio",itemLC:"item LC",codNacional:"cod nacional",descricao:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."},justificativa:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."}},{name:"Jim Doe",fullName:"Jim Doe da Silva",photo:"statics/avatar.jpg",data:"22/01/2021",valor:"100,00",tags:["status"],showPreviewDetail:!1,linha2:{emitente:{sigla:"sigla",apelido:"apelido",localNota:"localNota"},produto:{atividadeMunicio:"atividadeMunicio",itemLC:"item LC",codNacional:"cod nacional",descricao:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."},justificativa:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."}},{name:"Jim Doe",fullName:"Jim Doe da Silva",photo:"statics/avatar.jpg",data:"22/01/2021",valor:"100,00",tags:["status"],showPreviewDetail:!1,linha2:{emitente:{sigla:"sigla",apelido:"apelido",localNota:"localNota"},produto:{atividadeMunicio:"atividadeMunicio",itemLC:"item LC",codNacional:"cod nacional",descricao:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."},justificativa:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."}}],showAllPreviewDetail:!1,page:1,minPages:1,maxPages:5,buscaCampo:"",checkboxModel:[],carregando:!1,contatosEmpresa:[],dados:{},empresas:{selected:[],options:[]},empresasSelecionadas:[],erroEmpresas:!1,erroPeriodo:!1,filtro:{codigoClienteSistema:"",codigoContatoUsuario:"",dataConsulta:"",empresas:[],periodo:{ini:null,fim:""}},showingHelp:!1,showFilters:!1,showList:!1,gantt:!1,kanban:!1,ganttL:!1,kanbanL:!1,section:!1,list:!0,left:!1,focarNaBusca:!0,carregandoEstoque:!0,estoque:[],itens:[],itensSelecionados:{},modo:{lista:!0,grade:!1},termo:"",visibilidade:{modal:!1}}),watch:{showFilters:function(e){!0===e?this.showList=!1:!0!==this.section&&!0!==this.kanban&&!0!==this.gantt||(this.showList=!0)}},methods:{abrirModalDestinatario(){this.showModalDestinatario=!0},abrirModalCardNFSE(){console.log("abrir modal card nfse")},async filtrar(){console.log("filtrar")},abrirTodosPreview(){if(this.showAllPreviewDetail=!this.showAllPreviewDetail,this.showAllPreviewDetail)for(let e in this.lista)this.lista[e].showPreviewDetail=!0;else for(let e in this.lista)this.lista[e].showPreviewDetail=!1},abrirFiltro(){this.left=!1,this.showFilters=!this.showFilters}}};var g1=t(4005);const x1=(0,T.Z)(V1,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-input"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-tooltip"),m=(0,a.resolveComponent)("q-btn"),u=(0,a.resolveComponent)("q-toolbar"),p=(0,a.resolveComponent)("q-checkbox"),h=(0,a.resolveComponent)("q-item-section"),C=(0,a.resolveComponent)("q-item"),v=(0,a.resolveComponent)("q-list"),f=(0,a.resolveComponent)("q-menu"),N=(0,a.resolveComponent)("q-item-label"),V=(0,a.resolveComponent)("q-tab"),g=(0,a.resolveComponent)("q-tabs"),x=(0,a.resolveComponent)("badge"),b=(0,a.resolveComponent)("q-avatar"),w=(0,a.resolveComponent)("q-separator"),_=(0,a.resolveComponent)("q-page"),y=(0,a.resolveComponent)("q-pagination"),I=(0,a.resolveComponent)("q-footer"),E=(0,a.resolveComponent)("q-header"),S=(0,a.resolveComponent)("campo"),M=(0,a.resolveComponent)("q-card"),T=(0,a.resolveComponent)("q-layout"),k=(0,a.resolveComponent)("q-dialog"),D=(0,a.resolveComponent)("BadgeCopiarUid"),q=(0,a.resolveComponent)("q-card-section"),F=(0,a.resolveComponent)("q-toggle"),P=(0,a.resolveComponent)("q-drawer"),A=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",iW,[(0,a.createVNode)(_,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"bg-gradiente text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"shopping_cart",size:"sm",class:"q-mr-sm"}),rW,(0,a.createVNode)(c,{class:"q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{debounce:500,modelValue:r.buscaCampo,"onUpdate:modelValue":o[0]||(o[0]=e=>r.buscaCampo=e),dense:"",ref:"buscaCampo",standout:"",filled:"",dark:"",placeholder:"Filtrar",style:{"max-width":"990px",margin:"0 auto"}},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"mdi-filter"})])),append:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"keyboard_arrow_down",onClick:l.abrirFiltro,class:"cursor-pointer"},null,8,["onClick"])])),_:1},8,["modelValue"])])),_:1}),(0,a.createVNode)(m,{flat:"",dense:"",icon:"add",color:"white",round:"",class:"hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[lW])),_:1})])),_:1}),(0,a.createVNode)(m,{icon:"search",color:"white",flat:"",dense:"",round:"",onClick:o[1]||(o[1]=e=>r.contatosModal=!0)})])),_:1}),(0,a.createVNode)(m,{round:"",color:"primary",class:"fixed hideondesktop",icon:"add",size:"lg",style:{right:"18px",bottom:"18px","z-index":"55"}}),(0,a.createVNode)(u,{class:"bg-transparent q-py-sm text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[2]||(o[2]=e=>r.checkboxModel=e)},null,8,["modelValue"]),(0,a.createVNode)(m,{flat:"",dense:"",icon:"arrow_drop_down",size:"md",color:"dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(v,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"edit"})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[sW])),_:1})])),_:1})])),_:1},512),[[A]])])),_:1})])),_:1}),(0,a.createVNode)(m,{flat:"",dense:"",icon:"label",color:"tertiary",size:"md",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[nW])),_:1})])),_:1}),(0,a.createVNode)(m,{flat:"",dense:"",icon:"delete",color:"tertiary",size:"md",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[cW])),_:1})])),_:1}),(0,a.createVNode)(c),(0,a.createVNode)(m,{size:"md",flat:"",dense:"",icon:r.showAllPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",color:"tertiary",round:"",onClick:o[3]||(o[3]=e=>l.abrirTodosPreview())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[dW])),_:1})])),_:1},8,["icon"]),(0,a.createVNode)(m,{size:"md",dense:"",flat:"",icon:"swap_vert",round:"",color:"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(v,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"edit"})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[mW])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"edit"})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[uW])),_:1})])),_:1})])),_:1})])),_:1},512),[[A]])])),_:1})])),_:1}),(0,a.createVNode)(m,{size:"md",flat:"",dense:"",icon:"mdi-download",color:"tertiary",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[pW])),_:1})])),_:1}),(0,a.createVNode)(m,{size:"md",flat:"",dense:"",icon:"print",color:"tertiary",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[hW])),_:1})])),_:1}),(0,a.createVNode)(m,{size:"md",flat:"",dense:"",icon:"more_vert",round:"",color:"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(v,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"edit"})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[CW])),_:1})])),_:1})])),_:1})])),_:1},512),[[A]])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(g,{modelValue:r.tabsModel,"onUpdate:modelValue":o[4]||(o[4]=e=>r.tabsModel=e),dense:"",class:"text-primary",align:"left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{name:"xtab-1",label:"Em Digitação",default:""}),(0,a.createVNode)(V,{name:"xtab-2",label:"Emitidas"}),(0,a.createVNode)(V,{name:"xtab-3",label:"Canceladas"}),(0,a.createVNode)(V,{name:"xtab-4",label:"Todas"})])),_:1},8,["modelValue"]),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(v,{class:"rounded-borders",style:{border:"none !important"},key:e},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{avatar:"",center:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",vW,[(0,a.createVNode)(p,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[5]||(o[5]=e=>r.checkboxModel=e)},null,8,["modelValue"]),(0,a.createVNode)(x,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[fW])),_:1})])])),_:1}),(0,a.createVNode)(h,{avatar:"",clickable:"",onClick:l.abrirModalCardNFSE},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("img",{src:e.photo},null,8,NW)])),_:2},1024)])),_:2},1032,["onClick"]),(0,a.createVNode)(h,{top:"",class:"col-2 gt-sm",clickable:"",onClick:l.abrirModalCardNFSE},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.name),1)])),_:2},1024),(0,a.createVNode)(N,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.fullName),1)])),_:2},1024)])),_:2},1032,["onClick"]),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{lines:"1"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"event",class:"text-tertiary"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.data)+" ",1),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[VW])),_:1})])),_:2},1024)])),_:2},1024),(0,a.createVNode)(h,{avatar:"",clickable:"",onClick:l.abrirModalCardNFSE},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{class:"q-mr-sm",escuro:"",cor:"tertiary"},{default:(0,a.withCtx)((()=>[gW])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)(h,{clickable:"",onClick:l.abrirModalCardNFSE},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{caption:"",class:"text-right text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("span",null,[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor)+" ",1),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[xW])),_:1})])])),_:2},1024)])),_:2},1032,["onClick"]),(0,a.createVNode)(h,{side:"",center:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",bW,[(0,a.createVNode)(m,{icon:e.showPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",class:"gt-xs",clickable:"",color:"tertiary",dense:"",flat:"",round:"",size:"12px",onClick:o=>e.showPreviewDetail=!e.showPreviewDetail},null,8,["icon","onClick"]),(0,a.createVNode)(m,{class:"gt-xs",color:"tertiary",dense:"",flat:"",icon:"edit",round:"",size:"12px",onClick:o[6]||(o[6]=e=>r.showModal=!r.showModal)}),(0,a.createVNode)(m,{class:"gt-xs",color:"tertiary",dense:"",flat:"",icon:"delete",round:"",size:"12px"}),(0,a.createVNode)(m,{dense:"",flat:"",icon:"more_vert",round:"",size:"12px"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{link:"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{clickable:"",onClick:o[7]||(o[7]=e=>r.showModal=!r.showModal)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"edit"})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[wW])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"print"})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[_W])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"delete"})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[yW])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"mdi-download"})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[IW])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"mail"})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[EW])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(C,{clickable:"",onClick:o[8]||(o[8]=e=>r.showModalCarta=!r.showModalCarta)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"edit"})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[SW])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])])),_:2},1024)])),_:2},1024),e.showPreviewDetail?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"preline"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"text-tertiary",stamp:""},{default:(0,a.withCtx)((()=>[MW])),_:1}),(0,a.createVNode)(N,{caption:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.linha2.produto.descricao),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)):(0,a.createCommentVNode)("",!0),e.showPreviewDetail?((0,a.openBlock)(),(0,a.createBlock)(C,{key:1,align:"left",class:"collumnOnMobile q-px-md q-py-xs"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",TW,[(0,a.createVNode)(h,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("img",{src:e.photo},null,8,kW)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{caption:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[DW])),_:1}),(0,a.createVNode)(N,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.linha2.emitente.sigla),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(h,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"room",class:"text-h5 text-tertiary"})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{caption:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[qW])),_:1}),(0,a.createVNode)(N,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.linha2.emitente.localNota),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(h,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"today",class:"text-h5 text-tertiary"})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{caption:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[FW])),_:1}),(0,a.createVNode)(N,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.data),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(h,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"event",class:"text-h5 text-tertiary"})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{caption:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[PW])),_:1}),(0,a.createVNode)(N,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.data),1)])),_:2},1024)])),_:2},1024)])])),_:2},1024)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(w,{spaced:""})])),_:2},1024)))),128))])),_:1}),(0,a.createVNode)(I,{class:"bg-grey-3 footerpaginacao"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{input:"",modelValue:e.paginacao.atual,"onUpdate:modelValue":[o[9]||(o[9]=o=>e.paginacao.atual=o),e.atualizar],max:e.paginacao.maximo,class:"justify-center",color:"tertiary"},null,8,["modelValue","max","onUpdate:modelValue"])])),_:1}),(0,a.createVNode)(k,{maximized:"",modelValue:r.showModalNovoCliente,"onUpdate:modelValue":o[10]||(o[10]=e=>r.showModalNovoCliente=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,{class:"bg-light",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(m,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[A]]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[AW])),_:1})])),_:1})])),_:1}),(0,a.createElementVNode)("div",BW,[(0,a.createElementVNode)("div",LW,[(0,a.createVNode)(M,{class:"bg-white q-pa-md no-border q-my-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",OW,[(0,a.createVNode)(x,{cor:"positive",escuro:""},{default:(0,a.withCtx)((()=>[zW])),_:1})]),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(S,{rotulo:"Apelido"})]),(0,a.createElementVNode)("div",jW,[(0,a.createVNode)(S,{rotulo:"Nome completo"})]),(0,a.createElementVNode)("div",$W,[(0,a.createElementVNode)("div",UW,[(0,a.createElementVNode)("div",ZW,[(0,a.createElementVNode)("div",QW,[(0,a.createVNode)(S,{rotulo:"CNPJ/CPF"})]),(0,a.createVNode)(m,{class:"col-auto self-start q-mt-lg",color:"none",dense:"",flat:"",round:"",size:"xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{color:"positive",name:"mdi-arrow-down-bold-circle",size:"24px"}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[RW])),_:1})])),_:1})])]),(0,a.createElementVNode)("div",GW,[(0,a.createVNode)(S,{rotulo:"RG/IE"})]),(0,a.createElementVNode)("div",HW,[(0,a.createVNode)(S,{rotulo:"Data de Nascimento"})])]),(0,a.createElementVNode)("div",JW,[YW,(0,a.createElementVNode)("div",XW,[(0,a.createElementVNode)("div",WW,[(0,a.createElementVNode)("div",KW,[(0,a.createVNode)(m,{color:"none",dense:"",flat:"",round:"",icon:"phone"})]),(0,a.createElementVNode)("div",eK,[(0,a.createVNode)(S,{rotulo:"Tipo",options:r.telefoneTipos,tipo:"seletor"},null,8,["options"])]),(0,a.createElementVNode)("div",oK,[(0,a.createVNode)(S,{rotulo:"Telefone"})]),(0,a.createElementVNode)("div",tK,[(0,a.createVNode)(S,{rotulo:"Descrição"})]),(0,a.createElementVNode)("div",aK,[(0,a.createVNode)(m,{color:"negative",size:"xs",icon:"remove",outline:"",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[iK])),_:1})])),_:1})])])]),(0,a.createElementVNode)("div",rK,[(0,a.createVNode)(m,{color:"positive",icon:"add",label:"Telefone",outline:"",size:"sm"})])]),(0,a.createElementVNode)("div",lK,[sK,(0,a.createElementVNode)("div",nK,[(0,a.createElementVNode)("div",cK,[(0,a.createElementVNode)("div",dK,[(0,a.createVNode)(m,{color:"none u-semClique",dense:"",flat:"",round:"",icon:"star"})]),(0,a.createElementVNode)("div",mK,[(0,a.createVNode)(S,{rotulo:"Grupo",options:r.telefoneTipos,tipo:"seletor"},null,8,["options"])]),(0,a.createElementVNode)("div",uK,[(0,a.createVNode)(S,{rotulo:"CEP"})]),(0,a.createElementVNode)("div",pK,[(0,a.createVNode)(S,{rotulo:"UF"})]),(0,a.createElementVNode)("div",hK,[(0,a.createVNode)(S,{rotulo:"Cidade"})]),(0,a.createElementVNode)("div",CK,[(0,a.createVNode)(S,{rotulo:"Endereço"})]),(0,a.createElementVNode)("div",vK,[(0,a.createVNode)(S,{rotulo:"Número"})]),(0,a.createElementVNode)("div",fK,[(0,a.createVNode)(S,{rotulo:"Complemento"})]),(0,a.createElementVNode)("div",NK,[(0,a.createVNode)(S,{rotulo:"Bairro"})]),(0,a.createElementVNode)("div",VK,[(0,a.createVNode)(S,{rotulo:"País"})]),(0,a.createElementVNode)("div",gK,[(0,a.createVNode)(m,{color:"negative",size:"xs",icon:"remove",outline:"",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[xK])),_:1})])),_:1})])])]),(0,a.createElementVNode)("div",bK,[(0,a.createVNode)(m,{color:"positive",icon:"add",label:"Endereço",outline:"",size:"sm"})])])])),_:1})])]),(0,a.createVNode)(I,{class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",wK,[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c),(0,a.createVNode)(m,{class:"q-ml-sm no-shadow float-right",color:"negative",flat:"",label:"Cancelar",unelevated:""}),(0,a.createVNode)(m,{class:"q-ml-sm no-shadow float-right",color:"primary",label:"Transmitir",unelevated:""})])),_:1})])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(k,{maximized:"",modelValue:r.showModalDestinatario,"onUpdate:modelValue":o[11]||(o[11]=e=>r.showModalDestinatario=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,{class:"bg-light",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(m,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[A]]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[_K])),_:1})])),_:1})])),_:1}),(0,a.createElementVNode)("div",yK,[(0,a.createElementVNode)("div",IK,[(0,a.createVNode)(M,{class:"bg-white q-pa-md no-border q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"q-pa-none q-ma-none",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[EK,(0,a.createVNode)(c),(0,a.createVNode)(D,{id:159,numero:159,cor:"faded"})])),_:1}),(0,a.createVNode)(q,{class:"q-px-none q-pb-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",SK,[(0,a.createElementVNode)("div",MK,[(0,a.createVNode)(S,{rotulo:"CPF/CNPJ",before:[{icon:"search",handler:e.abrirModalContato}],"somente-leitura":""},null,8,["before"])]),(0,a.createElementVNode)("div",TK,[(0,a.createVNode)(S,{rotulo:"Razão Social"})]),(0,a.createElementVNode)("div",kK,[(0,a.createVNode)(S,{rotulo:"Inscrição Municipal"})]),(0,a.createElementVNode)("div",DK,[(0,a.createVNode)(S,{rotulo:"Nome Fantasia"})])]),(0,a.createElementVNode)("div",qK,[(0,a.createElementVNode)("div",FK,[(0,a.createVNode)(S,{rotulo:"CEP"})]),(0,a.createElementVNode)("div",PK,[(0,a.createVNode)(S,{rotulo:"Endereço"})]),(0,a.createElementVNode)("div",AK,[(0,a.createVNode)(S,{rotulo:"Número"})])]),(0,a.createElementVNode)("div",BK,[(0,a.createElementVNode)("div",LK,[(0,a.createVNode)(S,{rotulo:"Complemento"})]),(0,a.createElementVNode)("div",OK,[(0,a.createVNode)(S,{rotulo:"Bairro"})]),(0,a.createElementVNode)("div",zK,[(0,a.createVNode)(S,{rotulo:"Cidade"})]),(0,a.createElementVNode)("div",jK,[(0,a.createVNode)(S,{rotulo:"UF"})])]),(0,a.createElementVNode)("div",$K,[(0,a.createElementVNode)("div",UK,[(0,a.createVNode)(S,{rotulo:"Telefone"})]),(0,a.createElementVNode)("div",ZK,[(0,a.createVNode)(S,{rotulo:"E-mail"})])])])),_:1})])),_:1})])]),(0,a.createVNode)(I,{class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",QK,[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c),(0,a.createVNode)(m,{class:"q-ml-sm no-shadow float-right",color:"negative",flat:"",label:"Cancelar",unelevated:""}),(0,a.createVNode)(m,{class:"q-ml-sm no-shadow float-right",color:"primary",label:"Transmitir",unelevated:""})])),_:1})])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(k,{maximized:"",modelValue:r.showModalCarta,"onUpdate:modelValue":o[12]||(o[12]=e=>r.showModalCarta=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,{class:"bg-light",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(m,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[A]]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[RK])),_:1})])),_:1})])),_:1}),(0,a.createElementVNode)("div",GK,[(0,a.createElementVNode)("div",HK,[(0,a.createVNode)(M,{class:"bg-white q-pa-md no-border q-my-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",JK,[YK,(0,a.createElementVNode)("div",XK,[(0,a.createVNode)(S,{class:"q-mt-md q-py-xs q-px-sm",rows:"2",tipo:"textoArea",placeholder:"Descreva o que deseja corrigir"})])])])),_:1})])]),(0,a.createVNode)(I,{class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",WK,[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c),(0,a.createVNode)(m,{class:"q-ml-sm no-shadow float-right",color:"negative",flat:"",label:"Cancelar",unelevated:""}),(0,a.createVNode)(m,{class:"q-ml-sm no-shadow float-right",color:"primary",label:"Transmitir",unelevated:""})])),_:1})])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(k,{maximized:"",modelValue:r.showModal,"onUpdate:modelValue":o[16]||(o[16]=e=>r.showModal=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,{class:"bg-light",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(m,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[A]]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[KK])),_:1}),(0,a.createVNode)(m,{unelevated:"",color:"white","text-color":"primary",label:"Salvar"})])),_:1})])),_:1}),(0,a.createElementVNode)("div",e0,[(0,a.createElementVNode)("div",o0,[(0,a.createVNode)(M,{class:"bg-white q-pa-md no-border no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"q-pa-none q-ma-none",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[t0,(0,a.createVNode)(c),(0,a.createElementVNode)("div",a0,[(0,a.createVNode)(D,{id:159,numero:159,cor:"faded"})])])),_:1}),(0,a.createVNode)(q,{class:"q-px-none q-pb-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",i0,[(0,a.createElementVNode)("div",r0,[(0,a.createVNode)(S,{rotulo:"Natureza da Operação"})]),(0,a.createElementVNode)("div",l0,[(0,a.createVNode)(S,{rotulo:"Data de competência da NFS-e",tipo:"data"})]),(0,a.createElementVNode)("div",s0,[(0,a.createVNode)(S,{rotulo:"Data de emissão da NFS-e",tipo:"data","somente-leitura":""})]),(0,a.createElementVNode)("div",n0,[(0,a.createVNode)(S,{rotulo:"Código de verificação de Autenticidade",value:"#5065065","somente-leitura":""})])]),(0,a.createElementVNode)("div",c0,[(0,a.createElementVNode)("div",d0,[(0,a.createVNode)(S,{rotulo:"Número do RPS"})]),(0,a.createElementVNode)("div",m0,[(0,a.createVNode)(S,{rotulo:"Serie do RPS"})]),(0,a.createElementVNode)("div",u0,[(0,a.createVNode)(S,{rotulo:"Tipo do RPS"})]),(0,a.createElementVNode)("div",p0,[(0,a.createVNode)(S,{rotulo:"Data de emissão do RPS",tipo:"data"})])])])),_:1})])),_:1}),(0,a.createElementVNode)("div",h0,[(0,a.createElementVNode)("div",C0,[(0,a.createVNode)(M,{class:"bg-white q-pa-md no-border q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",v0,[(0,a.createElementVNode)("div",f0,[(0,a.createVNode)(u,{class:"q-pa-none q-ma-none",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[N0,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[V0])),_:1})])),_:1}),(0,a.createVNode)(q,{class:"q-px-none q-pb-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",g0,[(0,a.createElementVNode)("div",x0,[(0,a.createVNode)(S,{value:"Sua empresa ",before:[{icon:"search",handler:e.abrirModalContato}],after:[{icon:"edit",handler:l.abrirModalDestinatario}],"somente-leitura":""},null,8,["before","after"])])])])),_:1})])])])),_:1})]),(0,a.createElementVNode)("div",b0,[(0,a.createVNode)(M,{class:"bg-white q-pa-md no-border q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",w0,[(0,a.createElementVNode)("div",_0,[(0,a.createVNode)(u,{class:"q-pa-none q-ma-none",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[y0,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[I0])),_:1}),(0,a.createVNode)(m,{flat:"",dense:"",icon:"add",color:"tertiary",size:"sm",round:"",class:"hideonmobile",onClick:o[13]||(o[13]=e=>r.showModalNovoCliente=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[E0])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(q,{class:"q-px-none q-pb-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",S0,[(0,a.createElementVNode)("div",M0,[(0,a.createVNode)(S,{value:"Cliente ",before:[{icon:"search",handler:e.abrirModalContato}],after:[{icon:"edit",handler:l.abrirModalDestinatario}],"somente-leitura":""},null,8,["before","after"])])])])),_:1})])])])),_:1})]),(0,a.createElementVNode)("div",T0,[(0,a.createVNode)(M,{class:"bg-white q-pa-md no-border q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",k0,[(0,a.createElementVNode)("div",D0,[(0,a.createVNode)(u,{class:"q-pa-none q-ma-none",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[q0,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[F0])),_:1}),(0,a.createVNode)(m,{flat:"",dense:"",icon:"add",color:"tertiary",size:"sm",round:"",class:"hideonmobile",onClick:o[14]||(o[14]=e=>r.showModalNovoCliente=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[P0])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(q,{class:"q-px-none q-pb-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",A0,[(0,a.createElementVNode)("div",B0,[(0,a.createVNode)(S,{value:"Cliente ",before:[{icon:"search",handler:e.abrirModalContato}],after:[{icon:"edit",handler:l.abrirModalDestinatario}],"somente-leitura":""},null,8,["before","after"])])])])),_:1})])])])),_:1})])]),(0,a.createVNode)(M,{class:"bg-white q-pa-md no-border q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"q-pa-none q-ma-none",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[L0])),_:1}),(0,a.createVNode)(q,{class:"q-px-none q-pb-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",O0,[(0,a.createElementVNode)("div",z0,[(0,a.createVNode)(S,{placeholder:"Selecionar cidade/uf",value:"Ribeirão Preto/SP ",before:[{icon:"search"}],"somente-leitura":""})])])])),_:1})])),_:1}),(0,a.createVNode)(M,{class:"bg-white q-pa-md no-border q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"q-pa-none q-ma-none",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[j0])),_:1}),(0,a.createElementVNode)("div",$0,[(0,a.createElementVNode)("div",U0,[(0,a.createVNode)(S,{class:"q-mt-md q-py-xs q-px-sm",rows:"2",tipo:"textoArea",value:"Serviços prestados conforme orçamento"})])])])),_:1}),(0,a.createVNode)(M,{class:"bg-white q-pa-md no-border q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"q-pa-none q-ma-none",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[Z0])),_:1}),(0,a.createVNode)(q,{class:"q-px-none q-pb-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Q0,[(0,a.createElementVNode)("div",R0,[(0,a.createVNode)(S,{rotulo:"Atividade do Município",options:r.telefoneTipos,tipo:"seletor"},null,8,["options"])]),(0,a.createElementVNode)("div",G0,[(0,a.createVNode)(S,{rotulo:"Item de LC116/2003"})]),(0,a.createElementVNode)("div",H0,[(0,a.createVNode)(S,{rotulo:"Cód. Nacional Atividade Econômica"})]),(0,a.createElementVNode)("div",J0,[(0,a.createVNode)(S,{rotulo:"Aliquota",value:"2",suffix:"%",tipo:"decimal"})]),(0,a.createElementVNode)("div",Y0,[(0,a.createVNode)(S,{rotulo:"Valor total dos serviços",value:"0",prefix:"R$",tipo:"decimal"})])]),(0,a.createElementVNode)("div",X0,[(0,a.createElementVNode)("div",W0,[(0,a.createVNode)(S,{rotulo:"Desconto Incondicionado",value:"0",prefix:"R$",tipo:"decimal"})]),(0,a.createElementVNode)("div",K0,[(0,a.createVNode)(S,{rotulo:"Deduções base cálculo",value:"0",prefix:"R$",tipo:"decimal"})]),(0,a.createElementVNode)("div",e1,[(0,a.createVNode)(S,{rotulo:"Base de cálculo",value:"0",prefix:"R$",tipo:"decimal"})]),(0,a.createElementVNode)("div",o1,[(0,a.createVNode)(S,{rotulo:"Desconto condicionado",value:"0",prefix:"R$",tipo:"decimal"})]),(0,a.createElementVNode)("div",t1,[(0,a.createVNode)(F,{modelValue:r.checkedISSQN,"onUpdate:modelValue":o[15]||(o[15]=e=>r.checkedISSQN=e),class:"q-pt-lg",label:"ISSQN Retido"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",a1,[(0,a.createVNode)(S,{rotulo:"Total do ISSQN",value:"0",prefix:"R$",tipo:"decimal"})])])])),_:1})])),_:1}),(0,a.createVNode)(M,{class:"bg-white q-pa-md no-border q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"q-pa-none q-ma-none",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[i1])),_:1}),(0,a.createVNode)(q,{class:"q-px-none q-pb-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",r1,[(0,a.createElementVNode)("div",l1,[(0,a.createVNode)(S,{rotulo:"PIS",value:"0",prefix:"R$",tipo:"decimal"})]),(0,a.createElementVNode)("div",s1,[(0,a.createVNode)(S,{rotulo:"COFINS",value:"0",prefix:"R$",tipo:"decimal"})]),(0,a.createElementVNode)("div",n1,[(0,a.createVNode)(S,{rotulo:"INSS",value:"0",prefix:"R$",tipo:"decimal"})]),(0,a.createElementVNode)("div",c1,[(0,a.createVNode)(S,{rotulo:"IRRF",value:"0",prefix:"R$",tipo:"decimal"})]),(0,a.createElementVNode)("div",d1,[(0,a.createVNode)(S,{rotulo:"CSLL",value:"0",prefix:"R$",tipo:"decimal"})]),(0,a.createElementVNode)("div",m1,[(0,a.createVNode)(S,{rotulo:"Outras Retenções",value:"0",prefix:"R$",tipo:"decimal"})]),(0,a.createElementVNode)("div",u1,[(0,a.createVNode)(S,{rotulo:"ISSQN",value:"0",prefix:"R$",tipo:"decimal"})])])])),_:1})])),_:1})])]),(0,a.createVNode)(I,{class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",p1,[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[h1,(0,a.createVNode)(c),(0,a.createVNode)(m,{class:"q-ml-sm no-shadow float-right",color:"negative",flat:"",label:"Remover",unelevated:""}),(0,a.createVNode)(m,{class:"q-ml-sm no-shadow float-right",color:"primary",label:"Emitir",unelevated:""})])),_:1})])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(P,{side:"right",modelValue:r.showFilters,"onUpdate:modelValue":o[18]||(o[18]=e=>r.showFilters=e),overlay:"","content-class":"mydrawerFL"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{color:"white","text-color":"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"mdi-filter",color:"tertiary"}),(0,a.createVNode)(c,{class:"text-subtitle1 text-weight-medium"},{default:(0,a.withCtx)((()=>[C1])),_:1}),(0,a.createVNode)(m,{dense:"",flat:"",icon:"close",round:"",onClick:o[17]||(o[17]=e=>r.showFilters=!r.showFilters)})])),_:1}),(0,a.createElementVNode)("div",v1,[f1,(0,a.createElementVNode)("div",N1,[(0,a.createVNode)(m,{class:"col-6",flat:"",color:"tertiary",label:"Limpar",onClick:l.filtrar},null,8,["onClick"]),(0,a.createVNode)(m,{class:"col-6 no-shadow",color:"primary",label:"Aplicar",onClick:l.filtrar},null,8,["onClick"])])])])),_:1},8,["modelValue"])])}]]);Z()(V1,"components",{QPage:se.Z,QToolbar:O.Z,QIcon:L.Z,QToolbarTitle:G.Z,QInput:re.Z,QBtn:H.Z,QTooltip:Ao.Z,QCheckbox:Hh.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z,QTabs:ko.Z,QTab:Do.Z,QAvatar:g1.Z,QSeparator:$.Z,QFooter:Te.Z,QPagination:Dp.Z,QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QCard:D.Z,QCardSection:q.Z,QToggle:il.Z,QDrawer:YM.Z}),Z()(V1,"directives",{ClosePopup:J.Z});const b1=["onClick"],w1=["onClick"],_1=(0,a.createTextVNode)(" Contatos "),y1=(0,a.createTextVNode)(" Enviados "),I1={class:"q-col-gutter-xs"},E1=(0,a.createTextVNode)("Nome da campanha"),S1={class:"layout-padding q-pa-none q-pb-md"},M1={class:"u-container"},T1=(0,a.createTextVNode)("Detalhes"),k1={class:"col-12 col-md-6"},D1={class:"col-12 col-md-6"},q1={class:"col-12"},F1={class:"q-caption q-mt-sm"},P1=(0,a.createTextVNode)("Você pode usar os seguintes argumentos na mensagem para deixar ainda mais personalizado sua campanha: "),A1=(0,a.createTextVNode)("[Nome]"),B1=(0,a.createTextVNode)("[Apelido]"),L1=(0,a.createTextVNode)("[Telefone]"),O1=(0,a.createTextVNode)("Anexos"),z1={class:"col-12 col-md"},j1={class:"q-col-gutter-xs"},$1={class:"col-auto"},U1={class:"col"},Z1={class:"col"},Q1={class:"q-col-gutter-xs"},R1={class:"col-auto items-center"},G1={class:"col"},H1={class:"col-12"},J1={class:"col-12"},Y1=(0,a.createTextVNode)("Valor de venda"),X1={class:"col"},W1=(0,a.createTextVNode)("Data do Envio"),K1={class:"q-col-gutter-xs"},e2={class:"u-container relative-position"},o2=(0,a.createTextVNode)("Anexar"),t2={data:()=>({visivel:!1}),methods:{async anexar(e){const o=await this.toBase64(e[0]);await $utils.geeksApi({ret:{funcao:"D280149A-F8EA-4103-B4AA-656707767F19",idCampanha:this.idCampanha,anexo:o,nomeArquivo:e[0].name}}),this.resolve({}),this.visivel=!1},onHide(){this.resolve()},async mostrar({idCampanha:e}){return this.idCampanha=e,this.visivel=!0,new Promise(((e,o)=>{this.resolve=e}))},toBase64:e=>new Promise(((o,t)=>{const a=new FileReader;a.readAsDataURL(e),a.onload=()=>o(a.result),a.onerror=e=>t(e)}))}},a2=(0,T.Z)(t2,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-uploader"),m=(0,a.resolveComponent)("q-card"),u=(0,a.resolveComponent)("q-dialog"),p=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(u,{modelValue:r.visivel,"onUpdate:modelValue":o[0]||(o[0]=e=>r.visivel=e),onHide:o[1]||(o[1]=e=>l.onHide())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[o2])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",icon:"close",round:""},null,512),[[p]])])),_:1}),(0,a.createVNode)(d,{"auto-expand":"",color:"none",class:"mobile-only",label:"Foto","hide-upload-btn":"","hide-upload-progress":"","dark-light":"",url:"",ref:"fotoCampo",factory:l.anexar},null,8,["factory"]),(0,a.createVNode)(d,{"auto-expand":"",color:"none",class:"mobile-hide",extensions:".jpg,.mp3,.mp4",label:"Anexo","hide-upload-btn":"","auto-upload":"","dark-light":"",url:"",ref:"fotoCampo",factory:l.anexar},null,8,["factory"])])),_:1})])),_:1},8,["modelValue"])}]]);Z()(t2,"components",{QDialog:k.Z,QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QUploader:yo.Z}),Z()(t2,"directives",{ClosePopup:J.Z});const i2={components:{modalAnexo:a2,BadgeCopiarUid:xs.Z},data:()=>({campanha:{id:"",descricao:"Descrição",dataHoraCriacao:$utils.dataAtual(),status:"Rascunho",tipo:"",idContato:"",mensagem:"Mensagem",responsavel:""},campanhaOriginal:{},campanhaContato:[],campanhaAnexo:[],contatoGrupo:[],vendedores:[],opcoesTipo:[{rotulo:"Whatsapp",valor:"Whatsapp"}],opcoesAdicionar:[{rotulo:"Contato Grupo",valor:"contato-grupo"},{rotulo:"Carteira do Vendedor",valor:"carteira-vendedor"}],opcaoAdicionar:"",grupo:"",vendedor:"",visivel:!1,somenteLeitura:!1}),emits:["atualizar"],methods:{async atualizar({id:e}){try{this.$q.loading.show();const o=await $utils.geeksApi({ret:{funcao:"5FBF590B-9B92-4C38-A205-3B4233541140",id:e}});this.campanha=$utils.clonar(o.data.ret.campanha),this.campanhaContato=$utils.clonar(o.data.ret.campanhaContato),this.campanhaAnexo=$utils.clonar(o.data.ret.campanhaAnexo),this.somenteLeitura="Rascunho"!==o.data.ret.campanha.status}finally{this.$q.loading.hide()}},async salvar(){const e=this.verificarSeAlterouCampos();0!==Object.keys(e).length&&(e.funcao="65A200F2-9B9F-40E6-BD3A-282B77FC6BFB",e.id=this.campanha.id,await $utils.geeksApi({ret:e}))},async salvar_click(){try{this.campanha.idContato||(this.campanha.idContato=$db.usuario.logado.id);const e=this.verificarSeAlterouCampos();if(0===Object.keys(e).length)return $q.notifyPositive("Não há dados alterados.");$q.loading.show(),await this.salvar(),this.$emit("atualizar"),this.visivel=!1}catch(e){$q.notifyError("Ocorreu um erro ao salvar",e)}finally{$q.loading.hide()}},async enviar_click(){if(0!==this.campanhaContato.length)try{$q.loading.show(),this.campanha.status="Enviando",this.campanha.dataHoraDisparo=$utils.dataAtual(),this.salvar(),this.$emit("atualizar"),this.visivel=!1}catch(e){$q.notifyError("Ocorreu um erro!",e)}finally{$q.loading.hide()}else this.$q.notifyError("Não é permitido enviar campanha sem lista de contatos!")},aoCancelar(){},fechar(){this.visivel=!1,this.$emit("atualizar")},async anexar_click(){const e=this.campanha,o=this.campanha.id;await this.salvar(),await this.$refs.modalAnexo.mostrar({idCampanha:o}),await this.atualizar({id:o}),this.campanha=e},async anexoRemove(e){this.$q.dialog({cancel:{label:"Manter",push:!0,color:"tertiary",flat:!0},title:"Tem certeza?",message:"Ao continuar você irá perder esse anexo.",ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{try{this.$q.loading.show();const o=this.campanha,t=o.id;await $utils.geeksApi({ret:{funcao:"BE8B810E-A49A-4B38-84B8-B758AD5064EF",id:e.id}}),await this.atualizar({id:t}),this.campanha=o}finally{this.$q.loading.hide()}}))},async mostrar({id:e}){this.visivel=!0,await this.atualizar({id:e}),this.campanhaOriginal=$utils.clonar(this.campanha)},criar(){this.campanha={id:$utils.uuid(),descricao:"Descrição",dataHoraCriacao:$utils.dataAtual(),status:"Rascunho",tipo:"Whatsapp",mensagem:"Mensagem",idContato:$db.usuario.logado.id,responsavel:$db.usuario.logado.nome},this.campanhaContato=[],this.campanhaAnexo=[],this.campanhaOriginal={},this.visivel=!0,this.somenteLeitura=!1},async opcaoAdicionar_change(){"contato-grupo"===this.opcaoAdicionar&&(this.contatoGrupo=await $db.contato.leGruposUnicos()),"carteira-vendedor"===this.opcaoAdicionar&&(this.vendedores=await $db.contatoBusca.filtrar("",{ativo:!0,vendedores:!0}))},async adicionarPorGrupo(e){try{this.$q.loading.show(),await this.salvar();const o=this.campanha,t=o.id;await $utils.geeksApi({ret:{funcao:"ACC16F3A-88EC-43C6-A9B1-82828ED6E593",idCampanha:t,grupo:e.descricao}}),await this.atualizar({id:t}),this.campanha=o}finally{this.$q.loading.hide()}},async adicionarPorVendedor(e){try{this.$q.loading.show(),await this.salvar();const o=this.campanha,t=o.id;await $utils.geeksApi({ret:{funcao:"7B03B118-39D4-4BFB-9F64-12A7020F441F",idCampanha:t,idVendedor:e.id}}),await this.atualizar({id:t}),this.campanha=o}finally{this.$q.loading.hide()}},async contatoRemoveTodos(){this.$q.dialog({cancel:{label:"Voltar",push:!0,color:"tertiary",flat:!0},title:"Limpar?",message:"Ao continuar sua lista de envio ficará limpa.",ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{try{this.$q.loading.show();const e=this.campanha,o=e.id;await $utils.geeksApi({ret:{funcao:"AE0FFC21-984C-46E0-A9E6-6E8A192DC750",id:o}}),await this.atualizar({id:o}),this.campanha=e}finally{this.$q.loading.hide()}}))},async contatoRemove(e){try{this.$q.loading.show();const o=this.campanha,t=o.id;await $utils.geeksApi({ret:{funcao:"15D77453-DEE7-4DD1-B34C-3F6C8D2CC687",id:e.id}}),await this.atualizar({id:t}),this.campanha=o}finally{this.$q.loading.hide()}},verificarSeAlterouCampos(){return $utils.diferencaObjetos(this.campanhaOriginal,this.campanha)}}},r2=(0,T.Z)(i2,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-header"),m=(0,a.resolveComponent)("BadgeCopiarUid"),u=(0,a.resolveComponent)("campo"),p=(0,a.resolveComponent)("badge"),h=(0,a.resolveComponent)("row"),C=(0,a.resolveComponent)("q-card"),v=(0,a.resolveComponent)("q-icon"),f=(0,a.resolveComponent)("modalAnexo"),N=(0,a.resolveComponent)("arquivo"),V=(0,a.resolveComponent)("q-item-section"),g=(0,a.resolveComponent)("q-item-label"),x=(0,a.resolveComponent)("q-item"),b=(0,a.resolveComponent)("q-separator"),w=(0,a.resolveComponent)("q-list"),_=(0,a.resolveComponent)("q-select"),y=(0,a.resolveComponent)("avatar"),I=(0,a.resolveComponent)("q-tooltip"),E=(0,a.resolveComponent)("q-page-container"),S=(0,a.resolveComponent)("q-footer"),M=(0,a.resolveComponent)("q-layout"),T=(0,a.resolveComponent)("q-dialog");return(0,a.openBlock)(),(0,a.createBlock)(T,{modelValue:r.visivel,"onUpdate:modelValue":o[5]||(o[5]=e=>r.visivel=e),persistent:"",maximized:"",onKeyup:(0,a.withKeys)(l.fechar,["esc"])},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(M,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{icon:"arrow_back",flat:"",round:"",dense:"",onClick:l.fechar},null,8,["onClick"]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[E1])),_:1}),(0,a.withDirectives)((0,a.createVNode)(s,{class:"q-ml-sm no-shadow",color:"white","text-color":"primary",label:"Salvar",onClick:l.salvar_click,unelevated:""},null,8,["onClick"]),[[a.vShow,!r.somenteLeitura]])])),_:1})])),_:1}),(0,a.createVNode)(E,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",S1,[(0,a.createElementVNode)("div",M1,[(0,a.createVNode)(C,{class:"q-pa-md q-pa-md q-mt-md bg-white no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"q-pb-md q-px-none",color:"black",dark:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[T1])),_:1}),(0,a.createVNode)(m,{id:r.campanha.id||"0000",numero:(r.campanha.id||"0000").slice(-8),cor:"tertiary"},null,8,["id","numero"])])),_:1}),(0,a.createVNode)(h,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",k1,[(0,a.createVNode)(u,{modelValue:r.campanha.descricao,"onUpdate:modelValue":o[0]||(o[0]=e=>r.campanha.descricao=e),rotulo:"Titulo da campanha",dense:"",somenteLeitura:r.somenteLeitura},null,8,["modelValue","somenteLeitura"])]),(0,a.createElementVNode)("div",D1,[(0,a.createVNode)(u,{modelValue:r.campanha.responsavel,"onUpdate:modelValue":o[1]||(o[1]=e=>r.campanha.responsavel=e),rotulo:"Responsável",dense:"",somenteLeitura:""},null,8,["modelValue"])]),(0,a.createElementVNode)("div",q1,[(0,a.createVNode)(u,{modelValue:r.campanha.mensagem,"onUpdate:modelValue":o[2]||(o[2]=e=>r.campanha.mensagem=e),tipo:"textoArea",rotulo:"Mensagem",somenteLeitura:r.somenteLeitura},null,8,["modelValue","somenteLeitura"]),(0,a.createElementVNode)("p",F1,[P1,(0,a.createVNode)(p,{class:"q-mr-xs"},{default:(0,a.withCtx)((()=>[A1])),_:1}),(0,a.createVNode)(p,{class:"q-mr-xs"},{default:(0,a.withCtx)((()=>[B1])),_:1}),(0,a.createVNode)(p,{class:"q-mr-xs"},{default:(0,a.withCtx)((()=>[L1])),_:1})])])])),_:1})])),_:1}),(0,a.createVNode)(C,{class:"q-pa-md q-pa-md q-mt-md bg-white no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"q-pb-md q-px-none",color:"black",dark:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{name:"image",size:"24px"}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[O1])),_:1}),(0,a.withDirectives)((0,a.createVNode)(v,{name:"add",size:"24px",onClick:l.anexar_click},null,8,["onClick"]),[[a.vShow,!r.somenteLeitura]])])),_:1}),(0,a.createVNode)(h,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{ref:"modalAnexo"},null,512),(0,a.createElementVNode)("div",z1,[(0,a.createVNode)(N,{ref:"arquivo"},null,512)])])),_:1}),(0,a.createVNode)(w,{class:"rounded-borders"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.campanhaAnexo,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e,class:"itemHover fullWidth"},[(0,a.createVNode)(x,{"manual-focus":"",clickable:"",class:"items-center d-flex q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{avatar:"",center:"",class:"mw80 hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{id:e?.id??"",numero:(e?.id??"").slice(-8),cor:"positive"},null,8,["id","numero"])])),_:2},1024),(0,a.createVNode)(V,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{class:"text-tertiary text-weight-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.nomeArquivo),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(V,{side:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",j1,[(0,a.withDirectives)((0,a.createVNode)(s,{class:"buttons hideonmobile",color:"tertiary",dense:"",flat:"",icon:"delete",round:"",size:"md",onClick:o=>l.anexoRemove(e)},null,8,["onClick"]),[[a.vShow,!r.somenteLeitura]])])])),_:2},1024)])),_:2},1024),(0,a.createVNode)(b)])))),128))])),_:1})])),_:1}),(0,a.withDirectives)((0,a.createVNode)(C,{class:"q-pa-md q-pa-md q-mt-md bg-light no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"q-col-gutter-md items-center"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",$1,[(0,a.createVNode)(v,{name:"add",size:"24px"})]),(0,a.createElementVNode)("div",U1,[(0,a.createVNode)(u,{modelValue:r.opcaoAdicionar,"onUpdate:modelValue":[o[3]||(o[3]=e=>r.opcaoAdicionar=e),l.opcaoAdicionar_change],rotuloFixo:"Tipo",tipo:"seletor",opcoes:r.opcoesAdicionar,filter:"",dense:"",outlined:""},null,8,["modelValue","opcoes","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",Z1,["contato-grupo"===r.opcaoAdicionar?((0,a.openBlock)(),(0,a.createBlock)(_,{key:0,dense:"",outlined:"","xxv-model":"grupo",label:"Filtre",options:r.contatoGrupo,"option-value":"descricao","option-label":"descricao","onUpdate:modelValue":l.adicionarPorGrupo},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{name:"mdi-filter"})])),_:1},8,["options","onUpdate:modelValue"])):(0,a.createCommentVNode)("",!0),"carteira-vendedor"===r.opcaoAdicionar?((0,a.openBlock)(),(0,a.createBlock)(_,{key:1,dense:"",outlined:"","xxv-model":"vendedor",label:"Filtre",options:r.vendedores,"option-label":"apelido","onUpdate:modelValue":l.adicionarPorVendedor},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{name:"mdi-filter"})])),_:1},8,["options","onUpdate:modelValue"])):(0,a.createCommentVNode)("",!0)])])),_:1})])),_:1},512),[[a.vShow,!r.somenteLeitura]]),(0,a.createVNode)(C,{class:"q-pa-md q-pa-md q-mt-md bg-white no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{class:"rounded-borders"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{"manual-focus":"",clickable:"",class:"items-center d-flex q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{avatar:"",center:"",class:"mw80 hideonmobile"}),(0,a.createVNode)(V),(0,a.createVNode)(V,{avatar:"",class:"mw100"}),(0,a.createVNode)(V,{avatar:"",class:"mw100 hideonmobile"}),(0,a.createVNode)(V,{avatar:"",class:"mw100 hideonmobile"}),(0,a.createVNode)(V,{side:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Q1,[(0,a.withDirectives)((0,a.createVNode)(s,{class:"buttons hideonmobile",color:"tertiary",dense:"",flat:"",icon:"delete",round:"",size:"md",onClick:o[4]||(o[4]=e=>l.contatoRemoveTodos({}))},null,512),[[a.vShow,!r.somenteLeitura]])])])),_:1})])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.campanhaContato,(o=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o,class:"itemHover fullWidth"},[(0,a.createVNode)(x,{"manual-focus":"",clickable:"",class:"items-center d-flex q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{avatar:"",center:"",class:"mw80 hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{id:o?.idContato??"",numero:(o?.idContato??"").slice(-8),cor:"tertiary"},null,8,["id","numero"])])),_:2},1024),(0,a.createVNode)(V,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"items-center q-col-gutter-x-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",R1,[(0,a.createVNode)(y,{imagem:o.imagem,tamanho:"40",rotulo:o.nome,style:{display:"flex","align-self":"center"}},null,8,["imagem","rotulo"])]),(0,a.createElementVNode)("div",G1,[(0,a.createVNode)(g,{class:"text-tertiary text-weight-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.nome),1)])),_:2},1024),(0,a.createVNode)(h,{class:"hideondesktop items-center q-my-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",H1,[(0,a.createVNode)(p,{cor:o.ativo?"positive":"tertiary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)((o.codigoItem||0).toString().padStart(4,"0")),1)])),_:2},1032,["cor"]),(0,a.createVNode)(p,{class:"q-ml-xs",cor:"primary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.tipo),1)])),_:2},1024)]),(0,a.createElementVNode)("div",J1,[(0,a.createVNode)(g,{caption:"",class:"text-tertiary text-weight-bold q-mt-sm"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(o.valorVenda,2))+" ",1),(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[Y1])),_:1})])),_:2},1024)])])),_:2},1024)])])),_:2},1024)])),_:2},1024),(0,a.createVNode)(V,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"items-center q-col-gutter-x-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",X1,[(0,a.createVNode)(g,{class:"text-tertiary text-weight-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.apelido),1)])),_:2},1024)])])),_:2},1024)])),_:2},1024),(0,a.createVNode)(V,{avatar:"",class:"mw100 hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{class:"full-width"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.telefone),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(V,{avatar:"",class:"mw100 hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{class:"full-width"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{name:"mdi-calendar-today"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.dataHora(o.dataHoraEnvio))+" ",1),(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[W1])),_:1})])),_:2},1024)])),_:2},1024),(0,a.createVNode)(V,{avatar:"",class:"mw100 hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"q-mr-sm",cor:"primary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.status),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(V,{side:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",K1,[(0,a.withDirectives)((0,a.createVNode)(s,{class:"buttons hideonmobile",color:"tertiary",dense:"",flat:"",icon:"delete",round:"",size:"md",onClick:e=>l.contatoRemove(o)},null,8,["onClick"]),[[a.vShow,!r.somenteLeitura]])])])),_:2},1024)])),_:2},1024),(0,a.createVNode)(b)])))),128))])),_:1})])),_:1})])])])),_:1}),(0,a.createVNode)(S,{class:"bg-light no-shadow q-pa-sm text-right u-bordaCima"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",e2,[(0,a.withDirectives)((0,a.createVNode)(s,{class:"q-ml-sm no-shadow",color:"primary",icon:"send",unelevated:"",label:"Enviar",type:"submit",onClick:l.enviar_click},null,8,["onClick"]),[[a.vShow,!r.somenteLeitura]])])])),_:1})])),_:1})])),_:1},8,["modelValue","onKeyup"])}]]);Z()(i2,"components",{QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QPageContainer:le.Z,QCard:D.Z,QIcon:L.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z,QSeparator:$.Z,QSelect:al.Z,QTooltip:Ao.Z,QFooter:Te.Z});const l2={components:{lista:xT.Z,Avatar:uo.Z,Badge:S.Z,campanhaFicha:r2,BadgeCopiarUid:xs.Z},data:()=>({lista:[],listaOriginal:[],listaLayout:{},paginacao:{atual:1,maximo:1,total:1,limite:25},showFilters:!1,filtros:{descricao:null,dataHoraCriacaoDe:null,dataHoraCriacaoAte:null,dataHoraDisparoDe:null,dataHoraDisparoAte:null,dataHoraUltimoDisparoDe:null,dataHoraUltimoDisparoAte:null,tipo:null,mensagem:null},buscaCampo:"",opcoesTipo:["Whatsapp"],tabSelecionada:{valor:"Rascunho"},tabs:[{rotulo:"Rascunhos",value:"Rascunho"},{rotulo:"Enviando",value:"Enviando"},{rotulo:"Enviadas",value:"Enviada"},{rotulo:"Todos",value:"Todos"}],showAllPreviewDetail:!1,checkboxModel:!1}),methods:{async atualizar(){try{$q.loading.show(),this.paginacao.limite,this.paginacao.atual;const e=$utils.eliminarVazios(this.filtros);e.status=this.tabSelecionada.valor,"Todos"===this.tabSelecionada.valor&&delete e.status,this.buscaCampo&&(e.termoBusca=this.buscaCampo);const o=(await $utils.geeksApi({ret:{funcao:"5FBF590B-9B92-4C38-A205-3B4233541140",filtros:e,limit:50}})).data.ret;o.total||(o.total=o.total=o.data.length),o.totalPages||(o.totalPages=1),this.listaLayout={};for(let e of o.data)this.listaLayout[e.id]={detalhes:!1};this.listaOriginal=$utils.clonarV2(o.data),this.lista=o.data,this.paginacao.total=o.total,this.paginacao.maximo=o.totalPages}catch(e){$q.notifyError("Erro iniciar",e)}finally{$q.loading.hide()}},async removerItem(e){$q.dialog({cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},title:"Remover",message:"Ao continuar você irá remover este item.",ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{try{$q.loading.show();const o=$utils.clonar(e);e.ativo=!1,await $db.item.grava({atual:e,original:o}),$q.notifyPositive("O produto foi excluído com sucesso.")}catch(e){$q.notifyError("Ocorreu um erro ao remover produto",e)}finally{$q.loading.hide()}}))},async duplicar(e){try{const o=await $db.item.duplica(e.id);this.filtros.codIdRef=o.id,await this.atualizar(),this.$q.notifyPositive("O produto foi duplicado com sucesso.")}catch(e){this.$q.notifyError("Ocorreu erro ao duplicar Produto",e)}},async abrir(e){this.$refs.modalFicha.mostrar({id:e})},criar_click(){this.$refs.modalFicha.criar()},async restaurarItem(e){$q.dialog({title:"Restaurar item",message:"Deseja restaurar este item?",cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{try{$q.loading.show();let o=$utils.clonarV2(e);e.ativo=!0,await $db.item.grava({atual:e,original:o}),$q.notifyPositive("O produto foi restaurado com sucesso.")}catch(e){$q.notifyError("Ocorreu um erro ao remover produto",e)}finally{$q.loading.hide()}}))},limparFiltros_click(){this.filtros={tab:"Ativos",descricaoAplicacao:null,codIdRef:null,codigoBarras:null,marca:null,fornecedor:null,grupo:null,subGrupo:null,estoque:null,tipo:null,codigoCompra:null},this.atualizar()},async buscarItem(){const e=await $g.promptItem.show({filtro:{ativo:!0}});e.acao&&Object.keys(e.itensSelecionados)[0]&&this.abrirItem(Object.keys(e.itensSelecionados)[0])},checkBoxGeral_click(){for(let e of this.lista)this.listaLayout[e.id].remover=this.checkboxModel},async removerTodosItens(){$q.dialog({title:"Remover itens",message:"Deseja remover todos os itens selecionados?",cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{for(let e of this.lista)if(this.listaLayout[e.id].remover){const o=$utils.clonarV2(e);e.ativo=!1;try{await $db.item.grava({original:o,atual:e})}catch(e){$q.notify("Houve um erro ao remover os itens. Tente novamente")}}}))},async adicionarItem(){if(this.campos.descricao.length<2)return void $q.notifyError("favor preencher a descrição do item");let e={};try{this.completarCodigoBarras(),e={...$db.item.vazio,id:$utils.uuid(),ativo:!0,tipo:this.campos.tipo,marca:this.campos.marca,descricao:this.campos.descricao,referencia:this.campos.referencia,valorVenda:this.campos.valorVenda,codigoBarras:this.campos.codigoBarras,valorCustoReposicao:this.campos.valorCustoReposicao},$q.loading.show(),await $db.item.grava({atual:e}),this.filtros.codIdRef=e.id,this.atualizar(),$q.notifyPositive("Os dados do produto foram salvos com sucesso."),this.campos={ativo:!0,codigoBarras:"",descricao:"",marca:"",referencia:"",tipo:"Produto",valorCustoReposicao:0,valorVenda:0}}catch(e){$q.notifyError("Ocorreu um erro ao salvar",e)}finally{$q.loading.hide()}},abrirEdicaoCompleta(e){$q.dialog({title:"Item Cadastrado!",message:"Deseja abrir a edição completa?",persistent:"Sim",cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk((()=>{this.abrirItem(e)}))},async exportarXLSX_click(){try{$q.loading.show();const e=$utils.eliminarVazios(this.filtros);delete e.ativo,"Ativos"===this.tabSelecionada&&(e.ativo=!0),"Excluidos"===this.tabSelecionada&&(e.ativo=!1);const o=await $db.item.leRefatorado({filtros:e,limit:999999,page:1,sort:"descricao"}),t=IT().utils.book_new(),a=IT().utils.json_to_sheet(o.data,{header:Object.keys(o.data[0])});IT().utils.book_append_sheet(t,a,"itens"),IT().writeFile(t,"itens.xlsx")}catch(e){$q.notifyError("Erro iniciar",e)}finally{$q.loading.hide()}},salvar(e){let o=this.listaItensOriginal.filter((o=>o.id===e.id))[0],t=$utils.clonarV2(e);try{$db.item.gravaItem({original:o,atual:t}),this.$q.notifyPositive("Item alterado com sucesso")}catch(e){console.log(e),this.$q.notifyError("Ocorreu um erro ao alterar o item"),this.atualizar()}}},async mounted(){this.atualizar()}},s2=(0,T.Z)(l2,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("campo"),n=(0,a.resolveComponent)("BadgeCopiarUid"),c=(0,a.resolveComponent)("q-item-section"),d=(0,a.resolveComponent)("avatar"),m=(0,a.resolveComponent)("q-item-label"),u=(0,a.resolveComponent)("row"),p=(0,a.resolveComponent)("q-icon"),h=(0,a.resolveComponent)("q-tooltip"),C=(0,a.resolveComponent)("badge"),v=(0,a.resolveComponent)("q-btn"),f=(0,a.resolveComponent)("q-item"),N=(0,a.resolveComponent)("q-separator"),V=(0,a.resolveComponent)("q-list"),g=(0,a.resolveComponent)("lista"),x=(0,a.resolveComponent)("campanhaFicha");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(g,{titulo:"Campanhas",onCriar_click:l.criar_click,onCheckBoxGeral_click:l.checkBoxGeral_click,onFiltro_change:l.atualizar,onLimparFiltros_click:l.limparFiltros_click,onRemoverTodosItens:l.removerTodosItens,tabs:r.tabs,lista:r.lista,listaLayout:r.listaLayout,paginacao:r.paginacao,tabSelecionada:r.tabSelecionada,filtros:r.filtros,opcoesMarca:e.opcoesMarca,opcoesGrupo:e.opcoesGrupo,opcoesSubGrupo:e.opcoesSubGrupo,opcoesTipo:r.opcoesTipo,buscaCampo:r.buscaCampo,"onUpdate:buscaCampo":o[9]||(o[9]=e=>r.buscaCampo=e),checkboxModel:r.checkboxModel,"onUpdate:checkboxModel":o[10]||(o[10]=e=>r.checkboxModel=e),checkboxVisible:!1,removerTodosVisible:!1,abrirTodosVisible:!1,exportarXLSXVisible:!1,showToolbar:!1,showAdd:!1},{filtroCampos:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:r.filtros.descricao,"onUpdate:modelValue":o[0]||(o[0]=e=>r.filtros.descricao=e),rotulo:"Titulo",dense:""},null,8,["modelValue"]),(0,a.createVNode)(s,{modelValue:r.filtros.dataHoraCriacaoDe,"onUpdate:modelValue":o[1]||(o[1]=e=>r.filtros.dataHoraCriacaoDe=e),rotulo:"Data criação",tipo:"data",dense:""},null,8,["modelValue"]),(0,a.createVNode)(s,{modelValue:r.filtros.dataHoraCriacaoAte,"onUpdate:modelValue":o[2]||(o[2]=e=>r.filtros.dataHoraCriacaoAte=e),rotulo:"até",tipo:"data",dense:""},null,8,["modelValue"]),(0,a.createVNode)(s,{modelValue:r.filtros.dataHoraDisparoDe,"onUpdate:modelValue":o[3]||(o[3]=e=>r.filtros.dataHoraDisparoDe=e),rotulo:"Data disparo",tipo:"data",dense:""},null,8,["modelValue"]),(0,a.createVNode)(s,{modelValue:r.filtros.dataHoraDisparoAte,"onUpdate:modelValue":o[4]||(o[4]=e=>r.filtros.dataHoraDisparoAte=e),rotulo:"até",tipo:"data",dense:""},null,8,["modelValue"]),(0,a.createVNode)(s,{modelValue:r.filtros.dataHoraUltimoDisparoDe,"onUpdate:modelValue":o[5]||(o[5]=e=>r.filtros.dataHoraUltimoDisparoDe=e),rotulo:"Data último disparo",tipo:"data",dense:""},null,8,["modelValue"]),(0,a.createVNode)(s,{modelValue:r.filtros.dataHoraUltimoDisparoAte,"onUpdate:modelValue":o[6]||(o[6]=e=>r.filtros.dataHoraUltimoDisparoAte=e),rotulo:"até",tipo:"data",dense:""},null,8,["modelValue"]),(0,a.createVNode)(s,{modelValue:r.filtros.mensagem,"onUpdate:modelValue":o[7]||(o[7]=e=>r.filtros.mensagem=e),rotulo:"Mensagem",type:"text",dense:""},null,8,["modelValue"]),(0,a.createVNode)(s,{modelValue:r.paginacao.limite,"onUpdate:modelValue":o[8]||(o[8]=e=>r.paginacao.limite=e),min:"1",rotulo:"Quantidade por página",tipo:"quantidade",dense:""},null,8,["modelValue"])])),itemLista:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"rounded-borders"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(o=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o,class:"itemHover fullWidth"},[(0,a.createVNode)(f,{"manual-focus":"",clickable:"",class:"items-center d-flex q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{avatar:"",center:"",class:"mw80 hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{id:o.id,"numero:":"item.id.slice(-8)",cor:"tertiary"},null,8,["id"])])),_:2},1024),(0,a.createVNode)(c,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"items-center q-col-gutter-x-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",{class:"col-auto items-center",onClick:e=>l.abrir(o.id)},[(0,a.createVNode)(d,{imagem:o.imagem,tamanho:"40",rotulo:o.descricao,style:{display:"flex","align-self":"center"}},null,8,["imagem","rotulo"])],8,b1),(0,a.createElementVNode)("div",{class:"col",onClick:e=>l.abrir(o.id)},[(0,a.createVNode)(m,{class:"text-tertiary text-weight-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.descricao),1)])),_:2},1024)],8,w1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(c,{onClick:e=>l.abrir(o.id),avatar:"",class:"mw100 hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"full-width"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{name:"mdi-calendar-today"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.data(o.dataHoraCriacao))+" ",1),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Data Criação "+(0,a.toDisplayString)(e.$filters.dataHora(o.dataHoraCriacao)),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"]),(0,a.createVNode)(c,{onClick:e=>l.abrir(o.id),avatar:"",class:"mw100 hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"full-width"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{name:"mdi-calendar-check"}),(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(o.dataHoraDisparo))+" ",1),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Data Disparo "+(0,a.toDisplayString)(e.$filters.dataHora(o.dataHoraDisparo)),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"]),(0,a.createVNode)(c,{onClick:e=>l.abrir(o.id),avatar:"",class:"mw100 hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"full-width"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{name:"mdi-calendar-check"}),(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(o.dataHoraUltimoDisparo))+" ",1),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Data último disparo. "+(0,a.toDisplayString)(e.$filters.dataHora(o.dataHoraUltimoDisparo)),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"]),(0,a.createVNode)(c,{onClick:e=>l.abrir(o.id),avatar:"",class:"mw100 hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"q-mr-sm",cor:"primary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.status),1)])),_:2},1024)])),_:2},1032,["onClick"]),(0,a.createVNode)(c,{onClick:e=>l.abrir(o.id),avatar:"",class:"mw120 hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"text-right text-tertiary text-weight-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.qtdeContatos),1)])),_:2},1024),(0,a.createVNode)(m,{caption:"",class:"text-right text-tertiary"},{default:(0,a.withCtx)((()=>[_1])),_:1})])),_:2},1032,["onClick"]),(0,a.createVNode)(c,{onClick:e=>l.abrir(o.id),avatar:"",class:"mw120 hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"text-right text-tertiary text-weight-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.qtdeEnviado),1)])),_:2},1024),(0,a.createVNode)(m,{caption:"",class:"text-right text-tertiary"},{default:(0,a.withCtx)((()=>[y1])),_:1})])),_:2},1032,["onClick"]),(0,a.createVNode)(c,{side:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",I1,[(0,a.createVNode)(v,{class:"buttons hideonmobile",color:"primary",dense:"",flat:"",icon:"edit",round:"",size:"md",onClick:e=>l.abrir(o.id)},null,8,["onClick"])])])),_:2},1024)])),_:2},1024),(0,a.createVNode)(N)])))),128))])),_:1})])),_:1},8,["onCriar_click","onCheckBoxGeral_click","onFiltro_change","onLimparFiltros_click","onRemoverTodosItens","tabs","lista","listaLayout","paginacao","tabSelecionada","filtros","opcoesMarca","opcoesGrupo","opcoesSubGrupo","opcoesTipo","buscaCampo","checkboxModel"]),(0,a.createVNode)(x,{ref:"modalFicha",onAtualizar:l.atualizar},null,8,["onAtualizar"])],64)}]]);Z()(l2,"components",{QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z,QIcon:L.Z,QTooltip:Ao.Z,QBtn:H.Z,QSeparator:$.Z});const n2={id:"Modelo",view:"hHh lpR fFf"},c2={key:0},d2=(0,a.createTextVNode)("Criar"),m2=(0,a.createTextVNode)("Editar"),u2=(0,a.createTextVNode)("Tag"),p2=(0,a.createTextVNode)("Delete"),h2=(0,a.createTextVNode)("Abrir tudo"),C2=(0,a.createTextVNode)("Download"),v2=(0,a.createTextVNode)("Imprimir"),f2={class:"container-fluid q-py-md bg-white hideonmobile"},N2={class:"row q-col-gutter-x-md q-ma-none"},V2={class:"col-12 col-md"},g2={class:"col-12 col-md"},x2={class:"col-12 col-md"},b2={class:"col-12 col-md"},w2={class:"col-12 col-md"},_2={class:"col-12 col-md"},y2={class:"col-12 col-md-auto"},I2={class:"row items-center"},E2=(0,a.createTextVNode)(" #NUM "),S2=["src"],M2=(0,a.createTextVNode)("Datar"),T2=(0,a.createTextVNode)(" Status "),k2=(0,a.createTextVNode)("Valor"),D2={class:"text-tertiary q-col-gutter-xs"},q2=(0,a.createTextVNode)("Justificativa/Correção"),F2={class:"row full-width"},P2=["src"],A2=(0,a.createTextVNode)("Emitente"),B2=(0,a.createTextVNode)("Local"),L2=(0,a.createTextVNode)("Emissão"),O2=(0,a.createTextVNode)("Finalizado"),z2={key:1},j2={class:"row justify-between q-py-xs"},$2={class:"col-auto text-center"},U2={class:"col-auto text-center"},Z2={class:"col-auto text-center"},Q2={class:"col-auto text-center"},R2={class:"col-auto text-center"},G2={class:"row justify-between q-py-xs bg-grey-3"},H2={class:"col"},J2={class:"col-auto"},Y2={key:2},X2={key:3},W2={key:4},K2=(0,a.createTextVNode)("Criar"),e4={key:5},o4=(0,a.createTextVNode)("Criar"),t4={class:"background"},a4=(0,a.createTextVNode)("Filtro Avançado"),i4={class:"row"},r4=(0,a.createElementVNode)("div",{class:"col-12 row q-px-md"},[(0,a.createElementVNode)("h1",{class:"col-12 text-body1 text-tertiary"},"Empresas"),(0,a.createTextVNode)(" Chips input ")],-1),l4={class:"col-12 row q-px-md q-mt-lg"},s4=(0,a.createElementVNode)("h1",{class:"col-12 text-body1 text-tertiary"},"Período",-1),n4={class:"col-6"},c4={class:"col-6"},d4={class:"col-12 row q-px-md q-mt-lg"},m4=(0,a.createTextVNode)("(650) 555 - 2345"),u4=(0,a.createTextVNode)("Office"),p4=(0,a.createTextVNode)("(650) 555 - 2345"),h4=(0,a.createTextVNode)("Office"),C4=(0,a.createTextVNode)("john.doe@some-company.com"),v4=(0,a.createTextVNode)("Office"),f4=(0,a.createTextVNode)("Av. Pres. Vargas, 2001 - Jardim Irajá, Ribeirão Preto - SP, 14080-110"),N4=(0,a.createTextVNode)("Office"),V4=(0,a.createTextVNode)("Tag"),g4=(0,a.createTextVNode)("Tag"),x4=(0,a.createTextVNode)("Editar"),b4=(0,a.createTextVNode)("Tag"),w4=(0,a.createTextVNode)("Tag"),_4=(0,a.createTextVNode)("Editar"),y4={components:{Avatar:uo.Z,Badge:S.Z},data:()=>({tabsModel:"xtab-1",data:"",ratingModel:"",checkboxModel:[],lista:[{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1}],selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]}),methods:{abrirURL:Tp.Z,abrirTelefone(e){if(alert("abrirTelefone"),!e.telefone)return;const o="WhatsApp"===e.tipoTelefone?"https://api.whatsapp.com/send?phone=":"tel:+";this.abrirURL(o+this.formatarTelefone(e.telefone))}}},I4=(0,T.Z)(y4,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-item-section"),c=(0,a.resolveComponent)("q-item-label"),d=(0,a.resolveComponent)("q-item"),m=(0,a.resolveComponent)("q-btn"),u=(0,a.resolveComponent)("q-separator"),p=(0,a.resolveComponent)("q-list"),h=(0,a.resolveComponent)("q-tab"),C=(0,a.resolveComponent)("q-tabs"),v=(0,a.resolveComponent)("avatar"),f=(0,a.resolveComponent)("badge"),N=(0,a.resolveComponent)("row"),V=(0,a.resolveComponent)("q-menu"),g=(0,a.resolveComponent)("q-tab-panel"),x=(0,a.resolveComponent)("q-tab-panels"),b=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(p,{class:"no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{onClick:o[0]||(o[0]=o=>l.abrirTelefone(e.telefone))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"phone"})])),_:1}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[m4])),_:1}),(0,a.createVNode)(c,{caption:""},{default:(0,a.withCtx)((()=>[u4])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(d,{onClick:o[1]||(o[1]=o=>l.abrirTelefone(e.telefone))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"phone"})])),_:1}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[p4])),_:1}),(0,a.createVNode)(c,{caption:""},{default:(0,a.withCtx)((()=>[h4])),_:1})])),_:1}),(0,a.createVNode)(n,{side:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{flat:"",dense:"",icon:"mdi-whatsapp",round:"",color:"green"})])),_:1})])),_:1}),(0,a.createVNode)(u,{inset:""}),(0,a.createVNode)(d,{onClick:o[2]||(o[2]=o=>l.abrirTelefone(e.telefone))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"mail"})])),_:1}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[C4])),_:1}),(0,a.createVNode)(c,{caption:""},{default:(0,a.withCtx)((()=>[v4])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,{inset:""}),(0,a.createVNode)(d,{onClick:o[3]||(o[3]=o=>l.abrirTelefone(e.telefone))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"business"})])),_:1}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[f4])),_:1}),(0,a.createVNode)(c,{caption:""},{default:(0,a.withCtx)((()=>[N4])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(C,{modelValue:r.tabsModel,"onUpdate:modelValue":o[4]||(o[4]=e=>r.tabsModel=e),color:"transparent","text-color":"primary",class:"q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"xtab-1",label:"Pendentes",class:"q-py-none q-px-lg",default:""}),(0,a.createVNode)(h,{name:"xtab-2",label:"Concluídas",class:"q-py-none q-px-lg"})])),_:1},8,["modelValue"]),(0,a.createVNode)(x,{modelValue:r.tabsModel,"onUpdate:modelValue":o[5]||(o[5]=e=>r.tabsModel=e),class:"q-pa-none",style:{"border-top":"1px solid rgba(255, 255, 255, 0.25)"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{name:"xtab-1",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{highlight:"","no-border":"",separator:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(o=>((0,a.openBlock)(),(0,a.createBlock)(d,{key:o,onClick:t=>e.abrirItem(o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{imagem:o.photo,tamanho:"30"},null,8,["imagem"])])),_:2},1024),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.name),1)])),_:2},1024),(0,a.createVNode)(c,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.email),1)])),_:2},1024),(0,a.createVNode)(c,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.tel),1)])),_:2},1024),(0,a.createVNode)(N,{class:"q-col-gutter-x-sm q-mt-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"q-ml-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[V4])),_:1}),(0,a.createVNode)(f,{class:"q-ml-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[g4])),_:1})])),_:1})])),_:2},1024),(0,a.createVNode)(n,{avatar:"",right:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{flat:"",dense:"",icon:"more_vert",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(p,{link:"","no-border":"",separator:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"edit"})])),_:1}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[x4])),_:1})])),_:1})])),_:1})])),_:1},512),[[b]])])),_:1})])),_:1})])),_:1})])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),(0,a.createVNode)(g,{name:"xtab-2",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{highlight:"","no-border":"",separator:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(o=>((0,a.openBlock)(),(0,a.createBlock)(d,{key:o,onClick:t=>e.abrirItem(o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{imagem:o.photo,tamanho:"30"},null,8,["imagem"])])),_:2},1024),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.name),1)])),_:2},1024),(0,a.createVNode)(c,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.email),1)])),_:2},1024),(0,a.createVNode)(c,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.tel),1)])),_:2},1024),(0,a.createVNode)(N,{class:"q-col-gutter-x-sm q-mt-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"q-ml-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[b4])),_:1}),(0,a.createVNode)(f,{class:"q-ml-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[w4])),_:1})])),_:1})])),_:2},1024),(0,a.createVNode)(n,{avatar:"",right:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{flat:"",dense:"",icon:"more_vert",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(p,{link:"","no-border":"",separator:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"edit"})])),_:1}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[_4])),_:1})])),_:1})])),_:1})])),_:1},512),[[b]])])),_:1})])),_:1})])),_:1})])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}]]);Z()(y4,"components",{QList:F.Z,QItem:z.Z,QItemSection:A.Z,QIcon:L.Z,QItemLabel:j.Z,QBtn:H.Z,QSeparator:$.Z,QTabs:ko.Z,QTab:Do.Z,QTabPanels:lr.Z,QTabPanel:sr.Z,QMenu:Bo.Z}),Z()(y4,"directives",{ClosePopup:J.Z});const E4={class:"row overflowXOS filterfalse"},S4={class:"q-pa-none"},M4={key:0,class:"row"},T4={class:"col-12 q-px-none"},k4={class:"row q-mt-xs"},D4={class:"col-6"},q4={class:"col-6 justify-end q-pr-xs",style:{display:"flex"}},F4={class:"text-subtitle1"},P4={class:"text-caption"},A4={class:"col-11"},B4={style:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},L4={class:"text-caption",style:{display:"inline-block","margin-right":"6px"}},O4={style:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},z4={class:"text-caption",style:{display:"inline-block"}},j4={class:"col-1 self-end"},$4=(0,a.createTextVNode)("Histórico do Status"),U4=(0,a.createTextVNode)("Ir para o Atendimento"),Z4={container:"",class:"bg-white"},Q4=(0,a.createTextVNode)("Trocar status da OS"),R4={components:{Campo:L_.Z},data:()=>({confirmado:!1}),emits:["cancelar","confirmar","update:modelValue"],methods:{eventoConfirmar(){Fo.gconsole.log("OSTrocarStatus","eventoConfirmar",this.dados),this.confirmado=!0,this.eventoInput(!1),this.$emit("confirmar",this.dados)},eventoCancelar(){Fo.gconsole.log("OSTrocarStatus","eventoCancelar",this.dados),this.confirmado=!1,this.eventoInput(!1)},eventoInput(e){this.$emit("update:modelValue",e)}},props:{modelValue:{required:!0,type:Boolean},dados:{required:!0,type:Object}},watch:{modelValue(e){e?this.confirmado=!1:this.confirmado||this.$emit("cancelar",this.dados)}}},G4=(0,T.Z)(R4,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("campo"),m=(0,a.resolveComponent)("row"),u=(0,a.resolveComponent)("q-form"),p=(0,a.resolveComponent)("q-dialog"),h=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(p,{"model-value":t.modelValue,"onUpdate:modelValue":l.eventoInput},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Z4,[(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[Q4])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{flat:"",round:"",dense:"",icon:"close"},null,512),[[h]])])),_:1}),(0,a.createVNode)(u,{onSubmit:(0,a.withModifiers)(l.eventoConfirmar,["prevent"]),class:"q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"q-col-gutter-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:t.dados.nomeCliente,"onUpdate:modelValue":o[0]||(o[0]=e=>t.dados.nomeCliente=e),somenteLeitura:"",class:"col-12",rotulo:"Cliente"},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:t.dados.statusAtual,"onUpdate:modelValue":o[1]||(o[1]=e=>t.dados.statusAtual=e),somenteLeitura:"",class:"col-12",rotulo:"De"},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:t.dados.statusNovo,"onUpdate:modelValue":o[2]||(o[2]=e=>t.dados.statusNovo=e),somenteLeitura:"",class:"col-12",rotulo:"Para"},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:t.dados.observacao,"onUpdate:modelValue":o[3]||(o[3]=e=>t.dados.observacao=e),modelModifiers:{trim:!0},class:"col-12",maxlength:"50",rotulo:"Observação"},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(c,{color:"light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s),(0,a.createVNode)(n,{flat:"",color:"tertiary",onClick:l.eventoCancelar,label:"Cancelar"},null,8,["onClick"]),(0,a.createVNode)(n,{unelevated:"",color:"primary",type:"submit",label:"Trocar"})])),_:1})])),_:1},8,["onSubmit"])])])),_:1},8,["model-value","onUpdate:modelValue"])}]]);Z()(R4,"components",{QDialog:k.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QForm:fo.Z}),Z()(R4,"directives",{ClosePopup:J.Z});var H4=t(40470),J4=t.n(H4);const Y4={components:{Badge:S.Z,Campo:L_.Z,OSTrocarStatus:G4,ModalHistoricoStatus:Qi.Z,draggable:J4()},data:()=>({drawer:!0,showfilters:!0,empresaOpcoes:[],empresaSelecionada:null,entregueInicio:new Date(new Date((0,Fo.dataAtual)()).toDateString()),entregueFim:new Date(new Date((0,Fo.dataAtual)()).toDateString()),fraseFiltro:"",listas:{Processando:[],Entregue:[]},trocarStatusDados:{},trocarStatusModal:!1,periodoOpcoes:[{label:"Hoje",value:0},{label:"Uma semana",value:7},{label:"Um mês",value:30}],prazoSelecionado:null,prazoOpcoes:[{label:"Em dia",value:"bordaVerdeOS"},{label:"Entrega para esta semana",value:"bordaAmarelaOS"},{label:"Entrega atrasada",value:"bordaVermelhaOS"}]}),methods:{async eventoEnd(){for(const e in this.listas)for(const o of this.listas[e])if(o.status!==e)return Fo.gconsole.log("AdmOS","eventoEnd De:",o.status,"Para:",e,"codigo:",o.codigoDocumento),this.trocarStatusDados={codigoContatoResponsavel:o.codigoContatoResponsavel,codigoDocumento:o.codigoDocumento,codigoUsuario:null,nomeCliente:o.nomeCliente,observacao:"",statusAtual:o.status,statusNovo:e},void(this.trocarStatusModal=!0)},async eventoConfirmarTroca(e){Fo.gconsole.log("AdmOS","eventoConfirmaTroca",{...e}),this.$q.loading.show();try{const o=(await ue.db.usuario.leOnline(ue.db.usuario.logado.id)||[])[0]||{};e.codigoUsuario=o.codigoUsuario,await ue.db.os.trocaStatusOnline(e),this.$q.notifyPositive("Status trocado com sucesso"),this.atualiza()}catch(e){this.$q.notifyError("Erro na troca de status",e)}finally{this.$q.loading.hide()}},eventoCancelarTroca(e){Fo.gconsole.log("AdmOS","eventoCancelarTroca",e),this.atualiza()},async empresaOpcoesCarregar(){Fo.gconsole.log("AdmOS","empresaOpcoesCarregar()"),this.empresaOpcoes=(await ue.db.empresa.leOnline()).map((e=>({label:e.nome,value:e.codigoContato})))},filtraDebounce(){(0,Ee.debounce)(this.refazFiltro,700)()},refazFiltro(){Fo.gconsole.log("AdmOSs","refazFiltro()",this.fraseFiltro,this.empresaSelecionada);const e=(0,Fo.removerAcentos)(this.fraseFiltro.toUpperCase()).split(" ").filter((e=>""!==e));for(const o in this.listas)for(const t of this.listas[o]){const o=(0,Fo.removerAcentos)(t.id.toUpperCase()+t.nomeCliente.toUpperCase()+t.nomeResponsavel.toUpperCase()+" "+String(t.numeroVenda)+"  "+String(t.numeroOS)+" ");let a=!0;for(const t of e)a=isNaN(Number(t))?a&&o.includes(t):a&&o.includes(" "+t+" ");this.empresaSelecionada&&(a=a&&this.empresaSelecionada===t.codigoEmpresa),t.mostra=a}},async atualiza(){try{const e=await ue.db.os.leAdmOSOnline({entregueInicio:this.entregueInicio,entregueFim:this.entregueFim});Fo.gconsole.log("AdmOS","atualiza()",e.length),(0,Fo.verificarAlerta)(!e||!e.length,"Não há ordens de serviço");let o=await ue.db.configuracoes.le({nome:"vendas.os.status"});o=o.filter((e=>!["Processando","Entregue"].includes(e.texto)));const t={Processando:[]};for(const e of(0,Ee.orderBy)(o,"valor","asc").map((e=>e.texto)))t[e]=[];t.Entregue=[];for(const o of e){let e="bordaVerdeOS";if("Entregue"===o.status){if(o.dataHoraPrevisto&&o.dataHoraFinalizado){const t=new Date(new Date(o.dataHoraPrevisto).toDateString()),a=(new Date(new Date(o.dataHoraFinalizado).toDateString())-t)/864e5;e=a>=0?"bordaVermelhaOS":a>-7?"bordaAmarelaOS":"bordaVerdeOS"}}else if(o.dataHoraPrevisto){const t=new Date(new Date(o.dataHoraPrevisto).toDateString()),a=(new Date((new Date).toDateString())-t)/864e5;e=a>=0?"bordaVermelhaOS":a>-7?"bordaAmarelaOS":"bordaVerdeOS"}const a={id:o.id,codigoCompra:o.codigoCompra||"-",codigoContatoResponsavel:o.codigoContatoResponsavel,codigoDocumento:o.codigoDocumento,codigoContato:o.codigoContato,codigoEmpresa:o.codigoEmpresa,descricaoEmpresa:o.descricaoEmpresa,corBorda:e,dataHoraEmissao:new Date(o.dataHoraEmissao),dataHoraFinalizado:new Date(o.dataHoraFinalizado),dataHoraRetorno:new Date(o.dataHoraRetorno),dataHoraPrevisto:new Date(o.dataHoraPrevisto),mostra:!0,nomeCliente:o.nomeCliente||"-",nomeResponsavel:o.nomeResponsavel||"-",numeroVenda:o.numeroVenda||"-",numeroOS:o.numeroOS||"-",status:o.status};t[o.status]&&t[o.status].push(a)}this.listas=t,this.refazFiltro()}catch(e){this.$q.notifyError("Erro na consulta online de oss",e)}},async irParaAtendimento(e){const o=await(0,Mo.X)().contato.where({codigoContato:e}).first()||{};o.id&&this.$router.push({name:"Atendimento",params:{id:o.id}})}},watch:{entregueInicio(){Fo.gconsole.log("AdmOSs","entregueInicio"),this.atualiza()},entregueFim(){Fo.gconsole.log("AdmOSs","entregueFim"),this.atualiza()}},created(){Fo.gconsole.log("AdmOSs","created()"),this.atualiza()}},X4=(0,T.Z)(Y4,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-toolbar"),c=(0,a.resolveComponent)("campo"),d=(0,a.resolveComponent)("badge"),m=(0,a.resolveComponent)("q-card-section"),u=(0,a.resolveComponent)("q-icon"),p=(0,a.resolveComponent)("q-item-section"),h=(0,a.resolveComponent)("q-item-label"),C=(0,a.resolveComponent)("q-item"),v=(0,a.resolveComponent)("q-list"),f=(0,a.resolveComponent)("q-menu"),N=(0,a.resolveComponent)("q-card"),V=(0,a.resolveComponent)("draggable"),g=(0,a.resolveComponent)("OS-trocar-status"),x=(0,a.resolveComponent)("modal-historico-status"),b=(0,a.resolveComponent)("q-page"),w=(0,a.resolveComponent)("q-page-container"),_=(0,a.resolveComponent)("q-layout"),y=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(_,{id:"ModeloKanban",class:"AdmOS"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{style:{"padding-top":"0 !important"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",E4,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.listas,((t,i)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:i,class:"no-shadow q-py-sm col q-px-none coluna"},[(0,a.createElementVNode)("div",S4,[(0,a.createVNode)(n,{class:"no-shadow q-py-none q-px-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(i),1)])),_:2},1024)])),_:2},1024),"Entregue"===i?((0,a.openBlock)(),(0,a.createElementBlock)("div",M4,[(0,a.createElementVNode)("div",T4,[(0,a.createVNode)(c,{modelValue:r.entregueInicio,"onUpdate:modelValue":o[0]||(o[0]=e=>r.entregueInicio=e),class:"q-mx-sm",rotulo:"Início",tipo:"data"},null,8,["modelValue"]),(0,a.createVNode)(c,{modelValue:r.entregueFim,"onUpdate:modelValue":o[1]||(o[1]=e=>r.entregueFim=e),class:"q-mx-sm",rotulo:"Fim",tipo:"data"},null,8,["modelValue"])])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(V,{class:"dragAreaOS",delay:"400",list:t,group:"osGroup",draggable:".extratoOS",onEnd:l.eventoEnd},{default:(0,a.withCtx)((()=>[!e.os.mostra||null!==r.prazoSelecionado&&r.prazoSelecionado!==e.os.corBorda?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:0},(0,a.renderList)(t,(o=>((0,a.openBlock)(),(0,a.createBlock)(N,{key:o.codigoDocumento,class:(0,a.normalizeClass)(["q-pa-sm q-pb-md q-my-sm q-mb-md shadow-1 extratoOS bg-white",o.corBorda])},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",k4,[(0,a.createElementVNode)("div",D4,[(0,a.createVNode)(d,{cor:"negative",escuro:"",class:"q-mx-xs",rotulo:"urgente"})]),(0,a.createElementVNode)("div",q4,[(0,a.createVNode)(d,{cor:"grey-1",class:"q-mx-sm",icone:"shopping_cart",rotulo:o.numeroVenda},null,8,["rotulo"]),(0,a.createVNode)(d,{cor:"grey-8",escuro:"",icone:"assignment_turned_in",rotulo:o.numeroOS},null,8,["rotulo"])])]),(0,a.createVNode)(m,{class:"q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",F4,(0,a.toDisplayString)(o.nomeCliente),1),(0,a.createElementVNode)("span",P4," Empresa: "+(0,a.toDisplayString)(o.descricaoEmpresa),1)])),_:2},1024),(0,a.createVNode)(m,{class:"row q-pa-xs q-pb-none q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",A4,[(0,a.createElementVNode)("div",B4,[(0,a.createVNode)(u,{name:"person",color:"grey-7",size:"14px"})]),(0,a.createElementVNode)("div",L4,(0,a.toDisplayString)(o.nomeResponsavel),1),(0,a.createElementVNode)("div",O4,[(0,a.createVNode)(u,{name:"calendar_today",color:"grey-7",size:"14px"})]),(0,a.createElementVNode)("div",z4,(0,a.toDisplayString)(e.$filters.data(o.dataHoraEmissao)),1)]),(0,a.createElementVNode)("div",j4,[(0,a.createVNode)(u,{name:"more_vert",color:"blue-grey-6",style:{color:"grey",float:"right","text-align":"right","font-size":"1.2rem",cursor:"pointer"},onMouseOver:"this.style.color='black'",onMouseOut:"this.style.color='grey'"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(v,{link:"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{clickable:"",onClick:t=>e.$refs.modalHistoricoStatus.mostrar({idDocumento:o.codigoDocumento})},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{name:"history"})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[$4])),_:1})])),_:1})])),_:2},1032,["onClick"]),(0,a.createVNode)(C,{onClick:e=>l.irParaAtendimento(o.codigoContato)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{name:"launch"})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[U4])),_:1})])),_:1})])),_:2},1032,["onClick"])])),_:2},1536),[[y]])])),_:2},1024)])),_:2},1024)])])),_:2},1024)])),_:2},1032,["class"])))),128))])),_:2},1032,["list","onEnd"])])])))),128))]),(0,a.createVNode)(g,{modelValue:r.trocarStatusModal,"onUpdate:modelValue":o[2]||(o[2]=e=>r.trocarStatusModal=e),dados:r.trocarStatusDados,onConfirmar:l.eventoConfirmarTroca,onCancelar:l.eventoCancelarTroca},null,8,["modelValue","dados","onConfirmar","onCancelar"]),(0,a.createVNode)(x,{ref:"modalHistoricoStatus"},null,512)])),_:1})])),_:1})])),_:1})}]]);Z()(Y4,"components",{QLayout:ae.Z,QPageContainer:le.Z,QPage:se.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QSelect:al.Z,QCard:D.Z,QCardSection:q.Z,QIcon:L.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z}),Z()(Y4,"directives",{ClosePopup:J.Z});const W4={class:"col-12 q-px-md q-mt-md"},K4={class:"col-12 q-px-sm q-my-md"},e3={class:"col-12 q-px-sm"},o3=(0,a.createTextVNode)(" --\x3e "),t3={components:{},data(){return{showfilters:!0,listas:{Processando:[],Entregue:[]},empresaOpcoes:[],empresaSelecionada:null,fraseFiltro:"",trocarStatusDados:{},trocarStatusModal:!1,periodoOpcoes:[{label:"Hoje",value:0},{label:"Uma semana",value:7},{label:"Um mês",value:30}],prazoSelecionado:null,prazoOpcoes:[{label:"Em dia",value:"bordaVerdeOS"},{label:"Entrega para esta semana",value:"bordaAmarelaOS"},{label:"Entrega atrasada",value:"bordaVermelhaOS"}],modalHistoricoStatus:{},tasks:[{id:1,label:"Make some noise",user:'<a href="https://www.google.com/search?q=John+Doe" target="_blank" style="color:#0077c0;">John Doe</a>',start:this.getDate(-120),duration:432e3,progress:85,type:"project"},{id:2,label:"With great power comes great responsibility",user:'<a href="https://www.google.com/search?q=Peter+Parker" target="_blank" style="color:#0077c0;">Peter Parker</a>',parentId:1,start:this.getDate(-96),duration:345600,progress:50,type:"milestone",style:{fill:"#1EBC61",stroke:"#0EAC51"},progressBarStyle:{bar:{fill:"#0EAC51"}}},{id:3,label:"Courage is being scared to death, but saddling up anyway.",user:'<a href="https://www.google.com/search?q=John+Wayne" target="_blank" style="color:#0077c0;">John Wayne</a>',parentId:2,start:this.getDate(-72),duration:172800,progress:100,type:"task"}],options:{title:{label:"Your project title as html (link or whatever...)",html:!1,style:{"font-size":"20px","vertical-align":"middle","font-weight":"400","line-height":"35px","padding-left":"22px","letter-spacing":"1px"}},taskList:{columns:[{id:1,label:"ID",value:"id",width:40},{id:2,label:"Description",value:"label",width:200,expander:!0},{id:3,label:"Assigned to",value:"user",width:130,html:!0},{id:3,label:"Start",value:e=>e.startDate.format("YYYY-MM-DD"),width:78},{id:4,label:"Type",value:"type",width:68},{id:5,label:"%",value:"progress",width:35,styles:{label:{"text-align":"center",width:"100%"},value:{"text-align":"center",width:"100%"}}}]},locale:{code:"en",Now:"Now","X-Scale":"Zoom-X","Y-Scale":"Zoom-Y","Task list width":"Task list","Before/After":"Expand","Display task list":"Task list"}}}},methods:{getDate(e){const o=new Date,t=o.getFullYear(),a=o.getMonth()+1,i=o.getDate(),r=new Date(`${t}-${a}-${i} 00:00:00`).getTime();return new Date(r+60*e*60*1e3)}}},a3=(0,T.Z)(t3,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-input"),n=(0,a.resolveComponent)("q-select"),c=(0,a.resolveComponent)("q-page-container"),d=(0,a.resolveComponent)("q-layout");return(0,a.openBlock)(),(0,a.createBlock)(d,{id:"ModeloGantt",class:"AdmOS"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{style:{"padding-top":"0 !important"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",W4,[(0,a.createVNode)(s,{color:"white",class:"no-shadow",modelValue:r.fraseFiltro,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.fraseFiltro=e),e.filtraDebounce],placeholder:"Por cliente ou responsável"},null,8,["modelValue","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",K4,[(0,a.createVNode)(n,{modelValue:r.prazoSelecionado,"onUpdate:modelValue":o[1]||(o[1]=e=>r.prazoSelecionado=e),options:r.prazoOpcoes,clearable:"",class:"q-mx-sm",placeholder:"Por prazo"},null,8,["modelValue","options"])]),(0,a.createElementVNode)("div",e3,[(0,a.createVNode)(n,{modelValue:r.empresaSelecionada,"onUpdate:modelValue":[o[2]||(o[2]=e=>r.empresaSelecionada=e),e.refazFiltro],options:r.empresaOpcoes,clearable:"",class:"q-mx-sm",placeholder:"Por empresa",onClick:e.empresaOpcoesCarregar},null,8,["modelValue","options","onClick","onUpdate:modelValue"])]),o3])),_:1})])),_:1})}]]);Z()(t3,"components",{QLayout:ae.Z,QPageContainer:le.Z,QInput:re.Z,QSelect:al.Z});const i3=(0,a.createTextVNode)("Fechar"),r3={class:"u-container"},l3={class:"row q-col-gutter-x-sm"},s3={class:"col-12"},n3={class:"q-pl-sm border-1 q-mb-none DocumentoMetas text-tertiary row"},c3={class:"col-12 col-lg"},d3={class:"col-12 col-lg-auto"},m3=(0,a.createTextVNode)(" Status "),u3=(0,a.createTextVNode)(" #0001 "),p3={class:"row q-col-gutter-x-sm"},h3={class:"col-12 col-lg-7 items-stretch"},C3=(0,a.createTextVNode)("24/09/2020"),v3=(0,a.createTextVNode)("Tag"),f3=(0,a.createTextVNode)("Tag"),N3=(0,a.createTextVNode)("22/09/2020"),V3=(0,a.createTextVNode)("Tag"),g3=(0,a.createTextVNode)("Tag"),x3={class:"col-12 col-lg-5 items-stretch"},b3={class:"q-item-label q-mb-none"},w3=(0,a.createTextVNode)(" Checklist "),_3=(0,a.createTextVNode)("Editar"),y3={class:"q-mt-md text-center"},I3={components:{},data:()=>({data:"",lista:[{name:"Titulo do toDo",email:"o to do da lista",tags:["tag1","tag2"],checkboxModel:!1},{name:"Titulo do toDo",email:"o to do da lista",tags:["tag1","tag2"],checkboxModel:!1},{name:"Titulo do toDo",email:"o to do da lista",tags:["tag1","tag2"],checkboxModel:!1}],ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]})},E3=(0,T.Z)(I3,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-toolbar"),c=(0,a.resolveComponent)("q-checkbox"),d=(0,a.resolveComponent)("q-item-section"),m=(0,a.resolveComponent)("q-item-label"),u=(0,a.resolveComponent)("q-item"),p=(0,a.resolveComponent)("q-list"),h=(0,a.resolveComponent)("q-menu"),C=(0,a.resolveComponent)("q-btn"),v=(0,a.resolveComponent)("q-card"),f=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(v,{class:"extratoItem bg-white q-pa-md q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-pa-none q-ma-none q-mb-md",color:"none","text-color":"tertiary",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("p",b3,[(0,a.createVNode)(s,{name:"mdi-format-list-checks",class:"q-mr-md",size:"24px"}),w3])])),_:1}),(0,a.createVNode)(p,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(u,{key:e},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"sidecheckbox"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:e.checkboxModel,"onUpdate:modelValue":o=>e.checkboxModel=o,dark:"","keep-color":""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(d,{side:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{flat:"",dense:"",icon:"more_vert",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(p,{link:"","no-border":"",separator:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"edit"})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[_3])),_:1})])),_:1})])),_:1})])),_:1},512),[[f]])])),_:1})])),_:1})])),_:1})])),_:2},1024)))),128))])),_:1}),(0,a.createElementVNode)("div",y3,[(0,a.createVNode)(C,{color:"positive",icon:"add",label:"To Do",outline:"",size:"xs"})])])),_:1})}]]);Z()(I3,"components",{QCard:D.Z,QToolbar:O.Z,QItemLabel:j.Z,QIcon:L.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QCheckbox:Hh.Z,QBtn:H.Z,QMenu:Bo.Z}),Z()(I3,"directives",{ClosePopup:J.Z});const S3={class:"q-item-label q-mb-none"},M3=(0,a.createTextVNode)(" Arquivos "),T3={components:{Arquivo:fA.Z},data:()=>({data:"",ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]})},k3=(0,T.Z)(T3,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-toolbar"),c=(0,a.resolveComponent)("arquivo"),d=(0,a.resolveComponent)("q-card");return(0,a.openBlock)(),(0,a.createBlock)(d,{class:"extratoItem bg-white q-pa-md q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-pa-none q-ma-none q-mb-md",color:"none","text-color":"tertiary",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("p",S3,[(0,a.createVNode)(s,{name:"mdi-attachment",class:"q-mr-md",size:"24px"}),M3])])),_:1}),(0,a.createVNode)(c,{ref:"arquivo"},null,512)])),_:1})}]]);Z()(T3,"components",{QCard:D.Z,QToolbar:O.Z,QItemLabel:j.Z,QIcon:L.Z});const D3={class:"q-item-label q-mb-none"},q3=(0,a.createTextVNode)(" Projeto 1 "),F3=(0,a.createTextVNode)("Projeto 4"),P3=(0,a.createTextVNode)("Projeto 4"),A3=(0,a.createTextVNode)("Projeto 4"),B3={class:"row"},L3=(0,a.createTextVNode)("Etapa"),O3=(0,a.createTextVNode)("Status 1"),z3=(0,a.createTextVNode)("Status"),j3=(0,a.createTextVNode)("Status"),$3=(0,a.createTextVNode)("Status"),U3={components:{},data:()=>({data:"",ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]})},Z3=(0,T.Z)(U3,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-item-label"),d=(0,a.resolveComponent)("q-item-section"),m=(0,a.resolveComponent)("q-item"),u=(0,a.resolveComponent)("q-btn"),p=(0,a.resolveComponent)("q-list"),h=(0,a.resolveComponent)("q-menu"),C=(0,a.resolveComponent)("q-toolbar"),v=(0,a.resolveComponent)("q-card"),f=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(v,{class:"extratoItem bg-white q-pa-md q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"q-pa-none q-ma-none q-mb-md",color:"none","text-color":"tertiary",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("p",D3,[(0,a.createVNode)(s,{name:"mdi-chart-timeline",class:"q-mr-md",size:"24px"}),q3]),(0,a.createVNode)(n,{class:"q-pa-none q-ma-none",style:{height:"0 !important","min-height":"auto"}}),(0,a.createVNode)(u,{flat:"",dense:"",icon:"edit",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(p,{link:"","no-border":"",separator:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[F3])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[P3])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[A3])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{color:"positive",icon:"add",label:"Novo Projeto",outline:"",size:"xs"})])),_:1})])),_:1},512),[[f]])])),_:1})])),_:1})])),_:1}),(0,a.createElementVNode)("div",B3,[(0,a.createVNode)(p,{highlight:"",class:"q-pa-none no-border col-12"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{stamp:""},{default:(0,a.withCtx)((()=>[L3])),_:1}),(0,a.createVNode)(d,{stamp:"",class:"text-subtitle1"},{default:(0,a.withCtx)((()=>[O3])),_:1})])),_:1}),(0,a.createVNode)(d,{right:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{flat:"",dense:"",icon:"edit",color:"primary",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(p,{link:"","no-border":"",separator:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[z3])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[j3])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[$3])),_:1})])),_:1})])),_:1})])),_:1},512),[[f]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1})}]]);Z()(U3,"components",{QCard:D.Z,QToolbar:O.Z,QItemLabel:j.Z,QIcon:L.Z,QToolbarTitle:G.Z,QBtn:H.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z}),Z()(U3,"directives",{ClosePopup:J.Z});const Q3={class:"q-item-label q-mb-none"},R3=(0,a.createTextVNode)(" Classificação / Carrinho "),G3={class:"q-col-gutter-x-sm q-py-sm row"},H3=(0,a.createTextVNode)("Descricao"),J3=(0,a.createTextVNode)("marca"),Y3={class:"q-mt-md text-center"},X3={components:{Avatar:uo.Z},data:()=>({data:"",ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]})},W3=(0,T.Z)(X3,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-toolbar"),c=(0,a.resolveComponent)("avatar"),d=(0,a.resolveComponent)("q-item-section"),m=(0,a.resolveComponent)("q-item-label"),u=(0,a.resolveComponent)("q-btn"),p=(0,a.resolveComponent)("q-item"),h=(0,a.resolveComponent)("q-list"),C=(0,a.resolveComponent)("q-card");return(0,a.openBlock)(),(0,a.createBlock)(C,{class:"extratoItem bg-white q-pa-md q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-pa-none q-ma-none q-mb-md",color:"none","text-color":"tertiary",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("p",Q3,[(0,a.createVNode)(s,{name:"shopping_cart",class:"q-mr-md",size:"24px"}),R3])])),_:1}),(0,a.createElementVNode)("div",G3,[(0,a.createVNode)(h,{highlight:"",class:"q-pa-none no-border col-12"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:"",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{imagem:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQZH7c1xxmppduvnIzq7oevpcDCK3nDoGgqjR6-yZ7L7kHCKDeq",rotulo:"avatar",tamanho:"30",style:{float:"left"}})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[H3])),_:1}),(0,a.createVNode)(d,{caption:""},{default:(0,a.withCtx)((()=>[J3])),_:1})])),_:1}),(0,a.createVNode)(d,{side:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})])),_:1})])),_:1})])),_:1})]),(0,a.createElementVNode)("div",Y3,[(0,a.createVNode)(u,{color:"positive",icon:"add",label:"Produto / Serviço",outline:"",size:"xs"})])])),_:1})}]]);Z()(X3,"components",{QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QItemLabel:j.Z,QIcon:L.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QBtn:H.Z});const K3=e=>((0,a.pushScopeId)("data-v-2ceba6f3"),e=e(),(0,a.popScopeId)(),e),e9={id:"ModeloAssunto"},o9={class:"q-pa-none border-1 DocumentoMetas row q-col-gutter-x-sm"},t9={class:"row q-col-gutter-x-sm"},a9={class:"col-12"},i9={class:"q-item-label q-mb-none"},r9=(0,a.createTextVNode)(" Detalhe "),l9={class:"col-12"},s9={class:"col-12 col-lg-6 col-xl-4"},n9=(0,a.createTextVNode)("Solicitante"),c9=(0,a.createTextVNode)("Jim Doe"),d9={class:"col-12 col-lg-6 col-xl-4"},m9=(0,a.createTextVNode)("Responsável"),u9=(0,a.createTextVNode)("Jim Doe"),p9={class:"col-12 col-xl-4"},h9={class:"col-12 q-mt-md text-center"},C9={key:0,class:"row q-col-gutter-x-sm"},v9=[K3((()=>(0,a.createElementVNode)("div",{class:"DocumentoMetas-item col-12 col-lg-6"},[(0,a.createElementVNode)("div",{class:"row q-mt-md text-tertiary"},[(0,a.createElementVNode)("div",{class:"DocumentoMetas-itemRotulo2 text-caption text-weight-bold col-auto q-mr-sm"},"Titulo meta"),(0,a.createElementVNode)("div",{class:"DocumentoMetas-itemConteudo2 text-caption col"},[(0,a.createElementVNode)("div",null,"Informacao meta")])])],-1))),K3((()=>(0,a.createElementVNode)("div",{class:"DocumentoMetas-item col-12 col-lg-6"},[(0,a.createElementVNode)("div",{class:"row q-mt-md text-tertiary"},[(0,a.createElementVNode)("div",{class:"DocumentoMetas-itemRotulo2 text-caption text-weight-bold col-auto q-mr-sm"},"Titulo meta"),(0,a.createElementVNode)("div",{class:"DocumentoMetas-itemConteudo2 text-caption col"},[(0,a.createElementVNode)("div",null,"Informacao meta")])])],-1))),K3((()=>(0,a.createElementVNode)("div",{class:"DocumentoMetas-item col-12 col-lg-6"},[(0,a.createElementVNode)("div",{class:"row q-mt-md text-tertiary"},[(0,a.createElementVNode)("div",{class:"DocumentoMetas-itemRotulo2 text-caption text-weight-bold col-auto q-mr-sm"},"Titulo meta"),(0,a.createElementVNode)("div",{class:"DocumentoMetas-itemConteudo2 text-caption col"},[(0,a.createElementVNode)("div",null,"Informacao meta")])])],-1))),K3((()=>(0,a.createElementVNode)("div",{class:"DocumentoMetas-item col-12 col-lg-6"},[(0,a.createElementVNode)("div",{class:"row q-mt-md text-tertiary"},[(0,a.createElementVNode)("div",{class:"DocumentoMetas-itemRotulo2 text-caption text-weight-bold col-auto q-mr-sm"},"Titulo meta"),(0,a.createElementVNode)("div",{class:"DocumentoMetas-itemConteudo2 text-caption col"},[(0,a.createElementVNode)("div",null,"Informacao meta")])])],-1)))],f9=(0,a.createTextVNode)("Cliente X"),N9={class:"layout-padding"},V9={class:"row q-mt-xl q-pt-md q-px-md"},g9=(0,a.createTextVNode)(" Nome Cliente "),x9=(0,a.createTextVNode)("Office"),b9=(0,a.createTextVNode)("Office"),w9=(0,a.createTextVNode)("Office"),_9=(0,a.createTextVNode)("Office"),y9=(0,a.createTextVNode)("Tag"),I9=(0,a.createTextVNode)("Tag"),E9=(0,a.createTextVNode)("Tag"),S9=(0,a.createTextVNode)("Tag"),M9={components:{Avatar:uo.Z,Badge:S.Z},data:()=>({data:"",ratingModel:"",checkboxModel:[],lista:[{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1}],selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]}),methods:{abrirURL:Tp.Z,abrirTelefone(e){if(alert("abrirTelefone"),!e.telefone)return;const o="WhatsApp"===e.tipoTelefone?"https://api.whatsapp.com/send?phone=":"tel:+";this.abrirURL(o+this.formatarTelefone(e.telefone))}}},T9=(0,T.Z)(M9,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("avatar"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-separator"),d=(0,a.resolveComponent)("q-item-section"),m=(0,a.resolveComponent)("q-item-label"),u=(0,a.resolveComponent)("q-item"),p=(0,a.resolveComponent)("q-btn"),h=(0,a.resolveComponent)("q-list"),C=(0,a.resolveComponent)("q-tab"),v=(0,a.resolveComponent)("q-checkbox"),f=(0,a.resolveComponent)("badge"),N=(0,a.resolveComponent)("q-menu"),V=(0,a.resolveComponent)("q-pagination"),g=(0,a.resolveComponent)("q-tab-panels"),x=(0,a.resolveComponent)("q-tabs"),b=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createElementVNode)("div",V9,[(0,a.createVNode)(s,{imagem:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQZH7c1xxmppduvnIzq7oevpcDCK3nDoGgqjR6-yZ7L7kHCKDeq",rotulo:"avatar",tamanho:"40",style:{float:"left"}}),(0,a.createVNode)(n,{class:"q-pt-sm"},{default:(0,a.withCtx)((()=>[g9])),_:1})]),(0,a.createVNode)(c,{inset:""}),(0,a.createVNode)(h,{class:"no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{onClick:o[0]||(o[0]=o=>l.abrirTelefone(e.telefone))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{icon:"phone",color:"primary"}),(0,a.createVNode)(m,{label:"(650) 555 - 2345"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"tertiary",class:"text-body1"},{default:(0,a.withCtx)((()=>[x9])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,{onClick:o[1]||(o[1]=o=>l.abrirTelefone(e.telefone))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{inset:"",label:"(650) 555 - 2345"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"tertiary",class:"text-body1"},{default:(0,a.withCtx)((()=>[b9])),_:1})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{flat:"",dense:"",icon:"mdi-whatsapp",round:"",color:"green"})])),_:1})])),_:1}),(0,a.createVNode)(c,{inset:""}),(0,a.createVNode)(u,{onClick:o[2]||(o[2]=o=>l.abrirTelefone(e.telefone))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{icon:"mail",color:"primary"}),(0,a.createVNode)(m,{label:"john.doe@some-company.com"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"tertiary",class:"text-body1"},{default:(0,a.withCtx)((()=>[w9])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(c,{inset:""}),(0,a.createVNode)(u,{onClick:o[3]||(o[3]=o=>l.abrirTelefone(e.telefone))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{icon:"business",color:"primary"}),(0,a.createVNode)(m,{inset:"",label:"Av. Pres. Vargas, 2001 - Jardim Irajá, Ribeirão Preto - SP, 14080-110"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"tertiary",class:"text-body1"},{default:(0,a.withCtx)((()=>[_9])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(x,{modelValue:e.tabsModel,"onUpdate:modelValue":o[8]||(o[8]=o=>e.tabsModel=o),color:"transparent","text-color":"primary",class:"q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{name:"xtab-1",label:"Pendentes",class:"q-py-none q-px-lg",default:""}),(0,a.createVNode)(C,{name:"xtab-2",label:"Concluídas",class:"q-py-none q-px-lg"}),(0,a.createVNode)(g,{name:"xtab-1",class:"q-pa-none",style:{"border-top":"1px solid rgba(255, 255, 255, 0.25)"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{highlight:"","no-border":"",separator:"",class:"q-pt-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(t=>((0,a.openBlock)(),(0,a.createBlock)(u,{key:t,class:"q-pa-xs itemlista",onClick:o=>e.abrirItem(t)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"sidecheckbox"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[4]||(o[4]=e=>r.checkboxModel=e),dark:"","keep-color":""},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:t.photo,tamanho:"30"},null,8,["imagem"])])),_:2},1024),(0,a.createVNode)(m,{label:t.name},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.email),1)])),_:2},1024),(0,a.createVNode)(d,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.tel),1)])),_:2},1024),(0,a.createVNode)(f,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[y9])),_:1}),(0,a.createVNode)(f,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[I9])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(d,{right:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{flat:"",dense:"",icon:"more_vert",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(h,{link:"","no-border":"",separator:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{icon:"edit"}),(0,a.createVNode)(m,{label:"Editar"})])),_:1})])),_:1},512),[[b]])])),_:1})])),_:1})])),_:1})])),_:2},1032,["onClick"])))),128))])),_:1}),(0,a.createVNode)(V,{"text-color":"primary",modelValue:e.page,"onUpdate:modelValue":o[5]||(o[5]=o=>e.page=o),min:e.minPages,max:e.maxPages,class:"justify-center q-mb-sm"},null,8,["modelValue","min","max"])])),_:1}),(0,a.createVNode)(g,{name:"xtab-2",class:"q-pa-none",style:{"border-top":"1px solid rgba(255, 255, 255, 0.25)"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{highlight:"","no-border":"",separator:"",class:"q-pt-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(u,{key:e,class:"q-pa-xs itemlista"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"sidecheckbox"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[6]||(o[6]=e=>r.checkboxModel=e),dark:"","keep-color":""},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:e.photo,tamanho:"30"},null,8,["imagem"])])),_:2},1024),(0,a.createVNode)(m,{label:e.name},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024),(0,a.createVNode)(d,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.tel),1)])),_:2},1024),(0,a.createVNode)(f,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[E9])),_:1}),(0,a.createVNode)(f,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[S9])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(d,{right:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{flat:"",dense:"",icon:"more_vert",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(h,{link:"","no-border":"",separator:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{icon:"edit"}),(0,a.createVNode)(m,{label:"Editar"})])),_:1})])),_:1},512),[[b]])])),_:1})])),_:1})])),_:1})])),_:2},1024)))),128))])),_:1}),(0,a.createVNode)(V,{"text-color":"primary",modelValue:e.page,"onUpdate:modelValue":o[7]||(o[7]=o=>e.page=o),min:e.minPages,max:e.maxPages,class:"justify-center q-mb-sm"},null,8,["modelValue","min","max"])])),_:1})])),_:1},8,["modelValue"])])}]]);Z()(M9,"components",{QToolbarTitle:G.Z,QSeparator:$.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z,QBtn:H.Z,QTabs:ko.Z,QTab:Do.Z,QTabPanels:lr.Z,QCheckbox:Hh.Z,QMenu:Bo.Z,QPagination:Dp.Z}),Z()(M9,"directives",{ClosePopup:J.Z});const k9={components:{Avatar:uo.Z,Campo:L_.Z,TarefasDadosClientes:T9},data:()=>({data:"",modalcontatos:!1,ratingModel:"",showmetas:!1,selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]}),methods:{async abrirModalContatos(){this.modalcontatos=!0}},watch:{},created(){}},D9=(0,T.Z)(k9,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-toolbar"),c=(0,a.resolveComponent)("q-input"),d=(0,a.resolveComponent)("avatar"),m=(0,a.resolveComponent)("q-item-section"),u=(0,a.resolveComponent)("q-item-label"),p=(0,a.resolveComponent)("q-btn"),h=(0,a.resolveComponent)("q-item"),C=(0,a.resolveComponent)("q-list"),v=(0,a.resolveComponent)("campo"),f=(0,a.resolveComponent)("q-card"),N=(0,a.resolveComponent)("q-toolbar-title"),V=(0,a.resolveComponent)("q-header"),g=(0,a.resolveComponent)("tarefas-dados-clientes"),x=(0,a.resolveComponent)("q-layout"),b=(0,a.resolveComponent)("q-dialog"),w=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",e9,[(0,a.createVNode)(f,{class:"extratoItem bg-white q-pa-md no-shadow q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",o9,[(0,a.createElementVNode)("div",t9,[(0,a.createElementVNode)("div",a9,[(0,a.createVNode)(n,{class:"q-pa-none q-ma-none q-mb-md",color:"none","text-color":"tertiary",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("p",i9,[(0,a.createVNode)(s,{name:"playlist_add_check",class:"q-mr-md",size:"24px"}),r9])])),_:1})]),(0,a.createElementVNode)("div",l9,[(0,a.createVNode)(c,{type:"textarea",class:"bg-light q-px-md q-mb-none",placeholder:"Detalhamento da tarefa...",rows:"4"})]),(0,a.createElementVNode)("div",s9,[(0,a.createVNode)(C,{highlight:"",class:"q-pa-none no-border q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{imagem:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQZH7c1xxmppduvnIzq7oevpcDCK3nDoGgqjR6-yZ7L7kHCKDeq",rotulo:"avatar",tamanho:"30",style:{float:"left"}})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{stamp:""},{default:(0,a.withCtx)((()=>[n9])),_:1}),(0,a.createVNode)(m,{stamp:"",class:"text-subtitle1"},{default:(0,a.withCtx)((()=>[c9])),_:1})])),_:1}),(0,a.createVNode)(m,{right:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{color:"primary",dense:"",flat:"",icon:"edit",round:""})])),_:1})])),_:1})])),_:1})]),(0,a.createElementVNode)("div",d9,[(0,a.createVNode)(C,{highlight:"",class:"q-pa-none no-border q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{imagem:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQZH7c1xxmppduvnIzq7oevpcDCK3nDoGgqjR6-yZ7L7kHCKDeq",rotulo:"avatar",tamanho:"30",style:{float:"left"}})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{stamp:""},{default:(0,a.withCtx)((()=>[m9])),_:1}),(0,a.createVNode)(m,{stamp:"",class:"text-subtitle1"},{default:(0,a.withCtx)((()=>[u9])),_:1})])),_:1}),(0,a.createVNode)(m,{right:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{color:"tertiary",dense:"",flat:"",icon:"edit",round:""})])),_:1})])),_:1})])),_:1})]),(0,a.createElementVNode)("div",p9,[(0,a.createVNode)(v,{modelValue:r.data,"onUpdate:modelValue":o[0]||(o[0]=e=>r.data=e),maxlength:"10",rotulo:"Prazo",tipo:"data"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",h9,[(0,a.createVNode)(p,{color:"positive",label:"Ver mais",outline:"",size:"xs",onClick:o[1]||(o[1]=e=>r.showmetas=!r.showmetas)})])]),r.showmetas?((0,a.openBlock)(),(0,a.createElementBlock)("div",C9,v9)):(0,a.createCommentVNode)("",!0)])])),_:1}),(0,a.createVNode)(b,{maximized:"",modelValue:r.modalcontatos,"onUpdate:modelValue":o[2]||(o[2]=e=>r.modalcontatos=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(p,{flat:"",round:"",dense:"",icon:"keyboard_arrow_left"},null,512),[[w]]),(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[f9])),_:1})])),_:1})])),_:1}),(0,a.createElementVNode)("div",N9,[(0,a.createVNode)(g)])])),_:1})])),_:1},8,["modelValue"])])}],["__scopeId","data-v-2ceba6f3"]]);Z()(k9,"components",{QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QItemLabel:j.Z,QIcon:L.Z,QInput:re.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QBtn:H.Z,QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QFooter:Te.Z}),Z()(k9,"directives",{ClosePopup:J.Z});const q9={class:"q-item-label q-mb-none"},F9=(0,a.createTextVNode)(" Convidados "),P9={class:"q-col-gutter-x-sm q-py-sm row"},A9=(0,a.createTextVNode)("Descricao"),B9=(0,a.createTextVNode)("marca"),L9={class:"q-mt-md text-center"},O9={components:{Avatar:uo.Z},data:()=>({data:"",ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]})},z9=(0,T.Z)(O9,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-toolbar"),c=(0,a.resolveComponent)("avatar"),d=(0,a.resolveComponent)("q-item-section"),m=(0,a.resolveComponent)("q-item-label"),u=(0,a.resolveComponent)("q-btn"),p=(0,a.resolveComponent)("q-item"),h=(0,a.resolveComponent)("q-list"),C=(0,a.resolveComponent)("q-card");return(0,a.openBlock)(),(0,a.createBlock)(C,{class:"extratoItem bg-white q-pa-md q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-pa-none q-ma-none q-mb-md",color:"none","text-color":"tertiary",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("p",q9,[(0,a.createVNode)(s,{name:"people",class:"q-mr-md",size:"24px"}),F9])])),_:1}),(0,a.createElementVNode)("div",P9,[(0,a.createVNode)(h,{highlight:"",class:"q-pa-none no-border col-12"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{imagem:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQZH7c1xxmppduvnIzq7oevpcDCK3nDoGgqjR6-yZ7L7kHCKDeq",rotulo:"avatar",tamanho:"30",style:{float:"left"}})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[A9])),_:1}),(0,a.createVNode)(m,{caption:""},{default:(0,a.withCtx)((()=>[B9])),_:1})])),_:1}),(0,a.createVNode)(d,{side:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})])),_:1})])),_:1})])),_:1})]),(0,a.createElementVNode)("div",L9,[(0,a.createVNode)(u,{color:"positive",icon:"add",label:"Convidado",outline:"",size:"xs"})])])),_:1})}]]);Z()(O9,"components",{QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QItemLabel:j.Z,QIcon:L.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QBtn:H.Z});const j9={components:{Avatar:uo.Z,Badge:S.Z,TarefasConvidados:z9,TarefasAssunto:D9,TarefasChecklist:E3,TarefasArquivos:k3,TarefasIncluirProjetos:Z3,TarefasProdutosServicos:W3},data:()=>({showkanbanm:!1,showganttm:!1,showtarefas:!0,showkanban:!1,showgantt:!1,opened:!1,data:"",lista:[{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1}],ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],select:[],modelchips:["teste","cliente 2"]}),methods:{carregaComponent(e){"showtarefas"===e&&(this.showtarefas=!0,this.showkanban=!1,this.showgantt=!1),"showkanban"===e&&(this.showtarefas=!1,this.showkanban=!0,this.showgantt=!1),"showgantt"===e&&(this.showtarefas=!1,this.showkanban=!1,this.showgantt=!0)},async abrirModal(){this.opened=!0}},watch:{},created(){}},$9=(0,T.Z)(j9,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-tab"),c=(0,a.resolveComponent)("q-tabs"),d=(0,a.resolveComponent)("q-toolbar-title"),m=(0,a.resolveComponent)("q-tooltip"),u=(0,a.resolveComponent)("q-item-section"),p=(0,a.resolveComponent)("q-item-label"),h=(0,a.resolveComponent)("q-item"),C=(0,a.resolveComponent)("q-list"),v=(0,a.resolveComponent)("q-menu"),f=(0,a.resolveComponent)("q-toolbar"),N=(0,a.resolveComponent)("q-input"),V=(0,a.resolveComponent)("q-field"),g=(0,a.resolveComponent)("badge"),x=(0,a.resolveComponent)("tarefas-assunto"),b=(0,a.resolveComponent)("avatar"),w=(0,a.resolveComponent)("q-separator"),_=(0,a.resolveComponent)("q-expansion-item"),y=(0,a.resolveComponent)("q-card"),I=(0,a.resolveComponent)("tarefas-incluir-projetos"),E=(0,a.resolveComponent)("tarefas-produtos-servicos"),S=(0,a.resolveComponent)("tarefas-arquivos"),M=(0,a.resolveComponent)("tarefas-checklist"),T=(0,a.resolveComponent)("tarefas-convidados"),k=(0,a.resolveComponent)("q-layout"),D=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(k,{id:"ModeloDocumento",class:"TarefasLista",view:"hHh lpR fFf"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{color:"none","text-color":"dark",class:"q-py-sm q-px-none q-mb-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{icon:"keyboard_arrow_left",label:"Lista",color:"primary",flat:"",dense:"",round:"",class:"no-shadow"}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:e.tabsModel,"onUpdate:modelValue":o[0]||(o[0]=o=>e.tabsModel=o),color:"none","text-color":"dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{name:"xtab-1",label:"message",default:""}),(0,a.createVNode)(n,{name:"xtab-2",label:"account_box"}),(0,a.createVNode)(n,{name:"xtab-3",label:"mail"})])),_:1},8,["modelValue"])])),_:1}),(0,a.createVNode)(s,{flat:"",dense:"",icon:"close",color:"negative",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[i3])),_:1})])),_:1}),(0,a.createVNode)(s,{flat:"",dense:"",icon:"more_vert",round:"",size:"md",color:"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(C,{link:"","no-border":"",separator:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{icon:"edit"}),(0,a.createVNode)(p,{label:"Editar"})])),_:1})])),_:1},512),[[D]])])),_:1})])),_:1})])),_:1}),(0,a.createElementVNode)("div",r3,[(0,a.createElementVNode)("div",l3,[(0,a.createElementVNode)("div",s3,[(0,a.createElementVNode)("div",n3,[(0,a.createElementVNode)("div",c3,[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"q-title",placeholder:"Assunto",value:"Assunto"})])),_:1})]),(0,a.createElementVNode)("div",d3,[(0,a.createVNode)(g,{cor:"positive",class:"q-mx-sm q-mt-sm",icone:"flag",escuro:""},{default:(0,a.withCtx)((()=>[m3])),_:1}),(0,a.createVNode)(g,{cor:"tertiary",escuro:"",icone:"playlist_add_check",class:"q-mt-sm"},{default:(0,a.withCtx)((()=>[u3])),_:1}),(0,a.createVNode)(s,{class:"q-mx-sm",color:"primary",icon:"print",flat:"",dense:"",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{link:"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{icon:"print"}),(0,a.createVNode)(p,{label:"Imprimir Orçamento"})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{icon:"print"}),(0,a.createVNode)(p,{label:"Imprimir Envelope"})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s,{color:"primary",icon:"person",flat:"",dense:"",round:""})])]),(0,a.createElementVNode)("div",p3,[(0,a.createElementVNode)("div",h3,[(0,a.createVNode)(x),(0,a.createVNode)(y,{class:"extratoItem bg-white q-py-sm q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{icon:"history",label:"Atividades",class:"q-px-none q-mx-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",null,[(0,a.createVNode)(d,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{debounce:500,modelValue:e.buscaCampo,"onUpdate:modelValue":o[1]||(o[1]=o=>e.buscaCampo=o),ref:"buscaCampo",color:"none",placeholder:"Buscar",style:{"max-width":"990px",margin:"0 auto"}},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(C,{highlight:"",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{header:""},{default:(0,a.withCtx)((()=>[C3])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(h,{key:e,class:"q-py-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{imagem:e.photo,tamanho:"30"},null,8,["imagem"])])),_:2},1024),(0,a.createVNode)(p,{label:e.name},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024),(0,a.createVNode)(g,{class:"q-mr-sm",escuro:"",denso:"",cor:"positive"},{default:(0,a.withCtx)((()=>[v3])),_:1}),(0,a.createVNode)(g,{class:"q-mr-sm",escuro:"",denso:"",cor:"primary"},{default:(0,a.withCtx)((()=>[f3])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(u,{right:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{flat:"",dense:"",icon:"more_vert",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(C,{link:"","no-border":"",separator:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{icon:"edit"}),(0,a.createVNode)(p,{label:"Editar"})])),_:1})])),_:1},512),[[D]])])),_:1})])),_:1})])),_:1})])),_:2},1024)))),128)),(0,a.createVNode)(w),(0,a.createVNode)(p,{header:""},{default:(0,a.withCtx)((()=>[N3])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(h,{key:e,class:"q-py-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{imagem:e.photo,tamanho:"30"},null,8,["imagem"])])),_:2},1024),(0,a.createVNode)(p,{label:e.name},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024),(0,a.createVNode)(u,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.tel),1)])),_:2},1024),(0,a.createVNode)(g,{class:"q-mr-sm",denso:"",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[V3])),_:1}),(0,a.createVNode)(g,{class:"q-mr-sm",denso:"",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[g3])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(u,{right:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{flat:"",dense:"",icon:"more_vert",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(C,{link:"","no-border":"",separator:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{icon:"edit"}),(0,a.createVNode)(p,{label:"Editar"})])),_:1})])),_:1},512),[[D]])])),_:1})])),_:1})])),_:1})])),_:2},1024)))),128))])),_:1})])])),_:1})])),_:1})]),(0,a.createElementVNode)("div",x3,[(0,a.createVNode)(I),(0,a.createVNode)(E),(0,a.createVNode)(S),(0,a.createVNode)(M),(0,a.createVNode)(T)])])])])])])),_:1})}]]);Z()(j9,"components",{QLayout:ae.Z,QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QTabs:ko.Z,QTab:Do.Z,QTooltip:Ao.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z,QField:Sp.Z,QInput:re.Z,QCard:D.Z,QExpansionItem:P.Z,QSeparator:$.Z}),Z()(j9,"directives",{ClosePopup:J.Z});const U9={components:{Avatar:uo.Z,Badge:S.Z,TarefasConvidados:z9,TarefasAssunto:D9,TarefasChecklist:E3,TarefasArquivos:k3,TarefasIncluirProjetos:Z3,TarefasProdutosServicos:W3},data:()=>({showkanbanm:!1,showganttm:!1,showtarefas:!0,showkanban:!1,showgantt:!1,opened:!1,data:"",lista:[{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1}],ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],select:[],modelchips:["teste","cliente 2"]}),methods:{carregaComponent(e){"showtarefas"===e&&(this.showtarefas=!0,this.showkanban=!1,this.showgantt=!1),"showkanban"===e&&(this.showtarefas=!1,this.showkanban=!0,this.showgantt=!1),"showgantt"===e&&(this.showtarefas=!1,this.showkanban=!1,this.showgantt=!0)},async abrirModal(){this.opened=!0}},watch:{},created(){}};Z()(U9,"components",{QLayout:ae.Z,QField:Sp.Z,QInput:re.Z,QBtn:H.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z,QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QIcon:L.Z,QSeparator:$.Z}),Z()(U9,"directives",{ClosePopup:J.Z});const Z9={id:"ModeloMenu"},Q9=(0,a.createTextVNode)("Tag"),R9=(0,a.createTextVNode)("Tag"),G9=(0,a.createTextVNode)("Editar"),H9=(0,a.createTextVNode)("Tag"),J9=(0,a.createTextVNode)("Tag"),Y9=(0,a.createTextVNode)("Editar"),X9={components:{Avatar:uo.Z,Badge:S.Z},props:{sectionBT:{default:!0,type:Boolean},listBT:{default:!1,type:Boolean}},data:()=>({tabsModel:"xtab-1",lista:[{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1}],page:1,minPages:1,maxPages:5,buscaCampo:"",checkboxModel:[],carregando:!1,contatosEmpresa:[],dados:{},empresas:{selected:[],options:[]},empresasSelecionadas:[],erroEmpresas:!1,erroPeriodo:!1,filtro:{codigoClienteSistema:"",codigoContatoUsuario:"",dataConsulta:"",empresas:[],periodo:{ini:null,fim:""}},showingHelp:!1,showFilters:!0,showFiltersOpt:!0,gantt:!1,kanban:!1}),emits:["abrirFiltro","abrirItem","myEvent"],methods:{isMobile:()=>window.innerWidth<768,async filtrar(){console.log("filtrar")},clicou(e){"kanban"===e&&(this.section=!1,this.kanban=!0,this.gantt=!1,this.list=!1),"gantt"===e&&(this.section=!1,this.kanban=!1,this.gantt=!0,this.list=!1),"section"===e&&(this.section=!0,this.kanban=!1,this.gantt=!1,this.list=!1),"list"===e&&(this.section=!1,this.list=!0,this.kanban=!1,this.gantt=!1),"section"===e&&this.isMobile()?this.showFiltersOpt=!1:this.$emit("myEvent",e)},abrirItem(e){this.$emit("abrirItem",e)},abrirFiltro(){this.$emit("abrirFiltro")}}},W9=(0,T.Z)(X9,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-btn-group"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-input"),u=(0,a.resolveComponent)("q-tab"),p=(0,a.resolveComponent)("q-checkbox"),h=(0,a.resolveComponent)("q-item-section"),C=(0,a.resolveComponent)("avatar"),v=(0,a.resolveComponent)("badge"),f=(0,a.resolveComponent)("q-item-label"),N=(0,a.resolveComponent)("q-icon"),V=(0,a.resolveComponent)("q-item"),g=(0,a.resolveComponent)("q-list"),x=(0,a.resolveComponent)("q-menu"),b=(0,a.resolveComponent)("q-pagination"),w=(0,a.resolveComponent)("q-tab-panels"),_=(0,a.resolveComponent)("q-tabs"),y=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Z9,[(0,a.createVNode)(d,{color:"transparent",class:"q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{icon:"vertical_split",onClick:o[0]||(o[0]=e=>l.clicou("section")),color:t.sectionBT?"white":"none","text-color":t.sectionBT?"primary":"white",class:"q-px-xs"},null,8,["color","text-color"]),(0,a.createVNode)(s,{icon:"view_column",onClick:o[1]||(o[1]=e=>l.clicou("kanban")),class:"q-px-xs",color:r.kanban?"white":"none","text-color":r.kanban?"primary":"white"},null,8,["color","text-color"]),(0,a.createVNode)(s,{icon:"mdi-chart-gantt",onClick:o[2]||(o[2]=e=>l.clicou("gantt")),class:"q-px-xs",color:r.gantt?"white":"none","text-color":r.gantt?"primary":"white"},null,8,["color","text-color"]),(0,a.createVNode)(s,{icon:"view_headline",onClick:o[3]||(o[3]=e=>l.clicou("list")),class:"q-px-xs",color:t.listBT?"white":"none","text-color":t.listBT?"primary":"white"},null,8,["color","text-color"])])),_:1}),(0,a.createVNode)(c,{class:"q-px-none"}),(0,a.createVNode)(s,{color:"white","text-color":"primary",icon:"add",label:"Tarefas",size:"md",dense:"",class:"no-shadow"})])),_:1}),(0,a.createVNode)(d,{color:"transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{debounce:500,modelValue:r.buscaCampo,"onUpdate:modelValue":o[4]||(o[4]=e=>r.buscaCampo=e),ref:"buscaCampo",color:"none",dark:"",placeholder:"Buscar",style:{"max-width":"990px",margin:"0 auto"}},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(s,{icon:"mdi-filter",flat:"",dense:"",round:"",class:"no-shadow q-ml-xs q-px-xs",onClick:l.abrirFiltro},null,8,["onClick"])])),_:1}),(0,a.createVNode)(_,{modelValue:r.tabsModel,"onUpdate:modelValue":o[9]||(o[9]=e=>r.tabsModel=e),color:"none","text-color":"white",class:"q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{name:"xtab-1",label:"Label 1",class:"q-py-none q-px-lg",default:""}),(0,a.createVNode)(u,{name:"xtab-2",label:"Label 2",class:"q-py-none q-px-lg"}),(0,a.createVNode)(w,{name:"xtab-1",class:"q-pa-none",style:{"border-top":"1px solid rgba(255, 255, 255, 0.25)"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{highlight:"","no-border":"",separator:"",class:"q-pt-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(V,{key:e,class:"q-pa-xs itemlista",onClick:o=>l.abrirItem(e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"sidecheckbox"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[5]||(o[5]=e=>r.checkboxModel=e),dark:"","keep-color":"",color:"white"},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{imagem:e.photo,tamanho:"30"},null,8,["imagem"])])),_:2},1024),(0,a.createVNode)(f,{label:e.name,class:"text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"text-white",stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024),(0,a.createVNode)(h,{class:"text-white",stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.tel),1)])),_:2},1024),(0,a.createVNode)(v,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[Q9])),_:1}),(0,a.createVNode)(v,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[R9])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(h,{right:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{flat:"",dense:"",icon:"more_vert",color:"white",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(g,{link:"","no-border":"",separator:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{name:"edit"})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[G9])),_:1})])),_:1})])),_:1})])),_:1},512),[[y]])])),_:1})])),_:1})])),_:1})])),_:2},1032,["onClick"])))),128))])),_:1}),(0,a.createVNode)(b,{color:"white","text-color":"primary",modelValue:r.page,"onUpdate:modelValue":o[6]||(o[6]=e=>r.page=e),min:r.minPages,max:r.maxPages,class:"justify-center q-mb-sm"},null,8,["modelValue","min","max"])])),_:1}),(0,a.createVNode)(w,{name:"xtab-2",class:"q-pa-none",style:{"border-top":"1px solid rgba(255, 255, 255, 0.25)"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{highlight:"","no-border":"",separator:"",class:"q-pt-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(V,{key:e,class:"q-pa-xs itemlista"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"sidecheckbox"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[7]||(o[7]=e=>r.checkboxModel=e),dark:"","keep-color":"",color:"white"},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{imagem:e.photo,tamanho:"30"},null,8,["imagem"])])),_:2},1024),(0,a.createVNode)(f,{label:e.name,class:"text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"text-white",stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024),(0,a.createVNode)(h,{class:"text-white",stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.tel),1)])),_:2},1024),(0,a.createVNode)(v,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[H9])),_:1}),(0,a.createVNode)(v,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[J9])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(h,{right:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{flat:"",dense:"",icon:"more_vert",color:"white",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(g,{link:"","no-border":"",separator:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{name:"edit"})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[Y9])),_:1})])),_:1})])),_:1})])),_:1},512),[[y]])])),_:1})])),_:1})])),_:1})])),_:2},1024)))),128))])),_:1}),(0,a.createVNode)(b,{color:"white","text-color":"primary",modelValue:r.page,"onUpdate:modelValue":o[8]||(o[8]=e=>r.page=e),min:r.minPages,max:r.maxPages,class:"justify-center q-mb-sm"},null,8,["modelValue","min","max"])])),_:1})])),_:1},8,["modelValue"])])}]]);Z()(X9,"components",{QToolbar:O.Z,QBtnGroup:JM.Z,QBtn:H.Z,QToolbarTitle:G.Z,QInput:re.Z,QTabs:ko.Z,QTab:Do.Z,QTabPanels:lr.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QCheckbox:Hh.Z,QItemLabel:j.Z,QMenu:Bo.Z,QIcon:L.Z,QPagination:Dp.Z}),Z()(X9,"directives",{ClosePopup:J.Z});const K9={components:{ModeloMenu:W9,TarefasDadosClientes:I4,TarefasKanban:X4,TarefasGantt:a3,TarefasLista:$9,Badge:S.Z},computed:{},data:()=>({contatosModal:!1,showsectionm:!1,tabsModel:"xtab-1",lista:[{name:"Jim Doe",fullName:"Jim Doe da Silva",photo:"statics/avatar.jpg",data:"22/01/2021",valor:"100,00",tags:["status"],showPreviewDetail:!1,linha2:{emitente:{sigla:"Sigla",apelido:"apelido",localNota:"localNota"},produto:{atividadeMunicio:"atividadeMunicio",itemLC:"item LC",codNacional:"cod nacional",descricao:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."},justificativa:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."}},{name:"Jim Doe",fullName:"Jim Doe da Silva",photo:"statics/avatar.jpg",data:"22/01/2021",valor:"100,00",tags:["status"],showPreviewDetail:!1,linha2:{emitente:{sigla:"sigla",apelido:"apelido",localNota:"localNota"},produto:{atividadeMunicio:"atividadeMunicio",itemLC:"item LC",codNacional:"cod nacional",descricao:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."},justificativa:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."}},{name:"Jim Doe",fullName:"Jim Doe da Silva",photo:"statics/avatar.jpg",data:"22/01/2021",valor:"100,00",tags:["status"],showPreviewDetail:!1,linha2:{emitente:{sigla:"sigla",apelido:"apelido",localNota:"localNota"},produto:{atividadeMunicio:"atividadeMunicio",itemLC:"item LC",codNacional:"cod nacional",descricao:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."},justificativa:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."}},{name:"Jim Doe",fullName:"Jim Doe da Silva",photo:"statics/avatar.jpg",data:"22/01/2021",valor:"100,00",tags:["status"],showPreviewDetail:!1,linha2:{emitente:{sigla:"sigla",apelido:"apelido",localNota:"localNota"},produto:{atividadeMunicio:"atividadeMunicio",itemLC:"item LC",codNacional:"cod nacional",descricao:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."},justificativa:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."}}],showAllPreviewDetail:!1,page:1,minPages:1,maxPages:5,buscaCampo:"",checkboxModel:[],carregando:!1,contatosEmpresa:[],dados:{},empresas:{selected:[],options:[]},empresasSelecionadas:[],erroEmpresas:!1,erroPeriodo:!1,filtro:{codigoClienteSistema:"",codigoContatoUsuario:"",dataConsulta:"",empresas:[],periodo:{ini:null,fim:""}},showingHelp:!1,showFilters:!1,showList:!1,gantt:!1,kanban:!1,ganttL:!1,kanbanL:!1,section:!1,list:!0,left:!1,abrirItem:!1,terms:""}),watch:{showFilters:function(e){!0===e?this.showList=!1:!0!==this.section&&!0!==this.kanban&&!0!==this.gantt||(this.showList=!0)}},methods:{abrirModalCardNFSE(){console.log("abrir modal card nfse")},async filtrar(){console.log("filtrar")},abrirTodosPreview(){if(this.showAllPreviewDetail=!this.showAllPreviewDetail,this.showAllPreviewDetail)for(let e in this.lista)this.lista[e].showPreviewDetail=!0;else for(let e in this.lista)this.lista[e].showPreviewDetail=!1},abrirFiltro(){!0===this.section||!0===this.kanban||!0===this.gantt?this.left=!0:this.left=!1,this.showFilters=!this.showFilters},carregaComponent(e){this.showFilters=!1,"kanban"===e&&(this.section=!1,this.kanban=!0,this.gantt=!1,this.list=!1,this.showList=!0,this.ganttL=!1,this.kanbanL=!1,this.left=!0),"gantt"===e&&(this.section=!1,this.kanban=!1,this.gantt=!0,this.list=!1,this.showList=!0,this.ganttL=!1,this.kanbanL=!1,this.left=!0),"section"===e&&(this.section=!0,this.kanban=!1,this.gantt=!1,this.list=!1,this.showList=!0,this.ganttL=!1,this.kanbanL=!1,this.left=!0),"ganttL"===e&&(this.section=!1,this.kanban=!1,this.kanbanL=!1,this.gantt=!1,this.ganttL=!0,this.list=!1,this.showList=!1,this.left=!1),"kanbanL"===e&&(this.section=!1,this.kanban=!1,this.kanbanL=!0,this.gantt=!1,this.ganttL=!1,this.list=!1,this.showList=!1,this.left=!1),"list"===e&&(this.left=!1,this.section=!1,this.showList=!1,this.list=!0,this.kanban=!1,this.gantt=!1,this.ganttL=!1,this.kanbanL=!1)}}},e8=(0,T.Z)(K9,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-btn-group"),c=(0,a.resolveComponent)("q-icon"),d=(0,a.resolveComponent)("q-input"),m=(0,a.resolveComponent)("q-toolbar-title"),u=(0,a.resolveComponent)("q-tooltip"),p=(0,a.resolveComponent)("q-toolbar"),h=(0,a.resolveComponent)("q-checkbox"),C=(0,a.resolveComponent)("q-item-section"),v=(0,a.resolveComponent)("q-item"),f=(0,a.resolveComponent)("q-list"),N=(0,a.resolveComponent)("q-menu"),V=(0,a.resolveComponent)("q-item-label"),g=(0,a.resolveComponent)("q-tab"),x=(0,a.resolveComponent)("q-tabs"),b=(0,a.resolveComponent)("badge"),w=(0,a.resolveComponent)("q-avatar"),_=(0,a.resolveComponent)("q-separator"),y=(0,a.resolveComponent)("Tarefas-lista"),I=(0,a.resolveComponent)("q-field"),E=(0,a.resolveComponent)("q-footer"),S=(0,a.resolveComponent)("tarefas-kanban"),M=(0,a.resolveComponent)("tarefas-gantt"),T=(0,a.resolveComponent)("q-page"),k=(0,a.resolveComponent)("q-pagination"),D=(0,a.resolveComponent)("Modelo-menu"),q=(0,a.resolveComponent)("q-drawer"),F=(0,a.resolveComponent)("tarefas-dados-clientes"),P=(0,a.resolveComponent)("q-date"),A=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",n2,[(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[r.list?((0,a.openBlock)(),(0,a.createElementBlock)("div",c2,[(0,a.createVNode)(p,{class:"bg-gradiente text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{icon:"vertical_split",onClick:o[0]||(o[0]=e=>l.carregaComponent("section")),class:"hideonmobile q-px-xs",color:r.section?"white":"none","text-color":r.section?"primary":"white"},null,8,["color","text-color"]),(0,a.createVNode)(s,{icon:"view_column",onClick:o[1]||(o[1]=e=>l.carregaComponent("kanbanL")),class:"q-px-xs",color:r.kanbanL?"white":"none","text-color":r.kanbanL?"primary":"white"},null,8,["color","text-color"]),(0,a.createVNode)(s,{icon:"mdi-chart-gantt",onClick:o[2]||(o[2]=e=>l.carregaComponent("ganttL")),class:"q-px-xs",color:r.ganttL?"white":"none","text-color":r.ganttL?"primary":"white"},null,8,["color","text-color"]),(0,a.createVNode)(s,{icon:"view_headline",onClick:o[3]||(o[3]=e=>l.carregaComponent("list")),class:"q-px-xs",color:r.list?"white":"none","text-color":r.list?"primary":"white"},null,8,["color","text-color"])])),_:1}),(0,a.createVNode)(m,{class:"q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{debounce:500,modelValue:r.buscaCampo,"onUpdate:modelValue":o[4]||(o[4]=e=>r.buscaCampo=e),ref:"buscaCampo",filled:"",dark:"",placeholder:"Filtrar",style:{"max-width":"990px",margin:"0 auto"}},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"mdi-filter"})])),append:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"keyboard_arrow_down",onClick:l.abrirFiltro,class:"cursor-pointer"},null,8,["onClick"])])),_:1},8,["modelValue"])])),_:1}),(0,a.createVNode)(s,{flat:"",dense:"",icon:"add",color:"white",round:"",class:"hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[d2])),_:1})])),_:1}),(0,a.createVNode)(s,{icon:"search",color:"white",flat:"",dense:"",round:"",onClick:o[5]||(o[5]=e=>r.contatosModal=!0)})])),_:1}),(0,a.createVNode)(s,{round:"",color:"primary",class:"fixed hideondesktop",icon:"add",size:"lg",style:{right:"18px",bottom:"18px","z-index":"55"}}),(0,a.createVNode)(p,{class:"bg-transparent q-py-sm text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[6]||(o[6]=e=>r.checkboxModel=e)},null,8,["modelValue"]),(0,a.createVNode)(s,{flat:"",dense:"",icon:"arrow_drop_down",size:"md",color:"dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(f,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"edit"})])),_:1}),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[m2])),_:1})])),_:1})])),_:1},512),[[A]])])),_:1})])),_:1}),(0,a.createVNode)(s,{flat:"",dense:"",icon:"label",color:"tertiary",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[u2])),_:1})])),_:1}),(0,a.createVNode)(s,{flat:"",dense:"",icon:"delete",color:"tertiary",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[p2])),_:1})])),_:1}),(0,a.createVNode)(m),(0,a.createVNode)(s,{flat:"",dense:"",icon:r.showAllPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",color:"tertiary",round:"",onClick:o[7]||(o[7]=e=>l.abrirTodosPreview())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[h2])),_:1})])),_:1},8,["icon"]),(0,a.createVNode)(s,{dense:"",flat:"",icon:"swap_vert",round:"",color:"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(f,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{icon:"edit"}),(0,a.createVNode)(V,{label:"Alfabetica"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{icon:"edit"}),(0,a.createVNode)(V,{label:"Data"})])),_:1})])),_:1},512),[[A]])])),_:1})])),_:1}),(0,a.createVNode)(s,{flat:"",dense:"",icon:"mdi-download",color:"tertiary",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[C2])),_:1})])),_:1}),(0,a.createVNode)(s,{flat:"",dense:"",icon:"print",color:"tertiary",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[v2])),_:1})])),_:1}),(0,a.createVNode)(s,{flat:"",dense:"",icon:"more_vert",round:"",size:"md",color:"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(f,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{icon:"edit"}),(0,a.createVNode)(V,{label:"Editar"})])),_:1})])),_:1},512),[[A]])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(x,{modelValue:r.tabsModel,"onUpdate:modelValue":o[8]||(o[8]=e=>r.tabsModel=e),dense:"",class:"text-primary",align:"left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{name:"xtab-1",label:"Ativos",default:""}),(0,a.createVNode)(g,{name:"xtab-2",label:"Excluídos"}),(0,a.createVNode)(g,{name:"xtab-3",label:"Todos"})])),_:1},8,["modelValue"]),(0,a.createElementVNode)("div",f2,[(0,a.createElementVNode)("div",N2,[(0,a.createElementVNode)("div",V2,[(0,a.createVNode)(d,{color:"primary",modelValue:r.terms,"onUpdate:modelValue":o[9]||(o[9]=e=>r.terms=e),placeholder:"Nome*"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",g2,[(0,a.createVNode)(d,{color:"primary",modelValue:r.terms,"onUpdate:modelValue":o[10]||(o[10]=e=>r.terms=e),placeholder:"Apelido"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",x2,[(0,a.createVNode)(d,{color:"primary",modelValue:r.terms,"onUpdate:modelValue":o[11]||(o[11]=e=>r.terms=e),placeholder:"CPF/CNPJ"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",b2,[(0,a.createVNode)(d,{color:"primary",modelValue:r.terms,"onUpdate:modelValue":o[12]||(o[12]=e=>r.terms=e),placeholder:"Telefone"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",w2,[(0,a.createVNode)(d,{color:"primary",modelValue:r.terms,"onUpdate:modelValue":o[13]||(o[13]=e=>r.terms=e),placeholder:"CEP"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",_2,[(0,a.createVNode)(d,{color:"primary",modelValue:r.terms,"onUpdate:modelValue":o[14]||(o[14]=e=>r.terms=e),placeholder:"Número"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",y2,[(0,a.createVNode)(s,{color:"positive",icon:"add",label:"Adicionar",outline:"",size:"md",class:"q-mt-xs q-mr-md",onClick:o[15]||(o[15]=o=>e.openedCofirm=!0)})])])]),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(f,{class:"rounded-borders",style:{border:"none !important"},key:e},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{class:"items-center d-flex"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{avatar:"",center:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",I2,[(0,a.createVNode)(h,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[16]||(o[16]=e=>r.checkboxModel=e)},null,8,["modelValue"]),(0,a.createVNode)(b,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[E2])),_:1})])])),_:1}),(0,a.createVNode)(C,{avatar:"",clickable:"",onClick:l.abrirModalCardNFSE},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("img",{src:e.photo},null,8,S2)])),_:2},1024)])),_:2},1032,["onClick"]),(0,a.createVNode)(C,{top:"",class:"col-2 gt-sm",clickable:"",onClick:l.abrirModalCardNFSE},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.name),1)])),_:2},1024),(0,a.createVNode)(V,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.fullName),1)])),_:2},1024)])),_:2},1032,["onClick"]),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{lines:"1"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"event",class:"text-tertiary"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.data)+" ",1),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[M2])),_:1})])),_:2},1024)])),_:2},1024),(0,a.createVNode)(C,{avatar:"",clickable:"",onClick:l.abrirModalCardNFSE},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{class:"q-mr-sm",escuro:"",cor:"tertiary"},{default:(0,a.withCtx)((()=>[T2])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)(C,{clickable:"",onClick:l.abrirModalCardNFSE},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{caption:"",class:"text-right text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("span",null,[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor)+" ",1),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[k2])),_:1})])])),_:2},1024)])),_:2},1032,["onClick"]),(0,a.createVNode)(C,{side:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",D2,[(0,a.createVNode)(s,{icon:e.showPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",class:"gt-xs",clickable:"",color:"tertiary",dense:"",flat:"",round:"",size:"12px",onClick:o=>e.showPreviewDetail=!e.showPreviewDetail},null,8,["icon","onClick"]),(0,a.createVNode)(s,{class:"gt-xs",color:"tertiary",dense:"",flat:"",icon:"edit",round:"",size:"12px",onClick:l.abrirModalCardNFSE},null,8,["onClick"]),(0,a.createVNode)(s,{class:"gt-xs",color:"tertiary",dense:"",flat:"",icon:"delete",round:"",size:"12px"}),(0,a.createVNode)(s,{dense:"",flat:"",icon:"more_vert",round:"",size:"12px"})])])),_:2},1024)])),_:2},1024),e.showPreviewDetail?((0,a.openBlock)(),(0,a.createBlock)(v,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"preline"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"text-tertiary",stamp:""},{default:(0,a.withCtx)((()=>[q2])),_:1}),(0,a.createVNode)(V,{caption:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.linha2.produto.descricao),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)):(0,a.createCommentVNode)("",!0),e.showPreviewDetail?((0,a.openBlock)(),(0,a.createBlock)(v,{key:1,align:"left",class:"collumnOnMobile q-px-md q-py-xs"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",F2,[(0,a.createVNode)(C,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("img",{src:e.photo},null,8,P2)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{caption:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[A2])),_:1}),(0,a.createVNode)(V,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.linha2.emitente.sigla),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(C,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"room",class:"text-h5 text-tertiary"})])),_:1}),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{caption:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[B2])),_:1}),(0,a.createVNode)(V,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.linha2.emitente.localNota),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(C,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"today",class:"text-h5 text-tertiary"})])),_:1}),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{caption:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[L2])),_:1}),(0,a.createVNode)(V,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.data),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(C,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"event",class:"text-h5 text-tertiary"})])),_:1}),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{caption:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[O2])),_:1}),(0,a.createVNode)(V,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.data),1)])),_:2},1024)])),_:2},1024)])])),_:2},1024)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(_,{spaced:""})])),_:2},1024)))),128))])):(0,a.createCommentVNode)("",!0),r.section?((0,a.openBlock)(),(0,a.createElementBlock)("div",z2,[(0,a.createVNode)(y),(0,a.createVNode)(E,{class:"bg-light no-shadow q-pa-none text-right col-12 col-lg-9",reveal:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",j2,[(0,a.createElementVNode)("div",$2,[(0,a.createVNode)(s,{class:"q-pa-sm",color:"tertiary",flat:"",icon:"group_add",size:"md"})]),(0,a.createElementVNode)("div",U2,[(0,a.createVNode)(s,{class:"q-pa-sm",color:"tertiary",flat:"",icon:"mdi-cart-plus",size:"md"})]),(0,a.createElementVNode)("div",Z2,[(0,a.createVNode)(s,{class:"q-pa-sm",color:"tertiary",size:"md",flat:"",icon:"mdi-attachment"})]),(0,a.createElementVNode)("div",Q2,[(0,a.createVNode)(s,{class:"q-pa-sm",color:"tertiary",size:"md",flat:"",icon:"mdi-format-list-checks"})]),(0,a.createVNode)(I,{class:"col","icon-color":"primary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{type:"textarea",class:"bg-white q-px-md q-mx-sm",value:"",rows:"1",style:{"border-radius":"4px"},placeholder:"Digite seu comentário"})])),_:1}),(0,a.createElementVNode)("div",R2,[(0,a.createVNode)(s,{class:"q-pa-sm q-mx-sm no-shadow",color:"none","text-color":"primary",size:"md",icon:"mdi-send",dense:"",round:""})])]),(0,a.createElementVNode)("div",G2,[(0,a.createElementVNode)("div",H2,[(0,a.createVNode)(s,{class:"q-ml-sm no-shadow float-left",color:"green",icon:"play_arrow",round:""})]),(0,a.createElementVNode)("div",J2,[(0,a.createVNode)(s,{class:"q-ml-sm no-shadow q-mx-sm",color:"negative ",label:"FINALIZAR"}),(0,a.createVNode)(s,{class:"no-shadow",color:"primary",label:"Salvar"}),(0,a.createVNode)(s,{class:"q-ml-sm",color:"tertiary",flat:"",icon:"more_vert",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{link:"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{icon:"print"}),(0,a.createVNode)(C,{label:"Transferir"})])),_:1},512),[[A]]),(0,a.withDirectives)((0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{icon:"print"}),(0,a.createVNode)(C,{label:"Duplicar"})])),_:1},512),[[A]]),(0,a.withDirectives)((0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{icon:"print"}),(0,a.createVNode)(C,{label:"Cancelar"})])),_:1},512),[[A]]),(0,a.withDirectives)((0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{icon:"print"}),(0,a.createVNode)(C,{label:"Reabrir"})])),_:1},512),[[A]])])),_:1})])),_:1})])),_:1})])])])),_:1})])):(0,a.createCommentVNode)("",!0),r.kanban?((0,a.openBlock)(),(0,a.createElementBlock)("div",Y2,[(0,a.createVNode)(S)])):(0,a.createCommentVNode)("",!0),r.gantt?((0,a.openBlock)(),(0,a.createElementBlock)("div",X2,[(0,a.createVNode)(M)])):(0,a.createCommentVNode)("",!0),r.kanbanL?((0,a.openBlock)(),(0,a.createElementBlock)("div",W2,[(0,a.createVNode)(p,{color:"primary",class:"q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{icon:"vertical_split",clickable:"",onClick:o[17]||(o[17]=e=>l.carregaComponent("section")),class:"hideonmobile q-px-xs",color:r.section?"white":"none","text-color":r.section?"primary":"white"},null,8,["color","text-color"]),(0,a.createVNode)(s,{icon:"view_column",clickable:"",onClick:o[18]||(o[18]=e=>l.carregaComponent("kanbanL")),class:"q-px-xs",color:r.kanbanL?"white":"none","text-color":r.kanbanL?"primary":"white"},null,8,["color","text-color"]),(0,a.createVNode)(s,{icon:"mdi-chart-gantt",clickable:"",onClick:o[19]||(o[19]=e=>l.carregaComponent("ganttL")),class:"q-px-xs",color:r.ganttL?"white":"none","text-color":r.ganttL?"primary":"white"},null,8,["color","text-color"]),(0,a.createVNode)(s,{icon:"view_headline",clickable:"",onClick:o[20]||(o[20]=e=>l.carregaComponent("list")),class:"q-px-xs",color:r.list?"white":"none","text-color":r.list?"primary":"white"},null,8,["color","text-color"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{ref:"buscaCampo",modelValue:r.buscaCampo,"onUpdate:modelValue":o[21]||(o[21]=e=>r.buscaCampo=e),debounce:500,color:"none",inverted:"",placeholder:"Buscar",style:{"max-width":"990px",margin:"0 auto"}},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(s,{flat:"",dense:"",icon:"add",round:"",class:"hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[K2])),_:1})])),_:1}),(0,a.createVNode)(s,{icon:"mdi-filter",flat:"",dense:"",round:"",class:"no-shadow q-px-xs",onClick:l.abrirFiltro},null,8,["onClick"])])),_:1}),(0,a.createVNode)(S)])):(0,a.createCommentVNode)("",!0),r.ganttL?((0,a.openBlock)(),(0,a.createElementBlock)("div",e4,[(0,a.createVNode)(p,{color:"primary",class:"q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{icon:"vertical_split",clickable:"",onClick:o[22]||(o[22]=e=>l.carregaComponent("section")),class:"hideonmobile q-px-xs",color:r.section?"white":"none","text-color":r.section?"primary":"white"},null,8,["color","text-color"]),(0,a.createVNode)(s,{icon:"view_column",clickable:"",onClick:o[23]||(o[23]=e=>l.carregaComponent("kanbanL")),class:"q-px-xs",color:r.kanbanL?"white":"none","text-color":r.kanbanL?"primary":"white"},null,8,["color","text-color"]),(0,a.createVNode)(s,{icon:"mdi-chart-gantt",clickable:"",onClick:o[24]||(o[24]=e=>l.carregaComponent("ganttL")),class:"q-px-xs",color:r.ganttL?"white":"none","text-color":r.ganttL?"primary":"white"},null,8,["color","text-color"]),(0,a.createVNode)(s,{icon:"view_headline",clickable:"",onClick:o[25]||(o[25]=e=>l.carregaComponent("list")),class:"q-px-xs",color:r.list?"white":"none","text-color":r.list?"primary":"white"},null,8,["color","text-color"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{ref:"buscaCampo",modelValue:r.buscaCampo,"onUpdate:modelValue":o[26]||(o[26]=e=>r.buscaCampo=e),debounce:500,color:"none",inverted:"",placeholder:"Buscar",style:{"max-width":"990px",margin:"0 auto"}},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(s,{flat:"",dense:"",icon:"add",round:"",class:"hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[o4])),_:1})])),_:1}),(0,a.createVNode)(s,{icon:"mdi-filter",flat:"",dense:"",round:"",class:"no-shadow q-px-xs",onClick:l.abrirFiltro},null,8,["onClick"])])),_:1}),(0,a.createVNode)(M)])):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(E,{class:"bg-light no-shadow q-pa-none text-right footerpaginacao col-12 col-lg-9",reveal:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{input:"",modelValue:r.page,"onUpdate:modelValue":o[27]||(o[27]=e=>r.page=e),min:r.minPages,max:r.maxPages,class:"justify-center bg-transparent text-tertiary"},null,8,["modelValue","min","max"])])),_:1}),(0,a.createVNode)(q,{side:"left","content-class":"mydrawerL",modelValue:r.showList,"onUpdate:modelValue":o[28]||(o[28]=e=>r.showList=e),class:"hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",t4,[(0,a.createVNode)(D,{onMyEvent:l.carregaComponent,onAbrirItem:r.abrirItem,onAbrirFiltro:l.abrirFiltro,sectionBT:r.section,listBT:r.list},null,8,["onMyEvent","onAbrirItem","onAbrirFiltro","sectionBT","listBT"])])])),_:1},8,["modelValue"]),(0,a.createVNode)(q,{side:"right",modelValue:r.section,"onUpdate:modelValue":o[29]||(o[29]=e=>r.section=e),"content-class":"bg-grey-3 no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(F)])),_:1},8,["modelValue"]),(0,a.createVNode)(q,{overlay:"",side:r.left?"left":"right",id:"mydrawer",modelValue:r.showFilters,"onUpdate:modelValue":o[33]||(o[33]=e=>r.showFilters=e),style:(0,a.normalizeStyle)(r.showFilters?{opacity:1}:{opacity:0}),"content-class":"mydrawerFL"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{color:"white","text-color":"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"mdi-filter",color:"tertiary"}),(0,a.createVNode)(m,{class:"text-subtitle1 text-weight-medium"},{default:(0,a.withCtx)((()=>[a4])),_:1}),(0,a.createVNode)(s,{dense:"",flat:"",icon:"close",round:"",onClick:o[30]||(o[30]=e=>r.showFilters=!r.showFilters)})])),_:1}),(0,a.createElementVNode)("div",i4,[r4,(0,a.createElementVNode)("div",l4,[s4,(0,a.createElementVNode)("div",n4,[(0,a.createVNode)(P,{modelValue:r.filtro.periodo.ini,"onUpdate:modelValue":o[31]||(o[31]=e=>r.filtro.periodo.ini=e),class:"no-shadow full-width q-px-none text-body1",minimal:"",prefix:"De",style:{"border-bottom":"1px solid white"},type:"date"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",c4,[(0,a.createVNode)(P,{modelValue:r.filtro.periodo.fim,"onUpdate:modelValue":o[32]||(o[32]=e=>r.filtro.periodo.fim=e),class:"no-shadow full-width q-px-none text-body1",minimal:"",prefix:"até",style:{"border-bottom":"1px solid white"},type:"date"},null,8,["modelValue"])])]),(0,a.createElementVNode)("div",d4,[(0,a.createVNode)(s,{class:"col-6",flat:"",color:"tertiary",label:"Limpar",onClick:l.filtrar},null,8,["onClick"]),(0,a.createVNode)(s,{class:"col-6 no-shadow",color:"primary",label:"Aplicar",onClick:l.filtrar},null,8,["onClick"])])])])),_:1},8,["side","modelValue","style"])])}]]);Z()(K9,"components",{QPage:se.Z,QToolbar:O.Z,QBtnGroup:JM.Z,QBtn:H.Z,QToolbarTitle:G.Z,QInput:re.Z,QIcon:L.Z,QTooltip:Ao.Z,QCheckbox:Hh.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z,QTabs:ko.Z,QTab:Do.Z,QAvatar:g1.Z,QSeparator:$.Z,QFooter:Te.Z,QField:Sp.Z,QPagination:Dp.Z,QDrawer:YM.Z,QChip:sb.Z,QDate:Dx.Z}),Z()(K9,"directives",{ClosePopup:J.Z});const o8={class:"ModeloFinanceiro",id:"ModeloFinanceiro"},t8={class:"container-fluid"},a8={class:"row"},i8={id:"mydrwaerfin",class:"col-12"},r8={class:"background q-pa-sm"},l8=(0,a.createElementVNode)("div",{class:"text-white q-mx-xs text-subtitle1"}," 3 empresas ",-1),s8=(0,a.createTextVNode)(" Atualizado em: 16/10/2020 "),n8={class:"row q-pa-none q-mt-md q-mb-sm justify-center"},c8={class:"row q-col-gutter-sm q-mb-md hideondesktop"},d8=(0,a.createElementVNode)("span",{class:"text-body2 q-mb-none"},"Receitas",-1),m8=(0,a.createElementVNode)("span",{class:"text-weight-bold text-body1 q-mt-none"},"5794,75",-1),u8=(0,a.createElementVNode)("div",{class:"progress full-width q-mt-xs"},[(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-green-10",style:{width:"50%"}}),(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-green-3",style:{width:"50%"}})],-1),p8=(0,a.createTextVNode)(" 999.999,99 "),h8=(0,a.createTextVNode)(" Recebido "),C8={class:"text-right"},v8=(0,a.createTextVNode)(" 999.999,99 "),f8=(0,a.createTextVNode)(" Receber "),N8=(0,a.createElementVNode)("span",{class:"text-body2 q-mb-none"},"Despesas",-1),V8=(0,a.createElementVNode)("span",{class:"text-weight-bold text-body1 q-mt-none"},"5794,75",-1),g8=(0,a.createElementVNode)("div",{class:"progress full-width q-mt-xs"},[(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-red-10",style:{width:"50%"}}),(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-red-3",style:{width:"50%"}})],-1),x8=(0,a.createTextVNode)(" 999.999,99 "),b8=(0,a.createTextVNode)(" Pago "),w8={class:"text-right"},_8=(0,a.createTextVNode)(" 999.999,99 "),y8=(0,a.createTextVNode)(" Pagar "),I8=(0,a.createElementVNode)("hr",{style:{opacity:".15","background-color":"white"}},null,-1),E8=(0,a.createElementVNode)("small",{style:{"font-size":".9rem"},class:"q-mb-none"},"Contas",-1),S8=(0,a.createElementVNode)("span",{class:"text-weight-bold text-white q-title q-mt-none"},"5794,75",-1),M8=(0,a.createTextVNode)(" Conta Y "),T8=(0,a.createTextVNode)(" 1.292.456,25 "),k8={class:"text-dark text-right"},D8=(0,a.createTextVNode)(),q8=(0,a.createElementVNode)("span",{class:"text-positive"},"194.535,23",-1),F8=(0,a.createTextVNode)(),P8=(0,a.createElementVNode)("span",{class:"text-negative"},"1.912.455,23",-1),A8=(0,a.createTextVNode)(" Conta X "),B8=(0,a.createTextVNode)(" 1.598.856,25 "),L8={class:"text-dark text-right"},O8=(0,a.createTextVNode)(),z8=(0,a.createElementVNode)("span",{class:"text-positive"},"194.535,23",-1),j8=(0,a.createTextVNode)(),$8=(0,a.createElementVNode)("span",{class:"text-negative"},"1.912.455,23",-1),U8=(0,a.createElementVNode)("hr",{style:{opacity:".15","background-color":"white"},class:"q-mt-md"},null,-1),Z8=(0,a.createElementVNode)("small",{style:{"font-size":".9rem"},class:"q-mb-none"},"Investimentos",-1),Q8=(0,a.createElementVNode)("span",{class:"text-weight-bold text-white q-title q-mt-none"},"17,24",-1),R8=(0,a.createTextVNode)(" Conta Y "),G8=(0,a.createTextVNode)(" 132.956,25 "),H8=(0,a.createElementVNode)("small",{class:"text-positive text-right"},[(0,a.createElementVNode)("span",{class:"text-dark"}," 165.450,23 "),(0,a.createElementVNode)("br"),(0,a.createTextVNode)(" Δ 0,00% ")],-1),J8=(0,a.createTextVNode)(" Conta Y "),Y8=(0,a.createTextVNode)(" 132.956,25 "),X8=(0,a.createElementVNode)("small",{class:"text-positive text-right"},[(0,a.createElementVNode)("span",{class:"text-dark"}," 165.450,23 "),(0,a.createElementVNode)("br"),(0,a.createTextVNode)(" Δ 0,00% ")],-1),W8=(0,a.createElementVNode)("hr",{style:{opacity:".15","background-color":"white"}},null,-1),K8=(0,a.createElementVNode)("small",{style:{"font-size":".9rem"},class:"q-mb-none"},"Cartões",-1),e5=(0,a.createElementVNode)("span",{class:"text-weight-bold text-white q-title q-mt-none"},"17,24",-1),o5=(0,a.createElementVNode)("div",{class:"progress full-width q-my-sm"},[(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-black",style:{width:"50%"}}),(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-dark",style:{width:"50%"}})],-1),t5=(0,a.createTextVNode)(" 999999,99 "),a5=(0,a.createTextVNode)(" Fatura Atual "),i5={class:"text-black text-right"},r5=(0,a.createTextVNode)(" 999999,99 "),l5=(0,a.createTextVNode)(" Limite Disponível "),s5=(0,a.createElementVNode)("div",{class:"progress full-width q-my-sm"},[(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-black",style:{width:"50%"}}),(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-dark",style:{width:"50%"}})],-1),n5=(0,a.createTextVNode)(" 999999,99 "),c5=(0,a.createTextVNode)(" Fatura Atual "),d5={class:"text-white text-right"},m5=(0,a.createTextVNode)(" 999999,99 "),u5=(0,a.createTextVNode)(" Limite Disponível "),p5=(0,a.createElementVNode)("div",{class:"progress full-width q-my-sm"},[(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-black",style:{width:"50%"}}),(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-dark",style:{width:"50%"}})],-1),h5=(0,a.createTextVNode)(" 999.999,99 "),C5=(0,a.createTextVNode)(" Fatura Atual "),v5={class:"text-white text-right"},f5=(0,a.createTextVNode)(" 999.999,99 "),N5=(0,a.createTextVNode)(" Limite Disponível "),V5=(0,a.createElementVNode)("hr",{style:{opacity:".15","background-color":"white"}},null,-1),g5=(0,a.createElementVNode)("small",{style:{"font-size":".9rem"},class:"q-mb-none"},"Resultado",-1),x5=(0,a.createElementVNode)("span",{class:"text-weight-bold q-title q-mt-none"},"17,24",-1),b5=(0,a.createElementVNode)("div",{class:"progress full-width q-mt-xs"},[(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-green-10",style:{width:"50%"}}),(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-green-3",style:{width:"50%"}})],-1),w5={class:"row q-mx-none full-width q-mt-xs"},_5={style:{width:"50%"}},y5={class:"text-dark text-left full-width",style:{display:"block"}},I5=(0,a.createTextVNode)(" 999.999,99 "),E5=(0,a.createTextVNode)(" Atual "),S5={style:{width:"50%"}},M5={class:"text-dark text-right full-width",style:{display:"block"}},T5=(0,a.createTextVNode)(" 999.999,99 "),k5=(0,a.createTextVNode)(" Previsto "),D5={style:{"max-width":"70%",margin:"0 auto",display:"block"}},q5={class:"col-12 col-md hideonmobile"},F5={class:"q-pa-md"},P5={class:"row q-col-gutter-sm"},A5={class:"col-12 col-md-8"},B5={class:"row q-col-gutter-sm"},L5={class:"col-12 col-md-6"},O5=(0,a.createTextVNode)(" Receitas "),z5=(0,a.createElementVNode)("div",{class:"progress full-width q-mt-xs"},[(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-green-10",style:{width:"50%"}}),(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-green-3",style:{width:"50%"}})],-1),j5={class:"row q-mx-none full-width q-mt-xs"},$5={style:{width:"50%"}},U5={class:"text-dark text-left full-width",style:{display:"block"}},Z5=(0,a.createTextVNode)(" 999.999,99 "),Q5=(0,a.createTextVNode)(" Recebido "),R5={style:{width:"50%"}},G5={class:"text-dark text-right full-width",style:{display:"block"}},H5=(0,a.createTextVNode)(" 999.999,99 "),J5=(0,a.createTextVNode)(" Receber "),Y5=(0,a.createTextVNode)("Tag "),X5=(0,a.createTextVNode)("Tag "),W5=(0,a.createTextVNode)("Tag "),K5=(0,a.createTextVNode)("Tag "),e6=(0,a.createTextVNode)("Linha 2.2"),o6=(0,a.createTextVNode)("Linha 2.3"),t6=(0,a.createTextVNode)(" Linha 2"),a6=(0,a.createTextVNode)(" Linha 2"),i6=(0,a.createTextVNode)("Linha 2.2"),r6=(0,a.createTextVNode)("Linha 2.3"),l6=(0,a.createTextVNode)(" Linha 2"),s6=(0,a.createTextVNode)(" Linha 2"),n6=(0,a.createTextVNode)("Linha 2.2"),c6=(0,a.createTextVNode)("Linha 2.3"),d6=(0,a.createTextVNode)(" Linha 2"),m6=(0,a.createTextVNode)(" Linha 2"),u6=(0,a.createTextVNode)("Tag "),p6=(0,a.createTextVNode)("Tag "),h6=(0,a.createTextVNode)("Tag "),C6=(0,a.createTextVNode)("Tag "),v6=(0,a.createTextVNode)("Linha 2.2"),f6=(0,a.createTextVNode)("Linha 2.3"),N6=(0,a.createTextVNode)(" Linha 2"),V6=(0,a.createTextVNode)(" Linha 2"),g6=(0,a.createTextVNode)("Linha 2.2"),x6=(0,a.createTextVNode)("Linha 2.3"),b6=(0,a.createTextVNode)(" Linha 2"),w6=(0,a.createTextVNode)(" Linha 2"),_6=(0,a.createTextVNode)("Linha 2.2"),y6=(0,a.createTextVNode)("Linha 2.3"),I6=(0,a.createTextVNode)(" Linha 2"),E6=(0,a.createTextVNode)(" Linha 2"),S6=(0,a.createTextVNode)("Tag "),M6=(0,a.createTextVNode)("Tag "),T6=(0,a.createTextVNode)("Tag "),k6=(0,a.createTextVNode)("Tag "),D6=(0,a.createTextVNode)("Linha 2.2"),q6=(0,a.createTextVNode)("Linha 2.3"),F6=(0,a.createTextVNode)(" Linha 2"),P6=(0,a.createTextVNode)(" Linha 2"),A6=(0,a.createTextVNode)("Linha 2.2"),B6=(0,a.createTextVNode)("Linha 2.3"),L6=(0,a.createTextVNode)(" Linha 2"),O6=(0,a.createTextVNode)(" Linha 2"),z6=(0,a.createTextVNode)("Linha 2.2"),j6=(0,a.createTextVNode)("Linha 2.3"),$6=(0,a.createTextVNode)(" Linha 2"),U6=(0,a.createTextVNode)(" Linha 2"),Z6={class:"col-12 col-md-6"},Q6=(0,a.createTextVNode)(" Despesas "),R6=(0,a.createElementVNode)("div",{class:"progress full-width q-mt-xs"},[(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-red-10",style:{width:"50%"}}),(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-red-3",style:{width:"50%"}})],-1),G6={class:"row q-mx-none full-width q-mt-xs"},H6={style:{width:"50%"}},J6={class:"text-dark text-left full-width",style:{display:"block"}},Y6=(0,a.createTextVNode)(" 999.999,99 "),X6=(0,a.createTextVNode)(" Pago "),W6={style:{width:"50%"}},K6={class:"text-dark text-right full-width",style:{display:"block"}},e7=(0,a.createTextVNode)(" 999.999,99 "),o7=(0,a.createTextVNode)(" Pagar "),t7=(0,a.createTextVNode)("Tag "),a7=(0,a.createTextVNode)("Tag "),i7=(0,a.createTextVNode)("Tag "),r7=(0,a.createTextVNode)("Tag "),l7=(0,a.createTextVNode)("Linha 2.2"),s7=(0,a.createTextVNode)("Linha 2.3"),n7=(0,a.createTextVNode)(" Linha 2"),c7=(0,a.createTextVNode)(" Linha 2"),d7=(0,a.createTextVNode)("Linha 2.2"),m7=(0,a.createTextVNode)("Linha 2.3"),u7=(0,a.createTextVNode)(" Linha 2"),p7=(0,a.createTextVNode)(" Linha 2"),h7=(0,a.createTextVNode)("Linha 2.2"),C7=(0,a.createTextVNode)("Linha 2.3"),v7=(0,a.createTextVNode)(" Linha 2"),f7=(0,a.createTextVNode)(" Linha 2"),N7=(0,a.createTextVNode)("Tag "),V7=(0,a.createTextVNode)("Tag "),g7=(0,a.createTextVNode)("Tag "),x7=(0,a.createTextVNode)("Tag "),b7=(0,a.createTextVNode)("Linha 2.2"),w7=(0,a.createTextVNode)("Linha 2.3"),_7=(0,a.createTextVNode)(" Linha 2"),y7=(0,a.createTextVNode)(" Linha 2"),I7=(0,a.createTextVNode)("Linha 2.2"),E7=(0,a.createTextVNode)("Linha 2.3"),S7=(0,a.createTextVNode)(" Linha 2"),M7=(0,a.createTextVNode)(" Linha 2"),T7=(0,a.createTextVNode)("Linha 2.2"),k7=(0,a.createTextVNode)("Linha 2.3"),D7=(0,a.createTextVNode)(" Linha 2"),q7=(0,a.createTextVNode)(" Linha 2"),F7=(0,a.createTextVNode)("Tag "),P7=(0,a.createTextVNode)("Tag "),A7=(0,a.createTextVNode)("Tag "),B7=(0,a.createTextVNode)("Tag "),L7=(0,a.createTextVNode)("Linha 2.2"),O7=(0,a.createTextVNode)("Linha 2.3"),z7=(0,a.createTextVNode)(" Linha 2"),j7=(0,a.createTextVNode)(" Linha 2"),$7=(0,a.createTextVNode)("Linha 2.2"),U7=(0,a.createTextVNode)("Linha 2.3"),Z7=(0,a.createTextVNode)(" Linha 2"),Q7=(0,a.createTextVNode)(" Linha 2"),R7=(0,a.createTextVNode)("Linha 2.2"),G7=(0,a.createTextVNode)("Linha 2.3"),H7=(0,a.createTextVNode)(" Linha 2"),J7=(0,a.createTextVNode)(" Linha 2"),Y7={class:"col-12"},X7=(0,a.createElementVNode)("div",{class:"text-body1 q-pa-none text-dark text-left"}," Fluxo de Caixa ",-1),W7={class:"col-12 col-md-4"},K7={class:"row q-col-gutter-sm"},eee={class:"col-12"},oee=(0,a.createTextVNode)(" Resultado "),tee=(0,a.createElementVNode)("div",{class:"progress full-width q-mt-xs"},[(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-green-10",style:{width:"50%"}}),(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-green-3",style:{width:"50%"}})],-1),aee={class:"row q-mx-none full-width q-mt-xs"},iee={style:{width:"50%"}},ree={class:"text-dark text-left full-width",style:{display:"block"}},lee=(0,a.createTextVNode)(" 999.999,99 "),see=(0,a.createTextVNode)(" Atual "),nee={style:{width:"50%"}},cee={class:"text-dark text-right full-width",style:{display:"block"}},dee=(0,a.createTextVNode)(" 999.999,99 "),mee=(0,a.createTextVNode)(" Previsto "),uee={style:{"max-width":"70%",margin:"0 auto",display:"block"}},pee={class:"col-12"},hee=(0,a.createElementVNode)("div",{class:"text-body1 q-pa-none text-dark text-left"}," DRE ",-1),Cee={class:"col-12"},vee=(0,a.createElementVNode)("div",{class:"text-body1 q-pa-none text-dark text-left"}," Balanço ",-1),fee=(0,a.createTextVNode)(" Pagar "),Nee={class:"row justify-center"},Vee={style:{width:"1280px","max-width":"100%"}},gee={class:"no-shadow q-mb-md row q-col-gutter-sm q-mx-none"},xee={class:"row reverse"},bee={class:"col-12 col-md-6"},wee={class:"row no-shadow q-pa-md q-px-md"},_ee=(0,a.createTextVNode)(" Outros Valores "),yee=(0,a.createElementVNode)("div",{class:"row items-center text-body2"}," 55,00 ",-1),Iee={class:"row"},Eee={class:"row q-px-sm q-col-gutter-xs"},See={class:"col-3"},Mee=(0,a.createTextVNode)("Desconto "),Tee={class:"col-3 offset-3"},kee={class:"col-3"},Dee={class:"row q-px-sm q-col-gutter-xs"},qee={class:"col-3"},Fee=(0,a.createTextVNode)("Multa "),Pee={class:"col-3 offset-3"},Aee={class:"col-3"},Bee={class:"row q-px-sm q-col-gutter-xs"},Lee={class:"col-3"},Oee=(0,a.createTextVNode)("Juros "),zee={class:"col-3"},jee={class:"col-3"},$ee={class:"col-3"},Uee={class:"row q-px-sm q-col-gutter-xs"},Zee={class:"col-3"},Qee=(0,a.createTextVNode)("Protesto "),Ree={class:"col-3 offset-6"},Gee={class:"row"},Hee=(0,a.createElementVNode)("div",{class:"col-6 text-body2"},"Liquidado",-1),Jee={class:"col-6 text-body2 text-right"},Yee=(0,a.createTextVNode)(" 1.355,00 "),Xee=(0,a.createTextVNode)("23/11/1984 "),Wee={class:"col-12 col-md-6"},Kee={style:{padding:"0",widows:"100%"}},eoe=(0,a.createElementVNode)("img",{src:"https://i.pinimg.com/originals/a9/38/09/a938091f6fdca06fc6e829688f2dbe88.jpg"},null,-1),ooe=(0,a.createTextVNode)("John Doe"),toe=(0,a.createTextVNode)(" Está atrasado em 1 dia "),aoe=(0,a.createTextVNode)(" Em aberto "),ioe=(0,a.createTextVNode)(" Parcela 1 / 10 "),roe={class:"col-12 col-md-4"},loe=(0,a.createTextVNode)(" Boletos "),soe={class:"row q-px-md q-col-gutter-x-sm q-pt-sm justify-center"},noe={class:"row q-px-md q-col-gutter-x-sm q-pt-sm justify-center"},coe=(0,a.createTextVNode)(" Imprimir "),doe=(0,a.createTextVNode)(" Imprimir Atualizado "),moe=(0,a.createTextVNode)(" Protestar Boleto "),uoe=(0,a.createTextVNode)(" Cancelar Protesto "),poe=(0,a.createTextVNode)(" Cancelar Boleto "),hoe=(0,a.createTextVNode)("#123456789"),Coe=(0,a.createElementVNode)("br",null,null,-1),voe=(0,a.createElementVNode)("small",null,"Banco do Brasil - Ag 3312 - CC 107143",-1),foe=(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Boleto gerado")],-1),Noe=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right"}},"55,00",-1),Voe=(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Protestado")],-1),goe=(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Liquidado")],-1),xoe=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right",color:"red"}},"58,50",-1),boe={class:"col-12 col-md-12"},woe=(0,a.createTextVNode)(" Arquivos "),_oe={class:"row q-px-md q-col-gutter-x-sm q-pt-sm"},yoe={class:"row q-col-gutter-x-md q-px-md justify-center",style:{margin:"0"}},Ioe={class:"col-3 col-md-2 shadow-1 q-ma-md q-pa-none",style:{"border-radius":"16px",overflow:"hidden"}},Eoe=(0,a.createElementVNode)("img",{src:"https://i.pinimg.com/originals/a9/38/09/a938091f6fdca06fc6e829688f2dbe88.jpg"},null,-1),Soe={class:"q-pa-md"},Moe={class:"row q-col-gutter-x-sm"},Toe={class:"col-12 col-md-5"},koe={class:"col-12 col-md-2"},Doe={class:"col-12 col-md-2"},qoe={class:"col-12 col-md-2"},Foe={class:"row q-col-gutter-x-sm"},Poe=(0,a.createElementVNode)("div",{class:"col-12 col-md-5"}," Forma de Pagamento ",-1),Aoe=(0,a.createElementVNode)("div",{class:"col-12 col-md-2"}," Valor ",-1),Boe=(0,a.createElementVNode)("div",{class:"col-12 col-md-2"}," Parcelas ",-1),Loe=(0,a.createElementVNode)("div",{class:"col-12 col-md-2"}," Data ",-1),Ooe=(0,a.createTextVNode)(" Restante "),zoe=(0,a.createElementVNode)("strong",null," 3.130,00",-1),joe={class:"row q-col-gutter-md q-pa-none q-ma-none"},$oe=(0,a.createTextVNode)("Débito"),Uoe=(0,a.createElementVNode)("br",null,null,-1),Zoe=(0,a.createElementVNode)("small",null,[(0,a.createTextVNode)("Movimentação "),(0,a.createElementVNode)("strong",null,"10/10/2018"),(0,a.createTextVNode)(" - Vencimento "),(0,a.createElementVNode)("strong",null,"08/10/2018")],-1),Qoe=(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Xxxxxxxx")],-1),Roe=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right",color:"red"}},"50,00",-1),Goe=(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Xxxxxxxx2")],-1),Hoe=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right",color:"red"}},"9,50",-1),Joe=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right"}},[(0,a.createElementVNode)("small",null,"59,50")],-1),Yoe=(0,a.createTextVNode)("Crédito"),Xoe=(0,a.createElementVNode)("br",null,null,-1),Woe=(0,a.createElementVNode)("small",null,[(0,a.createTextVNode)("Movimentação "),(0,a.createElementVNode)("strong",null,"10/10/2018"),(0,a.createTextVNode)(" - Vencimento "),(0,a.createElementVNode)("strong",null,"08/10/2018")],-1),Koe=(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Zzzzzzz")],-1),ete=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right"}},"55,00",-1),ote=(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Acrescimo por vencimento.")],-1),tte=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right"}},"4,50",-1),ate=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right"}},[(0,a.createElementVNode)("small",null,"59,50")],-1),ite={class:"q-pa-md"},rte={class:"row"},lte={class:"col-12 col-md-6"},ste={class:"q-px-sm"},nte=(0,a.createElementVNode)("img",{class:"avatar float-left",style:{"max-width":"40px",height:"auto"}},null,-1),cte=(0,a.createElementVNode)("div",null,"Optidados Soluções para Opticas ",-1),dte=(0,a.createElementVNode)("div",null," Optidados Soluções para Opticas Ltda - ME ",-1),mte=(0,a.createTextVNode)(" Renegociado "),ute=(0,a.createTextVNode)(" Em Aberto "),pte=(0,a.createElementVNode)("p",{class:"q-my-sm"},[(0,a.createElementVNode)("small",{style:{display:"block"}},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A blanditiis commodi eaque iusto tempore. ")],-1),hte=(0,a.createElementVNode)("div",{class:"col-12 col-md-2"},[(0,a.createElementVNode)("div",{class:"q-px-sm"},[(0,a.createElementVNode)("dl",{style:{"margin-top":"6px"}},[(0,a.createElementVNode)("dt",null,"Venda #1802"),(0,a.createElementVNode)("dd",null,"Cartão Visa"),(0,a.createElementVNode)("dt",{class:"q-mt-md"},"Faturamento Geral")])])],-1),Cte={class:"col-3 col-md-1"},vte=(0,a.createTextVNode)(" Vencimento "),fte=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"DEZ")],-1),Nte=(0,a.createElementVNode)("p",{class:"text-center q-my-none text-h5 text-weight-bold"},[(0,a.createElementVNode)("strong",null,"10")],-1),Vte=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"2018")],-1),gte={class:"col-3 col-md-1"},xte=(0,a.createTextVNode)(" Vencimento "),bte=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"DEZ")],-1),wte=(0,a.createElementVNode)("p",{class:"text-center q-my-none text-h5 text-weight-bold"},[(0,a.createElementVNode)("strong",null,"10")],-1),_te=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"2018")],-1),yte={class:"col-6 col-md-2"},Ite=(0,a.createElementVNode)("dl",{style:{float:"right",width:"100%","margin-bottom":"0"}},[(0,a.createElementVNode)("dt",{style:{"text-align":"right","font-size":"24px",color:"red"}},[(0,a.createTextVNode)(" 2.050,00 "),(0,a.createElementVNode)("small",{style:{display:"block","font-size":"0.65em","font-weight":"normal",color:"grey"}}," 1.050,00 ")])],-1),Ete={class:"col",style:{float:"right","padding-top":"7px"}},Ste={key:0,class:"row"},Mte={class:"col-12 col-md-6"},Tte={class:"q-px-sm"},kte=(0,a.createTextVNode)(" Geeks Solucoes "),Dte=(0,a.createElementVNode)("p",{style:{clear:"left",margin:"6px 0 0"}},[(0,a.createElementVNode)("small",{style:{display:"block"}},"Lorem Observacao ipsum dolor sit amet, consectetura dipisicing elit. A blanditiis commodi eaqueiusto tempore. ")],-1),qte=(0,a.createElementVNode)("div",{class:"col-12 col-md-2"},[(0,a.createElementVNode)("div",{class:"q-px-sm"},[(0,a.createElementVNode)("dl",{style:{"margin-top":"6px"}},[(0,a.createElementVNode)("dt",null,"Descricao do CC")])])],-1),Fte={class:"col-2 col-md-1"},Pte=(0,a.createTextVNode)(" Vencimento Original "),Ate=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"DEZ")],-1),Bte=(0,a.createElementVNode)("p",{class:"text-center q-my-none text-h5 text-weight-bold"},[(0,a.createElementVNode)("strong",null,"10")],-1),Lte=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"2018")],-1),Ote={class:"col-2 col-md-1"},zte=(0,a.createTextVNode)(" Emissão "),jte=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"DEZ")],-1),$te=(0,a.createElementVNode)("p",{class:"text-center q-my-none text-h5 text-weight-bold"},[(0,a.createElementVNode)("strong",null,"10")],-1),Ute=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"2018")],-1),Zte=(0,a.createElementVNode)("div",{class:"col-6 col-md-2"},[(0,a.createElementVNode)("div",{class:"q-px-sm"},[(0,a.createElementVNode)("dl",{style:{"margin-top":"0px","text-align":"right"}},[(0,a.createElementVNode)("dd",null,[(0,a.createElementVNode)("small",null,"Desconto"),(0,a.createElementVNode)("span",{style:{"text-align":"center","font-size":"18px"}},[(0,a.createElementVNode)("strong",null,"100,00")])]),(0,a.createElementVNode)("dd",null,[(0,a.createElementVNode)("small",null,"Multa"),(0,a.createElementVNode)("span",{style:{"text-align":"center","font-size":"18px"}},[(0,a.createElementVNode)("strong",null,"100,00 (2%)")])]),(0,a.createElementVNode)("dd",null,[(0,a.createElementVNode)("small",null,"Juros"),(0,a.createElementVNode)("span",{style:{"text-align":"center","font-size":"18px"}},[(0,a.createElementVNode)("strong",null,"1,00 (0,15% dia)")])])])])],-1),Qte=(0,a.createElementVNode)("p",{style:{"text-align":"right"}},[(0,a.createTextVNode)("Receber "),(0,a.createElementVNode)("strong",null,"4.000,00"),(0,a.createTextVNode)(" - Recebido "),(0,a.createElementVNode)("strong",null,"6.000,00")],-1),Rte=(0,a.createTextVNode)(" Receber "),Gte={class:"row q-pt-lg justify-center"},Hte={class:"q-pt-lg",style:{width:"1280px","max-width":"100%"}},Jte={class:"no-shadow q-mb-md row q-col-gutter-sm q-mx-none"},Yte={class:"row reverse"},Xte={class:"col-12 col-md-6"},Wte={class:"row no-shadow q-pa-md q-px-md"},Kte=(0,a.createTextVNode)(" Outros Valores "),eae=(0,a.createElementVNode)("div",{class:"row items-center text-body2"}," 55,00 ",-1),oae={class:"row"},tae={class:"row q-px-sm q-col-gutter-xs"},aae={class:"col-3"},iae=(0,a.createTextVNode)("Desconto "),rae={class:"col-3 offset-3"},lae={class:"col-3"},sae={class:"row q-px-sm q-col-gutter-xs"},nae={class:"col-3"},cae=(0,a.createTextVNode)("Multa "),dae={class:"col-3 offset-3"},mae={class:"col-3"},uae={class:"row q-px-sm q-col-gutter-xs"},pae={class:"col-3"},hae=(0,a.createTextVNode)("Juros "),Cae={class:"col-3"},vae={class:"col-3"},fae={class:"col-3"},Nae={class:"row q-px-sm q-col-gutter-xs"},Vae={class:"col-3"},gae=(0,a.createTextVNode)("Protesto "),xae={class:"col-3 offset-6"},bae={class:"row"},wae=(0,a.createElementVNode)("div",{class:"col-6 text-body2"},"Liquidado",-1),_ae={class:"col-6 text-body2 text-right"},yae=(0,a.createTextVNode)(" 1.355,00 "),Iae=(0,a.createTextVNode)("23/11/1984 "),Eae={class:"col-12 col-md-6"},Sae={style:{padding:"0",widows:"100%"}},Mae=(0,a.createElementVNode)("img",{src:"https://i.pinimg.com/originals/a9/38/09/a938091f6fdca06fc6e829688f2dbe88.jpg"},null,-1),Tae=(0,a.createTextVNode)("John Doe"),kae=(0,a.createTextVNode)(" Está atrasado em 1 dia "),Dae=(0,a.createTextVNode)(" Em aberto "),qae=(0,a.createTextVNode)(" Parcela 1 / 10 "),Fae={class:"col-12 col-md-4"},Pae=(0,a.createTextVNode)(" Boletos "),Aae={class:"row q-px-md q-col-gutter-x-sm q-pt-sm justify-center"},Bae={class:"row q-px-md q-col-gutter-x-sm q-pt-sm justify-center"},Lae=(0,a.createTextVNode)(" Imprimir "),Oae=(0,a.createTextVNode)(" Imprimir Atualizado "),zae=(0,a.createTextVNode)(" Protestar Boleto "),jae=(0,a.createTextVNode)(" Cancelar Protesto "),$ae=(0,a.createTextVNode)(" Cancelar Boleto "),Uae=(0,a.createTextVNode)("#123456789"),Zae=(0,a.createElementVNode)("br",null,null,-1),Qae=(0,a.createElementVNode)("small",null,"Banco do Brasil - Ag 3312 - CC 107143",-1),Rae=(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Boleto gerado")],-1),Gae=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right"}},"55,00",-1),Hae=(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Protestado")],-1),Jae=(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Liquidado")],-1),Yae=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right",color:"green"}},"58,50",-1),Xae={class:"col-12 col-md-12"},Wae=(0,a.createTextVNode)(" Arquivos "),Kae={class:"row q-px-md q-col-gutter-x-sm q-pt-sm"},eie={class:"row q-col-gutter-x-md q-px-md justify-center",style:{margin:"0"}},oie={class:"col-3 col-md-2 shadow-1 q-ma-md q-pa-none",style:{"border-radius":"16px",overflow:"hidden"}},tie=(0,a.createElementVNode)("img",{src:"https://i.pinimg.com/originals/a9/38/09/a938091f6fdca06fc6e829688f2dbe88.jpg"},null,-1),aie={class:"q-pa-md"},iie={class:"row q-col-gutter-x-sm"},rie={class:"col-12 col-md-5"},lie={class:"col-12 col-md-2"},sie={class:"col-12 col-md-2"},nie={class:"col-12 col-md-2"},cie={class:"row q-col-gutter-x-sm"},die=(0,a.createElementVNode)("div",{class:"col-12 col-md-5"}," Forma de Pagamento ",-1),mie=(0,a.createElementVNode)("div",{class:"col-12 col-md-2"}," Valor ",-1),uie=(0,a.createElementVNode)("div",{class:"col-12 col-md-2"}," Parcelas ",-1),pie=(0,a.createElementVNode)("div",{class:"col-12 col-md-2"}," Data ",-1),hie=(0,a.createTextVNode)(" Restante "),Cie=(0,a.createElementVNode)("strong",null," 3.130,00",-1),vie={class:"row q-col-gutter-x-sm q-ma-none"},fie=(0,a.createTextVNode)("Débito"),Nie=(0,a.createElementVNode)("br",null,null,-1),Vie=(0,a.createElementVNode)("small",null,[(0,a.createTextVNode)("Movimentação "),(0,a.createElementVNode)("strong",null,"10/10/2018"),(0,a.createTextVNode)(" - Vencimento "),(0,a.createElementVNode)("strong",null,"08/10/2018")],-1),gie=(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Xxxxxxxx")],-1),xie=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right",color:"green"}},"50,00",-1),bie=(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Xxxxxxxx2")],-1),wie=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right",color:"green"}},"9,50",-1),_ie=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right"}},[(0,a.createElementVNode)("small",null,"59,50")],-1),yie=(0,a.createTextVNode)("Crédito"),Iie=(0,a.createElementVNode)("br",null,null,-1),Eie=(0,a.createElementVNode)("small",null,[(0,a.createTextVNode)("Movimentação "),(0,a.createElementVNode)("strong",null,"10/10/2018"),(0,a.createTextVNode)(" - Vencimento "),(0,a.createElementVNode)("strong",null,"08/10/2018")],-1),Sie=(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Zzzzzzz")],-1),Mie=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right"}},"55,00",-1),Tie=(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("small",null,"Acrescimo por vencimento.")],-1),kie=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right"}},"4,50",-1),Die=(0,a.createElementVNode)("p",{style:{margin:"0","text-align":"right"}},[(0,a.createElementVNode)("small",null,"59,50")],-1),qie={class:"q-pa-md"},Fie={class:"row"},Pie={class:"col-12 col-md-6"},Aie={class:"q-px-sm"},Bie=(0,a.createElementVNode)("img",{class:"avatar float-left",style:{"max-width":"40px",height:"auto"}},null,-1),Lie=(0,a.createElementVNode)("div",null,"Optidados Soluções para Opticas ",-1),Oie=(0,a.createElementVNode)("div",null," Optidados Soluções para Opticas Ltda - ME ",-1),zie=(0,a.createTextVNode)(" Renegociado "),jie=(0,a.createTextVNode)(" Em Aberto "),$ie=(0,a.createElementVNode)("p",{class:"q-my-sm"},[(0,a.createElementVNode)("small",{style:{display:"block"}},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A blanditiis commodi eaque iusto tempore. ")],-1),Uie=(0,a.createElementVNode)("div",{class:"col-12 col-md-2"},[(0,a.createElementVNode)("div",{class:"q-px-sm"},[(0,a.createElementVNode)("dl",{style:{"margin-top":"6px"}},[(0,a.createElementVNode)("dt",null,"Venda #1802"),(0,a.createElementVNode)("dd",null,"Cartão Visa"),(0,a.createElementVNode)("dt",{class:"q-mt-md"},"Faturamento Geral")])])],-1),Zie={class:"col-3 col-md-1"},Qie=(0,a.createTextVNode)(" Vencimento "),Rie=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"DEZ")],-1),Gie=(0,a.createElementVNode)("p",{class:"text-center q-my-none text-h5 text-weight-bold"},[(0,a.createElementVNode)("strong",null,"10")],-1),Hie=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"2018")],-1),Jie={class:"col-3 col-md-1"},Yie=(0,a.createTextVNode)(" Vencimento "),Xie=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"DEZ")],-1),Wie=(0,a.createElementVNode)("p",{class:"text-center q-my-none text-h5 text-weight-bold"},[(0,a.createElementVNode)("strong",null,"10")],-1),Kie=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"2018")],-1),ere={class:"col-6 col-md-2"},ore=(0,a.createElementVNode)("dl",{style:{float:"right",width:"100%","margin-bottom":"0"}},[(0,a.createElementVNode)("dt",{style:{"text-align":"right","font-size":"24px",color:"green"}},[(0,a.createTextVNode)(" 2.050,00 "),(0,a.createElementVNode)("small",{style:{display:"block","font-size":"0.65em","font-weight":"normal",color:"grey"}}," 1.050,00 ")])],-1),tre={class:"col",style:{float:"right","padding-top":"7px"}},are={key:0,class:"row"},ire={class:"col-12 col-md-6"},rre={class:"q-px-sm"},lre=(0,a.createTextVNode)(" Geeks Solucoes "),sre=(0,a.createElementVNode)("p",{style:{clear:"left",margin:"6px 0 0"}},[(0,a.createElementVNode)("small",{style:{display:"block"}},"Lorem Observacao ipsum dolor sit amet, consectetura dipisicing elit. A blanditiis commodi eaqueiusto tempore. ")],-1),nre=(0,a.createElementVNode)("div",{class:"col-12 col-md-2"},[(0,a.createElementVNode)("div",{class:"q-px-sm"},[(0,a.createElementVNode)("dl",{style:{"margin-top":"6px"}},[(0,a.createElementVNode)("dt",null,"Descricao do CC")])])],-1),cre={class:"col-2 col-md-1"},dre=(0,a.createTextVNode)(" Vencimento Original "),mre=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"DEZ")],-1),ure=(0,a.createElementVNode)("p",{class:"text-center q-my-none text-h5 text-weight-bold"},[(0,a.createElementVNode)("strong",null,"10")],-1),pre=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"2018")],-1),hre={class:"col-2 col-md-1"},Cre=(0,a.createTextVNode)(" Emissão "),vre=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"DEZ")],-1),fre=(0,a.createElementVNode)("p",{class:"text-center q-my-none text-h5 text-weight-bold"},[(0,a.createElementVNode)("strong",null,"10")],-1),Nre=(0,a.createElementVNode)("p",{class:"text-center q-my-none"},[(0,a.createElementVNode)("small",null,"2018")],-1),Vre=(0,a.createElementVNode)("div",{class:"col-6 col-md-2"},[(0,a.createElementVNode)("div",{class:"q-px-sm"},[(0,a.createElementVNode)("dl",{style:{"margin-top":"0px","text-align":"right"}},[(0,a.createElementVNode)("dd",null,[(0,a.createElementVNode)("small",null,"Desconto"),(0,a.createElementVNode)("span",{style:{"text-align":"center","font-size":"18px"}},[(0,a.createElementVNode)("strong",null,"100,00")])]),(0,a.createElementVNode)("dd",null,[(0,a.createElementVNode)("small",null,"Multa"),(0,a.createElementVNode)("span",{style:{"text-align":"center","font-size":"18px"}},[(0,a.createElementVNode)("strong",null,"100,00 (2%)")])]),(0,a.createElementVNode)("dd",null,[(0,a.createElementVNode)("small",null,"Juros"),(0,a.createElementVNode)("span",{style:{"text-align":"center","font-size":"18px"}},[(0,a.createElementVNode)("strong",null,"1,00 (0,15% dia)")])])])])],-1),gre=(0,a.createElementVNode)("p",{style:{"text-align":"right"}},[(0,a.createTextVNode)("Receber "),(0,a.createElementVNode)("strong",null,"4.000,00"),(0,a.createTextVNode)(" - Recebido "),(0,a.createElementVNode)("strong",null,"6.000,00")],-1),xre={class:"row q-pa-none q-my-none justify-center"},bre=(0,a.createTextVNode)("Criar"),wre=(0,a.createTextVNode)("Tag"),_re=(0,a.createTextVNode)("Delete"),yre=(0,a.createTextVNode)("Download"),Ire=(0,a.createTextVNode)("Imprimir"),Ere=(0,a.createTextVNode)("23/11/1984"),Sre=(0,a.createTextVNode)("Salário do Ricardo"),Mre=(0,a.createTextVNode)(" Lorem ipsum dolor sit amet, consectetur adipisicing elit. "),Tre=(0,a.createTextVNode)("-2.240,00 "),kre=(0,a.createElementVNode)("small",null,"1.760,00",-1),Dre=(0,a.createTextVNode)("Salário do Ricardo"),qre=(0,a.createTextVNode)(" Lorem ipsum dolor sit amet, consectetur adipisicing elit. "),Fre=(0,a.createTextVNode)("-2.240,00 "),Pre=(0,a.createElementVNode)("small",null,"1.760,00",-1),Are=(0,a.createTextVNode)("Filtrar"),Bre={class:"row"},Lre={class:"col-12 row q-px-md"},Ore=(0,a.createElementVNode)("h1",{class:"col-12 text-body1 text-dark"},"Empresas",-1),zre={class:"col-12 row q-px-md q-mt-lg"},jre=(0,a.createElementVNode)("h1",{class:"col-12 text-body1 text-dark"},"Período",-1),$re={class:"col-6"},Ure={class:"col-6"},Zre={class:"col-12 row q-px-md q-mt-lg"},Qre={class:"row q-pa-none q-my-none justify-center"},Rre=(0,a.createTextVNode)("Criar"),Gre=(0,a.createTextVNode)("Tag"),Hre=(0,a.createTextVNode)("Delete"),Jre=(0,a.createTextVNode)("Download"),Yre=(0,a.createTextVNode)("Imprimir"),Xre=(0,a.createTextVNode)("23/11/1984"),Wre=(0,a.createTextVNode)("Salário do Ricardo"),Kre=(0,a.createTextVNode)(" Lorem ipsum dolor sit amet, consectetur adipisicing elit. "),ele=(0,a.createTextVNode)("-2.240,00 "),ole=(0,a.createElementVNode)("small",null,"1.760,00",-1),tle=(0,a.createTextVNode)("Salário do Ricardo"),ale=(0,a.createTextVNode)(" Lorem ipsum dolor sit amet, consectetur adipisicing elit. "),ile=(0,a.createTextVNode)("-2.240,00 "),rle=(0,a.createElementVNode)("small",null,"1.760,00",-1),lle=(0,a.createTextVNode)("Filtrar"),sle={class:"row"},nle={class:"col-12 row q-px-md"},cle=(0,a.createElementVNode)("h1",{class:"col-12 text-body1 text-dark"},"Empresas",-1),dle={class:"col-12 row q-px-md q-mt-lg"},mle=(0,a.createElementVNode)("h1",{class:"col-12 text-body1 text-dark"},"Período",-1),ule={class:"col-6"},ple={class:"col-6"},hle={class:"col-12 row q-px-md q-mt-lg"},Cle={class:"row q-pa-none q-mt-none q-mb-sm justify-center"},vle={style:{"max-width":"990px",margin:"0 auto",display:"block"}},fle=(0,a.createElementVNode)("div",{class:"progress full-width q-mt-none"},[(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-green-10",style:{width:"50%"}}),(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-green-3",style:{width:"50%"}})],-1),Nle=(0,a.createTextVNode)(" 999.999,99 "),Vle=(0,a.createTextVNode)(" Recebido "),gle={class:"text-dark text-right"},xle=(0,a.createTextVNode)(" 999.999,99 "),ble=(0,a.createTextVNode)(" Receber "),wle=(0,a.createTextVNode)("Criar"),_le=(0,a.createTextVNode)("Tag"),yle=(0,a.createTextVNode)("Delete"),Ile=(0,a.createTextVNode)("Abrir tudo"),Ele=(0,a.createTextVNode)("Download"),Sle=(0,a.createTextVNode)("Imprimir"),Mle={class:"container-fluid q-py-md bg-white hideonmobile"},Tle={class:"col-12 col-md"},kle={class:"col-12 col-md"},Dle={class:"col-12 col-md"},qle={class:"col-12 col-md"},Fle={class:"col-12 col-md"},Ple={class:"col-12 col-md"},Ale={class:"col-12 col-md-auto"},Ble=(0,a.createTextVNode)("Tag"),Lle=(0,a.createTextVNode)("Tag"),Ole=(0,a.createTextVNode)("Tag"),zle=(0,a.createTextVNode)("Tag"),jle=(0,a.createTextVNode)("Linha 2.2"),$le=(0,a.createTextVNode)("Linha 2.3"),Ule=(0,a.createTextVNode)("Linha 2"),Zle=(0,a.createTextVNode)("Linha 2"),Qle=(0,a.createTextVNode)("Linha 2.2"),Rle=(0,a.createTextVNode)("Linha 2.3"),Gle=(0,a.createTextVNode)("Linha 2"),Hle=(0,a.createTextVNode)("Linha 2"),Jle=(0,a.createTextVNode)("Linha 2.2"),Yle=(0,a.createTextVNode)("Linha 2.3"),Xle=(0,a.createTextVNode)("Linha 2"),Wle=(0,a.createTextVNode)("Linha 2"),Kle={class:"container-fluid q-py-md bg-white hideonmobile"},ese={class:"col-12 col-md"},ose={class:"col-12 col-md"},tse={class:"col-12 col-md"},ase={class:"col-12 col-md"},ise={class:"col-12 col-md"},rse={class:"col-12 col-md"},lse={class:"col-12 col-md-auto"},sse=(0,a.createTextVNode)("Tag"),nse=(0,a.createTextVNode)("Tag"),cse=(0,a.createTextVNode)("Tag"),dse=(0,a.createTextVNode)("Tag"),mse=(0,a.createTextVNode)("Linha 2.2"),use=(0,a.createTextVNode)("Linha 2.3"),pse=(0,a.createTextVNode)("Linha 2"),hse=(0,a.createTextVNode)("Linha 2"),Cse=(0,a.createTextVNode)("Linha 2.2"),vse=(0,a.createTextVNode)("Linha 2.3"),fse=(0,a.createTextVNode)("Linha 2"),Nse=(0,a.createTextVNode)("Linha 2"),Vse=(0,a.createTextVNode)("Linha 2.2"),gse=(0,a.createTextVNode)("Linha 2.3"),xse=(0,a.createTextVNode)("Linha 2"),bse=(0,a.createTextVNode)("Linha 2"),wse={class:"container-fluid q-py-md bg-white hideonmobile"},_se={class:"col-12 col-md"},yse={class:"col-12 col-md"},Ise={class:"col-12 col-md"},Ese={class:"col-12 col-md"},Sse={class:"col-12 col-md"},Mse={class:"col-12 col-md"},Tse={class:"col-12 col-md-auto"},kse=(0,a.createTextVNode)("Tag"),Dse=(0,a.createTextVNode)("Tag"),qse=(0,a.createTextVNode)("Tag"),Fse=(0,a.createTextVNode)("Tag"),Pse=(0,a.createTextVNode)("Linha 2.2"),Ase=(0,a.createTextVNode)("Linha 2.3"),Bse=(0,a.createTextVNode)("Linha 2"),Lse=(0,a.createTextVNode)("Linha 2"),Ose=(0,a.createTextVNode)("Linha 2.2"),zse=(0,a.createTextVNode)("Linha 2.3"),jse=(0,a.createTextVNode)("Linha 2"),$se=(0,a.createTextVNode)("Linha 2"),Use=(0,a.createTextVNode)("Linha 2.2"),Zse=(0,a.createTextVNode)("Linha 2.3"),Qse=(0,a.createTextVNode)("Linha 2"),Rse=(0,a.createTextVNode)("Linha 2"),Gse=(0,a.createTextVNode)("Filtrar"),Hse={class:"row"},Jse={class:"col-12 row q-px-md"},Yse=(0,a.createElementVNode)("h1",{class:"col-12 text-body1 text-dark"},"Empresas",-1),Xse={class:"col-12 row q-px-md q-mt-lg"},Wse=(0,a.createElementVNode)("h1",{class:"col-12 text-body1 text-dark"},"Período",-1),Kse={class:"col-6"},ene={class:"col-6"},one={class:"col-12 row q-px-md q-mt-lg"},tne={class:"row q-pa-none q-mt-none q-mb-sm justify-center"},ane={style:{"max-width":"990px",margin:"0 auto",display:"block"}},ine=(0,a.createElementVNode)("div",{class:"progress full-width q-mt-none"},[(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-red-10",style:{width:"50%"}}),(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-red-3",style:{width:"50%"}})],-1),rne=(0,a.createTextVNode)(" 999.999,99 "),lne=(0,a.createTextVNode)(" Recebido "),sne={class:"text-dark text-right"},nne=(0,a.createTextVNode)(" 999.999,99 "),cne=(0,a.createTextVNode)(" Receber "),dne=(0,a.createTextVNode)("Criar"),mne=(0,a.createTextVNode)("Tag"),une=(0,a.createTextVNode)("Delete"),pne=(0,a.createTextVNode)("Abrir tudo"),hne=(0,a.createTextVNode)("Download"),Cne=(0,a.createTextVNode)("Imprimir"),vne={class:"container-fluid q-py-md bg-white hideonmobile"},fne={class:"col-12 col-md"},Nne={class:"col-12 col-md"},Vne={class:"col-12 col-md"},gne={class:"col-12 col-md"},xne={class:"col-12 col-md"},bne={class:"col-12 col-md"},wne={class:"col-12 col-md-auto"},_ne=(0,a.createTextVNode)("Tag"),yne=(0,a.createTextVNode)("Tag"),Ine=(0,a.createTextVNode)("Tag"),Ene=(0,a.createTextVNode)("Tag"),Sne=(0,a.createTextVNode)("Linha 2.2"),Mne=(0,a.createTextVNode)("Linha 2.3"),Tne=(0,a.createTextVNode)("Linha 2"),kne=(0,a.createTextVNode)("Linha 2"),Dne=(0,a.createTextVNode)("Linha 2.2"),qne=(0,a.createTextVNode)("Linha 2.3"),Fne=(0,a.createTextVNode)("Linha 2"),Pne=(0,a.createTextVNode)("Linha 2"),Ane=(0,a.createTextVNode)("Linha 2.2"),Bne=(0,a.createTextVNode)("Linha 2.3"),Lne=(0,a.createTextVNode)("Linha 2"),One=(0,a.createTextVNode)("Linha 2"),zne={class:"container-fluid q-py-md bg-white hideonmobile"},jne={class:"col-12 col-md"},$ne={class:"col-12 col-md"},Une={class:"col-12 col-md"},Zne={class:"col-12 col-md"},Qne={class:"col-12 col-md"},Rne={class:"col-12 col-md"},Gne={class:"col-12 col-md-auto"},Hne=(0,a.createTextVNode)("Tag"),Jne=(0,a.createTextVNode)("Tag"),Yne=(0,a.createTextVNode)("Tag"),Xne=(0,a.createTextVNode)("Tag"),Wne=(0,a.createTextVNode)("Linha 2.2"),Kne=(0,a.createTextVNode)("Linha 2.3"),ece=(0,a.createTextVNode)("Linha 2"),oce=(0,a.createTextVNode)("Linha 2"),tce=(0,a.createTextVNode)("Linha 2.2"),ace=(0,a.createTextVNode)("Linha 2.3"),ice=(0,a.createTextVNode)("Linha 2"),rce=(0,a.createTextVNode)("Linha 2"),lce=(0,a.createTextVNode)("Linha 2.2"),sce=(0,a.createTextVNode)("Linha 2.3"),nce=(0,a.createTextVNode)("Linha 2"),cce=(0,a.createTextVNode)("Linha 2"),dce={class:"container-fluid q-py-md bg-white hideonmobile"},mce={class:"col-12 col-md"},uce={class:"col-12 col-md"},pce={class:"col-12 col-md"},hce={class:"col-12 col-md"},Cce={class:"col-12 col-md"},vce={class:"col-12 col-md"},fce={class:"col-12 col-md-auto"},Nce=(0,a.createTextVNode)("Tag"),Vce=(0,a.createTextVNode)("Tag"),gce=(0,a.createTextVNode)("Tag"),xce=(0,a.createTextVNode)("Tag"),bce=(0,a.createTextVNode)("Linha 2.2"),wce=(0,a.createTextVNode)("Linha 2.3"),_ce=(0,a.createTextVNode)("Linha 2"),yce=(0,a.createTextVNode)("Linha 2"),Ice=(0,a.createTextVNode)("Linha 2.2"),Ece=(0,a.createTextVNode)("Linha 2.3"),Sce=(0,a.createTextVNode)("Linha 2"),Mce=(0,a.createTextVNode)("Linha 2"),Tce=(0,a.createTextVNode)("Linha 2.2"),kce=(0,a.createTextVNode)("Linha 2.3"),Dce=(0,a.createTextVNode)("Linha 2"),qce=(0,a.createTextVNode)("Linha 2"),Fce=(0,a.createTextVNode)("Filtrar"),Pce={class:"row"},Ace={class:"col-12 row q-px-md"},Bce=(0,a.createElementVNode)("h1",{class:"col-12 text-body1 text-dark"},"Empresas",-1),Lce={class:"col-12 row q-px-md q-mt-lg"},Oce=(0,a.createElementVNode)("h1",{class:"col-12 text-body1 text-dark"},"Período",-1),zce={class:"col-6"},jce={class:"col-6"},$ce={class:"col-12 row q-px-md q-mt-lg"},Uce=(0,a.createElementVNode)("div",{class:"text-subtitle1 text-white"},"Filtrar por período",-1),Zce=(0,a.createTextVNode)("SETEMBRO/2020"),Qce=(0,a.createElementVNode)("strong",null,"+ 500,00",-1),Rce=(0,a.createTextVNode)("AGOSTO/2020"),Gce=(0,a.createElementVNode)("strong",null,"- 196,00",-1),Hce=(0,a.createTextVNode)("JULHO/2020"),Jce=(0,a.createElementVNode)("strong",null,"+ 500,00",-1),Yce=(0,a.createTextVNode)("JUNHO/2020"),Xce=(0,a.createElementVNode)("strong",null,"- 196,00",-1),Wce=(0,a.createTextVNode)("Filtrar"),Kce={class:"row"},ede={class:"col-12 row q-px-md"},ode=(0,a.createElementVNode)("h1",{class:"col-12 text-body1 text-dark"},"Empresas",-1),tde={class:"col-12 row q-px-md q-mt-lg"},ade=(0,a.createElementVNode)("h1",{class:"col-12 text-body1 text-dark"},"Período",-1),ide={class:"col-6"},rde={class:"col-6"},lde={class:"col-12 row q-px-md q-mt-lg"},sde={mounted(){}},nde={components:{Campo:L_.Z,Badge:S.Z,Avatar:uo.Z,GraficoBarras:Bq,GraficoDoughnut:sde},computed:{publicoAlvo:()=>({genero:{graficoBarras:{labels:["0 a 10","11 a 18","18 a 25","26 a 40","41 a 60","> 60"],datasets:[{label:"Masculino",type:"bar",backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgb(75, 192, 192)",borderWidth:1,data:[90560,8035,10974,1081,6335,7540]},{label:"Feminino",type:"bar",backgroundColor:"rgba(219, 40, 40, 0.25)",borderColor:"rgb(219, 40, 40)",borderWidth:1,data:[52500,7650,80875,9030,15635,30240]}],cfg:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]},legend:{position:"top"}}},graficoPizza:{type:"pie",labels:["Recebido","Receber","Pago","Pagar"],datasets:[{label:"Gênero",backgroundColor:["#1b5e20","#a5d6a7","#b71c1c","#ef9a9a"],data:[60,40,30,20]}],cfg:{responsive:!0}}}})},data:()=>({slide:(0,a.ref)("style"),slide2:(0,a.ref)("style2"),slide3:(0,a.ref)("style3"),lorem:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Itaque voluptatem totam, architecto cupiditate officia rerum, error dignissimos praesentium libero ab nemo.",checkedVO:!1,checkedDetails:!1,checkedTitulo:!1,showMoreDetails:!1,checkboxModel:[],tabsModel:(0,a.ref)("xtab-1"),tabsModelR:(0,a.ref)("xtab-1R"),tabsModel2:(0,a.ref)("xtab-1"),page:1,minPages:1,maxPages:5,lista:[{name:"Jim Doe",photo:"statics/avatar.jpg",email:"Conta X",valor:"999.999,00",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"Conta X",valor:"999.999,00",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"Conta X",valor:"999.999,00",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"Conta X",valor:"999.999,00",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"Conta X",valor:"999.999,00",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"Conta X",valor:"999.999,00",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"Conta X",valor:"999.999,00",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"Conta X",valor:"999.999,00",tag:["tag1","tag2"]}],dataIni:"",dataFin:"",grupos:[],selectListOptions:[{label:"Nome do banco",inset:!0,sublabel:"Enables communication",stamp:"Saldo",value:"fb1"},{label:"Nome do banco",inset:!0,sublabel:"Enables communication",stamp:"Saldo",value:"fb2"}],selectPC:"",selectedDataTipo:"",selectDataTipo:[{label:"Vencimento",value:"goog"},{label:"Outro",value:"fb"}],selectOptionsPC:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],empresas:{selected:[],options:[]},empresasSelecionadas:[],filtro:{codigoClienteSistema:"",codigoContatoUsuario:"",dataConsulta:"",empresas:[],periodo:{ini:null,fim:""}},showFilters:!1,showFiltersModal:!1,openedExtrato:!1,openedExtratoCartao:!1,openedReceitas:!1,openedDespesas:!1,openedPeriodo:!1,openedTitulo:!1,openedTituloD:!1,columns:[{name:"desc",required:!0,label:"",align:"left",field:"name",sortable:!0,classes:"my-class"},{name:"desc",required:!0,label:"Mês",align:"left",field:"calories",sortable:!0,classes:"my-class"},{name:"desc",required:!0,label:"2020",align:"left",field:"fat",sortable:!0,classes:"my-class"}],tableData:[{name:"RECEITA",calories:159,fat:6},{name:"Impostos",calories:159,fat:6},{name:"Despesa Comercial",calories:159,fat:6},{name:"MARGEM DE CONTRIBUIÇÃO",calories:159,fat:6},{name:"Encargos Sociais",calories:159,fat:6},{name:"Despesa Fixa",calories:159,fat:6},{name:"Imobilizado",calories:159,fat:6},{name:"DESPESA TOTAL",calories:159,fat:6},{name:"Despesas Financeiras",calories:159,fat:6},{name:"RESULTADO",calories:159,fat:6}],dados:{selected:"",selectOptions:[{label:"Out/2020",value:"goog"},{label:"SET/2020",value:"fb"}],empresaselecionada:["Principal"],empresa:[{label:"Principal",value:"Principal"},{label:"Empresa X",value:"Emprexa X"},{label:"Emprexa P",value:"Emprexa P"},{label:"Emprexa T",value:"Emprexa T"},{label:"Emprexa O",value:"Emprexa O"}]},section:!0}),watch:{},methods:{goToDRE(){this.$router.push({name:"FinanceiroDRE"})},goToBalanco(){this.$router.push({name:"FinanceiroBalanco"})},goToFluxo(){this.$router.push({name:"FinanceiroFluxo"})},abrirModalEmpresa(){},abrirTodosPreview(){if(this.showAllPreviewDetail=!this.showAllPreviewDetail,this.showAllPreviewDetail)for(let e in this.lista)this.lista[e].showPreviewDetail=!0;else for(let e in this.lista)this.lista[e].showPreviewDetail=!1}}},cde=(0,T.Z)(nde,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("avatar"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-tooltip"),d=(0,a.resolveComponent)("q-btn"),m=(0,a.resolveComponent)("q-toolbar"),u=(0,a.resolveComponent)("q-card"),p=(0,a.resolveComponent)("q-card-section"),h=(0,a.resolveComponent)("q-icon"),C=(0,a.resolveComponent)("Br"),v=(0,a.resolveComponent)("q-carousel-slide"),f=(0,a.resolveComponent)("q-carousel"),N=(0,a.resolveComponent)("grafico-doughnut"),V=(0,a.resolveComponent)("q-tab"),g=(0,a.resolveComponent)("q-tabs"),x=(0,a.resolveComponent)("q-checkbox"),b=(0,a.resolveComponent)("q-item-section"),w=(0,a.resolveComponent)("q-item-label"),_=(0,a.resolveComponent)("badge"),y=(0,a.resolveComponent)("row"),I=(0,a.resolveComponent)("q-item"),E=(0,a.resolveComponent)("q-list"),S=(0,a.resolveComponent)("q-menu"),M=(0,a.resolveComponent)("q-separator"),T=(0,a.resolveComponent)("q-pagination"),k=(0,a.resolveComponent)("q-tab-panel"),D=(0,a.resolveComponent)("q-tab-panels"),q=(0,a.resolveComponent)("grafico-barras"),F=(0,a.resolveComponent)("q-table"),P=(0,a.resolveComponent)("q-page"),A=(0,a.resolveComponent)("q-header"),B=(0,a.resolveComponent)("q-input"),L=(0,a.resolveComponent)("q-alert"),O=(0,a.resolveComponent)("q-select"),z=(0,a.resolveComponent)("q-card-actions"),j=(0,a.resolveComponent)("q-field"),$=(0,a.resolveComponent)("q-badge"),U=(0,a.resolveComponent)("q-date"),Z=(0,a.resolveComponent)("q-uploader"),Q=(0,a.resolveComponent)("q-expansion-item"),R=(0,a.resolveComponent)("q-page-container"),G=(0,a.resolveComponent)("q-layout"),H=(0,a.resolveComponent)("q-dialog"),J=(0,a.resolveComponent)("q-chip"),Y=(0,a.resolveComponent)("q-chips-input"),X=(0,a.resolveComponent)("q-drawer"),W=(0,a.resolveComponent)("campo"),K=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",o8,[(0,a.createVNode)(P,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",t8,[(0,a.createElementVNode)("div",a8,[(0,a.createElementVNode)("div",i8,[(0,a.createElementVNode)("div",r8,[(0,a.createVNode)(m,{class:"minh30 q-pa-none",color:"none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:"statics/avatar.jpg",rotulo:"jim dow",tamanho:"40"}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[l8])),_:1}),(0,a.createVNode)(d,{icon:"mdi-refresh",size:"lg",color:"white",flat:"",dense:"",class:"no-shadow q-mr-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[s8])),_:1})])),_:1}),(0,a.createVNode)(d,{icon:"mdi-filter",size:"lg",color:"white",flat:"",dense:"",class:"no-shadow",onClick:o[0]||(o[0]=e=>r.showFilters=!0)})])),_:1}),(0,a.createElementVNode)("div",n8,[(0,a.createVNode)(d,{icon:"keyboard_arrow_left",round:"",flat:"","text-color":"white"}),(0,a.createVNode)(d,{icon:"event_available",label:"Outubro/2020",flat:"","text-color":"white",onClick:o[1]||(o[1]=e=>r.openedPeriodo=!0)}),(0,a.createVNode)(d,{icon:"keyboard_arrow_right",round:"",flat:"","text-color":"white"})]),(0,a.createElementVNode)("div",c8,[(0,a.createElementVNode)("div",{class:"col-6",onClick:o[2]||(o[2]=e=>r.openedReceitas=!0)},[(0,a.createVNode)(u,{class:"q-pa-xs q-px-sm no-shadow bg-white card-bank"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"minh30 q-pa-none",color:"none","text-color":"dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[d8])),_:1}),m8])),_:1}),u8,(0,a.createVNode)(m,{color:"transparent",class:"minh30 text-dark q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-body1 text-weight-bold q-px-none"},{default:(0,a.withCtx)((()=>[p8,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[h8])),_:1})])),_:1}),(0,a.createElementVNode)("small",C8,[v8,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[f8])),_:1})])])),_:1})])),_:1})]),(0,a.createElementVNode)("div",{class:"col-6",onClick:o[3]||(o[3]=e=>r.openedDespesas=!0)},[(0,a.createVNode)(u,{class:"q-pa-xs q-px-sm no-shadow bg-white card-bank"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"minh30 q-pa-none",color:"none","text-color":"dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[N8])),_:1}),V8])),_:1}),g8,(0,a.createVNode)(m,{color:"transparent",class:"minh30 text-dark q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-body1 text-weight-bold q-px-none"},{default:(0,a.withCtx)((()=>[x8,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[b8])),_:1})])),_:1}),(0,a.createElementVNode)("small",w8,[_8,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[y8])),_:1})])])),_:1})])),_:1})])]),I8,(0,a.createVNode)(m,{class:"minh30 q-pa-none",color:"none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-white q-px-none"},{default:(0,a.withCtx)((()=>[E8])),_:1}),S8])),_:1}),(0,a.createVNode)(f,{modelValue:r.slide,"onUpdate:modelValue":o[6]||(o[6]=e=>r.slide=e),"transition-prev":"scale","transition-next":"scale",swipeable:"",animated:"","control-color":"white",arrows:"",height:"70px",class:"bg-transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{name:"style",class:"column no-wrap flex-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{color:"white",class:"no-shadow q-pa-sm",onClick:o[4]||(o[4]=e=>r.openedExtrato=!0),style:{"min-width":"90%"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"q-pa-none text-dark"},{default:(0,a.withCtx)((()=>[M8])),_:1}),(0,a.createVNode)(m,{color:"transparent",dark:"",class:"minh30 q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-h5 text-weight-bold text-primary q-px-none"},{default:(0,a.withCtx)((()=>[T8])),_:1}),(0,a.createElementVNode)("small",k8,[(0,a.createVNode)(h,{name:"mdi-bank-transfer-in"}),D8,q8,(0,a.createVNode)(C),(0,a.createVNode)(h,{name:"mdi-bank-transfer-out"}),F8,P8])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(v,{name:"conta2",class:"column no-wrap flex-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{color:"white",class:"no-shadow q-pa-sm",onClick:o[5]||(o[5]=e=>r.openedExtrato=!0),style:{"min-width":"90%"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"q-pa-none text-dark"},{default:(0,a.withCtx)((()=>[A8])),_:1}),(0,a.createVNode)(m,{color:"transparent",dark:"",class:"minh30 q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-h5 text-weight-bold text-primary q-px-none"},{default:(0,a.withCtx)((()=>[B8])),_:1}),(0,a.createElementVNode)("small",L8,[(0,a.createVNode)(h,{name:"mdi-bank-transfer-in"}),O8,z8,(0,a.createVNode)(C),(0,a.createVNode)(h,{name:"mdi-bank-transfer-out"}),j8,$8])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),U8,(0,a.createVNode)(m,{class:"minh30 q-pa-none",color:"none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-white q-px-none"},{default:(0,a.withCtx)((()=>[Z8])),_:1}),Q8])),_:1}),(0,a.createVNode)(f,{modelValue:r.slide2,"onUpdate:modelValue":o[9]||(o[9]=e=>r.slide2=e),"transition-prev":"scale","transition-next":"scale",swipeable:"",animated:"","control-color":"white",arrows:"",height:"70px",class:"bg-transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{name:"style2",class:"column no-wrap flex-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{color:"white",class:"q-pa-sm no-shadow",onClick:o[7]||(o[7]=e=>r.openedExtrato=!0),style:{"min-width":"90%"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"q-pa-none text-dark"},{default:(0,a.withCtx)((()=>[R8])),_:1}),(0,a.createVNode)(m,{color:"transparent",dark:"",class:"minh30 q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-h5 text-weight-bold text-primary q-px-none"},{default:(0,a.withCtx)((()=>[G8])),_:1}),H8])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(v,{name:"conta2",class:"column no-wrap flex-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{color:"white",class:"q-pa-sm no-shadow",onClick:o[8]||(o[8]=e=>r.openedExtrato=!0),style:{"min-width":"90%"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"q-pa-none text-dark"},{default:(0,a.withCtx)((()=>[J8])),_:1}),(0,a.createVNode)(m,{color:"transparent",dark:"",class:"minh30 q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-h5 text-weight-bold text-primary q-px-none"},{default:(0,a.withCtx)((()=>[Y8])),_:1}),X8])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),W8,(0,a.createVNode)(m,{class:"minh30 tabbutton q-pa-none",color:"none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-white q-px-none"},{default:(0,a.withCtx)((()=>[K8])),_:1}),e5])),_:1}),(0,a.createVNode)(f,{modelValue:r.slide3,"onUpdate:modelValue":o[13]||(o[13]=e=>r.slide3=e),"transition-prev":"scale","transition-next":"scale",swipeable:"",animated:"","control-color":"white",arrows:"",height:"130px",class:"bg-transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{name:"style3",class:"column no-wrap flex-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"bg-yellow-6 q-pa-sm q-px-md no-shadow card-bank",style:{"min-width":"90%"},onClick:o[10]||(o[10]=e=>r.openedExtratoCartao=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"minh30 q-pa-none",color:"none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-pa-none q-title text-weight-bold text-primary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:"statics/bb.jpg",rotulo:"jim dow",tamanho:"40"})])),_:1}),(0,a.createVNode)(s,{imagem:"statics/visa.png",rotulo:"jim dow",tamanho:"40"})])),_:1}),o5,(0,a.createVNode)(m,{color:"transparent",dark:"",class:"minh30 q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-h5 text-weight-bold text-black q-px-none"},{default:(0,a.withCtx)((()=>[t5,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[a5])),_:1})])),_:1}),(0,a.createElementVNode)("small",i5,[r5,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[l5])),_:1})])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(v,{name:"conta2",class:"column no-wrap flex-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{style:{"min-width":"90%"},class:"bg-orange-6 q-pa-sm q-px-md no-shadow card-bank",onClick:o[11]||(o[11]=e=>r.openedExtratoCartao=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"minh30 q-pa-none",color:"none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-pa-none q-title text-weight-bold text-primary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:"statics/itau.png",rotulo:"jim dow",tamanho:"40"})])),_:1}),(0,a.createVNode)(s,{imagem:"statics/elo.jpg",rotulo:"jim dow",tamanho:"40"})])),_:1}),s5,(0,a.createVNode)(m,{color:"transparent",dark:"",class:"minh30 q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-h5 text-weight-bold text-white q-px-none"},{default:(0,a.withCtx)((()=>[n5,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[c5])),_:1})])),_:1}),(0,a.createElementVNode)("small",d5,[m5,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[u5])),_:1})])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(v,{name:"conta3",class:"column no-wrap flex-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"q-pa-sm q-px-md no-shadow card-bank bg-purple-5",style:{"min-width":"90%"},onClick:o[12]||(o[12]=e=>r.openedExtratoCartao=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"minh30 q-pa-none",color:"none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-pa-none q-title text-weight-bold text-primary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:"statics/nubank.png",rotulo:"jim dow",tamanho:"40"})])),_:1}),(0,a.createVNode)(s,{imagem:"statics/master.png",rotulo:"jim dow",tamanho:"40"})])),_:1}),p5,(0,a.createVNode)(m,{color:"transparent",dark:"",class:"minh30 q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-h5 text-weight-bold text-white q-px-none"},{default:(0,a.withCtx)((()=>[h5,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[C5])),_:1})])),_:1}),(0,a.createElementVNode)("small",v5,[f5,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[N5])),_:1})])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),V5,(0,a.createVNode)(m,{class:"minh30 q-pa-none hideondesktop",color:"none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-white q-px-none"},{default:(0,a.withCtx)((()=>[g5])),_:1}),x5])),_:1}),(0,a.createVNode)(u,{inline:"",color:"white",class:"hideondesktop q-my-sm full-width no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"d-flex full-height column q-pt-sm"},{default:(0,a.withCtx)((()=>[b5,(0,a.createElementVNode)("div",w5,[(0,a.createElementVNode)("div",_5,[(0,a.createElementVNode)("strong",y5,[I5,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[E5])),_:1})])]),(0,a.createElementVNode)("div",S5,[(0,a.createElementVNode)("small",M5,[T5,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[k5])),_:1})])])]),(0,a.createElementVNode)("div",D5,[(0,a.createVNode)(N,{dados:l.publicoAlvo.genero.graficoPizza,opcoes:l.publicoAlvo.genero.graficoPizza.cfg},null,8,["dados","opcoes"])])])),_:1})])),_:1}),(0,a.createVNode)(g,{class:"hideondesktop q-px-none q-mx-none",color:"none","text-color":"black",align:"justify"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{name:"tab-1",icon:"mdi-qrcode",label:"DRE",onClick:l.goToDRE,class:"text-caption bg-white text-black col-4"},null,8,["onClick"]),(0,a.createVNode)(V,{alert:"",name:"tab-2",icon:"mdi-cash-multiple",label:"Balanço",onClick:l.goToBalanco,class:"text-caption bg-white q-mx-sm text-black col-4"},null,8,["onClick"]),(0,a.createVNode)(V,{count:"5",name:"tab-3",icon:"mdi-barcode-scan",label:"Fluxo Caixa",onClick:l.goToFluxo,class:"text-caption bg-white text-black col-4"},null,8,["onClick"])])),_:1}),(0,a.createVNode)(g,{class:"fixedBottom hideondesktop q-px-none q-mx-none",color:"light-blue-10"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{name:"tab-1",icon:"mdi-qrcode",label:"PIX",class:"text-caption"}),(0,a.createVNode)(V,{alert:"",name:"tab-2",icon:"mdi-cash-multiple",label:"Receber",class:"text-caption"}),(0,a.createVNode)(V,{count:"5",name:"tab-3",icon:"mdi-barcode-scan",label:"Pagar",class:"text-caption"}),(0,a.createVNode)(V,{name:"tab-4",icon:"more_vert",label:"Outros",class:"text-caption"})])),_:1})])]),(0,a.createElementVNode)("div",q5,[(0,a.createElementVNode)("div",F5,[(0,a.createVNode)(g,{class:"q-px-none q-mx-none q-mb-md",color:"transparent","text-color":"black","underline-color":"transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{name:"tab-1",icon:"mdi-qrcode",label:"PIX",class:"text-caption likebutton"}),(0,a.createVNode)(V,{alert:"",name:"tab-2",icon:"mdi-cash-multiple",label:"Receber",class:"text-caption likebutton"}),(0,a.createVNode)(V,{count:"5",name:"tab-3",icon:"mdi-barcode-scan",label:"Pagar",class:"text-caption likebutton"}),(0,a.createVNode)(V,{name:"tab-4",icon:"more_vert",label:"Outros",class:"text-caption likebutton"})])),_:1}),(0,a.createElementVNode)("div",P5,[(0,a.createElementVNode)("div",A5,[(0,a.createElementVNode)("div",B5,[(0,a.createElementVNode)("div",L5,[(0,a.createVNode)(u,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"d-flex full-height column q-pt-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{color:"transparent","text-color":"dark",class:"minh30 q-px-none q-pt-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-body1 q-px-none"},{default:(0,a.withCtx)((()=>[O5])),_:1}),(0,a.createVNode)(d,{icon:"mdi-arrow-expand",size:"lg",flat:"",dense:"",color:"tertiary",class:"no-shadow q-py-none",onClick:o[14]||(o[14]=e=>r.openedReceitas=!0)})])),_:1}),z5,(0,a.createElementVNode)("div",j5,[(0,a.createElementVNode)("div",$5,[(0,a.createElementVNode)("strong",U5,[Z5,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Q5])),_:1})])]),(0,a.createElementVNode)("div",R5,[(0,a.createElementVNode)("small",G5,[H5,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[J5])),_:1})])])]),(0,a.createVNode)(g,{modelValue:r.tabsModel,"onUpdate:modelValue":o[15]||(o[15]=e=>r.tabsModel=e),color:"transparent","text-color":"green",class:"full-width"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{name:"xtab-1",label:"Receber",default:""}),(0,a.createVNode)(V,{name:"xtab-2",label:"Recebido"}),(0,a.createVNode)(V,{name:"xtab-3",label:"Todas"})])),_:1},8,["modelValue"]),(0,a.createVNode)(D,{modelValue:r.tabsModel,"onUpdate:modelValue":o[37]||(o[37]=e=>r.tabsModel=e),swipeable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{name:"xtab-1",class:"q-pa-none full-width",style:{"border-top":"1px solid #e0e0e0"}},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(E,{class:"q-py-none qListaItems",key:e},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"itemLista text-dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:"",class:"sidecheckbox"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[16]||(o[16]=e=>r.checkboxModel=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(b,{avatar:"",onClick:o[17]||(o[17]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:e.photo,tamanho:"30"},null,8,["imagem"])])),_:2},1024),(0,a.createVNode)(b,{label:e.name,class:"hideondesktop",onClick:o[18]||(o[18]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[Y5])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[X5])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{label:e.name,class:"hideonmobile",onClick:o[19]||(o[19]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[W5])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[K5])),_:1})])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{class:"hideonmobile",onClick:o[20]||(o[20]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:e.showPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",flat:"",dense:"",round:"",class:"buttons",onClick:o=>e.showPreviewDetail=!e.showPreviewDetail},null,8,["icon","onClick"]),(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:"edit",flat:"",dense:"",round:"",class:"buttons",onClick:o[21]||(o[21]=e=>r.openedTitulo=!0)}),(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:"",class:"buttons"}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"more_vert",round:"",size:"md",class:"morevert"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1024),e.showPreviewDetail?((0,a.openBlock)(),(0,a.createBlock)(I,{key:0,class:"text-dark q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[e6])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[o6])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[t6])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[a6])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[i6])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[r6])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[l6])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[s6])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[n6])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[c6])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[d6])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[m6])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(M)])),_:2},1024)))),128)),(0,a.createVNode)(T,{input:"",color:"dark",modelValue:r.page,"onUpdate:modelValue":o[22]||(o[22]=e=>r.page=e),min:r.minPages,max:r.maxPages,class:"justify-center q-mb-sm"},null,8,["modelValue","min","max"])])),_:1}),(0,a.createVNode)(k,{name:"xtab-2",class:"q-pa-none full-width",style:{"border-top":"1px solid #e0e0e0"}},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(E,{class:"q-py-none qListaItems",key:e},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"itemLista text-dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:"",class:"sidecheckbox"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[23]||(o[23]=e=>r.checkboxModel=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(b,{avatar:"",onClick:o[24]||(o[24]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:e.photo,tamanho:"30"},null,8,["imagem"])])),_:2},1024),(0,a.createVNode)(b,{label:e.name,class:"hideondesktop",onClick:o[25]||(o[25]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[u6])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[p6])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{label:e.name,class:"hideonmobile",onClick:o[26]||(o[26]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[h6])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[C6])),_:1})])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{class:"hideonmobile",onClick:o[27]||(o[27]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:e.showPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",flat:"",dense:"",round:"",class:"buttons",onClick:o=>e.showPreviewDetail=!e.showPreviewDetail},null,8,["icon","onClick"]),(0,a.createVNode)(d,{color:"primary",size:"md",icon:"edit",flat:"",dense:"",round:"",class:"buttons",onClick:o[28]||(o[28]=e=>r.openedTitulo=!0)}),(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:"",class:"buttons"}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"more_vert",round:"",size:"md",class:"morevert"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1024),e.showPreviewDetail?((0,a.openBlock)(),(0,a.createBlock)(I,{key:0,class:"text-dark q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[v6])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[f6])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[N6])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[V6])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[g6])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[x6])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[b6])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[w6])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[_6])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[y6])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[I6])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[E6])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(M)])),_:2},1024)))),128)),(0,a.createVNode)(T,{input:"",color:"dark",modelValue:r.page,"onUpdate:modelValue":o[29]||(o[29]=e=>r.page=e),min:r.minPages,max:r.maxPages,class:"justify-center q-mb-sm"},null,8,["modelValue","min","max"])])),_:1}),(0,a.createVNode)(k,{name:"xtab-3",class:"q-pa-none full-width",style:{"border-top":"1px solid #e0e0e0"}},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(E,{class:"q-py-none qListaItems",key:e},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"itemLista text-dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:"",class:"sidecheckbox"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[30]||(o[30]=e=>r.checkboxModel=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(b,{avatar:"",onClick:o[31]||(o[31]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:e.photo,tamanho:"30"},null,8,["imagem"])])),_:2},1024),(0,a.createVNode)(b,{label:e.name,class:"hideondesktop",onClick:o[32]||(o[32]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[S6])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[M6])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{label:e.name,class:"hideonmobile",onClick:o[33]||(o[33]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[T6])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[k6])),_:1})])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{class:"hideonmobile",onClick:o[34]||(o[34]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:e.showPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",flat:"",dense:"",round:"",class:"buttons",onClick:o=>e.showPreviewDetail=!e.showPreviewDetail},null,8,["icon","onClick"]),(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:"edit",flat:"",dense:"",round:"",class:"buttons",onClick:o[35]||(o[35]=e=>r.openedTitulo=!0)}),(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:"",class:"buttons"}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"more_vert",round:"",size:"md",class:"morevert"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1024),e.showPreviewDetail?((0,a.openBlock)(),(0,a.createBlock)(I,{key:0,class:"text-dark q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[D6])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[q6])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[F6])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[P6])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[A6])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[B6])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[L6])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[O6])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[z6])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[j6])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[$6])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[U6])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(M)])),_:2},1024)))),128)),(0,a.createVNode)(T,{input:"",color:"dark",modelValue:r.page,"onUpdate:modelValue":o[36]||(o[36]=e=>r.page=e),min:r.minPages,max:r.maxPages,class:"justify-center q-mb-sm"},null,8,["modelValue","min","max"])])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(d,{color:"positive",icon:"add",label:"Adicionar",outline:"",size:"sm",class:"full-width"})])),_:1})])),_:1})]),(0,a.createElementVNode)("div",Z6,[(0,a.createVNode)(u,{inline:"",color:"white",class:"fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"d-flex full-height column q-pt-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{color:"transparent","text-color":"tertiary",class:"minh30 q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-body1 q-px-none"},{default:(0,a.withCtx)((()=>[Q6])),_:1}),(0,a.createVNode)(d,{icon:"mdi-arrow-expand",size:"lg",flat:"",dense:"",class:"no-shadow q-py-none",color:"dark",onClick:o[38]||(o[38]=e=>r.openedDespesas=!0)})])),_:1}),R6,(0,a.createElementVNode)("div",G6,[(0,a.createElementVNode)("div",H6,[(0,a.createElementVNode)("strong",J6,[Y6,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[X6])),_:1})])]),(0,a.createElementVNode)("div",W6,[(0,a.createElementVNode)("small",K6,[e7,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[o7])),_:1})])])]),(0,a.createVNode)(g,{modelValue:r.tabsModel,"onUpdate:modelValue":o[39]||(o[39]=e=>r.tabsModel=e),color:"transparent","text-color":"negative",class:"full-width"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{name:"xtab-1",label:"Receber",default:""}),(0,a.createVNode)(V,{name:"xtab-2",label:"Recebido"}),(0,a.createVNode)(V,{name:"xtab-3",label:"Todas"})])),_:1},8,["modelValue"]),(0,a.createVNode)(D,{modelValue:r.tabsModel,"onUpdate:modelValue":o[61]||(o[61]=e=>r.tabsModel=e),swipeable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{name:"xtab-1",class:"q-pa-none full-width",style:{"border-top":"1px solid #e0e0e0"}},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(E,{class:"q-py-none qListaItems",key:e},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"itemLista text-dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:"",class:"sidecheckbox"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[40]||(o[40]=e=>r.checkboxModel=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(b,{avatar:"",onClick:o[41]||(o[41]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:e.photo,tamanho:"30"},null,8,["imagem"])])),_:2},1024),(0,a.createVNode)(b,{label:e.name,class:"hideondesktop",onClick:o[42]||(o[42]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[t7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[a7])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{label:e.name,class:"hideonmobile",onClick:o[43]||(o[43]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[i7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[r7])),_:1})])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{class:"hideonmobile",onClick:o[44]||(o[44]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:e.showPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",flat:"",dense:"",round:"",class:"buttons",onClick:o=>e.showPreviewDetail=!e.showPreviewDetail},null,8,["icon","onClick"]),(0,a.createVNode)(d,{color:"primary",size:"md",icon:"edit",flat:"",dense:"",round:"",class:"buttons",onClick:o[45]||(o[45]=e=>r.openedTitulo=!0)}),(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:"",class:"buttons"}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"more_vert",round:"",size:"md",class:"morevert"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1024),e.showPreviewDetail?((0,a.openBlock)(),(0,a.createBlock)(I,{key:0,class:"text-dark q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[l7])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[s7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[n7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[c7])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[d7])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[m7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[u7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[p7])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[h7])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[C7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[v7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[f7])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(M)])),_:2},1024)))),128)),(0,a.createVNode)(T,{input:"",color:"dark",modelValue:r.page,"onUpdate:modelValue":o[46]||(o[46]=e=>r.page=e),min:r.minPages,max:r.maxPages,class:"justify-center q-mb-sm"},null,8,["modelValue","min","max"])])),_:1}),(0,a.createVNode)(k,{name:"xtab-2",class:"q-pa-none full-width",style:{"border-top":"1px solid #e0e0e0"}},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(E,{class:"q-py-none qListaItems",key:e},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"itemLista text-dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:"",class:"sidecheckbox"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[47]||(o[47]=e=>r.checkboxModel=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(b,{avatar:"",onClick:o[48]||(o[48]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:e.photo,tamanho:"30"},null,8,["imagem"])])),_:2},1024),(0,a.createVNode)(b,{label:e.name,class:"hideondesktop",onClick:o[49]||(o[49]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[N7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[V7])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{label:e.name,class:"hideonmobile",onClick:o[50]||(o[50]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[g7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[x7])),_:1})])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{class:"hideonmobile",onClick:o[51]||(o[51]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:e.showPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",flat:"",dense:"",round:"",class:"buttons",onClick:o=>e.showPreviewDetail=!e.showPreviewDetail},null,8,["icon","onClick"]),(0,a.createVNode)(d,{color:"primary",size:"md",icon:"edit",flat:"",dense:"",round:"",class:"buttons",onClick:o[52]||(o[52]=e=>r.openedTitulo=!0)}),(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:"",class:"buttons"}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"more_vert",round:"",size:"md",class:"morevert"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1024),e.showPreviewDetail?((0,a.openBlock)(),(0,a.createBlock)(I,{key:0,class:"text-dark q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[b7])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[w7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[_7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[y7])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[I7])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[E7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[S7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[M7])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[T7])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[k7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[D7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[q7])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(M)])),_:2},1024)))),128)),(0,a.createVNode)(T,{input:"",color:"dark",modelValue:r.page,"onUpdate:modelValue":o[53]||(o[53]=e=>r.page=e),min:r.minPages,max:r.maxPages,class:"justify-center q-mb-sm"},null,8,["modelValue","min","max"])])),_:1}),(0,a.createVNode)(k,{name:"xtab-3",class:"q-pa-none full-width",style:{"border-top":"1px solid #e0e0e0"}},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(E,{class:"q-py-none qListaItems",key:e},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"itemLista text-dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:"",class:"sidecheckbox"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[54]||(o[54]=e=>r.checkboxModel=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(b,{avatar:"",onClick:o[55]||(o[55]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:e.photo,tamanho:"30"},null,8,["imagem"])])),_:2},1024),(0,a.createVNode)(b,{label:e.name,class:"hideondesktop",onClick:o[56]||(o[56]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[F7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[P7])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{label:e.name,class:"hideonmobile",onClick:o[57]||(o[57]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[A7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[B7])),_:1})])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{class:"hideonmobile",onClick:o[58]||(o[58]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:e.showPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",flat:"",dense:"",round:"",class:"buttons",onClick:o=>e.showPreviewDetail=!e.showPreviewDetail},null,8,["icon","onClick"]),(0,a.createVNode)(d,{color:"primary",size:"md",icon:"edit",flat:"",dense:"",round:"",class:"buttons",onClick:o[59]||(o[59]=e=>r.openedTitulo=!0)}),(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:"",class:"buttons"}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"more_vert",round:"",size:"md",class:"morevert"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1024),e.showPreviewDetail?((0,a.openBlock)(),(0,a.createBlock)(I,{key:0,class:"text-dark q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[L7])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[O7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[z7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[j7])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[$7])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[U7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[Z7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[Q7])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[R7])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[G7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[H7])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[J7])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(M)])),_:2},1024)))),128)),(0,a.createVNode)(T,{input:"",color:"dark",modelValue:r.page,"onUpdate:modelValue":o[60]||(o[60]=e=>r.page=e),min:r.minPages,max:r.maxPages,class:"justify-center q-mb-sm"},null,8,["modelValue","min","max"])])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(d,{color:"negative",icon:"add",label:"Adicionar",outline:"",size:"sm",class:"full-width"})])),_:1})])),_:1})]),(0,a.createElementVNode)("div",Y7,[(0,a.createVNode)(u,{inline:"",color:"white",class:"full-width fit no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"d-flex full-height column"},{default:(0,a.withCtx)((()=>[X7,(0,a.createVNode)(q,{dados:l.publicoAlvo.genero.graficoBarras,opcoes:l.publicoAlvo.genero.graficoBarras.cfg},null,8,["dados","opcoes"])])),_:1})])),_:1})])])]),(0,a.createElementVNode)("div",W7,[(0,a.createElementVNode)("div",K7,[(0,a.createElementVNode)("div",eee,[(0,a.createVNode)(u,{inline:"",color:"white",class:"q-mb-md full-width no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"d-flex full-height column q-pt-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{color:"transparent","text-color":"dark",class:"minh30 q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-body1 q-px-none"},{default:(0,a.withCtx)((()=>[oee])),_:1}),(0,a.createVNode)(d,{icon:"mdi-arrow-expand",size:"lg",flat:"",dense:"",class:"no-shadow q-py-none",color:"white",style:{cursor:"default !important"}})])),_:1}),tee,(0,a.createElementVNode)("div",aee,[(0,a.createElementVNode)("div",iee,[(0,a.createElementVNode)("strong",ree,[lee,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[see])),_:1})])]),(0,a.createElementVNode)("div",nee,[(0,a.createElementVNode)("small",cee,[dee,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[mee])),_:1})])])]),(0,a.createElementVNode)("div",uee,[(0,a.createVNode)(N,{dados:l.publicoAlvo.genero.graficoPizza,opcoes:l.publicoAlvo.genero.graficoPizza.cfg},null,8,["dados","opcoes"])])])),_:1})])),_:1})]),(0,a.createElementVNode)("div",pee,[(0,a.createVNode)(u,{inline:"",color:"white",class:"q-mb-md full-width no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"d-flex full-height column"},{default:(0,a.withCtx)((()=>[hee,(0,a.createVNode)(F,{rows:r.tableData,columns:r.columns,"row-key":"name",class:"no-shadow",dense:""},null,8,["rows","columns"]),(0,a.createVNode)(d,{color:"positive",label:"DRE Completo",outline:"",size:"sm",class:"full-width",to:{name:"FinanceiroDRE"}})])),_:1})])),_:1})]),(0,a.createElementVNode)("div",Cee,[(0,a.createVNode)(u,{inline:"",color:"white",class:"q-mb-md full-width no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"d-flex full-height column"},{default:(0,a.withCtx)((()=>[vee,(0,a.createVNode)(F,{rows:r.tableData,columns:r.columns,"row-key":"name",class:"no-shadow",dense:""},null,8,["rows","columns"]),(0,a.createVNode)(d,{color:"positive",label:"Balanço Anual",outline:"",size:"sm",class:"full-width",to:{name:"FinanceiroBalanco"}})])),_:1})])),_:1})])])])])])])])])])),_:1}),(0,a.createVNode)(H,{modelValue:r.openedTituloD,"onUpdate:modelValue":o[86]||(o[86]=e=>r.openedTituloD=e),maximized:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(G,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"bg-gradiente"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(d,{flat:"",round:"",dense:"",icon:"arrow_back"},null,512),[[K]]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[fee])),_:1}),(0,a.createVNode)(d,{color:"white","text-color":"primary",class:"no-shadow",label:"Salvar"})])),_:1})])),_:1}),(0,a.createVNode)(R,{class:"layout-padding q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(P,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Nee,[(0,a.createElementVNode)("div",Vee,[(0,a.createElementVNode)("div",gee,[(0,a.createVNode)(u,{class:"col-12 col-md-8 bg-white q-pb-md no-shadow reverse"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",xee,[(0,a.createElementVNode)("div",bee,[(0,a.createElementVNode)("div",wee,[(0,a.createVNode)(L,{color:"red-8","text-color":"white",class:"no-shadow q-mb-md full-width"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{color:"white",dark:"",value:"55,00",class:"no-shadow big",borderless:"",prefix:"Valor",align:"right"})])),_:1}),r.checkedDetails||r.checkedVO?((0,a.openBlock)(),(0,a.createBlock)(L,{key:0,color:"red-7","text-color":"white",class:"no-shadow q-mb-md full-width"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{color:"white",dark:"",value:"55,00",class:"no-shadow",borderless:"",prefix:"Valor Original",align:"right"})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",{onClick:o[62]||(o[62]=e=>r.checkedVO=!r.checkedVO),class:"full-width"},[(0,a.createVNode)(p,{class:"valorOriginal q-pa-sm text-body2",style:{"background-color":"#ffebee"}},{right:(0,a.withCtx)((()=>[yee])),default:(0,a.withCtx)((()=>[r.checkedVO?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,name:"arrow_drop_up"})):(0,a.createCommentVNode)("",!0),r.checkedVO?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(h,{key:1,name:"arrow_drop_down"})),_ee])),_:1})]),r.checkedDetails||r.checkedVO?((0,a.openBlock)(),(0,a.createBlock)(z,{key:1,style:{"background-color":"#ffebee"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Iee,[(0,a.createElementVNode)("div",Eee,[(0,a.createElementVNode)("div",See,[(0,a.createVNode)(p,{class:"titleOtherValues"},{default:(0,a.withCtx)((()=>[Mee])),_:1})]),(0,a.createElementVNode)("div",Tee,[(0,a.createVNode)(B,{color:"red-7",value:"2500,00",suffix:"%",align:"right"})]),(0,a.createElementVNode)("div",kee,[(0,a.createVNode)(B,{color:"red-7",placeholder:"2050,00",prefix:"R$",align:"right"})])]),(0,a.createElementVNode)("div",Dee,[(0,a.createElementVNode)("div",qee,[(0,a.createVNode)(p,{class:"titleOtherValues"},{default:(0,a.withCtx)((()=>[Fee])),_:1})]),(0,a.createElementVNode)("div",Pee,[(0,a.createVNode)(B,{color:"red-7",placeholder:"2050,00",suffix:"%",align:"right"})]),(0,a.createElementVNode)("div",Aee,[(0,a.createVNode)(B,{color:"red-7",placeholder:"2050,00",prefix:"R$",align:"right"})])]),(0,a.createElementVNode)("div",Bee,[(0,a.createElementVNode)("div",Lee,[(0,a.createVNode)(p,{class:"titleOtherValues"},{default:(0,a.withCtx)((()=>[Oee])),_:1})]),(0,a.createElementVNode)("div",zee,[(0,a.createVNode)(O,{modelValue:r.selectPC,"onUpdate:modelValue":o[63]||(o[63]=e=>r.selectPC=e),placeholder:"Tipo",radio:"",color:"red-7",class:"text-body2",options:r.selectOptionsPC},null,8,["modelValue","options"])]),(0,a.createElementVNode)("div",jee,[(0,a.createVNode)(B,{color:"red-7",placeholder:"250,00",suffix:"%",align:"right"})]),(0,a.createElementVNode)("div",$ee,[(0,a.createVNode)(B,{color:"red-7",placeholder:"250,00",prefix:"R$",align:"right"})])]),(0,a.createElementVNode)("div",Uee,[(0,a.createElementVNode)("div",Zee,[(0,a.createVNode)(p,{class:"titleOtherValues"},{default:(0,a.withCtx)((()=>[Qee])),_:1})]),(0,a.createElementVNode)("div",Ree,[(0,a.createVNode)(B,{color:"red-7",placeholder:"250,00",prefix:"R$",align:"right"})])])])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(L,{color:"red-7","text-color":"white",class:"no-shadow q-my-md full-width",style:{"border-radius":"0"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{color:"white",dark:"",value:"55,00",class:"no-shadow",borderless:"",prefix:"Total",align:"right"})])),_:1}),(0,a.createVNode)(L,{color:"red-6","text-color":"white",class:"no-shadow full-width",style:{"border-radius":"0"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Gee,[Hee,(0,a.createElementVNode)("div",Jee,[Yee,(0,a.createVNode)(C),Xee])])])),_:1})]),(0,a.createVNode)(d,{class:"float-right q-mx-sm",color:"primary",icon:"call_split",label:"Parcelar"})]),(0,a.createElementVNode)("div",Wee,[(0,a.createElementVNode)("div",Kee,[(0,a.createVNode)(E,{class:"row"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"col-12 col-md-6 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[eoe])),_:1})])),_:1}),(0,a.createVNode)(w,{label:"Fulana de tal"},{default:(0,a.withCtx)((()=>[ooe])),_:1}),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"search",color:"red"})])),_:1})])),_:1}),(0,a.createVNode)(I,{class:"col-12 col-md-6 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(j,{icon:"business"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(O,{borderless:"",modelValue:r.selectPC,"onUpdate:modelValue":o[64]||(o[64]=e=>r.selectPC=e),label:"Empresa",class:"text-body2",radio:"",options:r.selectOptionsPC},null,8,["modelValue","options"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(I,{class:"row no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)($,{color:"warning",small:"",class:"q-ma-none"},{default:(0,a.withCtx)((()=>[toe])),_:1}),(0,a.createVNode)($,{color:"primary",small:"",class:"q-mx-sm"},{default:(0,a.withCtx)((()=>[aoe])),_:1}),(0,a.createVNode)($,{color:"primary",small:"",class:"q-mx-sm"},{default:(0,a.withCtx)((()=>[ioe])),_:1})])),_:1}),(0,a.createVNode)(I,{class:"no-border col-12"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{type:"textarea",label:"Descrição","max-height":100,class:"bg-white",rows:"1"})])),_:1})])),_:1}),r.checkedDetails?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(I,{key:0,class:"col-12 col-md-12 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(U,{label:"Vencimento",type:"date",modelValue:r.selectPC,"onUpdate:modelValue":o[65]||(o[65]=e=>r.selectPC=e),class:"text-body2 full-width"},null,8,["modelValue"])])),_:1})),r.checkedDetails?((0,a.openBlock)(),(0,a.createBlock)(I,{key:1,class:"col-12 col-md-6 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(U,{label:"Vencimento",type:"date",modelValue:r.selectPC,"onUpdate:modelValue":o[66]||(o[66]=e=>r.selectPC=e),class:"text-body2 full-width"},null,8,["modelValue"])])),_:1})):(0,a.createCommentVNode)("",!0),r.checkedDetails?((0,a.openBlock)(),(0,a.createBlock)(I,{key:2,class:"col-12 col-md-6 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(U,{label:"Vencimento Original",type:"date",modelValue:r.selectPC,"onUpdate:modelValue":o[67]||(o[67]=e=>r.selectPC=e),class:"text-body2 full-width"},null,8,["modelValue"])])),_:1})):(0,a.createCommentVNode)("",!0),r.checkedDetails?((0,a.openBlock)(),(0,a.createBlock)(I,{key:3,class:"col-12 col-md-6 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(U,{label:"Competência",type:"date",modelValue:r.selectPC,"onUpdate:modelValue":o[68]||(o[68]=e=>r.selectPC=e),class:"text-body2 full-width"},null,8,["modelValue"])])),_:1})):(0,a.createCommentVNode)("",!0),r.checkedDetails?((0,a.openBlock)(),(0,a.createBlock)(I,{key:4,class:"col-12 col-md-6 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(U,{label:"Emissão",type:"date",modelValue:r.selectPC,"onUpdate:modelValue":o[69]||(o[69]=e=>r.selectPC=e),class:"text-body2 full-width"},null,8,["modelValue"])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(I,{class:"col-12 col-md-6",style:{"border-bottom":"none"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(O,{modelValue:r.selectPC,"onUpdate:modelValue":o[70]||(o[70]=e=>r.selectPC=e),label:"Plano de Contas",radio:"",options:r.selectOptionsPC,class:"text-body2 full-width"},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,a.createVNode)(I,{class:"col-12 col-md-6",style:{"border-bottom":"none"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(O,{modelValue:r.selectPC,"onUpdate:modelValue":o[71]||(o[71]=e=>r.selectPC=e),label:"Centro de Custo",radio:"",options:r.selectOptionsPC,class:"text-body2 full-width"},null,8,["modelValue","options"])])),_:1})])),_:1}),r.checkedDetails?((0,a.openBlock)(),(0,a.createBlock)(I,{key:5,class:"col-12 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{type:"textarea",label:"Observações","max-height":100,class:"bg-cinza q-pa-sm text-body2 full-width",rows:"2"})])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])])]),r.checkedDetails?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,rounded:"",dense:"",flat:"",icon:"keyboard_arrow_up",size:"xs",class:"no-shadow q-ma-xs",color:"grey",style:{margin:"0 auto",display:"block",padding:"0 12px 0 4px"},label:"Detalhes",onClick:o[72]||(o[72]=e=>r.checkedDetails=!r.checkedDetails)})):(0,a.createCommentVNode)("",!0),r.checkedDetails?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,rounded:"",dense:"",flat:"",icon:"keyboard_arrow_down",size:"xs",class:"no-shadow q-ma-xs",color:"grey",style:{margin:"0 auto",display:"block",padding:"0 12px 0 4px"},label:"Detalhes",onClick:o[73]||(o[73]=e=>r.checkedDetails=!r.checkedDetails)}))])),_:1}),(0,a.createElementVNode)("div",roe,[(0,a.createVNode)(u,{class:"bg-white no-shadow col-12 col-md-12 q-pa-md q-px-md full-height"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[loe])),_:1}),(0,a.createElementVNode)("div",soe,[(0,a.createVNode)(d,{flat:"",color:"primary",size:"md",label:"Gerar Boleto",icon:"add"})]),(0,a.createElementVNode)("div",noe,[(0,a.createVNode)(d,{flat:"",color:"primary",size:"md",icon:"print"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[coe])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",color:"primary",size:"md",icon:"print"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[doe])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",color:"red",size:"md",icon:"gavel"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[moe])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",color:"white","text-color":"red",size:"md",icon:"pan_tool"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[uoe])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",color:"white","text-color":"grey",size:"md",icon:"delete"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[poe])),_:1})])),_:1})]),(0,a.createVNode)(E,{highlight:"",style:{padding:"0"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{header:""},{default:(0,a.withCtx)((()=>[hoe,Coe,voe])),_:1}),(0,a.createElementVNode)("a",{onClick:o[74]||(o[74]=o=>e.openedSangria=!0),class:"q-item",style:""},[(0,a.createVNode)(b,{icon:"add",color:"blue"}),(0,a.createVNode)(w,{label:"15/10/2018"},{default:(0,a.withCtx)((()=>[foe])),_:1}),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[Noe])),_:1})]),(0,a.createElementVNode)("a",{onClick:o[75]||(o[75]=o=>e.openedSangria=!0),class:"q-item"},[(0,a.createVNode)(b,{icon:"gavel",color:"red"}),(0,a.createVNode)(w,{label:"25/10/2018"},{default:(0,a.withCtx)((()=>[Voe])),_:1})]),(0,a.createElementVNode)("a",{onClick:o[76]||(o[76]=o=>e.openedSangria=!0),class:"q-item"},[(0,a.createVNode)(b,{icon:"attach_money",color:"red"}),(0,a.createVNode)(w,{label:"27/10/2018"},{default:(0,a.withCtx)((()=>[goe])),_:1}),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[xoe])),_:1})])])),_:1})])),_:1})])]),(0,a.createVNode)(u,{class:"row q-pb-md q-mb-md bg-white no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",boe,[(0,a.createVNode)(n,{class:"q-mt-lg"},{default:(0,a.withCtx)((()=>[woe])),_:1}),(0,a.createElementVNode)("div",_oe,[(0,a.createVNode)(Z,{multiple:"",url:"","upload-factory":e.uploadFile,class:"full-width"},null,8,["upload-factory"])]),(0,a.createElementVNode)("div",yoe,[(0,a.createElementVNode)("div",Ioe,[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[Eoe])),_:1}),(0,a.createVNode)(d,{flat:"",rounded:"",dense:"",icon:"delete",color:"grey ",class:"float-right"})])])])])),_:1}),(0,a.createVNode)(g,{swipeable:"",class:"bg-cinza q-mb-md roundedB",color:"cinza","text-color":"light-blue-9"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{default:"",name:"tab-1",label:"Liquidar"}),(0,a.createVNode)(V,{name:"tab-2",label:"Movimentação"}),(0,a.createVNode)(V,{name:"tab-3",label:"Relacionados"}),(0,a.createVNode)(D,{name:"tab-1",class:"bg-white"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Soe,[(0,a.createVNode)(E,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"noborder"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Moe,[(0,a.createElementVNode)("div",Toe,[(0,a.createVNode)(O,{modelValue:r.dados.foneselect,"onUpdate:modelValue":o[77]||(o[77]=e=>r.dados.foneselect=e),label:"Forma de Pagamento",radio:"",options:r.dados.fonetipo},null,8,["modelValue","options"])]),(0,a.createElementVNode)("div",koe,[(0,a.createVNode)(B,{label:"Valor",modelValue:r.dados.fone,"onUpdate:modelValue":o[78]||(o[78]=e=>r.dados.fone=e),class:"text-body2"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Doe,[(0,a.createVNode)(B,{class:"col text-body2",label:"Parcelas",modelValue:r.dados.fonedesc,"onUpdate:modelValue":o[79]||(o[79]=e=>r.dados.fonedesc=e)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",qoe,[(0,a.createVNode)(B,{class:"col text-body2",label:"Data",modelValue:r.dados.fonedesc,"onUpdate:modelValue":o[80]||(o[80]=e=>r.dados.fonedesc=e)},null,8,["modelValue"])]),(0,a.createVNode)(d,{flat:"",round:"",dense:"",icon:"add",color:"red",class:"btadd q-mt-none"})])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(E,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"noborder"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Foe,[Poe,Aoe,Boe,Loe,(0,a.createVNode)(d,{flat:"",round:"",dense:"",icon:"close",color:"red",style:{position:"absolute",right:"16px",top:"0px",border:"1px solid darkgray"}})])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(E,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"noborder"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{style:{"text-align":"right !important",width:"100%"}},{default:(0,a.withCtx)((()=>[Ooe,zoe])),_:1})])),_:1})])),_:1})])])),_:1}),(0,a.createVNode)(D,{name:"tab-2",class:"bg-white"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",joe,[(0,a.createVNode)(E,{highlight:"",class:"col-12 col-md-6 q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{header:""},{default:(0,a.withCtx)((()=>[$oe,Uoe,Zoe])),_:1}),(0,a.createElementVNode)("a",{onClick:o[81]||(o[81]=o=>e.openedSangria=!0),class:"q-item",style:""},[(0,a.createVNode)(b,{icon:"compare_arrows",color:"red"}),(0,a.createVNode)(w,{label:"1002 - BB Ag 3312 CC 107143"},{default:(0,a.withCtx)((()=>[Qoe])),_:1}),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[Roe])),_:1})]),(0,a.createElementVNode)("a",{onClick:o[82]||(o[82]=o=>e.openedSangria=!0),class:"q-item"},[(0,a.createVNode)(b,{icon:"compare_arrows",color:"red"}),(0,a.createVNode)(w,{label:"1001 - Dinheiro"},{default:(0,a.withCtx)((()=>[Goe])),_:1}),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[Hoe])),_:1})]),(0,a.createVNode)(b,{right:"",style:{padding:"0 16px"}},{default:(0,a.withCtx)((()=>[Joe])),_:1})])),_:1}),(0,a.createVNode)(E,{highlight:"",class:"col-12 col-md-6 q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{header:""},{default:(0,a.withCtx)((()=>[Yoe,Xoe,Woe])),_:1}),(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"compare_arrows",color:"grey"}),(0,a.createVNode)(w,{label:"1102 - Título a Receber"},{default:(0,a.withCtx)((()=>[Koe])),_:1}),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[ete])),_:1})])),_:1}),(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"compare_arrows",color:"grey"}),(0,a.createVNode)(w,{label:"1108 - Multa e Juros"},{default:(0,a.withCtx)((()=>[ote])),_:1}),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[tte])),_:1})])),_:1}),(0,a.createVNode)(b,{right:"",style:{padding:"0 16px"}},{default:(0,a.withCtx)((()=>[ate])),_:1})])),_:1})])])),_:1}),(0,a.createVNode)(D,{name:"tab-3",class:"bg-white"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ite,[(0,a.createVNode)(Q,{label:"25/11/2018"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",null,[(0,a.createVNode)(u,{class:"extratoItem bg-white q-mb-md q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",rte,[(0,a.createElementVNode)("div",lte,[(0,a.createElementVNode)("div",ste,[nte,(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[cte,dte])),_:1}),(0,a.createVNode)($,{rounded:"",color:"grey",small:"",class:"q-ma-sm float-left q-my-sm"},{default:(0,a.withCtx)((()=>[mte])),_:1}),(0,a.createVNode)($,{rounded:"",color:"primary",small:"",class:"q-ma-sm float-left q-my-sm"},{default:(0,a.withCtx)((()=>[ute])),_:1}),pte])]),hte,(0,a.createElementVNode)("div",Cte,[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[vte])),_:1}),fte,Nte,Vte]),(0,a.createElementVNode)("div",gte,[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[xte])),_:1}),bte,wte,_te]),(0,a.createElementVNode)("div",yte,[Ite,(0,a.createVNode)(d,{rounded:"",dense:"",flat:"",icon:"delete",color:"primary",class:"no-shadow q-ma-xs",size:"md",style:{float:"right"}}),(0,a.createVNode)(d,{rounded:"",dense:"",flat:"",icon:"edit",color:"primary",class:"no-shadow q-ma-xs",size:"md",onClick:o[83]||(o[83]=e=>r.openedTitulo=!0),style:{float:"right"}}),(0,a.createVNode)(d,{rounded:"",dense:"",flat:"",icon:"attach_money",class:"no-shadow q-ma-xs",size:"md",color:"primary",style:{float:"right"}}),(0,a.createElementVNode)("div",Ete,[(0,a.createVNode)(x,{modelValue:r.checkedTitulo,"onUpdate:modelValue":o[84]||(o[84]=e=>r.checkedTitulo=e),color:"primary"},null,8,["modelValue"])]),(0,a.createVNode)(d,{rounded:"",dense:"",flat:"",icon:"keyboard_arrow_down",size:"md",class:"no-shadow q-ma-xs",color:"grey",style:{float:"right"},onClick:o[85]||(o[85]=e=>r.showMoreDetails=!r.showMoreDetails)})])]),r.showMoreDetails?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ste,[(0,a.createElementVNode)("div",Mte,[(0,a.createElementVNode)("div",Tte,[(0,a.createVNode)(n,{style:{clear:"left",margin:"6px 0 0 -16px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"business"}),kte])),_:1}),Dte])]),qte,(0,a.createElementVNode)("div",Fte,[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Pte])),_:1}),Ate,Bte,Lte]),(0,a.createElementVNode)("div",Ote,[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[zte])),_:1}),jte,$te,Ute]),Zte])):(0,a.createCommentVNode)("",!0)])),_:1})]),Qte])),_:1})])])),_:1})])),_:1})])])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(H,{modelValue:r.openedTitulo,"onUpdate:modelValue":o[111]||(o[111]=e=>r.openedTitulo=e),maximized:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(G,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{reveal:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"BarraTopo"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(d,{flat:"",round:"",dense:"",icon:"arrow_back"},null,512),[[K]]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[Rte])),_:1}),(0,a.createVNode)(d,{color:"white","text-color":"primary",class:"no-shadow",label:"Salvar"})])),_:1})])),_:1}),(0,a.createVNode)(R,{class:"layout-padding q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(P,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Gte,[(0,a.createElementVNode)("div",Hte,[(0,a.createElementVNode)("div",Jte,[(0,a.createVNode)(u,{class:"col-12 col-md-8 bg-white q-pb-md no-shadow reverse"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Yte,[(0,a.createElementVNode)("div",Xte,[(0,a.createElementVNode)("div",Wte,[(0,a.createVNode)(L,{color:"green-8","text-color":"white",class:"no-shadow q-mb-md full-width"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{color:"white",dark:"",value:"55,00",class:'no-shadow q-title"',borderless:"",prefix:"Valor",align:"right"})])),_:1}),r.checkedDetails||r.checkedVO?((0,a.openBlock)(),(0,a.createBlock)(L,{key:0,color:"green-7","text-color":"white",class:"no-shadow q-mb-md full-width"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{color:"white",dark:"",value:"55,00",class:"no-shadow q-title",borderless:"",prefix:"Valor Original",align:"right"})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",{onClick:o[87]||(o[87]=e=>r.checkedVO=!r.checkedVO),class:"full-width"},[(0,a.createVNode)(p,{class:"valorOriginal q-pa-sm text-body2",style:{"background-color":"#e8f5e9"}},{right:(0,a.withCtx)((()=>[eae])),default:(0,a.withCtx)((()=>[r.checkedVO?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,name:"arrow_drop_up"})):(0,a.createCommentVNode)("",!0),r.checkedVO?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(h,{key:1,name:"arrow_drop_down"})),Kte])),_:1})]),r.checkedDetails||r.checkedVO?((0,a.openBlock)(),(0,a.createBlock)(z,{key:1,style:{"background-color":"#e8f5e9"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",oae,[(0,a.createElementVNode)("div",tae,[(0,a.createElementVNode)("div",aae,[(0,a.createVNode)(p,{class:"titleOtherValues"},{default:(0,a.withCtx)((()=>[iae])),_:1})]),(0,a.createElementVNode)("div",rae,[(0,a.createVNode)(B,{color:"green-7",class:"text-subtitle1",value:"2500,00",suffix:"%",align:"right"})]),(0,a.createElementVNode)("div",lae,[(0,a.createVNode)(B,{color:"green-7",class:"text-subtitle1",placeholder:"2050,00",prefix:"R$",align:"right"})])]),(0,a.createElementVNode)("div",sae,[(0,a.createElementVNode)("div",nae,[(0,a.createVNode)(p,{class:"titleOtherValues"},{default:(0,a.withCtx)((()=>[cae])),_:1})]),(0,a.createElementVNode)("div",dae,[(0,a.createVNode)(B,{color:"green-7",class:"text-subtitle1",placeholder:"2050,00",suffix:"%",align:"right"})]),(0,a.createElementVNode)("div",mae,[(0,a.createVNode)(B,{color:"green-7",class:"text-subtitle1",placeholder:"2050,00",prefix:"R$",align:"right"})])]),(0,a.createElementVNode)("div",uae,[(0,a.createElementVNode)("div",pae,[(0,a.createVNode)(p,{class:"titleOtherValues"},{default:(0,a.withCtx)((()=>[hae])),_:1})]),(0,a.createElementVNode)("div",Cae,[(0,a.createVNode)(O,{modelValue:r.selectPC,"onUpdate:modelValue":o[88]||(o[88]=e=>r.selectPC=e),placeholder:"Tipo",radio:"",color:"green-7",class:"text-body2",options:r.selectOptionsPC},null,8,["modelValue","options"])]),(0,a.createElementVNode)("div",vae,[(0,a.createVNode)(B,{color:"green-7",class:"text-subtitle1",placeholder:"250,00",suffix:"%",align:"right"})]),(0,a.createElementVNode)("div",fae,[(0,a.createVNode)(B,{color:"green-7",class:"text-subtitle1",placeholder:"250,00",prefix:"R$",align:"right"})])]),(0,a.createElementVNode)("div",Nae,[(0,a.createElementVNode)("div",Vae,[(0,a.createVNode)(p,{class:"titleOtherValues"},{default:(0,a.withCtx)((()=>[gae])),_:1})]),(0,a.createElementVNode)("div",xae,[(0,a.createVNode)(B,{color:"green-7",class:"text-subtitle1",placeholder:"250,00",prefix:"R$",align:"right"})])])])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(L,{color:"green-7","text-color":"white",class:"no-shadow q-my-md full-width",style:{"border-radius":"0"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{color:"white",dark:"",value:"55,00",class:"no-shadow text-subtitle1",borderless:"",prefix:"Total",align:"right"})])),_:1}),(0,a.createVNode)(L,{color:"green-6","text-color":"white",class:"no-shadow full-width",style:{"border-radius":"0"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",bae,[wae,(0,a.createElementVNode)("div",_ae,[yae,(0,a.createVNode)(C),Iae])])])),_:1})]),(0,a.createVNode)(d,{class:"float-right q-mx-sm",color:"primary",icon:"call_split",label:"Parcelar"})]),(0,a.createElementVNode)("div",Eae,[(0,a.createElementVNode)("div",Sae,[(0,a.createVNode)(E,{class:"row no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"col-12 col-md-6 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[Mae])),_:1})])),_:1}),(0,a.createVNode)(w,{label:"Fulana de tal"},{default:(0,a.withCtx)((()=>[Tae])),_:1}),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"search",color:"green"})])),_:1})])),_:1}),(0,a.createVNode)(I,{class:"col-12 col-md-6 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(j,{icon:"business"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(O,{borderless:"",modelValue:r.selectPC,"onUpdate:modelValue":o[89]||(o[89]=e=>r.selectPC=e),label:"Empresa",class:"text-body2",radio:"",options:r.selectOptionsPC},null,8,["modelValue","options"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(I,{class:"row no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(J,{color:"warning",small:"",class:"q-ma-none"},{default:(0,a.withCtx)((()=>[kae])),_:1}),(0,a.createVNode)(J,{color:"primary",small:"",class:"q-mx-sm"},{default:(0,a.withCtx)((()=>[Dae])),_:1}),(0,a.createVNode)(J,{color:"primary",small:"",class:"q-mx-sm"},{default:(0,a.withCtx)((()=>[qae])),_:1})])),_:1}),(0,a.createVNode)(I,{class:"no-border col-12"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{type:"textarea",label:"Descrição","max-height":100,class:"bg-white",rows:"1"})])),_:1})])),_:1}),r.checkedDetails?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(I,{key:0,class:"col-12 col-md-12 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(U,{label:"Vencimento",type:"date",modelValue:r.selectPC,"onUpdate:modelValue":o[90]||(o[90]=e=>r.selectPC=e),class:"text-body2 full-width"},null,8,["modelValue"])])),_:1})),r.checkedDetails?((0,a.openBlock)(),(0,a.createBlock)(I,{key:1,class:"col-12 col-md-6 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(U,{label:"Vencimento",type:"date",modelValue:r.selectPC,"onUpdate:modelValue":o[91]||(o[91]=e=>r.selectPC=e),class:"text-body2 full-width"},null,8,["modelValue"])])),_:1})):(0,a.createCommentVNode)("",!0),r.checkedDetails?((0,a.openBlock)(),(0,a.createBlock)(I,{key:2,class:"col-12 col-md-6 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(U,{label:"Vencimento Original",type:"date",modelValue:r.selectPC,"onUpdate:modelValue":o[92]||(o[92]=e=>r.selectPC=e),class:"text-body2 full-width"},null,8,["modelValue"])])),_:1})):(0,a.createCommentVNode)("",!0),r.checkedDetails?((0,a.openBlock)(),(0,a.createBlock)(I,{key:3,class:"col-12 col-md-6 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(U,{label:"Competência",type:"date",modelValue:r.selectPC,"onUpdate:modelValue":o[93]||(o[93]=e=>r.selectPC=e),class:"text-body2 full-width"},null,8,["modelValue"])])),_:1})):(0,a.createCommentVNode)("",!0),r.checkedDetails?((0,a.openBlock)(),(0,a.createBlock)(I,{key:4,class:"col-12 col-md-6 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(U,{label:"Emissão",type:"date",modelValue:r.selectPC,"onUpdate:modelValue":o[94]||(o[94]=e=>r.selectPC=e),class:"text-body2 full-width"},null,8,["modelValue"])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(I,{class:"col-12 col-md-6",style:{"border-bottom":"none"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(O,{modelValue:r.selectPC,"onUpdate:modelValue":o[95]||(o[95]=e=>r.selectPC=e),label:"Plano de Contas",radio:"",options:r.selectOptionsPC,class:"text-body2 full-width"},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,a.createVNode)(I,{class:"col-12 col-md-6",style:{"border-bottom":"none"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(O,{modelValue:r.selectPC,"onUpdate:modelValue":o[96]||(o[96]=e=>r.selectPC=e),label:"Centro de Custo",radio:"",options:r.selectOptionsPC,class:"text-body2 full-width"},null,8,["modelValue","options"])])),_:1})])),_:1}),r.checkedDetails?((0,a.openBlock)(),(0,a.createBlock)(I,{key:5,class:"col-12 no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{type:"textarea",label:"Observações","max-height":100,class:"bg-cinza q-pa-sm text-body2 full-width",rows:"2"})])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])])]),r.checkedDetails?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,rounded:"",dense:"",flat:"",icon:"keyboard_arrow_up",size:"xs",class:"no-shadow q-ma-xs",color:"grey",style:{margin:"0 auto",display:"block",padding:"0 12px 0 4px"},label:"Detalhes",onClick:o[97]||(o[97]=e=>r.checkedDetails=!r.checkedDetails)})):(0,a.createCommentVNode)("",!0),r.checkedDetails?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,rounded:"",dense:"",flat:"",icon:"keyboard_arrow_down",size:"xs",class:"no-shadow q-ma-xs",color:"grey",style:{margin:"0 auto",display:"block",padding:"0 12px 0 4px"},label:"Detalhes",onClick:o[98]||(o[98]=e=>r.checkedDetails=!r.checkedDetails)}))])),_:1}),(0,a.createElementVNode)("div",Fae,[(0,a.createVNode)(u,{class:"bg-white no-shadow col-12 col-md-12 q-pa-md q-px-md full-height"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[Pae])),_:1}),(0,a.createElementVNode)("div",Aae,[(0,a.createVNode)(d,{flat:"",color:"primary",size:"md",label:"Gerar Boleto",icon:"add"})]),(0,a.createElementVNode)("div",Bae,[(0,a.createVNode)(d,{flat:"",color:"primary",size:"md",icon:"print"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Lae])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",color:"primary",size:"md",icon:"print"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Oae])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",color:"red",size:"md",icon:"gavel"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[zae])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",color:"white","text-color":"red",size:"md",icon:"pan_tool"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[jae])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",color:"white","text-color":"grey",size:"md",icon:"delete"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[$ae])),_:1})])),_:1})]),(0,a.createVNode)(E,{highlight:"",class:"no-border q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{header:""},{default:(0,a.withCtx)((()=>[Uae,Zae,Qae])),_:1}),(0,a.createElementVNode)("a",{onClick:o[99]||(o[99]=o=>e.openedSangria=!0),class:"q-item",style:""},[(0,a.createVNode)(b,{icon:"add",color:"blue"}),(0,a.createVNode)(w,{label:"15/10/2018"},{default:(0,a.withCtx)((()=>[Rae])),_:1}),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[Gae])),_:1})]),(0,a.createElementVNode)("a",{onClick:o[100]||(o[100]=o=>e.openedSangria=!0),class:"q-item"},[(0,a.createVNode)(b,{icon:"gavel",color:"red"}),(0,a.createVNode)(w,{label:"25/10/2018"},{default:(0,a.withCtx)((()=>[Hae])),_:1})]),(0,a.createElementVNode)("a",{onClick:o[101]||(o[101]=o=>e.openedSangria=!0),class:"q-item"},[(0,a.createVNode)(b,{icon:"attach_money",color:"green"}),(0,a.createVNode)(w,{label:"27/10/2018"},{default:(0,a.withCtx)((()=>[Jae])),_:1}),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[Yae])),_:1})])])),_:1})])),_:1})])]),(0,a.createVNode)(u,{class:"row q-pb-md q-mb-md bg-white no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Xae,[(0,a.createVNode)(n,{class:"q-mt-lg"},{default:(0,a.withCtx)((()=>[Wae])),_:1}),(0,a.createElementVNode)("div",Kae,[(0,a.createVNode)(Z,{multiple:"",url:"","upload-factory":e.uploadFile,class:"full-width"},null,8,["upload-factory"])]),(0,a.createElementVNode)("div",eie,[(0,a.createElementVNode)("div",oie,[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[tie])),_:1}),(0,a.createVNode)(d,{flat:"",rounded:"",dense:"",icon:"delete",color:"grey ",class:"float-right"})])])])])),_:1}),(0,a.createVNode)(g,{swipeable:"",class:"bg-cinza q-mb-md roundedB",color:"cinza","text-color":"light-blue-9"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{default:"",name:"tab-1",label:"Liquidar"}),(0,a.createVNode)(V,{name:"tab-2",label:"Movimentação"}),(0,a.createVNode)(V,{name:"tab-3",label:"Relacionados"}),(0,a.createVNode)(D,{name:"tab-1",class:"bg-white"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",aie,[(0,a.createVNode)(E,{class:"no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"noborder"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",iie,[(0,a.createElementVNode)("div",rie,[(0,a.createVNode)(O,{modelValue:r.dados.foneselect,"onUpdate:modelValue":o[102]||(o[102]=e=>r.dados.foneselect=e),label:"Forma de Pagamento",radio:"",options:r.dados.fonetipo},null,8,["modelValue","options"])]),(0,a.createElementVNode)("div",lie,[(0,a.createVNode)(B,{label:"Valor",modelValue:r.dados.fone,"onUpdate:modelValue":o[103]||(o[103]=e=>r.dados.fone=e),class:"text-body2"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",sie,[(0,a.createVNode)(B,{class:"col text-body2",label:"Parcelas",modelValue:r.dados.fonedesc,"onUpdate:modelValue":o[104]||(o[104]=e=>r.dados.fonedesc=e)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",nie,[(0,a.createVNode)(B,{class:"col text-body2",label:"Data",modelValue:r.dados.fonedesc,"onUpdate:modelValue":o[105]||(o[105]=e=>r.dados.fonedesc=e)},null,8,["modelValue"])]),(0,a.createVNode)(d,{flat:"",round:"",dense:"",icon:"add",color:"green",class:"btadd q-mt-none"})])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(E,{class:"noborder"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"noborder"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",cie,[die,mie,uie,pie,(0,a.createVNode)(d,{flat:"",round:"",dense:"",icon:"close",color:"red",style:{position:"absolute",right:"16px",top:"0px",border:"1px solid darkgray"}})])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(E,{class:"no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"noborder"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{style:{"text-align":"right !important",width:"100%"}},{default:(0,a.withCtx)((()=>[hie,Cie])),_:1})])),_:1})])),_:1})])])),_:1}),(0,a.createVNode)(D,{name:"tab-2",class:"bg-white"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",vie,[(0,a.createVNode)(E,{highlight:"",class:"col-12 col-md-6 q-pa-none no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{header:""},{default:(0,a.withCtx)((()=>[fie,Nie,Vie])),_:1}),(0,a.createElementVNode)("a",{onClick:o[106]||(o[106]=o=>e.openedSangria=!0),class:"q-item",style:""},[(0,a.createVNode)(b,{icon:"compare_arrows",color:"green"}),(0,a.createVNode)(w,{label:"1002 - BB Ag 3312 CC 107143"},{default:(0,a.withCtx)((()=>[gie])),_:1}),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[xie])),_:1})]),(0,a.createElementVNode)("a",{onClick:o[107]||(o[107]=o=>e.openedSangria=!0),class:"q-item"},[(0,a.createVNode)(b,{icon:"compare_arrows",color:"green"}),(0,a.createVNode)(w,{label:"1001 - Dinheiro"},{default:(0,a.withCtx)((()=>[bie])),_:1}),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[wie])),_:1})]),(0,a.createVNode)(b,{right:"",style:{padding:"0 16px"}},{default:(0,a.withCtx)((()=>[_ie])),_:1})])),_:1}),(0,a.createVNode)(E,{highlight:"",class:"col-12 col-md-6 no-border q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{header:""},{default:(0,a.withCtx)((()=>[yie,Iie,Eie])),_:1}),(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"compare_arrows",color:"grey"}),(0,a.createVNode)(w,{label:"1102 - Título a Receber"},{default:(0,a.withCtx)((()=>[Sie])),_:1}),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[Mie])),_:1})])),_:1}),(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"compare_arrows",color:"grey"}),(0,a.createVNode)(w,{label:"1108 - Multa e Juros"},{default:(0,a.withCtx)((()=>[Tie])),_:1}),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[kie])),_:1})])),_:1}),(0,a.createVNode)(b,{right:"",style:{padding:"0 16px"}},{default:(0,a.withCtx)((()=>[Die])),_:1})])),_:1})])])),_:1}),(0,a.createVNode)(D,{name:"tab-3",class:"bg-white"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",qie,[(0,a.createVNode)(Q,{label:"25/11/2018"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",null,[(0,a.createVNode)(u,{class:"extratoItem bg-white q-mb-md q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Fie,[(0,a.createElementVNode)("div",Pie,[(0,a.createElementVNode)("div",Aie,[Bie,(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[Lie,Oie])),_:1}),(0,a.createVNode)(J,{rounded:"",color:"grey",small:"",class:"q-ma-sm float-left q-my-sm"},{default:(0,a.withCtx)((()=>[zie])),_:1}),(0,a.createVNode)(J,{rounded:"",color:"primary",small:"",class:"q-ma-sm float-left q-my-sm"},{default:(0,a.withCtx)((()=>[jie])),_:1}),$ie])]),Uie,(0,a.createElementVNode)("div",Zie,[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Qie])),_:1}),Rie,Gie,Hie]),(0,a.createElementVNode)("div",Jie,[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Yie])),_:1}),Xie,Wie,Kie]),(0,a.createElementVNode)("div",ere,[ore,(0,a.createVNode)(d,{rounded:"",dense:"",flat:"",icon:"delete",color:"primary",class:"no-shadow q-ma-xs",size:"md",style:{float:"right"}}),(0,a.createVNode)(d,{rounded:"",dense:"",flat:"",icon:"edit",color:"primary",class:"no-shadow q-ma-xs",size:"md",onClick:o[108]||(o[108]=e=>r.openedTitulo=!0),style:{float:"right"}}),(0,a.createVNode)(d,{rounded:"",dense:"",flat:"",icon:"attach_money",class:"no-shadow q-ma-xs",size:"md",color:"primary",style:{float:"right"}}),(0,a.createElementVNode)("div",tre,[(0,a.createVNode)(x,{modelValue:r.checkedTitulo,"onUpdate:modelValue":o[109]||(o[109]=e=>r.checkedTitulo=e),color:"primary"},null,8,["modelValue"])]),(0,a.createVNode)(d,{rounded:"",dense:"",flat:"",icon:"keyboard_arrow_down",size:"md",class:"no-shadow q-ma-xs",color:"grey",style:{float:"right"},onClick:o[110]||(o[110]=e=>r.showMoreDetails=!r.showMoreDetails)})])]),r.showMoreDetails?((0,a.openBlock)(),(0,a.createElementBlock)("div",are,[(0,a.createElementVNode)("div",ire,[(0,a.createElementVNode)("div",rre,[(0,a.createVNode)(n,{style:{clear:"left",margin:"6px 0 0 -16px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"business"}),lre])),_:1}),sre])]),nre,(0,a.createElementVNode)("div",cre,[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[dre])),_:1}),mre,ure,pre]),(0,a.createElementVNode)("div",hre,[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Cre])),_:1}),vre,fre,Nre]),Vre])):(0,a.createCommentVNode)("",!0)])),_:1})]),gre])),_:1})])])),_:1})])),_:1})])])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(H,{modelValue:r.openedExtratoCartao,"onUpdate:modelValue":o[119]||(o[119]=e=>r.openedExtratoCartao=e),maximized:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(G,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{round:"",color:"primary",class:"fixed hideondesktop",icon:"add",size:"lg",style:{right:"18px",bottom:"18px","z-index":"9999"}}),(0,a.createVNode)(A,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"minh30 bg-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",xre,[(0,a.createVNode)(d,{icon:"keyboard_arrow_left",round:"",flat:"","text-color":"primary"}),(0,a.createVNode)(d,{icon:"credit_card",label:"Cartão X",flat:"","text-color":"primary"}),(0,a.createVNode)(d,{icon:"keyboard_arrow_right",round:"",flat:"","text-color":"primary"})])])),_:1})])),_:1}),(0,a.createVNode)(m,{class:"bg-primary"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(d,{flat:"",dense:"",round:"",color:"white",icon:"arrow_back"},null,512),[[K]]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{debounce:500,ref:"buscaCampo",color:"none",filled:"",dark:"",placeholder:"Buscar",style:{"max-width":"1170px",margin:"2px auto"}},null,512)])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"add",round:"",class:"hideonmobile",color:"white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[bre])),_:1})])),_:1}),(0,a.createVNode)(d,{icon:"mdi-filter",flat:"",dense:"",round:"",class:"no-shadow q-px-xs",onClick:o[112]||(o[112]=e=>r.showFiltersModal=!r.showFiltersModal),color:"white"})])),_:1})])),_:1}),(0,a.createVNode)(R,{class:"layout-padding q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(P,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{color:"none","text-color":"dark",class:"q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[113]||(o[113]=e=>r.checkboxModel=e)},null,8,["modelValue"]),(0,a.createVNode)(d,{flat:"",dense:"",icon:"arrow_drop_down",size:"md",color:"dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"label",color:"tertiary",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[wre])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"delete",color:"tertiary",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[_re])),_:1})])),_:1}),(0,a.createVNode)(n),(0,a.createVNode)(d,{dense:"",flat:"",icon:"swap_vert",round:"",color:"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Alfabetica"})])),_:1}),(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Data"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"mdi-download",color:"tertiary",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[yre])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"print",color:"tertiary",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Ire])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"more_vert",round:"",size:"md",color:"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(g,{class:"text-primary bg-transparent",align:"left","active-color":"primary","indicator-color":"primary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{name:"tab-4",label:"NOV/2020",default:""}),(0,a.createVNode)(V,{name:"tab-5",label:"OUT/2020"})])),_:1}),(0,a.createVNode)(E,{highlight:"",class:"no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{header:"",class:"text-weight-bold"},{default:(0,a.withCtx)((()=>[Ere])),_:1}),(0,a.createVNode)(I,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"compare_arrows",class:"text-red"})])),_:1}),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[Sre])),_:1}),(0,a.createVNode)(w,{caption:""},{default:(0,a.withCtx)((()=>[Mre])),_:1})])),_:1}),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{style:{margin:"0","text-align":"right",color:"red"},class:"text-weight-bold"},{default:(0,a.withCtx)((()=>[Tre])),_:1}),(0,a.createVNode)(w,{caption:"",style:{margin:"0","text-align":"right"}},{default:(0,a.withCtx)((()=>[kre])),_:1})])),_:1}),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:"edit",flat:"",dense:"",round:"",class:"buttons hideonmobile"}),(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:"",class:"buttons hideonmobile"}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"more_vert",round:"",size:"md",class:"morevert"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(I,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"compare_arrows",class:"text-green"})])),_:1}),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[Dre])),_:1}),(0,a.createVNode)(w,{caption:""},{default:(0,a.withCtx)((()=>[qre])),_:1})])),_:1}),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{style:{margin:"0","text-align":"right",color:"red"},class:"text-weight-bold"},{default:(0,a.withCtx)((()=>[Fre])),_:1}),(0,a.createVNode)(w,{caption:"",style:{margin:"0","text-align":"right"}},{default:(0,a.withCtx)((()=>[Pre])),_:1})])),_:1}),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:"edit",flat:"",dense:"",round:"",class:"buttons hideonmobile"}),(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:"",class:"buttons hideonmobile"}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"more_vert",round:"",size:"md",class:"morevert"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(X,{id:"mydrawerFME",modelValue:r.showFiltersModal,"onUpdate:modelValue":o[118]||(o[118]=e=>r.showFiltersModal=e),side:"right",overlay:"","content-class":"mydrawerFME"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{color:"white","text-color":"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"mdi-filter",color:"tertiary"}),(0,a.createVNode)(n,{class:"text-subtitle1"},{default:(0,a.withCtx)((()=>[Are])),_:1}),(0,a.createVNode)(d,{dense:"",flat:"",icon:"close",round:"",onClick:o[114]||(o[114]=e=>r.showFiltersModal=!r.showFiltersModal)})])),_:1}),(0,a.createElementVNode)("div",Bre,[(0,a.createElementVNode)("div",Lre,[Ore,(0,a.createVNode)(Y,{modelValue:r.empresas.selected,"onUpdate:modelValue":o[115]||(o[115]=e=>r.empresas.selected=e),class:"no-shadow full-width",multiple:"",color:"transparent",placeholder:"Buscar empresa","chips-color":"white","chips-bg-color":"primary",style:{"border-bottom":"1px solid white"}},null,8,["modelValue"])]),(0,a.createElementVNode)("div",zre,[jre,(0,a.createElementVNode)("div",$re,[(0,a.createVNode)(U,{modelValue:r.filtro.periodo.ini,"onUpdate:modelValue":o[116]||(o[116]=e=>r.filtro.periodo.ini=e),type:"date",minimal:"",prefix:"De",class:"no-shadow full-width q-px-none text-body1",style:{"border-bottom":"1px solid white"}},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Ure,[(0,a.createVNode)(U,{modelValue:r.filtro.periodo.fim,"onUpdate:modelValue":o[117]||(o[117]=e=>r.filtro.periodo.fim=e),type:"date",minimal:"",prefix:"até",class:"no-shadow full-width q-px-none text-body1",style:{"border-bottom":"1px solid white"}},null,8,["modelValue"])])]),(0,a.createElementVNode)("div",Zre,[(0,a.createVNode)(d,{class:"col-12",color:"primary",label:"Aplicar"})])])])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(H,{modelValue:r.openedExtrato,"onUpdate:modelValue":o[127]||(o[127]=e=>r.openedExtrato=e),maximized:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(G,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{round:"",color:"primary",class:"fixed hideondesktop",icon:"add",size:"lg",style:{right:"18px",bottom:"18px","z-index":"9999"}}),(0,a.createVNode)(A,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"minh30 bg-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Qre,[(0,a.createVNode)(d,{icon:"keyboard_arrow_left",round:"",flat:"","text-color":"primary"}),(0,a.createVNode)(d,{icon:"credit_card",label:"Conta X",flat:"","text-color":"primary"}),(0,a.createVNode)(d,{icon:"keyboard_arrow_right",round:"",flat:"","text-color":"primary"})])])),_:1})])),_:1}),(0,a.createVNode)(m,{class:"bg-primary"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(d,{flat:"",dense:"",round:"",color:"white",icon:"arrow_back"},null,512),[[K]]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{debounce:500,ref:"buscaCampo",color:"none",filled:"",dark:"",placeholder:"Buscar",style:{"max-width":"1170px",margin:"2px auto"}},null,512)])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"add",round:"",class:"hideonmobile",color:"white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Rre])),_:1})])),_:1}),(0,a.createVNode)(d,{icon:"mdi-filter",flat:"",dense:"",round:"",class:"no-shadow q-px-xs",onClick:o[120]||(o[120]=e=>r.showFiltersModal=!r.showFiltersModal),color:"white"})])),_:1})])),_:1}),(0,a.createVNode)(R,{class:"layout-padding q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(P,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{color:"none","text-color":"dark",class:"q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[121]||(o[121]=e=>r.checkboxModel=e)},null,8,["modelValue"]),(0,a.createVNode)(d,{flat:"",dense:"",icon:"arrow_drop_down",size:"md",color:"dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"label",color:"tertiary",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Gre])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"delete",color:"tertiary",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Hre])),_:1})])),_:1}),(0,a.createVNode)(n),(0,a.createVNode)(d,{dense:"",flat:"",icon:"swap_vert",round:"",color:"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Alfabetica"})])),_:1}),(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Data"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"mdi-download",color:"tertiary",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Jre])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"print",color:"tertiary",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Yre])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"more_vert",round:"",size:"md",color:"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(g,{class:"text-primary bg-transparent",align:"left","active-color":"primary","indicator-color":"primary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{name:"tab-4",label:"NOV/2020",default:""}),(0,a.createVNode)(V,{name:"tab-5",label:"OUT/2020"})])),_:1}),(0,a.createVNode)(E,{highlight:"",class:"no-border"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{header:"",class:"text-weight-bold"},{default:(0,a.withCtx)((()=>[Xre])),_:1}),(0,a.createVNode)(I,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"compare_arrows",class:"text-red"})])),_:1}),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[Wre])),_:1}),(0,a.createVNode)(w,{caption:""},{default:(0,a.withCtx)((()=>[Kre])),_:1})])),_:1}),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{style:{margin:"0","text-align":"right",color:"red"},class:"text-weight-bold"},{default:(0,a.withCtx)((()=>[ele])),_:1}),(0,a.createVNode)(w,{caption:"",style:{margin:"0","text-align":"right"}},{default:(0,a.withCtx)((()=>[ole])),_:1})])),_:1}),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:"edit",flat:"",dense:"",round:"",class:"buttons hideonmobile"}),(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:"",class:"buttons hideonmobile"}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"more_vert",round:"",size:"md",class:"morevert"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(I,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"compare_arrows",class:"text-green"})])),_:1}),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[tle])),_:1}),(0,a.createVNode)(w,{caption:""},{default:(0,a.withCtx)((()=>[ale])),_:1})])),_:1}),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{style:{margin:"0","text-align":"right",color:"red"},class:"text-weight-bold"},{default:(0,a.withCtx)((()=>[ile])),_:1}),(0,a.createVNode)(w,{caption:"",style:{margin:"0","text-align":"right"}},{default:(0,a.withCtx)((()=>[rle])),_:1})])),_:1}),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"primary",size:"md",icon:"edit",flat:"",dense:"",round:"",class:"buttons hideonmobile"}),(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:"",class:"buttons hideonmobile"}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"more_vert",round:"",size:"md",class:"morevert"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(X,{id:"mydrawerFME",modelValue:r.showFiltersModal,"onUpdate:modelValue":o[126]||(o[126]=e=>r.showFiltersModal=e),side:"right",overlay:"","content-class":"mydrawerFME"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{color:"white","text-color":"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"mdi-filter",color:"tertiary"}),(0,a.createVNode)(n,{class:"text-subtitle1"},{default:(0,a.withCtx)((()=>[lle])),_:1}),(0,a.createVNode)(d,{dense:"",flat:"",icon:"close",round:"",onClick:o[122]||(o[122]=e=>r.showFiltersModal=!r.showFiltersModal)})])),_:1}),(0,a.createElementVNode)("div",sle,[(0,a.createElementVNode)("div",nle,[cle,(0,a.createVNode)(Y,{modelValue:r.empresas.selected,"onUpdate:modelValue":o[123]||(o[123]=e=>r.empresas.selected=e),class:"no-shadow full-width",multiple:"",color:"transparent",placeholder:"Buscar empresa","chips-color":"white","chips-bg-color":"primary",style:{"border-bottom":"1px solid white"}},null,8,["modelValue"])]),(0,a.createElementVNode)("div",dle,[mle,(0,a.createElementVNode)("div",ule,[(0,a.createVNode)(U,{modelValue:r.filtro.periodo.ini,"onUpdate:modelValue":o[124]||(o[124]=e=>r.filtro.periodo.ini=e),type:"date",minimal:"",prefix:"De",class:"no-shadow full-width q-px-none text-body1",style:{"border-bottom":"1px solid white"}},null,8,["modelValue"])]),(0,a.createElementVNode)("div",ple,[(0,a.createVNode)(U,{modelValue:r.filtro.periodo.fim,"onUpdate:modelValue":o[125]||(o[125]=e=>r.filtro.periodo.fim=e),type:"date",minimal:"",prefix:"até",class:"no-shadow full-width q-px-none text-body1",style:{"border-bottom":"1px solid white"}},null,8,["modelValue"])])]),(0,a.createElementVNode)("div",hle,[(0,a.createVNode)(d,{class:"col-12",color:"primary",label:"Aplicar"})])])])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(H,{modelValue:r.openedReceitas,"onUpdate:modelValue":o[180]||(o[180]=e=>r.openedReceitas=e),maximized:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(G,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"minh30 bg-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Cle,[(0,a.createVNode)(d,{icon:"keyboard_arrow_left",round:"",flat:"","text-color":"positive"}),(0,a.createVNode)(d,{icon:"event_available",label:"Outubro/2020",flat:"","text-color":"positive",onClick:o[128]||(o[128]=e=>r.openedPeriodo=!0)}),(0,a.createVNode)(d,{icon:"keyboard_arrow_right",round:"",flat:"","text-color":"positive"})]),(0,a.createElementVNode)("div",vle,[fle,(0,a.createVNode)(m,{color:"transparent",dark:"",class:"q-px-none minh30"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-body1 text-weight-bold text-dark q-px-none"},{default:(0,a.withCtx)((()=>[Nle,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Vle])),_:1})])),_:1}),(0,a.createElementVNode)("small",gle,[xle,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[ble])),_:1})])])),_:1})])])),_:1})])),_:1}),(0,a.createVNode)(m,{class:"bg-positive"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(d,{flat:"",dense:"",round:"",color:"white",icon:"arrow_back"},null,512),[[K]]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{debounce:500,ref:"buscaCampo",color:"none",dark:"",placeholder:"Buscar",filled:"",style:{"max-width":"1170px",margin:"2px auto"}},null,512)])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"add",round:"",class:"hideonmobile",color:"white",onClick:o[129]||(o[129]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[wle])),_:1})])),_:1}),(0,a.createVNode)(d,{icon:"mdi-filter",flat:"",dense:"",round:"",class:"no-shadow q-px-xs",onClick:o[130]||(o[130]=e=>r.showFiltersModal=!r.showFiltersModal),color:"white"})])),_:1})])),_:1}),(0,a.createVNode)(R,{class:"layout-padding q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(P,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{round:"",class:"fixed hideondesktop bg-positive",icon:"add",size:"lg",style:{right:"18px",bottom:"18px","z-index":"9999"},onClick:o[131]||(o[131]=e=>r.openedTitulo=!0)}),(0,a.createVNode)(m,{class:"q-py-sm text-tertiary bg-transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[132]||(o[132]=e=>r.checkboxModel=e)},null,8,["modelValue"]),(0,a.createVNode)(d,{flat:"",dense:"",icon:"arrow_drop_down",size:"md",color:"dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"label",color:"tertiary",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[_le])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"delete",color:"tertiary",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[yle])),_:1})])),_:1}),(0,a.createVNode)(n),(0,a.createVNode)(d,{flat:"",dense:"",icon:e.showAllPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",color:"tertiary",round:"",onClick:o[133]||(o[133]=e=>l.abrirTodosPreview())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Ile])),_:1})])),_:1},8,["icon"]),(0,a.createVNode)(d,{dense:"",flat:"",icon:"swap_vert",round:"",color:"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Alfabetica"})])),_:1}),(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Data"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"mdi-download",color:"tertiary",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Ele])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"print",color:"tertiary",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Sle])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"more_vert",round:"",size:"md",color:"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(g,{modelValue:r.tabsModelR,"onUpdate:modelValue":o[134]||(o[134]=e=>r.tabsModelR=e),align:"left",class:"text-green bg-transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{name:"xtab-1R",label:"Receber",default:""}),(0,a.createVNode)(V,{name:"xtab-2R",label:"Recebido"}),(0,a.createVNode)(V,{name:"xtab-3R",label:"Todas"})])),_:1},8,["modelValue"]),(0,a.createVNode)(D,{modelValue:r.tabsModelR,"onUpdate:modelValue":o[174]||(o[174]=e=>r.tabsModelR=e),swipeable:"",class:"bg-transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{name:"xtab-1R",class:"q-pa-none",style:{"border-top":"1px solid #e0e0e0"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Mle,[(0,a.createVNode)(y,{class:"q-col-gutter-x-md q-ma-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Tle,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[135]||(o[135]=o=>e.terms=o),placeholder:"Empresa",color:"positive",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",kle,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[136]||(o[136]=o=>e.terms=o),placeholder:"Receber de ",color:"positive",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Dle,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[137]||(o[137]=o=>e.terms=o),placeholder:"Categoria",color:"positive",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",qle,[(0,a.createVNode)(W,{modelValue:e.data,"onUpdate:modelValue":o[138]||(o[138]=o=>e.data=o),maxlength:"10",placeholder:"Data",tipo:"data",color:"positive"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Fle,[(0,a.createVNode)(W,{modelValue:e.valor,"onUpdate:modelValue":o[139]||(o[139]=o=>e.valor=o),tipo:"dinheiro",placeholder:"Valor",color:"positive"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Ple,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[140]||(o[140]=o=>e.terms=o),placeholder:"Conta",color:"positive",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Ale,[(0,a.createVNode)(d,{color:"positive",icon:"add",label:"Adicionar",outline:"",size:"md",class:"q-mt-xs q-mr-md"})])])),_:1})]),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(E,{class:"q-py-none qListaItems bg-transparent",key:e},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"itemLista text-dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:"",class:"sidecheckbox"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[141]||(o[141]=e=>r.checkboxModel=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(b,{avatar:"",onClick:o[142]||(o[142]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:e.photo,tamanho:"30"},null,8,["imagem"])])),_:2},1024),(0,a.createVNode)(b,{label:e.name,class:"hideondesktop",onClick:o[143]||(o[143]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[Ble])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[Lle])),_:1})])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{label:e.name,class:"hideonmobile",onClick:o[144]||(o[144]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[Ole])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[zle])),_:1})])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{class:"hideonmobile",onClick:o[145]||(o[145]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:e.showPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",flat:"",dense:"",round:"",class:"buttons",onClick:o=>e.showPreviewDetail=!e.showPreviewDetail},null,8,["icon","onClick"]),(0,a.createVNode)(d,{color:"primary",size:"md",icon:"edit",flat:"",dense:"",round:"",class:"buttons",onClick:o[146]||(o[146]=e=>r.openedTitulo=!0)}),(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:"",class:"buttons"}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"more_vert",round:"",size:"md",class:"morevert"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1024),e.showPreviewDetail?((0,a.openBlock)(),(0,a.createBlock)(I,{key:0,class:"text-dark q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[jle])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[$le])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[Ule])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[Zle])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[Qle])),_:1}),(0,a.createVNode)(b,{stamp:""},{default:(0,a.withCtx)((()=>[Rle])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[Gle])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[Hle])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[Jle])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[Yle])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[Xle])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[Wle])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(M)])),_:2},1024)))),128)),(0,a.createVNode)(T,{input:"",color:"dark",modelValue:r.page,"onUpdate:modelValue":o[147]||(o[147]=e=>r.page=e),min:r.minPages,max:r.maxPages,class:"justify-center q-mb-sm"},null,8,["modelValue","min","max"])])),_:1}),(0,a.createVNode)(k,{name:"xtab-2R",class:"q-pa-none",style:{"border-top":"1px solid #e0e0e0"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Kle,[(0,a.createVNode)(y,{class:"q-col-gutter-x-md q-ma-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ese,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[148]||(o[148]=o=>e.terms=o),placeholder:"Empresa",color:"positive",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",ose,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[149]||(o[149]=o=>e.terms=o),placeholder:"Receber de ",color:"positive",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",tse,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[150]||(o[150]=o=>e.terms=o),placeholder:"Categoria",color:"positive",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",ase,[(0,a.createVNode)(W,{modelValue:e.data,"onUpdate:modelValue":o[151]||(o[151]=o=>e.data=o),maxlength:"10",placeholder:"Data",tipo:"data",color:"positive"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",ise,[(0,a.createVNode)(W,{modelValue:e.valor,"onUpdate:modelValue":o[152]||(o[152]=o=>e.valor=o),tipo:"dinheiro",placeholder:"Valor",color:"positive"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",rse,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[153]||(o[153]=o=>e.terms=o),placeholder:"Conta",color:"positive",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",lse,[(0,a.createVNode)(d,{color:"positive",icon:"add",label:"Adicionar",outline:"",size:"md",class:"q-mt-xs q-mr-md"})])])),_:1})]),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(E,{class:"q-py-none qListaItems bg-transparent",key:e},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"itemLista text-dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:"",class:"sidecheckbox"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[154]||(o[154]=e=>r.checkboxModel=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(b,{avatar:"",onClick:o[155]||(o[155]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:e.photo,tamanho:"30"},null,8,["imagem"])])),_:2},1024),(0,a.createVNode)(b,{label:e.name,class:"hideondesktop",onClick:o[156]||(o[156]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[sse])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[nse])),_:1})])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{label:e.name,class:"hideonmobile",onClick:o[157]||(o[157]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[cse])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[dse])),_:1})])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{class:"hideonmobile",onClick:o[158]||(o[158]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:e.showPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",flat:"",dense:"",round:"",class:"buttons",onClick:o=>e.showPreviewDetail=!e.showPreviewDetail},null,8,["icon","onClick"]),(0,a.createVNode)(d,{color:"primary",size:"md",icon:"edit",flat:"",dense:"",round:"",class:"buttons",onClick:o[159]||(o[159]=e=>r.openedTitulo=!0)}),(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:"",class:"buttons"}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"more_vert",round:"",size:"md",class:"morevert"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1024),e.showPreviewDetail?((0,a.openBlock)(),(0,a.createBlock)(I,{key:0,class:"text-dark q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[mse])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[use])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[pse])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[hse])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[Cse])),_:1}),(0,a.createVNode)(b,{stamp:""},{default:(0,a.withCtx)((()=>[vse])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[fse])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[Nse])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[Vse])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[gse])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[xse])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[bse])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(M)])),_:2},1024)))),128)),(0,a.createVNode)(T,{input:"",color:"dark",modelValue:r.page,"onUpdate:modelValue":o[160]||(o[160]=e=>r.page=e),min:r.minPages,max:r.maxPages,class:"justify-center q-mb-sm"},null,8,["modelValue","min","max"])])),_:1}),(0,a.createVNode)(k,{name:"xtab-3R",class:"q-pa-none",style:{"border-top":"1px solid #e0e0e0"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",wse,[(0,a.createVNode)(y,{class:"q-col-gutter-x-md q-ma-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",_se,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[161]||(o[161]=o=>e.terms=o),placeholder:"Empresa",color:"positive",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",yse,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[162]||(o[162]=o=>e.terms=o),placeholder:"Receber de ",color:"positive",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Ise,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[163]||(o[163]=o=>e.terms=o),placeholder:"Categoria",color:"positive",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Ese,[(0,a.createVNode)(W,{modelValue:e.data,"onUpdate:modelValue":o[164]||(o[164]=o=>e.data=o),maxlength:"10",placeholder:"Data",tipo:"data",color:"positive"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Sse,[(0,a.createVNode)(W,{modelValue:e.valor,"onUpdate:modelValue":o[165]||(o[165]=o=>e.valor=o),tipo:"dinheiro",placeholder:"Valor",color:"positive"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Mse,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[166]||(o[166]=o=>e.terms=o),placeholder:"Conta",color:"positive",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Tse,[(0,a.createVNode)(d,{color:"positive",icon:"add",label:"Adicionar",outline:"",size:"md",class:"q-mt-xs q-mr-md"})])])),_:1})]),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(E,{class:"q-py-none qListaItems bg-transparent",key:e},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"itemLista text-dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:"",class:"sidecheckbox"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[167]||(o[167]=e=>r.checkboxModel=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(b,{avatar:"",onClick:o[168]||(o[168]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:e.photo,tamanho:"30"},null,8,["imagem"])])),_:2},1024),(0,a.createVNode)(b,{label:e.name,class:"hideondesktop",onClick:o[169]||(o[169]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[kse])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[Dse])),_:1})])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{label:e.name,class:"hideonmobile",onClick:o[170]||(o[170]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[qse])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[Fse])),_:1})])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{class:"hideonmobile",onClick:o[171]||(o[171]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:e.showPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",flat:"",dense:"",round:"",class:"buttons",onClick:o=>e.showPreviewDetail=!e.showPreviewDetail},null,8,["icon","onClick"]),(0,a.createVNode)(d,{color:"primary",size:"md",icon:"edit",flat:"",dense:"",round:"",class:"buttons",onClick:o[172]||(o[172]=e=>r.openedTitulo=!0)}),(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:"",class:"buttons"}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"more_vert",round:"",size:"md",class:"morevert"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1024),e.showPreviewDetail?((0,a.openBlock)(),(0,a.createBlock)(I,{key:0,class:"text-dark q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[Pse])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[Ase])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[Bse])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[Lse])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[Ose])),_:1}),(0,a.createVNode)(b,{stamp:""},{default:(0,a.withCtx)((()=>[zse])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[jse])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[$se])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[Use])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[Zse])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[Qse])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[Rse])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(M)])),_:2},1024)))),128)),(0,a.createVNode)(T,{input:"",color:"dark",modelValue:r.page,"onUpdate:modelValue":o[173]||(o[173]=e=>r.page=e),min:r.minPages,max:r.maxPages,class:"justify-center q-mb-sm"},null,8,["modelValue","min","max"])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.createVNode)(X,{id:"mydrawerFM",modelValue:r.showFiltersModal,"onUpdate:modelValue":o[179]||(o[179]=e=>r.showFiltersModal=e),side:"right",overlay:"","content-class":"mydrawerFM"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{color:"white","text-color":"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"mdi-filter",color:"tertiary"}),(0,a.createVNode)(n,{class:"text-subtitle1"},{default:(0,a.withCtx)((()=>[Gse])),_:1}),(0,a.createVNode)(d,{dense:"",flat:"",icon:"close",round:"",onClick:o[175]||(o[175]=e=>r.showFiltersModal=!r.showFiltersModal)})])),_:1}),(0,a.createElementVNode)("div",Hse,[(0,a.createElementVNode)("div",Jse,[Yse,(0,a.createVNode)(Y,{modelValue:r.empresas.selected,"onUpdate:modelValue":o[176]||(o[176]=e=>r.empresas.selected=e),class:"no-shadow full-width",multiple:"",color:"transparent",placeholder:"Buscar empresa","chips-color":"white","chips-bg-color":"primary",style:{"border-bottom":"1px solid white"}},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Xse,[Wse,(0,a.createElementVNode)("div",Kse,[(0,a.createVNode)(U,{modelValue:r.filtro.periodo.ini,"onUpdate:modelValue":o[177]||(o[177]=e=>r.filtro.periodo.ini=e),type:"date",minimal:"",prefix:"De",class:"no-shadow full-width q-px-none text-body1",style:{"border-bottom":"1px solid white"}},null,8,["modelValue"])]),(0,a.createElementVNode)("div",ene,[(0,a.createVNode)(U,{modelValue:r.filtro.periodo.fim,"onUpdate:modelValue":o[178]||(o[178]=e=>r.filtro.periodo.fim=e),type:"date",minimal:"",prefix:"até",class:"no-shadow full-width q-px-none text-body1",style:{"border-bottom":"1px solid white"}},null,8,["modelValue"])])]),(0,a.createElementVNode)("div",one,[(0,a.createVNode)(d,{class:"col-12",color:"primary",label:"Aplicar"})])])])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(H,{modelValue:r.openedDespesas,"onUpdate:modelValue":o[233]||(o[233]=e=>r.openedDespesas=e),maximized:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(G,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"minh30 bg-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",tne,[(0,a.createVNode)(d,{icon:"keyboard_arrow_left",round:"",flat:"","text-color":"negative"}),(0,a.createVNode)(d,{icon:"event_available",label:"Outubro/2020",flat:"","text-color":"negative",onClick:o[181]||(o[181]=e=>r.openedPeriodo=!0)}),(0,a.createVNode)(d,{icon:"keyboard_arrow_right",round:"",flat:"","text-color":"negative"})]),(0,a.createElementVNode)("div",ane,[ine,(0,a.createVNode)(m,{color:"transparent",dark:"",class:"q-px-none minh30"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-body1 text-weight-bold text-dark q-px-none"},{default:(0,a.withCtx)((()=>[rne,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[lne])),_:1})])),_:1}),(0,a.createElementVNode)("small",sne,[nne,(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[cne])),_:1})])])),_:1})])])),_:1})])),_:1}),(0,a.createVNode)(m,{class:"bg-negative"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(d,{flat:"",dense:"",round:"",color:"white",icon:"arrow_back"},null,512),[[K]]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{debounce:500,ref:"buscaCampo",color:"none",dark:"",placeholder:"Buscar",filled:"",style:{"max-width":"1170px",margin:"2px auto"}},null,512)])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"add",round:"",class:"hideonmobile",color:"white",onClick:o[182]||(o[182]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[dne])),_:1})])),_:1}),(0,a.createVNode)(d,{icon:"mdi-filter",flat:"",dense:"",round:"",class:"no-shadow q-px-xs",onClick:o[183]||(o[183]=e=>r.showFiltersModal=!r.showFiltersModal),color:"white"})])),_:1})])),_:1}),(0,a.createVNode)(R,{class:"layout-padding q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(P,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{round:"",class:"fixed hideondesktop bg-negative",icon:"add",size:"lg",style:{right:"18px",bottom:"18px","z-index":"9999"},onClick:o[184]||(o[184]=e=>r.openedTitulo=!0)}),(0,a.createVNode)(m,{class:"q-py-sm text-tertiary bg-transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[185]||(o[185]=e=>r.checkboxModel=e)},null,8,["modelValue"]),(0,a.createVNode)(d,{flat:"",dense:"",icon:"arrow_drop_down",size:"md",color:"dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"label",color:"tertiary",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[mne])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"delete",color:"tertiary",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[une])),_:1})])),_:1}),(0,a.createVNode)(n),(0,a.createVNode)(d,{flat:"",dense:"",icon:e.showAllPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",color:"tertiary",round:"",onClick:o[186]||(o[186]=e=>l.abrirTodosPreview())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[pne])),_:1})])),_:1},8,["icon"]),(0,a.createVNode)(d,{dense:"",flat:"",icon:"swap_vert",round:"",color:"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Alfabetica"})])),_:1}),(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Data"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"mdi-download",color:"tertiary",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[hne])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"print",color:"tertiary",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Cne])),_:1})])),_:1}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"more_vert",round:"",size:"md",color:"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(g,{modelValue:r.tabsModelR,"onUpdate:modelValue":o[187]||(o[187]=e=>r.tabsModelR=e),align:"left",class:"text-negative bg-transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{name:"xtab-1R",label:"Receber",default:""}),(0,a.createVNode)(V,{name:"xtab-2R",label:"Recebido"}),(0,a.createVNode)(V,{name:"xtab-3R",label:"Todas"})])),_:1},8,["modelValue"]),(0,a.createVNode)(D,{modelValue:r.tabsModelR,"onUpdate:modelValue":o[227]||(o[227]=e=>r.tabsModelR=e),swipeable:"",class:"bg-transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{name:"xtab-1R",class:"q-pa-none",style:{"border-top":"1px solid #e0e0e0"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",vne,[(0,a.createVNode)(y,{class:"q-col-gutter-x-md q-ma-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",fne,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[188]||(o[188]=o=>e.terms=o),placeholder:"Empresa",color:"negative",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Nne,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[189]||(o[189]=o=>e.terms=o),placeholder:"Receber de ",color:"negative",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Vne,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[190]||(o[190]=o=>e.terms=o),placeholder:"Categoria",color:"negative",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",gne,[(0,a.createVNode)(W,{modelValue:e.data,"onUpdate:modelValue":o[191]||(o[191]=o=>e.data=o),maxlength:"10",placeholder:"Data",tipo:"data",color:"negative"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",xne,[(0,a.createVNode)(W,{modelValue:e.valor,"onUpdate:modelValue":o[192]||(o[192]=o=>e.valor=o),tipo:"dinheiro",placeholder:"Valor",color:"negative"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",bne,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[193]||(o[193]=o=>e.terms=o),placeholder:"Conta",color:"negative",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",wne,[(0,a.createVNode)(d,{color:"negative",icon:"add",label:"Adicionar",outline:"",size:"md",class:"q-mt-xs q-mr-md"})])])),_:1})]),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(E,{class:"q-py-none qListaItems bg-transparent",key:e},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"itemLista text-dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:"",class:"sidecheckbox"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[194]||(o[194]=e=>r.checkboxModel=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(b,{avatar:"",onClick:o[195]||(o[195]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:e.photo,tamanho:"30"},null,8,["imagem"])])),_:2},1024),(0,a.createVNode)(b,{label:e.name,class:"hideondesktop",onClick:o[196]||(o[196]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"negative"},{default:(0,a.withCtx)((()=>[_ne])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[yne])),_:1})])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{label:e.name,class:"hideonmobile",onClick:o[197]||(o[197]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"negative"},{default:(0,a.withCtx)((()=>[Ine])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[Ene])),_:1})])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{class:"hideonmobile",onClick:o[198]||(o[198]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:e.showPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",flat:"",dense:"",round:"",class:"buttons",onClick:o=>e.showPreviewDetail=!e.showPreviewDetail},null,8,["icon","onClick"]),(0,a.createVNode)(d,{color:"primary",size:"md",icon:"edit",flat:"",dense:"",round:"",class:"buttons",onClick:o[199]||(o[199]=e=>r.openedTitulo=!0)}),(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:"",class:"buttons"}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"more_vert",round:"",size:"md",class:"morevert"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1024),e.showPreviewDetail?((0,a.openBlock)(),(0,a.createBlock)(I,{key:0,class:"text-dark q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[Sne])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[Mne])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"negative"},{default:(0,a.withCtx)((()=>[Tne])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[kne])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[Dne])),_:1}),(0,a.createVNode)(b,{stamp:""},{default:(0,a.withCtx)((()=>[qne])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"negative"},{default:(0,a.withCtx)((()=>[Fne])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[Pne])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[Ane])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[Bne])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"negative"},{default:(0,a.withCtx)((()=>[Lne])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[One])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(M)])),_:2},1024)))),128)),(0,a.createVNode)(T,{input:"",color:"dark",modelValue:r.page,"onUpdate:modelValue":o[200]||(o[200]=e=>r.page=e),min:r.minPages,max:r.maxPages,class:"justify-center q-mb-sm"},null,8,["modelValue","min","max"])])),_:1}),(0,a.createVNode)(k,{name:"xtab-2R",class:"q-pa-none",style:{"border-top":"1px solid #e0e0e0"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",zne,[(0,a.createVNode)(y,{class:"q-col-gutter-x-md q-ma-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",jne,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[201]||(o[201]=o=>e.terms=o),placeholder:"Empresa",color:"negative",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",$ne,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[202]||(o[202]=o=>e.terms=o),placeholder:"Receber de ",color:"negative",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Une,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[203]||(o[203]=o=>e.terms=o),placeholder:"Categoria",color:"negative",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Zne,[(0,a.createVNode)(W,{modelValue:e.data,"onUpdate:modelValue":o[204]||(o[204]=o=>e.data=o),maxlength:"10",placeholder:"Data",tipo:"data",color:"negative"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Qne,[(0,a.createVNode)(W,{modelValue:e.valor,"onUpdate:modelValue":o[205]||(o[205]=o=>e.valor=o),tipo:"dinheiro",placeholder:"Valor",color:"negative"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Rne,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[206]||(o[206]=o=>e.terms=o),placeholder:"Conta",color:"negative",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Gne,[(0,a.createVNode)(d,{color:"negative",icon:"add",label:"Adicionar",outline:"",size:"md",class:"q-mt-xs q-mr-md"})])])),_:1})]),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(E,{class:"q-py-none qListaItems bg-transparent",key:e},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"itemLista text-dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:"",class:"sidecheckbox"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[207]||(o[207]=e=>r.checkboxModel=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(b,{avatar:"",onClick:o[208]||(o[208]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:e.photo,tamanho:"30"},null,8,["imagem"])])),_:2},1024),(0,a.createVNode)(b,{label:e.name,class:"hideondesktop",onClick:o[209]||(o[209]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"negative"},{default:(0,a.withCtx)((()=>[Hne])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[Jne])),_:1})])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{label:e.name,class:"hideonmobile",onClick:o[210]||(o[210]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"negative"},{default:(0,a.withCtx)((()=>[Yne])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[Xne])),_:1})])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{class:"hideonmobile",onClick:o[211]||(o[211]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:e.showPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",flat:"",dense:"",round:"",class:"buttons",onClick:o=>e.showPreviewDetail=!e.showPreviewDetail},null,8,["icon","onClick"]),(0,a.createVNode)(d,{color:"primary",size:"md",icon:"edit",flat:"",dense:"",round:"",class:"buttons",onClick:o[212]||(o[212]=e=>r.openedTitulo=!0)}),(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:"",class:"buttons"}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"more_vert",round:"",size:"md",class:"morevert"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1024),e.showPreviewDetail?((0,a.openBlock)(),(0,a.createBlock)(I,{key:0,class:"text-dark q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[Wne])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[Kne])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"negative"},{default:(0,a.withCtx)((()=>[ece])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[oce])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[tce])),_:1}),(0,a.createVNode)(b,{stamp:""},{default:(0,a.withCtx)((()=>[ace])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"negative"},{default:(0,a.withCtx)((()=>[ice])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[rce])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[lce])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[sce])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"negative"},{default:(0,a.withCtx)((()=>[nce])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[cce])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(M)])),_:2},1024)))),128)),(0,a.createVNode)(T,{input:"",color:"dark",modelValue:r.page,"onUpdate:modelValue":o[213]||(o[213]=e=>r.page=e),min:r.minPages,max:r.maxPages,class:"justify-center q-mb-sm"},null,8,["modelValue","min","max"])])),_:1}),(0,a.createVNode)(k,{name:"xtab-3R",class:"q-pa-none",style:{"border-top":"1px solid #e0e0e0"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",dce,[(0,a.createVNode)(y,{class:"q-col-gutter-x-md q-ma-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",mce,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[214]||(o[214]=o=>e.terms=o),placeholder:"Empresa",color:"negative",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",uce,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[215]||(o[215]=o=>e.terms=o),placeholder:"Receber de ",color:"negative",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",pce,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[216]||(o[216]=o=>e.terms=o),placeholder:"Categoria",color:"negative",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",hce,[(0,a.createVNode)(W,{modelValue:e.data,"onUpdate:modelValue":o[217]||(o[217]=o=>e.data=o),maxlength:"10",placeholder:"Data",tipo:"data",color:"negative"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Cce,[(0,a.createVNode)(W,{modelValue:e.valor,"onUpdate:modelValue":o[218]||(o[218]=o=>e.valor=o),tipo:"dinheiro",placeholder:"Valor",color:"negative"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",vce,[(0,a.createVNode)(W,{modelValue:e.terms,"onUpdate:modelValue":o[219]||(o[219]=o=>e.terms=o),placeholder:"Conta",color:"negative",tipo:"texto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",fce,[(0,a.createVNode)(d,{color:"negative",icon:"add",label:"Adicionar",outline:"",size:"md",class:"q-mt-xs q-mr-md"})])])),_:1})]),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(E,{class:"q-py-none qListaItems bg-transparent",key:e},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"itemLista text-dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:"",class:"sidecheckbox"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{modelValue:r.checkboxModel,"onUpdate:modelValue":o[220]||(o[220]=e=>r.checkboxModel=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(b,{avatar:"",onClick:o[221]||(o[221]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:e.photo,tamanho:"30"},null,8,["imagem"])])),_:2},1024),(0,a.createVNode)(b,{label:e.name,class:"hideondesktop",onClick:o[222]||(o[222]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"negative"},{default:(0,a.withCtx)((()=>[Nce])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[Vce])),_:1})])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{label:e.name,class:"hideonmobile",onClick:o[223]||(o[223]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"negative"},{default:(0,a.withCtx)((()=>[gce])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[xce])),_:1})])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(b,{class:"hideonmobile",onClick:o[224]||(o[224]=e=>r.openedTitulo=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.valor),1)])),_:2},1024),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:e.showPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",flat:"",dense:"",round:"",class:"buttons",onClick:o=>e.showPreviewDetail=!e.showPreviewDetail},null,8,["icon","onClick"]),(0,a.createVNode)(d,{color:"primary",size:"md",icon:"edit",flat:"",dense:"",round:"",class:"buttons",onClick:o[225]||(o[225]=e=>r.openedTitulo=!0)}),(0,a.createVNode)(d,{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:"",class:"buttons"}),(0,a.createVNode)(d,{flat:"",dense:"",icon:"more_vert",round:"",size:"md",class:"morevert"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(E,{link:"","no-border":"",separator:"",class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"edit"}),(0,a.createVNode)(w,{label:"Editar"})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1024),e.showPreviewDetail?((0,a.openBlock)(),(0,a.createBlock)(I,{key:0,class:"text-dark q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[bce])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[wce])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"negative"},{default:(0,a.withCtx)((()=>[_ce])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[yce])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[Ice])),_:1}),(0,a.createVNode)(b,{stamp:""},{default:(0,a.withCtx)((()=>[Ece])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"negative"},{default:(0,a.withCtx)((()=>[Sce])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[Mce])),_:1})])),_:1}),(0,a.createVNode)(b,{label:"Linha 2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[Tce])),_:1}),(0,a.createVNode)(w,{stamp:""},{default:(0,a.withCtx)((()=>[kce])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"negative"},{default:(0,a.withCtx)((()=>[Dce])),_:1}),(0,a.createVNode)(_,{class:"q-mr-sm",escuro:"",cor:"primary"},{default:(0,a.withCtx)((()=>[qce])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(M)])),_:2},1024)))),128)),(0,a.createVNode)(T,{input:"",color:"dark",modelValue:r.page,"onUpdate:modelValue":o[226]||(o[226]=e=>r.page=e),min:r.minPages,max:r.maxPages,class:"justify-center q-mb-sm"},null,8,["modelValue","min","max"])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.createVNode)(X,{id:"mydrawerFM",modelValue:r.showFiltersModal,"onUpdate:modelValue":o[232]||(o[232]=e=>r.showFiltersModal=e),side:"right",overlay:"","content-class":"mydrawerFM"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{color:"white","text-color":"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"mdi-filter",color:"tertiary"}),(0,a.createVNode)(n,{class:"text-subtitle1"},{default:(0,a.withCtx)((()=>[Fce])),_:1}),(0,a.createVNode)(d,{dense:"",flat:"",icon:"close",round:"",onClick:o[228]||(o[228]=e=>r.showFiltersModal=!r.showFiltersModal)})])),_:1}),(0,a.createElementVNode)("div",Pce,[(0,a.createElementVNode)("div",Ace,[Bce,(0,a.createVNode)(Y,{modelValue:r.empresas.selected,"onUpdate:modelValue":o[229]||(o[229]=e=>r.empresas.selected=e),class:"no-shadow full-width",multiple:"",color:"transparent",placeholder:"Buscar empresa","chips-color":"white","chips-bg-color":"primary",style:{"border-bottom":"1px solid white"}},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Lce,[Oce,(0,a.createElementVNode)("div",zce,[(0,a.createVNode)(U,{modelValue:r.filtro.periodo.ini,"onUpdate:modelValue":o[230]||(o[230]=e=>r.filtro.periodo.ini=e),type:"date",minimal:"",prefix:"De",class:"no-shadow full-width q-px-none text-body1",style:{"border-bottom":"1px solid white"}},null,8,["modelValue"])]),(0,a.createElementVNode)("div",jce,[(0,a.createVNode)(U,{modelValue:r.filtro.periodo.fim,"onUpdate:modelValue":o[231]||(o[231]=e=>r.filtro.periodo.fim=e),type:"date",minimal:"",prefix:"até",class:"no-shadow full-width q-px-none text-body1",style:{"border-bottom":"1px solid white"}},null,8,["modelValue"])])]),(0,a.createElementVNode)("div",$ce,[(0,a.createVNode)(d,{class:"col-12",color:"primary",label:"Aplicar"})])])])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(H,{modelValue:r.openedPeriodo,"onUpdate:modelValue":o[234]||(o[234]=e=>r.openedPeriodo=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(G,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"bg-primary"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(d,{dense:"",flat:"",color:"white",icon:"arrow_back",round:""},null,512),[[K]]),Uce])),_:1})])),_:1}),(0,a.createVNode)(R,{class:"layout-padding q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(P,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,{class:"no-border q-py-none",highlight:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"q-pa-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"trending_up",dark:"",color:"light","text-color":"positive"}),(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{class:"q-mb-none"},{default:(0,a.withCtx)((()=>[Zce])),_:1})])),_:1}),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{stamp:""},{default:(0,a.withCtx)((()=>[Qce])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(I,{class:"q-pa-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"trending_down",dark:"",color:"light","text-color":"negative"}),(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{class:"q-mb-none"},{default:(0,a.withCtx)((()=>[Rce])),_:1})])),_:1}),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{stamp:""},{default:(0,a.withCtx)((()=>[Gce])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(I,{class:"q-pa-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"trending_up",dark:"",color:"light","text-color":"positive"}),(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{class:"q-mb-none"},{default:(0,a.withCtx)((()=>[Hce])),_:1})])),_:1}),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{stamp:""},{default:(0,a.withCtx)((()=>[Jce])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(I,{class:"q-pa-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{icon:"trending_down",dark:"",color:"light","text-color":"negative"}),(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{class:"q-mb-none"},{default:(0,a.withCtx)((()=>[Yce])),_:1})])),_:1}),(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{stamp:""},{default:(0,a.withCtx)((()=>[Xce])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(X,{id:"mydrawer",modelValue:r.showFilters,"onUpdate:modelValue":o[239]||(o[239]=e=>r.showFilters=e),overlay:"","content-class":"mydrawerFL"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{color:"white","text-color":"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"mdi-filter",color:"tertiary"}),(0,a.createVNode)(n,{class:"text-subtitle1"},{default:(0,a.withCtx)((()=>[Wce])),_:1}),(0,a.createVNode)(d,{dense:"",flat:"",icon:"close",round:"",onClick:o[235]||(o[235]=e=>r.showFilters=!r.showFilters)})])),_:1}),(0,a.createElementVNode)("div",Kce,[(0,a.createElementVNode)("div",ede,[ode,(0,a.createVNode)(Y,{modelValue:r.empresas.selected,"onUpdate:modelValue":o[236]||(o[236]=e=>r.empresas.selected=e),class:"no-shadow full-width",multiple:"",color:"transparent",placeholder:"Buscar empresa","chips-color":"white","chips-bg-color":"primary",style:{"border-bottom":"1px solid white"}},null,8,["modelValue"])]),(0,a.createElementVNode)("div",tde,[ade,(0,a.createElementVNode)("div",ide,[(0,a.createVNode)(U,{modelValue:r.filtro.periodo.ini,"onUpdate:modelValue":o[237]||(o[237]=e=>r.filtro.periodo.ini=e),type:"date",minimal:"",prefix:"De",class:"no-shadow full-width q-px-none text-body1",style:{"border-bottom":"1px solid white"}},null,8,["modelValue"])]),(0,a.createElementVNode)("div",rde,[(0,a.createVNode)(U,{modelValue:r.filtro.periodo.fim,"onUpdate:modelValue":o[238]||(o[238]=e=>r.filtro.periodo.fim=e),type:"date",minimal:"",prefix:"até",class:"no-shadow full-width q-px-none text-body1",style:{"border-bottom":"1px solid white"}},null,8,["modelValue"])])]),(0,a.createElementVNode)("div",lde,[(0,a.createVNode)(d,{class:"col-12",color:"primary",label:"Aplicar"})])])])),_:1},8,["modelValue"])])}]]);Z()(nde,"components",{QPage:se.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QTooltip:Ao.Z,QCard:D.Z,QCarousel:_L.Z,QCarouselSlide:yL.Z,QCardSection:q.Z,QIcon:L.Z,QTabs:ko.Z,QTab:Do.Z,QTabPanels:lr.Z,QTabPanel:sr.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QCheckbox:Hh.Z,QItemLabel:j.Z,QMenu:Bo.Z,QSeparator:$.Z,QPagination:Dp.Z,QTable:nr.Z,QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QPageContainer:le.Z,QInput:re.Z,QCardActions:ag.Z,QSelect:al.Z,QField:Sp.Z,QBadge:B.Z,QDate:Dx.Z,QUploader:yo.Z,QExpansionItem:P.Z,QChip:sb.Z,QDrawer:YM.Z}),Z()(nde,"directives",{ClosePopup:J.Z});const dde=(0,a.createTextVNode)("Adm. Envelope"),mde=(0,a.createTextVNode)(" Filtrar"),ude={class:"q-pa-md"},pde={class:"row overflowXEnvelope filterfalse"},hde={class:"q-pa-none"},Cde={key:0,class:"row"},vde={class:"col-12 q-px-none"},fde={class:"row q-mt-xs"},Nde={class:"col-6"},Vde={class:"col-6 justify-end q-pr-xs",style:{display:"flex"}},gde={class:"text-subtitle1"},xde={key:0,style:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},bde={key:1,class:"text-caption",style:{display:"inline-block","margin-right":"6px"}},wde={class:"col-11"},_de={key:0,style:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},yde={style:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},Ide={class:"text-caption",style:{display:"inline-block","margin-right":"6px"}},Ede=(0,a.createTextVNode)(" Responsável "),Sde={style:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},Mde={class:"text-caption",style:{display:"inline-block"}},Tde={class:"col-1 self-end"},kde=(0,a.createTextVNode)("Pedido ao laboratório Essilor"),Dde=(0,a.createTextVNode)("Consultar pedido Essilor"),qde=(0,a.createTextVNode)("Histórico do Status"),Fde=(0,a.createTextVNode)("Ir para o Atendimento"),Pde={container:"",class:"bg-white"},Ade=(0,a.createTextVNode)("Trocar status Envelope"),Bde={data:()=>({confirmado:!1,descricaoLaboratorio:"",laboratorioErro:!1}),emits:["cancelar","confirmar","update:modelValue"],methods:{async abrirModalLaboratorio(){const e=await $g.promptContato.show({filtro:{ativo:!0,segmento:"Laboratório"},placeholder:"Selecione o laboratório"});e&&this.selecionarLaboratorio(e)},eventoConfirmar(){Fo.gconsole.log("EnvelopeTrocarStatus","eventoConfirmar",this.dados),!this.dados.mostraLaboratorio||this.dados.codigoLaboratorio?(this.confirmado=!0,this.eventoInput(!1),this.$emit("confirmar",this.dados)):this.laboratorioErro=!0},eventoCancelar(){Fo.gconsole.log("EnvelopeTrocarStatus","eventoCancelar",this.dados),this.confirmado=!1,this.eventoInput(!1)},eventoInput(e){this.$emit("update:modelValue",e)},async selecionarLaboratorio(e){Fo.gconsole.log("EnvelopeTrocarStatus","selecionarLaboratorio",e),this.dados.codigoLaboratorio=e.codigoContato,this.dados.nomeLaboratorio=e.nome,this.dados.mostraGerarPedidoEssilor=this.dados.laboratoriosEssilor.includes(this.dados.codigoLaboratorio),this.laboratorioErro=!1}},props:{modelValue:{required:!0,type:Boolean},dados:{required:!0,type:Object}},watch:{modelValue(e){e?(this.confirmado=!1,this.laboratorioErro=!1):this.confirmado||this.$emit("cancelar",this.dados)}}},Lde=(0,T.Z)(Bde,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("campo"),m=(0,a.resolveComponent)("row"),u=(0,a.resolveComponent)("q-form"),p=(0,a.resolveComponent)("q-dialog"),h=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(p,{"model-value":t.modelValue,"onUpdate:modelValue":l.eventoInput},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Pde,[(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[h]]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[Ade])),_:1})])),_:1}),(0,a.createVNode)(u,{onSubmit:l.eventoConfirmar,class:"q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"q-col-gutter-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:t.dados.nomeCliente,"onUpdate:modelValue":o[0]||(o[0]=e=>t.dados.nomeCliente=e),somenteLeitura:"",class:"col-12",rotulo:"Cliente"},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:t.dados.statusAtual,"onUpdate:modelValue":o[1]||(o[1]=e=>t.dados.statusAtual=e),somenteLeitura:"",class:"col-12",rotulo:"De"},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:t.dados.statusNovo,"onUpdate:modelValue":o[2]||(o[2]=e=>t.dados.statusNovo=e),somenteLeitura:"",class:"col-12",rotulo:"Para"},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:t.dados.observacao,"onUpdate:modelValue":o[3]||(o[3]=e=>t.dados.observacao=e),modelModifiers:{trim:!0},class:"col-12",maxlength:"50",rotulo:"Observação"},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:t.dados.gerarPedido,"onUpdate:modelValue":o[4]||(o[4]=e=>t.dados.gerarPedido=e),class:"col-12",rotulo:"Gerar pedido de compra",tipo:"logico"},null,8,["modelValue"]),(0,a.createVNode)(d,{"model-value":t.dados.nomeLaboratorio,somenteLeitura:"",before:[{icon:"search",handler:l.abrirModalLaboratorio}],class:"col-12",onClick:l.abrirModalLaboratorio,rotulo:"Laboratório",erro:r.laboratorioErro,erroRotulo:"Seleção de laboratório obrigatória"},null,8,["model-value","before","onClick","erro"]),t.dados.mostraGerarPedidoEssilor?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,modelValue:t.dados.gerarPedidoEssilor,"onUpdate:modelValue":o[5]||(o[5]=e=>t.dados.gerarPedidoEssilor=e),class:"col-12",rotulo:"Gerar pedido ao laboratório Essilor",tipo:"logico"},null,8,["modelValue"])):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(c,{color:"light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{flat:"",color:"tertiary",onClick:l.eventoCancelar,label:"Cancelar"},null,8,["onClick"]),(0,a.createVNode)(s,{unelevated:"",color:"primary",type:"submit",label:"Trocar"})])),_:1})])),_:1},8,["onSubmit"])])])),_:1},8,["model-value","onUpdate:modelValue"])}]]);Z()(Bde,"components",{QDialog:k.Z,QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QForm:fo.Z}),Z()(Bde,"directives",{ClosePopup:J.Z});const Ode=(0,a.createElementVNode)("p",{class:"col-12 q-title"},"Filtros",-1),zde=(0,a.createTextVNode)("Adição"),jde=(0,a.createTextVNode)("Esférico"),$de=(0,a.createTextVNode)("Cilíndrico"),Ude=(0,a.createTextVNode)("Eixo"),Zde=(0,a.createTextVNode)("Prisma"),Qde=(0,a.createTextVNode)("Base"),Rde=(0,a.createTextVNode)("DNP"),Gde=(0,a.createTextVNode)("Vínculo Lente Essilor"),Hde=["src","alt"],Jde={data:()=>({}),props:{modal:{required:!0,type:Object}}},Yde=(0,T.Z)(Jde,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-header"),m=(0,a.resolveComponent)("campo"),u=(0,a.resolveComponent)("q-page"),p=(0,a.resolveComponent)("q-page-container"),h=(0,a.resolveComponent)("q-footer"),C=(0,a.resolveComponent)("q-layout"),v=(0,a.resolveComponent)("q-dialog"),f=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(v,{modelValue:t.modal.visivel,"onUpdate:modelValue":o[2]||(o[2]=e=>t.modal.visivel=e),"content-css":{minWidth:"80vw"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{container:"",class:"bg-grey-4",style:{height:"80vh",width:"80vw","max-width":"100vw"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("form",{onSubmit:o[1]||(o[1]=(0,a.withModifiers)(((...e)=>t.modal.eventoConfirmar&&t.modal.eventoConfirmar(...e)),["prevent"]))},[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{color:t.modal.cor},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.modal.titulo),1)])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",icon:"close",round:""},null,512),[[f]])])),_:1},8,["color"])])),_:1}),(0,a.createVNode)(p,{class:"u-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.modal.json,"onUpdate:modelValue":o[0]||(o[0]=e=>t.modal.json=e),tipo:"textoArea",autogrow:""},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"text-right"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(n,{flat:"",color:"tertiary",label:"Cancelar"},null,512),[[f]]),(0,a.createVNode)(n,{unelevated:"",color:"primary",type:"submit",label:"Confirmar"})])),_:1})])),_:1})])),_:1})],32)])),_:1})])),_:1},8,["modelValue"])}]]);Z()(Jde,"components",{QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QPageContainer:le.Z,QPage:se.Z,QFooter:Te.Z}),Z()(Jde,"directives",{ClosePopup:J.Z});const Xde={data:()=>({}),props:{modal:{required:!0,type:Object}}},Wde=(0,T.Z)(Xde,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-header"),m=(0,a.resolveComponent)("campo"),u=(0,a.resolveComponent)("q-page"),p=(0,a.resolveComponent)("q-page-container"),h=(0,a.resolveComponent)("q-layout"),C=(0,a.resolveComponent)("q-dialog"),v=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(C,{modelValue:t.modal.visivel,"onUpdate:modelValue":o[1]||(o[1]=e=>t.modal.visivel=e),"content-css":{minWidth:"80vw"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{container:"",class:"bg-grey-4",style:{height:"80vh",width:"80vw","max-width":"100vw"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{color:t.modal.cor},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.modal.titulo),1)])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",icon:"close",round:""},null,512),[[v]])])),_:1},8,["color"])])),_:1}),(0,a.createVNode)(p,{class:"u-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.modal.resultado,"onUpdate:modelValue":o[0]||(o[0]=e=>t.modal.resultado=e),tipo:"textoArea",autogrow:"","somente-leitura":""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);Z()(Xde,"components",{QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QPageContainer:le.Z,QPage:se.Z}),Z()(Xde,"directives",{ClosePopup:J.Z});const Kde="a40ea66e-c567-39aa-9a63-a29d2df6f973",eme={usuario:"",senha:"",access_token:"",expires_in:0,expires_datetime:0,ambiente:""},ome={async obterJwtToken(e,o,t){return(!eme.access_token||eme.expires_datetime<new Date||eme.usuario!==e||eme.senha!==o||eme.ambiente!==t)&&await this.obterToken(e,o,t),{client_id:Kde,access_token:eme.access_token}},async obterToken(e,o,t){try{const a={usuario:e,senha:o},i=await t_()({method:"post",baseURL:"https://api.essilor.com.br",url:t+"autenticacao-jwt/v1/token",auth:{username:Kde,password:"ff72364c-40e2-3a21-af1e-d7f3e4cd5982"},validateStatus:e=>e>=200&&e<=500,timeout:3e4,headers:{client_id:Kde},data:a}),r=[201].includes(i.status);r||console.error("Falha na autenticação\n",i),(0,Fo.verificarErro)(!r,((i.data||[])[0]||{}).mensagem||"Falha na autenticação"),eme.usuario=e,eme.senha=o,eme.access_token=i.data.access_token,eme.expires_in=i.data.expires_in,eme.expires_datetime=new Date(Number(new Date)+1e3*eme.expires_in),eme.ambiente=t,Fo.gconsole.log("essilor","autenticacao-jwt token",eme)}catch(e){if("ErroValidacao"===e.name)throw e;(0,Fo.verificarErro)("Error"===e.name&&"Network Error"===e.message,"Sem internet ou erro de comunicação!"),(0,Fo.verificarErro)(!0,"Falha no acesso ao servidor de autenticação da Essilor! "+e.toString())}}},tme="https://api.essilor.com.br",ame={async adicionar(e,o,t,a,i){try{const r=await ome.obterJwtToken(o,t,a);r.laboratorio=e;const l=await t_()({method:"post",baseURL:tme,url:a+"gestao-pedidos-laboratorio/v1/pedidos",validateStatus:e=>e>=200&&e<=500,timeout:3e4,headers:r,data:i});return Fo.gconsole.log("essilor","Pedidos.adicionar",{headers:r,dados:i,resposta:l}),l}catch(e){throw Fo.gconsole.error("essilor","Pedidos.adicionar erro\n",e.stack),e}},async consultarPedido(e,o,t,a,i){try{const r=await ome.obterJwtToken(o,t,a);r.laboratorio=e;const l=await t_()({method:"get",baseURL:tme,url:a+`gestao-pedidos-laboratorio/v1/pedidos/${i}`,validateStatus:e=>e>=200&&e<=500,timeout:3e4,headers:r});return Fo.gconsole.log("essilor","Pedidos.consultarPedido",{headers:r,id:i,resposta:l}),l}catch(e){throw Fo.gconsole.error("essilor","Pedidos.consultarPedido erro\n",e.stack),e}},async consultarPedidos(e,o,t,a,i){try{const r=await ome.obterJwtToken(o,t,a);r.laboratorio=e;const l=await t_()({method:"get",baseURL:tme,url:a+"gestao-pedidos-laboratorio/v1/pedidos",validateStatus:e=>e>=200&&e<=500,timeout:3e4,headers:r,params:i});return Fo.gconsole.log("essilor","Pedidos.consultarPedidos",{headers:r,params:i,resposta:l}),l}catch(e){throw Fo.gconsole.error("essilor","Pedidos.consultarPedidos erro\n",e.stack),e}},async consultarStatusPedido(e,o,t,a,i){try{const r=await ome.obterJwtToken(o,t,a);r.laboratorio=e;const l=await t_()({method:"get",baseURL:tme,url:a+`gestao-pedidos-laboratorio/v1/pedidos/${i}/status`,validateStatus:e=>e>=200&&e<=500,timeout:3e4,headers:r});return Fo.gconsole.log("essilor","Pedidos.consultarStatusPedido",{headers:r,id:i,resposta:l}),l}catch(e){throw Fo.gconsole.error("essilor","Pedidos.consultarStatusPedido erro\n",e.stack),e}}},ime=function(){return[{valor:"",rotulo:"Produção"},{valor:"dev/",rotulo:"Desenvolvimento"},{valor:"hml/",rotulo:"Homologacao"},{valor:"sandbox/",rotulo:"Sandbox"}]},rme={components:{EssilorModalConfirmacao:Yde,EssilorModalResultado:Wde},computed:{colunasReceita:()=>[{name:"distancia",align:"left",field:"distancia",style:"font-weight:bold;min-width:110px"},{name:"adicao",align:"center",field:"adicao"},{name:"esferico",align:"center",field:"grauEsferico"},{name:"cilindrico",align:"center",field:"grauCilindro"},{name:"eixo",align:"center",field:"eixo"},{name:"prisma",align:"center",field:"prisma"},{name:"base",align:"center",field:"base"},{name:"dnp",align:"center",field:"dnp"}],opcoesAmbiente:ime,opcoesProducaoEssilor:()=>[{valor:"",rotulo:""},{valor:"SURFACAGEM_DIGITAL",rotulo:"Surfaçagem digital"},{valor:"SURFACAGEM_TRADICIONAL",rotulo:"Surfaçagem tradicional"},{valor:"LENTES_PRONTA",rotulo:"Lentes pronta"}]},data:()=>({ambiente:"",codigoLaboratorio:null,contatosLaboratorio:[],dados:{},idEmpresa:null,json:{},listaPedidosEssilor:[],modalConfirma:{visivel:!1},modalResultado:{visivel:!1},mostrarJson:!1,orcamento:{},status:{}}),methods:{async eventoConfirmar(){try{Fo.gconsole.log("EssilorConsultarPedidoCompleto","consultar",JSON.stringify(this.json,0,2)),(0,Fo.verificarErro)(!this.json.id,"Pedido nao informado"),(0,Fo.verificarErro)(!this.envelope.idEmpresa,"Empresa não selecionada"),(0,Fo.verificarErro)(!this.envelope.codigoLaboratorio,"Laboratório não selecionado");const e=this.envelope.cnpjLaboratorio;(0,Fo.verificarErro)(!e,"Laboratório sem CNPJ"),await $db.configuracoes.leLaboratorioEssilor(this.envelope.codigoLaboratorio,this.envelope.idEmpresa),this.modalConfirma={visivel:this.mostrarJson,eventoConfirmar:this.eventoConfirmar2,cnpjLaboratorio:e,titulo:"Consultar pedido "+e,cor:"primary",json:this.json.id},this.mostrarJson||await this.modalConfirma.eventoConfirmar()}catch(e){this.$q.notifyError("Falha na consulta",e)}},async eventoConfirmar2(){try{this.modalConfirma.visivel=!1,ts.Z.show({spinner:as.Z,spinnerColor:"amber",message:"Consultando pedido"}),this.$refs.dialogPedido.show(),await Promise.all([this.consultaErp(),this.consultaEssilor()])}catch(e){this.$q.notifyError("Falha na consulta",e)}finally{ts.Z.hide()}},async consultaErp(){Fo.gconsole.log("EssilorConsultarPedidoCompleto","consultaErp",this.json.id);try{const e=await this.$utils.geeksApi({consultaPedidoEssilor:{funcao:"BAF56393-8CBD-45D7-8A0C-2F9697683143",referencia:"idEnvelope:"+this.envelope.id+";idPedido:"+this.json.id}});Fo.gconsole.log("EssilorConsultarPedidoCompleto","consultaErp",e.data.consultaPedidoEssilor),this.dados=e.data.consultaPedidoEssilor;const o=this.dados.jsonResposta.orcamento;o.dataEntregaPrevista=o.dataEntregaPrevista||o.prazo,o.valorBruto=Number(o.valorBruto)||0,o.desconto=Number(o.desconto)||0,o.valorLiquido=Number(o.valorLiquido)||o.valorBruto-o.desconto,this.orcamento=o}catch(e){this.$q.notifyError("Falha na consulta no banco ERP",e)}},async consultaEssilor(){Fo.gconsole.log("EssilorConsultarPedidoCompleto","consultaEssilor",this.modalConfirma.json||this.json.id);try{const{usuario:e,senha:o}=await $db.configuracoes.leLaboratorioEssilor(this.envelope.codigoLaboratorio,this.envelope.idEmpresa),t=await ame.consultarPedido(this.modalConfirma.cnpjLaboratorio||this.envelope.cnpjLaboratorio,e,o,this.ambiente,this.modalConfirma.json||this.json.id),a=[200,201,206].includes(t.status);if(this.modalResultado={visivel:this.mostrarJson,titulo:"Pedido - status "+t.status,cor:a?"primary":"negative",resultado:JSON.stringify({data:t.data},0,2)},Fo.gconsole.log("EssilorConsultarPedidoCompleto","consultaEssilor",t.data),!a){const e=((t.data||[])[0]||{}).mensagem;(0,Fo.verificarErro)(!e,"Falha na consulta");const o=t.data.map((e=>e.mensagem+" (código: "+(e.codigo||"")+")"));return void $g.modalAlerta.show({titulo:"Erro",erros:o})}this.status=t.data}catch(e){this.$q.notifyError("Falha na consulta",e)}},async consultaListaPedidosEssilor(){Fo.gconsole.log("EssilorConsultarPedidoCompleto","consultaListaPedidosEssilor",this.envelope.id);try{const e=await this.$utils.geeksApi({consultaListaPedidosEssilor:{funcao:"A55E267B-3E9E-465C-A130-AD2BE950B0F5",referencia:"idEnvelope:"+this.envelope.id}});Fo.gconsole.log("EssilorConsultarPedidoCompleto","consultaListaPedidosEssilor",e.data.consultaListaPedidosEssilor),this.listaPedidosEssilor=e.data.consultaListaPedidosEssilor.map((e=>{const o=((e.referencia||"").split(";")[1]||"").split(":")[1]||"";return{rotulo:"Pedido "+o+" de "+this.$filters.dataHora(e.dataCriacao),valor:o}}))}catch(e){this.$q.notifyError("Falha na consulta da lista de pedidos",e)}},async show(e,o){e&&(this.ambiente=e),await this.$nextTick(),this.json={id:this.envelope.numeroOrdemCompra},await this.consultaListaPedidosEssilor(),o&&await this.eventoConfirmar(),o||($db.usuario.logado.administrador&&[1,2].includes($db.usuario.logado.grupoInterno)?this.$refs.dialogParametros.show():await this.eventoConfirmar())}},props:{envelope:{required:!1,type:Object}}},lme=(0,T.Z)(rme,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("campo"),n=(0,a.resolveComponent)("q-toggle"),c=(0,a.resolveComponent)("row"),d=(0,a.resolveComponent)("card"),m=(0,a.resolveComponent)("dialogForm"),u=(0,a.resolveComponent)("q-tab"),p=(0,a.resolveComponent)("q-tabs"),h=(0,a.resolveComponent)("nomeValor"),C=(0,a.resolveComponent)("column"),v=(0,a.resolveComponent)("badge"),f=(0,a.resolveComponent)("q-th"),N=(0,a.resolveComponent)("q-tr"),V=(0,a.resolveComponent)("q-td"),g=(0,a.resolveComponent)("q-table"),x=(0,a.resolveComponent)("q-select"),b=(0,a.resolveComponent)("EssilorModalConfirmacao"),w=(0,a.resolveComponent)("EssilorModalResultado");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(m,{ref:"dialogParametros",title:"Consulta Pedido Essilor",labelButtonSubmit:"Enviar",size:"max",onSubmit:l.eventoConfirmar,hideOnSubmit:!1},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[e.$db.usuario.logado.administrador&&[1,2].includes(e.$db.usuario.logado.grupoInterno)?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:r.ambiente,"onUpdate:modelValue":o[0]||(o[0]=e=>r.ambiente=e),col:"4",opcoes:l.opcoesAmbiente,"rotulo-fixo":"Ambiente",tipo:"seletor"},null,8,["modelValue","opcoes"]),(0,a.createVNode)(n,{modelValue:r.mostrarJson,"onUpdate:modelValue":o[1]||(o[1]=e=>r.mostrarJson=e),col:"4",label:"Mostrar Json"},null,8,["modelValue"])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Ode,(0,a.createVNode)(s,{modelValue:r.json.id,"onUpdate:modelValue":o[2]||(o[2]=e=>r.json.id=e),col:"6",tipo:"seletor",opcoes:r.listaPedidosEssilor,rotulo:"Identificação do pedido no laboratório"},null,8,["modelValue","opcoes"])])),_:1})])),_:1})])),_:1},8,["onSubmit"]),(0,a.createVNode)(m,{ref:"dialogPedido",title:"Pedido Essilor",size:"max"},{default:(0,a.withCtx)((()=>[e.$get(r.dados,"envelope")?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(c,{gutter:"none",class:"q-mt-md bg-primary text-white justify-start"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:r.json.id,"onUpdate:modelValue":o[3]||(o[3]=e=>r.json.id=e)},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.listaPedidosEssilor,((e,o)=>((0,a.openBlock)(),(0,a.createBlock)(u,{name:e.valor,icon:"mail",label:e.valor,key:o,onClick:l.eventoConfirmar},null,8,["name","label","onClick"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,a.createVNode)(d,{icon:"mdi-file-eye",label:"Envelope"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{col:"auto"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{nome:"Paciente",valor:e.$get(r.dados,"envelope.nomeCliente")},null,8,["valor"]),(0,a.createVNode)(h,{nome:"Laboratório",valor:e.$get(r.dados,"envelope.nomeLaboratorio")},null,8,["valor"])])),_:1}),(0,a.createVNode)(C,{col:""}),(0,a.createVNode)(v,{class:"col-auto q-mx-xs",cor:"tertiary",escuro:"",icone:"mdi-email",rotulo:r.dados.json.idPedidoOtica},null,8,["rotulo"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{"somente-leitura":"",modelValue:r.dados.json.observacao,"onUpdate:modelValue":o[4]||(o[4]=e=>r.dados.json.observacao=e),modelModifiers:{trim:!0},tipo:"textoArea",class:"col-12",maxlength:"999","rotulo-fixo":"Observação"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.createVNode)(d,{label:"Status",icon:"mdi-chart-timeline",style:{"margin-top":"0px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{"somente-leitura":"","model-value":e.$get(r.status,"statusAtual"),col:"6",rotulo:"Status atual"},null,8,["model-value"]),(0,a.createVNode)(s,{"somente-leitura":"","model-value":e.$get(r.status,"id"),col:"3",rotulo:"Id"},null,8,["model-value"]),(0,a.createVNode)(s,{"somente-leitura":"","model-value":e.$get(r.status,"idPedidoOtica"),col:"3",rotulo:"Id pedido otica"},null,8,["model-value"]),(0,a.createVNode)(s,{"somente-leitura":"","model-value":e.$filters.dataHora(e.$get(r.status,"dataEntrada")),col:"6",rotulo:"Entrada"},null,8,["model-value"]),(0,a.createVNode)(s,{"somente-leitura":"","model-value":e.$filters.data(e.$get(r.status,"dataEntregaPrevista")),col:"6",rotulo:"Entrega prevista"},null,8,["model-value"]),(0,a.createVNode)(s,{"somente-leitura":"","model-value":e.$get(r.status,"produto.olhoDireito"),col:"6",rotulo:"Produto olho direito"},null,8,["model-value"]),(0,a.createVNode)(s,{"somente-leitura":"","model-value":e.$get(r.status,"produto.olhoEsquerdo"),col:"6",rotulo:"Produto olho esquerdo"},null,8,["model-value"]),(0,a.createVNode)(s,{"somente-leitura":"","model-value":e.$filters.cpfCnpj(e.$get(r.status,"cnpjOtica")),col:"6",rotulo:"CNPJ otica"},null,8,["model-value"]),(0,a.createVNode)(s,{"somente-leitura":"","model-value":e.$get(r.status,"consumidor.nome"),col:"6",rotulo:"Consumidor"},null,8,["model-value"]),(0,a.createVNode)(s,{"somente-leitura":"","model-value":e.$get(r.status,"notaFiscal.serie","")+"-"+e.$get(r.status,"notaFiscal.numero",""),col:"6",rotulo:"Nota fiscal"},null,8,["model-value"])])),_:1})])),_:1}),(0,a.createVNode)(d,{label:"Orçamento",icon:"mdi-currency-usd"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{"somente-leitura":"","model-value":e.$filters.data(e.$get(r.orcamento,"dataEntregaPrevista")),col:"3",rotulo:"Entrega prevista"},null,8,["model-value"]),(0,a.createVNode)(s,{"somente-leitura":"","model-value":e.$get(r.orcamento,"valorBruto"),col:"3",rotulo:"Valor bruto",tipo:"decimal",decimals:"2"},null,8,["model-value"]),(0,a.createVNode)(s,{"somente-leitura":"","model-value":e.$get(r.orcamento,"desconto"),col:"3",rotulo:"Desconto",tipo:"decimal",decimals:"2"},null,8,["model-value"]),(0,a.createVNode)(s,{"somente-leitura":"","model-value":e.$get(r.orcamento,"valorLiquido"),col:"3",rotulo:"Valor líquido",tipo:"decimal",decimals:"2"},null,8,["model-value"])])),_:1})])),_:1}),((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(["olhoDireito","olhoEsquerdo"],(o=>(0,a.createVNode)(d,{key:o,icon:"mdi-eye",label:"olhoDireito"===o?"Olho direito":"Olho esquerdo"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{class:"col-12 no-shadow",rows:r.dados.listaReceita[o],columns:l.colunasReceita,"row-key":"name",separator:"cell",dense:"","hide-bottom":""},{header:(0,a.withCtx)((e=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{key:"distancia",props:e,style:{"min-width":"110px","max-width":"110px"}},null,8,["props"]),(0,a.createVNode)(f,{key:"adicao",props:e},{default:(0,a.withCtx)((()=>[zde])),_:2},1032,["props"]),(0,a.createVNode)(f,{key:"esferico",props:e},{default:(0,a.withCtx)((()=>[jde])),_:2},1032,["props"]),(0,a.createVNode)(f,{key:"cilindrico",props:e},{default:(0,a.withCtx)((()=>[$de])),_:2},1032,["props"]),(0,a.createVNode)(f,{key:"eixo",props:e},{default:(0,a.withCtx)((()=>[Ude])),_:2},1032,["props"]),(0,a.createVNode)(f,{key:"prisma",props:e},{default:(0,a.withCtx)((()=>[Zde])),_:2},1032,["props"]),(0,a.createVNode)(f,{key:"base",props:e},{default:(0,a.withCtx)((()=>[Qde])),_:2},1032,["props"]),(0,a.createVNode)(f,{key:"dnp",props:e},{default:(0,a.withCtx)((()=>[Rde])),_:2},1032,["props"])])),_:2},1024)])),body:(0,a.withCtx)((o=>[(0,a.createVNode)(N,{props:o},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{key:"distancia",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.distancia),1)])),_:2},1032,["props"]),(0,a.createVNode)(V,{key:"adicao",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numeroSinal(o.row.adicao,2)),1)])),_:2},1032,["props"]),(0,a.createVNode)(V,{key:"esferico",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numeroSinal(o.row.grauEsferico,2)),1)])),_:2},1032,["props"]),(0,a.createVNode)(V,{key:"cilindrico",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numeroSinal(o.row.grauCilindro,2)),1)])),_:2},1032,["props"]),(0,a.createVNode)(V,{key:"eixo",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numeroOuBranco(o.row.eixo)),1)])),_:2},1032,["props"]),(0,a.createVNode)(V,{key:"prisma",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.valorPrismaHorizontal),1)])),_:2},1032,["props"]),(0,a.createVNode)(V,{key:"base",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.eixoPrismaHorizontal),1)])),_:2},1032,["props"]),(0,a.createVNode)(V,{key:"dnp",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numeroOuBranco(o.row.dnp,2)),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:2},1032,["rows","columns"]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{nome:"Lente",valor:e.$get(r.dados,"envelope."+o+".descricaoConcatenada")},null,8,["valor"]),(0,a.createVNode)(h,{nome:"Código",valor:e.$get(r.dados,"envelope."+o+".codigoItem")},null,8,["valor"]),(0,a.createVNode)(h,{nome:"Referência",valor:e.$get(r.dados,"envelope."+o+".referencia")},null,8,["valor"]),(0,a.createVNode)(h,{nome:"Tipo",valor:e.$get(r.dados,"envelope."+o+".lenteTipo")},null,8,["valor"]),(0,a.createVNode)(h,{nome:"Custo",valor:e.$filters.numero(e.$get(r.dados,"envelope."+o+".valorCusto"),2)},null,8,["valor"]),(0,a.createVNode)(h,{nome:"Venda",valor:e.$filters.numero(e.$get(r.dados,"envelope."+o+".total"),2)},null,8,["valor"])])),_:2},1024),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{col:"12",class:"q-title"},{default:(0,a.withCtx)((()=>[Gde])),_:1}),(0,a.createVNode)(s,{"somente-leitura":"","model-value":r.dados[o].tipoProdutoEssilor,col:"3",opcoes:r.dados[o].opcoesProdutoEssilor,"rotulo-fixo":"Tipo produto",tipo:"seletor"},null,8,["model-value","opcoes"]),(0,a.createVNode)(s,{"somente-leitura":"","model-value":r.dados[o].tipoProducaoEssilor,col:"3",opcoes:l.opcoesProducaoEssilor,"rotulo-fixo":"Tipo produção",tipo:"seletor"},null,8,["model-value","opcoes"]),(r.dados[o].opcoesProdutos||[]).length?((0,a.openBlock)(),(0,a.createBlock)(x,{key:0,"model-value":r.dados[o].opcoesProdutos.find((e=>e.value===r.dados[o].produtoEssilor))?.label,dense:"",label:"Produto",options:r.dados[o].opcoesProdutos,class:"col-6",readonly:""},null,8,["model-value","options"])):(0,a.createCommentVNode)("",!0)])),_:2},1024),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{"somente-leitura":"","model-value":r.dados.json.receita[o].altura,col:"3",tipo:"decimal",decimals:"2",rotulo:"Altura montagem",permiteNull:""},null,8,["model-value"])])),_:2},1024),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.$get(r.dados,"envelope."+o+".tratamentos"),((o,t)=>((0,a.openBlock)(),(0,a.createBlock)(c,{key:t},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{nome:"Tratamento",valor:e.$get(o,"descricaoConcatenada")},null,8,["valor"]),(0,a.createVNode)(h,{nome:"Código",valor:e.$get(o,"codigoItem")},null,8,["valor"]),(0,a.createVNode)(h,{nome:"Referência",valor:e.$get(o,"referencia")},null,8,["valor"]),(0,a.createVNode)(h,{nome:"Custo",valor:e.$filters.numero(e.$get(o,"valorCusto"),2)},null,8,["valor"]),(0,a.createVNode)(h,{nome:"Venda",valor:e.$filters.numero(e.$get(o,"total"),2)},null,8,["valor"])])),_:2},1024)))),128))])),_:2},1032,["label"]))),64)),(0,a.createVNode)(d,{icon:"mdi-set-none",label:"Serviços adicionais"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{"model-value":r.dados.opcoesTratamentos.find((e=>e.value===r.dados.tratamentoEssilor))?.label,dense:"",label:"Tratamento",options:r.dados.opcoesTratamentos,class:"col-4",readonly:""},null,8,["model-value","options"]),(0,a.createVNode)(x,{"model-value":r.dados.opcoesColoracao.find((e=>e.value===r.dados.coloracaoEssilor))?.label,dense:"",label:"Coloração",options:r.dados.opcoesColoracao,class:"col-4",readonly:""},null,8,["model-value","options"]),(0,a.createVNode)(x,{"model-value":r.dados.opcoesMontagem.find((e=>e.value===r.dados.montagemEssilor))?.label,dense:"",label:"Montagem/corte",options:r.dados.opcoesMontagem,class:"col-4",readonly:""},null,8,["model-value","options"])])),_:1})])),_:1}),(0,a.createVNode)(d,{icon:"mdi-glasses",label:"Armação"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>["VISAO_SIMPLES"!==r.dados.olhoDireito.tipoProdutoEssilor||"LENTES_PRONTA"!==r.dados.olhoDireito.tipoProducaoEssilor?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,"somente-leitura":"","model-value":r.dados.json.armacao.vertical,col:"2",tipo:"decimal",decimals:"2",permiteNull:"",rotulo:"Altura (vertical)"},null,8,["model-value"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(s,{"somente-leitura":"","model-value":r.dados.json.armacao.horizontal,col:"2",tipo:"decimal",decimals:"2",permiteNull:"",rotulo:"Diagonal (horizontal)"},null,8,["model-value"]),(0,a.createVNode)(s,{"somente-leitura":"","model-value":r.dados.json.armacao.ponte,col:"2",tipo:"decimal",decimals:"2",permiteNull:"",rotulo:"Ponte"},null,8,["model-value"]),(0,a.createVNode)(s,{"somente-leitura":"","model-value":r.dados.json.armacao.diametroMaior,col:"2",tipo:"decimal",decimals:"2",permiteNull:"",rotulo:"Diagonal (diâmetro maior)"},null,8,["model-value"]),(0,a.createVNode)(s,{"somente-leitura":"","model-value":r.dados.json.armacao.tipo,col:"2",opcoes:r.dados.opcoesTipoMontagem,"rotulo-fixo":"Tipo montagem",tipo:"seletor"},null,8,["model-value","opcoes"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{"somente-leitura":"","model-value":r.dados.json.armacao.modelo,col:"4",opcoes:r.dados.opcoesModeloLenteEssilor,"rotulo-fixo":"Modelo de lente",tipo:"seletor"},null,8,["model-value","opcoes"]),(0,a.createVNode)(C,{col:"12",class:"q-pa-sm",style:{"min-height":"130px"}},{default:(0,a.withCtx)((()=>[r.dados.opcoesModeloLenteEssilor.length&&r.dados.json.armacao.modelo?((0,a.openBlock)(),(0,a.createElementBlock)("img",{key:0,src:r.dados.opcoesModeloLenteEssilor.find((e=>e.valor===r.dados?.json?.armacao?.modelo))?.image,alt:r.dados.json.armacao.modelo},null,8,Hde)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1})],64)):(0,a.createCommentVNode)("",!0)])),_:1},512),(0,a.createVNode)(b,{modal:r.modalConfirma},null,8,["modal"]),(0,a.createVNode)(w,{modal:r.modalResultado},null,8,["modal"])],64)}]]);Z()(rme,"components",{QToggle:il.Z,QTabs:ko.Z,QTab:Do.Z,QTable:nr.Z,QTr:rl.Z,QTh:ll.Z,QTd:sl.Z,QSelect:al.Z,QSpinnerGears:as.Z});const sme=(0,a.createTextVNode)("Adição"),nme=(0,a.createTextVNode)("Esférico"),cme=(0,a.createTextVNode)("Cilíndrico"),dme=(0,a.createTextVNode)("Eixo"),mme=(0,a.createTextVNode)("Prisma"),ume=(0,a.createTextVNode)("Base"),pme=(0,a.createTextVNode)("DNP"),hme=(0,a.createTextVNode)("Vínculo Lente Essilor"),Cme=(0,a.createTextVNode)(" Resultado não encontrado "),vme=(0,a.createElementVNode)("div",{class:"text-h6"},"Serviços adicionais",-1),fme=(0,a.createTextVNode)(" Resultado não encontrado "),Nme=(0,a.createTextVNode)(" Resultado não encontrado "),Vme=(0,a.createTextVNode)(" Resultado não encontrado "),gme=["src","alt"],xme=["src","alt"],bme=(0,a.createTextVNode)("Pedido já enviado a Essilor"),wme=(0,a.createTextVNode)(" Deseja enviar um novo pedido para o mesmo envelope? "),_me={components:{},data:()=>({arvore:{}}),methods:{montarArvore(e){let o=[];for(const t in e){let a={label:t};if(e[t].constructor===Object)a.children=this.montarArvore(e[t]);else if(e[t].constructor===Array){a.children=[];for(const o in e[t])a.children.push({label:e[t][o].descricao||String(o),children:this.montarArvore(e[t][o])})}else a={label:t+": "+String(e[t])};o.push(a)}return o}},props:{json:{required:!0,type:Object}},watch:{},created(){this.arvore=this.montarArvore(this.json),Fo.gconsole.log("ArvoreJson",this.json,this.arvore)}},yme=(0,T.Z)(_me,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-tree");return(0,a.openBlock)(),(0,a.createBlock)(s,{nodes:r.arvore,"node-key":"label"},null,8,["nodes"])}]]);Z()(_me,"components",{QTree:z_.Z});const Ime="https://api.essilor.com.br",Eme={async consultarModelosLentes(e,o,t,a,i){try{const r=await ome.obterJwtToken(o,t,a);r.laboratorio=e;const l=await t_()({method:"get",baseURL:Ime,url:a+"gestao-produtos-laboratorio/v1/modelos-lentes",validateStatus:e=>e>=200&&e<=500,timeout:3e4,headers:r,params:i});return Fo.gconsole.log("essilor","consultarModelosLentes",{params:i,resposta:l}),l}catch(e){throw Fo.gconsole.error("essilor","consultarModelosLentes erro\n",e.stack),e}},async consultarProdutos(e,o,t,a,i){try{const r=await ome.obterJwtToken(o,t,a);r.laboratorio=e;const l=await t_()({method:"get",baseURL:Ime,url:a+"gestao-produtos-laboratorio/v1/produtos",validateStatus:e=>e>=200&&e<=500,timeout:3e4,headers:r,params:i});return Fo.gconsole.log("essilor","consultarProdutos",{params:i,resposta:l}),l}catch(e){throw Fo.gconsole.error("essilor","consultarProdutos erro\n",e.stack),e}},async consultarProduto(e,o,t,a,i){try{const r=await ome.obterJwtToken(o,t,a);r.laboratorio=e;const l=await t_()({method:"get",baseURL:Ime,url:a+`gestao-produtos-laboratorio/v1/produtos/${i}/parametros`,validateStatus:e=>e>=200&&e<=500,timeout:3e4,headers:r});return Fo.gconsole.log("essilor","consultarProduto",{id:i,resposta:l}),l}catch(e){throw Fo.gconsole.error("essilor","consultarProduto erro\n",e.stack),e}}};function Sme(e){return e||0===e?Math.round(2*Number(e))/2:null}const Mme={components:{ArvoreJson:yme,EssilorModalConfirmacao:Yde,EssilorModalResultado:Wde},computed:{colunasReceita:()=>[{name:"distancia",align:"left",field:"distancia",style:"font-weight:bold;min-width:110px"},{name:"adicao",align:"center",field:"adicao"},{name:"esferico",align:"center",field:"grauEsferico"},{name:"cilindrico",align:"center",field:"grauCilindro"},{name:"eixo",align:"center",field:"eixo"},{name:"prisma",align:"center",field:"prisma"},{name:"base",align:"center",field:"base"},{name:"dnp",align:"center",field:"dnp"}],opcoesAmbiente:ime,opcoesProducaoEssilor:()=>[{valor:"",rotulo:""},{valor:"SURFACAGEM_DIGITAL",rotulo:"Surfaçagem digital"},{valor:"SURFACAGEM_TRADICIONAL",rotulo:"Surfaçagem tradicional"},{valor:"LENTES_PRONTA",rotulo:"Lentes pronta"}]},data:()=>({ambiente:"",listaReceita:{},modalConfirma:{visivel:!1},modalResultado:{visivel:!1},mostrarJson:!1,opcoesModeloLenteEssilor:[],opcoesProdutoEssilor:{olhoDireito:[],olhoEsquerdo:[]},opcoesTipoMontagem:[],opcoesProduto:{olhoDireito:[],olhoEsquerdo:[]},tratamentoEssilor:"",opcoesTratamentos:[],opcoesTratamentosFilter:[],montagemEssilor:"",opcoesMontagem:[],opcoesMontagemFilter:[],coloracaoEssilor:"",opcoesColoracao:[],opcoesColoracaoFilter:[],modalAlerta:{visivel:!1,titulo:"Erro",erros:[]},modalPedidoJaEnviado:{visivel:!1},habilitarMontagemCorte:!0}),methods:{limparMontagemEssilor(){this.montagemEssilor=""},async atualizar(){try{await this.$nextTick(),(0,Fo.verificarErro)(!this.dados.envelope.cnpjLaboratorio,"Laboratório sem CNPJ"),await ue.db.configuracoes.leLaboratorioEssilor(this.dados.envelope.codigoLaboratorio,this.dados.envelope.idEmpresa);const e=this.dados.json.receita,o=this.dados.json.parametros,t={"Multifocal (Longe e Perto)":{longe:"Longe",perto:"Perto"},"Monofocal (Longe)":{longe:"Longe",perto:""},"Monofocal (Médio)":{longe:"Médio",perto:""},"Monofocal (Perto)":{longe:"Perto",perto:""},"Intermediário (Médio e Perto)":{longe:"Médio",perto:"Perto"},"Intermediário (Longe e Médio)":{longe:"Longe",perto:"Médio"},"Bifocal (Longe e Perto)":{longe:"Longe",perto:"Perto"}};this.listaReceita={olhoDireito:[{...e.olhoDireito,adicao:void 0,distancia:t[this.dados.envelope.armacao.oculos].longe},{adicao:e.olhoDireito.adicao,dnp:o.olhoDireito.dnpPerto,distancia:t[this.dados.envelope.armacao.oculos].perto}],olhoEsquerdo:[{...e.olhoEsquerdo,adicao:void 0,distancia:t[this.dados.envelope.armacao.oculos].longe},{adicao:e.olhoEsquerdo.adicao,dnp:o.olhoEsquerdo.dnpPerto,distancia:t[this.dados.envelope.armacao.oculos].perto}]},this.opcoesProdutoEssilor={olhoDireito:this.mapearTipoLente(this.dados.envelope.armacao.oculos),olhoEsquerdo:this.mapearTipoLente(this.dados.envelope.armacao.oculos)},this.dados.olhoDireito.tipoProdutoEssilor=this.opcoesProdutoEssilor.olhoDireito[0].valor,this.dados.olhoEsquerdo.tipoProdutoEssilor=this.opcoesProdutoEssilor.olhoEsquerdo[0].valor,this.atualizarModelosLentes()}catch(e){this.$q.notifyError("Falha na consulta",e),this.$refs.dialog.hide()}},async atualizarModelosLentes(){try{const{usuario:e,senha:o}=await ue.db.configuracoes.leLaboratorioEssilor(this.dados.envelope.codigoLaboratorio,this.dados.envelope.idEmpresa),t=await Eme.consultarModelosLentes(this.dados.envelope.cnpjLaboratorio,e,o,this.ambiente,{});if(![200,201,206].includes(t.status))return void this.tratarErroEssilor(t);this.opcoesModeloLenteEssilor=t.data.map((e=>({rotulo:String(e.codigo),label:String(e.codigo),valor:String(e.codigo),value:String(e.codigo),image:"data:image/jpeg;base64, "+e.formato})))}catch(e){this.$q.notifyError("Falha na consulta dos modelos de lentes da Essilor",e)}},mapearTipoLente:e=>({"Multifocal (Longe e Perto)":[{valor:"MULTIFOCAL",rotulo:"Multifocal"}],"Monofocal (Longe)":[{valor:"VISAO_SIMPLES",rotulo:"Visao simples"}],"Monofocal (Médio)":[{valor:"VISAO_SIMPLES",rotulo:"Visao simples"}],"Monofocal (Perto)":[{valor:"VISAO_SIMPLES",rotulo:"Visao simples"}],"Intermediário (Médio e Perto)":[{valor:"VISAO_INTERMEDIARIA",rotulo:"Visão intermediária"}],"Intermediário (Longe e Médio)":[{valor:"VISAO_INTERMEDIARIA",rotulo:"Visão intermediária"}],"Bifocal (Longe e Perto)":[{valor:"BIFOCAL",rotulo:"Bifocal"}]}[e]||[{valor:"MULTIFOCAL",rotulo:"Multifocal"},{valor:"VISAO_SIMPLES",rotulo:"Visao simples"},{valor:"VISAO_INTERMEDIARIA",rotulo:"Visão intermediária"},{valor:"BIFOCAL",rotulo:"Bifocal"}]),copiarOdParaOe(){this.dados.olhoEsquerdo.detalheProduto=this.dados.olhoDireito.detalheProduto,this.dados.olhoEsquerdo.opcoesProdutos=this.dados.olhoDireito.opcoesProdutos,this.dados.olhoEsquerdo.tipoProdutoEssilor=this.dados.olhoDireito.tipoProdutoEssilor,this.dados.olhoEsquerdo.tipoProducaoEssilor=this.dados.olhoDireito.tipoProducaoEssilor,this.dados.olhoEsquerdo.produtoEssilor=this.dados.olhoDireito.produtoEssilor,this.dados.json.receita.olhoEsquerdo.codigoLinhaProduto=this.dados.json.receita.olhoDireito.codigoLinhaProduto,this.dados.json.receita.olhoEsquerdo.tipoProducao=this.dados.json.receita.olhoDireito.tipoProducao,this.dados.json.receita.olhoEsquerdo.tipoProduto=this.dados.json.receita.olhoDireito.tipoProduto},async eventoConfirmar(){try{(0,Fo.verificarErro)(this.habilitarMontagemCorte&&!this.montagemEssilor,"Selecione montagem/corte ou desative o campo"),(0,Fo.verificarErro)(!this.dados.json.receita.olhoDireito.codigoLinhaProduto,"Lente direita sem produto selecionado");const e=this.dados.json.receita;e.olhoEsquerdo.codigoLinhaProduto||this.copiarOdParaOe(),"LENTES_PRONTA"!==e.olhoDireito.tipoProducao&&(0,Fo.verificarErro)(!e.olhoDireito.altura,"Altura da montagem do olho direito não fornecida"),"LENTES_PRONTA"!==e.olhoEsquerdo.tipoProducao&&(0,Fo.verificarErro)(!e.olhoEsquerdo.altura,"Altura da montagem do olho esquerdo não fornecida");const o=this.dados.json.armacao;if(delete o.__index,["SURFACAGEM_DIGITAL","SURFACAGEM_TRADICIONAL"].includes(this.dados.json.receita.olhoDireito.tipoProducao)&&((0,Fo.verificarErro)(!o.vertical,"Altura (vertical) não fornecida"),(0,Fo.verificarErro)(!o.horizontal,"Diagonal (horizontal) não fornecida"),(0,Fo.verificarErro)(!o.ponte,"Ponte não fornecida"),(0,Fo.verificarErro)(!o.diametroMaior,"Diagonal (diâmetro maior) não fornecida"),(0,Fo.verificarErro)(!o.tipo,"Tipo montagem não fornecido"),(0,Fo.verificarErro)(!o.modelo,"Modelo de lente não fornecido")),this.dados.json.servicos=[],this.tratamentoEssilor){const e=this.dados.olhoDireito.detalheProduto.detalheProduto.servicos.find((e=>e.codigo===this.tratamentoEssilor));this.dados.json.servicos.push(e)}if(this.montagemEssilor){const e=this.dados.olhoDireito.detalheProduto.detalheProduto.servicos.find((e=>e.codigo===this.montagemEssilor));this.dados.json.servicos.push(e)}if(this.coloracaoEssilor){const e=this.dados.olhoDireito.detalheProduto.detalheProduto.servicos.find((e=>e.codigo===this.coloracaoEssilor));this.dados.json.servicos.push(e)}o.vertical=(0,Fo.stringOrEmpty)(o.vertical),o.horizontal=(0,Fo.stringOrEmpty)(o.horizontal),o.ponte=(0,Fo.stringOrEmpty)(o.ponte),o.diametroMaior=(0,Fo.stringOrEmpty)(o.diametroMaior),o.tipo=(0,Fo.stringOrEmpty)(o.tipo),e.olhoDireito.altura=(0,Fo.stringOrEmpty)(Sme(e.olhoDireito.altura)),e.olhoEsquerdo.altura=(0,Fo.stringOrEmpty)(Sme(e.olhoEsquerdo.altura)),this.modalConfirma={visivel:this.mostrarJson,eventoConfirmar:this.eventoConfirmar2,titulo:"Envio pedido laboratorio "+this.dados.envelope.cnpjLaboratorio,cor:"primary",json:JSON.stringify(this.dados.json,0,2)},this.mostrarJson||this.modalConfirma.eventoConfirmar()}catch(e){this.$q.notifyError("Falha no envio",e)}},async enviarComNovoId(){this.modalAlerta.visivel=!1;const e=(await this.$utils.geeksApi({consultaPedidoEssilor:{funcao:"BAF56393-8CBD-45D7-8A0C-2F9697683143",referencia:"idEnvelope:"+this.dados.envelope.id}})).data.consultaPedidoEssilor.json.idPedidoOtica,o=e[0]+String.fromCharCode(e[1].charCodeAt(0)+1)+e.substr(2);this.dados.json.idPedidoOtica=o;const t=JSON.parse(this.modalConfirma.json);t.idPedidoOtica=o,this.modalConfirma.json=JSON.stringify(t,0,2),await this.eventoConfirmar2()},async eventoConfirmar2(){try{this.modalConfirma.visivel=!1;const{usuario:e,senha:o}=await ue.db.configuracoes.leLaboratorioEssilor(this.dados.envelope.codigoLaboratorio,this.dados.envelope.idEmpresa);ts.Z.show({spinner:as.Z,spinnerColor:"amber",message:"Enviando pedido"});const t=await ame.adicionar(this.dados.envelope.cnpjLaboratorio,e,o,this.ambiente,JSON.parse(this.modalConfirma.json)),a=[200,201,206].includes(t.status);if(this.modalResultado={visivel:this.mostrarJson,titulo:"Resposta status "+t.status,cor:a?"primary":"negative",resultado:JSON.stringify({data:t.data},0,2)},!a)return"DUPLICIDADE DO IDENTIFICADOR PEDIDO ÓTICA"===((t.data||[])[0]||{}).mensagem?void(this.modalAlerta={visivel:!0,titulo:"Erro",erros:t.data.map((e=>e.mensagem+" (código: "+(e.codigo||"")+")"))}):void this.tratarErroEssilor(t);const i=t.data.orcamento;i.dataEntregaPrevista||i.prazo,Number(i.valorBruto),Number(i.desconto);Number(i.valorLiquido),(0,Fo.verificarErro)(!t.data.id,"Sem retorno do identificador do pedido");const r=(0,Fo.stringOrEmpty)(t.data.id);this.dados.envelopeOriginal.numeroOrdemCompra=r,await this.$utils.geeksApi({trocaNumeroOrdemCompra:{funcao:"5C38C5B8-2E43-4E39-AE73-30D3BE056FBC",codigoDocumento:this.dados.envelope.codigoDocumento,numeroOrdemCompra:r}}),await this.$utils.geeksApi({salvaPedidoEssilor:{funcao:"C0109DB9-029A-4A06-B40B-54D7A08A8ED0",descricao:"pedidoEssilor",referencia:"idEnvelope:"+this.dados.envelope.id+";idPedido:"+r,json:{json:this.dados.json,jsonResposta:t.data,tratamentoEssilor:this.tratamentoEssilor,montagemEssilor:this.montagemEssilor,coloracaoEssilor:this.coloracaoEssilor,listaReceita:this.listaReceita,olhoDireito:{tipoProdutoEssilor:this.dados.olhoDireito.tipoProdutoEssilor,tipoProducaoEssilor:this.dados.olhoDireito.tipoProducaoEssilor,produtoEssilor:this.dados.olhoDireito.produtoEssilor,opcoesProdutoEssilor:this.opcoesProdutoEssilor.olhoDireito.filter((e=>this.dados.olhoDireito.tipoProdutoEssilor===e.valor)),opcoesProdutos:this.dados.olhoDireito.opcoesProdutos.filter((e=>this.dados.olhoDireito.produtoEssilor===e.value))},olhoEsquerdo:{tipoProdutoEssilor:this.dados.olhoEsquerdo.tipoProdutoEssilor,tipoProducaoEssilor:this.dados.olhoEsquerdo.tipoProducaoEssilor,produtoEssilor:this.dados.olhoEsquerdo.produtoEssilor,opcoesProdutoEssilor:this.opcoesProdutoEssilor.olhoEsquerdo.filter((e=>this.dados.olhoEsquerdo.tipoProdutoEssilor===e.valor)),opcoesProdutos:this.dados.olhoEsquerdo.opcoesProdutos.filter((e=>this.dados.olhoEsquerdo.produtoEssilor===e.value))},envelope:{...this.dados.envelope,itens:void 0,armacao:void 0},opcoesTratamentos:this.opcoesTratamentos.filter((e=>this.tratamentoEssilor===e.value)),opcoesMontagem:this.opcoesMontagem.filter((e=>this.montagemEssilor===e.value)),opcoesColoracao:this.opcoesColoracao.filter((e=>this.coloracaoEssilor===e.value)),opcoesTipoMontagem:this.opcoesTipoMontagem.filter((e=>this.dados.json.armacao.tipo===e.valor)),opcoesModeloLenteEssilor:this.opcoesModeloLenteEssilor.filter((e=>this.dados.json.armacao.modelo===e.valor))}}}),$q.notifyPositive("Pedido enviado com sucesso"),this.$refs.dialog.hide()}catch(e){return void this.$q.notifyError("Falha no envio",e)}finally{ts.Z.hide()}await $utils.emitter.emit("abrirEssilorConsultarPedidoCompleto",this.dados.envelopeOriginal,this.ambiente,!0)},tratarErroEssilor(e){const o=((e.data||[])[0]||{}).mensagem;(0,Fo.verificarErro)(!o,"Erro nos servidores da Essilor");const t=e.data.map((e=>e.mensagem+" (código: "+(e.codigo||"")+")"));$g.modalAlerta.show({titulo:"Erro",erros:t})},eventoCancelar(){Fo.gconsole.log("EssilorPedidoLaboratorio","eventoCancelar",this.dados),this.$refs.dialog.hide()},async selecionarLenteEssilor(e){try{if(!this.dados[e].tipoProducaoEssilor||!this.dados[e].tipoProdutoEssilor)return this.dados[e].detalheProduto={},void(this.dados[e].opcoesProdutos=[]);this.modalConfirma={visivel:this.mostrarJson,eventoConfirmar:this.selecionarLenteEssilor2,olho:e,titulo:"Consultar produtos "+this.dados.envelope.cnpjLaboratorio,cor:"primary",json:JSON.stringify({tipoProducao:this.dados[e].tipoProducaoEssilor,tipoProduto:this.dados[e].tipoProdutoEssilor},0,2)},this.mostrarJson||this.modalConfirma.eventoConfirmar()}catch(e){this.$q.notifyError("Falha na consulta",e)}},async selecionarLenteEssilor2(){try{this.modalConfirma.visivel=!1;const e=this.modalConfirma.olho,{usuario:o,senha:t}=await ue.db.configuracoes.leLaboratorioEssilor(this.dados.envelope.codigoLaboratorio,this.dados.envelope.idEmpresa);ts.Z.show({spinner:as.Z,spinnerColor:"amber",message:"Consultando produtos"});const a=await Eme.consultarProdutos(this.dados.envelope.cnpjLaboratorio,o,t,this.ambiente,JSON.parse(this.modalConfirma.json)),i=[200,201,206].includes(a.status);if(this.modalResultado={visivel:this.mostrarJson,titulo:"Resposta status "+a.status,cor:i?"primary":"negative",resultado:JSON.stringify({data:a.data},0,2)},!i)return this.dados[e].detalheProduto={},this.dados[e].opcoesProdutos=[],void this.tratarErroEssilor(a);const r=a.data.map((e=>({label:e.descricao+" - "+e.codigo,value:e.codigo})));r.sort(((e,o)=>e.label<o.label?-1:1)),this.dados[e].opcoesProdutos=r,(0,Fo.verificarErro)(!this.dados[e].opcoesProdutos.length,"Não encontrado produtos para os critérios selecionados")}catch(e){this.$q.notifyError("Falha na consulta",e)}finally{ts.Z.hide()}},buscarOpcoesTratamento(e,o){setTimeout((()=>{o((()=>{if(e||(this.opcoesTratamentosFilter=$utils.clonarV2(this.opcoesTratamentos)),e){const o=$utils.removerAcentos(e).toLowerCase().replace(/\s+/," ").trim().split(" ");this.opcoesTratamentosFilter=this.opcoesTratamentos.filter((e=>{let t=$utils.removerAcentos(e.label).toLowerCase().replace(/\s+/," ").trim();for(const e of o)if(!~t.indexOf(e))return!1;return!0}))}}))}),500)},buscarOpcoesMontagem(e,o){setTimeout((()=>{o((()=>{if(e||(this.opcoesMontagemFilter=$utils.clonarV2(this.opcoesMontagem)),e){const o=$utils.removerAcentos(e).toLowerCase().replace(/\s+/," ").trim().split(" ");this.opcoesMontagemFilter=this.opcoesMontagem.filter((e=>{let t=$utils.removerAcentos(e.label).toLowerCase().replace(/\s+/," ").trim();for(const e of o)if(!~t.indexOf(e))return!1;return!0}))}}))}),500)},buscarOpcoesColoracao(e,o){setTimeout((()=>{o((()=>{if(e||(this.opcoesColoracaoFilter=$utils.clonarV2(this.opcoesColoracao)),e){const o=$utils.removerAcentos(e).toLowerCase().replace(/\s+/," ").trim().split(" ");this.opcoesColoracaoFilter=this.opcoesColoracao.filter((e=>{let t=$utils.removerAcentos(e.label).toLowerCase().replace(/\s+/," ").trim();for(const e of o)if(!~t.indexOf(e))return!1;return!0}))}}))}),500)},async buscarOpcoesProdutos(e,o,t){setTimeout((()=>{o((()=>{if(e||(this.opcoesProduto[t]=this.dados[t].opcoesProdutos),e){const o=$utils.removerAcentos(e).toLowerCase().replace(/\s+/," ").trim().split(" ");this.opcoesProduto[t]=this.dados[t].opcoesProdutos.filter((e=>{let t=$utils.removerAcentos(e.label).toLowerCase().replace(/\s+/," ").trim();for(const e of o)if(!~t.indexOf(e))return!1;return!0}))}}))}),500)},async selecionarProdutoEssilor(e,o){try{if(this.dados[o].produtoEssilor=e?.value,!this.dados[o].produtoEssilor)return this.dados[o].detalheProduto={},this.opcoesTratamentos=[],this.opcoesTratamentosFilter=[],this.opcoesMontagem=[],this.opcoesMontagemFilter=[],this.opcoesColoracao=[],void(this.opcoesColoracaoFilter=[]);this.dados.json.receita[o].codigoLinhaProduto=this.dados[o].produtoEssilor,this.dados.json.receita[o].tipoProducao=this.dados[o].tipoProducaoEssilor,this.dados.json.receita[o].tipoProduto=this.dados[o].tipoProdutoEssilor,this.modalConfirma={visivel:this.mostrarJson,eventoConfirmar:this.selecionarProdutoEssilor2,olho:o,titulo:"Consultar produto "+this.dados.envelope.cnpjLaboratorio,cor:"primary",json:this.dados[o].produtoEssilor},this.mostrarJson||this.modalConfirma.eventoConfirmar()}catch(e){this.$q.notifyError("Falha na consulta",e)}finally{ts.Z.hide()}},async selecionarProdutoEssilor2(){try{this.modalConfirma.visivel=!1;const e=this.modalConfirma.olho,{usuario:o,senha:t}=await ue.db.configuracoes.leLaboratorioEssilor(this.dados.envelope.codigoLaboratorio,this.dados.envelope.idEmpresa);ts.Z.show({spinner:as.Z,spinnerColor:"amber",message:"Consultando produto"});const a=await Eme.consultarProduto(this.dados.envelope.cnpjLaboratorio,o,t,this.ambiente,this.modalConfirma.json),i=[200,201,206].includes(a.status);if(this.modalResultado={visivel:this.mostrarJson,titulo:"Resposta status "+a.status,cor:i?"primary":"negative",resultado:JSON.stringify({data:a.data},0,2)},this.opcoesTratamentos=[{label:"",value:""}],this.opcoesMontagem=[{label:"",value:""}],this.opcoesColoracao=[{label:"",value:""}],!i)return this.dados[e].detalheProduto={},void this.tratarErroEssilor(a);this.dados[e].detalheProduto={detalheProduto:a.data};for(const e of a.data.servicos){const o={label:e.tipo+" - "+e.descricao+" - "+e.codigo,value:e.codigo};"MONTAGEM"!==e.tipo?"COLORACAO"!==e.tipo?this.opcoesTratamentos.push(o):this.opcoesColoracao.push(o):this.opcoesMontagem.push(o)}this.opcoesMontagemFilter=$utils.clonarV2(this.opcoesMontagem),this.opcoesTratamentosFilter=$utils.clonarV2(this.opcoesTratamentos),this.opcoesColoracaoFilter=$utils.clonarV2(this.opcoesColoracao),this.opcoesTipoMontagem=a.data.armacao.tipo.dominio.map((e=>({rotulo:e.codigo+" - "+e.descricao,valor:e.codigo})))}catch(e){this.$q.notifyError("Falha na consulta",e)}finally{ts.Z.hide()}},async show(){this.ambiente="",this.listaReceita={},this.modalConfirma={visivel:!1},this.modalResultado={visivel:!1},this.mostrarJson=!1,this.opcoesModeloLenteEssilor=[],this.opcoesProdutoEssilor={olhoDireito:[],olhoEsquerdo:[]},this.opcoesTipoMontagem=[],this.opcoesProduto={olhoDireito:[],olhoEsquerdo:[]},this.tratamentoEssilor="",this.opcoesTratamentos=[],this.opcoesTratamentosFilter=[],this.montagemEssilor="",this.opcoesMontagem=[],this.opcoesMontagemFilter=[],this.coloracaoEssilor="",this.opcoesColoracao=[],this.opcoesColoracaoFilter=[],this.modalAlerta={visivel:!1,titulo:"Erro",erros:[]},this.habilitarMontagemCorte=!0,await this.$nextTick();try{const e=(await this.$utils.geeksApi({consultaPedidoEssilor:{funcao:"BAF56393-8CBD-45D7-8A0C-2F9697683143",referencia:"idEnvelope:"+this.dados.envelope.id}}))?.data?.consultaPedidoEssilor?.json?.idPedidoOtica;if(e){this.$q.loading.hide();const o=new Promise(((e,o)=>{this.modalPedidoJaEnviado={visivel:!0,resolve:e,reject:o}}));await o;const t=e[0]+String.fromCharCode(e[1].charCodeAt(0)+1)+e.substr(2);this.dados.json.idPedidoOtica=t,this.$q.loading.show({message:"Consultando"})}}catch(e){if("rejeitado"===e)return}finally{this.modalPedidoJaEnviado.visivel=!1}await this.atualizar(),this.$refs.dialog.show()}},props:{dados:{required:!0,type:Object}},watch:{ambiente(){this.atualizarModelosLentes()}}},Tme=(0,T.Z)(Mme,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("nomeValor"),n=(0,a.resolveComponent)("column"),c=(0,a.resolveComponent)("badge"),d=(0,a.resolveComponent)("row"),m=(0,a.resolveComponent)("campo"),u=(0,a.resolveComponent)("q-toggle"),p=(0,a.resolveComponent)("card"),h=(0,a.resolveComponent)("q-th"),C=(0,a.resolveComponent)("q-tr"),v=(0,a.resolveComponent)("q-td"),f=(0,a.resolveComponent)("q-table"),N=(0,a.resolveComponent)("q-btn"),V=(0,a.resolveComponent)("q-item-section"),g=(0,a.resolveComponent)("q-item"),x=(0,a.resolveComponent)("q-select"),b=(0,a.resolveComponent)("ArvoreJson"),w=(0,a.resolveComponent)("q-icon"),_=(0,a.resolveComponent)("q-card-section"),y=(0,a.resolveComponent)("q-card"),I=(0,a.resolveComponent)("q-item-label"),E=(0,a.resolveComponent)("dialogForm"),S=(0,a.resolveComponent)("EssilorModalConfirmacao"),M=(0,a.resolveComponent)("EssilorModalResultado"),T=(0,a.resolveComponent)("q-toolbar-title"),k=(0,a.resolveComponent)("q-toolbar"),D=(0,a.resolveComponent)("q-separator"),q=(0,a.resolveComponent)("q-dialog"),F=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(E,{ref:"dialog",title:"Pedido ao Laboratorio Essilor",labelButtonSubmit:"Enviar",size:"max",onSubmit:l.eventoConfirmar,hideOnSubmit:!1},{default:(0,a.withCtx)((()=>[t.dados.envelope?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(p,{icon:"mdi-file-eye",label:"Envelope"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{col:"auto"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{nome:"Paciente",valor:e.$get(t.dados,"envelope.nomeCliente")},null,8,["valor"]),(0,a.createVNode)(s,{nome:"Laboratório",valor:e.$get(t.dados,"envelope.nomeLaboratorio")},null,8,["valor"])])),_:1}),(0,a.createVNode)(n,{col:""}),(0,a.createVNode)(c,{class:"col-auto q-mx-xs",cor:"tertiary",escuro:"",icone:"mdi-email",rotulo:t.dados.json.idPedidoOtica},null,8,["rotulo"])])),_:1}),e.$db.usuario.logado.administrador&&[1,2].includes(e.$db.usuario.logado.grupoInterno)?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.dados.json.idPedidoOtica,"onUpdate:modelValue":o[0]||(o[0]=e=>t.dados.json.idPedidoOtica=e),modelModifiers:{trim:!0},col:"4",maxlength:"100","rotulo-fixo":"Código do pedido da ótica"},null,8,["modelValue"]),(0,a.createVNode)(m,{modelValue:r.ambiente,"onUpdate:modelValue":o[1]||(o[1]=e=>r.ambiente=e),col:"4",opcoes:l.opcoesAmbiente,"rotulo-fixo":"Ambiente",tipo:"seletor"},null,8,["modelValue","opcoes"]),(0,a.createVNode)(u,{modelValue:r.mostrarJson,"onUpdate:modelValue":o[2]||(o[2]=e=>r.mostrarJson=e),class:"col-12 col-md-4 q-pa-md",label:"Mostrar Json"},null,8,["modelValue"])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.dados.json.observacao,"onUpdate:modelValue":o[3]||(o[3]=e=>t.dados.json.observacao=e),modelModifiers:{trim:!0},col:"12",maxlength:"999",tipo:"textoArea","rotulo-fixo":"Observação"},null,8,["modelValue"])])),_:1})])),_:1}),((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(["olhoDireito","olhoEsquerdo"],(o=>(0,a.createVNode)(p,{key:o,icon:"mdi-eye",label:"olhoDireito"===o?"Olho direito":"Olho esquerdo"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"no-shadow",rows:r.listaReceita[o],columns:l.colunasReceita,"row-key":"name",separator:"cell",dense:"","hide-bottom":""},{header:(0,a.withCtx)((e=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{key:"distancia",props:e,style:{"min-width":"110px","max-width":"110px"}},null,8,["props"]),(0,a.createVNode)(h,{key:"adicao",props:e},{default:(0,a.withCtx)((()=>[sme])),_:2},1032,["props"]),(0,a.createVNode)(h,{key:"esferico",props:e},{default:(0,a.withCtx)((()=>[nme])),_:2},1032,["props"]),(0,a.createVNode)(h,{key:"cilindrico",props:e},{default:(0,a.withCtx)((()=>[cme])),_:2},1032,["props"]),(0,a.createVNode)(h,{key:"eixo",props:e},{default:(0,a.withCtx)((()=>[dme])),_:2},1032,["props"]),(0,a.createVNode)(h,{key:"prisma",props:e},{default:(0,a.withCtx)((()=>[mme])),_:2},1032,["props"]),(0,a.createVNode)(h,{key:"base",props:e},{default:(0,a.withCtx)((()=>[ume])),_:2},1032,["props"]),(0,a.createVNode)(h,{key:"dnp",props:e},{default:(0,a.withCtx)((()=>[pme])),_:2},1032,["props"])])),_:2},1024)])),body:(0,a.withCtx)((o=>[(0,a.createVNode)(C,{props:o},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{key:"distancia",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.distancia),1)])),_:2},1032,["props"]),(0,a.createVNode)(v,{key:"adicao",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numeroSinal(o.row.adicao,2)),1)])),_:2},1032,["props"]),(0,a.createVNode)(v,{key:"esferico",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numeroSinal(o.row.grauEsferico,2)),1)])),_:2},1032,["props"]),(0,a.createVNode)(v,{key:"cilindrico",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numeroSinal(o.row.grauCilindro,2)),1)])),_:2},1032,["props"]),(0,a.createVNode)(v,{key:"eixo",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numeroOuBranco(o.row.eixo)),1)])),_:2},1032,["props"]),(0,a.createVNode)(v,{key:"prisma",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.valorPrismaHorizontal),1)])),_:2},1032,["props"]),(0,a.createVNode)(v,{key:"base",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.eixoPrismaHorizontal),1)])),_:2},1032,["props"]),(0,a.createVNode)(v,{key:"dnp",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numeroOuBranco(o.row.dnp,2)),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:2},1032,["rows","columns"]),(0,a.createVNode)(d,{class:"q-py-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{nome:"Lente",valor:e.$get(t.dados,"envelope."+o+".descricaoConcatenada")},null,8,["valor"]),(0,a.createVNode)(s,{nome:"Código",valor:e.$get(t.dados,"envelope."+o+".codigoItem")},null,8,["valor"]),(0,a.createVNode)(s,{nome:"Referência",valor:e.$get(t.dados,"envelope."+o+".referencia")},null,8,["valor"]),(0,a.createVNode)(s,{nome:"Tipo",valor:e.$get(t.dados,"envelope."+o+".lenteTipo")},null,8,["valor"]),(0,a.createVNode)(s,{nome:"Custo",valor:e.$filters.numero(e.$get(t.dados,"envelope."+o+".valorCusto"),2)},null,8,["valor"]),(0,a.createVNode)(s,{nome:"Venda",valor:e.$filters.numero(e.$get(t.dados,"envelope."+o+".total"),2)},null,8,["valor"])])),_:2},1024),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{col:"12",class:"q-title"},{default:(0,a.withCtx)((()=>[hme])),_:1}),"olhoEsquerdo"===o?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0,col:"12",class:"q-pa-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{color:"primary",class:"no-shadow",icon:"redo",label:"Copiar OD > OE",onClick:l.copiarOdParaOe},null,8,["onClick"])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(m,{modelValue:t.dados[o].tipoProdutoEssilor,"onUpdate:modelValue":[e=>t.dados[o].tipoProdutoEssilor=e,e=>l.selecionarLenteEssilor(o)],col:"3",opcoes:r.opcoesProdutoEssilor[o],"rotulo-fixo":"Tipo produto",tipo:"seletor"},null,8,["modelValue","onUpdate:modelValue","opcoes"]),(0,a.createVNode)(m,{modelValue:t.dados[o].tipoProducaoEssilor,"onUpdate:modelValue":[e=>t.dados[o].tipoProducaoEssilor=e,e=>l.selecionarLenteEssilor(o)],col:"3",opcoes:l.opcoesProducaoEssilor,"rotulo-fixo":"Tipo produção",tipo:"seletor"},null,8,["modelValue","onUpdate:modelValue","opcoes"]),(t.dados[o].opcoesProdutos||[]).length?((0,a.openBlock)(),(0,a.createBlock)(x,{key:1,"model-value":t.dados[o].opcoesProdutos.find((e=>e.value===t.dados[o].produtoEssilor))?.label,clearable:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",dense:"",label:"Produto",options:r.opcoesProduto[o],"onUpdate:modelValue":e=>l.selecionarProdutoEssilor(e,o),onClear:e=>t.dados[o].produtoEssilor="",onFilter:(e,t)=>l.buscarOpcoesProdutos(e,t,o),class:"col-6"},{"no-option":(0,a.withCtx)((()=>[(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"text-grey"},{default:(0,a.withCtx)((()=>[Cme])),_:1})])),_:1})])),_:2},1032,["model-value","options","onUpdate:modelValue","onClear","onFilter"])):(0,a.createCommentVNode)("",!0)])),_:2},1024),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:t.dados.json.receita[o].altura,"onUpdate:modelValue":e=>t.dados.json.receita[o].altura=e,col:"3",tipo:"decimal",decimals:"2",passo:".5",rotulo:"Altura montagem",permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[t.dados[o].detalheProduto.detalheProduto?((0,a.openBlock)(),(0,a.createBlock)(b,{key:0,json:t.dados[o].detalheProduto,class:"col-12 q-pa-sm"},null,8,["json"])):(0,a.createCommentVNode)("",!0)])),_:2},1024),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.$get(t.dados,"envelope."+o+".tratamentos"),((o,t)=>((0,a.openBlock)(),(0,a.createBlock)(d,{key:t},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{nome:"Tratamento",valor:e.$get(o,"descricaoConcatenada")},null,8,["valor"]),(0,a.createVNode)(s,{nome:"Código",valor:e.$get(o,"codigoItem")},null,8,["valor"]),(0,a.createVNode)(s,{nome:"Referência",valor:e.$get(o,"referencia")},null,8,["valor"]),(0,a.createVNode)(s,{nome:"Custo",valor:e.$filters.numero(e.$get(o,"valorCusto"),2)},null,8,["valor"]),(0,a.createVNode)(s,{nome:"Venda",valor:e.$filters.numero(e.$get(o,"total"),2)},null,8,["valor"])])),_:2},1024)))),128))])),_:2},1032,["label"]))),64)),(0,a.createVNode)(y,(0,a.mergeProps)({class:"row bg-white q-pa-md q-my-md no-shadow"},e.$attrs),{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"col-12 q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{name:"mdi-set-none",size:"32px"}),vme])),_:1}),(0,a.createVNode)(_,{class:"col-12 q-pl-none q-pr-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{"model-value":r.opcoesTratamentos.find((e=>e.value===r.tratamentoEssilor))?.label,clearable:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",dense:"",label:"Tratamento",options:r.opcoesTratamentosFilter,"onUpdate:modelValue":o[4]||(o[4]=e=>r.tratamentoEssilor=e?.value),onClear:o[5]||(o[5]=()=>r.tratamentoEssilor=""),onFilter:l.buscarOpcoesTratamento,class:"col-md-4 col-xs-12"},{"no-option":(0,a.withCtx)((()=>[(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"text-grey"},{default:(0,a.withCtx)((()=>[fme])),_:1})])),_:1})])),_:1},8,["model-value","options","onFilter"]),(0,a.createVNode)(x,{"model-value":r.opcoesColoracao.find((e=>e.value===r.coloracaoEssilor))?.label,clearable:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",dense:"",label:"Coloração",options:r.opcoesColoracaoFilter,"onUpdate:modelValue":o[6]||(o[6]=e=>r.coloracaoEssilor=e?.value),onClear:o[7]||(o[7]=()=>r.coloracaoEssilor=""),onFilter:l.buscarOpcoesColoracao,class:"col-md-4 col-xs-12"},{"no-option":(0,a.withCtx)((()=>[(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"text-grey"},{default:(0,a.withCtx)((()=>[Nme])),_:1})])),_:1})])),_:1},8,["model-value","options","onFilter"]),(0,a.createVNode)(g,{class:"q-pt-none col-md-4 col-xs-12"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[r.habilitarMontagemCorte?((0,a.openBlock)(),(0,a.createBlock)(x,{key:0,"model-value":r.opcoesMontagem.find((e=>e.value===r.montagemEssilor))?.label,clearable:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",dense:"",label:"Montagem/corte",options:r.opcoesMontagemFilter,"onUpdate:modelValue":o[8]||(o[8]=e=>r.montagemEssilor=e?.value),onClear:l.limparMontagemEssilor,onFilter:l.buscarOpcoesMontagem},{"no-option":(0,a.withCtx)((()=>[(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"text-grey"},{default:(0,a.withCtx)((()=>[Vme])),_:1})])),_:1})])),_:1},8,["model-value","options","onClear","onFilter"])):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(V,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:r.habilitarMontagemCorte,"onUpdate:modelValue":[o[9]||(o[9]=e=>r.habilitarMontagemCorte=e),l.limparMontagemEssilor]},null,8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},16),(0,a.createVNode)(p,{icon:"mdi-glasses",label:"Armação"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>["VISAO_SIMPLES"!==t.dados.olhoDireito.tipoProdutoEssilor||"LENTES_PRONTA"!==t.dados.olhoDireito.tipoProducaoEssilor?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,modelValue:t.dados.json.armacao.vertical,"onUpdate:modelValue":o[10]||(o[10]=e=>t.dados.json.armacao.vertical=e),col:"2",tipo:"decimal",decimals:"2",passo:".5",permiteNull:"",rotulo:"Altura (vertical)"},null,8,["modelValue"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(m,{modelValue:t.dados.json.armacao.horizontal,"onUpdate:modelValue":o[11]||(o[11]=e=>t.dados.json.armacao.horizontal=e),col:"2",tipo:"decimal",decimals:"2",passo:".5",permiteNull:"",rotulo:"Diagonal (horizontal)"},null,8,["modelValue"]),(0,a.createVNode)(m,{modelValue:t.dados.json.armacao.ponte,"onUpdate:modelValue":o[12]||(o[12]=e=>t.dados.json.armacao.ponte=e),col:"2",tipo:"decimal",decimals:"2",passo:".5",permiteNull:"",rotulo:"Ponte"},null,8,["modelValue"]),(0,a.createVNode)(m,{modelValue:t.dados.json.armacao.diametroMaior,"onUpdate:modelValue":o[13]||(o[13]=e=>t.dados.json.armacao.diametroMaior=e),col:"2",tipo:"decimal",decimals:"2",passo:".5",permiteNull:"",rotulo:"Diagonal (diâmetro maior)"},null,8,["modelValue"]),(0,a.createVNode)(m,{modelValue:t.dados.json.armacao.tipo,"onUpdate:modelValue":o[14]||(o[14]=e=>t.dados.json.armacao.tipo=e),col:"2",opcoes:r.opcoesTipoMontagem,"rotulo-fixo":"Tipo montagem",tipo:"seletor"},null,8,["modelValue","opcoes"])])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{modelValue:t.dados.json.armacao.modelo,"onUpdate:modelValue":o[15]||(o[15]=e=>t.dados.json.armacao.modelo=e),options:r.opcoesModeloLenteEssilor,class:"col-12 col-md-4",label:"Modelo de lente",dense:"","map-options":"","emit-value":""},{option:(0,a.withCtx)((e=>[(0,a.createVNode)(g,(0,a.normalizeProps)((0,a.guardReactiveProps)(e.itemProps)),{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("img",{src:e.opt.image,alt:e.opt.label},null,8,gme)])),_:2},1024),(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{innerHTML:e.opt.label},null,8,["innerHTML"])])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options"]),(0,a.createVNode)(n,{col:"12",class:"q-pa-sm",style:{"min-height":"130px"}},{default:(0,a.withCtx)((()=>[r.opcoesModeloLenteEssilor.length&&t.dados.json.armacao.modelo?((0,a.openBlock)(),(0,a.createElementBlock)("img",{key:0,src:(r.opcoesModeloLenteEssilor.find((e=>e.valor===t.dados.json.armacao.modelo))||{}).image,alt:t.dados.json.armacao.modelo},null,8,xme)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1})],64)):(0,a.createCommentVNode)("",!0)])),_:1},8,["onSubmit"]),(0,a.createVNode)(S,{modal:r.modalConfirma},null,8,["modal"]),(0,a.createVNode)(M,{modal:r.modalResultado},null,8,["modal"]),(0,a.createVNode)(q,{modelValue:r.modalAlerta.visivel,"onUpdate:modelValue":o[16]||(o[16]=e=>r.modalAlerta.visivel=e),"content-css":{minWidth:"50vw"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{class:"bg-red text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,{class:"q-mx-sm"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.modalAlerta.titulo),1)])),_:1}),(0,a.withDirectives)((0,a.createVNode)(N,{dense:"",flat:"",round:"",icon:"close"},null,512),[[F]])])),_:1}),(0,a.createVNode)(_,{class:"text-body1 q-mx-lg q-my-sm"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.modalAlerta.erros,((e,o)=>((0,a.openBlock)(),(0,a.createBlock)(d,{key:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e),1)])),_:2},1024)))),128))])),_:1}),(0,a.createVNode)(D),(0,a.createVNode)(k,{color:"light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"justify-end"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(N,{color:"tertiary",flat:"",label:"Fechar"},null,512),[[F]]),(0,a.createVNode)(N,{color:"primary",flat:"",label:"Enviar com novo id",onClick:l.enviarComNovoId},null,8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(q,{modelValue:r.modalPedidoJaEnviado.visivel,"onUpdate:modelValue":o[17]||(o[17]=e=>r.modalPedidoJaEnviado.visivel=e),"content-css":{minWidth:"50vw"},onHide:o[18]||(o[18]=e=>r.modalPedidoJaEnviado.reject("rejeitado"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,{class:"q-mx-sm"},{default:(0,a.withCtx)((()=>[bme])),_:1}),(0,a.withDirectives)((0,a.createVNode)(N,{dense:"",flat:"",round:"",icon:"close"},null,512),[[F]])])),_:1}),(0,a.createVNode)(_,{class:"text-body1 q-mx-lg q-my-sm"},{default:(0,a.withCtx)((()=>[wme])),_:1}),(0,a.createVNode)(D),(0,a.createVNode)(k,{color:"light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"justify-end"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(N,{color:"tertiary",flat:"",label:"Não"},null,512),[[F]]),(0,a.createVNode)(N,{color:"primary",flat:"",label:"Sim",onClick:r.modalPedidoJaEnviado.resolve},null,8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}]]);function kme(e,o=2){return e||0===e?(Number(e||0)>0?"+":"")+Number(e||0).toFixed(o||0):""}function Dme(e){return e||0===e?Math.round(2*Number(e))/2:null}Z()(Mme,"components",{QToggle:il.Z,QTable:nr.Z,QTr:rl.Z,QTh:ll.Z,QTd:sl.Z,QBtn:H.Z,QSelect:al.Z,QItem:z.Z,QItemSection:A.Z,QCard:D.Z,QCardSection:q.Z,QIcon:L.Z,QItemLabel:j.Z,QDialog:k.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QSeparator:$.Z,QSpinnerGears:as.Z}),Z()(Mme,"directives",{ClosePopup:J.Z});const qme={async gerar(e){(0,Fo.verificarErro)(!e.codigoDocumento,"Código do envelope inválido");const o={...e,...(await(0,Fo.executarSql)(`select documentoCodigo, numero, codigoDocumentoAdicional, tipo, observacao from documento where codigoDocumento=${(0,Fo.sqlNum)(e.codigoDocumento)}`))[0]};(0,Fo.verificarErro)(!o,"Envelope não encontrado"),(0,Fo.verificarErro)(!o.documentoCodigo,"Envelope sem venda"),(0,Fo.verificarErro)(!o.codigoDocumentoAdicional,"Envelope sem receita");const t=(await(0,Fo.executarSql)(`select numeroDocumentoEmpresa, numero, tipo, observacao from documento where codigoDocumento=${(0,Fo.sqlNum)(o.documentoCodigo)}`))[0];(0,Fo.verificarErro)(!t,"Venda não encontrada");const a=(await(0,Fo.executarSql)(`select codigoDocumento, tipo, observacao from documento where codigoDocumento=${(0,Fo.sqlNum)(o.codigoDocumentoAdicional)}`))[0];let i,r;switch((0,Fo.verificarErro)(!a,"Receita não encontrada"),a.itens=await(0,Fo.executarSql)(`select operacao, status, di, eixo, cilindrico, adicao, esferico, prisma, base\n       from documentoItem\n       where codigoDocumento=${(0,Fo.sqlNum)(a.codigoDocumento)}\n         and tipoItem = 'Prescrição'`),(0,Fo.verificarErro)(!a.itens||!a.itens.length,"Receita sem itens"),a.odLonge=a.itens.find((e=>"Olho Direito"===e.operacao&&"Longe"===e.status)),a.oeLonge=a.itens.find((e=>"Olho Esquerdo"===e.operacao&&"Longe"===e.status)),(0,Fo.verificarErro)(!a.odLonge,"Receita sem informações do Olho Direito de distância Longe"),(0,Fo.verificarErro)(!a.oeLonge,"Receita sem informações do Olho Esquerdo de distância Longe"),a.odMedio=a.itens.find((e=>"Olho Direito"===e.operacao&&"Medio"===e.status))||{},a.oeMedio=a.itens.find((e=>"Olho Esquerdo"===e.operacao&&"Medio"===e.status))||{},a.odPerto=a.itens.find((e=>"Olho Direito"===e.operacao&&"Perto"===e.status))||{},a.oePerto=a.itens.find((e=>"Olho Esquerdo"===e.operacao&&"Perto"===e.status))||{},o.itens=await(0,Fo.executarSql)(`select di.tipoItem, di.codigoItem, di.total, di.oculos,\n         di.alturaMontagemOD, di.alturaMontagemOE,\n         i.descricaoConcatenada, i.referencia, i.valorCusto, i.lenteTipo,\n         di.ponte, di.altura, di.diagonal, di.haste, di.tamanho, di.tipoMontagem\n       from documentoItem di\n       left join item i on i.codigoItem = di.codigoItem\n       where codigoDocumentoAdicional=${(0,Fo.sqlNum)(e.codigoDocumento)}`),(0,Fo.verificarErro)(!o.itens||!o.itens.length,"Envelope sem itens"),o.olhoDireito=o.itens.find((e=>"LOD"===e.tipoItem))||{},o.olhoDireito.tratamentos=o.itens.filter((e=>"TLOD"===e.tipoItem)),o.olhoEsquerdo=o.itens.find((e=>"LOE"===e.tipoItem))||{},o.olhoEsquerdo.tratamentos=o.itens.filter((e=>"TLOE"===e.tipoItem)),o.armacao=o.itens.find((e=>"Armação"===e.tipoItem))||{},o.armacao.oculos){case"Multifocal (Longe e Perto)":case"Bifocal (Longe e Perto)":i={grauEsferico:a.odLonge.esferico,grauCilindro:a.odLonge.cilindrico,eixo:a.odLonge.eixo,adicao:a.odPerto.adicao,dnp:a.odLonge.di,dnpPerto:a.odPerto.di},r={grauEsferico:a.oeLonge.esferico,grauCilindro:a.oeLonge.cilindrico,eixo:a.oeLonge.eixo,adicao:a.oePerto.adicao,dnp:a.oeLonge.di,dnpPerto:a.oePerto.di};break;case"Monofocal (Longe)":i={grauEsferico:a.odLonge.esferico,grauCilindro:a.odLonge.cilindrico,eixo:a.odLonge.eixo,dnp:a.odLonge.di},r={grauEsferico:a.oeLonge.esferico,grauCilindro:a.oeLonge.cilindrico,eixo:a.oeLonge.eixo,dnp:a.oeLonge.di};break;case"Monofocal (Médio)":i={grauEsferico:a.odMedio.esferico,grauCilindro:a.odMedio.cilindrico,eixo:a.odMedio.eixo,dnp:a.odMedio.di},r={grauEsferico:a.oeMedio.esferico,grauCilindro:a.oeMedio.cilindrico,eixo:a.oeMedio.eixo,dnp:a.oeMedio.di};break;case"Monofocal (Perto)":i={grauEsferico:a.odPerto.esferico,grauCilindro:a.odPerto.cilindrico,eixo:a.odPerto.eixo,dnp:a.odPerto.di},r={grauEsferico:a.oePerto.esferico,grauCilindro:a.oePerto.cilindrico,eixo:a.oePerto.eixo,dnp:a.oePerto.di};break;case"Intermediário (Médio e Perto)":i={grauEsferico:a.odMedio.esferico,grauCilindro:a.odMedio.cilindrico,eixo:a.odMedio.eixo,adicao:a.odPerto.adicao,dnp:a.odMedio.di,dnpPerto:a.odPerto.di},r={grauEsferico:a.oeMedio.esferico,grauCilindro:a.oeMedio.cilindrico,eixo:a.oeMedio.eixo,adicao:a.oePerto.adicao,dnp:a.oeMedio.di,dnpPerto:a.oePerto.di};break;case"Intermediário (Longe e Médio)":i={grauEsferico:a.odLonge.esferico,grauCilindro:a.odLonge.cilindrico,eixo:a.odLonge.eixo,adicao:a.odMedio.adicao,dnp:a.odLonge.di},r={grauEsferico:a.oeLonge.esferico,grauCilindro:a.oeLonge.cilindrico,eixo:a.oeLonge.eixo,adicao:a.oeMedio.adicao,dnp:a.oeLonge.di};break;default:(0,Fo.verificarErro)(!0,"Tipo do envelope inválido")}a.odLonge.base=a.odLonge.base.toUpperCase()||"NASAL";const l=["NASAL","TEMPORAL"].includes(a.odLonge.base)&&!!a.odLonge.prisma,s=["SUPERIOR","INFERIOR"].includes(a.odLonge.base)&&!!a.odLonge.prisma;a.oeLonge.base=a.oeLonge.base.toUpperCase()||"NASAL";const n=["NASAL","TEMPORAL"].includes(a.oeLonge.base)&&!!a.oeLonge.prisma,c=["SUPERIOR","INFERIOR"].includes(a.oeLonge.base)&&!!a.oeLonge.prisma;(0,Fo.verificarErro)(!o.numero,"Envelope sem número");const d={idPedidoOtica:"EA"+(0,Fo.stringOrEmpty)(o.numero).padStart(8,"0"),observacao:o.observacao||a.observacao||t.observacao||"",servicos:[],receita:{olhoDireito:{grauEsferico:kme(i.grauEsferico),grauCilindro:kme(i.grauCilindro||0),eixo:(0,Fo.stringOrEmpty)(i.eixo),adicao:kme(i.adicao),dnp:(0,Fo.stringOrEmpty)(Dme(i.dnp)),altura:(0,Fo.stringOrEmpty)(Dme(o.armacao.alturaMontagemOD)),codigoLinhaProduto:"",tipoProducao:"",tipoProduto:"",eixoPrismaHorizontal:l?a.odLonge.base:void 0,valorPrismaHorizontal:l?(0,Fo.stringOrEmpty)(a.odLonge.prisma):void 0,eixoPrismaVertical:s?a.odLonge.base:void 0,valorPrismaVertical:s?(0,Fo.stringOrEmpty)(a.odLonge.prisma):void 0},olhoEsquerdo:{grauEsferico:kme(r.grauEsferico),grauCilindro:kme(r.grauCilindro||0),eixo:(0,Fo.stringOrEmpty)(r.eixo),adicao:kme(r.adicao),dnp:(0,Fo.stringOrEmpty)(Dme(r.dnp)),altura:(0,Fo.stringOrEmpty)(Dme(o.armacao.alturaMontagemOE)),codigoLinhaProduto:"",tipoProducao:"",tipoProduto:"",eixoPrismaHorizontal:n?a.oeLonge.base:void 0,valorPrismaHorizontal:n?(0,Fo.stringOrEmpty)(a.oeLonge.prisma):void 0,eixoPrismaVertical:c?a.oeLonge.base:void 0,valorPrismaVertical:c?(0,Fo.stringOrEmpty)(a.oeLonge.prisma):void 0}},armacao:{vertical:(0,Fo.stringOrEmpty)(Dme(o.armacao.altura)),horizontal:(0,Fo.stringOrEmpty)(Dme(o.armacao.diagonal)),ponte:(0,Fo.stringOrEmpty)(Dme(o.armacao.ponte)),diametroMaior:(0,Fo.stringOrEmpty)(Dme(o.armacao.diagonal)),tipo:"1",modelo:"",cor:"",marca:"",referencia:""},parametros:{olhoDireito:{dnpPerto:(0,Fo.stringOrEmpty)(Dme(i.dnpPerto)),distanciaVertice:"",cro:"",anguloPantoscopico:"",anguloCurvatura:"",distanciaLeitura:"",coeficienteHE:"",coeficienteST:"",distanciaProgressao:"",cvp:"",vmap:""},olhoEsquerdo:{dnpPerto:(0,Fo.stringOrEmpty)(Dme(r.dnpPerto)),distanciaVertice:"",cro:"",anguloPantoscopico:"",anguloCurvatura:"",distanciaLeitura:"",coeficienteHE:"",coeficienteST:"",distanciaProgressao:"",cvp:"",vmap:""},olhoDominante:""},paciente:{nome:"",cpf:"",iniciaisPaciente:""},medico:{nome:"",crm:""},vendedor:{nome:"",cpf:""}};return Fo.gconsole.log("gerarJsonPedido",{json:d,envelope:o,venda:t,receita:a}),{json:d,envelope:o,envelopeOriginal:e,venda:t,receita:a,olhoDireito:{detalheProduto:{},opcoesProdutos:[],opcoesTratamentos:[]},olhoEsquerdo:{detalheProduto:{},opcoesProdutos:[],opcoesTratamentos:[]}}}},Fme={Processando:[],"Translado Loja para Pedido":[],"Translado Pedido para Loja":[],"Aguardando Retorno":[],"Processando Montagem":[],"Pronto para Entrega":[],"Cliente Informado":[],Entregue:[]},Pme={components:{Badge:S.Z,EnvelopeTrocarStatus:Lde,EssilorConsultarPedidoCompleto:lme,EssilorPedidoLaboratorio:Tme,ModalHistoricoStatus:Qi.Z,Tutorial:po.Z,draggable:J4()},data:()=>({showfilters:!1,empresaOpcoes:[],empresaSelecionada:null,entregueFim:new Date((new Date).toDateString()),entregueInicio:new Date((new Date).toDateString()),essilorPedido:null,fraseFiltro:"",laboratoriosEssilor:null,listas:(0,Fo.clonarV2)(Fme),pedidoLaboratorioEssilor:{},trocarStatusDados:{},trocarStatusModal:!1,periodoOpcoes:[{label:"Hoje",value:0},{label:"Uma semana",value:7},{label:"Um mês",value:30}],prazoSelecionado:null,prazoOpcoes:[{label:"Em dia",value:"bordaVerdeEnvelope"},{label:"Entrega para esta semana",value:"bordaAmarelaEnvelope"},{label:"Entrega atrasada",value:"bordaVermelhaEnvelope"}],tamanhoLista:{},listasFiltradas:(0,Fo.clonarV2)(Fme)}),methods:{async eventoEnd(){for(const e in this.listasFiltradas)for(const o of this.listasFiltradas[e])if(o.status!==e){Fo.gconsole.log("AdmEnvelope","eventoEnd De:",o.status,"Para:",e,"codigo:",o.codigoDocumento);const t=["Aguardando Retorno","Processando Montagem","Pronto para Entrega","Cliente Informado","Entregue"].includes(e),a="1"===(await ue.db.configuracoes.leOnline({nome:"compras.lentes.pedidoautomatico"}))[0].valor&&["Aguardando Retorno","Processando Montagem","Pronto para Entrega","Cliente Informado","Entregue"].includes(e),i=this.laboratoriosEssilor.includes(o.codigoLaboratorio);return this.trocarStatusDados={envelope:o,codigoContatoResponsavel:o.codigoContatoResponsavel,codigoDocumento:o.codigoDocumento,codigoLaboratorio:o.codigoLaboratorio,codigoLaboratorioOriginal:o.codigoLaboratorio,codigoUsuario:null,gerarPedido:!1,mostraGerarPedido:a,mostraLaboratorio:t,gerarPedidoEssilor:!1,mostraGerarPedidoEssilor:i,laboratoriosEssilor:this.laboratoriosEssilor,nomeCliente:o.nomeCliente,nomeLaboratorio:o.nomeLaboratorio,observacao:"",statusAtual:o.status,statusNovo:e},void(this.trocarStatusModal=!0)}},async eventoConfirmarTroca(e){Fo.gconsole.log("AdmEnvelope","eventoConfirmaTroca",{...e}),this.$q.loading.show();try{const o=(await ue.db.usuario.leOnline(ue.db.usuario.logado.id)||[])[0]||{};if(e.codigoUsuario=o.codigoUsuario,await ue.db.envelope.trocaStatusOnline(e),this.$q.notifyPositive("Status trocado com sucesso"),e.codigoLaboratorio!==e.codigoLaboratorioOriginal){const o=await ue.db.envelope.gravaLaboratorioOnline(e);o&&o.length&&o[0].cnpjLaboratorio&&(e.envelope.cnpjLaboratorio=(0,Fo.filtrarDigitos)(o[0].cnpjLaboratorio||""),e.envelope.codigoLaboratorio=e.codigoLaboratorio)}e.gerarPedido&&(await ue.db.envelope.comprasPedidoViaEnvelopeOnline(e),this.$q.notifyPositive("Pedido de compra gerado")),e.gerarPedidoEssilor&&this.abrirEssilorPedidoLaboratorio(e.envelope),this.atualiza()}catch(e){this.$q.notifyError("Erro na troca de status",e)}finally{this.$q.loading.hide()}},eventoCancelarTroca(e){Fo.gconsole.log("AdmEnvelope","eventoCancelarTroca",e),this.atualiza()},async empresaOpcoesCarregar(){const e=(await $db.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0)).map((e=>e.id)),o=(await $erp().empresa.toArray()).filter((o=>~e.indexOf(o.idContato)));this.empresaOpcoes=o.map((e=>({label:e.nome,value:e.codigoContato,id:e.idContato})))},filtraDebounce(){(0,Ee.debounce)(this.refazFiltro,700)()},async irParaAtendimento(e){const o=await(0,Mo.X)().contato.where({codigoContato:e}).first()||{};o.id&&this.$router.push({name:"Atendimento",params:{id:o.id}})},refazFiltro(){Fo.gconsole.log("AdmEnvelopes","refazFiltro()",this.fraseFiltro,this.empresaSelecionada);const e=(0,Fo.removerAcentos)(this.fraseFiltro.toUpperCase()).split(" ").filter((e=>""!==e));for(const o in this.listas)for(const t of this.listas[o]){const o=(0,Fo.removerAcentos)(t.id.toUpperCase()+t.nomeCliente.toUpperCase()+t.nomeResponsavel.toUpperCase()+t.nomeLaboratorio.toUpperCase()+" "+String(t.numeroVenda)+"  "+String(t.numeroEnvelope)+" ");let a=!0;for(const t of e)a=isNaN(Number(t))?a&&o.includes(t):a&&o.includes(" "+t+" ");this.empresaSelecionada&&(a=a&&this.empresaSelecionada.value===t.codigoEmpresa),t.mostra=a}for(const e in this.listas)this.tamanhoLista[e]=10,this.listasFiltradas[e]=this.listas[e].filter((e=>e.mostra)).slice(0,this.tamanhoLista[e]),document.getElementById(e)&&(document.getElementById(e).removeEventListener("scroll",this.scrollHandler),document.getElementById(e).addEventListener("scroll",this.scrollHandler))},async abrirEssilorConsultarPedidoCompleto(e,o,t){try{Fo.gconsole.log("AdmEnvelopes","abrirEssilorConsultarPedidoCompleto",e),this.$q.loading.show({message:"Consultando"}),this.essilorPedido=e,await this.$refs.dialogEssilorConsultarPedidoCompleto.show(o,t)}catch(e){this.$q.notifyError("Erro na consulta",e)}finally{this.$q.loading.hide()}},async abrirEssilorPedidoLaboratorio(e){try{Fo.gconsole.log("AdmEnvelopes","abrirEssilorPedidoLaboratorio",e),this.$q.loading.show({message:"Consultando"}),this.pedidoLaboratorioEssilor=await qme.gerar(e),await this.$refs.dialogEssilorPedidoLaboratorio.show()}catch(e){this.$q.notifyError("Erro na consulta",e)}finally{this.$q.loading.hide()}},async atualiza(){try{let e;const o=await this.$utils.geeksApi({envelopes:{funcao:"978EC61B-EA4C-4479-B064-560C3ED3A7AB",entregueInicio:this.entregueInicio,entregueFim:this.entregueFim,empresas:this.empresaOpcoes.map((e=>e.id))}});if(e=this.$lodash.get(o,"data.envelopes"),this.$utils.verificarExcecao(!e||e.error,this.$lodash.get(e,"message")),Fo.gconsole.log("AdmEnvelopes","geeksApi()",e.length),(0,Fo.verificarAlerta)(!e||!e.length,"Não há envelopes"),!this.laboratoriosEssilor){const e=await ue.db.configuracoes.leLista("compra.essilor.webservice");this.laboratoriosEssilor=(0,Fo.unicos)(e,"valor").map((e=>Number(e))),Fo.gconsole.log("AdmEnvelopes","laboratoriosEssilor",[...this.laboratoriosEssilor])}const t=(0,Fo.clonarV2)(Fme);for(const o of e){let e="bordaVerdeEnvelope",a="",i="Normal";if("Entregue"===o.status){if(o.dataHoraPrevisto&&o.dataHoraFinalizado){const t=new Date(new Date(o.dataHoraPrevisto).toDateString()),r=(new Date(new Date(o.dataHoraFinalizado).toDateString())-t)/864e5;e=r>=0?"bordaVermelhaEnvelope":r>-7?"bordaAmarelaEnvelope":"bordaVerdeEnvelope",a=r>=0?"negative":r>-7?"warning":"",i=r>=0?"Atrasado":r>-7?"Atenção":"Normal"}}else if(o.dataHoraPrevisto){const t=new Date(new Date(o.dataHoraPrevisto).toDateString()),r=(new Date((new Date).toDateString())-t)/864e5;e=r>=0?"bordaVermelhaEnvelope":r>-7?"bordaAmarelaEnvelope":"bordaVerdeEnvelope",a=r>=0?"negative":r>-7?"warning":"",i=r>=0?"Atrasado":r>-7?"Atenção":"Normal"}const r={id:o.id,codigoCompra:o.codigoCompra||"-",codigoContatoResponsavel:o.codigoContatoResponsavel,codigoDocumento:o.codigoDocumento,codigoEmpresa:o.codigoEmpresa,idEmpresa:o.idEmpresa,descricaoEmpresa:o.descricaoEmpresa,codigoContato:o.codigoContato,codigoLaboratorio:o.codigoLaboratorio,numeroOrdemCompra:o.numeroOrdemCompra,corBorda:e,corLabel:a,txtLabel:i,dataHoraEmissao:new Date(o.dataHoraEmissao),dataHoraFinalizado:new Date(o.dataHoraFinalizado),dataHoraRetorno:new Date(o.dataHoraRetorno),dataHoraPrevisto:new Date(o.dataHoraPrevisto),mostra:!0,nomeCliente:o.nomeCliente||"-",nomeLaboratorio:o.nomeLaboratorio||"",cnpjLaboratorio:(0,Fo.filtrarDigitos)(o.cnpjLaboratorio||""),nomeResponsavel:o.nomeResponsavel||"-",numeroVenda:o.numeroVenda||"-",numeroEnvelope:o.numeroEnvelope||"-",status:o.status};t[o.status]&&t[o.status].push(r)}this.listas=t,this.refazFiltro()}catch(e){this.$q.notifyError("Erro na consulta online de envelopes",e)}},scrollHandler(e){const o=e.target.id;e.target.scrollHeight-e.target.scrollTop-e.target.offsetHeight<100&&(this.tamanhoLista[o]+=10,this.listasFiltradas[o]=this.listas[o].filter((e=>e.mostra)).slice(0,this.tamanhoLista[o]))}},watch:{entregueInicio(){Fo.gconsole.log("AdmEnvelopes","entregueInicio"),this.atualiza()},entregueFim(){Fo.gconsole.log("AdmEnvelopes","entregueFim"),this.atualiza()}},async created(){Fo.gconsole.log("AdmEnvelopes","created()"),await this.empresaOpcoesCarregar(),this.atualiza(),$utils.emitter.off("abrirEssilorConsultarPedidoCompleto"),$utils.emitter.on("abrirEssilorConsultarPedidoCompleto",this.abrirEssilorConsultarPedidoCompleto)},beforeUnmount(){for(const e in Fme)document.getElementById(e)&&document.getElementById(e).removeEventListener("scroll",this.scrollHandler)}},Ame=(0,T.Z)(Pme,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("Tutorial"),c=(0,a.resolveComponent)("q-btn"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-icon"),u=(0,a.resolveComponent)("campo"),p=(0,a.resolveComponent)("q-select"),h=(0,a.resolveComponent)("q-drawer"),C=(0,a.resolveComponent)("badge"),v=(0,a.resolveComponent)("q-card-section"),f=(0,a.resolveComponent)("q-tooltip"),N=(0,a.resolveComponent)("q-item-section"),V=(0,a.resolveComponent)("q-item-label"),g=(0,a.resolveComponent)("q-item"),x=(0,a.resolveComponent)("q-list"),b=(0,a.resolveComponent)("q-menu"),w=(0,a.resolveComponent)("q-card"),_=(0,a.resolveComponent)("draggable"),y=(0,a.resolveComponent)("EnvelopeTrocarStatus"),I=(0,a.resolveComponent)("EssilorPedidoLaboratorio"),E=(0,a.resolveComponent)("EssilorConsultarPedidoCompleto"),S=(0,a.resolveComponent)("modal-historico-status"),M=(0,a.resolveComponent)("q-page"),T=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(M,{class:"AdmEnvelope",id:"AdmEnvelope"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"bg-gradiente text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[dde])),_:1}),(0,a.createVNode)(n,{componente:"AdmEnvelopes"}),(0,a.createVNode)(c,{icon:"mdi-filter",round:"",dense:"",flat:"",onClick:o[0]||(o[0]=e=>r.showfilters=!r.showfilters)})])),_:1}),(0,a.createVNode)(h,{overlay:"",side:"right",modelValue:r.showfilters,"onUpdate:modelValue":o[5]||(o[5]=e=>r.showfilters=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"white","text-color":"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"mdi-filter",color:"tertiary"}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[mde])),_:1}),(0,a.createVNode)(c,{dense:"",flat:"",icon:"close",round:"",onClick:o[1]||(o[1]=e=>r.showfilters=!r.showfilters)})])),_:1}),(0,a.createElementVNode)("div",ude,[(0,a.createVNode)(u,{modelValue:r.fraseFiltro,"onUpdate:modelValue":[o[2]||(o[2]=e=>r.fraseFiltro=e),l.filtraDebounce],rotulo:"Por cliente ou responsável",dense:""},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(p,{modelValue:r.prazoSelecionado,"onUpdate:modelValue":o[3]||(o[3]=e=>r.prazoSelecionado=e),options:r.prazoOpcoes,clearable:"",label:"Por prazo"},null,8,["modelValue","options"]),(0,a.createVNode)(p,{modelValue:r.empresaSelecionada,"onUpdate:modelValue":[o[4]||(o[4]=e=>r.empresaSelecionada=e),l.refazFiltro],options:r.empresaOpcoes,clearable:"",label:"Por empresa"},null,8,["modelValue","options","onUpdate:modelValue"])])])),_:1},8,["modelValue"]),(0,a.createElementVNode)("div",pde,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.listasFiltradas,((t,i)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:i,class:"no-shadow q-py-sm col q-px-none coluna"},[(0,a.createElementVNode)("div",hde,[(0,a.createVNode)(d,{class:"no-shadow q-py-none q-px-sm text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(i),1)])),_:2},1024)])),_:2},1024),"Entregue"===i?((0,a.openBlock)(),(0,a.createElementBlock)("div",Cde,[(0,a.createElementVNode)("div",vde,[(0,a.createVNode)(u,{modelValue:r.entregueInicio,"onUpdate:modelValue":o[6]||(o[6]=e=>r.entregueInicio=e),class:"q-mx-sm",rotulo:"Início",tipo:"data"},null,8,["modelValue"]),(0,a.createVNode)(u,{modelValue:r.entregueFim,"onUpdate:modelValue":o[7]||(o[7]=e=>r.entregueFim=e),class:"q-mx-sm",rotulo:"Fim",tipo:"data"},null,8,["modelValue"])])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(_,{list:t,group:"envelopeGroup",itemKey:"codigoDocumento",delay:"250",draggable:".extratoEnvelope",onEnd:l.eventoEnd,class:"dragAreaEnvelope",id:i},{item:(0,a.withCtx)((({element:o})=>[(0,a.createVNode)(w,{class:(0,a.normalizeClass)(["q-pa-sm q-pb-md q-my-sm q-mb-md shadow-1 extratoEnvelope bg-white",o.corBorda])},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",fde,[(0,a.createElementVNode)("div",Nde,[o.corLabel?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0,cor:o.corLabel,escuro:"",class:"q-mx-xs",rotulo:o.txtLabel},null,8,["cor","rotulo"])):((0,a.openBlock)(),(0,a.createBlock)(C,{key:1,class:"q-mx-xs",rotulo:o.txtLabel},null,8,["rotulo"]))]),(0,a.createElementVNode)("div",Vde,[(0,a.createVNode)(C,{cor:"white",icone:"shopping_cart"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.numeroVenda),1)])),_:2},1024),"-"!==o.codigoCompra?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0,cor:"light",icone:"mdi-factory"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.codigoCompra),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(C,{class:"q-mx-sm",cor:"tertiary",escuro:"",icone:"mdi-email"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.numeroEnvelope),1)])),_:2},1024)])]),(0,a.createVNode)(v,{class:"q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",gde,(0,a.toDisplayString)(o.nomeCliente),1),o.nomeLaboratorio?((0,a.openBlock)(),(0,a.createElementBlock)("div",xde,[(0,a.createVNode)(m,{name:"mdi-sunglasses",color:"grey-7",size:"14px"})])):(0,a.createCommentVNode)("",!0),o.nomeLaboratorio?((0,a.openBlock)(),(0,a.createElementBlock)("div",bde,[(0,a.createTextVNode)(" Laboratório: "+(0,a.toDisplayString)(o.nomeLaboratorio)+" ",1),(0,a.createVNode)(C,{class:"q-mx-xs",cor:"tertiary",escuro:"",icone:"mdi-email",rotulo:o.numeroOrdemCompra},null,8,["rotulo"])])):(0,a.createCommentVNode)("",!0)])),_:2},1024),(0,a.createVNode)(v,{class:"row q-pa-xs q-pb-none q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",wde,[o.descricaoEmpresa?((0,a.openBlock)(),(0,a.createElementBlock)("div",_de,[(0,a.createVNode)(m,{name:"business",color:"grey-7",size:"14px"}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.descricaoEmpresa),1)])),_:2},1024)])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",yde,[(0,a.createVNode)(m,{name:"person",color:"grey-7",size:"14px"})]),(0,a.createElementVNode)("div",Ide,[(0,a.createTextVNode)((0,a.toDisplayString)(o.nomeResponsavel)+" ",1),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[Ede])),_:1})]),(0,a.createElementVNode)("div",Sde,[(0,a.createVNode)(m,{name:"calendar_today",color:"grey-7",size:"14px"})]),(0,a.createElementVNode)("div",Mde,[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(o.dataHoraFinalizado>new Date("1970-01-01T00:00:00.000Z")?o.dataHoraFinalizado:o.dataHoraPrevisto))+" ",1),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.dataHoraFinalizado>new Date("1970-01-01T00:00:00.000Z")?"Finalizado em":"Previsto para"),1)])),_:2},1024)])]),(0,a.createElementVNode)("div",Tde,[(0,a.createVNode)(m,{name:"more_vert",style:{color:"grey",float:"right","text-align":"right","font-size":"1.2rem",cursor:"pointer"},onMouseOver:"this.style.color='black'",onMouseOut:"this.style.color='grey'"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(x,{link:"",separator:""},{default:(0,a.withCtx)((()=>[r.laboratoriosEssilor.includes(o.codigoLaboratorio)?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(g,{clickable:"",onClick:e=>l.abrirEssilorPedidoLaboratorio(o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"trending_up"})])),_:1}),(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[kde])),_:1})])),_:1})])),_:2},1032,["onClick"]),o.numeroOrdemCompra?((0,a.openBlock)(),(0,a.createBlock)(g,{key:0,clickable:"",onClick:e=>l.abrirEssilorConsultarPedidoCompleto(o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"trending_up"})])),_:1}),(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[Dde])),_:1})])),_:1})])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0)],64)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(g,{clickable:"",onClick:t=>e.$refs.modalHistoricoStatus.mostrar({idDocumento:o.codigoDocumento})},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"history"})])),_:1}),(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[qde])),_:1})])),_:1})])),_:2},1032,["onClick"]),(0,a.createVNode)(g,{clickable:"",onClick:e=>l.irParaAtendimento(o.codigoContato)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"launch"})])),_:1}),(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[Fde])),_:1})])),_:1})])),_:2},1032,["onClick"])])),_:2},1536),[[T]])])),_:2},1024)])),_:2},1024)])])),_:2},1024)])),_:2},1032,["class"])])),_:2},1032,["list","onEnd","id"])])])))),128))]),(0,a.createVNode)(y,{modelValue:r.trocarStatusModal,"onUpdate:modelValue":o[8]||(o[8]=e=>r.trocarStatusModal=e),dados:r.trocarStatusDados,onConfirmar:l.eventoConfirmarTroca,onCancelar:l.eventoCancelarTroca},null,8,["modelValue","dados","onConfirmar","onCancelar"]),(0,a.createVNode)(I,{ref:"dialogEssilorPedidoLaboratorio",dados:r.pedidoLaboratorioEssilor},null,8,["dados"]),(0,a.createVNode)(E,{ref:"dialogEssilorConsultarPedidoCompleto",envelope:r.essilorPedido},null,8,["envelope"]),(0,a.createVNode)(S,{ref:"modalHistoricoStatus"},null,512)])),_:1})}]]);Z()(Pme,"components",{QPage:se.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QDrawer:YM.Z,QIcon:L.Z,QSelect:al.Z,QLinearProgress:r_.Z,QCard:D.Z,QCardSection:q.Z,QTooltip:Ao.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z}),Z()(Pme,"directives",{ClosePopup:J.Z});const Bme=(0,a.createTextVNode)("Adm. OS"),Lme=(0,a.createTextVNode)("Filtro Avançado"),Ome={class:"q-pa-md"},zme={class:"row overflowXOS filterfalse"},jme={class:"q-pa-none"},$me={key:0,class:"row"},Ume={class:"col-12"},Zme={class:"q-pa-md"},Qme={class:"row q-mt-xs"},Rme={class:"col-6"},Gme={class:"col-6 justify-end q-pr-xs",style:{display:"flex"}},Hme={class:"text-subtitle1"},Jme={class:"text-caption"},Yme={class:"col-11"},Xme={key:0,style:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},Wme={style:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},Kme={class:"text-caption",style:{display:"inline-block","margin-right":"6px"}},eue={style:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},oue={class:"text-caption",style:{display:"inline-block"}},tue={class:"col-1 self-end"},aue=(0,a.createTextVNode)("Histórico do Status"),iue=(0,a.createTextVNode)("Ir para o Atendimentos"),rue={components:{Badge:S.Z,Campo:L_.Z,OSTrocarStatus:G4,ModalHistoricoStatus:Qi.Z,draggable:J4()},data:()=>({drawer:!0,showfilters:!1,empresaOpcoes:[],empresaSelecionada:null,entregueInicio:new Date(new Date((0,Fo.dataAtual)()).toDateString()),entregueFim:new Date(new Date((0,Fo.dataAtual)()).toDateString()),fraseFiltro:"",listas:{Processando:[],Entregue:[]},trocarStatusDados:{},trocarStatusModal:!1,periodoOpcoes:[{label:"Hoje",value:0},{label:"Uma semana",value:7},{label:"Um mês",value:30}],prazoSelecionado:null,prazoOpcoes:[{label:"Em dia",value:"bordaVerdeOS"},{label:"Entrega para esta semana",value:"bordaAmarelaOS"},{label:"Entrega atrasada",value:"bordaVermelhaOS"}]}),methods:{async eventoEnd(){for(const e in this.listas)for(const o of this.listas[e])if(o.status!==e)return Fo.gconsole.log("AdmOS","eventoEnd De:",o.status,"Para:",e,"codigo:",o.codigoDocumento),this.trocarStatusDados={codigoContatoResponsavel:o.codigoContatoResponsavel,codigoDocumento:o.codigoDocumento,codigoUsuario:null,nomeCliente:o.nomeCliente,observacao:"",statusAtual:o.status,statusNovo:e},void(this.trocarStatusModal=!0)},async eventoConfirmarTroca(e){Fo.gconsole.log("AdmOS","eventoConfirmaTroca",{...e}),this.$q.loading.show();try{const o=(await ue.db.usuario.leOnline(ue.db.usuario.logado.id)||[])[0]||{};e.codigoUsuario=o.codigoUsuario,await ue.db.os.trocaStatusOnline(e),this.$q.notifyPositive("Status trocado com sucesso"),this.atualiza()}catch(e){this.$q.notifyError("Erro na troca de status",e)}finally{this.$q.loading.hide()}},eventoCancelarTroca(e){Fo.gconsole.log("AdmOS","eventoCancelarTroca",e),this.atualiza()},async empresaOpcoesCarregar(){const e=(await $db.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0)).map((e=>e.id)),o=(await $erp().empresa.toArray()).filter((o=>~e.indexOf(o.idContato)));this.empresaOpcoes=o.map((e=>({label:e.nome,value:e.codigoContato,id:e.idContato})))},filtraDebounce(){(0,Ee.debounce)(this.refazFiltro,700)()},refazFiltro(){Fo.gconsole.log("AdmOSs","refazFiltro()",this.fraseFiltro,this.empresaSelecionada);const e=(0,Fo.removerAcentos)(this.fraseFiltro.toUpperCase()).split(" ").filter((e=>""!==e));for(const o in this.listas)for(const t of this.listas[o]){const o=(0,Fo.removerAcentos)(t.id.toUpperCase()+t.nomeCliente.toUpperCase()+t.nomeResponsavel.toUpperCase()+" "+String(t.numeroVenda)+"  "+String(t.numeroOS)+" ");let a=!0;for(const t of e)a=isNaN(Number(t))?a&&o.includes(t):a&&o.includes(" "+t+" ");this.empresaSelecionada&&(a=a&&this.empresaSelecionada.value===t.codigoEmpresa),t.mostra=a}},async atualiza(){try{const e=await ue.db.os.leAdmOSOnline({entregueInicio:this.entregueInicio,entregueFim:this.entregueFim,empresas:this.empresaOpcoes.map((e=>e.id))});Fo.gconsole.log("AdmOS","atualiza()",e.length),(0,Fo.verificarAlerta)(!e||!e.length,"Não há ordens de serviço");let o=await ue.db.configuracoes.le({nome:"vendas.os.status"});o=o.filter((e=>!["Processando","Entregue"].includes(e.texto)));const t={Processando:[]};for(const e of(0,Ee.orderBy)(o,"valor","asc").map((e=>e.texto)))t[e]=[];t.Entregue=[];for(const o of e){let e="bordaVerdeOS",a="",i="Normal";if("Entregue"===o.status){if(o.dataHoraPrevisto&&o.dataHoraFinalizado){const t=new Date(new Date(o.dataHoraPrevisto).toDateString()),r=(new Date(new Date(o.dataHoraFinalizado).toDateString())-t)/864e5;e=r>=0?"bordaVermelhaOS":r>-7?"bordaAmarelaOS":"bordaVerdeOS",a=r>=0?"negative":r>-7?"warning":"",i=r>=0?"Atrasado":r>-7?"Atenção":"Normal"}}else if(o.dataHoraPrevisto){const t=new Date(new Date(o.dataHoraPrevisto).toDateString()),r=(new Date((new Date).toDateString())-t)/864e5;e=r>=0?"bordaVermelhaOS":r>-7?"bordaAmarelaOS":"bordaVerdeOS",a=r>=0?"negative":r>-7?"warning":"",i=r>=0?"Atrasado":r>-7?"Atenção":"Normal"}const r={id:o.id,codigoCompra:o.codigoCompra||"-",codigoContatoResponsavel:o.codigoContatoResponsavel,codigoDocumento:o.codigoDocumento,codigoContato:o.codigoContato,codigoEmpresa:o.codigoEmpresa,descricaoEmpresa:o.descricaoEmpresa,descricao:o.descricao,corBorda:e,corLabel:a,txtLabel:i,dataHoraEmissao:new Date(o.dataHoraEmissao),dataHoraFinalizado:new Date(o.dataHoraFinalizado),dataHoraRetorno:new Date(o.dataHoraRetorno),dataHoraPrevisto:new Date(o.dataHoraPrevisto),mostra:!0,nomeCliente:o.nomeCliente||"-",nomeResponsavel:o.nomeResponsavel||"-",numeroVenda:o.numeroVenda?String(o.numeroVenda):"-",numeroOS:o.numeroOS?String(o.numeroOS):"-",status:o.status};t[o.status]&&t[o.status].push(r)}this.listas=t,this.refazFiltro()}catch(e){this.$q.notifyError("Erro na consulta online de oss",e)}},async irParaAtendimento(e){const o=await(0,Mo.X)().contato.where({codigoContato:e}).first()||{};o.id&&this.$router.push({name:"Atendimento",params:{id:o.id}})}},watch:{entregueInicio(){Fo.gconsole.log("AdmOSs","entregueInicio"),this.atualiza()},entregueFim(){Fo.gconsole.log("AdmOSs","entregueFim"),this.atualiza()}},async created(){Fo.gconsole.log("AdmOSs","created()"),await this.empresaOpcoesCarregar(),this.atualiza()}},lue=(0,T.Z)(rue,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-icon"),m=(0,a.resolveComponent)("campo"),u=(0,a.resolveComponent)("q-select"),p=(0,a.resolveComponent)("q-drawer"),h=(0,a.resolveComponent)("badge"),C=(0,a.resolveComponent)("q-card-section"),v=(0,a.resolveComponent)("q-tooltip"),f=(0,a.resolveComponent)("q-item-section"),N=(0,a.resolveComponent)("q-item-label"),V=(0,a.resolveComponent)("q-item"),g=(0,a.resolveComponent)("q-list"),x=(0,a.resolveComponent)("q-menu"),b=(0,a.resolveComponent)("q-card"),w=(0,a.resolveComponent)("draggable"),_=(0,a.resolveComponent)("OS-trocar-status"),y=(0,a.resolveComponent)("modal-historico-status"),I=(0,a.resolveComponent)("q-page"),E=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(I,{class:"AdmOS",id:"AdmOS"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-gradiente text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[Bme])),_:1}),(0,a.createVNode)(n,{icon:"mdi-filter",round:"",dense:"",flat:"",onClick:o[0]||(o[0]=e=>r.showfilters=!r.showfilters)})])),_:1}),(0,a.createVNode)(p,{modelValue:r.showfilters,"onUpdate:modelValue":o[5]||(o[5]=e=>r.showfilters=e),bordered:"",side:"right"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{color:"white",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"text-h5",name:"mdi-filter"}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[Lme])),_:1}),(0,a.createVNode)(n,{dense:"",flat:"",icon:"close",round:"",onClick:o[1]||(o[1]=e=>r.showfilters=!r.showfilters)})])),_:1}),(0,a.createElementVNode)("div",Ome,[(0,a.createVNode)(m,{modelValue:r.fraseFiltro,"onUpdate:modelValue":[o[2]||(o[2]=e=>r.fraseFiltro=e),l.filtraDebounce],rotulo:"Por cliente ou responsável",dense:""},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(u,{modelValue:r.prazoSelecionado,"onUpdate:modelValue":o[3]||(o[3]=e=>r.prazoSelecionado=e),options:r.prazoOpcoes,clearable:"",label:"Por prazo"},null,8,["modelValue","options"]),(0,a.createVNode)(u,{modelValue:r.empresaSelecionada,"onUpdate:modelValue":[o[4]||(o[4]=e=>r.empresaSelecionada=e),l.refazFiltro],options:r.empresaOpcoes,clearable:"",label:"Por empresa"},null,8,["modelValue","options","onUpdate:modelValue"])])])),_:1},8,["modelValue"]),(0,a.createElementVNode)("div",zme,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.listas,((t,i)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:i,class:"no-shadow col q-px-none coluna"},[(0,a.createElementVNode)("div",jme,[(0,a.createVNode)(c,{class:"no-shadow q-py-none q-px-sm text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(i),1)])),_:2},1024)])),_:2},1024),"Entregue"===i?((0,a.openBlock)(),(0,a.createElementBlock)("div",$me,[(0,a.createElementVNode)("div",Ume,[(0,a.createElementVNode)("div",Zme,[(0,a.createVNode)(m,{modelValue:r.entregueInicio,"onUpdate:modelValue":o[6]||(o[6]=e=>r.entregueInicio=e),rotulo:"Início",tipo:"data"},null,8,["modelValue"]),(0,a.createVNode)(m,{modelValue:r.entregueFim,"onUpdate:modelValue":o[7]||(o[7]=e=>r.entregueFim=e),rotulo:"Fim",tipo:"data"},null,8,["modelValue"])])])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(w,{class:"dragAreaOS",delay:"250",list:t,group:"osGroup",draggable:".extratoOS",onEnd:l.eventoEnd,itemKey:"id"},{item:(0,a.withCtx)((({element:o})=>[!o.mostra||null!==r.prazoSelecionado&&r.prazoSelecionado!==o.corBorda?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(b,{key:0,class:(0,a.normalizeClass)(["q-pa-sm q-pb-md q-my-sm q-mb-md shadow-1 extratoOS bg-white",o.corBorda])},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Qme,[(0,a.createElementVNode)("div",Rme,[o.corLabel?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,cor:o.corLabel,escuro:"",class:"q-mx-xs",rotulo:o.txtLabel},null,8,["cor","rotulo"])):((0,a.openBlock)(),(0,a.createBlock)(h,{key:1,class:"q-mx-xs",rotulo:o.txtLabel},null,8,["rotulo"]))]),(0,a.createElementVNode)("div",Gme,[(0,a.createVNode)(h,{cor:"grey-1",class:"q-mx-sm",icone:"shopping_cart",rotulo:o.numeroVenda},null,8,["rotulo"]),(0,a.createVNode)(h,{cor:"grey-8",escuro:"",icone:"assignment_turned_in",rotulo:o.numeroOS},null,8,["rotulo"])])]),(0,a.createVNode)(C,{class:"q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Hme,(0,a.toDisplayString)(o.nomeCliente),1),(0,a.createElementVNode)("span",Jme,(0,a.toDisplayString)(o.descricao),1)])),_:2},1024),(0,a.createVNode)(C,{class:"row q-pa-xs q-pb-none q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Yme,[o.descricaoEmpresa?((0,a.openBlock)(),(0,a.createElementBlock)("div",Xme,[(0,a.createVNode)(d,{name:"business",color:"grey-7",size:"14px"}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.descricaoEmpresa),1)])),_:2},1024)])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",Wme,[(0,a.createVNode)(d,{name:"person",color:"grey-7",size:"14px"})]),(0,a.createElementVNode)("div",Kme,(0,a.toDisplayString)(o.nomeResponsavel),1),(0,a.createElementVNode)("div",eue,[(0,a.createVNode)(d,{name:"calendar_today",color:"grey-7",size:"14px"})]),(0,a.createElementVNode)("div",oue,[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(o.dataHoraFinalizado>new Date("1970-01-01T00:00:00.000Z")?o.dataHoraFinalizado:o.dataHoraPrevisto))+" ",1),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.dataHoraFinalizado>new Date("1970-01-01T00:00:00.000Z")?"Finalizado em":"Previsto para"),1)])),_:2},1024)])]),(0,a.createElementVNode)("div",tue,[(0,a.createVNode)(d,{name:"more_vert",color:"blue-grey-6",style:{color:"grey",float:"right","text-align":"right","font-size":"1.2rem",cursor:"pointer"},onMouseOver:"this.style.color='black'",onMouseOut:"this.style.color='grey'"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(g,{link:"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{clickable:"",onClick:t=>e.$refs.modalHistoricoStatus.mostrar({idDocumento:o.id})},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"history"})])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[aue])),_:1})])),_:1})])),_:2},1032,["onClick"]),(0,a.createVNode)(V,{clickable:"",onClick:e=>l.irParaAtendimento(o.codigoContato)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"launch"})])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[iue])),_:1})])),_:1})])),_:2},1032,["onClick"])])),_:2},1536),[[E]])])),_:2},1024)])),_:2},1024)])])),_:2},1024)])),_:2},1032,["class"]))])),_:2},1032,["list","onEnd"])])])))),128))]),(0,a.createVNode)(_,{modelValue:r.trocarStatusModal,"onUpdate:modelValue":o[8]||(o[8]=e=>r.trocarStatusModal=e),dados:r.trocarStatusDados,onConfirmar:l.eventoConfirmarTroca,onCancelar:l.eventoCancelarTroca},null,8,["modelValue","dados","onConfirmar","onCancelar"]),(0,a.createVNode)(y,{ref:"modalHistoricoStatus"},null,512)])),_:1})}]]);Z()(rue,"components",{QPage:se.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QDrawer:YM.Z,QIcon:L.Z,QSelect:al.Z,QCard:D.Z,QCardSection:q.Z,QTooltip:Ao.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z}),Z()(rue,"directives",{ClosePopup:J.Z});const sue=(0,a.createTextVNode)("Adm. Custom"),nue=(0,a.createTextVNode)("Filtro Avançado"),cue={class:"q-pa-md"},due={class:"row overflowXCustom filterfalse"},mue={class:"q-pa-none"},uue={key:0,class:"row"},pue={class:"col-12"},hue={class:"q-pa-md"},Cue={class:"row q-mt-xs"},vue={class:"col-6"},fue={class:"col-6 justify-end q-pr-xs",style:{display:"flex"}},Nue={class:"text-subtitle1"},Vue={class:"text-caption"},gue={class:"col-11"},xue={key:0,style:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},bue={key:1,style:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},wue={key:2,class:"text-caption",style:{display:"inline-block","margin-right":"6px"}},_ue={style:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},yue={class:"text-caption",style:{display:"inline-block","margin-right":"6px"}},Iue={style:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},Eue={class:"text-caption",style:{display:"inline-block"}},Sue={class:"col-1 self-end"},Mue=(0,a.createTextVNode)("Produtos e Serviços"),Tue=(0,a.createTextVNode)("Histórico do Status"),kue=(0,a.createTextVNode)("Ir para o Atendimentos"),Due={container:"",class:"bg-white"},que=(0,a.createTextVNode)("Trocar status Custom"),Fue={data:()=>({confirmado:!1,descricaoFornecedor:"",fornecedorErro:!1}),emits:["cancelar","confirmar","update:modelValue"],methods:{async abrirModalFornecedor(){const e=await $g.promptContato.show({filtro:{ativo:!0},placeholder:"Selecione o fornecedor"});e&&this.selecionarFornecedor(e)},eventoConfirmar(){Fo.gconsole.log("CustomTrocarStatus","eventoConfirmar",this.dados),this.dados.codigoFornecedor?(this.confirmado=!0,this.eventoInput(!1),this.$emit("confirmar",this.dados)):this.fornecedorErro=!0},eventoCancelar(){Fo.gconsole.log("CustomTrocarStatus","eventoCancelar",this.dados),this.confirmado=!1,this.eventoInput(!1)},eventoInput(e){this.$emit("update:modelValue",e)},async selecionarFornecedor(e){Fo.gconsole.log("CustomTrocarStatus","selecionarFornecedor",e),this.dados.codigoFornecedor=e.codigoContato,this.dados.nomeFornecedor=e.nome,this.fornecedorErro=!1}},props:{modelValue:{required:!0,type:Boolean},dados:{required:!0,type:Object}},watch:{modelValue(e){e?(this.confirmado=!1,this.fornecedorErro=!1):this.confirmado||this.$emit("cancelar",this.dados)}}},Pue=(0,T.Z)(Fue,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("campo"),m=(0,a.resolveComponent)("row"),u=(0,a.resolveComponent)("q-form"),p=(0,a.resolveComponent)("q-dialog"),h=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(p,{"model-value":t.modelValue,"onUpdate:modelValue":l.eventoInput},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Due,[(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[que])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{flat:"",round:"",dense:"",icon:"close"},null,512),[[h]])])),_:1}),(0,a.createVNode)(u,{onSubmit:(0,a.withModifiers)(l.eventoConfirmar,["prevent"]),class:"q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"q-col-gutter-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:t.dados.nomeCliente,"onUpdate:modelValue":o[0]||(o[0]=e=>t.dados.nomeCliente=e),somenteLeitura:"",class:"col-12",rotulo:"Cliente"},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:t.dados.statusAtual,"onUpdate:modelValue":o[1]||(o[1]=e=>t.dados.statusAtual=e),somenteLeitura:"",class:"col-12",rotulo:"De"},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:t.dados.statusNovo,"onUpdate:modelValue":o[2]||(o[2]=e=>t.dados.statusNovo=e),somenteLeitura:"",class:"col-12",rotulo:"Para"},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:t.dados.observacao,"onUpdate:modelValue":o[3]||(o[3]=e=>t.dados.observacao=e),modelModifiers:{trim:!0},class:"col-12",maxlength:"50",rotulo:"Observação"},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:t.dados.gerarPedido,"onUpdate:modelValue":o[4]||(o[4]=e=>t.dados.gerarPedido=e),class:"col-12",rotulo:"Gerar pedido de compra",tipo:"logico"},null,8,["modelValue"]),(0,a.createVNode)(d,{"model-value":t.dados.nomeFornecedor,somenteLeitura:"",before:[{icon:"search",handler:l.abrirModalFornecedor}],class:"col-12",onClick:l.abrirModalFornecedor,rotulo:"Fornecedor",erro:r.fornecedorErro,erroRotulo:"Seleção de fornecedor obrigatória"},null,8,["model-value","before","onClick","erro"])])),_:1}),(0,a.createVNode)(c,{color:"light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s),(0,a.createVNode)(n,{flat:"",color:"tertiary",onClick:l.eventoCancelar,label:"Cancelar"},null,8,["onClick"]),(0,a.createVNode)(n,{unelevated:"",color:"primary",type:"submit",label:"Trocar"})])),_:1})])),_:1},8,["onSubmit"])])])),_:1},8,["model-value","onUpdate:modelValue"])}]]);Z()(Fue,"components",{QDialog:k.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QForm:fo.Z}),Z()(Fue,"directives",{ClosePopup:J.Z});const Aue={class:"text-body1"},Bue=(0,a.createElementVNode)("dt",null,"Observação",-1),Lue={components:{Avatar:uo.Z},props:{dados:{type:Object,required:!0}}},Oue=(0,T.Z)(Lue,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-header"),m=(0,a.resolveComponent)("q-separator"),u=(0,a.resolveComponent)("avatar"),p=(0,a.resolveComponent)("q-item-section"),h=(0,a.resolveComponent)("q-item-label"),C=(0,a.resolveComponent)("q-item"),v=(0,a.resolveComponent)("q-list"),f=(0,a.resolveComponent)("q-card-section"),N=(0,a.resolveComponent)("q-card"),V=(0,a.resolveComponent)("q-layout"),g=(0,a.resolveComponent)("q-dialog"),x=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(g,{modelValue:t.dados.show,"onUpdate:modelValue":o[0]||(o[0]=e=>t.dados.show=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"q-pa-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.dados.custom.descricao),1)])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",icon:"close",round:""},null,512),[[x]])])),_:1})])),_:1}),(0,a.createVNode)(v,{"no-border":"",dense:"",class:"q-pl-sm q-pr-sm q-pt-lg q-pb-lg"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(t.dados.produtos,((e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:e.codigoDocumentoItem},[o?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(C,{multiline:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{imagem:e.imagem,rotulo:e.descricaoItem},null,8,["imagem","rotulo"])])),_:2},1024),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{header:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("span",Aue,(0,a.toDisplayString)(e.descricaoItem),1)])),_:2},1024),e.quantidade?((0,a.openBlock)(),(0,a.createBlock)(p,{key:0,sublabel:"",class:"q-mt-sm"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Quantidade: "+(0,a.toDisplayString)(e.quantidade),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0),e.referencia?((0,a.openBlock)(),(0,a.createBlock)(p,{key:1,sublabel:"",class:"q-mt-sm"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Ref: "+(0,a.toDisplayString)(e.referencia),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0),e.observacao?((0,a.openBlock)(),(0,a.createBlock)(p,{key:2,sublabel:"",class:"q-mt-sm"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Obs: "+(0,a.toDisplayString)(e.observacao),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0)])),_:2},1024),e.codigoItem?((0,a.openBlock)(),(0,a.createBlock)(p,{key:0,right:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("#"+(0,a.toDisplayString)(e.codigoItem),1)])),_:2},1024)])),_:2},1024)):(0,a.createCommentVNode)("",!0)])),_:2},1024)],64)))),128))])),_:1}),t.dados.custom.observacao?((0,a.openBlock)(),(0,a.createBlock)(N,{key:0,class:"q-pa-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"text-body2"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("dl",null,[Bue,(0,a.createElementVNode)("dd",null,(0,a.toDisplayString)(t.dados.custom.observacao),1)])])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1},8,["modelValue"])}]]);Z()(Lue,"components",{QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QList:F.Z,QSeparator:$.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z,QCard:D.Z,QCardSection:q.Z}),Z()(Lue,"directives",{ClosePopup:J.Z});const zue={components:{Badge:S.Z,Campo:L_.Z,CustomTrocarStatus:Pue,ModalHistoricoStatus:Qi.Z,ModalProdutosServicos:Oue,draggable:J4()},data:()=>({showfilters:!1,empresaOpcoes:[],empresaSelecionada:null,entregueInicio:new Date(new Date((0,Fo.dataAtual)()).toDateString()),entregueFim:new Date(new Date((0,Fo.dataAtual)()).toDateString()),fraseFiltro:"",listas:{Processando:[],Entregue:[]},trocarStatusDados:{},trocarStatusModal:!1,periodoOpcoes:[{label:"Hoje",value:0},{label:"Uma semana",value:7},{label:"Um mês",value:30}],prazoSelecionado:null,prazoOpcoes:[{label:"Em dia",value:"bordaVerdeCustom"},{label:"Entrega para esta semana",value:"bordaAmarelaCustom"},{label:"Entrega atrasada",value:"bordaVermelhaCustom"}],modalProdutosServicos:{}}),methods:{async eventoEnd(){for(const e in this.listas)for(const o of this.listas[e])if(o.status!==e)return Fo.gconsole.log("AdmCustom","eventoEnd De:",o.status,"Para:",e,"codigo:",o.codigoDocumento),this.trocarStatusDados={codigoContatoVendedor:o.codigoContatoVendedor,codigoDocumento:o.codigoDocumento,codigoFornecedor:o.codigoFornecedor,codigoFornecedorOriginal:o.codigoFornecedor,codigoUsuario:null,gerarPedido:!1,nomeCliente:o.nomeCliente,nomeFornecedor:o.nomeFornecedor,observacao:"",statusAtual:o.status,statusNovo:e},void(this.trocarStatusModal=!0)},async eventoConfirmarTroca(e){Fo.gconsole.log("AdmCustom","eventoConfirmaTroca",{...e}),this.$q.loading.show();try{const o=(await ue.db.usuario.leOnline(ue.db.usuario.logado.id)||[])[0]||{};e.codigoUsuario=o.codigoUsuario,await ue.db.custom.trocaStatusOnline(e),this.$q.notifyPositive("Status trocado com sucesso"),e.codigoFornecedor!==e.codigoFornecedorOriginal&&await ue.db.custom.gravaFornecedorOnline(e),e.gerarPedido&&(await ue.db.custom.geraPedidoOnline(e),this.$q.notifyPositive("Pedido de compra gerado")),this.atualiza()}catch(e){this.$q.notifyError("Erro na troca de status",e)}finally{this.$q.loading.hide()}},eventoCancelarTroca(e){Fo.gconsole.log("AdmCustom","eventoCancelarTroca",e),this.atualiza()},async empresaOpcoesCarregar(){const e=(await $db.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0)).map((e=>e.id)),o=(await $erp().empresa.toArray()).filter((o=>~e.indexOf(o.idContato)));this.empresaOpcoes=o.map((e=>({label:e.nome,value:e.codigoContato,id:e.idContato})))},filtraDebounce(){(0,Ee.debounce)(this.refazFiltro,700)()},refazFiltro(){Fo.gconsole.log("AdmCustom","refazFiltro()",this.fraseFiltro,this.empresaSelecionada);const e=(0,Fo.removerAcentos)(this.fraseFiltro.toUpperCase()).split(" ").filter((e=>""!==e));for(const o in this.listas)for(const t of this.listas[o]){const o=(0,Fo.removerAcentos)(t.id.toUpperCase()+t.nomeCliente.toUpperCase()+t.nomeVendedor.toUpperCase()+t.nomeFornecedor.toUpperCase()+" "+String(t.numeroVenda)+"  "+String(t.numeroCompra)+"  "+String(t.numeroCustom)+" ");let a=!0;for(const t of e)a=isNaN(Number(t))?a&&o.includes(t):a&&o.includes(" "+t+" ");this.empresaSelecionada&&(a=a&&this.empresaSelecionada.value===t.codigoEmpresa),t.mostra=a}},async irParaAtendimento(e){const o=await(0,Mo.X)().contato.where({codigoContato:e}).first()||{};o.id&&this.$router.push({name:"Atendimento",params:{id:o.id}})},async exibirProdutosServicos(e){try{this.$q.loading.show({message:"Processando"});const o=await ue.db.custom.leProdutosServicos(e);this.modalProdutosServicos.activated||(this.modalProdutosServicos={activated:!0,custom:{},produtos:[]}),await this.$nextTick(),this.modalProdutosServicos={...this.modalProdutosServicos,show:!0,...o}}catch(e){this.$q.notify({type:"negative",message:e.message})}finally{this.$q.loading.hide()}},async atualiza(){try{const e=await ue.db.custom.leOnline({entregueInicio:this.entregueInicio,entregueFim:this.entregueFim,empresas:this.empresaOpcoes.map((e=>e.id))});(0,Fo.verificarAlerta)(!e||!e.length,"Não há customs");let o=await ue.db.configuracoes.le({nome:"vendas.custom.status"});o=o.filter((e=>!["Processando","Entregue"].includes(e.texto)));const t={Processando:[]};for(const e of(0,Ee.orderBy)(o,"valor","asc").map((e=>e.texto)))t[e]=[];t.Entregue=[];for(const o of e){let e="bordaVerdeCustom",a="",i="Normal";if("Entregue"===o.status){if(o.dataHoraPrevisto&&o.dataHoraFinalizado){const t=new Date(new Date(o.dataHoraPrevisto).toDateString()),r=(new Date(new Date(o.dataHoraFinalizado).toDateString())-t)/864e5;e=r>=0?"bordaVermelhaCustom":r>-7?"bordaAmarelaCustom":"bordaVerdeCustom",a=r>=0?"negative":r>-7?"warning":"",i=r>=0?"Atrasado":r>-7?"Atenção":"Normal"}}else if(o.dataHoraPrevisto){const t=new Date(new Date(o.dataHoraPrevisto).toDateString()),r=(new Date((new Date).toDateString())-t)/864e5;e=r>=0?"bordaVermelhaCustom":r>-7?"bordaAmarelaCustom":"bordaVerdeCustom",a=r>=0?"negative":r>-7?"warning":"",i=r>=0?"Atrasado":r>-7?"Atenção":"Normal"}const r={id:o.id,codigoCompra:o.codigoCompra||"-",codigoContatoVendedor:o.codigoContatoVendedor,codigoDocumento:o.codigoDocumento?String(o.codigoDocumento):"-",codigoContato:o.codigoContato,codigoEmpresa:o.codigoEmpresa,codigoFornecedor:o.codigoFornecedor,descricao:o.descricao,descricaoEmpresa:o.descricaoEmpresa,corBorda:e,corLabel:a,txtLabel:i,dataHoraEmissao:o.dataHoraEmissao?new Date(o.dataHoraEmissao):"",dataHoraFinalizado:o.dataHoraFinalizado?new Date(o.dataHoraFinalizado):"",dataHoraRetorno:o.dataHoraRetorno?new Date(o.dataHoraRetorno):"",dataHoraPrevisto:o.dataHoraPrevisto?new Date(o.dataHoraPrevisto):"",mostra:!0,nomeCliente:o.nomeCliente||"-",nomeFornecedor:o.nomeFornecedor||"",nomeVendedor:o.nomeVendedor||"-",numeroVenda:o.numeroVenda?String(o.numeroVenda):"-",numeroCompra:o.numeroCompra?String(o.numeroCompra):"-",numeroCustom:o.numeroCustom||"-",status:o.status};t[o.status]&&t[o.status].push(r)}this.listas=t,this.refazFiltro()}catch(e){this.$q.notifyError("Erro na consulta online de customs",e)}}},watch:{entregueInicio(){Fo.gconsole.log("AdmCustom","entregueInicio"),this.atualiza()},entregueFim(){Fo.gconsole.log("AdmCustom","entregueFim"),this.atualiza()}},async created(){Fo.gconsole.log("AdmCustom","created()"),await this.empresaOpcoesCarregar(),this.atualiza()}},jue=(0,T.Z)(zue,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-icon"),m=(0,a.resolveComponent)("campo"),u=(0,a.resolveComponent)("q-select"),p=(0,a.resolveComponent)("q-drawer"),h=(0,a.resolveComponent)("badge"),C=(0,a.resolveComponent)("q-card-section"),v=(0,a.resolveComponent)("q-tooltip"),f=(0,a.resolveComponent)("q-item-section"),N=(0,a.resolveComponent)("q-item-label"),V=(0,a.resolveComponent)("q-item"),g=(0,a.resolveComponent)("q-list"),x=(0,a.resolveComponent)("q-menu"),b=(0,a.resolveComponent)("q-card"),w=(0,a.resolveComponent)("draggable"),_=(0,a.resolveComponent)("custom-trocar-status"),y=(0,a.resolveComponent)("modal-historico-status"),I=(0,a.resolveComponent)("modal-produtos-servicos"),E=(0,a.resolveComponent)("q-page"),S=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(E,{class:"AdmCustom",id:"AdmCustom"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-gradiente text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[sue])),_:1}),(0,a.createVNode)(n,{icon:"mdi-filter",round:"",dense:"",flat:"",onClick:o[0]||(o[0]=e=>r.showfilters=!r.showfilters)})])),_:1}),(0,a.createVNode)(p,{modelValue:r.showfilters,"onUpdate:modelValue":o[5]||(o[5]=e=>r.showfilters=e),bordered:"",side:"right"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{color:"white",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"text-h5",name:"mdi-filter"}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[nue])),_:1}),(0,a.createVNode)(n,{dense:"",flat:"",icon:"close",round:"",onClick:o[1]||(o[1]=e=>r.showfilters=!r.showfilters)})])),_:1}),(0,a.createElementVNode)("div",cue,[(0,a.createVNode)(m,{modelValue:r.fraseFiltro,"onUpdate:modelValue":[o[2]||(o[2]=e=>r.fraseFiltro=e),l.filtraDebounce],rotulo:"Por cliente ou responsável",dense:""},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(u,{modelValue:r.prazoSelecionado,"onUpdate:modelValue":o[3]||(o[3]=e=>r.prazoSelecionado=e),options:r.prazoOpcoes,clearable:"",label:"Por prazo"},null,8,["modelValue","options"]),(0,a.createVNode)(u,{modelValue:r.empresaSelecionada,"onUpdate:modelValue":[o[4]||(o[4]=e=>r.empresaSelecionada=e),l.refazFiltro],options:r.empresaOpcoes,clearable:"",label:"Por empresa"},null,8,["modelValue","options","onUpdate:modelValue"])])])),_:1},8,["modelValue"]),(0,a.createElementVNode)("div",due,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.listas,((t,i)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:i,class:"no-shadow col q-pa-none coluna"},[(0,a.createElementVNode)("div",mue,[(0,a.createVNode)(c,{class:"no-shadow q-py-none q-px-sm text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(i),1)])),_:2},1024)])),_:2},1024),"Entregue"===i?((0,a.openBlock)(),(0,a.createElementBlock)("div",uue,[(0,a.createElementVNode)("div",pue,[(0,a.createElementVNode)("div",hue,[(0,a.createVNode)(m,{modelValue:r.entregueInicio,"onUpdate:modelValue":o[6]||(o[6]=e=>r.entregueInicio=e),rotulo:"Início",tipo:"data"},null,8,["modelValue"]),(0,a.createVNode)(m,{modelValue:r.entregueFim,"onUpdate:modelValue":o[7]||(o[7]=e=>r.entregueFim=e),rotulo:"Fim",tipo:"data"},null,8,["modelValue"])])])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(w,{class:"dragAreaCustom",delay:"400",list:t,group:"customGroup",draggable:".extratoCustom",onEnd:l.eventoEnd,itemKey:"codigoDocumento"},{item:(0,a.withCtx)((({element:o})=>[!o.mostra||null!==r.prazoSelecionado&&r.prazoSelecionado!==o.corBorda?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(b,{key:0,class:(0,a.normalizeClass)(["q-pa-sm q-pb-md q-my-sm q-mb-md shadow-1 extratoCustom bg-white",o.corBorda])},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Cue,[(0,a.createElementVNode)("div",vue,[o.corLabel?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,cor:o.corLabel,escuro:"",class:"q-mx-xs",rotulo:o.txtLabel},null,8,["cor","rotulo"])):((0,a.openBlock)(),(0,a.createBlock)(h,{key:1,class:"q-mx-xs",rotulo:o.txtLabel},null,8,["rotulo"]))]),(0,a.createElementVNode)("div",fue,[(0,a.createVNode)(h,{cor:"grey-1",class:"q-mx-sm",icone:"shopping_cart",rotulo:o.numeroVenda},null,8,["rotulo"]),"-"!==o.codigoCompra?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,cor:"light",icone:"mdi-factory"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.codigoCompra),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(h,{cor:"grey-8",escuro:"",icone:"assignment_turned_in",rotulo:o.codigoDocumento},null,8,["rotulo"])])]),(0,a.createVNode)(C,{class:"q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Nue,(0,a.toDisplayString)(o.nomeCliente),1),(0,a.createElementVNode)("span",Vue,(0,a.toDisplayString)(o.descricao),1)])),_:2},1024),(0,a.createVNode)(C,{class:"row q-pa-xs q-pb-none q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",gue,[o.descricaoEmpresa?((0,a.openBlock)(),(0,a.createElementBlock)("div",xue,[(0,a.createVNode)(d,{name:"business",color:"grey-7",size:"14px"}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.descricaoEmpresa),1)])),_:2},1024)])):(0,a.createCommentVNode)("",!0),o.nomeFornecedor?((0,a.openBlock)(),(0,a.createElementBlock)("div",bue,[(0,a.createVNode)(d,{name:"business",color:"grey-7",size:"14px"})])):(0,a.createCommentVNode)("",!0),o.nomeFornecedor?((0,a.openBlock)(),(0,a.createElementBlock)("div",wue,(0,a.toDisplayString)(o.nomeFornecedor),1)):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",_ue,[(0,a.createVNode)(d,{name:"person",color:"grey-7",size:"14px"})]),(0,a.createElementVNode)("div",yue,(0,a.toDisplayString)(o.nomeVendedor),1),(0,a.createElementVNode)("div",Iue,[(0,a.createVNode)(d,{name:"calendar_today",color:"grey-7",size:"14px"})]),(0,a.createElementVNode)("div",Eue,[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(o.dataHoraFinalizado>new Date("1970-01-01T00:00:00.000Z")?o.dataHoraFinalizado:o.dataHoraPrevisto))+" ",1),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.dataHoraFinalizado>new Date("1970-01-01T00:00:00.000Z")?"Finalizado em":"Previsto para"),1)])),_:2},1024)])]),(0,a.createElementVNode)("div",Sue,[(0,a.createVNode)(d,{name:"more_vert",style:{color:"grey",float:"right","text-align":"right","font-size":"1.2rem",cursor:"pointer"},onMouseOver:"this.style.color='black'",onMouseOut:"this.style.color='grey'"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(g,{link:"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{clickable:"",onClick:e=>l.exibirProdutosServicos(o.codigoDocumento)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"view_list"})])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[Mue])),_:1})])),_:1})])),_:2},1032,["onClick"]),(0,a.createVNode)(V,{clickable:"",onClick:t=>e.$refs.modalHistoricoStatus.mostrar({idDocumento:o.codigoDocumento})},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"history"})])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[Tue])),_:1})])),_:1})])),_:2},1032,["onClick"]),(0,a.createVNode)(V,{clickable:"",onClick:e=>l.irParaAtendimento(o.codigoContato)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"launch"})])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[kue])),_:1})])),_:1})])),_:2},1032,["onClick"])])),_:2},1536),[[S]])])),_:2},1024)])),_:2},1024)])])),_:2},1024)])),_:2},1032,["class"]))])),_:2},1032,["list","onEnd"])])])))),128))]),(0,a.createVNode)(_,{modelValue:r.trocarStatusModal,"onUpdate:modelValue":o[8]||(o[8]=e=>r.trocarStatusModal=e),dados:r.trocarStatusDados,onConfirmar:l.eventoConfirmarTroca,onCancelar:l.eventoCancelarTroca},null,8,["modelValue","dados","onConfirmar","onCancelar"]),(0,a.createVNode)(y,{ref:"modalHistoricoStatus"},null,512),r.modalProdutosServicos.activated?((0,a.openBlock)(),(0,a.createBlock)(I,{key:0,dados:r.modalProdutosServicos},null,8,["dados"])):(0,a.createCommentVNode)("",!0)])),_:1})}]]);Z()(zue,"components",{QPage:se.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QDrawer:YM.Z,QIcon:L.Z,QSelect:al.Z,QCard:D.Z,QCardSection:q.Z,QTooltip:Ao.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z}),Z()(zue,"directives",{ClosePopup:J.Z});const $ue=(0,a.createTextVNode)("Kanban"),Uue={class:"filters row q-pa-sm q-ma-md bg-white",style:{"border-radius":"5px","min-height":"50px"}},Zue={class:"col-auto"},Que={class:"col-10 col-md-5 q-ml-sm"},Rue={class:"col-6 col-md q-pl-none"},Gue={class:"col-6 col-md q-pl-none"},Hue={class:"row overflowXOS"},Jue={class:"bg-white q-pa-xs"},Yue={key:0,class:"row"},Xue={class:"col-12 q-pl-none"},Wue={style:{display:"block"}},Kue={style:{display:"block"}},epe=(0,a.createElementVNode)("br",null,null,-1),ope=(0,a.createElementVNode)("br",null,null,-1),tpe=(0,a.createElementVNode)("br",null,null,-1),ape=(0,a.createElementVNode)("br",null,null,-1),ipe={components:{Campo:L_.Z,draggable:J4()},data:()=>({empresaOpcoes:[],empresaSelecionada:null,entregueInicio:new Date(new Date((0,Fo.dataAtual)()).toDateString()),entregueFim:new Date(new Date((0,Fo.dataAtual)()).toDateString()),fraseFiltro:"",listas:{Processando:[],Entregue:[]},trocarStatusDados:{},trocarStatusModal:!1,periodoOpcoes:[{label:"Hoje",value:0},{label:"Uma semana",value:7},{label:"Um mês",value:30}],prazoSelecionado:null,prazoOpcoes:[{label:"Em dia",value:"bordaVerdeOS"},{label:"Entrega para esta semana",value:"bordaAmarelaOS"},{label:"Entrega atrasada",value:"bordaVermelhaOS"}]}),methods:{async eventoEnd(){for(const e in this.listas)for(const o of this.listas[e])if(o.status!==e)return Fo.gconsole.log("AdmOS","eventoEnd De:",o.status,"Para:",e,"codigo:",o.codigoDocumento),this.trocarStatusDados={codigoContatoResponsavel:o.codigoContatoResponsavel,codigoDocumento:o.codigoDocumento,codigoUsuario:null,nomeCliente:o.nomeCliente,observacao:"",statusAtual:o.status,statusNovo:e},void(this.trocarStatusModal=!0)},async eventoConfirmarTroca(e){Fo.gconsole.log("AdmOS","eventoConfirmaTroca",{...e}),this.$q.loading.show();try{const o=(await ue.db.usuario.leOnline(ue.db.usuario.logado.id)||[])[0]||{};e.codigoUsuario=o.codigoUsuario,await ue.db.os.trocaStatusOnline(e),this.$q.notifyPositive("Status trocado com sucesso"),this.atualiza()}catch(e){this.$q.notifyError("Erro na troca de status",e)}finally{this.$q.loading.hide()}},eventoCancelarTroca(e){Fo.gconsole.log("AdmOS","eventoCancelarTroca",e),this.atualiza()},async empresaOpcoesCarregar(){Fo.gconsole.log("AdmOS","empresaOpcoesCarregar()"),this.empresaOpcoes=(await ue.db.empresa.leOnline()).map((e=>({label:e.nome,value:e.codigoContato})))},filtraDebounce(){(0,Ee.debounce)(this.refazFiltro,700)()},refazFiltro(){Fo.gconsole.log("AdmOSs","refazFiltro()",this.fraseFiltro,this.empresaSelecionada);const e=(0,Fo.removerAcentos)(this.fraseFiltro.toUpperCase()).split(" ").filter((e=>""!==e));for(const o in this.listas)for(const t of this.listas[o]){const o=(0,Fo.removerAcentos)(t.id.toUpperCase()+t.nomeCliente.toUpperCase()+t.nomeResponsavel.toUpperCase()+" "+String(t.numeroVenda)+"  "+String(t.numeroOS)+" ");let a=!0;for(const t of e)a=isNaN(Number(t))?a&&o.includes(t):a&&o.includes(" "+t+" ");this.empresaSelecionada&&(a=a&&this.empresaSelecionada===t.codigoEmpresa),t.mostra=a}},async atualiza(){try{const e=await ue.db.os.leAdmOSOnline({entregueInicio:this.entregueInicio,entregueFim:this.entregueFim});Fo.gconsole.log("AdmOS","atualiza()",e.length),(0,Fo.verificarAlerta)(!e||!e.length,"Não há ordens de serviço");let o=await ue.db.configuracoes.le({nome:"vendas.os.status"});o=o.filter((e=>!["Processando","Entregue"].includes(e.texto)));const t={Processando:[]};for(const e of(0,Ee.orderBy)(o,"valor","asc").map((e=>e.texto)))t[e]=[];t.Entregue=[];for(const o of e){let e="bordaVerdeOS";if("Entregue"===o.status){if(o.dataHoraPrevisto&&o.dataHoraFinalizado){const t=new Date(new Date(o.dataHoraPrevisto).toDateString()),a=(new Date(new Date(o.dataHoraFinalizado).toDateString())-t)/864e5;e=a>=0?"bordaVermelhaOS":a>-7?"bordaAmarelaOS":"bordaVerdeOS"}}else if(o.dataHoraPrevisto){const t=new Date(new Date(o.dataHoraPrevisto).toDateString()),a=(new Date((new Date).toDateString())-t)/864e5;e=a>=0?"bordaVermelhaOS":a>-7?"bordaAmarelaOS":"bordaVerdeOS"}const a={id:o.id,codigoCompra:o.codigoCompra||"-",codigoContatoResponsavel:o.codigoContatoResponsavel,codigoDocumento:o.codigoDocumento,codigoEmpresa:o.codigoEmpresa,descricaoEmpresa:o.descricaoEmpresa,corBorda:e,dataHoraEmissao:new Date(o.dataHoraEmissao),dataHoraFinalizado:new Date(o.dataHoraFinalizado),dataHoraRetorno:new Date(o.dataHoraRetorno),dataHoraPrevisto:new Date(o.dataHoraPrevisto),mostra:!0,nomeCliente:o.nomeCliente||"-",nomeResponsavel:o.nomeResponsavel||"-",numeroVenda:o.numeroVenda||"-",numeroOS:o.numeroOS||"-",status:o.status};t[o.status]&&t[o.status].push(a)}this.listas=t,this.refazFiltro()}catch(e){this.$q.notifyError("Erro na consulta online de oss",e)}}},watch:{entregueInicio(){Fo.gconsole.log("AdmOSs","entregueInicio"),this.atualiza()},entregueFim(){Fo.gconsole.log("AdmOSs","entregueFim"),this.atualiza()}},created(){Fo.gconsole.log("AdmOSs","created()"),this.atualiza()}},rpe=(0,T.Z)(ipe,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-toolbar"),c=(0,a.resolveComponent)("q-btn"),d=(0,a.resolveComponent)("q-input"),m=(0,a.resolveComponent)("q-select"),u=(0,a.resolveComponent)("q-card"),p=(0,a.resolveComponent)("campo"),h=(0,a.resolveComponent)("q-card-section"),C=(0,a.resolveComponent)("q-separator"),v=(0,a.resolveComponent)("draggable"),f=(0,a.resolveComponent)("OS-trocar-status"),N=(0,a.resolveComponent)("q-page");return(0,a.openBlock)(),(0,a.createBlock)(N,{id:"Kanban",class:"AdmOS"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-py-sm q-my-sm",color:"none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[$ue])),_:1})])),_:1}),(0,a.createVNode)(u,{class:"row no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{"text-color":"black",class:"no-shadow q-pa-none",color:"transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Uue,[(0,a.createElementVNode)("div",Zue,[(0,a.createVNode)(c,{icon:"filter_list",round:"",color:"tertiary",class:"no-shadow u-semClique"})]),(0,a.createElementVNode)("div",Que,[(0,a.createVNode)(d,{debounce:500,modelValue:r.fraseFiltro,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.fraseFiltro=e),l.filtraDebounce],placeholder:"Filtrar cliente ou responsável"},null,8,["modelValue","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",Rue,[(0,a.createVNode)(m,{modelValue:r.prazoSelecionado,"onUpdate:modelValue":o[1]||(o[1]=e=>r.prazoSelecionado=e),options:r.prazoOpcoes,clearable:"",class:"q-mx-sm",placeholder:"Filtrar por prazo"},null,8,["modelValue","options"])]),(0,a.createElementVNode)("div",Gue,[(0,a.createVNode)(m,{modelValue:r.empresaSelecionada,"onUpdate:modelValue":[o[2]||(o[2]=e=>r.empresaSelecionada=e),l.refazFiltro],options:r.empresaOpcoes,clearable:"",class:"q-mx-sm",placeholder:"Filtrar por empresa",onClick:l.empresaOpcoesCarregar},null,8,["modelValue","options","onClick","onUpdate:modelValue"])])])])),_:1})])),_:1})])),_:1}),(0,a.createElementVNode)("div",Hue,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.listas,((t,i)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:i,class:"no-shadow q-pa-sm col"},[(0,a.createElementVNode)("div",Jue,[(0,a.createVNode)(n,{"text-color":"black",class:"no-shadow q-pa-none",color:"transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(i),1)])),_:2},1024)])),_:2},1024),"Entregue"===i?((0,a.openBlock)(),(0,a.createElementBlock)("div",Yue,[(0,a.createElementVNode)("div",Xue,[(0,a.createVNode)(p,{modelValue:r.entregueInicio,"onUpdate:modelValue":o[3]||(o[3]=e=>r.entregueInicio=e),class:"q-mx-sm",rotulo:"Início",tipo:"data"},null,8,["modelValue"]),(0,a.createVNode)(p,{modelValue:r.entregueFim,"onUpdate:modelValue":o[4]||(o[4]=e=>r.entregueFim=e),class:"q-mx-sm",rotulo:"Fim",tipo:"data"},null,8,["modelValue"])])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(v,{class:"dragAreaOS bg-white",delay:"400",list:t,group:"osGroup",draggable:".extratoOS",onEnd:l.eventoEnd},{default:(0,a.withCtx)((()=>[!e.os.mostra||null!==r.prazoSelecionado&&r.prazoSelecionado!==e.os.corBorda?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:0},(0,a.renderList)(t,(o=>((0,a.openBlock)(),(0,a.createBlock)(u,{key:o.codigoDocumento,class:(0,a.normalizeClass)(["q-pa-sm q-mb-md shadow-2 extratoOS",o.corBorda])},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"q-py-none"},{right:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",null,[(0,a.createElementVNode)("small",Wue,"Venda: "+(0,a.toDisplayString)(o.numeroVenda),1),(0,a.createElementVNode)("small",Kue,"OS: "+(0,a.toDisplayString)(o.numeroOS),1)])])),default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.nomeCliente)+" ",1),(0,a.createElementVNode)("span",null," Empresa: "+(0,a.toDisplayString)(o.descricaoEmpresa),1)])),_:2},1024),(0,a.createVNode)(C,{class:"q-my-sm"}),(0,a.createVNode)(h,{class:"row q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Técnico: "+(0,a.toDisplayString)(o.nomeResponsavel),1),epe,(0,a.createTextVNode)(" Data de Emissao: "+(0,a.toDisplayString)(e.$filters.data(o.dataHoraEmissao)),1),ope,o.dataHoraRetorno?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createTextVNode)("Data de Retorno: "+(0,a.toDisplayString)(e.$filters.data(o.dataHoraRetorno)),1),tpe],64)):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" Previsão de Entrega: "+(0,a.toDisplayString)(e.$filters.data(o.dataHoraPrevisto)),1),ape])),_:2},1024)])),_:2},1032,["class"])))),128))])),_:2},1032,["list","onEnd"])])])))),128))]),(0,a.createVNode)(f,{modelValue:r.trocarStatusModal,"onUpdate:modelValue":o[5]||(o[5]=e=>r.trocarStatusModal=e),dados:r.trocarStatusDados,onConfirmar:l.eventoConfirmarTroca,onCancelar:l.eventoCancelarTroca},null,8,["modelValue","dados","onConfirmar","onCancelar"])])),_:1})}]]);Z()(ipe,"components",{QPage:se.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QCard:D.Z,QBtn:H.Z,QInput:re.Z,QSelect:al.Z,QCardSection:q.Z,QSeparator:$.Z});const lpe=(0,a.createTextVNode)("Funil de Vendas"),spe=(0,a.createTextVNode)("Filtro Avançado"),npe={class:"q-pa-md"},cpe={class:"row overflowXCRM"},dpe={class:"q-pa-none"},mpe={class:"float-left"},upe={key:0,class:"float-right text-body1"},ppe={key:0,class:"row"},hpe={class:"col-12 q-pl-none"},Cpe={class:"row q-mt-xs"},vpe=(0,a.createElementVNode)("div",{class:"col-6"},null,-1),fpe={class:"col-6 justify-end q-pr-xs",style:{display:"flex"}},Npe={class:"text-subtitle1"},Vpe={class:"text-caption"},gpe={class:"col-11"},xpe={style:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},bpe={class:"text-caption",style:{display:"inline-block","margin-right":"6px"}},wpe={style:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},_pe={class:"text-caption",style:{display:"inline-block","margin-right":"6px"}},ype={key:0,style:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},Ipe={key:1,class:"text-caption",style:{display:"inline-block"}},Epe={class:"col-1 self-end"},Spe=(0,a.createTextVNode)("Histórico do Status"),Mpe=(0,a.createTextVNode)("Ir para o Atendimento"),Tpe=(0,a.createElementVNode)("span",{class:"text-weight-bold"},"Trocar status",-1),kpe={class:"layout-padding"},Dpe={class:"row q-col-gutter-x-sm"},qpe={class:"row q-col-gutter-x-sm"},Fpe={class:"row q-col-gutter-x-sm"},Ppe={class:"row q-col-gutter-x-sm"},Ape={class:"row justify-end"},Bpe={components:{Campo:L_.Z},data:()=>({confirmado:!1}),emits:["cancelar","confirmar","update:modelValue"],methods:{eventoConfirmar(){Fo.gconsole.log("CRMTrocarStatus","eventoConfirmar",this.dados),this.confirmado=!0,this.eventoInput(!1),this.$emit("confirmar",this.dados)},eventoCancelar(){Fo.gconsole.log("CRMTrocarStatus","eventoCancelar",this.dados),this.confirmado=!1,this.eventoInput(!1)},eventoInput(e){this.$emit("update:modelValue",e)}},props:{modelValue:{required:!0,type:Boolean},dados:{required:!0,type:Object}},watch:{modelValue(e){e?this.confirmado=!1:this.confirmado||this.$emit("cancelar",this.dados)}}},Lpe=(0,T.Z)(Bpe,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("campo"),m=(0,a.resolveComponent)("q-footer"),u=(0,a.resolveComponent)("q-card-section"),p=(0,a.resolveComponent)("q-card"),h=(0,a.resolveComponent)("q-dialog"),C=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(h,{"model-value":t.modelValue,"onUpdate:modelValue":l.eventoInput},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[Tpe])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{flat:"",round:"",dense:"",icon:"close"},null,512),[[C]])])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("form",{onSubmit:o[4]||(o[4]=(0,a.withModifiers)(((...e)=>l.eventoConfirmar&&l.eventoConfirmar(...e)),["prevent"]))},[(0,a.createElementVNode)("div",kpe,[(0,a.createElementVNode)("div",Dpe,[(0,a.createVNode)(d,{modelValue:t.dados.nomeCliente,"onUpdate:modelValue":o[0]||(o[0]=e=>t.dados.nomeCliente=e),somenteLeitura:"",class:"col-12",rotulo:"Cliente"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",qpe,[(0,a.createVNode)(d,{modelValue:t.dados.statusAtual,"onUpdate:modelValue":o[1]||(o[1]=e=>t.dados.statusAtual=e),somenteLeitura:"",class:"col-12",rotulo:"De"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Fpe,[(0,a.createVNode)(d,{modelValue:t.dados.statusNovo,"onUpdate:modelValue":o[2]||(o[2]=e=>t.dados.statusNovo=e),somenteLeitura:"",class:"col-12",rotulo:"Para"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Ppe,[(0,a.createVNode)(d,{modelValue:t.dados.observacao,"onUpdate:modelValue":o[3]||(o[3]=e=>t.dados.observacao=e),modelModifiers:{trim:!0},class:"col-12",maxlength:"50",rotulo:"Observação"},null,8,["modelValue"])])]),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{color:"light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Ape,[(0,a.createVNode)(n,{flat:"",color:"tertiary",onClick:l.eventoCancelar,label:"Cancelar"},null,8,["onClick"]),(0,a.createVNode)(n,{unelevated:"",color:"primary",type:"submit",label:"Trocar"})])])),_:1})])),_:1})])),_:1})],32)])),_:1})])),_:1})])),_:1},8,["model-value","onUpdate:modelValue"])}]]);Z()(Bpe,"components",{QDialog:k.Z,QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QCardSection:q.Z,QFooter:Te.Z}),Z()(Bpe,"directives",{ClosePopup:J.Z});const Ope={Orçamento:[],Concluído:[]},zpe={components:{Badge:S.Z,CrmTrocarStatus:Lpe,ModalHistoricoStatus:Qi.Z,draggable:J4()},data:()=>({showfilters:!1,empresaOpcoes:[],empresaSelecionada:null,entregueInicio:new Date(new Date($utils.dataAtual()).toDateString()),entregueFim:new Date(new Date($utils.dataAtual()).toDateString()),fraseFiltro:"",listas:$utils.clonarV2(Ope),tamanhoLista:{},listasFiltradas:$utils.clonarV2(Ope),total:{},trocarStatusDados:{},trocarStatusModal:!1,periodoOpcoes:[{label:"Hoje",value:0},{label:"Uma semana",value:7},{label:"Um mês",value:30}],prazoSelecionado:null,prazoOpcoes:[{label:"Em dia",value:"bordaVerdeCRM"},{label:"Entrega para esta semana",value:"bordaAmarelaCRM"},{label:"Entrega atrasada",value:"bordaVermelhaCRM"}],vendedorDigitadorSelecionado:null,vendedoresDigitadoresOpcoes:[],diretivaContatosAcessaTodosContatos:!1}),methods:{async eventoEnd(){for(const e in this.listasFiltradas)for(const o of this.listasFiltradas[e])if(o.crmFunilStatus!==e)return $utils.gconsole.log("FunilVendas","eventoEnd De:",o.crmFunilStatus,"Para:",e,"codigo:",o.codigoDocumento),this.trocarStatusDados={codigoContatoResponsavel:o.codigoContatoResponsavel,codigoDocumento:o.codigoDocumento,codigoUsuario:null,nomeCliente:o.nomeCliente,observacao:"",statusAtual:o.crmFunilStatus,statusNovo:e},void(this.trocarStatusModal=!0)},async eventoConfirmarTroca(e){$utils.gconsole.log("FunilVendas","eventoConfirmaTroca",{...e}),this.$q.loading.show();try{const o=(await $db.usuario.leOnline($db.usuario.logado.id)||[])[0]||{};e.codigoUsuario=o.codigoUsuario,await $db.crm.trocaStatusOnline(e),this.$q.notifyPositive("Status trocado com sucesso"),this.atualiza()}catch(e){this.$q.notifyError("Erro na troca de status",e)}finally{this.$q.loading.hide()}},eventoCancelarTroca(e){$utils.gconsole.log("FunilVendas","eventoCancelarTroca",e),this.atualiza()},async empresaOpcoesCarregar(){$utils.gconsole.log("FunilVendas","empresaOpcoesCarregar()"),this.empresaOpcoes=(await $db.empresa.leOnline()).map((e=>({label:e.nome,value:e.codigoContato})))},async irParaAtendimento(e){const o=await $erp().contato.where({codigoContato:e}).first()||{};o.id&&this.$router.push({name:"Atendimento",params:{id:o.id}})},filtraDebounce(){$lodash.debounce(this.refazFiltro,700)()},refazFiltro(){$utils.gconsole.log("FunilVendas","refazFiltro()",this.fraseFiltro,this.empresaSelecionada);const e=$utils.removerAcentos((this.fraseFiltro||"").toUpperCase()).split(" ").filter((e=>""!==e)),o={};for(const t in this.listas)for(const a of this.listas[t]){const t=$utils.removerAcentos((a.id||"").toUpperCase()+(a.nomeCliente||"").toUpperCase()+(a.nomeDigitador||"").toUpperCase()+(a.nomeVendedor||"").toUpperCase()+" "+String(a.numeroVenda||"")+" ");let i=!0;for(const o of e)i=isNaN(Number(o))?i&&t.includes(o):i&&t.includes(" "+o+" ");this.empresaSelecionada&&(i=i&&this.empresaSelecionada.value===a.codigoEmpresa),this.vendedorDigitadorSelecionado&&(i=i&&(this.vendedorDigitadorSelecionado.value===a.codigoContatoDigitador||this.vendedorDigitadorSelecionado.value===a.codigoContatoVendedor)),a.mostra=i,a.mostra&&(o[a.crmFunilStatus]=(o[a.crmFunilStatus]||0)+(a.totalDocumento||0))}const t={};for(const e in this.listas)this.tamanhoLista[e]=10,t[e]=this.listas[e].filter((e=>e.mostra)).slice(0,this.tamanhoLista[e]),document.getElementById(e);this.listasFiltradas=t,this.$nextTick((()=>{for(const e in this.listasFiltradas)document.getElementById(e).removeEventListener("scroll",this.scrollHandler),document.getElementById(e).addEventListener("scroll",this.scrollHandler)})),this.total=o},scrollHandler(e){const o=e.target.id;e.target.scrollHeight-e.target.scrollTop-e.target.offsetHeight<100&&(this.tamanhoLista[o]+=10,this.listasFiltradas[o]=this.listas[o].filter((e=>e.mostra)).slice(0,this.tamanhoLista[o]))},async atualiza(){try{const e=await $db.crm.leOnline({entregueInicio:this.entregueInicio,entregueFim:this.entregueFim,...this.diretivaContatosAcessaTodosContatos?{}:{codigoContato:$db.usuario.logado.codigoContato}});$utils.gconsole.log("FunilVendas","atualiza()",e.length),$utils.verificarAlerta(!e||!e.length,"Não há orçamentos");let o=await $db.configuracoes.le({nome:"vendas.crm.status"});o=o.filter((e=>!["Orçamento","Concluído"].includes(e.texto)));const t={Orçamento:[]};for(const e of $lodash.orderBy(o,"valor","asc").map((e=>e.texto)))t[e]=[];t["Concluído"]=[];const a={};for(const o of e){let e="bordaVerdeCRM";const i={id:o.id,codigoContatoDigitador:o.codigoContatoDigitador||0,codigoContatoVendedor:o.codigoContatoVendedor||0,codigoDocumento:o.codigoDocumento||0,codigoContato:o.codigoContato||0,codigoEmpresa:o.codigoEmpresa||0,descricaoEmpresa:o.descricaoEmpresa||"",corBorda:e,dataHoraEmissao:new Date(o.dataHoraEmissao||""),mostra:!0,nomeCliente:o.nomeCliente||"-",nomeVendedor:o.nomeVendedor||"-",nomeDigitador:o.nomeDigitador||"-",numeroVenda:o.numeroVenda||"-",status:o.status||"",crmFunilStatus:o.crmFunilStatus||"Orçamento",totalDocumento:o.totalDocumento||0};t[i.crmFunilStatus]&&(t[i.crmFunilStatus].push(i),a[i.crmFunilStatus]=(a[i.crmFunilStatus]||0)+(i.totalDocumento||0))}this.listas=t,this.total=a,this.refazFiltro()}catch(e){this.$q.notifyError("Erro na consulta online de orçamentos",e)}}},watch:{entregueInicio(){$utils.gconsole.log("FunilVendas","entregueInicio"),this.atualiza()},entregueFim(){$utils.gconsole.log("FunilVendas","entregueFim"),this.atualiza()}},created(){$utils.gconsole.log("FunilVendas","created()"),$db.permissao.objeto("Diretiva_RelatorioVenda_VerTodos").then((e=>{this.diretivaContatosAcessaTodosContatos=e,this.diretivaContatosAcessaTodosContatos&&(this.vendedoresDigitadoresOpcoes=[],$db.crm.leOnlineVendedoresDigitadores({entregueInicio:this.entregueInicio,entregueFim:this.entregueFim}).then((e=>{e.forEach((e=>{e.codigo&&this.vendedoresDigitadoresOpcoes.push({label:e.nome,value:e.codigo})}))}))),this.empresaOpcoesCarregar(),this.atualiza()}))},beforeUnmount(){for(const e in Ope)document.getElementById(e)&&document.getElementById(e).removeEventListener("scroll",this.scrollHandler)}},jpe=(0,T.Z)(zpe,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-icon"),m=(0,a.resolveComponent)("campo"),u=(0,a.resolveComponent)("q-select"),p=(0,a.resolveComponent)("q-drawer"),h=(0,a.resolveComponent)("q-tooltip"),C=(0,a.resolveComponent)("badge"),v=(0,a.resolveComponent)("q-card-section"),f=(0,a.resolveComponent)("q-separator"),N=(0,a.resolveComponent)("q-item-section"),V=(0,a.resolveComponent)("q-item-label"),g=(0,a.resolveComponent)("q-item"),x=(0,a.resolveComponent)("q-list"),b=(0,a.resolveComponent)("q-menu"),w=(0,a.resolveComponent)("q-card"),_=(0,a.resolveComponent)("draggable"),y=(0,a.resolveComponent)("crm-trocar-status"),I=(0,a.resolveComponent)("modal-historico-status"),E=(0,a.resolveComponent)("q-page"),S=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(E,{class:"FunilVendas",id:"FunilVendas"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-gradiente text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[lpe])),_:1}),(0,a.createVNode)(n,{icon:"mdi-filter",round:"",dense:"",flat:"",onClick:o[0]||(o[0]=e=>r.showfilters=!r.showfilters)})])),_:1}),(0,a.createVNode)(p,{overlay:"",side:"right",modelValue:r.showfilters,"onUpdate:modelValue":o[6]||(o[6]=e=>r.showfilters=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{color:"white",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"text-h5",name:"mdi-filter"}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[spe])),_:1}),(0,a.createVNode)(n,{dense:"",flat:"",icon:"close",round:"",onClick:o[1]||(o[1]=e=>r.showfilters=!r.showfilters)})])),_:1}),(0,a.createElementVNode)("div",npe,[(0,a.createVNode)(m,{modelValue:r.fraseFiltro,"onUpdate:modelValue":[o[2]||(o[2]=e=>r.fraseFiltro=e),l.filtraDebounce],rotulo:"Por cliente ou responsável",dense:""},null,8,["modelValue","onUpdate:modelValue"]),r.diretivaContatosAcessaTodosContatos?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,modelValue:r.vendedorDigitadorSelecionado,"onUpdate:modelValue":[o[3]||(o[3]=e=>r.vendedorDigitadorSelecionado=e),l.refazFiltro],options:r.vendedoresDigitadoresOpcoes,clearable:"",label:"Vendedor / Digitador"},null,8,["modelValue","options","onUpdate:modelValue"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(u,{modelValue:r.prazoSelecionado,"onUpdate:modelValue":o[4]||(o[4]=e=>r.prazoSelecionado=e),options:r.prazoOpcoes,clearable:"",label:"Por prazo"},null,8,["modelValue","options"]),(0,a.createVNode)(u,{modelValue:r.empresaSelecionada,"onUpdate:modelValue":[o[5]||(o[5]=e=>r.empresaSelecionada=e),l.refazFiltro],options:r.empresaOpcoes,clearable:"",label:"Por empresa"},null,8,["modelValue","options","onUpdate:modelValue"])])])),_:1},8,["modelValue"]),(0,a.createElementVNode)("div",cpe,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.listasFiltradas,((t,i)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:i,class:"no-shadow q-pa-none col coluna"},[(0,a.createElementVNode)("div",dpe,[(0,a.createVNode)(c,{class:"no-shadow q-py-none q-px-sm text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-py-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",mpe,(0,a.toDisplayString)(i),1),r.total[i]?((0,a.openBlock)(),(0,a.createElementBlock)("div",upe,(0,a.toDisplayString)(e.$filters.numero(r.total[i],2)),1)):(0,a.createCommentVNode)("",!0)])),_:2},1024)])),_:2},1024),"Concluído"===i?((0,a.openBlock)(),(0,a.createElementBlock)("div",ppe,[(0,a.createElementVNode)("div",hpe,[(0,a.createVNode)(m,{modelValue:r.entregueInicio,"onUpdate:modelValue":o[7]||(o[7]=e=>r.entregueInicio=e),class:"q-mx-sm",rotulo:"Início",tipo:"data"},null,8,["modelValue"]),(0,a.createVNode)(m,{modelValue:r.entregueFim,"onUpdate:modelValue":o[8]||(o[8]=e=>r.entregueFim=e),class:"q-mx-sm",rotulo:"Fim",tipo:"data"},null,8,["modelValue"])])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(_,{class:"dragAreaCRM",delay:"250",list:t,group:"osGroup",draggable:".extratoCRM",onEnd:l.eventoEnd,itemKey:"codigoDocumento",id:i},{item:(0,a.withCtx)((({element:o})=>[!o.mostra||null!==r.prazoSelecionado&&r.prazoSelecionado.value!==o.corBorda?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(w,{key:0,class:(0,a.normalizeClass)(["q-pa-sm q-pb-md q-my-sm q-mb-md shadow-1 bg-white extratoCRM",o.corBorda])},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Cpe,[vpe,(0,a.createElementVNode)("div",fpe,[(0,a.createVNode)(C,{cor:"grey-1",class:"q-mx-sm",icone:"shopping_cart",rotulo:o.totalDocumento},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Total: "+(0,a.toDisplayString)(e.$filters.numero(o.totalDocumento,2)),1)])),_:2},1024)])),_:2},1032,["rotulo"]),(0,a.createVNode)(C,{cor:"grey-8",escuro:"",icone:"assignment_turned_in",rotulo:o.numeroVenda},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Vendas: "+(0,a.toDisplayString)(e.$filters.numero(o.numeroVenda,2)),1)])),_:2},1024)])),_:2},1032,["rotulo"])])]),(0,a.createVNode)(v,{class:"q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Npe,(0,a.toDisplayString)(o.nomeCliente),1),(0,a.createElementVNode)("span",Vpe," Empresa: "+(0,a.toDisplayString)(o.descricaoEmpresa),1)])),_:2},1024),(0,a.createVNode)(v,{class:"row q-py-none"}),(0,a.createVNode)(f,{class:"q-my-sm"}),(0,a.createVNode)(v,{class:"row q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",gpe,[(0,a.createElementVNode)("div",xpe,[(0,a.createVNode)(d,{name:"person",color:"grey-7",size:"14px"})]),(0,a.createElementVNode)("div",bpe,(0,a.toDisplayString)(o.nomeVendedor),1),(0,a.createElementVNode)("div",wpe,[(0,a.createVNode)(d,{name:"person",color:"grey-7",size:"14px"})]),(0,a.createElementVNode)("div",_pe,(0,a.toDisplayString)(o.nomeDigitador),1),o.dataHoraEmissao?((0,a.openBlock)(),(0,a.createElementBlock)("div",ype,[(0,a.createVNode)(d,{name:"calendar_today",color:"grey-7",size:"14px"})])):(0,a.createCommentVNode)("",!0),o.dataHoraEmissao?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ipe,(0,a.toDisplayString)(e.$filters.data(o.dataHoraEmissao)),1)):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",Epe,[(0,a.createVNode)(d,{name:"more_vert",style:{color:"grey",float:"right","text-align":"right","font-size":"1.2rem",cursor:"pointer"},onMouseOver:"this.style.color='black'",onMouseOut:"this.style.color='grey'"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(x,{link:"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{clickable:"",onClick:t=>e.$refs.modalHistoricoStatus.mostrar({idDocumento:o.codigoDocumento})},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"history"})])),_:1}),(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[Spe])),_:1})])),_:1})])),_:2},1032,["onClick"]),(0,a.createVNode)(g,{clickable:"",onClick:e=>l.irParaAtendimento(o.codigoContato)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"launch"})])),_:1}),(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[Mpe])),_:1})])),_:1})])),_:2},1032,["onClick"])])),_:2},1536),[[S]])])),_:2},1024)])),_:2},1024)])])),_:2},1024)])),_:2},1032,["class"]))])),_:2},1032,["list","onEnd","id"])])])))),128))]),(0,a.createVNode)(y,{modelValue:r.trocarStatusModal,"onUpdate:modelValue":o[9]||(o[9]=e=>r.trocarStatusModal=e),dados:r.trocarStatusDados,onConfirmar:l.eventoConfirmarTroca,onCancelar:l.eventoCancelarTroca},null,8,["modelValue","dados","onConfirmar","onCancelar"]),(0,a.createVNode)(I,{ref:"modalHistoricoStatus"},null,512)])),_:1})}]]);Z()(zpe,"components",{QPage:se.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QBtn:H.Z,QDrawer:YM.Z,QIcon:L.Z,QSelect:al.Z,QCard:D.Z,QTooltip:Ao.Z,QCardSection:q.Z,QSeparator:$.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z}),Z()(zpe,"directives",{ClosePopup:J.Z});const $pe=(0,a.createTextVNode)("Importar"),Upe=(0,a.createTextVNode)("Combinar"),Zpe=(0,a.createTextVNode)("Editar Marca, Grupo, Subgrupo ou Unidade"),Qpe={class:"col-12 col-md"},Rpe={class:"col-12 col-md"},Gpe={class:"col-12 col-md"},Hpe={class:"col-12 col-md"},Jpe={class:"col-12 col-md"},Ype={class:"col-12 col-md"},Xpe={class:"col-12 col-md"},Wpe={class:"col-12 col-md-auto"},Kpe=["onClick"],ehe=["onClick"],ohe={class:"col-12"},the=(0,a.createTextVNode)("Referência"),ahe={class:"col-12"},ihe=(0,a.createTextVNode)("Valor de venda"),rhe=(0,a.createTextVNode)("Referência"),lhe=(0,a.createTextVNode)("Valor de venda"),she={class:"q-col-gutter-xs"},nhe=(0,a.createTextVNode)(" Editar "),che=(0,a.createTextVNode)(" Detalhes "),dhe=(0,a.createTextVNode)(" Remover "),mhe=(0,a.createTextVNode)("Restaurar"),uhe=(0,a.createTextVNode)("Duplicar Produto/Serviço"),phe={key:0,class:"q-pa-md"},hhe={class:"col-12 col-md-6"},Che={class:"col-6 col-md-4"},vhe=(0,a.createTextVNode)(" Estoque "),fhe={class:"col-6 col-md-4"},Nhe=(0,a.createTextVNode)(" Fornecedor: "),Vhe={class:"col-6 col-md-4"},ghe={class:"col-6 col-md-12"},xhe={style:{"white-space":"pre-line"}},bhe={class:"col-12 col-md-6"},whe={class:"col-2 col-md-auto"},_he={class:"col-10 col-md"},yhe={class:"col-12 col-md"},Ihe={class:"col-2 col-md-auto"},Ehe={class:"col-10 col-md"},She={class:"col-12 col-md-auto q-pt-md"},Mhe=(0,a.createTextVNode)(" Tarefa X "),The=(0,a.createTextVNode)("Duplicar Produto/Serviço"),khe={class:"u-container relative-position"},Dhe={class:"row items-center justify-content-between q-py-xs"},qhe={class:"col-auto text-center"},Fhe={class:"col-auto text-center"},Phe={class:"col-auto text-center"},Ahe={class:"col-auto text-center"},Bhe={class:"col-auto text-center"},Lhe={class:"row items-center justify-content-between"},Ohe={class:"col"},zhe={class:"col-auto"},jhe=(0,a.createTextVNode)(" Nome Cliente "),$he={class:"q-pa-md"},Uhe={class:"u-container"},Zhe={class:"col-12 col-md"},Qhe={class:"col-12 col-md-auto q-pt-md"},Rhe=(0,a.createTextVNode)(" Status "),Ghe=(0,a.createTextVNode)(" #0001 "),Hhe={class:"col-12 col-md-8 items-stretch"},Jhe={class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}},Yhe=(0,a.createTextVNode)(" Atividades "),Xhe=(0,a.createTextVNode)("24/09/2020"),Whe=(0,a.createTextVNode)("Tag"),Khe=(0,a.createTextVNode)("Tag"),eCe=(0,a.createTextVNode)("Editar"),oCe=(0,a.createTextVNode)("22/09/2020"),tCe=(0,a.createTextVNode)("Tag"),aCe=(0,a.createTextVNode)("Tag"),iCe=(0,a.createTextVNode)("Editar"),rCe={class:"col-12 col-md-4 items-stretch"},lCe={class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}},sCe=(0,a.createTextVNode)(" Checklist "),nCe=(0,a.createTextVNode)("Editar"),cCe={class:"q-mt-md text-center"},dCe={components:{},data:()=>({data:"",lista:[{name:"Titulo do toDo",email:"o to do da lista",tags:["tag1","tag2"],checkboxModel:!1},{name:"Titulo do toDo",email:"o to do da lista",tags:["tag1","tag2"],checkboxModel:!1},{name:"Titulo do toDo",email:"o to do da lista",tags:["tag1","tag2"],checkboxModel:!1}],ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]})},mCe=(0,T.Z)(dCe,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-toolbar"),c=(0,a.resolveComponent)("q-checkbox"),d=(0,a.resolveComponent)("q-item-section"),m=(0,a.resolveComponent)("q-item-label"),u=(0,a.resolveComponent)("q-item"),p=(0,a.resolveComponent)("q-list"),h=(0,a.resolveComponent)("q-menu"),C=(0,a.resolveComponent)("q-btn"),v=(0,a.resolveComponent)("q-card"),f=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(v,{class:"extratoItem bg-white q-pa-md q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-pa-none q-ma-none q-mb-md",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("p",lCe,[(0,a.createVNode)(s,{name:"mdi-format-list-checks",class:"q-mr-md",size:"24px",style:{color:"#737373"}}),sCe])])),_:1}),(0,a.createVNode)(p,{highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(u,{key:e},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:"",class:"sidecheckbox"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:e.checkboxModel,"onUpdate:modelValue":o=>e.checkboxModel=o,dark:"","keep-color":""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(d,{right:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{flat:"",dense:"",icon:"more_vert",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(p,{link:"","no-border":"",separator:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"edit"})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[nCe])),_:1})])),_:1})])),_:1})])),_:1},512),[[f]])])),_:1})])),_:1})])),_:1})])),_:2},1024)))),128))])),_:1}),(0,a.createElementVNode)("div",cCe,[(0,a.createVNode)(C,{color:"positive",icon:"add",label:"To Do",outline:"",size:"xs"})])])),_:1})}]]);Z()(dCe,"components",{QCard:D.Z,QToolbar:O.Z,QItemLabel:j.Z,QIcon:L.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QCheckbox:Hh.Z,QBtn:H.Z,QMenu:Bo.Z}),Z()(dCe,"directives",{ClosePopup:J.Z});const uCe={class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}},pCe=(0,a.createTextVNode)(" Arquivos "),hCe={components:{Arquivo:fA.Z},data:()=>({data:"",ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]})},CCe=(0,T.Z)(hCe,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-toolbar"),c=(0,a.resolveComponent)("arquivo"),d=(0,a.resolveComponent)("q-card");return(0,a.openBlock)(),(0,a.createBlock)(d,{class:"extratoItem bg-white q-pa-md q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-pa-none q-ma-none q-mb-md",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("p",uCe,[(0,a.createVNode)(s,{name:"mdi-attachment",class:"q-mr-md",size:"24px",style:{color:"#737373"}}),pCe])])),_:1}),(0,a.createVNode)(c,{ref:"arquivo"},null,512)])),_:1})}]]);Z()(hCe,"components",{QCard:D.Z,QToolbar:O.Z,QItemLabel:j.Z,QIcon:L.Z});const vCe={class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}},fCe=(0,a.createTextVNode)(" Projeto 1 "),NCe=(0,a.createTextVNode)("Projeto 4"),VCe=(0,a.createTextVNode)("Projeto 4"),gCe=(0,a.createTextVNode)("Projeto 4"),xCe={class:"row"},bCe=(0,a.createTextVNode)("Etapa"),wCe=(0,a.createTextVNode)("Status 1"),_Ce=(0,a.createTextVNode)("Status 4"),yCe=(0,a.createTextVNode)("Status 4"),ICe=(0,a.createTextVNode)("Status 4"),ECe={components:{},data:()=>({data:"",ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]})},SCe=(0,T.Z)(ECe,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-item-label"),d=(0,a.resolveComponent)("q-item-section"),m=(0,a.resolveComponent)("q-item"),u=(0,a.resolveComponent)("q-btn"),p=(0,a.resolveComponent)("q-list"),h=(0,a.resolveComponent)("q-menu"),C=(0,a.resolveComponent)("q-toolbar"),v=(0,a.resolveComponent)("q-card"),f=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(v,{class:"extratoItem bg-white q-pa-md q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"q-pa-none q-ma-none q-mb-md",color:"none","text-color":"tertiary",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("p",vCe,[(0,a.createVNode)(s,{name:"mdi-chart-timeline",class:"q-mr-md",size:"24px",style:{color:"#737373"}}),fCe]),(0,a.createVNode)(n,{class:"q-pa-none q-ma-none",style:{height:"0 !important","min-height":"auto"}}),(0,a.createVNode)(u,{flat:"",dense:"",color:"primary",icon:"edit",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(p,{link:"","no-border":"",separator:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[NCe])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[VCe])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[gCe])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{color:"positive",icon:"add",label:"Novo Projeto",outline:"",size:"xs"})])),_:1})])),_:1},512),[[f]])])),_:1})])),_:1})])),_:1}),(0,a.createElementVNode)("div",xCe,[(0,a.createVNode)(p,{highlight:"",class:"q-pa-none no-border col-12"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{stamp:""},{default:(0,a.withCtx)((()=>[bCe])),_:1}),(0,a.createVNode)(c,{stamp:"",class:"text-subtitle1"},{default:(0,a.withCtx)((()=>[wCe])),_:1})])),_:1}),(0,a.createVNode)(d,{avatar:"",right:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{flat:"",dense:"",icon:"edit",color:"primary",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(p,{link:"","no-border":"",separator:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[_Ce])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[yCe])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[ICe])),_:1})])),_:1})])),_:1})])),_:1},512),[[f]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1})}]]);Z()(ECe,"components",{QCard:D.Z,QToolbar:O.Z,QItemLabel:j.Z,QIcon:L.Z,QToolbarTitle:G.Z,QBtn:H.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z}),Z()(ECe,"directives",{ClosePopup:J.Z});const MCe={class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}},TCe=(0,a.createTextVNode)(" Classificação / Carrinho "),kCe={class:"q-col-gutter-x-sm q-py-sm row"},DCe=(0,a.createTextVNode)("marca"),qCe={class:"q-mt-md text-center"},FCe={components:{Avatar:uo.Z},data:()=>({data:"",ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]})},PCe=(0,T.Z)(FCe,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-toolbar"),c=(0,a.resolveComponent)("avatar"),d=(0,a.resolveComponent)("q-item-section"),m=(0,a.resolveComponent)("q-item-label"),u=(0,a.resolveComponent)("q-btn"),p=(0,a.resolveComponent)("q-item"),h=(0,a.resolveComponent)("q-list"),C=(0,a.resolveComponent)("q-card");return(0,a.openBlock)(),(0,a.createBlock)(C,{class:"extratoItem bg-white q-pa-md q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-pa-none q-ma-none q-mb-md",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("p",MCe,[(0,a.createVNode)(s,{name:"shopping_cart",class:"q-mr-md",size:"24px",style:{color:"#737373"}}),TCe])])),_:1}),(0,a.createElementVNode)("div",kCe,[(0,a.createVNode)(h,{highlight:"",class:"q-pa-none no-border col-12"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:"",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{imagem:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQZH7c1xxmppduvnIzq7oevpcDCK3nDoGgqjR6-yZ7L7kHCKDeq",rotulo:"avatar",tamanho:"30",style:{float:"left"}})])),_:1}),(0,a.createVNode)(d,{label:"Descricao"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{stamp:""},{default:(0,a.withCtx)((()=>[DCe])),_:1})])),_:1}),(0,a.createVNode)(d,{avatar:"",right:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})])),_:1})])),_:1})])),_:1})]),(0,a.createElementVNode)("div",qCe,[(0,a.createVNode)(u,{color:"positive",icon:"add",label:"Produto / Serviço",outline:"",size:"xs"})])])),_:1})}]]);Z()(FCe,"components",{QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QItemLabel:j.Z,QIcon:L.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QBtn:H.Z});const ACe={id:"TarefasAssunto"},BCe={class:"q-pa-none border-1 DocumentoMetas row q-col-gutter-x-sm"},LCe={class:"row q-col-gutter-x-sm"},OCe={class:"col-12"},zCe={class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}},jCe=(0,a.createTextVNode)(" Detalhe "),$Ce={class:"col-12"},UCe={class:"col-12 col-lg-4"},ZCe=(0,a.createTextVNode)("Solicitante"),QCe=(0,a.createTextVNode)("Jim Doe"),RCe={class:"col-12 col-lg-4"},GCe=(0,a.createTextVNode)("Responsável"),HCe=(0,a.createTextVNode)("Jim Doe"),JCe={class:"col-12 col-lg-4"},YCe={class:"col-12 q-mt-md text-center"},XCe={key:0,class:"row q-col-gutter-x-sm"},WCe=[(0,a.createElementVNode)("div",{class:"DocumentoMetas-item col-12 col-lg-6"},[(0,a.createElementVNode)("div",{class:"row q-mt-md text-tertiary"},[(0,a.createElementVNode)("div",{class:"DocumentoMetas-itemRotulo2 text-caption text-weight-bold col-auto q-mr-sm"},"Titulo meta"),(0,a.createElementVNode)("div",{class:"DocumentoMetas-itemConteudo2 text-caption col"},[(0,a.createElementVNode)("div",null,"Informacao meta")])])],-1),(0,a.createElementVNode)("div",{class:"DocumentoMetas-item col-12 col-lg-6"},[(0,a.createElementVNode)("div",{class:"row q-mt-md text-tertiary"},[(0,a.createElementVNode)("div",{class:"DocumentoMetas-itemRotulo2 text-caption text-weight-bold col-auto q-mr-sm"},"Titulo meta"),(0,a.createElementVNode)("div",{class:"DocumentoMetas-itemConteudo2 text-caption col"},[(0,a.createElementVNode)("div",null,"Informacao meta")])])],-1),(0,a.createElementVNode)("div",{class:"DocumentoMetas-item col-12 col-lg-6"},[(0,a.createElementVNode)("div",{class:"row q-mt-md text-tertiary"},[(0,a.createElementVNode)("div",{class:"DocumentoMetas-itemRotulo2 text-caption text-weight-bold col-auto q-mr-sm"},"Titulo meta"),(0,a.createElementVNode)("div",{class:"DocumentoMetas-itemConteudo2 text-caption col"},[(0,a.createElementVNode)("div",null,"Informacao meta")])])],-1),(0,a.createElementVNode)("div",{class:"DocumentoMetas-item col-12 col-lg-6"},[(0,a.createElementVNode)("div",{class:"row q-mt-md text-tertiary"},[(0,a.createElementVNode)("div",{class:"DocumentoMetas-itemRotulo2 text-caption text-weight-bold col-auto q-mr-sm"},"Titulo meta"),(0,a.createElementVNode)("div",{class:"DocumentoMetas-itemConteudo2 text-caption col"},[(0,a.createElementVNode)("div",null,"Informacao meta")])])],-1)],KCe=(0,a.createTextVNode)("Cliente X"),eve={class:"layout-padding"},ove={components:{Avatar:uo.Z,Campo:L_.Z,TarefasDadosClientes:T9},data:()=>({data:"",modalcontatos:!1,ratingModel:"",showmetas:!1,selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]}),methods:{async abrirModalContatos(){this.modalcontatos=!0}},watch:{},created(){}},tve=(0,T.Z)(ove,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-toolbar"),c=(0,a.resolveComponent)("q-input"),d=(0,a.resolveComponent)("avatar"),m=(0,a.resolveComponent)("q-item-section"),u=(0,a.resolveComponent)("q-item-label"),p=(0,a.resolveComponent)("q-btn"),h=(0,a.resolveComponent)("q-item"),C=(0,a.resolveComponent)("q-list"),v=(0,a.resolveComponent)("campo"),f=(0,a.resolveComponent)("q-card"),N=(0,a.resolveComponent)("q-toolbar-title"),V=(0,a.resolveComponent)("q-header"),g=(0,a.resolveComponent)("tarefas-dados-clientes"),x=(0,a.resolveComponent)("q-layout"),b=(0,a.resolveComponent)("q-dialog"),w=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",ACe,[(0,a.createVNode)(f,{class:"extratoItem bg-white q-pa-md no-shadow q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",BCe,[(0,a.createElementVNode)("div",LCe,[(0,a.createElementVNode)("div",OCe,[(0,a.createVNode)(n,{class:"q-pa-none q-ma-none q-mb-md",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("p",zCe,[(0,a.createVNode)(s,{name:"playlist_add_check",class:"q-mr-md",size:"24px",style:{color:"#737373"}}),jCe])])),_:1})]),(0,a.createElementVNode)("div",$Ce,[(0,a.createVNode)(c,{type:"textarea",class:"bg-light q-px-md q-mb-none",placeholder:"Detalhamento da tarefa...",rows:"4"})]),(0,a.createElementVNode)("div",UCe,[(0,a.createVNode)(C,{highlight:"",class:"q-pa-none no-border q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{imagem:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQZH7c1xxmppduvnIzq7oevpcDCK3nDoGgqjR6-yZ7L7kHCKDeq",rotulo:"avatar",tamanho:"30",style:{float:"left"}})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{stamp:""},{default:(0,a.withCtx)((()=>[ZCe])),_:1}),(0,a.createVNode)(m,{stamp:"",class:"text-subtitle1"},{default:(0,a.withCtx)((()=>[QCe])),_:1})])),_:1}),(0,a.createVNode)(m,{right:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{color:"primary",dense:"",flat:"",icon:"edit",round:""})])),_:1})])),_:1})])),_:1})]),(0,a.createElementVNode)("div",RCe,[(0,a.createVNode)(C,{highlight:"",class:"q-pa-none no-border q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{imagem:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQZH7c1xxmppduvnIzq7oevpcDCK3nDoGgqjR6-yZ7L7kHCKDeq",rotulo:"avatar",tamanho:"30",style:{float:"left"}})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{stamp:""},{default:(0,a.withCtx)((()=>[GCe])),_:1}),(0,a.createVNode)(m,{stamp:"",class:"text-subtitle1"},{default:(0,a.withCtx)((()=>[HCe])),_:1})])),_:1}),(0,a.createVNode)(m,{right:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{color:"primary",dense:"",flat:"",icon:"edit",round:""})])),_:1})])),_:1})])),_:1})]),(0,a.createElementVNode)("div",JCe,[(0,a.createVNode)(v,{modelValue:r.data,"onUpdate:modelValue":o[0]||(o[0]=e=>r.data=e),maxlength:"10",rotulo:"Prazo",tipo:"data",class:"ondesktop"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",YCe,[(0,a.createVNode)(p,{color:"positive",label:"Ver mais",outline:"",size:"xs",onClick:o[1]||(o[1]=e=>r.showmetas=!r.showmetas)})])]),r.showmetas?((0,a.openBlock)(),(0,a.createElementBlock)("div",XCe,WCe)):(0,a.createCommentVNode)("",!0)])])),_:1}),(0,a.createVNode)(b,{maximized:"",modelValue:r.modalcontatos,"onUpdate:modelValue":o[2]||(o[2]=e=>r.modalcontatos=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(p,{flat:"",round:"",dense:"",icon:"keyboard_arrow_left"},null,512),[[w]]),(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[KCe])),_:1})])),_:1})])),_:1}),(0,a.createElementVNode)("div",eve,[(0,a.createVNode)(g)])])),_:1})])),_:1},8,["modelValue"])])}]]);Z()(ove,"components",{QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QItemLabel:j.Z,QIcon:L.Z,QInput:re.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QBtn:H.Z,QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z}),Z()(ove,"directives",{ClosePopup:J.Z});const ave={class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}},ive=(0,a.createTextVNode)(" Convidados "),rve={class:"q-col-gutter-x-sm q-py-sm row"},lve=(0,a.createTextVNode)("marca"),sve={class:"q-mt-md text-center"},nve={components:{Avatar:uo.Z},data:()=>({data:"",ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]})},cve=(0,T.Z)(nve,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-toolbar"),c=(0,a.resolveComponent)("avatar"),d=(0,a.resolveComponent)("q-item-section"),m=(0,a.resolveComponent)("q-item-label"),u=(0,a.resolveComponent)("q-btn"),p=(0,a.resolveComponent)("q-item"),h=(0,a.resolveComponent)("q-list"),C=(0,a.resolveComponent)("q-card");return(0,a.openBlock)(),(0,a.createBlock)(C,{class:"extratoItem bg-white q-pa-md q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-pa-none q-ma-none q-mb-md",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("p",ave,[(0,a.createVNode)(s,{name:"people",class:"q-mr-md",size:"24px",style:{color:"#737373"}}),ive])])),_:1}),(0,a.createElementVNode)("div",rve,[(0,a.createVNode)(h,{highlight:"",class:"q-pa-none no-border col-12"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:"",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{imagem:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQZH7c1xxmppduvnIzq7oevpcDCK3nDoGgqjR6-yZ7L7kHCKDeq",rotulo:"avatar",tamanho:"30",style:{float:"left"}})])),_:1}),(0,a.createVNode)(d,{label:"Descricao"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{stamp:""},{default:(0,a.withCtx)((()=>[lve])),_:1})])),_:1}),(0,a.createVNode)(d,{right:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{color:"tertiary",dense:"",flat:"",icon:"delete",round:""})])),_:1})])),_:1})])),_:1})]),(0,a.createElementVNode)("div",sve,[(0,a.createVNode)(u,{color:"positive",icon:"add",label:"Convidado",outline:"",size:"xs"})])])),_:1})}]]);Z()(nve,"components",{QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QItemLabel:j.Z,QIcon:L.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QBtn:H.Z});const dve={components:{Avatar:uo.Z,Badge:S.Z,TarefasConvidados:cve,TarefasAssunto:tve,TarefasChecklist:mCe,TarefasArquivos:CCe,TarefasIncluirProjetos:SCe,TarefasProdutosServicos:PCe},data:()=>({showkanbanm:!1,showganttm:!1,showtarefas:!0,showkanban:!1,showgantt:!1,opened:!1,data:"",lista:[{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1}],ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],select:[],modelchips:["teste","cliente 2"]}),methods:{carregaComponent(e){"showtarefas"===e&&(this.showtarefas=!0,this.showkanban=!1,this.showgantt=!1),"showkanban"===e&&(this.showtarefas=!1,this.showkanban=!0,this.showgantt=!1),"showgantt"===e&&(this.showtarefas=!1,this.showkanban=!1,this.showgantt=!0)},async abrirModal(){this.opened=!0}},watch:{},created(){}},mve=(0,T.Z)(dve,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-input"),n=(0,a.resolveComponent)("badge"),c=(0,a.resolveComponent)("row"),d=(0,a.resolveComponent)("tarefas-assunto"),m=(0,a.resolveComponent)("q-icon"),u=(0,a.resolveComponent)("q-toolbar"),p=(0,a.resolveComponent)("q-toolbar-title"),h=(0,a.resolveComponent)("q-item-label"),C=(0,a.resolveComponent)("avatar"),v=(0,a.resolveComponent)("q-item-section"),f=(0,a.resolveComponent)("q-item"),N=(0,a.resolveComponent)("q-list"),V=(0,a.resolveComponent)("q-menu"),g=(0,a.resolveComponent)("q-btn"),x=(0,a.resolveComponent)("q-separator"),b=(0,a.resolveComponent)("q-card"),w=(0,a.resolveComponent)("tarefas-incluir-projetos"),_=(0,a.resolveComponent)("tarefas-produtos-servicos"),y=(0,a.resolveComponent)("tarefas-arquivos"),I=(0,a.resolveComponent)("tarefas-checklist"),E=(0,a.resolveComponent)("tarefas-convidados"),S=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Uhe,[(0,a.createVNode)(c,{class:"full-width border-1 q-mb-none text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Zhe,[(0,a.createVNode)(s,{class:"q-title",placeholder:"Assunto"})]),(0,a.createElementVNode)("div",Qhe,[(0,a.createVNode)(n,{cor:"positive",class:"q-mx-sm q-mt-sm",icone:"flag",escuro:""},{default:(0,a.withCtx)((()=>[Rhe])),_:1}),(0,a.createVNode)(n,{cor:"tertiary",escuro:"",icone:"playlist_add_check",class:"q-mt-sm"},{default:(0,a.withCtx)((()=>[Ghe])),_:1})])])),_:1}),(0,a.createVNode)(c,{class:"full-width q-col-gutter-x-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Hhe,[(0,a.createVNode)(d),(0,a.createVNode)(b,{class:"extratoItem bg-white q-pa-md q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"q-pa-none q-ma-none q-mb-md",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("p",Jhe,[(0,a.createVNode)(m,{name:"history",class:"q-mr-md",size:"24px",style:{color:"#737373"}}),Yhe])])),_:1}),(0,a.createVNode)(p,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{debounce:500,modelValue:e.buscaCampo,"onUpdate:modelValue":o[0]||(o[0]=o=>e.buscaCampo=o),ref:"buscaCampo",color:"none",placeholder:"Buscar",style:{"max-width":"990px",margin:"0 auto"}},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(N,{highlight:"",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{header:""},{default:(0,a.withCtx)((()=>[Xhe])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(f,{key:e,class:"q-py-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{imagem:e.photo,tamanho:"30"},null,8,["imagem"])])),_:2},1024),(0,a.createVNode)(v,{label:e.name},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024),(0,a.createVNode)(c,{class:"q-pl-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-me-sm",escuro:"",denso:"",cor:"positive"},{default:(0,a.withCtx)((()=>[Whe])),_:1}),(0,a.createVNode)(n,{class:"q-me-sm",escuro:"",denso:"",cor:"primary"},{default:(0,a.withCtx)((()=>[Khe])),_:1})])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(v,{right:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{flat:"",dense:"",icon:"more_vert",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(N,{link:"","no-border":"",separator:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"edit"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[eCe])),_:1})])),_:1})])),_:1})])),_:1},512),[[S]])])),_:1})])),_:1})])),_:1})])),_:2},1024)))),128)),(0,a.createVNode)(x),(0,a.createVNode)(h,{header:""},{default:(0,a.withCtx)((()=>[oCe])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(e=>((0,a.openBlock)(),(0,a.createBlock)(f,{key:e,class:"q-py-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{imagem:e.photo,tamanho:"30"},null,8,["imagem"])])),_:2},1024),(0,a.createVNode)(v,{label:e.name},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.email),1)])),_:2},1024),(0,a.createVNode)(c,{class:"q-pl-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-mw-sm",escuro:"",denso:"",cor:"positive"},{default:(0,a.withCtx)((()=>[tCe])),_:1}),(0,a.createVNode)(n,{class:"q-mw-sm",escuro:"",denso:"",cor:"primary"},{default:(0,a.withCtx)((()=>[aCe])),_:1})])),_:1})])),_:2},1032,["label"]),(0,a.createVNode)(v,{right:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{flat:"",dense:"",icon:"more_vert",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(N,{link:"","no-border":"",separator:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"edit"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[iCe])),_:1})])),_:1})])),_:1})])),_:1},512),[[S]])])),_:1})])),_:1})])),_:1})])),_:2},1024)))),128))])),_:1})])),_:1})]),(0,a.createElementVNode)("div",rCe,[(0,a.createVNode)(w),(0,a.createVNode)(_),(0,a.createVNode)(y),(0,a.createVNode)(I),(0,a.createVNode)(E)])])),_:1})])}]]);Z()(dve,"components",{QInput:re.Z,QCard:D.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QItemLabel:j.Z,QIcon:L.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QBtn:H.Z,QMenu:Bo.Z,QSeparator:$.Z}),Z()(dve,"directives",{ClosePopup:J.Z});const uve={components:{tarefa:mve,Avatar:uo.Z,TarefasDadosClientes:I4},data:()=>({showFilters:!0,item:{id:""},visivel:!1,abas:[],abaSelecionada:"ItemFicha",abaAnterior:"ItemFicha",objetoPai:"item",permissaoFicha:!1,permissaoEstoque:!1}),emits:["atualizar"],methods:{trocarAba_click(e){let o=!1;try{o=this.$refs[this.abaAnterior].verificarSeAlterouCampos()}catch{}o?$q.dialog({message:"Deseja descartar suas modificações?",title:"Atenção!",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Descartar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{this.abaAnterior=this.abaSelecionada})).onCancel((()=>{this.abaSelecionada=this.abaAnterior})):this.abaAnterior=this.abaSelecionada},async atualizarAba(){},fechar(){this.visivel=!1,this.$emit("atualizar")},async duplicarItem(e){try{for(let e of this.abas)await this.$refs[e.to.name].salvarItem();let o=await $db.item.duplica(e);await this.atualizar(o),$q.notifyPositive("O produto foi duplicado com sucesso.")}catch(e){$q.notifyError("Ocorreu erro ao duplicar Produto",e)}},async atualizar({id:e}){try{this.$q.loading.show();const o=(await $plataforma.objeto.where({nomeObjeto:this.objetoPai}).toArray()).find((e=>e.id));if(!(o||{}).id)return;let t=await $plataforma.sistemaObjeto.where({idPai:o.id,idSistema:this.$root.clienteSistema.idSistema}).toArray();if(!t.length)return;const a=await $plataforma.objeto.where("id").anyOf(t.map((e=>e.idObjeto))).toArray();if(!a.length)return;t=t.sort(((e,o)=>(e.ordem||0)>(o.ordem||0)?1:-1));const i=[];for(const e of t){const o=a.find((o=>o.id===e.idObjeto)),t=JSON.parse(o.rota||null)||{};await $db.permissao.objeto(o.nomeObjeto)&&("componente"!==o.tipo||o.menuPrincipal||(!o.menuDesenvolvimento||$db.usuario.logado.desenvolvedor&&$db.usuario.logado.desenvolvedor())&&i.push({icon:o.icone||"",label:o.descricao||"",to:{name:t.name||""}}))}this.abas=i,this.permissaoFicha=await $db.permissao.objeto("item//ficha"),this.permissaoEstoque=await $db.permissao.objeto("item//estoque"),this.abaSelecionada=this.permissaoFicha?"ItemFicha":"ItemEstoque",this.item=await $db.item.leNew({id:e}),await this.$refs.ItemFicha.atualizar({id:e}),await this.$refs.ItemEstoque.atualizar({id:e})}finally{this.$q.loading.hide()}},async show({id:e}){return this.visivel=!0,this.atualizar({id:e})}}},pve=(0,T.Z)(uve,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-icon"),d=(0,a.resolveComponent)("q-item-section"),m=(0,a.resolveComponent)("q-item-label"),u=(0,a.resolveComponent)("q-item"),p=(0,a.resolveComponent)("q-list"),h=(0,a.resolveComponent)("q-menu"),C=(0,a.resolveComponent)("q-toolbar"),v=(0,a.resolveComponent)("q-header"),f=(0,a.resolveComponent)("tarefa"),N=(0,a.resolveComponent)("q-page"),V=(0,a.resolveComponent)("q-page-container"),g=(0,a.resolveComponent)("q-input"),x=(0,a.resolveComponent)("q-field"),b=(0,a.resolveComponent)("q-footer"),w=(0,a.resolveComponent)("avatar"),_=(0,a.resolveComponent)("tarefas-dados-clientes"),y=(0,a.resolveComponent)("q-layout"),I=(0,a.resolveComponent)("q-drawer"),E=(0,a.resolveComponent)("q-dialog"),S=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(E,{modelValue:r.visivel,"onUpdate:modelValue":o[4]||(o[4]=e=>r.visivel=e),maximized:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{class:"bg-light",view:"hHr lpR fFr"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"u-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{class:"bg-gradiente"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"no-shadow q-px-none q-py-sm",color:"transparent"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:"",onClick:l.fechar},null,8,["onClick"]),[[S]]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[Mhe])),_:1}),(0,a.createVNode)(s,{icon:"person",flat:"",dense:"",round:"",onClick:o[0]||(o[0]=e=>r.showFilters=!r.showFilters)}),(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"more_vert",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(u,{clickable:"",onClick:o[1]||(o[1]=e=>l.duplicarItem(r.item.id))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"control_point_duplicate"})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[The])),_:1})])),_:1})])),_:1},512),[[S]])])),_:1})])),_:1})])),_:1},512),[[a.vShow,r.permissaoFicha]])])),_:1})])),_:1}),(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f)])),_:1})])),_:1}),(0,a.createVNode)(b,{class:"bg-light no-shadow q-pa-sm text-right u-bordaCima",reveal:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",khe,[(0,a.createElementVNode)("div",Dhe,[(0,a.createElementVNode)("div",qhe,[(0,a.createVNode)(s,{class:"q-pa-sm",color:"tertiary",size:"md",icon:"group_add",flat:""})]),(0,a.createElementVNode)("div",Fhe,[(0,a.createVNode)(s,{class:"q-pa-sm",color:"tertiary",size:"md",icon:"mdi-cart-plus",flat:""})]),(0,a.createElementVNode)("div",Phe,[(0,a.createVNode)(s,{class:"q-pa-sm",color:"tertiary",size:"md",flat:"",icon:"mdi-attachment"})]),(0,a.createElementVNode)("div",Ahe,[(0,a.createVNode)(s,{class:"q-pa-sm",color:"tertiary",size:"md",flat:"",icon:"mdi-format-list-checks"})]),(0,a.createVNode)(x,{class:"col","icon-color":"primary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{type:"textarea",filled:"",value:"",rows:"1",borderless:"",placeholder:"Digite seu comentário"})])),_:1}),(0,a.createElementVNode)("div",Bhe,[(0,a.createVNode)(s,{class:"q-pa-sm q-mx-sm no-shadow",color:"none","text-color":"primary",size:"md",icon:"mdi-send",unelevated:"",dense:"",round:""})])]),(0,a.createElementVNode)("div",Lhe,[(0,a.createElementVNode)("div",Ohe,[(0,a.createVNode)(s,{class:"float-left",round:"",unelevated:"",color:"green",icon:"play_arrow"})]),(0,a.createElementVNode)("div",zhe,[(0,a.createVNode)(s,{unelevated:"",color:"negative",label:"FINALIZAR"}),(0,a.createVNode)(s,{class:"q-ml-sm",unelevated:"",color:"primary",label:"SALVAR"}),(0,a.createVNode)(s,{class:"q-ml-sm",color:"tertiary",flat:"",icon:"more_vert",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{link:"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{icon:"print"}),(0,a.createVNode)(m,{label:"Transferir"})])),_:1},512),[[S]]),(0,a.withDirectives)((0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{icon:"print"}),(0,a.createVNode)(m,{label:"Duplicar"})])),_:1},512),[[S]]),(0,a.withDirectives)((0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{icon:"print"}),(0,a.createVNode)(m,{label:"Cancelar"})])),_:1},512),[[S]]),(0,a.withDirectives)((0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{icon:"print"}),(0,a.createVNode)(m,{label:"Reabrir"})])),_:1},512),[[S]])])),_:1})])),_:1})])),_:1})])])])])),_:1}),(0,a.createVNode)(I,{modelValue:r.showFilters,"onUpdate:modelValue":o[3]||(o[3]=e=>r.showFilters=e),bordered:"",side:"right"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{view:"hHh lpR lFr"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{class:"bg-white","height-hint":"98"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{color:"white",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{imagem:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQZH7c1xxmppduvnIzq7oevpcDCK3nDoGgqjR6-yZ7L7kHCKDeq",rotulo:"avatar",tamanho:"40",style:{float:"left"}}),(0,a.createVNode)(n,{class:"q-pt-sm"},{default:(0,a.withCtx)((()=>[jhe])),_:1}),(0,a.createVNode)(s,{dense:"",flat:"",icon:"close",round:"",onClick:o[2]||(o[2]=e=>r.showFilters=!r.showFilters)})])),_:1})])),_:1}),(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",$he,[(0,a.createVNode)(_)])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["modelValue"])}]]);Z()(uve,"components",{QDialog:k.Z,QLayout:ae.Z,QPageContainer:le.Z,QHeader:ie.Z,QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QIcon:L.Z,QItemLabel:j.Z,QPage:se.Z,QFooter:Te.Z,QField:Sp.Z,QInput:re.Z,QDrawer:YM.Z}),Z()(uve,"directives",{ClosePopup:J.Z});const hve={components:{lista:xT.Z,Avatar:uo.Z,Badge:S.Z,modalItemFicha:pve},data:()=>({lista:[],listaOriginal:[],listaLayout:{},modalCombinarItens:!1,modalImportar:!1,campos:{codigoBarras:"",descricao:"",marca:"",referencia:"",tipo:"Produto",valorCustoReposicao:0,valorVenda:0},paginacao:{atual:1,maximo:1,total:1,limite:25},permissaoFicha:!1,permissaoEstoque:!1,showFilters:!1,filtros:{ativo:null,descricaoAplicacao:null,codIdRef:null,codigoBarras:null,marca:null,fornecedores:null,grupo:null,subGrupo:null,estoque:null,tipo:null,codigoCompra:null},buscaCampo:"",opcoesMarca:[],opcoesGrupo:[],opcoesSubGrupo:[],opcoesTipo:[],tabSelecionada:{valor:"Ativos"},tabs:[{rotulo:"Ativos",value:"Ativos"},{rotulo:"Excluídos",value:"Excluidos"},{rotulo:"Todos",value:"Todos"}],showAllPreviewDetail:!1,checkboxModel:!1}),methods:{atualizarValorVendaLucro(e){if(this.listaLayout[e.id].utilizaMarkupInvertido){if(e.valorCustoReposicao&&e.valorVenda){const o=100*(e.valorVenda-e.valorCustoReposicao)/e.valorVenda;e.percentualMarkup=$utils.arredondar(o,2)}}else{const o=(e.percentualMarkup||0)/100;if(e.valorCustoReposicao&&o<1){const t=e.valorCustoReposicao/(1-o);t&&(e.valorVenda=$utils.arredondar(t,4))}}},atualizarCustoReposicao(e){e&&e.id&&!this.listaLayout[e.id].utilizaComposicaoValorReposicaoInvertido&&(e.valorCustoReposicao=(e.composicao||[]).reduce(((e,o)=>e+o.temporario.total),0),e.valorCustoReposicao||(e.percentualMarkup=100),this.atualizarValorVendaLucro(e))},async atualizar(e=null){try{$q.loading.show();const o=this.paginacao.limite,t=this.paginacao.atual,a=["descricaoConcatenada"],i=$utils.eliminarVazios(this.filtros);delete i.ativo,"Ativos"===this.tabSelecionada.valor&&(i.ativo=!0),"Excluidos"===this.tabSelecionada.valor&&(i.ativo=!1),this.buscaCampo=e||this.buscaCampo;const r=await $db.item.ler({filtros:{...i,termoBusca:this.buscaCampo},limit:o,page:t,sort:a});r.total||(r.total=r.total=r.data.length),r.totalPages||(r.totalPages=1),this.listaLayout={};for(let e of r.data)this.listaLayout[e.id]={detalhes:!1,remover:!1,utilizaMarkupInvertido:!e.utilizaMarkup,utilizaComposicaoValorReposicaoInvertido:!e.utilizaComposicaoValorReposicao};this.listaOriginal=$utils.clonarV2(r.data),this.lista=r.data,this.paginacao.total=r.total,this.paginacao.maximo=r.totalPages}catch(e){$q.notifyError("Erro iniciar",e)}finally{$q.loading.hide()}},async removerItem(e){$q.dialog({cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},title:"Remover",message:"Ao continuar você irá remover este item.",ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{try{$q.loading.show();const o=$utils.clonar(e);e.ativo=!1,await $db.item.grava({atual:e,original:o}),$q.notifyPositive("O produto foi excluído com sucesso.")}catch(e){$q.notifyError("Ocorreu um erro ao remover produto",e)}finally{$q.loading.hide()}}))},async duplicarItem(e){try{const o=await $db.item.duplica(e.id);this.filtros.codIdRef=o.id,await this.atualizar(o.id),this.$q.notifyPositive("O produto foi duplicado com sucesso.")}catch(e){this.$q.notifyError("Ocorreu erro ao duplicar Produto",e)}},async abrirItem(e){(this.permissaoFicha||this.permissaoEstoque)&&this.$refs.modalFicha.show({id:e})},async restaurarItem(e){$q.dialog({title:"Restaurar item",message:"Deseja restaurar este item?",cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{try{$q.loading.show();let o=$utils.clonarV2(e);e.ativo=!0,await $db.item.grava({atual:e,original:o}),$q.notifyPositive("O produto foi restaurado com sucesso.")}catch(e){$q.notifyError("Ocorreu um erro ao remover produto",e)}finally{$q.loading.hide()}}))},limparFiltros_click(){this.filtros={tab:"Ativos",descricaoAplicacao:null,codIdRef:null,codigoBarras:null,marca:null,fornecedores:null,grupo:null,subGrupo:null,estoque:null,tipo:null,codigoCompra:null},this.atualizar()},async filtroFornecedor_click(){const e=await $g.promptContato.show({filtro:{ativo:!0}});e.nome&&(this.filtros.fornecedores=e.nome)},async leOpcoesMarca(){console.log("leOpcoesMarca"),this.opcoesMarca=(await $db.item.leValoresUnicos("marca")).map((e=>({rotulo:e,valor:e})))},async leOpcoesGrupo(){this.opcoesGrupo=(await $db.item.leValoresUnicos("grupo")).map((e=>({rotulo:e,valor:e})))},async leOpcoesSubGrupo(){this.opcoesSubGrupo=(await $db.item.leValoresUnicos("subGrupo")).map((e=>({rotulo:e,valor:e})))},async leOpcoesTipo(){this.opcoesTipo=opcoesTipo},async itemCriarPorModal_click(){const e=await this.$refs.modalItemCriar.show();e.id&&(this.filtros.codIdRef=e.id,await this.atualizar(e.id),this.abrirEdicaoCompleta(e.id))},async buscarItem(){const e=await $g.promptItem.show({filtro:{ativo:!0}});e.acao&&Object.keys(e.itensSelecionados)[0]&&this.abrirItem(Object.keys(e.itensSelecionados)[0])},checkBoxGeral_click(){for(let e of this.lista)this.listaLayout[e.id].remover=this.checkboxModel},async removerTodos(){$q.dialog({title:"Remover itens",message:"Deseja remover todos os itens selecionados?",cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{for(let e of this.lista)if(this.listaLayout[e.id].remover){const o=$utils.clonarV2(e);e.ativo=!1;try{await $db.item.grava({original:o,atual:e})}catch(e){$q.notify("Houve um erro ao remover os itens. Tente novamente")}}}))},async restaurarTodos(){$q.dialog({title:"Restaurar itens",message:"Deseja restaurar todos os itens selecionados?",cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{for(let e of this.lista)if(this.listaLayout[e.id].remover){let o=$utils.clonarV2(e);e.ativo=!0;try{await $db.item.grava({original:o,atual:e})}catch(e){$q.notify("Houve um erro ao restaurar os itens. Tente novamente")}}}))},async abrirDetalhesItem(e,o){if(this.listaLayout[e.id].detalhes=o||!this.listaLayout[e.id].detalhes,this.listaLayout[e.id].detalhes){let o=await $db.item.leCompleto(e.id);this.listaLayout[e.id].fornecedor=o.atual.fornecedor}},abrirTodosPreview(){this.showAllPreviewDetail=!this.showAllPreviewDetail,this.lista.forEach((e=>{this.abrirDetalhesItem(e,this.showAllPreviewDetail)}))},editarMarca_click(){this.$refs.modalEditarMarca.visivel=!0},async adicionarItem(){if(this.campos.descricao.length<2)return void $q.notifyError("favor preencher a descrição do item");let e={};try{this.completarCodigoBarras(),e={...$db.item.vazio,id:$utils.uuid(),ativo:!0,tipo:this.campos.tipo,marca:this.campos.marca,descricao:this.campos.descricao,referencia:this.campos.referencia,valorVenda:this.campos.valorVenda,codigoBarras:this.campos.codigoBarras,valorCustoReposicao:this.campos.valorCustoReposicao},$q.loading.show(),await $db.item.grava({atual:e}),this.filtros.codIdRef=e.id,this.atualizar(),$q.notifyPositive("Os dados do produto foram salvos com sucesso."),this.campos={ativo:!0,codigoBarras:"",descricao:"",marca:"",referencia:"",tipo:"Produto",valorCustoReposicao:0,valorVenda:0}}catch(e){$q.notifyError("Ocorreu um erro ao salvar",e)}finally{$q.loading.hide()}},abrirEdicaoCompleta(e){$q.dialog({title:"Item Cadastrado!",message:"Deseja abrir a edição completa?",persistent:"Sim",cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk((()=>{this.abrirItem(e)}))},async exportarXLSX_click(){try{$q.loading.show();const e=$utils.eliminarVazios(this.filtros);delete e.ativo,"Ativos"===this.tabSelecionada.valor&&(e.ativo=!0),"Excluidos"===this.tabSelecionada.valaor&&(e.ativo=!1);const o=await $db.item.leRefatorado({filtros:e,limit:999999,page:1,sort:"descricao"}),t=IT().utils.book_new(),a=IT().utils.json_to_sheet(o.data,{header:Object.keys(o.data[0])});IT().utils.book_append_sheet(t,a,"itens"),IT().writeFile(t,"itens.xlsx")}catch(e){$q.notifyError("Erro iniciar",e)}finally{$q.loading.hide()}},async salvarItem(e){let o=await $erp().item.get(e.id),t=$utils.clonarV2(e);try{await $db.item.gravaItem({original:o,atual:t}),this.$q.notifyPositive("Item alterado com sucesso")}catch(e){console.log(e),this.$q.notifyError("Ocorreu um erro ao alterar o item"),this.atualizar()}},completarCodigoBarras(){!this.campos.codigoBarras&&this.campos.codigoItem&&(this.campos.codigoBarras=$utils.completarCodigoBarras(String(this.campos.codigoItem)))},criarMarca(){$q.dialog({title:"Cadastrar marca",prompt:{model:"",isValid:e=>e.length<=50,type:"text",class:"bg-light"},cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk((e=>{try{if(!e)return void alert("Favor preencher");if(e.length>50)return void alert("Máximo 50 caracteres");if(this.opcoesMarca.find((o=>o.rotulo.toUpperCase()===e.toUpperCase())))return void alert("Nome já existente");this.campos.marca=e,$q.notifyPositive("Marca criada com sucesso.")}catch(e){$q.notifyError("Ocorreu um erro ao criar marca",e)}}))}},async mounted(){if(this.permissaoFicha=await $db.permissao.objeto("item//ficha"),this.permissaoEstoque=await $db.permissao.objeto("item//estoque"),this.atualizar(),this.$route.params.id){const e=this.$route.params.id;this.$route.path===`/item/${e}/ficha`&&(this.$refs.modalFicha.abaSelecionada="ItemFicha",this.$refs.modalFicha.abaAnterior="ItemFicha",this.$refs.modalFicha.show({id:e})),this.$route.path===`/item/${e}/estoque`&&(await this.$refs.modalFicha.show({id:e}),this.$refs.modalFicha.abaAnterior="ItemEstoque",this.$refs.modalFicha.abaSelecionada="ItemEstoque")}}},Cve=(0,T.Z)(hve,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-item-section"),c=(0,a.resolveComponent)("q-item"),d=(0,a.resolveComponent)("campo"),m=(0,a.resolveComponent)("SeletorCampoTabela"),u=(0,a.resolveComponent)("q-btn"),p=(0,a.resolveComponent)("q-checkbox"),h=(0,a.resolveComponent)("badge"),C=(0,a.resolveComponent)("row"),v=(0,a.resolveComponent)("avatar"),f=(0,a.resolveComponent)("q-item-label"),N=(0,a.resolveComponent)("q-tooltip"),V=(0,a.resolveComponent)("q-list"),g=(0,a.resolveComponent)("q-menu"),x=(0,a.resolveComponent)("q-toggle"),b=(0,a.resolveComponent)("q-separator"),w=(0,a.resolveComponent)("lista"),_=(0,a.resolveComponent)("modalItemFicha"),y=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",null,[(0,a.createVNode)(w,{titulo:"Tarefas",icone:"task",onCriar_click:l.itemCriarPorModal_click,onCheckBoxGeral_click:l.checkBoxGeral_click,onFiltro_change:l.atualizar,onLimparFiltros_click:l.limparFiltros_click,onAbrirTodosPreview:l.abrirTodosPreview,onExportarXLSX_click:l.exportarXLSX_click,onRemoverTodos:l.removerTodos,onRestaurarTodos:l.restaurarTodos,tabSelecionada:r.tabSelecionada,tabs:r.tabs,lista:r.lista,listaLayout:r.listaLayout,paginacao:r.paginacao,filtros:r.filtros,opcoesMarca:r.opcoesMarca,opcoesGrupo:r.opcoesGrupo,opcoesSubGrupo:r.opcoesSubGrupo,opcoesTipo:r.opcoesTipo,buscaCampo:r.buscaCampo,"onUpdate:buscaCampo":o[22]||(o[22]=e=>r.buscaCampo=e),checkboxModel:r.checkboxModel,"onUpdate:checkboxModel":o[23]||(o[23]=e=>r.checkboxModel=e)},{menuExtras:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{clickable:"",onClick:o[0]||(o[0]=()=>{this.modalImportar=!0})},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"publish",size:"sm"})])),_:1}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[$pe])),_:1})])),_:1}),(0,a.createVNode)(c,{clickable:"",onClick:o[1]||(o[1]=()=>{this.modalCombinarItens=!0})},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"compare_arrows",size:"sm"})])),_:1}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[Upe])),_:1})])),_:1}),(0,a.createVNode)(c,{clickable:"",onClick:l.editarMarca_click},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"edit",size:"sm"})])),_:1}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[Zpe])),_:1})])),_:1},8,["onClick"])])),filtroCampos:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:r.filtros.descricaoAplicacao,"onUpdate:modelValue":o[2]||(o[2]=e=>r.filtros.descricaoAplicacao=e),rotulo:"Descrição/Aplicação",dense:""},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.filtros.codigoItem,"onUpdate:modelValue":o[3]||(o[3]=e=>r.filtros.codigoItem=e),prefix:"#",rotulo:"Código",tipo:"decimal",decimals:"0",zerosDireita:"0",dense:""},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.filtros.referencia,"onUpdate:modelValue":o[4]||(o[4]=e=>r.filtros.referencia=e),rotulo:"Referência",dense:""},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.filtros.codigoBarras,"onUpdate:modelValue":o[5]||(o[5]=e=>r.filtros.codigoBarras=e),rotulo:"Cód. Barras",dense:""},null,8,["modelValue"]),(0,a.createVNode)(m,{modelValue:r.filtros.marca,"onUpdate:modelValue":o[6]||(o[6]=e=>r.filtros.marca=e),tabela:"item",campo:"marca",label:"Marca"},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.filtros.fornecedores,"onUpdate:modelValue":o[7]||(o[7]=e=>r.filtros.fornecedores=e),after:[{icon:"search",handler:l.filtroFornecedor_click}],dense:"",rotulo:"Fornecedor"},null,8,["modelValue","after"]),(0,a.createVNode)(m,{modelValue:r.filtros.grupo,"onUpdate:modelValue":o[8]||(o[8]=e=>r.filtros.grupo=e),tabela:"item",campo:"grupo",label:"Grupo"},null,8,["modelValue"]),(0,a.createVNode)(m,{modelValue:r.filtros.subGrupo,"onUpdate:modelValue":o[9]||(o[9]=e=>r.filtros.subGrupo=e),tabela:"item",campo:"subGrupo",label:"Subgrupo"},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.filtros.estoque,"onUpdate:modelValue":o[10]||(o[10]=e=>r.filtros.estoque=e),prefix:">",rotulo:"Estoque",tipo:"decimal",decimals:"4",dense:""},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.filtros.tipo,"onUpdate:modelValue":o[11]||(o[11]=e=>r.filtros.tipo=e),rotuloFixo:"Tipo",tipo:"seletor",opcoes:r.opcoesTipo,filter:"",onClick:l.leOpcoesTipo,dense:""},null,8,["modelValue","opcoes","onClick"]),(0,a.createVNode)(d,{modelValue:r.filtros.codigoCompra,"onUpdate:modelValue":o[12]||(o[12]=e=>r.filtros.codigoCompra=e),prefix:"#",rotulo:"Compra Cód.",tipo:"decimal",decimals:"0",zerosDireita:"0",dense:""},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.paginacao.limite,"onUpdate:modelValue":o[13]||(o[13]=e=>r.paginacao.limite=e),min:"1",rotulo:"Quantidade por página",tipo:"quantidade",dense:""},null,8,["modelValue"])])),adicaoRapida:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Qpe,[(0,a.createVNode)(d,{modelValue:r.campos.descricao,"onUpdate:modelValue":o[14]||(o[14]=e=>r.campos.descricao=e),modelModifiers:{trim:!0},rotuloFixo:"Produto",dense:""},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Rpe,[(0,a.createVNode)(d,{modelValue:r.campos.referencia,"onUpdate:modelValue":o[15]||(o[15]=e=>r.campos.referencia=e),modelModifiers:{trim:!0},rotuloFixo:"Referência",dense:""},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Gpe,[(0,a.createVNode)(d,{mask:"'##############'",modelValue:r.campos.codigoBarras,"onUpdate:modelValue":o[16]||(o[16]=e=>r.campos.codigoBarras=e),modelModifiers:{trim:!0},rotuloFixo:"Código de Barras",dense:"",onBlur:l.completarCodigoBarras},null,8,["modelValue","onBlur"])]),(0,a.createElementVNode)("div",Hpe,[(0,a.createVNode)(d,{modelValue:r.campos.marca,"onUpdate:modelValue":o[17]||(o[17]=e=>r.campos.marca=e),after:[{icon:"add_circle",handler(){l.criarMarca()}}],dense:"",opcoes:r.opcoesMarca,filter:"",rotuloFixo:"Marca",onClick:l.leOpcoesMarca},null,8,["modelValue","after","opcoes","onClick"])]),(0,a.createElementVNode)("div",Jpe,[(0,a.createVNode)(d,{modelValue:r.campos.valorCustoReposicao,"onUpdate:modelValue":o[18]||(o[18]=e=>r.campos.valorCustoReposicao=e),tipo:"decimal",decimals:"2",rotulo:"Custo de Reposicao",dense:""},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Ype,[(0,a.createVNode)(d,{modelValue:r.campos.valorVenda,"onUpdate:modelValue":o[19]||(o[19]=e=>r.campos.valorVenda=e),tipo:"decimal",decimals:"4",zerosDireita:"2",rotuloFixo:"Valor de Venda",dense:""},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Xpe,[(0,a.createVNode)(d,{modelValue:r.campos.tipo,"onUpdate:modelValue":o[20]||(o[20]=e=>r.campos.tipo=e),opcoes:r.opcoesTipo,placeholder:"Tipo",rotuloFixo:"Tipo",tipo:"seletor",dense:"",onClick:l.leOpcoesTipo},null,8,["modelValue","opcoes","onClick"])]),(0,a.createElementVNode)("div",Wpe,[(0,a.createVNode)(u,{class:"q-mt-xs q-mr-md",color:"positive",icon:"add",label:"Adicionar",outline:"",size:"md",onClick:o[21]||(o[21]=o=>e.tryLoading(l.adicionarItem,{erro:"Ocorreu erro ao adicionar o item"}))})])])),itemLista:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"rounded-borders"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.lista,(o=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o,class:"itemHover fullWidth"},[(0,a.createVNode)(c,{"manual-focus":"",clickable:"",class:"items-center d-flex q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:"",center:"",class:"mw120 hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:r.listaLayout[o.id].remover,"onUpdate:modelValue":e=>r.listaLayout[o.id].remover=e,class:"q-my-none q-ml-sm q-pa-none"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(h,{cor:o.ativo?"positive":"tertiary",escuro:"",class:"q-ml-xs"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)((o.codigoItem||0).toString().padStart(4,"0")),1)])),_:2},1032,["cor"])])),_:2},1024)])),_:2},1024),(0,a.createVNode)(n,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"items-center q-col-gutter-x-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:r.listaLayout[o.id].remover,"onUpdate:modelValue":e=>r.listaLayout[o.id].remover=e,class:"q-ma-none q-pa-none hideondesktop"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createElementVNode)("div",{class:"col-auto q-pl-none items-center",onClick:e=>l.abrirItem(o.id)},[(0,a.createVNode)(v,{imagem:o.imagem,tamanho:"40",rotulo:o.descricaoConcatenada,style:{display:"flex","align-self":"center"}},null,8,["imagem","rotulo"])],8,Kpe),(0,a.createElementVNode)("div",{class:"col",onClick:e=>l.abrirItem(o.id)},[(0,a.createVNode)(f,{class:"text-tertiary text-weight-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.descricaoConcatenada),1)])),_:2},1024),o.marca?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,caption:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.marca),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(C,{class:"hideondesktop items-center q-my-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ohe,[(0,a.createVNode)(h,{cor:o.ativo?"positive":"tertiary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)((o.codigoItem||0).toString().padStart(4,"0")),1)])),_:2},1032,["cor"]),o.referencia?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,class:"q-ml-xs",cor:"tertiary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.referencia)+" ",1),(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[the])),_:1})])),_:2},1024)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(h,{class:"q-ml-xs",cor:"primary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.tipo),1)])),_:2},1024)]),(0,a.createElementVNode)("div",ahe,[(0,a.createVNode)(f,{caption:"",class:"text-tertiary text-weight-bold q-mt-sm"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numeroZerosDireita(o.valorVenda,4,2))+" ",1),(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[ihe])),_:1})])),_:2},1024)])])),_:2},1024)],8,ehe)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(n,{avatar:"",onClick:e=>l.abrirItem(o.id),class:"mw100 hideonmobile justify-start"},{default:(0,a.withCtx)((()=>[o.referencia?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,class:"q-mr-sm",cor:"tertiary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.referencia)+" ",1),(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[rhe])),_:1})])),_:2},1024)):(0,a.createCommentVNode)("",!0)])),_:2},1032,["onClick"]),(0,a.createVNode)(n,{onClick:e=>l.abrirItem(o.id),avatar:"",class:"mw100 hideonmobile"},{default:(0,a.withCtx)((()=>[o.grupo?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,class:"full-width"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.grupo),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0),o.grupo?((0,a.openBlock)(),(0,a.createBlock)(f,{key:1,caption:"",class:"full-width"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.subGrupo),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0)])),_:2},1032,["onClick"]),(0,a.createVNode)(n,{onClick:e=>l.abrirItem(o.id),avatar:"",class:"mw100 hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"q-mr-sm",cor:"primary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.tipo),1)])),_:2},1024)])),_:2},1032,["onClick"]),(0,a.createVNode)(n,{onClick:e=>l.abrirItem(o.id),class:"hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{caption:"",class:"text-right text-tertiary text-weight-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numeroZerosDireita(o.valorVenda,4,2))+" ",1),(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[lhe])),_:1})])),_:2},1024)])),_:2},1032,["onClick"]),(0,a.createVNode)(n,{side:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",she,[(0,a.createVNode)(u,{icon:r.listaLayout[o.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down",class:"buttons hideonmobile",color:"tertiary",dense:"",flat:"",round:"",size:"md",onClick:e=>l.abrirDetalhesItem(o)},null,8,["icon","onClick"]),r.permissaoFicha||r.permissaoEstoque?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,class:"buttons hideonmobile",color:"primary",dense:"",flat:"",icon:"edit",round:"",size:"md",onClick:e=>l.abrirItem(o.id)},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(u,{dense:"",flat:"",icon:"more_vert",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(V,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[r.permissaoFicha||r.permissaoEstoque?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,class:"hideondesktop",clickable:"",onClick:e=>l.abrirItem(o.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"edit"})])),_:1}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[nhe])),_:1})])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(c,{class:"hideondesktop",clickable:"",onClick:e=>l.abrirDetalhesItem(o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:r.listaLayout[o.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["name"])])),_:2},1024),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[che])),_:1})])),_:2},1032,["onClick"]),o.ativo&&r.permissaoFicha?((0,a.openBlock)(),(0,a.createBlock)(c,{key:1,clickable:"",onClick:e=>l.removerItem(o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"delete"})])),_:1}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[dhe])),_:1})])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0),!o.ativo&&r.permissaoFicha?((0,a.openBlock)(),(0,a.createBlock)(c,{key:2,clickable:"",onClick:e=>l.restaurarItem(o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"restore_from_trash"})])),_:1}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[mhe])),_:1})])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0),r.permissaoFicha?((0,a.openBlock)(),(0,a.createBlock)(c,{key:3,clickable:"",onClick:e=>l.duplicarItem(o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"control_point_duplicate"})])),_:1}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[uhe])),_:1})])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0)])),_:2},1536),[[y]])])),_:2},1024)])),_:2},1024)])])),_:2},1024)])),_:2},1024),r.listaLayout[o.id].detalhes?((0,a.openBlock)(),(0,a.createElementBlock)("div",phe,[(0,a.createVNode)(C,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",hhe,[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Che,[vhe,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(o.quantidadeDisponivel),1),(0,a.createVNode)(h,{class:"q-ml-sm",cor:"tertiary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.unidade),1)])),_:2},1024)]),(0,a.createElementVNode)("div",fhe,[(0,a.createVNode)(s,{class:"q-mr-xs",name:"business"}),Nhe,((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.listaLayout[o.id].fornecedor,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.idContato},(0,a.toDisplayString)(e.contato.nome),1)))),128))]),(0,a.createElementVNode)("div",Vhe,[(0,a.createVNode)(s,{class:"q-mr-xs",name:"mdi-barcode"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(o.codigoBarras),1)]),(0,a.createElementVNode)("div",ghe,[(0,a.createElementVNode)("span",xhe,(0,a.toDisplayString)(o.address),1)])])),_:2},1024)]),(0,a.createElementVNode)("div",bhe,[r.permissaoFicha?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",whe,[(0,a.createVNode)(x,{modelValue:r.listaLayout[o.id].utilizaComposicaoValorReposicaoInvertido,"onUpdate:modelValue":[e=>r.listaLayout[o.id].utilizaComposicaoValorReposicaoInvertido=e,e=>l.atualizarCustoReposicao(o)],size:"sm"},null,8,["modelValue","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",_he,[(0,a.createVNode)(d,{class:"no-shadow full-width",dense:"",ajuda:r.listaLayout[o.id].utilizaComposicaoValorReposicaoInvertido?"":"Total da composição",rotulo:"Custo de reposição",tipo:"decimal",decimals:"2",modelValue:o.valorCustoReposicao,"onUpdate:modelValue":e=>o.valorCustoReposicao=e,onBlur:e=>l.atualizarValorVendaLucro(o),disable:!r.listaLayout[o.id].utilizaComposicaoValorReposicaoInvertido,readonly:!r.listaLayout[o.id].utilizaComposicaoValorReposicaoInvertido},null,8,["ajuda","modelValue","onUpdate:modelValue","onBlur","disable","readonly"])]),(0,a.createElementVNode)("div",yhe,[(0,a.createVNode)(d,{class:"no-shadow full-width",dense:"",modelValue:o.percentualMarkup,"onUpdate:modelValue":e=>o.percentualMarkup=e,disable:r.listaLayout[o.id].utilizaMarkupInvertido,readonly:r.listaLayout[o.id].utilizaMarkupInvertido,onBlur:e=>l.atualizarValorVendaLucro(o),rotulo:"Lucro %",tipo:"decimal",decimals:"2"},null,8,["modelValue","onUpdate:modelValue","disable","readonly","onBlur"])]),(0,a.createElementVNode)("div",Ihe,[(0,a.createVNode)(x,{modelValue:r.listaLayout[o.id].utilizaMarkupInvertido,"onUpdate:modelValue":e=>r.listaLayout[o.id].utilizaMarkupInvertido=e,size:"sm"},null,8,["modelValue","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",Ehe,[(0,a.createVNode)(d,{class:"no-shadow full-width",rotulo:"Valor de venda",tipo:"decimal",decimals:"4",zerosDireita:"2",modelValue:o.valorVenda,"onUpdate:modelValue":e=>o.valorVenda=e,disable:!r.listaLayout[o.id].utilizaMarkupInvertido,onBlur:e=>l.atualizarValorVendaLucro(o),dense:"",readonly:!r.listaLayout[o.id].utilizaMarkupInvertido},null,8,["modelValue","onUpdate:modelValue","disable","onBlur","readonly"])]),(0,a.createElementVNode)("div",She,[(0,a.createVNode)(u,{color:"primary",label:"Salvar",size:"sm",class:"full-width no-shadow",unelevated:"",onClick:e=>l.salvarItem(o)},null,8,["onClick"])])])),_:2},1024)):(0,a.createCommentVNode)("",!0)])])),_:2},1024)])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(b)])))),128))])),_:1})])),_:1},8,["onCriar_click","onCheckBoxGeral_click","onFiltro_change","onLimparFiltros_click","onAbrirTodosPreview","onExportarXLSX_click","onRemoverTodos","onRestaurarTodos","tabSelecionada","tabs","lista","listaLayout","paginacao","filtros","opcoesMarca","opcoesGrupo","opcoesSubGrupo","opcoesTipo","buscaCampo","checkboxModel"])]),(0,a.createVNode)(_,{ref:"modalFicha",onAtualizar:l.atualizar},null,8,["onAtualizar"])],64)}]]);Z()(hve,"components",{QItem:z.Z,QItemSection:A.Z,QIcon:L.Z,QBtn:H.Z,QList:F.Z,QCheckbox:Hh.Z,QItemLabel:j.Z,QTooltip:Ao.Z,QMenu:Bo.Z,QToggle:il.Z,QSeparator:$.Z}),Z()(hve,"directives",{ClosePopup:J.Z});const vve=(0,a.createTextVNode)("Rascunho"),fve={key:2},Nve={class:"Editor-codigo u-alturaConteudo row"},Vve={id:"editor",class:"u-alturaConteudo bg-dark text-white col col-lg-6"},gve={class:"bg-grey-10 q-pb-md q-pt-sm q-px-md"},xve=(0,a.createElementVNode)("table",{class:"TabelaEscura text-caption q-mb-md q-mx-md"},[(0,a.createElementVNode)("thead",null,[(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("th",null,"Atalho"),(0,a.createElementVNode)("th",null,"Windows"),(0,a.createElementVNode)("th",null,"Linux"),(0,a.createElementVNode)("th",null,"macOS")])]),(0,a.createElementVNode)("tbody",null,[(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("td",null,"Abrir documento"),(0,a.createElementVNode)("td",{class:"text-center",colspan:"2"},[(0,a.createElementVNode)("kbd",null,"CTRL"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"O")]),(0,a.createElementVNode)("td",{class:"text-center"},[(0,a.createElementVNode)("kbd",null,"⌘"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"O")])]),(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("td",null,"Salvar documento"),(0,a.createElementVNode)("td",{class:"text-center",colspan:"2"},[(0,a.createElementVNode)("kbd",null,"CTRL"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"S")]),(0,a.createElementVNode)("td",{class:"text-center"},[(0,a.createElementVNode)("kbd",null,"⌘"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"S")])]),(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("td",null,"Atualizar componente"),(0,a.createElementVNode)("td",{class:"text-center",colspan:"2"},[(0,a.createElementVNode)("kbd",null,"CTRL"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"ENTER")]),(0,a.createElementVNode)("td",{class:"text-center"},[(0,a.createElementVNode)("kbd",null,"⌘"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"ENTER")])])])],-1),bve=(0,a.createElementVNode)("table",{class:"TabelaEscura text-caption q-mb-md q-mx-md"},[(0,a.createElementVNode)("thead",null,[(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("th",null,"Atalho"),(0,a.createElementVNode)("th",null,"Windows"),(0,a.createElementVNode)("th",null,"Linux"),(0,a.createElementVNode)("th",null,"macOS")])]),(0,a.createElementVNode)("tbody",null,[(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("td",null,"Paleta de comandos"),(0,a.createElementVNode)("td",{class:"text-center",colspan:"3"},[(0,a.createElementVNode)("kbd",null,"F1")])]),(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("td",null,"Colapsar tudo"),(0,a.createElementVNode)("td",{class:"text-center",colspan:"2"},[(0,a.createElementVNode)("kbd",null,"CTRL"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"K"),(0,a.createTextVNode)(" | "),(0,a.createElementVNode)("kbd",null,"CTRL"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"0")]),(0,a.createElementVNode)("td",{class:"text-center"},[(0,a.createElementVNode)("kbd",null,"⌘"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"K"),(0,a.createTextVNode)(" | "),(0,a.createElementVNode)("kbd",null,"⌘"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"0")])]),(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("td",null,"Comentar"),(0,a.createElementVNode)("td",{class:"text-center",colspan:"2"},[(0,a.createElementVNode)("kbd",null,"CTRL"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"/")]),(0,a.createElementVNode)("td",{class:"text-center"},[(0,a.createElementVNode)("kbd",null,"⌘"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"/")])]),(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("td",null,"Expandir tudo"),(0,a.createElementVNode)("td",{class:"text-center",colspan:"2"},[(0,a.createElementVNode)("kbd",null,"CTRL"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"K"),(0,a.createTextVNode)(" | "),(0,a.createElementVNode)("kbd",null,"CTRL"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"J")]),(0,a.createElementVNode)("td",{class:"text-center"},[(0,a.createElementVNode)("kbd",null,"⌘"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"K"),(0,a.createTextVNode)(" | "),(0,a.createElementVNode)("kbd",null,"⌘"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"J")])]),(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("td",null,"Formatar seleção"),(0,a.createElementVNode)("td",{class:"text-center",colspan:"2"},[(0,a.createElementVNode)("kbd",null,"CTRL"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"K"),(0,a.createTextVNode)(" | "),(0,a.createElementVNode)("kbd",null,"CTRL"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"F")]),(0,a.createElementVNode)("td",{class:"text-center"},[(0,a.createElementVNode)("kbd",null,"⌘"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"K"),(0,a.createTextVNode)(" | "),(0,a.createElementVNode)("kbd",null,"⌘"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"F")])]),(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("td",null,"Formatar tudo"),(0,a.createElementVNode)("td",{class:"text-center"},[(0,a.createElementVNode)("kbd",null,"CTRL"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"SHIFT"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"F")]),(0,a.createElementVNode)("td",{class:"text-center"},[(0,a.createElementVNode)("kbd",null,"CTRL"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"SHIFT"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"F")]),(0,a.createElementVNode)("td",{class:"text-center"},[(0,a.createElementVNode)("kbd",null,"⌘"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"SHIFT"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"F")])]),(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("td",null,"Localizar"),(0,a.createElementVNode)("td",{class:"text-center",colspan:"2"},[(0,a.createElementVNode)("kbd",null,"CTRL"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"F")]),(0,a.createElementVNode)("td",{class:"text-center"},[(0,a.createElementVNode)("kbd",null,"⌘"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"F")])]),(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("td",null,"Múltiplos cursores"),(0,a.createElementVNode)("td",{class:"text-center"},[(0,a.createElementVNode)("kbd",null,"CTRL"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"ALT"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"SHIFT"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"↑↓")]),(0,a.createElementVNode)("td",{class:"text-center"},[(0,a.createElementVNode)("kbd",null,"CTRL"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"SHIFT"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"↑↓")]),(0,a.createElementVNode)("td",{class:"text-center"},[(0,a.createElementVNode)("kbd",null,"⌘"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"SHIFT"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"↑↓")])]),(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("td",null,"Selecionar tudo"),(0,a.createElementVNode)("td",{class:"text-center",colspan:"2"},[(0,a.createElementVNode)("kbd",null,"CTRL"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"A")]),(0,a.createElementVNode)("td",{class:"text-center"},[(0,a.createElementVNode)("kbd",null,"⌘"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"A")])]),(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("td",null,"Substituir"),(0,a.createElementVNode)("td",{class:"text-center",colspan:"2"},[(0,a.createElementVNode)("kbd",null,"CTRL"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"H")]),(0,a.createElementVNode)("td",{class:"text-center"},[(0,a.createElementVNode)("kbd",null,"⌘"),(0,a.createTextVNode)(" + "),(0,a.createElementVNode)("kbd",null,"H")])])])],-1),wve={id:"visualizador",class:"Editor-visualizador u-alturaConteudo col col-lg-6"},_ve={class:"layout-padding bg-white q-pa-xl"},yve=(0,a.createElementVNode)("h4",{class:"q-mb-sm q-mt-none"},"Bem-vindo ao Editor.",-1),Ive=(0,a.createElementVNode)("p",null,"Através desta interface é possível criar ou editar objetos do sistema.",-1),Eve={class:"q-mt-lg"},Sve={class:"layout-padding bg-white q-pa-xl"},Mve=(0,a.createElementVNode)("h4",{class:"q-mb-sm q-mt-none"},"Publicar",-1),Tve=(0,a.createElementVNode)("p",null,"Deixe uma mensagem para recordar o que há de novo nesta versão.",-1),kve={class:"q-mt-lg"};var Dve=t(65042);const qve={BrowserQRCodeSvgWriter:XT.BrowserQRCodeSvgWriter,JsBarcode:RT(),agrupar:Fo.agrupar,arredondar:Fo.arredondar,dataAtual:Fo.dataAtual,dormir:Fo.dormir,erp:Mo.X,fbarcode:Fo.fbarcode,gconsole:Fo.gconsole,mostrarErro:Fo.mostrarErro,somar:Fo.somar,sql:Fo.executarSqlProtegido,unicos:Fo.unicos,uuid:Fo.uuid,verificarErro:Fo.verificarErro},Fve={name:"Visualizador",data:()=>({}),props:{componente:{type:Object}},render(){if($utils.gconsole.log("visualizador","render"),!this.componente||!this.componente.template)return(0,a.h)("div","Carregando...");const e=(0,a.h)("iframe",{onLoad:this.atualizar,style:{border:"0",display:"block",height:"100%",width:"100%"}});return this.$el&&this.atualizar(),e},methods:{atualizar(e){let o,t,i;if($utils.gconsole.log("visualizador","atualizar"),!this.componente)return;const r=this.$el||(e||{}).target;if(r&&r.contentDocument&&r.contentDocument.body){try{const e={...qve,parametro:this.componente.parametro};o=new Function(...Object.keys(e),`return ${this.componente.script.trim()}`)(...Object.values(e))}catch(e){i=[$q.notifyError("Erro ao mostrar relatório (script)",e),String(e)]}try{this.app}catch(e){console.error("Erro ao limpar relatório (app.unmount)",e)}try{if(!i){const e=r.contentDocument.body;for(;e.firstChild;)e.removeChild(e.firstChild);t=document.createElement("div"),e.appendChild(t);const o=document.createElement("style");o.innerHTML=this.componente.estilo.trim(),e.appendChild(o)}}catch(e){i=[$q.notifyError("Erro ao mostrar relatório (style)",e),String(e)]}try{if(!i){const e=this.componente.template.trim();this.app=(0,a.createApp)({name:"quadroVue",render:()=>(0,a.h)((0,a.defineComponent)({name:"RelatorioDinamico",template:e,...o}))}),this.app.config.globalProperties.$filters=this.$filters,this.app.config.globalProperties.$get=this.$get,this.app.config.globalProperties.$lodash=this.$lodash,this.app.config.globalProperties.$q=this.$q}}catch(e){i=[$q.notifyError("Erro ao mostrar relatório (createApp)",e),String(e)]}try{i||this.app.mount(t)}catch(e){i=[$q.notifyError("Erro ao mostrar relatório (app.mount)",e),String(e)]}try{i&&(r.contentDocument.body.innerHTML=i.map((e=>"<p>"+e+"</p>")).join(""))}catch(e){$q.notifyError("Erro ao mostrar relatório (mostrar erros)",e)}}}},created(){$utils.gconsole.log("visualizador","created")},mounted(){$utils.gconsole.log("visualizador","mounted")},unmounted(){$utils.gconsole.log("visualizador","unmounted");try{this.app&&this.app.unmount()}catch(e){console.error("Erro ao limpar relatório (app.unmount)",e)}}},Pve={key:0,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"},Ave={key:1,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"},Bve="Buscar relatório",Lve={data:()=>({carregando:!0,listaFiltrada:[],placeholder:Bve,termo:"",visivel:!1}),methods:{filtrar(){let e;if(this.termo){const o=$utils.removerAcentos(this.termo.toUpperCase()).split(" ").filter((e=>""!==e));e=this.listaCompleta.filter((e=>{const t=$utils.removerAcentos(" "+$utils.stringOrEmpty(e.codigoObjeto).toUpperCase()+"  "+$utils.stringOrEmpty(e.nomeObjeto).toUpperCase()+" "+$utils.stringOrEmpty(e.descricao).toUpperCase());let a=!0;for(const e of o)a=isNaN(Number(e))?a&&t.includes(e):a&&t.includes(" "+e+" ");return a}))}else e=this.listaCompleta;this.listaFiltrada=e.slice(0,100),this.carregando=!1},limpar(){this.listaFiltrada=[],this.placeholder=Bve,this.termo=""},onHide(){this.resolve({}),this.limpar()},onShow(){this.$refs.search.focus()},item_click(e={}){this.resolve(e),this.visivel=!1},async show(e){return this.carregando=!0,this.visivel=!0,this.listaCompleta=(await WT._.objeto.leOnline({colunas:"id codigoObjeto descricao documentacao nomeObjeto tipo",filtros:{tipo:"vue"}})).sort(((e,o)=>$utils.stringOrEmpty(e.nomeObjeto).localeCompare($utils.stringOrEmpty(o.nomeObjeto)))),this.filtrar(),new Promise(((e,o)=>{this.resolve=e}))}},mounted(){$g.promptEditorRelatorio={show:this.show}}},Ove=(0,T.Z)(Lve,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-input"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-header"),u=(0,a.resolveComponent)("q-item-label"),p=(0,a.resolveComponent)("q-item-section"),h=(0,a.resolveComponent)("badge"),C=(0,a.resolveComponent)("q-item"),v=(0,a.resolveComponent)("q-list"),f=(0,a.resolveComponent)("q-page"),N=(0,a.resolveComponent)("q-page-container"),V=(0,a.resolveComponent)("q-layout"),g=(0,a.resolveComponent)("q-dialog"),x=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(g,{modelValue:r.visivel,"onUpdate:modelValue":o[1]||(o[1]=e=>r.visivel=e),maximized:"",onHide:o[2]||(o[2]=e=>l.onHide()),onShow:o[3]||(o[3]=e=>l.onShow())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"bg-white",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[x]]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{modelValue:r.termo,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.termo=e),l.filtrar],color:"none",ref:"search",dark:"",placeholder:r.placeholder,debounce:"600",standout:"",filled:"",dense:"",clearable:"","clear-icon":"close"},null,8,["modelValue","placeholder","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(N,{class:"u-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[r.carregando?((0,a.openBlock)(),(0,a.createElementBlock)("div",Pve," Carregando... ")):r.listaFiltrada.length?((0,a.openBlock)(),(0,a.createBlock)(v,{key:2,link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.listaFiltrada,(e=>((0,a.openBlock)(),(0,a.createBlock)(C,{key:e.id,clickable:"",onClick:o=>l.item_click(e),class:"row"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"col"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.nomeObjeto),1)])),_:2},1024),(0,a.createVNode)(u,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.descricao),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(p,{class:"col-auto"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{cor:"primary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("#"+(0,a.toDisplayString)(e.codigoObjeto),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):((0,a.openBlock)(),(0,a.createElementBlock)("div",Ave," Nenhum resultado encontrado "))])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);Z()(Lve,"components",{QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QInput:re.Z,QPageContainer:le.Z,QPage:se.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z}),Z()(Lve,"directives",{ClosePopup:J.Z});const zve={key:0,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"},jve={key:1,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"},$ve="Buscar usuario, obs, publicado...",Uve={computed:{usuario(){try{return JSON.parse(localStorage.usuario)}catch{return{}}}},data:()=>({carregando:!0,listaFiltrada:[],placeholder:$ve,termo:"",visivel:!1}),props:{idObjeto:{type:String}},methods:{filtrar(){let e;if(this.termo){const o=$utils.removerAcentos(this.termo.toUpperCase()).split(" ").filter((e=>""!==e));e=this.listaCompleta.filter((e=>{const t=$utils.removerAcentos(" "+$utils.stringOrEmpty(e.obs).toUpperCase()+"  "+(e.publicado?"Publicado":"Salvo").toUpperCase()+"  "+$utils.stringOrEmpty(e.usuario).toUpperCase());let a=!0;for(const e of o)a=isNaN(Number(e))?a&&t.includes(e):a&&t.includes(" "+e+" ");return a}))}else e=this.listaCompleta;this.listaFiltrada=e.slice(0,100),this.carregando=!1},limpar(){this.listaFiltrada=[],this.placeholder=$ve,this.termo=""},onHide(){this.resolve({acao:"fechar",dados:{}}),this.limpar()},onShow(){this.$refs.search.focus()},item_click(e={}){this.resolve({acao:"selecionar",dados:e}),this.visivel=!1},comparar_click(e={}){this.resolve({acao:"comparar",dados:e}),this.visivel=!1},async show(e){return this.carregando=!0,this.visivel=!0,this.listaCompleta=(await WT._.objetoVersao.leOnline({colunas:"id idObjeto idUsuario dataHora obs publicado usuario",filtros:{idObjeto:this.idObjeto}})).sort(((e,o)=>-$utils.stringOrEmpty(e.dataHora).localeCompare($utils.stringOrEmpty(o.dataHora)))),this.filtrar(),new Promise(((e,o)=>{this.resolve=e}))}},mounted(){$g.promptEditorRelatorioVersao={show:this.show}}},Zve=(0,T.Z)(Uve,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-input"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-header"),u=(0,a.resolveComponent)("q-item-label"),p=(0,a.resolveComponent)("q-item-section"),h=(0,a.resolveComponent)("badge"),C=(0,a.resolveComponent)("q-item"),v=(0,a.resolveComponent)("q-list"),f=(0,a.resolveComponent)("q-page"),N=(0,a.resolveComponent)("q-page-container"),V=(0,a.resolveComponent)("q-layout"),g=(0,a.resolveComponent)("q-dialog"),x=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(g,{modelValue:r.visivel,"onUpdate:modelValue":o[1]||(o[1]=e=>r.visivel=e),maximized:"",onHide:o[2]||(o[2]=e=>l.onHide()),onShow:o[3]||(o[3]=e=>l.onShow())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"bg-white",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[x]]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{modelValue:r.termo,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.termo=e),l.filtrar],color:"none",ref:"search",dark:"",placeholder:r.placeholder,debounce:"600",standout:"",filled:"",dense:"",clearable:"","clear-icon":"close"},null,8,["modelValue","placeholder","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(N,{class:"u-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[r.carregando?((0,a.openBlock)(),(0,a.createElementBlock)("div",zve," Carregando... ")):r.listaFiltrada.length?((0,a.openBlock)(),(0,a.createBlock)(v,{key:2,link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.listaFiltrada,(o=>((0,a.openBlock)(),(0,a.createBlock)(C,{key:o.id,clickable:"",onClick:e=>l.item_click(o),class:"row"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"col"},{default:(0,a.withCtx)((()=>[o.obs?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.obs),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0),o.dataHora?((0,a.openBlock)(),(0,a.createBlock)(u,{key:1,caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.publicado?"Publicado":"Salvo")+" em "+(0,a.toDisplayString)(e.$filters.dataHora(o.dataHora)),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0)])),_:2},1024),(0,a.createVNode)(p,{class:"col-auto"},{default:(0,a.withCtx)((()=>[o.usuario?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,cor:o.idUsuario===l.usuario.id?"primary":"grey",class:"q-mr-sm",denso:"",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.usuario),1)])),_:2},1032,["cor"])):(0,a.createCommentVNode)("",!0)])),_:2},1024),(0,a.createVNode)(p,{class:"col-auto"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{cor:o.publicado?"positive":"grey",denso:"",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.id),1)])),_:2},1032,["cor"])])),_:2},1024),(0,a.createVNode)(p,{class:"col-auto"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-px-sm q-mr-sm",dense:"",label:"Comparar",onClick:e=>l.comparar_click(o)},null,8,["onClick"])])),_:2},1024),(0,a.createVNode)(p,{class:"col-auto"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-px-sm",color:"primary",dense:"",label:"Abrir",onClick:e=>l.item_click(o)},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):((0,a.openBlock)(),(0,a.createElementBlock)("div",jve," Nenhum resultado encontrado "))])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);Z()(Uve,"components",{QDialog:k.Z,QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QInput:re.Z,QPageContainer:le.Z,QPage:se.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QItemLabel:j.Z}),Z()(Uve,"directives",{ClosePopup:J.Z});const Qve={components:{MonacoEditor:YT,Visualizador:Fve,promptEditorRelatorio:Ove,promptEditorRelatorioVersao:Zve},data:()=>({alterarConteudo:null,alterouConteudo:!1,areaConfiguracoes:!0,atualizarAutomaticamente:!!parseInt(localStorage.editorAtualizar),campoObservacao:"",campos:{codigoObjeto:"",descricao:"",documentacao:"",nomeObjeto:""},componenteEditor:{parametro:"",estilo:"",script:"",template:""},componenteVisualizador:{},componenteDiff:{},chaveDiff:0,modalBoasVindas:!1,modalPublicar:!1,modoDiff:!1,publicando:!1,salvando:!1}),computed:{editorOptions:()=>({automaticLayout:!0,lineNumbersMinChars:2}),idObjetoValido(){return 36===String(this.id).length},id(){return this.$route.params.id},temId(){return void 0!==this.id&&""!==this.id},parametroBase64(){return Fo.base64.encodeToUrl(this.componenteEditor.parametro||"")},rotaImprimir(){return{name:"Imprimir",params:{nome:this.campos.nomeObjeto||"x",parametro:this.parametroBase64||void 0}}},usuario(){try{return JSON.parse(localStorage.usuario)}catch{return{}}},versao(){return this.$route.params.versao}},methods:{abrirConfiguracoes(){this.areaConfiguracoes=!0},async abrirPromptBuscar(){try{const e=await $g.promptEditorRelatorio.show({});e&&36===String(e.id).length&&this.confirmarSaida().onOk((()=>{this.$router.push({params:{id:e.id,versao:""}})}))}catch(e){$q.notifyError("Erro ao abrir tela de buscar relatório",e)}},async abrirPromptHistorico(){try{const e=await $g.promptEditorRelatorioVersao.show({});e&&e.dados&&36===String(e.dados.id).length&&this.confirmarSaida().onOk((()=>{"selecionar"===e.acao?this.$router.push({params:{id:this.id,versao:e.dados.id}}):"comparar"===e.acao&&(this.componenteDiff=JSON.parse(atob(e.dados.codigoPersonalizado)),this.modoDiff=!0,this.chaveDiff++)}))}catch(e){$q.notifyError("Erro ao buscar versão relatório",e)}},aoIniciarEditor(e){e.onKeyDown((e=>{const o=e.browserEvent||{};(o.ctrlKey||o.metaKey)&&13===o.which&&(e.stopPropagation(),this.atualizarVisualizador())}))},atualizarVisualizador(){if(this.atualizarAutomaticamente)return null;$utils.gconsole.log("editor","atualizarVisualizador"),this.componenteVisualizador=(0,Fo.clonar)(this.componenteEditor)},atualizarComponente(e){"string"==typeof e&&(e=JSON.parse(atob(e))),this.componenteEditor={parametro:e.parametro||"",estilo:e.estilo||"",script:e.script||"",template:e.template||""},$utils.gconsole.log("editor","atualizarComponente"),this.componenteVisualizador=(0,Fo.clonar)(this.componenteEditor),this.alterouConteudo=!1},async carregarObjeto(e){try{const o=36!==String(e).length?null:(await WT._.objeto.leOnline({colunas:"id codigoObjeto codigoPersonalizado descricao documentacao nomeObjeto tipo",filtros:{id:e}}))[0];if(!o)return $q.notify("Objeto inexistente.");this.campos.codigoObjeto=o.codigoObjeto,this.campos.nomeObjeto=o.nomeObjeto,this.campos.descricao=o.descricao,this.campos.documentacao=o.documentacao||"",this.atualizarComponente(o.codigoPersonalizado),this.abrirConfiguracoes(),this.fecharDiff()}catch(e){throw $q.notify("Não foi possível carregar o objeto."),e}},async carregarVersao(e){try{const o=36!==String(e).length?null:(await WT._.objetoVersao.leOnline({colunas:"id idObjeto idUsuario codigoPersonalizado dataHora obs publicado usuario",filtros:{id:e}}))[0];if(!o)return $q.notify("Versão inexistente.");this.campos.documentacao=o.documentacao||"",this.atualizarComponente(o.codigoPersonalizado),this.fecharDiff()}catch(e){throw $q.notify("Não foi possível carregar versão."),e}},compararVersao(e){this.componenteDiff=JSON.parse(atob(e.codigoPersonalizado)),this.modoDiff=!0,this.chaveDiff++,this.fecharModalHistorico()},confirmarSaida(){return this.alterouConteudo?$q.dialog({title:"Sair sem salvar?",message:"Parece que existem modificações que não foram salvas. Deseja continuar?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}):{onOk(e){e()}}},fecharDiff(){this.modoDiff&&(this.modoDiff=!1,this.chaveDiff++)},async publicar(){this.publicando=!0;try{const e=await this.gravar(this.id,!0,this.campoObservacao);$q.notifyPositive("Publicado!"),this.campoObservacao="",this.modalPublicar=!1,this.$router.push({params:{versao:e}})}catch(e){$q.notifyError("Erro ao publicar.")}finally{this.publicando=!1}},redefinirCampos(){this.campos.codigoObjeto="",this.campos.descricao="",this.campos.nomeObjeto=""},redefinirComponente(){this.componenteEditor={parametro:"{}",estilo:".foo {\n  color: green;\n}",script:"vue = {\n  data: () => ({\n    foo: 'Soluções'\n  })\n}",template:'<div class="foo">\n  Geeks {{ foo }}\n</div>'},$utils.gconsole.log("editor","redefinirComponente"),this.componenteVisualizador=(0,Fo.clonar)(this.componenteEditor),this.alterouConteudo=!1},fechar(){history.back()},async incluir(){this.confirmarSaida().onOk((()=>{0!==this.id&&"0"!==this.id||(this.redefinirCampos(),this.redefinirComponente()),this.$router.push({params:{id:"0",versao:""}})}))},async gravar(e,o,t){const a=(0,Fo.uuid)(),i=btoa(JSON.stringify(this.componenteEditor));!o&&this.idObjetoValido||await WT._.objeto.grava({...this.campos,id:e,tipo:"vue",codigoPersonalizado:i});const r={id:a,idObjeto:e,idUsuario:this.usuario.id,codigoPersonalizado:i,dataHora:(0,Fo.sqlData)(new Date).replace(/'/g,""),documentacao:this.campos.documentacao||"",publicado:o?1:0,usuario:this.usuario.nome};return t&&(r.obs=t),await WT._.objetoVersao.grava(r),a},async salvar(){if(""===this.campos.nomeObjeto)return $q.notify("O identificador é obrigatório."),this.abrirConfiguracoes(),setTimeout((()=>this.$refs.campoNomeObjeto.focus()),1),!1;this.salvando=!0;try{$q.loading.show();const e=this.idObjetoValido?this.id:(0,Fo.uuid)(),o=await this.gravar(e);this.alterouConteudo=!1,this.$router.push({params:{id:e,versao:o}}),$q.notifyPositive("Salvo com sucesso!")}catch(e){throw $q.notify("Erro ao salvar."),e}finally{this.salvando=!1,$q.loading.hide()}},teclas(e){if(e&&(e.ctrlKey||e.metaKey))switch(e.which){case 13:e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),this.atualizarVisualizador();break;case 79:e.preventDefault(),this.abrirPromptBuscar();break;case 83:e.preventDefault(),this.salvar()}}},async created(){if(this.redefinirComponente(),this.idObjetoValido)try{$q.loading.show(),await this.carregarObjeto(this.id),this.versao&&await this.carregarVersao(this.versao)}finally{$q.loading.hide()}else this.temId||(this.modalBoasVindas=!0);document.addEventListener("keydown",this.teclas),this.alterarConteudo=$lodash.debounce((()=>{this.alterouConteudo=!0,this.atualizarAutomaticamente&&($utils.gconsole.log("editor","created"),this.componenteVisualizador=(0,Fo.clonar)(this.componenteEditor))}),500)},mounted(){this.divisor=new Dve.Z(["#editor","#visualizador"],{minSize:[300,20]})},beforeUnmount(){document.removeEventListener("keydown",this.teclas),this.divisor&&this.divisor.destroy()},watch:{async id(e){e&&"0"!==e?this.carregarObjeto(e):(this.redefinirCampos(),this.redefinirComponente())},atualizarAutomaticamente(e){e||($utils.gconsole.log("editor","atualizarAutomaticamente"),this.componenteVisualizador=(0,Fo.clonar)(this.componenteEditor)),localStorage.setItem("editorAtualizar",e?1:0)}}},Rve=(0,T.Z)(Qve,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("badge"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-btn-group"),m=(0,a.resolveComponent)("q-toolbar"),u=(0,a.resolveComponent)("q-header"),p=(0,a.resolveComponent)("campo"),h=(0,a.resolveComponent)("q-toggle"),C=(0,a.resolveComponent)("q-expansion-item"),v=(0,a.resolveComponent)("q-list"),f=(0,a.resolveComponent)("monaco-editor"),N=(0,a.resolveComponent)("visualizador"),V=(0,a.resolveComponent)("q-dialog"),g=(0,a.resolveComponent)("q-spinner"),x=(0,a.resolveComponent)("q-inner-loading"),b=(0,a.resolveComponent)("promptEditorRelatorio"),w=(0,a.resolveComponent)("promptEditorRelatorioVersao"),_=(0,a.resolveComponent)("q-page-container"),y=(0,a.resolveComponent)("q-layout"),I=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(y,{class:"Editor"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{color:"dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{dense:"",flat:"",icon:"chevron_left",round:"",onClick:l.fechar},null,8,["onClick"]),(0,a.createVNode)(c,{onClick:l.abrirConfiguracoes},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.campos.nomeObjeto||"Editor")+" ",1),l.idObjetoValido?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0,class:"Editor-id",cor:"grey-10"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.campos.codigoObjeto),1)])),_:1})):((0,a.openBlock)(),(0,a.createBlock)(n,{key:1,class:"Editor-id",cor:"negative"},{default:(0,a.withCtx)((()=>[vve])),_:1})),r.campos.nomeObjeto?((0,a.openBlock)(),(0,a.createElementBlock)("span",fve,"Editor")):(0,a.createCommentVNode)("",!0)])),_:1},8,["onClick"]),r.modoDiff?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,class:"q-mr-sm",color:"negative",icon:"close",label:"Fechar Diff",onClick:l.fecharDiff},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(d,{class:"q-mr-sm"},{default:(0,a.withCtx)((()=>[r.atualizarAutomaticamente?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,color:"blue",icon:"play_arrow",label:"Atualizar",onClick:l.atualizarVisualizador},null,8,["onClick"])),l.idObjetoValido&&l.id?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,color:"blue-5",icon:"remove_red_eye",target:"_blank",to:l.rotaImprimir},null,8,["to"])):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(s,{color:"white",class:"q-ml-sm",label:"Novo",icon:"add","text-color":"dark",onClick:l.incluir},null,8,["onClick"]),(0,a.createVNode)(s,{color:"white",class:"q-ml-sm",label:"Abrir",icon:"search","text-color":"dark",onClick:l.abrirPromptBuscar},null,8,["onClick"]),(0,a.createVNode)(s,{color:"yellow",class:"q-ml-sm",disabled:r.salvando,label:r.salvando?"Salvando...":"Salvar",icon:"save","text-color":"dark",onClick:l.salvar},null,8,["disabled","label","onClick"]),l.idObjetoValido?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createVNode)(s,{color:"white",class:"q-ml-sm",label:"Histórico",icon:"history","text-color":"dark",onClick:l.abrirPromptHistorico},null,8,["onClick"]),(0,a.createVNode)(s,{color:"yellow",class:"q-ml-sm",label:"Publicar",icon:"publish","text-color":"dark",onClick:o[0]||(o[0]=e=>r.modalPublicar=!0)})],64)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createVNode)(_,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Nve,[(0,a.createElementVNode)("div",Vve,[(0,a.createVNode)(v,{class:"q-pb-none","no-border":""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{modelValue:r.areaConfiguracoes,"onUpdate:modelValue":o[5]||(o[5]=e=>r.areaConfiguracoes=e),class:"Editor-editorItem",group:"editor",icon:"settings",label:"Configurações"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",gve,[(0,a.createVNode)(p,{modelValue:r.campos.nomeObjeto,"onUpdate:modelValue":o[1]||(o[1]=e=>r.campos.nomeObjeto=e),ref:"campoNomeObjeto",dark:"",rotulo:"Identificador"},null,8,["modelValue"]),(0,a.createVNode)(p,{modelValue:r.campos.descricao,"onUpdate:modelValue":o[2]||(o[2]=e=>r.campos.descricao=e),dark:"",rotulo:"Descrição"},null,8,["modelValue"]),(0,a.createVNode)(p,{modelValue:r.componenteEditor.parametro,"onUpdate:modelValue":o[3]||(o[3]=e=>r.componenteEditor.parametro=e),dark:"",ajuda:l.parametroBase64,rotulo:"Parâmetro",tipo:"textoArea"},null,8,["modelValue","ajuda"]),(0,a.createVNode)(h,{modelValue:r.atualizarAutomaticamente,"onUpdate:modelValue":o[4]||(o[4]=e=>r.atualizarAutomaticamente=e),class:"q-mt-lg",label:"Atualizar pré-visualização ao digitar?"},null,8,["modelValue"]),(0,a.createVNode)(v,{class:"q-mt-lg q-pa-none",dark:"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{group:"configuracoes",label:"Atalhos da ferramenta"},{default:(0,a.withCtx)((()=>[xve])),_:1}),(0,a.createVNode)(C,{group:"configuracoes",label:"Atalhos do editor"},{default:(0,a.withCtx)((()=>[bve])),_:1})])),_:1})])])),_:1},8,["modelValue"]),(0,a.createVNode)(C,{class:"Editor-editorItem",group:"editor",icon:"dashboard",label:"Template (HTML)"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{key:r.chaveDiff,class:"Editor-editor",modelValue:r.componenteEditor.template,"onUpdate:modelValue":o[6]||(o[6]=e=>r.componenteEditor.template=e),language:"html",diffEditor:r.modoDiff,original:r.componenteDiff.template,options:l.editorOptions,theme:"vs-dark",onEditorDidMount:l.aoIniciarEditor,onChange:r.alterarConteudo},null,8,["modelValue","diffEditor","original","options","onEditorDidMount","onChange"])])),_:1}),(0,a.createVNode)(C,{class:"Editor-editorItem",group:"editor",icon:"code",label:"JavaScript (Vue)","default-opened":""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{key:r.chaveDiff+1,class:"Editor-editor",modelValue:r.componenteEditor.script,"onUpdate:modelValue":o[7]||(o[7]=e=>r.componenteEditor.script=e),language:"javascript",diffEditor:r.modoDiff,original:r.componenteDiff.script,options:l.editorOptions,theme:"vs-dark",onEditorDidMount:l.aoIniciarEditor,onChange:r.alterarConteudo},null,8,["modelValue","diffEditor","original","options","onEditorDidMount","onChange"])])),_:1}),(0,a.createVNode)(C,{class:"Editor-editorItem",group:"editor",icon:"format_paint",label:"Estilos (CSS)"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{key:r.chaveDiff+2,class:"Editor-editor",modelValue:r.componenteEditor.estilo,"onUpdate:modelValue":o[8]||(o[8]=e=>r.componenteEditor.estilo=e),language:"css",diffEditor:r.modoDiff,original:r.componenteDiff.estilo,options:l.editorOptions,theme:"vs-dark",onEditorDidMount:l.aoIniciarEditor,onChange:r.alterarConteudo},null,8,["modelValue","diffEditor","original","options","onEditorDidMount","onChange"])])),_:1}),(0,a.createVNode)(C,{class:"Editor-editorItem",group:"editor",icon:"speaker_notes",label:"Documentação (Markdown)"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"Editor-editor",modelValue:r.campos.documentacao,"onUpdate:modelValue":o[9]||(o[9]=e=>r.campos.documentacao=e),language:"markdown",options:l.editorOptions,theme:"vs-dark",onEditorDidMount:l.aoIniciarEditor,onChange:r.alterarConteudo},null,8,["modelValue","options","onEditorDidMount","onChange"])])),_:1})])),_:1})]),(0,a.createElementVNode)("div",wve,[(0,a.createVNode)(N,{class:"",componente:r.componenteVisualizador},null,8,["componente"])])]),(0,a.createVNode)(V,{modelValue:r.modalBoasVindas,"onUpdate:modelValue":o[10]||(o[10]=e=>r.modalBoasVindas=e),"no-backdrop-dismiss":"","no-esc-dismiss":""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",_ve,[yve,Ive,(0,a.createElementVNode)("div",Eve,[(0,a.createVNode)(s,{color:"primary",label:"Novo",icon:"add",onClick:l.incluir},null,8,["onClick"]),(0,a.createVNode)(s,{color:"primary",class:"q-ml-sm",label:"Abrir",icon:"search",onClick:l.abrirPromptBuscar},null,8,["onClick"])])])])),_:1},8,["modelValue"]),(0,a.createVNode)(V,{modelValue:r.modalPublicar,"onUpdate:modelValue":o[12]||(o[12]=e=>r.modalPublicar=e),"no-backdrop-dismiss":"","no-esc-dismiss":""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Sve,[Mve,Tve,(0,a.createVNode)(p,{modelValue:r.campoObservacao,"onUpdate:modelValue":o[11]||(o[11]=e=>r.campoObservacao=e),rotulo:"Mensagem",placeholder:"Escreva a sua mensagem...",tipo:"textoArea"},null,8,["modelValue"]),(0,a.createElementVNode)("div",kve,[(0,a.withDirectives)((0,a.createVNode)(s,{label:"Cancelar",color:"tertiary",flat:""},null,512),[[I]]),(0,a.createVNode)(s,{color:"primary",unelevated:"",class:"q-ml-sm",label:"Publicar",icon:"publish",onClick:l.publicar},null,8,["onClick"])])]),(0,a.createVNode)(x,{visible:r.modalPublicar&&r.publicando},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{size:"50px",color:"primary"})])),_:1},8,["visible"])])),_:1},8,["modelValue"]),(0,a.createVNode)(b),(0,a.createVNode)(w,{idObjeto:l.id},null,8,["idObjeto"])])),_:1})])),_:1})}]]);Z()(Qve,"components",{QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QBtnGroup:JM.Z,QPageContainer:le.Z,QList:F.Z,QExpansionItem:P.Z,QToggle:il.Z,QDialog:k.Z,QInnerLoading:Jh.Z,QSpinner:Me.Z}),Z()(Qve,"directives",{ClosePopup:J.Z});const Gve={key:0},Hve={class:"Imprimir-visualizador"},Jve={data:()=>({email:{de:"",para:"",assunto:"",mensagem:""},ruleObrigatorio:e=>(e||"").trim().length||"Preenchimento obrigatório"}),methods:{async enviarNFeEmail(){$utils.gconsole.log("NFeEmail","enviarNFeEmail()",{...this.email});try{this.$q.loading.show();const e=[{name:`danfe_${this.nota.nNF}.pdf`,content:this.html,method:"html2pdf"}];for(const o of this.xmls)e.push({name:`${o.tipo}_${o.nNF}_${o.operacao}${o.nSeqEvento>1?"_"+o.nSeqEvento:""}.xml`,content:o.xmlProt});const o={host:"smtp.gmail.com",port:587,ssl:!0,auth:{user:"auto@geekssolucoes.com.br",pass:"xpto@9@9"},from:this.email.de,to:this.email.para,subject:this.email.assunto,text:this.email.mensagem,attachments:e},t=await t_()({baseURL:"https://api.b15.com.br",method:"post",url:"/email/v2",data:o});this.$q.notifyPositive(t.data.message)}catch(e){this.$q.notifyError("Erro ao enviar email",e)}finally{this.$q.loading.hide()}},async abrirNFeEmail(e,o){try{$utils.gconsole.log("NFeEmail","abrirNFeEmail()",e),this.html=o,this.nota=await $db.documentoFiscalEletronico.le({id:e}),this.xmls=await $db.documentoFiscalEletronicoXml.le({idDocumentoFiscalEletronico:e}),this.json=JSON.parse(this.nota.json),this.email={de:"Geeks Soluções <auto@geekssolucoes.com.br>",para:this.$lodash.get(this.json,"infNFe.dest.email",""),assunto:`Nota Fiscal Eletrônica Nº ${this.nota.nNF}`,mensagem:`Você está recebendo os arquivos digitais NFe (Nota Fiscal Eletrônica) da empresa ${this.nota.xFantEmitente}`},this.$refs.dialogNFeEmail.show()}catch(e){this.$q.notifyError("Erro ao abrir a nota",e)}}},mounted(){$utils.emitter.off("abrirNFeEmail"),$utils.emitter.on("abrirNFeEmail",this.abrirNFeEmail)},beforeUnmount(){$utils.emitter.off("abrirNFeEmail")}},Yve={components:{NFeEmail:(0,T.Z)(Jve,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("campo"),n=(0,a.resolveComponent)("row"),c=(0,a.resolveComponent)("card"),d=(0,a.resolveComponent)("dialogForm");return(0,a.openBlock)(),(0,a.createBlock)(d,{ref:"dialogNFeEmail",title:"Nota Fiscal / Email",labelButtonSubmit:"Enviar",size:"md",onSubmit:l.enviarNFeEmail},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-col-gutter-y-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:r.email.de,"onUpdate:modelValue":o[0]||(o[0]=e=>r.email.de=e),col:"12",rotulo:"De","somente-leitura":""},null,8,["modelValue"]),(0,a.createVNode)(s,{modelValue:r.email.para,"onUpdate:modelValue":o[1]||(o[1]=e=>r.email.para=e),col:"12",rotulo:"Para",rules:[r.ruleObrigatorio]},null,8,["modelValue","rules"]),(0,a.createVNode)(s,{modelValue:r.email.assunto,"onUpdate:modelValue":o[2]||(o[2]=e=>r.email.assunto=e),col:"12",rotulo:"Assunto",rules:[r.ruleObrigatorio]},null,8,["modelValue","rules"]),(0,a.createVNode)(s,{modelValue:r.email.mensagem,"onUpdate:modelValue":o[3]||(o[3]=e=>r.email.mensagem=e),col:"12",rotulo:"Mensagem",tipo:"textoArea",autogrow:"",autofocus:"",rules:[r.ruleObrigatorio]},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1},8,["onSubmit"])}]]),Visualizador:Fve},computed:{nome(){return this.$route.params.nome},parametro(){const{parametro:e}=this.$route.params;return e?Fo.base64.decodeFromUrl(e):""}},data:()=>({botaoImprimir:!0,componente:null,objeto:{},urlCompartilhamento:""}),methods:{abrirNFeEmail(){Fo.gconsole.log("Imprimir","abrirNFeEmail()",this.parametro),$utils.emitter.emit("abrirNFeEmail",this.parametro,this.$refs.visualizador.$el.contentWindow.document.body.innerHTML)},async carregarObjeto(e){try{Fo.gconsole.log("Imprimir",e);const o=await WT._.objeto.le({filtros:{nomeObjeto:e,tipo:"vue"}});if(!o||!o[0]||!o[0].codigoPersonalizado)return this.$q.notify("Relatório indisponível ou sem permissão");this.objeto=o[0];const t=JSON.parse(Fo.base64.decode(o[0].codigoPersonalizado));this.componente={parametro:this.parametro,estilo:t.estilo,script:t.script,template:t.template}}catch(e){throw this.$q.notify("Não foi possível carregar o relatório"),e}},async copiarLink(){const e=this.$refs.urlCompartilhamento;e.type="text",await this.$nextTick();try{e.select(),document.execCommand("copy"),this.$q.notify({message:"Copiado para a área de transferência",type:"info"})}catch(e){this.$q.notifyError("Erro ao copiar",e)}e.type="hidden",window.getSelection().removeAllRanges()},async compartilhar(){let e="";try{this.$q.loading.show(),this.$utils.gconsole.log("Imprimir","compartilhar");const o=this.$refs.visualizador.$el.contentWindow.document.body.innerHTML;this.$utils.gconsole.log("Imprimir","tamanho html",o.length);const t=await t_()({baseURL:"https://api.b15.com.br",method:"post",url:"/html2pdf",data:{html:o}});e=t.data.url,this.urlCompartilhamento=e}catch(e){return this.$q.notifyError("Erro ao gerar o link de compartilhamento.",e)}finally{this.$q.loading.hide()}this.$utils.gconsole.log("Imprimir","compartilhar url",e);const o=this.objeto.descricao||"Relatório",t=[{label:"Copiar link",icon:"link",handler:this.copiarLink},{color:"green",label:"WhatsApp",icon:"message",handler:()=>{const t=encodeURIComponent(`Acesse o *${o}* através do link: ${e}.`);(0,Tp.Z)(`https://wa.me/?text=${t}`)}}];navigator.share&&t.push({label:"Outros",icon:"more_horiz",handler:()=>{navigator.share({title:o,url:e})}}),this.$q.bottomSheet({grid:!0,title:"Compartilhar",actions:t}).onOk((e=>{console.log("bottomSheet chosen:",e),e.handler()}))},imprimirVisalizador(){if(window.cordova&&window.cordova.plugins&&window.cordova.plugins.printer){const e=this.$refs.visualizador.$el.contentWindow.document.body.innerHTML;return cordova.plugins.printer.print(e)}this.$refs.visualizador.$el.contentWindow.print()},voltar(){window&&window.history.back()}},created(){if(this.nome&&"0"!==this.nome)return this.carregarObjeto(this.nome);this.$q.notify("Relatório inválido")}},Xve=(0,T.Z)(Yve,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-header"),m=(0,a.resolveComponent)("visualizador"),u=(0,a.resolveComponent)("q-page-container"),p=(0,a.resolveComponent)("NFeEmail"),h=(0,a.resolveComponent)("q-layout");return(0,a.openBlock)(),(0,a.createBlock)(h,{class:"Imprimir bg-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"Imprimir-barraTopo"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{color:"primary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:"",onClick:l.voltar},null,8,["onClick"]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.objeto.descricao||"Relatório")+" ",1),r.objeto.descricao?((0,a.openBlock)(),(0,a.createElementBlock)("span",Gve,"Relatório")):(0,a.createCommentVNode)("",!0)])),_:1}),"nfe-danfe"===l.nome?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,color:"white",flat:"",label:"Email",icon:"email",onClick:l.abrirNFeEmail},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(s,{color:"white",flat:"",label:"Compartilhar",icon:"share",onClick:o[0]||(o[0]=o=>e.tryLoading(l.compartilhar))}),(0,a.createVNode)(s,{color:"white",flat:"",label:"Imprimir",icon:"print",onClick:l.imprimirVisalizador},null,8,["onClick"]),(0,a.withDirectives)((0,a.createElementVNode)("input",{ref:"urlCompartilhamento",type:"hidden","onUpdate:modelValue":o[1]||(o[1]=e=>r.urlCompartilhamento=e)},null,512),[[a.vModelText,r.urlCompartilhamento]])])),_:1})])),_:1}),(0,a.createVNode)(u,{class:"Imprimir-pagina"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Hve,[r.componente?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,ref:"visualizador",componente:r.componente},null,8,["componente"])):(0,a.createCommentVNode)("",!0)])])),_:1}),(0,a.createVNode)(p)])),_:1})}]]);Z()(Yve,"components",{QLayout:ae.Z,QHeader:ie.Z,QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QPageContainer:le.Z});const Wve={key:0},Kve={class:"Plataforma15-quadro",ref:"quadro",src:"/statics/plat15/Index.html",frameborder:"0"},efe={components:{},data:()=>({start:!1}),methods:{async menu_click(e){$q.loading.show(),await $utils.dormir(250);const o=new Date;for(this.start||(this.start=!0,localStorage.setItem("plat15message",""),await new Promise((async(e,t)=>{for(;""===localStorage.getItem("plat15message","")&&new Date-o<1e4;)await $utils.dormir(500);e()}))),localStorage.setItem("plat15message",""),this.$refs.quadro.contentWindow.postMessage({objeto:e.objeto},"*");""===localStorage.getItem("plat15message","")&&new Date-o<1e4;)await $utils.dormir(500);$q.loading.hide()}},mounted(){}},ofe=(0,T.Z)(efe,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-page");return(0,a.openBlock)(),(0,a.createBlock)(s,{class:"Plataforma15"},{default:(0,a.withCtx)((()=>[r.start?((0,a.openBlock)(),(0,a.createElementBlock)("div",Wve,[(0,a.createElementVNode)("iframe",Kve,null,512)])):(0,a.createCommentVNode)("",!0)])),_:1})}]]);Z()(efe,"components",{QPage:se.Z});const tfe={components:{Plataforma15:ofe,BarraTopo:Ue.Z},data:()=>({rota:"",start:!1}),methods:{async menu_click(e){this.$refs.Plataforma15.menu_click(e)}},mounted(){"Plataforma15"!==this.$route.name||this.$route.redirectedFrom||this.$refs.Plataforma15.menu_click(JSON.parse(JSON.stringify(this.$route.params)))}},afe=(0,T.Z)(tfe,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("barra-topo"),n=(0,a.resolveComponent)("Plataforma15"),c=(0,a.resolveComponent)("router-view"),d=(0,a.resolveComponent)("q-page-container");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(s,{onMenuClick:l.menu_click},null,8,["onMenuClick"]),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(n,{ref:"Plataforma15"},null,512),[[a.vShow,"Plataforma15"===e.$route.name]]),(0,a.withDirectives)((0,a.createVNode)(c,null,null,512),[[a.vShow,"Plataforma15"!==e.$route.name]])])),_:1})],64)}]]);Z()(tfe,"components",{QPageContainer:le.Z});var ife=t(99112);const rfe={class:"BarraTopo"},lfe={key:0,src:t.n(ife)(),alt:"B15",style:{height:"30px"},class:"q-mr-md"},sfe={key:1,src:VC(),alt:"B15",style:{height:"30px"},class:"q-mr-md"},nfe=(0,a.createTextVNode)("Contato"),cfe=(0,a.createTextVNode)("Orçamento/Venda"),dfe={class:"q-pa-none q-my-none items-center justify-center full-height column"},mfe=(0,a.createTextVNode)("Base"),ufe=(0,a.createTextVNode)("Selecionar bases"),pfe=(0,a.createTextVNode)("0 gb"),hfe=(0,a.createTextVNode)("Espaço"),Cfe=(0,a.createTextVNode)("Fila de sincrinismo para enviar"),vfe=(0,a.createTextVNode)("Ajuda"),ffe=(0,a.createTextVNode)("Certificado Digital"),Nfe=(0,a.createTextVNode)("Configurações"),Vfe=(0,a.createTextVNode)("Restaurar e sair"),gfe=(0,a.createTextVNode)("Alterar senha"),xfe=(0,a.createTextVNode)("Criar banco"),bfe=(0,a.createTextVNode)("Sair"),wfe={class:"q-mt-md q-mx-md"},_fe=(0,a.createElementVNode)("small",null,"©2020 Geeks, B15",-1),yfe={key:0};var Ife=t(86215),Efe=t(7329),Sfe=t(69555),Mfe=t(28417);const Tfe={components:{Avatar:uo.Z,PromptBuscaOnline:Efe.Z,UsuarioAlterarSenha:Sfe.Z,MenuGerador:Ife.Z,VendaModal:Ri.Z},computed:{chatBotaoCor(){return this.chat?"primary":"tertiary"},config:()=>ue.db.configuracoes.valores,termoBuscaInLowerCase(){return(this.termoBusca||"").toLowerCase()},statusBanco:()=>e=>"",versao:()=>Mfe.R},data:()=>({dbContato:ue.db.contato,dbUsuario:ue.db.usuario,bancos:[],clienteSistema:{sistema:""},clienteSistemaBaixados:[],campos:{},dialogAlterarSenha:!1,chat:!1,menu:!1,permissoes:{},sincronismoStatus:l.t.status,sistemaPai:"",termoBusca:"",termoBuscaOnline:""}),methods:{abrirValidCertificadora(){window.open("http://www.validcertificadora.com.br/P/B516DF35-5BC4-4D2D-8A62-CCF42F9BEF71/RD019446","_blank")},abrirEntidadeOnline(e){let o="AtendimentoContato";~this.$route.name.indexOf("Atendimento")&&(o=this.$route.name),this.$router.push({name:o,params:{id:e.id}})},abrirPromptBuscaOnline(){this.$refs.promptBuscaOnline.mostrar()},adicionarContato(){$utils.emitter.emit("adicionarContato")},adicionarOrcamento(){this.$refs.vendaModal.mostrar()},menu_click(e){this.$emit("menuClick",e)},irParaAtendimento(){const e=localStorage.getItem("contatoSelecionado");this.$router.push({name:"Atendimento",params:{id:e||"0"}})},abrirZap(){"optisoul"===this.sistemaPai?window.open("https://api.whatsapp.com/send?phone=5519999661240&text=Preciso%20de%20uma%20ajuda","_blank"):window.open("https://api.whatsapp.com/send?phone=5516993227436&text=Preciso%20de%20uma%20ajuda","_blank")},async sincronizar(){Fo.gconsole.log("BarraTopo","sincronizar()"),l.t.descarregarErp(),l.t.descarregarPlataforma()},onClickAlterarSenha(){this.dialogAlterarSenha=!0},alternarChat(){this.chat=!this.chat},alternarMenu(){this.menu=!this.menu},desconectar(){ue.db.usuario.desconecta(),window.location.reload()},fecharChat(){this.chat=!1},imprimir:Fo.imprimir,async mostrarTabelas(){let e=await LC.Z.getDatabaseNames();e.splice(e.indexOf("plataforma"),1);const o={};for(const t of e){const e=(await(0,Mo.X)(t).tables).sort(((e,o)=>e.name.localeCompare(o.name)));for(const a of e){const e=await a.count();o.hasOwnProperty(a.name)||(o[a.name]={}),o[a.name][t]=e}}return console.table(o),o},async restaurar(){if(await Mo.s.sincronismoFila.count()>0)this.$q.notifyError("Não pode restaurar! Há dados no dispositivo que não foram sincronizados.");else{for(const e of this.bancos)if(await(0,Mo.X)(e.bancoDeDados).sincronismoFila.count()>0)return void this.$q.notifyError(`Não pode restaurar! Há dados do banco '${e.bancoDeDados}' no dispositivo que não foram sincronizados.`);try{await new Promise(((e,o)=>{this.$q.dialog({title:"Tem certeza?",message:"Esta operação vai apagar todos os dados de seu dispositivo! Para confirmar digite a palavra 'RESTAURAR'.",prompt:{model:"",isValid:e=>"RESTAURAR"===e.toUpperCase(),type:"text",class:"bg-light"},cancel:{label:"CANCELAR",push:!0,color:"tertiary",flat:!0},ok:{label:"RESTAURAR",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((o=>{e()})).onCancel((()=>{o()}))}))}catch(e){return}this.$q.loading.show({message:"Restaurando"});try{const e=await LC.Z.getDatabaseNames();for(const o of e)await(0,Mo.X)(o,"delete");const o=localStorage.getItem("dispositivoCliente");localStorage.clear(),o&&localStorage.setItem("dispositivoCliente",o),window.location.reload()}catch(e){this.$q.notifyError("Erro na operação de restaurar",e)}finally{this.$q.loading.hide()}}},async selecionaBancoDados(e){this.clienteSistema=e||{},ue.db.cache.set("reload","1"),ue.db.cache.set("bancoDeDados",e.bancoDeDados||""),ue.db.cache.setJson("clienteSistema",e),this.$router.push({name:"Home"})}},props:{restricao:Boolean},emits:["menuClick"],async mounted(){this.clienteSistemaBaixados=JSON.parse(localStorage.getItem("clienteSistemaBaixados")),this.clienteSistema=JSON.parse(localStorage.getItem("clienteSistema"))||{},this.bancos=await WT._.sincronismo.le(),this.sistemaPai=(0,Fo.sistemaPai)(),this.permissoes={atendimento:await ue.db.permissao.objeto("atendimento"),admCustom:await ue.db.permissao.objeto("admcustom"),admEnvelopes:await ue.db.permissao.objeto("admenvelopes"),admOS:await ue.db.permissao.objeto("admos"),funilVendas:await ue.db.permissao.objeto("crmfunil"),item:await ue.db.permissao.objeto("item"),importarReceita:await ue.db.permissao.objeto("importarReceita"),caixa:await ue.db.permissao.objeto("caixa"),cockpit:await ue.db.permissao.objeto("cockpit"),nfe:await ue.db.permissao.objeto("nfe")}}},kfe=(0,T.Z)(Tfe,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-icon"),d=(0,a.resolveComponent)("q-item-section"),m=(0,a.resolveComponent)("q-item"),u=(0,a.resolveComponent)("q-list"),p=(0,a.resolveComponent)("q-menu"),h=(0,a.resolveComponent)("q-toolbar"),C=(0,a.resolveComponent)("avatar"),v=(0,a.resolveComponent)("q-item-label"),f=(0,a.resolveComponent)("q-tooltip"),N=(0,a.resolveComponent)("q-separator"),V=(0,a.resolveComponent)("row"),g=(0,a.resolveComponent)("q-header"),x=(0,a.resolveComponent)("q-input"),b=(0,a.resolveComponent)("menu-gerador"),w=(0,a.resolveComponent)("q-drawer"),_=(0,a.resolveComponent)("usuario-alterar-senha"),y=(0,a.resolveComponent)("PromptBuscaOnline"),I=(0,a.resolveComponent)("VendaModal"),E=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",rfe,[(0,a.createVNode)(g,{unelevated:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"bg-gradiente text-primary q-px-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{dense:"",flat:"",icon:"menu",color:"white",round:"",onClick:l.alternarMenu,class:"q-mr-sm"},null,8,["onClick"]),"optisoul"===r.sistemaPai?((0,a.openBlock)(),(0,a.createElementBlock)("img",lfe)):(0,a.createCommentVNode)("",!0),"b15"===r.sistemaPai?((0,a.openBlock)(),(0,a.createElementBlock)("img",sfe)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(n,{class:"q-px-sm"}),(0,a.createVNode)(s,{dense:"",flat:"",icon:"search",color:"white",round:"",onClick:l.abrirPromptBuscaOnline},null,8,["onClick"]),(0,a.createVNode)(s,{dense:"",flat:"",icon:"add",color:"white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(u,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{clickable:"",onClick:l.adicionarContato},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"person",size:"sm"})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[nfe])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)(m,{clickable:"",onClick:l.adicionarOrcamento},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"add_shopping_cart",size:"sm"})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[cfe])),_:1})])),_:1},8,["onClick"])])),_:1},512),[[E]])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(h,{class:"bg-gradiente text-white q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"items-center q-mx-none q-px-none q-py-xs"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",dfe,[(0,a.createVNode)(C,{imagem:r.dbUsuario.logado.img,rotulo:r.dbUsuario.logado.nome,tamanho:"40",onClick:l.sincronizar},null,8,["imagem","rotulo","onClick"]),(0,a.createVNode)(p,{class:"BarraTopo-usuarioPopover q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{"no-border":""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{imagem:r.dbUsuario.logado.img,rotulo:r.dbUsuario.logado.nome,tamanho:"38"},null,8,["imagem","rotulo"])])),_:1}),(0,a.createVNode)(d,{class:"q-pl-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.dbUsuario.logado.nome),1)])),_:1}),(0,a.createVNode)(v,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.dbUsuario.logado.cpf),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,{class:"q-ma-md bordered",dense:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{dense:"",class:"text-tertiary",clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"storage"})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.clienteSistema.bancoDeDados),1)])),_:1}),(0,a.createVNode)(v,{caption:"",class:"text-caption"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.clienteSistema.sistema),1)])),_:1})])),_:1}),(0,a.createVNode)(d,{side:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.statusBanco(r.clienteSistema.bancoDeDados)),1)])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[mfe])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{link:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.clienteSistemaBaixados,(e=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:e.idClienteSistema},[(0,a.withDirectives)((0,a.createVNode)(m,{clickable:"",class:"text-tertiary q-py-xs",onClick:o=>l.selecionaBancoDados(e),dense:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.bancoDeDados),1)])),_:2},1024),(0,a.createVNode)(v,{caption:"",class:"text-caption"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.sistema),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(d,{side:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.statusBanco(e.bancoDeDados)),1)])),_:2},1024)])),_:2},1032,["onClick"]),[[E]]),(0,a.createVNode)(N)],64)))),128)),(0,a.withDirectives)((0,a.createVNode)(m,{to:{name:"AutenticacaoBancos",params:{operacao:"selecionar"}},class:"text-tertiary",clickable:"",dense:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"settings"})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[ufe])),_:1})])),_:1})])),_:1},512),[[E]])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m,{onClick:l.mostrarTabelas,dense:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"data_usage"})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[pfe])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[hfe])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)(m,{to:{name:"PainelSincronismo"},dense:"",class:"text-tertiary",clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"swap_calls"})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)("Fila enviar: "+String(r.sincronismoStatus.tamanhoFila)),1)])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[Cfe])),_:1})])),_:1})])),_:1}),(0,a.withDirectives)((0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{onClick:l.abrirZap,clickable:"",dense:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"contact_support"})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[vfe])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)(m,{onClick:l.abrirValidCertificadora,clickable:"",dense:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"add_moderator"})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[ffe])),_:1})])),_:1},8,["onClick"]),t.restricao?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,to:{name:"Configuracoes"},clickable:"",dense:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"settings"})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[Nfe])),_:1})])),_:1})),(0,a.createVNode)(m,{onClick:l.restaurar,clickable:"",dense:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"warning"})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[Vfe])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)(m,{onClick:l.onClickAlterarSenha,clickable:"",dense:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"mdi-lock-open-outline"})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[gfe])),_:1})])),_:1},8,["onClick"]),r.dbUsuario.logado.administrador&&[1,2].includes(r.dbUsuario.logado.grupoInterno)?((0,a.openBlock)(),(0,a.createBlock)(m,{key:1,to:{name:"CriarBanco"},clickable:"",dense:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"mdi-database-plus"})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[xfe])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(m,{onClick:l.desconectar,clickable:"",dense:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"exit_to_app"})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[bfe])),_:1})])),_:1},8,["onClick"])])),_:1},512),[[E]])])),_:1})]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.dbUsuario.logado.nome),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(w,{modelValue:r.menu,"onUpdate:modelValue":o[1]||(o[1]=e=>r.menu=e),behavior:"mobile",elevated:"",side:"left"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",wfe,[(0,a.createVNode)(x,{modelValue:r.termoBusca,"onUpdate:modelValue":o[0]||(o[0]=e=>r.termoBusca=e),debounce:300,color:"none",dense:"",outlined:"",placeholder:"Filtrar",clearable:"","clear-icon":"close"},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"mdi-filter"})])),_:1},8,["modelValue"])]),(0,a.createVNode)(b,{termoBusca:l.termoBuscaInLowerCase,onMenuClick:l.menu_click},null,8,["termoBusca","onMenuClick"]),r.dbUsuario.logado.desenvolvedor&&r.dbUsuario.logado.desenvolvedor()||2===r.dbUsuario.logado.grupoInterno?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,dense:"",link:"","no-border":""})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(u,{"no-border":""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"justify-between text-caption row"},{default:(0,a.withCtx)((()=>[_fe,"optisoul"===r.sistemaPai?((0,a.openBlock)(),(0,a.createElementBlock)("small",yfe,"OptiSoul - Optidados")):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("small",null,(0,a.toDisplayString)(l.versao),1)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(_,{modelValue:r.dialogAlterarSenha,"onUpdate:modelValue":o[2]||(o[2]=e=>r.dialogAlterarSenha=e)},null,8,["modelValue"]),(0,a.createVNode)(y,{ref:"promptBuscaOnline",onSelecionar:l.abrirEntidadeOnline},null,8,["onSelecionar"]),(0,a.createVNode)(I,{ref:"vendaModal"},null,512)])}]]);Z()(Tfe,"components",{QHeader:ie.Z,QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QMenu:Bo.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QIcon:L.Z,QItemLabel:j.Z,QTooltip:Ao.Z,QSeparator:$.Z,QDrawer:YM.Z,QInput:re.Z}),Z()(Tfe,"directives",{ClosePopup:J.Z});const Dfe={components:{Plataforma15:ofe,BarraTopo:kfe},data:()=>({rota:"",start:!1}),methods:{async menu_click(e){this.$refs.Plataforma15.menu_click(e)}},mounted(){"Plataforma15"!==this.$route.name||this.$route.redirectedFrom||this.$refs.Plataforma15.menu_click(JSON.parse(JSON.stringify(this.$route.params)))}},qfe=(0,T.Z)(Dfe,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("barra-topo"),n=(0,a.resolveComponent)("Plataforma15"),c=(0,a.resolveComponent)("router-view"),d=(0,a.resolveComponent)("q-page-container");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(s,{onMenuClick:l.menu_click},null,8,["onMenuClick"]),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(n,{ref:"Plataforma15"},null,512),[[a.vShow,"Plataforma15"===e.$route.name]]),(0,a.withDirectives)((0,a.createVNode)(c,null,null,512),[[a.vShow,"Plataforma15"!==e.$route.name]])])),_:1})],64)}]]);Z()(Dfe,"components",{QPageContainer:le.Z});const Ffe={class:"text-body1 q-mr-sm"},Pfe={class:"text-caption"},Afe=(0,a.createTextVNode)(" Sincronizando "),Bfe=(0,a.createElementVNode)("div",{class:"text-body1 q-mt-md text-white text-center q-px-md"}," Você pode usar a parte online do sistema enquanto trazemos os dados para seu dispositivo! ",-1),Lfe=(0,a.createElementVNode)("div",{class:"text-caption"}," Atualizando ... ",-1);let Ofe=1;const zfe={components:{},data:()=>({animacao:"",atualizou:!1,mensagemBancoBloqueado:"",statusBancos:{}}),methods:{animar(){Ofe++,10===Ofe&&(Ofe=1),this.animacao=Ofe<5?"<".repeat(Ofe)+""+">".repeat(Ofe):"<".repeat(10-Ofe)+""+">".repeat(10-Ofe)},async atualizar(){if(await this.verificarRedirecionamento())return!0;try{this.$q.loading.show();const e=await WT._.sincronismo.le();for(const o of e){const e=this.statusBancos[o.bancoDeDados]||{};this.statusBancos[o.bancoDeDados]={bancoDeDados:o.bancoDeDados,status:o.status,percentagem:0,quantidadeRestantePeriodico:0,...e}}this.atualizou=!0}catch(e){this.$q.notifyError("Erro ao atualizar",e)}finally{this.$q.loading.hide()}this.atualizarPeriodico()},async atualizarPeriodico(){this.cotadorInterval=(this.cotadorInterval||0)+1,this.animar();try{const e=this.cotadorInterval%5!=1?await WT._.sincronismo.le({bancoDeDados:$db.cache.get("bancoDeDados")}):await WT._.sincronismo.le();for(const o of e){if(o.bancoDeDados===$db.cache.get("bancoDeDados")&&await this.verificarRedirecionamento(o))return!0;const e=this.statusBancos[o.bancoDeDados];e||(this.statusBancos[o.bancoDeDados]={...o}),e.ultimo<o.ultimo&&(this.statusBancos[o.bancoDeDados]={...e,...o})}}catch(e){this.$q.notifyError("Erro ao atualizar",e)}},async atualizarStatusSincronismo(e,o){if(this.animar(),this.statusBancos[e]={...this.statusBancos[e]||{},...o},"normal"===o.status&&await this.verificarRedirecionamento())return!0},async atualizarStatusSincronismoPeriodico(e,o){this.animar(),this.statusBancos[e]&&o&&(this.statusBancos[e].quantidadeRestantePeriodico-=o)},async verificarRedirecionamento(){try{if(this.mensagemBancoBloqueado=await WT._.sincronismo.verificaBloqueio(),!this.mensagemBancoBloqueado){const e=await $db.permissao.telaInicial();return $utils.gconsole.log("Home","redirecionando para a tela inicial",JSON.stringify(e)),await this.$router.push(e),!0}}catch(e){this.$q.notifyError("Erro ao verificar banco selecionado",e)}return!1}},async created(){},async mounted(){if("1"===$db.cache.get("reload"))return $utils.gconsole.log("Home","reload()"),$db.cache.set("reload","0"),void window.location.reload();$utils.emitter.on("atualizarStatusSincronismo",this.atualizarStatusSincronismo),$utils.emitter.on("atualizarStatusSincronismoPeriodico",this.atualizarStatusSincronismoPeriodico),await this.atualizar()||(this.interval=setInterval(this.atualizarPeriodico,3e4))},beforeUnmount(){this.interval&&clearInterval(this.interval),$utils.emitter.off("atualizarStatusSincronismo"),$utils.emitter.off("atualizarStatusSincronismoPeriodico")}},jfe=(0,T.Z)(zfe,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-card-section"),c=(0,a.resolveComponent)("q-card"),d=(0,a.resolveComponent)("q-toolbar-title"),m=(0,a.resolveComponent)("q-toolbar"),u=(0,a.resolveComponent)("q-page");return(0,a.openBlock)(),(0,a.createBlock)(u,{class:"u-container",id:"home"},{default:(0,a.withCtx)((()=>[r.mensagemBancoBloqueado?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,color:"negative",class:"q-mb-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-py-xs"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("span",Ffe,(0,a.toDisplayString)(r.mensagemBancoBloqueado),1),(0,a.createVNode)(s,{name:"alarm",color:"white"})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),r.atualizou?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createVNode)(m,{class:"q-py-sm",color:"none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"text-center text-white"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.statusBancos,(o=>((0,a.openBlock)(),(0,a.createElementBlock)("p",{key:o.bancoDeDados},[o.status?"sincronismoInicial"===o.status?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createTextVNode)((0,a.toDisplayString)(o.bancoDeDados)+" - "+(0,a.toDisplayString)(e.$filters.numero(o.percentagem,2))+" % ",1)],64)):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:2},[(0,a.createTextVNode)((0,a.toDisplayString)(o.bancoDeDados)+" "+(0,a.toDisplayString)(e.$filters.dataHora(o.dataHoraServidor))+" - "+(0,a.toDisplayString)(e.$filters.numero(o.quantidadeRestantePeriodico,0))+" quantidade restante ",1)],64)):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createTextVNode)((0,a.toDisplayString)(o.bancoDeDados)+" - verificando ... ",1)],64))])))),128)),(0,a.createElementVNode)("div",Pfe,[(0,a.createElementVNode)("div",null,(0,a.toDisplayString)(r.animacao),1),Afe])])),_:1})])),_:1}),Bfe],64)):((0,a.openBlock)(),(0,a.createBlock)(m,{key:2,class:"q-py-sm",color:"none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"text-center"},{default:(0,a.withCtx)((()=>[Lfe])),_:1})])),_:1}))])),_:1})}]]);Z()(zfe,"components",{QPage:se.Z,QCard:D.Z,QCardSection:q.Z,QIcon:L.Z,QToolbar:O.Z,QToolbarTitle:G.Z});const $fe={class:"u-container"},Ufe={class:"q-px-md"},Zfe={class:"col-12 q-mt-md"},Qfe=(0,a.createElementVNode)("h1",{class:"text-subtitle2"},"O que deseja fazer?",-1),Rfe={class:"q-pr-sm"},Gfe={class:"q-pr-sm"},Hfe={class:"q-pr-sm"},Jfe={class:"q-pr-sm"},Yfe={class:"col-12"},Xfe=(0,a.createElementVNode)("h2",{class:"text-subtitle2 q-mb-none"},"Veja como é fácil!",-1),Wfe=(0,a.createTextVNode)("Universidade"),Kfe=(0,a.createTextVNode)("Image avatar"),eNe=(0,a.createElementVNode)("img",{src:"https://cdn.quasar.dev/img/mountains.jpg",height:"30"},null,-1),oNe=(0,a.createTextVNode)("Image square avatar"),tNe=(0,a.createElementVNode)("img",{src:"https://cdn.quasar.dev/img/mountains.jpg",height:"30"},null,-1),aNe=(0,a.createTextVNode)("Image rounded avatar"),iNe=(0,a.createElementVNode)("img",{src:"https://cdn.quasar.dev/img/mountains.jpg",height:"30"},null,-1),rNe=(0,a.createTextVNode)("Image rounded avatar"),lNe=(0,a.createElementVNode)("img",{src:"https://cdn.quasar.dev/img/mountains.jpg",height:"30"},null,-1),sNe=(0,a.createTextVNode)("Image rounded avatar"),nNe=(0,a.createElementVNode)("img",{src:"https://cdn.quasar.dev/img/mountains.jpg",height:"30"},null,-1),cNe={class:"col-12"},dNe=(0,a.createElementVNode)("h2",{class:"text-subtitle2"},"Faturamento do ano",-1),mNe=(0,a.createTextVNode)(" Faturamento "),uNe=(0,a.createElementVNode)("div",{class:"progress full-width q-mt-xs"},[(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-green-10",style:{width:"50%"}}),(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-green-3",style:{width:"50%"}})],-1),pNe=(0,a.createTextVNode)(" 999.999,99 "),hNe=(0,a.createTextVNode)(" Recebido "),CNe={class:"text-right"},vNe=(0,a.createTextVNode)(" 999.999,99 "),fNe=(0,a.createTextVNode)(" Receber "),NNe={class:"row"},VNe={class:"col-12 q-my-md"},gNe=(0,a.createElementVNode)("h2",{class:"text-subtitle2"},"Finanças em dia",-1),xNe=(0,a.createTextVNode)(" Finanças "),bNe=(0,a.createElementVNode)("div",{class:"progress full-width q-mt-xs"},[(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-green-10",style:{width:"50%"}}),(0,a.createElementVNode)("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-green-3",style:{width:"50%"}})],-1),wNe=(0,a.createTextVNode)(" 999.999,99 "),_Ne=(0,a.createTextVNode)(" Recebido "),yNe={class:"text-right"},INe=(0,a.createTextVNode)(" 999.999,99 "),ENe=(0,a.createTextVNode)(" Receber "),SNe={class:"row"},MNe={components:{Grafico:ir},computed:{},data:()=>({graficoFluxo:{labels:["01","04","05","06","07","08","11","12","13","14","15","18","19","20","21","22","25","26","27","28","29"],datasets:[{label:"Venda",backgroundColor:"rgba(33, 186, 69, 0.5)",borderColor:"rgb(33, 186, 69)",borderWidth:1,data:[50,35,75,60,50,35,75,60,50,35,75,60,50,35,75,60,50,35,75,60,50]},{label:"Orçamento",borderColor:"rgba(0, 0, 0, 0.15)",borderWidth:1,data:[0,22,0,15,0,0,0,50,0,0,0,0,0,0,0,18,0,0,0,0,0]},{label:"Perdida",backgroundColor:"rgba(219, 40, 40, 0.5)",borderColor:"rgb(219, 40, 40)",borderWidth:1,data:[0,0,12,15,0,0,0,0,10,0,0,0,0,0,0,0,5,0,0,0,0]}]},graficoOpcoesFluxo:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]},legend:{position:"top"}}}),methods:{}};var TNe=t(48639);const kNe=(0,T.Z)(MNe,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("row"),c=(0,a.resolveComponent)("q-scroll-area"),d=(0,a.resolveComponent)("q-item-label"),m=(0,a.resolveComponent)("q-item-section"),u=(0,a.resolveComponent)("q-item"),p=(0,a.resolveComponent)("q-separator"),h=(0,a.resolveComponent)("q-list"),C=(0,a.resolveComponent)("q-icon"),v=(0,a.resolveComponent)("q-toolbar-title"),f=(0,a.resolveComponent)("q-toolbar"),N=(0,a.resolveComponent)("q-tooltip"),V=(0,a.resolveComponent)("grafico"),g=(0,a.resolveComponent)("q-card"),x=(0,a.resolveComponent)("q-page"),b=(0,a.resolveComponent)("q-page-container"),w=(0,a.resolveComponent)("q-layout"),_=(0,a.resolveDirective)("ripple");return(0,a.openBlock)(),(0,a.createBlock)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{class:"q-pa-none q-ma-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("section",$fe,[(0,a.createElementVNode)("div",Ufe,[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Zfe,[Qfe,(0,a.createVNode)(c,{style:{height:"120px","max-width":"100%"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"no-wrap"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Rfe,[(0,a.createVNode)(s,{icon:"extension",label:"Cadastrar Produtos",flat:"",stack:"",unelevated:"",color:"tertiary",size:"md",class:"custom-button text-h6 bg-white"})]),(0,a.createElementVNode)("div",Gfe,[(0,a.createVNode)(s,{icon:"person_add",label:"Cadastrar Cliente",flat:"",stack:"",unelevated:"",color:"tertiary",size:"md",class:"custom-button text-h6 bg-white"})]),(0,a.createElementVNode)("div",Hfe,[(0,a.createVNode)(s,{icon:"shopping_cart",label:"Fazer uma Venda",flat:"",stack:"",unelevated:"",color:"tertiary",size:"md",class:"custom-button text-h6 bg-white"})]),(0,a.createElementVNode)("div",Jfe,[(0,a.createVNode)(s,{icon:"attach_money",label:"Gerenciar Finanças",flat:"",stack:"",unelevated:"",color:"tertiary",size:"md",class:"custom-button text-h6 bg-white"})])])),_:1})])),_:1})]),(0,a.createElementVNode)("div",Yfe,[Xfe,(0,a.createVNode)(c,{style:{height:"350px","max-width":"100%"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"no-wrap"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(10,(e=>(0,a.createElementVNode)("div",{key:e,class:"q-pr-sm"},[(0,a.createVNode)(d,{header:"",class:"q-px-none text-subtitle1"},{default:(0,a.withCtx)((()=>[Wfe])),_:1}),(0,a.createVNode)(h,{bordered:"",style:{width:"280px"},class:"bg-white"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(u,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[Kfe])),_:1}),(0,a.createVNode)(m,{avatar:""},{default:(0,a.withCtx)((()=>[eNe])),_:1})])),_:1},512),[[_]]),(0,a.createVNode)(p),(0,a.withDirectives)((0,a.createVNode)(u,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[oNe])),_:1}),(0,a.createVNode)(m,{avatar:""},{default:(0,a.withCtx)((()=>[tNe])),_:1})])),_:1},512),[[_]]),(0,a.createVNode)(p),(0,a.withDirectives)((0,a.createVNode)(u,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[aNe])),_:1}),(0,a.createVNode)(m,{avatar:""},{default:(0,a.withCtx)((()=>[iNe])),_:1})])),_:1},512),[[_]]),(0,a.createVNode)(p),(0,a.withDirectives)((0,a.createVNode)(u,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[rNe])),_:1}),(0,a.createVNode)(m,{avatar:""},{default:(0,a.withCtx)((()=>[lNe])),_:1})])),_:1},512),[[_]]),(0,a.createVNode)(p),(0,a.withDirectives)((0,a.createVNode)(u,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[sNe])),_:1}),(0,a.createVNode)(m,{avatar:""},{default:(0,a.withCtx)((()=>[nNe])),_:1})])),_:1},512),[[_]])])),_:1}),(0,a.createVNode)(s,{color:"tertiary",flat:"",class:"full-width q-mt-sm",label:"Ver todos",size:"sm"})]))),64))])),_:1})])),_:1})]),(0,a.createElementVNode)("div",cNe,[dNe,(0,a.createVNode)(g,{class:"no-shadow q-px-md q-pb-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{name:"shopping_cart",size:"24px",class:"text-tertiary"}),(0,a.createVNode)(v,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[mNe])),_:1})])),_:1}),uNe,(0,a.createVNode)(f,{color:"transparent",class:"minh30 text-dark q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{class:"text-body1 text-weight-bold q-px-none"},{default:(0,a.withCtx)((()=>[pNe,(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[hNe])),_:1})])),_:1}),(0,a.createElementVNode)("small",CNe,[vNe,(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[fNe])),_:1})])])),_:1}),(0,a.createElementVNode)("div",NNe,[(0,a.createVNode)(V,{class:"col",type:"bar",data:r.graficoFluxo,options:r.graficoOpcoesFluxo},null,8,["data","options"])])])),_:1})]),(0,a.createElementVNode)("div",VNe,[gNe,(0,a.createVNode)(g,{class:"no-shadow q-px-md q-pb-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{name:"attach_money",size:"24px",class:"text-tertiary"}),(0,a.createVNode)(v,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[xNe])),_:1})])),_:1}),bNe,(0,a.createVNode)(f,{color:"transparent",class:"minh30 text-dark q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{class:"text-body1 text-weight-bold q-px-none"},{default:(0,a.withCtx)((()=>[wNe,(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[_Ne])),_:1})])),_:1}),(0,a.createElementVNode)("small",yNe,[INe,(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[ENe])),_:1})])])),_:1}),(0,a.createElementVNode)("div",SNe,[(0,a.createVNode)(V,{class:"col",type:"bar",data:r.graficoFluxo,options:r.graficoOpcoesFluxo},null,8,["data","options"])])])),_:1})])])),_:1})])])])),_:1})])),_:1})])),_:1})}]]);Z()(MNe,"components",{QLayout:ae.Z,QPageContainer:le.Z,QPage:se.Z,QScrollArea:FX.Z,QBtn:H.Z,QItemLabel:j.Z,QList:F.Z,QItem:z.Z,QItemSection:A.Z,QSeparator:$.Z,QCard:D.Z,QToolbar:O.Z,QIcon:L.Z,QToolbarTitle:G.Z,QTooltip:Ao.Z}),Z()(MNe,"directives",{Ripple:TNe.Z});const DNe=(0,a.createTextVNode)(" Criação de banco para novo cliente "),qNe={class:"u-container"},FNe={class:"u-container relative-position"},PNe={components:{},data:()=>({dados:{cnpj:"",fantasia:"",razaoSocial:"",baseDados:"",codigoSistema:"",segmento:"",codigo:"",cpfUsuario:"",nomeUsuario:""},cnpjErro:!1,logado:$db.usuario.logado,servidor:{},servidorOptisoul:{codigo:"srv7",ativoSincronismo:1,sysDatabases:"[srv7.b15.com.br].master.sys.databases",ip:"\\\\10.2.2.7",at:"at [srv7.b15.com.br]",drive:"E:\\"},servidorB15:{codigo:"srv5",ativoSincronismo:1,sysDatabases:"sys.databases",ip:"C:\\",at:"",drive:"D:\\"},sistemas:[],sistemasOptisoul:[{valor:"52",rotulo:"Optisoul - Plano Controle"},{valor:"53",rotulo:"Optisoul - Plano Gestão"},{valor:"57",rotulo:"Optisoul - Plano Venda Melhor"},{valor:"68",rotulo:"Optisoul - Operacional"}],sistemasB15:[{valor:"60",rotulo:"B15 Free"},{valor:"61",rotulo:"B15 Business"},{valor:"62",rotulo:"B15 Enterprise"}]}),methods:{async atualiza(){this.sistemas=2===this.logado.grupoInterno?this.sistemasOptisoul:[...this.sistemasOptisoul,...this.sistemasB15],this.dados.segmento=2===this.logado.grupoInterno?"Ótica":"",this.servidor=2===this.logado.grupoInterno?this.servidorOptisoul:this.servidorB15},async criarBanco(){$utils.gconsole.log("CriarBanco","criarBanco()",this.dados);try{(this.dados.cnpj||this.dados.razaoSocial||this.dados.fantasia)&&($utils.verificarErro(!this.dados.cnpj,"CNPJ não preenchido"),$utils.verificarErro(!$utils.validarDocumentoNacional(this.dados.cnpj),"CNPJ inválido"),$utils.verificarErro(!this.dados.razaoSocial,"Razão Social não preenchido"),$utils.verificarErro(!this.dados.fantasia,"Fantasia não preenchido")),$utils.verificarErro(!this.dados.codigoSistema,"Sistema não selecionado"),(this.dados.cpfUsuario||this.dados.nomeUsuario)&&($utils.verificarErro(!this.dados.cpfUsuario,"CFP do usuário não preenchido"),$utils.verificarErro(!$utils.validarDocumentoNacional(this.dados.cpfUsuario),"CPF inválido"),$utils.verificarErro(!this.dados.nomeUsuario,"Nome do usuário não preenchido"));const e=this.dados.cnpj||this.dados.cpfUsuario;let o;$utils.verificarErro(!e,"CFP e CNPJ não preenchidos"),this.dados.baseDados=this.$utils.removerCaracteresEspeciais(this.dados.baseDados).replace(/ /g,""),$utils.verificarErro(!this.dados.baseDados,"Base de Dados não preenchido"),this.$q.loading.show({message:"Criando"}),o=`select * from clienteSistema where bancoDeDados = ${$utils.sqlStr(this.dados.baseDados)}`;const t=await $utils.executarSql(o,"GeeksPlat15A");$utils.gconsole.log("CriarBanco","retClienteSistemaCadastrada",t),$utils.verificarErro(!!t&&t.length>0,"Nome da Base de dados já existente no sistema"),o=`select * from ${this.servidor.sysDatabases} where name = ${$utils.sqlStr(this.dados.baseDados)}`;const a=await $utils.executarSql(o,"GeeksPlat15A");$utils.gconsole.log("CriarBanco","retBancoCadastrado",a),$utils.verificarErro(!!a&&a.length>0,`Nome da Base de dados já existente no servidor ${this.servidor.codigo}`),o=`\n            declare @baseDados varchar(250) = ${$utils.sqlStr(this.dados.baseDados)}\n            if not exists(Select 1 from ${this.servidor.sysDatabases} where name=@baseDados)\n            begin\n              declare @sql varchar(max) = ''\n              set @sql = 'backup database BaseLimpaMobile to disk=''${this.servidor.ip}\\Geeks\\Backup\\BaseLimpaMobile.bkpsql.bak'' With INIT';\n              exec (@sql)\n              set @sql = 'create database ' + QUOTENAME(@baseDados)\n              exec (@sql) ${this.servidor.at}\n              set @sql = 'restore database ' + QUOTENAME(@baseDados) + ' from disk=''C:\\Geeks\\Backup\\BaseLimpaMobile.bkpsql.bak'' WITH FILE = 1,  NOUNLOAD,  REPLACE,  STATS = 5,'\n              set @sql = @sql + ' move ''OptiSoul'' to ''${this.servidor.drive}\\SqlData\\'+@baseDados+'.mdf'','\n              set @sql = @sql + ' move ''OptiSoul_Log'' to ''${this.servidor.drive}\\SqlData\\'+@baseDados+'_log.ldf'''\n              exec (@sql) ${this.servidor.at}\n            end\n            select @baseDados baseDados`;const i=await $utils.executarSql(o,"GeeksPlat15A");let r;$utils.gconsole.log("CriarBanco","retBackupRestore",i),this.$q.notifyPositive(`Banco ${i[0].baseDados} criado com sucesso`),o=`\n            insert into Contato (Nome,Apelido,NumeroDocumentoNacional,TipoDocumentoNacional)\n            Select ${$utils.sqlStr(this.dados.razaoSocial||this.dados.nomeUsuario)} Nome, ${$utils.sqlStr(this.dados.fantasia||this.dados.nomeUsuario)} Apelido, ${$utils.sqlStr(e)} NumeroDocumentoNacional, 'CNPJ'\n            where not exists(select 1 from contato where NumeroDocumentoNacional = ${$utils.sqlStr(e)})\n            select * from contato where NumeroDocumentoNacional = ${$utils.sqlStr(e)}`;const l=await $utils.executarSql(o,"GeeksPlat15A");$utils.gconsole.log("CriarBanco","retContatoPlat",l),$utils.verificarErro(!l||!l.length||!l[0].CodigoContato,"Erro na criação do contato empresa na plataforma"),r=l[0].CodigoContato,o=`\n            insert into ClienteSistema (CodigoSistema,CodigoCliente,URLservidor,BancoDeDados)\n            Select\n              ${$utils.sqlNum(this.dados.codigoSistema)} CodigoSistema,\n              ${$utils.sqlNum(r)} CodigoCliente,\n              'https://api.b15.com.br/sql/${this.servidor.codigo}' URLServidor,\n              ${$utils.sqlStr(this.dados.baseDados)} BancoDeDados\n            --where not exists(Select 1 from ClienteSistema where CodigoSistema=${$utils.sqlNum(this.dados.codigoSistema)} and CodigoCliente=${$utils.sqlNum(r)} and BancoDeDados=${$utils.sqlStr(this.dados.baseDados)})\n            select * from ClienteSistema where CodigoSistema=${$utils.sqlNum(this.dados.codigoSistema)} and CodigoCliente=${$utils.sqlNum(r)} and BancoDeDados=${$utils.sqlStr(this.dados.baseDados)}`;const s=await $utils.executarSql(o,"GeeksPlat15A");$utils.gconsole.log("CriarBanco","retClienteSistema",s),$utils.verificarErro(!s||!s.length||!s[0].CodigoClienteSistema,"Erro na criação do ClienteSistema");const n=s[0].CodigoClienteSistema;if(this.dados.cpfUsuario){o=`\n            insert into Contato (Nome, Apelido, NumeroDocumentoNacional, TipoDocumentoNacional)\n            Select ${$utils.sqlStr(this.dados.nomeUsuario)} Nome, ${$utils.sqlStr(this.dados.nomeUsuario)} Apelido, ${$utils.sqlStr(this.dados.cpfUsuario)} NumeroDocumentoNacional, 'CPF'\n            --where not exists(select 1 from contato where NumeroDocumentoNacional = ${$utils.sqlStr(this.dados.cpfUsuario)})\n            select * from contato where NumeroDocumentoNacional = ${$utils.sqlStr(this.dados.cpfUsuario)}`;const e=await $utils.executarSql(o,this.dados.baseDados);$utils.gconsole.log("CriarBanco","retContatoCpf",e),$utils.verificarErro(!e||!e.length||!e[0].CodigoContato,"Erro na criação do contato");const t=e[0].CodigoContato;let a,i,r;if(this.dados.cnpj){o=`\n              insert into Contato (Nome, Apelido, NumeroDocumentoNacional, TipoDocumentoNacional)\n              Select ${$utils.sqlStr(this.dados.razaoSocial)} Nome, ${$utils.sqlStr(this.dados.fantasia)} Apelido, ${$utils.sqlStr(this.dados.cnpj)} NumeroDocumentoNacional, 'CNPJ'\n              --where not exists(select 1 from contato where NumeroDocumentoNacional = ${$utils.sqlStr(this.dados.cnpj)})\n              select * from contato where NumeroDocumentoNacional = ${$utils.sqlStr(this.dados.cnpj)}`;const e=await $utils.executarSql(o,this.dados.baseDados);$utils.gconsole.log("CriarBanco","retContatoCnpj",e),$utils.verificarErro(!e||!e.length||!e[0].CodigoContato,"Erro na criação do contato"),r=e[0].CodigoContato,o=`\n              insert into Empresa (Nome, Apelido, NumeroDocumentoNacional, codigoContato, codigoClienteSistema)\n              Select\n              ${$utils.sqlStr(this.dados.razaoSocial)} Nome,\n              ${$utils.sqlStr(this.dados.fantasia)} Apelido,\n              ${$utils.sqlStr(this.dados.cnpj)} NumeroDocumentoNacional,\n              ${$utils.sqlNum(r)} codigoContato,\n              ${$utils.sqlNum(n)} codigoClienteSistema\n              --where not exists(select 1 from empresa where NumeroDocumentoNacional = ${$utils.sqlStr(this.dados.cnpj)} and codigoClienteSistema = ${$utils.sqlNum(n)} and codigoContato = ${$utils.sqlNum(r)})\n              select * from empresa where NumeroDocumentoNacional = ${$utils.sqlStr(this.dados.cnpj)} and codigoClienteSistema = ${$utils.sqlNum(n)} and codigoContato = ${$utils.sqlNum(r)}`;const t=await $utils.executarSql(o,this.dados.baseDados);$utils.gconsole.log("CriarBanco","retEmpresaErp",t),$utils.verificarErro(!t||!t.length||!t[0].CodigoEmpresa,"Erro na criação da empresa Erp"),a=t[0].CodigoEmpresa;const l=await $utils.executarSql(o,"GeeksPlat15A");$utils.gconsole.log("CriarBanco","retEmpresaPlat",l),$utils.verificarErro(!l||!l.length||!l[0].CodigoEmpresa,"Erro na criação da empresa Plat"),i=l[0].CodigoEmpresa}o=`\n            insert into grupo (codigoClienteSistema, Descricao)\n            Select ${$utils.sqlNum(n)} codigoClienteSistema, 'Administrador' Descricao\n            --where not exists(Select 1 from grupo where codigoClienteSistema= ${$utils.sqlNum(n)} and Descricao='Administrador')\n            Select * from grupo where codigoClienteSistema= ${$utils.sqlNum(n)} and Descricao='Administrador'`;const l=await $utils.executarSql(o,"GeeksPlat15A");$utils.gconsole.log("CriarBanco","retGrupo",l),$utils.verificarErro(!l||!l.length||!l[0].CodigoGrupo,"Erro na criação do grupo");const s=l[0].CodigoGrupo;o=`\n            insert into usuario (Nome, NumeroDocumentoNacional, senha, codigoContato, codigoGrupo)\n            Select\n              ${$utils.sqlStr(this.dados.nomeUsuario)} Nome,\n              ${$utils.sqlStr(this.dados.cpfUsuario)} NumeroDocumentoNacional,\n              '16a492d0689ac993da82e6fc034c12c1' senha,\n              ${$utils.sqlNum(t)} codigoContato,\n              ${$utils.sqlNum(s)} codigoGrupo\n            where not exists(select 1 from usuario where NumeroDocumentoNacional = ${$utils.sqlStr(this.dados.cpfUsuario)})\n            select * from usuario where NumeroDocumentoNacional = ${$utils.sqlStr(this.dados.cpfUsuario)}-- and codigoGrupo = ${$utils.sqlNum(s)}`;const c=await $utils.executarSql(o,"GeeksPlat15A");$utils.gconsole.log("CriarBanco","retUsuario",c),$utils.verificarErro(!c||!c.length||!c[0].CodigoUsuario,"Erro na criação do Usuario");const d=c[0].CodigoUsuario;o=`\n            update Contato set codigoUsuario=${$utils.sqlNum(d)}, idUsuario=${$utils.sqlStr(c[0].id)}\n            where codigoContato = ${$utils.sqlNum(t)}`;const m=await $utils.executarSql(o,this.dados.baseDados);$utils.gconsole.log("CriarBanco","retUpdateContatoCpf",m),o=`\n            insert into usuarioPermissaoSistema (codigoClienteSistema, codigoGrupo, codigoUsuario)\n            Select\n              ${$utils.sqlNum(n)} codigoClienteSistema,\n              ${$utils.sqlNum(s)} codigoGrupo,\n              ${$utils.sqlNum(d)} codigoUsuario\n            --where not exists(select 1 from usuarioPermissaoSistema where codigoClienteSistema = ${$utils.sqlNum(n)} and codigoGrupo = ${$utils.sqlNum(s)} and codigoUsuario = ${$utils.sqlNum(d)})\n            select * from usuarioPermissaoSistema where codigoClienteSistema = ${$utils.sqlNum(n)} and codigoGrupo = ${$utils.sqlNum(s)} and codigoUsuario = ${$utils.sqlNum(d)}`;const u=await $utils.executarSql(o,"GeeksPlat15A");if($utils.gconsole.log("CriarBanco","retUsuarioPermissaoSistema",u),$utils.verificarErro(!u||!u.length,"Erro na criação do UsuarioPermissaoSistema"),i&&a&&r){o=`\n              insert into empresaUsuarioPermissao (codigoUsuario, codigoContato, codigoEmpresa)\n              Select\n              ${$utils.sqlNum(d)} codigoUsuario,\n              ${$utils.sqlNum(r)} codigoContato,\n              ${$utils.sqlNum(i)} codigoEmpresa\n              --where not exists(select 1 from empresaUsuarioPermissao where codigoUsuario = ${$utils.sqlNum(d)} and codigoEmpresa = ${$utils.sqlNum(a)})\n              select * from empresaUsuarioPermissao where codigoUsuario = ${$utils.sqlNum(d)} and codigoEmpresa = ${$utils.sqlNum(i)}`;const e=await $utils.executarSql(o,this.dados.baseDados);$utils.gconsole.log("CriarBanco","retEmpresaUsuarioPermissaoErp",e),$utils.verificarErro(!e||!e.length,"Erro na criação da EmpresaUsuarioPermissao Erp"),o=`\n              insert into empresaUsuarioPermissao (codigoUsuario, codigoContato, codigoEmpresa)\n              Select\n              ${$utils.sqlNum(d)} codigoUsuario,\n              ${$utils.sqlNum(r)} codigoContato,\n              ${$utils.sqlNum(i)} codigoEmpresa\n              --where not exists(select 1 from empresaUsuarioPermissao where codigoUsuario = ${$utils.sqlNum(d)} and codigoEmpresa = ${$utils.sqlNum(i)})\n              select * from empresaUsuarioPermissao where codigoUsuario = ${$utils.sqlNum(d)} and codigoEmpresa = ${$utils.sqlNum(i)}`;const t=await $utils.executarSql(o,"GeeksPlat15A");$utils.gconsole.log("CriarBanco","retEmpresaUsuarioPermissaoPlat",t),$utils.verificarErro(!t||!t.length,"Erro na criação da EmpresaUsuarioPermissao Plat")}o=`\n            insert into grupoPermissao (codigoGrupo, codigoObjeto, permitir)\n            Select\n              ${$utils.sqlNum(s)} codigoGrupo,\n              so.codigoObjeto,\n              1 permitir\n            from sistemaObjeto so\n            where codigoSistema = ${$utils.sqlNum(this.dados.codigoSistema)}\n              --and not exists(select 1 from grupoPermissao gp where so.codigoObjeto = gp.codigoObjeto and codigoGrupo = ${$utils.sqlNum(s)})\n            select * from grupoPermissao gp where codigoGrupo = ${$utils.sqlNum(s)}`;const p=await $utils.executarSql(o,"GeeksPlat15A");$utils.gconsole.log("CriarBanco","retGrupoPermissao",p),p&&p.length||this.$q.notifyError("Sistema não possui objetos associados para liberar permissões"),this.$q.notifyPositive("Usuario, Empresa, Grupo e Permissões criados com sucesso"),o=`exec SP_CriarBase_ParametrizacaoInicial ${$utils.sqlNum(this.dados.codigoSistema)}, ${$utils.sqlStr(this.dados.segmento)}`;const h=await $utils.executarSql(o,this.dados.baseDados);$utils.gconsole.log("CriarBanco",o,h),this.$q.notifyPositive("Parametrização inicial realizada com sucesso"),o=`\n            declare @baseDados varchar(250) = ${$utils.sqlStr(this.dados.baseDados)}\n            declare @ativo int = ${$utils.sqlNum(this.servidor.ativoSincronismo)}\n            update sincronismoBanco set ativo=@ativo where bancoDeDados=@baseDados\n            if @@Rowcount = 0\n            begin\n              insert into sincronismoBanco (bancoDeDados, ativo) values (@baseDados, @ativo)\n            end`,await $utils.executarSql(o,"GeeksPlat15A"),this.$q.notifyPositive("Sincronismo ativado para o banco")}}catch(e){this.$q.notifyError("Erro na criação do banco",e)}finally{this.$q.loading.hide()}}},watch:{"dados.codigoSistema"(e){this.servidor=this.sistemasOptisoul.find((o=>o.valor===e))?this.servidorOptisoul:this.servidorB15,this.dados.segmento=this.sistemasOptisoul.find((o=>o.valor===e))?"Ótica":this.dados.segmento}},async mounted(){this.logado=$db.usuario.logado,await this.atualiza()}},ANe=(0,T.Z)(PNe,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-toolbar"),c=(0,a.resolveComponent)("campo"),d=(0,a.resolveComponent)("row"),m=(0,a.resolveComponent)("card"),u=(0,a.resolveComponent)("q-page"),p=(0,a.resolveComponent)("q-btn"),h=(0,a.resolveComponent)("q-footer"),C=(0,a.resolveComponent)("q-form");return(0,a.openBlock)(),(0,a.createBlock)(C,{onSubmit:l.criarBanco},{default:(0,a.withCtx)((()=>[r.logado.administrador&&[1,2].includes(r.logado.grupoInterno)?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"bg-gradiente text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:""},{default:(0,a.withCtx)((()=>[DNe])),_:1})])),_:1}),(0,a.createElementVNode)("div",qNe,[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{col:"3",modelValue:r.dados.cnpj,"onUpdate:modelValue":o[0]||(o[0]=e=>r.dados.cnpj=e),modelModifiers:{trim:!0},rotulo:"CNPJ",mask:"##.###.###/####-##"},null,8,["modelValue"]),(0,a.createVNode)(c,{col:"9",modelValue:r.dados.fantasia,"onUpdate:modelValue":o[1]||(o[1]=e=>r.dados.fantasia=e),modelModifiers:{trim:!0},rotulo:"Fantasia"},null,8,["modelValue"]),(0,a.createVNode)(c,{col:"12",modelValue:r.dados.razaoSocial,"onUpdate:modelValue":o[2]||(o[2]=e=>r.dados.razaoSocial=e),modelModifiers:{trim:!0},rotulo:"Razão Social"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{col:"12",modelValue:r.dados.baseDados,"onUpdate:modelValue":o[3]||(o[3]=e=>r.dados.baseDados=e),modelModifiers:{trim:!0},rotulo:"Base de Dados"},null,8,["modelValue"]),(0,a.createVNode)(c,{col:"6",modelValue:r.dados.codigoSistema,"onUpdate:modelValue":o[4]||(o[4]=e=>r.dados.codigoSistema=e),rotulo:"Sistema",tipo:"seletor",opcoes:r.sistemas},null,8,["modelValue","opcoes"]),1===r.logado.grupoInterno?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,col:"3",modelValue:r.dados.segmento,"onUpdate:modelValue":o[5]||(o[5]=e=>r.dados.segmento=e),modelModifiers:{trim:!0},rotulo:"Segmento"},null,8,["modelValue"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(c,{col:"3",modelValue:r.servidor.codigo,"onUpdate:modelValue":o[6]||(o[6]=e=>r.servidor.codigo=e),rotulo:"Servidor","somente-leitura":""},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{col:"3",modelValue:r.dados.cpfUsuario,"onUpdate:modelValue":o[7]||(o[7]=e=>r.dados.cpfUsuario=e),modelModifiers:{trim:!0},rotulo:"CPF usuario",mask:"###.###.###-##"},null,8,["modelValue"]),(0,a.createVNode)(c,{col:"9",modelValue:r.dados.nomeUsuario,"onUpdate:modelValue":o[8]||(o[8]=e=>r.dados.nomeUsuario=e),modelModifiers:{trim:!0},rotulo:"Nome"},null,8,["modelValue"])])),_:1})])),_:1})])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(h,{class:"bg-light no-shadow q-pa-sm text-right u-bordaCima"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",FNe,[(0,a.createVNode)(n,{class:"text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{flat:"",type:"submit",label:"Criar",class:"bg-primary text-white"})])),_:1})])),_:1})])])),_:1})])),_:1},8,["onSubmit"])}]]);Z()(PNe,"components",{QForm:fo.Z,QPage:se.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QFooter:Te.Z,QBtn:H.Z});const BNe=(0,a.createTextVNode)(" Painel sincronismo "),LNe={class:"u-container"},ONe={class:"row q-col-gutter-sm q-pb-sm no-shadow"},zNe={class:"col-12 col-md-2"},jNe={class:"bg-white q-mt-md fit"},$Ne={class:"row items-start"},UNe={class:"col q-pa-md"},ZNe=(0,a.createElementVNode)("div",{class:"row text-body1"},"Processar no servidor",-1),QNe=(0,a.createElementVNode)("div",{class:"row q-pt-md"},[(0,a.createElementVNode)("small",null,"Inf. recebida")],-1),RNe={class:"row"},GNe=(0,a.createElementVNode)("div",{class:"row q-pt-md"},[(0,a.createElementVNode)("small",null,"Inf. a descer")],-1),HNe={class:"row"},JNe=(0,a.createElementVNode)("div",{class:"row q-pt-md"},[(0,a.createElementVNode)("small",null,"Último sincronismo")],-1),YNe={class:"row"},XNe=(0,a.createElementVNode)("div",{class:"row q-pt-md"},[(0,a.createElementVNode)("small",null,"Calcular")],-1),WNe={class:"row"},KNe=(0,a.createElementVNode)("div",{class:"row q-pt-md"},[(0,a.createElementVNode)("small",null,"Último cálculo")],-1),eVe={class:"row"},oVe={class:"col-auto q-py-sm"},tVe={class:"col-12 col-md-10"},aVe={class:"bg-white q-mt-md q-pa-md fit"},iVe=(0,a.createElementVNode)("div",{class:"row text-body1"},[(0,a.createElementVNode)("strong",null,"Eventos (log)")],-1),rVe={data:()=>({campos:{subir:"",descer:"",ultimoSincronismo:"",calcular:"",ultimoCalcular:""},dbSincronismo:$db.sincronismo}),methods:{async atualizar(){try{this.$utils.gconsole.log("PainelSincronismo","atualizar"),this.$q.loading.show();const e=await this.$utils.geeksApi({consultarFilas:{funcao:"BC338DFC-2E63-4D26-8688-59CCBDBDEFFE"}});this.campos=e.data.consultarFilas}catch(e){this.$q.notifyError("Erro na comunicação com o servidor",e)}finally{this.$q.loading.hide()}}},mounted(){this.$utils.gconsole.log("PainelSincronismo","mounted"),this.atualizar()}},lVe=(0,T.Z)(rVe,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-toolbar"),c=(0,a.resolveComponent)("q-separator"),d=(0,a.resolveComponent)("q-btn"),m=(0,a.resolveComponent)("q-page");return(0,a.openBlock)(),(0,a.createBlock)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"bg-gradiente text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[BNe])),_:1})])),_:1}),(0,a.createElementVNode)("div",LNe,[(0,a.createElementVNode)("div",ONe,[(0,a.createElementVNode)("div",zNe,[(0,a.createElementVNode)("div",jNe,[(0,a.createElementVNode)("div",$Ne,[(0,a.createElementVNode)("div",UNe,[ZNe,(0,a.createVNode)(c,{class:"q-mt-md"}),QNe,(0,a.createElementVNode)("div",RNe,[(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(r.campos.subir),1)]),GNe,(0,a.createElementVNode)("div",HNe,[(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(r.campos.descer),1)]),JNe,(0,a.createElementVNode)("div",YNe,[(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.$filters.hora(r.campos.ultimoSincronismo)),1)]),XNe,(0,a.createElementVNode)("div",WNe,[(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(r.campos.calcular),1)]),KNe,(0,a.createElementVNode)("div",eVe,[(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.$filters.hora(r.campos.ultimoCalcular)),1)])]),(0,a.createElementVNode)("div",oVe,[(0,a.createVNode)(d,{color:"primary",dense:"",flat:"",icon:"refresh",onClick:l.atualizar,round:""},null,8,["onClick"])])])])]),(0,a.createElementVNode)("div",tVe,[(0,a.createElementVNode)("div",aVe,[iVe,(0,a.createVNode)(c,{class:"q-mt-md"}),(0,a.createElementVNode)("pre",null,(0,a.toDisplayString)(r.dbSincronismo.log),1)])])])])])),_:1})}]]);Z()(rVe,"components",{QPage:se.Z,QToolbar:O.Z,QToolbarTitle:G.Z,QSeparator:$.Z,QBtn:H.Z}),t(61901);const sVe={},nVe=(0,T.Z)(sVe,[["render",function(e,o,t,i,r,l){return(0,a.openBlock)(),(0,a.createElementBlock)("div")}]]),cVe=e=>((0,a.pushScopeId)("data-v-a20723fe"),e=e(),(0,a.popScopeId)(),e),dVe=cVe((()=>(0,a.createElementVNode)("span",{class:"q-subheading text-white text-weight-medium"},"Pesquisa de Satisfação",-1))),mVe={key:0},uVe=cVe((()=>(0,a.createElementVNode)("div",{class:"row q-mb-sm"},[(0,a.createElementVNode)("div",{class:"col-12"},[(0,a.createElementVNode)("p",{class:"q-title text-weight-medium text-white q-ma-xs"},"Qual a probabilidade de você indicar o B15 para um amigo ou parceiro?"),(0,a.createElementVNode)("p",{class:"q-body q-ma-xs",style:{color:"rgba(255,255,255,.6)"}},"Escolha uma nota de 1 a 10.")])],-1))),pVe={class:"row",id:"pontuacao",style:{"margin-left":"-4px"}},hVe={key:1,class:"row animate-pop"},CVe={class:"col-12 q-mb-sm"},vVe={class:"q-title text-weight-medium text-white q-ma-xs"},fVe={class:"col-12 col-lg-6 q-my-sm"},NVe={class:"col-12 col-lg-6 q-my-sm"},VVe={class:"col-12 q-mt-sm"},gVe={components:{},computed:{},data:()=>({voted:!1,grade:1}),methods:{vote(e){this.voted=!0,this.grade=e}}},xVe=(0,T.Z)(gVe,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-icon"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-input"),u=(0,a.resolveComponent)("q-field"),p=(0,a.resolveComponent)("q-page"),h=(0,a.resolveComponent)("q-page-container"),C=(0,a.resolveComponent)("q-layout");return(0,a.openBlock)(),(0,a.createBlock)(C,{class:"gradienteAzul"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"q-pa-none q-ma-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"u-container",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"transparent","text-color":"white",class:"q-py-sm q-mb-sm q-px-none"},{default:(0,a.withCtx)((()=>[!0===r.voted?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,dense:"",flat:"",icon:"arrow_back",round:"",onClick:o[0]||(o[0]=e=>r.voted=!1)})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{name:"sentiment_satisfied_alt",color:"white",class:"q-mr-sm q-pr-xs q-headline"}),dVe])),_:1})])),_:1}),!1===r.voted?((0,a.openBlock)(),(0,a.createElementBlock)("span",mVe,[uVe,(0,a.createElementVNode)("div",pVe,[(0,a.createVNode)(s,{color:"red-10",size:"lg",label:"1",class:"q-ma-xs col-12 col-md",onClick:o[1]||(o[1]=e=>l.vote(1))}),(0,a.createVNode)(s,{color:"red-8",size:"lg",label:"2",class:"q-ma-xs col-12 col-md",onClick:o[2]||(o[2]=e=>l.vote(2))}),(0,a.createVNode)(s,{color:"orange-8",size:"lg",label:"3",class:"q-ma-xs col-12 col-md",onClick:o[3]||(o[3]=e=>l.vote(3))}),(0,a.createVNode)(s,{color:"amber-6",size:"lg",label:"4",class:"q-ma-xs col-12 col-md",onClick:o[4]||(o[4]=e=>l.vote(4))}),(0,a.createVNode)(s,{color:"yellow-14",size:"lg",label:"5",class:"q-ma-xs col-12 col-md",onClick:o[5]||(o[5]=e=>l.vote(5))}),(0,a.createVNode)(s,{color:"lime",size:"lg",label:"6",class:"q-ma-xs col-12 col-md",onClick:o[6]||(o[6]=e=>l.vote(6))}),(0,a.createVNode)(s,{color:"light-green",size:"lg",label:"7",class:"q-ma-xs col-12 col-md",onClick:o[7]||(o[7]=e=>l.vote(7))}),(0,a.createVNode)(s,{color:"light-green-6",size:"lg",label:"8",class:"q-ma-xs col-12 col-md",onClick:o[8]||(o[8]=e=>l.vote(8))}),(0,a.createVNode)(s,{color:"green",size:"lg",label:"9",class:"q-ma-xs col-12 col-md",onClick:o[9]||(o[9]=e=>l.vote(9))}),(0,a.createVNode)(s,{color:"green-8",size:"lg",label:"10",class:"q-ma-xs col-12 col-md",onClick:o[10]||(o[10]=e=>l.vote(10))})])])):(0,a.createCommentVNode)("",!0),!0===r.voted?((0,a.openBlock)(),(0,a.createElementBlock)("div",hVe,[(0,a.createElementVNode)("div",CVe,[(0,a.createElementVNode)("p",vVe,"Você deu nota "+(0,a.toDisplayString)(r.grade)+".",1)]),(0,a.createElementVNode)("div",fVe,[(0,a.createVNode)(u,{class:"q-px-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"bg-light q-px-md","float-label":"O que você mais gosta?",rows:"3",type:"textarea"})])),_:1})]),(0,a.createElementVNode)("div",NVe,[(0,a.createVNode)(u,{class:"q-px-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"bg-light q-px-md","float-label":"O que você não gosta?",rows:"3",type:"textarea"})])),_:1})]),(0,a.createElementVNode)("div",VVe,[(0,a.createVNode)(s,{color:"primary",size:"lg",label:"ENVIAR",class:"full-width q-mx-sm"})])])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-a20723fe"]]);Z()(gVe,"components",{QLayout:ae.Z,QPageContainer:le.Z,QPage:se.Z,QToolbar:O.Z,QBtn:H.Z,QToolbarTitle:G.Z,QIcon:L.Z,QField:Sp.Z,QInput:re.Z});const bVe=[{path:"/",meta:{requiresAuth:!1},redirect:{name:"Home"}},{name:"HomeDashboard",path:"/homedashboard",component:kNe,meta:{requiresAuth:!0}},{path:"/branca",component:nVe,meta:{requiresAuth:!0}},{path:"/nps",component:xVe,meta:{requiresAuth:!0}},{path:"/testecomponente",component:()=>t.e(133).then(t.bind(t,67133)),meta:{requiresAuth:!1}},{path:"/geeks",component:IH,meta:{requiresAuth:!1}},{path:"/ricardo",component:IH,meta:{requiresAuth:!1}},{path:"/capotabebidas",component:IH,meta:{requiresAuth:!1}},{name:"LayoutBarraTopoHomeDash",component:qfe,redirect:{name:"Home"},children:[{name:"HomeDashboard",path:"/homedashboard",component:kNe,meta:{requiresAuth:!0}}]},{name:"layoutBarraTopo",component:afe,redirect:{name:"Home"},children:[{name:"Home",path:"/home",component:jfe,meta:{requiresAuth:!0}},{name:"Site",path:"/site/:id?",component:VA,meta:{requiresAuth:!0}},{name:"Dev",path:"/dev",component:()=>Promise.resolve().then(t.bind(t,26929)),meta:{requiresAuth:!1}},{name:"Dev",path:"/dev/campos",component:()=>t.e(750).then(t.bind(t,59750)),meta:{requiresAuth:!1}},{name:"Caixa",path:"/caixa/:id?",component:KC,meta:{requiresAuth:!0},redirect:{name:"CaixaEmpresas"},children:[{name:"CaixaEmpresas",path:"empresas",component:$f},{name:"CaixaTesouraria",path:"tesouraria",component:ng}]},{name:"Configuracoes",path:"/configuracoes/:id?",component:ww,meta:{requiresAuth:!0},children:[{name:"ConfiguracoesEmpresas",path:"empresas",component:l_},{name:"ConfiguracoesUsuarios",path:"usuarios",component:j_},{name:"ConfiguracoesDocumentosFiscais",path:"documentos-fiscais",component:Y_},{name:"ConfiguracoesImpostos",path:"configuracoes-impostos",component:QM},{name:"ConfiguracoesSped",path:"sped",component:dy},{name:"ConfiguracoesVendas",path:"vendas",component:gI},{name:"ConfiguracoesFinanceiro",path:"financeiro",component:vS}]},{name:"Atendimento",path:"/atendimento/:id?",component:Lo,meta:{requiresAuth:!0},beforeEnter(e,o,t){if(e.params.id)return t(!0);t({name:"Atendimento",params:{id:localStorage.getItem("contatoSelecionado")||"0"}})},children:[{name:"AtendimentoAnotacoes",path:"anotacoes",component:Go},{name:"AtendimentoContato",path:"contato",component:GM.Z},{name:"AtendimentoFinanceiro",path:"financeiro",component:cr},{name:"AtendimentoOticaReceita",path:"otica-receita",component:nl},{name:"AtendimentoVenda",path:"venda",component:qp},{name:"AtendimentoFatura",path:"fatura",component:Wh},{name:"AtendimentoEquipamentos",path:"equipamentos",component:fC}]},{name:"Qg",path:"/qg/:id?",component:Fk,meta:{requiresAuth:!0},children:[{name:"QgQg",path:"qg",component:zq},{name:"QgEquipe",path:"equipe",component:gF},{name:"QgEstoque",path:"estoque",component:HF}]},{name:"Cockpit",path:"/cockpit/:id?",component:Cg,meta:{requiresAuth:!0},children:[{name:"CockpitVendedor",path:"vendedor",component:qx},{name:"CockpitEnvelopes",path:"envelopes",component:nb,props:!0},{name:"CockpitPerformance",path:"performance",component:zb},{name:"CockpitVendas",path:"vendas",component:iw,props:!0},{name:"CockpitFaturas",path:"faturas",component:gw,props:!0}]},{name:"pdv",path:"/pdv/:id?",component:tW,meta:{requiresAuth:!0}},{name:"NFSe",path:"/nfse/",component:aW.Z,meta:{requiresAuth:!0}},{name:"NFSeLista",path:"/nfselista/",component:x1,meta:{requiresAuth:!0}},{name:"NFSeLista",path:"/nfselista/",component:x1,meta:{requiresAuth:!0}},{name:"NFSeLista",path:"/nfselista/",component:x1,meta:{requiresAuth:!0}},{name:"Modelo",path:"/Modelo/:id?",component:e8,meta:{requiresAuth:!0}},{name:"Campanhas",path:"/Campanhas/:id?",component:s2,meta:{requiresAuth:!0}},{name:"Contatos",path:"/Contatos/:id?",component:ST,meta:{requiresAuth:!0}},{name:"Itens",path:"/itens/",component:ik.Z,meta:{requiresAuth:!0}},{name:"Item",path:"/item/:id?",component:ik.Z,meta:{requiresAuth:!0}},{name:"ItemFicha",path:"/item/:id?/ficha",component:ik.Z,meta:{requiresAuth:!0}},{name:"ItemEstoque",path:"/item/:id/estoque",component:ik.Z,meta:{requiresAuth:!0}},{name:"ItemFicha2",path:"/itemFicha",component:ik.Z,meta:{requiresAuth:!0}},{name:"ModeloFinanceiro",path:"/financeiro/:id?",component:cde,meta:{requiresAuth:!0}},{name:"RelatoriosLayout",path:"/relatorios/:id?",component:WF,meta:{requiresAuth:!0},children:[{name:"RelatoriosFinanceiro",path:"financeiro",component:VP,children:[{name:"FinanceiroDRE",path:"dre",component:wP},{name:"FinanceiroBalanco",path:"balanco",component:SP},{name:"FinanceiroFluxo",path:"fluxo",component:DP},{name:"FinanceiroResultado",path:"resultado",component:AP}]},{name:"RelatoriosVendas",path:"vendas",component:oP,props:!0},{name:"RelatoriosEstoque",path:"estoque",component:iP},{name:"RelatoriosFaturamento",path:"faturamento",component:sP,props:!0},{name:"RelatoriosFiscal",path:"fiscal",component:dP,props:!0},{name:"RelatoriosCompras",path:"compras",component:pP,props:!0}]},{name:"Desenvolvedor",path:"/desenvolvedor",component:ak,meta:{requiresAuth:!0}},{name:"AdmEnvelopes",path:"/admenvelopes",component:Ame,meta:{requiresAuth:!0}},{name:"AdmCustom",path:"/admcustom",component:jue,meta:{requiresAuth:!0}},{name:"AdmOS",path:"/admos",component:lue,meta:{requiresAuth:!0}},{name:"Kanban",path:"/kanban",component:rpe,meta:{requiresAuth:!0}},{name:"FunilVendas",path:"/funilvendas",component:jpe,meta:{requiresAuth:!0}},{name:"Tarefas",path:"/tarefas",component:Cve,meta:{requiresAuth:!0}},{name:"NFe",path:"/nfe",component:dk,meta:{requiresAuth:!0},redirect:{name:"nfeLista"},children:[{name:"nfeLista",path:"lista",component:Mk}]},{name:"MenuFiscal",path:"/menu-fiscal",component:{},meta:{requiresAuth:!0}},{name:"Plataforma15",path:"/plataforma15/:objeto/:id?",component:nVe,meta:{requiresAuth:!0}},{name:"CriarBanco",path:"/criar-banco",component:ANe,meta:{requiresAuth:!0}},{name:"PainelSincronismo",path:"/painel-sincronismo",component:lVe,meta:{requiresAuth:!0}},{name:"Producoes",path:"/producoes",component:()=>t.e(82).then(t.bind(t,18841)),meta:{requiresAuth:!0}},{name:"Contratos",path:"/contratos",component:()=>t.e(919).then(t.bind(t,99030)),meta:{requiresAuth:!0}},{name:"VendasLista",path:"/vendas",component:()=>t.e(987).then(t.bind(t,64139)),meta:{requiresAuth:!0}}]},{name:"Editor",path:"/editor/:id?/:versao?",component:Rve,meta:{requiresAuth:!0}},{name:"Imprimir",path:"/imprimir/:nome/:parametro?",component:Xve,meta:{requiresAuth:!0}},{name:"Autenticacao",path:"/autenticacao",component:wC,redirect:{name:"AutenticacaoEntrar"},children:[{name:"AutenticacaoBancos",path:"bancos-de-dados/:operacao?",component:zC,meta:{requiresAuth:!0}},{name:"AutenticacaoEntrar",path:"entrar",component:QC}]},{name:"ClubApp",path:"/clubapp/:id?",component:IL,meta:{requiresAuth:!0}},{name:"ClubApp2",path:"/clubapp2/:id?",component:BO,meta:{requiresAuth:!0}},{name:"ClubApp3",path:"/meub15/:id?",component:eQ,meta:{requiresAuth:!0}},{name:"Club",path:"/club/:id?",component:fG,meta:{requiresAuth:!0}},{name:"ClubProdutoSingle",path:"/clubprodutosingle/:id?",component:iJ,meta:{requiresAuth:!0}},{name:"ClubSingle",path:"/clubsingle/:id?",component:IH,meta:{requiresAuth:!0}},{name:"Pupilometro",path:"/pupilometro",component:Wr.Z,meta:{requiresAuth:!0}},{path:"/:catchAll(.*)*",component:()=>Promise.resolve().then(t.bind(t,61901))}],wVe=(0,Je.BC)((function(){const e=Ye.PO,o=(0,Ye.p7)({scrollBehavior:()=>({y:0}),routes:bVe,history:e("/"),mode:"history",base:"/"});return o.beforeEach(((e,o,t)=>{-1!==window.location.href.search("http://app")&&(window.location.href=window.location.href.replace("http:","https:"));const a=e.matched.some((e=>e.meta.requiresAuth)),i=JSON.parse(localStorage.getItem("usuario"))||!1,r=i&&"string"==typeof i.token;if($utils.gconsole.log("router",`de:${o.name} para:${e.name} requerAutenticacao:${a} possuiToken:${r}`),"Dev"===e.name||["/testeComponente","/geeks","/ricardo","/capotabebidas"].find((o=>e.path===o)))return t(!0);if(!a)return t(!r||"/");if(!r)return t({name:"AutenticacaoEntrar"});if(e.matched.some((e=>"AutenticacaoBancos"===e.name)))return t(!0);if("ok"!==localStorage.getItem("sincronismoPlat"))return t({name:"AutenticacaoBancos"});const s=new Date($db.cache.get("SincronismoUltimaDataHoraLocal"));return(new Date-s)/36e5>=100&&($db.cache.set("SincronismoBloqueadoPorFalta","1"),l.t.status.concluidoErp=!1),(!l.t.status.carregou||l.t.status.concluidoErp)&&"1"!==$db.cache.get("SincronismoBloqueadoPorFalta")||["CriarBanco","Desenvolvedor","Home","Plataforma15"].includes(e.name)?($utils.verificarConduta(),t(!0)):("1"===$db.cache.get("SincronismoBloqueadoPorFalta")&&$db.app.evento("notifyError","Voce estava há mais de 20 horas sem conexão, aguarde o final do sincronismo"),t({name:"Home"}))})),o}));var _Ve=t(53807),yVe=t(74839),IVe=t(59799),EVe=t(74478),SVe=t(67447),MVe=t(32531);const TVe={config:{notify:{position:"top"}},lang:_Ve.Z,directives:{Ripple:TNe.Z,TouchPan:yVe.Z},plugins:{BottomSheet:IVe.Z,Dialog:EVe.Z,Loading:ts.Z,Notify:SVe.Z,Screen:MVe.Z}};(0,t(91413).z)("/service-worker.js",{ready(){},registered(){},cached(){},updatefound(){},updated(){},offline(){},error(){}}),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&t.e(736).then(t.t.bind(t,49501,23)),async function(e,o){const t="function"==typeof wVe?await wVe({}):wVe,a=e(He);return a.use(i.Z,o),{app:a,router:t}}(a.createApp,TVe).then((e=>Promise.all([Promise.resolve().then(t.bind(t,90998)),Promise.resolve().then(t.bind(t,60007)),Promise.resolve().then(t.bind(t,65915)),Promise.resolve().then(t.bind(t,55141)),Promise.resolve().then(t.bind(t,70611)),Promise.resolve().then(t.bind(t,45894)),Promise.resolve().then(t.bind(t,21284)),Promise.resolve().then(t.bind(t,38896)),Promise.resolve().then(t.bind(t,52781)),Promise.resolve().then(t.bind(t,73023))]).then((o=>{const t=o.map((e=>e.default)).filter((e=>"function"==typeof e));!async function({app:e,router:o},t){let a=!1;const i=e=>{if(a=!0,"string"==typeof e&&/^https?:\/\//.test(e))return void(window.location.href=e);const t=(e=>{try{return o.resolve(e).href}catch(e){}return Object(e)===e?null:e})(e);null!==t&&(window.location.href=t)},r=window.location.href.replace(window.location.origin,"");for(let l=0;!1===a&&l<t.length;l++)try{await t[l]({app:e,router:o,ssrContext:null,redirect:i,urlPath:r,publicPath:"/"})}catch(e){return e&&e.url?void i(e.url):void console.error("[Quasar] boot error:",e)}!0!==a&&(e.use(o),e.mount("#q-app"))}(e,t)}))))},72585:(e,o,t)=>{"use strict";function a(e={}){const{ufOrigem:o,ufDestino:t,origemMercadoria:a}=e;if(~[1,2,6,7].indexOf(Number(a))&&o!==t)return 4;if(o===t){if(~["AC","AL","CE","ES","GO","MS","MT","PA","PI","RO","RR","SC"].indexOf(o))return 17;if(~["AM","AP","BA","DF","MA","MG","PB","PE","PR","RN","RS","SE","SP","TO"].indexOf(o))return 18;if("RJ"===o)return 19}return~["MG","PR","RS","RJ","SC","SP"].indexOf(t)?12:~["MG","PR","RS","RJ","SC","SP"].indexOf(o)?7:12}async function i(e={}){const{documento:o,documentosItens:t}=e,a=o?.codigoDocumentoOperacao,i=100===(await $erp().documentoOperacao.where({codigoDocumentoOperacao:a}).toArray())[0]?.finalidade;let r,l;r="FOB"===o.tipoFrete,l=o.valorFrete||0;const s=$utils.ratear({itens:t.map((e=>({id:e.id,valor:e.valorRealTotal}))),saldo:l});for(const a of t){const t=await $utils.impostoV2({documento:o,documentoItem:a});let l,n,c,d,m=s.find((e=>e.id===a.id))?.parcela||0;const u=t?.saida;l=a.valorRealTotal,n=((u?.pMVAST||0)/100+1)*a.valorRealTotal+(!i&&r?m:0),c=$utils.arredondar((u?.pICMS||0)/100*l),d=$utils.arredondar((u?.pICMSST||0)/100*n),d=$utils.arredondar(d-c);const{idEmpresa:p,idContato:h}=e.documento,C=await $erp().contato.get(h),v=await $erp().contato.get(p),f=await $erp().contatoEndereco.where({idContato:C.id}).toArray(),N=await $erp().contatoEndereco.where({idContato:v.id}).toArray();let V=f.find((e=>"principal"===(e.grupo||"").toLowerCase())),g=N.find((e=>"principal"===(e.grupo||"").toLowerCase()));V||(V=f[0]),g||(g=N[0]);let x=V?.uf;const b=g?.uf;x||(x=b);const w=b!==x;(d<0||!w)&&(d=0),a.valorIpi=$utils.arredondar((u?.pIPI||0)/100*a.valorRealTotal)||0,a.valorIcms=c,a.valorIcmsSt=0,a.valorDifal=0,i&&d&&(a.valorDifal=d),!i&&d&&(a.valorIcmsSt=d)}}t.d(o,{i:()=>a,J:()=>i})},38075:(e,o,t)=>{"use strict";t.d(o,{Z:()=>s});var a=t(4834),i=t(70154),r=t(11463),l=t(58294);async function s(e,o){const t=(await r.db.configuracoes.leValorComFiltroEmpresa("nfe.autorizadoDownloadXml",o)).split(" ");for(const o of t){const t=a.Z.executa(i.Z.infNFe.autXML.lista,{},this.tipo),r=(0,l.filtrarDigitos)(o);14===r.length?(t.escolhas.valor_escolha="CNPJ",t.escolhas.CNPJ=r,e.autXML.push(t)):11===r.length&&(t.escolhas.valor_escolha="CPF",t.escolhas.CPF=r,e.autXML.push(t))}}},31969:(e,o,t)=>{"use strict";t.d(o,{Z:()=>s});var a=t(11463),i=t(58294);function r(e,o,t){t in e&&(e[t]=o[t]);for(const a in e){const i=e[a];i&&i.constructor===Object&&r(i,o,t)}}function l(e,o,t){t in e&&"visivel"in e&&(e.visivel=!!o[t+"Visivel"]);for(const a in e){const i=e[a];i&&i.constructor===Object&&l(i,o,t)}}async function s({infNFe:e,det:o,descricaoProduto:t,item:s,documentoItem:n,cfop:c,empresa:d,destinatario:m,outrosNFe:u},p){e.ide.idDest=e.emit.enderEmit.UF!==e.dest.enderDest.UF&&e.emit.enderEmit.UF&&e.dest.enderDest.UF&&"65"!==e.ide.mod?"EX"===e.dest.enderDest.UF?"3":"2":"1";let h=s.ncm||"";h=8===h.length?h:(0,i.filtrarDigitos)(h);const C={emitente:{regime:e.emit.CRT,uf:e.emit.enderEmit.UF,tributacaoSetor:d.tributacaoSetor,tributacao:d.tributacao},destinatario:{regime:"SimplesNacional"===m.regime?"1":"Normal"===m.regime?"3":void 0,uf:e.dest.enderDest.UF,pessoa:{CPF:"PF",CNPJ:"PJ",idEstrangeiro:"Estrangeiro"}[e.dest.escolhas.valor_escolha]||void 0,tributacaoSetor:m.tributacaoSetor,tributacao:m.tributacao,indicadorIE:e.dest.indIEDest,consumidor:"0"===e.ide.indFinal?"N":"1"===e.ide.indFinal?"S":void 0,destino:e.ide.idDest},ncm:h,cfop:String(c||""),cest:s.cest,origemMercadoria:String(s.codigoOrigem||""),produto:s.descricao},v=await a.db.configuracaoImposto.pesquisa(C,p);if(!v||!v.ordem||!v.saida)return;C.emitente.uf!==C.destinatario.uf&&~["2","9"].indexOf(C.destinatario.indicadorIE)&&(o.imposto.ICMSUFDest.visivel=!0,o.imposto.ICMSUFDest.pFCPUFDest=Number(v.saida.icmsInterestadual.pFCPUFDest||0),o.imposto.ICMSUFDest.pICMSInter=v.saida.icmsInterestadual.pICMSInter,o.imposto.ICMSUFDest.pICMSInterPart=Number(v.saida.icmsInterestadual.pICMSInterPart||0),o.imposto.ICMSUFDest.pICMSUFDest=Number(v.saida.icmsInterestadual.pICMSUFDest||0),o.imposto.ICMSUFDest.pRedBCSTInter=Number(v.saida.icmsInterestadual.pRedBCSTInter||0));const f=o.prod,N=o.imposto,V=(0,i.clonarV2)(v.saida);f.CFOP=v.entrada.cfop,N.noXml_orig=v.entrada.origemMercadoria,N.noXml_CST=V.cstCsosn,N.noXml_CSOSN=V.cstCsosn,N.noXml_pICMS=V.pICMS||0,N.noXml_pRedBC=V.pRedBC||0,N.noXml_pFCP=V.pFCP||0,V.pMVAST=V.pMVAST||0,V.pRedBC=V.pRedBC||0,r(N,V,"modBC"),r(N,V,"modBCST"),r(N,V,"pFCP"),r(N,V,"pFCPST"),r(N,V,"pFCPST"),r(N,V,"pFCPSTRet"),r(N,V,"pICMS"),r(N,V,"pICMSEfet"),r(N,V,"pICMSST"),r(N,V,"pMVAST"),r(N,V,"pRedBC"),r(N,V,"pST"),l(N,V,"pFCP"),l(N,V,"pFCPST"),l(N,V,"pFCPSTRet"),l(N,V,"pICMSEfet"),l(N,V,"pST"),N.noXml_CSTPis=V.pisCst,N.noXml_pPIS=V.pPIS||0,N.noXml_CSTCofins=V.cofinsCst,N.noXml_pCOFINS=V.pCOFINS||0,v.entrada.cest&&(f.opcional.visivel=!0,f.opcional.CEST=(0,i.filtrarDigitos)(v.entrada.cest)),u.observacoesNFe||(u.observacoesNFe={});const g=(v.saida.observacaoNFe||"").trim();s?.id&&!u.observacoesNFe[s.id]&&g&&(u.observacoesNFe[s.id]=g),V.ipiVisivel&&(N.noXml_CSTIpi="1"===e.ide.tpNF?V.ipiCstEntrada:V.ipiCstSaida,N.noXml_pIPI=V.pIPI||0,N.noXml_cEnqIpi=V.ipiCEnq||0)}},47592:(e,o,t)=>{"use strict";t.d(o,{Z:()=>i});var a=t(11463);async function i(e,o){e.ide.serie=String(await a.db.configuracoes.leValorNumericoComFiltroEmpresa(this.serie,o,1)),e.ide.nNF=String(await a.db.documentoFiscalEletronico.proximoNumero(e.ide.tpAmb,"CPF"===e.emit.escolhas.valor_escolha?e.emit.escolhas.CPF:e.emit.escolhas.CNPJ,e.ide.mod,e.ide.serie,o))}},26504:(e,o,t)=>{"use strict";t.d(o,{Z:()=>r});var a=t(48409),i=t(58294);async function r(e,o){let t;i.gconsole.log("gerarJsonBaseD","obterConfiguracaoImposto"),e.descricaoProduto=`Produto '${e.documentoItem.descricaoItem||""}'`,(0,i.verificarErro)(!e.item.ncm,`${e.descricaoProduto} sem cadastro de NCM`),e.outrosNFe.cfop?(t=await(0,a.X)().cfop.where({cfop:Number(e.outrosNFe.cfop)}).first(),(0,i.verificarErro)(!t,"CFOP inválido")):((0,i.verificarErro)(!e.documentoItem.idCfop,`${e.descricaoProduto} sem CFOP definido`),t=await(0,a.X)().cfop.get(e.documentoItem.idCfop),(0,i.verificarErro)(!t,`${e.descricaoProduto} com CFOP inválido`)),e.cfop=t.cfop,await this.gerarConfiguracaoImposto(e,o)}},50162:(e,o,t)=>{"use strict";t.d(o,{Z:()=>s});var a=t(84573),i=t(11463),r=t(48409),l=t(58294);async function s(e){if(l.gconsole.log("gerarJsonBaseD","obterFatura"),e.documentoFatura=await(0,r.X)().documento.get(e.idDocumento),(0,l.verificarErro)(!e.documentoFatura,"Não foi possível carregar a fatura/venda"),(0,l.verificarErro)(!["Fatura","Venda"].includes(e.documentoFatura.tipo),"Fatura/venda não encontrada"),e.documentosAdicionais=await(0,r.X)().documento.where("idDocumentoAdicional").equals(e.idDocumento).toArray()||[],e.documentosVendas=await(0,r.X)().documento.where("idFatura").equals(e.idDocumento).toArray()||[],e.idsDocumentos=[e.idDocumento,...e.documentosAdicionais.map((e=>e.id)),...e.documentosVendas.map((e=>e.id))],l.gconsole.log("gerarJsonBaseD",{documentoFatura:e.documentoFatura,documentosAdicionais:e.documentosAdicionais,documentosVendas:e.documentosVendas}),e.totalDesconto=(0,l.arredondar)((e.documentoFatura.totalDesconto||0)+(0,l.somar)(e.documentosVendas,"totalDesconto")),"Venda"===e.documentoFatura.tipo)e.totalFrete=(0,l.arredondar)(e.documentoFatura.valorFrete||0),e.tipoFrete=e.documentoFatura.tipoFrete;else{e.totalFrete=(0,l.arredondar)((0,l.somar)(e.documentosVendas,"valorFrete")),e.tipoFrete=e.documentosVendas[0].tipoFrete;for(const o of e.documentosVendas)(0,l.verificarErro)(e.tipoFrete!==o.tipoFrete,"Divergência de frete entre as vendas, favor emitir a nota individualmente (por venda)")}"FOB"===e.tipoFrete?e.infNFe.transp.modFrete="1":e.infNFe.transp.modFrete=0===(0,l.arredondar)(e.totalFrete)?"9":"CIF"===e.tipoFrete?"0":"FOB"===e.tipoFrete?"1":"9","NFe"!==e.tipo&&(e.totalFrete=0),e.infNFe.ide.natOp=e.outrosNFe.operacao?e.outrosNFe.operacao:"4"===e.infNFe.ide.finNFe?"Devolução":"Venda","NFCe"===this.tipo&&(e.infNFe.infAdic.visivel=!0,e.infNFe.infAdic.infCpl=(0,l.removerCaracteresEspeciais)(await i.db.configuracoes.leValorComFiltroEmpresa("cupom.mensagem",e.documentoFatura.idEmpresa,"Obrigado e Volte Sempre!")),1===await i.db.configuracoes.leValorNumerico("nfce.offline")&&(e.infNFe.ide.tpEmis="9",e.infNFe.ide.opcional.visivel=!0,e.infNFe.ide.opcional.dhCont=a.Z.formatarDataNFe(new Date),e.infNFe.ide.opcional.xJust="Internet indisponivel")),e.outrosNFe.idDocumento=e.idDocumento}},64477:(e,o,t)=>{"use strict";t.d(o,{Z:()=>s});var a=t(4834),i=t(70154),r=t(48409),l=t(58294);async function s(e){if(l.gconsole.log("gerarJsonBaseD","obterFormasPagamento"),e.documentosPagamento=await(0,r.X)().documentoCondicaoPagamento.where({idDocumento:e.idDocumento}).toArray(),0===e.documentosPagamento.length&&"Venda"===e.documentoFatura.tipo){(0,l.verificarErro)(!e.documentoFatura.idFatura,"A venda não tem pagamento e não pertence a uma fatura");const o=await(0,r.X)().documento.get(e.documentoFatura.idFatura);(0,l.verificarErro)(!o,"Não foi possível carregar a fatura da venda"),e.documentosPagamento=await(0,r.X)().documentoCondicaoPagamento.where({idDocumento:o.id}).toArray(),e.vendaSemPagamento=!0}(0,l.verificarErro)(!e.documentosPagamento.length&&!e.vendaSemPagamento,"Não há pagamentos"),l.gconsole.log("gerarJsonBaseD","documentosPagamento",e.documentosPagamento);const o=[];for(const t of e.documentosPagamento){const s=await this.obterMeioPagamento(e,t.idFormaPagamento);let n=o.find((e=>e.tPag===s&&e.card.cAut===t.autorizacao));if(n)n.vPag=(0,l.arredondar)(n.vPag+t.valor);else{if(n=a.Z.executa(i.Z.infNFe.pag.detPag.lista,{},this.tipo),n.tPag=s,n.vPag=(0,l.arredondar)(t.valor),["03","04"].includes(s)&&(n.card.visivel=!0,n.card.tpIntegra="2",n.card.cAut=t.autorizacao),"99"===s&&(n.xPag="",t.idFormaPagamento)){const e=await(0,r.X)().formaPagamento.get(t.idFormaPagamento);n.xPag=(e?.descricao||"").trim()}o.push(n)}}(0,l.verificarErro)(0===o.length&&!e.vendaSemPagamento,"Não há pagamentos"),e.totalProdutos=(0,l.arredondar)(e.totalProdutos);const t=await(0,r.X)().financeiroTitulo.where({idFatura:e.idDocumento}).toArray(),s=(0,l.arredondar)((0,l.somar)(o,"vPag")),n=(0,l.arredondar)((0,l.somar)(t,"valorTotal")+e.totalServicos),c=(0,l.arredondar)(e.totalProdutos+e.totalFrete+e.totalDevolucao-e.totalDesconto-o.reduce(((e,o)=>"90"===o.tPag?o.vPag:0),0));for(const e of o)"99"!==e.tPag&&delete e.xPag,"90"===e.tPag&&(e.vPag=0);if(l.gconsole.log("gerarJsonBaseD",`\n    totalPagamentos: ${s}\n    totalProdutos: ${e.totalProdutos}\n    totalServicos: ${e.totalServicos}\n    totalFrete: ${e.totalFrete}\n    totalDesconto: ${e.totalDesconto}\n    totalDevolucao: ${e.totalDevolucao}\n    totalPagamentosCarnesServicos: ${n}\n    totalPagamentosNota: ${c}`),s>0&&s!==c){for(const e of o)e.vPag=(0,l.arredondar)(e.vPag*c/s);const e=(0,l.arredondar)((0,l.somar)(o,"vPag"));for(const t of o)"90"!==t.tPag&&(t.vPag=(0,l.arredondar)(t.vPag+c-e))}const d=(0,l.arredondar)(-e.totalDevolucao);d>0&&e.totalProdutos>0&&o.push({tPag:"99",vPag:d}),e.infNFe.pag.detPag=o}},9511:(e,o,t)=>{"use strict";async function a(e){if(e.totalFrete>0){const o=[];for(const t of e.infNFe.det){const e=t.prod;o.push({id:e.noXml_idDocumentoItem,valor:e.qCom*e.vUnCom-e.vDesc})}const t=$utils.ratear({itens:o,saldo:e.totalFrete});for(const o of e.infNFe.det){const e=o.prod,a=t.find((o=>o.id===e.noXml_idDocumentoItem));e.vFrete=a?.parcela||0}}}t.d(o,{Z:()=>a}),t(58294)},44465:(e,o,t)=>{"use strict";t.d(o,{Z:()=>n});var a=t(4834),i=t(70154),r=t(11463),l=t(48409),s=t(58294);async function n(e,o){s.gconsole.log("gerarJsonBaseD","obterItens");const t=await(0,l.X)().documentoItem.where("idDocumento").anyOf(e.idsDocumentos).sortBy("dataHoraEmissao");(0,s.verificarErro)(!t,"Não foi possível carregar os produtos"),s.gconsole.log("gerarJsonBaseD","documentosItens",t);const n=await r.db.configuracoes.leValorNumericoComFiltroEmpresa(this.usadesconto,e.outrosNFe.idContatoEmitente,1),c=await r.db.configuracoes.leValorNumerico("imposto.versao"),d=[];for(const r of t){let m=(0,s.arredondar)(r.total||0);if(0===(0,s.arredondar)(m)||!r.idItem)continue;if(["Serviço"].includes(r.tipoItem)){e.totalServicos+=m;continue}if("4"===e.infNFe.ide.finNFe){if(!(m<0)){e.totalDevolucao+=m;continue}}else if(m<0){e.totalDevolucao+=m;continue}const u=(0,s.arredondar)(r.quantidade||1,4);let p=(0,s.arredondar)(r.valorItem||0,4),h=(0,s.arredondar)(r.descontoItem||0,4),C=(0,s.arredondar)((r.descontoTotalRateado||0)+(r.descontoFaturaRateado||0),4);if(s.gconsole.log("gerarJsonBaseD",{quantidade:u,valorUnitarioItem:p,descontoUnitarioItem:h,descontoRateadoItem:C,valorUnitarioItemComDesconto:p-h-C/u,valorUnitarioItemComDescontoA:(0,s.arredondar)(p-h-C/u,4),totalItem:m,tipoItem:r.tipoItem,idItem:r.idItem,descricaoItem:r.descricaoItem}),["TLOE","TLOD"].includes(r.tipoItem))continue;if(["LOE","LOD"].includes(r.tipoItem)){const e=t.filter((e=>["TLOE","TLOD"].includes(e.tipoItem)&&e.idDocumentoItemPai===r.id));s.gconsole.log("gerarJsonBaseD","tratamentos",e);for(const o of e)h+=(0,s.arredondar)(o.descontoItem||0,4),C+=(0,s.arredondar)((o.descontoTotalRateado||0)+(o.descontoFaturaRateado||0),4),p=(0,s.arredondar)(p+o.valorItem||0,4),m+=o.total||0}let v=(0,s.arredondar)(h*u+C);0===n&&(p=(0,s.arredondar)(p-h-C/u,4),v=0),e.totalProdutos+=m,e.documentoItem=r,e.item=await(0,l.X)().item.get(r.idItem),(0,s.verificarErro)(!e.item,"Não foi possível carregar o cadastro do produto"),e.det=a.Z.executa(i.Z.infNFe.det.lista,{},this.tipo);const f=e.det.prod;let N=String(e.item.codigoBarras||"").padStart(13,"0");N.startsWith("999")&&(N="SEM GTIN"),f.cProd=String(e.item.referencia||e.item.codigoItem||"0").trim(),f.cEAN=N,f.xProd=(0,s.removerCaracteresEspeciais)(r.descricaoItem).substr(0,120).trim(),f.NCM=String(e.item.ncm||""),f.uCom=String(e.item.unidade||"UN").trim(),f.qCom=u||0,f.vUnCom=p||0,f.vDesc=v||0,"4"===e.infNFe.ide.finNFe&&(f.vUnCom=-f.vUnCom,f.vDesc=-f.vDesc),f.noXml_id=r.idItem,f.noXml_idDocumentoItem=r.id,e.pesoItens=(0,s.arredondar)((e.pesoItens||0)+Number(e.item.peso||0)*Number(u||1),3),2===c?await this.obterConfiguracaoImpostoV2(e,o):await this.obterConfiguracaoImposto(e),d.push(e.det)}if("4"===e.infNFe.ide.finNFe)(0,s.verificarErro)(0===d.length,"Não há produtos para devolução");else if((0,s.verificarErro)(0===d.length,"Não há produtos vendidos"),"Remessa"!==e.outrosNFe.operacao)for(const o of d)await this.obterAliquotasTributosIbpt(e,o);if(e.pesoItens>0&&"9"!==e.infNFe.transp.modFrete){const o=a.Z.executa(i.Z.infNFe.transp.vol.lista,{},this.tipo);o.pesoL=e.pesoItens,o.pesoB=e.pesoItens,e.infNFe.transp.vol.push(o)}s.gconsole.log("gerarJsonBaseD","itens",d),e.infNFe.det=d}},70154:(e,o,t)=>{"use strict";t.d(o,{Z:()=>i});const a=function(e){if(Array.isArray(e))return e.map((e=>a(e)));if("object"==typeof e&&null!==e){const o={};for(const t in e)o[t]=a(e[t]);return o}return e},i={infEvento:{cOrgao:{_titulo:"Código do órgão de recepção do Evento. Utilizar a Tabela do IBGE extendida, utilizar",_doc:"Código do órgão de recepção do Evento. Utilizar a Tabela do IBGE extendida, utilizar 91 para identificar o Ambiente Nacional (cOrgao)",_type:"TCOrgaoIBGE",_enumeration:[{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"23",label:"23"},{value:"24",label:"24"},{value:"25",label:"25"},{value:"26",label:"26"},{value:"27",label:"27"},{value:"28",label:"28"},{value:"29",label:"29"},{value:"31",label:"31"},{value:"32",label:"32"},{value:"33",label:"33"},{value:"35",label:"35"},{value:"41",label:"41"},{value:"42",label:"42"},{value:"43",label:"43"},{value:"50",label:"50"},{value:"51",label:"51"},{value:"52",label:"52"},{value:"53",label:"53"},{value:"91",label:"91 para identificar o Ambiente Nacional"}],_valorInic:"11"},tpAmb:{_titulo:"Identificação do Ambiente",_doc:"Identificação do Ambiente: 1 - Produção 2 - Homologação (tpAmb)",_type:"TAmb",_enumeration:[{value:"1",label:"1 - Produção"},{value:"2",label:"2 - Homologação"}],_valorInic:"1"},escolhas:{_titulo:"",_doc:"",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"CNPJ",_doc:"CNPJ (CNPJ)",_pattern:"[0-9]{0}|[0-9]{14}",_type:"TCnpjOpc",_valorInic:""},CPF:{_titulo:"CPF",_doc:"CPF (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_valorInic:""}},chNFe:{_titulo:"Chave de Acesso da NF-e vinculada ao evento",_doc:"Chave de Acesso da NF-e vinculada ao evento (chNFe)",_pattern:"[0-9]{44}",_type:"TChNFe",_valorInic:""},dhEvento:{_titulo:"Data e Hora do Evento, formato UTC (AAAA-MM-DDThh:mm:ssTZD, onde TZD = +hh:mm ou -hh:mm)",_doc:"Data e Hora do Evento, formato UTC (AAAA-MM-DDThh:mm:ssTZD, onde TZD = +hh:mm ou -hh:mm) (dhEvento)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))T(20|21|22|23|[0-1]\\d):[0-5]\\d:[0-5]\\d-0[1-4]:00",_valorInic:""},tpEvento:{_titulo:"Tipo do Evento",_doc:"Tipo do Evento (tpEvento)",_pattern:"[0-9]{6}",_enumeration:[{value:"110111",label:"110111"}],_valorInic:"110111"},nSeqEvento:{_titulo:"Seqüencial do evento para o mesmo tipo de evento.  Para maioria dos eventos será 1, nos casos em que possa existir mais de um evento, como é o caso da carta de correção, o autor do evento deve numerar de forma seqüencial.",_doc:"Seqüencial do evento para o mesmo tipo de evento.  Para maioria dos eventos será 1, nos casos em que possa existir mais de um evento, como é o caso da carta de correção, o autor do evento deve numerar de forma seqüencial. (nSeqEvento)",_pattern:"[1-9]|[1][0-9]{0,1}|20",_valorInic:""},verEvento:{_titulo:"Versão do Tipo do Evento",_doc:"Versão do Tipo do Evento (verEvento)",_enumeration:[{value:"1.00",label:"1.00"}],_valorInic:"1.00"},detEvento:{_titulo:"Schema XML de validação do evento do cancelamento 1101111",_doc:"Schema XML de validação do evento do cancelamento 1101111 (detEvento)",_valorInic:"",descEvento:{_titulo:"Descrição do Evento - “",_doc:"Descrição do Evento - “Cancelamento” (descEvento)",_enumeration:[{value:"Cancelamento",label:"Cancelamento”"}],_valorInic:"Cancelamento"},nProt:{_titulo:"Número do Protocolo de Status da NF-e. 1 posição (1 – Secretaria de Fazenda Estadual 2 – Receita Federal); 2 posições ano; 10 seqüencial no ano.",_doc:"Número do Protocolo de Status da NF-e. 1 posição (1 – Secretaria de Fazenda Estadual 2 – Receita Federal); 2 posições ano; 10 seqüencial no ano. (nProt)",_pattern:"[0-9]{15}",_type:"TProt",_valorInic:""},xJust:{_titulo:"Justificativa do cancelamento",_doc:"Justificativa do cancelamento (xJust)",_type:"TJust",_minLength:15,_maxLength:255,_valorInic:""}}},infEventoCC:{cOrgao:{_titulo:"Código do órgão de recepção do Evento. Utilizar a Tabela do IBGE extendida, utilizar",_doc:"Código do órgão de recepção do Evento. Utilizar a Tabela do IBGE extendida, utilizar 90 para identificar o Ambiente Nacional (cOrgao)",_type:"TCOrgaoIBGE",_enumeration:[{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"23",label:"23"},{value:"24",label:"24"},{value:"25",label:"25"},{value:"26",label:"26"},{value:"27",label:"27"},{value:"28",label:"28"},{value:"29",label:"29"},{value:"31",label:"31"},{value:"32",label:"32"},{value:"33",label:"33"},{value:"35",label:"35"},{value:"41",label:"41"},{value:"42",label:"42"},{value:"43",label:"43"},{value:"50",label:"50"},{value:"51",label:"51"},{value:"52",label:"52"},{value:"53",label:"53"},{value:"90",label:"90 para identificar o Ambiente Nacional"}],_valorInic:"11"},tpAmb:{_titulo:"Identificação do Ambiente",_doc:"Identificação do Ambiente: 1 - Produção 2 - Homologação (tpAmb)",_type:"TAmb",_enumeration:[{value:"1",label:"1 - Produção"},{value:"2",label:"2 - Homologação"}],_valorInic:"1"},escolhas:{_titulo:"",_doc:"",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"CNPJ",_doc:"CNPJ (CNPJ)",_pattern:"[0-9]{0}|[0-9]{14}",_type:"TCnpjOpc",_valorInic:""},CPF:{_titulo:"CPF",_doc:"CPF (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_valorInic:""}},chNFe:{_titulo:"Chave de Acesso da NF-e vinculada ao evento",_doc:"Chave de Acesso da NF-e vinculada ao evento (chNFe)",_pattern:"[0-9]{44}",_type:"TChNFe",_valorInic:""},dhEvento:{_titulo:"Data e Hora do Evento, formato UTC (AAAA-MM-DDThh:mm:ssTZD, onde TZD = +hh:mm ou -hh:mm)",_doc:"Data e Hora do Evento, formato UTC (AAAA-MM-DDThh:mm:ssTZD, onde TZD = +hh:mm ou -hh:mm) (dhEvento)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))T(20|21|22|23|[0-1]\\d):[0-5]\\d:[0-5]\\d-0[1-4]:00",_valorInic:""},tpEvento:{_titulo:"Tipo do Evento",_doc:"Tipo do Evento (tpEvento)",_pattern:"[0-9]{6}",_enumeration:[{value:"110110",label:"110110"}],_valorInic:"110110"},nSeqEvento:{_titulo:"Seqüencial do evento para o mesmo tipo de evento.  Para maioria dos eventos será 1, nos casos em que possa existir mais de um evento, como é o caso da carta de correção, o autor do evento deve numerar de forma seqüencial.",_doc:"Seqüencial do evento para o mesmo tipo de evento.  Para maioria dos eventos será 1, nos casos em que possa existir mais de um evento, como é o caso da carta de correção, o autor do evento deve numerar de forma seqüencial. (nSeqEvento)",_pattern:"[1-9]|[1][0-9]{0,1}",_valorInic:""},verEvento:{_titulo:"Versão do Tipo do Evento",_doc:"Versão do Tipo do Evento (verEvento)",_enumeration:[{value:"1.00",label:"1.00"}],_valorInic:"1.00"},detEvento:{_titulo:"Evento do carta de correção e1101110",_doc:"Evento do carta de correção e1101110 (detEvento)",_valorInic:"",descEvento:{_titulo:"Descrição do Evento - “”",_doc:"Descrição do Evento - “Carta de Correção” (descEvento)",_enumeration:[{value:"Carta de Correção",label:"Carta de Correção"},{value:"Carta de Correcao",label:"Carta de Correcao"}],_valorInic:"Carta de Correcao"},xCorrecao:{_titulo:"Correção a ser considerada",_doc:"Correção a ser considerada (xCorrecao)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_minLength:15,_maxLength:1e3,_valorInic:""},xCondUso:{_titulo:"Texto Fixo com as condições de uso da Carta de Correção",_doc:"Texto Fixo com as condições de uso da Carta de Correção (xCondUso)",_enumeration:[{value:"A Carta de Correção é disciplinada pelo § 1º-A do art. 7º do Convênio S/N, de 15 de dezembro de 1970 e pode ser utilizada para regularização de erro ocorrido na emissão de documento fiscal, desde que o erro não esteja relacionado com: I - as variáveis que determinam o valor do imposto tais como: base de cálculo, alíquota, diferença de preço, quantidade, valor da operação ou da prestação; II - a correção de dados cadastrais que implique mudança do remetente ou do destinatário; III - a data de emissão ou de saída.",label:"A Carta de Correção é disciplinada pelo § 1º-A do art. 7º do Convênio S/N, de 15 de dezembro de 1970 e pode ser utilizada para regularização de erro ocorrido na emissão de documento fiscal, desde que o erro não esteja relacionado com: I - as variáveis que determinam o valor do imposto tais como: base de cálculo, alíquota, diferença de preço, quantidade, valor da operação ou da prestação; II - a correção de dados cadastrais que implique mudança do remetente ou do destinatário; III - a data de emissão ou de saída"},{value:"A Carta de Correcao e disciplinada pelo paragrafo 1o-A do art. 7o do Convenio S/N, de 15 de dezembro de 1970 e pode ser utilizada para regularizacao de erro ocorrido na emissao de documento fiscal, desde que o erro nao esteja relacionado com: I - as variaveis que determinam o valor do imposto tais como: base de calculo, aliquota, diferenca de preco, quantidade, valor da operacao ou da prestacao; II - a correcao de dados cadastrais que implique mudanca do remetente ou do destinatario; III - a data de emissao ou de saida.",label:"A Carta de Correcao e disciplinada pelo paragrafo 1o-A do art. 7o do Convenio S/N, de 15 de dezembro de 1970 e pode ser utilizada para regularizacao de erro ocorrido na emissao de documento fiscal, desde que o erro nao esteja relacionado com: I - as variaveis que determinam o valor do imposto tais como: base de calculo, aliquota, diferenca de preco, quantidade, valor da operacao ou da prestacao; II - a correcao de dados cadastrais que implique mudanca do remetente ou do destinatario; III - a data de emissao ou de saida"}],_valorInic:"A Carta de Correcao e disciplinada pelo paragrafo 1o-A do art. 7o do Convenio S/N, de 15 de dezembro de 1970 e pode ser utilizada para regularizacao de erro ocorrido na emissao de documento fiscal, desde que o erro nao esteja relacionado com: I - as variaveis que determinam o valor do imposto tais como: base de calculo, aliquota, diferenca de preco, quantidade, valor da operacao ou da prestacao; II - a correcao de dados cadastrais que implique mudanca do remetente ou do destinatario; III - a data de emissao ou de saida."}}},infInut:{tpAmb:{_titulo:"Identificação do Ambiente: 1 - Produção 2 - Homologação",_doc:"Identificação do Ambiente: 1 - Produção 2 - Homologação (tpAmb)",_type:"TAmb",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Produção"},{valor:"2",rotulo:"2 - Homologação"}],_valorInic:"1"},xServ:{_titulo:"Serviço Solicitado",_doc:"Serviço Solicitado (xServ)",_tipo:"seletor",_enumeration:[{valor:"INUTILIZAR",rotulo:"INUTILIZAR"}],_valorInic:"INUTILIZAR"},cUF:{_titulo:"Código da UF do emitente",_doc:"Código da UF do emitente (cUF)",_type:"TCodUfIBGE",_tipo:"seletor",_enumeration:[{valor:"11",rotulo:"11"},{valor:"12",rotulo:"12"},{valor:"13",rotulo:"13"},{valor:"14",rotulo:"14"},{valor:"15",rotulo:"15"},{valor:"16",rotulo:"16"},{valor:"17",rotulo:"17"},{valor:"21",rotulo:"21"},{valor:"22",rotulo:"22"},{valor:"23",rotulo:"23"},{valor:"24",rotulo:"24"},{valor:"25",rotulo:"25"},{valor:"26",rotulo:"26"},{valor:"27",rotulo:"27"},{valor:"28",rotulo:"28"},{valor:"29",rotulo:"29"},{valor:"31",rotulo:"31"},{valor:"32",rotulo:"32"},{valor:"33",rotulo:"33"},{valor:"35",rotulo:"35"},{valor:"41",rotulo:"41"},{valor:"42",rotulo:"42"},{valor:"43",rotulo:"43"},{valor:"50",rotulo:"50"},{valor:"51",rotulo:"51"},{valor:"52",rotulo:"52"},{valor:"53",rotulo:"53"}],_valorInic:"11"},ano:{_titulo:"Ano de inutilização da numeração",_doc:"Ano de inutilização da numeração (ano)",_pattern:"[0-9]{2}",_type:"Tano",_tipo:"texto",_valorInic:""},CNPJ:{_titulo:"CNPJ do emitente",_doc:"CNPJ do emitente (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},mod:{_titulo:"Modelo",_doc:"Modelo da NF-e (55, 65 etc.) (mod)",_type:"TMod",_tipo:"seletor",_enumeration:[{valor:"55",rotulo:"55 - NF-e"},{valor:"65",rotulo:"65 - NFC-e"}],_valorInic:"55"},serie:{_titulo:"Série",_doc:"Série da NF-e (serie)",_pattern:"0|[1-9]{1}[0-9]{0,2}",_type:"TSerie",_tipo:"texto",_valorInic:""},nNFIni:{_titulo:"Número inicial",_doc:"Número da NF-e inicial (nNFIni)",_pattern:"[1-9]{1}[0-9]{0,8}",_type:"TNF",_tipo:"texto",_valorInic:""},nNFFin:{_titulo:"Número final",_doc:"Número da NF-e final (nNFFin)",_pattern:"[1-9]{1}[0-9]{0,8}",_type:"TNF",_tipo:"texto",_valorInic:""},xJust:{_titulo:"Justificativa do pedido de inutilização",_doc:"Justificativa do pedido de inutilização (xJust)",_type:"TJust",_tipo:"texto",_minLength:15,_maxLength:255,_valorInic:""}},infNFe:(r={ide:{_titulo:"identificação da NF-e",_doc:"identificação da NF-e (ide)",_tipo:"texto",_valorInic:"",cUF:{_titulo:"Código da UF do emitente do Documento Fiscal",_doc:"Código da UF do emitente do Documento Fiscal. Utilizar a Tabela do IBGE. (cUF)",_type:"TCodUfIBGE",_tipo:"seletor",_enumeration:[{valor:"11",rotulo:"11"},{valor:"12",rotulo:"12"},{valor:"13",rotulo:"13"},{valor:"14",rotulo:"14"},{valor:"15",rotulo:"15"},{valor:"16",rotulo:"16"},{valor:"17",rotulo:"17"},{valor:"21",rotulo:"21"},{valor:"22",rotulo:"22"},{valor:"23",rotulo:"23"},{valor:"24",rotulo:"24"},{valor:"25",rotulo:"25"},{valor:"26",rotulo:"26"},{valor:"27",rotulo:"27"},{valor:"28",rotulo:"28"},{valor:"29",rotulo:"29"},{valor:"31",rotulo:"31"},{valor:"32",rotulo:"32"},{valor:"33",rotulo:"33"},{valor:"35",rotulo:"35"},{valor:"41",rotulo:"41"},{valor:"42",rotulo:"42"},{valor:"43",rotulo:"43"},{valor:"50",rotulo:"50"},{valor:"51",rotulo:"51"},{valor:"52",rotulo:"52"},{valor:"53",rotulo:"53"}],_valorInic:"11"},cNF:{_titulo:"Código numérico que compõe a Chave de Acesso",_doc:"Código numérico que compõe a Chave de Acesso. Número aleatório gerado pelo emitente para cada NF-e. (cNF)",_pattern:"[0-9]{8}",_tipo:"texto",_valorInic:""},natOp:{_titulo:"Descrição da Natureza da Operação",_doc:"Descrição da Natureza da Operação (natOp)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},mod:{_titulo:"Código do modelo do Documento Fiscal",_doc:"Código do modelo do Documento Fiscal. 55 = NF-e; 65 = NFC-e. (mod)",_type:"TMod",_tipo:"seletor",_enumeration:[{valor:"55",rotulo:"55 - NF-e"},{valor:"65",rotulo:"65 - NFC-e"}],_valorInic:"55"},serie:{_titulo:"Série do Documento Fiscal",_doc:"Série do Documento Fiscal série normal 0-889 Avulsa Fisco 890-899 SCAN 900-999 (serie)",_pattern:"0|[1-9]{1}[0-9]{0,2}",_type:"TSerie",_tipo:"texto",_valorInic:""},nNF:{_titulo:"Número do Documento Fiscal",_doc:"Número do Documento Fiscal (nNF)",_pattern:"[1-9]{1}[0-9]{0,8}",_type:"TNF",_tipo:"texto",_valorInic:""},dhEmi:{_titulo:"Data e Hora de emissão do Documento Fiscal",_doc:"Data e Hora de emissão do Documento Fiscal (AAAA-MM-DDThh:mm:ssTZD) ex.: 2012-09-01T13:00:00-03:00 (dhEmi)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))T(20|21|22|23|[0-1]\\d):[0-5]\\d:[0-5]\\d([\\-,\\+](0[0-9]|10|11):00|([\\+](12):00))",_type:"TDateTimeUTC",_tipo:"dataHora",_valorInic:""},dhSaiEnt:{_titulo:"Data e Hora da saída ou de entrada da mercadoria / produto",_doc:"Data e Hora da saída ou de entrada da mercadoria / produto (AAAA-MM-DDTHH:mm:ssTZD) (dhSaiEnt) (Opcional)",_opcional:!0,_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))T(20|21|22|23|[0-1]\\d):[0-5]\\d:[0-5]\\d([\\-,\\+](0[0-9]|10|11):00|([\\+](12):00))",_type:"TDateTimeUTC",_tipo:"dataHora",_valorInic:""},tpNF:{_titulo:"Tipo do Documento Fiscal",_doc:"Tipo do Documento Fiscal (0 - entrada; 1 - saída) (tpNF)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - entrada"},{valor:"1",rotulo:"1 - saída"}],_valorInic:"0"},idDest:{_titulo:"Identificador de Local de destino da operação",_doc:"Identificador de Local de destino da operação (1-Interna;2-Interestadual;3-Exterior) (idDest)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Interna"},{valor:"2",rotulo:"2 - Interestadual"},{valor:"3",rotulo:"3 - Exterior"}],_valorInic:"1"},cMunFG:{_titulo:"Código do Município de Ocorrência do Fato Gerador",_doc:"Código do Município de Ocorrência do Fato Gerador (utilizar a tabela do IBGE) (cMunFG)",_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""},tpImp:{_titulo:"Formato de impressão do DANFE",_doc:"Formato de impressão do DANFE (0-sem DANFE;1-DANFe Retrato; 2-DANFe Paisagem;3-DANFe Simplificado;            4-DANFe NFC-e;5-DANFe NFC-e em mensagem eletrônica) (tpImp)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - sem DANFE"},{valor:"1",rotulo:"1 - DANFe Retrato"},{valor:"2",rotulo:"2 - DANFe Paisagem"},{valor:"3",rotulo:"3 - DANFe Simplificado"},{valor:"4",rotulo:"4 - DANFe NFC-e"},{valor:"5",rotulo:"5 - DANFe NFC-e em mensagem eletrônica"}],_valorInic:"0"},tpEmis:{_titulo:"Forma de contingência",_doc:"Forma de emissão da NF-e 1 - Normal; 2 - Contingência FS 3 - Contingência SCAN 4 - Contingência DPEC 5 - Contingência FSDA 6 - Contingência SVC - AN 7 - Contingência SVC - RS 9 - Contingência off-line NFC-e (tpEmis)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Normal"},{valor:"2",rotulo:"2 - Contingência FS"},{valor:"3",rotulo:"3 - Contingência SCAN"},{valor:"4",rotulo:"4 - Contingência DPEC"},{valor:"5",rotulo:"5 - Contingência FSDA"},{valor:"6",rotulo:"6 - Contingência SVC - AN"},{valor:"7",rotulo:"7 - Contingência SVC - RS"},{valor:"9",rotulo:"9 - Contingência off-line NFC-e"}],_valorInic:"1"},cDV:{_titulo:"Digito Verificador da Chave de Acesso da NF-e",_doc:"Digito Verificador da Chave de Acesso da NF-e (cDV)",_pattern:"[0-9]{1}",_tipo:"texto",_valorInic:""},tpAmb:{_titulo:"Identificação do Ambiente",_doc:"Identificação do Ambiente: 1 - Produção 2 - Homologação (tpAmb)",_type:"TAmb",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Produção"},{valor:"2",rotulo:"2 - Homologação"}],_valorInic:"1"},finNFe:{_titulo:"Finalidade da emissão da NF-e",_doc:"Finalidade da emissão da NF-e: 1 - NFe normal 2 - NFe complementar 3 - NFe de ajuste 4 - Devolução/Retorno (finNFe)",_type:"TFinNFe",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - NFe normal"},{valor:"2",rotulo:"2 - NFe complementar"},{valor:"3",rotulo:"3 - NFe de ajuste"},{valor:"4",rotulo:"4 - Devolução/Retorno"}],_valorInic:"1"},indFinal:{_titulo:"Indica operação com consumidor final",_doc:"Indica operação com consumidor final (0-Não;1-Consumidor Final) (indFinal)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Não"},{valor:"1",rotulo:"1 - Consumidor Final"}],_valorInic:"0"},indPres:{_titulo:"Indicador de presença do comprador no estabelecimento comercial no momento da oepração",_doc:"Indicador de presença do comprador no estabelecimento comercial no momento da oepração            (0-Não se aplica (ex.: Nota Fiscal complementar ou de ajuste;1-Operação presencial;2-Não presencial, internet;3-Não presencial, teleatendimento;4-NFC-e entrega em domicílio;5-Operação presencial, fora do estabelecimento;9-Não presencial, outros) (indPres)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Não se aplica (ex.: Nota Fiscal complementar ou de ajuste"},{valor:"1",rotulo:"1 - Operação presencial"},{valor:"2",rotulo:"2 - Não presencial, internet"},{valor:"3",rotulo:"3 - Não presencial, teleatendimento"},{valor:"4",rotulo:"4 - NFC-e entrega em domicílio"},{valor:"5",rotulo:"5 - Operação presencial, fora do estabelecimento"},{valor:"9",rotulo:"9 - Não presencial, outros"}],_valorInic:"0"},indIntermed:{_titulo:"Indicador de intermediador/marketplace",_doc:"Indicador de intermediador/marketplace             0=Operação sem intermediador (em site ou plataforma própria)             1=Operação em site ou plataforma de terceiros (intermediadores/marketplace) (indIntermed) (Opcional)",_opcional:!0,_tipo:"seletor",_enumeration:[{valor:"",rotulo:"Não se aplica"},{valor:"0",rotulo:"0 - Operação sem intermediador (em site ou plataforma própria)"},{valor:"1",rotulo:"1 - Operação em site ou plataforma de terceiros (intermediadores/marketplace)"}],_valorInic:""},procEmi:{_titulo:"Processo de emissão utilizado com a seguinte codificação",_doc:"Processo de emissão utilizado com a seguinte codificação: 0 - emissão de NF-e com aplicativo do contribuinte; 1 - emissão de NF-e avulsa pelo Fisco; 2 - emissão de NF-e avulsa, pelo contribuinte com seu certificado digital, através do site do Fisco; 3- emissão de NF-e pelo contribuinte com aplicativo fornecido pelo Fisco. (procEmi)",_type:"TProcEmi",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - emissão de NF-e com aplicativo do contribuinte"},{valor:"1",rotulo:"1 - emissão de NF-e avulsa pelo Fisco"},{valor:"2",rotulo:"2 - emissão de NF-e avulsa, pelo contribuinte com seu certificado digital, através do site do Fisco"},{valor:"3",rotulo:"3 -  emissão de NF-e pelo contribuinte com aplicativo fornecido pelo Fisco"}],_valorInic:"0"},verProc:{_titulo:"versão do aplicativo utilizado no processo de emissão",_doc:"versão do aplicativo utilizado no processo de emissão (verProc)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""},opcional:{_titulo:"Informar apenas para contingência",_doc:"Informar apenas para tpEmis diferente de 1 (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Informar apenas para contingência",_doc:"Informar apenas para tpEmis diferente de 1 (Opcional)",_valorInic:""},dhCont:{_titulo:"Entrada em contingência",_doc:"Informar a data e hora de entrada em contingência contingência (dhCont)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))T(20|21|22|23|[0-1]\\d):[0-5]\\d:[0-5]\\d([\\-,\\+](0[0-9]|10|11):00|([\\+](12):00))",_type:"TDateTimeUTC",_tipo:"dataHora",_valorInic:""},xJust:{_titulo:"Justificativa da contingência",_doc:"Informar a Justificativa da entrada (xJust)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:15,_maxLength:256,_valorInic:""}},NFref:{_titulo:"Grupo de infromações da NF referenciada",_doc:"Grupo de infromações da NF referenciada (NFref) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},refNFe:{_titulo:"Chave de acesso das NF-e referenciadas",_doc:"Chave de acesso das NF-e referenciadas. Chave de acesso compostas por Código da UF (tabela do IBGE) + AAMM da emissão + CNPJ do Emitente + modelo, série e número da NF-e Referenciada + Código Numérico + DV. (refNFe)",_pattern:"[0-9]{44}",_type:"TChNFe",_tipo:"texto",_maxLength:44,_valorInic:""},refNF:{_titulo:"Dados da NF",_doc:"Dados da NF modelo 1/1A referenciada ou NF modelo 2 referenciada (refNF)",_tipo:"texto",_valorInic:"",cUF:{_titulo:"Código da UF do emitente do Documento Fiscal",_doc:"Código da UF do emitente do Documento Fiscal. Utilizar a Tabela do IBGE. (cUF)",_type:"TCodUfIBGE",_tipo:"seletor",_enumeration:[{valor:"11",rotulo:"11"},{valor:"12",rotulo:"12"},{valor:"13",rotulo:"13"},{valor:"14",rotulo:"14"},{valor:"15",rotulo:"15"},{valor:"16",rotulo:"16"},{valor:"17",rotulo:"17"},{valor:"21",rotulo:"21"},{valor:"22",rotulo:"22"},{valor:"23",rotulo:"23"},{valor:"24",rotulo:"24"},{valor:"25",rotulo:"25"},{valor:"26",rotulo:"26"},{valor:"27",rotulo:"27"},{valor:"28",rotulo:"28"},{valor:"29",rotulo:"29"},{valor:"31",rotulo:"31"},{valor:"32",rotulo:"32"},{valor:"33",rotulo:"33"},{valor:"35",rotulo:"35"},{valor:"41",rotulo:"41"},{valor:"42",rotulo:"42"},{valor:"43",rotulo:"43"},{valor:"50",rotulo:"50"},{valor:"51",rotulo:"51"},{valor:"52",rotulo:"52"},{valor:"53",rotulo:"53"}],_valorInic:"11"},AAMM:{_titulo:"AAMM da emissão",_doc:"AAMM da emissão (AAMM)",_pattern:"[0-9]{2}[0]{1}[1-9]{1}|[0-9]{2}[1]{1}[0-2]{1}",_tipo:"texto",_valorInic:""},CNPJ:{_titulo:"CNPJ do emitente do documento fiscal referenciado",_doc:"CNPJ do emitente do documento fiscal referenciado (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},mod:{_titulo:"Código do modelo do Documento Fiscal",_doc:"Código do modelo do Documento Fiscal. Utilizar 01 para NF modelo 1/1A e 02 para NF modelo 02 (mod)",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 para NF modelo 1/1A"},{valor:"02",rotulo:"02 para NF modelo 02"}],_valorInic:"01"},serie:{_titulo:"Série do Documento Fiscal",_doc:"Série do Documento Fiscal, informar zero se inexistente (serie)",_pattern:"0|[1-9]{1}[0-9]{0,2}",_type:"TSerie",_tipo:"texto",_valorInic:""},nNF:{_titulo:"Número do Documento Fiscal",_doc:"Número do Documento Fiscal (nNF)",_pattern:"[1-9]{1}[0-9]{0,8}",_type:"TNF",_tipo:"texto",_valorInic:""}},refNFP:{_titulo:"Grupo com as informações NF de produtor referenciada",_doc:"Grupo com as informações NF de produtor referenciada (refNFP)",_tipo:"texto",_valorInic:"",cUF:{_titulo:"Código da UF do emitente do Documento Fiscal",_doc:"Código da UF do emitente do Documento Fiscal. Utilizar a Tabela do IBGE (Anexo IV - Tabela de UF, Município e País) (cUF)",_type:"TCodUfIBGE",_tipo:"seletor",_enumeration:[{valor:"11",rotulo:"11"},{valor:"12",rotulo:"12"},{valor:"13",rotulo:"13"},{valor:"14",rotulo:"14"},{valor:"15",rotulo:"15"},{valor:"16",rotulo:"16"},{valor:"17",rotulo:"17"},{valor:"21",rotulo:"21"},{valor:"22",rotulo:"22"},{valor:"23",rotulo:"23"},{valor:"24",rotulo:"24"},{valor:"25",rotulo:"25"},{valor:"26",rotulo:"26"},{valor:"27",rotulo:"27"},{valor:"28",rotulo:"28"},{valor:"29",rotulo:"29"},{valor:"31",rotulo:"31"},{valor:"32",rotulo:"32"},{valor:"33",rotulo:"33"},{valor:"35",rotulo:"35"},{valor:"41",rotulo:"41"},{valor:"42",rotulo:"42"},{valor:"43",rotulo:"43"},{valor:"50",rotulo:"50"},{valor:"51",rotulo:"51"},{valor:"52",rotulo:"52"},{valor:"53",rotulo:"53"}],_valorInic:"11"},AAMM:{_titulo:"AAMM da emissão da NF de produtor",_doc:"AAMM da emissão da NF de produtor (AAMM)",_pattern:"[0-9]{2}[0]{1}[1-9]{1}|[0-9]{2}[1]{1}[0-2]{1}",_tipo:"texto",_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"CNPJ do emitente da NF de produtor",_doc:"CNPJ do emitente da NF de produtor (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},CPF:{_titulo:"CPF do emitente da NF de produtor",_doc:"CPF do emitente da NF de produtor (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_tipo:"texto",_maxLength:11,_valorInic:""}},IE:{_titulo:"IE do emitente da NF de Produtor",_doc:"IE do emitente da NF de Produtor (IE)",_pattern:"ISENTO|[0-9]{2,14}",_type:"TIeDest",_tipo:"texto",_maxLength:14,_valorInic:""},mod:{_titulo:"Código do modelo do Documento Fiscal",_doc:"Código do modelo do Documento Fiscal - utilizar 04 para NF de produtor  ou 01 para NF Avulsa (mod)",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 para NF Avulsa"},{valor:"04",rotulo:"04 para NF de produtor  ou 01 para NF Avulsa"}],_valorInic:"01"},serie:{_titulo:"Série do Documento Fiscal",_doc:"Série do Documento Fiscal, informar zero se inexistente (serie)",_pattern:"0|[1-9]{1}[0-9]{0,2}",_type:"TSerie",_tipo:"texto",_valorInic:""},nNF:{_titulo:"Número do Documento Fiscal",_doc:"Número do Documento Fiscal - 1 - 999999999 (nNF)",_pattern:"[1-9]{1}[0-9]{0,8}",_type:"TNF",_tipo:"texto",_valorInic:""}},refCTe:{_titulo:"Utilizar esta TAG para referenciar um CT-e emitido anteriormente, vinculada a NF-e atual",_doc:"Utilizar esta TAG para referenciar um CT-e emitido anteriormente, vinculada a NF-e atual (refCTe)",_pattern:"[0-9]{44}",_type:"TChNFe",_tipo:"texto",_maxLength:44,_valorInic:""},refECF:{_titulo:"Grupo do Cupom Fiscal vinculado à NF-e",_doc:"Grupo do Cupom Fiscal vinculado à NF-e (refECF)",_tipo:"texto",_valorInic:"",mod:{_titulo:"Código do modelo do Documento Fiscal",_doc:'Código do modelo do Documento Fiscal  Preencher com "2B", quando se tratar de Cupom Fiscal emitido por máquina registradora (não ECF), com "2C", quando se tratar de Cupom Fiscal PDV, ou "2D", quando se tratar de Cupom Fiscal (emitido por ECF) (mod)',_tipo:"seletor",_enumeration:[{valor:"2B",rotulo:"2B, quando se tratar de Cupom Fiscal emitido por máquina registradora(não ECF)"},{valor:"2C",rotulo:"2C, quando se tratar de Cupom Fiscal PDV"},{valor:"2D",rotulo:"2D, quando se tratar de Cupom Fiscal (emitido por ECF)"}],_valorInic:"2B"},nECF:{_titulo:"Informar o número de ordem seqüencial do ECF que emitiu o Cupom Fiscal vinculado à NF-e",_doc:"Informar o número de ordem seqüencial do ECF que emitiu o Cupom Fiscal vinculado à NF-e (nECF)",_pattern:"[0-9]{1,3}",_tipo:"texto",_valorInic:""},nCOO:{_titulo:"Informar o Número do Contador de Ordem de Operação - COO vinculado à NF-e",_doc:"Informar o Número do Contador de Ordem de Operação - COO vinculado à NF-e (nCOO)",_pattern:"[0-9]{1,6}",_tipo:"texto",_valorInic:""}}}}}},emit:{_titulo:"Identificação do emitente",_doc:"Identificação do emitente (emit)",_tipo:"texto",_valorInic:"",escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"Número do CNPJ do emitente",_doc:"Número do CNPJ do emitente (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},CPF:{_titulo:"Número do CPF do emitente",_doc:"Número do CPF do emitente (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_tipo:"texto",_maxLength:11,_valorInic:""}},xNome:{_titulo:"Razão Social ou Nome do emitente",_doc:"Razão Social ou Nome do emitente (xNome)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},xFant:{_titulo:"Nome fantasia",_doc:"Nome fantasia (xFant) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},enderEmit:{_titulo:"Endereço do emitente",_doc:"Endereço do emitente (enderEmit)",_type:"TEnderEmi",_tipo:"texto",_valorInic:"",xLgr:{_titulo:"Logradouro",_doc:"Logradouro (xLgr)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},nro:{_titulo:"Número",_doc:"Número (nro)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xCpl:{_titulo:"Complemento",_doc:"Complemento (xCpl) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xBairro:{_titulo:"Bairro",_doc:"Bairro (xBairro)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},cMun:{_titulo:"Código do município",_doc:"Código do município (cMun)",_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""},xMun:{_titulo:"Nome do município",_doc:"Nome do município (xMun)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},UF:{_titulo:"Sigla da UF",_doc:"Sigla da UF (UF)",_type:"TUfEmi",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"}],_valorInic:"AC"},CEP:{_titulo:"CEP - NT 2011/004",_doc:"CEP - NT 2011/004 (CEP)",_pattern:"[0-9]{8}",_tipo:"texto",_valorInic:""},cPais:{_titulo:"Código do país",_doc:"Código do país (cPais) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"seletor",_enumeration:[{valor:"",rotulo:"Não se aplica"},{valor:"1058",rotulo:"1058"}],_valorInic:""},xPais:{_titulo:"Nome do país",_doc:"Nome do país (xPais) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"seletor",_enumeration:[{valor:"",rotulo:"Não se aplica"},{valor:"Brasil",rotulo:"Brasil"},{valor:"BRASIL",rotulo:"BRASIL"}],_valorInic:""},fone:{_titulo:"Preencher com Código DDD + número do telefone (v.2.0)",_doc:"Preencher com Código DDD + número do telefone (v.2.0) (fone) (Opcional)",_opcional:!0,_pattern:"[0-9]{6,14}",_tipo:"texto",_valorInic:""}},IE:{_titulo:"Inscrição Estadual do Emitente",_doc:"Inscrição Estadual do Emitente (IE)",_pattern:"[0-9]{2,14}|ISENTO",_type:"TIe",_tipo:"texto",_maxLength:14,_valorInic:""},IEST:{_titulo:"Inscricao Estadual do Substituto Tributário",_doc:"Inscricao Estadual do Substituto Tributário (IEST) (Opcional)",_opcional:!0,_pattern:"[0-9]{2,14}",_type:"TIeST",_tipo:"texto",_maxLength:14,_valorInic:""},opcional:{_titulo:"Grupo de informações de interesse da Prefeitura",_doc:"Grupo de informações de interesse da Prefeitura (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de informações de interesse da Prefeitura",_doc:"Grupo de informações de interesse da Prefeitura (Opcional)",_valorInic:""},IM:{_titulo:"Inscrição Municipal",_doc:"Inscrição Municipal (IM)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:15,_valorInic:""},CNAE:{_titulo:"CNAE Fiscal",_doc:"CNAE Fiscal (CNAE) (Opcional)",_opcional:!0,_pattern:"[0-9]{7}",_tipo:"texto",_valorInic:""}},CRT:{_titulo:"Código de Regime Tributário",_doc:"Código de Regime Tributário.  Este campo será obrigatoriamente preenchido com: 1 - Simples Nacional; 2 - Simples Nacional - excesso de sublimite de receita bruta; 3 - Regime Normal. (CRT)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Simples Nacional"},{valor:"2",rotulo:"2 - Simples Nacional - excesso de sublimite de receita bruta"},{valor:"3",rotulo:"3 - Regime Normal"}],_valorInic:"1"}},avulsa:{_titulo:"Emissão de avulsa, informar os dados do Fisco emitente",_doc:"Emissão de avulsa, informar os dados do Fisco emitente (avulsa) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Emissão de avulsa, informar os dados do Fisco emitente",_doc:"Emissão de avulsa, informar os dados do Fisco emitente (avulsa) (Opcional)",_valorInic:""},CNPJ:{_titulo:"CNPJ do Órgão emissor",_doc:"CNPJ do Órgão emissor (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},xOrgao:{_titulo:"Órgão emitente",_doc:"Órgão emitente (xOrgao)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},matr:{_titulo:"Matrícula do agente",_doc:"Matrícula do agente (matr)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xAgente:{_titulo:"Nome do agente",_doc:"Nome do agente (xAgente)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},fone:{_titulo:"Telefone",_doc:"Telefone (fone) (Opcional)",_opcional:!0,_pattern:"[0-9]{6,14}",_tipo:"texto",_valorInic:""},UF:{_titulo:"Sigla da Unidade da Federação",_doc:"Sigla da Unidade da Federação (UF)",_type:"TUfEmi",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"}],_valorInic:"AC"},nDAR:{_titulo:"Número do Documento de Arrecadação de Receita",_doc:"Número do Documento de Arrecadação de Receita (nDAR) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},dEmi:{_titulo:"Data de emissão do DAR",_doc:"Data de emissão do DAR (AAAA-MM-DD) (dEmi) (Opcional)",_opcional:!0,_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""},vDAR:{_titulo:"Valor Total constante no DAR",_doc:"Valor Total constante no DAR (vDAR) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},repEmi:{_titulo:"Repartição Fiscal emitente",_doc:"Repartição Fiscal emitente (repEmi)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},dPag:{_titulo:"Data de pagamento do DAR",_doc:"Data de pagamento do DAR (AAAA-MM-DD) (dPag) (Opcional)",_opcional:!0,_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""}},dest:{_titulo:"Identificação do Destinatário",_doc:"Identificação do Destinatário (dest) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Identificação do Destinatário",_doc:"Identificação do Destinatário (dest) (Opcional)",_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"Número do CNPJ",_doc:"Número do CNPJ (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},CPF:{_titulo:"Número do CPF",_doc:"Número do CPF (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_tipo:"texto",_maxLength:11,_valorInic:""},idEstrangeiro:{_titulo:"Identificador do destinatário",_doc:"Identificador do destinatário, em caso de comprador estrangeiro (idEstrangeiro)",_pattern:"([!-ÿ]{0}|[!-ÿ]{5,20})?",_tipo:"texto",_valorInic:""}},xNome:{_titulo:"Razão Social ou nome do destinatário",_doc:"Razão Social ou nome do destinatário (xNome) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},enderDest:{_titulo:"Dados do endereço",_doc:"Dados do endereço (enderDest) (Opcional)",_opcional:!0,_type:"TEndereco",_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados do endereço",_doc:"Dados do endereço (enderDest) (Opcional)",_valorInic:""},xLgr:{_titulo:"Logradouro",_doc:"Logradouro (xLgr)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},nro:{_titulo:"Número",_doc:"Número (nro)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xCpl:{_titulo:"Complemento",_doc:"Complemento (xCpl) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xBairro:{_titulo:"Bairro",_doc:"Bairro (xBairro)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},cMun:{_titulo:"Código do município",_doc:"Código do município (utilizar a tabela do IBGE), informar 9999999 para operações com o exterior. (cMun)",_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""},xMun:{_titulo:"Nome do município",_doc:"Nome do município, informar EXTERIOR para operações com o exterior. (xMun)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},UF:{_titulo:"Sigla da UF",_doc:"Sigla da UF, informar EX para operações com o exterior. (UF)",_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX para operações com o exterior"}],_valorInic:"AC"},CEP:{_titulo:"CEP",_doc:"CEP (CEP) (Opcional)",_opcional:!0,_pattern:"[0-9]{8}",_tipo:"texto",_valorInic:""},cPais:{_titulo:"Código de Pais",_doc:"Código de Pais (cPais) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,4}",_tipo:"texto",_valorInic:""},xPais:{_titulo:"Nome do país",_doc:"Nome do país (xPais) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},fone:{_titulo:"Telefone",_doc:"Telefone, preencher com Código DDD + número do telefone , nas operações com exterior é permtido informar o código do país + código da localidade + número do telefone (fone) (Opcional)",_opcional:!0,_pattern:"[0-9]{6,14}",_tipo:"texto",_valorInic:""}},indIEDest:{_titulo:"Indicador da IE do destinatário",_doc:"Indicador da IE do destinatário: 1 - Contribuinte ICMS; 2 - Contribuinte isento de inscrição; 9 - Não Contribuinte (indIEDest)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Contribuinte ICMS"},{valor:"2",rotulo:"2 - Contribuinte isento de inscrição"},{valor:"9",rotulo:"9 - Não Contribuinte"}],_valorInic:"1"},IE:{_titulo:"Inscrição Estadual",_doc:"Inscrição Estadual (obrigatório nas operações com contribuintes do ICMS) (IE) (Opcional)",_opcional:!0,_pattern:"[0-9]{2,14}",_type:"TIeDestNaoIsento",_tipo:"texto",_maxLength:14,_valorInic:""},ISUF:{_titulo:"Inscrição na SUFRAMA",_doc:"Inscrição na SUFRAMA (Obrigatório nas operações com as áreas com benefícios de incentivos fiscais sob controle da SUFRAMA) PL_005d - 11/08/09 - alterado para aceitar 8 ou 9 dígitos (ISUF) (Opcional)",_opcional:!0,_pattern:"[0-9]{8,9}",_tipo:"texto",_valorInic:""},IM:{_titulo:"Inscrição Municipal do tomador do serviço",_doc:"Inscrição Municipal do tomador do serviço (IM) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:15,_valorInic:""},email:{_titulo:"Informar o e-mail do destinatário",_doc:"Informar o e-mail do destinatário. O campo pode ser utilizado para informar o e-mail de recepção da NF-e indicada pelo destinatário (email) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""}},retirada:{_titulo:"Identificação do Local de Retirada",_doc:"Identificação do Local de Retirada (informar apenas quando for diferente do endereço do remetente) (retirada) (Opcional)",_opcional:!0,_type:"TLocal",_tipo:"texto",_valorInic:"",visivel:{_titulo:"Identificação do Local de Retirada",_doc:"Identificação do Local de Retirada (informar apenas quando for diferente do endereço do remetente) (retirada) (Opcional)",_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"CNPJ",_doc:"CNPJ (CNPJ)",_pattern:"[0-9]{0}|[0-9]{14}",_type:"TCnpjOpc",_tipo:"texto",_maxLength:14,_valorInic:""},CPF:{_titulo:"CPF",_doc:"CPF (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_tipo:"texto",_maxLength:11,_valorInic:""}},xNome:{_titulo:"Razão Social ou Nome do Expedidor/Recebedor",_doc:"Razão Social ou Nome do Expedidor/Recebedor (xNome) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},xLgr:{_titulo:"Logradouro",_doc:"Logradouro (xLgr)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},nro:{_titulo:"Número",_doc:"Número (nro)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xCpl:{_titulo:"Complemento",_doc:"Complemento (xCpl) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xBairro:{_titulo:"Bairro",_doc:"Bairro (xBairro)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},cMun:{_titulo:"Código do município",_doc:"Código do município (utilizar a tabela do IBGE) (cMun)",_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""},xMun:{_titulo:"Nome do município",_doc:"Nome do município (xMun)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},UF:{_titulo:"Sigla da UF",_doc:"Sigla da UF (UF)",_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX"}],_valorInic:"AC"},CEP:{_titulo:"CEP",_doc:"CEP (CEP) (Opcional)",_opcional:!0,_pattern:"[0-9]{8}",_tipo:"texto",_valorInic:""},cPais:{_titulo:"Código de Pais",_doc:"Código de Pais (cPais) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,4}",_tipo:"texto",_valorInic:""},xPais:{_titulo:"Nome do país",_doc:"Nome do país (xPais) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},fone:{_titulo:"Telefone",_doc:"Telefone, preencher com Código DDD + número do telefone , nas operações com exterior é permtido informar o código do país + código da localidade + número do telefone (fone) (Opcional)",_opcional:!0,_pattern:"[0-9]{6,14}",_tipo:"texto",_valorInic:""},email:{_titulo:"Informar o e-mail do expedidor/Recebedor",_doc:"Informar o e-mail do expedidor/Recebedor. O campo pode ser utilizado para informar o e-mail de recepção da NF-e indicada pelo expedidor (email) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},IE:{_titulo:"Inscrição Estadual",_doc:"Inscrição Estadual (IE) (Opcional)",_opcional:!0,_pattern:"[0-9]{2,14}|ISENTO",_type:"TIe",_tipo:"texto",_maxLength:14,_valorInic:""}},entrega:{_titulo:"Identificação do Local de Entrega",_doc:"Identificação do Local de Entrega (informar apenas quando for diferente do endereço do destinatário) (entrega) (Opcional)",_opcional:!0,_type:"TLocal",_tipo:"texto",_valorInic:"",visivel:{_titulo:"Identificação do Local de Entrega",_doc:"Identificação do Local de Entrega (informar apenas quando for diferente do endereço do destinatário) (entrega) (Opcional)",_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"CNPJ",_doc:"CNPJ (CNPJ)",_pattern:"[0-9]{0}|[0-9]{14}",_type:"TCnpjOpc",_tipo:"texto",_maxLength:14,_valorInic:""},CPF:{_titulo:"CPF",_doc:"CPF (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_tipo:"texto",_maxLength:11,_valorInic:""}},xNome:{_titulo:"Razão Social ou Nome do Expedidor/Recebedor",_doc:"Razão Social ou Nome do Expedidor/Recebedor (xNome) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},xLgr:{_titulo:"Logradouro",_doc:"Logradouro (xLgr)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},nro:{_titulo:"Número",_doc:"Número (nro)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xCpl:{_titulo:"Complemento",_doc:"Complemento (xCpl) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xBairro:{_titulo:"Bairro",_doc:"Bairro (xBairro)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},cMun:{_titulo:"Código do município",_doc:"Código do município (utilizar a tabela do IBGE) (cMun)",_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""},xMun:{_titulo:"Nome do município",_doc:"Nome do município (xMun)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},UF:{_titulo:"Sigla da UF",_doc:"Sigla da UF (UF)",_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX"}],_valorInic:"AC"},CEP:{_titulo:"CEP",_doc:"CEP (CEP) (Opcional)",_opcional:!0,_pattern:"[0-9]{8}",_tipo:"texto",_valorInic:""},cPais:{_titulo:"Código de Pais",_doc:"Código de Pais (cPais) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,4}",_tipo:"texto",_valorInic:""},xPais:{_titulo:"Nome do país",_doc:"Nome do país (xPais) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},fone:{_titulo:"Telefone",_doc:"Telefone, preencher com Código DDD + número do telefone , nas operações com exterior é permtido informar o código do país + código da localidade + número do telefone (fone) (Opcional)",_opcional:!0,_pattern:"[0-9]{6,14}",_tipo:"texto",_valorInic:""},email:{_titulo:"Informar o e-mail do expedidor/Recebedor",_doc:"Informar o e-mail do expedidor/Recebedor. O campo pode ser utilizado para informar o e-mail de recepção da NF-e indicada pelo expedidor (email) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},IE:{_titulo:"Inscrição Estadual",_doc:"Inscrição Estadual (IE) (Opcional)",_opcional:!0,_pattern:"[0-9]{2,14}|ISENTO",_type:"TIe",_tipo:"texto",_maxLength:14,_valorInic:""}},autXML:{_titulo:"Pessoas autorizadas para o download do XML da NF-e",_doc:"Pessoas autorizadas para o download do XML da NF-e (autXML) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"CNPJ Autorizado",_doc:"CNPJ Autorizado (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},CPF:{_titulo:"CPF Autorizado",_doc:"CPF Autorizado (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_tipo:"texto",_maxLength:11,_valorInic:""}}}},det:{_titulo:"Dados dos detalhes da NF-e",_doc:"Dados dos detalhes da NF-e (det) (Lista)",_tipo:"texto",_valorInic:"",lista:{prod:{_titulo:"Dados dos produtos e serviços da NF-e",_doc:"Dados dos produtos e serviços da NF-e (prod)",_tipo:"texto",_valorInic:"",cProd:{_titulo:"Código do produto ou serviço",_doc:"Código do produto ou serviço. Preencher com CFOP caso se trate de itens não relacionados com mercadorias/produto e que o contribuinte não possua codificação própria Formato ”CFOP9999”. (cProd)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},cEAN:{_titulo:"GTIN (Global Trade Item Number) do produto",_doc:"GTIN (Global Trade Item Number) do produto, antigo código EAN ou código de barras (cEAN)",_pattern:"SEM GTIN|[0-9]{0}|[0-9]{8}|[0-9]{12,14}",_tipo:"texto",_valorInic:""},cBarra:{_titulo:"Codigo de barras diferente do padrão GTIN",_doc:"Codigo de barras diferente do padrão GTIN (cBarra) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:3,_maxLength:30,_valorInic:""},xProd:{_titulo:"Descrição do produto ou serviço",_doc:"Descrição do produto ou serviço (xProd)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:120,_valorInic:""},NCM:{_titulo:"Código NCM (8 posições)",_doc:"Código NCM (8 posições), será permitida a informação do gênero (posição do capítulo do NCM) quando a operação não for de comércio exterior (importação/exportação) ou o produto não seja tributado pelo IPI. Em caso de item de serviço ou item que não tenham produto (Ex. transferência de crédito, crédito do ativo imobilizado, etc.), informar o código 00 (zeros) (NCM)",_pattern:"[0-9]{2}|[0-9]{8}",_tipo:"texto",_valorInic:""},NVE:{_titulo:"Nomenclatura de Valor aduaneio e Estatístico",_doc:"Nomenclatura de Valor aduaneio e Estatístico (NVE) (Lista)",_opcional:!0,_pattern:"[A-Z]{2}[0-9]{4}",_tipo:"texto",_valorInic:"",lista:{NVE:{_titulo:"Nomenclatura de Valor aduaneio e Estatístico",_doc:"Nomenclatura de Valor aduaneio e Estatístico (NVE) (Lista)",_opcional:!0,_pattern:"[A-Z]{2}[0-9]{4}",_tipo:"texto",_valorInic:""}}},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"CEST",_doc:"Codigo especificador da Substuicao Tributaria - CEST",_valorInic:""},CEST:{_titulo:"CEST",_doc:"Codigo especificador da Substuicao Tributaria - CEST, que identifica a mercadoria sujeita aos regimes de substituicao tributária e de antecipação do recolhimento do imposto (CEST)",_pattern:"[0-9]{7}",_tipo:"texto",_valorInic:""},indEscala:{_titulo:"indEscala",_doc:"indEscala (Opcional)",_opcional:!0,_tipo:"seletor",_enumeration:[{valor:"",rotulo:"Não se aplica"},{valor:"S",rotulo:"S"},{valor:"N",rotulo:"N"}],_valorInic:""},CNPJFab:{_titulo:"CNPJ do Fabricante da Mercadoria",_doc:"CNPJ do Fabricante da Mercadoria, obrigatório para produto em escala NÃO relevante. (CNPJFab) (Opcional)",_opcional:!0,_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""}},cBenef:{_titulo:"cBenef",_doc:"cBenef (Opcional)",_opcional:!0,_pattern:"([!-ÿ]{8}|[!-ÿ]{10}|SEM CBENEF)?",_tipo:"texto",_valorInic:""},EXTIPI:{_titulo:"Código EX TIPI",_doc:"Código EX TIPI (3 posições) (EXTIPI) (Opcional)",_opcional:!0,_pattern:"[0-9]{2,3}",_tipo:"texto",_valorInic:""},CFOP:{_titulo:"Cfop",_doc:"Cfop (CFOP)",_pattern:"[1,2,3,5,6,7]{1}[0-9]{3}",_tipo:"texto",_valorInic:""},uCom:{_titulo:"Unidade comercial",_doc:"Unidade comercial (uCom)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:6,_valorInic:""},qCom:{_titulo:"Quantidade Comercial  do produto",_doc:"Quantidade Comercial  do produto, alterado para aceitar de 0 a 4 casas decimais e 11 inteiros. (qCom)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,4})?",_type:"TDec_1104v",_tipo:"decimal",_decimals:"4",_valorInic:0},vUnCom:{_titulo:"Valor unitário de comercialização",_doc:"Valor unitário de comercialização  - alterado para aceitar 0 a 10 casas decimais e 11 inteiros (vUnCom)",_pattern:"0|0\\.[0-9]{1,10}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,10})?",_type:"TDec_1110v",_tipo:"decimal",_decimals:"4",_valorInic:0},vProd:{_titulo:"Valor bruto do produto ou serviço.",_doc:"Valor bruto do produto ou serviço. (vProd)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},cEANTrib:{_titulo:"GTIN (Global Trade Item Number) da unidade tributável",_doc:"GTIN (Global Trade Item Number) da unidade tributável, antigo código EAN ou código de barras (cEANTrib)",_pattern:"SEM GTIN|[0-9]{0}|[0-9]{8}|[0-9]{12,14}",_tipo:"texto",_valorInic:""},cBarraTrib:{_titulo:"Codigo de barras diferente do padrão GTIN",_doc:"Codigo de barras diferente do padrão GTIN (cBarraTrib) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:3,_maxLength:30,_valorInic:""},uTrib:{_titulo:"Unidade Tributável",_doc:"Unidade Tributável (uTrib)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:6,_valorInic:""},qTrib:{_titulo:"Quantidade Tributável",_doc:"Quantidade Tributável - alterado para aceitar de 0 a 4 casas decimais e 11 inteiros (qTrib)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,4})?",_type:"TDec_1104v",_tipo:"decimal",_decimals:"4",_valorInic:0},vUnTrib:{_titulo:"Valor unitário de tributação",_doc:"Valor unitário de tributação - alterado para aceitar 0 a 10 casas decimais e 11 inteiros (vUnTrib)",_pattern:"0|0\\.[0-9]{1,10}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,10})?",_type:"TDec_1110v",_tipo:"decimal",_decimals:"4",_valorInic:0},vFrete:{_titulo:"Valor Total do Frete",_doc:"Valor Total do Frete (vFrete) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vSeg:{_titulo:"Valor Total do Seguro",_doc:"Valor Total do Seguro (vSeg) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vDesc:{_titulo:"Valor do Desconto",_doc:"Valor do Desconto (vDesc) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vOutro:{_titulo:"Outras despesas acessórias",_doc:"Outras despesas acessórias (vOutro) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},indTot:{_titulo:"Totaliza",_doc:"Este campo deverá ser preenchido com:  0 - o valor do item (vProd) não compõe o valor total da NF-e (vProd)  1  - o valor do item (vProd) compõe o valor total da NF-e (vProd) (indTot)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - o valor do item não compõe o valor total da NF-e"},{valor:"1",rotulo:"1  - o valor do item compõe o valor total da NF-e"}],_valorInic:"0"},DI:{_titulo:"Delcaração de Importação",_doc:"Delcaração de Importação (DI) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{nDI:{_titulo:"Numero do Documento de Importação DI/DSI/DA/DRI-E (DI/DSI/DA/DRI-E)",_doc:"Numero do Documento de Importação DI/DSI/DA/DRI-E (DI/DSI/DA/DRI-E) (nDI)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:15,_valorInic:""},dDI:{_titulo:"Data de registro da DI/DSI/DA",_doc:"Data de registro da DI/DSI/DA (AAAA-MM-DD) (dDI)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""},xLocDesemb:{_titulo:"Local do desembaraço aduaneiro",_doc:"Local do desembaraço aduaneiro (xLocDesemb)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},UFDesemb:{_titulo:"UF onde ocorreu o desembaraço aduaneiro",_doc:"UF onde ocorreu o desembaraço aduaneiro (UFDesemb)",_type:"TUfEmi",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"}],_valorInic:"AC"},dDesemb:{_titulo:"Data do desembaraço aduaneiro (AAAA-MM-DD)",_doc:"Data do desembaraço aduaneiro (AAAA-MM-DD) (dDesemb)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""},tpViaTransp:{_titulo:"Via de transporte internacional informada na DI",_doc:"Via de transporte internacional informada na DI 1-Maritima;2-Fluvial;3-Lacustre;4-Aerea;5-Postal;6-Ferroviaria;7-Rodoviaria;8-Conduto;9-Meios Proprios;10-Entrada/Saida Ficta. 11-Courier; 12-Em maos;13-Por reboque (tpViaTransp)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Maritima"},{valor:"2",rotulo:"2 - Fluvial"},{valor:"3",rotulo:"3 - Lacustre"},{valor:"4",rotulo:"4 - Aerea"},{valor:"5",rotulo:"5 - Postal"},{valor:"6",rotulo:"6 - Ferroviaria"},{valor:"7",rotulo:"7 - Rodoviaria"},{valor:"8",rotulo:"8 - Conduto"},{valor:"9",rotulo:"9 - Meios Proprios"},{valor:"10",rotulo:"10 - Entrada/Saida Ficta"},{valor:"11",rotulo:"11 - Courier"},{valor:"12",rotulo:"12 - Em maos"},{valor:"13",rotulo:"13 - Por reboque"}],_valorInic:"1"},vAFRMM:{_titulo:"Valor Adicional ao frete para renovação de marinha mercante",_doc:"Valor Adicional ao frete para renovação de marinha mercante (vAFRMM) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},tpIntermedio:{_titulo:"Forma de Importação quanto a intermediação",_doc:"Forma de Importação quanto a intermediação 1-por conta propria;2-por conta e ordem;3-encomenda (tpIntermedio)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - por conta propria"},{valor:"2",rotulo:"2 - por conta e ordem"},{valor:"3",rotulo:"3 - encomenda"}],_valorInic:"1"},CNPJ:{_titulo:"CNPJ do adquirente ou do encomendante",_doc:"CNPJ do adquirente ou do encomendante (CNPJ) (Opcional)",_opcional:!0,_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},UFTerceiro:{_titulo:"Sigla da UF do adquirente ou do encomendante",_doc:"Sigla da UF do adquirente ou do encomendante (UFTerceiro) (Opcional)",_opcional:!0,_type:"TUfEmi",_tipo:"seletor",_enumeration:[{valor:"",rotulo:"Não se aplica"},{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"}],_valorInic:""},cExportador:{_titulo:"Código do exportador",_doc:"Código do exportador (usado nos sistemas internos de informação do emitente da NF-e) (cExportador)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},adi:{_titulo:"Adições",_doc:"Adições (adi) (Lista)",_tipo:"texto",_valorInic:"",lista:{nAdicao:{_titulo:"Número da Adição",_doc:"Número da Adição (nAdicao) (Opcional)",_opcional:!0,_pattern:"[1-9]{1}[0-9]{0,2}",_tipo:"texto",_valorInic:""},nSeqAdic:{_titulo:"Número seqüencial do item dentro da Adição",_doc:"Número seqüencial do item dentro da Adição (nSeqAdic)",_pattern:"[1-9]{1}[0-9]{0,4}",_tipo:"texto",_valorInic:""},cFabricante:{_titulo:"Código do fabricante estrangeiro",_doc:"Código do fabricante estrangeiro (usado nos sistemas internos de informação do emitente da NF-e) (cFabricante)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},vDescDI:{_titulo:"Valor do desconto do item da DI - adição",_doc:"Valor do desconto do item da DI - adição (vDescDI) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},nDraw:{_titulo:"Número do ato concessório de Drawback",_doc:"Número do ato concessório de Drawback (nDraw) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""}}}}},detExport:{_titulo:"Detalhe da exportação",_doc:"Detalhe da exportação (detExport) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{nDraw:{_titulo:"Número do ato concessório de Drawback",_doc:"Número do ato concessório de Drawback (nDraw) (Opcional)",_opcional:!0,_pattern:"[0-9]{0,20}",_tipo:"texto",_valorInic:""},exportInd:{_titulo:"Exportação indireta",_doc:"Exportação indireta (exportInd) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Exportação indireta",_doc:"Exportação indireta (exportInd) (Opcional)",_valorInic:""},nRE:{_titulo:"Registro de exportação",_doc:"Registro de exportação (nRE)",_pattern:"[0-9]{0,12}",_tipo:"texto",_valorInic:""},chNFe:{_titulo:"Chave de acesso da NF-e recebida para exportação",_doc:"Chave de acesso da NF-e recebida para exportação (chNFe)",_pattern:"[0-9]{44}",_type:"TChNFe",_tipo:"texto",_maxLength:44,_valorInic:""},qExport:{_titulo:"Quantidade do item efetivamente exportado",_doc:"Quantidade do item efetivamente exportado (qExport)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,4})?",_type:"TDec_1104v",_tipo:"decimal",_decimals:"4",_valorInic:0}}}},xPed:{_titulo:"Pedido de compra",_doc:"Pedido de compra - Informação de interesse do emissor para controle do B2B. (xPed) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:15,_valorInic:""},nItemPed:{_titulo:"Número do Item do Pedido de Compra",_doc:"Número do Item do Pedido de Compra - Identificação do número do item do pedido de Compra (nItemPed) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,6}",_tipo:"texto",_valorInic:""},nFCI:{_titulo:"Número de controle da FCI",_doc:"Número de controle da FCI - Ficha de Conteúdo de Importação. (nFCI) (Opcional)",_opcional:!0,_pattern:"[A-F0-9]{8}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{12}",_type:"TGuid",_tipo:"texto",_valorInic:""},rastro:{_titulo:"rastro",_doc:"rastro (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{nLote:{_titulo:"Número do lote do produto.",_doc:"Número do lote do produto. (nLote)",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""},qLote:{_titulo:"Quantidade de produto no lote.",_doc:"Quantidade de produto no lote. (qLote)",_pattern:"0|0\\.[0-9]{3}|[1-9]{1}[0-9]{0,7}(\\.[0-9]{1,3})?",_type:"TDec_0803v",_tipo:"decimal",_decimals:"3",_valorInic:0},dFab:{_titulo:"Data de fabricação/produção",_doc:'Data de fabricação/produção. Formato "AAAA-MM-DD". (dFab)',_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""},dVal:{_titulo:"Data de validade",_doc:'Data de validade. Informar o último dia do mês caso a validade não especifique o dia. Formato "AAAA-MM-DD". (dVal)',_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""},cAgreg:{_titulo:"cAgreg",_doc:"cAgreg (Opcional)",_opcional:!0,_pattern:"[0-9]{1,20}",_tipo:"texto",_valorInic:""}}},escolhas:{_titulo:"",_doc:" (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:" (Opcional)",_valorInic:""},veicProd:{_titulo:"Veículos novos",_doc:"Veículos novos (veicProd)",_tipo:"texto",_valorInic:"",tpOp:{_titulo:"Tipo da Operação",_doc:"Tipo da Operação (1 - Venda concessionária; 2 - Faturamento direto; 3 - Venda direta; 0 - Outros) (tpOp)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Outros"},{valor:"1",rotulo:"1 - Venda concessionária"},{valor:"2",rotulo:"2 - Faturamento direto"},{valor:"3",rotulo:"3 - Venda direta; 0 - Outros"}],_valorInic:"0"},chassi:{_titulo:"Chassi do veículo - VIN",_doc:"Chassi do veículo - VIN (código-identificação-veículo) (chassi)",_pattern:"[A-Z0-9]+",_tipo:"texto",_valorInic:""},cCor:{_titulo:"Cor do veículo",_doc:"Cor do veículo (código de cada montadora) (cCor)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:4,_valorInic:""},xCor:{_titulo:"Descrição da cor",_doc:"Descrição da cor (xCor)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:40,_valorInic:""},pot:{_titulo:"Potência máxima do motor do veículo em cavalo vapor",_doc:"Potência máxima do motor do veículo em cavalo vapor (CV). (potência-veículo) (pot)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:4,_valorInic:""},cilin:{_titulo:"Capacidade voluntária do motor expressa em centímetros cúbicos",_doc:"Capacidade voluntária do motor expressa em centímetros cúbicos (CC). (cilindradas) (cilin)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:4,_valorInic:""},pesoL:{_titulo:"Peso líquido",_doc:"Peso líquido (pesoL)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:9,_valorInic:""},pesoB:{_titulo:"Peso bruto",_doc:"Peso bruto (pesoB)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:9,_valorInic:""},nSerie:{_titulo:"Serial (série)",_doc:"Serial (série) (nSerie)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:9,_valorInic:""},tpComb:{_titulo:"Tipo de combustível-Tabela RENAVAM",_doc:"Tipo de combustível-Tabela RENAVAM: 01-Álcool; 02-Gasolina; 03-Diesel; 16-Álcool/Gas.; 17-Gas./Álcool/GNV; 18-Gasolina/Elétrico (tpComb)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:2,_valorInic:""},nMotor:{_titulo:"Número do motor",_doc:"Número do motor (nMotor)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:21,_valorInic:""},CMT:{_titulo:"CMT-Capacidade Máxima de Tração",_doc:"CMT-Capacidade Máxima de Tração - em Toneladas 4 casas decimais (CMT)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:9,_valorInic:""},dist:{_titulo:"Distância entre eixos",_doc:"Distância entre eixos (dist)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:4,_valorInic:""},anoMod:{_titulo:"Ano Modelo de Fabricação",_doc:"Ano Modelo de Fabricação (anoMod)",_pattern:"[0-9]{4}",_tipo:"texto",_valorInic:""},anoFab:{_titulo:"Ano de Fabricação",_doc:"Ano de Fabricação (anoFab)",_pattern:"[0-9]{4}",_tipo:"texto",_valorInic:""},tpPint:{_titulo:"Tipo de pintura",_doc:"Tipo de pintura (tpPint)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_valorInic:""},tpVeic:{_titulo:"Tipo de veículo",_doc:"Tipo de veículo (utilizar tabela RENAVAM) (tpVeic)",_pattern:"[0-9]{1,2}",_tipo:"texto",_valorInic:""},espVeic:{_titulo:"Espécie de veículo",_doc:"Espécie de veículo (utilizar tabela RENAVAM) (espVeic)",_pattern:"[0-9]{1}",_tipo:"texto",_valorInic:""},VIN:{_titulo:"Informa-se o veículo tem VIN (chassi) remarcado",_doc:"Informa-se o veículo tem VIN (chassi) remarcado. R-Remarcado N-NormalVIN (VIN)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"seletor",_enumeration:[{valor:"R",rotulo:"R - Remarcado"},{valor:"N",rotulo:"N - NormalVIN"}],_valorInic:"R"},condVeic:{_titulo:"Condição do veículo",_doc:"Condição do veículo (1 - acabado; 2 - inacabado; 3 - semi-acabado) (condVeic)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - acabado"},{valor:"2",rotulo:"2 - inacabado"},{valor:"3",rotulo:"3 - semi-acabado"}],_valorInic:"1"},cMod:{_titulo:"Código Marca Modelo",_doc:"Código Marca Modelo (utilizar tabela RENAVAM) (cMod)",_pattern:"[0-9]{1,6}",_tipo:"texto",_valorInic:""},cCorDENATRAN:{_titulo:"Código da Cor Segundo as regras de pré-cadastro do DENATRAN",_doc:"Código da Cor Segundo as regras de pré-cadastro do DENATRAN: 01-AMARELO;02-AZUL;03-BEGE;04-BRANCA;05-CINZA;06-DOURADA;07-GRENA  08-LARANJA;09-MARROM;10-PRATA;11-PRETA;12-ROSA;13-ROXA;14-VERDE;15-VERMELHA;16-FANTASIA (cCorDENATRAN)",_pattern:"[0-9]{1,2}",_tipo:"texto",_minLength:1,_maxLength:2,_valorInic:""},lota:{_titulo:"Quantidade máxima de permitida de passageiros sentados, inclusive motorista.",_doc:"Quantidade máxima de permitida de passageiros sentados, inclusive motorista. (lota)",_pattern:"[0-9]{1,3}",_tipo:"texto",_minLength:1,_maxLength:3,_valorInic:""},tpRest:{_titulo:"Restrição",_doc:"Restrição 0 - Não há; 1 - Alienação Fiduciária; 2 - Arrendamento Mercantil; 3 - Reserva de Domínio; 4 - Penhor de Veículos; 9 - outras. (tpRest)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Não há"},{valor:"1",rotulo:"1 - Alienação Fiduciária"},{valor:"2",rotulo:"2 - Arrendamento Mercantil"},{valor:"3",rotulo:"3 - Reserva de Domínio"},{valor:"4",rotulo:"4 - Penhor de Veículos"},{valor:"9",rotulo:"9 - outras"}],_valorInic:"0"}},med:{_titulo:"Grupo do detalhamento de Medicamentos e de matérias-primas farmacêuticas",_doc:"Grupo do detalhamento de Medicamentos e de matérias-primas farmacêuticas (med)",_tipo:"texto",_valorInic:"",cProdANVISA:{_titulo:"Utilizar o número do registro ANVISA",_doc:"Utilizar o número do registro ANVISA  ou preencher com o literal “ISENTO”, no caso de medicamento isento de registro na ANVISA. (cProdANVISA)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_valorInic:""},xMotivoIsencao:{_titulo:"Obs.: Para medicamento isento de registro na ANVISA",_doc:"Obs.: Para medicamento isento de registro na ANVISA, informar o número da decisão que o isenta, como por exemplo o número da Resolução da Diretoria Colegiada da ANVISA (RDC). (xMotivoIsencao) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:255,_valorInic:""},vPMC:{_titulo:"Preço Máximo ao Consumidor.",_doc:"Preço Máximo ao Consumidor. (vPMC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},arma:{_titulo:"Armamentos",_doc:"Armamentos (arma) (Lista)",_tipo:"texto",_valorInic:"",lista:{escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},tpArma:{_titulo:"Indicador do tipo de arma de fogo",_doc:"Indicador do tipo de arma de fogo (0 - Uso permitido; 1 - Uso restrito) (tpArma)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Uso permitido"},{valor:"1",rotulo:"1 - Uso restrito"}],_valorInic:"0"},nSerie:{_titulo:"Número de série da arma",_doc:"Número de série da arma (nSerie)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:15,_valorInic:""},nCano:{_titulo:"Número de série do cano",_doc:"Número de série do cano (nCano)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:15,_valorInic:""},descr:{_titulo:"Descrição completa da arma, compreendendo",_doc:"Descrição completa da arma, compreendendo: calibre, marca, capacidade, tipo de funcionamento, comprimento e demais elementos que permitam a sua perfeita identificação. (descr)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:256,_valorInic:""}}}},comb:{_titulo:"Informar apenas para operações com combustíveis líquidos",_doc:"Informar apenas para operações com combustíveis líquidos (comb)",_tipo:"texto",_valorInic:"",cProdANP:{_titulo:"Código de produto da ANP",_doc:"Código de produto da ANP. codificação de produtos do SIMP (http://www.anp.gov.br) (cProdANP)",_pattern:"[0-9]{9}",_tipo:"texto",_valorInic:""},descANP:{_titulo:"Descrição do Produto conforme ANP",_doc:"Descrição do Produto conforme ANP. Utilizar a descrição de produtos do Sistema de Informações de Movimentação de Produtos - SIMP (http://www.anp.gov.br/simp/). (descANP)",_tipo:"texto",_minLength:2,_maxLength:95,_valorInic:""},pGLP:{_titulo:"Percentual do GLP derivado do petróleo no produto GLP (cProdANP=210203001)",_doc:"Percentual do GLP derivado do petróleo no produto GLP (cProdANP=210203001). Informar em número decimal o percentual do GLP derivado de petróleo no produto GLP. Valores 0 a 100. (pGLP) (Opcional)",_opcional:!0,_pattern:"0(\\.[0-9]{2,4})?|[1-9]{1}[0-9]{0,1}(\\.[0-9]{2,4})?|100(\\.0{2,4})?",_type:"TDec_0302a04Max100",_tipo:"decimal",_decimals:"4",_valorInic:0},pGNn:{_titulo:"Percentual de gás natural nacional - GLGNn para o produto GLP (cProdANP=210203001)",_doc:"Percentual de gás natural nacional - GLGNn para o produto GLP (cProdANP=210203001). Informar em número decimal o percentual do Gás Natural Nacional - GLGNn para o produto GLP. Valores de 0 a 100. (pGNn) (Opcional)",_opcional:!0,_pattern:"0(\\.[0-9]{2,4})?|[1-9]{1}[0-9]{0,1}(\\.[0-9]{2,4})?|100(\\.0{2,4})?",_type:"TDec_0302a04Max100",_tipo:"decimal",_decimals:"4",_valorInic:0},pGNi:{_titulo:"Percentual de gás natural importado GLGNi para o produto GLP (cProdANP=210203001)",_doc:"Percentual de gás natural importado GLGNi para o produto GLP (cProdANP=210203001). Informar em número deciaml o percentual do Gás Natural Importado - GLGNi para o produto GLP. Valores de 0 a 100. (pGNi) (Opcional)",_opcional:!0,_pattern:"0(\\.[0-9]{2,4})?|[1-9]{1}[0-9]{0,1}(\\.[0-9]{2,4})?|100(\\.0{2,4})?",_type:"TDec_0302a04Max100",_tipo:"decimal",_decimals:"4",_valorInic:0},vPart:{_titulo:"Valor de partida (cProdANP=210203001)",_doc:"Valor de partida (cProdANP=210203001). Deve ser informado neste campo o valor por quilograma sem ICMS. (vPart) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},CODIF:{_titulo:"Código de autorização / registro do CODIF",_doc:"Código de autorização / registro do CODIF. Informar apenas quando a UF utilizar o CODIF (Sistema de Controle do    Diferimento do Imposto nas Operações com AEAC - Álcool Etílico Anidro Combustível). (CODIF) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,21}",_tipo:"texto",_valorInic:""},qTemp:{_titulo:"Quantidade de combustível faturada à temperatura ambiente",_doc:"Quantidade de combustível faturada à temperatura ambiente. Informar quando a quantidade faturada informada no campo qCom (I10) tiver sido ajustada para uma temperatura diferente da ambiente. (qTemp) (Opcional)",_opcional:!0,_pattern:"0\\.[1-9]{1}[0-9]{3}|0\\.[0-9]{3}[1-9]{1}|0\\.[0-9]{2}[1-9]{1}[0-9]{1}|0\\.[0-9]{1}[1-9]{1}[0-9]{2}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{4})?",_type:"TDec_1204temperatura",_tipo:"decimal",_decimals:"4",_valorInic:0},UFCons:{_titulo:"Sigla da UF de Consumo",_doc:"Sigla da UF de Consumo (UFCons)",_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX"}],_valorInic:"AC"},CIDE:{_titulo:"CIDE Combustíveis",_doc:"CIDE Combustíveis (CIDE) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"CIDE Combustíveis",_doc:"CIDE Combustíveis (CIDE) (Opcional)",_valorInic:""},qBCProd:{_titulo:"BC do CIDE ( Quantidade comercializada)",_doc:"BC do CIDE ( Quantidade comercializada) (qBCProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{1,4})?",_type:"TDec_1204v",_tipo:"decimal",_decimals:"4",_valorInic:0},vAliqProd:{_titulo:"Alíquota do CIDE  (em reais)",_doc:"Alíquota do CIDE  (em reais) (vAliqProd)",_pattern:"0|0\\.[0-9]{4}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{4})?",_type:"TDec_1104",_tipo:"decimal",_decimals:"4",_valorInic:0},vCIDE:{_titulo:"Valor do CIDE",_doc:"Valor do CIDE (vCIDE)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},encerrante:{_titulo:"Informações do grupo de encerrante",_doc:"Informações do grupo de encerrante (encerrante) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Informações do grupo de encerrante",_doc:"Informações do grupo de encerrante (encerrante) (Opcional)",_valorInic:""},nBico:{_titulo:"Numero de identificação do Bico utilizado no abastecimento",_doc:"Numero de identificação do Bico utilizado no abastecimento (nBico)",_pattern:"[0-9]{1,3}",_tipo:"texto",_valorInic:""},nBomba:{_titulo:"Numero de identificação da bomba ao qual o bico está interligado",_doc:"Numero de identificação da bomba ao qual o bico está interligado (nBomba) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,3}",_tipo:"texto",_valorInic:""},nTanque:{_titulo:"Numero de identificação do tanque ao qual o bico está interligado",_doc:"Numero de identificação do tanque ao qual o bico está interligado (nTanque)",_pattern:"[0-9]{1,3}",_tipo:"texto",_valorInic:""},vEncIni:{_titulo:"Valor do Encerrante no ínicio do abastecimento",_doc:"Valor do Encerrante no ínicio do abastecimento (vEncIni)",_pattern:"0|0\\.[0-9]{3}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{3})?",_type:"TDec_1203",_tipo:"decimal",_decimals:"3",_valorInic:0},vEncFin:{_titulo:"Valor do Encerrante no final do abastecimento",_doc:"Valor do Encerrante no final do abastecimento (vEncFin)",_pattern:"0|0\\.[0-9]{3}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{3})?",_type:"TDec_1203",_tipo:"decimal",_decimals:"3",_valorInic:0}}},nRECOPI:{_titulo:"Número do RECOPI",_doc:"Número do RECOPI (nRECOPI)",_pattern:"[0-9]{20}",_tipo:"texto",_maxLength:20,_valorInic:""}}},imposto:{_titulo:"Tributos incidentes nos produtos ou serviços da NF-e",_doc:"Tributos incidentes nos produtos ou serviços da NF-e (imposto)",_tipo:"texto",_valorInic:"",vTotTrib:{_titulo:"Valor estimado total de impostos federais, estaduais e municipais",_doc:"Valor estimado total de impostos federais, estaduais e municipais (vTotTrib) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{ICMS:{_titulo:"Dados do ICMS Normal e ST",_doc:"Dados do ICMS Normal e ST (ICMS)",_tipo:"texto",_valorInic:"",escolhas:{_titulo:"Dados do ICMS Normal e ST",_doc:"Dados do ICMS Normal e ST (ICMS)",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"Dados do ICMS Normal e ST",_doc:"Dados do ICMS Normal e ST (ICMS)",_valorInic:""},ICMS00:{_titulo:"Tributação pelo ICMS 00 - Tributada integralmente",_doc:"Tributação pelo ICMS 00 - Tributada integralmente (ICMS00)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"0 - Nacional; 1 - Estrangeira - Importação direta; 2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributção pelo ICMS 00 - Tributada integralmente",_doc:"Tributção pelo ICMS 00 - Tributada integralmente (CST)",_tipo:"seletor",_enumeration:[{valor:"00",rotulo:"00 - Tributada integralmente"}],_valorInic:"00"},modBC:{_titulo:"Modalidade de determinação da BC do ICMS",_doc:"Modalidade de determinação da BC do ICMS: 0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Preço Tabelado Máximo (valor); 3 - Valor da Operação. (modBC)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Preço Tabelado Máximo (valor)"},{valor:"3",rotulo:"3 - Valor da Operação"}],_valorInic:"0"},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMS:{_titulo:"Alíquota do ICMS",_doc:"Alíquota do ICMS (pICMS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},pFCP:{_titulo:"Percentual de ICMS relativo ao FCP.",_doc:"Percentual de ICMS relativo ao Fundo de Combate à Pobreza (FCP). (pFCP)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCP:{_titulo:"Valor do ICMS relativo ao FCP.",_doc:"Valor do ICMS relativo ao Fundo de Combate à Pobreza (FCP). (vFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},ICMS10:{_titulo:"Tributação pelo ICMS",_doc:"Tributação pelo ICMS 10 - Tributada e com cobrança do ICMS por substituição tributária (ICMS10)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importação direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"10 - Tributada e com cobrança do ICMS por substituição tributária",_doc:"10 - Tributada e com cobrança do ICMS por substituição tributária (CST)",_tipo:"seletor",_enumeration:[{valor:"10",rotulo:"10 - Tributada e com cobrança do ICMS por substituição tributária"}],_valorInic:"10"},modBC:{_titulo:"Modalidade de determinação da BC do ICMS: 0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Preço Tabelado Máximo (valor); 3 - Valor da Operação.",_doc:"Modalidade de determinação da BC do ICMS: 0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Preço Tabelado Máximo (valor); 3 - Valor da Operação. (modBC)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Preço Tabelado Máximo (valor)"},{valor:"3",rotulo:"3 - Valor da Operação"}],_valorInic:"0"},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMS:{_titulo:"Alíquota do ICMS",_doc:"Alíquota do ICMS (pICMS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCP:{_titulo:"Valor da Base de cálculo do FCP.",_doc:"Valor da Base de cálculo do FCP. (vBCFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCP:{_titulo:"Percentual de ICMS relativo ao FCP",_doc:"Percentual de ICMS relativo ao Fundo de Combate à Pobreza (FCP). (pFCP)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCP:{_titulo:"Valor do ICMS relativo ao FCP",_doc:"Valor do ICMS relativo ao Fundo de Combate à Pobreza (FCP). (vFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},modBCST:{_titulo:"Modalidade de determinação da BC do ICMS ST",_doc:"Modalidade de determinação da BC do ICMS ST: 0 - Preço tabelado ou máximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor) 6-Valor da Operação; (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Preço tabelado ou máximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor)"},{valor:"6",rotulo:"6 - Valor da Operação"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redução da BC ICMS ST",_doc:"Percentual de redução da BC ICMS ST (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST",_doc:"Valor da BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Alíquota do ICMS ST",_doc:"Alíquota do ICMS ST (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST",_doc:"Valor do ICMS ST (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPST:{_titulo:"Valor da Base de cálculo do FCP retido por substituicao tributaria.",_doc:"Valor da Base de cálculo do FCP retido por substituicao tributaria. (vBCFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCPST:{_titulo:"Percentual de FCP retido por substituição tributária.",_doc:"Percentual de FCP retido por substituição tributária. (pFCPST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPST:{_titulo:"Valor do FCP retido por substituição tributária.",_doc:"Valor do FCP retido por substituição tributária. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional3:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vICMSSTDeson:{_titulo:"Valor da Base de cálculo do FCP desoneração",_doc:"Valor da Base de cálculo do FCP desoneração. (vICMSSTDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},motDesICMSST:{_titulo:"Motivo da desoneração do ICMS",_doc:"Motivo da desoneração do ICMS:3-Uso na agropecuária;9-Outros;12-Fomento agropecuário (motDesICMSST)",_tipo:"seletor",_enumeration:[{valor:"3",rotulo:"3 - Uso na agropecuária"},{valor:"9",rotulo:"9 - Outros"},{valor:"12",rotulo:"12 - Fomento agropecuário"}],_valorInic:"3"}}},ICMS20:{_titulo:"Tributção pelo ICMS 20 - Com redução de base de cálculo",_doc:"Tributção pelo ICMS 20 - Com redução de base de cálculo (ICMS20)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importação direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributção pelo ICMS 20 - Com redução de base de cálculo",_doc:"Tributção pelo ICMS 20 - Com redução de base de cálculo (CST)",_tipo:"seletor",_enumeration:[{valor:"20",rotulo:"20 - Com redução de base de cálculo"}],_valorInic:"20"},modBC:{_titulo:"Modalidade de determinação da BC do ICMS",_doc:"Modalidade de determinação da BC do ICMS: 0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Preço Tabelado Máximo (valor); 3 - Valor da Operação. (modBC)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Preço Tabelado Máximo (valor)"},{valor:"3",rotulo:"3 - Valor da Operação"}],_valorInic:"0"},pRedBC:{_titulo:"Percentual de redução da BC",_doc:"Percentual de redução da BC (pRedBC)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMS:{_titulo:"Alíquota do ICMS",_doc:"Alíquota do ICMS (pICMS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCP:{_titulo:"Valor da Base de cálculo do FCP.",_doc:"Valor da Base de cálculo do FCP. (vBCFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCP:{_titulo:"Percentual de ICMS relativo ao FCP",_doc:"Percentual de ICMS relativo ao Fundo de Combate à Pobreza (FCP). (pFCP)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCP:{_titulo:"Valor do ICMS relativo ao FCP",_doc:"Valor do ICMS relativo ao Fundo de Combate à Pobreza (FCP). (vFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo desoneração",_doc:"Grupo desoneração (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo desoneração",_doc:"Grupo desoneração (Opcional)",_valorInic:""},vICMSDeson:{_titulo:"Valor do ICMS de desoneração",_doc:"Valor do ICMS de desoneração (vICMSDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},motDesICMS:{_titulo:"Motivo da desoneração do ICMS",_doc:"Motivo da desoneração do ICMS:3-Uso na agropecuária;9-Outros;12-Fomento agropecuário (motDesICMS)",_tipo:"seletor",_enumeration:[{valor:"3",rotulo:"3 - Uso na agropecuária"},{valor:"9",rotulo:"9 - Outros"},{valor:"12",rotulo:"12 - Fomento agropecuário"}],_valorInic:"3"}}},ICMS30:{_titulo:"Tributação pelo ICMS 30",_doc:"Tributação pelo ICMS 30 - Isenta ou não tributada e com cobrança do ICMS por substituição tributária (ICMS30)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importação direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributção pelo ICMS 30 - Isenta ou não tributada e com cobrança do ICMS por substituição tributária",_doc:"Tributção pelo ICMS 30 - Isenta ou não tributada e com cobrança do ICMS por substituição tributária (CST)",_tipo:"seletor",_enumeration:[{valor:"30",rotulo:"30 - Isenta ou não tributada e com cobrança do ICMS por substituição tributária"}],_valorInic:"30"},modBCST:{_titulo:"Modalidade de determinação da BC do ICMS ST",_doc:"Modalidade de determinação da BC do ICMS ST: 0 - Preço tabelado ou máximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor). 6 - Valor da Operação (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Preço tabelado ou máximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor)"},{valor:"6",rotulo:"6 - Valor da Operação"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redução da BC ICMS ST",_doc:"Percentual de redução da BC ICMS ST (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST",_doc:"Valor da BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Alíquota do ICMS ST",_doc:"Alíquota do ICMS ST (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST",_doc:"Valor do ICMS ST (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPST:{_titulo:"Valor da Base de cálculo do FCP.",_doc:"Valor da Base de cálculo do FCP. (vBCFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCPST:{_titulo:"Percentual de FCP retido por substituição tributária.",_doc:"Percentual de FCP retido por substituição tributária. (pFCPST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPST:{_titulo:"Valor do FCP retido por substituição tributária.",_doc:"Valor do FCP retido por substituição tributária. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo desoneração",_doc:"Grupo desoneração (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo desoneração",_doc:"Grupo desoneração (Opcional)",_valorInic:""},vICMSDeson:{_titulo:"Valor do ICMS de desoneração",_doc:"Valor do ICMS de desoneração (vICMSDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},motDesICMS:{_titulo:"Motivo da desoneração do ICMS",_doc:"Motivo da desoneração do ICMS:6-Utilitários Motocicleta AÁrea Livre;7-SUFRAMA;9-Outros (motDesICMS)",_tipo:"seletor",_enumeration:[{valor:"6",rotulo:"6 - Utilitários Motocicleta AÁrea Livre"},{valor:"7",rotulo:"7 - SUFRAMA"},{valor:"9",rotulo:"9 - Outros"}],_valorInic:"6"}}},ICMS40:{_titulo:"Tributação pelo ICMS",_doc:"Tributação pelo ICMS 40 - Isenta  41 - Não tributada  50 - Suspensão (ICMS40)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importação direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributação pelo ICMS",_doc:"Tributação pelo ICMS  40 - Isenta  41 - Não tributada  50 - Suspensão  51 - Diferimento (CST)",_tipo:"seletor",_enumeration:[{valor:"40",rotulo:"40 - Isenta"},{valor:"41",rotulo:"41 - Não tributada"},{valor:"50",rotulo:"50 - Suspensão  51 - Diferimento"}],_valorInic:"40"},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vICMSDeson:{_titulo:"O valor do ICMS será informado apenas nas operações com veículos beneficiados com a desoneração condicional do ICMS.",_doc:"O valor do ICMS será informado apenas nas operações com veículos beneficiados com a desoneração condicional do ICMS. (vICMSDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},motDesICMS:{_titulo:"Este campo será preenchido quando o campo anterior estiver preenchido. Informar o motivo da desoneração",_doc:"Este campo será preenchido quando o campo anterior estiver preenchido. Informar o motivo da desoneração: 1 - Táxi; 3 - Produtor Agropecuário; 4 - Frotista/Locadora; 5 - Diplomático/Consular; 6 - Utilitários e Motocicletas da Amazônia Ocidental e Áreas de Livre Comércio (Resolução 714/88 e 790/94 - CONTRAN e suas alterações); 7 - SUFRAMA; 8 - Venda a órgão Público; 9 - Outros 10- Deficiente Condutor 11- Deficiente não condutor 16 - Olimpíadas Rio 2016 90 - Solicitado pelo Fisco (motDesICMS)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 -  Deficiente não condutor 16 - Olimpíadas Rio 2016 90 - Solicitado pelo Fisco"},{valor:"3",rotulo:"3 - Produtor Agropecuário"},{valor:"4",rotulo:"4 - Frotista/Locadora"},{valor:"5",rotulo:"5 - Diplomático/Consular; 6 - Utilitários e Motocicletas da Amazônia Ocidental e Áreas de Livre Comércio (Resolução 714/88 e 790/94 - CONTRAN e suas alterações); 7 - SUFRAMA; 8 - Venda a órgão Público; 9 - Outros 10- Deficiente Condutor 11- Deficiente não condutor 1"},{valor:"6",rotulo:"6 - Olimpíadas Rio 2016 90 - Solicitado pelo Fisco"},{valor:"7",rotulo:"714/88 e 790/94 - CONTRAN e suas alterações); 7 - SUFRAMA"},{valor:"8",rotulo:"8 - Venda a órgão Público; 9 - Outros 10- Deficiente Condutor 11- Deficiente não condutor 16 - Olimpíadas Rio 2016 90 - Solicitado pelo Fisco"},{valor:"9",rotulo:"90/94 - CONTRAN e suas alterações); 7 - SUFRAMA; 8 - Venda a órgão Público; 9 - Outros"},{valor:"10",rotulo:"10 -  Deficiente Condutor"},{valor:"11",rotulo:"11 -  Deficiente não condutor"},{valor:"16",rotulo:"16 - Olimpíadas Rio 2016"},{valor:"90",rotulo:"90 - Solicitado pelo Fisco"}],_valorInic:"1"}}},ICMS51:{_titulo:"Tributação pelo ICMS 51",_doc:"Tributção pelo ICMS 51 - Diferimento A exigência do preenchimento das informações do ICMS diferido fica à critério de cada UF. (ICMS51)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importação direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributção pelo ICMS 20",_doc:"Tributção pelo ICMS 20 - Com redução de base de cálculo (CST)",_tipo:"seletor",_enumeration:[{valor:"51",rotulo:"51"}],_valorInic:"51"},modBC:{_titulo:"Modalidade de determinação da BC do ICMS",_doc:"Modalidade de determinação da BC do ICMS: 0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Preço Tabelado Máximo (valor); 3 - Valor da Operação. (modBC) (Opcional)",_opcional:!0,_tipo:"seletor",_enumeration:[{valor:"",rotulo:"Não se aplica"},{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Preço Tabelado Máximo (valor)"},{valor:"3",rotulo:"3 - Valor da Operação"}],_valorInic:""},pRedBC:{_titulo:"Percentual de redução da BC",_doc:"Percentual de redução da BC (pRedBC) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMS:{_titulo:"Alíquota do imposto",_doc:"Alíquota do imposto (pICMS) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSOp:{_titulo:"Valor do ICMS da Operação",_doc:"Valor do ICMS da Operação (vICMSOp) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pDif:{_titulo:"Percentual do diferemento",_doc:"Percentual do diferemento (pDif) (Opcional)",_opcional:!0,_pattern:"0(\\.[0-9]{2,4})?|[1-9]{1}[0-9]{0,1}(\\.[0-9]{2,4})?|100(\\.0{2,4})?",_type:"TDec_0302a04Max100",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSDif:{_titulo:"Valor do ICMS da diferido",_doc:"Valor do ICMS da diferido (vICMSDif) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCP:{_titulo:"Valor da Base de cálculo do FCP.",_doc:"Valor da Base de cálculo do FCP. (vBCFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCP:{_titulo:"Percentual de ICMS relativo ao FCP",_doc:"Percentual de ICMS relativo ao Fundo de Combate à Pobreza (FCP). (pFCP)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCP:{_titulo:"Valor do ICMS relativo ao FCP",_doc:"Valor do ICMS relativo ao Fundo de Combate à Pobreza (FCP). (vFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},pFCPDif:{_titulo:"Percentual do diferimento do ICMS relativo ao Fundo de Combate à Pobreza (FCP)",_doc:"Percentual do diferimento do ICMS relativo ao Fundo de Combate à Pobreza (FCP) (pFCPDif) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPDif:{_titulo:"Valor do ICMS relativo ao Fundo de Combate à Pobreza (FCP) diferido",_doc:"Valor do ICMS relativo ao Fundo de Combate à Pobreza (FCP) diferido (vFCPDif) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vFCPEfet:{_titulo:"Valor efetivo do ICMS relativo ao Fundo de Combate à Pobreza (FCP)",_doc:"Valor efetivo do ICMS relativo ao Fundo de Combate à Pobreza (FCP) (vFCPEfet) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},ICMS60:{_titulo:"Tributação pelo ICMS 60",_doc:"Tributação pelo ICMS 60 - ICMS cobrado anteriormente por substituição tributária (ICMS60)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importação direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributação pelo ICMS 60",_doc:"Tributação pelo ICMS  60 - ICMS cobrado anteriormente por substituição tributária (CST)",_tipo:"seletor",_enumeration:[{valor:"60",rotulo:"60 - ICMS cobrado anteriormente por substituição tributária"}],_valorInic:"60"},opcional:{_titulo:"NT2010/004",_doc:"NT2010/004 (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"NT2010/004",_doc:"NT2010/004 (Opcional)",_valorInic:""},vBCSTRet:{_titulo:"Valor da BC do ICMS ST retido anteriormente",_doc:"Valor da BC do ICMS ST retido anteriormente (vBCSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pST:{_titulo:"Aliquota suportada pelo consumidor final.",_doc:"Aliquota suportada pelo consumidor final. (pST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSSubstituto:{_titulo:"Valor do ICMS Próprio do Substituto cobrado em operação anterior",_doc:"Valor do ICMS Próprio do Substituto cobrado em operação anterior (vICMSSubstituto) (Opcional)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vICMSSTRet:{_titulo:"Valor do ICMS ST retido anteriormente",_doc:"Valor do ICMS ST retido anteriormente (vICMSSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPSTRet:{_titulo:"Valor da Base de cálculo do FCP retido anteriormente por ST.",_doc:"Valor da Base de cálculo do FCP retido anteriormente por ST. (vBCFCPSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCPSTRet:{_titulo:"Percentual de FCP retido anteriormente por substituição tributária.",_doc:"Percentual de FCP retido anteriormente por substituição tributária. (pFCPSTRet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPSTRet:{_titulo:"Valor do FCP retido por substituição tributária.",_doc:"Valor do FCP retido por substituição tributária. (vFCPSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional3:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},pRedBCEfet:{_titulo:"Percentual de redução da base de cálculo efetiva.",_doc:"Percentual de redução da base de cálculo efetiva. (pRedBCEfet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vBCEfet:{_titulo:"Valor da base de cálculo efetiva.",_doc:"Valor da base de cálculo efetiva. (vBCEfet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSEfet:{_titulo:"Alíquota do ICMS efetiva.",_doc:"Alíquota do ICMS efetiva. (pICMSEfet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSEfet:{_titulo:"Valor do ICMS efetivo.",_doc:"Valor do ICMS efetivo. (vICMSEfet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},ICMS70:{_titulo:"Tributação pelo ICMS 70",_doc:"Tributação pelo ICMS  70 - Com redução de base de cálculo e cobrança do ICMS por substituição tributária (ICMS70)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importação direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributção pelo ICMS 70",_doc:"Tributção pelo ICMS 70 - Com redução de base de cálculo e cobrança do ICMS por substituição tributária (CST)",_tipo:"seletor",_enumeration:[{valor:"70",rotulo:"70 - Com redução de base de cálculo e cobrança do ICMS por substituição tributária"}],_valorInic:"70"},modBC:{_titulo:"Modalidade de determinação da BC do ICMS",_doc:"Modalidade de determinação da BC do ICMS: 0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Preço Tabelado Máximo (valor); 3 - Valor da Operação. (modBC)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Preço Tabelado Máximo (valor)"},{valor:"3",rotulo:"3 - Valor da Operação"}],_valorInic:"0"},pRedBC:{_titulo:"Percentual de redução da BC",_doc:"Percentual de redução da BC (pRedBC)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMS:{_titulo:"Alíquota do ICMS",_doc:"Alíquota do ICMS (pICMS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCP:{_titulo:"Valor da Base de cálculo do FCP.",_doc:"Valor da Base de cálculo do FCP. (vBCFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCP:{_titulo:"Percentual de ICMS relativo ao FCP",_doc:"Percentual de ICMS relativo ao Fundo de Combate à Pobreza (FCP). (pFCP)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCP:{_titulo:"Valor do ICMS relativo ao FCP",_doc:"Valor do ICMS relativo ao Fundo de Combate à Pobreza (FCP). (vFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPST:{_titulo:"Valor da Base de cálculo do FCP retido por substituição tributária.",_doc:"Valor da Base de cálculo do FCP retido por substituição tributária. (vBCFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCPST:{_titulo:"Percentual de FCP retido por substituição tributária.",_doc:"Percentual de FCP retido por substituição tributária. (pFCPST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPST:{_titulo:"Valor do FCP retido por substituição tributária.",_doc:"Valor do FCP retido por substituição tributária. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional3:{_titulo:"Grupo desoneração",_doc:"Grupo desoneração (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo desoneração",_doc:"Grupo desoneração (Opcional)",_valorInic:""},vICMSDeson:{_titulo:"Valor do ICMS de desoneração",_doc:"Valor do ICMS de desoneração (vICMSDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},motDesICMS:{_titulo:"Motivo da desoneração do ICMS",_doc:"Motivo da desoneração do ICMS:3-Uso na agropecuária;9-Outros;12-Fomento agropecuário (motDesICMS)",_tipo:"seletor",_enumeration:[{valor:"3",rotulo:"3 - Uso na agropecuária"},{valor:"9",rotulo:"9 - Outros"},{valor:"12",rotulo:"12 - Fomento agropecuário"}],_valorInic:"3"}},opcional4:{_titulo:"Grupo desoneração ST",_doc:"Grupo desoneração ST (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo desoneração ST",_doc:"Grupo desoneração ST (Opcional)",_valorInic:""},vICMSSTDeson:{_titulo:"Valor do ICMS- ST desonerado",_doc:"Valor do ICMS- ST desonerado (vICMSSTDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},motDesICMSST:{_titulo:"Motivo da desoneração do ICMS- ST",_doc:"Motivo da desoneração do ICMS- ST (motDesICMSST)",_tipo:"seletor",_enumeration:[{valor:"3",rotulo:"3"},{valor:"9",rotulo:"9"},{valor:"12",rotulo:"12"}],_valorInic:"3"}},modBCST:{_titulo:"Modalidade de determinação da BC do ICMS ST",_doc:"Modalidade de determinação da BC do ICMS ST: 0 - Preço tabelado ou máximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor). 6 - Valor da Operação (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Preço tabelado ou máximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor)"},{valor:"6",rotulo:"6 - Valor da Operação"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redução da BC ICMS ST",_doc:"Percentual de redução da BC ICMS ST (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST",_doc:"Valor da BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Alíquota do ICMS ST",_doc:"Alíquota do ICMS ST (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST",_doc:"Valor do ICMS ST (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},ICMS90:{_titulo:"Tributação pelo ICMS 90 - Outras",_doc:"Tributação pelo ICMS 90 - Outras (ICMS90)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importação direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributção pelo ICMS 90 - Outras",_doc:"Tributção pelo ICMS 90 - Outras (CST)",_tipo:"seletor",_enumeration:[{valor:"90",rotulo:"90 - Outras"}],_valorInic:"90"},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},modBC:{_titulo:"Modalidade de determinação da BC do ICMS",_doc:"Modalidade de determinação da BC do ICMS:  0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Preço Tabelado Máximo (valor); 3 - Valor da Operação. (modBC)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Preço Tabelado Máximo (valor)"},{valor:"3",rotulo:"3 - Valor da Operação"}],_valorInic:"0"},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pRedBC:{_titulo:"Percentual de redução da BC",_doc:"Percentual de redução da BC (pRedBC) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},pICMS:{_titulo:"Alíquota do ICMS",_doc:"Alíquota do ICMS (pICMS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCP:{_titulo:"Valor da Base de cálculo do FCP.",_doc:"Valor da Base de cálculo do FCP. (vBCFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCP:{_titulo:"Percentual de ICMS relativo ao FCP",_doc:"Percentual de ICMS relativo ao Fundo de Combate à Pobreza (FCP). (pFCP)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCP:{_titulo:"Valor do ICMS relativo ao FCP",_doc:"Valor do ICMS relativo ao Fundo de Combate à Pobreza (FCP). (vFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},modBCST:{_titulo:"Modalidade de determinação da BC do ICMS ST",_doc:"Modalidade de determinação da BC do ICMS ST: 0 - Preço tabelado ou máximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor) 6 - Valor da Operação. (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Preço tabelado ou máximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor)"},{valor:"6",rotulo:"6 - Valor da Operação"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redução da BC ICMS ST",_doc:"Percentual de redução da BC ICMS ST (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST",_doc:"Valor da BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Alíquota do ICMS ST",_doc:"Alíquota do ICMS ST (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST",_doc:"Valor do ICMS ST (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPST:{_titulo:"Valor da Base de cálculo do FCP.",_doc:"Valor da Base de cálculo do FCP. (vBCFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCPST:{_titulo:"Percentual de FCP retido por substituição tributária.",_doc:"Percentual de FCP retido por substituição tributária. (pFCPST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPST:{_titulo:"Valor do FCP retido por substituição tributária.",_doc:"Valor do FCP retido por substituição tributária. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},opcional3:{_titulo:"Grupo desoneração",_doc:"Grupo desoneração (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo desoneração",_doc:"Grupo desoneração (Opcional)",_valorInic:""},vICMSDeson:{_titulo:"Valor do ICMS de desoneração",_doc:"Valor do ICMS de desoneração (vICMSDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},motDesICMS:{_titulo:"Motivo da desoneração do ICMS",_doc:"Motivo da desoneração do ICMS:3-Uso na agropecuária;9-Outros;12-Fomento agropecuário (motDesICMS)",_tipo:"seletor",_enumeration:[{valor:"3",rotulo:"3 - Uso na agropecuária"},{valor:"9",rotulo:"9 - Outros"},{valor:"12",rotulo:"12 - Fomento agropecuário"}],_valorInic:"3"}},opcional4:{_titulo:"Grupo desoneração ST",_doc:"Grupo desoneração ST (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo desoneração ST",_doc:"Grupo desoneração ST (Opcional)",_valorInic:""},vICMSSTDeson:{_titulo:"Valor do ICMS- ST desonerado",_doc:"Valor do ICMS- ST desonerado (vICMSSTDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},motDesICMSST:{_titulo:"Motivo da desoneração do ICMS- ST ",_doc:"Motivo da desoneração do ICMS- ST  (motDesICMSST)",_tipo:"seletor",_enumeration:[{valor:"3",rotulo:"3"},{valor:"9",rotulo:"9"},{valor:"12",rotulo:"12"}],_valorInic:"3"}}},ICMSPart:{_titulo:"Partilha do ICMS entre a UF de origem e UF de destino",_doc:"Partilha do ICMS entre a UF de origem e UF de destino ou a UF definida na legislação Operação interestadual para consumidor final com partilha do ICMS  devido na operação entre a UF de origem e a UF do destinatário ou ou a UF definida na legislação. (Ex. UF da concessionária de entrega do  veículos) (ICMSPart)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importação direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributação pelo ICMS 10",_doc:"Tributação pelo ICMS  10 - Tributada e com cobrança do ICMS por substituição tributária; 90 - Outros. (CST)",_tipo:"seletor",_enumeration:[{valor:"10",rotulo:"10 - Tributada e com cobrança do ICMS por substituição tributária"},{valor:"90",rotulo:"90 - Outros"}],_valorInic:"10"},modBC:{_titulo:"Modalidade de determinação da BC do ICMS",_doc:"Modalidade de determinação da BC do ICMS:  0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Preço Tabelado Máximo (valor); 3 - Valor da Operação. (modBC)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Preço Tabelado Máximo (valor)"},{valor:"3",rotulo:"3 - Valor da Operação"}],_valorInic:"0"},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pRedBC:{_titulo:"Percentual de redução da BC",_doc:"Percentual de redução da BC (pRedBC) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},pICMS:{_titulo:"Alíquota do ICMS",_doc:"Alíquota do ICMS (pICMS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},modBCST:{_titulo:"Modalidade de determinação da BC do ICMS ST",_doc:"Modalidade de determinação da BC do ICMS ST: 0 - Preço tabelado ou máximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor). 6 - Valor da Operação (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Preço tabelado ou máximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor)"},{valor:"6",rotulo:"6 - Valor da Operação"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redução da BC ICMS ST",_doc:"Percentual de redução da BC ICMS ST (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST",_doc:"Valor da BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Alíquota do ICMS ST",_doc:"Alíquota do ICMS ST (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST",_doc:"Valor do ICMS ST (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pBCOp:{_titulo:"Percentual para determinação do valor  da Base de Cálculo da operação própria.",_doc:"Percentual para determinação do valor  da Base de Cálculo da operação própria. (pBCOp)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},UFST:{_titulo:"Sigla da UF para qual é devido o ICMS ST da operação.",_doc:"Sigla da UF para qual é devido o ICMS ST da operação. (UFST)",_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX"}],_valorInic:"AC"}},ICMSST:{_titulo:"Grupo de informação do ICMSST devido para a UF de destino.",_doc:"Grupo de informação do ICMSST devido para a UF de destino, nas operações interestaduais de produtos que tiveram retenção antecipada de ICMS por ST na UF do remetente. Repasse via Substituto Tributário. (ICMSST)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importação direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributção pelo ICMS",_doc:"Tributção pelo ICMS 41-Não Tributado. 60-Cobrado anteriormente por substituição tributária. (CST)",_tipo:"seletor",_enumeration:[{valor:"41",rotulo:"41 - Não Tributado"},{valor:"60",rotulo:"60 - Cobrado anteriormente por substituição tributária"}],_valorInic:"41"},vBCSTRet:{_titulo:"Informar o valor da BC do ICMS ST retido na UF remetente",_doc:"Informar o valor da BC do ICMS ST retido na UF remetente (vBCSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pST:{_titulo:"Aliquota suportada pelo consumidor final.",_doc:"Aliquota suportada pelo consumidor final. (pST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSSubstituto:{_titulo:"Valor do ICMS Próprio do Substituto cobrado em operação anterior",_doc:"Valor do ICMS Próprio do Substituto cobrado em operação anterior (vICMSSubstituto) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vICMSSTRet:{_titulo:" Informar o valor do ICMS ST retido na UF remetente (iv2.0))",_doc:" Informar o valor do ICMS ST retido na UF remetente (iv2.0)) (vICMSSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPSTRet:{_titulo:"Informar o valor da Base de Cálculo do FCP retido anteriormente por ST.",_doc:"Informar o valor da Base de Cálculo do FCP retido anteriormente por ST. (vBCFCPSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCPSTRet:{_titulo:"Percentual relativo ao FCP retido por substituição tributária.",_doc:"Percentual relativo ao Fundo de Combate à Pobreza (FCP) retido por substituição tributária. (pFCPSTRet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPSTRet:{_titulo:"Valor do ICMS relativo ao FCP retido por substituição tributária.",_doc:"Valor do ICMS relativo ao Fundo de Combate à Pobreza (FCP) retido por substituição tributária. (vFCPSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},pRedBCEfet:{_titulo:"Percentual de redução da base de cálculo efetiva.",_doc:"Percentual de redução da base de cálculo efetiva. (pRedBCEfet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vBCEfet:{_titulo:"Valor da base de cálculo efetiva.",_doc:"Valor da base de cálculo efetiva. (vBCEfet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSEfet:{_titulo:"Alíquota do ICMS efetivo.",_doc:"Alíquota do ICMS efetivo. (pICMSEfet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSEfet:{_titulo:"Valor do ICMS efetivo.",_doc:"Valor do ICMS efetivo. (vICMSEfet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},vBCSTDest:{_titulo:" Informar o valor da BC do ICMS ST da UF destino",_doc:" Informar o valor da BC do ICMS ST da UF destino (vBCSTDest)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vICMSSTDest:{_titulo:"Informar o valor da BC do ICMS ST da UF destino",_doc:"Informar o valor da BC do ICMS ST da UF destino (vICMSSTDest)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},ICMSSN101:{_titulo:"Tributação do ICMS pelo SIMPLES NACIONAL e CSOSN=101 (v.2.0)",_doc:"Tributação do ICMS pelo SIMPLES NACIONAL e CSOSN=101 (v.2.0) (ICMSSN101)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importação direta  2 - Estrangeira - Adquirida no mercado interno  (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CSOSN:{_titulo:"101- Tributada pelo Simples Nacional com permissão de crédito. (v.2.0)",_doc:"101- Tributada pelo Simples Nacional com permissão de crédito. (v.2.0) (CSOSN)",_tipo:"seletor",_enumeration:[{valor:"101",rotulo:"101 -  Tributada pelo Simples Nacional com permissão de crédito. (v.2.0"}],_valorInic:"101"},pCredSN:{_titulo:"Alíquota aplicável de cálculo do crédito (Simples Nacional).",_doc:"Alíquota aplicável de cálculo do crédito (Simples Nacional). (pCredSN)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vCredICMSSN:{_titulo:"Valor crédito do ICMS que pode ser aproveitado nos termos do art. 23 da LC 123 (Simples Nacional)",_doc:"Valor crédito do ICMS que pode ser aproveitado nos termos do art. 23 da LC 123 (Simples Nacional) (vCredICMSSN)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},ICMSSN102:{_titulo:"Tributação do ICMS pelo SIMPLES NACIONAL e CSOSN=102, 103, 300 ou 400 (v.2.0))",_doc:"Tributação do ICMS pelo SIMPLES NACIONAL e CSOSN=102, 103, 300 ou 400 (v.2.0)) (ICMSSN102)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importação direta  2 - Estrangeira - Adquirida no mercado interno  (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CSOSN:{_titulo:"102- Tributada pelo Simples Nacional sem permissão de crédito",_doc:"102- Tributada pelo Simples Nacional sem permissão de crédito.  103 - Isenção do ICMS  no Simples Nacional para faixa de receita bruta. 300 - Imune. 400 - Não tributada pelo Simples Nacional (v.2.0) (v.2.0) (CSOSN)",_tipo:"seletor",_enumeration:[{valor:"102",rotulo:"102 -  Tributada pelo Simples Nacional sem permissão de crédito"},{valor:"103",rotulo:"103 - Isenção do ICMS  no Simples Nacional para faixa de receita bruta"},{valor:"300",rotulo:"300 - Imune"},{valor:"400",rotulo:"400 - Não tributada pelo Simples Nacional (v.2.0) (v.2.0"}],_valorInic:"102"}},ICMSSN201:{_titulo:"Tributação do ICMS pelo SIMPLES NACIONAL e CSOSN=201 (v.2.0)",_doc:"Tributação do ICMS pelo SIMPLES NACIONAL e CSOSN=201 (v.2.0) (ICMSSN201)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"Origem da mercadoria: 0 - Nacional; 1 - Estrangeira - Importação direta; 2 - Estrangeira - Adquirida no mercado interno. (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CSOSN:{_titulo:"201- Tributada pelo Simples Nacional com permissão de crédito e com cobrança do ICMS por Substituição Tributária (v.2.0)",_doc:"201- Tributada pelo Simples Nacional com permissão de crédito e com cobrança do ICMS por Substituição Tributária (v.2.0) (CSOSN)",_tipo:"seletor",_enumeration:[{valor:"201",rotulo:"201 -  Tributada pelo Simples Nacional com permissão de crédito e com cobrança do ICMS por Substituição Tributária (v.2.0"}],_valorInic:"201"},modBCST:{_titulo:"Modalidade de determinação da BC do ICMS ST",_doc:"Modalidade de determinação da BC do ICMS ST: 0 - Preço tabelado ou máximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor). 6 - Valor da Operação (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Preço tabelado ou máximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor). (v2.0"},{valor:"6",rotulo:"6 - Valor da Operação"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redução da BC ICMS ST ",_doc:"Percentual de redução da BC ICMS ST  (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST",_doc:"Valor da BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Alíquota do ICMS ST",_doc:"Alíquota do ICMS ST (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST",_doc:"Valor do ICMS ST (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPST:{_titulo:"Valor da Base de cálculo do FCP.",_doc:"Valor da Base de cálculo do FCP. (vBCFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCPST:{_titulo:"Percentual de FCP retido por substituição tributária.",_doc:"Percentual de FCP retido por substituição tributária. (pFCPST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPST:{_titulo:"Valor do FCP retido por substituição tributária.",_doc:"Valor do FCP retido por substituição tributária. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},pCredSN:{_titulo:"Alíquota aplicável de cálculo do crédito (Simples Nacional).",_doc:"Alíquota aplicável de cálculo do crédito (Simples Nacional). (pCredSN)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vCredICMSSN:{_titulo:"Valor crédito do ICMS que pode ser aproveitado nos termos do art. 23 da LC 123 (Simples Nacional)",_doc:"Valor crédito do ICMS que pode ser aproveitado nos termos do art. 23 da LC 123 (Simples Nacional) (vCredICMSSN)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},ICMSSN202:{_titulo:"Tributação do ICMS pelo SIMPLES NACIONAL e CSOSN=202 ou 203 (v.2.0)",_doc:"Tributação do ICMS pelo SIMPLES NACIONAL e CSOSN=202 ou 203 (v.2.0) (ICMSSN202)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"Origem da mercadoria: 0 - Nacional; 1 - Estrangeira - Importação direta; 2 - Estrangeira - Adquirida no mercado interno. (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CSOSN:{_titulo:"202- Tributada pelo Simples Nacional sem permissão de crédito e com cobrança do ICMS por Substituição Tributária; 203-  Isenção do ICMS nos Simples Nacional para faixa de receita bruta e com cobrança do ICMS por Substituição Tributária (v.2.0)",_doc:"202- Tributada pelo Simples Nacional sem permissão de crédito e com cobrança do ICMS por Substituição Tributária; 203-  Isenção do ICMS nos Simples Nacional para faixa de receita bruta e com cobrança do ICMS por Substituição Tributária (v.2.0) (CSOSN)",_tipo:"seletor",_enumeration:[{valor:"202",rotulo:"202 -  Tributada pelo Simples Nacional sem permissão de crédito e com cobrança do ICMS por Substituição Tributária"},{valor:"203",rotulo:"203 -   Isenção do ICMS nos Simples Nacional para faixa de receita bruta e com cobrança do ICMS por Substituição Tributária (v.2.0"}],_valorInic:"202"},modBCST:{_titulo:"Modalidade de determinação da BC do ICMS ST",_doc:"Modalidade de determinação da BC do ICMS ST: 0 - Preço tabelado ou máximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor). 6 - Valor da Operação (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Preço tabelado ou máximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor). (v2.0"},{valor:"6",rotulo:"6 - Valor da Operação"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redução da BC ICMS ST ",_doc:"Percentual de redução da BC ICMS ST  (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST",_doc:"Valor da BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Alíquota do ICMS ST",_doc:"Alíquota do ICMS ST (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST",_doc:"Valor do ICMS ST (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPST:{_titulo:"Valor da Base de cálculo do FCP.",_doc:"Valor da Base de cálculo do FCP. (vBCFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCPST:{_titulo:"Percentual de FCP retido por substituição tributária.",_doc:"Percentual de FCP retido por substituição tributária. (pFCPST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPST:{_titulo:"Valor do FCP retido por substituição tributária.",_doc:"Valor do FCP retido por substituição tributária. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},ICMSSN500:{_titulo:"Tributação do ICMS pelo SIMPLES NACIONAL",_doc:"Tributação do ICMS pelo SIMPLES NACIONAL,CRT=1 - Simples Nacional e CSOSN=500 (v.2.0) (ICMSSN500)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importação direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CSOSN:{_titulo:"500 - ICMS cobrado anterirmente por substituição tributária (substituído) ou por antecipação (v.2.0)",_doc:"500 - ICMS cobrado anterirmente por substituição tributária (substituído) ou por antecipação (v.2.0) (CSOSN)",_tipo:"seletor",_enumeration:[{valor:"500",rotulo:"500 - ICMS cobrado anterirmente por substituição tributária (substituído) ou por antecipação (v.2.0"}],_valorInic:"500"},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCSTRet:{_titulo:"Valor da BC do ICMS ST retido anteriormente",_doc:"Valor da BC do ICMS ST retido anteriormente (vBCSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pST:{_titulo:"Aliquota suportada pelo consumidor final.",_doc:"Aliquota suportada pelo consumidor final. (pST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSSubstituto:{_titulo:"Valor do ICMS próprio do substituto",_doc:"Valor do ICMS próprio do substituto (vICMSSubstituto) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vICMSSTRet:{_titulo:"Valor do ICMS ST retido anteriormente ",_doc:"Valor do ICMS ST retido anteriormente  (vICMSSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPSTRet:{_titulo:"Valor da Base de cálculo do FCP retido anteriormente.",_doc:"Valor da Base de cálculo do FCP retido anteriormente. (vBCFCPSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCPSTRet:{_titulo:"Percentual de FCP retido anteriormente por substituição tributária.",_doc:"Percentual de FCP retido anteriormente por substituição tributária. (pFCPSTRet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPSTRet:{_titulo:"Valor do FCP retido por substituição tributária.",_doc:"Valor do FCP retido por substituição tributária. (vFCPSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional3:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},pRedBCEfet:{_titulo:"Percentual de redução da base de cálculo efetiva.",_doc:"Percentual de redução da base de cálculo efetiva. (pRedBCEfet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vBCEfet:{_titulo:"Valor da base de cálculo efetiva.",_doc:"Valor da base de cálculo efetiva. (vBCEfet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSEfet:{_titulo:"Alíquota do ICMS efetiva.",_doc:"Alíquota do ICMS efetiva. (pICMSEfet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSEfet:{_titulo:"Valor do ICMS efetivo.",_doc:"Valor do ICMS efetivo. (vICMSEfet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},ICMSSN900:{_titulo:"Tributação do ICMS pelo SIMPLES NACIONAL, CRT=1 - Simples Nacional e CSOSN=900",_doc:"Tributação do ICMS pelo SIMPLES NACIONAL, CRT=1 - Simples Nacional e CSOSN=900 (ICMSSN900)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importação direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CSOSN:{_titulo:"Tributação pelo ICMS 900 - Outros(v2.0)",_doc:"Tributação pelo ICMS 900 - Outros(v2.0) (CSOSN)",_tipo:"seletor",_enumeration:[{valor:"900",rotulo:"900 - Outros(v2.0"}],_valorInic:"900"},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},modBC:{_titulo:"Modalidade de determinação da BC do ICMS",_doc:"Modalidade de determinação da BC do ICMS:  0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Preço Tabelado Máximo (valor); 3 - Valor da Operação. (modBC)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Preço Tabelado Máximo (valor)"},{valor:"3",rotulo:"3 - Valor da Operação"}],_valorInic:"0"},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pRedBC:{_titulo:"Percentual de redução da BC",_doc:"Percentual de redução da BC (pRedBC) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},pICMS:{_titulo:"Alíquota do ICMS",_doc:"Alíquota do ICMS (pICMS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},modBCST:{_titulo:"Modalidade de determinação da BC do ICMS ST",_doc:"Modalidade de determinação da BC do ICMS ST: 0 - Preço tabelado ou máximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor). 6 - Valor da Operação (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Preço tabelado ou máximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor)"},{valor:"6",rotulo:"6 - Valor da Operação"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redução da BC ICMS ST",_doc:"Percentual de redução da BC ICMS ST (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST",_doc:"Valor da BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Alíquota do ICMS ST",_doc:"Alíquota do ICMS ST (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST",_doc:"Valor do ICMS ST (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPST:{_titulo:"Valor da Base de cálculo do FCP.",_doc:"Valor da Base de cálculo do FCP. (vBCFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCPST:{_titulo:"Percentual de FCP retido por substituição tributária.",_doc:"Percentual de FCP retido por substituição tributária. (pFCPST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPST:{_titulo:"Valor do FCP retido por substituição tributária.",_doc:"Valor do FCP retido por substituição tributária. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},opcional3:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},pCredSN:{_titulo:"Alíquota aplicável de cálculo do crédito (Simples Nacional).",_doc:"Alíquota aplicável de cálculo do crédito (Simples Nacional). (pCredSN)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vCredICMSSN:{_titulo:"Valor crédito do ICMS que pode ser aproveitado nos termos do art. 23 da LC 123 (Simples Nacional)",_doc:"Valor crédito do ICMS que pode ser aproveitado nos termos do art. 23 da LC 123 (Simples Nacional) (vCredICMSSN)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}}}},IPI:{_titulo:"IPI",_doc:"IPI (Opcional)",_opcional:!0,_type:"TIpi",_tipo:"texto",_valorInic:"",visivel:{_titulo:"IPI",_doc:"IPI (Opcional)",_valorInic:""},CNPJProd:{_titulo:"CNPJ do produtor da mercadoria",_doc:"CNPJ do produtor da mercadoria, quando diferente do emitente. Somente para os casos de exportação direta ou indireta. (CNPJProd) (Opcional)",_opcional:!0,_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},cSelo:{_titulo:"Código do selo de controle do IPI",_doc:"Código do selo de controle do IPI (cSelo) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},qSelo:{_titulo:"Quantidade de selo de controle do IPI",_doc:"Quantidade de selo de controle do IPI (qSelo) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,12}",_tipo:"texto",_valorInic:""},cEnq:{_titulo:"Código de Enquadramento Legal do IPI (tabela a ser criada pela RFB)",_doc:"Código de Enquadramento Legal do IPI (tabela a ser criada pela RFB) (cEnq)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:3,_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},IPITrib:{_titulo:"IPITrib",_doc:"IPITrib",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código da Situação Tributária do IPI",_doc:"Código da Situação Tributária do IPI: 00-Entrada com recuperação de crédito 49 - Outras entradas 50-Saída tributada 99-Outras saídas (CST)",_tipo:"seletor",_enumeration:[{valor:"00",rotulo:"00 - Entrada com recuperação de crédito"},{valor:"49",rotulo:"49 - Outras entradas"},{valor:"50",rotulo:"50 - Saída tributada"},{valor:"99",rotulo:"99 - Outras saídas"}],_valorInic:"00"},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{vBC:{_titulo:"Valor da BC do IPI",_doc:"Valor da BC do IPI (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pIPI:{_titulo:"Alíquota do IPI",_doc:"Alíquota do IPI (pIPI)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0}},opcao2:{qUnid:{_titulo:"Quantidade total na unidade padrão para tributação",_doc:"Quantidade total na unidade padrão para tributação (qUnid)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{1,4})?",_type:"TDec_1204v",_tipo:"decimal",_decimals:"4",_valorInic:0},vUnid:{_titulo:"Valor por Unidade Tributável. Informar o valor do imposto Pauta por unidade de medida.",_doc:"Valor por Unidade Tributável. Informar o valor do imposto Pauta por unidade de medida. (vUnid)",_pattern:"0|0\\.[0-9]{4}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{4})?",_type:"TDec_1104",_tipo:"decimal",_decimals:"4",_valorInic:0}}},vIPI:{_titulo:"Valor do IPI",_doc:"Valor do IPI (vIPI)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},IPINT:{_titulo:"IPINT",_doc:"IPINT",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código da Situação Tributária do IPI",_doc:"Código da Situação Tributária do IPI: 01-Entrada tributada com alíquota zero 02-Entrada isenta 03-Entrada não-tributada 04-Entrada imune 05-Entrada com suspensão 51-Saída tributada com alíquota zero 52-Saída isenta 53-Saída não-tributada 54-Saída imune 55-Saída com suspensão (CST)",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 - Entrada tributada com alíquota zero"},{valor:"02",rotulo:"02 - Entrada isenta"},{valor:"03",rotulo:"03 - Entrada não-tributada"},{valor:"04",rotulo:"04 - Entrada imune"},{valor:"05",rotulo:"05 - Entrada com suspensão"},{valor:"51",rotulo:"51 - Saída tributada com alíquota zero"},{valor:"52",rotulo:"52 - Saída isenta"},{valor:"53",rotulo:"53 - Saída não-tributada"},{valor:"54",rotulo:"54 - Saída imune"},{valor:"55",rotulo:"55 - Saída com suspensão"}],_valorInic:"01"}}}},II:{_titulo:"Dados do Imposto de Importação",_doc:"Dados do Imposto de Importação (II) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados do Imposto de Importação",_doc:"Dados do Imposto de Importação (II) (Opcional)",_valorInic:""},vBC:{_titulo:"Base da BC do Imposto de Importação",_doc:"Base da BC do Imposto de Importação (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vDespAdu:{_titulo:"Valor das despesas aduaneiras",_doc:"Valor das despesas aduaneiras (vDespAdu)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vII:{_titulo:"Valor do Imposto de Importação",_doc:"Valor do Imposto de Importação (vII)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vIOF:{_titulo:"Valor do Imposto sobre Operações Financeiras",_doc:"Valor do Imposto sobre Operações Financeiras (vIOF)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},opcao2:{IPI:{_titulo:"IPI",_doc:"IPI (Opcional)",_opcional:!0,_type:"TIpi",_tipo:"texto",_valorInic:"",visivel:{_titulo:"IPI",_doc:"IPI (Opcional)",_valorInic:""},CNPJProd:{_titulo:"CNPJ do produtor da mercadoria, quando diferente do emitente",_doc:"CNPJ do produtor da mercadoria, quando diferente do emitente. Somente para os casos de exportação direta ou indireta. (CNPJProd) (Opcional)",_opcional:!0,_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},cSelo:{_titulo:"Código do selo de controle do IPI",_doc:"Código do selo de controle do IPI (cSelo) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},qSelo:{_titulo:"Quantidade de selo de controle do IPI",_doc:"Quantidade de selo de controle do IPI (qSelo) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,12}",_tipo:"texto",_valorInic:""},cEnq:{_titulo:"Código de Enquadramento Legal do IPI",_doc:"Código de Enquadramento Legal do IPI (tabela a ser criada pela RFB) (cEnq)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:3,_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},IPITrib:{_titulo:"IPITrib",_doc:"IPITrib",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código da Situação Tributária do IPI",_doc:"Código da Situação Tributária do IPI: 00-Entrada com recuperação de crédito 49 - Outras entradas 50-Saída tributada 99-Outras saídas (CST)",_tipo:"seletor",_enumeration:[{valor:"00",rotulo:"00 - Entrada com recuperação de crédito"},{valor:"49",rotulo:"49 - Outras entradas"},{valor:"50",rotulo:"50 - Saída tributada"},{valor:"99",rotulo:"99 - Outras saídas"}],_valorInic:"00"},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{vBC:{_titulo:"Valor da BC do IPI",_doc:"Valor da BC do IPI (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pIPI:{_titulo:"Alíquota do IPI",_doc:"Alíquota do IPI (pIPI)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0}},opcao2:{qUnid:{_titulo:"Quantidade total na unidade padrão para tributação",_doc:"Quantidade total na unidade padrão para tributação (qUnid)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{1,4})?",_type:"TDec_1204v",_tipo:"decimal",_decimals:"4",_valorInic:0},vUnid:{_titulo:"Valor por Unidade Tributável",_doc:"Valor por Unidade Tributável. Informar o valor do imposto Pauta por unidade de medida. (vUnid)",_pattern:"0|0\\.[0-9]{4}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{4})?",_type:"TDec_1104",_tipo:"decimal",_decimals:"4",_valorInic:0}}},vIPI:{_titulo:"Valor do IPI",_doc:"Valor do IPI (vIPI)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},IPINT:{_titulo:"IPINT",_doc:"IPINT",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código da Situação Tributária do IPI",_doc:"Código da Situação Tributária do IPI: 01-Entrada tributada com alíquota zero 02-Entrada isenta 03-Entrada não-tributada 04-Entrada imune 05-Entrada com suspensão 51-Saída tributada com alíquota zero 52-Saída isenta 53-Saída não-tributada 54-Saída imune 55-Saída com suspensão (CST)",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 - Entrada tributada com alíquota zero"},{valor:"02",rotulo:"02 - Entrada isenta"},{valor:"03",rotulo:"03 - Entrada não-tributada"},{valor:"04",rotulo:"04 - Entrada imune"},{valor:"05",rotulo:"05 - Entrada com suspensão"},{valor:"51",rotulo:"51 - Saída tributada com alíquota zero"},{valor:"52",rotulo:"52 - Saída isenta"},{valor:"53",rotulo:"53 - Saída não-tributada"},{valor:"54",rotulo:"54 - Saída imune"},{valor:"55",rotulo:"55 - Saída com suspensão"}],_valorInic:"01"}}}},ISSQN:{_titulo:"ISSQN",_doc:"ISSQN (ISSQN)",_tipo:"texto",_valorInic:"",visivel:{_titulo:"ISSQN",_doc:"ISSQN",_valorInic:""},vBC:{_titulo:"Valor da BC do ISSQN",_doc:"Valor da BC do ISSQN (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vAliq:{_titulo:"Alíquota do ISSQN",_doc:"Alíquota do ISSQN (vAliq)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vISSQN:{_titulo:"Valor da do ISSQN",_doc:"Valor da do ISSQN (vISSQN)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},cMunFG:{_titulo:"Informar o município de ocorrência do fato gerador do ISSQN",_doc:"Informar o município de ocorrência do fato gerador do ISSQN. Utilizar a Tabela do IBGE (Anexo VII - Tabela de UF, Município e País). “Atenção, não vincular com os campos B12, C10 ou E10” v2.0 (cMunFG)",_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""},cListServ:{_titulo:"Informar o Item da lista de serviços da LC 116/03 em que se classifica o serviço.",_doc:"Informar o Item da lista de serviços da LC 116/03 em que se classifica o serviço. (cListServ)",_type:"TCListServ",_tipo:"seletor",_enumeration:[{valor:"01.01",rotulo:"01.01"},{valor:"01.02",rotulo:"01.02"},{valor:"01.03",rotulo:"01.03"},{valor:"01.04",rotulo:"01.04"},{valor:"01.05",rotulo:"01.05"},{valor:"01.06",rotulo:"01.06"},{valor:"01.07",rotulo:"01.07"},{valor:"01.08",rotulo:"01.08"},{valor:"01.09",rotulo:"01.09"},{valor:"02.01",rotulo:"02.01"},{valor:"03.02",rotulo:"03.02"},{valor:"03.03",rotulo:"03.03"},{valor:"03.04",rotulo:"03.04"},{valor:"03.05",rotulo:"03.05"},{valor:"04.01",rotulo:"04.01"},{valor:"04.02",rotulo:"04.02"},{valor:"04.03",rotulo:"04.03"},{valor:"04.04",rotulo:"04.04"},{valor:"04.05",rotulo:"04.05"},{valor:"04.06",rotulo:"04.06"},{valor:"04.07",rotulo:"04.07"},{valor:"04.08",rotulo:"04.08"},{valor:"04.09",rotulo:"04.09"},{valor:"04.10",rotulo:"04.10"},{valor:"04.11",rotulo:"04.11"},{valor:"04.12",rotulo:"04.12"},{valor:"04.13",rotulo:"04.13"},{valor:"04.14",rotulo:"04.14"},{valor:"04.15",rotulo:"04.15"},{valor:"04.16",rotulo:"04.16"},{valor:"04.17",rotulo:"04.17"},{valor:"04.18",rotulo:"04.18"},{valor:"04.19",rotulo:"04.19"},{valor:"04.20",rotulo:"04.20"},{valor:"04.21",rotulo:"04.21"},{valor:"04.22",rotulo:"04.22"},{valor:"04.23",rotulo:"04.23"},{valor:"05.01",rotulo:"05.01"},{valor:"05.02",rotulo:"05.02"},{valor:"05.03",rotulo:"05.03"},{valor:"05.04",rotulo:"05.04"},{valor:"05.05",rotulo:"05.05"},{valor:"05.06",rotulo:"05.06"},{valor:"05.07",rotulo:"05.07"},{valor:"05.08",rotulo:"05.08"},{valor:"05.09",rotulo:"05.09"},{valor:"06.01",rotulo:"06.01"},{valor:"06.02",rotulo:"06.02"},{valor:"06.03",rotulo:"06.03"},{valor:"06.04",rotulo:"06.04"},{valor:"06.05",rotulo:"06.05"},{valor:"06.06",rotulo:"06.06"},{valor:"07.01",rotulo:"07.01"},{valor:"07.02",rotulo:"07.02"},{valor:"07.03",rotulo:"07.03"},{valor:"07.04",rotulo:"07.04"},{valor:"07.05",rotulo:"07.05"},{valor:"07.06",rotulo:"07.06"},{valor:"07.07",rotulo:"07.07"},{valor:"07.08",rotulo:"07.08"},{valor:"07.09",rotulo:"07.09"},{valor:"07.10",rotulo:"07.10"},{valor:"07.11",rotulo:"07.11"},{valor:"07.12",rotulo:"07.12"},{valor:"07.13",rotulo:"07.13"},{valor:"07.16",rotulo:"07.16"},{valor:"07.17",rotulo:"07.17"},{valor:"07.18",rotulo:"07.18"},{valor:"07.19",rotulo:"07.19"},{valor:"07.20",rotulo:"07.20"},{valor:"07.21",rotulo:"07.21"},{valor:"07.22",rotulo:"07.22"},{valor:"08.01",rotulo:"08.01"},{valor:"08.02",rotulo:"08.02"},{valor:"09.01",rotulo:"09.01"},{valor:"09.02",rotulo:"09.02"},{valor:"09.03",rotulo:"09.03"},{valor:"10.01",rotulo:"10.01"},{valor:"10.02",rotulo:"10.02"},{valor:"10.03",rotulo:"10.03"},{valor:"10.04",rotulo:"10.04"},{valor:"10.05",rotulo:"10.05"},{valor:"10.06",rotulo:"10.06"},{valor:"10.07",rotulo:"10.07"},{valor:"10.08",rotulo:"10.08"},{valor:"10.09",rotulo:"10.09"},{valor:"10.10",rotulo:"10.10"},{valor:"11.01",rotulo:"11.01"},{valor:"11.02",rotulo:"11.02"},{valor:"11.03",rotulo:"11.03"},{valor:"11.04",rotulo:"11.04"},{valor:"12.01",rotulo:"12.01"},{valor:"12.02",rotulo:"12.02"},{valor:"12.03",rotulo:"12.03"},{valor:"12.04",rotulo:"12.04"},{valor:"12.05",rotulo:"12.05"},{valor:"12.06",rotulo:"12.06"},{valor:"12.07",rotulo:"12.07"},{valor:"12.08",rotulo:"12.08"},{valor:"12.09",rotulo:"12.09"},{valor:"12.10",rotulo:"12.10"},{valor:"12.11",rotulo:"12.11"},{valor:"12.12",rotulo:"12.12"},{valor:"12.13",rotulo:"12.13"},{valor:"12.14",rotulo:"12.14"},{valor:"12.15",rotulo:"12.15"},{valor:"12.16",rotulo:"12.16"},{valor:"12.17",rotulo:"12.17"},{valor:"13.02",rotulo:"13.02"},{valor:"13.03",rotulo:"13.03"},{valor:"13.04",rotulo:"13.04"},{valor:"13.05",rotulo:"13.05"},{valor:"14.01",rotulo:"14.01"},{valor:"14.02",rotulo:"14.02"},{valor:"14.03",rotulo:"14.03"},{valor:"14.04",rotulo:"14.04"},{valor:"14.05",rotulo:"14.05"},{valor:"14.06",rotulo:"14.06"},{valor:"14.07",rotulo:"14.07"},{valor:"14.08",rotulo:"14.08"},{valor:"14.09",rotulo:"14.09"},{valor:"14.10",rotulo:"14.10"},{valor:"14.11",rotulo:"14.11"},{valor:"14.12",rotulo:"14.12"},{valor:"14.13",rotulo:"14.13"},{valor:"14.14",rotulo:"14.14"},{valor:"15.01",rotulo:"15.01"},{valor:"15.02",rotulo:"15.02"},{valor:"15.03",rotulo:"15.03"},{valor:"15.04",rotulo:"15.04"},{valor:"15.05",rotulo:"15.05"},{valor:"15.06",rotulo:"15.06"},{valor:"15.07",rotulo:"15.07"},{valor:"15.08",rotulo:"15.08"},{valor:"15.09",rotulo:"15.09"},{valor:"15.10",rotulo:"15.10"},{valor:"15.11",rotulo:"15.11"},{valor:"15.12",rotulo:"15.12"},{valor:"15.13",rotulo:"15.13"},{valor:"15.14",rotulo:"15.14"},{valor:"15.15",rotulo:"15.15"},{valor:"15.16",rotulo:"15.16"},{valor:"15.17",rotulo:"15.17"},{valor:"15.18",rotulo:"15.18"},{valor:"16.01",rotulo:"16.01"},{valor:"16.02",rotulo:"16.02"},{valor:"17.01",rotulo:"17.01"},{valor:"17.02",rotulo:"17.02"},{valor:"17.03",rotulo:"17.03"},{valor:"17.04",rotulo:"17.04"},{valor:"17.05",rotulo:"17.05"},{valor:"17.06",rotulo:"17.06"},{valor:"17.08",rotulo:"17.08"},{valor:"17.09",rotulo:"17.09"},{valor:"17.10",rotulo:"17.10"},{valor:"17.11",rotulo:"17.11"},{valor:"17.12",rotulo:"17.12"},{valor:"17.13",rotulo:"17.13"},{valor:"17.14",rotulo:"17.14"},{valor:"17.15",rotulo:"17.15"},{valor:"17.16",rotulo:"17.16"},{valor:"17.17",rotulo:"17.17"},{valor:"17.18",rotulo:"17.18"},{valor:"17.19",rotulo:"17.19"},{valor:"17.20",rotulo:"17.20"},{valor:"17.21",rotulo:"17.21"},{valor:"17.22",rotulo:"17.22"},{valor:"17.23",rotulo:"17.23"},{valor:"17.24",rotulo:"17.24"},{valor:"17.25",rotulo:"17.25"},{valor:"18.01",rotulo:"18.01"},{valor:"19.01",rotulo:"19.01"},{valor:"20.01",rotulo:"20.01"},{valor:"20.02",rotulo:"20.02"},{valor:"20.03",rotulo:"20.03"},{valor:"21.01",rotulo:"21.01"},{valor:"22.01",rotulo:"22.01"},{valor:"23.01",rotulo:"23.01"},{valor:"24.01",rotulo:"24.01"},{valor:"25.01",rotulo:"25.01"},{valor:"25.02",rotulo:"25.02"},{valor:"25.03",rotulo:"25.03"},{valor:"25.04",rotulo:"25.04"},{valor:"25.05",rotulo:"25.05"},{valor:"26.01",rotulo:"26.01"},{valor:"27.01",rotulo:"27.01"},{valor:"28.01",rotulo:"28.01"},{valor:"29.01",rotulo:"29.01"},{valor:"30.01",rotulo:"30.01"},{valor:"31.01",rotulo:"31.01"},{valor:"32.01",rotulo:"32.01"},{valor:"33.01",rotulo:"33.01"},{valor:"34.01",rotulo:"34.01"},{valor:"35.01",rotulo:"35.01"},{valor:"36.01",rotulo:"36.01"},{valor:"37.01",rotulo:"37.01"},{valor:"38.01",rotulo:"38.01"},{valor:"39.01",rotulo:"39.01"},{valor:"40.01",rotulo:"40.01"}],_valorInic:"01.01"},vDeducao:{_titulo:"Valor dedução para redução da base de cálculo",_doc:"Valor dedução para redução da base de cálculo (vDeducao) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vOutro:{_titulo:"Valor outras retenções",_doc:"Valor outras retenções (vOutro) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vDescIncond:{_titulo:"Valor desconto incondicionado",_doc:"Valor desconto incondicionado (vDescIncond) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vDescCond:{_titulo:"Valor desconto condicionado",_doc:"Valor desconto condicionado (vDescCond) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vISSRet:{_titulo:"Valor Retenção ISS",_doc:"Valor Retenção ISS (vISSRet) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},indISS:{_titulo:"Exibilidade do ISS:1-Exigível;2-Não incidente;3-Isenção;4-Exportação;5-Imunidade;6-Exig.Susp. Judicial;7-Exig.Susp. ADM",_doc:"Exibilidade do ISS:1-Exigível;2-Não incidente;3-Isenção;4-Exportação;5-Imunidade;6-Exig.Susp. Judicial;7-Exig.Susp. ADM (indISS)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Exigível"},{valor:"2",rotulo:"2 - Não incidente"},{valor:"3",rotulo:"3 - Isenção"},{valor:"4",rotulo:"4 - Exportação"},{valor:"5",rotulo:"5 - Imunidade"},{valor:"6",rotulo:"6 - Exig.Susp. Judicial"},{valor:"7",rotulo:"7 - Exig.Susp. ADM"}],_valorInic:"1"},cServico:{_titulo:"Código do serviço prestado dentro do município",_doc:"Código do serviço prestado dentro do município (cServico) (Opcional)",_opcional:!0,_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""},cMun:{_titulo:"Código do Município de Incidência do Imposto",_doc:"Código do Município de Incidência do Imposto (cMun) (Opcional)",_opcional:!0,_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""},cPais:{_titulo:"Código de Pais",_doc:"Código de Pais (cPais) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,4}",_tipo:"texto",_valorInic:""},nProcesso:{_titulo:"Número do Processo administrativo ou judicial de suspenção do processo",_doc:"Número do Processo administrativo ou judicial de suspenção do processo (nProcesso) (Opcional)",_opcional:!0,_tipo:"texto",_minLength:1,_maxLength:30,_valorInic:""},indIncentivo:{_titulo:"Indicador de Incentivo Fiscal. 1=Sim; 2=Não",_doc:"Indicador de Incentivo Fiscal. 1=Sim; 2=Não (indIncentivo)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Sim"},{valor:"2",rotulo:"2 - Não"}],_valorInic:"1"}}}},PIS:{_titulo:"Dados do PIS",_doc:"Dados do PIS (PIS) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",escolhas:{_titulo:"Dados do PIS",_doc:"Dados do PIS (PIS) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"Dados do PIS",_doc:"Dados do PIS (PIS) (Opcional)",_valorInic:""},PISAliq:{_titulo:"Código de Situação Tributária do PIS",_doc:"Código de Situação Tributária do PIS.  01 - Operação Tributável - Base de Cálculo = Valor da Operação Alíquota Normal (Cumulativo/Não Cumulativo); 02 - Operação Tributável - Base de Calculo = Valor da Operação (Alíquota Diferenciada); (PISAliq)",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código de Situação Tributária do PIS",_doc:"Código de Situação Tributária do PIS.  01 - Operação Tributável - Base de Cálculo = Valor da Operação Alíquota Normal (Cumulativo/Não Cumulativo); 02 - Operação Tributável - Base de Calculo = Valor da Operação (Alíquota Diferenciada); (CST)",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 - Operação Tributável - Base de Cálculo = Valor da Operação Alíquota Normal (Cumulativo/Não Cumulativo)"},{valor:"02",rotulo:"02 - Operação Tributável - Base de Calculo = Valor da Operação (Alíquota Diferenciada)"}],_valorInic:"01"},vBC:{_titulo:"Valor da BC do PIS",_doc:"Valor da BC do PIS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pPIS:{_titulo:"Alíquota do PIS (em percentual)",_doc:"Alíquota do PIS (em percentual) (pPIS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vPIS:{_titulo:"Valor do PIS",_doc:"Valor do PIS (vPIS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},PISQtde:{_titulo:"Código de Situação Tributária do PIS",_doc:"Código de Situação Tributária do PIS. 03 - Operação Tributável - Base de Calculo = Quantidade Vendida x Alíquota por Unidade de Produto; (PISQtde)",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código de Situação Tributária do PIS",_doc:"Código de Situação Tributária do PIS. 03 - Operação Tributável - Base de Calculo = Quantidade Vendida x Alíquota por Unidade de Produto; (CST)",_tipo:"seletor",_enumeration:[{valor:"03",rotulo:"03 - Operação Tributável - Base de Calculo = Quantidade Vendida x Alíquota por Unidade de Produto"}],_valorInic:"03"},qBCProd:{_titulo:"Quantidade Vendida ",_doc:"Quantidade Vendida  (qBCProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{1,4})?",_type:"TDec_1204v",_tipo:"decimal",_decimals:"4",_valorInic:0},vAliqProd:{_titulo:"Alíquota do PIS (em reais)",_doc:"Alíquota do PIS (em reais) (vAliqProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,4})?",_type:"TDec_1104v",_tipo:"decimal",_decimals:"4",_valorInic:0},vPIS:{_titulo:"Valor do PIS",_doc:"Valor do PIS (vPIS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},PISNT:{_titulo:"Código de Situação Tributária do PIS",_doc:"Código de Situação Tributária do PIS. 04 - Operação Tributável - Tributação Monofásica - (Alíquota Zero); 06 - Operação Tributável - Alíquota Zero; 07 - Operação Isenta da contribuição; 08 - Operação Sem Incidência da contribuição; 09 - Operação com suspensão da contribuição; (PISNT)",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código de Situação Tributária do PIS",_doc:"Código de Situação Tributária do PIS. 04 - Operação Tributável - Tributação Monofásica - (Alíquota Zero); 05 - Operação Tributável (ST); 06 - Operação Tributável - Alíquota Zero; 07 - Operação Isenta da contribuição; 08 - Operação Sem Incidência da contribuição; 09 - Operação com suspensão da contribuição; (CST)",_tipo:"seletor",_enumeration:[{valor:"04",rotulo:"04 - Operação Tributável - Tributação Monofásica - (Alíquota Zero)"},{valor:"05",rotulo:"05 - Operação Tributável (ST)"},{valor:"06",rotulo:"06 - Operação Tributável - Alíquota Zero"},{valor:"07",rotulo:"07 - Operação Isenta da contribuição"},{valor:"08",rotulo:"08 - Operação Sem Incidência da contribuição"},{valor:"09",rotulo:"09 - Operação com suspensão da contribuição"}],_valorInic:"04"}},PISOutr:{_titulo:"Código de Situação Tributária do PIS",_doc:"Código de Situação Tributária do PIS. 99 - Outras Operações. (PISOutr)",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código de Situação Tributária do PIS",_doc:"Código de Situação Tributária do PIS. 99 - Outras Operações. (CST)",_tipo:"seletor",_enumeration:[{valor:"49",rotulo:"49"},{valor:"50",rotulo:"50"},{valor:"51",rotulo:"51"},{valor:"52",rotulo:"52"},{valor:"53",rotulo:"53"},{valor:"54",rotulo:"54"},{valor:"55",rotulo:"55"},{valor:"56",rotulo:"56"},{valor:"60",rotulo:"60"},{valor:"61",rotulo:"61"},{valor:"62",rotulo:"62"},{valor:"63",rotulo:"63"},{valor:"64",rotulo:"64"},{valor:"65",rotulo:"65"},{valor:"66",rotulo:"66"},{valor:"67",rotulo:"67"},{valor:"70",rotulo:"70"},{valor:"71",rotulo:"71"},{valor:"72",rotulo:"72"},{valor:"73",rotulo:"73"},{valor:"74",rotulo:"74"},{valor:"75",rotulo:"75"},{valor:"98",rotulo:"98"},{valor:"99",rotulo:"99 - Outras Operações"}],_valorInic:"49"},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{vBC:{_titulo:"Valor da BC do PIS",_doc:"Valor da BC do PIS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pPIS:{_titulo:"Alíquota do PIS (em percentual)",_doc:"Alíquota do PIS (em percentual) (pPIS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0}},opcao2:{qBCProd:{_titulo:"Quantidade Vendida",_doc:"Quantidade Vendida (qBCProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{1,4})?",_type:"TDec_1204v",_tipo:"decimal",_decimals:"4",_valorInic:0},vAliqProd:{_titulo:"Alíquota do PIS (em reais)",_doc:"Alíquota do PIS (em reais) (vAliqProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,4})?",_type:"TDec_1104v",_tipo:"decimal",_decimals:"4",_valorInic:0}}},vPIS:{_titulo:"Valor do PIS",_doc:"Valor do PIS (vPIS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}}},PISST:{_titulo:"Dados do PIS Substituição Tributária",_doc:"Dados do PIS Substituição Tributária (PISST) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados do PIS Substituição Tributária",_doc:"Dados do PIS Substituição Tributária (PISST) (Opcional)",_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{vBC:{_titulo:"Valor da BC do PIS ST",_doc:"Valor da BC do PIS ST (vBC)",_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},pPIS:{_titulo:"Alíquota do PIS ST (em percentual)",_doc:"Alíquota do PIS ST (em percentual) (pPIS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0}},opcao2:{qBCProd:{_titulo:"Quantidade Vendida",_doc:"Quantidade Vendida (qBCProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{4})?",_type:"TDec_1204",_tipo:"decimal",_decimals:"4",_valorInic:0},vAliqProd:{_titulo:"Alíquota do PIS ST (em reais)",_doc:"Alíquota do PIS ST (em reais) (vAliqProd)",_pattern:"0|0\\.[0-9]{4}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{4})?",_type:"TDec_1104",_tipo:"decimal",_decimals:"4",_valorInic:0}}},vPIS:{_titulo:"Valor do PIS ST",_doc:"Valor do PIS ST (vPIS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},indSomaPISST:{_titulo:"Indica se o valor do PISST compõe o valor total da NF-e;",_doc:"Indica se o valor do PISST compõe o valor total da NF-e; (indSomaPISST) (Opcional)",_opcional:!0,_tipo:"seletor",_enumeration:[{valor:"",rotulo:"Não se aplica"},{valor:"0",rotulo:"0"},{valor:"1",rotulo:"1"}],_valorInic:""}},COFINS:{_titulo:"Dados do COFINS",_doc:"Dados do COFINS (COFINS) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",escolhas:{_titulo:"Dados do COFINS",_doc:"Dados do COFINS (COFINS) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"Dados do COFINS",_doc:"Dados do COFINS (COFINS) (Opcional)",_valorInic:""},COFINSAliq:{_titulo:"Código de Situação Tributária do COFINS.  01 - Operação Tributável - Base de Cálculo = Valor da Operação Alíquota Normal (Cumulativo/Não Cumulativo); 02 - Operação Tributável - Base de Calculo = Valor da Operação (Alíquota Diferenciada);",_doc:"Código de Situação Tributária do COFINS.  01 - Operação Tributável - Base de Cálculo = Valor da Operação Alíquota Normal (Cumulativo/Não Cumulativo); 02 - Operação Tributável - Base de Calculo = Valor da Operação (Alíquota Diferenciada); (COFINSAliq)",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código de Situação Tributária do COFINS",_doc:"Código de Situação Tributária do COFINS.  01 - Operação Tributável - Base de Cálculo = Valor da Operação Alíquota Normal (Cumulativo/Não Cumulativo); 02 - Operação Tributável - Base de Calculo = Valor da Operação (Alíquota Diferenciada); (CST)",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 - Operação Tributável - Base de Cálculo = Valor da Operação Alíquota Normal (Cumulativo/Não Cumulativo)"},{valor:"02",rotulo:"02 - Operação Tributável - Base de Calculo = Valor da Operação (Alíquota Diferenciada)"}],_valorInic:"01"},vBC:{_titulo:"Valor da BC do COFINS",_doc:"Valor da BC do COFINS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pCOFINS:{_titulo:"Alíquota do COFINS (em percentual)",_doc:"Alíquota do COFINS (em percentual) (pCOFINS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vCOFINS:{_titulo:"Valor do COFINS",_doc:"Valor do COFINS (vCOFINS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},COFINSQtde:{_titulo:"Código de Situação Tributária do COFINS",_doc:"Código de Situação Tributária do COFINS. 03 - Operação Tributável - Base de Calculo = Quantidade Vendida x Alíquota por Unidade de Produto; (COFINSQtde)",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código de Situação Tributária do COFINS. 03 - Operação Tributável - Base de Calculo = Quantidade Vendida x Alíquota por Unidade de Produto;",_doc:"Código de Situação Tributária do COFINS. 03 - Operação Tributável - Base de Calculo = Quantidade Vendida x Alíquota por Unidade de Produto; (CST)",_tipo:"seletor",_enumeration:[{valor:"03",rotulo:"03 - Operação Tributável - Base de Calculo = Quantidade Vendida x Alíquota por Unidade de Produto"}],_valorInic:"03"},qBCProd:{_titulo:"Quantidade Vendida",_doc:"Quantidade Vendida (qBCProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{1,4})?",_type:"TDec_1204v",_tipo:"decimal",_decimals:"4",_valorInic:0},vAliqProd:{_titulo:"Alíquota do COFINS (em reais)",_doc:"Alíquota do COFINS (em reais) (vAliqProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,4})?",_type:"TDec_1104v",_tipo:"decimal",_decimals:"4",_valorInic:0},vCOFINS:{_titulo:"Valor do COFINS",_doc:"Valor do COFINS (vCOFINS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},COFINSNT:{_titulo:"Código de Situação Tributária do COFINS",_doc:"Código de Situação Tributária do COFINS: 04 - Operação Tributável - Tributação Monofásica - (Alíquota Zero); 06 - Operação Tributável - Alíquota Zero; 07 - Operação Isenta da contribuição; 08 - Operação Sem Incidência da contribuição; 09 - Operação com suspensão da contribuição; (COFINSNT)",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código de Situação Tributária do COFINS",_doc:"Código de Situação Tributária do COFINS: 04 - Operação Tributável - Tributação Monofásica - (Alíquota Zero); 05 - Operação Tributável (ST); 06 - Operação Tributável - Alíquota Zero; 07 - Operação Isenta da contribuição; 08 - Operação Sem Incidência da contribuição; 09 - Operação com suspensão da contribuição; (CST)",_tipo:"seletor",_enumeration:[{valor:"04",rotulo:"04 - Operação Tributável - Tributação Monofásica - (Alíquota Zero)"},{valor:"05",rotulo:"05 - Operação Tributável (ST)"},{valor:"06",rotulo:"06 - Operação Tributável - Alíquota Zero"},{valor:"07",rotulo:"07 - Operação Isenta da contribuição"},{valor:"08",rotulo:"08 - Operação Sem Incidência da contribuição"},{valor:"09",rotulo:"09 - Operação com suspensão da contribuição"}],_valorInic:"04"}},COFINSOutr:{_titulo:"Código de Situação Tributária do COFINS",_doc:"Código de Situação Tributária do COFINS: 49 - Outras Operações de Saída 50 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Tributada no Mercado Interno 51 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Não Tributada no Mercado Interno 52 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita de Exportação 53 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno 54 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas no Mercado Interno e de Exportação 55 - Operação com Direito a Crédito - Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação 56 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação 60 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Tributada no Mercado Interno 61 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Não-Tributada no Mercado Interno 62 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita de Exportação 63 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno 64 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas no Mercado Interno e de Exportação 65 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação 66 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação 67 - Crédito Presumido - Outras Operações 70 - Operação de Aquisição sem Direito a Crédito 71 - Operação de Aquisição com Isenção 72 - Operação de Aquisição com Suspensão 73 - Operação de Aquisição a Alíquota Zero 74 - Operação de Aquisição sem Incidência da Contribuição 75 - Operação de Aquisição por Substituição Tributária 98 - Outras Operações de Entrada 99 - Outras Operações. (COFINSOutr)",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código de Situação Tributária do COFINS",_doc:"Código de Situação Tributária do COFINS: 49 - Outras Operações de Saída 50 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Tributada no Mercado Interno 51 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Não Tributada no Mercado Interno 52 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita de Exportação 53 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno 54 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas no Mercado Interno e de Exportação 55 - Operação com Direito a Crédito - Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação 56 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação 60 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Tributada no Mercado Interno 61 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Não-Tributada no Mercado Interno 62 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita de Exportação 63 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno 64 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas no Mercado Interno e de Exportação 65 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação 66 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação 67 - Crédito Presumido - Outras Operações 70 - Operação de Aquisição sem Direito a Crédito 71 - Operação de Aquisição com Isenção 72 - Operação de Aquisição com Suspensão 73 - Operação de Aquisição a Alíquota Zero 74 - Operação de Aquisição sem Incidência da Contribuição 75 - Operação de Aquisição por Substituição Tributária 98 - Outras Operações de Entrada 99 - Outras Operações. (CST)",_tipo:"seletor",_enumeration:[{valor:"49",rotulo:"49 - Outras Operações de Saída"},{valor:"50",rotulo:"50 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Tributada no Mercado Interno"},{valor:"51",rotulo:"51 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Não Tributada no Mercado Interno"},{valor:"52",rotulo:"52 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita de Exportação"},{valor:"53",rotulo:"53 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno"},{valor:"54",rotulo:"54 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas no Mercado Interno e de Exportação"},{valor:"55",rotulo:"55 - Operação com Direito a Crédito - Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação"},{valor:"56",rotulo:"56 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação"},{valor:"60",rotulo:"60 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Tributada no Mercado Interno"},{valor:"61",rotulo:"61 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Não-Tributada no Mercado Interno"},{valor:"62",rotulo:"62 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita de Exportação"},{valor:"63",rotulo:"63 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno"},{valor:"64",rotulo:"64 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas no Mercado Interno e de Exportação"},{valor:"65",rotulo:"65 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação"},{valor:"66",rotulo:"66 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação"},{valor:"67",rotulo:"67 - Crédito Presumido - Outras Operações"},{valor:"70",rotulo:"70 - Operação de Aquisição sem Direito a Crédito"},{valor:"71",rotulo:"71 - Operação de Aquisição com Isenção"},{valor:"72",rotulo:"72 - Operação de Aquisição com Suspensão"},{valor:"73",rotulo:"73 - Operação de Aquisição a Alíquota Zero"},{valor:"74",rotulo:"74 - Operação de Aquisição sem Incidência da Contribuição"},{valor:"75",rotulo:"75 - Operação de Aquisição por Substituição Tributária"},{valor:"98",rotulo:"98 - Outras Operações de Entrada"},{valor:"99",rotulo:"99 - Outras Operações"}],_valorInic:"49"},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{vBC:{_titulo:"Valor da BC do COFINS",_doc:"Valor da BC do COFINS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pCOFINS:{_titulo:"Alíquota do COFINS (em percentual)",_doc:"Alíquota do COFINS (em percentual) (pCOFINS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0}},opcao2:{qBCProd:{_titulo:"Quantidade Vendida",_doc:"Quantidade Vendida (qBCProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{1,4})?",_type:"TDec_1204v",_tipo:"decimal",_decimals:"4",_valorInic:0},vAliqProd:{_titulo:"Alíquota do COFINS (em reais)",_doc:"Alíquota do COFINS (em reais) (vAliqProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,4})?",_type:"TDec_1104v",_tipo:"decimal",_decimals:"4",_valorInic:0}}},vCOFINS:{_titulo:"Valor do COFINS",_doc:"Valor do COFINS (vCOFINS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}}},COFINSST:{_titulo:"Dados do COFINS da Substituição Tributaria;",_doc:"Dados do COFINS da Substituição Tributaria; (COFINSST) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados do COFINS da Substituição Tributaria;",_doc:"Dados do COFINS da Substituição Tributaria; (COFINSST) (Opcional)",_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{vBC:{_titulo:"Valor da BC do COFINS ST",_doc:"Valor da BC do COFINS ST (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pCOFINS:{_titulo:"Alíquota do COFINS ST(em percentual)",_doc:"Alíquota do COFINS ST(em percentual) (pCOFINS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0}},opcao2:{qBCProd:{_titulo:"Quantidade Vendida",_doc:"Quantidade Vendida (qBCProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{4})?",_type:"TDec_1204",_tipo:"decimal",_decimals:"4",_valorInic:0},vAliqProd:{_titulo:"Alíquota do COFINS ST(em reais)",_doc:"Alíquota do COFINS ST(em reais) (vAliqProd)",_pattern:"0|0\\.[0-9]{4}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{4})?",_type:"TDec_1104",_tipo:"decimal",_decimals:"4",_valorInic:0}}},vCOFINS:{_titulo:"Valor do COFINS ST",_doc:"Valor do COFINS ST (vCOFINS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},indSomaCOFINSST:{_titulo:"Indica se o valor da COFINS ST compõe o valor total da NFe",_doc:"Indica se o valor da COFINS ST compõe o valor total da NFe (indSomaCOFINSST) (Opcional)",_opcional:!0,_tipo:"seletor",_enumeration:[{valor:"",rotulo:"Não se aplica"},{valor:"0",rotulo:"0"},{valor:"1",rotulo:"1"}],_valorInic:""}},ICMSUFDest:{_titulo:"Grupo a ser informado nas vendas interestaduais para consumidor final, não contribuinte de ICMS",_doc:"Grupo a ser informado nas vendas interestaduais para consumidor final, não contribuinte de ICMS (ICMSUFDest) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo a ser informado nas vendas interestaduais para consumidor final, não contribuinte de ICMS",_doc:"Grupo a ser informado nas vendas interestaduais para consumidor final, não contribuinte de ICMS (ICMSUFDest) (Opcional)",_valorInic:""},vBCUFDest:{_titulo:"Valor da Base de Cálculo do ICMS na UF do destinatário.",_doc:"Valor da Base de Cálculo do ICMS na UF do destinatário. (vBCUFDest)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vBCFCPUFDest:{_titulo:"Valor da Base de Cálculo do FCP na UF do destinatário.",_doc:"Valor da Base de Cálculo do FCP na UF do destinatário. (vBCFCPUFDest) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCPUFDest:{_titulo:"Percentual adicional inserido na alíquota interna da UF de destino, relativo ao FCP naquela UF.",_doc:"Percentual adicional inserido na alíquota interna da UF de destino, relativo ao Fundo de Combate à Pobreza (FCP) naquela UF. (pFCPUFDest) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},pICMSUFDest:{_titulo:"Alíquota adotada nas operações internas na UF do destinatário para o produto / mercadoria.",_doc:"Alíquota adotada nas operações internas na UF do destinatário para o produto / mercadoria. (pICMSUFDest)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},pICMSInter:{_titulo:"Alíquota interestadual das UF envolvidas",_doc:"Alíquota interestadual das UF envolvidas: - 4% alíquota interestadual para produtos importados; - 7% para os Estados de origem do Sul e Sudeste (exceto ES), destinado para os Estados do Norte e Nordeste  ou ES; - 12% para os demais casos. (pICMSInter)",_tipo:"seletor",_enumeration:[{valor:"4.00",rotulo:"4,00 %"},{valor:"7.00",rotulo:"7,00 %"},{valor:"12.00",rotulo:"12,00 %"}],_valorInic:"4.00"},pICMSInterPart:{_titulo:"Percentual de partilha para a UF do destinatário",_doc:"Percentual de partilha para a UF do destinatário: - 40% em 2016; - 60% em 2017; - 80% em 2018; - 100% a partir de 2019. (pICMSInterPart)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPUFDest:{_titulo:"Valor do ICMS relativo ao FCP da UF de destino.",_doc:"Valor do ICMS relativo ao Fundo de Combate à Pobreza (FCP) da UF de destino. (vFCPUFDest) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vICMSUFDest:{_titulo:"Valor do ICMS de partilha para a UF do destinatário.",_doc:"Valor do ICMS de partilha para a UF do destinatário. (vICMSUFDest)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vICMSUFRemet:{_titulo:"Valor do ICMS de partilha para a UF do remetente",_doc:"Valor do ICMS de partilha para a UF do remetente. Nota: A partir de 2019, este valor será zero. (vICMSUFRemet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},impostoDevol:{_titulo:"impostoDevol",_doc:"impostoDevol (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"impostoDevol",_doc:"impostoDevol (Opcional)",_valorInic:""},pDevol:{_titulo:"Percentual de mercadoria devolvida",_doc:"Percentual de mercadoria devolvida (pDevol)",_pattern:"0(\\.[0-9]{2})?|100(\\.00)?|[1-9]{1}[0-9]{0,1}(\\.[0-9]{2})?",_type:"TDec_0302Max100",_tipo:"decimal",_decimals:"2",_valorInic:0},IPI:{_titulo:"Informação de IPI devolvido",_doc:"Informação de IPI devolvido (IPI)",_tipo:"texto",_valorInic:"",vIPIDevol:{_titulo:"Valor do IPI devolvido",_doc:"Valor do IPI devolvido (vIPIDevol)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},infAdProd:{_titulo:"Informações adicionais do produto (norma referenciada, informações complementares, etc)",_doc:"Informações adicionais do produto (norma referenciada, informações complementares, etc) (infAdProd) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:500,_valorInic:""}}},total:{_titulo:"Dados dos totais da NF-e",_doc:"Dados dos totais da NF-e (total)",_tipo:"texto",_valorInic:"",ICMSTot:{_titulo:"Totais referentes ao ICMS",_doc:"Totais referentes ao ICMS (ICMSTot)",_tipo:"texto",_valorInic:"",vBC:{_titulo:"BC do ICMS",_doc:"BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vICMS:{_titulo:"Valor Total do ICMS",_doc:"Valor Total do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vICMSDeson:{_titulo:"Valor Total do ICMS desonerado",_doc:"Valor Total do ICMS desonerado (vICMSDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vFCPUFDest:{_titulo:"Valor total do ICMS relativo ao FCP para a UF de destino.",_doc:"Valor total do ICMS relativo ao Fundo de Combate à Pobreza (FCP) para a UF de destino. (vFCPUFDest) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vICMSUFDest:{_titulo:"Valor total do ICMS de partilha para a UF do destinatário",_doc:"Valor total do ICMS de partilha para a UF do destinatário (vICMSUFDest) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vICMSUFRemet:{_titulo:"Valor total do ICMS de partilha para a UF do remetente",_doc:"Valor total do ICMS de partilha para a UF do remetente (vICMSUFRemet) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vFCP:{_titulo:"Valor Total do FCP",_doc:"Valor Total do FCP (Fundo de Combate à Pobreza). (vFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vBCST:{_titulo:"BC do ICMS ST",_doc:"BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vST:{_titulo:"Valor Total do ICMS ST",_doc:"Valor Total do ICMS ST (vST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vFCPST:{_titulo:"Valor Total do FCP retido por substituição tributária.",_doc:"Valor Total do FCP (Fundo de Combate à Pobreza) retido por substituição tributária. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vFCPSTRet:{_titulo:"Valor Total do FCP retido anteriormente por substituição tributária.",_doc:"Valor Total do FCP (Fundo de Combate à Pobreza) retido anteriormente por substituição tributária. (vFCPSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vProd:{_titulo:"Valor Total dos produtos e serviços",_doc:"Valor Total dos produtos e serviços (vProd)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vFrete:{_titulo:"Valor Total do Frete",_doc:"Valor Total do Frete (vFrete)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vSeg:{_titulo:"Valor Total do Seguro",_doc:"Valor Total do Seguro (vSeg)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vDesc:{_titulo:"Valor Total do Desconto",_doc:"Valor Total do Desconto (vDesc)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vII:{_titulo:"Valor Total do II",_doc:"Valor Total do II (vII)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vIPI:{_titulo:"Valor Total do IPI",_doc:"Valor Total do IPI (vIPI)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vIPIDevol:{_titulo:"Valor Total do IPI devolvido",_doc:"Valor Total do IPI devolvido. Deve ser informado quando preenchido o Grupo Tributos Devolvidos na emissão de nota finNFe=4 (devolução) nas operações com não contribuintes do IPI. Corresponde ao total da soma dos campos id: UA04. (vIPIDevol)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vPIS:{_titulo:"Valor do PIS",_doc:"Valor do PIS (vPIS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vCOFINS:{_titulo:"Valor do COFINS",_doc:"Valor do COFINS (vCOFINS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vOutro:{_titulo:"Outras Despesas acessórias",_doc:"Outras Despesas acessórias (vOutro)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vNF:{_titulo:"Valor Total da NF-e",_doc:"Valor Total da NF-e (vNF)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vTotTrib:{_titulo:"Valor estimado total de impostos federais, estaduais e municipais",_doc:"Valor estimado total de impostos federais, estaduais e municipais (vTotTrib) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},ISSQNtot:{_titulo:"Totais referentes ao ISSQN",_doc:"Totais referentes ao ISSQN (ISSQNtot) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Totais referentes ao ISSQN",_doc:"Totais referentes ao ISSQN (ISSQNtot) (Opcional)",_valorInic:""},vServ:{_titulo:"Valor Total dos Serviços sob não-incidência ou não tributados pelo ICMS",_doc:"Valor Total dos Serviços sob não-incidência ou não tributados pelo ICMS (vServ) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vBC:{_titulo:"Base de Cálculo do ISS",_doc:"Base de Cálculo do ISS (vBC) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vISS:{_titulo:"Valor Total do ISS",_doc:"Valor Total do ISS (vISS) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vPIS:{_titulo:"Valor do PIS sobre serviços",_doc:"Valor do PIS sobre serviços (vPIS) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vCOFINS:{_titulo:"Valor do COFINS sobre serviços",_doc:"Valor do COFINS sobre serviços (vCOFINS) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},dCompet:{_titulo:"Data da prestação do serviço  (AAAA-MM-DD)",_doc:"Data da prestação do serviço  (AAAA-MM-DD) (dCompet)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""},vDeducao:{_titulo:"Valor dedução para redução da base de cálculo",_doc:"Valor dedução para redução da base de cálculo (vDeducao) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vOutro:{_titulo:"Valor outras retenções",_doc:"Valor outras retenções (vOutro) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vDescIncond:{_titulo:"Valor desconto incondicionado",_doc:"Valor desconto incondicionado (vDescIncond) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vDescCond:{_titulo:"Valor desconto condicionado",_doc:"Valor desconto condicionado (vDescCond) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vISSRet:{_titulo:"Valor Total Retenção ISS",_doc:"Valor Total Retenção ISS (vISSRet) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},cRegTrib:{_titulo:"Código do regime especial de tributação",_doc:"Código do regime especial de tributação (cRegTrib) (Opcional)",_opcional:!0,_tipo:"seletor",_enumeration:[{valor:"",rotulo:"Não se aplica"},{valor:"1",rotulo:"1"},{valor:"2",rotulo:"2"},{valor:"3",rotulo:"3"},{valor:"4",rotulo:"4"},{valor:"5",rotulo:"5"},{valor:"6",rotulo:"6"}],_valorInic:""}},retTrib:{_titulo:"Retenção de Tributos Federais",_doc:"Retenção de Tributos Federais (retTrib) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Retenção de Tributos Federais",_doc:"Retenção de Tributos Federais (retTrib) (Opcional)",_valorInic:""},vRetPIS:{_titulo:"Valor Retido de PIS",_doc:"Valor Retido de PIS (vRetPIS) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vRetCOFINS:{_titulo:"Valor Retido de COFINS",_doc:"Valor Retido de COFINS (vRetCOFINS) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vRetCSLL:{_titulo:"Valor Retido de CSLL",_doc:"Valor Retido de CSLL (vRetCSLL) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vBCIRRF:{_titulo:"Base de Cálculo do IRRF",_doc:"Base de Cálculo do IRRF (vBCIRRF) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vIRRF:{_titulo:"Valor Retido de IRRF",_doc:"Valor Retido de IRRF (vIRRF) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vBCRetPrev:{_titulo:"Base de Cálculo da Retenção da Previdêncica Social",_doc:"Base de Cálculo da Retenção da Previdêncica Social (vBCRetPrev) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vRetPrev:{_titulo:"Valor da Retenção da Previdêncica Social",_doc:"Valor da Retenção da Previdêncica Social (vRetPrev) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0}}},transp:{_titulo:"Dados dos transportes da NF-e",_doc:"Dados dos transportes da NF-e (transp)",_tipo:"texto",_valorInic:"",modFrete:{_titulo:"Modalidade do frete",_doc:"Modalidade do frete 0- Contratação do Frete por conta do Remetente (CIF); 1- Contratação do Frete por conta do destinatário/remetente (FOB); 2- Contratação do Frete por conta de terceiros; 3- Transporte próprio por conta do remetente; 4- Transporte próprio por conta do destinatário; 9- Sem Ocorrência de transporte. (modFrete)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 -  Contratação do Frete por conta do Remetente (CIF)"},{valor:"1",rotulo:"1 -  Contratação do Frete por conta do destinatário/remetente (FOB)"},{valor:"2",rotulo:"2 -  Contratação do Frete por conta de terceiros"},{valor:"3",rotulo:"3 -  Transporte próprio por conta do remetente"},{valor:"4",rotulo:"4 -  Transporte próprio por conta do destinatário"},{valor:"9",rotulo:"9 -  Sem Ocorrência de transporte"}],_valorInic:"0"},transporta:{_titulo:"Dados do transportador",_doc:"Dados do transportador (transporta) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados do transportador",_doc:"Dados do transportador (transporta) (Opcional)",_valorInic:""},escolhas:{_titulo:"",_doc:" (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:" (Opcional)",_valorInic:""},CNPJ:{_titulo:"CNPJ do transportador",_doc:"CNPJ do transportador (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},CPF:{_titulo:"CPF do transportador",_doc:"CPF do transportador (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_tipo:"texto",_maxLength:11,_valorInic:""}},xNome:{_titulo:"Razão Social ou nome do transportador",_doc:"Razão Social ou nome do transportador (xNome) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},IE:{_titulo:"Inscrição Estadual",_doc:"Inscrição Estadual (IE) (Opcional)",_opcional:!0,_pattern:"ISENTO|[0-9]{2,14}",_type:"TIeDest",_tipo:"texto",_maxLength:14,_valorInic:""},xEnder:{_titulo:"Endereço completo",_doc:"Endereço completo (xEnder) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xMun:{_titulo:"Nome do munícipio",_doc:"Nome do munícipio (xMun) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},UF:{_titulo:"Sigla da UF",_doc:"Sigla da UF (UF) (Opcional)",_opcional:!0,_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"",rotulo:"Não se aplica"},{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX"}],_valorInic:""}},retTransp:{_titulo:"Dados da retenção  ICMS do Transporte",_doc:"Dados da retenção  ICMS do Transporte (retTransp) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados da retenção  ICMS do Transporte",_doc:"Dados da retenção  ICMS do Transporte (retTransp) (Opcional)",_valorInic:""},vServ:{_titulo:"Valor do Serviço",_doc:"Valor do Serviço (vServ)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vBCRet:{_titulo:"BC da Retenção do ICMS",_doc:"BC da Retenção do ICMS (vBCRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSRet:{_titulo:"Alíquota da Retenção",_doc:"Alíquota da Retenção (pICMSRet)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSRet:{_titulo:"Valor do ICMS Retido",_doc:"Valor do ICMS Retido (vICMSRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},CFOP:{_titulo:"Código Fiscal de Operações e Prestações",_doc:"Código Fiscal de Operações e Prestações (CFOP)",_pattern:"[1,2,3,5,6,7]{1}[0-9]{3}",_tipo:"texto",_valorInic:""},cMunFG:{_titulo:"Código do Município de Ocorrência do Fato Gerador",_doc:"Código do Município de Ocorrência do Fato Gerador (utilizar a tabela do IBGE) (cMunFG)",_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""}},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{veicTransp:{_titulo:"Dados do veículo",_doc:"Dados do veículo (veicTransp) (Opcional)",_opcional:!0,_type:"TVeiculo",_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados do veículo",_doc:"Dados do veículo (veicTransp) (Opcional)",_valorInic:""},placa:{_titulo:"Placa do veículo",_doc:"Placa do veículo (placa)",_opcional:!0,_pattern:"[A-Z]{2,3}[0-9]{4}|[A-Z]{3,4}[0-9]{3}|[A-Z0-9]{7}",_tipo:"texto",_valorInic:""},UF:{_titulo:"Sigla da UF",_doc:"Sigla da UF (UF)",_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX"}],_valorInic:"AC"},RNTC:{_titulo:"Registro Nacional de Transportador de Carga (ANTT)",_doc:"Registro Nacional de Transportador de Carga (ANTT) (RNTC) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""}},reboque:{_titulo:"Dados do reboque/Dolly",_doc:"Dados do reboque/Dolly (reboque) (Lista)",_opcional:!0,_type:"TVeiculo",_tipo:"texto",_valorInic:"",lista:{placa:{_titulo:"Placa do veículo",_doc:"Placa do veículo (placa) (Opcional)",_opcional:!0,_pattern:"[A-Z]{2,3}[0-9]{4}|[A-Z]{3,4}[0-9]{3}|[A-Z0-9]{7}",_tipo:"texto",_valorInic:""},UF:{_titulo:"Sigla da UF",_doc:"Sigla da UF (UF)",_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX"}],_valorInic:"AC"},RNTC:{_titulo:"Registro Nacional de Transportador de Carga (ANTT)",_doc:"Registro Nacional de Transportador de Carga (ANTT) (RNTC) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""}}}},vagao:{_titulo:"Identificação do vagão",_doc:"Identificação do vagão (vagao) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""},balsa:{_titulo:"Identificação da balsa",_doc:"Identificação da balsa (balsa) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""}},vol:{_titulo:"Dados dos volumes",_doc:"Dados dos volumes (vol) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{qVol:{_titulo:"Quantidade de volumes transportados",_doc:"Quantidade de volumes transportados (qVol) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,15}",_tipo:"texto",_valorInic:""},esp:{_titulo:"Espécie dos volumes transportados",_doc:"Espécie dos volumes transportados (esp) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},marca:{_titulo:"Marca dos volumes transportados",_doc:"Marca dos volumes transportados (marca) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},nVol:{_titulo:"Numeração dos volumes transportados",_doc:"Numeração dos volumes transportados (nVol) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},pesoL:{_titulo:"Peso líquido (em kg)",_doc:"Peso líquido (em kg) (pesoL) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{3}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{3})?",_type:"TDec_1203",_tipo:"decimal",_decimals:"3",_valorInic:0},pesoB:{_titulo:"Peso bruto (em kg)",_doc:"Peso bruto (em kg) (pesoB) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{3}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{3})?",_type:"TDec_1203",_tipo:"decimal",_decimals:"3",_valorInic:0},lacres:{_titulo:"lacres",_doc:"lacres (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{nLacre:{_titulo:"Número dos Lacres",_doc:"Número dos Lacres (nLacre)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""}}}}}},cobr:{_titulo:"Dados da cobrança da NF-e",_doc:"Dados da cobrança da NF-e (cobr) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados da cobrança da NF-e",_doc:"Dados da cobrança da NF-e (cobr) (Opcional)",_valorInic:""},fat:{_titulo:"Dados da fatura",_doc:"Dados da fatura (fat) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados da fatura",_doc:"Dados da fatura (fat) (Opcional)",_valorInic:""},nFat:{_titulo:"Número da fatura",_doc:"Número da fatura (nFat) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},vOrig:{_titulo:"Valor original da fatura",_doc:"Valor original da fatura (vOrig) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vDesc:{_titulo:"Valor do desconto da fatura",_doc:"Valor do desconto da fatura (vDesc) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vLiq:{_titulo:"Valor líquido da fatura",_doc:"Valor líquido da fatura (vLiq) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},dup:{_titulo:"Dados das duplicatas NT 2011/004",_doc:"Dados das duplicatas NT 2011/004 (dup) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{nDup:{_titulo:"Número da duplicata",_doc:"Número da duplicata (nDup) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},dVenc:{_titulo:"Data de vencimento da duplicata",_doc:"Data de vencimento da duplicata (AAAA-MM-DD) (dVenc) (Opcional)",_opcional:!0,_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""},vDup:{_titulo:"Valor da duplicata",_doc:"Valor da duplicata (vDup)",_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0}}}},pag:{_titulo:"Dados de Pagamento. Obrigatório apenas para (NFC-e) NT 2012/004",_doc:"Dados de Pagamento. Obrigatório apenas para (NFC-e) NT 2012/004 (pag)",_tipo:"texto",_valorInic:"",detPag:{_titulo:"Grupo de detalhamento da forma de pagamento.",_doc:"Grupo de detalhamento da forma de pagamento. (detPag) (Lista)",_tipo:"texto",_valorInic:"",lista:{indPag:{_titulo:"Indicador da Forma de Pagamento:0-Pagamento à Vista;1-Pagamento à Prazo;",_doc:"Indicador da Forma de Pagamento:0-Pagamento à Vista;1-Pagamento à Prazo; (indPag) (Opcional)",_opcional:!0,_tipo:"seletor",_enumeration:[{valor:"",rotulo:"Não se aplica"},{valor:"0",rotulo:"0 - Pagamento à Vista"},{valor:"1",rotulo:"1 - Pagamento à Prazo"}],_valorInic:""},tPag:{_titulo:"Forma de Pagamento",_doc:"Forma de Pagamento:01-Dinheiro;02-Cheque;03-Cartão de Crédito;04-Cartão de Débito;05-Crédito Loja;10-Vale Alimentação;11-Vale Refeição;12-Vale Presente;13-Vale Combustível;14 - Duplicata Mercantil;15 - Boleto Bancario;90 - Sem Pagamento;99 - Outros (tPag)",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 - Dinheiro"},{valor:"02",rotulo:"02 - Cheque"},{valor:"03",rotulo:"03 - Cartão de Crédito"},{valor:"04",rotulo:"04 - Cartão de Débito"},{valor:"05",rotulo:"05 - Crédito Loja"},{valor:"10",rotulo:"10 - Vale Alimentação"},{valor:"11",rotulo:"11 - Vale Refeição"},{valor:"12",rotulo:"12 - Vale Presente"},{valor:"13",rotulo:"13 - Vale Combustível"},{valor:"14",rotulo:"14 - Duplicata Mercantil"},{valor:"15",rotulo:"15 - Boleto Bancario"},{valor:"16",rotulo:"16 - Depósito Bancário"},{valor:"17",rotulo:"17 - Pagamento Instantâneo (PIX)"},{valor:"18",rotulo:"18 - Transferência bancária, Carteira Digital"},{valor:"19",rotulo:"19 - Programa de fidelidade, Cashback, Crédito Virtual"},{valor:"90",rotulo:"90 - Sem Pagamento"},{valor:"99",rotulo:"99 - Outros"}],_valorInic:"01"},xPag:{_titulo:"Descrição do pagamento",_doc:"Descrição do pagamento obrigatória para meio de pagamento 99 - outros",_opcional:!0,_tipo:"texto",_valorInic:""},vPag:{_titulo:"Valor do Pagamento",_doc:"Valor do Pagamento. Esta tag poderá ser omitida quando a tag tPag=90 (Sem Pagamento), caso contrário deverá ser preenchida. (vPag)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},card:{_titulo:"Grupo de Cartões",_doc:"Grupo de Cartões (card) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de Cartões",_doc:"Grupo de Cartões (card) (Opcional)",_valorInic:""},tpIntegra:{_titulo:"Tipo de Integração do processo de pagamento com o sistema de automação da empresa",_doc:"Tipo de Integração do processo de pagamento com o sistema de automação da empresa/                  1=Pagamento integrado com o sistema de automação da empresa Ex. equipamento TEF , Comercio Eletronico                 2=Pagamento não integrado com o sistema de automação da empresa Ex: equipamento POS (tpIntegra)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Pagamento integrado com o sistema de automação da empresa Ex. equipamento TEF , Comercio Eletronico"},{valor:"2",rotulo:"2 - Pagamento não integrado com o sistema de automação da empresa Ex: equipamento POS"}],_valorInic:"1"},CNPJ:{_titulo:"CNPJ da instituição de pagamento",_doc:"CNPJ da instituição de pagamento (CNPJ) (Opcional)",_opcional:!0,_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},tBand:{_titulo:"Bandeira da operadora de cartão de crédito/débito",_doc:"Bandeira da operadora de cartão de crédito/débito:01-Visa; 02-Mastercard; 03-American Express; 04-Sorocred;05-Diners Club;06-Elo;07-Hipercard;08-Aura;09-Cabal;99-Outros (tBand) (Opcional)",_opcional:!0,_tipo:"seletor",_enumeration:[{valor:"",rotulo:"Não se aplica"},{valor:"01",rotulo:"01-Visa"},{valor:"02",rotulo:"02-Mastercard"},{valor:"03",rotulo:"03-American Express"},{valor:"04",rotulo:"04-Sorocred"},{valor:"05",rotulo:"05 - Diners Club"},{valor:"06",rotulo:"06 - Elo"},{valor:"07",rotulo:"07 - Hipercard"},{valor:"08",rotulo:"08 - Aura"},{valor:"09",rotulo:"09 - Cabal"},{valor:"99",rotulo:"99-Outros"}],_valorInic:""},cAut:{_titulo:"Número de autorização da operação cartão de crédito/débito",_doc:"Número de autorização da operação cartão de crédito/débito (cAut) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""}}}},vTroco:{_titulo:"Valor do Troco.",_doc:"Valor do Troco. (vTroco) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},infIntermed:{_titulo:"Grupo de Informações do Intermediador da Transação",_doc:"Grupo de Informações do Intermediador da Transação (infIntermed) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de Informações do Intermediador da Transação",_doc:"Grupo de Informações do Intermediador da Transação (infIntermed) (Opcional)",_valorInic:""},CNPJ:{_titulo:"CNPJ do Intermediador da Transação (agenciador, plataforma de delivery, marketplace e similar) de serviços e de negócios.",_doc:"CNPJ do Intermediador da Transação (agenciador, plataforma de delivery, marketplace e similar) de serviços e de negócios. (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},idCadIntTran:{_titulo:"Identificador cadastrado no intermediador",_doc:"Identificador cadastrado no intermediador (idCadIntTran)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""}},infAdic:{_titulo:"Informações adicionais da NF-e",_doc:"Informações adicionais da NF-e (infAdic) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Informações adicionais da NF-e",_doc:"Informações adicionais da NF-e (infAdic) (Opcional)",_valorInic:""},infAdFisco:{_titulo:"Informações adicionais de interesse do Fisco",_doc:"Informações adicionais de interesse do Fisco (infAdFisco) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:2e3,_valorInic:""},infCpl:{_titulo:"Informações complementares de interesse do Contribuinte",_doc:"Informações complementares de interesse do Contribuinte (infCpl) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:5e3,_valorInic:""},obsCont:{_titulo:"Campo de uso livre do contribuinte informar o nome do campo no atributo xCampo e o conteúdo do campo no xTexto",_doc:"Campo de uso livre do contribuinte informar o nome do campo no atributo xCampo e o conteúdo do campo no xTexto (obsCont) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{xTexto:{_titulo:"xTexto",_doc:"xTexto",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""}}},obsFisco:{_titulo:"Campo de uso exclusivo do Fisco informar o nome do campo no atributo xCampo e o conteúdo do campo no xTexto",_doc:"Campo de uso exclusivo do Fisco informar o nome do campo no atributo xCampo e o conteúdo do campo no xTexto (obsFisco) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{xTexto:{_titulo:"xTexto",_doc:"xTexto",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""}}},procRef:{_titulo:"Grupo de informações do  processo referenciado",_doc:"Grupo de informações do  processo referenciado (procRef) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{nProc:{_titulo:"Indentificador do processo ou ato concessório",_doc:"Indentificador do processo ou ato concessório (nProc)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},indProc:{_titulo:"Origem do processo",_doc:"Origem do processo, informar com: 0 - SEFAZ; 1 - Justiça Federal; 2 - Justiça Estadual; 3 - Secex/RFB; 9 - Outros (indProc)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - SEFAZ"},{valor:"1",rotulo:"1 - Justiça Federal"},{valor:"2",rotulo:"2 - Justiça Estadual"},{valor:"3",rotulo:"3 - Secex/RFB"},{valor:"9",rotulo:"9 - Outros"}],_valorInic:"0"}}}},exporta:{_titulo:"Informações de exportação",_doc:"Informações de exportação (exporta) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Informações de exportação",_doc:"Informações de exportação (exporta) (Opcional)",_valorInic:""},UFSaidaPais:{_titulo:"Sigla da UF de Embarque ou de transposição de fronteira",_doc:"Sigla da UF de Embarque ou de transposição de fronteira (UFSaidaPais)",_type:"TUfEmi",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"}],_valorInic:"AC"},xLocExporta:{_titulo:"Local de Embarque ou de transposição de fronteira",_doc:"Local de Embarque ou de transposição de fronteira (xLocExporta)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xLocDespacho:{_titulo:"Descrição do local de despacho",_doc:"Descrição do local de despacho (xLocDespacho) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""}},compra:{_titulo:"Informações de compras  (Nota de Empenho, Pedido e Contrato)",_doc:"Informações de compras  (Nota de Empenho, Pedido e Contrato) (compra) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Informações de compras  (Nota de Empenho, Pedido e Contrato)",_doc:"Informações de compras  (Nota de Empenho, Pedido e Contrato) (compra) (Opcional)",_valorInic:""},xNEmp:{_titulo:"Informação da Nota de Empenho de compras públicas",_doc:"Informação da Nota de Empenho de compras públicas (xNEmp) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:22,_valorInic:""},xPed:{_titulo:"Informação do pedido",_doc:"Informação do pedido (xPed) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xCont:{_titulo:"Informação do contrato",_doc:"Informação do contrato (xCont) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""}},cana:{_titulo:"Informações de registro aquisições de cana",_doc:"Informações de registro aquisições de cana (cana) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Informações de registro aquisições de cana",_doc:"Informações de registro aquisições de cana (cana) (Opcional)",_valorInic:""},safra:{_titulo:"Identificação da safra",_doc:"Identificação da safra (safra)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:4,_maxLength:9,_valorInic:""},ref:{_titulo:"Mês e Ano de Referência, formato: MM/AAAA",_doc:"Mês e Ano de Referência, formato: MM/AAAA (ref)",_pattern:"(0[1-9]|1[0-2])([/][2][0-9][0-9][0-9])",_tipo:"texto",_valorInic:""},forDia:{_titulo:"Fornecimentos diários",_doc:"Fornecimentos diários (forDia) (Lista)",_tipo:"texto",_valorInic:"",lista:{qtde:{_titulo:"Quantidade em quilogramas - peso líquido",_doc:"Quantidade em quilogramas - peso líquido (qtde)",_pattern:"0|0\\.[0-9]{1,10}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,10})?",_type:"TDec_1110v",_tipo:"decimal",_decimals:"4",_valorInic:0}}},qTotMes:{_titulo:"Total do mês",_doc:"Total do mês (qTotMes)",_pattern:"0|0\\.[0-9]{1,10}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,10})?",_type:"TDec_1110v",_tipo:"decimal",_decimals:"4",_valorInic:0},qTotAnt:{_titulo:"Total Anterior",_doc:"Total Anterior (qTotAnt)",_pattern:"0|0\\.[0-9]{1,10}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,10})?",_type:"TDec_1110v",_tipo:"decimal",_decimals:"4",_valorInic:0},qTotGer:{_titulo:"Total Geral",_doc:"Total Geral (qTotGer)",_pattern:"0|0\\.[0-9]{1,10}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,10})?",_type:"TDec_1110v",_tipo:"decimal",_decimals:"4",_valorInic:0},deduc:{_titulo:"Deduções - Taxas e Contribuições",_doc:"Deduções - Taxas e Contribuições (deduc) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{xDed:{_titulo:"Descrição da Dedução",_doc:"Descrição da Dedução (xDed)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},vDed:{_titulo:"valor da dedução",_doc:"valor da dedução (vDed)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},vFor:{_titulo:"Valor  dos fornecimentos",_doc:"Valor  dos fornecimentos (vFor)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vTotDed:{_titulo:"Valor Total das Deduções",_doc:"Valor Total das Deduções (vTotDed)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vLiqFor:{_titulo:"Valor Líquido dos fornecimentos",_doc:"Valor Líquido dos fornecimentos (vLiqFor)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},infRespTec:{_titulo:"Informações do Responsável Técnico pela emissão do DF-e",_doc:"Informações do Responsável Técnico pela emissão do DF-e (infRespTec) (Opcional)",_opcional:!0,_type:"TInfRespTec",_tipo:"texto",_valorInic:"",visivel:{_titulo:"Informações do Responsável Técnico pela emissão do DF-e",_doc:"Informações do Responsável Técnico pela emissão do DF-e (infRespTec) (Opcional)",_valorInic:""},CNPJ:{_titulo:"CNPJ",_doc:"CNPJ (CNPJ)",_pattern:"[0-9]{0}|[0-9]{14}",_type:"TCnpjOpc",_tipo:"texto",_maxLength:14,_valorInic:""},xContato:{_titulo:"Informar o nome da pessoa a ser contatada na empresa desenvolvedora do sistema utilizado na emissão do documento fiscal eletrônico.",_doc:"Informar o nome da pessoa a ser contatada na empresa desenvolvedora do sistema utilizado na emissão do documento fiscal eletrônico. (xContato)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},email:{_titulo:"Informar o e-mail da pessoa a ser contatada na empresa desenvolvedora do sistema.",_doc:"Informar o e-mail da pessoa a ser contatada na empresa desenvolvedora do sistema. (email)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:6,_maxLength:60,_valorInic:""},fone:{_titulo:"Informar o telefone da pessoa a ser contatada na empresa desenvolvedora do sistema",_doc:"Informar o telefone da pessoa a ser contatada na empresa desenvolvedora do sistema. Preencher com o Código DDD + número do telefone. (fone)",_pattern:"[0-9]{6,14}",_tipo:"texto",_valorInic:""},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},idCSRT:{_titulo:"Identificador do CSRT utilizado para montar o hash do CSRT",_doc:"Identificador do CSRT utilizado para montar o hash do CSRT (idCSRT)",_pattern:"[0-9]{2}",_tipo:"texto",_valorInic:""},hashCSRT:{_titulo:"O hashCSRT é o resultado da função hash (SHA-1 - Base64) do CSRT fornecido pelo fisco mais a Chave de Acesso da NFe.",_doc:"O hashCSRT é o resultado da função hash (SHA-1 - Base64) do CSRT fornecido pelo fisco mais a Chave de Acesso da NFe. (hashCSRT)",_tipo:"texto",_valorInic:""}}}},r.ide._titulo="Dados da NFe",r.ide.cNF._valorInic="00000000",r.ide.natOp._titulo="Natureza da operação",r.ide.natOp._valorInic="Venda",r.ide.mod._titulo="Modelo",r.ide.serie._titulo="Série",r.ide.serie._valorInic="1",r.ide.nNF._valorInic="0",r.ide.nNF._pattern=null,r.ide.dhEmi._titulo="Data e Hora de emissão",r.ide.dhSaiEnt._titulo="Data e Hora da saída/entrada",r.ide.tpNF._titulo="Tipo",r.ide.tpNF._valorInic="1",r.ide.idDest._titulo="Destino",r.ide.cMunFG._valorInic="0000000",r.ide.tpImp._titulo="Formato do DANFE",r.ide.tpImp._valorInic="1",r.ide.tpEmis._titulo="Forma de contingência",r.ide.cDV._valorInic="0",r.ide.tpAmb._titulo="Ambiente",r.ide.tpAmb._valorInic="2",r.ide.finNFe._titulo="Finalidade",r.ide.indFinal._titulo="Consumidor final",r.ide.indFinal._valorInic="1",r.ide.indPres._titulo="Presença do comprador",r.ide.indPres._valorInic="1",r.ide.verProc._valorInic="B15 1.0",r.ide.NFref._titulo="Preencher para NF referenciada",r.emit._titulo="Emitente",r.emit.enderEmit.UF._titulo="UF",r.emit.enderEmit.UF._valorInic="",r.emit.enderEmit.CEP._titulo="CEP",r.emit.enderEmit.cPais._valorInic="1058",r.emit.enderEmit.xPais._valorInic="Brasil",r.emit.enderEmit.fone._titulo="DDD + telefone",r.emit.opcional.visivel._titulo="Enviar Inscrição Municipal",r.emit.CRT._titulo="Regime Tributário",r.avulsa.UF._valorInic="",r.dest._titulo="Destinatário",r.dest.enderDest.UF._titulo="UF",r.dest.enderDest.UF._valorInic="",r.dest.indIEDest._valorInic="2",r.retirada.UF._valorInic="",r.entrega.UF._valorInic="",r.det._titulo="Produtos e serviços",r.det.lista.prod._titulo="Identificação",r.det.lista.prod.noXml_id={_titulo:"Identificação do Produto",_doc:"Identificação do Produto selecionado",_opcional:!0,_valorInic:""},r.det.lista.prod.noXml_imagem={_titulo:"Imagem do Produto",_doc:"Imagem do Produto selecionado",_opcional:!0,_valorInic:""},r.det.lista.prod.cProd._titulo="Código",r.det.lista.prod.cEAN._titulo="Código de barras (GTIN ou EAN)",r.det.lista.prod.xProd._titulo="Descrição",r.det.lista.prod.NCM._titulo="NCM",r.det.lista.prod.NCM._doc="Código NCM (8 posições) - Nomenclatura Comum ao Mercosul",r.det.lista.prod.CFOP._titulo="CFOP",r.det.lista.prod.CFOP._doc="Código Fiscal de Operações e Prestações das entradas e saídas de mercadorias",r.det.lista.prod.uCom._titulo="Unidade",r.det.lista.prod.uCom._valorInic="UN",r.det.lista.prod.qCom._titulo="Quantidade",r.det.lista.prod.qCom._valorInic=1,r.det.lista.prod.vUnCom._titulo="Valor unitário",r.det.lista.prod.vProd._titulo="Valor total bruto",r.det.lista.prod.cEANTrib._titulo="Código de Barras GTIN da unidade tributável",r.det.lista.prod.indTot._valorInic="1",r.det.lista.imposto._titulo="Tributos",r.det.lista.imposto.noXml_CST={_titulo:"CST ICMS - Código de Situação Tributária",_doc:"Código de Situação Tributária pelo ICMS (CST)",_tipo:"seletor",_enumeration:[{valor:"00",rotulo:"00 - Tributada integralmente"},{valor:"10",rotulo:"10 - Tributada e com cobrança do ICMS por substituição tributária"},{valor:"20",rotulo:"20 - Com redução de base de cálculo"},{valor:"30",rotulo:"30 - Isenta ou não tributada e com cobrança do ICMS por substituição tributária"},{valor:"40",rotulo:"40 - Isenta"},{valor:"41",rotulo:"41 - Não tributada"},{valor:"50",rotulo:"50 - Suspensão"},{valor:"51",rotulo:"51 - Diferimento"},{valor:"60",rotulo:"60 - ICMS cobrado anteriormente por substituição tributária"},{valor:"70",rotulo:"70 - Com redução de base de cálculo e cobrança do ICMS por substituição tributária"},{valor:"90",rotulo:"90 - Outras"}],_opcional:!0,_valorInic:""},r.det.lista.imposto.noXml_CSOSN={_titulo:"CSOSN ICMS - Código de Situação da Operação do Simples Nacional",_doc:"Código de Situação da Operação do Simples Nacional pelo ICMS (CSOSN)",_tipo:"seletor",_enumeration:[{valor:"101",rotulo:"101 - Tributada pelo Simples Nacional com permissão de crédito"},{valor:"102",rotulo:"102 - Tributada pelo Simples Nacional sem permissão de crédito"},{valor:"103",rotulo:"103 - Isenção do ICMS no Simples Nacional para faixa de receita bruta"},{valor:"201",rotulo:"201 - Tributada pelo Simples Nacional com permissão de crédito e com cobrança do ICMS por Substituição Tributária"},{valor:"202",rotulo:"202 - Tributada pelo Simples Nacional sem permissão de crédito e com cobrança do ICMS por Substituição Tributária"},{valor:"203",rotulo:"203 - Isenção do ICMS nos Simples Nacional para faixa de receita bruta e com cobrança do ICMS por Substituição Tributária"},{valor:"300",rotulo:"300 - Imune"},{valor:"400",rotulo:"400 - Não tributada pelo Simples Nacional"},{valor:"500",rotulo:"500 - ICMS cobrado anterirmente por substituição tributária (substituído) ou por antecipação"},{valor:"900",rotulo:"900 - Outros"}],_opcional:!0,_valorInic:""},r.det.lista.imposto.noXml_orig={_titulo:"Origem da mercadoria",_doc:"Origem da mercadoria",_tipo:"seletor",_enumeration:r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.orig._enumeration,_opcional:!0,_valorInic:""},r.det.lista.imposto.noXml_vBC=a(r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vBC),r.det.lista.imposto.noXml_vBC._opcional=!0,r.det.lista.imposto.noXml_pICMS=a(r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.pICMS),r.det.lista.imposto.noXml_pICMS._opcional=!0,r.det.lista.imposto.noXml_pRedBC=a(r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.pRedBC),r.det.lista.imposto.noXml_pRedBC._opcional=!0,r.det.lista.imposto.noXml_vICMS=a(r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vICMS),r.det.lista.imposto.noXml_vICMS._opcional=!0,r.det.lista.imposto.noXml_vBCFCP=a(r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.vBCFCP),r.det.lista.imposto.noXml_vBCFCP._opcional=!0,r.det.lista.imposto.noXml_pFCP=a(r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.pFCP),r.det.lista.imposto.noXml_pFCP._opcional=!0,r.det.lista.imposto.noXml_vFCP=a(r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.vFCP),r.det.lista.imposto.noXml_vFCP._opcional=!0,r.det.lista.imposto.noXml_CSTPis={_titulo:"CST do PIS",_doc:"Código de Situação Tributária do PIS",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 - Operação Tributável - Base de Cálculo = Valor da Operação Alíquota Normal (Cumulativo/Não Cumulativo)"},{valor:"02",rotulo:"02 - Operação Tributável - Base de Calculo = Valor da Operação (Alíquota Diferenciada)"},{valor:"03",rotulo:"03 - Operação Tributável - Base de Calculo = Quantidade Vendida x Alíquota por Unidade de Produto"},{valor:"04",rotulo:"04 - Operação Tributável - Tributação Monofásica - (Alíquota Zero)"},{valor:"05",rotulo:"05 - Operação Tributável (ST)"},{valor:"06",rotulo:"06 - Operação Tributável - Alíquota Zero"},{valor:"07",rotulo:"07 - Operação Isenta da contribuição"},{valor:"08",rotulo:"08 - Operação Sem Incidência da contribuição"},{valor:"09",rotulo:"09 - Operação com suspensão da contribuição"},{valor:"49",rotulo:"49 - Outras Operações de Saída"},{valor:"50",rotulo:"50 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Tributada no Mercado Interno"},{valor:"51",rotulo:"51 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Não Tributada no Mercado Interno"},{valor:"52",rotulo:"52 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita de Exportação"},{valor:"53",rotulo:"53 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno"},{valor:"54",rotulo:"54 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas no Mercado Interno e de Exportação"},{valor:"55",rotulo:"55 - Operação com Direito a Crédito - Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação"},{valor:"56",rotulo:"56 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação"},{valor:"60",rotulo:"60 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Tributada no Mercado Interno"},{valor:"61",rotulo:"61 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Não-Tributada no Mercado Interno"},{valor:"62",rotulo:"62 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita de Exportação"},{valor:"63",rotulo:"63 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno"},{valor:"64",rotulo:"64 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas no Mercado Interno e de Exportação"},{valor:"65",rotulo:"65 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação"},{valor:"66",rotulo:"66 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação"},{valor:"67",rotulo:"67 - Crédito Presumido - Outras Operações"},{valor:"70",rotulo:"70 - Operação de Aquisição sem Direito a Crédito"},{valor:"71",rotulo:"71 - Operação de Aquisição com Isenção"},{valor:"72",rotulo:"72 - Operação de Aquisição com Suspensão"},{valor:"73",rotulo:"73 - Operação de Aquisição a Alíquota Zero"},{valor:"74",rotulo:"74 - Operação de Aquisição sem Incidência da Contribuição"},{valor:"75",rotulo:"75 - Operação de Aquisição por Substituição Tributária"},{valor:"98",rotulo:"98 - Outras Operações de Entrada"},{valor:"99",rotulo:"99 - Outras Operações"}],_opcional:!0,_valorInic:""},r.det.lista.imposto.noXml_pPIS=a(r.det.lista.imposto.PIS.escolhas.PISAliq.pPIS),r.det.lista.imposto.noXml_pPIS._opcional=!0,r.det.lista.imposto.noXml_CSTCofins={_titulo:"CST do COFINS",_doc:"Código de Situação Tributária do COFINS",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 - Operação Tributável - Base de Cálculo = Valor da Operação Alíquota Normal (Cumulativo/Não Cumulativo)"},{valor:"02",rotulo:"02 - Operação Tributável - Base de Calculo = Valor da Operação (Alíquota Diferenciada)"},{valor:"03",rotulo:"03 - Operação Tributável - Base de Calculo = Quantidade Vendida x Alíquota por Unidade de Produto"},{valor:"04",rotulo:"04 - Operação Tributável - Tributação Monofásica - (Alíquota Zero)"},{valor:"05",rotulo:"05 - Operação Tributável (ST)"},{valor:"06",rotulo:"06 - Operação Tributável - Alíquota Zero"},{valor:"07",rotulo:"07 - Operação Isenta da contribuição"},{valor:"08",rotulo:"08 - Operação Sem Incidência da contribuição"},{valor:"09",rotulo:"09 - Operação com suspensão da contribuição"},{valor:"49",rotulo:"49 - Outras Operações de Saída"},{valor:"50",rotulo:"50 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Tributada no Mercado Interno"},{valor:"51",rotulo:"51 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Não Tributada no Mercado Interno"},{valor:"52",rotulo:"52 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita de Exportação"},{valor:"53",rotulo:"53 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno"},{valor:"54",rotulo:"54 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas no Mercado Interno e de Exportação"},{valor:"55",rotulo:"55 - Operação com Direito a Crédito - Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação"},{valor:"56",rotulo:"56 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação"},{valor:"60",rotulo:"60 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Tributada no Mercado Interno"},{valor:"61",rotulo:"61 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Não-Tributada no Mercado Interno"},{valor:"62",rotulo:"62 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita de Exportação"},{valor:"63",rotulo:"63 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno"},{valor:"64",rotulo:"64 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas no Mercado Interno e de Exportação"},{valor:"65",rotulo:"65 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação"},{valor:"66",rotulo:"66 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação"},{valor:"67",rotulo:"67 - Crédito Presumido - Outras Operações"},{valor:"70",rotulo:"70 - Operação de Aquisição sem Direito a Crédito"},{valor:"71",rotulo:"71 - Operação de Aquisição com Isenção"},{valor:"72",rotulo:"72 - Operação de Aquisição com Suspensão"},{valor:"73",rotulo:"73 - Operação de Aquisição a Alíquota Zero"},{valor:"74",rotulo:"74 - Operação de Aquisição sem Incidência da Contribuição"},{valor:"75",rotulo:"75 - Operação de Aquisição por Substituição Tributária"},{valor:"98",rotulo:"98 - Outras Operações de Entrada"},{valor:"99",rotulo:"99 - Outras Operações"}],_opcional:!0,_valorInic:""},r.det.lista.imposto.noXml_pCOFINS=a(r.det.lista.imposto.COFINS.escolhas.COFINSAliq.pCOFINS),r.det.lista.imposto.noXml_pCOFINS._opcional=!0,r.det.lista.imposto.noXml_CSTIpi={_titulo:"CST do IPI",_doc:"Código da Situação Tributária do IPI (CST)",_tipo:"seletor",_enumeration:[{valor:"00",rotulo:"00 - Entrada com recuperação de crédito"},{valor:"01",rotulo:"01 - Entrada tributada com alíquota zero"},{valor:"02",rotulo:"02 - Entrada isenta"},{valor:"03",rotulo:"03 - Entrada não-tributada"},{valor:"04",rotulo:"04 - Entrada imune"},{valor:"05",rotulo:"05 - Entrada com suspensão"},{valor:"49",rotulo:"49 - Outras entradas"},{valor:"50",rotulo:"50 - Saída tributada"},{valor:"51",rotulo:"51 - Saída tributada com alíquota zero"},{valor:"52",rotulo:"52 - Saída isenta"},{valor:"53",rotulo:"53 - Saída não-tributada"},{valor:"54",rotulo:"54 - Saída imune"},{valor:"55",rotulo:"55 - Saída com suspensão"},{valor:"99",rotulo:"99 - Outras saídas"}],_opcional:!0,_valorInic:""},r.det.lista.imposto.noXml_pIPI=a(r.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.pIPI),r.det.lista.imposto.noXml_pIPI._opcional=!0,r.det.lista.imposto.noXml_vIPI=a(r.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.vIPI),r.det.lista.imposto.noXml_vIPI._opcional=!0,r.det.lista.imposto.noXml_cEnqIpi=a(r.det.lista.imposto.escolhas.opcao1.IPI.cEnq),r.det.lista.imposto.noXml_cEnqIpi._opcional=!0,r.det.lista.imposto.vTotTrib._titulo="Valor aproximado dos tributos",r.det.lista.imposto.noXml_dVenc={_titulo:"Validade IBPT",_doc:"Data de validade da tabela IBPT",_tipo:"datetime",_opcional:!0,_valorInic:""},r.det.lista.imposto.noXml_pTribImp=a(r.det.lista.imposto.vTotTrib),r.det.lista.imposto.noXml_pTribImp._titulo="Aliq fed importados",r.det.lista.imposto.noXml_pTribImp._doc="Alíquota federais de produto importado",r.det.lista.imposto.noXml_pTribFed=a(r.det.lista.imposto.vTotTrib),r.det.lista.imposto.noXml_pTribFed._titulo="Aliq federais",r.det.lista.imposto.noXml_pTribFed._doc="Alíquota federais de produto nacional",r.det.lista.imposto.noXml_pTribEst=a(r.det.lista.imposto.vTotTrib),r.det.lista.imposto.noXml_pTribEst._titulo="Aliq estaduais",r.det.lista.imposto.noXml_pTribEst._doc="Alíquota estaduais",r.det.lista.imposto.noXml_pTribMun=a(r.det.lista.imposto.vTotTrib),r.det.lista.imposto.noXml_pTribMun._titulo="Aliq municipais",r.det.lista.imposto.noXml_pTribMun._doc="Alíquota municipais",r.det.lista.imposto.noXml_vTribFed=a(r.det.lista.imposto.vTotTrib),r.det.lista.imposto.noXml_vTribFed._titulo="Trib federais",r.det.lista.imposto.noXml_vTribFed._doc="Tributos federais de produto nacional",r.det.lista.imposto.noXml_vTribEst=a(r.det.lista.imposto.vTotTrib),r.det.lista.imposto.noXml_vTribEst._titulo="Trib estaduais",r.det.lista.imposto.noXml_vTribEst._doc="Tributos estaduais",r.det.lista.imposto.noXml_vTribMun=a(r.det.lista.imposto.vTotTrib),r.det.lista.imposto.noXml_vTribMun._titulo="Trib municipais",r.det.lista.imposto.noXml_vTribMun._doc="Tributos municipais",r.det.lista.imposto.escolhas.valor_escolha._valorInic="opcao1",r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.modBC._titulo="Modalidade de determinação da BC do ICMS",r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBC._titulo="Modalidade de determinação da BC do ICMS",r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBCST._titulo="Modalidade de determinação da BC do ICMS ST",r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.modBC._titulo="Modalidade de determinação da BC do ICMS",r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.modBCST._titulo="Modalidade de determinação da BC do ICMS ST",r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.vICMSDeson._titulo="Valor do ICMS de desoneração",r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.vICMSDeson._doc="Valor do ICMS de desoneração (vICMSDeson)",r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.motDesICMS._titulo="Motivo da desoneração",r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.motDesICMS._doc="Este campo será preenchido quando o campo anterior estiver preenchido.",r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.motDesICMS._enumeration=[{valor:"1",rotulo:"1 - Táxi"},{valor:"3",rotulo:"3 - Produtor Agropecuário"},{valor:"4",rotulo:"4 - Frotista/Locadora"},{valor:"5",rotulo:"5 - Diplomático/Consular"},{valor:"6",rotulo:"6 - Utilitários e Motocicletas da Amazônia Ocidental e Áreas de Livre Comércio (Resolução 714/88 e 790/94 - CONTRAN e suas alterações)"},{valor:"7",rotulo:"7 - SUFRAMA"},{valor:"8",rotulo:"8 - Venda a órgão Público"},{valor:"9",rotulo:"9 - Outros"},{valor:"10",rotulo:"10 - Deficiente Condutor"},{valor:"11",rotulo:"11 - Deficiente não condutor"},{valor:"16",rotulo:"16 - Olimpíadas Rio 2016"},{valor:"90",rotulo:"90 - Solicitado pelo Fisco"}],r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.modBC._titulo="Modalidade de determinação da BC do ICMS",r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBC._titulo="Modalidade de determinação da BC do ICMS",r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBCST._titulo="Modalidade de determinação da BC do ICMS ST",r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.modBC._titulo="Modalidade de determinação da BC do ICMS",r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.modBCST._titulo="Modalidade de determinação da BC do ICMS ST",r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSPart.modBC._titulo="Modalidade de determinação da BC do ICMS",r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSPart.modBCST._titulo="Modalidade de determinação da BC do ICMS ST",r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.modBCST._titulo="Modalidade de determinação da BC do ICMS ST",r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.modBCST._titulo="Modalidade de determinação da BC do ICMS ST",r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.visivel._valorInic=!0,r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vICMSSubstituto._opcional=!1,r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.modBC._titulo="Modalidade de determinação da BC do ICMS",r.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.modBCST._titulo="Modalidade de determinação da BC do ICMS ST",r.det.lista.imposto.escolhas.opcao1.IPI.cEnq._titulo="Código de Enquadramento Legal do IPI",r.det.lista.imposto.escolhas.opcao1.IPI.cEnq._doc="Código de Enquadramento Legal do IPI (tabela criada pela RFB) (cEnq)",r.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST._titulo="CST do IPI",r.det.lista.imposto.ICMSUFDest.pICMSInterPart._valorInic=100,r.det.lista.impostoDevol.visivel._titulo="Imposto devolvido",r.det.lista.infAdProd._titulo="Informações adicionais do produto",r.total._titulo="Outros Valores",r.total.ICMSTot.noXml_vTribFed=a(r.det.lista.imposto.noXml_vTribFed),r.total.ICMSTot.noXml_vTribEst=a(r.det.lista.imposto.noXml_vTribEst),r.total.ICMSTot.noXml_vTribMun=a(r.det.lista.imposto.noXml_vTribMun),r.transp._titulo="Transporte",r.transp.modFrete._valorInic="9",r.transp.transporta.UF._valorInic="",r.transp.escolhas.opcao1.veicTransp.UF._valorInic="",r.transp.escolhas.opcao1.reboque.lista.UF._valorInic="",r.transp.vol.lista.lacres._titulo="Lacres",r.cobr._titulo="Faturamento",r.cobr.fat.visivel._valorInic=!0,r.cobr.fat.vOrig._opcional=!1,r.cobr.fat.vDesc._opcional=!1,r.cobr.fat.vLiq._opcional=!1,r.cobr.dup._titulo="Duplicatas",r.cobr.dup.lista.dVenc._titulo="Vencimento",r.pag._titulo="Pagamento",r.pag.detPag._titulo="Forma de pagamento",r.infAdic._titulo="Informações adicionais",r.infAdic.infAdFisco._titulo="Informações adicionais de interesse do Fisco",r.infAdic.infCpl._titulo="Informações complementares de interesse do Contribuinte",r)};var r},18295:(e,o,t)=>{"use strict";t.d(o,{Z:()=>a});const a={aliquotaSimples:0,chNFe:"",status:"",situacao:"Em digitação",situacaoErro:"",mensagem:"",importada:!1,emitida:!1,cancelada:!1,calculaTotais:!0,visaoCompleta:!1,visaoCompletaProduto:!1,nProt_emissao:"",dhRecbto_emissao:"",idContatoEmitente:"",idContatoDestinatario:"",dadosAdicionais:"",dadosAdicionaisEmitente:"",dadosAdicionaisDestinatario:"",dadosAdicionaisEnderecoEntrega:"",textoValorAproximadosTributos:"",textoCartaCorrecao:[],operacao:"",cfop:"",protNFe:{tpAmb:"",chNFe:"",nProt:"",dhRecbto:"",cStat:"",xMotivo:""},automatico:{totais:!0,calculaBC:!0,incluiDespesasNaBC:!0,dados_trib:!0},ordemCompra:"",observacoesNFe:{}}},62159:(e,o,t)=>{"use strict";t.d(o,{Z:()=>l});var a=t(84573),i=t(29497),r=t(58294);const l={erros:null,executa(e,o){const t=(0,r.logarIni)("compactarValidarNFe");try{return this.erros=[],this.gerarTags(e,o,"infNFe")}catch(e){throw console.error("Erro no compactarValidarNFe\n",e),e}finally{(0,r.logarFim)(t)}},gerarTags(e,o,t){let a={};if(o=o||{},e.visivel){if(!o.visivel)return a;a.visivel=!0}for(let i in e){if(i.startsWith("_")||"visivel"===i)continue;const r=o[i],l=e[i];if(i.startsWith("opcional")){let e=this.gerarTags(l,r,t+"."+i);e.visivel&&(a[i]=e)}else if(i.startsWith("escolhas")){const e=(r||{}).valor_escolha||"";if(e in l){const o=this.gerarCampo(l[e],r,e,t+"."+e);null===o||o.constructor===Object&&0===Object.keys(o).length||(a[i]={valor_escolha:e},a[i][e]=o)}}else{const e=this.gerarCampo(l,o,i,t+"."+i);null!==e&&(a[i]=e)}}return a},gerarCampo(e,o,t,r){let l=(o||{})[t],s=i.Z.consisteCampo(l,e,t);if(s&&this.erros.push("Erro: "+s+". Campo: "+e._titulo+" ("+r+")"),a.Z.tiposNumero.includes(e._tipo)){if(l)return l;if(!e._opcional)return 0}else if("dataHora"===e._tipo){if(l)return a.Z.formatarDataNFe(l);if(!e._opcional)return""}else if("data"===e._tipo){if(l)return a.Z.formatarDataNFeSemHoras(l);if(!e._opcional)return""}else if("lista"in e){if(l&&l.constructor===Array&&l.length>0)return this.gerarLista(e.lista,l,r+"."+t);if(!e._opcional)return[]}else if(null==l){if(!e._opcional)return null}else if(l.constructor===String){if(l)return l;if(!e._opcional)return""}else{let o=this.gerarTags(e,l,r);if(null!=l&&Object.keys(o).length>0&&!1!==l.visivel)return o;if(!e._opcional)return{}}return null},gerarLista(e,o,t){let a=[];for(let i in o)a.push(this.gerarTags(e,o[i],t+"["+i+"]"));return a}}},4834:(e,o,t)=>{"use strict";t.d(o,{Z:()=>a});const a={executa(e,o,t){return this.geraTags(e,o,t)},geraTags(e,o,t){let a={},i=!1;for(let r in e)if(!r.startsWith("_")){if(r.startsWith("lista"))return this.geraLista(e[r],o,t);"visivel"===r?a[r]=null!=o&&r in o?o[r]:!0===e[r]._valorInic:"valor_escolha"===r?null!=o&&r in o?a[r]=o[r]:(a[r]=this.primeiraEscolha(e),"ICMS00"===a[r]&&(a[r]="")):a[r]=null!=o&&r in o?this.geraTags(e[r],o[r],t):this.geraTags(e[r],null,t),i=!0}return i||(a=null==o?e._valorInic:"data"===e._tipo&&10===o.length?o+"T00:00:00":o),a},geraLista(e,o,t){let a=[];for(let i in o)a.push(this.geraTags(e,o[i],t));return a},primeiraEscolha(e){if(e._opcional)return"Não se aplica";for(let o in e)if(!o.startsWith("_")&&"valor_escolha"!==o)return o;return""}}},80166:(e,o,t)=>{"use strict";t.d(o,{Z:()=>s});const a="http://www.portalfiscal.inf.br/nfe",i="4.00",r="1.00",l=(e,o,t,i)=>{const r=e.createElementNS(a,t);return o.appendChild(r),void 0!==i&&(r.textContent=i),r},s={chNFe:"",Nfe(e,o,t){const r=document.implementation.createDocument("",""),l=r.createElementNS(a,"NFe"),s=r.createElementNS(a,"infNFe");return r.appendChild(l),l.appendChild(s),s.setAttribute("versao",i),s.setAttribute("Id",this.chaveNfe(o,t)),this.gerarTags(r,s,e,o),r},EventoNFe(e,o,t){const i=document.implementation.createDocument("",""),l=i.createElementNS(a,"envEvento");l.setAttribute("versao",r),i.appendChild(l);const s=i.createElementNS(a,"idLote");l.appendChild(s),s.textContent=t;const n=i.createElementNS(a,"evento");n.setAttribute("versao",r),l.appendChild(n);const c=i.createElementNS(a,"infEvento");return n.appendChild(c),c.setAttribute("Id","ID"+o.tpEvento+o.chNFe+o.nSeqEvento.padStart(2,"0")),this.gerarTags(i,c,e,o),i},InutilizarNFe(e,o){const t=document.implementation.createDocument("",""),r=t.createElementNS(a,"inutNFe");t.appendChild(r),r.setAttribute("versao",i);const l=t.createElementNS(a,"infInut");return r.appendChild(l),l.setAttribute("Id","ID"+o.cUF.padStart(2,"0")+o.ano.padStart(2,"0")+o.CNPJ.padStart(14,"0")+o.mod.padStart(2,"0")+o.serie.padStart(3,"0")+o.nNFIni.padStart(9,"0")+o.nNFFin.padStart(9,"0")),this.gerarTags(t,l,e.infInut,o),t},gerarTags(e,o,t,i){for(let l in t)if(!l.startsWith("_")&&!l.startsWith("noXml_")&&"visivel"!==l&&"valor_escolha"!==l&&l in i)if(l.startsWith("opcional")||l.startsWith("escolhas")||l.startsWith("opcao"))this.gerarTags(e,o,t[l],i[l]);else if(i[l].constructor===String){const t=e.createElementNS(a,l);o.appendChild(t),t.textContent=i[l]}else if(i[l].constructor===Number){const r=e.createElementNS(a,l);o.appendChild(r),r.textContent=i[l].toFixed(t[l]._decimals||0)}else if(i[l].constructor===Array)for(let r in i[l]){const s=e.createElementNS(a,l);o.appendChild(s),"det"===l&&s.setAttribute("nItem",(parseInt(r)+1).toString()),this.gerarTags(e,s,t[l].lista,i[l][r])}else{const s=e.createElementNS(a,l);o.appendChild(s),this.gerarTags(e,s,t[l],i[l]),"detEvento"===l&&s.setAttribute("versao",r)}},chaveNfe(e,o){var t="0000";if(e.ide.dhEmi){var a=new Date(e.ide.dhEmi);t=a.getFullYear().toString().padStart(2,"0").slice(-2)+(a.getMonth()+1).toString().padStart(2,"0")}let i=1000003*(o=o||"298D8718-DE89-4B81-D08E-50242E0A72B8").charCodeAt(32)+10007*o.charCodeAt(35)+113*o.charCodeAt(34)+o.charCodeAt(33);for(i+=548300*Number(e.total.ICMSTot.vProd),e.ide.cNF=i.toFixed(0).padStart(8,"0").slice(0,8);[e.ide.nNF.padStart(8,"0").slice(0,8),"00000000","11111111","22222222","33333333","44444444","55555555","66666666","77777777","88888888","99999999","12345678","23456789","34567890","45678901","56789012","67890123","78901234","89012345","90123456","01234567",""].includes(e.ide.cNF);)i++,e.ide.cNF=i.toFixed(0).padStart(8,"0").slice(0,8);var r;r="CPF"===e.emit.escolhas.valor_escolha?e.emit.escolhas.CPF:e.emit.escolhas.CNPJ;var l=e.ide.cUF.padStart(2,"0")+t+r.padStart(14,"0")+e.ide.mod.padStart(2,"0")+e.ide.serie.padStart(3,"0")+e.ide.nNF.padStart(9,"0")+e.ide.tpEmis.padStart(1,"0")+e.ide.cNF;return e.ide.cDV=this.calculoDV11(l),this.chNFe=l+e.ide.cDV,"NFe"+l+e.ide.cDV},calculoDV11(e){for(var o=4,t=0,a=0;a<e.length;a++)t+=parseInt(e[a])*o,o>2?o--:o=9;var i=11-t%11;return i>=10&&(i=0),i.toString()},consultarCadastroContribuinte(e,o){const t=document.implementation.createDocument("",""),a=l(t,t,"ConsCad");a.setAttribute("versao","2.00");const i=l(t,a,"infCons");return l(t,i,"xServ","CONS-CAD"),l(t,i,"UF",o),l(t,i,"CNPJ",e),t}}},82812:(e,o,t)=>{"use strict";t.d(o,{Z:()=>f});var a=t(30052),i=t.n(a),r=t(80166),l=t(70154),s=t(84573),n=t(18295),c=t(58294),d=t(54726),m=t(11463);const u="http://localhost:5555";function p(e){if(e.indexOf("XML INCONSISTENTE")>=0){let o=e.replace(/Início da validação...|...Final da validação|http:\/\/www.portalfiscal.inf.br\/nfe:|no espaço para nome 'http:\/\/www.portalfiscal.inf.br\/nfe'|(Arquivo XML: |Arquivo SCHEMA: )C\\:(\w|>|-|\.|\\)*(\.xml|\.xsd){1}|Linha: \d+ Coluna: \d+ /g,"").replace(/(\r\n)+/g,"\r\n");return console.log(e),console.log(o),o}return e}function h(e){return e.replace(/=/g,"k__k").replace(/\?/g,"l__l").replace(/&/g,"m__m").replace(/\+/g,"n__n")}function C(e){return Object.keys(e).map((o=>encodeURIComponent(o)+"="+encodeURIComponent(e[o]))).join("&")}function v(e){let o={};for(const t of["id","idDocumento","numeroPDV","cpfCnpjCliente","nomeCliente","infNFe","outrosNFe","alertas","erros"])e[t]&&(o[t]=e[t]);return o}const f={url:"",urlSat:"",urlNFe:"",urlImprimir:"",async urlIntegrador(e,o){return"consultarCadastroContribuinte"===e?this.url="https://api.b15.com.br/integrador":"ImprimeNFCe"===e?(this.urlImprimir=await m.db.configuracoes.leValorComFiltroEmpresa("integrador.imprimir",o,u),this.url=this.urlImprimir):"SAT"===e?(this.urlSat=await m.db.configuracoes.leValorComFiltroEmpresa("integrador.sat",o,""),this.urlSat||(this.urlSat=await m.db.configuracoes.leValorComFiltroEmpresa("integrador.servidor",o,u)),this.url=this.urlSat):(this.urlNFe=await m.db.configuracoes.leValorComFiltroEmpresa("integrador.servidor",o,u),this.url=this.urlNFe),this.url},async consultarCadastroContribuinte(e,o){const t={action:"ConsultaCadastroContribuinte",certificados:e,documentoXml:h('<?xml version="1.0" encoding="utf-8"?>'+(new XMLSerializer).serializeToString(o))};return this.executar(t,"consultarCadastroContribuinte",void 0)},async emitirSat(e,o){const t={action:"EmiteSAT",sat:h(e)};return this.executar(t,"SAT",o)},async cancelarSat(e,o){const t={action:"CancelaSAT",cancelaSat:h(e)};return this.executar(t,"SAT",o)},async imprimirCancelamentoSat(e,o){const t={action:"ImprimirCancelamentoSAT",cupomSat:h(e)};return this.executar(t,"SAT",o)},async imprimirSat(e,o){const t={action:"ImprimeSAT",cupomSat:h(e)};return this.executar(t,"SAT",o)},async emitirNFCe(e,o,t){const a=r.Z.Nfe(l.Z.infNFe,e.infNFe,e.outrosNFe.idDocumento);e.outrosNFe.chNFe=r.Z.chNFe;const i={hashCSC:o,tokenCSC:t};let s=await this.servicoIntegrador(e,a,"emitirNFCe","Emissão",1,i,"NFCe",e.outrosNFe.idContatoEmitente);return"539"===s.cStat&&(s=await this.emitirNFCeDuplicidade(e,i,s.complemento||"")),s},async emitirNFCeDuplicidade(e,o,t){const a=(t.match(/\d{44}/g)||[])[0];let i;if(a)i=await m.db.documentoFiscalEletronicoErro.le({chNFe:a});else{const o={tpAmb:e.infNFe.ide.tpAmb,cpfCnpjEmitente:e.infNFe.emit.escolhas.CNPJ,mod:Number(e.infNFe.ide.mod),serie:Number(e.infNFe.ide.serie),nNF:Number(e.infNFe.ide.nNF),situacao:"Sem resposta"};i=await m.db.documentoFiscalEletronicoErro.le(o),0===i.length&&(o.situacao="Falha na transmissão",i=await m.db.documentoFiscalEletronicoErro.le(o))}if(i&&i.length>0){const t=await this.emitirNFCeFaturaAnterior(i[0].json,o);if("Sucesso"===t.status){e.infNFe.ide.nNF=String(Number(e.infNFe.ide.nNF)+1);let t=r.Z.Nfe(l.Z.infNFe,e.infNFe,e.outrosNFe.idDocumento);return e.outrosNFe.chNFe=r.Z.chNFe,this.servicoIntegrador(e,t,"emitirNFCe","Emissão",1,o,"NFCe",e.outrosNFe.idContatoEmitente)}return t}},async emitirNFCeFaturaAnterior(e,o){const t=JSON.parse(e);t.infNFe.ide.dhEmi=s.Z.formatarDataNFe(new Date);const a=r.Z.Nfe(l.Z.infNFe,t.infNFe,t.outrosNFe.idDocumento);return t.outrosNFe.chNFe=r.Z.chNFe,this.servicoIntegrador(t,a,"emitirNFCe","Emissão",1,o,"NFCe",t.outrosNFe.idContatoEmitente)},async cancelarNFCe(e){let o=r.Z.EventoNFe(l.Z.infEvento,e.infEvento,e.infNFe.ide.nNF);return this.servicoIntegrador(e,o,"CancelaNFe","Cancelamento",e.infEvento.nSeqEvento,{},"NFCe",e.outrosNFe.idContatoEmitente)},async imprimirNFCe(e,o){const t={action:"ImprimeNFCe",nfce:h(e)};return this.executar(t,"ImprimeNFCe",o)},async executar(e,o,t){try{const a=await i().post(await this.urlIntegrador(o,t),C(e));if(200!==a.status||!a.data)throw console.error("Falha de comunicação com o Integrador!\nServidor: "+this.url||0),new c.ErroValidacao("Falha de comunicação com o Integrador! \nServidor: "+this.url);return a.data}catch(e){throw"Network Error"===e.message?new c.ErroValidacao("Verifique se o integrador foi iniciado! \nServidor: "+this.url):(console.error("Falha de comunicação com o Integrador! \nServidor: "+this.url+"\n"+e.message),new c.ErroValidacao("Falha de comunicação com o Integrador! \nServidor: "+this.url))}},async inutilizar(e,o,t){let a={id:(0,c.uuid)(),infInut:o,outrosNFe:s.Z.completarOutrosNFe(n.Z,{}),infNFe:{ide:{tpAmb:o.tpAmb,mod:o.mod,serie:o.serie,nNF:o.nNFFin},emit:{escolhas:{CNPJ:o.CNPJ}}}},i=r.Z.InutilizarNFe(e,o);return this.servicoIntegrador(a,i,"InutilizaNFe","Inutilização",1,{},"NFCe",t)},async servicoIntegrador(e,o,t,a,r,l={},s,n){const u='<?xml version="1.0" encoding="utf-8"?>'+(new XMLSerializer).serializeToString(o);let f="";const N=e.infNFe.emit||{escolhas:{CPF:"",CNPJ:""},xNome:"",xFant:""},V={id:(0,c.uuid)(),tipo:"65"===e.infNFe.ide.mod?"NFCe":"NFe",operacao:a,situacao:"Sem resposta",tpAmb:e.infNFe.ide.tpAmb,mod:Number(e.infNFe.ide.mod),serie:Number(e.infNFe.ide.serie),nNF:Number(e.infNFe.ide.nNF),nNFFin:Number((e.infInut||{}).nNFFin||0),nSeqEvento:Number(r),chNFe:e.outrosNFe.chNFe,dataHoraEnvio:(0,c.dataAtual)(),cpfCnpjEmitente:N.escolhas.CNPJ||N.escolhas.CPF||"",json:JSON.stringify(v(e)),xmlEnvio:u,idDocumentoFiscalEletronico:e.id,idDocumento:e.outrosNFe.idDocumento};await m.db.documentoFiscalEletronicoErro.grava({atual:V});let g={};try{const e={action:t,documentoXml:h(u),...l};let o=await i().post(await this.urlIntegrador(s,n),C(e));if(g=o.data||{},200!==o.status||!o.data)throw console.error("Falha de comunicação com o Integrador!\nServidor: "+this.url||0),f="Falha de comunicação com o Integrador! \nServidor: "+this.url,await m.db.documentoFiscalEletronicoErro.grava({atual:{...V,mensagem:f,situacao:"Erro integrador"},original:V}),new c.ErroValidacao(f)}catch(e){throw"Network Error"===e.message?(f="Verifique se o integrador foi iniciado! \nServidor: "+this.url,await m.db.documentoFiscalEletronicoErro.grava({atual:{...V,mensagem:f,situacao:"Sem integrador"},original:V}),new c.ErroValidacao(f)):(console.error("Falha de comunicação com o Integrador! \nServidor: "+this.url+"\n"+e.message),f="Falha de comunicação com o Integrador! \nServidor: "+this.url,await m.db.documentoFiscalEletronicoErro.grava({atual:{...V,mensagem:f,situacao:"Erro no integrador"},original:V}),new c.ErroValidacao(f))}let x=e.outrosNFe,b="";g.protNFe?x.protNFe={tpAmb:g.protNFe.tpAmb,chNFe:g.protNFe.chNFe,nProt:g.protNFe.nProt,dhRecbto:g.protNFe.dhRecbto,cStat:g.protNFe.cStat,xMotivo:g.protNFe.xMotivo}:g.protNFe={},g.status&&"Erro"!==g.status&&g.protNFe.nProt?(x.situacao=g.situacao||x.situacao,x.situacaoErro="",x.mensagem=p(g.mensagem),b=g.protNFe.xMotivo+"\nProtocolo: "+x.protNFe.nProt+"\nData recebimento: "+x.protNFe.dhRecbto,"Emissão"===a&&g.protNFe.nProt&&(x.emitida=!0,x.nProt_emissao=g.protNFe.nProt,x.dhRecbto_emissao=g.protNFe.dhRecbto),"Cancelamento"===a&&g.protNFe.nProt&&(x.cancelada=!0)):(g.status="Erro",x.situacaoErro=g.situacao||x.situacao+" - Erro",x.mensagem=p(g.mensagem||"Falha na operação!"),b=(g.protNFe||{}).xMotivo||""),x.status=g.status;const w={...V,status:x.status,situacao:"Erro"===g.status?x.situacaoErro:x.situacao,mensagem:x.mensagem,cStat:g.protNFe.cStat,xMotivo:g.protNFe.xMotivo,nProt:g.protNFe.nProt,dhRecbto:g.protNFe.dhRecbto,dataHoraResposta:(0,c.dataAtual)(),json:JSON.stringify(v(e)),xmlProt:g.xml||""};if("Erro"===g.status)await m.db.documentoFiscalEletronicoErro.grava({atual:w,original:V});else if(await m.db.documentoFiscalEletronicoErro.remove(w.id),w.id=(0,c.uuid)(),await m.db.documentoFiscalEletronicoXml.grava({atual:w}),"NFCe"===w.tipo){const o=e.infNFe.dest||{escolhas:{CPF:"",CNPJ:""},xNome:"",xFant:""},t=await m.db.documentoFiscalEletronico.le({id:e.id}),a={id:e.id,tipo:w.tipo,situacao:x.situacao,tpAmb:e.infNFe.ide.tpAmb,mod:Number(e.infNFe.ide.mod),serie:Number(e.infNFe.ide.serie),nNF:Number(e.infNFe.ide.nNF),chNFe:e.outrosNFe.chNFe,vNF:((e.infNFe.total||{}).ICMSTot||{}).vNF,dhEmi:e.infNFe.ide.dhEmi,dataHoraEmissao:d.ZP.formatDate(e.infNFe.ide.dhEmi),dataHoraCriacao:w.dataHoraEnvio,dataHoraAlteracao:w.dataHoraResposta,cpfCnpjEmitente:N.escolhas.CNPJ||N.escolhas.CPF||"",xNomeEmitente:N.xNome,xFantEmitente:N.xFant,cpfCnpjDestinatario:o.escolhas.CNPJ||o.escolhas.CPF||"",xNomeDestinatario:o.xNome,xFantDestinatario:o.xFant,json:JSON.stringify(v(e)),qrCode:"Emitido"===x.situacao&&g.QRCode?g.QRCode:t.qrCode,idDocumento:e.outrosNFe.idDocumento};await m.db.documentoFiscalEletronico.grava({atual:a,original:t})}return{status:g.status,cStat:(g.protNFe||{}).cStat||"",mensagem:x.mensagem,complemento:b,xml:g.xml}}}},84573:(e,o,t)=>{"use strict";t.d(o,{Z:()=>s});var a=t(70154),i=t(18295),r=t(54726),l=t(58294);const s={acertarDadosNFe(e,o,t){if(7===e.emit.enderEmit.cMun.length&&(e.ide.cMunFG=e.emit.enderEmit.cMun),e.ide.cUF=(l.mapearEstadoCodigo[e.emit.enderEmit.UF]||0).toString(),"2"===e.ide.tpAmb&&(e.dest.xNome="NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL","NFCe"===t))for(const o of e.det)o.prod.xProd="NOTA FISCAL EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL";const a=((e.dest||{}).escolhas||{}).CNPJ;for(const o in e.autXML)a===e.autXML[o].escolhas.CNPJ&&e.autXML.splice(o,1);let i=1;for(const o of e.cobr.dup)o.nDup=String(i).padStart(3,"0"),i++;"NFe"===t&&(e.infAdic.visivel=!0,e.infAdic.infCpl=o.textoValorAproximadosTributos,o.dadosAdicionais&&(e.infAdic.infCpl&&(e.infAdic.infCpl+=" "),e.infAdic.infCpl+=o.dadosAdicionais),"string"==typeof o.observacoesNFe&&(e.infAdic.infCpl&&(e.infAdic.infCpl+=" "),e.infAdic.infCpl+=o.observacoesNFe),o.dadosAdicionaisEmitente&&(e.infAdic.infCpl&&(e.infAdic.infCpl+=" "),e.infAdic.infCpl+=o.dadosAdicionaisEmitente),e.infAdic.infCpl=(0,l.removerCaracteresEspeciais)(e.infAdic.infCpl.replace(/\n/g," ").replace(/–/g,"-")).trim().substr(0,5e3)),e.infRespTec.visivel=!0,e.infRespTec.CNPJ="07660198000189",e.infRespTec.xContato="M.F da Silva Informatica Ltda. - ME",e.infRespTec.email="geeks@geekssolucoes.com.br",e.infRespTec.fone="1621116161"},completarOutrosNFe(e,o){if(!e||"object"!=typeof e||Array.isArray(e))return[null,void 0].includes(o)?e:o;let t={};for(const a in e)t[a]=this.completarOutrosNFe(e[a],o?o[a]:null);return Object.keys(o||{}).length&&!Object.keys(e||{}).length&&(t=o),t},formatarDataNFe:e=>("string"==typeof e&&10===e.length&&(e=new Date(e+"T00:00:00")),r.ZP.formatDate(e,"YYYY-MM-DDTHH:mm:ssZ")),formatarDataNFeSemHoras:e=>("string"==typeof e&&10===e.length&&(e=new Date(e+"T00:00:00")),r.ZP.formatDate(e,"YYYY-MM-DD")),formatarNumero:(e,o)=>(e||0).toFixed(o).replace(".",",").replace(/\d(?=(\d{3})+,)/g,"$&."),iniciarCampos(e,o){l.gconsole.log("NFeUtil","iniciarCampos",o);const t=r.ZP.formatDate(Date.now());return e.id=(0,l.uuid)(),e.dataHoraAlteracao=t,e.dataHoraCriacao=t,"importar"!==o&&(e.outrosNFe=this.completarOutrosNFe(i.Z,{}),e.infNFe.ide.dhEmi=this.formatarDataNFe(new Date),e.infNFe.ide.dhSaiEnt=a.Z.infNFe.ide.dhSaiEnt._valorInic,e.infNFe.ide.nNF=a.Z.infNFe.ide.nNF._valorInic,e.infNFe.ide.serie=a.Z.infNFe.ide.serie._valorInic,e.infNFe.ide.tpAmb=a.Z.infNFe.ide.tpAmb._valorInic),e.situacao=e.outrosNFe.situacao,"NFe"===e.tipo&&(e.infNFe.dest.visivel=!0,e.infNFe.dest.enderDest.visivel=!0),e},filtrarDadosNFe(e){const o={};for(const t of["id","idDocumento","numeroPDV","cpfCnpjCliente","nomeCliente","infNFe","infEvento","infEventoCC","outrosNFe","alertas","erros"])e[t]&&(o[t]=e[t]);return o},prepararDocumentoFiscalEletronico(e){const o=e.infNFe.emit||{escolhas:{CPF:"",CNPJ:""},xNome:"",xFant:""},t=e.infNFe.dest||{escolhas:{CPF:"",CNPJ:""},xNome:"",xFant:""};return{id:e.id,tipo:e.tipo,situacao:e.outrosNFe.situacao,tpAmb:e.infNFe.ide.tpAmb,mod:Number(e.infNFe.ide.mod),serie:Number(e.infNFe.ide.serie),nNF:Number(e.infNFe.ide.nNF),chNFe:e.outrosNFe.chNFe,vNF:((e.infNFe.total||{}).ICMSTot||{}).vNF,dhEmi:e.infNFe.ide.dhEmi,dataHoraEmissao:r.ZP.formatDate(e.infNFe.ide.dhEmi),dataHoraCriacao:e.dataHoraCriacao,dataHoraAlteracao:(0,l.dataAtual)(),cpfCnpjEmitente:o.escolhas.CNPJ||o.escolhas.CPF||"",xNomeEmitente:o.xNome,xFantEmitente:o.xFant,cpfCnpjDestinatario:t.escolhas.CNPJ||t.escolhas.CPF||"",xNomeDestinatario:t.xNome,xFantDestinatario:t.xFant,json:JSON.stringify(this.filtrarDadosNFe(e)),qrCode:"",idDocumento:e.outrosNFe.idDocumento,operacao:e.outrosNFe.operacao,tipoDocumentoFiscal:a.Z.infNFe.ide.tpNF._enumeration.find((o=>o.valor===e.infNFe.ide.tpNF)).rotulo.replace(/^\s*\d+\s*-\s*/g,""),finalidade:a.Z.infNFe.ide.finNFe._enumeration.find((o=>o.valor===e.infNFe.ide.finNFe)).rotulo.replace(/^\s*\d+\s*-\s*/g,""),naturezaOperacao:e.infNFe.ide.natOp}},tiposNumero:["decimal","dinheiro","percentagem"]}},81105:(e,o,t)=>{"use strict";t.d(o,{Z:()=>l});var a=t(58294),i=t(4834),r=t(70154);const l={calculaTotais(e,o,t,l=!0){this.metadados=t;const s={vBC:0,vBCST:0,vICMS:0,vICMSDeson:0,vFCPUFDest:null,vICMSUFDest:null,vICMSUFRemet:null,vFCP:0,vST:0,vICMSST:null,vICMSSTRet:null,vFCPST:0,vFCPSTRet:0,vProd:0,vFrete:0,vSeg:0,vDesc:0,vII:0,vIPI:0,vIPIDevol:0,vPIS:0,vCOFINS:0,vOutro:0,vNF:0,noXml_vTribFed:0,noXml_vTribEst:0,noXml_vTribMun:0,vTotTrib:0};for(const t in e.det){const i=e.det[t];if(l&&(this.distribuiDadosICMS(i,e),this.distribuiDadosPIS(i),this.distribuiDadosCOFINS(i),this.distribuiDadosIPI(i)),o.automatico.dados_trib&&(i.prod.qTrib=i.prod.qCom,i.prod.uTrib=i.prod.uCom,i.prod.vUnTrib=i.prod.vUnCom,i.prod.cEANTrib=i.prod.cEAN),o.automatico.totais){const t=(0,a.arredondar)(i.prod.qCom,4),r=(0,a.arredondar)(i.prod.vUnCom,4),l=(0,a.arredondar)(i.prod.qTrib,4),n=(0,a.arredondar)(i.prod.vUnTrib,4),c=(0,a.arredondar)(t*r,2),d=(0,a.arredondar)(i.prod.vFrete,2),m=(0,a.arredondar)(i.prod.vSeg,2),u=(0,a.arredondar)(i.prod.vOutro,2),p=(0,a.arredondar)(i.prod.vDesc,2),h=!1===o.automatico.incluiDespesasNaBC?0:u,C=(0,a.arredondar)(l*n+m+h-p,2);i.prod.vProd=(0,a.arredondar)(c,2),"1"===i.prod.indTot&&(s.vProd+=c),s.vIPIDevol+=i.impostoDevol?.IPI?.vIPIDevol||0,s.vFrete+=d,s.vSeg+=m,s.vOutro+=u,s.vDesc+=p,this.calculaPIS_COFINS("PIS",i,o,s,C,t),this.calculaPIS_COFINS("COFINS",i,o,s,C,t),this.calculaICMS_ISSQN_IPI_II(i,e,o,s,C,t),this.calculaIBPT(i,o,s)}this.resumeDadosICMS(i)}if(o.automatico.totais){const t=e.total.ICMSTot;if(o.calculaTotais){s.vST=s.vICMSST+s.vST,s.vNF=s.vProd+s.vFrete+s.vSeg+s.vOutro+s.vST+s.vFCPST+s.vIPI+s.vIPIDevol-s.vDesc;for(const e in s)null!=s[e]&&(t[e]=(0,a.arredondar)(s[e],2))}if(e.pag.detPag.length){if(1===e.pag.detPag.length){const o=e.pag.detPag[0];"90"===o.tPag?o.vPag=0:o.vPag=(0,a.arredondar)(s.vNF)}}else{const o=i.Z.executa(r.Z.infNFe.pag.detPag.lista,{});o.tPag="99",o.xPag="",o.vPag=(0,a.arredondar)(s.vNF),e.pag.detPag.push(o)}}},calculaIBPT(e,o,t){const i=Number(e.prod.vProd)-Number(e.prod.vDesc);e.imposto.noXml_vTribFed=["1","6","7"].includes(e.imposto.noXml_orig)?(0,a.arredondar)(Number(e.imposto.noXml_pTribImp)*i/100):(0,a.arredondar)(Number(e.imposto.noXml_pTribFed)*i/100),t.noXml_vTribFed=(0,a.arredondar)(t.noXml_vTribFed+e.imposto.noXml_vTribFed,2),e.imposto.noXml_vTribEst=(0,a.arredondar)(Number(e.imposto.noXml_pTribEst)*i/100),t.noXml_vTribEst=(0,a.arredondar)(t.noXml_vTribEst+e.imposto.noXml_vTribEst),e.imposto.noXml_vTribMun=(0,a.arredondar)(Number(e.imposto.noXml_pTribMun)*i/100),t.noXml_vTribMun=(0,a.arredondar)(t.noXml_vTribMun+e.imposto.noXml_vTribMun),e.imposto.vTotTrib=(0,a.arredondar)(e.imposto.noXml_vTribFed+e.imposto.noXml_vTribEst+e.imposto.noXml_vTribMun),t.vTotTrib=(0,a.arredondar)(t.vTotTrib+e.imposto.vTotTrib)},distribuiDadosICMS(e,o){const t=e.imposto.noXml_CSOSN||"",a=e.imposto.noXml_CST||"",i=e.imposto.escolhas.opcao1.ICMS.escolhas;if(t||a){e.imposto.escolhas.valor_escolha="opcao1";const r=this.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas;for(const e in i)"valor_escolha"===e||"ICMSPart"===e||"ICMSST"===e||e.endsWith("_erro")||("3"===o.emit.CRT?"CST"in i[e]&&r[e].CST._enumeration.find((e=>e.valor===a))&&(i.valor_escolha=e,i[e].CST=a):"CSOSN"in i[e]&&r[e].CSOSN._enumeration.find((e=>e.valor===t))&&(i.valor_escolha=e,i[e].CSOSN=t))}const r=i[i.valor_escolha];r&&"opcao1"===e.imposto.escolhas.valor_escolha&&(e.imposto.noXml_orig&&this.atualizaCampoRecursivo(r,"orig",e.imposto.noXml_orig),e.imposto.noXml_pICMS&&!["201","202"].includes(t)&&(this.atualizaCampoRecursivo(r,"pICMS",e.imposto.noXml_pICMS),e.imposto.noXml_pICMS=0),e.imposto.noXml_pRedBC&&(this.atualizaCampoRecursivo(r,"pRedBC",e.imposto.noXml_pRedBC),e.imposto.noXml_pRedBC=0),e.imposto.noXml_pFCP&&!["201","202"].includes(t)&&(this.atualizaCampoRecursivo(r,"pFCP",e.imposto.noXml_pFCP),e.imposto.noXml_pFCP=0))},resumeDadosICMS(e){const o=e.imposto.escolhas;if("opcao1"===o.valor_escolha||!o.valor_escolha){o.valor_escolha="opcao1";const t=o.opcao1.ICMS.escolhas,a=t[t.valor_escolha];a&&("CST"in a?e.imposto.noXml_CST=a.CST:"CSOSN"in a&&(e.imposto.noXml_CSOSN=a.CSOSN),e.imposto.noXml_orig=this.buscaRecursivo(a,"orig"))}},distribuiDadosPIS(e){const o=e.imposto.noXml_CSTPis||"";if(o){const t=this.metadados.infNFe.det.lista.imposto.PIS.escolhas,a=e.imposto.PIS.escolhas;for(const e in a)"valor_escolha"!==e&&!e.endsWith("_erro")&&"CST"in a[e]&&t[e].CST._enumeration.find((e=>e.valor===o))&&(a.valor_escolha=e,a[e].CST=o);const i=a[a.valor_escolha];i&&e.imposto.noXml_pPIS&&this.atualizaCampoRecursivo(i,"pPIS",e.imposto.noXml_pPIS)}},distribuiDadosCOFINS(e){const o=e.imposto.noXml_CSTCofins||"";if(o){const t=this.metadados.infNFe.det.lista.imposto.COFINS.escolhas,a=e.imposto.COFINS.escolhas;for(const e in a)"valor_escolha"!==e&&!e.endsWith("_erro")&&"CST"in a[e]&&t[e].CST._enumeration.find((e=>e.valor===o))&&(a.valor_escolha=e,a[e].CST=o);const i=a[a.valor_escolha];i&&e.imposto.noXml_pCOFINS&&this.atualizaCampoRecursivo(i,"pCOFINS",e.imposto.noXml_pCOFINS)}},distribuiDadosIPI(e){const o=e.imposto.noXml_CSTIpi||"";if(o){e.imposto.escolhas.valor_escolha="opcao1";const t=e.imposto.escolhas.opcao1.IPI;t.visivel=!0,t.cEnq=e.imposto.noXml_cEnqIpi,this.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST._enumeration.find((e=>e.valor===o))?(t.escolhas.valor_escolha="IPITrib",t.escolhas.IPITrib.CST=o,t.escolhas.IPITrib.escolhas.valor_escolha="opcao1",t.escolhas.IPITrib.escolhas.opcao1.pIPI=e.imposto.noXml_pIPI||0):(t.escolhas.valor_escolha="IPINT",t.escolhas.IPINT.CST=o)}},calculaPIS_COFINS(e,o,t,a,i,r){let l=null;switch(o.imposto[e].escolhas.valor_escolha){case e+"Aliq":l=o.imposto[e].escolhas[e+"Aliq"],this.calculaImpostoPercentagem(e,l,"vBC","p"+e,l,"v"+e,a,t,i);break;case e+"Qtde":l=o.imposto[e].escolhas[e+"Qtde"],this.calculaImpostoQuantidade(e,l,"qBCProd","vAliqProd",l,"v"+e,a,t,r);break;case e+"NT":break;case e+"Outr":l=o.imposto[e].escolhas[e+"Outr"],"opcao1"===l.escolhas.valor_escolha?this.calculaImpostoPercentagem(e,l.escolhas.opcao1,"vBC","p"+e,l,"v"+e,a,t,i):"opcao2"===l.escolhas.valor_escolha&&this.calculaImpostoQuantidade(e,l.escolhas.opcao2,"qBCProd","vAliqProd",l,"v"+e,a,t,r)}o.imposto[e+"ST"].visivel&&(l=o.imposto[e+"ST"],"opcao1"===l.escolhas.valor_escolha?this.calculaImpostoPercentagem(e,l.escolhas.opcao1,"vBC","p"+e,l,"v"+e,a,t,i):"opcao2"===l.escolhas.valor_escolha&&this.calculaImpostoQuantidade(e,l.escolhas.opcao2,"qBCProd","vAliqProd",l,"v"+e,a,t,r))},calculaICMS_ISSQN_IPI_II(e,o,t,a,i,r){switch(e.imposto.escolhas.valor_escolha){case"opcao1":this.calculaICMS(e,o,t,a,i),this.calculaIPI(e.imposto.escolhas.opcao1.IPI,t,a,i,r),this.calculaII(e.imposto.escolhas.opcao1.II,t,a,i);break;case"opcao2":this.calculaISSQN(e.imposto.escolhas.opcao2.ISSQN,t,a,i),this.calculaIPI(e.imposto.escolhas.opcao2.IPI,t,a,i,r)}},calculaIPI(e,o,t,a,i){let r=null;if(e.visivel)switch(e.escolhas.valor_escolha){case"IPITrib":r=e.escolhas.IPITrib,"opcao1"===r.escolhas.valor_escolha?this.calculaImpostoPercentagem("IPI",r.escolhas.opcao1,"vBC","pIPI",r,"vIPI",t,o,a):"opcao2"===r.escolhas.valor_escolha&&this.calculaImpostoQuantidade("IPI",r.escolhas.opcao2,"qUnid","vUnid",r,"vIPI",t,o,i);break;case"IPINT":r=e.escolhas.IPINT}},calculaII(e,o,t,a){e.visivel&&(t.vII+=Number(e.vII))},calculaISSQN(e,o,t,a){this.calculaImpostoPercentagem("ISSQN",e,"vBC","vAliq",e,"vISSQN",t,o,a)},calculaICMS(e,o,t,a,i){const r=e.imposto.escolhas.opcao1.ICMS,l=e.imposto;let s=null;switch(r.escolhas.valor_escolha){case"ICMS00":s=r.escolhas.ICMS00,t.automatico.calculaBC&&(s.modBC="3"),this.calculaImpostoPercentagem("ICMS",s,"vBC","pICMS",s,"vICMS",a,t,i,e,o),s.opcional.visivel&&this.calculaImpostoPercentagem("FCP",s.opcional,"vBCFCP","pFCP",s.opcional,"vFCP",a,t,i,e,o);break;case"ICMS10":s=r.escolhas.ICMS10,t.automatico.calculaBC&&(s.modBC="3"),this.calculaImpostoPercentagem("ICMS",s,"vBC","pICMS",s,"vICMS",a,t,i,e,o),s.opcional.visivel&&this.calculaImpostoPercentagem("FCP",s.opcional,"vBCFCP","pFCP",s.opcional,"vFCP",a,t,i,e,o),this.calculaImpostoST("ICMSST",s,"vBCST","pICMSST","pMVAST","vICMS",s,"vICMSST",a,t,i,e,o),s.opcional2.visivel&&this.calculaImpostoFCPST("FCPST",s.opcional2,"vBCFCPST","pFCPST",s.opcional2,"vFCPST",a,t,Number(s.vBCST)||0,Number(s.opcional.vFCP)||0);break;case"ICMS20":s=r.escolhas.ICMS20,this.calculaImpostoPercentagemComReducaoBc("ICMS","vBC","pICMS","pRedBC","vICMS",s,a,t,i,e,o),s.opcional.visivel&&this.calculaImpostoPercentagem("FCP",s.opcional,"vBCFCP","pFCP",s.opcional,"vFCP",a,t,i,e,o);break;case"ICMS30":s=r.escolhas.ICMS30,this.calculaImpostoST("ICMSST",s,"vBCST","pICMSST","pMVAST","vICMS",s,"vICMSST",a,t,i,e,o),s.opcional.visivel&&this.calculaImpostoFCPST("FCPST",s.opcional,"vBCFCPST","pFCPST",s.opcional,"vFCPST",a,t,Number(s.vBCST)||0,Number(s.opcional.vFCP)||0);break;case"ICMS40":s=r.escolhas.ICMS40;break;case"ICMS51":s=r.escolhas.ICMS51,this.calculaImpostoPercentagemComReducaoBc("ICMS","vBC","pICMS","pRedBC","vICMS",s,a,t,i,e,o),s.opcional.visivel&&this.calculaImpostoPercentagem("FCP",s.opcional,"vBCFCP","pFCP",s.opcional,"vFCP",a,t,i,e,o);break;case"ICMS60":s=r.escolhas.ICMS60,s.opcional.visivel&&this.calculaImpostoPercentagem("ICMSSTRet",s.opcional,"vBCSTRet","pST",s.opcional,"vICMSSTRet",a,t,i,e,o),s.opcional2.visivel&&this.calculaImpostoPercentagem("FCPSTRet",s.opcional2,"vBCFCPSTRet","pFCPSTRet",s.opcional2,"vFCPSTRet",a,t,i,e,o);break;case"ICMS70":s=r.escolhas.ICMS70,this.calculaImpostoPercentagemComReducaoBc("ICMS","vBC","pICMS","pRedBC","vICMS",s,a,t,i,e,o),s.opcional.visivel&&this.calculaImpostoPercentagem("FCP",s.opcional,"vBCFCP","pFCP",s.opcional,"vFCP",a,t,i,e,o),this.calculaImpostoST("ICMSST",s,"vBCST","pICMSST","pMVAST","vICMS",s,"vICMSST",a,t,i,e,o),s.opcional2.visivel&&this.calculaImpostoFCPST("FCPST",s.opcional2,"vBCFCPST","pFCPST",s.opcional2,"vFCPST",a,t,Number(s.vBCST)||0,Number(s.opcional.vFCP)||0);break;case"ICMS90":s=r.escolhas.ICMS90;let n=0;s.opcional.visivel&&(this.calculaImpostoPercentagemComReducaoBc("ICMS","vBC","pICMS","pRedBC","vICMS",s.opcional,a,t,i,e,o),s.opcional.opcional.visivel&&(this.calculaImpostoPercentagem("FCP",s.opcional.opcional,"vBCFCP","pFCP",s.opcional.opcional,"vFCP",a,t,i,e,o),n=Number(s.opcional.opcional.vFCP)||0)),s.opcional2.visivel&&(this.calculaImpostoST("ICMSST",s.opcional2,"vBCST","pICMSST","pMVAST","vICMS",s.opcional2,"vICMSST",a,t,i,e,o),s.opcional2.opcional.visivel&&this.calculaImpostoFCPST("FCPST",s.opcional2.opcional,"vBCFCPST","pFCPST",s.opcional2.opcional,"vFCPST",a,t,Number(s.opcional2.vBCST)||0,n));break;case"ICMSPart":s=r.escolhas.ICMSPart;break;case"ICMSST":s=r.escolhas.ICMSST;break;case"ICMSSN101":s=r.escolhas.ICMSSN101;break;case"ICMSSN102":s=r.escolhas.ICMSSN102;break;case"ICMSSN201":s=r.escolhas.ICMSSN201,this.calculaImpostoST_CSOSN_201_202(s,l,a,e,o,t,i);break;case"ICMSSN202":s=r.escolhas.ICMSSN202,this.calculaImpostoST_CSOSN_201_202(s,l,a,e,o,t,i);break;case"ICMSSN500":s=r.escolhas.ICMSSN500,s.opcional.visivel&&this.calculaImpostoPercentagem("ICMSSTRet",s.opcional,"vBCSTRet","pST",s.opcional,"vICMSSTRet",a,t,i,e,o),s.opcional2.visivel&&this.calculaImpostoPercentagem("FCPSTRet",s.opcional2,"vBCFCPSTRet","pFCPSTRet",s.opcional2,"vFCPSTRet",a,t,i,e,o);break;case"ICMSSN900":s=r.escolhas.ICMSSN900,s.opcional.visivel&&this.calculaImpostoPercentagemComReducaoBc("ICMS","vBC","pICMS","pRedBC","vICMS",s.opcional,a,t,i,e,o),s.opcional2.visivel&&(this.calculaImpostoST("ICMSST",s.opcional2,"vBCST","pICMSST","pMVAST","vICMS",s.opcional2,"vICMSST",a,t,i,e,o),s.opcional2.opcional.visivel&&this.calculaImpostoFCPST("FCPST",s.opcional2.opcional,"vBCFCPST","pFCPST",s.opcional2.opcional,"vFCPST",a,t,Number(s.opcional2.vBCST)||0,Number(s.opcional2.vFCP)||0))}},calculaImpostoPercentagem(e,o,t,a,i,r,l,s,n,c,d){if(t in o||console.error("totalEImpostos: Campo "+t+" não consta em objetoImposto "),a in o||console.error("totalEImpostos: Campo "+a+" não consta em objetoImposto "),r in i||console.error("totalEImpostos: Campo "+r+" não consta em objetoImposto "),r in l||console.error("totalEImpostos: Campo "+r+" não consta em total"),n=0!==n&&s.automatico.calculaBC?this.atualizaBC(o,t,s,n):Number(o[t]),s.calculaTotais){const m=this.atualizaAliquota(o,a,s),u=this.atualizaValorImposto(i,r,n*m/100);if(l[r]+=u,("ICMS"===e||"ICMSST"===e)&&(t in l||console.error("totalEImpostos: Campo "+t+" não consta em total"),l[t]+=n,"ICMSST"===e)){const e="1"===d.transp.modFrete,o=c.prod.vFrete,a="1"===d.ide.indFinal;l[t]+=!a&&e?o:0}}},calculaImpostoST(e,o,t,i,r,l,s,n,c,d,m,u,p){t in o||console.error("totalEImpostos: Campo "+t+" não consta em objetoImposto "),i in o||console.error("totalEImpostos: Campo "+i+" não consta em objetoImposto "),r in o||console.error("totalEImpostos: Campo "+r+" não consta em objetoImposto "),n in s||console.error("totalEImpostos: Campo "+n+" não consta em objetoImposto "),n in c||console.error("totalEImpostos: Campo "+n+" não consta em total");const h=Number(o[r])||0,C=Number(c.vICMS)||0,v=Number(o[i])||0;if(0!==m&&d.automatico.calculaBC){const e=(0,a.arredondar)(m+m*h/100,2);m=this.atualizaBC(o,t,d,e)}else m=Number(o[t])||0;if(d.calculaTotais&&(s[n]=(0,a.arredondar)(m*v/100-C,2),c[n]+=s[n],("ICMS"===e||"ICMSST"===e)&&(t in c||console.error("totalEImpostos: Campo "+t+" não consta em total"),c[t]+=m,"ICMSST"===e))){const e="1"===p.transp.modFrete,o=u.prod.vFrete,a="1"===p.ide.indFinal;c[t]+=!a&&e?o:0}},calculaImpostoST_CSOSN_201_202(e,o,t,i,r,l,s){let n,c,d;if(0!==s&&l.automatico.calculaBC){c=s;const t="1"===r.transp.modFrete,l=i.prod.vFrete,m="1"===r.ide.indFinal,u=Number(e.pMVAST)||0;n=(0,a.arredondar)(s+s*u/100+(!m&&t?l:0),2),d=n,o.noXml_vBC=s,o.noXml_vBCFCP=c,e.vBCST=n,e.opcional.vBCFCPST=d}else s=Number(o.noXml_vBC)||0,c=Number(o.noXml_vBCFCP)||0,n=Number(e.vBCST)||0,d=Number(e.opcional.vBCFCPST)||0;if(l.calculaTotais){const i=Number(o.noXml_pICMS)||0,r=Number(o.noXml_pFCP)||0,l=Number(e.pICMSST)||0,m=Number(e.opcional.pFCPST)||0,u=(0,a.arredondar)(s*i/100,2),p=(0,a.arredondar)(c*r/100,2),h=(0,a.arredondar)(n*l/100-u,2),C=(0,a.arredondar)(d*m/100-p,2);o.noXml_vICMS=u,o.noXml_vFCP=p,e.vICMSST=h,e.opcional.vFCPST=C,t.vICMSST+=h,t.vFCPST+=C,t.vBCST+=n}},calculaImpostoFCPST(e,o,t,i,r,l,s,n,c,d){t in o||console.error("totalEImpostos: Campo "+t+" não consta em objetoImposto "),i in o||console.error("totalEImpostos: Campo "+i+" não consta em objetoImposto "),l in r||console.error("totalEImpostos: Campo "+l+" não consta em objetoImposto "),l in s||console.error("totalEImpostos: Campo "+l+" não consta em total");const m=Number(o[i])||0;c=0!==c&&n.automatico.calculaBC?this.atualizaBC(o,t,n,c):Number(o[t]),n.calculaTotais&&(r[l]=(0,a.arredondar)(c*m/100-d,2),s[l]+=r[l])},calculaImpostoPercentagemComReducaoBc(e,o,t,i,r,l,s,n,c,d,m){o in l||console.error("totalEImpostos: Campo "+o+" não consta em objetoImposto "),t in l||console.error("totalEImpostos: Campo "+t+" não consta em objetoImposto "),i in l||console.error("totalEImpostos: Campo "+i+" não consta em objetoImposto "),r in l||console.error("totalEImpostos: Campo "+r+" não consta em objetoImposto "),r in s||console.error("totalEImpostos: Campo "+r+" não consta em total");const u=Number(l[t]),p=Number(l[i]);if(0!==c&&n.automatico.calculaBC?(p&&u&&(c=(0,a.arredondar)(c*p/u,2)),l[o]=c):c=Number(l[o]),n.calculaTotais){const t=(0,a.arredondar)(c*u/100,2);if(l[r]=t,s[r]+=t,("ICMS"===e||"ICMSST"===e)&&(o in s||console.error("totalEImpostos: Campo "+o+" não consta em total"),s[o]+=c,"ICMSST"===e)){const e="1"===m.transp.modFrete,t=d.prod.vFrete,a="1"===m.ide.indFinal;s[o]+=!a&&e?t:0}}},calculaImpostoQuantidade(e,o,t,a,i,r,l,s,n){t in o||console.log("Campo "+t+" não consta em objetoImposto "),a in o||console.log("Campo "+a+" não consta em objetoImposto "),r in i||console.log("Campo "+r+" não consta em objetoImposto "),r in l||console.log("Campo "+r+" não consta em total");const c=this.atualizaBCquantidade(o,t,n,s),d=this.atualizaAliquotaQuantidade(o,a,s),m=this.atualizaValorImposto(i,r,c*d);l[r]+=m},atualizaBC:(e,o,t,i)=>(t.automatico.calculaBC?e[o]=(0,a.arredondar)(i,2):i=Number(e[o]),i),atualizaAliquota(e,o,t){let a=0;return a=Number(e[o]),a},atualizaValorImposto:(e,o,t)=>(e[o]=(0,a.arredondar)(t,2),(0,a.arredondar)(t,2)),atualizaBCquantidade(e,o,t,i){let r=0;return i.automatico.calculaBC?(r=t,e[o]=(0,a.arredondar)(r,4)):r=Number(e[o]),r},atualizaAliquotaQuantidade(e,o,t){let a=0;return a=Number(e[o]),a},atualizaCampoRecursivo(e,o,t){o in e&&(e[o]=t);for(const a in e){const i=e[a];i&&i.constructor===Object&&this.atualizaCampoRecursivo(i,o,t)}},atualizaCampoVisivelRecursivo(e,o,t){o in e&&"visivel"in e&&(e.visivel=t);for(const a in e){const i=e[a];i&&i.constructor===Object&&this.atualizaCampoVisivelRecursivo(i,o,t)}},buscaRecursivo(e,o){if(o in e)return e[o];for(const t in e){const a=e[t];if(a&&a.constructor===Object){const e=this.buscaRecursivo(a,o);if(e)return e}}return 0}}},29497:(e,o,t)=>{"use strict";t.d(o,{Z:()=>i});var a=t(84573);const i={formataNumero(e,o){let t=e;if("string"==typeof e&&(e=Number(e.replace(/\./g,"").replace(",","."))),"number"==typeof e){const a=e.toFixed(o),i=e.toString();t=a.length>i.length?a:i}return t},mensagemPorTipo(e,o,t,i,r,l,s,n){let c="";return c="cEAN"===t||"cEANTrib"===t?"Deve conter 8, 12, 13 ou 14 digitos ou o texto SEM GTIN":"TCnpj"===i?"Deve conter 14 digitos":"TCnpjOpc"===i?"Deve conter 14 digitos ou em branco":"TCpf"===i?"Deve conter 11 digitos":"TIeDestNaoIsento"===i?"Deve conter de 2 a 14 digitos":"TIeDest"===i||"TIe"===i?"Deve conter de 2 a 14 digitos ou o texto ISENTO":"TSerie"===i?"Deve conter de 1 a 3 digitos":"TDec_0302a04Max100"===i?"Deve ser um número de 0 a 100 com até 4 decimais":i.startsWith("TDec_0302a04")?"Deve ser um número de 0 a 999 com até 4 decimais":a.Z.tiposNumero.includes(r)?s||0!==Number(o)?s&&0===Number(o)?"":0===l?"Número inválido":"Deve ser um valor com até "+l+" casas decimais":"Campo obrigatório":"Conteúdo inválido",c},consisteCampo(e,o,t){const i="string"==typeof e?e.length:e?e.toString().length:0,r=o._minLength||0,l=o._maxLength||0,s=o._opcional||!1,n=o._pattern||null,c=o._type||"",d=o._tipo||"",m=parseInt(o._decimals||"0");let u="",p=!1,h=e;return n&&(a.Z.tiposNumero.includes(d)&&(h=this.formataNumero(e,m)),"data"===d?h=a.Z.formatarDataNFeSemHoras(e):"dataHora"===d&&(h=a.Z.formatarDataNFe(e)),p=new RegExp("^("+n+")$").test(h)),u=s&&0===i?"":s||0!==i||p?i<r?"Tamanho mínimo de "+r+" caracteres":0!==l&&i>l?"Tamanho máximo de "+l+" caracteres":null===n||""===n||p?"":this.mensagemPorTipo(e,h,t,c,d,m,s,n):"Campo obrigatório",u||void 0}}},19119:(e,o,t)=>{"use strict";t.d(o,{t:()=>c});var a=t(11463),i=t(37714),r=t(58294),l=t(48409);const s={tentativaErro:1,async executarEnviar(){const e=(0,r.logarIni)("sincEnviar","verificando envio sincronismo erp");let o=0;try{if(!l.s.isOpen())return;const t=await i._.sincronismo.le();for(const e of t){const{bancoDeDados:t}=e;if(c.proximoReiniciar>new Date){r.gconsole.log("LogSinc",`${(new Date).toLocaleTimeString("pt-br")} ${t} interrompeu executarEnviar`);break}o+=await this.enviarDados(t)||0}return o&&c.descarregarErp(8),o}catch(e){console.error("Erro no sincronismo erp enviar\n",e)}finally{(0,r.logarFim)(e,o)}return-1},async executarDescarregar(){const e=(0,r.logarIni)("sincDescarregar","verificando descarregamento sincronismo erp");let o=0;try{if(!a.db.usuario.logado.token)return;if(!l.s.isOpen())return;const t=await i._.sincronismo.le(),s=t.filter((e=>e.bancoDeDados===a.db.cache.get("bancoDeDados"))),n=t.filter((e=>e.bancoDeDados!==a.db.cache.get("bancoDeDados"))),d=[...s,...n];for(const e of d){if(c.proximoReiniciar>new Date){r.gconsole.log("LogSinc",`${(new Date).toLocaleTimeString("pt-br")} ${e.bancoDeDados} interrompeu executarDescarregar`);break}e.status&&"sincronismoInicial"!==e.status?o+=await this.descarregarPeriodico(e):o+=await this.descarregarInicial(e)}c.descarregarErp(60),this.tentativaErro=1}catch(e){this.tentativaErro+=1,console.error(`${(new Date).toLocaleTimeString("pt-br")} Erro no descarregar. Nova tentativa: ${this.tentativaErro}\n`,e.toString()),c.descarregarErp(this.tentativaErro)}finally{(0,r.logarFim)(e,o)}},async enviarDados(e){const o=(0,l.X)(e);if(!o.isOpen())return;const t=await o.sincronismoFila.toArray();for(const i of t){if(c.proximoReiniciar>new Date){r.gconsole.log("LogSinc",`${(new Date).toLocaleTimeString("pt-br")} ${e} interrompeu enviarDados`);break}e===a.db.cache.get("bancoDeDados")&&a.db.sincronismo.logar(`${(new Date).toLocaleTimeString("pt-br")} subiu  ${i.tabela.padEnd(26)} ${i.chave} ${i.acao} ${e}`);const t=(await(0,r.geeksApi)({sincronismoErpEnviar:{funcao:"FF40DFDD-BC07-4A9E-B854-FB00E3C125BD",dados:[{acao:i.acao,chave:i.chave,dataHora:i.dataHora,tabela:i.tabela,valor:JSON.stringify(i.valor),dispositivo:c.obterIdDispositivo(),idUsuario:i.idUsuario,nomeUsuario:i.nomeUsuario}]}},{bancoDeDados:e})).data.sincronismoErpEnviar;if(!t.sucesso){console.error(`Erro no sincronismo ${e} enviar. ${JSON.stringify(t)}.`);break}await o.sincronismoFila.delete(i._ordem)}return t.length&&r.gconsole.log("LogSinc",`${(new Date).toLocaleTimeString("pt-br")} ${e} enviar ${t.length} registro(s)`),t.length},async descarregarInicial(e){let{bancoDeDados:o}=e;if(e.status="sincronismoInicial",!e.pagina){const t=await(0,r.geeksApi)({sincronismoErpIniciarDispositivo:{funcao:"40AA16FD-4749-4B8F-A2BB-D07EE001D4B2",idDispositivo:c.obterIdDispositivo()}},{bancoDeDados:o});e={...e,...t.data.sincronismoErpIniciarDispositivo,tabelas:void 0,adicionar:void 0,atualizar:void 0,remover:void 0},await i._.sincronismo.grava(e)}let t=(0,r.geeksApi)({sincronismoErpInicial:{funcao:"4C94AD01-F71D-4322-A1F8-2B7842ED49B5",pagina:e.pagina,idDispositivo:c.obterIdDispositivo()}},{bancoDeDados:o});for(;!e.finalizou;){if(c.proximoReiniciar>new Date){r.gconsole.log("LogSinc",`${(new Date).toLocaleTimeString("pt-br")} ${o} interrompeu descarregarInicial`);break}const a=(await t).data.sincronismoErpInicial;if(!a.pagina){console.error(`Erro no sincronismo ${o}. Página '${a.pagina}' inválida. Página anterior: '${e.pagina}'`);break}a.finalizou||(t=(0,r.geeksApi)({sincronismoErpInicial:{funcao:"4C94AD01-F71D-4322-A1F8-2B7842ED49B5",pagina:a.pagina,idDispositivo:c.obterIdDispositivo()}},{bancoDeDados:o})),await this.atualizarIndexdbBulk(o,a.tabelas);const l=(a.quantidadeRealizada/a.quantidadeTotal*1e4|0)/100;(e={...e,...a,percentagem:l,ultimo:(0,r.dataAtual)(),tabelas:void 0,adicionar:void 0,atualizar:void 0,remover:void 0,inicial:{ultimo:(0,r.dataAtual)()}}).finalizou&&(e.status="normal",e.percentagem=100),await i._.sincronismo.grava(e),$utils.emitter.emit("atualizarStatusSincronismo",o,{percentagem:l,status:e.status})}return e.finalizou&&o===a.db.cache.get("bancoDeDados")&&(c.status.concluidoErp=!0,a.db.usuario.carregaDados()),e.quantidadeRealizada},async descarregarPeriodico(e){let{bancoDeDados:o}=e,t=(0,r.geeksApi)({sincronismoErpPeriodico:{funcao:"7D5B80F7-8BEA-460E-8026-305B31E7647D",pagina:e.pagina,idDispositivo:c.obterIdDispositivo()}},{bancoDeDados:o});for(e.finalizou=!1,e.status=i._.sincronismo.verificaBloqueioHoras(e)?"bloqueado":"normal";!e.finalizou;){if(c.proximoReiniciar>new Date){r.gconsole.log("LogSinc",`${(new Date).toLocaleTimeString("pt-br")} ${o} interrompeu descarregarPeriodico`);break}const a=(await t).data.sincronismoErpPeriodico,l=a.quantidadeRestante+a.registrosPagina;if($utils.emitter.emit("atualizarStatusSincronismo",o,{quantidadeRestantePeriodico:l,dataHoraServidor:a.dataHoraServidor}),!a.pagina){console.error(`Erro no sincronismo ${o}. Página '${a.pagina}' inválida. Página anterior: '${e.pagina}'`);break}a.finalizou||(t=(0,r.geeksApi)({sincronismoErpPeriodico:{funcao:"7D5B80F7-8BEA-460E-8026-305B31E7647D",pagina:a.pagina,idDispositivo:c.obterIdDispositivo()}},{bancoDeDados:o})),await this.crudIndexdb(o,a.dados,"normal"===e.status);const s=Object.keys(a.dados||{}).length;e.periodico=e.periodico||{},(e={...e,...a,tabelas:void 0,adicionar:void 0,atualizar:void 0,remover:void 0,ultimo:(0,r.dataAtual)(),quantidadeRestantePeriodico:l,periodico:{ultimo:(0,r.dataAtual)(),sequencia:(e.periodico.sequencia||0)+1,tamanho:s,tamanhoTotal:(e.periodico.tamanhoTotal||0)+s}}).finalizou&&(e.status="normal",e.percentagem=100),await i._.sincronismo.grava(e)}return $utils.emitter.emit("atualizarStatusSincronismo",o,{status:e.status}),e.finalizou&&o===a.db.cache.get("bancoDeDados")&&(c.status.concluidoErp=!0,a.db.usuario.carregaDados()),e.quantidadeRealizada},async atualizarIndexdbBulk(e,o){for(const t in o){const a=o[t];try{const o=1e3;for(let i=0;i<a.length;i+=o){const r=a.slice(i,i+o);await(0,l.X)(e)[t].bulkPut(r)}r.gconsole.log("LogSinc",`${(new Date).toLocaleTimeString("pt-br")} ${e} ${t} ${a.length} registro(s).`)}catch(o){console.error(`Erro no sincronismo ${e}. Falha no bulkPut tabela '${t}'.\n`,o)}}},async acertaDados(e,o,t,i,r){r&&e===a.db.cache.get("bancoDeDados")&&(a.db.sincronismo.logar(`${(new Date).toLocaleTimeString("pt-br")} desceu ${o.padEnd(26)} ${i.id} ${t} ${e}`),"contato"===o&&a.db.contatoBusca.reindexar(i.id),"item"===o&&await a.db.item.carregarMemoria(i.id))},async crudIndexdb(e,o,t){let a=0;for(const i in o){const{tabela:r,acao:s,valor:n}=o[i];try{if("remover"===s)await(0,l.X)(e)[r].delete(n.id);else if("adicionar"===s)try{await(0,l.X)(e)[r].add(n)}catch(o){await(0,l.X)(e)[r].update(n.id,n)}else"atualizar"===s?0===await(0,l.X)(e)[r].update(n.id,n)&&await(0,l.X)(e)[r].put(n):console.error(`Erro no sincronismo ${e}. Ação nao permitida '${s}' tabela '${r}'.`);await this.acertaDados(e,r,s,n,t);const o=37;a++,a>=o&&($utils.emitter.emit("atualizarStatusSincronismoPeriodico",e,o),a-=o)}catch(o){console.error(`Erro no sincronismo ${e}. Falha na tabela '${r}' acao '${s}'.\n`,o)}}a&&$utils.emitter.emit("atualizarStatusSincronismoPeriodico",e,a)}},n={tentativaErro:1,async executarDescarregar(){const e=(0,r.logarIni)("sincDescarregar","verificando descarregamento sincronismo plataforma");let o=0;try{if(!a.db.usuario.logado.token)return;const t=localStorage.getItem("clienteSistemaBaixados");if(!t)return;if(c.proximoReiniciar>new Date)return void r.gconsole.log("LogSinc",`${(new Date).toLocaleTimeString("pt-br")} interrompeu executarDescarregarPlataforma`);"ok"!==localStorage.getItem("sincronismoPlat")?o=await this.descarregarInicial(t):($utils.emitter.emit("sincronismoPlataformaPercentagem","100 %"),o=await this.descarregarPeriodico(t)),c.descarregarPlataforma(60)}catch(e){this.tentativaErro+=1,console.error(`${(new Date).toLocaleTimeString("pt-br")} Erro no descarregar plataforma. Nova tentativa: ${this.tentativaErro}\n`,e.toString()),c.descarregarPlataforma(this.tentativaErro)}finally{(0,r.logarFim)(e,o)}},async descarregarInicial(e){const o=JSON.parse(e).map((e=>e.idClienteSistema));let t=a.db.cache.getJson("sincronismoPlataforma");for(t.pagina||(t=(await(0,r.geeksApi)({sincronismoPlataformaIniciarDispositivo:{funcao:"912047D5-73D4-401C-AF27-5C7223586C27",idsClienteSistema:o,idDispositivo:c.obterIdDispositivo()}})).data.sincronismoPlataformaIniciarDispositivo,a.db.cache.setJson("sincronismoPlataforma",t));!t.finalizou;){if(c.proximoReiniciar>new Date){r.gconsole.log("LogSinc",`${(new Date).toLocaleTimeString("pt-br")} interrompeu descarregarInicialPlataforma`);break}const e=(await(0,r.geeksApi)({sincronismoPlataformaInicial:{funcao:"0BA0A03C-7896-44C1-8CC6-5D6B55064F40",idsClienteSistema:o,pagina:t.pagina}})).data.sincronismoPlataformaInicial;await this.atualizarIndexdb(e.tabelas);const i=`${Math.floor(100*e.quantidadeRealizada/(e.quantidadeTotal||1e10))} %`;$utils.emitter.emit("sincronismoPlataformaPercentagem",i),r.gconsole.log("LogSinc",`${(new Date).toLocaleTimeString("pt-br")} plataforma descarregar ${e.registrosPagina} registro(s).`),t={...t,...e,tabelas:void 0,remover:void 0,inicial:{ultimo:(0,r.dataAtual)()}},a.db.cache.setJson("sincronismoPlataforma",t)}return t.finalizou&&(localStorage.setItem("sincronismoPlat","ok"),$utils.emitter.emit("sincronismoPlataformaPercentagem","100 %")),t.quantidadeTotal||0},async descarregarPeriodico(e){const o=JSON.parse(e).map((e=>e.idClienteSistema));let t=a.db.cache.getJson("sincronismoPlataforma");t.versaoAtual||(t.versaoAtual=localStorage.getItem("versaoPlataforma")||"");const i=(await(0,r.geeksApi)({sincronismoPlataformaPeriodico:{funcao:"94C02F51-5B68-4374-A099-35562E8DC419",idsClienteSistema:o,versaoAnterior:t.versaoAtual}})).data.sincronismoPlataformaPeriodico;await this.atualizarIndexdb(i.tabelas),await this.removerIndexdb(i.remover);const l=Object.keys(i.tabelas||{}).length,s=Object.keys(i.remover||{}).length;return t.periodico=t.periodico||{},t={...t,...i,tabelas:void 0,remover:void 0,periodico:{ultimo:(0,r.dataAtual)(),sequencia:(t.periodico.sequencia||0)+1,tamanho:l,tamanhoTotal:(t.periodico.tamanhoTotal||0)+l,remover:s,removerTotal:(t.periodico.removerTotal||0)+s}},a.db.cache.setJson("sincronismoPlataforma",t),l+s},async atualizarIndexdb(e){for(const o in e){const t=e[o];try{const e=100;for(let a=0;a<t.length;a+=e){const i=t.slice(a,a+e);await l.s[o].bulkPut(i)}r.gconsole.log("LogSinc",`${(new Date).toLocaleTimeString("pt-br")} plataforma ${o} ${t.length} registro(s).`)}catch(e){console.error(`Erro no sincronismo plataforma. Falha no bulkPut tabela '${o}'.\n`,e)}}},async removerIndexdb(e){for(const o in e){const t=e[o];for(const e of t)try{await l.s[o].delete(e)}catch(t){console.error(`Erro no sincronismo plataforma. Falha no delete tabela '${o}' id '${e}'.\n'`,t)}r.gconsole.log("LogSinc",`${(new Date).toLocaleTimeString("pt-br")} plataforma delete ${o} ${t.length} registro(s).`)}}},c={executando:!1,dispositivo:null,proximoDescarregarErp:new Date,proximoDescarregarPlataforma:new Date,proximoReiniciar:new Date,status:{carregando:!1,carregou:!1,concluidoBancos:{},concluidoErp:!1,percentagemErp:"",tamanhoFila:0},sessaoId:(0,r.uuid)(),async atualizarStatus(){r.gconsole.log("LogSinc",`${(new Date).toLocaleTimeString("pt-br")} atualizarStatus`);const e=await i._.sincronismo.le();r.gconsole.log("LogSinc",`${(new Date).toLocaleTimeString("pt-br")} listaBancos\n ${e.map((e=>e.bancoDeDados+" "+(e.status||"???"))).join("\n ")}`);for(const o of e){if(i._.sincronismo.verificaBloqueioHoras(o)&&"normal"===o.status&&(o.status="bloqueado",await i._.sincronismo.grava({bancoDeDados:o.bancoDeDados,status:o.status}),r.gconsole.log("LogSinc",`${(new Date).toLocaleTimeString("pt-br")} ${o.bancoDeDados} ${o.status}`)),"normal"===o.status||"bloqueado"===o.status)try{const e=(await(0,r.geeksApi)({quantidadeRestante:{funcao:"6D66BC44-6EFC-46BB-9F97-390E00957F69",pagina:o.pagina}},{bancoDeDados:o.bancoDeDados})).data.quantidadeRestante.quant;await i._.sincronismo.grava({bancoDeDados:o.bancoDeDados,quantidadeRestantePeriodico:e}),r.gconsole.log("LogSinc",`${(new Date).toLocaleTimeString("pt-br")} quantidade restante ${o.bancoDeDados} ${e}`)}catch(e){console.error("Erro no sincronismo roteador atualizarStatus\n",e),o.quantidadeRestantePeriodico=0}this.status.concluidoBancos[o.bancoDeDados]="normal"===o.status}const o=a.db.cache.get("bancoDeDados");this.status.concluidoErp=this.status.concluidoBancos[o],this.status.carregou=!0},async carregarStatus(){l.s.isOpen()&&(this.status.carregando||(this.status.carregando=!0,await this.atualizarStatus(),this.status.concluidoErp&&(await(0,r.dormir)(2e3),a.db.usuario.carregaDados())))},async executar(){if(a.db.cache.getJson("clienteSistema")&&(this.status.carregando||await this.carregarStatus(),navigator.onLine&&!this.executando))try{if(this.executando=!0,navigator.storage&&navigator.storage.persist&&await navigator.storage.persist(),this.sessaoViva().sort()[0]!==this.sessaoId)return a.db.sincronismo.log=localStorage.getItem("sincronismoLog")||a.db.sincronismo.log,void c.atualizarTamanhoFila();const e=new Date;if(this.proximoReiniciar>e)return void r.gconsole.log("LogSinc",`${(new Date).toLocaleTimeString("pt-br")} interrompeu sincronismoRoteadorExecutar`);let o=await s.executarEnviar();this.proximoDescarregarPlataforma<e&&(this.descarregarPlataforma(60),await n.executarDescarregar()),this.proximoDescarregarErp<e&&(this.descarregarErp(60),await s.executarDescarregar()),0!==o&&c.atualizarTamanhoFila()}catch(e){console.error("Erro no sincronismo roteador\n",e)}finally{this.executando=!1}},sessaoViva(){let e=JSON.parse(localStorage.getItem("sessoes")||"{}");for(const o in e)new Date-new Date(e[o])>3e4&&delete e[o];let o=[];for(const t in e)o.push(t);return e[this.sessaoId]=new Date,localStorage.setItem("sessoes",JSON.stringify(e)),o},async atualizarTamanhoFila(){const e=await i._.sincronismo.le();let o=0;for(const t of e){const{bancoDeDados:e}=t;o+=await(0,l.X)(e).sincronismoFila.count()||0}o+=await l.s.sincronismoFila.count()||0,c.status.tamanhoFila=o,r.gconsole.log("sincronismoRoteador","tamanhoFila:",o)},descarregarErp(e=0){const o=new Date;this.proximoDescarregarErp=o,this.proximoDescarregarErp.setSeconds(o.getSeconds()+e)},descarregarPlataforma(e=0){const o=new Date;this.proximoDescarregarPlataforma=o,this.proximoDescarregarPlataforma.setSeconds(o.getSeconds()+e)},obterIdDispositivo(){return this.dispositivo||(this.dispositivo=localStorage.getItem("dispositivoCliente")||""),this.dispositivo},reiniciar(e=30){const o=new Date;this.proximoReiniciar=o,this.proximoReiniciar.setSeconds(o.getSeconds()+e),r.gconsole.log("LogSinc",`${(new Date).toLocaleTimeString("pt-br")} reiniciar - parar até ${this.proximoReiniciar.toLocaleTimeString("pt-br")}`)}};c.atualizarTamanhoFila()},65278:(e,o,t)=>{"use strict";t.d(o,{Z:()=>a});const a={composicao:{lista:{idItemUtilizado:{rotulo:"Produto para composição",tipo:"texto"},ordem:{max:"9999",min:"0",rotulo:"Ordem",tipo:"quantidade"},quantidade:{min:"0",rotulo:"Quantidade",tipo:"decimal",decimals:"4"},temporario:{total:{readonly:!0,rotulo:"Total",tipo:"decimal",decimals:"2"},unidade:{disable:!0,readonly:!0,rotuloFixo:"Unidade",tipo:"texto"},valor:{readonly:!0,rotulo:"Valor",tipo:"decimal",decimals:"2"}}}},fornecedor:{lista:{descricao:{maxlength:"50",rotulo:"Descrição",tipo:"texto"},idContato:{rotulo:"Nome fornecedor",tipo:"texto"},referencia:{maxlength:"30",rotulo:"Referência",tipo:"texto"}}},producaoFase:{lista:{descricao:{maxlength:"8000",rotulo:"Descrição",tipo:"texto"},idItemEquipamento:{rotulo:"Equipamento",tipo:"texto"},idItemFerramenta:{rotulo:"Ferramenta",tipo:"texto"},idItemServico:{rotulo:"Servico",tipo:"texto"},ordem:{max:"9999",min:"0",rotulo:"Ordem",tipo:"quantidade"}}},qualidade:{lista:{descricao:{maxlength:"150",rotulo:"Descrição"},especificacao:{maxlength:"150",rotulo:"Especificação"},limites:{maxlength:"150",rotulo:"Limites"}}},altura:{rotulo:"Altura",tipo:"decimal",decimals:"0"},armacaoCor:{rotuloFixo:"Cor",tipo:"seletor"},armacaoMaterial:{rotuloFixo:"Material",tipo:"seletor"},diagonal:{rotulo:"Diagonal",tipo:"decimal",decimals:"0"},genero:{class:"col-12 col-md-6",rotuloFixo:"Gênero",tipo:"seletor"},haste:{rotulo:"Haste",tipo:"decimal",decimals:"0"},modelo:{maxlength:"100",rotulo:"Modelo",tipo:"texto"},ponte:{rotulo:"Ponte",tipo:"decimal",decimals:"0"},largura:{maxlength:"100",rotulo:"Largura",tipo:"texto"},tipoMontagem:{rotuloFixo:"Tipo de montagem",tipo:"seletor"},aplicacao:{maxlength:"10000",rotulo:"Aplicação",rows:"2",tipo:"textoArea"},capacidade:{rotulo:"Capacidade",tipo:"decimal",decimals:"2"},capacidadeUnidade:{class:"col-12 col-md-3",maxlength:"20",rotulo:"Un. Capacidade",tipo:"texto"},codigoOrigem:{rotuloFixo:"Origem",tipo:"seletor",tipo2:"numerico"},comprimento:{rotulo:"Comprimento",tipo:"decimal",decimals:"2"},densidade:{rotulo:"Densidade",tipo:"decimal",decimals:"2"},embalagem:{class:"col-12 col-md-3",maxlength:"255",rotulo:"Embalagem",tipo:"texto"},garantiaDescricao:{maxlength:"255",rotulo:"Garantia descrição",tipo:"texto"},garantiaDias:{class:"col-12 col-md-4",min:"0",max:"9999",rotulo:"Garantia (dias)",tipo:"quantidade"},grupo:{rotuloFixo:"Grupo",tipo:"seletor"},idPerfilContabil:{class:"col-12 col-md-4",rotulo:"Perfil contábil",tipo:"seletor"},largura:{rotulo:"Largura",tipo:"decimal",decimals:"2"},observacao:{maxlength:"10000",rotulo:"Observação",rows:"4",tipo:"textoArea"},peso:{rotulo:"Peso",tipo:"decimal",decimals:"2"},subGrupo:{rotuloFixo:"Subgrupo",tipo:"seletor"},unidade:{rotuloFixo:"Unidade",tipo:"seletor"},unidade__:{valorInicial:"UN"},validadeMeses:{class:"col-12 col-md-3",min:"0",max:"9999",rotulo:"Validade (meses)",tipo:"decimal",decimals:"2"},consumoMedio:{min:"0",rotulo:"Consumo médio",tipo:"decimal",decimals:"2"},local:{maxlength:"20",rotulo:"Local",tipo:"texto"},quantidadeMinimaCompra:{min:"0",rotulo:"Qtde compra reposição",tipo:"decimal",decimals:"2"},quantidadeMinimaEstoque:{min:"0",rotulo:"Estoque mínimo",tipo:"decimal",decimals:"2"},tempoMedioReposicao:{min:"0",rotulo:"Tempo médio reposição (dias)",tipo:"quantidade"},codigoBarras:{erroRotulo:"Deve ter 12 ou 13 dígitos",maxlength:"13",rotulo:"Código de barras (GTIN ou EAN)",tipo:"texto"},descricao:{erroRotulo:"O nome deve ter pelo menos 2 caracteres",maxlength:"500",rotulo:"Nome do produto",tipo:"texto"},marca:{rotuloFixo:"Marca",tipo:"seletor"},fabricante:{rotuloFixo:"Fabricante",tipo:"seletor"},ncm:{maxlength:"8",rotulo:"NCM",tipo:"texto"},catalogo:{maxlength:"8",rotulo:"Catálogo Fabricante",tipo:"texto"},percentualMarkup:{rotulo:"Lucro %",tipo:"decimal",decimals:"2"},referencia:{erroRotulo:"Referência deve ser única",maxlength:"30",rotulo:"Referência",tipo:"texto"},tipo:{rotuloFixo:"Tipo",tipo:"seletor"},utilizaComposicaoValorReposicao:{tipo:"logico"},utilizaMarkup:{tipo:"logico"},valorCustoReposicao:{rotulo:"Custo de reposição",tipo:"decimal",decimals:"2"},valorVenda:{rotulo:"Valor de venda",tipo:"decimal",decimals:"2"},adicaoFinal:{rotulo:"até",tipo:"decimal",decimals:"2"},adicaoInicial:{rotulo:"Adição",tipo:"decimal",decimals:"2"},alturaMinima:{rotulo:"Altura mínima",tipo:"decimal",decimals:"0"},cilindrico:{rotulo:"Cilíndrico",tipo:"decimal",decimals:"2"},cor:{rotuloFixo:"Cor",tipo:"seletor"},diametro:{rotulo:"Diâmetro",tipo:"decimal",decimals:"0"},eixo:{rotulo:"Eixo",tipo:"decimal",decimals:"2"},eixoFinal:{rotulo:"até",tipo:"decimal",decimals:"2"},esfericoFinal:{rotulo:"até",tipo:"decimal",decimals:"2"},esfericoInicial:{rotulo:"Esférico",tipo:"decimal",decimals:"2"},geometria:{rotulo:"Geometria",tipo:"seletor"},indiceRefracao:{rotulo:"Índice refração",tipo:"decimal",decimals:"2"},lenteTipo:{rotulo:"Tipo de lente",tipo:"seletor"},material:{rotuloFixo:"Material",tipo:"seletor"},RB1:{rotulo:"RB1",tipo:"decimal",decimals:"2"},RB2:{rotulo:"RB2",tipo:"decimal",decimals:"2"},surfacada:{rotulo:"Pronta ou surfaçada",tipo:"seletor"},ativo:{tipo:"logico"},consumoMedioReal:{tipo:"quantidade"},percentualMarkupReal:{tipo:"decimal",decimals:"2"},quantidadeDisponivel:{tipo:"quantidade"},tempoMedioReposicaoReal:{tipo:"quantidade"},utilizaComposicaoPedido:{tipo:"logico"},valorCusto:{tipo:"decimal",decimals:"2"},valorCustoMedio:{tipo:"decimal",decimals:"2"},valorCustoUltimo:{tipo:"decimal",decimals:"2"},procedimento:{maxlength:"10000",rotuloFixo:"Procedimento",rows:"3",tipo:"textoArea"},numeroPop:{maxlength:"50",rotulo:"Número Pop",tipo:"texto"}}},23242:(e,o,t)=>{"use strict";t.d(o,{Z:()=>i});let a=[{rotulo:"Produto",valor:"Produto"},{rotulo:"Serviço",valor:"Serviço"}];"optisoul"===(0,t(58294).sistemaPai)()&&(a=[{rotulo:"Óculos de Sol",valor:"Óculos Sol"},{rotulo:"Óculos Vista (Pronto)",valor:"Óculos Pronto"},{rotulo:"Armação",valor:"Armação"},{rotulo:"Lente Oftálmica",valor:"Lente"},{rotulo:"Lente de Contato",valor:"Lente Contato"},{rotulo:"Tratamento",valor:"Tratamento"},{rotulo:"Outro Produto",valor:"Produto"},{rotulo:"Serviço",valor:"Serviço"}]);const i=a},90998:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>r});var a=t(17792);const i={},r=(0,a.xr)((({app:e})=>{e.config.globalProperties.$g=i,t.g.$g=i}))},60007:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>s,axios:()=>r.a,api:()=>l});var a=t(17792),i=t(30052),r=t.n(i);const l=r().create({baseURL:"https://api.example.com"}),s=(0,a.xr)((({app:e})=>{e.config.globalProperties.$axios=r(),e.config.globalProperties.$api=l}))},65915:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>ee});var a=t(72407),i=t(26891),r=t(34182);const l={class:"textcaption text-weight-light q-px-none"},s={data:()=>({texto:""}),computed:{atributos(){const e=this.$attrs;return e.readonly=this.somenteLeitura,e}},emits:["update:modelValue"],methods:{remove(e){const o=this.modelValue.findIndex((o=>o.id===e.id));this.modelValue.splice(o,1),this.$emit("update:modelValue",this.modelValue),this.$refs.texto.focus()},add(e){if(""!==this.texto&&("Enter"===e.key||"focusout"===e.type)){const e=$utils.uuid();this.modelValue.push({id:e,label:this.texto}),this.$emit("update:modelValue",this.modelValue),this.texto=""}}},props:{before:{type:Object},col:{type:[Number,String]},dica:{type:String},rotulo:{type:String},placeholder:{type:String,default:""},somenteLeitura:{default:!1,type:Boolean},modelValue:{type:Array}}};var n=t(74260),c=t(86952),d=t(68900),m=t(67280),u=t(15031),p=t(7518),h=t.n(p);const C=(0,n.Z)(s,[["render",function(e,o,t,a,i,s){const n=(0,r.resolveComponent)("q-icon"),c=(0,r.resolveComponent)("q-chip"),d=(0,r.resolveComponent)("q-input");return(0,r.openBlock)(),(0,r.createElementBlock)("div",l,[(0,r.createTextVNode)((0,r.toDisplayString)(t.rotulo)+" ",1),(0,r.createVNode)(d,{ref:"texto",modelValue:i.texto,"onUpdate:modelValue":o[0]||(o[0]=e=>i.texto=e),onBlur:s.add,onKeydown:s.add,dense:"",hint:t.dica,placeholder:t.placeholder,class:"q-px-none"},(0,r.createSlots)({prepend:(0,r.withCtx)((()=>[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(t.modelValue,(e=>((0,r.openBlock)(),(0,r.createBlock)(c,{key:e.id,removable:"",onRemove:o=>s.remove(e),color:"primary","text-color":"white"},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(e.label),1)])),_:2},1032,["onRemove"])))),128))])),_:2},[t.before?{name:"before",fn:(0,r.withCtx)((()=>[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(t.before,((e,o)=>((0,r.openBlock)(),(0,r.createBlock)(n,{name:e.icon,onClick:e.handler,class:"cursor-pointer",key:o},null,8,["name","onClick"])))),128))]))}:void 0]),1032,["modelValue","onBlur","onKeydown","hint","placeholder"])])}],["__scopeId","data-v-f92d86c8"]]);h()(s,"components",{QInput:c.Z,QIcon:d.Z,QChip:m.Z,QField:u.Z});var v=t(91240),f=t(19017);const N={data:()=>({id:"",valorExibirInterno:""}),emits:["update:modelValue","selecionar"],methods:{async abrirPrompt(){try{if(this.somenteLeitura)return;const e=await $g.promptContato.show({filtro:this.filtro,placeholder:this.rotulo||"Selecione o contato"});this.selecionar(e)}catch(e){this.$q.notifyError("Erro ao abrir contatos",e)}},async atualizar(){try{if(this.valorExibir)this.valorExibirInterno=this.valorExibir,this.id=this.modelValue||"";else{const e=await $db.contato.le({id:this.modelValue});this.valorExibirInterno=e.apelido||"",this.id=e.id||""}}catch(e){this.$q.notifyError("Erro ao consultar",e)}},selecionar(e){try{if(!e||!e.id)return;this.valorExibir||(this.valorExibirInterno=e.apelido||""),this.id=e.id||"",this.$emit("update:modelValue",e.id),this.$emit("selecionar",e)}catch(e){this.$q.notifyError("Erro ao selecionar",e)}}},props:{modelValue:{default:"",type:String},after:{type:Object},filtro:{default:()=>({ativo:!0}),type:Object},rotulo:{default:"",type:String},somenteLeitura:{type:Boolean},valorExibir:{default:"",type:String}},watch:{modelValue(e){e!==this.id&&this.atualizar()},valorExibir(e){this.valorExibirInterno=e||""}},created(){this.atualizar()}},V=(0,n.Z)(N,[["render",function(e,o,t,a,i,l){const s=(0,r.resolveComponent)("campo");return(0,r.openBlock)(),(0,r.createBlock)(s,(0,r.mergeProps)({modelValue:i.valorExibirInterno,after:t.after,before:t.somenteLeitura?void 0:[{icon:"search",handler:l.abrirPrompt}],rotulo:t.rotulo,onClick:l.abrirPrompt,"somente-leitura":""},e.$attrs),null,16,["modelValue","after","before","rotulo","onClick"])}]]);var g=t(87907),x=t(82254),b=t(9067),w=t.n(b);const _={data:()=>({})};var y=t(76210);const I=(0,n.Z)(_,[["render",function(e,o,t,a,i,l){const s=(0,r.resolveComponent)("q-btn");return(0,r.openBlock)(),(0,r.createBlock)(s,(0,r.mergeProps)({color:"positive",icon:"add",outline:"",size:"sm"},e.$attrs),null,16)}]]);h()(_,"components",{QBtn:y.Z});const E={data:()=>({})},S=(0,n.Z)(E,[["render",function(e,o,t,a,i,l){const s=(0,r.resolveComponent)("q-btn");return(0,r.openBlock)(),(0,r.createBlock)(s,(0,r.mergeProps)({color:"negative",size:"xs",icon:"remove",outline:"",round:""},e.$attrs),null,16)}]]);h()(E,"components",{QBtn:y.Z});const M={class:"text-h6"},T={name:"card",data:()=>({}),props:{defaultOpened:{type:Boolean},expansion:{type:Boolean},icon:{type:String},label:{type:String}}};var k=t(83054),D=t(85249);const q=(0,n.Z)(T,[["render",function(e,o,t,a,i,l){const s=(0,r.resolveComponent)("q-expansion-item"),n=(0,r.resolveComponent)("q-icon"),c=(0,r.resolveComponent)("row"),d=(0,r.resolveComponent)("q-card");return(0,r.openBlock)(),(0,r.createBlock)(d,(0,r.mergeProps)({class:"bg-white q-pa-md q-my-md no-shadow"},e.$attrs),{default:(0,r.withCtx)((()=>[t.expansion?((0,r.openBlock)(),(0,r.createBlock)(s,{key:0,dense:"","header-class":"q-px-none",icon:t.icon,label:t.label,defaultOpened:t.defaultOpened},{default:(0,r.withCtx)((()=>[(0,r.renderSlot)(e.$slots,"default")])),_:3},8,["icon","label","defaultOpened"])):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[t.label||t.icon?((0,r.openBlock)(),(0,r.createBlock)(c,{key:0,class:"q-pb-md"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(n,{name:t.icon,size:"32px"},null,8,["name"]),(0,r.createElementVNode)("div",M,(0,r.toDisplayString)(t.label),1)])),_:1})):(0,r.createCommentVNode)("",!0),(0,r.renderSlot)(e.$slots,"default")],64))])),_:3},16)}]]);h()(T,"components",{QCard:k.Z,QExpansionItem:D.Z,QIcon:d.Z});const F={name:"column",computed:{myClass(){return{auto:"col-auto",0:"col-auto",1:"col-6 col-sm-3 col-md-1",2:"col-12 col-sm-6 col-md-2",3:"col-12 col-sm-6 col-md-3",4:"col-12 col-sm-6 col-md-4",5:"col-12 col-md-5",6:"col-12 col-md-6",7:"col-12 col-md-7",8:"col-12 col-md-8",9:"col-12 col-md-9",10:"col-12 col-md-10",11:"col-12 col-md-11",12:"col-12"}[String(this.col)]||"col"}},data:()=>({}),props:{col:{type:[Number,String]}}},P=(0,n.Z)(F,[["render",function(e,o,t,a,i,l){return(0,r.openBlock)(),(0,r.createElementBlock)("div",(0,r.mergeProps)({class:l.myClass},e.$attrs),[(0,r.renderSlot)(e.$slots,"default")],16)}]]),A={name:"dialogForm",data:()=>({dialogVisivel:!1,dialogAttrs:{},layoutStyle:""}),emits:["submit"],props:{title:{type:String},size:{type:String},labelButtonSubmit:{type:String},footer:{type:Boolean},hideOnSubmit:{default:!0,type:Boolean}},methods:{show(){window.innerWidth<600||"max"===this.size?(this.dialogAttrs.maximized=!0,this.layoutStyle=""):"sm"===this.size?(this.dialogAttrs={},this.layoutStyle="height: 30vh; width: 30vw; max-width: 100vw;"):"md"===this.size?(this.dialogAttrs={},this.layoutStyle="height: 50vh; width: 50vw; max-width: 100vw;"):"lg"===this.size?(this.dialogAttrs={},this.layoutStyle="height: 80vh; width: 80vw; max-width: 100vw;"):(this.dialogAttrs.maximized=!0,this.layoutStyle=""),this.dialogVisivel=!0},hide(){this.dialogVisivel=!1},onSubmit(...e){this.hideOnSubmit&&(this.dialogVisivel=!1),this.$emit("submit",...e)},onValidationError(e){$utils.gconsole.log("Dialog","onValidationError",{campo:e.label,valor:e.modelValue,mensagem:e.rules.map((o=>o(e.modelValue))).join(" | ")}),this.$q.notifyError("Erro no preenchimento dos campos")}}};var B=t(39341),L=t(63626),O=t(46229),z=t(54553),j=t(47266),$=t(48761),U=t(7112),Z=t(24515),Q=t(83671),R=t(98586);const G=(0,n.Z)(A,[["render",function(e,o,t,a,i,l){const s=(0,r.resolveComponent)("q-btn"),n=(0,r.resolveComponent)("q-toolbar-title"),c=(0,r.resolveComponent)("q-toolbar"),d=(0,r.resolveComponent)("q-header"),m=(0,r.resolveComponent)("q-page"),u=(0,r.resolveComponent)("q-page-container"),p=(0,r.resolveComponent)("row"),h=(0,r.resolveComponent)("q-footer"),C=(0,r.resolveComponent)("q-form"),v=(0,r.resolveComponent)("q-layout"),f=(0,r.resolveComponent)("q-dialog"),N=(0,r.resolveDirective)("close-popup");return(0,r.openBlock)(),(0,r.createBlock)(f,(0,r.mergeProps)({modelValue:i.dialogVisivel,"onUpdate:modelValue":o[0]||(o[0]=e=>i.dialogVisivel=e)},i.dialogAttrs),{default:(0,r.withCtx)((()=>[(0,r.createVNode)(v,{container:"",class:"bg-grey-4",style:(0,r.normalizeStyle)(i.layoutStyle)},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(C,{onSubmit:l.onSubmit,onValidationError:l.onValidationError,greedy:""},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(d,null,{default:(0,r.withCtx)((()=>[(0,r.createVNode)(c,null,{default:(0,r.withCtx)((()=>[(0,r.withDirectives)((0,r.createVNode)(s,{dense:"",flat:"",round:"",icon:"arrow_back"},null,512),[[N]]),(0,r.createVNode)(n,null,{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(t.title),1)])),_:1}),t.labelButtonSubmit?((0,r.openBlock)(),(0,r.createBlock)(s,{key:0,color:"white","text-color":"primary",label:t.labelButtonSubmit,type:"submit"},null,8,["label"])):(0,r.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,r.createVNode)(u,{class:"u-container"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(m,null,{default:(0,r.withCtx)((()=>[(0,r.renderSlot)(e.$slots,"default")])),_:3})])),_:3}),t.footer?((0,r.openBlock)(),(0,r.createBlock)(h,{key:0},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(c,{class:"bg-light"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(n,{class:"text-right"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(p,{class:"justify-end"},{default:(0,r.withCtx)((()=>[(0,r.renderSlot)(e.$slots,"buttonsFooter")])),_:3})])),_:3})])),_:3})])),_:3})):(0,r.createCommentVNode)("",!0)])),_:3},8,["onSubmit","onValidationError"])])),_:3},8,["style"])])),_:3},16,["modelValue"])}]]);h()(A,"components",{QBtn:y.Z,QDialog:B.Z,QLayout:L.Z,QForm:O.Z,QHeader:z.Z,QToolbar:j.Z,QToolbarTitle:$.Z,QPageContainer:U.Z,QPage:Z.Z,QFooter:Q.Z}),h()(A,"directives",{ClosePopup:R.Z});const H={class:"text-caption text-weight-bold q-mr-sm"},J={class:"text-caption q-mr-md"},Y={name:"nomeValor",data:()=>({}),props:{nome:{type:String},valor:{type:[Number,String]}}},X=(0,n.Z)(Y,[["render",function(e,o,t,a,i,l){return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createElementVNode)("span",H,(0,r.toDisplayString)(t.nome),1),(0,r.createElementVNode)("span",J,(0,r.toDisplayString)(t.valor),1)],64)}]]),W={name:"row",computed:{myClass(){return["row",{none:"q-col-gutter-x-none",xs:"q-col-gutter-x-xs",sm:"q-col-gutter-x-sm",md:"q-col-gutter-x-md",lg:"q-col-gutter-x-lg",xl:"q-col-gutter-x-xl"}[String(this.gutter)]||"q-col-gutter-x-sm"]}},data:()=>({}),props:{gutter:{type:String}}},K=(0,n.Z)(W,[["render",function(e,o,t,a,i,l){return(0,r.openBlock)(),(0,r.createElementBlock)("div",(0,r.mergeProps)({class:l.myClass},e.$attrs),[(0,r.renderSlot)(e.$slots,"default")],16)}]]),ee=({app:e})=>{e.component("Badge",a.Z),e.component("Campo",i.Z),e.component("Gchips",C),e.component("SeletorCest",v.Z),e.component("SeletorCfop",f.Z),e.component("SeletorContato",V),e.component("SeletorItem",g.Z),e.component("SeletorNcm",x.Z),e.component("btnAdicionar",I),e.component("btnRemover",S),e.component("card",q),e.component("column",P),e.component("dialogForm",G),e.component("nomeValor",X),e.component("row",K),e.use(w())}},55141:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>l});var a=t(11463),i=t(17792),r=t(48409);const l=(0,i.xr)((async({app:e})=>{await a.db.usuario.inicializaLogado(),e.config.globalProperties.$db=a.db,t.g.$db=a.db,t.g.$erp=r.X,t.g.$plataforma=r.s}))},70611:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>n});var a=t(58294),i=t(17792);function r(e){return"object"==typeof e?e:(e="string"==typeof e&&10===e.length?new Date(e+"T00:00:00"):new Date(e),isNaN(e)?"":e)}const l=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],s=["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],n=(0,i.xr)((({app:e})=>{const o={ano:e=>e?r(e).getFullYear().toString():"",cpfCnpj:e=>e?14===e.length?e.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/g,"$1.$2.$3/$4-$5"):11===e.length?e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/g,"$1.$2.$3-$4"):void 0:"",converterData:r,data:(e,o)=>e&&(e=r(e))&&e.toLocaleDateString?e.toLocaleDateString("pt-BR"):o||"",dataExtenso:(e,o)=>e&&(e=r(e))?`${(0,a.extenso)(e.getDate())} de ${s[e.getMonth()]} de ${(0,a.extenso)(e.getFullYear())}`:o||"",dataHora:(e,o)=>e&&(e=r(e))&&e.toLocaleString?e.toLocaleString("pt-BR"):o||"",dia:e=>e?r(e).getDate().toString().padStart(2,"0"):"",diaMes:e=>e?r(e).getDate().toString().padStart(2,"0")+"/"+(r(e).getMonth()+1).toString().padStart(2,"0"):"",dinheiro:e=>(e="number"==typeof e?e:Number(e)).toLocaleString("pt-BR",{currency:"BRL",style:"currency"}),hora:(e,o)=>e&&(e=r(e))&&e.toLocaleTimeString?e.toLocaleTimeString("pt-BR"):o||"",numero:(e=0,o=0,t)=>void 0===t||e?(Number(e)||0).toFixed(o||0).replace(".",",").replace(/\d(?=(\d{3})+,)/g,"$&."):t,numeroOuBranco:(e,o=0)=>e||0===e?(Number(e)||0).toFixed(o||0).replace(".",",").replace(/\d(?=(\d{3})+,)/g,"$&."):"",numeroZerosDireita(e=0,o=2,t=2,a){if(void 0!==a&&!e)return a;if(t=Number(t),Number.isNaN(t)||!Number.isInteger(t))throw new Error("Campo: atributo zerosDireita contém valor inválido");let i=(Number(e)||0).toFixed(o||0);if(i=Number(i).toString(),t>0){const e=i.split(".");1===e.length&&(i+=".",i+="0".repeat(t)),2===e.length&&t>e[1].length&&(i+="0".repeat(t-e[1].length))}return i.replace(".",",").replace(/\d(?=(\d{3})+,)/g,"$&.")},numeroExtenso:(e=0,o)=>void 0===o||e?(0,a.extenso)(e||0,!0):o,numeroSinal:(e,o=0,t)=>void 0===t||Number(e)?[null,"",void 0].includes(e)?"":(Number(e)>0?"+":"")+(Number(e)||0).toFixed(o||0).replace(".",",").replace(/\d(?=(\d{3})+,)/g,"$&."):t,numeroSinalPonto:(e=0,o=2)=>(Number(e)>0?"+":"")+(Number(e)||0).toFixed(o||0),numeroNotaFiscal:e=>("000000000"+e).slice(-9).replace(/\d(?=(\d{3})+$)/g,"$&."),mes:e=>e?(r(e).getMonth()+1).toString().padStart(2,"0"):"",mesNome:e=>e?l[r(e).getMonth()]:""};e.config.globalProperties.$filters=o,t.g.$filters=o}))},45894:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>i});var a=t(58294);const i=(0,t(17792).xr)((({app:e,router:o})=>{const i=function(e,t){t=t?"object"==typeof t?a.base64.encodeToUrl(JSON.stringify(t)):a.base64.encodeToUrl(t):"",o.push({name:"Imprimir",params:{nome:e,parametro:t}})};e.config.globalProperties.$imprimir=i,t.g.$imprimir=i}))},21284:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>r});var a=t(88603),i=t.n(a);const r=(0,t(17792).xr)((({app:e})=>{e.config.globalProperties.$lodash=i(),e.config.globalProperties.$get=i().get,t.g.$lodash=i(),t.g.$get=i().get}))},38896:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>i});var a=t(11463);const i=({app:e})=>{e.mixin({methods:{async logInfo(...e){let o=a.db.cache.get("logLevel");if(o||(o="5",a.db.cache.set("logLevel",o)),o>"2")return;const t=new Date;console.log(t.toLocaleTimeString("pt-br",{hour12:!1})+"."+String(t.getMilliseconds()).padStart(3,"0"),(this.$options||{}).name||(this.$vnode||{}).tag||"info",...e)},async tryCatch(e,o){try{await e(o)}catch(e){const t=o&&"object"==typeof o&&o.erro?o.erro:"Ops! Ocorreu um erro";this.$q.notifyError(t,e)}},async tryLoading(e,o){try{this.$q.loading.show(),await e(o)}catch(e){const t=o&&"object"==typeof o&&o.erro?o.erro:"Ops! Ocorreu um erro";this.$q.notifyError(t,e)}finally{this.$q.loading.hide()}}}})}},52781:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>a});const a=(0,t(17792).xr)((({app:e})=>{const o=e.config.globalProperties.$q;o.notifyAlert=function(e){return o.notify({message:e,type:"warning"})},o.notifyError=function(e,t={}){const a=t&&t.name&&["Alerta","ErroValidacao"].includes(t.name);return a&&(e=t.message),a||!t.stack?console.error("Mensagem ao usuário:",e):console.error("Mensagem ao usuário:",e,"\n",t.stack),o.notify({message:e,type:"Alerta"===t.name?"warning":"negative"}),e},o.notifyPositive=function(e){return o.notify({message:e,type:"positive"})},t.g.$q=o}))},73023:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>i});var a=t(58294);const i=(0,t(17792).xr)((({app:e})=>{e.config.globalProperties.$utils=a,t.g.$utils=a}))},48409:(e,o,t)=>{"use strict";t.d(o,{X:()=>r,s:()=>s});var a=t(49642);const i={};function r(e,o){if("delete"===o){if(i[e]){const o=i[e];return delete i[e],o.delete()}return a.Z.delete(e)}if(e&&"string"==typeof e||(e=localStorage.getItem("bancoDeDados")),!e)throw new Error("Não foi possível encontrar um banco de dados.");if(i[e])return i[e];const t=new a.Z(e);return t.version(1).stores({NFe:"&id",NFeHist:"&id",_cidade:"&id",_ncm:"&id, ncm",caixa:"&id",cest:"&id",cfop:"&id",clienteSistema:"&id",configuracoes:"&id",contato:"&id",contatoAnotacao:"&id, idContato",contatoConsulta:"&id, idContato",contatoEndereco:"&id, idContato",contatoFilho:"&id, idContato, idContatoRelacionado",contatoGrupo:"&id, idContato",contatoRedeSocial:"&id, idContato",contatoTelefone:"&id, idContato",documento:"&id, idContato, idFatura, idDocumentoAdicional, tipo",documentoCondicaoPagamento:"&id, idDocumento",documentoContato:"&id, idDocumento",documentoItem:"&id, idDocumento, idDocumentoAdicional",documentoSat:"&id, idDocumento",empresa:"&id",estoqueSaldoProdutoEmpresa:"&id, idItem",financeiroCentroCusto:"&id",financeiroPlanoConta:"&id",financeiroTitulo:"&id, idContato",formaPagamento:"&id",impostoConfiguracao:"&id, idNcm",impostoParametro:"&id, cod, idImpParamTipo",impostoParametroTipo:"&id, cod",item:"&id",itemComposicao:"&id, idItem",itemFornecedor:"&id, idItem",itemProducaoFase:"&id, idItem",itemQualidade:"&id, idItem",itemTabelaPreco:"&id",nfeIbpt:"&id, codigo",sincronismoFila:"&id",usuario:"&id"}),t.version(2).stores({NFe:"&id",NFeHist:"&id",_cidade:"&id",_ncm:"&id, ncm",caixa:"&id",cest:"&id",cfop:"&id",clienteSistema:"&id",configuracoes:"&id",contato:"&id",contatoAnotacao:"&id, idContato",contatoConsulta:"&id, idContato",contatoEndereco:"&id, idContato",contatoFilho:"&id, idContato, idContatoRelacionado",contatoGrupo:"&id, idContato",contatoRedeSocial:"&id, idContato",contatoTelefone:"&id, idContato",documento:"&id, idContato, idFatura, idDocumentoAdicional, tipo",documentoCondicaoPagamento:"&id, idDocumento",documentoContato:"&id, idDocumento",documentoItem:"&id, idDocumento, idDocumentoAdicional",documentoOperacao:"&id",documentoSat:"&id, idDocumento",empresa:"&id",estoqueSaldoProdutoEmpresa:"&id, idItem",financeiroCentroCusto:"&id",financeiroPlanoConta:"&id",financeiroTitulo:"&id, idContato",formaPagamento:"&id",impostoConfiguracao:"&id, idNcm",impostoParametro:"&id, cod, idImpParamTipo",impostoParametroTipo:"&id, cod",item:"&id",itemComposicao:"&id, idItem",itemFornecedor:"&id, idItem",itemProducaoFase:"&id, idItem",itemQualidade:"&id, idItem",itemTabelaPreco:"&id",nfeIbpt:"&id, codigo",sincronismoFila:"&id",usuario:"&id"}),t.version(3).stores({documentoStatus:"&id, idDocumento, idDocumentoCaixa, idDocumentoItem, idContatoResponsavel, idUsuarioAlterou"}),t.version(4).stores({documentoEndereco:"&id, idDocumento, idContato"}),t.version(5).stores({financeiroMovimentacao:"&id"}),t.version(6).stores({configuracoes:"&id, nome"}),t.version(7).stores({financeiroMovimentacaoN:"&id"}),t.version(8).stores({perfilContabilItem:"&id"}),t.version(9).stores({arquivo:"&id"}),t.version(10).stores({perfilContabil:"&id"}),t.version(11).stores({contatoCreditoExtrato:"&id"}),t.version(12).stores({financeiroRenegociacao:"&id, idFinanceiroTitulo, idFinanceiroMovimentacaoN"}),t.version(13).stores({financeiroTitulo:"&id, idContato, documentoId"}),t.version(14).stores({financeiroMovimentacao:"&id, idDocumentoCaixa"}),t.version(15).stores({_banco:"&id",financeiroBoleto:"&id, idEmpresa, idContato, idFinanceiroBanco, idFinanceiroRemessaLote, idNaoPagoMovimentacaoN",financeiroBanco:"&id, idEmpresa, idBanco, idFinanceiroPlanoConta"}),t.version(15).stores({financeiroBoletoTitulo:"&id, idFinanceiroBoleto, idFinanceiroTitulo"}),t.version(16).stores({impostoParametro:"&id, cod, idImpParamTipo, impParamTipoCod"}),t.version(17).stores({caixaConsolidacao:"&id, idDocumento, idDocumentoCaixa, idDocumentoStatus, idFormaPagamento, idTitulo"}),t.version(18).stores({documentoSat:"&id, idDocumento"}),t.version(19).stores({financeiroTitulo:"&id, idContato, documentoId, idDocumentoCaixa, idDocumentoCaixaLiquidacao",caixaConsolidacao2:"&id, idDocumentoCaixa, idDocumentoStatus, tabela, idTabela"}),t.version(20).stores({contatoCreditoExtrato:"&id, idContato",financeiroTitulo:"&id, idContato, documentoId, idDocumentoCaixa, idDocumentoCaixaLiquidacao, idFatura, idFinanceiroBoleto"}),t.version(21).stores({documentoContato:"&id, idDocumento, idContato"}),t.version(22).stores({documentoCondicaoPagamento:"&id, idDocumento, idDocumentoCaixa, idFinanceiroTitulo"}),t.version(23).stores({contato:"&id, idUsuario"}),t.version(24).stores({contato:"&id, idUsuario, codigoUsuario"}),t.version(25).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, tipo"}),t.version(26).stores({empresa:"&id, idContato"}),t.version(27).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo"}),t.version(28).stores({financeiroMovimentacao:"&id, idDocumentoCaixa, idFinanceiroPlanoConta"}),t.version(29).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, tipo, [tipo+idContato]"}),t.version(30).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, [tipo+idContato]"}),t.version(31).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, [tipo+idContato], [tipo+documentoId]"}),t.version(32).stores({documentoItem:"&id, idDocumento, idDocumentoAdicional, tipoItem"}),t.version(33).stores({item:"&id, armacaoMaterial"}),t.version(34).stores({item:"&id, tipo"}),t.version(35).stores({arquivo:"&id, idTabelaMaster, tabelaMaster, [idTabelaMaster+tabelaMaster]"}),t.version(36).stores({financeiroMovimentacao:"&id, idDocumentoCaixa, idFinanceiroPlanoConta, [idDocumentoCaixa+idFinanceiroPlanoConta]"}),t.version(37).stores({financeiroMovimentacao:"&id, idDocumentoCaixa, idFinanceiroPlanoConta, [idDocumentoCaixa+idFinanceiroPlanoConta], [documentoId+documentoTipo]"}),t.version(38).stores({financeiroMovimentacao:"&id, idDocumentoCaixa, idFinanceiroPlanoConta, idFinanceiroMovimentacaoN, documentoId, documentoTipo, [idDocumentoCaixa+idFinanceiroPlanoConta], [documentoId+documentoTipo]"}),t.version(39).stores({cfop:"&id, codigoCfop"}),t.version(40).stores({perfilContabilItem:"&id, idPerfilContabil, idCfop"}),t.version(41).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo]"}),t.version(42).stores({perfilContabilItem:"&id, idPerfilContabil, idCfop, [idPerfilContabil+idCfop]"}),t.version(43).stores({estoqueSaldoProdutoEmpresa:"&id, idItem, idEmpresa, tipoEstoque, [idItem+idEmpresa+tipoEstoque]"}),t.version(44).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo]"}),t.version(45).stores({caixa:"&id, idEmpresa"}),t.version(46).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo]"}),t.version(47).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status]"}),t.version(48).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status], [idContato+tipo+status]"}),t.version(49).stores({contato:"&id, idUsuario, codigoUsuario, codigoContato"}),t.version(50).stores({sincronismoFila:"++_ordem, &id"}),t.version(51).stores({documentoItem:"&id, idDocumento, idDocumentoAdicional, idItem, tipoItem"}),t.version(52).stores({documentoItem:"&id, idDocumento, idDocumentoAdicional, idItem, tipoItem, [idDocumento+idItem]"}),t.version(53).stores({financeiroTitulo:"&id, idContato, documentoId, idDocumentoCaixa, idDocumentoCaixaLiquidacao, idFatura, idFinanceiroBoleto, [idFatura+idDocumentoCaixa], [documentoId+idDocumentoCaixa]"}),t.version(54).stores({financeiroMovimentacao:"&id, idDocumentoCaixa, idFinanceiroPlanoConta, idFinanceiroMovimentacaoN, documentoId, documentoTipo, [idDocumentoCaixa+idFinanceiroPlanoConta], [documentoId+documentoTipo], [idDocumentoCaixa+documentoId]"}),t.version(55).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status], [idContato+tipo+status], [tipo+idFatura]"}),t.version(56).stores({dispositivoCliente:"&id"}),t.version(57).stores({item:"&id, tipo, ativo"}),t.version(58).stores({documentoItem:"&id, idDocumento, idDocumentoAdicional, idItem, tipoItem, [idDocumento+idItem], [idDocumento+tipoItem]"}),t.version(59).stores({financeiroMovimentacao:"&id, idDocumentoCaixa, idFinanceiroPlanoConta, idFinanceiroMovimentacaoN, documentoId, documentoTipo, [idDocumentoCaixa+idFinanceiroPlanoConta], [documentoId+documentoTipo], [idDocumentoCaixa+documentoId], [idDocumentoCaixa+documentoTipo]"}),t.version(60).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status], [idContato+tipo+status], [tipo+idFatura], [tipo+documentoId+documentoTipo]"}),t.version(61).stores({_cidade:"&id, ativo"}),t.version(62).stores({itemTabelaPreco:"&id, idEmpresa"}),t.version(63).stores({financeiroPlanoConta:"&id, codigoFinanceiroPlanoConta"}),t.version(64).stores({documentoFiscalEletronico:"&id, idDocumento, tpAmb, cpFCnpjEmitente, mod, serie, nNF, [tpAmb+cpFCnpjEmitente+mod+serie+nNF]",documentoFiscalEletronicoXml:"&id, idDocumento, idDocumentoFiscalEletronico",documentoFiscalEletronicoErro:"&id, idDocumento, idDocumentoFiscalEletronico"}),t.version(65).stores({documentoFiscalEletronico:"&id, idDocumento, tpAmb, cpFCnpjEmitente, mod, serie, nNF, [tpAmb+cpFCnpjEmitente+mod+serie]"}),t.version(66).stores({documentoFiscalEletronico:"&id, idDocumento, tpAmb, cpFCnpjEmitente, mod, serie, nNF, [tpAmb+cpFCnpjEmitente+mod+serie], [idDocumento+situacao]",documentoFiscalEletronicoXml:"&id, idDocumento, idDocumentoFiscalEletronico, [idDocumentoFiscalEletronico+status+situacao]"}),t.version(69).stores({documentoFiscalEletronico:"&id, idDocumento, [idDocumento+situacao]"}),t.version(70).stores({documentoFiscalEletronico:"&id, idDocumento, [idDocumento+situacao], [tpAmb+cpfCnpjEmitente+mod+serie]"}),t.version(71).stores({documentoFiscalEletronicoXml:"&id, idDocumento, idDocumentoFiscalEletronico, [idDocumentoFiscalEletronico+status+situacao], [idDocumentoFiscalEletronico+operacao]"}),t.version(72).stores({_cidade:"&id, cidadeCodIbge"}),t.version(73).stores({documentoOperacao:"&id, codigoDocumentoOperacao"}),t.version(74).stores({cfop:"&id, codigoCfop, cfop"}),t.version(75).stores({documentoOperacao:"&id, codigoDocumentoOperacao, idCfop"}),t.version(76).stores({item:"&id, tipo, ativo, ncm"}),t.version(77).stores({nfeIbpt:"&id, codigo, [codigo+idContato]"}),t.version(78).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status], [idContato+tipo+status], [tipo+idFatura], [tipo+documentoId+documentoTipo], [tipo+idContatoVendedor], [tipo+idContatoDigitador]"}),t.version(79).stores({contato:"&id, idUsuario, codigoUsuario, codigoContato, segmento"}),t.version(80).stores({contato:"&id, idUsuario, codigoUsuario, codigoContato, segmento, numeroDocumentoNacional"}),t.version(81).stores({documentoFiscalEletronico:"&id, idDocumento, tipo, [idDocumento+situacao], [tpAmb+cpfCnpjEmitente+mod+serie]"}),t.version(82).stores({aliquotaSimples:"&id, idEmpresa"}),t.version(83).stores({contatoGrupo:"&id, idContato, descricao"}),t.version(84).stores({configuracaoImposto:"&id"}),t.version(85).stores({financeiroBoleto:"&id, idFinanceiroBanco, nossoNumero"}),t.version(86).stores({json:"&id, descricao, referencia, [descricao+referencia]"}),t.version(87).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+idEmpresa+dataHoraEmissao], [tipo+idEmpresa+dataHoraFinalizado], [tipo+idContato+dataHoraEmissao], [tipo+idContato+dataHoraFinalizado], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status], [idContato+tipo+status], [tipo+idFatura], [tipo+documentoId+documentoTipo], [tipo+idContatoVendedor], [tipo+idContatoDigitador]"}),t.version(88).stores({documentoFiscalEletronicoErro:"&id, idDocumento, idDocumentoFiscalEletronico, [tpAmb+cpfCnpjEmitente+mod+serie+nNF+situacao]"}),t.version(89).stores({equipamento:"&id, idItem, idContato"}),t.version(90).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+idEmpresa+dataHoraEmissao], [tipo+idEmpresa+dataHoraFinalizado], [tipo+idContato+dataHoraEmissao], [tipo+idContato+dataHoraFinalizado], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status], [idContato+tipo+status], [tipo+idFatura], [tipo+documentoId+documentoTipo], [tipo+idContatoVendedor], [tipo+idContatoDigitador], idEquipamento"}),t.version(91).stores({itemTabelaPreco:"&id, idEmpresa, idItem, tipo"}),t.version(92).stores({documentoFiscalEletronicoErro:"&id, idDocumento, idDocumentoFiscalEletronico, chNFe, [tpAmb+cpfCnpjEmitente+mod+serie+nNF+situacao]"}),i[e]=t,t}const l=new a.Z("plataforma");l.version(1).stores({clienteSistema:"&id",empresa:"&id",empresaUsuarioPermissao:"&id",grupo:"&id",grupoPermissao:"&id",objeto:"&id",sistema:"&id",sistemaObjeto:"&id",usuario:"&id, cpf",usuarioPermissao:"&id",usuarioPermissaoSistema:"&id",sincronismo:"&bancoDeDados",sincronismoFila:"&id"}),l.version(2).stores({empresaUsuarioPermissao:"&id, idEmpresa, idUsuario, [idEmpresa+idUsuario]"}),l.version(3).stores({usuario:"&id, codigoUsuario"}),l.version(4).stores({usuario:"&id, cpf, codigoUsuario"}),l.version(5).stores({empresa:"&id, codigoClienteSistema"}),l.version(6).stores({empresaUsuarioPermissao:"&id, idEmpresa, idUsuario, codigoEmpresa, codigoUsuario, [idEmpresa+idUsuario], [codigoEmpresa+codigoUsuario]"}),l.version(7).stores({contato:"&id"}),l.version(8).stores({login:"&id"}),l.version(9).stores({login:"&id, cpf"}),l.version(10).stores({empresa:"&id, codigoClienteSistema, idContato"}),l.version(11).stores({empresa:"&id, codigoClienteSistema, idContato, codigoContato"}),l.version(12).stores({objeto:"&id, nomeObjeto",sistemaObjeto:"&id, idObjeto"}),l.version(13).stores({sistemaObjeto:"&id, idObjeto, [idPai+idSistema]"});const s=l},37714:(e,o,t)=>{"use strict";t.d(o,{_:()=>c});var a=t(48409);const i={nomeTabela:"empresa",filtrosTabela:["codigoClienteSistema","idContato"],async le(e={}){if("id"in e)return e.id&&await a.s[this.nomeTabela].get(e.id)||{};let o={};for(const t of this.filtrosTabela)if(t in e){if([null,void 0].includes(e[t]))return[];o[t]=e[t]}return Object.keys(o).length?a.s[this.nomeTabela].where(o).toArray():a.s[this.nomeTabela].toArray()}};var r=t(11463);const l={permissao:[],le:async e=>{if("id"in(e=e||{}))return e.id&&await a.s.empresaUsuarioPermissao.get(e.id)||{};let o={};"idUsuario"in e&&e.idUsuario&&(o.idUsuario=e.idUsuario),"idEmpresa"in e&&e.idEmpresa&&(o.idEmpresa=e.idEmpresa),"codigoUsuario"in e&&e.codigoUsuario&&(o.codigoUsuario=e.codigoUsuario),"codigoEmpresa"in e&&e.codigoEmpresa&&(o.codigoEmpresa=e.codigoEmpresa);let t=a.s.empresaUsuarioPermissao;return Object.keys(o).length&&(t=t.where(o)),await t.toArray()||[]},async inicializarPermissao(){let e={},o="",t="",a="Não foi possível localizar o código do sistema.";try{if(e=JSON.parse(localStorage.getItem("clienteSistema")),!e.codigoClienteSistema)return[];o=e.codigoClienteSistema,a="Não foi possível localizar o código do usuário.",t=r.db.usuario.logado.codigoUsuario}catch(e){return console.log(a),[]}if(!r.db.usuario.logado.administrador){this.permissao=[];const e=await c.empresa.le({codigoClienteSistema:o}),a=[];e.reduce(((e,o)=>(e[o.codigoEmpresa]||(e[o.codigoEmpresa]=!0,a.push(c.empresaUsuarioPermissao.le({codigoUsuario:t,codigoEmpresa:o.codigoEmpresa}))),e)),{});for await(const o of a)o.length&&(this.permissao=[...this.permissao,...e.filter((e=>o[0].codigoEmpresa===e.codigoEmpresa)).map((e=>e.codigoContato))])}}};var s=t(88603),n=t(58294);const c={empresa:i,empresaUsuarioPermissao:l,objeto:{async grava(e){const{codigoObjeto:o,id:t,...i}=e,r=[];for(const e in i)r.push(`${e}='${i[e]}'`);const l=`\n      insert into objeto (id)\n      select '${t}' id where not exists (select 1 from objeto where id='${t}')\n      update objeto set ${r.join(", ")} where id='${t}'\n    `;await(0,n.executarSql)(l,"GeeksPlat15A"),await a.s.objeto.put(e)},async le({filtros:e}){const o=await a.s.objeto.toArray();return e?(0,s.filter)(o,e):o},leOnline({colunas:e,filtros:o}={}){e=e?e.split(" ").join(", "):"*";let t=[];for(const e in o)t.push(`${e} = '${o[e]}'`);t=t.length?`where ${t.join(" and ")}`:"";const a=`select ${e} from objeto ${t} order by nomeObjeto`;return(0,n.executarSql)(a,"GeeksPlat15A")}},objetoVersao:{async grava(e){const{codigoObjeto:o,id:t,...i}=e,r=[];for(const e in i){let o=i[e];"string"==typeof o&&(o=`'${o}'`),r.push(`${e}=${o}`)}const l=`\n      insert into objetoVersao (id)\n      select '${t}' id where not exists (select 1 from objetoVersao where id='${t}')\n      update objetoVersao set ${r.join(", ")} where id='${t}'\n    `;await(0,n.executarSql)(l,"GeeksPlat15A"),await a.s.objeto.put(e)},async le({filtros:e}){const o=await a.s.objeto.toArray();return e?(0,s.filter)(o,e):o},leOnline({colunas:e,filtros:o}={}){e=e?e.split(" ").join(", "):"*";let t=[];for(const e in o)t.push(`${e} = '${o[e]}'`);t=t.length?`where ${t.join(" and ")}`:"";const a=`select ${e} from objetoVersao ${t} order by dataHora desc`;return(0,n.executarSql)(a,"GeeksPlat15A")}},sincronismo:{nomeTabela:"sincronismo",filtrosTabela:["bancoDeDados"],maximoHoras:20,dezMinutos:6e5,async le(e={}){if("id"in e)return e.id&&await a.s[this.nomeTabela].get(e.id)||{};let o={};for(const t of this.filtrosTabela)if(t in e){if([null,void 0].includes(e[t]))return[];o[t]=e[t]}return Object.keys(o).length?a.s[this.nomeTabela].where(o).toArray():a.s[this.nomeTabela].toArray()},async grava(e){await a.s[this.nomeTabela].update(e.bancoDeDados,e)},verificaBloqueioHoras(e){const o=e.ultimo?new Date(e.ultimo):new Date,t=(new Date-o)/36e5;return"bloqueado"===e.status||t>=this.maximoHoras},async verificaBloqueio(e){if(!e){const o=r.db.cache.get("bancoDeDados");if(this.bancoLiberado===o&&new Date-this.horaLiberado<this.dezMinutos)return"";if(!(e=(await this.le({bancoDeDados:o}))[0]))return""}return e.status&&"sincronismoInicial"!==e.status?this.verificaBloqueioHoras(e)?`Você estava há mais de ${this.maximoHoras} horas sem conexão, aguarde o final do sincronismo`:(this.bancoLiberado=e.bancoDeDados,this.horaLiberado=new Date,""):"Aguarde o final do sincronismo"}}}},11463:(e,o,t)=>{"use strict";t.d(o,{db:()=>mo});var a=t(48409);const i={grava:async()=>{},leNew:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().arquivo.get(e.id)||{};let o={};if("idTabelaMaster"in e){if(!e.idTabelaMaster)return[];o.idTabelaMaster=e.idTabelaMaster}if("tabelaMaster"in e){if(!e.tabelaMaster)return[];o.tabelaMaster=e.tabelaMaster}let t=(0,a.X)().arquivo.where(o);return await t.toArray()||[]},le:async e=>{if((e=e||{}).id)return(0,a.X)().arquivo.get(e.id);let o=await(0,a.X)().arquivo.toArray();return e.tabelaMaster&&(o=o.filter((o=>o.tabelaMaster===e.tabelaMaster))),e.idTabelaMaster&&(o=o.filter((o=>o.idTabelaMaster===e.idTabelaMaster))),o}},r={grava:()=>{},le:async e=>"id"in(e=e||{})?e.id&&await(0,a.X)()._banco.get(e.id)||{}:await(0,a.X)()._banco.toArray()||[]},l={},s={},n={get:e=>(void 0===l[e]&&(l[e]=localStorage.getItem(e)||""),l[e]),getJson(e,o=!1){if(void 0===l[e]){const t=localStorage.getItem(e);if(o)try{s[e]=t?atob(t):"{}"}catch(o){s[e]="{}",console.error("Erro de base64 com formado invalido\n",o.stack)}else s[e]=t||"{}";try{l[e]=JSON.parse(s[e])}catch(o){s[e]="{}",l[e]={},console.error("Erro no JSON.parse\n",o.stack)}}return l[e]},set(e,o){l[e]!==o&&(l[e]=o,localStorage.setItem(e,o))},setJson(e,o,t=!1){const a=JSON.stringify(o);s[e]!==a&&(s[e]=a,l[e]=JSON.parse(a),localStorage.setItem(e,t?btoa(a):a))}};var c=t(88603),d=t(58294);const m={tiposCaixa:{1:"SAT",2:"Cupom",3:"NFCe",4:"NFe"},grava:()=>{},abra:async e=>{const o=await m.le({id:e.idCaixa}),t=(0,d.dataAtual)(),i={id:(0,d.uuid)(),tipo:"Caixa",operacao:"Abertura Caixa",status:"Aberto",idEmpresa:o.idEmpresa,codigoContato:parseInt((0,c.get)(mo,"usuario.logado.codigoContato",0)),dataHoraEmissao:t,valorAbertura:e.valor,idFinanceiroPlanoContaCaixa:o.idPlanoConta,observacao:e.observacao,idCaixa:e.idCaixa};await(0,a.X)().documento.put(i),await(0,d.sincronismoEnviar)("adicionar","documento",i.id,i);const r={id:(0,d.uuid)(),idDocumento:i.id,operacao:"Abertura Caixa",statusFinalizado:"Aberto",dataHoraEmissao:t,idUsuarioAlterou:mo.usuario.logado.id,idDocumentoCaixa:i.id};(0,a.X)().documentoStatus.put(r),await(0,d.sincronismoEnviar)("adicionar","documentoStatus",r.id,r)},fecha:async e=>{e=(0,d.compactarObjeto)(e),await(0,d.processarFilho)("documentoStatus",[],e.documentoStatus||[]),await(0,d.processarFilho)("caixaConsolidacao2",[],e.caixaConsolidacao2||[]);const o=(0,d.diferencaObjetos)(e.documentoCaixaOriginal||{},e.documentoCaixa||{});Object.keys(o).length&&(await(0,a.X)().documento.update(e.documentoCaixa.id,o),await(0,d.sincronismoEnviar)("atualizar","documento",e.documentoCaixa.id,o))},leNew:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().caixa.get(e.id)||{};let o={};"idEmpresa"in e&&e.idEmpresa&&(o.idEmpresa=e.idEmpresa);let t=(0,a.X)().caixa;return Object.keys(o).length&&(t=(0,a.X)().caixa.where(o)),t.toArray()},le:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().caixa.get(e.id)||{};let o={};"idEmpresa"in e&&e.idEmpresa&&(o.idEmpresa=e.idEmpresa);let t=(0,a.X)().caixa;Object.keys(o).length&&(t=(0,a.X)().caixa.where(o)),t=await t.toArray()||[],"idContato"in e&&e.idContato&&(o.idContato=e.idContato),o={tipo:"Caixa",...o};let i=(0,a.X)().documento;return!1===e.aberto&&(i=await i.where({status:"Aberto",...o}).toArray(),i=i.map((e=>e.idCaixa)),i=t.filter((e=>!i.includes(e.id)))),!0===e.aberto&&(i=await i.where(o).filter((e=>["Aberto","Reaberto"].includes(e.status))).toArray()),i}},u=m,p={grava:async e=>{if(e=(0,d.compactarObjeto)(e),Object.keys(e.original||{}).length){const o=(0,d.diferencaObjetos)(e.original,e.atual);Object.keys(o).length&&(await(0,a.X)().caixaConsolidacao.update(e.atual.id,o),await(0,d.sincronismoEnviar)("atualizar","caixaConsolidacao",e.atual.id,o))}else await(0,a.X)().caixaConsolidacao.put(e.atual),await(0,d.sincronismoEnviar)("adicionar","caixaConsolidacao",e.atual.id,e.atual)},le:async e=>{if((e=e||{}).id)return await(0,a.X)().caixaConsolidacao.get(e.id)||{};let o=[];return e.idDocumentoCaixa&&(o=await(0,a.X)().caixaConsolidacao.where({idDocumentoCaixa:e.idDocumentoCaixa}).toArray()||[]),o}},h={grava:async e=>{if(e=(0,d.compactarObjeto)(e),Object.keys(e.original||{}).length){const o=(0,d.diferencaObjetos)(e.original,e.atual);Object.keys(o).length&&(await(0,a.X)().caixaConsolidacao2.update(e.atual.id,o),await(0,d.sincronismoEnviar)("atualizar","caixaConsolidacao2",e.atual.id,o))}else await(0,a.X)().caixaConsolidacao2.put(e.atual),await(0,d.sincronismoEnviar)("adicionar","caixaConsolidacao2",e.atual.id,e.atual)},le:async e=>{if((e=e||{}).id)return await(0,a.X)().caixaConsolidacao2.get(e.id)||{};let o=[];return e.idDocumentoCaixa&&(o=await(0,a.X)().caixaConsolidacao2.where({idDocumentoCaixa:e.idDocumentoCaixa}).toArray()||[]),e.idDocumentoStatus&&(o=await(0,a.X)().caixaConsolidacao2.where({idDocumentoStatus:e.idDocumentoStatus}).toArray()||[]),e.tabela&&(o=await(0,a.X)().caixaConsolidacao2.where({tabela:e.tabela}).toArray()||[]),e.idTabela&&(o=await(0,a.X)().caixaConsolidacao2.where({idTabela:e.idTabela}).toArray()||[]),o}},C={nomeTabela:"cfop",filtrosTabela:["cfop","codigoCfop"],async le(e={}){if(d.gconsole.log(this.nomeTabela,"le",e),"id"in e)return e.id&&await(0,a.X)()[this.nomeTabela].get(e.id)||{};let o={};for(const t of this.filtrosTabela)if(t in e){if([null,void 0].includes(e[t]))return[];o[t]=e[t]}return Object.keys(o).length?(0,a.X)()[this.nomeTabela].where(o).toArray():(0,a.X)()[this.nomeTabela].toArray()},async grava(e){d.gconsole.log(this.nomeTabela,"grava",e);const o=(0,d.diferencaNivel1)(e.original||{},e.atual);Object.keys(e.original||{}).length?Object.keys(o).length&&(await(0,a.X)()[this.nomeTabela].update(e.atual.id,o),await(0,d.sincronismoEnviar)("atualizar",this.nomeTabela,e.atual.id,o)):(await(0,a.X)()[this.nomeTabela].put(o),await(0,d.sincronismoEnviar)("adicionar",this.nomeTabela,o.id,o))}},v={nomeTabela:"_cidade",filtrosTabela:["cidadeCodIbge","ativo"],async le(e={}){if("id"in e)return e.id&&await(0,a.X)()[this.nomeTabela].get(e.id)||{};let o={},t={};for(const a of this.filtrosTabela)[!0,!1].includes(e[a])?t[a]=e[a]:[null,void 0].includes(e[a])||(o[a]=e[a]);let i=(0,a.X)()[this.nomeTabela];return Object.keys(o).length&&(i=i.where(o)),Object.keys(t).length&&(i=i.filter((e=>{for(const o of Object.keys(t))if(e[o]!==t[o])return!1;return!0}))),i.toArray()}};async function f(e={}){if("id"in e)return e.id&&await(0,a.X)()[this.nomeTabela].get(e.id)||{};const o={};for(const t of this.filtrosTabela)if(t in e){if([null,void 0].includes(e[t]))return[];o[t]=e[t]}return Object.keys(o).length?(0,a.X)()[this.nomeTabela].where(o).toArray():(0,a.X)()[this.nomeTabela].toArray()}async function N(e){this.cache=null;const o=(0,d.diferencaNivel1)(e.original||{},e.atual);Object.keys(e.original||{}).length?Object.keys(o).length&&(await(0,a.X)()[this.nomeTabela].update(e.atual.id,o),await(0,d.sincronismoEnviar)("atualizar",this.nomeTabela,e.atual.id,o)):(await(0,a.X)()[this.nomeTabela].put(o),await(0,d.sincronismoEnviar)("adicionar",this.nomeTabela,o.id,o))}async function V(e){this.cache=null,await(0,a.X)()[this.nomeTabela].delete(e),await(0,d.sincronismoEnviar)("remover",this.nomeTabela,e)}var g=t(72585);const x={nomeTabela:"configuracaoImposto",filtrosTabela:[],le:f,grava:N,remove:V,async pesquisa(e,o=[]){e.emitente.tributacaoSetor=e.emitente.tributacaoSetor||"99",e.emitente.tributacao=e.emitente.tributacao||"",e.destinatario=e.destinatario||{},e.destinatario.uf=e.destinatario.uf||e.emitente.uf,e.destinatario.pessoa=e.destinatario.pessoa||"",e.destinatario.regime=e.destinatario.regime||"",e.destinatario.tributacaoSetor=e.destinatario.tributacaoSetor||"99",e.destinatario.tributacao=e.destinatario.tributacao||"",e.destinatario.indicadorIE=e.destinatario.indicadorIE||"",e.destinatario.consumidor=e.destinatario.consumidor||"S",e.destinatario.destino=e.destinatario.destino||(e.destinatario.uf===e.emitente.uf?"1":"2"),e.cest=e.cest||"",e.origemMercadoria=e.origemMercadoria||"0";let t,a=await this.le(),i=0,r="";for(const o of a){const a=JSON.parse(o.json);if(i&&Number(a.ordem)>i)continue;const l=new Date((new Date).toDateString());if(a.dataInicio&&new Date(a.dataInicio)>l)continue;if(a.dataFim&&new Date(a.dataFim)<l)continue;const s=[{entrada:e.cfop,config:a.cfops||[],campoLista:"codigo"},{entrada:e.destinatario.consumidor,config:a.destinatario.consumidor},{entrada:e.destinatario.destino,config:a.destinatario.destino},{entrada:e.destinatario.indicadorIE,config:a.destinatario.indicadorIE},{entrada:e.destinatario.pessoa,config:a.destinatario.pessoa},{entrada:e.destinatario.regime,config:a.destinatario.regime},{entrada:e.destinatario.tributacao,config:a.destinatario.tributacao},{entrada:e.destinatario.tributacaoSetor,config:a.destinatario.tributacaoSetor},{entrada:e.destinatario.uf,config:a.destinatario.ufs||[],campoLista:"codigo"},{entrada:e.emitente.regime,config:a.emitente.regime},{entrada:e.emitente.tributacao,config:a.emitente.tributacao},{entrada:e.emitente.tributacaoSetor,config:a.emitente.tributacaoSetor},{entrada:e.emitente.uf,config:a.emitente.ufs||[],campoLista:"codigo"},{entrada:e.ncm,config:a.ncms||[],campoLista:"codigo"},{entrada:e.origemMercadoria,config:a.origemMercadoria}];let n=!0;for(const e of s){const{entrada:o,config:t,campoLista:a}=e;if(a){if(o&&t.length>0&&!t.find((e=>e[a]===o))){n=!1;break}}else if(o&&o!==t&&"T"!==t){n=!1;break}}if(n)if(a.ncms&&a.ncms.length&&!a.ncms.find((o=>o.codigo===e.ncm&&(o.cest===e.cest||!o.cest))))n=!1;else if(i=Number(a.ordem),r=a.descricao,t=a.imposto,a.icmsInterestadual){const o=a.icmsInterestadual.find((o=>o.uf===e.destinatario.uf));if(o){t.icmsInterestadual=o,t.pICMS=(0,g.i)({ufOrigem:e.emitente.uf,ufDestino:e.destinatario.uf,origemMercadoria:e.origemMercadoria});const a=await $db.ncm.ncmST({ncm:e.ncm,ufDestinatario:e.destinatario.uf});t.pICMSST=0,t.pMVAST=0,t.pRedBCST=0,a&&(t.pICMSST=Number(o.pICMSUFDest||0),t.pMVAST=Number(o.pMVAST||0),t.pRedBCST=Number(o.pRedBCSTInter||0))}}}return 0===i&&(console.error("Filtro de entrada:\n",JSON.stringify(e,0,2)),o.push(e)),{ordem:i,descricao:r,saida:t,entrada:e}}},b={vazio:{id:"",nome:"",valor:"",texto:"",observacao:""},valores:{},async inicializa(){},le:async e=>{if((e=e||{}).id)return(0,a.X)().configuracoes.get(e.id)||{};let o=await(0,a.X)().configuracoes.toArray()||[];return e.nome&&(o=o.filter((o=>o.nome===e.nome))),e.valor&&(o=o.filter((o=>o.valor===e.valor))),e.texto&&(o=o.filter((o=>o.texto===e.texto))),e.observacao&&(o=o.filter((o=>o.observacao===e.observacao))),o},async porNome(e,o){(0,d.verificarErro)(!e,"Nome de configuração não especificado.");const t=await(0,a.X)().configuracoes.where({nome:e}).toArray();let i=o?t.filter((e=>(e.valor||"").trim()&&e.idEmpresa===o)):[],r=t.filter((e=>(e.valor||"").trim()&&!e.idEmpresa));const l=[];return i=i.filter((e=>!l.includes(e.valor)&&(l.push(e.valor),!0))),r=r.filter((e=>!l.includes(e.valor)&&(l.push(e.valor),!0))),[...i,...r]},async leLaboratorioEssilor(e,o){let t=await(0,a.X)().configuracoes.where({nome:"compra.essilor.webservice"}).toArray();t=t.filter((o=>Number(o.valor)===e));let i=t.find((e=>e.idEmpresa===o));i||(i=t.find((e=>""===(e.idEmpresa||"")))),(0,d.verificarErro)(!i,"Laboratório sem configuraçao de usuario e senha. (compra.essilor.webservice)");const[r,l]=i.texto.split(";");return(0,d.verificarErro)(!r||!l,"Laboratório com configuraçao inválida de usuario e senha. (compra.essilor.webservice)"),{usuario:r,senha:l}},leLista:async e=>(0,a.X)().configuracoes.where({nome:e}).toArray(),leValor:async(e,o="")=>(await(0,a.X)().configuracoes.where({nome:e}).first()||{}).valor||o,async leValorComFiltroEmpresa(e,o,t=""){const i=await(0,a.X)().configuracoes.where({nome:e}).toArray();let r=i.find((e=>e.idEmpresa===o));return r||(r=i.find((e=>""===(e.idEmpresa||"")))),(r||{}).valor||t},async leValorNumerico(e,o=0){const t=await(0,a.X)().configuracoes.where({nome:e}).first();if(!t||!t.valor)return o;const i=Number(t.valor);return 0===i||i?i:o},async leValorNumericoComFiltroEmpresa(e,o,t=0){const i=await(0,a.X)().configuracoes.where({nome:e}).toArray();let r=i.find((e=>e.idEmpresa===o));if(r||(r=i.find((e=>""===(e.idEmpresa||"")))),!r||!r.valor)return t;const l=Number(r.valor);return 0===l||l?l:t},leOnline:async e=>e.nome?(0,d.executarSql)(`select valor from configuracoes where nome=${(0,d.sqlStr)(e.nome)}`):[]},w=b;var _=t(37714);const y={id:"",apelido:"",nome:"",imagem:"",numeroDocumentoNacional:"",ativo:!0,consulta:[],endereco:[{bairro:"",cep:"",complemento:"",grupo:"",ibgeCod:"",logradouro:"",municipio:"",numero:"",pais:"",uf:""}],filhos:[],grupo:[],nomesGrupo:[],redeSocial:[],telefone:[{}]};let I=["tipo"];const E={vazio:y,contatoBase:()=>({id:null,ativo:!0,consulta:[],endereco:[{bairro:"",cep:"",complemento:"",grupo:"",ibgeCod:"",logradouro:"",municipio:"",numero:"",pais:"",uf:""}],filhos:[],grupo:[],nomesGrupo:[],redeSocial:[],telefone:[{}]}),le:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().contato.get(e.id)||{};if("usuario"in e&&e.usuario){let o=(0,a.X)().contato.where("codigoUsuario").notEqual("");return e.ativo&&(o=o.and((e=>e.ativo))),await o.toArray()||[]}let o=[];if(e.vendedores){let e=await(0,a.X)().contatoGrupo.toArray()||[];e=e.filter((e=>"VENDEDOR"===(e.descricao||"").toUpperCase()));for(const t of e){const e=await(0,a.X)().contato.get(t.idContato);e.ativo&&o.push(e)}return o}if(e.tecnicos){let e=await(0,a.X)().contatoGrupo.toArray()||[];e=e.filter((e=>"TÉCNICO"===(e.descricao||"").toUpperCase()));for(const t of e){const e=await(0,a.X)().contato.get(t.idContato);e.ativo&&o.push(e)}return o}if(e.medicos){let e=await(0,a.X)().contatoGrupo.toArray()||[];e=e.filter((e=>"MÉDICO"===(e.descricao||"").toUpperCase()||"OPTOMETRISTA"===(e.descricao||"").toUpperCase()));for(const t of e){const e=await(0,a.X)().contato.get(t.idContato);e&&e.ativo&&o.push(e)}return o}if(e.transportadoras){let e=await(0,a.X)().contatoGrupo.toArray()||[];e=e.filter((e=>"TRANSPORTADORA"===(e.descricao||"").toUpperCase()));for(const t of e){const e=await(0,a.X)().contato.get(t.idContato);e.ativo&&o.push(e)}return o}if(e.empresas){let e={},t="",i="",r="Não foi possível localizar o código do sistema.";try{if(e=JSON.parse(localStorage.getItem("clienteSistema")),!e.codigoClienteSistema)return[];t=e.codigoClienteSistema,r="Não foi possível localizar o código do usuário.",i=mo.usuario.logado.codigoUsuario}catch(e){return console.log(r),[]}let l=await(0,a.X)().empresa.toArray()||[];for(const e of l){const t=await(0,a.X)().contato.get(e.idContato);t.ativo&&o.push(t)}if(!mo.usuario.logado.administrador){const e=await _._.empresa.le({codigoClienteSistema:t});let a=[];e.reduce(((e,o)=>(e[o.codigoEmpresa]||(e[o.codigoEmpresa]=!0,a.push(_._.empresaUsuarioPermissao.le({codigoUsuario:i,codigoEmpresa:o.codigoEmpresa}))),e)),{});for await(const e of a)a=[...a,...e];a=a.map((e=>e.codigoContato)),o=o.filter((e=>a.includes(e.codigoContato)))}return o}if(e.numeroDocumentoNacional){if(o=await(0,a.X)().contato.where({numeroDocumentoNacional:e.numeroDocumentoNacional}).toArray(),!o.length){const t=(0,d.filtrarDigitos)(e.numeroDocumentoNacional);if(t===e.numeroDocumentoNacional){const e=(void 0).$filters.cpfCnpj(t);o=await(0,a.X)().contato.where({numeroDocumentoNacional:e}).toArray()}else o=await(0,a.X)().contato.where({numeroDocumentoNacional:t}).toArray()}return o}if(o=await(0,a.X)().contato.toArray(),e.ativo&&(o=o.filter((e=>e.ativo))),!1===e.ativo&&(o=o.filter((e=>!e.ativo))),e.segmento){const t=(0,d.removerAcentos)(e.segmento).toLowerCase();o=o.filter((e=>e.segmento&&(0,d.removerAcentos)(e.segmento).toLowerCase()===t))}return e.idUsuario&&(o=o.filter((o=>o.idUsuario===e.idUsuario))),e.idContatoVendedor&&(o=o.filter((o=>o.idContatoVendedor===e.idContatoVendedor))),e.idContatoAssistente&&(o=o.filter((o=>o.idContatoAssistente===e.idContatoAssistente))),e.codigoContato&&(o=o.filter((o=>o.codigoContato===e.codigoContato))),o},async grava(e){e=(0,d.clonar)(e);const o=(0,d.clonar)(e.dadosOriginais||{}),t=(0,d.compactarObjeto)(e).contato;if(!t.nome)throw new Error("O nome é obrigatório.");t.apelido||(t.apelido=t.nome),e.endereco=(e.endereco||[]).filter((e=>!(""===e.bairro&&""===e.cep&&""===e.complemento&&""===e.logradouro&&""===e.municipio&&""===e.numero&&""===e.uf)));let i=!1;if(i=await(0,d.processarFilho)("contatoConsulta",o.consulta,e.consulta)||i,i=await(0,d.processarFilho)("contatoEndereco",o.endereco,e.endereco)||i,i=await(0,d.processarFilho)("contatoRedeSocial",o.redeSocial,e.redeSocial)||i,i=await(0,d.processarFilho)("contatoTelefone",o.telefone,e.telefone)||i,i=await(0,d.processarFilho)("contatoGrupo",o.grupo,e.grupo)||i,i=await(0,d.processarFilho)("contatoFilho",o.filhos,e.filhos)||i,Object.keys(o.contato||{}).length){const e=(0,d.dataAtual)();i&&(t.dataAlteracao=e);const r=(0,d.diferencaObjetos)(o.contato,t);Object.keys(r).length&&(t.dataAlteracao=e,r.dataAlteracao=e,await(0,a.X)().contato.update(t.id,r),await(0,d.sincronismoEnviar)("atualizar","contato",t.id,r))}else t.dataAlteracao=(0,d.dataAtual)(),t.dataCadastro=t.dataAlteracao,await(0,a.X)().contato.put(t),await(0,d.sincronismoEnviar)("adicionar","contato",t.id,t);return mo.contatoBusca.reindexar(t.id),t.id},async gravar(e){const o=(0,d.clonarV2)(e.atual),t=(0,d.clonarV2)(e.original||{});if(!o.contato.nome)throw new Error("O nome é obrigatório.");o.contato.apelido||(o.contato.apelido=o.contato.nome),o.endereco=(o.endereco||[]).filter((e=>!(""===e.bairro&&""===e.cep&&""===e.complemento&&""===e.logradouro&&""===e.municipio&&""===e.numero&&""===e.uf)));let i=!1;if(i=await(0,d.processarFilho)("contatoConsulta",t.consulta,o.consulta)||i,i=await(0,d.processarFilho)("contatoEndereco",t.endereco,o.endereco)||i,i=await(0,d.processarFilho)("contatoRedeSocial",t.redeSocial,o.redeSocial)||i,i=await(0,d.processarFilho)("contatoTelefone",t.telefone,o.telefone)||i,i=await(0,d.processarFilho)("contatoGrupo",t.grupo,o.grupo)||i,i=await(0,d.processarFilho)("contatoFilho",t.filhos,o.filhos)||i,Object.keys(t||{}).length){const e=(0,d.dataAtual)();i&&(o.contato.dataAlteracao=e);const r=(0,d.diferencaObjetos)(t.contato,o.contato);Object.keys(r).length&&(o.contato.dataAlteracao=e,r.dataAlteracao=e,await(0,a.X)().contato.update(o.contato.id,r),await(0,d.sincronismoEnviar)("atualizar","contato",o.contato.id,r))}else o.contato.dataAlteracao=(0,d.dataAtual)(),o.contato.dataCadastro=o.contato.dataAlteracao,await(0,a.X)().contato.put(o.contato),await(0,d.sincronismoEnviar)("adicionar","contato",o.contato.id,o.contato);mo.contatoBusca.reindexar(o.contato.id)},async lePorNumeroDocumentoNacional(e){if(!e)return{};let o=await(0,a.X)().contato.where({numeroDocumentoNacional:e}).first();if(!o){const t=(0,d.filtrarDigitos)(e);if(t===e){const e=14===t.length?t.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/g,"$1.$2.$3/$4-$5"):t.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/g,"$1.$2.$3-$4");o=await(0,a.X)().contato.where({numeroDocumentoNacional:e}).first()}else o=await(0,a.X)().contato.where({numeroDocumentoNacional:t}).first()}return o||{}},async leRefatorado({filtros:e,limit:o,page:t,sort:i}){if("id"in(e=e||{}))return e.id&&await(0,a.X)().contato.get(e.id)||{};let r={};for(const o of I)o in e&&e[o]&&(r[o]=e[o]);let l=await(0,a.X)().contato;Object.keys(r).length&&(l=l.where(r)),"ativo"in e&&"boolean"==typeof e.ativo&&(l=l.filter((o=>o.ativo===e.ativo))),"codigo"in e&&(l=l.filter((o=>o.codigo===Number(e.codigo)))),"nome"in e&&(l=l.filter((o=>o.nome===e.nome))),"apelido"in e&&(l=l.filter((o=>o.apelido===e.apelido))),"numeroDocumentoNacional"in e&&(l=l.filter((o=>o.numeroDocumentoNacional===e.numeroDocumentoNacional))),"segmento"in e&&(l=l.filter((o=>o.segmento===e.segmento)));let s=[],n=[];await l.each((e=>{s.push({nome:(0,d.removerAcentos)(e.nome||"").toUpperCase().trim(),apelido:(0,d.removerAcentos)(e.apelido||"").toUpperCase().trim(),id:e.id})}));const c=s.length;s=s.sort(((e,o)=>e.descricao>o.descricao?1:o.descricao>e.descricao?-1:0));let m=((t=t||1)-1)*(o=o||c);s=s.splice(m,o);for(let e of s)n.push(await(0,a.X)().contato.get({id:e.id}));let u=c;return{data:n,total:u,totalPages:Math.ceil(u/o)||1}},leOnline:async(e={})=>"segmento"in e?(0,d.executarSql)(`Select id, codigoContato, nome, apelido, numeroDocumentoNacional from Contato where Segmento=${(0,d.sqlStr)(e.segmento,"")}`):"codigoContato"in e?(0,d.executarSql)(`Select id, codigoContato, nome, apelido, numeroDocumentoNacional, imagem from Contato where codigoContato=${(0,d.sqlNum)(e.codigoContato)}`):"ativo"in e&&e.numeroDocumentoNacionalPreenchido?(0,d.executarSql)(`Select id, codigoContato, nome, apelido, numeroDocumentoNacional, numeroDocumentoEstadual, imagem\n         from Contato where ativo=${(0,d.sqlNum)(e.ativo?1:0)} and numeroDocumentoNacional <> ''`):[],leCompleto:async e=>{let o;if(!e)return o=(0,d.clonar)(y),o.dadosOriginais={contato:(0,d.clonar)(y)},o;o=await(0,a.X)().contato.get(e)||{},!o.emailNfe&&o.emailNFE&&(o.emailNfe=o.emailNFE,delete o.emailNFE),o.dadosOriginais={contato:{...o},endereco:await(0,a.X)().contatoEndereco.where("idContato").equals(e).toArray()||[],telefone:await(0,a.X)().contatoTelefone.where("idContato").equals(e).toArray()||[],redeSocial:await(0,a.X)().contatoRedeSocial.where("idContato").equals(e).toArray()||[],consulta:(0,c.orderBy)(await(0,a.X)().contatoConsulta.where("idContato").equals(e).toArray()||[],"dataConsulta","desc"),grupo:await(0,a.X)().contatoGrupo.where("idContato").equals(e).toArray()||[],filhos:[...await(0,a.X)().contatoFilho.where("idContato").equals(e).toArray()||[],...await(0,a.X)().contatoFilho.where("idContatoRelacionado").equals(e).toArray()||[]]};for(const e of o.dadosOriginais.endereco){let o=(e.cep||"").replace(/[^0-9]/g,"");8===o.length&&(e.cep=o.substr(0,5)+"-"+o.substr(5,3))}return o.endereco=JSON.parse(JSON.stringify(o.dadosOriginais.endereco)),o.telefone=JSON.parse(JSON.stringify(o.dadosOriginais.telefone)),o.redeSocial=JSON.parse(JSON.stringify(o.dadosOriginais.redeSocial)),o.consulta=JSON.parse(JSON.stringify(o.dadosOriginais.consulta)),o.grupo=JSON.parse(JSON.stringify(o.dadosOriginais.grupo)),o.dadosOriginais.nomesGrupo=o.grupo.map((e=>e.descricao)).sort(),o.nomesGrupo=JSON.parse(JSON.stringify(o.dadosOriginais.nomesGrupo)),o.filhos=JSON.parse(JSON.stringify(o.dadosOriginais.filhos)),o.filhos.forEach((e=>{e.socio=e.socio||!1,e.cobranca=e.cobranca||!1})),o},async leCompletoV2(e){d.gconsole.log("contato","leCompletoV2",e);let o=e&&await(0,a.X)().contato.get(e)||{};e=e||"",!o.emailNfe&&o.emailNFE&&(o.emailNfe=o.emailNFE,delete o.emailNFE),o.endereco=await(0,a.X)().contatoEndereco.where("idContato").equals(e).toArray(),o.telefone=await(0,a.X)().contatoTelefone.where("idContato").equals(e).toArray(),o.redeSocial=await(0,a.X)().contatoRedeSocial.where("idContato").equals(e).toArray(),o.consulta=(0,c.orderBy)(await(0,a.X)().contatoConsulta.where("idContato").equals(e).toArray(),"dataConsulta","desc"),o.grupo=await(0,a.X)().contatoGrupo.where("idContato").equals(e).toArray(),o.filhos=[...await(0,a.X)().contatoFilho.where("idContato").equals(e).toArray(),...await(0,a.X)().contatoFilho.where("idContatoRelacionado").equals(e).toArray()],o.nomesGrupo=o.grupo.map((e=>e.descricao)).sort();for(const e of o.endereco){let o=(e.cep||"").replace(/[^0-9]/g,"");8===o.length&&(e.cep=o.substr(0,5)+"-"+o.substr(5,3))}return o={...(0,d.clonarV2)(y),...o},{atual:o,original:(0,d.clonarV2)(o)}},async leCompletoV3(e){d.gconsole.log("contato","leCompletoV2",e);const o={};e=e||"",o.contato=await(0,a.X)().contato.get(e)||{},o.contato={id:"",apelido:"",nome:"",imagem:"",numeroDocumentoNacional:"",ativo:!0,...o.contato},!o.contato.emailNfe&&o.contato.emailNFE&&(o.contato.emailNfe=o.contato.emailNFE,delete o.contato.emailNFE),o.endereco=await(0,a.X)().contatoEndereco.where("idContato").equals(e).toArray(),o.telefone=await(0,a.X)().contatoTelefone.where("idContato").equals(e).toArray(),o.redeSocial=await(0,a.X)().contatoRedeSocial.where("idContato").equals(e).toArray(),o.consulta=(0,c.orderBy)(await(0,a.X)().contatoConsulta.where("idContato").equals(e).toArray(),"dataConsulta","desc"),o.grupo=await(0,a.X)().contatoGrupo.where("idContato").equals(e).toArray(),o.filhos=[...await(0,a.X)().contatoFilho.where("idContato").equals(e).toArray(),...await(0,a.X)().contatoFilho.where("idContatoRelacionado").equals(e).toArray()],o.nomesGrupo=o.grupo.map((e=>e.descricao)).sort();for(const e of o.endereco){let o=(e.cep||"").replace(/[^0-9]/g,"");8===o.length&&(e.cep=o.substr(0,5)+"-"+o.substr(5,3))}return o},leUnicos:async e=>(0,a.X)().contato.orderBy(e).uniqueKeys(),async leValoresUnicos(e,o){if(!this.cacheContatos){this.cacheContatos=[];for(const e in $db.contatoBusca.novoContatos)this.cacheContatos.push($db.contatoBusca.novoContatos[e]);setTimeout((()=>{delete this.cacheContatos}),3e3)}return(0,d.unicos)([{[e]:""},{[e]:o},...this.cacheContatos],e).sort(((e,o)=>e.localeCompare(o,void 0,{sensitivity:"base"})))},async gravaImportarContato(e){d.gconsole.log("contato","grava",e);const o=(0,d.clonarV2)(e.atual),t=(0,d.clonarV2)(e.original||{});o.apelido||(o.apelido=o.nome),delete o.numeroDocumentoNacionalErro,o.endereco=(o.endereco||[]).filter((e=>!(""===e.bairro&&""===e.cep&&""===e.complemento&&""===e.logradouro&&""===e.municipio&&""===e.numero&&""===e.uf)));{o.grupo=(o.grupo||[]).filter((e=>o.nomesGrupo.includes(e.descricao)));const e=(o.nomesGrupo||[]).filter((e=>!o.nomesGrupo.includes(e))).map((e=>({id:(0,d.uuid)(),idContato:o.id,descricao:e})));o.grupo=[...o.grupo,...e]}let i=!1;if(i=await(0,d.processarFilho)("contatoConsulta",t.consulta,o.consulta)||i,i=await(0,d.processarFilho)("contatoEndereco",t.endereco,o.endereco)||i,i=await(0,d.processarFilho)("contatoRedeSocial",t.redeSocial,o.redeSocial)||i,i=await(0,d.processarFilho)("contatoTelefone",t.telefone,o.telefone)||i,i=await(0,d.processarFilho)("contatoGrupo",t.grupo,o.grupo)||i,i=await(0,d.processarFilho)("contatoFilho",t.filhos,o.filhos)||i,Object.keys(t||{}).length){const e=(0,d.diferencaNivel1)(t,o);(i||Object.keys(e).length)&&(o.dataAlteracao=(0,d.dataAtual)(),e.dataAlteracao=o.dataAlteracao,await(0,a.X)().contato.update(o.id,e),await(0,d.sincronismoEnviar)("atualizar","contato",o.id,e),mo.contatoBusca.reindexar(o.id))}else{o.dataCadastro=(0,d.dataAtual)(),o.dataAlteracao=o.dataCadastro;const e=(0,d.diferencaNivel1)({},o);await(0,a.X)().contato.put(e),await(0,d.sincronismoEnviar)("adicionar","contato",e.id,e),mo.contatoBusca.reindexar(e.id)}},leFilhos:async e=>{const o=await(0,a.X)().contatoFilho.where("idContato").equals(e).toArray(),t=await(0,a.X)().contatoFilho.where("idContatoRelacionado").equals(e).toArray(),i=[...new Set([...o.map((e=>e.idContatoRelacionado)),...t.map((e=>e.idContato))])],r=[];for(const e of i){if(!e)continue;const o=await(0,a.X)().contato.get(e);o&&r.push(o)}return r},leConvenios:async e=>{let o=await E.leFilhos(e);return o=o.filter((async e=>(await(0,a.X)().contatoGrupo.where("idContato").equals(e.id).toArray()).map((e=>e.descricao)).includes("Convênio"))),o},leCompradores:async e=>{let o=await E.leFilhos(e);return o=o.filter((async e=>(await(0,a.X)().contatoGrupo.where("idContato").equals(e.id).toArray()).map((e=>e.descricao)).includes("Comprador"))),o},leLogado:async()=>{let e="";const o=await E.le({idUsuario:mo.usuario.logado.id});if(o.length)e=o[0].id;else{const o=await E.le({codigoContato:2});o.length&&(e=o[0].id)}return e},async leGruposUnicos(){let e=await(0,a.X)().contatoGrupo.toArray()||[];return e=e.map((e=>e.descricao)),e=[...e,"Cliente","Transportadora","Vendedor","Médico","Optometrista"],e=[...new Set(e)],e=e.sort(),e=e.map((e=>({descricao:e}))),e},criarContatoBasico:async e=>{let o=(0,d.clonar)(e);if(o={...y,...o},o.dataAlteracao=(0,d.dataAtual)(),!o.nome)throw new Error("O nome é obrigatório.");return o.apelido||(o.apelido=o.nome),o.id=(0,d.uuid)(),o.ativo=!0,o.dataCadastro=o.dataAlteracao,await(0,a.X)().contato.add(o),await(0,d.sincronismoEnviar)("adicionar","contato",o.id,o),o},criarContatoGrupo:async({idContato:e,descricaoGrupo:o})=>{const t={id:(0,d.uuid)(),idContato:e,descricao:o};return await(0,a.X)().contatoGrupo.add(t),await(0,d.sincronismoEnviar)("adicionar","contatoGrupo",t.id,t),t},async criarDependenciaContatos({contatoPai:e,contatoFilho:o}){const t={id:(0,d.uuid)(),idContato:e.id,idContatoRelacionado:o.id,observacao:"Dependente"};return await(0,a.X)().contatoFilho.add(t),await(0,d.sincronismoEnviar)("adicionar","contatoFilho",t.id,t),t},selecionado:{...y}},S=E,M={vazio:{id:""},grava:async e=>{await(0,a.X)().contatoAnotacao.put(e),await(0,d.sincronismoEnviar)("adicionar","contatoAnotacao",e.id,e)},le:async e=>{},leAnotacoesDeUmContato:async e=>{let o=await(0,a.X)().contatoAnotacao.where("idContato").equals(e).toArray();o=o.filter((e=>"Atendimento 4.0"===e.tipo&&!!e.idContatoUsuario)),o=(0,c.orderBy)(o,"dataHora");const t=(0,d.unicos)(o,"idContatoUsuario"),i={};for(const e of t)i[e]=await mo.usuario.le({id:e})||{};let r=[];for(const e of o)r.push({...e,usuarioApelido:i[e.idContatoUsuario].apelido,usuarioImagem:i[e.idContatoUsuario].imagem,rotulo:new Date(e.dataHora).toLocaleString("pt-BR"),enviado:e.idContatoUsuario===mo.usuario.logado.id,mensagens:[e.descricao]});return r}};let T,k,D;async function q(e,o){if(T)return T;let t;return T=new Promise(((e,o)=>{t=e})),(0,a.X)().contato.where("codigoUsuario").notEqual("").each((t=>{t.usuario=!0,A(t,e,o)})).then((()=>{t()})),T}async function F(e,o){if(D)return D;let t,i,r;D=new Promise(((e,o)=>{t=e})),r=100,i=await(0,a.X)().empresa.count();for(let r=0;r<i;r+=100){const l=[];await(0,a.X)().empresa.offset(r).limit(100).each((e=>{e.idContato&&e.ativo&&l.push(e.idContato)})),await(0,a.X)().contato.where("id").anyOf(l).each((t=>{t.empresa=!0,A(t,e,o)})),r+100>=i&&t()}return i||t(),D}async function P(e,o){if(k)return k;let t;k=new Promise(((e,o)=>{t=e}));let i,r=[];return i=["vendedor","vendedora","vendedores","Vendedor","Vendedora","Vendedores","VENDEDOR","VENDEDORA","VENDEDORES"],await(0,a.X)().contatoGrupo.where("descricao").anyOf(i).each((e=>{e.idContato&&r.push(e.idContato)})),await(0,a.X)().contato.where("id").anyOf(r).each((t=>{t.vendedor=!0,A(t,e,o)})),r=[],i=["tecnico","tecnica","tecnicos","Tecnico","Tecnica","Tecnicos","TECNICO","TECNICA","TECNICOS","técnico","técnica","técnicos","Técnico","Técnica","Técnicos","TÉCNICO","TÉCNICA","TÉCNICOS"],await(0,a.X)().contatoGrupo.where("descricao").anyOf(i).each((e=>{e.idContato&&r.push(e.idContato)})),await(0,a.X)().contato.where("id").anyOf(r).each((t=>{t.tecnico=!0,A(t,e,o)})),r=[],i=["transportador","transportadora","transportadores","transportadoras","Transportador","Transportadora","Transportadores","Transportadoras","TRANSPORTADOR","TRANSPORTADORA","TRANSPORTADORES","TRANSPORTADORAS"],await(0,a.X)().contatoGrupo.where("descricao").anyOf(i).each((e=>{e.idContato&&r.push(e.idContato)})),await(0,a.X)().contato.where("id").anyOf(r).each((t=>{t.transportador=!0,A(t,e,o)})),r=[],i=["medico","medica","medicos","Medico","Medica","Medicos","MEDICO","MEDICA","MEDICOS","médico","médica","médicos","Médico","Médica","Médicos","MÉDICO","MÉDICA","MÉDICOS"],await(0,a.X)().contatoGrupo.where("descricao").anyOf(i).each((e=>{e.idContato&&r.push(e.idContato)})),await(0,a.X)().contato.where("id").anyOf(r).each((t=>{t.medico=!0,A(t,e,o)})),t(),k}function A(e,o,t){let a,i,r;o[e.id]={...o[e.id],codigoContato:e.codigoContato,nome:e.nome,apelido:e.apelido,numeroDocumentoNacional:e.numeroDocumentoNacional,segmento:e.segmento,ativo:e.ativo,...e.usuario?{usuario:!0}:{},...e.empresa?{empresa:!0}:{},...e.vendedor?{vendedor:!0}:{},...e.tecnico?{tecnico:!0}:{},...e.transportador?{transportador:!0}:{},...e.medico?{medico:!0}:{},...e.medico&&e.numeroDocumentoMunicipal?{numeroDocumentoMunicipal:e.numeroDocumentoMunicipal}:{},...e.idContatoVendedor?{idContatoVendedor:e.idContatoVendedor}:{},...e.idContatoAssistente?{idContatoAssistente:e.idContatoAssistente}:{}},a="%0"+e.id,i=Number(e.codigoContato),Number.isInteger(i)&&i>0&&(a=a+" %1"+String(i)),i=((e.nome||"")+" "+(e.apelido||"")).trim(),i&&(a=a+" "+i.replace(/(\S+\s)|(\S+$)/g,"%2$1$2")),i=e.numeroDocumentoNacional||"",i&&(a=a+" %3"+i,a=a+" %3"+i.replace(/\D/g,"")),"boolean"==typeof e.ativo&&(a=a+" %6"+String(e.ativo)),"boolean"==typeof e.empresa&&e.empresa&&(a+=" %7true"),i=(e.segmento||"").trim(),i&&(a=a+" %8"+i.replace(/\s/g,"")),"boolean"==typeof e.usuario&&e.usuario&&(a+=" %9true"),"boolean"==typeof e.vendedor&&e.vendedor&&(a+=" %atrue"),"boolean"==typeof e.tecnico&&e.tecnico&&(a+=" %btrue"),"boolean"==typeof e.transportador&&e.transportador&&(a+=" %ctrue"),"boolean"==typeof e.medico&&e.medico&&(a+=" %dtrue",i=e.numeroDocumentoMunicipal||"",i&&(a=a+" %e"+i,a=a+" %e"+i.replace(/\D/g,""))),r=a.trim().toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" ");for(const o of[...new Set(r)])t[o]?t[o].push(e.id):t[o]=[e.id]}function B(e,o,t){let a,i;if(i=(o[e.idContato]||{}).telefones||[],i.push(e.telefone),o[e.idContato]={...o[e.idContato],telefones:i},a=(e.telefone||"").trim().replace(/\D/g,""),a){const o="%4"+a;if(!t[o])return void(t[o]=[e.idContato]);t[o].push(e.idContato)}}function L(e,o,t){let a,i;if(i=(o[e.idContato]||{}).municipios||[],i.push(e.municipio),o[e.idContato]={...o[e.idContato],municipios:i},a=(e.municipio||"").trim(),a){i=a.replace(/(\S+\s)|(\S+$)/g,"%5$1$2").trim().toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" ");for(const o of i)t[o]?t[o].push(e.idContato):t[o]=[e.idContato]}}let O=!1;const z={novoContatos:{},novoContatosIdx:{},async inicializar(){O||(O=!0,await F(this.novoContatos,this.novoContatosIdx),await P(this.novoContatos,this.novoContatosIdx),await q(this.novoContatos,this.novoContatosIdx),await async function(e,o){let t,i;i=1e4,t=await(0,a.X)().contato.count();for(let i=0;i<t;i+=1e4)await(0,a.X)().contato.offset(i).limit(1e4).each((t=>{A(t,e,o)}))}(this.novoContatos,this.novoContatosIdx),await async function(e,o){let t,i;i=1e4,t=await(0,a.X)().contatoTelefone.count();for(let i=0;i<t;i+=1e4)await(0,a.X)().contatoTelefone.offset(i).limit(1e4).each((t=>{B(t,e,o)}))}(this.novoContatos,this.novoContatosIdx),await async function(e,o){let t,i;i=1e4,t=await(0,a.X)().contatoEndereco.count();for(let i=0;i<t;i+=1e4)await(0,a.X)().contatoEndereco.offset(i).limit(1e4).each((t=>{L(t,e,o)}))}(this.novoContatos,this.novoContatosIdx))},async filtrar(e,o={},t=30){if(await F(this.novoContatos,this.novoContatosIdx),await P(this.novoContatos,this.novoContatosIdx),await q(this.novoContatos,this.novoContatosIdx),!(e=(e||"").trim())){let e=[];if("boolean"!=typeof o.ativo){e=this.novoContatosIdx["%6true"]||[];for(const o of this.novoContatosIdx["%6false"]||[])e.push(o)}else e=o.ativo?this.novoContatosIdx["%6true"]||[]:this.novoContatosIdx["%6false"]||[];if("boolean"==typeof o.somenteCarteira&&o.somenteCarteira&&!mo.usuario.logado.administrador&&await mo.permissao.objetoClienteSistema("Diretiva_Contatos_AcessaTodosContatos")&&!await mo.permissao.objeto("Diretiva_Contatos_AcessaTodosContatos")){let o,t,i;if(t=((await mo.configuracoes.porNome("venda.codigoconsumidor"))[0]||{}).valor,o=mo.usuario.logado.codigoContato,o&&(i=(await(0,a.X)().contato.where({codigoContato:o}).toArray()).find((e=>e.id))),!i)return[];const r=[];for(const o of e){const e=this.novoContatos[o]||{};(o===i.id||this.novoContatosIdx["%1"+t].find((e=>e===o))||e.idContatoVendedor===i.id||e.idContatoAssistente===i.id)&&(1276===e.codigoContato&&(console.log(o),console.log(i.id),console.log(i)),r.push(o))}e=r}if("boolean"==typeof o.empresas&&o.empresas){const o=[],t=this.novoContatosIdx["%7true"]||[];for(const a of t)e.find((e=>e===a))&&o.push(a);if(e=o,!mo.usuario.logado.administrador){const o=[];await _._.empresaUsuarioPermissao.inicializarPermissao();for(const t of e)_._.empresaUsuarioPermissao.permissao.find((e=>e===this.novoContatos[t].codigoContato))&&o.push(t);e=o}}if("boolean"==typeof o.usuario&&o.usuario){const o=[],t=this.novoContatosIdx["%9true"]||[];for(const a of t)e.find((e=>e===a))&&o.push(a);e=o}if("boolean"==typeof o.vendedores&&o.vendedores){const o=[],t=this.novoContatosIdx["%atrue"]||[];for(const a of t)e.find((e=>e===a))&&o.push(a);e=o}if("boolean"==typeof o.tecnicos&&o.tecnicos){const o=[],t=this.novoContatosIdx["%btrue"]||[];for(const a of t)e.find((e=>e===a))&&o.push(a);e=o}if("boolean"==typeof o.transportadoras&&o.transportadoras){const o=[],t=this.novoContatosIdx["%ctrue"]||[];for(const a of t)e.find((e=>e===a))&&o.push(a);e=o}if("boolean"==typeof o.medicos&&o.medicos){const o=[],t=this.novoContatosIdx["%dtrue"]||[];for(const a of t)e.find((e=>e===a))&&o.push(a);e=o}const i=(o.segmento||"").trim();if(i){const o="%8"+i.toLowerCase().replace(/\s/g,"").normalize("NFD").replace(/[\u0300-\u036f]/g,""),t=[],a=this.novoContatosIdx[o]||[];for(const o of a)e.find((e=>e===o))&&t.push(o);e=t}return e=[...new Set(e)],t>0&&(e=e.slice(0,t)),(0,a.X)().contato.where("id").anyOf(e).toArray()}if(/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(e)){if("boolean"==typeof o.ativo&&!(this.novoContatosIdx["%6"+String(o.ativo)]||[]).find((o=>o===e)))return[];if("boolean"==typeof o.empresas){if(!(this.novoContatosIdx["%7true"]||[]).find((o=>o===e)))return[];if(!mo.usuario.logado.administrador&&(await _._.empresaUsuarioPermissao.inicializarPermissao(),!_._.empresaUsuarioPermissao.permissao.find((o=>o===(this.novoContatos[e]||{}).codigoContato))))return[]}if("boolean"==typeof o.somenteCarteira&&o.somenteCarteira&&!mo.usuario.logado.administrador&&await mo.permissao.objetoClienteSistema("Diretiva_Contatos_AcessaTodosContatos")&&!await mo.permissao.objeto("Diretiva_Contatos_AcessaTodosContatos")){let o,t,i;if(t=((await mo.configuracoes.porNome("venda.codigoconsumidor"))[0]||{}).valor,o=mo.usuario.logado.codigoContato,o&&(i=(await(0,a.X)().contato.where({codigoContato:o}).toArray()).find((e=>e.id))),!i)return[];const r=this.novoContatos[e]||{};if(e!==i.id&&!this.novoContatosIdx["%1"+t].find((o=>o===e))&&r.idContatoVendedor!==i.id&&r.idContatoAssistente!==i.id)return[]}if("boolean"==typeof o.usuario&&!(this.novoContatosIdx["%9true"]||[]).find((o=>o===e)))return[];if("boolean"==typeof o.vendedores&&!(this.novoContatosIdx["%atrue"]||[]).find((o=>o===e)))return[];if("boolean"==typeof o.tecnicos&&!(this.novoContatosIdx["%btrue"]||[]).find((o=>o===e)))return[];if("boolean"==typeof o.transportadoras&&!(this.novoContatosIdx["%ctrue"]||[]).find((o=>o===e)))return[];if("boolean"==typeof o.medicos&&!(this.novoContatosIdx["%dtrue"]||[]).find((o=>o===e)))return[];const t=(o.segmento||"").trim();if(t){const o="%8"+t.toLowerCase().replace(/\s/g,"").normalize("NFD").replace(/[\u0300-\u036f]/g,"");if(!(this.novoContatosIdx[o]||[]).find((o=>o===e)))return[]}return(0,a.X)().contato.where({id:e}).toArray()}let i=e.toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" "),r=[];const l=(0,c.escapeRegExp)(i[0]);for(const e in this.novoContatosIdx)if("%0"!==e.substring(0,2)&&"%6"!==e.substring(0,2)&&"%7"!==e.substring(0,2)&&"%9"!==e.substring(0,2)&&"%a"!==e.substring(0,2)&&"%b"!==e.substring(0,2)&&"%c"!==e.substring(0,2)&&"%d"!==e.substring(0,2)&&-1!==e.substring(2,e.length).search(l))for(const o of this.novoContatosIdx[e])r.push(o);i.shift();let s=[];for(let e of i){let o=!1;e=(0,c.escapeRegExp)(e),s=[];for(const t in this.novoContatosIdx)if("%0"!==t.substring(0,2)&&"%6"!==t.substring(0,2)&&"%7"!==t.substring(0,2)&&"%9"!==t.substring(0,2)&&"%a"!==t.substring(0,2)&&"%b"!==t.substring(0,2)&&"%c"!==t.substring(0,2)&&"%d"!==t.substring(0,2)&&-1!==t.substring(2,t.length).search(e)){o=!0;for(const e of r)!s.find((o=>o===e))&&this.novoContatosIdx[t].find((o=>o===e))&&s.push(e)}if(!o){r=[];break}r=s}if(Object.keys(o).length){let e=[],i=[];if("boolean"!=typeof o.ativo){e=this.novoContatosIdx["%6true"]||[];for(const o of this.novoContatosIdx["%6false"]||[])e.push(o)}else e=o.ativo?this.novoContatosIdx["%6true"]||[]:this.novoContatosIdx["%6false"]||[];if("boolean"==typeof o.somenteCarteira&&o.somenteCarteira&&!mo.usuario.logado.administrador&&await mo.permissao.objetoClienteSistema("Diretiva_Contatos_AcessaTodosContatos")&&!await mo.permissao.objeto("Diretiva_Contatos_AcessaTodosContatos")){let o,t,i;if(t=((await mo.configuracoes.porNome("venda.codigoconsumidor"))[0]||{}).valor,o=mo.usuario.logado.codigoContato,o&&(i=(await(0,a.X)().contato.where({codigoContato:o}).toArray()).find((e=>e.id))),!i)return[];const r=[];for(const o of e){const e=this.novoContatos[o]||{};(o===i.id||this.novoContatosIdx["%1"+t].find((e=>e===o))||e.idContatoVendedor===i.id||e.idContatoAssistente===i.id)&&r.push(o)}e=r}if("boolean"==typeof o.empresas&&o.empresas){const o=this.novoContatosIdx["%7true"]||[];i=[];for(const t of o)e.find((e=>e===t))&&i.push(t);if(e=i,!mo.usuario.logado.administrador){const o=[];await _._.empresaUsuarioPermissao.inicializarPermissao();for(const t of e)_._.empresaUsuarioPermissao.permissao.find((e=>e===(this.novoContatos[t]||{}).codigoContato))&&o.push(t);e=o}}if("boolean"==typeof o.usuario&&o.usuario){const o=this.novoContatosIdx["%9true"]||[];i=[];for(const t of o)e.find((e=>e===t))&&i.push(t);e=i}if("boolean"==typeof o.vendedores&&o.vendedores){const o=this.novoContatosIdx["%atrue"]||[];i=[];for(const t of o)e.find((e=>e===t))&&i.push(t);e=i}if("boolean"==typeof o.tecnicos&&o.tecnicos){const o=this.novoContatosIdx["%btrue"]||[];i=[];for(const t of o)e.find((e=>e===t))&&i.push(t);e=i}if("boolean"==typeof o.transportadoras&&o.transportadoras){const o=this.novoContatosIdx["%ctrue"]||[];i=[];for(const t of o)e.find((e=>e===t))&&i.push(t);e=i}if("boolean"==typeof o.medicos&&o.medicos){const o=this.novoContatosIdx["%dtrue"]||[];i=[];for(const t of o)e.find((e=>e===t))&&i.push(t);e=i}const l=(o.segmento||"").trim();if(l){const o="%8"+l.toLowerCase().replace(/\s/g,"").normalize("NFD").replace(/[\u0300-\u036f]/g,""),t=[],a=this.novoContatosIdx[o]||[];for(const o of a)e.find((e=>e===o))&&t.push(o);e=t}r=[...new Set(r)],i=[];for(const o of r)if(e.find((e=>e===o))&&i.push(o),t>0&&i.length===t)break;r=i}return t>0&&(r=r.slice(0,t)),(0,a.X)().contato.where("id").anyOf(r).toArray()},async reindexar(e){if(!e)return;let o=this.novoContatos[e];o&&function(e,o,t,a){for(const t in o){if("codigoContato"===t){const i=Number(o[t]);if(Number.isInteger(i)&&i>0){const o="%1"+String(i),t=[];for(const i of a[o]||[])i!==e&&t.push(i);a[o]=t}}if("nome"===t||"apelido"===t){const i=(o[t]||"").trim();if(i){const o=i.replace(/(\S+\s)|(\S+$)/g,"%2$1$2").toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" ");for(const t of[...new Set(o)]){const o=[];for(const i of a[t]||[])i!==e&&o.push(i);a[t]=o}}}if("numeroDocumentoNacional"===t){const i=o[t]||"";if(i){let o="%3"+i,t=[];for(const i of a[o]||[])i!==e&&t.push(i);a[o]=t,o="%3"+i.replace(/\D/g,""),t=[];for(const i of a[o]||[])i!==e&&t.push(i);a[o]=t}}if("numeroDocumentoMunicipal"===t){const i=o[t]||"";if(i){let o="%e"+i,t=[];for(const i of a[o]||[])i!==e&&t.push(i);a[o]=t,o="%e"+i.replace(/\D/g,""),t=[];for(const i of a[o]||[])i!==e&&t.push(i);a[o]=t}}if("ativo"===t&&"boolean"==typeof o[t]){const i="%6"+String(o[t]),r=[];for(const o of a[i]||[])o!==e&&r.push(o);a[i]=r}if("usuario"===t&&"boolean"==typeof o[t]){const i="%9"+String(o[t]),r=[];for(const o of a[i]||[])o!==e&&r.push(o);a[i]=r}if("vendedor"===t&&"boolean"==typeof o[t]){const i="%a"+String(o[t]),r=[];for(const o of a[i]||[])o!==e&&r.push(o);a[i]=r}if("tecnico"===t&&"boolean"==typeof o[t]){const i="%b"+String(o[t]),r=[];for(const o of a[i]||[])o!==e&&r.push(o);a[i]=r}if("transportador"===t&&"boolean"==typeof o[t]){const i="%c"+String(o[t]),r=[];for(const o of a[i]||[])o!==e&&r.push(o);a[i]=r}if("medico"===t&&"boolean"==typeof o[t]){const i="%d"+String(o[t]),r=[];for(const o of a[i]||[])o!==e&&r.push(o);a[i]=r}if("segmento"===t){const i=(o[t]||"").trim();if(i){const o="%8"+i.toLowerCase().replace(/\s/g,"").normalize("NFD").replace(/[\u0300-\u036f]/g,""),t=[];for(const i of a[o]||[])i!==e&&t.push(i);a[o]=t}}if("empresa"===t&&"boolean"==typeof o[t]){const i="%7"+String(o[t]),r=[];for(const o of a[i]||[])o!==e&&r.push(o);a[i]=r}if("telefones"===t)for(const i of o[t]||[]){const o="%4"+(i||"").trim().replace(/\D/g,""),t=[];for(const i of a[o]||[])i!==e&&t.push(i);a[o]=t}if("municipios"===t)for(const i of o[t]||[]){const o=(i||"").trim().replace(/(\S+\s)|(\S+$)/g,"%5$1$2").toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" ");for(const t of[...new Set(o)]){const o=[];for(const i of a[t]||[])i!==e&&o.push(i);a[t]=o}}}delete t[e]}(e,{codigoContato:o.codigoContato,nome:o.nome,apelido:o.apelido,numeroDocumentoNacional:o.numeroDocumentoNacional,numeroDocumentoMunicipal:o.numeroDocumentoMunicipal,segmento:o.segmento,ativo:o.ativo,telefones:o.telefones,municipios:o.municipios,empresa:o.empresa,usuario:o.usuario,vendedor:o.vendedor,tecnico:o.tecnico,transportador:o.transportador,medico:o.medico},this.novoContatos,this.novoContatosIdx);let t=(await(0,a.X)().empresa.where({idContato:e}).toArray()).find((e=>e.id)),i=(await(0,a.X)().contatoGrupo.where({idContato:e}).toArray()).find((e=>["vendedor","vendedora","vendedores"].find((o=>o===e.descricao.trim().toLowerCase())))),r=(await(0,a.X)().contatoGrupo.where({idContato:e}).toArray()).find((e=>["tecnico","tecnica","tecnicos"].find((o=>o===e.descricao.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))))),l=(await(0,a.X)().contatoGrupo.where({idContato:e}).toArray()).find((e=>["transportador","transportadora","transportadores","transportadoras"].find((o=>o===e.descricao.trim().toLowerCase())))),s=(await(0,a.X)().contatoGrupo.where({idContato:e}).toArray()).find((e=>["medico","medica","medicos"].find((o=>o===e.descricao.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")))));await(0,a.X)().contato.where({id:e}).each((e=>{t&&(e.empresa=!0),i&&(e.vendedor=!0),r&&(e.tecnico=!0),l&&(e.transportador=!0),s&&(e.medico=!0),e.codigoUsuario&&(e.usuario=!0),A(e,this.novoContatos,this.novoContatosIdx)})),await(0,a.X)().contatoTelefone.where({idContato:e}).each((e=>{B(e,this.novoContatos,this.novoContatosIdx)})),await(0,a.X)().contatoEndereco.where({idContato:e}).each((e=>{L(e,this.novoContatos,this.novoContatosIdx)}))}},j={le:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().contatoCreditoExtrato.get(e.id)||{};let o={};"idContato"in e&&e.idContato&&(o.idContato=e.idContato);let t=[];return t=Object.keys(o).length?await(0,a.X)().contatoCreditoExtrato.where(o).toArray()||[]:await(0,a.X)().contatoCreditoExtrato.toArray()||[],t}},$={grava:()=>{},le:async e=>{if((e=e||{}).id)return(0,a.X)().contatoEndereco.get(e.id)||{};const o={};e.idContato&&(o.idContato=e.idContato);let t=[];return t=Object.keys(o).length?await(0,a.X)().contatoEndereco.where(o).toArray()||[]:await(0,a.X)().contatoEndereco.toArray()||[],t},async leEnderecoPrincipal(e){if(!e)return{};const o=await(0,a.X)().contatoEndereco.where({idContato:e}).toArray();if(!o||0===o.length)return{};let t=o.find((e=>"Principal"===e.grupo));return t||(t=o[0]||{}),t},leNew:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().contatoEndereco.get(e.id)||{};let o={};"idContato"in e&&e.idContato&&(o.idContato=e.idContato);let t=(0,a.X)().contatoEndereco;return Object.keys(o).length&&(t=t.where(o)),await t.toArray()||[]}},U={grava:()=>{},le:async(e={})=>{if("id"in e)return e.id&&await(0,a.X)().contatoTelefone.get(e.id)||{};const o={};e.idContato&&(o.idContato=e.idContato);let t=(0,a.X)().contatoTelefone;return Object.keys(o).length&&(t=t.where(o)),t.toArray()},leNew:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().contatoTelefone.get(e.id)||{};let o={};"idContato"in e&&e.idContato&&(o.idContato=e.idContato);let t=(0,a.X)().contatoTelefone;return Object.keys(o).length&&(t=t.where(o)),await t.toArray()||[]}},Z=["id","idContato","idFatura","idDocumentoAdicional","idContatoVendedor","idContatoDigitador","idEmpresa","documentoId","tipo","status","idEquipamento"],Q={grava:async e=>{if(e=(0,d.compactarObjeto)(e),await(0,d.processarFilho)("documentoItem",e.documentoItensAnterior||[],e.documentoItens||[]),Object.keys(e.documentoAnterior||{}).length){const o=(0,d.diferencaObjetos)(e.documentoAnterior,e.documento);Object.keys(o).length&&(await(0,a.X)().documento.update(e.documento.id,o),await(0,d.sincronismoEnviar)("atualizar","documento",e.documento.id,o))}else await(0,a.X)().documento.put(e.documento),await(0,d.sincronismoEnviar)("adicionar","documento",e.documento.id,e.documento)},le:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().documento.get(e.id)||{};let o={tipo:"Contrato"};"idContato"in e&&e.idContato&&(o.idContato=e.idContato),"idEmpresa"in e&&e.idEmpresa&&(o.idEmpresa=e.idEmpresa),"status"in e&&e.status&&(o.status=e.status);let t=(0,a.X)().documento;Object.keys(o).length&&(t="periodoEmissao"in e||"diaVencimento"in e?t.where(o).and((function(o){if("periodoEmissao"in e&&e.periodoEmissao){let t=new Date(e.periodoEmissao.ini).setHours(0,0,0,0),a=new Date(e.periodoEmissao.fim).setHours(0,0,0,0),i=new Date(o.dataHoraEmissao).setHours(0,0,0,0);return t&&a?i>=t&&i<=a:t?i>=t:!a||i<=a}})).and((function(o){if("diaVencimento"in e&&e.diaVencimento){let t=e.diaVencimento.ini,a=e.diaVencimento.fim,i=o.numeroVolumeTransporte;return t&&a?i>=t&&i<=a:t?i>=t:!a||i<=a}})):t.where(o));const i=e.offset,r=e.limit;let l=t;return l=await l.count(),Number.isInteger(i)&&Number.isInteger(r)?Promise.all([t.offset(i).limit(r).toArray(),l]):Promise.all([t.toArray(),l])},leRefatorado:async function({filtros:e,limit:o,page:t,sort:i}){if("id"in(e=e||{}))return e.id&&await(0,a.X)().documento.get(e.id)||{};for(const o in e){if(null===e[o]||void 0===e[o])throw"Erro no filtro "+o;"string"==typeof e[o]&&(e[o]=e[o].trim())}let r={tipo:"Contrato"};for(const o of Z)o in e&&e[o]&&(r[o]=e[o]);let l=await(0,a.X)().documento;if(Object.keys(r).length&&(l=l.where(r)),"periodoEmissao"in e&&e.periodoEmissao){let o=new Date(e.periodoEmissao.ini).setHours(0,0,0,0),t=new Date(e.periodoEmissao.fim).setHours(0,0,0,0);l=l.filter((e=>{let a=new Date(e.dataHoraEmissao).setHours(0,0,0,0);return o&&t?a>=o&&a<=t:o?a>=o:!t||a<=t}))}if("periodoFinalizado"in e&&e.periodoFinalizado){let o=new Date(e.periodoFinalizado.ini).setHours(0,0,0,0),t=new Date(e.periodoFinalizado.fim).setHours(0,0,0,0);l=l.filter((e=>{let a=new Date(e.dataHoraEmissao).setHours(0,0,0,0);return o&&t?a>=o&&a<=t:o?a>=o:!t||a<=t}))}let s=[],n=[];await l.each((e=>{s.push({codigoDocumento:e.codigoDocumento,id:e.id})}));const c=s.length;s=s.sort(((e,o)=>e.codigoDocumento>o.codigoDocumento?1:o.codigoDocumento>e.codigoDocumento?-1:0));let d=((t=t||1)-1)*(o=o||c);s=s.splice(d,o);for(let e of s)n.push(await(0,a.X)().documento.get({id:e.id}));let m=c;return{data:n,total:m,totalPages:Math.ceil(m/o)||1}},leItens:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().documentoItem.get(e.id)||{};let o={};"idDocumento"in e&&e.idDocumento&&(o.idDocumento=e.idDocumento),"idItem"in e&&e.idItem&&(o.idItem=e.idItem);let t=(0,a.X)().documentoItem;return Object.keys(o).length?(t=t.where(o),t.toArray()):[]},async remove(e){this.removeItens(e),await(0,a.X)().documento.delete(e),await(0,d.sincronismoEnviar)("remover","documento",e)},async removeItens(e){let o=await(0,a.X)().documentoItem.where({idDocumento:e}).toArray();for(let e of o)await(0,a.X)().documentoItem.where({id:e.id}).delete(),await(0,d.sincronismoEnviar)("remover","documentoItem",e.id)}},R=Q,G={vazio:{id:"",tipo:"CRM",operacao:"Normal",status:"",crmFunil:"",crmFunilStatus:"",idEmpresa:"",descricaoEmpresa:"",numeroDocumentoEmpresa:"",idContato:"",descricaoContato:"",numeroDocumentoContato:"",idContatoResponsavel:"",dataHoraEmissao:"",dataHoraRealizado:"",dataHoraPrevisto:"",documentoId:"",documentoTipo:"",subTotal:0,totalDocumento:0},async leOnline({entregueInicio:e,entregueFim:o,codigoContato:t}){const a=`\n    select\n    venda.id,\n        venda.codigoDocumento,\n        venda.status,\n        venda.dataHoraEmissao,\n    venda.dataHoraFinalizado,\n        venda.codigoContato,\n        venda.codigoEmpresa,\n        venda.descricaoEmpresa,\n        venda.codigoContatoDigitador,\n        digitador.nome nomeDigitador,\n        venda.codigoContatoVendedor,\n        vendedor.nome nomeVendedor,\n        venda.descricaoContato nomeCliente,\n        venda.numero numeroVenda,\n    CASE \n      WHEN venda.dataHoraFinalizado is null THEN venda.crmFunilStatus\n      ELSE 'Concluído'\n    END AS crmFunilStatus,\n        venda.totalDocumento\n      from documento venda\n      left join contato digitador on digitador.codigoContato = venda.codigoContatoDigitador\n      left join contato vendedor on vendedor.codigoContato = venda.codigoContatoVendedor\n      where\n        (\n    (venda.status = 'Orçamento') or\n    (cast(venda.dataHoraFinalizado as date) between '${new Date(e).toLocaleDateString()}' and '${new Date(o).toLocaleDateString()}' and isnull(venda.status,'') \n      not in ('Não aprovado','Cancelado','Cancelada'))\n    ) \n    and venda.Tipo = 'Venda'\n    ${t?`and (venda.codigoContatoVendedor = ${t} or venda.codigoContatoDigitador = ${t})`:""}`;return(0,d.executarSql)(a)},async leOnlineVendedoresDigitadores({entregueInicio:e,entregueFim:o}){const t=new Date(e).toLocaleDateString(),a=new Date(o).toLocaleDateString(),i=`\n    select\n    venda.codigoContatoDigitador codigo,\n    digitador.nome\n    from documento venda\n    left join contato digitador on digitador.codigoContato = venda.codigoContatoDigitador\n    left join contato vendedor on vendedor.codigoContato = venda.codigoContatoVendedor\n    where\n    (\n    (venda.status = 'Orçamento') or\n    (venda.dataHoraFinalizado between '${t}' and '${a}' and isnull(venda.status,'') \n      not in ('Não aprovado','Cancelado','Cancelada'))\n    ) \n    and venda.Tipo = 'Venda'\n    group by venda.codigoContatoDigitador, digitador.nome\n\n    union\n\n    select\n    venda.codigoContatoVendedor,\n    vendedor.nome\n    from documento venda\n    left join contato digitador on digitador.codigoContato = venda.codigoContatoDigitador\n    left join contato vendedor on vendedor.codigoContato = venda.codigoContatoVendedor\n    where\n    (\n    (venda.status = 'Orçamento') or\n    (venda.dataHoraFinalizado between '${t}' and '${a}' and isnull(venda.status,'') \n      not in ('Não aprovado','Cancelado','Cancelada'))\n    ) \n    and venda.Tipo = 'Venda'\n    group by venda.codigoContatoVendedor, vendedor.nome`;return(0,d.executarSql)(i)},trocaStatusOnline:async e=>(0,d.executarSql)(`set nocount on\n      update documento set\n          crmFunilStatus = ${(0,d.sqlStr)(e.statusNovo)}\n      where codigoDocumento = ${(0,d.sqlNum)(e.codigoDocumento)}\n      insert into documentoStatus (codigoDocumento, codigoDocumentoItem, codigoContatoResponsavel, operacao,\n        statusOriginal, statusFinalizado, dataHoraEmissao, codigoUsuarioAlterou, observacao)\n      values(${(0,d.sqlNum)(e.codigoDocumento)}, NULL, NULL, 'Mudança status CRM',\n        ${(0,d.sqlStr)(e.statusAtual)}, ${(0,d.sqlStr)(e.statusNovo)}, getdate(), ${(0,d.sqlNum)(e.codigoUsuario)}, ${(0,d.sqlStr)(e.observacao,"")})`)},H={vazio:{id:"",tipo:"Custom",operacao:"Normal",status:"",idEmpresa:"",descricaoEmpresa:"",numeroDocumentoEmpresa:"",idContato:"",descricaoContato:"",numeroDocumentoContato:"",idContatoResponsavel:"",dataHoraEmissao:"",dataHoraRealizado:"",dataHoraPrevisto:"",documentoId:"",documentoTipo:"",subTotal:0,totalDocumento:0},async leOnline({entregueInicio:e,entregueFim:o,empresas:t}){let a=[];for(const e of t||[])a.push(`'${e}'`);return a=a.join(","),(0,d.executarSql)(`select\n      custom.id,\n      custom.codigoDocumento,\n      custom.status,\n      custom.dataHoraEmissao,\n      custom.dataHoraPrevisto,\n      custom.dataHoraFinalizado,\n      custom.dataHoraRetorno,\n      custom.codigoContato,\n      custom.descricao,\n      empresa.codigoContato codigoEmpresa,\n      empresa.apelido descricaoEmpresa,\n      custom.codigoContatoVendedor,\n      vendedor.nome nomeVendedor,\n      custom.descricaoContato nomeCliente,\n      fornecedor.codigoContato codigoFornecedor,\n      contatoFornecedor.apelido nomeFornecedor,\n      venda.numero numeroVenda,\n      custom.numero numeroCustom,\n      compra.numero numeroCompra\n    from Documento custom\n    left join documento venda on venda.codigoDocumento = custom.documentoCodigo\n    left join contato vendedor on vendedor.codigoContato = venda.codigoContatoVendedor\n    left join contato empresa on empresa.codigoContato = venda.codigoEmpresa\n    left join documentoContato fornecedor on fornecedor.codigoDocumento = custom.codigoDocumento\n    left join contato contatoFornecedor on contatoFornecedor.codigoContato = fornecedor.codigoContato\n    left join documento compra on compra.codigoDocumento = custom.codigoDocumentoOperacao and compra.tipo = 'Compra'\n    where custom.tipo = 'Custom'\n      ${a?`and custom.idEmpresa in (${a})`:""}\n      and custom.status not in ('Orçamento', 'Cancelado', 'Não aprovado', '')\n      and (custom.status <> 'Entregue' or cast(custom.dataHoraFinalizado as date) between ${(0,d.sqlData)(e)} and ${(0,d.sqlData)(o)})`)},async leProdutosServicos(e){const o=await(0,d.executarSql)(`select\n      codigoDocumento,\n      numero,\n      descricao,\n      observacao\n    from documento custom\n    where custom.codigoDocumento = ${(0,d.sqlNum)(e)}`),t=await(0,d.executarSql)(`select\n      prod.codigoDocumentoItem,\n      prod.descricaoItem,\n      prod.quantidade,\n      prod.codigoItem,\n      prod.observacao,\n      itn.referencia,\n      itn.imagem\n    from documento custom\n    inner join documentoItem prod on prod.codigoDocumentoAdicional = custom.codigoDocumento\n    inner join item itn on itn.codigoItem = prod.codigoItem\n    where custom.codigoDocumento = ${(0,d.sqlNum)(e)}`);return{custom:o.find((e=>e.codigoDocumento))||{},produtos:t}},geraPedidoOnline:async e=>(0,d.executarSql)(`exec sp_compras_pedidoViaCustom '${(0,d.sqlNum)(e.codigoDocumento)}', ${(0,d.sqlNum)(e.codigoUsuario)}`),gravaFornecedorOnline:async e=>(0,d.executarSql)(`set nocount on\n      update documentoContato\n      set codigoContato = ${(0,d.sqlNum)(e.codigoFornecedor)}\n      where descricao = 'Fornecedor' and codigoDocumento = ${(0,d.sqlNum)(e.codigoDocumento)}\n      if @@RowCount = 0\n        insert into documentoContato (codigoContato, descricao, codigoDocumento)\n        values(${(0,d.sqlNum)(e.codigoFornecedor)}, 'Fornecedor', ${(0,d.sqlNum)(e.codigoDocumento)})`),trocaStatusOnline:async e=>(0,d.executarSql)(`set nocount on\n      update documento set \n          status = ${(0,d.sqlStr)(e.statusNovo)},\n          dataHoraFinalizado = case ${(0,d.sqlStr)(e.statusNovo)} when 'Entregue' then getdate() else null end\n        where codigoDocumento = ${(0,d.sqlNum)(e.codigoDocumento)}\n      insert into documentoStatus (codigoDocumento, codigoDocumentoItem, codigoContatoResponsavel, operacao,\n        statusOriginal, statusFinalizado, dataHoraEmissao, codigoUsuarioAlterou, observacao)\n      values(${(0,d.sqlNum)(e.codigoDocumento)}, NULL, ${(0,d.sqlNum)(e.codigoContatoResponsavel)}, 'Mudança status Custom', \n        ${(0,d.sqlStr)(e.statusAtual)}, ${(0,d.sqlStr)(e.statusNovo)}, getdate(), ${(0,d.sqlNum)(e.codigoUsuario)}, ${(0,d.sqlStr)(e.observacao,"")})`)},J={async grava(e,o){await(0,a.X)(o).dispositivoCliente.put(e),await(0,d.sincronismoEnviar)("atualizar","dispositivoCliente",e.id,e,o)}},Y={grava:async e=>{if(e=(0,d.compactarObjeto)(e),Object.keys(e.original||{}).length){const o=(0,d.diferencaObjetos)(e.original,e.atual);Object.keys(o).length&&(await(0,a.X)().documento.update(e.atual.id,o),await(0,d.sincronismoEnviar)("atualizar","documento",e.atual.id,o))}else await(0,a.X)().documento.put(e.atual),await(0,d.sincronismoEnviar)("adicionar","documento",e.atual.id,e.atual)},le:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().documento.get(e.id)||{};let o={};"idContato"in e&&e.idContato&&(o.idContato=e.idContato),"idFatura"in e&&e.idFatura&&(o.idFatura=e.idFatura),"idDocumentoAdicional"in e&&e.idDocumentoAdicional&&(o.idDocumentoAdicional=e.idDocumentoAdicional),"idContatoVendedor"in e&&e.idContatoVendedor&&(o.idContatoVendedor=e.idContatoVendedor),"idContatoDigitador"in e&&e.idContatoDigitador&&(o.idContatoDigitador=e.idContatoDigitador),"idEmpresa"in e&&e.idEmpresa&&(o.idEmpresa=e.idEmpresa),"documentoId"in e&&e.documentoId&&(o.documentoId=e.documentoId),"tipo"in e&&e.tipo&&(o.tipo=e.tipo),"status"in e&&e.status&&(o.status=e.status);let t=(0,a.X)().documento;return Object.keys(o).length&&(t=t.where(o)),e.idCaixa&&(t=t.filter((o=>o.idCaixa===e.idCaixa))),e.documentoTipo&&(t=t.filter((o=>o.documentoTipo===e.documentoTipo))),await t.toArray()||[]},checarConflitoStatus:async(e={})=>{const{id:o}=e;if(await $erp().documento.get(o))for(let o=0;o<2;o++){const{id:o,status:t}=e,a={status:{funcao:"A548FAFD-533C-4580-8965-E1905F93A8A9",id:o}},i={timeout:1e3};if((await $utils.geeksApi(a,i)).data.status!==t)throw new Error("status")}}},X=Y,W={le:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().documentoCondicaoPagamento.get(e.id)||{};let o={};"idDocumento"in e&&e.idDocumento&&(o.idDocumento=e.idDocumento),"idDocumentoCaixa"in e&&e.idDocumentoCaixa&&(o.idDocumentoCaixa=e.idDocumentoCaixa),"idFinanceiroTitulo"in e&&e.idFinanceiroTitulo&&(o.idFinanceiroTitulo=e.idFinanceiroTitulo);let t=[];return t=Object.keys(o).length?await(0,a.X)().documentoCondicaoPagamento.where(o).toArray()||[]:await(0,a.X)().documentoCondicaoPagamento.toArray()||[],e.ordem&&(t=t.filter((o=>o.ordem===e.ordem))),t}},K={vazio:{id:"",idDocumento:"",idContato:"",descricao:"",percentual:0},le:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().documentoContato.get(e.id)||{};let o={};"idDocumento"in e&&e.idDocumento&&(o.idDocumento=e.idDocumento),"idContato"in e&&e.idContato&&(o.idContato=e.idContato);let t=[];return t=Object.keys(o).length?await(0,a.X)().documentoContato.where(o).toArray()||[]:await(0,a.X)().documentoContato.toArray()||[],t}},ee={grava:async e=>{},le:async e=>{if((e=e||{}).id)return(0,a.X)().documentoEndereco.get(e.id)||{};const o={};e.idDocumento&&(o.idDocumento=e.idDocumento),e.idContato&&(o.idContato=e.idContato);let t=[];return t=Object.keys(o).length?await(0,a.X)().contatoEndereco.where(o).toArray()||[]:await(0,a.X)().contatoEndereco.toArray()||[],t}},oe={nomeTabela:"documentoFiscalEletronico",filtrosTabela:["idDocumento","tpAmb","cpfCnpjEmitente","mod","serie","nNF","situacao","tipo"],async le(e={}){if(d.gconsole.log(this.nomeTabela,"le",e),"id"in e)return e.id&&await(0,a.X)()[this.nomeTabela].get(e.id)||{};const o={};for(const t of this.filtrosTabela)if(t in e){if([null,void 0].includes(e[t]))return[];o[t]=e[t]}return Object.keys(o).length?(0,a.X)()[this.nomeTabela].where(o).toArray():(0,a.X)()[this.nomeTabela].toArray()},async grava(e){d.gconsole.log(this.nomeTabela,"grava",e);const o=(0,d.diferencaNivel1)(e.original||{},e.atual);Object.keys(e.original||{}).length?Object.keys(o).length&&(await(0,a.X)()[this.nomeTabela].update(e.atual.id,o),await(0,d.sincronismoEnviar)("atualizar",this.nomeTabela,e.atual.id,o)):(await(0,a.X)()[this.nomeTabela].put(o),await(0,d.sincronismoEnviar)("adicionar",this.nomeTabela,o.id,o))},async remove(e){d.gconsole.log(this.nomeTabela,"remove",e),await(0,a.X)()[this.nomeTabela].delete(e),await(0,d.sincronismoEnviar)("remover",this.nomeTabela,e)},async proximoNumero(e,o,t,i,r){d.gconsole.log(this.nomeTabela,"ultimoNumero",e,o,t,i);let l=0;return await(0,a.X)()[this.nomeTabela].where({tpAmb:e,cpfCnpjEmitente:o,mod:Number(t),serie:Number(i)}).each((e=>{Number(e.nNF)>l&&(l=Number(e.nNF))})),l||(l=await mo.configuracoes.leValorNumericoComFiltroEmpresa("65"===t?"nfce.ultimanota":"nfe.ultimanota",r,0)),l+1}},te={nomeTabela:"documentoFiscalEletronicoErro",filtrosTabela:["idDocumento","idDocumentoFiscalEletronico","chNFe","tpAmb","cpfCnpjEmitente","mod","serie","nNF","situacao"],async le(e={}){if(d.gconsole.log(this.nomeTabela,"le",e),"id"in e)return e.id&&await(0,a.X)()[this.nomeTabela].get(e.id)||{};let o={};for(const t of this.filtrosTabela)if(t in e){if([null,void 0].includes(e[t]))return[];o[t]=e[t]}return Object.keys(o).length?(0,a.X)()[this.nomeTabela].where(o).toArray():(0,a.X)()[this.nomeTabela].toArray()},async grava(e){d.gconsole.log(this.nomeTabela,"grava",e);const o=(0,d.diferencaNivel1)(e.original||{},e.atual);Object.keys(e.original||{}).length?Object.keys(o).length&&(await(0,a.X)()[this.nomeTabela].update(e.atual.id,o),await(0,d.sincronismoEnviar)("atualizar",this.nomeTabela,e.atual.id,o)):(await(0,a.X)()[this.nomeTabela].put(o),await(0,d.sincronismoEnviar)("adicionar",this.nomeTabela,o.id,o))},async remove(e){d.gconsole.log(this.nomeTabela,"remove",e),await(0,a.X)()[this.nomeTabela].delete(e),await(0,d.sincronismoEnviar)("remover",this.nomeTabela,e)}},ae={nomeTabela:"documentoFiscalEletronicoXml",filtrosTabela:["idDocumento","idDocumentoFiscalEletronico","status","situacao"],async le(e={}){if(d.gconsole.log(this.nomeTabela,"le",e),"id"in e)return e.id&&await(0,a.X)()[this.nomeTabela].get(e.id)||{};let o={};for(const t of this.filtrosTabela)if(t in e){if([null,void 0].includes(e[t]))return[];o[t]=e[t]}return Object.keys(o).length?(0,a.X)()[this.nomeTabela].where(o).toArray():(0,a.X)()[this.nomeTabela].toArray()},async grava(e){d.gconsole.log(this.nomeTabela,"grava",e);const o=(0,d.diferencaNivel1)(e.original||{},e.atual);Object.keys(e.original||{}).length?Object.keys(o).length&&(await(0,a.X)()[this.nomeTabela].update(e.atual.id,o),await(0,d.sincronismoEnviar)("atualizar",this.nomeTabela,e.atual.id,o)):(await(0,a.X)()[this.nomeTabela].put(o),await(0,d.sincronismoEnviar)("adicionar",this.nomeTabela,o.id,o))},async remove(e){d.gconsole.log(this.nomeTabela,"remove",e),await(0,a.X)()[this.nomeTabela].delete(e),await(0,d.sincronismoEnviar)("remover",this.nomeTabela,e)},async proximoNumeroSequencialEvento(e,o){d.gconsole.log(this.nomeTabela,"proximoNumeroSequencialEvento",e,o);let t=0;return await(0,a.X)()[this.nomeTabela].where({idDocumentoFiscalEletronico:e,operacao:o}).each((e=>{Number(e.nSeqEvento)>t&&(t=Number(e.nSeqEvento))})),t+1}},ie={grava:async e=>{if(e=(0,d.compactarObjeto)(e),Object.keys(e.original||{}).length){const o=(0,d.diferencaObjetos)(e.original,e.atual);Object.keys(o).length&&(await(0,a.X)().documentoItem.update(e.atual.id,o),await(0,d.sincronismoEnviar)("atualizar","documentoItem",e.atual.id,o))}else await(0,a.X)().documentoItem.put(e.atual),await(0,d.sincronismoEnviar)("adicionar","documentoItem",e.atual.id,e.atual)},leNew:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().documentoItem.get(e.id)||{};let o={};if("idDocumento"in e){if(!e.idDocumento)return[];o.idDocumento=e.idDocumento}if("idDocumentoAdicional"in e){if(!e.idDocumentoAdicional)return[];o.idDocumentoAdicional=e.idDocumentoAdicional}if("idItem"in e){if(!e.idItem)return[];o.idItem=e.idItem}if("tipoItem"in e){if(!e.tipoItem)return[];o.tipoItem=e.tipoItem}let t=await(0,a.X)().documentoItem.where(o);return await t.toArray()||[]},le:async e=>{if((e=e||{}).id)return await(0,a.X)().documentoItem.get(e.id)||{};if(e.idDocumento)return await(0,a.X)().documentoItem.where({idDocumento:e.idDocumento}).toArray()||[];if(e.idDocumentoAdicional)return await(0,a.X)().documentoItem.where({idDocumentoAdicional:e.idDocumentoAdicional}).toArray()||[];let o=await(0,a.X)().documentoItem.toArray()||[];return e.tipoItem&&(o=o.filter((o=>o.tipoItem===e.tipoItem))),o}},re={gravar:async e=>{if(e=$utils.compactarObjeto(e),Object.keys(e.original||{}).length){const o=$utils.diferencaObjetos(e.original,e.atual);Object.keys(o).length&&(await(0,a.X)().documentoOperacao.update(e.original.id,o),await $utils.sincronismoEnviar("atualizar","documentoOperacao",e.original.id,o))}else await(0,a.X)().documentoOperacao.put(e.atual),await $utils.sincronismoEnviar("adicionar","documentoOperacao",e.atual.id,e.atual)},le:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().documentoOperacao.get(e.id)||{};let o=await(0,a.X)().documentoOperacao.toArray()||[];return e.codigoDocumentoOperacao&&(o=o.filter((o=>parseInt(o.codigoDocumentoOperacao)===e.codigoDocumentoOperacao))),o},ler:async(e={})=>{if(e.id){return await(0,a.X)().documentoOperacao.get(e.id)||{}}let o=null;for(const t of Object.keys(e).filter((e=>"id"!==e))){if(~[void 0,null].indexOf(e[t]))continue;if(o){o=o.filter((o=>o[t]===e[t]));continue}const i={};i[t]=e[t],o=await(0,a.X)().documentoOperacao.where(i).toArray()}return o||await(0,a.X)().documentoOperacao.toArray()},remover:async e=>{await(0,a.X)().documentoOperacao.delete(e.id),await $utils.sincronismoEnviar("remover","documentoOperacao",e.id)}},le={grava:async e=>{if(e=(0,d.compactarObjeto)(e),Object.keys(e.original||{}).length){const o=(0,d.diferencaObjetos)(e.original,e.atual);Object.keys(o).length&&(await(0,a.X)().documentoSat.update(e.atual.id,o),await(0,d.sincronismoEnviar)("atualizar","documentoSat",e.atual.id,o))}else await(0,a.X)().documentoSat.put(e.atual),await(0,d.sincronismoEnviar)("adicionar","documentoSat",e.atual.id,e.atual)},le:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().documentoSat.get(e.id)||{};let o={};"idDocumento"in e&&e.idDocumento&&(o.idDocumento=e.idDocumento);let t=(0,a.X)().documentoSat;return Object.keys(o).length&&(t=t.where(o)),await t.toArray()||[]}},se={grava:async e=>{if(e=(0,d.compactarObjeto)(e),Object.keys(e.original||{}).length){const o=(0,d.diferencaObjetos)(e.original,e.atual);Object.keys(o).length&&(await(0,a.X)().documentoStatus.update(e.atual.id,o),await(0,d.sincronismoEnviar)("atualizar","documentoStatus",e.atual.id,o))}else await(0,a.X)().documentoStatus.put(e.atual),await(0,d.sincronismoEnviar)("adicionar","documentoStatus",e.atual.id,e.atual)},le:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().documentoStatus.get(e.id)||{};let o={};"idDocumento"in e&&e.idDocumento&&(o.idDocumento=e.idDocumento),"idDocumentoCaixa"in e&&e.idDocumentoCaixa&&(o.idDocumentoCaixa=e.idDocumentoCaixa),"idDocumentoItem"in e&&e.idDocumentoItem&&(o.idDocumentoItem=e.idDocumentoItem),"idContatoResponsavel"in e&&e.idContatoResponsavel&&(o.idContatoResponsavel=e.idContatoResponsavel),"idUsuarioAlterou"in e&&e.idUsuarioAlterou&&(o.idUsuarioAlterou=e.idUsuarioAlterou);let t=[];return t=Object.keys(o).length?await(0,a.X)().documentoStatus.where(o).toArray()||[]:await(0,a.X)().documentoStatus.toArray()||[],e.operacao&&(t=t.filter((o=>o.operacao===e.operacao))),t},async leHistoricoOnline(e){(0,d.verificarExcecao)(!e,"Não foi possível encontrar o id do documento.");const o=Number.isInteger(Number(e)),t=await(0,d.executarSql)("select\n        codigoDocumentoStatus,\n        statusOriginal,\n        statusFinalizado,\n        dataHoraEmissao,\n        observacao,\n        codigoUsuarioAlterou\n      from documentoStatus\n      where "+(o?"codigoDocumento":"idDocumento")+` = '${e}'\n      order by dataHoraEmissao desc`),a={};for(const e of(0,c.uniq)(t.map((e=>e.codigoUsuarioAlterou)))){if(!(0,d.isNumber)(e)||!e||a[e])continue;let o=await(0,d.executarSql)(`select top 1\n          codigoContato,\n          nome,\n          imagem\n        from contato\n        where codigoUsuario = ${(0,d.sqlNum)(e)}\n        order by dataCadastro desc`);o.find((e=>e.codigoContato))||(o=await(0,d.executarSql)(`select top 1\n            codigoContato,\n            nome,\n            imagem\n          from contato\n          where codigoContato = ${(0,d.sqlNum)(e)}\n            and codigoUsuario is not null\n          order by dataCadastro desc`)),o=o.find((e=>e.codigoContato));let t="Usuário não encontrado",i="";o&&o.codigoContato&&(t=o.nome||"Nome não encontrado",i=o.imagem||""),a[e]={nome:t,imagem:i}}return{status:t,contatos:a}}},ne=se,ce={grava:()=>{},le:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().empresa.get(e.id)||{};let o={};"idContato"in e&&e.idContato&&(o.idContato=e.idContato);let t=(0,a.X)().empresa;return Object.keys(o).length&&(t=t.where(o)),t.toArray()||[]},leOnline:async(e={})=>(0,d.executarSql)("select codigoContato, nome, numeroDocumentoNacional from empresa"),leOnlinePlat:async(e={})=>"codigoClienteSistema"in e?(0,d.executarSql)(`\n        select\n          id,\n          codigoEmpresa,\n          idContato,\n          codigoContato,\n          idClienteSistema,\n          codigoClienteSistema,\n          nome,\n          apelido,\n          numeroDocumentoNacional,\n          numeroDocumentoEstadual,\n          dataCadastro,\n          hashCSCHomologacao,\n          tokenCSCHomologacao,\n          hashCSCProducao,\n          tokenCSCProducao,\n          tokenIBPT,\n          nSerieCert,\n          ativo,\n          sigla,\n          codigoPai,\n          idPai,\n          corPrincipal,\n          corSecundaria\n        from empresa \n        where codigoClienteSistema=${(0,d.sqlNum)(e.codigoClienteSistema)}\n        order by apelido`,"GeeksPlat15A"):{},gravaOnline:async({atual:e})=>{const o=`\nupdate empresa set\n  idContato=${(0,d.sqlStr)(e.idContato)},\n  idClienteSistema=${(0,d.sqlStr)(e.idClienteSistema)},\n  codigoClienteSistema=${(0,d.sqlNum)(e.codigoClienteSistema)},\n  nome=${(0,d.sqlStr)(e.nome)},\n  apelido=${(0,d.sqlStr)(e.apelido)},\n  numeroDocumentoNacional=${(0,d.sqlStr)(e.numeroDocumentoNacional)},\n  numeroDocumentoEstadual=${(0,d.sqlStr)(e.numeroDocumentoEstadual)},\n  hashCSCHomologacao=${(0,d.sqlStr)(e.hashCSCHomologacao)},\n  tokenCSCHomologacao=${(0,d.sqlStr)(e.tokenCSCHomologacao)},\n  hashCSCProducao=${(0,d.sqlStr)(e.hashCSCProducao)},\n  tokenCSCProducao=${(0,d.sqlStr)(e.tokenCSCProducao)},\n  tokenIBPT=${(0,d.sqlStr)(e.tokenIBPT)},\n  nSerieCert=${(0,d.sqlStr)(e.nSerieCert)},\n  ativo=${(0,d.sqlStr)(e.ativo)},\n  sigla=${(0,d.sqlStr)(e.sigla)},\n  codigoPai=${(0,d.sqlStr)(e.codigoPai)},\n  idPai=${(0,d.sqlStr)(e.idPai)},\n  corPrincipal=${(0,d.sqlStr)(e.corPrincipal)},\n  corSecundaria=${(0,d.sqlStr)(e.corSecundaria)}\nwhere codigoContato=${(0,d.sqlNum)(e.codigoContato)}\n  and (codigoClienteSistema=${(0,d.sqlNum)(e.codigoClienteSistema)}\n   or codigoClienteSistema is null)\n\nif @@rowcount = 0\nbegin\n  insert empresa(\n    idContato,\n    codigoContato,\n    idClienteSistema,\n    codigoClienteSistema,\n    nome,\n    apelido,\n    numeroDocumentoNacional,\n    numeroDocumentoEstadual,\n    dataCadastro,\n    hashCSCHomologacao,\n    tokenCSCHomologacao,\n    hashCSCProducao,\n    tokenCSCProducao,\n    tokenIBPT,\n    nSerieCert)\n  values(\n    ${(0,d.sqlStr)(e.idContato)},\n    ${(0,d.sqlNum)(e.codigoContato)},\n    ${(0,d.sqlStr)(e.idClienteSistema)},\n    ${(0,d.sqlNum)(e.codigoClienteSistema)},\n    ${(0,d.sqlStr)(e.nome)},\n    ${(0,d.sqlStr)(e.apelido)},\n    ${(0,d.sqlStr)(e.numeroDocumentoNacional)},\n    ${(0,d.sqlStr)(e.numeroDocumentoEstadual)},\n    getdate(),\n    ${(0,d.sqlStr)(e.hashCSCHomologacao)},\n    ${(0,d.sqlStr)(e.tokenCSCHomologacao)},\n    ${(0,d.sqlStr)(e.hashCSCProducao)},\n    ${(0,d.sqlStr)(e.tokenCSCProducao)},\n    ${(0,d.sqlStr)(e.tokenIBPT)},\n    ${(0,d.sqlStr)(e.nSerieCert)})\nend`;await(0,d.executarSql)(o),await(0,d.executarSql)(o,"GeeksPlat15A")},removeOnline:async e=>{const o=`\ndeclare @codigoEmpresa int\nselect top 1 @codigoEmpresa=codigoEmpresa\nfrom empresa\nwhere codigoContato=${(0,d.sqlNum)(e.codigoContato)}\n  and (codigoClienteSistema=${(0,d.sqlNum)(e.codigoClienteSistema)}\n   or codigoClienteSistema is null) \ndelete empresaUsuarioPermissao where codigoEmpresa=@codigoEmpresa \ndelete empresa where codigoEmpresa=@codigoEmpresa`;await(0,d.executarSql)(o),await(0,d.executarSql)(o,"GeeksPlat15A")}},de={vazio:{id:"",tipo:"Envelope",operacao:"Normal",status:"",idEmpresa:"",descricaoEmpresa:"",numeroDocumentoEmpresa:"",idContato:"",descricaoContato:"",numeroDocumentoContato:"",idContatoResponsavel:"",dataHoraEmissao:"",dataHoraRealizado:"",dataHoraPrevisto:"",documentoId:"",documentoTipo:"",subTotal:0,totalDocumento:0},grava:()=>{},le:async e=>{},trocaStatusOnline:async e=>(0,d.executarSql)(`set nocount on\n      update documento set \n          status = ${(0,d.sqlStr)(e.statusNovo)},\n          dataHoraFinalizado = case ${(0,d.sqlStr)(e.statusNovo)} when 'Entregue' then getdate() else null end\n        where tipo='Envelope' and codigoDocumento = ${(0,d.sqlNum)(e.codigoDocumento)}\n      insert into documentoStatus (codigoDocumento, codigoDocumentoItem, codigoContatoResponsavel, operacao,\n        statusOriginal, statusFinalizado, dataHoraEmissao, codigoUsuarioAlterou, observacao)\n      values(${(0,d.sqlNum)(e.codigoDocumento)}, NULL, ${(0,d.sqlNum)(e.codigoContatoResponsavel)}, 'Mudança status envelope', \n        ${(0,d.sqlStr)(e.statusAtual)}, ${(0,d.sqlStr)(e.statusNovo)}, getdate(), ${(0,d.sqlNum)(e.codigoUsuario)}, ${(0,d.sqlStr)(e.observacao,"")})`),gravaLaboratorioOnline:async e=>(0,d.executarSql)(`set nocount on\n      update documentoContato\n      set codigoContato=${(0,d.sqlNum)(e.codigoLaboratorio)} \n      where descricao='Laboratório' and codigoDocumento=${(0,d.sqlNum)(e.codigoDocumento)}\n      if @@RowCount = 0\n        insert into documentoContato (codigoContato, descricao, codigoDocumento)\n        values(${(0,d.sqlNum)(e.codigoLaboratorio)}, 'Laboratório', ${(0,d.sqlNum)(e.codigoDocumento)})\n      select top 1 numeroDocumentoNacional cnpjLaboratorio from contato where codigoContato=${(0,d.sqlNum)(e.codigoLaboratorio)}`),comprasPedidoViaEnvelopeOnline:async e=>(0,d.executarSql)(`exec Sp_Compras_PedidoViaEnvelope '${(0,d.sqlNum)(e.codigoDocumento)}', ${(0,d.sqlNum)(e.codigoUsuario)}`),calculaTotal:async function({envelope:e,itensEnvelope:o,campoAlterado:t}){let a=0;for(const e of o)a+=e.valorItem;if(e.subTotal=$utils.arredondar(a),void 0===t){e.totalDesconto=0;for(const t of o)e.totalDesconto=$utils.arredondar(e.totalDesconto+t.descontoItem);e.totalPercentualDesconto=$utils.arredondar(e.totalDesconto/e.subTotal*100)}"desconto"===t&&(e.totalPercentualDesconto=$utils.arredondar(e.totalDesconto/e.subTotal*100)),"descontoPercentual"===t&&(e.totalDesconto=$utils.arredondar(e.totalPercentualDesconto/100*e.subTotal));let i=$utils.arredondar(e.subTotal-e.totalDesconto);if(i>e.subTotal){let t=0;for(const e of o)e.total=e.valorItem,e.descontoItem=e.descontoPercentualItem=0,t+=e.valorItem;e.totalDocumento=e.subTotal=$utils.arredondar(t),e.totalDesconto=e.totalPercentualDesconto=0}if(e.totalDocumento=i,t&&o.length){const t=[];for(const e of o)t.push({id:e.id,valorItem:e.valorItem});t.sort(((e,o)=>e.valorItem<o.valorItem?-1:1));let a=0;for(const o of t)o.descontoItem=(o.valorItem*e.totalPercentualDesconto|0)/100,a+=o.descontoItem;const i=$utils.arredondar(a)-e.totalDesconto;i&&(t[t.length-1].descontoItem-=i,t[t.length-1].descontoItem=$utils.arredondar(t[t.length-1].descontoItem));for(const a of o)a.descontoPercentualItem=e.totalPercentualDesconto,a.descontoItem=(t.find((e=>e.id===a.id))||{}).descontoItem,a.subTotal=$utils.arredondar(a.valorItem-a.descontoItem),a.total=a.subTotal,a.valorReal=a.subTotal,a.valorRealTotal=a.subTotal}return{envelope:e,itensEnvelope:o}},calculaTotalItem:async function({envelope:e,itemEnvelope:o,campoAlterado:t}){"descontoPercentualItem"===t&&(o.descontoItem=$utils.arredondar(o.descontoPercentualItem/100*o.valorItem)),"descontoItem"===t&&(o.descontoPercentualItem=$utils.arredondar(o.descontoItem/o.valorItem*100)),"valorItem"===t&&(o.valorItem<o.valorOriginal&&(o.valorItem=o.valorOriginal),o.descontoItem=0,o.descontoPercentualItem=0,o.subTotal=o.valorItem);let a=o.valorItem-o.descontoItem;return $utils.arredondar(a)>$utils.arredondar(o.valorItem)&&(a=o.valorItem,o.descontoPercentualItem=o.descontoItem=0),o.subTotal=$utils.arredondar(a*o.quantidade),o.total=o.subTotal,o.valorReal=$utils.arredondar(a),o.valorRealTotal=o.total,{itemEnvelope:o}}},me={nomeTabela:"equipamento",filtrosTabela:["idItem","idContato"],le:f,grava:N,remove:V};var ue=t(82916);const pe={le:async function(e){if("id"in(e=e||{}))return e.id&&await(0,a.X)().estoqueSaldoProdutoEmpresa.get(e.id)||{};let o={};"idItem"in e&&e.idItem&&(o.idItem=e.idItem),"idEmpresa"in e&&e.idEmpresa&&(o.idEmpresa=e.idEmpresa),"tipoEstoque"in e&&e.tipoEstoque&&(o.tipoEstoque=e.tipoEstoque);let t=(0,a.X)().estoqueSaldoProdutoEmpresa.where(o);return await t.toArray()||[]},leEstoquePorEmpresa:async function(e,o){let t=[];if(e)try{const i=((await(0,d.geeksApi)({estoque:{funcao:"CC9F3B9A-16B9-4AE8-A523-938E4433AFAA",idItem:e,idEmpresa:o}})||{}).data||{}).estoque||[],r=Array.from(new Set(i.map((e=>e.codigoEmpresa))));r.sort(((e,o)=>e.codigoEmpresa<o.codigoEmpresa?-1:1));for(const e of r){const o=(i.find((o=>o.codigoEmpresa===e))||{}).idEmpresa;t.push({codigoEmpresa:e,estoquePorLote:i.filter((o=>o.codigoEmpresa===e)),nomeEmpresa:(await(0,a.X)().contato.get(o)||{}).apelido})}}catch(o){const a=await(0,ue.rb)().list("estoqueSaldoProdutoEmpresa",{filter:{idItem:e}});let i,r={};for(const e of a){if(i=r[e.idEmpresa],void 0===i){const o=await(0,ue.rb)().get("contato",e.idEmpresa);i=t.push({codigoEmpresa:o.codigoContato,nomeEmpresa:o.apelido||"",estoquePorLote:[]})-1,r[e.idEmpresa]=i}t[i].estoquePorLote.push(e)}}return t}},he={grava:async e=>{if(e=(0,d.compactarObjeto)(e),await(0,d.processarFilho)("documentoItem",e.documentoItensOriginal||[],e.documentoItens||[]),await(0,d.processarFilho)("documentoCondicaoPagamento",e.condicaoPagamentoOriginal||[],e.condicaoPagamento||[]),await(0,d.processarFilho)("documentoStatus",[],e.documentoStatus||[]),await(0,d.processarFilho)("documento",e.vendasOriginal||[],e.vendas||[]),await(0,d.processarFilho)("documento",e.envelopesOriginal||[],e.envelopes||[]),await(0,d.processarFilho)("financeiroTitulo",e.financeiroTituloOriginal||[],e.financeiroTitulo||[]),await(0,d.processarFilho)("financeiroMovimentacao",[],e.financeiroMovimentacao||[]),await(0,d.processarFilho)("financeiroRenegociacao",[],e.financeiroRenegociacao||[]),Object.keys(e.faturaOriginal||{}).length){const o=(0,d.diferencaObjetos)(e.faturaOriginal,e.fatura);Object.keys(o).length&&(await(0,a.X)().documento.update(e.fatura.id,o),await(0,d.sincronismoEnviar)("atualizar","documento",e.fatura.id,o))}else await(0,a.X)().documento.put(e.fatura),await(0,d.sincronismoEnviar)("adicionar","documento",e.fatura.id,e.fatura)},leNew:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().documento.get(e.id)||{};let o={tipo:"Fatura"};"idContato"in e&&e.idContato&&(o.idContato=e.idContato),"idDocumentoAdicional"in e&&e.idDocumentoAdicional&&(o.idDocumentoAdicional=e.idDocumentoAdicional),"idContatoVendedor"in e&&e.idContatoVendedor&&(o.idContatoVendedor=e.idContatoVendedor),"idContatoDigitador"in e&&e.idContatoDigitador&&(o.idContatoDigitador=e.idContatoDigitador),"idEmpresa"in e&&e.idEmpresa&&(o.idEmpresa=e.idEmpresa),"documentoId"in e&&e.documentoId&&(o.documentoId=e.documentoId),"status"in e&&e.status&&(o.status=e.status);let t=(0,a.X)().documento.where(o);return e.or&&(t=t.filter((o=>{for(const t in e.or)if(e.or[t]&&o[t]===e.or[t])return!0;return!1}))),e.and&&(t=t.filter((o=>{for(const t in e.and)if(e.and[t]&&o[t]!==e.and[t])return!1;return!0}))),await t.toArray()||[]},le:async({filtros:e,colunas:o})=>{e=e||{};let t=[];if("offline"===localStorage.getItem("rede")){if(e.id)return(0,a.X)().documento.get(e.id)||{};delete e.id,t=await(0,a.X)().documento.toArray()||[],t=t.filter((e=>"Fatura"===e.tipo)),t=t.filter((o=>{let t=!0;for(const a in e)if(o[a]!==e[a]){t=!1;break}return t}))}else{let a="";for(const o in e)a+=`${o} = '${e[o]}' and `;a+=" tipo='Fatura'";let i=`select top 30 ${o.split(" ").join(", ")} from documento where ${a}`;t=await(0,d.executarSql)(i,"x_req48473u")}return t.slice(0,30)},leCompleto:async e=>{let o={};return o.fatura=e&&await(0,a.X)().documento.get(e)||{},o.condicaoPagamento=e&&await(0,a.X)().documentoCondicaoPagamento.where({idDocumento:e}).toArray()||[],o.vendas=[],o.carnes=[],o.fatura.id&&(o.vendas=await(0,a.X)().documento.where({idFatura:o.fatura.id}).toArray()||[],o.carnes=await(0,a.X)().financeiroTitulo.where({idFatura:o.fatura.id}).toArray()||[]),o},checarTitulosLiquidados:async(e={})=>{const{condicoesPagamento:o}=e,t=[];let a=!1;for(const e of o){const o=await $db.financeiroTitulo.le({id:e.idFinanceiroTitulo});o&&t.push(o)}if(t.find((e=>e.dataPagamento&&e.idFatura&&e.documentoId!==e.idFatura))&&(a=!0),!a){const e=await $db.permissao.objeto("Diretiva_Vendas_Reabertura_EstornaTitulosLiquidados");t.find((e=>e.dataPagamento))&&!e&&(a=!0)}if(a)throw new Error("Título liquidado encontrado. Não é possível excluir o financeiro.")},criar:e=>({id:(0,d.uuid)(),dataHoraEmissao:(0,d.dataAtual)(),calcularAutomatico:"Sim",tipo:"Fatura",operacao:"Faturamento",status:"Aberta",tipoFrete:"CIF",freteSeparado:!1,totalDesconto:0,totalPercentualDesconto:0,subTotal:e.subTotal||0,totalDocumento:e.totalDocumento||0,idEmpresa:e.idEmpresa||"",idEmpresaEndereco:e.idEmpresaEndereco||"",descricaoEmpresa:e.descricaoEmpresa||"",numeroDocumentoEmpresa:e.numeroDocumentoEmpresa||"",inscricaoMunicipalEmpresa:e.inscricaoMunicipalEmpresa||"",codigoMunicipioEmpresa:e.codigoMunicipioEmpresa||"",optanteSimplesNacional:e.optanteSimplesNacional||"",idContato:e.idContato||"",idContatoEndereco:e.idContatoEndereco||"",numeroDocumentoContato:e.numeroDocumentoContato||"",descricaoContato:e.descricaoContato||"",descricaoContatoEndereco:e.descricaoContatoEndereco||"",telefoneContato:e.telefoneContato||"",emailContato:e.emailContato||"",regimeContato:e.regimeContato||""}),remover:async e=>{await(0,a.X)().documento.delete(e),await(0,d.sincronismoEnviar)("remover","documento",e)},obterAbertas:(e,o)=>(0,a.X)().documento.where({idContato:e,idEmpresa:o,tipo:"Fatura",status:"Aberta"}).toArray()},Ce=he,ve={grava:async e=>{if(e=(0,d.compactarObjeto)(e),Object.keys(e.original||{}).length){const o=(0,d.diferencaObjetos)(e.original,e.atual);Object.keys(o).length&&(await(0,a.X)().financeiroBanco.update(e.atual.id,o),await(0,d.sincronismoEnviar)("atualizar","financeiroBanco",e.atual.id,o))}else await(0,a.X)().financeiroBanco.put(e.atual),await(0,d.sincronismoEnviar)("adicionar","financeiroBanco",e.atual.id,e.atual)},le:async e=>(e=e||{}).id?await(0,a.X)().financeiroBanco.get(e.id)||{}:[],remove:async e=>{for(const o of e)await(0,a.X)().financeiroBanco.delete(o.id),await(0,d.sincronismoEnviar)("remover","financeiroBanco",o.id)}},fe=ve,Ne={grava:async e=>{if(e=(0,d.compactarObjeto)(e),Object.keys(e.original||{}).length){const o=(0,d.diferencaObjetos)(e.original,e.atual);Object.keys(o).length&&(await(0,a.X)().financeiroBoleto.update(e.atual.id,o),await(0,d.sincronismoEnviar)("atualizar","financeiroBoleto",e.atual.id,o))}else await(0,a.X)().financeiroBoleto.put(e.atual),await(0,d.sincronismoEnviar)("adicionar","financeiroBoleto",e.atual.id,e.atual)},le:async e=>(e=e||{}).id?await(0,a.X)().financeiroBoleto.get(e.id)||{}:[],remove:async e=>{for(const o of e)await(0,a.X)().financeiroBoleto.delete(o.id),await(0,d.sincronismoEnviar)("remover","financeiroBoleto",o.id)}},Ve=Ne,ge={grava:async e=>{if(e=(0,d.compactarObjeto)(e),Object.keys(e.original||{}).length){const o=(0,d.diferencaObjetos)(e.original,e.atual);Object.keys(o).length&&(await(0,a.X)().financeiroBoletoTitulo.update(e.atual.id,o),await(0,d.sincronismoEnviar)("atualizar","financeiroBoletoTitulo",e.atual.id,o))}else await(0,a.X)().financeiroBoletoTitulo.put(e.atual),await(0,d.sincronismoEnviar)("adicionar","financeiroBoletoTitulo",e.atual.id,e.atual)},le:async e=>(e=e||{}).id?await(0,a.X)().financeiroBoletoTitulo.get(e.id)||{}:[],remove:async e=>{for(const o of e)await(0,a.X)().financeiroBoletoTitulo.delete(o.id),await(0,d.sincronismoEnviar)("remover","financeiroBoletoTitulo",o.id)}},xe=ge,be={grava:async e=>{if(e=(0,d.compactarObjeto)(e),Object.keys(e.original||{}).length){const o=(0,d.diferencaObjetos)(e.original,e.atual);Object.keys(o).length&&(await(0,a.X)().financeiroMovimentacao.update(e.atual.id,o),await(0,d.sincronismoEnviar)("atualizar","financeiroMovimentacao",e.atual.id,o))}else await(0,a.X)().financeiroMovimentacao.put(e.atual),await(0,d.sincronismoEnviar)("adicionar","financeiroMovimentacao",e.atual.id,e.atual)},lerV2:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().financeiroMovimentacao.get(e.id)||{};let o={};"idDocumentoCaixa"in e&&e.idDocumentoCaixa&&(o.idDocumentoCaixa=e.idDocumentoCaixa),"idFinanceiroPlanoConta"in e&&e.idFinanceiroPlanoConta&&(o.idFinanceiroPlanoConta=e.idFinanceiroPlanoConta),"idFinanceiroMovimentacaoN"in e&&e.idFinanceiroMovimentacaoN&&(o.idFinanceiroMovimentacaoN=e.idFinanceiroMovimentacaoN),"documentoId"in e&&e.documentoId&&(o.documentoId=e.documentoId),"documentoTipo"in e&&e.documentoTipo&&(o.documentoTipo=e.documentoTipo);let t=(0,a.X)().financeiroMovimentacao.where(o);return await t.toArray()||[]},le:async e=>{let o={};"idDocumentoCaixa"in(e=e||{})&&e.idDocumentoCaixa&&(o.idDocumentoCaixa=e.idDocumentoCaixa),"idFinanceiroPlanoConta"in e&&e.idFinanceiroPlanoConta&&(o.idFinanceiroPlanoConta=e.idFinanceiroPlanoConta);let t=[];return t=Object.keys(o).length?await(0,a.X)().financeiroMovimentacao.where(o).toArray()||[]:await(0,a.X)().financeiroMovimentacao.toArray()||[],e.idFinanceiroMovimentacaoN&&(t=t.filter((o=>o.idFinanceiroMovimentacaoN===e.idFinanceiroMovimentacaoN))),e.documentoId&&(t=t.filter((o=>o.documentoId===e.documentoId))),e.documentoTipo&&(t=t.filter((o=>o.documentoTipo===e.documentoTipo))),t},remove:async e=>{for(const o of e)await(0,a.X)().financeiroMovimentacao.delete(o.id),await(0,d.sincronismoEnviar)("remover","financeiroMovimentacao",o.id)}},we=be,_e={grava:async e=>{if(e=(0,d.compactarObjeto)(e),Object.keys(e.original||{}).length){const o=(0,d.diferencaObjetos)(e.original,e.atual);Object.keys(o).length&&(await(0,a.X)().financeiroMovimentacaoN.update(e.atual.id,o),await(0,d.sincronismoEnviar)("atualizar","financeiroMovimentacaoN",e.atual.id,o))}else await(0,a.X)().financeiroMovimentacaoN.put(e.atual),await(0,d.sincronismoEnviar)("adicionar","financeiroMovimentacaoN",e.atual.id,e.atual)},le:async e=>{}},ye={grava:async()=>{},le:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().financeiroPlanoConta.get(e.id)||{};let o=await(0,a.X)().financeiroPlanoConta.toArray()||[];if(e.codigoFinanceiroPlanoConta){const t=o.filter((o=>o.codigoFinanceiroPlanoConta===e.codigoFinanceiroPlanoConta));return t.length?t[0]:{}}return Object.keys(e.despesa||{}).length&&(o=o.filter((o=>o.ativo&&"DESPESA"===(o.classificacao||"")&&!/inconsist|título/g.test((o.descricao||"").toLowerCase())&&(!o.idEmpresaConta||o.idEmpresaConta===e.despesa.idContatoEmpresa)))),o}},Ie={grava:async e=>{if(e=(0,d.compactarObjeto)(e),Object.keys(e.original||{}).length){const o=(0,d.diferencaObjetos)(e.original,e.atual);Object.keys(o).length&&(await(0,a.X)().financeiroRenegociacao.update(e.atual.id,o),await(0,d.sincronismoEnviar)("atualizar","financeiroRenegociacao",e.atual.id,o))}else await(0,a.X)().financeiroRenegociacao.put(e.atual),await(0,d.sincronismoEnviar)("adicionar","financeiroRenegociacao",e.atual.id,e.atual)},le:async e=>{if((e=e||{}).id)return await(0,a.X)().financeiroRenegociacao.get(e.id)||{};let o=[];return e.idFinanceiroMovimentacaoN&&(o=await(0,a.X)().financeiroMovimentacao.where({idFinanceiroMovimentacaoN:e.idFinanceiroMovimentacaoN}).toArray()||[]),o},remove:async e=>{for(const o of e)await(0,a.X)().financeiroRenegociacao.delete(o.id),await(0,d.sincronismoEnviar)("remover","financeiroRenegociacao",o.id)}},Ee=Ie,Se={grava:async e=>{if(e=(0,d.compactarObjeto)(e),Object.keys(e.original||{}).length){const o=(0,d.diferencaObjetos)(e.original,e.atual);Object.keys(o).length&&(await(0,a.X)().financeiroTitulo.update(e.original.id,o),await(0,d.sincronismoEnviar)("atualizar","financeiroTitulo",e.original.id,o))}else await(0,a.X)().financeiroTitulo.put(e.atual),await(0,d.sincronismoEnviar)("adicionar","financeiroTitulo",e.atual.id,e.atual)},le:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().financeiroTitulo.get(e.id)||{};if(e.idDocumentoCaixa&&e.idDocumentoCaixaLiquidacao)return await(0,a.X)().financeiroTitulo.where("idDocumentoCaixa").equals(e.idDocumentoCaixa).or("idDocumentoCaixaLiquidacao").equals(e.idDocumentoCaixaLiquidacao).toArray()||[];let o={};"idContato"in e&&e.idContato&&(o.idContato=e.idContato),"idFatura"in e&&e.idFatura&&(o.idFatura=e.idFatura),"documentoId"in e&&e.documentoId&&(o.documentoId=e.documentoId),"idFinanceiroBoleto"in e&&e.idFinanceiroBoleto&&(o.idFinanceiroBoleto=e.idFinanceiroBoleto),"idDocumentoCaixa"in e&&e.idDocumentoCaixa&&(o.idDocumentoCaixa=e.idDocumentoCaixa),"idDocumentoCaixaLiquidacao"in e&&e.idDocumentoCaixaLiquidacao&&(o.idDocumentoCaixaLiquidacao=e.idDocumentoCaixaLiquidacao);let t=[];return t=Object.keys(o).length?await(0,a.X)().financeiroTitulo.where(o).toArray()||[]:await(0,a.X)().financeiroTitulo.toArray()||[],!0===e.emAberto&&(t=t.filter((e=>!!e.receberPagar&&!e.dataPagamento))),!1===e.emAberto&&(t=t.filter((e=>!!e.receberPagar&&!!e.dataPagamento))),t},remove:async e=>{for(const o of e)await(0,a.X)().financeiroTitulo.delete(o.id),await(0,d.sincronismoEnviar)("remover","financeiroTitulo",o.id)}},Me=Se,Te={grava:()=>{},le:async e=>(e=e||{}).id?await(0,a.X)().formaPagamento.get(e.id)||{}:await(0,a.X)().formaPagamento.toArray()||[]};var ke=t(27755);let De,qe=["tipo","ncm"],Fe=[];const Pe={id:"",_DataHoraUltimaAlteracao:"",ativo:!0,codigoBarras:"",dataCadastro:"",descricao:"",garantiaDias:0,grupo:"",imagem:"",marca:"",percentualMarkup:0,quantidadeDisponivel:0,status:"Linha",subGrupo:"",surfacada:"0",tempoMedioReposicao:0,tipo:"Produto",unidade:"UN",utilizaComposicaoValorReposicao:!1,utilizaMarkup:!1,validadeMeses:0,valorCustoReposicao:0,valorVenda:0,controladoExercito:0,controladoPoliciaCivil:0,controladoPoliciaFederal:0};async function Ae(e){const o=e=>{const o={id:e.id,...e.codigoItem?{codigoItem:Number(e.codigoItem)}:{},...e.quantidadeDisponivel?{quantidadeDisponivel:Number(e.quantidadeDisponivel)}:{},...(e.descricaoConcatenada||"").trim()?{descricaoConcatenada:e.descricaoConcatenada}:{},...(e.marca||"").trim()?{marca:e.marca}:{},...(e.grupo||"").trim()?{grupo:e.grupo}:{},...(e.subGrupo||"").trim()?{subGrupo:e.subGrupo}:{},...(e.aplicacao||"").trim()?{aplicacao:e.aplicacao}:{},...(e.referencia||"").trim()?{referencia:e.referencia}:{},...(e.codigoBarras||"").trim()?{codigoBarras:e.codigoBarras}:{},...(e.fornecedores||"").trim()?{fornecedores:e.fornecedores}:{},...(e.cor||"").trim()?{cor:e.cor}:{},...(e.amarcaoCor||"").trim()?{amarcaoCor:e.amarcaoCor}:{},...(e.armacaoMaterial||"").trim()?{armacaoMaterial:e.armacaoMaterial}:{},...(e.material||"").trim()?{material:e.material}:{},...(e.tipoMontagem||"").trim()?{tipoMontagem:e.tipoMontagem}:{},...(e.unidade||"").trim()?{unidade:e.unidade}:{},...(e.tipo||"").trim()?{tipo:e.tipo}:{},..."boolean"==typeof e.ativo?{ativo:e.ativo}:{}};if((e.descricaoConcatenada||"").trim()||(e.aplicacao||"").trim()){const t=(e.descricaoConcatenada||"").trim()+" "+(e.aplicacao||"").trim();o.descricaoAplicacao=t.trim()}Fe.push(o)};if(De&&e){await De;const t=Fe.findIndex((o=>o.id===e));t>-1&&Fe.splice(t,1);const a=await $erp().item.get(e);return a&&o(a),De}return De||(De=new Promise((async(e,t)=>{let a,i;i=1e4,a=await $erp().item.count();for(let e=0;e<a;e+=1e4)await $erp().item.offset(e).limit(1e4).each((e=>o(e)));e()})),De)}async function Be(e){e.descricaoConcatenada=Le(e),e.composicao&&e.composicao.length||(e.composicao=[{}]),e.fornecedor&&e.fornecedor.length||(e.fornecedor=[{}]),e.producaoFase&&e.producaoFase.length||(e.producaoFase=[{}]),e.qualidade&&e.qualidade.length||(e.qualidade=[{}]);for(const o in e.composicao){let t=e.composicao[o];t=Object.assign({},{idItemUtilizado:"",ordem:0,quantidade:1,temporario:{unidade:"",valor:0,total:0}},t),t.item=t.item||await(0,ue.rb)().get("item",t.idItemUtilizado),t.descricaoItemUtilizado=t.item.descricao||"",e.composicao[o]=t}for(const o in e.fornecedor){let t=e.fornecedor[o];t=Object.assign({},{idContato:"",descricao:"",referencia:""},t),t.contato=t.contato||await mo.contato.le({id:t.idContato}),t.descricaoContato=t.contato.apelido||"",e.fornecedor[o]=t}for(const o in e.producaoFase){let t=e.producaoFase[o];t=Object.assign({},{descricao:"",idItemEquipamento:"",idItemFerramenta:"",idItemServico:"",ordem:0},t),t.itemEquipamento=t.itemEquipamento||await(0,ue.rb)().get("item",t.idItemEquipamento),t.itemFerramenta=t.itemFerramenta||await(0,ue.rb)().get("item",t.idItemFerramenta),t.itemServico=t.itemServico||await(0,ue.rb)().get("item",t.idItemServico),t.descricaoItemEquipamento=t.itemEquipamento.descricao||"",t.descricaoItemFerramenta=t.itemFerramenta.descricao||"",t.descricaoItemServico=t.itemServico.descricao||"",e.producaoFase[o]=t}return e}function Le(e){let o=e.descricao+(e.modelo?" - "+e.modelo:"")+(e.tamanho?" - "+e.tamanho:"");return"Lente"===e.tipo&&(o+=(e.esfericoInicial?" "+e.esfericoInicial:"")+(e.esfericoFinal?" "+e.esfericoFinal:"")+(e.eixo?" "+e.eixo:"")+(e.material?" - "+e.material:"")+(e.cor?" - "+e.cor:"")+(e.diametro?" - "+e.diametro:"")+(e.indiceRefracao?" - "+e.indiceRefracao:"")+(e.geometria?" - "+e.geometria:"")+(e.lenteTipo?" "+e.lenteTipo:"")),o}function Oe(e){if(e.fornecedor){for(const o of e.fornecedor)delete o.contato,delete o.descricaoContato,o.idItem=e.id,o.id||(o.id=(0,d.uuid)());e.fornecedor=e.fornecedor.filter((e=>!!e.idContato||!!e.descricao||!!e.referencia))}if(e.composicao){for(const o of e.composicao)delete o.temporario,delete o.item,delete o.descricaoItemUtilizado,o.idItem=e.id,o.id||(o.id=(0,d.uuid)());e.composicao=e.composicao.filter((e=>!!e.idItemUtilizado))}if(e.qualidade){for(const o of e.qualidade)delete o.item,o.idItem=e.id,o.id||(o.id=(0,d.uuid)());e.qualidade=e.qualidade.filter((e=>!!e.descricao||!!e.especificacao||!!e.limites))}if(e.producaoFase){for(const o of e.producaoFase)delete o.itemEquipamento,delete o.itemFerramenta,delete o.itemServico,delete o.descricaoItemEquipamento,delete o.descricaoItemFerramenta,delete o.descricaoItemServico,o.idItem=e.id,o.id||(o.id=(0,d.uuid)());e.producaoFase=e.producaoFase.filter((e=>!!(e.ordem||e.descricao||e.idItemEquipamento||e.idItemFerramenta||e.idItemServico)))}return e}const ze={itens:Fe,carregarMemoria:Ae,ler:async function(e={}){let o,t,i,{filtros:r={},termoBusca:l="",limit:s,sort:n=["descricaoConcatenada"],page:c}=e,d=[],m=Fe;await Ae(),o=[...r.id?["id"]:[],...r.codigoItem?["codigoItem"]:[]];for(const e of o){const o=m.find((o=>o[e]===r[e]));if(!o){m=[];break}m=[o]}if(r.codigoCompra){let e=(await(0,a.X)().documentoItem.filter((e=>e.codigoDocumento===Number(r.codigoCompra))).toArray()).map((e=>e.idItem));m=m.filter((o=>~e.indexOf(o.id)))}r.estoque&&(m=m.filter((e=>!!e.quantidadeDisponivel&&e.quantidadeDisponivel>r.estoque))),o=[...Array.isArray(r.descricaoAplicacao)||(r.descricaoAplicacao||"").trim()?["descricaoAplicacao"]:[],...Array.isArray(r.marca)||(r.marca||"").trim()?["marca"]:[],...Array.isArray(r.grupo)||(r.grupo||"").trim()?["grupo"]:[],...Array.isArray(r.subGrupo)||(r.subGrupo||"").trim()?["subGrupo"]:[],...Array.isArray(r.aplicacao)||(r.aplicacao||"").trim()?["aplicacao"]:[],...Array.isArray(r.referencia)||(r.referencia||"").trim()?["referencia"]:[],...Array.isArray(r.codigoBarras)||(r.codigoBarras||"").trim()?["codigoBarras"]:[],...Array.isArray(r.tipo)||(r.tipo||"").trim()?["tipo"]:[],...Array.isArray(r.fornecedores)||(r.fornecedores||"").trim()?["fornecedores"]:[]];for(const e of o){let o=r[e],t=!1;Array.isArray(r[e])&&(o=r[e].join(" "),t=!0),o=o.trim().toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" "),m=m.filter((a=>{if(!(a[e]||"").trim())return!1;const i=a[e].trim().toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" ");if(t){for(const e of o)if(~i.indexOf(e))return!0;return!1}for(const e of o)if(!~i.indexOf(e))return!1;return!0}))}if("boolean"==typeof r.ativo&&(m=m.filter((e=>e.ativo===r.ativo))),(r.termoBusca||"").trim()){let e=[],o=new Set(r.termoBusca.trim().toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" "));o=Array.from(o);for(const t of m){let a=`${t.id} ${t.codigoItem?String(t.codigoItem)+" #"+String(t.codigoItem):""} `;a+=`${t.descricaoConcatenada||""} ${t.marca||""} ${t.grupo||""} ${t.subGrupo||""} `,a+=`${t.aplicacao||""} ${t.referencia||""} ${t.codigoBarras||""} ${t.tipo||""}`,a=a.trim().toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"");let i=!0;for(const e of o)if(-1===a.indexOf(e)){i=!1;break}i&&e.push(t)}m=e}m=$lodash.orderBy(m,...n),t=m.length,s=s||m.length,c=c||1,i=t>1?Math.ceil(t/s):0,m=m.slice((c-1)*s,c*s);for(const e of m.map((e=>e.id))){const o=await $erp().item.get(e);o&&d.push(o)}return{data:d,total:t,totalPages:i}},completa:Be,descricaoConcatenada:Le,duplica:async function(e){const o={...(await mo.item.leCompleto(e)).atual,id:(0,d.uuid)(),codigoBarras:"",referencia:"",codigoItem:void 0,quantidadeDisponivel:0};for(const e in o)if(Array.isArray(o[e]))for(const t of o[e])delete t.id;return await mo.item.grava({atual:o}),o},grava:async function(e){ke.WL.log("item","grava",e);const o=Oe((0,d.clonarV2)(e.atual)),t=Oe((0,d.clonarV2)(e.original||{}));o.descricaoConcatenada=Le(o);let i=!1;if(i=await(0,d.processarFilho)("itemComposicao",t.composicao,o.composicao)||i,i=await(0,d.processarFilho)("itemFornecedor",t.fornecedor,o.fornecedor)||i,i=await(0,d.processarFilho)("itemProducaoFase",t.producaoFase,o.producaoFase)||i,i=await(0,d.processarFilho)("itemQualidade",t.qualidade,o.qualidade)||i,Object.keys(t||{}).length){const e=(0,d.diferencaNivel1)(t,o);(i||Object.keys(e).length)&&(o._DataHoraUltimaAlteracao=(0,d.dataAtual)(),e._DataHoraUltimaAlteracao=o._DataHoraUltimaAlteracao,await(0,a.X)().item.update(o.id,e),await(0,d.sincronismoEnviar)("atualizar","item",o.id,e))}else{o.dataCadastro=(0,d.dataAtual)(),o._DataHoraUltimaAlteracao=o.dataCadastro;const e=(0,d.diferencaNivel1)({},o);await(0,a.X)().item.put(e),await(0,d.sincronismoEnviar)("adicionar","item",e.id,e)}await mo.item.carregarMemoria(o.id)},gravaV2:async function(e){e=$utils.clonarV2(e);const o=$utils.clonar(e.originais||{});e.item.descricaoConcatenada=Le(e.item);const t=$utils.compactarObjeto(e).item;let i=!1;if(i=await(0,d.processarFilho)("itemComposicao",o.composicao,e.composicao)||i,i=await(0,d.processarFilho)("itemFornecedor",o.fornecedor,e.fornecedor)||i,i=await(0,d.processarFilho)("itemProducaoFase",o.producaoFase,e.producaoFase)||i,i=await(0,d.processarFilho)("itemQualidade",o.qualidade,e.qualidade)||i,Object.keys(o||{}).length){const e=(0,d.dataAtual)();i&&(t._DataHoraUltimaAlteracao=e);const r=$utils.diferencaObjetos(o.item,t);Object.keys(r).length&&(t._DataHoraUltimaAlteracao=e,r._DataHoraUltimaAlteracao=e,await(0,a.X)().item.update(t.id,r),await(0,d.sincronismoEnviar)("atualizar","item",t.id,r))}else t.dataCadastro=(0,d.dataAtual)(),t._DataHoraUltimaAlteracao=t.dataCadastro,await(0,a.X)().item.put(t),await(0,d.sincronismoEnviar)("adicionar","item",t.id,t);return await mo.item.carregarMemoria(t.id),t.id},gravaItem:async function(e){const o=(0,d.diferencaNivel1)(e.original||{},e.atual);Object.keys(e.original||{}).length?Object.keys(o).length&&(await(0,a.X)().item.update(e.atual.id,o),await(0,d.sincronismoEnviar)("atualizar","item",e.atual.id,o)):(await(0,a.X)().item.put(o),await(0,d.sincronismoEnviar)("adicionar","item",o.id,o))},le:async function(e){if("id"in(e=e||{}))return e.id&&await(0,a.X)().item.get(e.id)||{};let o=await(0,a.X)().item.toArray()||[];return e.tipo&&(o=Array.isArray(e.tipo)?o.filter((o=>e.tipo.includes(o.tipo))):o.filter((o=>e.tipo===o.tipo))),e.ativo&&(o=o.filter((e=>e.ativo))),!1===e.ativo&&(o=o.filter((e=>!e.ativo))),o},leCompleto:async function(e){ke.WL.log("item","leCompleto");let o=await(0,ue.rb)().get("item",e,{joinMany:[{field:"composicao",joinTable:"itemComposicao",joinKey:"idItem",key:"id"},{field:"fornecedor",joinTable:"itemFornecedor",joinKey:"idItem",key:"id"},{field:"producaoFase",joinTable:"itemProducaoFase",joinKey:"idItem",key:"id"},{field:"qualidade",joinTable:"itemQualidade",joinKey:"idItem",key:"id"}]});return o=await Be({...Pe,...o}),{atual:o,original:(0,d.clonarV2)(o)}},leCompletoV2:async function(e){const o={};return e=e||"",o.item=await(0,a.X)().item.get(e)||{},o.composicao=await(0,a.X)().itemComposicao.where("idItem").equals(e).toArray(),o.fornecedor=await(0,a.X)().itemFornecedor.where("idItem").equals(e).toArray(),o.producaoFase=await(0,a.X)().itemProducaoFase.where("idItem").equals(e).toArray(),o.qualidade=await(0,a.X)().itemQualidade.where("idItem").equals(e).toArray(),o},leContas:async function(e,o){let t=await(0,a.X)().item.get(e),i=await mo.cfop.le({id:o}),r=(await mo.configuracoes.le({nome:"financeiro.planocontas.cmv"}))[0].valor,l=await mo.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:r})||{},s=(await mo.configuracoes.le({nome:"financeiro.planocontas.faturamentogeral"}))[0].valor,n=await mo.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:s})||{},c=await mo.perfilContabilItem.le({idPerfilContabil:t.idPerfilContabil});const d={};for(const e of await mo.financeiroPlanoConta.le()||[])d[e.id]=e;for(const e of c.filter((e=>e.idCfop===o)))return{ordem:0,idPlanoContaEstoque:e.idPlanoContaEstoque,descricaoContaEstoque:d[e.idPlanoContaEstoque].apelido+" - "+d[e.idPlanoContaEstoque].descricao.trim(),idPlanoContaDestino:e.idPlanoContaDestino,descricaoContaDestino:d[e.idPlanoContaDestino].apelido+" - "+d[e.idPlanoContaDestino].descricao.trim(),idPlanoContaDespesa:e.idPlanoContaDespesa,descricaoContaDespesa:d[e.idPlanoContaDespesa].apelido+" - "+d[e.idPlanoContaDespesa].descricao.trim()};for(const e of c)return{ordem:1,idPlanoContaEstoque:e.idPlanoContaEstoque,descricaoContaEstoque:d[e.idPlanoContaEstoque].apelido+" - "+d[e.idPlanoContaEstoque].descricao.trim(),idPlanoContaDestino:e.idPlanoContaDestino,descricaoContaDestino:d[e.idPlanoContaDestino].apelido+" - "+d[e.idPlanoContaDestino].descricao.trim(),idPlanoContaDespesa:e.idPlanoContaDespesa,descricaoContaDespesa:d[e.idPlanoContaDespesa].apelido+" - "+d[e.idPlanoContaDespesa].descricao.trim()};return i.idPlanoContaEstoque&&i.idPlanoContaDestino?{ordem:2,idPlanoContaEstoque:i.idPlanoContaEstoque,descricaoContaEstoque:d[i.idPlanoContaEstoque].apelido+" - "+d[i.idPlanoContaEstoque].descricao.trim(),idPlanoContaDestino:i.idPlanoContaDestino,descricaoContaDestino:d[i.idPlanoContaDestino].apelido+" - "+d[i.idPlanoContaDestino].descricao.trim(),idPlanoContaDespesa:l.id,descricaoContaDespesa:l.descricao}:i.idPlanoContaEstoque?{ordem:3,idPlanoContaEstoque:i.idPlanoContaEstoque,descricaoContaEstoque:d[i.idPlanoContaEstoque].apelido+" - "+d[i.idPlanoContaEstoque].descricao.trim(),idPlanoContaDestino:n.id,descricaoContaDestino:n.apelido+" - "+n.descricao.trim(),idPlanoContaDespesa:l.id,descricaoContaDespesa:l.descricao}:{idContaEstoque:"",descricaoContaEstoque:"",idContaReceita:"",descricaoContaReceita:"",idContaDespesa:"",descricaoContaDespesa:""}},leNew:async function(e){if("id"in(e=e||{}))return e.id&&await(0,a.X)().item.get(e.id)||{};let o={};"tipo"in e&&e.tipo&&(o.tipo=e.tipo),"ativo"in e&&e.ativo&&(o.ativo=1);let t=(0,a.X)().item;return Object.keys(o).length&&(t=t.where(o)),"limit"in e&&e.limit&&(t=t.limit(e.limit)),await t.toArray()||[]},leUnicos:async function(e){return ke.WL.log("item","leUnicos",e),(0,a.X)().item.orderBy(e).uniqueKeys()},leValoresUnicos:async function(e,o){ke.WL.log("item","leValoresUnicos"),await $db.item.carregarMemoria();const t=$db.item.itens;return(0,d.unicos)([{[e]:""},{[e]:o},...t],e).sort(((e,o)=>e.localeCompare(o,void 0,{sensitivity:"base"})))},leRefatorado:async function({filtros:e,limit:o,page:t,sort:i}){if("id"in(e=e||{}))return e.id&&await(0,a.X)().item.get(e.id)||{};let r={};for(const o of qe)o in e&&e[o]&&(r[o]=e[o]);let l=await(0,a.X)().item;if(Object.keys(r).length&&(l=l.where(r)),"ativo"in e&&"boolean"==typeof e.ativo&&(l=l.filter((o=>o.ativo===e.ativo))),"codigo"in e&&(l=l.filter((o=>o.codigo===Number(e.codigo)))),"referencia"in e&&(l=l.filter((o=>o.referencia===e.referencia))),"codigoBarras"in e&&(l=l.filter((o=>o.codigoBarras===e.codigoBarras))),"codIdRef"in e){const o=e.codIdRef;l=l.filter((e=>e.id===o||e.codigoItem===Number(o)||e.referencia===o))}if("marca"in e&&(l=l.filter((o=>o.marca===e.marca))),"grupo"in e&&(l=l.filter((o=>o.grupo===e.grupo))),"tipo"in e&&(l=l.filter((o=>o.tipo===e.tipo))),"subGrupo"in e&&(l=l.filter((o=>o.subGrupo===e.subGrupo))),"fornecedor"in e){let o=[],t=[];(await(0,a.X)().contato.filter((o=>{if(o.nome){let t=(0,d.removerAcentos)(o.nome).toLowerCase(),a=(0,d.removerAcentos)(e.fornecedor).toLowerCase();return t.includes(a)}})).toArray()).map((e=>o.push(e.id))),(await(0,a.X)().itemFornecedor.filter((e=>o.includes(e.idContato))).toArray()).map((e=>t.push(e.idItem))),l=l.filter((e=>t.includes(e.id)))}if("codigoCompra"in e){let o=await(0,a.X)().documentoItem.filter((o=>o.codigoDocumento===Number(e.codigoCompra))).toArray(),t=[];o.map((e=>t.push(e.idItem))),l=l.filter((e=>t.includes(e.id)))}"estoque"in e&&(l=l.filter((o=>o.quantidadeDisponivel>=e.estoque))),"descricao"in e&&(l=l.filter((o=>o.descricao.includes(e.descricao)))),"descricaoAplicacao"in e&&(l=l.filter((o=>o.aplicacao&&o.descricao?o.descricao.includes(e.descricaoAplicacao)||o.aplicacao.includes(e.descricaoAplicacao):o.descricao?o.descricao.includes(e.descricaoAplicacao):void 0)));let s=[],n=[];await l.each((e=>{s.push({descricao:(0,d.removerAcentos)(e.descricao||"").toUpperCase().trim(),id:e.id,grupo:e.grupo})}));const c=s.length;s=s.sort(((e,o)=>e.descricao>o.descricao?1:o.descricao>e.descricao?-1:0));let m=((t=t||1)-1)*(o=o||c);s=s.splice(m,o);for(let e of s)n.push(await(0,a.X)().item.get({id:e.id}));let u=c;return{data:n,total:u,totalPages:Math.ceil(u/o)||1}},opcoesTipo:[{rotulo:"Produto",valor:"Produto"},{rotulo:"Serviço",valor:"Serviço"}],selecionado:{...Pe},validarReferenciaUnica:async function(e,o){let t=!1;return!e||(ke.WL.log("item","validarReferenciaUnica"),t=!await(0,a.X)().item.filter((t=>t.referencia===e&&t.id!==o.id)).first(),t)},vazio:Pe},je={grava:()=>{},le:async(e={})=>{if(e.id)return(0,a.X)().itemTabelaPreco.get(e.id)||{};const o={};let t=(0,a.X)().itemTabelaPreco;return Object.keys(o).length&&(t=t.where(o)),t=await t.toArray(),!0===e.tabelaMaster&&(t=t.filter((e=>1===e.tabelaMaster))),!1===e.tabelaMaster&&(t=t.filter((e=>1!==e.tabelaMaster))),e.idEmpresa&&(t=t.filter((o=>o.idEmpresa===e.idEmpresa||!o.idEmpresa))),t},obterValores:async(e,o,t=2)=>{if(!e.id)return;const i=(o.marca||"").trim(),r=(o.grupo||"").trim(),l=(o.subGrupo||"").trim();let s,n,c=o.valorVenda||0,m=e.maximoDesconto||0,u=e.maximoDescontoGerente||0,p=e.fatorPercentual||0,h=e.fatorArredondamento||0,C=[];if(o.id&&(s=await(0,a.X)().itemTabelaPreco.where({idItem:o.id}).toArray(),s=s.find((o=>!o.tabelaMaster&&o.idItemTabelaPrecoPai===e.id))),s){let e=s.valorVenda||0;const o=s?.fatorArredondamento??h;return o&&(e=(0,d.arredondarTeto)(e,o,t)),{tabelaMaster:0,valorVenda:(0,d.arredondar)(e,t),valorVendaMaiorQue:(0,d.arredondar)(s.valorVendaMaiorQue||0,t),quantidadeMaiorQue:(0,d.arredondar)(s.quantidadeMaiorQue||0,t),maximoDesconto:(0,d.arredondar)(s.maximoDesconto||0,t),maximoDescontoGerente:(0,d.arredondar)(s.maximoDescontoGerente||0,t),maximoDescontoMaiorQue:(0,d.arredondar)(s.maximoDescontoMaiorQue||0,t)}}if(n=1,c+=p/100*c,i){let o=await(0,a.X)().itemTabelaPreco.where({tipo:"Marca"}).toArray();o=o.find((o=>2===o.tabelaMaster&&o.idItemTabelaPrecoPai===e.id&&(o.descricao||"").trim()===i)),o&&C.push(o)}if(r){let o=await(0,a.X)().itemTabelaPreco.where({tipo:"Grupo"}).toArray();o=o.find((o=>2===o.tabelaMaster&&o.idItemTabelaPrecoPai===e.id&&(o.descricao||"").trim()===r)),o&&C.push(o)}if(l){let o=await(0,a.X)().itemTabelaPreco.where({tipo:"Subgrupo"}).toArray();o=o.find((o=>2===o.tabelaMaster&&o.idItemTabelaPrecoPai===e.id&&(o.descricao||"").trim()===l)),o&&C.push(o)}for(const e of C)n=2,p=e.fatorPercentual||0,c+=p/100*c,m+=e.maximoDesconto||0,u+=e.maximoDescontoGerente||0;return h&&(c=(0,d.arredondarTeto)(c,h,t)),{tabelaMaster:n,valorVenda:(0,d.arredondar)(c,t),valorVendaMaiorQue:0,quantidadeMaiorQue:0,maximoDesconto:(0,d.arredondar)(m>100?100:m,t),maximoDescontoGerente:(0,d.arredondar)(u>100?100:u,t),maximoDescontoMaiorQue:0}}},$e=je,Ue=["id","idContato","idFatura","idDocumentoAdicional","idContatoVendedor","idContatoDigitador","idEmpresa","documentoId","tipo","status","idEquipamento"],Ze={grava:async e=>{if(e=(0,d.compactarObjeto)(e),await(0,d.processarFilho)("documentoItem",e.documentoItensAnterior||[],e.documentoItens||[]),Object.keys(e.documentoAnterior||{}).length){const o=(0,d.diferencaObjetos)(e.documentoAnterior,e.documento);Object.keys(o).length&&(await(0,a.X)().documento.update(e.documento.id,o),await(0,d.sincronismoEnviar)("atualizar","documento",e.documento.id,o))}else await(0,a.X)().documento.put(e.documento),await(0,d.sincronismoEnviar)("adicionar","documento",e.documento.id,e.documento)},le:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().documento.get(e.id)||{};let o={tipo:"Estoque",operacao:"Manipulação"};"idContato"in e&&e.idContato&&(o.idContato=e.idContato),"idEmpresa"in e&&e.idEmpresa&&(o.idEmpresa=e.idEmpresa),"status"in e&&e.status&&(o.status=e.status);let t=(0,a.X)().documento;Object.keys(o).length&&(t="periodoEmissao"in e||"periodoFinalizado"in e?t.where(o).and((function(o){if("periodoEmissao"in e&&e.periodoEmissao){let t=new Date(e.periodoEmissao.ini).setHours(0,0,0,0),a=new Date(e.periodoEmissao.fim).setHours(0,0,0,0),i=new Date(o.dataHoraEmissao).setHours(0,0,0,0);return t&&a?i>=t&&i<=a:t?i>=t:!a||i<=a}})).and((function(o){if("periodoFinalizado"in e&&e.periodoFinalizado){let t=new Date(e.periodoFinalizado.ini).setHours(0,0,0,0),a=new Date(e.periodoFinalizado.fim).setHours(0,0,0,0),i=new Date(o.dataHoraFinalizado).setHours(0,0,0,0);return t&&a?i>=t&&i<=a:t?i>=t:!a||i<=a}})):t.where(o));const i=e.offset,r=e.limit;let l=t;return l=await l.count(),Number.isInteger(i)&&Number.isInteger(r)?Promise.all([t.offset(i).limit(r).toArray(),l]):Promise.all([t.toArray(),l])},leRefatorado:async function({filtros:e,limit:o,page:t,sort:i}){if("id"in(e=e||{}))return e.id&&await(0,a.X)().documento.get(e.id)||{};for(const o in e){if(null===e[o]||void 0===e[o])throw"Erro no filtro "+o;"string"==typeof e[o]&&(e[o]=e[o].trim())}let r={tipo:"Estoque",operacao:"Manipulação"};for(const o of Ue)o in e&&e[o]&&(r[o]=e[o]);let l=await(0,a.X)().documento;if(Object.keys(r).length&&(l=l.where(r)),"periodoEmissao"in e&&e.periodoEmissao){let o=new Date(e.periodoEmissao.ini).setHours(0,0,0,0),t=new Date(e.periodoEmissao.fim).setHours(0,0,0,0);l=l.filter((e=>{let a=new Date(e.dataHoraEmissao).setHours(0,0,0,0);return o&&t?a>=o&&a<=t:o?a>=o:!t||a<=t}))}if("periodoFinalizado"in e&&e.periodoFinalizado){let o=new Date(e.periodoFinalizado.ini).setHours(0,0,0,0),t=new Date(e.periodoFinalizado.fim).setHours(0,0,0,0);l=l.filter((e=>{let a=new Date(e.dataHoraEmissao).setHours(0,0,0,0);return o&&t?a>=o&&a<=t:o?a>=o:!t||a<=t}))}let s=[],n=[];await l.each((e=>{s.push({codigoDocumento:e.codigoDocumento,id:e.id})}));const c=s.length;s=s.sort(((e,o)=>e.codigoDocumento>o.codigoDocumento?1:o.codigoDocumento>e.codigoDocumento?-1:0));let d=((t=t||1)-1)*(o=o||c);s=s.splice(d,o);for(let e of s)n.push(await(0,a.X)().documento.get({id:e.id}));let m=c;return{data:n,total:m,totalPages:Math.ceil(m/o)||1}},leItens:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().documentoItem.get(e.id)||{};let o={};"idDocumento"in e&&e.idDocumento&&(o.idDocumento=e.idDocumento),"idItem"in e&&e.idItem&&(o.idItem=e.idItem);let t=(0,a.X)().documentoItem;return Object.keys(o).length?(t=t.where(o),t.toArray()):[]},async remove(e){this.removeItens(e),await(0,a.X)().documento.delete(e),await(0,d.sincronismoEnviar)("remover","documento",e)},async removeItens(e){let o=await(0,a.X)().documentoItem.where({idDocumento:e}).toArray();for(let e of o)await(0,a.X)().documentoItem.where({id:e.id}).delete(),await(0,d.sincronismoEnviar)("remover","documentoItem",e.id)}},Qe=Ze,Re={nomeTabela:"_ncm",filtrosTabela:["ncm"],async le(e={}){if(d.gconsole.log(this.nomeTabela,"le",e),"id"in e)return e.id&&await(0,a.X)()[this.nomeTabela].get(e.id)||{};let o={};for(const t of this.filtrosTabela)if(t in e){if([null,void 0].includes(e[t]))return[];o[t]=e[t]}return Object.keys(o).length?(0,a.X)()[this.nomeTabela].where(o).toArray():(0,a.X)()[this.nomeTabela].toArray()},ler:async(e={})=>{if(e.id){return await(0,a.X)()._ncm.get(e.id)||{}}let o=null;for(const t of Object.keys(e).filter((e=>"id"!==e))){if(~[void 0,null].indexOf(e[t]))continue;if(o){o=o.filter((o=>o[t]===e[t]));continue}const i={};i[t]=e[t],o=await(0,a.X)()._ncm.where(i).toArray()}return o||await(0,a.X)()._ncm.toArray()},gravar:async e=>{if(e=$utils.compactarObjeto(e),Object.keys(e.original||{}).length){const o=$utils.diferencaObjetos(e.original,e.atual);Object.keys(o).length&&(await(0,a.X)()._ncm.update(e.original.id,o),await $utils.sincronismoEnviar("atualizar","_ncm",e.original.id,o))}else await(0,a.X)()._ncm.put(e.atual),await $utils.sincronismoEnviar("adicionar","_ncm",e.atual.id,e.atual)},remover:async e=>{await(0,a.X)()._ncm.delete(e.id),await $utils.sincronismoEnviar("remover","_ncm",e.id)},async ncmST(e={}){try{const{ncm:o,ufDestinatario:t}=e;let a;o&&(a=(await $db.ncm.ler({ncm:o}))[0]);let i=!!a?.st;if(a?.json){const e=JSON.parse(a.json);i=!1,~e.indexOf(t)&&(i=!0)}return i}catch(e){return console.log(e.message),!1}}},Ge={nomeTabela:"nfeIbpt",filtrosTabela:["codigo","idContato"],async le(e={}){if(d.gconsole.log(this.nomeTabela,"le",e),"id"in e)return e.id&&await(0,a.X)()[this.nomeTabela].get(e.id)||{};let o={};for(const t of this.filtrosTabela)if(t in e){if([null,void 0].includes(e[t]))return[];o[t]=e[t]}return Object.keys(o).length?(0,a.X)()[this.nomeTabela].where(o).toArray():(0,a.X)()[this.nomeTabela].toArray()},async grava(e){d.gconsole.log(this.nomeTabela,"grava",e);const o=(0,d.diferencaNivel1)(e.original||{},e.atual);Object.keys(e.original||{}).length?Object.keys(o).length&&(await(0,a.X)()[this.nomeTabela].update(e.atual.id,o),await(0,d.sincronismoEnviar)("atualizar",this.nomeTabela,e.atual.id,o)):(await(0,a.X)()[this.nomeTabela].put(o),await(0,d.sincronismoEnviar)("adicionar",this.nomeTabela,o.id,o))},async atualiza(e,o){d.gconsole.log(this.nomeTabela,"atualiza",o);const t={id:(0,d.uuid)(),codigo:Number(o.Codigo),ex:String(o.EX),tipo:Number(o.Tipo),descricao:String(o.Descricao),nacionalFederal:String(o.Nacional),importadosFederal:String(o.Importado),estadual:String(o.Estadual),municipal:String(o.Municipal),vigenciaInicio:(0,d.converterDataHoraBr)(o.VigenciaInicio),vigenciaFim:(0,d.converterDataHoraBr)(o.VigenciaFim),chave:String(o.Chave),versao:String(o.Versao),fonte:String(o.Fonte),idContato:e};let i={};const r=await this.le({codigo:Number(t.codigo),idContato:e});for(const e in r)"0"===e?(t.id=r[e].id,i=r[e]):await(0,a.X)()[this.nomeTabela].delete(r[e].id);return this.grava({atual:t,original:i})}},He={vazio:{id:"",tipo:"Ordem de Serviço",operacao:"Normal",status:"",idEmpresa:"",descricaoEmpresa:"",numeroDocumentoEmpresa:"",idContato:"",descricaoContato:"",numeroDocumentoContato:"",idContatoResponsavel:"",dataHoraEmissao:"",dataHoraRealizado:"",dataHoraPrevisto:"",documentoId:"",documentoTipo:"",subTotal:0,totalDocumento:0},async leAdmOSOnline({entregueInicio:e,entregueFim:o,empresas:t}){let a=[];for(const e of t||[])a.push(`'${e}'`);return a=a.join(","),(0,d.executarSql)(`select\n      os.id,\n      os.codigoDocumento,\n      os.status,\n      os.descricao,\n      os.dataHoraEmissao,\n      os.dataHoraPrevisto,\n      os.dataHoraFinalizado,\n      os.dataHoraRetorno,\n      os.codigoContato,\n      os.codigoEmpresa,\n      os.descricaoEmpresa,\n      os.codigoContatoResponsavel,\n      responsavel.nome nomeResponsavel,\n      os.descricaoContato nomeCliente,\n      venda.numero numeroVenda,\n      os.numero numeroOS\n    from Documento os\n    left join contato responsavel on responsavel.codigoContato = os.codigoContatoResponsavel\n    left join documento venda on venda.codigoDocumento = os.documentoCodigo\n    where os.tipo='Ordem de Serviço'\n      ${a?`and os.idEmpresa in (${a})`:""}\n      and os.status not in ('Orçamento', 'Cancelado', 'Não aprovado', '')\n      and (os.status <> 'Entregue' or cast(os.dataHoraFinalizado as date) between ${(0,d.sqlData)(e)} and ${(0,d.sqlData)(o)})`)},trocaStatusOnline:async e=>(0,d.executarSql)(`set nocount on\n      update documento set \n          status = ${(0,d.sqlStr)(e.statusNovo)},\n          dataHoraFinalizado = case ${(0,d.sqlStr)(e.statusNovo)} when 'Entregue' then getdate() else null end\n        where codigoDocumento = ${(0,d.sqlNum)(e.codigoDocumento)}\n      insert into documentoStatus (codigoDocumento, codigoDocumentoItem, codigoContatoResponsavel, operacao,\n        statusOriginal, statusFinalizado, dataHoraEmissao, codigoUsuarioAlterou, observacao)\n      values(${(0,d.sqlNum)(e.codigoDocumento)}, NULL, ${(0,d.sqlNum)(e.codigoContatoResponsavel)}, 'Mudança status OS', \n        ${(0,d.sqlStr)(e.statusAtual)}, ${(0,d.sqlStr)(e.statusNovo)}, getdate(), ${(0,d.sqlNum)(e.codigoUsuario)}, ${(0,d.sqlStr)(e.observacao,"")})`),calculaTotal:async function({os:e,itensOs:o}){let t=0;for(const e of o)t+=e.subTotal;return e.subTotal=(0,d.arredondar)(t),e.totalDocumento=e.subTotal,{os:e}},calculaTotalItem:async function({os:e,itemOs:o,campoAlterado:t}){"descontoPercentualItem"===t&&(o.descontoItem=$utils.arredondar(o.descontoPercentualItem/100*o.valorItem)),"descontoItem"===t&&(o.descontoPercentualItem=$utils.arredondar(o.descontoItem/o.valorItem*100)),"valorItem"===t&&(o.valorItem<o.valorOriginal&&(o.valorItem=o.valorOriginal),o.descontoItem=0,o.descontoPercentualItem=0,o.subTotal=o.valorItem);let a=o.valorItem-o.descontoItem;return $utils.arredondar(a)>$utils.arredondar(o.valorItem)&&(a=o.valorItem,o.descontoPercentualItem=o.descontoItem=0),o.subTotal=$utils.arredondar(a*o.quantidade),o.total=o.subTotal,o.valorReal=$utils.arredondar(a),o.valorRealTotal=o.total,{itemOs:o}}},Je={grava:async()=>{},le:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().perfilContabilItem.get(e.id)||{};let o={};"idPerfilContabil"in e&&e.idPerfilContabil&&(o.idPerfilContabil=e.idPerfilContabil),"idCfop"in e&&e.idCfop&&(o.idCfop=e.idCfop);let t=(0,a.X)().perfilContabilItem;return Object.keys(o).length&&(t=t.where(o)),e.and&&(t=t.filter((o=>{for(const t in e.and)if(o[t]!==e.and[t])return!1;return!0}))),await t.toArray()||[]}},Ye={async verificarPermissao(e,o,t){const i=await a.s.objeto.filter((e=>e.nomeObjeto===t)).first()||{};if(i.menuDesenvolvimento&&(!mo.usuario.logado.desenvolvedor||!mo.usuario.logado.desenvolvedor()))return!1;const r=await a.s.usuarioPermissaoSistema.filter((t=>t.idUsuario===e&&t.idClienteSistema===o)).toArray(),l=r.map((e=>e.id)),s=r.map((e=>e.idGrupo)),n=await a.s.usuarioPermissao.filter((e=>l.includes(e.idUsuarioPermissaoSistema)&&e.idObjeto===i.id&&!!e.permitir)).toArray(),c=await a.s.grupoPermissao.filter((e=>s.includes(e.idGrupo)&&e.idObjeto===i.id&&!!e.permitir)).toArray();return n.length>0||c.length>0},async objeto(e){const o=JSON.parse(localStorage.getItem("usuario"));if(!o)return!1;const t=JSON.parse(localStorage.getItem("clienteSistema"));if(!t.idSistema||!t.idClienteSistema)return!1;if(o.administrador){const o=await a.s.objeto.filter((o=>o.nomeObjeto===e)).first()||{};return!!(await a.s.sistemaObjeto.filter((e=>e.idObjeto===o.id&&e.idSistema===t.idSistema&&(!e.idClienteGeeks||e.idClienteGeeks===t.idCliente))).first()||{}).id}return this.verificarPermissao(o.id,t.idClienteSistema,e)},async objetoClienteSistema(e){let o,t,i;return o=JSON.parse(localStorage.getItem("clienteSistema")),!(!o.idSistema||!o.idClienteSistema||(t=await a.s.objeto.filter((o=>o.nomeObjeto===e)).first()||{},i=await a.s.sistemaObjeto.filter((e=>e.idObjeto===t.id&&e.idSistema===o.idSistema&&(!e.idClienteGeeks||e.idClienteGeeks===o.idCliente))).first()||{},!i.id))},async menu(e=!1){const o=JSON.parse(localStorage.getItem("usuario"));if(!o)return[];const t=JSON.parse(localStorage.getItem("clienteSistema")),i=await a.s.sistemaObjeto.filter((e=>e.idSistema===t.idSistema&&(!e.idClienteGeeks||e.idClienteGeeks===t.idCliente))).toArray(),r=i.map((e=>e.idObjeto)),l=(await a.s.objeto.filter((o=>!!o.ativo&&!!o.visivelMenu&&!!o.menuDesenvolvimento===e&&r.includes(o.id))).toArray()).reduce(((e,o)=>(e[o.id]=o,e)),{});for(const e of i)e.idObjeto&&l[e.idObjeto]&&(e.objeto=l[e.idObjeto]);let s=i.filter((e=>!(!e.objeto||!e.rota&&!e.objeto.rota))).sort(((e,o)=>(e.ordem||99999)-(o.ordem||99999))).map((e=>{let o=null;try{o=JSON.parse(e.rota||e.objeto.rota||"{}")}catch(o){console.error("JSON.parse error na rota do menu objeto:",e.objeto.nomeObjeto,"\n",String(o))}return{id:e.id,idObjeto:e.idObjeto,idPai:e.idPai,nomeObjeto:e.objeto.nomeObjeto,descricao:e.objeto.descricao,icone:e.objeto.icone,rota:o}}));if(!o.administrador||!(1===o.grupoInterno||2===o.grupoInterno&&[37,23,42,40,52,53,57,58,63,68].includes(t.codigoSistema))){const e=await a.s.usuarioPermissaoSistema.filter((e=>e.idUsuario===o.id&&e.idClienteSistema===t.idClienteSistema)).toArray(),i=e.map((e=>e.id)),r=e.map((e=>e.idGrupo)),l=(await a.s.grupo.filter((e=>e.idClienteSistema===t.idClienteSistema&&r.includes(e.id))).toArray()).map((e=>e.id)),n=await a.s.grupoPermissao.filter((e=>l.includes(e.idGrupo)&&!!e.permitir)).toArray(),c=await a.s.usuarioPermissao.filter((e=>i.includes(e.idUsuarioPermissaoSistema)&&!!e.permitir)).toArray(),d=[...n.map((e=>e.idObjeto)),...c.map((e=>e.idObjeto))];s=s.filter((e=>d.includes(e.idObjeto)))}const n=s.reduce(((e,o)=>(e[o.idObjeto]=o,e)),{});for(const e of s)e.idPai&&n[e.idPai]&&(n[e.idPai].filhos||(n[e.idPai].filhos=[]),n[e.idPai].filhos.push(e));return s.filter((e=>!e.idPai))},async telaInicial(){let e={name:"AtendimentoVenda"},o=null;const t=JSON.parse(localStorage.getItem("usuario")),i=JSON.parse(localStorage.getItem("clienteSistema")),r=await a.s.usuarioPermissaoSistema.filter((e=>e.idUsuario===t.id&&e.idClienteSistema===i.idClienteSistema)).first();if(r&&(o=r.codigoObjetoInicialMobile||r.codigoObjetoInicial),!o){const e=await a.s.sistema.get(i.idSistema);e&&(o=e.codigoObjetoInicialMobile||e.codigoObjetoInicial)}if(o){const t=await a.s.objeto.filter((e=>e.codigoObjeto===Number(o))).first();if(t&&t.rota)try{e=JSON.parse(t.rota)}catch(e){console.error("Erro no JSON.parse da rota do objeto\n",e.toString())}}return e}},Xe={foto:"",fotoOriginal:"",medidas:{},calcularDistancias:function(){let e=Xe.medidas;const o=Math.hypot(Math.abs(e.olhoDireito.superior.left-e.olhoEsquerdo.superior.left),Math.abs(e.olhoDireito.superior.top-e.olhoEsquerdo.superior.top))/e.tamanhoArmacao;e.fator=o,e.tamanhoArmacaoPx=e.tamanhoArmacao*o,e.dip.total=Math.hypot(Math.abs(e.olhoDireito.centroOlho.left-e.olhoEsquerdo.centroOlho.left),Math.abs(e.olhoDireito.centroOlho.top-e.olhoEsquerdo.centroOlho.top))/o,e.dip.od.altura=(e.olhoDireito.inferior.top-e.olhoDireito.centroOlho.top)/o,e.dip.oe.altura=(e.olhoEsquerdo.inferior.top-e.olhoEsquerdo.centroOlho.top)/o,e.dnp.od=(e.tamanhoArmacaoPx/2-(e.olhoDireito.centroOlho.left-e.olhoDireito.superior.left))/o,e.dnp.oe=(e.tamanhoArmacaoPx/2-(e.olhoEsquerdo.superior.left-e.olhoEsquerdo.centroOlho.left))/o,e.ponte=(e.olhoEsquerdo.inferior.left-e.olhoDireito.inferior.left)/o,e.bifocalOlhoEsquerdo=e.olhoEsquerdo.bifocalAltura/o,e.bifocalOlhoDireito=e.olhoDireito.bifocalAltura/o,e.diagonal.distanciapx=Math.hypot(Math.abs(e.diagonal.p2.left-e.diagonal.p1.left),Math.abs(e.diagonal.p1.top-e.diagonal.p2.top)),e.diagonal.distancia=e.diagonal.distanciapx/o,e.alturaArmacaoPx=(e.olhoDireito.inferior.top-e.olhoDireito.superior.top+(e.olhoEsquerdo.inferior.top-e.olhoEsquerdo.superior.top))/2,e.alturaArmacao=e.alturaArmacaoPx/o},gravar:async e=>{if(e=(0,d.compactarObjeto)(e),Object.keys(e.original||{}).length){const o=(0,d.diferencaObjetos)(e.original,e.atual);Object.keys(o).length&&(await(0,a.X)().json.update(e.atual.id,o),await(0,d.sincronismoEnviar)("atualizar","json",e.atual.id,o))}else await(0,a.X)().json.put(e.atual),await(0,d.sincronismoEnviar)("adicionar","json",e.atual.id,e.atual)},limpar:function(){this.foto="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC",this.fotoOriginal="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC",this.medidas={tamanhoArmacao:100,tamanhoArmacaoPx:0,alturaArmacao:0,alturaArmacaoPx:0,olhoDireito:{superior:{left:257,top:462},centroOlho:{left:421,top:549},inferior:{left:540,top:699},bifocalAltura:0},olhoEsquerdo:{superior:{left:950,top:463},centroOlho:{left:784,top:549},inferior:{left:665,top:699},bifocalAltura:0},dip:{total:0,od:{altura:0},oe:{altura:0}},dnp:{od:0,oe:0},ponte:0,bifocal:!1,bifocalOlhoEsquerdo:0,bifocalOlhoDireito:0,fator:0,diagonal:{p1:{left:0,top:0},p2:{left:0,top:0},distancia:0,distanciapx:0}}}};Xe.limpar();const We=Xe,Ke={grava:async e=>{e.dadosNovos={documentoItem:[]},e.dadosNovos.documento={id:e.id,idEmpresa:e.idEmpresa,dataHoraEmissao:e.data,dataHoraFinalizado:e.validade,observacao:e.observacoes,tipo:"Prescrição",idContato:e.paciente.id,descricaoContato:e.paciente.nome},e.dadosNovos.documentoContato={id:e.medico.idDocumentoContato,idContato:e.medico.id,idDocumento:e.id,descricao:"Medico"};{let o=e.prescricao||{},t=[];t.push(((o.dioptria||{}).od||{}).longe||{}),t.push(((o.dioptria||{}).od||{}).medio||{}),t.push(((o.dioptria||{}).od||{}).perto||{}),t.push(((o.dioptria||{}).oe||{}).longe||{}),t.push(((o.dioptria||{}).oe||{}).medio||{}),t.push(((o.dioptria||{}).oe||{}).perto||{});const a=t.find((e=>"Longe"===e.status&&"Olho Direito"===e.operacao)),i=t.find((e=>"Longe"===e.status&&"Olho Esquerdo"===e.operacao)),r=!!(a.cilindrico||a.dnp||a.eixo||a.esferico||i.cilindrico||i.dnp||i.eixo||i.esferico),l=t.find((e=>"Medio"===e.status&&"Olho Direito"===e.operacao)),s=t.find((e=>"Medio"===e.status&&"Olho Esquerdo"===e.operacao)),n=!!(l.cilindrico||l.dnp||l.eixo||l.esferico||l.adicao||s.cilindrico||s.dnp||s.eixo||s.esferico||s.adicao),c=t.find((e=>"Perto"===e.status&&"Olho Direito"===e.operacao)),d=t.find((e=>"Perto"===e.status&&"Olho Esquerdo"===e.operacao)),m=!!(c.cilindrico||c.dnp||c.eixo||c.esferico||d.cilindrico||d.dnp||d.eixo||d.esferico);r||(a.base="",i.base="",a.prisma=null,i.prisma=null),n||(l.base="",s.base="",l.prisma=null,s.prisma=null,l.cilindrico=null,s.cilindrico=null,l.eixo=null,s.eixo=null),m||(c.base="",d.base="",c.prisma=null,d.prisma=null,c.cilindrico=null,d.cilindrico=null,c.eixo=null,d.eixo=null),r&&n&&(l.cilindrico=a.cilindrico,s.cilindrico=i.cilindrico,l.eixo=a.eixo,s.eixo=i.eixo),r&&m&&(c.cilindrico=a.cilindrico,d.cilindrico=i.cilindrico,c.eixo=a.eixo,d.eixo=i.eixo),r&&(a.prisma=o.prisma.od.valor,a.base=o.prisma.od.base,i.prisma=o.prisma.oe.valor,i.base=o.prisma.oe.base),n&&(l.prisma=o.prisma.od.valor,l.base=o.prisma.od.base,s.prisma=o.prisma.oe.valor,s.base=o.prisma.oe.base),m&&(c.prisma=o.prisma.od.valor,c.base=o.prisma.od.base,d.prisma=o.prisma.oe.valor,d.base=o.prisma.oe.base);for(const o of t){let t={};t.id=o.id,t.idDocumento=e.id,t.tipoItem="Prescrição",t.operacao=o.operacao,t.status=o.status,t.di=o.dnp,t.adicao=o.adicao,t.esferico=o.esferico,t.cilindrico=o.cilindrico,t.eixo=o.eixo,t.prisma=o.prisma,t.base=o.base,e.dadosNovos.documentoItem.push(t)}}let o=(0,d.clonarV2)(e);if(o.dadosOriginais||(o.dadosOriginais={}),o.dadosOriginais.documentoContato=o.dadosOriginais.documentoContato?[o.dadosOriginais.documentoContato]:[],o.dadosOriginais.documentoItem=o.dadosOriginais.documentoItem?o.dadosOriginais.documentoItem:[],o.dadosOriginais.documento=o.dadosOriginais.documento?o.dadosOriginais.documento:{},o.dadosNovos.documentoContato=o.dadosNovos.documentoContato?[o.dadosNovos.documentoContato]:[],await(0,d.processarFilho)("documentoContato",o.dadosOriginais.documentoContato,o.dadosNovos.documentoContato),await(0,d.processarFilho)("documentoItem",o.dadosOriginais.documentoItem,o.dadosNovos.documentoItem,{mantemNull:!0}),Object.keys(o.dadosOriginais.documento||{}).length){const e=(0,d.diferencaNivel1)(o.dadosOriginais.documento,o.dadosNovos.documento,{mantemNull:!0});Object.keys(e).length&&(await(0,a.X)().documento.update(o.dadosNovos.documento.id,e),await(0,d.sincronismoEnviar)("atualizar","documento",o.dadosNovos.documento.id,e))}else await(0,a.X)().documento.put(o.dadosNovos.documento),await(0,d.sincronismoEnviar)("adicionar","documento",o.dadosNovos.documento.id,o.dadosNovos.documento);return e},exclui:async e=>{const o=await(0,a.X)().documento.get(e),t=await(0,a.X)().documentoContato.where("idDocumento").equals(o.id).toArray();for(const e of t)await(0,a.X)().documentoContato.delete(e.id),await(0,d.sincronismoEnviar)("remover","documentoContato",e.id);const i=await(0,a.X)().documentoItem.where("idDocumento").equals(o.id).toArray();for(const e of i)await(0,a.X)().documentoItem.delete(e.id),await(0,d.sincronismoEnviar)("remover","documentoItem",e.id);await(0,a.X)().documento.delete(o.id),await(0,d.sincronismoEnviar)("remover","documento",o.id)},le:async e=>{const o=e.id,t={id:o,idEmpresa:"",paciente:{id:mo.contato.selecionado.id,nome:mo.contato.selecionado.nome},medico:{id:"",nome:"",idDocumentoContato:(0,d.uuid)()},data:"",validade:"",observacoes:"",dadosOriginais:{}};let i={},r={},l={},s={},n={},c={};const m=await(0,a.X)().documento.get(o)||{};if(t.dadosOriginais={documento:m},m.id){t.idEmpresa=m.idEmpresa,t.data=m.dataHoraEmissao,t.validade=m.dataHoraFinalizado,t.observacoes=m.observacao,t.paciente={id:m.idContato||"",nome:m.descricaoContato||""};const e=await(0,a.X)().documentoContato.where("idDocumento").equals(t.id).filter((e=>"Medico"===e.descricao)).first()||{};t.dadosOriginais.documentoContato=e;const o=await(0,a.X)().contato.get(e.idContato||"")||{};t.medico={idDocumentoContato:e.id||(0,d.uuid)(),id:o.id||"",nome:o.nome||""},t.prescricao=await(0,a.X)().documentoItem.where("idDocumento").equals(t.id).filter((e=>"Prescrição"===e.tipoItem)).toArray(),t.dadosOriginais.documentoItem=t.prescricao||[],i=t.prescricao.filter((e=>"Olho Direito"===e.operacao&&"Longe"===e.status))[0]||{},r=t.prescricao.filter((e=>"Olho Direito"===e.operacao&&"Medio"===e.status))[0]||{},l=t.prescricao.filter((e=>"Olho Direito"===e.operacao&&"Perto"===e.status))[0]||{},s=t.prescricao.filter((e=>"Olho Esquerdo"===e.operacao&&"Longe"===e.status))[0]||{},n=t.prescricao.filter((e=>"Olho Esquerdo"===e.operacao&&"Medio"===e.status))[0]||{},c=t.prescricao.filter((e=>"Olho Esquerdo"===e.operacao&&"Perto"===e.status))[0]||{}}let u=(0,d.numberOrNull)(i.prisma||r.prisma||l.prisma),p=i.base||r.base||l.base||"",h=(0,d.numberOrNull)(s.prisma||n.prisma||c.prisma),C=s.base||n.base||c.base||"";return t.prescricao={dioptria:{od:{longe:{cilindrico:(0,d.numberOrNull)(i.cilindrico),dnp:(0,d.numberOrNull)(i.di),eixo:(0,d.numberOrNull)(i.eixo),esferico:(0,d.numberOrNull)(i.esferico),id:i.id||(0,d.uuid)(),operacao:"Olho Direito",status:"Longe"},medio:{cilindrico:(0,d.numberOrNull)(r.cilindrico),eixo:(0,d.numberOrNull)(r.eixo),adicao:(0,d.numberOrNull)(r.adicao),dnp:(0,d.numberOrNull)(r.di),esferico:(0,d.numberOrNull)(r.esferico),id:r.id||(0,d.uuid)(),operacao:"Olho Direito",status:"Medio"},perto:{adicao:(0,d.numberOrNull)(l.adicao),cilindrico:(0,d.numberOrNull)(l.cilindrico),dnp:(0,d.numberOrNull)(l.di),eixo:(0,d.numberOrNull)(l.eixo),esferico:(0,d.numberOrNull)(l.esferico),id:l.id||(0,d.uuid)(),operacao:"Olho Direito",status:"Perto"}},oe:{longe:{cilindrico:(0,d.numberOrNull)(s.cilindrico),dnp:(0,d.numberOrNull)(s.di),eixo:(0,d.numberOrNull)(s.eixo),esferico:(0,d.numberOrNull)(s.esferico),id:s.id||(0,d.uuid)(),operacao:"Olho Esquerdo",status:"Longe"},medio:{cilindrico:(0,d.numberOrNull)(n.cilindrico),eixo:(0,d.numberOrNull)(n.eixo),adicao:(0,d.numberOrNull)(n.adicao),dnp:(0,d.numberOrNull)(n.di),esferico:(0,d.numberOrNull)(n.esferico),id:n.id||(0,d.uuid)(),operacao:"Olho Esquerdo",status:"Medio"},perto:{adicao:(0,d.numberOrNull)(c.adicao),cilindrico:(0,d.numberOrNull)(c.cilindrico),dnp:(0,d.numberOrNull)(c.di),eixo:(0,d.numberOrNull)(c.eixo),esferico:(0,d.numberOrNull)(c.esferico),id:c.id||(0,d.uuid)(),operacao:"Olho Esquerdo",status:"Perto"}}},prisma:{od:{base:p,valor:u},oe:{base:C,valor:h}}},t},leReceitas:async e=>{let o=[];const t=await(0,a.X)().documento.where({tipo:"Prescrição"}).toArray(),i={idContato:"",idsPaciente:[],idsMedico:[],validade:"",...e},r=(new Date).setHours(0,0,0,0);for(const e of t)if("Prescrição"===e.tipo&&(!i.idContato||i.idContato===e.idContato)&&(!i.idsPaciente.length||i.idsPaciente.includes(e.idContato))){if("aVencer"===i.validade&&new Date(e.validade).setHours(0,0,0,0)<r)continue;if("vencido"===i.validade&&new Date(e.validade).setHours(0,0,0,0)>=r)continue;o.push(e)}return o}},eo=Ke,oo={log:`${(new Date).toLocaleTimeString("pt-br")} iniciou`,logar(e){this.log=(e+"\n"+this.log).substr(0,1e4),localStorage.setItem("sincronismoLog",this.log)}},to={baixaConteudoOnline:async e=>(0,d.executarSql)(`select nome, arquivo from SpedArquivo where id=${(0,d.sqlStr)(e)}`),leOnline:async()=>(0,d.executarSql)("select id, nome, situacao, dataHoraSolicitacao, cnpj, codigoEmpresa, dataInicio, dataFim, dataInventario from SpedArquivo order by dataHoraSolicitacao desc")};var ao=t(56435),io=t.n(ao);const ro={id:"",apelido:"",nome:"",imagem:"",numeroDocumentoNacional:"",administrador:!1,codigoUsuario:"",desenvolvedor:function(){return["21913066835","26088910801","01859441599","22591100888","21397498803","27379313800","33209680841"].includes(this.numeroDocumentoNacional.replace(/\.|-/g,""))}},lo={vazio:ro,async desenvolvedor(){return!!this.logado&&!!this.logado.desenvolvedor&&this.logado.desenvolvedor()},grava:()=>{},le:async(e={})=>{let o={};if("id"in e&&e.id&&(o=await(0,a.X)().contato.where({idUsuario:e.id}).first()),!o)try{o=(await(0,d.geeksApi)({consultarUsuario:{funcao:"0A267FF5-E96A-4B47-9818-DB27EDA3555A",id:e.id}})).data.consultarUsuario||{}}catch(e){console.error(e),o=null}return o||{}},leOnline:async e=>(0,d.executarSql)(`SELECT id, codigoUsuario, Nome as nome, Nome as apelido, NumeroDocumentoNacional as numeroDocumentoNacional, Img as imagem\n       FROM Usuario WHERE id = ${(0,d.sqlStr)(e,"")}`,"GeeksPlat15A"),async carregaDados(){d.gconsole.log("carregaDados",mo.cache.get("bancoDeDados")),await _._.empresaUsuarioPermissao.inicializarPermissao(),mo.contatoBusca.inicializar(),mo.item.carregarMemoria(),mo.configuracoes.inicializa(),(0,d.verificarConduta)()},async inicializaLogado(){if(!lo.logado.id){d.gconsole.log("usuario","inicializaLogado()");let e=JSON.parse(localStorage.getItem("usuario"));e&&e.cpf&&(e=await a.s.login.get({cpf:e.cpf}),lo.logado={...ro,...e})}},async autentica({cpf:e,senha:o}){d.gconsole.log("usuario","autentica()",e);const t=io()(o).toString();let i;if(!navigator.onLine)throw new Error("Usuário não encontrado. Conecte-se à Internet.");const r=(await(0,d.geeksApi)({login:{funcao:"0F8E5067-A8B2-4C82-9275-25B114B9ED70",cpf:e,senha:o}})).data.login;return d.gconsole.log("usuario","login graphql ok",r.usuario.nome),i={...r.usuario,token:r.token,cpf:e,senha:t},await a.s.login.put(i),localStorage.setItem("usuario",JSON.stringify(i)),lo.logado={...ro,...i},d.gconsole.log("usuario","salva usuario indexeddb, localStore e db.logado ok"),i},desconecta(){localStorage.removeItem("usuario"),localStorage.removeItem("contatoSelecionado"),localStorage.removeItem("itemSelecionado"),lo.logado=(0,d.clonar)(ro)},logado:{...ro}};async function so(e={},o){for(const t of e.documentoItens){if(e.listaMaximoDesconto.find((e=>e.id===t.id)))continue;if(!t.idItem||1===t.operacaoFator)continue;let a,i,r,l,s;await e.configurarValoresTabelaPreco(e.tbMaster,t),a=e.valoresTabelaPreco.find((e=>e.id===t.id)),a&&(o&&a.maximoDescontoGerente<a.maximoDesconto||(i=a.quantidadeMaiorQue&&t.quantidade>=a.quantidadeMaiorQue?a.maximoDescontoMaiorQue:o?a.maximoDescontoGerente:a.maximoDesconto,l=$utils.arredondar(t.valorOriginal-i/100*t.valorOriginal),s=$utils.arredondar(t.valorItem-t.descontoItem-t.descontoTotalRateado),r=i,t.valorItem!==t.valorOriginal&&(r=$utils.arredondar((t.valorItem-l)/t.valorItem*100)),e.totalVMinimo=$utils.arredondar(e.totalVMinimo+l*t.quantidade),s<l&&e.listaMaximoDesconto.push({id:t.id,descricao:t.descricaoItem,maximoDesconto:r})))}}async function no({venda:e,carrinho:o}){for(const e of o){let o=e.valorItem-e.descontoItem;e.subTotal=$utils.arredondar(o*e.quantidade),e.total=e.subTotal,e.valorReal=o,e.valorRealTotal=e.total}return{carrinho:o}}const co={grava:async e=>{let o=((e=(0,d.compactarObjeto)(e)).customs||[]).map((e=>e.documento||{})),t=(e.customsOriginal||[]).map((e=>e.documento||{})),i=(e.customs||[]).reduce(((e,o)=>[...e,...o.documentoItens||[]]),[]),r=(e.customsOriginal||[]).reduce(((e,o)=>[...e,...o.documentoItens||[]]),[]),l=(e.customs||[]).reduce(((e,o)=>[...e,...o.arquivo||[]]),[]),s=(e.customsOriginal||[]).reduce(((e,o)=>[...e,...o.arquivo||[]]),[]);await(0,d.processarFilho)("documento",t,o),await(0,d.processarFilho)("documentoItem",r,i),await(0,d.processarFilho)("arquivo",s,l),o=(e.oss||[]).map((e=>e.documento||{})),t=(e.ossOriginal||[]).map((e=>e.documento||{})),i=(e.oss||[]).reduce(((e,o)=>[...e,...o.documentoItens||[]]),[]),r=(e.ossOriginal||[]).reduce(((e,o)=>[...e,...o.documentoItens||[]]),[]),l=(e.oss||[]).reduce(((e,o)=>[...e,...o.arquivo||[]]),[]),s=(e.ossOriginal||[]).reduce(((e,o)=>[...e,...o.arquivo||[]]),[]),await(0,d.processarFilho)("documento",t,o),await(0,d.processarFilho)("documentoItem",r,i),await(0,d.processarFilho)("arquivo",s,l);let n=[],c=[],m={};for(const o of e.envelopesOriginal||[])n=[...n,...o.documentoContato||[]],delete o.documentoContato;for(const o of e.envelopes||[]){if(c=[...c,...o.documentoContato||[]],m=o.armacao||{},(o.pupilometro||{}).atual&&(mo.pupilometro.gravar({original:(o.pupilometro||{}).original,atual:(o.pupilometro||{}).atual}),console.log("pupilometro: ",o.pupilometro)),m.id){const e=await(0,a.X)().item.get(m.id)||{};if(e.id){const o={};e.tamanho!==m.tamanho&&(o.tamanho=m.tamanho),e.altura!==m.altura&&(o.altura=m.altura),e.largura!==m.largura&&(o.largura=m.largura),e.diagonal!==m.diagonal&&(o.diagonal=m.diagonal||0),e.ponte!==m.ponte&&(o.ponte=m.ponte),e.armacaoMaterial!==m.armacaoMaterial&&(o.armacaoMaterial=m.armacaoMaterial),e.tipoMontagem!==m.tipoMontagem&&(o.tipoMontagem=m.tipoMontagem),Object.keys(o).length&&(await(0,a.X)().item.update(m.id,o),await(0,d.sincronismoEnviar)("atualizar","item",m.id,o),mo.item.carregarMemoria(e.id))}}delete o.documentoContato,delete o.armacao,delete o.pupilometro}if(await(0,d.processarFilho)("documento",e.envelopesOriginal||[],e.envelopes||[]),await(0,d.processarFilho)("documentoContato",n||[],c||[]),await(0,d.processarFilho)("documentoItem",e.carrinhoOriginal||[],e.carrinho||[]),await(0,d.processarFilho)("documentoCondicaoPagamento",e.condicaoPagamentoOriginal||[],e.condicaoPagamento||[]),await(0,d.processarFilho)("documentoEndereco",e.documentoEnderecoOriginal||[],e.documentoEndereco||[]),await(0,d.processarFilho)("documentoContato",e.documentoContatoOriginal||[],e.documentoContato||[]),await(0,d.processarFilho)("documentoStatus",[],e.documentoStatus||[]),await(0,d.processarFilho)("arquivo",e.arquivoOriginal||[],e.arquivo||[]),Object.keys(e.vendaOriginal||{}).length){const o=(0,d.diferencaObjetos)(e.vendaOriginal,e.venda);Object.keys(o).length&&(await(0,a.X)().documento.update(e.venda.id,o),await(0,d.sincronismoEnviar)("atualizar","documento",e.venda.id,o))}else await(0,a.X)().documento.put(e.venda),await(0,d.sincronismoEnviar)("adicionar","documento",e.venda.id,e.venda)},leNew:async e=>{if("id"in(e=e||{}))return e.id&&await(0,a.X)().documento.get(e.id)||{};let o={tipo:"Venda"};"idContato"in e&&e.idContato&&(o.idContato=e.idContato),"idFatura"in e&&e.idFatura&&(o.idFatura=e.idFatura),"idDocumentoAdicional"in e&&e.idDocumentoAdicional&&(o.idDocumentoAdicional=e.idDocumentoAdicional),"idContatoVendedor"in e&&e.idContatoVendedor&&(o.idContatoVendedor=e.idContatoVendedor),"idContatoDigitador"in e&&e.idContatoDigitador&&(o.idContatoDigitador=e.idContatoDigitador),"idEmpresa"in e&&e.idEmpresa&&(o.idEmpresa=e.idEmpresa),"documentoId"in e&&e.documentoId&&(o.documentoId=e.documentoId),"status"in e&&e.status&&(o.status=e.status),"operacao"in e&&e.operacao&&(o.operacao=e.operacao);let t=(0,a.X)().documento;return Object.keys(o).length&&(t="periodoEmissao"in e||"periodoFinalizado"in e?t.where(o).and((function(o){if("periodoEmissao"in e&&e.periodoEmissao){let t=new Date(e.periodoEmissao.ini).setHours(0,0,0,0),a=new Date(e.periodoEmissao.fim).setHours(0,0,0,0),i=new Date(o.dataHoraEmissao).setHours(0,0,0,0);return t&&a?i>=t&&i<=a:t?i>=t:!a||i<=a}})).and((function(o){if("periodoFinalizado"in e&&e.periodoFinalizado){let t=new Date(e.periodoFinalizado.ini).setHours(0,0,0,0),a=new Date(e.periodoFinalizado.fim).setHours(0,0,0,0),i=new Date(o.dataHoraFinalizado).setHours(0,0,0,0);return t&&a?i>=t&&i<=a:t?i>=t:!a||i<=a}})):t.where(o)),e.or&&(t=t.filter((o=>{for(const t in e.or)if(o[t]===e.or[t])return!0;return!1}))),e.and&&(t=t.filter((o=>{for(const t in e.and)if(o[t]!==e.and[t])return!1;return!0}))),await t.toArray()||[]},le:async({filtros:e,colunas:o})=>{e=e||{};let t=[];if("offline"===localStorage.getItem("rede")){if(e.id)return await(0,a.X)().documento.get(e.id)||{};delete e.id,t=await(0,a.X)().documento.toArray()||[],t=t.filter((e=>"Venda"===e.tipo)),t=t.filter((o=>{let t=!0;for(const a in e)if(o[a]!==e[a]){t=!1;break}return t}))}else{let a="";for(const o in e)a+=`${o} = '${e[o]}' and `;a+=" tipo = 'Venda'";let i=`select top 30 ${o.split(" ").join(", ")} from documento where ${a}`;t=await(0,d.executarSql)(i,"x_req48473u")}return t},leCompleto:async e=>{const o={};o.venda=e&&await(0,a.X)().documento.get(e)||{};const t=o.venda.id&&await(0,a.X)().documentoItem.where({idDocumento:o.venda.id}).sortBy("dataHoraEmissao")||[];o.carrinho=t.filter((e=>!e.idDocumentoAdicional)),o.condicaoPagamento=o.venda.id&&await(0,a.X)().documentoCondicaoPagamento.where({idDocumento:o.venda.id}).toArray()||[],o.documentoEndereco=o.venda.id&&await(0,a.X)().documentoEndereco.where({idDocumento:o.venda.id}).toArray()||[];const i=o.venda.id&&await(0,a.X)().documento.where({tipo:"Envelope",documentoId:o.venda.id}).toArray()||[];o.itensEnvelopes=[],o.envelopes={};for(const e of i){o.envelopes[e.id]=e;const t=e.id&&await(0,a.X)().documentoItem.where({idDocumentoAdicional:e.id}).toArray()||[];o.itensEnvelopes=[...o.itensEnvelopes,...t]}o.customs=(await mo.documento.le({tipo:"Custom",documentoId:o.venda.id})).map((e=>({documento:{...e}})));for(const e of o.customs)e.documentoItens=await mo.documentoItem.le({idDocumentoAdicional:e.documento.id}),e.arquivo=await mo.arquivo.le({idTabelaMaster:e.documento.id});o.oss=(await mo.documento.le({tipo:"Ordem de Serviço",documentoId:o.venda.id})).map((e=>({documento:{...e}})));for(const e of o.oss)e.documentoItens=await mo.documentoItem.le({idDocumentoAdicional:e.documento.id}),e.arquivo=await mo.arquivo.le({idTabelaMaster:e.documento.id});o.item={};for(const e of o.carrinho){let t=e.idItem&&await(0,a.X)().item.get(e.idItem)||{};t={...t,marca:t.marca||"",referencia:t.referencia||"",imagem:t.imagem||""},o.item[t.id]=t}return o},checarConflitoStatus:async({id:e,status:o})=>{try{await $db.documento.checarConflitoStatus({id:e,status:o})}catch(e){if("status"===e.message)throw new Error("Não é possível continuar pois o status atual difere do status encontrado no servidor.");const o=(await $erp().configuracoes.where({nome:"vendas.bloqueia.offline"}).toArray())[0];if(Number(o?.valor))throw new Error("Não foi possível consultar o status no servidor.")}},calcularTotais:async function({objsVenda:e,campoAlterado:o}){let{venda:t,carrinho:a,envelopes:i,itensEnvelopes:r,customs:l,oss:s}=e;t.subTotal=0,t.totalProduto=0,t.totalServico=0;let n=0;for(const e of a||[])t.subTotal=$utils.arredondar(t.subTotal+e.total),t.calcularTributacao&&(n+=(e.valorIpi||0)+(e.valorIcmsSt||0)+(e.valorDifal||0));for(const e in i||{}){let o=i[e];if(t.subTotal=$utils.arredondar(t.subTotal+o.totalDocumento),t.calcularTributacao)for(const o of r.filter((o=>o.idDocumentoAdicional===e)))n+=(o.valorIpi||0)+(o.valorIcmsSt||0)+(o.valorDifal||0)}for(const e of l||[])if(t.subTotal=$utils.arredondar(t.subTotal+e.documento.totalDocumento),t.calcularTributacao)for(const o of e.documentoItens)n+=(e.valorIpi||0)+(e.valorIcmsSt||0)+(e.valorDifal||0);for(let e of s||[]){for(let o of e.documentoItens)await $db.os.calculaTotalItem({os:e.documento,itemOs:$utils.clonarV2(o)}).then((e=>{o=e.itemOs})),t.calcularTributacao&&(n+=(o.valorIpi||0)+(o.valorIcmsSt||0)+(o.valorDifal||0));await $db.os.calculaTotal({os:$utils.clonarV2(e.documento),itensOs:e.documentoItens}).then((o=>{e.documento=o.os})),t.subTotal=$utils.arredondar(t.subTotal+e.documento.totalDocumento)}"totalPercentualDesconto"===o&&(t.subTotal>0?t.totalDesconto=$utils.arredondar(t.totalPercentualDesconto/100*t.subTotal):(t.totalDesconto=0,t.totalPercentualDesconto=0,t.totalDocumento=0)),"totalDesconto"===o&&(t.subTotal>0?t.totalPercentualDesconto=$utils.arredondar(t.totalDesconto/t.subTotal*100):(t.totalDesconto=0,t.totalPercentualDesconto=0,t.totalDocumento=0)),o||(t.totalPercentualDesconto=$utils.arredondar(t.totalDesconto/t.subTotal*100));const c="CIF"===t.tipoFrete&&t.valorFrete||0;return t.totalProduto=t.subTotal,t.totalDocumento=$utils.arredondar(t.subTotal-t.totalDesconto+c+n),{venda:t}},checarTabelasPreco:async function(e={}){const{tela:o,carrinho:t,itensEnvelopes:a,documentosItensCustoms:i,documentosItensOSs:r}=e;if(!o.venda.idItemTabelaPreco)return!0;const l=await $erp().itemTabelaPreco.get(o.venda.idItemTabelaPreco);if(!l)throw new Error("Não foi possível obter a tabela de preço");const s=[];let n=await $db.permissao.objeto("Diretiva_Vendas_DescontoMaximo"),c=await $db.permissao.objeto("Diretiva_Vendas_DescontoMaximoNivelGerente"),d=await $db.permissao.objetoClienteSistema("Diretiva_Vendas_DescontoMaximoNivelGerente"),m=!1;t.forEach((e=>s.push(e))),i.forEach((e=>s.push(e))),r.forEach((e=>s.push(e))),a.forEach((e=>s.push(e)));let u=o.venda.totalDocumento;for(const e of s)e.idItem&&1!==e.operacaoFator||(u=$utils.arredondar(u-e.valorRealTotal));const p={configurarValoresTabelaPreco:o.configurarValoresTabelaPreco,valoresTabelaPreco:o.valoresTabelaPreco,tbMaster:l,totalVMinimo:0,documentoItens:s,listaMaximoDesconto:[]};d&&(await so(p,!0),p.listaMaximoDesconto.length&&(m=!0)),await so(p);const h=parseInt(await $db.configuracoes.leValorComFiltroEmpresa("vendas.margem.trava",o.venda.idEmpresa,0))?$lodash.get(o.margem[o.venda.id],"limite",!1):0;if(p.listaMaximoDesconto.length||u<0||h){if(!h){const e="Existe(m) produto(s) com desconto superior ao máximo permitido";$q.notifyError(e)}h&&(o.modalDescontoMaximo.msg="Índice geral não permitido"),o.modalDescontoMaximo.titulo="Limite de desconto excedido",o.modalDescontoMaximo.permiteDescontoMaximo=n,m&&(o.modalDescontoMaximo.titulo="Limite de desconto excedido (Gerente)",o.modalDescontoMaximo.permiteDescontoMaximo=c),o.modalDescontoMaximo.itens=p.listaMaximoDesconto,$q.loading.hide();let e=!1;if(await new Promise((async(e,t)=>{o.modalDescontoMaximo.resolve=e,o.modalDescontoMaximo.reject=t,o.modalDescontoMaximo.visivel=!0})).then((t=>{if("continuar"===t){const t=o.venda.status,a="Aguardando Liberação";o.documentoStatus.push({id:$utils.uuid(),idDocumento:o.venda.id,operacao:o.venda.operacao,statusOriginal:t,statusFinalizado:a,dataHoraEmissao:$utils.dataAtual(),idUsuarioAlterou:o.venda.idContatoFinalizado,observacao:o.modalDescontoMaximo.itens.reduce(((e,o)=>e+o.descricao+" | "),"").slice(0,-3)}),o.venda.status=a,o.salvarVenda().then((()=>{o.$emit("executar","atualizar")})),e=!0}o.modalDescontoMaximo.visivel=!1})).catch((()=>{e=!0})),e)return!1;$q.loading.show({message:"Processando..."})}return!0},duplicar:function(e){const o=e=>{delete e.codigoDocumento,delete e.codigoDocumentoAdicional,delete e.codigoNFe,delete e.codigoEmpresa,delete e.codigoEmpresaEndereco,delete e.codigoContatoEndereco,delete e.codigoContatoResponsavel,delete e.codigoContato,delete e.codigoContatoFinalizado,delete e.codigoContatoComprador,delete e.codigoContatoVendedor,delete e.codigoContatoDigitador,delete e.codigoContatoCobranca,delete e.codigoContatoEnderecoEntrega,delete e.codigoContatoTransportadora,delete e.codigoMinuta,delete e.codigoFatura,delete e.codigoFinanceiroPlanoContaFaturamento,delete e.codigoItemTabelaPreco,delete e.codigoContatoResponsavelMinuta,delete e.codigoCaixa,delete e.codigoFinanceiroPlanoContaCaixa,delete e.codigoContatoIndicacao,delete e.codigoDocumentoItem,delete e.codigoDocumento,delete e.codigoDocumentoAdicional,delete e.codigoPlanoContaEstoque,delete e.codigoPlanoContaDestino,delete e.codigoItem,delete e.codigoDocumentoItemPai,delete e.codigoCFOP,delete e.codigoDocumentoVenda,delete e.codigoDocumentoItemVenda,delete e.codigoDocumentoRemessa,delete e.codigoDocumentoCompra,delete e.codigoDocumentoTriagem,delete e.codigoContatoFornecedor,delete e.documentoCodigo,delete e.numero},t=e=>{const t=[];for(const i of e){const e={...i.documento},r=e.numero;e.id=(0,d.uuid)(),e.documentoId=a.id,o(e),"Custom"===e.tipo&&(e.numero=r);const l=[];for(const o of i.arquivo)l.push({...o,id:(0,d.uuid)(),idTabelaMaster:e.id});const s=[];for(const t of i.documentoItens){const i={...t};i.id=(0,d.uuid)(),i.idDocumento=a.id,i.idDocumentoAdicional=e.id,o(i),s.push(i)}t.push({arquivo:l,documento:e,documentoItens:s})}return t},a={...e.venda};a.id=(0,d.uuid)(),o(a);const i=[];for(const o of e.documentoEndereco||[])i.push({...o,id:(0,d.uuid)(),idDocumento:a.id});const r=[];for(const o of e.documentoContato||[])r.push({...o,id:(0,d.uuid)(),idDocumento:a.id});const l=[];for(const o of e.documentoStatus||[])l.push({...o,id:(0,d.uuid)(),idDocumento:a.id});const s={},n={};for(const t in e.envelopes||{}){const i={...e.envelopes[t]};i.id=(0,d.uuid)(),s[t]=i.id,i.documentoId=a.id,o(i);const r=[];for(const e of i.documentoContato||[])r.push({...e,idDocumento:i.id});i.documentoContato=r,n[i.id]=i}const c=[];for(const o of e.arquivo||[])c.push({...o,id:(0,d.uuid)(),idTabelaMaster:s[o.idTabelaMaster]});const m=[];for(const t of e.itensEnvelopes||[]){const e={...t};e.id=(0,d.uuid)(),e.idDocumento=a.id,e.idDocumentoAdicional=s[e.idDocumentoAdicional],o(e),m.push(e)}const u=[];for(const t of e.carrinho||[]){const e={...t};e.id=(0,d.uuid)(),e.idDocumento=a.id,o(e),u.push(e)}const p=t(e.customs||[]),h=t(e.oss||[]);return{venda:a,carrinho:u,customs:p,oss:h,envelopes:n,itensEnvelopes:m,documentoEndereco:i,documentoContato:r,documentoStatus:l,arquivo:c}},finalizar:async function({tela:e}){try{await new Promise(((e,o)=>{$q.dialog({cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},message:"Esta ação irá finalizar este orçamento",ok:{label:"Continuar",push:!0,class:"bg-primary",textColor:"white",flat:!0},title:"Tem certeza?"}).onOk((()=>{e()})).onCancel((()=>{o()}))}))}catch(e){return}try{$q.loading.show({message:"Processando..."});try{await $db.venda.checarConflitoStatus({id:e.venda.id,status:e.vendaOriginal.status})}catch(e){return $q.notifyError(e.message),!1}for(const o of e.carrinho.map((e=>e.id)))await e.carrinhoCalcularTotais(o,null,!1);if(e.calcularTotais(),e.erroCalculo)return $q.loading.hide(),void $q.notifyError("Não é possível finalizar a Venda. Erro de cálculo encontrado.");const o={venda:e.venda,carrinho:e.carrinho,envelopes:e.envelopes,itensEnvelopes:e.itensEnvelopes,customs:e.customs,oss:e.oss,documentoEndereco:e.documentoEndereco,documentoContato:e.documentoContato,arquivo:e.arquivo},{objsVendaComEstoque:t,objsVendaSemEstoque:a,itensSemEstoque:i}=await $db.venda.separaSemEstoque(o);if(i.length){const o=new Promise(((o,t)=>{e.modalItemSemEstoque.resolve=o,e.modalItemSemEstoque.reject=t}));e.modalItemSemEstoque.itens=i,e.modalItemSemEstoque.opcao="separar",e.modalItemSemEstoque.opcoes=[{label:"Separar pedido com itens sem estoque",value:"separar"},{label:"Colocar pedido todo como Aguardando Estoque",value:"aguardar"}],t.carrinho.length||Object.keys(t.envelopes).length||t.customs.length||t.oss.length||(e.modalItemSemEstoque.opcao="aguardar",e.modalItemSemEstoque.opcoes=[]),a.carrinho.length||Object.keys(a.envelopes).length||!a.customs.length||a.oss.length||(e.modalItemSemEstoque.opcao="finalizar",e.modalItemSemEstoque.opcoes=[]),e.modalItemSemEstoque.visivel=!0;let r=!0;try{await o,e.modalItemSemEstoque.visivel=!1}catch(e){r=!1}if(!r)return;if("aguardar"===e.modalItemSemEstoque.opcao){const o=$db.venda.trocarStatus({status:"Aguardando Estoque",objsVenda:{venda:e.venda,carrinho:e.carrinho,envelopes:e.envelopes,itensEnvelopes:e.itensEnvelopes,customs:e.customs,oss:e.oss,arquivo:e.arquivo}});return e.venda=o.objsVenda.venda,e.carrinho=o.objsVenda.carrinho,e.envelopes=o.objsVenda.envelopes,e.itensEnvelopes=o.objsVenda.itensEnvelopes,e.customs=o.objsVenda.customs,e.oss=o.objsVenda.oss,await e.salvarVenda(),void e.$emit("executar","fechar")}if("separar"===e.modalItemSemEstoque.opcao){e.venda=t.venda,e.carrinho=t.carrinho,e.envelopes=t.envelopes,e.itensEnvelopes=t.itensEnvelopes,e.customs=t.customs,e.oss=t.oss,e.arquivo=t.arquivo;const o=[a.venda];let i=a.arquivo||[],r=a.carrinho||[];r=r.concat(a.itensEnvelopes||[]);for(const e in a.envelopes)o.push(a.envelopes[e]);for(const e of a.customs)o.push(e.documento),r=r.concat(e.documentoItens||[]),i=i.concat(e.arquivo);for(const e of a.oss)o.push(e.documento),r=r.concat(e.documentoItens||[]),i=i.concat(e.arquivo);await $utils.processarFilho("documento",[],o),await $utils.processarFilho("documentoItem",[],r),await $utils.processarFilho("arquivo",[],i)}}let r,l,s,n,c,d,m,u,p,h,C,v,f;if(r=$utils.clonar(e.venda),l=$utils.clonar(e.carrinho),s=$utils.clonar(e.envelopes),n=$utils.clonar(e.itensEnvelopes),c=$utils.clonar(e.documentoEndereco),d=e.customs.reduce(((e,o)=>[...e,...o.documentoItens||[]]),[]),m=e.oss.reduce(((e,o)=>[...e,...o.documentoItens||[]]),[]),u=await $db.contato.le({id:r.idContato}),p=await $db.empresa.le({idContato:r.idEmpresa}),p=p.length?p[0]:{},h=await $db.contato.le({id:p.idContato}),C=await $db.contatoEndereco.le({idContato:r.idContato}),v=await $db.contatoTelefone.le({idContato:r.idContato}),f=C.filter((e=>"Principal"===e.grupo)),e.$refs.faturamento.formasPagamento.find((e=>e.utilizaLimite))){const o=$utils.arredondar(u.creditoDisponivel),t=$utils.arredondar(r.totalDocumento);if(t>o){e.modalCreditoDisponivel.permiteFinalizar=await $db.permissao.objeto("Diretiva_Vendas_LimiteCredito"),e.modalCreditoDisponivel.title="Limite de crédito insuficiente",e.modalCreditoDisponivel.body=`Limite ${e.$filters.numero(o,2)} - Venda ${e.$filters.numero(t,2)}`,$q.loading.hide();let a=!1;if(await new Promise((async(o,t)=>{e.modalCreditoDisponivel.resolve=o,e.modalCreditoDisponivel.reject=t,e.modalCreditoDisponivel.visivel=!0})).then((o=>{if("continuar"===o){const o=e.venda.status,t="Aguardando Financeiro";e.documentoStatus.push({id:$utils.uuid(),idDocumento:r.id,operacao:r.operacao,statusOriginal:o,statusFinalizado:t,dataHoraEmissao:$utils.dataAtual(),idUsuarioAlterou:r.idContatoFinalizado,observacao:e.modalCreditoDisponivel.title+". "+e.modalCreditoDisponivel.body}),e.venda.status=t,e.salvarVenda().then((()=>{e.$emit("executar","atualizar")})),a=!0}e.modalCreditoDisponivel.visivel=!1})).catch((()=>{a=!0})),a)return}}$q.loading.show({message:"Processando..."});const N=parseInt(await $db.configuracoes.leValorComFiltroEmpresa("vendas.usaExpedicao",r.idEmpresa,0))||0,V=N?"Aguardando Separação":"Aguardando Faturamento";if(e.$refs.transporte&&N&&!e.$refs.transporte.transporte)return $q.notify({message:"É necessário incluir transporte para finalizar!"}),!1;await e.atualizaUsaFatura(p);let g=!1;1===e.geraFatura&&(g=!0);const x=$utils.arredondar(e.$refs.faturamento.condicaoPagamento.reduce(((e,o)=>e+(o.valor||0)),0));if(2===e.geraFatura&&!x)try{$q.loading.hide(),await $q.dialog({cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},message:"Não há condição de pagamento. Deseja gerar fatura?",noRefocus:!0,ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0},preventClose:!0,title:"Confirma?"}),$q.loading.show({message:"Processando..."}),g=!0}catch(e){}if(!g&&e.venda.totalDocumento&&!x)return $q.notify({message:"É necessário incluir forma de pagamento para finalizar!"}),!1;let b={};for(const e of await $db.configuracoes.le())b[e.nome]||(b[e.nome]=[]),b[e.nome].push(e);if(b["vendas.validarestricao"]&&1===parseInt(b["vendas.validarestricao"][0].valor)&&(u.condutaRestricao||"").trim())return $q.notify({message:u.condutaRestricao,timeout:0,type:"negative",closeBtn:!0}),!1;let w="";if(r.numeroDocumentoContato||(u.numeroDocumentoNacional?r.numeroDocumentoContato=u.numeroDocumentoNacional:w+="Número CPF/CNPJ, "),C.length){const e=[...f,...C][0];if(!r.descricaoContatoEndereco){r.descricaoContatoEndereco="".concat(e.logradouro||"",", ",e.numero||""," ",e.complemento||""," - ",e.bairro||""," - ",e.municipio||"","/",e.uf||"");for(const o of c)o.idContatoEndereco=e.id,o.idCidade=e.idCidade,o.descricao=r.descricaoContatoEndereco,o.logradouro=e.logradouro,o.numero=e.numero,o.complemento=e.complemento,o.condominio=e.condominio,o.bairro=e.bairro,o.cep=e.cep,o.ibgeCod=e.ibgeCod,o.municipio=e.municipio,o.uf=e.uf,o.ufCod=e.ufCod,o.pais=e.pais,o.grupo=e.grupo,o.cidadeCodChave=e.cidadeCodChave,o.observacao=e.observacao}}else w+="Endereço, ";if(r.telefoneContato||(v.length?r.telefoneContato=v[0].telefone:w+="Telefone, "),r.numeroDocumentoContato||(r.numeroDocumentoContato=u.numeroDocumentoNacional),(r.numeroDocumentoContato||"").length>14&&(""===u.numeroDocumentoEstadual&&(w+="I.E., "),r.regimeContato||(u.regime?r.regimeContato=u.regime:w+="Regime fiscal, ")),h.email||h.emailNfe||(w+="E-mail do emitente, "),b["vendas.validainformacoes"]&&1===parseInt(b["vendas.validainformacoes"][0].valor)&&""!==w)return $q.notify({message:"Faltando campos obrigatórios do cliente: "+w.slice(0,-2),timeout:0,type:"negative",closeBtn:!0}),!1;r.pesoTotalTransporte=0;let _=0;for(const e of l){if(0===e.descontoItem&&0===e.total)return $q.notify({message:"Existe item no pedido com valor zerado.",timeout:0,type:"warning",closeBtn:!0}),!1;if(1===e.operacaoFator){let o=await $db.venda.leNew({idContato:r.idContato});o=o.filter((e=>!["Orçamento","Não Aprovado","Cancelado"].includes(e.status)));let t=[];for(const a of o){let o=await $db.documentoItem.leNew({idDocumento:a.id,idItem:e.idItem});t=[...t,...o]}const a=t.reduce(((e,o)=>(-1===o.operacaoFator&&(e+=o.quantidade),1===o.operacaoFator&&(e-=o.quantidade),e)),0);if(e.quantidade>a)return void $q.notify(e.descricaoItem.trim()+" - Saldo disponível para devoluções: "+a)}if(e.total>0){const o=$utils.arredondar(100*(e.total||0)/(r.subTotal||1)),t=$utils.arredondar((r.totalDesconto||0)*(o||0)/100),a=(e.valorItem||0)*(e.quantidade||1)-(e.descontoItem||0)*(e.quantidade||1)-(t||0),i=(a||0)/(e.quantidade||1);e.descontoTotalRateado=$utils.arredondar(t),e.valorReal=$utils.arredondar(i),e.valorRealTotal=$utils.arredondar(a),_+=t}else e.valorReal=$utils.arredondar(e.total/(e.quantidade||1)),e.valorRealTotal=$utils.arredondar(e.total);r.pesoTotalTransporte=$utils.arredondar(r.pesoTotalTransporte+(e.peso||0))}for(const e of n){if(0===e.descontoItem&&0===e.total&&e.idItem)return $q.notify({message:"Existe item no envelope com valor zerado.",timeout:0,type:"warning",closeBtn:!0}),!1;if(e.total>0){const o=$utils.arredondar(100*(e.total||0)/(r.subTotal||1)),t=$utils.arredondar((r.totalDesconto||0)*(o||0)/100),a=(e.valorItem||0)*(e.quantidade||1)-(e.descontoItem||0)*(e.quantidade||1)-(t||0),i=(a||0)/(e.quantidade||1);e.descontoTotalRateado=$utils.arredondar(t),e.valorReal=$utils.arredondar(i),e.valorRealTotal=$utils.arredondar(a),_+=t}r.pesoTotalTransporte=$utils.arredondar(r.pesoTotalTransporte+(e.peso||0))}for(const e of d){if(0===e.descontoItem&&0===e.total&&e.idItem)return $q.notify({message:"Item com valor zerado encontrado.",timeout:0,type:"warning",closeBtn:!0}),!1;if(e.total>0){const o=$utils.arredondar(100*(e.total||0)/(r.subTotal||1)),t=$utils.arredondar((r.totalDesconto||0)*(o||0)/100),a=(e.valorItem||0)*(e.quantidade||1)-(e.descontoItem||0)*(e.quantidade||1)-(t||0),i=(a||0)/(e.quantidade||1);e.descontoTotalRateado=$utils.arredondar(t),e.valorReal=$utils.arredondar(i),e.valorRealTotal=$utils.arredondar(a),_+=t}r.pesoTotalTransporte=$utils.arredondar(r.pesoTotalTransporte+(e.peso||0))}for(const e of m){if(0===e.descontoItem&&0===e.total&&e.idItem)return $q.notify({message:"Item com valor zerado encontrado.",timeout:0,type:"warning",closeBtn:!0}),!1;if(e.total>0){const o=$utils.arredondar(100*(e.total||0)/(r.subTotal||1)),t=$utils.arredondar((r.totalDesconto||0)*(o||0)/100),a=(e.valorItem||0)*(e.quantidade||1)-(e.descontoItem||0)*(e.quantidade||1)-(t||0),i=(a||0)/(e.quantidade||1);e.descontoTotalRateado=$utils.arredondar(t),e.valorReal=$utils.arredondar(i),e.valorRealTotal=$utils.arredondar(a),_+=t}r.pesoTotalTransporte=$utils.arredondar(r.pesoTotalTransporte+(e.peso||0))}if(r.totalDesconto!==$utils.arredondar(_)){const e=$utils.arredondar((r.totalDesconto||0)-(_||0));let o,t=0;for(const e of l)e.total>t&&(t=e.total,o=e);for(const e of n)e.total>t&&(t=e.total,o=e);for(const e of d)e.total>t&&(t=e.total,o=e);for(const e of m)e.total>t&&(t=e.total,o=e);if(o){const t=(o.descontoTotalRateado||0)+(e||0),a=(o.valorItem||0)*(o.quantidade||1)-(o.descontoItem||0)-(t||0),i=(a||0)/(o.quantidade||1);o.descontoTotalRateado=$utils.arredondar(t),o.valorReal=$utils.arredondar(i),o.valorRealTotal=$utils.arredondar(a)}}const y=((await $db.contato.le({numeroDocumentoNacional:$db.usuario.logado.numeroDocumentoNacional}))[0]||{}).id||"",I=[],E=(u.numeroDocumentoNacional||"").replace(/[^\d+]/gi,"");let S=new Date((new Date).setDate(1)).toISOString().replace(/T.*/,"T00:00:00.000Z"),M=(new Date).toISOString().replace(/T.*/,"T23:59:59.999Z");const T=[];await $erp().documento.where(["tipo","idContato","dataHoraFinalizado"]).between(["Venda",u.id,S],["Venda",u.id,M],!0,!0).each((e=>{["Não Aprovado","Orçamento"].includes(e.status)||T.push(e)}));let k=11===E.length,D=14===E.length;e.modalProdutoControlado.permiteQuantidadeExcedida=!1;for(const o of[...l,...d,...m,...n])if(o.idItem&&-1===o.operacaoFator&&"87089990"===o.ncm){const t=await $erp().item.get(o.idItem)||{};if(t.id){let a=o.quantidade,i=!1,r="";a+=[...l,...d,...m,...n].reduce(((e,t)=>t.idItem===o.idItem&&t.id!==o.id?e+(t.quantidade||0):e),0);for(const e of T)a+=(await $erp().documentoItem.where({idItem:o.idItem,idDocumento:e.id}).toArray()).reduce(((e,o)=>e+(o.quantidade||0)),0);a=$utils.arredondar(a,4),t.controladoExercito&&k&&(r="Venda proibida para pessoa física",i=!0),!i&&D&&t.controladoExercito&&t.controladoExercito<a&&(r="Máximo permitido pelo Exército para vendas no mês: "+e.$filters.numero(t.controladoExercito,4),i=!0),!i&&k&&t.controladoPoliciaFederal&&t.controladoPoliciaFederal<a&&(r="Máximo permitido pela Polícia Federal para vendas no mês: "+e.$filters.numero(t.controladoPoliciaFederal,4),i=!0),!i&&k&&t.controladoPoliciaCivil&&t.controladoPoliciaCivil<a&&(r="Máximo permitido pela Polícia Civil para vendas no mês: "+e.$filters.numero(t.controladoPoliciaCivil,4),i=!0),!i&&D&&t.controladoPoliciaFederal&&t.controladoPoliciaFederal<a&&(r="Máximo permitido pela Polícia Federal para vendas no mês: "+e.$filters.numero(t.controladoPoliciaFederal,4),i=!0,e.modalProdutoControlado.permiteQuantidadeExcedida=!0,$q.notify({message:"Solicitar permissão para a venda"})),!i&&D&&t.controladoPoliciaCivil&&t.controladoPoliciaCivil<a&&(r="Máximo permitido pela Polícia Civil para vendas no mês: "+e.$filters.numero(t.controladoPoliciaCivil,4),i=!0,e.modalProdutoControlado.permiteQuantidadeExcedida=!0,$q.notify({message:"Solicitar permissão para a venda"})),i&&I.push({descricao:t.descricao,tooltip:r})}}if(I.length){e.modalProdutoControlado.itens=I,$q.loading.hide();let o=!1;if(await new Promise((async(o,t)=>{e.modalProdutoControlado.resolve=o,e.modalProdutoControlado.reject=t,e.modalProdutoControlado.visivel=!0})).catch((()=>{o=!0})),o)return;$q.loading.show({message:"Processando..."})}if(V){r.dataHoraFinalizado=$utils.dataAtual(),r.idContatoFinalizado=y;const o=r.status;r.status=V;for(const e of l)e.dataHoraFinalizado=r.dataHoraFinalizado,e.valorReal=$utils.arredondar(e.valorReal),e.valorRealTotal=$utils.arredondar(e.valorRealTotal),e.operacaoFator<0&&(e.status=V),e.operacaoFator>0&&(e.status="Entregue");for(const e in s)s[e].status="Processando";for(const e of n)e.dataHoraFinalizado=r.dataHoraFinalizado,e.descontoTotalRateado=$utils.arredondar(e.descontoTotalRateado),e.valorReal=$utils.arredondar(e.valorReal),e.valorRealTotal=$utils.arredondar(e.valorRealTotal),e.operacaoFator<0&&(e.status=V),e.operacaoFator>0&&(e.status="Entregue");for(const o of e.customs)o.documento.status="Processando";for(const o of e.oss)o.documento.status="Processando";for(const e of d)e.dataHoraFinalizado=r.dataHoraFinalizado,e.descontoTotalRateado=$utils.arredondar(e.descontoTotalRateado),e.valorReal=$utils.arredondar(e.valorReal),e.valorRealTotal=$utils.arredondar(e.valorRealTotal),e.operacaoFator<0&&(e.status=V),e.operacaoFator>0&&(e.status="Entregue");for(const e of m)e.dataHoraFinalizado=r.dataHoraFinalizado,e.descontoTotalRateado=$utils.arredondar(e.descontoTotalRateado),e.valorReal=$utils.arredondar(e.valorReal),e.valorRealTotal=$utils.arredondar(e.valorRealTotal),e.operacaoFator<0&&(e.status=V),e.operacaoFator>0&&(e.status="Entregue");e.documentoStatus.push({id:$utils.uuid(),idDocumento:r.id,operacao:r.operacao,statusOriginal:o,statusFinalizado:V,dataHoraEmissao:r.dataHoraFinalizado,idUsuarioAlterou:r.idContatoFinalizado});for(const t in s)e.documentoStatus.push({id:$utils.uuid(),idDocumento:s[t].id,operacao:"Mudança status envelope",statusOriginal:o,statusFinalizado:"Processando",dataHoraEmissao:r.dataHoraFinalizado,idUsuarioAlterou:r.idContatoFinalizado})}else{r.dataHoraFinalizado=$utils.dataAtual(),r.idContatoFinalizado=y,r.status="Aguardando Entrega";for(const e of l)e.dataHoraFinalizado=r.dataHoraFinalizado,e.operacaoFator<0&&(e.status="Finalizado"),e.operacaoFator>0&&(e.status="Entregue");for(const e in s)s[e].status="Processando",s[e].dataHoraFinalizado=r.dataHoraFinalizado;for(const e of n)e.dataHoraFinalizado=r.dataHoraFinalizado,e.operacaoFator<0&&(e.status="Finalizado"),e.operacaoFator>0&&(e.status="Entregue");for(const o of e.customs)o.documento.status="Processando",o.documento.dataHoraFinalizado=r.dataHoraFinalizado;for(const o of e.oss)o.documento.status="Processando",o.documento.dataHoraFinalizado=r.dataHoraFinalizado;for(const e of d)e.dataHoraFinalizado=r.dataHoraFinalizado,e.operacaoFator<0&&(e.status="Finalizado"),e.operacaoFator>0&&(e.status="Entregue");for(const e of m)e.dataHoraFinalizado=r.dataHoraFinalizado,e.operacaoFator<0&&(e.status="Finalizado"),e.operacaoFator>0&&(e.status="Entregue")}const q=await $db.permissao.objeto("Diretiva_Vendas_DescontoMaximo"),F=parseInt(await $db.configuracoes.leValorComFiltroEmpresa("vendas.margem.trava",r.idEmpresa,0))||0;if(!q&&F&&$lodash.get(e.margem[r.id],"limite",!1))return $q.notify({message:"Venda com índice inferior ao permitido"}),!1;if(!await $db.venda.checarTabelasPreco({carrinho:l,itensEnvelopes:n,documentosItensCustoms:d,documentosItensOSs:m,tela:e}))return;let P=!1;if(g){let e={};const o=await $db.configuracoes.leValorNumerico("venda.codigoconsumidor");u.codigoContato!==o&&(e=await $db.documento.le({idContato:r.idContato,idEmpresa:r.idEmpresa,tipo:"Fatura",status:"Aberta"})),e.length?(e=$lodash.orderBy(e,"dataHoraEmissao","desc"),r.idFatura=e[0].id):(r.idFatura=$utils.uuid(),$db.fatura.grava({fatura:{id:r.idFatura,dataHoraEmissao:r.dataHoraFinalizado,calcularAutomatico:"Sim",tipo:"Fatura",operacao:"Faturamento",status:"Aberta",tipoFrete:"CIF",freteSeparado:!1,totalDesconto:0,totalPercentualDesconto:0,subTotal:r.subTotal,totalDocumento:r.totalDocumento,idEmpresa:r.idEmpresa,idEmpresaEndereco:r.idEmpresaEndereco,descricaoEmpresa:r.descricaoEmpresa,numeroDocumentoEmpresa:r.numeroDocumentoEmpresa,inscricaoMunicipalEmpresa:r.inscricaoMunicipalEmpresa,codigoMunicipioEmpresa:r.codigoMunicipioEmpresa,optanteSimplesNacional:r.optanteSimplesNacional,idContato:r.idContato,idContatoEndereco:r.idContatoEndereco,numeroDocumentoContato:r.numeroDocumentoContato,descricaoContato:r.descricaoContato,descricaoContatoEndereco:r.descricaoContatoEndereco,telefoneContato:r.telefoneContato,emailContato:r.emailContato,regimeContato:r.regimeContato}})),P=await $db.permissao.objeto("atendimento//fatura")}return e.venda=r,e.carrinho=l,e.envelopes=s,e.itensEnvelopes=n,e.documentoEndereco=c,await e.salvarVenda(),$q.notifyPositive("Orçamento finalizado"),P?(localStorage.setItem("idFatura",e.venda.idFatura),await e.$nextTick(),e.$router.push({name:"AtendimentoFatura",params:{id:e.venda.idContato}})):(e.$emit("fechar"),e.$emit("executar","atualizar")),!0}catch(e){$q.notifyError("Erro ao finalizar.",e)}finally{$q.loading.hide()}},separaSemEstoque:async function(e){let o,t={},a={};const i=(await async function({objsVendaOrig:e}){const o=[],{venda:t,carrinho:a,itensEnvelopes:i,customs:r,oss:l}=e,s=(await $db.configuracoes.porNome("vendas.checaestoque",t.idEmpresa)).find((e=>1===parseInt(e.valor))),n=r.reduce(((e,o)=>[...e,...o.documentoItens||[]]),[]),c=l.reduce(((e,o)=>[...e,...o.documentoItens||[]]),[]);if(s){let e=[],r=[];const l=[...a||[],...i||[],...n||[],...c||[]];for(const e of l)e.idItem&&r.push(e.idItem);r=Array.from(new Set(r));try{e=(((await $utils.geeksApi({estoque:{funcao:"CC9F3B9A-16B9-4AE8-A523-938E4433AFAA",idItem:r,idEmpresa:t.idEmpresa}})||{}).data||{}).estoque||[]).filter((e=>"Disponível"===e.tipoEstoque));let o=[];for(const a of r)o.push({idItem:a,saldo:e.filter((e=>e.idItem===a)).reduce(((e,o)=>e+o.saldo),0),idEmpresa:t.idEmpresa});e=o}catch(o){console.error("Erro na consulta do estoque online",o),e=await $erp().estoqueSaldoProdutoEmpresa.where("idItem").anyOf(r).toArray(),e=e.filter((e=>"Disponível"===e.tipoEstoque)),t.idEmpresa&&(e=e.filter((e=>e.idEmpresa===t.idEmpresa)));let a=[];for(const o of r)a.push({idItem:o,saldo:e.filter((e=>e.idItem===o)).reduce(((e,o)=>e+o.saldo),0),idEmpresa:t.idEmpresa,offline:!0});e=a}for(const a of l){if(!a.idItem||!t.idEmpresa||1===a.operacaoFator)continue;if(o.find((e=>e.idItem===a.idItem)))continue;const i=await $erp().item.get(a.idItem)||{};if(!i.id)continue;if(["servico","tratamento","lente"].includes((i.tipo||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")))continue;const r=e.find((e=>e.idItem===a.idItem))||{},s=Number((r||{}).saldo)?r.saldo:0;s>=l.reduce(((e,o)=>e+(o.idItem===a.idItem&&o.quantidade||0)),0)||o.find((e=>e.idItem===a.idItem))||o.push({idItem:a.idItem,descricao:a.descricaoItem||"",saldo:s,offline:!!r.offline})}}return{itensSemEstoque:o}}({objsVendaOrig:e})).itensSemEstoque;if(i.length){o=function({objsVendaOrig:e,itensSemEstoque:o}){const t={venda:$utils.clonarV2(e.venda),carrinho:[],envelopes:{},itensEnvelopes:[],customs:[],oss:[],documentoEndereco:$utils.clonarV2(e.documentoEndereco),documentoContato:$utils.clonarV2(e.documentoContato),arquivo:[]},{carrinho:a,envelopes:i,itensEnvelopes:r,customs:l,oss:s,arquivo:n}=e;o=o.map((e=>({idItem:e.idItem,saldo:e.saldo})));for(let e of a){const a=o.find((o=>o.idItem===e.idItem));if(!a)continue;e=$utils.clonarV2(e);const i=e.quantidade||0,r=a.saldo||0;i>r?(r>0&&(e.quantidade=$utils.arredondar(i-r),e.quantidadeRealizado=e.quantidade,a.saldo=0),t.carrinho.push(e)):a.saldo=$utils.arredondar(r-i)}for(const e in i)for(const a of r.filter((o=>o.idDocumentoAdicional===e))){const l=o.find((e=>e.idItem===a.idItem));if(!l)continue;if(l.saldo>=1){l.saldo--;continue}if(t.envelopes[e])continue;t.envelopes[e]=$utils.clonarV2(i[e]);let s=r.filter((o=>o.idDocumentoAdicional===e));t.itensEnvelopes=t.itensEnvelopes.concat($utils.clonarV2(s)),s=n.filter((o=>o.idTabelaMaster===e)),t.arquivo=t.arquivo.concat($utils.clonarV2(s))}for(const e of l){let a=!1;for(const t of e.documentoItens){const e=o.find((e=>e.idItem===t.idItem));if(e&&t.quantidade>e.saldo){a=!0;break}}if(a)t.customs.push($utils.clonarV2(e));else for(const t of e.documentoItens){const e=o.find((e=>e.idItem===t.idItem));e&&e.saldo>0&&(e.saldo=$utils.arredondar(e.saldo-t.quantidade))}}for(const e of s){const a=$utils.clonarV2(e);a.documentoItens=[];for(const t of e.documentoItens){const e=o.find((e=>e.idItem===t.idItem));e&&t.quantidade>e.saldo&&a.documentoItens.push($utils.clonarV2(t))}t.oss.push(a);const i=e.documentoItens.filter((e=>!a.documentoItens.find((o=>o.id===e.id))));for(const e of i){const t=o.find((o=>o.idItem===e.idItem));t&&t.saldo>0&&(t.saldo=$utils.arredondar(t.saldo-e.quantidade))}}return{objsVendaSemEstoque:$db.venda.trocarStatus({status:"Aguardando Estoque",objsVenda:t}).objsVenda}}({objsVendaOrig:e,itensSemEstoque:i}),t=o.objsVendaSemEstoque,o=function({objsVendaOrig:e,objsVendaSemEstoque:o}){const t={venda:$utils.clonarV2(e.venda),carrinho:[],envelopes:{},itensEnvelopes:[],customs:[],oss:[],documentoEndereco:$utils.clonarV2(e.documentoEndereco),documentoContato:$utils.clonarV2(e.documentoContato),arquivo:[]},{carrinho:a,envelopes:i,itensEnvelopes:r,customs:l,oss:s,arquivo:n}=e;for(let e of a){const a=o.carrinho.find((o=>o.id===e.id));e=$utils.clonarV2(e),a?(e.quantidade=$utils.arredondar(e.quantidade-a.quantidade),e.quantidadeRealizado=e.quantidade,e.quantidade&&t.carrinho.push(e)):t.carrinho.push(e)}for(const e in i)if(!o.envelopes[e]){t.envelopes[e]=$utils.clonarV2(i[e]);let o=r.filter((o=>o.idDocumentoAdicional===e));t.itensEnvelopes=t.itensEnvelopes.concat($utils.clonarV2(o)),o=n.filter((o=>o.idTabelaMaster===e)),t.arquivo=t.arquivo.concat($utils.clonarV2(o))}for(const e of l)o.customs.find((o=>o.documento.id===e.documento.id))||t.customs.push($utils.clonarV2(e));for(const e of s){const a=o.oss.find((o=>o.documento.id===e.documento.id));if(!a){t.oss.push($utils.clonarV2(e));continue}const i=$utils.clonarV2(e);i.documentoItens=[];for(const o of e.documentoItens)a.documentoItens.find((e=>e.id===o.id))||i.documentoItens.push($utils.clonarV2(o));i.documentoItens.length&&t.oss.push(i)}return{objsVendaComEstoque:t}}({objsVendaOrig:e,objsVendaSemEstoque:t}),a=o.objsVendaComEstoque,t=$db.venda.duplicar(t);for(let e of a.oss){for(let o of e.documentoItens)await $db.os.calculaTotalItem({os:e.documento,itemOs:o}).then((e=>{o=e.itemOs}));await $db.os.calculaTotal({os:e.documento,itensOs:e.documentoItens}).then((o=>{e.documento=o.os}))}for(let e of t.oss){for(let o of e.documentoItens)await $db.os.calculaTotalItem({os:e.documento,itemOs:o}).then((e=>{o=e.itemOs}));await $db.os.calculaTotal({os:e.documento,itensOs:e.documentoItens}).then((o=>{e.documento=o.os}))}await no({venda:a.venda,carrinho:a.carrinho}).then((e=>{a.carrinho=e.carrinho})),await no({venda:t.venda,carrinho:t.carrinho}).then((e=>{t.carrinho=e.carrinho})),await $db.venda.calcularTotais({objsVenda:a,campoAlterado:"totalPercentualDesconto"}).then((e=>{a.venda=e.venda})),await $db.venda.calcularTotais({objsVenda:t,campoAlterado:"totalPercentualDesconto"}).then((e=>{t.venda=e.venda}))}return{objsVendaComEstoque:a,objsVendaSemEstoque:t,itensSemEstoque:i}},trocarStatus:function({status:e,objsVenda:o}){const{venda:t,carrinho:a,envelopes:i,itensEnvelopes:r,customs:l,oss:s}=o,n=[...a,...r];t.status=e;for(const o in i)i[o].status=e;for(const o of n)o.status=e;for(const o of l){o.status=e;for(const t of o.documentoItens)t.status=e}for(const o of s){o.status=e;for(const t of o.documentoItens)t.status=e}return{objsVenda:o}}},mo={arquivo:i,banco:r,cache:n,caixa:u,caixaConsolidacao:p,caixaConsolidacao2:h,cfop:C,cidade:v,configuracaoImposto:x,configuracoes:w,contato:S,contatoAnotacao:M,contatoBusca:z,contatoCreditoExtrato:j,contatoEndereco:$,contatoTelefone:U,contrato:R,crm:G,custom:H,dispositivoCliente:J,documento:X,documentoCondicaoPagamento:W,documentoContato:K,documentoEndereco:ee,documentoFiscalEletronico:oe,documentoFiscalEletronicoErro:te,documentoFiscalEletronicoXml:ae,documentoItem:ie,documentoOperacao:re,documentoSat:le,documentoStatus:ne,empresa:ce,envelope:de,equipamento:me,estoqueSaldoProdutoEmpresa:pe,fatura:Ce,financeiroBanco:fe,financeiroBoleto:Ve,financeiroBoletoTitulo:xe,financeiroMovimentacao:we,financeiroMovimentacaoN:_e,financeiroPlanoConta:ye,financeiroRenegociacao:Ee,financeiroTitulo:Me,formaPagamento:Te,item:ze,itemTabelaPreco:$e,itemManipulacao:Qe,ncm:Re,nfeIbpt:Ge,os:He,perfilContabilItem:Je,permissao:Ye,pupilometro:We,receita:eo,sincronismo:oo,spedArquivo:to,usuario:lo,venda:co}},91330:(e,o,t)=>{"use strict";t.d(o,{Z:()=>v});var a=t(11488),i=t.n(a),r=t(84830),l=t.n(r),s=t(58294),n=t(54726);const c=function(e,o=0){return null==e?o:"number"==typeof e?e:"string"==typeof e?"NULL"===e.trim().toUpperCase()?o:+e||o:o},d=function(e,o=""){return null==e?o:"number"==typeof e?e.toString():"string"==typeof e?"NULL"===e.trim().toUpperCase()?o:e.trim():o},m=function(e,o){switch(o.tipo||"texto"){case"decimal":case"dinheiro":case"numerico":case"quantidade":return c(e,o.valorInicial);case"seletor":return"numerico"===o.tipo2?c(e,o.valorInicial):d(e,o.valorInicial);case"texto":case"textoArea":return d(e,o.valorInicial);case"id":return function(e){let o=e?String(e).trim():"";return"NULL"!==o.toUpperCase()&&36===o.length||(o=""),o}(e);case"dataHora":return function(e){return"string"==typeof e&&(e=i()(e,"DD/MM/YYYY HH:mm:ss.SSS")),"number"==typeof e&&(e=new Date(24*(e-25569)*60*60*1e3+60*(new Date).getTimezoneOffset()*1e3)),!e||isNaN(e)?"":n.ZP.formatDate(e)}(e);case"logico":return function(e,o=!1){return null==e?o:"boolean"==typeof e?e:"string"==typeof e?"NULL"===e.trim().toUpperCase()?o:!!["SIM","1"].includes(e.trim().toUpperCase())||!["NÃO","NAO","0"].includes(e.trim().toUpperCase())&&o:"number"==typeof e?0!==e:o}(e,o.valorInicial)}return null},u=function(e,o){const t=e.Sheets[o],a=t["!ref"];let i=Number(a.match(/\d+/g)[1]),r=2;for(const e in t){const o=Number((e.match(/\d+/g)||["0"])[0]);o>r&&(r=o)}t["!ref"]=a.replace(String(i),String(r));const n=l().utils.sheet_to_json(t,{header:1});if(!n||0===n.length)throw new s.ErroValidacao(`Planilha inválida! Não possui aba ${o}.`);const c=n[0].map(C);let d=[];for(let e in n)if("0"!==e){var m={};for(let o in n[e])m[c[o]]=n[e][o];d.push(m)}return d},p=function(e,o,t){const a={};let i=!1;for(const r of o){const o=h(r.CampoTabela);let l=null;if("Fixo"===r.Tipo)l=r.CampoExcel;else{const o=C(d(r.CampoExcel));o&&o in e&&(l=e[o],i=!0)}null!==l&&(a[o]=m(l,t[o]||{}))}return{incluir:i,campos:a}},h=e=>e===e.toUpperCase()?e:e[0].toLowerCase()+e.substring(1),C=e=>e.replace(/ /g,""),v=async function(e,o,t,a,i){let r;try{r=l().read(e,{type:"binary"})}catch(e){throw new s.ErroValidacao("Planilha inválida! Não possui formato xlsx válido.")}const n=u(r,"Config"),c=u(r,"Dados"),d=(0,s.agrupar)(n.filter((e=>"Sim"===e.Importar)),"Operacao"),m=n.filter((e=>"Sim"===e.Importar&&"Sim"===e.Chave)).map((e=>h(e.CampoTabela)));for(const e in c)try{let a=!1;const i={chaves:m};for(const t in d){const r=(0,s.agrupar)(d[t],"Tabela");for(const t in r){const l=p(c[e],r[t],o[t]||{});l.incluir&&(i[t]=[...i[t]||[],l.campos],a=!0)}}a&&await t(i)}catch(o){let t="Erro na importação";o.name&&o.message&&"ErroValidacao"===o.name?t=o.message:console.error(o),await a((+e||0)+2,t)}await i()}},58294:(e,o,t)=>{"use strict";t.r(o),t.d(o,{Alerta:()=>Te,ErroValidacao:()=>Me,adicionarSincronizar:()=>i,agrupar:()=>r,analisarRedeSocialLink:()=>l,arredondar:()=>s,arredondarPiso:()=>n,arredondarTeto:()=>c,atualizarCfop:()=>Pe,bancosPiloto:()=>d,base64:()=>p,bulkPut:()=>v,buscarCep:()=>V,buscarEndereco:()=>g,clonar:()=>x,clonarCompactar:()=>w,clonarV2:()=>y,compactarObjeto:()=>I,completarCodigoBarras:()=>E,converterDataHoraBr:()=>k,dataAtual:()=>D,diferenca:()=>P,diferencaNivel1:()=>A,diferencaObjetos:()=>z,dormir:()=>j,eliminarVazios:()=>$,emitter:()=>Z,executarApi:()=>G,executarSql:()=>Be,executarSqlProtegido:()=>Le,extenso:()=>H,fbarcode:()=>Ze,filtrar:()=>J,filtrarDigitos:()=>Y,formatarNumero:()=>U,gconsole:()=>Re.WL,geeksApi:()=>K,imposto:()=>ee,impostoV2:()=>oe,imprimir:()=>te,isNumber:()=>ae,jsBarcode128C:()=>Ye,juntar:()=>ie,logarDebug:()=>Re.ZA,logarFim:()=>Re.pC,logarIni:()=>Re.rS,mapearEstadoCodigo:()=>re,mapearStatus:()=>se,mostrarErro:()=>ce,numberOrNull:()=>de,primeiraMaiuscula:()=>me,primeiraMinuscula:()=>ue,processarFilho:()=>pe,processarFilhoEspecifico:()=>he,processarFilhos:()=>Ce,ratear:()=>ve,removerAcentos:()=>fe,removerCaracteresEspeciais:()=>Ne,selecionarCfop:()=>Fe,sincronismoEnviar:()=>ge,sistemaPai:()=>xe,somar:()=>be,sqlData:()=>Oe,sqlNum:()=>ze,sqlStr:()=>je,stringOrEmpty:()=>we,stringOrNull:()=>_e,tratamentoCompletoString:()=>ye,unicos:()=>Ie,uuid:()=>ao,validarDocumentoNacional:()=>oo,validarDocumentoNacionalUnico:()=>to,verificarAlerta:()=>De,verificarConduta:()=>Ee,verificarErro:()=>ke,verificarExcecao:()=>qe,verificarSeCamposSaoValidos:()=>Se});var a=t(48409);async function i(e,o){o.id=ao(),await(0,a.X)()[e].add(o),await ge("adicionar",e,o.id,o)}const r=function(e,o){return e.reduce((function(e,t){return(e[t[o]]=e[t[o]]||[]).push(t),e}),{})};function l(e){if(!e)throw new Error("É necessário fornecer um endereço.");const o=e.toLowerCase();let t="link";const a={facebook:["facebook.com","fb.com","fb.me"],instagram:["instagram.com","instagr.am"],linkedin:["linkedin.com"],pinterest:["pinterest.com"],tumblr:["tumblr.com"],twitter:["twitter.com"],vimeo:["vimeo.com"],youtube:["youtube.com","youtu.be"]};try{e=new URL(o)||{};for(const o in a)if(a[o].find((o=>e.hostname.includes(o)))){t=o;break}return{link:o,tipo:t}}catch(e){throw new Error("Insira um endereço válido.")}}function s(e=0,o=2){if("number"==typeof e&&Number.isInteger(o)){const t=Math.pow(10,Math.abs(o));return Math.round(e*t)/t}return e}function n(e=0,o=0,t=2){if(!Number.isFinite(e))throw new Error("First argument is not a valid number");if(!Number.isFinite(o))throw new Error("Second argument is not a valid number");if(!Number.isInteger(t))throw new Error("Third argument is not an integer");if(!o)return e;let a,i;return o=function(e){return e>0&&e<=.05?.05:e>.05&&e<=.1?.1:e>.1&&e<=.25?.25:e>.25&&e<=.5?.5:e>.5&&e<=1?1:void 0}(o),e=s(e,t),a=Math.trunc(e),i=s(e-a,t),s(a+o*Math.floor(i/o),t)}function c(e=0,o=0,t=2){if(!Number.isFinite(e))throw new Error("First argument is not a valid number");if(!Number.isFinite(o))throw new Error("Second argument is not a valid number");if(!Number.isInteger(t))throw new Error("Third argument is not an integer");if(!o)return e;let a,i;return o=function(e){return e>0&&e<=.01?.01:e>.01&&e<=.05?.05:e>.05&&e<=.1?.1:e>.1&&e<=.25?.25:e>.25&&e<=.5?.5:e>.5&&e<=1?1:void 0}(o),e=s(e,t),a=Math.trunc(e),i=s(e-a,t),s(a+o*Math.ceil(i/o),t)}const d=["ColorMix","Demo_Ricardo","Diamond","DisfiBA","ElisPedreira","GeeksWeb","Matesto4x4SP","MesquitaMaquinas","PGNegociosSP","Presence","x_carlos_bb"],m={"-":"+",_:"/"},u={"+":"-","/":"_","=":""},p={decodeFromUrl:e=>(e.replace(/[-_.]/g,(e=>m[e])),e+="===".slice((e.length+3)%4),atob(e)),decode:e=>atob(e),encode:e=>btoa(e),encodeToUrl:e=>(e=btoa(e)).replace(/[+/=]/g,(e=>u[e]))};var h=t(82812);async function C(e){let o="";for(let t=1;t<=5;t++)try{let a=await h.Z.executar({action:"ArquivoLeTexto",parametro:e});if("Sucesso"===a.status)return a.conteudo;o=`Erro em ArquivoLeTexto no integrador. Tentativa ${t}. Arquivo: ${e} - ${a.mensagem}`,console.error(o),await j(1e3)}catch(a){o=`Erro (${a.name}) em ArquivoLeTexto no integrador. Tentativa ${t}. Arquivo: ${e} - ${a.message}`,console.error(o),await j(1e3)}ke(!0,o)}async function v(e){let o=await C(`c:\\Geeks\\DadosPdv\\${e}\\index.json`);const t=JSON.parse(o);Re.WL.log("bulkPut",(new Date).toLocaleTimeString("pt-br"),e,t);let i=0;for(const r in t.tabela){Re.WL.log("bulkPut",(new Date).toLocaleTimeString("pt-br"),e,"clear",r),await(0,a.X)(e)[r].clear();for(const l of t.tabela[r]){o=await C(`c:\\Geeks\\DadosPdv\\${e}\\${l}`);const t=JSON.parse(o)[r],s=1e4;for(let o=0;o<t.length;o+=s){Re.WL.log("bulkPut",(new Date).toLocaleTimeString("pt-br"),e,l,i);const n=t.slice(o,o+s);i+=n.length,await(0,a.X)(e)[r].bulkPut(n)}}}return t}var f=t(30052),N=t.n(f);function V(e,o,t){if(!e||!o||!t)throw new Error("É necessário informar UF, localidade e logradouro.");if(t.length<=3)throw new Error("Informe ao menos três caracteres do logradouro.");return N().get(`https://viacep.com.br/ws/${e}/${o}/${t}/json/`)}function g(e){if(!e)throw new Error("É necessário informar um CEP.");if(8!==(e=e.toString().replace(/[^0-9]/g,"")).length)throw new Error("É necessário que o CEP possua oito dígitos.");return N().get(`https://viacep.com.br/ws/${e}/json/`)}function x(e){return JSON.parse(JSON.stringify(e))}const b=function(e){let o;if(Array.isArray(e)){let t=[];for(const a of e)o=b(a),null!==o&&t.push(o);if(0!==e.length)return t}else{if("object"!=typeof e||null===e)return void 0===e?null:e;{let t={};for(const a in e)o=b(e[a]),null!==o&&(t[a]=o);if(0!==Object.keys(t).length)return t}}return null},w=b,_=function(e){if(Array.isArray(e))return e.map((e=>_(e)));if("object"==typeof e&&null!==e){let o={};for(const t in e)o[t]=_(e[t]);return o}return e},y=_,I=function e(o){if("object"!=typeof o)throw new Error("O object não é válido.");o=x(o);for(const t in o){const a=o[t];if(null!==a||void 0!==a){if("object"!=typeof a)continue;if(o[t]=e(a),a&&Object.keys(a).length>0)continue}Array.isArray(o)?o.splice(t,1):delete o[t]}return o};function E(e){if([0,12,13,14].includes(e.length))return e;{let a="999000000000".substring(0,12-e.length)+e;var o=a.split(""),t=(3*(Number(o[1])+Number(o[3])+Number(o[5])+Number(o[7])+Number(o[9])+Number(o[11]))+(Number(o[0])+Number(o[2])+Number(o[4])+Number(o[6])+Number(o[8])+Number(o[10])))%10;return t>0&&(t=10-t),a+String(t)}}var S=t(11488),M=t.n(S),T=t(54726);function k(e){return"string"==typeof e&&(e=M()(e,"DD/MM/YYYY HH:mm:ss.SSS")),!e||isNaN(e)?"":T.ZP.formatDate(e)}function D(){return T.ZP.formatDate(Date.now())}const q=[null,void 0,"",0,!1],F=function(e,o){if(q.includes(e)){if(q.includes(o))return null}else if(Array.isArray(e)){if(Array.isArray(o))return function(e,o){let t=[];const a=e.length>o.length?e.length:o.length;for(let i=0;i<a;i++){const a=F(e[i],o[i]);a&&(t[i]=a)}return t.length>0?t:null}(e,o)}else if("object"==typeof e&&"object"==typeof o&&null!==o)return function(e,o){let t={};e=e||{},o=o||{};const a=[...new Set([...Object.keys(e),...Object.keys(o)])];for(const i of a){const a=F(e[i],o[i]);a&&(t[i]=a)}return Object.keys(t).length>0?t:null}(e,o);if(e!==o){const t=w(e),a=w(o);if(t!==a)return{original:t,alterado:a}}return null},P=F,A=function(e,o,t={}){let a={};for(const i in o){if(null===o[i]){if(!t.mantemNull)continue}else if(void 0===o[i]||"object"==typeof o[i])continue;e[i]!==o[i]&&(a[i]=o[i])}return a};var B=t(88603),L=t.n(B);function O(e,o){return(0,B.transform)(o,((o,t,a)=>{(0,B.isEqual)(t,e[a])||(o[a]=(0,B.isObject)(t)&&(0,B.isObject)(e[a])?O(t,e[a]):t)}))}const z=function(e,...o){return o.reduce(((e,o)=>O(e,o)),e)};function j(e){return new Promise((o=>setTimeout(o,e)))}function $(e){let o={};for(let t in e)e[t]&&(o[t]=e[t]);return o}function U(e,o){return(e||0).toFixed(o).replace(".",",").replace(/\d(?=(\d{3})+,)/g,"$&.")}const Z=new(t(50423));var Q=t(11463);const R="https://api.b15.com.br";async function G(e,o){const t=(0,Re.rS)("executarApi",JSON.stringify(o,0,2));try{const a=localStorage.getItem("bancoDeDados");qe(!a,"Não foi possível encontrar o nome do banco de dados.");const i=await N()({baseURL:R,data:{token:Q.db.usuario.logado.token||"",bancoDeDados:a,...o},method:"post",url:e});return qe(200!==i.status,"Api Erro: "+i.status+" - "+i.statusText),qe(!i.data,"Api Erro"),i.data.error&&console.error("Api Erro: "+JSON.stringify(i.data.error)),ke(!i.data.sucesso,i.data.mensagem||"Falha no servidor"),i.data}catch(o){if("ErroValidacao"===o.name)throw o;ke("Error"===o.name&&"Network Error"===o.message,"Sem internet ou erro de comunicação!"),console.error("Falha no acesso ao servidor! Servidor: "+R+" Servico: "+e+"\n"+o.stack),ke(!0,"Falha no acesso ao servidor!")}finally{(0,Re.pC)(t,1)}}function H(e,o=!1){"number"==typeof e&&(e=String(e).replace(".",","));for(var t,a,i,r,l=[["zero","um","dois","três","quatro","cinco","seis","sete","oito","nove","dez","onze","doze","treze","quatorze","quinze","dezesseis","dezessete","dezoito","dezenove"],["dez","vinte","trinta","quarenta","cinqüenta","sessenta","setenta","oitenta","noventa"],["cem","cento","duzentos","trezentos","quatrocentos","quinhentos","seiscentos","setecentos","oitocentos","novecentos"],["mil","milhão","bilhão","trilhão","quadrilhão","quintilhão","sextilhão","setilhão","octilhão","nonilhão","decilhão","undecilhão","dodecilhão","tredecilhão","quatrodecilhão","quindecilhão","sedecilhão","septendecilhão","octencilhão","nonencilhão"]],s=String(e).replace(o?/[^,\d]/g:/\D/g,"").split(","),n=" e ",c="real",d="centavo",m=s.length-1,u=-1,p=[],h=[],C="";++u<=m;h=[])if(u&&(s[u]=(1*("."+s[u])).toFixed(2).slice(2)),(t=(a=s[u]).slice((r=a.length)%3).match(/\d{3}/g),a=r%3?[a.slice(0,r%3)]:[],a=t?a.concat(t):a).length){for(t=-1,r=a.length;++t<r;C="")(i=1*a[t])&&(i%100<20?C+=l[0][i%100]:i%100+1&&(C+=l[1][(i%100/10>>0)-1]+(i%10?n+l[0][i%10]:"")),h.push((i<100?C:i%100?l[2][i/100>>0]+n+C:l[2][100===i?0:i/100>>0])+((C=r-t-2)>-1?" "+(i>1&&C>0?l[3][C].replace("ão","ões"):l[3][C]):"")));(t=h.length>1?(t=h.pop(),h.join(" ")+n+t):h.join("")||(!u&&1*s[u+1]>0||p.length?"":l[0][0]))&&p.push(t+(o?" "+(1*a.join("")>1?u?d+"s":(/0{6,}$/.test(s[0])?"de ":"")+c.replace("l","is"):u?d:c):""))}return p.join(n)}function J(e,o){const t={contem:(e,o)=>e.includes(o),diferente:(e,o)=>e!==o,falso:e=>!1===e,igual:(e,o)=>e===o,inicia:(e,o)=>e.startsWith(o),maior:(e,o)=>Number(e)>Number(o),maiorIgual:(e,o)=>Number(e)>=Number(o),menor:(e,o)=>Number(e)<Number(o),menorIgual:(e,o)=>Number(e)<=Number(o),naoContem:(e,o)=>!e.includes(o),naoInicia:(e,o)=>!e.startsWith(o),naoTermina:(e,o)=>!e.endsWith(o),termina:(e,o)=>e.endsWith(o),verdadeiro:e=>!0===e,entre:(e,o,t)=>Number(e)>=Number(o)&&Number(e)<=Number(t)};for(const a of o)e=e.filter((e=>{const{campo:o,filtro:i,valor:r,valorFinal:l}=a;return!(!t[i]||!e[o])&&t[i](e[o],r,l)}));return e}function Y(e){return(e||"").replace(/[^\d]/g,"")}const X={validateStatus:e=>e>=200&&e<=500,timeout:3e4},W=localStorage.getItem("url-api")||"https://api2.b15.com.br";async function K(e,o={}){try{let t=o.bancoDeDados,a="";e.login?t="login":(void 0===t&&(t=localStorage.getItem("bancoDeDados"),ke(!t,"Não foi possível encontrar o nome do banco de dados")),o.convidado?a="convidado":(a=L().get(Q.db,"usuario.logado.token"),a||(await Q.db.usuario.inicializaLogado(),a=L().get(Q.db,"usuario.logado.token")),ke(!a,"Usuário não autencicado")));const i=void 0;X.headers={banco:t,token:a,debug:i},o.timeout&&(X.timeout=o.timeout);const r=await N().post(o.baseURL||W,e,X);if(![200].includes(r.status)){console.error("Erro retornado pelo geeks-api\n",JSON.stringify(r.data,0,2));const e="Mensagem"===L().get(r,"data.error.name")&&L().get(r,"data.error.message")||"Falha na operação";401===r.status&&(Q.db.usuario.desconecta(),window.location.reload()),ke(!0,e,i&&r.data)}const l=[],s=[];for(const e in r.data){const o=r.data[e];o&&"object"==typeof o&&o.error&&(console.error("Erro retornado pelo geeks-api\n",JSON.stringify(o.error,0,2)),s.push(o.error),l.push("Mensagem"===L().get(o,"error.name")&&L().get(o,"error.message")||"Erro no serviço "+e))}return ke(l.length,l.join(" - ")),r}catch(e){if("ErroValidacao"===e.name)throw e;"Error"===e.name&&(ke("Network Error"===e.message,"Sem internet ou erro de comunicação!"),ke(e.message.startsWith("timeout of "),"Tempo limite esgotado ao aguardar a conexão!"),ke("Request failed with status code 504"===e.message,"Serviço não responde! (504 - Gateway Timeout)")),ke(!0,"Falha no acesso ao servidor! "+e.toString())}}async function ee(e,o,t,i){if(![e,o,t,i].every((e=>e)))return;const r=await(0,a.X)().item.get(e),l=(0,B.get)(r,"idNcm","");let s=(0,B.orderBy)(await(0,a.X)().contatoEndereco.where({idContato:t}).toArray(),"grupo","asc"),n=s.find((e=>"principal"===(e.grupo||"").toLowerCase()));n||(n=s.find((e=>"principal"!==(e.grupo||"").toLowerCase())));let c=(0,B.get)(n,"uf","");s=(0,B.orderBy)(await(0,a.X)().contatoEndereco.where({idContato:i}).toArray(),"grupo","asc"),n=s.find((e=>"principal"===(e.grupo||"").toLowerCase())),n||(n=s.find((e=>"principal"!==(e.grupo||"").toLowerCase())));let d=(0,B.get)(n,"uf","");const m=await(0,a.X)().documentoOperacao.where({idCfop:o}).toArray(),u=(0,B.get)(m.find((e=>e.idCfop)),"finalidade",0);let p="";if(u){const e=await(0,a.X)().impostoParametro.where({cod:u}).toArray();p=(0,B.get)(e.find((e=>e.id)),"id","")}if([l,o,t,p,c,d].every((e=>e))){let e=(0,B.orderBy)(await(0,a.X)().impostoConfiguracao.where({idNcm:l}).toArray(),"cod","desc");if(e=e.find((e=>e.idCfop===o&&e.idEmitente===t&&e.idTipoCons===p&&e.ufOrigem===c&&e.ufDestino===d)),e)return{aliqIpi:(0,B.get)(e,"aliqIpi",0),percIva:(0,B.get)(e,"percIva",0)}}}async function oe(e={}){try{const{idEmpresa:o,idContato:t}=e.documento,{idItem:a,idCfop:i,cest:r}=e.documentoItem,l=await $erp().contato.get(t),s=await $erp().contato.get(o),n=await $erp().contatoEndereco.where({idContato:l.id}).toArray(),c=await $erp().contatoEndereco.where({idContato:s.id}).toArray();let d=n.find((e=>"principal"===(e.grupo||"").toLowerCase())),m=c.find((e=>"principal"===(e.grupo||"").toLowerCase()));if(d||(d=n[0]),m||(m=c[0]),!m)return;let u=d?.uf;const p=m?.uf;u||(u=p);const h=p!==u;let C=await $erp().item.get(a);const v=await $erp().cfop.get(i),f=`Produto '${e.documentoItem.descricaoItem||""}'`;$utils.verificarErro(!C.ncm,`${f} sem cadastro de NCM`),$utils.verificarErro(!v,`${f} com CFOP inválido`);let N=C.ncm||"";N=8===N.length?N:$utils.filtrarDigitos(N);const V=(l.numeroDocumentoNacional||"").trim().replace(/\D/g,""),g=(l.numeroDocumentoEstadual||"").trim().replace(/\D/g,"");let x="9";14===V.length&&(x="2",g&&"isento"!==g.toLowerCase()&&(x="1"));let b="1";h&&(b="2");const w=Number(e.documento?.codigoDocumentoOperacao);let _;Number.isInteger(w)&&w>0&&(_=(await $erp().documentoOperacao.where({codigoDocumentoOperacao:w}).toArray())[0]?.finalidade),_||(_=await $db.configuracoes.leValorNumerico("nfe.padrao.consumidorfinal"));const y=100===_?"1":99===_?"0":String(_),I={emitente:{regime:"SimplesNacional"===s.regime?"1":"3",uf:p,tributacaoSetor:s.tributacaoSetor,tributacao:s.tributacao},destinatario:{regime:"SimplesNacional"===l.regime?"1":"Normal"===l.regime?"3":void 0,uf:u,pessoa:{CPF:"PF",CNPJ:"PJ",idEstrangeiro:"Estrangeiro"}[l.tipoDocumentoNacional]||void 0,tributacaoSetor:l.tributacaoSetor,tributacao:l.tributacao,indicadorIE:x,consumidor:"0"===y?"N":"1"===y?"S":void 0,destino:b},ncm:N,cfop:String(v.cfop||""),cest:C.cest,origemMercadoria:String(C.codigoOrigem||""),produto:C.descricao};return await $db.configuracaoImposto.pesquisa(I,e.erro)}catch(e){return console.log(e),{}}}function te(){return window||window.print?window.print():cordova||cordova.plugins||cordova.plugins.print?cordova.plugins.printer.print():void this.$q.notify("Não encontramos comunicação com a impressora.")}function ae(e){return"number"==typeof e&&isFinite(e)}async function ie(e,o,t,i){const{id:r}=o,l="plataforma"===e?a.s:(0,a.X)(),s="id"+me(t);for(const e of i){const a=l[t+me(e)];try{o[e]=await a.where(s).equals(r).toArray()}catch(e){}}return o}t(4834),t(70154);const re={AC:12,AL:27,AM:13,AP:16,BA:29,CE:23,DF:53,ES:32,GO:52,MA:21,MG:31,MS:50,MT:51,PA:15,PB:25,PE:26,PI:22,PR:41,RJ:33,RN:24,RO:11,RR:14,RS:43,SC:42,SE:28,SP:35,TO:17},le={"Aguardando Conferência":{permiteNota:!0},"Aguardando Entrega":{permiteNota:!0},"Aguardando Estoque":{permiteNota:!0},"Aguardando Faturamento":{permiteNota:!0},"Aguardando Financeiro":{permiteNota:!0},"Aguardando Liberação":{permiteNota:!0},"Aguardando Pagamento":{permiteNota:!0},"Aguardando Separação":{permiteNota:!0},Cancelado:{permiteNota:!1},"Em Separação":{permiteNota:!0},Entregue:{permiteNota:!0},Faturado:{permiteNota:!0},Finalizado:{permiteNota:!0},"Não Aprovado":{permiteNota:!1},Orçamento:{permiteNota:!1},Aberta:{permiteNota:!1},"Aguardando Pagamento":{permiteNota:!0},Ativo:{permiteNota:!0},Cancelado:{permiteNota:!1},Faturado:{permiteNota:!0},Finalizada:{permiteNota:!0}},se=e=>le[(e||{}).status]||{permiteNota:!1};var ne=t(67447);function ce(e,o={}){return o&&o.name&&["Alerta","ErroValidacao"].includes(o.name)&&(e=o.message),o&&Object.keys(o).length&&!["Alerta","ErroValidacao"].includes(o.name)?console.error("Mensagem ao usuário:",e,"\n",o):console.error("Mensagem ao usuário:",e),ne.Z.create({message:e,type:"Alerta"===o.name?"warning":"negative"}),e}function de(e){return"number"==typeof e&&isFinite(e)?e:null}function me(e){return e[0].toUpperCase()+e.slice(1)}function ue(e){return e[0].toLowerCase()+e.slice(1)}async function pe(e,o,t,i={}){let r=!1;for(const l of o||[]){const o=t.find((e=>e.id===l.id));if(!o){await(0,a.X)()[e].delete(l.id),await ge("remover",e,l.id),r=!0;continue}const s=i.mantemNull?A(l,o,{mantemNull:!0}):z(l,o);Object.keys(s).length&&(await(0,a.X)()[e].update(l.id,s),await ge("atualizar",e,l.id,s),r=!0)}for(const i of t||[])(o||[]).find((e=>e.id===i.id))||(i.id=i.id||ao(),await(0,a.X)()[e].put(i),await ge("adicionar",e,i.id,i),r=!0);return r}async function he(e,o,t,i){const r=await(0,a.X)()[e].where(o).equals(t).toArray();for(const o of r){const t=i.find((e=>e.id===o.id));if(t){if(await(0,a.X)()[e].update(o.id,t)){const a=z(o,t);await ge("atualizar",e,o.id,a)}}else await(0,a.X)()[e].delete(o.id),await ge("remover",e,o.id)}for(const l of i)r.find((e=>e.id===l.id))||(l.id=ao(),l[o]=t,await(0,a.X)()[e].add(l),await ge("adicionar",e,l.id,l))}async function Ce(e,o,t){const i="id"+me(e),r=Object.keys(t);for(const l of r){const r=e+me(l),s=t[l]||[],n=await(0,a.X)()[r].where(i).equals(o).toArray();for(const e of n){const o=s.find((o=>o.id===e.id));if(o){if(await(0,a.X)()[r].update(e.id,o)){const t=z(e,o);await ge("atualizar",r,e.id,t)}}else await(0,a.X)()[r].delete(e.id),await ge("remover",r,e.id)}for(const e of s)n.find((o=>o.id===e.id))||(e.id=ao(),e[i]=o,await(0,a.X)()[r].add(e),await ge("adicionar",r,e.id,e))}}function ve(e={}){try{const o=e.itens,t={valorTotal:2,parcela:2,...e.decimais??{}};let a,i=Number(e.saldo);a=o.reduce(((e,o)=>e+o.valor),0),a=$utils.arredondar(a,t.valorTotal),o.sort(((e,o)=>e.valor<o.valor?-1:1));for(const e of o){let o=i*e.valor/a;o=$utils.arredondar(o,t.parcela),i=$utils.arredondar(i-o,t.parcela),a=$utils.arredondar(a-e.valor,t.valorTotal),e.parcela=o}return o}catch(e){console.log(e)}}const fe=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},Ne=function(e){return(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^ -}]|[<>"'@#¨]/g," ").trim()};var Ve=t(19119);async function ge(e,o,t,i,r){if(r="plataforma"===r?a.s:r?(0,a.X)(r):(0,a.X)(),!e||!o||!t)throw new Error('Os campos "acao", "tabela" e "chave" são obrigatórios.');"object"!=typeof i&&(i={}),Re.WL.log("sincronismoEnviar",e,o,t,i);const l={id:ao(),acao:e,tabela:o,chave:t,valor:i,dataHora:D(),idUsuario:Q.db.usuario.logado.id,nomeUsuario:Q.db.usuario.logado.nome};await r.sincronismoFila.add(l),Ve.t.status.tamanhoFila++}function xe(){let e="b15";try{const o=JSON.parse(localStorage.getItem("clienteSistema"));[37,23,42,40,52,53,57,58,63,68].includes(o.codigoSistema)&&(e="optisoul")}catch(o){e=""}return e}function be(e,o){return e.reduce(((e,t)=>e+t[o]||0),0)}function we(e){return"string"==typeof e?e:"number"==typeof e&&isFinite(e)?String(e):""}function _e(e){return"string"==typeof e?e:"number"==typeof e&&isFinite(e)?String(e):null}function ye(e=""){return $utils.removerAcentos(e.trim().replace(/\s+/g," ").toLowerCase())}const Ie=function(e,o,t=""){let a=[];for(let i=0,r=e.length;i<r;i++)a[e[i][o]||t]=!0;return Object.keys(a)},Ee=async function(){const e=JSON.parse(localStorage.getItem("clienteSistema"))||{};if((e||{}).idClienteSistema){const o=await a.s.clienteSistema.filter((o=>o.id===e.idClienteSistema)).first();if((o||{}).idCliente){const e=await a.s.contato.filter((e=>e.id===o.idCliente)).first();$utils.emitter.emit("exibirConduta",{observacao:((e||{}).condutaObservacao||"").trim(),restricao:((e||{}).condutaRestricao||"").trim()})}}};async function Se(e,o){return e.$touch(),await new Promise((t=>{const a=o.$watch((()=>e.$pending),(e=>{e||(a&&a(),t())}),{immediate:!0})})),!e.$error}class Me extends Error{constructor(e){super(e),this.name="ErroValidacao",this.message=e}}class Te extends Error{constructor(e){super(e),this.name="Alerta",this.message=e}}function ke(e,o){if(e)throw new Me(o)}function De(e,o){if(e)throw new Te(o)}function qe(e,o){if(e)throw new Error(o)}async function Fe(e={}){const{itemTipo:o,codigoDocumentoOperacao:t,idContatoDestinatario:i,idContatoEmitente:r,operacaoFator:l}=e;if("servico"===$utils.removerAcentos(o||"").toLowerCase()){let e=[];return-1===l&&(e=await $erp().cfop.where({cfop:5933}).toArray()),1===l&&(e=await $erp().cfop.where({cfop:2933}).toArray()),e[0]}let{ncm:s}=e;if(!(t&&i&&r&&l))return;s&&(s=(await $db.ncm.ler({ncm:s}))[0]);const n=(await $db.documentoOperacao.ler({codigoDocumentoOperacao:t}))[0];if(!n)return;const c=await $erp().contato.get(i),d=await $erp().contato.get(r);if(!c||!d)return;const m=await $erp().contatoEndereco.where({idContato:c.id}).toArray(),u=await $erp().contatoEndereco.where({idContato:d.id}).toArray();let p=m.find((e=>"principal"===(e.grupo||"").toLowerCase())),h=u.find((e=>"principal"===(e.grupo||"").toLowerCase()));if(p||(p=m[0]),h||(h=u[0]),!h)return;let C=p?.uf;const v=h?.uf;C||(C=v);const f=v!==C;if(n.json){const e=JSON.parse(n.json);if(!e)return;const o=await $db.ncm.ncmST({ncm:s?.ncm,ufDestinatario:C}),t=(c.numeroDocumentoNacional||"").trim().replace(/\D/g,""),a=(c.numeroDocumentoEstadual||"").trim().replace(/\D/g,"");let i,r;if(a&&14===t.length&&(-1===l&&(r=e.contribuinte.find((e=>"Venda"===e.descricao))),1===l&&(r=e.contribuinte.find((e=>"Devolução"===e.descricao)))),a&&14===t.length||(-1===l&&(r=e.naoContribuinte.find((e=>"Venda"===e.descricao))),1===l&&(r=e.naoContribuinte.find((e=>"Devolução"===e.descricao)))),f||(i=o?r.internaST:r.interna),f&&(i=o?r.interestadualST:r.interestadual),i=Number(i),!(Number.isInteger(i)>0))return;return(await $erp().cfop.where({cfop:Number(i)}).toArray())[0]}if(n.idCfop){let e=await $erp().cfop.get(n.idCfop);if(1===l){let o=20;f&&(o=138),e=(await $erp().cfop.where({codigoCfop:o}).toArray())[0]}if(!e)return;return~[1202,1411,2202,2411,5102,6102,5405,6404].indexOf(e.cfop)?async function(e,o){let t,i,r=[1202,1411,2202,2411,5102,6102,5405,6404];if(~r.indexOf(o)){if(e&&(t=await $db.ncm.ler({ncm:e}),i=t[0]),t=await(0,a.X)().cfop.where("cfop").anyOf(r).toArray(),i?.st){if(1202===o)return t.find((e=>1411===e.cfop));if(2202===o)return t.find((e=>2411===e.cfop));if(5102===o)return t.find((e=>5405===e.cfop));if(6102===o)return t.find((e=>6404===e.cfop))}else{if(1411===o)return t.find((e=>1202===e.cfop));if(2411===o)return t.find((e=>2202===e.cfop));if(5405===o)return t.find((e=>5102===e.cfop));if(6404===o)return t.find((e=>6102===e.cfop))}return t.find((e=>e.cfop===o))}}(s?.ncm,e.cfop):e}}async function Pe(e){let o=null,t=[],i={};if(o=await(0,a.X)().documento.get(e),~["Venda","Fatura"].indexOf(o?.tipo)){"Fatura"===o.tipo?t=await(0,a.X)().documento.where({idFatura:e}).toArray():t.push(o);for(const e of t){let o=await(0,a.X)().documentoItem.where({idDocumento:e.id}).toArray();for(const t of o){if(t.idItem&&!i[t.idItem]){const e=await(0,a.X)().item.get(t.idItem);e?.id&&(i[e.id]=e.ncm)}const o=await $utils.selecionarCfop({ncm:i[t.idItem],codigoDocumentoOperacao:e.codigoDocumentoOperacao,idContatoDestinatario:e.idContato,idContatoEmitente:e.idEmpresa,operacaoFator:t.operacaoFator});if(o?.id){const e={idCfop:o?.id,operacaoFator:o?.fator,operacao:o?.operacao};await(0,a.X)().documentoItem.update(t.id,e),await ge("atualizar","documentoItem",t.id,e)}}}}}const Ae="https://api2.b15.com.br/Core/ExecuteSqlV2",Be=async function(e,o=null){const t=(0,Re.rS)("executarSql",o||"","\n",e);try{if(o||(o=localStorage.getItem("bancoDeDados")),!o)throw new Error("Não foi possível encontrar o nome do banco de dados.");const a=await N()({baseURL:Ae,data:{token:Q.db.usuario.logado.token||"",database:o,sentence:e},method:"post"});if(200!==a.status)throw new Error("Sql Erro: "+a.status+" - "+a.statusText);if(a.data&&a.data.error)throw new Error("Sql Server Erro: "+a.data.error.name+" - "+a.data.error.message);return a.data}catch(e){ke("Error"===e.name&&"Network Error"===e.message,"Sem internet ou erro de comunicação!"),console.error("Falha no acesso aos Dados!  Servidor: "+Ae+"\n"+e.stack),ke(!0,"Falha no acesso aos dados!")}finally{(0,Re.pC)(t,1)}},Le=function(e,o=null){if(["alter","create","delete","drop","exec","grant","insert","truncate","update"].some((o=>~e.toLowerCase().indexOf(o))))throw new Error("Query não permitida!");return Be(e,o)},Oe=function(e){return e?(e.constructor!==Date&&(e=new Date(e)),isNaN(e)?"NULL":`'${e.getFullYear().toString().padStart(4,"0")}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}T${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}.000'`):"NULL"},ze=function(e,o=null){if(null==e||e===1/0||isNaN(e)){if(null===o)return"NULL";e=o}return"number"==typeof e?e.toString():e},je=function(e,o=null){if(null==e){if(null===o)return"NULL";e=o}return`'${String(e).replace(/'/g,"''")}'`};var $e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAABQAQMAAAAa6XZvAAAAA1BMVEUAAACnej3aAAAADElEQVR42mNgGFkAAADwAAE4aVpRAAAAAElFTkSuQmCC",Ue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAABQAQMAAAAa6XZvAAAAA1BMVEX///+nxBvIAAAADElEQVR42mNgGFkAAADwAAE4aVpRAAAAAElFTkSuQmCC";function Ze(e,o){var t=50;o&&(t=o);var a=[];a.push("00110"),a.push("10001"),a.push("01001"),a.push("11000"),a.push("00101"),a.push("10100"),a.push("01100"),a.push("00011"),a.push("10010"),a.push("01010");for(var i=9;i>=0;i--)for(var r=9;r>=0;r--){for(var l=10*i+r,s="",n=1;n<6;n++)s+=a[i].substr(n-1,1)+a[r].substr(n-1,1);a[l]=s}var c,d,m,u="<img src='"+$e+"' width=1 height="+t+" border=0><img src='"+Ue+"' width=1 height="+t+" border=0><img src='"+$e+"' width=1 height="+t+" border=0><img src='"+Ue+"' width=1 height="+t+" border=0><img ";for((s=e).length%2!=0&&(s="0"+s);s.length>0;)for(i=parseInt((m=2,s.substr(0,m))),s=Qe(s,s.length-2),l=a[i],n=1;n<11;n+=2)c="0"==l.substr(n-1,1)?1:3,u+=" src='"+$e+"' width="+c+" height="+t+" border=0><img ",d="0"==l.substr(n,1)?1:3,u+=" src='"+Ue+"' width="+d+" height="+t+" border=0><img ";return u+" src='"+$e+"' width=3 height="+t+" border=0><img src='"+Ue+"' width=1 height="+t+" border=0><img src='"+$e+"' width=1 height="+t+" border=0> "}function Qe(e,o){return e.substr(e.length-o,o)}var Re=t(27755),Ge=["f//AAAAAAAAAAAAAAAAAAAA","f//AAAAAAAAAAAAAAAAAAAB","f//AAAAAAAAAAAAAAEAAAD/","f//AAAAAAAAAAAAAAEAAAAA","f//AAAAAAAAAQAAAP8AAAAA","f//AAAAAAAAAQAAAP8AAAAB","f//AAAAAAAAAQAAAAAAAAD/","f//AAAAAAAAAQAAAAAAAAAA","f//AAABAAAA/wAAAAAAAAAA","f//AAABAAAA/wAAAAAAAAAB","f//AAABAAAA/wAAAAEAAAD/","f//AAABAAAA/wAAAAEAAAAA","f//AAABAAAAAAAAAP8AAAAA","f//AAABAAAAAAAAAP8AAAAB","f//AAABAAAAAAAAAAAAAAD/","f//AAABAAAAAAAAAAAAAAAA","QD/AAD/AAAAAAAAAAAAAAAA","QD/AAD/AAAAAAAAAAAAAAAB","QD/AAD/AAAAAAAAAAEAAAD/","QD/AAD/AAAAAAAAAAEAAAAA","QD/AAD/AAAAAQAAAP8AAAAA","QD/AAD/AAAAAQAAAP8AAAAB","QD/AAD/AAAAAQAAAAAAAAD/","QD/AAD/AAAAAQAAAAAAAAAA","QD/AAAAAAAA/wAAAAAAAAAA","QD/AAAAAAAA/wAAAAAAAAAB","SL/AADeAAAA/gAAAAIAAAD+","QD/AAAAAAAA/wAAAAEAAAAA","QD/AAAAAAAAAAAAAP8AAAAA","QD/AAAAAAAAAAAAAP8AAAAB","QD/AAAAAAAAAAAAAAAAAAD/","QD/AAAAAAAAAAAAAAAAAAAA"],He=["US0CAuSD38g","UUYCA7QBErs","ajEDAm49ReY","UUoCA+juogg","bjEDAjQrOn0","bkoDA3iPVH4","ajUDAt82atY","UU4CA1nljTg","cjEDAghkmFU","ckoDA0TA9lY","izUEAhrxcbg","ck4DAxY8F10","bjUDAlvFFR8","bk4DAxdhexw","ajkDAr7LFAw","UVICAyQ+UJI","TTECAq7UnEM","TUoCA+Jw8kA","ZjUDAmZGozo","TU4CA7CME0s","ajUDAvnk9E4","ak4DA7VAmk0","ZjkDAtle3bI","TVICAxOyzrM","STUCAqHeHtM","SU4CA+16cNA","h6QEAZKdo54","SVICA62zYxM","RTkCAqx1lb4","RVICA/z3WM0","QT0CAkdoxRU","KFYBA46vJCA"],Je=["11011001100","11001101100","11001100110","10010011000","10010001100","10001001100","10011001000","10011000100","10001100100","11001001000","11001000100","11000100100","10110011100","10011011100","10011001110","10111001100","10011101100","10011100110","11001110010","11001011100","11001001110","11011100100","11001110100","11101101110","11101001100","11100101100","11100100110","11101100100","11100110100","11100110010","11011011000","11011000110","11000110110","10100011000","10001011000","10001000110","10110001000","10001101000","10001100010","11010001000","11000101000","11000100010","10110111000","10110001110","10001101110","10111011000","10111000110","10001110110","11101110110","11010001110","11000101110","11011101000","11011100010","11011101110","11101011000","11101000110","11100010110","11101101000","11101100010","11100011010","11101111010","11001000010","11110001010","10100110000","10100001100","10010110000","10010000110","10000101100","10000100110","10110010000","10110000100","10011010000","10011000010","10000110100","10000110010","11000010010","11001010000","11110111010","11000010100","10001111010","10100111100","10010111100","10010011110","10111100100","10011110100","10011110010","11110100100","11110010100","11110010010","11011011110","11011110110","11110110110","10101111000","10100011110","10001011110","10111101000","10111100010","11110101000","11110100010","10111011110","10111101110","11101011110","11110101110","11010000100","11010010000","11010011100","1100011101011","11010111000"];const Ye={genBarcode(e,o,t){var a,i,r,l=[],s=e.length%5;if(s>0)for(a=0;a<5-s;a+=1)e+="0";for(i=e.length/5,a=0;a<i;a+=1)l[a]=parseInt(e.substr(5*a,5),2);for(r="",a=0;a<l.length;a+=1)r+='<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAACCAQAAADLaIVbAAAANUlEQVQIHQEqANX/A'+Ge[l[a]]+"AAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAA"+He[l[a]]+'AAAAASUVORK5CYII=" style="width:'+o+"px;height:"+t+'px;">';return r},funcCode128C(e){var o,t,a,i=0;let r=[];for(a=e.length,i=r[0]=105,o=0,t=0;o<a;o+=2,t+=1)r[t+1]=parseInt(e.substr(o,2),10),i+=(t+1)*r[t+1];r[t+1]=i%103,r[t+2]=106;let l="";for(o=0;o<r.length;o+=1)l+=Je[r[o]];return l},gen(e,o,t){const a=this.funcCode128C(e);return this.genBarcode(a,o,t)}};var Xe=t(82600);function We(e,o=10,t=0){e=e.toString();for(let a=0;a<e.length;a++)t+=e[a]*o,--o<2&&(o=9);return e+((t%=11)<2?0:11-t)}function Ke(e){return We(We(e.substr(0,12),5),6)===e}function eo(e){return We(We(e.substr(0,9)),11)===e}function oo(e){return!!e&&(11===(e=e.toString().replace(/[^0-9]/g,"")).length?eo(e):14===e.length&&Ke(e))}async function to(e,o){let t=!0,a="";if(!e)return{valido:t,mensagem:a};if(11===(e=e.replace(/[^0-9]/g,"")).length?(t=eo(e),a="CPF inválido"):14===e.length?(t=Ke(e),a="CNPJ inválido"):(t=!1,a="Digite um número de 11 ou 14 dígitos"),!t)return{valido:t,mensagem:a};const i=await Q.db.contato.lePorNumeroDocumentoNacional(e);return t=!Object.keys(i).length||i.id===o,a=t?"":11===e.length?"Este CPF já foi cadastrado":"Este CNPJ já foi cadastrado",{valido:t,mensagem:a}}const ao=function(){return(0,Xe.Z)().toUpperCase()}},27755:(e,o,t)=>{"use strict";t.d(o,{WL:()=>d,ZA:()=>r,rS:()=>l,pC:()=>s});var a=t(11488),i=t.n(a);function r(){console.log(...arguments)}function l(e,...o){const t=i()(new Date);return!1!==n[e]&&console.log(`${t.format("HH:mm:ss.SSS")} ${e} ini`,...o),{inic:t,modulo:e}}function s(e,o,...t){const a=i()(new Date);!1!==n[e.modulo]&&console.log(`${a.format("HH:mm:ss.SSS")} ${e.modulo} fim\n tamanho:`,o||0,"tempo:",a.diff(e.inic),...t)}let n={App:!1,Atendimento:!1,AutenticacaoBancos:!1,ChatMensagens:!1,Cockpit:!1,ContatoCriar:!1,ContatoFicha:!1,CpfCnpjNoCupom:!1,Documento:!1,DocumentosFiscais:!1,EnvelopeTrocarStatus:!1,Financeiro:!1,FinanceiroBoletos:!1,ImportarContatos:!1,ImportarItens:!1,Item:!1,ItemEstoque:!1,ItemFicha:!1,ItemFichaAtualizar:!1,Layout_Envelopes:!1,LogSinc:!0,LogSincD:!1,Plataforma15:!0,PromptContato:!1,PromptItem:!1,_ncm:!1,beforeRouteLeave:!1,cfop:!1,compactarValidarNFe:!1,contato:!1,documentoFiscalEletronico:!1,documentoFiscalEletronicoErro:!1,documentoFiscalEletronicoXml:!1,emitirNFe:!1,executarSql:!1,gerarJsonBaseD:!1,gerarJsonNFCe:!1,gerarJsonNFCeD:!1,gerarJsonNFe:!1,gerarJsonNFeD:!1,gerarSat:!1,gerarSatD:!1,item:!1,nfeIbpt:!1,robust:!1,router:!1,sincDescarregar:!1,sincEnviar:!1,sincronismoEnviar:!1,sincronismoRoteador:!1,tela1:!1,usuario:!1};const c=localStorage.getItem("logar");if(c)try{n={...n,...JSON.parse(c)}}catch(e){console.error("Variável 'logar' do localStorage com json inválido\n",e)}localStorage.setItem("logar",JSON.stringify(n));const d={error(){void 0===n[arguments[0]]&&(n[arguments[0]]=!0),0==!n[arguments[0]]&&console.error(...arguments)},warn(){void 0===n[arguments[0]]&&(n[arguments[0]]=!0),0==!n[arguments[0]]&&console.warn(...arguments)},info(){void 0===n[arguments[0]]&&(n[arguments[0]]=!0),0==!n[arguments[0]]&&console.info(arguments[1],arguments[2])},log(){void 0===n[arguments[0]]&&(n[arguments[0]]=!0),0==!n[arguments[0]]&&console.log(...arguments)},time(e,...o){void 0===n[e]&&(n[e]=!0),0==!n[e]&&console.time(...o)},timeEnd(e,...o){void 0===n[e]&&(n[e]=!0),0==!n[e]&&console.timeEnd(...o)}}},98396:(e,o,t)=>{"use strict";t.d(o,{Z:()=>a});const a={data:()=>({condicaoPagamento:[],condicaoPagamentoOriginal:[],condicaoPagamentoResumo:[]}),methods:{async resumeCondicaoPagamento(){const e=await $db.formaPagamento.le(),o=this.condicaoPagamento.filter((e=>this.condicaoPagamentoOriginal.find((o=>o.id===e.id&&(o.valor!==e.valor||o.dataVencimento!==e.dataVencimento))))).map((e=>e.id));for(let e of this.condicaoPagamento)o.includes(e.id)&&(e.id=$utils.uuid());let t=this.condicaoPagamento.reduce(((o,t)=>{let a=-1,i=e.find((e=>e.id===t.idFormaPagamento))||{};return t.parcelas=1,t.formaPagamento=i.descricao,t.autorizacao&&(a=o.findIndex((e=>t.autorizacao===e.autorizacao&&t.idFormaPagamento===e.idFormaPagamento&&t.idDocumentoCaixa===e.idDocumentoCaixa))),-1!==a?(o[a].parcelas++,5!==i.tipo&&(o[a].valor+=t.valor)):o.push($utils.clonar(t)),o}),[]);for(const o of t){const t=e.find((e=>e.id===o.idFormaPagamento));if(o.idFinanceiroTitulo&&t&&"Título em aberto"===t.tipoFinanceiro){let e,t;e=await $erp().financeiroTitulo.get(o.idFinanceiroTitulo),e&&e.idFinanceiroMovimentacaoAgrupamento&&(t=await $erp().financeiroMovimentacao.where({idFinanceiroMovimentacaoN:e.idFinanceiroMovimentacaoAgrupamento}).toArray(),t=t.find((e=>e.idFinanceiroCheque)),t&&(e=await $erp().financeiroTitulo.get(t.idFinanceiroCheque))),e&&e.dataPagamento&&(o.liquidado=!0)}}this.condicaoPagamentoResumo=$lodash.orderBy(t,["idFormaPagamento","dataVencimento"],["","asc"])}}}},82916:(e,o,t)=>{"use strict";t.d(o,{e:()=>r,G:()=>l,rb:()=>s});var a=t(48409),i=t(58294);const r=class{constructor(e={}){this.bancoDeDados=e.bancoDeDados||localStorage.getItem("bancoDeDados"),this.modelo="GeeksPlat15A"===this.bancoDeDados?a.s:(0,a.X)()}async get(e,o,t={}){if(!o)return{};let a=this.modelo[e];if(!a)return{};i.gconsole.log("robust","get",e,...Object.keys(t));let r=await a.get(o);return r?(r=await this._join(t.joinOne,r,1),r=await this._join(t.joinMany,r,0),r):{}}async list(e,o={}){i.gconsole.log("robust","list",e,...Object.keys(o));let t=this.modelo[e];if(!t)return{};if(o.filter){for(const e in o.filter)if([null,void 0].includes(o.filter[e]))return[];t=t.where(o.filter)}o.limit>0&&(t=t.limit(o.limit));let a=await t.toArray();if(o.filterNi&&(a=a.filter((e=>this._filter(e,o.filterNi)))),o.joinOne||o.joinMany)for(const e in a)a[e]=await this._join(o.joinOne,a[e],1),a[e]=await this._join(o.joinMany,a[e],0);return a}async first(e,o={}){i.gconsole.log("robust","first",e,...Object.keys(o));let t=this.modelo[e];if(!t)return{};if(o.filter){for(const e in o.filter)if([null,void 0].includes(o.filter[e]))return{};t=t.where(o.filter)}o.filterNi&&(t=t.filter((e=>this._filter(e,o.filterNi)))),"Table"===t.constructor.name&&(t=t.toCollection());let a=await t.first();return a?(a=await this._join(o.joinOne,a,1),a=await this._join(o.joinMany,a,0),a):{}}_filter(e,o){let t=!0;for(const a in o)if(t=t&&e[a]===o[a],!t)return!1;return t}async _join(e,o,t){if(e){e.constructor!==Array&&(e=[e]);for(let a of e){let e,i,r,l;a.constructor===String&&([e,i,r,l]=a.split(" "),a={field:e,joinTable:i,joinKey:r,key:l}),1===t?"id"===a.joinKey?o[a.field]=await this.get(a.joinTable,o[a.key]):o[a.field]=await this.modelo[a.joinTable].where({[a.joinKey]:o[a.key]}).first():o[a.field]=await this.modelo[a.joinTable].where({[a.joinKey]:o[a.key]}).toArray()}}return o}},l=class{constructor(e){this.nomeBanco=e}async get(e,o){if(o){const t=`select * from ${e} where id='${o}'`,a=await(0,i.executarSql)(t,this.nomeBanco);if(a&&a.length>0)return a[0]}return{}}async list(e){const o=`select * from ${e}`;return await(0,i.executarSql)(o,this.nomeBanco)||[]}};function s(){return new r}},80399:(e,o,t)=>{"use strict";t.d(o,{Z:()=>b});var a=t(34182);const i={class:"row justify-end"},r={class:"row justify-end"},l={container:"",class:"bg-white"},s={class:"q-pa-md"},n={components:{Avatar:t(15358).Z},data:()=>({modalAdicionar:!1,arquivo:[],somenteLeitura:!1,modalArquivo:{visivel:!1,nome:"",arquivo:""},imagemModal:""}),emits:["adicionar","atualizar","remover"],methods:{async adicionar(e){const o=e=>new Promise(((o,t)=>{const a=new FileReader;a.readAsDataURL(e),a.onload=()=>o(a.result),a.onerror=e=>t(e)}));for(const t of e)this.arquivo.push({id:$utils.uuid(),dataCriacao:$utils.dataAtual(),nome:t.name,arquivo:await o(t)});this.$refs.uploader.reset(),this.modalAdicionar=!1,this.$emit("adicionar")},le(){return this.arquivo},openImage(e){this.modalArquivo={visivel:!0,nome:e.nome,arquivo:e.arquivo}},async remover(e){$q.dialog({title:"Remover",essage:"Deseja remover o arquivo "+e.nome+".",cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{this.arquivo=this.arquivo.filter((o=>o.id!==e.id)),this.$emit("remover")}))}},mounted(){this.$emit("atualizar")}};var c=t(74260),d=t(25901),m=t(77953),u=t(60880),p=t(76210),h=t(10239),C=t(39341),v=t(56673),f=t(47266),N=t(48761),V=t(98586),g=t(7518),x=t.n(g);const b=(0,c.Z)(n,[["render",function(e,o,t,n,c,d){const m=(0,a.resolveComponent)("q-btn"),u=(0,a.resolveComponent)("q-item-section"),p=(0,a.resolveComponent)("q-item"),h=(0,a.resolveComponent)("q-img"),C=(0,a.resolveComponent)("q-list"),v=(0,a.resolveComponent)("q-uploader"),f=(0,a.resolveComponent)("q-dialog"),N=(0,a.resolveComponent)("q-toolbar-title"),V=(0,a.resolveComponent)("q-toolbar"),g=(0,a.resolveComponent)("avatar"),x=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(C,{bordered:"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"flex"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",i,[c.somenteLeitura?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,flat:"",round:"",dense:"",icon:"add",onClick:o[0]||(o[0]=e=>c.modalAdicionar=!0)}))])])),_:1})])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(c.arquivo,(e=>((0,a.openBlock)(),(0,a.createBlock)(p,{multiline:"",key:e.id,class:"flex"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{src:e.arquivo,style:{height:"140px","max-width":"150px",cursor:"pointer"},onClick:o=>d.openImage(e)},null,8,["src","onClick"])])),_:2},1024),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",r,[c.somenteLeitura?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,flat:"",round:"",dense:"",icon:"delete",onClick:o=>d.remover(e)},null,8,["onClick"]))])])),_:2},1024)])),_:2},1024)))),128))])),_:1}),(0,a.createVNode)(f,{modelValue:c.modalAdicionar,"onUpdate:modelValue":o[1]||(o[1]=e=>c.modalAdicionar=e),"content-css":{minWidth:"30vw"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{label:"Adicionar imagem","hide-upload-btn":"","auto-upload":"",multiple:"",ref:"uploader",factory:d.adicionar},null,8,["factory"])])),_:1},8,["modelValue"]),(0,a.createVNode)(f,{modelValue:c.modalArquivo.visivel,"onUpdate:modelValue":o[2]||(o[2]=e=>c.modalArquivo.visivel=e)},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",l,[(0,a.createVNode)(V,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(c.modalArquivo.nome),1)])),_:1}),(0,a.withDirectives)((0,a.createVNode)(m,{dense:"",flat:"",icon:"close",round:""},null,512),[[x]])])),_:1}),(0,a.createElementVNode)("div",s,[(0,a.createVNode)(g,{imagem:c.modalArquivo.arquivo,redondo:!1,tamanho:"300"},null,8,["imagem"])])])])),_:1},8,["modelValue"])],64)}]]);x()(n,"components",{QList:d.Z,QItem:m.Z,QItemSection:u.Z,QBtn:p.Z,QImg:h.Z,QDialog:C.Z,QUploader:v.Z,QToolbar:f.Z,QToolbarTitle:N.Z}),x()(n,"directives",{ClosePopup:V.Z})},15358:(e,o,t)=>{"use strict";t.d(o,{Z:()=>u});var a=t(34182);const i=["alt","src"],r={key:1,style:{width:"100%","text-align":"center"}};var l=t(89076);const s={computed:{classes(){return{Avatar:!0,"Avatar--quadrado":!this.redondo}},cor(){return this.letras?this.cores[this.rotulo.length%this.cores.length]:this.cores[(new Date).getDate()%this.cores.length]},estilos(){let e={height:`${this.tamanho}px`,width:this.redondo?`${this.tamanho}px`:"100%"};return this.imagem||(e.backgroundColor=this.cor,e.color=this.fonteCor,e.fontSize=this.tamanho/2.5+"px"),e},fonteCor(){return l.ZP.lighten(this.cor,this.brilho)},letras(){const e=this.rotulo;return!("string"!=typeof e||!e||e.length<2)&&e.slice(0,1)}},data:()=>({cores:["#f44336","#ff4081","#9c27B0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffc107","#ff9800","#ff5722","#795548","#9e9e9e","#607D8b"]}),props:{brilho:{type:[Number,String],default:60},imagem:{type:String},redondo:{type:Boolean,default:!0},rotulo:{type:[Boolean,String]},tamanho:{type:[Number,String],default:50}}};var n=t(74260),c=t(68900),d=t(7518),m=t.n(d);const u=(0,n.Z)(s,[["render",function(e,o,t,l,s,n){const c=(0,a.resolveComponent)("q-icon");return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)([n.classes,"q-px-none"]),style:(0,a.normalizeStyle)(n.estilos)},[t.imagem?((0,a.openBlock)(),(0,a.createElementBlock)("img",{key:0,alt:t.rotulo,class:"Avatar-imagem",src:t.imagem},null,8,i)):n.letras?((0,a.openBlock)(),(0,a.createElementBlock)("span",r,(0,a.toDisplayString)(n.letras),1)):((0,a.openBlock)(),(0,a.createBlock)(c,{key:2,name:"person"}))],6)}]]);m()(s,"components",{QIcon:c.Z})},72407:(e,o,t)=>{"use strict";t.d(o,{Z:()=>d});var a=t(34182);const i={class:"q-pa-none"},r={computed:{classes(){return["Badge",!!this.denso&&"Badge--denso",`bg-${this.cor}`,!!this.escuro&&"text-white"]}},props:{icone:{default:"",type:String},cor:{default:"light",type:String},denso:{default:!1,type:Boolean},escuro:{default:!1,type:Boolean},rotulo:{type:[String,Number]}}};var l=t(74260),s=t(68900),n=t(7518),c=t.n(n);const d=(0,l.Z)(r,[["render",function(e,o,t,r,l,s){const n=(0,a.resolveComponent)("q-icon");return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(s.classes)},[t.icone?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0,name:t.icone,class:"q-mr-xs"},null,8,["name"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("span",i,(0,a.toDisplayString)(t.rotulo),1),(0,a.renderSlot)(e.$slots,"default")],2)}]]);c()(r,"components",{QIcon:s.Z})},43119:(e,o,t)=>{"use strict";t.d(o,{Z:()=>r});var a=t(34182);const i={components:{Badge:t(72407).Z},methods:{copiarUid(){const e=this.$refs.badgeUid;e.type="text";try{e.select(),document.execCommand("copy"),this.$q.notify({message:"UID copiado para a área de transferência.",type:"info"})}catch(e){this.$q.notifyError("Erro ao copiar uid",e)}e.type="hidden",window.getSelection().removeAllRanges()}},props:{cor:{required:!1,type:String},numero:{required:!0,type:[Number,String]},id:{required:!0,type:String}}},r=(0,t(74260).Z)(i,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("badge");return(0,a.openBlock)(),(0,a.createBlock)(s,{escuro:"",cor:t.cor,onClick:l.copiarUid,style:{cursor:"pointer"}},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)(Number(t.numero)||(t.id||"").slice(-6))+" ",1),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"hidden","onUpdate:modelValue":o[0]||(o[0]=e=>t.id=e),ref:"badgeUid"},null,512),[[a.vModelText,t.id]])])),_:1},8,["cor","onClick"])}]])},99904:(e,o,t)=>{"use strict";t.d(o,{Z:()=>xe});var a=t(34182),i=t(60133),r=t.n(i),l=t(40392),s=t.n(l);const n={class:"BarraTopo"},c={key:0,src:r(),alt:"B15",style:{height:"30px"},class:"q-mr-md"},d={key:1,src:s(),alt:"B15",style:{height:"30px"},class:"q-mr-md"},m=(0,a.createTextVNode)("Novo"),u=(0,a.createTextVNode)("Contato"),p=(0,a.createTextVNode)("Orçamento/Venda"),h=(0,a.createTextVNode)("Contato"),C=(0,a.createTextVNode)("Orçamento/Venda"),v=(0,a.createElementVNode)("div",{class:"BarraTopo-separador hideonmobile"},null,-1),f={class:"q-pa-none q-my-none q-ml-sm items-center justify-center full-height column"},N=(0,a.createTextVNode)("Base"),V=(0,a.createTextVNode)("Selecionar bases"),g=(0,a.createTextVNode)("0 gb"),x=(0,a.createTextVNode)("Espaço"),b=(0,a.createTextVNode)("Fila de sincrinismo para enviar"),w=(0,a.createTextVNode)("Ajuda"),_=(0,a.createTextVNode)("Certificado Digital"),y=(0,a.createTextVNode)("Configurações"),I=(0,a.createTextVNode)("Restaurar e sair"),E=(0,a.createTextVNode)("Alterar senha"),S=(0,a.createTextVNode)("Criar banco"),M=(0,a.createTextVNode)("Sair"),T={class:"q-mt-md q-mx-md"},k=(0,a.createElementVNode)("small",null,"©2020 Geeks, B15",-1),D={key:0};var q=t(15358),F=t(86215),P=t(99807),A=t(49642),B=t(7329),L=t(69555),O=t(28417);const z=(0,a.createTextVNode)("Whatsapp Beta"),j={class:"text-h6 text-tertiary text-weight-bold q-mx-md q-mt-md"},$=(0,a.createTextVNode)(" Whatsapp Beta "),U=["src"],Z={class:"text-h8 text-tertiary text-weight-bold q-mx-md q-mt-md"},Q={class:"q-px-md q-pb-md"},R={key:0};var G=t(30052),H=t.n(G);const J={data:()=>({cor:"tertiary",botao:"Conectar",status:"",telDestino:"11999990000",clienteSistema:{},igmblank:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC",imgsrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC",urlapi:"https://api.b15.com.br/whats",permissao:!1}),methods:{async atualizar(){const e=this.clienteSistema.bancoDeDados;let o={};try{o=await H().post(this.urlapi,{funcao:"status",banco:e},{timeout:300})}catch{}this.imgsrc=o?.data?.base64Qrimg||this.igmblank,this.status=o?.data?.status||"","Conectado"===this.status&&(this.cor="green",this.botao="Desconectar"),"Conectado"!==this.status&&(this.cor="tertiary",this.botao="Conectar")},async btEnviarTeste_click(){const e=this.telDestino,o=this.clienteSistema.bancoDeDados;H().post(this.urlapi,{funcao:"envia mensagem",telDestino:e,mensa:"Mensagem de teste!",banco:o}).then((e=>{const o=e.data.erro;o?this.$q.notifyError(o):this.$q.notifyPositive("Mensagem enviada com sucesso."),console.log(JSON.stringify(e.data,2))})).catch((e=>{console.log(e)}))},async conectar_click(){try{$q.loading.show(),"Conectar"===this.botao&&await H().post(this.urlapi,{funcao:"conectar",banco:this.clienteSistema.bancoDeDados}),"Desconectar"===this.botao&&await H().post(this.urlapi,{funcao:"desconectar",banco:this.clienteSistema.bancoDeDados}),await this.atualizar()}finally{this.$q.loading.hide()}}},mounted(){this.clienteSistema=JSON.parse(localStorage.getItem("clienteSistema"))||{},setInterval(this.atualizar,2e3)},async created(){this.permissao=await $db.permissao.objeto("campanhas")}};var Y=t(74260),X=t(76210),W=t(4957),K=t(54707),ee=t(68900),oe=t(86952),te=t(7518),ae=t.n(te);const ie=(0,Y.Z)(J,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-tooltip"),n=(0,a.resolveComponent)("q-icon"),c=(0,a.resolveComponent)("q-btn"),d=(0,a.resolveComponent)("q-input"),m=(0,a.resolveComponent)("q-menu");return r.permissao?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,color:r.cor,class:"hideonmobile",dense:"",flat:"tertiary"===r.cor,unelevated:"green"===r.cor,icon:"mdi-whatsapp",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[z])),_:1}),(0,a.createVNode)(m,{class:"BarraTopo-usuarioPopover"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",j,[(0,a.createVNode)(n,{name:"mdi-whatsapp",size:"24px"}),$]),(0,a.createElementVNode)("img",{src:r.imgsrc,style:{"max-width":"100%","margin-left":"10px"},alt:""},null,8,U),(0,a.createElementVNode)("div",Z,(0,a.toDisplayString)(r.status),1),(0,a.createElementVNode)("div",Q,[(0,a.createVNode)(c,{class:"full-width",dense:"",color:"primary",label:r.botao,unelevated:"",onClick:l.conectar_click},null,8,["label","onClick"]),"Conectado"===r.status?((0,a.openBlock)(),(0,a.createElementBlock)("div",R,[(0,a.createVNode)(d,{modelValue:r.telDestino,"onUpdate:modelValue":o[0]||(o[0]=e=>r.telDestino=e),label:"telefone p/ teste"},null,8,["modelValue"]),(0,a.createVNode)(c,{class:"full-width",dense:"",color:"primary",label:"Enviar teste!",unelevated:"",onClick:l.btEnviarTeste_click},null,8,["onClick"])])):(0,a.createCommentVNode)("",!0)])])),_:1})])),_:1},8,["color","flat","unelevated"])):(0,a.createCommentVNode)("",!0)}]]);ae()(J,"components",{QBtn:X.Z,QTooltip:W.Z,QMenu:K.Z,QIcon:ee.Z,QInput:oe.Z});var re=t(37714),le=t(11463),se=t(48409),ne=t(58294),ce=t(19119);const de={components:{Avatar:q.Z,Whats:ie,PromptBuscaOnline:B.Z,UsuarioAlterarSenha:L.Z,MenuGerador:F.Z,VendaModal:P.Z},computed:{chatBotaoCor(){return this.chat?"primary":"tertiary"},config:()=>le.db.configuracoes.valores,termoBuscaInLowerCase(){return(this.termoBusca||"").toLowerCase()},statusBanco:()=>e=>"",versao:()=>O.R},data:()=>({dbContato:le.db.contato,dbUsuario:le.db.usuario,bancos:[],clienteSistema:{sistema:""},clienteSistemaBaixados:[],campos:{},dialogAlterarSenha:!1,chat:!1,menu:!1,permissoes:{},sincronismoStatus:ce.t.status,sistemaPai:"",termoBusca:"",termoBuscaOnline:""}),methods:{abrirValidCertificadora(){window.open("http://www.validcertificadora.com.br/P/B516DF35-5BC4-4D2D-8A62-CCF42F9BEF71/RD019446","_blank")},abrirEntidadeOnline(e){let o="AtendimentoContato";~this.$route.name.indexOf("Atendimento")&&(o=this.$route.name),this.$router.push({name:o,params:{id:e.id}})},abrirPromptBuscaOnline(){this.$refs.promptBuscaOnline.mostrar()},adicionarContato(){$utils.emitter.emit("adicionarContato")},adicionarOrcamento(){this.$refs.vendaModal.mostrar()},menu_click(e){this.$emit("menuClick",e)},irParaAtendimento(){const e=localStorage.getItem("contatoSelecionado");this.$router.push({name:"Atendimento",params:{id:e||"0"}})},abrirZap(){"optisoul"===this.sistemaPai?window.open("https://api.whatsapp.com/send?phone=5519999661240&text=Preciso%20de%20uma%20ajuda","_blank"):window.open("https://api.whatsapp.com/send?phone=5516993227436&text=Preciso%20de%20uma%20ajuda","_blank")},async sincronizar(){ne.gconsole.log("BarraTopo","sincronizar()"),ce.t.descarregarErp(),ce.t.descarregarPlataforma()},onClickAlterarSenha(){this.dialogAlterarSenha=!0},alternarChat(){this.chat=!this.chat},alternarMenu(){this.menu=!this.menu},desconectar(){le.db.usuario.desconecta(),window.location.reload()},fecharChat(){this.chat=!1},imprimir:ne.imprimir,async mostrarTabelas(){let e=await A.Z.getDatabaseNames();e.splice(e.indexOf("plataforma"),1);const o={};for(const t of e){const e=(await(0,se.X)(t).tables).sort(((e,o)=>e.name.localeCompare(o.name)));for(const a of e){const e=await a.count();o.hasOwnProperty(a.name)||(o[a.name]={}),o[a.name][t]=e}}return console.table(o),o},async restaurar(){if(await se.s.sincronismoFila.count()>0)this.$q.notifyError("Não pode restaurar! Há dados no dispositivo que não foram sincronizados.");else{for(const e of this.bancos)if(await(0,se.X)(e.bancoDeDados).sincronismoFila.count()>0)return void this.$q.notifyError(`Não pode restaurar! Há dados do banco '${e.bancoDeDados}' no dispositivo que não foram sincronizados.`);try{await new Promise(((e,o)=>{this.$q.dialog({title:"Tem certeza?",message:"Esta operação vai apagar todos os dados de seu dispositivo! Para confirmar digite a palavra 'RESTAURAR'.",prompt:{model:"",isValid:e=>"RESTAURAR"===e.toUpperCase(),type:"text",class:"bg-light"},cancel:{label:"CANCELAR",push:!0,color:"tertiary",flat:!0},ok:{label:"RESTAURAR",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((o=>{e()})).onCancel((()=>{o()}))}))}catch(e){return}this.$q.loading.show({message:"Restaurando"});try{const e=await A.Z.getDatabaseNames();for(const o of e)await(0,se.X)(o,"delete");const o=localStorage.getItem("dispositivoCliente");localStorage.clear(),o&&localStorage.setItem("dispositivoCliente",o),window.location.reload()}catch(e){this.$q.notifyError("Erro na operação de restaurar",e)}finally{this.$q.loading.hide()}}},async selecionaBancoDados(e){this.clienteSistema=e||{},le.db.cache.set("reload","1"),le.db.cache.set("bancoDeDados",e.bancoDeDados||""),le.db.cache.setJson("clienteSistema",e),this.$router.push({name:"Home"})}},props:{restricao:Boolean},emits:["menuClick"],async mounted(){!async function(){const e=JSON.parse(localStorage.getItem("clienteSistema")),o=JSON.parse(localStorage.getItem("usuario"));if("1"!==(await $erp().configuracoes.where({nome:"conpass.habilitado"}).toArray())[0]?.valor)return;let t="-";if(o?.idGrupo){const a=await $plataforma.grupo.get(o?.idGrupo);a&&a.idClienteSistema===e?.idClienteSistema&&(t=a.descricao)}console.log("booting Conpass");const a={...o?.nome?{name:o.nome}:{},...o?.cpf?{email:o.cpf}:{},custom_fields:{...e?.sistema?{sistema:e.sistema}:{},...e?.bancoDeDados?{bancoDeDados:e.bancoDeDados}:{},...e?.idClienteSistema?{idClienteSistema:e.idClienteSistema}:{},usuarioGrupo:t,usuarioTipo:"Comum"}};let i=0;const r=window.setInterval((function(){window.Conpass&&window.Conpass.init(a),(window.Conpass||i>=100)&&clearInterval(r),i+=1}),100)}(),this.clienteSistemaBaixados=JSON.parse(localStorage.getItem("clienteSistemaBaixados")),this.clienteSistemaBaixados.sort(((e,o)=>$utils.removerAcentos(e.bancoDeDados+e.sistema).toLowerCase()<$utils.removerAcentos(o.bancoDeDados+o.sistema).toLowerCase()?-1:1)),this.clienteSistema=JSON.parse(localStorage.getItem("clienteSistema"))||{},this.bancos=await re._.sincronismo.le(),this.sistemaPai=(0,ne.sistemaPai)(),this.permissoes={atendimento:await le.db.permissao.objeto("atendimento"),admCustom:await le.db.permissao.objeto("admcustom"),admEnvelopes:await le.db.permissao.objeto("admenvelopes"),admOS:await le.db.permissao.objeto("admos"),funilVendas:await le.db.permissao.objeto("crmfunil"),item:await le.db.permissao.objeto("item"),importarReceita:await le.db.permissao.objeto("importarReceita"),caixa:await le.db.permissao.objeto("caixa"),cockpit:await le.db.permissao.objeto("cockpit"),nfe:await le.db.permissao.objeto("nfe")}}};var me=t(54553),ue=t(47266),pe=t(48761),he=t(25901),Ce=t(77953),ve=t(60880),fe=t(31106),Ne=t(83831),Ve=t(95277),ge=t(98586);const xe=(0,Y.Z)(de,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),q=(0,a.resolveComponent)("q-icon"),F=(0,a.resolveComponent)("q-input"),P=(0,a.resolveComponent)("q-tooltip"),A=(0,a.resolveComponent)("q-item-section"),B=(0,a.resolveComponent)("q-item"),L=(0,a.resolveComponent)("q-list"),O=(0,a.resolveComponent)("q-menu"),z=(0,a.resolveComponent)("row"),j=(0,a.resolveComponent)("q-toolbar-title"),$=(0,a.resolveComponent)("whats"),U=(0,a.resolveComponent)("avatar"),Z=(0,a.resolveComponent)("q-item-label"),Q=(0,a.resolveComponent)("q-separator"),R=(0,a.resolveComponent)("q-toolbar"),G=(0,a.resolveComponent)("q-header"),H=(0,a.resolveComponent)("menu-gerador"),J=(0,a.resolveComponent)("q-drawer"),Y=(0,a.resolveComponent)("usuario-alterar-senha"),X=(0,a.resolveComponent)("PromptBuscaOnline"),W=(0,a.resolveComponent)("VendaModal"),K=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",n,[(0,a.createVNode)(G,{elevated:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(R,{class:"bg-white text-primary q-px-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{dense:"",flat:"",icon:"menu",color:"tertiary",round:"",onClick:l.alternarMenu,class:"q-mr-sm"},null,8,["onClick"]),"optisoul"===r.sistemaPai?((0,a.openBlock)(),(0,a.createElementBlock)("img",c)):(0,a.createCommentVNode)("",!0),"b15"===r.sistemaPai?((0,a.openBlock)(),(0,a.createElementBlock)("img",d)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(j,{class:"q-px-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(z,{class:"hideonmobile items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(F,{modelValue:r.termoBuscaOnline,"onUpdate:modelValue":o[0]||(o[0]=e=>r.termoBuscaOnline=e),color:"tertiary",onClick:l.abrirPromptBuscaOnline,dense:"",outlined:"",class:"q-px-none",style:{"max-width":"320px","max-height":"40px"},placeholder:"Contato, documento, equipamento..."},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(q,{name:"search"})])),_:1},8,["modelValue","onClick"]),(0,a.createVNode)(s,{dense:"",flat:"",icon:"add",color:"primary",round:"",class:"q-ml-sm",style:{width:"40px",height:"40px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(P,{anchor:"top middle"},{default:(0,a.withCtx)((()=>[m])),_:1}),(0,a.createVNode)(O,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(L,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{clickable:"",onClick:l.adicionarContato},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,{name:"person",size:"sm"})])),_:1}),(0,a.createVNode)(A,null,{default:(0,a.withCtx)((()=>[u])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)(B,{clickable:"",onClick:l.adicionarOrcamento},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,{name:"add_shopping_cart",size:"sm"})])),_:1}),(0,a.createVNode)(A,null,{default:(0,a.withCtx)((()=>[p])),_:1})])),_:1},8,["onClick"])])),_:1},512),[[K]])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s,{dense:"",flat:"",icon:"search",color:"tertiary",round:"",class:"hideondesktop",onClick:l.abrirPromptBuscaOnline},null,8,["onClick"]),(0,a.createVNode)(s,{dense:"",flat:"",icon:"add",color:"primary",round:"",class:"hideondesktop"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(O,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(L,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{clickable:"",onClick:l.adicionarContato},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,{name:"person",size:"sm"})])),_:1}),(0,a.createVNode)(A,null,{default:(0,a.withCtx)((()=>[h])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)(B,{clickable:"",onClick:l.adicionarOrcamento},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,{name:"add_shopping_cart",size:"sm"})])),_:1}),(0,a.createVNode)(A,null,{default:(0,a.withCtx)((()=>[C])),_:1})])),_:1},8,["onClick"])])),_:1},512),[[K]])])),_:1})])),_:1}),t.restricao?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:2,onClick:l.irParaAtendimento,class:"BarraTopo-botaoTopo hideonmobile",flat:"",icon:"mdi-account-switch",label:"Atendimento 4.0",size:"md"},null,8,["onClick"])),!t.restricao&&r.permissoes.cockpit?((0,a.openBlock)(),(0,a.createBlock)(s,{key:3,to:{name:"Cockpit"},class:"BarraTopo-botaoTopo hideonmobile",flat:"",icon:"insert_chart",label:"Cockpit",size:"md"})):(0,a.createCommentVNode)("",!0),v,(0,a.createVNode)($),(0,a.createElementVNode)("div",f,[(0,a.createVNode)(U,{imagem:r.dbUsuario.logado.img,rotulo:r.dbUsuario.logado.nome,tamanho:"40",onClick:l.sincronizar},null,8,["imagem","rotulo","onClick"]),(0,a.createVNode)(O,{class:"BarraTopo-usuarioPopover q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(L,{"no-border":""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(U,{imagem:r.dbUsuario.logado.img,rotulo:r.dbUsuario.logado.nome,tamanho:"38"},null,8,["imagem","rotulo"])])),_:1}),(0,a.createVNode)(A,{class:"q-pl-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Z,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.dbUsuario.logado.nome),1)])),_:1}),(0,a.createVNode)(Z,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.dbUsuario.logado.cpf),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(L,{class:"q-ma-md bordered",dense:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{dense:"",class:"text-tertiary",clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,{name:"storage"})])),_:1}),(0,a.createVNode)(A,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Z,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.clienteSistema.bancoDeDados),1)])),_:1}),(0,a.createVNode)(Z,{caption:"",class:"text-caption"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.clienteSistema.sistema),1)])),_:1})])),_:1}),(0,a.createVNode)(A,{side:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.statusBanco(r.clienteSistema.bancoDeDados)),1)])),_:1}),(0,a.createVNode)(P,null,{default:(0,a.withCtx)((()=>[N])),_:1}),(0,a.createVNode)(O,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(L,{link:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.clienteSistemaBaixados,(e=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:e.idClienteSistema},[(0,a.withDirectives)((0,a.createVNode)(B,{clickable:"",class:"text-tertiary q-py-xs",onClick:o=>l.selecionaBancoDados(e),dense:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Z,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.bancoDeDados),1)])),_:2},1024),(0,a.createVNode)(Z,{caption:"",class:"text-caption"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.sistema),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(A,{side:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.statusBanco(e.bancoDeDados)),1)])),_:2},1024)])),_:2},1032,["onClick"]),[[K]]),(0,a.createVNode)(Q)],64)))),128)),(0,a.withDirectives)((0,a.createVNode)(B,{to:{name:"AutenticacaoBancos",params:{operacao:"selecionar"}},class:"text-tertiary",clickable:"",dense:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,{name:"settings"})])),_:1}),(0,a.createVNode)(A,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Z,null,{default:(0,a.withCtx)((()=>[V])),_:1})])),_:1})])),_:1},512),[[K]])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(B,{onClick:l.mostrarTabelas,dense:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,{name:"data_usage"})])),_:1}),(0,a.createVNode)(A,null,{default:(0,a.withCtx)((()=>[g])),_:1}),(0,a.createVNode)(P,null,{default:(0,a.withCtx)((()=>[x])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)(B,{to:{name:"PainelSincronismo"},dense:"",class:"text-tertiary",clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,{name:"swap_calls"})])),_:1}),(0,a.createVNode)(A,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)("Fila enviar: "+String(r.sincronismoStatus.tamanhoFila)),1)])),_:1}),(0,a.createVNode)(P,null,{default:(0,a.withCtx)((()=>[b])),_:1})])),_:1})])),_:1}),(0,a.withDirectives)((0,a.createVNode)(L,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{onClick:l.abrirZap,clickable:"",dense:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,{name:"contact_support"})])),_:1}),(0,a.createVNode)(A,null,{default:(0,a.withCtx)((()=>[w])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)(B,{onClick:l.abrirValidCertificadora,clickable:"",dense:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,{name:"add_moderator"})])),_:1}),(0,a.createVNode)(A,null,{default:(0,a.withCtx)((()=>[_])),_:1})])),_:1},8,["onClick"]),t.restricao?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(B,{key:0,to:{name:"Configuracoes"},clickable:"",dense:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,{name:"settings"})])),_:1}),(0,a.createVNode)(A,null,{default:(0,a.withCtx)((()=>[y])),_:1})])),_:1})),(0,a.createVNode)(B,{onClick:l.restaurar,clickable:"",dense:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,{name:"warning"})])),_:1}),(0,a.createVNode)(A,null,{default:(0,a.withCtx)((()=>[I])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)(B,{onClick:l.onClickAlterarSenha,clickable:"",dense:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,{name:"mdi-lock-open-outline"})])),_:1}),(0,a.createVNode)(A,null,{default:(0,a.withCtx)((()=>[E])),_:1})])),_:1},8,["onClick"]),r.dbUsuario.logado.administrador&&[1,2].includes(r.dbUsuario.logado.grupoInterno)?((0,a.openBlock)(),(0,a.createBlock)(B,{key:1,to:{name:"CriarBanco"},clickable:"",dense:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,{name:"mdi-database-plus"})])),_:1}),(0,a.createVNode)(A,null,{default:(0,a.withCtx)((()=>[S])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(B,{onClick:l.desconectar,clickable:"",dense:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,{name:"exit_to_app"})])),_:1}),(0,a.createVNode)(A,null,{default:(0,a.withCtx)((()=>[M])),_:1})])),_:1},8,["onClick"])])),_:1},512),[[K]])])),_:1})])])),_:1})])),_:1}),(0,a.createVNode)(J,{modelValue:r.menu,"onUpdate:modelValue":o[2]||(o[2]=e=>r.menu=e),behavior:"mobile",elevated:"",side:"left"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",T,[(0,a.createVNode)(F,{modelValue:r.termoBusca,"onUpdate:modelValue":o[1]||(o[1]=e=>r.termoBusca=e),debounce:300,color:"none",dense:"",outlined:"",placeholder:"Filtrar",clearable:"","clear-icon":"close"},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(q,{name:"mdi-filter"})])),_:1},8,["modelValue"])]),(0,a.createVNode)(H,{termoBusca:l.termoBuscaInLowerCase,onMenuClick:l.menu_click},null,8,["termoBusca","onMenuClick"]),r.dbUsuario.logado.desenvolvedor&&r.dbUsuario.logado.desenvolvedor()||2===r.dbUsuario.logado.grupoInterno?((0,a.openBlock)(),(0,a.createBlock)(L,{key:0,dense:"",link:"","no-border":""})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(L,{"no-border":""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{class:"justify-between text-caption row"},{default:(0,a.withCtx)((()=>[k,"optisoul"===r.sistemaPai?((0,a.openBlock)(),(0,a.createElementBlock)("small",D,"OptiSoul - Optidados")):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("small",null,(0,a.toDisplayString)(l.versao),1)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(Y,{modelValue:r.dialogAlterarSenha,"onUpdate:modelValue":o[3]||(o[3]=e=>r.dialogAlterarSenha=e)},null,8,["modelValue"]),(0,a.createVNode)(X,{ref:"promptBuscaOnline",onSelecionar:l.abrirEntidadeOnline},null,8,["onSelecionar"]),(0,a.createVNode)(W,{ref:"vendaModal"},null,512)])}]]);ae()(de,"components",{QHeader:me.Z,QToolbar:ue.Z,QBtn:X.Z,QToolbarTitle:pe.Z,QInput:oe.Z,QIcon:ee.Z,QTooltip:W.Z,QMenu:K.Z,QList:he.Z,QItem:Ce.Z,QItemSection:ve.Z,QItemLabel:fe.Z,QSeparator:Ne.Z,QDrawer:Ve.Z}),ae()(de,"directives",{ClosePopup:ge.Z})},26891:(e,o,t)=>{"use strict";t.d(o,{Z:()=>v});var a=t(34182);const i={class:"col-6 bg-transparent"},r={class:"col-6 bg-transparent"};var l=t(54726);const s={computed:{classCol(){return{0:"col-auto",1:"col-6 col-sm-3 col-md-1",2:"col-12 col-sm-6 col-md-2",3:"col-12 col-sm-6 col-md-3",4:"col-12 col-sm-6 col-md-4",5:"col-12 col-md-5",6:"col-12 col-md-6",7:"col-12 col-md-7",8:"col-12 col-md-8",9:"col-12 col-md-9",10:"col-12 col-md-10",11:"col-12 col-md-11",12:"col-12"}[String(this.col)]||"col"},atributos(){const e={...this.$attrs,hint:this.aviso?this.avisoRotulo:this.ajuda};this.classCampo?e.class=this.classCampo:delete e.class;const o=this.rotulo||void 0,t=this.rotuloFixo||void 0;switch(e.label=t||o,e.readonly=this.somenteLeitura,e.dense=!this.noDense,this.prefix&&(e.prefix=this.prefix),this.tipo){case"quantidade":e.type="tel",e.align="center",e.inputClass="text-center";break;case"decimal":e.label=t||o,e.type="tel",e.align="right",e.inputClass="text-right";break;case"data":case"dataHora":e.type="date",e.stackLabel=!0;break;case"hora":e.type="time",e.stackLabel=!0;break;case"logico":case"texto":break;case"seletor":Array.isArray(this.opcoes)&&(e.options=this.opcoes.map((e=>"object"==typeof e?{...e,label:e.rotulo,value:e.valor}:{label:e,value:e})));break;case"senha":e.type="password";break;case"textoArea":e.type="textarea",e.filled=!0;break;default:e.label=o,e.stackLabel=!0}return e},atributosHora(){const e={...this.$attrs,dense:!this.noDense,label:"Hora",readonly:this.somenteLeitura,rules:[],stackLabel:!0,type:"time"};return this.classCampo?e.class=this.classCampo:delete e.class,e},slotAfter(){return"quantidade"===this.tipo?[{handler:this.somar,icon:"mdi-plus-box"}]:this.after},slotBefore(){return"quantidade"===this.tipo?[{handler:this.subtrair,icon:"mdi-minus-box"}]:this.before}},data:()=>({estaFocado:!1,valorExibicao:"",valorInterno:void 0}),emits:["update:modelValue","click"],methods:{eventoClick(e,o,t){o(),this.$emit("click")},eventoBlur(e){this.estaFocado=!1,this.numerico&&!this.somenteLeitura&&(this.permiteNull&&null===this.valorInterno?this.acertaValores(null):this.atributos.min&&this.valorInterno<Number(this.atributos.min)?this.acertaValores(Number(this.atributos.min)):this.atributos.max&&this.valorInterno>Number(this.atributos.max)?this.acertaValores(Number(this.atributos.max)):this.atributos.passo?this.acertaValores(Math.round(this.valorInterno/Number(this.atributos.passo))*Number(this.atributos.passo)):this.acertaValores(this.valorInterno)),this.$emit("update:modelValue",this.valorInterno)},eventoFocus(){this.estaFocado=!0,this.numerico&&!this.somenteLeitura&&this.acertaValores(this.valorInterno),"function"==typeof this.$attrs.focus&&this.$attrs.focus()},acertaValores(e){if(this.numerico){if("-"===e)return void(this.valorExibicao=e);const o=Number("string"==typeof e?(e.match(/(^-)|(\d)|(,)/g)||[]).join("").replace(",",".").replace(/,/g,""):e),t=Number(this.atributos.decimals||0),a=this.permiteNull&&null===e?null:Number.isNaN(o)?0:$utils.arredondar(o,t);if(this.valorInterno=a,this.estaFocado){if(Number(this.valorExibicao.replace(",","."))!==a){let o="";"-"===this.valorExibicao&&0===a&&(o="-"),this.valorExibicao=this.permiteNull&&null===e?"":o+a.toString().replace(".",",")}}else{let o=this.zerosDireita;"quantidade"===this.tipo&&void 0===o&&(o=0),this.valorExibicao=this.permiteNull&&null===e?"":(this.atributos.sinalPositivo&&a>0?"+":"")+$filters.numeroZerosDireita(a,this.atributos.decimals,o)}}else if("data"===this.tipo||"dataHora"===this.tipo)if(e){const o=$filters.converterData(e),t=l.ZP.formatDate(o)||"";29===t.length&&(this.valorInterno=t,this.valorExibicao=t.substr(0,10),this.valorExibicaoData=this.valorExibicao,this.valorExibicaoHora=t.substr(11,8))}else this.valorInterno=e,this.valorExibicao="",this.valorExibicaoData="",this.valorExibicaoHora="";else"hora"===this.tipo?(this.valorInterno=e,this.valorExibicao=this.valorInterno):(this.valorInterno=e,this.valorExibicao=e)},emitirValor(e){this.acertaValores(this.permiteNull&&""===e?null:e),this.modelValue!==this.valorInterno&&this.$emit("update:modelValue",this.valorInterno)},emitirValorData(e){this.valorExibicaoData=e,this.valorExibicaoHora=this.valorExibicaoHora||"00:00:00",this.valorInterno=l.ZP.formatDate(this.valorExibicaoData+"T"+this.valorExibicaoHora),this.modelValue!==this.valorInterno&&this.$emit("update:modelValue",this.valorInterno)},emitirValorHora(e){this.valorExibicaoData=this.valorExibicaoData||l.ZP.formatDate(new Date,"YYYY-MM-DD"),this.valorExibicaoHora=e||"00:00:00",this.valorInterno=l.ZP.formatDate(this.valorExibicaoData+"T"+this.valorExibicaoHora),this.modelValue!==this.valorInterno&&this.$emit("update:modelValue",this.valorInterno)},emitirModelValue(e){this.valorInterno=e,this.$emit("update:modelValue",this.valorInterno)},emitirValorSeletor(e){this.valorInterno=e.value,this.$emit("update:modelValue",this.valorInterno)},focus(){this.$nextTick((()=>this.$refs.campo.focus()))},somar(){const e=this.valorInterno+Number(this.step);this.max&&e>Number(this.max)?this.valorInterno=this.max:this.valorInterno=e,this.emitirValor(this.valorInterno)},subtrair(){const e=this.valorInterno-Number(this.step);this.min&&e<Number(this.min)?this.valorInterno=this.min:this.valorInterno=e,this.emitirValor(this.valorInterno)}},props:{after:{type:Object},ajuda:{type:String},aviso:{type:Boolean},avisoRotulo:{type:String},before:{type:Object},classCampo:{type:[Array,Object,String]},col:{type:[Number,String]},dica:{type:String},erro:{type:Boolean},erroRotulo:{type:String},modelo:{type:String},min:{type:[Number,String]},max:{type:[Number,String]},noDense:{type:Boolean},opcoes:{type:[Array,Object]},permiteNull:{default:!1,type:Boolean},prefix:{type:String},rotulo:{type:String},rotuloFixo:{type:String},somenteLeitura:{default:!1,type:Boolean},step:{default:1,type:[Number,String]},tipo:{default:"texto",type:String},zerosDireita:{type:[Number,String]},modelValue:{type:[Number,String,Boolean,Date]}},watch:{modelValue(e){e!==this.valorInterno&&this.acertaValores(e)}},created(){this.numerico=["quantidade","decimal"].includes(this.tipo),this.acertaValores(this.modelValue)}};var n=t(74260),c=t(81312),d=t(4957),m=t(40320),u=t(68900),p=t(86952),h=t(7518),C=t.n(h);const v=(0,n.Z)(s,[["render",function(e,o,t,l,s,n){const c=(0,a.resolveComponent)("q-tooltip"),d=(0,a.resolveComponent)("q-toggle"),m=(0,a.resolveComponent)("q-icon"),u=(0,a.resolveComponent)("q-select"),p=(0,a.resolveComponent)("q-input"),h=(0,a.resolveComponent)("row");return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(n.classCol)},["logico"===t.tipo?((0,a.openBlock)(),(0,a.createBlock)(d,(0,a.mergeProps)({key:0,ref:"campo","model-value":t.modelValue},n.atributos,{"onUpdate:modelValue":n.emitirModelValue}),{default:(0,a.withCtx)((()=>[t.dica?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,anchor:"top left",self:"bottom start"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.dica),1)])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1},16,["model-value","onUpdate:modelValue"])):"seletor"===t.tipo?((0,a.openBlock)(),(0,a.createBlock)(u,(0,a.mergeProps)({key:1,ref:"campo","model-value":t.modelValue},n.atributos,{"onUpdate:modelValue":n.emitirValorSeletor,"map-options":"",onFilter:n.eventoClick}),(0,a.createSlots)({default:(0,a.withCtx)((()=>[t.dica?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,anchor:"top left",self:"bottom start"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.dica),1)])),_:1})):(0,a.createCommentVNode)("",!0)])),_:2},[n.slotBefore?{name:"prepend",fn:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(n.slotBefore,((e,o)=>((0,a.openBlock)(),(0,a.createBlock)(m,{name:e.icon,onClick:(0,a.withModifiers)(e.handler,["stop"]),class:"cursor-pointer",key:o},null,8,["name","onClick"])))),128))]))}:void 0,n.slotAfter?{name:"append",fn:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(n.slotAfter,((e,o)=>((0,a.openBlock)(),(0,a.createBlock)(m,{name:e.icon,onClick:(0,a.withModifiers)(e.handler,["stop"]),class:"cursor-pointer",key:o},null,8,["name","onClick"])))),128))]))}:void 0]),1040,["model-value","onUpdate:modelValue","onFilter"])):"dataHora"===t.tipo?((0,a.openBlock)(),(0,a.createBlock)(h,{key:2},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",i,[(0,a.createVNode)(p,(0,a.mergeProps)({ref:"campo","model-value":e.valorExibicaoData},n.atributos,{"onUpdate:modelValue":n.emitirValorData}),{default:(0,a.withCtx)((()=>[t.dica?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,anchor:"top left",self:"bottom start"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.dica),1)])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1},16,["model-value","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",r,[(0,a.createVNode)(p,(0,a.mergeProps)({"model-value":e.valorExibicaoHora},n.atributosHora,{"onUpdate:modelValue":n.emitirValorHora}),{default:(0,a.withCtx)((()=>[t.dica?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,anchor:"top left",self:"bottom start"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.dica),1)])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1},16,["model-value","onUpdate:modelValue"])])])),_:1})):((0,a.openBlock)(),(0,a.createBlock)(p,(0,a.mergeProps)({key:3,ref:"campo","model-value":s.valorExibicao},n.atributos,{onBlur:n.eventoBlur,onFocus:n.eventoFocus,"onUpdate:modelValue":n.emitirValor}),(0,a.createSlots)({default:(0,a.withCtx)((()=>[t.dica?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,anchor:"top left",self:"bottom start"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.dica),1)])),_:1})):(0,a.createCommentVNode)("",!0)])),_:2},[n.slotBefore?{name:"prepend",fn:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(n.slotBefore,((e,o)=>((0,a.openBlock)(),(0,a.createBlock)(m,{name:e.icon,onClick:(0,a.withModifiers)(e.handler,["stop"]),color:e.color,class:(0,a.normalizeClass)(e.handler?"cursor-pointer":""),key:o},null,8,["name","onClick","color","class"])))),128))]))}:void 0,n.slotAfter?{name:"append",fn:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(n.slotAfter,((e,o)=>((0,a.openBlock)(),(0,a.createBlock)(m,{name:e.icon,onClick:(0,a.withModifiers)(e.handler,["stop"]),color:e.color,class:(0,a.normalizeClass)(e.handler?"cursor-pointer":""),key:o},null,8,["name","onClick","color","class"])))),128))]))}:void 0]),1040,["model-value","onBlur","onFocus","onUpdate:modelValue"]))],2)}]]);C()(s,"components",{QToggle:c.Z,QTooltip:d.Z,QSelect:m.Z,QIcon:u.Z,QInput:p.Z})},61341:(e,o,t)=>{"use strict";t.d(o,{Z:()=>V});var a=t(34182);const i={class:"hideondesktop"},r=(0,a.createElementVNode)("strong",null,"CRM:",-1),l=(0,a.createElementVNode)("strong",null,"CRM:",-1);var s=t(15358),n=t(72407),c=t(48409);const d={components:{Avatar:s.Z,Badge:n.Z},computed:{badgeCor(){return this.contato.ativo?this.contato.condutaRestricao?"negative":this.contato.condutaObservacao?"orange":"positive":"tertiary"},eLista(){return"lista"===this.modo}},data:()=>({telefones:"",municipios:"",crm:""}),methods:{selecionar(){this.$emit("selecionar",this.contato)}},props:{contato:{type:[Boolean,Object,String]},modo:{type:String,default:"card"}},emits:["selecionar"],created(){if(this.contato.id){(0,c.X)().contatoTelefone.where({idContato:this.contato.id}).toArray().then((e=>{let o="";for(const t of e.map((e=>(e.telefone||"").replace(/\D/g,""))))t&&(o+=t+" | ");this.telefones=o.substring(0,o.length-3)})),(0,c.X)().contatoEndereco.where({idContato:this.contato.id}).toArray().then((e=>{let o="";for(const t of e.map((e=>(e.municipio||"").replace(/\s+/g," ").trim())))t&&(o+=t+" | ");this.municipios=o.substring(0,o.length-3)}));const e=(this.contato.numeroDocumentoMunicipal||"").trim();e&&(0,c.X)().contatoGrupo.where({idContato:this.contato.id}).toArray().then((o=>{for(const t of o){let o;o=(t.descricao||"").trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),["medico","medica","medicos"].find((e=>e===o))&&(this.crm=e)}}))}}};var m=t(74260),u=t(77953),p=t(83054),h=t(60880),C=t(782),v=t(31106),f=t(7518),N=t.n(f);const V=(0,m.Z)(d,[["render",function(e,o,t,s,n,c){const d=(0,a.resolveComponent)("avatar"),m=(0,a.resolveComponent)("q-item-section"),u=(0,a.resolveComponent)("q-item-label"),p=(0,a.resolveComponent)("badge");return"0"!==t.contato.id?((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(c.eLista?"q-item":"q-card"),{key:0,class:"ContatoCard",clickable:"",onClick:c.selecionar},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{imagem:t.contato.imagem,redondo:c.eLista,rotulo:t.contato.apelido,tamanho:"60"},null,8,["imagem","redondo","rotulo"])])),_:1}),((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(c.eLista?"q-item-section":"q-card-section"),{label:c.eLista},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.contato.apelido),1)])),_:1}),t.contato.nome?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.contato.nome),1)])),_:1})):(0,a.createCommentVNode)("",!0),t.contato.numeroDocumentoNacional?((0,a.openBlock)(),(0,a.createBlock)(u,{key:1,caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.contato.numeroDocumentoNacional),1)])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("template",i,[n.crm?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,caption:""},{default:(0,a.withCtx)((()=>[r,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(n.crm),1)])),_:1})):(0,a.createCommentVNode)("",!0),n.telefones?((0,a.openBlock)(),(0,a.createBlock)(u,{key:1,caption:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(/\s\|\s/g.test(n.telefones)?"Telefones:":"Telefone:"),1),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(n.telefones),1)])),_:1})):(0,a.createCommentVNode)("",!0),n.municipios?((0,a.openBlock)(),(0,a.createBlock)(u,{key:2,caption:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(/\s\|\s/g.test(n.municipios)?"Municípios:":"Município:"),1),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(n.municipios),1)])),_:1})):(0,a.createCommentVNode)("",!0),c.eLista?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(p,{key:3,class:"q-mt-md",cor:c.badgeCor,escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)((t.contato.codigoContato||0).toString().padStart(6,"0")),1)])),_:1},8,["cor"]))])])),_:1},8,["label"])),((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(c.eLista?"q-item-section":"q-card-section"),{class:"text-tertiary hideonmobile",sublabel:c.eLista},{default:(0,a.withCtx)((()=>[n.crm?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,caption:""},{default:(0,a.withCtx)((()=>[l,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(n.crm),1)])),_:1})):(0,a.createCommentVNode)("",!0),n.telefones?((0,a.openBlock)(),(0,a.createBlock)(u,{key:1,caption:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(/\s\|\s/g.test(n.telefones)?"Telefones:":"Telefone:"),1),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(n.telefones),1)])),_:1})):(0,a.createCommentVNode)("",!0),n.municipios?((0,a.openBlock)(),(0,a.createBlock)(u,{key:2,caption:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(/\s\|\s/g.test(n.municipios)?"Municípios:":"Município:"),1),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(n.municipios),1)])),_:1})):(0,a.createCommentVNode)("",!0),c.eLista?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(p,{key:3,class:"q-mt-md",cor:c.badgeCor,escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)((t.contato.codigoContato||0).toString().padStart(6,"0")),1)])),_:1},8,["cor"]))])),_:1},8,["sublabel"])),c.eLista?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,right:"",avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cor:c.badgeCor,escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("#"+(0,a.toDisplayString)((t.contato.codigoContato||0).toString().padStart(6,"0")),1)])),_:1},8,["cor"])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1},8,["onClick"])):(0,a.createCommentVNode)("",!0)}]]);N()(d,"components",{QItem:u.Z,QCard:p.Z,QItemSection:h.Z,QCardSection:C.Z,QItemLabel:v.Z})},91784:(e,o,t)=>{"use strict";t.d(o,{Z:()=>c});var a=t(34182);const i={components:{Badge:t(72407).Z},computed:{codigo(){return this.documento.numero?"#"+this.documento.numero:this.documento.id?"#"+this.documento.id.slice(-6):""},cor(){if(this.status)return this.prioridade&&this.prioridade.cor?this.prioridade.cor:{ABERTA:"positive","AGUARDANDO FATURAMENTO":"warning","AGUARDANDO PAGAMENTO":"warning",CANCELADO:"negative",FATURADO:"tertiary",FINALIZADO:"tertiary","NÃO APROVADO":"negative",ORÇAMENTO:"positive"}[this.status.toUpperCase()]||"positive"},status(){return this.documento.status||null}},props:{documento:{default:()=>({}),required:!0,type:Object},prioridade:Object}};var r=t(74260),l=t(4957),s=t(7518),n=t.n(s);const c=(0,r.Z)(i,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-tooltip"),n=(0,a.resolveComponent)("badge");return(0,a.openBlock)(),(0,a.createBlock)(n,{cor:l.cor,escuro:"warning"!==l.cor},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.codigo)+" ",1),l.status?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.status)+" ",1),t.prioridade&&t.prioridade.tooltip?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createTextVNode)((0,a.toDisplayString)(t.prioridade.tooltip),1)],64)):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1},8,["cor","escuro"])}]]);n()(i,"components",{QTooltip:l.Z})},7211:(e,o,t)=>{"use strict";t.d(o,{Z:()=>d});var a=t(34182);const i={class:"row"},r={class:"DocumentoMetas-itemRotulo2 text-caption text-weight-bold col-auto q-mr-sm"},l={class:"DocumentoMetas-itemConteudo2 text-caption col"};var s=t(58294),n=t(11463);const c={data:()=>({documento:{},documentoContato:[],metaDados:{}}),watch:{async documento(){const e=this.documento,o={};e.idFatura||(o.Emitente=[e.descricaoEmpresa,e.numeroDocumentoEmpresa]);const t=this.documentoContato.find((e=>"comprador"===(e.descricao||"").trim().toLowerCase())),a=this.documentoContato.find((e=>"representando"===(e.descricao||"").trim().toLowerCase()));let i,r;t&&(i=await n.db.contato.le({id:t.idContato})),a&&(r=await n.db.contato.le({id:a.idContato})),e.idContatoVendedor&&(o.Vendedor=[(await n.db.contato.le({id:e.idContatoVendedor})).nome]),e.idContatoDigitador&&(o.Digitador=[(await n.db.contato.le({id:e.idContatoDigitador})).nome]),e.idContatoIndicacao&&(o["Indicação"]=[(await n.db.contato.le({id:e.idContatoIndicacao})).nome]),e.idContatoResponsavel&&(o["Convênio"]=[(await n.db.contato.le({id:e.idContatoResponsavel})).nome]),i&&(o.Comprador=[i.nome]),r&&(o.Representando=[r.nome]),e.operacao&&(o["Operação"]=[e.operacao]),e.idItemTabelaPreco&&(o["Tabela de Preço"]=[(await n.db.itemTabelaPreco.le({id:e.idItemTabelaPreco})).descricao]),e.dataHoraEmissao&&(o["Emissão"]=[this.$filters.dataHora(e.dataHoraEmissao)]),e.dataHoraFinalizado&&(o["Finalização"]=[this.$filters.dataHora(e.dataHoraFinalizado)]),!e.idFatura&&e.idContato&&(o["Tel."]=[e.telefoneContato]),!e.idFatura&&e.idContato&&(o["End."]=[e.descricaoContatoEndereco]),this.metaDados=(0,s.compactarObjeto)(o)}}},d=(0,t(74260).Z)(c,[["render",function(e,o,t,s,n,c){const d=(0,a.resolveComponent)("row");return(0,a.openBlock)(),(0,a.createBlock)(d,{class:"q-col-gutter-x-md q-px-md border-1 q-my-sm DocumentoMetas text-faded"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(n.metaDados,((e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o,class:(0,a.normalizeClass)(["DocumentoMetas-item",["End."===o?"col-12 ":"col-12 col-md"]])},[(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("div",r,(0,a.toDisplayString)(o),1),(0,a.createElementVNode)("div",l,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e,((e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o},(0,a.toDisplayString)(e),1)))),128))])])],2)))),128))])),_:1})}]])},40480:(e,o,t)=>{"use strict";t.d(o,{Z:()=>ze});var a=t(34182);const i={class:""},r={key:0,class:"q-item-label",style:{color:"#0c0c0c"}},l=(0,a.createTextVNode)(" Documentos fiscais "),s={class:"col-9 col-lg-10 q-pl-sm"},n={class:"row"},c=(0,a.createElementVNode)("div",{class:"col-4 col-sm-1"},"SAT",-1),d={class:"col-4 col-sm-1"},m={class:"col-4 col-sm-3"},u={class:"col-6 col-sm-4"},p={class:"col-6 col-sm-3"},h={class:"col-3 col-lg-2 text-right"},C=(0,a.createTextVNode)("Reimprimir SAT"),v=(0,a.createTextVNode)("Cancelar SAT"),f={class:"col-10 q-pl-sm"},N={class:"row"},V={class:"col-3 col-sm-1"},g={class:"col-3 col-sm-2"},x={class:"col-6 col-sm-4"},b={class:"col-6 col-sm-2"},w={class:"col-6 col-sm-3"},_={class:"col-2 text-right"},y=(0,a.createTextVNode)("Reimprimir NFCe"),I=(0,a.createTextVNode)("Cancelar NFCe"),E=(0,a.createTextVNode)("Ver no Sefaz"),S=(0,a.createTextVNode)("Abrir"),M={class:"col-9 col-lg-10 q-pl-sm"},T={class:"row"},k=(0,a.createElementVNode)("div",{class:"col-4 col-sm-1"},"NFe",-1),D={class:"col-4 col-sm-1"},q={class:"col-4 col-sm-3"},F={class:"col-6 col-sm-4"},P={class:"col-6 col-sm-3"},A=(0,a.createTextVNode)("CPF/CNPJ no Cupom"),B={class:"row q-pa-sm"},L={class:"row q-col-gutter-x-sm"},O={class:"row q-col-gutter-x-sm"};var z=t(26891),j=t(58294);const $={components:{Campo:z.Z},data:()=>({cpfCnpjErro:!1}),emits:["confirmar","update:modelValue"],methods:{eventoConfirmar(){if(j.gconsole.log("CpfCnpjNoCupom","eventoConfirmar",this.dados),this.dados.incluirCpfCnpjNoCupom){if(this.dados.cpfCnpj&&!(0,j.validarDocumentoNacional)(this.dados.cpfCnpj))return void(this.cpfCnpjErro=!0)}else this.dados.cpfCnpj="",this.dados.nomeCliente="";this.eventoInput(!1),this.$emit("confirmar",this.dados)},eventoInput(e){this.$emit("update:modelValue",e)}},watch:{modelValue(){this.modelValue&&(this.cpfCnpjErro=!1)}},props:{modelValue:{required:!0,type:Boolean},dados:{required:!0,type:Object}}};var U=t(74260),Z=t(39341),Q=t(63626),R=t(54553),G=t(47266),H=t(76210),J=t(48761),Y=t(7112),X=t(24515),W=t(15031),K=t(86952),ee=t(98586),oe=t(7518),te=t.n(oe);const ae=(0,U.Z)($,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-header"),m=(0,a.resolveComponent)("campo"),u=(0,a.resolveComponent)("q-input"),p=(0,a.resolveComponent)("q-field"),h=(0,a.resolveComponent)("q-page"),C=(0,a.resolveComponent)("q-page-container"),v=(0,a.resolveComponent)("q-layout"),f=(0,a.resolveComponent)("q-dialog"),N=(0,a.resolveDirective)("close-popup"),V=(0,a.resolveDirective)("mask");return(0,a.openBlock)(),(0,a.createBlock)(f,{"model-value":t.modelValue,"onUpdate:modelValue":l.eventoInput},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{container:"",class:"bg-white"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("form",{onSubmit:o[4]||(o[4]=(0,a.withModifiers)(((...e)=>l.eventoConfirmar&&l.eventoConfirmar(...e)),["prevent"]))},[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{flat:"",round:"",dense:"",icon:"arrow_back"},null,512),[[N]]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[A])),_:1}),(0,a.createVNode)(s,{color:"white","text-color":"primary",label:"Emitir "+t.dados.tipoCaixa,type:"submit",unelevated:""},null,8,["label"])])),_:1})])),_:1}),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",B,[(0,a.createVNode)(m,{modelValue:t.dados.incluirCpfCnpjNoCupom,"onUpdate:modelValue":o[0]||(o[0]=e=>t.dados.incluirCpfCnpjNoCupom=e),class:"col-12",rotulo:"Incluir CPF/CNPJ no cupom",tipo:"logico"},null,8,["modelValue"])]),t.dados.incluirCpfCnpjNoCupom?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createElementVNode)("div",L,[(0,a.createVNode)(p,{class:"col-12",error:r.cpfCnpjErro,"error-label":"CPF/CNPJ inválido"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(u,{label:"CPF / CNPJ",modelValue:t.dados.cpfCnpj,"onUpdate:modelValue":[o[1]||(o[1]=e=>t.dados.cpfCnpj=e),o[2]||(o[2]=e=>r.cpfCnpjErro=!1)]},null,8,["modelValue"]),[[V,["###.###.###-##","##.###.###/####-##"]]])])),_:1},8,["error"])]),(0,a.createElementVNode)("div",O,[(0,a.createVNode)(m,{modelValue:t.dados.nomeCliente,"onUpdate:modelValue":o[3]||(o[3]=e=>t.dados.nomeCliente=e),class:"col-12",rotulo:"Nome"},null,8,["modelValue"])])],64)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})],32)])),_:1})])),_:1},8,["model-value","onUpdate:modelValue"])}]]);te()($,"components",{QDialog:Z.Z,QLayout:Q.Z,QHeader:R.Z,QToolbar:G.Z,QBtn:H.Z,QToolbarTitle:J.Z,QPageContainer:Y.Z,QPage:X.Z,QField:W.Z,QInput:K.Z}),te()($,"directives",{ClosePopup:ee.Z});const ie=(0,a.createTextVNode)("Selecionar CEST para os itens"),re={class:"bg-white q-mx-md q-pa-md"};var le=t(91240),se=t(48409);const ne={components:{SeletorCest:le.Z},computed:{campos(){return this.modal.campos}},data:()=>({itens:[]}),emits:["confirmar"],methods:{async atualizar(){try{this.$lodash.get(this.campos,"ids.length")?(this.itens=await(0,se.X)().item.where("id").anyOf(this.campos.ids).toArray(),this.itensOriginal=this.$utils.clonarV2(this.itens)):this.itens=[]}catch(e){this.$q.notifyError("Erro ao carregar os dados",e)}},async confirmar(){this.$utils.gconsole.log("ItemTrocarCest","confirmar",this.itens);for(const e in this.itens)this.itens[e].cest&&this.itens[e].cest!==this.itensOriginal[e].cest&&$db.item.gravaItem({atual:this.itens[e],original:this.itensOriginal[e]});this.modal.visivel=!1,this.$emit("confirmar")}},props:{modal:{required:!0,type:Object}},watch:{"modal.visivel"(e){e&&this.atualizar()}},mounted(){this.atualizar()}};var ce=t(83054),de=t(782);const me=(0,U.Z)(ne,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("campo"),m=(0,a.resolveComponent)("SeletorCest"),u=(0,a.resolveComponent)("q-card-section"),p=(0,a.resolveComponent)("q-card"),h=(0,a.resolveComponent)("q-dialog"),C=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(h,{modelValue:t.modal.visivel,"onUpdate:modelValue":o[1]||(o[1]=e=>t.modal.visivel=e),maximized:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{flat:"",round:"",dense:"",icon:"arrow_back"},null,512),[[C]]),(0,a.createVNode)(n,{class:"q-mx-sm"},{default:(0,a.withCtx)((()=>[ie])),_:1}),(0,a.createVNode)(s,{class:"q-ml-sm no-shadow",color:"white","text-color":"primary",label:"Salvar",onClick:o[0]||(o[0]=o=>e.tryLoading(l.confirmar,{erro:"Ocorreu erro ao salvar CEST"}))})])),_:1}),(0,a.createVNode)(u,{class:"text-body1 q-mx-lg q-my-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",re,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.itens,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id,class:"q-col-gutter-x-sm items-baseline row"},[(0,a.createVNode)(d,{"model-value":e.descricao,rotulo:"Descrição",class:"col-12 col-md-6","apenas-leitura":""},null,8,["model-value"]),(0,a.createVNode)(d,{"model-value":e.ncm,rotulo:"NCM",class:"col-12 col-md-3","apenas-leitura":""},null,8,["model-value"]),(0,a.createVNode)(m,{modelValue:e.cest,"onUpdate:modelValue":o=>e.cest=o,class:"col-12 col-md-3",ncm:e.ncm},null,8,["modelValue","onUpdate:modelValue","ncm"])])))),128))])])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);te()(ne,"components",{QDialog:Z.Z,QCard:ce.Z,QToolbar:G.Z,QBtn:H.Z,QToolbarTitle:J.Z,QCardSection:de.Z}),te()(ne,"directives",{ClosePopup:ee.Z});var ue=t(82812),pe=t(62159),he=t(4834),Ce=t(38075),ve=t(31969),fe=t(47592),Ne=t(70154),Ve=t(84573),ge=t(26504),xe=t(50162),be=t(64477),we=t(9511),_e=t(44465),ye=t(81105),Ie=t(11463);const Ee={tipo:"NFCe",serie:"nfce.padrao.serie",homologacao:"nfce.homologacao",usadesconto:"nfce.usadesconto",gerarAutorizacaoDownload:Ce.Z,gerarConfiguracaoImposto:ve.Z,gerarNumeroNFe:fe.Z,obterConfiguracaoImpostoV2:ge.Z,obterFatura:xe.Z,obterFormasPagamento:be.Z,obterFrete:we.Z,obterItens:_e.Z,async gerarJson(e,o,t){const a=(0,j.logarIni)("gerarJsonNFCe",e,o,t);try{(0,j.verificarErro)(!e,"Fatura não fornecida");const i=Ve.Z.iniciarCampos({idDocumento:e,cpfCnpjCliente:o,nomeCliente:t,totalDesconto:0,totalDevolucao:0,totalProdutos:0,totalServicos:0,alertas:[],erros:[],cache:{},outrosNFe:{},infNFe:he.Z.executa(Ne.Z.infNFe,{},"NFCe")},"gerarNFCeFatura");j.gconsole.log("gerarJsonNFCeD","iniciarCampos",i),await this.acertoInicial(i),await this.obterFatura(i),await this.obterEmitente(i),await this.obterDestinatario(i,o,t);const r=[];if(await this.obterItens(i,r),r.length)throw $utils.emitter.emit("confrontarFigurasFiscais",r),new Error("Figura fiscal não encontrada");return await this.obterFormasPagamento(i),await this.obterFrete(i),await this.gerarNumeroNFe(i.infNFe),await this.gerarAutorizacaoDownload(i.infNFe,i.outrosNFe.idContatoEmitente),ye.Z.calculaTotais(i.infNFe,i.outrosNFe,Ne.Z),Ve.Z.acertarDadosNFe(i.infNFe,i.outrosNFe,"NFCe"),i.infNFe=pe.Z.executa(Ne.Z.infNFe,i.infNFe),i.erros=pe.Z.erros,j.gconsole.log("gerarJsonNFCeD","infNFe",i.infNFe),j.gconsole.log("gerarJsonNFCeD","compactarValidarNFe.erros",pe.Z.erros),i}finally{(0,j.logarFim)(a,1)}},async acertoInicial(e){j.gconsole.log("gerarJsonNFeD","acertoInicial"),e.infNFe.ide.tpNF="1",e.infNFe.ide.finNFe="1",e.infNFe.ide.tpAmb=1===await Ie.db.configuracoes.leValorNumerico(this.homologacao)?"2":"1",e.infNFe.ide.mod="65",e.infNFe.ide.tpImp="4",e.infNFe.ide.dhEmi=Ve.Z.formatarDataNFe(new Date),(0,j.verificarErro)(!e.idDocumento,"Ops! Não foi encontrado o código do documento (venda/fatura).");const o=await $erp().documento.get(e.idDocumento);let t,a=[];"Venda"===o.tipo&&a.push(o),"Fatura"===o.tipo&&(a=await(0,se.X)().documento.where({idFatura:e.idDocumento}).toArray());for(const e of a){const o=Number(e?.codigoDocumentoOperacao);if(Number.isInteger(o)&&o>0){const e=await $erp().documentoOperacao.where({codigoDocumentoOperacao:o}).toArray();t||(t=e[0]),(0,j.verificarErro)(t?.finalidade!==e[0]?.finalidade,"Vendas possuem operações com finalidades diferentes.")}}e.idCfopVenda=t?.idCfop,(0,j.verificarErro)(!e.idCfopVenda,"Erro na configuração do sistema. Sem definição do CFOP de venda.")},async gerarJsonCancelamento(e){const o={infEvento:{cOrgao:e.infNFe.ide.cUF,tpAmb:e.infNFe.ide.tpAmb,escolhas:{valor_escolha:e.infNFe.emit.escolhas.valor_escolha,CNPJ:e.infNFe.emit.escolhas.CNPJ,CPF:e.infNFe.emit.escolhas.CPF},chNFe:e.outrosNFe.chNFe,dhEvento:Ve.Z.formatarDataNFe(new Date),nSeqEvento:"1",detEvento:{nProt:e.outrosNFe.nProt_emissao,xJust:"Nota cancelada devido divergencia de informacoes"}}};return o.infEvento=he.Z.executa(Ne.Z.infEvento,o.infEvento,"NFCe"),o.infEvento=pe.Z.executa(Ne.Z.infEvento,o.infEvento),e.erros=pe.Z.erros,j.gconsole.log("gerarJsonNFCeD","infNFe",e.infNFe),j.gconsole.log("gerarJsonNFCeD","compactarValidarNFe.erros",pe.Z.erros),o.infEvento},async obterConfiguracaoImposto(e){j.gconsole.log("gerarJsonNFCeD","obterConfiguracaoImposto");const o=`Produto '${e.documentoItem.descricaoItem||""}'`;(0,j.verificarErro)(!e.item.ncm,`${o} sem cadastro de NCM`);const t=await(0,se.X)()._ncm.where("ncm").equals(e.item.ncm).first();(0,j.verificarErro)(!t,`${o} com NCM '${e.item.ncm||""}' inválido`),e.documentoItem.idCfop||(e.documentoItem.idCfop=e.idCfopVenda);const a=await(0,se.X)().cfop.get(e.documentoItem.idCfop);(0,j.verificarErro)(!a,`${o} com CFOP inválido`),j.gconsole.log("gerarJsonNFCeD",`dadosNcm.id: ${t.id} dadosCfop.id: ${a.id} dados.empresa.id: ${e.empresa.id}`);const i=await(0,se.X)().impostoConfiguracao.where("idNcm").equals(t.id).filter((o=>o.idCfop===a.id&&o.idEmitente===e.empresa.id&&o.ufOrigem===e.empresa.enderecoPrincipal.uf&&o.ufDestino===e.empresa.enderecoPrincipal.uf)).first();j.gconsole.log("gerarJsonNFCeD","impostoConfiguracao",i);const r=`Verifique a configuração do imposto para NCM: ${e.item.ncm||""}, CFOP: ${a.cfop||""}, CNPJ: ${e.empresa.numeroDocumentoNacional||""}, UF origem: ${e.empresa.enderecoPrincipal.uf||""}, UF destino: ${e.empresa.enderecoPrincipal.uf||""}.`;(0,j.verificarErro)(!i,`${o} sem configuração de imposto. ${r}`);const l=e.det.prod,s=e.det.imposto;try{if(l.CFOP=(a.cfop||0).toString(),s.noXml_orig=await this.obterImpostoParametro(e,i.idOrigem),s.noXml_CST=s.noXml_CSOSN=await this.obterImpostoParametro(e,i.idCst),s.noXml_pICMS=i.aliqIcmsUFOrigem||i.aliqIcms||0,s.noXml_pRedBC=i.percRedBcIcms||0,s.noXml_pFCP=i.aliqFcp||0,s.noXml_CSTPis=await this.obterImpostoParametro(e,i.idTipoTribPis),s.noXml_pPIS=i.aliqPis||0,s.noXml_CSTCofins=await this.obterImpostoParametro(e,i.idTipoTribCofins),s.noXml_pCOFINS=i.aliqCofins||0,i.idCest){const o=await this.obterImpostoParametro(e,i.idCest);o&&(l.opcional.visivel=!0,l.opcional.CEST=(0,j.filtrarDigitos)(o))}}catch(e){console.error(e),(0,j.verificarErro)(!0,`${o} com erro na configuração de imposto. ${r}`)}},async obterDestinatario(e,o,t){if(e.destinatario={},!o)return void(e.infNFe.dest.visivel=!1);const a=e.documentoFatura.idContato;a&&(e.destinatario=await(0,se.X)().contato.get(a),e.destinatario&&(e.destinatario.enderecos=await(0,se.X)().contatoEndereco.where("idContato").equals(a).toArray(),e.destinatario.enderecoPrincipal=e.destinatario.enderecos.find((e=>"Principal"===e.grupo)),e.destinatario.enderecoPrincipal||(e.destinatario.enderecoPrincipal=e.destinatario.enderecos[0]||{}),e.destinatario.telefones=await(0,se.X)().contatoTelefone.where("idContato").equals(a).toArray(),e.destinatario.telefonePrincipal=e.destinatario.telefones.find((e=>"Principal"===e.grupo)),e.destinatario.telefonePrincipal||(e.destinatario.telefonePrincipal=e.destinatario.telefones[0]||{}),j.gconsole.log("gerarJsonNFCeD","dados.destinatario",e.destinatario)));const i=e.infNFe.dest;i.visivel=!0;const r=(0,j.filtrarDigitos)(o);11===r.length?(i.escolhas.valor_escolha="CPF",i.escolhas.CPF=r,i.indIEDest="9"):14===r.length?(i.escolhas.valor_escolha="CNPJ",i.escolhas.CNPJ=r,i.indIEDest="9"):(0,j.verificarErro)(!0,"Destinatario com CPF/CNPJ inválido"),r===(0,j.filtrarDigitos)(e.destinatario.numeroDocumentoNacional)&&("CNPJ"===i.escolhas.valor_escolha&&e.destinatario.numeroDocumentoEstadual&&(i.IE=(0,j.filtrarDigitos)(e.destinatario.numeroDocumentoEstadual)),i.xNome=(0,j.removerCaracteresEspeciais)(t||e.destinatario.nome),e.destinatario.enderecoPrincipal.uf&&e.destinatario.enderecoPrincipal.ibgeCod&&(i.enderDest.visivel=!0,i.email=(e.destinatario.emailNfe||e.destinatario.email||"").trim(),i.enderDest.fone=(0,j.filtrarDigitos)(e.destinatario.telefonePrincipal.telefone||""),i.enderDest.xLgr=(0,j.removerCaracteresEspeciais)(e.destinatario.enderecoPrincipal.logradouro),i.enderDest.nro=(e.destinatario.enderecoPrincipal.numero||"SN").trim(),i.enderDest.xCpl=(0,j.removerCaracteresEspeciais)(e.destinatario.enderecoPrincipal.complemento),i.enderDest.xBairro=(0,j.removerCaracteresEspeciais)(e.destinatario.enderecoPrincipal.bairro),i.enderDest.cMun=String(e.destinatario.enderecoPrincipal.ibgeCod||"").trim(),i.enderDest.xMun=(0,j.removerCaracteresEspeciais)(e.destinatario.enderecoPrincipal.municipio),i.enderDest.UF=(e.destinatario.enderecoPrincipal.uf||"").trim(),i.enderDest.CEP=(0,j.filtrarDigitos)(e.destinatario.enderecoPrincipal.cep||""),i.enderDest.cPais="1058",i.enderDest.xPais=(e.destinatario.enderecoPrincipal.pais||"").trim()||"Brasil"))},async obterEmitente(e){j.gconsole.log("gerarJsonNFCeD","obterEmitente");const o=e.documentoFatura.idEmpresa;if((0,j.verificarErro)(!o,"Fatura sem empresa emitente"),e.empresa=await(0,se.X)().contato.get(o),(0,j.verificarErro)(!e.empresa,"Não foi possível carregar a empresa emitente"),e.outrosNFe.idContatoEmitente=o,e.empresaPlat=await se.s.empresa.where({idContato:o}).first(),!e.empresaPlat){const o=JSON.parse(localStorage.getItem("clienteSistema"));e.empresaPlat=await se.s.empresa.where({codigoContato:e.empresa.codigoContato}).filter((e=>e.codigoClienteSistema===o.codigoClienteSistema)).first()}(0,j.verificarErro)(!e.empresaPlat,"Não foi possível carregar a empresa emitente"),"1"===e.infNFe.ide.tpAmb?((0,j.verificarErro)(!e.empresaPlat.hashCSCProducao,"Empresa emitente sem hashCSC de produção cadastrado"),(0,j.verificarErro)(!e.empresaPlat.tokenCSCProducao,"Empresa emitente sem tokenCSC de produção cadastrado"),e.empresaPlat.hashCSC=e.empresaPlat.hashCSCProducao,e.empresaPlat.tokenCSC=e.empresaPlat.tokenCSCProducao):((0,j.verificarErro)(!e.empresaPlat.hashCSCHomologacao,"Empresa emitente sem hashCSC de homologação cadastrado"),(0,j.verificarErro)(!e.empresaPlat.tokenCSCHomologacao,"Empresa emitente sem tokenCSC de homologação cadastrado"),e.empresaPlat.hashCSC=e.empresaPlat.hashCSCHomologacao,e.empresaPlat.tokenCSC=e.empresaPlat.tokenCSCHomologacao),e.empresa.enderecos=await(0,se.X)().contatoEndereco.where("idContato").equals(o).toArray(),(0,j.verificarErro)(!e.empresa.enderecos||0===e.empresa.enderecos.length,"Não foi possível carregar o endereço da empresa emitente"),e.empresa.enderecoPrincipal=e.empresa.enderecos.find((e=>"Principal"===e.grupo)),e.empresa.enderecoPrincipal||(e.empresa.enderecoPrincipal=e.empresa.enderecos[0]||{}),e.empresa.telefones=await(0,se.X)().contatoTelefone.where("idContato").equals(o).toArray()||[],e.empresa.telefonePrincipal=e.empresa.telefones.find((e=>"Principal"===e.grupo)),e.empresa.telefonePrincipal||(e.empresa.telefonePrincipal=e.empresa.telefones[0]||{}),j.gconsole.log("gerarJsonNFCeD","dados.empresa",e.empresa),(0,j.verificarErro)(!e.empresa.numeroDocumentoNacional,"Empresa emitente sem CNPJ cadastrado"),(0,j.verificarErro)(!e.empresa.numeroDocumentoEstadual,"Empresa emitente sem Inscrição Estadual cadastrado"),(0,j.verificarErro)(!e.empresa.nome,"Empresa emitente sem Razão Social (nome) cadastrado"),(0,j.verificarErro)(!e.empresa.enderecoPrincipal.uf,"Empresa emitente sem UF cadastrado"),(0,j.verificarErro)(!e.empresa.enderecoPrincipal.ibgeCod,"Empresa emitente sem código do município cadastrado"),(0,j.verificarErro)(!e.empresa.regime,"Empresa emitente sem regime cadastrado");const t=e.infNFe.emit;t.escolhas.CNPJ=(0,j.filtrarDigitos)(e.empresa.numeroDocumentoNacional),t.IE=(0,j.filtrarDigitos)(e.empresa.numeroDocumentoEstadual),t.CRT="SimplesNacional"===e.empresa.regime?"1":"3",t.xNome=(0,j.removerCaracteresEspeciais)(e.empresa.nome),t.xFant=(0,j.removerCaracteresEspeciais)(e.empresa.apelido),t.email=(e.empresa.email||"").trim(),t.enderEmit.fone=(0,j.filtrarDigitos)(e.empresa.telefonePrincipal.telefone),t.enderEmit.xLgr=(0,j.removerCaracteresEspeciais)(e.empresa.enderecoPrincipal.logradouro),t.enderEmit.nro=(e.empresa.enderecoPrincipal.numero||"SN").trim(),t.enderEmit.xCpl=(0,j.removerCaracteresEspeciais)(e.empresa.enderecoPrincipal.complemento),t.enderEmit.xBairro=(0,j.removerCaracteresEspeciais)(e.empresa.enderecoPrincipal.bairro),t.enderEmit.cMun=String(e.empresa.enderecoPrincipal.ibgeCod||"").trim(),t.enderEmit.xMun=(0,j.removerCaracteresEspeciais)(e.empresa.enderecoPrincipal.municipio),t.enderEmit.UF=(e.empresa.enderecoPrincipal.uf||"").trim(),t.enderEmit.CEP=(0,j.filtrarDigitos)(e.empresa.enderecoPrincipal.cep),t.enderEmit.cPais="1058",t.enderEmit.xPais=(0,j.removerCaracteresEspeciais)(e.empresa.enderecoPrincipal.pais||"Brasil"),e.infNFe.ide.cMunFG=t.enderEmit.cMun,e.infNFe.ide.cUF=String(j.mapearEstadoCodigo[t.enderEmit.UF])},async obterImpostoParametro(e,o){(0,j.verificarErro)(!o,"Configuração de imposto sem informação completa");let t=e.cache[o];if(!t){const a=await(0,se.X)().impostoParametro.get(o);t=a?a.numero.trim():void 0,e.cache[o]=t}return(0,j.verificarErro)(!t,"Configuração de imposto inválida"),t},async obterMeioPagamento(e,o){j.gconsole.log("gerarJsonNFCeD","obterMeioPagamento",o),(0,j.verificarErro)(!o,"Forma de pagamento inválida");let t=e.cache[o];if(t)return t;const a=await(0,se.X)().formaPagamento.get(o);(0,j.verificarErro)(!a||!a.descricao,"Não foi possível carregar a forma de pagamento");const i=a.descricao.toLowerCase();return t=i.includes("dinheiro")?"01":i.includes("débito")?"04":i.includes("crédito de clientes")?"01":i.includes("crédito")?"03":i.includes("cartão")&&1===Number(a.parcelamentoMaximo||0)?"04":i.includes("cartão")&&Number(a.parcelamentoMaximo||0)>1?"03":"99",e.cache[o]=t,console.log("codigoMeioPagamento: ",t),t},async obterAliquotasTributosIbpt(e,o){j.gconsole.log("gerarJsonNFCeD","obterValorAproxTributos",o);const t=await(0,se.X)().nfeIbpt.where("codigo").equals(Number(o.prod.NCM)).toArray();if(this.verificarAlerta(!t||0===t.length,`Não encontrado alíquotas para calculo do valor aproximado de tributos do NCM: ${o.prod.NCM}. Atualize sua tabela IBPT.`,e))return;const a=t.filter((o=>o.idContato===e.empresa.id)),i=(a.length?a:t).reduce(((e,o)=>!e||e.vigenciaFim<o.vigenciaFim?o:e),null);this.verificarAlerta(i.vigenciaFim<(0,j.dataAtual)(),`Informações vencidas para para o calculo do valor aproximado de tributos do NCM: ${o.prod.NCM}. Atualize sua tabela IBPT.`,e),o.imposto.noXml_pTribImp=Number(i.importadosFederal||0),o.imposto.noXml_pTribFed=Number(i.nacionalFederal||0),o.imposto.noXml_pTribEst=Number(i.estadual||0),o.imposto.noXml_pTribMun=Number(i.municipal||0)},verificarAlerta:(e,o,t)=>(e&&(t.alertas||(t.alertas=[]),t.alertas.push(o),console.warn(o)),e)};var Se=t(54726);const Me={async gerarSat(e,o,t,a){const i=(0,j.logarIni)("gerarSat",e,o,t,a),r={};try{(0,j.verificarErro)(!o,"Número do PDV não fornecido"),(0,j.verificarErro)(!e,"Fatura não fornecida"),r.NumeroPDV=o,t&&(r.CPF_CNPJ=t),a&&(r.NomeCliente=(0,j.removerCaracteresEspeciais)(a));const l={idDocumento:e,cpfCnpjCliente:t,nomeCliente:a,totalDevolucao:0,totalProdutos:0,totalServicos:0,alertas:[]};await this.obterFatura(l),await this.obterEmpresa(l),await this.obterDestinatario(l);const s=[];if(r.Itens=await this.obterItens(l,s),s.length)throw $utils.emitter.emit("confrontarFigurasFiscais",s),new Error("Figura fiscal não encontrada");const{desconto:n,acrescimo:c}=await this.obterDescontoAcrescimoFatura(l);return r.Desconto=n,r.Acrescimo=c,r.FormaPgto=await this.obterFormasPagamento(l),r.Mensagem=("Fatura: "+(l.documentoFatura.numero||(l.documentoFatura.id||"").slice(-6))).padEnd(48," "),a?r.Mensagem+=a.padEnd(48," "):l.destinatario.nome&&l.destinatario.codigoContato!==await Ie.db.configuracoes.leValorNumerico("venda.codigoconsumidor")&&(r.Mensagem+=l.destinatario.nome.padEnd(48," ")),r.Mensagem+=await Ie.db.configuracoes.leValorComFiltroEmpresa("cupom.mensagem",l.documentoFatura.idEmpresa,"Obrigado e Volte Sempre!"),r.Mensagem=(0,j.removerCaracteresEspeciais)(r.Mensagem),{objetoJson:r,dados:l}}finally{(0,j.logarFim)(i,(r.Itens||[]).length,r)}},async guardarRetornoEmissaoSat(e,o,t){j.gconsole.log("gerarSatD","guardarRetornoSat",o);const a=(new DOMParser).parseFromString(t,"application/xml");(0,j.verificarErro)(a.getElementsByTagName("parsererror").length,"Erro ao gravar os dados do SAT. (XML inválido)");const i=a.getElementsByTagName("infCFe")[0];(0,j.verificarErro)(!i,"Erro ao gravar os dados do SAT. (XML inválido, sem infCFe)");const r=i.getElementsByTagName("ide")[0];(0,j.verificarErro)(!r,"Erro ao gravar os dados do SAT. (XML inválido, sem ide)");const l=i.getElementsByTagName("dest")[0];(0,j.verificarErro)(!l,"Erro ao gravar os dados do SAT. (XML inválido, sem dest)");const s=i.getElementsByTagName("total")[0];(0,j.verificarErro)(!s,"Erro ao gravar os dados do SAT. (XML inválido, sem total)");const n=s.getElementsByTagName("ICMSTot")[0];(0,j.verificarErro)(!n,"Erro ao gravar os dados do SAT. (XML inválido, sem ICMSTot)");const c=(l.getElementsByTagName("CPF")[0]||l.getElementsByTagName("CNPJ")[0]||{}).innerHTML||"",d=(r.getElementsByTagName("dEmi")[0]||{}).innerHTML,m=(r.getElementsByTagName("hEmi")[0]||{}).innerHTML,u=d&&m?Se.ZP.formatDate(d.substr(0,4)+"-"+d.substr(4,2)+"-"+d.substr(6,2)+"T"+m.substr(0,2)+":"+m.substr(2,2)+":"+m.substr(4,2)):"",p={id:(0,j.uuid)(),idDocumento:e.idDocumento,idEmpresa:e.documentoFatura.idEmpresa,descricaoEmpresa:e.empresa.nome,idContato:e.documentoFatura.idContato,descricaoContato:e.documentoFatura.descricaoContato,nomeArquivo:o,chaveCupom:i.getAttribute("Id")||"",cancelamento:!1,xml:t,dataHoraEmissao:u,numeroCupom:Number((r.getElementsByTagName("nCFe")[0]||{}).innerHTML)||0,documentoConsumidor:c,valorIcms:Number((n.getElementsByTagName("vICMS")[0]||{}).innerHTML)||0,valorProdutos:Number((n.getElementsByTagName("vProd")[0]||{}).innerHTML)||0,valorDesconto:Number((n.getElementsByTagName("vDesc")[0]||{}).innerHTML)||0,valorPis:Number((n.getElementsByTagName("vPIS")[0]||{}).innerHTML)||0,valorConfins:Number((n.getElementsByTagName("vCOFINS")[0]||{}).innerHTML)||0,valorPisSt:Number((n.getElementsByTagName("vPISST")[0]||{}).innerHTML)||0,valorConfinsSt:Number((n.getElementsByTagName("vCOFINSST")[0]||{}).innerHTML)||0,outrosValores:Number((n.getElementsByTagName("vOutro")[0]||{}).innerHTML)||0,valorTotal:Number((s.getElementsByTagName("vCFe")[0]||{}).innerHTML)||0,valorTributos:Number((n.getElementsByTagName("vCFeLei12741")[0]||{}).innerHTML)||0,chaveCupomCancelado:"",dataHoraCupomCancelado:null};await Ie.db.documentoSat.grava({atual:p})},async guardarRetornoCancelamentoSat(e,o,t){j.gconsole.log("gerarSatD","guardarRetornoSat",o);const a=(new DOMParser).parseFromString(t,"application/xml");(0,j.verificarErro)(a.getElementsByTagName("parsererror").length,"Erro ao gravar os dados do cancelamento do SAT. (XML inválido)");const i=a.getElementsByTagName("infCFe")[0];(0,j.verificarErro)(!i,"Erro ao gravar os dados do cancelamento do SAT. (XML inválido, sem infCFe)");const r=i.getElementsByTagName("ide")[0];(0,j.verificarErro)(!r,"Erro ao gravar os dados do cancelamento do SAT. (XML inválido, sem ide)");const l=i.getElementsByTagName("dest")[0];(0,j.verificarErro)(!l,"Erro ao gravar os dados do cancelamento do SAT. (XML inválido, sem dest)");const s=i.getElementsByTagName("total")[0];(0,j.verificarErro)(!s,"Erro ao gravar os dados do cancelamento do SAT. (XML inválido, sem total)");const n=(l.getElementsByTagName("CPF")[0]||l.getElementsByTagName("CNPJ")[0]||{}).innerHTML||"",c=(r.getElementsByTagName("dEmi")[0]||{}).innerHTML,d=(r.getElementsByTagName("hEmi")[0]||{}).innerHTML,m=c&&d?Se.ZP.formatDate(c.substr(0,4)+"-"+c.substr(4,2)+"-"+c.substr(6,2)+"T"+d.substr(0,2)+":"+d.substr(2,2)+":"+d.substr(4,2)):"",u=(i.getElementsByTagName("dEmi")[0]||{}).innerHTML,p=(i.getElementsByTagName("hEmi")[0]||{}).innerHTML,h=c&&d?Se.ZP.formatDate(u.substr(0,4)+"-"+u.substr(4,2)+"-"+u.substr(6,2)+"T"+p.substr(0,2)+":"+p.substr(2,2)+":"+p.substr(4,2)):"",C={};C.documentoFatura=await(0,se.X)().documento.get(e),(0,j.verificarExcecao)(!C.documentoFatura,"Não foi possível carregar a fatura");const v={id:(0,j.uuid)(),idDocumento:e,idEmpresa:C.documentoFatura.idEmpresa,descricaoEmpresa:C.documentoFatura.descricaoEmpresa,idContato:C.documentoFatura.idContato,descricaoContato:C.documentoFatura.descricaoContato,nomeArquivo:o,chaveCupom:i.getAttribute("Id")||"",cancelamento:!0,xml:t,dataHoraEmissao:m,dataHoraCupomCancelado:h,numeroCupom:Number((r.getElementsByTagName("nCFe")[0]||{}).innerHTML)||0,documentoConsumidor:n,valorTotal:Number((s.getElementsByTagName("vCFe")[0]||{}).innerHTML)||0,chaveCupomCancelado:i.getAttribute("chCanc")||""};await Ie.db.documentoSat.grava({atual:v})},async obterConfiguracaoImposto(e){j.gconsole.log("gerarSatD","obterConfiguracaoImposto");const o=`Produto '${e.documentoItem.descricaoItem||""}'`;(0,j.verificarErro)(!e.item.ncm,`${o} sem cadastro de NCM`);const t=await(0,se.X)()._ncm.where("ncm").equals(e.item.ncm).first();(0,j.verificarErro)(!t,`${o} com NCM '${e.item.ncm||""}' inválido`),e.documentoItem.idCfop||(e.documentoItem.idCfop=e.idCfopVenda);const a=await(0,se.X)().cfop.get(e.documentoItem.idCfop);(0,j.verificarErro)(!a,`${o} com CFOP inválido`);const i=await(0,se.X)().impostoConfiguracao.where("idNcm").equals(t.id).filter((o=>o.idCfop===a.id&&o.idEmitente===e.empresa.id&&o.ufOrigem===e.empresa.enderecoPrincipal.uf&&o.ufDestino===e.empresa.enderecoPrincipal.uf)).first(),r=`Verifique a configuração do imposto para NCM: ${e.item.ncm||""}, CFOP: ${a.cfop||""}, CNPJ: ${e.empresa.numeroDocumentoNacional||""}, UF origem: ${e.empresa.enderecoPrincipal.uf||""}, UF destino: ${e.empresa.enderecoPrincipal.uf||""}.`;(0,j.verificarErro)(!i,`${o} sem configuração de imposto. ${r}`);const l={};try{l.CFOP=(a.cfop||0).toString(),l.ICMS_OrigemMercadoria=await this.obterImpostoParametro(e,i.idOrigem),l.ICMS_CST=await this.obterImpostoParametro(e,i.idCst),l.ICMS_CSOSN=l.ICMS_CST,l.ICMS_Aliquota=(i.aliqIcmsUFOrigem||i.aliqIcms||0).toString(),l.PIS_CST=await this.obterImpostoParametro(e,i.idTipoTribPis),l.PIS_Aliquota=(i.aliqPis||0).toString(),l.COFINS_CST=await this.obterImpostoParametro(e,i.idTipoTribCofins),l.COFINS_Aliquota=(i.aliqCofins||0).toString()}catch(e){console.error(e),(0,j.verificarErro)(!0,`${o} com erro na configuração de imposto. ${r}`)}return l.ValorAproxTributos=await this.obterValorAproxTributos(e,l.ICMS_OrigemMercadoria),l},async obterConfiguracaoImpostoV2(e,o){j.gconsole.log("gerarSatD","obterConfiguracaoImposto");const t=`Produto '${e.documentoItem.descricaoItem||""}'`;(0,j.verificarErro)(!e.item.ncm,`${t} sem cadastro de NCM`),e.documentoItem.idCfop||(e.documentoItem.idCfop=e.idCfopVenda);const a=await(0,se.X)().cfop.get(e.documentoItem.idCfop);(0,j.verificarErro)(!a,`${t} com CFOP inválido`);let i=e.item.ncm||"";i=8===i.length?i:(0,j.filtrarDigitos)(i);const r={emitente:{regime:"SimplesNacional"===e.empresa.regime?"1":"3",uf:e.empresa.enderecoPrincipal.uf,tributacaoSetor:e.empresa.tributacaoSetor,tributacao:e.empresa.tributacao},destinatario:{regime:"SimplesNacional"===e.destinatario.regime?"1":"Normal"===e.destinatario.regime?"3":void 0,uf:e.empresa.enderecoPrincipal.uf,pessoa:{CPF:"PF",CNPJ:"PJ",idEstrangeiro:"Estrangeiro"}[e.destinatario.tipoDocumentoNacional]||void 0,stributacaoSetoretor:e.destinatario.tributacaoSetor,tributacao:e.destinatario.tributacao,indicadorIE:"9",consumidor:"S",destino:"1"},ncm:i,cfop:String(a.cfop||""),cest:e.item.cest,origemMercadoria:String(e.item.codigoOrigem||""),produto:e.item.descricao},l=await Ie.db.configuracaoImposto.pesquisa(r,o);if(!l||!l.ordem||!l.saida)return{};const s={};return s.CFOP=l.entrada.cfop,s.ICMS_OrigemMercadoria=l.entrada.origemMercadoria,s.ICMS_CST=l.saida.cstCsosn,s.ICMS_CSOSN=s.ICMS_CST,s.ICMS_Aliquota=(l.saida.pICMS||0).toString(),s.PIS_CST=l.saida.pisCst,s.PIS_Aliquota=(l.saida.pPIS||0).toString(),s.COFINS_CST=l.saida.cofinsCst,s.COFINS_Aliquota=(l.saida.pCOFINS||0).toString(),s.ValorAproxTributos=await this.obterValorAproxTributos(e,s.ICMS_OrigemMercadoria),s},async obterDadosGerais(e){j.gconsole.log("gerarSatD","obterDadosGerais");const o=await(0,se.X)().documentoOperacao.filter((e=>"Venda"===e.descricao)).first();e.idCfopVenda=o.idCfop,(0,j.verificarErro)(!e.idCfopVenda,"Erro na configuração do sistema. Sem definição do CFOP de venda.")},async obterDescontoAcrescimoFatura(e){j.gconsole.log("gerarSatD","obterDescontoAcrescimoFatura"),e.totalFrete=(0,j.somar)(e.documentosVendas,"valorFrete"),e.tipoFrete=e.documentosVendas[0].tipoFrete;for(const o of e.documentosVendas)(0,j.verificarErro)(e.tipoFrete!==o.tipoFrete,"Divergência de frete entre as vendas, favor emitir a nota individualmente (por venda)");"CIF"===e.tipoFrete&&(e.totalFrete=0);let o=e.totalFrete,t=e.documentoFatura.totalDesconto||0;return t+=(0,j.somar)(e.documentosVendas,"totalDesconto"),e.totalDesconto=t,(0,j.arredondar)(o)>0&&(0,j.arredondar)(t)>0&&(o>t?(o-=t,t=0):(t-=o,o=0)),{acrescimo:o.toFixed(2),desconto:t.toFixed(2)}},async obterDestinatario(e){const o=e.documentoFatura.idContato;e.destinatario=o&&await(0,se.X)().contato.get(o)||{}},async obterEmpresa(e){j.gconsole.log("gerarSatD","obterEmpresa");const o=e.documentoFatura.idEmpresa;(0,j.verificarErro)(!o,"Fatura sem empresa emitente"),e.empresa=await(0,se.X)().contato.get(o),(0,j.verificarErro)(!e.empresa,"Não foi possível carregar a empresa emitente"),e.empresa.enderecos=await(0,se.X)().contatoEndereco.where("idContato").equals(o).toArray(),(0,j.verificarErro)(!e.empresa.enderecos||0===e.empresa.enderecos.length,"Não foi possível carregar o endereço da empresa emitente"),e.empresa.telefones=await(0,se.X)().contatoTelefone.where("idContato").equals(o).toArray()||[],e.empresa.enderecoPrincipal=e.empresa.enderecos.find((e=>"Principal"===e.grupo)),e.empresa.enderecoPrincipal||(e.empresa.enderecoPrincipal=e.empresa.enderecos[0]||{}),(0,j.verificarErro)(!e.empresa.enderecoPrincipal.uf,"Empresa emitente sem UF cadastrado")},async obterFatura(e){j.gconsole.log("gerarSatD","obterFatura");const o=e.idDocumento;e.documentoFatura=await(0,se.X)().documento.get(o),(0,j.verificarErro)(!e.documentoFatura,"Não foi possível carregar a fatura"),e.documentosAdicionais=await(0,se.X)().documento.where("idDocumentoAdicional").equals(o).toArray()||[],e.documentosVendas=await(0,se.X)().documento.where("idFatura").equals(o).toArray()||[],e.idsDocumentos=[o,...e.documentosAdicionais.map((e=>e.id)),...e.documentosVendas.map((e=>e.id))]},async obterFormasPagamento(e){j.gconsole.log("gerarSatD","obterFormasPagamento");const o=await(0,se.X)().documentoCondicaoPagamento.where({idDocumento:e.idDocumento}).toArray();(0,j.verificarErro)(!o,"Não há pagamentos"),j.gconsole.log("gerarSatD","documentoCondicaoPagamento",o);const t=[];for(const a of o){const o=await this.obterMeioPagamento(e,a.idFormaPagamento);let i=t.find((e=>e.CodigoMeioPagamento===o));i?i.Valor=(0,j.arredondar)(i.Valor+a.valor):(i={CodigoMeioPagamento:o,Valor:(0,j.arredondar)(a.valor)},t.push(i))}(0,j.verificarErro)(0===t.length,"A fatura não possui pagamentos");const a=await(0,se.X)().financeiroTitulo.where({idFatura:e.idDocumento}).toArray(),i=(0,j.arredondar)((0,j.somar)(t,"Valor")),r=(0,j.arredondar)((0,j.somar)(a,"valorTotal")+e.totalServicos),l=(0,j.arredondar)(e.totalProdutos+e.totalFrete+e.totalDevolucao-e.totalDesconto);if(j.gconsole.log("gerarSatD",`\n      totalPagamentos: ${i}\n      totalProdutos: ${e.totalProdutos}\n      totalServicos: ${e.totalServicos}\n      totalFrete: ${e.totalFrete}\n      totalDesconto: ${e.totalDesconto}\n      totalDevolucao: ${e.totalDevolucao}\n      totalPagamentosCarnesServicos: ${r}\n      totalPagamentosNota: ${l}`),(0,j.verificarErro)(Math.abs(i-r-l)>.02,"O valor dos pagamentos difere do somatório (produtos, serviços, frete, carnês, (-)devoluções e (-)descontos"),i>0&&i!==l){for(const e of t)e.Valor=(0,j.arredondar)(e.Valor*l/i);const e=(0,j.arredondar)((0,j.somar)(t,"Valor"));t[0].Valor+=l-e}e.totalDevolucao<0&&e.totalProdutos>0&&t.push({CodigoMeioPagamento:"99",Valor:-e.totalDevolucao});for(const e of t)e.Valor=e.Valor.toFixed(2);return t},async obterImpostoParametro(e,o){(0,j.verificarErro)(!o,"Configuração de imposto sem informação completa"),e.impostoParametro||(e.impostoParametro={});let t=e.impostoParametro[o];if(!t){const a=await(0,se.X)().impostoParametro.get(o);t=a?a.numero.trim():void 0,e.impostoParametro[o]=t}return(0,j.verificarErro)(!t,"Configuração de imposto inválida"),t},async obterItens(e,o){j.gconsole.log("gerarSatD","obterItens");const t=await(0,se.X)().documentoItem.where("idDocumento").anyOf(e.idsDocumentos).sortBy("dataHoraEmissao");(0,j.verificarErro)(!t,"Não foi possível carregar os produtos"),j.gconsole.log("gerarSatD","documentosItens",t);const a=[];let i=1;for(const r of t){let l=(0,j.arredondar)(r.total||0);if(0===(0,j.arredondar)(l)||!r.idItem)continue;if(["Serviço"].includes(r.tipoItem)){e.totalServicos+=l;continue}if(l<0){e.totalDevolucao+=l;continue}const s=r.quantidade||0;let n=r.valorItem||0,c=r.descontoItem||0;if((0,j.verificarErro)(l!==(0,j.arredondar)(s*(n-c)),`Valor total do item ${r.codigoItem||""} não corresponde ao valor unitário vezes a quantidade`),["TLOE","TLOD"].includes(r.tipoItem))continue;if(["LOE","LOD"].includes(r.tipoItem)){const e=t.filter((e=>["TLOE","TLOD"].includes(e.tipoItem)&&e.idDocumentoItemPai===r.id));j.gconsole.log("gerarSatD","tratamentos",e);for(const o of e)n+=o.valorItem||0,c+=o.descontoItem||0,l+=o.total||0}e.totalProdutos+=l,e.documentoItem=r,e.item=await(0,se.X)().item.get(r.idItem),(0,j.verificarErro)(!e.item,"Não foi possível carregar o cadastro do produto");const d=2===await Ie.db.configuracoes.leValorNumerico("imposto.versao")?await this.obterConfiguracaoImpostoV2(e,o):await this.obterConfiguracaoImposto(e);let m=String(e.item.codigoBarras||"").padStart(13,"0");m.startsWith("999")&&(m=""),d.Sequencia=String(i),d.CodigoProduto=(r.codigoItem||0).toString(),d.CodigoBarras=m,d.Produto=(0,j.removerCaracteresEspeciais)(r.descricaoItem||"").substr(0,120).trim(),d.NCM=e.item.ncm||"",d.UnidadeMedida=e.item.unidade||"UN",d.Quantidade=s.toFixed(4),d.ValorUnitario=n.toFixed(4),d.DescontoUnitario=c.toFixed(2),d.AcrescimoUnitario="0",d.Total=l.toFixed(2),i++,a.push(d)}return(0,j.verificarErro)(0===a.length,"A fatura não possui produtos"),j.gconsole.log("gerarSatD","itens",a),a},async obterMeioPagamento(e,o){j.gconsole.log("gerarSatD","obterMeioPagamento",o),(0,j.verificarErro)(!o,"Forma de pagamento inválida"),e.meiosPagamento||(e.meiosPagamento={});let t=e.meiosPagamento[o];if(t)return t;const a=await(0,se.X)().formaPagamento.get(o);(0,j.verificarErro)(!a||!a.descricao,"Não foi possível carregar a forma de pagamento");const i=a.descricao.toLowerCase();return t=i.includes("dinheiro")?"01":i.includes("débito")?"04":i.includes("crédito de clientes")?"99":i.includes("crédito")?"03":i.includes("cartão")&&1===Number(a.parcelamentoMaximo||0)?"04":i.includes("cartão")&&Number(a.parcelamentoMaximo||0)>1?"03":"99",e.meiosPagamento[o]=t,t},async obterValorAproxTributos(e,o){j.gconsole.log("gerarSatD","obterValorAproxTributos",o);const t=await(0,se.X)().nfeIbpt.where("codigo").equals(Number(e.item.ncm)).toArray();if(this.verificarAlerta(!t.length,`Não encontrado alíquotas para calculo do valor aproximado de tributos do NCM: ${e.item.ncm}. Atualize sua tabela IBPT.`,e))return"0.00";const a=t.filter((o=>o.idContato===e.empresa.id)),i=(a.length?a:t).reduce(((e,o)=>!e||e.vigenciaFim<o.vigenciaFim?o:e),null);this.verificarAlerta(i.vigenciaFim<(0,j.dataAtual)(),`Informações vencidas para para o calculo do valor aproximado de tributos do NCM: ${e.item.ncm}. Atualize sua tabela IBPT.`,e);let r=0;const l=Number(e.documentoItem.descontoFaturaRateado||0)+Number(e.documentoItem.descontoTotalRateado||0),s=Number(e.documentoItem.quantidade||0)*(Number(e.documentoItem.valorItem||0)-Number(e.documentoItem.descontoItem||0))-l;return["0","3","4","5","8"].includes(o)?r+=s*Number(i.nacionalFederal||0)/100:r+=s*Number(i.importadosFederal||0)/100,r+=s*Number(i.estadual||0)/100,r+=s*Number(i.municipal||0)/100,r.toFixed(2)},verificarAlerta:(e,o,t)=>(e&&(t.alertas||(t.alertas=[]),t.alertas.push(o),console.warn(o)),e)};var Te=t(81792),ke=t(4340);const De={components:{CpfCnpjNoCupom:ae,ItemTrocarCest:me},computed:{config:()=>Ie.db.configuracoes.valores},data:()=>({configImpressaoNFe:[],documentosSat:[],documentosFiscais:[],documentosNFe:[],modalItemTrocarCest:{visivel:!1,campos:{}},cpfCnpjNoCupom:{visivel:!1,incluirCpfCnpjNoCupom:!1,cpfCnpj:"",nomeCliente:""}}),methods:{abrirNFe(e){$utils.emitter.emit("abrirNFe",e)},async atualiza(){j.gconsole.log("DocumentosFiscais","atualiza()",this.idFatura,this.idVenda);const e=this.idFatura||this.idVenda;if(e){const o=await Ie.db.documentoFiscalEletronico.le({idDocumento:e});this.documentosFiscais=o.sort(((e,o)=>Number(o.nNF)-Number(e.nNF)));const t=await Ie.db.documentoSat.le({idDocumento:e}),a=t.filter((e=>e.cancelamento)).map((e=>e.chaveCupomCancelado)),i=t.filter((e=>!a.includes(e.chaveCupom)));this.documentosSat=i.sort(((e,o)=>o.numeroCupom-e.numeroCupom))}const o=await Ie.db.documento.le({id:e});await this.configuraImpressao(o.idEmpresa)},async cancelarSat(e){j.gconsole.log("DocumentosFiscais","cancelarSat()",e);try{await new Promise(((e,o)=>{$q.dialog({title:"Tem certeza?",message:"Ao continuar você irá cancelar este cupom",cancel:{label:"CANCELAR",push:!0,color:"tertiary",flat:!0},ok:{label:"CONFIRMAR",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{e()})).onCancel((()=>{o()}))}))}catch(e){return}let o="Erro no SAT";try{Te.Z.show({spinner:ke.Z,spinnerColor:"amber",message:"Cancelando o SAT"});const t=this.documentosSat.find((o=>o.id===e)),a={NumeroPDV:1,ChaveAcessoCFe:t.chaveCupom,CPF_CNPJ:"",Total:t.valorTotal};o="Ocorreu um erro ao cancelar o SAT";const i=await ue.Z.cancelarSat(JSON.stringify(a),t.idEmpresa);(0,j.verificarErro)("Erro"===i.status,i.mensagem),this.$q.notifyPositive(i.mensagem),o="Ocorreu um erro ao gravar os dados do cancelamento do SAT",await Me.guardarRetornoCancelamentoSat(this.idFatura,i.chaveCFe,i.xml)}catch(e){this.$q.notifyError(o,e)}finally{Te.Z.hide(),this.atualiza()}},async cancelarNFCe(e){j.gconsole.log("DocumentosFiscais","cancelarNFCe()",e);try{await new Promise(((e,o)=>{this.$q.dialog({title:"Tem certeza?",message:"Ao continuar você irá cancelar este cupom",cancel:{label:"CANCELAR",push:!0,color:"tertiary",flat:!0},ok:{label:"CONFIRMAR",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{e()})).onCancel((()=>{o()}))}))}catch(e){return}let o="Erro no NFCe";try{Te.Z.show({spinner:ke.Z,spinnerColor:"amber",message:"Selecionando Certificado e Cancelando NFCe"});const t=JSON.parse(this.documentosFiscais.find((o=>o.id===e)).json);if(j.gconsole.log("DocumentosFiscais","NFCe",t),t.infEvento=await Ee.gerarJsonCancelamento(t),(0,j.verificarErro)(!t.infEvento,o),t.erros.length)return void $g.modalAlerta.show({titulo:"Erro de validação",erros:t.erros});o="Ocorreu um erro ao cancelar o NFCe";const a=await ue.Z.cancelarNFCe(t);if("Erro"===a.status){j.gconsole.log("DocumentosFiscaisErro",a);const e=[...(a.mensagem||"").split("\n"),...(a.complemento||"").split("\n")];return void $g.modalAlerta.show({titulo:a.status,erros:e})}this.$q.notifyPositive(a.mensagem)}catch(e){this.$q.notifyError(o,e)}finally{Te.Z.hide(),this.atualiza()}},async configuraImpressao(e){const o=await Ie.db.configuracoes.porNome("impressao.nfe",e);this.configImpressaoNFe=o.length?o.map((e=>({texto:"Imprimir DANFE",...e}))):[{valor:"nfe-danfe",texto:"Imprimir DANFE"}]},async emitirCupom(e){j.gconsole.log("DocumentosFiscais","emitirCupom()");try{const o=await Ie.db.documento.le({id:e});(0,j.verificarErro)(!o||!o.status,"Erro ao emitir cupom. Falha na consulta da fatura."),(0,j.verificarErro)("Finalizada"!==o.status,"Cupom não emitido. A Fatura não foi finalizada.");const t=(await Ie.db.financeiroTitulo.le({documentoId:e}))[0];if(!t)return void j.gconsole.log("DocumentosFiscais","Cupom não emitido. Fatura sem pagamentos.");let a;if(t.idDocumentoCaixa){const e=await Ie.db.documento.le({id:t.idDocumentoCaixa});(0,j.verificarErro)(!e||!e.idCaixa,"Erro ao emitir cupom. Falha na consulta do documento Caixa.");const o=await Ie.db.caixa.le({id:e.idCaixa});(0,j.verificarErro)(!o||!o.tipo,"Erro ao emitir cupom. Falha na consulta do Caixa."),a=o.tipo}else{const e=await Ie.db.configuracoes.porNome("vendas.tipoPDV",o.idEmpresa);a=parseInt(((e||[]).find((e=>e.valor))||{}).valor)||4}if(a=Ie.db.caixa.tiposCaixa[a],(0,j.verificarErro)(!["SAT","NFCe"].includes(a),`Cupom não emitido. Caixa configurado para ${a}.`),"SAT"===a){const o=await Ie.db.documentoSat.le({idDocumento:e});(0,j.verificarErro)(!o,"Erro ao emitir cupom. Falha na consulta dos documentos Sat.");const t=o.filter((e=>e.cancelamento)).map((e=>e.chaveCupomCancelado)),a=o.filter((e=>!t.includes(e.chaveCupom))).filter((e=>!e.cancelamento));(0,j.verificarErro)(a.length>0,"Cupom Sat já emitido para a fatura")}else if("NFCe"===a){const o=await Ie.db.documentoFiscalEletronico.le({idDocumento:e,situacao:"Emitido"});(0,j.verificarErro)(!o,"Erro ao emitir cupom. Falha na consulta dos dados."),(0,j.verificarErro)(o.length>0,"Cupom já emitido para a fatura")}await(0,j.atualizarCfop)(e),this.cpfCnpjNoCupom={visivel:!0,incluirCpfCnpjNoCupom:!1,cpfCnpj:o.numeroDocumentoContato,nomeCliente:o.descricaoContato,idFatura:e,tipoCaixa:a,concluir:null},await new Promise(((e,o)=>{this.cpfCnpjNoCupom.concluir=e})),await this.$utils.dormir(500),this.modalItemTrocarCest.visivel&&await new Promise(((e,o)=>{this.concluirItemTrocarCest=e}))}catch(e){this.$q.notifyError("Erro ao emitir cupom",e)}},async emitirCupomConfirma(e){return{SAT:this.emitirCupomSatConfirma,NFCe:this.emitirCupomNFCeConfirma}[e.tipoCaixa](e)},async emitirCupomSatConfirma(e){j.gconsole.log("DocumentosFiscais","emitirCupomSatConfirma()");let o="Erro no SAT";try{Te.Z.show({spinner:ke.Z,spinnerColor:"amber",message:"Emitindo o SAT"}),e.incluirCpfCnpjNoCupom||(e.cpfCnpj="",e.nomeCliente=""),o="Ocorreu um erro ao gerar o SAT";const{objetoJson:t,dados:a}=await Me.gerarSat(e.idFatura,1,e.cpfCnpj,e.nomeCliente);(0,j.verificarErro)(!t,o);for(const e of a.alertas)this.$q.notify({message:e,textColor:"black",type:"warning"});o="Ocorreu um erro ao emitir o SAT";const i=await ue.Z.emitirSat(JSON.stringify(t),a.empresa.id);(0,j.verificarErro)("Erro"===i.status,i.mensagem),this.$q.notifyPositive(i.mensagem),o="Ocorreu um erro ao gravar os dados do SAT",await Me.guardarRetornoEmissaoSat(a,i.chaveCFe,i.xml)}catch(e){this.$q.notifyError(o,e)}finally{!this.modalItemTrocarCest.visivel&&this.concluirItemTrocarCest&&(this.concluirItemTrocarCest(),this.concluirItemTrocarCest=null),await this.atualiza(),Te.Z.hide()}},async emitirCupomNFCeConfirma(e){j.gconsole.log("DocumentosFiscais","emitirCupomNFCeConfirma()");let o,t,a="Erro ao emitir Cupom NFCe";try{if(Te.Z.show({spinner:ke.Z,spinnerColor:"amber",message:"Selecionando Certificado e Emitindo o Cupom NFCe"}),e.incluirCpfCnpjNoCupom||(e.cpfCnpj="",e.nomeCliente=""),a="Ocorreu um erro ao gerar o Cupom NFCe",t=await Ee.gerarJson(e.idFatura,e.cpfCnpj,e.nomeCliente),(0,j.verificarErro)(!t,a),t.erros.length)return void $g.modalAlerta.show({titulo:"Erro de validação",erros:t.erros});if(await this.verificarCestEmST(t))return;for(const e of t.alertas)this.$q.notify({message:e,textColor:"black",type:"warning"});if(a="Ocorreu um erro ao emitir o Cupom NFCe",o=await ue.Z.emitirNFCe(t,t.empresaPlat.hashCSC,t.empresaPlat.tokenCSC),"Erro"===o.status){j.gconsole.log("DocumentosFiscaisErro",o);const e=[...(o.mensagem||"").split("\n"),...(o.complemento||"").split("\n")];return void $g.modalAlerta.show({titulo:o.status,erros:e})}this.$q.notifyPositive(o.mensagem)}catch(e){return void this.$q.notifyError(a,e)}finally{Te.Z.hide(),!this.modalItemTrocarCest.visivel&&this.concluirItemTrocarCest&&(this.concluirItemTrocarCest(),this.concluirItemTrocarCest=null),this.atualiza()}try{const e=await ue.Z.imprimirNFCe(o.xml,t.outrosNFe.idContatoEmitente);"Erro"===e.status&&console.error("Erro ao imprimir NFCe\n",e.mensagem)}catch(e){console.error("Erro ao imprimir NFCe\n",e.toString())}},async reimprimirSat(e){j.gconsole.log("DocumentosFiscais","reimprimirSat()",e);try{Te.Z.show({spinner:ke.Z,spinnerColor:"amber",message:"Imprimindo SAT"});const o=this.documentosSat.find((o=>o.id===e));j.gconsole.log("DocumentosFiscais","sat.xml",o.xml);const t=o.cancelamento?await ue.Z.imprimirCancelamentoSat(o.xml,o.idEmpresa):await ue.Z.imprimirSat(o.xml,o.idEmpresa);(0,j.verificarErro)("Erro"===t.status,t.mensagem),this.$q.notifyPositive(t.mensagem)}catch(e){this.$q.notifyError("Ocorreu um erro ao imprimir o SAT",e)}finally{Te.Z.hide()}},async reimprimirNFCe(e){j.gconsole.log("DocumentosFiscais","reimprimirNFCe()",e);try{Te.Z.show({spinner:ke.Z,spinnerColor:"amber",message:"Imprimindo NFCe"});const o=await Ie.db.documentoFiscalEletronicoXml.le({idDocumentoFiscalEletronico:e,status:"Sucesso",situacao:"Emitido"});(0,j.verificarErro)(!o||!o.length||!o[0].xmlProt,"Ocorreu um erro ao carregar o xml da NFCe");const t=JSON.parse(o[0].json);j.gconsole.log("DocumentosFiscais","NFCeXml",o[0].xmlProt);const a=await ue.Z.imprimirNFCe(o[0].xmlProt,t.outrosNFe.idContatoEmitente);(0,j.verificarErro)("Erro"===a.status,a.mensagem),this.$q.notifyPositive(a.mensagem)}catch(e){this.$q.notifyError("Ocorreu um erro ao imprimir o NFCe",e)}finally{Te.Z.hide()}},async verificarCestEmST(e){if(2!==await Ie.db.configuracoes.leValorNumerico("imposto.versao"))return!1;const o=[];for(const t of e.infNFe.det){const e=$lodash.get(t,"prod.noXml_id"),a=$lodash.get(t,"prod.opcional.CEST"),i=$lodash.get(t,"imposto.noXml_CSOSN")||$lodash.get(t,"imposto.noXml_CST");["10","20","60","70","201","202","500"].includes(i)&&!a&&o.push(e)}return 0!==o.length&&(this.modalItemTrocarCest={visivel:!0,campos:{ids:o}},!0)},verNoSefaz(e){j.gconsole.log("DocumentosFiscais","verNoSefaz()",e),window.open(e,"_blank")}},props:{idFatura:{required:!1,type:String},idVenda:{required:!1,type:String}},watch:{idFatura(){this.atualiza()},"cpfCnpjNoCupom.visivel"(e){!e&&this.cpfCnpjNoCupom.concluir&&(this.cpfCnpjNoCupom.concluir(),this.cpfCnpjNoCupom.concluir=null)},"modalItemTrocarCest.visivel"(e){!e&&this.concluirItemTrocarCest&&(this.concluirItemTrocarCest(),this.concluirItemTrocarCest=null)}},mounted(){$utils.emitter.on("atualizarDocumentosFiscais",this.atualiza),this.atualiza()},beforeUnmount(){$utils.emitter.off("atualizarDocumentosFiscais",this.atualiza)}};var qe=t(31106),Fe=t(68900),Pe=t(25901),Ae=t(77953),Be=t(4957),Le=t(54707),Oe=t(60880);const ze=(0,U.Z)(De,[["render",function(e,o,t,A,B,L){const O=(0,a.resolveComponent)("q-icon"),z=(0,a.resolveComponent)("q-tooltip"),j=(0,a.resolveComponent)("q-btn"),$=(0,a.resolveComponent)("q-item"),U=(0,a.resolveComponent)("q-list"),Z=(0,a.resolveComponent)("q-item-section"),Q=(0,a.resolveComponent)("q-item-label"),R=(0,a.resolveComponent)("q-menu"),G=(0,a.resolveComponent)("CpfCnpjNoCupom"),H=(0,a.resolveComponent)("ItemTrocarCest");return(0,a.openBlock)(),(0,a.createElementBlock)("div",i,[B.documentosSat.length||B.documentosFiscais.length||B.documentosNFe.length?((0,a.openBlock)(),(0,a.createElementBlock)("p",r,[(0,a.createVNode)(O,{name:"account_balance",class:"q-mr-md",size:"24px",style:{color:"#737373"}}),l])):(0,a.createCommentVNode)("",!0),B.documentosSat.length?((0,a.openBlock)(),(0,a.createBlock)(U,{key:1,highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(B.documentosSat,(o=>((0,a.openBlock)(),(0,a.createBlock)($,{class:"row u-separador q-my-none q-pa-xs",key:o.id},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",s,[(0,a.createElementVNode)("div",n,[c,(0,a.createElementVNode)("div",d,(0,a.toDisplayString)(o.numeroCupom),1),(0,a.createElementVNode)("div",m,(0,a.toDisplayString)(o.cancelamento?"Cancelado":"Emitido"),1),(0,a.createElementVNode)("div",u,(0,a.toDisplayString)(e.$filters.numero(o.valorTotal,2)),1),(0,a.createElementVNode)("div",p,(0,a.toDisplayString)(e.$filters.dataHora(o.dataHoraEmissao)),1)])]),(0,a.createElementVNode)("div",h,[(0,a.createVNode)(j,{color:"primary",dense:"",flat:"",icon:"print",round:"",onClick:e=>L.reimprimirSat(o.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(z,null,{default:(0,a.withCtx)((()=>[C])),_:1})])),_:2},1032,["onClick"]),o.cancelamento?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(j,{key:0,color:"primary",dense:"",flat:"",icon:"cancel",round:"",onClick:e=>L.cancelarSat(o.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(z,null,{default:(0,a.withCtx)((()=>[v])),_:1})])),_:2},1032,["onClick"]))])])),_:2},1024)))),128))])),_:1})):(0,a.createCommentVNode)("",!0),B.documentosFiscais.length?((0,a.openBlock)(),(0,a.createBlock)(U,{key:2,highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(B.documentosFiscais,(o=>((0,a.openBlock)(),(0,a.createBlock)($,{class:"row q-px-xs",key:o.id},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",f,[(0,a.createElementVNode)("div",N,[(0,a.createElementVNode)("div",V,(0,a.toDisplayString)(o.tipo),1),(0,a.createElementVNode)("div",g,(0,a.toDisplayString)(o.nNF),1),(0,a.createElementVNode)("div",x,(0,a.toDisplayString)(o.situacao)+" "+(0,a.toDisplayString)("2"===o.tpAmb?"em Homologação":"")+" "+(0,a.toDisplayString)(o.operacao?" - "+o.operacao:""),1),(0,a.createElementVNode)("div",b,(0,a.toDisplayString)(e.$filters.numero(o.vNF,2)),1),(0,a.createElementVNode)("div",w,(0,a.toDisplayString)(e.$filters.dataHora(o.dataHoraEmissao)),1)])]),(0,a.createElementVNode)("div",_,["NFCe"===o.tipo?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},["Emitido"===o.situacao?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(j,{color:"primary",dense:"",flat:"",icon:"print",round:"",onClick:e=>L.reimprimirNFCe(o.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(z,null,{default:(0,a.withCtx)((()=>[y])),_:1})])),_:2},1032,["onClick"]),(0,a.createVNode)(j,{color:"primary",dense:"",flat:"",icon:"cancel",round:"",onClick:e=>L.cancelarNFCe(o.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(z,null,{default:(0,a.withCtx)((()=>[I])),_:1})])),_:2},1032,["onClick"])],64)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(j,{color:"primary",dense:"",flat:"",icon:"open_in_browser",round:"",onClick:e=>L.verNoSefaz(o.qrCode)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(z,null,{default:(0,a.withCtx)((()=>[E])),_:1})])),_:2},1032,["onClick"])],64)):"NFe"===o.tipo?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},["Em digitação"!==o.situacao?((0,a.openBlock)(),(0,a.createBlock)(j,{key:0,rounded:"",dense:"",flat:"",icon:"print",color:"primary",class:"no-shadow q-ma-xs",size:"md",style:{float:"right"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(R,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(U,{link:"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(B.configImpressaoNFe,(t=>((0,a.openBlock)(),(0,a.createBlock)($,{clickable:"",key:t.valor,onClick:a=>e.$imprimir(t.valor,o.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Z,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(O,{name:"mdi-printer"})])),_:1}),(0,a.createVNode)(Z,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Q,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.texto),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(j,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:e=>L.abrirNFe(o.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(z,null,{default:(0,a.withCtx)((()=>[S])),_:1})])),_:2},1032,["onClick"])],64)):(0,a.createCommentVNode)("",!0)])])),_:2},1024)))),128))])),_:1})):(0,a.createCommentVNode)("",!0),B.documentosNFe.length?((0,a.openBlock)(),(0,a.createBlock)(U,{key:3,highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(B.documentosNFe,((o,t)=>((0,a.openBlock)(),(0,a.createBlock)($,{class:"row u-separador q-my-none q-pa-xs",key:t},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",M,[(0,a.createElementVNode)("div",T,[k,(0,a.createElementVNode)("div",D,(0,a.toDisplayString)(o.noNota),1),(0,a.createElementVNode)("div",q,(0,a.toDisplayString)(o.nfeCanceladaEvento?"Cancelado":"Emitido"),1),(0,a.createElementVNode)("div",F,(0,a.toDisplayString)(e.$filters.numero(o.valTotNota,2)),1),(0,a.createElementVNode)("div",P,(0,a.toDisplayString)(e.$filters.dataHora(o.horaSaidaEntrada)),1)])])])),_:2},1024)))),128))])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(G,{modelValue:B.cpfCnpjNoCupom.visivel,"onUpdate:modelValue":o[0]||(o[0]=e=>B.cpfCnpjNoCupom.visivel=e),dados:B.cpfCnpjNoCupom,onConfirmar:L.emitirCupomConfirma},null,8,["modelValue","dados","onConfirmar"]),(0,a.createVNode)(H,{modal:B.modalItemTrocarCest,onConfirmar:o[1]||(o[1]=e=>L.emitirCupomConfirma(B.cpfCnpjNoCupom))},null,8,["modal"])])}]]);te()(De,"components",{QItemLabel:qe.Z,QIcon:Fe.Z,QList:Pe.Z,QItem:Ae.Z,QBtn:H.Z,QTooltip:Be.Z,QMenu:Le.Z,QItemSection:Oe.Z,QSpinnerGears:ke.Z})},72821:(e,o,t)=>{"use strict";t.d(o,{Z:()=>W});var a=t(34182);const i=e=>((0,a.pushScopeId)("data-v-698f8d87"),e=e(),(0,a.popScopeId)(),e),r={class:"Faturamento"},l=(0,a.createTextVNode)("Faturar"),s={key:1,class:"col-3 col-md"},n={class:"col-12 col-md-auto"},c=(0,a.createTextVNode)("Sinal"),d={key:0,class:"text-caption q-mt-md text-center text-tertiary uppercase"},m=i((()=>(0,a.createElementVNode)("strong",{class:"q-mr-md"},"Valor restante",-1))),u={key:1,class:"text-caption q-mt-md text-center text-tertiary uppercase"},p=i((()=>(0,a.createElementVNode)("strong",{class:"q-mr-md"},"Troco",-1))),h={key:4,class:"text-caption q-mt-md text-center text-tertiary uppercase"},C=i((()=>(0,a.createElementVNode)("strong",{class:"q-mr-md"},"Crédito de devolução",-1))),v={key:5,class:"text-caption q-mt-md text-center text-tertiary uppercase"},f=i((()=>(0,a.createElementVNode)("strong",{class:"q-mr-md"},"Limite de crédito",-1))),N={class:"layout-padding"},V={class:"col-12"},g={class:"col-12"},x=(0,a.createTextVNode)(" Resultado não encontrado "),b={class:"col-12"},w={class:"col-12"},_={class:"col-12"},y={class:"col-12"},I={class:"col-12"},E={key:2,class:"col-12"},S={class:"col-12"},M={class:"col-12"},T={class:"q-mt-lg text-right"};var k=t(72407),D=t(72699),q=t(98396),F=t(54726);const P={components:{Badge:k.Z,CaixaAbrir:D.Z},computed:{desabilitadoDataVencimento(){if(99===this.formaPagamento.tipo&&!this.formaPagamento.contaCredito)return!1;const e=!!this.formaPagamento&&this.formaPagamento.tipo,{dataVencimento:o}=this.perfisFormasPagamento;return!e||!~o.indexOf(e)},perfisFormasPagamento:()=>({parcelas:[2,3,4,5,97],dataVencimento:[2,5,97]}),temParcelamento(){if(99===this.formaPagamento.tipo&&!this.formaPagamento.contaCredito)return!0;const e=!!this.formaPagamento&&this.formaPagamento.tipo,{parcelas:o}=this.perfisFormasPagamento;return!!e&&~o.indexOf(e)}},data:()=>({habilitaFaturamento:!1,faturamento:"",descricaoBanco:"",campos:{agencia:"",autorizacao:"",nomeTitular:"",idBanco:"",idDocumento:"",idDocumentoCondicaoPagamento:"",conta:"",dataVencimento:"",documento:"",idFormaPagamento:"",numeroCheque:"",observacao:"",valor:0},modalPagamento:!1,observacaoFaturamento:"",idFormaPagamentoObservacao:"",parcelas:1,formaPagamento:{},formasPagamento:[],idDocumentoCaixa:"",caixas:[],temCaixaEmpresa:!1,valorRestante:0,checaLimite:!1,creditoDevolucao:0,creditoDisponivel:0,somenteLeitura:{observacaoFaturamento:!1,caixas:!1,formasPagamento:!1,condicaoPagamento:{}},opcoesBanco:[],verificarValor:!1,verificarErroParcelamento:!1,verificarDataVencimento:!1,verificarDadosCartao:!1,visivel:!1,troco:0,rules:{valor:[]}}),methods:{ajustarValorCarnes(){let e;e=this.condicaoPagamento.filter((e=>e.idFormaPagamento===this.campos.idFormaPagamento&&!this.condicaoPagamentoResumo.find((o=>o.id===e.id&&o.liquidado)))),e=$lodash.orderBy(e,["dataVencimento"],["asc"]);const o=$utils.arredondar(e.reduce(((e,o)=>(o.id===this.campos.id?e+=this.campos.edicao.valor:e+=o.valor,e)),0));let t=!1,a=$utils.arredondar(e.reduce(((e,o)=>(o.id===this.campos.id&&(t=!0),t||(e+=o.valor),e)),this.campos.valor));t=!1,e=e.map((e=>{if(t){let t=this.campos.valor;return $utils.arredondar(a+t)>o&&(t=$utils.arredondar(o-a)),a+=t,{...e,valor:t}}return e.id===this.campos.id&&(t=!0),e}));let i=e[e.length-1].valor;i=$utils.arredondar(i+(o-a)),e[e.length-1].valor=i,this.condicaoPagamento=this.condicaoPagamento.map((o=>{const t=e.find((e=>e.id===o.id));return t&&(o.valor=t.valor),o}))},ajustarDatasCarnes(){let e=new Date(this.campos.dataVencimento).getMonth(),o=!1;this.condicaoPagamento=$lodash.orderBy(this.condicaoPagamento,["dataVencimento"],["asc"]).map((t=>{if(o&&t.idFormaPagamento===this.campos.idFormaPagamento&&!this.condicaoPagamentoResumo.find((e=>e.id===t.id&&e.liquidado))){let o=new Date(this.campos.dataVencimento).setMonth(++e);return{...t,dataVencimento:F.ZP.formatDate(o)}}return t.id===this.campos.id&&(o=!0),t}))},async adicionarPagamento(){if(this.limparErro(),this.idDocumentoCaixa){const e=this.caixas.filter((e=>e.valor===this.idDocumentoCaixa));if(!e.length||!e[0].dataHoraEmissao)return void this.$q.notify("Não é possível verificar a data de abertura do caixa.");let o=(new Date).setHours(0,0,0,0),t=new Date(e[0].dataHoraEmissao).setHours(0,0,0,0);if("Reaberto"!==e[0].status&&t<o)return void this.$q.notify("Não é possível incluir forma de pagamento de caixa com data diferente de hoje.")}const e=this.campos.edicao&&5===(this.formasPagamento.find((e=>e.id===this.campos.edicao.idFormaPagamento))||{}).tipo,o=this.campos.edicao&&99===(this.formasPagamento.find((e=>e.id===this.campos.edicao.idFormaPagamento))||{}).tipo&&!(this.formasPagamento.find((e=>e.id===this.campos.edicao.idFormaPagamento))||{}).contaCredito;if(this.campos.edicao&&(e||o)){this.campos.dataVencimento!==this.campos.edicao.dataVencimento&&this.ajustarDatasCarnes(),this.campos.valor!==this.campos.edicao.valor&&this.ajustarValorCarnes();const e=this.condicaoPagamento.findIndex((e=>e.id===this.campos.id));return-1!==e&&(this.condicaoPagamento[e].dataVencimento=this.campos.dataVencimento,this.condicaoPagamento[e].valor=this.campos.valor,this.condicaoPagamento[e].observacao=this.campos.observacao),await this.resumeCondicaoPagamento(),await this.atualizaValorRestante(),void await this.redefinirCampos()}this.campos.edicao&&(this.campos.edicao.autorizacao?this.condicaoPagamento=this.condicaoPagamento.filter((e=>!(e.autorizacao===this.campos.edicao.autorizacao&&e.idFormaPagamento===this.campos.edicao.idFormaPagamento&&e.idDocumentoCaixa===this.campos.edicao.idDocumentoCaixa))):this.condicaoPagamento=this.condicaoPagamento.filter((e=>e.id!==this.campos.edicao.id))),delete this.campos.edicao;const t=e=>24*e*60*60*1e3,a=$utils.clonar(this.campos),i=$utils.arredondar(this.condicaoPagamento.reduce(((e,o)=>e+o.valor),0)),r=$utils.arredondar(this.documento.totalDocumento-i);this.documento.totalDocumento<0&&(a.valor=$utils.arredondar(-1*a.valor)),this.troco=0,a.valor>r&&(1===this.formaPagamento.tipo&&(this.troco=$utils.arredondar(a.valor-r),this.$q.notifyPositive("Troco: "+this.$filters.numero(this.troco,2))),a.valor=$utils.arredondar(r));let l=$utils.clonar(this.condicaoPagamento);const{diasPrimeira:s,diasDemais:n}=this.formaPagamento;if(!a.dataVencimento){let e=new Date;const o=this.caixas.reduce(((e,o)=>(e[o.id]||(e[o.id]=o),e)),{});o[this.idDocumentoCaixa]&&(e=new Date(o[this.idDocumentoCaixa].dataHoraEmissao)),a.dataVencimento=e.getTime()+(s?t(s):0)}const c=(a.valor/this.parcelas*100|0)/100,d=$utils.arredondar(c+(a.valor-c*this.parcelas));for(let e=1;e<=this.parcelas;e++){const o=$utils.clonar(a);o.valor=1===e?d:c;let i=new Date(o.dataVencimento);5!==this.formaPagamento.tipo||30!==n&&31!==n?o.dataVencimento=F.ZP.formatDate(i.getTime()+(n?t(n)*(e-1):0)):o.dataVencimento=F.ZP.formatDate(i.setMonth(i.getMonth()+e-1)),o.id=$utils.uuid(),o.idDocumento=this.documento.id,o.idDocumentoCondicaoPagamento=o.id,o.idDocumentoCaixa=this.idDocumentoCaixa,l.push(o)}l=$lodash.orderBy(l,["idFormaPagamento","dataVencimento"],["","asc"]),this.condicaoPagamento=l,await this.resumeCondicaoPagamento(),await this.atualizaValorRestante(),await this.redefinirCampos()},aoSelecionarFormaPagamento(){this.formaPagamento=this.formasPagamento.filter((e=>e.id===this.campos.idFormaPagamento))[0],this.campos.dataVencimento="",this.parcelas=1},async aoSelecionarFormaPagamentoObservacao(){const e=(this.formasPagamento.find((e=>e.id===this.idFormaPagamentoObservacao))||{}).descricao;e&&(this.observacaoFaturamento?this.observacaoFaturamento=e+" | "+this.observacaoFaturamento:this.observacaoFaturamento=e),this.idFormaPagamentoObservacao=""},async alterarPagamento(e){if(this.campos=$utils.clonar(e),this.campos.idBanco){const e=await $erp()._banco.get(this.campos.idBanco);e&&(this.descricaoBanco=`${e.descricao||""} - ${e.numero||""}`)}this.documento.totalDocumento<0&&(this.campos.valor=$utils.arredondar(-1*this.campos.valor)),this.campos.edicao=$utils.clonar(e),this.parcelas=this.campos.parcelas,this.formaPagamento=this.formasPagamento.filter((o=>o.id===e.idFormaPagamento))[0],this.modalPagamento=!0},async atualizar(){const e=await $db.contato.le({id:this.documento.idContato});this.creditoDevolucao=$utils.arredondar(e.creditoDevolucao);let o=await $db.formaPagamento.le();if(o=o.map((e=>{let o=!!e.ativo;return(this.documento.totalDocumento<0&&(99!==e.tipo||!e.contaCredito)||this.documento.totalDocumento>=0&&this.saldoCreditoCliente<=0&&99===e.tipo&&e.contaCredito||this.documento.totalDocumento<e.valorMinimoVenda)&&(o=!1),e.idContatoEmpresa&&e.idContatoEmpresa!==this.documento.idEmpresa&&(o=!1),{rotulo:e.descricao,valor:e.id,visivel:o,...e}})),this.formasPagamento=$lodash.orderBy(o,"rotulo","asc"),this.checaLimite=!!this.formasPagamento.find((e=>e.utilizaLimite)),this.checaLimite&&(this.creditoDisponivel=$utils.arredondar(e.creditoDisponivel)),this.temCaixaEmpresa=!!(await $erp().caixa.where({idEmpresa:this.documento.idEmpresa}).toArray()).filter((e=>e.ativo)).length,this.idDocumentoCaixa="",this.temCaixaEmpresa){let e=$db.usuario.logado.codigoContato;try{await $db.permissao.objeto("Diretiva_Caixa_LivreUtilizacao")&&(e="")}catch(e){this.$q.notify("Não foi possível recuperar informações de permissão.")}let o=(await $db.caixa.le({aberto:!0})).filter((e=>e.idEmpresa===this.documento.idEmpresa));if("Venda"!==this.documento.tipo&&(o=o.filter((o=>!e||o.codigoContato===e))),o.length){for(const e of o)e.rotulo=((await $db.caixa.le({id:e.idCaixa})||{}).descricao||"")+" - Aberto em "+this.$filters.dataHora(e.dataHoraEmissao)+("Reaberto"===e.status?" - Reaberto":""),e.valor=e.id;this.caixas=$lodash.orderBy(o,"dataHoraEmissao","desc")}this.idDocumentoCaixa=(this.caixas[0]||{}).valor||""}await this.resumeCondicaoPagamento(),await this.atualizaValorRestante(),this.preencherSomenteLeitura(),await this.redefinirCampos(),this.habilitarFaturamento(),this.visivel=this.temCaixaEmpresa&&this.idDocumentoCaixa||!this.temCaixaEmpresa},async habilitarFaturamento(){if("Fatura"===this.documento.tipo&&(this.habilitaFaturamento=!0),this.documento.idEmpresa&&"Venda"===this.documento.tipo){let e=await $erp().configuracoes.where({nome:"vendas.gerafatura"}).toArray(),o=e.find((e=>e.idEmpresa===this.documento.idEmpresa));o||(o=e.find((e=>!e.idEmpresa)));const t=o?parseInt(o.valor):0;this.habilitaFaturamento=[0,2].includes(t)}},configRules(){this.rules={valor:[()=>{if(!this.verificarValor)return!0;if(this.campos.valor<=0)return"Valor não permitido";if(99===this.formaPagamento.tipo&&this.formaPagamento.contaCredito&&this.documento.totalDocumento>0&&$utils.arredondar(this.condicaoPagamentoResumo.reduce(((e,o)=>(this.campos.id!==o.id&&o.idFormaPagamento===this.formaPagamento.id&&(e+=o.valor),e)),this.campos.valor))>this.creditoDevolucao)return"Crédito de devolução disponível: "+this.$filters.numero(this.creditoDevolucao,2);if(this.formaPagamento.utilizaLimite&&this.documento.totalDocumento>0&&$utils.arredondar(this.$lodash.get(this.campos,"valor",0))>$utils.arredondar(this.$lodash.get(this.campos,"edicao.valor",0))){let e=0;for(const o of this.condicaoPagamentoResumo)(this.formasPagamento.find((e=>e.id===o.idFormaPagamento))||{}).utilizaLimite&&(e+=o.valor);if($utils.arredondar(e+this.campos.valor)>this.creditoDisponivel)return"Limite restante de crédito disponível: "+this.$filters.numero(this.creditoDisponivel-e,2)}return!0}],parcelamento:[()=>{if(!this.verificarErroParcelamento)return!0;if(this.temParcelamento){if(!this.parcelas)return"Preenchimento obrigatório";const e=1,o=this.formaPagamento.parcelamentoMaximo||1;if(this.parcelas<e)return"Mínimo permitido: "+e;if(this.parcelas>o)return"Máximo permitido: "+o}return!0}],dataVencimento:[()=>{if(!this.verificarDataVencimento)return!0;let e=new Date((new Date).toDateString()),o="Data vencimento não pode ser menor que a data de hoje.";const t=this.caixas.reduce(((e,o)=>(e[o.id]||(e[o.id]=o),e)),{});return t[this.idDocumentoCaixa]&&(e=new Date(new Date(t[this.idDocumentoCaixa].dataHoraEmissao).toDateString()),o="Data vencimento não pode ser menor que a data do caixa."),!(this.campos.dataVencimento&&new Date(new Date(this.campos.dataVencimento).toDateString())<e)||o}],autorizacaoCartao:[()=>!this.verificarDadosCartao||!!this.campos.autorizacao||"Campo Obrigatório"],documentoCartao:[()=>!this.verificarDadosCartao||!!this.campos.documento||"Campo Obrigatório"]}},async temErro(){let e=!1;return this.verificarErroParcelamento=!0,this.verificarDataVencimento=!0,this.verificarValor=!0,await this.$nextTick(),this.$refs.formAdicionarPagamento.getValidationComponents().forEach((o=>{o.validate()||e||(e=!0)})),this.$refs.formEditarPagamento&&this.$refs.formEditarPagamento.getValidationComponents().forEach((o=>{o.validate()||e||(e=!0)})),e},limparErro(){this.verificarErroParcelamento=!1,this.verificarDataVencimento=!1,this.verificarValor=!1,this.verificarDadosCartao=!1},async aoAdicionarPagamento(){this.descricaoBanco="",this.campos.agencia="",this.campos.autorizacao="",this.campos.documento="",this.campos.nomeTitular=$db.contato.selecionado.nome,this.campos.idBanco="",this.campos.conta="",this.campos.numeroCheque="",this.campos.observacao="",await this.temErro()||(~[2,3,4].indexOf(this.formasPagamento.filter((e=>e.id===this.campos.idFormaPagamento))[0].tipo)?this.modalPagamento=!0:this.adicionarPagamento())},aoCancelarModalPagamento(e){e&&e.preventDefault(),this.campos.idDocumentoCondicaoPagamento&&this.redefinirCampos(),this.modalPagamento=!1},async aoSalvarModalPagamento(){if([3,4].includes(this.formaPagamento.tipo)){let e=await $db.configuracoes.porNome("pagamento.cartao.dadosobrigatorios",this.documento.idEmpresa);if(this.verificarDadosCartao=!(!e.length||!parseInt(e[0].valor)),this.erroPreenchimentoAutorizacaoCartao||this.erroPreenchimentoDocumentoCartao)return}await this.temErro()||(this.adicionarPagamento(),this.modalPagamento=!1,this.verificarDataVencimento=!1,this.verificarValor=!1,this.verificarDadosCartao=!1)},async atualizaValorRestante(){const e=this.condicaoPagamento.reduce(((e,{valor:o})=>e+o),0);this.valorRestante=Math.abs($utils.arredondar(this.documento.totalDocumento-e))},selecionarBanco(e){this.descricaoBanco=e.label,this.campos.idBanco=e.value},filtrarBancos(e,o){setTimeout((()=>{o((async()=>{if(await this.leOpcoesBanco(),""!==e){const o=$utils.removerAcentos(e.toLowerCase()).split(" ");this.opcoesBanco=this.opcoesBanco.filter((e=>{const t=$utils.removerAcentos(e.label.toLowerCase());for(const e of o)if(!(t.indexOf(e)>-1))return!1;return!0}))}}))}),500)},async leOpcoesBanco(){this.opcoesBanco.length||(this.opcoesBanco=(await $db.banco.le()).map((e=>({label:`${e.descricao} - ${e.numero}`,value:e.id}))))},preencherSomenteLeitura(){const e={observacaoFaturamento:!1,caixas:!1,formasPagamento:!1,condicaoPagamento:{}},o=this.caixas.reduce(((e,o)=>("Reaberto"!==o.status||e[o.id]||(e[o.id]=o),e)),{});for(const t of this.condicaoPagamentoResumo)t.idDocumentoCaixa&&t.idDocumentoCaixa!==this.idDocumentoCaixa&&(e.condicaoPagamento[t.id]=!0),o[t.idDocumentoCaixa]&&(e.observacaoFaturamento=!1,e.caixas=!1,e.formasPagamento=!1);this.somenteLeitura=e},redefinirCampos(){this.parcelas=1,this.descricaoBanco="",this.campos={agencia:"",autorizacao:"",nomeTitular:"",idBanco:"",idDocumentoCondicaoPagamento:"",conta:"",dataVencimento:"",documento:"",idFormaPagamento:"",numeroCheque:"",observacao:"",valor:this.valorRestante}},async removerPagamento(e){const o=this.formasPagamento.find((o=>o.id===e.idFormaPagamento)),t=5===o.tipo,a=99===o.tipo&&!o.contaCredito;if((t||a)&&this.condicaoPagamento.filter((e=>e.idFormaPagamento===o.id)).length>1&&!this.condicaoPagamentoResumo.find((o=>o.idFormaPagamento===e.idFormaPagamento&&o.liquidado)))try{return await new Promise(((e,o)=>{this.$q.dialog({message:t?"Deseja remover todos os carnês?":"Deseja remover todos os boletos?",title:"Tem certeza?",cancel:{label:"NÃO",push:!0,color:"tertiary",flat:!0},ok:{label:"SIM",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{e()})).onCancel((()=>{o()}))})),this.condicaoPagamento=this.condicaoPagamento.filter((e=>e.idFormaPagamento!==o.id)),await this.resumeCondicaoPagamento(),await this.atualizaValorRestante(),void await this.redefinirCampos()}catch(e){}try{await new Promise(((e,o)=>{$q.dialog({message:"Ao continuar você irá remover este item",title:"Tem certeza?",cancel:{label:"CANCELAR",push:!0,color:"tertiary",flat:!0},ok:{label:"CONTINUAR",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{e()})).onCancel((()=>{o()}))})),this.troco=0,e.autorizacao?this.condicaoPagamento=this.condicaoPagamento.filter((o=>!(o.autorizacao===e.autorizacao&&o.idFormaPagamento===e.idFormaPagamento&&o.idDocumentoCaixa===e.idDocumentoCaixa))):((t||a)&&(this.campos.id=e.id,this.campos.idFormaPagamento=e.idFormaPagamento,this.campos.valor=0),this.condicaoPagamento=this.condicaoPagamento.filter((o=>o.id!==e.id))),await this.resumeCondicaoPagamento(),await this.atualizaValorRestante(),await this.redefinirCampos()}catch(e){}},calcularParcelas(){let e="",o=1,t=1,a={};const i=$lodash.orderBy(this.condicaoPagamento,["idFormaPagamento","autorizacao","dataVencimento"]);for(const r of i){const l=r.idFormaPagamento+(String(r.autorizacao)||"");e!==l?(e=l,o=1,t=i.reduce(((o,t)=>o+(t.idFormaPagamento+(String(t.autorizacao)||"")===e?1:0)),0),a[r.id]=String(o++)+"/"+String(t)):a[r.id]=String(o++)+"/"+String(t)}return a},async validar(){try{const e=await $db.contato.le({id:this.documento.idContato});$utils.verificarExcecao(!e.id,"Não foi possível encontrar o contato do documento.");const o=$utils.arredondar(this.condicaoPagamento.reduce(((e,o)=>e+o.valor),0)),t=$utils.arredondar(this.documento.totalDocumento);$utils.verificarExcecao(!$utils.isNumber(o),"Valor inválido na condição de pagamento."),$utils.verificarExcecao(!$utils.isNumber(t),"Valor inválido no total do documento.");const a=this.condicaoPagamentoOriginal.map((e=>e.id)),i=this.condicaoPagamento.filter((e=>!a.includes(e.id)));let r;for(const e of i){let o;if(e.idDocumentoCaixa?(o=await $db.documento.le({id:e.idDocumentoCaixa}),r=new Date(o.dataHoraEmissao).setHours(0,0,0,0)):(o={},r=(new Date).setHours(0,0,0,0)),new Date(new Date(e.dataVencimento).setHours(0,0,0,0))<r){const e="Existe condição de pagamento com data anterior à "+(o.dataHoraEmissao?"data de abertura do caixa":"data de hoje");$utils.verificarErro(!0,e)}const t=o.id&&this.documento.idEmpresa!==o.idEmpresa;$utils.verificarErro(t,"Condição de pagamento incorreta: caixa e documento pertencem a empresas diferentes.")}let l=t&&!o;$utils.verificarErro(l,"Não há condição de pagamento."),l=t>=0&&o>t,$utils.verificarErro(l,"O total das condições de pagamento é maior que o total do documento.");const s=await $db.caixa.leNew({idEmpresa:this.documento.idEmpresa});if($utils.verificarErro(s.filter((e=>e.ativo)).length&&!this.idDocumentoCaixa,"Selecione um caixa para continuar."),this.checaLimite){const o=$utils.arredondar(e.creditoDisponivel);let t;for(const e of this.condicaoPagamentoResumo)this.formasPagamento.find((o=>o.id===e.idFormaPagamento))?.utilizaLimite&&(t||(t=0),t+=e.valor||0);$utils.verificarErro(t&&$utils.isNumber(o)&&o<$utils.arredondar(t),"Limite de crédito insuficiente.")}const n=this.formasPagamento.filter((e=>99===e.tipo&&e.contaCredito)).map((e=>e.id)),c=this.condicaoPagamento.find((e=>n.includes(e.idFormaPagamento)));if(t>0&&c){const o=$utils.arredondar(e.creditoDevolucao),t=$utils.arredondar(this.condicaoPagamento.filter((e=>n.includes(e.idFormaPagamento))).reduce(((e,o)=>e+o.valor),0));$utils.verificarErro($utils.isNumber(o)&&o<t,"Crédito de devolução insuficiente.")}if(o&&o<t){let e=await $db.configuracoes.le({nome:"vendas.aceitasinal"}),o=e.find((e=>e.idEmpresa===this.documento.idEmpresa));o||(o=e.find((e=>!e.idEmpresa)));const t=!!o&&!!parseInt(o.valor);$utils.verificarErro(!t,"Valor pago menor que o total do documento.");const a=this.$q.loading.isActive;this.$q.loading.hide(),await new Promise(((e,o)=>{this.$q.dialog({message:"O total das condições de pagamento é menor que o total do documento. Deseja finalizar como sinal?",noRefocus:!0,preventClose:!0,title:"Confirma?",cancel:{label:"não",push:!0,color:"tertiary",flat:!0},ok:{label:"sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk((()=>{e()})).onCancel((()=>{o()}))})),a&&this.$q.loading.show({message:"Processando..."})}}catch(e){throw this.$q.loading.hide(),e}}},mixins:[q.Z],props:{documento:{default:()=>({}),required:!0,type:Object}},watch:{"documento.totalDocumento"(){this.documento.id&&this.atualizar()},documento(){this.documento.id&&(this.idDocumento!==this.documento.id&&(this.observacaoFaturamento=(this.documento||{}).observacaoFaturamento||"",this.idDocumento=this.documento.id),this.atualizar())},idDocumentoCaixa(){this.preencherSomenteLeitura()}},created(){this.configRules()},mounted(){this.visivel=!1}};var A=t(74260),B=t(47266),L=t(68900),O=t(48761),z=t(76210),j=t(46229),$=t(25901),U=t(77953),Z=t(60880),Q=t(83831),R=t(39341),G=t(83054),H=t(40320),J=t(98586),Y=t(7518),X=t.n(Y);const W=(0,A.Z)(P,[["render",function(e,o,t,i,k,D){const q=(0,a.resolveComponent)("q-icon"),F=(0,a.resolveComponent)("q-toolbar-title"),P=(0,a.resolveComponent)("q-toolbar"),A=(0,a.resolveComponent)("campo"),B=(0,a.resolveComponent)("row"),L=(0,a.resolveComponent)("q-btn"),O=(0,a.resolveComponent)("q-form"),z=(0,a.resolveComponent)("q-item-section"),j=(0,a.resolveComponent)("badge"),$=(0,a.resolveComponent)("q-item"),U=(0,a.resolveComponent)("q-separator"),Z=(0,a.resolveComponent)("q-list"),Q=(0,a.resolveComponent)("q-select"),R=(0,a.resolveComponent)("q-card"),G=(0,a.resolveComponent)("q-dialog"),H=(0,a.resolveComponent)("caixa-abrir"),J=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",r,[(0,a.createVNode)(P,{class:"text-tertiary q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,{name:"credit_card",size:"24px"}),(0,a.createVNode)(F,null,{default:(0,a.withCtx)((()=>[l])),_:1})])),_:1}),k.visivel?((0,a.openBlock)(),(0,a.createBlock)(B,{key:0,class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[k.habilitaFaturamento?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(A,{key:0,modelValue:k.idFormaPagamentoObservacao,"onUpdate:modelValue":[o[0]||(o[0]=e=>k.idFormaPagamentoObservacao=e),D.aoSelecionarFormaPagamentoObservacao],class:"col-12 col-md-4",opcoes:k.formasPagamento.filter((e=>e.visivel)),rotulo:"Forma de pagamento",tipo:"seletor"},null,8,["modelValue","opcoes","onUpdate:modelValue"])),(0,a.createVNode)(A,{modelValue:k.observacaoFaturamento,"onUpdate:modelValue":o[1]||(o[1]=e=>k.observacaoFaturamento=e),class:(0,a.normalizeClass)(k.habilitaFaturamento?"col-12":"col-md-8"),tipo:"textoArea",rotulo:"Observação faturamento","somente-leitura":k.somenteLeitura.observacaoFaturamento},null,8,["modelValue","class","somente-leitura"]),k.temCaixaEmpresa&&!k.somenteLeitura.caixas&&k.habilitaFaturamento?((0,a.openBlock)(),(0,a.createBlock)(A,{key:1,modelValue:k.idDocumentoCaixa,"onUpdate:modelValue":o[2]||(o[2]=e=>k.idDocumentoCaixa=e),class:"col-12",opcoes:k.caixas,tipo:"seletor"},null,8,["modelValue","opcoes"])):(0,a.createCommentVNode)("",!0)])),_:1})):((0,a.openBlock)(),(0,a.createElementBlock)("div",s,[(0,a.createVNode)(L,{class:"botaoAcesso full-width",color:"primary",outline:"",icon:"lock_open",onClick:o[3]||(o[3]=o=>e.$refs.modalCaixaAbrir.mostrar()),label:"Abrir caixa",size:"lg"})])),(0,a.createVNode)(O,{ref:"formAdicionarPagamento"},{default:(0,a.withCtx)((()=>[k.visivel&&!k.somenteLeitura.formasPagamento&&k.habilitaFaturamento?((0,a.openBlock)(),(0,a.createBlock)(B,{key:0,class:"q-col-gutter-md items-center q-my-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{modelValue:k.campos.idFormaPagamento,"onUpdate:modelValue":[o[4]||(o[4]=e=>k.campos.idFormaPagamento=e),D.aoSelecionarFormaPagamento],class:"col-12 col-md-4",opcoes:k.formasPagamento.filter((e=>e.visivel)),rotulo:"Forma de pagamento",tipo:"seletor"},null,8,["modelValue","opcoes","onUpdate:modelValue"]),(0,a.createVNode)(A,{modelValue:k.campos.valor,"onUpdate:modelValue":o[5]||(o[5]=e=>k.campos.valor=e),modelModifiers:{number:!0},class:"col-12 col-md",rotulo:"Valor",tipo:"decimal",decimals:"2",rules:k.rules.valor},null,8,["modelValue","rules"]),D.temParcelamento?((0,a.openBlock)(),(0,a.createBlock)(A,{key:0,modelValue:k.parcelas,"onUpdate:modelValue":o[6]||(o[6]=e=>k.parcelas=e),modelModifiers:{number:!0},class:"col-12 col-md","rotulo-fixo":"Parcelas",tipo:"decimal",zerosDireita:"0",rules:k.rules.parcelamento},null,8,["modelValue","rules"])):(0,a.createCommentVNode)("",!0),D.desabilitadoDataVencimento?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(A,{key:1,modelValue:k.campos.dataVencimento,"onUpdate:modelValue":o[7]||(o[7]=e=>k.campos.dataVencimento=e),class:"col-12 col-md",rotulo:"Data",tipo:"data",rules:k.rules.dataVencimento},null,8,["modelValue","rules"])),(0,a.createElementVNode)("div",n,[(0,a.createVNode)(L,{color:"positive",icon:"add",label:"Forma de pagamento",outline:"",size:"sm",disabled:!k.campos.idFormaPagamento,onClick:D.aoAdicionarPagamento},null,8,["disabled","onClick"])])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1},512),e.condicaoPagamentoResumo.length?((0,a.openBlock)(),(0,a.createBlock)(Z,{key:2,highlight:"",class:"q-pa-none"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.condicaoPagamentoResumo,(o=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:o.id},[(0,a.createVNode)($,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(z,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.formaPagamento),1)])),_:2},1024),(0,a.createVNode)(z,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(o.valor,2))+(0,a.toDisplayString)(o.parcelas>1?` (em ${o.parcelas}x)`:"")+" ",1),o.sinal?((0,a.openBlock)(),(0,a.createBlock)(j,{key:0,cor:"positive",escuro:""},{default:(0,a.withCtx)((()=>[c])),_:1})):(0,a.createCommentVNode)("",!0)])),_:2},1024),(0,a.createVNode)(z,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(o.dataVencimento)),1)])),_:2},1024),o.liquidado||k.somenteLeitura.condicaoPagamento[o.id]?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(z,{key:0,side:"",top:"",class:"col-3 col-lg-2 text-right"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(L,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:e=>D.alterarPagamento(o)},null,8,["onClick"]),(0,a.createVNode)(L,{color:"tertiary",dense:"",flat:"",icon:"delete",round:"",onClick:e=>D.removerPagamento(o)},null,8,["onClick"])])),_:2},1024)])),_:2},1024))])),_:2},1024),(0,a.createVNode)(U)],64)))),128))])),_:1})):(0,a.createCommentVNode)("",!0),k.habilitaFaturamento?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:3},[k.valorRestante>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",d,[m,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.numero(k.valorRestante,2)),1)])):(0,a.createCommentVNode)("",!0),k.troco>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",u,[p,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.numero(k.troco,2)),1)])):(0,a.createCommentVNode)("",!0)],64)):(0,a.createCommentVNode)("",!0),k.creditoDevolucao?((0,a.openBlock)(),(0,a.createElementBlock)("div",h,[C,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.numero(k.creditoDevolucao,2)),1)])):(0,a.createCommentVNode)("",!0),k.checaLimite?((0,a.openBlock)(),(0,a.createElementBlock)("div",v,[f,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.numero(k.creditoDisponivel,2)),1)])):(0,a.createCommentVNode)("",!0),k.formaPagamento?((0,a.openBlock)(),(0,a.createBlock)(G,{key:6,modelValue:k.modalPagamento,"onUpdate:modelValue":o[17]||(o[17]=e=>k.modalPagamento=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(R,{class:"q-dialog-plugin"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(P,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(F,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(k.formaPagamento.rotulo),1)])),_:1}),(0,a.withDirectives)((0,a.createVNode)(L,{dense:"",flat:"",icon:"close",round:""},null,512),[[J]])])),_:1}),(0,a.createElementVNode)("div",N,[(0,a.createVNode)(O,{ref:"formEditarPagamento",class:"q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{class:"items-center q-col-gutter-md"},{default:(0,a.withCtx)((()=>[2===k.formaPagamento.tipo?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createElementVNode)("div",V,[(0,a.createVNode)(A,{modelValue:k.campos.nomeTitular,"onUpdate:modelValue":o[8]||(o[8]=e=>k.campos.nomeTitular=e),rotulo:"Titular",maxlength:"255"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",g,[(0,a.createVNode)(Q,{"model-value":k.descricaoBanco,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",dense:"",label:"Banco",options:k.opcoesBanco,onFilter:D.filtrarBancos,"onUpdate:modelValue":D.selecionarBanco},{"no-option":(0,a.withCtx)((()=>[(0,a.createVNode)($,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(z,{class:"text-grey"},{default:(0,a.withCtx)((()=>[x])),_:1})])),_:1})])),_:1},8,["model-value","options","onFilter","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",b,[(0,a.createVNode)(A,{modelValue:k.campos.agencia,"onUpdate:modelValue":o[9]||(o[9]=e=>k.campos.agencia=e),rotulo:"Agência"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",w,[(0,a.createVNode)(A,{modelValue:k.campos.conta,"onUpdate:modelValue":o[10]||(o[10]=e=>k.campos.conta=e),rotulo:"Conta"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",_,[(0,a.createVNode)(A,{modelValue:k.campos.numeroCheque,"onUpdate:modelValue":o[11]||(o[11]=e=>k.campos.numeroCheque=e),modelModifiers:{number:!0},tipo:"decimal",decimals:"0",zerosDireita:"0",rotulo:"Número do cheque"},null,8,["modelValue"])])],64)):(0,a.createCommentVNode)("",!0),~[3,4].indexOf(k.formaPagamento.tipo)?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createElementVNode)("div",y,[(0,a.createVNode)(A,{modelValue:k.campos.autorizacao,"onUpdate:modelValue":o[12]||(o[12]=e=>k.campos.autorizacao=e),modelModifiers:{trim:!0},rotulo:"Autorização Cartão",rules:k.rules.autorizacaoCartao},null,8,["modelValue","rules"])]),(0,a.createElementVNode)("div",I,[(0,a.createVNode)(A,{modelValue:k.campos.documento,"onUpdate:modelValue":o[13]||(o[13]=e=>k.campos.documento=e),modelModifiers:{trim:!0},rotulo:"Número Documento",rules:k.rules.documentoCartao},null,8,["modelValue","rules"])])],64)):(0,a.createCommentVNode)("",!0),~[2,5,97].indexOf(k.formaPagamento.tipo)||99===k.formaPagamento.tipo&&!k.formaPagamento.contaCredito?((0,a.openBlock)(),(0,a.createElementBlock)("div",E,[(0,a.createVNode)(A,{modelValue:k.campos.dataVencimento,"onUpdate:modelValue":o[14]||(o[14]=e=>k.campos.dataVencimento=e),rotulo:"Data",tipo:"data",rules:k.rules.dataVencimento},null,8,["modelValue","rules"])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",S,[(0,a.createVNode)(A,{modelValue:k.campos.valor,"onUpdate:modelValue":o[15]||(o[15]=e=>k.campos.valor=e),rotulo:"Valor",tipo:"decimal",decimals:"2",rules:k.rules.valor},null,8,["modelValue","rules"])]),(0,a.createElementVNode)("div",M,[(0,a.createVNode)(A,{modelValue:k.campos.observacao,"onUpdate:modelValue":o[16]||(o[16]=e=>k.campos.observacao=e),rotulo:"Observação",tipo:"textoArea"},null,8,["modelValue"])])])),_:1}),(0,a.createElementVNode)("div",T,[(0,a.createVNode)(L,{color:"tertiary",flat:"",label:"Cancelar",onClick:D.aoCancelarModalPagamento},null,8,["onClick"]),(0,a.createVNode)(L,{color:"primary",class:"q-ml-sm no-shadow",label:"Salvar",unelevated:"",onClick:D.aoSalvarModalPagamento},null,8,["onClick"])])])),_:1},512)])])),_:1})])),_:1},8,["modelValue"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(H,{ref:"modalCaixaAbrir",onAberto:D.atualizar},null,8,["onAberto"])])}],["__scopeId","data-v-698f8d87"]]);X()(P,"components",{QToolbar:B.Z,QIcon:L.Z,QToolbarTitle:O.Z,QBtn:z.Z,QForm:j.Z,QList:$.Z,QItem:U.Z,QItemSection:Z.Z,QSeparator:Q.Z,QDialog:R.Z,QCard:G.Z,QSelect:H.Z}),X()(P,"directives",{ClosePopup:J.Z})},97231:(e,o,t)=>{"use strict";t.d(o,{Z:()=>l});var a=t(34182);const i=["xlink:href"],r={computed:{classes(){return["Icone",!!this.cor&&`text-${this.cor}`]},estilos(){return{height:`${this.tamanho}px`,width:`${this.tamanho}px`}},iconeComposto(){return"statics/icones.svg#"+this.nome}},props:{cor:{type:[Boolean,String],default:!1},nome:{type:String,required:!0},tamanho:{type:[Number,String],default:24}}},l=(0,t(74260).Z)(r,[["render",function(e,o,t,r,l,s){return(0,a.openBlock)(),(0,a.createElementBlock)("svg",{class:(0,a.normalizeClass)(s.classes),style:(0,a.normalizeStyle)(s.estilos)},[(0,a.createElementVNode)("use",{"xlink:href":s.iconeComposto},null,8,i)],6)}]])},27228:(e,o,t)=>{"use strict";t.d(o,{Z:()=>k});var a=t(34182);const i=e=>((0,a.pushScopeId)("data-v-6364dc03"),e=e(),(0,a.popScopeId)(),e),r={class:"col-auto q-pl-sm"},l={class:"col"},s=(0,a.createTextVNode)("Referência"),n=(0,a.createTextVNode)("Marca"),c={class:"col"},d=i((()=>(0,a.createElementVNode)("strong",null,"Última venda",-1))),m=i((()=>(0,a.createElementVNode)("br",null,null,-1))),u={key:0,style:{"text-decoration":"line-through"}},p={class:"col q-pl-sm"},h=i((()=>(0,a.createElementVNode)("strong",null,"Estoque",-1))),C=(0,a.createTextVNode)(),v=i((()=>(0,a.createElementVNode)("br",null,null,-1))),f=(0,a.createTextVNode)(" (Offline) "),N={style:{"font-weight":"bold"},strong:""},V=(0,a.createTextVNode)(" , Total "),g={style:{"font-weight":"bold"},strong:""},x=(0,a.createTextVNode)(" | "),b={components:{Avatar:t(15358).Z},computed:{badgeCor(){return this.item.ativo?((this.estoque||{}).saldo||0)<0?"negative":((this.estoque||{}).saldo||0)<=(this.item.quantidadeMinimaEstoque||0)?"orange":"positive":"faded"},eLista(){return"lista"===this.modo},hintBottomMargin(){return this.hintValorVenda||this.item.embalagem?"q-mb-md":""},hintValorVenda(){return this.valores.quantidadeMaiorQue?`>${this.valores.quantidadeMaiorQue-1}un = ${$filters.numeroZerosDireita(this.valores.valorVendaMaiorQue,4,2)}`:""}},data(){return{quantidade:this.quantidadeSelecionada||0,ultimaVenda:{},valorVenda:0}},emits:["adicionar","concluir"],methods:{abrirItem(){document.querySelectorAll(".input :focus").length||(this.quantidade=this.quantidade||1,this.adicionar(),this.$emit("concluir"))},adicionar(){this.valores.quantidadeMaiorQue&&this.quantidade>=this.valores.quantidadeMaiorQue&&(this.valorVenda=this.valores.valorVendaMaiorQue),this.$emit("adicionar",{item:{...this.item,novoValorVenda:this.valorVenda},quantidade:this.quantidade})},async obterHistoricoVendas(){const e=$db.contato.selecionado||{};if(this.ultimaVenda={},!this.idEmpresa||!e.id)return;let o=await $erp().documentoItem.where({idItem:this.item.id}).toArray();o=o.filter((e=>e.idDocumento&&-1===e.operacaoFator&&e.dataHoraFinalizado)).map((e=>({idDocumento:e.idDocumento,valorItem:e.valorItem||0,valorReal:e.valorReal||0,valorRealTotal:e.valorRealTotal||0,quantidade:e.quantidade||0,dataHoraFinalizado:e.dataHoraFinalizado}))),o.sort(((e,o)=>new Date(e.dataHoraFinalizado)>new Date(o.dataHoraFinalizado)?-1:1));for(const t of o){const o=await $erp().documento.get(t.idDocumento);if(o&&o.idEmpresa===this.idEmpresa&&o.idContato===e.id)return void(this.ultimaVenda=t)}}},props:{estoque:{type:Object},item:{type:Object,required:!0},idEmpresa:String,modo:{type:String,default:"card"},habilitarQuantidade:{type:Boolean,default:!1},quantidadeSelecionada:{type:Number},valores:{type:Object,default:()=>({}),required:!0}},created(){this.obterHistoricoVendas(),this.valorVenda=void 0!==this.item.novoValorVenda?this.item.novoValorVenda:this.item.valorVenda}};var w=t(74260),_=t(77953),y=t(60880),I=t(31106),E=t(76106),S=t(4957),M=t(7518),T=t.n(M);const k=(0,w.Z)(b,[["render",function(e,o,t,i,b,w){const _=(0,a.resolveComponent)("avatar"),y=(0,a.resolveComponent)("q-item-label"),I=(0,a.resolveComponent)("q-badge"),E=(0,a.resolveComponent)("q-tooltip"),S=(0,a.resolveComponent)("row"),M=(0,a.resolveComponent)("q-item-section"),T=(0,a.resolveComponent)("campo"),k=(0,a.resolveComponent)("q-item");return(0,a.openBlock)(),(0,a.createBlock)(k,{clickable:"",style:{cursor:"pointer"},class:"listresponsive itemcard q-px-xs q-py-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(M,{onClick:o[0]||(o[0]=e=>w.abrirItem())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,{class:"items-center q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",r,[(0,a.createVNode)(_,{imagem:t.item.imagem,redondo:w.eLista,rotulo:t.item.descricao,tamanho:"40",class:"q-mr-sm"},null,8,["imagem","redondo","rotulo"])]),(0,a.createElementVNode)("div",l,[(0,a.createVNode)(y,{class:"text-tertiary text-weight-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.item.descricaoConcatenada||t.item.descricao),1)])),_:1}),(0,a.createVNode)(y,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{color:w.badgeCor,dark:"",class:"q-mr-sm"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)((t.item.codigoItem||0).toString().padStart(6,"0")),1)])),_:1},8,["color"]),t.item.referencia?((0,a.openBlock)(),(0,a.createBlock)(I,{key:0,class:"q-mr-sm",color:"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.item.referencia)+" ",1),(0,a.createVNode)(E,null,{default:(0,a.withCtx)((()=>[s])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),t.item.marca?((0,a.openBlock)(),(0,a.createBlock)(I,{key:1,color:"white",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.item.marca)+" ",1),(0,a.createVNode)(E,null,{default:(0,a.withCtx)((()=>[n])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])])),_:1})])),_:1}),(0,a.createVNode)(M,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,{class:"q-px-none text-tertiary items-center"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",c,[b.ultimaVenda.valorItem&&b.ultimaVenda.dataHoraFinalizado?((0,a.openBlock)(),(0,a.createBlock)(y,{key:0,caption:""},{default:(0,a.withCtx)((()=>[d,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.data(b.ultimaVenda.dataHoraFinalizado))+":",1),m,b.ultimaVenda.valorReal!==b.ultimaVenda.valorItem?((0,a.openBlock)(),(0,a.createElementBlock)("span",u,(0,a.toDisplayString)(e.$filters.numero(b.ultimaVenda.valorItem,2)),1)):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.numero(b.ultimaVenda.valorReal,2))+" x"+(0,a.toDisplayString)(b.ultimaVenda.quantidade)+" = "+(0,a.toDisplayString)(e.$filters.numero(b.ultimaVenda.valorRealTotal,2)),1)])),_:1})):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",p,[t.estoque?((0,a.openBlock)(),(0,a.createBlock)(y,{key:0,caption:""},{default:(0,a.withCtx)((()=>[t.estoque&&t.estoque.tiposSaldos.length?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[h,C,v,t.estoque.offline?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[f],64)):(0,a.createCommentVNode)("",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(t.estoque.tiposSaldos,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:e.tipoEstoque},[(0,a.createTextVNode)((0,a.toDisplayString)(e.tipoEstoque)+" ",1),(0,a.createElementVNode)("span",N,(0,a.toDisplayString)(e.saldo),1),"saldoTotal"in e?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[V,(0,a.createElementVNode)("span",g,(0,a.toDisplayString)(e.saldoTotal),1)],64)):(0,a.createCommentVNode)("",!0),t.estoque.tiposSaldos.indexOf(e)!==t.estoque.tiposSaldos.length-1?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[x],64)):(0,a.createCommentVNode)("",!0)])))),128))],64)):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0)])])),_:1})])),_:1}),(0,a.createVNode)(M,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,{class:"items-center q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(`col-6 ${w.hintBottomMargin}`)},[(0,a.createVNode)(T,{class:"input q-ma-none",dense:"",align:"right",opcoes:{minimumValue:0},tipo:"decimal",decimals:"4",outlined:"",zerosDireita:"2",modelValue:b.valorVenda,"onUpdate:modelValue":o[1]||(o[1]=e=>b.valorVenda=e),onBlur:w.adicionar,rotulo:"Valor de Venda",aviso:"",avisoRotulo:w.hintValorVenda},null,8,["modelValue","onBlur","avisoRotulo"])],2),t.habilitarQuantidade?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:(0,a.normalizeClass)(`col-6 q-pl-sm ${w.hintBottomMargin}`)},[(0,a.createVNode)(T,{class:"q-ma-none q-pa-none",dense:"",outlined:"",min:"0",tipo:"quantidade",decimals:"4",modelValue:b.quantidade,"onUpdate:modelValue":[o[2]||(o[2]=e=>b.quantidade=e),w.adicionar],modelModifiers:{number:!0},aviso:"",avisoRotulo:t.item.embalagem},null,8,["modelValue","onUpdate:modelValue","avisoRotulo"])],2)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-6364dc03"]]);T()(b,"components",{QItem:_.Z,QItemSection:y.Z,QItemLabel:I.Z,QBadge:E.Z,QTooltip:S.Z})},86215:(e,o,t)=>{"use strict";t.d(o,{Z:()=>w});var a=t(34182);const i=(0,a.createTextVNode)("Menu Principal"),r=(0,a.createTextVNode)("Menu Desenvolvimento"),l={key:1},s={key:2};var n=t(19119);const c={name:"MenuGeradorItem",computed:{sincronismoStatus:()=>n.t.status},data:()=>({}),methods:{repete_evento(e){this.$emit("menuClick",e)},menu_click(e){"Plataforma15"===this.$lodash.get(e,"rota.name")&&(e=JSON.parse(JSON.stringify(e.rota.params)),this.$emit("menuClick",e))}},props:{itens:{default:()=>[],type:Array}},emits:["menuClick"]};var d=t(74260),m=t(85249),u=t(77953),p=t(60880),h=t(68900),C=t(7518),v=t.n(C);const f=(0,d.Z)(c,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("menu-gerador-item",!0),n=(0,a.resolveComponent)("q-expansion-item"),c=(0,a.resolveComponent)("q-icon"),d=(0,a.resolveComponent)("q-item-section"),m=(0,a.resolveComponent)("q-item");return(0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(t.itens.filter((e=>e.mostrar)),(o=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:o.id},[e.$lodash.get(o,"filhos.length")?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0,dense:"",icon:o.icone||"label",label:o.descricao,to:o.rota,separator:"",onClick:(0,a.withModifiers)((e=>l.menu_click(o)),["stop"]),class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{itens:o.filhos,onMenuClick:l.repete_evento},null,8,["itens","onMenuClick"])])),_:2},1032,["icon","label","to","onClick"])):((0,a.openBlock)(),(0,a.createBlock)(m,{key:1,onClick:(0,a.withModifiers)((e=>l.menu_click(o)),["stop"]),dense:"",clickable:"",to:o.rota,class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:o.icone||"label"},null,8,["name"])])),_:2},1024),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.descricao),1)])),_:2},1024)])),_:2},1032,["onClick","to"]))],64)))),128)}]]);v()(c,"components",{QExpansionItem:m.Z,QItem:u.Z,QItemSection:p.Z,QIcon:h.Z});var N=t(11463);const V={components:{MenuGeradorItem:f},data:()=>({carregando:!1,menuPrincipal:[],menuDesenvolvimento:[]}),methods:{menu_click(e){this.$emit("menuClick",e)},marcar(e){e.forEach((e=>{(e.filhos||[]).length&&this.marcar(e.filhos),-1===(e.descricao||"").toLowerCase().search(this.termoBusca)?e.mostrar=!!(e.filhos||[]).find((e=>e.mostrar)):e.mostrar=!0}))},gerarIds(e){e.forEach((e=>{(e.filhos||[]).length&&this.gerarIds(e.filhos),"Plataforma15"===this.$lodash.get(e,"rota.name")&&this.$lodash.set(e,"rota.params.id",this.$utils.uuid())}))}},props:{termoBusca:{type:String}},emits:["menuClick"],watch:{termoBusca(){this.marcar(this.menuPrincipal),this.marcar(this.menuDesenvolvimento)}},async created(){try{this.carregando=!0;let e=await N.db.permissao.menu();this.marcar(e),this.gerarIds(e),this.menuPrincipal=e.filter((e=>!this.$q.platform.is.mobile||!/\/plataforma15\//.test((e.rota||{}).path)||void 0));const o=!!N.db.usuario.logado.desenvolvedor&&N.db.usuario.logado.desenvolvedor();let t=o?await N.db.permissao.menu(!0):[];this.marcar(t),this.gerarIds(t),this.menuDesenvolvimento=o?[...t,{descricao:"Desenvolvedor",icone:"build",id:$utils.uuid(),mostrar:!0,rota:{name:"Desenvolvedor"}}]:[]}catch(e){this.$q.notifyError("Erro ao obter permissões",e)}finally{this.carregando=!1}}};var g=t(25901),x=t(31106),b=t(83831);const w=(0,d.Z)(V,[["render",function(e,o,t,n,c,d){const m=(0,a.resolveComponent)("q-item-label"),u=(0,a.resolveComponent)("menu-gerador-item"),p=(0,a.resolveComponent)("q-list"),h=(0,a.resolveComponent)("q-separator");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[c.menuPrincipal.length?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{header:""},{default:(0,a.withCtx)((()=>[i])),_:1}),(0,a.createVNode)(u,{itens:c.menuPrincipal,onMenuClick:d.menu_click},null,8,["itens","onMenuClick"])])),_:1}),(0,a.createVNode)(h),c.menuDesenvolvimento.length?((0,a.openBlock)(),(0,a.createBlock)(p,{key:0,class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{header:""},{default:(0,a.withCtx)((()=>[r])),_:1}),(0,a.createVNode)(u,{itens:c.menuDesenvolvimento,onMenuClick:d.menu_click},null,8,["itens","onMenuClick"])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(h)],64)):c.carregando?((0,a.openBlock)(),(0,a.createElementBlock)("div",l," Carregando... ")):((0,a.openBlock)(),(0,a.createElementBlock)("div",s," Ops! Parece que você não possui permissões de acesso. "))])}]]);v()(V,"components",{QList:g.Z,QItemLabel:x.Z,QSeparator:b.Z})},79815:(e,o,t)=>{"use strict";t.d(o,{Z:()=>M});var a=t(34182);const i=(0,a.createTextVNode)(" Histórico do Status "),r={class:"layout-padding",container:""},l={key:0},s=(0,a.createTextVNode)("Para: "),n={class:"text-subtitle2"},c=(0,a.createTextVNode)("De: "),d={class:"text-subtitle2"},m={class:"text-body2"},u={components:{Avatar:t(15358).Z},computed:{dadosEncontrados(){return(this.dados.status||[]).length}},data:()=>({dados:{status:[],contatos:{}},visivel:!1}),methods:{async exibirHistorico(e){let o;try{o=setTimeout((()=>{$q.loading.show({message:"Carregando informações...",boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary"})}),500);const t=await $db.documentoStatus.leHistoricoOnline(e);this.dados=t}catch(e){this.$q.notify({type:"negative",message:e.message})}finally{clearTimeout(o),$q.loading.hide()}},async mostrar(e){const{idDocumento:o}=e;await this.exibirHistorico(o),(this.dados.status||[]).length?this.visivel=!0:this.$q.notify({type:"warning",message:"Não há histórico disponível."})},onHide(){this.dados={status:[],contatos:{}}}}};var p=t(74260),h=t(39341),C=t(63626),v=t(54553),f=t(47266),N=t(48761),V=t(76210),g=t(7112),x=t(25901),b=t(83831),w=t(77953),_=t(60880),y=t(31106),I=t(98586),E=t(7518),S=t.n(E);const M=(0,p.Z)(u,[["render",function(e,o,t,u,p,h){const C=(0,a.resolveComponent)("q-toolbar-title"),v=(0,a.resolveComponent)("q-btn"),f=(0,a.resolveComponent)("q-toolbar"),N=(0,a.resolveComponent)("q-header"),V=(0,a.resolveComponent)("q-separator"),g=(0,a.resolveComponent)("avatar"),x=(0,a.resolveComponent)("q-item-section"),b=(0,a.resolveComponent)("q-item-label"),w=(0,a.resolveComponent)("q-item"),_=(0,a.resolveComponent)("q-list"),y=(0,a.resolveComponent)("q-page-container"),I=(0,a.resolveComponent)("q-layout"),E=(0,a.resolveComponent)("q-dialog"),S=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(E,{modelValue:p.visivel,"onUpdate:modelValue":o[0]||(o[0]=e=>p.visivel=e),onHide:h.onHide},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"bg-white",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[i])),_:1}),(0,a.withDirectives)((0,a.createVNode)(v,{dense:"",flat:"",icon:"close",round:""},null,512),[[S]])])),_:1})])),_:1}),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",r,[h.dadosEncontrados?((0,a.openBlock)(),(0,a.createElementBlock)("div",l,[(0,a.createVNode)(_,{"no-border":"",dense:"",class:"q-my-md"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(p.dados.status,((o,t)=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:o.codigoDocumentoStatus},[t?((0,a.openBlock)(),(0,a.createBlock)(V,{key:0})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(w,{class:"item-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{imagem:(p.dados.contatos[o.codigoUsuarioAlterou]||{}).imagem,tamanho:"40",rotulo:(p.dados.contatos[o.codigoUsuarioAlterou]||{}).nome},null,8,["imagem","rotulo"])])),_:2},1024),(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{caption:""},{default:(0,a.withCtx)((()=>[s,(0,a.createElementVNode)("span",n,(0,a.toDisplayString)(o.statusFinalizado),1)])),_:2},1024),(0,a.createVNode)(b,{caption:""},{default:(0,a.withCtx)((()=>[c,(0,a.createElementVNode)("span",d,(0,a.toDisplayString)(o.statusOriginal),1)])),_:2},1024),p.dados.contatos[o.codigoUsuarioAlterou]?((0,a.openBlock)(),(0,a.createBlock)(b,{key:0,caption:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("strong",m,(0,a.toDisplayString)((p.dados.contatos[o.codigoUsuarioAlterou]||{}).nome),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0),o.observacao?((0,a.openBlock)(),(0,a.createBlock)(b,{key:1,caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.observacao),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0)])),_:2},1024),(0,a.createVNode)(x,{side:"",center:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(o.dataHoraEmissao)),1)])),_:2},1024),(0,a.createVNode)(b,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.hora(o.dataHoraEmissao)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)],64)))),128))])),_:1})])):(0,a.createCommentVNode)("",!0)])])),_:1})])),_:1})])),_:1},8,["modelValue","onHide"])}]]);S()(u,"components",{QDialog:h.Z,QLayout:C.Z,QHeader:v.Z,QToolbar:f.Z,QToolbarTitle:N.Z,QBtn:V.Z,QPageContainer:g.Z,QList:x.Z,QSeparator:b.Z,QItem:w.Z,QItemSection:_.Z,QItemLabel:y.Z}),S()(u,"directives",{ClosePopup:I.Z})},60357:(e,o,t)=>{"use strict";t.d(o,{Z:()=>x});var a=t(34182);const i={class:"layout-padding",container:""},r={key:0},l={key:1,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"},s={components:{ContatoCard:t(61341).Z},computed:{contatosEncontrados(){return this.contatos.length}},data:()=>({carregando:!1,contatos:[],contato:{},filtro:{},placeholder:"Buscar",termo:"",visivel:!1}),emits:["selecionar"],methods:{async filtrar(){let e;try{if(this.carregando=!0,e=setTimeout((()=>{$q.loading.show({message:"Carregando informações...",boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary"})}),500),this.filtro.idContato){let e=[];if(this.filtro.compradores&&(e=await $db.contato.leCompradores(this.filtro.idContato)),this.filtro.convenios&&(e=await $db.contato.leConvenios(this.filtro.idContato)),this.termo){let o=new Set(this.termo.toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" "));o=Array.from(o),o.sort(((e,o)=>e<o?1:-1)),e=e.filter((e=>{let t=(e.nome||"")+" "+(e.apelido||"");t=t.toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"");for(const e of o)if(-1===t.indexOf(e))return!1;return!0}))}return void(this.contatos=e)}const o=await $db.contatoBusca.filtrar(this.termo,this.filtro);o.sort(((e,o)=>{const t=$utils.removerAcentos(e.nome||""),a=$utils.removerAcentos(o.nome||"");return t.toLowerCase()>a.toLowerCase()?1:-1})),this.contatos=o}finally{this.carregando=!1,clearTimeout(e),$q.loading.hide()}},limpar(){this.carregando=!1,this.contatos=[],this.contato={},this.filtro={},this.placeholder="Buscar",this.termo=""},mostrar(){this.filtrar(),this.visivel=!0},onHide(){this.$emit("selecionar",JSON.parse(JSON.stringify(this.contato))),this.limpar()},selecionar(e={}){this.contato=e,this.visivel=!1}},updated(){this.$nextTick((function(){this.$refs.search&&this.$refs.search.focus()}))}};var n=t(74260),c=t(39341),d=t(63626),m=t(54553),u=t(47266),p=t(76210),h=t(48761),C=t(86952),v=t(7112),f=t(25901),N=t(98586),V=t(7518),g=t.n(V);const x=(0,n.Z)(s,[["render",function(e,o,t,s,n,c){const d=(0,a.resolveComponent)("q-btn"),m=(0,a.resolveComponent)("q-input"),u=(0,a.resolveComponent)("q-toolbar-title"),p=(0,a.resolveComponent)("q-toolbar"),h=(0,a.resolveComponent)("q-header"),C=(0,a.resolveComponent)("contato-card"),v=(0,a.resolveComponent)("q-list"),f=(0,a.resolveComponent)("q-page-container"),N=(0,a.resolveComponent)("q-layout"),V=(0,a.resolveComponent)("q-dialog"),g=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(V,{modelValue:n.visivel,"onUpdate:modelValue":o[1]||(o[1]=e=>n.visivel=e),maximized:"",onHide:o[2]||(o[2]=e=>c.onHide())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"bg-white",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(d,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[g]]),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.termo,"onUpdate:modelValue":[o[0]||(o[0]=e=>n.termo=e),c.filtrar],color:"none",ref:"search",dark:"",placeholder:n.placeholder,debounce:"1000"},null,8,["modelValue","placeholder","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",i,[c.contatosEncontrados?((0,a.openBlock)(),(0,a.createElementBlock)("div",r,[(0,a.createVNode)(v,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(n.contatos,(e=>((0,a.openBlock)(),(0,a.createBlock)(C,{key:e.id,contato:e,modo:"lista",onSelecionar:c.selecionar},null,8,["contato","onSelecionar"])))),128))])),_:1})])):(0,a.createCommentVNode)("",!0),n.carregando||c.contatosEncontrados?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",l," Nenhum resultado encontrado "))])])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);g()(s,"components",{QDialog:c.Z,QLayout:d.Z,QHeader:m.Z,QToolbar:u.Z,QBtn:p.Z,QToolbarTitle:h.Z,QInput:C.Z,QPageContainer:v.Z,QList:f.Z}),g()(s,"directives",{ClosePopup:N.Z})},42138:(e,o,t)=>{"use strict";t.d(o,{Z:()=>I});var a=t(34182);const i={class:"layout-padding"},r={key:0,class:"q-mt-lg text-center"},l={key:1,class:"q-py-xl"},s={key:2,class:"bg-light q-pa-lg round-borders text-black text-center"},n={class:"text-tertiary"},c={class:"text-positive float-right"};var d=t(27228),m=t(58294);t(88603);const u={components:{ItemCard:d.Z},computed:{itensEncontrados(){return this.itens.length},sku(){let e=0;for(const o in this.itensSelecionados)e+=this.itensSelecionados[o].quantidade>0?1:0;return e},valorItensSelecionados(){let e=0;for(const o in this.itensSelecionados){const t=(0,m.arredondar)((this.itensSelecionados[o].item.novoValorVenda||this.itensSelecionados[o].item.valorVenda||0)*this.itensSelecionados[o].quantidade);e=(0,m.arredondar)(e+t)}return e}},data:()=>({carregando:!0,focarNaBusca:!0,carregandoEstoque:!0,estoque:[],itens:[],itensSelecionados:{},valores:{},termo:"",visibilidade:{modal:!1}}),emits:["update:modelValue","selecionar","selecionarItens"],methods:{adicionar(e){this.focarNaBusca=!1;const o=$utils.clonarV2(this.itensSelecionados);o[e.item.id]=e,this.itensSelecionados=o},async atualizar(){this.carregando=!0,await(0,m.dormir)(500);let e=[];if(e=(await $db.item.ler({filtros:{...this.filtro,termoBusca:this.termo},limit:30,page:1,sort:["descricaoConcatenada"]})).data,e.length&&this.filtro.idTabelaPreco){let o=await $erp().itemTabelaPreco.get(this.filtro.idTabelaPreco)||{};if(o.id)for(let t of e.filter((e=>e.valorVenda))){let e=await $db.itemTabelaPreco.obterValores(o,t,4)||{};this.valores[t.id]=e,t.valorVenda=e.valorVenda||0,t.valorReal=e.valorVenda||0}}e=e.map((e=>this.itensSelecionados[e.id]?this.itensSelecionados[e.id].item:e)),this.itens=e,this.carregarEstoque(),this.carregando=!1},async carregarEstoque(){this.carregandoEstoque=!0,this.estoque=[];let e=[];const o=this.itens.map((e=>e.id));let t=(await $erp().empresa.toArray()).filter((e=>e.ativo));if(o.length)try{let a=((await this.$utils.geeksApi({estoque:{funcao:"CC9F3B9A-16B9-4AE8-A523-938E4433AFAA",idItem:o}})||{}).data||{}).estoque||[];a=a.filter((e=>t.find((o=>o.idContato===e.idEmpresa))));for(const t of o){let o=[];const i=a.filter((e=>e.idItem===t)),r=new Set(i.map((e=>e.tipoEstoque)));for(const e of Array.from(r)){if(this.filtro.idEmpresa){const t=i.find((o=>o.tipoEstoque===e&&o.idEmpresa===this.filtro.idEmpresa));o.push({tipoEstoque:e,saldo:(t||{}).saldo||0,saldoTotal:i.find((o=>o.tipoEstoque===e)).saldoTotal||0})}this.filtro.idEmpresa||o.push({tipoEstoque:e,saldo:i.find((o=>o.tipoEstoque===e)).saldoTotal||0})}e.push({idItem:t,tiposSaldos:o})}}catch(t){let a=await $erp().estoqueSaldoProdutoEmpresa.where("idItem").anyOf(o).toArray();for(const e of a)e.saldoTotal=a.filter((o=>o.idItem===e.idItem&&o.tipoEstoque===e.tipoEstoque)).reduce(((e,o)=>e+(o.saldo||0)),0);for(const t of o){let o=[];const i=a.filter((e=>e.idItem===t)),r=new Set(i.map((e=>e.tipoEstoque)));for(const e of Array.from(r)){if(this.filtro.idEmpresa){const t=i.find((o=>o.tipoEstoque===e&&o.idEmpresa===this.filtro.idEmpresa));o.push({tipoEstoque:e,saldo:(t||{}).saldo||0,saldoTotal:i.find((o=>o.tipoEstoque===e)).saldoTotal||0})}this.filtro.idEmpresa||o.push({tipoEstoque:e,saldo:i.find((o=>o.tipoEstoque===e)).saldoTotal||0})}e.push({idItem:t,tiposSaldos:o,offline:!0})}}this.carregandoEstoque=!1,this.estoque=e},async concluir(){this.$emit("selecionarItens",this.itensSelecionados),this.fechar()},fechar(e){e&&e.stopPropagation(),this.refresh(),this.$emit("update:modelValue",!1)},limparTermo(){this.termo="",this.atualizar()},obterEstoque(e,o){if(!this.carregandoEstoque)return e&&this.estoque.find((o=>o.idItem===e))||{}},refresh(){this.visibilidade.modal=!1,this.carregando=!0,this.focarNaBusca=!0,this.itens=[],this.itensSelecionados={}},selecionar(e,o){this.$emit("selecionar",e,o),this.fechar()}},props:{filtro:{default:()=>({}),type:Object},modelValue:{required:!0,type:Boolean},habilitarQuantidade:{type:Boolean,default:!1}},watch:{modelValue(e){e&&(this.visibilidade.modal=!0,this.atualizar())}},updated(){this.$nextTick((function(){this.$refs.search&&this.$refs.search.focus()}))}};var p=t(74260),h=t(39341),C=t(63626),v=t(54553),f=t(47266),N=t(76210),V=t(48761),g=t(86952),x=t(41837),b=t(25901),w=t(83671),_=t(7518),y=t.n(_);const I=(0,p.Z)(u,[["render",function(e,o,t,d,m,u){const p=(0,a.resolveComponent)("q-btn"),h=(0,a.resolveComponent)("q-input"),C=(0,a.resolveComponent)("q-toolbar-title"),v=(0,a.resolveComponent)("q-toolbar"),f=(0,a.resolveComponent)("q-header"),N=(0,a.resolveComponent)("q-spinner"),V=(0,a.resolveComponent)("item-card"),g=(0,a.resolveComponent)("q-list"),x=(0,a.resolveComponent)("q-footer"),b=(0,a.resolveComponent)("q-layout"),w=(0,a.resolveComponent)("q-dialog");return(0,a.openBlock)(),(0,a.createBlock)(w,{modelValue:m.visibilidade.modal,"onUpdate:modelValue":o[1]||(o[1]=e=>m.visibilidade.modal=e),persistent:"",maximized:"",onKeyup:(0,a.withKeys)(u.fechar,["esc"])},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{class:"bg-white",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{dense:"",flat:"",icon:"arrow_back",round:"",onClick:u.fechar},null,8,["onClick"]),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:m.termo,"onUpdate:modelValue":[o[0]||(o[0]=e=>m.termo=e),u.atualizar],color:"none",ref:"search",dark:"",dense:"",placeholder:"Buscar",debounce:"600"},null,8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createElementVNode)("div",i,[m.carregando?((0,a.openBlock)(),(0,a.createElementBlock)("div",r,[(0,a.createVNode)(N,{color:"faded",size:50})])):(0,a.createCommentVNode)("",!0),!m.carregando&&u.itensEncontrados?((0,a.openBlock)(),(0,a.createElementBlock)("div",l,[(0,a.createVNode)(g,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(m.itens,(e=>((0,a.openBlock)(),(0,a.createBlock)(V,{key:e.id,item:e,estoque:u.obterEstoque(e.id),idEmpresa:t.filtro.idEmpresa,modo:"lista",onSelecionar:u.selecionar,onAdicionar:u.adicionar,onConcluir:u.concluir,quantidadeSelecionada:(m.itensSelecionados[e.id]||{}).quantidade||0,habilitarQuantidade:t.habilitarQuantidade,valores:m.valores[e.id]},null,8,["item","estoque","idEmpresa","onSelecionar","onAdicionar","onConcluir","quantidadeSelecionada","habilitarQuantidade","valores"])))),128))])),_:1})])):(0,a.createCommentVNode)("",!0),m.carregando||u.itensEncontrados?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",s," Não encontramos itens com os critérios selecionados. "))]),u.sku>0?((0,a.openBlock)(),(0,a.createBlock)(x,{key:0,class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("span",n,(0,a.toDisplayString)(u.sku)+" SKU(s)",1),(0,a.createElementVNode)("span",c,"R$ "+(0,a.toDisplayString)(e.$filters.numero(u.valorItensSelecionados,2)),1)])),_:1}),(0,a.createVNode)(p,{class:"q-ml-sm no-shadow float-right",color:"primary",label:"Concluir",onClick:u.concluir,unelevated:""},null,8,["onClick"])])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1},8,["modelValue","onKeyup"])}]]);y()(u,"components",{QDialog:h.Z,QLayout:C.Z,QHeader:v.Z,QToolbar:f.Z,QBtn:N.Z,QToolbarTitle:V.Z,QInput:g.Z,QSpinner:x.Z,QList:b.Z,QFooter:w.Z})},54097:(e,o,t)=>{"use strict";t.d(o,{Z:()=>oo});var a=t(34182);const i=(0,a.createTextVNode)("Receita"),r={class:"layout-padding q-pa-none q-pb-md q-mt-md"},l={class:"u-container"},s={class:"col-12 col-md-3"},n=(0,a.createTextVNode)("Incluir paciente"),c=(0,a.createTextVNode)(" Resultado não encontrado "),d={class:"col-12 col-md-3"},m=(0,a.createTextVNode)("Incluir médico"),u=(0,a.createTextVNode)(" Resultado não encontrado "),p=(0,a.createElementVNode)("strong",null,"CRM: ",-1),h={class:"col-12 col-md-3"},C={class:"col-12 col-md-3"},v={key:0,class:"col-12 col-md-6"},f=(0,a.createTextVNode)("Longe"),N={class:"q-pa-md"},V=(0,a.createElementVNode)("div",{class:"col-auto"},"     ",-1),g=(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Esférico")],-1),x=(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Cilindrico")],-1),b=(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Eixo")],-1),w=(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("label",{style:{"font-size":".9rem","font-weight":"bold"}},"DNP")],-1),_=(0,a.createElementVNode)("div",{class:"col-aut"}," OD ",-1),y={class:"col"},I={class:"col"},E={class:"col"},S={class:"col"},M=(0,a.createElementVNode)("div",{class:"col-aut"}," OE ",-1),T={key:0,class:"col"},k={key:1,class:"col"},D={key:2,class:"col"},q={key:3,class:"col"},F={key:1,class:"col-6 col-md-3"},P={class:"q-pa-md"},A=(0,a.createElementVNode)("div",{class:"col-auto"},"     ",-1),B={key:0,class:"col"},L={key:0,style:{"font-size":".9rem","font-weight":"bold"}},O={key:1,style:{"font-size":".9rem","font-weight":"bold"}},z={key:1,class:"col"},j=[(0,a.createElementVNode)("label",{style:{"font-size":".9rem","font-weight":"bold"}},"DNP",-1)],$=(0,a.createElementVNode)("div",{class:"col-auto"}," OD ",-1),U={key:0,class:"col"},Z={key:1,class:"col"},Q=(0,a.createElementVNode)("div",{class:"col-aut"}," OE ",-1),R={key:0,class:"col"},G={key:1,class:"col"},H={class:"col"},J={class:"q-pa-md"},Y=(0,a.createElementVNode)("div",{class:"col-auto"},"     ",-1),X={key:0,class:"col"},W={key:0,style:{"font-size":".9rem","font-weight":"bold"}},K={key:1,style:{"font-size":".9rem","font-weight":"bold"}},ee={key:1,class:"col"},oe=[(0,a.createElementVNode)("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Esférico",-1)],te={key:2,class:"col"},ae=[(0,a.createElementVNode)("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Cilindrico",-1)],ie={key:3,class:"col"},re=[(0,a.createElementVNode)("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Eixo",-1)],le=(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("label",{style:{"font-size":".9rem","font-weight":"bold"}},"DNP")],-1),se=(0,a.createElementVNode)("div",{class:"col-auto"}," OD ",-1),ne={class:"col"},ce={key:0,class:"col"},de={key:1,class:"col"},me={class:"col"},ue=(0,a.createElementVNode)("div",{class:"col-aut"}," OE ",-1),pe={class:"col"},he={key:0,class:"col"},Ce={key:1,class:"col"},ve={class:"col"},fe={class:"col-12 col-md-auto"},Ne={class:"col-12 col-md"},Ve={class:"q-pa-md"},ge=(0,a.createElementVNode)("div",{class:"col-auto"}," OD ",-1),xe={class:"col"},be={class:"col"},we={class:"col-12 col-md-auto q-pt-none text-center"},_e={class:"col-12 col-md"},ye={class:"q-pa-md"},Ie=(0,a.createElementVNode)("div",{class:"col-auto"}," OE ",-1),Ee={class:"col"},Se={class:"col"};var Me=t(85956),Te=t(58294);const ke={data:()=>({codigoQrCode:"",modalQrCode:!1}),methods:{abrirModalQrCode(){this.modalQrCode=!0},escanearQrCode(e){Te.gconsole.log("importarReceita","escanearQrCode",e),this.codigoQrCode=e,this.modalQrCode=!1,this.importarQrCode()},async importarQrCode(){try{(0,Te.verificarErro)(!this.codigoQrCode,"QR Code não fornecido");const e=this.codigoQrCode.lastIndexOf("_"),o=this.codigoQrCode.length;(0,Te.verificarErro)(e<1||e>o-2,"QR Code inválido");const t=this.codigoQrCode.substr(0,e),a=+this.codigoQrCode.substr(e+1);(0,Te.verificarErro)(!a,"QR Code inválido"),Te.gconsole.log("importarReceita","importarQrCode",this.codigoQrCode,t,a);const i=await this.$utils.geeksApi({importarReceita:{funcao:"1EDA7D08-2981-48E4-8A15-3CF9EE38B829",codigoReceita:a,bancoDeDados:t}}),r=i.data.importarReceita;this.$q.notifyPositive(i.data.combinarProdutos.mensagem),Te.gconsole.log("importarReceita","importarQrCode retorno Gaphql",r);const{paciente:l,medico:s,receitaItens:n}=r;Te.gconsole.log("importarReceita","importarQrCode retorno Gaphql",l,s),l.dataAlteracao=l.dataCadastro=(0,Te.dataAtual)(),(0,Te.adicionarSincronizar)("contato",l),s.dataAlteracao=s.dataCadastro=(0,Te.dataAtual)(),(0,Te.adicionarSincronizar)("contato",s),r.idContato=l.id,(0,Te.adicionarSincronizar)("documento",r);let c={};c.idContato=s.id,c.idDocumento=r.id,c.descricao="Medico",(0,Te.adicionarSincronizar)("documentoContato",c);for(const e in n){const o=n[e];o.idDocumento=r.id,(0,Te.adicionarSincronizar)("documentoItem",o)}this.$router.push({name:"AtendimentoOticaReceita",params:{id:l.id}})}catch(e){this.$q.notifyError("Ocorreu um erro ao importar receita pelo QR Code.",e)}}}};var De=t(54726);const qe={components:{ContatoCriar:Me.Z},data:()=>({abaSelecionada:"dioptria",campos:{id:"",idEmpresa:"",paciente:{id:"",nome:""},medico:{id:"",nome:""},data:null,validade:null,observacoes:"",prescricao:{dioptria:{od:{longe:{cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""},medio:{adicao:null,cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""},perto:{adicao:null,cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""}},oe:{longe:{cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""},medio:{adicao:null,cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""},perto:{adicao:null,cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""}}},prisma:{od:{base:"",valor:null},oe:{base:"",valor:null}}}},receitaOriginal:{},confirmaHabilitaPerto:!1,habilitaAE:!1,habilitaMedio:!1,habilitaPerto:!1,odLongeEsferico:null,odMedioAdicao:null,odMedioEsferico:null,odPertoAdicao:null,odPertoEsferico:null,oeLongeEsferico:null,oeMedioAdicao:null,oeMedioEsferico:null,oePertoAdicao:null,oePertoEsferico:null,opcoesPacientes:[],opcoesMedicos:[],visivel:!1}),emits:["atualizar"],methods:{async criarOpcoesPacientes(){try{const e=await $db.contato.leFilhos($db.contato.selecionado.id);e.push($db.contato.selecionado);const o=e.map((e=>({label:e.nome,value:e.id})));return o.sort(((e,o)=>e.label<o.label?1:-1)),o}catch(e){this.$q.notifyError("Não foi possível carregar os dados de pacientes",e)}},filtrarPacientes(e,o){setTimeout((()=>{o((async()=>{const o=await this.criarOpcoesPacientes();if(""===e)this.opcoesPacientes=o;else{const t=$utils.removerAcentos(e.toLowerCase()).split(" ");this.opcoesPacientes=o.filter((e=>{const o=$utils.removerAcentos(e.label.toLowerCase());for(const e of t)if(!(o.indexOf(e)>-1))return!1;return!0}))}}))}),500)},async criarOpcoesMedicos(e){try{const o=(await $db.contatoBusca.filtrar(e,{ativo:!0,medicos:!0},0)).map((e=>({label:e.nome,sublabel:(e.numeroDocumentoMunicipal??"").trim(),value:e.id})));return o.sort(((e,o)=>e.label<o.label?1:-1)),o}catch(e){this.$q.notifyError("Não foi possível carregar os dados de médicos",e)}},async filtrarMedicos(e,o){const t=await this.criarOpcoesMedicos(e);o((()=>{if(""===e)this.opcoesMedicos=t;else{const o=$utils.removerAcentos(e.toLowerCase()).split(" ");this.opcoesMedicos=t.filter((e=>{const t=$utils.removerAcentos(e.label.toLowerCase()+" "+e.sublabel.toLowerCase());for(const e of o)if(!(t.indexOf(e)>-1))return!1;return!0}))}}))},async abrirModalDependente(){const e=await this.$refs.modalDependente.mostrar();(e||{}).id&&this.criarDependencia(e)},async abrirModalMedico(){const e=await this.$refs.modalMedico.mostrar();(e||{}).id&&this.criarMedico(e)},async aoCopiarODOE(e){$q.dialog({message:"Esta ação irá sobrescrever os dados do olho esquerdo.",title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{e()}))},selecionarPaciente(e){this.campos.paciente.nome=e.label,this.campos.paciente.id=e.value},async atualizar(){const e=await $db.receita.le({id:this.id});this.campos=e,this.receitaOriginal=$utils.clonar(e),this.campos.idEmpresa||(this.campos.idEmpresa=this.idEmpresa);let o=!1;(this.campos.prescricao.dioptria.od.longe.esferico||this.campos.prescricao.dioptria.od.longe.cilindrico||this.campos.prescricao.dioptria.od.longe.eixo||this.campos.prescricao.dioptria.od.longe.dnp||this.campos.prescricao.dioptria.oe.longe.esferico||this.campos.prescricao.dioptria.oe.longe.cilindrico||this.campos.prescricao.dioptria.oe.longe.eixo||this.campos.prescricao.dioptria.oe.longe.dnp)&&(o=!0),(this.campos.prescricao.dioptria.od.medio.esferico||this.campos.prescricao.dioptria.od.medio.adicao||this.campos.prescricao.dioptria.od.medio.dnp||this.campos.prescricao.dioptria.oe.medio.esferico||this.campos.prescricao.dioptria.oe.medio.adicao||this.campos.prescricao.dioptria.oe.medio.dnp)&&(this.habilitaMedio=!0),!o&&(this.campos.prescricao.dioptria.od.perto.cilindrico||this.campos.prescricao.dioptria.od.perto.eixo||this.campos.prescricao.dioptria.oe.perto.cilindrico||this.campos.prescricao.dioptria.oe.perto.eixo)&&(this.confirmaHabilitaPerto=this.habilitaPerto=!0),this.odLongeEsferico=this.campos.prescricao.dioptria.od.longe.esferico,this.oeLongeEsferico=this.campos.prescricao.dioptria.oe.longe.esferico,this.odMedioAdicao=this.campos.prescricao.dioptria.od.medio.adicao,this.oeMedioAdicao=this.campos.prescricao.dioptria.oe.medio.adicao,this.odMedioEsferico=this.campos.prescricao.dioptria.od.medio.esferico,this.oeMedioEsferico=this.campos.prescricao.dioptria.oe.medio.esferico,this.odPertoAdicao=this.campos.prescricao.dioptria.od.perto.adicao,this.oePertoAdicao=this.campos.prescricao.dioptria.oe.perto.adicao,this.odPertoEsferico=this.campos.prescricao.dioptria.od.perto.esferico,this.oePertoEsferico=this.campos.prescricao.dioptria.oe.perto.esferico},atualizarValidade(){if(this.campos.data){let e=new Date(this.campos.data);e.setFullYear(e.getFullYear()+1),this.campos.validade=De.ZP.formatDate(e)}},calcularAE(){let e=this.campos.prescricao.dioptria.od.longe.esferico,o=this.campos.prescricao.dioptria.oe.longe.esferico;if(this.habilitaMedio){let t=this.campos.prescricao.dioptria.od.medio.adicao,a=this.campos.prescricao.dioptria.od.medio.esferico;(t!==this.odMedioAdicao||a!==this.odMedioEsferico||e!==this.odLongeEsferico&&(t||a))&&(this.habilitaAE?t=null===a||null===e?null:a-e:a=null===e||null===t?null:e+t,this.odLongeEsferico=this.campos.prescricao.dioptria.od.longe.esferico=e,this.odMedioAdicao=this.campos.prescricao.dioptria.od.medio.adicao=t,this.odMedioEsferico=this.campos.prescricao.dioptria.od.medio.esferico=a);let i=this.campos.prescricao.dioptria.oe.medio.adicao,r=this.campos.prescricao.dioptria.oe.medio.esferico;(i!==this.oeMedioAdicao||r!==this.oeMedioEsferico||o!==this.oeLongeEsferico&&(i||r))&&(this.habilitaAE?i=null===r||null===o?null:r-o:r=null===o||null===i?null:o+i,this.oeLongeEsferico=this.campos.prescricao.dioptria.oe.longe.esferico=o,this.oeMedioAdicao=this.campos.prescricao.dioptria.oe.medio.adicao=i,this.oeMedioEsferico=this.campos.prescricao.dioptria.oe.medio.esferico=r)}if(!this.habilitaPerto){let t=this.campos.prescricao.dioptria.od.perto.adicao,a=this.campos.prescricao.dioptria.od.perto.esferico;(t!==this.odPertoAdicao||a!==this.odPertoEsferico||e!==this.odLongeEsferico&&(t||a))&&(this.habilitaAE?t=null===a||null===e?null:a-e:a=null===e||null===t?null:e+t,this.odLongeEsferico=this.campos.prescricao.dioptria.od.longe.esferico=e,this.odPertoAdicao=this.campos.prescricao.dioptria.od.perto.adicao=t,this.odPertoEsferico=this.campos.prescricao.dioptria.od.perto.esferico=a);let i=this.campos.prescricao.dioptria.oe.perto.adicao,r=this.campos.prescricao.dioptria.oe.perto.esferico;(i!==this.oePertoAdicao||r!==this.oePertoEsferico||o!==this.oeLongeEsferico&&(i||r))&&(this.habilitaAE?i=null===r||null===o?null:r-o:r=null===o||null===i?null:o+i,this.oeLongeEsferico=this.campos.prescricao.dioptria.oe.longe.esferico=o,this.oePertoAdicao=this.campos.prescricao.dioptria.oe.perto.adicao=i,this.oePertoEsferico=this.campos.prescricao.dioptria.oe.perto.esferico=r)}},copiarODDioptria(){this.aoCopiarODOE((()=>{this.campos.prescricao.dioptria.oe.longe.cilindrico=this.campos.prescricao.dioptria.od.longe.cilindrico,this.campos.prescricao.dioptria.oe.longe.dnp=this.campos.prescricao.dioptria.od.longe.dnp,this.campos.prescricao.dioptria.oe.longe.eixo=this.campos.prescricao.dioptria.od.longe.eixo,this.campos.prescricao.dioptria.oe.longe.esferico=this.campos.prescricao.dioptria.od.longe.esferico,this.campos.prescricao.dioptria.oe.medio.adicao=this.campos.prescricao.dioptria.od.medio.adicao,this.campos.prescricao.dioptria.oe.medio.dnp=this.campos.prescricao.dioptria.od.medio.dnp,this.campos.prescricao.dioptria.oe.medio.esferico=this.campos.prescricao.dioptria.od.medio.esferico,this.campos.prescricao.dioptria.oe.medio.cilindrico=this.campos.prescricao.dioptria.od.medio.cilindrico,this.campos.prescricao.dioptria.oe.medio.eixo=this.campos.prescricao.dioptria.od.medio.eixo,this.campos.prescricao.dioptria.oe.perto.adicao=this.campos.prescricao.dioptria.od.perto.adicao,this.campos.prescricao.dioptria.oe.perto.cilindrico=this.campos.prescricao.dioptria.od.perto.cilindrico,this.campos.prescricao.dioptria.oe.perto.dnp=this.campos.prescricao.dioptria.od.perto.dnp,this.campos.prescricao.dioptria.oe.perto.eixo=this.campos.prescricao.dioptria.od.perto.eixo,this.campos.prescricao.dioptria.oe.perto.esferico=this.campos.prescricao.dioptria.od.perto.esferico}))},copiarODPrisma(){this.aoCopiarODOE((()=>{this.campos.prescricao.prisma.oe=$utils.clonar(this.campos.prescricao.prisma.od)}))},async criarDependencia(e){try{await $db.contato.criarDependenciaContatos({contatoPai:$db.contato.selecionado,contatoFilho:e}),await $db.contatoBusca.reindexar($db.contato.selecionado.id),await $db.contatoBusca.reindexar(e.id),this.campos.paciente.id=e.id,this.campos.paciente.nome=e.nome}catch(e){this.$q.notifyError("Ocorreu um erro ao criar a dependência.",e)}},async criarMedico(e){try{await $db.contato.criarContatoGrupo({idContato:e.id,descricaoGrupo:"Médico"}),await $db.contatoBusca.reindexar(e.id),this.campos.medico.id=e.id,this.campos.medico.nome=e.nome}catch(e){this.$q.notifyError("Ocorreu um erro ao adicionar o contato ao grupo Médico.",e)}},selecionarMedico(e){this.campos.medico.id=e.value,this.campos.medico.nome=e.label},async salvarReceita(){let e="Ocorreu um erro ao salvar a receita.";try{let o=(new Date).setHours(0,0,0,0),t=new Date(this.campos.data).setHours(0,0,0,0);$utils.verificarErro(!this.campos.data||!this.campos.validade,"Preencha o período."),$utils.verificarErro(t>o,"Data da receita não pode ser maior que hoje."),$utils.verificarErro(!this.campos.medico.id||!this.campos.medico.nome,"Selecione o médico."),$utils.verificarErro(!this.campos.paciente.id||!this.campos.paciente.nome,"Selecione o paciente.");let a="Receita salva com sucesso.";this.duplicarReceita&&(this.campos.id=$utils.uuid(),this.campos.medico.idDocumentoContato=$utils.uuid(),this.campos.prescricao.dioptria.od.longe.id=$utils.uuid(),this.campos.prescricao.dioptria.od.medio.id=$utils.uuid(),this.campos.prescricao.dioptria.od.perto.id=$utils.uuid(),this.campos.prescricao.dioptria.oe.longe.id=$utils.uuid(),this.campos.prescricao.dioptria.oe.medio.id=$utils.uuid(),this.campos.prescricao.dioptria.oe.perto.id=$utils.uuid(),delete this.campos.dadosOriginais,a="Receita duplicada com sucesso.",e="Ocorreu um erro ao duplicar a receita."),this.$q.loading.show({delay:200,message:"Salvando a receita"}),await $db.receita.grava(this.campos),this.visivel=!1,this.$q.notifyPositive(a),this.$emit("atualizar")}catch(o){this.$q.notifyError(e,o)}finally{this.$q.loading.hide()}},async zerarCamposLongeMedio(){const e=async()=>{await this.zerarCamposMedio(!1),this.campos.prescricao.dioptria.od.longe.esferico=null,this.campos.prescricao.dioptria.od.longe.cilindrico=null,this.campos.prescricao.dioptria.od.longe.eixo=null,this.campos.prescricao.dioptria.od.longe.dnp=null,this.campos.prescricao.dioptria.od.perto.adicao=null,this.campos.prescricao.dioptria.od.perto.esferico=null,this.campos.prescricao.dioptria.od.perto.dnp=null,this.campos.prescricao.dioptria.od.perto.cilindrico=null,this.campos.prescricao.dioptria.od.perto.eixo=null,this.campos.prescricao.dioptria.oe.longe.esferico=null,this.campos.prescricao.dioptria.oe.longe.cilindrico=null,this.campos.prescricao.dioptria.oe.longe.eixo=null,this.campos.prescricao.dioptria.oe.longe.dnp=null,this.campos.prescricao.dioptria.oe.perto.adicao=null,this.campos.prescricao.dioptria.oe.perto.esferico=null,this.campos.prescricao.dioptria.oe.perto.dnp=null,this.campos.prescricao.dioptria.oe.perto.cilindrico=null,this.campos.prescricao.dioptria.oe.perto.eixo=null};let o=!1;o=this.habilitaPerto?this.campos.prescricao.dioptria.od.longe.esferico||this.campos.prescricao.dioptria.od.longe.cilindrico||this.campos.prescricao.dioptria.od.longe.eixo||this.campos.prescricao.dioptria.od.longe.dnp||this.campos.prescricao.dioptria.od.medio.adicao||this.campos.prescricao.dioptria.od.medio.esferico||this.campos.prescricao.dioptria.od.medio.dnp||this.campos.prescricao.dioptria.od.perto.adicao||this.campos.prescricao.dioptria.od.perto.esferico||this.campos.prescricao.dioptria.od.perto.dnp||this.campos.prescricao.dioptria.oe.longe.esferico||this.campos.prescricao.dioptria.oe.longe.cilindrico||this.campos.prescricao.dioptria.oe.longe.eixo||this.campos.prescricao.dioptria.oe.longe.dnp||this.campos.prescricao.dioptria.oe.medio.adicao||this.campos.prescricao.dioptria.oe.medio.esferico||this.campos.prescricao.dioptria.oe.medio.dnp||this.campos.prescricao.dioptria.oe.perto.adicao||this.campos.prescricao.dioptria.oe.perto.esferico||this.campos.prescricao.dioptria.oe.perto.dnp:this.campos.prescricao.dioptria.od.perto.esferico||this.campos.prescricao.dioptria.od.perto.dnp||this.campos.prescricao.dioptria.od.perto.cilindrico||this.campos.prescricao.dioptria.od.perto.eixo||this.campos.prescricao.dioptria.oe.perto.esferico||this.campos.prescricao.dioptria.oe.perto.dnp||this.campos.prescricao.dioptria.oe.perto.cilindrico||this.campos.prescricao.dioptria.oe.perto.eixo,o?await new Promise(((o,t)=>{this.$q.dialog({message:"Ao continuar os dados serão perdidos.",noRefocus:!0,preventClose:!0,title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{e().then((()=>{this.habilitaMedio=!1,this.habilitaAE=!1}))})).onCancel((()=>{this.habilitaPerto=!this.habilitaPerto})).onDismiss((()=>{o()}))})):(this.habilitaMedio=!1,this.habilitaAE=!1),this.confirmaHabilitaPerto=this.habilitaPerto},async zerarCamposMedio(e){const o=()=>{this.odMedioAdicao=this.campos.prescricao.dioptria.od.medio.adicao=null,this.odMedioEsferico=this.campos.prescricao.dioptria.od.medio.esferico=null,this.campos.prescricao.dioptria.od.medio.dnp=null,this.oeMedioAdicao=this.campos.prescricao.dioptria.oe.medio.adicao=null,this.oeMedioEsferico=this.campos.prescricao.dioptria.oe.medio.esferico=null,this.campos.prescricao.dioptria.oe.medio.dnp=null,this.campos.prescricao.dioptria.od.medio.cilindrico=null,this.campos.prescricao.dioptria.od.medio.eixo=null,this.campos.prescricao.dioptria.oe.medio.cilindrico=null,this.campos.prescricao.dioptria.oe.medio.eixo=null};e?(this.campos.prescricao.dioptria.od.medio.adicao||this.campos.prescricao.dioptria.od.medio.esferico||this.campos.prescricao.dioptria.od.medio.dnp||this.campos.prescricao.dioptria.oe.medio.adicao||this.campos.prescricao.dioptria.oe.medio.esferico||this.campos.prescricao.dioptria.oe.medio.dnp)&&await new Promise(((e,t)=>{this.$q.dialog({message:"Ao continuar os dados serão perdidos.",noRefocus:!0,preventClose:!0,title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{o()})).onCancel((()=>{this.habilitaMedio=!this.habilitaMedio})).onDismiss((()=>{e()}))})):o()},calcularDnpPerto(e){if("direito"===e){const e=(this.campos.prescricao.dioptria.od.perto.adicao||this.campos.prescricao.dioptria.od.perto.esferico)&&!this.campos.prescricao.dioptria.od.perto.dnp,o=this.campos.prescricao.dioptria.od.longe.dnp;$utils.isNumber(o)&&o&&e&&(this.campos.prescricao.dioptria.od.perto.dnp=o-1.5)}if("esquerdo"===e){const e=(this.campos.prescricao.dioptria.oe.perto.adicao||this.campos.prescricao.dioptria.oe.perto.esferico)&&!this.campos.prescricao.dioptria.oe.perto.dnp,o=this.campos.prescricao.dioptria.oe.longe.dnp;$utils.isNumber(o)&&o&&e&&(this.campos.prescricao.dioptria.oe.perto.dnp=o-1.5)}},async mostrar(e){const{duplicarReceita:o=!1,id:t="",idEmpresa:a=""}=e;this.id=t,this.idEmpresa=a,this.duplicarReceita=o,this.abaSelecionada="dioptria",this.habilitaAE=!1,this.habilitaMedio=!1,this.habilitaPerto=this.confirmaHabilitaPerto=!1,await this.atualizar(),this.visivel=!0}},mixins:[ke]};var Fe=t(74260),Pe=t(39341),Ae=t(63626),Be=t(54553),Le=t(47266),Oe=t(76210),ze=t(48761),je=t(7112),$e=t(83054),Ue=t(40320),Ze=t(4957),Qe=t(77953),Re=t(60880),Ge=t(31106),He=t(16078),Je=t(38837),Ye=t(84384),Xe=t(74488),We=t(98586),Ke=t(7518),eo=t.n(Ke);const oo=(0,Fe.Z)(qe,[["render",function(e,o,t,Me,Te,ke){const De=(0,a.resolveComponent)("q-btn"),qe=(0,a.resolveComponent)("q-toolbar-title"),Fe=(0,a.resolveComponent)("q-toolbar"),Pe=(0,a.resolveComponent)("q-header"),Ae=(0,a.resolveComponent)("q-tooltip"),Be=(0,a.resolveComponent)("q-item-section"),Le=(0,a.resolveComponent)("q-item"),Oe=(0,a.resolveComponent)("q-select"),ze=(0,a.resolveComponent)("q-item-label"),je=(0,a.resolveComponent)("campo"),$e=(0,a.resolveComponent)("row"),Ue=(0,a.resolveComponent)("q-card"),Ze=(0,a.resolveComponent)("q-tab"),Qe=(0,a.resolveComponent)("q-tabs"),Re=(0,a.resolveComponent)("q-tab-panel"),Ge=(0,a.resolveComponent)("q-tab-panels"),He=(0,a.resolveComponent)("q-page-container"),Je=(0,a.resolveComponent)("q-layout"),Ye=(0,a.resolveComponent)("contato-criar"),Xe=(0,a.resolveComponent)("q-dialog"),We=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(Xe,{modelValue:Te.visivel,"onUpdate:modelValue":o[46]||(o[46]=e=>Te.visivel=e),maximized:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Je,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("form",{onSubmit:o[45]||(o[45]=(0,a.withModifiers)(((...e)=>ke.salvarReceita&&ke.salvarReceita(...e)),["prevent"]))},[(0,a.createVNode)(Pe,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Fe,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(De,{flat:"",round:"",dense:"",icon:"arrow_back"},null,512),[[We]]),(0,a.createVNode)(qe,null,{default:(0,a.withCtx)((()=>[i])),_:1}),(0,a.createVNode)(De,{color:"white","text-color":"primary",class:"no-shadow",label:"Salvar",type:"submit",unelevated:""})])),_:1})])),_:1}),(0,a.createVNode)(He,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("div",l,[(0,a.createVNode)(Ue,{class:"bg-white no-shadow q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)($e,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",s,[(0,a.createVNode)(Oe,{"model-value":Te.campos.paciente.nome,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",dense:"",label:"Paciente",options:Te.opcoesPacientes,onFilter:ke.filtrarPacientes,"onUpdate:modelValue":ke.selecionarPaciente},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(De,{color:"tertiary",size:"md",icon:"person_add",dense:"",flat:"",round:"",onClick:(0,a.withModifiers)(ke.abrirModalDependente,["stop"])},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Ae,null,{default:(0,a.withCtx)((()=>[n])),_:1})])),_:1},8,["onClick"])])),"no-option":(0,a.withCtx)((()=>[(0,a.createVNode)(Le,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Be,{class:"text-grey"},{default:(0,a.withCtx)((()=>[c])),_:1})])),_:1})])),_:1},8,["model-value","options","onFilter","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",d,[(0,a.createVNode)(Oe,{"model-value":Te.campos.medico.nome,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",dense:"",label:"Médico",options:Te.opcoesMedicos,onFilter:ke.filtrarMedicos,"onUpdate:modelValue":ke.selecionarMedico},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(De,{color:"tertiary",size:"md",icon:"person_add",dense:"",flat:"",round:"",onClick:(0,a.withModifiers)(ke.abrirModalMedico,["stop"])},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Ae,null,{default:(0,a.withCtx)((()=>[m])),_:1})])),_:1},8,["onClick"])])),"no-option":(0,a.withCtx)((()=>[(0,a.createVNode)(Le,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Be,{class:"text-grey"},{default:(0,a.withCtx)((()=>[u])),_:1})])),_:1})])),option:(0,a.withCtx)((e=>[(0,a.createVNode)(Le,(0,a.normalizeProps)((0,a.guardReactiveProps)(e.itemProps)),{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Be,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(ze,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.opt.label),1)])),_:2},1024),e.opt.sublabel?((0,a.openBlock)(),(0,a.createBlock)(ze,{key:0,caption:""},{default:(0,a.withCtx)((()=>[p,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.opt.sublabel),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0)])),_:2},1024)])),_:2},1040)])),_:1},8,["model-value","options","onFilter","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",h,[(0,a.createVNode)(je,{modelValue:Te.campos.data,"onUpdate:modelValue":[o[0]||(o[0]=e=>Te.campos.data=e),o[1]||(o[1]=e=>ke.atualizarValidade())],maxlength:"10",rotulo:"Data",tipo:"data"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",C,[(0,a.createVNode)(je,{modelValue:Te.campos.validade,"onUpdate:modelValue":o[2]||(o[2]=e=>Te.campos.validade=e),maxlength:"10",rotulo:"Validade",tipo:"data"},null,8,["modelValue"])]),(0,a.createVNode)(je,{modelValue:Te.campos.observacoes,"onUpdate:modelValue":o[3]||(o[3]=e=>Te.campos.observacoes=e),class:"col-12",maxlength:"60",rotulo:"Observações",tipo:"texto",autogrow:""},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.createVNode)(Qe,{modelValue:Te.abaSelecionada,"onUpdate:modelValue":o[4]||(o[4]=e=>Te.abaSelecionada=e),align:"justify",class:"bg-transparent q-mt-lg text-primary",style:{"border-bottom":"1px solid rgba(0, 0, 0, 0.12)"},color:"transparent"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Ze,{label:"Dioptria",name:"dioptria"}),(0,a.createVNode)(Ze,{label:"Prisma",name:"prisma"})])),_:1},8,["modelValue"]),(0,a.createVNode)(Ge,{modelValue:Te.abaSelecionada,"onUpdate:modelValue":o[44]||(o[44]=e=>Te.abaSelecionada=e),animated:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Re,{name:"dioptria",class:"bg-light q-px-none"},{default:(0,a.withCtx)((()=>[Te.habilitaPerto?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(Fe,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(qe),(0,a.createElementVNode)("div",null,[Te.confirmaHabilitaPerto?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(je,{key:0,modelValue:Te.habilitaAE,"onUpdate:modelValue":o[5]||(o[5]=e=>Te.habilitaAE=e),rotulo:"Adição / Esférico",tipo:"logico",dense:""},null,8,["modelValue"]))])])),_:1})),(0,a.createVNode)($e,{class:"q-col-gutter-md q-mb-md"},{default:(0,a.withCtx)((()=>[Te.habilitaPerto?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",v,[(0,a.createVNode)(Ue,{class:"no-shadow rounded-borders"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Fe,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(qe,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[f])),_:1})])),_:1}),(0,a.createElementVNode)("div",N,[(0,a.createVNode)($e,{class:"items-end q-col-gutter-md"},{default:(0,a.withCtx)((()=>[V,g,x,b,w])),_:1}),(0,a.createVNode)($e,{class:"items-end q-col-gutter-md"},{default:(0,a.withCtx)((()=>[_,(0,a.createElementVNode)("div",y,[(0,a.createVNode)(je,{modelValue:Te.campos.prescricao.dioptria.od.longe.esferico,"onUpdate:modelValue":[o[6]||(o[6]=e=>Te.campos.prescricao.dioptria.od.longe.esferico=e),ke.calcularAE],dense:"",min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",I,[(0,a.createVNode)(je,{modelValue:Te.campos.prescricao.dioptria.od.longe.cilindrico,"onUpdate:modelValue":o[7]||(o[7]=e=>Te.campos.prescricao.dioptria.od.longe.cilindrico=e),dense:"",aviso:Te.campos.prescricao.dioptria.od.longe.cilindrico<-8||Te.campos.prescricao.dioptria.od.longe.cilindrico>0,avisoRotulo:"Cilindrico está fora do comum '0 a -8'.",min:"-10",max:"10",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","aviso"])]),(0,a.createElementVNode)("div",E,[(0,a.createVNode)(je,{modelValue:Te.campos.prescricao.dioptria.od.longe.eixo,"onUpdate:modelValue":o[8]||(o[8]=e=>Te.campos.prescricao.dioptria.od.longe.eixo=e),dense:"",readonly:0==Te.campos.prescricao.dioptria.od.longe.cilindrico,disable:0==Te.campos.prescricao.dioptria.od.longe.cilindrico,min:"0",max:"180",tipo:"decimal",decimals:"0",permiteNull:""},null,8,["modelValue","readonly","disable"])]),(0,a.createElementVNode)("div",S,[(0,a.createVNode)(je,{modelValue:Te.campos.prescricao.dioptria.od.longe.dnp,"onUpdate:modelValue":o[9]||(o[9]=e=>Te.campos.prescricao.dioptria.od.longe.dnp=e),min:"0",tipo:"decimal",dense:"",decimals:"2",onBlur:o[10]||(o[10]=e=>ke.calcularDnpPerto("direito")),permiteNull:""},null,8,["modelValue"])])])),_:1}),(0,a.createVNode)($e,{class:"items-end q-col-gutter-md"},{default:(0,a.withCtx)((()=>[M,Te.confirmaHabilitaPerto?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",T,[(0,a.createVNode)(je,{modelValue:Te.campos.prescricao.dioptria.oe.longe.esferico,"onUpdate:modelValue":[o[11]||(o[11]=e=>Te.campos.prescricao.dioptria.oe.longe.esferico=e),ke.calcularAE],dense:"",min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])])),Te.confirmaHabilitaPerto?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",k,[(0,a.createVNode)(je,{modelValue:Te.campos.prescricao.dioptria.oe.longe.cilindrico,"onUpdate:modelValue":o[12]||(o[12]=e=>Te.campos.prescricao.dioptria.oe.longe.cilindrico=e),dense:"",aviso:Te.campos.prescricao.dioptria.oe.longe.cilindrico<-8||Te.campos.prescricao.dioptria.oe.longe.cilindrico>0,avisoRotulo:"Cilindrico está fora do comum '0 a -8'.",min:"-10",max:"10",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","aviso"])])),Te.confirmaHabilitaPerto?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",D,[(0,a.createVNode)(je,{modelValue:Te.campos.prescricao.dioptria.oe.longe.eixo,"onUpdate:modelValue":o[13]||(o[13]=e=>Te.campos.prescricao.dioptria.oe.longe.eixo=e),dense:"",readonly:0==Te.campos.prescricao.dioptria.oe.longe.cilindrico,disable:0==Te.campos.prescricao.dioptria.oe.longe.cilindrico,min:"0",max:"180",tipo:"decimal",decimals:"0",permiteNull:""},null,8,["modelValue","readonly","disable"])])),Te.confirmaHabilitaPerto?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",q,[(0,a.createVNode)(je,{modelValue:Te.campos.prescricao.dioptria.oe.longe.dnp,"onUpdate:modelValue":o[14]||(o[14]=e=>Te.campos.prescricao.dioptria.oe.longe.dnp=e),min:"0",tipo:"decimal",dense:"",decimals:"2",onBlur:o[15]||(o[15]=e=>ke.calcularDnpPerto("esquerdo")),permiteNull:""},null,8,["modelValue"])]))])),_:1})])])),_:1})])),Te.habilitaPerto?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",F,[(0,a.createVNode)(Ue,{class:"no-shadow rounded-borders"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Fe,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(qe,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(je,{modelValue:Te.habilitaMedio,"onUpdate:modelValue":[o[16]||(o[16]=e=>Te.habilitaMedio=e),o[17]||(o[17]=e=>ke.zerarCamposMedio(!0))],tipo:"logico",rotulo:"Médio"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.createElementVNode)("div",P,[(0,a.createVNode)($e,{class:"items-end q-col-gutter-md"},{default:(0,a.withCtx)((()=>[A,Te.confirmaHabilitaPerto?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",B,[Te.habilitaAE?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("label",L,"Adição")),Te.habilitaAE?((0,a.openBlock)(),(0,a.createElementBlock)("label",O,"Esférico")):(0,a.createCommentVNode)("",!0)])),Te.confirmaHabilitaPerto?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",z,j))])),_:1}),(0,a.createVNode)($e,{class:"items-end q-col-gutter-md"},{default:(0,a.withCtx)((()=>[$,Te.confirmaHabilitaPerto?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",U,[Te.habilitaAE?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(je,{key:0,modelValue:Te.campos.prescricao.dioptria.od.medio.adicao,"onUpdate:modelValue":[o[18]||(o[18]=e=>Te.campos.prescricao.dioptria.od.medio.adicao=e),ke.calcularAE],readonly:!Te.habilitaMedio,disable:!Te.habilitaMedio,min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","onUpdate:modelValue","readonly","disable"])),Te.habilitaAE?((0,a.openBlock)(),(0,a.createBlock)(je,{key:1,modelValue:Te.campos.prescricao.dioptria.od.medio.esferico,"onUpdate:modelValue":[o[19]||(o[19]=e=>Te.campos.prescricao.dioptria.od.medio.esferico=e),ke.calcularAE],disable:!Te.habilitaMedio,readonly:!Te.habilitaMedio,min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","onUpdate:modelValue","disable","readonly"])):(0,a.createCommentVNode)("",!0)])),Te.confirmaHabilitaPerto?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",Z,[(0,a.createVNode)(je,{modelValue:Te.campos.prescricao.dioptria.od.medio.dnp,"onUpdate:modelValue":o[20]||(o[20]=e=>Te.campos.prescricao.dioptria.od.medio.dnp=e),disable:!Te.habilitaMedio,readonly:!Te.habilitaMedio,min:"0",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue","disable","readonly"])]))])),_:1}),(0,a.createVNode)($e,{class:"items-end q-col-gutter-md"},{default:(0,a.withCtx)((()=>[Q,Te.confirmaHabilitaPerto?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",R,[Te.habilitaAE?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(je,{key:0,modelValue:Te.campos.prescricao.dioptria.oe.medio.adicao,"onUpdate:modelValue":[o[21]||(o[21]=e=>Te.campos.prescricao.dioptria.oe.medio.adicao=e),ke.calcularAE],disable:!Te.habilitaMedio,readonly:!Te.habilitaMedio,min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","disable","readonly","onUpdate:modelValue"])),Te.habilitaAE?((0,a.openBlock)(),(0,a.createBlock)(je,{key:1,modelValue:Te.campos.prescricao.dioptria.oe.medio.esferico,"onUpdate:modelValue":[o[22]||(o[22]=e=>Te.campos.prescricao.dioptria.oe.medio.esferico=e),ke.calcularAE],disable:!Te.habilitaMedio,readonly:!Te.habilitaMedio,min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","disable","readonly","onUpdate:modelValue"])):(0,a.createCommentVNode)("",!0)])),Te.confirmaHabilitaPerto?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",G,[(0,a.createVNode)(je,{modelValue:Te.campos.prescricao.dioptria.oe.medio.dnp,"onUpdate:modelValue":o[23]||(o[23]=e=>Te.campos.prescricao.dioptria.oe.medio.dnp=e),disable:!Te.habilitaMedio,readonly:!Te.habilitaMedio,min:"0",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue","disable","readonly"])]))])),_:1})])])),_:1})])),(0,a.createElementVNode)("div",H,[(0,a.createVNode)(Ue,{class:"no-shadow rounded-borders"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Fe,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(qe,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(je,{modelValue:Te.habilitaPerto,"onUpdate:modelValue":[o[24]||(o[24]=e=>Te.habilitaPerto=e),o[25]||(o[25]=e=>ke.zerarCamposLongeMedio())],tipo:"logico",rotulo:"Perto"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.createElementVNode)("div",J,[(0,a.createVNode)($e,{class:"items-end q-col-gutter-md"},{default:(0,a.withCtx)((()=>[Y,Te.habilitaPerto?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",X,[Te.habilitaAE?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("label",W,"Adição")),Te.habilitaAE?((0,a.openBlock)(),(0,a.createElementBlock)("label",K,"Esférico")):(0,a.createCommentVNode)("",!0)])),Te.habilitaPerto?((0,a.openBlock)(),(0,a.createElementBlock)("div",ee,oe)):(0,a.createCommentVNode)("",!0),Te.habilitaPerto?((0,a.openBlock)(),(0,a.createElementBlock)("div",te,ae)):(0,a.createCommentVNode)("",!0),Te.habilitaPerto?((0,a.openBlock)(),(0,a.createElementBlock)("div",ie,re)):(0,a.createCommentVNode)("",!0),le])),_:1}),(0,a.createVNode)($e,{class:"items-end q-col-gutter-md"},{default:(0,a.withCtx)((()=>[se,(0,a.createElementVNode)("div",ne,[Te.habilitaAE||Te.habilitaPerto?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(je,{key:0,modelValue:Te.campos.prescricao.dioptria.od.perto.adicao,"onUpdate:modelValue":[o[26]||(o[26]=e=>Te.campos.prescricao.dioptria.od.perto.adicao=e),ke.calcularAE],min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:"",onBlur:o[27]||(o[27]=e=>ke.calcularDnpPerto("direito")),permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])),Te.habilitaAE||Te.habilitaPerto?((0,a.openBlock)(),(0,a.createBlock)(je,{key:1,modelValue:Te.campos.prescricao.dioptria.od.perto.esferico,"onUpdate:modelValue":[o[28]||(o[28]=e=>Te.campos.prescricao.dioptria.od.perto.esferico=e),ke.calcularAE],min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:"",onBlur:o[29]||(o[29]=e=>ke.calcularDnpPerto("direito")),permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])):(0,a.createCommentVNode)("",!0)]),Te.habilitaPerto?((0,a.openBlock)(),(0,a.createElementBlock)("div",ce,[(0,a.createVNode)(je,{modelValue:Te.campos.prescricao.dioptria.od.perto.cilindrico,"onUpdate:modelValue":o[30]||(o[30]=e=>Te.campos.prescricao.dioptria.od.perto.cilindrico=e),aviso:Te.campos.prescricao.dioptria.od.perto.cilindrico<-8||Te.campos.prescricao.dioptria.od.perto.cilindrico>0,avisoRotulo:"Cilindrico está fora do comum '0 a -8'.",min:"-10",max:"10",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","aviso"])])):(0,a.createCommentVNode)("",!0),Te.habilitaPerto?((0,a.openBlock)(),(0,a.createElementBlock)("div",de,[(0,a.createVNode)(je,{modelValue:Te.campos.prescricao.dioptria.od.perto.eixo,"onUpdate:modelValue":o[31]||(o[31]=e=>Te.campos.prescricao.dioptria.od.perto.eixo=e),readonly:0==Te.campos.prescricao.dioptria.od.perto.cilindrico,disable:0==Te.campos.prescricao.dioptria.od.perto.cilindrico,min:"0",max:"180",tipo:"decimal",decimals:"0",permiteNull:""},null,8,["modelValue","readonly","disable"])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",me,[(0,a.createVNode)(je,{modelValue:Te.campos.prescricao.dioptria.od.perto.dnp,"onUpdate:modelValue":o[32]||(o[32]=e=>Te.campos.prescricao.dioptria.od.perto.dnp=e),min:"0",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue"])])])),_:1}),(0,a.createVNode)($e,{class:"items-end q-col-gutter-md"},{default:(0,a.withCtx)((()=>[ue,(0,a.createElementVNode)("div",pe,[Te.habilitaAE||Te.habilitaPerto?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(je,{key:0,modelValue:Te.campos.prescricao.dioptria.oe.perto.adicao,"onUpdate:modelValue":[o[33]||(o[33]=e=>Te.campos.prescricao.dioptria.oe.perto.adicao=e),ke.calcularAE],min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:"",onBlur:o[34]||(o[34]=e=>ke.calcularDnpPerto("esquerdo")),permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])),Te.habilitaAE||Te.habilitaPerto?((0,a.openBlock)(),(0,a.createBlock)(je,{key:1,modelValue:Te.campos.prescricao.dioptria.oe.perto.esferico,"onUpdate:modelValue":[o[35]||(o[35]=e=>Te.campos.prescricao.dioptria.oe.perto.esferico=e),ke.calcularAE],min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:"",onBlur:o[36]||(o[36]=e=>ke.calcularDnpPerto("esquerdo")),permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])):(0,a.createCommentVNode)("",!0)]),Te.habilitaPerto?((0,a.openBlock)(),(0,a.createElementBlock)("div",he,[(0,a.createVNode)(je,{modelValue:Te.campos.prescricao.dioptria.oe.perto.cilindrico,"onUpdate:modelValue":o[37]||(o[37]=e=>Te.campos.prescricao.dioptria.oe.perto.cilindrico=e),aviso:Te.campos.prescricao.dioptria.oe.perto.cilindrico<-8||Te.campos.prescricao.dioptria.oe.perto.cilindrico>0,avisoRotulo:"Cilindrico está fora do comum '0 a -8'.",min:"-10",max:"10",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","aviso"])])):(0,a.createCommentVNode)("",!0),Te.habilitaPerto?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ce,[(0,a.createVNode)(je,{modelValue:Te.campos.prescricao.dioptria.oe.perto.eixo,"onUpdate:modelValue":o[38]||(o[38]=e=>Te.campos.prescricao.dioptria.oe.perto.eixo=e),readonly:0==Te.campos.prescricao.dioptria.oe.perto.cilindrico,disable:0==Te.campos.prescricao.dioptria.oe.perto.cilindrico,min:"0",max:"180",tipo:"decimal",decimals:"0",permiteNull:""},null,8,["modelValue","readonly","disable"])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",ve,[(0,a.createVNode)(je,{modelValue:Te.campos.prescricao.dioptria.oe.perto.dnp,"onUpdate:modelValue":o[39]||(o[39]=e=>Te.campos.prescricao.dioptria.oe.perto.dnp=e),min:"0",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue"])])])),_:1})])])),_:1})])])),_:1}),(0,a.createVNode)($e,{class:"items-center q-col-gutter-md q-mb-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",fe,[(0,a.createVNode)(De,{color:"primary",icon:"content_copy",label:"Copiar OD > OE",unelevated:"",onClick:ke.copiarODDioptria},null,8,["onClick"])])])),_:1})])),_:1}),(0,a.createVNode)(Re,{name:"prisma",class:"bg-light q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)($e,{class:"items-center q-col-gutter-md q-mb-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Ne,[(0,a.createVNode)(Ue,{class:"no-shadow rounded-borders q-mb-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Ve,[(0,a.createVNode)($e,{class:"items-end q-col-gutter-md"},{default:(0,a.withCtx)((()=>[ge,(0,a.createElementVNode)("div",xe,[(0,a.createVNode)(je,{modelValue:Te.campos.prescricao.prisma.od.valor,"onUpdate:modelValue":o[40]||(o[40]=e=>Te.campos.prescricao.prisma.od.valor=e),rotulo:"Prisma",min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue"])]),(0,a.createElementVNode)("div",be,[(0,a.createVNode)(je,{modelValue:Te.campos.prescricao.prisma.od.base,"onUpdate:modelValue":o[41]||(o[41]=e=>Te.campos.prescricao.prisma.od.base=e),rotulo:"Base",tipo:"seletor",opcoes:["Nasal","Temporal","Superior","Inferior"]},null,8,["modelValue"])])])),_:1})])])),_:1})]),(0,a.createElementVNode)("div",we,[(0,a.createVNode)(De,{color:"primary",unelevated:"",icon:"content_copy",label:"Copiar OD > OE",onClick:ke.copiarODPrisma,class:"'q-my-none'"},null,8,["onClick"])]),(0,a.createElementVNode)("div",_e,[(0,a.createVNode)(Ue,{class:"no-shadow rounded-borders q-mb-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ye,[(0,a.createVNode)($e,{class:"items-end q-col-gutter-md"},{default:(0,a.withCtx)((()=>[Ie,(0,a.createElementVNode)("div",Ee,[(0,a.createVNode)(je,{modelValue:Te.campos.prescricao.prisma.oe.valor,"onUpdate:modelValue":o[42]||(o[42]=e=>Te.campos.prescricao.prisma.oe.valor=e),rotulo:"Prisma",min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Se,[(0,a.createVNode)(je,{modelValue:Te.campos.prescricao.prisma.oe.base,"onUpdate:modelValue":o[43]||(o[43]=e=>Te.campos.prescricao.prisma.oe.base=e),rotulo:"Base",tipo:"seletor",opcoes:["Nasal","Temporal","Superior","Inferior"]},null,8,["modelValue"])])])),_:1})])])),_:1})])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])])),_:1})],32)])),_:1}),(0,a.createVNode)(Ye,{ref:"modalDependente","cpf-cnpj":"","data-nascimento":"","msg-erro":"Ocorreu um erro ao incluir o paciente.","msg-sucesso":"Paciente incluído com sucesso.",titulo:"Incluir Paciente",observacao:""},null,512),(0,a.createVNode)(Ye,{ref:"modalMedico","msg-erro":"Ocorreu um erro ao incluir o médico.","msg-sucesso":"Médico incluído com sucesso.",numeroDocumentoMunicipal:"CRM",titulo:"Incluir Médico"},null,512)])),_:1},8,["modelValue"])}]]);eo()(qe,"components",{QDialog:Pe.Z,QLayout:Ae.Z,QHeader:Be.Z,QToolbar:Le.Z,QBtn:Oe.Z,QToolbarTitle:ze.Z,QPageContainer:je.Z,QCard:$e.Z,QSelect:Ue.Z,QTooltip:Ze.Z,QItem:Qe.Z,QItemSection:Re.Z,QItemLabel:Ge.Z,QTabs:He.Z,QTab:Je.Z,QTabPanels:Ye.Z,QTabPanel:Xe.Z}),eo()(qe,"directives",{ClosePopup:We.Z})},14285:(e,o,t)=>{"use strict";t.d(o,{Z:()=>g});var a=t(34182);const i=(0,a.createTextVNode)(" Resultado não encontrado "),r={class:"text-h6"},l={class:"col-12 flex justify-end"},s={data(){return{value:"",valueTmp:"",values:[],options:[],hint:"",rules:{add:[e=>""!==(e||"").trim()||"Campo obrigatório",async e=>(await this.getOptions(),!this.values.find((o=>o.toLowerCase()===e.toLowerCase()))||`${this.label||"Valor"} já existente`)],value:this.required?[e=>""!==e||"Campo obrigatório"]:[]},addDialog:!1}},emits:["update:modelValue"],methods:{showAddDialog(){this.valueTmp="",this.addDialog=!0},add(){this.select(this.valueTmp),this.values.push(this.value),this.values.sort(((e,o)=>$utils.removerAcentos(e.toLowerCase())<$utils.removerAcentos(o.toLowerCase())?-1:1)),this.options=this.values,this.addDialog=!1},async search(e,o){await this.getOptions(),setTimeout((()=>{o((()=>{if(e||(this.options=this.values),e){const o=$utils.removerAcentos(e).toLowerCase().replace(/\s+/," ").trim().split(" ");this.options=this.values.filter((e=>{let t=$utils.removerAcentos(e).toLowerCase().replace(/\s+/," ").trim();for(const e of o)if(!~t.indexOf(e))return!1;return!0}))}}))}),500)},select(e,o){this.value=e,this.$emit("update:modelValue",e)},async getOptions(){return this.loadingOptions?(this.loadingOptions.then((()=>{if(!this.lastItemCached||!$db.item.itens.length)return;const e=$db.item.itens[$db.item.itens.length-1],o=(e[this.campo]||"").trim();if(e.id!==this.lastItemCached.id||(this.lastItemCached[this.campo]||"").trim()!==o){const e=this.values.find((e=>$utils.removerAcentos(e.toLowerCase())===$utils.removerAcentos(o.toLowerCase())));if(!o||e)return;this.values.push(o)}})),this.loadingOptions):(this.loadingOptions=new Promise((async(e,o)=>{try{if("item"===this.tabela){await $db.item.carregarMemoria(),$db.item.itens.length&&(this.lastItemCached=$db.item.itens[$db.item.itens.length-1]);for(const e of $db.item.itens){const o=(e[this.campo]||"").trim();o&&this.values.push(o)}}if("contato"===this.tabela){await $db.contatoBusca.inicializar();for(const e in $db.contatoBusca.novoContatos){const o=($db.contatoBusca.novoContatos[e][this.campo]||"").trim(),t=this.values.find((e=>$utils.removerAcentos(e.toLowerCase())===$utils.removerAcentos(o.toLowerCase())));o&&!t&&this.values.push(o)}}if(!~["contato","item"].indexOf(this.tabela)){let e,o;o=1e4,e=await $erp()[this.tabela].count();for(let t=0;t<e;t+=o)await $erp()[this.tabela].offset(t).limit(o).each((e=>{const o=(e[this.campo]||"").trim(),t=this.values.find((e=>$utils.removerAcentos(e.toLowerCase())===$utils.removerAcentos(o.toLowerCase())));o&&!t&&this.values.push(o)}))}this.values=Array.from(new Set(this.values)),this.values.sort(((e,o)=>$utils.removerAcentos(e.toLowerCase())<$utils.removerAcentos(o.toLowerCase())?-1:1)),this.options=this.values,e()}catch(e){o(e)}})),this.loadingOptions)}},props:{campo:{type:String,required:!0},tabela:{type:String,required:!0},label:{type:String},maxLength:{type:[Number,String],default:50},modelValue:{type:String},required:Boolean,enableAdd:Boolean},watch:{modelValue(){this.value=this.modelValue}},created(){this.value=this.modelValue}};var n=t(74260),c=t(40320),d=t(76210),m=t(77953),u=t(60880),p=t(39341),h=t(83054),C=t(782),v=t(46229),f=t(98586),N=t(7518),V=t.n(N);const g=(0,n.Z)(s,[["render",function(e,o,t,s,n,c){const d=(0,a.resolveComponent)("q-btn"),m=(0,a.resolveComponent)("q-item-section"),u=(0,a.resolveComponent)("q-item"),p=(0,a.resolveComponent)("q-select"),h=(0,a.resolveComponent)("q-card-section"),C=(0,a.resolveComponent)("campo"),v=(0,a.resolveComponent)("q-form"),f=(0,a.resolveComponent)("q-card"),N=(0,a.resolveComponent)("q-dialog"),V=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(p,{ref:"select","model-value":n.value,clearable:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",dense:"",label:t.label,options:n.options,onFilter:c.search,"onUpdate:modelValue":c.select,onClear:o[0]||(o[0]=e=>c.select("")),hint:n.hint,rules:n.rules.value},{append:(0,a.withCtx)((()=>[t.enableAdd?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,color:"tertiary",size:"md",icon:"add_circle",dense:"",flat:"",round:"",onClick:(0,a.withModifiers)(c.showAddDialog,["stop"])},null,8,["onClick"])):(0,a.createCommentVNode)("",!0)])),"no-option":(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"text-grey"},{default:(0,a.withCtx)((()=>[i])),_:1})])),_:1})])),_:1},8,["model-value","label","options","onFilter","onUpdate:modelValue","hint","rules"]),(0,a.createVNode)(N,{modelValue:n.addDialog,"onUpdate:modelValue":o[2]||(o[2]=e=>n.addDialog=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",r,(0,a.toDisplayString)(t.label),1)])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{class:"row q-pr-md q-gutter-md",onSubmit:c.add},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{modelValue:n.valueTmp,"onUpdate:modelValue":o[1]||(o[1]=e=>n.valueTmp=e),modelModifiers:{trim:!0},class:"col-12",rules:n.rules.add,maxlength:t.maxLength,rotulo:t.label},null,8,["modelValue","rules","maxlength","rotulo"]),(0,a.createElementVNode)("div",l,[(0,a.withDirectives)((0,a.createVNode)(d,{flat:"",color:"tertiary",label:"Cancelar"},null,512),[[V]]),(0,a.createVNode)(d,{unelevated:"",color:"primary",type:"submit",label:"Criar"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}]]);V()(s,"components",{QSelect:c.Z,QBtn:d.Z,QItem:m.Z,QItemSection:u.Z,QDialog:p.Z,QCard:h.Z,QCardSection:C.Z,QForm:v.Z}),V()(s,"directives",{ClosePopup:f.Z})},91240:(e,o,t)=>{"use strict";t.d(o,{Z:()=>n});var a=t(34182),i=t(70154);const r=[{cest:"01.001.00",ncmsh:"38151210;38151290",descricao:"Catalisadores em colmeia cerâmica ou metálica para conversão catalítica de gases de escape de veículos e outros catalisadores"},{cest:"01.002.00",ncmsh:"3917",descricao:"Tubos e seus acessórios (por exemplo, juntas, cotovelos, flanges, uniões), de plásticos"},{cest:"01.003.00",ncmsh:"39181000",descricao:"Protetores de caçamba"},{cest:"01.004.00",ncmsh:"39233000",descricao:"Reservatórios de óleo"},{cest:"01.005.00",ncmsh:"39263000",descricao:"Frisos, decalques, molduras e acabamentos"},{cest:"01.006.00",ncmsh:"40103;59100000",descricao:"Correias de transmissão de borracha vulcanizada, de matérias têxteis, mesmo impregnadas, revestidas ou recobertas, de plástico, ou estratificadas com plástico ou reforçadas com metal ou com outras matérias"},{cest:"01.007.00",ncmsh:"40169300;4823909",descricao:"Juntas, gaxetas e outros elementos com função semelhante de vedação"},{cest:"01.008.00",ncmsh:"40161010",descricao:"Partes de veículos automóveis, tratores e máquinas autopropulsadas"},{cest:"01.009.00",ncmsh:"40169990;57050000",descricao:"Tapetes, revestimentos, mesmo confeccionados, batentes, buchas e coxins"},{cest:"01.010.00",ncmsh:"59039000",descricao:"Tecidos impregnados, revestidos, recobertos ou estratificados, com plástico"},{cest:"01.011.00",ncmsh:"59090000",descricao:"Mangueiras e tubos semelhantes, de matérias têxteis, mesmo com reforço ou acessórios de outras matérias"},{cest:"01.012.00",ncmsh:"63061",descricao:"Encerados e toldos"},{cest:"01.013.00",ncmsh:"65061000",descricao:"Capacetes e artefatos de uso semelhante, de proteção, para uso em motocicletas, incluídos ciclomotores"},{cest:"01.014.00",ncmsh:"6813",descricao:"Guarnições de fricção (por exemplo, placas, rolos, tiras, segmentos, discos, anéis, pastilhas), não montadas, para freios, embreagens ou qualquer outro mecanismo de fricção, à base de amianto, de outras substâncias minerais ou de celulose, mesmo combinadas com têxteis ou outras matérias"},{cest:"01.015.00",ncmsh:"70071100;70072100",descricao:"Vidros de dimensões e formatos que permitam aplicação automotiva"},{cest:"01.016.00",ncmsh:"70091000",descricao:"Espelhos retrovisores"},{cest:"01.017.00",ncmsh:"70140000",descricao:"Lentes de faróis, lanternas e outros utensílios"},{cest:"01.018.00",ncmsh:"73110000",descricao:"Cilindro de aço para GNV (gás natural veicular)"},{cest:"01.019.00",ncmsh:"73110000",descricao:"Recipientes para gases comprimidos ou liquefeitos, de ferro fundido, ferro ou aço, exceto o descrito no item 18.0"},{cest:"01.020.00",ncmsh:"7320",descricao:"Molas e folhas de molas, de ferro ou aço"},{cest:"01.021.00",ncmsh:"7325",descricao:"Obras moldadas, de ferro fundido, ferro ou aço, exceto as do código 7325.91.00"},{cest:"01.022.00",ncmsh:"780600",descricao:"Peso de chumbo para balanceamento de roda"},{cest:"01.023.00",ncmsh:"80070090",descricao:"Peso para balanceamento de roda e outros utensílios de estanho"},{cest:"01.024.00",ncmsh:"830120;830160",descricao:"Fechaduras e partes de fechaduras"},{cest:"01.025.00",ncmsh:"830170",descricao:"Chaves apresentadas isoladamente"},{cest:"01.026.00",ncmsh:"83021000;83023000",descricao:"Dobradiças, guarnições, ferragens e artigos semelhantes de metais comuns"},{cest:"01.027.00",ncmsh:"831000",descricao:"Triângulo de segurança"},{cest:"01.028.00",ncmsh:"84073",descricao:"Motores de pistão alternativo dos tipos utilizados para propulsão de veículos do Capítulo 87"},{cest:"01.029.00",ncmsh:"840820",descricao:"Motores dos tipos utilizados para propulsão de veículos automotores"},{cest:"01.030.00",ncmsh:"84099",descricao:"Partes reconhecíveis como exclusiva ou principalmente destinadas aos motores das posições 8407 ou 8408"},{cest:"01.031.00",ncmsh:"84122",descricao:"Motores hidráulicos"},{cest:"01.032.00",ncmsh:"841330",descricao:"Bombas para combustíveis, lubrificantes ou líquidos de arrefecimento, próprias para motores de ignição por centelha ou por compressão"},{cest:"01.033.00",ncmsh:"84141000",descricao:"Bombas de vácuo"},{cest:"01.034.00",ncmsh:"8414801;8414802",descricao:"Compressores e turbocompressores de ar"},{cest:"01.035.00",ncmsh:"84139190;84149010;8414903;84149039",descricao:"Partes das bombas, compressores e turbocompressores dos CEST 01.032.00, 01.033.00 e 01.034.00"},{cest:"01.036.00",ncmsh:"841520",descricao:"Máquinas e aparelhos de ar condicionado"},{cest:"01.037.00",ncmsh:"84212300",descricao:"Aparelhos para filtrar óleos minerais nos motores de ignição por centelha ou por compressão"},{cest:"01.038.00",ncmsh:"84212990",descricao:"Filtros a vácuo"},{cest:"01.039.00",ncmsh:"84219",descricao:"Partes dos aparelhos para filtrar ou depurar líquidos ou gases"},{cest:"01.040.00",ncmsh:"84241000",descricao:"Extintores, mesmo carregados"},{cest:"01.041.00",ncmsh:"84213100",descricao:"Filtros de entrada de ar para motores de ignição por centelha ou por compressão"},{cest:"01.042.00",ncmsh:"84213920",descricao:"Depuradores por conversão catalítica de gases de escape"},{cest:"01.043.00",ncmsh:"84254200",descricao:"Macacos"},{cest:"01.044.00",ncmsh:"84311010",descricao:"Partes para macacos do CEST 01.043.00"},{cest:"01.045.00",ncmsh:"8431492",descricao:"Partes reconhecíveis como exclusiva ou principalmente destinadas às máquinas agrícolas ou rodoviárias"},{cest:"01.045.01",ncmsh:"84339090",descricao:"Partes reconhecíveis como exclusiva ou principalmente destinadas às máquinas agrícolas ou rodoviárias"},{cest:"01.046.00",ncmsh:"84811000",descricao:"Válvulas redutoras de pressão"},{cest:"01.047.00",ncmsh:"84812",descricao:"Válvulas para transmissão óleo-hidráulicas ou pneumáticas"},{cest:"01.048.00",ncmsh:"84818092",descricao:"Válvulas solenoides"},{cest:"01.049.00",ncmsh:"8482",descricao:"Rolamentos"},{cest:"01.050.00",ncmsh:"8483",descricao:"Árvores de transmissão (incluídas as árvores de “cames” e virabrequins) e manivelas; mancais e “bronzes”; engrenagens e rodas de fricção; eixos de esferas ou de roletes; redutores, multiplicadores, caixas de transmissão e variadores de velocidade, incluídos os conversores de torque; volantes e polias, incluídas as polias para cadernais; embreagens e dispositivos de acoplamento, incluídas as juntas de articulação"},{cest:"01.051.00",ncmsh:"8484",descricao:"Juntas metaloplásticas; jogos ou sortidos de juntas de composições diferentes, apresentados em bolsas, envelopes ou embalagens semelhantes; juntas de vedação mecânicas (selos mecânicos)"},{cest:"01.052.00",ncmsh:"850520",descricao:"Acoplamentos, embreagens, variadores de velocidade e freios, eletromagnéticos"},{cest:"01.053.00",ncmsh:"850710",descricao:"Acumuladores elétricos de chumbo, do tipo utilizado para o arranque dos motores de pistão, exceto os classificados no CEST 01.053.01"},{cest:"01.053.01",ncmsh:"85071010",descricao:"Acumuladores elétricos de chumbo, do tipo utilizado para o arranque dos motores de pistão e de capacidade inferior ou igual a 20 Ah e tensão inferior ou igual a 12 V"},{cest:"01.054.00",ncmsh:"8511",descricao:"Aparelhos e dispositivos elétricos de ignição ou de arranque para motores de ignição por centelha ou por compressão (por exemplo, magnetos, dínamos-magnetos, bobinas de ignição, velas de ignição ou de aquecimento, motores de arranque); geradores (dínamos e alternadores, por exemplo) e conjuntores-disjuntores utilizados com estes motores"},{cest:"01.055.00",ncmsh:"851220;851240;85129000",descricao:"Aparelhos elétricos de iluminação ou de sinalização (exceto os da posição 8539), limpadores de para-brisas, degeladores e desembaçadores (desembaciadores) elétricos e suas partes"},{cest:"01.056.00",ncmsh:"85171213",descricao:"Telefones móveis do tipo dos utilizados em veículos automóveis."},{cest:"01.057.00",ncmsh:"8518",descricao:"Alto-falantes, amplificadores elétricos de audiofrequência e partes"},{cest:"01.058.00",ncmsh:"85185000",descricao:"Aparelhos elétricos de amplificação de som para veículos automotores"},{cest:"01.059.00",ncmsh:"851981",descricao:"Aparelhos de reprodução de som"},{cest:"01.060.00",ncmsh:"8525501;85256010",descricao:"Aparelhos transmissores (emissores) de radiotelefonia ou radiotelegrafia (rádio receptor/transmissor)"},{cest:"01.061.00",ncmsh:"85272100",descricao:"Aparelhos receptores de radiodifusão que só funcionem com fonte externa de energia combinados com um aparelho de gravação ou de reprodução de som, do tipo utilizado em veículos automóveis"},{cest:"01.062.00",ncmsh:"85272900",descricao:"Outros aparelhos receptores de radiodifusão que só funcionem com fonte externa de energia, do tipo utilizado em veículos automóveis"},{cest:"01.062.01",ncmsh:"85219090",descricao:"Outros aparelhos videofônicos de gravação ou de reprodução, mesmo incorporando um receptor de sinais videofônicos, dos tipos utilizados exclusivamente em veículos automotores"},{cest:"01.063.00",ncmsh:"85291090",descricao:"Antenas"},{cest:"01.064.00",ncmsh:"853400",descricao:"Circuitos impressos"},{cest:"01.065.00",ncmsh:"853530;853650",descricao:"Interruptores e seccionadores e comutadores"},{cest:"01.066.00",ncmsh:"85361000",descricao:"Fusíveis e corta-circuitos de fusíveis"},{cest:"01.067.00",ncmsh:"85362000",descricao:"Disjuntores"},{cest:"01.068.00",ncmsh:"85364",descricao:"Relés"},{cest:"01.069.00",ncmsh:"8538",descricao:"Partes reconhecíveis como exclusivas ou principalmente destinados aos aparelhos dos CEST 01.065.00, 01.066.00, 01.067.00 e 01.068.00"},{cest:"01.070.00",ncmsh:"853910",descricao:"Faróis e projetores, em unidades seladas"},{cest:"01.071.00",ncmsh:"85392",descricao:"Lâmpadas e tubos de incandescência, exceto de raios ultravioleta ou infravermelhos"},{cest:"01.072.00",ncmsh:"85442000",descricao:"Cabos coaxiais e outros condutores elétricos coaxiais"},{cest:"01.073.00",ncmsh:"85443000",descricao:"Jogos de fios para velas de ignição e outros jogos de fios"},{cest:"01.074.00",ncmsh:"8707",descricao:"Carroçarias para os veículos automóveis das posições 8701 a 8705, incluídas as cabinas"},{cest:"01.075.00",ncmsh:"8708",descricao:"Partes e acessórios dos veículos automóveis das posições 8701 a 8705"},{cest:"01.076.00",ncmsh:"87141",descricao:"Parte e acessórios de motocicletas (incluídos os ciclomotores)"},{cest:"01.077.00",ncmsh:"87169090",descricao:"Engates para reboques e semirreboques"},{cest:"01.078.00",ncmsh:"902610",descricao:"Medidores de nível; Medidores de vazão"},{cest:"01.079.00",ncmsh:"902620",descricao:"Aparelhos para medida ou controle da pressão"},{cest:"01.080.00",ncmsh:"9029",descricao:"Contadores, indicadores de velocidade e tacômetros, suas partes e acessórios"},{cest:"01.081.00",ncmsh:"90303321",descricao:"Amperímetros"},{cest:"01.082.00",ncmsh:"90318040",descricao:"Aparelhos digitais, de uso em veículos automóveis, para medida e indicação de múltiplas grandezas tais como: velocidade média, consumos instantâneo e médio e autonomia (computador de bordo)"},{cest:"01.083.00",ncmsh:"9032892",descricao:"Controladores eletrônicos"},{cest:"01.084.00",ncmsh:"91040000",descricao:"Relógios para painéis de instrumentos e relógios semelhantes"},{cest:"01.085.00",ncmsh:"94012000;94019090",descricao:"Assentos e partes de assentos"},{cest:"01.086.00",ncmsh:"96138000",descricao:"Acendedores"},{cest:"01.087.00",ncmsh:"4009",descricao:"Tubos de borracha vulcanizada não endurecida, mesmo providos de seus acessórios"},{cest:"01.088.00",ncmsh:"45049000;68129910",descricao:"Juntas de vedação de cortiça natural e de amianto"},{cest:"01.089.00",ncmsh:"48234000",descricao:"Papel-diagrama para tacógrafo, em disco"},{cest:"01.090.00",ncmsh:"39191000;39199000;87082999",descricao:"Fitas, tiras, adesivos, autocolantes, de plástico, refletores, mesmo em rolos; placas metálicas com película de plástico refletora, próprias para colocação em carrocerias, para-choques de veículos de carga, motocicletas, ciclomotores, capacetes, bonés de agentes de trânsito e de condutores de veículos, atuando como dispositivos refletivos de segurança rodoviários"},{cest:"01.091.00",ncmsh:"84123110",descricao:"Cilindros pneumáticos"},{cest:"01.092.00",ncmsh:"84131900;84135090;84138100",descricao:"Bomba elétrica de lavador de para-brisa"},{cest:"01.093.00",ncmsh:"84136019;84137010",descricao:"Bomba de assistência de direção hidráulica"},{cest:"01.094.00",ncmsh:"84145910;84145990",descricao:"Motoventiladores"},{cest:"01.095.00",ncmsh:"84213990",descricao:"Filtros de pólen do ar-condicionado"},{cest:"01.096.00",ncmsh:"85011019",descricao:"“Máquina” de vidro elétrico de porta"},{cest:"01.097.00",ncmsh:"85013110",descricao:"Motor de limpador de para-brisa"},{cest:"01.098.00",ncmsh:"85045000",descricao:"Bobinas de reatância e de autoindução"},{cest:"01.099.00",ncmsh:"850720;850730",descricao:"Baterias de chumbo e de níquel-cádmio"},{cest:"01.100.00",ncmsh:"85123000",descricao:"Aparelhos de sinalização acústica (buzina)"},{cest:"01.101.00",ncmsh:"9032898;9032899",descricao:"Instrumentos para regulação de grandezas não elétricas"},{cest:"01.102.00",ncmsh:"90271000",descricao:"Analisadores de gases ou de fumaça (sonda lambda)"},{cest:"01.103.00",ncmsh:"40081100",descricao:"Perfilados de borracha vulcanizada não endurecida"},{cest:"01.104.00",ncmsh:"56012219",descricao:"Artefatos de pasta de fibra de uso automotivo"},{cest:"01.105.00",ncmsh:"57032000",descricao:"Tapetes/carpetes - nailón"},{cest:"01.106.00",ncmsh:"57033000",descricao:"Tapetes de matérias têxteis sintéticas"},{cest:"01.107.00",ncmsh:"59119000",descricao:"Forração interior capacete"},{cest:"01.108.00",ncmsh:"69039099",descricao:"Outros para-brisas"},{cest:"01.109.00",ncmsh:"70072900",descricao:"Moldura com espelho"},{cest:"01.110.00",ncmsh:"73145000",descricao:"REVOGADO"},{cest:"01.111.00",ncmsh:"73151100",descricao:"Corrente transmissão"},{cest:"01.112.00",ncmsh:"73151210",descricao:"Outras correntes de transmissão"},{cest:"01.113.00",ncmsh:"84189900",descricao:"Condensador tubular metálico"},{cest:"01.114.00",ncmsh:"841950",descricao:"Trocadores de calor"},{cest:"01.115.00",ncmsh:"84249090",descricao:"Partes de aparelhos mecânicos de pulverizar ou dispersar"},{cest:"01.116.00",ncmsh:"84254910",descricao:"Macacos manuais para veículos"},{cest:"01.117.00",ncmsh:"84314100",descricao:"Caçambas, pás, ganchos e tenazes para máquinas rodoviárias"},{cest:"01.118.00",ncmsh:"85016100",descricao:"Geradores de corrente alternada de potência não superior a 75 kva"},{cest:"01.119.00",ncmsh:"85311090",descricao:"Aparelhos elétricos para alarme de uso automotivo"},{cest:"01.120.00",ncmsh:"90141000",descricao:"Bússolas"},{cest:"01.121.00",ncmsh:"90251990",descricao:"Indicadores de temperatura"},{cest:"01.122.00",ncmsh:"90259010",descricao:"Partes de indicadores de temperatura"},{cest:"01.123.00",ncmsh:"902690",descricao:"Partes de aparelhos de medida ou controle"},{cest:"01.124.00",ncmsh:"90321010",descricao:"Termostatos"},{cest:"01.125.00",ncmsh:"90321090",descricao:"Instrumentos e aparelhos para regulação"},{cest:"01.126.00",ncmsh:"90322000",descricao:"Pressostatos"},{cest:"01.127.00",ncmsh:"871690",descricao:"Peças para reboques e semirreboques, exceto os itens classificados no CEST 01.077.00"},{cest:"01.128.00",ncmsh:"73229010",descricao:"Geradores de ar quente a combustível líquido, com capacidade superior ou igual a 1.500 kcal/h, mas inferior ou igual a 10.400 kcal/h, do tipo dos utilizados em veículos automóveis"},{cest:"02.001.00",ncmsh:"2205;22089000",descricao:"Aperitivos, amargos, bitter e similares"},{cest:"02.002.00",ncmsh:"22089000",descricao:"Batida e similares"},{cest:"02.003.00",ncmsh:"22089000",descricao:"Bebida ice"},{cest:"02.004.00",ncmsh:"220720;22084000",descricao:"Cachaça e aguardentes"},{cest:"02.005.00",ncmsh:"2205;22060090;22089000",descricao:"Catuaba e similares"},{cest:"02.006.00",ncmsh:"22082000",descricao:"Conhaque, brandy e similares"},{cest:"02.007.00",ncmsh:"22060090;22089000",descricao:"Cooler"},{cest:"02.008.00",ncmsh:"22085000",descricao:"Gim (gin) e genebra"},{cest:"02.009.00",ncmsh:"2205;22060090;22089000",descricao:"Jurubeba e similares"},{cest:"02.010.00",ncmsh:"22087000",descricao:"Licores e similares"},{cest:"02.011.00",ncmsh:"22082000",descricao:"Pisco"},{cest:"02.012.00",ncmsh:"22084000",descricao:"Rum"},{cest:"02.013.00",ncmsh:"22060090",descricao:"Saquê"},{cest:"02.014.00",ncmsh:"22089000",descricao:"Steinhaeger"},{cest:"02.015.00",ncmsh:"22089000",descricao:"Tequila"},{cest:"02.016.00",ncmsh:"220830",descricao:"Uísque"},{cest:"02.017.00",ncmsh:"2205",descricao:"Vermute e similares"},{cest:"02.018.00",ncmsh:"22086000",descricao:"Vodka"},{cest:"02.019.00",ncmsh:"22089000",descricao:"Derivados de vodka"},{cest:"02.020.00",ncmsh:"22089000",descricao:"Arak"},{cest:"02.021.00",ncmsh:"22082000",descricao:"Aguardente vínica / grappa"},{cest:"02.022.00",ncmsh:"22060010",descricao:"Sidra e similares"},{cest:"02.023.00",ncmsh:"2205;22060090;22089000",descricao:"Sangrias e coquetéis"},{cest:"02.024.00",ncmsh:"2204",descricao:"Vinhos de uvas frescas, incluindo os vinhos enriquecidos com álcool; mostos de uvas."},{cest:"02.999.00",ncmsh:"2205;2206;2207;2208",descricao:"Outras bebidas alcoólicas não especificadas nos itens anteriores"},{cest:"03.001.00",ncmsh:"22011000",descricao:"Água mineral, gasosa ou não, ou potável, naturais, em garrafa de vidro, retornável ou não, com capacidade de até 500 ml"},{cest:"03.002.00",ncmsh:"22011000",descricao:"Água mineral, gasosa ou não, ou potável, naturais, em embalagem com capacidade igual ou superior a 5.000 ml; exceto as classificadas no CEST 03.024.00 e 03.025.00"},{cest:"03.003.00",ncmsh:"22011000",descricao:"Água mineral, gasosa ou não, ou potável, naturais, em embalagem de vidro, não retornável, com capacidade de até 300 ml"},{cest:"03.004.00",ncmsh:"22011000",descricao:"Água mineral, gasosa ou não, ou potável, naturais, em garrafa plástica de 1.500 ml"},{cest:"03.005.00",ncmsh:"22011000",descricao:"Água mineral, gasosa ou não, ou potável, naturais, em copos plásticos e embalagem plástica com capacidade de até 500 ml"},{cest:"03.006.00",ncmsh:"22011000",descricao:"Outras águas minerais, potáveis ou naturais, gasosas ou não, inclusive gaseificadas; exceto as classificadas no CEST 03.024.00 e 03.025.00"},{cest:"03.007.00",ncmsh:"22021000",descricao:"Águas minerais, potáveis ou naturais, gasosas ou não, inclusive gaseificadas ou aromatizadas artificialmente, exceto os refrescos e refrigerantes"},{cest:"03.008.00",ncmsh:"22029900",descricao:"Outras águas minerais, potáveis ou naturais, gasosas ou não, inclusive gaseificadas ou aromatizadas artificialmente"},{cest:"03.010.00",ncmsh:"2202",descricao:"Refrigerantes em garrafa com capacidade igual ou superior a 600 ml, exceto os classificados no CEST 03.011.01"},{cest:"03.011.00",ncmsh:"2202",descricao:"Demais refrigerantes, exceto os classificados no CEST 03.010.00 e 03.011.01"},{cest:"03.011.01",ncmsh:"2202",descricao:"Espumantes sem álcool"},{cest:"03.012.00",ncmsh:"21069010",descricao:"Xarope ou extrato concentrado destinados ao preparo de refrigerante em máquina “pré-mix” ou “post-mix”"},{cest:"03.013.00",ncmsh:"210690;22029900",descricao:"Bebidas energéticas em embalagem com capacidade inferior a 600ml"},{cest:"03.014.00",ncmsh:"210690;22029900",descricao:"Bebidas energéticas em embalagem com capacidade igual ou superior a 600ml"},{cest:"03.015.00",ncmsh:"210690;22029900",descricao:"Bebidas hidroeletrolíticas (isotônicas) em embalagem com capacidade inferior a 600ml"},{cest:"03.016.00",ncmsh:"210690;22029900",descricao:"Bebidas hidroeletrolíticas (isotônicas) em embalagem com capacidade igual ou superior a 600ml"},{cest:"03.021.00",ncmsh:"22030000",descricao:"Cerveja"},{cest:"03.022.00",ncmsh:"22029100",descricao:"Cerveja sem álcool"},{cest:"03.023.00",ncmsh:"22030000",descricao:"Chope"},{cest:"03.024.00",ncmsh:"22011000",descricao:"Água mineral em embalagens retornáveis com capacidade igual ou superior a 10 (dez) e inferior a 20 (vinte) litros"},{cest:"03.025.00",ncmsh:"22011000",descricao:"Água mineral em embalagens retornáveis com capacidade igual ou superior a 20 (vinte) litros"},{cest:"04.001.00",ncmsh:"2402",descricao:"Charutos, cigarrilhas e cigarros, de tabaco ou dos seus sucedâneos"},{cest:"04.002.00",ncmsh:"24031",descricao:"Tabaco para fumar, mesmo contendo sucedâneos de tabaco em qualquer proporção"},{cest:"05.001.00",ncmsh:"2523",descricao:"Cimento"},{cest:"06.001.00",ncmsh:"22071010",descricao:"Álcool etílico não desnaturado, com um teor alcoólico em volume igual ou superior a 80% vol - Com um teor de água igual ou inferior a 1 % vol (álcool etílico anidro combustível)"},{cest:"06.001.01",ncmsh:"22071090",descricao:"Álcool etílico não desnaturado, com um teor alcoólico em volume igual ou superior a 80% vol - Outros (álcool etílico hidratado combustível)"},{cest:"06.002.00",ncmsh:"27101259",descricao:"Gasolina automotiva A, exceto Premium"},{cest:"06.002.01",ncmsh:"27101259",descricao:"Gasolina automotiva C, exceto Premium"},{cest:"06.002.02",ncmsh:"27101259",descricao:"Gasolina automotiva A Premium"},{cest:"06.002.03",ncmsh:"27101259",descricao:"Gasolina automotiva C Premium"},{cest:"06.003.00",ncmsh:"27101251",descricao:"Gasolina de aviação"},{cest:"06.004.00",ncmsh:"27101919",descricao:"Querosenes, exceto de aviação"},{cest:"06.005.00",ncmsh:"27101911",descricao:"Querosene de aviação"},{cest:"06.006.00",ncmsh:"2710192",descricao:"Óleo diesel A, exceto S10 e Marítimo"},{cest:"06.006.01",ncmsh:"2710192",descricao:"Óleo diesel B, exceto S10 (mistura obrigatória)"},{cest:"06.006.02",ncmsh:"2710192",descricao:"Óleo diesel B, exceto S10 (misturas autorizativas)"},{cest:"06.006.03",ncmsh:"2710192",descricao:"Óleo diesel B, exceto S10 (misturas experimentais)"},{cest:"06.006.04",ncmsh:"2710192",descricao:"Óleo diesel A S10"},{cest:"06.006.05",ncmsh:"2710192",descricao:"Óleo diesel B S10 (mistura obrigatória)"},{cest:"06.006.06",ncmsh:"2710192",descricao:"Óleo diesel B S10 (misturas autorizativas)"},{cest:"06.006.07",ncmsh:"2710192",descricao:"Óleo diesel B S10 (misturas experimentais)"},{cest:"06.006.08",ncmsh:"2710192",descricao:"Óleo Diesel Marítimo"},{cest:"06.006.09",ncmsh:"2710192",descricao:"Outros óleos combustíveis, exceto os classificados no CEST 06.006.10 e 06.006.11"},{cest:"06.006.10",ncmsh:"2710192",descricao:"Óleo combustível derivado de xisto"},{cest:"06.006.11",ncmsh:"27101922",descricao:"Óleo combustível pesado"},{cest:"06.007.00",ncmsh:"2710193",descricao:"Óleos lubrificantes"},{cest:"06.008.00",ncmsh:"2710199",descricao:"Outros óleos de petróleo ou de minerais betuminosos (exceto óleos brutos) e preparações não especificadas nem compreendidas noutras posições, que contenham, como constituintes básicos, 70% ou mais, em peso, de óleos de petróleo ou de minerais betuminosos, exceto os que contenham biodiesel, exceto os resíduos de óleos e exceto as graxas lubrificantes"},{cest:"06.008.01",ncmsh:"2710199",descricao:"Graxa lubrificante"},{cest:"06.009.00",ncmsh:"27109",descricao:"Resíduos de óleos"},{cest:"06.010.00",ncmsh:"2711",descricao:"Gás de petróleo e outros hidrocarbonetos gasosos, exceto GLP, GLGN, Gás Natural e Gás de xisto."},{cest:"06.011.00",ncmsh:"27111910",descricao:"Gás liquefeito de petróleo em botijão de 13 Kg (GLP)"},{cest:"06.011.01",ncmsh:"27111910",descricao:"Gás liquefeito de petróleo (GLP), exceto em botijão de 13 Kg"},{cest:"06.011.02",ncmsh:"27111910",descricao:"Gás liquefeito de petróleo em botijão de 13 Kg (GLGNn)"},{cest:"06.011.03",ncmsh:"27111910",descricao:"Gás liquefeito de petróleo (GLGNn), exceto em botijão de 13 Kg"},{cest:"06.011.04",ncmsh:"27111910",descricao:"Gás liquefeito de petróleo em botijão de 13 Kg (GLGNi)"},{cest:"06.011.05",ncmsh:"27111910",descricao:"Gás liquefeito de petróleo (GLGNi), exceto em botijão de 13 Kg"},{cest:"06.011.06",ncmsh:"27111910",descricao:"Gás liquefeito de petróleo em botijão de 13 kg (Misturas)"},{cest:"06.011.07",ncmsh:"27111910",descricao:"Gás liquefeito de petróleo (Misturas), exceto em botijão de 13 Kg"},{cest:"06.012.00",ncmsh:"27111100",descricao:"Gás Natural Liquefeito"},{cest:"06.013.00",ncmsh:"27112100",descricao:"Gás Natural Gasoso"},{cest:"06.014.00",ncmsh:"27112990",descricao:"Gás de xisto"},{cest:"06.015.00",ncmsh:"2713",descricao:"Coque de petróleo e outros resíduos de óleo de petróleo ou de minerais betuminosos"},{cest:"06.016.00",ncmsh:"38260000",descricao:"Biodiesel e suas misturas, que não contenham ou que contenham menos de 70%, em peso, de óleos de petróleo ou de óleos minerais betuminosos"},{cest:"06.017.00",ncmsh:"3403",descricao:"Preparações lubrificantes, exceto as contendo, como constituintes de base, 70% ou mais, em peso, de óleos de petróleo ou de minerais betuminosos"},{cest:"06.018.00",ncmsh:"27102000",descricao:"Óleos de petróleo ou de minerais betuminosos (exceto óleos brutos) e preparações não especificadas nem compreendidas noutras posições, que contenham, como constituintes básicos, 70% ou mais, em peso, de óleos de petróleo ou de minerais betuminosos, que contenham biodiesel, exceto os resíduos de óleos"},{cest:"07.001.00",ncmsh:"27160000",descricao:"Energia elétrica"},{cest:"08.001.00",ncmsh:"40169990",descricao:"Ferramentas de borracha vulcanizada não endurecida"},{cest:"08.002.00",ncmsh:"44170010;44170090",descricao:"Ferramentas, armações e cabos de ferramentas, de madeira"},{cest:"08.003.00",ncmsh:"6804",descricao:"Mós e artefatos semelhantes, sem armação, para moer, desfibrar, triturar, amolar, polir, retificar ou cortar; pedras para amolar ou para polir, manualmente, e suas partes, de pedras naturais, de abrasivos naturais ou artificiais aglomerados ou de cerâmica, mesmo com partes de outras matérias"},{cest:"08.004.00",ncmsh:"8201",descricao:"Pás, alviões, picaretas, enxadas, sachos, forcados e forquilhas, ancinhos e raspadeiras; machados, podões e ferramentas semelhantes com gume; tesouras de podar de todos os tipos; foices e foicinhas, facas para feno ou para palha, tesouras para sebes, cunhas e outras ferramentas manuais para agricultura, horticultura ou silvicultura"},{cest:"08.005.00",ncmsh:"82022000",descricao:"Folhas de serras de fita"},{cest:"08.006.00",ncmsh:"82029100",descricao:"Lâminas de serras máquinas"},{cest:"08.007.00",ncmsh:"8202",descricao:"Serras manuais e outras folhas de serras (incluídas as fresas-serras e as folhas não dentadas para serrar), exceto as classificadas nos CEST 08.005.00 e 08.006.00"},{cest:"08.008.00",ncmsh:"8203",descricao:"Limas, grosas, alicates (mesmo cortantes), tenazes, pinças, cisalhas para metais, corta-tubos, corta-pinos, saca-bocados e ferramentas semelhantes, manuais, exceto as pinças para sobrancelhas classificadas na posição 8203.20.90"},{cest:"08.009.00",ncmsh:"8204",descricao:"Chaves de porcas, manuais (incluídas as chaves dinamométricas); chaves de caixa intercambiáveis, mesmo com cabos"},{cest:"08.010.00",ncmsh:"8205",descricao:"Ferramentas manuais (incluídos os diamantes de vidraceiro) não especificadas nem compreendidas em outras posições, lamparinas ou lâmpadas de soldar (maçaricos) e semelhantes; tornos de apertar, sargentos e semelhantes, exceto os acessórios ou partes de máquinas-ferramentas; bigornas; forjas-portáteis; mós com armação, manuais ou de pedal"},{cest:"08.011.00",ncmsh:"82060000",descricao:"Ferramentas de pelo menos duas das posições 8202 a 8205, acondicionadas em sortidos para venda a retalho"},{cest:"08.012.00",ncmsh:"820740;820760;820770",descricao:"Ferramentas de roscar interior ou exteriormente; de mandrilar ou de brochar; e de fresar"},{cest:"08.013.00",ncmsh:"8207",descricao:"Outras ferramentas intercambiáveis para ferramentas manuais, mesmo mecânicas, ou para máquinas-ferramentas (por exemplo, de embutir, estampar, puncionar, furar, tornear, aparafusar), incluídas as fieiras de estiragem ou de extrusão, para metais, e as ferramentas de perfuração ou de sondagem, exceto forma ou gabarito de produtos em epoxy e as classificadas no CEST 08.012.00"},{cest:"08.014.00",ncmsh:"8208",descricao:"Facas e lâminas cortantes, para máquinas ou para aparelhos mecânicos"},{cest:"08.015.00",ncmsh:"82090011",descricao:"Plaquetas ou pastilhas intercambiáveis"},{cest:"08.016.00",ncmsh:"820900",descricao:"Outras plaquetas, varetas, pontas e objetos semelhantes para ferramentas, não montados, de ceramais (“cermets”), exceto as classificadas no CEST 08.015.00"},{cest:"08.017.00",ncmsh:"8211",descricao:"Facas de lâmina cortante ou serrilhada, incluídas as podadeiras de lâmina móvel, e suas lâminas, exceto as de uso doméstico"},{cest:"08.018.00",ncmsh:"8213",descricao:"Tesouras e suas lâminas"},{cest:"08.019.00",ncmsh:"8467",descricao:"Ferramentas pneumáticas, hidráulicas ou com motor (elétrico ou não elétrico) incorporado, de uso manual, exceto o descrito no CEST 08.019.01"},{cest:"08.019.01",ncmsh:"84678100",descricao:"Moto-serras portáteis de corrente, com motor incorporado, não elétrico, de uso agrícola"},{cest:"08.020.00",ncmsh:"9015",descricao:"Instrumentos e aparelhos de geodesia, topografia, agrimensura, nivelamento, fotogrametria, hidrografia, oceanografia, hidrologia, meteorologia ou de geofísica, exceto bussolas; telêmetros"},{cest:"08.021.00",ncmsh:"90172000;901730;901780;90179090",descricao:"Instrumentos de desenho, de traçado ou de cálculo; metros, micrômetros, paquímetros, calibres e semelhantes; partes e acessórios"},{cest:"08.022.00",ncmsh:"90251190;90259010",descricao:"Termômetros, suas partes e acessórios"},{cest:"08.023.00",ncmsh:"902519;90259090",descricao:"Pirômetros, suas partes e acessórios"},{cest:"09.001.00",ncmsh:"8539",descricao:"Lâmpadas elétricas"},{cest:"09.002.00",ncmsh:"8540",descricao:"Lâmpadas eletrônicas"},{cest:"09.003.00",ncmsh:"85041000",descricao:"Reatores para lâmpadas ou tubos de descargas"},{cest:"09.004.00",ncmsh:"853650",descricao:"“Starter”"},{cest:"09.005.00",ncmsh:"85395000",descricao:"Lâmpadas de LED (Diodos Emissores de Luz)"},{cest:"10.001.00",ncmsh:"2522",descricao:"Cal"},{cest:"10.002.00",ncmsh:"3816001;38245000",descricao:"Argamassas"},{cest:"10.003.00",ncmsh:"32149000",descricao:"Outras argamassas"},{cest:"10.004.00",ncmsh:"391000",descricao:"Silicones em formas primárias, para uso na construção"},{cest:"10.005.00",ncmsh:"3916",descricao:"Revestimentos de PVC e outros plásticos; forro, sancas e afins de PVC, para uso na construção"},{cest:"10.006.00",ncmsh:"3917",descricao:"Tubos, e seus acessórios (por exemplo, juntas, cotovelos, flanges, uniões), de plásticos, para uso na construção"},{cest:"10.007.00",ncmsh:"3918",descricao:"Revestimento de pavimento de PVC e outros plásticos"},{cest:"10.008.00",ncmsh:"3919",descricao:"Chapas, folhas, tiras, fitas, películas e outras formas planas, autoadesivas, de plásticos, mesmo em rolos, para uso na construção"},{cest:"10.009.00",ncmsh:"3919;3920;3921",descricao:"Veda rosca, lona plástica para uso na construção, fitas isolantes e afins"},{cest:"10.010.00",ncmsh:"3921",descricao:"Telha de plástico, mesmo reforçada com fibra de vidro"},{cest:"10.011.00",ncmsh:"3921",descricao:"Cumeeira de plástico, mesmo reforçada com fibra de vidro"},{cest:"10.012.00",ncmsh:"3921",descricao:"Chapas, laminados plásticos em bobina, para uso na construção, exceto os descritos no CEST 10.010.00 e 10.011.00"},{cest:"10.013.00",ncmsh:"3922",descricao:"Banheiras, boxes para chuveiros, pias, lavatórios, bidês, sanitários e seus assentos e tampas, caixas de descarga e artigos semelhantes para usos sanitários ou higiênicos, de plásticos"},{cest:"10.014.00",ncmsh:"3924",descricao:"Artefatos de higiene/toucador de plástico, para uso na construção"},{cest:"10.015.00",ncmsh:"39251000",descricao:"Caixa d’água, inclusive sua tampa, de plástico, mesmo reforçadas com fibra de vidro"},{cest:"10.016.00",ncmsh:"392590",descricao:"Outras telhas, cumeeira e caixa d’água, inclusive sua tampa, de plástico, mesmo reforçadas com fibra de vidro"},{cest:"10.017.00",ncmsh:"39251000;392590",descricao:"Artefatos para apetrechamento de construções, de plásticos, não especificados nem compreendidos em outras posições, incluindo persianas, sancas, molduras, apliques e rosetas, caixilhos de polietileno e outros plásticos, exceto os descritos nos CEST 10.015.00 e 10.016.00"},{cest:"10.018.00",ncmsh:"39252000",descricao:"Portas, janelas e seus caixilhos, alizares e soleiras"},{cest:"10.019.00",ncmsh:"39253000",descricao:"Postigos, estores (incluídas as venezianas) e artefatos semelhantes e suas partes"},{cest:"10.020.00",ncmsh:"392690",descricao:"Outras obras de plástico, para uso na construção"},{cest:"10.021.00",ncmsh:"4814",descricao:"Papel de parede e revestimentos de parede semelhantes; papel para vitrais"},{cest:"10.022.00",ncmsh:"68101900",descricao:"Telhas de concreto"},{cest:"10.023.00",ncmsh:"6811",descricao:"REVOGADO"},{cest:"10.024.00",ncmsh:"6811",descricao:"Caixas d’água, tanques e reservatórios e suas tampas, telhas, calhas, cumeeiras e afins, de fibrocimento, cimento-celulose ou semelhantes, contendo ou não amianto."},{cest:"10.025.00",ncmsh:"69010000",descricao:"Tijolos, placas (lajes), ladrilhos e outras peças cerâmicas de farinhas siliciosas fósseis (“kieselghur”, tripolita, diatomita, por exemplo) ou de terras siliciosas semelhantes"},{cest:"10.026.00",ncmsh:"6902",descricao:"Tijolos, placas (lajes), ladrilhos e peças cerâmicas semelhantes, para uso na construção, refratários, que não sejam de farinhas siliciosas fósseis nem de terras siliciosas semelhantes"},{cest:"10.027.00",ncmsh:"6904",descricao:"Tijolos para construção, tijoleiras, tapa-vigas e produtos semelhantes, de cerâmica"},{cest:"10.028.00",ncmsh:"6905",descricao:"Telhas, elementos de chaminés, condutores de fumaça, ornamentos arquitetônicos, de cerâmica, e outros produtos cerâmicos para uso na construção"},{cest:"10.029.00",ncmsh:"69060000",descricao:"Tubos, calhas ou algerozes e acessórios para canalizações, de cerâmica"},{cest:"10.030.00",ncmsh:"6907",descricao:"Ladrilhos e placas de cerâmica, exclusivamente para pavimentação ou revestimento"},{cest:"10.030.01",ncmsh:"6907",descricao:"Cubos, pastilhas e artigos semelhantes de cerâmica, mesmo com suporte, exceto os descritos CEST 10.030.00"},{cest:"10.031.00",ncmsh:"6910",descricao:"Pias, lavatórios, colunas para lavatórios, banheiras, bidês, sanitários, caixas de descarga, mictórios e aparelhos fixos semelhantes para usos sanitários, de cerâmica"},{cest:"10.032.00",ncmsh:"69120000",descricao:"Artefatos de higiene/toucador de cerâmica"},{cest:"10.033.00",ncmsh:"7003",descricao:"Vidro vazado ou laminado, em chapas, folhas ou perfis, mesmo com camada absorvente, refletora ou não, mas sem qualquer outro trabalho"},{cest:"10.034.00",ncmsh:"7004",descricao:"Vidro estirado ou soprado, em folhas, mesmo com camada absorvente, refletora ou não, mas sem qualquer outro trabalho"},{cest:"10.035.00",ncmsh:"7005",descricao:"Vidro flotado e vidro desbastado ou polido em uma ou em ambas as faces, em chapas ou em folhas, mesmo com camada absorvente, refletora ou não, mas sem qualquer outro trabalho"},{cest:"10.036.00",ncmsh:"70071900",descricao:"Vidros temperados"},{cest:"10.037.00",ncmsh:"70072900",descricao:"Vidros laminados"},{cest:"10.038.00",ncmsh:"7008",descricao:"Vidros isolantes de paredes múltiplas"},{cest:"10.039.00",ncmsh:"7016",descricao:"Blocos, placas, tijolos, ladrilhos, telhas e outros artefatos, de vidro prensado ou moldado, mesmo armado, para uso na construção; cubos, pastilhas e outros artigos semelhantes"},{cest:"10.040.00",ncmsh:"72142000",descricao:"Barras próprias para construções, exceto vergalhões"},{cest:"10.041.00",ncmsh:"73089010",descricao:"Outras barras próprias para construções, exceto vergalhões"},{cest:"10.041.01",ncmsh:"73089010",descricao:"Outros vergalhões"},{cest:"10.042.00",ncmsh:"72142000",descricao:"Vergalhões"},{cest:"10.043.00",ncmsh:"7213",descricao:"Outros vergalhões"},{cest:"10.044.00",ncmsh:"72171090;7312",descricao:"Fios de ferro ou aço não ligados, não revestidos, mesmo polidos; cordas, cabos, tranças (entrançados), lingas e artefatos semelhantes, de ferro ou aço, não isolados para usos elétricos"},{cest:"10.045.00",ncmsh:"72172010",descricao:"Outros fios de ferro ou aço, não ligados, galvanizados com teor de carbono superior ou igual a 0,6%, em peso"},{cest:"10.045.01",ncmsh:"72172090",descricao:"Outros fios de ferro ou aço, não ligados, galvanizados"},{cest:"10.046.00",ncmsh:"7307",descricao:"Acessórios para tubos (inclusive uniões, cotovelos, luvas ou mangas), de ferro fundido, ferro ou aço"},{cest:"10.047.00",ncmsh:"73083000",descricao:"Portas e janelas, e seus caixilhos, alizares e soleiras de ferro fundido, ferro ou aço"},{cest:"10.048.00",ncmsh:"73084000;730890",descricao:"Material para andaimes, para armações (cofragens) e para escoramentos, (inclusive armações prontas, para estruturas de concreto armado ou argamassa armada), eletrocalhas e perfilados de ferro fundido, ferro ou aço, próprios para construção, exceto treliças de aço"},{cest:"10.049.00",ncmsh:"73084000",descricao:"Treliças de aço"},{cest:"10.050.00",ncmsh:"73089090",descricao:"Telhas metálicas"},{cest:"10.051.00",ncmsh:"7310",descricao:"Caixas diversas (tais como caixa de correio, de entrada de água, de energia, de instalação) de ferro fundido, ferro ou aço; próprias para a construção"},{cest:"10.052.00",ncmsh:"73130000",descricao:"Arame farpado, de ferro ou aço, arames ou tiras, retorcidos, mesmo farpados, de ferro ou aço, dos tipos utilizados em cercas"},{cest:"10.053.00",ncmsh:"7314",descricao:"Telas metálicas, grades e redes, de fios de ferro ou aço"},{cest:"10.054.00",ncmsh:"73151100",descricao:"Correntes de rolos, de ferro fundido, ferro ou aço"},{cest:"10.055.00",ncmsh:"73151290",descricao:"Outras correntes de elos articulados, de ferro fundido, ferro ou aço"},{cest:"10.056.00",ncmsh:"73158200",descricao:"Correntes de elos soldados, de ferro fundido, de ferro ou aço"},{cest:"10.057.00",ncmsh:"731700",descricao:"Tachas, pregos, percevejos, escápulas, grampos ondulados ou biselados e artefatos semelhantes, de ferro fundido, ferro ou aço, mesmo com a cabeça de outra matéria, exceto cobre"},{cest:"10.058.00",ncmsh:"7318",descricao:"Parafusos, pinos ou pernos, roscados, porcas, tira-fundos, ganchos roscados, rebites, chavetas, cavilhas, contrapinos, arruelas (incluídas as de pressão) e artefatos semelhantes, de ferro fundido, ferro ou aço"},{cest:"10.059.00",ncmsh:"7323",descricao:"Palha de ferro ou aço, exceto os de uso doméstico classificados na posição NCM 7323.10.00"},{cest:"10.059.01",ncmsh:"7323",descricao:"Esponjas, esfregões, luvas e artefatos semelhantes para limpeza, polimento e usos semelhantes, de ferro ou aço, exceto os de uso doméstico classificados na posição NCM 7323.10.00"},{cest:"10.060.00",ncmsh:"7324",descricao:"Artefatos de higiene ou de toucador, e suas partes, de ferro fundido, ferro ou aço, incluídas as pias, banheiras, lavatórios, cubas, mictórios, tanques e afins de ferro fundido, ferro ou aço, para uso na construção"},{cest:"10.061.00",ncmsh:"7325",descricao:"Outras obras moldadas, de ferro fundido, ferro ou aço, para uso na construção"},{cest:"10.062.00",ncmsh:"7326",descricao:"Abraçadeiras"},{cest:"10.063.00",ncmsh:"7407",descricao:"Barras de cobre"},{cest:"10.064.00",ncmsh:"74111010",descricao:"Tubos de cobre e suas ligas, para instalações de água quente e gás, para uso na construção"},{cest:"10.065.00",ncmsh:"7412",descricao:"Acessórios para tubos (por exemplo, uniões, cotovelos, luvas ou mangas) de cobre e suas ligas, para uso na construção"},{cest:"10.066.00",ncmsh:"7415",descricao:"Tachas, pregos, percevejos, escápulas e artefatos semelhantes, de cobre, ou de ferro ou aço com cabeça de cobre, parafusos, pinos ou pernos, roscados, porcas, ganchos roscados, rebites, chavetas, cavilhas, contrapinos, arruelas (incluídas as de pressão), e artefatos semelhantes, de cobre"},{cest:"10.067.00",ncmsh:"74182000",descricao:"Artefatos de higiene/toucador de cobre, para uso na construção"},{cest:"10.068.00",ncmsh:"76071990",descricao:"Manta de subcobertura aluminizada"},{cest:"10.069.00",ncmsh:"7608",descricao:"Tubos de alumínio e suas ligas, para refrigeração e ar condicionado, para uso na construção"},{cest:"10.070.00",ncmsh:"76090000",descricao:"Acessórios para tubos (por exemplo, uniões, cotovelos, luvas ou mangas), de alumínio, para uso na construção"},{cest:"10.071.00",ncmsh:"7610",descricao:"Construções e suas partes (por exemplo, pontes e elementos de pontes, torres, pórticos ou pilones, pilares, colunas, armações, estruturas para telhados, portas e janelas, e seus caixilhos, alizares e soleiras, balaustradas), de alumínio, exceto as construções pré-fabricadas da posição 9406; chapas, barras, perfis, tubos e semelhantes, de alumínio, próprios para construções"},{cest:"10.072.00",ncmsh:"76152000",descricao:"Artefatos de higiene/toucador de alumínio, para uso na construção"},{cest:"10.073.00",ncmsh:"7616",descricao:"Outras obras de alumínio, próprias para construções, incluídas as persianas"},{cest:"10.074.00",ncmsh:"83024100",descricao:"Outras guarnições, ferragens e artigos semelhantes de metais comuns, para construções, inclusive puxadores."},{cest:"10.075.00",ncmsh:"8301",descricao:"Fechaduras e ferrolhos (de chave, de segredo ou elétricos), de metais comuns, incluídas as suas partes fechos e armações com fecho, com fechadura, de metais comuns chaves para estes artigos, de metais comuns; exceto os de uso automotivo"},{cest:"10.076.00",ncmsh:"83021000",descricao:"Dobradiças de metais comuns, de qualquer tipo"},{cest:"10.077.00",ncmsh:"8307",descricao:"Tubos flexíveis de metais comuns, mesmo com acessórios, para uso na construção"},{cest:"10.078.00",ncmsh:"8311",descricao:"Fios, varetas, tubos, chapas, eletrodos e artefatos semelhantes, de metais comuns ou de carbonetos metálicos, revestidos exterior ou interiormente de decapantes ou de fundentes, para soldagem (soldadura) ou depósito de metal ou de carbonetos metálicos fios e varetas de pós de metais comuns aglomerados, para metalização por projeção"},{cest:"10.079.00",ncmsh:"8481",descricao:"Torneiras, válvulas (incluídas as redutoras de pressão e as termostáticas) e dispositivos semelhantes, para canalizações, caldeiras, reservatórios, cubas e outros recipientes"},{cest:"10.080.00",ncmsh:"7009",descricao:"Espelhos de vidro, mesmo emoldurados, exceto os de uso automotivo"},{cest:"11.001.00",ncmsh:"28289011;28289019;32064100;34022000;38089419",descricao:"Água sanitária, branqueador e outros alvejantes"},{cest:"11.002.00",ncmsh:"34012090",descricao:"Sabões em pó, flocos, palhetas, grânulos ou outras formas semelhantes, para lavar roupas"},{cest:"11.003.00",ncmsh:"34012090",descricao:"Sabões líquidos para lavar roupas"},{cest:"11.004.00",ncmsh:"34022000",descricao:"Detergentes em pó, flocos, palhetas, grânulos ou outras formas semelhantes"},{cest:"11.005.00",ncmsh:"34022000",descricao:"Detergentes líquidos, exceto para lavar roupa"},{cest:"11.006.00",ncmsh:"34022000",descricao:"Detergente líquido para lavar roupa"},{cest:"11.007.00",ncmsh:"3402",descricao:"Outros agentes orgânicos de superfície (exceto sabões); preparações tensoativas, preparações para lavagem (incluídas as preparações auxiliares para lavagem) e preparações para limpeza (inclusive multiuso e limpadores), mesmo contendo sabão, exceto os produtos descritos nos CEST 11.001.00, 11.004.00, 11.005.00 e 11.006.00; em embalagem de conteúdo inferior ou igual a 50 litros ou 50 kg"},{cest:"11.008.00",ncmsh:"38099190",descricao:"Amaciante/suavizante"},{cest:"11.009.00",ncmsh:"39241000;39249000;68053010;68053090",descricao:"Esponjas para limpeza"},{cest:"11.010.00",ncmsh:"2207;22089000",descricao:"Álcool etílico para limpeza"},{cest:"11.011.00",ncmsh:"73231000",descricao:"Esponjas e palhas de aço; esponjas para limpeza, polimento ou uso semelhantes; todas de uso doméstico"},{cest:"11.012.00",ncmsh:"39232",descricao:"Sacos de lixo de conteúdo igual ou inferior a 100 litros"},{cest:"12.001.00",ncmsh:"8504",descricao:"Transformadores, bobinas de reatância e de auto indução, inclusive os transformadores de potência superior a 16 KVA, classificados nas posições 8504.33.00 e 8504.34.00; exceto os demais transformadores da subposição 8504.3, os reatores para lâmpadas elétricas de descarga classificados no código 8504.10.00, os carregadores de acumuladores do código 8504.40.10, os equipamentos de alimentação ininterrupta de energia (UPS ou “no break”), no código 8504.40.40 e os de uso automotivo"},{cest:"12.002.00",ncmsh:"8516",descricao:"Aquecedores elétricos de água, incluídos os de imersão, chuveiros ou duchas elétricos, torneiras elétricas, resistências de aquecimento, inclusive as de duchas e chuveiros elétricos e suas partes; exceto outros fornos, fogareiros (incluídas as chapas de cocção), grelhas e assadeiras, classificados na posição 8516.60.00"},{cest:"12.003.00",ncmsh:"8535",descricao:"Aparelhos para interrupção, seccionamento, proteção, derivação, ligação ou conexão de circuitos elétricos (por exemplo, interruptores, comutadores, corta-circuitos, para-raios, limitadores de tensão, eliminadores de onda, tomadas de corrente e outros conectores, caixas de junção), para tensão superior a 1.000V, exceto os de uso automotivo"},{cest:"12.004.00",ncmsh:"8536",descricao:"Aparelhos para interrupção, seccionamento, proteção, derivação, ligação ou conexão de circuitos elétricos (por exemplo, interruptores, comutadores, relés, corta-circuitos, eliminadores de onda, plugues e tomadas de corrente, suportes para lâmpadas e outros conectores, caixas de junção), para uma tensão não superior a 1.000V; conectores para fibras ópticas, feixes ou cabos de fibras ópticas; exceto “starter” classificado na subposição 8536.50 e os de uso automotivo"},{cest:"12.005.00",ncmsh:"8538",descricao:"Partes reconhecíveis como exclusiva ou principalmente destinadas aos aparelhos das posições 8535 e 8536"},{cest:"12.006.00",ncmsh:"74130000",descricao:"Cabos, tranças e semelhantes, de cobre, não isolados para usos elétricos, exceto os de uso automotivo"},{cest:"12.007.00",ncmsh:"8544;7605;7614",descricao:"Fios, cabos (incluídos os cabos coaxiais) e outros condutores, isolados ou não, para usos elétricos (incluídos os de cobre ou alumínio, envernizados ou oxidados anodicamente), mesmo com peças de conexão, inclusive fios e cabos elétricos, para tensão não superior a 1000V, para uso na construção; fios e cabos telefônicos e para transmissão de dados; cabos de fibras ópticas, constituídos de fibras embainhadas individualmente, mesmo com condutores elétricos ou munidos de peças de conexão; cordas, cabos, tranças e semelhantes, de alumínio, não isolados para uso elétricos; exceto os de uso automotivo"},{cest:"12.008.00",ncmsh:"8546",descricao:"Isoladores de qualquer matéria, para usos elétricos"},{cest:"12.009.00",ncmsh:"8547",descricao:"Peças isolantes inteiramente de matérias isolantes, ou com simples peças metálicas de montagem (suportes roscados, por exemplo) incorporadas na massa, para máquinas, aparelhos e instalações elétricas; tubos isoladores e suas peças de ligação, de metais comuns, isolados interiormente"},{cest:"13.001.00",ncmsh:"3003;3004",descricao:"Medicamentos de referência - positiva, exceto para uso veterinário"},{cest:"13.001.01",ncmsh:"3003;3004",descricao:"Medicamentos de referência - negativa, exceto para uso veterinário"},{cest:"13.001.02",ncmsh:"3003;3004",descricao:"Medicamentos de referência - neutra, exceto para uso veterinário"},{cest:"13.002.00",ncmsh:"3003;3004",descricao:"Medicamentos genérico - positiva, exceto para uso veterinário"},{cest:"13.002.01",ncmsh:"3003;3004",descricao:"Medicamentos genérico - negativa, exceto para uso veterinário"},{cest:"13.002.02",ncmsh:"3003;3004",descricao:"Medicamentos genérico - neutra, exceto para uso veterinário"},{cest:"13.003.00",ncmsh:"3003;3004",descricao:"Medicamentos similar - positiva, exceto para uso veterinário"},{cest:"13.003.01",ncmsh:"3003;3004",descricao:"Medicamentos similar - negativa, exceto para uso veterinário"},{cest:"13.003.02",ncmsh:"3003;3004",descricao:"Medicamentos similar - neutra, exceto para uso veterinário"},{cest:"13.004.00",ncmsh:"3003;3004",descricao:"Outros tipos de medicamentos - positiva, exceto para uso veterinário"},{cest:"13.004.01",ncmsh:"3003;3004",descricao:"Outros tipos de medicamentos - negativa, exceto para uso veterinário"},{cest:"13.004.02",ncmsh:"3003;3004",descricao:"Outros tipos de medicamentos - neutra, exceto para uso veterinário"},{cest:"13.005.00",ncmsh:"30066000",descricao:"Preparações químicas contraceptivas de referência, à base de hormônios, de outros produtos da posição 29.37 ou de espermicidas - positiva."},{cest:"13.005.01",ncmsh:"30066000",descricao:"Preparações químicas contraceptivas de referência, à base de hormônios, de outros produtos da posição 29.37 ou de espermicidas - negativa."},{cest:"13.005.02",ncmsh:"30066000",descricao:"Preparações químicas contraceptivas genérico, à base de hormônios, de outros produtos da posição 29.37 ou de espermicidas – positiva."},{cest:"13.005.03",ncmsh:"30066000",descricao:"Preparações químicas contraceptivas genérico, à base de hormônios, de outros produtos da posição 29.37 ou de espermicidas – negativa."},{cest:"13.005.04",ncmsh:"30066000",descricao:"Preparações químicas contraceptivas similar, à base de hormônios, de outros produtos da posição 29.37 ou de espermicidas – positiva."},{cest:"13.005.05",ncmsh:"30066000",descricao:"Preparações químicas contraceptivas similar, à base de hormônios, de outros produtos da posição 29.37 ou de espermicidas – negativa."},{cest:"13.006.00",ncmsh:"2936",descricao:"Provitaminas e vitaminas, naturais ou reproduzidas por síntese (incluídos os concentrados naturais), bem como os seus derivados utilizados principalmente como vitaminas, misturados ou não entre si, mesmo em quaisquer soluções - neutra"},{cest:"13.007.00",ncmsh:"300630",descricao:"Preparações opacificantes (contrastantes) para exames radiográficos e reagentes de diagnóstico concebidos para serem administrados ao paciente - positiva"},{cest:"13.007.01",ncmsh:"300630",descricao:"Preparações opacificantes (contrastantes) para exames radiográficos e reagentes de diagnóstico concebidos para serem administrados ao paciente - negativa"},{cest:"13.008.00",ncmsh:"3002",descricao:"Antissoro, outras frações do sangue, produtos imunológicos modificados, mesmo obtidos por via biotecnológica, exceto para uso veterinário - positiva"},{cest:"13.008.01",ncmsh:"3002",descricao:"Antissoro, outras frações do sangue, produtos imunológicos modificados, mesmo obtidos por via biotecnológica, exceto para uso veterinário - negativa"},{cest:"13.009.00",ncmsh:"3002",descricao:"Vacinas e produtos semelhantes, exceto para uso veterinário - positiva;"},{cest:"13.009.01",ncmsh:"3002",descricao:"Vacinas e produtos semelhantes, exceto para uso veterinário - negativa;"},{cest:"13.010.00",ncmsh:"30051010",descricao:"Curativos (pensos) adesivos e outros artigos com uma camada adesiva, impregnados ou recobertos de substâncias farmacêuticas - Lista Positiva"},{cest:"13.010.01",ncmsh:"30051010",descricao:"Curativos (pensos) adesivos e outros artigos com uma camada adesiva, impregnados ou recobertos de substâncias farmacêuticas - Lista Negativa"},{cest:"13.011.00",ncmsh:"3005",descricao:"Algodão, atadura, esparadrapo, gazes, pensos, sinapismos, e outros, acondicionados para venda a retalho para usos medicinais, cirúrgicos ou dentários, não impregnados ou recobertos de substâncias farmacêuticas - Lista Neutra"},{cest:"13.012.00",ncmsh:"40151100;40151900",descricao:"Luvas cirúrgicas e luvas de procedimento - neutra"},{cest:"13.013.00",ncmsh:"40141000",descricao:"Preservativo – neutra"},{cest:"13.014.00",ncmsh:"901831",descricao:"Seringas, mesmo com agulhas - neutra"},{cest:"13.015.00",ncmsh:"9018321",descricao:"Agulhas para seringas - neutra"},{cest:"13.016.00",ncmsh:"39269090;90189099",descricao:"Contraceptivos (dispositivos intrauterinos - DIU) - neutra"},{cest:"14.001.00",ncmsh:"7013",descricao:"Objetos de vidro para serviço de mesa ou de cozinha"},{cest:"14.002.00",ncmsh:"70133700",descricao:"Outros copos, exceto de vitrocerâmica"},{cest:"14.003.00",ncmsh:"70134290",descricao:"Objetos para serviço de mesa (exceto copos) ou de cozinha, exceto de vitrocerâmica"},{cest:"14.004.00",ncmsh:"3919;3920;3921",descricao:"Lonas plásticas, exceto as para uso na construção"},{cest:"14.005.00",ncmsh:"3924",descricao:"Artefatos de higiene/toucador de plástico, exceto os para uso na construção"},{cest:"14.006.00",ncmsh:"39241000",descricao:"Serviços de mesa e outros utensílios de mesa ou de cozinha, de plástico, não descartáveis"},{cest:"14.006.01",ncmsh:"39241000",descricao:"Serviços de mesa e outros utensílios de mesa ou de cozinha, de plástico, descartáveis"},{cest:"14.007.00",ncmsh:"69111010",descricao:"Artigos para serviço de mesa ou de cozinha, de porcelana, inclusive os descartáveis - estojos"},{cest:"14.008.00",ncmsh:"69111090",descricao:"Artigos para serviço de mesa ou de cozinha, de porcelana, inclusive os descartáveis - avulsos"},{cest:"14.009.00",ncmsh:"69120000",descricao:"Artigos para serviço de mesa ou de cozinha, de cerâmica"},{cest:"14.010.00",ncmsh:"69120000",descricao:"Velas para filtros"},{cest:"14.011.00",ncmsh:"4823209",descricao:"Filtros descartáveis para coar café ou chá"},{cest:"14.012.00",ncmsh:"48236",descricao:"Bandejas, travessas, pratos, xícaras ou chávenas, taças, copos e artigos semelhantes, de papel ou cartão"},{cest:"14.013.00",ncmsh:"48131000",descricao:"Papel para cigarro"},{cest:"16.001.00",ncmsh:"40111000",descricao:"Pneus novos, dos tipos utilizados em automóveis de passageiros (incluídos os veículos de uso misto - camionetas e os automóveis de corrida)"},{cest:"16.002.00",ncmsh:"4011",descricao:"Pneus novos, dos tipos utilizados em caminhões (inclusive para os fora-de-estrada), ônibus, aviões, máquinas de terraplenagem, de construção e conservação de estradas, máquinas e tratores agrícolas, pá-carregadeira"},{cest:"16.003.00",ncmsh:"40114000",descricao:"Pneus novos para motocicletas"},{cest:"16.004.00",ncmsh:"4011",descricao:"Outros tipos de pneus novos, exceto os itens classificados no CEST 16.005.00"},{cest:"16.005.00",ncmsh:"40115000",descricao:"Pneus novos de borracha dos tipos utilizados em bicicletas"},{cest:"16.006.00",ncmsh:"40121",descricao:"Pneus recauchutados"},{cest:"16.007.00",ncmsh:"401290",descricao:"Protetores de borracha, exceto os itens classificados no CEST 16.007.01"},{cest:"16.007.01",ncmsh:"401290",descricao:"Protetores de borracha para bicicletas"},{cest:"16.008.00",ncmsh:"4013",descricao:"Câmaras de ar de borracha, exceto os itens classificados no CEST 16.009.00"},{cest:"16.009.00",ncmsh:"40132000",descricao:"Câmaras de ar de borracha dos tipos utilizados em bicicletas"},{cest:"17.001.00",ncmsh:"17049010",descricao:"Chocolate branco, em embalagens de conteúdo inferior ou igual a 1 kg, excluídos os ovos de páscoa de chocolate."},{cest:"17.002.00",ncmsh:"18063110;18063120",descricao:"Chocolates contendo cacau, em embalagens de conteúdo inferior ou igual a 1 kg"},{cest:"17.003.00",ncmsh:"18063210;18063220",descricao:"Chocolate em barras, tabletes ou blocos ou no estado líquido, em pasta, em pó, grânulos ou formas semelhantes, em recipientes ou embalagens imediatas de conteúdo inferior ou igual a 2 kg"},{cest:"17.004.00",ncmsh:"18069000",descricao:"Chocolates e outras preparações alimentícias contendo cacau, em embalagens de conteúdo inferior ou igual a 1 kg, excluídos os achocolatados em pó e ovos de páscoa de chocolate."},{cest:"17.005.00",ncmsh:"17049010",descricao:"Ovos de páscoa de chocolate branco"},{cest:"17.005.01",ncmsh:"18069000",descricao:"Ovos de páscoa de chocolate"},{cest:"17.006.00",ncmsh:"18069000",descricao:"Achocolatados em pó, em embalagens de conteúdo inferior ou igual a 1 kg, exceto os classificados no CEST 17.006.02"},{cest:"17.006.01",ncmsh:"18061000",descricao:"Cacau em pó, com adição de açúcar ou de outros edulcorantes, em embalagens de conteúdo inferior ou igual a 1kg"},{cest:"17.006.02",ncmsh:"18069000",descricao:"Achocolatados em pó, em cápsulas"},{cest:"17.007.00",ncmsh:"18069000",descricao:"Caixas de bombons contendo cacau, em embalagens de conteúdo inferior ou igual a 1 kg"},{cest:"17.008.00",ncmsh:"17049090",descricao:"Bombons, inclusive à base de chocolate branco sem cacau"},{cest:"17.009.00",ncmsh:"18069000",descricao:"Bombons, balas, caramelos, confeitos, pastilhas e outros produtos de confeitaria, contendo cacau"},{cest:"17.010.00",ncmsh:"2009",descricao:"Sucos de frutas ou de produtos hortícolas; mistura de sucos"},{cest:"17.011.00",ncmsh:"20098",descricao:"Água de coco"},{cest:"17.012.00",ncmsh:"04021;04022;04029",descricao:"Leite em pó, blocos ou grânulos, exceto creme de leite"},{cest:"17.013.00",ncmsh:"19011020",descricao:"Farinha láctea"},{cest:"17.014.00",ncmsh:"19011010",descricao:"Leite modificado para alimentação de crianças"},{cest:"17.015.00",ncmsh:"19011090;19011030",descricao:"Preparações para alimentação infantil à base de farinhas, grumos, sêmolas ou amidos e outros"},{cest:"17.016.00",ncmsh:"04011010;04012010",descricao:"Leite “longa vida” (UHT - “Ultra High Temperature”), em recipiente de conteúdo inferior ou igual a 2 litros"},{cest:"17.016.01",ncmsh:"04011010;04012010",descricao:"Leite “longa vida” (UHT - “Ultra High Temperature”), em recipiente de conteúdo superior a 2 litros e inferior ou igual a 5 litros"},{cest:"17.017.00",ncmsh:"04014010;04015010",descricao:"Leite em recipiente de conteúdo inferior ou igual a 1 litro"},{cest:"17.017.01",ncmsh:"04014010;04015010",descricao:"Leite em recipiente de conteúdo superior a 1 litro e inferior ou igual a 5 litros"},{cest:"17.018.00",ncmsh:"04011090;04012090",descricao:"Leite do tipo pasteurizado em recipiente de conteúdo inferior ou igual a 1 litro"},{cest:"17.018.01",ncmsh:"04011090;04012090",descricao:"Leite do tipo pasteurizado em recipiente de conteúdo superior a 1 litro e inferior ou igual a 5 litros"},{cest:"17.019.00",ncmsh:"0401402;04022130;04022930;04029",descricao:"Creme de leite, em recipiente de conteúdo inferior ou igual a 1 kg"},{cest:"17.019.01",ncmsh:"0401402;04022130;04022930;04029",descricao:"Creme de leite, em recipiente de conteúdo superior a 1 kg"},{cest:"17.019.02",ncmsh:"040110;040120;040150;040210;04022920",descricao:"Outros cremes de leite, em recipiente de conteúdo inferior ou igual a 1kg"},{cest:"17.019.03",ncmsh:"040110;040120;040150;040210;04022920",descricao:"Outros cremes de leite, em recipiente de conteúdo superior a 1kg"},{cest:"17.020.00",ncmsh:"04029",descricao:"Leite condensado, em recipiente de conteúdo inferior ou igual a 1 kg"},{cest:"17.020.01",ncmsh:"04029",descricao:"Leite condensado, em recipiente de conteúdo superior a 1 kg"},{cest:"17.021.00",ncmsh:"403",descricao:"Iogurte e leite fermentado em recipiente de conteúdo inferior ou igual a 2 litros, exceto o item classificado no CEST 17.022.00"},{cest:"17.021.01",ncmsh:"403",descricao:"Iogurte e leite fermentado em recipiente de conteúdo superior a 2 litros, exceto o item classificado no CEST 17.022.00"},{cest:"17.022.00",ncmsh:"04039000",descricao:"Coalhada"},{cest:"17.023.00",ncmsh:"406",descricao:"Requeijão e similares, em recipiente de conteúdo inferior ou igual a 1 kg, exceto as embalagens individuais de conteúdo inferior ou igual a 10 g"},{cest:"17.023.01",ncmsh:"406",descricao:"Requeijão e similares, em recipiente de conteúdo superior a 1 kg"},{cest:"17.024.00",ncmsh:"406",descricao:"Queijos, exceto os dos CEST 17.024.01, 17.024.02, 17.024.03 e 17.024.04"},{cest:"17.024.01",ncmsh:"04061010",descricao:"Queijo muçarela"},{cest:"17.024.02",ncmsh:"04061090",descricao:"Queijo minas frescal"},{cest:"17.024.03",ncmsh:"04061090",descricao:"Queijo ricota"},{cest:"17.024.04",ncmsh:"04061090",descricao:"Queijo petitsuisse"},{cest:"17.025.00",ncmsh:"04051000",descricao:"Manteiga, em embalagem de conteúdo inferior ou igual a 1 kg, exceto as embalagens individuais de conteúdo inferior ou igual a 10 g"},{cest:"17.025.01",ncmsh:"04051000",descricao:"Manteiga, em embalagem de conteúdo superior a 1 kg"},{cest:"17.025.02",ncmsh:"04059090",descricao:"Manteiga de garrafa"},{cest:"17.026.00",ncmsh:"15171000",descricao:"Margarina e creme vegetal em recipiente de conteúdo inferior ou igual a 500 g, exceto as embalagens individuais de conteúdo inferior ou igual a 10 g"},{cest:"17.027.00",ncmsh:"15171000",descricao:"Margarina e creme vegetal, em recipiente de conteúdo superior a 500 g e inferior ou igual a 1 kg, exceto as embalagens individuais de conteúdo inferior ou igual a 10 g"},{cest:"17.027.01",ncmsh:"15171000",descricao:"Margarina e creme vegetal, em recipiente de conteúdo superior a 1 kg"},{cest:"17.027.02",ncmsh:"151790",descricao:"Outras margarinas e cremes vegetais em recipiente de conteúdo inferior a 1 kg, exceto as embalagens individuais de conteúdo inferior ou igual a 10 g"},{cest:"17.028.00",ncmsh:"15162000",descricao:"Gorduras e óleos vegetais e respectivas frações, parcial ou totalmente hidrogenados, interesterificados, reesterificados ou elaidinizados, mesmo refinados, mas não preparados de outro modo, em recipiente de conteúdo inferior ou igual a 1 kg, exceto as embalagens individuais de conteúdo inferior ou igual a 10 g"},{cest:"17.028.01",ncmsh:"15162000",descricao:"Gorduras e óleos vegetais e respectivas frações, parcial ou totalmente hidrogenados, interesterificados, reesterificados ou elaidinizados, mesmo refinados, mas não preparados de outro modo, em recipiente de conteúdo superior a 1 kg, exceto as embalagens individuais de conteúdo inferior ou igual a 10 g"},{cest:"17.029.00",ncmsh:"19019020",descricao:"Doces de leite"},{cest:"17.030.00",ncmsh:"19041000;19049000",descricao:"Produtos à base de cereais, obtidos por expansão ou torrefação"},{cest:"17.031.00",ncmsh:"19059090",descricao:"Salgadinhos diversos, exceto os classificados no CEST 17.031.01 e 17.031.02"},{cest:"17.031.01",ncmsh:"19059090",descricao:"Salgadinhos diversos, derivados de farinha de trigo"},{cest:"17.031.02",ncmsh:"19059090",descricao:"Biscoitos de polvilho"},{cest:"17.032.00",ncmsh:"20052000;20059",descricao:"Batata frita, inhame e mandioca fritos"},{cest:"17.033.00",ncmsh:"20081",descricao:"Amendoim e castanhas tipo aperitivo, em embalagem de conteúdo inferior ou igual a 1 kg"},{cest:"17.033.01",ncmsh:"20081",descricao:"Amendoim e castanhas tipo aperitivo, em embalagem de conteúdo superior a 1 kg"},{cest:"17.034.00",ncmsh:"21032010",descricao:"Catchup em embalagens imediatas de conteúdo inferior ou igual a 650 g, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 10 g"},{cest:"17.035.00",ncmsh:"21039021;21039091",descricao:"Condimentos e temperos compostos, incluindo molho de pimenta e outros molhos, em embalagens imediatas de conteúdo inferior ou igual a 1 kg, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 3 g"},{cest:"17.036.00",ncmsh:"21031010",descricao:"Molhos de soja preparados em embalagens imediatas de conteúdo inferior ou igual a 650 g, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 10 g"},{cest:"17.037.00",ncmsh:"21033010",descricao:"Farinha de mostarda em embalagens de conteúdo inferior ou igual a 1 kg"},{cest:"17.038.00",ncmsh:"21033021",descricao:"Mostarda preparada em embalagens imediatas de conteúdo inferior ou igual a 650 g, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 10 g"},{cest:"17.039.00",ncmsh:"21039011",descricao:"Maionese em embalagens imediatas de conteúdo inferior ou igual a 650 g, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 10 g"},{cest:"17.040.00",ncmsh:"2002",descricao:"Tomates preparados ou conservados, exceto em vinagre ou em ácido acético, em embalagens de conteúdo inferior ou igual a 1 kg"},{cest:"17.041.00",ncmsh:"21032010",descricao:"Molhos de tomate em embalagens imediatas de conteúdo inferior ou igual a 1 kg"},{cest:"17.042.00",ncmsh:"17049090;19042000;19049000",descricao:"Barra de cereais"},{cest:"17.043.00",ncmsh:"18063120;18063220;18069000",descricao:"Barra de cereais contendo cacau"},{cest:"17.044.00",ncmsh:"11010010",descricao:"Farinha de trigo especial, em embalagem inferior ou igual a 1 kg"},{cest:"17.044.01",ncmsh:"11010010",descricao:"Farinha de trigo especial, em embalagem superior a 1 kg e inferior a 5 kg"},{cest:"17.044.02",ncmsh:"11010010",descricao:"Farinha de trigo especial, em embalagem igual a 5 kg"},{cest:"17.044.03",ncmsh:"11010010",descricao:"Farinha de trigo especial, em embalagem superior a 5 kg e inferior ou igual a 25 kg"},{cest:"17.044.04",ncmsh:"11010010",descricao:"Farinha de trigo especial, em embalagem superior a 25 kg e inferior ou igual a 50 kg"},{cest:"17.044.05",ncmsh:"11010010",descricao:"Farinha de trigo comum, em embalagem igual a 5 kg"},{cest:"17.044.06",ncmsh:"11010010",descricao:"Farinha de trigo comum, em embalagem superior a 5 kg e inferior ou igual a 25 kg"},{cest:"17.044.07",ncmsh:"11010010",descricao:"Farinha de trigo comum, em embalagem superior a 25 kg e inferior ou igual a 50 kg"},{cest:"17.044.08",ncmsh:"11010010",descricao:"Farinha de trigo doméstica especial, em embalagem superior a 5 kg e inferior e igual a 10 kg"},{cest:"17.044.09",ncmsh:"11010010",descricao:"Farinha de trigo doméstica com fermento, em embalagem superior a 5 kg e inferior e igual a 10 kg"},{cest:"17.044.10",ncmsh:"11010010",descricao:"Farinha de trigo especial, em embalagem superior a 50 Kg"},{cest:"17.044.11",ncmsh:"11010010",descricao:"Farinha de trigo comum, em embalagem inferior ou igual a 1 kg"},{cest:"17.044.12",ncmsh:"11010010",descricao:"Farinha de trigo comum, em embalagem superior a 1 kg e inferior a 5 Kg"},{cest:"17.044.13",ncmsh:"11010010",descricao:"Farinha de trigo comum, em embalagem superior a 50 kg"},{cest:"17.044.14",ncmsh:"11010010",descricao:"Farinha de trigo doméstica especial, em embalagem inferior ou igual a 1 kg"},{cest:"17.044.15",ncmsh:"11010010",descricao:"Farinha de trigo doméstica especial, em embalagem superior a 1 kg e inferior a 5 Kg"},{cest:"17.044.16",ncmsh:"11010010",descricao:"Farinha de trigo doméstica especial, em embalagem igual a 5 Kg"},{cest:"17.044.17",ncmsh:"11010010",descricao:"Farinha de trigo doméstica especial, em embalagem superior a 10 Kg"},{cest:"17.044.18",ncmsh:"11010010",descricao:"Farinha de trigo doméstica com fermento, em embalagem inferior ou igual a 1 kg"},{cest:"17.044.19",ncmsh:"11010010",descricao:"Farinha de trigo doméstica com fermento, em embalagem superior a 1 kg e inferior a 5 Kg"},{cest:"17.044.20",ncmsh:"11010010",descricao:"Farinha de trigo doméstica com fermento, em embalagem igual a 5 Kg"},{cest:"17.044.21",ncmsh:"11010010",descricao:"Farinha de trigo doméstica com fermento, em embalagem superior a 10 Kg"},{cest:"17.044.22",ncmsh:"11010010",descricao:"Outras farinhas de trigo, em embalagem inferior ou igual a 1 kg"},{cest:"17.044.23",ncmsh:"11010010",descricao:"Outras farinhas de trigo, em embalagem superior a 1 kg e inferior a 5 Kg"},{cest:"17.044.24",ncmsh:"11010010",descricao:"Outras farinhas de trigo, em embalagem igual a 5 Kg"},{cest:"17.044.25",ncmsh:"11010010",descricao:"Outras farinhas de trigo, em embalagem superior a 5 Kg e inferior ou igual a 25 kg"},{cest:"17.044.26",ncmsh:"11010010",descricao:"Outras farinhas de trigo, em embalagem superior a 25 Kg e inferior ou igual a 50 kg"},{cest:"17.044.27",ncmsh:"11010010",descricao:"Outras farinhas de trigo, em embalagem superior a 50 Kg"},{cest:"17.045.00",ncmsh:"11010020",descricao:"Farinha de mistura de trigo com centeio (méteil)"},{cest:"17.046.00",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para bolos, em embalagem inferior 5 kg"},{cest:"17.046.01",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para bolos, em embalagem igual a 5 kg"},{cest:"17.046.02",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para bolos, em embalagem superior a 5 kg e inferior ou igual a 25 Kg"},{cest:"17.046.03",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para bolos, em embalagem superior a 25 kg e inferior ou igual a 50 Kg"},{cest:"17.046.04",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para bolos, em embalagem superior a 50 Kg"},{cest:"17.046.05",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para pães com menos de 80% de farinha de trigo na sua composição final, em embalagem inferior a 5 kg"},{cest:"17.046.06",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para pães com menos de 80% de farinha de trigo na sua composição final, em embalagem igual a 5 kg"},{cest:"17.046.07",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para pães com menos de 80% de farinha de trigo na sua composição final, em embalagem superior a 5 kg e inferior ou igual a 25 Kg"},{cest:"17.046.08",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para pães com menos de 80% de farinha de trigo na sua composição final, em embalagem superior a 25 kg e inferior ou igual a 50 Kg"},{cest:"17.046.09",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para pães com menos de 80% de farinha de trigo na sua composição final, em embalagem superior a 50 Kg"},{cest:"17.046.10",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para pães com, no mínimo, 80% de farinha de trigo na sua composição final, em embalagem inferior a 5 kg"},{cest:"17.046.11",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para pães com, no mínimo, 80% de farinha de trigo na sua composição final, em embalagem igual a 5 kg"},{cest:"17.046.12",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para pães com, no mínimo, 80% de farinha de trigo na sua composição final, em embalagem superior a 5 kg e inferior ou igual a 25 Kg"},{cest:"17.046.13",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para pães com, no mínimo, 80% de farinha de trigo na sua composição final, em embalagem superior a 25 kg e inferior ou igual a 50 Kg"},{cest:"17.046.14",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para pães com, no mínimo, 80% de farinha de trigo na sua composição final, em embalagem superior a 50 Kg"},{cest:"17.046.15",ncmsh:"19012000;19019090",descricao:"Misturas e pastas para a preparação de produtos de padaria, pastelaria e da indústria de bolachas e biscoitos, da posição 19.05, exceto os previstos nos CEST 17.046.00 a 17.046.14 e 17.046.16."},{cest:"17.046.16",ncmsh:"19012000;19019090",descricao:"Misturas e preparações com, no mínimo, 80% de farinha de trigo na sua composição final, exceto as descritas nos CEST 17.046.10 a 17.046.15."},{cest:"17.047.00",ncmsh:"19023000",descricao:"Massas alimentícias tipo instantânea, exceto as descritas no CEST 17047.01."},{cest:"17.047.01",ncmsh:"19023000",descricao:"Massas alimentícias tipo instantânea, derivadas de farinha de trigo."},{cest:"17.048.00",ncmsh:"1902",descricao:"Massas alimentícias, cozidas ou recheadas (de carne ou de outras substâncias) ou preparadas de outro modo, exceto as descritas nos CEST 17.047.00, 17.048.01, e 17.048.02"},{cest:"17.048.01",ncmsh:"19024000",descricao:"Cuscuz"},{cest:"17.048.02",ncmsh:"19022000",descricao:"Massas alimentícias recheadas (mesmo cozidas ou preparadas de outro modo)"},{cest:"17.049.00",ncmsh:"19021",descricao:"Massas alimentícias do tipo comum, não cozidas, nem recheadas, nem preparadas de outro modo, exceto as descritas nos CEST 17.049.03 e 17.049.06"},{cest:"17.049.01",ncmsh:"19021",descricao:"Massas alimentícias do tipo sêmola, não cozidas, nem recheadas, nem preparadas de outro modo, exceto as descritas nos CEST 17.049.04 e 17.049.07"},{cest:"17.049.02",ncmsh:"19021",descricao:"Massas alimentícias do tipo granoduro, não cozidas, nem recheadas, nem preparadas de outro modo, exceto a descrita no CEST 17.049.05"},{cest:"17.049.03",ncmsh:"19021900",descricao:"Massas alimentícias do tipo comum, não cozidas, nem recheadas, nem preparadas de outro modo, que não contenham ovos, derivadas de farinha de trigo, exceto as descritas no CEST17.049.08"},{cest:"17.049.04",ncmsh:"19021900",descricao:"Massas alimentícias do tipo sêmola, não cozidas, nem recheadas, nem preparadas de outro modo, que não contenham ovos, derivadas de farinha de trigo, exceto as descritas no CEST 17.049.09"},{cest:"17.049.05",ncmsh:"19021900",descricao:"Massas alimentícias do tipo granoduro, não cozidas, nem recheadas, nem preparadas de outro modo, que não contenham ovos"},{cest:"17.049.06",ncmsh:"19021",descricao:"Massas alimentícias do tipo comum, não cozidas, nem recheadas, nem preparadas de outro modo, exceto a descrita no CEST 17.049.03, derivadas de farinha de trigo"},{cest:"17.049.07",ncmsh:"19021",descricao:"Massas alimentícias do tipo sêmola, não cozidas, nem recheadas, nem preparadas de outro modo, exceto a descrita no CEST 17.049.04, derivadas de farinha de trigo"},{cest:"17.049.08",ncmsh:"19021900",descricao:"Massas alimentícias do tipo comum, não cozidas, nem recheadas, nem preparadas de outro modo, que não contenham ovos, derivadas de farinha de trigo"},{cest:"17.049.09",ncmsh:"19021900",descricao:"Massas alimentícias do tipo sêmola, não cozidas, nem recheadas, nem preparadas de outro modo, que não contenham ovos, derivadas de farinha de trigo"},{cest:"17.050.00",ncmsh:"190520",descricao:"Pães industrializados, inclusive de especiarias, exceto panetones e bolo de forma"},{cest:"17.051.00",ncmsh:"19052090",descricao:"Bolo de forma, inclusive de especiarias"},{cest:"17.052.00",ncmsh:"19052010",descricao:"Panetones"},{cest:"17.053.00",ncmsh:"19053100",descricao:"Biscoitos e bolachas derivados de farinha de trigo; (exceto dos tipos “cream cracker”, “água e sal”, “maisena”, “maria” e outros de consumo popular que não sejam adicionados de cacau, nem recheados, cobertos ou amanteigados, independentemente de sua denominação comercial)"},{cest:"17.053.01",ncmsh:"19053100",descricao:"Biscoitos e bolachas derivados de farinha de trigo dos tipos “maisena” e “maria” e outros de consumo popular que não sejam adicionados de cacau, nem recheados, cobertos ou amanteigados, independentemente de sua denominação comercial, exceto o CEST 17.053.02"},{cest:"17.053.02",ncmsh:"19053100",descricao:'Biscoitos e bolachas derivados de farinha de trigo dos tipos "cream cracker" e "água e sal" de consumo popular'},{cest:"17.054.00",ncmsh:"19053100",descricao:'Biscoitos e bolachas não derivados de farinha de trigo; (exceto dos tipos "cream cracker", "água e sal", "maisena" e "maria" e outros de consumo popular que não sejam adicionados de cacau, nem recheados, cobertos ou amanteigados, independentemente de sua denominação comercial)'},{cest:"17.054.01",ncmsh:"19053100",descricao:'Biscoitos e bolachas não derivados de farinha de trigo dos tipos "maisena" e "maria" e outros de consumo popular que não sejam adicionados de cacau, nem recheados, cobertos ou amanteigados, independentemente de sua denominação comercial, exceto o CEST 17.054.02'},{cest:"17.054.02",ncmsh:"19053100",descricao:'Biscoitos e bolachas não derivados de farinha de trigo dos tipos "cream cracker" e "água e sal" de consumo popular'},{cest:"17.056.00",ncmsh:"19059020",descricao:"Biscoitos e bolachas derivados de farinha de trigo dos tipos “cream cracker” e “água e sal”"},{cest:"17.056.01",ncmsh:"19059020",descricao:"Biscoitos e bolachas não derivados de farinha de trigo dos tipos “cream cracker” e “água e sal”"},{cest:"17.056.02",ncmsh:"19059020",descricao:"Outras bolachas, exceto casquinhas para sorvete e os biscoitos e bolachas relacionados nos CEST 17.056.00 e 17.056.01"},{cest:"17.057.00",ncmsh:"19053200",descricao:"“Waffles” e “wafers” - sem cobertura"},{cest:"17.058.00",ncmsh:"19053200",descricao:"“Waffles” e “wafers” - com cobertura"},{cest:"17.059.00",ncmsh:"19054000",descricao:"Torradas, pão torrado e produtos semelhantes torrados"},{cest:"17.060.00",ncmsh:"19059010",descricao:"Outros pães de forma"},{cest:"17.062.00",ncmsh:"19059090",descricao:"Outros pães, exceto o classificado no CEST 17.062.03"},{cest:"17.062.01",ncmsh:"19059090",descricao:"Outros bolos industrializados e produtos de panificação não especificados anteriormente, incluindo as pizzas; exceto os classificados nos CEST 17.062.02 e 17.062.03"},{cest:"17.062.02",ncmsh:"19059020;19059090",descricao:"Casquinhas para sorvete"},{cest:"17.062.03",ncmsh:"19059090",descricao:"Pão francês até 200g"},{cest:"17.063.00",ncmsh:"19051000",descricao:"Pão denominado knackebrot"},{cest:"17.064.00",ncmsh:"190590",descricao:"Demais pães industrializados"},{cest:"17.065.00",ncmsh:"15079011",descricao:"Óleo de soja refinado, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conteúdo inferior ou igual a 15 mililitros"},{cest:"17.066.00",ncmsh:"1508",descricao:"Óleo de amendoim refinado, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conteúdo inferior ou igual a 15 mililitros"},{cest:"17.067.00",ncmsh:"1509",descricao:"Azeites de oliva, em recipientes com capacidade inferior a 2 litros, exceto as embalagens individuais de conteúdo inferior ou igual a 20 mililitros"},{cest:"17.067.01",ncmsh:"1509",descricao:"Azeites de oliva, em recipientes com capacidade igual ou superior a 2 litros e inferior ou igual a 5 litros"},{cest:"17.067.02",ncmsh:"1509",descricao:"Azeites de oliva, em recipientes com capacidade superior a 5 litros"},{cest:"17.068.00",ncmsh:"15100000",descricao:"Outros óleos e respectivas frações, obtidos exclusivamente a partir de azeitonas, mesmo refinados, mas não quimicamente modificados, e misturas desses óleos ou frações com óleos ou frações da posição 15.09, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conteúdo inferior ou igual a 15 mililitros"},{cest:"17.069.00",ncmsh:"15121911",descricao:"Óleo de girassol em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conteúdo inferior ou igual a 15 mililitros"},{cest:"17.069.01",ncmsh:"15122910",descricao:"Óleo de algodão refinado em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conteúdo inferior ou igual a 15 mililitros"},{cest:"17.070.00",ncmsh:"15141",descricao:"Óleo de canola, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conteúdo inferior ou igual a 15 mililitros"},{cest:"17.071.00",ncmsh:"15151900",descricao:"Óleo de linhaça refinado, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conteúdo inferior ou igual a 15 mililitros"},{cest:"17.072.00",ncmsh:"15152910",descricao:"Óleo de milho refinado, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conteúdo inferior ou igual a 15 mililitros"},{cest:"17.073.00",ncmsh:"15122990",descricao:"Outros óleos refinados, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conteúdo inferior ou igual a 15 mililitros"},{cest:"17.074.00",ncmsh:"15179010",descricao:"Misturas de óleos refinados, para consumo humano, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conteúdo inferior ou igual a 15 mililitros"},{cest:"17.075.00",ncmsh:"1511;1513;1514;1515;1516;1518",descricao:"Outros óleos vegetais comestíveis não especificados anteriormente"},{cest:"17.076.00",ncmsh:"16010000",descricao:"Enchidos (embutidos) e produtos semelhantes, de carne, miudezas ou sangue; exceto salsicha, linguiça e mortadela"},{cest:"17.077.00",ncmsh:"16010000",descricao:"Salsicha e linguiça, exceto as descritas nos CEST 17.077.01"},{cest:"17.077.01",ncmsh:"16010000",descricao:"Salsicha em lata"},{cest:"17.078.00",ncmsh:"16010000",descricao:"Mortadela"},{cest:"17.079.00",ncmsh:"1602",descricao:"Outras preparações e conservas de carne, miudezas ou de sangue, exceto as descritas nos CEST 17.079.01, 17.079.02, 17.079.03, 17.079.04, 17.079.05, 17.079.06 e 17.079.07"},{cest:"17.079.01",ncmsh:"16023100",descricao:"Outras preparações e conservas de carne, de miudezas ou de sangue, de aves da posição 01.05: de peruas e de perus."},{cest:"17.079.02",ncmsh:"16023210",descricao:"Outras preparações e conservas de carne, de miudezas ou de sangue, de aves da posição 01.05: de galos e de galinhas, com conteúdo de carne ou de miudezas superior ou igual a 57 %, em peso, não cozidas"},{cest:"17.079.03",ncmsh:"16023220",descricao:"Outras preparações e conservas de carne, de miudezas ou de sangue, todas de aves da posição 01.05: de galos e de galinhas, com conteúdo de carne ou de miudezas superior ou igual a 57 %, em peso, cozidas"},{cest:"17.079.04",ncmsh:"16024100",descricao:"Outras preparações e conservas de carne, de miudezas ou de sangue, da espécie suína: pernas e respectivos pedaços"},{cest:"17.079.05",ncmsh:"16024900",descricao:"Outras preparações e conservas de carne, de miudezas ou de sangue, da espécie suína: outras, incluindo as misturas, exceto os descritos no CEST 17.079.07"},{cest:"17.079.06",ncmsh:"16025000",descricao:"Outras preparações e conservas de carne, de miudezas ou de sangue, da espécie bovina"},{cest:"17.079.07",ncmsh:"16024900",descricao:"Apresuntado"},{cest:"17.080.00",ncmsh:"1604",descricao:"Preparações e conservas de peixes; caviar e seus sucedâneos preparados a partir de ovas de peixe; exceto os descritos nos CEST 17.080.01 e 17.081.00"},{cest:"17.080.01",ncmsh:"16042010",descricao:"Outras preparações e conservas de atuns"},{cest:"17.081.00",ncmsh:"1604",descricao:"Sardinha em conserva"},{cest:"17.082.00",ncmsh:"1605",descricao:"Crustáceos, moluscos e outros invertebrados aquáticos, preparados ou em conservas"},{cest:"17.083.00",ncmsh:"02102000;02109900;1502",descricao:"Carne de gado bovino, ovino e bufalino e produtos comestíveis resultantes da matança desse gado submetidos à salga, secagem ou desidratação, exceto os descritos no CEST 17.083.01"},{cest:"17.083.01",ncmsh:"02102000",descricao:"Charque e jerkedbeef"},{cest:"17.084.00",ncmsh:"0201;0202;0204;0206",descricao:"Carne de gado bovino, ovino e bufalino e demais produtos comestíveis resultantes da matança desse gado frescos, refrigerados ou congelados"},{cest:"17.085.00",ncmsh:"204",descricao:"Carnes de animais das espécies caprina, frescas, refrigeradas ou congeladas"},{cest:"17.086.00",ncmsh:"02109900;15021019;15029000",descricao:"Carnes e demais produtos comestíveis frescos, resfriados, congelados, salgados ou salmourados resultantes do abate de caprinos"},{cest:"17.087.00",ncmsh:"0207;0209;02109900;1501",descricao:"Carnes e demais produtos comestíveis frescos, resfriados, congelados, salgados, em salmoura, simplesmente temperados, secos ou defumados, resultantes do abate de aves, exceto os descritos no CEST 17.087.02"},{cest:"17.087.01",ncmsh:"0203;0206;0209;02101;02109900;1501",descricao:"Carnes e demais produtos comestíveis frescos, resfriados, congelados, salgados, em salmoura, simplesmente temperados, secos ou defumados, resultantes do abate de suínos"},{cest:"17.087.02",ncmsh:"02071;02072",descricao:"Carnes de aves inteiras e com peso unitário superior a 3 kg, temperadas"},{cest:"17.088.00",ncmsh:"710",descricao:"Produtos hortícolas, cozidos em água ou vapor, congelados, em embalagens de conteúdo inferior ou igual a 1 kg"},{cest:"17.088.01",ncmsh:"710",descricao:"Produtos hortícolas, cozidos em água ou vapor, congelados, em embalagens de conteúdo superior a 1 kg"},{cest:"17.089.00",ncmsh:"0811",descricao:"Frutas, não cozidas ou cozidas em água ou vapor, congeladas, mesmo adicionadas de açúcar ou de outros edulcorantes, em embalagens de conteúdo inferior ou igual a 1 kg"},{cest:"17.089.01",ncmsh:"0811",descricao:"Frutas, não cozidas ou cozidas em água ou vapor, congeladas, mesmo adicionadas de açúcar ou de outros edulcorantes, em embalagens de conteúdo superior a 1 kg"},{cest:"17.090.00",ncmsh:"2001",descricao:"Produtos hortícolas, frutas e outras partes comestíveis de plantas, preparados ou conservados em vinagre ou em ácido acético, em embalagens de conteúdo inferior ou igual a 1 kg"},{cest:"17.090.01",ncmsh:"2001",descricao:"Produtos hortícolas, frutas e outras partes comestíveis de plantas, preparados ou conservados em vinagre ou em ácido acético, em embalagens de conteúdo superior a 1 kg"},{cest:"17.091.00",ncmsh:"2004",descricao:"Outros produtos hortícolas preparados ou conservados, exceto em vinagre ou em ácido acético, congelados, com exceção dos produtos da posição 20.06, em embalagens de conteúdo inferior ou igual a 1 kg"},{cest:"17.091.01",ncmsh:"2004",descricao:"Outros produtos hortícolas preparados ou conservados, exceto em vinagre ou em ácido acético, congelados, com exceção dos produtos da posição 20.06, em embalagens de conteúdo superior a 1 kg"},{cest:"17.092.00",ncmsh:"2005",descricao:"Outros produtos hortícolas preparados ou conservados, exceto em vinagre ou em ácido acético, não congelados, com exceção dos produtos da posição 20.06, excluídos batata, inhame e mandioca fritos, em embalagens de conteúdo inferior ou igual a 1 kg"},{cest:"17.092.01",ncmsh:"2005",descricao:"Outros produtos hortícolas preparados ou conservados, exceto em vinagre ou em ácido acético, não congelados, com exceção dos produtos da posição 20.06, excluídos batata, inhame e mandioca fritos, em embalagens de conteúdo superior a 1 kg"},{cest:"17.093.00",ncmsh:"20060000",descricao:"Produtos hortícolas, frutas, cascas de frutas e outras partes de plantas, conservados com açúcar (passados por calda, glaceados ou cristalizados), em embalagens de conteúdo inferior ou igual a 1 kg"},{cest:"17.093.01",ncmsh:"20060000",descricao:"Produtos hortícolas, frutas, cascas de frutas e outras partes de plantas, conservados com açúcar (passados por calda, glaceados ou cristalizados), em embalagens de conteúdo superior a 1 kg"},{cest:"17.094.00",ncmsh:"2007",descricao:"Doces, geleias, “marmelades”, purês e pastas de frutas, obtidos por cozimento, com ou sem adição de açúcar ou de outros edulcorantes, em embalagens de conteúdo inferior ou igual a 1 kg, exceto as embalagens individuais de conteúdo inferior ou igual a 10 g"},{cest:"17.094.01",ncmsh:"2007",descricao:"Doces, geleias, “marmelades”, purês e pastas de frutas, obtidos por cozimento, com ou sem adição de açúcar ou de outros edulcorantes, em embalagens de conteúdo superior a 1 kg"},{cest:"17.095.00",ncmsh:"2008",descricao:"Frutas e outras partes comestíveis de plantas, preparadas ou conservadas de outro modo, com ou sem adição de açúcar ou de outros edulcorantes ou de álcool, não especificadas nem compreendidas em outras posições, excluídos os amendoins e castanhas tipo aperitivo, da posição 2008.1, em embalagens de conteúdo inferior ou igual a 1 kg"},{cest:"17.095.01",ncmsh:"2008",descricao:"Frutas e outras partes comestíveis de plantas, preparadas ou conservadas de outro modo, com ou sem adição de açúcar ou de outros edulcorantes ou de álcool, não especificadas nem compreendidas em outras posições, excluídos os amendoins e castanhas tipo aperitivo, da posição 2008.1, em embalagens superior a 1 kg"},{cest:"17.096.00",ncmsh:"901",descricao:"Café torrado e moído, em embalagens de conteúdo inferior ou igual a 2 kg, exceto os classificados nos CEST 17.096.04 e 17.096.05"},{cest:"17.096.01",ncmsh:"901",descricao:"Café torrado e moído, em embalagens de conteúdo superior a 2 kg"},{cest:"17.096.02",ncmsh:"901",descricao:"Café torrado em grão, em embalagens de conteúdo inferior ou igual a 2 kg"},{cest:"17.096.03",ncmsh:"901",descricao:"Café torrado em grão, em embalagens de conteúdo superior a 2 kg"},{cest:"17.096.04",ncmsh:"901",descricao:"Café torrado e moído, em cápsulas, exceto os descritos no CEST 17.096.05"},{cest:"17.096.05",ncmsh:"901",descricao:"Café descafeinado torrado e moído, em cápsulas"},{cest:"17.097.00",ncmsh:"0902;12119090;21069090",descricao:"Chá, mesmo aromatizado"},{cest:"17.098.00",ncmsh:"090300",descricao:"Mate"},{cest:"17.099.00",ncmsh:"17011;17019900",descricao:"Açúcar refinado, em embalagens de conteúdo inferior ou igual a 2 kg, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 10 g"},{cest:"17.099.01",ncmsh:"17011;17019900",descricao:"Açúcar refinado, em embalagens de conteúdo superior a 2 kg e inferior ou igual a 5 kg"},{cest:"17.099.02",ncmsh:"17011;17019900",descricao:"Açúcar refinado, em embalagens de conteúdo superior a 5 kg"},{cest:"17.100.00",ncmsh:"17019100",descricao:"Açúcar refinado adicionado de aromatizante ou de corante em embalagens de conteúdo inferior ou igual a 2 kg, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 10 g"},{cest:"17.100.01",ncmsh:"17019100",descricao:"Açúcar refinado adicionado de aromatizante ou de corante em embalagens de conteúdo superior a 2 kg e inferior ou igual a 5 kg"},{cest:"17.100.02",ncmsh:"17019100",descricao:"Açúcar refinado adicionado de aromatizante ou de corante em embalagens de conteúdo superior a 5 kg"},{cest:"17.101.00",ncmsh:"17011;17019900",descricao:"Açúcar cristal, em embalagens de conteúdo inferior ou igual a 2 kg, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 10 g"},{cest:"17.101.01",ncmsh:"17011;17019900",descricao:"Açúcar cristal, em embalagens de conteúdo superior a 2 kg e inferior ou igual a 5 kg"},{cest:"17.101.02",ncmsh:"17011;17019900",descricao:"Açúcar cristal, em embalagens de conteúdo superior a 5 kg"},{cest:"17.102.00",ncmsh:"17019100",descricao:"Açúcar cristal adicionado de aromatizante ou de corante, em embalagens de conteúdo inferior ou igual a 2 kg, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 10 g"},{cest:"17.102.01",ncmsh:"17019100",descricao:"Açúcar cristal adicionado de aromatizante ou de corante, em embalagens de conteúdo superior a 2 kg e inferior ou igual a 5 kg"},{cest:"17.102.02",ncmsh:"170191",descricao:"Açúcar cristal adicionado de aromatizante ou de corante, em embalagens de conteúdo superior a 5 kg"},{cest:"17.103.00",ncmsh:"17011;17019900",descricao:"Outros tipos de açúcar, em embalagens de conteúdo inferior ou igual a 2 kg, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 10 g"},{cest:"17.103.01",ncmsh:"17011;17019900",descricao:"Outros tipos de açúcar, em embalagens de conteúdo superior a 2 kg e inferior ou igual a 5 kg"},{cest:"17.103.02",ncmsh:"17011;17019900",descricao:"Outros tipos de açúcar, em embalagens de conteúdo superior a 5 kg"},{cest:"17.104.00",ncmsh:"17019100",descricao:"Outros tipos de açúcar adicionado de aromatizante ou de corante, em embalagens de conteúdo inferior ou igual a 2 kg, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 10 g"},{cest:"17.104.01",ncmsh:"17019100",descricao:"Outros tipos de açúcar adicionado de aromatizante ou de corante, em embalagens de conteúdo superior a 2 kg e inferior ou igual a 5 kg"},{cest:"17.104.02",ncmsh:"17019100",descricao:"Outros tipos de açúcar adicionado de aromatizante ou de corante, em embalagens de conteúdo superior a 5 kg"},{cest:"17.105.00",ncmsh:"1702",descricao:"Outros açúcares em embalagens de conteúdo inferior ou igual a 2 kg, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 10 g"},{cest:"17.105.01",ncmsh:"1702",descricao:"Outros açúcares, em embalagens de conteúdo superior a 2 kg e inferior ou igual a 5 kg"},{cest:"17.105.02",ncmsh:"1702",descricao:"Outros açúcares, em embalagens de conteúdo superior a 5 kg"},{cest:"17.106.00",ncmsh:"20081900",descricao:"Milho para pipoca (micro-ondas)"},{cest:"17.107.00",ncmsh:"21011",descricao:"Extratos, essências e concentrados de café e preparações à base destes extratos, essências ou concentrados ou à base de café, em embalagens de conteúdo inferior ou igual a 500 g, exceto os classificados no CEST 17.107.01"},{cest:"17.107.01",ncmsh:"21011",descricao:"Extratos, essências e concentrados de café e preparações à base destes extratos, essências ou concentrados ou à base de café, em cápsulas"},{cest:"17.108.00",ncmsh:"210120",descricao:"Extratos, essências e concentrados de chá ou de mate e preparações à base destes extratos, essências ou concentrados ou à base de chá ou de mate, em embalagens de conteúdo inferior ou igual a 500 g, exceto as bebidas prontas à base de mate ou chá e os itens classificados no CEST 17.108.01"},{cest:"17.108.01",ncmsh:"210120",descricao:"Extratos, essências e concentrados de chá ou de mate e preparações à base destes extratos, essências ou concentrados ou à base de chá ou de mate, em cápsulas"},{cest:"17.109.00",ncmsh:"19019090;21011190;21011200",descricao:"Preparações em pó para cappuccino e similares, em embalagens de conteúdo inferior ou igual a 500 g"},{cest:"17.110.00",ncmsh:"22021000",descricao:"Refrescos e outras bebidas prontas para beber, à base de chá e mate"},{cest:"17.111.00",ncmsh:"22021000",descricao:"Refrescos e outras bebidas não alcoólicas, exceto os refrigerantes e as demais bebidas nos CEST 03.007.00 e 17.110.00"},{cest:"17.112.00",ncmsh:"22029900",descricao:"Néctares de frutas e outras bebidas não alcoólicas prontas para beber, exceto isotônicos e energéticos"},{cest:"17.113.00",ncmsh:"210120;22029900",descricao:"Bebidas prontas à base de mate ou chá"},{cest:"17.114.00",ncmsh:"22029900",descricao:"Bebidas prontas à base de café"},{cest:"17.115.00",ncmsh:"22029900",descricao:"Bebidas alimentares prontas à base de soja, leite ou cacau, inclusive os produtos denominados bebidas lácteas"},{cest:"17.116.00",ncmsh:"00813;00909",descricao:"Sementes de anis (erva-doce), badiana (anis-estrelado), funcho, coentro, cominho ou alcaravia; bagas de zimbro; fruta seca, misturas de fruta seca ou de fruta de casa rija; quando acondicionadas em saquinhos, especialmente, para a preparação de infusões ou de tisanas (“chás”)"},{cest:"19.001.00",ncmsh:"32131000",descricao:"Tinta guache"},{cest:"19.002.00",ncmsh:"39162000",descricao:"Espiral - perfil para encadernação, de plástico e outros materiais classificados nas posições 3901 a 3914"},{cest:"19.003.00",ncmsh:"39161000;391690",descricao:"Outros espirais - perfil para encadernação, de plástico e outros materiais classificados nas posições 3901 a 3914"},{cest:"19.004.00",ncmsh:"39261000",descricao:"Artigos de escritório e artigos escolares de plástico e outros materiais classificados nas posições 3901 a 3914, exceto estojos"},{cest:"19.005.00",ncmsh:"42021;42029",descricao:"Maletas e pastas para documentos e de estudante, e artefatos semelhantes"},{cest:"19.005.01",ncmsh:"42021;42029",descricao:"Baús, malas e maletas para viagem"},{cest:"19.006.00",ncmsh:"39269090",descricao:"Prancheta de plástico"},{cest:"19.007.00",ncmsh:"48022090;48119090",descricao:"Bobina para fax"},{cest:"19.008.00",ncmsh:"4802549",descricao:"Papel seda"},{cest:"19.009.00",ncmsh:"48025499;48025799;48162000",descricao:"Bobina para máquina de calcular, PDV ou equipamentos similares"},{cest:"19.010.00",ncmsh:"4802569;4802579;4802589",descricao:"Cartolina escolar e papel cartão, brancos e coloridos, cortados em folhas em que um lado seja inferior ou igual a 500 mm e o outro inferior ou igual a 700 mm, quando não dobradas, e peso igual ou superior a 120g/m²; recados autoadesivos (LP note); papéis de presente; todos cortados em tamanho pronto para uso escolar e doméstico"},{cest:"19.011.00",ncmsh:"37031010;37031029;37032000;37039010;37040000;48022000",descricao:"Papel fotográfico, exceto: (i) os papéis fotográficos emulsionados com haleto de prata tipo brilhante, matte ou lustre, em rolo e, com largura igual ou superior a 102 mm e comprimento inferior ou igual a 350 m, (ii) os papéis fotográficos emulsionados com haleto de prata tipo brilhante ou fosco, em folha e com largura igual ou superior a 152 mm e comprimento inferior ou igual a 307 mm, (iii) papel de qualidade fotográfica com tecnologia “Thermo-autochrome”, que submetido a um processo de aquecimento seja capaz de formar imagens por reação química e combinação das camadas cyan, magenta e amarela"},{cest:"19.012.00",ncmsh:"48101390",descricao:"Papel almaço"},{cest:"19.013.00",ncmsh:"48169010",descricao:"Papel hectográfico"},{cest:"19.014.00",ncmsh:"39202019",descricao:"Papel celofane e tipo celofane"},{cest:"19.015.00",ncmsh:"48062000",descricao:"Papel impermeável"},{cest:"19.016.00",ncmsh:"48081000",descricao:"Papel crepon"},{cest:"19.017.00",ncmsh:"48102290",descricao:"Papel fantasia"},{cest:"19.018.00",ncmsh:"4809;4816",descricao:"Papel-carbono, papel autocopiativo (exceto os vendidos em rolos de diâmetro igual ou superior a 60 cm e os vendidos em folhas de formato igual ou superior a 60 cm de altura e igual ou superior a 90 cm de largura) e outros papéis para cópia ou duplicação (incluídos os papéis para estênceis ou para chapas ofsete), estênceis completos e chapas ofsete, de papel, em folhas, mesmo acondicionados em caixas"},{cest:"19.019.00",ncmsh:"4817",descricao:"Envelopes, aerogramas, bilhetes-postais não ilustrados e cartões para correspondência, de papel ou cartão, caixas, sacos e semelhantes, de papel ou cartão, contendo um sortido de artigos para correspondência"},{cest:"19.020.00",ncmsh:"48201000",descricao:"Livros de registro e de contabilidade, blocos de notas, de encomendas, de recibos, de apontamentos, de papel para cartas, agendas e artigos semelhantes"},{cest:"19.021.00",ncmsh:"48202000",descricao:"Cadernos"},{cest:"19.022.00",ncmsh:"48203000",descricao:"Classificadores, capas para encadernação (exceto as capas para livros) e capas de processos"},{cest:"19.023.00",ncmsh:"48204000",descricao:"Formulários em blocos tipo “manifold”, mesmo com folhas intercaladas de papel-carbono"},{cest:"19.024.00",ncmsh:"48205000",descricao:"Álbuns para amostras ou para coleções"},{cest:"19.025.00",ncmsh:"48209000",descricao:"Pastas para documentos, outros artigos escolares, de escritório ou de papelaria, de papel ou cartão e capas para livros, de papel ou cartão"},{cest:"19.026.00",ncmsh:"49090000",descricao:"Cartões postais impressos ou ilustrados, cartões impressos com votos ou mensagens pessoais, mesmo ilustrados, com ou sem envelopes, guarnições ou aplicações (conhecidos como cartões de expressão social - de época/sentimento)"},{cest:"19.027.00",ncmsh:"96081000",descricao:"Canetas esferográficas"},{cest:"19.028.00",ncmsh:"96082000",descricao:"Canetas e marcadores, com ponta de feltro ou com outras pontas porosas"},{cest:"19.029.00",ncmsh:"96083000",descricao:"Canetas tinteiro"},{cest:"19.030.00",ncmsh:"9608",descricao:"Outras canetas; sortidos de canetas"},{cest:"19.031.00",ncmsh:"480256",descricao:"Papel cortado “cutsize” (tipo A3, A4, ofício I e II, carta e outros)"},{cest:"19.032.00",ncmsh:"52105990",descricao:"Papel camurça"},{cest:"19.033.00",ncmsh:"76071190",descricao:"Papel laminado e papel espelho"},{cest:"20.001.00",ncmsh:"12119090",descricao:"Henna (embalagens de conteúdo inferior ou igual a 200 g)"},{cest:"20.001.01",ncmsh:"12119090",descricao:"Henna (embalagens de conteúdo superior a 200 g)"},{cest:"20.002.00",ncmsh:"27121000",descricao:"Vaselina"},{cest:"20.003.00",ncmsh:"28142000",descricao:"Amoníaco em solução aquosa (amônia)"},{cest:"20.004.00",ncmsh:"28470000",descricao:"Peróxido de hidrogênio, em embalagens de conteúdo inferior ou igual a 500 ml"},{cest:"20.005.00",ncmsh:"30067000",descricao:"Lubrificação íntima"},{cest:"20.006.00",ncmsh:"3301",descricao:"Óleos essenciais (desterpenados ou não), incluídos os chamados “concretos” ou “absolutos”; resinoides; oleorresinas de extração; soluções concentradas de óleos essenciais em gorduras, em óleos fixos, em ceras ou em matérias análogas, obtidas por tratamento de flores através de substâncias gordas ou por maceração; subprodutos terpênicos residuais da desterpenação dos óleos essenciais; águas destiladas aromáticas e soluções aquosas de óleos essenciais, em embalagens de conteúdo inferior ou igual a 500 ml"},{cest:"20.007.00",ncmsh:"33030010",descricao:"Perfumes (extratos)"},{cest:"20.008.00",ncmsh:"33030020",descricao:"Águas-de-colônia"},{cest:"20.009.00",ncmsh:"33041000",descricao:"Produtos de maquilagem para os lábios"},{cest:"20.010.00",ncmsh:"33042010",descricao:"Sombra, delineador, lápis para sobrancelhas e rímel"},{cest:"20.011.00",ncmsh:"33042090",descricao:"Outros produtos de maquilagem para os olhos"},{cest:"20.012.00",ncmsh:"33043000",descricao:"Preparações para manicuros e pedicuros, incluindo removedores de esmalte à base de acetona"},{cest:"20.013.00",ncmsh:"33049100",descricao:"Pós, incluídos os compactos"},{cest:"20.014.00",ncmsh:"33049910",descricao:"Cremes de beleza, cremes nutritivos e loções tônicas"},{cest:"20.015.00",ncmsh:"33049990",descricao:"Outros produtos de beleza ou de maquilagem preparados e preparações para conservação ou cuidados da pele, exceto as preparações solares e antissolares"},{cest:"20.016.00",ncmsh:"33049990",descricao:"Preparações solares e antissolares"},{cest:"20.017.00",ncmsh:"33051000",descricao:"Xampus para o cabelo"},{cest:"20.018.00",ncmsh:"33052000",descricao:"Preparações para ondulação ou alisamento, permanentes, dos cabelos"},{cest:"20.019.00",ncmsh:"33053000",descricao:"Laquês para o cabelo"},{cest:"20.020.00",ncmsh:"33059000",descricao:"Outras preparações capilares, incluindo máscaras e finalizadores"},{cest:"20.021.00",ncmsh:"33059000",descricao:"Condicionadores"},{cest:"20.022.00",ncmsh:"33059000",descricao:"Tintura para o cabelo"},{cest:"20.023.00",ncmsh:"33061000",descricao:"Dentifrícios"},{cest:"20.024.00",ncmsh:"33062000",descricao:"Fios utilizados para limpar os espaços interdentais (fios dentais)"},{cest:"20.025.00",ncmsh:"33069000",descricao:"Outras preparações para higiene bucal ou dentária"},{cest:"20.026.00",ncmsh:"33071000",descricao:"Preparações para barbear (antes, durante ou após)"},{cest:"20.027.00",ncmsh:"33072010",descricao:"Desodorantes (desodorizantes) corporais líquidos, exceto os classificados no CEST 20.027.01"},{cest:"20.027.01",ncmsh:"33072010",descricao:"Loções e óleos desodorantes hidratantes líquidos"},{cest:"20.028.00",ncmsh:"33072010",descricao:"Antiperspirantes líquidos"},{cest:"20.029.00",ncmsh:"33072090",descricao:"Outros desodorantes (desodorizantes) corporais, exceto os classificados no CEST 20.029.01"},{cest:"20.029.01",ncmsh:"33072090",descricao:"Outras loções e óleos desodorantes hidratantes"},{cest:"20.030.00",ncmsh:"33072090",descricao:"Outros antiperspirantes"},{cest:"20.031.00",ncmsh:"33073000",descricao:"Sais perfumados e outras preparações para banhos"},{cest:"20.032.00",ncmsh:"33079000",descricao:"Outros produtos de perfumaria preparados"},{cest:"20.032.01",ncmsh:"33079000",descricao:"Outros produtos de toucador preparados"},{cest:"20.033.00",ncmsh:"33079000",descricao:"Soluções para lentes de contato ou para olhos artificiais"},{cest:"20.034.00",ncmsh:"34011190",descricao:"Sabões de toucador em barras, pedaços ou figuras moldados, exceto CEST 20.034.01"},{cest:"20.034.01",ncmsh:"34011190",descricao:"Lenços umedecidos"},{cest:"20.035.00",ncmsh:"34011900",descricao:"Outros sabões, produtos e preparações, em barras, pedaços ou figuras moldados"},{cest:"20.036.00",ncmsh:"34012010",descricao:"Sabões de toucador sob outras formas"},{cest:"20.037.00",ncmsh:"34013000",descricao:"Produtos e preparações orgânicos tensoativos para lavagem da pele, na forma de líquido ou de creme, acondicionados para venda a retalho, mesmo contendo sabão"},{cest:"20.038.00",ncmsh:"40149010",descricao:"Bolsa para gelo ou para água quente"},{cest:"20.039.00",ncmsh:"40149090",descricao:"Chupetas e bicos para mamadeiras e para chupetas, de borracha"},{cest:"20.040.00",ncmsh:"39249000;39269040;9269090",descricao:"Chupetas e bicos para mamadeiras e para chupetas, de silicone"},{cest:"20.041.00",ncmsh:"42021",descricao:"Malas e maletas de toucador"},{cest:"20.042.00",ncmsh:"48181000",descricao:"Papel higiênico - folha simples"},{cest:"20.043.00",ncmsh:"48181000",descricao:"Papel higiênico - folha dupla e tripla"},{cest:"20.044.00",ncmsh:"48182000",descricao:"Lenços (incluídos os de maquilagem) e toalhas de mão"},{cest:"20.045.00",ncmsh:"48182000",descricao:"Papel toalha de uso institucional do tipo comercializado em rolos igual ou superior a 80 metros e do tipo comercializado em folhas intercaladas"},{cest:"20.046.00",ncmsh:"48183000",descricao:"Toalhas e guardanapos de mesa"},{cest:"20.047.00",ncmsh:"48189090",descricao:"Toalhas de cozinha (papel toalha de uso doméstico)"},{cest:"20.048.00",ncmsh:"96190000",descricao:"Fraldas, exceto os descritos no CEST 20.048.01"},{cest:"20.048.01",ncmsh:"96190000",descricao:"Fraldas de fibras têxteis"},{cest:"20.049.00",ncmsh:"96190000",descricao:"Tampões higiênicos"},{cest:"20.050.00",ncmsh:"96190000",descricao:"Absorventes higiênicos externos"},{cest:"20.051.00",ncmsh:"56012190",descricao:"Hastes flexíveis (uso não medicinal)"},{cest:"20.052.00",ncmsh:"56039290",descricao:"Sutiã descartável, assemelhados e papel para depilação"},{cest:"20.053.00",ncmsh:"82032090",descricao:"Pinças para sobrancelhas"},{cest:"20.054.00",ncmsh:"82141000",descricao:"Espátulas (artigos de cutelaria)"},{cest:"20.055.00",ncmsh:"82142000",descricao:"Utensílios e sortidos de utensílios de manicuros ou de pedicuros (incluídas as limas para unhas)"},{cest:"20.056.00",ncmsh:"90251110;90251990",descricao:"Termômetros, inclusive o digital"},{cest:"20.057.00",ncmsh:"96032",descricao:"Escovas e pincéis de barba, escovas para cabelos, para cílios ou para unhas e outras escovas de toucador de pessoas, incluídas as que sejam partes de aparelhos, exceto escovas de dentes"},{cest:"20.058.00",ncmsh:"96032100",descricao:"Escovas de dentes, incluídas as escovas para dentaduras"},{cest:"20.059.00",ncmsh:"96033000",descricao:"Pincéis para aplicação de produtos cosméticos"},{cest:"20.060.00",ncmsh:"96050000",descricao:"Sortidos de viagem, para toucador de pessoas para costura ou para limpeza de calçado ou de roupas"},{cest:"20.061.00",ncmsh:"9615",descricao:"Pentes, travessas para cabelo e artigos semelhantes; grampos (alfinetes) para cabelo; pinças (pinceguiches), onduladores, bobes (rolos) e artefatos semelhantes para penteados, e suas partes, exceto os classificados na posição 8516 e suas partes"},{cest:"20.062.00",ncmsh:"96162000",descricao:"Borlas ou esponjas para pós ou para aplicação de outros cosméticos ou de produtos de toucador"},{cest:"20.063.00",ncmsh:"39233000;39249000;39241000;40149090;70102000",descricao:"Mamadeiras"},{cest:"20.064.00",ncmsh:"82121020;82122010",descricao:"Aparelhos e lâminas de barbear"},{cest:"21.001.00",ncmsh:"73211100;73218100;73219000",descricao:"Fogões de cozinha de uso doméstico e suas partes"},{cest:"21.002.00",ncmsh:"84181000",descricao:"Combinações de refrigeradores e congeladores (“freezers”), munidos de portas exteriores separadas"},{cest:"21.003.00",ncmsh:"84182100",descricao:"Refrigeradores do tipo doméstico, de compressão"},{cest:"21.004.00",ncmsh:"84182900",descricao:"Outros refrigeradores do tipo doméstico"},{cest:"21.005.00",ncmsh:"84183000",descricao:"Congeladores (“freezers”) horizontais tipo arca, de capacidade não superior a 800 litros"},{cest:"21.006.00",ncmsh:"84184000",descricao:"Congeladores (“freezers”) verticais tipo armário, de capacidade não superior a 900 litros"},{cest:"21.007.00",ncmsh:"841850",descricao:"Outros móveis (arcas, armários, vitrines, balcões e móveis semelhantes) para a conservação e exposição de produtos, que incorporem um equipamento para a produção de frio"},{cest:"21.008.00",ncmsh:"8418699",descricao:"Mini adega e similares"},{cest:"21.009.00",ncmsh:"84186999",descricao:"Máquinas para produção de gelo"},{cest:"21.010.00",ncmsh:"84189900",descricao:"Partes dos refrigeradores, congeladores, mini adegas e similares, máquinas para produção de gelo e bebedouros descritos nos CEST 21.002.00, 21.003.00, 21.004.00, 21.005.00, 21.006.00, 21.007.00, 21.008.00, 21.009.00 e 21.013.00"},{cest:"21.011.00",ncmsh:"842112",descricao:"Secadoras de roupa de uso doméstico"},{cest:"21.012.00",ncmsh:"84211990",descricao:"Outras secadoras de roupas e centrífugas de uso doméstico"},{cest:"21.013.00",ncmsh:"84186931",descricao:"Bebedouros refrigerados para água"},{cest:"21.014.00",ncmsh:"84219",descricao:"Partes das secadoras de roupas e centrífugas de uso doméstico e dos aparelhos para filtrar ou depurar água, descritos nos CEST 21.011.00 e 21.012.00 e 21.098.00"},{cest:"21.015.00",ncmsh:"84221100;84229010",descricao:"Máquinas de lavar louça do tipo doméstico e suas partes"},{cest:"21.016.00",ncmsh:"844331",descricao:"Máquinas que executem pelo menos duas das seguintes funções: impressão, cópia ou transmissão de telecópia (fax), capazes de ser conectadas a uma máquina automática para processamento de dados ou a uma rede"},{cest:"21.017.00",ncmsh:"844332",descricao:"Outras impressoras, máquinas copiadoras e telecopiadores (fax), mesmo combinados entre si, capazes de ser conectados a uma máquina automática para processamento de dados ou a uma rede"},{cest:"21.018.00",ncmsh:"84439",descricao:"Partes e acessórios de máquinas e aparelhos de impressão por meio de blocos, cilindros e outros elementos de impressão da posição 8442; e de outras impressoras, máquinas copiadoras e telecopiadores (fax), mesmo combinados entre si"},{cest:"21.019.00",ncmsh:"84501100",descricao:"Máquinas de lavar roupa, mesmo com dispositivos de secagem, de uso doméstico, de capacidade não superior a 10 kg, em peso de roupa seca, inteiramente automáticas"},{cest:"21.020.00",ncmsh:"84501200",descricao:"Outras máquinas de lavar roupa, mesmo com dispositivos de secagem, de uso doméstico, com secador centrífugo incorporado"},{cest:"21.021.00",ncmsh:"84501900",descricao:"Outras máquinas de lavar roupa, mesmo com dispositivos de secagem, de uso doméstico"},{cest:"21.022.00",ncmsh:"845020",descricao:"Máquinas de lavar roupa, mesmo com dispositivos de secagem, de uso doméstico, de capacidade superior a 10 kg, em peso de roupa seca"},{cest:"21.023.00",ncmsh:"845090",descricao:"Partes de máquinas de lavar roupa, mesmo com dispositivos de secagem, de uso doméstico"},{cest:"21.024.00",ncmsh:"84512100",descricao:"Máquinas de secar de uso doméstico de capacidade não superior a 10 kg, em peso de roupa seca"},{cest:"21.025.00",ncmsh:"84512990",descricao:"Outras máquinas de secar de uso doméstico"},{cest:"21.026.00",ncmsh:"845190",descricao:"Partes de máquinas de secar de uso doméstico"},{cest:"21.027.00",ncmsh:"84521000",descricao:"Máquinas de costura de uso doméstico"},{cest:"21.028.00",ncmsh:"847130",descricao:"Máquinas automáticas para processamento de dados, portáteis, de peso não superior a 10 kg, contendo pelo menos uma unidade central de processamento, um teclado e uma tela"},{cest:"21.029.00",ncmsh:"84714",descricao:"Outras máquinas automáticas para processamento de dados"},{cest:"21.030.00",ncmsh:"84715010",descricao:"Unidades de processamento, de pequena capacidade, exceto as das subposições 8471.41 ou 8471.49, podendo conter, no mesmo corpo, um ou dois dos seguintes tipos de unidades: unidade de memória, unidade de entrada e unidade de saída; baseadas em microprocessadores, com capacidade de instalação, dentro do mesmo gabinete, de unidades de memória da subposição 8471.70, podendo conter múltiplos conectores de expansão (“slots”), e valor FOB inferior ou igual a US$ 12.500,00, por unidade"},{cest:"21.031.00",ncmsh:"8471605",descricao:"Unidades de entrada, exceto as classificadas no código 8471.60.54"},{cest:"21.032.00",ncmsh:"84716090",descricao:"Outras unidades de entrada ou de saída, podendo conter, no mesmo corpo, unidades de memória"},{cest:"21.033.00",ncmsh:"847170",descricao:"Unidades de memória"},{cest:"21.034.00",ncmsh:"847190",descricao:"Outras máquinas automáticas para processamento de dados e suas unidades; leitores magnéticos ou ópticos, máquinas para registrar dados em suporte sob forma codificada, e máquinas para processamento desses dados, não especificadas nem compreendidas em outras posições"},{cest:"21.035.00",ncmsh:"847330",descricao:"Partes e acessórios das máquinas da posição 84.71"},{cest:"21.036.00",ncmsh:"85043",descricao:"Outros transformadores, exceto os classificados nos códigos 8504.33.00 e 8504.34.00"},{cest:"21.037.00",ncmsh:"85044010",descricao:"Carregadores de acumuladores"},{cest:"21.038.00",ncmsh:"85044040",descricao:"Equipamentos de alimentação ininterrupta de energia (UPS ou “no break”)"},{cest:"21.039.00",ncmsh:"85078000",descricao:"Outros acumuladores"},{cest:"21.040.00",ncmsh:"8508",descricao:"Aspiradores"},{cest:"21.041.00",ncmsh:"8509",descricao:"Aparelhos eletromecânicos de motor elétrico incorporado, de uso doméstico e suas partes"},{cest:"21.042.00",ncmsh:"85098010",descricao:"Enceradeiras"},{cest:"21.043.00",ncmsh:"85161000",descricao:"Chaleiras elétricas"},{cest:"21.044.00",ncmsh:"85164000",descricao:"Ferros elétricos de passar"},{cest:"21.045.00",ncmsh:"85165000",descricao:"Fornos de micro-ondas"},{cest:"21.046.00",ncmsh:"85166000",descricao:"Outros fornos; fogareiros (incluídas as chapas de cocção), grelhas e assadeiras, exceto os portáteis"},{cest:"21.047.00",ncmsh:"85166000",descricao:"Outros fornos; fogareiros (incluídas as chapas de cocção), grelhas e assadeiras, portáteis"},{cest:"21.048.00",ncmsh:"85167100",descricao:"Outros aparelhos eletrotérmicos de uso doméstico - Cafeteiras"},{cest:"21.049.00",ncmsh:"85167200",descricao:"Outros aparelhos eletrotérmicos de uso doméstico - Torradeiras"},{cest:"21.050.00",ncmsh:"851679",descricao:"Outros aparelhos eletrotérmicos de uso doméstico"},{cest:"21.051.00",ncmsh:"85169000",descricao:"Partes das chaleiras, ferros, fornos e outros aparelhos eletrotérmicos da posição 85.16, descritos nos CEST 21.043.00, 21.044.00, 21.045.00, 21.046.00, 21.047.00, 21.048.00, 21.049.00 e 21.050.00"},{cest:"21.052.00",ncmsh:"85171100",descricao:"Aparelhos telefônicos por fio com unidade auscultador - microfone sem fio"},{cest:"21.053.00",ncmsh:"8517123",descricao:"Telefones para redes celulares, exceto por satélite, os de uso automotivo e os classificados no CEST 21.053.01"},{cest:"21.053.01",ncmsh:"85171231",descricao:"Telefones para redes celulares portáteis, exceto por satélite"},{cest:"21.054.00",ncmsh:"851712",descricao:"Outros telefones para outras redes sem fio, exceto para redes de celulares e os de uso automotivo"},{cest:"21.055.00",ncmsh:"85171891",descricao:"Outros aparelhos telefônicos não combinados com outros aparelhos"},{cest:"21.055.01",ncmsh:"85171899",descricao:"Outros aparelhos telefônicos"},{cest:"21.056.00",ncmsh:"85176259",descricao:"Outros aparelhos para transmissão ou recepção de voz, imagem ou outros dados em rede com fio."},{cest:"21.056.01",ncmsh:"85176254;85176255",descricao:"Distribuidores de conexões para rede (“hubs”) e moduladores/demoduladores (“modens”)."},{cest:"21.057.00",ncmsh:"8518",descricao:"Microfones e seus suportes; alto-falantes, mesmo montados nos seus receptáculos, fones de ouvido (auscultadores), mesmo combinados com microfone e conjuntos ou sortidos constituídos por um microfone e um ou mais alto-falantes, amplificadores elétricos de audiofrequência, aparelhos elétricos de amplificação de som; suas partes e acessórios; exceto os de uso automotivo"},{cest:"21.058.00",ncmsh:"8519;8522;85271",descricao:"Aparelhos de radiodifusão suscetíveis de funcionarem sem fonte externa de energia. Aparelhos de gravação de som; aparelhos de reprodução de som; aparelhos de gravação e de reprodução de som; partes e acessórios; exceto os de uso automotivo"},{cest:"21.059.00",ncmsh:"85198190",descricao:"Outros aparelhos de gravação de som; aparelhos de reprodução de som; aparelhos de gravação e de reprodução de som; partes e acessórios; exceto os de uso automotivo"},{cest:"21.060.00",ncmsh:"85219010",descricao:"Gravador-reprodutor e editor de imagem e som, em discos, por meio magnético, óptico ou optomagnético, exceto de uso automotivo"},{cest:"21.061.00",ncmsh:"85219090",descricao:"Outros aparelhos videofônicos de gravação ou reprodução, mesmo incorporando um receptor de sinais videofônicos, exceto os de uso automotivo"},{cest:"21.062.00",ncmsh:"85235110",descricao:'Cartões de memória ("memorycards")'},{cest:"21.063.00",ncmsh:"85235200",descricao:'Cartões inteligentes ("smartcards"), exceto o item classificado no CEST 21.064.00'},{cest:"21.064.00",ncmsh:"85235200",descricao:'Cartões inteligentes ("sim cards")'},{cest:"21.065.00",ncmsh:"8525802",descricao:"Câmeras fotográficas digitais e câmeras de vídeo e suas partes"},{cest:"21.066.00",ncmsh:"85279",descricao:"Outros aparelhos receptores para radiodifusão, mesmo combinados num invólucro, com um aparelho de gravação ou de reprodução de som, ou com um relógio, inclusive caixa acústica para Home Theaters classificados na posição 8518"},{cest:"21.067.00",ncmsh:"85284929;85285920;852869",descricao:"Monitores e projetores que não incorporem aparelhos receptores de televisão, policromáticos"},{cest:"21.067.01",ncmsh:"85286200",descricao:"Projetores capazes de serem conectados diretamente a uma máquina automática para processamento de dados da posição 84.71 e concebidos para serem utilizados com esta máquina"},{cest:"21.068.00",ncmsh:"85285220",descricao:"Outros monitores capazes de serem conectados diretamente a uma máquina automática para processamento de dados da posição 84.71 e concebidos para serem utilizados com esta máquina, policromáticos"},{cest:"21.069.00",ncmsh:"85287",descricao:"Aparelhos receptores de televisão, mesmo que incorporem um aparelho receptor de radiodifusão ou um aparelho de gravação ou reprodução de som ou de imagens - Televisores de CRT (tubo de raios catódicos)"},{cest:"21.070.00",ncmsh:"85287",descricao:"Aparelhos receptores de televisão, mesmo que incorporem um aparelho receptor de radiodifusão ou um aparelho de gravação ou reprodução de som ou de imagens - Televisores de LCD (Display de Cristal Líquido)"},{cest:"21.071.00",ncmsh:"85287",descricao:"Aparelhos receptores de televisão, mesmo que incorporem um aparelho receptor de radiodifusão ou um aparelho de gravação ou reprodução de som ou de imagens - Televisores de Plasma"},{cest:"21.072.00",ncmsh:"85287",descricao:"Outros aparelhos receptores de televisão não dotados de monitores ou display de vídeo"},{cest:"21.073.00",ncmsh:"85287",descricao:"Outros aparelhos receptores de televisão não relacionados nos CEST 21.069.00, 21.070.00, 21.071.00 e 21.072.00"},{cest:"21.074.00",ncmsh:"900659",descricao:"Câmeras fotográficas dos tipos utilizadas para preparação de clichês ou cilindros de impressão"},{cest:"21.075.00",ncmsh:"90064000",descricao:"Câmeras fotográficas para filmes de revelação e copiagem instantâneas"},{cest:"21.076.00",ncmsh:"90189050",descricao:"Aparelhos de diatermia"},{cest:"21.077.00",ncmsh:"90191000",descricao:"Aparelhos de massagem"},{cest:"21.078.00",ncmsh:"90328911",descricao:"Reguladores de voltagem eletrônicos"},{cest:"21.079.00",ncmsh:"95045000",descricao:"Consoles e máquinas de jogos de vídeo, exceto os classificados na subposição 9504.30"},{cest:"21.080.00",ncmsh:"8517621",descricao:"Multiplexadores e concentradores"},{cest:"21.081.00",ncmsh:"85176222",descricao:"Centrais automáticas privadas, de capacidade inferior ou igual a 25 ramais"},{cest:"21.082.00",ncmsh:"85176239",descricao:"Outros aparelhos para comutação"},{cest:"21.083.00",ncmsh:"8517624",descricao:"Roteadores digitais, em redes com ou sem fio"},{cest:"21.084.00",ncmsh:"85176262",descricao:"Aparelhos emissores com receptor incorporado de sistema troncalizado (“trunking”), de tecnologia celular"},{cest:"21.085.00",ncmsh:"8517629",descricao:"Outros aparelhos de recepção, conversão e transmissão ou regeneração de voz, imagens ou outros dados, incluindo os aparelhos de comutação e roteamento"},{cest:"21.086.00",ncmsh:"85177021",descricao:"Antenas próprias para telefones celulares portáteis, exceto as telescópicas"},{cest:"21.087.00",ncmsh:"821490;8510",descricao:"Aparelhos ou máquinas de barbear, máquinas de cortar o cabelo ou de tosquiar e aparelhos de depilar, e suas partes"},{cest:"21.088.00",ncmsh:"84145",descricao:"Ventiladores, exceto os de uso agrícola"},{cest:"21.089.00",ncmsh:"84145990",descricao:"Ventiladores de uso agrícola"},{cest:"21.090.00",ncmsh:"84146000",descricao:"Coifas com dimensão horizontal máxima não superior a 120 cm"},{cest:"21.091.00",ncmsh:"84149020",descricao:"Partes de ventiladores ou coifas aspirantes"},{cest:"21.092.00",ncmsh:"841510;84158",descricao:"Máquinas e aparelhos de ar condicionado contendo um ventilador motorizado e dispositivos próprios para modificar a temperatura e a umidade, incluídos as máquinas e aparelhos em que a umidade não seja regulável separadamente"},{cest:"21.093.00",ncmsh:"84151011",descricao:"Aparelhos de ar-condicionado tipo Split System (sistema com elementos separados) com unidade externa e interna"},{cest:"21.094.00",ncmsh:"84151019",descricao:"Aparelhos de ar-condicionado com capacidade inferior ou igual a 30.000 frigorias/hora"},{cest:"21.095.00",ncmsh:"84151090",descricao:"Aparelhos de ar-condicionado com capacidade acima de 30.000 frigorias/hora"},{cest:"21.096.00",ncmsh:"84159010",descricao:"Unidades evaporadoras (internas) de aparelho de ar-condicionado do tipo Split System (sistema com elementos separados), com capacidade inferior ou igual a 30.000 frigorias/hora"},{cest:"21.097.00",ncmsh:"84159020",descricao:"Unidades condensadoras (externas) de aparelho de ar-condicionado do tipo Split System (sistema com elementos separados), com capacidade inferior ou igual a 30.000 frigorias/hora"},{cest:"21.098.00",ncmsh:"84212100",descricao:"Aparelhos elétricos para filtrar ou depurar água (purificadores de água refrigerados), exceto os itens classificados no CEST 21.098.01"},{cest:"21.098.01",ncmsh:"84212100",descricao:"Outros aparelhos elétricos para filtrar ou depurar água"},{cest:"21.099.00",ncmsh:"84243010;84243090;84249090",descricao:"Lavadora de alta pressão e suas partes"},{cest:"21.100.00",ncmsh:"84672100",descricao:"Furadeiras elétricas"},{cest:"21.101.00",ncmsh:"85162",descricao:"Aparelhos elétricos para aquecimento de ambientes"},{cest:"21.102.00",ncmsh:"85163100",descricao:"Secadores de cabelo"},{cest:"21.103.00",ncmsh:"85163200",descricao:"Outros aparelhos para arranjos do cabelo"},{cest:"21.104.00",ncmsh:"8527",descricao:"Aparelhos receptores para radiodifusão, mesmo combinados num mesmo invólucro, com um aparelho de gravação ou de reprodução de som, ou com um relógio, exceto os classificados na posição 8527.1, 8527.2 e 8527.9 que sejam de uso automotivo"},{cest:"21.105.00",ncmsh:"84796000",descricao:"Climatizadores de ar"},{cest:"21.106.00",ncmsh:"84159090",descricao:"Outras partes para máquinas e aparelhos de ar-condicionado que contenham um ventilador motorizado e dispositivos próprios para modificar a temperatura e a umidade, incluindo as máquinas e aparelhos em que a umidade não seja regulável separadamente"},{cest:"21.107.00",ncmsh:"85258019",descricao:"Câmeras de televisão e suas partes"},{cest:"21.108.00",ncmsh:"84231000",descricao:"Balanças de uso doméstico"},{cest:"21.109.00",ncmsh:"8540",descricao:"Tubos e válvulas, eletrônicos, de cátodo quente, cátodo frio ou fotocátodo (por exemplo, tubos e válvulas, de vácuo, de vapor ou de gás, ampolas retificadoras de vapor de mercúrio, tubos catódicos, tubos e válvulas para câmeras de televisão)"},{cest:"21.110.00",ncmsh:"8517",descricao:"Aparelhos elétricos para telefonia; outros aparelhos para transmissão ou recepção de voz, imagens ou outros dados, incluídos os aparelhos para comunicação em redes por fio ou redes sem fio (tal como uma rede local (LAN) ou uma rede de área estendida (WAN), incluídas suas partes, exceto os de uso automotivo e os classificados nos códigos 8517.62.51, 8517.62.52 e 8517.62.53"},{cest:"21.111.00",ncmsh:"8517",descricao:"Interfones, seus acessórios, tomadas e “plugs”"},{cest:"21.112.00",ncmsh:"8529",descricao:"Partes reconhecíveis como exclusiva ou principalmente destinadas aos aparelhos das posições 8525 a 8528; exceto as de uso automotivo"},{cest:"21.113.00",ncmsh:"8531",descricao:"Aparelhos elétricos de sinalização acústica ou visual (por exemplo, campainhas, sirenes, quadros indicadores, aparelhos de alarme para proteção contra roubo ou incêndio); exceto os de uso automotivo e os classificados nas posições 8531.10 e 8531.80.00."},{cest:"21.114.00",ncmsh:"853110",descricao:"Aparelhos elétricos de alarme, para proteção contra roubo ou incêndio e aparelhos semelhantes, exceto os de uso automotivo"},{cest:"21.115.00",ncmsh:"85318000",descricao:"Outros aparelhos de sinalização acústica ou visual, exceto os de uso automotivo"},{cest:"21.116.00",ncmsh:"853400",descricao:"Circuitos impressos, exceto os de uso automotivo"},{cest:"21.117.00",ncmsh:"85414011;85414021;85414022",descricao:"Diodos emissores de luz (LED), exceto diodos “laser”"},{cest:"21.118.00",ncmsh:"85437092",descricao:"Eletrificadores de cercas eletrônicos"},{cest:"21.119.00",ncmsh:"90303",descricao:"Aparelhos e instrumentos para medida ou controle da tensão, intensidade, resistência ou da potência, sem dispositivo registrador; exceto os de uso automotivo"},{cest:"21.120.00",ncmsh:"903089",descricao:"Analisadores lógicos de circuitos digitais, de espectro de frequência, frequencímetros, fasímetros, e outros instrumentos e aparelhos de controle de grandezas elétricas e detecção"},{cest:"21.121.00",ncmsh:"910700",descricao:"Interruptores horários e outros aparelhos que permitam acionar um mecanismo em tempo determinado, munidos de maquinismo de aparelhos de relojoaria ou de motor síncrono"},{cest:"21.122.00",ncmsh:"9405",descricao:"Aparelhos de iluminação (incluídos os projetores) e suas partes, não especificados nem compreendidos em outras posições; anúncios, cartazes ou tabuletas e placas indicadoras luminosos, e artigos semelhantes, contendo uma fonte luminosa fixa permanente, e suas partes não especificadas nem compreendidas em outras posições, com exceção dos itens classificados nos CEST 21.123.00, 21.124.00 e 21.125.00"},{cest:"21.123.00",ncmsh:"940510;94059",descricao:"Lustres e outros aparelhos elétricos de iluminação, próprios para serem suspensos ou fixados no teto ou na parede, exceto os dos tipos utilizados na iluminação pública; e suas partes"},{cest:"21.124.00",ncmsh:"94052000;94059",descricao:"Abajures de cabeceiras, de escritório e lampadários de interior, elétricos e suas partes"},{cest:"21.125.00",ncmsh:"940540;94059",descricao:"Outros aparelhos elétricos de iluminação e suas partes"},{cest:"21.126.00",ncmsh:"85423190",descricao:"Microprocessador"},{cest:"22.001.00",ncmsh:"2309",descricao:"Ração tipo “pet” para animais domésticos"},{cest:"23.001.00",ncmsh:"210500",descricao:"Sorvetes de qualquer espécie"},{cest:"23.002.00",ncmsh:"1806;1901;2106",descricao:"Preparados para fabricação de sorvete em máquina"},{cest:"24.001.00",ncmsh:"3208;3209;321000",descricao:"Tintas, vernizes"},{cest:"24.002.00",ncmsh:"2821;32041700;3206",descricao:"Xadrez e pós assemelhados, em embalagem de conteúdo inferior ou igual a 1 kg, exceto pigmentos à base de dióxido de titânio classificados no código 3206.11.19"},{cest:"24.002.01",ncmsh:"2821;32041700;3206",descricao:"Xadrez e pós assemelhados, em embalagem de conteúdo superior a 1 kg, exceto pigmentos à base de dióxido de titânio classificados no código NCM 3206.11.19"},{cest:"24.003.00",ncmsh:"3204;32050000;3206;3212",descricao:"Corantes para aplicação em bases, tintas e vernizes"},{cest:"25.001.00",ncmsh:"87021000",descricao:"Veículos automóveis para transporte de 10 pessoas ou mais, incluindo o motorista, unicamente com motor de pistão, de ignição por compressão (diesel ou semidiesel), com volume interno de habitáculo, destinado a passageiros e motorista, superior a 6 m³, mas inferior a 9 m³"},{cest:"25.002.00",ncmsh:"87024090",descricao:"Veículos automóveis para transporte de 10 pessoas ou mais, incluindo o motorista, unicamente com motor elétrico para propulsão, com volume interno de habitáculo, destinado a passageiros e motorista, superior a 6 m³, mas inferior a 9 m³"},{cest:"25.003.00",ncmsh:"87032100",descricao:"Automóveis unicamente com motor de pistão alternativo de ignição por centelha (faísca*), de cilindrada não superior a 1000 cm³"},{cest:"25.004.00",ncmsh:"87032210",descricao:"Automóveis unicamente com motor de pistão alternativo de ignição por centelha (faísca*), de cilindrada superior a 1000 cm³, mas não superior a 1500 cm³, com capacidade de transporte de pessoas sentadas inferior ou igual a 6, incluído o condutor, exceto carro celular"},{cest:"25.005.00",ncmsh:"87032290",descricao:"Outros automóveis unicamente com motor de pistão alternativo de ignição por centelha (faísca*), de cilindrada superior a 1000 cm³, mas não superior a 1500 cm³, exceto carro celular"},{cest:"25.006.00",ncmsh:"87032310",descricao:"Automóveis unicamente com motor de pistão alternativo de ignição por centelha (faísca*), de cilindrada superior a 1500 cm³, mas não superior a 3000 cm³, com capacidade de transporte de pessoas sentadas inferior ou igual a 6, incluído o condutor, exceto carro celular, carro funerário e automóveis de corrida"},{cest:"25.007.00",ncmsh:"87032390",descricao:"Outros automóveis unicamente com motor de pistão alternativo de ignição por centelha (faísca*), de cilindrada superior a 1500 cm³, mas não superior a 3000 cm³, exceto carro celular, carro funerário e automóveis de corrida"},{cest:"25.008.00",ncmsh:"87032410",descricao:"Automóveis unicamente com motor de pistão alternativo de ignição por centelha (faísca*), de cilindrada superior a 3000 cm³, com capacidade de transporte de pessoas sentadas inferior ou igual a 6, incluído o condutor, exceto carro celular, carro funerário e automóveis de corrida"},{cest:"25.009.00",ncmsh:"87032490",descricao:"Outros automóveis unicamente com motor de pistão alternativo de ignição por centelha (faísca*), de cilindrada superior a 3000 cm³, exceto carro celular, carro funerário e automóveis de corrida"},{cest:"25.010.00",ncmsh:"87033210",descricao:"Automóveis unicamente com motor diesel ou semidiesel, de cilindrada superior a 1500 cm³, mas não superior a 2500 cm³, com capacidade de transporte de pessoas sentadas inferior ou igual a 6, incluído o condutor, exceto ambulância, carro celular e carro funerário"},{cest:"25.011.00",ncmsh:"87033290",descricao:"Outros automóveis unicamente com motor diesel ou semidiesel, de cilindrada superior a 1500 cm³, mas não superior a 2500 cm³, exceto ambulância, carro celular e carro funerário"},{cest:"25.012.00",ncmsh:"87033310",descricao:"Automóveis unicamente com motor diesel ou semidiesel, de cilindrada superior a 2500 cm³, com capacidade de transporte de pessoas sentadas inferior ou igual a 6, incluído o condutor, exceto carro celular e carro funerário"},{cest:"25.013.00",ncmsh:"87033390",descricao:"Outros automóveis unicamente com motor diesel ou semidiesel, de cilindrada superior a 2500 cm³, exceto carro celular e carro funerário"},{cest:"25.014.00",ncmsh:"87042110",descricao:"Veículos automóveis para transporte de mercadorias, de peso em carga máxima não superior a 5 toneladas, chassis com motor diesel ou semidiesel e cabina, exceto caminhão de peso em carga máxima superior a 3,9 toneladas"},{cest:"25.015.00",ncmsh:"87042120",descricao:"Veículos automóveis para transporte de mercadorias, de peso em carga máxima não superior a 5 toneladas, com motor diesel ou semidiesel, com caixa basculante, exceto caminhão de peso em carga máxima superior a 3,9 toneladas"},{cest:"25.016.00",ncmsh:"87042130",descricao:"Veículos automóveis para transporte de mercadorias, de peso em carga máxima não superior a 5 toneladas, frigoríficos ou isotérmicos, com motor diesel ou semidiesel, exceto caminhão de peso em carga máxima superior a 3,9 toneladas"},{cest:"25.017.00",ncmsh:"87042190",descricao:"Outros veículos automóveis para transporte de mercadorias, de peso em carga máxima não superior a 5 toneladas, com motor diesel ou semidiesel, exceto carro-forte para transporte de valores e caminhão de peso em carga máxima superior a 3,9 toneladas"},{cest:"25.018.00",ncmsh:"87043110",descricao:"Veículos automóveis para transporte de mercadorias, de peso em carga máxima não superior a 5 toneladas, com motor a explosão, chassis e cabina, exceto caminhão de peso em carga máxima superior a 3,9 toneladas"},{cest:"25.019.00",ncmsh:"87043120",descricao:"Veículos automóveis para transporte de mercadorias, de peso em carga máxima não superior a 5 toneladas, com motor explosão com caixa basculante, exceto caminhão de peso em carga máxima superior a 3,9 toneladas"},{cest:"25.020.00",ncmsh:"87043130,",descricao:"Veículos automóveis para transporte de mercadorias, de peso em carga máxima não superior a 5 toneladas, frigoríficos ou isotérmicos com motor explosão, exceto caminhão de peso em carga máxima superior a 3,9 toneladas"},{cest:"25.021.00",ncmsh:"87043190,",descricao:"Outros veículos automóveis para transporte de mercadorias, de peso em carga máxima não superior a 5 toneladas, com motor a explosão, exceto carro-forte para transporte de valores e caminhão de peso em carga máxima superior a 3,9 toneladas"},{cest:"25.022.00",ncmsh:"87022000",descricao:"Veículos automóveis para transporte de 10 pessoas ou mais, incluindo o motorista, com motor de pistão, de ignição por compressão (diesel ou semidiesel) e um motor elétrico, com volume interno de habitáculo, destinado a passageiros e motorista, superior a 6 m³, mas inferior a 9 m³"},{cest:"25.023.00",ncmsh:"87023000",descricao:"Veículos automóveis para transporte de 10 pessoas ou mais, incluindo o motorista, com motor de pistão alternativo, de ignição por centelha (faísca) e um motor elétrico, com volume interno de habitáculo, destinado a passageiros e motorista, superior a 6 m³, mas inferior a 9 m³"},{cest:"25.024.00",ncmsh:"87029000",descricao:" Outros veículos automóveis para transporte de 10 pessoas ou mais, incluindo o motorista, com volume interno de habitáculo, destinado a passageiros e motorista, superior a 6 m³, mas inferior a 9 m³"},{cest:"25.025.00",ncmsh:"87034000",descricao:"Automóveis equipados para propulsão, simultaneamente, com um motor de pistão alternativo de ignição por centelha (faísca*) e um motor elétrico, exceto os suscetíveis de serem carregados por conexão a uma fonte externa de energia elétrica, o carro celular e o carro funerário"},{cest:"25.026.00",ncmsh:"87035000",descricao:"Automóveis equipados para propulsão, simultaneamente, com um motor de pistão por compressão (diesel ou semidiesel) e um motor elétrico, exceto os suscetíveis de serem carregados por conexão a uma fonte externa de energia elétrica, exceto o carro celular e o carro funerário"},{cest:"25.027.00",ncmsh:"87036000",descricao:"Automóveis equipados para propulsão, simultaneamente, com um motor de pistão alternativo de ignição por centelha (faísca*) e um motor elétrico, suscetíveis de serem carregados por conexão a uma fonte externa de energia elétrica, exceto o carro celular e o carro funerário"},{cest:"25.028.00",ncmsh:"87037000",descricao:"Automóveis equipados para propulsão, simultaneamente, com um motor de pistão por compressão (diesel ou semidiesel) e um motor elétrico, suscetíveis de serem carregados por conexão a uma fonte externa de energia elétrica, exceto o carro celular e o carro funerário"},{cest:"25.029.00",ncmsh:"87038000",descricao:"Outros veículos, equipados unicamente com motor elétrico para propulsão"},{cest:"26.001.00",ncmsh:"8711",descricao:"Motocicletas (incluídos os ciclomotores) e outros ciclos equipados com motor auxiliar, mesmo com carro lateral; carros laterais"},{cest:"28.001.00",ncmsh:"33030010",descricao:"Perfumes (extratos)"},{cest:"28.002.00",ncmsh:"33030020",descricao:"Águas-de-colônia"},{cest:"28.003.00",ncmsh:"33041000",descricao:"Produtos de maquiagem para os lábios"},{cest:"28.004.00",ncmsh:"33042010",descricao:"Sombra, delineador, lápis para sobrancelhas e rímel"},{cest:"28.005.00",ncmsh:"33042090",descricao:"Outros produtos de maquiagem para os olhos"},{cest:"28.006.00",ncmsh:"33043000",descricao:"Preparações para manicuros e pedicuros"},{cest:"28.007.00",ncmsh:"33049100",descricao:"Pós para maquiagem, incluindo os compactos"},{cest:"28.008.00",ncmsh:"33049910",descricao:"Cremes de beleza, cremes nutritivos e loções tônicas"},{cest:"28.009.00",ncmsh:"33049990",descricao:"Outros produtos de beleza ou de maquiagem preparados e preparações para conservação ou cuidados da pele, exceto as preparações antissolares e os bronzeadores"},{cest:"28.010.00",ncmsh:"33049990",descricao:"Preparações antissolares e os bronzeadores"},{cest:"28.011.00",ncmsh:"33051000",descricao:"Xampus para o cabelo"},{cest:"28.012.00",ncmsh:"33052000",descricao:"Preparações para ondulação ou alisamento, permanentes, dos cabelos"},{cest:"28.013.00",ncmsh:"33059000",descricao:"Outras preparações capilares"},{cest:"28.014.00",ncmsh:"33059000",descricao:"Tintura para o cabelo"},{cest:"28.015.00",ncmsh:"33071000",descricao:"Preparações para barbear (antes, durante ou após)"},{cest:"28.016.00",ncmsh:"33072010",descricao:"Desodorantes (desodorizantes) corporais líquidos, exceto os classificados no CEST 28.016.01"},{cest:"28.016.01",ncmsh:"33072010",descricao:"Loções e óleos desodorantes hidratantes líquidos"},{cest:"28.016.02",ncmsh:"33072010",descricao:"Antiperspirantes líquidos"},{cest:"28.017.00",ncmsh:"33072090",descricao:"Outros desodorantes (desodorizantes) corporais, exceto os classificados no CEST 28.017.01"},{cest:"28.017.01",ncmsh:"33072090",descricao:"Outras loções e óleos desodorantes hidratantes"},{cest:"28.017.02",ncmsh:"33072090",descricao:"Outros antiperspirantes"},{cest:"28.018.00",ncmsh:"33079000",descricao:"Outros produtos de perfumaria ou de toucador preparados"},{cest:"28.019.00",ncmsh:"33079000",descricao:"Outras preparações cosméticas"},{cest:"28.020.00",ncmsh:"34011190",descricao:"Sabões de toucador em barras, pedaços ou figuras moldados, exceto CEST 28.020.01"},{cest:"28.020.01",ncmsh:"34011190",descricao:"Lenços umedecidos"},{cest:"28.021.00",ncmsh:"34011900",descricao:"Outros sabões, produtos e preparações orgânicos tensoativos, inclusive papel, pastas (ouates), feltros e falsos tecidos, impregnados, revestidos ou recobertos de sabão ou de detergentes"},{cest:"28.022.00",ncmsh:"34012010",descricao:"Sabões de toucador sob outras formas"},{cest:"28.023.00",ncmsh:"34013000",descricao:"Produtos e preparações orgânicos tensoativos para lavagem da pele, em forma de líquido ou de creme, acondicionados para venda a retalho, mesmo contendo sabão"},{cest:"28.024.00",ncmsh:"48182000",descricao:"Lenços de papel, incluindo os de desmaquiar"},{cest:"28.024.01",ncmsh:"48182000",descricao:"Toalhas de mão"},{cest:"28.025.00",ncmsh:"82141000",descricao:"Apontadores de lápis para maquiagem"},{cest:"28.025.01",ncmsh:"82141000",descricao:"Espátulas, abre-cartas e raspadeiras"},{cest:"28.025.02",ncmsh:"82141000",descricao:"Lâminas de espátulas, de abre-cartas, de raspadeiras e de apontadores de lápis"},{cest:"28.026.00",ncmsh:"82142000",descricao:"Utensílios e sortidos de utensílios de manicuros ou de pedicuros (incluindo as limas para unhas)"},{cest:"28.027.00",ncmsh:"96032900",descricao:"Escovas e pincéis de barba, escovas para cabelos, para cílios ou para unhas e outras escovas de toucador de pessoas"},{cest:"28.027.01",ncmsh:"96032900",descricao:"Vassouras e escovas, mesmo constituindo partes de máquinas, de aparelhos ou de veículos, vassouras mecânicas de uso manual não motorizadas, pincéis e espanadores; cabeças preparadas para escovas, pincéis e artigos semelhantes; bonecas e rolos para pintura; rodos de borracha ou de matérias flexíveis semelhantes, outros"},{cest:"28.028.00",ncmsh:"96033000",descricao:"Pincéis para aplicação de produtos cosméticos"},{cest:"28.028.01",ncmsh:"96033000",descricao:"Pincéis e escovas, para artistas e pincéis de escrever"},{cest:"28.029.00",ncmsh:"96161000",descricao:"Vaporizadores de toucador, suas armações e cabeças de armações"},{cest:"28.030.00",ncmsh:"96162000",descricao:"Borlas ou esponjas para pós ou para aplicação de outros cosméticos ou de produtos de toucador"},{cest:"28.031.00",ncmsh:"42021",descricao:"Malas e maletas de toucador"},{cest:"28.032.00",ncmsh:"9615",descricao:"Pentes, travessas para cabelo e artigos semelhantes; grampos (alfinetes) para cabelo; pinças (“pinceguiches”), onduladores, bobs (rolos) e artefatos semelhantes para penteados, e suas partes"},{cest:"28.033.00",ncmsh:"39233000;39249000;39241000;40149090;70102000",descricao:"Mamadeiras"},{cest:"28.034.00",ncmsh:"40149090",descricao:"Chupetas e bicos para mamadeiras e para chupetas"},{cest:"28.035.00",ncmsh:"12119090",descricao:"Outras plantas e partes, para perfumaria, medicina e semelhantes"},{cest:"28.036.00",ncmsh:"39262000",descricao:"Vestuário e seus acessórios, de plásticos, inclusive luvas"},{cest:"28.037.00",ncmsh:"39264000",descricao:"Estatuetas e outros objetos de ornamentação, de plásticos"},{cest:"28.038.00",ncmsh:"39269090",descricao:"Outras obras de plásticos"},{cest:"28.039.00",ncmsh:"42022210",descricao:"Bolsas de folhas de plástico"},{cest:"28.040.00",ncmsh:"42022220",descricao:"Bolsas de matérias têxteis"},{cest:"28.041.00",ncmsh:"42022900",descricao:"Bolsas de outras matérias"},{cest:"28.042.00",ncmsh:"42023900",descricao:"Artigos de bolsos/bolsas, de outras matérias"},{cest:"28.043.00",ncmsh:"42029200",descricao:"Outros artefatos, de folhas de plásticos ou matérias têxteis"},{cest:"28.044.00",ncmsh:"42029900",descricao:"Outros artefatos, de outras matérias"},{cest:"28.045.00",ncmsh:"48192000",descricao:"Caixas e cartonagens, dobráveis, de papel/cartão, não ondulados"},{cest:"28.046.00",ncmsh:"48194000",descricao:"Outros sacos, bolsas e cartuchos, de papel ou cartão"},{cest:"28.047.00",ncmsh:"48211000",descricao:"Etiquetas de papel ou cartão, impressas"},{cest:"28.048.00",ncmsh:"49111090",descricao:"Outros impressos publicitários, catálogos comerciais e semelhantes"},{cest:"28.049.00",ncmsh:"61159900",descricao:"Outras meias de malha de outras matérias têxteis"},{cest:"28.050.00",ncmsh:"62171000",descricao:"Outros acessórios confeccionados, de vestuário"},{cest:"28.051.00",ncmsh:"63026000",descricao:"Roupas de toucador/cozinha, de tecidos atoalhados de algodão"},{cest:"28.052.00",ncmsh:"63079090",descricao:"Outros artefatos têxteis confeccionados"},{cest:"28.053.00",ncmsh:"65069900",descricao:"Chapéus e outros artefatos de outras matérias, exceto de malha"},{cest:"28.054.00",ncmsh:"95059000",descricao:"Artigos para outras festas, carnaval ou outros divertimentos"},{cest:"28.055.00",ncmsh:"33",descricao:"Produtos destinados à higiene bucal"},{cest:"28.056.00",ncmsh:"33;34",descricao:"Outros produtos cosméticos e de higiene pessoal não relacionados em outros itens deste anexo"},{cest:"28.057.00",ncmsh:"14;39;40;44;48;63;64;65;67;70;82;90;96",descricao:"Outros artigos destinados a cuidados pessoais não relacionados em outros itens deste anexo"},{cest:"28.058.00",ncmsh:"39;42;48;52;61;71;83;90;91",descricao:"Acessórios (por exemplo, bijuterias, relógios, óculos de sol, bolsas, mochilas, frasqueiras, carteiras, porta-cartões, porta-documentos, porta-celulares e embalagens presenteáveis (por exemplo, caixinhas de papel), entre outros itens assemelhados)"},{cest:"28.059.00",ncmsh:"61;62;64",descricao:"Vestuário e seus acessórios; calçados, polainas e artefatos semelhantes, e suas partes"},{cest:"28.060.00",ncmsh:"42;52;55;58;63;65",descricao:"Outros artigos de vestuário em geral, exceto os relacionados no item anterior"},{cest:"28.061.00",ncmsh:"39;40;52;56;62;63;66;69;70;73;76;82;83;84;91;94;96",descricao:"Artigos de casa"},{cest:"28.062.00",ncmsh:"13;15;16;17;18;19;20;21;22;23",descricao:"Produtos das indústrias alimentares e bebidas"},{cest:"28.063.00",ncmsh:"22;27;28;29;33;34;35;38;39;63;68;73;84;85;96",descricao:"Produtos de limpeza e conservação doméstica"},{cest:"28.064.00",ncmsh:"39;49;95;96",descricao:"Artigos infantis"}],l={"01":"Autopeças","02":"Bebidas alcoólicas, exceto cerveja e chope","03":"Cervejas, chopes, refrigerantes, águas e outras bebidas","04":"Cigarros e outros produtos derivados do fumo","05":"Cimentos","06":"Combustíveis e lubrificantes","07":"Energia elétrica","08":"Ferramentas","09":"Lâmpadas, reatores e “starter”",10:"Materiais de construção e congêneres",11:"Materiais de limpeza",12:"Materiais elétricos",13:"Medicamentos de uso humano e outros produtos farmacêuticos para uso humano ou veterinário",14:"Papéis",15:"Plásticos",16:"Pneumáticos, câmaras de ar e protetores de borracha",17:"Produtos alimentícios",18:"Produtos cerâmicos",19:"Produtos de papelaria",20:"Produtos de perfumaria e de higiene pessoal e cosméticos",21:"Produtos eletrônicos, eletroeletrônicos e eletrodomésticos",22:"Rações para animais domésticos",23:"Sorvetes e preparados para fabricação de sorvetes em máquinas",24:"Tintas e vernizes",25:"Veículos automotores",26:"Veículos de duas e três rodas motorizados",27:"Vidros",28:"Venda de mercadorias pelo sistema porta a porta"},s={computed:{metadados:()=>i.Z},data:()=>({descricaoCest:"",opcoesCest:[]}),emits:["update:modelValue"],methods:{atualizar(){try{const e=this.modelValue||"";let o=this.opcoesCest.find((o=>o.valor===e));o||(o={rotulo:e,valor:e},this.opcoesCest.push(o)),o.rotulo=e;const t=r.find((o=>o.cest===e));this.descricaoCest=9===e.length?t?l[t.cest.substring(0,2)]+" - "+t.descricao:"CEST inválido":"Forneça um CEST (7 dígitos)"}catch(e){this.$q.notifyError("Ocorreu erro ao consultar CEST",e)}},eventoClick(){const e=this.ncm||"";this.opcoesCest=r.filter((o=>o.ncmsh.split(";").reduce(((o,t)=>o||e.startsWith(t)),!1))).map((e=>({rotulo:e.cest+" - "+e.descricao,sublabel:l[e.cest.substring(0,2)],valor:e.cest})))},selecionar(){this.$emit("update:modelValue",this.modelValue)}},props:{modelValue:{default:"",type:String},ncm:{default:"",type:String}},watch:{modelValue(){this.atualizar()},ncm(){this.atualizar()}},created(){this.atualizar()}},n=(0,t(74260).Z)(s,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("campo");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(s,{modelValue:t.modelValue,"onUpdate:modelValue":[o[0]||(o[0]=e=>t.modelValue=e),l.selecionar],ajuda:r.descricaoCest,dica:l.metadados.infNFe.det.lista.prod.opcional.CEST._doc,filter:"",dense:"",maxlength:"9",opcoes:r.opcoesCest,rotulo:l.metadados.infNFe.det.lista.prod.opcional.CEST._titulo,tipo:"seletor",onClick:l.eventoClick},null,8,["modelValue","ajuda","dica","opcoes","rotulo","onClick","onUpdate:modelValue"])])}]])},19017:(e,o,t)=>{"use strict";t.d(o,{Z:()=>r});var a=t(34182);const i={data:()=>({descricaoCfop:""}),emits:["update:modelValue"],methods:{async abrirPrompt(){try{if(this.somenteLeitura)return;const e=await $g.promptCfop.show({});this.selecionar(e)}catch(e){this.$q.notifyError("Erro ao abrir itens",e)}},async atualizar(){try{const e=this.modelValue&&4===this.modelValue.length&&(await $db.cfop.le({cfop:Number(this.modelValue)}))[0]||{};this.descricaoCfop=this.modelValue&&4===this.modelValue.length?e.descr||"CFOP inválido":"Forneça um CFOP (4 dígitos)",this.cfop=String(e.cfop)||""}catch(e){this.$q.notifyError("Ocorreu erro ao consultar CFOP",e)}},selecionar(e){try{if(!e||!e.cfop)return;this.descricaoCfop=e.descr||"CFOP inválido",this.cfop=String(e.cfop)||"",this.updateValue()}catch(e){this.$q.notifyError("Erro ao selecionar",e)}},updateValue(){this.$emit("update:modelValue",String(this.cfop))}},props:{modelValue:{default:"",type:String},somenteLeitura:{type:Boolean}},watch:{modelValue(e){e!==this.cfop&&this.atualizar()}},created(){this.atualizar()}},r=(0,t(74260).Z)(i,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("campo"),n=(0,a.resolveDirective)("mask");return(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(s,(0,a.mergeProps)({modelValue:t.modelValue,"onUpdate:modelValue":o[0]||(o[0]=e=>t.modelValue=e),maxlength:"4",ajuda:r.descricaoCfop,rotulo:"CFOP",dica:"Código Fiscal de Operações e Prestações das entradas e saídas de mercadorias",onBlur:l.updateValue,before:t.somenteLeitura?void 0:[{icon:"search",handler:l.abrirPrompt}]},e.$attrs),null,16,["modelValue","ajuda","onBlur","before"])),[[n,"####"]])}]])},82254:(e,o,t)=>{"use strict";t.d(o,{Z:()=>r});var a=t(34182);const i={data:()=>({descricaoNcm:""}),emits:["update:modelValue"],methods:{async abrirPrompt(){try{if(this.somenteLeitura)return;const e=await $g.promptNcm.show({});this.selecionar(e)}catch(e){this.$q.notifyError("Erro ao abrir itens",e)}},async atualizar(){try{const e=this.modelValue&&8===this.modelValue.length&&(await $db.ncm.le({ncm:this.modelValue}))[0]||{};this.descricaoNcm=this.modelValue&&8===this.modelValue.length?e.descricao||"NCM inválido":"Forneça um NCM (8 dígitos)",this.ncm=e.ncm||""}catch(e){this.$q.notifyError("Ocorreu erro ao consultar NCM",e)}},selecionar(e){try{if(!e||!e.ncm)return;this.descricaoNcm=e.descricao||"NCM inválido",this.ncm=e.ncm||"",this.updateValue()}catch(e){this.$q.notifyError("Erro ao selecionar",e)}},updateValue(){this.$emit("update:modelValue",this.ncm)}},props:{modelValue:{default:"",type:String},somenteLeitura:{type:Boolean}},watch:{modelValue(e){e!==this.ncm&&this.atualizar()}},created(){this.atualizar()}},r=(0,t(74260).Z)(i,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("campo"),n=(0,a.resolveDirective)("mask");return(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(s,(0,a.mergeProps)({modelValue:t.modelValue,"onUpdate:modelValue":o[0]||(o[0]=e=>t.modelValue=e),maxlength:"8",ajuda:r.descricaoNcm,dica:"Código NCM (8 posições) - Nomenclatura Comum ao Mercosul",onBlur:l.updateValue,before:t.somenteLeitura?void 0:[{icon:"search",handler:l.abrirPrompt}],rotulo:"NCM"},e.$attrs),null,16,["modelValue","ajuda","onBlur","before"])),[[n,"########"]])}]])},69269:(e,o,t)=>{"use strict";t.d(o,{Z:()=>w});var a=t(34182);const i={key:0},r=["src"],l={computed:{showMenu(){return this.dados.length>1},video(){return"video"===this.dialog.type}},data:()=>({show:!1,dialog:{show:!1,title:"",type:"",url:""},dados:[]}),methods:{icon:e=>"video"===e.type?"mdi-youtube":"help_outline",showDialog(e){this.dialog={show:!0,...e}}},props:{componente:{type:String,required:!0}},async created(){try{const e=await this.$utils.geeksApi({tutorial:{funcao:"36FB3AC2-EDE6-483C-9645-FD09B69B10DA",componente:this.componente,sistema:$utils.sistemaPai(),mobile:this.$q.platform.is.mobile}});this.dados=e.data.tutorial}catch(e){console.log(e)}finally{this.dados.length&&(this.show=!0)}}};var s=t(74260),n=t(76210),c=t(54707),d=t(25901),m=t(77953),u=t(60880),p=t(68900),h=t(39341),C=t(63626),v=t(54553),f=t(47266),N=t(48761),V=t(7112),g=t(98586),x=t(7518),b=t.n(x);const w=(0,s.Z)(l,[["render",function(e,o,t,l,s,n){const c=(0,a.resolveComponent)("q-icon"),d=(0,a.resolveComponent)("q-item-section"),m=(0,a.resolveComponent)("q-item"),u=(0,a.resolveComponent)("q-list"),p=(0,a.resolveComponent)("q-menu"),h=(0,a.resolveComponent)("q-btn"),C=(0,a.resolveComponent)("q-toolbar-title"),v=(0,a.resolveComponent)("q-toolbar"),f=(0,a.resolveComponent)("q-header"),N=(0,a.resolveComponent)("q-page-container"),V=(0,a.resolveComponent)("q-layout"),g=(0,a.resolveComponent)("q-dialog"),x=(0,a.resolveDirective)("close-popup");return s.show?((0,a.openBlock)(),(0,a.createElementBlock)("div",i,[n.showMenu?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,icon:"help_outline",flat:"",dense:"",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(s.dados,((e,o)=>(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(m,{key:o,clickable:"",onClick:o=>n.showDialog(e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:n.icon(e)},null,8,["name"])])),_:2},1024),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.title),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[x]]))),128))])),_:1})])),_:1})])),_:1})):((0,a.openBlock)(),(0,a.createBlock)(h,{key:1,icon:"help_outline",flat:"",dense:"",round:"",onClick:o[0]||(o[0]=e=>n.showDialog(s.dados[0]))})),(0,a.createVNode)(g,{modelValue:s.dialog.show,"onUpdate:modelValue":o[1]||(o[1]=e=>s.dialog.show=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{container:"",class:"bg-light",style:{height:"420px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(s.dialog.title),1)])),_:1}),(0,a.withDirectives)((0,a.createVNode)(h,{dense:"",flat:"",icon:"close",round:""},null,512),[[x]])])),_:1})])),_:1}),(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[n.video?((0,a.openBlock)(),(0,a.createElementBlock)("iframe",{key:0,style:{height:"348px",width:"calc(100% - 16px)"},class:"q-ma-sm",src:s.dialog.url,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,r)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"])])):(0,a.createCommentVNode)("",!0)}]]);b()(l,"components",{QBtn:n.Z,QMenu:c.Z,QList:d.Z,QItem:m.Z,QItemSection:u.Z,QIcon:p.Z,QDialog:h.Z,QLayout:C.Z,QHeader:v.Z,QToolbar:f.Z,QToolbarTitle:N.Z,QPageContainer:V.Z}),b()(l,"directives",{ClosePopup:g.Z})},69555:(e,o,t)=>{"use strict";t.d(o,{Z:()=>f});var a=t(34182);const i=(0,a.createTextVNode)(" Alterar Senha "),r={components:{},data:()=>({form:{senhaAtual:"",senhaNova:"",senhaNovaRepetida:""},validationForm:{}}),methods:{async alterarSenha(){try{let e=!1;if(await this.validar().catch((o=>{e=!!o})),e)return;this.$q.loading.show();const o=await this.$utils.geeksApi({alterarSenha:{funcao:"6E4B10C1-548D-49F2-AEEA-64F53151D349",senhaAtual:this.form.senhaAtual,senhaNova:this.form.senhaNova}});this.$q.notify({type:"positive",message:o.data.alterarSenha.mensagem}),this.$refs.dialog.hide()}catch(e){this.$q.notifyError(e.message,e)}finally{this.$q.loading.hide()}},limpar(){this.form={senhaAtual:"",senhaNova:"",senhaNovaRepetida:""},this.validationForm={}},async validar(){const e=[e=>e.length||"Informe a senha atual"],o=[e=>e.length||"Informe a nova senha"],t=[e=>e.length||"Repetir a nova senha"];if(this.form.senhaAtual.length){let t=!0,a="Não foi possível verificar a validade da senha";await $utils.geeksApi({login:{funcao:"0F8E5067-A8B2-4C82-9275-25B114B9ED70",cpf:$db.usuario.logado.numeroDocumentoNacional,senha:this.form.senhaAtual}}).catch((e=>{t=!1,"Senha inválida!"===e.message&&(a=e.message)})),e.push((()=>t||a)),t&&this.form.senhaAtual===this.form.senhaNova&&o.push((()=>"A nova senha deve ser diferente da senha atual"))}this.form.senhaNova.length&&this.form.senhaNovaRepetida.length&&this.form.senhaNova!==this.form.senhaNovaRepetida&&t.push((()=>"Novas senhas não coincidem")),this.validationForm.senhaAtual=e,this.validationForm.senhaNova=o,this.validationForm.senhaNovaRepetida=t,this.$refs.senhaAtual.validate(),this.$refs.senhaNova.validate(),this.$refs.senhaNovaRepetida.validate(),await this.$nextTick();const a=this.$refs.senhaAtual.validate(),i=this.$refs.senhaNova.validate(),r=this.$refs.senhaNovaRepetida.validate();if(!(a&&i&&r))throw new Error("Erro no preenchimento dos campos")}}};var l=t(74260),s=t(39341),n=t(83054),c=t(782),d=t(46229),m=t(86952),u=t(27760),p=t(76210),h=t(98586),C=t(7518),v=t.n(C);const f=(0,l.Z)(r,[["render",function(e,o,t,r,l,s){const n=(0,a.resolveComponent)("q-card-section"),c=(0,a.resolveComponent)("q-input"),d=(0,a.resolveComponent)("q-btn"),m=(0,a.resolveComponent)("q-card-actions"),u=(0,a.resolveComponent)("q-form"),p=(0,a.resolveComponent)("q-card"),h=(0,a.resolveComponent)("q-dialog"),C=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(h,{ref:"dialog",onHide:s.limpar},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"card"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-h6"},{default:(0,a.withCtx)((()=>[i])),_:1}),(0,a.createVNode)(u,{onSubmit:s.alterarSenha},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-pt-none q-mr-md q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{dense:"",modelValue:l.form.senhaAtual,"onUpdate:modelValue":o[0]||(o[0]=e=>l.form.senhaAtual=e),modelModifiers:{trim:!0},label:"Senha atual",type:"password",autofocus:"","lazy-rules":"",ref:"senhaAtual",rules:l.validationForm.senhaAtual},null,8,["modelValue","rules"]),(0,a.createVNode)(c,{dense:"",modelValue:l.form.senhaNova,"onUpdate:modelValue":o[1]||(o[1]=e=>l.form.senhaNova=e),modelModifiers:{trim:!0},label:"Senha nova",type:"password","lazy-rules":"",ref:"senhaNova",rules:l.validationForm.senhaNova},null,8,["modelValue","rules"]),(0,a.createVNode)(c,{dense:"",modelValue:l.form.senhaNovaRepetida,"onUpdate:modelValue":o[2]||(o[2]=e=>l.form.senhaNovaRepetida=e),modelModifiers:{trim:!0},label:"Confirme a nova senha",type:"password","lazy-rules":"",ref:"senhaNovaRepetida",rules:l.validationForm.senhaNovaRepetida},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(m,{class:"text-primary float-right"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(d,{flat:"",label:"Cancelar",color:"tertiary"},null,512),[[C]]),(0,a.createVNode)(d,{unelevated:"",color:"primary",type:"submit",label:"Alterar"})])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["onHide"])}],["__scopeId","data-v-5859cd4f"]]);v()(r,"components",{QDialog:s.Z,QCard:n.Z,QCardSection:c.Z,QForm:d.Z,QInput:m.Z,QCardActions:u.Z,QBtn:p.Z}),v()(r,"directives",{ClosePopup:h.Z})},99807:(e,o,t)=>{"use strict";t.d(o,{Z:()=>Wl});var a=t(34182);const i={class:"layout-padding q-pa-none q-pb-md"},r={class:"u-container"},l={class:"bg-white"},s={class:"u-container"},n={class:"u-container"},c={class:"hideonmobile col q-ml-sm"},d={class:"col-auto"},m=(0,a.createTextVNode)("Escanear Código de Barras"),u=(0,a.createTextVNode)("Dispositivos"),p={key:0,class:"layout-padding q-mt-lg text-center"},h=(0,a.createElementVNode)("div",{class:"q-mt-md text-tertiary text-center"},"Este dispositivo não suporta este recurso.",-1),C={key:1,class:"layout-padding q-mt-lg text-center"},v={key:2,class:"layout-padding"},f=(0,a.createElementVNode)("div",{class:"bg-light q-pa-lg round-borders text-black text-center"}," Não foi possível localizar um dispositivo de vídeo conectado à sua máquina. ",-1),N={class:"bg-white q-px-md q-py-md"},V={class:"PromptCodigoBarras-transmissao"},g={ref:"transmissao",height:"480",width:"320"},x=(0,a.createElementVNode)("div",{class:"PromptCodigoBarras-laser"},null,-1);var b=t(89874);const w={computed:{podeUsarAlternativo:()=>"undefined"!=typeof cordova&&cordova&&cordova.plugins&&cordova.plugins.barcodeScanner,suportaNativo:()=>window&&window.navigator&&window.navigator.mediaDevices,temDispositivos(){return!!this.dispositivos.length}},data:()=>({aberto:!1,carregando:!0,codigoBarrasOuQrCode:"",dispositivo:null,dispositivos:[],leitor:null,seletorDispositivo:!1}),emits:["escanear","update:modelValue"],methods:{aoAbrir(){this.inicializarTransmissao()},aoDetectar(e){this.$emit("escanear",e.text),this.fechar()},aoFechar(){this.encerrarTransmissao(),this.carregando=!0},aoMudarDispositivo(e){this.seletorDispositivo=!1,localStorage.setItem("dispositivo",e),this.reiniciarTransmissao()},fechar(e){e&&e.preventDefault(),this.aberto=!1},encerrarTransmissao(){this.leitor.reset(),this.leitor=!1},async enviarCodigo(){try{this.codigoBarrasOuQrCode&&(this.$emit("escanear",this.codigoBarrasOuQrCode),this.codigoBarrasOuQrCode="")}catch(e){this.$q.notifyError("Ocorreu um erro ao enviar código",e)}},async inicializarTransmissao(){if(!this.suportaNativo&&this.podeUsarAlternativo)try{return await this.solicitarCamera(),cordova.plugins.barcodeScanner.scan((e=>this.aoDetectar(e)),(e=>this.$q.notifyError("Erro ao ler código de barras.",e)),{prompt:""})}catch(e){return this.$q.notifyError("Erro ao abrir o leitor de código de barras."),this.fechar()}this.leitor=new b.BrowserMultiFormatReader;try{this.dispositivos=await this.leitor.getVideoInputDevices()}catch(e){return this.$q.notifyError("Erro ao obter dispositivos.",e)}if(this.carregando=!1,!this.temDispositivos)return;this.dispositivo||(this.dispositivo=this.dispositivos[0].deviceId);const e=await this.leitor.decodeFromInputVideoDevice(this.dispositivo,this.$refs.transmissao);this.aoDetectar(e)},reiniciarTransmissao(){this.encerrarTransmissao(),this.inicializarTransmissao()},solicitarCamera:()=>new Promise(((e,o)=>{const t=new Error("Unable to request permission.");try{const a=cordova.plugins.permissions,i=a.CAMERA;a.checkPermission(i,(r=>{r.hasPermission?e():a.requestPermission(i,(a=>{a.hasPermission?e():o(t)}),(e=>o(e)))}),(e=>o(e)))}catch(e){o(e)}}))},props:{modelValue:{default:!1,required:!0,type:Boolean}},watch:{aberto(e){this.$emit("update:modelValue",e)},modelValue(e){this.aberto=e}},beforeUnmount(){document.removeEventListener("backbutton",this.fechar)},created(){document.addEventListener("backbutton",this.fechar),this.dispositivo=localStorage.getItem("dispositivo")}};var _=t(74260),y=t(39341),I=t(63626),E=t(54553),S=t(47266),M=t(76210),T=t(48761),k=t(54707),D=t(25901),q=t(31106),F=t(77953),P=t(68),A=t(68900),B=t(41837),L=t(86952),O=t(98586),z=t(7518),j=t.n(z);const $=(0,_.Z)(w,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-item-label"),d=(0,a.resolveComponent)("q-radio"),b=(0,a.resolveComponent)("q-item"),w=(0,a.resolveComponent)("q-list"),_=(0,a.resolveComponent)("q-menu"),y=(0,a.resolveComponent)("q-toolbar"),I=(0,a.resolveComponent)("q-header"),E=(0,a.resolveComponent)("q-icon"),S=(0,a.resolveComponent)("q-spinner"),M=(0,a.resolveComponent)("q-input"),T=(0,a.resolveComponent)("q-layout"),k=(0,a.resolveComponent)("q-dialog"),D=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(k,{modelValue:r.aberto,"onUpdate:modelValue":o[3]||(o[3]=e=>r.aberto=e),maximized:"",onHide:l.aoFechar,onShow:l.aoAbrir},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:"",clikable:""},null,512),[[D]]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[m])),_:1}),r.dispositivos.length>1?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,dense:"",flat:"",icon:"switch_camera",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{modelValue:r.seletorDispositivo,"onUpdate:modelValue":o[1]||(o[1]=e=>r.seletorDispositivo=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{link:"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{header:""},{default:(0,a.withCtx)((()=>[u])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.dispositivos,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(b,{key:t},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:r.dispositivo,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.dispositivo=e),l.aoMudarDispositivo],label:e.label||`Dispositivo ${t+1}`,val:e.deviceId},null,8,["modelValue","label","val","onUpdate:modelValue"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue"])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),l.suportaNativo||l.podeUsarAlternativo?r.carregando?((0,a.openBlock)(),(0,a.createElementBlock)("div",C,[(0,a.createVNode)(S,{color:"tertiary",size:50})])):l.temDispositivos?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",v,[f,(0,a.createElementVNode)("div",N,[(0,a.createVNode)(M,{after:[{icon:"mdi-barcode-scan",handler:l.enviarCodigo}],autofocus:"",placeholder:"Código de barras ou QRCode",modelValue:r.codigoBarrasOuQrCode,"onUpdate:modelValue":o[2]||(o[2]=e=>r.codigoBarrasOuQrCode=e),modelModifiers:{trim:!0},onKeyup:(0,a.withKeys)(l.enviarCodigo,["enter"])},null,8,["after","modelValue","onKeyup"])])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",p,[(0,a.createVNode)(E,{color:"tertiary",name:"error_outline",size:"50px"}),h])),(0,a.withDirectives)((0,a.createElementVNode)("div",V,[(0,a.createElementVNode)("video",g,null,512),x],512),[[a.vShow,l.temDispositivos&&!r.carregando]])])),_:1})])),_:1},8,["modelValue","onHide","onShow"])}]]);j()(w,"components",{QDialog:y.Z,QLayout:I.Z,QHeader:E.Z,QToolbar:S.Z,QBtn:M.Z,QToolbarTitle:T.Z,QMenu:k.Z,QList:D.Z,QItemLabel:q.Z,QItem:F.Z,QRadio:P.Z,QIcon:A.Z,QSpinner:B.Z,QInput:L.Z}),j()(w,"directives",{ClosePopup:O.Z});var U=t(42138);const Z={components:{PromptCodigoBarras:$,PromptItemNovo:U.Z},data:()=>({codigoBarras:"",promptItem:{visivel:!1,filtros:{}},promptCodigoBarras:!1}),emits:["adicionar","atualizar"],methods:{abrirPromptCodigoBarras(){this.promptCodigoBarras=!0},async abrirPromptItem(){let e={};for(const o of this.documentoItens){if(!o.idItem)continue;this.itemPrompt||(this.itemPrompt={}),this.itemPrompt[o.idItem]||(this.itemPrompt[o.idItem]=await $erp().item.get(o.idItem));let t=$utils.clonarV2(this.itemPrompt[o.idItem]);t.novoValorVenda=o.valorReal,e[o.idItem]={item:t,quantidade:o.quantidade}}this.$refs.promptItem.itensSelecionados=e,this.promptItem.filtros={ativo:!0,idEmpresa:this.idEmpresa,idTabelaPreco:this.idItemTabelaPreco},this.promptItem.visivel=!0},async buscarCodigoBarras(e=null){e||(e=this.codigoBarras);const o={termoBusca:e};this.codigoBarras="",/999\d{10}$/.test(e)&&(o.codigoBarras=e);const t=await $db.item.ler({filtros:{...o,ativo:!0},limit:30});if(t.data.length)if(1!==t.data.length)this.$refs.promptItem.termo=e,this.abrirPromptItem();else{let e=t.data[0];this.$emit("adicionar",e)}else this.$q.notifyError("Item não encontrado")},selecionarItens(e){this.$emit("atualizar",e)}},props:{documentoItens:{type:Array,default:()=>[]},idEmpresa:{type:String,default:""},idItemTabelaPreco:{type:String,default:""}}},Q=(0,_.Z)(Z,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-input"),n=(0,a.resolveComponent)("q-btn"),m=(0,a.resolveComponent)("row"),u=(0,a.resolveComponent)("promptCodigoBarras"),p=(0,a.resolveComponent)("promptItemNovo");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",c,[(0,a.createVNode)(s,{modelValue:r.codigoBarras,"onUpdate:modelValue":o[0]||(o[0]=e=>r.codigoBarras=e),dense:"",outlined:"",class:"text-primary",placeholder:"Código de barras, etc...",onKeydown:o[1]||(o[1]=(0,a.withKeys)((e=>l.buscarCodigoBarras()),["enter"]))},null,8,["modelValue"])]),(0,a.createElementVNode)("div",d,[(0,a.createVNode)(n,{color:"primary",flat:"",round:"",icon:"mdi-barcode-scan",class:"q-ml-sm",onClick:l.abrirPromptCodigoBarras},null,8,["onClick"])])])),_:1}),(0,a.createVNode)(u,{modelValue:r.promptCodigoBarras,"onUpdate:modelValue":o[2]||(o[2]=e=>r.promptCodigoBarras=e),onEscanear:l.buscarCodigoBarras},null,8,["modelValue","onEscanear"]),(0,a.createVNode)(p,{modelValue:r.promptItem.visivel,"onUpdate:modelValue":o[3]||(o[3]=e=>r.promptItem.visivel=e),filtro:r.promptItem.filtros,habilitarQuantidade:!0,onSelecionarItens:l.selecionarItens,ref:"promptItem"},null,8,["modelValue","filtro","onSelecionarItens"])],64)}]]);j()(Z,"components",{QInput:L.Z,QBtn:M.Z});const R={id:"Venda",class:"Venda round-borders"},G={class:"bg-white round-borders q-py-md q-my-md"},H={class:"text-right"},J=(0,a.createElementVNode)("br",null,null,-1),Y=(0,a.createTextVNode)("Alterar vendedor"),X=(0,a.createTextVNode)("Alterar tabela de preço"),W=(0,a.createTextVNode)("Alterar Operação"),K=(0,a.createTextVNode)("Selecionar indicação"),ee=(0,a.createTextVNode)("Remover comprador"),oe=(0,a.createTextVNode)("Selecionar comprador"),te=(0,a.createTextVNode)("Remover representando"),ae=(0,a.createTextVNode)("Informar representando"),ie=(0,a.createTextVNode)("Remover convênio"),re=(0,a.createTextVNode)("Alocar convênio"),le={class:"bg-white round-borders q-mt-md"},se=(0,a.createTextVNode)("Carrinho"),ne=(0,a.createTextVNode)("Produtos"),ce=(0,a.createTextVNode)("Envelope"),de=(0,a.createTextVNode)("OS"),me=(0,a.createTextVNode)("Custom"),ue={key:0,class:"q-pa-lg text-center"},pe=[(0,a.createElementVNode)("p",null,"Ainda não há itens adicionados.",-1),(0,a.createElementVNode)("p",{class:"text-caption"},"Para adicionar, utilize os botões acima ou insira o código de barras.",-1)],he={key:1,class:"q-pa-md"},Ce={key:0,class:"text-body1 text-weight-medium q-mt-xl"},ve={class:"row items-center"},fe={class:"col-auto"},Ne=(0,a.createTextVNode)("Editar Custom"),Ve={class:"col-auto"},ge=(0,a.createTextVNode)("Remover Custom"),xe={class:"row items-center"},be={class:"col-auto"},we=(0,a.createTextVNode)("Editar Ordem de Serviço"),_e={class:"col-auto"},ye=(0,a.createTextVNode)("Remover Ordem de Serviço"),Ie={class:"col-12"},Ee={class:"col-6 col-md"},Se={class:"col-6 col-md"},Me=(0,a.createTextVNode)("Quantidade"),Te={class:"col-12 col-md"},ke={key:1,class:"col-12 col-md"},De={class:"row items-center"},qe={class:"col-auto"},Fe={class:"col-auto"},Pe=(0,a.createTextVNode)("Remover Item"),Ae={class:"col-12"},Be=["warning","warning-label"],Le={class:"col-4 col-md"},Oe={class:"col-4 col-md"},ze={key:2,class:"col-6 col-md"},je={key:3,class:"col-6 col-md"},$e=(0,a.createTextVNode)("Quantidade"),Ue={class:"col-12 col-md"},Ze={class:"border-1"},Qe={class:"row items-center"},Re={class:"col-auto"},Ge=(0,a.createTextVNode)("Editar Envelope"),He={class:"col-auto"},Je=(0,a.createTextVNode)("Remover Envelope"),Ye={class:"col-12"},Xe={key:0,class:"row q-mt-md"},We={class:"col-12 col-md-4 offset-md-8"},Ke={key:0,class:"items-center row q-col-gutter-x-sm",style:{"min-height":"49px"}},eo=(0,a.createElementVNode)("div",{class:"col-3"},"Subtotal",-1),oo={class:"col text-right text-weight-bold"},to={key:1,class:"items-center row q-col-gutter-x-sm"},ao=(0,a.createElementVNode)("div",{class:"col-3"},"Desconto",-1),io={class:"col"},ro={class:"col"},lo={key:2,class:"items-center row q-col-gutter-x-sm"},so=(0,a.createElementVNode)("div",{class:"col-3"},"Frete",-1),no={class:"col"},co={class:"col"},mo={class:"items-center row q-col-gutter-x-sm q-mt-md"},uo=(0,a.createElementVNode)("div",{class:"col-4 text-weight-bold"},"Total",-1),po={class:"col text-right text-weight-bold"},ho={key:3},Co={key:0,class:"items-center row q-col-gutter-x-sm",style:{"min-height":"49px"}},vo=(0,a.createElementVNode)("div",{class:"col-3"}," IPI ",-1),fo={key:1,class:"items-center row q-col-gutter-x-sm",style:{"min-height":"49px"}},No=(0,a.createElementVNode)("div",{class:"col-3"}," ICMS/ST ",-1),Vo={key:2,class:"items-center row q-col-gutter-x-sm",style:{"min-height":"49px"}},go=(0,a.createElementVNode)("div",{class:"col-3"}," DIFAL ",-1),xo={key:3,class:"items-center row q-col-gutter-x-sm",style:{"min-height":"49px"}},bo={class:"col-6 text-weight-bold"},wo=(0,a.createTextVNode)(" Total c/ Impostos "),_o={class:"col text-right text-weight-bold"},yo={key:4,class:"items-center row q-col-gutter-x-sm q-mt-md"},Io=(0,a.createElementVNode)("div",{class:"col-4"},"Peso Total",-1),Eo={class:"col text-right"},So={class:"Venda-faturamento bg-white round-borders q-my-md q-px-md q-pb-md"},Mo={key:0,class:"Venda-faturamento bg-white round-borders q-my-md"},To={class:"bg-white round-borders q-mt-md"},ko=(0,a.createTextVNode)("Observações"),Do={class:"q-pa-md q-pt-none"},qo={class:"col-12 col-sm-4"},Fo={class:"col-12 col-sm-4"},Po={class:"col-12 col-sm-4"},Ao={class:"layout-padding"},Bo={class:"q-mt-lg text-right"},Lo={class:"layout-padding"},Oo={class:"q-pa-sm"},zo={key:0},jo={class:"q-mt-lg text-right"},$o={class:"layout-padding"},Uo={class:"q-pa-sm"},Zo={class:"q-mt-lg text-right"},Qo=(0,a.createTextVNode)("Produto(s) Controlado(s) - Quantidade Excedida"),Ro={class:"layout-padding"},Go={class:"q-mt-lg text-right"};var Ho=t(15358),Jo=t(72407);const Yo=(0,a.createTextVNode)("Custom"),Xo={class:"layout-padding q-pa-none q-pb-md"},Wo={class:"u-container"},Ko={class:"row items-center"},et={class:"col q-ma-sm q-title"},ot={class:"col-12"},tt={class:"col-12 col-sm-6"},at={class:"col-12 col-sm-6"},it={class:"bg-white q-mt-md"},rt=(0,a.createTextVNode)("Imagens"),lt={class:"q-pa-md"},st={class:"bg-white q-mt-md"},nt=(0,a.createTextVNode)("Carrinho"),ct=(0,a.createTextVNode)("Produtos"),dt=(0,a.createTextVNode)("Serviços"),mt={key:0,class:"q-pa-lg text-center"},ut=[(0,a.createElementVNode)("p",null,"Não há itens no carrinho",-1),(0,a.createElementVNode)("p",{class:"text-caption"},"Para adicionar, utilize os botões acima ou insira o código de barras",-1)],pt={class:"col-auto"},ht={class:"text-body1"},Ct=(0,a.createTextVNode)("Referência"),vt=(0,a.createTextVNode)("Remover Item"),ft={class:"col-12 q-mb-lg"},Nt={class:"q-col-gutter-x-sm row"},Vt=["warning","warning-label"],gt={class:"col-4 col-sm-3 col-lg-2"},xt={class:"col-4 col-sm-3 col-lg-2"},bt={class:"col-3 col-lg-2"},wt={class:"col-5 col-sm-8 col-lg-2"},_t={class:"col-4 col-lg-2"},yt={class:"col-12"},It={class:"u-container"},Et=(0,a.createTextVNode)(" Total "),St={class:"q-ml-sm"};var Mt=t(80399);const Tt={documento:{},documentoItens:[],arquivo:[]},kt={components:{Arquivo:Mt.Z,Avatar:Ho.Z,Badge:Jo.Z,CodigoBarras:Q,PromptItemNovo:U.Z},computed:{new(){for(const e of this.dataTmp.documentoItens)e.descricaoAgrupamento=this.descricaoAgrupamento;return{...this.data,...this.dataTmp,arquivo:this.$refs.arquivo.arquivo.map((e=>({...e,idTabelaMaster:this.dataTmp.documento.id,tabelaMaster:"custom"})))}},readonly(){return"Orçamento"!==this.dataTmp.documento.status}},data:()=>({contato:{},checarErros:!1,data:{},dataTmp:{},descricaoAgrupamento:"",item:{},hintValorUnitario:{},modalItem:{},subTotal:{},visible:!1,valoresTabelaPreco:[],warningLabel:{}}),emits:["salvar"],methods:{fechar(e){e.stopPropagation(),this.isEqual()?this.visible=!1:$q.dialog({message:"Ao continuar você irá perder todas as modificações.",title:"Tem certeza?",cancel:{label:"CANCELAR",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{this.visible=!1}))},async abrirModalItem(e){let o={};for(const e of this.dataTmp.documentoItens){if(!e.idItem)continue;this.itemPrompt||(this.itemPrompt={}),this.itemPrompt[e.idItem]||(this.itemPrompt[e.idItem]=await $erp().item.get(e.idItem));let t=$utils.clonarV2(this.itemPrompt[e.idItem]);t.novoValorVenda=e.valorReal,o[e.idItem]={item:t,quantidade:e.quantidade}}this.$refs.promptItem.itensSelecionados=o,this.modalItem.filtros={ativo:!0,tipo:e,idEmpresa:this.dataTmp.documento.idEmpresa,idTabelaPreco:this.dataTmp.documento.idItemTabelaPreco},this.modalItem.visivel=!0},async prepararItem(e,o={}){if(e&&!this.item[e]&&(o.id||(o=await $db.item.le({id:e})),o.id)){const e=$utils.clonarV2(this.item);e[o.id]={marca:o.marca||"",referencia:o.referencia||"",imagem:o.imagem||"",embalagem:o.embalagem||""},this.item=e}},calculaTotal(){const e=$utils.clonarV2(this.dataTmp.documento);let o=0;for(const e of this.dataTmp.documentoItens)o+=e.subTotal;e.subTotal=$utils.arredondar(o),e.totalDocumento=e.subTotal,this.dataTmp.documento=e},async calculaTotalItem(e,o){const t=$utils.clonarV2(this.dataTmp.documentoItens[e]);if("quantidade"===o&&this.dataTmp.documento.idItemTabelaPreco){const e=await $erp().itemTabelaPreco.get(this.dataTmp.documento.idItemTabelaPreco);if(e){await this.configurarValoresTabelaPreco(e,t);let o=this.valoresTabelaPreco.find((e=>e.id===t.id));o.quantidadeMaiorQue&&(this.hintValorUnitario[t.id]=`>${o.quantidadeMaiorQue-1}un = ${$filters.numeroZerosDireita(o.valorVendaMaiorQue,4,2)}`),o.quantidadeMaiorQue&&t.quantidade>=o.quantidadeMaiorQue?(t.valorOriginal!==o.valorVendaMaiorQue&&(t.valorOriginal=t.valorItem=o.valorVendaMaiorQue,t.descontoItem=t.descontoPercentualItem=0),this.warningLabel[t.id]="Valor Diferenciado"):(t.valorOriginal!==o.valorVenda&&(t.valorOriginal=t.valorItem=o.valorVenda,t.descontoItem=t.descontoPercentualItem=0),this.warningLabel[t.id]="")}}t.valorItem<t.valorOriginal&&(t.valorItem=t.valorOriginal),"descontoPercentualItem"===o&&(t.descontoItem=$utils.arredondar(t.descontoPercentualItem/100*t.valorItem,4)),["descontoItem","valorItem"].includes(o)&&(t.descontoPercentualItem=$utils.arredondar(t.descontoItem/t.valorItem*100)),t.descontoItem>t.valorItem&&(t.descontoPercentualItem=t.descontoItem=0),["subTotal"].includes(o)&&(void 0!==this.subTotal[t.id]?t.descontoItem=$utils.arredondar(t.valorItem-this.subTotal[t.id],4):t.descontoItem=$utils.arredondar(t.valorItem-t.subTotal,4),t.descontoPercentualItem=$utils.arredondar(t.descontoItem/t.valorItem*100));let a=$utils.arredondar(t.valorItem-t.descontoItem,4);t.descontoItem=$utils.arredondar(t.valorItem-a,4),$utils.arredondar(a)>$utils.arredondar(t.valorItem)&&(a=t.valorItem,t.descontoPercentualItem=t.descontoItem=0);const i=$utils.clonarV2(this.subTotal);if(i[t.id]=a,this.subTotal=i,t.subTotal=$utils.arredondar(a*t.quantidade),t.total=t.subTotal,t.valorReal=$utils.arredondar(a),t.valorRealTotal=t.total,"valorItem"===o){let o=$utils.clonarV2(this.dataTmp.documentoItens);o[e]={...t,valorItem:0},this.dataTmp.documentoItens=o,this.$nextTick((()=>{o[e]=t,this.dataTmp.documentoItens=o,this.calculaTotal()}))}else{let o=$utils.clonarV2(this.dataTmp.documentoItens);o[e]=t,this.dataTmp.documentoItens=o}this.calculaTotal()},async configurarValoresTabelaPreco(e,o){let t=this.valoresTabelaPreco.find((e=>e.id===o.id));if(t)return;let a=await $erp().item.get(o.idItem);t=await $db.itemTabelaPreco.obterValores(e,a,4),this.valoresTabelaPreco.push({id:o.id,...t})},isEqual(){const e={...Tt,...$utils.clonarV2(this.data)},o=$utils.diferencaObjetos(e,this.new);return!Object.keys(o).length},async mostrar(){this.dataTmp={...Tt,...$utils.clonarV2(this.data)},this.warningLabel={},this.valoresTabelaPreco=[],this.checarErros=!1,this.descricaoAgrupamento="",this.dataTmp.documentoItens.length&&(this.descricaoAgrupamento=this.dataTmp.documentoItens[0].descricaoAgrupamento);for(const e of this.dataTmp.documentoItens){this.descricaoAgrupamento||(this.descricaoAgrupamento=e.descricaoAgrupamento),this.prepararItem(e.idItem);const o=$utils.clonarV2(this.subTotal);o[e.id]=e.valorItem-e.descontoItem,this.subTotal=o}this.contato={codigo:"",descricao:"",imagem:""},await $db.contato.le({id:this.dataTmp.documento.idContato}).then((e=>{this.contato.codigo=e.codigoContato||e.id.slice(-6)||"",this.contato.descricao=e.nome||e.apelido||"",this.contato.imagem=e.imagem||""})),this.visible=!0,await this.$nextTick(),this.$refs.arquivo.somenteLeitura=this.readonly,this.$refs.arquivo.arquivo=this.data.arquivo},async removerItem(e){const o=(this.dataTmp.documentoItens[e]||{}).id;this.dataTmp.documentoItens=this.dataTmp.documentoItens.filter((e=>e.id!==o)),this.calculaTotal()},salvar(){if(this.checarErros=!0,!this.dataTmp.documento.dataHoraPrevisto)return void this.$q.notifyError("Previsão de entrega não preenchida");if(this.dataTmp.documento.dataHoraPrevisto){const e=(new Date).setHours(0,0,0,0);if(new Date(this.dataTmp.documento.dataHoraPrevisto)<new Date(e))return void this.$q.notifyError("Previsão de entrega incorreta")}if(!this.dataTmp.documento.descricao)return void this.$q.notifyError("Descrição não preenchida");if(!this.dataTmp.documentoItens.length)return void this.$q.notifyError("Não há itens no carrinho");let e=!1;for(const o of this.data.documentoItens){const t=this.new.documentoItens.find((e=>o.id===e.id));if(e=t&&t.quantidade!==o.quantidade,e)break}this.$emit("salvar",{dados:this.new,reiniciarQtde:!this.isEqual()}),this.visible=!1},adicionarItem(e){const o=this.dataTmp.documentoItens.find((o=>o.idItem===e.id));let t=1;e.novoValorVenda=e.valorVenda,o&&(e.novoValorVenda=o.valorReal,t=o.quantidade+1);const a={};a[e.id]={item:e,quantidade:t},this.selecionarItens(a)},async selecionarItens(e){for(const o in e){const t=e[o].item||{},a=e[o].quantidade||0;let i=this.dataTmp.documentoItens.findIndex((e=>e.idItem===o));await this.selecionarItem(o,t,a),-1===i&&(i=this.dataTmp.documentoItens.findIndex((e=>e.idItem===o)),-1!==i&&this.calculaTotalItem(i,"quantidade"))}},async selecionarItem(e,o,t){let a=this.dataTmp.documentoItens.findIndex((o=>o.idItem===e));if(-1!==a)return o.novoValorVenda!==this.dataTmp.documentoItens[a].valorOriginal&&(o.novoValorVenda<=this.dataTmp.documentoItens[a].valorOriginal?(this.dataTmp.documentoItens[a].valorItem=this.dataTmp.documentoItens[a].valorOriginal,this.dataTmp.documentoItens[a].descontoItem=$utils.arredondar(this.dataTmp.documentoItens[a].valorOriginal-o.novoValorVenda)):(this.dataTmp.documentoItens[a].valorItem=o.novoValorVenda,this.dataTmp.documentoItens[a].descontoItem=0),this.calculaTotalItem(a,"descontoItem")),void(this.dataTmp.documentoItens[a].quantidade!==t&&(this.dataTmp.documentoItens[a].quantidade=t||1,this.calculaTotalItem(a,"quantidade")));const i=await $utils.selecionarCfop({ncm:o.ncm,itemTipo:o.tipo,codigoDocumentoOperacao:this.dataTmp.documento.codigoDocumentoOperacao,idContatoDestinatario:this.dataTmp.documento.idContato,idContatoEmitente:this.dataTmp.documento.idEmpresa,operacaoFator:-1});if(!i)return void this.$q.notify("Não foi possível localizar o CFOP.");const r=(await $db.estoqueSaldoProdutoEmpresa.le({idItem:o.id,idEmpresa:$lodash.get(this.dataTmp,"documento.idEmpresa",""),tipoEstoque:"Disponível"})).find((e=>e.idItem)),l=$utils.uuid(),s=$utils.clonarV2(this.subTotal);s[l]=o.valorVenda,this.subTotal=s,this.prepararItem(e,o);const n={id:l,idItem:o.id,idDocumento:this.dataTmp.documento.documentoId,idDocumentoAdicional:this.dataTmp.documento.id,codigoPlanoContaDestino:139,codigoPlanoContaEstoque:146,dataHoraEmissao:$utils.dataAtual(),descontoItem:0,descontoPercentualItem:0,descontoSubTotal:0,descricaoItem:o.descricaoConcatenada,operacao:i?.operacao,operacaoFator:i?.fator,idCfop:i?.id,quantidade:t||1,status:this.dataTmp.documento.status,subTotal:o.valorVenda,tipoItem:o.tipo,total:o.valorVenda,valorCusto:0,valorCustoMedio:$lodash.get(r,"valorCustoMedio",0),valorCustoReposicao:o.valorCustoReposicao||0,valorCustoUltimo:$lodash.get(r,"valorCusto",0),valorItem:o.valorVenda,valorItemUltimo:0,valorOriginal:o.valorVenda,valorReal:o.valorVenda,valorRealTotal:o.valorVenda};this.dataTmp.documentoItens.push(n),a=this.dataTmp.documentoItens.findIndex((o=>o.idItem===e)),-1!==a&&o.novoValorVenda!==this.dataTmp.documentoItens[a].valorOriginal&&(o.novoValorVenda<=this.dataTmp.documentoItens[a].valorOriginal?(this.dataTmp.documentoItens[a].valorItem=this.dataTmp.documentoItens[a].valorOriginal,this.dataTmp.documentoItens[a].descontoItem=$utils.arredondar(this.dataTmp.documentoItens[a].valorOriginal-o.novoValorVenda)):(this.dataTmp.documentoItens[a].valorItem=o.novoValorVenda,this.dataTmp.documentoItens[a].descontoItem=0),this.calculaTotalItem(a,"descontoItem")),t||this.calculaTotal()}},created(){this.dataTmp={...Tt},this.modalItem={filtros:{},visivel:!1}}};var Dt=t(7112),qt=t(83054),Ft=t(60880),Pt=t(4957),At=t(83671);const Bt=(0,_.Z)(kt,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-header"),m=(0,a.resolveComponent)("avatar"),u=(0,a.resolveComponent)("badge"),p=(0,a.resolveComponent)("campo"),h=(0,a.resolveComponent)("row"),C=(0,a.resolveComponent)("q-card"),v=(0,a.resolveComponent)("q-icon"),f=(0,a.resolveComponent)("arquivo"),N=(0,a.resolveComponent)("q-item-section"),V=(0,a.resolveComponent)("q-item-label"),g=(0,a.resolveComponent)("q-item"),x=(0,a.resolveComponent)("q-list"),b=(0,a.resolveComponent)("q-menu"),w=(0,a.resolveComponent)("CodigoBarras"),_=(0,a.resolveComponent)("q-tooltip"),y=(0,a.resolveComponent)("q-page-container"),I=(0,a.resolveComponent)("q-footer"),E=(0,a.resolveComponent)("q-layout"),S=(0,a.resolveComponent)("q-dialog"),M=(0,a.resolveComponent)("prompt-item-novo"),T=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(S,{modelValue:r.visible,"onUpdate:modelValue":o[6]||(o[6]=e=>r.visible=e),persistent:"",maximized:"",onKeyup:(0,a.withKeys)(l.fechar,["esc"])},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{icon:"arrow_back",flat:"",round:"",dense:"",onClick:l.fechar},null,8,["onClick"]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[Yo])),_:1}),(0,a.createVNode)(s,{class:"q-ml-sm no-shadow",color:"white","text-color":"primary",label:"Salvar",onClick:l.salvar,unelevated:""},null,8,["onClick"])])),_:1})])),_:1}),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Xo,[(0,a.createElementVNode)("div",Wo,[(0,a.createVNode)(C,{class:"q-pa-md q-pa-md q-mt-md bg-white no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"q-pb-md q-px-none",color:"black",dark:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Ko,[(0,a.createVNode)(m,{imagem:r.contato.imagem,rotulo:r.contato.descricao,tamanho:"40",style:{float:"left"}},null,8,["imagem","rotulo"]),(0,a.createElementVNode)("div",et,(0,a.toDisplayString)(r.contato.descricao),1)])])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("#"+(0,a.toDisplayString)(r.contato.codigo),1)])),_:1})])),_:1}),(0,a.createVNode)(h,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ot,[(0,a.createVNode)(p,{modelValue:r.dataTmp.documento.descricao,"onUpdate:modelValue":o[0]||(o[0]=e=>r.dataTmp.documento.descricao=e),modelModifiers:{trim:!0},rotuloFixo:"Descrição",tipo:"texto",autogrow:"","somente-leitura":l.readonly},null,8,["modelValue","somente-leitura"])]),(0,a.createElementVNode)("div",tt,[(0,a.createVNode)(p,{modelValue:r.dataTmp.documento.observacao,"onUpdate:modelValue":o[1]||(o[1]=e=>r.dataTmp.documento.observacao=e),modelModifiers:{trim:!0},rotuloFixo:"Observação",tipo:"textoArea","somente-leitura":l.readonly},null,8,["modelValue","somente-leitura"])]),(0,a.createElementVNode)("div",at,[(0,a.createVNode)(p,{modelValue:r.descricaoAgrupamento,"onUpdate:modelValue":o[2]||(o[2]=e=>r.descricaoAgrupamento=e),modelModifiers:{trim:!0},rotuloFixo:"Descrição Agrupamento",tipo:"texto",autogrow:"",somenteLeitura:l.readonly,"class-campo":"q-mb-md"},null,8,["modelValue","somenteLeitura"]),(0,a.createVNode)(p,{modelValue:r.dataTmp.documento.dataHoraPrevisto,"onUpdate:modelValue":o[3]||(o[3]=e=>r.dataTmp.documento.dataHoraPrevisto=e),maxlength:"10",rotulo:"Previsão de Entrega",tipo:"data",somenteLeitura:l.readonly},null,8,["modelValue","somenteLeitura"])])])),_:1})])),_:1}),(0,a.createElementVNode)("div",it,[(0,a.createVNode)(c,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{name:"image",size:"24px"}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[rt])),_:1})])),_:1}),(0,a.createElementVNode)("div",lt,[(0,a.createVNode)(f,{ref:"arquivo"},null,512)])]),(0,a.createElementVNode)("div",st,[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{name:"shopping_cart",size:"24px",class:"text-tertiary"}),(0,a.createVNode)(n,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[nt])),_:1}),(0,a.createVNode)(s,{class:"hideondesktop",color:"primary",flat:"",round:"",icon:"add",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(g,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{name:"add"})])),_:1}),(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[ct])),_:1})])),_:1})])),_:1},512),[[T]]),(0,a.withDirectives)((0,a.createVNode)(g,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{name:"add"})])),_:1}),(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[dt])),_:1})])),_:1})])),_:1},512),[[T]])])),_:1})])),_:1})])),_:1}),l.readonly?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,color:"primary",flat:"",icon:"add",label:"Produto",class:"hideonmobile q-px-sm q-ml-sm",onClick:o[4]||(o[4]=e=>l.abrirModalItem("Produto"))})),l.readonly?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,color:"primary",flat:"",icon:"add",label:"Serviço",class:"hideonmobile q-px-sm q-ml-sm",onClick:o[5]||(o[5]=e=>l.abrirModalItem("Serviço"))})),l.readonly?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(w,{key:2,idEmpresa:r.dataTmp.documento.idEmpresa,idItemTabelaPreco:r.dataTmp.documento.idItemTabelaPreco,documentoItens:r.dataTmp.documentoItens,onAdicionar:l.adicionarItem,onAtualizar:l.selecionarItens},null,8,["idEmpresa","idItemTabelaPreco","documentoItens","onAdicionar","onAtualizar"]))])),_:1}),r.dataTmp.documentoItens.length?((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:1},(0,a.renderList)(r.dataTmp.documentoItens,((o,t)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"items-carrinho items-center row q-py-sm q-mx-lg",key:t},[(0,a.createElementVNode)("div",pt,[(0,a.createVNode)(m,{imagem:(r.item[o.idItem]||{}).imagem,rotulo:o.descricaoItem,tamanho:"40"},null,8,["imagem","rotulo"])]),(0,a.createVNode)(c,{class:"Venda-itemBarra bg-transparent col q-pr-none q-py-none",color:"black",dark:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("span",ht,(0,a.toDisplayString)(o.descricaoItem),1),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)((r.item[o.idItem]||{}).marca),1)])),_:2},1024),(0,a.createVNode)(u,{denso:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)("Produto"!==o.tipoItem?o.tipoItem:"")+" ",1),(0,a.createElementVNode)("span",null,[(0,a.createTextVNode)((0,a.toDisplayString)((r.item[o.idItem]||{}).referencia)+" ",1),(0,a.createVNode)(_,null,{default:(0,a.withCtx)((()=>[Ct])),_:1})])])),_:2},1024),l.readonly?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,color:"tertiary",dense:"",flat:"",icon:"delete",round:"",onClick:e=>l.removerItem(t)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,null,{default:(0,a.withCtx)((()=>[vt])),_:1})])),_:2},1032,["onClick"]))])),_:2},1024),(0,a.createElementVNode)("div",ft,[(0,a.createElementVNode)("div",Nt,[(0,a.createElementVNode)("div",{class:"col-4 col-sm-3 col-lg-2",warning:!!r.warningLabel[o.id],"warning-label":r.warningLabel[o.id]},[(0,a.createVNode)(p,{"class-campo":"u-campoCompacto",align:"left",tipo:"decimal",decimals:"4",zerosDireita:"2","somente-leitura":l.readonly,modelValue:o.valorItem,"onUpdate:modelValue":e=>o.valorItem=e,rotulo:"Valor do produto 1",outlined:"",onBlur:e=>l.calculaTotalItem(t,"valorItem"),aviso:"",avisoRotulo:r.hintValorUnitario[o.id]},null,8,["somente-leitura","modelValue","onUpdate:modelValue","onBlur","avisoRotulo"])],8,Vt),(0,a.createElementVNode)("div",gt,[(0,a.createVNode)(h,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{name:"mdi-minus",color:"primary"}),(0,a.createVNode)(p,{"class-campo":"u-campoCompacto ",opcoes:{maximumValue:100},tipo:"decimal",decimals:"2",rotulo:"Desconto percentual",outlined:"",suffix:"%",modelValue:o.descontoPercentualItem,"onUpdate:modelValue":e=>o.descontoPercentualItem=e,"somente-leitura":l.readonly,onBlur:e=>l.calculaTotalItem(t,"descontoPercentualItem")},null,8,["modelValue","onUpdate:modelValue","somente-leitura","onBlur"])])),_:2},1024)]),(0,a.createElementVNode)("div",xt,[(0,a.createVNode)(p,{"class-campo":"u-campoCompacto",opcoes:{maximumValue:o.valorItem,minimumValue:0},tipo:"decimal",decimals:"4",zerosDireita:"2",modelValue:o.descontoItem,"onUpdate:modelValue":e=>o.descontoItem=e,"somente-leitura":l.readonly,rotulo:"Desconto em reais",outlined:"",onBlur:e=>l.calculaTotalItem(t,"descontoItem")},null,8,["opcoes","modelValue","onUpdate:modelValue","somente-leitura","onBlur"])]),(0,a.createElementVNode)("div",bt,[(0,a.createVNode)(h,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{name:"mdi-equal",color:"primary",class:"hideonmobile"}),(0,a.createVNode)(p,{"class-campo":"u-campoCompacto text-weight-bold",align:e.$q.screen.lt.sm?"left":"right",rotulo:"Subtotal",outlined:"",opcoes:{maximumValue:o.valorItem,minimumValue:0},tipo:"decimal",decimals:"4",zerosDireita:"2",modelValue:r.subTotal[o.id],"onUpdate:modelValue":e=>r.subTotal[o.id]=e,"somente-leitura":l.readonly,onBlur:e=>l.calculaTotalItem(t,"subTotal")},null,8,["align","opcoes","modelValue","onUpdate:modelValue","somente-leitura","onBlur"])])),_:2},1024)]),(0,a.createElementVNode)("div",wt,[(0,a.createVNode)(h,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{name:"mdi-close",color:"primary"}),(0,a.createVNode)(p,{"class-campo":"u-campoCompacto",min:"0",modelValue:o.quantidade,"onUpdate:modelValue":[e=>o.quantidade=e,e=>l.calculaTotalItem(t,"quantidade")],"somente-leitura":l.readonly,outlined:"",tipo:"quantidade",aviso:"",avisoRotulo:(r.item[o.idItem]||{}).embalagem},null,8,["modelValue","onUpdate:modelValue","somente-leitura","avisoRotulo"])])),_:2},1024)]),(0,a.createElementVNode)("div",_t,[(0,a.createVNode)(h,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{name:"mdi-equal",color:"primary",class:"hideonmobile"}),(0,a.createVNode)(p,{"class-campo":"u-campoCompacto text-weight-bold","somente-leitura":"",rotulo:"Total",outlined:"",tipo:"decimal",decimals:"2",modelValue:o.total,"onUpdate:modelValue":e=>o.total=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])])]),(0,a.createElementVNode)("div",yt,[(0,a.createVNode)(p,{rotulo:"Observação",modelValue:o.observacao,"onUpdate:modelValue":e=>o.observacao=e},null,8,["modelValue","onUpdate:modelValue"])])])))),128)):((0,a.openBlock)(),(0,a.createElementBlock)("div",mt,ut))])])])])),_:1}),(0,a.createVNode)(I,{class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",It,[(0,a.createVNode)(c,{class:"text-tertiary bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n),Et,(0,a.createElementVNode)("strong",St,(0,a.toDisplayString)(e.$filters.numero(r.dataTmp.documento.totalDocumento,2)),1)])),_:1})])])),_:1})])),_:1})])),_:1},8,["modelValue","onKeyup"]),(0,a.createVNode)(M,{modelValue:r.modalItem.visivel,"onUpdate:modelValue":o[7]||(o[7]=e=>r.modalItem.visivel=e),filtro:r.modalItem.filtros,habilitarQuantidade:!0,onSelecionarItens:l.selecionarItens,ref:"promptItem"},null,8,["modelValue","filtro","onSelecionarItens"])],64)}]]);j()(kt,"components",{QDialog:y.Z,QLayout:I.Z,QHeader:E.Z,QToolbar:S.Z,QBtn:M.Z,QToolbarTitle:T.Z,QPageContainer:Dt.Z,QCard:qt.Z,QIcon:A.Z,QMenu:k.Z,QList:D.Z,QItem:F.Z,QItemSection:Ft.Z,QItemLabel:q.Z,QTooltip:Pt.Z,QFooter:At.Z}),j()(kt,"directives",{ClosePopup:O.Z});var Lt=t(91784),Ot=t(7211);const zt=(0,a.createTextVNode)("Envelope"),jt={class:"layout-padding q-pa-none q-pb-md q-mt-md"},$t={class:"u-container"},Ut=(0,a.createTextVNode)("Dados Principais"),Zt={class:"q-pa-md"},Qt={class:"col-12 col-md"},Rt=(0,a.createTextVNode)("Incluir paciente"),Gt=(0,a.createTextVNode)(" Resultado não encontrado "),Ht={class:"col-12 col-md-auto"},Jt=(0,a.createTextVNode)("Lentes de Contato"),Yt={class:"col-12 col-md"},Xt={class:"col-12 col-md-auto"},Wt=(0,a.createTextVNode)(" Receita "),Kt=(0,a.createTextVNode)("Selecionar receita"),ea=(0,a.createTextVNode)("Adicionar"),oa=(0,a.createTextVNode)("Editar"),ta=(0,a.createTextVNode)("Duplicar"),aa={class:"q-pa-md"},ia={key:0,class:"q-pa-lg text-center"},ra=(0,a.createElementVNode)("p",{class:"text-caption"},"Para incluir, utilize os botões acima ou insira via QR Code.",-1),la={class:"col-12 col-lg-4"},sa=(0,a.createElementVNode)("span",{class:"text-body2"},"Paciente: ",-1),na={class:"col-12 col-lg-4"},ca=(0,a.createElementVNode)("span",{class:"text-body2"},"Médico: ",-1),da={class:"col-12 col-lg-2"},ma=(0,a.createElementVNode)("span",{class:"text-body2"},"Data: ",-1),ua={class:"col-12 col-lg-2"},pa=(0,a.createElementVNode)("span",{class:"text-body2"},"Validade: ",-1),ha={key:0,class:"col-12"},Ca=(0,a.createElementVNode)("strong",{class:"text-body2"},"Observação:",-1),va=(0,a.createTextVNode)("Longe"),fa=(0,a.createElementVNode)("div",{class:"col"},"Esférico",-1),Na=(0,a.createElementVNode)("div",{class:"col"},"Cilindrico",-1),Va=(0,a.createElementVNode)("div",{class:"col"},"Eixo",-1),ga=(0,a.createElementVNode)("div",{class:"col"},"DNP",-1),xa=(0,a.createTextVNode)("OD"),ba={class:"col"},wa={class:"col"},_a={class:"col"},ya={class:"col"},Ia=(0,a.createTextVNode)("OE"),Ea={class:"col"},Sa={class:"col"},Ma={class:"col"},Ta={class:"col"},ka=(0,a.createTextVNode)("  "),Da=(0,a.createElementVNode)("div",{class:"col"},"Médio",-1),qa=(0,a.createElementVNode)("div",{class:"col"},"Perto",-1),Fa=(0,a.createTextVNode)("  "),Pa=(0,a.createElementVNode)("div",{class:"col"},"Adição",-1),Aa=(0,a.createElementVNode)("div",{class:"col"},"DNP",-1),Ba=(0,a.createElementVNode)("div",{class:"col"},"Adição",-1),La=(0,a.createElementVNode)("div",{class:"col"},"DNP",-1),Oa=(0,a.createTextVNode)("OD"),za={class:"col"},ja={class:"col"},$a={class:"col"},Ua={class:"col"},Za=(0,a.createTextVNode)("OE"),Qa={class:"col"},Ra={class:"col"},Ga={class:"col"},Ha={class:"col"},Ja=(0,a.createTextVNode)("Imagens"),Ya={class:"q-pa-md"},Xa=(0,a.createTextVNode)(" Carrinho "),Wa=(0,a.createTextVNode)("Lentes de Contato"),Ka=(0,a.createTextVNode)("Lentes"),ei=(0,a.createTextVNode)("Armação"),oi={class:"q-pa-md"},ti={key:0,class:"text-center"},ai=[(0,a.createElementVNode)("p",null,"Não há itens no carrinho",-1),(0,a.createElementVNode)("p",{class:"text-caption"},"Para adicionar, utilize os botões acima ou insira o código de barras",-1)],ii={class:"col-12 col-md-auto"},ri={class:"col-12 col-md"},li={class:"col-4 col-md"},si={class:"col-4 col-md"},ni={class:"col-4 col-md"},ci={class:"col-4 col-md"},di={class:"q-col-gutter-sm row justify-end q-mt-sm"},mi={class:"col-12 col-md-4 offset-md-8"},ui=(0,a.createElementVNode)("div",{class:"col-4"},"Subtotal",-1),pi={class:"col-8 text-right"},hi=(0,a.createElementVNode)("div",{class:"col-4",style:{"padding-top":"16px"}},"Desconto",-1),Ci=(0,a.createElementVNode)("div",{class:"col-4 q-mt-sm",style:{"padding-top":"8px"}},"Total",-1),vi={class:"col-8 q-mt-sm text-right",style:{"padding-top":"8px"}},fi={class:"q-pa-md"},Ni={class:"col-12 col-md"},Vi={class:"col-6 col-md"},gi={class:"col-6 col-md"},xi={class:"col-12 col-md"},bi={class:"col-12 col-md"},wi={class:"col-12 col-md"},_i={class:"q-pa-md"},yi={class:"col-6 col-md"},Ii={class:"col-6 col-md"},Ei={class:"col-6 col-md"},Si={class:"col-6 col-md"},Mi={class:"col-12 col-lg-3"},Ti={class:"col-12 col-lg-3"},ki=(0,a.createTextVNode)("Cadastrar Material"),Di={class:"row justify-end"},qi=(0,a.createTextVNode)("Cadastrar Tipo Montagem"),Fi={class:"row justify-end"};var Pi=t(85956),Ai=t(54097),Bi=t(69269),Li=t(34976),Oi=t(54726);const zi={components:{Arquivo:Mt.Z,Avatar:Ho.Z,Badge:Jo.Z,CodigoBarras:Q,ContatoCriar:Pi.Z,PromptItemNovo:U.Z,Receita:Ai.Z,Tutorial:Bi.Z,Pupilometro:Li.Z},computed:{carrinhoSemArmacaoVazia(){return this.carrinho.filter((e=>!("Armação"===e.tipoItem&&!e.descricaoItem.trim()&&0===e.total&&0===e.valorItem)))},envelopeVazio:()=>({id:"",idDocumentoAdicional:"",docId:"",docTipo:"",carrinho:[],totalDesconto:0,totalPercentualDesconto:0,subTotal:0,totalDocumento:0,paciente:{id:"",nome:""},tipo:"Envelope",tipoEnvelope:"Oculos",tipoLente:"",tipoOculos:"Vista"}),erroDataHoraPrevisto(){if(this.campos.dataHoraPrevisto){const e=(new Date).setHours(0,0,0,0);if(new Date(this.campos.dataHoraPrevisto)<new Date(e))return"Previsão de entrega não pode ser menor do que a data de hoje"}return""}},data:()=>({armacao:{alturaMontagemOD:null,alturaMontagemOE:null,diagonal:null,ponte:null,altura:null,tamanho:"",armacaoMaterial:"",tipoMontagem:""},armacaoMaterialModal:!1,armacaoMaterialDescricao:"",envelope:{},visivel:!1,opcoesArmacaoMaterial:[],tipoMontagemModal:!1,tipoMontagemDescricao:"",opcoesTipoMontagem:[],campos:{totalDesconto:0,totalPercentualDesconto:0,subTotal:0,totalDocumento:0,idContato:"",descricaoContato:"",idDocumentoAdicional:"",dataHoraPrevisto:""},tipo:"Envelope",tipoEnvelope:"Oculos",tipoLente:"",tipoOculos:"Vista",carrinho:[],documentoContato:[],duplicarReceita:!1,idPacienteSelecionado:"",descricaoReceitaSelecionada:"",modalItem:{visivel:!1,filtros:{}},modalPupilometro:{},permissaoPupilometro:!1,descricaoLaboratorio:"",documentoContatoLaboratorio:{},descricaoResponsavel:"",itensTipo:[],itens:{},tipoDescontoPercentagem:!0,tipoDescontoTotal:!0,pacientes:[{label:"",value:""}],tipoLentes:[],tipoLentesOculos:["","Monofocal (Longe)","Monofocal (Médio)","Monofocal (Perto)","Bifocal (Longe e Perto)","Multifocal (Longe e Perto)","Intermediário (Médio e Perto)","Intermediário (Longe e Médio)"],tipoLentesContato:["","Monofocal (Longe)","Bifocal (Longe e Perto)","Multifocal (Longe e Perto)"],receita:{},receitasDescricao:[],modalReceita:{visivel:!1,id:"",idEmpresa:"",duplicar:!1},arquivo:[],opcoesPacientes:[]}),emits:["salvarEnvelope"],methods:{async criarOpcoesPacientes(){try{const e=await $db.contato.leFilhos($db.contato.selecionado.id);e.push($db.contato.selecionado);const o=e.map((e=>({label:e.nome,value:e.id})));return o.sort(((e,o)=>e.label<o.label?1:-1)),o}catch(e){this.$q.notifyError("Não foi possível carregar os dados de pacientes",e)}},filtrarPacientes(e,o){o((async()=>{const o=await this.criarOpcoesPacientes();if(""===e)this.opcoesPacientes=o;else{const t=e.toLowerCase();this.opcoesPacientes=o.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}}))},fecharModalPupilometro(){if(this.modalPupilometro.visivel=!1,this.$nextTick((()=>{this.modalPupilometro.ativo=!1})),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC"===$db.pupilometro.fotoOriginal)return;let e={id:(this.modalPupilometro.pupilometroAtual||{}).id||$utils.uuid(),descricao:"Pupilômetro",referencia:"idEnvelope:"+this.campos.id,json:JSON.stringify({foto:$db.pupilometro.foto,fotoOriginal:$db.pupilometro.fotoOriginal,medidas:$db.pupilometro.medidas})};this.modalPupilometro.pupilometroAtual=e,this.armacao.largura=$db.pupilometro.medidas.tamanhoArmacao,this.armacao.ponte=$db.pupilometro.medidas.ponte,this.armacao.altura=$db.pupilometro.medidas.alturaArmacao,this.armacao.diagonal=$db.pupilometro.medidas.diagonal.distancia,$db.pupilometro.medidas.bifocal?(this.armacao.alturaMontagemOD=$db.pupilometro.medidas.bifocalOlhoDireito,this.armacao.alturaMontagemOE=$db.pupilometro.medidas.bifocalOlhoEsquerdo):(this.armacao.alturaMontagemOD=$db.pupilometro.medidas.dip.od.altura,this.armacao.alturaMontagemOE=$db.pupilometro.medidas.dip.oe.altura),this.salvarDnp()},abrirModalPupilometro(){if(this.modalPupilometro={...this.modalPupilometro,ativo:!0,visivel:!1,avancar:this.envelope.somenteLeitura?"Medidas":""},$db.pupilometro.limpar(),this.armacao.largura&&($db.pupilometro.medidas.tamanhoArmacao=this.armacao.largura),this.armacao.ponte&&($db.pupilometro.medidas.ponte=this.armacao.ponte),this.armacao.diagonal&&($db.pupilometro.medidas.diagonal.distancia=this.armacao.diagonal),this.armacao.altura&&($db.pupilometro.medidas.alturaArmacao=this.armacao.altura),(this.modalPupilometro.pupilometroAtual||{}).json){const e=JSON.parse(this.modalPupilometro.pupilometroAtual.json);$db.pupilometro.foto=e.foto,$db.pupilometro.fotoOriginal=e.fotoOriginal,$db.pupilometro.medidas=e.medidas,this.armacao.largura&&($db.pupilometro.medidas.tamanhoArmacao=this.armacao.largura),this.armacao.ponte&&($db.pupilometro.medidas.ponte=this.armacao.ponte),this.armacao.diagonal&&($db.pupilometro.medidas.diagonal.distancia=this.armacao.diagonal),this.envelope.somenteLeitura||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC"!==$db.pupilometro.foto?this.modalPupilometro.avancar="Medidas":this.modalPupilometro.avancar="TirarFoto"}this.$nextTick((()=>{this.modalPupilometro.visivel=!0}))},adicionaArquivo(e){for(const o of e)this.$resizeImage(o,{outputFormat:"jpg"},((e,o)=>{this.arquivo.push({id:$utils.uuid(),tabelaMaster:"envelope",idTabelaMaster:this.envelope.id,arquivo:o})}))},abrirArmacaoMaterialModal(){this.envelope.somenteLeitura||(this.armacaoMaterialModal=!0)},abrirTipoMontagemModal(){this.envelope.somenteLeitura||(this.tipoMontagemModal=!0)},async atualizarArmacaoMaterial(){let e=[];await $db.item.carregarMemoria();for(const o of $db.item.itens)o.armacaoMaterial&&!~e.indexOf(o.armacaoMaterial)&&e.push(o.armacaoMaterial);e=e.map((e=>({armacaoMaterial:e,sort:e.toLowerCase()}))),e=$lodash.orderBy(e,"sort","asc");const o=[];for(const t of e)o.push({rotulo:t.armacaoMaterial,valor:t.armacaoMaterial});this.opcoesArmacaoMaterial=o},async atualizarTipoMontagem(){let e=[];await $db.item.carregarMemoria();for(const o of $db.item.itens)o.tipoMontagem&&!~e.indexOf(o.tipoMontagem)&&e.push(o.tipoMontagem);e=e.map((e=>({tipoMontagem:e,sort:e.toLowerCase()}))),e=$lodash.orderBy(e,"sort","asc");const o=[];for(const t of e)o.push({rotulo:t.tipoMontagem,valor:t.tipoMontagem});this.opcoesTipoMontagem=o},async criarArmacaoMaterial(){this.opcoesArmacaoMaterial=$lodash.orderBy([...this.opcoesArmacaoMaterial,{rotulo:this.armacaoMaterialDescricao,valor:this.armacaoMaterialDescricao,sort:this.armacaoMaterialDescricao.toLowerCase()}],"sort","asc"),this.armacao.armacaoMaterial=this.armacaoMaterialDescricao,this.armacaoMaterialModal=!1},async criarTipoMontagem(){this.opcoesTipoMontagem=$lodash.orderBy([...this.opcoesTipoMontagem,{rotulo:this.tipoMontagemDescricao,valor:this.tipoMontagemDescricao,sort:this.tipoMontagemDescricao.toLowerCase()}],"sort","asc"),this.armacao.tipoMontagem=this.tipoMontagemDescricao,this.tipoMontagemModal=!1},async selecionarLaboratorio(){if(this.envelope.somenteLeitura)return;const e=await $g.promptContato.show({filtro:{ativo:!0,segmento:"Laboratório"},placeholder:"Selecione o laboratório"});if(!e?.id)return;const o=e.id;this.documentoContatoLaboratorio.idContato=o,this.descricaoLaboratorio=(await $db.contato.le({id:o})).apelido||""},laboratorioLimpar(){this.documentoContatoLaboratorio.idContato="",this.descricaoLaboratorio=""},responsavelLimpar(){this.campos.idContatoResponsavel="",this.descricaoResponsavel=""},async selecionarResponsavel(){if(this.envelope.somenteLeitura)return;const e=await $g.promptContato.show({filtro:{ativo:!0,vendedores:!0},placeholder:"Selecione o responsável"});if(!e?.id)return;const o=e.id;this.campos.idContatoResponsavel=o,this.descricaoResponsavel=(await $db.contato.le({id:o})).apelido||""},alterarTipoLente(){for(const e of this.carrinho)e.oculos=this.tipoLente},async selecionarPaciente(e){this.campos.idContato=e.value,this.campos.descricaoContato=e.label,await this.filtrarReceitas()},async atualizarReceita(e){await this.filtrarReceitas(),e||this.receitasDescricao.length&&(e=this.receitasDescricao[0].value),e&&(this.receita=await $db.receita.le({id:e||this.receita.id}),await this.pacientesAtualizar(),this.campos.idContato=this.receita.paciente.id,this.campos.descricaoContato=this.pacientes.filter((e=>e.value===this.campos.idContato))[0].label)},calculaTotal(e){$db.envelope.calculaTotal({envelope:$utils.clonar(this.campos),itensEnvelope:$utils.clonar(this.carrinho),campoAlterado:e}).then((e=>{this.carrinho=e.itensEnvelope,this.campos=e.envelope}))},async calculaTotalItem(e,o){const t=(await $db.envelope.calculaTotalItem({envelope:$utils.clonar(this.campos),itemEnvelope:$utils.clonar(this.carrinho[e]),campoAlterado:o})).itemEnvelope;if("valorItem"===o){const o=$utils.clonarV2(this.carrinho);o[e]={...t,valorItem:0},this.carrinho=o,this.$nextTick((()=>{const o=$utils.clonarV2(this.carrinho);o[e]=t,this.carrinho=o,this.calculaTotal()}))}else{const o=$utils.clonarV2(this.carrinho);o[e]=t,this.carrinho=o}this.calculaTotal()},async abrirModalDependente(){const e=await this.$refs.modalDependente.mostrar();(e||{}).id&&(await this.criarDependencia(e),await this.filtrarReceitas())},async abrirModalReceita(e,o){try{this.$refs.modalReceita.mostrar({id:e||$utils.uuid(),idEmpresa:$lodash.get(this.envelope,"documento.idEmpresa",""),duplicar:o})}catch(e){this.$q.notifyError("Ocorreu um erro ao carregar a receita.",e)}},abrirModalItem(e,o){switch(e){case"Lentes":this.modalItem.filtros={tipo:"Lente",ativo:!0};break;case"LentesContato":this.modalItem.filtros={tipo:"Lente Contato",ativo:!0};break;case"Armacao":this.modalItem.filtros={tipo:["Armação","Óculos Sol"],ativo:!0};break;case"Tratamento LOD":this.modalItem.filtros={tipo:"Tratamento",ativo:!0},this.tipoTratamento="TLOD",this.idDocumentoItemPai=o;break;case"Tratamento LOE":this.modalItem.filtros={tipo:"Tratamento",ativo:!0},this.tipoTratamento="TLOE",this.idDocumentoItemPai=o}this.modalItem.filtros.idEmpresa=this.campos.idEmpresa,this.modalItem.filtros.idTabelaPreco=this.campos.idItemTabelaPreco,this.modalItem.visivel=!0},async alterarTipoEnvelope(){const e=async()=>{this.tipoOculos="Oculos"===this.tipoEnvelope?"Vista":"",this.carrinho=[],"Oculos"===this.tipoEnvelope?(this.tipoOculos="Vista",this.tipoLentes=this.tipoLentesOculos):(this.tipoOculos="",this.tipoLentes=this.tipoLentesContato)};this.carrinho.length?$q.dialog({cancel:"Cancelar",message:"Esta ação irá remover os itens do carrinho.",ok:"Continuar",title:"Tem certeza?"}).onOk((()=>{e()})).onCancel((()=>{this.tipoEnvelope="Oculos"===this.tipoEnvelope?"Lentes":"Oculos"})):e()},async criarDependencia(e){try{const o=await $db.documento.le({id:this.campos.documentoId});await $db.contato.criarDependenciaContatos({contatoPai:{id:o.idContato},contatoFilho:e}),this.campos.paciente||(this.campos.paciente={}),this.campos.idContato=this.campos.paciente.id=this.idPacienteSelecionado=e.id,this.campos.descricaoContato=this.campos.paciente.nome=e.nome}catch(e){this.$q.notifyError("Ocorreu um erro ao criar a dependência.",e)}},async filtrarReceitas(){let e=[],o=await $db.receita.leReceitas({idContato:this.campos.idContato});o=$lodash.orderBy(o,"dataHoraEmissao","desc");const t=(new Date).setHours(0,0,0,0);for(let a of o){a=await $db.receita.le({id:a.id}),this.receita.id||(this.receita=a);let o=`De ${a.medico.nome}, `;o+=`${this.$filters.data(a.data)} `,o+=`válido até ${this.$filters.data(a.validade)}`;let i={};i=new Date(a.validade).setHours(0,0,0,0)<t?{icon:"alarm_off",color:"negative",stamp:"Vencida"}:{icon:"alarm",stamp:"À vencer"};const r={label:o,value:a.id,...i};e.push(r)}this.receitasDescricao=e},mostrar(){this.atualizar(),this.visivel=!0},async fechar(e){e.stopPropagation(),this.visivel=!1},ordenarCarrinho(){const e={LOE:1,TLOE:2,LOD:3,TLOD:4,Armação:5};this.carrinho=(this.carrinho||[]).sort(((o,t)=>e[o.tipoItem]-e[t.tipoItem]))},async removerItem(e){const o=(this.carrinho[e]||{}).id;this.carrinho=this.carrinho.filter((e=>e.id!==o&&e.idDocumentoItemPai!==o)),this.calculaTotal()},async salvarDnp(){if(!this.receita.id)return;const e=JSON.parse((this.modalPupilometro.pupilometroAtual||{}).json||null);if(!e)return;let o=await $erp().documentoItem.where({idDocumento:this.receita.id}).toArray();for(const t of o){let o=0;"Olho Esquerdo"===t.operacao&&(o=$utils.arredondar(e.medidas.dnp.oe)),"Olho Direito"===t.operacao&&(o=$utils.arredondar(e.medidas.dnp.od)),o!==t.di&&(await $erp().documentoItem.update(t.id,{di:o}),await $utils.sincronismoEnviar("atualizar","documentoItem",t.id,{di:o}))}this.atualizarReceita(this.receita.id)},async salvarEnvelope(){if(!this.tipoLente)return void this.$q.notifyError("Selecione o tipo da lente");if(!this.receita.id)return void this.$q.notifyError("Selecione uma receita");if(!this.carrinho.length)return void this.$q.notifyError("Não há itens no carrinho");if(this.erroDataHoraPrevisto)return void this.$q.notifyError("Erro no preenchimento do formulário");let e={};if("Oculos"===this.tipoEnvelope){let o=!1;for(const t in this.carrinho)if("Armação"===this.carrinho[t].tipoItem){this.carrinho[t].alturaMontagemOD=$utils.numberOrNull(this.armacao.alturaMontagemOD),this.carrinho[t].alturaMontagemOE=$utils.numberOrNull(this.armacao.alturaMontagemOE),this.carrinho[t].diagonal=$utils.numberOrNull(this.armacao.diagonal),this.carrinho[t].ponte=$utils.numberOrNull(this.armacao.ponte),this.carrinho[t].altura=$utils.numberOrNull(this.armacao.altura),this.carrinho[t].largura=$utils.numberOrNull(this.armacao.largura),this.carrinho[t].armacaoMaterial=this.armacao.armacaoMaterial,this.carrinho[t].tipoMontagem=this.armacao.tipoMontagem,this.carrinho[t].oculos=this.tipoLente,this.carrinho[t].tipoOculos=this.tipoOculos,this.carrinho[t].idItem&&(e.id=this.carrinho[t].idItem,e.armacaoMaterial=this.armacao.armacaoMaterial,e.tipoMontagem=this.armacao.tipoMontagem,e.diagonal=$utils.numberOrNull(this.armacao.diagonal),e.ponte=$utils.numberOrNull(this.armacao.ponte),e.altura=$utils.numberOrNull(this.armacao.altura),e.largura=$utils.numberOrNull(this.armacao.largura)),o=!0;break}o||this.carrinho.push({id:$utils.uuid(),idDocumento:this.campos.documentoId,idDocumentoAdicional:this.campos.id,dataHoraEmissao:$utils.dataAtual(),descontoItem:0,descontoPercentualItem:0,descontoSubTotal:0,descricaoItem:"",operacaoFator:0,oculos:this.tipoLente,tipoOculos:this.tipoOculos,quantidade:0,status:this.campos.status,subTotal:0,tipoItem:"Armação",total:0,valorCusto:0,valorCustoMedio:0,valorCustoReposicao:0,valorCustoUltimo:0,valorItem:0,valorItemUltimo:0,valorOriginal:0,valorReal:0,alturaMontagemOD:$utils.numberOrNull(this.armacao.alturaMontagemOD),alturaMontagemOE:$utils.numberOrNull(this.armacao.alturaMontagemOE),diagonal:$utils.numberOrNull(this.armacao.diagonal),ponte:$utils.numberOrNull(this.armacao.ponte),altura:$utils.numberOrNull(this.armacao.altura),largura:$utils.numberOrNull(this.armacao.largura),armacaoMaterial:this.armacao.armacaoMaterial,tipoMontagem:this.armacao.tipoMontagem})}this.campos.idDocumentoAdicional=this.receita.id;const o={documento:$utils.clonar(this.campos),documentoItens:$utils.clonar(this.carrinho),armacao:e,arquivo:this.$refs.arquivo.arquivo.map((e=>({...e,idTabelaMaster:this.campos.id,tabelaMaster:"envelope"}))),pupilometro:{original:$utils.clonarV2(this.modalPupilometro.pupilometroOriginal),atual:$utils.clonarV2(this.modalPupilometro.pupilometroAtual)}};this.documentoContatoLaboratorio.idContato&&(this.documentoContatoLaboratorio.id||(this.documentoContatoLaboratorio.id=$utils.uuid(),this.documentoContatoLaboratorio.idDocumento=o.documento.id,this.documentoContatoLaboratorio.descricao="Laboratório"),this.documentoContato=this.documentoContato.filter((e=>"Laboratório"!==e.descricao)),o.documentoContato=[...this.documentoContato,this.documentoContatoLaboratorio]),this.salvarDnp(),this.$emit("salvarEnvelope",o),this.visivel=!1},adicionarItem(e){const o=this.carrinho.find((o=>o.idItem===e.id));let t=1;e.novoValorVenda=e.valorVenda,o&&(e.novoValorVenda=o.valorReal,t=o.quantidade);const a={};a[e.id]={item:e,quantidade:t},this.selecionarItens(a)},async selecionarItens(e){for(const o in e){const t=e[o].item||{};await this.selecionarItem(o,t)}},async selecionarItem(e,o){let t=[];if(["Armação","Óculos Sol"].includes(o.tipo))t=["Armação"];else if("Tratamento"===o.tipo)t=[this.tipoTratamento];else if(["Lente","Lente Contato"].includes(o.tipo))try{const e=[{label:"LOD / LOE",value:"opt1"},{label:"LOD",value:"opt2"},{label:"LOE",value:"opt3"}],o=await new Promise(((o,t)=>{$q.dialog({noRefocus:!0,cancel:{label:"CANCELAR",push:!0,color:"tertiary",flat:!0},ok:{label:"CONTINUAR",push:!0,class:"bg-primary",textColor:"white",flat:!0},title:"",options:{type:"radio",model:"opt1",items:e}}).onOk((e=>{o(e)})).onCancel((()=>{t()}))}));t=e.filter((e=>e.value===o))[0].label.split(" / ")}catch(e){return}this.modalItem.visivel=!1;const a=await $utils.selecionarCfop({ncm:o.ncm,itemTipo:o.tipo,codigoDocumentoOperacao:this.campos.codigoDocumentoOperacao,idContatoDestinatario:this.campos.idContato,idContatoEmitente:this.campos.idEmpresa,operacaoFator:-1});if(a)for(const e of t){if(!["TLOD","TLOE"].includes(e))for(const o in this.carrinho)this.carrinho[o].tipoItem===e&&await this.removerItem(o);const t=(await $db.estoqueSaldoProdutoEmpresa.le({idItem:o.id,idEmpresa:$lodash.get(this.envelope,"documento.idEmpresa",""),tipoEstoque:"Disponível"})).find((e=>e.idItem)),i={id:$utils.uuid(),idItem:o.id,idDocumento:this.campos.documentoId,idDocumentoAdicional:this.campos.id,codigoPlanoContaDestino:139,codigoPlanoContaEstoque:146,dataHoraEmissao:$utils.dataAtual(),descontoItem:0,descontoPercentualItem:0,descontoSubTotal:0,descricaoItem:o.descricaoConcatenada,operacao:a?.operacao,operacaoFator:a?.fator,idCfop:a?.id,oculos:this.tipoLente,tipoOculos:"Armação"===e?this.tipoOculos:"",lenteTipo:"Armação"!==e?this.tipoOculos:"",quantidade:1,status:this.campos.status,subTotal:o.valorVenda,tipoItem:e,total:o.valorVenda,valorCusto:0,valorCustoMedio:$lodash.get(t,"valorCustoMedio",0),valorCustoReposicao:o.valorCustoReposicao||0,valorCustoUltimo:$lodash.get(t,"valorCusto",0),valorItem:o.valorVenda,valorItemUltimo:0,valorOriginal:o.valorVenda,valorReal:o.valorVenda,valorRealTotal:o.valorVenda,alturaMontagemOD:null,alturaMontagemOE:null,diagonal:$utils.numberOrNull(o.diagonal),ponte:$utils.numberOrNull(o.ponte),altura:$utils.numberOrNull(o.altura),largura:$utils.numberOrNull(o.largura),armacaoMaterial:o.armacaoMaterial||"",tipoMontagem:o.tipoMontagem||""};["TLOD","TLOE"].includes(e)&&this.idDocumentoItemPai&&(i.idDocumentoItemPai=this.idDocumentoItemPai),"Armação"===e&&(this.armacao.diagonal=$utils.numberOrNull(i.diagonal),this.armacao.ponte=$utils.numberOrNull(i.ponte),this.armacao.altura=$utils.numberOrNull(i.altura),this.armacao.largura=$utils.numberOrNull(i.largura),this.armacao.armacaoMaterial=i.armacaoMaterial,this.armacao.tipoMontagem=i.tipoMontagem),this.carrinho.push(i),this.ordenarCarrinho(),this.carregarItens(),this.calculaTotal()}else this.$q.notify("Não foi possível localizar o CFOP.")},async pacientesAtualizar(){const e=await $db.contato.leFilhos($db.contato.selecionado.id);e.push({nome:$db.contato.selecionado.nome,id:$db.contato.selecionado.id});const o=[];for(const t of e)o.push({label:t.nome,value:t.id});this.pacientes=$lodash.orderBy(o,"label")},async atualizar(){this.campos=$utils.clonar({...$db.envelope.vazio,...this.envelope.documento}),this.tipoLente="",this.tipoLentes=this.tipoLentesOculos,this.carrinho=$utils.clonar(this.envelope.documentoItens||[]),this.armacao.alturaMontagemOD=null,this.armacao.alturaMontagemOE=null,this.armacao.diagonal=null,this.armacao.ponte=null,this.armacao.altura=null,this.armacao.largura=null,this.armacao.armacaoMaterial="",this.armacao.tipoMontagem="";const e=[];for(const o in this.carrinho){if(this.carrinho[o].idItem){const t=await $erp().item.get(this.carrinho[o].idItem);e.push(t.tipo||"")}if("Armação"===this.carrinho[o].tipoItem){this.armacao.alturaMontagemOD=$utils.numberOrNull(this.carrinho[o].alturaMontagemOD),this.armacao.alturaMontagemOE=$utils.numberOrNull(this.carrinho[o].alturaMontagemOE),this.armacao.diagonal=$utils.numberOrNull(this.carrinho[o].diagonal),this.armacao.ponte=$utils.numberOrNull(this.carrinho[o].ponte),this.armacao.altura=$utils.numberOrNull(this.carrinho[o].altura),this.armacao.largura=$utils.numberOrNull(this.carrinho[o].largura),this.armacao.armacaoMaterial=this.carrinho[o].armacaoMaterial,this.armacao.tipoMontagem=this.carrinho[o].tipoMontagem,this.tipoLente=this.carrinho[o].oculos;break}}this.tipoEnvelope="Oculos";const o=new RegExp(/contato/i);for(const t of e)if(o.test(t)){this.tipoEnvelope="Lentes";break}if(this.documentoContato=$utils.clonar(this.envelope.documentoContato||[]),this.documentoContatoLaboratorio=this.documentoContato.find((e=>"Laboratório"===e.descricao))||{},this.descricaoLaboratorio="",this.documentoContatoLaboratorio.id&&(this.descricaoLaboratorio=(await $db.contato.le({id:this.documentoContatoLaboratorio.idContato})).apelido||""),this.descricaoResponsavel=(await $db.contato.le({id:this.campos.idContatoResponsavel})).apelido||"",!this.campos.dataHoraPrevisto){let e="",o=await $db.configuracoes.le({nome:"venda.envelope.previsaoentrega"});o.length&&(o=parseInt(o[0].valor)),Number.isInteger(o)||(o=15);let t=new Date;const a=t.getDate();t.setDate(a+o),e=new Date(t.setHours(0,0,0,0)),this.campos.dataHoraPrevisto=Oi.ZP.formatDate(e)}this.$refs.arquivo.arquivo=this.envelope.arquivo,this.$refs.arquivo.somenteLeitura=this.envelope.somenteLeitura,this.pacientesAtualizar(),this.atualizarArmacaoMaterial(),this.atualizarTipoMontagem(),this.atualizarReceita(this.campos.idDocumentoAdicional),this.ordenarCarrinho(),this.carregarItens(),this.carregarPupilometro(),this.visivel=!0},async carregarItens(){for(const e of this.carrinho)if(e.idItem&&!(e.idItem in this.itens)){let o=await $erp().item.get(e.idItem);o={...o,marca:o.marca||"",referencia:o.referencia||"",observacao:o.observacao||"",aplicacao:o.aplicacao||"",imagem:o.imagem||""};const t=$utils.clonarV2(this.itens);t[o.id]=o,this.itens=t}},async carregarPupilometro(){let e,o;$db.permissao.objeto("pupilometro").then((e=>{this.permissaoPupilometro=e})),e=await $erp().json.where({descricao:"Pupilômetro",referencia:"idEnvelope:"+this.campos.id}).toArray(),o=e.find((e=>e.id)),this.modalPupilometro.pupilometroOriginal={},this.modalPupilometro.pupilometroAtual={},o&&(this.modalPupilometro.pupilometroOriginal=$utils.clonarV2(o),this.modalPupilometro.pupilometroAtual=$utils.clonarV2(o))}}};var ji=t(40320),$i=t(782);const Ui=(0,_.Z)(zi,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-header"),m=(0,a.resolveComponent)("q-tooltip"),u=(0,a.resolveComponent)("q-item-section"),p=(0,a.resolveComponent)("q-item"),h=(0,a.resolveComponent)("q-select"),C=(0,a.resolveComponent)("q-radio"),v=(0,a.resolveComponent)("campo"),f=(0,a.resolveComponent)("row"),N=(0,a.resolveComponent)("q-card"),V=(0,a.resolveComponent)("q-icon"),g=(0,a.resolveComponent)("q-item-label"),x=(0,a.resolveComponent)("q-list"),b=(0,a.resolveComponent)("q-menu"),w=(0,a.resolveComponent)("arquivo"),_=(0,a.resolveComponent)("CodigoBarras"),y=(0,a.resolveComponent)("avatar"),I=(0,a.resolveComponent)("badge"),E=(0,a.resolveComponent)("Tutorial"),S=(0,a.resolveComponent)("q-page-container"),M=(0,a.resolveComponent)("q-layout"),T=(0,a.resolveComponent)("q-dialog"),k=(0,a.resolveComponent)("q-card-section"),D=(0,a.resolveComponent)("pupilometro"),q=(0,a.resolveComponent)("ContatoCriar"),F=(0,a.resolveComponent)("promptItemNovo"),P=(0,a.resolveComponent)("receita"),A=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(T,{modelValue:r.visivel,"onUpdate:modelValue":o[32]||(o[32]=e=>r.visivel=e),persistent:"",maximized:"",onKeyup:(0,a.withKeys)(l.fechar,["esc"])},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(M,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{flat:"",round:"",dense:"",icon:"arrow_back"},null,512),[[A]]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[zt])),_:1}),(0,a.createElementVNode)("form",{onSubmit:o[0]||(o[0]=(0,a.withModifiers)(((...e)=>l.salvarEnvelope&&l.salvarEnvelope(...e)),["prevent"]))},[r.envelope.somenteLeitura?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,class:"q-ml-sm no-shadow",color:"white","text-color":"primary",unelevated:"",label:"Salvar",type:"submit"}))],32)])),_:1})])),_:1}),(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",jt,[(0,a.createElementVNode)("div",$t,[(0,a.createVNode)(N,{class:"q-mb-md bg-white no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[Ut])),_:1})])),_:1}),(0,a.createElementVNode)("div",Zt,[(0,a.createVNode)(f,{class:"items-center q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Qt,[(0,a.createVNode)(h,{modelValue:r.campos.descricaoContato,"onUpdate:modelValue":[o[1]||(o[1]=e=>r.campos.descricaoContato=e),l.selecionarPaciente],"use-input":"","hide-selected":"","fill-input":"","input-debounce":"500","stack-label":"",label:"Paciente",options:r.opcoesPacientes,onFilter:l.filtrarPacientes},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{color:"tertiary",size:"md",icon:"person_add",dense:"",flat:"",round:"",onClick:l.abrirModalDependente},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[Rt])),_:1})])),_:1},8,["onClick"])])),"no-option":(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"text-grey"},{default:(0,a.withCtx)((()=>[Gt])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",Ht,[(0,a.createVNode)(C,{readonly:r.envelope.somenteLeitura,modelValue:r.tipoEnvelope,"onUpdate:modelValue":[o[2]||(o[2]=e=>r.tipoEnvelope=e),l.alterarTipoEnvelope],class:"q-mr-sm",label:"Óculos",val:"Oculos"},null,8,["readonly","modelValue","onUpdate:modelValue"]),(0,a.createVNode)(C,{readonly:r.envelope.somenteLeitura,modelValue:r.tipoEnvelope,"onUpdate:modelValue":[o[3]||(o[3]=e=>r.tipoEnvelope=e),l.alterarTipoEnvelope],label:"LDC",val:"Lentes"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[Jt])),_:1})])),_:1},8,["readonly","modelValue","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",Yt,[(0,a.createVNode)(v,{modelValue:r.tipoLente,"onUpdate:modelValue":[o[4]||(o[4]=e=>r.tipoLente=e),l.alterarTipoLente],class:"col-12 col-lg-4",maxlength:"60",rotulo:"Tipo",tipo:"seletor",opcoes:r.tipoLentes,somenteLeitura:r.envelope.somenteLeitura},null,8,["modelValue","opcoes","somenteLeitura","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",Xt,[(0,a.createVNode)(C,{modelValue:r.tipoOculos,"onUpdate:modelValue":o[5]||(o[5]=e=>r.tipoOculos=e),class:"q-mr-sm",disable:r.envelope.somenteLeitura||"Oculos"!==r.tipoEnvelope,label:"Vista",val:"Vista"},null,8,["modelValue","disable"]),(0,a.createVNode)(C,{modelValue:r.tipoOculos,"onUpdate:modelValue":o[6]||(o[6]=e=>r.tipoOculos=e),disable:r.envelope.somenteLeitura||"Oculos"!==r.tipoEnvelope,label:"Solar",val:"Solar"},null,8,["modelValue","disable"])])])),_:1})])])),_:1}),(0,a.createVNode)(N,{class:"q-mb-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{name:"mdi-file-eye",size:"24px",class:"text-tertiary"}),(0,a.createVNode)(n,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[Wt])),_:1}),r.envelope.somenteLeitura?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,color:"primary",dense:"",flat:"",icon:"search",round:"",onClick:l.filtrarReceitas},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{separator:"",link:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.receitasDescricao,(e=>(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(p,{clickable:"",key:e.value,onClick:o=>l.atualizarReceita(e.value)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{name:e.icon,color:e.color},null,8,["name","color"])])),_:2},1024),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.label),1)])),_:2},1024),(0,a.createVNode)(g,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("small",null,(0,a.toDisplayString)(e.stamp),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[A]]))),128))])),_:1})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[Kt])),_:1})])),_:1},8,["onClick"])),r.envelope.somenteLeitura?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,color:"primary",dense:"",flat:"",icon:"add",onClick:o[7]||(o[7]=e=>l.abrirModalReceita("",!1)),round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[ea])),_:1})])),_:1})),r.envelope.somenteLeitura?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:2,color:"tertiary",dense:"",flat:"",icon:"more_vert",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{link:"",separator:""},{default:(0,a.withCtx)((()=>[r.receitasDescricao.length?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(p,{key:0,clickable:"",onClick:o[8]||(o[8]=e=>l.abrirModalReceita(r.receita.id,!1))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{name:"edit"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[oa])),_:1})])),_:1})])),_:1},512)),[[A]]):(0,a.createCommentVNode)("",!0),r.receitasDescricao.length?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(p,{key:1,clickable:"",onClick:o[9]||(o[9]=e=>l.abrirModalReceita(r.receita.id,!0))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{name:"file_copy"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[ta])),_:1})])),_:1})])),_:1},512)),[[A]]):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1}))])),_:1}),(0,a.createElementVNode)("div",aa,[r.receitasDescricao.length?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",ia,[(0,a.createElementVNode)("p",null,"Não há receitas para o paciente "+(0,a.toDisplayString)(r.campos.descricaoContato)+".",1),ra])),r.receitasDescricao.length?((0,a.openBlock)(),(0,a.createBlock)(f,{key:1,class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",la,[sa,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)((r.receita.paciente||{}).nome),1)]),(0,a.createElementVNode)("div",na,[ca,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)((r.receita.medico||{}).nome),1)]),(0,a.createElementVNode)("div",da,[ma,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.$filters.data(r.receita.data)),1)]),(0,a.createElementVNode)("div",ua,[pa,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.$filters.data(r.receita.validade)),1)]),r.receita.observacoes?((0,a.openBlock)(),(0,a.createElementBlock)("div",ha,[Ca,(0,a.createElementVNode)("p",null,(0,a.toDisplayString)(r.receita.observacoes),1)])):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0),r.receitasDescricao.length?((0,a.openBlock)(),(0,a.createBlock)(f,{key:2,class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{class:"col-12 col-lg-6",highlight:"","no-border":""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:"",class:"mw100"}),(0,a.createVNode)(u,{class:"text-subtitle1 text-weight-bold"},{default:(0,a.withCtx)((()=>[va])),_:1})])),_:1}),(0,a.createVNode)(p,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:"",class:"mw100"}),(0,a.createVNode)(u,{class:"text-body2 text-weight-bold"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[fa,Na,Va,ga])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:"",class:"mw100"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[xa])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ba,(0,a.toDisplayString)(e.$filters.numeroSinal(r.receita?.prescricao?.dioptria?.od?.longe?.esferico,2)),1),(0,a.createElementVNode)("div",wa,(0,a.toDisplayString)(e.$filters.numeroSinal(r.receita?.prescricao?.dioptria?.od?.longe?.cilindrico,2)),1),(0,a.createElementVNode)("div",_a,(0,a.toDisplayString)(e.$filters.numeroOuBranco(r.receita?.prescricao?.dioptria?.od?.longe?.eixo)),1),(0,a.createElementVNode)("div",ya,(0,a.toDisplayString)(e.$filters.numeroOuBranco(r.receita?.prescricao?.dioptria?.od?.longe?.dnp,2)),1)])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:"",class:"mw100"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[Ia])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Ea,(0,a.toDisplayString)(e.$filters.numeroSinal(r.receita.prescricao?.dioptria?.oe?.longe?.esferico,2)),1),(0,a.createElementVNode)("div",Sa,(0,a.toDisplayString)(e.$filters.numeroSinal(r.receita.prescricao?.dioptria?.oe?.longe?.cilindrico,2)),1),(0,a.createElementVNode)("div",Ma,(0,a.toDisplayString)(e.$filters.numeroOuBranco(r.receita.prescricao?.dioptria?.oe?.longe?.eixo)),1),(0,a.createElementVNode)("div",Ta,(0,a.toDisplayString)(e.$filters.numeroOuBranco(r.receita.prescricao?.dioptria?.oe?.longe?.dnp,2)),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(x,{class:"col-12 col-lg-6",highlight:"","no-border":""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:"",class:"mw100"},{default:(0,a.withCtx)((()=>[ka])),_:1}),(0,a.createVNode)(u,{class:"text-subtitle1 text-weight-bold"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[Da,qa])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:"",class:"mw100"},{default:(0,a.withCtx)((()=>[Fa])),_:1}),(0,a.createVNode)(u,{class:"text-body2 text-weight-bold"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[Pa,Aa,Ba,La])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:"",class:"mw100"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[Oa])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",za,(0,a.toDisplayString)(e.$filters.numeroSinal(r.receita.prescricao?.dioptria?.od?.medio?.esferico,2)),1),(0,a.createElementVNode)("div",ja,(0,a.toDisplayString)(e.$filters.numeroOuBranco(r.receita.prescricao?.dioptria?.od?.medio?.dnp,2)),1),(0,a.createElementVNode)("div",$a,(0,a.toDisplayString)(e.$filters.numeroSinal(r.receita.prescricao?.dioptria?.od?.perto?.esferico,2)),1),(0,a.createElementVNode)("div",Ua,(0,a.toDisplayString)(e.$filters.numeroOuBranco(r.receita.prescricao?.dioptria?.od?.perto?.dnp,2)),1)])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:"",class:"mw100"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[Za])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Qa,(0,a.toDisplayString)(e.$filters.numeroSinal(r.receita.prescricao?.dioptria?.oe?.medio?.esferico,2)),1),(0,a.createElementVNode)("div",Ra,(0,a.toDisplayString)(e.$filters.numeroOuBranco(r.receita.prescricao?.dioptria?.oe?.medio?.dnp,2)),1),(0,a.createElementVNode)("div",Ga,(0,a.toDisplayString)(e.$filters.numeroSinal(r.receita.prescricao?.dioptria?.oe?.perto?.esferico,2)),1),(0,a.createElementVNode)("div",Ha,(0,a.toDisplayString)(e.$filters.numeroOuBranco(r.receita.prescricao?.dioptria?.oe?.perto?.dnp,2)),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0)])])),_:1}),(0,a.createVNode)(N,{class:"bg-white q-mb-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{name:"image",size:"24px"}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[Ja])),_:1})])),_:1}),(0,a.createElementVNode)("div",Ya,[(0,a.createVNode)(w,{ref:"arquivo"},null,512)])])),_:1}),(0,a.createVNode)(N,{class:"q-mb-md bg-white no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{name:"mdi-glasses",size:"24px",class:"text-tertiary"}),(0,a.createVNode)(n,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[Xa])),_:1}),(0,a.createVNode)(s,{class:"hideondesktop",color:"primary",dense:"",flat:"",icon:"add",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{link:"",separator:""},{default:(0,a.withCtx)((()=>[r.envelope.somenteLeitura||"Lentes"!==r.tipoEnvelope?(0,a.createCommentVNode)("",!0):(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(p,{key:0,clickable:"",onClick:o[10]||(o[10]=e=>l.abrirModalItem("LentesContato"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{name:"add"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[Wa])),_:1})])),_:1})])),_:1},512)),[[A]]),!r.envelope.somenteLeitura&&"Oculos"===r.tipoEnvelope&&["Vista","Solar"].includes(r.tipoOculos)?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(p,{key:1,clickable:"",onClick:o[11]||(o[11]=e=>l.abrirModalItem("Lentes"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{name:"add"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[Ka])),_:1})])),_:1})])),_:1},512)),[[A]]):(0,a.createCommentVNode)("",!0),!r.envelope.somenteLeitura&&"Oculos"===r.tipoEnvelope&&["Vista","Solar"].includes(r.tipoOculos)?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(p,{key:2,clickable:"",onClick:o[12]||(o[12]=e=>l.abrirModalItem("Armacao"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{name:"add"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[ei])),_:1})])),_:1})])),_:1},512)),[[A]]):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1}),r.envelope.somenteLeitura||"Lentes"!==r.tipoEnvelope?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,color:"primary",flat:"",icon:"add",class:"hideonmobile",label:"Lentes de Contato",onClick:o[13]||(o[13]=e=>l.abrirModalItem("LentesContato"))})),!r.envelope.somenteLeitura&&"Oculos"===r.tipoEnvelope&&["Vista","Solar"].includes(r.tipoOculos)?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,class:"hideonmobile",color:"primary",flat:"",icon:"add",label:"Lentes",onClick:o[14]||(o[14]=e=>l.abrirModalItem("Lentes"))})):(0,a.createCommentVNode)("",!0),!r.envelope.somenteLeitura&&"Oculos"===r.tipoEnvelope&&["Vista","Solar"].includes(r.tipoOculos)?((0,a.openBlock)(),(0,a.createBlock)(s,{key:2,class:"hideonmobile",color:"primary",flat:"",icon:"add",label:"Armação",onClick:o[15]||(o[15]=e=>l.abrirModalItem("Armacao"))})):(0,a.createCommentVNode)("",!0),!r.envelope.somenteLeitura&&("Lentes"===r.tipoEnvelope||"Oculos"===r.tipoEnvelope&&["Vista","Solar"].includes(r.tipoOculos))?((0,a.openBlock)(),(0,a.createBlock)(_,{key:3,idItemTabelaPreco:r.campos.idItemTabelaPreco,idEmpresa:r.campos.idEmpresa,documentoItens:r.carrinho,onAdicionar:l.adicionarItem,onAtualizar:l.selecionarItens},null,8,["idItemTabelaPreco","idEmpresa","documentoItens","onAdicionar","onAtualizar"])):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createElementVNode)("div",oi,[r.carrinho.length?((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:1},(0,a.renderList)(l.carrinhoSemArmacaoVazia,((e,o)=>((0,a.openBlock)(),(0,a.createBlock)(f,{class:"items-start q-col-gutter-md",key:o},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ii,[(0,a.createVNode)(y,{imagem:(r.itens[e.idItem]||{}).imagem||"",rotulo:e.descricaoItem,tamanho:"120"},null,8,["imagem","rotulo"])]),(0,a.createElementVNode)("div",ri,[(0,a.createVNode)(c,{class:"Venda-itemBarra bg-transparent q-pa-none",color:"black",dark:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"q-pl-none"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.descricaoItem),1),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)((r.itens[e.idItem]||{}).marca||""),1)])),_:2},1024),(0,a.createVNode)(I,{class:"q-mr-sm"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.tipoItem)+" "+(0,a.toDisplayString)((r.itens[e.idItem]||{}).referencia||""),1)])),_:2},1024),r.envelope.somenteLeitura?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,color:"tertiary",dense:"",flat:"",icon:"delete",round:"",onClick:e=>l.removerItem(o)},null,8,["onClick"]))])),_:2},1024),(0,a.createVNode)(f,{class:"q-col-gutter-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",li,[(0,a.createVNode)(v,{somenteLeitura:r.envelope.somenteLeitura,modelValue:e.valorItem,"onUpdate:modelValue":o=>e.valorItem=o,dense:"",outlined:"","rotulo-fixo":"Valor",onBlur:e=>l.calculaTotalItem(o,"valorItem"),tipo:"decimal",decimals:"2"},null,8,["somenteLeitura","modelValue","onUpdate:modelValue","onBlur"])]),(0,a.createElementVNode)("div",si,[(0,a.createVNode)(f,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{name:"mdi-minus",color:"primary"}),(0,a.createVNode)(v,{somenteLeitura:r.envelope.somenteLeitura,modelValue:e.descontoPercentualItem,"onUpdate:modelValue":o=>e.descontoPercentualItem=o,dense:"",outlined:"",opcoes:{maximumValue:100},"rotulo-fixo":"Desconto",tipo:"decimal",decimals:"2",suffix:"%",onBlur:e=>l.calculaTotalItem(o,"descontoPercentualItem")},null,8,["somenteLeitura","modelValue","onUpdate:modelValue","onBlur"])])),_:2},1024)]),(0,a.createElementVNode)("div",ni,[(0,a.createVNode)(v,{somenteLeitura:r.envelope.somenteLeitura,modelValue:e.descontoItem,"onUpdate:modelValue":o=>e.descontoItem=o,dense:"",outlined:"",opcoes:{minimumValue:0},"rotulo-fixo":"Desconto",onBlur:e=>l.calculaTotalItem(o,"descontoItem"),tipo:"decimal",decimals:"2"},null,8,["somenteLeitura","modelValue","onUpdate:modelValue","onBlur"])]),(0,a.createElementVNode)("div",ci,[(0,a.createVNode)(f,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{name:"mdi-equal",color:"primary",class:"hideonmobile"}),(0,a.createVNode)(v,{somenteLeitura:r.envelope.somenteLeitura,modelValue:e.total,"onUpdate:modelValue":o=>e.total=o,dense:"",outlined:"","somente-leitura":"","rotulo-fixo":"Total",tipo:"decimal",decimals:"2"},null,8,["somenteLeitura","modelValue","onUpdate:modelValue"])])),_:2},1024)])])),_:2},1024),(0,a.createElementVNode)("div",di,[r.envelope.somenteLeitura||"LOE"!==e.tipoItem?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,color:"primary",flat:"",icon:"add",label:"Tratamento LOE",onClick:o=>l.abrirModalItem("Tratamento LOE",e.id)},null,8,["onClick"])),r.envelope.somenteLeitura||"LOD"!==e.tipoItem?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,color:"primary",flat:"",icon:"add",label:"Tratamento LOD",onClick:o=>l.abrirModalItem("Tratamento LOD",e.id)},null,8,["onClick"]))])])])),_:2},1024)))),128)):((0,a.openBlock)(),(0,a.createElementBlock)("div",ti,ai)),r.carrinho.length?((0,a.openBlock)(),(0,a.createBlock)(f,{key:2,class:"q-col-gutter-md q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",mi,[(0,a.createVNode)(f,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[ui,(0,a.createElementVNode)("strong",pi,(0,a.toDisplayString)(e.$filters.numero(r.campos.subTotal,2)),1),hi,(0,a.createVNode)(v,{"somente-leitura":r.envelope.somenteLeitura,modelValue:r.campos.totalPercentualDesconto,"onUpdate:modelValue":o[16]||(o[16]=e=>r.campos.totalPercentualDesconto=e),class:"col-3",opcoes:{maximumValue:100},tipo:"decimal",decimals:"2",suffix:"%",onBlur:o[17]||(o[17]=e=>l.calculaTotal("descontoPercentual"))},null,8,["somente-leitura","modelValue"]),(0,a.createVNode)(v,{"somente-leitura":r.envelope.somenteLeitura,modelValue:r.campos.totalDesconto,"onUpdate:modelValue":o[18]||(o[18]=e=>r.campos.totalDesconto=e),class:"col-5",opcoes:{minimumValue:0},onBlur:o[19]||(o[19]=e=>l.calculaTotal("desconto")),tipo:"decimal",decimals:"2"},null,8,["somente-leitura","modelValue"]),Ci,(0,a.createElementVNode)("strong",vi,(0,a.toDisplayString)(e.$filters.numero(r.campos.totalDocumento,2)),1)])),_:1})])])),_:1})):(0,a.createCommentVNode)("",!0)])])),_:1}),((0,a.openBlock)(),(0,a.createBlock)(N,{key:0,class:"q-mb-md bg-white no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",fi,[(0,a.createVNode)(f,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Ni,[(0,a.createVNode)(f,{class:"q-px-none q-mx-none"},{default:(0,a.withCtx)((()=>[r.permissaoPupilometro?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,label:"Pupilômetro",icon:"mdi-eye-settings-outline",unelevated:"",color:"primary",onClick:o[20]||(o[20]=e=>l.abrirModalPupilometro())})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(E,{componente:"Envelope"})])),_:1})]),(0,a.createElementVNode)("div",Vi,[(0,a.createVNode)(v,{"somente-leitura":r.envelope.somenteLeitura,modelValue:r.armacao.alturaMontagemOD,"onUpdate:modelValue":o[21]||(o[21]=e=>r.armacao.alturaMontagemOD=e),rotulo:"Alt. Mont. OD",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["somente-leitura","modelValue"])]),(0,a.createElementVNode)("div",gi,[(0,a.createVNode)(v,{"somente-leitura":r.envelope.somenteLeitura,modelValue:r.armacao.alturaMontagemOE,"onUpdate:modelValue":o[22]||(o[22]=e=>r.armacao.alturaMontagemOE=e),rotulo:"Alt. Mont. OE",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["somente-leitura","modelValue"])]),(0,a.createElementVNode)("div",xi,[(0,a.createVNode)(h,{dense:"",rounded:"",modelValue:r.descricaoLaboratorio,"onUpdate:modelValue":o[23]||(o[23]=e=>r.descricaoLaboratorio=e),label:"Laboratório",options:["a","b"],onFilter:l.selecionarLaboratorio,class:"col-12 col-sm-4"},{append:(0,a.withCtx)((()=>[""!==r.descricaoLaboratorio?((0,a.openBlock)(),(0,a.createBlock)(V,{key:0,name:"close",onClick:(0,a.withModifiers)(l.laboratorioLimpar,["stop"]),class:"cursor-pointer"},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(V,{name:"search",onClick:(0,a.withModifiers)(l.selecionarLaboratorio,["stop"]),class:"cursor-pointer"},null,8,["onClick"])])),_:1},8,["modelValue","onFilter"])]),(0,a.createElementVNode)("div",bi,[(0,a.createVNode)(h,{dense:"",rounded:"",modelValue:r.descricaoResponsavel,"onUpdate:modelValue":o[24]||(o[24]=e=>r.descricaoResponsavel=e),label:"Responsável",options:["a","b"],onFilter:l.selecionarResponsavel,class:"col-12 col-sm-4"},{append:(0,a.withCtx)((()=>[""!==r.descricaoResponsavel?((0,a.openBlock)(),(0,a.createBlock)(V,{key:0,name:"close",onClick:(0,a.withModifiers)(l.responsavelLimpar,["stop"]),class:"cursor-pointer"},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(V,{name:"search",onClick:(0,a.withModifiers)(l.selecionarResponsavel,["stop"]),class:"cursor-pointer"},null,8,["onClick"])])),_:1},8,["modelValue","onFilter"])]),(0,a.createElementVNode)("div",wi,[(0,a.createVNode)(v,{modelValue:r.campos.dataHoraPrevisto,"onUpdate:modelValue":o[25]||(o[25]=e=>r.campos.dataHoraPrevisto=e),maxlength:"10",rotulo:"Previsão de Entrega",tipo:"data",erro:!!l.erroDataHoraPrevisto,"erro-rotulo":l.erroDataHoraPrevisto},null,8,["modelValue","erro","erro-rotulo"])])])),_:1})])])),_:1})),((0,a.openBlock)(),(0,a.createBlock)(N,{key:1,class:"q-mb-md bg-white no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",_i,[(0,a.createVNode)(f,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",yi,[(0,a.createVNode)(v,{"somente-leitura":r.envelope.somenteLeitura,modelValue:r.armacao.diagonal,"onUpdate:modelValue":o[26]||(o[26]=e=>r.armacao.diagonal=e),tipo:"decimal",decimals:"2",rotulo:"Diagonal",permiteNull:""},null,8,["somente-leitura","modelValue"])]),(0,a.createElementVNode)("div",Ii,[(0,a.createVNode)(v,{"somente-leitura":r.envelope.somenteLeitura,modelValue:r.armacao.ponte,"onUpdate:modelValue":o[27]||(o[27]=e=>r.armacao.ponte=e),tipo:"decimal",decimals:"2",rotulo:"Ponte",permiteNull:""},null,8,["somente-leitura","modelValue"])]),(0,a.createElementVNode)("div",Ei,[(0,a.createVNode)(v,{"somente-leitura":r.envelope.somenteLeitura,modelValue:r.armacao.altura,"onUpdate:modelValue":o[28]||(o[28]=e=>r.armacao.altura=e),tipo:"decimal",decimals:"2",rotulo:"Altura Vertical",permiteNull:""},null,8,["somente-leitura","modelValue"])]),(0,a.createElementVNode)("div",Si,[(0,a.createVNode)(v,{"somente-leitura":r.envelope.somenteLeitura,modelValue:r.armacao.largura,"onUpdate:modelValue":o[29]||(o[29]=e=>r.armacao.largura=e),rotulo:"Largura",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["somente-leitura","modelValue"])]),(0,a.createElementVNode)("div",Mi,[(0,a.createVNode)(v,{"somente-leitura":r.envelope.somenteLeitura,modelValue:r.armacao.armacaoMaterial,"onUpdate:modelValue":o[30]||(o[30]=e=>r.armacao.armacaoMaterial=e),after:[{icon:"add_circle",handler(){l.abrirArmacaoMaterialModal()}}],opcoes:r.opcoesArmacaoMaterial,"rotulo-fixo":"Material",tipo:"seletor"},null,8,["somente-leitura","modelValue","after","opcoes"])]),(0,a.createElementVNode)("div",Ti,[(0,a.createVNode)(v,{"somente-leitura":r.envelope.somenteLeitura,modelValue:r.armacao.tipoMontagem,"onUpdate:modelValue":o[31]||(o[31]=e=>r.armacao.tipoMontagem=e),after:[{icon:"add_circle",handler(){l.abrirTipoMontagemModal()}}],opcoes:r.opcoesTipoMontagem,"rotulo-fixo":"Tipo Montagem",tipo:"seletor"},null,8,["somente-leitura","modelValue","after","opcoes"])])])),_:1})])])),_:1}))])])])),_:1})])),_:1})])),_:1},8,["modelValue","onKeyup"]),(0,a.createVNode)(T,{modelValue:r.armacaoMaterialModal,"onUpdate:modelValue":o[35]||(o[35]=e=>r.armacaoMaterialModal=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[ki])),_:1})])),_:1}),(0,a.createVNode)(k,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{modelValue:r.armacaoMaterialDescricao,"onUpdate:modelValue":o[33]||(o[33]=e=>r.armacaoMaterialDescricao=e),modelModifiers:{trim:!0},class:"row",maxlength:"60",rotulo:"Material"},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Di,[(0,a.createVNode)(s,{flat:"",color:"tertiary",onClick:o[34]||(o[34]=e=>r.armacaoMaterialModal=!1),label:"Cancelar"}),(0,a.createVNode)(s,{unelevated:"",color:"primary",onClick:l.criarArmacaoMaterial,label:"Criar"},null,8,["onClick"])])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(T,{modelValue:r.tipoMontagemModal,"onUpdate:modelValue":o[38]||(o[38]=e=>r.tipoMontagemModal=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[qi])),_:1})])),_:1}),(0,a.createVNode)(k,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{modelValue:r.tipoMontagemDescricao,"onUpdate:modelValue":o[36]||(o[36]=e=>r.tipoMontagemDescricao=e),modelModifiers:{trim:!0},class:"row",maxlength:"60",rotulo:"Tipo Montagem"},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Fi,[(0,a.createVNode)(s,{flat:"",color:"tertiary",onClick:o[37]||(o[37]=e=>r.tipoMontagemModal=!1),label:"Cancelar"}),(0,a.createVNode)(s,{unelevated:"",color:"primary",onClick:l.criarTipoMontagem,label:"Criar"},null,8,["onClick"])])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),r.modalPupilometro.ativo?((0,a.openBlock)(),(0,a.createBlock)(T,{key:0,modelValue:r.modalPupilometro.visivel,"onUpdate:modelValue":o[40]||(o[40]=e=>r.modalPupilometro.visivel=e),maximized:"",onHide:o[41]||(o[41]=e=>l.fecharModalPupilometro())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(M,{class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(D,{avancar:r.modalPupilometro.avancar,somenteLeitura:r.envelope.somenteLeitura,onFecharModal:o[39]||(o[39]=e=>l.fecharModalPupilometro())},null,8,["avancar","somenteLeitura"])])),_:1})])),_:1},8,["modelValue"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(q,{ref:"modalDependente","cpf-cnpj":"","data-nascimento":"","msg-erro":"Ocorreu um erro ao incluir o paciente.","msg-sucesso":"Paciente incluído com sucesso.",titulo:"Incluir Paciente",observacao:""},null,512),(0,a.createVNode)(F,{modelValue:r.modalItem.visivel,"onUpdate:modelValue":o[42]||(o[42]=e=>r.modalItem.visivel=e),filtro:r.modalItem.filtros,onSelecionarItens:l.selecionarItens},null,8,["modelValue","filtro","onSelecionarItens"]),(0,a.createVNode)(P,{ref:"modalReceita",onAtualizar:l.atualizarReceita},null,8,["onAtualizar"])],64)}]]);j()(zi,"components",{QDialog:y.Z,QLayout:I.Z,QHeader:E.Z,QToolbar:S.Z,QBtn:M.Z,QToolbarTitle:T.Z,QPageContainer:Dt.Z,QCard:qt.Z,QSelect:ji.Z,QTooltip:Pt.Z,QItem:F.Z,QItemSection:Ft.Z,QRadio:P.Z,QIcon:A.Z,QMenu:k.Z,QList:D.Z,QItemLabel:q.Z,QCardSection:$i.Z}),j()(zi,"directives",{ClosePopup:O.Z});var Zi=t(72821);const Qi={class:"q-pa-md"},Ri={class:"col-12 text-center"},Gi=["src"],Hi={class:"col-12"},Ji={class:"col-12 col-md-6 q-mb-md"},Yi=(0,a.createElementVNode)("div",{class:"text-weight-bold text-caption"},"Observação",-1),Xi={class:"q-item__label",style:{"white-space":"pre-line"}},Wi={class:"col-12 col-md-6 q-mb-md"},Ki=(0,a.createElementVNode)("div",{class:"text-weight-bold text-caption"},"Aplicação",-1),er={class:"q-item__label",style:{"white-space":"pre-line"}},or=(0,a.createTextVNode)(" Não foi possível encontrar parâmetros de imposto. "),tr=(0,a.createTextVNode)(" Parâmetros de imposto encontrados na figura fiscal "),ar={class:"col-4"},ir=(0,a.createElementVNode)("div",{class:"text-weight-bold text-caption"},"CFOP",-1),rr={class:"q-item__label"},lr={key:0,class:"col-2"},sr=(0,a.createElementVNode)("div",{class:"text-weight-bold text-caption"},"IPI",-1),nr={class:"q-item__label"},cr={key:1,class:"col-2"},dr=(0,a.createElementVNode)("div",{class:"text-weight-bold text-caption"},"MVA/ST",-1),mr={class:"q-item__label"},ur={key:2,class:"col-2"},pr=(0,a.createElementVNode)("div",{class:"text-weight-bold text-caption"}," ICMS ",-1),hr={class:"q-item__label",style:{"white-space":"pre-line"}},Cr={key:3,class:"col-2"},vr=(0,a.createElementVNode)("div",{class:"text-weight-bold text-caption"}," ICMS/ST ",-1),fr={class:"q-item__label",style:{"white-space":"pre-line"}},Nr=(0,a.createElementVNode)("br",null,null,-1),Vr=(0,a.createElementVNode)("br",null,null,-1),gr={key:0,style:{"text-decoration":"line-through"}},xr=(0,a.createElementVNode)("br",null,null,-1);var br=t(91240),wr=t(82254);const _r={components:{SeletorCest:br.Z,SeletorNcm:wr.Z},data:()=>({documentoItem:{},documentoVenda:{},imposto:{},item:{},cfop:{},abaSelecionada:"tab1",visivel:!1,estoque:{},tabelaEstoque:{colunas:[{name:"empresa",label:"Empresa",align:"left"},{name:"tipoEstoque",label:"Tipo estoque",align:"right"},{name:"lote",label:"Lote",align:"right"},{name:"quantidade",label:"Quantidade",align:"right"}],paginacao:{page:1,rowsPerPage:5}},historico:{},tabelaHistorico:{colunas:[{name:"documento",label:"Documento",align:"left"},{name:"valorUnitario",label:"Valor Unitário",align:"right"},{name:"quantidade",label:"Quantidade",align:"right"},{name:"valorTotal",label:"Valor Total",align:"right"}],paginacao:{page:1,rowsPerPage:5}}}),emits:["salvar"],methods:{mostrarConfrontoFigurasFiscais(){$utils.emitter.emit("confrontarFigurasFiscais",[this.imposto.entrada])},async atualizar(){this.item=await $db.item.le({id:this.documentoItem.idItem}),this.documentoItem.idCfop&&(this.cfop=await $erp().cfop.get(this.documentoItem.idCfop));const e=[];this.imposto=await $utils.impostoV2({documento:this.documentoVenda,documentoItem:this.documentoItem,erro:e}),e.length&&(this.imposto.erro=!0);let o=await $erp().documento.where({idContato:this.documentoVenda.idContato}).toArray();o=o.filter((e=>e.id!==this.documentoVenda.id));let t={},a=[];for(const e of o){const o=(await $erp().documentoItem.where({idDocumento:e.id,idItem:this.documentoItem.idItem}).toArray()).find((e=>e.id));o&&(a.push({idDocumento:$lodash.get(o,"idDocumento",""),valorReal:$lodash.get(o,"valorReal",0),valorItem:$lodash.get(o,"valorItem",0),quantidade:$lodash.get(o,"quantidade",0),operacaoFator:$lodash.get(o,"operacaoFator",0),valorRealTotal:$lodash.get(o,"valorRealTotal",0),dataHoraEmissao:$lodash.get(o,"dataHoraEmissao",""),dataHoraFinalizado:$lodash.get(o,"dataHoraFinalizado",""),docDataHoraEmissao:$lodash.get(e,"dataHoraEmissao",""),docDataHoraFinalizado:$lodash.get(e,"dataHoraFinalizado","")}),t[e.id]||(t[e.id]={id:$lodash.get(e,"id",""),tipo:$lodash.get(e,"tipo",""),numero:$lodash.get(e,"numero",""),status:$lodash.get(e,"status",""),dataHoraFinalizado:$lodash.get(e,"dataHoraFinalizado",""),dataHoraEmissao:$lodash.get(e,"dataHoraEmissao","")}))}this.historico.documentos=t,this.historico.documentosItens=$lodash.orderBy(a,["docDataHoraFinalizado","docDataHoraEmissao","dataHoraFinalizado","dataHoraEmissao"],["desc","desc","desc","desc"]);const i=await $db.estoqueSaldoProdutoEmpresa.le({idItem:this.documentoItem.idItem});let r={};for(const e of i)if(!r[e.idEmpresa]){const o=await $db.contato.le({id:e.idEmpresa});o.id&&(r[e.idEmpresa]=o)}this.estoque=i.map((e=>({...e,nomeEmpresa:$lodash.get(r[e.idEmpresa],"nome",""),apelidoEmpresa:$lodash.get(r[e.idEmpresa],"apelido","")})))},async mostrar(e){const{documentoItem:o={},documentoVenda:t={}}=e;this.documentoItem=$utils.clonarV2(o),this.documentoVenda=$utils.clonarV2(t),await this.atualizar(),this.visivel=!0},salvar(){this.$emit("salvar",this.documentoItem),this.visivel=!1}}};var yr=t(16078),Ir=t(38837),Er=t(84384),Sr=t(74488),Mr=t(77505),Tr=t(76106),kr=t(80073),Dr=t(59459),qr=t(89561);const Fr=(0,_.Z)(_r,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-tab"),m=(0,a.resolveComponent)("q-tabs"),u=(0,a.resolveComponent)("campo"),p=(0,a.resolveComponent)("row"),h=(0,a.resolveComponent)("q-tab-panel"),C=(0,a.resolveComponent)("q-banner"),v=(0,a.resolveComponent)("q-badge"),f=(0,a.resolveComponent)("SeletorNcm"),N=(0,a.resolveComponent)("SeletorCest"),V=(0,a.resolveComponent)("q-td"),g=(0,a.resolveComponent)("q-tr"),x=(0,a.resolveComponent)("q-table"),b=(0,a.resolveComponent)("q-tab-panels"),w=(0,a.resolveComponent)("q-footer"),_=(0,a.resolveComponent)("q-layout"),y=(0,a.resolveComponent)("q-dialog"),I=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(y,{modelValue:r.visivel,"onUpdate:modelValue":o[6]||(o[6]=e=>r.visivel=e),maximized:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"q-layout-modal bg-white",style:{"max-width":"990px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.documentoItem.descricaoItem)+" - "+(0,a.toDisplayString)(r.item.marca),1)])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",icon:"close",round:""},null,512),[[I]])])),_:1}),(0,a.createElementVNode)("div",Qi,[(0,a.createElementVNode)("div",Ri,[r.item.imagem?((0,a.openBlock)(),(0,a.createElementBlock)("img",{key:0,src:r.item.imagem,alt:"",style:{"max-width":"100%"}},null,8,Gi)):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(m,{modelValue:r.abaSelecionada,"onUpdate:modelValue":o[0]||(o[0]=e=>r.abaSelecionada=e),align:"justify",dense:"","indicator-color":"light-blue-4",class:"text-primary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{default:"",name:"tab1",icon:"info",label:"Detalhes",class:"cinza"}),(0,a.createVNode)(d,{name:"tab2",icon:"account_balance",label:"Impostos",class:"cinza"}),(0,a.createVNode)(d,{name:"tab3",icon:"history",label:"Histórico",class:"cinza"}),(0,a.createVNode)(d,{name:"tab4",icon:"compare_arrows",label:"Estoque",class:"cinza"})])),_:1},8,["modelValue"]),(0,a.createVNode)(b,{modelValue:r.abaSelecionada,"onUpdate:modelValue":o[5]||(o[5]=e=>r.abaSelecionada=e),animated:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"tab1",class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("p",Hi,[(0,a.createVNode)(u,{modelValue:r.documentoItem.descricaoAgrupamento,"onUpdate:modelValue":o[1]||(o[1]=e=>r.documentoItem.descricaoAgrupamento=e),modelModifiers:{trim:!0},tipo:"texto",rotulo:"Agrupamento",autogrow:""},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Ji,[Yi,(0,a.createElementVNode)("div",Xi,(0,a.toDisplayString)(r.item.observacao),1)]),(0,a.createElementVNode)("div",Wi,[Ki,(0,a.createElementVNode)("div",er,(0,a.toDisplayString)(r.item.aplicacao),1)])])),_:1})])),_:1}),(0,a.createVNode)(h,{name:"tab2",class:"q-col-gutter-y-sm",style:{overflow:"hidden"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[!Object.keys(r.imposto).length||r.imposto.erro?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0,"inline-actions":"",class:"text-white bg-red col-12"},(0,a.createSlots)({default:(0,a.withCtx)((()=>[or])),_:2},[Object.keys(r.imposto).length?{name:"action",fn:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{flat:"",color:"white",label:"Conferir Figuras Fiscais",onClick:l.mostrarConfrontoFigurasFiscais},null,8,["onClick"])]))}:void 0]),1024)):(0,a.createCommentVNode)("",!0),Object.keys(r.imposto).length&&!r.imposto.erro?((0,a.openBlock)(),(0,a.createBlock)(C,{key:1,"inline-actions":"",class:"bg-grey-3 col-12"},{action:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{flat:"",color:"primary",label:"Conferir Figuras Fiscais",onClick:l.mostrarConfrontoFigurasFiscais},null,8,["onClick"])])),default:(0,a.withCtx)((()=>[tr,(0,a.createVNode)(v,{color:"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Ordem "+(0,a.toDisplayString)(r.imposto.ordem),1)])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ar,[ir,(0,a.createElementVNode)("div",rr,(0,a.toDisplayString)(r.cfop?.cfop),1)]),r.imposto?.saida?.pIPI?((0,a.openBlock)(),(0,a.createElementBlock)("div",lr,[sr,(0,a.createElementVNode)("div",nr,(0,a.toDisplayString)(e.$filters.numero(r.imposto.saida.pIPI,2))+"%",1)])):(0,a.createCommentVNode)("",!0),r.imposto?.saida?.pMVAST?((0,a.openBlock)(),(0,a.createElementBlock)("div",cr,[dr,(0,a.createElementVNode)("div",mr,(0,a.toDisplayString)(e.$filters.numero(r.imposto.saida.pMVAST,2))+"%",1)])):(0,a.createCommentVNode)("",!0),r.imposto?.saida?.pICMS?((0,a.openBlock)(),(0,a.createElementBlock)("div",ur,[pr,(0,a.createElementVNode)("div",hr,(0,a.toDisplayString)(e.$filters.numero(r.imposto.saida.pICMS,2))+"% ",1)])):(0,a.createCommentVNode)("",!0),r.imposto?.saida?.pICMSST?((0,a.openBlock)(),(0,a.createElementBlock)("div",Cr,[vr,(0,a.createElementVNode)("div",fr,(0,a.toDisplayString)(e.$filters.numero(r.imposto.saida.pICMSST,2))+"% ",1)])):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(p,{class:"q-mt-md q-col-gutter-x-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{modelValue:r.documentoItem.ncm,"onUpdate:modelValue":o[2]||(o[2]=e=>r.documentoItem.ncm=e),class:"col-12 col-md-6","class-campo":"q-pb-lg"},null,8,["modelValue"]),(0,a.createVNode)(N,{modelValue:r.documentoItem.cest,"onUpdate:modelValue":o[3]||(o[3]=e=>r.documentoItem.cest=e),class:"col-12 col-md-6","class-campo":"q-pb-lg",ncm:r.documentoItem.ncm},null,8,["modelValue","ncm"])])),_:1})])),_:1}),(0,a.createVNode)(h,{name:"tab3",class:"q-px-none"},{default:(0,a.withCtx)((()=>[r.historico.documentosItens&&r.historico.documentosItens.length?((0,a.openBlock)(),(0,a.createBlock)(x,{key:0,rows:r.historico.documentosItens,columns:r.tabelaHistorico.colunas,pagination:r.tabelaHistorico.paginacao,"onUpdate:pagination":o[4]||(o[4]=e=>r.tabelaHistorico.paginacao=e),class:"no-shadow text-left"},{body:(0,a.withCtx)((o=>[(0,a.createVNode)(g,{props:o},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{key:"documento",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.historico.documentos[o.row.idDocumento].tipo)+" #"+(0,a.toDisplayString)(parseInt(r.historico.documentos[o.row.idDocumento].numero)||(r.historico.documentos[o.row.idDocumento].id||"").slice(-6)),1),Nr,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(r.historico.documentos[o.row.idDocumento].status),1),Vr,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.dataHora(r.historico.documentos[o.row.idDocumento].dataHoraFinalizado||r.historico.documentos[o.row.idDocumento].dataHoraEmissao)),1)])),_:2},1032,["props"]),(0,a.createVNode)(V,{key:"valorUnitario",props:o},{default:(0,a.withCtx)((()=>[o.row.valorReal!==o.row.valorItem?((0,a.openBlock)(),(0,a.createElementBlock)("span",gr,(0,a.toDisplayString)(e.$filters.numero(o.row.valorItem,2)),1)):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.numero(o.row.valorReal,2)),1)])),_:2},1032,["props"]),(0,a.createVNode)(V,{key:"quantidade",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.row.quantidade*o.row.operacaoFator*-1),1)])),_:2},1032,["props"]),(0,a.createVNode)(V,{key:"valorTotal",props:o},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(o.row.valorRealTotal,2)),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","pagination"])):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(h,{name:"tab4",class:"q-px-none"},{default:(0,a.withCtx)((()=>[r.estoque&&r.estoque.length?((0,a.openBlock)(),(0,a.createBlock)(x,{key:0,rows:r.estoque,columns:r.tabelaEstoque.colunas,pagination:r.tabelaEstoque.paginacao,class:"no-shadow text-left"},{body:(0,a.withCtx)((e=>[(0,a.createVNode)(g,{props:e},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{key:"empresa",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.apelidoEmpresa)+" ",1),xr,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.row.nomeEmpresa),1)])),_:2},1032,["props"]),(0,a.createVNode)(V,{key:"tipoEstoque",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.tipoEstoque),1)])),_:2},1032,["props"]),(0,a.createVNode)(V,{key:"lote",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.loteEmpresa),1)])),_:2},1032,["props"]),(0,a.createVNode)(V,{key:"quantidade",props:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.row.saldo),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","pagination"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1},8,["modelValue"])]),(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(n,{flat:"",size:"md","no-ripple":"",color:"tertiary",label:"Cancelar",class:"q-mr-sm"},null,512),[[I]]),(0,a.createVNode)(n,{"no-ripple":"",label:"Salvar",color:"primary",unelevated:"",class:"no-shadow",onClick:l.salvar},null,8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);j()(_r,"components",{QDialog:y.Z,QLayout:I.Z,QToolbar:S.Z,QToolbarTitle:T.Z,QBtn:M.Z,QTabs:yr.Z,QTab:Ir.Z,QTabPanels:Er.Z,QTabPanel:Sr.Z,QItem:F.Z,QBanner:Mr.Z,QBadge:Tr.Z,QTable:kr.Z,QTr:Dr.Z,QTd:qr.Z,QFooter:At.Z}),j()(_r,"directives",{ClosePopup:O.Z});const Pr=(0,a.createTextVNode)("Ordem de Serviço"),Ar={class:"layout-padding q-pa-none q-pb-md"},Br={class:"u-container"},Lr={class:"col q-ma-sm q-title"},Or={class:"col-12 col-sm-6"},zr={class:"col-12 col-sm-6"},jr={class:"col-12 col-md-3"},$r={class:"col-12 col-md-3"},Ur={class:"col-12 col-md-3"},Zr={key:0,class:"bg-white q-mt-md"},Qr=(0,a.createTextVNode)("Equipamento"),Rr={class:"q-pa-md"},Gr={class:"bg-white q-mt-md"},Hr=(0,a.createTextVNode)("Imagens"),Jr={class:"q-pa-md"},Yr={class:"bg-white q-mt-md"},Xr=(0,a.createTextVNode)("Carrinho"),Wr=(0,a.createTextVNode)("Produto"),Kr=(0,a.createTextVNode)("Serviço"),el={class:"q-pa-md"},ol={key:0,class:"q-pa-lg text-center"},tl=[(0,a.createElementVNode)("p",null,"Não há itens no carrinho",-1),(0,a.createElementVNode)("p",{class:"text-caption"},"Para adicionar, utilize os botões acima ou insira o código de barras",-1)],al=(0,a.createTextVNode)("Remover Item"),il={class:"col-12 q-mb-lg"},rl=["warning","warning-label"],ll={class:"col-4 col-md"},sl={class:"col-4 col-md"},nl={class:"col-6 col-md"},cl={class:"col-6 col-md"},dl={class:"col-12 col-md"},ml={class:"u-container"},ul=(0,a.createTextVNode)(" Total "),pl={class:"q-ml-sm"};var hl=t(2085),Cl=t(78955);const vl={class:"layout-padding"},fl={class:"q-py-xl"},Nl={components:{EquipamentoCard:hl.Z},data:()=>({dados:[],visivel:!1,termo:""}),emits:["selecionar"],methods:{atualizar(){let e=this.termo.replace(/\s+/g," ");e&&(e=this.termo.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" "),this.dados=this.dados.filter((o=>{const t=[];t.push(o.descricao||""),t.push(o.placa||""),t.push(o.marca||""),t.push(o.modelo||""),t.push(o.cor||""),t.push(o.numeroSerie||""),t.push(o.chassi||""),t.push(o.tipo||""),t.push(o.btu||""),t.push(o.observacao||"");const a=t.join(" ").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");for(const o of e)if(!(a.search(o)>-1))return!1;return!0})))},fechar(){this.visivel=!1,this.dados=[]},async mostrar(e){const{filtro:o={}}=e;this.dados=await $db.equipamento.le(o),this.visivel=!0},selecionar(e){this.$emit("selecionar",e),this.fechar()}}},Vl=(0,_.Z)(Nl,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-input"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-header"),u=(0,a.resolveComponent)("EquipamentoCard"),p=(0,a.resolveComponent)("q-item"),h=(0,a.resolveComponent)("q-list"),C=(0,a.resolveComponent)("q-layout"),v=(0,a.resolveComponent)("q-dialog"),f=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(v,{modelValue:r.visivel,"onUpdate:modelValue":o[1]||(o[1]=e=>r.visivel=e),persistent:"",maximized:"",onKeyup:(0,a.withKeys)(l.fechar,["esc"])},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"bg-white",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[f]]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{modelValue:r.termo,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.termo=e),l.atualizar],modelModifiers:{trim:!0},color:"none",ref:"search",dark:"",dense:"",placeholder:"Buscar",debounce:"600"},null,8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createElementVNode)("div",vl,[(0,a.createElementVNode)("div",fl,[(0,a.createVNode)(h,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.dados,(e=>((0,a.openBlock)(),(0,a.createBlock)(p,{key:e.id,clickable:"",style:{cursor:"pointer"},onClick:o=>l.selecionar(e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{equipamento:e},null,8,["equipamento"])])),_:2},1032,["onClick"])))),128))])),_:1})])])])),_:1})])),_:1},8,["modelValue","onKeyup"])}]]);j()(Nl,"components",{QDialog:y.Z,QLayout:I.Z,QHeader:E.Z,QToolbar:S.Z,QBtn:M.Z,QToolbarTitle:T.Z,QInput:L.Z,QList:D.Z,QItem:F.Z}),j()(Nl,"directives",{ClosePopup:O.Z});const gl={components:{PromptEquipamento:Vl},data:()=>({descricaoEquipamento:"",campos:{},modal:!1}),emits:["selecionar","update:modelValue"],methods:{abrirPromptEquipamento(){this.$refs.promptEquipamento.mostrar({filtro:this.filtro})},async atualizar(){try{this.campos=await $db.equipamento.le({id:this.modelValue})}catch(e){this.$q.notifyError("Erro ao consultar equipamento",e)}},selecionar(e){try{this.mostraDescricao&&(this.descricaoEquipamento=e.placa||e.descricao||e.marca+" - "+e.modelo||e.tipo||e.id),this.campos=e,this.$emit("update:modelValue",e.id),this.$emit("selecionar",e),this.modal=!1}catch(e){this.$q.notifyError("Erro ao selecionar",e)}}},props:{modelValue:{default:"",type:String},rotulo:{default:"",type:String},filtro:{type:Object},mostraDescricao:{default:!1,type:Boolean},apenasIcone:{default:!1,type:Boolean}},watch:{async modelValue(e){e!==this.campos.id&&this.atualizar()}},created(){this.atualizar()}},xl=(0,_.Z)(gl,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("campo"),c=(0,a.resolveComponent)("PromptEquipamento");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[t.apenasIcone?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,color:"primary",flat:"",icon:"search",label:"Equipamento",onClick:l.abrirPromptEquipamento},null,8,["onClick"])):((0,a.openBlock)(),(0,a.createBlock)(n,{key:1,modelValue:r.descricaoEquipamento,before:[{icon:"search",handler:()=>r.modal=!0}],rotulo:t.rotulo,onClick:o[0]||(o[0]=e=>r.modal=!0),"apenas-leitura":""},null,8,["modelValue","before","rotulo"])),(0,a.createVNode)(c,{ref:"promptEquipamento",onSelecionar:l.selecionar},null,8,["onSelecionar"])])}]]);j()(gl,"components",{QBtn:M.Z});const bl={documento:{},documentoItens:[],arquivo:[]},wl={components:{Arquivo:Mt.Z,Avatar:Ho.Z,Badge:Jo.Z,CodigoBarras:Q,EquipamentoCard:hl.Z,EquipamentoModal:Cl.Z,PromptItemNovo:U.Z,SeletorEquipamento:xl},computed:{new(){for(const e of this.dataTmp.documentoItens)e.descricaoAgrupamento=this.descricaoAgrupamento,e.dataGarantiaFim=this.dataGarantiaFim;return{...this.data,...this.dataTmp,arquivo:this.$refs.arquivo.arquivo.map((e=>({...e,idTabelaMaster:this.dataTmp.documento.id,tabelaMaster:"os"})))}},readonly(){return"Orçamento"!==this.dataTmp.documento.status}},data:()=>({contato:{},dataGarantiaFim:"",data:{},dataTmp:{},descricaoAgrupamento:"",descricaoResponsavel:"",equipamento:{},modalItem:{},item:{},hintValorUnitario:{},rules:{},subTotal:{},visible:!1,valoresTabelaPreco:[],warningLabel:{},permissao:{}}),emits:["salvar"],methods:{abrirModalEquipamento(){this.$refs.modalEquipamento.campos={},this.$refs.modalEquipamento.visivel=!0},async abrirModalItem(e){let o={};for(const e of this.dataTmp.documentoItens){if(!e.idItem)continue;this.item||(this.item={}),this.item[e.idItem]||(this.item[e.idItem]=await $erp().item.get(e.idItem));let t=$utils.clonarV2(this.item[e.idItem]);t.novoValorVenda=e.valorReal,o[e.idItem]={item:t,quantidade:e.quantidade}}this.$refs.promptItem.itensSelecionados=o,this.modalItem.filtros={ativo:!0,tipo:e,idEmpresa:this.dataTmp.documento.idEmpresa,idTabelaPreco:this.dataTmp.documento.idItemTabelaPreco},this.modalItem.visivel=!0},async abrirModalResponsavel(){if(!this.readonly){const e=await $g.promptContato.show({filtro:{ativo:!0,tecnicos:!0},placeholder:"Selecione o técnico responsável"});e&&this.selecionarResponsavel(e.id)}},adicionarItem(e){const o=this.dataTmp.documentoItens.find((o=>o.idItem===e.id));let t=1;e.novoValorVenda=e.valorVenda,o&&(e.novoValorVenda=o.valorReal,t=o.quantidade+1);const a={};a[e.id]={item:e,quantidade:t},this.selecionarItens(a)},async prepararItem(e,o={}){if(e&&!this.item[e]&&(o.id||(o=await $db.item.le({id:e})),o.id)){const e=$utils.clonarV2(this.item);e[o.id]={marca:o.marca||"",referencia:o.referencia||"",imagem:o.imagem||"",embalagem:o.embalagem||""},this.item=e}},calculaTotal(){const e=$utils.clonarV2(this.dataTmp.documento);let o=0;for(const e of this.dataTmp.documentoItens)o+=e.subTotal;e.subTotal=$utils.arredondar(o),e.totalDocumento=e.subTotal,this.dataTmp.documento=e},async calculaTotalItem(e,o){const t=$utils.clonarV2(this.dataTmp.documentoItens[e]);if("quantidade"===o&&this.dataTmp.documento.idItemTabelaPreco){const e=await $erp().itemTabelaPreco.get(this.dataTmp.documento.idItemTabelaPreco);if(e){await this.configurarValoresTabelaPreco(e,t);let o=this.valoresTabelaPreco.find((e=>e.id===t.id));o.quantidadeMaiorQue&&(this.hintValorUnitario[t.id]=`>${o.quantidadeMaiorQue-1}un = ${$filters.numeroZerosDireita(o.valorVendaMaiorQue,4,2)}`),o.quantidadeMaiorQue&&t.quantidade>=o.quantidadeMaiorQue?(t.valorOriginal!==o.valorVendaMaiorQue&&(t.valorOriginal=t.valorItem=o.valorVendaMaiorQue,t.descontoItem=t.descontoPercentualItem=0),this.warningLabel[t.id]="Valor Diferenciado"):(t.valorOriginal!==o.valorVenda&&(t.valorOriginal=t.valorItem=o.valorVenda,t.descontoItem=t.descontoPercentualItem=0),this.warningLabel[t.id]="")}}t.valorItem<t.valorOriginal&&(t.valorItem=t.valorOriginal),"descontoPercentualItem"===o&&(t.descontoItem=$utils.arredondar(t.descontoPercentualItem/100*t.valorItem,4)),["descontoItem","valorItem"].includes(o)&&(t.descontoPercentualItem=$utils.arredondar(t.descontoItem/t.valorItem*100)),t.descontoItem>t.valorItem&&(t.descontoPercentualItem=t.descontoItem=0),["subTotal"].includes(o)&&(void 0!==this.subTotal[t.id]?t.descontoItem=$utils.arredondar(t.valorItem-this.subTotal[t.id],4):t.descontoItem=$utils.arredondar(t.valorItem-t.subTotal,4),t.descontoPercentualItem=$utils.arredondar(t.descontoItem/t.valorItem*100));let a=$utils.arredondar(t.valorItem-t.descontoItem,4);t.descontoItem=$utils.arredondar(t.valorItem-a,4),$utils.arredondar(a)>$utils.arredondar(t.valorItem)&&(a=t.valorItem,t.descontoPercentualItem=t.descontoItem=0);const i=$utils.clonarV2(this.subTotal);i[t.id]=a,this.subTotal=i,t.subTotal=$utils.arredondar(a*t.quantidade),t.total=t.subTotal,t.valorReal=$utils.arredondar(a),t.valorRealTotal=t.total;const r=$utils.clonarV2(this.dataTmp.documentoItens);"valorItem"===o?(r[e]={...t,valorItem:0},this.dataTmp.documentoItens=r,this.$nextTick((()=>{r[e]=t,this.dataTmp.documentoItens=r,this.calculaTotal()}))):(r[e]=t,this.dataTmp.documentoItens=r),this.calculaTotal()},async configurarValoresTabelaPreco(e,o){let t=this.valoresTabelaPreco.find((e=>e.id===o.id));if(t)return;let a=await $erp().item.get(o.idItem);t=await $db.itemTabelaPreco.obterValores(e,a,4),this.valoresTabelaPreco.push({id:o.id,...t})},async fechar(e){e.stopPropagation(),this.isEqual()?this.visible=!1:$q.dialog({message:"Ao continuar você irá perder todas as modificações.",title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{this.visible=!1}))},isEqual(){const e={...bl,...$utils.clonarV2(this.data)},o=$utils.diferencaObjetos(e,this.new);return!Object.keys(o).length},async mostrar(){this.dataTmp={...bl,...$utils.clonarV2(this.data)},this.warningLabel={},this.valoresTabelaPreco=[],this.descricaoAgrupamento="",this.dataGarantiaFim="",this.descricaoAgrupamento=$lodash.get(this.dataTmp.documentoItens.find((e=>e.id)),"descricaoAgrupamento",""),this.dataGarantiaFim=$lodash.get(this.dataTmp.documentoItens.find((e=>e.dataGarantiaFim)),"dataGarantiaFim","");for(const e of this.dataTmp.documentoItens){this.prepararItem(e.idItem);const o=$utils.clonarV2(this.subTotal);o[e.id]=e.valorItem-e.descontoItem,this.subTotal=o}this.contato={codigo:"",descricao:"",imagem:""},await $db.contato.le({id:this.dataTmp.documento.idContato}).then((e=>{this.contato.codigo=e.codigoContato||e.id.slice(-6)||"",this.contato.descricao=e.nome||e.apelido||"",this.contato.imagem=e.imagem||""})),this.descricaoResponsavel="",this.dataTmp.documento.idContatoResponsavel&&this.selecionarResponsavel(this.dataTmp.documento.idContatoResponsavel),this.equipamento=await $db.equipamento.le({id:this.dataTmp.documento.idEquipamento}),this.visible=!0,await this.$nextTick(),this.$refs.arquivo.somenteLeitura=this.readonly,this.$refs.arquivo.arquivo=this.data.arquivo},async removerItem(e){const o=(this.dataTmp.documentoItens[e]||{}).id;this.dataTmp.documentoItens=this.dataTmp.documentoItens.filter((e=>e.id!==o)),this.calculaTotal()},async salvar(){const e=new Date((new Date).toDateString());this.rules={descricao:[e=>!!e||"Preenchimento obrigatório"],dataHoraPrevisto:[e=>!!e||"Preenchimento obrigatório",()=>new Date(this.dataTmp.documento.dataHoraPrevisto)>=e||"Previsão de entrega deve ser maior ou igual à data de hoje"],dataGarantiaFim:[()=>!(this.dataGarantiaFim||"").trim()||(new Date(this.dataGarantiaFim)>=e||"Data garantia deve ser maior ou igual à data de hoje")]},await this.$nextTick();let o=!1;this.$refs.form.getValidationComponents().forEach((e=>{e.validate()||o||(o=!0)})),o?this.$q.notifyError("Corrija os campos em destaque"):this.dataTmp.documentoItens.length?(this.$emit("salvar",{dados:this.new}),this.visible=!1):this.$q.notifyError("Não há itens no carrinho")},async selecionarItens(e){for(const o in e){const t=e[o].item||{},a=e[o].quantidade||0;let i=this.dataTmp.documentoItens.findIndex((e=>e.idItem===o));await this.selecionarItem(o,t,a),-1===i&&(i=this.dataTmp.documentoItens.findIndex((e=>e.idItem===o)),-1!==i&&this.calculaTotalItem(i,"quantidade"))}},async selecionarItem(e,o,t){let a=this.dataTmp.documentoItens.findIndex((o=>o.idItem===e));if(-1!==a)return o.novoValorVenda!==this.dataTmp.documentoItens[a].valorOriginal&&(o.novoValorVenda<=this.dataTmp.documentoItens[a].valorOriginal?(this.dataTmp.documentoItens[a].valorItem=this.dataTmp.documentoItens[a].valorOriginal,this.dataTmp.documentoItens[a].descontoItem=$utils.arredondar(this.dataTmp.documentoItens[a].valorOriginal-o.novoValorVenda)):(this.dataTmp.documentoItens[a].valorItem=o.novoValorVenda,this.dataTmp.documentoItens[a].descontoItem=0),this.calculaTotalItem(a,"descontoItem")),void(this.dataTmp.documentoItens[a].quantidade!==t&&(this.dataTmp.documentoItens[a].quantidade=t||1,this.calculaTotalItem(a,"quantidade")));const i=await $utils.selecionarCfop({ncm:o.ncm,itemTipo:o.tipo,codigoDocumentoOperacao:this.dataTmp.documento.codigoDocumentoOperacao,idContatoDestinatario:this.dataTmp.documento.idContato,idContatoEmitente:this.dataTmp.documento.idEmpresa,operacaoFator:-1});if(!i)return void this.$q.notify("Não foi possível localizar o CFOP.");const r=(await $db.estoqueSaldoProdutoEmpresa.le({idItem:o.id,idEmpresa:$lodash.get(this.dataTmp,"documento.idEmpresa",""),tipoEstoque:"Disponível"})).find((e=>e.idItem)),l=$utils.uuid(),s=$utils.clonarV2(this.subTotal);s[l]=o.valorVenda,this.subTotal=s,this.prepararItem(e,o);const n={id:l,idItem:o.id,idDocumento:this.dataTmp.documento.documentoId,idDocumentoAdicional:this.dataTmp.documento.id,codigoPlanoContaDestino:139,codigoPlanoContaEstoque:146,dataHoraEmissao:$utils.dataAtual(),descontoItem:0,descontoPercentualItem:0,descontoSubTotal:0,descricaoItem:o.descricaoConcatenada,operacao:"Serviço"===o.tipo?"Ordem de Serviço":i?.operacao,operacaoFator:"Serviço"===o.tipo?"":i?.fator,idCfop:i?.id,quantidade:t||1,status:this.dataTmp.documento.status,subTotal:o.valorVenda,tipoItem:o.tipo,total:o.valorVenda,valorCusto:0,valorCustoMedio:$lodash.get(r,"valorCustoMedio",0),valorCustoReposicao:o.valorCustoReposicao||0,valorCustoUltimo:$lodash.get(r,"valorCusto",0),valorItem:o.valorVenda,valorItemUltimo:0,valorOriginal:o.valorVenda,valorReal:o.valorVenda,valorRealTotal:o.valorVenda};this.dataTmp.documentoItens.push(n),a=this.dataTmp.documentoItens.findIndex((o=>o.idItem===e)),-1!==a&&o.novoValorVenda!==this.dataTmp.documentoItens[a].valorOriginal&&(o.novoValorVenda<=this.dataTmp.documentoItens[a].valorOriginal?(this.dataTmp.documentoItens[a].valorItem=this.dataTmp.documentoItens[a].valorOriginal,this.dataTmp.documentoItens[a].descontoItem=$utils.arredondar(this.dataTmp.documentoItens[a].valorOriginal-o.novoValorVenda)):(this.dataTmp.documentoItens[a].valorItem=o.novoValorVenda,this.dataTmp.documentoItens[a].descontoItem=0),this.calculaTotalItem(a,"descontoItem")),t||this.calculaTotal()},limparResponsavel(){this.dataTmp.documento.idContatoResponsavel="",this.descricaoResponsavel=""},async selecionarResponsavel(e){this.dataTmp.documento.idContatoResponsavel=e||"",this.descricaoResponsavel=(await $db.contato.le({id:e})).apelido||""}},created(){this.permissao={equipamento:!1},$db.permissao.objeto("atendimento//equipamento").then((e=>{this.permissao.equipamento=e})),this.dataTmp={...bl},this.modalItem={filtros:{},visivel:!1}}};var _l=t(46229);const yl=(0,_.Z)(wl,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-header"),m=(0,a.resolveComponent)("avatar"),u=(0,a.resolveComponent)("badge"),p=(0,a.resolveComponent)("campo"),h=(0,a.resolveComponent)("q-icon"),C=(0,a.resolveComponent)("q-select"),v=(0,a.resolveComponent)("row"),f=(0,a.resolveComponent)("q-form"),N=(0,a.resolveComponent)("q-card"),V=(0,a.resolveComponent)("EquipamentoModal"),g=(0,a.resolveComponent)("SeletorEquipamento"),x=(0,a.resolveComponent)("EquipamentoCard"),b=(0,a.resolveComponent)("arquivo"),w=(0,a.resolveComponent)("q-item-section"),_=(0,a.resolveComponent)("q-item-label"),y=(0,a.resolveComponent)("q-item"),I=(0,a.resolveComponent)("q-list"),E=(0,a.resolveComponent)("q-menu"),S=(0,a.resolveComponent)("CodigoBarras"),M=(0,a.resolveComponent)("q-tooltip"),T=(0,a.resolveComponent)("q-page-container"),k=(0,a.resolveComponent)("q-footer"),D=(0,a.resolveComponent)("q-layout"),q=(0,a.resolveComponent)("q-dialog"),F=(0,a.resolveComponent)("prompt-item-novo"),P=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(q,{modelValue:r.visible,"onUpdate:modelValue":o[13]||(o[13]=e=>r.visible=e),persistent:"",maximized:"",onKeyup:(0,a.withKeys)(l.fechar,["esc"])},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(D,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{icon:"arrow_back",flat:"",round:"",dense:"",onClick:l.fechar},null,8,["onClick"]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[Pr])),_:1}),(0,a.createVNode)(s,{class:"q-ml-sm no-shadow",color:"white","text-color":"primary",label:"Salvar",onClick:l.salvar,unelevated:""},null,8,["onClick"])])),_:1})])),_:1}),(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Ar,[(0,a.createElementVNode)("div",Br,[(0,a.createVNode)(N,{class:"q-pa-md q-pa-md q-mt-md bg-white no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"q-pb-md text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{imagem:r.contato.imagem,rotulo:r.contato.descricao,tamanho:"40",style:{float:"left"}},null,8,["imagem","rotulo"]),(0,a.createVNode)(n,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Lr,(0,a.toDisplayString)(r.contato.descricao),1)])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("#"+(0,a.toDisplayString)(r.contato.codigo),1)])),_:1})])),_:1}),(0,a.createVNode)(f,{ref:"form"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Or,[(0,a.createVNode)(p,{modelValue:r.dataTmp.documento.descricao,"onUpdate:modelValue":o[0]||(o[0]=e=>r.dataTmp.documento.descricao=e),modelModifiers:{trim:!0},rotuloFixo:"Problema",tipo:"textoArea","somente-leitura":l.readonly,rules:r.rules.descricao},null,8,["modelValue","somente-leitura","rules"])]),(0,a.createElementVNode)("div",zr,[(0,a.createVNode)(p,{modelValue:r.dataTmp.documento.observacao,"onUpdate:modelValue":o[1]||(o[1]=e=>r.dataTmp.documento.observacao=e),modelModifiers:{trim:!0},rotuloFixo:"Solução",tipo:"textoArea","somente-leitura":l.readonly},null,8,["modelValue","somente-leitura"])]),(0,a.createVNode)(C,{dense:"",rounded:"",modelValue:r.descricaoResponsavel,"onUpdate:modelValue":o[2]||(o[2]=e=>r.descricaoResponsavel=e),label:"Técnico",options:["a","b"],onFilter:l.abrirModalResponsavel,class:"col-12 col-md-3"},{append:(0,a.withCtx)((()=>[r.descricaoResponsavel?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,name:"close",onClick:(0,a.withModifiers)(l.limparResponsavel,["stop"]),class:"cursor-pointer"},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(h,{name:"search",onClick:(0,a.withModifiers)(l.abrirModalResponsavel,["stop"]),class:"cursor-pointer"},null,8,["onClick"])])),_:1},8,["modelValue","onFilter"]),(0,a.createElementVNode)("div",jr,[(0,a.createVNode)(p,{modelValue:r.dataTmp.documento.dataHoraPrevisto,"onUpdate:modelValue":o[3]||(o[3]=e=>r.dataTmp.documento.dataHoraPrevisto=e),maxlength:"10",rotulo:"Previsão de Entrega",tipo:"data",somenteLeitura:l.readonly,rules:r.rules.dataHoraPrevisto},null,8,["modelValue","somenteLeitura","rules"])]),(0,a.createElementVNode)("div",$r,[(0,a.createVNode)(p,{modelValue:r.dataGarantiaFim,"onUpdate:modelValue":o[4]||(o[4]=e=>r.dataGarantiaFim=e),maxlength:"10",rotulo:"Garantia do(s) Serviço(s)",tipo:"data",somenteLeitura:l.readonly,rules:r.rules.dataGarantiaFim},null,8,["modelValue","somenteLeitura","rules"])]),(0,a.createElementVNode)("div",Ur,[(0,a.createVNode)(p,{modelValue:r.descricaoAgrupamento,"onUpdate:modelValue":o[5]||(o[5]=e=>r.descricaoAgrupamento=e),modelModifiers:{trim:!0},rotuloFixo:"Descrição Agrupamento",autogrow:"",somenteLeitura:l.readonly},null,8,["modelValue","somenteLeitura"])])])),_:1})])),_:1},512)])),_:1}),r.permissao.equipamento?((0,a.openBlock)(),(0,a.createElementBlock)("div",Zr,[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"mdi-car",size:"24px",class:"text-tertiary"}),(0,a.createVNode)(n,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[Qr])),_:1}),l.readonly?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,color:"primary",flat:"",icon:"add",label:"Equipamento",onClick:l.abrirModalEquipamento},null,8,["onClick"]))])),_:1}),(0,a.createElementVNode)("div",Rr,[(0,a.createVNode)(V,{ref:"modalEquipamento",onAtualizar:o[6]||(o[6]=e=>{r.equipamento=e,r.dataTmp.documento.idEquipamento=e.id})},null,512),(0,a.createVNode)(g,{modelValue:r.dataTmp.documento.idEquipamento,"onUpdate:modelValue":o[7]||(o[7]=e=>r.dataTmp.documento.idEquipamento=e),apenasIcone:"",class:"col-auto",filtro:{idContato:r.dataTmp.documento.idContato},onSelecionar:o[8]||(o[8]=e=>r.equipamento=e)},null,8,["modelValue","filtro"]),(0,a.createVNode)(x,{equipamento:r.equipamento},null,8,["equipamento"])])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",Gr,[(0,a.createVNode)(c,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"image",size:"24px"}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[Hr])),_:1})])),_:1}),(0,a.createElementVNode)("div",Jr,[(0,a.createVNode)(b,{ref:"arquivo"},null,512)])]),(0,a.createElementVNode)("div",Yr,[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"shopping_cart",size:"24px",class:"text-tertiary"}),(0,a.createVNode)(n,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[Xr])),_:1}),(0,a.createVNode)(s,{class:"hideondesktop",color:"primary",flat:"",round:"",icon:"add",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(I,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{clickable:"",onClick:o[9]||(o[9]=e=>l.abrirModalItem("Produto"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"add"})])),_:1}),(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,null,{default:(0,a.withCtx)((()=>[Wr])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(y,{clickable:"",onClick:o[10]||(o[10]=e=>l.abrirModalItem("Serviço"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"add"})])),_:1}),(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,null,{default:(0,a.withCtx)((()=>[Kr])),_:1})])),_:1})])),_:1})])),_:1},512),[[P]])])),_:1})])),_:1}),l.readonly?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,color:"primary",flat:"",icon:"add",label:"Produto",class:"hideonmobile q-px-sm q-ml-sm",onClick:o[11]||(o[11]=e=>l.abrirModalItem("Produto"))})),l.readonly?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,color:"primary",flat:"",icon:"add",label:"Serviço",class:"hideonmobile q-px-sm q-ml-sm",onClick:o[12]||(o[12]=e=>l.abrirModalItem("Serviço"))})),l.readonly?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(S,{key:2,idEmpresa:r.dataTmp.documento.idEmpresa,idItemTabelaPreco:r.dataTmp.documento.idItemTabelaPreco,documentoItens:r.dataTmp.documentoItens,onAdicionar:l.adicionarItem,onAtualizar:l.selecionarItens},null,8,["idEmpresa","idItemTabelaPreco","documentoItens","onAdicionar","onAtualizar"]))])),_:1}),(0,a.createElementVNode)("div",el,[r.dataTmp.documentoItens.length?((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:1},(0,a.renderList)(r.dataTmp.documentoItens,((o,t)=>((0,a.openBlock)(),(0,a.createBlock)(v,{key:t,class:"items-carrinho items-center q-px-sm q-pt-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"full-width"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{avatar:"",class:"col-auto"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{imagem:r.item[o.idItem].imagem,rotulo:o.descricaoItem,tamanho:"40"},null,8,["imagem","rotulo"])])),_:2},1024),(0,a.createVNode)(w,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.descricaoItem),1)])),_:2},1024),(0,a.createVNode)(_,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.item[o.idItem].marca),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(w,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{denso:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.tipoItem)+" "+(0,a.toDisplayString)(r.item[o.idItem].referencia),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(w,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{color:"tertiary",dense:"",flat:"",icon:"delete",round:"",onClick:e=>l.removerItem(t)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(M,null,{default:(0,a.withCtx)((()=>[al])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.createElementVNode)("div",il,[(0,a.createVNode)(v,{class:"q-col-gutter-x-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",{class:"col-4 col-md",warning:!!r.warningLabel[o.id],"warning-label":r.warningLabel[o.id]},[(0,a.createVNode)(p,{"class-campo":"u-campoCompacto",align:"left",tipo:"decimal",decimals:"4",zerosDireita:"2",outlined:"",rotulo:"Valor do produto","somente-leitura":l.readonly,modelValue:o.valorItem,"onUpdate:modelValue":e=>o.valorItem=e,onBlur:e=>l.calculaTotalItem(t,"valorItem"),aviso:"",avisoRotulo:r.hintValorUnitario[o.id]},null,8,["somente-leitura","modelValue","onUpdate:modelValue","onBlur","avisoRotulo"])],8,rl),(0,a.createElementVNode)("div",ll,[(0,a.createVNode)(v,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"mdi-minus",color:"primary"}),(0,a.createVNode)(p,{"class-campo":"u-campoCompacto ",opcoes:{maximumValue:100},tipo:"decimal",outlined:"",rotulo:"Desconto percentual",decimals:"2",suffix:"%",modelValue:o.descontoPercentualItem,"onUpdate:modelValue":e=>o.descontoPercentualItem=e,"somente-leitura":l.readonly,onBlur:e=>l.calculaTotalItem(t,"descontoPercentualItem")},null,8,["modelValue","onUpdate:modelValue","somente-leitura","onBlur"])])),_:2},1024)]),(0,a.createElementVNode)("div",sl,[(0,a.createVNode)(p,{"class-campo":"u-campoCompacto",opcoes:{maximumValue:o.valorItem,minimumValue:0},rotulo:"Desconto em reais",tipo:"decimal",decimals:"4",zerosDireita:"2",modelValue:o.descontoItem,"onUpdate:modelValue":e=>o.descontoItem=e,"somente-leitura":l.readonly,outlined:"",onBlur:e=>l.calculaTotalItem(t,"descontoItem")},null,8,["opcoes","modelValue","onUpdate:modelValue","somente-leitura","onBlur"])]),(0,a.createElementVNode)("div",nl,[(0,a.createVNode)(v,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"mdi-equal",color:"primary",class:"hideonmobile"}),(0,a.createVNode)(p,{"class-campo":"u-campoCompacto text-weight-bold",rotulo:"Subtotal",align:e.$q.screen.lt.sm?"left":"right",opcoes:{maximumValue:o.valorItem,minimumValue:0},tipo:"decimal",outlined:"",decimals:"4",zerosDireita:"2",modelValue:r.subTotal[o.id],"onUpdate:modelValue":e=>r.subTotal[o.id]=e,"somente-leitura":l.readonly,onBlur:e=>l.calculaTotalItem(t,"subTotal")},null,8,["align","opcoes","modelValue","onUpdate:modelValue","somente-leitura","onBlur"])])),_:2},1024)]),(0,a.createElementVNode)("div",cl,[(0,a.createVNode)(v,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"mdi-close",color:"primary"}),(0,a.createVNode)(p,{"class-campo":"u-campoCompacto",min:"0",modelValue:o.quantidade,"onUpdate:modelValue":[e=>o.quantidade=e,e=>l.calculaTotalItem(t,"quantidade")],outlined:"","somente-leitura":l.readonly,tipo:"quantidade",decimals:"4",zerosDireita:"0",aviso:"",avisoRotulo:r.item[o.idItem].embalagem},null,8,["modelValue","onUpdate:modelValue","somente-leitura","avisoRotulo"])])),_:2},1024)]),(0,a.createElementVNode)("div",dl,[(0,a.createVNode)(v,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"mdi-equal",color:"primary",class:"hideonmobile"}),(0,a.createVNode)(p,{"class-campo":"u-campoCompacto text-weight-bold","somente-leitura":"",tipo:"decimal",outlined:"",rotulo:"Total",decimals:"2",modelValue:o.total,"onUpdate:modelValue":e=>o.total=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])])),_:2},1024)])])),_:2},1024)))),128)):((0,a.openBlock)(),(0,a.createElementBlock)("div",ol,tl))])])])])])),_:1}),(0,a.createVNode)(k,{class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ml,[(0,a.createVNode)(c,{class:"text-tertiary bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n),ul,(0,a.createElementVNode)("strong",pl,(0,a.toDisplayString)(e.$filters.numero(r.dataTmp.documento.totalDocumento,2)),1)])),_:1})])])),_:1})])),_:1})])),_:1},8,["modelValue","onKeyup"]),(0,a.createVNode)(F,{modelValue:r.modalItem.visivel,"onUpdate:modelValue":o[14]||(o[14]=e=>r.modalItem.visivel=e),filtro:r.modalItem.filtros,onSelecionarItens:l.selecionarItens,habilitarQuantidade:!0,ref:"promptItem"},null,8,["modelValue","filtro","onSelecionarItens"])],64)}]]);j()(wl,"components",{QDialog:y.Z,QLayout:I.Z,QHeader:E.Z,QToolbar:S.Z,QBtn:M.Z,QToolbarTitle:T.Z,QPageContainer:Dt.Z,QCard:qt.Z,QForm:_l.Z,QSelect:ji.Z,QIcon:A.Z,QMenu:k.Z,QList:D.Z,QItem:F.Z,QItemSection:Ft.Z,QItemLabel:q.Z,QTooltip:Pt.Z,QFooter:At.Z}),j()(wl,"directives",{ClosePopup:O.Z});const Il={class:"layout-padding",container:""},El={key:0},Sl=(0,a.createElementVNode)("strong",null,"CFOP: ",-1),Ml={key:1,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"},Tl={computed:{documentosEncontrados(){return this.documentos.length}},data:()=>({carregando:!1,cfop:{},documentos:[],filtro:{},placeholder:"Buscar",termo:"",visivel:!1}),emits:["selecionar"],methods:{async filtrar(){let e;try{this.carregando=!0,e=setTimeout((()=>{$q.loading.show({message:"Carregando informações...",boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary"})}),500);let o=await $db.documentoOperacao.ler();o=o.filter((e=>{let o=[99,100];return 1!==this.classificacaoDestinatario&&(o=[100]),!!~o.indexOf(e.finalidade)&&e.ativo}));for(const e of o)if(e.codigoCfop&&!this.cfop[e.codigoCfop]){let o,t;o=await $erp().cfop.where({codigoCfop:e.codigoCfop}).toArray(),t=o.find((e=>e.codigoCfop))||{},t.codigoCfop&&(this.cfop[t.codigoCfop]={cfop:t.cfop,operacao:(t.operacao||"").trim()})}if(this.termo){let e=new Set(this.termo.toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" "));e=Array.from(e),e.sort(((e,o)=>e<o?1:-1)),o=o.filter((o=>{let t=(o.descricao||"")+" "+((this.cfop[o.codigoCfop]||{}).operacao||"")+" "+(o.codigoCfop||"");t=t.toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"");for(const o of e)if(-1===t.indexOf(o))return!1;return!0}))}o.sort(((e,o)=>e.descricao>o.descricao?1:-1)),this.documentos=o.slice(0,30)}finally{this.carregando=!1,clearTimeout(e),$q.loading.hide()}},descricaoFinalidade:e=>99===e?"Revenda":100===e?"Consumo":"",fechar(){this.limpar(),this.selecionar()},limpar(){this.carregando=!1,this.documentos=[],this.filtro={},this.placeholder="Buscar",this.termo=""},mostrar(e={}){this.classificacaoDestinatario=e.classificacaoDestinatario,this.filtrar(),this.visivel=!0},onShow(){this.$refs.search.focus()},selecionar(e={}){this.$emit("selecionar",$lodash.cloneDeep(e)),this.visivel=!1}}};var kl=t(83831);const Dl=(0,_.Z)(Tl,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-input"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-header"),u=(0,a.resolveComponent)("q-badge"),p=(0,a.resolveComponent)("q-item-label"),h=(0,a.resolveComponent)("q-item-section"),C=(0,a.resolveComponent)("q-item"),v=(0,a.resolveComponent)("q-separator"),f=(0,a.resolveComponent)("q-list"),N=(0,a.resolveComponent)("q-page-container"),V=(0,a.resolveComponent)("q-layout"),g=(0,a.resolveComponent)("q-dialog"),x=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(g,{modelValue:r.visivel,"onUpdate:modelValue":o[1]||(o[1]=e=>r.visivel=e),persistent:"",maximized:"",onKeyup:(0,a.withKeys)(l.fechar,["esc"]),onShow:l.onShow},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"bg-white",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:"",onClick:l.fechar},null,8,["onClick"]),[[x]]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{modelValue:r.termo,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.termo=e),l.filtrar],color:"none",ref:"search",dark:"",placeholder:r.placeholder,debounce:"1000"},null,8,["modelValue","placeholder","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Il,[l.documentosEncontrados?((0,a.openBlock)(),(0,a.createElementBlock)("div",El,[(0,a.createVNode)(f,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.documentos,(e=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:e.id},[(0,a.createVNode)(C,{clickable:"",onClick:o=>l.selecionar(e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.descricao)+" ",1),l.descricaoFinalidade(e.finalidade)?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,color:"tertiary",small:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.descricaoFinalidade(e.finalidade)),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0)])),_:2},1024)])),_:2},1024),r.cfop[e.codigoCfop]&&!e.json?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,caption:""},{default:(0,a.withCtx)((()=>[Sl,(0,a.createTextVNode)((0,a.toDisplayString)(r.cfop[e.codigoCfop].cfop)+" - "+(0,a.toDisplayString)(r.cfop[e.codigoCfop].operacao),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0)])),_:2},1032,["onClick"]),(0,a.createVNode)(v)],64)))),128))])),_:1})])):(0,a.createCommentVNode)("",!0),r.carregando||l.documentosEncontrados?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",Ml," Nenhum resultado encontrado "))])])),_:1})])),_:1})])),_:1},8,["modelValue","onKeyup","onShow"])}]]);j()(Tl,"components",{QDialog:y.Z,QLayout:I.Z,QHeader:E.Z,QToolbar:S.Z,QBtn:M.Z,QToolbarTitle:T.Z,QInput:L.Z,QPageContainer:Dt.Z,QList:D.Z,QItem:F.Z,QItemSection:Ft.Z,QItemLabel:q.Z,QBadge:Tr.Z,QSeparator:kl.Z}),j()(Tl,"directives",{ClosePopup:O.Z});const ql={class:"layout-padding",container:""},Fl={key:0},Pl=(0,a.createElementVNode)("strong",null,"Empresa: ",-1),Al={key:1,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"},Bl={components:{},computed:{itensEncontrados(){return this.itens.length}},data:()=>({carregando:!1,contato:{},itens:[],item:{},filtro:{},placeholder:"Buscar",termo:"",visivel:!1}),emits:["selecionar"],methods:{async filtrar(){let e;try{let o;this.carregando=!0,e=setTimeout((()=>{$q.loading.show({message:"Carregando informações...",boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary"})}),500),o=await $erp().itemTabelaPreco.filter((e=>1===e.tabelaMaster&&(!e.idEmpresa||e.idEmpresa===this.filtro.idContatoEmpresa))).toArray();for(const e of o){if(!e.idEmpresa||this.contato[e.idEmpresa])continue;const o=await $db.contato.le({id:e.idEmpresa});o.id&&(this.contato[o.id]=o)}if(this.termo){let e=new Set(this.termo.toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" "));e=Array.from(e),e.sort(((e,o)=>e<o?1:-1)),o=o.filter((o=>{let t=(o.descricao||"")+" "+((this.contato[o.idEmpresa]||{}).nome||"");t=t.toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"");for(const o of e)if(-1===t.indexOf(o))return!1;return!0}))}o.sort(((e,o)=>e.descricao>o.descricao?1:-1)),this.itens=o.slice(0,30)}finally{this.carregando=!1,clearTimeout(e),$q.loading.hide()}},limpar(){this.carregando=!1,this.itens=[],this.item={},this.filtro={},this.placeholder="Buscar",this.termo=""},mostrar(){this.filtrar(),this.visivel=!0},onHide(){this.$emit("selecionar",JSON.parse(JSON.stringify(this.item))),this.limpar()},selecionar(e={}){this.item=e,this.visivel=!1}},updated(){this.$nextTick((function(){this.$refs.search&&this.$refs.search.focus()}))}},Ll=(0,_.Z)(Bl,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-input"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-header"),u=(0,a.resolveComponent)("q-item-label"),p=(0,a.resolveComponent)("q-item-section"),h=(0,a.resolveComponent)("q-item"),C=(0,a.resolveComponent)("q-separator"),v=(0,a.resolveComponent)("q-list"),f=(0,a.resolveComponent)("q-page-container"),N=(0,a.resolveComponent)("q-layout"),V=(0,a.resolveComponent)("q-dialog"),g=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(V,{modelValue:r.visivel,"onUpdate:modelValue":o[1]||(o[1]=e=>r.visivel=e),maximized:"",onHide:o[2]||(o[2]=e=>l.onHide())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"bg-white",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[g]]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{modelValue:r.termo,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.termo=e),l.filtrar],color:"none",ref:"search",dark:"",placeholder:r.placeholder,debounce:"1000"},null,8,["modelValue","placeholder","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ql,[l.itensEncontrados?((0,a.openBlock)(),(0,a.createElementBlock)("div",Fl,[(0,a.createVNode)(v,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.itens,(e=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:e.id},[(0,a.createVNode)(h,{clickable:"",onClick:o=>l.selecionar(e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.descricao),1)])),_:2},1024)])),_:2},1024),r.contato[e.idEmpresa]?((0,a.openBlock)(),(0,a.createBlock)(p,{key:0,caption:""},{default:(0,a.withCtx)((()=>[Pl,(0,a.createTextVNode)((0,a.toDisplayString)(r.contato[e.idEmpresa].nome),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0)])),_:2},1032,["onClick"]),(0,a.createVNode)(C)],64)))),128))])),_:1})])):(0,a.createCommentVNode)("",!0),r.carregando||l.itensEncontrados?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",Al," Nenhum resultado encontrado "))])])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);j()(Bl,"components",{QDialog:y.Z,QLayout:I.Z,QHeader:E.Z,QToolbar:S.Z,QBtn:M.Z,QToolbarTitle:T.Z,QInput:L.Z,QPageContainer:Dt.Z,QList:D.Z,QItem:F.Z,QItemSection:Ft.Z,QItemLabel:q.Z,QSeparator:kl.Z}),j()(Bl,"directives",{ClosePopup:O.Z});const Ol=(0,a.createTextVNode)("Transporte"),zl={class:"q-pa-md q-pt-none"},jl={class:"col-xs-12 col-sm-4"},$l={class:"col-6 bg-transparent"},Ul={class:"col-6 bg-transparent"},Zl={data:()=>({contatoTransportadora:{},dataPrevistaEntrega:null,horaPrevistaEntrega:null,enderecoClienteOpts:[],idContatoEnderecoCliente:"",obsEntrega:"",promptContato:{visivel:!1,filtro:{}},transporte:"",transporteOpts:[]}),methods:{async selecionarContatoTransportadora(){const e=await $g.promptContato.show({filtro:{ativo:!0,transportadoras:!0},placeholder:"Selecione a transportadora"});e&&(this.contatoTransportadora=e)},async obterEnderecoClienteOpts(){const e=await $erp().contatoEndereco.where({idContato:this.idContatoCliente}).toArray();this.enderecoClienteOpts=e.map((e=>{let o="";return o+=e.logradouro||"",e.numero&&(o+=o?", ":"",o+=e.numero),e.complemento&&(o+=o?" ":"",o+=e.complemento),e.bairro&&(o+=o?" - ":"",o+=e.bairro),e.municipio&&(o+=o?" - ":"",o+=e.municipio),e.uf&&(o+=o?"/":"",o+=e.uf),{rotulo:o,valor:e.id}}))},obterTransporteOpts(){this.transporteOpts=[{rotulo:"Transportadora",valor:1},{rotulo:"Entrega Própria",valor:2},{rotulo:"Entrega na Viagem",valor:3},{rotulo:"Retirar",valor:4}]},limparTransporte(){this.transporte=0,this.transporteOpts=[{rotulo:"Selecionar",valor:0}]},limparEnderecoCliente(){this.enderecoClienteOpts=[{rotulo:"Selecionar",valor:0}],this.idContatoEnderecoCliente=0},get(){let e="",o=null;if(this.idContatoEnderecoCliente&&(e=(this.enderecoClienteOpts.find((e=>e.valor===this.idContatoEnderecoCliente))||{}).rotulo||""),this.dataPrevistaEntrega&&this.horaPrevistaEntrega){const e=`${this.dataPrevistaEntrega} ${this.horaPrevistaEntrega}`;o=Oi.ZP.formatDate(e)}return{tipoTransporte:this.transporte||"",dataHoraPrevisto:o||"",descricaoContatoEnderecoEntrega:e,idContatoTransportadora:this.contatoTransportadora.id||"",observacaoEntrega:this.obsEntrega}},async set(e){if(e.dataHoraPrevisto&&(this.dataPrevistaEntrega=e.dataHoraPrevisto.slice(0,10),this.horaPrevistaEntrega=e.dataHoraPrevisto.slice(11,16)),e.idContatoTransportadora){const o=await $db.contato.le({id:e.idContatoTransportadora});o.id&&(this.contatoTransportadora=o)}this.obsEntrega=e.observacaoEntrega||"",e.tipoTransporte&&(this.obterTransporteOpts(),this.transporteOpts.find((o=>o.valor===e.tipoTransporte))?this.transporte=e.tipoTransporte:this.limparTransporte()),e.descricaoContatoEnderecoEntrega&&this.obterEnderecoClienteOpts().then((()=>{const o=this.enderecoClienteOpts.find((o=>o.rotulo===e.descricaoContatoEnderecoEntrega))||{};this.idContatoEnderecoCliente=o.valor||0,this.idContatoEnderecoCliente||(this.enderecoClienteOpts=[{rotulo:e.descricaoContatoEnderecoEntrega||"Selecionar",valor:0}])}))}},props:{idContatoCliente:{required:!0,type:String}},watch:{transporte(e,o){o&&!e&&this.limparTransporte()},idContatoEnderecoCliente(e,o){o&&!e&&this.limparEnderecoCliente()}},created(){this.limparTransporte(),this.limparEnderecoCliente()}},Ql=(0,_.Z)(Zl,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("campo"),m=(0,a.resolveComponent)("q-select"),u=(0,a.resolveComponent)("q-input"),p=(0,a.resolveComponent)("row");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(c,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"airplanemode_active",size:"24px"}),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[Ol])),_:1})])),_:1}),(0,a.createElementVNode)("div",zl,[(0,a.createVNode)(p,{class:"q-col-gutter-x-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:r.transporte,"onUpdate:modelValue":o[0]||(o[0]=e=>r.transporte=e),after:[{icon:"cancel",handler(){r.transporte=""}}],opcoes:r.transporteOpts,rotulo:"Transporte",class:"col-xs-12 col-sm-4","class-campo":"q-mb-sm",onClick:l.obterTransporteOpts,tipo:"seletor"},null,8,["modelValue","after","opcoes","onClick"]),(0,a.createVNode)(m,{dense:"",rounded:"",modelValue:r.contatoTransportadora.nome,"onUpdate:modelValue":o[2]||(o[2]=e=>r.contatoTransportadora.nome=e),label:"Transportadora",options:["a","b"],onFilter:l.selecionarContatoTransportadora,class:"col-12 col-sm-4"},{append:(0,a.withCtx)((()=>[r.contatoTransportadora.nome?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,name:"close",onClick:o[1]||(o[1]=(0,a.withModifiers)((e=>r.contatoTransportadora={}),["stop"])),class:"cursor-pointer"})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(s,{name:"search",onClick:(0,a.withModifiers)(l.selecionarContatoTransportadora,["stop"]),class:"cursor-pointer"},null,8,["onClick"])])),_:1},8,["modelValue","onFilter"]),(0,a.createElementVNode)("div",jl,[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",$l,[(0,a.createVNode)(u,{modelValue:r.dataPrevistaEntrega,"onUpdate:modelValue":o[3]||(o[3]=e=>r.dataPrevistaEntrega=e),type:"date",clearable:"",dense:"","stack-label":"",label:"Data Prevista Entrega"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Ul,[(0,a.createVNode)(u,{modelValue:r.horaPrevistaEntrega,"onUpdate:modelValue":o[4]||(o[4]=e=>r.horaPrevistaEntrega=e),type:"time",clearable:"",dense:"","stack-label":"",label:"Hora Prevista Entrega"},null,8,["modelValue"])])])),_:1})]),(0,a.createVNode)(d,{modelValue:r.idContatoEnderecoCliente,"onUpdate:modelValue":o[5]||(o[5]=e=>r.idContatoEnderecoCliente=e),"class-campo":"q-my-sm",after:[{icon:"cancel",handler(){r.idContatoEnderecoCliente=""}}],filter:"",opcoes:r.enderecoClienteOpts,class:"col-xs-12",rotulo:"Endereço",onClick:l.obterEnderecoClienteOpts,tipo:"seletor"},null,8,["modelValue","after","opcoes","onClick"]),(0,a.createVNode)(d,{modelValue:r.obsEntrega,"onUpdate:modelValue":o[6]||(o[6]=e=>r.obsEntrega=e),tipo:"textoArea",class:"col-xs-12","class-campo":"q-mt-sm",rotulo:"Obs. de Entrega"},null,8,["modelValue"])])),_:1})])],64)}]]);j()(Zl,"components",{QToolbar:S.Z,QIcon:A.Z,QToolbarTitle:T.Z,QSelect:ji.Z,QInput:L.Z});var Rl=t(72585);const Gl={components:{Avatar:Ho.Z,Badge:Jo.Z,CodigoBarras:Q,Custom:Bt,DocumentoCodigo:Lt.Z,DocumentoMetas:Ot.Z,Envelope:Ui,Faturamento:Zi.Z,ModalEditarProduto:Fr,VendaTransporte:Ql,OrdemServico:yl,PromptDocumentoOperacao:Dl,PromptItemNovo:U.Z,PromptItemTabelaPrecoNovo:Ll},computed:{descricaoClassificacaoDestinatario(){return 0===this.classificacaoDestinatario?"PF Não Contribuinte":1===this.classificacaoDestinatario?"PJ Contribuinte":2===this.classificacaoDestinatario?"PJ Não Contribuinte":"Sem classificação de destinatário"},ehOrcamento(){return["AGUARDANDO LIBERAÇÃO","AGUARDANDO ESTOQUE","AGUARDANDO FINANCEIRO","ORÇAMENTO"].includes(((this.venda||{}).status||"").toUpperCase())&&"VENDA"===((this.venda||{}).tipo||"").toUpperCase()},estaAberto(){return!!~["ABERTA","AGUARDANDO ESTOQUE","AGUARDANDO FATURAMENTO","AGUARDANDO ESTOQUE","AGUARDANDO PAGAMENTO","ORÇAMENTO"].indexOf(((this.venda||{}).status||"").toUpperCase())},ehVenda(){return"ORÇAMENTO"!==((this.venda||{}).status||"").toUpperCase()&&"VENDA"===((this.venda||{}).tipo||"").toUpperCase()},temItens(){return this.carrinho.length>0},titulo(){return"VENDA DE MERCADORIA"===((this.venda||{}).operacao||"").toUpperCase()&&"ORÇAMENTO"===((this.venda||{}).status||"").toUpperCase()&&"VENDA"===((this.venda||{}).tipo||"").toUpperCase()?"Orçamento":"Venda"}},data:()=>({warningLabel:{},imposto:{},dbUsuario:$db.usuario,contatos:{},vendaOriginal:{},venda:{},geraFatura:0,pesoTotal:null,hintValorUnitario:{},configImpressaoOrcamento:[],configImpressaoEnvelope:[],condicaoPagamento:[],condicaoPagamentoOriginal:[],calcularTributacao:!1,documentoEndereco:[],documentoEnderecoOriginal:[],documentoContato:[],documentoContatoOriginal:[],documentoStatus:[],exibirCarregando:!1,carrinhoOriginal:[],carrinho:[],item:{},envelopes:{},envelopesOriginal:{},envelope:{},itensEnvelopes:[],itensEnvelopesOriginal:[],permissaoMargem:!1,margem:{},classificacaoDestinatario:null,permissaoAlterarVendedor:!1,oss:[],permissaoOSs:!1,customs:[],permissaoCustoms:!1,produtos:[],menuVenda:!1,modalContato:!1,modalDescontoMaximo:{},modalItemSemEstoque:{},modalProdutoControlado:{},modalCreditoDisponivel:{},modalItem:!1,mostrarDetalhes:!1,arquivoOriginal:[],arquivo:[],erroCalculo:!1,sistemaPai:""}),emits:["atualizar","cancelada","executar","fechar"],methods:{async calcularPesoTotal(){const e={},o=[];let t=0;for(const e of this.carrinho)o.push(e);for(const e of this.itensEnvelopes)o.push(e);for(const e of this.customs)for(const t of e.documentoItens)o.push(t);for(const e of this.oss)for(const t of e.documentoItens)o.push(t);for(const a of o)if(-1===a.operacaoFator){if(a.idItem&&!e[a.idItem]){const o=await $erp().item.get(a.idItem);o&&(e[a.idItem]=o)}t+=(e[a.idItem]?.peso||0)*(a.quantidade||0)}t>=1e-4&&(this.pesoTotal=$filters.numeroZerosDireita(t,4,2))},async obterClassificacaoDestinatario(e){if(this.classificacaoDestinatario=null,!e)return;const o=await $erp().contato.get(e);if(!o)return;const t=(o.numeroDocumentoNacional||"").trim().replace(/\D/g,""),a=(o.numeroDocumentoEstadual||"").trim().replace(/\D/g,"");if(14===t.length)return this.classificacaoDestinatario=2,void(a&&"isento"!==(a||"").toLowerCase()&&(this.classificacaoDestinatario=1));this.classificacaoDestinatario=0},async obterPermissaoAlterarVendedor(){await $db.contatoBusca.inicializar();const e=($db.usuario.logado.cpf||"").replace(/\D/g,"");let o;if(e)for(const t in $db.contatoBusca.novoContatos)if(($db.contatoBusca.novoContatos[t].numeroDocumentoNacional||"").replace(/\D/g,"")===e){o=t;break}(await $db.permissao.objeto("Diretiva_Vendas_TrocarVendedor")||o&&o===this.venda.idContatoVendedor)&&(this.permissaoAlterarVendedor=!0)},atualizarDocumentoMetas(){this.$refs.documentoMetas&&(this.$refs.documentoMetas.documento=$utils.clonarV2(this.venda),this.$refs.documentoMetas.documentoContato=$utils.clonarV2(this.documentoContato))},async alterarDocumentoOperacao(){try{const e=await this.selecionarDocumentoOperacaoViaPrompt();e.id&&(this.venda.operacao=e.descricao,this.venda.codigoDocumentoOperacao=e.codigoDocumentoOperacao,this.finalidadeDestinatario=e.finalidade,this.atualizarDocumentoMetas())}catch(e){console.log("alterarDocumentoOperacao: ",e)}},async selecionarDocumentoOperacaoViaPrompt(e){if(!e)return this.$refs.promptDocumentoOperacao.placeholder="Selecione a operação",this.$refs.promptDocumentoOperacao.mostrar({classificacaoDestinatario:this.classificacaoDestinatario}),new Promise(((e,o)=>{this.resolve=e,this.reject=o}));e.id?this.resolve(e):this.reject("Operação não selecionada")},async alterarVendedor(){const e=await this.selecionarContato({placeholder:"Selecione o vendedor",filtro:{ativo:!0,vendedores:!0}});e.id&&(this.venda.idContatoVendedor=e.id,this.atualizarDocumentoMetas())},async selecionarContatoIndicacao(){const e=await this.selecionarContato({placeholder:"Selecione a indicação",filtro:{ativo:!0}});e.id&&(this.venda.idContatoIndicacao=e.id,this.atualizarDocumentoMetas())},finalizar(){$db.venda.finalizar({tela:this})},subtotal2(e){return this.subTotal[e]},salvarEdicaoProduto(e){const o=this.carrinho.findIndex((o=>o.id===e.id));if(-1!==o){const t=$utils.clonarV2(this.carrinho);t.splice(o,1,e),this.carrinho=t}this.unirProdutos(),this.produtoEditandoVisivel=!1},editarProduto(e){this.$refs.modalEditarProduto.mostrar({documentoItem:e,documentoVenda:this.venda})},async calcularMargens(){const e=parseInt(await $db.configuracoes.leValorComFiltroEmpresa("vendas.margem.alerta",this.venda.idEmpresa,0))||0,o=parseInt(await $db.configuracoes.leValorComFiltroEmpresa("vendas.margem.limite",this.venda.idEmpresa,0))||0;let t=0,a=0;for(const t of this.produtos.filter((e=>e.id))){let i=0;if(t.valorReal&&t.valorCustoReposicao&&t.quantidade){a+=t.valorCustoReposicao*t.quantidade;const e=t.valorCustoReposicao,o=t.valorReal,r=o-e;i=$utils.arredondar(r/o*100)}let r=$utils.clonarV2(this.margem);r||(r={}),r[t.id]={valor:i,alerta:i<=e,limite:i<o},this.margem=r}for(const t of this.produtos.filter((e=>e.documento))){let i=0,r=0;for(const e of t.documentoItens)e.valorCustoReposicao&&e.quantidade&&(r+=e.valorCustoReposicao*e.quantidade);a+=r;const l=t.documento.totalDocumento,s=l-r;i=$utils.arredondar(s/l*100);let n=$utils.clonarV2(this.margem);n||(n={}),n[t.documento.id]={valor:i,alerta:i<=e,limite:i<o},this.margem=n}for(const t in this.envelopes){let i=0,r=0;for(const e of this.itensEnvelopes.filter((e=>e.idDocumentoAdicional===t)))e.valorCustoReposicao&&e.quantidade&&(r+=e.valorCustoReposicao*e.quantidade);a+=r;const l=this.envelopes[t].totalDocumento,s=l-r;i=$utils.arredondar(s/l*100);let n=$utils.clonarV2(this.margem);n||(n={}),n[t]={valor:i,alerta:i<=e,limite:i<o},this.margem=n}const i=this.venda.totalDocumento,r=i-a;t=$utils.arredondar(r/i*100);let l=$utils.clonarV2(this.margem);l||(l={}),l[this.venda.id]={valor:t,alerta:t<=e,limite:t<o},this.margem=l},async calcularImposto(){const e={valorIpi:0,valorIcmsSt:0,valorDifal:0},o=this.venda,t=[];this.finalidadeDestinatario;for(const e of this.produtos.filter((e=>e.id)))t.push(e);for(const e of this.produtos.filter((e=>e.documento)))for(const o of e.documentoItens)t.push(o);for(const e in this.envelopes)for(const o of this.itensEnvelopes.filter((o=>o.idDocumentoAdicional===e)))t.push(o);await(0,Rl.J)({documento:o,documentosItens:t});for(const a of t)e.valorIpi+=a.valorIpi,e.valorIcmsSt+=a.valorIcmsSt,e.valorDifal+=a.valorDifal,o.calcularTributacao||(a.valorIpi=0,a.valorIcmsSt=0,a.valorDifal=0);e.valorIpi=$utils.arredondar(e.valorIpi),e.valorIcmsSt=$utils.arredondar(e.valorIcmsSt),e.valorDifal=$utils.arredondar(e.valorDifal),this.imposto=e},faturamentoAtualizar(e){this.condicaoPagamento=e},removerConvenio(){this.venda.idContatoResponsavel="",this.atualizarDocumentoMetas()},async selecionarConvenio(){const e=await this.selecionarContato({placeholder:"Selecione o convenio",filtro:{convenios:!0,idContato:this.venda.idContato}});e&&(this.venda.idContatoResponsavel=e.id,this.atualizarDocumentoMetas())},removerComprador(){this.documentoContato=this.documentoContato.filter((e=>"comprador"!==(e.descricao||"").trim().toLowerCase())),this.atualizarDocumentoMetas()},async selecionarComprador(){const e=await this.selecionarContato({placeholder:"Selecione o comprador",filtro:{compradores:!0,idContato:this.venda.idContato}});if(e){let o=$utils.clonarV2(this.documentoContato);o=o.filter((e=>"comprador"!==(e.descricao||"").trim().toLowerCase())),o.push({id:$utils.uuid(),idContato:e.id,descricao:"Comprador",idDocumento:this.venda.id}),this.documentoContato=o,this.atualizarDocumentoMetas()}},async salvarCustom(e={}){const{dados:o,reiniciarQtde:t}=e;let a=$utils.clonarV2(this.customs);const i=a.findIndex((e=>e.documento.id===o.documento.id));t&&(o.documento.numero=1),-1===i?a.push(o):a[i]=o,this.customs=a,this.unirProdutos(),await this.calcularTotais()},async salvarOS(e={}){const{dados:o}=e;let t=$utils.clonarV2(this.oss);const a=t.findIndex((e=>e.documento.id===o.documento.id));-1===a?t.push(o):t[a]=o,this.oss=t,this.unirProdutos(),await this.calcularTotais()},abrirModalCustom(e=null){if(e)this.custom=this.customs.find((o=>o.documento.id===e));else{let e={id:$utils.uuid(),numero:1,tipo:"Custom",descricao:"",documentoId:this.venda.id,documentoTipo:"Venda",status:"Orçamento",dataHoraEmissao:$utils.dataAtual(),idEmpresa:this.venda.idEmpresa,idItemTabelaPreco:this.venda.idItemTabelaPreco,descricaoEmpresa:this.venda.descricaoEmpresa,idContato:this.venda.idContato,descricaoContato:this.venda.descricaoContato,codigoDocumentoOperacao:this.venda.codigoDocumentoOperacao};this.custom={documento:e,documentoItens:[],arquivo:[]}}this.$refs.modalCustom.data=$utils.clonarV2(this.custom),this.$refs.modalCustom.mostrar()},abrirModalOS(e=null){if(e)this.os=this.oss.find((o=>o.documento.id===e));else{let e={id:$utils.uuid(),tipo:"Ordem de Serviço",operacao:"Ordem de Serviço",descricao:"",documentoId:this.venda.id,documentoTipo:"Venda",status:"Orçamento",dataHoraEmissao:$utils.dataAtual(),idEmpresa:this.venda.idEmpresa,idItemTabelaPreco:this.venda.idItemTabelaPreco,descricaoEmpresa:this.venda.descricaoEmpresa,idContato:this.venda.idContato,descricaoContato:this.venda.descricaoContato,codigoDocumentoOperacao:this.venda.codigoDocumentoOperacao};this.os={documento:e,documentoItens:[],arquivo:[]}}this.$refs.modalOS.data=$utils.clonarV2(this.os),this.$refs.modalOS.mostrar()},async abrirModalEnvelope(e=null){if(e){const o=this.itensEnvelopes.filter((o=>o.idDocumentoAdicional===e));this.envelope={documento:this.envelopes[e],documentoContato:this.envelopes[e].documentoContato,documentoItens:o,somenteLeitura:!this.ehOrcamento,arquivo:this.arquivo.filter((o=>o.idTabelaMaster===e))}}else{let e={id:$utils.uuid(),tipo:"Envelope",documentoId:this.venda.id,documentoTipo:"Venda",status:"Orçamento",dataHoraEmissao:$utils.dataAtual(),idEmpresa:this.venda.idEmpresa,idItemTabelaPreco:this.venda.idItemTabelaPreco,descricaoEmpresa:this.venda.descricaoEmpresa,idContato:this.venda.idContato,descricaoContato:this.venda.descricaoContato,codigoDocumentoOperacao:this.venda.codigoDocumentoOperacao};this.envelope={documento:e,documentoContato:[],documentoItens:[],somenteLeitura:!this.ehOrcamento,arquivo:[]}}this.$refs.modalEnvelope.envelope=$utils.clonarV2(this.envelope),this.$refs.modalEnvelope.mostrar()},abrirModalItem(){let e={};for(const o of this.carrinho.filter((e=>-1===e.operacaoFator))){let t=$utils.clonarV2(this.item[o.idItem]);t.novoValorVenda=o.valorReal,e[o.idItem]={item:t,quantidade:o.quantidade}}this.$refs.promptItem.itensSelecionados=e,this.modalItem=!0},async obterContatoUsuario(){const e=JSON.parse(localStorage.getItem("usuario"))||{};let o={};return e.codigoUsuario&&(o=(await $erp().contato.where({codigoUsuario:e.codigoUsuario}).toArray()).find((e=>e.id))||{}),o},removerRepresentando(){this.documentoContato=this.documentoContato.filter((e=>"representando"!==(e.descricao||"").trim().toLowerCase())),this.atualizarDocumentoMetas()},async selecionarRepresentando(){const e=await this.selecionarContato({placeholder:"Selecione o representando",filtro:{ativo:!0}});if(e){let o=$utils.clonarV2(this.documentoContato);o=o.filter((e=>"representando"!==(e.descricao||"").trim().toLowerCase())),o.push({id:$utils.uuid(),idContato:e.id,descricao:"Representando",idDocumento:this.venda.id}),this.documentoContato=o,this.atualizarDocumentoMetas()}},async alterarTabelaPreco(){const e=await this.selecionarItemTabelaPreco(null,this.venda.idEmpresa);e.id&&(this.venda.idItemTabelaPreco=e.id,this.atualizarDocumentoMetas())},async selecionarItemTabelaPreco(e,o){if(!e)return this.$refs.promptItemTabelaPreco.placeholder="Selecione a tabela de preço",this.$refs.promptItemTabelaPreco.filtro={tabelaMaster:!0,idContatoEmpresa:o},this.$refs.promptItemTabelaPreco.mostrar(),new Promise(((e,o)=>{this.resolve=e,this.reject=o}));e.id||this.reject("Tabela de preço não selecionada"),this.resolve(e)},async obterContatoVendedor(e){const o="1"===((await $erp().configuracoes.where({nome:"vendas.usaCarteira"}).toArray())[0]||{}).valor,t=(e||{}).idContatoVendedor;if(t&&o){const e=await $erp().contato.get(t)||{};if(e.id)return e}const a=JSON.parse(localStorage.getItem("usuario"))||{};let i=await $db.contatoBusca.filtrar(null,{ativo:!0,vendedores:!0},0);if(1===i.length)return i[0];for(const e of i)if((e||{}).numeroDocumentoNacional&&(e.numeroDocumentoNacional||"").replace(/\D/g,"")===(a.numeroDocumentoNacional||"").replace(/\D/g,""))return e;return this.selecionarContato({placeholder:"Selecione o vendedor",filtro:{ativo:!0,vendedores:!0}})},async adicionar(){let e={},o=this.idContato;if(o&&(e=await $db.contato.le({id:o})),e.id||(e=await this.selecionarContato({placeholder:"Selecione o cliente",filtro:{ativo:!0,somenteCarteira:!0}})),!e.id)return this.$emit("fechar"),void $q.notifyError("Cliente não selecionado");this.obterClassificacaoDestinatario(e.id);let t="";e.idFormaPagamento&&(t=((await $erp().formaPagamento.get(e.idFormaPagamento)||{}).descricao||"").trim()),this.contatos={},this.contatos[e.id]=e;let a=[],i=await $db.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);if(i.length&&await $erp().empresa.where("idContato").anyOf(i.map((e=>e.id))).each((e=>{a.push(e)})),!a.length)return void $q.notify({message:"Não há empresa configurada",timeout:0,type:"negative",closeBtn:!0});if((e.condutaObservacao||"").trim()&&$q.notify({message:"Observação da conduta do Cliente: "+e.condutaObservacao,timeout:0,type:"warning",closeBtn:!0}),(e.condutaRestricao||"").trim())return this.$emit("fechar"),void $q.notify({message:e.condutaRestricao,timeout:0,type:"negative",closeBtn:!0});let r=await $db.contatoTelefone.le({idContato:e.id});r=r.length?r[0].telefone:"";const l=await $db.contatoEndereco.le({idContato:e.id}),s=l.filter((e=>"Principal"===e.grupo));let n,c=[],d="";if(l.length){const o=[...s,...l][0];d="".concat(o?.logradouro||"",", ",o?.numero||""," ",o?.complemento||""," - ",o?.bairro||""," - ",o?.municipio||"","/",o?.uf||""),c=[{id:$utils.uuid(),idContato:e.id,idContatoEndereco:o?.id,idCidade:o?.idCidade,descricao:d,logradouro:o?.logradouro,numero:o?.numero,complemento:o?.complemento,condominio:o?.condominio,bairro:o?.bairro,cep:o?.cep,ibgeCod:o?.ibgeCod,municipio:o?.municipio,uf:o?.uf,ufCod:o?.ufCod,pais:o?.pais,grupo:o?.grupo,cidadeCodChave:o?.cidadeCodChave,observacao:o?.observacao}]}try{n=await this.selecionarEmpresa()}catch(e){return this.$emit("fechar"),void $q.notifyError(e.message,e)}await this.configuraImpressaoEnvelope(n.idContato),await this.configuraImpressaoOrcamento(n.idContato);const m=await $db.contatoEndereco.le({idContato:n.idContato});if(!m.length)return this.$emit("fechar"),void $q.notifyError("Empresa sem endereço.");let u=m.find((e=>"principal"===(e.grupo||"").toLowerCase()));u||(u=m[0]);let p="";if(e.idItemTabelaPreco){let o=await $db.itemTabelaPreco.le({id:e.idItemTabelaPreco})||{};o.id&&o.idEmpresa===n.idContato&&(p=e.idItemTabelaPreco)}if(!p){const e=await $erp().itemTabelaPreco.filter((e=>1===e.tabelaMaster&&(!e.idEmpresa||e.idEmpresa===n.idContato))).toArray();if(1===e.length)p=e[0].id;else if(e.length>1)try{p=(await this.selecionarItemTabelaPreco(null,n.idContato)).id}catch(e){return this.$emit("fechar"),void $q.notifyError(e)}}let h=await $db.documentoOperacao.ler();if(h=h.filter((e=>e.ativo)),!h.length)return this.$emit("fechar"),void $q.notifyError("Não foi possível localizar a Operação.");let C=await $erp().configuracoes.where({nome:"vendas.codigovenda"}).toArray(),v=C[0],f={},N=2;for(;N--;){if(v){const e=Number(v?.valor);e&&Number.isInteger(e)&&(f=h.find((o=>o.codigoDocumentoOperacao===e)))}if(f?.json||!u||!c[0]||u?.uf===c[0]?.uf)break;C=await $erp().configuracoes.where({nome:"vendas.codigovenda.foraestado"}).toArray(),v=C[0]}if(99===f?.finalidade&&1!==this.classificacaoDestinatario){f=null;const e=1===this.classificacaoDestinatario?99:100,o=h.filter((o=>o.finalidade===e));if(!o.length)return this.$emit("fechar"),void $q.notifyError("Não foi possível localizar a Operação.");1===o.length&&(f=o[0])}if(!f?.idCfop&&!f?.json)try{f=await this.selecionarDocumentoOperacaoViaPrompt()}catch(e){return this.$emit("fechar"),void $q.notifyError(e)}this.finalidadeDestinatario=f.finalidade;const V=await this.obterContatoUsuario();let g;try{g=await this.obterContatoVendedor(e)}catch(e){return this.$emit("fechar"),void $q.notifyError(e.message,e)}const x={id:this.id,idContato:e.id,idContatoTransportadora:e.idContatoTransportadora,idContatoResponsavel:"",descricaoEmpresa:n.nome,idEmpresa:n.idContato,idEmpresaEndereco:u.id,numeroDocumentoEmpresa:n.numeroDocumentoNacional,calcularAutomatico:"Sim",calcularTributacao:!0,dataHoraEmissao:$utils.dataAtual(),descricaoContato:e.nome,numeroDocumentoContato:e.numeroDocumentoNacional,freteSeparado:!0,status:"Orçamento",tipo:"Venda",tipoFrete:"CIF",valorFrete:0,totalPercentualDesconto:0,totalDesconto:0,totalDocumento:0,subTotal:0,codigoDocumentoOperacao:f.codigoDocumentoOperacao,operacao:f.descricao,idContatoVendedor:g.id,idContatoDigitador:V.id,telefoneContato:r,descricaoContatoEndereco:d,idItemTabelaPreco:p,observacaoFaturamento:t};if(c.length&&(c[0].idDocumento=x.id),this.venda={},this.vendaOriginal={},this.envelopes={},this.envelopesOriginal={},this.carrinho=[],this.carrinhoOriginal=[],this.itensEnvelopes=[],this.itensEnvelopesOriginal=[],this.condicaoPagamento=[],this.condicaoPagamentoOriginal=[],this.documentoEndereco=[],this.documentoEnderecoOriginal=[],this.documentoStatus=[],this.documentoContato=[],this.permissaoCustoms=await $db.permissao.objeto("atendimento//venda/custom"),this.permissaoOSs=await $db.permissao.objeto("atendimento//venda/os"),await this.atualizaUsaFatura(n),this.venda=x,this.documentoEndereco=c,this.atualizarDocumentoMetas(),this.obterPermissaoAlterarVendedor(),await this.$nextTick(),this.$refs.transporte&&await this.$refs.transporte.set(this.venda),localStorage.documentoItemDevolucao)try{let e=JSON.parse(localStorage.getItem("documentoItemDevolucao"));localStorage.removeItem("documentoItemDevolucao"),e.idDocumento=this.venda.id,e.dataHoraEmissao=$utils.dataAtual(),this.carrinho.push(e),await this.carregarItens(),this.unirProdutos(),await this.calcularTotais(),$q.notify({message:"Item adicionado ao orçamento.",type:"positive"})}catch(e){$q.notify("Não foi possível adicionar item ao orçamento.")}},async atualizaUsaFatura(e){let o=await $erp().configuracoes.where({nome:"vendas.gerafatura"}).toArray(),t=o.find((o=>o.idEmpresa===e.idContato));t||(t=o.find((e=>!e.idEmpresa))),this.geraFatura=t?parseInt(t.valor):0},async calcularQuantidadeCustom(e){const o=this.customs.find((o=>o.documento.id===e)),t=$utils.arredondar(o.documento.numero,4);let a;a=o.documento.totalDocumento>o.documento.subTotal?$utils.arredondar(o.documento.totalDocumento/o.documento.subTotal,4):$utils.arredondar(o.documento.subTotal/o.documento.totalDocumento,4),o.documento.totalDocumento=$utils.arredondar(o.documento.subTotal*t,2);for(const e of o.documentoItens){const o=e.valorItem-e.descontoItem;e.quantidade=$utils.arredondar(e.quantidade/a*t,4),e.subTotal=$utils.arredondar(o*e.quantidade),e.total=e.subTotal,e.valorReal=$utils.arredondar(o),e.valorRealTotal=e.total}await this.calcularTotais()},async cancelar(){if(this.ehVenda){try{await $q.dialog({message:"Esta ação irá cancelar esta venda",noRefocus:!0,preventClose:!0,title:"Tem certeza?",cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}})}catch(e){return}try{this.logInfo("Cancelando..."),$q.loading.show({message:"Cancelando..."});const e=$utils.dataAtual();this.venda.status="Cancelado",this.venda.idFatura="",this.venda.dataHoraFinalizado=e;for(const o of this.carrinho)o.status=this.venda.status,o.dataHoraFinalizado=e;this.$refs.faturamento.condicaoPagamento=[],await this.salvarVenda(),this.$emit("cancelada"),$q.notifyPositive("Venda cancelada")}catch(e){$q.notify("Não foi possível cancelar a venda."),$q.loading.hide()}finally{this.logInfo("Cancelou"),$q.loading.hide()}}},async salvarEnvelope(e){this.envelopes[e.documento.id]=e.documento,this.envelopes[e.documento.id].documentoContato=e.documentoContato,this.envelopes[e.documento.id].armacao=e.armacao,this.envelopes[e.documento.id].pupilometro=e.pupilometro;let o=this.itensEnvelopes.filter((o=>o.idDocumentoAdicional!==e.documento.id));o=[...o,...e.documentoItens],this.itensEnvelopes=o;let t=this.arquivo.filter((o=>o.idTabelaMaster!==e.documento.id));t=[...t,...e.arquivo],this.arquivo=t,await this.calcularTotais()},descricaoEnvelope(e){let o="";for(const t of this.itensEnvelopes)t.idDocumentoAdicional===e&&t.descricaoItem.trim()&&(o+=t.descricaoItem.trim()+" | ");return o.slice(0,-3)},async removerEnvelope(e){const o=$utils.clonarV2(this.envelopes);let t=$utils.clonarV2(this.itensEnvelopes);delete o[e],this.envelopes=o,t=t.filter((o=>o.idDocumentoAdicional!==e)),this.itensEnvelopes=t,await this.calcularTotais()},async removerCustom(e){this.$q.dialog({message:"Esta ação irá remover este item do carrinho",title:"Tem certeza?",cancel:{label:"Manter",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{try{$q.loading.show({message:"Removendo..."}),this.customs=this.customs.filter((o=>o.documento.id!==e)),this.unirProdutos(),await this.calcularTotais()}finally{$q.loading.hide()}}))},async removerItem(e){this.$q.dialog({message:"Esta ação irá remover este item do carrinho",title:"Tem certeza?",cancel:{label:"Manter",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{try{this.logInfo("Removendo..."),$q.loading.show({message:"Removendo..."});for(const o in this.carrinho)if(this.carrinho[o].id===e)return this.carrinho.splice(o,1),this.unirProdutos(),void await this.calcularTotais()}finally{this.logInfo("Removeu..."),$q.loading.hide()}}))},async removerOS(e){this.$q.dialog({message:"Esta ação irá remover este item do carrinho",title:"Tem certeza?",cancel:{label:"Manter",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{try{$q.loading.show({message:"Removendo..."}),this.oss=this.oss.filter((o=>o.documento.id!==e)),this.unirProdutos(),await this.calcularTotais()}finally{$q.loading.hide()}}))},async reprovarOrcamento(){try{const e=await new Promise(((e,o)=>$q.dialog({message:"Especifique o motivo:",noRefocus:!0,preventClose:!0,prompt:{model:"",type:"text",class:"bg-light"},title:"Reprovar orçamento?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk((o=>{e(o)})).onCancel((()=>{o()}))));if(!e.trim())return $q.notifyError("Especifique o motivo"),!1;try{this.logInfo("Reprovando..."),$q.loading.show({message:"Reprovando..."});const o=$utils.dataAtual(),t="Não Aprovado";this.venda.motivoCancelamento=e.trim(),this.venda.status=t,this.venda.dataHoraFinalizado=o;for(const e of this.carrinho)e.status=t,e.dataHoraFinalizado=o;return this.$refs.faturamento.condicaoPagamento=[],await this.salvarVenda(),$q.notifyPositive("Orçamento reprovado"),!0}catch(e){return $q.notifyError("Ocorreu um erro ao reprovar o orçamento.",e),$q.loading.hide(),!1}finally{this.logInfo("Reprovou"),$q.loading.hide()}}catch(e){return!1}},async retornarOrcamento(){this.$q.dialog({message:"Esta ação irá retornar esta venda para orçamento",title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk((async()=>{try{this.logInfo("Retornando..."),$q.loading.show({message:"Retornando..."});try{await $db.venda.checarConflitoStatus({id:this.venda.id,status:this.vendaOriginal.status})}catch(e){return $q.notifyError(e.message),!1}let e=await $db.documentoStatus.le({idDocumento:this.venda.id});if(e=$lodash.orderBy(e,"dataHoraEmissao","desc")[0],["Faturado","Aguardando Pagamento"].includes(this.venda.status))return $q.notifyError("Não é possível reabrir vendas de faturas já pagas! Por favor, reabra a fatura."),!1;if(!await $db.permissao.objeto("Diretiva_Vendas_Reabertura")){const e=new Date,o=new Date(this.venda.dataHoraFinalizado);if(o.getFullYear()<e.getFullYear()||o.getMonth()<e.getMonth())return $q.notifyError("Não é possível reabrir vendas de meses passados!"),!1}this.documentoStatus=[],this.venda.idFatura="",this.venda.idContatoFinalizado="",this.venda.status="Orçamento",this.venda.dataHoraFinalizado="",this.venda.dataHoraRealizado="",this.venda.motivoCancelamento="";const o=$utils.dataAtual(),t=((await $db.contato.le({numeroDocumentoNacional:$db.usuario.logado.numeroDocumentoNacional}))[0]||{}).id||"";for(const e of this.carrinho)e.status="Orçamento","Local"!==e.tipoItem&&(e.dataHoraFinalizado="");for(const e in this.envelopes)this.documentoStatus.push({id:$utils.uuid(),idDocumento:this.envelopes[e].id,operacao:"Mudança status envelope",statusOriginal:this.envelopes[e].status,statusFinalizado:"Orçamento",dataHoraEmissao:o,idUsuarioAlterou:t}),this.envelopes[e].status="Orçamento",this.envelopes[e].dataHoraFinalizado="";for(const e of this.itensEnvelopes)e.status="Orçamento",e.dataHoraFinalizado="";for(const e of this.customs)e.documento.status="Orçamento",e.documento.dataHoraFinalizado="";for(const e of this.oss)e.documento.status="Orçamento",e.documento.dataHoraFinalizado="";for(const e of this.customs.reduce(((e,o)=>[...e,...o.documentoItens||[]]),[]))e.status="Orçamento",e.dataHoraFinalizado="";for(const e of this.oss.reduce(((e,o)=>[...e,...o.documentoItens||[]]),[]))e.status="Orçamento",e.dataHoraFinalizado="";return this.documentoStatus.push({id:$utils.uuid(),idDocumento:this.venda.id,dataHoraEmissao:o,operacao:this.venda.operacao,statusOriginal:(e||{}).statusFinalizado,statusFinalizado:"Orçamento",idUsuarioAlterou:t}),await this.salvarVenda(),this.atualizar(),this.$emit("executar","retornarOrcamento"),$q.notifyPositive("Venda retornada para orçamento"),!0}catch(e){return $q.notifyError("Não foi possível retornar para orçamento.",e),$q.loading.hide(),!1}finally{this.logInfo("Retornou"),$q.loading.hide()}}))},async selecionarEmpresa(){const e=await $erp().empresa.toArray();let o;if(!e.filter((e=>e.ativo)).length)throw new Error("Empresa não encontrada");if(1===e.filter((e=>e.ativo)).length)return e.find((e=>e.ativo));const t=await $g.promptContato.show({filtro:{ativo:!0,empresas:!0},placeholder:"Selecione a empresa"});if((t||{}).id&&(o=(await $db.empresa.le({idContato:t.id})).find((e=>e.id))),!o)throw new Error("Empresa não selecionada");return o},async selecionarContato(e){const{placeholder:o,filtro:t}={placeholder:"Selecione o contato",filtro:{ativo:!0},...e},a=await $g.promptContato.show({filtro:t,placeholder:o});if(!a)throw new Error("Contato não selecionado");return a},async configurarValoresTabelaPreco(e,o){if(!o.idItem)return;let t=this.valoresTabelaPreco.find((e=>e.id===o.id));if(t)return;let a=await $erp().item.get(o.idItem);t=await $db.itemTabelaPreco.obterValores(e,a,4),this.valoresTabelaPreco.push({id:o.id,...t})},adicionarItem(e){const o=this.carrinho.find((o=>o.idItem===e.id));let t=1;e.novoValorVenda=e.valorVenda,o&&(e.novoValorVenda=o.valorReal,t=o.quantidade+1);const a={};a[e.id]={item:e,quantidade:t},this.selecionarItens(a)},async selecionarItens(e){this.exibirCarregando=!0;for(const o in e){const t=e[o].item||{},a=e[o].quantidade||0;let i=this.carrinho.findIndex((e=>e.idItem===o&&-1===e.operacaoFator));await this.selecionarItem(o,t,a),-1===i&&(i=this.carrinho.findIndex((e=>e.idItem===o)),-1!==i&&-1===this.carrinho[i].operacaoFator&&this.carrinhoCalcularTotais(this.carrinho[i].id,"quantidade"))}await this.carregarItens(),this.unirProdutos(),await this.calcularTotais(),this.exibirCarregando=!1},async selecionarItem(e,o,t){this.modalItem=!1;let a=this.carrinho.findIndex((o=>o.idItem===e&&-1===o.operacaoFator));if(-1!==a)return o.novoValorVenda!==this.carrinho[a].valorOriginal&&(o.novoValorVenda<=this.carrinho[a].valorOriginal?(this.carrinho[a].valorItem=this.carrinho[a].valorOriginal,this.carrinho[a].descontoItem=$utils.arredondar(this.carrinho[a].valorOriginal-o.novoValorVenda)):(this.carrinho[a].valorItem=o.novoValorVenda,this.carrinho[a].descontoItem=0),this.carrinhoCalcularTotais(this.carrinho[a].id,"descontoItem")),void(this.carrinho[a].quantidade!==t&&(this.carrinho[a].quantidade=t||1,this.carrinhoCalcularTotais(this.carrinho[a].id,"quantidade")));const i=await $utils.selecionarCfop({ncm:o.ncm,itemTipo:o.tipo,codigoDocumentoOperacao:this.venda.codigoDocumentoOperacao,idContatoDestinatario:this.venda.idContato,idContatoEmitente:this.venda.idEmpresa,operacaoFator:-1});if(!i)return void $q.notify("Não foi possível localizar o CFOP.");let r="",l="";const s=await $db.perfilContabilItem.le({idPerfilContabil:o.idPerfilContabil,idCfop:i.id,and:{idPerfilContabil:o.idPerfilContabil,idCfop:i.id}});if(s.length&&(r=s[0].idPlanoContaEstoque,l=s[0].idPlanoContaDestino),r&&l||(r=i.idPlanoContaEstoque,l=i.idPlanoContaDestino),!r||!l){const e=await $db.configuracoes.le({nome:"financeiro.planocontas.comprageral"});if(e.length){const o=parseInt(e[0].valor);r=(await $db.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:o})).id}const o=await $db.configuracoes.le({nome:"financeiro.planocontas.faturamentogeral"});if(o.length){const e=parseInt(o[0].valor);l=(await $db.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:e})).id}}if(!r)return void $q.notify("Não foi possível localizar Conta de Estoque.");if(!l)return void $q.notify("Não foi possível localizar Conta de Destino.");const n=(await $db.estoqueSaldoProdutoEmpresa.le({idItem:o.id,idEmpresa:$lodash.get(this.venda,"idEmpresa",""),tipoEstoque:"Disponível"})).find((e=>e.idItem)),c={id:$utils.uuid(),idItem:o.id,idDocumento:this.venda.id,dataHoraEmissao:$utils.dataAtual(),descontoItem:0,descontoPercentualItem:0,descontoSubTotal:0,descontoTotalRateado:0,descontoFaturaRateado:0,descricaoItem:o.descricaoConcatenada,operacao:i?.operacao,operacaoFator:i?.fator,idCfop:i?.id,idPlanoContaEstoque:r,idPlanoContaDestino:l,quantidade:t||1,status:this.venda.status,tipoItem:o.tipo,subTotal:o.valorVenda,total:o.valorVenda,valorCusto:0,valorCustoMedio:$lodash.get(n,"valorCustoMedio",0),valorCustoReposicao:o.valorCustoReposicao||0,valorCustoUltimo:$lodash.get(n,"valorCusto",0),valorItem:o.valorVenda,valorItemUltimo:o.valorVenda,valorOriginal:o.valorVenda,valorReal:o.valorVenda,valorRealTotal:o.valorVenda,ncm:o.ncm,cest:o.cest};this.carrinho.push(c),a=this.carrinho.findIndex((o=>o.idItem===e&&-1===o.operacaoFator)),-1!==a&&o.novoValorVenda!==this.carrinho[a].valorOriginal&&(o.novoValorVenda<=this.carrinho[a].valorOriginal?(this.carrinho[a].valorItem=this.carrinho[a].valorOriginal,this.carrinho[a].descontoItem=$utils.arredondar(this.carrinho[a].valorOriginal-o.novoValorVenda)):(this.carrinho[a].valorItem=o.novoValorVenda,this.carrinho[a].descontoItem=0),this.carrinhoCalcularTotais(this.carrinho[a].id,"descontoItem")),t||(await this.carregarItens(),this.unirProdutos(),await this.calcularTotais())},async salvarVenda(){try{$q.loading.show({message:"Salvando..."});try{await $db.venda.checarConflitoStatus({id:this.venda.id,status:this.vendaOriginal.status})}catch(e){return $q.notifyError(e.message),!1}for(const e of this.carrinho.map((e=>e.id)))await this.carrinhoCalcularTotais(e,null,!1);await this.calcularTotais(),this.$refs.transporte&&(this.venda={...this.venda,...this.$refs.transporte.get()});let e=$utils.clonarV2((this.$refs.faturamento||{}).condicaoPagamento||[]);for(let o in e)delete e[o].idDocumentoCondicaoPagamento,delete e[o].parcelas,delete e[o].formaPagamento,delete e[o].edicao,delete e[o].codigoDocumento,delete e[o].codigoDocumentoCaixa;const o=[],t=[];for(const e in this.envelopes)o.push(this.envelopes[e]);for(const e in this.envelopesOriginal)t.push(this.envelopesOriginal[e]);const a={venda:this.vendaOriginal,envelopes:t,customs:this.customsOriginal,oss:this.ossOriginal,carrinho:[...this.carrinhoOriginal,...this.itensEnvelopesOriginal],condicaoPagamento:this.condicaoPagamentoOriginal,documentoEndereco:this.documentoEnderecoOriginal,documentoContato:this.documentoContatoOriginal,arquivo:this.arquivoOriginal};this.venda.observacaoFaturamento=(this.$refs.faturamento||{}).observacaoFaturamento||"";const i={venda:this.venda,envelopes:o,customs:this.customs,oss:this.oss,carrinho:[...this.carrinho,...this.itensEnvelopes],condicaoPagamento:e,documentoEndereco:this.documentoEndereco,documentoContato:this.documentoContato,arquivo:this.arquivo};return Object.keys($utils.diferencaObjetos(a,i)).length&&(await $db.venda.grava({venda:this.venda,vendaOriginal:this.vendaOriginal,customs:this.customs,customsOriginal:this.customsOriginal,oss:this.oss,ossOriginal:this.ossOriginal,envelopes:o,envelopesOriginal:t,carrinho:[...this.carrinho,...this.itensEnvelopes],carrinhoOriginal:[...this.carrinhoOriginal,...this.itensEnvelopesOriginal],condicaoPagamento:e,condicaoPagamentoOriginal:this.condicaoPagamentoOriginal,documentoEndereco:this.documentoEndereco,documentoEnderecoOriginal:this.documentoEnderecoOriginal,documentoContato:this.documentoContato,documentoContatoOriginal:this.documentoContatoOriginal,documentoStatus:this.documentoStatus,arquivoOriginal:this.arquivoOriginal,arquivo:this.arquivo}),this.logInfo("Salvou"),this.atualizar(),this.$emit("atualizar")),!0}catch(e){return $q.notifyError("Erro ao salvar.",e),!1}finally{$q.loading.hide()}},async configuraImpressaoEnvelope(e){const o=await $db.configuracoes.porNome("impressao.envelope",e);this.configImpressaoEnvelope=[...o.length?o.map((e=>({texto:"Imprimir Envelope",...e}))):[{valor:"envelope",texto:"Imprimir Envelope"},{valor:"envelopeMini",texto:"Imprimir Envelope Mini"}]]},async configuraImpressaoOrcamento(e){const o=await $db.configuracoes.porNome("impressao.venda",e);this.configImpressaoOrcamento=[...o.length?o.map((e=>({texto:"Imprimir Orçamento",...e}))):[{valor:"invoice",texto:"Orçamento/Venda (Invoice)"},"optisoul"===this.sistemaPai?{valor:"orcamento",texto:"Orçamento (Antigo)"}:{}]]},async atualizar(){try{this.logInfo("Atualizando..."),$q.loading.show({message:"Atualizando..."}),await this.atualizarNucleo(),await this.atualizarDocumentoMetas()}catch(e){$q.notifyError("Erro ao carregar venda",e)}finally{this.logInfo("Atualizou"),$q.loading.hide()}},async atualizarNucleo(){if(this.erroCalculo=!1,this.valoresTabelaPreco=[],this.maximoDesconto=[],this.warningLabel={},this.modalDescontoMaximo={permiteDescontoMaximo:!1,titulo:"",msg:"",itens:[],resolve:void 0,reject:void 0,visivel:!1},this.modalItemSemEstoque={itens:[],resolve:void 0,reject:void 0,visivel:!1,opcao:"",opcoes:[]},this.modalProdutoControlado={permiteQuantidadeExcedida:!1,itens:[],resolve:void 0,reject:void 0,visivel:!1},this.modalCreditoDisponivel={permiteFinalizar:!1,resolve:void 0,reject:void 0,visivel:!1},this.vendaOriginal=await $erp().documento.get(this.id)||{},this.permissaoMargem=await $db.permissao.objeto("Diretiva_Vendas_VerMargem"),!Object.keys(this.vendaOriginal).length)return void this.adicionar();this.venda=$utils.clonarV2(this.vendaOriginal),await this.obterClassificacaoDestinatario(this.venda.idContato),await this.obterPermissaoAlterarVendedor(),await this.atualizaUsaFatura({idContato:this.venda.idEmpresa}),await this.configuraImpressaoEnvelope(this.venda.idEmpresa),await this.configuraImpressaoOrcamento(this.venda.idEmpresa);const e=await $erp().documentoItem.where({idDocumento:this.venda.id}).sortBy("dataHoraEmissao");this.carrinho=e.filter((e=>!e.idDocumentoAdicional)),this.carrinhoOriginal=$utils.clonarV2(this.carrinho),this.condicaoPagamentoOriginal=await $db.documentoCondicaoPagamento.le({idDocumento:this.venda.id}),this.condicaoPagamento=$utils.clonarV2(this.condicaoPagamentoOriginal),this.$refs.faturamento&&(this.$refs.faturamento.condicaoPagamento=$utils.clonarV2(this.condicaoPagamentoOriginal)),this.documentoEnderecoOriginal=await $erp().documentoEndereco.where({idDocumento:this.venda.id}).toArray(),this.documentoEndereco=$utils.clonarV2(this.documentoEnderecoOriginal),this.documentoContatoOriginal=await $erp().documentoContato.where({idDocumento:this.venda.id}).toArray(),this.documentoContato=$utils.clonarV2(this.documentoContatoOriginal);const o=await $db.documento.le({tipo:"Envelope",documentoId:this.venda.id});this.itensEnvelopesOriginal=[],this.envelopesOriginal={};for(const e of o){e.documentoContato=[];let o=await $db.documentoContato.le({idDocumento:e.id});o=o.find((e=>"Laboratório"===e.descricao)),o&&e.documentoContato.push(o),this.envelopesOriginal[e.id]=e,this.itensEnvelopesOriginal=[...this.itensEnvelopesOriginal,...await $db.documentoItem.le({idDocumentoAdicional:e.id})]}this.envelopes=$utils.clonarV2(this.envelopesOriginal),this.itensEnvelopes=$utils.clonarV2(this.itensEnvelopesOriginal),this.contatos={};for(const e in this.envelopes){const o=this.envelopes[e].idContato;this.contatos[o]||(this.contatos[o]=await $db.contato.le({id:o}))}if(this.venda.idContato){const e=this.venda.idContato;this.contatos[e]||(this.contatos[e]=await $db.contato.le({id:e}))}let t=(await $db.documento.le({tipo:"Custom",documentoId:this.venda.id})).map((e=>({documento:{...e}})));for(const e of t)e.documentoItens=await $db.documentoItem.le({idDocumentoAdicional:e.documento.id}),e.arquivo=await $db.arquivo.le({idTabelaMaster:e.documento.id});this.customs=t,this.customsOriginal=$utils.clonarV2(t),this.permissaoCustoms=await $db.permissao.objeto("atendimento//venda/custom");let a=(await $db.documento.le({tipo:"Ordem de Serviço",documentoId:this.venda.id})).map((e=>({documento:{...e}})));for(const e of a)e.documentoItens=await $db.documentoItem.le({idDocumentoAdicional:e.documento.id}),e.arquivo=await $db.arquivo.le({idTabelaMaster:e.documento.id});this.oss=a,this.ossOriginal=$utils.clonarV2(a),this.permissaoOSs=await $db.permissao.objeto("atendimento//venda/os"),await this.carregarItens(),this.unirProdutos();let i=[];for(const e in this.envelopes){const o=await $db.arquivo.leNew({tabelaMaster:"envelope",idTabelaMaster:e});i=[...i,...o]}this.arquivoOriginal=i,this.arquivo=$utils.clonarV2(this.arquivoOriginal),await this.calcularTotais(),await this.$nextTick(),this.$refs.transporte&&await this.$refs.transporte.set(this.venda),localStorage.documentoItemDevolucao&&(localStorage.removeItem("documentoItemDevolucao"),this.salvarVenda())},unirProdutos(){let e=[],o=[];for(const o of this.carrinho)e.push({idDocumentoItem:o.id,tipo:"carrinho",dataHoraEmissao:new Date(o.dataHoraEmissao),descricao:(o.descricaoAgrupamento||"").toUpperCase()});for(const o of this.customs)e.push({idDocumento:o.documento.id,tipo:"custom",dataHoraEmissao:new Date(o.documento.dataHoraEmissao),descricao:(o.documentoItens.length&&o.documentoItens[0].descricaoAgrupamento||"").toUpperCase()});for(const o of this.oss)e.push({idDocumento:o.documento.id,tipo:"os",dataHoraEmissao:new Date(o.documento.dataHoraEmissao),descricao:(o.documentoItens.length&&o.documentoItens[0].descricaoAgrupamento||"").toUpperCase()});e.sort(((e,o)=>e.descricao+e.dataHoraEmissao.getTime()<o.descricao+o.dataHoraEmissao.getTime()?-1:1));let t="";for(const a of e){let e;t!==a.descricao&&(t=a.descricao,o.push({caption:t})),"carrinho"===a.tipo&&(e=this.carrinho.find((e=>e.id===a.idDocumentoItem))),e||"custom"!==a.tipo||(e=this.customs.find((e=>e.documento.id===a.idDocumento))),e||"os"!==a.tipo||(e=this.oss.find((e=>e.documento.id===a.idDocumento))),o.push(e)}this.produtos=o},async carregarItens(){let e={};for(const o of this.carrinho){{const e=o.valorItem-o.descontoItem;this.subTotal[o.id]=e}if(!(o.idItem in e)){let t=await $erp().item.get(o.idItem);t={...t,marca:t.marca||"",referencia:t.referencia||"",observacao:t.observacao||"",aplicacao:t.aplicacao||"",imagem:t.imagem||""},e[t.id]=t}}this.item={...this.item,...e}},async calcularTotais(e){await this.calcularImposto(),await $db.venda.calcularTotais({objsVenda:{venda:$utils.clonarV2(this.venda),carrinho:$utils.clonarV2(this.carrinho),envelopes:$utils.clonarV2(this.envelopes),itensEnvelopes:$utils.clonarV2(this.itensEnvelopes),customs:$utils.clonarV2(this.customs),oss:$utils.clonarV2(this.oss)},campoAlterado:e}).then((e=>{this.venda=e.venda})),this.calcularTributacao=this.venda.calcularTributacao,this.erroCalculo=!1,(this.venda.totalPercentualDesconto<0||this.venda.totalPercentualDesconto>100)&&(this.erroCalculo=!0),await this.calcularPesoTotal(),await this.calcularMargens()},async carrinhoCalcularTotais(e,o,t=!0){let a=this.carrinho.find((o=>o.id===e));if(a=$utils.clonarV2(a),"quantidade"===o&&-1===a.operacaoFator&&this.venda.idItemTabelaPreco){const e=await $erp().itemTabelaPreco.get(this.venda.idItemTabelaPreco);if(e){await this.configurarValoresTabelaPreco(e,a);let o=this.valoresTabelaPreco.find((e=>e.id===a.id));o.quantidadeMaiorQue&&(this.hintValorUnitario[a.id]=`>${o.quantidadeMaiorQue-1}un = ${$filters.numeroZerosDireita(o.valorVendaMaiorQue,4,2)}`),o.quantidadeMaiorQue&&a.quantidade>=o.quantidadeMaiorQue?(a.valorOriginal!==o.valorVendaMaiorQue&&(a.valorOriginal=o.valorVendaMaiorQue,a.valorItem=o.valorVendaMaiorQue,a.descontoItem=a.descontoPercentualItem=0),this.warningLabel[a.id]="Valor Diferenciado"):(a.valorOriginal!==o.valorVenda&&(a.valorOriginal=o.valorVenda,a.valorItem=o.valorVenda,a.descontoItem=a.descontoPercentualItem=0),this.warningLabel[a.id]="")}}a.valorItem>0&&a.valorItem<a.valorOriginal&&(a.valorItem=a.valorOriginal),"descontoPercentualItem"===o&&(a.descontoItem=$utils.arredondar(a.descontoPercentualItem/100*a.valorItem,4)),["descontoItem","valorItem"].includes(o)&&(a.descontoPercentualItem=$utils.arredondar(a.descontoItem/a.valorItem*100)),a.descontoItem>a.valorItem&&-1===a.operacaoFator&&(a.descontoPercentualItem=a.descontoItem=0),["subTotal"].includes(o)&&(void 0!==this.subTotal[a.id]?a.descontoItem=$utils.arredondar(a.valorItem-this.subTotal[a.id],4):a.descontoItem=$utils.arredondar(a.valorItem-a.subTotal,4),a.descontoPercentualItem=$utils.arredondar(a.descontoItem/a.valorItem*100));let i=$utils.arredondar(a.valorItem-a.descontoItem,4);a.descontoItem=$utils.arredondar(a.valorItem-i,4),$utils.arredondar(i)>$utils.arredondar(a.valorItem)&&-1===a.operacaoFator&&(i=a.valorItem,a.descontoPercentualItem=a.descontoItem=0),this.subTotal[a.id]=i,a.subTotal=$utils.arredondar(i*a.quantidade),a.total=a.subTotal,a.valorReal=i,a.valorRealTotal=a.total;const r=this.carrinho.findIndex((e=>e.id===a.id));this.carrinho.splice(r,1,a),t&&(this.unirProdutos(),await this.calcularTotais())}},props:{id:{default:"",required:!0,type:String},idContato:{type:String}},watch:{id(){this.atualizar()}},async mounted(){await this.atualizar()},created(){this.sistemaPai=$utils.sistemaPai(),this.subTotal={}}};var Hl=t(81312),Jl=t(52788);const Yl=(0,_.Z)(Gl,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("avatar"),n=(0,a.resolveComponent)("badge"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("documento-codigo"),m=(0,a.resolveComponent)("q-icon"),u=(0,a.resolveComponent)("q-item-section"),p=(0,a.resolveComponent)("q-item-label"),h=(0,a.resolveComponent)("q-item"),C=(0,a.resolveComponent)("q-list"),v=(0,a.resolveComponent)("q-menu"),f=(0,a.resolveComponent)("q-btn"),N=(0,a.resolveComponent)("q-toolbar"),V=(0,a.resolveComponent)("documento-metas"),g=(0,a.resolveComponent)("CodigoBarras"),x=(0,a.resolveComponent)("q-tooltip"),b=(0,a.resolveComponent)("campo"),w=(0,a.resolveComponent)("row"),_=(0,a.resolveComponent)("q-input"),y=(0,a.resolveComponent)("q-radio"),I=(0,a.resolveComponent)("q-toggle"),E=(0,a.resolveComponent)("faturamento"),S=(0,a.resolveComponent)("VendaTransporte"),M=(0,a.resolveComponent)("envelope"),T=(0,a.resolveComponent)("Custom"),k=(0,a.resolveComponent)("OrdemServico"),D=(0,a.resolveComponent)("prompt-item-novo"),q=(0,a.resolveComponent)("q-separator"),F=(0,a.resolveComponent)("q-card"),P=(0,a.resolveComponent)("q-dialog"),A=(0,a.resolveComponent)("ModalEditarProduto"),B=(0,a.resolveComponent)("prompt-item-tabela-preco-novo"),L=(0,a.resolveComponent)("prompt-documento-operacao"),O=(0,a.resolveComponent)("q-inner-loading"),z=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",R,[(0,a.createElementVNode)("div",G,[(0,a.createVNode)(N,{class:"Venda-barra bg-transparent q-px-md",color:"black",dark:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:(r.contatos[r.venda.idContato]||{}).imagem,rotulo:r.venda.descricaoContato,tamanho:"50"},null,8,["imagem","rotulo"]),(0,a.createVNode)(c,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",null,(0,a.toDisplayString)(r.venda.descricaoContato),1),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(n,{denso:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.descricaoClassificacaoDestinatario),1)])),_:1})])])),_:1}),(0,a.createElementVNode)("div",H,[r.margem[r.venda.id]&&r.permissaoMargem?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,documento:r.venda,prioridade:{tooltip:`| Índice ${e.$filters.numero(r.margem[r.venda.id].valor,2)}%`,cor:r.margem[r.venda.id].limite?"negative":r.margem[r.venda.id].alerta?"warning":void 0}},null,8,["documento","prioridade"])):((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,documento:r.venda},null,8,["documento"])),J,l.ehOrcamento?((0,a.openBlock)(),(0,a.createBlock)(f,{key:2,color:"tertiary",flat:"",icon:"more_vert",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{modelValue:r.menuVenda,"onUpdate:modelValue":o[6]||(o[6]=e=>r.menuVenda=e)},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(C,{link:"",separator:""},{default:(0,a.withCtx)((()=>[r.permissaoAlterarVendedor?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,clickable:"",onClick:l.alterarVendedor},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"how_to_reg"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[Y])),_:1})])),_:1})])),_:1},8,["onClick"])):(0,a.createCommentVNode)("",!0),Object.keys(r.envelopes).length||r.produtos.length?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(h,{key:1,clickable:"",onClick:l.alterarTabelaPreco},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"attach_money"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[X])),_:1})])),_:1})])),_:1},8,["onClick"])),Object.keys(r.envelopes).length||r.produtos.length?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(h,{key:2,clickable:"",onClick:l.alterarDocumentoOperacao},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"attach_money"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[W])),_:1})])),_:1})])),_:1},8,["onClick"])),(0,a.createVNode)(h,{clickable:"",onClick:l.selecionarContatoIndicacao},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"how_to_reg"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[K])),_:1})])),_:1})])),_:1},8,["onClick"]),r.documentoContato.find((e=>"comprador"===(e.descricao||"").trim().toLowerCase()))?((0,a.openBlock)(),(0,a.createBlock)(h,{key:3,clickable:"",onClick:o[0]||(o[0]=e=>l.removerComprador())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"assignment_ind"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[ee])),_:1})])),_:1})])),_:1})):((0,a.openBlock)(),(0,a.createBlock)(h,{key:4,clickable:"",onClick:o[1]||(o[1]=e=>l.selecionarComprador())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"assignment_ind"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[oe])),_:1})])),_:1})])),_:1})),r.documentoContato.find((e=>"representando"===(e.descricao||"").trim().toLowerCase()))?((0,a.openBlock)(),(0,a.createBlock)(h,{key:5,clickable:"",onClick:o[2]||(o[2]=e=>l.removerRepresentando())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"how_to_reg"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[te])),_:1})])),_:1})])),_:1})):((0,a.openBlock)(),(0,a.createBlock)(h,{key:6,clickable:"",onClick:o[3]||(o[3]=e=>l.selecionarRepresentando())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"how_to_reg"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[ae])),_:1})])),_:1})])),_:1})),r.venda.idContatoResponsavel?((0,a.openBlock)(),(0,a.createBlock)(h,{key:7,clickable:"",onClick:o[4]||(o[4]=e=>l.removerConvenio())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"input"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[ie])),_:1})])),_:1})])),_:1})):((0,a.openBlock)(),(0,a.createBlock)(h,{key:8,clickable:"",onClick:o[5]||(o[5]=e=>l.selecionarConvenio())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"input"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[re])),_:1})])),_:1})])),_:1}))])),_:1},512),[[z]])])),_:1},8,["modelValue"])])),_:1})):(0,a.createCommentVNode)("",!0),l.ehOrcamento?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(f,{key:3,icon:"undo",color:"primary",label:"Retornar para orçamento",class:"hideonmobile",onClick:l.retornarOrcamento},null,8,["onClick"]))])])),_:1}),l.ehOrcamento?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,icon:"undo",color:"primary",label:"Retornar para orçamento",class:"hideondesktop q-ma-md",onClick:l.retornarOrcamento},null,8,["onClick"])),(0,a.createVNode)(V,{ref:"documentoMetas"},null,512)]),(0,a.createElementVNode)("div",le,[(0,a.createVNode)(N,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"shopping_cart",size:"24px",class:"text-tertiary"}),(0,a.createVNode)(c,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[se])),_:1}),(0,a.createVNode)(f,{class:"hideondesktop",color:"primary",flat:"",round:"",icon:"add",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[l.ehOrcamento?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,clickable:"",onClick:l.abrirModalItem},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"add"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[ne])),_:1})])),_:1})])),_:1},8,["onClick"])),[[z]]):(0,a.createCommentVNode)("",!0),"optisoul"===r.sistemaPai&&l.ehOrcamento&&0!=r.venda.idContato?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(h,{key:1,clickable:"",onClick:o[7]||(o[7]=e=>l.abrirModalEnvelope())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"add"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[ce])),_:1})])),_:1})])),_:1},512)),[[z]]):(0,a.createCommentVNode)("",!0),l.ehOrcamento&&r.permissaoOSs?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(h,{key:2,clickable:"",onClick:o[8]||(o[8]=e=>l.abrirModalOS())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"add"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[de])),_:1})])),_:1})])),_:1},512)),[[z]]):(0,a.createCommentVNode)("",!0),l.ehOrcamento&&r.permissaoCustoms?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(h,{key:3,clickable:"",onClick:o[9]||(o[9]=e=>l.abrirModalCustom())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"add"})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[me])),_:1})])),_:1})])),_:1},512)),[[z]]):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1}),l.ehOrcamento?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"primary",flat:"",icon:"add",label:"Produto",class:"hideonmobile q-px-sm",onClick:l.abrirModalItem},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),"optisoul"===r.sistemaPai&&l.ehOrcamento&&0!=r.venda.idContato?((0,a.openBlock)(),(0,a.createBlock)(f,{key:1,color:"primary",flat:"",icon:"add",label:"Envelope",class:"hideonmobile q-px-sm",onClick:o[10]||(o[10]=e=>l.abrirModalEnvelope())})):(0,a.createCommentVNode)("",!0),l.ehOrcamento&&r.permissaoOSs?((0,a.openBlock)(),(0,a.createBlock)(f,{key:2,color:"primary",flat:"",icon:"add",label:"OS",class:"hideonmobile q-px-sm",onClick:o[11]||(o[11]=e=>l.abrirModalOS())})):(0,a.createCommentVNode)("",!0),l.ehOrcamento&&r.permissaoCustoms?((0,a.openBlock)(),(0,a.createBlock)(f,{key:3,color:"primary",flat:"",icon:"add",label:"Custom",class:"hideonmobile q-px-sm",onClick:o[12]||(o[12]=e=>l.abrirModalCustom())})):(0,a.createCommentVNode)("",!0),l.ehOrcamento?((0,a.openBlock)(),(0,a.createBlock)(g,{key:4,idEmpresa:r.venda.idEmpresa,idItemTabelaPreco:r.venda.idItemTabelaPreco,documentoItens:r.carrinho,onAdicionar:l.adicionarItem,onAtualizar:l.selecionarItens},null,8,["idEmpresa","idItemTabelaPreco","documentoItens","onAdicionar","onAtualizar"])):(0,a.createCommentVNode)("",!0)])),_:1}),Object.keys(r.envelopes).length||r.produtos.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",he,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.produtos,((o,t)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"items-carrinho items-center row q-py-sm",key:t},[o.caption?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ce,(0,a.toDisplayString)(o.caption),1)):(0,a.createCommentVNode)("",!0),o.documento?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createVNode)(C,{class:"full-width"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:o.arquivo.length?o.arquivo[0].arquivo:"",rotulo:o.documento.descricao,tamanho:"40"},null,8,["imagem","rotulo"])])),_:2},1024),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.documento.descricao),1)])),_:2},1024),(0,a.createVNode)(p,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.documento.observacao),1)])),_:2},1024)])),_:2},1024),r.margem[o.documento.id]&&r.permissaoMargem?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,avatar:""},{default:(0,a.withCtx)((()=>[r.margem[o.documento.id].limite?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0,cor:"negative",denso:"",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.documento.tipo)+" ",1),(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Índice "+(0,a.toDisplayString)(e.$filters.numero(r.margem[o.documento.id].valor,2))+"%",1)])),_:2},1024)])),_:2},1024)):r.margem[o.documento.id].alerta?((0,a.openBlock)(),(0,a.createBlock)(n,{key:1,cor:"warning",denso:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.documento.tipo)+" ",1),(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Índice "+(0,a.toDisplayString)(e.$filters.numero(r.margem[o.documento.id].valor,2))+"%",1)])),_:2},1024)])),_:2},1024)):((0,a.openBlock)(),(0,a.createBlock)(n,{key:2},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.documento.tipo)+" ",1),(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Índice "+(0,a.toDisplayString)(e.$filters.numero(r.margem[o.documento.id].valor,2))+"%",1)])),_:2},1024)])),_:2},1024))])),_:2},1024)):((0,a.openBlock)(),(0,a.createBlock)(u,{key:1,avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{denso:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.documento.tipo),1)])),_:2},1024)])),_:2},1024)),"Custom"===o.documento.tipo?((0,a.openBlock)(),(0,a.createBlock)(u,{key:2,avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ve,[(0,a.createElementVNode)("div",fe,[l.ehOrcamento&&r.permissaoCustoms?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:e=>l.abrirModalCustom(o.documento.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[Ne])),_:1})])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",Ve,[l.ehOrcamento&&r.permissaoCustoms?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"tertiary",dense:"",flat:"",icon:"delete",round:"",onClick:e=>l.removerCustom(o.documento.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[ge])),_:1})])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0)])])])),_:2},1024)):(0,a.createCommentVNode)("",!0),"Ordem de Serviço"===o.documento.tipo?((0,a.openBlock)(),(0,a.createBlock)(u,{key:3,avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",xe,[(0,a.createElementVNode)("div",be,[l.ehOrcamento&&r.permissaoOSs?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:e=>l.abrirModalOS(o.documento.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[we])),_:1})])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",_e,[l.ehOrcamento&&r.permissaoOSs?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"tertiary",dense:"",flat:"",icon:"delete",round:"",onClick:e=>l.removerOS(o.documento.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[ye])),_:1})])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0)])])])),_:2},1024)):(0,a.createCommentVNode)("",!0)])),_:2},1024)])),_:2},1024),(0,a.createElementVNode)("div",Ie,[(0,a.createVNode)(w,{class:"q-col-gutter-sm row justify-end"},{default:(0,a.withCtx)((()=>["Custom"===o.documento.tipo?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createElementVNode)("div",Ee,[(0,a.createVNode)(w,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{dense:"",align:e.$q.screen.lt.sm?"left":"right",outlined:"",tipo:"decimal",decimals:"4",zerosDireita:"2",rotulo:"Subtotal",modelValue:o.documento.subTotal,"onUpdate:modelValue":e=>o.documento.subTotal=e,"somente-leitura":!0},null,8,["align","modelValue","onUpdate:modelValue"]),(0,a.createVNode)(m,{name:"mdi-close",color:"primary"})])),_:2},1024)]),(0,a.createElementVNode)("div",Se,[l.ehOrcamento?((0,a.openBlock)(),(0,a.createBlock)(b,{key:0,dense:"",min:"1",modelValue:o.documento.numero,"onUpdate:modelValue":[e=>o.documento.numero=e,e=>l.calcularQuantidadeCustom(o.documento.id)],modelModifiers:{number:!0},outlined:"","somente-leitura":!l.ehOrcamento,tipo:"quantidade",decimals:"4",zerosDireita:"0"},null,8,["modelValue","onUpdate:modelValue","somente-leitura"])):(0,a.createCommentVNode)("",!0),l.ehOrcamento?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(_,{key:1,class:"u-campoCompacto",modelValue:o.documento.numero,"onUpdate:modelValue":e=>o.documento.numero=e,outlined:"",readonly:!l.ehOrcamento},null,8,["modelValue","onUpdate:modelValue","readonly"])),(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[Me])),_:1})]),(0,a.createElementVNode)("div",Te,[(0,a.createVNode)(w,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"mdi-equal",color:"primary",class:"hideonmobile"}),(0,a.createVNode)(b,{dense:"",tipo:"decimal",decimals:"2","somente-leitura":!0,rotulo:"Total",modelValue:o.documento.totalDocumento,"onUpdate:modelValue":e=>o.documento.totalDocumento=e,outlined:""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])],64)):(0,a.createCommentVNode)("",!0),"Ordem de Serviço"===o.documento.tipo?((0,a.openBlock)(),(0,a.createElementBlock)("div",ke,[(0,a.createVNode)(b,{dense:"",tipo:"decimal",decimals:"2",modelValue:o.documento.totalDocumento,"onUpdate:modelValue":e=>o.documento.totalDocumento=e,outlined:"",rotulo:"Total","somente-leitura":!0},null,8,["modelValue","onUpdate:modelValue"])])):(0,a.createCommentVNode)("",!0)])),_:2},1024)])],64)):(0,a.createCommentVNode)("",!0),o.id?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:2},[(0,a.createVNode)(C,{class:"full-width"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:"",class:"col-auto"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:(r.item[o.idItem]||{}).imagem,rotulo:o.descricaoItem,tamanho:"40"},null,8,["imagem","rotulo"])])),_:2},1024),(0,a.createVNode)(u,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.descricaoItem),1)])),_:2},1024),(0,a.createVNode)(p,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)((r.item[o.idItem]||{}).marca),1)])),_:2},1024)])),_:2},1024),r.margem[o.id]&&r.permissaoMargem?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,avatar:""},{default:(0,a.withCtx)((()=>[r.margem[o.id].limite?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0,cor:"negative",denso:"",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.tipoItem)+" "+(0,a.toDisplayString)((r.item[o.idItem]||{}).referencia)+" ",1),(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Índice "+(0,a.toDisplayString)(e.$filters.numero(r.margem[o.id].valor,2))+"%",1)])),_:2},1024)])),_:2},1024)):r.margem[o.id].alerta?((0,a.openBlock)(),(0,a.createBlock)(n,{key:1,cor:"warning",denso:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.tipoItem)+" "+(0,a.toDisplayString)((r.item[o.idItem]||{}).referencia)+" ",1),(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Índice "+(0,a.toDisplayString)(e.$filters.numero(r.margem[o.id].valor,2))+"%",1)])),_:2},1024)])),_:2},1024)):((0,a.openBlock)(),(0,a.createBlock)(n,{key:2,denso:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.tipoItem)+" "+(0,a.toDisplayString)((r.item[o.idItem]||{}).referencia)+" ",1),(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Índice "+(0,a.toDisplayString)(e.$filters.numero(r.margem[o.id].valor,2))+"%",1)])),_:2},1024)])),_:2},1024))])),_:2},1024)):((0,a.openBlock)(),(0,a.createBlock)(u,{key:1,avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{denso:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.tipoItem)+" "+(0,a.toDisplayString)((r.item[o.idItem]||{}).referencia),1)])),_:2},1024)])),_:2},1024)),(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",De,[(0,a.createElementVNode)("div",qe,[l.ehOrcamento?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:e=>l.editarProduto(o)},null,8,["onClick"])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",Fe,[l.ehOrcamento?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"tertiary",dense:"",flat:"",icon:"delete",round:"",onClick:e=>l.removerItem(o.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[Pe])),_:1})])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0)])])])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.createElementVNode)("div",Ae,[(0,a.createVNode)(w,{class:"q-col-gutter-sm"},{default:(0,a.withCtx)((()=>["Envelope"!==o.tipoItem?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"col-4 col-md",warning:!!r.warningLabel[o.id],"warning-label":r.warningLabel[o.id]},[(0,a.createVNode)(w,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{dense:"",align:"left",tipo:"decimal",decimals:"4",zerosDireita:"2",outlined:"","somente-leitura":1===o.operacaoFator,modelValue:o.valorItem,"onUpdate:modelValue":e=>o.valorItem=e,rotulo:"Valor do produto",onBlur:e=>l.carrinhoCalcularTotais(o.id,"valorItem"),aviso:"",avisoRotulo:r.hintValorUnitario[o.id]},null,8,["somente-leitura","modelValue","onUpdate:modelValue","onBlur","avisoRotulo"])])),_:2},1024)],8,Be)):(0,a.createCommentVNode)("",!0),"Envelope"!==o.tipoItem?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createElementVNode)("div",Le,[(0,a.createVNode)(w,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"mdi-minus",color:"primary"}),(0,a.createVNode)(b,{dense:"",opcoes:{maximumValue:100},tipo:"decimal",decimals:"2",rotulo:"Desconto percentual",modelValue:o.descontoPercentualItem,"onUpdate:modelValue":e=>o.descontoPercentualItem=e,outlined:"","somente-leitura":!l.ehOrcamento||1===o.operacaoFator,suffix:"%",onBlur:e=>l.carrinhoCalcularTotais(o.id,"descontoPercentualItem")},null,8,["modelValue","onUpdate:modelValue","somente-leitura","onBlur"])])),_:2},1024)]),(0,a.createElementVNode)("div",Oe,[(0,a.createVNode)(b,{dense:"",opcoes:{maximumValue:o.valorItem,minimumValue:0},tipo:"decimal",decimals:"4",zerosDireita:"2",modelValue:o.descontoItem,"onUpdate:modelValue":e=>o.descontoItem=e,outlined:"",rotulo:"Desconto em reais","somente-leitura":!l.ehOrcamento||1===o.operacaoFator,prefix:"R$",onBlur:e=>l.carrinhoCalcularTotais(o.id,"descontoItem")},null,8,["opcoes","modelValue","onUpdate:modelValue","somente-leitura","onBlur"])])],64)):(0,a.createCommentVNode)("",!0),"Envelope"!==o.tipoItem?((0,a.openBlock)(),(0,a.createElementBlock)("div",ze,[(0,a.createVNode)(w,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"mdi-equal",color:"primary",class:"hideonmobile"}),(0,a.createVNode)(b,{dense:"",align:e.$q.screen.lt.sm?"left":"right",outlined:"",opcoes:{maximumValue:o.valorItem,minimumValue:0},rotulo:"Subtotal",tipo:"decimal",decimals:"4",zerosDireita:"2","model-value":l.subtotal2(o.id),"somente-leitura":!l.ehOrcamento||1===o.operacaoFator,onBlur:e=>l.carrinhoCalcularTotais(o.id,"subTotal"),"onUpdate:modelValue":t=>{e.subTotal[o.id]=t}},null,8,["align","opcoes","model-value","somente-leitura","onBlur","onUpdate:modelValue"])])),_:2},1024)])):(0,a.createCommentVNode)("",!0),"Envelope"!==o.tipoItem?((0,a.openBlock)(),(0,a.createElementBlock)("div",je,[(0,a.createVNode)(w,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"mdi-close",color:"primary"}),l.ehOrcamento?((0,a.openBlock)(),(0,a.createBlock)(b,{key:0,dense:"",max:o.quantidadeDisponivel,min:"0",outlined:"",modelValue:o.quantidade,"onUpdate:modelValue":[e=>o.quantidade=e,e=>l.carrinhoCalcularTotais(o.id,"quantidade")],"somente-leitura":!l.ehOrcamento,tipo:"quantidade",decimals:"4",aviso:"",avisoRotulo:(r.item[o.idItem]||{}).embalagem},null,8,["max","modelValue","onUpdate:modelValue","somente-leitura","avisoRotulo"])):(0,a.createCommentVNode)("",!0),l.ehOrcamento?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(_,{key:1,class:"u-campoCompacto",modelValue:o.quantidade,"onUpdate:modelValue":e=>o.quantidade=e,readonly:!l.ehOrcamento},null,8,["modelValue","onUpdate:modelValue","readonly"])),(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[$e])),_:1})])),_:2},1024)])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",Ue,[(0,a.createVNode)(w,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"mdi-equal",color:"primary",class:"hideonmobile"}),(0,a.createVNode)(b,{dense:"",tipo:"decimal",decimals:"2",rotulo:"Total","somente-leitura":!0,modelValue:o.total,"onUpdate:modelValue":e=>o.total=e,outlined:""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])])),_:2},1024)])],64)):(0,a.createCommentVNode)("",!0)])))),128)),(0,a.createElementVNode)("div",Ze,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.envelopes,(o=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"items-carrinho items-center row q-py-sm",key:o.id},[(0,a.createVNode)(C,{class:"full-width"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{imagem:(r.contatos[o.idContato]||{}).imagem,rotulo:o.tipo,tamanho:"40"},null,8,["imagem","rotulo"])])),_:2},1024),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"text-body1"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.descricaoEnvelope(o.id)),1)])),_:2},1024),(0,a.createVNode)(p,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.descricaoContato),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[r.margem[o.id]&&r.permissaoMargem?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[r.margem[o.id].limite?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0,cor:"negative",denso:"",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.tipo)+" ",1),(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Índice "+(0,a.toDisplayString)(e.$filters.numero(r.margem[o.id].valor,2))+"%",1)])),_:2},1024)])),_:2},1024)):r.margem[o.id].alerta?((0,a.openBlock)(),(0,a.createBlock)(n,{key:1,cor:"warning",denso:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.tipo)+" ",1),(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Índice "+(0,a.toDisplayString)(e.$filters.numero(r.margem[o.id].valor,2))+"%",1)])),_:2},1024)])),_:2},1024)):((0,a.openBlock)(),(0,a.createBlock)(n,{key:2,denso:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.tipo)+" ",1),(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Índice "+(0,a.toDisplayString)(e.$filters.numero(r.margem[o.id].valor,2))+"%",1)])),_:2},1024)])),_:2},1024))],64)):((0,a.openBlock)(),(0,a.createBlock)(n,{key:1,denso:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.tipo),1)])),_:2},1024))])),_:2},1024),(0,a.createVNode)(u,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Qe,[(0,a.createElementVNode)("div",Re,[l.ehOrcamento?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:e=>l.abrirModalEnvelope(o.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[Ge])),_:1})])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",He,[l.ehOrcamento?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"primary",dense:"",flat:"",icon:"open_in_browser",round:"",onClick:e=>l.abrirModalEnvelope(o.id)},null,8,["onClick"])),l.ehOrcamento?((0,a.openBlock)(),(0,a.createBlock)(f,{key:1,color:"tertiary",dense:"",flat:"",icon:"delete",round:"",onClick:e=>l.removerEnvelope(o.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[Je])),_:1})])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0)])])])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.createElementVNode)("div",Ye,[(0,a.createVNode)(w,{class:"q-col-gutter-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{dense:"",tipo:"decimal",decimals:"2",modelValue:o.totalDocumento,"onUpdate:modelValue":e=>o.totalDocumento=e,outlined:"",rotulo:"Total","somente-leitura":!0},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])])))),128))]),r.produtos.length||Object.keys(r.envelopes).length?((0,a.openBlock)(),(0,a.createElementBlock)("div",Xe,[(0,a.createElementVNode)("div",We,[l.ehOrcamento?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ke,[eo,(0,a.createElementVNode)("strong",oo,(0,a.toDisplayString)(e.$filters.numero(r.venda.subTotal,2)),1)])):(0,a.createCommentVNode)("",!0),l.ehOrcamento?((0,a.openBlock)(),(0,a.createElementBlock)("div",to,[ao,(0,a.createElementVNode)("div",io,[(0,a.createVNode)(b,{"somente-leitura":!l.ehOrcamento,opcoes:{maximumValue:100},tipo:"decimal",decimals:"2",modelValue:r.venda.totalPercentualDesconto,"onUpdate:modelValue":[o[13]||(o[13]=e=>r.venda.totalPercentualDesconto=e),o[14]||(o[14]=e=>l.calcularTotais("totalPercentualDesconto"))],suffix:"%",erro:r.erroCalculo},null,8,["somente-leitura","modelValue","erro"])]),(0,a.createElementVNode)("div",ro,[(0,a.createVNode)(b,{"somente-leitura":!l.ehOrcamento,opcoes:{maximumValue:r.venda.subTotal,minimumValue:0},tipo:"decimal",decimals:"2",modelValue:r.venda.totalDesconto,"onUpdate:modelValue":[o[15]||(o[15]=e=>r.venda.totalDesconto=e),o[16]||(o[16]=e=>l.calcularTotais("totalDesconto"))],erro:r.erroCalculo},null,8,["somente-leitura","opcoes","modelValue","erro"])])])):(0,a.createCommentVNode)("",!0),l.ehOrcamento?((0,a.openBlock)(),(0,a.createElementBlock)("div",lo,[so,(0,a.createElementVNode)("div",no,[(0,a.createVNode)(y,{class:"q-mr-md",label:"CIF",val:"CIF",modelValue:r.venda.tipoFrete,"onUpdate:modelValue":[o[17]||(o[17]=e=>r.venda.tipoFrete=e),l.calcularTotais],readonly:!l.ehOrcamento,dense:""},null,8,["modelValue","readonly","onUpdate:modelValue"]),(0,a.createVNode)(y,{label:"FOB",val:"FOB",modelValue:r.venda.tipoFrete,"onUpdate:modelValue":[o[18]||(o[18]=e=>r.venda.tipoFrete=e),l.calcularTotais],readonly:!l.ehOrcamento,dense:""},null,8,["modelValue","readonly","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",co,[(0,a.createVNode)(b,{opcoes:{maximumValue:r.venda.subTotal,minimumValue:0},tipo:"decimal",decimals:"2","somente-leitura":!l.ehOrcamento,modelValue:r.venda.valorFrete,"onUpdate:modelValue":[o[19]||(o[19]=e=>r.venda.valorFrete=e),l.calcularTotais]},null,8,["opcoes","somente-leitura","modelValue","onUpdate:modelValue"])])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",mo,[uo,(0,a.createElementVNode)("strong",po,(0,a.toDisplayString)(e.$filters.numero(r.venda.totalDocumento-(r.calcularTributacao?(r.imposto.valorIpi||0)+(r.imposto.valorIcmsSt||0)+(r.imposto.valorDifal||0):0),2)),1)]),r.imposto.valorIpi||r.imposto.valorIcmsSt||r.imposto.valorDifal?((0,a.openBlock)(),(0,a.createElementBlock)("div",ho,[l.ehOrcamento&&r.imposto.valorIpi?((0,a.openBlock)(),(0,a.createElementBlock)("div",Co,[vo,(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["col text-right",{"text-strike":!r.calcularTributacao}])},(0,a.toDisplayString)(e.$filters.numero(r.imposto.valorIpi,2)),3)])):(0,a.createCommentVNode)("",!0),l.ehOrcamento&&r.imposto.valorIcmsSt?((0,a.openBlock)(),(0,a.createElementBlock)("div",fo,[No,(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["col text-right",{"text-strike":!r.calcularTributacao}])},(0,a.toDisplayString)(e.$filters.numero(r.imposto.valorIcmsSt,2)),3)])):(0,a.createCommentVNode)("",!0),l.ehOrcamento&&r.imposto.valorDifal?((0,a.openBlock)(),(0,a.createElementBlock)("div",Vo,[go,(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["col text-right",{"text-strike":!r.calcularTributacao}])},(0,a.toDisplayString)(e.$filters.numero(r.imposto.valorDifal,2)),3)])):(0,a.createCommentVNode)("",!0),l.ehOrcamento?((0,a.openBlock)(),(0,a.createElementBlock)("div",xo,[(0,a.createElementVNode)("div",bo,[wo,(0,a.createVNode)(I,{modelValue:r.venda.calcularTributacao,"onUpdate:modelValue":[o[20]||(o[20]=e=>r.venda.calcularTributacao=e),l.calcularTotais],"checked-icon":"check",color:"green","unchecked-icon":"clear"},null,8,["modelValue","onUpdate:modelValue"])]),(0,a.createElementVNode)("strong",_o,(0,a.toDisplayString)(e.$filters.numero(r.venda.totalDocumento,2)),1)])):(0,a.createCommentVNode)("",!0)])):(0,a.createCommentVNode)("",!0),r.pesoTotal?((0,a.openBlock)(),(0,a.createElementBlock)("div",yo,[Io,(0,a.createElementVNode)("span",Eo,(0,a.toDisplayString)(r.pesoTotal),1)])):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0)])):((0,a.openBlock)(),(0,a.createElementBlock)("div",ue,pe))]),(0,a.createElementVNode)("div",So,[(0,a.createVNode)(E,{documento:r.venda,onMudou:l.faturamentoAtualizar,ref:"faturamento"},null,8,["documento","onMudou"])]),r.venda.idContato&&"optisoul"!==r.sistemaPai?((0,a.openBlock)(),(0,a.createElementBlock)("div",Mo,[(0,a.createVNode)(S,{idContatoCliente:r.venda.idContato,ref:"transporte"},null,8,["idContatoCliente"])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",To,[Object.keys(r.envelopes).length||r.produtos.length?((0,a.openBlock)(),(0,a.createBlock)(N,{key:0,class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"description",size:"24px"}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[ko])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",Do,[(0,a.createVNode)(w,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",qo,[(0,a.createVNode)(b,{modelValue:r.venda.observacao,"onUpdate:modelValue":o[21]||(o[21]=e=>r.venda.observacao=e),tipo:"textoArea",rotulo:"Observação","somente-leitura":!l.estaAberto},null,8,["modelValue","somente-leitura"])]),(0,a.createElementVNode)("div",Fo,[(0,a.createVNode)(b,{modelValue:r.venda.observacaoInterna,"onUpdate:modelValue":o[22]||(o[22]=e=>r.venda.observacaoInterna=e),tipo:"textoArea",rotulo:"Observação interna","somente-leitura":!l.estaAberto},null,8,["modelValue","somente-leitura"])]),(0,a.createElementVNode)("div",Po,[(0,a.createVNode)(b,{modelValue:r.venda.numeroOrdemCompra,"onUpdate:modelValue":o[23]||(o[23]=e=>r.venda.numeroOrdemCompra=e),autogrow:"",rotulo:"Ordem de Compra","somente-leitura":!l.estaAberto,maxlength:"50"},null,8,["modelValue","somente-leitura"])])])),_:1})])]),(0,a.createVNode)(M,{ref:"modalEnvelope",onSalvarEnvelope:l.salvarEnvelope},null,8,["onSalvarEnvelope"]),(0,a.createVNode)(T,{ref:"modalCustom",onSalvar:l.salvarCustom},null,8,["onSalvar"]),(0,a.createVNode)(k,{ref:"modalOS",onSalvar:l.salvarOS},null,8,["onSalvar"]),(0,a.createVNode)(D,{modelValue:r.modalItem,"onUpdate:modelValue":o[24]||(o[24]=e=>r.modalItem=e),filtro:{ativo:!0,idTabelaPreco:r.venda.idItemTabelaPreco,idEmpresa:r.venda.idEmpresa,idContato:r.venda.idContato},onSelecionarItens:l.selecionarItens,habilitarQuantidade:!0,ref:"promptItem"},null,8,["modelValue","filtro","onSelecionarItens"]),(0,a.createVNode)(P,{modelValue:r.modalDescontoMaximo.visivel,"onUpdate:modelValue":o[28]||(o[28]=e=>r.modalDescontoMaximo.visivel=e),minimized:"",onHide:o[29]||(o[29]=e=>r.modalDescontoMaximo.reject())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(F,{class:"q-dialog-plugin"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.modalDescontoMaximo.titulo),1)])),_:1}),(0,a.withDirectives)((0,a.createVNode)(f,{dense:"",flat:"",icon:"close",round:""},null,512),[[z]])])),_:1}),(0,a.createElementVNode)("div",Ao,[(0,a.createElementVNode)("form",{class:"q-pa-sm",onSubmit:o[27]||(o[27]=(0,a.withModifiers)((e=>r.modalDescontoMaximo.resolve()),["prevent"]))},[(0,a.createVNode)(C,{"no-border":"",dense:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.modalDescontoMaximo.itens,((e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:o+e.descricao},[o?((0,a.openBlock)(),(0,a.createBlock)(q,{key:0})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{header:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.descricao)+" ",1),(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Máximo permitido: "+(0,a.toDisplayString)(e.maximoDesconto)+"% ",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)],64)))),128)),r.modalDescontoMaximo.msg?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[r.modalDescontoMaximo.itens.length?((0,a.openBlock)(),(0,a.createBlock)(q,{key:0})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{header:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.modalDescontoMaximo.msg),1)])),_:1})])),_:1})])),_:1})],64)):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createElementVNode)("div",Bo,[(0,a.withDirectives)((0,a.createVNode)(f,{color:"tertiary",flat:"",label:"Cancelar"},null,512),[[z]]),(0,a.createVNode)(f,{color:"primary",class:"q-ml-sm no-shadow",label:"Continuar",unelevated:"",onClick:o[25]||(o[25]=e=>r.modalDescontoMaximo.resolve("continuar"))}),r.modalDescontoMaximo.permiteDescontoMaximo?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"primary",class:"q-ml-sm no-shadow",unelevated:"",label:"Aprovar",onClick:o[26]||(o[26]=e=>r.modalDescontoMaximo.resolve("aprovar"))})):(0,a.createCommentVNode)("",!0)])],32)])])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(P,{modelValue:r.modalItemSemEstoque.visivel,"onUpdate:modelValue":o[32]||(o[32]=e=>r.modalItemSemEstoque.visivel=e),minimized:"",onShow:o[33]||(o[33]=o=>e.$q.loading.hide()),onHide:o[34]||(o[34]=e=>r.modalItemSemEstoque.reject())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(F,{class:"q-dialog-plugin"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)((r.modalItemSemEstoque.itens||[]).length>1?"Itens":"Item")+" sem estoque ",1)])),_:1}),(0,a.withDirectives)((0,a.createVNode)(f,{dense:"",flat:"",icon:"close",round:""},null,512),[[z]])])),_:1}),(0,a.createElementVNode)("div",Lo,[(0,a.createElementVNode)("form",Oo,[(0,a.createVNode)(C,{"no-border":"",dense:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.modalItemSemEstoque.itens,((e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:o+e.descricao},[o?((0,a.openBlock)(),(0,a.createBlock)(q,{key:0})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{header:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.descricao),1)])),_:2},1024),(0,a.createVNode)(p,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Estoque: "+(0,a.toDisplayString)(e.saldo)+" ",1),e.offline?((0,a.openBlock)(),(0,a.createElementBlock)("span",zo,"(Offline)")):(0,a.createCommentVNode)("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)],64)))),128))])),_:1}),(0,a.createVNode)(C,{"no-border":"",dense:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.modalItemSemEstoque.opcoes,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(h,{key:t},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{modelValue:r.modalItemSemEstoque.opcao,"onUpdate:modelValue":o[30]||(o[30]=e=>r.modalItemSemEstoque.opcao=e),class:"q-mr-sm",label:e.label,val:e.value},null,8,["modelValue","label","val"])])),_:2},1024)])),_:2},1024)))),128))])),_:1}),(0,a.createElementVNode)("div",jo,[(0,a.withDirectives)((0,a.createVNode)(f,{color:"tertiary",flat:"",label:"Cancelar"},null,512),[[z]]),(0,a.createVNode)(f,{color:"primary",class:"q-ml-sm no-shadow",label:"Finalizar",unelevated:"",onClick:o[31]||(o[31]=e=>r.modalItemSemEstoque.resolve("finalizar"))})])])])])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(P,{modelValue:r.modalCreditoDisponivel.visivel,"onUpdate:modelValue":o[37]||(o[37]=e=>r.modalCreditoDisponivel.visivel=e),minimized:"",onHide:o[38]||(o[38]=e=>r.modalCreditoDisponivel.reject())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(F,{class:"q-dialog-plugin"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.modalCreditoDisponivel.title),1)])),_:1}),(0,a.withDirectives)((0,a.createVNode)(f,{dense:"",flat:"",icon:"close",round:""},null,512),[[z]])])),_:1}),(0,a.createElementVNode)("div",$o,[(0,a.createElementVNode)("form",Uo,[(0,a.createVNode)(C,{"no-border":"",dense:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{header:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.modalCreditoDisponivel.body),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createElementVNode)("div",Zo,[(0,a.withDirectives)((0,a.createVNode)(f,{color:"tertiary",flat:"",label:"Cancelar"},null,512),[[z]]),(0,a.createVNode)(f,{color:"primary",class:"q-ml-sm no-shadow",label:"Continuar",unelevated:"",onClick:o[35]||(o[35]=e=>r.modalCreditoDisponivel.resolve("continuar"))}),r.modalCreditoDisponivel.permiteFinalizar?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"primary",class:"q-ml-sm no-shadow",unelevated:"",label:"Aprovar",onClick:o[36]||(o[36]=e=>r.modalCreditoDisponivel.resolve("aprovar"))})):(0,a.createCommentVNode)("",!0)])])])])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(P,{modelValue:r.modalProdutoControlado.visivel,"onUpdate:modelValue":o[40]||(o[40]=e=>r.modalProdutoControlado.visivel=e),minimized:"",onHide:o[41]||(o[41]=e=>r.modalProdutoControlado.reject())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(F,{class:"q-dialog-plugin"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[Qo])),_:1}),(0,a.withDirectives)((0,a.createVNode)(f,{dense:"",flat:"",icon:"close",round:""},null,512),[[z]])])),_:1}),(0,a.createElementVNode)("div",Ro,[(0,a.createElementVNode)("form",{class:"q-pa-sm",onSubmit:o[39]||(o[39]=(0,a.withModifiers)((e=>r.modalProdutoControlado.resolve()),["prevent"]))},[(0,a.createVNode)(C,{"no-border":"",dense:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.modalProdutoControlado.itens,((e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:o+e.descricao},[o?((0,a.openBlock)(),(0,a.createBlock)(q,{key:0})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{header:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.descricao)+" ",1),(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.tooltip),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)],64)))),128))])),_:1}),(0,a.createElementVNode)("div",Go,[(0,a.withDirectives)((0,a.createVNode)(f,{color:"tertiary",flat:"",label:"Cancelar"},null,512),[[z]]),r.modalProdutoControlado.permiteQuantidadeExcedida?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,color:"primary",class:"q-ml-sm no-shadow",unelevated:"",label:"Continuar",type:"submit"})):(0,a.createCommentVNode)("",!0)])],32)])])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)(A,{ref:"modalEditarProduto",onSalvar:l.salvarEdicaoProduto},null,8,["onSalvar"]),(0,a.createVNode)(B,{ref:"promptItemTabelaPreco",onSelecionar:l.selecionarItemTabelaPreco},null,8,["onSelecionar"]),(0,a.createVNode)(L,{ref:"promptDocumentoOperacao",onSelecionar:l.selecionarDocumentoOperacaoViaPrompt},null,8,["onSelecionar"]),(0,a.createVNode)(O,{color:"primary",size:"50px",visible:r.exibirCarregando},null,8,["visible"])])}]]);j()(Gl,"components",{QToolbar:S.Z,QToolbarTitle:T.Z,QBtn:M.Z,QMenu:k.Z,QList:D.Z,QItem:F.Z,QItemSection:Ft.Z,QIcon:A.Z,QItemLabel:q.Z,QTooltip:Pt.Z,QInput:L.Z,QRadio:P.Z,QToggle:Hl.Z,QDialog:y.Z,QCard:qt.Z,QSeparator:kl.Z,QInnerLoading:Jl.Z}),j()(Gl,"directives",{ClosePopup:O.Z});const Xl={components:{CodigoBarras:Q,Venda:Yl},data:()=>({titulo:"",venda:{},vendaVisivel:!1,visivel:!1,id:"",idContato:"",visibilidade:{botao:{cancelar:!1,finalizar:!1,naoAprovado:!1,salvar:!1}}}),emits:["executar"],methods:{voltar(e){e.stopPropagation(),$q.dialog({message:"Deseja descartar as modificações?",title:"Atenção!",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Descartar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{this.fechar()}))},async atualizar(){let e;try{e=setTimeout((()=>{$q.loading.show({message:"Carregando informações...",boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary"})}),500);let o="Venda",t={id:$utils.uuid(),idContato:this.idContato,tipo:"Venda",status:"Orçamento"};this.id&&(t=await $db.venda.leNew({id:this.id})),o+=" - "+t.status,this.venda=t,this.titulo=o,this.visibilidade.botao.finalizar=!1,this.visibilidade.botao.naoAprovado=!1,this.visibilidade.botao.salvar=!1,["Aguardando Liberação","Aguardando Estoque","Aguardando Financeiro","Orçamento"].includes(t.status)&&(this.visibilidade.botao.finalizar=!0,this.visibilidade.botao.naoAprovado=!0,this.visibilidade.botao.salvar=!0)}finally{clearTimeout(e),$q.loading.hide()}},async executar(e){switch(e){case"cancelar":await this.$refs.venda.cancelar();break;case"finalizar":if(!await this.$refs.venda.finalizar())return;{let e=await $db.documento.le({id:this.venda.id});e.idFatura&&localStorage.setItem("idFatura",e.idFatura)}break;case"reprovar":if(!await this.$refs.venda.reprovarOrcamento())return}this.$emit("executar",e),this.fechar()},fechar(){this.visivel=!1},async mostrar(e={}){this.id=e.id,this.idContato=e.idContato,await this.atualizar(),this.visivel=!0,await this.$nextTick(),this.vendaVisivel=!0},onHide(){this.titulo="",this.venda={},this.vendaVisivel=!1,this.visibilidade={botao:{cancelar:!1,finalizar:!1,naoAprovado:!1,salvar:!1}}},async salvar(){await this.$refs.venda.salvarVenda()&&(this.$emit("executar","atualizar"),this.fechar())}}},Wl=(0,_.Z)(Xl,[["render",function(e,o,t,c,d,m){const u=(0,a.resolveComponent)("q-btn"),p=(0,a.resolveComponent)("q-toolbar-title"),h=(0,a.resolveComponent)("q-toolbar"),C=(0,a.resolveComponent)("q-header"),v=(0,a.resolveComponent)("venda"),f=(0,a.resolveComponent)("q-page-container"),N=(0,a.resolveComponent)("CodigoBarras"),V=(0,a.resolveComponent)("q-footer"),g=(0,a.resolveComponent)("q-layout"),x=(0,a.resolveComponent)("q-dialog");return(0,a.openBlock)(),(0,a.createBlock)(x,{id:"VendaModal",modelValue:d.visivel,"onUpdate:modelValue":o[5]||(o[5]=e=>d.visivel=e),persistent:"",maximized:"",onHide:m.onHide,onKeyup:(0,a.withKeys)(m.voltar,["esc"])},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{dense:"",flat:"",icon:"arrow_back",round:"",clikable:"",onClick:m.voltar},null,8,["onClick"]),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(d.titulo),1)])),_:1}),d.visibilidade.botao.salvar?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,class:"q-ml-sm no-shadow",color:"white",label:"Salvar",unelevated:"","text-color":"primary",onClick:m.salvar},null,8,["onClick"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("div",r,[d.venda.id?((0,a.openBlock)(),(0,a.createBlock)(v,{key:0,ref:"venda",id:d.venda.id,idContato:d.venda.idContato,onExecutar:m.executar,onFechar:m.fechar},null,8,["id","idContato","onExecutar","onFechar"])):(0,a.createCommentVNode)("",!0)])])])),_:1}),(0,a.createVNode)(V,{bordered:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("div",s,[d.vendaVisivel?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,class:"bg-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[e.$refs.venda.ehOrcamento?((0,a.openBlock)(),(0,a.createBlock)(N,{key:0,idEmpresa:e.$refs.venda.idEmpresa,idItemTabelaPreco:e.$refs.venda.idItemTabelaPreco,documentoItens:e.$refs.venda.carrinho,onAdicionar:e.$refs.venda.adicionarItem,onAtualizar:e.$refs.venda.selecionarItens},null,8,["idEmpresa","idItemTabelaPreco","documentoItens","onAdicionar","onAtualizar"])):(0,a.createCommentVNode)("",!0)])),_:1}),e.$refs.venda.ehOrcamento?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,class:"q-px-sm",color:"primary",icon:"add",label:"Produto",flat:"",onClick:e.$refs.venda.abrirModalItem},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),"optisoul"===e.$refs.venda.sistemaPai&&e.$refs.venda.ehOrcamento&&0!=e.$refs.venda.venda.idContato?((0,a.openBlock)(),(0,a.createBlock)(u,{key:1,class:"q-px-sm",color:"primary",flat:"",icon:"add",label:"Envelope",onClick:o[0]||(o[0]=o=>e.$refs.venda.abrirModalEnvelope())})):(0,a.createCommentVNode)("",!0),e.$refs.venda.ehOrcamento&&e.$refs.venda.permissaoOSs?((0,a.openBlock)(),(0,a.createBlock)(u,{key:2,class:"q-px-sm",color:"primary",flat:"",icon:"add",label:"OS",onClick:o[1]||(o[1]=o=>e.$refs.venda.abrirModalOS())})):(0,a.createCommentVNode)("",!0),e.$refs.venda.ehOrcamento&&e.$refs.venda.permissaoCustoms?((0,a.openBlock)(),(0,a.createBlock)(u,{key:3,class:"q-px-sm",color:"primary",icon:"add",label:"Custom",flat:"",onClick:o[2]||(o[2]=o=>e.$refs.venda.abrirModalCustom())})):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0)])]),(0,a.createElementVNode)("div",n,[(0,a.createVNode)(h,{class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"text-right"},{default:(0,a.withCtx)((()=>[d.visibilidade.botao.naoAprovado?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,class:"q-mx-md",color:"negative",flat:"",label:"Não aprovado",onClick:o[3]||(o[3]=e=>m.executar("reprovar"))})):(0,a.createCommentVNode)("",!0),d.visibilidade.botao.finalizar?((0,a.openBlock)(),(0,a.createBlock)(u,{key:1,color:"primary",label:"Finalizar",unelevated:"",onClick:o[4]||(o[4]=e=>m.executar("finalizar"))})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])])),_:1})])),_:1})])),_:1},8,["modelValue","onHide","onKeyup"])}]]);j()(Xl,"components",{QDialog:y.Z,QLayout:I.Z,QHeader:E.Z,QToolbar:S.Z,QBtn:M.Z,QToolbarTitle:T.Z,QPageContainer:Dt.Z,QFooter:At.Z})},7329:(e,o,t)=>{"use strict";t.d(o,{Z:()=>E});var a=t(34182);const i={class:"layout-padding",container:""},r={key:0},l={class:"col-12"},s={class:"col-12"},n={key:1,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"},c={components:{Badge:t(72407).Z},computed:{dadosEncontrados(){return this.dados.length}},data:()=>({carregando:!1,dados:[],dado:{},filtro:{},placeholder:"Buscar",termo:"",visivel:!1}),emits:["selecionar"],methods:{async filtrar(){if(!this.termo)return;let e;try{this.carregando=!0,e=setTimeout((()=>{$q.loading.show({message:"Carregando informações...",boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary"})}),500);const o=await $utils.geeksApi({hibrido:{funcao:"741886FF-5D81-4687-8459-6E64258ED716",termoBusca:this.termo}});this.dados=((o||{}).data||{}).hibrido||[]}finally{this.carregando=!1,clearTimeout(e),$q.loading.hide()}},limpar(){this.carregando=!1,this.dados=[],this.dado={},this.filtro={},this.placeholder="Contato, documento, equipamento...",this.termo=""},mostrar(){this.filtrar(),this.visivel=!0},onHide(){this.dado.id&&this.$emit("selecionar",JSON.parse(JSON.stringify(this.dado))),this.limpar()},onShow(){this.$refs.search.focus()},selecionar(e={}){this.dado=e,this.visivel=!1}}};var d=t(74260),m=t(39341),u=t(63626),p=t(54553),h=t(47266),C=t(76210),v=t(48761),f=t(86952),N=t(7112),V=t(25901),g=t(77953),x=t(60880),b=t(31106),w=t(83831),_=t(98586),y=t(7518),I=t.n(y);const E=(0,d.Z)(c,[["render",function(e,o,t,c,d,m){const u=(0,a.resolveComponent)("q-btn"),p=(0,a.resolveComponent)("q-input"),h=(0,a.resolveComponent)("q-toolbar-title"),C=(0,a.resolveComponent)("q-toolbar"),v=(0,a.resolveComponent)("q-header"),f=(0,a.resolveComponent)("badge"),N=(0,a.resolveComponent)("q-item-section"),V=(0,a.resolveComponent)("q-item-label"),g=(0,a.resolveComponent)("row"),x=(0,a.resolveComponent)("q-item"),b=(0,a.resolveComponent)("q-separator"),w=(0,a.resolveComponent)("q-list"),_=(0,a.resolveComponent)("q-page-container"),y=(0,a.resolveComponent)("q-layout"),I=(0,a.resolveComponent)("q-dialog"),E=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(I,{modelValue:d.visivel,"onUpdate:modelValue":o[1]||(o[1]=e=>d.visivel=e),maximized:"",onHide:o[2]||(o[2]=e=>m.onHide()),onShow:o[3]||(o[3]=e=>m.onShow())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{class:"bg-white",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(u,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[E]]),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:d.termo,"onUpdate:modelValue":[o[0]||(o[0]=e=>d.termo=e),m.filtrar],modelModifiers:{trim:!0},color:"none",ref:"search",dark:"",placeholder:d.placeholder,debounce:"1000",standout:"",filled:"",dense:"",clearable:"","clear-icon":"close"},null,8,["modelValue","placeholder","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(_,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",i,[m.dadosEncontrados?((0,a.openBlock)(),(0,a.createElementBlock)("div",r,[(0,a.createVNode)(w,{class:"rounded-borders"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(d.dados,(e=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:e.id+e.c3},[(0,a.createVNode)(x,{clickable:"",onClick:o=>m.selecionar(e),class:"items-center d-flex q-py-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{avatar:"",class:"hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{cor:"positive",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.tipo),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(N,{class:"hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.c1),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(N,{class:"hideondesktop"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{cor:"positive",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.tipo),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(V,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.c1),1)])),_:2},1024),(0,a.createVNode)(V,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.c2),1)])),_:2},1024),(0,a.createVNode)(V,{class:"q-my-xs",caption:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.c3.split("%;%").filter((e=>(e||"").trim()&&e.split(":").filter((e=>e.trim())).length>1)),(e=>((0,a.openBlock)(),(0,a.createBlock)(g,{key:e},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",l,(0,a.toDisplayString)(e),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024),(0,a.createVNode)(N,{class:"hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.c2),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(N,{class:"hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{caption:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.c3.split("%;%").filter((e=>(e||"").trim()&&e.split(":").filter((e=>e.trim())).length>1)),(e=>((0,a.openBlock)(),(0,a.createBlock)(g,{key:e},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",s,(0,a.toDisplayString)(e),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"]),(0,a.createVNode)(b)],64)))),128))])),_:1})])):(0,a.createCommentVNode)("",!0),d.carregando||m.dadosEncontrados?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",n," Nenhum resultado encontrado "))])])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);I()(c,"components",{QDialog:m.Z,QLayout:u.Z,QHeader:p.Z,QToolbar:h.Z,QBtn:C.Z,QToolbarTitle:v.Z,QInput:f.Z,QPageContainer:N.Z,QList:V.Z,QItem:g.Z,QItemSection:x.Z,QItemLabel:b.Z,QSeparator:w.Z}),I()(c,"directives",{ClosePopup:_.Z})},26531:(e,o,t)=>{"use strict";t.d(o,{Z:()=>P});var a=t(34182);const i={class:"text-subtitle1 text-weight-bold hideonmobile"},r=(0,a.createTextVNode)("Abrir tudo"),l=(0,a.createTextVNode)("Download"),s={class:"container-fluid q-py-md bg-white hideonmobile",style:{"border-bottom":"1px solid rgba(0, 0, 0, 0.12)"}},n={class:"row q-col-gutter-x-md q-ma-none"},c=(0,a.createTextVNode)("Filtro Avançado"),d={class:"q-pa-md"},m={class:"row q-col-gutter-x-sm q-pa-md"};t(84830);const u={components:{},data:()=>({permissaoFicha:!0,permissaoEstoque:!0,showFilters:!1,showAllPreviewDetail:!1,checkboxModelInterno:!1,buscaCampoInterno:""}),props:{showToolbar:{default:()=>!0,type:Boolean},showAdd:{default:()=>!0,type:Boolean},titulo:{default:()=>"",type:String},icone:{default:()=>"extension",type:String},tabSelecionada:{default:function(){return{valor:"Ativos"}},type:Object},lista:{default:()=>[],type:Array},listaLayout:{default:()=>({}),type:Object},tabs:{default:()=>[],type:Array},filtros:{default:()=>({}),type:Object},paginacao:{default:()=>({atual:1,maximo:1,total:1,limite:25}),type:Object},checkboxVisible:{default:()=>!0,type:Boolean},removerTodosVisible:{default:()=>!0,type:Boolean},abrirTodosVisible:{default:()=>!0,type:Boolean},exportarXLSXVisible:{default:()=>!0,type:Boolean},buscaCampo:{default:()=>"",type:String}},methods:{tab_change(e){this.$emit("update:tabSelecionada.valor",e)},limparFiltros_click(){this.$emit("limparFiltros_click")},buscaCampo_change(){this.$emit("update:buscaCampo",this.buscaCampoInterno),this.$emit("filtro_change")},filtro_change(){this.$emit("filtro_change")},checkBoxGeral_click(){this.$emit("update:checkboxModel",this.checkboxModelInterno),this.$emit("checkBoxGeral_click")},criar_click(){this.$emit("criar_click")},abrir_click(){this.$emit("abrir_click")}},emits:["filtro_change","checkBoxGeral_click","criar_click","limparFiltros_click","abrir_click","abrirTodosPreview","exportarXLSX_click","removerTodos","restaurarTodos","update:buscaCampo","update:checkboxModel"],watch:{buscaCampo(e,o){this.buscaCampoInterno=e,this.buscaCampo_change()}}};var p=t(74260),h=t(24515),C=t(47266),v=t(68900),f=t(48761),N=t(86952),V=t(76210),g=t(4957),x=t(46924),b=t(54707),w=t(25901),_=t(16078),y=t(38837),I=t(83671),E=t(6427),S=t(95277),M=t(63626),T=t(54553),k=t(7112),D=t(98586),q=t(7518),F=t.n(q);const P=(0,p.Z)(u,[["render",function(e,o,t,u,p,h){const C=(0,a.resolveComponent)("q-icon"),v=(0,a.resolveComponent)("q-input"),f=(0,a.resolveComponent)("q-toolbar-title"),N=(0,a.resolveComponent)("q-btn"),V=(0,a.resolveComponent)("q-toolbar"),g=(0,a.resolveComponent)("q-checkbox"),x=(0,a.resolveComponent)("q-tooltip"),b=(0,a.resolveComponent)("q-list"),w=(0,a.resolveComponent)("q-menu"),_=(0,a.resolveComponent)("q-tab"),y=(0,a.resolveComponent)("q-tabs"),I=(0,a.resolveComponent)("q-page"),E=(0,a.resolveComponent)("q-pagination"),S=(0,a.resolveComponent)("q-footer"),M=(0,a.resolveComponent)("q-header"),T=(0,a.resolveComponent)("q-page-container"),k=(0,a.resolveComponent)("q-layout"),D=(0,a.resolveComponent)("q-drawer"),q=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(I,{id:"Modelo"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"bg-gradiente text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{size:"sm",name:t.icone,class:"q-mr-sm"},null,8,["name"]),(0,a.createElementVNode)("span",i,(0,a.toDisplayString)(t.titulo),1),(0,a.createVNode)(f,{class:"q-py-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{debounce:500,modelValue:p.buscaCampoInterno,"onUpdate:modelValue":[o[2]||(o[2]=e=>p.buscaCampoInterno=e),h.buscaCampo_change],placeholder:"Filtrar",standout:"",filled:"",dark:"",dense:"",clearable:"","clear-icon":"close",style:{"max-width":"990px",margin:"0 auto"}},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{name:"mdi-filter",class:"cursor-pointer text-white float-right",onClick:o[0]||(o[0]=()=>{p.showFilters=!p.showFilters})})])),append:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{name:"keyboard_arrow_down",onClick:o[1]||(o[1]=()=>{p.showFilters=!p.showFilters}),class:"cursor-pointer text-white"})])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,a.withDirectives)((0,a.createVNode)(N,{unelevated:"",icon:"add",label:"Novo",onClick:h.criar_click,color:"primary","text-color":"white"},null,8,["onClick"]),[[a.vShow,p.permissaoFicha]])])),_:1}),(0,a.withDirectives)((0,a.createVNode)(V,{class:"bg-transparent q-py-sm text-tertiary"},{default:(0,a.withCtx)((()=>[t.checkboxVisible?((0,a.openBlock)(),(0,a.createBlock)(g,{key:0,modelValue:p.checkboxModelInterno,"onUpdate:modelValue":[o[3]||(o[3]=e=>p.checkboxModelInterno=e),h.checkBoxGeral_click],"text-color":"red-5"},null,8,["modelValue","onUpdate:modelValue"])):(0,a.createCommentVNode)("",!0),t.removerTodosVisible&&"Ativos"===t.tabSelecionada.valor&&"Todos"!==t.tabSelecionada.valor?((0,a.openBlock)(),(0,a.createBlock)(N,{key:1,dense:"",flat:"",icon:"delete",round:"",onClick:o[4]||(o[4]=()=>{this.$emit("removerTodos")})})):(0,a.createCommentVNode)("",!0),t.removerTodosVisible&&"Ativos"!==t.tabSelecionada.valor&&"Todos"!==t.tabSelecionada.valor?((0,a.openBlock)(),(0,a.createBlock)(N,{key:2,dense:"",flat:"",icon:"restore_from_trash",round:"",onClick:o[5]||(o[5]=()=>{this.$emit("restaurarTodos")})})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(f),t.abrirTodosVisible?((0,a.openBlock)(),(0,a.createBlock)(N,{key:3,icon:p.showAllPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",dense:"",flat:"",round:"",onClick:o[6]||(o[6]=()=>{this.$emit("abrirTodosPreview")})},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[r])),_:1})])),_:1},8,["icon"])):(0,a.createCommentVNode)("",!0),t.exportarXLSXVisible?((0,a.openBlock)(),(0,a.createBlock)(N,{key:4,dense:"",flat:"",icon:"mdi-download",round:"",onClick:o[7]||(o[7]=()=>{this.$emit("exportarXLSX_click")})},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[l])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.withDirectives)((0,a.createVNode)(N,{dense:"",flat:"",icon:"more_vert",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(b,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.renderSlot)(e.$slots,"menuExtras")])),_:3},512),[[q]])])),_:3})])),_:3},512),[[a.vShow,p.permissaoFicha]])])),_:3},512),[[a.vShow,t.showToolbar]]),(0,a.createVNode)(y,{modelValue:t.tabSelecionada.valor,"onUpdate:modelValue":[o[8]||(o[8]=e=>t.tabSelecionada.valor=e),h.filtro_change],dense:"",class:"text-primary",align:"left",style:{"border-bottom":"1px solid rgba(0, 0, 0, 0.12)"}},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(t.tabs,(e=>((0,a.openBlock)(),(0,a.createBlock)(_,{key:e.value,label:`${e.rotulo} ${t.tabSelecionada.valor===e.value?"("+t.paginacao.total+")":""}`,name:e.value},null,8,["label","name"])))),128))])),_:1},8,["modelValue","onUpdate:modelValue"]),(0,a.withDirectives)((0,a.createElementVNode)("div",s,[(0,a.createElementVNode)("div",n,[(0,a.renderSlot)(e.$slots,"adicaoRapida")])],512),[[a.vShow,t.showAdd]]),(0,a.renderSlot)(e.$slots,"itemLista")])),_:3}),(0,a.createVNode)(S,{class:"bg-grey-3 footerpaginacao"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,{input:"",modelValue:t.paginacao.atual,"onUpdate:modelValue":[o[9]||(o[9]=e=>t.paginacao.atual=e),h.filtro_change],max:t.paginacao.maximo,class:"justify-center",color:"tertiary"},null,8,["modelValue","max","onUpdate:modelValue"])])),_:1}),(0,a.createVNode)(D,{modelValue:p.showFilters,"onUpdate:modelValue":o[11]||(o[11]=e=>p.showFilters=e),bordered:"",side:"right"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{view:"hHh lpR lFr"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(M,{class:"bg-white","height-hint":"98"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{color:"white",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"text-h5",name:"mdi-filter"}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[c])),_:1}),(0,a.createVNode)(N,{dense:"",flat:"",icon:"close",round:"",onClick:o[10]||(o[10]=e=>p.showFilters=!p.showFilters)})])),_:1})])),_:1}),(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",d,[(0,a.renderSlot)(e.$slots,"filtroCampos")])])),_:3}),(0,a.createVNode)(S,{class:"bg-white"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",m,[(0,a.createVNode)(N,{class:"col-6",color:"tertiary",flat:"",label:"Limpar",unelevated:"",onClick:h.limparFiltros_click},null,8,["onClick"]),(0,a.createVNode)(N,{class:"col-6 no-shadow",color:"primary",label:"Aplicar",unelevated:"",onClick:h.filtro_change},null,8,["onClick"])])])),_:1})])),_:3})])),_:3},8,["modelValue"])])}]]);F()(u,"components",{QPage:h.Z,QToolbar:C.Z,QIcon:v.Z,QToolbarTitle:f.Z,QInput:N.Z,QBtn:V.Z,QTooltip:g.Z,QCheckbox:x.Z,QMenu:b.Z,QList:w.Z,QTabs:_.Z,QTab:y.Z,QFooter:I.Z,QPagination:E.Z,QDrawer:S.Z,QLayout:M.Z,QHeader:T.Z,QPageContainer:k.Z}),F()(u,"directives",{ClosePopup:D.Z})},2085:(e,o,t)=>{"use strict";t.d(o,{Z:()=>w});var a=t(34182);const i={class:"row q-col-gutter-xs"},r={key:0,class:"col-12"},l={class:"col-12"},s={class:"col-12"},n=(0,a.createElementVNode)("span",{class:"text-body2"},"Placa: ",-1),c={class:"q-pr-md"},d=(0,a.createElementVNode)("span",{class:"text-body2"},"Chassi: ",-1),m={class:"q-pr-md"},u=(0,a.createElementVNode)("span",{class:"text-body2"},"BTU: ",-1),p={class:"q-pr-md"},h=(0,a.createElementVNode)("span",{class:"text-body2"},"Número de série: ",-1),C={class:"q-pr-md"},v=(0,a.createElementVNode)("span",{class:"text-body2"},"Validade: ",-1),f={class:"q-pr-md"},N=(0,a.createElementVNode)("span",{class:"text-body2"}," Garantia: ",-1),V={class:"q-pr-md"},g={key:1,class:"col-12"},x=(0,a.createElementVNode)("strong",{class:"text-body2"},"Observação: ",-1),b={computed:{marcaModeloCor(){return["marca","modelo","cor"].map((e=>this.equipamento[e])).filter((e=>e)).join(" - ")}},props:{equipamento:{required:!0,type:Object}}},w=(0,t(74260).Z)(b,[["render",function(e,o,t,b,w,_){return(0,a.openBlock)(),(0,a.createElementBlock)("div",i,[t.equipamento.descricao?((0,a.openBlock)(),(0,a.createElementBlock)("div",r,[(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(t.equipamento.descricao),1)])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",l,(0,a.toDisplayString)(_.marcaModeloCor),1),(0,a.createElementVNode)("div",s,[t.equipamento.placa?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[n,(0,a.createElementVNode)("strong",c,(0,a.toDisplayString)(t.equipamento.placa),1)],64)):(0,a.createCommentVNode)("",!0),t.equipamento.chassi?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[d,(0,a.createElementVNode)("strong",m,(0,a.toDisplayString)(t.equipamento.chassi),1)],64)):(0,a.createCommentVNode)("",!0),t.equipamento.btu?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:2},[u,(0,a.createElementVNode)("strong",p,(0,a.toDisplayString)(t.equipamento.btu),1)],64)):(0,a.createCommentVNode)("",!0),t.equipamento.numeroSerie?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:3},[h,(0,a.createElementVNode)("strong",C,(0,a.toDisplayString)(t.equipamento.numeroSerie),1)],64)):(0,a.createCommentVNode)("",!0),t.equipamento.dataValidade?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:4},[v,(0,a.createElementVNode)("strong",f,(0,a.toDisplayString)(e.$filters.data(t.equipamento.dataValidade)),1)],64)):(0,a.createCommentVNode)("",!0),t.equipamento.dataFinalGarantia?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:5},[N,(0,a.createElementVNode)("strong",V,(0,a.toDisplayString)(e.$filters.data(t.equipamento.dataFinalGarantia)),1)],64)):(0,a.createCommentVNode)("",!0)]),t.equipamento.observacao?((0,a.openBlock)(),(0,a.createElementBlock)("div",g,[x,(0,a.createTextVNode)((0,a.toDisplayString)(t.equipamento.observacao),1)])):(0,a.createCommentVNode)("",!0)])}]])},78955:(e,o,t)=>{"use strict";t.d(o,{Z:()=>P});var a=t(34182);const i=(0,a.createTextVNode)("Equipamento"),r={class:"layout-padding q-px-none q-py-md"},l={class:"u-container"},s={class:"bg-white q-mx-md q-pa-md"},n={class:"col-12 col-sm-6"},c={class:"col-12 col-sm-6"},d={class:"col-12"},m={class:"col-12 col-md-4"},u={class:"col-12 col-md-4"},p={class:"col-12 col-md-4"},h={class:"col-12 col-md-4"},C={class:"col-12 col-md-4"},v={class:"col-12 col-md-4"},f={class:"col-12 col-md-3"},N={class:"col-12 col-md-3"},V={class:"col-12 col-md-3"},g={class:"col-12 col-md-3"},x={class:"col-12"},b={key:0},w={components:{SeletorItem:t(87907).Z},data:()=>({opcoesTipoEquipamento:[],campos:{},visivel:!1}),emits:["atualizar"],methods:{async atualizar(){try{const e=await $db.configuracoes.leValor("equipamento.tipos","Equipamento");this.opcoesTipoEquipamento=e.split(";").filter((e=>e)).map((e=>({rotulo:e.trim(),valor:e.trim()}))),this.campos.tipo||(this.campos.tipo=this.opcoesTipoEquipamento[0].valor)}catch(e){this.$q.notifyError("Erro ao carregar os dados",e)}},async salvarEquipamento(){const e=$utils.clonarV2(this.campos);$utils.gconsole.log("Equipamentos","salvarEquipamento",e),$utils.verificarErro(!e.tipo,"Tipo de equipamento não selecionado"),e.id||(e.id=$utils.uuid()),e.dataCadastro||(e.dataCadastro=$utils.dataAtual()),e.idContato||(e.idContato=$db.contato.selecionado.id),"Veículo"===e.tipo?(e.placa=(e.placa||"").replace(/ /g,""),e.numeroSerie="",e.dataValidade=""):(e.chassi="",e.placa=""),"Ar condicionado"!==e.tipo&&(e.btu=""),await $db.equipamento.grava({atual:e,original:this.original}),this.$q.notifyPositive("Equipamento salvo com sucesso"),this.visivel=!1,this.$emit("atualizar",e)}},mounted(){this.atualizar()}};var _=t(74260),y=t(39341),I=t(63626),E=t(54553),S=t(47266),M=t(76210),T=t(48761),k=t(7112),D=t(98586),q=t(7518),F=t.n(q);const P=(0,_.Z)(w,[["render",function(e,o,t,w,_,y){const I=(0,a.resolveComponent)("q-btn"),E=(0,a.resolveComponent)("q-toolbar-title"),S=(0,a.resolveComponent)("q-toolbar"),M=(0,a.resolveComponent)("q-header"),T=(0,a.resolveComponent)("campo"),k=(0,a.resolveComponent)("SeletorItem"),D=(0,a.resolveComponent)("row"),q=(0,a.resolveComponent)("q-page-container"),F=(0,a.resolveComponent)("q-layout"),P=(0,a.resolveComponent)("q-dialog"),A=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(P,{modelValue:_.visivel,"onUpdate:modelValue":o[16]||(o[16]=e=>_.visivel=e),maximized:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(F,{container:"",class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(M,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(I,{dense:"",flat:"",icon:"arrow_back",round:"",clikable:""},null,512),[[A]]),(0,a.createVNode)(E,null,{default:(0,a.withCtx)((()=>[i])),_:1}),(0,a.createVNode)(I,{class:"q-ml-sm no-shadow",color:"white",label:"Salvar",unelevated:"","text-color":"primary",onClick:o[0]||(o[0]=o=>e.tryLoading(y.salvarEquipamento,{erro:"Ocorreu erro ao salvar equipamento"}))})])),_:1})])),_:1}),(0,a.createVNode)(q,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("div",s,[(0,a.createVNode)(D,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",n,[(0,a.createVNode)(T,{modelValue:_.campos.tipo,"onUpdate:modelValue":o[1]||(o[1]=e=>_.campos.tipo=e),rotulo:"Tipo",tipo:"seletor",opcoes:_.opcoesTipoEquipamento},null,8,["modelValue","opcoes"])]),(0,a.createElementVNode)("div",c,[(0,a.createVNode)(k,{modelValue:_.campos.idItem,"onUpdate:modelValue":o[2]||(o[2]=e=>_.campos.idItem=e),rotulo:"Produto"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",d,[(0,a.createVNode)(T,{modelValue:_.campos.descricao,"onUpdate:modelValue":o[3]||(o[3]=e=>_.campos.descricao=e),rotulo:"Descrição"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",m,[(0,a.createVNode)(T,{modelValue:_.campos.marca,"onUpdate:modelValue":o[4]||(o[4]=e=>_.campos.marca=e),rotulo:"Marca",class:"full-width"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",u,[(0,a.createVNode)(T,{modelValue:_.campos.modelo,"onUpdate:modelValue":o[5]||(o[5]=e=>_.campos.modelo=e),rotulo:"Modelo",class:"full-width"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",p,[(0,a.createVNode)(T,{modelValue:_.campos.cor,"onUpdate:modelValue":o[6]||(o[6]=e=>_.campos.cor=e),rotulo:"Cor",class:"full-width"},null,8,["modelValue"])]),"Veículo"===_.campos.tipo?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createElementVNode)("div",h,[(0,a.createVNode)(T,{modelValue:_.campos.placa,"onUpdate:modelValue":[o[7]||(o[7]=e=>_.campos.placa=e),o[8]||(o[8]=e=>_.campos.placa=_.campos.placa.toUpperCase())],rotulo:"Placa"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",C,[(0,a.createVNode)(T,{modelValue:_.campos.chassi,"onUpdate:modelValue":o[9]||(o[9]=e=>_.campos.chassi=e),rotulo:"Chassi"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",v,[(0,a.createVNode)(T,{modelValue:_.campos.dataFinalGarantia,"onUpdate:modelValue":o[10]||(o[10]=e=>_.campos.dataFinalGarantia=e),rotulo:"Data final garantia",tipo:"data"},null,8,["modelValue"])])],64)):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createElementVNode)("div",f,[(0,a.createVNode)(T,{modelValue:_.campos.numeroSerie,"onUpdate:modelValue":o[11]||(o[11]=e=>_.campos.numeroSerie=e),rotulo:"Número de série"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",N,["Ar condicionado"===_.campos.tipo?((0,a.openBlock)(),(0,a.createBlock)(T,{key:0,modelValue:_.campos.btu,"onUpdate:modelValue":o[12]||(o[12]=e=>_.campos.btu=e),rotulo:"BTU"},null,8,["modelValue"])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",V,[(0,a.createVNode)(T,{modelValue:_.campos.dataValidade,"onUpdate:modelValue":o[13]||(o[13]=e=>_.campos.dataValidade=e),rotulo:"Data de validade",tipo:"data"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",g,[(0,a.createVNode)(T,{modelValue:_.campos.dataFinalGarantia,"onUpdate:modelValue":o[14]||(o[14]=e=>_.campos.dataFinalGarantia=e),rotulo:"Data final garantia",tipo:"data"},null,8,["modelValue"])])],64)),(0,a.createElementVNode)("div",x,[(0,a.createVNode)(T,{modelValue:_.campos.observacao,"onUpdate:modelValue":o[15]||(o[15]=e=>_.campos.observacao=e),rotulo:"Observação",tipo:"textoArea"},null,8,["modelValue"])])])),_:1})]),(0,a.createVNode)(D,{class:"items-center justify-around q-my-lg"},{default:(0,a.withCtx)((()=>[_.campos.dataCadastro?((0,a.openBlock)(),(0,a.createElementBlock)("small",b,"Data do cadastro: "+(0,a.toDisplayString)(e.$filters.dataHora(_.campos.dataCadastro)),1)):(0,a.createCommentVNode)("",!0)])),_:1})])])])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);F()(w,"components",{QDialog:y.Z,QLayout:I.Z,QHeader:E.Z,QToolbar:S.Z,QBtn:M.Z,QToolbarTitle:T.Z,QPageContainer:k.Z}),F()(w,"directives",{ClosePopup:D.Z})},61901:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>v});var a=t(34182),i=t(10139),r=t.n(i);const l={class:"fixed-center text-center"},s=(0,a.createElementVNode)("img",{src:r(),alt:"Desenho de rosto triste."},null,-1),n=(0,a.createElementVNode)("h2",{class:"q-mb-none text-dark"},"Erro 404",-1),c=(0,a.createElementVNode)("p",{class:"text-tertiary"},"Desculpe, não há nada aqui.",-1),d=(0,a.createTextVNode)("Voltar"),m={methods:{goBack(){this.$router.push("/")}}};var u=t(74260),p=t(76210),h=t(7518),C=t.n(h);const v=(0,u.Z)(m,[["render",function(e,o,t,i,r,m){const u=(0,a.resolveComponent)("q-btn");return(0,a.openBlock)(),(0,a.createElementBlock)("div",l,[s,n,c,(0,a.createVNode)(u,{class:"q-mt-lg",color:"grey",outline:"",onClick:m.goBack},{default:(0,a.withCtx)((()=>[d])),_:1},8,["onClick"])])}]]);C()(m,"components",{QBtn:p.Z})},72699:(e,o,t)=>{"use strict";t.d(o,{Z:()=>b});var a=t(34182);const i=(0,a.createTextVNode)("Abertura de Caixa"),r={class:"col-12"},l={class:"col-12"},s={class:"col-12"},n={class:"q-mt-lg text-right"},c={data:()=>({campos:{valor:0,idCaixa:"",observacao:""},caixas:[],visivel:!1}),methods:{async abrirCaixa(){try{$q.loading.show({message:"Processando..."}),await $db.caixa.abra(this.campos),this.$emit("aberto"),$q.notifyPositive("Caixa aberto com sucesso."),this.visivel=!1}catch(e){return void $q.notifyError("Não foi possível abrir o caixa.",e)}finally{$q.loading.hide()}},async atualizar(){let e=await $db.caixa.le({aberto:!1}),o=await $db.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);if(e=e.filter((e=>{if(!e.ativo)return!1;const t=o.filter((o=>o.id===e.idEmpresa));return t.length?(e.apelidoEmpresa=t[0].apelido,!0):void 0})),!e.length)return void $q.notify({message:"Não há caixas para abrir.",type:"warning"});const t=[];for(const o of e)t.push({value:o.id,label:o.descricao+" "+o.apelidoEmpresa,...o});this.caixas=t,this.campos.idCaixa=this.caixas[0].id},async mostrar(){this.campos={valor:0,idCaixa:"",observacao:""},this.visivel=!1,await this.atualizar(),this.visivel=!0}},emits:["aberto"]};var d=t(74260),m=t(39341),u=t(83054),p=t(47266),h=t(48761),C=t(76210),v=t(782),f=t(46229),N=t(40320),V=t(98586),g=t(7518),x=t.n(g);const b=(0,d.Z)(c,[["render",function(e,o,t,c,d,m){const u=(0,a.resolveComponent)("q-toolbar-title"),p=(0,a.resolveComponent)("q-btn"),h=(0,a.resolveComponent)("q-toolbar"),C=(0,a.resolveComponent)("q-select"),v=(0,a.resolveComponent)("campo"),f=(0,a.resolveComponent)("row"),N=(0,a.resolveComponent)("q-form"),V=(0,a.resolveComponent)("q-card-section"),g=(0,a.resolveComponent)("q-card"),x=(0,a.resolveComponent)("q-dialog"),b=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(x,{modelValue:d.visivel,"onUpdate:modelValue":o[3]||(o[3]=e=>d.visivel=e),"content-css":{minWidth:"50vw"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[i])),_:1}),(0,a.withDirectives)((0,a.createVNode)(p,{dense:"",flat:"",icon:"close",round:""},null,512),[[b]])])),_:1}),(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{onSubmit:m.abrirCaixa},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",r,[(0,a.createVNode)(C,{modelValue:d.campos.idCaixa,"onUpdate:modelValue":o[0]||(o[0]=e=>d.campos.idCaixa=e),label:"Caixa",options:d.caixas,"option-value":"id","option-label":"label","emit-value":"","map-options":""},null,8,["modelValue","options"])]),(0,a.createElementVNode)("div",l,[(0,a.createVNode)(v,{modelValue:d.campos.valor,"onUpdate:modelValue":o[1]||(o[1]=e=>d.campos.valor=e),class:"row",tipo:"decimal",decimals:"2",rotulo:"Valor inicial"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",s,[(0,a.createVNode)(v,{modelValue:d.campos.observacao,"onUpdate:modelValue":o[2]||(o[2]=e=>d.campos.observacao=e),class:"row",tipo:"texto",rotulo:"Observação"},null,8,["modelValue"])])])),_:1}),(0,a.createElementVNode)("div",n,[(0,a.withDirectives)((0,a.createVNode)(p,{color:"tertiary",flat:"",label:"Cancelar"},null,512),[[b]]),(0,a.createVNode)(p,{color:"primary",class:"q-ml-sm no-shadow",unelevated:"",label:"Abrir",type:"submit"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);x()(c,"components",{QDialog:m.Z,QCard:u.Z,QToolbar:p.Z,QToolbarTitle:h.Z,QBtn:C.Z,QCardSection:v.Z,QForm:f.Z,QSelect:N.Z}),x()(c,"directives",{ClosePopup:V.Z})},8759:(e,o,t)=>{"use strict";t.d(o,{Z:()=>Po});var a=t(34182);const i={class:"col-12 col-md-3 text-center"},r={class:"group q-mt-md"},l={class:"col-12 col-md-6"},s={key:0,class:"text-right"},n={class:"col-12 col-sm-4"},c=(0,a.createTextVNode)("Consultar cadastro"),d={class:"col-12 col-sm-4"},m={class:"col-12 col-sm-4"},u=(0,a.createElementVNode)("div",{class:"text-subtitle1 q-mt-lg"},"Telefones",-1),p={class:"col-6 col-sm-4"},h={class:"col-6 col-sm-4"},C={class:"col-10 col-sm-3"},v={class:"mlmobile34"},f={class:"col-2 col-sm-1 text-right"},N={class:"q-mt-md text-center"},V=(0,a.createElementVNode)("div",{class:"text-subtitle1 q-mt-lg"},"Endereços",-1),g={class:"col-12"},x={class:"col-5"},b={class:"col-2"},w={class:"col-5"},_={class:"col-12 col-sm-5"},y={class:"col-3 col-sm-2"},I={class:"col-9 col-sm-5"},E={class:"col-5 col-sm-6"},S={class:"col-5"},M={class:"col-2 col-sm-1 text-right"},T={class:"q-my-md text-center"},k={class:"col-12 col-md-3"},D={class:"col-12 col-sm-4"},q={class:"col-12 col-sm-4"},F={class:"col-12 col-sm-4"},P={class:"col-12 col-sm"},A={key:0,class:"col-12 col-sm"},B={class:"col-12 col-sm"},L={class:"col-12 col-sm"},O={class:"col-12 col-sm-6"},z={class:"col-12 col-sm-6"},j={class:"col-12 q-mt-sm"},$=(0,a.createTextVNode)("Criar contato"),U={class:"q-mt-lg"},Z={class:"col-auto"},Q={class:"col"},R={class:"q-mb-none"},G={class:"q-mb-none"},H={class:"q-mb-none"},J={class:"hideondesktop"},Y={class:"hideondesktop"},X={class:"col-12 col-md hideonmobile"},W={class:"col-12 col-md-auto hideonmobile",style:{"justify-content":"flex-start !important"}},K={class:"col-12 col-md-auto"},ee=(0,a.createTextVNode)("Editar contato"),oe=(0,a.createTextVNode)("Remover"),te={class:"col"},ae={class:"col-auto text-right"},ie=(0,a.createTextVNode)("Consulta realizada em "),re={class:"col-12 col-sm-6"},le={class:"col-12 col-sm-6"},se={class:"q-col-gutter-sm items-center row"},ne=(0,a.createElementVNode)("strong",null,"Empresa: ",-1),ce=(0,a.createElementVNode)("strong",null,"Fator (%): ",-1),de=(0,a.createElementVNode)("strong",null,"Arredondamento: ",-1),me={class:"col-12 col-sm-4"},ue={class:"col-12 col-sm"},pe={class:"items-center justify-around q-my-lg row"},he={key:0},Ce={key:1},ve={class:"u-container relative-position"},fe=(0,a.createTextVNode)("Remover"),Ne={key:1,class:"q-py-sm"},Ve=(0,a.createElementVNode)("span",{class:"text-tertiary"},"Não é possível editar informações de um contato excluído.",-1);var ge=t(15358),xe=t(72407),be=t(97231),we=t(14285);const _e=(0,a.createElementVNode)("b",null,"Distrito:",-1),ye=(0,a.createElementVNode)("br",null,null,-1),Ie=(0,a.createElementVNode)("b",null,"Código IBGE:",-1),Ee=(0,a.createTextVNode)(" Resultado não encontrado "),Se={computed:{rules(){return this.required?[e=>""!==e||"Selecione um município"]:[]}},data:()=>({cidade:"",cidades:[],hint:"",opcoes:[]}),emits:["selecionar"],methods:{buscarCidade(e,o){setTimeout((()=>{o((async()=>{if(!this.cidades.length&&await this.obterCidades(),e||(this.opcoes=this.cidades),e){const o=$utils.removerAcentos(e).toLowerCase().replace(/\s+/," ").trim().split(" ");this.opcoes=this.cidades.filter((e=>{let t=$utils.removerAcentos(e.municipio+" "+e.distrito+" "+e.uf).toLowerCase().replace(/\s+/," ").trim();for(const e of o)if(!~t.indexOf(e))return!1;return!0}))}}))}),500)},async obterCidades(){return this.obtendoCidades||(this.obtendoCidades=new Promise((async(e,o)=>{try{const o=await $erp()._cidade.toArray(),t=[];o.sort(((e,o)=>(e.nomeMunic||"").toLowerCase()<(o.nomeMunic||"").toLowerCase()?-1:1));for(const e of o)t.push({value:e.id,municipio:e.nomeMunic||"",distrito:e.nomeDistr||"",ibgeCod:e.cidadeCodIbge||"",uf:e.siglaUf||"",ufCod:e.uf||"",cidadeCodChave:e.cod});this.cidades=t,e()}catch(e){o(e)}}))),this.obtendoCidades},async obterCidadePorIbgeCod(){await this.obterCidades();const e=this.cidades.find((e=>String(e.ibgeCod)===String(this.ibgeCod)));e&&(this.cidade=e.municipio,this.hint="",e.ibgeCod&&(this.hint="Código IBGE: "+e.ibgeCod))},selecionarCidade(e){this.cidade=e.municipio,this.hint="",e.ibgeCod&&(this.hint="Código IBGE: "+e.ibgeCod),this.$emit("selecionar",e)}},props:{ibgeCod:[Number,String],required:Boolean},watch:{ibgeCod(){this.obterCidadePorIbgeCod()}},created(){this.obterCidades(),this.ibgeCod&&this.obterCidadePorIbgeCod()}};var Me=t(74260),Te=t(40320),ke=t(77953),De=t(60880),qe=t(31106),Fe=t(7518),Pe=t.n(Fe);const Ae=(0,Me.Z)(Se,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-item-label"),n=(0,a.resolveComponent)("q-item-section"),c=(0,a.resolveComponent)("q-item"),d=(0,a.resolveComponent)("q-select");return(0,a.openBlock)(),(0,a.createBlock)(d,{"model-value":r.cidade,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",dense:"",label:"Cidade",options:r.opcoes,onFilter:l.buscarCidade,"onUpdate:modelValue":l.selecionarCidade,hint:r.hint,rules:l.rules},{option:(0,a.withCtx)((e=>[(0,a.createVNode)(c,(0,a.normalizeProps)((0,a.guardReactiveProps)(e.itemProps)),{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.opt.municipio)+" - "+(0,a.toDisplayString)(e.opt.uf),1)])),_:2},1024),(0,a.createVNode)(s,{caption:""},{default:(0,a.withCtx)((()=>[e.opt.municipio!==e.opt.distrito?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[_e,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.opt.distrito)+" ",1),ye],64)):(0,a.createCommentVNode)("",!0),Ie,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.opt.ibgeCod),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),"no-option":(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-grey"},{default:(0,a.withCtx)((()=>[Ee])),_:1})])),_:1})])),_:1},8,["model-value","options","onFilter","onUpdate:modelValue","hint","rules"])}]]);Pe()(Se,"components",{QSelect:Te.Z,QItem:ke.Z,QItemSection:De.Z,QItemLabel:qe.Z});const Be=(0,a.createTextVNode)("Cadastro CNPJ"),Le={class:"q-px-lg q-py-md"},Oe={class:"row q-col-gutter-x-sm"},ze=(0,a.createElementVNode)("div",{class:"row q-mt-lg q-mb-sm q-ml-sm text-subtitle1"},"Endereço",-1),je={class:"row q-col-gutter-x-sm q-ml-xs"},$e={class:"row justify-end"},Ue={class:"q-px-lg q-py-md"},Ze={class:"row justify-end"};var Qe=t(82812),Re=t(80166),Ge=t(70154);const He={computed:{metaDados:()=>Ge.Z},data:()=>({contatoTmp:{},enderecoTmp:{},selecionarCertificado:!1,certificadoPadrao:"07660198000189 35 SP;",certificado:"",opcoesCertificados:[],cnpj:"",uf:"",erros:[],show:!1}),methods:{async consultarCadastroBrasilAPI(){const e=`https://brasilapi.com.br/api/cnpj/v1/${this.cnpj}`,o=await fetch(e),t=await o.json();if(!o.ok)throw new Error("Não foi possível realizar a consulta no Brasil API");let a=t.data_inicio_atividade;a&&(a=new Date(a),a=new Date(a.setDate(a.getDate()+1)),a=a.toJSON()),this.limpar(),this.contatoTmp.nome=t.razao_social,this.contatoTmp.apelido=t.nome_fantasia,this.contatoTmp.numeroDocumentoEstadual="",this.contatoTmp.regime=t.opcao_pelo_simples?"SIMPLES NACIONAL":"NORMAL",this.contatoTmp.dataAbertura=a,this.enderecoTmp.cep=t.cep||"",this.enderecoTmp.numero=t.numero||"",this.enderecoTmp.complemento=t.complemento||"",this.enderecoTmp.pais="Brasil";try{const e=(await $utils.buscarEndereco(this.enderecoTmp.cep)).data;if(this.enderecoTmp.bairro=e.bairro,this.enderecoTmp.ibgeCod=e.ibge,this.enderecoTmp.logradouro=e.logradouro,this.enderecoTmp.municipio=e.localidade,this.enderecoTmp.uf=e.uf,this.enderecoTmp.ufCod=$utils.mapearEstadoCodigo[e.uf],this.enderecoTmp.complemento||(this.enderecoTmp.complemento=e.complemento),e.ibge){const o=await $db.cidade.le({cidadeCodIbge:e.ibge.toString(),ativo:!0});this.enderecoTmp.cidadeCodChave=(o.find((e=>e.cod))||{}).cod}}catch(e){this.enderecoTmp.uf=t.uf||"",this.enderecoTmp.municipio=t.municipio||"",this.enderecoTmp.logradouro=((t.descricao_tipo_logradouro||"")+" "+(t.logradouro||"")).trim(),this.enderecoTmp.bairro=t.bairro}this.show=!0},async consultarCadastroSefaz(){let e="";this.opcoesCertificados=[];const o=(await $erp().empresa.toArray()).filter((e=>e.idContato)).map((e=>e.idContato)),t=await $erp().contato.where("id").anyOf(o).toArray(),a=await $erp().contatoEndereco.where("idContato").anyOf(o).toArray();for(const o of t){const t=a.filter((e=>e.idContato===o.id));let i=t.find((e=>"Principal"===e.grupo));i||(i=t[0]);const r=this.$utils.filtrarDigitos(o.numeroDocumentoNacional),l=String(this.$utils.mapearEstadoCodigo[i.uf]);if(14===r.length&&2===l.length&&2===i.uf.length){const t=r+" "+l+" "+i.uf+";";e+=t,this.opcoesCertificados.push({valor:t,rotulo:o.apelido,sublabel:o.numeroDocumentoNacional})}}this.opcoesCertificados.push({valor:this.certificadoPadrao,rotulo:""}),e+=this.certificadoPadrao;const i=Re.Z.consultarCadastroContribuinte(this.cnpj,""),r=await Qe.Z.consultarCadastroContribuinte(e,i);if("Erro"===r.status)throw this.erros=r.mensagem.split("\n"),new Error("Não foi possível realizar a consulta no Sefaz");this.preencherTemplateDadosSefaz(r.xml)},async consultarCadastroSefazCertificado(){try{$q.loading.show({message:"Consultando cadastro de CNPJ"});const e=Re.Z.consultarCadastroContribuinte(this.cnpj,this.uf),o=await Qe.Z.consultarCadastroContribuinte(this.certificado,e);if("Erro"===o.status)return void(this.erros=o.mensagem.split("\n"));this.preencherTemplateDadosSefaz(o.xml)}finally{$q.loading.hide()}},async consultar(e){try{if($q.loading.show({message:"Consultando cadastro de CNPJ"}),this.cnpj=e.replace(/[^\d]/g,""),!$utils.validarDocumentoNacional(this.cnpj)){function e(e,o,t,a,i,r){return r?o+"."+t+"."+a+"/"+i+"-"+r:i?o+"."+t+"."+a+"/"+i:a?o+"."+t+"."+a:t?o+"."+t:o}throw this.cnpj=this.cnpj.replace(/(\d{0,2})(\d{0,3})(\d{0,3})(\d{0,4})(\d{0,2})$/,e),new Error(`CNPJ ${this.cnpj} inválido`)}try{return void await this.consultarCadastroSefaz()}catch(e){console.log(e.message)}try{return void await this.consultarCadastroBrasilAPI()}catch(e){console.log(e.message)}this.certificado=this.certificadoPadrao,this.uf=(this.opcoesCertificados[0].valor||"").substr(18,2),this.selecionarCertificado=!0,this.show=!0}catch(e){throw new Error(e)}finally{$q.loading.hide()}},limpar(){this.contatoTmp={},this.enderecoTmp=[],this.selecionarCertificado=!1},preencherTemplateDadosSefaz(e){const o=(new DOMParser).parseFromString(e,"application/xml").getElementsByTagName("infCons")[0].getElementsByTagName("infCad")[0],t=o.getElementsByTagName("ender")[0],a=(e,o)=>(e.getElementsByTagName(o)[0]||{}).innerHTML||"";this.limpar(),this.contatoTmp.apelido=a(o,"xFant")||a(o,"xNome"),this.contatoTmp.nome=a(o,"xNome"),this.contatoTmp.numeroDocumentoEstadual=a(o,"IE"),this.contatoTmp.regime=a(o,"xRegApur"),this.contatoTmp.dataAbertura=a(o,"dIniAtiv"),this.enderecoTmp.bairro=a(t,"xBairro"),this.enderecoTmp.cep=a(t,"CEP").padStart(8,"0").replace(/(\d{5})(\d{3})/g,"$1-$2"),this.enderecoTmp.complemento=a(t,"xCpl"),this.enderecoTmp.ibgeCod=a(t,"cMun"),this.enderecoTmp.logradouro=a(t,"xLgr"),this.enderecoTmp.municipio=a(t,"xMun"),this.enderecoTmp.numero=a(t,"nro"),this.enderecoTmp.uf=a(o,"UF"),this.enderecoTmp.pais="Brasil",this.show=!0},salvar(){this.contato.apelido=this.contatoTmp.apelido||this.contatoTmp.nome,this.contato.nome=this.contatoTmp.nome,this.contato.numeroDocumentoEstadual=this.contatoTmp.numeroDocumentoEstadual,this.contato.dataAbertura=this.contatoTmp.dataAbertura,this.contato.regime=this.contatoTmp.regime.includes("SIMPLES NACIONAL")?"SimplesNacional":"Normal";const e=this.endereco.find((e=>e.bairro===this.enderecoTmp.bairro&&e.cep===this.enderecoTmp.cep&&e.complemento===this.enderecoTmp.complemento&&e.ibgeCod===this.enderecoTmp.ibgeCod&&e.logradouro===this.enderecoTmp.logradouro&&e.municipio===this.enderecoTmp.municipio&&e.numero===this.enderecoTmp.numero&&e.uf===this.enderecoTmp.uf)),o=this.endereco.find((e=>"Principal"===e.grupo));e||this.endereco.push({...this.enderecoTmp,grupo:o?void 0:"Principal",id:$utils.uuid(),idContato:this.contato.id}),this.show=!1}},props:{contato:Object,endereco:Array}};var Je=t(39341),Ye=t(83054),Xe=t(782),We=t(47266),Ke=t(76210),eo=t(48761),oo=t(46229),to=t(98586);const ao=(0,Me.Z)(He,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("campo"),m=(0,a.resolveComponent)("q-form"),u=(0,a.resolveComponent)("q-card-section"),p=(0,a.resolveComponent)("q-card"),h=(0,a.resolveComponent)("q-dialog"),C=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(h,{modelValue:r.show,"onUpdate:modelValue":o[15]||(o[15]=e=>r.show=e),"content-css":{maxWidth:"800px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[C]]),(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[Be])),_:1})])),_:1}),r.selecionarCertificado?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,onSubmit:l.salvar},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Le,[(0,a.createVNode)(d,{modelValue:r.contatoTmp.nome,"onUpdate:modelValue":o[0]||(o[0]=e=>r.contatoTmp.nome=e),"somente-leitura":"",class:"row",rotulo:"Razão social"},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.contatoTmp.apelido,"onUpdate:modelValue":o[1]||(o[1]=e=>r.contatoTmp.apelido=e),"somente-leitura":"",class:"row",rotulo:"Fantasia"},null,8,["modelValue"]),(0,a.createElementVNode)("div",Oe,[(0,a.createVNode)(d,{modelValue:r.contatoTmp.numeroDocumentoEstadual,"onUpdate:modelValue":o[2]||(o[2]=e=>r.contatoTmp.numeroDocumentoEstadual=e),"somente-leitura":"",class:"col-12 col-md-6",rotulo:"IE"},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.contatoTmp.dataAbertura,"onUpdate:modelValue":o[3]||(o[3]=e=>r.contatoTmp.dataAbertura=e),"somente-leitura":"",class:"col-12 col-md-6",rotulo:"Data de abertura",tipo:"data"},null,8,["modelValue"])]),(0,a.createVNode)(d,{modelValue:r.contatoTmp.regime,"onUpdate:modelValue":o[4]||(o[4]=e=>r.contatoTmp.regime=e),"somente-leitura":"",class:"row",rotulo:"Regime"},null,8,["modelValue"]),ze,(0,a.createElementVNode)("div",je,[(0,a.createVNode)(d,{modelValue:r.enderecoTmp.cep,"onUpdate:modelValue":o[5]||(o[5]=e=>r.enderecoTmp.cep=e),"somente-leitura":"",class:"col-6 col-sm-4",rotulo:"CEP",mask:"#####-###"},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.enderecoTmp.uf,"onUpdate:modelValue":o[6]||(o[6]=e=>r.enderecoTmp.uf=e),"somente-leitura":"",class:"col-2 col-sm-2",rotulo:"UF"},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.enderecoTmp.municipio,"onUpdate:modelValue":o[7]||(o[7]=e=>r.enderecoTmp.municipio=e),"somente-leitura":"",class:"col-10 col-sm-6",rotulo:"Cidade",ajuda:r.enderecoTmp.ibgeCod?"Código IBGE: "+r.enderecoTmp.ibgeCod:""},null,8,["modelValue","ajuda"]),(0,a.createVNode)(d,{modelValue:r.enderecoTmp.logradouro,"onUpdate:modelValue":o[8]||(o[8]=e=>r.enderecoTmp.logradouro=e),"somente-leitura":"",class:"col-12 col-sm-7",rotulo:"Endereço"},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.enderecoTmp.numero,"onUpdate:modelValue":o[9]||(o[9]=e=>r.enderecoTmp.numero=e),"somente-leitura":"",class:"col-12 col-sm-2",rotulo:"Número"},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.enderecoTmp.complemento,"onUpdate:modelValue":o[10]||(o[10]=e=>r.enderecoTmp.complemento=e),"somente-leitura":"",class:"col-12 col-sm-3",rotulo:"Complemento"},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.enderecoTmp.bairro,"onUpdate:modelValue":o[11]||(o[11]=e=>r.enderecoTmp.bairro=e),"somente-leitura":"",class:"col-12 col-sm-6",rotulo:"Bairro"},null,8,["modelValue"]),(0,a.createVNode)(d,{modelValue:r.enderecoTmp.pais,"onUpdate:modelValue":o[12]||(o[12]=e=>r.enderecoTmp.pais=e),"somente-leitura":"",class:"col-12 col-sm-6",rotulo:"País"},null,8,["modelValue"])])]),(0,a.createVNode)(c,{color:"light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",$e,[(0,a.withDirectives)((0,a.createVNode)(s,{flat:"",color:"tertiary",label:"Cancelar"},null,512),[[C]]),(0,a.createVNode)(s,{unelevated:"",color:"primary",type:"submit",label:"Confirmar"})])])),_:1})])),_:1})])),_:1},8,["onSubmit"])),r.selecionarCertificado?((0,a.openBlock)(),(0,a.createBlock)(m,{key:1,onSubmit:l.consultarCadastroSefazCertificado},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Ue,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.erros,((e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"row q-py-xs text-negative",key:o},(0,a.toDisplayString)(e),1)))),128)),(0,a.createVNode)(d,{modelValue:r.certificado,"onUpdate:modelValue":o[13]||(o[13]=e=>r.certificado=e),class:"row q-mt-md",rotulo:"Certificado",tipo:"seletor",opcoes:r.opcoesCertificados},null,8,["modelValue","opcoes"]),(0,a.createVNode)(d,{modelValue:r.uf,"onUpdate:modelValue":o[14]||(o[14]=e=>r.uf=e),class:"row",rotulo:"UF do Sefaz para consulta",tipo:"seletor",opcoes:l.metaDados.infNFe.emit.enderEmit.UF._enumeration},null,8,["modelValue","opcoes"])]),(0,a.createVNode)(c,{color:"light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Ze,[(0,a.createVNode)(s,{flat:"",color:"primary",type:"submit",label:"Nova consulta"})])])),_:1})])),_:1})])),_:1},8,["onSubmit"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);Pe()(He,"components",{QDialog:Je.Z,QCard:Ye.Z,QCardSection:Xe.Z,QToolbar:We.Z,QBtn:Ke.Z,QToolbarTitle:eo.Z,QForm:oo.Z}),Pe()(He,"directives",{ClosePopup:to.Z});var io=t(85956);const ro=(0,a.createTextVNode)("Redes Sociais");var lo=t(88603);const so={computed:{registrosEncontrados(){return!!this.itens.length}},data:()=>({itens:[],redeSocialCampo:"",visivel:!1,idContato:""}),methods:{adicionar(){this.redeSocialErro=!1,this.redeSocialErroDescricao="";const e=this.redeSocialCampo.toLowerCase();if(!e)return!1;if(this.itens.find((o=>o.link===e)))return this.redeSocialErro=!0,this.redeSocialErroDescricao="Rede social já cadastrada.",!1;try{this.itens.push({...$utils.analisarRedeSocialLink(e),id:$utils.uuid(),idContato:this.idContato}),this.redeSocialCampo=""}catch(e){this.redeSocialErro=!0,this.redeSocialErroDescricao="Insira uma URL válida."}},remover(e){this.$q.dialog({cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},title:"Remover",message:"Ao continuar você irá remover esta rede social.",ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{e>=0&&(this.termo=this.itens[e].link,this.itens.splice(e,1))}))},onHide(){this.resolve(this.itens)},onShow(){this.$refs.redeSocialCampo.focus()},async show(e){return this.itens=e.itens,this.idContato=e.idContato,this.visivel=!0,new Promise(((e,o)=>{this.resolve=e}))}}};var no=t(25901),co=t(15031),mo=t(86952),uo=t(68900);const po=(0,Me.Z)(so,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-item-label"),m=(0,a.resolveComponent)("q-item-section"),u=(0,a.resolveComponent)("q-item"),p=(0,a.resolveComponent)("q-list"),h=(0,a.resolveComponent)("q-icon"),C=(0,a.resolveComponent)("q-input"),v=(0,a.resolveComponent)("q-card-section"),f=(0,a.resolveComponent)("q-card"),N=(0,a.resolveComponent)("q-dialog"),V=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(N,{modelValue:r.visivel,"onUpdate:modelValue":o[1]||(o[1]=e=>r.visivel=e),onHide:o[2]||(o[2]=e=>l.onHide()),onShow:o[3]||(o[3]=e=>l.onShow()),"content-css":"{ minWidth: '80vw' }"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[ro])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",icon:"close",round:""},null,512),[[V]])])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{"no-border":"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.itens,((e,o)=>((0,a.openBlock)(),(0,a.createBlock)(u,{class:"animate-pop q-px-none",key:o},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.tipo),1),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.link),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{color:"negative",size:"xs",icon:"remove",outline:"",round:"",onClick:e=>l.remover(o)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1}),(0,a.createVNode)(C,{color:"green",placeholder:"Insira a URL aqui.",type:"url",modelValue:r.redeSocialCampo,"onUpdate:modelValue":o[0]||(o[0]=e=>r.redeSocialCampo=e),ref:"redeSocialCampo",onKeyup:(0,a.withKeys)(l.adicionar,["enter"])},{append:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{name:"done",onClick:l.adicionar,class:"cursor-pointer"},null,8,["onClick"])])),_:1},8,["modelValue","onKeyup"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);Pe()(so,"components",{QDialog:Je.Z,QCard:Ye.Z,QToolbar:We.Z,QToolbarTitle:eo.Z,QBtn:Ke.Z,QCardSection:Xe.Z,QList:no.Z,QItem:ke.Z,QItemSection:De.Z,QItemLabel:qe.Z,QField:co.Z,QInput:mo.Z,QIcon:uo.Z}),Pe()(so,"directives",{ClosePopup:to.Z});const ho={key:0,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"},Co={data:()=>({itens:[],termo:"",visivel:!1}),methods:{async atualizar(){const e=this.termo||"";if(this.itens=await $db.contato.leGruposUnicos(),!this.termo)return;const o=$utils.tratamentoCompletoString(e).split(" ");for(const e of o)this.itens=this.itens.filter((o=>$utils.tratamentoCompletoString(o.descricao).includes(e)))},limpar(){this.itens=[],this.termo=""},onHide(){this.resolve({}),this.limpar()},onShow(){this.$refs.search.focus()},item_click(e={}){this.resolve(e),this.visivel=!1},async show(){return await this.atualizar(),this.visivel=!0,new Promise(((e,o)=>{this.resolve=e}))}}};var vo=t(63626),fo=t(54553),No=t(7112);const Vo=(0,Me.Z)(Co,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-btn"),n=(0,a.resolveComponent)("q-input"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-header"),u=(0,a.resolveComponent)("q-item-label"),p=(0,a.resolveComponent)("q-item"),h=(0,a.resolveComponent)("q-list"),C=(0,a.resolveComponent)("q-page-container"),v=(0,a.resolveComponent)("q-layout"),f=(0,a.resolveComponent)("q-dialog"),N=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(f,{modelValue:r.visivel,"onUpdate:modelValue":o[1]||(o[1]=e=>r.visivel=e),maximized:"",onHide:o[2]||(o[2]=e=>l.onHide()),onShow:o[3]||(o[3]=e=>l.onShow())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{class:"bg-white",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[N]]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{modelValue:r.termo,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.termo=e),l.atualizar],color:"none",ref:"search",dark:"",placeholder:"Grupos",debounce:"600"},null,8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.itens,(e=>((0,a.openBlock)(),(0,a.createBlock)(p,{key:e.id,clickable:"",onClick:o=>l.item_click(e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{header:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.descricao),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),r.itens.length?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",ho," Não encontramos registros com os critérios selecionados. "))])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);Pe()(Co,"components",{QDialog:Je.Z,QLayout:vo.Z,QHeader:fo.Z,QToolbar:We.Z,QBtn:Ke.Z,QToolbarTitle:eo.Z,QInput:mo.Z,QPageContainer:No.Z,QList:no.Z,QItem:ke.Z,QItemLabel:qe.Z}),Pe()(Co,"directives",{ClosePopup:to.Z});const go=(0,a.createTextVNode)("Alterar foto");var xo=t(53291);const bo={data:()=>({visivel:!1}),methods:{trocarFoto(e){(0,xo.Z)(e[0],{crop:!0,outputFormat:"jpg",targetHeight:200,targetWidth:200},((e,o)=>{this.resolve(o),this.visivel=!1}))},onHide(){this.resolve()},async show(){return this.visivel=!0,new Promise(((e,o)=>{this.resolve=e}))}},props:{modelValue:{type:String}}};var wo=t(56673);const _o=(0,Me.Z)(bo,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-uploader"),m=(0,a.resolveComponent)("q-card"),u=(0,a.resolveComponent)("q-dialog"),p=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(u,{modelValue:r.visivel,"onUpdate:modelValue":o[0]||(o[0]=e=>r.visivel=e),onHide:o[1]||(o[1]=e=>l.onHide())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[go])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",icon:"close",round:""},null,512),[[p]])])),_:1}),(0,a.createVNode)(d,{"auto-expand":"",color:"none",class:"mobile-only",label:"Foto","hide-upload-button":"","hide-upload-progress":"","dark-light":"",url:"",ref:"fotoCampo",factory:l.trocarFoto},null,8,["factory"]),(0,a.createVNode)(d,{"auto-expand":"",color:"none",class:"mobile-hide",extensions:".jpg,.jpeg",label:"Foto","hide-upload-button":"","hide-upload-progress":"","dark-light":"",url:"",ref:"fotoCampo",factory:l.trocarFoto},null,8,["factory"])])),_:1})])),_:1},8,["modelValue"])}]]);Pe()(bo,"components",{QDialog:Je.Z,QCard:Ye.Z,QToolbar:We.Z,QToolbarTitle:eo.Z,QBtn:Ke.Z,QUploader:wo.Z}),Pe()(bo,"directives",{ClosePopup:to.Z});var yo=t(70225);const Io={components:{Avatar:ge.Z,Badge:xe.Z,Icone:be.Z,SeletorCampoTabela:we.Z,SeletorCidade:Ae,ConsultaCNPJ:ao,ContatoCriar:io.Z,RedesSociaisModal:po,PromptGrupoUnico:Vo,modalTrocarFoto:_o},computed:{badgeCor(){return this.contato.ativo?this.contato.condutaRestricao?"negative":this.contato.condutaObservacao?"orange":"positive":"tertiary"},ehEmpresa(){const e=this.contato.numeroDocumentoNacional;return!!e&&e.length>14},idade(){let e=this.contato.dataAbertura;if(!e)return 0;e=new Date(e);const o=new Date(Date.now()-e.getTime());return Math.abs(o.getUTCFullYear()-1970)},segmentoProfissao(){const e=this.contato.numeroDocumentoNacional||"";return e.length>14?"Segmento":e.length>=11?"Profissão":"Segmento/Profissão"},temRedeSocial(){return this.redeSocial&&!!this.redeSocial.length}},data:()=>({contato:{},contatoOriginal:{},endereco:[],telefone:[],redeSocial:[],consulta:[],grupo:[],filhos:[],filhosId:{},tab:"profile-tab-1",consultaDescricao:"",descricaoAssistente:"",descricaoFormaPagamento:"",descricaoItemTabelaPreco:"",descricaoTransportadora:"",descricaoVendedor:"",filhoCampo:"",modalCertificado:{visivel:!1,campos:{},opcoesCertificados:[{}]},modalFoto:!1,contatoUsuario:{},somenteCarteira:!1,podeAlterarVendedorAssistente:!1,opcoesDependentes:[],opcoesTabelaPreco:[],enderecoTipos:[{label:"Principal",value:"Principal",icon:"star",color:"orange"},{label:"Cobrança",value:"Cobrança",icon:"attach_money"},{label:"Comercial",value:"Comercial",icon:"business"},{label:"Correspondência",value:"Correspondência",icon:"mail"},{label:"Entrega",value:"Entrega",icon:"local_shipping"},{label:"Instalação",value:"Instalação",icon:"build"},{label:"Residencial",value:"Residencial",icon:"store_mall_directory"},{label:"Outros",value:"Outros",icon:"location_city"}],regimes:[{label:"Normal",value:"Normal"},{label:"Simples Nacional",value:"SimplesNacional"}],sexos:[{label:"Masculino",value:"Masculino"},{label:"Feminino",value:"Feminino"},{label:"Outro",value:"Outro"}],telefoneTipos:[{label:"Principal",value:"Principal",color:"orange",icon:"star"},{label:"Comercial",value:"Comercial",color:"dark",icon:"phone"},{label:"Celular",value:"Celular",color:"dark",icon:"phone_iphone"},{label:"Fixo",value:"Fixo",color:"dark",icon:"phone"},{label:"WhatsApp",value:"WhatsApp",color:"positive",icon:"mdi-whatsapp",ix:"duo"}],permissoes:{},rules:{}}),methods:{async atualizar({id:e}){try{if(e||(e=this.$route.params.id),this.somenteCarteira=!1,this.contatoUsuario={},!$db.usuario.logado.administrador&&await $db.permissao.objetoClienteSistema("Diretiva_Contatos_AcessaTodosContatos")&&!await $db.permissao.objeto("Diretiva_Contatos_AcessaTodosContatos")){let e=$db.usuario.logado.codigoContato;e&&(this.contatoUsuario=(await $erp().contato.where({codigoContato:e}).toArray()).find((e=>e.id))),this.somenteCarteira=!0}this.podeAlterarVendedorAssistente=!1,$db.usuario.logado.administrador||!await $db.permissao.objetoClienteSistema("Diretiva_Contatos_AlterarVendedorEAssistente")||await $db.permissao.objeto("Diretiva_Contatos_AlterarVendedorEAssistente")||(this.podeAlterarVendedorAssistente=!0);const o=await $db.contato.leCompletoV3(e);this.contato=o.contato,this.endereco=o.endereco,this.telefone=o.telefone,this.redeSocial=o.redeSocial,this.filhos=o.filhos,this.consulta=o.consulta,this.grupo=o.grupo.map((e=>({...e,label:e.descricao}))),this.contatoOriginal=$utils.clonarV2(o.contato),this.enderecoOriginal=$utils.clonarV2(o.endereco),this.telefoneOriginal=$utils.clonarV2(o.telefone),this.redeSocialOriginal=$utils.clonarV2(o.redeSocial),this.filhosOriginal=$utils.clonarV2(o.filhos),this.consultaOriginal=$utils.clonarV2(o.consulta),this.grupoOriginal=$utils.clonarV2(o.grupo),""===e&&(o.contato.id=$utils.uuid(),this.contatoOriginal={});const t=o.contato;this.descricaoAssistente=(await $erp().contato.get(t.idContatoAssistente||"")||{}).apelido||"",this.descricaoTransportadora=(await $erp().contato.get(t.idContatoTransportadora||"")||{}).apelido||"",this.descricaoVendedor=(await $erp().contato.get(t.idContatoVendedor||"")||{}).apelido||"",this.descricaoFormaPagamento=(await $erp().formaPagamento.get(t.idFormaPagamento||"")||{}).descricao||"",this.descricaoItemTabelaPreco=(await $erp().itemTabelaPreco.get(t.idItemTabelaPreco||"")||{}).descricao||"";for(const e of o.filhos)this.filhosId[e.idContatoRelacionado]=await $db.contato.le({id:e.idContatoRelacionado});this.atualizarTabelaPreco()}catch(e){this.$q.notifyError("Ocorreu um erro ao obter contato.",e)}},async restaurarContato(){try{$q.loading.show(),this.contato.ativo=!0,await this.salvarContato(),this.$q.notifyPositive("O contato foi restaurado com sucesso.")}catch(e){this.$q.notify("Ocorreu um erro ao restaurar.")}finally{this.$q.loading.hide()}},validateEmail:e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()),async salvarContato(){if(!this.verificarSeAlterouCampos())return this.$q.notifyPositive("Não há dados alterados.");try{this.$q.loading.show();const e=this.contato.id,o=$utils.clonarV2(this.grupo).map((o=>(o.descricao=o.label,o.idContato=e,delete o.label,o))),t={dadosOriginais:{contato:this.contatoOriginal,endereco:this.enderecoOriginal,telefone:this.telefoneOriginal,redeSocial:this.redeSocialOriginal,filhos:this.filhosOriginal,consulta:this.consultaOriginal,grupo:this.grupoOriginal},contato:this.contato,endereco:this.endereco,telefone:this.telefone,redeSocial:this.redeSocial,filhos:this.filhos,consulta:this.consulta,grupo:o};await $db.contato.grava(t),await this.atualizar({id:e}),$db.contato.selecionado=await $db.contato.le({id:e}),$utils.emitter.emit("carregarContatoAtendimentoLayout"),$q.notifyPositive("Os dados do contato foram salvos com sucesso.")}catch(e){$q.notifyError("Ocorreu um erro ao salvar.",e)}finally{$q.loading.hide()}},async contatoRemover(){let e=!1;if(this.$refs.form.getValidationComponents().forEach((o=>{o.validate()||e||(e=!0)})),!e){await this.removerConfirma();try{$q.loading.show();const e=$utils.clonar(this.contato),o=e.id;e.ativo=!1;const t={dadosOriginais:{contato:this.contatoOriginal},contato:e};await $db.contato.grava(t),await this.atualizar({id:o}),$db.contato.selecionado=await $db.contato.le({id:o}),$utils.emitter.emit("carregarContatoAtendimentoLayout"),$q.notifyPositive("O contato foi excluído com sucesso.")}catch(e){$q.notifyError("Ocorreu um erro ao remover",e)}finally{$q.loading.hide()}}},aoCancelar(){this.verificarSeAlterouCampos()?this.$q.dialog({cancel:{label:"Manter",push:!0,color:"tertiary",flat:!0},title:"Tem certeza?",message:"Ao continuar você irá perder todas as modificações.",ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{this.atualizar({id:this.contato.id})})):this.$q.notifyPositive("Não há dados alterados.")},async dependenteCriar(){const e=await this.$refs.promptCriarDependente.mostrar();$lodash.get(e,"nome")&&this.filhoAdicionar({data:e})},async filhosBuscar(e,o){try{if(e=e.trim(),this.opcoesDependentes=[],e.length>1){const o=(await $db.contatoBusca.filtrar(e,{ativo:!0})).map((e=>({data:e,label:e.apelido,stamp:"#0000000",sublabel:e.nome,value:e.nome})));this.opcoesDependentes=o}o()}catch(e){o(),this.$q.notify("Ocorreu um erro ao obter os contatos.")}},async filhoRemover(e){await this.removerConfirma();const o=this.filhos.filter((o=>!(o.idContato===e.idContato&&o.idContatoRelacionado===e.idContatoRelacionado||o.idContato===e.idContatoRelacionado&&o.idContatoRelacionado===e.idContato)));this.filhos=o},async filhoAdicionar(e){const o=e.data;this.filhoCampo="",this.filhosId[o.id]=await $db.contato.le({id:o.id}),this.filhos.push({id:$utils.uuid(),idContato:this.contato.id,idContatoRelacionado:o.id,socio:!1,cobranca:!1}),this.filhos.push({id:$utils.uuid(),idContato:o.id,idContatoRelacionado:this.contato.id,socio:!1,cobranca:!1}),this.filhos=(0,lo.orderBy)(this.filhos,"apelido")},async btSelecionarVendedor_click(){const e=await $g.promptContato.show({filtro:{ativo:!0,vendedores:!0},placeholder:"Selecione a empresa"});$lodash.get(e,"id")&&(this.contato.idContatoVendedor=e.id,this.descricaoVendedor=e.apelido||"")},vendedorLimpar(){this.contato.idContatoVendedor="",this.descricaoVendedor=""},async btSelecionarAssistente_click(){const e=await $g.promptContato.show({filtro:{ativo:!0,vendedores:!0},placeholder:"Selecione a empresa"});$lodash.get(e,"id")&&(this.contato.idContatoAssistente=e.id,this.descricaoAssistente=e.apelido||"")},assistenteLimpar(){this.contato.idContatoAssistente="",this.descricaoAssistente=""},async btSelecionaFormaPagamento_click(){const e=await this.$root.$refs.promptFormaPagamento.show();$lodash.get(e,"id")&&(this.contato.idFormaPagamento=e.id,this.descricaoFormaPagamento=e.descricao||"")},formaPagamentoLimpar(){this.contato.idFormaPagamento="",this.descricaoFormaPagamento=""},async btSelecionarTransportadora_click(){const e=await $g.promptContato.show({filtro:{ativo:!0,transportadoras:!0},placeholder:"Transportadora"});$lodash.get(e,"id")&&(this.contato.idContatoTransportadora=e.id,this.descricaoTransportadora=e.apelido||"")},transportadoraLimpar(){this.contato.idContatoTransportadora="",this.descricaoTransportadora=""},async btRedeSocialadicionar_click(){const e=await this.$refs.modalRedesSociais.show({idContato:this.contato.id,itens:this.redeSocial});this.redeSocial=e},consultaAdicionar(){try{if(!this.consultaDescricao)return void this.$q.notifyError("Informar a descrição da consulta de cadastro");const e=this.consultaDescricao+` (Cadastro realizado pelo usuário: ${$db.usuario.logado.nome} - CPF: ${this.$filters.cpfCnpj($db.usuario.logado.numeroDocumentoNacional)})`;this.consulta.push({id:$utils.uuid(),idContato:this.contato.id,dataConsulta:$utils.dataAtual(),descricao:e}),this.consulta=(0,lo.orderBy)(this.consulta,"dataConsulta","desc"),this.consultaDescricao=""}catch(e){this.$q.notifyError("Ocorreu um erro ao adicionar",e)}},async fotoTrocar_click(){const e=await this.$refs.modalTrocarFoto.show();e&&(this.contato.imagem=e)},removerFoto(){delete this.contato.imagem},async grupoSelecionar_Click(){const e=await this.$refs.PromptGrupoUnico.show();e.descricao&&this.grupo.push({id:$utils.uuid(),label:e.descricao})},async atualizarTabelaPreco(e,o,t){const a=await $db.itemTabelaPreco.le({tabelaMaster:!0})||[];for(const e of a)e.empresa=(await $db.contato.le({id:e.idEmpresa})).nome;this.opcoesTabelaPreco=a,"function"==typeof o&&o()},async btSelecionarItemTabelaPreco_click(){const e=await this.$root.$refs.PromptItemTabelaPreco.show({filtro:{tabelaMaster:!0}});$lodash.get(e,"id")&&(this.contato.idItemTabelaPreco=e.id,this.descricaoItemTabelaPreco=e.descricao||"")},itemTabelaPrecoLimpar(){this.contato.idItemTabelaPreco="",this.descricaoItemTabelaPreco=""},telefoneAdicionar(){this.telefone.push({id:$utils.uuid(),idContato:this.contato.id})},telefoneAbrir(e){if(!e.telefone)return;const o="WhatsApp"===e.tipoTelefone?"https://api.whatsapp.com/send?phone=":"tel:+";this.abrirURL(o+this.formatarTelefone(e.telefone))},async telefoneRemover(e){await this.removerConfirma(),e>=0&&this.telefone.splice(e,1)},formatarTelefone:e=>e||"string"==typeof e?"55"+e.replace(/\D/g,"").replace(/^55/,""):e,enderecoAdicionar(){this.endereco.push({id:$utils.uuid(),idContato:this.contato.id})},async enderecoRemover(e){await this.removerConfirma(),e>=0&&this.endereco.splice(e,1)},enderecoIcone(e){const o=this.enderecoTipos.find((o=>o.label===e))||{};return{color:o.color||"dark",name:o.icon||"store_mall_directory",size:"Principal"===e?"18px":"24px"}},consultarCep(e){const o=this.endereco[e];if(!o.cep)return;const t=o.cep.replace(/[^0-9]/g,"");t.length<8||$utils.buscarEndereco(t).then((async({data:e})=>{if(o.bairro=e.bairro,o.complemento=e.complemento,o.ibgeCod=e.ibge,o.logradouro=e.logradouro,o.municipio=e.localidade,o.pais="Brasil",o.uf=e.uf,o.ufCod=$utils.mapearEstadoCodigo[e.uf],e.ibge){const t=await $db.cidade.le({cidadeCodIbge:e.ibge.toString(),ativo:!0});o.cidadeCodChave=(t.find((e=>e.cod))||{}).cod}}))},async selecionarCidade(e,o){const t=this.endereco[o];t.municipio=e.municipio||"",t.ibgeCod=e.ibgeCod||"",t.uf=e.uf||"",t.ufCod=e.ufCod||"",t.cidadeCodChave=e.cidadeCodChave||"",t.pais="Brasil"},validarEndereco(e){const o={...e};return delete o.id,delete o.idContato,Object.values(o).reduce(((e,o)=>e||!!o),!1)},removerConfirma(){return new Promise(((e,o)=>{this.$q.dialog({cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},title:"Remover",message:"Ao continuar você irá remover este contato.",ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{e()}))}))},verificarSeAlterouCampos(){const e={contato:this.contatoOriginal,endereco:this.enderecoOriginal,telefone:this.telefoneOriginal,redeSocial:this.redeSocialOriginal,filhos:this.filhosOriginal,consulta:this.consultaOriginal,grupo:this.grupoOriginal},o=$utils.clonarV2(this.grupo).map((e=>(e.descricao=e.label,e.idContato=this.contato.id,delete e.label,e))),t={contato:this.contato,endereco:this.endereco,telefone:this.telefone,redeSocial:this.redeSocial,filhos:this.filhos,consulta:this.consulta,grupo:o},a=$utils.diferenca(e,t);return $utils.gconsole.log("ContatoFicha","verificarSeAlterouCampos",null!==a,a),null!==a},abrirURL(e){(0,yo.Z)(e)},configRules(){this.rules={numeroDocumentoNacional:[()=>{const e=(this.contato.numeroDocumentoNacional||"").replace(/\D/g,"");if(!e.trim())return!0;if(!$utils.validarDocumentoNacional(e))return"Documento inválido";for(const o in $db.contatoBusca.novoContatos){if(o===this.contato.id)continue;const t=($db.contatoBusca.novoContatos[o].numeroDocumentoNacional||"").replace(/\D/g,"");if(t&&e===t)return"Documento já existente"}return!0}]}}},watch:{"campos.nome"(e,o){this.campos.apelido===o&&(this.campos.apelido=e)},"$route.params.id"(){this.atualizar({id:this.$route.params.id})}},created(){this.configRules(),this.permissoes={editarLimiteCredito:!1,editarCondutaRestricao:!1},$db.permissao.objeto("Diretiva_Contatos_EditaLimiteCredito").then((e=>{this.permissoes.editarLimiteCredito=e})),$db.permissao.objeto("Diretiva_Contatos_EditaCondutaRestricao").then((e=>{this.permissoes.editarCondutaRestricao=e})),this.atualizar({id:""})}};var Eo=t(4957),So=t(16078),Mo=t(38837),To=t(84384),ko=t(74488),Do=t(81312),qo=t(83831),Fo=t(83671);const Po=(0,Me.Z)(Io,[["render",function(e,o,t,ge,xe,be){const we=(0,a.resolveComponent)("avatar"),_e=(0,a.resolveComponent)("q-icon"),ye=(0,a.resolveComponent)("icone"),Ie=(0,a.resolveComponent)("q-btn"),Ee=(0,a.resolveComponent)("badge"),Se=(0,a.resolveComponent)("campo"),Me=(0,a.resolveComponent)("q-tooltip"),Te=(0,a.resolveComponent)("q-input"),ke=(0,a.resolveComponent)("row"),De=(0,a.resolveComponent)("q-item-section"),qe=(0,a.resolveComponent)("q-item-label"),Fe=(0,a.resolveComponent)("q-item"),Pe=(0,a.resolveComponent)("q-select"),Ae=(0,a.resolveComponent)("SeletorCidade"),Be=(0,a.resolveComponent)("q-card"),Le=(0,a.resolveComponent)("q-tab"),Oe=(0,a.resolveComponent)("q-tabs"),ze=(0,a.resolveComponent)("SeletorCampoTabela"),je=(0,a.resolveComponent)("gchips"),$e=(0,a.resolveComponent)("q-tab-panel"),Ue=(0,a.resolveComponent)("q-toggle"),Ze=(0,a.resolveComponent)("q-separator"),Qe=(0,a.resolveComponent)("q-card-section"),Re=(0,a.resolveComponent)("q-tab-panels"),Ge=(0,a.resolveComponent)("q-footer"),He=(0,a.resolveComponent)("q-form"),Je=(0,a.resolveComponent)("contato-criar"),Ye=(0,a.resolveComponent)("RedesSociaisModal"),Xe=(0,a.resolveComponent)("modalTrocarFoto"),We=(0,a.resolveComponent)("ConsultaCNPJ"),Ke=(0,a.resolveComponent)("PromptGrupoUnico"),eo=(0,a.resolveDirective)("mask");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(He,{ref:"form",onSubmit:be.salvarContato,class:"ContatoFicha q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Be,{class:"bg-white no-shadow q-px-md q-py-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(ke,{class:"q-col-gutter-x-md justify-around"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",i,[(0,a.createVNode)(we,{imagem:xe.contato.imagem,rotulo:xe.contato.apelido,tamanho:"160",onClick:be.fotoTrocar_click},null,8,["imagem","rotulo","onClick"]),(0,a.createElementVNode)("div",r,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(xe.redeSocial,((e,o)=>((0,a.openBlock)(),(0,a.createBlock)(Ie,{color:"link"===e.tipo?"primary":e.tipo,key:o,round:"",size:"sm",onClick:o=>be.abrirURL(e.link),class:"q-mx-xs"},{default:(0,a.withCtx)((()=>["link"===e.tipo?((0,a.openBlock)(),(0,a.createBlock)(_e,{key:0,name:"launch"})):((0,a.openBlock)(),(0,a.createBlock)(ye,{key:1,nome:e.tipo,tamanho:"12"},null,8,["nome"]))])),_:2},1032,["color","onClick"])))),128)),(0,a.createVNode)(Ie,{color:"positive",icon:"add",outline:"",round:be.temRedeSocial,size:"sm",class:"q-mx-xs",onClick:be.btRedeSocialadicionar_click},null,8,["round","onClick"])])]),(0,a.createElementVNode)("div",l,[xe.contato&&xe.contato.codigoContato?((0,a.openBlock)(),(0,a.createElementBlock)("div",s,[(0,a.createVNode)(Ee,{cor:be.badgeCor,escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("#"+(0,a.toDisplayString)((xe.contato.codigoContato||0).toString().padStart(6,"0")),1)])),_:1},8,["cor"])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(Se,{tipo:"texto",class:"q-title",placeholder:be.ehEmpresa?"Fantasia":"Apelido",autogrow:"","class-campo":"q-pb-sm",modelValue:xe.contato.apelido,"onUpdate:modelValue":o[0]||(o[0]=e=>xe.contato.apelido=e),rules:[e=>e&&e.length>2||"obrigatório."],dense:""},null,8,["placeholder","modelValue","rules"]),(0,a.createVNode)(Se,{tipo:"texto",rotulo:be.ehEmpresa?"Razão social":"Nome completo",modelValue:xe.contato.nome,"onUpdate:modelValue":o[1]||(o[1]=e=>xe.contato.nome=e),autogrow:"","class-campo":"q-pb-sm",rules:[e=>e&&e.length>2||"O nome é obrigatório."],dense:""},null,8,["rotulo","modelValue","rules"]),(0,a.createVNode)(ke,{class:"q-col-gutter-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",n,[(0,a.withDirectives)((0,a.createVNode)(Te,{label:be.ehEmpresa?"CNPJ":"CPF/CNPJ",class:"q-pb-xs",modelValue:xe.contato.numeroDocumentoNacional,"onUpdate:modelValue":o[3]||(o[3]=e=>xe.contato.numeroDocumentoNacional=e),rules:xe.rules.numeroDocumentoNacional,dense:""},{append:(0,a.withCtx)((()=>[18===(xe.contato.numeroDocumentoNacional||"").length&&e.$utils.validarDocumentoNacional(xe.contato.numeroDocumentoNacional)?((0,a.openBlock)(),(0,a.createBlock)(Ie,{key:0,dense:"",flat:"",round:"",icon:"mdi-arrow-down-bold-circle",color:"positive",onClick:o[2]||(o[2]=o=>e.$refs.consultaCNPJ.consultar(xe.contato.numeroDocumentoNacional))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Me,null,{default:(0,a.withCtx)((()=>[c])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1},8,["label","modelValue","rules"]),[[eo,["###.###.###-##","##.###.###/####-##"]]])]),(0,a.createElementVNode)("div",d,[(0,a.createVNode)(Se,{rotulo:be.ehEmpresa?"Inscrição estadual":"RG/IE",modelValue:xe.contato.numeroDocumentoEstadual,"onUpdate:modelValue":o[4]||(o[4]=e=>xe.contato.numeroDocumentoEstadual=e),class:"q-pb-xs"},null,8,["rotulo","modelValue"])]),(0,a.createElementVNode)("div",m,[(0,a.createVNode)(Se,{rotulo:"Inscrição municipal",modelValue:xe.contato.numeroDocumentoMunicipal,"onUpdate:modelValue":o[5]||(o[5]=e=>xe.contato.numeroDocumentoMunicipal=e),class:"q-pb-xs"},null,8,["modelValue"])])])),_:1}),u,((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(xe.telefone,((e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o,class:"q-mt-md"},[(0,a.createVNode)(ke,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",p,[(0,a.createVNode)(Pe,{modelValue:e.tipoTelefone,"onUpdate:modelValue":o=>e.tipoTelefone=o,options:xe.telefoneTipos,"option-value":"value","option-label":"label","emit-value":"","map-options":"",dense:"",label:"Tipo"},{before:(0,a.withCtx)((()=>[(0,a.createVNode)(Ie,{flat:"",round:"",icon:(xe.telefoneTipos.find((o=>o.value===e.tipoTelefone))||{}).icon||"star",color:"tertiary",size:"sm",onClick:o=>be.telefoneAbrir(e)},null,8,["icon","onClick"])])),option:(0,a.withCtx)((e=>[(0,a.createVNode)(Fe,(0,a.normalizeProps)((0,a.guardReactiveProps)(e.itemProps)),{default:(0,a.withCtx)((()=>[(0,a.createVNode)(De,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_e,{name:e.opt.icon},null,8,["name"])])),_:2},1024),(0,a.createVNode)(De,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(qe,{innerHTML:e.opt.label},null,8,["innerHTML"])])),_:2},1024)])),_:2},1040)])),_:2},1032,["modelValue","onUpdate:modelValue","options"])]),(0,a.createElementVNode)("div",h,[(0,a.createVNode)(Se,{rotulo:"Telefone",modelValue:e.telefone,"onUpdate:modelValue":o=>e.telefone=o},null,8,["modelValue","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",C,[(0,a.createElementVNode)("div",v,[(0,a.createVNode)(Se,{rotulo:"Descrição",modelValue:e.observacao,"onUpdate:modelValue":o=>e.observacao=o},null,8,["modelValue","onUpdate:modelValue"])])]),(0,a.createElementVNode)("div",f,[(0,a.createVNode)(Ie,{color:"negative",size:"xs",class:"q-mt-md",icon:"remove",outline:"",round:"",onClick:e=>be.telefoneRemover(o)},null,8,["onClick"])])])),_:2},1024)])))),128)),(0,a.createElementVNode)("div",N,[(0,a.createVNode)(Ie,{color:"positive",icon:"add",label:"Telefone",outline:"",size:"sm",onClick:be.telefoneAdicionar},null,8,["onClick"])]),V,((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(xe.endereco,((e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"u-separador animate-pop q-mt-md",key:o},[(0,a.createVNode)(ke,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",g,[(0,a.createVNode)(Pe,{modelValue:e.grupo,"onUpdate:modelValue":o=>e.grupo=o,options:xe.enderecoTipos,"option-value":"value","option-label":"label",class:"q-pb-md","emit-value":"","map-options":"",dense:"",label:"Grupo"},{before:(0,a.withCtx)((()=>[(0,a.createVNode)(_e,(0,a.mergeProps)(be.enderecoIcone(e.grupo),{color:"tertiary",size:"xs",class:"q-mx-xs"}),null,16)])),option:(0,a.withCtx)((e=>[(0,a.createVNode)(Fe,(0,a.normalizeProps)((0,a.guardReactiveProps)(e.itemProps)),{default:(0,a.withCtx)((()=>[(0,a.createVNode)(De,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_e,{name:e.opt.icon},null,8,["name"])])),_:2},1024),(0,a.createVNode)(De,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(qe,{innerHTML:e.opt.label},null,8,["innerHTML"])])),_:2},1024)])),_:2},1040)])),_:2},1032,["modelValue","onUpdate:modelValue","options"])])])),_:2},1024),(0,a.createVNode)(ke,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",x,[(0,a.createVNode)(Se,{debounce:"500",rotulo:"CEP",tipo:"texto",modelValue:e.cep,"onUpdate:modelValue":o=>e.cep=o,onChange:e=>be.consultarCep(o),mask:"#####-###",dense:"",rules:[e=>e&&8===e.replace(/\D/g,"").length||"O CEP está muito curto."],class:"q-pb-none"},null,8,["modelValue","onUpdate:modelValue","onChange","rules"])]),(0,a.createElementVNode)("div",b,[(0,a.createVNode)(Se,{"class-campo":"q-pb-none ",rotulo:"UF",maxlength:"2",modelValue:e.uf,"onUpdate:modelValue":o=>e.uf=o,onBlur:xe.endereco.$touch,dense:"",rules:[e=>e&&2===e.length||"Insira um UF."]},null,8,["modelValue","onUpdate:modelValue","onBlur","rules"])]),(0,a.createElementVNode)("div",w,[(0,a.createVNode)(Ae,{ibgeCod:e.ibgeCod,onSelecionar:e=>be.selecionarCidade(e,o),required:""},null,8,["ibgeCod","onSelecionar"])]),(0,a.createElementVNode)("div",_,[(0,a.createVNode)(Se,{"class-campo":"q-pb-md",rotulo:"Endereço",modelValue:e.logradouro,"onUpdate:modelValue":o=>e.logradouro=o,autogrow:"",onBlur:xe.endereco.$touch,dense:""},null,8,["modelValue","onUpdate:modelValue","onBlur"])]),(0,a.createElementVNode)("div",y,[(0,a.createVNode)(Se,{"class-campo":"q-pb-md",rotulo:"Número",modelValue:e.numero,"onUpdate:modelValue":o=>e.numero=o,onBlur:xe.endereco.$touch,dense:""},null,8,["modelValue","onUpdate:modelValue","onBlur"])]),(0,a.createElementVNode)("div",I,[(0,a.createVNode)(Se,{rotulo:"Complemento",modelValue:e.complemento,"onUpdate:modelValue":o=>e.complemento=o,onBlur:xe.endereco.$touch,"class-campo":"q-pb-md",dense:""},null,8,["modelValue","onUpdate:modelValue","onBlur"])]),(0,a.createElementVNode)("div",E,[(0,a.createVNode)(Se,{rotulo:"Bairro",modelValue:e.bairro,"onUpdate:modelValue":o=>e.bairro=o,onBlur:xe.endereco.$touch,"class-campo":"q-pb-sm",dense:""},null,8,["modelValue","onUpdate:modelValue","onBlur"])]),(0,a.createElementVNode)("div",S,[(0,a.createVNode)(Se,{rotulo:"País",modelValue:e.pais,"onUpdate:modelValue":o=>e.pais=o,onBlur:xe.endereco.$touch,"class-campo":"q-pb-sm",dense:""},null,8,["modelValue","onUpdate:modelValue","onBlur"])]),(0,a.createElementVNode)("div",M,[(0,a.createVNode)(Ie,{color:"negative",size:"xs",icon:"remove",class:"q-mt-md",outline:"",round:"",onClick:e=>be.enderecoRemover(o)},null,8,["onClick"])])])),_:2},1024)])))),128)),(0,a.createElementVNode)("div",T,[(0,a.createVNode)(Ie,{color:"positive",icon:"add",label:"Endereço",outline:"",size:"sm",onClick:be.enderecoAdicionar},null,8,["onClick"])])]),(0,a.createElementVNode)("div",k,[(0,a.createVNode)(Se,{rotulo:"Observações",rows:"10",tipo:"textoArea",modelValue:xe.contato.observacao,"onUpdate:modelValue":o[6]||(o[6]=e=>xe.contato.observacao=e)},null,8,["modelValue"])])])),_:1})])),_:1}),(0,a.createVNode)(Oe,{modelValue:xe.tab,"onUpdate:modelValue":o[7]||(o[7]=e=>xe.tab=e),class:"bg-transparent q-mt-lg text-primary",color:"transparent",align:"left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Le,{label:"Dados Adicionais",name:"profile-tab-1"}),(0,a.createVNode)(Le,{label:"Dependentes / Empresa",name:"profile-tab-2"}),(0,a.createVNode)(Le,{label:"Consulta de cadastro",name:"profile-tab-3"}),(0,a.createVNode)(Le,{label:"Conduta",name:"profile-tab-4"}),(0,a.createVNode)(Le,{label:"Configurações comerciais",name:"profile-tab-5"})])),_:1},8,["modelValue"]),(0,a.createVNode)(Re,{modelValue:xe.tab,"onUpdate:modelValue":o[33]||(o[33]=e=>xe.tab=e),animated:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)($e,{class:"bg-white",name:"profile-tab-1"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(ke,{class:"q-col-gutter-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",D,[(0,a.createVNode)(Se,{modelValue:xe.contato.email,"onUpdate:modelValue":o[8]||(o[8]=e=>xe.contato.email=e),before:[{icon:"alternate_email"}],rotulo:"E-mail",rules:[e=>be.validateEmail(e)||0===(e||"").length||"email inválido"]},null,8,["modelValue","rules"])]),(0,a.createElementVNode)("div",q,[(0,a.createVNode)(Se,{modelValue:xe.contato.site,"onUpdate:modelValue":o[9]||(o[9]=e=>xe.contato.site=e),before:[{icon:"language"}],rotulo:"Site"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",F,[(0,a.createVNode)(ze,{modelValue:xe.contato.segmento,"onUpdate:modelValue":o[10]||(o[10]=e=>xe.contato.segmento=e),tabela:"contato",campo:"segmento",label:be.segmentoProfissao,enableAdd:""},null,8,["modelValue","label"])]),be.ehEmpresa?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createElementVNode)("div",P,[(0,a.createVNode)(Se,{tipo:"seletor",dense:"","rotulo-fixo":"Regime",options:xe.regimes,modelValue:xe.contato.regime,"onUpdate:modelValue":o[11]||(o[11]=e=>xe.contato.regime=e)},null,8,["options","modelValue"])]),"Normal"===xe.contato.regime?((0,a.openBlock)(),(0,a.createElementBlock)("div",A,[(0,a.createVNode)(Se,{modelValue:xe.contato.tributacao,"onUpdate:modelValue":o[12]||(o[12]=e=>xe.contato.tributacao=e),tipo:"seletor","rotulo-fixo":"Tributação",opcoes:[{rotulo:"",valor:""},{rotulo:"Lucro real",valor:"1"},{rotulo:"Lucro presumido",valor:"2"}]},null,8,["modelValue"])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",B,[(0,a.createVNode)(Se,{modelValue:xe.contato.tributacaoSetor,"onUpdate:modelValue":o[13]||(o[13]=e=>xe.contato.tributacaoSetor=e),opcoes:[{rotulo:"",valor:""},{rotulo:"Indústria",valor:"1"},{rotulo:"Outros",valor:"99"}],"rotulo-fixo":"Setor tributação",tipo:"seletor"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",L,[(0,a.createVNode)(Se,{modelValue:xe.contato.dataAbertura,"onUpdate:modelValue":o[14]||(o[14]=e=>xe.contato.dataAbertura=e),rotulo:"Data de abertura",clearable:"",suffix:xe.contato.dataAbertura?`${be.idade} anos`:"",max:Date.now(),tipo:"data"},null,8,["modelValue","suffix","max"])])],64)):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createElementVNode)("div",O,[(0,a.createVNode)(Se,{tipo:"seletor","rotulo-fixo":"Sexo",options:xe.sexos,modelValue:xe.contato.sexo,"onUpdate:modelValue":o[15]||(o[15]=e=>xe.contato.sexo=e)},null,8,["options","modelValue"])]),(0,a.createElementVNode)("div",z,[(0,a.createVNode)(Se,{modelValue:xe.contato.dataAbertura,"onUpdate:modelValue":o[16]||(o[16]=e=>xe.contato.dataAbertura=e),rotulo:"Data de nascimento",clearable:"",suffix:xe.contato.dataAbertura?`${be.idade} anos`:"",max:Date.now(),tipo:"data"},null,8,["modelValue","suffix","max"])])],64))])),_:1}),(0,a.createVNode)(ke,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",j,[(0,a.createVNode)(je,{modelValue:xe.grupo,"onUpdate:modelValue":o[17]||(o[17]=e=>xe.grupo=e),rotulo:"Grupos",dense:"",before:[{icon:"local_offer",handler(){be.grupoSelecionar_Click()}}]},null,8,["modelValue","before"])])])),_:1})])),_:1}),(0,a.createVNode)($e,{class:"bg-white",name:"profile-tab-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(ke,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Pe,{modelValue:xe.filhoCampo,"onUpdate:modelValue":[o[18]||(o[18]=e=>xe.filhoCampo=e),be.filhoAdicionar],"use-input":"","input-debounce":"500",label:"Dependentes",options:xe.opcoesDependentes,outlined:"",onFilter:be.filhosBuscar},{append:(0,a.withCtx)((()=>[(0,a.createVNode)(Ie,{color:"tertiary",size:"lg",icon:"person_add",dense:"",flat:"",round:"",onClick:be.dependenteCriar},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Me,null,{default:(0,a.withCtx)((()=>[$])),_:1})])),_:1},8,["onClick"])])),_:1},8,["modelValue","options","onFilter","onUpdate:modelValue"])])),_:1}),(0,a.createElementVNode)("div",U,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(xe.filhos.filter((e=>e.idContato===xe.contato.id)),(e=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:e.id},[(0,a.createVNode)(ke,{class:"q-col-gutter-x-md items-center"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Z,[(0,a.createVNode)(we,{imagem:(xe.filhosId[e.idContatoRelacionado]||{}).imagem,rotulo:(xe.filhosId[e.idContatoRelacionado]||{}).apelido},null,8,["imagem","rotulo"])]),(0,a.createElementVNode)("div",Q,[(0,a.createElementVNode)("p",R,(0,a.toDisplayString)((xe.filhosId[e.idContatoRelacionado]||{}).apelido),1),(0,a.createElementVNode)("p",G,(0,a.toDisplayString)((xe.filhosId[e.idContatoRelacionado]||{}).nome),1),(0,a.createElementVNode)("p",H,(0,a.toDisplayString)((xe.filhosId[e.idContatoRelacionado]||{}).numeroDocumentoNacional||""),1),(0,a.createElementVNode)("span",J,[(0,a.createVNode)(Se,{modelValue:e.observacao,"onUpdate:modelValue":o=>e.observacao=o,rotulo:"Observacao"},null,8,["modelValue","onUpdate:modelValue"])]),(0,a.createElementVNode)("span",Y,[(0,a.createVNode)(Ue,{modelValue:e.socio,"onUpdate:modelValue":o=>e.socio=o,val:!0,label:"Sócio",class:"q-pl-none"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(Ue,{modelValue:e.cobranca,"onUpdate:modelValue":o=>e.cobranca=o,val:!0,label:"Cobrança",class:"q-pl-none"},null,8,["modelValue","onUpdate:modelValue"])])]),(0,a.createElementVNode)("div",X,[(0,a.createVNode)(Se,{modelValue:e.observacao,"onUpdate:modelValue":o=>e.observacao=o,rotulo:"Observacao",autogrow:"",filled:""},null,8,["modelValue","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",W,[(0,a.createVNode)(Ue,{modelValue:e.socio,"onUpdate:modelValue":o=>e.socio=o,val:!0,label:"Sócio"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(Ue,{modelValue:e.cobranca,"onUpdate:modelValue":o=>e.cobranca=o,val:!0,label:"Cobrança"},null,8,["modelValue","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",K,[(0,a.createVNode)(ke,{class:"justify-end"},{default:(0,a.withCtx)((()=>[!xe.somenteCarteira||xe.somenteCarteira&&xe.contatoUsuario.id&&(xe.filhosId[e.idContatoRelacionado]||{}).idContatoVendedor===xe.contatoUsuario.id?((0,a.openBlock)(),(0,a.createBlock)(Ie,{key:0,outline:"",round:"",dense:"",color:"tertiary",icon:"edit",class:"q-mr-sm",to:{name:"AtendimentoContato",params:{id:e.idContatoRelacionado}}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Me,null,{default:(0,a.withCtx)((()=>[ee])),_:1})])),_:2},1032,["to"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(Ie,{outline:"",dense:"",round:"",color:"negative",icon:"remove",onClick:o=>be.filhoRemover(e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Me,null,{default:(0,a.withCtx)((()=>[oe])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])])),_:2},1024),(0,a.createVNode)(Ze)],64)))),128))])])),_:1}),(0,a.createVNode)($e,{class:"bg-white",name:"profile-tab-3"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(ke,{class:"q-col-gutter-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",te,[(0,a.createVNode)(Se,{rotulo:"Descrição",modelValue:xe.consultaDescricao,"onUpdate:modelValue":o[19]||(o[19]=e=>xe.consultaDescricao=e),modelModifiers:{trim:!0}},null,8,["modelValue"])]),(0,a.createElementVNode)("div",ae,[(0,a.createVNode)(Ie,{color:"positive",icon:"add",label:"Consulta",outline:"",size:"sm",onClick:be.consultaAdicionar},null,8,["onClick"])])])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(xe.consulta,((o,t)=>((0,a.openBlock)(),(0,a.createBlock)(Be,{class:"animate-pop q-mt-md shadow-1",key:t},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Qe,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",null,(0,a.toDisplayString)(o.descricao),1),(0,a.createElementVNode)("span",null,[ie,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.$filters.dataHora(o.dataConsulta)),1)])])),_:2},1024)])),_:2},1024)))),128))])),_:1}),(0,a.createVNode)($e,{modelValue:xe.tab,"onUpdate:modelValue":o[22]||(o[22]=e=>xe.tab=e),class:"bg-white",name:"profile-tab-4"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(ke,{class:"q-col-gutter-sm q-pb-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",re,[(0,a.createVNode)(Se,{rows:"3",rotulo:"Observações",tipo:"textoArea",modelValue:xe.contato.condutaObservacao,"onUpdate:modelValue":o[20]||(o[20]=e=>xe.contato.condutaObservacao=e),"class-campo":"q-mb-sm",ajuda:"Este conteúdo será exibido sempre que um documento for criado para este contato."},null,8,["modelValue"])]),(0,a.createElementVNode)("div",le,[(0,a.createVNode)(Se,{rows:"3",rotulo:"Restrição",tipo:"textoArea",modelValue:xe.contato.condutaRestricao,"onUpdate:modelValue":o[21]||(o[21]=e=>xe.contato.condutaRestricao=e),"class-campo":"q-mb-sm",somenteleitura:!xe.permissoes.editarCondutaRestricao,ajuda:"Ao preencher este campo, o contato não poderá comprar e o operador visualizará esta mensagem."},null,8,["modelValue","somenteleitura"])])])),_:1})])),_:1},8,["modelValue"]),(0,a.createVNode)($e,{modelValue:xe.tab,"onUpdate:modelValue":o[32]||(o[32]=e=>xe.tab=e),class:"bg-white",name:"profile-tab-5"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",se,[(0,a.createVNode)(Pe,{dense:"",rounded:"",modelValue:xe.descricaoVendedor,"onUpdate:modelValue":o[23]||(o[23]=e=>xe.descricaoVendedor=e),label:"Vendedor",options:["a","b"],disable:xe.podeAlterarVendedorAssistente,onFilter:be.btSelecionarVendedor_click,class:"col-12 col-sm-4"},{append:(0,a.withCtx)((()=>[""!==xe.descricaoVendedor?((0,a.openBlock)(),(0,a.createBlock)(_e,{key:0,name:"close",onClick:(0,a.withModifiers)(be.vendedorLimpar,["stop"]),class:"cursor-pointer"},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(_e,{name:"search",onClick:(0,a.withModifiers)(be.btSelecionarVendedor_click,["stop"]),class:"cursor-pointer"},null,8,["onClick"])])),_:1},8,["modelValue","disable","onFilter"]),(0,a.createVNode)(Pe,{dense:"",rounded:"",modelValue:xe.descricaoAssistente,"onUpdate:modelValue":o[24]||(o[24]=e=>xe.descricaoAssistente=e),label:"Assistente",options:["a","b"],disable:xe.podeAlterarVendedorAssistente,onFilter:be.btSelecionarAssistente_click,class:"col-12 col-sm-4"},{append:(0,a.withCtx)((()=>[""!==xe.descricaoAssistente?((0,a.openBlock)(),(0,a.createBlock)(_e,{key:0,name:"close",onClick:(0,a.withModifiers)(be.assistenteLimpar,["stop"]),class:"cursor-pointer"},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(_e,{name:"search",onClick:(0,a.withModifiers)(be.btSelecionarAssistente_click,["stop"]),class:"cursor-pointer"},null,8,["onClick"])])),_:1},8,["modelValue","disable","onFilter"]),(0,a.createVNode)(Se,{class:"col-12 col-sm-4",modelValue:xe.contato.limiteCredito,"onUpdate:modelValue":o[25]||(o[25]=e=>xe.contato.limiteCredito=e),decimals:"2",rotulo:"Limite de crédito",tipo:"decimal","somente-leitura":!xe.permissoes.editarLimiteCredito},null,8,["modelValue","somente-leitura"]),(0,a.createVNode)(Pe,{dense:"",rounded:"",modelValue:xe.contato.idItemTabelaPreco,"onUpdate:modelValue":o[27]||(o[27]=e=>xe.contato.idItemTabelaPreco=e),label:"Tabela de preço",options:xe.opcoesTabelaPreco,"option-value":"id","option-label":"descricao",onFilter:be.atualizarTabelaPreco,"emit-value":"","map-options":"",class:"col-12 col-sm-4"},(0,a.createSlots)({option:(0,a.withCtx)((o=>[(0,a.createVNode)(Fe,(0,a.normalizeProps)((0,a.guardReactiveProps)(o.itemProps)),{default:(0,a.withCtx)((()=>[(0,a.createVNode)(De,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(qe,{innerHTML:o.opt.descricao},null,8,["innerHTML"]),(0,a.createVNode)(qe,{caption:""},{default:(0,a.withCtx)((()=>[ne,(0,a.createTextVNode)((0,a.toDisplayString)(o.opt.empresa),1)])),_:2},1024),o.opt.fatorPercentual?((0,a.openBlock)(),(0,a.createBlock)(qe,{key:0,caption:"",sublabel:""},{default:(0,a.withCtx)((()=>[ce,(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(o.opt.fatorPercentual,2))+" %",1)])),_:2},1024)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(qe,{caption:""},{default:(0,a.withCtx)((()=>[de,(0,a.createTextVNode)((0,a.toDisplayString)(o.opt.arredondamento?"Sim":"Não"),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:2},[xe.contato.idItemTabelaPreco?{name:"append",fn:(0,a.withCtx)((()=>[(0,a.createVNode)(_e,{name:"close",onClick:o[26]||(o[26]=(0,a.withModifiers)((e=>{xe.contato.idItemTabelaPreco="",xe.contato.codigoItemTabelaPreco=""}),["stop"])),class:"cursor-pointer"})]))}:void 0]),1032,["modelValue","options","onFilter"]),(0,a.createVNode)(Pe,{dense:"",rounded:"",modelValue:xe.descricaoFormaPagamento,"onUpdate:modelValue":o[28]||(o[28]=e=>xe.descricaoFormaPagamento=e),label:"Forma de pagamento",options:["a","b"],onFilter:be.btSelecionaFormaPagamento_click,class:"col-12 col-sm-4"},{append:(0,a.withCtx)((()=>[""!==xe.descricaoFormaPagamento?((0,a.openBlock)(),(0,a.createBlock)(_e,{key:0,name:"close",onClick:(0,a.withModifiers)(be.formaPagamentoLimpar,["stop"]),class:"cursor-pointer"},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(_e,{name:"search",onClick:(0,a.withModifiers)(be.btSelecionaFormaPagamento_click,["stop"]),class:"cursor-pointer"},null,8,["onClick"])])),_:1},8,["modelValue","onFilter"]),(0,a.createVNode)(Pe,{dense:"",rounded:"",modelValue:xe.descricaoTransportadora,"onUpdate:modelValue":o[29]||(o[29]=e=>xe.descricaoTransportadora=e),label:"Transportadora",options:["a","b"],onFilter:be.btSelecionarTransportadora_click,class:"col-12 col-sm-4"},{append:(0,a.withCtx)((()=>[""!==xe.descricaoTransportadora?((0,a.openBlock)(),(0,a.createBlock)(_e,{key:0,name:"close",onClick:(0,a.withModifiers)(be.transportadoraLimpar,["stop"]),class:"cursor-pointer"},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(_e,{name:"search",onClick:(0,a.withModifiers)(be.btSelecionarTransportadora_click,["stop"]),class:"cursor-pointer"},null,8,["onClick"])])),_:1},8,["modelValue","onFilter"]),(0,a.createElementVNode)("div",me,[(0,a.createVNode)(Se,{rotulo:"E-mail NFe",modelValue:xe.contato.emailNfe,"onUpdate:modelValue":o[30]||(o[30]=e=>xe.contato.emailNfe=e)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",ue,[(0,a.createVNode)(Se,{rotulo:"Observações na NFe",modelValue:xe.contato.observacaoNFE,"onUpdate:modelValue":o[31]||(o[31]=e=>xe.contato.observacaoNFE=e)},null,8,["modelValue"])])])])),_:1},8,["modelValue"])])),_:1},8,["modelValue"]),(0,a.createElementVNode)("div",pe,[xe.contato.dataCadastro?((0,a.openBlock)(),(0,a.createElementBlock)("small",he,"Data do cadastro: "+(0,a.toDisplayString)(e.$filters.dataHora(xe.contato.dataCadastro)),1)):(0,a.createCommentVNode)("",!0),xe.contato.dataAlteracao?((0,a.openBlock)(),(0,a.createElementBlock)("small",Ce,"Última alteração: "+(0,a.toDisplayString)(e.$filters.dataHora(xe.contato.dataAlteracao)),1)):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(Ge,{class:"bg-light no-shadow q-pa-sm text-right u-bordaCima"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ve,[xe.contato.ativo?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(Ie,{color:"tertiary",flat:"",label:"Cancelar",onClick:be.aoCancelar},null,8,["onClick"]),(0,a.createVNode)(Ie,{class:"q-ml-sm no-shadow",color:"primary",unelevated:"",label:"Salvar",type:"submit"}),(0,a.createVNode)(Ie,{color:"tertiary",flat:"",icon:"delete",round:"",onClick:be.contatoRemover},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Me,null,{default:(0,a.withCtx)((()=>[fe])),_:1})])),_:1},8,["onClick"])],64)):((0,a.openBlock)(),(0,a.createElementBlock)("div",Ne,[Ve,(0,a.createVNode)(Ie,{class:"q-ml-sm text-white",unelevated:"",color:"primary",onClick:be.restaurarContato,label:"Restaurar contato"},null,8,["onClick"])]))])])),_:1})])),_:1},8,["onSubmit"]),(0,a.createVNode)(Je,{ref:"promptCriarDependente","cpf-cnpj":"","data-nascimento":"",observacao:""},null,512),(0,a.createVNode)(Ye,{ref:"modalRedesSociais"},null,512),(0,a.createVNode)(Xe,{ref:"modalTrocarFoto"},null,512),(0,a.createVNode)(We,{ref:"consultaCNPJ",contato:xe.contato,endereco:xe.endereco},null,8,["contato","endereco"]),(0,a.createVNode)(Ke,{ref:"PromptGrupoUnico"},null,512)],64)}]]);Pe()(Io,"components",{QForm:oo.Z,QCard:Ye.Z,QBtn:Ke.Z,QIcon:uo.Z,QInput:mo.Z,QTooltip:Eo.Z,QSelect:Te.Z,QItem:ke.Z,QItemSection:De.Z,QItemLabel:qe.Z,QTabs:So.Z,QTab:Mo.Z,QTabPanels:To.Z,QTabPanel:ko.Z,QToggle:Do.Z,QSeparator:qo.Z,QCardSection:Xe.Z,QFooter:Fo.Z})},85956:(e,o,t)=>{"use strict";t.d(o,{Z:()=>f});var a=t(34182);const i={class:"row justify-end"},r={data(){return{visivel:!1,campos:{nome:"",numeroDocumentoNacional:""},validations:{nome:[e=>""!==(e||"").trim()||"O nome é obrigatório",e=>e.length>=2&&e.length<=50||"Use 2 ou mais caracteres"],numeroDocumentoNacional:[async e=>{const o=(this.campos||{}).id||"",{valido:t,mensagem:a}=await $utils.validarDocumentoNacionalUnico(e,o);return t||a}]},observacaoFilho:""}},methods:{async criarContato(){try{const e=await $db.contato.criarContatoBasico(this.campos);e.observacaoFilho=this.observacaoFilho,this.resolve(e),this.visivel=!1,this.$q.notifyPositive(this.msgSucesso)}catch(e){this.$q.notifyError(this.msgErro,e)}},onHide(){this.resolve()},mostrar(){return this.campos={nome:"",numeroDocumentoNacional:""},this.observacaoFilho="",this.visivel=!0,new Promise(((e,o)=>{this.resolve=e}))}},props:{cpfCnpj:{default:!1,type:Boolean},dataNascimento:{default:!1,type:Boolean},msgErro:{default:"Ocorreu um erro ao salvar.",type:String},msgSucesso:{default:"Contato criado com sucesso.",type:String},numeroDocumentoMunicipal:{type:String},observacao:{default:!1,type:Boolean},titulo:{default:"Criar contato",type:String}}};var l=t(74260),s=t(39341),n=t(83054),c=t(46229),d=t(47266),m=t(76210),u=t(48761),p=t(782),h=t(98586),C=t(7518),v=t.n(C);const f=(0,l.Z)(r,[["render",function(e,o,t,r,l,s){const n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("campo"),u=(0,a.resolveComponent)("row"),p=(0,a.resolveComponent)("q-card-section"),h=(0,a.resolveComponent)("q-form"),C=(0,a.resolveComponent)("q-card"),v=(0,a.resolveComponent)("q-dialog"),f=(0,a.resolveDirective)("close-popup"),N=(0,a.resolveDirective)("mask");return(0,a.openBlock)(),(0,a.createBlock)(v,{modelValue:l.visivel,"onUpdate:modelValue":o[5]||(o[5]=e=>l.visivel=e),onHide:o[6]||(o[6]=e=>s.onHide())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"ItemFicha",onSubmit:s.criarContato},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[f]]),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.titulo),1)])),_:1})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{col:"12",modelValue:l.campos.nome,"onUpdate:modelValue":o[0]||(o[0]=e=>l.campos.nome=e),modelModifiers:{trim:!0},rotulo:"Nome do contato",rules:l.validations.nome,maxlength:"50"},null,8,["modelValue","rules"]),t.cpfCnpj?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,col:"12",modelValue:l.campos.numeroDocumentoNacional,"onUpdate:modelValue":o[1]||(o[1]=e=>l.campos.numeroDocumentoNacional=e),modelModifiers:{trim:!0},rotulo:"CPF/CNPJ",rules:l.validations.numeroDocumentoNacional},null,8,["modelValue","rules"])),[[N,["###.###.###-##","##.###.###/####-##"]]]):(0,a.createCommentVNode)("",!0),t.numeroDocumentoMunicipal?((0,a.openBlock)(),(0,a.createBlock)(m,{key:1,col:"12",modelValue:l.campos.numeroDocumentoMunicipal,"onUpdate:modelValue":o[2]||(o[2]=e=>l.campos.numeroDocumentoMunicipal=e),rotulo:t.numeroDocumentoMunicipal},null,8,["modelValue","rotulo"])):(0,a.createCommentVNode)("",!0),t.dataNascimento?((0,a.openBlock)(),(0,a.createBlock)(m,{key:2,modelValue:l.campos.dataAbertura,"onUpdate:modelValue":o[3]||(o[3]=e=>l.campos.dataAbertura=e),col:"12",rotulo:"Data de nascimento",tipo:"data"},null,8,["modelValue"])):(0,a.createCommentVNode)("",!0),t.observacao?((0,a.openBlock)(),(0,a.createBlock)(m,{key:3,modelValue:l.observacaoFilho,"onUpdate:modelValue":o[4]||(o[4]=e=>l.observacaoFilho=e),modelModifiers:{trim:!0},col:"12",maxlength:"50",rotulo:"Observacao"},null,8,["modelValue"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",i,[(0,a.withDirectives)((0,a.createVNode)(n,{flat:"",color:"tertiary",label:"Cancelar"},null,512),[[f]]),(0,a.createVNode)(n,{unelevated:"",color:"primary",label:"Criar",type:"submit"})])])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"])}]]);v()(r,"components",{QDialog:s.Z,QCard:n.Z,QForm:c.Z,QToolbar:d.Z,QBtn:m.Z,QToolbarTitle:u.Z,QCardSection:p.Z}),v()(r,"directives",{ClosePopup:h.Z})},26929:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>d});var a=t(34182);const i=(0,a.createTextVNode)(" Ferramentas para testes "),r={async mounted(){const e=await $utils.geeksApi({clienteSistemas:{funcao:"50BD6521-7654-4455-A161-BDFFCC1AA3A9"}},{bancoDeDados:"GeeksPlat15A"});console.log(e)}};var l=t(74260),s=t(24515),n=t(7518),c=t.n(n);const d=(0,l.Z)(r,[["render",function(e,o,t,r,l,s){const n=(0,a.resolveComponent)("q-page");return(0,a.openBlock)(),(0,a.createBlock)(n,{padding:""},{default:(0,a.withCtx)((()=>[i])),_:1})}]]);c()(r,"components",{QPage:s.Z})},27430:(e,o,t)=>{"use strict";t.d(o,{Z:()=>de});var a=t(34182);const i=(0,a.createElementVNode)("div",{class:"col-2"},"Tipo estoque",-1),r=(0,a.createElementVNode)("div",{class:"col-2"},"Lote",-1),l=(0,a.createElementVNode)("div",{class:"col-2"},"Saldo",-1),s=(0,a.createElementVNode)("div",{class:"col-2"},"Custo Médio",-1),n=(0,a.createElementVNode)("div",{class:"col-2"},"Custo Real",-1),c=(0,a.createElementVNode)("div",{class:"col-2"},"Custo Anterior",-1),d={class:"col-2"},m={class:"col-2"},u={class:"col-2"},p={class:"col-2"},h={class:"col-2"},C={class:"col-2"},v=(0,a.createElementVNode)("div",{class:"col-12 text-h6"}," Sem movimentações de estoque ",-1),f=(0,a.createTextVNode)("Parâmetros"),N={class:"col-6 col-md"},V={class:"col-6 col-md-3"},g={class:"col-6 col-md"},x={class:"col-6 col-md"},b={class:"col-12 col-md"},w={class:"col-auto"},_=(0,a.createTextVNode)("Ajuste"),y={class:"row items-center justify-end"},I={class:"row items-center justify-end"},E={class:"col-6 col-md"},S={class:"col-6 col-md"},M={class:"col-12 col-md"},T={class:"col-12 col-md"},k={class:"col-12 col-md"},D={class:"col-6 col-md"},q=(0,a.createElementVNode)("div",{class:"col-12"},"Saldo atual",-1),F={class:"col-11 text-tertiary"},P=(0,a.createElementVNode)("div",{class:"col-1"},"+",-1),A={class:"col-6 col-md"},B=(0,a.createElementVNode)("div",{class:"col-12"},"Diferença",-1),L={class:"col-11 text-tertiary"},O=(0,a.createElementVNode)("div",{class:"col-1"},"=",-1),z={class:"col-auto"},j=(0,a.createTextVNode)("Histórico de Movimentações (Kardex)"),$={key:0,class:"q-ml-sm"},U={key:0,class:"row items-center no-wrap"},Z=(0,a.createTextVNode)(" Excluir ajuste "),Q={key:1},R={computed:{colunasKardex(){return[{align:"left",name:"DataHoraFinalizado",field:"dataHoraFinalizado",label:"Data Movimentação",sortable:!0,format:this.$filters.dataHora},{align:"left",name:"DocumentoTipo",field:"documentoTipo",label:"Documento",sortable:!0},{align:"middle",name:"Acao",field:"acao",label:"Ação"},{align:"right",name:"Numero",field:"numero",label:"Número",format:e=>e||0},{align:"right",name:"Quantidade",field:"quantidade",label:"Quantidade"},{align:"left",name:"Unidade",field:"unidade",label:"Unidade"},{align:"right",name:"Saldo",field:"saldo",label:"Saldo",sortable:!0},{align:"left",name:"DescricaoContato",field:"descricaoContato",label:"Contato",format:e=>e||""},{align:"right",name:"CustoMedio",field:"custoMedio",label:"Custo Médio",format:this.$filters.dinheiro},{align:"right",name:"Custo",field:"custo",label:"Custo Real",format:this.$filters.dinheiro},{align:"right",name:"Ordem",field:"ordem",label:"Ordem",sortable:!0},{align:"right",name:"Fator",field:"fator",label:"Fator"},{align:"left",name:"DocumentoItemOperacao",field:"documentoItemOperacao",label:"Operação Item",sortable:!0},{align:"left",name:"DocumentoItemStatus",field:"documentoItemStatus",label:"Status Item",sortable:!0},{align:"right",name:"CodigoDocumento",field:"codigoDocumento",label:"Código Documento",sortable:!0}]}},data(){return{estoquePorEmpresa:[],item:{ativo:!1},itemOriginal:{},ajusteData:null,ajuste:{custoDesejado:0,data:null,lote:"",planoConta:"",planoContaEstoque:"",planoContaMovimento:"",qtdeDesejada:0,qtdeDiferenca:0,qtdeMomento:0},ajusteCor:"text-primary",ajusteMensagem:"",ajusteDataSomenteLeitura:!1,codigoEmpresaSelecionada:0,ajusteRegras:{planoConta:[e=>!!this.ajuste.planoConta||"Selecione uma conta do plano de contas"],planoContaEstoque:[e=>!!this.ajuste.planoContaEstoque||"Selecione uma conta do plano de contas"],planoContaMovimento:[e=>!!this.ajuste.planoContaMovimento||"Selecione uma conta do plano de contas"],custoDesejado:[e=>e>0||"Custo deve ser maior que zero"],qtdeDesejada:[e=>this.ajuste.qtdeDesejada>=0||"Quantidade deve ser maior ou igual a zero"]},codigoEmpresaKardex:0,tipoEstoqueSelecionado:"",mensagemKardex:"",tabelaKardex:[],empresas:[],opcoesConta:[],opcoesPlanoConta:[{rotulo:"-",valor:""}],opcoesTipoEstoque:[{rotulo:"-",valor:""}],permissaoAjusteEstoque:!0,permissaoFicha:!0}},methods:{ajustarData(){if(/\d{2}\/\d{2}\/\d{4}\s\d{2}:\d{2}/.test(this.ajusteData))try{let e=this.ajusteData.split("/");e=[e[1],e[0],e[2]].join("/"),e=new Date(e),this.ajuste.data=e.toISOString()}catch(e){console.log("erro: ",e.message)}},async atualizar({id:e}){if(e){try{const o=new Intl.DateTimeFormat("pt-BR",{dateStyle:"short",timeStyle:"medium"});this.ajuste.data=$utils.dataAtual(),this.ajusteData=o.format(new Date(this.ajuste.data)),this.permissaoFicha=await $db.permissao.objeto("item//ficha");const t=await $db.item.leCompletoV2(e);this.item=$utils.clonar(t.item),this.itemOriginal=$utils.clonar(t.item);const a=(await $db.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0)).map((e=>e.id));let i=(await $erp().empresa.toArray()).filter((e=>~a.indexOf(e.idContato)));this.empresas=i.map((e=>({rotulo:e.apelido+" - "+e.nome,valor:e.codigoContato}))),0===this.empresas.length&&(this.empresas=[{rotulo:"-",valor:""}]),this.estoquePorEmpresa=await $db.estoqueSaldoProdutoEmpresa.leEstoquePorEmpresa(e)}catch(e){$q.notifyError("Ocorreu erro ao consultar produto",e)}try{const e=(await $db.configuracoes.le()).filter((e=>"item.estoque.ajuste"===e.nome)).sort(((e,o)=>e.texto.localeCompare(o.texto)));this.opcoesPlanoConta=[{rotulo:"-",valor:""},...e.map((e=>({rotulo:(e.texto||"").trim(),valor:e.valor}))),{rotulo:"Especificar Contas",valor:"0"}];const o=(await $db.financeiroPlanoConta.le()).filter((e=>e.ativo&&!!e.tradutor&&"00000"!==e.tradutor.substr(12,5))).sort(((e,o)=>e.tradutor.localeCompare(o.tradutor)));this.opcoesConta=o.map((e=>({valor:e.codigoFinanceiroPlanoConta,rotulo:(e.descricao||"").trim(),sublabel:(e.caminho||"").trim()})))}catch(e){$q.notifyError("Ocorreu erro ao consultar o plano de contas",e),this.opcoesConta=[]}this.atualizarKardex(),this.codigoEmpresaSelecionada||(this.codigoEmpresaSelecionada=this.empresas[0].valor),this.atualizarAjustePorLote()}},async salvarItem(){if(this.verificarSeAlterouCampos())try{const e=this.item.id,o={originais:{item:this.itemOriginal},item:this.item};await $db.item.gravaV2(o),await this.atualizar({id:e}),$q.notifyPositive("Os dados foram salvos com sucesso.")}catch(e){$q.notifyError("Ocorreu um erro ao salvar",e)}else $q.notifyPositive("Não há dados alterados.")},async estoqueAjustar_click(){const e=this.item.id;try{this.ajusteCor="text-primary",this.ajusteMensagem="Processando",$q.loading.show();const o=await this.$utils.geeksApi({estoqueAdicionarAjuste:{funcao:"9D1EF62A-1FF4-49F0-948E-E137FCBC82E9",codigoEmpresa:this.codigoEmpresaSelecionada,codigoItem:this.item.codigoItem,...this.ajuste}});this.ajusteCor="text-positive",this.ajusteMensagem=o.data.estoqueAdicionarAjuste.mensagem,$q.notifyPositive(this.ajusteMensagem),await this.atualizar({id:e})}catch(e){this.ajusteCor="text-negative",this.ajusteMensagem="Ocorreu um erro ao ajustar o estoque online",$q.notifyError(this.ajusteMensagem,e)}finally{$q.loading.hide()}},atualizarDiferenca(){$utils.gconsole.log("ItemEstoque","atualizarDiferenca",this.ajuste.qtdeMomento,this.ajuste.qtdeDesejada),this.ajuste.qtdeDiferenca=this.ajuste.qtdeDesejada-this.ajuste.qtdeMomento},async atualizarAjustePorLote(){const e=`\n          select top 1\n            custoMedio valorCustoMedio,\n            saldo\n          from kardex\n          where\n            codigoItem = ${(this.item||{}).codigoItem||0}\n            and codigoEmpresa = ${this.codigoEmpresaSelecionada||0}\n            and datahorafinalizado <= '${this.ajusteData}'\n            and tipoEstoque = 'Disponível'\n            and ${(this.ajuste.lote||"").trim()?"loteEmpresa = '"+(this.ajuste.lote||"").trim()+"'":"(ltrim(rtrim(loteEmpresa)) = '' or loteEmpresa is null)"}\n          order by ordem desc`;let o={};try{o=(await $utils.executarSql(e)||[])[0]||{}}catch(e){this.ajusteDataSomenteLeitura=!0,$utils.gconsole.log("ItemEstoque","atualizarAjustePorLote",this.codigoEmpresaSelecionada,this.ajuste.lote),o=(((this.estoquePorEmpresa||[]).find((e=>e.codigoEmpresa===this.codigoEmpresaSelecionada))||{}).estoquePorLote||[]).find((e=>"Disponível"===e.tipoEstoque&&(e.loteEmpresa||"")===this.ajuste.lote))||{}}this.ajuste.custoMomento=o.valorCustoMedio||0,this.ajuste.custoDesejado=this.ajuste.custoDesejado||o.valorCustoMedio||0,this.ajuste.qtdeMomento=o.saldo||0,this.ajuste.qtdeDesejada=this.ajuste.qtdeMomento||0,this.atualizarDiferenca()},async atualizarKardex(){this.codigoEmpresaKardex||(this.codigoEmpresaKardex=this.empresas[0].valor);try{const e=await $utils.geeksApi({kardex:{funcao:"267A2ED1-6529-451D-8567-7015470E9CD6",idItem:this.item.id,codigoEmpresa:this.codigoEmpresaKardex}});this.opcoesTipoEstoque=$utils.unicos(e.data.kardex||[],"tipoEstoque").map((e=>({rotulo:e,valor:e}))),this.tipoEstoqueSelecionado||(this.tipoEstoqueSelecionado=(this.opcoesTipoEstoque[0]||{}).valor||""),this.tabelaKardex=(e.data.kardex||[]).filter((e=>e.tipoEstoque===this.tipoEstoqueSelecionado)),this.mensagemKardex=""}catch(e){this.mensagemKardex="É necessário estar com a internet ativa para acessar este serviço",console.error("Mensagem ao usuário: "+this.mensagemKardex),console.error(e)}},excluirAjuste(e){$q.dialog({message:"Ao continuar o ajuste será excluído.",noRefocus:!0,title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{try{$q.loading.show({message:"Excluindo ajuste"});const o=`exec Sp_Estoque_ExcluirAjuste ${e}, ${this.item.codigoItem}`;await $utils.executarSql(o),await this.atualizarKardex(),await this.atualizar({id:this.item.id}),$q.notifyPositive("Ajuste excluído com sucesso")}catch(e){}finally{$q.loading.hide()}}))},verificarSeAlterouCampos(){return null!==$utils.diferenca(this.itemOriginal,this.item)}},watch:{"ajuste.data"(){this.atualizarAjustePorLote()},"ajuste.lote"(){this.atualizarAjustePorLote()},codigoEmpresaSelecionada(){this.atualizarAjustePorLote()},codigoEmpresaKardex(){this.atualizarKardex()},tipoEstoqueSelecionado(){this.atualizarKardex()},"ajuste.planoConta"(){if("0"!==this.ajuste.planoConta){const[e,o]=this.ajuste.planoConta.split(",");this.ajuste.planoContaEstoque=+e||0,this.ajuste.planoContaMovimento=+o||0}},"$route.params.id"(e){this.atualizar({id:e})}}};var G=t(74260),H=t(83054),J=t(48761),Y=t(46229),X=t(76210),W=t(86952),K=t(68900),ee=t(91668),oe=t(25740),te=t(42590),ae=t(80073),ie=t(59459),re=t(89561),le=t(4957),se=t(98586),ne=t(7518),ce=t.n(ne);const de=(0,G.Z)(R,[["render",function(e,o,t,R,G,H){const J=(0,a.resolveComponent)("q-toolbar-title"),Y=(0,a.resolveComponent)("row"),X=(0,a.resolveComponent)("q-card"),W=(0,a.resolveComponent)("campo"),K=(0,a.resolveComponent)("q-btn"),ee=(0,a.resolveComponent)("q-form"),oe=(0,a.resolveComponent)("q-date"),te=(0,a.resolveComponent)("q-popup-proxy"),ae=(0,a.resolveComponent)("q-icon"),ie=(0,a.resolveComponent)("q-time"),re=(0,a.resolveComponent)("q-input"),le=(0,a.resolveComponent)("q-tooltip"),se=(0,a.resolveComponent)("q-td"),ne=(0,a.resolveComponent)("q-tr"),ce=(0,a.resolveComponent)("q-table"),de=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(X,{class:"bg-white q-pa-md no-shadow q-mt-md"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(G.estoquePorEmpresa,(o=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o.idEmpresa},[(0,a.createVNode)(J,{class:"text-tertiary q-mb-md q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.nomeEmpresa),1)])),_:2},1024),(0,a.createVNode)(Y,{class:"q-col-gutter-x-sm q-ml-none text-weight-bold text-right justify-around",style:{"border-bottom":"1px solid #e0e0e0"}},{default:(0,a.withCtx)((()=>[i,r,l,s,n,c])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.estoquePorLote,((o,t)=>((0,a.openBlock)(),(0,a.createBlock)(Y,{key:t,class:"q-col-gutter-x-sm q-ml-none text-right justify-around full-width",style:{"border-bottom":"1px solid #e0e0e0"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",d,(0,a.toDisplayString)(o.tipoEstoque||"-"),1),(0,a.createElementVNode)("div",m,(0,a.toDisplayString)(o.loteEmpresa||"-"),1),(0,a.createElementVNode)("div",u,(0,a.toDisplayString)(e.$filters.numero(o.saldo,2)),1),(0,a.createElementVNode)("div",p,(0,a.toDisplayString)(e.$filters.numero(o.valorCustoMedio,2)),1),(0,a.createElementVNode)("div",h,(0,a.toDisplayString)(e.$filters.numero(o.valorCusto,2)),1),(0,a.createElementVNode)("div",C,(0,a.toDisplayString)(e.$filters.numero(o.valorCustoAnterior,2)),1)])),_:2},1024)))),128))])))),128)),0===G.estoquePorEmpresa.length?((0,a.openBlock)(),(0,a.createBlock)(Y,{key:0},{default:(0,a.withCtx)((()=>[v])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1}),G.item.ativo&&G.permissaoFicha?((0,a.openBlock)(),(0,a.createBlock)(X,{key:0,class:"bg-white q-my-md q-pa-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",null,[(0,a.createVNode)(J,{class:"text-tertiary q-mb-md q-pa-none"},{default:(0,a.withCtx)((()=>[f])),_:1}),(0,a.createVNode)(ee,{onSubmit:H.salvarItem,class:"q-pa-none q-ma-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Y,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",N,[(0,a.createVNode)(W,{modelValue:G.item.quantidadeMinimaEstoque,"onUpdate:modelValue":o[0]||(o[0]=e=>G.item.quantidadeMinimaEstoque=e),min:"0",rotulo:"Estoque mínimo",tipo:"decimal",decimals:"2",dense:"",opcoes:{decimalPlaces:4}},null,8,["modelValue"])]),(0,a.createElementVNode)("div",V,[(0,a.createVNode)(W,{modelValue:G.item.quantidadeMinimaCompra,"onUpdate:modelValue":o[1]||(o[1]=e=>G.item.quantidadeMinimaCompra=e),min:"0",rotulo:"Qtde compra reposição",tipo:"decimal",dense:"",decimalPlaces:"4",decimals:"2"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",g,[(0,a.createVNode)(W,{modelValue:G.item.tempoMedioReposicao,"onUpdate:modelValue":o[2]||(o[2]=e=>G.item.tempoMedioReposicao=e),min:"0",rotulo:"Tempo médio reposição (dias)",tipo:"quantidade",dense:""},null,8,["modelValue"])]),(0,a.createElementVNode)("div",x,[(0,a.createVNode)(W,{modelValue:G.item.consumoMedio,"onUpdate:modelValue":o[3]||(o[3]=e=>G.item.consumoMedio=e),min:"0",rotulo:"Consumo médio",tipo:"decimal",decimals:"2",dense:""},null,8,["modelValue"])]),(0,a.createElementVNode)("div",b,[(0,a.createVNode)(W,{modelValue:G.item.local,"onUpdate:modelValue":o[4]||(o[4]=e=>G.item.local=e),maxlength:"20",rotulo:"Local",tipo:"texto",dense:""},null,8,["modelValue"])])])),_:1}),(0,a.createVNode)(Y,{class:"justify-end"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",w,[(0,a.createVNode)(K,{color:"primary",label:"Salvar",type:"submit",unelevated:""})])])),_:1})])),_:1},8,["onSubmit"])])])),_:1})):(0,a.createCommentVNode)("",!0),G.item.ativo&&G.permissaoAjusteEstoque?((0,a.openBlock)(),(0,a.createBlock)(X,{key:1,class:"bg-white q-my-md q-px-md q-py-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(J,{class:"text-tertiary q-mb-md q-pa-none"},{default:(0,a.withCtx)((()=>[_])),_:1}),(0,a.createVNode)(ee,{class:"q-pa-none q-ma-none",onSubmit:H.estoqueAjustar_click,novalidate:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(W,{class:"col-12",modelValue:G.codigoEmpresaSelecionada,"onUpdate:modelValue":o[5]||(o[5]=e=>G.codigoEmpresaSelecionada=e),rotuloFixo:"Empresa",tipo:"seletor",dense:"",opcoes:G.empresas},null,8,["modelValue","opcoes"])])),_:1}),(0,a.createVNode)(Y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(re,{class:"col-12 col-md bg-transparent",dense:"",modelValue:G.ajusteData,"onUpdate:modelValue":[o[8]||(o[8]=e=>G.ajusteData=e),H.ajustarData],mask:"##/##/#### ##:##"},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(ae,{name:"event",class:"cursor-pointer"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(te,{"transition-show":"scale","transition-hide":"scale"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(oe,{modelValue:G.ajusteData,"onUpdate:modelValue":[o[6]||(o[6]=e=>G.ajusteData=e),H.ajustarData],mask:"DD/MM/YYYY HH:mm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",y,[(0,a.withDirectives)((0,a.createVNode)(K,{label:"Fechar",color:"primary",flat:""},null,512),[[de]])])])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1})])),append:(0,a.withCtx)((()=>[(0,a.createVNode)(ae,{name:"access_time",class:"cursor-pointer"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(te,{"transition-show":"scale","transition-hide":"scale"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(ie,{modelValue:G.ajusteData,"onUpdate:modelValue":[o[7]||(o[7]=e=>G.ajusteData=e),H.ajustarData],mask:"DD/MM/YYYY HH:mm",format24h:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",I,[(0,a.withDirectives)((0,a.createVNode)(K,{label:"Fechar",color:"primary",flat:""},null,512),[[de]])])])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue"]),(0,a.createElementVNode)("div",E,[(0,a.createVNode)(W,{rotulo:"Custo desejado",tipo:"decimal",decimals:"2",dense:"",modelValue:G.ajuste.custoDesejado,"onUpdate:modelValue":o[9]||(o[9]=e=>G.ajuste.custoDesejado=e)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",S,[(0,a.createVNode)(W,{modelValue:G.ajuste.lote,"onUpdate:modelValue":o[10]||(o[10]=e=>G.ajuste.lote=e),modelModifiers:{trim:!0},maxlength:"50",rotulo:"Lote",tipo:"texto",dense:""},null,8,["modelValue"])])])),_:1}),(0,a.createVNode)(Y,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",M,[(0,a.createVNode)(W,{erroRotulo:"Obrigatório",rotuloFixo:"Plano de contas",tipo:"seletor",dense:"",modelValue:G.ajuste.planoConta,"onUpdate:modelValue":o[11]||(o[11]=e=>G.ajuste.planoConta=e),opcoes:G.opcoesPlanoConta,rules:G.ajusteRegras.planoConta},null,8,["modelValue","opcoes","rules"])]),"0"===G.ajuste.planoConta?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createElementVNode)("div",T,[(0,a.createVNode)(W,{modelValue:G.ajuste.planoContaEstoque,"onUpdate:modelValue":o[12]||(o[12]=e=>G.ajuste.planoContaEstoque=e),filter:"",erroRotulo:"Obrigatório",dense:"",rotuloFixo:"Conta estoque",tipo:"seletor",opcoes:G.opcoesConta,rules:G.ajusteRegras.planoContaEstoque},null,8,["modelValue","opcoes","rules"])]),(0,a.createElementVNode)("div",k,[(0,a.createVNode)(W,{modelValue:G.ajuste.planoContaMovimento,"onUpdate:modelValue":o[13]||(o[13]=e=>G.ajuste.planoContaMovimento=e),filter:"",erroRotulo:"Obrigatório",dense:"",rotuloFixo:"Conta movimento",tipo:"seletor",opcoes:G.opcoesConta,rules:G.ajusteRegras.planoContaMovimento},null,8,["modelValue","opcoes","rules"])])],64)):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(Y,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",D,[(0,a.createVNode)(Y,{class:"text-caption text-tertiary"},{default:(0,a.withCtx)((()=>[q])),_:1}),(0,a.createVNode)(Y,{class:"q-py-xs"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",F,(0,a.toDisplayString)(e.$filters.numero(G.ajuste.qtdeMomento,4)),1),P])),_:1})]),(0,a.createElementVNode)("div",A,[(0,a.createVNode)(Y,{class:"text-caption text-tertiary"},{default:(0,a.withCtx)((()=>[B])),_:1}),(0,a.createVNode)(Y,{class:"q-py-xs"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",L,(0,a.toDisplayString)(e.$filters.numero(G.ajuste.qtdeDiferenca,4)),1),O])),_:1})]),(0,a.createVNode)(W,{class:"col-12 col-md",rotulo:"Saldo desejado",tipo:"decimal",decimals:"4",modelValue:G.ajuste.qtdeDesejada,"onUpdate:modelValue":[o[14]||(o[14]=e=>G.ajuste.qtdeDesejada=e),H.atualizarDiferenca],dense:"",rules:G.ajusteRegras.qtdeDesejada},null,8,["modelValue","onUpdate:modelValue","rules"])])),_:1}),(0,a.createVNode)(Y,{class:"justify-end"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["q-pa-sm",G.ajusteCor])},(0,a.toDisplayString)(G.ajusteMensagem),3),(0,a.createElementVNode)("div",z,[(0,a.createVNode)(K,{color:"primary",label:"Ajustar",type:"submit",unelevated:""})])])),_:1})])),_:1},8,["onSubmit"])])),_:1})):(0,a.createCommentVNode)("",!0),G.item.ativo?((0,a.openBlock)(),(0,a.createBlock)(X,{key:2,class:"bg-white q-my-md q-px-md q-py-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(J,{class:"text-tertiary row q-mb-sm"},{default:(0,a.withCtx)((()=>[j])),_:1}),G.mensagemKardex?((0,a.openBlock)(),(0,a.createElementBlock)("div",$,(0,a.toDisplayString)(G.mensagemKardex),1)):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createVNode)(Y,{class:"q-col-gutter-x-sm q-mb-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(W,{class:"col-12 col-md-6",modelValue:G.codigoEmpresaKardex,"onUpdate:modelValue":[o[15]||(o[15]=e=>G.codigoEmpresaKardex=e),H.atualizarKardex],rotuloFixo:"Empresa",tipo:"seletor",opcoes:G.empresas},null,8,["modelValue","opcoes","onUpdate:modelValue"]),(0,a.createVNode)(W,{modelValue:G.tipoEstoqueSelecionado,"onUpdate:modelValue":[o[16]||(o[16]=e=>G.tipoEstoqueSelecionado=e),H.atualizarKardex],class:"col-12 col-md-6",opcoes:G.opcoesTipoEstoque,"rotulo-fixo":"Tido de estoque",tipo:"seletor"},null,8,["modelValue","opcoes","onUpdate:modelValue"])])),_:1}),(0,a.createVNode)(ce,{title:"",rows:G.tabelaKardex,columns:H.colunasKardex,"row-key":"name"},{body:(0,a.withCtx)((e=>[(0,a.createVNode)(ne,{props:e},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.cols,(o=>((0,a.openBlock)(),(0,a.createBlock)(se,{key:o.name,props:e},{default:(0,a.withCtx)((()=>["acao"===o.field?((0,a.openBlock)(),(0,a.createElementBlock)("div",U,[G.permissaoAjusteEstoque&&"Estoque"===(e.cols.find((e=>"documentoTipo"===e.field))||{}).value&&"Manipulação"!==(e.cols.find((e=>"documentoItemOperacao"===e.field))||{}).value?((0,a.openBlock)(),(0,a.createBlock)(K,{key:0,size:"sm",round:"",dense:"",icon:"mdi-trash-can-outline",class:"q-mr-sm",onClick:o=>H.excluirAjuste((e.cols.find((e=>"codigoDocumento"===e.field))||{}).value)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(le,{class:"hideonmobile"},{default:(0,a.withCtx)((()=>[Z])),_:1})])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0)])):((0,a.openBlock)(),(0,a.createElementBlock)("div",Q,(0,a.toDisplayString)(o.value),1))])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),_:1},8,["rows","columns"])],64))])),_:1})):(0,a.createCommentVNode)("",!0)])}]]);ce()(R,"components",{QCard:H.Z,QToolbarTitle:J.Z,QForm:Y.Z,QBtn:X.Z,QInput:W.Z,QIcon:K.Z,QPopupProxy:ee.Z,QDate:oe.Z,QTime:te.Z,QTable:ae.Z,QTr:ie.Z,QTd:re.Z,QTooltip:le.Z}),ce()(R,"directives",{ClosePopup:se.Z})},48462:(e,o,t)=>{"use strict";t.d(o,{Z:()=>Jo});var a=t(34182),i=t(41271),r=t.n(i),l=t(16212),s=t.n(l),n=t(12767),c=t.n(n),d=t(70210),m=t.n(d),u=t(92684),p=t.n(u);const h={class:"q-col-gutter-x-md justify-around row"},C={class:"col-12 col-md-2 text-center"},v={class:"col-12 col-md-7"},f={class:"text-right"},N={key:0,class:"col-12"},V={class:"col-12 col-md-6"},g={class:"col-12 col-md-6"},x={class:"col-12 col-md-6"},b={class:"col-12 col-md-6"},w={class:"col-12 col-md-6"},_={class:"col-12 col-md-6"},y=(0,a.createElementVNode)("div",{class:"q-mt-md q-mb-sm col-12 text-h6 text-tertiary"},"Valores",-1),I={class:"col-6 col-md-4"},E={class:"col-8"},S={class:"col-4"},M={class:"col-6 col-md-4"},T={class:"col-8"},k={class:"col-4"},D=(0,a.createElementVNode)("div",{class:"q-mt-md q-mb-sm col-12 text-h6 text-tertiary"},"Tabelas de Preço",-1),q=(0,a.createElementVNode)("div",{class:"q-mt-md q-mb-sm col-12 text-h6 text-tertiary"},"Produto Controlado",-1),F={class:"col-12 col-md"},P=(0,a.createElementVNode)("div",{class:"q-ma-sm text-subtitle1"},"Estoque / Custos",-1),A={class:"text-subtitle2"},B={class:"row q-pb-sm text-body2"},L=(0,a.createElementVNode)("div",{class:"row text-caption text-weight-bold text-center items-center"},[(0,a.createElementVNode)("div",{class:"col-3"},"Saldo"),(0,a.createElementVNode)("div",{class:"col-3"},"Custo Médio"),(0,a.createElementVNode)("div",{class:"col-3"},"Custo Real"),(0,a.createElementVNode)("div",{class:"col-3"},"Custo Anterior")],-1),O={class:"row text-caption text-center"},z={class:"col-3"},j={class:"col-3"},$={class:"col-3"},U={class:"col-3"},Z={key:0,class:"q-pa-sm"},Q=[(0,a.createElementVNode)("div",{class:"text-subtitle2"},"Sem informação de estoque ",-1)],R=(0,a.createElementVNode)("div",{class:"text-h6"},"Armação",-1),G={class:"col-12 q-pb-md"},H={class:"q-col-gutter-x-sm items-end justify-around row"},J={class:"col-6 col-md-2"},Y=(0,a.createElementVNode)("div",{class:"row"},[(0,a.createElementVNode)("img",{src:r(),style:{height:"100%",width:"100%"}})],-1),X={class:"row"},W={class:"col-6 col-md-2"},K=(0,a.createElementVNode)("div",{class:"row"},[(0,a.createElementVNode)("img",{src:s(),style:{height:"100%",width:"100%"}})],-1),ee={class:"row"},oe={class:"col-6 col-md-2"},te=(0,a.createElementVNode)("div",{class:"row"},[(0,a.createElementVNode)("img",{src:c(),style:{height:"100%",width:"100%"}})],-1),ae={class:"row"},ie={class:"col-6 col-md-2"},re=(0,a.createElementVNode)("div",{class:"row"},[(0,a.createElementVNode)("img",{src:m(),style:{height:"100%",width:"100%"}})],-1),le={class:"row"},se={class:"col-6 col-md-2"},ne=(0,a.createElementVNode)("div",{class:"row"},[(0,a.createElementVNode)("img",{src:p(),style:{height:"100%",width:"100%"}})],-1),ce={class:"row"},de={class:"col-12"},me={class:"q-col-gutter-x-sm q-col-gutter-y-xm row"},ue=(0,a.createElementVNode)("div",{class:"text-h6"},"Lente",-1),pe=(0,a.createElementVNode)("div",{class:"text-h6"},"Tratamento",-1),he=["onUpdate:modelValue"],Ce={class:"col-auto text-right"},ve=(0,a.createTextVNode)("Excluir"),fe={class:"q-mt-md text-center"},Ne={class:"q-col-gutter-sm items-top row"},Ve={class:"col-12 col-md-9"},ge={class:"row q-col-gutter-x-md"},xe={class:"row q-col-gutter-x-md"},be={class:"col-6 col-md-4"},we={class:"col-6 col-md-8"},_e={class:"col-12 col-md-3"},ye={class:"q-pb-sm"},Ie={class:"q-py-sm"},Ee=(0,a.createElementVNode)("div",{class:"q-mt-md q-mb-sm row text-h6 text-tertiary"}," Características ",-1),Se={class:"row q-col-gutter-x-md"},Me={class:"q-col-gutter-x-sm items-center row"},Te=["onUpdate:modelValue"],ke={class:"col-2 col-sm-auto text-right"},De=(0,a.createTextVNode)("Excluir"),qe={class:"q-mt-md text-center"},Fe={class:"q-col-gutter-x-sm items-center row"},Pe={class:"col-2 col-sm-auto text-right"},Ae=(0,a.createTextVNode)("Excluir"),Be={class:"q-mt-md text-center"},Le={class:"row q-col-gutter-x-sm"},Oe={class:"col-12 col-sm-6"},ze=(0,a.createElementVNode)("div",{class:"q-mb-md text-h6 text-tertiary"},"Qualidade",-1),je={class:"q-col-gutter-x-sm items-center row"},$e={class:"col-2 col-sm-auto text-right"},Ue=(0,a.createTextVNode)("Excluir"),Ze={class:"q-mt-md text-center"},Qe=(0,a.createElementVNode)("div",{class:"q-mb-md text-h6 text-tertiary"},"Fase",-1),Re={class:"q-col-gutter-x-sm items-center row"},Ge=["onUpdate:modelValue"],He=["onUpdate:modelValue"],Je=["onUpdate:modelValue"],Ye={class:"col-2 col-sm-auto text-right"},Xe=(0,a.createTextVNode)("Excluir"),We={class:"q-mt-md text-center"},Ke={class:"items-center justify-around q-my-lg row"},eo={key:0},oo={key:1},to={class:"u-container relative-position"},ao={key:0},io=(0,a.createTextVNode)("Remover"),ro={key:1,class:"q-py-sm"},lo=(0,a.createElementVNode)("span",{class:"text-tertiary"},"Não é possível editar informações de um produto excluído.",-1),so=(0,a.createTextVNode)("Alterar foto");var no=t(53291);const co={data:()=>({visivel:!1}),methods:{trocarFoto(e){(0,no.Z)(e[0],{crop:!0,outputFormat:"jpg",targetHeight:200,targetWidth:200},((e,o)=>{this.resolve(o),this.visivel=!1}))},onHide(){this.resolve()},async show(){return this.visivel=!0,new Promise(((e,o)=>{this.resolve=e}))}},props:{modelValue:{type:String}}};var mo=t(74260),uo=t(39341),po=t(83054),ho=t(47266),Co=t(48761),vo=t(76210),fo=t(56673),No=t(98586),Vo=t(7518),go=t.n(Vo);const xo=(0,mo.Z)(co,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-uploader"),m=(0,a.resolveComponent)("q-card"),u=(0,a.resolveComponent)("q-dialog"),p=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(u,{modelValue:r.visivel,"onUpdate:modelValue":o[0]||(o[0]=e=>r.visivel=e),onHide:o[1]||(o[1]=e=>l.onHide())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[so])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",icon:"close",round:""},null,512),[[p]])])),_:1}),(0,a.createVNode)(d,{"auto-expand":"",color:"none",extensions:".jpg,.jpeg",label:"Foto","hide-upload-button":"","hide-upload-progress":"","dark-light":"",url:"",ref:"fotoCampo",factory:l.trocarFoto},null,8,["factory"])])),_:1})])),_:1},8,["modelValue"])}]]);go()(co,"components",{QDialog:uo.Z,QCard:po.Z,QToolbar:ho.Z,QToolbarTitle:Co.Z,QBtn:vo.Z,QUploader:fo.Z}),go()(co,"directives",{ClosePopup:No.Z});var bo=t(15358),wo=t(72407),_o=t(42138),yo=t(14285),Io=t(91240),Eo=t(82254),So=t(65278),Mo=t(23242),To=t(88603),ko=t(82916),Do=t(58294);const qo={components:{modalTrocarFoto:xo,Avatar:bo.Z,Badge:wo.Z,PromptItemNovo:_o.Z,SeletorCampoTabela:yo.Z,SeletorCest:Io.Z,SeletorNcm:Eo.Z},computed:{badgeCor(){return this.item.ativo?(this.item.quantidadeDisponivel||0)<0?"negative":(this.item.quantidadeDisponivel||0)<=(this.item.quantidadeMinimaEstoque||0)?"orange":"positive":"faded"},descricaoConcatenada(){return $db.item.descricaoConcatenada(this.item)},opcoesGenero:()=>[{rotulo:"Masculino",valor:"Masculino"},{rotulo:"Feminino",valor:"Feminino"},{rotulo:"Unisex",valor:"Unisex"},{rotulo:"Masculino Kids",valor:"Masculino Kids"},{rotulo:"Feminino Kids",valor:"Feminino Kids"},{rotulo:"Unisex Kids",valor:"Unisex Kids"}],opcoesGeometria:()=>[{rotulo:"Asférica",valor:"Asférica"},{rotulo:"Esférica",valor:"Esférica"},{rotulo:"Tórica",valor:"Tórica"}],opcoesLenteTipo:()=>[{rotulo:"Monofocal",valor:"Monofocal"},{rotulo:"Bifocal",valor:"Bifocal"},{rotulo:"Multifocal",valor:"Multifocal"}],opcoesOrigemOld:()=>[{valor:"",rotulo:""},{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],opcoesSurfacada:()=>[{rotulo:"Pronta",valor:"0"},{rotulo:"Surfaçada",valor:"1"}],opcoesTipo:()=>Mo.Z,meta:()=>So.Z,temArmacao(){return["Óculos Sol","Óculos Pronto","Armação"].includes(this.item.tipo)},temDescricaoConcatenada(){return["Óculos Sol","Lente"].includes(this.item.tipo)},temLente(){return["Óculos Sol","Óculos Pronto","Lente","Lente Contato"].includes(this.item.tipo)}},data(){return{tabelasPrecoOriginal:[],tabelasPreco:[],item:{},contato:{},fornecedor:[],composicao:[],producaoFase:[],qualidade:[],habilitaCamposControlados:!1,estoquePorEmpresa:[],opcoesOrigem:[],opcoesPerfilContabil:[],modalEquipamento:!1,modalFerramenta:!1,modalFoto:!1,modalItemUtilizado:!1,modalServico:!1,modalTratamento:!1,utilizaMarkupInvertido:!1,utilizaComposicaoValorReposicaoInvertido:!1,tab:"profile-tab-1",descricaoNcm:"",sistemaPai:"",itemCompleto:{},rules:{referencia:[async e=>await this.verificarReferenciaExistente(e)]},permissaoMaximoDescontoGerente:!1}},methods:{async atualizar({id:e}){try{this.estoquePorEmpresa=[],this.descricaoNcm="";const o=await $db.item.leCompletoV2(e);$db.item.selecionado=o,this.item=o.item,this.composicao=o.composicao,this.fornecedor=o.fornecedor,this.producaoFase=o.producaoFase,this.qualidade=o.qualidade;for(const e of this.fornecedor.map((e=>e.idContato)))this.contato[e]||(this.contato[e]=await $db.contato.le({id:e}));this.itemOriginal=$utils.clonarV2(o.item),this.composicaoOriginal=$utils.clonarV2(o.composicao),this.fornecedorOriginal=$utils.clonarV2(o.fornecedor),this.producaoFaseOriginal=$utils.clonarV2(o.producaoFase),this.qualidadeOriginal=$utils.clonarV2(o.qualidade),this.utilizaMarkupInvertido=!this.item.utilizaMarkup,this.utilizaComposicaoValorReposicaoInvertido=!this.item.utilizaComposicaoValorReposicao,await this.leOpcoesPerfilContabil(),this.opcoesOrigem=(await(0,ko.rb)().list("impostoParametro",{filter:{impParamTipoCod:2}})).map((e=>({rotulo:e.numero.trim()+" - "+e.descr,valor:Number(e.numero)}))).sort(((e,o)=>Number(e.valor)-Number(o.valor))),this.estoquePorEmpresa=await $db.estoqueSaldoProdutoEmpresa.leEstoquePorEmpresa(this.item.id),this.habilitaCamposControlados=!!await $db.configuracoes.leValorNumerico("item.habilitacamposcontrolados"),this.carregarTabelasPreco()}catch(e){this.$q.notifyError("Ocorreu erro ao consultar produto",e)}},async itemRestaurar_click(){try{$q.loading.show(),this.item.ativo=!0,await this.salvarItem(),$q.notifyPositive("O item foi restaurado com sucesso.")}catch(e){$q.notifyError("Ocorreu um erro ao restaurar",e)}finally{$q.loading.hide()}},async verificarReferenciaExistente(e){const o=(e||"").trim().toLowerCase();return!o||(await $db.item.carregarMemoria(),!$db.item.itens.find((e=>(e.referencia||"").trim().toLowerCase()===o&&e.id!==this.item.id)))||"Referência já existente"},async salvarItem(){try{this.$q.loading.show(),this.completarCodigoBarras();const e=this.item.id,o={originais:{item:this.itemOriginal,composicao:this.composicaoOriginal,fornecedor:this.fornecedorOriginal,producaoFase:this.producaoFaseOriginal,qualidade:this.qualidadeOriginal},item:this.item,composicao:this.composicao,fornecedor:this.fornecedor,producaoFase:this.producaoFase,qualidade:this.qualidade};await $db.item.gravaV2(o),await this.salvarTabelasPreco(),await this.atualizar({id:e}),$q.notifyPositive("Os dados do produto foram salvos com sucesso.")}catch(e){$q.notifyError("Ocorreu um erro ao salvar",e)}finally{$q.loading.hide()}},async itemRemover_click(){let e=!1;this.$refs.form.getValidationComponents().forEach((o=>{o.validate()||e||(e=!0)})),e||$q.dialog({cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},title:"Remover",message:"Ao continuar você irá remover este item.",ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{try{$q.loading.show();const e=this.item.id;this.item.ativo=!1;const o={dadosOriginais:{item:this.itemOriginal},item:this.item};await $db.item.gravaV2(o),await this.atualizar({id:e}),$q.notifyPositive("O produto foi excluído com sucesso.")}catch(e){$q.notifyError("Ocorreu um erro ao remover item",e)}finally{$q.loading.hide()}}))},aoCancelar(){if(!this.verificarSeAlterouCampos())return this.$q.notifyPositive("Não há dados alterados."),void this.atualizar({id:this.item.id});$q.dialog({message:"Ao continuar você irá perder todas as modificações.",title:"Tem certeza?",cancel:{label:"Manter",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{this.atualizar({id:this.item.id})}))},async indexarNcms(){this.ncm=[],this.ncmIdx=void 0,$erp()._ncm.toArray().then((async e=>{e.forEach((e=>{this.ncm.push({id:e.id,ncm:e.ncm,descricao:e.descricao})})),this.ncm}))},async buscarNcm(e,o){let t;this.ncmIdx||o([]),/[^\d]/g.test(e)?(t=e.split(" "),t.forEach(((e,o)=>{e&&(/[^*]/g.test(e)?t[o]="+"+e+(/\*/g.test(e)?"":"~1"):(o>0?t[o-1]=t[o-1]+"*":t.length>0&&(t[1]="*"+t[1]),t[o]=""))})),e=$utils.removerAcentos(t.filter((e=>e)).join(" "))):e.length<8&&(e+="*");const a=[];for(const o of this.ncmIdx.search(e).slice(0,5)){const e=this.ncm[o.ref];a.push({label:e.ncm,sublabel:e.descricao,value:e.id})}o(a)},async conferirNcm(){let e={};8!==this.item.ncm.length||/[^\d]/g.test(this.item.ncm)||(e=this.ncm.find((e=>e.ncm===this.item.ncm))||{}),!e.id&&this.item.ncm&&this.item.idNcm&&(e=this.ncm[this.ncmIdx[this.item.idNcm]]||{}),this.item.ncm=e.ncm||"",this.item.idNcm=e.id||"",this.descricaoNcm=e.descricao||""},async abrirModalEquipamento(e){this.itensEquipamento=await(0,ko.rb)().list("item",{filterNi:{ativo:!0,tipo:"Equipamento"}}),this.indiceProducaoFase=e,this.modalEquipamento=!0},async abrirModalFerramenta(e){this.indiceFerramenta=e,this.modalFerramenta=!0},async abrirModalServico(e){this.itensServico=await(0,ko.rb)().list("item",{filterNi:{ativo:!0,tipo:"Serviço"}}),this.indiceServico=e,this.modalServico=!0},async abrirModalTratamento(e){this.itensTratamento=await(0,ko.rb)().list("item",{filterNi:{ativo:!0,tipo:"Tratamento"}}),this.indiceTratamento=e,this.modalTratamento=!0},async abrirModalItemUtilizado(e){this.itensAtivos=await(0,ko.rb)().list("item",{filterNi:{ativo:!0}}),this.indiceItemUtilizado=e,this.modalItemUtilizado=!0},async leOpcoesPerfilContabil(){const e=(await(0,ko.rb)().list("perfilContabil")).sort(((e,o)=>e.descricao.localeCompare(o.descricao,void 0,{sensitivity:"base"}))).map((e=>({rotulo:e.descricao,valor:e.id})));this.opcoesPerfilContabil=[{rotulo:"",valor:""},...e]},async selecionarEquipamento(e){const o=Object.keys(e)[0],t=e[o].item,a=this.item.producaoFase[this.indiceProducaoFase];a.itemEquipamento=t,a.idItemEquipamento=o,a.descricaoItemEquipamento=t.descricao||"",this.modalEquipamento=!1},async selecionarFerramenta(e){const o=Object.keys(e)[0],t=e[o].item,a=this.item.producaoFase[this.indiceFerramenta];a.itemFerramenta=t,a.idItemFerramenta=o,a.descricaoItemFerramenta=t.descricao||"",this.modalFerramenta=!1},async selecionarServico(e){const o=Object.keys(e)[0],t=e[o].item,a=this.item.producaoFase[this.indiceServico];a.itemServico=t,a.idItemServico=o,a.descricaoItemServico=t.descricao||"",this.modalServico=!1},async selecionarTratamento(e){const o=Object.keys(e)[0],t=e[o].item;this.item.composicao[this.indiceTratamento].idItemUtilizado=o,await this.atualizarItemComposicao(this.indiceTratamento,t),this.modalTratamento=!1},async selecionarItemUtilizado(e){const o=Object.keys(e)[0],t=e[o].item;this.item.composicao[this.indiceItemUtilizado].idItemUtilizado=o,await this.atualizarItemComposicao(this.indiceItemUtilizado,t),this.modalItemUtilizado=!1},async selecionarFornecedor(e){const o=await $g.promptContato.show({filtro:{ativo:!0},placeholder:"Selecione o fornecedor"});if(o?.id){const t=this.fornecedor[e];t.id=$utils.uuid(),t.idItem=this.item.id,t.idContato=o.id,this.contato[o.id]||(this.contato[o.id]=o)}},async selecionarNcm(e){this.item.ncm=e.label||"",this.item.idNcm=e.value||"",this.descricaoNcm=e.sublabel||""},async adicionarItemNaLista(e){e.push({}),this.item=await $db.item.completa(this.item)},async adicionarComposicao(){this.item.composicao||(this.item.composicao=[]),this.item.composicao.push({idItemUtilizado:"",ordem:0,quantidade:1,temporario:{unidade:"",valor:0,total:0}})},adicionarImagem(e){this.$resizeImage(e[0],{crop:!0,outputFormat:"jpg",targetHeight:200,targetWidth:200},((e,o)=>{this.item.imagem=o}))},removerImagem(){delete this.item.imagem},trocarFoto(e){this.$resizeImage(e[0],{crop:!0,outputFormat:"jpg",targetHeight:200,targetWidth:200},((e,o)=>{this.imagemModalFoto=o}))},async fotoTrocar_click(){const e=await this.$refs.modalTrocarFoto.show();e&&(this.item.imagem=e)},atualizarTabelasPreco(){for(const e of this.tabelasPreco.map((e=>e.id)))this.atualizarTabelaPreco(e)},async atualizarTabelaPreco(e){let o=this.tabelasPreco.find((o=>o.id===e&&!o.habilitada));if(!o)return;const t=await $erp().itemTabelaPreco.get(o.id);if(!t.id)return;const a=await $db.itemTabelaPreco.obterValores(t,this.item,4)||{};o.valorVenda=a.valorVenda||0,o.maximoDesconto=a.maximoDesconto||0,o.maximoDescontoGerente=a.maximoDescontoGerente||0},async carregarTabelasPreco(){let e,o=[];e=await $erp().itemTabelaPreco.filter((e=>1===e.tabelaMaster)).toArray();for(const t of e)if(t.id){let e={};const a=await $db.itemTabelaPreco.obterValores(t,this.item,4)||{};e.habilitada=!a.tabelaMaster,e.valorVenda=a.valorVenda||0,e.maximoDesconto=a.maximoDesconto||0,e.maximoDescontoGerente=a.maximoDescontoGerente||0,o.push({id:t.id,descricao:t.descricao,...e})}o=(0,To.orderBy)(o,"descricao","asc"),this.tabelasPreco=o,this.tabelasPrecoOriginal=$utils.clonarV2(o)},async salvarTabelasPreco(){let e=this.tabelasPreco.filter((e=>!e.habilitada));for(const o of e){const e=await $erp().itemTabelaPreco.filter((e=>!e.tabelaMaster&&e.idItem===this.item.id&&e.idItemTabelaPrecoPai===o.id)).toArray();for(const o of e)await $erp().itemTabelaPreco.delete(o.id),await $utils.sincronismoEnviar("remover","itemTabelaPreco",o.id)}e=this.tabelasPreco.filter((e=>e.habilitada));for(const o of e){const e=await $erp().itemTabelaPreco.filter((e=>!e.tabelaMaster&&e.idItem===this.item.id&&e.idItemTabelaPrecoPai===o.id)).toArray();for(const t of e){let e={};t.valorVenda!==o.valorVenda&&(e.valorVenda=o.valorVenda),t.maximoDesconto!==o.maximoDesconto&&(e.maximoDesconto=o.maximoDesconto),t.maximoDescontoGerente!==o.maximoDescontoGerente&&(e.maximoDescontoGerente=o.maximoDescontoGerente),Object.keys(e).length&&(await $erp().itemTabelaPreco.update(t.id,e),await $utils.sincronismoEnviar("atualizar","itemTabelaPreco",t.id,e))}if(!e.length){const e={id:$utils.uuid(),tabelaMaster:0,descricao:this.item.descricao,idItemTabelaPrecoPai:o.id,idItem:this.item.id,valorVenda:o.valorVenda,maximoDesconto:o.maximoDesconto,maximoDescontoGerente:o.maximoDescontoGerente};await $erp().itemTabelaPreco.put(e),await $utils.sincronismoEnviar("adicionar","itemTabelaPreco",e.id,e)}}},async atualizarItemComposicao(e,o){const t=this.item.composicao[e];t.temporario||(t.temporario={}),t.item=o||t.item||{},t.descricaoItemUtilizado=t.item.descricao||"",t.temporario.unidade=t.item.unidade||"",t.temporario.valor=t.item.valorCustoReposicao||0,t.temporario.total=$utils.arredondar((t.temporario.valor||0)*(t.quantidade||0),2),this.atualizarCustoReposicao()},atualizarValorVendaLucro(){if(this.utilizaMarkupInvertido){if(this.item.valorCustoReposicao&&this.item.valorVenda){const e=100*(this.item.valorVenda-this.item.valorCustoReposicao)/this.item.valorVenda;this.item.percentualMarkup=$utils.arredondar(e,2)}}else{const e=(this.item.percentualMarkup||0)/100;if(this.item.valorCustoReposicao&&e<1){const o=this.item.valorCustoReposicao/(1-e);o&&(this.item.valorVenda=$utils.arredondar(o,4))}}},atualizarCustoReposicao(){this.item&&this.item.id&&!this.utilizaComposicaoValorReposicaoInvertido&&(this.item.valorCustoReposicao=(this.item.composicao||[]).reduce(((e,o)=>e+o.temporario.total),0),this.item.valorCustoReposicao||(this.item.percentualMarkup=100),this.atualizarValorVendaLucro())},completarCodigoBarras(){!this.item.codigoBarras&&this.item.codigoItem&&(this.item.codigoBarras=$utils.completarCodigoBarras(String(this.item.codigoItem)))},removerItemDaLista(e,o){$q.dialog({cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},title:"Remover",message:"Ao continuar você irá remover este item.",ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{try{e.splice(o,1)}catch(e){e.message&&$q.notifyError("Ocorreu um erro ao remover",e)}}))},async removerComposicao(e){$q.dialog({cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},title:"Remover",message:"Ao continuar você irá remover este item.",ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{try{this.item.composicao.splice(e,1),0===this.item.composicao.length&&this.adicionarComposicao(),this.atualizarCustoReposicao()}catch(e){e.message&&$q.notifyError("Ocorreu um erro ao remover",e)}}))},verificarSeAlterouCampos(){const e={item:this.itemOriginal,itemComposicao:this.composicaoOriginal,itemFornecedor:this.fornecedorOriginal,itemProducaoFase:this.producaoFaseOriginal,itemQualidade:this.qualidadeOriginal},o={item:this.item,itemComposicao:this.composicao,itemFornecedor:this.fornecedor,itemProducaoFase:this.producaoFase,itemQualidade:this.qualidade};return null!==($utils.diferenca(e,o)||$utils.diferenca(this.tabelasPrecoOriginal,this.tabelasPreco))}},watch:{"item.percentualMarkup"(){this.atualizarValorVendaLucro()},utilizaComposicaoValorReposicaoInvertido(){this.item.utilizaComposicaoValorReposicao=!this.utilizaComposicaoValorReposicaoInvertido,this.atualizarCustoReposicao()},utilizaMarkupInvertido(){this.item.utilizaMarkup=!this.utilizaMarkupInvertido,this.atualizarValorVendaLucro()},"item.valorCustoReposicao"(){this.atualizarValorVendaLucro()},"item.valorVenda"(){this.atualizarValorVendaLucro()},descricaoConcatenada(e){this.item.descricaoConcatenada=e}},async created(){this.sistemaPai=(0,Do.sistemaPai)(),this.indexarNcms(),this.permissaoMaximoDescontoGerente=await $db.permissao.objetoClienteSistema("Diretiva_Vendas_DescontoMaximoNivelGerente")}};var Fo=t(46229),Po=t(81312),Ao=t(25901),Bo=t(77953),Lo=t(60880),Oo=t(31106),zo=t(71387),jo=t(83831),$o=t(782),Uo=t(4957),Zo=t(16078),Qo=t(38837),Ro=t(84384),Go=t(74488),Ho=t(83671);const Jo=(0,mo.Z)(qo,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("avatar"),n=(0,a.resolveComponent)("badge"),c=(0,a.resolveComponent)("campo"),d=(0,a.resolveComponent)("row"),m=(0,a.resolveComponent)("SeletorCampoTabela"),u=(0,a.resolveComponent)("SeletorNcm"),p=(0,a.resolveComponent)("SeletorCest"),so=(0,a.resolveComponent)("q-toggle"),no=(0,a.resolveComponent)("q-item-label"),co=(0,a.resolveComponent)("q-item-section"),mo=(0,a.resolveComponent)("q-item"),uo=(0,a.resolveComponent)("q-list"),po=(0,a.resolveComponent)("q-separator"),ho=(0,a.resolveComponent)("q-scroll-area"),Co=(0,a.resolveComponent)("q-card"),vo=(0,a.resolveComponent)("q-card-section"),fo=(0,a.resolveComponent)("q-tooltip"),No=(0,a.resolveComponent)("q-btn"),Vo=((0,a.resolveComponent)("q-toolbar-title"),(0,a.resolveComponent)("q-tab")),go=(0,a.resolveComponent)("q-tabs"),xo=(0,a.resolveComponent)("q-tab-panel"),bo=(0,a.resolveComponent)("q-tab-panels"),wo=(0,a.resolveComponent)("q-footer"),_o=(0,a.resolveComponent)("modalTrocarFoto"),yo=(0,a.resolveComponent)("prompt-item-novo"),Io=(0,a.resolveComponent)("q-form");return(0,a.openBlock)(),(0,a.createBlock)(Io,{ref:"form",class:"ItemFicha q-mt-md",onSubmit:l.salvarItem},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Co,{class:"bg-white no-shadow q-px-md q-py-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",h,[(0,a.createElementVNode)("div",C,[(0,a.createVNode)(s,{imagem:r.item.imagem,tamanho:"160",onClick:l.fotoTrocar_click,rotulo:r.item.descricao},null,8,["imagem","onClick","rotulo"])]),(0,a.createElementVNode)("div",v,[(0,a.createElementVNode)("div",f,[(0,a.createVNode)(n,{cor:l.badgeCor,escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("#"+(0,a.toDisplayString)((r.item.codigoItem||0).toString().padStart(6,"0")),1)])),_:1},8,["cor"])]),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[l.temDescricaoConcatenada?((0,a.openBlock)(),(0,a.createElementBlock)("div",N,(0,a.toDisplayString)(l.descricaoConcatenada),1)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(c,{class:"col-12",modelValue:r.item.descricao,"onUpdate:modelValue":o[0]||(o[0]=e=>r.item.descricao=e),modelModifiers:{trim:!0},autofocus:"",maxlength:"500",rotulo:"Nome do produto",dense:"",autogrow:"",tipo:"texto",rules:[e=>!!e.trim()||"Campo obrigatório"]},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(d,{class:"q-mt-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",V,[(0,a.createVNode)(m,{modelValue:r.item.marca,"onUpdate:modelValue":o[1]||(o[1]=e=>r.item.marca=e),tabela:"item",campo:"marca",label:"Marca",enableAdd:""},null,8,["modelValue"])]),(0,a.createElementVNode)("div",g,[(0,a.createVNode)(c,{rotuloFixo:"Tipo",tipo:"seletor",modelValue:r.item.tipo,"onUpdate:modelValue":o[2]||(o[2]=e=>r.item.tipo=e),opcoes:l.opcoesTipo,dense:""},null,8,["modelValue","opcoes"])])])),_:1}),(0,a.createVNode)(d,{class:"q-mt-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",x,[(0,a.createVNode)(c,{modelValue:r.item.referencia,"onUpdate:modelValue":o[3]||(o[3]=e=>r.item.referencia=e),maxlength:"30",rotulo:"Referência",dense:"",tipo:"texto",rules:r.rules.referencia},null,8,["modelValue","rules"])]),(0,a.createElementVNode)("div",b,[(0,a.createVNode)(c,{maxlength:"13",rotulo:"Código de barras (GTIN ou EAN)",tipo:"texto",dense:"",modelValue:r.item.codigoBarras,"onUpdate:modelValue":o[4]||(o[4]=e=>r.item.codigoBarras=e),modelModifiers:{trim:!0},mask:"##############",onBlur:l.completarCodigoBarras},null,8,["modelValue","onBlur"])])])),_:1}),"Serviço"!=r.item.tipo?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,class:"q-mt-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",w,[(0,a.createVNode)(u,{modelValue:r.item.ncm,"onUpdate:modelValue":o[5]||(o[5]=e=>r.item.ncm=e),col:"6",class:"q-pb-md"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",_,[(0,a.createVNode)(p,{modelValue:r.item.cest,"onUpdate:modelValue":o[6]||(o[6]=e=>r.item.cest=e),ncm:r.item.ncm},null,8,["modelValue","ncm"])])])),_:1})):(0,a.createCommentVNode)("",!0),y,(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",I,[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",E,[(0,a.createVNode)(c,{ajuda:r.utilizaComposicaoValorReposicaoInvertido?"":"Total da composição",dense:"",rotulo:"Custo de reposição",tipo:"decimal",decimals:"4",zerosDireita:"2",modelValue:r.item.valorCustoReposicao,"onUpdate:modelValue":o[7]||(o[7]=e=>r.item.valorCustoReposicao=e),disable:!r.utilizaComposicaoValorReposicaoInvertido,readonly:!r.utilizaComposicaoValorReposicaoInvertido},null,8,["ajuda","modelValue","disable","readonly"])]),(0,a.createElementVNode)("div",S,[(0,a.createVNode)(so,{modelValue:r.utilizaComposicaoValorReposicaoInvertido,"onUpdate:modelValue":o[8]||(o[8]=e=>r.utilizaComposicaoValorReposicaoInvertido=e)},null,8,["modelValue"])])])),_:1})]),(0,a.createElementVNode)("div",M,[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",T,[(0,a.createVNode)(c,(0,a.mergeProps)(l.meta.percentualMarkup,{modelValue:r.item.percentualMarkup,"onUpdate:modelValue":o[9]||(o[9]=e=>r.item.percentualMarkup=e),dense:"",disable:r.utilizaMarkupInvertido,readonly:r.utilizaMarkupInvertido}),null,16,["modelValue","disable","readonly"])]),(0,a.createElementVNode)("div",k,[(0,a.createVNode)(so,{modelValue:r.utilizaMarkupInvertido,"onUpdate:modelValue":o[10]||(o[10]=e=>r.utilizaMarkupInvertido=e)},null,8,["modelValue"])])])),_:1})]),(0,a.createVNode)(c,(0,a.mergeProps)({col:"4"},l.meta.valorVenda,{decimals:"4",zerosDireita:"2",modelValue:r.item.valorVenda,"onUpdate:modelValue":o[11]||(o[11]=e=>r.item.valorVenda=e),onBlur:l.atualizarTabelasPreco,dense:"",disable:!r.utilizaMarkupInvertido,readonly:!r.utilizaMarkupInvertido}),null,16,["modelValue","onBlur","disable","readonly"])])),_:1}),(r.tabelasPreco||[]).length>1?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[D,(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(uo,{class:"col-12",link:"","no-border":""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.tabelasPreco,(e=>((0,a.openBlock)(),(0,a.createBlock)(mo,{key:e.id,class:"q-pl-none q-pr-none",link:"",tag:"label"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(co,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(no,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.descricao),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(co,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(so,{modelValue:e.habilitada,"onUpdate:modelValue":[o=>e.habilitada=o,o=>l.atualizarTabelaPreco(e.id)]},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.createVNode)(co,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,(0,a.mergeProps)({rotulo:"Desc. Máximo (%)",tipo:"decimal",decimals:"2"},{dense:"",disable:!e.habilitada,readonly:!e.habilitada,modelValue:e.maximoDesconto,"onUpdate:modelValue":o=>e.maximoDesconto=o}),null,16,["disable","readonly","modelValue","onUpdate:modelValue"])])),_:2},1024),r.permissaoMaximoDescontoGerente?((0,a.openBlock)(),(0,a.createBlock)(co,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,(0,a.mergeProps)({rotulo:"Desc. Máximo Gerente (%)",tipo:"decimal",decimals:"2"},{dense:"",disable:!e.habilitada,readonly:!e.habilitada,modelValue:e.maximoDescontoGerente,"onUpdate:modelValue":o=>e.maximoDescontoGerente=o}),null,16,["disable","readonly","modelValue","onUpdate:modelValue"])])),_:2},1024)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(co,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,(0,a.mergeProps)({rotulo:"Valor de venda",tipo:"decimal",decimals:"4",zerosDireita:"2"},{dense:"",disable:!e.habilitada,readonly:!e.habilitada,modelValue:e.valorVenda,"onUpdate:modelValue":o=>e.valorVenda=o}),null,16,["disable","readonly","modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})],64)):(0,a.createCommentVNode)("",!0),"Serviço"!==r.item.tipo&&r.habilitaCamposControlados?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:2},[q,(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{col:"4",modelValue:r.item.controladoExercito,"onUpdate:modelValue":o[12]||(o[12]=e=>r.item.controladoExercito=e),rotulo:"Quantidade Exército",tipo:"decimal",decimals:"4",dense:""},null,8,["modelValue"]),(0,a.createVNode)(c,{col:"4",modelValue:r.item.controladoPoliciaFederal,"onUpdate:modelValue":o[13]||(o[13]=e=>r.item.controladoPoliciaFederal=e),rotulo:"Quantidade Polícia Federal",tipo:"decimal",dense:"",decimals:"4"},null,8,["modelValue"]),(0,a.createVNode)(c,{col:"4",modelValue:r.item.controladoPoliciaCivil,"onUpdate:modelValue":o[14]||(o[14]=e=>r.item.controladoPoliciaCivil=e),rotulo:"Quantidade Polícia Civil",tipo:"decimal",dense:"",decimals:"4"},null,8,["modelValue"])])),_:1})],64)):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",F,[(0,a.createVNode)(ho,{style:{height:"350px"},class:"bg-light"},{default:(0,a.withCtx)((()=>[P,((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.estoquePorEmpresa,(o=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o.idEmpresa,class:"q-pa-sm"},[(0,a.createElementVNode)("div",A,(0,a.toDisplayString)(o.nomeEmpresa),1),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.estoquePorLote,((o,t)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:t},[(0,a.createElementVNode)("div",B,"Lote "+(0,a.toDisplayString)(o.loteEmpresa||"-"),1),L,(0,a.createVNode)(po,{class:"q-my-xs"}),(0,a.createElementVNode)("div",O,[(0,a.createElementVNode)("div",z,(0,a.toDisplayString)(e.$filters.numero(o.saldo,2)),1),(0,a.createElementVNode)("div",j,(0,a.toDisplayString)(e.$filters.numero(o.valorCustoMedio,2)),1),(0,a.createElementVNode)("div",$,(0,a.toDisplayString)(e.$filters.numero(o.valorCusto,2)),1),(0,a.createElementVNode)("div",U,(0,a.toDisplayString)(e.$filters.numero(o.valorCustoAnterior,2)),1)]),(0,a.createVNode)(po)])))),128))])))),128)),0===r.estoquePorEmpresa.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",Z,Q)):(0,a.createCommentVNode)("",!0)])),_:1})])])])),_:1}),l.temArmacao?((0,a.openBlock)(),(0,a.createBlock)(Co,{key:0,class:"bg-white no-shadow q-px-md q-py-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(vo,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[R])),_:1}),(0,a.createVNode)(vo,{class:"q-col-gutter-x-md justify-around row"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",G,[(0,a.createElementVNode)("div",H,[(0,a.createElementVNode)("div",J,[Y,(0,a.createElementVNode)("div",X,[(0,a.createVNode)(c,(0,a.mergeProps)(l.meta.haste,{modelValue:r.item.haste,"onUpdate:modelValue":o[15]||(o[15]=e=>r.item.haste=e),dense:""}),null,16,["modelValue"])])]),(0,a.createElementVNode)("div",W,[K,(0,a.createElementVNode)("div",ee,[(0,a.createVNode)(c,(0,a.mergeProps)(l.meta.altura,{modelValue:r.item.altura,"onUpdate:modelValue":o[16]||(o[16]=e=>r.item.altura=e),dense:""}),null,16,["modelValue"])])]),(0,a.createElementVNode)("div",oe,[te,(0,a.createElementVNode)("div",ae,[(0,a.createVNode)(c,(0,a.mergeProps)(l.meta.ponte,{modelValue:r.item.ponte,"onUpdate:modelValue":o[17]||(o[17]=e=>r.item.ponte=e),dense:""}),null,16,["modelValue"])])]),(0,a.createElementVNode)("div",ie,[re,(0,a.createElementVNode)("div",le,[(0,a.createVNode)(c,(0,a.mergeProps)(l.meta.largura,{modelValue:r.item.largura,"onUpdate:modelValue":o[18]||(o[18]=e=>r.item.largura=e),dense:""}),null,16,["modelValue"])])]),(0,a.createElementVNode)("div",se,[ne,(0,a.createElementVNode)("div",ce,[(0,a.createVNode)(c,(0,a.mergeProps)(l.meta.diagonal,{modelValue:r.item.diagonal,"onUpdate:modelValue":o[19]||(o[19]=e=>r.item.diagonal=e),dense:""}),null,16,["modelValue"])])])])]),(0,a.createElementVNode)("div",de,[(0,a.createElementVNode)("div",me,[(0,a.createVNode)(c,(0,a.mergeProps)(l.meta.genero,{modelValue:r.item.genero,"onUpdate:modelValue":o[20]||(o[20]=e=>r.item.genero=e),filter:"",opcoes:l.opcoesGenero,dense:""}),null,16,["modelValue","opcoes"]),(0,a.createVNode)(m,{class:"col-12 col-md-6",modelValue:r.item.armacaoMaterial,"onUpdate:modelValue":o[21]||(o[21]=e=>r.item.armacaoMaterial=e),tabela:"item",campo:"armacaoMaterial",label:"Material",enableAdd:""},null,8,["modelValue"]),(0,a.createVNode)(m,{class:"col-12 col-md-6",modelValue:r.item.tipoMontagem,"onUpdate:modelValue":o[22]||(o[22]=e=>r.item.tipoMontagem=e),tabela:"item",campo:"tipoMontagem",label:"Montagem",enableAdd:""},null,8,["modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-12 col-md-6"},l.meta.modelo,{modelValue:r.item.modelo,"onUpdate:modelValue":o[23]||(o[23]=e=>r.item.modelo=e),dense:""}),null,16,["modelValue"]),(0,a.createVNode)(m,{class:"col-12 col-md-6",modelValue:r.item.amarcaoCor,"onUpdate:modelValue":o[24]||(o[24]=e=>r.item.amarcaoCor=e),tabela:"item",campo:"amarcaoCor",label:"Cor",enableAdd:""},null,8,["modelValue"])])])])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),l.temLente?((0,a.openBlock)(),(0,a.createBlock)(Co,{key:1,class:"bg-white no-shadow q-px-md q-py-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(vo,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[ue])),_:1}),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(d,{class:"q-col-gutter-x-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"col-12 col-md-6",modelValue:r.item.material,"onUpdate:modelValue":o[25]||(o[25]=e=>r.item.material=e),tabela:"item",campo:"material",label:"Material",enableAdd:""},null,8,["modelValue"]),(0,a.createVNode)(m,{class:"col-12 col-md-6",modelValue:r.item.cor,"onUpdate:modelValue":o[26]||(o[26]=e=>r.item.cor=e),tabela:"item",campo:"cor",label:"Cor",enableAdd:""},null,8,["modelValue"])])),_:1}),"Óculos Pronto"===r.item.tipo?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,class:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-6 col-md-2"},l.meta.esfericoInicial,{modelValue:r.item.esfericoInicial,"onUpdate:modelValue":o[27]||(o[27]=e=>r.item.esfericoInicial=e)}),null,16,["modelValue"])])),_:1})):(0,a.createCommentVNode)("",!0),"Lente"===r.item.tipo?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createVNode)(d,{class:"q-col-gutter-x-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-6 col-md-4"},l.meta.esfericoInicial,{modelValue:r.item.esfericoInicial,"onUpdate:modelValue":o[28]||(o[28]=e=>r.item.esfericoInicial=e)}),null,16,["modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-6 col-md-4"},l.meta.esfericoFinal,{modelValue:r.item.esfericoFinal,"onUpdate:modelValue":o[29]||(o[29]=e=>r.item.esfericoFinal=e)}),null,16,["modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-6 col-md-4"},l.meta.cilindrico,{modelValue:r.item.cilindrico,"onUpdate:modelValue":o[30]||(o[30]=e=>r.item.cilindrico=e)}),null,16,["modelValue"])])),_:1}),(0,a.createVNode)(d,{class:"q-col-gutter-x-sm"},{default:(0,a.withCtx)((()=>["Monofocal"!==r.item.lenteTipo?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-6 col-md-3 col-lg"},l.meta.adicaoInicial,{modelValue:r.item.adicaoInicial,"onUpdate:modelValue":o[31]||(o[31]=e=>r.item.adicaoInicial=e)}),null,16,["modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-6 col-md-3 col-lg"},l.meta.adicaoFinal,{modelValue:r.item.adicaoFinal,"onUpdate:modelValue":o[32]||(o[32]=e=>r.item.adicaoFinal=e)}),null,16,["modelValue"])],64)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-6 col-md-3 col-lg"},l.meta.alturaMinima,{modelValue:r.item.alturaMinima,"onUpdate:modelValue":o[33]||(o[33]=e=>r.item.alturaMinima=e)}),null,16,["modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-6 col-md-3 col-lg"},l.meta.indiceRefracao,{modelValue:r.item.indiceRefracao,"onUpdate:modelValue":o[34]||(o[34]=e=>r.item.indiceRefracao=e)}),null,16,["modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-6 col-md-3 col-lg"},l.meta.diametro,{modelValue:r.item.diametro,"onUpdate:modelValue":o[35]||(o[35]=e=>r.item.diametro=e)}),null,16,["modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-6 col-md-3 col-lg"},l.meta.lenteTipo,{modelValue:r.item.lenteTipo,"onUpdate:modelValue":o[36]||(o[36]=e=>r.item.lenteTipo=e),opcoes:l.opcoesLenteTipo}),null,16,["modelValue","opcoes"])])),_:1})],64)):(0,a.createCommentVNode)("",!0),"Lente Contato"===r.item.tipo?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:2},[(0,a.createVNode)(d,{class:"q-col-gutter-x-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-6 col-md-3 col-lg"},l.meta.esfericoInicial,{modelValue:r.item.esfericoInicial,"onUpdate:modelValue":o[37]||(o[37]=e=>r.item.esfericoInicial=e)}),null,16,["modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-6 col-md-3 col-lg"},l.meta.esfericoFinal,{modelValue:r.item.esfericoFinal,"onUpdate:modelValue":o[38]||(o[38]=e=>r.item.esfericoFinal=e)}),null,16,["modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-6 col-md-3 col-lg"},l.meta.eixo,{modelValue:r.item.eixo,"onUpdate:modelValue":o[39]||(o[39]=e=>r.item.eixo=e)}),null,16,["modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-6 col-md-3 col-lg"},l.meta.eixoFinal,{modelValue:r.item.eixoFinal,"onUpdate:modelValue":o[40]||(o[40]=e=>r.item.eixoFinal=e)}),null,16,["modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-6 col-md-3 col-lg"},l.meta.adicaoInicial,{modelValue:r.item.adicaoInicial,"onUpdate:modelValue":o[41]||(o[41]=e=>r.item.adicaoInicial=e)}),null,16,["modelValue"])])),_:1}),(0,a.createVNode)(d,{class:"q-col-gutter-x-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-6 col-md-3"},l.meta.RB1,{modelValue:r.item.RB1,"onUpdate:modelValue":o[42]||(o[42]=e=>r.item.RB1=e)}),null,16,["modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-6 col-md-3"},l.meta.RB2,{modelValue:r.item.RB2,"onUpdate:modelValue":o[43]||(o[43]=e=>r.item.RB2=e)}),null,16,["modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-6 col-md-3"},l.meta.diametro,{modelValue:r.item.diametro,"onUpdate:modelValue":o[44]||(o[44]=e=>r.item.diametro=e)}),null,16,["modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-6 col-md-3"},l.meta.cilindrico,{modelValue:r.item.cilindrico,"onUpdate:modelValue":o[45]||(o[45]=e=>r.item.cilindrico=e)}),null,16,["modelValue"])])),_:1}),(0,a.createVNode)(d,{class:"q-col-gutter-x-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-12 col-md-4"},l.meta.geometria,{modelValue:r.item.geometria,"onUpdate:modelValue":o[46]||(o[46]=e=>r.item.geometria=e),opcoes:l.opcoesGeometria}),null,16,["modelValue","opcoes"]),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-12 col-md-4"},l.meta.lenteTipo,{modelValue:r.item.lenteTipo,"onUpdate:modelValue":o[47]||(o[47]=e=>r.item.lenteTipo=e),opcoes:l.opcoesLenteTipo}),null,16,["modelValue","opcoes"]),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-12 col-md-4"},l.meta.surfacada,{modelValue:r.item.surfacada,"onUpdate:modelValue":o[48]||(o[48]=e=>r.item.surfacada=e),opcoes:l.opcoesSurfacada}),null,16,["modelValue","opcoes"])])),_:1})],64)):(0,a.createCommentVNode)("",!0)])])),_:1})):(0,a.createCommentVNode)("",!0),"Lente"===r.item.tipo?((0,a.openBlock)(),(0,a.createBlock)(Co,{key:2,class:"bg-white no-shadow q-px-md q-py-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(vo,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[pe])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.item.composicao||[],((e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"u-separador animate-pop",key:o},[(0,a.createVNode)(d,{class:"q-col-gutter-x-md justify-around"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{"model-value":e.descricaoItemUtilizado,before:[{icon:"search",handler(){l.abrirModalTratamento(o)}}],class:"col",onClick:e=>l.abrirModalTratamento(o),readonly:"",rotulo:"Tratamento"},null,8,["model-value","before","onClick"]),(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":o=>e.idItemUtilizado=o,type:"hidden"},null,8,he),[[a.vModelText,e.idItemUtilizado]]),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col"},l.meta.composicao.lista.temporario.valor,{modelValue:r.item.composicao[o].temporario.valor,"onUpdate:modelValue":e=>r.item.composicao[o].temporario.valor=e,disable:!0,readonly:!0}),null,16,["modelValue","onUpdate:modelValue"]),(0,a.createElementVNode)("div",Ce,[(0,a.createVNode)(No,{color:"negative",size:"xs",icon:"remove",outline:"",round:"",onClick:e=>l.removerComposicao(o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(fo,null,{default:(0,a.withCtx)((()=>[ve])),_:1})])),_:2},1032,["onClick"])])])),_:2},1024)])))),128)),(0,a.createElementVNode)("div",fe,[(0,a.createVNode)(No,{color:"positive",icon:"add",label:"Tratamento",outline:"",size:"sm",onClick:l.adicionarComposicao},null,8,["onClick"])])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createCommentVNode)("",!0),(0,a.createVNode)(go,{modelValue:r.tab,"onUpdate:modelValue":o[49]||(o[49]=e=>r.tab=e),class:"bg-transparent q-mt-lg text-primary",color:"transparent","text-color":"primary",align:"justify"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Vo,{label:"Detalhes",name:"profile-tab-1"}),(0,a.createVNode)(Vo,{label:"Fornecedores",name:"profile-tab-2"}),"Lente"!==r.item.tipo&&"optisoul"!==r.sistemaPai?((0,a.openBlock)(),(0,a.createBlock)(Vo,{key:0,label:"Composição",name:"profile-tab-3"})):(0,a.createCommentVNode)("",!0),"optisoul"!==r.sistemaPai?((0,a.openBlock)(),(0,a.createBlock)(Vo,{key:1,label:"PCP",name:"profile-tab-4"})):(0,a.createCommentVNode)("",!0)])),_:1},8,["modelValue"]),(0,a.createVNode)(bo,{modelValue:r.tab,"onUpdate:modelValue":o[74]||(o[74]=e=>r.tab=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(xo,{class:"bg-white",name:"profile-tab-1"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Ne,[(0,a.createElementVNode)("div",Ve,[(0,a.createElementVNode)("div",ge,[(0,a.createVNode)(m,{class:"col-6 col-md-4",modelValue:r.item.grupo,"onUpdate:modelValue":o[50]||(o[50]=e=>r.item.grupo=e),tabela:"item",campo:"grupo",label:"Grupo",enableAdd:""},null,8,["modelValue"]),(0,a.createVNode)(m,{class:"col-6 col-md-4",modelValue:r.item.subGrupo,"onUpdate:modelValue":o[51]||(o[51]=e=>r.item.subGrupo=e),tabela:"item",campo:"subGrupo",label:"Subgrupo",enableAdd:""},null,8,["modelValue"]),(0,a.createVNode)(m,{class:"col-6 col-md-4",modelValue:r.item.unidade,"onUpdate:modelValue":o[52]||(o[52]=e=>r.item.unidade=e),tabela:"item",campo:"unidade",label:"Unidade",enableAdd:"",maxLength:"10"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",xe,[(0,a.createElementVNode)("div",be,[(0,a.createVNode)(c,(0,a.mergeProps)(l.meta.garantiaDias,{modelValue:r.item.garantiaDias,"onUpdate:modelValue":o[53]||(o[53]=e=>r.item.garantiaDias=e)}),null,16,["modelValue"])]),(0,a.createElementVNode)("div",we,[(0,a.createVNode)(c,(0,a.mergeProps)({modelValue:r.item.garantiaDescricao,"onUpdate:modelValue":o[54]||(o[54]=e=>r.item.garantiaDescricao=e)},l.meta.garantiaDescricao),null,16,["modelValue"])]),(0,a.createVNode)(c,(0,a.mergeProps)(l.meta.idPerfilContabil,{modelValue:r.item.idPerfilContabil,"onUpdate:modelValue":o[55]||(o[55]=e=>r.item.idPerfilContabil=e),filter:"",opcoes:r.opcoesPerfilContabil,onClick:l.leOpcoesPerfilContabil}),null,16,["modelValue","opcoes","onClick"]),(0,a.createVNode)(c,(0,a.mergeProps)({modelValue:r.item.codigoOrigem,"onUpdate:modelValue":o[56]||(o[56]=e=>r.item.codigoOrigem=e),class:"col-12 col-md-8",style:{"white-space":"normal"}},l.meta.codigoOrigem,{opcoes:r.opcoesOrigem}),null,16,["modelValue","opcoes"])])]),(0,a.createElementVNode)("div",_e,[(0,a.createElementVNode)("div",ye,[(0,a.createVNode)(c,(0,a.mergeProps)(l.meta.observacao,{modelValue:r.item.observacao,"onUpdate:modelValue":o[57]||(o[57]=e=>r.item.observacao=e)}),null,16,["modelValue"])]),(0,a.createElementVNode)("div",Ie,[(0,a.createVNode)(c,(0,a.mergeProps)(l.meta.aplicacao,{modelValue:r.item.aplicacao,"onUpdate:modelValue":o[58]||(o[58]=e=>r.item.aplicacao=e)}),null,16,["modelValue"])])])]),Ee,(0,a.createElementVNode)("div",Se,[(0,a.createVNode)(c,{col:"3",modelValue:r.item.peso,"onUpdate:modelValue":o[59]||(o[59]=e=>r.item.peso=e),tipo:"decimal",decimals:"4",zerosDireita:"2",rotulo:"Peso"},null,8,["modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({col:"3",modelValue:r.item.densidade,"onUpdate:modelValue":o[60]||(o[60]=e=>r.item.densidade=e),opcoes:{minimumValue:0,decimalPlaces:4}},l.meta.densidade),null,16,["modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({col:"3",modelValue:r.item.comprimento,"onUpdate:modelValue":o[61]||(o[61]=e=>r.item.comprimento=e),opcoes:{minimumValue:0,decimalPlaces:4}},l.meta.comprimento),null,16,["modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({col:"3",modelValue:r.item.largura,"onUpdate:modelValue":o[62]||(o[62]=e=>r.item.largura=e),opcoes:{minimumValue:0,decimalPlaces:4}},l.meta.largura),null,16,["modelValue"]),(0,a.createVNode)(m,{class:"col-6 col-md-3",modelValue:r.item.cor,"onUpdate:modelValue":o[63]||(o[63]=e=>r.item.cor=e),tabela:"item",campo:"cor",label:"Cor",enableAdd:""},null,8,["modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({col:"3",modelValue:r.item.embalagem,"onUpdate:modelValue":o[64]||(o[64]=e=>r.item.embalagem=e)},l.meta.embalagem),null,16,["modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({col:"3",modelValue:r.item.capacidade,"onUpdate:modelValue":o[65]||(o[65]=e=>r.item.capacidade=e),opcoes:"{ minimumValue: 0, decimalPlaces: 4 }"},l.meta.capacidade),null,16,["modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({col:"3",modelValue:r.item.capacidadeUnidade,"onUpdate:modelValue":o[66]||(o[66]=e=>r.item.capacidadeUnidade=e)},l.meta.capacidadeUnidade),null,16,["modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({col:"3",modelValue:r.item.validadeMeses,"onUpdate:modelValue":o[67]||(o[67]=e=>r.item.validadeMeses=e)},l.meta.validadeMeses),null,16,["modelValue"])])])),_:1}),(0,a.createVNode)(xo,{class:"bg-white",name:"profile-tab-2"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.fornecedor,((e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"u-separador animate-pop",key:o},[(0,a.createElementVNode)("div",Me,[(0,a.createVNode)(c,(0,a.mergeProps)({"model-value":r.contato[e.idContato]?.apelido,before:[{icon:"search",handler(){l.selecionarFornecedor(o)}}],class:"col-12 col-sm",onClick:e=>l.selecionarFornecedor(o),readonly:""},l.meta.fornecedor.lista.idContato),null,16,["model-value","before","onClick"]),(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":o=>e.idContato=o,type:"hidden"},null,8,Te),[[a.vModelText,e.idContato]]),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-12 col-sm"},l.meta.fornecedor.lista.descricao,{modelValue:e.descricao,"onUpdate:modelValue":o=>e.descricao=o}),null,16,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-10 col-sm"},l.meta.fornecedor.lista.referencia,{modelValue:e.referencia,"onUpdate:modelValue":o=>e.referencia=o}),null,16,["modelValue","onUpdate:modelValue"]),(0,a.createElementVNode)("div",ke,[(0,a.createVNode)(No,{color:"negative",size:"xs",icon:"remove",outline:"",round:"",onClick:e=>l.removerItemDaLista(r.fornecedor,o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(fo,null,{default:(0,a.withCtx)((()=>[De])),_:1})])),_:2},1032,["onClick"])])])])))),128)),(0,a.createElementVNode)("div",qe,[(0,a.createVNode)(No,{color:"positive",icon:"add",label:"Fornecedor",outline:"",size:"sm",onClick:o[68]||(o[68]=()=>{this.fornecedor.push({})})})])])),_:1}),(0,a.createVNode)(xo,{class:"bg-white",name:"profile-tab-3"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.composicao,((e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"u-separador animate-pop",key:o},[(0,a.createElementVNode)("div",Fe,[(0,a.createVNode)(c,{"model-value":e.descricaoItemUtilizado,class:"col-12 col-sm",before:[{icon:"search",handler(){l.abrirModalItemUtilizado(o)}}],onClick:e=>l.abrirModalItemUtilizado(o),readonly:"",rotulo:"Produto para composição",tipo:"texto"},null,8,["model-value","before","onClick"]),(0,a.createVNode)(c,(0,a.mergeProps)(l.meta.composicao.lista.ordem,{modelValue:e.ordem,"onUpdate:modelValue":o=>e.ordem=o,class:"col-12 col-sm"}),null,16,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)(l.meta.composicao.lista.quantidade,{modelValue:e.quantidade,"onUpdate:modelValue":[o=>e.quantidade=o,e=>l.atualizarItemComposicao(o)],class:"col-10 col-sm"}),null,16,["modelValue","onUpdate:modelValue"]),(0,a.createElementVNode)("div",Pe,[(0,a.createVNode)(No,{color:"negative",size:"xs",icon:"remove",outline:"",round:"",onClick:e=>l.removerComposicao(o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(fo,null,{default:(0,a.withCtx)((()=>[Ae])),_:1})])),_:2},1032,["onClick"])])])])))),128)),(0,a.createElementVNode)("div",Be,[(0,a.createVNode)(No,{color:"positive",icon:"add",label:"Composição",outline:"",size:"sm",onClick:o[69]||(o[69]=()=>{this.composicao.push({})})})])])),_:1}),(0,a.createVNode)(xo,{class:"bg-white",name:"profile-tab-4"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Le,[(0,a.createVNode)(c,(0,a.mergeProps)({modelValue:r.item.numeroPop,"onUpdate:modelValue":o[70]||(o[70]=e=>r.item.numeroPop=e),class:"col-12 col-sm-6"},l.meta.numeroPop),null,16,["modelValue"]),(0,a.createElementVNode)("div",Oe,[(0,a.createVNode)(c,(0,a.mergeProps)({modelValue:r.item.procedimento,"onUpdate:modelValue":o[71]||(o[71]=e=>r.item.procedimento=e)},l.meta.procedimento),null,16,["modelValue"])])]),(0,a.createElementVNode)("div",null,[ze,((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.qualidade,((e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"u-separador animate-pop",key:o},[(0,a.createElementVNode)("div",je,[(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-12 col-sm"},l.meta.qualidade.lista.descricao,{modelValue:e.descricao,"onUpdate:modelValue":o=>e.descricao=o}),null,16,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-12 col-sm"},l.meta.qualidade.lista.especificacao,{modelValue:e.especificacao,"onUpdate:modelValue":o=>e.especificacao=o}),null,16,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-10 col-sm"},l.meta.qualidade.lista.limites,{modelValue:e.limites,"onUpdate:modelValue":o=>e.limites=o}),null,16,["modelValue","onUpdate:modelValue"]),(0,a.createElementVNode)("div",$e,[(0,a.createVNode)(No,{color:"negative",size:"xs",icon:"remove",outline:"",round:"",onClick:e=>l.removerItemDaLista(r.qualidade,o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(fo,null,{default:(0,a.withCtx)((()=>[Ue])),_:1})])),_:2},1032,["onClick"])])])])))),128)),(0,a.createElementVNode)("div",Ze,[(0,a.createVNode)(No,{color:"positive",icon:"add",label:"Qualidade",outline:"",size:"sm",onClick:o[72]||(o[72]=()=>{this.qualidade.push({})})})])]),(0,a.createElementVNode)("div",null,[Qe,((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.producaoFase,((e,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"u-separador animate-pop",key:o},[(0,a.createElementVNode)("div",Re,[(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-12 col-sm"},l.meta.producaoFase.lista.ordem,{modelValue:e.ordem,"onUpdate:modelValue":o=>e.ordem=o}),null,16,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(c,(0,a.mergeProps)({class:"col-12 col-sm"},l.meta.producaoFase.lista.descricao,{modelValue:e.descricao,"onUpdate:modelValue":o=>e.descricao=o}),null,16,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(c,{"model-value":e.descricaoItemEquipamento,before:[{icon:"search",handler(){l.abrirModalEquipamento(o)}}],class:"col-12 col-sm",onClick:e=>l.abrirModalEquipamento(o),readonly:"",rotulo:"Equipamento"},null,8,["model-value","before","onClick"]),(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":o=>e.idItemEquipamento=o,type:"hidden"},null,8,Ge),[[a.vModelText,e.idItemEquipamento]]),(0,a.createVNode)(c,{"model-value":e.descricaoItemFerramenta,before:[{icon:"search",handler(){l.abrirModalFerramenta(o)}}],class:"col-12 col-sm",onClick:e=>l.abrirModalFerramenta(o),readonly:"",rotulo:"Ferramenta"},null,8,["model-value","before","onClick"]),(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":o=>e.idItemFerramenta=o,type:"hidden"},null,8,He),[[a.vModelText,e.idItemFerramenta]]),(0,a.createVNode)(c,{"model-value":e.descricaoItemServico,before:[{icon:"search",handler(){l.abrirModalServico(o)}}],class:"col-10 col-sm",onClick:e=>l.abrirModalServico(o),readonly:"",rotulo:"Servico"},null,8,["model-value","before","onClick"]),(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":o=>e.idItemServico=o,type:"hidden"},null,8,Je),[[a.vModelText,e.idItemServico]]),(0,a.createElementVNode)("div",Ye,[(0,a.createVNode)(No,{color:"negative",size:"xs",icon:"remove",outline:"",round:"",onClick:e=>l.removerItemDaLista(r.producaoFase,o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(fo,null,{default:(0,a.withCtx)((()=>[Xe])),_:1})])),_:2},1032,["onClick"])])])])))),128)),(0,a.createElementVNode)("div",We,[(0,a.createVNode)(No,{color:"positive",icon:"add",label:"Fase",outline:"",size:"sm",onClick:o[73]||(o[73]=()=>{this.producaoFase.push({})})})])])])),_:1})])),_:1},8,["modelValue"]),(0,a.createElementVNode)("div",Ke,[r.item.dataCadastro?((0,a.openBlock)(),(0,a.createElementBlock)("small",eo,"Data do cadastro: "+(0,a.toDisplayString)(e.$filters.dataHora(r.item.dataCadastro)),1)):(0,a.createCommentVNode)("",!0),r.item._DataHoraUltimaAlteracao?((0,a.openBlock)(),(0,a.createElementBlock)("small",oo,"Última alteração: "+(0,a.toDisplayString)(e.$filters.dataHora(r.item._DataHoraUltimaAlteracao)),1)):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(wo,{class:"bg-light no-shadow q-pa-sm text-right",bordered:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",to,[r.item.ativo?((0,a.openBlock)(),(0,a.createElementBlock)("div",ao,[(0,a.createVNode)(No,{color:"tertiary",flat:"",label:"Cancelar",onClick:(0,a.withModifiers)(l.aoCancelar,["prevent"])},null,8,["onClick"]),(0,a.createVNode)(No,{class:"q-ml-sm",unelevated:"",color:"primary",label:"Salvar",type:"submit"}),(0,a.createVNode)(No,{class:"q-ml-lg",color:"tertiary",flat:"",icon:"delete",round:"",onClick:l.itemRemover_click},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(fo,null,{default:(0,a.withCtx)((()=>[io])),_:1})])),_:1},8,["onClick"])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",ro,[lo,(0,a.createVNode)(No,{class:"q-ml-sm text-white",unelevated:"",color:"primary",onClick:l.itemRestaurar_click,label:"Restaurar produto"},null,8,["onClick"])]))])])),_:1}),(0,a.createVNode)(_o,{ref:"modalTrocarFoto"},null,512),(0,a.createVNode)(yo,{modelValue:r.modalEquipamento,"onUpdate:modelValue":o[75]||(o[75]=e=>r.modalEquipamento=e),filtro:{tipo:"Equipamento",ativo:!0},onSelecionarItens:l.selecionarEquipamento},null,8,["modelValue","onSelecionarItens"]),(0,a.createVNode)(yo,{modelValue:r.modalFerramenta,"onUpdate:modelValue":o[76]||(o[76]=e=>r.modalFerramenta=e),filtro:{tipo:"Ferramenta",ativo:!0},onSelecionarItens:l.selecionarFerramenta},null,8,["modelValue","onSelecionarItens"]),(0,a.createVNode)(yo,{modelValue:r.modalServico,"onUpdate:modelValue":o[77]||(o[77]=e=>r.modalServico=e),filtro:{tipo:"Serviço",ativo:!0},onSelecionarItens:l.selecionarServico},null,8,["modelValue","onSelecionarItens"]),(0,a.createVNode)(yo,{modelValue:r.modalTratamento,"onUpdate:modelValue":o[78]||(o[78]=e=>r.modalTratamento=e),filtro:{tipo:"Tratamento",ativo:!0},onSelecionarItens:l.selecionarTratamento},null,8,["modelValue","onSelecionarItens"]),(0,a.createVNode)(yo,{modelValue:r.modalItemUtilizado,"onUpdate:modelValue":o[79]||(o[79]=e=>r.modalItemUtilizado=e),filtro:{ativo:!0},onSelecionarItens:l.selecionarItemUtilizado},null,8,["modelValue","onSelecionarItens"])])),_:1},8,["onSubmit"])}]]);go()(qo,"components",{QForm:Fo.Z,QCard:po.Z,QToggle:Po.Z,QList:Ao.Z,QItem:Bo.Z,QItemSection:Lo.Z,QItemLabel:Oo.Z,QScrollArea:zo.Z,QSeparator:jo.Z,QCardSection:$o.Z,QToolbarTitle:Co.Z,QBtn:vo.Z,QTooltip:Uo.Z,QTabs:Zo.Z,QTab:Qo.Z,QTabPanels:Ro.Z,QTabPanel:Go.Z,QFooter:Ho.Z})},42867:(e,o,t)=>{"use strict";t.d(o,{Z:()=>T});var a=t(34182);const i=(0,a.createTextVNode)("Duplicar Produto/Serviço");var r=t(15358),l=t(69269),s=t(48462),n=t(27430);const c={components:{itemFicha:s.Z,ItemEstoque:n.Z,Avatar:r.Z,Tutorial:l.Z},data:()=>({item:{id:""},visivel:!1,abas:[],abaSelecionada:"ItemFicha",abaAnterior:"ItemFicha",objetoPai:"item",permissaoFicha:!1,permissaoEstoque:!1}),emits:["atualizar"],methods:{trocarAba_click(e){let o=!1;try{o=this.$refs[this.abaAnterior].verificarSeAlterouCampos()}catch{}o?$q.dialog({message:"Deseja descartar suas modificações?",title:"Atenção!",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Descartar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((()=>{this.abaAnterior=this.abaSelecionada})).onCancel((()=>{this.abaSelecionada=this.abaAnterior})):this.abaAnterior=this.abaSelecionada},async atualizarAba(){},fechar(){this.visivel=!1,this.$emit("atualizar")},async duplicarItem(e){try{for(let e of this.abas)await this.$refs[e.to.name].salvarItem();let o=await $db.item.duplica(e);await this.atualizar(o),$q.notifyPositive("O produto foi duplicado com sucesso.")}catch(e){$q.notifyError("Ocorreu erro ao duplicar Produto",e)}},async atualizar({id:e}){try{this.$q.loading.show();const o=(await $plataforma.objeto.where({nomeObjeto:this.objetoPai}).toArray()).find((e=>e.id));if(!(o||{}).id)return;let t=await $plataforma.sistemaObjeto.where({idPai:o.id,idSistema:this.$root.clienteSistema.idSistema}).toArray();if(!t.length)return;const a=await $plataforma.objeto.where("id").anyOf(t.map((e=>e.idObjeto))).toArray();if(!a.length)return;t=t.sort(((e,o)=>(e.ordem||0)>(o.ordem||0)?1:-1));const i=[];for(const e of t){const o=a.find((o=>o.id===e.idObjeto)),t=JSON.parse(o.rota||null)||{};await $db.permissao.objeto(o.nomeObjeto)&&("componente"!==o.tipo||o.menuPrincipal||(!o.menuDesenvolvimento||$db.usuario.logado.desenvolvedor&&$db.usuario.logado.desenvolvedor())&&i.push({icon:o.icone||"",label:o.descricao||"",to:{name:t.name||""}}))}this.abas=i,this.permissaoFicha=await $db.permissao.objeto("item//ficha"),this.permissaoEstoque=await $db.permissao.objeto("item//estoque"),this.abaSelecionada=this.permissaoFicha?"ItemFicha":"ItemEstoque",this.item=await $db.item.leNew({id:e}),await this.$refs.ItemFicha.atualizar({id:e}),await this.$refs.ItemEstoque.atualizar({id:e})}finally{this.$q.loading.hide()}},async show({id:e}){return this.visivel=!0,this.atualizar({id:e})}}};var d=t(74260),m=t(39341),u=t(63626),p=t(7112),h=t(54553),C=t(47266),v=t(76210),f=t(48761),N=t(54707),V=t(25901),g=t(77953),x=t(60880),b=t(68900),w=t(31106),_=t(16078),y=t(38837),I=t(24515),E=t(98586),S=t(7518),M=t.n(S);const T=(0,d.Z)(c,[["render",function(e,o,t,r,l,s){const n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("avatar"),d=(0,a.resolveComponent)("q-toolbar-title"),m=(0,a.resolveComponent)("Tutorial"),u=(0,a.resolveComponent)("q-icon"),p=(0,a.resolveComponent)("q-item-section"),h=(0,a.resolveComponent)("q-item-label"),C=(0,a.resolveComponent)("q-item"),v=(0,a.resolveComponent)("q-list"),f=(0,a.resolveComponent)("q-menu"),N=(0,a.resolveComponent)("q-toolbar"),V=(0,a.resolveComponent)("q-tab"),g=(0,a.resolveComponent)("q-tabs"),x=(0,a.resolveComponent)("q-header"),b=(0,a.resolveComponent)("itemFicha"),w=(0,a.resolveComponent)("ItemEstoque"),_=(0,a.resolveComponent)("q-page"),y=(0,a.resolveComponent)("q-page-container"),I=(0,a.resolveComponent)("q-layout"),E=(0,a.resolveComponent)("q-dialog"),S=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(E,{modelValue:l.visivel,"onUpdate:modelValue":o[2]||(o[2]=e=>l.visivel=e),maximized:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"bg-light",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{class:"u-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{class:"bg-gradiente"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"no-shadow q-px-none q-py-sm",color:"transparent"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",icon:"arrow_back",round:"",onClick:s.fechar},null,8,["onClick"]),[[S]]),(0,a.createVNode)(c,{imagem:l.item.imagem,tamanho:"40",rotulo:l.item.descricao},null,8,["imagem","rotulo"]),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.item.descricao||"Item"),1)])),_:1}),(0,a.createVNode)(m,{componente:"ItemModalFicha"}),(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",icon:"more_vert",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(C,{clickable:"",onClick:o[0]||(o[0]=e=>s.duplicarItem(l.item.id))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{name:"control_point_duplicate"})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[i])),_:1})])),_:1})])),_:1},512),[[S]])])),_:1})])),_:1})])),_:1},512),[[a.vShow,l.permissaoFicha]])])),_:1}),(0,a.createVNode)(g,{modelValue:l.abaSelecionada,"onUpdate:modelValue":[o[1]||(o[1]=e=>l.abaSelecionada=e),s.trocarAba_click],align:"justify",class:"ModalAWrapper q-px-none u-container","indicator-color":"light-blue-4",color:"transparent","text-color":"white"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.abas,((e,o)=>((0,a.openBlock)(),(0,a.createBlock)(V,{key:o,icon:e.icon,label:e.label,name:e.to.name,class:"ModalA-aba"},null,8,["icon","label","name"])))),128))])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,a.createVNode)(_,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(b,{ref:"ItemFicha"},null,512),[[a.vShow,"ItemFicha"===l.abaSelecionada]]),(0,a.withDirectives)((0,a.createVNode)(w,{ref:"ItemEstoque"},null,512),[[a.vShow,"ItemEstoque"===l.abaSelecionada]])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);M()(c,"components",{QDialog:m.Z,QLayout:u.Z,QPageContainer:p.Z,QHeader:h.Z,QToolbar:C.Z,QBtn:v.Z,QToolbarTitle:f.Z,QMenu:N.Z,QList:V.Z,QItem:g.Z,QItemSection:x.Z,QIcon:b.Z,QItemLabel:w.Z,QTabs:_.Z,QTab:y.Z,QPage:I.Z}),M()(c,"directives",{ClosePopup:E.Z})},77017:(e,o,t)=>{"use strict";t.d(o,{Z:()=>no});var a=t(34182);const i=(0,a.createTextVNode)("Importar"),r=(0,a.createTextVNode)("Combinar"),l=(0,a.createTextVNode)("Editar Marca, Grupo, Subgrupo ou Unidade"),s={class:"col-12 col-md"},n={class:"col-12 col-md"},c={class:"col-12 col-md"},d={class:"col-12 col-md"},m={class:"col-12 col-md"},u={class:"col-12 col-md"},p={class:"col-12 col-md"},h={class:"col-12 col-md-auto"},C=["onClick"],v=["onClick"],f={class:"col-12"},N=(0,a.createTextVNode)("Referência"),V={class:"col-12"},g=(0,a.createTextVNode)("Valor de venda"),x=(0,a.createTextVNode)("Referência"),b=(0,a.createTextVNode)("Valor de venda"),w={class:"text-tertiary q-col-gutter-xs"},_=(0,a.createTextVNode)(" Editar "),y=(0,a.createTextVNode)(" Detalhes "),I=(0,a.createTextVNode)(" Remover "),E=(0,a.createTextVNode)("Restaurar"),S=(0,a.createTextVNode)("Duplicar Produto/Serviço"),M={key:0,class:"q-pa-md"},T={class:"col-12 col-md-6"},k={class:"col-6 col-md-4"},D=(0,a.createTextVNode)(" Estoque "),q={class:"col-6 col-md-4"},F=(0,a.createTextVNode)(" Fornecedor: "),P={class:"col-6 col-md-4"},A={class:"col-6 col-md-12"},B={style:{"white-space":"pre-line"}},L={class:"col-12 col-md-6"},O={class:"col-2 col-md-auto"},z={class:"col-10 col-md"},j={class:"col-12 col-md"},$={class:"col-2 col-md-auto"},U={class:"col-10 col-md"},Z={class:"col-12 col-md-auto q-pt-md"};var Q=t(26531),R=t(15358),G=t(72407);const H=(0,a.createTextVNode)(" Importar Produtos "),J={class:"q-pa-md"};var Y=t(91330),X=t(65278);const W={alterados:0,arquivo:null,cor:"text-negative",corFinal:"",erro:"",erros:0,incluidos:0,listaErros:[],mensagem:"",mensagemFinal:"",modalResultado:!1},K={data:()=>({importar:$utils.clonarV2(W)}),emits:["update:modelValue"],methods:{beforeShow(){this.importar.arquivo=null,this.importar.mensagem="",this.importar.mensagemFinal="",this.importar.erro=""},hide(){this.$emit("update:modelValue",!1)},async prepareFile(e){try{const t=await(o=e[0],new Promise(((e,t)=>{const a=new FileReader;a.readAsBinaryString(o),a.onload=()=>e(a.result),a.onerror=e=>t(e)})));await this.importarArquivo(t),this.hide(),this.$q.notify({type:"positive",message:"Importação realizada com sucesso"})}catch(e){this.importar.erro="Ocorreu erro ao importar produtos",this.$q.notifyError(this.importar.erro,e)}var o},templateDownload(){window.open("statics/downloads/B15-Importar-ou-Atualizar-Produtos.xlsx","_self")},async importarArquivo(e){try{this.importar.modalResultado=!0,this.importar.mensagem="Carregando o arquivo .xlsx",this.importarLista=await $erp().item.toArray();const o={Item:X.Z,ItemFornecedor:X.Z.fornecedor.lista};await(0,Y.Z)(e,o,this.importarCallbackParcial,this.importarCallbackErro,this.importarCallbackFinal)}catch(e){e.name&&"ErroValidacao"===e.name?(this.importar.erro=e.message,this.$q.notifyError(e.message,e)):(this.importar.erro="Ocorreu erro ao importar arquivo xlsx",this.$q.notifyError(this.importar.erro,e))}},async importarCallbackErro(e,o){this.importar.erros++,this.importar.listaErros.push({linha:e,mensagem:o})},async importarCallbackFinal(e){this.importar.incluidos+this.importar.alterados>0?this.importar.erros>0?(this.importar.corFinal="bg-warning",this.importar.mensagemFinal="Importação realizada parcialmente!"):(this.importar.corFinal="bg-positive text-white",this.importar.mensagemFinal="Importação concluída com sucesso!"):this.importar.erros>0?(this.importar.corFinal="text-negative",this.importar.mensagemFinal="Importação não realizada!"):(this.importar.corFinal="bg-warning",this.importar.mensagemFinal="Importação não realizada!")},acertarFornecedores(e){for(const o of e.atual.fornecedor||[])o.id=$utils.uuid(),o.idItem=e.atual.id;for(const o of e.original.fornecedor||[]){let t=e.atual.fornecedor.find((e=>(e.idContato||"")===(o.idContato||"")&&(e.descricao||"")===(o.descricao||"")&&(e.referencia||"")===(o.referencia||"")));t?t.id=o.id:e.atual.fornecedor.push(o)}},acertarCEST(e={}){const o=e.atual;if(!o)return;let t=(o.cest||"").replace(/\D/g,"").replace(/^(\d{2})(\d{3})(\d{2})/g,"$1.$2.$3").substr(0,9);o.cest=t&&9===t.length?t:""},acertarNCM(e={}){const o=e.atual;if(!o)return;const t=(o.ncm||"").replace(/\D/g,"").substr(0,8);o.ncm=t&&8===t.length?t:""},async importarCallbackParcial(e){const o=e.Item[0];e.ItemFornecedor&&(o.fornecedor=e.ItemFornecedor);const t=e.chaves.length>0?t=>e.chaves.reduce(((e,a)=>e&&t[a]===o[a]),!0):e=>!1,a=this.importarLista.filter(t);if(o.referencia){const e=this.importarLista.filter((e=>e.referencia===o.referencia));if(e.length>1)throw new $utils.ErroValidacao(`Referência deve ser única (${o.referencia})`);if(1===e.length){if(0===a.length)throw new $utils.ErroValidacao(`Referência deve ser única (${o.referencia})`);if(e[0].id!==a[0].id)throw new $utils.ErroValidacao(`Referência deve ser única (${o.referencia})`)}}const i=$utils.dataAtual();if(0===a.length){const e={...$db.item.vazio,dataCadastro:i,_DataHoraUltimaAlteracao:i,...o,id:$utils.uuid()};let t={atual:e,original:{}};this.acertarNCM(t),this.acertarCEST(t),this.acertarFornecedores(t),await $db.item.grava(t),this.importarLista.push(e),this.importar.incluidos++}else{if(1!==a.length){const t=e.chaves.map((e=>e+": "+o[e])).join(", ");throw new $utils.ErroValidacao(`Existem ${a.length} produtos no banco com a chave (${t})`)}{let e=await $db.item.leCompleto(a[0].id);o.id=e.atual.id,Object.assign(e.atual,o),this.acertarNCM(e),this.acertarCEST(e),this.acertarFornecedores(e),await $db.item.grava(e),this.importar.alterados++}}}},props:{modelValue:{required:!0,type:Boolean}}};var ee=t(74260),oe=t(39341),te=t(83054),ae=t(47266),ie=t(48761),re=t(56673),le=t(76210),se=t(7518),ne=t.n(se);const ce=(0,ee.Z)(K,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-toolbar"),c=(0,a.resolveComponent)("q-uploader"),d=(0,a.resolveComponent)("q-btn"),m=(0,a.resolveComponent)("row"),u=(0,a.resolveComponent)("q-card"),p=(0,a.resolveComponent)("q-dialog");return(0,a.openBlock)(),(0,a.createBlock)(p,{modelValue:t.modelValue,"onUpdate:modelValue":o[0]||(o[0]=e=>t.modelValue=e),onBeforeShow:l.beforeShow,onHide:l.hide},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[H])),_:1})])),_:1}),(0,a.createElementVNode)("div",J,[(0,a.createVNode)(c,{label:"Selecione o arquivo (.xlsx)","hide-upload-btn":"","auto-upload":"",factory:l.prepareFile},null,8,["factory"]),r.importar.erro?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:(0,a.normalizeClass)(["row","q-pa-sm",r.importar.cor])},(0,a.toDisplayString)(r.importar.erro),3)):((0,a.openBlock)(),(0,a.createBlock)(m,{key:1,class:"q-mt-md justify-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{color:"primary",flat:"",icon:"cloud_download",onClick:l.templateDownload,label:"Baixar arquivo modelo (.xlsx)"},null,8,["onClick"])])),_:1}))])])),_:1})])),_:1},8,["modelValue","onBeforeShow","onHide"])}]]);ne()(K,"components",{QDialog:oe.Z,QCard:te.Z,QToolbar:ae.Z,QToolbarTitle:ie.Z,QUploader:re.Z,QBtn:le.Z});const de=(0,a.createTextVNode)(" Editar "),me=(0,a.createElementVNode)("div",{class:"q-mt-sm text-tertiary col-12 text-weight-bold"},"Marca",-1),ue={class:"col"},pe={class:"col"},he={class:"col-auto"},Ce=(0,a.createElementVNode)("div",{class:"q-mt-sm text-tertiary col-12 text-weight-bold"},"Grupo",-1),ve={class:"col"},fe={class:"col"},Ne={class:"col-auto"},Ve=(0,a.createElementVNode)("div",{class:"q-mt-sm text-tertiary col-12 text-weight-bold"},"Subgrupo",-1),ge={class:"col"},xe={class:"col"},be={class:"col-auto"},we=(0,a.createElementVNode)("div",{class:"q-mt-sm text-tertiary col-12 text-weight-bold"},"Unidade",-1),_e={class:"col"},ye={class:"col"},Ie={class:"col-auto"},Ee={components:{},data:()=>({campos:{marca:"",grupo:"",unidade:"",subgrupo:""},atualizado:{marca:"",grupo:"",unidade:"",subgrupo:""},opcoesMarca:[],opcoesSubgrupo:[],opcoesGrupo:[],opcoesUnidade:[],visivel:!1}),methods:{meta:()=>X.Z,adicionarMarca(){this.atualizado.marca=this.campos.marca},async leOpcoesMarca(){this.opcoesMarca=(await $db.item.leValoresUnicos("marca",this.campos.marca)).map((e=>({rotulo:e,valor:e})))},async salvarMarca(){const e=(await $db.item.leNew()).filter((e=>e.marca===this.campos.marca));let o=$utils.clonarV2(e);o.map((e=>{e.marca=this.atualizado.marca}));try{for(let t=0;t<e.length;t++){let a=e[t],i=o[t];$db.item.gravaItem({original:a,atual:i})}}catch(e){this.$q.notifyError("Erro ao alterar marca"),console.log(e)}this.$q.notifyPositive("Marca alterada com sucesso em "+e.length+" itens."),this.campos.marca="",this.atualizado.marca=""},adicionarGrupo(){this.atualizado.grupo=this.campos.grupo},async leOpcoesGrupo(){this.opcoesGrupo=(await $db.item.leValoresUnicos("grupo",this.campos.grupo)).map((e=>({rotulo:e,valor:e})))},async salvarGrupo(){const e=(await $db.item.leNew()).filter((e=>e.grupo===this.campos.grupo));let o=$utils.clonarV2(e);o.map((e=>{e.grupo=this.atualizado.grupo}));try{for(let t=0;t<e.length;t++){let a=e[t],i=o[t];$db.item.gravaItem({original:a,atual:i})}}catch(e){this.$q.notifyError("Erro ao alterar grupo"),console.log(e)}this.$q.notifyPositive("Grupo alterado com sucesso em "+e.length+" itens."),this.campos.grupo="",this.atualizado.grupo=""},adicionarSubgrupo(){this.atualizado.subgrupo=this.campos.subgrupo},async leOpcoesSubgrupo(){this.opcoesSubgrupo=(await $db.item.leValoresUnicos("subGrupo",this.campos.subgrupo)).map((e=>({rotulo:e,valor:e})))},async salvarSubgrupo(){const e=(await $db.item.leNew()).filter((e=>e.subGrupo===this.campos.subgrupo));let o=$utils.clonarV2(e);o.map((e=>{e.subGrupo=this.atualizado.subgrupo}));try{for(let t=0;t<e.length;t++){let a=e[t],i=o[t];$db.item.gravaItem({original:a,atual:i})}}catch(e){this.$q.notifyError("Erro ao alterar subgrupo"),console.log(e)}this.$q.notifyPositive("Subgrupo alterado com sucesso em "+e.length+" itens."),this.campos.subgrupo="",this.atualizado.subgrupo=""},adicionarUnidade(){this.atualizado.unidade=this.campos.unidade},async leOpcoesUnidade(){this.opcoesUnidade=(await $db.item.leValoresUnicos("unidade",this.campos.unidade)).map((e=>({rotulo:e,valor:e})))},async salvarUnidade(){const e=(await $db.item.leNew()).filter((e=>e.unidade===this.campos.unidade));let o=$utils.clonarV2(e);o.map((e=>{e.unidade=this.atualizado.unidade}));try{for(let t=0;t<e.length;t++){let a=e[t],i=o[t];$db.item.gravaItem({original:a,atual:i})}}catch(e){this.$q.notifyError("Erro ao alterar unidade"),console.log(e)}this.$q.notifyPositive("Unidade alterado com sucesso em "+e.length+" itens."),this.campos.unidade="",this.atualizado.unidade=""},concluir(){this.atualizado.marca&&this.salvarMarca(),this.atualizado.grupo&&this.salvarGrupo(),this.atualizado.subgrupo&&this.salvarSubgrupo(),this.atualizado.unidade&&this.salvarUnidade(),this.limparCampos(),this.visivel=!1},fechar(){this.limparCampos(),this.visivel=!1},limparCampos(){this.campos.unidade="",this.atualizado.unidade="",this.campos.subgrupo="",this.atualizado.subgrupo="",this.campos.grupo="",this.atualizado.grupo="",this.campos.marca="",this.atualizado.marca=""}},created(){this.limparCampos()}};var Se=t(782),Me=t(46229),Te=t(98586);const ke=(0,ee.Z)(Ee,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("campo"),m=(0,a.resolveComponent)("row"),u=(0,a.resolveComponent)("q-form"),p=(0,a.resolveComponent)("q-card-section"),h=(0,a.resolveComponent)("q-card"),C=(0,a.resolveComponent)("q-dialog"),v=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(C,{modelValue:r.visivel,"onUpdate:modelValue":o[8]||(o[8]=e=>r.visivel=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"text-white bg-primary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[de])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",icon:"close"},null,512),[[v]])])),_:1}),(0,a.createVNode)(p,{class:"q-px-md q-pb-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"q-pb-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"justify-between q-col-gutter-x-sm"},{default:(0,a.withCtx)((()=>[me,(0,a.createElementVNode)("div",ue,[(0,a.createVNode)(d,(0,a.mergeProps)({modelValue:r.campos.marca,"onUpdate:modelValue":o[0]||(o[0]=e=>r.campos.marca=e),filter:"",rotulo:"De"},l.meta.marca,{opcoes:r.opcoesMarca,tipo:"seletor",after:[{icon:"search"}],onClick:l.leOpcoesMarca,"onUpdate:modelValue":l.adicionarMarca}),null,16,["modelValue","opcoes","onClick","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",pe,[(0,a.createVNode)(d,{modelValue:r.atualizado.marca,"onUpdate:modelValue":o[1]||(o[1]=e=>r.atualizado.marca=e),rotulo:"Para"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",he,[(0,a.createVNode)(n,{unelevated:"",color:"primary",label:"Trocar",onClick:l.salvarMarca},null,8,["onClick"])]),Ce,(0,a.createElementVNode)("div",ve,[(0,a.createVNode)(d,(0,a.mergeProps)({modelValue:r.campos.grupo,"onUpdate:modelValue":o[2]||(o[2]=e=>r.campos.grupo=e),rotulo:"De",filter:""},l.meta.grupo,{opcoes:r.opcoesGrupo,tipo:"seletor",after:[{icon:"search"}],onClick:l.leOpcoesGrupo,"onUpdate:modelValue":l.adicionarGrupo}),null,16,["modelValue","opcoes","onClick","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",fe,[(0,a.createVNode)(d,{modelValue:r.atualizado.grupo,"onUpdate:modelValue":o[3]||(o[3]=e=>r.atualizado.grupo=e),rotulo:"Para"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Ne,[(0,a.createVNode)(n,{unelevated:"",color:"primary",label:"Trocar",onClick:l.salvarGrupo},null,8,["onClick"])]),Ve,(0,a.createElementVNode)("div",ge,[(0,a.createVNode)(d,(0,a.mergeProps)({modelValue:r.campos.subgrupo,"onUpdate:modelValue":o[4]||(o[4]=e=>r.campos.subgrupo=e),rotulo:"De",filter:""},l.meta.subgrupo,{opcoes:r.opcoesSubgrupo,tipo:"seletor",after:[{icon:"search"}],onClick:l.leOpcoesSubgrupo,"onUpdate:modelValue":l.adicionarSubgrupo}),null,16,["modelValue","opcoes","onClick","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",xe,[(0,a.createVNode)(d,{modelValue:r.atualizado.subgrupo,"onUpdate:modelValue":o[5]||(o[5]=e=>r.atualizado.subgrupo=e),rotulo:"Para"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",be,[(0,a.createVNode)(n,{unelevated:"",color:"primary",label:"Trocar",onClick:l.salvarSubgrupo},null,8,["onClick"])]),we,(0,a.createElementVNode)("div",_e,[(0,a.createVNode)(d,(0,a.mergeProps)({modelValue:r.campos.unidade,"onUpdate:modelValue":o[6]||(o[6]=e=>r.campos.unidade=e),rotulo:"De",filter:""},l.meta.unidade,{opcoes:r.opcoesUnidade,tipo:"seletor",after:[{icon:"search"}],onClick:l.leOpcoesUnidade,"onUpdate:modelValue":l.adicionarUnidade}),null,16,["modelValue","opcoes","onClick","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",ye,[(0,a.createVNode)(d,{modelValue:r.atualizado.unidade,"onUpdate:modelValue":o[7]||(o[7]=e=>r.atualizado.unidade=e),rotulo:"Para"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Ie,[(0,a.createVNode)(n,{unelevated:"",color:"primary",label:"Trocar",onClick:l.salvarUnidade},null,8,["onClick"])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);ne()(Ee,"components",{QDialog:oe.Z,QCard:te.Z,QToolbar:ae.Z,QToolbarTitle:ie.Z,QBtn:le.Z,QCardSection:Se.Z,QForm:Me.Z}),ne()(Ee,"directives",{ClosePopup:Te.Z});const De=(0,a.createTextVNode)("Cadastrar produto"),qe={class:"layout-padding"},Fe={class:"col-12"},Pe={class:"col-12"},Ae={class:"q-mt-lg text-right"};var Be=t(23242);const Le={data:()=>({visivel:!1,descricao:"",tipo:"",opcoesTipo:[]}),methods:{async criar(){try{this.$q.loading.show();const e={...$db.item.vazio,id:$utils.uuid(),descricao:(this.descricao||"").trim(),tipo:this.tipo};await $db.item.grava({atual:e}),this.resolve(e),this.visivel=!1}catch(e){$q.notifyError("Ocorreu erro ao adicionar Produto",e)}finally{$q.loading.hide()}},onHide(){this.resolve({})},show(){return this.opcoesTipo=Be.Z,this.tipo=this.opcoesTipo[0].valor,this.descricao="",this.texto="",this.erro="",this.visivel=!0,new Promise(((e,o)=>{this.resolve=e}))}}},Oe=(0,ee.Z)(Le,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("campo"),m=(0,a.resolveComponent)("row"),u=(0,a.resolveComponent)("q-form"),p=(0,a.resolveComponent)("q-card"),h=(0,a.resolveComponent)("q-dialog"),C=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(h,{modelValue:r.visivel,"onUpdate:modelValue":o[2]||(o[2]=e=>r.visivel=e),onHide:o[3]||(o[3]=e=>l.onHide())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"q-dialog-plugin"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[De])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",icon:"close",round:""},null,512),[[C]])])),_:1}),(0,a.createElementVNode)("div",qe,[(0,a.createVNode)(u,{class:"q-pa-md",onSubmit:l.criar},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"items-center q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Fe,[(0,a.createVNode)(d,{modelValue:r.descricao,"onUpdate:modelValue":o[0]||(o[0]=e=>r.descricao=e),autofocus:"",class:"row",rules:[e=>!!e.trim()||"Campo obrigatório"]},null,8,["modelValue","rules"])]),(0,a.createElementVNode)("div",Pe,[(0,a.createVNode)(d,{modelValue:r.tipo,"onUpdate:modelValue":o[1]||(o[1]=e=>r.tipo=e),opcoes:r.opcoesTipo,class:"row",rotulo:"Tipo",tipo:"seletor"},null,8,["modelValue","opcoes"])])])),_:1}),(0,a.createElementVNode)("div",Ae,[(0,a.withDirectives)((0,a.createVNode)(n,{color:"tertiary",flat:"",label:"Cancelar"},null,512),[[C]]),(0,a.createVNode)(n,{color:"primary",class:"text-white",unelevated:"",label:"Criar",type:"submit"})])])),_:1},8,["onSubmit"])])])),_:1})])),_:1},8,["modelValue"])}]]);ne()(Le,"components",{QDialog:oe.Z,QCard:te.Z,QToolbar:ae.Z,QToolbarTitle:ie.Z,QBtn:le.Z,QForm:Me.Z}),ne()(Le,"directives",{ClosePopup:Te.Z});const ze=(0,a.createTextVNode)(" Combinar Produtos "),je={class:"row justify-end q-mt-md"},$e={class:"col-auto"},Ue={class:"col-auto"},Ze={name:"ModalCombinarItens",components:{PromptItemNovo:t(42138).Z},data:()=>({itemCombinado:{origem:{},destino:{},prompt:{origem:!1,destino:!1}}}),methods:{async combinarItens(){this.combinarItensModal=!1;try{await this.$q.dialog({message:"Ao continuar você irá combinar todas as informações dos dois produtos em apenas um produto.",title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Combinar",push:!0,class:"bg-negative",textColor:"white",flat:!0}})}catch(e){return this.itemCombinado.origem={},void(this.itemCombinado.destino={})}this.$q.loading.show();try{const e=await this.$utils.geeksApi({combinarProdutos:{funcao:"0FE624BB-1D3C-4D37-8F47-D303AAC8B98E",idItemCombinar:this.itemCombinado.destino.id,idItemRemover:this.itemCombinado.origem.id}});this.$q.notifyPositive(e.data.combinarProdutos.mensagem),this.visibilidade=!1}catch(e){this.$q.notifyError("Ocorreu um erro ao combinar produtos",e)}finally{this.$q.loading.hide()}},async selecionarCombinarItensOrigem(e){for(let o in e)this.itemCombinado.origem=e[o].item},selecionarCombinarItensDestino(e){for(let o in e)this.itemCombinado.destino=e[o].item}},props:{modelValue:{required:!0,type:Boolean}}};var Qe=t(86952);const Re=(0,ee.Z)(Ze,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-toolbar"),c=(0,a.resolveComponent)("q-input"),d=(0,a.resolveComponent)("q-btn"),m=(0,a.resolveComponent)("q-form"),u=(0,a.resolveComponent)("prompt-item-novo"),p=(0,a.resolveComponent)("q-card-section"),h=(0,a.resolveComponent)("q-card"),C=(0,a.resolveComponent)("q-dialog"),v=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(C,{modelValue:t.modelValue,"onUpdate:modelValue":o[6]||(o[6]=e=>t.modelValue=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[ze])),_:1})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{onSubmit:l.combinarItens},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:r.itemCombinado.origem.descricao,"onUpdate:modelValue":o[0]||(o[0]=e=>r.itemCombinado.origem.descricao=e),color:"primary",placeholder:"Buscar produto","stack-label":"Pegar dados de",onClick:o[1]||(o[1]=e=>r.itemCombinado.prompt.origem=!0)},null,8,["modelValue"]),(0,a.createVNode)(c,{modelValue:r.itemCombinado.destino.descricao,"onUpdate:modelValue":o[2]||(o[2]=e=>r.itemCombinado.destino.descricao=e),color:"primary",placeholder:"Buscar produto","stack-label":"Transferir para",onClick:o[3]||(o[3]=e=>r.itemCombinado.prompt.destino=!0)},null,8,["modelValue"]),(0,a.createElementVNode)("div",je,[(0,a.createElementVNode)("div",$e,[(0,a.withDirectives)((0,a.createVNode)(d,{flat:"",color:"tertiary",label:"Cancelar"},null,512),[[v]])]),(0,a.createElementVNode)("div",Ue,[(0,a.createVNode)(d,{class:"",color:"primary",type:"submit",label:"Combinar",unelevated:""})])])])),_:1},8,["onSubmit"]),(0,a.createVNode)(u,{modelValue:r.itemCombinado.prompt.origem,"onUpdate:modelValue":o[4]||(o[4]=e=>r.itemCombinado.prompt.origem=e),filtro:{ativo:!0},onSelecionarItens:l.selecionarCombinarItensOrigem},null,8,["modelValue","onSelecionarItens"]),(0,a.createVNode)(u,{modelValue:r.itemCombinado.prompt.destino,"onUpdate:modelValue":o[5]||(o[5]=e=>r.itemCombinado.prompt.destino=e),filtro:{ativo:!0},onSelecionarItens:l.selecionarCombinarItensDestino},null,8,["modelValue","onSelecionarItens"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);ne()(Ze,"components",{QDialog:oe.Z,QCard:te.Z,QToolbar:ae.Z,QToolbarTitle:ie.Z,QCardSection:Se.Z,QForm:Me.Z,QInput:Qe.Z,QBtn:le.Z}),ne()(Ze,"directives",{ClosePopup:Te.Z});var Ge=t(42867),He=t(14285),Je=t(84830),Ye=t.n(Je);const Xe={components:{lista:Q.Z,Avatar:R.Z,Badge:G.Z,importarItens:ce,editarMarca:ke,modalItemCriar:Oe,modalItemFicha:Ge.Z,modalCombinarItens:Re,SeletorCampoTabela:He.Z},data:()=>({lista:[],listaOriginal:[],listaLayout:{},modalCombinarItens:!1,modalImportar:!1,campos:{codigoBarras:"",descricao:"",marca:"",referencia:"",tipo:"Produto",valorCustoReposicao:0,valorVenda:0},paginacao:{atual:1,maximo:1,total:1,limite:25},permissaoFicha:!1,permissaoEstoque:!1,showFilters:!1,filtros:{ativo:null,descricaoAplicacao:null,codIdRef:null,codigoBarras:null,marca:null,fornecedores:null,grupo:null,subGrupo:null,estoque:null,tipo:null,codigoCompra:null},buscaCampo:"",opcoesMarca:[],opcoesGrupo:[],opcoesSubGrupo:[],opcoesTipo:[],tabSelecionada:{valor:"Ativos"},tabs:[{rotulo:"Ativos",value:"Ativos"},{rotulo:"Excluídos",value:"Excluidos"},{rotulo:"Todos",value:"Todos"}],showAllPreviewDetail:!1,checkboxModel:!1}),methods:{atualizarValorVendaLucro(e){if(this.listaLayout[e.id].utilizaMarkupInvertido){if(e.valorCustoReposicao&&e.valorVenda){const o=100*(e.valorVenda-e.valorCustoReposicao)/e.valorVenda;e.percentualMarkup=$utils.arredondar(o,2)}}else{const o=(e.percentualMarkup||0)/100;if(e.valorCustoReposicao&&o<1){const t=e.valorCustoReposicao/(1-o);t&&(e.valorVenda=$utils.arredondar(t,4))}}},atualizarCustoReposicao(e){e&&e.id&&!this.listaLayout[e.id].utilizaComposicaoValorReposicaoInvertido&&(e.valorCustoReposicao=(e.composicao||[]).reduce(((e,o)=>e+o.temporario.total),0),e.valorCustoReposicao||(e.percentualMarkup=100),this.atualizarValorVendaLucro(e))},async atualizar(e=null){try{$q.loading.show();const o=this.paginacao.limite,t=this.paginacao.atual,a=["descricaoConcatenada"],i=$utils.eliminarVazios(this.filtros);delete i.ativo,"Ativos"===this.tabSelecionada.valor&&(i.ativo=!0),"Excluidos"===this.tabSelecionada.valor&&(i.ativo=!1),this.buscaCampo=e||this.buscaCampo;const r=await $db.item.ler({filtros:{...i,termoBusca:this.buscaCampo},limit:o,page:t,sort:a});r.total||(r.total=r.total=r.data.length),r.totalPages||(r.totalPages=1),this.listaLayout={};for(let e of r.data)this.listaLayout[e.id]={detalhes:!1,remover:!1,utilizaMarkupInvertido:!e.utilizaMarkup,utilizaComposicaoValorReposicaoInvertido:!e.utilizaComposicaoValorReposicao};this.listaOriginal=$utils.clonarV2(r.data),this.lista=r.data,this.paginacao.total=r.total,this.paginacao.maximo=r.totalPages}catch(e){$q.notifyError("Erro iniciar",e)}finally{$q.loading.hide()}},async removerItem(e){$q.dialog({cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},title:"Remover",message:"Ao continuar você irá remover este item.",ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{try{$q.loading.show();const o=$utils.clonar(e);e.ativo=!1,await $db.item.grava({atual:e,original:o}),$q.notifyPositive("O produto foi excluído com sucesso.")}catch(e){$q.notifyError("Ocorreu um erro ao remover produto",e)}finally{$q.loading.hide()}}))},async duplicarItem(e){try{const o=await $db.item.duplica(e.id);this.filtros.codIdRef=o.id,await this.atualizar(o.id),this.$q.notifyPositive("O produto foi duplicado com sucesso.")}catch(e){this.$q.notifyError("Ocorreu erro ao duplicar Produto",e)}},async abrirItem(e){(this.permissaoFicha||this.permissaoEstoque)&&this.$refs.modalFicha.show({id:e})},async restaurarItem(e){$q.dialog({title:"Restaurar item",message:"Deseja restaurar este item?",cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{try{$q.loading.show();let o=$utils.clonarV2(e);e.ativo=!0,await $db.item.grava({atual:e,original:o}),$q.notifyPositive("O produto foi restaurado com sucesso.")}catch(e){$q.notifyError("Ocorreu um erro ao remover produto",e)}finally{$q.loading.hide()}}))},limparFiltros_click(){this.filtros={tab:"Ativos",descricaoAplicacao:null,codIdRef:null,codigoBarras:null,marca:null,fornecedores:null,grupo:null,subGrupo:null,estoque:null,tipo:null,codigoCompra:null},this.atualizar()},async filtroFornecedor_click(){const e=await $g.promptContato.show({filtro:{ativo:!0}});e.nome&&(this.filtros.fornecedores=e.nome)},async leOpcoesMarca(){console.log("leOpcoesMarca"),this.opcoesMarca=(await $db.item.leValoresUnicos("marca")).map((e=>({rotulo:e,valor:e})))},async leOpcoesGrupo(){this.opcoesGrupo=(await $db.item.leValoresUnicos("grupo")).map((e=>({rotulo:e,valor:e})))},async leOpcoesSubGrupo(){this.opcoesSubGrupo=(await $db.item.leValoresUnicos("subGrupo")).map((e=>({rotulo:e,valor:e})))},async leOpcoesTipo(){this.opcoesTipo=Be.Z},async itemCriarPorModal_click(){const e=await this.$refs.modalItemCriar.show();e.id&&(this.filtros.codIdRef=e.id,await this.atualizar(e.id),this.abrirEdicaoCompleta(e.id))},async buscarItem(){const e=await $g.promptItem.show({filtro:{ativo:!0}});e.acao&&Object.keys(e.itensSelecionados)[0]&&this.abrirItem(Object.keys(e.itensSelecionados)[0])},checkBoxGeral_click(){for(let e of this.lista)this.listaLayout[e.id].remover=this.checkboxModel},async removerTodos(){$q.dialog({title:"Remover itens",message:"Deseja remover todos os itens selecionados?",cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{for(let e of this.lista)if(this.listaLayout[e.id].remover){const o=$utils.clonarV2(e);e.ativo=!1;try{await $db.item.grava({original:o,atual:e})}catch(e){$q.notify("Houve um erro ao remover os itens. Tente novamente")}}}))},async restaurarTodos(){$q.dialog({title:"Restaurar itens",message:"Deseja restaurar todos os itens selecionados?",cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{for(let e of this.lista)if(this.listaLayout[e.id].remover){let o=$utils.clonarV2(e);e.ativo=!0;try{await $db.item.grava({original:o,atual:e})}catch(e){$q.notify("Houve um erro ao restaurar os itens. Tente novamente")}}}))},async abrirDetalhesItem(e,o){if(this.listaLayout[e.id].detalhes=o||!this.listaLayout[e.id].detalhes,this.listaLayout[e.id].detalhes){let o=await $db.item.leCompleto(e.id);this.listaLayout[e.id].fornecedor=o.atual.fornecedor}},abrirTodosPreview(){this.showAllPreviewDetail=!this.showAllPreviewDetail,this.lista.forEach((e=>{this.abrirDetalhesItem(e,this.showAllPreviewDetail)}))},editarMarca_click(){this.$refs.modalEditarMarca.visivel=!0},async adicionarItem(){if(this.campos.descricao.length<2)return void $q.notifyError("favor preencher a descrição do item");let e={};try{this.completarCodigoBarras(),e={...$db.item.vazio,id:$utils.uuid(),ativo:!0,tipo:this.campos.tipo,marca:this.campos.marca,descricao:this.campos.descricao,referencia:this.campos.referencia,valorVenda:this.campos.valorVenda,codigoBarras:this.campos.codigoBarras,valorCustoReposicao:this.campos.valorCustoReposicao},$q.loading.show(),await $db.item.grava({atual:e}),this.filtros.codIdRef=e.id,this.atualizar(),$q.notifyPositive("Os dados do produto foram salvos com sucesso."),this.campos={ativo:!0,codigoBarras:"",descricao:"",marca:"",referencia:"",tipo:"Produto",valorCustoReposicao:0,valorVenda:0}}catch(e){$q.notifyError("Ocorreu um erro ao salvar",e)}finally{$q.loading.hide()}},abrirEdicaoCompleta(e){$q.dialog({title:"Item Cadastrado!",message:"Deseja abrir a edição completa?",persistent:"Sim",cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk((()=>{this.abrirItem(e)}))},async exportarXLSX_click(){try{$q.loading.show();const e=$utils.eliminarVazios(this.filtros);delete e.ativo,"Ativos"===this.tabSelecionada.valor&&(e.ativo=!0),"Excluidos"===this.tabSelecionada.valaor&&(e.ativo=!1);const o=await $db.item.leRefatorado({filtros:e,limit:999999,page:1,sort:"descricao"}),t=Ye().utils.book_new(),a=Ye().utils.json_to_sheet(o.data,{header:Object.keys(o.data[0])});Ye().utils.book_append_sheet(t,a,"itens"),Ye().writeFile(t,"itens.xlsx")}catch(e){$q.notifyError("Erro iniciar",e)}finally{$q.loading.hide()}},async salvarItem(e){let o=await $erp().item.get(e.id),t=$utils.clonarV2(e);try{await $db.item.gravaItem({original:o,atual:t}),this.$q.notifyPositive("Item alterado com sucesso")}catch(e){console.log(e),this.$q.notifyError("Ocorreu um erro ao alterar o item"),this.atualizar()}},completarCodigoBarras(){!this.campos.codigoBarras&&this.campos.codigoItem&&(this.campos.codigoBarras=$utils.completarCodigoBarras(String(this.campos.codigoItem)))},criarMarca(){$q.dialog({title:"Cadastrar marca",prompt:{model:"",isValid:e=>e.length<=50,type:"text",class:"bg-light"},cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk((e=>{try{if(!e)return void alert("Favor preencher");if(e.length>50)return void alert("Máximo 50 caracteres");if(this.opcoesMarca.find((o=>o.rotulo.toUpperCase()===e.toUpperCase())))return void alert("Nome já existente");this.campos.marca=e,$q.notifyPositive("Marca criada com sucesso.")}catch(e){$q.notifyError("Ocorreu um erro ao criar marca",e)}}))}},async mounted(){if(this.permissaoFicha=await $db.permissao.objeto("item//ficha"),this.permissaoEstoque=await $db.permissao.objeto("item//estoque"),this.atualizar(),this.$route.params.id){const e=this.$route.params.id;this.$route.path===`/item/${e}/ficha`&&(this.$refs.modalFicha.abaSelecionada="ItemFicha",this.$refs.modalFicha.abaAnterior="ItemFicha",this.$refs.modalFicha.show({id:e})),this.$route.path===`/item/${e}/estoque`&&(await this.$refs.modalFicha.show({id:e}),this.$refs.modalFicha.abaAnterior="ItemEstoque",this.$refs.modalFicha.abaSelecionada="ItemEstoque")}}};var We=t(77953),Ke=t(60880),eo=t(68900),oo=t(25901),to=t(46924),ao=t(31106),io=t(4957),ro=t(54707),lo=t(81312),so=t(83831);const no=(0,ee.Z)(Xe,[["render",function(e,o,t,Q,R,G){const H=(0,a.resolveComponent)("q-icon"),J=(0,a.resolveComponent)("q-item-section"),Y=(0,a.resolveComponent)("q-item"),X=(0,a.resolveComponent)("campo"),W=(0,a.resolveComponent)("SeletorCampoTabela"),K=(0,a.resolveComponent)("q-btn"),ee=(0,a.resolveComponent)("q-checkbox"),oe=(0,a.resolveComponent)("badge"),te=(0,a.resolveComponent)("row"),ae=(0,a.resolveComponent)("avatar"),ie=(0,a.resolveComponent)("q-item-label"),re=(0,a.resolveComponent)("q-tooltip"),le=(0,a.resolveComponent)("q-list"),se=(0,a.resolveComponent)("q-menu"),ne=(0,a.resolveComponent)("q-toggle"),ce=(0,a.resolveComponent)("q-separator"),de=(0,a.resolveComponent)("lista"),me=(0,a.resolveComponent)("modalItemFicha"),ue=(0,a.resolveComponent)("editarMarca"),pe=(0,a.resolveComponent)("importarItens"),he=(0,a.resolveComponent)("modalCombinarItens"),Ce=(0,a.resolveComponent)("modalItemCriar"),ve=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(de,{titulo:"Produtos e Serviços",onCriar_click:G.itemCriarPorModal_click,onCheckBoxGeral_click:G.checkBoxGeral_click,onFiltro_change:G.atualizar,onLimparFiltros_click:G.limparFiltros_click,onAbrirTodosPreview:G.abrirTodosPreview,onExportarXLSX_click:G.exportarXLSX_click,onRemoverTodos:G.removerTodos,onRestaurarTodos:G.restaurarTodos,tabSelecionada:R.tabSelecionada,tabs:R.tabs,lista:R.lista,listaLayout:R.listaLayout,paginacao:R.paginacao,filtros:R.filtros,opcoesMarca:R.opcoesMarca,opcoesGrupo:R.opcoesGrupo,opcoesSubGrupo:R.opcoesSubGrupo,opcoesTipo:R.opcoesTipo,buscaCampo:R.buscaCampo,"onUpdate:buscaCampo":o[22]||(o[22]=e=>R.buscaCampo=e),checkboxModel:R.checkboxModel,"onUpdate:checkboxModel":o[23]||(o[23]=e=>R.checkboxModel=e)},{menuExtras:(0,a.withCtx)((()=>[(0,a.createVNode)(Y,{clickable:"",onClick:o[0]||(o[0]=()=>{this.modalImportar=!0})},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(J,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(H,{name:"publish",size:"sm"})])),_:1}),(0,a.createVNode)(J,null,{default:(0,a.withCtx)((()=>[i])),_:1})])),_:1}),(0,a.createVNode)(Y,{clickable:"",onClick:o[1]||(o[1]=()=>{this.modalCombinarItens=!0})},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(J,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(H,{name:"compare_arrows",size:"sm"})])),_:1}),(0,a.createVNode)(J,null,{default:(0,a.withCtx)((()=>[r])),_:1})])),_:1}),(0,a.createVNode)(Y,{clickable:"",onClick:G.editarMarca_click},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(J,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(H,{name:"edit",size:"sm"})])),_:1}),(0,a.createVNode)(J,null,{default:(0,a.withCtx)((()=>[l])),_:1})])),_:1},8,["onClick"])])),filtroCampos:(0,a.withCtx)((()=>[(0,a.createVNode)(X,{modelValue:R.filtros.descricaoAplicacao,"onUpdate:modelValue":o[2]||(o[2]=e=>R.filtros.descricaoAplicacao=e),rotulo:"Descrição/Aplicação",dense:""},null,8,["modelValue"]),(0,a.createVNode)(X,{modelValue:R.filtros.codigoItem,"onUpdate:modelValue":o[3]||(o[3]=e=>R.filtros.codigoItem=e),prefix:"#",rotulo:"Código",tipo:"decimal",decimals:"0",zerosDireita:"0",dense:""},null,8,["modelValue"]),(0,a.createVNode)(X,{modelValue:R.filtros.referencia,"onUpdate:modelValue":o[4]||(o[4]=e=>R.filtros.referencia=e),rotulo:"Referência",dense:""},null,8,["modelValue"]),(0,a.createVNode)(X,{modelValue:R.filtros.codigoBarras,"onUpdate:modelValue":o[5]||(o[5]=e=>R.filtros.codigoBarras=e),rotulo:"Cód. Barras",dense:""},null,8,["modelValue"]),(0,a.createVNode)(W,{modelValue:R.filtros.marca,"onUpdate:modelValue":o[6]||(o[6]=e=>R.filtros.marca=e),tabela:"item",campo:"marca",label:"Marca"},null,8,["modelValue"]),(0,a.createVNode)(X,{modelValue:R.filtros.fornecedores,"onUpdate:modelValue":o[7]||(o[7]=e=>R.filtros.fornecedores=e),after:[{icon:"search",handler:G.filtroFornecedor_click}],dense:"",rotulo:"Fornecedor"},null,8,["modelValue","after"]),(0,a.createVNode)(W,{modelValue:R.filtros.grupo,"onUpdate:modelValue":o[8]||(o[8]=e=>R.filtros.grupo=e),tabela:"item",campo:"grupo",label:"Grupo"},null,8,["modelValue"]),(0,a.createVNode)(W,{modelValue:R.filtros.subGrupo,"onUpdate:modelValue":o[9]||(o[9]=e=>R.filtros.subGrupo=e),tabela:"item",campo:"subGrupo",label:"Subgrupo"},null,8,["modelValue"]),(0,a.createVNode)(X,{modelValue:R.filtros.estoque,"onUpdate:modelValue":o[10]||(o[10]=e=>R.filtros.estoque=e),prefix:">",rotulo:"Estoque",tipo:"decimal",decimals:"4",dense:""},null,8,["modelValue"]),(0,a.createVNode)(X,{modelValue:R.filtros.tipo,"onUpdate:modelValue":o[11]||(o[11]=e=>R.filtros.tipo=e),rotuloFixo:"Tipo",tipo:"seletor",opcoes:R.opcoesTipo,filter:"",onClick:G.leOpcoesTipo,dense:""},null,8,["modelValue","opcoes","onClick"]),(0,a.createVNode)(X,{modelValue:R.filtros.codigoCompra,"onUpdate:modelValue":o[12]||(o[12]=e=>R.filtros.codigoCompra=e),prefix:"#",rotulo:"Compra Cód.",tipo:"decimal",decimals:"0",zerosDireita:"0",dense:""},null,8,["modelValue"]),(0,a.createVNode)(X,{modelValue:R.paginacao.limite,"onUpdate:modelValue":o[13]||(o[13]=e=>R.paginacao.limite=e),min:"1",rotulo:"Quantidade por página",tipo:"quantidade",dense:""},null,8,["modelValue"])])),adicaoRapida:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",s,[(0,a.createVNode)(X,{modelValue:R.campos.descricao,"onUpdate:modelValue":o[14]||(o[14]=e=>R.campos.descricao=e),modelModifiers:{trim:!0},rotuloFixo:"Produto",dense:""},null,8,["modelValue"])]),(0,a.createElementVNode)("div",n,[(0,a.createVNode)(X,{modelValue:R.campos.referencia,"onUpdate:modelValue":o[15]||(o[15]=e=>R.campos.referencia=e),modelModifiers:{trim:!0},rotuloFixo:"Referência",dense:""},null,8,["modelValue"])]),(0,a.createElementVNode)("div",c,[(0,a.createVNode)(X,{mask:"'##############'",modelValue:R.campos.codigoBarras,"onUpdate:modelValue":o[16]||(o[16]=e=>R.campos.codigoBarras=e),modelModifiers:{trim:!0},rotuloFixo:"Código de Barras",dense:"",onBlur:G.completarCodigoBarras},null,8,["modelValue","onBlur"])]),(0,a.createElementVNode)("div",d,[(0,a.createVNode)(X,{modelValue:R.campos.marca,"onUpdate:modelValue":o[17]||(o[17]=e=>R.campos.marca=e),after:[{icon:"add_circle",handler(){G.criarMarca()}}],dense:"",opcoes:R.opcoesMarca,filter:"",rotuloFixo:"Marca",onClick:G.leOpcoesMarca},null,8,["modelValue","after","opcoes","onClick"])]),(0,a.createElementVNode)("div",m,[(0,a.createVNode)(X,{modelValue:R.campos.valorCustoReposicao,"onUpdate:modelValue":o[18]||(o[18]=e=>R.campos.valorCustoReposicao=e),tipo:"decimal",decimals:"2",rotulo:"Custo de Reposicao",dense:""},null,8,["modelValue"])]),(0,a.createElementVNode)("div",u,[(0,a.createVNode)(X,{modelValue:R.campos.valorVenda,"onUpdate:modelValue":o[19]||(o[19]=e=>R.campos.valorVenda=e),tipo:"decimal",decimals:"4",zerosDireita:"2",rotuloFixo:"Valor de Venda",dense:""},null,8,["modelValue"])]),(0,a.createElementVNode)("div",p,[(0,a.createVNode)(X,{modelValue:R.campos.tipo,"onUpdate:modelValue":o[20]||(o[20]=e=>R.campos.tipo=e),opcoes:R.opcoesTipo,placeholder:"Tipo",rotuloFixo:"Tipo",tipo:"seletor",dense:"",onClick:G.leOpcoesTipo},null,8,["modelValue","opcoes","onClick"])]),(0,a.createElementVNode)("div",h,[(0,a.createVNode)(K,{class:"q-mt-xs q-mr-md",color:"positive",icon:"add",label:"Adicionar",outline:"",size:"md",onClick:o[21]||(o[21]=o=>e.tryLoading(G.adicionarItem,{erro:"Ocorreu erro ao adicionar o item"}))})])])),itemLista:(0,a.withCtx)((()=>[(0,a.createVNode)(le,{class:"rounded-borders"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(R.lista,(o=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o,class:"itemHover fullWidth"},[(0,a.createVNode)(Y,{"manual-focus":"",clickable:"",class:"items-center d-flex q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(J,{avatar:"",center:"",class:"mw120 hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(te,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(ee,{modelValue:R.listaLayout[o.id].remover,"onUpdate:modelValue":e=>R.listaLayout[o.id].remover=e,class:"q-my-none q-ml-sm q-pa-none"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(oe,{cor:o.ativo?"positive":"tertiary",escuro:"",class:"q-ml-xs"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)((o.codigoItem||0).toString().padStart(4,"0")),1)])),_:2},1032,["cor"])])),_:2},1024)])),_:2},1024),(0,a.createVNode)(J,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(te,{class:"items-center q-col-gutter-x-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(ee,{modelValue:R.listaLayout[o.id].remover,"onUpdate:modelValue":e=>R.listaLayout[o.id].remover=e,class:"q-ma-none q-pa-none hideondesktop"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createElementVNode)("div",{class:"col-auto q-pl-none items-center",onClick:e=>G.abrirItem(o.id)},[(0,a.createVNode)(ae,{imagem:o.imagem,tamanho:"40",rotulo:o.descricaoConcatenada,style:{display:"flex","align-self":"center"}},null,8,["imagem","rotulo"])],8,C),(0,a.createElementVNode)("div",{class:"col",onClick:e=>G.abrirItem(o.id)},[(0,a.createVNode)(ie,{class:"text-tertiary text-weight-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.descricaoConcatenada),1)])),_:2},1024),o.marca?((0,a.openBlock)(),(0,a.createBlock)(ie,{key:0,caption:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.marca),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(te,{class:"hideondesktop items-center q-my-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",f,[(0,a.createVNode)(oe,{cor:o.ativo?"positive":"tertiary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)((o.codigoItem||0).toString().padStart(4,"0")),1)])),_:2},1032,["cor"]),o.referencia?((0,a.openBlock)(),(0,a.createBlock)(oe,{key:0,class:"q-ml-xs",cor:"tertiary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.referencia)+" ",1),(0,a.createVNode)(re,null,{default:(0,a.withCtx)((()=>[N])),_:1})])),_:2},1024)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(oe,{class:"q-ml-xs",cor:"primary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.tipo),1)])),_:2},1024)]),(0,a.createElementVNode)("div",V,[(0,a.createVNode)(ie,{caption:"",class:"text-tertiary text-weight-bold q-mt-sm"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numeroZerosDireita(o.valorVenda,4,2))+" ",1),(0,a.createVNode)(re,null,{default:(0,a.withCtx)((()=>[g])),_:1})])),_:2},1024)])])),_:2},1024)],8,v)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(J,{avatar:"",onClick:e=>G.abrirItem(o.id),class:"mw100 hideonmobile justify-start"},{default:(0,a.withCtx)((()=>[o.referencia?((0,a.openBlock)(),(0,a.createBlock)(oe,{key:0,class:"q-mr-sm",cor:"tertiary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.referencia)+" ",1),(0,a.createVNode)(re,null,{default:(0,a.withCtx)((()=>[x])),_:1})])),_:2},1024)):(0,a.createCommentVNode)("",!0)])),_:2},1032,["onClick"]),(0,a.createVNode)(J,{onClick:e=>G.abrirItem(o.id),avatar:"",class:"mw100 hideonmobile"},{default:(0,a.withCtx)((()=>[o.grupo?((0,a.openBlock)(),(0,a.createBlock)(ie,{key:0,class:"full-width"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.grupo),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0),o.grupo?((0,a.openBlock)(),(0,a.createBlock)(ie,{key:1,caption:"",class:"full-width"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.subGrupo),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0)])),_:2},1032,["onClick"]),(0,a.createVNode)(J,{onClick:e=>G.abrirItem(o.id),avatar:"",class:"mw100 hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(oe,{class:"q-mr-sm",cor:"primary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.tipo),1)])),_:2},1024)])),_:2},1032,["onClick"]),(0,a.createVNode)(J,{onClick:e=>G.abrirItem(o.id),class:"hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(ie,{caption:"",class:"text-right text-tertiary text-weight-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numeroZerosDireita(o.valorVenda,4,2))+" ",1),(0,a.createVNode)(re,null,{default:(0,a.withCtx)((()=>[b])),_:1})])),_:2},1024)])),_:2},1032,["onClick"]),(0,a.createVNode)(J,{side:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",w,[(0,a.createVNode)(K,{icon:R.listaLayout[o.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down",class:"buttons hideonmobile",color:"tertiary",dense:"",flat:"",round:"",size:"md",onClick:e=>G.abrirDetalhesItem(o)},null,8,["icon","onClick"]),R.permissaoFicha||R.permissaoEstoque?((0,a.openBlock)(),(0,a.createBlock)(K,{key:0,class:"buttons hideonmobile",color:"primary",dense:"",flat:"",icon:"edit",round:"",size:"md",onClick:e=>G.abrirItem(o.id)},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(K,{dense:"",flat:"",icon:"more_vert",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(se,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(le,{link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[R.permissaoFicha||R.permissaoEstoque?((0,a.openBlock)(),(0,a.createBlock)(Y,{key:0,class:"hideondesktop",clickable:"",onClick:e=>G.abrirItem(o.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(J,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(H,{name:"edit"})])),_:1}),(0,a.createVNode)(J,null,{default:(0,a.withCtx)((()=>[_])),_:1})])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(Y,{class:"hideondesktop",clickable:"",onClick:e=>G.abrirDetalhesItem(o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(J,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(H,{name:R.listaLayout[o.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["name"])])),_:2},1024),(0,a.createVNode)(J,null,{default:(0,a.withCtx)((()=>[y])),_:1})])),_:2},1032,["onClick"]),o.ativo&&R.permissaoFicha?((0,a.openBlock)(),(0,a.createBlock)(Y,{key:1,clickable:"",onClick:e=>G.removerItem(o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(J,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(H,{name:"delete"})])),_:1}),(0,a.createVNode)(J,null,{default:(0,a.withCtx)((()=>[I])),_:1})])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0),!o.ativo&&R.permissaoFicha?((0,a.openBlock)(),(0,a.createBlock)(Y,{key:2,clickable:"",onClick:e=>G.restaurarItem(o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(J,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(H,{name:"restore_from_trash"})])),_:1}),(0,a.createVNode)(J,null,{default:(0,a.withCtx)((()=>[E])),_:1})])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0),R.permissaoFicha?((0,a.openBlock)(),(0,a.createBlock)(Y,{key:3,clickable:"",onClick:e=>G.duplicarItem(o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(J,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(H,{name:"control_point_duplicate"})])),_:1}),(0,a.createVNode)(J,null,{default:(0,a.withCtx)((()=>[S])),_:1})])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0)])),_:2},1536),[[ve]])])),_:2},1024)])),_:2},1024)])])),_:2},1024)])),_:2},1024),R.listaLayout[o.id].detalhes?((0,a.openBlock)(),(0,a.createElementBlock)("div",M,[(0,a.createVNode)(te,{class:"q-col-gutter-md"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",T,[(0,a.createVNode)(te,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",k,[D,(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(o.quantidadeDisponivel),1),(0,a.createVNode)(oe,{class:"q-ml-sm",cor:"tertiary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.unidade),1)])),_:2},1024)]),(0,a.createElementVNode)("div",q,[(0,a.createVNode)(H,{class:"q-mr-xs",name:"business"}),F,((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(R.listaLayout[o.id].fornecedor,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.idContato},(0,a.toDisplayString)(e.contato.nome),1)))),128))]),(0,a.createElementVNode)("div",P,[(0,a.createVNode)(H,{class:"q-mr-xs",name:"mdi-barcode"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(o.codigoBarras),1)]),(0,a.createElementVNode)("div",A,[(0,a.createElementVNode)("span",B,(0,a.toDisplayString)(o.address),1)])])),_:2},1024)]),(0,a.createElementVNode)("div",L,[R.permissaoFicha?((0,a.openBlock)(),(0,a.createBlock)(te,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",O,[(0,a.createVNode)(ne,{modelValue:R.listaLayout[o.id].utilizaComposicaoValorReposicaoInvertido,"onUpdate:modelValue":[e=>R.listaLayout[o.id].utilizaComposicaoValorReposicaoInvertido=e,e=>G.atualizarCustoReposicao(o)],size:"sm"},null,8,["modelValue","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",z,[(0,a.createVNode)(X,{class:"no-shadow full-width",dense:"",ajuda:R.listaLayout[o.id].utilizaComposicaoValorReposicaoInvertido?"":"Total da composição",rotulo:"Custo de reposição",tipo:"decimal",decimals:"2",modelValue:o.valorCustoReposicao,"onUpdate:modelValue":e=>o.valorCustoReposicao=e,onBlur:e=>G.atualizarValorVendaLucro(o),disable:!R.listaLayout[o.id].utilizaComposicaoValorReposicaoInvertido,readonly:!R.listaLayout[o.id].utilizaComposicaoValorReposicaoInvertido},null,8,["ajuda","modelValue","onUpdate:modelValue","onBlur","disable","readonly"])]),(0,a.createElementVNode)("div",j,[(0,a.createVNode)(X,{class:"no-shadow full-width",dense:"",modelValue:o.percentualMarkup,"onUpdate:modelValue":e=>o.percentualMarkup=e,disable:R.listaLayout[o.id].utilizaMarkupInvertido,readonly:R.listaLayout[o.id].utilizaMarkupInvertido,onBlur:e=>G.atualizarValorVendaLucro(o),rotulo:"Lucro %",tipo:"decimal",decimals:"2"},null,8,["modelValue","onUpdate:modelValue","disable","readonly","onBlur"])]),(0,a.createElementVNode)("div",$,[(0,a.createVNode)(ne,{modelValue:R.listaLayout[o.id].utilizaMarkupInvertido,"onUpdate:modelValue":e=>R.listaLayout[o.id].utilizaMarkupInvertido=e,size:"sm"},null,8,["modelValue","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",U,[(0,a.createVNode)(X,{class:"no-shadow full-width",rotulo:"Valor de venda",tipo:"decimal",decimals:"4",zerosDireita:"2",modelValue:o.valorVenda,"onUpdate:modelValue":e=>o.valorVenda=e,disable:!R.listaLayout[o.id].utilizaMarkupInvertido,onBlur:e=>G.atualizarValorVendaLucro(o),dense:"",readonly:!R.listaLayout[o.id].utilizaMarkupInvertido},null,8,["modelValue","onUpdate:modelValue","disable","onBlur","readonly"])]),(0,a.createElementVNode)("div",Z,[(0,a.createVNode)(K,{color:"primary",label:"Salvar",size:"sm",class:"full-width no-shadow",unelevated:"",onClick:e=>G.salvarItem(o)},null,8,["onClick"])])])),_:2},1024)):(0,a.createCommentVNode)("",!0)])])),_:2},1024)])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(ce)])))),128))])),_:1})])),_:1},8,["onCriar_click","onCheckBoxGeral_click","onFiltro_change","onLimparFiltros_click","onAbrirTodosPreview","onExportarXLSX_click","onRemoverTodos","onRestaurarTodos","tabSelecionada","tabs","lista","listaLayout","paginacao","filtros","opcoesMarca","opcoesGrupo","opcoesSubGrupo","opcoesTipo","buscaCampo","checkboxModel"]),(0,a.createVNode)(me,{ref:"modalFicha",onAtualizar:G.atualizar},null,8,["onAtualizar"]),(0,a.createVNode)(ue,{ref:"modalEditarMarca"},null,512),(0,a.createVNode)(pe,{modelValue:R.modalImportar,"onUpdate:modelValue":o[24]||(o[24]=e=>R.modalImportar=e)},null,8,["modelValue"]),(0,a.createVNode)(he,{modelValue:R.modalCombinarItens,"onUpdate:modelValue":o[25]||(o[25]=e=>R.modalCombinarItens=e)},null,8,["modelValue"]),(0,a.createVNode)(Ce,{ref:"modalItemCriar"},null,512)])}]]);ne()(Xe,"components",{QItem:We.Z,QItemSection:Ke.Z,QIcon:eo.Z,QBtn:le.Z,QList:oo.Z,QCheckbox:to.Z,QItemLabel:ao.Z,QTooltip:io.Z,QMenu:ro.Z,QToggle:lo.Z,QSeparator:so.Z}),ne()(Xe,"directives",{ClosePopup:Te.Z})},87907:(e,o,t)=>{"use strict";t.d(o,{Z:()=>r});var a=t(34182);const i={data:()=>({id:"",valorExibirInterno:""}),emits:["update:modelValue","selecionar","selecionarItens"],methods:{async abrirPrompt(){try{if(this.somenteLeitura)return;const e=await $g.promptItem.show({filtro:this.filtro,placeholder:this.rotulo||"Selecione o item"});this.selecionar(e)}catch(e){this.$q.notifyError("Erro ao abrir itens",e)}},async atualizar(){try{if(this.valorExibir)this.valorExibirInterno=this.valorExibir,this.id=this.modelValue||"";else{const e=await $db.item.le({id:this.modelValue});this.valorExibirInterno=e.descricao||"",this.id=e.id||""}}catch(e){this.$q.notifyError("Erro ao consultar",e)}},selecionar(e){try{"selecionarItens"===e.acao&&(e=e.itensSelecionados);const o=e[Object.keys(e)[0]].item;if(!o||!o.id)return;this.valorExibir||(this.valorExibirInterno=o.descricao||""),this.id=o.id||"",this.$emit("update:modelValue",o.id),this.$emit("selecionar",o),this.$emit("selecionarItens",e)}catch(e){this.$q.notifyError("Erro ao selecionar",e)}}},props:{modelValue:{default:"",type:String},after:{type:Object},filtro:{default:()=>({ativo:!0}),type:Object},rotulo:{default:"",type:String},somenteLeitura:{type:Boolean},valorExibir:{default:"",type:String}},watch:{modelValue(e){e!==this.id&&this.atualizar()},valorExibir(e){this.valorExibirInterno=e||""}},created(){this.atualizar()}},r=(0,t(74260).Z)(i,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("campo");return(0,a.openBlock)(),(0,a.createBlock)(s,(0,a.mergeProps)({modelValue:r.valorExibirInterno,after:t.after,before:t.somenteLeitura?void 0:[{icon:"search",handler:l.abrirPrompt}],rotulo:t.rotulo},e.$attrs,{"somente-leitura":""}),null,16,["modelValue","after","before","rotulo"])}]])},94120:(e,o,t)=>{"use strict";t.d(o,{Z:()=>Be});var a=t(34182);const i=(0,a.createTextVNode)(" NFSe "),r={class:"layout-padding q-my-lg"},l={class:"u-container q-py-lg"},s=(0,a.createElementVNode)("p",{class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}}," Informações da Nota Fiscal Eletrônica ",-1),n={class:"col-4 text-right q-py-sm"},c={class:"row q-col-gutter-x-sm q-px-none"},d={class:"col-12 col-md-3"},m={class:"col-12 col-md-3"},u={class:"col-12 col-md-3"},p={class:"col-12 col-md-3"},h={class:"row q-col-gutter-x-sm q-px-none"},C={class:"col-12 col-md-3"},v={class:"col-12 col-md-3"},f={class:"col-12 col-md-3"},N={class:"col-12 col-md-3"},V={class:"row q-col-gutter-x-sm q-px-none"},g={class:"col-12 col-md-6"},x={class:"row"},b={class:"col-12"},w=(0,a.createElementVNode)("p",{class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}}," Emitente ",-1),_=(0,a.createTextVNode)(" "),y={class:"row q-col-gutter-x-sm q-px-none"},I={class:"col-12"},E={class:"col-12 col-md-6"},S={class:"row"},M={class:"col-12"},T=(0,a.createElementVNode)("p",{class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}}," Destinatário ",-1),k=(0,a.createTextVNode)(" "),D=(0,a.createTextVNode)("Adicionar"),q={class:"row q-col-gutter-x-sm q-px-none"},F={class:"col-12"},P={class:"col-12"},A={class:"row"},B={class:"col-12"},L=(0,a.createElementVNode)("p",{class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}}," Intermediário ",-1),O=(0,a.createTextVNode)(" "),z=(0,a.createTextVNode)("Adicionar"),j={class:"row q-col-gutter-x-sm q-px-none"},$={class:"col-12"},U=(0,a.createElementVNode)("p",{class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}}," Local dos serviços ",-1),Z={class:"row q-col-gutter-x-sm q-px-none"},Q={class:"col-12"},R=(0,a.createElementVNode)("p",{class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}}," Descrição dos Serviços ",-1),G={class:"row q-px-none"},H={class:"col-12"},J=(0,a.createElementVNode)("p",{class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}}," Imposto sobre serviços de qualquer natureza-ISSQN ",-1),Y={class:"row q-col-gutter-x-sm q-px-none"},X={class:"col-12 col-md-6"},W={class:"col-12 col-md-3"},K={class:"col-12 col-md-3"},ee={class:"col-6 col-md-4"},oe={class:"col-6 col-md-4"},te={class:"row q-col-gutter-x-sm q-px-none"},ae={class:"col-6 col-md-2"},ie={class:"col-6 col-md-2"},re={class:"col-6 col-md-2"},le={class:"col-6 col-md-2"},se={class:"col-6 col-md-auto"},ne={class:"col-6 col-md-2"},ce=(0,a.createElementVNode)("p",{class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}}," Retenção de Impostos ",-1),de={class:"row q-col-gutter-x-sm q-px-none"},me={class:"col-6 col-md-4 col-md"},ue={class:"col-6 col-md-4 col-md"},pe={class:"col-6 col-md-4 col-md"},he={class:"col-6 col-md-4 col-md"},Ce={class:"col-6 col-md-4 col-md"},ve={class:"col-6 col-md-4 col-md"},fe={class:"col-6 col-md-4 col-md"},Ne={class:"u-container"},Ve=(0,a.createElementVNode)("span",{class:"text-tertiary"},[(0,a.createTextVNode)("Total "),(0,a.createElementVNode)("strong",null,"R$ 300,00")],-1),ge={components:{BadgeCopiarUid:t(43119).Z},computed:{},data:()=>({showModalNovoCliente:!1,showModalDestinatario:!1,showModalCarta:!1,showModal:!1,promptCliente:!1,promptContato:!1,checkedISSQN:!1,openedCartaCorrecao:!1,openedCardNFSe:!1,contatosModal:!1,showsectionm:!1,telefoneTipos:[{label:"Principal",value:"Principal"},{label:"Comercial",value:"Comercial"},{label:"Celular",value:"Celular"},{label:"Fixo",value:"Fixo"},{label:"WhatsApp",value:"WhatsApp"}],tabsModel:"xtab-1",lista:[{name:"Jim Doe",fullName:"Jim Doe da Silva",photo:"statics/avatar.jpg",data:"22/01/2021",valor:"100,00",tags:["status"],showPreviewDetail:!1,linha2:{emitente:{sigla:"Sigla",apelido:"apelido",localNota:"localNota"},produto:{atividadeMunicio:"atividadeMunicio",itemLC:"item LC",codNacional:"cod nacional",descricao:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."},justificativa:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."}},{name:"Jim Doe",fullName:"Jim Doe da Silva",photo:"statics/avatar.jpg",data:"22/01/2021",valor:"100,00",tags:["status"],showPreviewDetail:!1,linha2:{emitente:{sigla:"sigla",apelido:"apelido",localNota:"localNota"},produto:{atividadeMunicio:"atividadeMunicio",itemLC:"item LC",codNacional:"cod nacional",descricao:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."},justificativa:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."}},{name:"Jim Doe",fullName:"Jim Doe da Silva",photo:"statics/avatar.jpg",data:"22/01/2021",valor:"100,00",tags:["status"],showPreviewDetail:!1,linha2:{emitente:{sigla:"sigla",apelido:"apelido",localNota:"localNota"},produto:{atividadeMunicio:"atividadeMunicio",itemLC:"item LC",codNacional:"cod nacional",descricao:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."},justificativa:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."}},{name:"Jim Doe",fullName:"Jim Doe da Silva",photo:"statics/avatar.jpg",data:"22/01/2021",valor:"100,00",tags:["status"],showPreviewDetail:!1,linha2:{emitente:{sigla:"sigla",apelido:"apelido",localNota:"localNota"},produto:{atividadeMunicio:"atividadeMunicio",itemLC:"item LC",codNacional:"cod nacional",descricao:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."},justificativa:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean viverra sapien quis mattis sodales. Nam ac turpis ornare, hendrerit neque nec, ultricies turpis."}}],showAllPreviewDetail:!1,page:1,minPages:1,maxPages:5,buscaCampo:"",checkboxModel:[],carregando:!1,contatosEmpresa:[],dados:{},empresas:{selected:[],options:[]},empresasSelecionadas:[],erroEmpresas:!1,erroPeriodo:!1,filtro:{codigoClienteSistema:"",codigoContatoUsuario:"",dataConsulta:"",empresas:[],periodo:{ini:null,fim:""}},showingHelp:!1,showFilters:!1,showList:!1,gantt:!1,kanban:!1,ganttL:!1,kanbanL:!1,section:!1,list:!0,left:!1,focarNaBusca:!0,carregandoEstoque:!0,estoque:[],itens:[],itensSelecionados:{},modo:{lista:!0,grade:!1},termo:"",visibilidade:{modal:!1}}),methods:{}};var xe=t(74260),be=t(39341),we=t(63626),_e=t(54553),ye=t(47266),Ie=t(76210),Ee=t(48761),Se=t(83054),Me=t(31106),Te=t(782),ke=t(4957),De=t(81312),qe=t(83671),Fe=t(98586),Pe=t(7518),Ae=t.n(Pe);const Be=(0,xe.Z)(ge,[["render",function(e,o,t,ge,xe,be){const we=(0,a.resolveComponent)("q-btn"),_e=(0,a.resolveComponent)("q-toolbar-title"),ye=(0,a.resolveComponent)("q-toolbar"),Ie=(0,a.resolveComponent)("q-header"),Ee=(0,a.resolveComponent)("BadgeCopiarUid"),Se=(0,a.resolveComponent)("campo"),Me=(0,a.resolveComponent)("q-card-section"),Te=(0,a.resolveComponent)("q-card"),ke=(0,a.resolveComponent)("q-tooltip"),De=(0,a.resolveComponent)("q-toggle"),qe=(0,a.resolveComponent)("q-footer"),Fe=(0,a.resolveComponent)("q-layout"),Pe=(0,a.resolveComponent)("q-dialog"),Ae=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(Pe,{maximized:"",modelValue:xe.showModal,"onUpdate:modelValue":o[3]||(o[3]=e=>xe.showModal=e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Fe,{class:"bg-light",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Ie,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(ye,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(we,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[Ae]]),(0,a.createVNode)(_e,null,{default:(0,a.withCtx)((()=>[i])),_:1}),(0,a.createVNode)(we,{unelevated:"",color:"white","text-color":"primary",label:"Salvar"})])),_:1})])),_:1}),(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("div",l,[(0,a.createVNode)(Te,{class:"bg-white q-pa-md no-border no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(ye,{class:"q-pa-none q-ma-none",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[s,(0,a.createVNode)(_e),(0,a.createElementVNode)("div",n,[(0,a.createVNode)(Ee,{id:159,numero:159,cor:"faded"})])])),_:1}),(0,a.createVNode)(Me,{class:"q-px-none q-pb-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",c,[(0,a.createElementVNode)("div",d,[(0,a.createVNode)(Se,{rotulo:"Natureza da Operação"})]),(0,a.createElementVNode)("div",m,[(0,a.createVNode)(Se,{rotulo:"Data de competência da NFS-e",tipo:"data"})]),(0,a.createElementVNode)("div",u,[(0,a.createVNode)(Se,{rotulo:"Data de emissão da NFS-e",tipo:"data","somente-leitura":""})]),(0,a.createElementVNode)("div",p,[(0,a.createVNode)(Se,{rotulo:"Código de verificação de Autenticidade",value:"#5065065","somente-leitura":""})])]),(0,a.createElementVNode)("div",h,[(0,a.createElementVNode)("div",C,[(0,a.createVNode)(Se,{rotulo:"Número do RPS"})]),(0,a.createElementVNode)("div",v,[(0,a.createVNode)(Se,{rotulo:"Serie do RPS"})]),(0,a.createElementVNode)("div",f,[(0,a.createVNode)(Se,{rotulo:"Tipo do RPS"})]),(0,a.createElementVNode)("div",N,[(0,a.createVNode)(Se,{rotulo:"Data de emissão do RPS",tipo:"data"})])])])),_:1})])),_:1}),(0,a.createElementVNode)("div",V,[(0,a.createElementVNode)("div",g,[(0,a.createVNode)(Te,{class:"bg-white q-pa-md no-border q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",x,[(0,a.createElementVNode)("div",b,[(0,a.createVNode)(ye,{class:"q-pa-none q-ma-none",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[w,(0,a.createVNode)(_e,null,{default:(0,a.withCtx)((()=>[_])),_:1})])),_:1}),(0,a.createVNode)(Me,{class:"q-px-none q-pb-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",y,[(0,a.createElementVNode)("div",I,[(0,a.createVNode)(Se,{value:"Sua empresa ",before:[{icon:"search",handler:e.abrirModalContato}],after:[{icon:"edit",handler:e.abrirModalDestinatario}],"somente-leitura":""},null,8,["before","after"])])])])),_:1})])])])),_:1})]),(0,a.createElementVNode)("div",E,[(0,a.createVNode)(Te,{class:"bg-white q-pa-md no-border q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",S,[(0,a.createElementVNode)("div",M,[(0,a.createVNode)(ye,{class:"q-pa-none q-ma-none",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[T,(0,a.createVNode)(_e,null,{default:(0,a.withCtx)((()=>[k])),_:1}),(0,a.createVNode)(we,{flat:"",dense:"",icon:"add",color:"tertiary",size:"sm",round:"",class:"hideonmobile",onClick:o[0]||(o[0]=e=>xe.showModalNovoCliente=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(ke,null,{default:(0,a.withCtx)((()=>[D])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(Me,{class:"q-px-none q-pb-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",q,[(0,a.createElementVNode)("div",F,[(0,a.createVNode)(Se,{value:"Cliente ",before:[{icon:"search",handler:e.abrirModalContato}],after:[{icon:"edit",handler:e.abrirModalDestinatario}],"somente-leitura":""},null,8,["before","after"])])])])),_:1})])])])),_:1})]),(0,a.createElementVNode)("div",P,[(0,a.createVNode)(Te,{class:"bg-white q-pa-md no-border q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",A,[(0,a.createElementVNode)("div",B,[(0,a.createVNode)(ye,{class:"q-pa-none q-ma-none",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[L,(0,a.createVNode)(_e,null,{default:(0,a.withCtx)((()=>[O])),_:1}),(0,a.createVNode)(we,{flat:"",dense:"",icon:"add",color:"tertiary",size:"sm",round:"",class:"hideonmobile",onClick:o[1]||(o[1]=e=>xe.showModalNovoCliente=!0)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(ke,null,{default:(0,a.withCtx)((()=>[z])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(Me,{class:"q-px-none q-pb-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",j,[(0,a.createElementVNode)("div",$,[(0,a.createVNode)(Se,{value:"Cliente ",before:[{icon:"search",handler:e.abrirModalContato}],after:[{icon:"edit",handler:e.abrirModalDestinatario}],"somente-leitura":""},null,8,["before","after"])])])])),_:1})])])])),_:1})])]),(0,a.createVNode)(Te,{class:"bg-white q-pa-md no-border q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(ye,{class:"q-pa-none q-ma-none",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[U])),_:1}),(0,a.createVNode)(Me,{class:"q-px-none q-pb-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Z,[(0,a.createElementVNode)("div",Q,[(0,a.createVNode)(Se,{placeholder:"Selecionar cidade/uf",value:"Ribeirão Preto/SP ",before:[{icon:"search"}],"somente-leitura":""})])])])),_:1})])),_:1}),(0,a.createVNode)(Te,{class:"bg-white q-pa-md no-border q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(ye,{class:"q-pa-none q-ma-none",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[R])),_:1}),(0,a.createElementVNode)("div",G,[(0,a.createElementVNode)("div",H,[(0,a.createVNode)(Se,{class:"q-mt-md q-py-xs q-px-sm",rows:"2",tipo:"textoArea",value:"Serviços prestados conforme orçamento"})])])])),_:1}),(0,a.createVNode)(Te,{class:"bg-white q-pa-md no-border q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(ye,{class:"q-pa-none q-ma-none",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[J])),_:1}),(0,a.createVNode)(Me,{class:"q-px-none q-pb-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Y,[(0,a.createElementVNode)("div",X,[(0,a.createVNode)(Se,{rotulo:"Atividade do Município",options:xe.telefoneTipos,tipo:"seletor"},null,8,["options"])]),(0,a.createElementVNode)("div",W,[(0,a.createVNode)(Se,{rotulo:"Item de LC116/2003"})]),(0,a.createElementVNode)("div",K,[(0,a.createVNode)(Se,{rotulo:"Cód. Nacional Atividade Econômica"})]),(0,a.createElementVNode)("div",ee,[(0,a.createVNode)(Se,{rotulo:"Aliquota",value:"2",suffix:"%",tipo:"decimal"})]),(0,a.createElementVNode)("div",oe,[(0,a.createVNode)(Se,{rotulo:"Valor total dos serviços",value:"0",prefix:"R$",tipo:"decimal"})])]),(0,a.createElementVNode)("div",te,[(0,a.createElementVNode)("div",ae,[(0,a.createVNode)(Se,{rotulo:"Desconto Incondicionado",value:"0",prefix:"R$",tipo:"decimal"})]),(0,a.createElementVNode)("div",ie,[(0,a.createVNode)(Se,{rotulo:"Deduções base cálculo",value:"0",prefix:"R$",tipo:"decimal"})]),(0,a.createElementVNode)("div",re,[(0,a.createVNode)(Se,{rotulo:"Base de cálculo",value:"0",prefix:"R$",tipo:"decimal"})]),(0,a.createElementVNode)("div",le,[(0,a.createVNode)(Se,{rotulo:"Desconto condicionado",value:"0",prefix:"R$",tipo:"decimal"})]),(0,a.createElementVNode)("div",se,[(0,a.createVNode)(De,{modelValue:xe.checkedISSQN,"onUpdate:modelValue":o[2]||(o[2]=e=>xe.checkedISSQN=e),class:"q-pt-lg",label:"ISSQN Retido"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",ne,[(0,a.createVNode)(Se,{rotulo:"Total do ISSQN",value:"0",prefix:"R$",tipo:"decimal"})])])])),_:1})])),_:1}),(0,a.createVNode)(Te,{class:"bg-white q-pa-md no-border q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(ye,{class:"q-pa-none q-ma-none",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[ce])),_:1}),(0,a.createVNode)(Me,{class:"q-px-none q-pb-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",de,[(0,a.createElementVNode)("div",me,[(0,a.createVNode)(Se,{rotulo:"PIS",value:"0",prefix:"R$",tipo:"decimal"})]),(0,a.createElementVNode)("div",ue,[(0,a.createVNode)(Se,{rotulo:"COFINS",value:"0",prefix:"R$",tipo:"decimal"})]),(0,a.createElementVNode)("div",pe,[(0,a.createVNode)(Se,{rotulo:"INSS",value:"0",prefix:"R$",tipo:"decimal"})]),(0,a.createElementVNode)("div",he,[(0,a.createVNode)(Se,{rotulo:"IRRF",value:"0",prefix:"R$",tipo:"decimal"})]),(0,a.createElementVNode)("div",Ce,[(0,a.createVNode)(Se,{rotulo:"CSLL",value:"0",prefix:"R$",tipo:"decimal"})]),(0,a.createElementVNode)("div",ve,[(0,a.createVNode)(Se,{rotulo:"Outras Retenções",value:"0",prefix:"R$",tipo:"decimal"})]),(0,a.createElementVNode)("div",fe,[(0,a.createVNode)(Se,{rotulo:"ISSQN",value:"0",prefix:"R$",tipo:"decimal"})])])])),_:1})])),_:1})])]),(0,a.createVNode)(qe,{class:"bg-light"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Ne,[(0,a.createVNode)(ye,null,{default:(0,a.withCtx)((()=>[Ve,(0,a.createVNode)(_e),(0,a.createVNode)(we,{class:"q-ml-sm no-shadow float-right",color:"negative",flat:"",label:"Remover",unelevated:""}),(0,a.createVNode)(we,{class:"q-ml-sm no-shadow float-right",color:"primary",label:"Emitir",unelevated:""})])),_:1})])])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);Ae()(ge,"components",{QDialog:be.Z,QLayout:we.Z,QHeader:_e.Z,QToolbar:ye.Z,QBtn:Ie.Z,QToolbarTitle:Ee.Z,QCard:Se.Z,QItemLabel:Me.Z,QCardSection:Te.Z,QTooltip:ke.Z,QToggle:De.Z,QFooter:qe.Z}),Ae()(ge,"directives",{ClosePopup:Fe.Z})},34976:(e,o,t)=>{"use strict";t.d(o,{Z:()=>bo});var a=t(34182);const i={id:"pupilometroTirarFoto"},r={class:"container"},l={class:"texto"},s=(e=>((0,a.pushScopeId)("data-v-289bbb90"),e=e(),(0,a.popScopeId)(),e))((()=>(0,a.createElementVNode)("video",{id:"Foto",class:"Video"},null,-1))),n=(0,a.createTextVNode)("Tirar Foto");var c=t(11463);const d={computed:{sensorHorizontalCor(){return this.sensor.horizontal<-10||this.sensor.horizontal>10?"red":"green"},sensorVerticalCor(){return this.sensor.vertical<85||this.sensor.vertical>95?"red":"green"},temFoto(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC"!==this.dbPupilometro.foto}},data:()=>({dbPupilometro:c.db.pupilometro,sensor:{horizontal:0,vertical:90},zoom:1,camera:"environment",flashicon:"flash_off",orientation:{},capabilities:{}}),emits:["mudarTela","upload"],methods:{zoomMais(){try{this.zoom+=this.capabilities.zoom.step,this.zoom>this.capabilities.zoom.max&&(this.zoom=this.capabilities.zoom.max),this.track.applyConstraints({advanced:[{zoom:this.zoom}]})}catch(e){console.log("erro zoom + ",e)}},zoomMenos(){try{this.zoom-=this.capabilities.zoom.step,this.zoom<this.capabilities.zoom.min&&(this.zoom=this.capabilities.zoom.min),this.track.applyConstraints({advanced:[{zoom:this.zoom}]})}catch(e){console.log("erro zoom + ",e)}},uploadClick(){this.$emit("mudarTela","TamanhoFoto"),this.$emit("upload")},async foto(){const e=this;"flash_auto"===e.flashicon&&(e.track.applyConstraints({advanced:[{torch:!0}]}),await new Promise((e=>setTimeout(e,1e3)))),e.imageCapture.takePhoto().then((o=>{const t=document.createElement("canvas"),a=t.getContext("2d"),i=new Image;i.onload=()=>{t.width=i.naturalWidth,t.height=i.naturalHeight,a.drawImage(i,0,0,i.naturalWidth,i.naturalHeight),e.dbPupilometro.fotoOriginal=t.toDataURL()+"",e.$emit("mudarTela","TamanhoFoto"),"flash_auto"===e.flashicon&&e.track.applyConstraints({advanced:[{torch:!1}]})},i.src=URL.createObjectURL(o)})).catch((e=>console.error("takePhoto() failed: ",e)))},flash(){switch(this.flashicon){case"flash_on":this.flashicon="flash_off",this.track.applyConstraints({advanced:[{torch:!1}]});break;case"flash_off":this.flashicon="flash_auto",this.track.applyConstraints({advanced:[{torch:!1}]});break;case"flash_auto":this.flashicon="flash_on",this.track.applyConstraints({advanced:[{torch:!0}]})}},avancar(){this.$emit("mudarTela","TamanhoFoto")},async trocarCamera(){"user"===this.camera?this.camera="environment":this.camera="user";const e={audio:!1,video:{facingMode:this.camera}};let o=document.getElementById("Foto");o||await new Promise((e=>{this.interval=setInterval((()=>{o=document.getElementById("Foto"),o&&(clearInterval(this.interval),e())}),10)})),o.setAttribute("playsinline",""),o.setAttribute("autoplay",""),o.setAttribute("muted","");try{o.srcObject.getTracks().forEach((e=>e.stop()))}catch{}navigator.mediaDevices.getUserMedia(e).then((async e=>{o.srcObject=e,await function(e=0){return new Promise((o=>setTimeout(o,e)))}(1e3),this.track=e.getVideoTracks()[0],this.capabilities=this.track.getCapabilities();const t=this.track.getSettings();this.zoom=t.zoom,this.imageCapture=new ImageCapture(this.track)}))}},mounted(){try{window.DeviceOrientationEvent&&window.addEventListener("deviceorientation",(e=>{let o=0,t=0;90===window.orientation&&(t=parseInt(e.gamma),t=t<0?-1*t:180-Math.abs(t),t<91?o=-1*parseInt(e.beta):(o=-1*parseInt(e.beta),o=o>0?180-o:Math.abs(o)-180)),-90===window.orientation&&(o=-1*parseInt(e.beta),t=parseInt(e.gamma),t=t<0?180+t:t,o=t<91?180===o?0:o:o>0?180-o:Math.abs(o)-180),0===window.orientation&&(t=parseInt(e.beta),o=t<91?-1*parseInt(e.gamma):parseInt(e.gamma)),o>90&&(o=90),o<-90&&(o=-90),this.sensor.horizontal!==o&&(this.sensor.horizontal=o);let a=this.sensor.horizontal<-10||this.sensor.horizontal>10?"red":"green";"red"===a&&(document.querySelector(".SensorHorizontal .q-slider__thumb").style.visibility="visible"),"green"===a&&(document.querySelector(".SensorHorizontal .q-slider__thumb").style.visibility="hidden"),t>180&&(t=180),t<63&&(t=63),this.sensor.vertical!==t&&(this.sensor.vertical=t),a=this.sensor.vertical<85||this.sensor.vertical>95?"red":"green","red"===a&&(document.querySelector(".SensorVertical .q-slider__thumb").style.visibility="visible"),"green"===a&&(document.querySelector(".SensorVertical .q-slider__thumb").style.visibility="hidden")}),!1)}catch{}this.trocarCamera()},beforeUnmount(){try{this.track.stop(),clearInterval(this.interval)}catch{}}};var m=t(74260),u=t(33322),p=t(68900),h=t(47266),C=t(48761),v=t(76210),f=t(7518),N=t.n(f);const V=(0,m.Z)(d,[["render",function(e,o,t,c,d,m){const u=(0,a.resolveComponent)("q-slider"),p=(0,a.resolveComponent)("q-icon"),h=(0,a.resolveComponent)("q-toolbar-title"),C=(0,a.resolveComponent)("q-btn"),v=(0,a.resolveComponent)("q-toolbar");return(0,a.openBlock)(),(0,a.createElementBlock)("div",i,[(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("div",l,(0,a.toDisplayString)(d.capabilities.height?d.capabilities.height.max:"")+"x"+(0,a.toDisplayString)(d.capabilities.width?d.capabilities.width.max:""),1),s,(0,a.createVNode)(u,{ref:"horizontal",class:"SensorHorizontal",color:m.sensorHorizontalCor,min:-90,max:90,modelValue:d.sensor.horizontal,"onUpdate:modelValue":o[0]||(o[0]=e=>d.sensor.horizontal=e)},null,8,["color","modelValue"]),(0,a.createVNode)(p,{class:"remove_red_eye",name:"remove_red_eye",color:m.sensorHorizontalCor},null,8,["color"]),(0,a.createVNode)(u,{ref:"vertical",class:"SensorVertical",color:m.sensorVerticalCor,min:63,max:180,modelValue:d.sensor.vertical,"onUpdate:modelValue":o[1]||(o[1]=e=>d.sensor.vertical=e)},null,8,["color","modelValue"])]),(0,a.createVNode)(v,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[n])),_:1}),(0,a.createVNode)(C,{flat:"",round:"",dense:"",icon:"fast_rewind",onClick:o[2]||(o[2]=o=>e.$emit("mudarTela","Fim"))}),m.temFoto?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0,flat:"",round:"",dense:"",icon:"fast_forward",onClick:m.avancar},null,8,["onClick"])):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(C,{class:"BtUpload",onClick:m.uploadClick,color:"primary",size:"md",round:"",icon:"attachment"},null,8,["onClick"]),(0,a.createVNode)(C,{class:"BtTrocarCamera",onClick:m.trocarCamera,color:"primary",size:"md",round:"",icon:"loop"},null,8,["onClick"]),(0,a.createVNode)(C,{ref:"BtFlash",class:"BtFlash",onClick:m.flash,color:"primary",size:"md",round:"",icon:d.flashicon},null,8,["onClick","icon"]),(0,a.createVNode)(C,{class:"ZoomMais",onClick:o[3]||(o[3]=e=>m.zoomMais()),color:"primary",size:"md",round:"",icon:"zoom_in"}),(0,a.createVNode)(C,{class:"ZoomMenos",onClick:o[4]||(o[4]=e=>m.zoomMenos()),color:"primary",size:"md",round:"",icon:"zoom_out"}),(0,a.createVNode)(C,{class:"BtFoto",onClick:o[5]||(o[5]=e=>m.foto()),color:"primary",size:"xl",round:"",icon:"camera"})])}],["__scopeId","data-v-289bbb90"]]);N()(d,"components",{QSlider:u.Z,QIcon:p.Z,QToolbar:h.Z,QToolbarTitle:C.Z,QBtn:v.Z});const g=e=>((0,a.pushScopeId)("data-v-2a01a3af"),e=e(),(0,a.popScopeId)(),e),x={id:"telaTamanhoFoto"},b=["src"],w={class:"quadro",ref:"quadro"},_=(0,a.createTextVNode)("Tratamento Foto"),y={key:0,class:"rosto",viewBox:"0 0 300 420"},I=[g((()=>(0,a.createElementVNode)("path",{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M154.7,27.6c41,0,95.2,20.4,112.7,77.9c21,69.1,9.3,153.6-3,190.6c-11.5,34.6-62.2,96.4-122,96.4c-27.9,0-69.5-19-109.8-109.7c-11.4-25.6-21-128.4,6.3-195.2C62,30.8,130.2,27.9,143.7,27.9c0.8,0,1.3,0,1.4,0l0.6,0l0.6,0C148.9,27.7,151.7,27.6,154.7,27.6z"},null,-1)))],E={key:1,class:"rosto",viewBox:"0 0 300 420"},S=[g((()=>(0,a.createElementVNode)("path",{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M264.7,94.6C249.3,32.9,176.4,19,152,19l-1.1,0v0c-0.1,0-0.3,0-0.4,0l-0.5,0l-0.5,0c-0.1,0-0.3,0-0.4,0v0l-1.1,0c-24.3,0-97.2,13.9-112.6,75.6c-15.5,62-18.1,176.7,0.3,213.6c18.2,36.4,73.9,89.5,76.2,91.6l1.2,1.1l36,0.1v0l1,0l1,0v0l36-0.1l1.2-1.1c2.4-2.1,58-55.1,76.2-91.6C282.8,271.3,280.2,156.6,264.7,94.6z "},null,-1)))],M={key:2,class:"rosto",viewBox:"0 0 300 420"},T=[g((()=>(0,a.createElementVNode)("path",{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M289.8,214.2c-5.9-82.9-9.5-133-34.3-159.2C232.1,30.3,189.1,13.9,150,14.5C110.9,13.9,67.9,30.3,44.5,55c-24.8,26.2-28.4,76.2-34.3,159.2l-0.1,0.9l0.3,0.9C42.2,305.7,98.9,407,150,405.5c51.1,1.5,107.8-99.9,139.6-189.5l0.3-0.9L289.8,214.2z"},null,-1)))],k={key:3,class:"btRosto",viewBox:"0 0 300 420"},D=[g((()=>(0,a.createElementVNode)("path",{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M264.7,101C255,52.4,204.6,12.7,151,10.4v-0.1c-0.3,0-0.7,0-1,0c-0.3,0-0.7,0-1,0v0.1\n      C95.4,12.7,45,52.4,35.3,101c-7.4,37-6.8,100.2-6.3,150.9c0.1,11.9,0.2,23.2,0.2,33.5v0.6l0.2,0.6\n      c14.3,48.7,74.8,115.3,119.6,122.8v0.3c0.3,0,0.7-0.1,1-0.2c0.3,0,0.7,0.1,1,0.2v-0.3c44.8-7.5,105.3-74.1,119.6-122.8l0.2-0.6\n      v-0.6c0-10.2,0.1-21.5,0.2-33.5C271.5,201.2,272.1,138.1,264.7,101z"},null,-1)))],q={key:4,class:"btRosto",viewBox:"0 0 300 420"},F=[g((()=>(0,a.createElementVNode)("path",{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M280.7,173.8c-13.1-65.3-32.8-109.4-60.4-134.8c-24.7-22.7-51.4-25.6-70.3-25.3c-18.9-0.3-45.6,2.6-70.3,25.3c-27.6,25.3-47.3,69.4-60.4,134.8l-0.1,0.5l0,0.5c1.5,68.2,15.3,97.7,36.1,142.3l0.4,0.9c26.2,56.1,60,88.3,92.8,88.3c0.5,0,1,0,1.5,0c0.5,0,1,0,1.5,0c32.8,0,66.6-32.2,92.8-88.3l0.4-0.9c20.8-44.6,34.6-74.1,36.1-142.3l0-0.5L280.7,173.8z"},null,-1)))],P={class:"ZonaTouch"},A=g((()=>(0,a.createElementVNode)("div",{class:"BaseBotoes"},null,-1))),B=g((()=>(0,a.createElementVNode)("div",{class:"btsTipoRosto"},null,-1))),L={data:()=>({dbPupilometro:c.db.pupilometro,foto:{},fotoFator:1,tipoRosto:1,sensor:{horizontal:0,vertical:0},zoom:100,pinca:{zoom:0,scaling:!1,width:0,height:0,top:0,left:0},distancia:{x1i:0,y1i:0,x2i:0,y2i:0,x1f:0,y1f:0,x2f:0,y2f:0,distanciaInicial:0,distanciaFinal:0},qtde:0}),watch:{"dbPupilometro.fotoOriginal":function(){this.mudaCentralizaFoto()}},emits:["mudarTela"],methods:{touch(e){const o=this.$refs.foto;let t=0;try{t=e.evt.touches.length}catch{}if(this.qtde=t,console.log(t),this.pinca.scaling||2!==t&&Math.abs(e.delta.x+e.delta.y)<=20&&(o.style.left=parseFloat(o.style.left)+e.delta.x+"px",o.style.top=parseFloat(o.style.top)+e.delta.y+"px"),!this.pinca.scaling&&2===t){const t=this.distancia;t.x1i=e.evt.touches[0].pageX,t.y1i=e.evt.touches[0].pageY,t.x2i=e.evt.touches[1].pageX,t.y2i=e.evt.touches[1].pageY,t.distanciaInicial=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.pinca.width=parseFloat(o.style.width),this.pinca.height=parseFloat(o.style.height),this.pinca.top=parseFloat(o.style.top),this.pinca.left=parseFloat(o.style.left),this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.pinca.scaling=!0,console.log("touchstart")}if(this.pinca.scaling&&0===t&&setTimeout((()=>{this.pinca.scaling=!1}),500),this.pinca.scaling&&2===t)try{const o=e.evt,t=Math.hypot(o.touches[0].pageX-o.touches[1].pageX,o.touches[0].pageY-o.touches[1].pageY)-this.pinca.zoom,a=this.$refs.foto;a.style.width=this.pinca.width+t+"px",a.style.height=this.pinca.height+t*this.fotoFator+"px",a.style.top=this.pinca.top-t/2*this.fotoFator+"px",a.style.left=this.pinca.left-t/2+"px"}catch(e){console.log(e)}},zoomMais(){const e=this.$refs.foto;e.style.width=parseFloat(e.style.width)+2+"px",e.style.height=parseFloat(e.style.height)+2*this.fotoFator+"px",e.style.top=parseFloat(e.style.top)-1*this.fotoFator+"px",e.style.left=parseFloat(e.style.left)-1+"px"},zoomMenos(){const e=this.$refs.foto;e.style.width=parseFloat(e.style.width)-2+"px",e.style.height=parseFloat(e.style.height)-2*this.fotoFator+"px",e.style.top=parseFloat(e.style.top)+1*this.fotoFator+"px",e.style.left=parseFloat(e.style.left)+1+"px"},moveUp(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)-1+"px"},moveDown(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)+1+"px"},moveRight(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)+1+"px"},moveLeft(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)-1+"px"},uploadClick(){this.$refs.Upload.click()},abrirFoto(e){const o=this.$refs.Upload.files;if(FileReader&&o&&o.length){var t=new FileReader;t.onload=()=>{this.dbPupilometro.fotoOriginal=t.result},t.readAsDataURL(o[0])}},mudaCentralizaFoto(){const e=this.$refs.quadro,o=parseInt(e.style.top),t=parseInt(e.style.left),a=parseInt(e.style.width),i=parseInt(e.style.height),r=this.$refs.foto,l=new Image,s=this;l.onload=()=>{let e=l.width,n=l.height,c=1.001;c=l.width>l.height?a/l.height:a/l.width,e=parseInt(e*c),n=parseInt(n*c),r.style.top=(i-n)/2+o+"px",r.style.left=(a-e)/2+t+"px",r.style.width=e+"px",r.style.height=n+"px",s.fotoFator=l.height/l.width},l.src=this.dbPupilometro.fotoOriginal},btProximo(){const e=document.createElement("canvas"),o=e.getContext("2d"),t=this.$refs.foto;e.width=1200,e.height=1200;const a=parseFloat(this.$refs.foto.style.left),i=parseFloat(this.$refs.foto.style.width),r=parseFloat(this.$refs.foto.style.top),l=parseFloat(this.$refs.foto.style.height),s=this.$refs.foto.naturalWidth,n=this.$refs.foto.naturalHeight,c=parseFloat(this.$refs.quadro.style.left),d=parseFloat(this.$refs.quadro.style.width),m=parseFloat(this.$refs.quadro.style.top),u=parseFloat(this.$refs.quadro.style.height),p=c-a,h=m-r;o.drawImage(t,p/i*s,h/l*n,d/i*s,u/l*n,0,0,1200,1200),this.dbPupilometro.foto=e.toDataURL()+"",this.$emit("mudarTela","TamanhoArmacao")},btAnterior(){this.$emit("mudarTela","TirarFoto")},redimensiona(){const e=this.$refs.quadro,o=document.body.clientWidth-20,t=window.innerHeight-100-20;e.style.height=o>t?t+"px":o+"px",e.style.width=e.style.height,e.style.top=(window.innerHeight-parseInt(e.style.height)-20)/2+"px",e.style.left=(document.body.clientWidth-parseInt(e.style.width))/2+"px";const a=document.getElementsByClassName("rosto");for(const o of a)o.style.position="absolute",o.style.top=e.style.top,o.style.left=e.style.left,o.style.width=e.style.width,o.style.height=e.style.height}},mounted(){this.redimensiona()}};var O=t(82204),z=t(94618),j=t(74839);const $=(0,m.Z)(L,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-resize-observer"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-btn"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveDirective)("touch-repeat"),u=(0,a.resolveDirective)("touch-pan");return(0,a.openBlock)(),(0,a.createElementBlock)("div",x,[(0,a.createVNode)(s,{onResize:l.redimensiona},null,8,["onResize"]),(0,a.createElementVNode)("img",{class:"Foto",ref:"foto",src:r.dbPupilometro.fotoOriginal},null,8,b),(0,a.createElementVNode)("div",w,null,512),(0,a.createVNode)(d,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[_])),_:1}),(0,a.createVNode)(c,{flat:"",round:"",dense:"",icon:"fast_rewind",onClick:l.btAnterior},null,8,["onClick"]),(0,a.createVNode)(c,{flat:"",round:"",dense:"",icon:"fast_forward",onClick:l.btProximo},null,8,["onClick"])])),_:1}),(0,a.createElementVNode)("div",null,[1===r.tipoRosto?((0,a.openBlock)(),(0,a.createElementBlock)("svg",y,I)):(0,a.createCommentVNode)("",!0),2===r.tipoRosto?((0,a.openBlock)(),(0,a.createElementBlock)("svg",E,S)):(0,a.createCommentVNode)("",!0),3===r.tipoRosto?((0,a.openBlock)(),(0,a.createElementBlock)("svg",M,T)):(0,a.createCommentVNode)("",!0),4===r.tipoRosto?((0,a.openBlock)(),(0,a.createElementBlock)("svg",k,D)):(0,a.createCommentVNode)("",!0),5===r.tipoRosto?((0,a.openBlock)(),(0,a.createElementBlock)("svg",q,F)):(0,a.createCommentVNode)("",!0)]),(0,a.withDirectives)((0,a.createVNode)(c,{class:"ZoomMais",color:"primary",size:"md",round:"",icon:"zoom_in"},null,512),[[m,l.zoomMais,"0:20",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(c,{class:"ZoomMenos",color:"primary",size:"md",round:"",icon:"zoom_out"},null,512),[[m,l.zoomMenos,"0:20",{mouse:!0,enter:!0,space:!0}]]),(0,a.createVNode)(c,{class:"BtUpload",onClick:l.uploadClick,color:"primary",size:"md",round:"",icon:"attachment"},null,8,["onClick"]),(0,a.withDirectives)((0,a.createElementVNode)("div",P,null,512),[[u,l.touch,void 0,{prevent:!0,mouse:!0}]]),A,(0,a.withDirectives)((0,a.createVNode)(c,{class:"moveUp",color:"primary",size:"md",round:"",icon:"keyboard_arrow_up"},null,512),[[m,l.moveUp,"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(c,{class:"moveDown",color:"primary",size:"md",round:"",icon:"keyboard_arrow_down"},null,512),[[m,l.moveDown,"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(c,{class:"moveRight",color:"primary",size:"md",round:"",icon:"keyboard_arrow_right"},null,512),[[m,l.moveRight,"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(c,{class:"moveLeft",color:"primary",size:"md",round:"",icon:"keyboard_arrow_left"},null,512),[[m,l.moveLeft,"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.createElementVNode)("input",{ref:"Upload",type:"file",id:"Upload",onChange:o[0]||(o[0]=(...e)=>l.abrirFoto&&l.abrirFoto(...e)),style:{visibility:"hidden"}},null,544),B])}],["__scopeId","data-v-2a01a3af"]]);N()(L,"components",{QResizeObserver:O.Z,QToolbar:h.Z,QToolbarTitle:C.Z,QBtn:v.Z}),N()(L,"directives",{TouchRepeat:z.Z,TouchPan:j.Z});const U=(0,a.createTextVNode)("Tamanho Armação"),Z=["src"],Q={components:{Campo:t(26891).Z},data:()=>({dbPupilometro:c.db.pupilometro}),emits:["mudarTela"],methods:{btProximo(){this.$emit("mudarTela","Olho")},btAnterior(){this.$emit("mudarTela","TamanhoFoto")},redimensiona(){const e=this.$refs.foto;e.style.position="absolute";const o=document.body.clientWidth-20,t=window.innerHeight-120-20;e.style.height=o>t?t+"px":o+"px",e.style.width=e.style.height,e.style.top="120px",e.style.left=(document.body.clientWidth-parseInt(e.style.width))/2+"px"}}};var R=t(46924);const G=(0,m.Z)(Q,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("campo"),m=(0,a.resolveComponent)("q-resize-observer");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[U])),_:1}),(0,a.createVNode)(n,{flat:"",round:"",dense:"",icon:"fast_rewind",onClick:l.btAnterior},null,8,["onClick"]),(0,a.createVNode)(n,{flat:"",round:"",dense:"",icon:"fast_forward",onClick:l.btProximo},null,8,["onClick"])])),_:1}),(0,a.createVNode)(c,{color:"#eee","text-color":"dark"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"campo",modelValue:r.dbPupilometro.medidas.tamanhoArmacao,"onUpdate:modelValue":o[0]||(o[0]=e=>r.dbPupilometro.medidas.tamanhoArmacao=e),tipo:"decimal",decimals:"2",suffix:"mm","rotulo-fixo":"Tamanho Armação"},null,8,["modelValue"])])),_:1}),(0,a.createElementVNode)("img",{ref:"foto",class:"Foto",src:r.dbPupilometro.foto},null,8,Z),(0,a.createVNode)(m,{onResize:l.redimensiona},null,8,["onResize"])])}]]);N()(Q,"components",{QToolbar:h.Z,QToolbarTitle:C.Z,QBtn:v.Z,QCheckbox:R.Z,QResizeObserver:O.Z});const H={id:"telaOlho"},J={ref:"quadro"},Y=["src"],X={ref:"p1",id:"p1"},W={ref:"p2",id:"p2"},K={ref:"p3",id:"p3"},ee={ref:"p4",id:"p4"},oe={ref:"p5",id:"p5"},te={ref:"p6",id:"p6"},ae={class:"ZonaTouch"},ie=(e=>((0,a.pushScopeId)("data-v-9ef2eca0"),e=e(),(0,a.popScopeId)(),e))((()=>(0,a.createElementVNode)("div",{class:"BaseBotoes"},null,-1))),re={data:()=>({dbPupilometro:c.db.pupilometro,sensor:{horizontal:0,vertical:0},foto:"",passo:1,isDown:!1,x:0,y:0,zoom:2,pinca:{scaling:!1},qtde:0}),computed:{titulo(){const e=[];return e[1]="Olho Direito",e[2]="Olho Direito",e[3]="Centro Olho Direito",e[4]="Olho Esquerdo",e[5]="Olho Esquerdo",e[6]="Centro Olho Esquerdo",e[this.passo]}},emits:["mudarTela"],methods:{sleep:(e=0)=>new Promise((o=>setTimeout(o,e))),desenha(){const e=this.$refs.quadro;let o=`scale(${this.zoom})`;-1!==[1,2,3].indexOf(this.passo)?o+=" translateX(15%)":o+=" translateX(-15%)",e.style.transform=o},zoomMais(){this.zoom+=.01,this.desenha()},zoomMenos(){this.zoom-=.01,this.desenha()},touch(e){let o=0;try{o=e.evt.touches.length}catch{}if(this.qtde=o,this.pinca.scaling||2!==o&&(this.$refs["p"+this.passo].style.left=parseInt(this.$refs["p"+this.passo].style.left)+e.delta.x+"px",this.$refs["p"+this.passo].style.top=parseInt(this.$refs["p"+this.passo].style.top)+e.delta.y+"px"),this.pinca.scaling||2!==o||(this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&0===o&&setTimeout((()=>{this.pinca.scaling=!1}),250),this.pinca.scaling&&2===o)try{const o=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+o/1e3,this.desenha()}catch{}},btProximo(){if(this.passo>=1&&this.passo<=5)return this.passo+=1,void this.desenha();6===this.passo&&(this.dbPupilometro.medidas.olhoDireito={...this.dbPupilometro.medidas.olhoDireito,superior:{top:parseFloat(this.$refs.p1.style.top),left:parseFloat(this.$refs.p1.style.left)},centroOlho:{top:parseFloat(this.$refs.p3.style.top),left:parseFloat(this.$refs.p3.style.left)},inferior:{top:parseFloat(this.$refs.p2.style.top),left:parseFloat(this.$refs.p2.style.left)}},this.dbPupilometro.medidas.olhoEsquerdo={...this.dbPupilometro.medidas.olhoEsquerdo,superior:{top:parseFloat(this.$refs.p5.style.top),left:parseFloat(this.$refs.p5.style.left)},centroOlho:{top:parseFloat(this.$refs.p6.style.top),left:parseFloat(this.$refs.p6.style.left)},inferior:{top:parseFloat(this.$refs.p4.style.top),left:parseFloat(this.$refs.p4.style.left)}},0===this.dbPupilometro.medidas.diagonal.p1.left&&(this.dbPupilometro.medidas.diagonal.p1.left=this.dbPupilometro.medidas.olhoEsquerdo.inferior.left,this.dbPupilometro.medidas.diagonal.p1.top=this.dbPupilometro.medidas.olhoEsquerdo.inferior.top,this.dbPupilometro.medidas.diagonal.p2.left=this.dbPupilometro.medidas.olhoEsquerdo.superior.left,this.dbPupilometro.medidas.diagonal.p2.top=this.dbPupilometro.medidas.olhoEsquerdo.superior.top),this.dbPupilometro.calcularDistancias(),this.$emit("mudarTela","Diagonal"))},btAnterior(){1!==this.passo?this.passo>=2&&this.passo<=6&&(this.passo-=1,this.desenha()):this.$emit("mudarTela","TamanhoArmacao")},moveu(e){const o=this.$refs["p"+this.passo];if("up"===e){let e=parseFloat(o.style.top)-1;e<0&&(e=0),o.style.top=e+"px"}if("down"===e&&(this.$refs["p"+this.passo].style.top=parseFloat(this.$refs["p"+this.passo].style.top)+1+"px"),"left"===e){let e=parseFloat(o.style.left)-1;e<0&&(e=0),o.style.left=e+"px"}"right"===e&&(this.$refs["p"+this.passo].style.left=parseFloat(this.$refs["p"+this.passo].style.left)+1+"px")},redimensiona(){const e=this.$refs.quadro;e.style.position="absolute";const o=document.body.clientWidth-20,t=window.innerHeight-60-20;this.zoom=o>t?t/1200:o/1200,this.zoom=2*this.zoom,e.style.top=(window.innerHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},centralizaQuadroTela(){const e=this.$refs.quadro;e.style.position="absolute",e.style.top=(window.innerHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()}},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="1200px",this.$refs.quadro.style.height="1200px";const e=this.dbPupilometro.medidas;this.$refs.p1.style.top=e.olhoDireito.superior.top+"px",this.$refs.p1.style.left=e.olhoDireito.superior.left+"px",this.$refs.p3.style.top=e.olhoDireito.centroOlho.top+"px",this.$refs.p3.style.left=e.olhoDireito.centroOlho.left+"px",this.$refs.p2.style.top=e.olhoDireito.inferior.top+"px",this.$refs.p2.style.left=e.olhoDireito.inferior.left+"px",this.$refs.p5.style.top=e.olhoEsquerdo.superior.top+"px",this.$refs.p5.style.left=e.olhoEsquerdo.superior.left+"px",this.$refs.p6.style.top=e.olhoEsquerdo.centroOlho.top+"px",this.$refs.p6.style.left=e.olhoEsquerdo.centroOlho.left+"px",this.$refs.p4.style.top=e.olhoEsquerdo.inferior.top+"px",this.$refs.p4.style.left=e.olhoEsquerdo.inferior.left+"px",this.redimensiona()}},le=(0,m.Z)(re,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-resize-observer"),m=(0,a.resolveDirective)("touch-repeat"),u=(0,a.resolveDirective)("touch-pan");return(0,a.openBlock)(),(0,a.createElementBlock)("div",H,[(0,a.createElementVNode)("div",J,[(0,a.createElementVNode)("img",{ref:"foto",class:"Foto",src:r.dbPupilometro.foto},null,8,Y),(0,a.withDirectives)((0,a.createElementVNode)("div",X,null,512),[[a.vShow,1===r.passo]]),(0,a.withDirectives)((0,a.createElementVNode)("div",W,null,512),[[a.vShow,2===r.passo]]),(0,a.withDirectives)((0,a.createElementVNode)("div",K,null,512),[[a.vShow,3===r.passo]]),(0,a.withDirectives)((0,a.createElementVNode)("div",ee,null,512),[[a.vShow,4===r.passo]]),(0,a.withDirectives)((0,a.createElementVNode)("div",oe,null,512),[[a.vShow,5===r.passo]]),(0,a.withDirectives)((0,a.createElementVNode)("div",te,null,512),[[a.vShow,6===r.passo]])],512),(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.titulo),1)])),_:1}),(0,a.createVNode)(n,{flat:"",round:"",dense:"",icon:"fast_rewind",onClick:l.btAnterior},null,8,["onClick"]),(0,a.createVNode)(n,{flat:"",round:"",dense:"",icon:"fast_forward",onClick:l.btProximo},null,8,["onClick"])])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{class:"ZoomMais",color:"primary",size:"md",round:"",icon:"zoom_in"},null,512),[[m,l.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(n,{class:"ZoomMenos",color:"primary",size:"md",round:"",icon:"zoom_out"},null,512),[[m,l.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createElementVNode)("div",ae,null,512),[[u,l.touch,void 0,{prevent:!0,mouse:!0}]]),ie,(0,a.withDirectives)((0,a.createVNode)(n,{class:"BtUp",color:"primary",size:"md",round:"",icon:"keyboard_arrow_up"},null,512),[[m,()=>l.moveu("up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(n,{class:"BtDown",color:"primary",size:"md",round:"",icon:"keyboard_arrow_down"},null,512),[[m,()=>l.moveu("down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(n,{class:"BtLeft",color:"primary",size:"md",round:"",icon:"keyboard_arrow_left"},null,512),[[m,()=>l.moveu("left"),"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(n,{class:"BtRight",color:"primary",size:"md",round:"",icon:"keyboard_arrow_right"},null,512),[[m,()=>l.moveu("right"),"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.createVNode)(d,{onResize:l.centralizaQuadroTela},null,8,["onResize"])])}],["__scopeId","data-v-9ef2eca0"]]);N()(re,"components",{QToolbar:h.Z,QToolbarTitle:C.Z,QBtn:v.Z,QResizeObserver:O.Z}),N()(re,"directives",{TouchRepeat:z.Z,TouchPan:j.Z});const se={id:"telaBifocal"},ne={ref:"quadro"},ce=["src"],de={ref:"p2",id:"p2",class:"text-primary"},me={ref:"p1",id:"p1",class:"text-primary"},ue=(0,a.createTextVNode)("Diagonal"),pe={data:()=>({dbPupilometro:c.db.pupilometro,sensor:{horizontal:0,vertical:0},foto:"",passo:1,isDown:!1,x:0,y:0,zoom:.87,pinca:{scaling:!1}}),emits:["mudarTela"],methods:{desenha(){const e=this.dbPupilometro.medidas;e.diagonal.distanciapx=Math.hypot(Math.abs(e.diagonal.p2.left-e.diagonal.p1.left),Math.abs(e.diagonal.p1.top-e.diagonal.p2.top)),e.diagonal.distancia=e.diagonal.distanciapx/e.fator,this.$refs.p1.style.left=e.diagonal.p1.left+"px",this.$refs.p1.style.top=e.diagonal.p1.top+"px",this.$refs.p2.style.left=e.diagonal.p2.left+"px",this.$refs.p2.style.top=e.diagonal.p2.top+"px",this.$refs.p2.style.height=e.diagonal.distanciapx+"px";let o=e.diagonal.p2.left-e.diagonal.p1.left;o=Math.asin(o/e.diagonal.distanciapx)*(180/Math.PI),this.$refs.p2.style.transform=`rotate(${o}deg)`,this.$refs.p2.style["transform-origin"]="0% 0%";const t=document.querySelector("#p2 i").style;t.transform=`rotate(-${o}deg)`,t["transform-origin"]="0% 0%";const a=this.$refs.quadro;let i=`scale(${this.zoom.toFixed(2)})`;a.style.transform=i},zoomMais(){this.zoom+=.01,this.desenha()},zoomMenos(){this.zoom-=.01,this.desenha()},touch(e){let o=0;try{o=e.evt.touches.length}catch{}if(this.qtde=o,this.pinca.scaling||2!==o&&Math.abs(e.delta.x+e.delta.y)<=20&&(this.$refs.quadro.style.left=parseFloat(this.$refs.quadro.style.left)+e.delta.x+"px",this.$refs.quadro.style.top=parseFloat(this.$refs.quadro.style.top)+e.delta.y+"px"),this.pinca.scaling||2!==o||(this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&0===o&&setTimeout((()=>{this.pinca.scaling=!1}),250),this.pinca.scaling&&2===o)try{const o=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+o/1e3,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`}catch{}},touchP(e,o){let t=0;try{t=e.evt.touches.length}catch{}this.pinca.scaling||2!==t&&(this.dbPupilometro.medidas.diagonal[o].top=this.dbPupilometro.medidas.diagonal[o].top+e.delta.y,this.dbPupilometro.medidas.diagonal[o].left=this.dbPupilometro.medidas.diagonal[o].left+e.delta.x,this.desenha())},touchP1(e){this.touchP(e,"p1")},touchP2(e){this.touchP(e,"p2")},btProximo(){this.dbPupilometro.calcularDistancias(),this.dbPupilometro.medidas.bifocal?this.$emit("mudarTela","Bifocal"):this.$emit("mudarTela","Medidas")},btAnterior(){this.$emit("mudarTela","Olho")},moveu(e){"Bt1Up"===e&&(this.dbPupilometro.medidas.diagonal.p1.top=this.dbPupilometro.medidas.diagonal.p1.top-1),"Bt1Down"===e&&(this.dbPupilometro.medidas.diagonal.p1.top=this.dbPupilometro.medidas.diagonal.p1.top+1),"Bt1Left"===e&&(this.dbPupilometro.medidas.diagonal.p1.left=this.dbPupilometro.medidas.diagonal.p1.left-1),"Bt1Right"===e&&(this.dbPupilometro.medidas.diagonal.p1.left=this.dbPupilometro.medidas.diagonal.p1.left+1),"Bt2Up"===e&&(this.dbPupilometro.medidas.diagonal.p2.top=this.dbPupilometro.medidas.diagonal.p2.top-1),"Bt2Down"===e&&(this.dbPupilometro.medidas.diagonal.p2.top=this.dbPupilometro.medidas.diagonal.p2.top+1),"Bt2Left"===e&&(this.dbPupilometro.medidas.diagonal.p2.left=this.dbPupilometro.medidas.diagonal.p2.left-1),"Bt2Right"===e&&(this.dbPupilometro.medidas.diagonal.p2.left=this.dbPupilometro.medidas.diagonal.p2.left+1),this.desenha()},redimensiona(){const e=this.$refs.quadro;e.style.position="absolute";const o=document.body.clientWidth-20,t=window.innerHeight-60-20;this.zoom=o>t?t/600:o/600,e.style.top=(window.innerHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},centralizaQuadroTela(){const e=this.$refs.quadro;e.style.position="absolute",e.style.top=(window.innerHeight-1200)/2+"px",e.style.left="-500px",this.desenha()}},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="1200px",this.$refs.quadro.style.height="1200px",this.redimensiona()}},he=(0,m.Z)(pe,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-icon"),n=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-btn"),d=(0,a.resolveComponent)("q-toolbar"),m=(0,a.resolveComponent)("q-resize-observer"),u=(0,a.resolveDirective)("touch-pan"),p=(0,a.resolveDirective)("touch-repeat");return(0,a.openBlock)(),(0,a.createElementBlock)("div",se,[(0,a.createElementVNode)("div",ne,[(0,a.withDirectives)((0,a.createElementVNode)("img",{ref:"foto",class:"Foto",src:r.dbPupilometro.foto},null,8,ce),[[u,l.touch,void 0,{prevent:!0,mouse:!0}]]),(0,a.createElementVNode)("div",de,[(0,a.withDirectives)((0,a.createVNode)(s,{name:"open_with",style:{"font-size":"4rem"}},null,512),[[u,l.touchP2,void 0,{prevent:!0,mouse:!0}]])],512),(0,a.createElementVNode)("div",me,[(0,a.withDirectives)((0,a.createVNode)(s,{name:"open_with",style:{"font-size":"4rem"}},null,512),[[u,l.touchP1,void 0,{prevent:!0,mouse:!0}]]),(0,a.createElementVNode)("div",null,(0,a.toDisplayString)(e.$filters.numero(r.dbPupilometro.medidas.diagonal.distancia,1))+" mm",1)],512)],512),(0,a.createVNode)(d,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[ue])),_:1}),(0,a.createVNode)(c,{flat:"",round:"",dense:"",icon:"fast_rewind",onClick:l.btAnterior},null,8,["onClick"]),(0,a.createVNode)(c,{flat:"",round:"",dense:"",icon:"fast_forward",onClick:l.btProximo},null,8,["onClick"])])),_:1}),(0,a.withDirectives)((0,a.createVNode)(c,{class:"ZoomMais",color:"primary",size:"md",round:"",icon:"zoom_in"},null,512),[[p,l.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(c,{class:"ZoomMenos",color:"primary",size:"md",round:"",icon:"zoom_out"},null,512),[[p,l.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(c,{class:"Bt1Up",color:"primary",size:"md",round:"",icon:"keyboard_arrow_up"},null,512),[[p,()=>l.moveu("Bt1Up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(c,{class:"Bt1Down",color:"primary",size:"md",round:"",icon:"keyboard_arrow_down"},null,512),[[p,()=>l.moveu("Bt1Down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(c,{class:"Bt1Left",color:"primary",size:"md",round:"",icon:"keyboard_arrow_left"},null,512),[[p,()=>l.moveu("Bt1Left"),"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(c,{class:"Bt1Right",color:"primary",size:"md",round:"",icon:"keyboard_arrow_right"},null,512),[[p,()=>l.moveu("Bt1Right"),"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(c,{class:"Bt2Up",color:"primary",size:"md",round:"",icon:"keyboard_arrow_up"},null,512),[[p,()=>l.moveu("Bt2Up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(c,{class:"Bt2Down",color:"primary",size:"md",round:"",icon:"keyboard_arrow_down"},null,512),[[p,()=>l.moveu("Bt2Down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(c,{class:"Bt2Left",color:"primary",size:"md",round:"",icon:"keyboard_arrow_left"},null,512),[[p,()=>l.moveu("Bt2Left"),"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(c,{class:"Bt2Right",color:"primary",size:"md",round:"",icon:"keyboard_arrow_right"},null,512),[[p,()=>l.moveu("Bt2Right"),"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.createVNode)(m,{onResize:l.centralizaQuadroTela},null,8,["onResize"])])}],["__scopeId","data-v-20db7e83"]]);N()(pe,"components",{QIcon:p.Z,QToolbar:h.Z,QToolbarTitle:C.Z,QBtn:v.Z,QResizeObserver:O.Z}),N()(pe,"directives",{TouchPan:j.Z,TouchRepeat:z.Z});const Ce=e=>((0,a.pushScopeId)("data-v-3b13c5db"),e=e(),(0,a.popScopeId)(),e),ve={id:"telaBifocal"},fe={ref:"quadro"},Ne=["src"],Ve={ref:"p1",id:"p1"},ge={ref:"p2",id:"p2"},xe={ref:"odbifocal",id:"odbifocal"},be=[Ce((()=>(0,a.createElementVNode)("div",null,null,-1))),Ce((()=>(0,a.createElementVNode)("div",null,null,-1))),Ce((()=>(0,a.createElementVNode)("div",null,null,-1)))],we={ref:"oebifocal",id:"oebifocal"},_e=[Ce((()=>(0,a.createElementVNode)("div",null,null,-1))),Ce((()=>(0,a.createElementVNode)("div",null,null,-1))),Ce((()=>(0,a.createElementVNode)("div",null,null,-1)))],ye=(0,a.createTextVNode)("Bifocal"),Ie={data:()=>({dbPupilometro:c.db.pupilometro,sensor:{horizontal:0,vertical:0},foto:"",passo:1,isDown:!1,x:0,y:0,zoom:1.6,pinca:{scaling:!1}}),emits:["mudarTela"],methods:{sleep:(e=0)=>new Promise((o=>setTimeout(o,e))),desenha(){const e=this.dbPupilometro.medidas;this.$refs.odbifocal.style.height=e.olhoDireito.bifocalAltura+"px",this.$refs.odbifocal.style.left=e.olhoDireito.centroOlho.left+"px",this.$refs.odbifocal.style.top=e.olhoDireito.inferior.top-e.olhoDireito.bifocalAltura+"px",this.$refs.oebifocal.style.height=e.olhoEsquerdo.bifocalAltura+"px",this.$refs.oebifocal.style.left=e.olhoEsquerdo.centroOlho.left+"px",this.$refs.oebifocal.style.top=e.olhoEsquerdo.inferior.top-e.olhoEsquerdo.bifocalAltura+"px";const o=this.$refs.quadro;let t=`scale(${this.zoom.toFixed(2)})`;o.style.transform=t},zoomMais(){this.zoom+=.01,this.desenha()},zoomMenos(){this.zoom-=.01,this.desenha()},touch(e){let o=0;try{o=e.evt.touches.length}catch{}if(this.qtde=o,this.pinca.scaling||2!==o||(this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&0===o&&setTimeout((()=>{this.pinca.scaling=!1}),250),this.pinca.scaling&&2===o)try{const o=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+o/1e3,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`}catch{}},btProximo(){this.dbPupilometro.calcularDistancias(),this.$emit("mudarTela","Medidas")},btAnterior(){this.$emit("mudarTela","Diagonal")},moveu(e){"od-up"===e&&(this.dbPupilometro.medidas.olhoDireito.bifocalAltura=this.dbPupilometro.medidas.olhoDireito.bifocalAltura+1,this.desenha()),"od-down"===e&&(this.dbPupilometro.medidas.olhoDireito.bifocalAltura=this.dbPupilometro.medidas.olhoDireito.bifocalAltura-1,this.desenha()),"oe-up"===e&&(this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura=this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura+1,this.desenha()),"oe-down"===e&&(this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura=this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura-1,this.desenha())},redimensiona(){const e=this.$refs.quadro;e.style.position="absolute";const o=document.body.clientWidth-20,t=window.innerHeight-60-20;this.zoom=o>t?t/1200:o/1200,e.style.top=(window.innerHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},centralizaQuadroTela(){const e=this.$refs.quadro;e.style.position="absolute",e.style.top=(window.innerHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()}},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="1200px",this.$refs.quadro.style.height="1200px",this.redimensiona()}},Ee=(0,m.Z)(Ie,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-resize-observer"),m=(0,a.resolveDirective)("touch-pan"),u=(0,a.resolveDirective)("touch-repeat");return(0,a.openBlock)(),(0,a.createElementBlock)("div",ve,[(0,a.createElementVNode)("div",fe,[(0,a.withDirectives)((0,a.createElementVNode)("img",{ref:"foto",class:"Foto",src:r.dbPupilometro.foto},null,8,Ne),[[m,l.touch,void 0,{prevent:!0,mouse:!0}]]),(0,a.withDirectives)((0,a.createElementVNode)("div",Ve,null,512),[[a.vShow,1===r.passo]]),(0,a.withDirectives)((0,a.createElementVNode)("div",ge,null,512),[[a.vShow,2===r.passo]]),(0,a.createElementVNode)("div",xe,be,512),(0,a.createElementVNode)("div",we,_e,512)],512),(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[ye])),_:1}),(0,a.createVNode)(n,{flat:"",round:"",dense:"",icon:"fast_rewind",onClick:l.btAnterior},null,8,["onClick"]),(0,a.createVNode)(n,{flat:"",round:"",dense:"",icon:"fast_forward",onClick:l.btProximo},null,8,["onClick"])])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{class:"ZoomMais",color:"primary",size:"md",round:"",icon:"zoom_in"},null,512),[[u,l.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(n,{class:"ZoomMenos",color:"primary",size:"md",round:"",icon:"zoom_out"},null,512),[[u,l.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(n,{class:"BtOdUp",color:"primary",size:"md",round:"",icon:"keyboard_arrow_up"},null,512),[[u,()=>l.moveu("od-up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(n,{class:"BtOdDown",color:"primary",size:"md",round:"",icon:"keyboard_arrow_down"},null,512),[[u,()=>l.moveu("od-down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(n,{class:"BtOeUp",color:"primary",size:"md",round:"",icon:"keyboard_arrow_up"},null,512),[[u,()=>l.moveu("oe-up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(n,{class:"BtOeDown",color:"primary",size:"md",round:"",icon:"keyboard_arrow_down"},null,512),[[u,()=>l.moveu("oe-down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.createVNode)(d,{onResize:l.centralizaQuadroTela},null,8,["onResize"])])}],["__scopeId","data-v-3b13c5db"]]);N()(Ie,"components",{QToolbar:h.Z,QToolbarTitle:C.Z,QBtn:v.Z,QResizeObserver:O.Z}),N()(Ie,"directives",{TouchPan:j.Z,TouchRepeat:z.Z});const Se=e=>((0,a.pushScopeId)("data-v-842453b8"),e=e(),(0,a.popScopeId)(),e),Me={id:"telaMedidas"},Te={ref:"quadro",class:"Quadro"},ke=["src"],De={ref:"ods",id:"ods"},qe={ref:"odi",id:"odi"},Fe={ref:"odc",id:"odc"},Pe={ref:"oei",id:"oei"},Ae={ref:"oes",id:"oes"},Be={ref:"oec",id:"oec"},Le={ref:"tamanhoarmacao",id:"tamanhoarmacao"},Oe=Se((()=>(0,a.createElementVNode)("div",null,null,-1))),ze=Se((()=>(0,a.createElementVNode)("div",null,null,-1))),je={ref:"ponte",id:"ponte"},$e=Se((()=>(0,a.createElementVNode)("div",null,null,-1))),Ue=Se((()=>(0,a.createElementVNode)("div",null,null,-1))),Ze={ref:"diptotal",id:"diptotal"},Qe=Se((()=>(0,a.createElementVNode)("div",null,null,-1))),Re=Se((()=>(0,a.createElementVNode)("div",null,null,-1))),Ge={ref:"dnpOd",id:"dnpOd",class:"medidaHorizontal"},He=Se((()=>(0,a.createElementVNode)("div",null,null,-1))),Je=Se((()=>(0,a.createElementVNode)("div",null,null,-1))),Ye={ref:"dnpOe",id:"dnpOe",class:"medidaHorizontal"},Xe=Se((()=>(0,a.createElementVNode)("div",null,null,-1))),We=Se((()=>(0,a.createElementVNode)("div",null,null,-1))),Ke={ref:"odaltura",id:"odaltura"},eo=Se((()=>(0,a.createElementVNode)("div",null,null,-1))),oo=Se((()=>(0,a.createElementVNode)("div",null,null,-1))),to={ref:"oealtura",id:"oealtura"},ao=Se((()=>(0,a.createElementVNode)("div",null,null,-1))),io=Se((()=>(0,a.createElementVNode)("div",null,null,-1))),ro={ref:"odbifocal",id:"odbifocal"},lo=Se((()=>(0,a.createElementVNode)("div",null,null,-1))),so=Se((()=>(0,a.createElementVNode)("div",null,null,-1))),no={ref:"oebifocal",id:"oebifocal"},co=Se((()=>(0,a.createElementVNode)("div",null,null,-1))),mo=Se((()=>(0,a.createElementVNode)("div",null,null,-1))),uo={ref:"oddiagonal",id:"oddiagonal",class:"medidaVerticalAzul"},po=Se((()=>(0,a.createElementVNode)("div",null,null,-1))),ho=Se((()=>(0,a.createElementVNode)("div",null,null,-1))),Co=(0,a.createTextVNode)("Medidas"),vo={data:()=>({dbPupilometro:c.db.pupilometro,foto:"",isDown:!1,x:0,y:0,zoom:1.6,zoomAnt:0,pinca:{scaling:!1},tela:{},qtde:0}),watch:{"dbPupilometro.medidas.bifocal":function(){this.dbPupilometro.medidas.bifocal&&!this.somenteLeitura&&this.$emit("mudarTela","Bifocal")}},emits:["mudarTela"],methods:{desenha(){try{const e=this.dbPupilometro.medidas;this.$refs.ods.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top+"px",this.$refs.ods.style.left=this.dbPupilometro.medidas.olhoDireito.superior.left+"px",this.$refs.odi.style.top=this.dbPupilometro.medidas.olhoDireito.inferior.top+"px",this.$refs.odi.style.left=this.dbPupilometro.medidas.olhoDireito.inferior.left+"px",this.$refs.odc.style.top=this.dbPupilometro.medidas.olhoDireito.centroOlho.top+"px",this.$refs.odc.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.oes.style.top=this.dbPupilometro.medidas.olhoEsquerdo.superior.top+"px",this.$refs.oes.style.left=this.dbPupilometro.medidas.olhoEsquerdo.superior.left+"px",this.$refs.oei.style.top=this.dbPupilometro.medidas.olhoEsquerdo.inferior.top+"px",this.$refs.oei.style.left=this.dbPupilometro.medidas.olhoEsquerdo.inferior.left+"px",this.$refs.oec.style.top=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.top+"px",this.$refs.oec.style.left=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.left+"px",this.$refs.tamanhoarmacao.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top-120+"px",this.$refs.tamanhoarmacao.style.left=this.dbPupilometro.medidas.olhoDireito.superior.left+"px",this.$refs.tamanhoarmacao.style.width=this.dbPupilometro.medidas.olhoEsquerdo.superior.left-this.dbPupilometro.medidas.olhoDireito.superior.left+"px",this.$refs.diptotal.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top-80+"px",this.$refs.diptotal.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.diptotal.style.width=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.left-this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.dnpOd.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top-40+"px",this.$refs.dnpOd.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.dnpOd.style.width=e.tamanhoArmacaoPx/2-(e.olhoDireito.centroOlho.left-e.olhoDireito.superior.left)+"px",this.$refs.dnpOe.style.top=this.dbPupilometro.medidas.olhoEsquerdo.superior.top-40+"px",this.$refs.dnpOe.style.width=this.dbPupilometro.medidas.tamanhoArmacaoPx/2-(e.olhoEsquerdo.superior.left-e.olhoEsquerdo.centroOlho.left)+"px",this.$refs.dnpOe.style.left=this.dbPupilometro.medidas.olhoEsquerdo.superior.left-this.dbPupilometro.medidas.tamanhoArmacaoPx/2+"px",this.$refs.ponte.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top+30+"px",this.$refs.ponte.style.left=this.dbPupilometro.medidas.olhoDireito.inferior.left+"px",this.$refs.ponte.style.width=this.dbPupilometro.medidas.olhoEsquerdo.inferior.left-this.dbPupilometro.medidas.olhoDireito.inferior.left+"px",this.$refs.odaltura.style.top=this.dbPupilometro.medidas.olhoDireito.centroOlho.top+"px",this.$refs.odaltura.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left-60+"px",this.$refs.odaltura.style.height=this.dbPupilometro.medidas.olhoDireito.inferior.top-this.dbPupilometro.medidas.olhoDireito.centroOlho.top+"px",this.$refs.oealtura.style.top=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.top+"px",this.$refs.oealtura.style.left=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.left+60+"px",this.$refs.oealtura.style.height=this.dbPupilometro.medidas.olhoEsquerdo.inferior.top-this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.top+"px",this.$refs.odbifocal.style.height=e.olhoDireito.bifocalAltura+"px",this.$refs.odbifocal.style.left=e.olhoDireito.centroOlho.left+"px",this.$refs.odbifocal.style.top=e.olhoDireito.inferior.top-e.olhoDireito.bifocalAltura+"px",this.$refs.oebifocal.style.height=e.olhoEsquerdo.bifocalAltura+"px",this.$refs.oebifocal.style.left=e.olhoEsquerdo.centroOlho.left+"px",this.$refs.oebifocal.style.top=e.olhoEsquerdo.inferior.top-e.olhoEsquerdo.bifocalAltura+"px",this.$refs.oddiagonal.style.height=e.diagonal.distanciapx+"px",this.$refs.oddiagonal.style.left=e.diagonal.p2.left+"px",this.$refs.oddiagonal.style.top=e.diagonal.p2.top+"px";let o=e.diagonal.p2.left-e.diagonal.p1.left;o=Math.asin(o/e.diagonal.distanciapx)*(180/Math.PI),this.$refs.oddiagonal.style.transform=`rotate(${o}deg)`,this.$refs.oddiagonal.style["transform-origin"]="0% 0%",document.querySelector("#oddiagonal div:nth-child(1)").style.transform=`rotate(-${o}deg)`;const t=this.$refs.quadro;let a=`scale(${this.zoom.toFixed(2)})`;t.style.transform=a}catch(e){console.log(e)}},redimensiona(){const e=this.$refs.quadro;e.style.position="absolute";const o={clientWidth:document.body.clientWidth,clientHeight:window.innerHeight};if(JSON.stringify(this.tela)!==JSON.stringify(o)){this.tela=o;const e=document.body.clientWidth-20,t=window.innerHeight-60-20;this.zoom=e>t?t/1200:e/1200}e.style.top=(window.innerHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},centralizaQuadroTela(){const e=this.$refs.quadro;e.style.position="absolute",e.style.top=(window.innerHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},zoomMais(){this.zoom+=.01,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`},zoomMenos(){this.zoom-=.01,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`},btBifocal(){this.dbPupilometro.medidas.bifocal=!this.dbPupilometro.medidas.bifocal,this.dbPupilometro.medidas.bifocal&&this.$emit("mudarTela","Bifocal")},touch(e){let o=0;try{o=e.evt.touches.length}catch{}if(this.qtde=o,this.pinca.scaling||2!==o&&Math.abs(e.delta.x+e.delta.y)<=20&&(this.$refs.quadro.style.left=parseFloat(this.$refs.quadro.style.left)+e.delta.x+"px",this.$refs.quadro.style.top=parseFloat(this.$refs.quadro.style.top)+e.delta.y+"px"),this.pinca.scaling||2!==o||(this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&0===o&&setTimeout((()=>{this.pinca.scaling=!1}),250),this.pinca.scaling&&2===o)try{const o=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+o/1e3,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`}catch{}},btProximo(){this.$emit("mudarTela","Fim")},btAnterior(){this.dbPupilometro.medidas.bifocal?this.$emit("mudarTela","Bifocal"):this.$emit("mudarTela","Diagonal")}},props:{somenteLeitura:Boolean},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.redimensiona()}},fo=(0,m.Z)(vo,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-resize-observer"),m=(0,a.resolveDirective)("touch-pan"),u=(0,a.resolveDirective)("touch-repeat");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Me,[(0,a.createElementVNode)("div",Te,[(0,a.withDirectives)((0,a.createElementVNode)("img",{ref:"foto",class:"Foto",src:r.dbPupilometro.foto},null,8,ke),[[m,l.touch,void 0,{prevent:!0,stop:!0,mouse:!0}]]),(0,a.createElementVNode)("div",De,null,512),(0,a.createElementVNode)("div",qe,null,512),(0,a.createElementVNode)("div",Fe,null,512),(0,a.createElementVNode)("div",Pe,null,512),(0,a.createElementVNode)("div",Ae,null,512),(0,a.createElementVNode)("div",Be,null,512),(0,a.createElementVNode)("div",Le,[(0,a.createElementVNode)("div",null,(0,a.toDisplayString)(e.$filters.numero(r.dbPupilometro.medidas.tamanhoArmacao,1)),1),Oe,ze],512),(0,a.createElementVNode)("div",je,[(0,a.createElementVNode)("div",null,(0,a.toDisplayString)(e.$filters.numero(r.dbPupilometro.medidas.ponte,1)),1),$e,Ue],512),(0,a.createElementVNode)("div",Ze,[(0,a.createElementVNode)("div",null,(0,a.toDisplayString)(e.$filters.numero(r.dbPupilometro.medidas.dip.total,1)),1),Qe,Re],512),(0,a.createElementVNode)("div",Ge,[(0,a.createElementVNode)("div",null,(0,a.toDisplayString)(e.$filters.numero(r.dbPupilometro.medidas.dnp.od,1)),1),He,Je],512),(0,a.createElementVNode)("div",Ye,[(0,a.createElementVNode)("div",null,(0,a.toDisplayString)(e.$filters.numero(r.dbPupilometro.medidas.dnp.oe,1)),1),Xe,We],512),(0,a.createElementVNode)("div",Ke,[(0,a.createElementVNode)("div",null,(0,a.toDisplayString)(e.$filters.numero(r.dbPupilometro.medidas.dip.od.altura,1)),1),eo,oo],512),(0,a.createElementVNode)("div",to,[(0,a.createElementVNode)("div",null,(0,a.toDisplayString)(e.$filters.numero(r.dbPupilometro.medidas.dip.oe.altura,1)),1),ao,io],512),(0,a.withDirectives)((0,a.createElementVNode)("div",ro,[(0,a.createElementVNode)("div",null,(0,a.toDisplayString)(e.$filters.numero(r.dbPupilometro.medidas.bifocalOlhoDireito,1)),1),lo,so],512),[[a.vShow,r.dbPupilometro.medidas.bifocal]]),(0,a.withDirectives)((0,a.createElementVNode)("div",no,[(0,a.createElementVNode)("div",null,(0,a.toDisplayString)(e.$filters.numero(r.dbPupilometro.medidas.bifocalOlhoEsquerdo,1)),1),co,mo],512),[[a.vShow,r.dbPupilometro.medidas.bifocal]]),(0,a.createElementVNode)("div",uo,[(0,a.createElementVNode)("div",null,(0,a.toDisplayString)(e.$filters.numero(r.dbPupilometro.medidas.diagonal.distancia,1)),1),po,ho],512)],512),(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[Co])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{flat:"",round:"",dense:"",icon:"fast_rewind",onClick:l.btAnterior},null,8,["onClick"]),[[a.vShow,!t.somenteLeitura]]),(0,a.createVNode)(n,{flat:"",round:"",dense:"",icon:"fast_forward",onClick:l.btProximo},null,8,["onClick"])])),_:1}),(0,a.withDirectives)((0,a.createVNode)(n,{class:"ZoomMais",color:"primary",size:"md",round:"",icon:"zoom_in"},null,512),[[u,l.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(n,{class:"ZoomMenos",color:"primary",size:"md",round:"",icon:"zoom_out"},null,512),[[u,l.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),(0,a.withDirectives)((0,a.createVNode)(n,{class:"Bifocal",onClick:l.btBifocal,color:"primary",label:"Bifocal"},null,8,["onClick"]),[[a.vShow,!t.somenteLeitura]]),(0,a.createVNode)(d,{onResize:l.centralizaQuadroTela},null,8,["onResize"])])}],["__scopeId","data-v-842453b8"]]);N()(vo,"components",{QToolbar:h.Z,QToolbarTitle:C.Z,QBtn:v.Z,QResizeObserver:O.Z}),N()(vo,"directives",{TouchPan:j.Z,TouchRepeat:z.Z});const No=(0,a.createTextVNode)("Palpebra"),Vo={data:()=>({dbPupilometro:c.db.pupilometro}),emits:["mudarTela"],methods:{btProximo(){this.$emit("mudarTela","Medidas")},btAnterior(){this.$emit("mudarTela","Medidas")}}},go=(0,m.Z)(Vo,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("q-toolbar-title"),n=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(c,{class:"bg-primary text-white"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[No])),_:1}),(0,a.createVNode)(n,{flat:"",round:"",dense:"",icon:"fast_rewind",onClick:l.btAnterior},null,8,["onClick"]),(0,a.createVNode)(n,{flat:"",round:"",dense:"",icon:"fast_forward",onClick:l.btProximo},null,8,["onClick"])])),_:1}),(0,a.createElementVNode)("pre",null,(0,a.toDisplayString)(JSON.stringify(r.dbPupilometro.medidas,null,2)),1)])}]]);N()(Vo,"components",{QToolbar:h.Z,QToolbarTitle:C.Z,QBtn:v.Z});const xo={components:{TirarFoto:V,TamanhoFoto:$,TamanhoArmacao:G,Olho:le,Diagonal:he,Bifocal:Ee,Medidas:fo,Palpebra:go},data:()=>({tela:""}),emits:["fecharModal"],methods:{async mudarTela(e){"Fim"!==e?(this.tela=e,"Olho"===e&&(await new Promise((e=>setTimeout(e,500))),this.$refs.Olho.desenha()),"Medidas"===e&&(await new Promise((e=>setTimeout(e,500))),this.$refs.Medidas.desenha())):this.$emit("fecharModal")},upload(){this.$refs.TamanhoFoto.uploadClick()}},props:{avancar:String,somenteLeitura:Boolean},created(){this.tela=this.avancar||"TirarFoto"}},bo=(0,m.Z)(xo,[["render",function(e,o,t,i,r,l){const s=(0,a.resolveComponent)("tirar-foto"),n=(0,a.resolveComponent)("tamanho-foto"),c=(0,a.resolveComponent)("tamanho-armacao"),d=(0,a.resolveComponent)("olho"),m=(0,a.resolveComponent)("diagonal"),u=(0,a.resolveComponent)("bifocal"),p=(0,a.resolveComponent)("medidas"),h=(0,a.resolveComponent)("palpebra");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,["TirarFoto"===r.tela?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,onMudarTela:l.mudarTela,onUpload:l.upload},null,8,["onMudarTela","onUpload"])):(0,a.createCommentVNode)("",!0),(0,a.withDirectives)((0,a.createVNode)(n,{ref:"TamanhoFoto",onMudarTela:l.mudarTela},null,8,["onMudarTela"]),[[a.vShow,"TamanhoFoto"===r.tela]]),(0,a.withDirectives)((0,a.createVNode)(c,{ref:"TamanhoArmacao",onMudarTela:l.mudarTela},null,8,["onMudarTela"]),[[a.vShow,"TamanhoArmacao"===r.tela]]),(0,a.withDirectives)((0,a.createVNode)(d,{ref:"Olho",onMudarTela:l.mudarTela},null,8,["onMudarTela"]),[[a.vShow,"Olho"===r.tela]]),(0,a.withDirectives)((0,a.createVNode)(m,{onMudarTela:l.mudarTela},null,8,["onMudarTela"]),[[a.vShow,"Diagonal"===r.tela]]),(0,a.withDirectives)((0,a.createVNode)(u,{onMudarTela:l.mudarTela},null,8,["onMudarTela"]),[[a.vShow,"Bifocal"===r.tela]]),(0,a.withDirectives)((0,a.createVNode)(p,{ref:"Medidas",somenteLeitura:t.somenteLeitura,onMudarTela:l.mudarTela},null,8,["somenteLeitura","onMudarTela"]),[[a.vShow,"Medidas"===r.tela]]),(0,a.withDirectives)((0,a.createVNode)(h,{ref:"Palpebra",onMudarTela:l.mudarTela},null,8,["onMudarTela"]),[[a.vShow,"Palpebra"===r.tela]])])}]])},46700:(e,o,t)=>{var a={"./af":5809,"./af.js":5809,"./ar":46069,"./ar-dz":70481,"./ar-dz.js":70481,"./ar-kw":93994,"./ar-kw.js":93994,"./ar-ly":33312,"./ar-ly.js":33312,"./ar-ma":90239,"./ar-ma.js":90239,"./ar-sa":31863,"./ar-sa.js":31863,"./ar-tn":19607,"./ar-tn.js":19607,"./ar.js":46069,"./az":69281,"./az.js":69281,"./be":29945,"./be.js":29945,"./bg":59384,"./bg.js":59384,"./bm":21476,"./bm.js":21476,"./bn":43345,"./bn-bd":70216,"./bn-bd.js":70216,"./bn.js":43345,"./bo":81713,"./bo.js":81713,"./br":19655,"./br.js":19655,"./bs":87296,"./bs.js":87296,"./ca":43049,"./ca.js":43049,"./cs":62722,"./cs.js":62722,"./cv":98039,"./cv.js":98039,"./cy":95563,"./cy.js":95563,"./da":31960,"./da.js":31960,"./de":67533,"./de-at":76674,"./de-at.js":76674,"./de-ch":17732,"./de-ch.js":17732,"./de.js":67533,"./dv":78343,"./dv.js":78343,"./el":37004,"./el.js":37004,"./en-au":32517,"./en-au.js":32517,"./en-ca":84929,"./en-ca.js":84929,"./en-gb":99722,"./en-gb.js":99722,"./en-ie":96923,"./en-ie.js":96923,"./en-il":68050,"./en-il.js":68050,"./en-in":99624,"./en-in.js":99624,"./en-nz":70540,"./en-nz.js":70540,"./en-sg":14375,"./en-sg.js":14375,"./eo":10040,"./eo.js":10040,"./es":99720,"./es-do":25595,"./es-do.js":25595,"./es-mx":10180,"./es-mx.js":10180,"./es-us":61563,"./es-us.js":61563,"./es.js":99720,"./et":9217,"./et.js":9217,"./eu":39474,"./eu.js":39474,"./fa":85243,"./fa.js":85243,"./fi":57645,"./fi.js":57645,"./fil":55350,"./fil.js":55350,"./fo":75622,"./fo.js":75622,"./fr":91467,"./fr-ca":53439,"./fr-ca.js":53439,"./fr-ch":14335,"./fr-ch.js":14335,"./fr.js":91467,"./fy":86026,"./fy.js":86026,"./ga":32969,"./ga.js":32969,"./gd":21347,"./gd.js":21347,"./gl":11085,"./gl.js":11085,"./gom-deva":904,"./gom-deva.js":904,"./gom-latn":69597,"./gom-latn.js":69597,"./gu":28705,"./gu.js":28705,"./he":69128,"./he.js":69128,"./hi":92821,"./hi.js":92821,"./hr":9002,"./hr.js":9002,"./hu":94814,"./hu.js":94814,"./hy-am":30658,"./hy-am.js":30658,"./id":29344,"./id.js":29344,"./is":28204,"./is.js":28204,"./it":70376,"./it-ch":81549,"./it-ch.js":81549,"./it.js":70376,"./ja":69293,"./ja.js":69293,"./jv":96401,"./jv.js":96401,"./ka":60482,"./ka.js":60482,"./kk":87329,"./kk.js":87329,"./km":44241,"./km.js":44241,"./kn":23566,"./kn.js":23566,"./ko":52742,"./ko.js":52742,"./ku":92915,"./ku.js":92915,"./ky":86846,"./ky.js":86846,"./lb":44959,"./lb.js":44959,"./lo":82188,"./lo.js":82188,"./lt":58967,"./lt.js":58967,"./lv":41245,"./lv.js":41245,"./me":90751,"./me.js":90751,"./mi":57501,"./mi.js":57501,"./mk":11643,"./mk.js":11643,"./ml":15597,"./ml.js":15597,"./mn":67612,"./mn.js":67612,"./mr":19065,"./mr.js":19065,"./ms":84703,"./ms-my":84645,"./ms-my.js":84645,"./ms.js":84703,"./mt":64365,"./mt.js":64365,"./my":83788,"./my.js":83788,"./nb":57357,"./nb.js":57357,"./ne":99109,"./ne.js":99109,"./nl":63746,"./nl-be":31985,"./nl-be.js":31985,"./nl.js":63746,"./nn":27175,"./nn.js":27175,"./oc-lnc":70566,"./oc-lnc.js":70566,"./pa-in":32733,"./pa-in.js":32733,"./pl":182,"./pl.js":182,"./pt":505,"./pt-br":17839,"./pt-br.js":17839,"./pt.js":505,"./ro":39578,"./ro.js":39578,"./ru":32328,"./ru.js":32328,"./sd":641,"./sd.js":641,"./se":51758,"./se.js":51758,"./si":36680,"./si.js":36680,"./sk":25016,"./sk.js":25016,"./sl":7424,"./sl.js":7424,"./sq":88635,"./sq.js":88635,"./sr":49038,"./sr-cyrl":73716,"./sr-cyrl.js":73716,"./sr.js":49038,"./ss":64771,"./ss.js":64771,"./sv":3517,"./sv.js":3517,"./sw":39419,"./sw.js":39419,"./ta":55959,"./ta.js":55959,"./te":21739,"./te.js":21739,"./tet":22264,"./tet.js":22264,"./tg":94792,"./tg.js":94792,"./th":88328,"./th.js":88328,"./tk":60702,"./tk.js":60702,"./tl-ph":57814,"./tl-ph.js":57814,"./tlh":10797,"./tlh.js":10797,"./tr":16691,"./tr.js":16691,"./tzl":76891,"./tzl.js":76891,"./tzm":16362,"./tzm-latn":37855,"./tzm-latn.js":37855,"./tzm.js":16362,"./ug-cn":77606,"./ug-cn.js":77606,"./uk":30513,"./uk.js":30513,"./ur":43803,"./ur.js":43803,"./uz":60344,"./uz-latn":8957,"./uz-latn.js":8957,"./uz.js":60344,"./vi":70003,"./vi.js":70003,"./x-pseudo":8842,"./x-pseudo.js":8842,"./yo":62083,"./yo.js":62083,"./zh-cn":84536,"./zh-cn.js":84536,"./zh-hk":92475,"./zh-hk.js":92475,"./zh-mo":67593,"./zh-mo.js":67593,"./zh-tw":4746,"./zh-tw.js":4746};function i(e){var o=r(e);return t(o)}function r(e){if(!t.o(a,e)){var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=46700},60223:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhbWFkYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSItMjU0IDM3MS43IDEwMS4xIDQ5LjEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgLTI1NCAzNzEuNyAxMDEuMSA0OS4xOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I2ZmZjt9Cgkuc3Qxe29wYWNpdHk6MC41O2ZpbGw6I2ZmZjtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTS0yMTQuMiw0MDAuNmgxMC43YzAuMiwwLDAuMy0wLjEsMC4zLTAuM3YtOC41YzAtMC4yLTAuMS0wLjMtMC4zLTAuM2gtMTAuN2MtMC4yLDAtMC4zLDAuMS0wLjMsMC4zdjguNQoJQy0yMTQuNSw0MDAuNS0yMTQuMyw0MDAuNi0yMTQuMiw0MDAuNnoiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTS0yMDQuMiwzNzYuN2gxNHY0My40YzAsMC41LTAuMiwwLjctMC43LDAuN2gtNy45Yy0wLjUsMC0wLjctMC4yLTAuNy0wLjd2LTM5YzAtMC41LTAuMi0wLjctMC43LTAuN2gtMy4zCgljLTAuNSwwLTAuNy0wLjItMC43LTAuN0wtMjA0LjIsMzc2LjdMLTIwNC4yLDM3Ni43eiIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNLTE4Ni4yLDM3Ni43aDMwLjZ2M2MwLDAuNS0wLjIsMC43LTAuNywwLjdoLTE5Yy0wLjUsMC0wLjcsMC4yLTAuNywwLjd2OC43YzAsMC41LDAuMiwwLjcsMC43LDAuN2g2LjkKCWMzLjUsMCw2LjMsMC41LDguNCwxLjRjMi4xLDEsMy42LDIuMSw0LjcsMy42YzEsMS40LDEuNywzLDIsNC45YzAuMywxLjgsMC40LDMuNSwwLjQsNS4xYzAsMi4xLTAuMyw0LjEtMC45LDYKCWMtMC42LDEuOS0xLjQsMy41LTIuNyw0LjljLTEuMiwxLjQtMi44LDIuNS00LjgsMy4yYy0xLjksMC44LTQuMywxLjItNy4xLDEuMmgtMTcuMmMtMC41LDAtMC43LTAuMi0wLjctMC43di03LjEKCWMwLTAuNSwwLjItMC43LDAuNy0wLjdoMTYuMmMxLjUsMCwyLjktMC42LDQtMS43YzEuMS0xLjEsMS44LTIuOSwxLjgtNS4xYzAtMS40LTAuMi0yLjUtMC41LTMuM2MtMC4zLTAuOS0wLjgtMS40LTEuMy0xLjgKCWMtMC42LTAuNC0xLjEtMC43LTEuOS0wLjhjLTAuNy0wLjEtMS40LTAuMi0yLjItMC4yaC0xNi4xYy0wLjUsMC0wLjctMC4yLTAuNy0wLjdWMzc2LjdMLTE4Ni4yLDM3Ni43eiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNLTI1MS40LDM3Mi42YzAtMC41LDAuMi0wLjcsMC43LTAuN2gyNC43YzEuNiwwLDMuMSwwLjMsNC42LDAuOWMxLjQsMC42LDIuNiwxLjMsMy42LDIuNGMwLjUsMC41LDEsMSwxLjMsMS42CgloLTM0LjlWMzcyLjZMLTI1MS40LDM3Mi42eiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNLTE4Ny42LDM3Ni43di0yLjNjMC0wLjktMC4yLTEuNC0wLjctMS45Yy0wLjUtMC40LTEuMS0wLjYtMS45LTAuNkgtMjAxYy0wLjUsMC0wLjcsMC4yLTAuNywwLjd2NC4xSC0xODcuNgoJTC0xODcuNiwzNzYuN3oiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTS0xNTMsMzc2Ljd2LTQuMWMwLTAuNS0wLjItMC43LTAuNy0wLjdILTE4M2MtMC41LDAtMC43LDAuMi0wLjcsMC43djQuMUgtMTUzeiIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNLTIxNS44LDQwMy42Yy0wLjEtMC42LTAuMi0xLjEtMC40LTEuN2MtMC4yLTAuNi0wLjQtMS4xLTAuNy0xLjdjLTAuMy0wLjYtMC42LTEtMC45LTEuNAoJYy0wLjktMS0xLjctMS43LTIuNC0yLjVjLTAuNy0wLjgtMS0xLjItMS0xLjRjMC0wLjEsMC4yLTAuMywwLjYtMC42YzAuNS0wLjMsMC45LTAuOCwxLjQtMS41YzAuNi0wLjgsMS0xLjgsMS40LTMuMgoJYzAuNC0xLjQsMC42LTMuMywwLjYtNS44YzAtMS45LTAuMy0zLjUtMC45LTVjLTAuNC0wLjgtMC44LTEuNC0xLjEtMi4xSC0yNTR2NDMuNGMwLDAuNSwwLjIsMC43LDAuNywwLjdoMjQuMwoJYzIuNywwLDQuOC0wLjQsNi41LTEuMmMxLjYtMC44LDMtMS45LDQuMS0zLjRjMS0xLjQsMS44LTMsMi4yLTVjMC40LTEuOSwwLjYtMy45LDAuNi02LjFDLTIxNS43LDQwNC43LTIxNS43LDQwNC4yLTIxNS44LDQwMy42egoJIE0tMjQ0LDM5MC44di05LjRjMC0wLjUsMC4yLTAuNywwLjctMC43aDExLjdjMS4zLDAsMi41LDAuNCwzLjUsMS4xYzEsMC44LDEuNSwyLjEsMS41LDQuMWMwLDIuMS0wLjQsMy41LTEuMSw0LjMKCWMtMC44LDAuOS0yLjEsMS4yLTMuOSwxLjJoLTExLjhDLTI0My45LDM5MS40LTI0NC4xLDM5MS4yLTI0NCwzOTAuOEwtMjQ0LDM5MC44eiBNLTIyNS4xLDQwNy45Yy0wLjEsMC43LTAuNCwxLjMtMC43LDEuOQoJYy0wLjMsMC42LTAuOCwxLjEtMS4yLDEuNWMtMC41LDAuNC0xLjEsMC42LTEuOSwwLjZoLTE0LjVjLTAuNSwwLTAuNy0wLjItMC43LTAuN2gwLjF2LTEwYzAtMC41LDAuMi0wLjcsMC43LTAuN2gxNC40CgljMC40LDAsMC45LDAuMSwxLjMsMC4zYzAuNSwwLjIsMSwwLjUsMS4zLDAuOWMwLjQsMC41LDAuNywxLDEsMS43YzAuMywwLjgsMC40LDEuNiwwLjQsMi43Qy0yMjUsNDA2LjctMjI1LDQwNy4yLTIyNS4xLDQwNy45eiIvPgo8L3N2Zz4K"},40392:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhbWFkYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSItMjU0IDM3MS43IDEwMS4xIDQ5LjEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgLTI1NCAzNzEuNyAxMDEuMSA0OS4xOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzAwOThEQjt9Cgkuc3Qxe29wYWNpdHk6MC41O2ZpbGw6IzAwOThEQjtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTS0yMTQuMiw0MDAuNmgxMC43YzAuMiwwLDAuMy0wLjEsMC4zLTAuM3YtOC41YzAtMC4yLTAuMS0wLjMtMC4zLTAuM2gtMTAuN2MtMC4yLDAtMC4zLDAuMS0wLjMsMC4zdjguNQoJQy0yMTQuNSw0MDAuNS0yMTQuMyw0MDAuNi0yMTQuMiw0MDAuNnoiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTS0yMDQuMiwzNzYuN2gxNHY0My40YzAsMC41LTAuMiwwLjctMC43LDAuN2gtNy45Yy0wLjUsMC0wLjctMC4yLTAuNy0wLjd2LTM5YzAtMC41LTAuMi0wLjctMC43LTAuN2gtMy4zCgljLTAuNSwwLTAuNy0wLjItMC43LTAuN0wtMjA0LjIsMzc2LjdMLTIwNC4yLDM3Ni43eiIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNLTE4Ni4yLDM3Ni43aDMwLjZ2M2MwLDAuNS0wLjIsMC43LTAuNywwLjdoLTE5Yy0wLjUsMC0wLjcsMC4yLTAuNywwLjd2OC43YzAsMC41LDAuMiwwLjcsMC43LDAuN2g2LjkKCWMzLjUsMCw2LjMsMC41LDguNCwxLjRjMi4xLDEsMy42LDIuMSw0LjcsMy42YzEsMS40LDEuNywzLDIsNC45YzAuMywxLjgsMC40LDMuNSwwLjQsNS4xYzAsMi4xLTAuMyw0LjEtMC45LDYKCWMtMC42LDEuOS0xLjQsMy41LTIuNyw0LjljLTEuMiwxLjQtMi44LDIuNS00LjgsMy4yYy0xLjksMC44LTQuMywxLjItNy4xLDEuMmgtMTcuMmMtMC41LDAtMC43LTAuMi0wLjctMC43di03LjEKCWMwLTAuNSwwLjItMC43LDAuNy0wLjdoMTYuMmMxLjUsMCwyLjktMC42LDQtMS43YzEuMS0xLjEsMS44LTIuOSwxLjgtNS4xYzAtMS40LTAuMi0yLjUtMC41LTMuM2MtMC4zLTAuOS0wLjgtMS40LTEuMy0xLjgKCWMtMC42LTAuNC0xLjEtMC43LTEuOS0wLjhjLTAuNy0wLjEtMS40LTAuMi0yLjItMC4yaC0xNi4xYy0wLjUsMC0wLjctMC4yLTAuNy0wLjdWMzc2LjdMLTE4Ni4yLDM3Ni43eiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNLTI1MS40LDM3Mi42YzAtMC41LDAuMi0wLjcsMC43LTAuN2gyNC43YzEuNiwwLDMuMSwwLjMsNC42LDAuOWMxLjQsMC42LDIuNiwxLjMsMy42LDIuNGMwLjUsMC41LDEsMSwxLjMsMS42CgloLTM0LjlWMzcyLjZMLTI1MS40LDM3Mi42eiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNLTE4Ny42LDM3Ni43di0yLjNjMC0wLjktMC4yLTEuNC0wLjctMS45Yy0wLjUtMC40LTEuMS0wLjYtMS45LTAuNkgtMjAxYy0wLjUsMC0wLjcsMC4yLTAuNywwLjd2NC4xSC0xODcuNgoJTC0xODcuNiwzNzYuN3oiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTS0xNTMsMzc2Ljd2LTQuMWMwLTAuNS0wLjItMC43LTAuNy0wLjdILTE4M2MtMC41LDAtMC43LDAuMi0wLjcsMC43djQuMUgtMTUzeiIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNLTIxNS44LDQwMy42Yy0wLjEtMC42LTAuMi0xLjEtMC40LTEuN2MtMC4yLTAuNi0wLjQtMS4xLTAuNy0xLjdjLTAuMy0wLjYtMC42LTEtMC45LTEuNAoJYy0wLjktMS0xLjctMS43LTIuNC0yLjVjLTAuNy0wLjgtMS0xLjItMS0xLjRjMC0wLjEsMC4yLTAuMywwLjYtMC42YzAuNS0wLjMsMC45LTAuOCwxLjQtMS41YzAuNi0wLjgsMS0xLjgsMS40LTMuMgoJYzAuNC0xLjQsMC42LTMuMywwLjYtNS44YzAtMS45LTAuMy0zLjUtMC45LTVjLTAuNC0wLjgtMC44LTEuNC0xLjEtMi4xSC0yNTR2NDMuNGMwLDAuNSwwLjIsMC43LDAuNywwLjdoMjQuMwoJYzIuNywwLDQuOC0wLjQsNi41LTEuMmMxLjYtMC44LDMtMS45LDQuMS0zLjRjMS0xLjQsMS44LTMsMi4yLTVjMC40LTEuOSwwLjYtMy45LDAuNi02LjFDLTIxNS43LDQwNC43LTIxNS43LDQwNC4yLTIxNS44LDQwMy42egoJIE0tMjQ0LDM5MC44di05LjRjMC0wLjUsMC4yLTAuNywwLjctMC43aDExLjdjMS4zLDAsMi41LDAuNCwzLjUsMS4xYzEsMC44LDEuNSwyLjEsMS41LDQuMWMwLDIuMS0wLjQsMy41LTEuMSw0LjMKCWMtMC44LDAuOS0yLjEsMS4yLTMuOSwxLjJoLTExLjhDLTI0My45LDM5MS40LTI0NC4xLDM5MS4yLTI0NCwzOTAuOEwtMjQ0LDM5MC44eiBNLTIyNS4xLDQwNy45Yy0wLjEsMC43LTAuNCwxLjMtMC43LDEuOQoJYy0wLjMsMC42LTAuOCwxLjEtMS4yLDEuNWMtMC41LDAuNC0xLjEsMC42LTEuOSwwLjZoLTE0LjVjLTAuNSwwLTAuNy0wLjItMC43LTAuN2gwLjF2LTEwYzAtMC41LDAuMi0wLjcsMC43LTAuN2gxNC40CgljMC40LDAsMC45LDAuMSwxLjMsMC4zYzAuNSwwLjIsMSwwLjUsMS4zLDAuOWMwLjQsMC41LDAuNywxLDEsMS43YzAuMywwLjgsMC40LDEuNiwwLjQsMi43Qy0yMjUsNDA2LjctMjI1LDQwNy4yLTIyNS4xLDQwNy45eiIvPgo8L3N2Zz4K"},99951:(e,o,t)=>{e.exports=t.p+"img/banner-tocos.5858e7e0.jpg"},36709:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RTE5QjRFQzg3MDkwMTFFNjkyMTk5QzY3NTUyOEVDNzgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RTE5QjRFQzk3MDkwMTFFNjkyMTk5QzY3NTUyOEVDNzgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFMTlCNEVDNjcwOTAxMUU2OTIxOTlDNjc1NTI4RUM3OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFMTlCNEVDNzcwOTAxMUU2OTIxOTlDNjc1NTI4RUM3OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuYO8KwAAAEQSURBVHjaYvr//z8DEIsD8Xwg/vifOuA3EO8GYlOQ+SwMDAySQHwciOUZqAdA5roAsR0QezMBiXYqW4AM2IB4DsiSIAbaAnmQt3gpMOAtEK8H4qdIYgpAHI8eduSCVUCcCsSf0MQdqGXJfiCOAuK/xChmItOSAmItINcn14H4EhKfC4gToCkJBFSoYcldNH4KEE+kdnChB5MQtYLrEDSpYvPJDiD+gMQHBVc2igoiy6IJ0DKOGOyArpmJgQ6ALpYQGycWQNwAZd8A4hVoOdwBrVhhICdOkMEGtDhoIKRh+MTJ8LLkMz0sWUdjOx6CLKkEMWhkwS9QKQ2y5DkQmwPxAixVKbngDxDvAWIbEA0QYAB5cTubkaeFUAAAAABJRU5ErkJggg=="},16212:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMTIxIDQ4MCAyNDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAxMjEgNDgwIDI0MDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiM0QTQ4NDA7fQoJLnN0MXtvcGFjaXR5OjAuMztmaWxsOnVybCgjU1ZHSURfMV8pO2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7fQoJLnN0MntvcGFjaXR5OjAuMztmaWxsOnVybCgjU1ZHSURfMl8pO2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7fQoJLnN0M3tmaWxsOnVybCgjU1ZHSURfM18pO30KCS5zdDR7ZmlsbDp1cmwoI1NWR0lEXzRfKTt9Cgkuc3Q1e2ZpbGw6dXJsKCNTVkdJRF81Xyk7fQoJLnN0NntmaWxsOnVybCgjU1ZHSURfNl8pO30KCS5zdDd7ZmlsbDojMDEwMTAxO30KCS5zdDh7ZmlsbDp1cmwoI1NWR0lEXzdfKTt9Cgkuc3Q5e2ZpbGw6IzY3Njc2Nzt9Cgkuc3QxMHtmaWxsOiMwMjAzMDM7fQoJLnN0MTF7ZmlsbDp1cmwoI1NWR0lEXzhfKTt9Cjwvc3R5bGU+Cjxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iMy4xLDI1MSAyNi4xLDI3OCAyNi4xLDI4MC4xIDUyLjYsMjQ5LjcgNTAuNSwyNDcuOCAyOSwyNzIuMyAyOSwyMTYuNCAyNi4xLDIxNi40IDI2LjEsMjczLjYgCgk1LjMsMjQ5LjIgIi8+Cjxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iMy4xLDE3NSAyNi4xLDE0OCAyNi4xLDE0Ni4xIDUyLjYsMTc2LjUgNTAuNSwxNzguNCAyOSwxNTMuOSAyOSwyNTAuMSAyNi4xLDI1MC4xIDI2LjEsMTUyLjYgNS4zLDE3NyAKCSIvPgo8Zz4KCQoJCTxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iODAuMzA2NSIgeTE9IjI1Ny42NTY5IiB4Mj0iMTY0LjA4NzMiIHkyPSIyNTcuNjU2OSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAtMSAwIDQ4NCkiPgoJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNGM0VERTUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjYxMjYiIHN0eWxlPSJzdG9wLWNvbG9yOiM2OTY0NjIiLz4KCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojMzMzMzMzIi8+Cgk8L2xpbmVhckdyYWRpZW50PgoJPHBhdGggY2xhc3M9InN0MSIgZD0iTTE1OS41LDIxNC4zYzAsMCw1LjQsMC4yLDQuNiwyYy0wLjgsMS44LTguNSw1LjItMTUuMiw1LjZjLTYuNywwLjMtMjkuOCwxLTQxLjIsNS40CgkJYy0xMS41LDQuNC0yMS4xLDExLjEtMjEuMSwxMS4xbC02LjItNS4xYzAsMCwyOS45LTExLjcsNDEuOS0xMi42QzE0OS4zLDIxOC43LDE1Mi41LDIxNCwxNTkuNSwyMTQuM3oiLz4KCQoJCTxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMl8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMzE0LjU4MzYiIHkxPSIyNTcuNjU2OSIgeDI9IjM5OC4zNjQ0IiB5Mj0iMjU3LjY1NjkiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIC0xIDc1My42ODM2IDQ4NCkiPgoJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNGM0VERTUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjYxMjYiIHN0eWxlPSJzdG9wLWNvbG9yOiM2OTY0NjIiLz4KCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojMzMzMzMzIi8+Cgk8L2xpbmVhckdyYWRpZW50PgoJPHBhdGggY2xhc3M9InN0MiIgZD0iTTM2MCwyMTQuM2MwLDAtNS40LDAuMi00LjYsMnM4LjUsNS4yLDE1LjIsNS42YzYuNywwLjMsMjkuOCwxLDQxLjIsNS40YzExLjUsNC40LDIxLjEsMTEuMSwyMS4xLDExLjFsNi4yLTUuMQoJCWMwLDAtMjkuOS0xMS43LTQxLjktMTIuNkMzNzAuMSwyMTguNywzNjcsMjE0LDM2MCwyMTQuM3oiLz4KCQoJCTxyYWRpYWxHcmFkaWVudCBpZD0iU1ZHSURfM18iIGN4PSIyMTcuMzc4MiIgY3k9Ii0xNzc3MTYuMTg3NSIgcj0iNDUuMTIzMyIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxLjk4MTcgMCAwIC02LjUwNzUwMGUtMDAyIC0yNzkuOTc4MyAtMTEyODQuODgwOSkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojMzMzMzMzIi8+CgkJPHN0b3AgIG9mZnNldD0iMC4yMTA5IiBzdHlsZT0ic3RvcC1jb2xvcjojNUI1NzU1Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC40NzI4IiBzdHlsZT0ic3RvcC1jb2xvcjojOTA4QTg3Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC43MDEzIiBzdHlsZT0ic3RvcC1jb2xvcjojQzBCQUI1Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC44ODQ2IiBzdHlsZT0ic3RvcC1jb2xvcjojRTJEREQ1Ii8+CgkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0YzRURFNSIvPgoJPC9yYWRpYWxHcmFkaWVudD4KCTxlbGxpcHNlIGNsYXNzPSJzdDMiIGN4PSIxNTAuOCIgY3k9IjI4MCIgcng9IjkwLjUiIHJ5PSIzLjIiLz4KCQoJCTxyYWRpYWxHcmFkaWVudCBpZD0iU1ZHSURfNF8iIGN4PSIyMzkuNzU1NSIgY3k9Ii0xNzY3NTQuMDc4MSIgcj0iNDUuMTU2MiIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgwLjc2MzYgMCAwIC02LjUwNzUwMGUtMDAyIC0yNy42NzczIC0xMTI4NC44ODA5KSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgoJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiMzMzMzMzMiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjIxMDkiIHN0eWxlPSJzdG9wLWNvbG9yOiM1QjU3NTUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjQ3MjgiIHN0eWxlPSJzdG9wLWNvbG9yOiM5MDhBODciLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjcwMTMiIHN0eWxlPSJzdG9wLWNvbG9yOiNDMEJBQjUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjg4NDYiIHN0eWxlPSJzdG9wLWNvbG9yOiNFMkRERDUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRjNFREU1Ii8+Cgk8L3JhZGlhbEdyYWRpZW50PgoJPGVsbGlwc2UgY2xhc3M9InN0NCIgY3g9IjE1NS40IiBjeT0iMjE3LjQiIHJ4PSIzNC45IiByeT0iMy4yIi8+CgkKCQk8cmFkaWFsR3JhZGllbnQgaWQ9IlNWR0lEXzVfIiBjeD0iNTEzLjU5IiBjeT0iLTE3Njc1NC4wNzgxIiByPSI0NS4xNDc4IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDAuNzYzNiAwIDAgLTYuNTA3NTAwZS0wMDIgLTI3LjY3NzMgLTExMjg0Ljg4MDkpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CgkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6IzMzMzMzMyIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuMjEwOSIgc3R5bGU9InN0b3AtY29sb3I6IzVCNTc1NSIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNDcyOCIgc3R5bGU9InN0b3AtY29sb3I6IzkwOEE4NyIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNzAxMyIgc3R5bGU9InN0b3AtY29sb3I6I0MwQkFCNSIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuODg0NiIgc3R5bGU9InN0b3AtY29sb3I6I0UyRERENSIvPgoJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNGM0VERTUiLz4KCTwvcmFkaWFsR3JhZGllbnQ+Cgk8ZWxsaXBzZSBjbGFzcz0ic3Q1IiBjeD0iMzY0LjUiIGN5PSIyMTcuNCIgcng9IjM0LjkiIHJ5PSIzLjIiLz4KCQoJCTxyYWRpYWxHcmFkaWVudCBpZD0iU1ZHSURfNl8iIGN4PSIzMjIuMTc0OSIgY3k9Ii0xNzc3MTYuMTg3NSIgcj0iNDUuMTE4NyIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgyLjE1NDEgMCAwIC02LjUwNzUwMGUtMDAyIC0zMjMuMjk3IC0xMTI4NC44ODA5KSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgoJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiMzMzMzMzMiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjIxMDkiIHN0eWxlPSJzdG9wLWNvbG9yOiM1QjU3NTUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjQ3MjgiIHN0eWxlPSJzdG9wLWNvbG9yOiM5MDhBODciLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjcwMTMiIHN0eWxlPSJzdG9wLWNvbG9yOiNDMEJBQjUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjg4NDYiIHN0eWxlPSJzdG9wLWNvbG9yOiNFMkRERDUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRjNFREU1Ii8+Cgk8L3JhZGlhbEdyYWRpZW50PgoJPGVsbGlwc2UgY2xhc3M9InN0NiIgY3g9IjM3MC43IiBjeT0iMjgwIiByeD0iOTguMyIgcnk9IjMuMiIvPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0NyIgZD0iTTE1MS4zLDIxNy40YzAsMCw0LjYsMi4zLDcuOCwwYzMuMi0yLjMsOS44LTEyLjEsOS44LTEyLjFzMS00LjItMi01LjljLTIuOS0xLjctNDkuOC0zMi42LTc0LjktMzUuOAoJCQlDNjcsMTYwLjQsNzguNywxODksODAuNSwxOTFjMS43LDIsOS4xLDQuNyw5LjEsNC43czkuMS0xNi4yLDE0LjgtMTQuN0MxMTAsMTgyLjQsMTM1LDIwOC44LDE1MS4zLDIxNy40eiIvPgoJCQoJCQk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzdfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9Ijc2LjE5OTkiIHkxPSIyOTQuMTEzNiIgeDI9IjE2OS4wNiIgeTI9IjI5NC4xMTM2IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIC0xIDAgNDg0KSI+CgkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNBNEEyQTIiLz4KCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6IzAwMDAwMCIvPgoJCTwvbGluZWFyR3JhZGllbnQ+CgkJPHBhdGggY2xhc3M9InN0OCIgZD0iTTE1MS4zLDIxNi40YzAsMCw0LjYsMi4zLDcuOCwwYzMuMi0yLjMsOS44LTEyLjEsOS44LTEyLjFzMS00LjItMi01LjljLTIuOS0xLjctNDkuOC0zMi42LTc0LjktMzUuOAoJCQlDNjcsMTU5LjQsNzguNywxODgsODAuNSwxOTBjMS43LDIsOS4xLDQuNyw5LjEsNC43czkuMS0xNi4yLDE0LjgtMTQuN0MxMTAsMTgxLjQsMTM1LDIwNy45LDE1MS4zLDIxNi40eiIvPgoJCTxwYXRoIGNsYXNzPSJzdDkiIGQ9Ik0yMTUuNCwxNTBjLTEzLjctMi45LTQ0LjItNy45LTY4LjQtOS4ycy02MS40LDEuMS03OC41LDNjLTE3LjIsMi0xNy43LDYuMS0xNy43LDYuMXY3LjRsMy43LDE5LjcKCQkJYzYuMSwwLDEwLjYsNS4yLDEzLjMsMTYuNGMyLjcsMTEuMyw2LjEsMzUuOCwxNi45LDU3LjlzNDUuMiwyNy43LDYwLjQsMjcuN2MxNS4yLDAsMzguOC0xLjUsNTUtMTAuOAoJCQljMTYuMi05LjMsMzUuOC00My4yLDQyLjItNjQuM3MxNy43LTE5LjEsMTcuNy0xOS4xdi0yNC41QzI0NC4yLDE1OC45LDIyOS4yLDE1MywyMTUuNCwxNTB6IE0yMzAuOCwxODZjMCwwLTQuOSw2NS4xLTQwLjIsNzYuNgoJCQlzLTcyLjMsNC45LTg2LjQtNC45Yy0xNC4xLTkuOC0yNS41LTM1LjMtMjEuOS03Ny42YzMuNi00Mi4yLDgwLjYtMjkuMiw4OS0yOC41QzE3OS43LDE1Mi40LDIzNC4xLDE1NC42LDIzMC44LDE4NnoiLz4KCQk8cGF0aCBjbGFzcz0ic3QxMCIgZD0iTTIxNS40LDE1MmMtMTMuNy0yLjktNDQuMi03LjktNjguNC05LjJzLTYxLjQsMS4xLTc4LjUsM2MtMTcuMiwyLTE3LjcsNi4xLTE3LjcsNi4xdjcuNGwzLjcsMTkuNwoJCQljNi4xLDAsMTAuNiw1LjIsMTMuMywxNi40YzIuNywxMS4zLDYuMSwzNS44LDE2LjksNTcuOXM0NS4yLDI3LjcsNjAuNCwyNy43YzE1LjIsMCwzOC44LTEuNSw1NS0xMC44CgkJCWMxNi4yLTkuMywzNS44LTQzLjIsNDIuMi02NC4zczE3LjctMTkuMSwxNy43LTE5LjF2LTI0LjVDMjQ0LjIsMTYwLjgsMjI5LjIsMTU0LjksMjE1LjQsMTUyeiBNMjMwLjgsMTg4YzAsMC00LjksNjUuMS00MC4yLDc2LjYKCQkJcy03Mi4zLDQuOS04Ni40LTQuOWMtMTQuMS05LjgtMjUuNS0zNS4zLTIxLjktNzcuNmMzLjYtNDIuMiw4MC42LTI5LjIsODktMjguNUMxNzkuNywxNTQuMywyMzQuMSwxNTYuNiwyMzAuOCwxODh6Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3Q3IiBkPSJNMzY4LjYsMjE3LjRjMCwwLTQuNiwyLjMtNy44LDBjLTMuMi0yLjMtOS44LTEyLjEtOS44LTEyLjFzLTEtNC4yLDItNS45YzIuOS0xLjcsNDkuOC0zMi42LDc0LjktMzUuOAoJCQljMjUtMy4yLDEzLjMsMjUuNCwxMS41LDI3LjRjLTEuNywyLTkuMSw0LjctOS4xLDQuN3MtOS4xLTE2LjItMTQuNy0xNC43UzM4NC45LDIwOC44LDM2OC42LDIxNy40eiIvPgoJCQoJCQk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzhfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjI0My4yOTk4IiB5MT0iMjk0LjExMzYiIHgyPSIzMzYuMTYiIHkyPSIyOTQuMTEzNiIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgLTEgNjg3IDQ4NCkiPgoJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojQTRBMkEyIi8+CgkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMDAwMDAiLz4KCQk8L2xpbmVhckdyYWRpZW50PgoJCTxwYXRoIGNsYXNzPSJzdDExIiBkPSJNMzY4LjYsMjE2LjRjMCwwLTQuNiwyLjMtNy44LDBjLTMuMi0yLjMtOS44LTEyLjEtOS44LTEyLjFzLTEtNC4yLDItNS45YzIuOS0xLjcsNDkuOC0zMi42LDc0LjktMzUuOAoJCQljMjUtMy4yLDEzLjMsMjUuNCwxMS41LDI3LjRjLTEuNywyLTkuMSw0LjctOS4xLDQuN3MtOS4xLTE2LjItMTQuNy0xNC43QzQwOS45LDE4MS40LDM4NC45LDIwNy45LDM2OC42LDIxNi40eiIvPgoJCTxwYXRoIGNsYXNzPSJzdDkiIGQ9Ik0yNTkuOSwxNjAuM3YyNC41YzAsMCwxMS4zLTIsMTcuNywxOS4xczI2LDU1LDQyLjIsNjQuM2MxNi4yLDkuMywzOS44LDEwLjgsNTUsMTAuOHM0OS42LTUuNiw2MC40LTI3LjcKCQkJczE0LjItNDYuNiwxNi45LTU3LjljMi43LTExLjMsNy4xLTE2LjQsMTMuMy0xNi40bDMuNy0xOS42VjE1MGMwLDAtMC41LTQuMi0xNy43LTYuMWMtMTcuMi0yLTU0LjMtNC4zLTc4LjUtMwoJCQljLTI0LjIsMS4zLTU0LjYsNi4yLTY4LjQsOS4yQzI5MC43LDE1MywyNzUuNywxNTguOSwyNTkuOSwxNjAuM3ogTTM0OC42LDE1MS43YzguNC0wLjcsODUuNC0xMy43LDg5LDI4LjVzLTcuOSw2Ny43LTIxLjksNzcuNgoJCQljLTE0LjEsOS44LTUxLDE2LjQtODYuNCw0LjlDMjk0LDI1MS4xLDI4OS4xLDE4NiwyODkuMSwxODZDMjg1LjgsMTU0LjYsMzQwLjIsMTUyLjQsMzQ4LjYsMTUxLjd6Ii8+CgkJPHBhdGggY2xhc3M9InN0MTAiIGQ9Ik0yNTkuOSwxNjIuM3YyNC41YzAsMCwxMS4zLTIsMTcuNywxOS4xczI2LDU1LDQyLjIsNjQuM2MxNi4yLDkuMywzOS44LDEwLjgsNTUsMTAuOHM0OS42LTUuNiw2MC40LTI3LjcKCQkJczE0LjItNDYuNiwxNi45LTU3LjljMi43LTExLjMsNy4xLTE2LjQsMTMuMy0xNi40bDMuNy0xOS42VjE1MmMwLDAtMC41LTQuMi0xNy43LTYuMWMtMTcuMi0yLTU0LjMtNC4zLTc4LjUtMwoJCQljLTI0LjIsMS4zLTU0LjYsNi4yLTY4LjQsOS4yQzI5MC43LDE1NC45LDI3NS43LDE2MC44LDI1OS45LDE2Mi4zeiBNMzQ4LjYsMTUzLjZjOC40LTAuNyw4NS40LTEzLjcsODksMjguNXMtNy45LDY3LjctMjEuOSw3Ny42CgkJCWMtMTQuMSw5LjgtNTEsMTYuNC04Ni40LDQuOUMyOTQsMjUzLjEsMjg5LjEsMTg4LDI4OS4xLDE4OEMyODUuOCwxNTYuNiwzNDAuMiwxNTQuMywzNDguNiwxNTMuNnoiLz4KCTwvZz4KPC9nPgo8L3N2Zz4K"},92684:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0ODAgMjQwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0ODAgMjQwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe29wYWNpdHk6MC4zO2ZpbGw6dXJsKCNTVkdJRF8xXyk7fQoJLnN0MXtvcGFjaXR5OjAuMztmaWxsOnVybCgjU1ZHSURfMl8pO30KCS5zdDJ7ZmlsbDp1cmwoI1NWR0lEXzNfKTt9Cgkuc3Qze2ZpbGw6dXJsKCNTVkdJRF80Xyk7fQoJLnN0NHtmaWxsOnVybCgjU1ZHSURfNV8pO30KCS5zdDV7ZmlsbDp1cmwoI1NWR0lEXzZfKTt9Cgkuc3Q2e2ZpbGw6IzAxMDEwMTt9Cgkuc3Q3e2ZpbGw6dXJsKCNTVkdJRF83Xyk7fQoJLnN0OHtmaWxsOiM2NzY3Njc7fQoJLnN0OXtmaWxsOiMwMjAzMDM7fQoJLnN0MTB7ZmlsbDp1cmwoI1NWR0lEXzhfKTt9Cgkuc3QxMXtmaWxsOiM0QTQ4NDA7fQo8L3N0eWxlPgo8Zz4KCTxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iNjAuMzA2NSIgeTE9IjEwNS4zNDQyIiB4Mj0iMTQ0LjE1ODEiIHkyPSIxMDUuMzQ0MiI+CgkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0YzRURFNSIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNjEyNiIgc3R5bGU9InN0b3AtY29sb3I6IzY5NjQ2MiIvPgoJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiMzMzMzMzMiLz4KCTwvbGluZWFyR3JhZGllbnQ+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTM5LjUsOTMuM2MwLDAsNS40LDAuMiw0LjYsMmMtMC44LDEuOC04LjUsNS4yLTE1LjIsNS42Yy02LjcsMC4zLTI5LjgsMS00MS4yLDUuNAoJCWMtMTEuNSw0LjQtMjEuMSwxMS4xLTIxLjEsMTEuMWwtNi4yLTUuMWMwLDAsMjkuOS0xMS43LDQxLjktMTIuNkMxMjkuMyw5Ny43LDEzMi41LDkzLDEzOS41LDkzLjN6Ii8+CgkKCQk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzJfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjMzNC41MzUyIiB5MT0iMTA1LjM0NDIiIHgyPSI0MTguMzg2NCIgeTI9IjEwNS4zNDQyIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAxIDc1My42ODM2IDApIj4KCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRjNFREU1Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC42MTI2IiBzdHlsZT0ic3RvcC1jb2xvcjojNjk2NDYyIi8+CgkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6IzMzMzMzMyIvPgoJPC9saW5lYXJHcmFkaWVudD4KCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0zNDAsOTMuM2MwLDAtNS40LDAuMi00LjYsMmMwLjgsMS44LDguNSw1LjIsMTUuMiw1LjZjNi43LDAuMywyOS44LDEsNDEuMiw1LjRjMTEuNSw0LjQsMjEuMSwxMS4xLDIxLjEsMTEuMQoJCWw2LjItNS4xYzAsMC0yOS45LTExLjctNDEuOS0xMi42QzM1MC4xLDk3LjcsMzQ3LDkzLDM0MCw5My4zeiIvPgoJCgkJPHJhZGlhbEdyYWRpZW50IGlkPSJTVkdJRF8zXyIgY3g9IjIwNy4yODg3IiBjeT0iMTc2MzY5LjU5MzgiIHI9IjQ1LjE1NzYiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMS45ODE3IDAgMCA2LjUwNzUwMGUtMDAyIC0yNzkuOTc4MyAtMTEzMTguMjQ3MSkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojMzMzMzMzIi8+CgkJPHN0b3AgIG9mZnNldD0iMC4yMTA5IiBzdHlsZT0ic3RvcC1jb2xvcjojNUI1NzU1Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC40NzI4IiBzdHlsZT0ic3RvcC1jb2xvcjojOTA4QTg3Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC43MDEzIiBzdHlsZT0ic3RvcC1jb2xvcjojQzBCQUI1Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC44ODQ2IiBzdHlsZT0ic3RvcC1jb2xvcjojRTJEREQ1Ii8+CgkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0YzRURFNSIvPgoJPC9yYWRpYWxHcmFkaWVudD4KCTxlbGxpcHNlIGNsYXNzPSJzdDIiIGN4PSIxMzAuOCIgY3k9IjE1OSIgcng9IjkwLjUiIHJ5PSIzLjIiLz4KCQoJCTxyYWRpYWxHcmFkaWVudCBpZD0iU1ZHSURfNF8iIGN4PSIyMTMuNTYwNSIgY3k9IjE3NTQwNy40MjE5IiByPSI0NS4xNTc3IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDAuNzYzNiAwIDAgNi41MDc1MDBlLTAwMiAtMjcuNjc3MyAtMTEzMTguMjQ3MSkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojMzMzMzMzIi8+CgkJPHN0b3AgIG9mZnNldD0iMC4yMTA5IiBzdHlsZT0ic3RvcC1jb2xvcjojNUI1NzU1Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC40NzI4IiBzdHlsZT0ic3RvcC1jb2xvcjojOTA4QTg3Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC43MDEzIiBzdHlsZT0ic3RvcC1jb2xvcjojQzBCQUI1Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC44ODQ2IiBzdHlsZT0ic3RvcC1jb2xvcjojRTJEREQ1Ii8+CgkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0YzRURFNSIvPgoJPC9yYWRpYWxHcmFkaWVudD4KCTxlbGxpcHNlIGNsYXNzPSJzdDMiIGN4PSIxMzUuNCIgY3k9Ijk2LjQiIHJ4PSIzNC45IiByeT0iMy4yIi8+CgkKCQk8cmFkaWFsR3JhZGllbnQgaWQ9IlNWR0lEXzVfIiBjeD0iNDg3LjM3NTUiIGN5PSIxNzU0MDcuNDIxOSIgcj0iNDUuMTU4MyIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgwLjc2MzYgMCAwIDYuNTA3NTAwZS0wMDIgLTI3LjY3NzMgLTExMzE4LjI0NzEpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CgkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6IzMzMzMzMyIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuMjEwOSIgc3R5bGU9InN0b3AtY29sb3I6IzVCNTc1NSIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNDcyOCIgc3R5bGU9InN0b3AtY29sb3I6IzkwOEE4NyIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNzAxMyIgc3R5bGU9InN0b3AtY29sb3I6I0MwQkFCNSIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuODg0NiIgc3R5bGU9InN0b3AtY29sb3I6I0UyRERENSIvPgoJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNGM0VERTUiLz4KCTwvcmFkaWFsR3JhZGllbnQ+Cgk8ZWxsaXBzZSBjbGFzcz0ic3Q0IiBjeD0iMzQ0LjUiIGN5PSI5Ni40IiByeD0iMzQuOSIgcnk9IjMuMiIvPgoJCgkJPHJhZGlhbEdyYWRpZW50IGlkPSJTVkdJRF82XyIgY3g9IjMxMi44OTI0IiBjeT0iMTc2MzY5LjU5MzgiIHI9IjQ1LjE1MzQiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMi4xNTQxIDAgMCA2LjUwNzUwMGUtMDAyIC0zMjMuMjk3IC0xMTMxOC4yNDcxKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgoJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiMzMzMzMzMiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjIxMDkiIHN0eWxlPSJzdG9wLWNvbG9yOiM1QjU3NTUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjQ3MjgiIHN0eWxlPSJzdG9wLWNvbG9yOiM5MDhBODciLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjcwMTMiIHN0eWxlPSJzdG9wLWNvbG9yOiNDMEJBQjUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjg4NDYiIHN0eWxlPSJzdG9wLWNvbG9yOiNFMkRERDUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRjNFREU1Ii8+Cgk8L3JhZGlhbEdyYWRpZW50PgoJPGVsbGlwc2UgY2xhc3M9InN0NSIgY3g9IjM1MC43IiBjeT0iMTU5IiByeD0iOTguMyIgcnk9IjMuMiIvPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0NiIgZD0iTTEzMS4zLDk2LjRjMCwwLDQuNiwyLjMsNy44LDBjMy4yLTIuMyw5LjgtMTIuMSw5LjgtMTIuMXMxLTQuMi0yLTUuOWMtMi45LTEuNy00OS44LTMyLjYtNzQuOS0zNS44CgkJCWMtMjUtMy4yLTEzLjMsMjUuNC0xMS41LDI3LjRjMS43LDIsOS4xLDQuNyw5LjEsNC43Uzc4LjcsNTguNSw4NC40LDYwQzkwLDYxLjQsMTE1LDg3LjgsMTMxLjMsOTYuNHoiLz4KCQk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzdfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjU2LjI4NzEiIHkxPSI2OC44NDM3IiB4Mj0iMTQ5LjA1NyIgeTI9IjY4Ljg0MzciPgoJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojQTRBMkEyIi8+CgkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMDAwMDAiLz4KCQk8L2xpbmVhckdyYWRpZW50PgoJCTxwYXRoIGNsYXNzPSJzdDciIGQ9Ik0xMzEuMyw5NS40YzAsMCw0LjYsMi4zLDcuOCwwYzMuMi0yLjMsOS44LTEyLjEsOS44LTEyLjFzMS00LjItMi01LjljLTIuOS0xLjctNDkuOC0zMi42LTc0LjktMzUuOAoJCQljLTI1LTMuMi0xMy4zLDI1LjQtMTEuNSwyNy40YzEuNywyLDkuMSw0LjcsOS4xLDQuN1M3OC43LDU3LjUsODQuNCw1OUM5MCw2MC40LDExNSw4Ni45LDEzMS4zLDk1LjR6Ii8+CgkJPHBhdGggY2xhc3M9InN0OCIgZD0iTTE5NS40LDI5Yy0xMy43LTIuOS00NC4yLTcuOS02OC40LTkuMmMtMjQuMi0xLjMtNjEuNCwxLjEtNzguNSwzYy0xNy4yLDItMTcuNyw2LjEtMTcuNyw2LjF2Ny40TDM0LjUsNTYKCQkJYzYuMSwwLDEwLjYsNS4yLDEzLjMsMTYuNGMyLjcsMTEuMyw2LjEsMzUuOCwxNi45LDU3LjljMTAuOCwyMi4xLDQ1LjIsMjcuNyw2MC40LDI3LjdjMTUuMiwwLDM4LjgtMS41LDU1LTEwLjgKCQkJczM1LjgtNDMuMiw0Mi4yLTY0LjNjNi40LTIxLjEsMTcuNy0xOS4xLDE3LjctMTkuMVYzOS4zQzIyNC4yLDM3LjksMjA5LjIsMzIsMTk1LjQsMjl6IE0yMTAuOCw2NWMwLDAtNC45LDY1LjEtNDAuMiw3Ni42CgkJCWMtMzUuMywxMS41LTcyLjMsNC45LTg2LjQtNC45Yy0xNC4xLTkuOC0yNS41LTM1LjMtMjEuOS03Ny42YzMuNi00Mi4yLDgwLjYtMjkuMiw4OS0yOC41QzE1OS43LDMxLjQsMjE0LjEsMzMuNiwyMTAuOCw2NXoiLz4KCQk8cGF0aCBjbGFzcz0ic3Q5IiBkPSJNMTk1LjQsMzFjLTEzLjctMi45LTQ0LjItNy45LTY4LjQtOS4yYy0yNC4yLTEuMy02MS40LDEuMS03OC41LDNjLTE3LjIsMi0xNy43LDYuMS0xNy43LDYuMXY3LjRMMzQuNSw1OAoJCQljNi4xLDAsMTAuNiw1LjIsMTMuMywxNi40YzIuNywxMS4zLDYuMSwzNS44LDE2LjksNTcuOWMxMC44LDIyLjEsNDUuMiwyNy43LDYwLjQsMjcuN2MxNS4yLDAsMzguOC0xLjUsNTUtMTAuOAoJCQljMTYuMi05LjMsMzUuOC00My4yLDQyLjItNjQuM2M2LjQtMjEuMSwxNy43LTE5LjEsMTcuNy0xOS4xVjQxLjNDMjI0LjIsMzkuOCwyMDkuMiwzMy45LDE5NS40LDMxeiBNMjEwLjgsNjcKCQkJYzAsMC00LjksNjUuMS00MC4yLDc2LjZzLTcyLjMsNC45LTg2LjQtNC45Yy0xNC4xLTkuOC0yNS41LTM1LjMtMjEuOS03Ny42YzMuNi00Mi4yLDgwLjYtMjkuMiw4OS0yOC41CgkJCUMxNTkuNywzMy4zLDIxNC4xLDM1LjYsMjEwLjgsNjd6Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3Q2IiBkPSJNMzQ4LjYsOTYuNGMwLDAtNC42LDIuMy03LjgsMGMtMy4yLTIuMy05LjgtMTIuMS05LjgtMTIuMXMtMS00LjIsMi01LjljMi45LTEuNyw0OS44LTMyLjYsNzQuOS0zNS44CgkJCWMyNS0zLjIsMTMuMywyNS40LDExLjUsMjcuNGMtMS43LDItOS4xLDQuNy05LjEsNC43cy05LjEtMTYuMi0xNC43LTE0LjdTMzY0LjksODcuOCwzNDguNiw5Ni40eiIvPgoJCQoJCQk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzhfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjI2My4zOTE2IiB5MT0iNjguODQzNyIgeDI9IjM1Ni4xNjEiIHkyPSI2OC44NDM3IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAxIDY4NyAwKSI+CgkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNBNEEyQTIiLz4KCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6IzAwMDAwMCIvPgoJCTwvbGluZWFyR3JhZGllbnQ+CgkJPHBhdGggY2xhc3M9InN0MTAiIGQ9Ik0zNDguNiw5NS40YzAsMC00LjYsMi4zLTcuOCwwYy0zLjItMi4zLTkuOC0xMi4xLTkuOC0xMi4xcy0xLTQuMiwyLTUuOWMyLjktMS43LDQ5LjgtMzIuNiw3NC45LTM1LjgKCQkJYzI1LTMuMiwxMy4zLDI1LjQsMTEuNSwyNy40Yy0xLjcsMi05LjEsNC43LTkuMSw0LjdzLTkuMS0xNi4yLTE0LjctMTQuN0MzODkuOSw2MC40LDM2NC45LDg2LjksMzQ4LjYsOTUuNHoiLz4KCQk8cGF0aCBjbGFzcz0ic3Q4IiBkPSJNMjM5LjksMzkuM3YyNC41YzAsMCwxMS4zLTIsMTcuNywxOS4xYzYuNCwyMS4xLDI2LDU1LDQyLjIsNjQuM2MxNi4yLDkuMywzOS44LDEwLjgsNTUsMTAuOAoJCQljMTUuMiwwLDQ5LjYtNS42LDYwLjQtMjcuN2MxMC44LTIyLjEsMTQuMi00Ni42LDE2LjktNTcuOWMyLjctMTEuMyw3LjEtMTYuNCwxMy4zLTE2LjRsMy43LTE5LjZWMjljMCwwLTAuNS00LjItMTcuNy02LjEKCQkJYy0xNy4yLTItNTQuMy00LjMtNzguNS0zYy0yNC4yLDEuMy01NC42LDYuMi02OC40LDkuMkMyNzAuNywzMiwyNTUuNywzNy45LDIzOS45LDM5LjN6IE0zMjguNiwzMC43YzguNC0wLjcsODUuNC0xMy43LDg5LDI4LjUKCQkJYzMuNiw0Mi4yLTcuOSw2Ny43LTIxLjksNzcuNmMtMTQuMSw5LjgtNTEsMTYuNC04Ni40LDQuOUMyNzQsMTMwLjEsMjY5LjEsNjUsMjY5LjEsNjVDMjY1LjgsMzMuNiwzMjAuMiwzMS40LDMyOC42LDMwLjd6Ii8+CgkJPHBhdGggY2xhc3M9InN0OSIgZD0iTTIzOS45LDQxLjN2MjQuNWMwLDAsMTEuMy0yLDE3LjcsMTkuMWM2LjQsMjEuMSwyNiw1NSw0Mi4yLDY0LjNjMTYuMiw5LjMsMzkuOCwxMC44LDU1LDEwLjgKCQkJYzE1LjIsMCw0OS42LTUuNiw2MC40LTI3LjdjMTAuOC0yMi4xLDE0LjItNDYuNiwxNi45LTU3LjljMi43LTExLjMsNy4xLTE2LjQsMTMuMy0xNi40bDMuNy0xOS42VjMxYzAsMC0wLjUtNC4yLTE3LjctNi4xCgkJCWMtMTcuMi0yLTU0LjMtNC4zLTc4LjUtM2MtMjQuMiwxLjMtNTQuNiw2LjItNjguNCw5LjJDMjcwLjcsMzMuOSwyNTUuNywzOS44LDIzOS45LDQxLjN6IE0zMjguNiwzMi42YzguNC0wLjcsODUuNC0xMy43LDg5LDI4LjUKCQkJYzMuNiw0Mi4yLTcuOSw2Ny43LTIxLjksNzcuNmMtMTQuMSw5LjgtNTEsMTYuNC04Ni40LDQuOUMyNzQsMTMyLjEsMjY5LjEsNjcsMjY5LjEsNjdDMjY1LjgsMzUuNiwzMjAuMiwzMy4zLDMyOC42LDMyLjZ6Ii8+Cgk8L2c+CjwvZz4KPHBvbHlnb24gY2xhc3M9InN0MTEiIHBvaW50cz0iMTczLjIsMjIxLjcgMjAyLjEsMTk3LjEgMjA0LjIsMTk3LjEgMTcxLjgsMTY4LjkgMTY5LjgsMTcxLjIgMTk1LjksMTk0IDEzNi4zLDE5NCAxMzYuMywxOTcuMSAKCTE5Ny4zLDE5Ny4xIDE3MS4yLDIxOS40ICIvPgo8cG9seWdvbiBjbGFzcz0ic3QxMSIgcG9pbnRzPSI4Ny4xLDIyMS43IDU4LjMsMTk3LjEgNTYuMiwxOTcuMSA4OC42LDE2OC45IDkwLjYsMTcxLjIgNjQuNSwxOTQgMTY3LDE5NCAxNjcsMTk3LjEgNjMuMSwxOTcuMSAKCTg5LjEsMjE5LjQgIi8+Cjwvc3ZnPgo="},41271:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0ODAgMjQwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0ODAgMjQwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6dXJsKCNTVkdJRF8xXyk7fQoJLnN0MXtmaWxsOiMyRDJDMkQ7fQoJLnN0MntmaWxsOiNEM0QxRDI7fQoJLnN0M3tmaWxsOnVybCgjU1ZHSURfMl8pO30KCS5zdDR7ZmlsbDp1cmwoI1NWR0lEXzNfKTt9Cgkuc3Q1e2ZpbGw6dXJsKCNTVkdJRF80Xyk7fQoJLnN0NntmaWxsOiM3ODc4Nzk7fQoJLnN0N3tmaWxsOnVybCgjU1ZHSURfNV8pO30KCS5zdDh7ZmlsbDp1cmwoI1NWR0lEXzZfKTt9Cgkuc3Q5e2ZpbGw6dXJsKCNTVkdJRF83Xyk7fQoJLnN0MTB7ZmlsbDp1cmwoI1NWR0lEXzhfKTt9Cgkuc3QxMXtmaWxsOnVybCgjU1ZHSURfOV8pO30KCS5zdDEye2ZpbGw6IzRBNDg0MDt9Cjwvc3R5bGU+CjxnPgoJPGxpbmVhckdyYWRpZW50IGlkPSJTVkdJRF8xXyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI1OC40NTE3IiB5MT0iMTQ0Ljk0NjQiIHgyPSI2Ny45MzM4IiB5Mj0iMTU3LjY2NjMiPgoJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiMzMzMzMzMiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjExMzgiIHN0eWxlPSJzdG9wLWNvbG9yOiMzOTM4MzgiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjI3NjYiIHN0eWxlPSJzdG9wLWNvbG9yOiM0ODQ1NDUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjQ2ODgiIHN0eWxlPSJzdG9wLWNvbG9yOiM2MjVGNUUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjY4MzQiIHN0eWxlPSJzdG9wLWNvbG9yOiM4RjhCOEIiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjkxNCIgc3R5bGU9InN0b3AtY29sb3I6I0Q1RDNEMyIvPgoJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNGRkZGRkYiLz4KCTwvbGluZWFyR3JhZGllbnQ+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNTMuNywxNDYuNGMwLDAsNC40LDkuOCw3LjUsMTEuMmMzLjEsMS40LDE1LjcsMiwxMi42LTJjLTMuMS00LTYuNS0yLjQtOC4yLTdDNjQsMTQzLjksNTMuNywxNDYuNCw1My43LDE0Ni40CgkJeiIvPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTUyLjgsMTIxLjJjMCwwLDEuMiw4LjIsNi4yLDE5LjZjNSwxMS40LTYuOCwzLjMtNi45LTcuOEM1MiwxMjEuOSw1Mi44LDEyMS4yLDUyLjgsMTIxLjJ6Ii8+CgkJPHBhdGggY2xhc3M9InN0MiIgZD0iTTQ1LjcsMzUuMmMwLDAtMC4yLDQuNiwwLDE1YzAsMCwwLjUtOS4zLDMuMi0xMS4xQzUxLjcsMzcuNCw0NS43LDM1LjIsNDUuNywzNS4yeiIvPgoJCTxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMl8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iNDUuNzI1OCIgeTE9IjkwLjg4ODIiIHgyPSI2Ni42ODU2IiB5Mj0iOTAuODg4MiI+CgkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNFNkU2RTUiLz4KCQkJPHN0b3AgIG9mZnNldD0iOC44MTMxOTZlLTAwMiIgc3R5bGU9InN0b3AtY29sb3I6I0Q5RDhEOCIvPgoJCQk8c3RvcCAgb2Zmc2V0PSIwLjMzNjciIHN0eWxlPSJzdG9wLWNvbG9yOiNCQkJBQkEiLz4KCQkJPHN0b3AgIG9mZnNldD0iMC41NzY5IiBzdHlsZT0ic3RvcC1jb2xvcjojQThBN0E3Ii8+CgkJCTxzdG9wICBvZmZzZXQ9IjAuODAyOSIgc3R5bGU9InN0b3AtY29sb3I6IzlDOUM5QyIvPgoJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojOTg5ODk4Ii8+CgkJPC9saW5lYXJHcmFkaWVudD4KCQk8cGF0aCBjbGFzcz0ic3QzIiBkPSJNNDUuNywzMC40djZjMCwwLDQsMy42LDUuNywxMC44YzEuNiw3LjIsMS40LDI1LjcsMS40LDI1LjdzMi42LDEuOCwyLjcsNi41YzAuMSw0LjYsMi4zLDUxLjIsMy4yLDU4LjYKCQkJYzAuOSw3LjQsMC4xLDcuNC0wLjgsNy4yYy0wLjktMC4yLTQuNi0xMC4xLTUuNS0xMy4xYy0wLjktMy00LjctMi4yLTQsMS41YzAuNywzLjcsNi4xLDE2LjQsOC44LDE3LjdjMi42LDEuMywzLjgtMi44LDIuNi0xNy40CgkJCWMtMS4yLTE0LjUtMi45LTU1LjctMi45LTU1LjdsNS04LjdsLTIuMS01LjVsNy0yMS42QzY2LjcsNDIuMyw1MC42LDMxLjYsNDUuNywzMC40eiIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik03Mi44LDcyLjVjMCwwLTMuMywxLjEtMy44LDYuNWMtMC41LDUuMywxLjksNjMuNiwxLjksNjMuNnMtMC42LDkuMS01LjEsOS42cy03LjcsMC45LTguNy0wLjkKCQkJYzAsMCw0LjQsMi4xLDMuMS0xMS4yQzU5LDEyNi43LDU1LDgxLjcsNTcuMiw3Ni44YzIuMi00LjksNC43LTcuNCw0LjctNy40TDcyLjgsNzIuNXoiLz4KCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNNjkuNyw3NmMwLDAsMS41LDYuNy0wLjUsMTYuM2wwLjEsMy45YzAsMCw0LjgtOC4zLDUtMjMuM0M3NC4zLDcyLjgsNzEuMyw3Mi41LDY5LjcsNzZ6Ii8+CgkJPGxpbmVhckdyYWRpZW50IGlkPSJTVkdJRF8zXyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI3OC44NTE1IiB5MT0iMTQuMzY1NyIgeDI9IjU4Ljk2MjMiIHkyPSIzMS4wMTcxIj4KCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0U2RTZFNSIvPgoJCQk8c3RvcCAgb2Zmc2V0PSIwLjE4NTUiIHN0eWxlPSJzdG9wLWNvbG9yOiNEREREREQiLz4KCQkJPHN0b3AgIG9mZnNldD0iMC40OCIgc3R5bGU9InN0b3AtY29sb3I6I0M4QzdDNiIvPgoJCQk8c3RvcCAgb2Zmc2V0PSIwLjg0NDkiIHN0eWxlPSJzdG9wLWNvbG9yOiNBN0E2QTYiLz4KCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6Izk4OTg5OCIvPgoJCTwvbGluZWFyR3JhZGllbnQ+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTkxLjEsMTcuOWMwLDAtMjItNi41LTI5LjEtMi41Yy03LjIsMy45LTguNiw5LjktOS4yLDE1YzAsMCw3LjksMS40LDExLDYuOGMwLDAtMy4yLTExLDMuOS0xMy4zCgkJCUM3NC45LDIxLjYsOTEuMSwxNy45LDkxLjEsMTcuOXoiLz4KCQk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzRfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjY5LjgyMTUiIHkxPSI5Ny44MTIiIHgyPSI4Mi44OTg2IiB5Mj0iOTcuODEyIj4KCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6Izk4OTg5OCIvPgoJCQk8c3RvcCAgb2Zmc2V0PSIwLjI4NTIiIHN0eWxlPSJzdG9wLWNvbG9yOiM5QjlBOUIiLz4KCQkJPHN0b3AgIG9mZnNldD0iMC40ODM2IiBzdHlsZT0ic3RvcC1jb2xvcjojQTJBMUEyIi8+CgkJCTxzdG9wICBvZmZzZXQ9IjAuNjU1NiIgc3R5bGU9InN0b3AtY29sb3I6I0FGQUVBRSIvPgoJCQk8c3RvcCAgb2Zmc2V0PSIwLjgxMjciIHN0eWxlPSJzdG9wLWNvbG9yOiNDMkMxQzEiLz4KCQkJPHN0b3AgIG9mZnNldD0iMC45NTgxIiBzdHlsZT0ic3RvcC1jb2xvcjojRENEQ0RCIi8+CgkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNFNkU2RTUiLz4KCQk8L2xpbmVhckdyYWRpZW50PgoJCTxwYXRoIGNsYXNzPSJzdDUiIGQ9Ik04Mi44LDEwMS42YzAsMCwwLjMsNy41LTQsMTMuMWMtNC4zLDUuNi04LjcsNy42LTguNyw3LjZsLTAuNC0xMC4zYzAsMCw2LjgtOS4xLDYuNS0xOAoJCQljLTAuMi04LjksMC4zLTIwLjUsMC4zLTIwLjVTODMuNiw3Mi45LDgyLjgsMTAxLjZ6Ii8+CgkJPHBhdGggY2xhc3M9InN0NiIgZD0iTTY5LjgsMjMuMmMwLDAsNS45LDUuMiw1LjEsMTkuOWwzLjksMC44Qzc4LjgsNDMuOSw4MC44LDIzLjUsNjkuOCwyMy4yeiIvPgoJCTxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfNV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iNjMuNzY0NyIgeTE9IjY1LjE0NTciIHgyPSIzOTEuODgzMSIgeTI9IjY1LjE0NTciPgoJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojOTg5ODk4Ii8+CgkJCTxzdG9wICBvZmZzZXQ9IjAuMTU1MSIgc3R5bGU9InN0b3AtY29sb3I6I0E3QTZBNiIvPgoJCQk8c3RvcCAgb2Zmc2V0PSIwLjUyIiBzdHlsZT0ic3RvcC1jb2xvcjojQzhDN0M2Ii8+CgkJCTxzdG9wICBvZmZzZXQ9IjAuODE0NSIgc3R5bGU9InN0b3AtY29sb3I6I0RERERERCIvPgoJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRTZFNkU1Ii8+CgkJPC9saW5lYXJHcmFkaWVudD4KCQk8cGF0aCBjbGFzcz0ic3Q3IiBkPSJNNzEuOCwxMTMuN2wxLjEtMS42bDAuNi0yLjFsNS02LjljMCwwLDQuMywwLjIsNC40LTIuNWMwLjEtMi44LDAtMjYuMiwwLTI2LjJsMC4xLTMzLjlsNS43LTIuM3YtMmgyLjJ2MS44CgkJCWMwLDAsNzYuOSwxNS42LDg3LjgsMTYuOWMxMSwxLjMsNjYuNSw3LjYsNjYuNSw3LjZzMzktNy43LDUxLjItMy4yYzEyLjIsNC41LDIyLjksMTEuMSwzMS42LDE3LjlsNjEuNSwyMGMwLDAsMi43LTIuOCwyLjQtMy44CgkJCWMtMC4zLTEuMS02LjUtNS43LTExLjEtOC44Yy00LjYtMy4xLTQ1LjUtMzIuNS0xMjUtNDYuNEMxNzYuMiwyNC4zLDkxLjEsMTYuOSw5MS4xLDE2LjlzLTguMy0xLjQtMTIuNSwxLjJjMCwwLTE0LjYtMS40LTE0LjgsNy43CgkJCWMwLDAsNi4xLTgsMTEuOSwwYzUuOCw4LDMuMSwxNy4xLDMuMSwxNy4xbDEuNiwxLjRsLTMuOCwyOC4xbDIuNywzYzAsMCwxLjksMTIuNSwwLjcsMTcuNmMtMS4yLDUuMS0zLjEsMTAuMS01LDEyLjUKCQkJQzczLjIsMTA3LjksNzAuNiwxMTAuOCw3MS44LDExMy43eiIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik03MS44LDExNC43bDEuMS0xLjZsMC42LTIuMWw1LTYuOWMwLDAsNC4zLDAuMiw0LjQtMi41YzAuMS0yLjgsMC0yNi4yLDAtMjYuMmwwLjEtMzMuOWw1LjctMi4zdi0yaDIuMlYzOQoJCQljMCwwLDc2LjksMTUuNiw4Ny44LDE2LjljMTEsMS4zLDY2LjUsNy42LDY2LjUsNy42czM5LTcuNyw1MS4yLTMuMmMxMi4yLDQuNSwyMi45LDExLjEsMzEuNiwxNy45bDYxLjUsMjBjMCwwLDIuNy0yLjgsMi40LTMuOAoJCQljLTAuMy0xLjEtNi41LTUuNy0xMS4xLTguOGMtNC42LTMuMS00NS41LTMyLjUtMTI1LTQ2LjRDMTc2LjIsMjUuMyw5MS4xLDE3LjksOTEuMSwxNy45cy04LjMtMS40LTEyLjUsMS4yYzAsMC0xNC42LTEuNC0xNC44LDcuNwoJCQljMCwwLDYuMS04LDExLjksMGM1LjgsOCwzLjEsMTcuMSwzLjEsMTcuMWwxLjYsMS40bC0zLjgsMjguMWwyLjcsM2MwLDAsMS45LDEyLjUsMC43LDE3LjZjLTEuMiw1LjEtMy4xLDEwLjEtNSwxMi41CgkJCUM3My4yLDEwOC45LDcwLjYsMTExLjgsNzEuOCwxMTQuN3oiLz4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNODAuNCw0NS4zYzAsMC0xMi4xLTMuOC0xOS41LTExLjNjLTcuNC03LjYtMTUuMS0zLjYtMTUuMS0zLjZzOSwzLjUsMTMuOCw3LjVDNjQuMiw0MS45LDY5LDQ0LDgwLjQsNDUuM3oiLz4KCQk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzZfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjUyLjc2MDYiIHkxPSI5MS4zNjE1IiB4Mj0iNDM5Ljk2MDIiIHkyPSI5MS4zNjE1Ij4KCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6Izk4OTg5OCIvPgoJCQk8c3RvcCAgb2Zmc2V0PSIwLjE1NTEiIHN0eWxlPSJzdG9wLWNvbG9yOiNBN0E2QTYiLz4KCQkJPHN0b3AgIG9mZnNldD0iMC41MiIgc3R5bGU9InN0b3AtY29sb3I6I0M4QzdDNiIvPgoJCQk8c3RvcCAgb2Zmc2V0PSIwLjgxNDUiIHN0eWxlPSJzdG9wLWNvbG9yOiNEREREREQiLz4KCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0U2RTZFNSIvPgoJCTwvbGluZWFyR3JhZGllbnQ+CgkJPHBhdGggY2xhc3M9InN0OCIgZD0iTTQyMS4zLDE0NmMwLDAsMTQuMy04LjYsMTcuMy0xMy4yYzMtNC42LDAuMi02LjctMi4zLTguNmMtMi41LTEuOS0yOS40LTI1LjQtOTQuMS00My41CgkJCWMtNjQuOC0xOC0yNjUtMzYuNS0yNjUtMzYuNWwtMTYuNy00LjJjMCwwLTcuNC0zLjgtNy43LTMuOGMtMC4zLDAsNC4yLDMuOCw1LjMsOS41YzEuMiw1LjcsMC41LDE4LjYsMS40LDIxLjYKCQkJYzAuOSwzLDk3LjcsMjIuMiw5Ny43LDIyLjJsMTA1LjksMTcuNmMwLDAsOCwwLjUsMTQuNS0xLjJjNi41LTEuNyw1My43LTExLjksNjQuMy04LjZjMTAuNiwzLjIsMjkuNiwxMS42LDYyLjYsNDIuNAoJCQlDNDA0LjUsMTM5LjcsNDEyLjcsMTQ4LjYsNDIxLjMsMTQ2eiIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik00MjEuMywxNDYuOWMwLDAsMTQuMy04LjYsMTcuMy0xMy4yYzMtNC42LDAuMi02LjctMi4zLTguNmMtMi41LTEuOC0yOS40LTI1LjQtOTQuMS00My41CgkJCWMtNjQuOC0xOC0yNjUtMzYuNS0yNjUtMzYuNUw2MC41LDQxYzAsMC03LjQtMy44LTcuNy0zLjhjLTAuMywwLDQuMiwzLjgsNS4zLDkuNWMxLjIsNS43LDAuNSwxOC42LDEuNCwyMS42CgkJCWMwLjksMyw5Ny43LDIyLjIsOTcuNywyMi4ybDEwNS45LDE3LjZjMCwwLDgsMC41LDE0LjUtMS4yYzYuNS0xLjcsNTMuNy0xMS45LDY0LjMtOC42YzEwLjYsMy4yLDI5LjYsMTEuNiw2Mi42LDQyLjQKCQkJQzQwNC41LDE0MC42LDQxMi43LDE0OS41LDQyMS4zLDE0Ni45eiIvPgoJPC9nPgoJCgkJPHJhZGlhbEdyYWRpZW50IGlkPSJTVkdJRF83XyIgY3g9IjIxOC4yMTcxIiBjeT0iMTc2MzE2LjEyNSIgcj0iNDIuNTUwNiIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgzLjAyMTUgMCAwIDYuNTA3NTAwZS0wMDIgLTQ5OS4zNzI0IC0xMTMxOC4yNDcxKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgoJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiM4MTgxODEiLz4KCQk8c3RvcCAgb2Zmc2V0PSIxLjE5OTU0OWUtMDAyIiBzdHlsZT0ic3RvcC1jb2xvcjojODI4MjgyIi8+CgkJPHN0b3AgIG9mZnNldD0iMC4zNDAzIiBzdHlsZT0ic3RvcC1jb2xvcjojQUNBOUE2Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC42MjYxIiBzdHlsZT0ic3RvcC1jb2xvcjojRDBDQkM1Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC44NTU2IiBzdHlsZT0ic3RvcC1jb2xvcjojRTlFM0RDIi8+CgkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0YzRURFNSIvPgoJPC9yYWRpYWxHcmFkaWVudD4KCTxlbGxpcHNlIGNsYXNzPSJzdDkiIGN4PSIxNjAiIGN5PSIxNTUuNSIgcng9IjEzMCIgcnk9IjMiLz4KCQoJCTxyYWRpYWxHcmFkaWVudCBpZD0iU1ZHSURfOF8iIGN4PSIyNjQuNDg1MSIgY3k9IjE3NTUyMS4yNSIgcj0iNDIuNTUwOCIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgwLjgzMTQgMCAwIDYuNTA3NTAwZS0wMDIgMTQwLjk1ODIgLTExMzE4LjI0NzEpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CgkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6IzMzMzMzMyIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuMjEwOSIgc3R5bGU9InN0b3AtY29sb3I6IzVCNTc1NSIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNDcyOCIgc3R5bGU9InN0b3AtY29sb3I6IzkwOEE4NyIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNzAxMyIgc3R5bGU9InN0b3AtY29sb3I6I0MwQkFCNSIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuODg0NiIgc3R5bGU9InN0b3AtY29sb3I6I0UyRERENSIvPgoJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNGM0VERTUiLz4KCTwvcmFkaWFsR3JhZGllbnQ+Cgk8ZWxsaXBzZSBjbGFzcz0ic3QxMCIgY3g9IjM2MC45IiBjeT0iMTAzLjgiIHJ4PSIzNS44IiByeT0iMyIvPgoJCgkJPHJhZGlhbEdyYWRpZW50IGlkPSJTVkdJRF85XyIgY3g9IjMyNy41MzIzIiBjeT0iMTc2MTc1Ljg3NSIgcj0iNDIuNTUyOCIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgwLjgzMTQgMCAwIDYuNTA3NTAwZS0wMDIgMTQwLjk1ODIgLTExMzE4LjI0NzEpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CgkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6IzgxODE4MSIvPgoJCTxzdG9wICBvZmZzZXQ9IjEuMTk5NTQ5ZS0wMDIiIHN0eWxlPSJzdG9wLWNvbG9yOiM4MjgyODIiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjM0MDMiIHN0eWxlPSJzdG9wLWNvbG9yOiNBQ0E5QTYiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjYyNjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNEMENCQzUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjg1NTYiIHN0eWxlPSJzdG9wLWNvbG9yOiNFOUUzREMiLz4KCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRjNFREU1Ii8+Cgk8L3JhZGlhbEdyYWRpZW50PgoJPGVsbGlwc2UgY2xhc3M9InN0MTEiIGN4PSI0MTMuMyIgY3k9IjE0Ni40IiByeD0iMzUuOCIgcnk9IjMiLz4KPC9nPgo8cG9seWdvbiBjbGFzcz0ic3QxMiIgcG9pbnRzPSI0MDYuOSwyMjYuNyA0MzQuNCwyMDMuMiA0MzYuNCwyMDMuMiA0MDUuNSwxNzYuMyA0MDMuNiwxNzguNSA0MjguNSwyMDAuMiAzNzEuNywyMDAuMiAzNzEuNywyMDMuMiAKCTQyOS44LDIwMy4yIDQwNSwyMjQuNCAiLz4KPHBvbHlnb24gY2xhc3M9InN0MTIiIHBvaW50cz0iODguMiwyMjYuNyA2MC43LDIwMy4yIDU4LjcsMjAzLjIgODkuNiwxNzYuMyA5MS41LDE3OC41IDY2LjYsMjAwLjIgMzkxLjEsMjAwLjIgMzkxLjEsMjAzLjIgCgk2NS4zLDIwMy4yIDkwLjEsMjI0LjQgIi8+Cjwvc3ZnPgo="},12767:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0ODAgMjQwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0ODAgMjQwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe29wYWNpdHk6MC4zO2ZpbGw6dXJsKCNTVkdJRF8xXyk7fQoJLnN0MXtvcGFjaXR5OjAuMztmaWxsOnVybCgjU1ZHSURfMl8pO30KCS5zdDJ7ZmlsbDp1cmwoI1NWR0lEXzNfKTt9Cgkuc3Qze2ZpbGw6dXJsKCNTVkdJRF80Xyk7fQoJLnN0NHtmaWxsOnVybCgjU1ZHSURfNV8pO30KCS5zdDV7ZmlsbDp1cmwoI1NWR0lEXzZfKTt9Cgkuc3Q2e2ZpbGw6IzAxMDEwMTt9Cgkuc3Q3e2ZpbGw6dXJsKCNTVkdJRF83Xyk7fQoJLnN0OHtmaWxsOiM2NzY3Njc7fQoJLnN0OXtmaWxsOiMwMjAzMDM7fQoJLnN0MTB7ZmlsbDp1cmwoI1NWR0lEXzhfKTt9Cgkuc3QxMXtmaWxsOiM0QTQ4NDA7fQo8L3N0eWxlPgo8Zz4KCTxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iNjAuMDE0OSIgeTE9IjEwNS4xNTUzIiB4Mj0iMTQ0LjAwMjciIHkyPSIxMDUuMTU1MyI+CgkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0YzRURFNSIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNjEyNiIgc3R5bGU9InN0b3AtY29sb3I6IzY5NjQ2MiIvPgoJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiMzMzMzMzMiLz4KCTwvbGluZWFyR3JhZGllbnQ+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTM5LjMsOTMuMWMwLDAsNS40LDAuMiw0LjYsMmMtMC44LDEuOC04LjUsNS4yLTE1LjIsNS42Yy02LjcsMC4zLTI5LjgsMS00MS4zLDUuNAoJCWMtMTEuNSw0LjQtMjEuMSwxMS4xLTIxLjEsMTEuMWwtNi4yLTUuMWMwLDAsMjkuOS0xMS43LDQyLTEyLjZDMTI5LjIsOTcuNSwxMzIuMyw5Mi44LDEzOS4zLDkzLjF6Ii8+CgkKCQk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzJfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjMzNC4yNDQ0IiB5MT0iMTA1LjE1NTMiIHgyPSI0MTguMjMxNyIgeTI9IjEwNS4xNTUzIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAxIDc1My42ODM2IDApIj4KCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRjNFREU1Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC42MTI2IiBzdHlsZT0ic3RvcC1jb2xvcjojNjk2NDYyIi8+CgkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6IzMzMzMzMyIvPgoJPC9saW5lYXJHcmFkaWVudD4KCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0zNDAuMSw5My4xYzAsMC01LjQsMC4yLTQuNiwyYzAuOCwxLjgsOC41LDUuMiwxNS4yLDUuNmM2LjcsMC4zLDI5LjgsMSw0MS4zLDUuNAoJCWMxMS41LDQuNCwyMS4xLDExLjEsMjEuMSwxMS4xbDYuMi01LjFjMCwwLTI5LjktMTEuNy00Mi0xMi42QzM1MC4zLDk3LjUsMzQ3LjIsOTIuOCwzNDAuMSw5My4xeiIvPgoJCgkJPHJhZGlhbEdyYWRpZW50IGlkPSJTVkdJRF8zXyIgY3g9IjIwNy4xOTkzIiBjeT0iMTc2MzY4LjAxNTYiIHI9IjQ1LjIzMDgiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMS45ODE3IDAgMCA2LjUwNzUwMGUtMDAyIC0yNzkuOTc4MyAtMTEzMTguMjQ3MSkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojMzMzMzMzIi8+CgkJPHN0b3AgIG9mZnNldD0iMC4yMTA5IiBzdHlsZT0ic3RvcC1jb2xvcjojNUI1NzU1Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC40NzI4IiBzdHlsZT0ic3RvcC1jb2xvcjojOTA4QTg3Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC43MDEzIiBzdHlsZT0ic3RvcC1jb2xvcjojQzBCQUI1Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC44ODQ2IiBzdHlsZT0ic3RvcC1jb2xvcjojRTJEREQ1Ii8+CgkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0YzRURFNSIvPgoJPC9yYWRpYWxHcmFkaWVudD4KCTxlbGxpcHNlIGNsYXNzPSJzdDIiIGN4PSIxMzAuNiIgY3k9IjE1OC45IiByeD0iOTAuNiIgcnk9IjMuMiIvPgoJCgkJPHJhZGlhbEdyYWRpZW50IGlkPSJTVkdJRF80XyIgY3g9IjIxMy4zMzgzIiBjeT0iMTc1NDA0LjI5NjkiIHI9IjQ1LjIzMSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgwLjc2MzYgMCAwIDYuNTA3NTAwZS0wMDIgLTI3LjY3NzMgLTExMzE4LjI0NzEpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CgkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6IzMzMzMzMyIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuMjEwOSIgc3R5bGU9InN0b3AtY29sb3I6IzVCNTc1NSIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNDcyOCIgc3R5bGU9InN0b3AtY29sb3I6IzkwOEE4NyIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNzAxMyIgc3R5bGU9InN0b3AtY29sb3I6I0MwQkFCNSIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuODg0NiIgc3R5bGU9InN0b3AtY29sb3I6I0UyRERENSIvPgoJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNGM0VERTUiLz4KCTwvcmFkaWFsR3JhZGllbnQ+Cgk8ZWxsaXBzZSBjbGFzcz0ic3QzIiBjeD0iMTM1LjIiIGN5PSI5Ni4yIiByeD0iMzQuOSIgcnk9IjMuMiIvPgoJCgkJPHJhZGlhbEdyYWRpZW50IGlkPSJTVkdJRF81XyIgY3g9IjQ4Ny41OTc3IiBjeT0iMTc1NDA0LjI5NjkiIHI9IjQ1LjIzMTYiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMC43NjM2IDAgMCA2LjUwNzUwMGUtMDAyIC0yNy42NzczIC0xMTMxOC4yNDcxKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgoJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiMzMzMzMzMiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjIxMDkiIHN0eWxlPSJzdG9wLWNvbG9yOiM1QjU3NTUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjQ3MjgiIHN0eWxlPSJzdG9wLWNvbG9yOiM5MDhBODciLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjcwMTMiIHN0eWxlPSJzdG9wLWNvbG9yOiNDMEJBQjUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjg4NDYiIHN0eWxlPSJzdG9wLWNvbG9yOiNFMkRERDUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRjNFREU1Ii8+Cgk8L3JhZGlhbEdyYWRpZW50PgoJPGVsbGlwc2UgY2xhc3M9InN0NCIgY3g9IjM0NC43IiBjeT0iOTYuMiIgcng9IjM0LjkiIHJ5PSIzLjIiLz4KCQoJCTxyYWRpYWxHcmFkaWVudCBpZD0iU1ZHSURfNl8iIGN4PSIzMTIuOTc1OSIgY3k9IjE3NjM2OC4wMTU2IiByPSI0NS4yMjY3IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDIuMTU0MSAwIDAgNi41MDc1MDBlLTAwMiAtMzIzLjI5NyAtMTEzMTguMjQ3MSkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojMzMzMzMzIi8+CgkJPHN0b3AgIG9mZnNldD0iMC4yMTA5IiBzdHlsZT0ic3RvcC1jb2xvcjojNUI1NzU1Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC40NzI4IiBzdHlsZT0ic3RvcC1jb2xvcjojOTA4QTg3Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC43MDEzIiBzdHlsZT0ic3RvcC1jb2xvcjojQzBCQUI1Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC44ODQ2IiBzdHlsZT0ic3RvcC1jb2xvcjojRTJEREQ1Ii8+CgkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0YzRURFNSIvPgoJPC9yYWRpYWxHcmFkaWVudD4KCTxlbGxpcHNlIGNsYXNzPSJzdDUiIGN4PSIzNTAuOSIgY3k9IjE1OC45IiByeD0iOTguNSIgcnk9IjMuMiIvPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0NiIgZD0iTTEzMS4xLDk2LjJjMCwwLDQuNiwyLjMsNy44LDBjMy4yLTIuMyw5LjgtMTIuMSw5LjgtMTIuMXMxLTQuMi0yLTUuOWMtMi45LTEuNy00OS45LTMyLjctNzUtMzUuOQoJCQlDNDYuNywzOSw1OC41LDY3LjcsNjAuMyw2OS43YzEuNywyLDkuMSw0LjcsOS4xLDQuN3M5LjEtMTYuMiwxNC43LTE0LjdDODkuOCw2MS4yLDExNC43LDg3LjYsMTMxLjEsOTYuMnoiLz4KCQk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzdfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjU1Ljk4OTEiIHkxPSI2OC41OTU2IiB4Mj0iMTQ4LjkwOTUiIHkyPSI2OC41OTU2Ij4KCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0E0QTJBMiIvPgoJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojMDAwMDAwIi8+CgkJPC9saW5lYXJHcmFkaWVudD4KCQk8cGF0aCBjbGFzcz0ic3Q3IiBkPSJNMTMxLjEsOTUuMmMwLDAsNC42LDIuMyw3LjgsMGMzLjItMi4zLDkuOC0xMi4xLDkuOC0xMi4xczEtNC4yLTItNS45Yy0yLjktMS43LTQ5LjktMzIuNy03NS0zNS45CgkJCWMtMjUuMS0zLjItMTMuMywyNS40LTExLjYsMjcuNWMxLjcsMiw5LjEsNC43LDkuMSw0LjdzOS4xLTE2LjIsMTQuNy0xNC43Qzg5LjgsNjAuMiwxMTQuNyw4Ni42LDEzMS4xLDk1LjJ6Ii8+CgkJPHBhdGggY2xhc3M9InN0OCIgZD0iTTE5NS40LDI4LjdjLTEzLjgtMi45LTQ0LjItNy45LTY4LjUtOS4yYy0yNC4zLTEuMy02MS41LDEuMS03OC43LDNjLTE3LjIsMi0xNy43LDYuMS0xNy43LDYuMXY3LjRsMy43LDE5LjcKCQkJYzYuMSwwLDEwLjYsNS4yLDEzLjMsMTYuNWMyLjcsMTEuMyw2LjEsMzUuOSwxNyw1OGMxMC44LDIyLjEsNDUuMiwyNy44LDYwLjUsMjcuOGMxNS4yLDAsMzguOC0xLjUsNTUuMS0xMC44CgkJCWMxNi4yLTkuMywzNS45LTQzLjMsNDIuMy02NC40YzYuNC0yMS4xLDE3LjctMTkuMiwxNy43LTE5LjJWMzlDMjI0LjIsMzcuNiwyMDkuMSwzMS43LDE5NS40LDI4Ljd6IE0yMTAuOCw2NC44CgkJCWMwLDAtNC45LDY1LjItNDAuMyw3Ni43Yy0zNS40LDExLjUtNzIuNCw0LjktODYuNS00LjljLTE0LjEtOS44LTI1LjYtMzUuNC0yMi03Ny43YzMuNi00Mi4zLDgwLjctMjkuMiw4OS4xLTI4LjUKCQkJQzE1OS42LDMxLjEsMjE0LjEsMzMuMywyMTAuOCw2NC44eiIvPgoJCTxwYXRoIGNsYXNzPSJzdDkiIGQ9Ik0xOTUuNCwzMC43Yy0xMy44LTIuOS00NC4yLTcuOS02OC41LTkuMmMtMjQuMy0xLjMtNjEuNSwxLjEtNzguNywzYy0xNy4yLDItMTcuNyw2LjEtMTcuNyw2LjF2Ny40bDMuNywxOS43CgkJCWM2LjEsMCwxMC42LDUuMiwxMy4zLDE2LjVjMi43LDExLjMsNi4xLDM1LjksMTcsNThjMTAuOCwyMi4xLDQ1LjIsMjcuOCw2MC41LDI3LjhjMTUuMiwwLDM4LjgtMS41LDU1LjEtMTAuOAoJCQljMTYuMi05LjMsMzUuOS00My4zLDQyLjMtNjQuNGM2LjQtMjEuMSwxNy43LTE5LjIsMTcuNy0xOS4yVjQxQzIyNC4yLDM5LjUsMjA5LjEsMzMuNiwxOTUuNCwzMC43eiBNMjEwLjgsNjYuNwoJCQljMCwwLTQuOSw2NS4yLTQwLjMsNzYuN2MtMzUuNCwxMS41LTcyLjQsNC45LTg2LjUtNC45Yy0xNC4xLTkuOC0yNS42LTM1LjQtMjItNzcuN2MzLjYtNDIuMyw4MC43LTI5LjIsODkuMS0yOC41CgkJCUMxNTkuNiwzMywyMTQuMSwzNS4zLDIxMC44LDY2Ljd6Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3Q2IiBkPSJNMzQ4LjgsOTYuMmMwLDAtNC42LDIuMy03LjgsMGMtMy4yLTIuMy05LjgtMTIuMS05LjgtMTIuMXMtMS00LjIsMi01LjljMi45LTEuNyw0OS45LTMyLjcsNzUtMzUuOQoJCQljMjUuMS0zLjIsMTMuMywyNS40LDExLjYsMjcuNWMtMS43LDItOS4xLDQuNy05LjEsNC43cy05LjEtMTYuMi0xNC43LTE0LjdDMzkwLjEsNjEuMiwzNjUuMSw4Ny42LDM0OC44LDk2LjJ6Ii8+CgkJCgkJCTxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfOF8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMjYzLjA5MzUiIHkxPSI2OC41OTU2IiB4Mj0iMzU2LjAxMzUiIHkyPSI2OC41OTU2IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAxIDY4NyAwKSI+CgkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNBNEEyQTIiLz4KCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6IzAwMDAwMCIvPgoJCTwvbGluZWFyR3JhZGllbnQ+CgkJPHBhdGggY2xhc3M9InN0MTAiIGQ9Ik0zNDguOCw5NS4yYzAsMC00LjYsMi4zLTcuOCwwYy0zLjItMi4zLTkuOC0xMi4xLTkuOC0xMi4xcy0xLTQuMiwyLTUuOWMyLjktMS43LDQ5LjktMzIuNyw3NS0zNS45CgkJCWMyNS4xLTMuMiwxMy4zLDI1LjQsMTEuNiwyNy41Yy0xLjcsMi05LjEsNC43LTkuMSw0LjdzLTkuMS0xNi4yLTE0LjctMTQuN0MzOTAuMSw2MC4yLDM2NS4xLDg2LjYsMzQ4LjgsOTUuMnoiLz4KCQk8cGF0aCBjbGFzcz0ic3Q4IiBkPSJNMjM5LjksMzl2MjQuNmMwLDAsMTEuMy0yLDE3LjcsMTkuMmM2LjQsMjEuMSwyNi4xLDU1LjEsNDIuMyw2NC40YzE2LjIsOS4zLDM5LjgsMTAuOCw1NS4xLDEwLjgKCQkJYzE1LjIsMCw0OS43LTUuNyw2MC41LTI3LjhjMTAuOC0yMi4xLDE0LjMtNDYuNywxNy01OGMyLjctMTEuMyw3LjEtMTYuNSwxMy4zLTE2LjVsMy43LTE5Ljd2LTcuNGMwLDAtMC41LTQuMi0xNy43LTYuMQoJCQljLTE3LjItMi01NC40LTQuMy03OC43LTNjLTI0LjMsMS4zLTU0LjcsNi4yLTY4LjUsOS4yQzI3MC44LDMxLjcsMjU1LjcsMzcuNiwyMzkuOSwzOXogTTMyOC44LDMwLjRjOC41LTAuNyw4NS41LTEzLjgsODkuMSwyOC41CgkJCWMzLjYsNDIuMy03LjksNjcuOC0yMiw3Ny43Yy0xNC4xLDkuOC01MS4xLDE2LjQtODYuNSw0LjlDMjc0LDEzMCwyNjkuMSw2NC44LDI2OS4xLDY0LjhDMjY1LjgsMzMuMywzMjAuMywzMS4xLDMyOC44LDMwLjR6Ii8+CgkJPHBhdGggY2xhc3M9InN0OSIgZD0iTTIzOS45LDQxdjI0LjZjMCwwLDExLjMtMiwxNy43LDE5LjJjNi40LDIxLjEsMjYuMSw1NS4xLDQyLjMsNjQuNGMxNi4yLDkuMywzOS44LDEwLjgsNTUuMSwxMC44CgkJCWMxNS4yLDAsNDkuNy01LjcsNjAuNS0yNy44YzEwLjgtMjIuMSwxNC4zLTQ2LjcsMTctNThjMi43LTExLjMsNy4xLTE2LjUsMTMuMy0xNi41bDMuNy0xOS43di03LjRjMCwwLTAuNS00LjItMTcuNy02LjEKCQkJYy0xNy4yLTItNTQuNC00LjMtNzguNy0zYy0yNC4zLDEuMy01NC43LDYuMi02OC41LDkuMkMyNzAuOCwzMy42LDI1NS43LDM5LjUsMjM5LjksNDF6IE0zMjguOCwzMi4zYzguNS0wLjcsODUuNS0xMy44LDg5LjEsMjguNQoJCQljMy42LDQyLjMtNy45LDY3LjgtMjIsNzcuN2MtMTQuMSw5LjgtNTEuMSwxNi40LTg2LjUsNC45QzI3NCwxMzIsMjY5LjEsNjYuNywyNjkuMSw2Ni43QzI2NS44LDM1LjMsMzIwLjMsMzMsMzI4LjgsMzIuM3oiLz4KCTwvZz4KPC9nPgo8cG9seWdvbiBjbGFzcz0ic3QxMSIgcG9pbnRzPSIyNzIsMjIxLjcgMzAwLjgsMTk3LjEgMzAyLjksMTk3LjEgMjcwLjUsMTY4LjggMjY4LjUsMTcxLjIgMjk0LjYsMTkzLjkgMjM1LDE5My45IDIzNSwxOTcuMSAKCTI5NiwxOTcuMSAyNjkuOSwyMTkuNCAiLz4KPHBvbHlnb24gY2xhc3M9InN0MTEiIHBvaW50cz0iMTk2LjEsMjIxLjcgMTY3LjMsMTk3LjEgMTY1LjIsMTk3LjEgMTk3LjYsMTY4LjggMTk5LjYsMTcxLjIgMTczLjUsMTkzLjkgMjc2LjIsMTkzLjkgMjc2LjIsMTk3LjEgCgkxNzIuMSwxOTcuMSAxOTguMiwyMTkuNCAiLz4KPC9zdmc+Cg=="},70210:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMTIxIDQ4MCAyNDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAxMjEgNDgwIDI0MDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiM0QTQ4NDA7fQoJLnN0MXtvcGFjaXR5OjAuMztmaWxsOnVybCgjU1ZHSURfMV8pO2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7fQoJLnN0MntvcGFjaXR5OjAuMztmaWxsOnVybCgjU1ZHSURfMl8pO2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7fQoJLnN0M3tmaWxsOnVybCgjU1ZHSURfM18pO30KCS5zdDR7ZmlsbDp1cmwoI1NWR0lEXzRfKTt9Cgkuc3Q1e2ZpbGw6dXJsKCNTVkdJRF81Xyk7fQoJLnN0NntmaWxsOnVybCgjU1ZHSURfNl8pO30KCS5zdDd7ZmlsbDojMDEwMTAxO30KCS5zdDh7ZmlsbDp1cmwoI1NWR0lEXzdfKTt9Cgkuc3Q5e2ZpbGw6IzY3Njc2Nzt9Cgkuc3QxMHtmaWxsOiMwMjAzMDM7fQoJLnN0MTF7ZmlsbDp1cmwoI1NWR0lEXzhfKTt9Cjwvc3R5bGU+Cjxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iNDA3LjUsMzQ1LjYgNDM2LjMsMzIxIDQzOC41LDMyMSA0MDYsMjkyLjcgNDA0LDI5NSA0MzAuMiwzMTcuOCAzNzAuNSwzMTcuOCAzNzAuNSwzMjEgNDMxLjYsMzIxIAoJNDA1LjQsMzQzLjMgIi8+Cjxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iNzIuNiwzNDUuNiA0My43LDMyMSA0MS42LDMyMSA3NCwyOTIuNyA3Ni4xLDI5NSA0OS45LDMxNy44IDM5MC45LDMxNy44IDM5MC45LDMyMSA0OC41LDMyMSAKCTc0LjYsMzQzLjMgIi8+CjxnPgoJCgkJPGxpbmVhckdyYWRpZW50IGlkPSJTVkdJRF8xXyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2MC4wMTQ5IiB5MT0iMjU3Ljg1NjkiIHgyPSIxNDQuMDAyNyIgeTI9IjI1Ny44NTY5IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIC0xIDAgNDg0KSI+CgkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0YzRURFNSIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNjEyNiIgc3R5bGU9InN0b3AtY29sb3I6IzY5NjQ2MiIvPgoJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiMzMzMzMzMiLz4KCTwvbGluZWFyR3JhZGllbnQ+Cgk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTM5LjMsMjE0LjFjMCwwLDUuNCwwLjIsNC42LDJjLTAuOCwxLjgtOC41LDUuMi0xNS4yLDUuNmMtNi43LDAuMy0yOS44LDEtNDEuMyw1LjQKCQljLTExLjUsNC40LTIxLjEsMTEuMS0yMS4xLDExLjFsLTYuMi01LjFjMCwwLDI5LjktMTEuNyw0Mi0xMi42QzEyOS4yLDIxOC41LDEzMi4zLDIxMy44LDEzOS4zLDIxNC4xeiIvPgoJCgkJPGxpbmVhckdyYWRpZW50IGlkPSJTVkdJRF8yXyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIzMzQuMjQ0NCIgeTE9IjI1Ny44NTY5IiB4Mj0iNDE4LjIzMTciIHkyPSIyNTcuODU2OSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgLTEgNzUzLjY4MzYgNDg0KSI+CgkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0YzRURFNSIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNjEyNiIgc3R5bGU9InN0b3AtY29sb3I6IzY5NjQ2MiIvPgoJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiMzMzMzMzMiLz4KCTwvbGluZWFyR3JhZGllbnQ+Cgk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMzQwLjEsMjE0LjFjMCwwLTUuNCwwLjItNC42LDJjMC44LDEuOCw4LjUsNS4yLDE1LjIsNS42YzYuNywwLjMsMjkuOCwxLDQxLjMsNS40CgkJYzExLjUsNC40LDIxLjEsMTEuMSwyMS4xLDExLjFsNi4yLTUuMWMwLDAtMjkuOS0xMS43LTQyLTEyLjZDMzUwLjMsMjE4LjUsMzQ3LjIsMjEzLjgsMzQwLjEsMjE0LjF6Ii8+CgkKCQk8cmFkaWFsR3JhZGllbnQgaWQ9IlNWR0lEXzNfIiBjeD0iMjA3LjE4NDkiIGN5PSItMTc3NzE0LjY0MDYiIHI9IjQ1LjIyMjEiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMS45ODE3IDAgMCAtNi41MDc1MDBlLTAwMiAtMjc5Ljk3ODMgLTExMjg0Ljg4MDkpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CgkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6IzMzMzMzMyIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuMjEwOSIgc3R5bGU9InN0b3AtY29sb3I6IzVCNTc1NSIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNDcyOCIgc3R5bGU9InN0b3AtY29sb3I6IzkwOEE4NyIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNzAxMyIgc3R5bGU9InN0b3AtY29sb3I6I0MwQkFCNSIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuODg0NiIgc3R5bGU9InN0b3AtY29sb3I6I0UyRERENSIvPgoJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNGM0VERTUiLz4KCTwvcmFkaWFsR3JhZGllbnQ+Cgk8ZWxsaXBzZSBjbGFzcz0ic3QzIiBjeD0iMTMwLjYiIGN5PSIyNzkuOSIgcng9IjkwLjYiIHJ5PSIzLjIiLz4KCQoJCTxyYWRpYWxHcmFkaWVudCBpZD0iU1ZHSURfNF8iIGN4PSIyMTMuMzAxOSIgY3k9Ii0xNzY3NTAuOTUzMSIgcj0iNDUuMjQ3OCIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgwLjc2MzYgMCAwIC02LjUwNzUwMGUtMDAyIC0yNy42NzczIC0xMTI4NC44ODA5KSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgoJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiMzMzMzMzMiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjIxMDkiIHN0eWxlPSJzdG9wLWNvbG9yOiM1QjU3NTUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjQ3MjgiIHN0eWxlPSJzdG9wLWNvbG9yOiM5MDhBODciLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjcwMTMiIHN0eWxlPSJzdG9wLWNvbG9yOiNDMEJBQjUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjg4NDYiIHN0eWxlPSJzdG9wLWNvbG9yOiNFMkRERDUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRjNFREU1Ii8+Cgk8L3JhZGlhbEdyYWRpZW50PgoJPGVsbGlwc2UgY2xhc3M9InN0NCIgY3g9IjEzNS4yIiBjeT0iMjE3LjIiIHJ4PSIzNC45IiByeT0iMy4yIi8+CgkKCQk8cmFkaWFsR3JhZGllbnQgaWQ9IlNWR0lEXzVfIiBjeD0iNDg3LjY2MDIiIGN5PSItMTc2NzUwLjk1MzEiIHI9IjQ1LjIwMjgiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMC43NjM2IDAgMCAtNi41MDc1MDBlLTAwMiAtMjcuNjc3MyAtMTEyODQuODgwOSkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojMzMzMzMzIi8+CgkJPHN0b3AgIG9mZnNldD0iMC4yMTA5IiBzdHlsZT0ic3RvcC1jb2xvcjojNUI1NzU1Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC40NzI4IiBzdHlsZT0ic3RvcC1jb2xvcjojOTA4QTg3Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC43MDEzIiBzdHlsZT0ic3RvcC1jb2xvcjojQzBCQUI1Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC44ODQ2IiBzdHlsZT0ic3RvcC1jb2xvcjojRTJEREQ1Ii8+CgkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I0YzRURFNSIvPgoJPC9yYWRpYWxHcmFkaWVudD4KCTxlbGxpcHNlIGNsYXNzPSJzdDUiIGN4PSIzNDQuNyIgY3k9IjIxNy4yIiByeD0iMzQuOSIgcnk9IjMuMiIvPgoJCgkJPHJhZGlhbEdyYWRpZW50IGlkPSJTVkdJRF82XyIgY3g9IjMxMi45ODMyIiBjeT0iLTE3NzcxNC42NDA2IiByPSI0NS4yMDgxIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDIuMTU0MSAwIDAgLTYuNTA3NTAwZS0wMDIgLTMyMy4yOTcgLTExMjg0Ljg4MDkpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CgkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6IzMzMzMzMyIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuMjEwOSIgc3R5bGU9InN0b3AtY29sb3I6IzVCNTc1NSIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNDcyOCIgc3R5bGU9InN0b3AtY29sb3I6IzkwOEE4NyIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNzAxMyIgc3R5bGU9InN0b3AtY29sb3I6I0MwQkFCNSIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuODg0NiIgc3R5bGU9InN0b3AtY29sb3I6I0UyRERENSIvPgoJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNGM0VERTUiLz4KCTwvcmFkaWFsR3JhZGllbnQ+Cgk8ZWxsaXBzZSBjbGFzcz0ic3Q2IiBjeD0iMzUwLjkiIGN5PSIyNzkuOSIgcng9Ijk4LjUiIHJ5PSIzLjIiLz4KCTxnPgoJCTxwYXRoIGNsYXNzPSJzdDciIGQ9Ik0xMzEuMSwyMTcuMmMwLDAsNC42LDIuMyw3LjgsMHM5LjgtMTIuMSw5LjgtMTIuMXMxLTQuMi0yLTUuOWMtMi45LTEuNy00OS45LTMyLjctNzUtMzUuOQoJCQljLTI1LTMuMy0xMy4yLDI1LjQtMTEuNCwyNy40YzEuNywyLDkuMSw0LjcsOS4xLDQuN3M5LjEtMTYuMiwxNC43LTE0LjdDODkuOCwxODIuMiwxMTQuNywyMDguNiwxMzEuMSwyMTcuMnoiLz4KCQkKCQkJPGxpbmVhckdyYWRpZW50IGlkPSJTVkdJRF83XyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI1NS45ODkxIiB5MT0iMjk0LjM2MzYiIHgyPSIxNDguOTk5MiIgeTI9IjI5NC4zNjM2IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIC0xIDAgNDg0KSI+CgkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNBNEEyQTIiLz4KCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6IzAwMDAwMCIvPgoJCTwvbGluZWFyR3JhZGllbnQ+CgkJPHBhdGggY2xhc3M9InN0OCIgZD0iTTEzMS4xLDIxNi4yYzAsMCw0LjYsMi4zLDcuOCwwczkuOC0xMi4xLDkuOC0xMi4xczEtNC4yLTItNS45Yy0yLjktMS43LTQ5LjktMzIuNy03NS0zNS45CgkJCWMtMjUuMS0zLjItMTMuMywyNS40LTExLjYsMjcuNWMxLjcsMiw5LjEsNC43LDkuMSw0LjdzOS4xLTE2LjIsMTQuNy0xNC43Qzg5LjgsMTgxLjIsMTE0LjcsMjA3LjYsMTMxLjEsMjE2LjJ6Ii8+CgkJPHBhdGggY2xhc3M9InN0OSIgZD0iTTE5NS40LDE0OS43Yy0xMy44LTIuOS00NC4yLTcuOS02OC41LTkuMnMtNjEuNSwxLjEtNzguNywzYy0xNy4yLDItMTcuNyw2LjEtMTcuNyw2LjF2Ny40bDMuNywxOS43CgkJCWM2LjEsMCwxMC42LDUuMiwxMy4zLDE2LjVzNi4xLDM1LjksMTcsNThDNzUuMywyNzMuMywxMDkuNywyNzksMTI1LDI3OWMxNS4yLDAsMzguOC0xLjUsNTUuMS0xMC44YzE2LjItOS4zLDM1LjktNDMuMyw0Mi4zLTY0LjQKCQkJYzYuNC0yMS4xLDE3LjctMTkuMiwxNy43LTE5LjJWMTYwQzIyNC4yLDE1OC42LDIwOS4xLDE1Mi43LDE5NS40LDE0OS43eiBNMjEwLjgsMTg1LjhjMCwwLTQuOSw2NS4yLTQwLjMsNzYuN3MtNzIuNCw0LjktODYuNS00LjkKCQkJYy0xNC4xLTkuOC0yNS42LTM1LjQtMjItNzcuN3M4MC43LTI5LjIsODkuMS0yOC41QzE1OS42LDE1Mi4xLDIxNC4xLDE1NC4zLDIxMC44LDE4NS44eiIvPgoJCTxwYXRoIGNsYXNzPSJzdDEwIiBkPSJNMTk1LjQsMTUxLjdjLTEzLjgtMi45LTQ0LjItNy45LTY4LjUtOS4ycy02MS41LDEuMS03OC43LDNjLTE3LjIsMi0xNy43LDYuMS0xNy43LDYuMXY3LjRsMy43LDE5LjcKCQkJYzYuMSwwLDEwLjYsNS4yLDEzLjMsMTYuNXM2LjEsMzUuOSwxNyw1OEM3NS4zLDI3NS4zLDEwOS43LDI4MSwxMjUsMjgxYzE1LjIsMCwzOC44LTEuNSw1NS4xLTEwLjhjMTYuMi05LjMsMzUuOS00My4zLDQyLjMtNjQuNAoJCQljNi40LTIxLjEsMTcuNy0xOS4yLDE3LjctMTkuMlYxNjJDMjI0LjIsMTYwLjUsMjA5LjEsMTU0LjYsMTk1LjQsMTUxLjd6IE0yMTAuOCwxODcuN2MwLDAtNC45LDY1LjItNDAuMyw3Ni43cy03Mi40LDQuOS04Ni41LTQuOQoJCQljLTE0LjEtOS44LTI1LjYtMzUuNC0yMi03Ny43czgwLjctMjkuMiw4OS4xLTI4LjVDMTU5LjYsMTU0LDIxNC4xLDE1Ni4zLDIxMC44LDE4Ny43eiIvPgoJPC9nPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0NyIgZD0iTTM0OC44LDIxNy4yYzAsMC00LjYsMi4zLTcuOCwwYy0zLjItMi4zLTkuOC0xMi4xLTkuOC0xMi4xcy0xLTQuMiwyLTUuOWMyLjktMS43LDQ5LjktMzIuNyw3NS0zNS45CgkJCWMyNS4xLTMuMiwxMy4zLDI1LjQsMTEuNiwyNy41Yy0xLjcsMi05LjEsNC43LTkuMSw0LjdzLTkuMS0xNi4yLTE0LjctMTQuN0MzOTAuMSwxODIuMiwzNjUuMSwyMDguNiwzNDguOCwyMTcuMnoiLz4KCQkKCQkJPGxpbmVhckdyYWRpZW50IGlkPSJTVkdJRF84XyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIyNjMuMDkzNSIgeTE9IjI5NC4zNjM2IiB4Mj0iMzU2LjEwMzYiIHkyPSIyOTQuMzYzNiIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgLTEgNjg3IDQ4NCkiPgoJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojQTRBMkEyIi8+CgkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMDAwMDAiLz4KCQk8L2xpbmVhckdyYWRpZW50PgoJCTxwYXRoIGNsYXNzPSJzdDExIiBkPSJNMzQ4LjgsMjE2LjJjMCwwLTQuNiwyLjMtNy44LDBjLTMuMi0yLjMtOS44LTEyLjEtOS44LTEyLjFzLTEtNC4yLDItNS45YzIuOS0xLjcsNDkuOS0zMi43LDc1LTM1LjkKCQkJYzI1LjEtMy4yLDEzLjMsMjUuNCwxMS42LDI3LjVjLTEuNywyLTkuMSw0LjctOS4xLDQuN3MtOS4xLTE2LjItMTQuNy0xNC43QzM5MC4xLDE4MS4yLDM2NS4xLDIwNy42LDM0OC44LDIxNi4yeiIvPgoJCTxwYXRoIGNsYXNzPSJzdDkiIGQ9Ik0yMzkuOSwxNjB2MjQuNmMwLDAsMTEuMy0yLDE3LjcsMTkuMmM2LjQsMjEuMSwyNi4xLDU1LjEsNDIuMyw2NC40YzE2LjIsOS4zLDM5LjgsMTAuOCw1NS4xLDEwLjgKCQkJYzE1LjIsMCw0OS43LTUuNyw2MC41LTI3LjhzMTQuMy00Ni43LDE3LTU4czcuMS0xNi41LDEzLjMtMTYuNWwzLjctMTkuN3YtNy40YzAsMC0wLjUtNC4yLTE3LjctNi4xYy0xNy4yLTItNTQuNC00LjMtNzguNy0zCgkJCWMtMjQuMywxLjMtNTQuNyw2LjItNjguNSw5LjJDMjcwLjgsMTUyLjcsMjU1LjcsMTU4LjYsMjM5LjksMTYweiBNMzI4LjgsMTUxLjRjOC41LTAuNyw4NS41LTEzLjgsODkuMSwyOC41cy03LjksNjcuOC0yMiw3Ny43CgkJCWMtMTQuMSw5LjgtNTEuMSwxNi40LTg2LjUsNC45cy00MC4zLTc2LjctNDAuMy03Ni43QzI2NS44LDE1NC4zLDMyMC4zLDE1Mi4xLDMyOC44LDE1MS40eiIvPgoJCTxwYXRoIGNsYXNzPSJzdDEwIiBkPSJNMjM5LjksMTYydjI0LjZjMCwwLDExLjMtMiwxNy43LDE5LjJjNi40LDIxLjEsMjYuMSw1NS4xLDQyLjMsNjQuNGMxNi4yLDkuMywzOS44LDEwLjgsNTUuMSwxMC44CgkJCWMxNS4yLDAsNDkuNy01LjcsNjAuNS0yNy44czE0LjMtNDYuNywxNy01OHM3LjEtMTYuNSwxMy4zLTE2LjVsMy43LTE5Ljd2LTcuNGMwLDAtMC41LTQuMi0xNy43LTYuMWMtMTcuMi0yLTU0LjQtNC4zLTc4LjctMwoJCQljLTI0LjMsMS4zLTU0LjcsNi4yLTY4LjUsOS4yQzI3MC44LDE1NC42LDI1NS43LDE2MC41LDIzOS45LDE2MnogTTMyOC44LDE1My4zYzguNS0wLjcsODUuNS0xMy44LDg5LjEsMjguNXMtNy45LDY3LjgtMjIsNzcuNwoJCQljLTE0LjEsOS44LTUxLjEsMTYuNC04Ni41LDQuOWMtMzUuNC0xMS40LTQwLjMtNzYuNy00MC4zLTc2LjdDMjY1LjgsMTU2LjMsMzIwLjMsMTU0LDMyOC44LDE1My4zeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo="},56682:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAZCAYAAAAv3j5gAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjREQUNBQTk3MDkwMTFFNkFGQjA4Q0ZFMjVEQjFENjkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjREQUNBQUE3MDkwMTFFNkFGQjA4Q0ZFMjVEQjFENjkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGNERBQ0FBNzcwOTAxMUU2QUZCMDhDRkUyNURCMUQ2OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGNERBQ0FBODcwOTAxMUU2QUZCMDhDRkUyNURCMUQ2OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pr4thfsAAAI2SURBVHjarNZPSBZBGMfx7e01tDL6Q5IeLAvL8hZBZHSq6BBEER1MCKNDhy5FENXJIKR/dOgUhbcgig4VRQQZCZkEHQSFwBAj6B9KRfUmobR9x56BH4vvbu/4PvB5mdmdd57Z3ZnZjeI4jkQNzuMNJuOwGMVttGjfmmQ7vsbljQuY5fqf+iHW4zmqon8xiX4UotIij7VYLMfOoMNfzQsZxSPUJm5pKfI4If1NoNGdaJaDQ6gKTFCHLnSiwp61j7OuQbscODWDK+mSftrQIPXHOe7fQrmfH4vc+zk4jB6M4RcGcQl11ua9tH+Ht1KvcSM5KpnbpxmpG9lAyswqoBWzsRub5L8++vMZs2gJnmJFYrQ/sdpm2VzcwA/cLdZRLiNRpyQZRguWo9lu2U3p5zrmhSSajwNWds9kG/rk/Cja8MTqy7AnJNEGVFr5VuLh+nCr/aLUN4ckWiTlkZR2w1JeGpJoTMprUto1SflzSKJXstftsz1sur3ttNR7QhKN45os2G7slP804r7NxMie4b203TYtOrAD61CLB7ZeCjbLfEzgIH6HrqPv2IpeOVadSPIFu/As6/2RFZ+wBXux3xZrpe0QD3EV3zIu4k/eRuSjvkgyt17umP+NVTobc4nVfggLovLEMSn3+V22W3baXjTN4L1UjXPS3zjq/TeDW3QvE1czYpOhlHDLoEG2LhfHcVlHshEfyvgF5D7XTvr+/RXpjn3EduGVNsJSIrZZ6qb6Fbz2J/4KMACp8yllhk0cBQAAAABJRU5ErkJggg=="},74419:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzkwRkJFMDI3MDkxMTFFNkJDRTBGMjQxOTQ1MzNBRDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzkwRkJFMDM3MDkxMTFFNkJDRTBGMjQxOTQ1MzNBRDYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozOTBGQkUwMDcwOTExMUU2QkNFMEYyNDE5NDUzM0FENiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozOTBGQkUwMTcwOTExMUU2QkNFMEYyNDE5NDUzM0FENiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsG9Q4cAAAEdSURBVHjaYvr///9iIP7znzbgCxBnMYJYDLQF35kYaA846WEJA7olv4G4Bog9gLgKyqcYsKDxJwFxK5S9E4hFgbiQ2j55hcZ/SYvgygZifSjbAIizaBFcckB8ARoXrNSKeHRLHgPxOSS+ERDLAvE9IL6MJG4OxLxAvAyIrwExNxC7ALEDVlvQcugCUN5Ewgug4hPQxEF8FTQxEA4H4r/o2Z7cfAJK5newiK+EplC8EU90UQHEZUC8Bogj0eSmE4oTYkEJEHdA2UFAfAKI70P5t4D4KzSeKPKJJRKbEYhN0eTfUiO40AEXenqihSUk5fhRS0gqVniAWAGNDwJ8aOLoES2CJo9iLj3q+OETJ+DWyhIg/ksjC0DFSwlAgAEAxpnkS0AecCEAAAAASUVORK5CYII="},99112:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FtYWRhXzEiIGRhdGEtbmFtZT0iQ2FtYWRhIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDExNzggMzA4Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2ZmZjt9LmNscy0ye2ZpbGw6I2VlZTt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPlByYW5jaGV0YSAxPC90aXRsZT48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0yLjYsMjAwLjljMC0zNC41LDI0LjItNjMuNyw2NC4yLTYzLjcsNDAuMywwLDY0LjUsMjkuMiw2NC41LDYzLjdzLTI0LjIsNjQtNjQuNSw2NEMyNi44LDI2NC45LDIuNiwyMzUuNCwyLjYsMjAwLjlabTk1LjQsMGMwLTE4LjktMTEuMS0zNS4yLTMxLjItMzUuMi0xOS45LDAtMzEsMTYuNC0zMSwzNS4yLDAsMTkuMSwxMS4xLDM1LjUsMzEsMzUuNUM4Ni45LDIzNi40LDk4LDIyMC4xLDk4LDIwMC45WiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTE4Ny4yLDI0Ni4ydjYxLjloLTMyVjE0MC4yaDMydjE1LjRhNDcuMTIsNDcuMTIsMCwwLDEsMzcuNS0xOC40YzMxLjIsMCw1My45LDIzLjIsNTMuOSw2My43cy0yMi43LDY0LTUzLjksNjRDMjEwLjMsMjY0LjksMTk3LjIsMjU4LjgsMTg3LjIsMjQ2LjJabTU4LjQtNDUuM2MwLTIwLjktMTIuNi0zNS4yLTMxLTM1LjItMTAuMywwLTIxLjksNS44LTI3LjQsMTMuOHY0Mi44YzUuMyw3LjgsMTcuMSwxNC4xLDI3LjQsMTQuMUMyMzMsMjM2LjQsMjQ1LjYsMjIyLjEsMjQ1LjYsMjAwLjlaIi8+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMzA4LjUsMjMxLjRWMTY4LjJIMjg4LjRWMTQwLjNoMjAuMVYxMDdoMzJ2MzMuMmgyNC43djI3LjlIMzQwLjV2NTQuNmMwLDcuOCw0LDEzLjYsMTEuMSwxMy42LDQuOCwwLDkuMy0xLjgsMTEuMS0zLjhsNi44LDI0LjRjLTQuOCw0LjMtMTMuMyw3LjgtMjYuNyw3LjhDMzIwLjMsMjY0LjksMzA4LjUsMjUzLjMsMzA4LjUsMjMxLjRaIi8+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMzg0LDEwOGExOSwxOSwwLDAsMSwzOCwwLDE5LDE5LDAsMSwxLTM4LDBabTMuMSwxNTMuOFYxNDAuMmgzMlYyNjEuOFoiLz48cGF0aCBpZD0iX0NhbWluaG9fY29tcG9zdG9fIiBkYXRhLW5hbWU9IiZsdDtDYW1pbmhvIGNvbXBvc3RvJmd0OyIgY2xhc3M9ImNscy0xIiBkPSJNNjc0LjksMTY4LjFjMC01Mi4yLDM2LjYtOTYuNCw5Ny4xLTk2LjQsNjEsMCw5Ny41LDQ0LjIsOTcuNSw5Ni40cy0zNi42LDk2LjgtOTcuNSw5Ni44QzcxMS41LDI2NC45LDY3NC45LDIyMC4zLDY3NC45LDE2OC4xWm0xNDQuNCwwYzAtMjguNi0xNi44LTUzLjMtNDcuMi01My4zLTMwLjEsMC00Ni45LDI0LjgtNDYuOSw1My4zLDAsMjksMTYuOCw1My43LDQ2LjksNTMuN0M4MDIuNSwyMjEuOCw4MTkuMywxOTcuMSw4MTkuMywxNjguMVoiLz48cGF0aCBpZD0iX0NhbWluaG9fIiBkYXRhLW5hbWU9IiZsdDtDYW1pbmhvJmd0OyIgY2xhc3M9ImNscy0xIiBkPSJNMTAyOS45LDIzNy4xaDBhODcuNjgsODcuNjgsMCwwLDEtNjQuOCwyNy44Yy00MC40LDAtNTkuNC0yMi4xLTU5LjQtNTcuOVY3Ni4zaDQ4LjRWMTg3LjljMCwyNS41LDEzLjMsMzMuOSwzMy45LDMzLjksMTguNywwLDMzLjUtMTAuMyw0MS45LTIxdi0xMDBhMjQuNTgsMjQuNTgsMCwwLDEsMjQuNi0yNC42aDIzLjh2MTg0aC0yNS4xQTIzLjE1LDIzLjE1LDAsMCwxLDEwMjkuOSwyMzcuMVoiLz48cGF0aCBpZD0iX0NhbWluaG9fMiIgZGF0YS1uYW1lPSImbHQ7Q2FtaW5obyZndDsiIGNsYXNzPSJjbHMtMSIgZD0iTTExMjYuMywyNjAuM1Y1NC42YTQ4LjQ0LDQ4LjQ0LDAsMCwxLDQ4LjQtNDguNGgwVjI2MC4zWiIvPjxwYXRoIGlkPSJfQ2FtaW5ob18zIiBkYXRhLW5hbWU9IiZsdDtDYW1pbmhvJmd0OyIgY2xhc3M9ImNscy0xIiBkPSJNNTM4LjYsOTguOWgwYy03MS44LTE2LTY5LjQtNTguNy01NS40LTc5LjItMjEuMiwxNC4zLTMzLjEsMzYtMzMuMSw2MCwwLDk1LjYsMTQ2LjMsNjQuOCwxNDYuMywxMDksMCwxNC45LTE0LjEsMjguMi00NC4yLDI4LjJhMTEwLDExMCwwLDAsMS02MS43LTE4LjcsMjUuNTQsMjUuNTQsMCwwLDAtMzUsNi44aDBhMjUuODQsMjUuODQsMCwwLDAsNy4yLDM2LjVjMjIuMiwxNC40LDUwLjgsMjMuNCw4Ny4yLDIzLjQsNjguMiwwLDEwMS43LTM1LDEwMS43LTgxLjVDNjUxLjcsMTE3LjYsNTgxLjYsMTEwLjQsNTM4LjYsOTguOVoiLz48cGF0aCBpZD0iX0NhbWluaG9fNCIgZGF0YS1uYW1lPSImbHQ7Q2FtaW5obyZndDsiIGNsYXNzPSJjbHMtMiIgZD0iTTUzNi40LDIuN2MtMTUuMiwxLjEtMjkuNyw3LjktMzguOCwyMC4xQzQ3Ni44LDUwLjQsNTA2LDcxLjcsNTA2LDcxLjdoMGMyLTEzLjEsMTQuNi0yMS4zLDM1LjUtMjEuM2ExMTQuMTUsMTE0LjE1LDAsMCwxLDU1LjMsMTQuMmMxMC43LDYsMjQuNCw0LjMsMzIuNC01QTI1LjM5LDI1LjM5LDAsMCwwLDYyMi43LDIxYy0yMS40LTEyLjMtNDctMTguNy03Ni4yLTE4LjdDNTQzLjEsMi40LDUzOS43LDIuNSw1MzYuNCwyLjdaIi8+PC9zdmc+"},60133:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9Im9wdGlzb3VsXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMTc0LjcgMzA4LjEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDExNzQuNyAzMDguMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMzRDNGM0M7fQoJLnN0MXtmaWxsOiMwMDlBREU7fQoJLnN0MntmaWxsOiMwMDU1Qjg7fQo8L3N0eWxlPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yLjYsMjAwLjljMC0zNC41LDI0LjItNjMuNyw2NC4yLTYzLjdjNDAuMywwLDY0LjUsMjkuMiw2NC41LDYzLjdzLTI0LjIsNjQtNjQuNSw2NAoJCUMyNi44LDI2NC45LDIuNiwyMzUuNCwyLjYsMjAwLjl6IE05OCwyMDAuOWMwLTE4LjktMTEuMS0zNS4yLTMxLjItMzUuMmMtMTkuOSwwLTMxLDE2LjQtMzEsMzUuMmMwLDE5LjEsMTEuMSwzNS41LDMxLDM1LjUKCQlDODYuOSwyMzYuNCw5OCwyMjAuMSw5OCwyMDAuOXoiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xODcuMiwyNDYuMnY2MS45aC0zMlYxNDAuMmgzMnYxNS40YzktMTEuNiwyMi44LTE4LjQsMzcuNS0xOC40YzMxLjIsMCw1My45LDIzLjIsNTMuOSw2My43cy0yMi43LDY0LTUzLjksNjQKCQlDMjEwLjMsMjY0LjksMTk3LjIsMjU4LjgsMTg3LjIsMjQ2LjJ6IE0yNDUuNiwyMDAuOWMwLTIwLjktMTIuNi0zNS4yLTMxLTM1LjJjLTEwLjMsMC0yMS45LDUuOC0yNy40LDEzLjh2NDIuOAoJCWM1LjMsNy44LDE3LjEsMTQuMSwyNy40LDE0LjFDMjMzLDIzNi40LDI0NS42LDIyMi4xLDI0NS42LDIwMC45eiIvPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTMwOC41LDIzMS40di02My4yaC0yMC4xdi0yNy45aDIwLjFWMTA3aDMydjMzLjJoMjQuN3YyNy45aC0yNC43djU0LjZjMCw3LjgsNCwxMy42LDExLjEsMTMuNgoJCWM0LjgsMCw5LjMtMS44LDExLjEtMy44bDYuOCwyNC40Yy00LjgsNC4zLTEzLjMsNy44LTI2LjcsNy44QzMyMC4zLDI2NC45LDMwOC41LDI1My4zLDMwOC41LDIzMS40eiIvPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTM4NCwxMDhjMC0xMC41LDguNS0xOSwxOS0xOXMxOSw4LjUsMTksMTlzLTguNSwxOS0xOSwxOVMzODQsMTE4LjUsMzg0LDEwOHogTTM4Ny4xLDI2MS44VjE0MC4yaDMydjEyMS42CgkJSDM4Ny4xeiIvPgoJPHBhdGggaWQ9Il9DYW1pbmhvX2NvbXBvc3RvXyIgY2xhc3M9InN0MSIgZD0iTTY3NC45LDE2OC4xYzAtNTIuMiwzNi42LTk2LjQsOTcuMS05Ni40YzYxLDAsOTcuNSw0NC4yLDk3LjUsOTYuNAoJCXMtMzYuNiw5Ni44LTk3LjUsOTYuOEM3MTEuNSwyNjQuOSw2NzQuOSwyMjAuMyw2NzQuOSwxNjguMXogTTgxOS4zLDE2OC4xYzAtMjguNi0xNi44LTUzLjMtNDcuMi01My4zYy0zMC4xLDAtNDYuOSwyNC44LTQ2LjksNTMuMwoJCWMwLDI5LDE2LjgsNTMuNyw0Ni45LDUzLjdDODAyLjUsMjIxLjgsODE5LjMsMTk3LjEsODE5LjMsMTY4LjFMODE5LjMsMTY4LjF6Ii8+Cgk8cGF0aCBpZD0iX0NhbWluaG9fIiBjbGFzcz0ic3QxIiBkPSJNMTAyOS45LDIzNy4xTDEwMjkuOSwyMzcuMWMtMTYuOCwxNy45LTQwLjMsMjgtNjQuOCwyNy44Yy00MC40LDAtNTkuNC0yMi4xLTU5LjQtNTcuOVY3Ni4zCgkJaDQ4LjR2MTExLjZjMCwyNS41LDEzLjMsMzMuOSwzMy45LDMzLjljMTguNywwLDMzLjUtMTAuMyw0MS45LTIxdi0xMDBjMC0xMy42LDExLTI0LjYsMjQuNi0yNC42YzAsMCwwLDAsMCwwaDIzLjh2MTg0aC0yNS4xCgkJYy0xMi44LDAuMS0yMy4yLTEwLjItMjMuMy0yM0MxMDI5LjksMjM3LjIsMTAyOS45LDIzNy4xLDEwMjkuOSwyMzcuMXoiLz4KCTxwYXRoIGlkPSJfQ2FtaW5ob18yIiBjbGFzcz0ic3QxIiBkPSJNMTEyNi4zLDI2MC4zVjU0LjZjMC0yNi43LDIxLjctNDguNCw0OC40LTQ4LjRsMCwwdjI1NC4xSDExMjYuM3oiLz4KCTxwYXRoIGlkPSJfQ2FtaW5ob18zIiBjbGFzcz0ic3QxIiBkPSJNNTM4LjYsOTguOUw1MzguNiw5OC45Yy03MS44LTE2LTY5LjQtNTguNy01NS40LTc5LjJjLTIxLjIsMTQuMy0zMy4xLDM2LTMzLjEsNjAKCQljMCw5NS42LDE0Ni4zLDY0LjgsMTQ2LjMsMTA5YzAsMTQuOS0xNC4xLDI4LjItNDQuMiwyOC4yYy0yMiwwLjEtNDMuNS02LjQtNjEuNy0xOC43Yy0xMS42LTcuNi0yNy4xLTQuNi0zNSw2LjhsMCwwCgkJYy04LjIsMTEuNy01LjMsMjcuOCw2LjQsMzZjMC4zLDAuMiwwLjUsMC40LDAuOCwwLjVjMjIuMiwxNC40LDUwLjgsMjMuNCw4Ny4yLDIzLjRjNjguMiwwLDEwMS43LTM1LDEwMS43LTgxLjUKCQlDNjUxLjcsMTE3LjYsNTgxLjYsMTEwLjQsNTM4LjYsOTguOXoiLz4KCTxwYXRoIGlkPSJfQ2FtaW5ob180IiBjbGFzcz0ic3QyIiBkPSJNNTM2LjQsMi43Yy0xNS4yLDEuMS0yOS43LDcuOS0zOC44LDIwLjFjLTIwLjgsMjcuNiw4LjQsNDguOSw4LjQsNDguOWwwLDAKCQljMi0xMy4xLDE0LjYtMjEuMywzNS41LTIxLjNjMTkuMywwLDM4LjQsNC45LDU1LjMsMTQuMmMxMC43LDYsMjQuNCw0LjMsMzIuNC01YzkuMi0xMC42LDgtMjYuNi0yLjYtMzUuOGMtMS4yLTEuMS0yLjUtMi0zLjktMi44CgkJYy0yMS40LTEyLjMtNDctMTguNy03Ni4yLTE4LjdDNTQzLjEsMi40LDUzOS43LDIuNSw1MzYuNCwyLjd6Ii8+CjwvZz4KPC9zdmc+Cg=="},98324:(e,o,t)=>{e.exports=t.p+"img/produto.336235cd.jpg"},94344:(e,o,t)=>{e.exports=t.p+"img/produto2.63fbb57c.jpg"},24209:(e,o,t)=>{e.exports=t.p+"img/produto3.7a4e0777.jpg"},65111:(e,o,t)=>{e.exports=t.p+"img/produto4.4a9d4af1.jpg"},85105:(e,o,t)=>{e.exports=t.p+"img/produto5.4617079c.jpg"},10139:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNjYuNyAxNjguOSIgd2lkdGg9IjE2Ni43IiBoZWlnaHQ9IjE2OC45IiBpc29sYXRpb249Imlzb2xhdGUiPjxkZWZzPjxjbGlwUGF0aD48cmVjdCB3aWR0aD0iMTY2LjciIGhlaWdodD0iMTY4LjkiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGlwLXBhdGg9InVybCgjX2NsaXBQYXRoX1BQUGlFY09SaFJTWXdvcEVFTm5hUkZ6emVZU1htd3R0KSI+PHBhdGggZD0iTTY1LjYgMTM1LjJDNjUuNiAxMzcuMSA2NC4xIDEzOC42IDYyLjIgMTM4LjYgNjAuNCAxMzguNiA1OC45IDEzNy4xIDU4LjkgMTM1LjIgNTguOSAxMzAuNyA2MS45IDEyNi43IDY2LjggMTI0IDcxLjEgMTIxLjYgNzcgMTIwLjEgODMuMyAxMjAuMSA4OS43IDEyMC4xIDk1LjYgMTIxLjYgOTkuOSAxMjQgMTA0LjcgMTI2LjcgMTA3LjggMTMwLjcgMTA3LjggMTM1LjIgMTA3LjggMTM3LjEgMTA2LjMgMTM4LjYgMTA0LjQgMTM4LjYgMTAyLjYgMTM4LjYgMTAxLjEgMTM3LjEgMTAxLjEgMTM1LjIgMTAxLjEgMTMzLjMgOTkuNCAxMzEuMyA5Ni42IDEyOS44IDkzLjMgMTI3LjkgODguNiAxMjYuOCA4My4zIDEyNi44IDc4LjEgMTI2LjggNzMuNCAxMjcuOSA3MCAxMjkuOCA2Ny4zIDEzMS4zIDY1LjYgMTMzLjMgNjUuNiAxMzUuMlpNMTQ5LjIgMTUzLjNDMTQ5LjIgMTU3LjYgMTQ3LjUgMTYxLjUgMTQ0LjYgMTY0LjQgMTQxLjggMTY3LjIgMTM3LjkgMTY4LjkgMTMzLjYgMTY4LjkgMTI5LjMgMTY4LjkgMTI1LjQgMTY3LjIgMTIyLjYgMTY0LjQgMTIwLjkgMTYyLjggMTE5LjcgMTYwLjkgMTE4LjkgMTU4LjcgMTE0LjEgMTYxIDEwOSAxNjIuOCAxMDMuNyAxNjQuMSA5Ny4yIDE2NS44IDkwLjQgMTY2LjYgODMuMyAxNjYuNiA2MC4zIDE2Ni42IDM5LjUgMTU3LjMgMjQuNCAxNDIuMiA5LjMgMTI3LjEgMCAxMDYuMyAwIDgzLjMgMCA2MC4zIDkuMyAzOS41IDI0LjQgMjQuNCAzOS41IDkuMyA2MC4zIDAgODMuMyAwIDEwNi40IDAgMTI3LjIgOS4zIDE0Mi4zIDI0LjQgMTU3LjMgMzkuNSAxNjYuNyA2MC4zIDE2Ni43IDgzLjMgMTY2LjcgOTQuNSAxNjQuNSAxMDUuMSAxNjAuNSAxMTQuOSAxNTYuNiAxMjQuMiAxNTEuMSAxMzIuNyAxNDQuNCAxNDAgMTQ3IDE0NS4xIDE0OS4yIDE1MC4yIDE0OS4yIDE1My4zWk0xMzAuNyAxMjYuM0MxMzEuMSAxMjUuNSAxMzEuOCAxMjUgMTMyLjUgMTI0LjhMMTMyLjYgMTI0LjcgMTMyLjYgMTI0LjcgMTMyLjcgMTI0LjcgMTMyLjcgMTI0LjcgMTMyLjggMTI0LjcgMTMyLjkgMTI0LjYgMTMyLjkgMTI0LjYgMTMyLjkgMTI0LjYgMTMzIDEyNC42IDEzMyAxMjQuNkMxMzMgMTI0LjYgMTMzLjEgMTI0LjYgMTMzLjEgMTI0LjZMMTMzLjEgMTI0LjYgMTMzLjIgMTI0LjYgMTMzLjIgMTI0LjZDMTMzLjkgMTI0LjUgMTM0LjYgMTI0LjYgMTM1LjIgMTI1IDEzNS44IDEyNS4zIDEzNi4zIDEyNS44IDEzNi42IDEyNi40TDEzNi42IDEyNi40IDEzNi42IDEyNi40IDEzNi42IDEyNi40IDEzNi42IDEyNi40IDEzNi42IDEyNi40IDEzNi42IDEyNi41IDEzNi42IDEyNi41IDEzNi42IDEyNi41IDEzNi42IDEyNi41IDEzNi42IDEyNi41IDEzNi43IDEyNi41QzEzNyAxMjcuMiAxMzcuNyAxMjguMyAxMzguNCAxMjkuNkwxMzguNCAxMjkuNiAxMzguNSAxMjkuNyAxMzguNSAxMjkuNyAxMzguNiAxMjkuOCAxMzguNiAxMjkuOSAxMzguNiAxMjkuOSAxMzguNyAxMzAgMTM4LjcgMTMwLjEgMTM4LjcgMTMwLjEgMTM4LjcgMTMwLjEgMTM4LjggMTMwLjIgMTM4LjggMTMwLjIgMTM4LjggMTMwLjMgMTM4LjkgMTMwLjMgMTM4LjkgMTMwLjQgMTM4LjkgMTMwLjQgMTM4LjkgMTMwLjQgMTM5IDEzMC41IDEzOSAxMzAuNSAxMzkgMTMwLjYgMTM5LjEgMTMwLjcgMTM5LjEgMTMwLjcgMTM5LjEgMTMwLjcgMTM5LjIgMTMwLjggMTM5LjIgMTMwLjggMTM5LjIgMTMwLjlDMTM5LjggMTMxLjggMTQwLjQgMTMyLjkgMTQxIDEzMy45IDE0Ni41IDEyNy42IDE1MS4xIDEyMC4zIDE1NC4zIDExMi40IDE1OCAxMDMuNCAxNjAgOTMuNiAxNjAgODMuMyAxNjAgNjIuMSAxNTEuNCA0MyAxMzcuNiAyOS4xIDEyMy43IDE1LjIgMTA0LjUgNi43IDgzLjMgNi43IDYyLjIgNi43IDQzIDE1LjIgMjkuMSAyOS4xIDE1LjIgNDMgNi43IDYyLjEgNi43IDgzLjMgNi43IDEwNC41IDE1LjIgMTIzLjYgMjkuMSAxMzcuNSA0MyAxNTEuNCA2Mi4yIDE2MCA4My4zIDE2MCA4OS44IDE2MCA5Ni4xIDE1OS4yIDEwMi4xIDE1Ny43IDEwNy44IDE1Ni4yIDExMy4xIDE1NC4yIDExOC4xIDE1MS43TDExOC4xIDE1MS42IDExOC4yIDE1MS42IDExOC4yIDE1MS4zIDExOC4yIDE1MS4zIDExOC4zIDE1MSAxMTguMyAxNTEgMTE4LjQgMTUwLjcgMTE4LjQgMTUwLjYgMTE4LjUgMTUwLjQgMTE4LjUgMTUwLjMgMTE4LjUgMTUwIDExOC42IDE0OS45IDExOC42IDE0OS43IDExOC43IDE0OS42IDExOC44IDE0OS4zQzExOC45IDE0OC45IDExOSAxNDguNSAxMTkuMSAxNDguMkwxMTkuMiAxNDguMSAxMTkuMyAxNDcuOCAxMTkuMyAxNDcuNyAxMTkuNCAxNDcuNCAxMTkuNCAxNDcuNEMxMTkuNSAxNDcuMSAxMTkuNiAxNDYuOSAxMTkuNyAxNDYuN0wxMTkuNyAxNDYuNiAxMTkuOCAxNDYuMyAxMTkuOSAxNDYuMiAxMjAgMTQ1LjkgMTIwLjEgMTQ1LjlDMTIwLjIgMTQ1LjYgMTIwLjMgMTQ1LjMgMTIwLjQgMTQ1LjFMMTIwLjQgMTQ1LjEgMTIwLjYgMTQ0LjcgMTIwLjYgMTQ0LjYgMTIwLjcgMTQ0LjMgMTIwLjggMTQ0LjIgMTIwLjkgMTQzLjkgMTIwLjkgMTQzLjggMTIxIDE0My44IDEyMS4xIDE0My41IDEyMS4xIDE0My40IDEyMS4yIDE0My4yIDEyMS4zIDE0MyAxMjEuNCAxNDNDMTIxLjYgMTQyLjYgMTIxLjcgMTQyLjIgMTIyIDE0MS44TDEyMiAxNDEuNyAxMjIuMiAxNDEuNCAxMjIuMiAxNDEuMyAxMjIuNCAxNDAuOSAxMjIuNCAxNDAuOSAxMjIuNiAxNDAuNSAxMjIuNiAxNDAuNSAxMjIuOCAxNDAuMSAxMjMgMTM5LjggMTIzIDEzOS43IDEyMyAxMzkuNyAxMjMuNCAxMzguOSAxMjMuNSAxMzguOSAxMjMuNiAxMzguNiAxMjMuNyAxMzguNCAxMjMuOCAxMzguMyAxMjMuOSAxMzggMTI0IDEzNy45IDEyNC4yIDEzNy42IDEyNC4yIDEzNy41IDEyNC40IDEzNy4yIDEyNC40IDEzNy4yIDEyNC42IDEzNi44IDEyNC42IDEzNi44IDEyNC44IDEzNi40IDEyNC44IDEzNi40IDEyNSAxMzYuMSAxMjUuMSAxMzYgMTI1LjIgMTM1LjcgMTI1LjMgMTM1LjYgMTI1LjQgMTM1LjMgMTI1LjUgMTM1LjIgMTI1LjYgMTM1IDEyNS43IDEzNC44IDEyNS44IDEzNC42IDEyNS45IDEzNC40IDEyNi4yIDEzNCAxMjYuMiAxMzMuOSAxMjYuNCAxMzMuNiAxMjYuNCAxMzMuNiAxMjYuNiAxMzMuMyAxMjYuNiAxMzMuMiAxMjYuOCAxMzIuOSAxMjYuOCAxMzIuOSAxMjcgMTMyLjUgMTI3IDEzMi41IDEyNy4zIDEzMi4yIDEyNy40IDEzMS45IDEyNy40IDEzMS44IDEyNy42IDEzMS42IDEyNy43IDEzMS41IDEyNy44IDEzMS4zIDEyNy45IDEzMS4xIDEyOCAxMzEgMTI4LjEgMTMwLjggMTI4LjEgMTMwLjYgMTI4LjMgMTMwLjQgMTI4LjMgMTMwLjQgMTI4LjUgMTMwLjEgMTI4LjUgMTMwLjEgMTI4LjcgMTI5LjggMTI4LjcgMTI5LjggMTI4LjggMTI5LjUgMTI4LjggMTI5LjUgMTI4LjkgMTI5LjQgMTI4LjkgMTI5LjMgMTI5IDEyOS4zIDEyOSAxMjkuMiAxMjkgMTI5LjEgMTI5IDEyOS4xIDEyOS4xIDEyOSAxMjkuMSAxMjkgMTI5LjIgMTI4LjkgMTI5LjIgMTI4LjkgMTI5LjIgMTI4LjggMTI5LjIgMTI4LjggMTI5LjMgMTI4LjggMTI5LjMgMTI4LjggMTI5LjMgMTI4LjcgMTI5LjMgMTI4LjcgMTI5LjMgMTI4LjcgMTI5LjMgMTI4LjcgMTI5LjQgMTI4LjYgMTI5LjQgMTI4LjYgMTI5LjQgMTI4LjUgMTI5LjQgMTI4LjUgMTI5LjQgMTI4LjQgMTI5LjUgMTI4LjQgMTI5LjUgMTI4LjQgMTI5LjUgMTI4LjQgMTI5LjUgMTI4LjQgMTI5LjUgMTI4LjMgMTI5LjUgMTI4LjMgMTI5LjYgMTI4LjIgMTI5LjYgMTI4LjIgMTI5LjYgMTI4LjIgMTI5LjYgMTI4LjIgMTI5LjYgMTI4LjEgMTI5LjYgMTI4LjEgMTI5LjcgMTI4LjEgMTI5LjcgMTI4LjEgMTI5LjcgMTI4IDEyOS43IDEyOCAxMjkuOCAxMjcuOSAxMjkuOCAxMjcuOSAxMjkuOCAxMjcuOSAxMjkuOCAxMjcuOSAxMjkuOCAxMjcuOCAxMjkuOCAxMjcuOCAxMjkuOCAxMjcuOCAxMjkuOCAxMjcuOCAxMjkuOSAxMjcuNyAxMjkuOSAxMjcuNyAxMjkuOSAxMjcuNyAxMjkuOSAxMjcuNyAxMjkuOSAxMjcuNiAxMjkuOSAxMjcuNiAxMzAgMTI3LjYgMTMwIDEyNy42IDEzMCAxMjcuNSAxMzAgMTI3LjUgMTMwIDEyNy40IDEzMCAxMjcuNCAxMzAuMSAxMjcuNCAxMzAuMSAxMjcuNCAxMzAuMSAxMjcuNCAxMzAuMSAxMjcuNCAxMzAuMSAxMjcuMyAxMzAuMSAxMjcuMyAxMzAuMSAxMjcuMyAxMzAuMSAxMjcuMyAxMzAuMiAxMjcuMiAxMzAuMiAxMjcuMiAxMzAuMiAxMjcuMiAxMzAuMiAxMjcuMiAxMzAuMiAxMjcuMSAxMzAuMiAxMjcuMSAxMzAuMiAxMjcuMSAxMzAuMiAxMjcuMSAxMzAuMyAxMjcgMTMwLjMgMTI3IDEzMC4zIDEyNyAxMzAuMyAxMjcgMTMwLjMgMTI3IDEzMC4zIDEyNyAxMzAuNCAxMjYuOSAxMzAuNCAxMjYuOSAxMzAuNCAxMjYuOSAxMzAuNCAxMjYuOSAxMzAuNCAxMjYuOCAxMzAuNCAxMjYuOCAxMzAuNCAxMjYuOCAxMzAuNCAxMjYuOCAxMzAuNCAxMjYuOCAxMzAuNCAxMjYuOCAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNiAxMzAuNSAxMjYuNiAxMzAuNSAxMjYuNiAxMzAuNSAxMjYuNiAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNCAxMzAuNiAxMjYuNCAxMzAuNyAxMjYuNCAxMzAuNyAxMjYuNCAxMzAuNyAxMjYuNCAxMzAuNyAxMjYuNCAxMzAuNyAxMjYuMyAxMzAuNyAxMjYuMyAxMzAuNyAxMjYuMyAxMzAuNyAxMjYuM1pNMTQwIDE1OS42QzE0MS41IDE1OC4xIDE0Mi42IDE1NS44IDE0Mi42IDE1My4zIDE0Mi42IDE1MSAxNDAuMSAxNDYgMTM3LjQgMTQxLjFMMTM3LjQgMTQxLjEgMTM3LjQgMTQxLjEgMTM3LjQgMTQxLjFDMTM3IDE0MC40IDEzNi43IDEzOS44IDEzNi4zIDEzOS4xTDEzNi4yIDEzOSAxMzYuMiAxMzguOSAxMzYuMSAxMzguOSAxMzYuMSAxMzguOCAxMzYgMTM4LjUgMTM1LjkgMTM4LjVDMTM1LjIgMTM3LjIgMTM0LjUgMTM2LjEgMTMzLjkgMTM1TDEzMy44IDEzNC45IDEzMy44IDEzNC44IDEzMy44IDEzNC44IDEzMy43IDEzNC43IDEzMy42IDEzNC42IDEzMy42IDEzNC41IDEzMy40IDEzNC44IDEzMy4zIDEzNS4xIDEzMy4zIDEzNS4xIDEzMy4xIDEzNS40IDEzMy4xIDEzNS40IDEzMi45IDEzNS43IDEzMi43IDEzNiAxMzIuNyAxMzYgMTMyLjUgMTM2LjMgMTMyLjUgMTM2LjMgMTMyLjQgMTM2LjYgMTMyLjIgMTM2LjkgMTMyLjIgMTM2LjkgMTMyIDEzNy4yIDEzMS44IDEzNy41IDEzMS44IDEzNy41IDEzMS42IDEzNy45IDEzMS42IDEzNy45IDEzMS40IDEzOC4yIDEzMS40IDEzOC4yIDEzMS4yIDEzOC41IDEzMSAxMzguOSAxMzEgMTM4LjkgMTMwLjggMTM5LjIgMTMwLjggMTM5LjIgMTMwLjcgMTM5LjUgMTMwLjcgMTM5LjUgMTMwLjUgMTM5LjkgMTMwLjUgMTM5LjkgMTMwLjMgMTQwLjIgMTMwLjEgMTQwLjUgMTMwLjEgMTQwLjUgMTI5LjkgMTQwLjkgMTI5LjkgMTQwLjkgMTI5LjcgMTQxLjIgMTI5LjcgMTQxLjIgMTI5LjYgMTQxLjUgMTI5LjQgMTQxLjkgMTI5LjIgMTQyLjIgMTI5LjIgMTQyLjIgMTI5IDE0Mi42IDEyOSAxNDIuNiAxMjguOCAxNDIuOSAxMjguNiAxNDMuMiAxMjguNiAxNDMuMiAxMjguNSAxNDMuNiAxMjguMyAxNDMuOSAxMjguMyAxNDMuOSAxMjguMSAxNDQuMyAxMjguMSAxNDQuMyAxMjcuOSAxNDQuNiAxMjcuOSAxNDQuNiAxMjcuOCAxNDQuOSAxMjcuNiAxNDUuMiAxMjcuNCAxNDUuNiAxMjcuMyAxNDUuOSAxMjcuMyAxNDUuOSAxMjcuMSAxNDYuMiAxMjcgMTQ2LjUgMTI3IDE0Ni41IDEyNi44IDE0Ni44IDEyNi44IDE0Ni44IDEyNi43IDE0Ny4yIDEyNi43IDE0Ny4yIDEyNi41IDE0Ny41IDEyNi41IDE0Ny41IDEyNi40IDE0Ny44IDEyNi40IDE0Ny44IDEyNi4zIDE0OC4xIDEyNi4xIDE0OC40IDEyNiAxNDguNiAxMjYgMTQ4LjYgMTI1LjkgMTQ5IDEyNS45IDE0OSAxMjUuNyAxNDkuMyAxMjUuNyAxNDkuNSAxMjUuNyAxNDkuNSAxMjUuNiAxNDkuOCAxMjUuNiAxNDkuOCAxMjUuNCAxNTAgMTI1LjQgMTUwIDEyNS4zIDE1MC4zIDEyNS4zIDE1MC4zIDEyNS4zIDE1MC42IDEyNS4zIDE1MC42IDEyNS4yIDE1MC44IDEyNS4yIDE1MC44IDEyNS4xIDE1MS4xIDEyNS4xIDE1MS4xIDEyNSAxNTEuMyAxMjUgMTUxLjMgMTI1IDE1MS42IDEyNSAxNTEuNiAxMjQuOSAxNTEuOCAxMjQuOSAxNTEuOCAxMjQuOCAxNTIgMTI0LjggMTUyIDEyNC44IDE1Mi4yIDEyNC44IDE1Mi4yIDEyNC44IDE1Mi40IDEyNC44IDE1Mi40QzEyNC43IDE1Mi41IDEyNC43IDE1Mi41IDEyNC43IDE1Mi42TDEyNC43IDE1Mi42IDEyNC43IDE1Mi44IDEyNC43IDE1Mi44QzEyNC43IDE1Mi45IDEyNC43IDE1Mi45IDEyNC43IDE1M0wxMjQuNyAxNTMgMTI0LjYgMTUzLjIgMTI0LjYgMTUzLjIgMTI0LjYgMTUzLjMgMTI0LjYgMTUzLjRDMTI0LjcgMTU1LjkgMTI1LjcgMTU4LjEgMTI3LjMgMTU5LjcgMTI4LjkgMTYxLjMgMTMxLjEgMTYyLjMgMTMzLjYgMTYyLjMgMTM2LjEgMTYyLjMgMTM4LjMgMTYxLjMgMTQwIDE1OS42Wk0xMzUuMyA3Mi43QzEzNi4yIDc0LjMgMTM1LjYgNzYuMyAxMzMuOSA3Ny4yIDEzMi4zIDc4IDEzMC4zIDc3LjQgMTI5LjQgNzUuOCAxMjguNyA3NC4zIDEyNy42IDcyLjkgMTI2LjMgNzEuOSAxMjUgNzAuOCAxMjMuNCA3MC4xIDEyMS44IDY5LjZMMTIxLjggNjkuNkMxMjAuOCA2OS40IDExOS44IDY5LjIgMTE4LjkgNjkuMiAxMTcuOCA2OS4yIDExNi44IDY5LjMgMTE1LjggNjkuNSAxMTQgNjkuOSAxMTIuMyA2OC44IDExMS44IDY3IDExMS41IDY1LjIgMTEyLjYgNjMuNSAxMTQuNCA2MyAxMTUuOCA2Mi43IDExNy40IDYyLjYgMTE4LjkgNjIuNiAxMjAuNSA2Mi42IDEyMiA2Mi44IDEyMy40IDYzLjJMMTIzLjYgNjMuMkMxMjYuMSA2My45IDEyOC40IDY1LjEgMTMwLjQgNjYuNyAxMzIuNSA2OC4zIDEzNC4xIDcwLjQgMTM1LjMgNzIuN1pNMzcuMiA3NS44QzM2LjQgNzcuNCAzNC40IDc4IDMyLjcgNzcuMiAzMS4xIDc2LjMgMzAuNSA3NC4zIDMxLjMgNzIuNyAzMi41IDcwLjQgMzQuMiA2OC4zIDM2LjIgNjYuNyAzOC4yIDY1LjEgNDAuNiA2My45IDQzLjEgNjMuMkw0My4yIDYzLjJDNDQuNyA2Mi44IDQ2LjIgNjIuNiA0Ny43IDYyLjYgNDkuMyA2Mi42IDUwLjggNjIuNyA1Mi4zIDYzIDU0LjEgNjMuNSA1NS4yIDY1LjIgNTQuOCA2NyA1NC40IDY4LjggNTIuNiA2OS45IDUwLjkgNjkuNSA0OS45IDY5LjMgNDguOCA2OS4yIDQ3LjggNjkuMiA0Ni44IDY5LjIgNDUuOCA2OS40IDQ0LjkgNjkuNkw0NC45IDY5LjZDNDMuMiA3MC4xIDQxLjcgNzAuOCA0MC40IDcxLjkgMzkuMSA3Mi45IDM4IDc0LjMgMzcuMiA3NS44Wk0xMjUuMiA5Mi43QzEyNS4yIDkwLjcgMTI0LjUgODguOSAxMjMuMyA4Ny42IDEyMi4yIDg2LjUgMTIwLjYgODUuNyAxMTkgODUuNyAxMTcuMyA4NS43IDExNS44IDg2LjUgMTE0LjcgODcuNiAxMTMuNSA4OC45IDExMi44IDkwLjcgMTEyLjggOTIuNyAxMTIuOCA5NC42IDExMy41IDk2LjQgMTE0LjcgOTcuNyAxMTUuOCA5OC45IDExNy4zIDk5LjYgMTE5IDk5LjYgMTIwLjYgOTkuNiAxMjIuMiA5OC45IDEyMy4zIDk3LjcgMTI0LjUgOTYuNCAxMjUuMiA5NC42IDEyNS4yIDkyLjdaTTEyOC4yIDgzLjJDMTMwLjQgODUuNiAxMzEuOCA4OSAxMzEuOCA5Mi43IDEzMS44IDk2LjQgMTMwLjQgOTkuNyAxMjguMiAxMDIuMiAxMjUuOCAxMDQuNyAxMjIuNiAxMDYuMyAxMTkgMTA2LjMgMTE1LjQgMTA2LjMgMTEyLjEgMTA0LjcgMTA5LjggMTAyLjIgMTA3LjUgOTkuNyAxMDYuMSA5Ni40IDEwNi4xIDkyLjcgMTA2LjEgODkgMTA3LjUgODUuNiAxMDkuOCA4My4yIDExMi4xIDgwLjYgMTE1LjQgNzkuMSAxMTkgNzkuMSAxMjIuNiA3OS4xIDEyNS44IDgwLjYgMTI4LjIgODMuMlpNNTMuOSA5Mi43QzUzLjkgOTAuNyA1My4yIDg4LjkgNTIgODcuNiA1MC45IDg2LjUgNDkuNCA4NS43IDQ3LjcgODUuNyA0NiA4NS43IDQ0LjUgODYuNSA0My40IDg3LjYgNDIuMiA4OC45IDQxLjUgOTAuNyA0MS41IDkyLjcgNDEuNSA5NC42IDQyLjIgOTYuNCA0My40IDk3LjcgNDQuNSA5OC45IDQ2IDk5LjYgNDcuNyA5OS42IDQ5LjQgOTkuNiA1MC45IDk4LjkgNTIgOTcuNyA1My4yIDk2LjQgNTMuOSA5NC42IDUzLjkgOTIuN1pNNTYuOSA4My4yQzU5LjIgODUuNiA2MC41IDg5IDYwLjUgOTIuNyA2MC41IDk2LjQgNTkuMiA5OS43IDU2LjkgMTAyLjIgNTQuNSAxMDQuNyA1MS4zIDEwNi4zIDQ3LjcgMTA2LjMgNDQuMSAxMDYuMyA0MC45IDEwNC43IDM4LjUgMTAyLjIgMzYuMiA5OS43IDM0LjggOTYuNCAzNC44IDkyLjcgMzQuOCA4OSAzNi4yIDg1LjYgMzguNSA4My4yIDQwLjkgODAuNiA0NC4xIDc5LjEgNDcuNyA3OS4xIDUxLjMgNzkuMSA1NC41IDgwLjYgNTYuOSA4My4yWiIgZmlsbD0icmdiKDEsMjIsMzkpIiBmaWxsLW9wYWNpdHk9IjAuMiIvPjwvZz48L3N2Zz4K"},21001:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAZCAYAAAAiwE4nAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjRBNzQ3QkE3MDkxMTFFNjlBQzJDMEQ5ODc0NUI1RTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjRBNzQ3QkI3MDkxMTFFNjlBQzJDMEQ5ODc0NUI1RTIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyNEE3NDdCODcwOTExMUU2OUFDMkMwRDk4NzQ1QjVFMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyNEE3NDdCOTcwOTExMUU2OUFDMkMwRDk4NzQ1QjVFMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkQ+ZjoAAAHDSURBVHjatNbNK0RRGMfxgwmlmVmIxWQKSbKi5KWEkv+BnViykgUrkpUSZaGsREpKksUUIRRLC5qshJQUMTaGjOt7pufWdTNmDnd+9am5bz33nJmeZ5RlWeoffOjDMeJI4BLTKHXd24Sw/hDGPHIMiwWwa6XOI7oxihOcIVc/OCw3zOkTBgU3rcwTQx1C+sFFx4V1efN0xToNin3Ky+1jRj+85LpBfwddaQouWOZZQ16uUiqqvqcC29hCq/o5lcoss+hBQr9tJT5+ebNzTKADfllhxHB1Nfbu2Fs0afDwA14MC5bbBfWWjuMOhxluTzH8hlt6b3/wIYAxlb3c4NU+0CvcUNnNifNAFzxCJIsFt50HyXZGgnKh0eNicYTw5FyhTgxtGJE99yorzmLJOLrHAC6k6XqRd1S5u5TzIIg7y7tM/dQW3ScaPFphFIWZFLTn47IM1L/kGdWpGv9vE6EEe4bFYjLZlUlBPQ+HcGtY7Br16Wapbm29KEIZWtCMAsOf/yoG8Zj2Tqr2y9D9Sw5kbGX8X8juNDloR7cM3Vo5584bTrEjq4qadgK7oDt+aUl6FOVLt3/AVXJq/yOpCmYtXwIMAIUbn+xLFAYPAAAAAElFTkSuQmCC"},42480:()=>{},55382:()=>{},72095:()=>{},61219:()=>{},28417:e=>{"use strict";e.exports=JSON.parse('{"R":"v2021.1202. 943"}')}},n={};function c(e){var o=n[e];if(void 0!==o)return o.exports;var t=n[e]={id:e,loaded:!1,exports:{}};return s[e].call(t.exports,t,t.exports,c),t.loaded=!0,t.exports}c.m=s,c.amdO={},e=[],c.O=(o,t,a,i)=>{if(!t){var r=1/0;for(d=0;d<e.length;d++){for(var[t,a,i]=e[d],l=!0,s=0;s<t.length;s++)(!1&i||r>=i)&&Object.keys(c.O).every((e=>c.O[e](t[s])))?t.splice(s--,1):(l=!1,i<r&&(r=i));if(l){e.splice(d--,1);var n=a();void 0!==n&&(o=n)}}return o}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[t,a,i]},c.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return c.d(o,{a:o}),o},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var i=Object.create(null);c.r(i);var r={};o=o||[null,t({}),t([]),t(t)];for(var l=2&a&&e;"object"==typeof l&&!~o.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((o=>r[o]=()=>e[o]));return r.default=()=>e,c.d(i,r),i},c.d=(e,o)=>{for(var t in o)c.o(o,t)&&!c.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((o,t)=>(c.f[t](e,o),o)),[])),c.u=e=>"js/"+({82:"ItensManipulacaoLista",919:"Contrato",987:"VendasLista"}[e]||e)+"."+{82:"44a5022c",133:"d78d2f7c",750:"8c69def4",919:"f3ed548d",987:"8bb314ea"}[e]+".js",c.miniCssF=e=>"css/"+{143:"app",736:"vendor",919:"Contrato"}[e]+"."+{143:"ad82d71b",736:"5aa6bfbd",919:"c6bc5797"}[e]+".css",c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),a={},i="b15:",c.l=(e,o,t,r)=>{if(a[e])a[e].push(o);else{var l,s;if(void 0!==t)for(var n=document.getElementsByTagName("script"),d=0;d<n.length;d++){var m=n[d];if(m.getAttribute("src")==e||m.getAttribute("data-webpack")==i+t){l=m;break}}l||(s=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.setAttribute("data-webpack",i+t),l.src=e),a[e]=[o];var u=(o,t)=>{l.onerror=l.onload=null,clearTimeout(p);var i=a[e];if(delete a[e],l.parentNode&&l.parentNode.removeChild(l),i&&i.forEach((e=>e(t))),o)return o(t)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=u.bind(null,l.onerror),l.onload=u.bind(null,l.onload),s&&document.head.appendChild(l)}},c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),c.p="/",r=e=>new Promise(((o,t)=>{var a=c.miniCssF(e),i=c.p+a;if(((e,o)=>{for(var t=document.getElementsByTagName("link"),a=0;a<t.length;a++){var i=(l=t[a]).getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(i===e||i===o))return l}var r=document.getElementsByTagName("style");for(a=0;a<r.length;a++){var l;if((i=(l=r[a]).getAttribute("data-href"))===e||i===o)return l}})(a,i))return o();((e,o,t,a)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=r=>{if(i.onerror=i.onload=null,"load"===r.type)t();else{var l=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.href||o,n=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");n.code="CSS_CHUNK_LOAD_FAILED",n.type=l,n.request=s,i.parentNode.removeChild(i),a(n)}},i.href=o,document.head.appendChild(i)})(e,i,o,t)})),l={143:0},c.f.miniCss=(e,o)=>{l[e]?o.push(l[e]):0!==l[e]&&{919:1}[e]&&o.push(l[e]=r(e).then((()=>{l[e]=0}),(o=>{throw delete l[e],o})))},(()=>{var e={143:0};c.f.j=(o,t)=>{var a=c.o(e,o)?e[o]:void 0;if(0!==a)if(a)t.push(a[2]);else{var i=new Promise(((t,i)=>a=e[o]=[t,i]));t.push(a[2]=i);var r=c.p+c.u(o),l=new Error;c.l(r,(t=>{if(c.o(e,o)&&(0!==(a=e[o])&&(e[o]=void 0),a)){var i=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+o+" failed.\n("+i+": "+r+")",l.name="ChunkLoadError",l.type=i,l.request=r,a[1](l)}}),"chunk-"+o,o)}},c.O.j=o=>0===e[o];var o=(o,t)=>{var a,i,[r,l,s]=t,n=0;if(r.some((o=>0!==e[o]))){for(a in l)c.o(l,a)&&(c.m[a]=l[a]);if(s)var d=s(c)}for(o&&o(t);n<r.length;n++)i=r[n],c.o(e,i)&&e[i]&&e[i][0](),e[r[n]]=0;return c.O(d)},t=self.webpackChunkb15=self.webpackChunkb15||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var d=c.O(void 0,[736],(()=>c(65150)));d=c.O(d)})();