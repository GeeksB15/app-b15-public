"use strict";(globalThis.webpackChunkb15=globalThis.webpackChunkb15||[]).push([[231],{11231:(e,o,a)=>{a.r(o),a.d(o,{default:()=>O});var t=a(34182);const i={class:"row no-wrap q-pa-md"},r={class:"column"},l=(0,t.createElementVNode)("div",{class:"text-h6 q-mb-md"},"Sincronismo RoutEasy",-1),s=(0,t.createTextVNode)("Enviar"),n=(0,t.createTextVNode)("Acessar Painel"),d={class:"column items-center",style:{"margin-bottom":"0px"}},c=(0,t.createElementVNode)("div",{class:"text-h6 q-mb-md"},"Importar Roterização",-1),u={class:"q-mt-sm"},m=(0,t.createElementVNode)("br",null,null,-1),p=(0,t.createElementVNode)("span",{class:"col-12 text-body1 text-dark"},"Faturado em",-1),f=(0,t.createElementVNode)("span",{class:"col-12 text-body1 text-dark"},"Período de Emissão",-1),h=(0,t.createElementVNode)("span",{class:"col-12 text-body1 text-dark"},"Período de Finalização",-1),v=(0,t.createElementVNode)("p",null,null,-1);var g=a(34821),b=a(60077),V=a(34177),C=a(30052),w=a.n(C),E=(a(54726),a(84830)),y=a.n(E);const $={alterados:0,arquivo:null,cor:"text-negative",corFinal:"",erro:"",erros:0,incluidos:0,listaErros:[],mensagem:"",mensagemFinal:"",modalResultado:!1},D={components:{lista:g.Z,VendaCardLista:b.Z,VendaModal:V.Z},data(){const e=new Date(new Date($utils.dataAtual()).toDateString());return{tokenRoutEasy:null,tabSelecionada:{value:"Finalizado,Faturado,Entregue",valor:"Finalizado,Faturado,Entregue"},importar:$utils.clonarV2($),opcoesStatusEnvio:[{rotulo:"Enviados"},{rotulo:"Não Enviados"}],page:{digitacao:{current:1,min:0,max:0},finalizado:{current:1,min:0,max:0},ativa:"Digitação"},entregueInicio:new Date(new Date($utils.dataAtual()).toDateString()),entregueFim:new Date(new Date($utils.dataAtual()).toDateString()),status:[],operacoes:[],pageSize:10,grupos:[],buscaCampo:"",empresas:[],empresa:{},contatosModal:!1,vendedorModal:!1,digitadorModal:!1,buscaCliente:"",filtro:{opcaoDataSelected:"Data Faturado",statusEnvio:null,valorTotal:0,status:"Faturado",operacao:"",grupos:[],empresa:null,cliente:{id:"",nome:""},vendedor:{id:""},digitador:{id:""},periodo:{faturado:{ini:e,fim:e},emissao:{ini:"",fim:""},finalizado:{ini:"",fim:""}}},paginacao:{atual:1,maximo:1,total:1,limite:25},dbContato:$db.contato,documentos:[],showFilters:!1,vendedorDigitadorSelecionado:null,vendedoresDigitadoresOpcoes:[],diretivaContatosAcessaTodosContatos:!1,showAllPreviewDetail:!1,tabs:[],lista:[],usuario:JSON.parse(localStorage.getItem("usuario")),empresaOpcoes:[],prazoSelecionado:null,prazoOpcoes:[{label:"Em dia",value:"bordaVerdeCRM"},{label:"Entrega para esta semana",value:"bordaAmarelaCRM"},{label:"Entrega atrasada",value:"bordaVermelhaCRM"}],opcoesData:[{label:"Data Faturado"},{label:"Data Emissão"},{label:"Data Finalização"}]}},methods:{async abrirModalContatos(){const e=await $g.promptContato.show({filtro:{ativo:!0}});e&&(this.filtro.cliente.nome=e.nome)},async atualizar(){try{$q.loading.show();let e="";if("Todas"!==this.tabSelecionada.valor&&(e=this.tabSelecionada.valor),this.filtro.vendedor.id=this.vendedorDigitadorSelecionado?.id,!this.diretivaContatosAcessaTodosContatos){const e=this.usuario.numeroDocumentoNacional;let o,a;o=await $erp().contato.where({numeroDocumentoNacional:e}).toArray(),a=o[0],this.filtro.vendedor.id=a?.id}let o={status:e,valorTotal:this.filtro.valorTotal,cliente:this.filtro.cliente.nome,operacao:this.filtro.operacao,idEmpresa:this.filtro.empresa?.id??"",idContato:this.filtro.cliente.id,idContatoVendedor:this.filtro.vendedor.id??"",idContatoDigitador:this.filtro.digitador.id,statusEnvio:this.filtro.statusEnvio??""};"Data Faturado"===this.filtro.opcaoDataSelected&&(o.faturado={ini:this.filtro.periodo.faturado.ini,fim:this.filtro.periodo.faturado.fim}),"Data Emissão"===this.filtro.opcaoDataSelected&&(o.periodoEmissao={ini:this.filtro.periodo.emissao.ini,fim:this.filtro.periodo.emissao.fim}),"Data Finalização"===this.filtro.opcaoDataSelected&&(o.faturado={ini:this.filtro.periodo.finalizado.ini,fim:this.filtro.periodo.finalizado.fim});let a=[];const t=await $db.venda.leRefatorado({filtros:o,termoBusca:this.buscaCampo,limit:this.paginacao.limite,page:this.paginacao.atual,sort:["dataFinalizacao","dataHoraEmissao"],dir:["desc","desc"]});a=t.data,await $db.permissao.objeto("Diretiva_Venda/Fatura_OutrasLojas_VerTodos")||(a=a.filter((e=>this.contatosEmpresa.find((o=>o.id===e.idEmpresa))))),this.paginacao.total=t.total,this.paginacao.maximo=t.totalPages,this.documentos=a}catch(e){console.log(e),this.$q.notifyError("Erro ao filtrar")}finally{$q.loading.hide()}},limparFiltros_click(){this.filtro.cliente.nome="",this.filtro.empresa=null,this.filtro.valorTotal=0,this.filtro.statusEnvio=null,this.filtro.opcaoDataSelected="Data Faturado",this.vendedorDigitadorSelecionado=null,this.paginacao.limite=25},async resetarEnvio(e){$q.dialog({message:"Deseja resetar o envio desta venda?",title:"Atenção!",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Resetar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{const o=e.id;e.rotaJson="",e.rotaStatus="",e.rotaNome="";const a=(await $erp().documento.where({id:o}).toArray())[0],t=$utils.clonarV2(a);t.rotaJson="",t.rotaStatus="",t.rotaNome="",await $db.documento.grava({atual:t,original:a})}))},async sendRouteEasyAll(){$q.loading.show();try{let e="";"Todas"!==this.tabSelecionada.valor&&(e=this.tabSelecionada.valor),this.tabSelecionada.values&&this.tabSelecionada.values.length&&(e=this.tabSelecionada.values);let o=await $db.venda.leRefatorado({filtros:{faturado:{ini:this.filtro.periodo.faturado.ini,fim:this.filtro.periodo.faturado.fim},periodoEmissao:{ini:this.filtro.periodo.emissao.ini,fim:this.filtro.periodo.emissao.fim},periodoFinalizado:{ini:this.filtro.periodo.finalizado.ini,fim:this.filtro.periodo.finalizado.fim},status:e,valorTotal:this.filtro.valorTotal,cliente:this.filtro.cliente.nome,operacao:this.filtro.operacao,idEmpresa:this.filtro.empresa?.id??"",idContato:this.filtro.cliente.id,idContatoVendedor:this.filtro.vendedor.id,idContatoDigitador:this.filtro.digitador.id},termoBusca:this.buscaCampo,limit:this.paginacao.total,page:this.paginacao.atual,sort:["dataHoraEmissao","dataFinalizacao"],dir:["desc","desc"]});await this.sendRouteEasy(o),$q.notify({message:"Sincronismo efetuado com sucesso!",type:"positive"})}catch(e){console.log(e)}finally{$q.loading.hide()}},async sendRouteEasy(e){$q.loading.show();let o=e.data,a={deliveries:[]};try{for(let e=0;e<o.length;e++){const t=o[e],i=await $db.contatoEndereco.le({idContato:t.idContato});if(0===i.length){let e=`Não foi possivel envia venda #ID[${t.id}], pois não foi vinculado um endereço.`;$q.notify(e),console.log(e)}if(t&&t.idContato&&i.length>0){let e=await $db.contato.le({id:t.idContato}),o=await $db.contatoTelefone.le({idContato:e.id}),r=await $db.documentoFiscalEletronico.le({idDocumento:t.idFatura});$utils.dataAtual();const l=i[0],s=await this.calcularPesoECubicoTotal(t.id);let n=s.pesoTotal||0,d=s.metroCubicoTotal||0,c=r.length>0?r[0].nNF:"",u=($filters.numero(t.totalDocumento,2),parseInt(t.totalDocumento)),m={code:t.idContato,name:t.descricaoContato,site:t.numeroDocumentoEmpresa,additional_info_2:t.numeroDocumentoEmpresa,order_number:t.numero+" "+t.numeroDocumentoEmpresa,invoice_number:c,loads:[n,d,u],email:e.email||"",customer_profile:e.id,phone:o.length>0?o[0].telefone:"",address:{route:l.logradouro,street_number:l.numero?l.numero:"",neighborhood:l.bairro,city:l.municipio,state:l.uf,postal_code:l.cep,country:l.pais}};a.deliveries.push(m)}}if(a.deliveries.length>0){const e=await w()({method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},baseURL:"https://company.routeasy.com.br",url:"/group?api_key=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYxNDIwYWQ2YzRiNTYzMWEyMmQwYTZhZSIsInRpbWVzdGFtcCI6MTYzMjQ5NTY1ODE1OH0.Nodh7i5OjMak8PQaavO8yComhN6BJa7bPs37SKfe4rE",validateStatus:e=>e>=200&&e<=500,timeout:3e4,data:a});for(const a of e.data.deliveries){const e=o.find((e=>e.numeroDocumentoEmpresa===a.order_number.split(" ")[1]&&e.numero===parseInt(a.order_number.split(" ")[0])));if(!e){$q.notify(`Venda Nº ${a.order_number} / ${a.site} não encontrada!`);continue}const t=(await $erp().documento.where({id:e.id}).toArray())[0],i=$utils.clonarV2(t);i.rotaJson=JSON.stringify({envio:a}),i.rotaStatus="Enviado";let r=$utils.dataAtual().split("T")[0].split("-");i.rotaNome=`Rota do dia ${r[2]}/${r[1]}/${r[0]}`,await $db.documento.grava({atual:i,original:t}),this.$refs[i.id]&&this.$refs[i.id].atualizar()}}else $q.notify("Rota(s) já enviadas ou nao tem informações suficientes.")}catch(e){$q.notify(e.message),console.log("[ERROR][SINCRONSMO][ROUTEASY] => ",e)}finally{if(a.deliveries.length>0){let e=a.deliveries.length>1?"s":"";$q.notify({message:`(${a.deliveries.length}) Rota${e} enviada${e} com sucesso!`,type:"positive"})}$q.loading.hide()}},async executar(e){if(this.$refs.modalVenda.venda.status){for(const e of this.tabs)if(-1!==e.value.indexOf(this.$refs.modalVenda.venda.status)){this.tabSelecionada.valor=e.value;break}"Orçamento"===this.$refs.modalVenda.venda.status&&(this.filtro.opcaoDataSelected="Data Emissão")}await this.atualizar()},async getGeoCordenadas(e){const o=await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${e.municipio}+${e.uf}+${e.logradouro}+${e.cep}&key=AIzaSyDXlwwrHCnEP50L1rFQvrYq9XAzpU_hZvA`,{method:"GET"});return(await o.json()).results[0].geometry},async calcularPesoECubicoTotal(e){if(!e)return!1;const o={};let a=0,t=0,i=0,r=0,l=0;const s=await $erp().documentoItem.where({idDocumento:e}).toArray();for(const e of s)if(-1===e.operacaoFator){if(e.idItem&&!o[e.idItem]){const a=await $erp().item.get(e.idItem);a&&(o[e.idItem]=a)}a+=(o[e.idItem].peso||0)*(e.quantidade||0),t+=(o[e.idItem].pesoBruto||0)*(e.quantidade||0),r=(o[e.idItem].altura||0)*(o[e.idItem].largura||0)*o[e.idItem].comprimento||0,l=e.quantidade||0,i+=r>0?r*l:0}return a=$utils.arredondar(a,4),t=$utils.arredondar(t,4),i=$utils.arredondar(i,4),{pesoTotal:a,pesoBrutoTotal:t,metroCubicoTotal:i}},async importarPlanilhaRetorno(e){try{const o=e=>new Promise(((o,a)=>{const t=new FileReader;t.readAsBinaryString(e),t.onload=()=>o(t.result),t.onerror=e=>a(e)})),a=await o(e[0]);let t=y().read(a,{type:"binary"}),i=y().utils.sheet_to_json(t.Sheets[Object.keys(t.Sheets)[0]],{header:1});const r=i[0];for(let e=1;e<i.length;e++){const o=i[e];let a,t,l,s,n,d,c;a=$utils.convertArrToObj(r,o),t=a?.codigoDoCliente,l=a?.numeroPedido.split(" ")[0],t&&l&&(c=await $erp().documento.where({tipo:"Venda",idContato:t}).toArray(),s=c.find((e=>Number(e.numero)===Number(l))),s&&(n=$utils.clonarV2(s),d=JSON.parse(n.rotaJson??null)??{},d.recebido=JSON.stringify(a),n.rotaJson=JSON.stringify(d),n.rotaStatus="Enviado",n.rotaNome=o[0],n.rotaSequencia=o[4],n.rotaData=$utils.dataAtual(),await $db.documento.grava({original:s,atual:n})))}await this.atualizar(),this.$q.notify({type:"positive",message:"Importação realizada com sucesso"})}catch(e){e.name&&"ErroValidacao"===e.name?this.$q.notifyError(e.message,e):this.$q.notifyError("Ocorreu erro ao importar roterização xlsx",e)}},acessarPainel(){window.open("https://company.routeasy.com.br/#!/routings/create","_blank").focus()},montarObjImportacaoRE(e,o){let a={};for(let t=1;t<e.length;t++){const i=$utils.removerCaracteresEspeciais(e[t]).split(" ");for(let e=0;e<i.length;e++)i[e]=i[e].charAt(0).toUpperCase()+i[e].slice(1);a[i.join("")]=o[t]}return a},aoSelecionarCliente(e,o){e&&(this.filtro.cliente=$utils.clonarV2(o),this.contatosModal=!1)},adicionarVenda(){this.$refs.modalVenda.mostrar()},abrirTodosPreview(){this.showAllPreviewDetail=!this.showAllPreviewDetail;for(let e of this.documentos)this.$refs[e.id].detalhesVisivel=this.showAllPreviewDetail},async empresaOpcoesCarregar(){this.contatosEmpresa=(await $db.contato.ler({filtros:{ativo:!0,empresas:!0}})).data,this.empresaOpcoes=this.contatosEmpresa.map((e=>({label:e.nome,value:e.codigoContato,id:e.id})))}},async created(){$db.permissao.objeto("Diretiva_RelatorioVenda_VerTodos").then((async e=>{this.$route.params.id&&this.$route.params.id.length&&this.$refs.modalVenda.mostrar({id:this.$route.params.id}),this.diretivaContatosAcessaTodosContatos=e,this.diretivaContatosAcessaTodosContatos&&(this.vendedoresDigitadoresOpcoes=[],$db.crm.leOnlineVendedoresDigitadores({entregueInicio:this.entregueInicio,entregueFim:this.entregueFim}).then((e=>{e.forEach((e=>{e.codigo&&this.vendedoresDigitadoresOpcoes.push({label:e.nome,value:e.codigo,id:e.id})}))})));let o=await $db.configuracoes.le({nome:"integracao.routeasy"});this.tokenRoutEasy=o.length?o[0].valor:null,await this.empresaOpcoesCarregar(),this.atualizar()}))},async mounted(){let e=await $db.configuracoes.le({nome:"vendas.usaExpedicao"});if(e=e.length?e[0].valor:null,this.tabs=[{rotulo:"Orçamento",value:"Orçamento"},{rotulo:"Ag. Estoque",value:"Aguardando Estoque"},{rotulo:"Ag. Financeiro",value:"Aguardando Financeiro"},{rotulo:"Ag. Liberação",value:"Aguardando Liberação"},{rotulo:"Ag. Pagamento",value:"Aguardando Pagamento, Aguardando Faturamento"},{rotulo:"Finalizado",value:"Finalizado,Faturado,Entregue"},{rotulo:"Não Aprovado",value:"Não Aprovado"},{rotulo:"Todas",value:""}],e){let e={rotulo:"Ag. Logística",value:"Aguardando Conferência,Aguardando Correção,Aguardando Embalagem,Aguardando Entrega,Aguardando Separação,Em Conferência,Em Embalagem,Em Separação"};this.tabs.splice(4,0,e)}}};var N=a(74260),S=a(54707),k=a(25901),A=a(77953),x=a(60880),q=a(68900),F=a(83831),z=a(90069),T=a(40320),_=a(98586),R=a(7518),I=a.n(R);const O=(0,N.Z)(D,[["render",function(e,o,a,g,b,V){const C=(0,t.resolveComponent)("q-icon"),w=(0,t.resolveComponent)("q-item-section"),E=(0,t.resolveComponent)("q-item"),y=(0,t.resolveComponent)("q-list"),$=(0,t.resolveComponent)("q-separator"),D=(0,t.resolveComponent)("q-uploader"),N=(0,t.resolveComponent)("q-menu"),S=(0,t.resolveComponent)("campo"),k=(0,t.resolveComponent)("q-select"),A=(0,t.resolveComponent)("row"),x=(0,t.resolveComponent)("VendaCardLista"),q=(0,t.resolveComponent)("lista"),F=(0,t.resolveComponent)("VendaModal"),z=(0,t.resolveDirective)("close-popup");return(0,t.openBlock)(),(0,t.createElementBlock)("div",null,[(0,t.createVNode)(q,{titulo:"Vendas",onCriar_click:V.adicionarVenda,icone:"mdi-cart-arrow-up",onFiltro_change:V.atualizar,onLimparFiltros_click:V.limparFiltros_click,onAbrirTodosPreview:V.abrirTodosPreview,tabSelecionada:b.tabSelecionada,tabs:b.tabs,lista:b.documentos,paginacao:b.paginacao,permissaoExtrasV2:!!b.tokenRoutEasy,permissaoExtras:!1,disableRemove:!0,permissaoNovo:!0,filtros:b.filtro,exportarXLSXVisible:!1,permissaoFicha:!1,buscaCampo:b.buscaCampo,"onUpdate:buscaCampo":o[15]||(o[15]=e=>b.buscaCampo=e),showAdd:!1,checkboxVisible:!1},{menuExtras:(0,t.withCtx)((()=>[(0,t.createVNode)(N,null,{default:(0,t.withCtx)((()=>[(0,t.createElementVNode)("div",i,[(0,t.createElementVNode)("div",r,[l,(0,t.createVNode)(y,{link:"","no-border":"",separator:""},{default:(0,t.withCtx)((()=>["function"==typeof V.sendRouteEasyAll?(0,t.withDirectives)(((0,t.openBlock)(),(0,t.createBlock)(E,{key:0,clickable:"",onClick:o[0]||(o[0]=e=>V.sendRouteEasyAll())},{default:(0,t.withCtx)((()=>[(0,t.createVNode)(w,{avatar:""},{default:(0,t.withCtx)((()=>[(0,t.createVNode)(C,{name:"upgrade"})])),_:1}),(0,t.createVNode)(w,null,{default:(0,t.withCtx)((()=>[s])),_:1})])),_:1})),[[z]]):(0,t.createCommentVNode)("",!0),"function"==typeof V.acessarPainel?(0,t.withDirectives)(((0,t.openBlock)(),(0,t.createBlock)(E,{key:1,clickable:"",onClick:o[1]||(o[1]=e=>V.acessarPainel())},{default:(0,t.withCtx)((()=>[(0,t.createVNode)(w,{avatar:""},{default:(0,t.withCtx)((()=>[(0,t.createVNode)(C,{name:"insights"})])),_:1}),(0,t.createVNode)(w,null,{default:(0,t.withCtx)((()=>[n])),_:1})])),_:1})),[[z]]):(0,t.createCommentVNode)("",!0)])),_:1})]),(0,t.createVNode)($,{vertical:"",inset:"",class:"q-mx-lg"}),(0,t.createElementVNode)("div",d,[c,(0,t.createElementVNode)("div",u,[(0,t.createVNode)(D,{style:{width:"100%"},label:"Selecione o arquivo (.xlsx)","hide-upload-btn":"","auto-upload":"",factory:V.importarPlanilhaRetorno},null,8,["factory"])])])])])),_:1})])),filtroCampos:(0,t.withCtx)((()=>[(0,t.createVNode)(A,{class:"q-col-gutter-md q-mt-md",style:{"margin-top":"-10px"}},{default:(0,t.withCtx)((()=>[(0,t.createVNode)(S,{modelValue:b.filtro.cliente.nome,"onUpdate:modelValue":o[2]||(o[2]=e=>b.filtro.cliente.nome=e),class:"col-md-12",style:{"padding-top":"0px"},debounce:500,before:[{icon:"search",handler:V.abrirModalContatos}],rotulo:"Por cliente ou responsável",dense:""},null,8,["modelValue","before"]),b.diretivaContatosAcessaTodosContatos?((0,t.openBlock)(),(0,t.createBlock)(k,{key:0,modelValue:b.vendedorDigitadorSelecionado,"onUpdate:modelValue":o[3]||(o[3]=e=>b.vendedorDigitadorSelecionado=e),options:b.vendedoresDigitadoresOpcoes,clearable:"",label:"Vendedor / Digitador"},null,8,["modelValue","options"])):(0,t.createCommentVNode)("",!0),m,(0,t.createVNode)(S,{rotulo:"Valor total maior que",modelValue:b.filtro.valorTotal,"onUpdate:modelValue":o[4]||(o[4]=e=>b.filtro.valorTotal=e),before:[{icon:"money"}],tipo:"decimal",decimals:"4",zerosDireita:"2",dense:""},null,8,["modelValue"])])),_:1}),(0,t.createVNode)(k,{modelValue:b.filtro.empresa,"onUpdate:modelValue":o[5]||(o[5]=e=>b.filtro.empresa=e),options:b.empresaOpcoes,clearable:"",label:"Por empresa"},null,8,["modelValue","options"]),b.tokenRoutEasy&&b.tokenRoutEasy.length>3?((0,t.openBlock)(),(0,t.createBlock)(A,{key:0,class:"q-col-gutter-md q-mt-md"},{default:(0,t.withCtx)((()=>[(0,t.createVNode)(S,{tipo:"seletor",dense:"",modelValue:b.filtro.statusEnvio,"onUpdate:modelValue":o[6]||(o[6]=e=>b.filtro.statusEnvio=e),options:b.opcoesStatusEnvio.map((e=>({label:e.rotulo,value:e.rotulo}))),clearable:"",rotulo:"Status Envio"},null,8,["modelValue","options"])])),_:1})):(0,t.createCommentVNode)("",!0),(0,t.createVNode)(A,{class:"q-col-gutter-md q-mt-md"},{default:(0,t.withCtx)((()=>[(0,t.createVNode)(S,{tipo:"seletor",dense:"",modelValue:b.filtro.opcaoDataSelected,"onUpdate:modelValue":o[7]||(o[7]=e=>b.filtro.opcaoDataSelected=e),options:b.opcoesData.map((e=>({label:e.label,value:e.label}))),rotulo:"Selecione data para filtro"},null,8,["modelValue","options"])])),_:1}),"Data Faturado"===b.filtro.opcaoDataSelected?((0,t.openBlock)(),(0,t.createBlock)(A,{key:1,class:"q-col-gutter-md q-mt-md"},{default:(0,t.withCtx)((()=>[p,(0,t.createVNode)(S,{modelValue:b.filtro.periodo.faturado.ini,"onUpdate:modelValue":o[8]||(o[8]=e=>b.filtro.periodo.faturado.ini=e),tipo:"data",class:"no-shadow full-width",rotulo:"De",col:"12",after:[{icon:"mdi-close-circle",handler(){b.filtro.periodo.faturado.ini=""}}],dense:""},null,8,["modelValue","after"]),(0,t.createVNode)(S,{modelValue:b.filtro.periodo.faturado.fim,"onUpdate:modelValue":o[9]||(o[9]=e=>b.filtro.periodo.faturado.fim=e),tipo:"data",class:"no-shadow full-width",rotulo:"até",col:"12",after:[{icon:"mdi-close-circle",handler(){b.filtro.periodo.faturado.fim=""}}],dense:""},null,8,["modelValue","after"])])),_:1})):(0,t.createCommentVNode)("",!0),"Data Emissão"===b.filtro.opcaoDataSelected?((0,t.openBlock)(),(0,t.createBlock)(A,{key:2,class:"q-col-gutter-md q-mt-md"},{default:(0,t.withCtx)((()=>[f,(0,t.createVNode)(S,{modelValue:b.filtro.periodo.emissao.ini,"onUpdate:modelValue":o[10]||(o[10]=e=>b.filtro.periodo.emissao.ini=e),tipo:"data",class:"no-shadow full-width",rotulo:"De",col:"12",after:[{icon:"mdi-close-circle",handler(){b.filtro.periodo.emissao.ini=""}}],dense:""},null,8,["modelValue","after"]),(0,t.createVNode)(S,{modelValue:b.filtro.periodo.emissao.fim,"onUpdate:modelValue":o[11]||(o[11]=e=>b.filtro.periodo.emissao.fim=e),tipo:"data",class:"no-shadow full-width",rotulo:"até",col:"12",after:[{icon:"mdi-close-circle",handler(){b.filtro.periodo.emissao.fim=""}}],dense:""},null,8,["modelValue","after"])])),_:1})):(0,t.createCommentVNode)("",!0),"Data Finalização"===b.filtro.opcaoDataSelected?((0,t.openBlock)(),(0,t.createBlock)(A,{key:3,class:"q-col-gutter-md q-mt-md"},{default:(0,t.withCtx)((()=>[h,(0,t.createVNode)(S,{modelValue:b.filtro.periodo.finalizado.ini,"onUpdate:modelValue":o[12]||(o[12]=e=>b.filtro.periodo.finalizado.ini=e),tipo:"data",class:"no-shadow full-width",rotulo:"De",col:"12",after:[{icon:"mdi-close-circle",handler(){b.filtro.periodo.finalizado.ini=""}}],dense:""},null,8,["modelValue","after"]),(0,t.createVNode)(S,{modelValue:b.filtro.periodo.finalizado.fim,"onUpdate:modelValue":o[13]||(o[13]=e=>b.filtro.periodo.finalizado.fim=e),tipo:"data",class:"no-shadow full-width",rotulo:"até",col:"12",after:[{icon:"mdi-close-circle",handler(){b.filtro.periodo.finalizado.fim=""}}],dense:""},null,8,["modelValue","after"])])),_:1})):(0,t.createCommentVNode)("",!0),v,(0,t.createVNode)(S,{modelValue:b.paginacao.limite,"onUpdate:modelValue":o[14]||(o[14]=e=>b.paginacao.limite=e),min:"1",rotulo:"Quantidade por página",tipo:"quantidade",dense:""},null,8,["modelValue"])])),itemLista:(0,t.withCtx)((()=>[(0,t.createVNode)(y,{class:"rounded-borders"},{default:(0,t.withCtx)((()=>[((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,null,(0,t.renderList)(b.documentos,(e=>((0,t.openBlock)(),(0,t.createElementBlock)("div",{key:e.id,class:"itemHover fullWidth q-px-sm"},[(0,t.createVNode)(x,{sendRouteEasy:V.sendRouteEasy,resetarEnvio:V.resetarEnvio,fatura:e.fatura,id:e.id,ref_for:!0,ref:e.id,class:"q-mb-md"},null,8,["sendRouteEasy","resetarEnvio","fatura","id"])])))),128))])),_:1})])),_:1},8,["onCriar_click","onFiltro_change","onLimparFiltros_click","onAbrirTodosPreview","tabSelecionada","tabs","lista","paginacao","permissaoExtrasV2","filtros","buscaCampo"]),(0,t.createVNode)(F,{ref:"modalVenda",onExecutar:V.executar,onAtualizarAtendimentoVenda:V.executar,continueMesmaTela:!1},null,8,["onExecutar","onAtualizarAtendimentoVenda"])])}]]);I()(D,"components",{QMenu:S.Z,QList:k.Z,QItem:A.Z,QItemSection:x.Z,QIcon:q.Z,QSeparator:F.Z,QUploader:z.Z,QSelect:T.Z}),I()(D,"directives",{ClosePopup:_.Z})}}]);