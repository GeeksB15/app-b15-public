"use strict";(self.webpackChunkb15=self.webpackChunkb15||[]).push([[592],{85592:(e,o,a)=>{a.r(o),a.d(o,{default:()=>U});var t=a(34182);const i={class:"row no-wrap q-pa-md"},l={class:"column"},r=(0,t.createElementVNode)("div",{class:"text-h6 q-mb-md"},"Sincronismo RoutEasy",-1),n=(0,t.createTextVNode)("Enviar"),s=(0,t.createTextVNode)("Acessar Painel"),d={class:"column items-center",style:{"margin-bottom":"0px"}},c=(0,t.createElementVNode)("div",{class:"text-h6 q-mb-md"},"Importar Roterização",-1),u={class:"q-mt-sm"},m=(0,t.createElementVNode)("br",null,null,-1),p=(0,t.createElementVNode)("span",{class:"col-12 text-body1 text-dark"},"Faturado em",-1),f=(0,t.createElementVNode)("span",{class:"col-12 text-body1 text-dark"},"Período de Emissão",-1),h=(0,t.createElementVNode)("span",{class:"col-12 text-body1 text-dark"},"Período de Finalização",-1),g=(0,t.createElementVNode)("p",null,null,-1),v=["onClick"];var V=a(32758),b=a(97675),C=a(59649),E=a(30052),w=a.n(E),y=a(54726),$=a(84830),D=a.n($);const S={alterados:0,arquivo:null,cor:"text-negative",corFinal:"",erro:"",erros:0,incluidos:0,listaErros:[],mensagem:"",mensagemFinal:"",modalResultado:!1},N={components:{lista:V.Z,VendaCardLista:b.Z,VendaModal:C.Z},data(){const e=new Date(new Date($utils.dataAtual()).toDateString());return{tokenRoutEasy:null,tabSelecionada:{value:"Finalizado,Faturado,Entregue",valor:"Finalizado,Faturado,Entregue"},importar:$utils.clonarV2(S),opcoesStatusEnvio:[{rotulo:"Todos"},{rotulo:"Enviados"},{rotulo:"Não Enviados"}],page:{digitacao:{current:1,min:0,max:0},finalizado:{current:1,min:0,max:0},ativa:"Digitação"},entregueInicio:new Date(new Date($utils.dataAtual()).toDateString()),entregueFim:new Date(new Date($utils.dataAtual()).toDateString()),status:[],operacoes:[],pageSize:10,grupos:[],buscaCampo:"",empresas:[],empresa:{},contatosModal:!1,vendedorModal:!1,digitadorModal:!1,buscaCliente:"",filtro:{opcaoDataSelected:"Data Faturado",statusEnvio:"Todos",valorTotal:0,status:"Faturado",operacao:"",grupos:[],empresa:{id:""},cliente:{id:"",nome:""},vendedor:{id:""},digitador:{id:""},periodo:{faturado:{ini:e,fim:e},emissao:{ini:"",fim:""},finalizado:{ini:"",fim:""}}},paginacao:{atual:1,maximo:1,total:1,limite:25},dbContato:$db.contato,documentos:[],showFilters:!1,vendedorDigitadorSelecionado:null,vendedoresDigitadoresOpcoes:[],diretivaContatosAcessaTodosContatos:!1,showAllPreviewDetail:!1,lista:[],usuario:JSON.parse(localStorage.getItem("usuario")),prazoSelecionado:null,prazoOpcoes:[{label:"Em dia",value:"bordaVerdeCRM"},{label:"Entrega para esta semana",value:"bordaAmarelaCRM"},{label:"Entrega atrasada",value:"bordaVermelhaCRM"}],opcoesData:[{label:"Data Faturado"},{label:"Data Emissão"},{label:"Data Finalização"}]}},methods:{async atualizar(){try{$q.loading.show(),null!==this.vendedorDigitadorSelecionado&&(this.filtro.vendedor.id=this.vendedorDigitadorSelecionado.value);let e="";"Todas"!==this.tabSelecionada.valor&&(e=this.tabSelecionada.valor);let o=this.filtro.vendedor.id;this.diretivaContatosAcessaTodosContatos||(o=this.usuario.codigoContato,this.filtro.vendedor.id=o);let a={status:e,valorTotal:this.filtro.valorTotal,cliente:this.filtro.cliente.nome,operacao:this.filtro.operacao,idEmpresa:this.filtro.empresa.id,idContato:this.filtro.cliente.id,idContatoVendedor:o,idContatoDigitador:this.filtro.digitador.id,statusEnvio:this.filtro.statusEnvio};"Data Faturado"===this.filtro.opcaoDataSelected&&(a.faturado={ini:this.filtro.periodo.faturado.ini,fim:this.filtro.periodo.faturado.fim}),"Data Emissão"===this.filtro.opcaoDataSelected&&(a.periodoEmissao={ini:this.filtro.periodo.emissao.ini,fim:this.filtro.periodo.emissao.fim}),"Data Finalização"===this.filtro.opcaoDataSelected&&(a.faturado={ini:this.filtro.periodo.finalizado.ini,fim:this.filtro.periodo.finalizado.fim});let t=[];const i=await $db.venda.leRefatorado({filtros:a,termoBusca:this.buscaCampo,limit:this.paginacao.limite,page:this.paginacao.atual,sort:["dataFinalizacao","dataHoraEmissao"],dir:["desc","desc"]});t=i.data,await $db.permissao.objeto("Diretiva_Venda/Fatura_OutrasLojas_VerTodos")||(t=t.filter((e=>this.contatosEmpresa.find((o=>o.id===e.idEmpresa))))),this.paginacao.total=i.total,this.paginacao.maximo=i.totalPages,this.documentos=t}catch(e){console.log(e),this.$q.notifyError("Erro ao filtrar")}finally{$q.loading.hide()}},limparFiltros_click(){},async resetarEnvio(e){$q.dialog({message:"Deseja resetar o envio desta venda?",title:"Atenção!",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Resetar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{const o=e.id;e.rotaJson="",e.rotaStatus="",e.rotaNome="";const a=(await $erp().documento.where({id:o}).toArray())[0],t=$utils.clonarV2(a);t.rotaJson="",t.rotaStatus="",t.rotaNome="",await $db.documento.grava({atual:t,original:a})}))},async sendRouteEasyAll(){$q.loading.show();try{let e="";"Todas"!==this.tabSelecionada.valor&&(e=this.tabSelecionada.valor),this.tabSelecionada.values&&this.tabSelecionada.values.length&&(e=this.tabSelecionada.values);let o=await $db.venda.leRefatorado({filtros:{faturado:{ini:this.filtro.periodo.faturado.ini,fim:this.filtro.periodo.faturado.fim},periodoEmissao:{ini:this.filtro.periodo.emissao.ini,fim:this.filtro.periodo.emissao.fim},periodoFinalizado:{ini:this.filtro.periodo.finalizado.ini,fim:this.filtro.periodo.finalizado.fim},status:e,valorTotal:this.filtro.valorTotal,cliente:this.filtro.cliente.nome,operacao:this.filtro.operacao,idEmpresa:this.filtro.empresa.id,idContato:this.filtro.cliente.id,idContatoVendedor:this.filtro.vendedor.id,idContatoDigitador:this.filtro.digitador.id},termoBusca:this.buscaCampo,limit:this.paginacao.total,page:this.paginacao.atual,sort:["dataHoraEmissao","dataFinalizacao"],dir:["desc","desc"]});await this.sendRouteEasy(o),$q.notify({message:"Sincronismo efetuado com sucesso!",type:"positive"})}catch(e){console.log(e)}finally{$q.loading.hide()}},async sendRouteEasy(e){$q.loading.show();let o=e.data,a={deliveries:[]};try{for(let e=0;e<o.length;e++){const t=o[e],i=await $db.contatoEndereco.le({idContato:t.idContato});if(0===i.length){let e=`Não foi possivel envia venda #ID[${t.id}], pois não foi vinculado um endereço.`;$q.notify(e),console.log(e)}if(t&&t.idContato&&i.length>0){let e=await $db.contato.le({id:t.idContato}),o=await $db.contatoTelefone.le({idContato:e.id}),l=await $db.documentoFiscalEletronico.le({idDocumento:t.idFatura});$utils.dataAtual();const r=i[0],n=await this.calcularPesoECubicoTotal(t.id);let s=n.pesoTotal||0,d=n.metroCubicoTotal||0,c=l.length>0?l[0].nNF:"",u=($filters.numero(t.totalDocumento,2),parseInt(t.totalDocumento)),m={code:t.idContato,name:t.descricaoContato,site:t.numeroDocumentoEmpresa,additional_info_2:t.numeroDocumentoEmpresa,order_number:t.numero+" "+t.numeroDocumentoEmpresa,invoice_number:c,loads:[s,d,u],email:e.email||"",customer_profile:e.id,phone:o.length>0?o[0].telefone:"",address:{route:r.logradouro,street_number:r.numero?r.numero:"",neighborhood:r.bairro,city:r.municipio,state:r.uf,postal_code:r.cep,country:r.pais}};a.deliveries.push(m)}}if(a.deliveries.length>0){const e=await w()({method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},baseURL:"https://company.routeasy.com.br",url:"/group?api_key=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYxNDIwYWQ2YzRiNTYzMWEyMmQwYTZhZSIsInRpbWVzdGFtcCI6MTYzMjQ5NTY1ODE1OH0.Nodh7i5OjMak8PQaavO8yComhN6BJa7bPs37SKfe4rE",validateStatus:e=>e>=200&&e<=500,timeout:3e4,data:a});for(const a of e.data.deliveries){const e=o.find((e=>e.numeroDocumentoEmpresa===a.order_number.split(" ")[1]&&e.numero===parseInt(a.order_number.split(" ")[0])));if(!e){$q.notify(`Venda Nº ${a.order_number} / ${a.site} não encontrada!`);continue}const t=(await $erp().documento.where({id:e.id}).toArray())[0],i=$utils.clonarV2(t);i.rotaJson=JSON.stringify({envio:a}),i.rotaStatus="Enviado";let l=$utils.dataAtual().split("T")[0].split("-");i.rotaNome=`Rota do dia ${l[2]}/${l[1]}/${l[0]}`,await $db.documento.grava({atual:i,original:t}),this.$refs[i.id]&&this.$refs[i.id].atualizar()}}else $q.notify("Rota(s) já enviadas ou nao tem informações suficientes.")}catch(e){$q.notify(e.message),console.log("[ERROR][SINCRONSMO][ROUTEASY] => ",e)}finally{if(a.deliveries.length>0){let e=a.deliveries.length>1?"s":"";$q.notify({message:`(${a.deliveries.length}) Rota${e} enviada${e} com sucesso!`,type:"positive"})}$q.loading.hide()}},async executar(e){if(this.$refs.modalVenda.venda.status){for(const e of this.tabs)if(-1!==e.value.indexOf(this.$refs.modalVenda.venda.status)){this.tabSelecionada.valor=e.value;break}"Orçamento"===this.$refs.modalVenda.venda.status&&(this.filtro.opcaoDataSelected="Data Emissão")}await this.atualizar()},async getGeoCordenadas(e){const o=await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${e.municipio}+${e.uf}+${e.logradouro}+${e.cep}&key=AIzaSyDXlwwrHCnEP50L1rFQvrYq9XAzpU_hZvA`,{method:"GET"});return(await o.json()).results[0].geometry},async calcularPesoECubicoTotal(e){if(!e)return!1;const o={};let a=0,t=0,i=0,l=0,r=0;const n=await $erp().documentoItem.where({idDocumento:e}).toArray();for(const e of n)if(-1===e.operacaoFator){if(e.idItem&&!o[e.idItem]){const a=await $erp().item.get(e.idItem);a&&(o[e.idItem]=a)}a+=(o[e.idItem].peso||0)*(e.quantidade||0),t+=(o[e.idItem].pesoBruto||0)*(e.quantidade||0),l=(o[e.idItem].altura||0)*(o[e.idItem].largura||0)*o[e.idItem].comprimento||0,r=e.quantidade||0,i+=l>0?l*r:0}return a=$utils.arredondar(a,4),t=$utils.arredondar(t,4),i=$utils.arredondar(i,4),{pesoTotal:a,pesoBrutoTotal:t,metroCubicoTotal:i}},async importarPlanilhaRetorno(e){try{const o=e=>new Promise(((o,a)=>{const t=new FileReader;t.readAsBinaryString(e),t.onload=()=>o(t.result),t.onerror=e=>a(e)})),a=await o(e[0]);let t=D().read(a,{type:"binary"}),i=D().utils.sheet_to_json(t.Sheets[Object.keys(t.Sheets)[0]],{header:1});for(let e=1;e<i.length;e++){const o=i[e],a=i[0];a[0]="Nome Rota";const t=$utils.convertArrToObj(a,o);if(o[29]&&o[29].length>1){console.log("numero pedido => ",o[29].replace("Pedido ",""));try{const e=o[29].replace("Pedido ","").split(" "),a=parseInt(e[0]),i=e[1];if(a>1){const e=(await $erp().documento.where({tipo:"Venda"}).filter((e=>e.numero===a&&e.numeroDocumentoEmpresa===i)).toArray())[0],l={...e},r=$utils.clonarV2(e);r.rotaJson=JSON.stringify({...JSON.parse(r.rotaJson),recebido:JSON.stringify(t)}),r.rotaNome=o[0],r.rotaSequencia=o[4],r.rotaData=$utils.dataAtual(),await $db.documento.grava({original:l,atual:r})}}catch(e){console.log(`[ERROR][IMPORTACAO] => ${e.message}`,e)}}}await this.atualizar(),this.$q.notify({type:"positive",message:"Importação realizada com sucesso"})}catch(e){e.name&&"ErroValidacao"===e.name?this.$q.notifyError(e.message,e):this.$q.notifyError("Ocorreu erro ao importar roterização xlsx",e)}},acessarPainel(){window.open("https://company.routeasy.com.br/#!/routings/create","_blank").focus()},montarObjImportacaoRE(e,o){let a={};for(let t=1;t<e.length;t++){const i=$utils.removerCaracteresEspeciais(e[t]).split(" ");for(let e=0;e<i.length;e++)i[e]=i[e].charAt(0).toUpperCase()+i[e].slice(1);a[i.join("")]=o[t]}return a},aoSelecionarEmpresa(){},aoSelecionarStatusEnvio(){},aoSelecionarCliente(e,o){e&&(this.filtro.cliente=$utils.clonarV2(o),this.contatosModal=!1)},adicionarVenda(){this.$refs.modalVenda.mostrar()},abrirTodosPreview(){this.showAllPreviewDetail=!this.showAllPreviewDetail;for(let e of this.documentos)this.$refs[e.id].detalhesVisivel=this.showAllPreviewDetail},debug(e){console.log(e,this.tabSelecionada)},downloadJsonDeliveries(e){let o="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),a=document.createElement("a"),t=y.ZP.formatDate(new Date(this.filtro.periodo.finalizado.ini)).split("T")[0].split("-"),i=`Rotas_do_dia_${t[2]}/${t[1]}/${t[0]}.json`;a.setAttribute("href",o),a.setAttribute("download",i),document.body.appendChild(a),a.click(),a.remove()},delay:(e,o)=>new Promise((function(a){setTimeout((function(){a(o)}),e)})),async empresaOpcoesCarregar(){this.contatosEmpresa=(await $db.contato.ler({filtros:{ativo:!0,empresas:!0}})).data,this.empresaOpcoes=this.contatosEmpresa.map((e=>({label:e.nome,value:e.codigoContato,id:e.id})))},filtraDebounce(){$lodash.debounce(this.atualizar,10)()}},async created(){$db.permissao.objeto("Diretiva_RelatorioVenda_VerTodos").then((async e=>{this.$route.params.id&&this.$route.params.id.length&&this.$refs.modalVenda.mostrar({id:this.$route.params.id}),this.diretivaContatosAcessaTodosContatos=e,this.diretivaContatosAcessaTodosContatos&&(this.vendedoresDigitadoresOpcoes=[],$db.crm.leOnlineVendedoresDigitadores({entregueInicio:this.entregueInicio,entregueFim:this.entregueFim}).then((e=>{e.forEach((e=>{e.codigo&&this.vendedoresDigitadoresOpcoes.push({label:e.nome,value:e.codigo})}))})));let o=await $db.configuracoes.le({nome:"integracao.routeasy"});this.tokenRoutEasy=o.length?o[0].valor:null,await this.empresaOpcoesCarregar(),this.atualizar()}))},async mounted(){let e=await $db.configuracoes.le({nome:"vendas.usaExpedicao"});if(e=e.length?e[0].valor:null,this.tabs=[{rotulo:"Orçamento",value:"Orçamento"},{rotulo:"Ag. Estoque",value:"Aguardando Estoque"},{rotulo:"Ag. Financeiro",value:"Aguardando Financeiro"},{rotulo:"Ag. Liberação",value:"Aguardando Liberação"},{rotulo:"Ag. Pagamento",value:"Aguardando Pagamento, Aguardando Faturamento"},{rotulo:"Finalizado",value:"Finalizado,Faturado,Entregue"},{rotulo:"Não Aprovado",value:"Não Aprovado"},{rotulo:"Todas",value:""}],e){let e={rotulo:"Ag. Logística",value:"Aguardando Conferência,Aguardando Correção,Aguardando Embalagem,Aguardando Entrega,Aguardando Separação,Em Conferência,Em Embalagem,Em Separação"};this.tabs.splice(4,0,e)}}};var k=a(74260),A=a(54707),x=a(25901),q=a(77953),z=a(60880),F=a(68900),R=a(83831),T=a(90069),_=a(67280),I=a(40320),O=a(98586),P=a(7518),B=a.n(P);const U=(0,k.Z)(N,[["render",function(e,o,a,V,b,C){const E=(0,t.resolveComponent)("q-icon"),w=(0,t.resolveComponent)("q-item-section"),y=(0,t.resolveComponent)("q-item"),$=(0,t.resolveComponent)("q-list"),D=(0,t.resolveComponent)("q-separator"),S=(0,t.resolveComponent)("q-uploader"),N=(0,t.resolveComponent)("q-menu"),k=(0,t.resolveComponent)("campo"),A=(0,t.resolveComponent)("q-select"),x=(0,t.resolveComponent)("row"),q=(0,t.resolveComponent)("venda-card-lista"),z=(0,t.resolveComponent)("lista"),F=(0,t.resolveComponent)("VendaModal"),R=(0,t.resolveDirective)("close-popup");return(0,t.openBlock)(),(0,t.createElementBlock)(t.Fragment,null,[(0,t.createElementVNode)("div",null,[(0,t.createVNode)(z,{titulo:"Vendas",onCriar_click:C.adicionarVenda,icone:"mdi-cart-arrow-up",onFiltro_change:C.atualizar,onLimparFiltros_click:C.limparFiltros_click,onAbrirTodosPreview:C.abrirTodosPreview,tabSelecionada:b.tabSelecionada,tabs:e.tabs,lista:b.documentos,paginacao:b.paginacao,permissaoExtrasV2:b.tokenRoutEasy,permissaoExtras:!1,disableRemove:!0,permissaoNovo:!0,filtros:b.filtro,exportarXLSXVisible:!1,permissaoFicha:!1,buscaCampo:b.buscaCampo,"onUpdate:buscaCampo":o[17]||(o[17]=e=>b.buscaCampo=e),showAdd:!1,checkboxVisible:!1},{menuExtras:(0,t.withCtx)((()=>[(0,t.createVNode)(N,null,{default:(0,t.withCtx)((()=>[(0,t.createElementVNode)("div",i,[(0,t.createElementVNode)("div",l,[r,(0,t.createVNode)($,{link:"","no-border":"",separator:""},{default:(0,t.withCtx)((()=>["function"==typeof C.sendRouteEasyAll?(0,t.withDirectives)(((0,t.openBlock)(),(0,t.createBlock)(y,{key:0,clickable:"",onClick:o[0]||(o[0]=e=>C.sendRouteEasyAll())},{default:(0,t.withCtx)((()=>[(0,t.createVNode)(w,{avatar:""},{default:(0,t.withCtx)((()=>[(0,t.createVNode)(E,{name:"upgrade"})])),_:1}),(0,t.createVNode)(w,null,{default:(0,t.withCtx)((()=>[n])),_:1})])),_:1},512)),[[R]]):(0,t.createCommentVNode)("",!0),"function"==typeof C.acessarPainel?(0,t.withDirectives)(((0,t.openBlock)(),(0,t.createBlock)(y,{key:1,clickable:"",onClick:o[1]||(o[1]=e=>C.acessarPainel())},{default:(0,t.withCtx)((()=>[(0,t.createVNode)(w,{avatar:""},{default:(0,t.withCtx)((()=>[(0,t.createVNode)(E,{name:"insights"})])),_:1}),(0,t.createVNode)(w,null,{default:(0,t.withCtx)((()=>[s])),_:1})])),_:1},512)),[[R]]):(0,t.createCommentVNode)("",!0)])),_:1})]),(0,t.createVNode)(D,{vertical:"",inset:"",class:"q-mx-lg"}),(0,t.createElementVNode)("div",d,[c,(0,t.createElementVNode)("div",u,[(0,t.createVNode)(S,{style:{width:"100%"},label:"Selecione o arquivo (.xlsx)","hide-upload-btn":"","auto-upload":"",factory:C.importarPlanilhaRetorno},null,8,["factory"])])])])])),_:1})])),filtroCampos:(0,t.withCtx)((()=>[(0,t.createVNode)(x,{class:"q-col-gutter-md q-mt-md",style:{"margin-top":"-10px"}},{default:(0,t.withCtx)((()=>[(0,t.createVNode)(k,{modelValue:b.filtro.cliente.nome,"onUpdate:modelValue":[o[2]||(o[2]=e=>b.filtro.cliente.nome=e),C.filtraDebounce],class:"col-md-12",style:{"padding-top":"0px"},debounce:500,before:[{icon:"search"}],rotulo:"Por cliente ou responsável",dense:""},null,8,["modelValue","onUpdate:modelValue"]),b.diretivaContatosAcessaTodosContatos?((0,t.openBlock)(),(0,t.createBlock)(A,{key:0,modelValue:b.vendedorDigitadorSelecionado,"onUpdate:modelValue":[o[3]||(o[3]=e=>b.vendedorDigitadorSelecionado=e),e.refazFiltro],options:b.vendedoresDigitadoresOpcoes,clearable:"",label:"Vendedor / Digitador"},null,8,["modelValue","options","onUpdate:modelValue"])):(0,t.createCommentVNode)("",!0),b.empresas.length?((0,t.openBlock)(),(0,t.createBlock)(k,{key:1,tipo:"seletor",modelValue:b.filtro.empresa.id,"onUpdate:modelValue":[o[4]||(o[4]=e=>b.filtro.empresa.id=e),C.atualizar],options:b.empresas.map((e=>({label:e.nome,value:e.idContato}))),clearable:"",rotulo:"Por empresa"},null,8,["modelValue","options","onUpdate:modelValue"])):(0,t.createCommentVNode)("",!0),m,(0,t.createVNode)(k,{rotulo:"Valor total maior que",modelValue:b.filtro.valorTotal,"onUpdate:modelValue":o[5]||(o[5]=e=>b.filtro.valorTotal=e),before:[{icon:"money"}],tipo:"decimal",decimals:"4",zerosDireita:"2",dense:""},null,8,["modelValue"])])),_:1}),(0,t.createVNode)(A,{modelValue:b.prazoSelecionado,"onUpdate:modelValue":o[6]||(o[6]=e=>b.prazoSelecionado=e),options:b.prazoOpcoes,clearable:"",label:"Por prazo"},null,8,["modelValue","options"]),(0,t.createVNode)(A,{modelValue:e.empresaSelecionada,"onUpdate:modelValue":[o[7]||(o[7]=o=>e.empresaSelecionada=o),e.refazFiltro],options:e.empresaOpcoes,clearable:"",label:"Por empresa"},null,8,["modelValue","options","onUpdate:modelValue"]),b.tokenRoutEasy&&b.tokenRoutEasy.length>3?((0,t.openBlock)(),(0,t.createBlock)(x,{key:0,class:"q-col-gutter-md q-mt-md"},{default:(0,t.withCtx)((()=>[(0,t.createVNode)(k,{tipo:"seletor",dense:"",modelValue:b.filtro.statusEnvio,"onUpdate:modelValue":[o[8]||(o[8]=e=>b.filtro.statusEnvio=e),C.aoSelecionarStatusEnvio],options:b.opcoesStatusEnvio.map((e=>({label:e.rotulo,value:e.rotulo}))),clearable:"",rotulo:"Status Envio"},null,8,["modelValue","options","onUpdate:modelValue"])])),_:1})):(0,t.createCommentVNode)("",!0),(0,t.createVNode)(x,{class:"q-col-gutter-md q-mt-md"},{default:(0,t.withCtx)((()=>[(0,t.createVNode)(k,{tipo:"seletor",dense:"",modelValue:b.filtro.opcaoDataSelected,"onUpdate:modelValue":o[9]||(o[9]=e=>b.filtro.opcaoDataSelected=e),options:b.opcoesData.map((e=>({label:e.label,value:e.label}))),rotulo:"Selecione data para filtro"},null,8,["modelValue","options"])])),_:1}),"Data Faturado"===b.filtro.opcaoDataSelected?((0,t.openBlock)(),(0,t.createBlock)(x,{key:1,class:"q-col-gutter-md q-mt-md"},{default:(0,t.withCtx)((()=>[p,(0,t.createVNode)(k,{modelValue:b.filtro.periodo.faturado.ini,"onUpdate:modelValue":o[10]||(o[10]=e=>b.filtro.periodo.faturado.ini=e),tipo:"data",class:"no-shadow full-width",rotulo:"De",col:"12",after:[{icon:"mdi-close-circle",handler(){b.filtro.periodo.faturado.ini=""}}],dense:""},null,8,["modelValue","after"]),(0,t.createVNode)(k,{modelValue:b.filtro.periodo.faturado.fim,"onUpdate:modelValue":o[11]||(o[11]=e=>b.filtro.periodo.faturado.fim=e),tipo:"data",class:"no-shadow full-width",rotulo:"até",col:"12",after:[{icon:"mdi-close-circle",handler(){b.filtro.periodo.faturado.fim=""}}],dense:""},null,8,["modelValue","after"])])),_:1})):(0,t.createCommentVNode)("",!0),"Data Emissão"===b.filtro.opcaoDataSelected?((0,t.openBlock)(),(0,t.createBlock)(x,{key:2,class:"q-col-gutter-md q-mt-md"},{default:(0,t.withCtx)((()=>[f,(0,t.createVNode)(k,{modelValue:b.filtro.periodo.emissao.ini,"onUpdate:modelValue":o[12]||(o[12]=e=>b.filtro.periodo.emissao.ini=e),tipo:"data",class:"no-shadow full-width",rotulo:"De",col:"12",after:[{icon:"mdi-close-circle",handler(){b.filtro.periodo.emissao.ini=""}}],dense:""},null,8,["modelValue","after"]),(0,t.createVNode)(k,{modelValue:b.filtro.periodo.emissao.fim,"onUpdate:modelValue":o[13]||(o[13]=e=>b.filtro.periodo.emissao.fim=e),tipo:"data",class:"no-shadow full-width",rotulo:"até",col:"12",after:[{icon:"mdi-close-circle",handler(){b.filtro.periodo.emissao.fim=""}}],dense:""},null,8,["modelValue","after"])])),_:1})):(0,t.createCommentVNode)("",!0),"Data Finalização"===b.filtro.opcaoDataSelected?((0,t.openBlock)(),(0,t.createBlock)(x,{key:3,class:"q-col-gutter-md q-mt-md"},{default:(0,t.withCtx)((()=>[h,(0,t.createVNode)(k,{modelValue:b.filtro.periodo.finalizado.ini,"onUpdate:modelValue":o[14]||(o[14]=e=>b.filtro.periodo.finalizado.ini=e),tipo:"data",class:"no-shadow full-width",rotulo:"De",col:"12",after:[{icon:"mdi-close-circle",handler(){b.filtro.periodo.finalizado.ini=""}}],dense:""},null,8,["modelValue","after"]),(0,t.createVNode)(k,{modelValue:b.filtro.periodo.finalizado.fim,"onUpdate:modelValue":o[15]||(o[15]=e=>b.filtro.periodo.finalizado.fim=e),tipo:"data",class:"no-shadow full-width",rotulo:"até",col:"12",after:[{icon:"mdi-close-circle",handler(){b.filtro.periodo.finalizado.fim=""}}],dense:""},null,8,["modelValue","after"])])),_:1})):(0,t.createCommentVNode)("",!0),g,(0,t.createVNode)(k,{modelValue:b.paginacao.limite,"onUpdate:modelValue":o[16]||(o[16]=e=>b.paginacao.limite=e),min:"1",rotulo:"Quantidade por página",tipo:"quantidade",dense:""},null,8,["modelValue"])])),itemLista:(0,t.withCtx)((()=>[(0,t.createVNode)($,{class:"rounded-borders"},{default:(0,t.withCtx)((()=>[((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,null,(0,t.renderList)(b.documentos,(e=>((0,t.openBlock)(),(0,t.createElementBlock)("div",{key:e.id,class:"itemHover fullWidth q-px-sm",onClick:o=>C.debug(e)},[(0,t.createVNode)(q,{sendRouteEasy:C.sendRouteEasy,resetarEnvio:C.resetarEnvio,fatura:e.fatura,id:e.id,ref:e.id,class:"q-mb-md"},null,8,["sendRouteEasy","resetarEnvio","fatura","id"])],8,v)))),128))])),_:1})])),_:1},8,["onCriar_click","onFiltro_change","onLimparFiltros_click","onAbrirTodosPreview","tabSelecionada","tabs","lista","paginacao","permissaoExtrasV2","filtros","buscaCampo"])]),(0,t.createVNode)(F,{ref:"modalVenda",onExecutar:C.executar,onAtualizarAtendimentoVenda:C.executar,continueMesmaTela:!1},null,8,["onExecutar","onAtualizarAtendimentoVenda"])],64)}]]);B()(N,"components",{QMenu:A.Z,QList:x.Z,QItem:q.Z,QItemSection:z.Z,QIcon:F.Z,QSeparator:R.Z,QUploader:T.Z,QChip:_.Z,QSelect:I.Z}),B()(N,"directives",{ClosePopup:O.Z})}}]);