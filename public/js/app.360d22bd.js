(function(e){function t(t){for(var o,s,n=t[0],c=t[1],l=t[2],d=0,m=[];d<n.length;d++)s=n[d],i[s]&&m.push(i[s][0]),i[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);u&&u(t);while(m.length)m.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],o=!0,s=1;s<a.length;s++){var c=a[s];0!==i[c]&&(o=!1)}o&&(r.splice(t--,1),e=n(n.s=a[0]))}return e}var o={},i={app:0},r=[];function s(e){return n.p+"js/"+({}[e]||e)+"."+{51826664:"a3ed3421","0b65ffb6":"90b1159a","2d0a3149":"4d2cc6d2","2d0a32e7":"a2d705c4","2d0a3e89":"f8a644fc","2d0a4b4f":"0ef0cd40","2d0a4f3d":"92a7992b","2d0aabd6":"05c9da80","2d0aba0f":"5a960883","2d0ac354":"6d7ff81d","2d0b16cd":"3c067e71","2d0b218a":"856cbc6d","2d0b2725":"152f0f5f","2d0b5f38":"cf8aeee3","2d0b5fd1":"5fd38b07","2d0b654b":"cc26943a","2d0c06a5":"3505cb80","2d0c4db7":"77eb3aa6","2d0c512b":"324c8ed7","2d0c515d":"a46f1fee","2d0c8612":"2c7458a6","2d0cb76d":"ac2ee355","2d0d0474":"b2348238","2d0d2b72":"2b264a90","2d0d2e88":"df071f03","2d0d7804":"13a5cf6c","2d0daf4f":"9ae27566","2d0db816":"e4bbc637","2d0dd64f":"10b1d450","2d0dd7df":"d274d012","2d0e4510":"5560f9ed","2d0e5949":"e2f86096","2d0e5985":"2b22841c","2d0e59b0":"23091705","2d0e8e3f":"30b72786","2d2076e9":"8366ac90","2d207ba3":"67af49e6","2d208d9e":"46f66867","2d20ed73":"6028ce2d","2d20ee04":"32f64dbe","2d20ff23":"a228f0a7","2d210627":"3293ead1","2d212fb6":"14fd4d4c","2d21449a":"9ee69900","2d21684f":"699b5000","2d217118":"2afb79ba","2d2172c8":"a9b28efe","2d2174db":"f5df0622","2d217aa9":"ac05980d","2d21b84a":"66578047","2d21dc90":"f23f1060","2d21e73c":"c1d66de4","2d222cf8":"7c9f8a13","2d2244a1":"2ce429d2","2d22502a":"405eced6","2d225f5a":"def7ebef","2d22691a":"7da76287","2d22ca58":"10258259","2d22d0b0":"1ac93eb2","2d23055f":"a7ea0146","2d230c43":"d8bcafca","2d230e24":"51baead8","2d238498":"47a688ee","7532b3ea":"49ba8f3e",b280b996:"4b87c6d0"}[e]+".js"}function n(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.e=function(e){var t=[],a=i[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise(function(t,o){a=i[e]=[t,o]});t.push(a[2]=o);var r,c=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.src=s(e),r=function(t){l.onerror=l.onload=null,clearTimeout(d);var a=i[e];if(0!==a){if(a){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+o+": "+r+")");s.type=o,s.request=r,a[1](s)}i[e]=void 0}};var d=setTimeout(function(){r({type:"timeout",target:l})},12e4);l.onerror=l.onload=r,c.appendChild(l)}return Promise.all(t)},n.m=e,n.c=o,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var u=l;r.push([1,"vendor"]),a()})({0:function(e,t){},"0064":function(e,t,a){"use strict";var o=a("95d7"),i=a.n(o);i.a},"0068":function(e,t,a){"use strict";var o=a("83e3"),i=a.n(o);i.a},"00e4":function(e,t,a){"use strict";var o=a("a1c2"),i=a.n(o);i.a},"0148":function(e,t,a){},"015d":function(e,t,a){},"01f4":function(e,t,a){},"02d9":function(e,t,a){},"03be":function(e,t,a){},"05fa":function(e,t,a){"use strict";var o=a("68d9a"),i=a.n(o);i.a},"063d":function(e,t,a){"use strict";var o=a("d656"),i=a.n(o);i.a},"0691":function(e,t,a){"use strict";var o=a("b981"),i=a.n(o);i.a},"07a4":function(e,t,a){},"0937":function(e,t,a){},"098e":function(e,t,a){"use strict";var o=a("a5d6"),i=a.n(o);i.a},"09b1":function(e,t,a){},"0b07":function(e,t,a){"use strict";var o=a("5547"),i=a.n(o);i.a},"0c03":function(e,t,a){},"0e0d":function(e,t,a){},"0f0e":function(e,t,a){},"0f20":function(e,t,a){},1:function(e,t,a){e.exports=a("2f39")},"10f9":function(e,t,a){"use strict";var o=a("5f0d"),i=a.n(o);i.a},1120:function(e,t,a){},"11b9":function(e,t,a){"use strict";var o=a("8e2c"),i=a.n(o);i.a},"12f6":function(e,t,a){"use strict";var o=a("a864"),i=a.n(o);i.a},"13ff":function(e,t,a){"use strict";var o=a("d8eb"),i=a.n(o);i.a},1438:function(e,t,a){"use strict";var o=a("157d"),i=a.n(o);i.a},"157d":function(e,t,a){},"15f9":function(e,t,a){"use strict";var o=a("7448"),i=a.n(o);i.a},1662:function(e,t,a){"use strict";var o=a("5b78"),i=a.n(o);i.a},"16db":function(e,t,a){"use strict";var o=a("a22ac"),i=a.n(o);i.a},"170b":function(e,t,a){"use strict";var o=a("b089"),i=a.n(o);i.a},1796:function(e,t,a){"use strict";var o=a("49c5"),i=a.n(o);i.a},1885:function(e,t,a){"use strict";var o=a("3658"),i=a.n(o);i.a},1928:function(e,t,a){"use strict";var o=a("4d30"),i=a.n(o);i.a},"1a49":function(e,t,a){"use strict";var o=a("2a7a"),i=a.n(o);i.a},"1c2e":function(e,t,a){},"1c4d":function(e,t,a){"use strict";var o=a("9e1b"),i=a.n(o);i.a},"1d6f":function(e,t,a){},"1dd9":function(e,t,a){},"1e5d":function(e,t,a){},"1ffe":function(e,t,a){},2:function(e,t){},"202c":function(e,t,a){},"22e5":function(e,t,a){"use strict";var o=a("33ad"),i=a.n(o);i.a},2317:function(e,t,a){},"240a":function(e,t,a){},"25e9":function(e,t,a){"use strict";var o=a("bfc0"),i=a.n(o);i.a},2735:function(e,t,a){},2808:function(e,t,a){},"2a7a":function(e,t,a){},"2acf":function(e,t,a){},"2adf":function(e,t,a){"use strict";var o=a("95f1"),i=a.n(o);i.a},"2b1d":function(e,t,a){"use strict";var o=a("2317"),i=a.n(o);i.a},"2ba3":function(e,t,a){},"2c0d":function(e,t,a){"use strict";var o=a("3ee3"),i=a.n(o);i.a},"2c21":function(e,t,a){},"2c5f":function(e,t,a){},"2d7f2":function(e,t,a){},"2edb":function(e,t,a){"use strict";var o=a("2735"),i=a.n(o);i.a},"2f2b":function(e,t,a){"use strict";var o=a("f774"),i=a.n(o);i.a},"2f39":function(e,t,a){"use strict";a.r(t);var o={};a.r(o),a.d(o,"Alerta",function(){return Mo}),a.d(o,"ErroValidacao",function(){return ko}),a.d(o,"adicionarSincronizar",function(){return rt}),a.d(o,"agrupar",function(){return ct}),a.d(o,"analisarRedeSocialLink",function(){return lt}),a.d(o,"arredondar",function(){return dt}),a.d(o,"arredondarPiso",function(){return mt}),a.d(o,"arredondarTeto",function(){return vt}),a.d(o,"atualizarCfop",function(){return Oo}),a.d(o,"base64",function(){return Ct}),a.d(o,"bulkPut",function(){return Qt}),a.d(o,"buscarCep",function(){return Jt}),a.d(o,"buscarEndereco",function(){return Xt}),a.d(o,"clonar",function(){return Yt}),a.d(o,"clonarCompactar",function(){return Zt}),a.d(o,"clonarV2",function(){return ea}),a.d(o,"compactarObjeto",function(){return aa}),a.d(o,"completarCodigoBarras",function(){return oa}),a.d(o,"converterDataHoraBr",function(){return sa}),a.d(o,"dataAtual",function(){return na}),a.d(o,"diferenca",function(){return va}),a.d(o,"diferencaNivel1",function(){return fa}),a.d(o,"diferencaObjetos",function(){return ga}),a.d(o,"dormir",function(){return xa}),a.d(o,"eventos",function(){return qa}),a.d(o,"executarApi",function(){return Ia}),a.d(o,"executarGraphql",function(){return ya}),a.d(o,"executarSql",function(){return jo}),a.d(o,"executarSqlProtegido",function(){return zo}),a.d(o,"extenso",function(){return ka}),a.d(o,"fbarcode",function(){return Qo}),a.d(o,"filtrar",function(){return Ma}),a.d(o,"filtrarDigitos",function(){return Pa}),a.d(o,"gconsole",function(){return ei}),a.d(o,"geeksApi",function(){return Ta}),a.d(o,"imposto",function(){return Oa}),a.d(o,"imprimir",function(){return Ra}),a.d(o,"isNumber",function(){return ja}),a.d(o,"jsBarcode128C",function(){return ni}),a.d(o,"juntar",function(){return za}),a.d(o,"logarDebug",function(){return Xo}),a.d(o,"logarFim",function(){return Wo}),a.d(o,"logarIni",function(){return Yo}),a.d(o,"mapearEstadoCodigo",function(){return La}),a.d(o,"mapearStatus",function(){return Qa}),a.d(o,"mostrarErro",function(){return Ga}),a.d(o,"primeiraMaiuscula",function(){return Ja}),a.d(o,"primeiraMinuscula",function(){return Xa}),a.d(o,"processarFilho",function(){return Ya}),a.d(o,"processarFilhoEspecifico",function(){return Za}),a.d(o,"processarFilhos",function(){return eo}),a.d(o,"removerAcentos",function(){return oo}),a.d(o,"removerCaracteresEspeciais",function(){return ro}),a.d(o,"sincronismoEnviar",function(){return so}),a.d(o,"sistemaPai",function(){return co}),a.d(o,"somar",function(){return lo}),a.d(o,"sqlData",function(){return Bo}),a.d(o,"sqlNum",function(){return Lo}),a.d(o,"sqlStr",function(){return Vo}),a.d(o,"tratarErroGraphql",function(){return uo}),a.d(o,"trocarCfop",function(){return To}),a.d(o,"unicos",function(){return po}),a.d(o,"uuid",function(){return hi}),a.d(o,"validarDocumentoNacional",function(){return mi}),a.d(o,"validarDocumentoNacionalUnico",function(){return pi}),a.d(o,"verificarAlerta",function(){return Do}),a.d(o,"verificarConduta",function(){return fo}),a.d(o,"verificarErro",function(){return Po}),a.d(o,"verificarExcecao",function(){return Eo}),a.d(o,"verificarSeCamposSaoValidos",function(){return Co});a("ac6a"),a("a114"),a("d14b"),a("113c"),a("1e5d"),a("7e6d");var i=a("a026"),r=a("b848"),s=a("ebc6"),n=a("e84f"),c=a("ef81"),l=a("7ea0"),d=a("482e"),u=a("9e58"),m=a("1731"),p=a("09fa"),v=a("7646"),h=a("6ddb"),f=a("3a08"),C=a("dc23"),b=a("3054"),g=a("6580"),x=a("4e99"),_=a("db35"),q=a("a7da"),S=a("76ca"),I=a("525b"),F=a("4bf4"),w=a("e57e"),y=a("ac83"),N=a("f25e"),k=a("3d5b"),M=a("79e9"),P=a("52b5"),D=a("f7bf"),E=a("206e"),T=a("5d8b"),A=a("2054"),O=a("506f"),$=a("b8d9"),R=a("91c8"),j=a("7d43"),z=a("9541"),B=a("2629"),L=a("7051"),V=a("cf12"),U=a("4487"),H=a("2040"),Q=a("1180"),G=a("1e55"),J=a("0952"),X=a("2a70"),Y=a("c1f9"),W=a("32a1"),Z=a("46a9"),K=a("e9e5"),ee=a("b5b8"),te=a("d3e7"),ae=a("21d5"),oe=a("dd1f"),ie=a("1c93"),re=a("363b"),se=a("9413"),ne=a("93f5"),ce=a("fc6c"),le=a("6186"),de=a("5931"),ue=a("94e3"),me=a("b70a"),pe=a("a2d0"),ve=a("a360"),he=a("db7b"),fe=a("c081"),Ce=a("c604"),be=a("53fe"),ge=a("c563"),xe=a("7b38"),_e=a("62a9"),qe=a("dd2e"),Se=a("6cd5"),Ie=a("bc9b"),Fe=a("f30c"),we=a("ce67"),ye=a("03d8"),Ne=a("66d7"),ke=a("e4f9"),Me=a("2f48"),Pe=a("2bd2"),De=a("1526"),Ee=a("f62b"),Te=a("0bae"),Ae=a("6780"),Oe=a("a9a0"),$e=a("133b"),Re=a("ed20");i["default"].use(n["a"],{config:{notify:{position:"top"}},i18n:r["a"],iconSet:s["a"],components:{QAlert:c["a"],QAutocomplete:l["a"],QBtn:d["a"],QBtnDropdown:u["a"],QBtnGroup:m["a"],QBtnToggle:p["a"],QCard:v["a"],QCardActions:h["a"],QCardMain:f["a"],QCardMedia:C["a"],QCardSeparator:b["a"],QCardTitle:g["a"],QCarousel:x["a"],QCarouselControl:_["a"],QCarouselSlide:q["a"],QChatMessage:S["a"],QCheckbox:I["a"],QChip:F["a"],QChipsInput:w["a"],QCollapsible:y["a"],QColor:N["a"],QDatetime:k["a"],QField:M["a"],QIcon:P["a"],QInfiniteScroll:D["a"],QInnerLoading:E["a"],QInput:T["a"],QInputFrame:A["a"],QItem:O["a"],QItemMain:$["a"],QItemSeparator:R["a"],QItemSide:j["a"],QItemTile:z["a"],QJumbotron:B["a"],QLayout:L["a"],QLayoutDrawer:V["a"],QLayoutFooter:U["a"],QLayoutHeader:H["a"],QList:Q["a"],QListHeader:G["a"],QModal:J["a"],QModalLayout:X["a"],QOptionGroup:Y["a"],QPage:W["a"],QPageContainer:Z["a"],QPagination:K["a"],QPopover:ee["a"],QProgress:te["a"],QPullToRefresh:ae["a"],QRadio:oe["a"],QRating:ie["a"],QResizeObservable:re["a"],QRouteTab:se["a"],QScrollArea:ne["a"],QScrollObservable:ce["a"],QSearch:le["a"],QSelect:de["a"],QSlider:ue["a"],QSpinner:me["a"],QSpinnerDots:pe["a"],QSpinnerHourglass:ve["a"],QTab:he["a"],QTabPane:fe["a"],QTable:Ce["a"],QTableColumns:be["a"],QTabs:ge["a"],QTd:xe["a"],QTh:_e["a"],QTimeline:qe["a"],QTimelineEntry:Se["a"],QToggle:Ie["a"],QToolbar:Fe["a"],QToolbarTitle:we["a"],QTooltip:ye["a"],QTr:Ne["a"],QTree:ke["a"],QUploader:Me["a"]},directives:{CloseOverlay:Pe["a"],Ripple:De["a"],TouchPan:Ee["a"]},plugins:{ActionSheet:Te["a"],Dialog:Ae["a"],Loading:Oe["a"],Notify:$e["a"],Screen:Re["a"]}});var je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"q-app"}},[e.restricao?a("restricao",{attrs:{msg:e.restricao}}):[a("Plataforma15"),a("router-view"),a("modal-alerta"),a("modal-sucesso")]],2)},ze=[];je._withStripped=!0;a("96cf");var Be=a("c973"),Le=a.n(Be),Ve=a("74ce"),Ue={},He=function(e,t){if("delete"===t){if(Ue[e]){var a=Ue[e];return delete Ue[e],a.delete()}return Ve["a"].delete(e)}if(e&&"string"===typeof e||(e=localStorage.getItem("bancoDeDados")),!e)throw new Error("Não foi possível encontrar um banco de dados.");if(Ue[e])return Ue[e];var o=new Ve["a"](e);return o.version(1).stores({NFe:"&id",NFeHist:"&id",_cidade:"&id",_ncm:"&id, ncm",caixa:"&id",cest:"&id",cfop:"&id",clienteSistema:"&id",configuracoes:"&id",contato:"&id",contatoAnotacao:"&id, idContato",contatoConsulta:"&id, idContato",contatoEndereco:"&id, idContato",contatoFilho:"&id, idContato, idContatoRelacionado",contatoGrupo:"&id, idContato",contatoRedeSocial:"&id, idContato",contatoTelefone:"&id, idContato",documento:"&id, idContato, idFatura, idDocumentoAdicional, tipo",documentoCondicaoPagamento:"&id, idDocumento",documentoContato:"&id, idDocumento",documentoItem:"&id, idDocumento, idDocumentoAdicional",documentoSat:"&id, idDocumento",empresa:"&id",estoqueSaldoProdutoEmpresa:"&id, idItem",financeiroCentroCusto:"&id",financeiroPlanoConta:"&id",financeiroTitulo:"&id, idContato",formaPagamento:"&id",impostoConfiguracao:"&id, idNcm",impostoParametro:"&id, cod, idImpParamTipo",impostoParametroTipo:"&id, cod",item:"&id",itemComposicao:"&id, idItem",itemFornecedor:"&id, idItem",itemProducaoFase:"&id, idItem",itemQualidade:"&id, idItem",itemTabelaPreco:"&id",nfeIbpt:"&id, codigo",sincronismoFila:"&id",usuario:"&id"}),o.version(2).stores({NFe:"&id",NFeHist:"&id",_cidade:"&id",_ncm:"&id, ncm",caixa:"&id",cest:"&id",cfop:"&id",clienteSistema:"&id",configuracoes:"&id",contato:"&id",contatoAnotacao:"&id, idContato",contatoConsulta:"&id, idContato",contatoEndereco:"&id, idContato",contatoFilho:"&id, idContato, idContatoRelacionado",contatoGrupo:"&id, idContato",contatoRedeSocial:"&id, idContato",contatoTelefone:"&id, idContato",documento:"&id, idContato, idFatura, idDocumentoAdicional, tipo",documentoCondicaoPagamento:"&id, idDocumento",documentoContato:"&id, idDocumento",documentoItem:"&id, idDocumento, idDocumentoAdicional",documentoOperacao:"&id",documentoSat:"&id, idDocumento",empresa:"&id",estoqueSaldoProdutoEmpresa:"&id, idItem",financeiroCentroCusto:"&id",financeiroPlanoConta:"&id",financeiroTitulo:"&id, idContato",formaPagamento:"&id",impostoConfiguracao:"&id, idNcm",impostoParametro:"&id, cod, idImpParamTipo",impostoParametroTipo:"&id, cod",item:"&id",itemComposicao:"&id, idItem",itemFornecedor:"&id, idItem",itemProducaoFase:"&id, idItem",itemQualidade:"&id, idItem",itemTabelaPreco:"&id",nfeIbpt:"&id, codigo",sincronismoFila:"&id",usuario:"&id"}),o.version(3).stores({documentoStatus:"&id, idDocumento, idDocumentoCaixa, idDocumentoItem, idContatoResponsavel, idUsuarioAlterou"}),o.version(4).stores({documentoEndereco:"&id, idDocumento, idContato"}),o.version(5).stores({financeiroMovimentacao:"&id"}),o.version(6).stores({configuracoes:"&id, nome"}),o.version(7).stores({financeiroMovimentacaoN:"&id"}),o.version(8).stores({perfilContabilItem:"&id"}),o.version(9).stores({arquivo:"&id"}),o.version(10).stores({perfilContabil:"&id"}),o.version(11).stores({contatoCreditoExtrato:"&id"}),o.version(12).stores({financeiroRenegociacao:"&id, idFinanceiroTitulo, idFinanceiroMovimentacaoN"}),o.version(13).stores({financeiroTitulo:"&id, idContato, documentoId"}),o.version(14).stores({financeiroMovimentacao:"&id, idDocumentoCaixa"}),o.version(15).stores({_banco:"&id",financeiroBoleto:"&id, idEmpresa, idContato, idFinanceiroBanco, idFinanceiroRemessaLote, idNaoPagoMovimentacaoN",financeiroBanco:"&id, idEmpresa, idBanco, idFinanceiroPlanoConta"}),o.version(15).stores({financeiroBoletoTitulo:"&id, idFinanceiroBoleto, idFinanceiroTitulo"}),o.version(16).stores({impostoParametro:"&id, cod, idImpParamTipo, impParamTipoCod"}),o.version(17).stores({caixaConsolidacao:"&id, idDocumento, idDocumentoCaixa, idDocumentoStatus, idFormaPagamento, idTitulo"}),o.version(18).stores({documentoSat:"&id, idDocumento"}),o.version(19).stores({financeiroTitulo:"&id, idContato, documentoId, idDocumentoCaixa, idDocumentoCaixaLiquidacao",caixaConsolidacao2:"&id, idDocumentoCaixa, idDocumentoStatus, tabela, idTabela"}),o.version(20).stores({contatoCreditoExtrato:"&id, idContato",financeiroTitulo:"&id, idContato, documentoId, idDocumentoCaixa, idDocumentoCaixaLiquidacao, idFatura, idFinanceiroBoleto"}),o.version(21).stores({documentoContato:"&id, idDocumento, idContato"}),o.version(22).stores({documentoCondicaoPagamento:"&id, idDocumento, idDocumentoCaixa, idFinanceiroTitulo"}),o.version(23).stores({contato:"&id, idUsuario"}),o.version(24).stores({contato:"&id, idUsuario, codigoUsuario"}),o.version(25).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, tipo"}),o.version(26).stores({empresa:"&id, idContato"}),o.version(27).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo"}),o.version(28).stores({financeiroMovimentacao:"&id, idDocumentoCaixa, idFinanceiroPlanoConta"}),o.version(29).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, tipo, [tipo+idContato]"}),o.version(30).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, [tipo+idContato]"}),o.version(31).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, [tipo+idContato], [tipo+documentoId]"}),o.version(32).stores({documentoItem:"&id, idDocumento, idDocumentoAdicional, tipoItem"}),o.version(33).stores({item:"&id, armacaoMaterial"}),o.version(34).stores({item:"&id, tipo"}),o.version(35).stores({arquivo:"&id, idTabelaMaster, tabelaMaster, [idTabelaMaster+tabelaMaster]"}),o.version(36).stores({financeiroMovimentacao:"&id, idDocumentoCaixa, idFinanceiroPlanoConta, [idDocumentoCaixa+idFinanceiroPlanoConta]"}),o.version(37).stores({financeiroMovimentacao:"&id, idDocumentoCaixa, idFinanceiroPlanoConta, [idDocumentoCaixa+idFinanceiroPlanoConta], [documentoId+documentoTipo]"}),o.version(38).stores({financeiroMovimentacao:"&id, idDocumentoCaixa, idFinanceiroPlanoConta, idFinanceiroMovimentacaoN, documentoId, documentoTipo, [idDocumentoCaixa+idFinanceiroPlanoConta], [documentoId+documentoTipo]"}),o.version(39).stores({cfop:"&id, codigoCfop"}),o.version(40).stores({perfilContabilItem:"&id, idPerfilContabil, idCfop"}),o.version(41).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo]"}),o.version(42).stores({perfilContabilItem:"&id, idPerfilContabil, idCfop, [idPerfilContabil+idCfop]"}),o.version(43).stores({estoqueSaldoProdutoEmpresa:"&id, idItem, idEmpresa, tipoEstoque, [idItem+idEmpresa+tipoEstoque]"}),o.version(44).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo]"}),o.version(45).stores({caixa:"&id, idEmpresa"}),o.version(46).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo]"}),o.version(47).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status]"}),o.version(48).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status], [idContato+tipo+status]"}),o.version(49).stores({contato:"&id, idUsuario, codigoUsuario, codigoContato"}),o.version(50).stores({sincronismoFila:"++_ordem, &id"}),o.version(51).stores({documentoItem:"&id, idDocumento, idDocumentoAdicional, idItem, tipoItem"}),o.version(52).stores({documentoItem:"&id, idDocumento, idDocumentoAdicional, idItem, tipoItem, [idDocumento+idItem]"}),o.version(53).stores({financeiroTitulo:"&id, idContato, documentoId, idDocumentoCaixa, idDocumentoCaixaLiquidacao, idFatura, idFinanceiroBoleto, [idFatura+idDocumentoCaixa], [documentoId+idDocumentoCaixa]"}),o.version(54).stores({financeiroMovimentacao:"&id, idDocumentoCaixa, idFinanceiroPlanoConta, idFinanceiroMovimentacaoN, documentoId, documentoTipo, [idDocumentoCaixa+idFinanceiroPlanoConta], [documentoId+documentoTipo], [idDocumentoCaixa+documentoId]"}),o.version(55).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status], [idContato+tipo+status], [tipo+idFatura]"}),o.version(56).stores({dispositivoCliente:"&id"}),o.version(57).stores({item:"&id, tipo, ativo"}),o.version(58).stores({documentoItem:"&id, idDocumento, idDocumentoAdicional, idItem, tipoItem, [idDocumento+idItem], [idDocumento+tipoItem]"}),o.version(59).stores({financeiroMovimentacao:"&id, idDocumentoCaixa, idFinanceiroPlanoConta, idFinanceiroMovimentacaoN, documentoId, documentoTipo, [idDocumentoCaixa+idFinanceiroPlanoConta], [documentoId+documentoTipo], [idDocumentoCaixa+documentoId], [idDocumentoCaixa+documentoTipo]"}),o.version(60).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status], [idContato+tipo+status], [tipo+idFatura], [tipo+documentoId+documentoTipo]"}),o.version(61).stores({_cidade:"&id, ativo"}),o.version(62).stores({itemTabelaPreco:"&id, idEmpresa"}),o.version(63).stores({financeiroPlanoConta:"&id, codigoFinanceiroPlanoConta"}),o.version(64).stores({documentoFiscalEletronico:"&id, idDocumento, tpAmb, cpFCnpjEmitente, mod, serie, nNF, [tpAmb+cpFCnpjEmitente+mod+serie+nNF]",documentoFiscalEletronicoXml:"&id, idDocumento, idDocumentoFiscalEletronico",documentoFiscalEletronicoErro:"&id, idDocumento, idDocumentoFiscalEletronico"}),o.version(65).stores({documentoFiscalEletronico:"&id, idDocumento, tpAmb, cpFCnpjEmitente, mod, serie, nNF, [tpAmb+cpFCnpjEmitente+mod+serie]"}),o.version(66).stores({documentoFiscalEletronico:"&id, idDocumento, tpAmb, cpFCnpjEmitente, mod, serie, nNF, [tpAmb+cpFCnpjEmitente+mod+serie], [idDocumento+situacao]",documentoFiscalEletronicoXml:"&id, idDocumento, idDocumentoFiscalEletronico, [idDocumentoFiscalEletronico+status+situacao]"}),o.version(69).stores({documentoFiscalEletronico:"&id, idDocumento, [idDocumento+situacao]"}),o.version(70).stores({documentoFiscalEletronico:"&id, idDocumento, [idDocumento+situacao], [tpAmb+cpfCnpjEmitente+mod+serie]"}),o.version(71).stores({documentoFiscalEletronicoXml:"&id, idDocumento, idDocumentoFiscalEletronico, [idDocumentoFiscalEletronico+status+situacao], [idDocumentoFiscalEletronico+operacao]"}),o.version(72).stores({_cidade:"&id, cidadeCodIbge"}),o.version(73).stores({documentoOperacao:"&id, codigoDocumentoOperacao"}),o.version(74).stores({cfop:"&id, codigoCfop, cfop"}),o.version(75).stores({documentoOperacao:"&id, codigoDocumentoOperacao, idCfop"}),o.version(76).stores({item:"&id, tipo, ativo, ncm"}),o.version(77).stores({nfeIbpt:"&id, codigo, [codigo+idContato]"}),o.version(78).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status], [idContato+tipo+status], [tipo+idFatura], [tipo+documentoId+documentoTipo], [tipo+idContatoVendedor], [tipo+idContatoDigitador]"}),o.version(79).stores({contato:"&id, idUsuario, codigoUsuario, codigoContato, segmento"}),o.version(80).stores({contato:"&id, idUsuario, codigoUsuario, codigoContato, segmento, numeroDocumentoNacional"}),o.version(81).stores({documentoFiscalEletronico:"&id, idDocumento, tipo, [idDocumento+situacao], [tpAmb+cpfCnpjEmitente+mod+serie]"}),o.version(82).stores({aliquotaSimples:"&id, idEmpresa"}),o.version(83).stores({contatoGrupo:"&id, idContato, descricao"}),o.version(84).stores({configuracaoImposto:"&id"}),o.version(85).stores({financeiroBoleto:"&id, idFinanceiroBanco, nossoNumero"}),o.version(86).stores({json:"&id, descricao, referencia, [descricao+referencia]"}),o.version(87).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+idEmpresa+dataHoraEmissao], [tipo+idEmpresa+dataHoraFinalizado], [tipo+idContato+dataHoraEmissao], [tipo+idContato+dataHoraFinalizado], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status], [idContato+tipo+status], [tipo+idFatura], [tipo+documentoId+documentoTipo], [tipo+idContatoVendedor], [tipo+idContatoDigitador]"}),o.version(88).stores({documentoFiscalEletronicoErro:"&id, idDocumento, idDocumentoFiscalEletronico, [tpAmb+cpfCnpjEmitente+mod+serie+nNF+situacao]"}),o.version(89).stores({equipamento:"&id, idItem, idContato"}),o.version(90).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+idEmpresa+dataHoraEmissao], [tipo+idEmpresa+dataHoraFinalizado], [tipo+idContato+dataHoraEmissao], [tipo+idContato+dataHoraFinalizado], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status], [idContato+tipo+status], [tipo+idFatura], [tipo+documentoId+documentoTipo], [tipo+idContatoVendedor], [tipo+idContatoDigitador], idEquipamento"}),o.version(91).stores({itemTabelaPreco:"&id, idEmpresa, idItem, tipo"}),o.version(92).stores({documentoFiscalEletronicoErro:"&id, idDocumento, idDocumentoFiscalEletronico, chNFe, [tpAmb+cpfCnpjEmitente+mod+serie+nNF+situacao]"}),Ue[e]=o,o},Qe=new Ve["a"]("plataforma");Qe.version(1).stores({clienteSistema:"&id",empresa:"&id",empresaUsuarioPermissao:"&id",grupo:"&id",grupoPermissao:"&id",objeto:"&id",sistema:"&id",sistemaObjeto:"&id",usuario:"&id, cpf",usuarioPermissao:"&id",usuarioPermissaoSistema:"&id",sincronismo:"&bancoDeDados",sincronismoFila:"&id"}),Qe.version(2).stores({empresaUsuarioPermissao:"&id, idEmpresa, idUsuario, [idEmpresa+idUsuario]"}),Qe.version(3).stores({usuario:"&id, codigoUsuario"}),Qe.version(4).stores({usuario:"&id, cpf, codigoUsuario"}),Qe.version(5).stores({empresa:"&id, codigoClienteSistema"}),Qe.version(6).stores({empresaUsuarioPermissao:"&id, idEmpresa, idUsuario, codigoEmpresa, codigoUsuario, [idEmpresa+idUsuario], [codigoEmpresa+codigoUsuario]"}),Qe.version(7).stores({contato:"&id"}),Qe.version(8).stores({login:"&id"}),Qe.version(9).stores({login:"&id, cpf"}),Qe.version(10).stores({empresa:"&id, codigoClienteSistema, idContato"}),Qe.version(11).stores({empresa:"&id, codigoClienteSistema, idContato, codigoContato"}),Qe.version(12).stores({objeto:"&id, nomeObjeto",sistemaObjeto:"&id, idObjeto"}),Qe.version(13).stores({sistemaObjeto:"&id, idObjeto, [idPai+idSistema]"});var Ge=Qe,Je=(a("55dd"),a("ac4d"),a("8a81"),{grava:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),leNew:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().arquivo.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:if(a={},!("idTabelaMaster"in t)){e.next=18;break}if(t.idTabelaMaster){e.next=17;break}return e.abrupt("return",[]);case 17:a.idTabelaMaster=t.idTabelaMaster;case 18:if(!("tabelaMaster"in t)){e.next=22;break}if(t.tabelaMaster){e.next=21;break}return e.abrupt("return",[]);case 21:a.tabelaMaster=t.tabelaMaster;case 22:return o=He().arquivo.where(a),e.next=25,o.toArray();case 25:if(e.t2=e.sent,e.t2){e.next=28;break}e.t2=[];case 28:return e.abrupt("return",e.t2);case 29:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!t.id){e.next=3;break}return e.abrupt("return",He().arquivo.get(t.id));case 3:return e.next=5,He().arquivo.toArray();case 5:return a=e.sent,t.tabelaMaster&&(a=a.filter(function(e){return e.tabelaMaster===t.tabelaMaster})),t.idTabelaMaster&&(a=a.filter(function(e){return e.idTabelaMaster===t.idTabelaMaster})),e.abrupt("return",a);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}),Xe=Je,Ye={grava:function(){},le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He()._banco.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:return e.next=15,He()._banco.toArray();case 15:if(e.t2=e.sent,e.t2){e.next=18;break}e.t2=[];case 18:return a=e.t2,e.abrupt("return",a);case 20:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},We=Ye,Ze={},Ke={},et={get:function(e){return void 0===Ze[e]&&(Ze[e]=localStorage.getItem(e)||""),Ze[e]},getJson:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0===Ze[e]){var a=localStorage.getItem(e);if(t)try{Ke[e]=a?atob(a):"{}"}catch(t){Ke[e]="{}",console.error("Erro de base64 com formado invalido\n",t.stack)}else Ke[e]=a||"{}";try{Ze[e]=JSON.parse(Ke[e])}catch(t){Ke[e]="{}",Ze[e]={},console.error("Erro no JSON.parse\n",t.stack)}}return Ze[e]},set:function(e,t){Ze[e]!==t&&(Ze[e]=t,localStorage.setItem(e,t))},setJson:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=JSON.stringify(t);Ke[e]!==o&&(Ke[e]=o,Ze[e]=JSON.parse(o),localStorage.setItem(e,a?btoa(o):o))}},tt=(a("6762"),a("2fdb"),a("3156")),at=a.n(tt),ot=(a("cadf"),a("456d"),a("2ef0")),it=a.n(ot),rt=function(e,t){return st.apply(this,arguments)};function st(){return st=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a.id=hi(),e.next=3,He()[t].add(a);case 3:return e.next=5,so("adicionar",t,a.id,a);case 5:case"end":return e.stop()}},e)})),st.apply(this,arguments)}var nt=function(e,t){return e.reduce(function(e,a){return(e[a[t]]=e[a[t]]||[]).push(a),e},{})},ct=nt,lt=(a("7514"),function(e){if(!e)throw new Error("É necessário fornecer um endereço.");var t=e.toLowerCase(),a="link",o={facebook:["facebook.com","fb.com","fb.me"],instagram:["instagram.com","instagr.am"],linkedin:["linkedin.com"],pinterest:["pinterest.com"],tumblr:["tumblr.com"],twitter:["twitter.com"],vimeo:["vimeo.com"],youtube:["youtube.com","youtu.be"]};try{for(var i in e=new URL(t)||{},o){var r=o[i].find(function(t){return e.hostname.includes(t)});if(r){a=i;break}}return{link:t,tipo:a}}catch(e){throw new Error("Insira um endereço válido.")}}),dt=(a("c5f6"),a("7cdf"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if("number"===typeof e&&Number.isInteger(t)){var a=Math.pow(10,Math.abs(t));return Math.round(e*a)/a}return e});a("84b4"),a("fca0");function ut(e){return e>0&&e<=.05?.05:e>.05&&e<=.1?.1:e>.1&&e<=.25?.25:e>.25&&e<=.5?.5:e>.5&&e<=1?1:void 0}var mt=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!Number.isFinite(a))throw new Error("First argument is not a valid number");if(!Number.isFinite(o))throw new Error("Second argument is not a valid number");if(!Number.isInteger(i))throw new Error("Third argument is not an integer");return o?(o=ut(o),a=dt(a,i),e=Math.trunc(a),t=dt(a-e,i),dt(e+o*Math.floor(t/o),i)):a};function pt(e){return e>0&&e<=.05?.05:e>.05&&e<=.1?.1:e>.1&&e<=.25?.25:e>.25&&e<=.5?.5:e>.5&&e<=1?1:void 0}var vt=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!Number.isFinite(a))throw new Error("First argument is not a valid number");if(!Number.isFinite(o))throw new Error("Second argument is not a valid number");if(!Number.isInteger(i))throw new Error("Third argument is not an integer");return o?(o=pt(o),a=dt(a,i),e=Math.trunc(a),t=dt(a-e,i),dt(e+o*Math.ceil(t/o),i)):a},ht=(a("a481"),{"-":"+",_:"/"}),ft={"+":"-","/":"_","=":""},Ct={decodeFromUrl:function(e){return e.replace(/[-_.]/g,function(e){return ht[e]}),e+="===".slice((e.length+3)%4),atob(e)},decode:function(e){return atob(e)},encode:function(e){return btoa(e)},encodeToUrl:function(e){return e=btoa(e),e.replace(/[+/=]/g,function(e){return ft[e]})}},bt=(a("7f7f"),a("4917"),a("bc3a")),gt=a.n(bt),xt=(a("6b54"),a("f559"),a("f576"),"http://www.portalfiscal.inf.br/nfe"),_t="4.00",qt="1.00",St=function(e,t,a,o){var i=e.createElementNS(xt,a);return t.appendChild(i),void 0!==o&&(i.textContent=o),i},It={chNFe:"",Nfe:function(e,t,a){var o=document.implementation.createDocument("",""),i=o.createElementNS(xt,"NFe"),r=o.createElementNS(xt,"infNFe");return o.appendChild(i),i.appendChild(r),r.setAttribute("versao",_t),r.setAttribute("Id",this.chaveNfe(t,a)),this.gerarTags(o,r,e,t),o},EventoNFe:function(e,t,a){var o=document.implementation.createDocument("",""),i=o.createElementNS(xt,"envEvento");i.setAttribute("versao",qt),o.appendChild(i);var r=o.createElementNS(xt,"idLote");i.appendChild(r),r.textContent=a;var s=o.createElementNS(xt,"evento");s.setAttribute("versao",qt),i.appendChild(s);var n=o.createElementNS(xt,"infEvento");return s.appendChild(n),n.setAttribute("Id","ID"+t.tpEvento+t.chNFe+t.nSeqEvento.padStart(2,"0")),this.gerarTags(o,n,e,t),o},InutilizarNFe:function(e,t){var a=document.implementation.createDocument("",""),o=a.createElementNS(xt,"inutNFe");a.appendChild(o),o.setAttribute("versao",_t);var i=a.createElementNS(xt,"infInut");return o.appendChild(i),i.setAttribute("Id","ID"+t.cUF.padStart(2,"0")+t.ano.padStart(2,"0")+t.CNPJ.padStart(14,"0")+t.mod.padStart(2,"0")+t.serie.padStart(3,"0")+t.nNFIni.padStart(9,"0")+t.nNFFin.padStart(9,"0")),this.gerarTags(a,i,e.infInut,t),a},gerarTags:function(e,t,a,o){for(var i in a)if(!i.startsWith("_")&&!i.startsWith("noXml_")&&"visivel"!==i&&"valor_escolha"!==i&&i in o)if(i.startsWith("opcional")||i.startsWith("escolhas")||i.startsWith("opcao"))this.gerarTags(e,t,a[i],o[i]);else if(o[i].constructor===String){var r=e.createElementNS(xt,i);t.appendChild(r),r.textContent=o[i]}else if(o[i].constructor===Number){var s=e.createElementNS(xt,i);t.appendChild(s),s.textContent=o[i].toFixed(a[i]._decimals||0)}else if(o[i].constructor===Array)for(var n in o[i]){var c=e.createElementNS(xt,i);t.appendChild(c),"det"===i&&c.setAttribute("nItem",(parseInt(n)+1).toString()),this.gerarTags(e,c,a[i].lista,o[i][n])}else{var l=e.createElementNS(xt,i);t.appendChild(l),this.gerarTags(e,l,a[i],o[i]),"detEvento"===i&&l.setAttribute("versao",qt)}},chaveNfe:function(e,t){var a="0000";if(e.ide.dhEmi){var o=new Date(e.ide.dhEmi);a=o.getFullYear().toString().padStart(2,"0").slice(-2)+(o.getMonth()+1).toString().padStart(2,"0")}t=t||"298D8718-DE89-4B81-D08E-50242E0A72B8";var i,r=1000003*t.charCodeAt(32)+10007*t.charCodeAt(35)+113*t.charCodeAt(34)+t.charCodeAt(33);r+=548300*Number(e.total.ICMSTot.vProd),e.ide.cNF=r.toFixed(0).padStart(8,"0").slice(0,8);while([e.ide.nNF.padStart(8,"0").slice(0,8),"00000000","11111111","22222222","33333333","44444444","55555555","66666666","77777777","88888888","99999999","12345678","23456789","34567890","45678901","56789012","67890123","78901234","89012345","90123456","01234567",""].includes(e.ide.cNF))r++,e.ide.cNF=r.toFixed(0).padStart(8,"0").slice(0,8);i="CPF"===e.emit.escolhas.valor_escolha?e.emit.escolhas.CPF:e.emit.escolhas.CNPJ;var s=e.ide.cUF.padStart(2,"0")+a+i.padStart(14,"0")+e.ide.mod.padStart(2,"0")+e.ide.serie.padStart(3,"0")+e.ide.nNF.padStart(9,"0")+e.ide.tpEmis.padStart(1,"0")+e.ide.cNF;return e.ide.cDV=this.calculoDV11(s),this.chNFe=s+e.ide.cDV,"NFe"+s+e.ide.cDV},calculoDV11:function(e){for(var t=4,a=0,o=0;o<e.length;o++)a+=parseInt(e[o])*t,t>2?t--:t=9;var i=a%11,r=11-i;return r>=10&&(r=0),r.toString()},consultarCadastroContribuinte:function(e,t){var a=document.implementation.createDocument("",""),o=St(a,a,"ConsCad");o.setAttribute("versao","2.00");var i=St(a,o,"infCons");return St(a,i,"xServ","CONS-CAD"),St(a,i,"UF",t),St(a,i,"CNPJ",e),a}},Ft={infEvento:{cOrgao:{_titulo:"Código do órgão de recepção do Evento. Utilizar a Tabela do IBGE extendida, utilizar",_doc:"Código do órgão de recepção do Evento. Utilizar a Tabela do IBGE extendida, utilizar 91 para identificar o Ambiente Nacional (cOrgao)",_type:"TCOrgaoIBGE",_enumeration:[{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"23",label:"23"},{value:"24",label:"24"},{value:"25",label:"25"},{value:"26",label:"26"},{value:"27",label:"27"},{value:"28",label:"28"},{value:"29",label:"29"},{value:"31",label:"31"},{value:"32",label:"32"},{value:"33",label:"33"},{value:"35",label:"35"},{value:"41",label:"41"},{value:"42",label:"42"},{value:"43",label:"43"},{value:"50",label:"50"},{value:"51",label:"51"},{value:"52",label:"52"},{value:"53",label:"53"},{value:"91",label:"91 para identificar o Ambiente Nacional"}],_valorInic:"11"},tpAmb:{_titulo:"Identificação do Ambiente",_doc:"Identificação do Ambiente: 1 - Produção 2 - Homologação (tpAmb)",_type:"TAmb",_enumeration:[{value:"1",label:"1 - Produção"},{value:"2",label:"2 - Homologação"}],_valorInic:"1"},escolhas:{_titulo:"",_doc:"",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"CNPJ",_doc:"CNPJ (CNPJ)",_pattern:"[0-9]{0}|[0-9]{14}",_type:"TCnpjOpc",_valorInic:""},CPF:{_titulo:"CPF",_doc:"CPF (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_valorInic:""}},chNFe:{_titulo:"Chave de Acesso da NF-e vinculada ao evento",_doc:"Chave de Acesso da NF-e vinculada ao evento (chNFe)",_pattern:"[0-9]{44}",_type:"TChNFe",_valorInic:""},dhEvento:{_titulo:"Data e Hora do Evento, formato UTC (AAAA-MM-DDThh:mm:ssTZD, onde TZD = +hh:mm ou -hh:mm)",_doc:"Data e Hora do Evento, formato UTC (AAAA-MM-DDThh:mm:ssTZD, onde TZD = +hh:mm ou -hh:mm) (dhEvento)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))T(20|21|22|23|[0-1]\\d):[0-5]\\d:[0-5]\\d-0[1-4]:00",_valorInic:""},tpEvento:{_titulo:"Tipo do Evento",_doc:"Tipo do Evento (tpEvento)",_pattern:"[0-9]{6}",_enumeration:[{value:"110111",label:"110111"}],_valorInic:"110111"},nSeqEvento:{_titulo:"Seqüencial do evento para o mesmo tipo de evento.  Para maioria dos eventos será 1, nos casos em que possa existir mais de um evento, como é o caso da carta de correção, o autor do evento deve numerar de forma seqüencial.",_doc:"Seqüencial do evento para o mesmo tipo de evento.  Para maioria dos eventos será 1, nos casos em que possa existir mais de um evento, como é o caso da carta de correção, o autor do evento deve numerar de forma seqüencial. (nSeqEvento)",_pattern:"[1-9]|[1][0-9]{0,1}|20",_valorInic:""},verEvento:{_titulo:"Versão do Tipo do Evento",_doc:"Versão do Tipo do Evento (verEvento)",_enumeration:[{value:"1.00",label:"1.00"}],_valorInic:"1.00"},detEvento:{_titulo:"Schema XML de validação do evento do cancelamento 1101111",_doc:"Schema XML de validação do evento do cancelamento 1101111 (detEvento)",_valorInic:"",descEvento:{_titulo:"Descrição do Evento - “",_doc:"Descrição do Evento - “Cancelamento” (descEvento)",_enumeration:[{value:"Cancelamento",label:"Cancelamento”"}],_valorInic:"Cancelamento"},nProt:{_titulo:"Número do Protocolo de Status da NF-e. 1 posição (1 – Secretaria de Fazenda Estadual 2 – Receita Federal); 2 posições ano; 10 seqüencial no ano.",_doc:"Número do Protocolo de Status da NF-e. 1 posição (1 – Secretaria de Fazenda Estadual 2 – Receita Federal); 2 posições ano; 10 seqüencial no ano. (nProt)",_pattern:"[0-9]{15}",_type:"TProt",_valorInic:""},xJust:{_titulo:"Justificativa do cancelamento",_doc:"Justificativa do cancelamento (xJust)",_type:"TJust",_minLength:15,_maxLength:255,_valorInic:""}}}},wt={infEvento:{cOrgao:{_titulo:"Código do órgão de recepção do Evento. Utilizar a Tabela do IBGE extendida, utilizar",_doc:"Código do órgão de recepção do Evento. Utilizar a Tabela do IBGE extendida, utilizar 90 para identificar o Ambiente Nacional (cOrgao)",_type:"TCOrgaoIBGE",_enumeration:[{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"23",label:"23"},{value:"24",label:"24"},{value:"25",label:"25"},{value:"26",label:"26"},{value:"27",label:"27"},{value:"28",label:"28"},{value:"29",label:"29"},{value:"31",label:"31"},{value:"32",label:"32"},{value:"33",label:"33"},{value:"35",label:"35"},{value:"41",label:"41"},{value:"42",label:"42"},{value:"43",label:"43"},{value:"50",label:"50"},{value:"51",label:"51"},{value:"52",label:"52"},{value:"53",label:"53"},{value:"90",label:"90 para identificar o Ambiente Nacional"}],_valorInic:"11"},tpAmb:{_titulo:"Identificação do Ambiente",_doc:"Identificação do Ambiente: 1 - Produção 2 - Homologação (tpAmb)",_type:"TAmb",_enumeration:[{value:"1",label:"1 - Produção"},{value:"2",label:"2 - Homologação"}],_valorInic:"1"},escolhas:{_titulo:"",_doc:"",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"CNPJ",_doc:"CNPJ (CNPJ)",_pattern:"[0-9]{0}|[0-9]{14}",_type:"TCnpjOpc",_valorInic:""},CPF:{_titulo:"CPF",_doc:"CPF (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_valorInic:""}},chNFe:{_titulo:"Chave de Acesso da NF-e vinculada ao evento",_doc:"Chave de Acesso da NF-e vinculada ao evento (chNFe)",_pattern:"[0-9]{44}",_type:"TChNFe",_valorInic:""},dhEvento:{_titulo:"Data e Hora do Evento, formato UTC (AAAA-MM-DDThh:mm:ssTZD, onde TZD = +hh:mm ou -hh:mm)",_doc:"Data e Hora do Evento, formato UTC (AAAA-MM-DDThh:mm:ssTZD, onde TZD = +hh:mm ou -hh:mm) (dhEvento)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))T(20|21|22|23|[0-1]\\d):[0-5]\\d:[0-5]\\d-0[1-4]:00",_valorInic:""},tpEvento:{_titulo:"Tipo do Evento",_doc:"Tipo do Evento (tpEvento)",_pattern:"[0-9]{6}",_enumeration:[{value:"110110",label:"110110"}],_valorInic:"110110"},nSeqEvento:{_titulo:"Seqüencial do evento para o mesmo tipo de evento.  Para maioria dos eventos será 1, nos casos em que possa existir mais de um evento, como é o caso da carta de correção, o autor do evento deve numerar de forma seqüencial.",_doc:"Seqüencial do evento para o mesmo tipo de evento.  Para maioria dos eventos será 1, nos casos em que possa existir mais de um evento, como é o caso da carta de correção, o autor do evento deve numerar de forma seqüencial. (nSeqEvento)",_pattern:"[1-9]|[1][0-9]{0,1}",_valorInic:""},verEvento:{_titulo:"Versão do Tipo do Evento",_doc:"Versão do Tipo do Evento (verEvento)",_enumeration:[{value:"1.00",label:"1.00"}],_valorInic:"1.00"},detEvento:{_titulo:"Evento do carta de correção e1101110",_doc:"Evento do carta de correção e1101110 (detEvento)",_valorInic:"",descEvento:{_titulo:"Descrição do Evento - “”",_doc:"Descrição do Evento - “Carta de Correção” (descEvento)",_enumeration:[{value:"Carta de Correção",label:"Carta de Correção"},{value:"Carta de Correcao",label:"Carta de Correcao"}],_valorInic:"Carta de Correcao"},xCorrecao:{_titulo:"Correção a ser considerada",_doc:"Correção a ser considerada (xCorrecao)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_minLength:15,_maxLength:1e3,_valorInic:""},xCondUso:{_titulo:"Texto Fixo com as condições de uso da Carta de Correção",_doc:"Texto Fixo com as condições de uso da Carta de Correção (xCondUso)",_enumeration:[{value:"A Carta de Correção é disciplinada pelo § 1º-A do art. 7º do Convênio S/N, de 15 de dezembro de 1970 e pode ser utilizada para regularização de erro ocorrido na emissão de documento fiscal, desde que o erro não esteja relacionado com: I - as variáveis que determinam o valor do imposto tais como: base de cálculo, alíquota, diferença de preço, quantidade, valor da operação ou da prestação; II - a correção de dados cadastrais que implique mudança do remetente ou do destinatário; III - a data de emissão ou de saída.",label:"A Carta de Correção é disciplinada pelo § 1º-A do art. 7º do Convênio S/N, de 15 de dezembro de 1970 e pode ser utilizada para regularização de erro ocorrido na emissão de documento fiscal, desde que o erro não esteja relacionado com: I - as variáveis que determinam o valor do imposto tais como: base de cálculo, alíquota, diferença de preço, quantidade, valor da operação ou da prestação; II - a correção de dados cadastrais que implique mudança do remetente ou do destinatário; III - a data de emissão ou de saída"},{value:"A Carta de Correcao e disciplinada pelo paragrafo 1o-A do art. 7o do Convenio S/N, de 15 de dezembro de 1970 e pode ser utilizada para regularizacao de erro ocorrido na emissao de documento fiscal, desde que o erro nao esteja relacionado com: I - as variaveis que determinam o valor do imposto tais como: base de calculo, aliquota, diferenca de preco, quantidade, valor da operacao ou da prestacao; II - a correcao de dados cadastrais que implique mudanca do remetente ou do destinatario; III - a data de emissao ou de saida.",label:"A Carta de Correcao e disciplinada pelo paragrafo 1o-A do art. 7o do Convenio S/N, de 15 de dezembro de 1970 e pode ser utilizada para regularizacao de erro ocorrido na emissao de documento fiscal, desde que o erro nao esteja relacionado com: I - as variaveis que determinam o valor do imposto tais como: base de calculo, aliquota, diferenca de preco, quantidade, valor da operacao ou da prestacao; II - a correcao de dados cadastrais que implique mudanca do remetente ou do destinatario; III - a data de emissao ou de saida"}],_valorInic:"A Carta de Correcao e disciplinada pelo paragrafo 1o-A do art. 7o do Convenio S/N, de 15 de dezembro de 1970 e pode ser utilizada para regularizacao de erro ocorrido na emissao de documento fiscal, desde que o erro nao esteja relacionado com: I - as variaveis que determinam o valor do imposto tais como: base de calculo, aliquota, diferenca de preco, quantidade, valor da operacao ou da prestacao; II - a correcao de dados cadastrais que implique mudanca do remetente ou do destinatario; III - a data de emissao ou de saida."}}}},yt={infInut:{tpAmb:{_titulo:"Identificação do Ambiente: 1 - Produção 2 - Homologação",_doc:"Identificação do Ambiente: 1 - Produção 2 - Homologação (tpAmb)",_type:"TAmb",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Produção"},{valor:"2",rotulo:"2 - Homologação"}],_valorInic:"1"},xServ:{_titulo:"Serviço Solicitado",_doc:"Serviço Solicitado (xServ)",_tipo:"seletor",_enumeration:[{valor:"INUTILIZAR",rotulo:"INUTILIZAR"}],_valorInic:"INUTILIZAR"},cUF:{_titulo:"Código da UF do emitente",_doc:"Código da UF do emitente (cUF)",_type:"TCodUfIBGE",_tipo:"seletor",_enumeration:[{valor:"11",rotulo:"11"},{valor:"12",rotulo:"12"},{valor:"13",rotulo:"13"},{valor:"14",rotulo:"14"},{valor:"15",rotulo:"15"},{valor:"16",rotulo:"16"},{valor:"17",rotulo:"17"},{valor:"21",rotulo:"21"},{valor:"22",rotulo:"22"},{valor:"23",rotulo:"23"},{valor:"24",rotulo:"24"},{valor:"25",rotulo:"25"},{valor:"26",rotulo:"26"},{valor:"27",rotulo:"27"},{valor:"28",rotulo:"28"},{valor:"29",rotulo:"29"},{valor:"31",rotulo:"31"},{valor:"32",rotulo:"32"},{valor:"33",rotulo:"33"},{valor:"35",rotulo:"35"},{valor:"41",rotulo:"41"},{valor:"42",rotulo:"42"},{valor:"43",rotulo:"43"},{valor:"50",rotulo:"50"},{valor:"51",rotulo:"51"},{valor:"52",rotulo:"52"},{valor:"53",rotulo:"53"}],_valorInic:"11"},ano:{_titulo:"Ano de inutilização da numeração",_doc:"Ano de inutilização da numeração (ano)",_pattern:"[0-9]{2}",_type:"Tano",_tipo:"texto",_valorInic:""},CNPJ:{_titulo:"CNPJ do emitente",_doc:"CNPJ do emitente (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},mod:{_titulo:"Modelo",_doc:"Modelo da NF-e (55, 65 etc.) (mod)",_type:"TMod",_tipo:"seletor",_enumeration:[{valor:"55",rotulo:"55 - NF-e"},{valor:"65",rotulo:"65 - NFC-e"}],_valorInic:"55"},serie:{_titulo:"Série",_doc:"Série da NF-e (serie)",_pattern:"0|[1-9]{1}[0-9]{0,2}",_type:"TSerie",_tipo:"texto",_valorInic:""},nNFIni:{_titulo:"Número inicial",_doc:"Número da NF-e inicial (nNFIni)",_pattern:"[1-9]{1}[0-9]{0,8}",_type:"TNF",_tipo:"texto",_valorInic:""},nNFFin:{_titulo:"Número final",_doc:"Número da NF-e final (nNFFin)",_pattern:"[1-9]{1}[0-9]{0,8}",_type:"TNF",_tipo:"texto",_valorInic:""},xJust:{_titulo:"Justificativa do pedido de inutilização",_doc:"Justificativa do pedido de inutilização (xJust)",_type:"TJust",_tipo:"texto",_minLength:15,_maxLength:255,_valorInic:""}}},Nt={infNFe:{ide:{_titulo:"identificação da NF-e",_doc:"identificação da NF-e (ide)",_tipo:"texto",_valorInic:"",cUF:{_titulo:"Código da UF do emitente do Doc. Fiscal",_doc:"Código da UF do emitente do Documento Fiscal. Utilizar a Tabela do IBGE. (cUF)",_type:"TCodUfIBGE",_tipo:"seletor",_enumeration:[{valor:"11",rotulo:"11"},{valor:"12",rotulo:"12"},{valor:"13",rotulo:"13"},{valor:"14",rotulo:"14"},{valor:"15",rotulo:"15"},{valor:"16",rotulo:"16"},{valor:"17",rotulo:"17"},{valor:"21",rotulo:"21"},{valor:"22",rotulo:"22"},{valor:"23",rotulo:"23"},{valor:"24",rotulo:"24"},{valor:"25",rotulo:"25"},{valor:"26",rotulo:"26"},{valor:"27",rotulo:"27"},{valor:"28",rotulo:"28"},{valor:"29",rotulo:"29"},{valor:"31",rotulo:"31"},{valor:"32",rotulo:"32"},{valor:"33",rotulo:"33"},{valor:"35",rotulo:"35"},{valor:"41",rotulo:"41"},{valor:"42",rotulo:"42"},{valor:"43",rotulo:"43"},{valor:"50",rotulo:"50"},{valor:"51",rotulo:"51"},{valor:"52",rotulo:"52"},{valor:"53",rotulo:"53"}],_valorInic:"11"},cNF:{_titulo:"Código numérico que compõe a Chave de Acesso",_doc:"Código numérico que compõe a Chave de Acesso. Número aleatório gerado pelo emitente para cada NF-e. (cNF)",_pattern:"[0-9]{8}",_tipo:"texto",_valorInic:""},natOp:{_titulo:"Descrição da Natureza da Operação",_doc:"Descrição da Natureza da Operação (natOp)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},mod:{_titulo:"Código do modelo do Doc. Fiscal",_doc:"Código do modelo do Documento Fiscal. 55 = NF-e; 65 = NFC-e. (mod)",_type:"TMod",_tipo:"seletor",_enumeration:[{valor:"55",rotulo:"55 - NF-e"},{valor:"65",rotulo:"65 - NFC-e"}],_valorInic:"55"},serie:{_titulo:"Série do Documento Fiscal",_doc:"Série do Documento Fiscal série normal 0-889 Avulsa Fisco 890-899 SCAN 900-999 (serie)",_pattern:"0|[1-9]{1}[0-9]{0,2}",_type:"TSerie",_tipo:"texto",_valorInic:""},nNF:{_titulo:"Número do Documento Fiscal",_doc:"Número do Documento Fiscal (nNF)",_pattern:"[1-9]{1}[0-9]{0,8}",_type:"TNF",_tipo:"texto",_valorInic:""},dhEmi:{_titulo:"Data e Hora de emissão do Doc. Fiscal",_doc:"Data e Hora de emissão do Documento Fiscal (AAAA-MM-DDThh:mm:ssTZD) ex.: 2012-09-01T13:00:00-03:00 (dhEmi)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))T(20|21|22|23|[0-1]\\d):[0-5]\\d:[0-5]\\d([\\-,\\+](0[0-9]|10|11):00|([\\+](12):00))",_type:"TDateTimeUTC",_tipo:"dataHora",_valorInic:""},dhSaiEnt:{_titulo:"Data e Hora da saída ou de entrada da mercadoria / produto ",_doc:"Data e Hora da saída ou de entrada da mercadoria / produto (AAAA-MM-DDTHH:mm:ssTZD) (dhSaiEnt) (Opcional)",_opcional:!0,_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))T(20|21|22|23|[0-1]\\d):[0-5]\\d:[0-5]\\d([\\-,\\+](0[0-9]|10|11):00|([\\+](12):00))",_type:"TDateTimeUTC",_tipo:"dataHora",_valorInic:""},tpNF:{_titulo:"Tipo do Documento Fiscal",_doc:"Tipo do Documento Fiscal (0 - entrada; 1 - saída) (tpNF)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - entrada"},{valor:"1",rotulo:"1 - saída"}],_valorInic:"0"},idDest:{_titulo:"Identificador de Local de destino da operação ",_doc:"Identificador de Local de destino da operação (1-Interna;2-Interestadual;3-Exterior) (idDest)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Interna"},{valor:"2",rotulo:"2 - Interestadual"},{valor:"3",rotulo:"3 - Exterior"}],_valorInic:"1"},cMunFG:{_titulo:"Código do Município de Ocorrência do Fato Gerador",_doc:"Código do Município de Ocorrência do Fato Gerador (utilizar a tabela do IBGE) (cMunFG)",_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""},tpImp:{_titulo:"Formato de impressão do DANFE ",_doc:"Formato de impressão do DANFE (0-sem DANFE;1-DANFe Retrato; 2-DANFe Paisagem;3-DANFe Simplificado;            4-DANFe NFC-e;5-DANFe NFC-e em mensagem eletrônica) (tpImp)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - sem DANFE"},{valor:"1",rotulo:"1 - DANFe Retrato"},{valor:"2",rotulo:"2 - DANFe Paisagem"},{valor:"3",rotulo:"3 - DANFe Simplificado"},{valor:"4",rotulo:"4 - DANFe NFC-e"},{valor:"5",rotulo:"5 - DANFe NFC-e em mensagem eletrônica"}],_valorInic:"0"},tpEmis:{_titulo:"Forma de emissão da NF-e",_doc:"Forma de emissão da NF-e 1 - Normal; 2 - Contingência FS 3 - Contingência SCAN 4 - Contingência DPEC 5 - Contingência FSDA 6 - Contingência SVC - AN 7 - Contingência SVC - RS 9 - Contingência off-line NFC-e (tpEmis)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Normal"},{valor:"2",rotulo:"2 - Contingência FS"},{valor:"3",rotulo:"3 - Contingência SCAN"},{valor:"4",rotulo:"4 - Contingência DPEC"},{valor:"5",rotulo:"5 - Contingência FSDA"},{valor:"6",rotulo:"6 - Contingência SVC - AN"},{valor:"7",rotulo:"7 - Contingência SVC - RS"},{valor:"9",rotulo:"9 - Contingência off-line NFC-e"}],_valorInic:"1"},cDV:{_titulo:"Digito Verificador da Chave de Acesso da NF-e",_doc:"Digito Verificador da Chave de Acesso da NF-e (cDV)",_pattern:"[0-9]{1}",_tipo:"texto",_valorInic:""},tpAmb:{_titulo:"Identificação do Ambiente",_doc:"Identificação do Ambiente: 1 - Produção 2 - Homologação (tpAmb)",_type:"TAmb",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Produção"},{valor:"2",rotulo:"2 - Homologação"}],_valorInic:"1"},finNFe:{_titulo:"Finalidade da emissão da NF-e",_doc:"Finalidade da emissão da NF-e: 1 - NFe normal 2 - NFe complementar 3 - NFe de ajuste 4 - Devolução/Retorno (finNFe)",_type:"TFinNFe",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - NFe normal"},{valor:"2",rotulo:"2 - NFe complementar"},{valor:"3",rotulo:"3 - NFe de ajuste"},{valor:"4",rotulo:"4 - Devolução/Retorno"}],_valorInic:"1"},indFinal:{_titulo:"Indica operação com consumidor final",_doc:"Indica operação com consumidor final (0-Não;1-Consumidor Final) (indFinal)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Não"},{valor:"1",rotulo:"1 - Consumidor Final"}],_valorInic:"0"},indPres:{_titulo:"Indicador de presença do comprador no estabelecimento comercial no momento da oepração ",_doc:"Indicador de presença do comprador no estabelecimento comercial no momento da oepração            (0-Não se aplica (ex.: Nota Fiscal complementar ou de ajuste;1-Operação presencial;2-Não presencial, internet;3-Não presencial, teleatendimento;4-NFC-e entrega em domicílio;5-Operação presencial, fora do estabelecimento;9-Não presencial, outros) (indPres)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Não se aplica (ex.: Nota Fiscal complementar ou de ajuste"},{valor:"1",rotulo:"1 - Operação presencial"},{valor:"2",rotulo:"2 - Não presencial, internet"},{valor:"3",rotulo:"3 - Não presencial, teleatendimento"},{valor:"4",rotulo:"4 - NFC-e entrega em domicílio"},{valor:"5",rotulo:"5 - Operação presencial, fora do estabelecimento"},{valor:"9",rotulo:"9 - Não presencial, outros"}],_valorInic:"0"},procEmi:{_titulo:"Processo de emissão utilizado com a seguinte codificação",_doc:"Processo de emissão utilizado com a seguinte codificação: 0 - emissão de NF-e com aplicativo do contribuinte; 1 - emissão de NF-e avulsa pelo Fisco; 2 - emissão de NF-e avulsa, pelo contribuinte com seu certificado digital, através do site do Fisco; 3- emissão de NF-e pelo contribuinte com aplicativo fornecido pelo Fisco. (procEmi)",_type:"TProcEmi",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - emissão de NF-e com aplicativo do contribuinte"},{valor:"1",rotulo:"1 - emissão de NF-e avulsa pelo Fisco"},{valor:"2",rotulo:"2 - emissão de NF-e avulsa, pelo contribuinte com seu certificado digital, através do site do Fisco"},{valor:"3",rotulo:"3 -  emissão de NF-e pelo contribuinte com aplicativo fornecido pelo Fisco"}],_valorInic:"0"},verProc:{_titulo:"versão do aplicativo utilizado no processo de emissão",_doc:"versão do aplicativo utilizado no processo de emissão (verProc)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""},opcional:{_titulo:"Informar apenas para tpEmis diferente de 1",_doc:"Informar apenas para tpEmis diferente de 1 (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Informar apenas para tpEmis diferente de 1",_doc:"Informar apenas para tpEmis diferente de 1 (Opcional)",_valorInic:""},dhCont:{_titulo:"Informar a data e hora de entrada em contingência no formato ",_doc:"Informar a data e hora de entrada em contingência contingência no formato  (AAAA-MM-DDThh:mm:ssTZD) ex.: 2012-09-01T13:00:00-03:00. (dhCont)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))T(20|21|22|23|[0-1]\\d):[0-5]\\d:[0-5]\\d([\\-,\\+](0[0-9]|10|11):00|([\\+](12):00))",_type:"TDateTimeUTC",_tipo:"dataHora",_valorInic:""},xJust:{_titulo:"Informar a Justificativa da entrada",_doc:"Informar a Justificativa da entrada (xJust)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:15,_maxLength:256,_valorInic:""}},NFref:{_titulo:"Grupo de infromações da NF referenciada",_doc:"Grupo de infromações da NF referenciada (NFref) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},refNFe:{_titulo:"Chave de acesso das NF-e referenciadas",_doc:"Chave de acesso das NF-e referenciadas. Chave de acesso compostas por Código da UF (tabela do IBGE) + AAMM da emissão + CNPJ do Emitente + modelo, série e número da NF-e Referenciada + Código Numérico + DV. (refNFe)",_pattern:"[0-9]{44}",_type:"TChNFe",_tipo:"texto",_maxLength:44,_valorInic:""},refNF:{_titulo:"Dados da NF",_doc:"Dados da NF modelo 1/1A referenciada ou NF modelo 2 referenciada (refNF)",_tipo:"texto",_valorInic:"",cUF:{_titulo:"Código da UF do emitente do Doc. Fiscal",_doc:"Código da UF do emitente do Documento Fiscal. Utilizar a Tabela do IBGE. (cUF)",_type:"TCodUfIBGE",_tipo:"seletor",_enumeration:[{valor:"11",rotulo:"11"},{valor:"12",rotulo:"12"},{valor:"13",rotulo:"13"},{valor:"14",rotulo:"14"},{valor:"15",rotulo:"15"},{valor:"16",rotulo:"16"},{valor:"17",rotulo:"17"},{valor:"21",rotulo:"21"},{valor:"22",rotulo:"22"},{valor:"23",rotulo:"23"},{valor:"24",rotulo:"24"},{valor:"25",rotulo:"25"},{valor:"26",rotulo:"26"},{valor:"27",rotulo:"27"},{valor:"28",rotulo:"28"},{valor:"29",rotulo:"29"},{valor:"31",rotulo:"31"},{valor:"32",rotulo:"32"},{valor:"33",rotulo:"33"},{valor:"35",rotulo:"35"},{valor:"41",rotulo:"41"},{valor:"42",rotulo:"42"},{valor:"43",rotulo:"43"},{valor:"50",rotulo:"50"},{valor:"51",rotulo:"51"},{valor:"52",rotulo:"52"},{valor:"53",rotulo:"53"}],_valorInic:"11"},AAMM:{_titulo:"AAMM da emissão",_doc:"AAMM da emissão (AAMM)",_pattern:"[0-9]{2}[0]{1}[1-9]{1}|[0-9]{2}[1]{1}[0-2]{1}",_tipo:"texto",_valorInic:""},CNPJ:{_titulo:"CNPJ do emitente do documento fiscal referenciado",_doc:"CNPJ do emitente do documento fiscal referenciado (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},mod:{_titulo:"Código do modelo do Doc. Fiscal",_doc:"Código do modelo do Documento Fiscal. Utilizar 01 para NF modelo 1/1A e 02 para NF modelo 02 (mod)",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 para NF modelo 1/1A"},{valor:"02",rotulo:"02 para NF modelo 02"}],_valorInic:"01"},serie:{_titulo:"Série do Documento Fiscal",_doc:"Série do Documento Fiscal, informar zero se inexistente (serie)",_pattern:"0|[1-9]{1}[0-9]{0,2}",_type:"TSerie",_tipo:"texto",_valorInic:""},nNF:{_titulo:"Número do Documento Fiscal",_doc:"Número do Documento Fiscal (nNF)",_pattern:"[1-9]{1}[0-9]{0,8}",_type:"TNF",_tipo:"texto",_valorInic:""}},refNFP:{_titulo:"Grupo com as informações NF de produtor referenciada",_doc:"Grupo com as informações NF de produtor referenciada (refNFP)",_tipo:"texto",_valorInic:"",cUF:{_titulo:"Código da UF do emitente do Documento Fiscal",_doc:"Código da UF do emitente do Documento FiscalUtilizar a Tabela do IBGE (Anexo IV - Tabela de UF, Município e País) (cUF)",_type:"TCodUfIBGE",_tipo:"seletor",_enumeration:[{valor:"11",rotulo:"11"},{valor:"12",rotulo:"12"},{valor:"13",rotulo:"13"},{valor:"14",rotulo:"14"},{valor:"15",rotulo:"15"},{valor:"16",rotulo:"16"},{valor:"17",rotulo:"17"},{valor:"21",rotulo:"21"},{valor:"22",rotulo:"22"},{valor:"23",rotulo:"23"},{valor:"24",rotulo:"24"},{valor:"25",rotulo:"25"},{valor:"26",rotulo:"26"},{valor:"27",rotulo:"27"},{valor:"28",rotulo:"28"},{valor:"29",rotulo:"29"},{valor:"31",rotulo:"31"},{valor:"32",rotulo:"32"},{valor:"33",rotulo:"33"},{valor:"35",rotulo:"35"},{valor:"41",rotulo:"41"},{valor:"42",rotulo:"42"},{valor:"43",rotulo:"43"},{valor:"50",rotulo:"50"},{valor:"51",rotulo:"51"},{valor:"52",rotulo:"52"},{valor:"53",rotulo:"53"}],_valorInic:"11"},AAMM:{_titulo:"AAMM da emissão da NF de produtor",_doc:"AAMM da emissão da NF de produtor (AAMM)",_pattern:"[0-9]{2}[0]{1}[1-9]{1}|[0-9]{2}[1]{1}[0-2]{1}",_tipo:"texto",_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"CNPJ do emitente da NF de produtor",_doc:"CNPJ do emitente da NF de produtor (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},CPF:{_titulo:"CPF do emitente da NF de produtor",_doc:"CPF do emitente da NF de produtor (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_tipo:"texto",_maxLength:11,_valorInic:""}},IE:{_titulo:"IE do emitente da NF de Produtor",_doc:"IE do emitente da NF de Produtor (IE)",_pattern:"ISENTO|[0-9]{2,14}",_type:"TIeDest",_tipo:"texto",_maxLength:14,_valorInic:""},mod:{_titulo:"Código do modelo do Doc. Fiscal",_doc:"Código do modelo do Documento Fiscal - utilizar 04 para NF de produtor  ou 01 para NF Avulsa (mod)",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 para NF Avulsa"},{valor:"04",rotulo:"04 para NF de produtor  ou 01 para NF Avulsa"}],_valorInic:"01"},serie:{_titulo:"Série do Doc. Fiscal",_doc:"Série do Documento Fiscal, informar zero se inexistente (serie)",_pattern:"0|[1-9]{1}[0-9]{0,2}",_type:"TSerie",_tipo:"texto",_valorInic:""},nNF:{_titulo:"Número do Documento Fiscal ",_doc:"Número do Documento Fiscal - 1 - 999999999 (nNF)",_pattern:"[1-9]{1}[0-9]{0,8}",_type:"TNF",_tipo:"texto",_valorInic:""}},refCTe:{_titulo:"Utilizar esta TAG para referenciar um CT-e emitido anteriormente, vinculada a NF-e atual",_doc:"Utilizar esta TAG para referenciar um CT-e emitido anteriormente, vinculada a NF-e atual (refCTe)",_pattern:"[0-9]{44}",_type:"TChNFe",_tipo:"texto",_maxLength:44,_valorInic:""},refECF:{_titulo:"Grupo do Cupom Fiscal vinculado à NF-e",_doc:"Grupo do Cupom Fiscal vinculado à NF-e (refECF)",_tipo:"texto",_valorInic:"",mod:{_titulo:"Código do modelo do Doc. Fiscal",_doc:"Código do modelo do Documento Fiscal  Preencher com '2B', quando se tratar de Cupom Fiscal emitido por máquina registradora (não ECF), com '2C', quando se tratar de Cupom Fiscal PDV, ou '2D', quando se tratar de Cupom Fiscal (emitido por ECF) (mod)",_tipo:"seletor",_enumeration:[{valor:"2B",rotulo:"2B', quando se tratar de Cupom Fiscal emitido por máquina registradora (não ECF), com '"},{valor:"2C",rotulo:"2C', quando se tratar de Cupom Fiscal PDV, ou '"},{valor:"2D",rotulo:"2D', quando se tratar de Cupom Fiscal (emitido por ECF"}],_valorInic:"2B"},nECF:{_titulo:"Informar o número de ordem seqüencial do ECF que emitiu o Cupom Fiscal vinculado à NF-e",_doc:"Informar o número de ordem seqüencial do ECF que emitiu o Cupom Fiscal vinculado à NF-e (nECF)",_pattern:"[0-9]{1,3}",_tipo:"texto",_valorInic:""},nCOO:{_titulo:"Informar o Número do Contador de Ordem de Operação - COO vinculado à NF-e",_doc:"Informar o Número do Contador de Ordem de Operação - COO vinculado à NF-e (nCOO)",_pattern:"[0-9]{1,6}",_tipo:"texto",_valorInic:""}}}}}},emit:{_titulo:"Identificação do emitente",_doc:"Identificação do emitente (emit)",_tipo:"texto",_valorInic:"",escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"Número do CNPJ do emitente",_doc:"Número do CNPJ do emitente (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},CPF:{_titulo:"Número do CPF do emitente",_doc:"Número do CPF do emitente (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_tipo:"texto",_maxLength:11,_valorInic:""}},xNome:{_titulo:"Razão Social ou Nome do emitente",_doc:"Razão Social ou Nome do emitente (xNome)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},xFant:{_titulo:"Nome fantasia",_doc:"Nome fantasia (xFant) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},enderEmit:{_titulo:"Endereço do emitente",_doc:"Endereço do emitente (enderEmit)",_type:"TEnderEmi",_tipo:"texto",_valorInic:"",xLgr:{_titulo:"Logradouro",_doc:"Logradouro (xLgr)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},nro:{_titulo:"Número",_doc:"Número (nro)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xCpl:{_titulo:"Complemento",_doc:"Complemento (xCpl) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xBairro:{_titulo:"Bairro",_doc:"Bairro (xBairro)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},cMun:{_titulo:"Código do município",_doc:"Código do município (cMun)",_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""},xMun:{_titulo:"Nome do município",_doc:"Nome do município (xMun)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},UF:{_titulo:"Sigla da UF",_doc:"Sigla da UF (UF)",_type:"TUfEmi",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"}],_valorInic:"AC"},CEP:{_titulo:"CEP - NT 2011/004",_doc:"CEP - NT 2011/004 (CEP)",_pattern:"[0-9]{8}",_tipo:"texto",_valorInic:""},cPais:{_titulo:"Código do país",_doc:"Código do país (cPais) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"seletor",_enumeration:[{valor:"",rotulo:"Não se aplica"},{valor:"1058",rotulo:"1058"}],_valorInic:""},xPais:{_titulo:"Nome do país",_doc:"Nome do país (xPais) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"seletor",_enumeration:[{valor:"",rotulo:"Não se aplica"},{valor:"Brasil",rotulo:"Brasil"},{valor:"BRASIL",rotulo:"BRASIL"}],_valorInic:""},fone:{_titulo:"Preencher com Código DDD + número do telefone (v.2.0)",_doc:"Preencher com Código DDD + número do telefone (v.2.0) (fone) (Opcional)",_opcional:!0,_pattern:"[0-9]{6,14}",_tipo:"texto",_valorInic:""}},IE:{_titulo:"Inscrição Estadual do Emitente",_doc:"Inscrição Estadual do Emitente (IE)",_pattern:"[0-9]{2,14}|ISENTO",_type:"TIe",_tipo:"texto",_maxLength:14,_valorInic:""},IEST:{_titulo:"Inscricao Estadual do Substituto Tributário",_doc:"Inscricao Estadual do Substituto Tributário (IEST) (Opcional)",_opcional:!0,_pattern:"[0-9]{2,14}",_type:"TIeST",_tipo:"texto",_maxLength:14,_valorInic:""},opcional:{_titulo:"Grupo de informações de interesse da Prefeitura",_doc:"Grupo de informações de interesse da Prefeitura (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de informações de interesse da Prefeitura",_doc:"Grupo de informações de interesse da Prefeitura (Opcional)",_valorInic:""},IM:{_titulo:"Inscrição Municipal",_doc:"Inscrição Municipal (IM)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:15,_valorInic:""},CNAE:{_titulo:"CNAE Fiscal",_doc:"CNAE Fiscal (CNAE) (Opcional)",_opcional:!0,_pattern:"[0-9]{7}",_tipo:"texto",_valorInic:""}},CRT:{_titulo:"Código de Regime Tributário",_doc:"Código de Regime Tributário.  Este campo será obrigatoriamente preenchido com: 1 - Simples Nacional; 2 - Simples Nacional - excesso de sublimite de receita bruta; 3 - Regime Normal. (CRT)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Simples Nacional"},{valor:"2",rotulo:"2 - Simples Nacional - excesso de sublimite de receita bruta"},{valor:"3",rotulo:"3 - Regime Normal"}],_valorInic:"1"}},avulsa:{_titulo:"Emissão de avulsa, informar os dados do Fisco emitente",_doc:"Emissão de avulsa, informar os dados do Fisco emitente (avulsa) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Emissão de avulsa, informar os dados do Fisco emitente",_doc:"Emissão de avulsa, informar os dados do Fisco emitente (avulsa) (Opcional)",_valorInic:""},CNPJ:{_titulo:"CNPJ do Órgão emissor",_doc:"CNPJ do Órgão emissor (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},xOrgao:{_titulo:"Órgão emitente",_doc:"Órgão emitente (xOrgao)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},matr:{_titulo:"Matrícula do agente",_doc:"Matrícula do agente (matr)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xAgente:{_titulo:"Nome do agente",_doc:"Nome do agente (xAgente)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},fone:{_titulo:"Telefone",_doc:"Telefone (fone) (Opcional)",_opcional:!0,_pattern:"[0-9]{6,14}",_tipo:"texto",_valorInic:""},UF:{_titulo:"Sigla da Unidade da Federação",_doc:"Sigla da Unidade da Federação (UF)",_type:"TUfEmi",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"}],_valorInic:"AC"},nDAR:{_titulo:"Número do Documento de Arrecadação de Receita",_doc:"Número do Documento de Arrecadação de Receita (nDAR) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},dEmi:{_titulo:"Data de emissão do DAR ",_doc:"Data de emissão do DAR (AAAA-MM-DD) (dEmi) (Opcional)",_opcional:!0,_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""},vDAR:{_titulo:"Valor Total constante no DAR",_doc:"Valor Total constante no DAR (vDAR) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},repEmi:{_titulo:"Repartição Fiscal emitente",_doc:"Repartição Fiscal emitente (repEmi)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},dPag:{_titulo:"Data de pagamento do DAR",_doc:"Data de pagamento do DAR (AAAA-MM-DD) (dPag) (Opcional)",_opcional:!0,_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""}},dest:{_titulo:"Identificação do Destinatário",_doc:"Identificação do Destinatário (dest) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Identificação do Destinatário",_doc:"Identificação do Destinatário (dest) (Opcional)",_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"Número do CNPJ",_doc:"Número do CNPJ (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},CPF:{_titulo:"Número do CPF",_doc:"Número do CPF (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_tipo:"texto",_maxLength:11,_valorInic:""},idEstrangeiro:{_titulo:"Identificador do destinatário",_doc:"Identificador do destinatário, em caso de comprador estrangeiro (idEstrangeiro)",_pattern:"([!-ÿ]{0}|[!-ÿ]{5,20})?",_tipo:"texto",_valorInic:""}},xNome:{_titulo:"Razão Social ou nome do destinatário",_doc:"Razão Social ou nome do destinatário (xNome) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},enderDest:{_titulo:"Dados do endereço",_doc:"Dados do endereço (enderDest) (Opcional)",_opcional:!0,_type:"TEndereco",_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados do endereço",_doc:"Dados do endereço (enderDest) (Opcional)",_valorInic:""},xLgr:{_titulo:"Logradouro",_doc:"Logradouro (xLgr)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},nro:{_titulo:"Número",_doc:"Número (nro)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xCpl:{_titulo:"Complemento",_doc:"Complemento (xCpl) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xBairro:{_titulo:"Bairro",_doc:"Bairro (xBairro)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},cMun:{_titulo:"Código do município",_doc:"Código do município (utilizar a tabela do IBGE), informar 9999999 para operações com o exterior. (cMun)",_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""},xMun:{_titulo:"Nome do município",_doc:"Nome do município, informar EXTERIOR para operações com o exterior. (xMun)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},UF:{_titulo:"Sigla da UF",_doc:"Sigla da UF, informar EX para operações com o exterior. (UF)",_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX para operações com o exterior"}],_valorInic:"AC"},CEP:{_titulo:"CEP",_doc:"CEP (CEP) (Opcional)",_opcional:!0,_pattern:"[0-9]{8}",_tipo:"texto",_valorInic:""},cPais:{_titulo:"Código de Pais",_doc:"Código de Pais (cPais) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,4}",_tipo:"texto",_valorInic:""},xPais:{_titulo:"Nome do país",_doc:"Nome do país (xPais) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},fone:{_titulo:"Telefone",_doc:"Telefone, preencher com Código DDD + número do telefone , nas operações com exterior é permtido informar o código do país + código da localidade + número do telefone (fone) (Opcional)",_opcional:!0,_pattern:"[0-9]{6,14}",_tipo:"texto",_valorInic:""}},indIEDest:{_titulo:"Indicador da IE do destinatário",_doc:"Indicador da IE do destinatário: 1 - Contribuinte ICMS; 2 - Contribuinte isento de inscrição; 9 - Não Contribuinte (indIEDest)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Contribuinte ICMS"},{valor:"2",rotulo:"2 - Contribuinte isento de inscrição"},{valor:"9",rotulo:"9 - Não Contribuinte"}],_valorInic:"1"},IE:{_titulo:"Inscrição Estadual",_doc:"Inscrição Estadual (obrigatório nas operações com contribuintes do ICMS) (IE) (Opcional)",_opcional:!0,_pattern:"[0-9]{2,14}",_type:"TIeDestNaoIsento",_tipo:"texto",_maxLength:14,_valorInic:""},ISUF:{_titulo:"Inscrição na SUFRAMA",_doc:"Inscrição na SUFRAMA (Obrigatório nas operações com as áreas com benefícios de incentivos fiscais sob controle da SUFRAMA) PL_005d - 11/08/09 - alterado para aceitar 8 ou 9 dígitos (ISUF) (Opcional)",_opcional:!0,_pattern:"[0-9]{8,9}",_tipo:"texto",_valorInic:""},IM:{_titulo:"Inscrição Municipal do tomador do serviço",_doc:"Inscrição Municipal do tomador do serviço (IM) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:15,_valorInic:""},email:{_titulo:"Informar o e-mail do destinatário",_doc:"Informar o e-mail do destinatário. O campo pode ser utilizado para informar o e-mail de recepção da NF-e indicada pelo destinatário (email) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""}},retirada:{_titulo:"Identificação do Local de Retirada",_doc:"Identificação do Local de Retirada (informar apenas quando for diferente do endereço do remetente) (retirada) (Opcional)",_opcional:!0,_type:"TLocal",_tipo:"texto",_valorInic:"",visivel:{_titulo:"Identificação do Local de Retirada",_doc:"Identificação do Local de Retirada (informar apenas quando for diferente do endereço do remetente) (retirada) (Opcional)",_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"CNPJ",_doc:"CNPJ (CNPJ)",_pattern:"[0-9]{0}|[0-9]{14}",_type:"TCnpjOpc",_tipo:"texto",_maxLength:14,_valorInic:""},CPF:{_titulo:"CPF (v2.0)",_doc:"CPF (v2.0) (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_tipo:"texto",_maxLength:11,_valorInic:""}},xNome:{_titulo:"Razão Social ou Nome do Expedidor/Recebedor",_doc:"Razão Social ou Nome do Expedidor/Recebedor (xNome) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},xLgr:{_titulo:"Logradouro",_doc:"Logradouro (xLgr)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},nro:{_titulo:"Número",_doc:"Número (nro)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xCpl:{_titulo:"Complemento",_doc:"Complemento (xCpl) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xBairro:{_titulo:"Bairro",_doc:"Bairro (xBairro)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},cMun:{_titulo:"Código do município",_doc:"Código do município (utilizar a tabela do IBGE) (cMun)",_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""},xMun:{_titulo:"Nome do município",_doc:"Nome do município (xMun)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},UF:{_titulo:"Sigla da UF",_doc:"Sigla da UF (UF)",_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX"}],_valorInic:"AC"},CEP:{_titulo:"CEP",_doc:"CEP (CEP) (Opcional)",_opcional:!0,_pattern:"[0-9]{8}",_tipo:"texto",_valorInic:""},cPais:{_titulo:"Código de Pais",_doc:"Código de Pais (cPais) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,4}",_tipo:"texto",_valorInic:""},xPais:{_titulo:"Nome do país",_doc:"Nome do país (xPais) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},fone:{_titulo:"Telefone",_doc:"Telefone, preencher com Código DDD + número do telefone , nas operações com exterior é permtido informar o código do país + código da localidade + número do telefone (fone) (Opcional)",_opcional:!0,_pattern:"[0-9]{6,14}",_tipo:"texto",_valorInic:""},email:{_titulo:"Informar o e-mail do expedidor/Recebedor",_doc:"Informar o e-mail do expedidor/Recebedor. O campo pode ser utilizado para informar o e-mail de recepção da NF-e indicada pelo expedidor (email) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},IE:{_titulo:"Inscrição Estadual (v2.0)",_doc:"Inscrição Estadual (v2.0) (IE) (Opcional)",_opcional:!0,_pattern:"[0-9]{2,14}|ISENTO",_type:"TIe",_tipo:"texto",_maxLength:14,_valorInic:""}},entrega:{_titulo:"Identificação do Local de Entrega",_doc:"Identificação do Local de Entrega (informar apenas quando for diferente do endereço do destinatário) (entrega) (Opcional)",_opcional:!0,_type:"TLocal",_tipo:"texto",_valorInic:"",visivel:{_titulo:"Identificação do Local de Entrega",_doc:"Identificação do Local de Entrega (informar apenas quando for diferente do endereço do destinatário) (entrega) (Opcional)",_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"CNPJ",_doc:"CNPJ (CNPJ)",_pattern:"[0-9]{0}|[0-9]{14}",_type:"TCnpjOpc",_tipo:"texto",_maxLength:14,_valorInic:""},CPF:{_titulo:"CPF (v2.0)",_doc:"CPF (v2.0) (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_tipo:"texto",_maxLength:11,_valorInic:""}},xNome:{_titulo:"Razão Social ou Nome do Expedidor/Recebedor",_doc:"Razão Social ou Nome do Expedidor/Recebedor (xNome) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},xLgr:{_titulo:"Logradouro",_doc:"Logradouro (xLgr)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},nro:{_titulo:"Número",_doc:"Número (nro)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xCpl:{_titulo:"Complemento",_doc:"Complemento (xCpl) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xBairro:{_titulo:"Bairro",_doc:"Bairro (xBairro)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},cMun:{_titulo:"Código do município ",_doc:"Código do município (utilizar a tabela do IBGE) (cMun)",_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""},xMun:{_titulo:"Nome do município",_doc:"Nome do município (xMun)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},UF:{_titulo:"Sigla da UF",_doc:"Sigla da UF (UF)",_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX"}],_valorInic:"AC"},CEP:{_titulo:"CEP",_doc:"CEP (CEP) (Opcional)",_opcional:!0,_pattern:"[0-9]{8}",_tipo:"texto",_valorInic:""},cPais:{_titulo:"Código de Pais",_doc:"Código de Pais (cPais) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,4}",_tipo:"texto",_valorInic:""},xPais:{_titulo:"Nome do país",_doc:"Nome do país (xPais) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},fone:{_titulo:"Telefone",_doc:"Telefone, preencher com Código DDD + número do telefone , nas operações com exterior é permtido informar o código do país + código da localidade + número do telefone (fone) (Opcional)",_opcional:!0,_pattern:"[0-9]{6,14}",_tipo:"texto",_valorInic:""},email:{_titulo:"Informar o e-mail do expedidor/Recebedor",_doc:"Informar o e-mail do expedidor/Recebedor. O campo pode ser utilizado para informar o e-mail de recepção da NF-e indicada pelo expedidor (email) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},IE:{_titulo:"Inscrição Estadual (v2.0)",_doc:"Inscrição Estadual (v2.0) (IE) (Opcional)",_opcional:!0,_pattern:"[0-9]{2,14}|ISENTO",_type:"TIe",_tipo:"texto",_maxLength:14,_valorInic:""}},autXML:{_titulo:"Pessoas autorizadas para o download do XML da NF-e",_doc:"Pessoas autorizadas para o download do XML da NF-e (autXML) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"CNPJ Autorizado",_doc:"CNPJ Autorizado (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},CPF:{_titulo:"CPF Autorizado",_doc:"CPF Autorizado (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_tipo:"texto",_maxLength:11,_valorInic:""}}}},det:{_titulo:"Dados dos detalhes da NF-e",_doc:"Dados dos detalhes da NF-e (det) (Lista)",_tipo:"texto",_valorInic:"",lista:{prod:{_titulo:"Dados dos produtos e serviços da NF-e",_doc:"Dados dos produtos e serviços da NF-e (prod)",_tipo:"texto",_valorInic:"",cProd:{_titulo:"Código do produto ou serviço",_doc:"Código do produto ou serviço. Preencher com CFOP caso se trate de itens não relacionados com mercadorias/produto e que o contribuinte não possua codificação própria Formato ”CFOP9999”. (cProd)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},cEAN:{_titulo:"GTIN (Global Trade Item Number) do produto",_doc:"GTIN (Global Trade Item Number) do produto, antigo código EAN ou código de barras (cEAN)",_pattern:"SEM GTIN|[0-9]{0}|[0-9]{8}|[0-9]{12,14}",_tipo:"texto",_valorInic:""},xProd:{_titulo:"Descrição do produto ou serviço",_doc:"Descrição do produto ou serviço (xProd)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:120,_valorInic:""},NCM:{_titulo:"Código NCM (8 posições)",_doc:"Código NCM (8 posições), será permitida a informação do gênero (posição do capítulo do NCM) quando a operação não for de comércio exterior (importação/exportação) ou o produto não seja tributado pelo IPI. Em caso de item de serviço ou item que não tenham produto (Ex. transferência de crédito, crédito do ativo imobilizado, etc.), informar o código 00 (zeros) (v2.0) (NCM)",_pattern:"[0-9]{2}|[0-9]{8}",_tipo:"texto",_valorInic:""},NVE:{_titulo:"Nomenclatura de Valor aduaneio e Estatístico",_doc:"Nomenclatura de Valor aduaneio e Estatístico (NVE) (Lista)",_opcional:!0,_pattern:"[A-Z]{2}[0-9]{4}",_tipo:"texto",_valorInic:"",lista:{NVE:{_titulo:"Nomenclatura de Valor aduaneio e Estatístico",_doc:"Nomenclatura de Valor aduaneio e Estatístico (NVE) (Lista)",_opcional:!0,_pattern:"[A-Z]{2}[0-9]{4}",_tipo:"texto",_valorInic:""}}},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},CEST:{_titulo:"Codigo especificador da Substuicao Tributaria - CEST",_doc:"Codigo especificador da Substuicao Tributaria - CEST, que identifica a mercadoria sujeita aos regimes de  substituicao tributária e de antecipação do recolhimento  do imposto (CEST)",_pattern:"[0-9]{7}",_tipo:"texto",_valorInic:""},indEscala:{_titulo:"indEscala",_doc:"indEscala (Opcional)",_opcional:!0,_tipo:"seletor",_enumeration:[{valor:"",rotulo:"Não se aplica"},{valor:"S",rotulo:"S"},{valor:"N",rotulo:"N"}],_valorInic:""},CNPJFab:{_titulo:"CNPJ do Fabricante da Mercadoria",_doc:"CNPJ do Fabricante da Mercadoria, obrigatório para produto em escala NÃO relevante. (CNPJFab) (Opcional)",_opcional:!0,_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""}},cBenef:{_titulo:"cBenef",_doc:"cBenef (Opcional)",_opcional:!0,_pattern:"([!-ÿ]{8}|[!-ÿ]{10})?",_tipo:"texto",_valorInic:""},EXTIPI:{_titulo:"Código EX TIPI ",_doc:"Código EX TIPI (3 posições) (EXTIPI) (Opcional)",_opcional:!0,_pattern:"[0-9]{2,3}",_tipo:"texto",_valorInic:""},CFOP:{_titulo:"Cfop",_doc:"Cfop (CFOP)",_pattern:"[1,2,3,5,6,7]{1}[0-9]{3}",_tipo:"texto",_valorInic:""},uCom:{_titulo:"Unidade comercial",_doc:"Unidade comercial (uCom)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:6,_valorInic:""},qCom:{_titulo:"Quantidade Comercial  do produto",_doc:"Quantidade Comercial  do produto, alterado para aceitar de 0 a 4 casas decimais e 11 inteiros. (qCom)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,4})?",_type:"TDec_1104v",_tipo:"decimal",_decimals:"4",_valorInic:0},vUnCom:{_titulo:"Valor unitário de comercialização",_doc:"Valor unitário de comercialização  - alterado para aceitar 0 a 10 casas decimais e 11 inteiros (vUnCom)",_pattern:"0|0\\.[0-9]{1,10}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,10})?",_type:"TDec_1110v",_tipo:"dinheiro",_decimals:"4",_valorInic:0},vProd:{_titulo:"Valor bruto do produto ou serviço.",_doc:"Valor bruto do produto ou serviço. (vProd)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},cEANTrib:{_titulo:"GTIN (Global Trade Item Number) da unidade tributável",_doc:"GTIN (Global Trade Item Number) da unidade tributável, antigo código EAN ou código de barras (cEANTrib)",_pattern:"SEM GTIN|[0-9]{0}|[0-9]{8}|[0-9]{12,14}",_tipo:"texto",_valorInic:""},uTrib:{_titulo:"Unidade Tributável",_doc:"Unidade Tributável (uTrib)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:6,_valorInic:""},qTrib:{_titulo:"Quantidade Tributável",_doc:"Quantidade Tributável - alterado para aceitar de 0 a 4 casas decimais e 11 inteiros (qTrib)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,4})?",_type:"TDec_1104v",_tipo:"decimal",_decimals:"4",_valorInic:0},vUnTrib:{_titulo:"Valor unitário de tributação",_doc:"Valor unitário de tributação - alterado para aceitar 0 a 10 casas decimais e 11 inteiros (vUnTrib)",_pattern:"0|0\\.[0-9]{1,10}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,10})?",_type:"TDec_1110v",_tipo:"dinheiro",_decimals:"4",_valorInic:0},vFrete:{_titulo:"Valor Total do Frete",_doc:"Valor Total do Frete (vFrete) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vSeg:{_titulo:"Valor Total do Seguro",_doc:"Valor Total do Seguro (vSeg) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vDesc:{_titulo:"Valor do Desconto",_doc:"Valor do Desconto (vDesc) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vOutro:{_titulo:"Outras despesas acessórias",_doc:"Outras despesas acessórias (vOutro) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},indTot:{_titulo:"Este campo deverá ser preenchido com:  0 - o valor do item (vProd) não compõe o valor total da NF-e (vProd)  1  - o valor do item (vProd) compõe o valor total da NF-e (vProd)",_doc:"Este campo deverá ser preenchido com:  0 - o valor do item (vProd) não compõe o valor total da NF-e (vProd)  1  - o valor do item (vProd) compõe o valor total da NF-e (vProd) (indTot)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - o valor do item (vProd) não compõe o valor total da NF-e (vProd"},{valor:"1",rotulo:"1  - o valor do item (vProd) compõe o valor total da NF-e (vProd"}],_valorInic:"0"},DI:{_titulo:"Delcaração de Importação (NT 2011/004)",_doc:"Delcaração de Importação (NT 2011/004) (DI) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{nDI:{_titulo:"Numero do Documento de Importação DI/DSI/DA/DRI-E (DI/DSI/DA/DRI-E) (NT2011/004)",_doc:"Numero do Documento de Importação DI/DSI/DA/DRI-E (DI/DSI/DA/DRI-E) (NT2011/004) (nDI)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:12,_valorInic:""},dDI:{_titulo:"Data de registro da DI/DSI/DA ",_doc:"Data de registro da DI/DSI/DA (AAAA-MM-DD) (dDI)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""},xLocDesemb:{_titulo:"Local do desembaraço aduaneiro",_doc:"Local do desembaraço aduaneiro (xLocDesemb)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},UFDesemb:{_titulo:"UF onde ocorreu o desembaraço aduaneiro",_doc:"UF onde ocorreu o desembaraço aduaneiro (UFDesemb)",_type:"TUfEmi",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"}],_valorInic:"AC"},dDesemb:{_titulo:"Data do desembaraço aduaneiro (AAAA-MM-DD)",_doc:"Data do desembaraço aduaneiro (AAAA-MM-DD) (dDesemb)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""},tpViaTransp:{_titulo:"Via de transporte internacional informada na DI",_doc:"Via de transporte internacional informada na DI 1-Maritima;2-Fluvial;3-Lacustre;4-Aerea;5-Postal;6-Ferroviaria;7-Rodoviaria;8-Conduto;9-Meios Proprios;10-Entrada/Saida Ficta. (tpViaTransp)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Maritima"},{valor:"2",rotulo:"2 - Fluvial"},{valor:"3",rotulo:"3 - Lacustre"},{valor:"4",rotulo:"4 - Aerea"},{valor:"5",rotulo:"5 - Postal"},{valor:"6",rotulo:"6 - Ferroviaria"},{valor:"7",rotulo:"7 - Rodoviaria"},{valor:"8",rotulo:"8 - Conduto"},{valor:"9",rotulo:"9 - Meios Proprios"},{valor:"10",rotulo:"10"},{valor:"11",rotulo:"11"},{valor:"12",rotulo:"12"}],_valorInic:"1"},vAFRMM:{_titulo:"Valor Adicional ao frete para renovação de marinha mercante",_doc:"Valor Adicional ao frete para renovação de marinha mercante (vAFRMM) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},tpIntermedio:{_titulo:"Forma de Importação quanto a intermediação",_doc:"Forma de Importação quanto a intermediação 1-por conta propria;2-por conta e ordem;3-encomenda (tpIntermedio)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - por conta propria"},{valor:"2",rotulo:"2 - por conta e ordem"},{valor:"3",rotulo:"3 - encomenda"}],_valorInic:"1"},CNPJ:{_titulo:"CNPJ do adquirente ou do encomendante",_doc:"CNPJ do adquirente ou do encomendante (CNPJ) (Opcional)",_opcional:!0,_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},UFTerceiro:{_titulo:"Sigla da UF do adquirente ou do encomendante",_doc:"Sigla da UF do adquirente ou do encomendante (UFTerceiro) (Opcional)",_opcional:!0,_type:"TUfEmi",_tipo:"seletor",_enumeration:[{valor:"",rotulo:"Não se aplica"},{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"}],_valorInic:""},cExportador:{_titulo:"Código do exportador ",_doc:"Código do exportador (usado nos sistemas internos de informação do emitente da NF-e) (cExportador)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},adi:{_titulo:"Adições (NT 2011/004)",_doc:"Adições (NT 2011/004) (adi) (Lista)",_tipo:"texto",_valorInic:"",lista:{nAdicao:{_titulo:"Número da Adição",_doc:"Número da Adição (nAdicao)",_pattern:"[1-9]{1}[0-9]{0,2}",_tipo:"texto",_valorInic:""},nSeqAdic:{_titulo:"Número seqüencial do item dentro da Adição",_doc:"Número seqüencial do item dentro da Adição (nSeqAdic)",_pattern:"[1-9]{1}[0-9]{0,2}",_tipo:"texto",_valorInic:""},cFabricante:{_titulo:"Código do fabricante estrangeiro",_doc:"Código do fabricante estrangeiro (usado nos sistemas internos de informação do emitente da NF-e) (cFabricante)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},vDescDI:{_titulo:"Valor do desconto do item da DI - adição",_doc:"Valor do desconto do item da DI - adição (vDescDI) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},nDraw:{_titulo:"Número do ato concessório de Drawback",_doc:"Número do ato concessório de Drawback (nDraw) (Opcional)",_opcional:!0,_pattern:"[0-9]{0,11}",_tipo:"texto",_valorInic:""}}}}},detExport:{_titulo:"Detalhe da exportação",_doc:"Detalhe da exportação (detExport) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{nDraw:{_titulo:"Número do ato concessório de Drawback",_doc:"Número do ato concessório de Drawback (nDraw) (Opcional)",_opcional:!0,_pattern:"[0-9]{0,11}",_tipo:"texto",_valorInic:""},exportInd:{_titulo:"Exportação indireta",_doc:"Exportação indireta (exportInd) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Exportação indireta",_doc:"Exportação indireta (exportInd) (Opcional)",_valorInic:""},nRE:{_titulo:"Registro de exportação",_doc:"Registro de exportação (nRE)",_pattern:"[0-9]{0,12}",_tipo:"texto",_valorInic:""},chNFe:{_titulo:"Chave de acesso da NF-e recebida para exportação",_doc:"Chave de acesso da NF-e recebida para exportação (chNFe)",_pattern:"[0-9]{44}",_type:"TChNFe",_tipo:"texto",_maxLength:44,_valorInic:""},qExport:{_titulo:"Quantidade do item efetivamente exportado",_doc:"Quantidade do item efetivamente exportado (qExport)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,4})?",_type:"TDec_1104v",_tipo:"decimal",_decimals:"4",_valorInic:0}}}},xPed:{_titulo:"Pedido de compra",_doc:"Pedido de compra - Informação de interesse do emissor para controle do B2B. (xPed) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:15,_valorInic:""},nItemPed:{_titulo:"Número do Item do Pedido de Compra",_doc:"Número do Item do Pedido de Compra - Identificação do número do item do pedido de Compra (nItemPed) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,6}",_tipo:"texto",_valorInic:""},nFCI:{_titulo:"Número de controle da FCI",_doc:"Número de controle da FCI - Ficha de Conteúdo de Importação. (nFCI) (Opcional)",_opcional:!0,_pattern:"[A-F0-9]{8}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{12}",_type:"TGuid",_tipo:"texto",_valorInic:""},rastro:{_titulo:"rastro",_doc:"rastro (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{nLote:{_titulo:"Número do lote do produto.",_doc:"Número do lote do produto. (nLote)",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""},qLote:{_titulo:"Quantidade de produto no lote.",_doc:"Quantidade de produto no lote. (qLote)",_pattern:"0|0\\.[0-9]{3}|[1-9]{1}[0-9]{0,7}(\\.[0-9]{1,3})?",_type:"TDec_0803v",_tipo:"decimal",_decimals:"3",_valorInic:0},dFab:{_titulo:"Data de fabricação/produção",_doc:"Data de fabricação/produção. Formato 'AAAA-MM-DD'. (dFab)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""},dVal:{_titulo:"Data de validade",_doc:"Data de validade. Informar o último dia do mês caso a validade não especifique o dia. Formato 'AAAA-MM-DD'. (dVal)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""},cAgreg:{_titulo:"cAgreg",_doc:"cAgreg (Opcional)",_opcional:!0,_pattern:"[0-9]{1,20}",_tipo:"texto",_valorInic:""}}},escolhas:{_titulo:"",_doc:" (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:" (Opcional)",_valorInic:""},veicProd:{_titulo:"Veículos novos",_doc:"Veículos novos (veicProd)",_tipo:"texto",_valorInic:"",tpOp:{_titulo:"Tipo da Operação ",_doc:"Tipo da Operação (1 - Venda concessionária; 2 - Faturamento direto; 3 - Venda direta; 0 - Outros) (tpOp)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Outros"},{valor:"1",rotulo:"1 - Venda concessionária"},{valor:"2",rotulo:"2 - Faturamento direto"},{valor:"3",rotulo:"3 - Venda direta; 0 - Outros"}],_valorInic:"0"},chassi:{_titulo:"Chassi do veículo - VIN",_doc:"Chassi do veículo - VIN (código-identificação-veículo) (chassi)",_pattern:"[A-Z0-9]+",_tipo:"texto",_valorInic:""},cCor:{_titulo:"Cor do veículo ",_doc:"Cor do veículo (código de cada montadora) (cCor)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:4,_valorInic:""},xCor:{_titulo:"Descrição da cor",_doc:"Descrição da cor (xCor)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:40,_valorInic:""},pot:{_titulo:"Potência máxima do motor do veículo em cavalo vapor",_doc:"Potência máxima do motor do veículo em cavalo vapor (CV). (potência-veículo) (pot)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:4,_valorInic:""},cilin:{_titulo:"Capacidade voluntária do motor expressa em centímetros cúbicos",_doc:"Capacidade voluntária do motor expressa em centímetros cúbicos (CC). (cilindradas) (cilin)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:4,_valorInic:""},pesoL:{_titulo:"Peso líquido",_doc:"Peso líquido (pesoL)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:9,_valorInic:""},pesoB:{_titulo:"Peso bruto",_doc:"Peso bruto (pesoB)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:9,_valorInic:""},nSerie:{_titulo:"Serial (série)",_doc:"Serial (série) (nSerie)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:9,_valorInic:""},tpComb:{_titulo:"Tipo de combustível-Tabela RENAVAM",_doc:"Tipo de combustível-Tabela RENAVAM: 01-Álcool; 02-Gasolina; 03-Diesel; 16-Álcool/Gas.; 17-Gas./Álcool/GNV; 18-Gasolina/Elétrico (tpComb)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:2,_valorInic:""},nMotor:{_titulo:"Número do motor",_doc:"Número do motor (nMotor)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:21,_valorInic:""},CMT:{_titulo:"CMT-Capacidade Máxima de Tração",_doc:"CMT-Capacidade Máxima de Tração - em Toneladas 4 casas decimais (CMT)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:9,_valorInic:""},dist:{_titulo:"Distância entre eixos",_doc:"Distância entre eixos (dist)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:4,_valorInic:""},anoMod:{_titulo:"Ano Modelo de Fabricação",_doc:"Ano Modelo de Fabricação (anoMod)",_pattern:"[0-9]{4}",_tipo:"texto",_valorInic:""},anoFab:{_titulo:"Ano de Fabricação",_doc:"Ano de Fabricação (anoFab)",_pattern:"[0-9]{4}",_tipo:"texto",_valorInic:""},tpPint:{_titulo:"Tipo de pintura",_doc:"Tipo de pintura (tpPint)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_valorInic:""},tpVeic:{_titulo:"Tipo de veículo ",_doc:"Tipo de veículo (utilizar tabela RENAVAM) (tpVeic)",_pattern:"[0-9]{1,2}",_tipo:"texto",_valorInic:""},espVeic:{_titulo:"Espécie de veículo",_doc:"Espécie de veículo (utilizar tabela RENAVAM) (espVeic)",_pattern:"[0-9]{1}",_tipo:"texto",_valorInic:""},VIN:{_titulo:"Informa-se o veículo tem VIN (chassi) remarcado",_doc:"Informa-se o veículo tem VIN (chassi) remarcado. R-Remarcado N-NormalVIN (VIN)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"seletor",_enumeration:[{valor:"R",rotulo:"R - Remarcado"},{valor:"N",rotulo:"N - NormalVIN"}],_valorInic:"R"},condVeic:{_titulo:"Condição do veículo",_doc:"Condição do veículo (1 - acabado; 2 - inacabado; 3 - semi-acabado) (condVeic)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - acabado"},{valor:"2",rotulo:"2 - inacabado"},{valor:"3",rotulo:"3 - semi-acabado"}],_valorInic:"1"},cMod:{_titulo:"Código Marca Modelo",_doc:"Código Marca Modelo (utilizar tabela RENAVAM) (cMod)",_pattern:"[0-9]{1,6}",_tipo:"texto",_valorInic:""},cCorDENATRAN:{_titulo:"Código da Cor Segundo as regras de pré-cadastro do DENATRAN",_doc:"Código da Cor Segundo as regras de pré-cadastro do DENATRAN: 01-AMARELO;02-AZUL;03-BEGE;04-BRANCA;05-CINZA;06-DOURADA;07-GRENA  08-LARANJA;09-MARROM;10-PRATA;11-PRETA;12-ROSA;13-ROXA;14-VERDE;15-VERMELHA;16-FANTASIA (cCorDENATRAN)",_pattern:"[0-9]{1,2}",_tipo:"texto",_minLength:1,_maxLength:2,_valorInic:""},lota:{_titulo:"Quantidade máxima de permitida de passageiros sentados, inclusive motorista.",_doc:"Quantidade máxima de permitida de passageiros sentados, inclusive motorista. (lota)",_pattern:"[0-9]{1,3}",_tipo:"texto",_minLength:1,_maxLength:3,_valorInic:""},tpRest:{_titulo:"Restrição",_doc:"Restrição 0 - Não há; 1 - Alienação Fiduciária; 2 - Arrendamento Mercantil; 3 - Reserva de Domínio; 4 - Penhor de Veículos; 9 - outras. (tpRest)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Não há"},{valor:"1",rotulo:"1 - Alienação Fiduciária"},{valor:"2",rotulo:"2 - Arrendamento Mercantil"},{valor:"3",rotulo:"3 - Reserva de Domínio"},{valor:"4",rotulo:"4 - Penhor de Veículos"},{valor:"9",rotulo:"9 - outras"}],_valorInic:"0"}},med:{_titulo:"Grupo do detalhamento de Medicamentos e de matérias-primas farmacêuticas",_doc:"Grupo do detalhamento de Medicamentos e de matérias-primas farmacêuticas (med)",_tipo:"texto",_valorInic:"",cProdANVISA:{_titulo:"Utilizar o número do registro ANVISA",_doc:"Utilizar o número do registro ANVISA  ou preencher com o literal “ISENTO”, no caso de medicamento isento de registro na ANVISA. (cProdANVISA)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_valorInic:""},xMotivoIsencao:{_titulo:"Obs.: Para medicamento isento de registro na ANVISA",_doc:"Obs.: Para medicamento isento de registro na ANVISA, informar o número da decisão que o isenta, como por exemplo o número da Resolução da Diretoria Colegiada da ANVISA (RDC). (xMotivoIsencao) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:255,_valorInic:""},vPMC:{_titulo:"Preço Máximo ao Consumidor.",_doc:"Preço Máximo ao Consumidor. (vPMC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},arma:{_titulo:"Armamentos",_doc:"Armamentos (arma) (Lista)",_tipo:"texto",_valorInic:"",lista:{escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},tpArma:{_titulo:"Indicador do tipo de arma de fogo ",_doc:"Indicador do tipo de arma de fogo (0 - Uso permitido; 1 - Uso restrito) (tpArma)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Uso permitido"},{valor:"1",rotulo:"1 - Uso restrito"}],_valorInic:"0"},nSerie:{_titulo:"Número de série da arma",_doc:"Número de série da arma (nSerie)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:15,_valorInic:""},nCano:{_titulo:"Número de série do cano",_doc:"Número de série do cano (nCano)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:15,_valorInic:""},descr:{_titulo:"Descrição completa da arma, compreendendo",_doc:"Descrição completa da arma, compreendendo: calibre, marca, capacidade, tipo de funcionamento, comprimento e demais elementos que permitam a sua perfeita identificação. (descr)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:256,_valorInic:""}}}},comb:{_titulo:"Informar apenas para operações com combustíveis líquidos",_doc:"Informar apenas para operações com combustíveis líquidos (comb)",_tipo:"texto",_valorInic:"",cProdANP:{_titulo:"Código de produto da ANP",_doc:"Código de produto da ANP. codificação de produtos do SIMP (http://www.anp.gov.br) (cProdANP)",_pattern:"[0-9]{9}",_tipo:"texto",_valorInic:""},descANP:{_titulo:"Descrição do Produto conforme ANP",_doc:"Descrição do Produto conforme ANP. Utilizar a descrição de produtos do Sistema de Informações de Movimentação de Produtos - SIMP (http://www.anp.gov.br/simp/). (descANP)",_tipo:"texto",_minLength:2,_maxLength:95,_valorInic:""},pGLP:{_titulo:"Percentual do GLP derivado do petróleo no produto GLP (cProdANP=210203001)",_doc:"Percentual do GLP derivado do petróleo no produto GLP (cProdANP=210203001). Informar em número decimal o percentual do GLP derivado de petróleo no produto GLP. Valores 0 a 100. (pGLP) (Opcional)",_opcional:!0,_pattern:"0(\\.[0-9]{2,4})?|[1-9]{1}[0-9]{0,1}(\\.[0-9]{2,4})?|100(\\.0{2,4})?",_type:"TDec_0302a04Max100",_tipo:"percentagem",_decimals:"4",_valorInic:0},pGNn:{_titulo:"Percentual de gás natural nacional - GLGNn para o produto GLP (cProdANP=210203001)",_doc:"Percentual de gás natural nacional - GLGNn para o produto GLP (cProdANP=210203001). Informar em número decimal o percentual do Gás Natural Nacional - GLGNn para o produto GLP. Valores de 0 a 100. (pGNn) (Opcional)",_opcional:!0,_pattern:"0(\\.[0-9]{2,4})?|[1-9]{1}[0-9]{0,1}(\\.[0-9]{2,4})?|100(\\.0{2,4})?",_type:"TDec_0302a04Max100",_tipo:"percentagem",_decimals:"4",_valorInic:0},pGNi:{_titulo:"Percentual de gás natural importado GLGNi para o produto GLP (cProdANP=210203001)",_doc:"Percentual de gás natural importado GLGNi para o produto GLP (cProdANP=210203001). Informar em número deciaml o percentual do Gás Natural Importado - GLGNi para o produto GLP. Valores de 0 a 100. (pGNi) (Opcional)",_opcional:!0,_pattern:"0(\\.[0-9]{2,4})?|[1-9]{1}[0-9]{0,1}(\\.[0-9]{2,4})?|100(\\.0{2,4})?",_type:"TDec_0302a04Max100",_tipo:"percentagem",_decimals:"4",_valorInic:0},vPart:{_titulo:"Valor de partida (cProdANP=210203001)",_doc:"Valor de partida (cProdANP=210203001). Deve ser informado neste campo o valor por quilograma sem ICMS. (vPart) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},CODIF:{_titulo:"Código de autorização / registro do CODIF",_doc:"Código de autorização / registro do CODIF. Informar apenas quando a UF utilizar o CODIF (Sistema de Controle do    Diferimento do Imposto nas Operações com AEAC - Álcool Etílico Anidro Combustível). (CODIF) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,21}",_tipo:"texto",_valorInic:""},qTemp:{_titulo:"Quantidade de combustível faturada à temperatura ambiente",_doc:"Quantidade de combustível faturada à temperatura ambiente. Informar quando a quantidade faturada informada no campo qCom (I10) tiver sido ajustada para uma temperatura diferente da ambiente. (qTemp) (Opcional)",_opcional:!0,_pattern:"0\\.[1-9]{1}[0-9]{3}|0\\.[0-9]{3}[1-9]{1}|0\\.[0-9]{2}[1-9]{1}[0-9]{1}|0\\.[0-9]{1}[1-9]{1}[0-9]{2}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{4})?",_type:"TDec_1204temperatura",_tipo:"decimal",_decimals:"4",_valorInic:0},UFCons:{_titulo:"Sigla da UF de Consumo",_doc:"Sigla da UF de Consumo (UFCons)",_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX"}],_valorInic:"AC"},CIDE:{_titulo:"CIDE Combustíveis",_doc:"CIDE Combustíveis (CIDE) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"CIDE Combustíveis",_doc:"CIDE Combustíveis (CIDE) (Opcional)",_valorInic:""},qBCProd:{_titulo:"BC do CIDE ( Quantidade comercializada)",_doc:"BC do CIDE ( Quantidade comercializada) (qBCProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{1,4})?",_type:"TDec_1204v",_tipo:"decimal",_decimals:"4",_valorInic:0},vAliqProd:{_titulo:"Alíquota do CIDE  (em reais)",_doc:"Alíquota do CIDE  (em reais) (vAliqProd)",_pattern:"0|0\\.[0-9]{4}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{4})?",_type:"TDec_1104",_tipo:"dinheiro",_decimals:"4",_valorInic:0},vCIDE:{_titulo:"Valor do CIDE",_doc:"Valor do CIDE (vCIDE)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},encerrante:{_titulo:"Informações do grupo de 'encerrante'",_doc:"Informações do grupo de 'encerrante' (encerrante) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Informações do grupo de 'encerrante'",_doc:"Informações do grupo de 'encerrante' (encerrante) (Opcional)",_valorInic:""},nBico:{_titulo:"Numero de identificação do Bico utilizado no abastecimento",_doc:"Numero de identificação do Bico utilizado no abastecimento (nBico)",_pattern:"[0-9]{1,3}",_tipo:"texto",_valorInic:""},nBomba:{_titulo:"Numero de identificação da bomba ao qual o bico está interligado",_doc:"Numero de identificação da bomba ao qual o bico está interligado (nBomba) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,3}",_tipo:"texto",_valorInic:""},nTanque:{_titulo:"Numero de identificação do tanque ao qual o bico está interligado",_doc:"Numero de identificação do tanque ao qual o bico está interligado (nTanque)",_pattern:"[0-9]{1,3}",_tipo:"texto",_valorInic:""},vEncIni:{_titulo:"Valor do Encerrante no ínicio do abastecimento",_doc:"Valor do Encerrante no ínicio do abastecimento (vEncIni)",_pattern:"0|0\\.[0-9]{3}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{3})?",_type:"TDec_1203",_tipo:"dinheiro",_decimals:"3",_valorInic:0},vEncFin:{_titulo:"Valor do Encerrante no final do abastecimento",_doc:"Valor do Encerrante no final do abastecimento (vEncFin)",_pattern:"0|0\\.[0-9]{3}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{3})?",_type:"TDec_1203",_tipo:"dinheiro",_decimals:"3",_valorInic:0}}},nRECOPI:{_titulo:"Número do RECOPI",_doc:"Número do RECOPI (nRECOPI)",_pattern:"[0-9]{20}",_tipo:"texto",_maxLength:20,_valorInic:""}}},imposto:{_titulo:"Tributos incidentes nos produtos ou serviços da NF-e",_doc:"Tributos incidentes nos produtos ou serviços da NF-e (imposto)",_tipo:"texto",_valorInic:"",vTotTrib:{_titulo:"Valor estimado total de impostos federais, estaduais e municipais",_doc:"Valor estimado total de impostos federais, estaduais e municipais (vTotTrib) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{ICMS:{_titulo:"Dados do ICMS Normal e ST",_doc:"Dados do ICMS Normal e ST (ICMS)",_tipo:"texto",_valorInic:"",escolhas:{_titulo:"Dados do ICMS Normal e ST",_doc:"Dados do ICMS Normal e ST (ICMS)",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"Dados do ICMS Normal e ST",_doc:"Dados do ICMS Normal e ST (ICMS)",_valorInic:""},ICMS00:{_titulo:"Tributação pelo ICMS 00 - Tributada integralmente",_doc:"Tributação pelo ICMS 00 - Tributada integralmente (ICMS00)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:": 0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8; 1 - Estrangeira - Importação direta; 2 - Estrangeira - Adquirida no mercado interno; 3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %; 4 - Nacional, processos produtivos básicos; 5 - Nacional, conteudo inferior 40 %; 6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX; 7 - Estrangeira - mercado interno, sem simular, lista CAMEX; 8 - Nacional, Conteúdo de Importação superior a 70 %.",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributção pelo ICMS 00 - Tributada integralmente",_doc:"Tributção pelo ICMS 00 - Tributada integralmente (CST)",_tipo:"seletor",_enumeration:[{valor:"00",rotulo:"00 - Tributada integralmente"}],_valorInic:"00"},modBC:{_titulo:"Modalidade de determinação da BC do ICMS",_doc:"Modalidade de determinação da BC do ICMS: 0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Preço Tabelado Máximo (valor); 3 - Valor da Operação. (modBC)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Preço Tabelado Máximo (valor)"},{valor:"3",rotulo:"3 - Valor da Operação"}],_valorInic:"0"},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pICMS:{_titulo:"Alíquota do ICMS",_doc:"Alíquota do ICMS (pICMS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},pFCP:{_titulo:"Percentual de ICMS relativo ao FCP.",_doc:"Percentual de ICMS relativo ao Fundo de Combate à Pobreza (FCP). (pFCP)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vFCP:{_titulo:"Valor do ICMS relativo ao FCP.",_doc:"Valor do ICMS relativo ao Fundo de Combate à Pobreza (FCP). (vFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}}},ICMS10:{_titulo:"Tributação pelo ICMS",_doc:"Tributação pelo ICMS 10 - Tributada e com cobrança do ICMS por substituição tributária (ICMS10)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:" 0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8; 1 - Estrangeira - Importação direta; 2 - Estrangeira - Adquirida no mercado interno; 3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %; 4 - Nacional, processos produtivos básicos; 5 - Nacional, conteudo inferior 40 %; 6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX; 7 - Estrangeira - mercado interno, sem simular, lista CAMEX; 8 - Nacional, Conteúdo de Importação superior a 70 %.",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"10 - Tributada e com cobrança do ICMS por substituição tributária",_doc:"10 - Tributada e com cobrança do ICMS por substituição tributária (CST)",_tipo:"seletor",_enumeration:[{valor:"10",rotulo:"10 - Tributada e com cobrança do ICMS por substituição tributária"}],_valorInic:"10"},modBC:{_titulo:"Modalidade de determinação da BC do ICMS: 0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Preço Tabelado Máximo (valor); 3 - Valor da Operação.",_doc:"Modalidade de determinação da BC do ICMS: 0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Preço Tabelado Máximo (valor); 3 - Valor da Operação. (modBC)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Preço Tabelado Máximo (valor)"},{valor:"3",rotulo:"3 - Valor da Operação"}],_valorInic:"0"},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pICMS:{_titulo:"Alíquota do ICMS",_doc:"Alíquota do ICMS (pICMS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCP:{_titulo:"Valor da Base de cálculo do FCP.",_doc:"Valor da Base de cálculo do FCP. (vBCFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pFCP:{_titulo:"Percentual de ICMS relativo ao FCP",_doc:"Percentual de ICMS relativo ao Fundo de Combate à Pobreza (FCP). (pFCP)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vFCP:{_titulo:"Valor do ICMS relativo ao FCP",_doc:"Valor do ICMS relativo ao Fundo de Combate à Pobreza (FCP). (vFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPST:{_titulo:"Valor da Base de cálculo do FCP retido por substituicao tributaria.",_doc:"Valor da Base de cálculo do FCP retido por substituicao tributaria. (vBCFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pFCPST:{_titulo:"Percentual de FCP retido por substituição tributária.",_doc:"Percentual de FCP retido por substituição tributária. (pFCPST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vFCPST:{_titulo:"Valor do FCP retido por substituição tributária.",_doc:"Valor do FCP retido por substituição tributária. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},modBCST:{_titulo:"Modalidade de determinação da BC do ICMS ST",_doc:"Modalidade de determinação da BC do ICMS ST: 0 - Preço tabelado ou máximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor); (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Preço tabelado ou máximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor)"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redução da BC ICMS ST",_doc:"Percentual de redução da BC ICMS ST (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST",_doc:"Valor da BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Alíquota do ICMS ST",_doc:"Alíquota do ICMS ST (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST",_doc:"Valor do ICMS ST (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},ICMS20:{_titulo:"Tributção pelo ICMS 20 - Com redução de base de cálculo",_doc:"Tributção pelo ICMS 20 - Com redução de base de cálculo (ICMS20)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8; 1 - Estrangeira - Importação direta; 2 - Estrangeira - Adquirida no mercado interno; 3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %; 4 - Nacional, processos produtivos básicos; 5 - Nacional, conteudo inferior 40 %; 6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX; 7 - Estrangeira - mercado interno, sem simular, lista CAMEX; 8 - Nacional, Conteúdo de Importação superior a 70 %",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributção pelo ICMS 20 - Com redução de base de cálculo",_doc:"Tributção pelo ICMS 20 - Com redução de base de cálculo (CST)",_tipo:"seletor",_enumeration:[{valor:"20",rotulo:"20 - Com redução de base de cálculo"}],_valorInic:"20"},modBC:{_titulo:"Modalidade de determinação da BC do ICMS",_doc:"Modalidade de determinação da BC do ICMS: 0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Preço Tabelado Máximo (valor); 3 - Valor da Operação. (modBC)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Preço Tabelado Máximo (valor)"},{valor:"3",rotulo:"3 - Valor da Operação"}],_valorInic:"0"},pRedBC:{_titulo:"Percentual de redução da BC",_doc:"Percentual de redução da BC (pRedBC)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pICMS:{_titulo:"Alíquota do ICMS",_doc:"Alíquota do ICMS (pICMS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCP:{_titulo:"Valor da Base de cálculo do FCP.",_doc:"Valor da Base de cálculo do FCP. (vBCFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pFCP:{_titulo:"Percentual de ICMS relativo ao FCP",_doc:"Percentual de ICMS relativo ao Fundo de Combate à Pobreza (FCP). (pFCP)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vFCP:{_titulo:"Valor do ICMS relativo ao FCP",_doc:"Valor do ICMS relativo ao Fundo de Combate à Pobreza (FCP). (vFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo desoneração",_doc:"Grupo desoneração (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo desoneração",_doc:"Grupo desoneração (Opcional)",_valorInic:""},vICMSDeson:{_titulo:"Valor do ICMS de desoneração",_doc:"Valor do ICMS de desoneração (vICMSDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},motDesICMS:{_titulo:"Motivo da desoneração do ICMS",_doc:"Motivo da desoneração do ICMS:3-Uso na agropecuária;9-Outros;12-Fomento agropecuário (motDesICMS)",_tipo:"seletor",_enumeration:[{valor:"3",rotulo:"3 - Uso na agropecuária"},{valor:"9",rotulo:"9 - Outros"},{valor:"12",rotulo:"12 - Fomento agropecuário"}],_valorInic:"3"}}},ICMS30:{_titulo:"Tributação pelo ICMS",_doc:"Tributação pelo ICMS 30 - Isenta ou não tributada e com cobrança do ICMS por substituição tributária (ICMS30)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8; 1 - Estrangeira - Importação direta; 2 - Estrangeira - Adquirida no mercado interno; 3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %; 4 - Nacional, processos produtivos básicos; 5 - Nacional, conteudo inferior 40 %; 6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX; 7 - Estrangeira - mercado interno, sem simular, lista CAMEX; 8 - Nacional, Conteúdo de Importação superior a 70 %",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributção pelo ICMS ",_doc:"Tributção pelo ICMS 30 - Isenta ou não tributada e com cobrança do ICMS por substituição tributária (CST)",_tipo:"seletor",_enumeration:[{valor:"30",rotulo:"30 - Isenta ou não tributada e com cobrança do ICMS por substituição tributária"}],_valorInic:"30"},modBCST:{_titulo:"Modalidade de determinação da BC do ICMS ST",_doc:"Modalidade de determinação da BC do ICMS ST: 0 - Preço tabelado ou máximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor). (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Preço tabelado ou máximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor)"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redução da BC ICMS ST",_doc:"Percentual de redução da BC ICMS ST (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST",_doc:"Valor da BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Alíquota do ICMS ST",_doc:"Alíquota do ICMS ST (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST",_doc:"Valor do ICMS ST (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPST:{_titulo:"Valor da Base de cálculo do FCP.",_doc:"Valor da Base de cálculo do FCP. (vBCFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pFCPST:{_titulo:"Percentual de FCP retido por substituição tributária.",_doc:"Percentual de FCP retido por substituição tributária. (pFCPST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vFCPST:{_titulo:"Valor do FCP retido por substituição tributária.",_doc:"Valor do FCP retido por substituição tributária. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo desoneração",_doc:"Grupo desoneração (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo desoneração",_doc:"Grupo desoneração (Opcional)",_valorInic:""},vICMSDeson:{_titulo:"Valor do ICMS de desoneração",_doc:"Valor do ICMS de desoneração (vICMSDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},motDesICMS:{_titulo:"Motivo da desoneração do ICMS",_doc:"Motivo da desoneração do ICMS:6-Utilitários Motocicleta AÁrea Livre;7-SUFRAMA;9-Outros (motDesICMS)",_tipo:"seletor",_enumeration:[{valor:"6",rotulo:"6 - Utilitários Motocicleta AÁrea Livre"},{valor:"7",rotulo:"7 - SUFRAMA"},{valor:"9",rotulo:"9 - Outros"}],_valorInic:"6"}}},ICMS40:{_titulo:"Tributação pelo ICMS",_doc:"Tributação pelo ICMS 40 - Isenta  41 - Não tributada  50 - Suspensão (ICMS40)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria.",_doc:" 0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8; 1 - Estrangeira - Importação direta; 2 - Estrangeira - Adquirida no mercado interno; 3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %; 4 - Nacional, processos produtivos básicos; 5 - Nacional, conteudo inferior 40 %; 6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX; 7 - Estrangeira - mercado interno, sem simular, lista CAMEX; 8 - Nacional, Conteúdo de Importação superior a 70 %",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributação pelo ICMS",_doc:"Tributação pelo ICMS  40 - Isenta  41 - Não tributada  50 - Suspensão  51 - Diferimento (CST)",_tipo:"seletor",_enumeration:[{valor:"40",rotulo:"40 - Isenta"},{valor:"41",rotulo:"41 - Não tributada"},{valor:"50",rotulo:"50 - Suspensão  51 - Diferimento"}],_valorInic:"40"},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vICMSDeson:{_titulo:"O valor do ICMS será informado apenas nas operações com veículos beneficiados com a desoneração condicional do ICMS.",_doc:"O valor do ICMS será informado apenas nas operações com veículos beneficiados com a desoneração condicional do ICMS. (vICMSDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},motDesICMS:{_titulo:"Este campo será preenchido quando o campo anterior estiver preenchido. Informar o motivo da desoneração",_doc:"Este campo será preenchido quando o campo anterior estiver preenchido. Informar o motivo da desoneração: 1 - Táxi; 3 - Produtor Agropecuário; 4 - Frotista/Locadora; 5 - Diplomático/Consular; 6 - Utilitários e Motocicletas da Amazônia Ocidental e Áreas de Livre Comércio (Resolução 714/88 e 790/94 - CONTRAN e suas alterações); 7 - SUFRAMA; 8 - Venda a órgão Público; 9 - Outros 10- Deficiente Condutor 11- Deficiente não condutor 16 - Olimpíadas Rio 2016 90 - Solicitado pelo Fisco (motDesICMS)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 -  Deficiente não condutor 16 - Olimpíadas Rio 2016 90 - Solicitado pelo Fisco"},{valor:"3",rotulo:"3 - Produtor Agropecuário"},{valor:"4",rotulo:"4 - Frotista/Locadora"},{valor:"5",rotulo:"5 - Diplomático/Consular; 6 - Utilitários e Motocicletas da Amazônia Ocidental e Áreas de Livre Comércio (Resolução 714/88 e 790/94 - CONTRAN e suas alterações); 7 - SUFRAMA; 8 - Venda a órgão Público; 9 - Outros 10- Deficiente Condutor 11- Deficiente não condutor 1"},{valor:"6",rotulo:"6 - Olimpíadas Rio 2016 90 - Solicitado pelo Fisco"},{valor:"7",rotulo:"714/88 e 790/94 - CONTRAN e suas alterações); 7 - SUFRAMA"},{valor:"8",rotulo:"8 - Venda a órgão Público; 9 - Outros 10- Deficiente Condutor 11- Deficiente não condutor 16 - Olimpíadas Rio 2016 90 - Solicitado pelo Fisco"},{valor:"9",rotulo:"90/94 - CONTRAN e suas alterações); 7 - SUFRAMA; 8 - Venda a órgão Público; 9 - Outros"},{valor:"10",rotulo:"10 -  Deficiente Condutor"},{valor:"11",rotulo:"11 -  Deficiente não condutor"},{valor:"16",rotulo:"16 - Olimpíadas Rio 2016"},{valor:"90",rotulo:"90 - Solicitado pelo Fisco"}],_valorInic:"1"}}},ICMS51:{_titulo:"Tributção pelo ICMS ",_doc:"Tributção pelo ICMS 51 - Diferimento A exigência do preenchimento das informações do ICMS diferido fica à critério de cada UF. (ICMS51)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8; 1 - Estrangeira - Importação direta; 2 - Estrangeira - Adquirida no mercado interno; 3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %; 4 - Nacional, processos produtivos básicos; 5 - Nacional, conteudo inferior 40 %; 6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX; 7 - Estrangeira - mercado interno, sem simular, lista CAMEX; 8 - Nacional, Conteúdo de Importação superior a 70 %",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributção pelo ICMS",_doc:"Tributção pelo ICMS 20 - Com redução de base de cálculo (CST)",_tipo:"seletor",_enumeration:[{valor:"51",rotulo:"51"}],_valorInic:"51"},modBC:{_titulo:"Modalidade de determinação da BC do ICMS",_doc:"Modalidade de determinação da BC do ICMS: 0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Preço Tabelado Máximo (valor); 3 - Valor da Operação. (modBC) (Opcional)",_opcional:!0,_tipo:"seletor",_enumeration:[{valor:"",rotulo:"Não se aplica"},{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Preço Tabelado Máximo (valor)"},{valor:"3",rotulo:"3 - Valor da Operação"}],_valorInic:""},pRedBC:{_titulo:"Percentual de redução da BC",_doc:"Percentual de redução da BC (pRedBC) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pICMS:{_titulo:"Alíquota do imposto",_doc:"Alíquota do imposto (pICMS) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMSOp:{_titulo:"Valor do ICMS da Operação",_doc:"Valor do ICMS da Operação (vICMSOp) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pDif:{_titulo:"Percentual do diferemento",_doc:"Percentual do diferemento (pDif) (Opcional)",_opcional:!0,_pattern:"0(\\.[0-9]{2,4})?|[1-9]{1}[0-9]{0,1}(\\.[0-9]{2,4})?|100(\\.0{2,4})?",_type:"TDec_0302a04Max100",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMSDif:{_titulo:"Valor do ICMS da diferido",_doc:"Valor do ICMS da diferido (vICMSDif) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCP:{_titulo:"Valor da Base de cálculo do FCP.",_doc:"Valor da Base de cálculo do FCP. (vBCFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pFCP:{_titulo:"Percentual de ICMS relativo ao FCP",_doc:"Percentual de ICMS relativo ao Fundo de Combate à Pobreza (FCP). (pFCP)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vFCP:{_titulo:"Valor do ICMS relativo ao FCP",_doc:"Valor do ICMS relativo ao Fundo de Combate à Pobreza (FCP). (vFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}}},ICMS60:{_titulo:"Tributação pelo ICMS",_doc:"Tributação pelo ICMS 60 - ICMS cobrado anteriormente por substituição tributária (ICMS60)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8; 1 - Estrangeira - Importação direta; 2 - Estrangeira - Adquirida no mercado interno; 3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %; 4 - Nacional, processos produtivos básicos; 5 - Nacional, conteudo inferior 40 %; 6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX; 7 - Estrangeira - mercado interno, sem simular, lista CAMEX; 8 - Nacional, Conteúdo de Importação superior a 70 %",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributação pelo ICMS ",_doc:"Tributação pelo ICMS  60 - ICMS cobrado anteriormente por substituição tributária (CST)",_tipo:"seletor",_enumeration:[{valor:"60",rotulo:"60 - ICMS cobrado anteriormente por substituição tributária"}],_valorInic:"60"},opcional:{_titulo:"NT2010/004",_doc:"NT2010/004 (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"NT2010/004",_doc:"NT2010/004 (Opcional)",_valorInic:""},vBCSTRet:{_titulo:"Valor da BC do ICMS ST retido anteriormente",_doc:"Valor da BC do ICMS ST retido anteriormente (vBCSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pST:{_titulo:"Aliquota suportada pelo consumidor final.",_doc:"Aliquota suportada pelo consumidor final. (pST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMSSubstituto:{_titulo:"Valor do ICMS Próprio do Substituto cobrado em operação anterior",_doc:"Valor do ICMS Próprio do Substituto cobrado em operação anterior (vICMSSubstituto) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vICMSSTRet:{_titulo:"Valor do ICMS ST retido anteriormente",_doc:"Valor do ICMS ST retido anteriormente (vICMSSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPSTRet:{_titulo:"Valor da Base de cálculo do FCP retido anteriormente por ST.",_doc:"Valor da Base de cálculo do FCP retido anteriormente por ST. (vBCFCPSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pFCPSTRet:{_titulo:"Percentual de FCP retido anteriormente por substituição tributária.",_doc:"Percentual de FCP retido anteriormente por substituição tributária. (pFCPSTRet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vFCPSTRet:{_titulo:"Valor do FCP retido por substituição tributária.",_doc:"Valor do FCP retido por substituição tributária. (vFCPSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},opcional3:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},pRedBCEfet:{_titulo:"Percentual de redução da base de cálculo efetiva.",_doc:"Percentual de redução da base de cálculo efetiva. (pRedBCEfet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vBCEfet:{_titulo:"Valor da base de cálculo efetiva.",_doc:"Valor da base de cálculo efetiva. (vBCEfet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pICMSEfet:{_titulo:"Alíquota do ICMS efetiva.",_doc:"Alíquota do ICMS efetiva. (pICMSEfet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMSEfet:{_titulo:"Valor do ICMS efetivo.",_doc:"Valor do ICMS efetivo. (vICMSEfet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}}},ICMS70:{_titulo:"Tributação pelo ICMS  ",_doc:"Tributação pelo ICMS  70 - Com redução de base de cálculo e cobrança do ICMS por substituição tributária (ICMS70)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8; 1 - Estrangeira - Importação direta; 2 - Estrangeira - Adquirida no mercado interno; 3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %; 4 - Nacional, processos produtivos básicos; 5 - Nacional, conteudo inferior 40 %; 6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX; 7 - Estrangeira - mercado interno, sem simular, lista CAMEX; 8 - Nacional, Conteúdo de Importação superior a 70 %",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributção pelo ICMS",_doc:"Tributção pelo ICMS 70 - Com redução de base de cálculo e cobrança do ICMS por substituição tributária (CST)",_tipo:"seletor",_enumeration:[{valor:"70",rotulo:"70 - Com redução de base de cálculo e cobrança do ICMS por substituição tributária"}],_valorInic:"70"},modBC:{_titulo:"Modalidade de determinação da BC do ICMS",_doc:"Modalidade de determinação da BC do ICMS: 0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Preço Tabelado Máximo (valor); 3 - Valor da Operação. (modBC)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Preço Tabelado Máximo (valor)"},{valor:"3",rotulo:"3 - Valor da Operação"}],_valorInic:"0"},pRedBC:{_titulo:"Percentual de redução da BC",_doc:"Percentual de redução da BC (pRedBC)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pICMS:{_titulo:"Alíquota do ICMS",_doc:"Alíquota do ICMS (pICMS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCP:{_titulo:"Valor da Base de cálculo do FCP.",_doc:"Valor da Base de cálculo do FCP. (vBCFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pFCP:{_titulo:"Percentual de ICMS relativo ao FCP",_doc:"Percentual de ICMS relativo ao Fundo de Combate à Pobreza (FCP). (pFCP)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vFCP:{_titulo:"Valor do ICMS relativo ao FCP",_doc:"Valor do ICMS relativo ao Fundo de Combate à Pobreza (FCP). (vFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPST:{_titulo:"Valor da Base de cálculo do FCP retido por substituição tributária.",_doc:"Valor da Base de cálculo do FCP retido por substituição tributária. (vBCFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pFCPST:{_titulo:"Percentual de FCP retido por substituição tributária.",_doc:"Percentual de FCP retido por substituição tributária. (pFCPST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vFCPST:{_titulo:"Valor do FCP retido por substituição tributária.",_doc:"Valor do FCP retido por substituição tributária. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},opcional3:{_titulo:"Grupo desoneração",_doc:"Grupo desoneração (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo desoneração",_doc:"Grupo desoneração (Opcional)",_valorInic:""},vICMSDeson:{_titulo:"Valor do ICMS de desoneração",_doc:"Valor do ICMS de desoneração (vICMSDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},motDesICMS:{_titulo:"Motivo da desoneração do ICMS",_doc:"Motivo da desoneração do ICMS:3-Uso na agropecuária;9-Outros;12-Fomento agropecuário (motDesICMS)",_tipo:"seletor",_enumeration:[{valor:"3",rotulo:"3 - Uso na agropecuária"},{valor:"9",rotulo:"9 - Outros"},{valor:"12",rotulo:"12 - Fomento agropecuário"}],_valorInic:"3"}},modBCST:{_titulo:"Modalidade de determinação da BC do ICMS ST",_doc:"Modalidade de determinação da BC do ICMS ST: 0 - Preço tabelado ou máximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor). (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Preço tabelado ou máximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor)"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redução da BC ICMS ST",_doc:"Percentual de redução da BC ICMS ST (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST",_doc:"Valor da BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Alíquota do ICMS ST",_doc:"Alíquota do ICMS ST (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST",_doc:"Valor do ICMS ST (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},ICMS90:{_titulo:"Tributação pelo ICMS 90 - Outras",_doc:"Tributação pelo ICMS 90 - Outras (ICMS90)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8; 1 - Estrangeira - Importação direta; 2 - Estrangeira - Adquirida no mercado interno; 3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %; 4 - Nacional, processos produtivos básicos; 5 - Nacional, conteudo inferior 40 %; 6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX; 7 - Estrangeira - mercado interno, sem simular, lista CAMEX; 8 - Nacional, Conteúdo de Importação superior a 70 %",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributção pelo ICMS 90 - Outras",_doc:"Tributção pelo ICMS 90 - Outras (CST)",_tipo:"seletor",_enumeration:[{valor:"90",rotulo:"90 - Outras"}],_valorInic:"90"},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},modBC:{_titulo:"Modalidade de determinação da BC do ICMS",_doc:"Modalidade de determinação da BC do ICMS:  0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Preço Tabelado Máximo (valor); 3 - Valor da Operação. (modBC)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Preço Tabelado Máximo (valor)"},{valor:"3",rotulo:"3 - Valor da Operação"}],_valorInic:"0"},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pRedBC:{_titulo:"Percentual de redução da BC",_doc:"Percentual de redução da BC (pRedBC) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},pICMS:{_titulo:"Alíquota do ICMS",_doc:"Alíquota do ICMS (pICMS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCP:{_titulo:"Valor da Base de cálculo do FCP.",_doc:"Valor da Base de cálculo do FCP. (vBCFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pFCP:{_titulo:"Percentual de ICMS relativo ao FCP",_doc:"Percentual de ICMS relativo ao Fundo de Combate à Pobreza (FCP). (pFCP)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vFCP:{_titulo:"Valor do ICMS relativo ao FCP",_doc:"Valor do ICMS relativo ao Fundo de Combate à Pobreza (FCP). (vFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}}},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},modBCST:{_titulo:"Modalidade de determinação da BC do ICMS ST.",_doc:"Modalidade de determinação da BC do ICMS ST: 0 - Preço tabelado ou máximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor). (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Preço tabelado ou máximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor)"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redução da BC ICMS ST",_doc:"Percentual de redução da BC ICMS ST (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST",_doc:"Valor da BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Alíquota do ICMS ST",_doc:"Alíquota do ICMS ST (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST",_doc:"Valor do ICMS ST (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPST:{_titulo:"Valor da Base de cálculo do FCP.",_doc:"Valor da Base de cálculo do FCP. (vBCFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pFCPST:{_titulo:"Percentual de FCP retido por substituição tributária.",_doc:"Percentual de FCP retido por substituição tributária. (pFCPST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vFCPST:{_titulo:"Valor do FCP retido por substituição tributária.",_doc:"Valor do FCP retido por substituição tributária. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}}},opcional3:{_titulo:"Grupo desoneração",_doc:"Grupo desoneração (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo desoneração",_doc:"Grupo desoneração (Opcional)",_valorInic:""},vICMSDeson:{_titulo:"Valor do ICMS de desoneração",_doc:"Valor do ICMS de desoneração (vICMSDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},motDesICMS:{_titulo:"Motivo da desoneração do ICMS",_doc:"Motivo da desoneração do ICMS:3-Uso na agropecuária;9-Outros;12-Fomento agropecuário (motDesICMS)",_tipo:"seletor",_enumeration:[{valor:"3",rotulo:"3 - Uso na agropecuária"},{valor:"9",rotulo:"9 - Outros"},{valor:"12",rotulo:"12 - Fomento agropecuário"}],_valorInic:"3"}}},ICMSPart:{_titulo:"Partilha do ICMS entre a UF de origem e UF de destino",_doc:"Partilha do ICMS entre a UF de origem e UF de destino ou a UF definida na legislação Operação interestadual para consumidor final com partilha do ICMS  devido na operação entre a UF de origem e a UF do destinatário ou ou a UF definida na legislação. (Ex. UF da concessionária de entrega do  veículos) (ICMSPart)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8; 1 - Estrangeira - Importação direta; 2 - Estrangeira - Adquirida no mercado interno; 3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %; 4 - Nacional, processos produtivos básicos; 5 - Nacional, conteudo inferior 40 %; 6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX; 7 - Estrangeira - mercado interno, sem simular, lista CAMEX; 8 - Nacional, Conteúdo de Importação superior a 70 %",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributação pelo ICMS",_doc:"Tributação pelo ICMS  10 - Tributada e com cobrança do ICMS por substituição tributária; 90 - Outros. (CST)",_tipo:"seletor",_enumeration:[{valor:"10",rotulo:"10 - Tributada e com cobrança do ICMS por substituição tributária"},{valor:"90",rotulo:"90 - Outros"}],_valorInic:"10"},modBC:{_titulo:"Modalidade de determinação da BC do ICMS",_doc:"Modalidade de determinação da BC do ICMS:  0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Preço Tabelado Máximo (valor); 3 - Valor da Operação. (modBC)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Preço Tabelado Máximo (valor)"},{valor:"3",rotulo:"3 - Valor da Operação"}],_valorInic:"0"},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pRedBC:{_titulo:"Percentual de redução da BC",_doc:"Percentual de redução da BC (pRedBC) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},pICMS:{_titulo:"Alíquota do ICMS",_doc:"Alíquota do ICMS (pICMS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},modBCST:{_titulo:"Modalidade de determinação da BC do ICMS ST",_doc:"Modalidade de determinação da BC do ICMS ST: 0 - Preço tabelado ou máximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor). (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Preço tabelado ou máximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor)"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redução da BC ICMS ST",_doc:"Percentual de redução da BC ICMS ST (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST",_doc:"Valor da BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Alíquota do ICMS ST",_doc:"Alíquota do ICMS ST (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST",_doc:"Valor do ICMS ST (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pBCOp:{_titulo:"Percentual para determinação do valor  da Base de Cálculo da operação própria.",_doc:"Percentual para determinação do valor  da Base de Cálculo da operação própria. (pBCOp)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},UFST:{_titulo:"Sigla da UF para qual é devido o ICMS ST da operação.",_doc:"Sigla da UF para qual é devido o ICMS ST da operação. (UFST)",_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX"}],_valorInic:"AC"}},ICMSST:{_titulo:"Grupo de informação do ICMSST devido para a UF de destino.",_doc:"Grupo de informação do ICMSST devido para a UF de destino, nas operações interestaduais de produtos que tiveram retenção antecipada de ICMS por ST na UF do remetente. Repasse via Substituto Tributário. (ICMSST)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8; 1 - Estrangeira - Importação direta; 2 - Estrangeira - Adquirida no mercado interno; 3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %; 4 - Nacional, processos produtivos básicos; 5 - Nacional, conteudo inferior 40 %; 6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX; 7 - Estrangeira - mercado interno, sem simular, lista CAMEX; 8 - Nacional, Conteúdo de Importação superior a 70 %",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributção pelo ICMS",_doc:"Tributção pelo ICMS 41-Não Tributado. 60-Cobrado anteriormente por substituição tributária. (CST)",_tipo:"seletor",_enumeration:[{valor:"41",rotulo:"41 - Não Tributado"},{valor:"60",rotulo:"60 - Cobrado anteriormente por substituição tributária"}],_valorInic:"41"},vBCSTRet:{_titulo:"Informar o valor da BC do ICMS ST retido na UF remetente",_doc:"Informar o valor da BC do ICMS ST retido na UF remetente (vBCSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pST:{_titulo:"Aliquota suportada pelo consumidor final.",_doc:"Aliquota suportada pelo consumidor final. (pST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMSSubstituto:{_titulo:"Valor do ICMS Próprio do Substituto cobrado em operação anterior",_doc:"Valor do ICMS Próprio do Substituto cobrado em operação anterior (vICMSSubstituto) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vICMSSTRet:{_titulo:" Informar o valor do ICMS ST retido na UF remetente (iv2.0))",_doc:" Informar o valor do ICMS ST retido na UF remetente (iv2.0)) (vICMSSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPSTRet:{_titulo:"Informar o valor da Base de Cálculo do FCP retido anteriormente por ST.",_doc:"Informar o valor da Base de Cálculo do FCP retido anteriormente por ST. (vBCFCPSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pFCPSTRet:{_titulo:"Percentual relativo ao FCP retido por substituição tributária.",_doc:"Percentual relativo ao Fundo de Combate à Pobreza (FCP) retido por substituição tributária. (pFCPSTRet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vFCPSTRet:{_titulo:"Valor do ICMS relativo ao FCP retido por substituição tributária.",_doc:"Valor do ICMS relativo ao Fundo de Combate à Pobreza (FCP) retido por substituição tributária. (vFCPSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},pRedBCEfet:{_titulo:"Percentual de redução da base de cálculo efetiva.",_doc:"Percentual de redução da base de cálculo efetiva. (pRedBCEfet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vBCEfet:{_titulo:"Valor da base de cálculo efetiva.",_doc:"Valor da base de cálculo efetiva. (vBCEfet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pICMSEfet:{_titulo:"Alíquota do ICMS efetivo.",_doc:"Alíquota do ICMS efetivo. (pICMSEfet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMSEfet:{_titulo:"Valor do ICMS efetivo.",_doc:"Valor do ICMS efetivo. (vICMSEfet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},vBCSTDest:{_titulo:" Informar o valor da BC do ICMS ST da UF destino",_doc:" Informar o valor da BC do ICMS ST da UF destino (vBCSTDest)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vICMSSTDest:{_titulo:"Informar o valor da BC do ICMS ST da UF destino (v2.0)",_doc:"Informar o valor da BC do ICMS ST da UF destino (v2.0) (vICMSSTDest)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},ICMSSN101:{_titulo:"Tributação do ICMS pelo SIMPLES NACIONAL e CSOSN=101 (v.2.0)",_doc:"Tributação do ICMS pelo SIMPLES NACIONAL e CSOSN=101 (v.2.0) (ICMSSN101)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8; 1 - Estrangeira - Importação direta; 2 - Estrangeira - Adquirida no mercado interno; 3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %; 4 - Nacional, processos produtivos básicos; 5 - Nacional, conteudo inferior 40 %; 6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX; 7 - Estrangeira - mercado interno, sem simular, lista CAMEX; 8 - Nacional, Conteúdo de Importação superior a 70 %",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CSOSN:{_titulo:"101- Tributada pelo Simples Nacional com permissão de crédito. (v.2.0)",_doc:"101- Tributada pelo Simples Nacional com permissão de crédito. (v.2.0) (CSOSN)",_tipo:"seletor",_enumeration:[{valor:"101",rotulo:"101 -  Tributada pelo Simples Nacional com permissão de crédito. (v.2.0"}],_valorInic:"101"},pCredSN:{_titulo:"Alíquota aplicável de cálculo do crédito (Simples Nacional). (v2.0)",_doc:"Alíquota aplicável de cálculo do crédito (Simples Nacional). (v2.0) (pCredSN)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vCredICMSSN:{_titulo:"Valor crédito do ICMS que pode ser aproveitado nos termos do art. 23 da LC 123 (Simples Nacional) (v2.0)",_doc:"Valor crédito do ICMS que pode ser aproveitado nos termos do art. 23 da LC 123 (Simples Nacional) (v2.0) (vCredICMSSN)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},ICMSSN102:{_titulo:"Tributação do ICMS pelo SIMPLES NACIONAL e CSOSN=102, 103, 300 ou 400 (v.2.0))",_doc:"Tributação do ICMS pelo SIMPLES NACIONAL e CSOSN=102, 103, 300 ou 400 (v.2.0)) (ICMSSN102)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8; 1 - Estrangeira - Importação direta; 2 - Estrangeira - Adquirida no mercado interno; 3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %; 4 - Nacional, processos produtivos básicos; 5 - Nacional, conteudo inferior 40 %; 6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX; 7 - Estrangeira - mercado interno, sem simular, lista CAMEX; 8 - Nacional, Conteúdo de Importação superior a 70%",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CSOSN:{_titulo:"102- Tributada pelo Simples Nacional sem permissão de crédito",_doc:"102- Tributada pelo Simples Nacional sem permissão de crédito.  103 - Isenção do ICMS  no Simples Nacional para faixa de receita bruta. 300 - Imune. 400 - Não tributda pelo Simples Nacional (v.2.0) (v.2.0) (CSOSN)",_tipo:"seletor",_enumeration:[{valor:"102",rotulo:"102 -  Tributada pelo Simples Nacional sem permissão de crédito"},{valor:"103",rotulo:"103 - Isenção do ICMS  no Simples Nacional para faixa de receita bruta"},{valor:"300",rotulo:"300 - Imune"},{valor:"400",rotulo:"400 - Não tributda pelo Simples Nacional (v.2.0) (v.2.0"}],_valorInic:"102"}},ICMSSN201:{_titulo:"Tributação do ICMS pelo SIMPLES NACIONAL e CSOSN=201 (v.2.0)",_doc:"Tributação do ICMS pelo SIMPLES NACIONAL e CSOSN=201 (v.2.0) (ICMSSN201)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8; 1 - Estrangeira - Importação direta; 2 - Estrangeira - Adquirida no mercado interno; 3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %; 4 - Nacional, processos produtivos básicos; 5 - Nacional, conteudo inferior 40 %; 6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX; 7 - Estrangeira - mercado interno, sem simular, lista CAMEX; 8 - Nacional, Conteúdo de Importação superior a 70%",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CSOSN:{_titulo:"201- Tributada pelo Simples Nacional com permissão de crédito e com cobrança do ICMS por Substituição Tributária (v.2.0)",_doc:"201- Tributada pelo Simples Nacional com permissão de crédito e com cobrança do ICMS por Substituição Tributária (v.2.0) (CSOSN)",_tipo:"seletor",_enumeration:[{valor:"201",rotulo:"201 -  Tributada pelo Simples Nacional com permissão de crédito e com cobrança do ICMS por Substituição Tributária (v.2.0"}],_valorInic:"201"},modBCST:{_titulo:"Modalidade de determinação da BC do ICMS ST",_doc:"Modalidade de determinação da BC do ICMS ST: 0 - Preço tabelado ou máximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor). (v2.0) (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Preço tabelado ou máximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor). (v2.0"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST (v2.0)",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (v2.0) (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redução da BC ICMS ST  (v2.0)",_doc:"Percentual de redução da BC ICMS ST  (v2.0) (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST (v2.0)",_doc:"Valor da BC do ICMS ST (v2.0) (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Alíquota do ICMS ST (v2.0)",_doc:"Alíquota do ICMS ST (v2.0) (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST (v2.0)",_doc:"Valor do ICMS ST (v2.0) (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPST:{_titulo:"Valor da Base de cálculo do FCP.",_doc:"Valor da Base de cálculo do FCP. (vBCFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pFCPST:{_titulo:"Percentual de FCP retido por substituição tributária.",_doc:"Percentual de FCP retido por substituição tributária. (pFCPST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vFCPST:{_titulo:"Valor do FCP retido por substituição tributária.",_doc:"Valor do FCP retido por substituição tributária. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},pCredSN:{_titulo:"Alíquota aplicável de cálculo do crédito (Simples Nacional). (v2.0)",_doc:"Alíquota aplicável de cálculo do crédito (Simples Nacional). (v2.0) (pCredSN)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vCredICMSSN:{_titulo:"Valor crédito do ICMS que pode ser aproveitado nos termos do art. 23 da LC 123 (Simples Nacional) (v2.0)",_doc:"Valor crédito do ICMS que pode ser aproveitado nos termos do art. 23 da LC 123 (Simples Nacional) (v2.0) (vCredICMSSN)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},ICMSSN202:{_titulo:"Tributação do ICMS pelo SIMPLES NACIONAL e CSOSN=202 ou 203 (v.2.0)",_doc:"Tributação do ICMS pelo SIMPLES NACIONAL e CSOSN=202 ou 203 (v.2.0) (ICMSSN202)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8; 1 - Estrangeira - Importação direta; 2 - Estrangeira - Adquirida no mercado interno; 3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %; 4 - Nacional, processos produtivos básicos; 5 - Nacional, conteudo inferior 40 %; 6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX; 7 - Estrangeira - mercado interno, sem simular, lista CAMEX; 8 - Nacional, Conteúdo de Importação superior a 70%",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CSOSN:{_titulo:"202- Tributada pelo Simples Nacional sem permissão de crédito e com cobrança do ICMS por Substituição Tributária; 203-  Isenção do ICMS nos Simples Nacional para faixa de receita bruta e com cobrança do ICMS por Substituição Tributária (v.2.0)",_doc:"202- Tributada pelo Simples Nacional sem permissão de crédito e com cobrança do ICMS por Substituição Tributária; 203-  Isenção do ICMS nos Simples Nacional para faixa de receita bruta e com cobrança do ICMS por Substituição Tributária (v.2.0) (CSOSN)",_tipo:"seletor",_enumeration:[{valor:"202",rotulo:"202 -  Tributada pelo Simples Nacional sem permissão de crédito e com cobrança do ICMS por Substituição Tributária"},{valor:"203",rotulo:"203 -   Isenção do ICMS nos Simples Nacional para faixa de receita bruta e com cobrança do ICMS por Substituição Tributária (v.2.0"}],_valorInic:"202"},modBCST:{_titulo:"Modalidade de determinação da BC do ICMS ST: 0 - Preço tabelado ou máximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor). (v2.0)",_doc:"Modalidade de determinação da BC do ICMS ST: 0 - Preço tabelado ou máximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor). (v2.0) (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Preço tabelado ou máximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor). (v2.0"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST (v2.0)",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (v2.0) (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redução da BC ICMS ST  (v2.0)",_doc:"Percentual de redução da BC ICMS ST  (v2.0) (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST (v2.0)",_doc:"Valor da BC do ICMS ST (v2.0) (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Alíquota do ICMS ST (v2.0)",_doc:"Alíquota do ICMS ST (v2.0) (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST (v2.0)",_doc:"Valor do ICMS ST (v2.0) (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPST:{_titulo:"Valor da Base de cálculo do FCP.",_doc:"Valor da Base de cálculo do FCP. (vBCFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pFCPST:{_titulo:"Percentual de FCP retido por substituição tributária.",_doc:"Percentual de FCP retido por substituição tributária. (pFCPST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vFCPST:{_titulo:"Valor do FCP retido por substituição tributária.",_doc:"Valor do FCP retido por substituição tributária. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}}},ICMSSN500:{_titulo:"Tributação do ICMS pelo SIMPLES NACIONAL",_doc:"Tributação do ICMS pelo SIMPLES NACIONAL,CRT=1 - Simples Nacional e CSOSN=500 (v.2.0) (ICMSSN500)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8; 1 - Estrangeira - Importação direta; 2 - Estrangeira - Adquirida no mercado interno; 3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %; 4 - Nacional, processos produtivos básicos; 5 - Nacional, conteudo inferior 40 %; 6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX; 7 - Estrangeira - mercado interno, sem simular, lista CAMEX; 8 - Nacional, Conteúdo de Importação superior a 70%",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CSOSN:{_titulo:"500 - ICMS cobrado anterirmente por substituição tributária (substituído) ou por antecipação (v.2.0)",_doc:"500 - ICMS cobrado anterirmente por substituição tributária (substituído) ou por antecipação (v.2.0) (CSOSN)",_tipo:"seletor",_enumeration:[{valor:"500",rotulo:"500 - ICMS cobrado anterirmente por substituição tributária (substituído) ou por antecipação (v.2.0"}],_valorInic:"500"},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCSTRet:{_titulo:"Valor da BC do ICMS ST retido anteriormente (v2.0)",_doc:"Valor da BC do ICMS ST retido anteriormente (v2.0) (vBCSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pST:{_titulo:"Aliquota suportada pelo consumidor final.",_doc:"Aliquota suportada pelo consumidor final. (pST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMSSubstituto:{_titulo:"Valor do ICMS próprio do substituto",_doc:"Valor do ICMS próprio do substituto (vICMSSubstituto) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vICMSSTRet:{_titulo:"Valor do ICMS ST retido anteriormente  (v2.0)",_doc:"Valor do ICMS ST retido anteriormente  (v2.0) (vICMSSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPSTRet:{_titulo:"Valor da Base de cálculo do FCP retido anteriormente.",_doc:"Valor da Base de cálculo do FCP retido anteriormente. (vBCFCPSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pFCPSTRet:{_titulo:"Percentual de FCP retido anteriormente por substituição tributária.",_doc:"Percentual de FCP retido anteriormente por substituição tributária. (pFCPSTRet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vFCPSTRet:{_titulo:"Valor do FCP retido por substituição tributária.",_doc:"Valor do FCP retido por substituição tributária. (vFCPSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},opcional3:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},pRedBCEfet:{_titulo:"Percentual de redução da base de cálculo efetiva.",_doc:"Percentual de redução da base de cálculo efetiva. (pRedBCEfet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vBCEfet:{_titulo:"Valor da base de cálculo efetiva.",_doc:"Valor da base de cálculo efetiva. (vBCEfet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pICMSEfet:{_titulo:"Alíquota do ICMS efetiva.",_doc:"Alíquota do ICMS efetiva. (pICMSEfet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMSEfet:{_titulo:"Valor do ICMS efetivo.",_doc:"Valor do ICMS efetivo. (vICMSEfet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}}},ICMSSN900:{_titulo:"Tributação do ICMS pelo SIMPLES NACIONAL, CRT=1 - Simples Nacional e CSOSN=900 (v2.0)",_doc:"Tributação do ICMS pelo SIMPLES NACIONAL, CRT=1 - Simples Nacional e CSOSN=900 (v2.0) (ICMSSN900)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria.",_doc:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8; 1 - Estrangeira - Importação direta; 2 - Estrangeira - Adquirida no mercado interno; 3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %; 4 - Nacional, processos produtivos básicos; 5 - Nacional, conteudo inferior 40 %; 6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX; 7 - Estrangeira - mercado interno, sem simular, lista CAMEX; 8 - Nacional, Conteúdo de Importação superior a 70%",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}],_valorInic:"0"},CSOSN:{_titulo:"Tributação pelo ICMS 900 - Outros(v2.0)",_doc:"Tributação pelo ICMS 900 - Outros(v2.0) (CSOSN)",_tipo:"seletor",_enumeration:[{valor:"900",rotulo:"900 - Outros(v2.0"}],_valorInic:"900"},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},modBC:{_titulo:"Modalidade de determinação da BC do ICMS",_doc:"Modalidade de determinação da BC do ICMS:  0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Preço Tabelado Máximo (valor); 3 - Valor da Operação. (modBC)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Preço Tabelado Máximo (valor)"},{valor:"3",rotulo:"3 - Valor da Operação"}],_valorInic:"0"},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pRedBC:{_titulo:"Percentual de redução da BC",_doc:"Percentual de redução da BC (pRedBC) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},pICMS:{_titulo:"Alíquota do ICMS",_doc:"Alíquota do ICMS (pICMS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},modBCST:{_titulo:"Modalidade de determinação da BC do ICMS ST",_doc:"Modalidade de determinação da BC do ICMS ST: 0 - Preço tabelado ou máximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor). (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Preço tabelado ou máximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor)"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redução da BC ICMS ST",_doc:"Percentual de redução da BC ICMS ST (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST",_doc:"Valor da BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Alíquota do ICMS ST",_doc:"Alíquota do ICMS ST (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST",_doc:"Valor do ICMS ST (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPST:{_titulo:"Valor da Base de cálculo do FCP.",_doc:"Valor da Base de cálculo do FCP. (vBCFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pFCPST:{_titulo:"Percentual de FCP retido por substituição tributária.",_doc:"Percentual de FCP retido por substituição tributária. (pFCPST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"percentagem",_decimals:"4",_valorInic:0},vFCPST:{_titulo:"Valor do FCP retido por substituição tributária.",_doc:"Valor do FCP retido por substituição tributária. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}}},opcional3:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},pCredSN:{_titulo:"Alíquota aplicável de cálculo do crédito (Simples Nacional). (v2.0)",_doc:"Alíquota aplicável de cálculo do crédito (Simples Nacional). (v2.0) (pCredSN)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vCredICMSSN:{_titulo:"Valor crédito do ICMS que pode ser aproveitado nos termos do art. 23 da LC 123 (Simples Nacional) (v2.0)",_doc:"Valor crédito do ICMS que pode ser aproveitado nos termos do art. 23 da LC 123 (Simples Nacional) (v2.0) (vCredICMSSN)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}}}}},IPI:{_titulo:"IPI",_doc:"IPI (Opcional)",_opcional:!0,_type:"TIpi",_tipo:"texto",_valorInic:"",visivel:{_titulo:"IPI",_doc:"IPI (Opcional)",_valorInic:""},CNPJProd:{_titulo:"CNPJ do produtor da mercadoria",_doc:"CNPJ do produtor da mercadoria, quando diferente do emitente. Somente para os casos de exportação direta ou indireta. (CNPJProd) (Opcional)",_opcional:!0,_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},cSelo:{_titulo:"Código do selo de controle do IPI",_doc:"Código do selo de controle do IPI (cSelo) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},qSelo:{_titulo:"Quantidade de selo de controle do IPI",_doc:"Quantidade de selo de controle do IPI (qSelo) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,12}",_tipo:"texto",_valorInic:""},cEnq:{_titulo:"Código de Enquadramento Legal do IPI (tabela a ser criada pela RFB)",_doc:"Código de Enquadramento Legal do IPI (tabela a ser criada pela RFB) (cEnq)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:3,_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},IPITrib:{_titulo:"IPITrib",_doc:"IPITrib",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código da Situação Tributária do IPI",_doc:"Código da Situação Tributária do IPI: 00-Entrada com recuperação de crédito 49 - Outras entradas 50-Saída tributada 99-Outras saídas (CST)",_tipo:"seletor",_enumeration:[{valor:"00",rotulo:"00 - Entrada com recuperação de crédito"},{valor:"49",rotulo:"49 - Outras entradas"},{valor:"50",rotulo:"50 - Saída tributada"},{valor:"99",rotulo:"99 - Outras saídas"}],_valorInic:"00"},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{vBC:{_titulo:"Valor da BC do IPI",_doc:"Valor da BC do IPI (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pIPI:{_titulo:"Alíquota do IPI",_doc:"Alíquota do IPI (pIPI)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0}},opcao2:{qUnid:{_titulo:"Quantidade total na unidade padrão para tributação",_doc:"Quantidade total na unidade padrão para tributação (qUnid)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{1,4})?",_type:"TDec_1204v",_tipo:"decimal",_decimals:"4",_valorInic:0},vUnid:{_titulo:"Valor por Unidade Tributável. Informar o valor do imposto Pauta por unidade de medida.",_doc:"Valor por Unidade Tributável. Informar o valor do imposto Pauta por unidade de medida. (vUnid)",_pattern:"0|0\\.[0-9]{4}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{4})?",_type:"TDec_1104",_tipo:"dinheiro",_decimals:"4",_valorInic:0}}},vIPI:{_titulo:"Valor do IPI",_doc:"Valor do IPI (vIPI)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},IPINT:{_titulo:"IPINT",_doc:"IPINT",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código da Situação Tributária do IPI",_doc:"Código da Situação Tributária do IPI: 01-Entrada tributada com alíquota zero 02-Entrada isenta 03-Entrada não-tributada 04-Entrada imune 05-Entrada com suspensão 51-Saída tributada com alíquota zero 52-Saída isenta 53-Saída não-tributada 54-Saída imune 55-Saída com suspensão (CST)",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 - Entrada tributada com alíquota zero"},{valor:"02",rotulo:"02 - Entrada isenta"},{valor:"03",rotulo:"03 - Entrada não-tributada"},{valor:"04",rotulo:"04 - Entrada imune"},{valor:"05",rotulo:"05 - Entrada com suspensão"},{valor:"51",rotulo:"51 - Saída tributada com alíquota zero"},{valor:"52",rotulo:"52 - Saída isenta"},{valor:"53",rotulo:"53 - Saída não-tributada"},{valor:"54",rotulo:"54 - Saída imune"},{valor:"55",rotulo:"55 - Saída com suspensão"}],_valorInic:"01"}}}},II:{_titulo:"Dados do Imposto de Importação",_doc:"Dados do Imposto de Importação (II) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados do Imposto de Importação",_doc:"Dados do Imposto de Importação (II) (Opcional)",_valorInic:""},vBC:{_titulo:"Base da BC do Imposto de Importação",_doc:"Base da BC do Imposto de Importação (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vDespAdu:{_titulo:"Valor das despesas aduaneiras",_doc:"Valor das despesas aduaneiras (vDespAdu)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vII:{_titulo:"Valor do Imposto de Importação",_doc:"Valor do Imposto de Importação (vII)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vIOF:{_titulo:"Valor do Imposto sobre Operações Financeiras",_doc:"Valor do Imposto sobre Operações Financeiras (vIOF)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}}},opcao2:{IPI:{_titulo:"IPI",_doc:"IPI (Opcional)",_opcional:!0,_type:"TIpi",_tipo:"texto",_valorInic:"",visivel:{_titulo:"IPI",_doc:"IPI (Opcional)",_valorInic:""},CNPJProd:{_titulo:"CNPJ do produtor da mercadoria, quando diferente do emitente",_doc:"CNPJ do produtor da mercadoria, quando diferente do emitente. Somente para os casos de exportação direta ou indireta. (CNPJProd) (Opcional)",_opcional:!0,_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},cSelo:{_titulo:"Código do selo de controle do IPI",_doc:"Código do selo de controle do IPI (cSelo) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},qSelo:{_titulo:"Quantidade de selo de controle do IPI",_doc:"Quantidade de selo de controle do IPI (qSelo) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,12}",_tipo:"texto",_valorInic:""},cEnq:{_titulo:"Código de Enquadramento Legal do IPI",_doc:"Código de Enquadramento Legal do IPI (tabela a ser criada pela RFB) (cEnq)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:3,_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},IPITrib:{_titulo:"IPITrib",_doc:"IPITrib",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código da Situação Tributária do IPI",_doc:"Código da Situação Tributária do IPI: 00-Entrada com recuperação de crédito 49 - Outras entradas 50-Saída tributada 99-Outras saídas (CST)",_tipo:"seletor",_enumeration:[{valor:"00",rotulo:"00 - Entrada com recuperação de crédito"},{valor:"49",rotulo:"49 - Outras entradas"},{valor:"50",rotulo:"50 - Saída tributada"},{valor:"99",rotulo:"99 - Outras saídas"}],_valorInic:"00"},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{vBC:{_titulo:"Valor da BC do IPI",_doc:"Valor da BC do IPI (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pIPI:{_titulo:"Alíquota do IPI",_doc:"Alíquota do IPI (pIPI)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0}},opcao2:{qUnid:{_titulo:"Quantidade total na unidade padrão para tributação",_doc:"Quantidade total na unidade padrão para tributação (qUnid)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{1,4})?",_type:"TDec_1204v",_tipo:"decimal",_decimals:"4",_valorInic:0},vUnid:{_titulo:"Valor por Unidade Tributável",_doc:"Valor por Unidade Tributável. Informar o valor do imposto Pauta por unidade de medida. (vUnid)",_pattern:"0|0\\.[0-9]{4}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{4})?",_type:"TDec_1104",_tipo:"dinheiro",_decimals:"4",_valorInic:0}}},vIPI:{_titulo:"Valor do IPI",_doc:"Valor do IPI (vIPI)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},IPINT:{_titulo:"IPINT",_doc:"IPINT",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código da Situação Tributária do IPI",_doc:"Código da Situação Tributária do IPI: 01-Entrada tributada com alíquota zero 02-Entrada isenta 03-Entrada não-tributada 04-Entrada imune 05-Entrada com suspensão 51-Saída tributada com alíquota zero 52-Saída isenta 53-Saída não-tributada 54-Saída imune 55-Saída com suspensão (CST)",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 - Entrada tributada com alíquota zero"},{valor:"02",rotulo:"02 - Entrada isenta"},{valor:"03",rotulo:"03 - Entrada não-tributada"},{valor:"04",rotulo:"04 - Entrada imune"},{valor:"05",rotulo:"05 - Entrada com suspensão"},{valor:"51",rotulo:"51 - Saída tributada com alíquota zero"},{valor:"52",rotulo:"52 - Saída isenta"},{valor:"53",rotulo:"53 - Saída não-tributada"},{valor:"54",rotulo:"54 - Saída imune"},{valor:"55",rotulo:"55 - Saída com suspensão"}],_valorInic:"01"}}}},ISSQN:{_titulo:"ISSQN",_doc:"ISSQN (ISSQN)",_tipo:"texto",_valorInic:"",vBC:{_titulo:"Valor da BC do ISSQN",_doc:"Valor da BC do ISSQN (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vAliq:{_titulo:"Alíquota do ISSQN",_doc:"Alíquota do ISSQN (vAliq)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"dinheiro",_decimals:"4",_valorInic:0},vISSQN:{_titulo:"Valor da do ISSQN",_doc:"Valor da do ISSQN (vISSQN)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},cMunFG:{_titulo:"Informar o município de ocorrência do fato gerador do ISSQN. ",_doc:"Informar o município de ocorrência do fato gerador do ISSQN. Utilizar a Tabela do IBGE (Anexo VII - Tabela de UF, Município e País). “Atenção, não vincular com os campos B12, C10 ou E10” v2.0 (cMunFG)",_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""},cListServ:{_titulo:"Informar o Item da lista de serviços da LC 116/03 em que se classifica o serviço.",_doc:"Informar o Item da lista de serviços da LC 116/03 em que se classifica o serviço. (cListServ)",_type:"TCListServ",_tipo:"seletor",_enumeration:[{valor:"01.01",rotulo:"01.01"},{valor:"01.02",rotulo:"01.02"},{valor:"01.03",rotulo:"01.03"},{valor:"01.04",rotulo:"01.04"},{valor:"01.05",rotulo:"01.05"},{valor:"01.06",rotulo:"01.06"},{valor:"01.07",rotulo:"01.07"},{valor:"01.08",rotulo:"01.08"},{valor:"01.09",rotulo:"01.09"},{valor:"02.01",rotulo:"02.01"},{valor:"03.02",rotulo:"03.02"},{valor:"03.03",rotulo:"03.03"},{valor:"03.04",rotulo:"03.04"},{valor:"03.05",rotulo:"03.05"},{valor:"04.01",rotulo:"04.01"},{valor:"04.02",rotulo:"04.02"},{valor:"04.03",rotulo:"04.03"},{valor:"04.04",rotulo:"04.04"},{valor:"04.05",rotulo:"04.05"},{valor:"04.06",rotulo:"04.06"},{valor:"04.07",rotulo:"04.07"},{valor:"04.08",rotulo:"04.08"},{valor:"04.09",rotulo:"04.09"},{valor:"04.10",rotulo:"04.10"},{valor:"04.11",rotulo:"04.11"},{valor:"04.12",rotulo:"04.12"},{valor:"04.13",rotulo:"04.13"},{valor:"04.14",rotulo:"04.14"},{valor:"04.15",rotulo:"04.15"},{valor:"04.16",rotulo:"04.16"},{valor:"04.17",rotulo:"04.17"},{valor:"04.18",rotulo:"04.18"},{valor:"04.19",rotulo:"04.19"},{valor:"04.20",rotulo:"04.20"},{valor:"04.21",rotulo:"04.21"},{valor:"04.22",rotulo:"04.22"},{valor:"04.23",rotulo:"04.23"},{valor:"05.01",rotulo:"05.01"},{valor:"05.02",rotulo:"05.02"},{valor:"05.03",rotulo:"05.03"},{valor:"05.04",rotulo:"05.04"},{valor:"05.05",rotulo:"05.05"},{valor:"05.06",rotulo:"05.06"},{valor:"05.07",rotulo:"05.07"},{valor:"05.08",rotulo:"05.08"},{valor:"05.09",rotulo:"05.09"},{valor:"06.01",rotulo:"06.01"},{valor:"06.02",rotulo:"06.02"},{valor:"06.03",rotulo:"06.03"},{valor:"06.04",rotulo:"06.04"},{valor:"06.05",rotulo:"06.05"},{valor:"06.06",rotulo:"06.06"},{valor:"07.01",rotulo:"07.01"},{valor:"07.02",rotulo:"07.02"},{valor:"07.03",rotulo:"07.03"},{valor:"07.04",rotulo:"07.04"},{valor:"07.05",rotulo:"07.05"},{valor:"07.06",rotulo:"07.06"},{valor:"07.07",rotulo:"07.07"},{valor:"07.08",rotulo:"07.08"},{valor:"07.09",rotulo:"07.09"},{valor:"07.10",rotulo:"07.10"},{valor:"07.11",rotulo:"07.11"},{valor:"07.12",rotulo:"07.12"},{valor:"07.13",rotulo:"07.13"},{valor:"07.16",rotulo:"07.16"},{valor:"07.17",rotulo:"07.17"},{valor:"07.18",rotulo:"07.18"},{valor:"07.19",rotulo:"07.19"},{valor:"07.20",rotulo:"07.20"},{valor:"07.21",rotulo:"07.21"},{valor:"07.22",rotulo:"07.22"},{valor:"08.01",rotulo:"08.01"},{valor:"08.02",rotulo:"08.02"},{valor:"09.01",rotulo:"09.01"},{valor:"09.02",rotulo:"09.02"},{valor:"09.03",rotulo:"09.03"},{valor:"10.01",rotulo:"10.01"},{valor:"10.02",rotulo:"10.02"},{valor:"10.03",rotulo:"10.03"},{valor:"10.04",rotulo:"10.04"},{valor:"10.05",rotulo:"10.05"},{valor:"10.06",rotulo:"10.06"},{valor:"10.07",rotulo:"10.07"},{valor:"10.08",rotulo:"10.08"},{valor:"10.09",rotulo:"10.09"},{valor:"10.10",rotulo:"10.10"},{valor:"11.01",rotulo:"11.01"},{valor:"11.02",rotulo:"11.02"},{valor:"11.03",rotulo:"11.03"},{valor:"11.04",rotulo:"11.04"},{valor:"12.01",rotulo:"12.01"},{valor:"12.02",rotulo:"12.02"},{valor:"12.03",rotulo:"12.03"},{valor:"12.04",rotulo:"12.04"},{valor:"12.05",rotulo:"12.05"},{valor:"12.06",rotulo:"12.06"},{valor:"12.07",rotulo:"12.07"},{valor:"12.08",rotulo:"12.08"},{valor:"12.09",rotulo:"12.09"},{valor:"12.10",rotulo:"12.10"},{valor:"12.11",rotulo:"12.11"},{valor:"12.12",rotulo:"12.12"},{valor:"12.13",rotulo:"12.13"},{valor:"12.14",rotulo:"12.14"},{valor:"12.15",rotulo:"12.15"},{valor:"12.16",rotulo:"12.16"},{valor:"12.17",rotulo:"12.17"},{valor:"13.02",rotulo:"13.02"},{valor:"13.03",rotulo:"13.03"},{valor:"13.04",rotulo:"13.04"},{valor:"13.05",rotulo:"13.05"},{valor:"14.01",rotulo:"14.01"},{valor:"14.02",rotulo:"14.02"},{valor:"14.03",rotulo:"14.03"},{valor:"14.04",rotulo:"14.04"},{valor:"14.05",rotulo:"14.05"},{valor:"14.06",rotulo:"14.06"},{valor:"14.07",rotulo:"14.07"},{valor:"14.08",rotulo:"14.08"},{valor:"14.09",rotulo:"14.09"},{valor:"14.10",rotulo:"14.10"},{valor:"14.11",rotulo:"14.11"},{valor:"14.12",rotulo:"14.12"},{valor:"14.13",rotulo:"14.13"},{valor:"14.14",rotulo:"14.14"},{valor:"15.01",rotulo:"15.01"},{valor:"15.02",rotulo:"15.02"},{valor:"15.03",rotulo:"15.03"},{valor:"15.04",rotulo:"15.04"},{valor:"15.05",rotulo:"15.05"},{valor:"15.06",rotulo:"15.06"},{valor:"15.07",rotulo:"15.07"},{valor:"15.08",rotulo:"15.08"},{valor:"15.09",rotulo:"15.09"},{valor:"15.10",rotulo:"15.10"},{valor:"15.11",rotulo:"15.11"},{valor:"15.12",rotulo:"15.12"},{valor:"15.13",rotulo:"15.13"},{valor:"15.14",rotulo:"15.14"},{valor:"15.15",rotulo:"15.15"},{valor:"15.16",rotulo:"15.16"},{valor:"15.17",rotulo:"15.17"},{valor:"15.18",rotulo:"15.18"},{valor:"16.01",rotulo:"16.01"},{valor:"16.02",rotulo:"16.02"},{valor:"17.01",rotulo:"17.01"},{valor:"17.02",rotulo:"17.02"},{valor:"17.03",rotulo:"17.03"},{valor:"17.04",rotulo:"17.04"},{valor:"17.05",rotulo:"17.05"},{valor:"17.06",rotulo:"17.06"},{valor:"17.08",rotulo:"17.08"},{valor:"17.09",rotulo:"17.09"},{valor:"17.10",rotulo:"17.10"},{valor:"17.11",rotulo:"17.11"},{valor:"17.12",rotulo:"17.12"},{valor:"17.13",rotulo:"17.13"},{valor:"17.14",rotulo:"17.14"},{valor:"17.15",rotulo:"17.15"},{valor:"17.16",rotulo:"17.16"},{valor:"17.17",rotulo:"17.17"},{valor:"17.18",rotulo:"17.18"},{valor:"17.19",rotulo:"17.19"},{valor:"17.20",rotulo:"17.20"},{valor:"17.21",rotulo:"17.21"},{valor:"17.22",rotulo:"17.22"},{valor:"17.23",rotulo:"17.23"},{valor:"17.24",rotulo:"17.24"},{valor:"17.25",rotulo:"17.25"},{valor:"18.01",rotulo:"18.01"},{valor:"19.01",rotulo:"19.01"},{valor:"20.01",rotulo:"20.01"},{valor:"20.02",rotulo:"20.02"},{valor:"20.03",rotulo:"20.03"},{valor:"21.01",rotulo:"21.01"},{valor:"22.01",rotulo:"22.01"},{valor:"23.01",rotulo:"23.01"},{valor:"24.01",rotulo:"24.01"},{valor:"25.01",rotulo:"25.01"},{valor:"25.02",rotulo:"25.02"},{valor:"25.03",rotulo:"25.03"},{valor:"25.04",rotulo:"25.04"},{valor:"25.05",rotulo:"25.05"},{valor:"26.01",rotulo:"26.01"},{valor:"27.01",rotulo:"27.01"},{valor:"28.01",rotulo:"28.01"},{valor:"29.01",rotulo:"29.01"},{valor:"30.01",rotulo:"30.01"},{valor:"31.01",rotulo:"31.01"},{valor:"32.01",rotulo:"32.01"},{valor:"33.01",rotulo:"33.01"},{valor:"34.01",rotulo:"34.01"},{valor:"35.01",rotulo:"35.01"},{valor:"36.01",rotulo:"36.01"},{valor:"37.01",rotulo:"37.01"},{valor:"38.01",rotulo:"38.01"},{valor:"39.01",rotulo:"39.01"},{valor:"40.01",rotulo:"40.01"}],_valorInic:"01.01"},vDeducao:{_titulo:"Valor dedução para redução da base de cálculo",_doc:"Valor dedução para redução da base de cálculo (vDeducao) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vOutro:{_titulo:"Valor outras retenções",_doc:"Valor outras retenções (vOutro) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vDescIncond:{_titulo:"Valor desconto incondicionado",_doc:"Valor desconto incondicionado (vDescIncond) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vDescCond:{_titulo:"Valor desconto condicionado",_doc:"Valor desconto condicionado (vDescCond) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vISSRet:{_titulo:"Valor Retenção ISS",_doc:"Valor Retenção ISS (vISSRet) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},indISS:{_titulo:"Exibilidade do ISS:1-Exigível;2-Não incidente;3-Isenção;4-Exportação;5-Imunidade;6-Exig.Susp. Judicial;7-Exig.Susp. ADM",_doc:"Exibilidade do ISS:1-Exigível;2-Não incidente;3-Isenção;4-Exportação;5-Imunidade;6-Exig.Susp. Judicial;7-Exig.Susp. ADM (indISS)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Exigível"},{valor:"2",rotulo:"2 - Não incidente"},{valor:"3",rotulo:"3 - Isenção"},{valor:"4",rotulo:"4 - Exportação"},{valor:"5",rotulo:"5 - Imunidade"},{valor:"6",rotulo:"6 - Exig.Susp. Judicial"},{valor:"7",rotulo:"7 - Exig.Susp. ADM"}],_valorInic:"1"},cServico:{_titulo:"Código do serviço prestado dentro do município",_doc:"Código do serviço prestado dentro do município (cServico) (Opcional)",_opcional:!0,_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""},cMun:{_titulo:"Código do Município de Incidência do Imposto",_doc:"Código do Município de Incidência do Imposto (cMun) (Opcional)",_opcional:!0,_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""},cPais:{_titulo:"Código de Pais",_doc:"Código de Pais (cPais) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,4}",_tipo:"texto",_valorInic:""},nProcesso:{_titulo:"Número do Processo administrativo ou judicial de suspenção do processo",_doc:"Número do Processo administrativo ou judicial de suspenção do processo (nProcesso) (Opcional)",_opcional:!0,_tipo:"texto",_minLength:1,_maxLength:30,_valorInic:""},indIncentivo:{_titulo:"Indicador de Incentivo Fiscal. 1=Sim; 2=Não",_doc:"Indicador de Incentivo Fiscal. 1=Sim; 2=Não (indIncentivo)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Sim"},{valor:"2",rotulo:"2 - Não"}],_valorInic:"1"}}}},PIS:{_titulo:"Dados do PIS",_doc:"Dados do PIS (PIS) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",escolhas:{_titulo:"Dados do PIS",_doc:"Dados do PIS (PIS) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"Dados do PIS",_doc:"Dados do PIS (PIS) (Opcional)",_valorInic:""},PISAliq:{_titulo:"Código de Situação Tributária do PIS",_doc:"Código de Situação Tributária do PIS.  01 - Operação Tributável - Base de Cálculo = Valor da Operação Alíquota Normal (Cumulativo/Não Cumulativo); 02 - Operação Tributável - Base de Calculo = Valor da Operação (Alíquota Diferenciada); (PISAliq)",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código de Situação Tributária do PIS",_doc:"Código de Situação Tributária do PIS.  01 - Operação Tributável - Base de Cálculo = Valor da Operação Alíquota Normal (Cumulativo/Não Cumulativo); 02 - Operação Tributável - Base de Calculo = Valor da Operação (Alíquota Diferenciada); (CST)",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 - Operação Tributável - Base de Cálculo = Valor da Operação Alíquota Normal (Cumulativo/Não Cumulativo)"},{valor:"02",rotulo:"02 - Operação Tributável - Base de Calculo = Valor da Operação (Alíquota Diferenciada)"}],_valorInic:"01"},vBC:{_titulo:"Valor da BC do PIS",_doc:"Valor da BC do PIS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pPIS:{_titulo:"Alíquota do PIS (em percentual)",_doc:"Alíquota do PIS (em percentual) (pPIS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vPIS:{_titulo:"Valor do PIS",_doc:"Valor do PIS (vPIS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},PISQtde:{_titulo:"Código de Situação Tributária do PIS",_doc:"Código de Situação Tributária do PIS. 03 - Operação Tributável - Base de Calculo = Quantidade Vendida x Alíquota por Unidade de Produto; (PISQtde)",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código de Situação Tributária do PIS",_doc:"Código de Situação Tributária do PIS. 03 - Operação Tributável - Base de Calculo = Quantidade Vendida x Alíquota por Unidade de Produto; (CST)",_tipo:"seletor",_enumeration:[{valor:"03",rotulo:"03 - Operação Tributável - Base de Calculo = Quantidade Vendida x Alíquota por Unidade de Produto"}],_valorInic:"03"},qBCProd:{_titulo:"Quantidade Vendida  (NT2011/004)",_doc:"Quantidade Vendida  (NT2011/004) (qBCProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{1,4})?",_type:"TDec_1204v",_tipo:"decimal",_decimals:"4",_valorInic:0},vAliqProd:{_titulo:"Alíquota do PIS (em reais) (NT2011/004)",_doc:"Alíquota do PIS (em reais) (NT2011/004) (vAliqProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,4})?",_type:"TDec_1104v",_tipo:"dinheiro",_decimals:"4",_valorInic:0},vPIS:{_titulo:"Valor do PIS",_doc:"Valor do PIS (vPIS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},PISNT:{_titulo:"Código de Situação Tributária do PIS",_doc:"Código de Situação Tributária do PIS. 04 - Operação Tributável - Tributação Monofásica - (Alíquota Zero); 06 - Operação Tributável - Alíquota Zero; 07 - Operação Isenta da contribuição; 08 - Operação Sem Incidência da contribuição; 09 - Operação com suspensão da contribuição; (PISNT)",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código de Situação Tributária do PIS",_doc:"Código de Situação Tributária do PIS. 04 - Operação Tributável - Tributação Monofásica - (Alíquota Zero); 05 - Operação Tributável (ST); 06 - Operação Tributável - Alíquota Zero; 07 - Operação Isenta da contribuição; 08 - Operação Sem Incidência da contribuição; 09 - Operação com suspensão da contribuição; (CST)",_tipo:"seletor",_enumeration:[{valor:"04",rotulo:"04 - Operação Tributável - Tributação Monofásica - (Alíquota Zero)"},{valor:"05",rotulo:"05 - Operação Tributável (ST)"},{valor:"06",rotulo:"06 - Operação Tributável - Alíquota Zero"},{valor:"07",rotulo:"07 - Operação Isenta da contribuição"},{valor:"08",rotulo:"08 - Operação Sem Incidência da contribuição"},{valor:"09",rotulo:"09 - Operação com suspensão da contribuição"}],_valorInic:"04"}},PISOutr:{_titulo:"Código de Situação Tributária do PIS",_doc:"Código de Situação Tributária do PIS. 99 - Outras Operações. (PISOutr)",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código de Situação Tributária do PIS",_doc:"Código de Situação Tributária do PIS. 99 - Outras Operações. (CST)",_tipo:"seletor",_enumeration:[{valor:"49",rotulo:"49"},{valor:"50",rotulo:"50"},{valor:"51",rotulo:"51"},{valor:"52",rotulo:"52"},{valor:"53",rotulo:"53"},{valor:"54",rotulo:"54"},{valor:"55",rotulo:"55"},{valor:"56",rotulo:"56"},{valor:"60",rotulo:"60"},{valor:"61",rotulo:"61"},{valor:"62",rotulo:"62"},{valor:"63",rotulo:"63"},{valor:"64",rotulo:"64"},{valor:"65",rotulo:"65"},{valor:"66",rotulo:"66"},{valor:"67",rotulo:"67"},{valor:"70",rotulo:"70"},{valor:"71",rotulo:"71"},{valor:"72",rotulo:"72"},{valor:"73",rotulo:"73"},{valor:"74",rotulo:"74"},{valor:"75",rotulo:"75"},{valor:"98",rotulo:"98"},{valor:"99",rotulo:"99 - Outras Operações"}],_valorInic:"49"},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{vBC:{_titulo:"Valor da BC do PIS",_doc:"Valor da BC do PIS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pPIS:{_titulo:"Alíquota do PIS (em percentual)",_doc:"Alíquota do PIS (em percentual) (pPIS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0}},opcao2:{qBCProd:{_titulo:"Quantidade Vendida (NT2011/004)",_doc:"Quantidade Vendida (NT2011/004) (qBCProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{1,4})?",_type:"TDec_1204v",_tipo:"decimal",_decimals:"4",_valorInic:0},vAliqProd:{_titulo:"Alíquota do PIS (em reais) (NT2011/004)",_doc:"Alíquota do PIS (em reais) (NT2011/004) (vAliqProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,4})?",_type:"TDec_1104v",_tipo:"dinheiro",_decimals:"4",_valorInic:0}}},vPIS:{_titulo:"Valor do PIS",_doc:"Valor do PIS (vPIS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}}}},PISST:{_titulo:"Dados do PIS Substituição Tributária",_doc:"Dados do PIS Substituição Tributária (PISST) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados do PIS Substituição Tributária",_doc:"Dados do PIS Substituição Tributária (PISST) (Opcional)",_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{vBC:{_titulo:"Valor da BC do PIS ST",_doc:"Valor da BC do PIS ST (vBC)",_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pPIS:{_titulo:"Alíquota do PIS ST (em percentual)",_doc:"Alíquota do PIS ST (em percentual) (pPIS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0}},opcao2:{qBCProd:{_titulo:"Quantidade Vendida",_doc:"Quantidade Vendida (qBCProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{4})?",_type:"TDec_1204",_tipo:"decimal",_decimals:"4",_valorInic:0},vAliqProd:{_titulo:"Alíquota do PIS ST (em reais)",_doc:"Alíquota do PIS ST (em reais) (vAliqProd)",_pattern:"0|0\\.[0-9]{4}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{4})?",_type:"TDec_1104",_tipo:"dinheiro",_decimals:"4",_valorInic:0}}},vPIS:{_titulo:"Valor do PIS ST",_doc:"Valor do PIS ST (vPIS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},COFINS:{_titulo:"Dados do COFINS",_doc:"Dados do COFINS (COFINS) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",escolhas:{_titulo:"Dados do COFINS",_doc:"Dados do COFINS (COFINS) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"Dados do COFINS",_doc:"Dados do COFINS (COFINS) (Opcional)",_valorInic:""},COFINSAliq:{_titulo:"Código de Situação Tributária do COFINS.  01 - Operação Tributável - Base de Cálculo = Valor da Operação Alíquota Normal (Cumulativo/Não Cumulativo); 02 - Operação Tributável - Base de Calculo = Valor da Operação (Alíquota Diferenciada);",_doc:"Código de Situação Tributária do COFINS.  01 - Operação Tributável - Base de Cálculo = Valor da Operação Alíquota Normal (Cumulativo/Não Cumulativo); 02 - Operação Tributável - Base de Calculo = Valor da Operação (Alíquota Diferenciada); (COFINSAliq)",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código de Situação Tributária do COFINS",_doc:"Código de Situação Tributária do COFINS.  01 - Operação Tributável - Base de Cálculo = Valor da Operação Alíquota Normal (Cumulativo/Não Cumulativo); 02 - Operação Tributável - Base de Calculo = Valor da Operação (Alíquota Diferenciada); (CST)",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 - Operação Tributável - Base de Cálculo = Valor da Operação Alíquota Normal (Cumulativo/Não Cumulativo)"},{valor:"02",rotulo:"02 - Operação Tributável - Base de Calculo = Valor da Operação (Alíquota Diferenciada)"}],_valorInic:"01"},vBC:{_titulo:"Valor da BC do COFINS",_doc:"Valor da BC do COFINS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pCOFINS:{_titulo:"Alíquota do COFINS (em percentual)",_doc:"Alíquota do COFINS (em percentual) (pCOFINS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vCOFINS:{_titulo:"Valor do COFINS",_doc:"Valor do COFINS (vCOFINS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},COFINSQtde:{_titulo:"Código de Situação Tributária do COFINS",_doc:"Código de Situação Tributária do COFINS. 03 - Operação Tributável - Base de Calculo = Quantidade Vendida x Alíquota por Unidade de Produto; (COFINSQtde)",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código de Situação Tributária do COFINS. 03 - Operação Tributável - Base de Calculo = Quantidade Vendida x Alíquota por Unidade de Produto;",_doc:"Código de Situação Tributária do COFINS. 03 - Operação Tributável - Base de Calculo = Quantidade Vendida x Alíquota por Unidade de Produto; (CST)",_tipo:"seletor",_enumeration:[{valor:"03",rotulo:"03 - Operação Tributável - Base de Calculo = Quantidade Vendida x Alíquota por Unidade de Produto"}],_valorInic:"03"},qBCProd:{_titulo:"Quantidade Vendida (NT2011/004)",_doc:"Quantidade Vendida (NT2011/004) (qBCProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{1,4})?",_type:"TDec_1204v",_tipo:"decimal",_decimals:"4",_valorInic:0},vAliqProd:{_titulo:"Alíquota do COFINS (em reais) (NT2011/004)",_doc:"Alíquota do COFINS (em reais) (NT2011/004) (vAliqProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,4})?",_type:"TDec_1104v",_tipo:"dinheiro",_decimals:"4",_valorInic:0},vCOFINS:{_titulo:"Valor do COFINS",_doc:"Valor do COFINS (vCOFINS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},COFINSNT:{_titulo:"Código de Situação Tributária do COFINS",_doc:"Código de Situação Tributária do COFINS: 04 - Operação Tributável - Tributação Monofásica - (Alíquota Zero); 06 - Operação Tributável - Alíquota Zero; 07 - Operação Isenta da contribuição; 08 - Operação Sem Incidência da contribuição; 09 - Operação com suspensão da contribuição; (COFINSNT)",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código de Situação Tributária do COFINS",_doc:"Código de Situação Tributária do COFINS: 04 - Operação Tributável - Tributação Monofásica - (Alíquota Zero); 05 - Operação Tributável (ST); 06 - Operação Tributável - Alíquota Zero; 07 - Operação Isenta da contribuição; 08 - Operação Sem Incidência da contribuição; 09 - Operação com suspensão da contribuição; (CST)",_tipo:"seletor",_enumeration:[{valor:"04",rotulo:"04 - Operação Tributável - Tributação Monofásica - (Alíquota Zero)"},{valor:"05",rotulo:"05 - Operação Tributável (ST)"},{valor:"06",rotulo:"06 - Operação Tributável - Alíquota Zero"},{valor:"07",rotulo:"07 - Operação Isenta da contribuição"},{valor:"08",rotulo:"08 - Operação Sem Incidência da contribuição"},{valor:"09",rotulo:"09 - Operação com suspensão da contribuição"}],_valorInic:"04"}},COFINSOutr:{_titulo:"Código de Situação Tributária do COFINS",_doc:"Código de Situação Tributária do COFINS: 49 - Outras Operações de Saída 50 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Tributada no Mercado Interno 51 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Não Tributada no Mercado Interno 52 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita de Exportação 53 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno 54 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas no Mercado Interno e de Exportação 55 - Operação com Direito a Crédito - Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação 56 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação 60 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Tributada no Mercado Interno 61 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Não-Tributada no Mercado Interno 62 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita de Exportação 63 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno 64 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas no Mercado Interno e de Exportação 65 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação 66 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação 67 - Crédito Presumido - Outras Operações 70 - Operação de Aquisição sem Direito a Crédito 71 - Operação de Aquisição com Isenção 72 - Operação de Aquisição com Suspensão 73 - Operação de Aquisição a Alíquota Zero 74 - Operação de Aquisição sem Incidência da Contribuição 75 - Operação de Aquisição por Substituição Tributária 98 - Outras Operações de Entrada 99 - Outras Operações. (COFINSOutr)",_tipo:"texto",_valorInic:"",CST:{_titulo:"Código de Situação Tributária do COFINS",_doc:"Código de Situação Tributária do COFINS: 49 - Outras Operações de Saída 50 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Tributada no Mercado Interno 51 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Não Tributada no Mercado Interno 52 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita de Exportação 53 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno 54 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas no Mercado Interno e de Exportação 55 - Operação com Direito a Crédito - Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação 56 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação 60 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Tributada no Mercado Interno 61 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Não-Tributada no Mercado Interno 62 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita de Exportação 63 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno 64 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas no Mercado Interno e de Exportação 65 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação 66 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação 67 - Crédito Presumido - Outras Operações 70 - Operação de Aquisição sem Direito a Crédito 71 - Operação de Aquisição com Isenção 72 - Operação de Aquisição com Suspensão 73 - Operação de Aquisição a Alíquota Zero 74 - Operação de Aquisição sem Incidência da Contribuição 75 - Operação de Aquisição por Substituição Tributária 98 - Outras Operações de Entrada 99 - Outras Operações. (CST)",_tipo:"seletor",_enumeration:[{valor:"49",rotulo:"49 - Outras Operações de Saída"},{valor:"50",rotulo:"50 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Tributada no Mercado Interno"},{valor:"51",rotulo:"51 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Não Tributada no Mercado Interno"},{valor:"52",rotulo:"52 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita de Exportação"},{valor:"53",rotulo:"53 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno"},{valor:"54",rotulo:"54 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas no Mercado Interno e de Exportação"},{valor:"55",rotulo:"55 - Operação com Direito a Crédito - Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação"},{valor:"56",rotulo:"56 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação"},{valor:"60",rotulo:"60 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Tributada no Mercado Interno"},{valor:"61",rotulo:"61 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Não-Tributada no Mercado Interno"},{valor:"62",rotulo:"62 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita de Exportação"},{valor:"63",rotulo:"63 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno"},{valor:"64",rotulo:"64 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas no Mercado Interno e de Exportação"},{valor:"65",rotulo:"65 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação"},{valor:"66",rotulo:"66 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação"},{valor:"67",rotulo:"67 - Crédito Presumido - Outras Operações"},{valor:"70",rotulo:"70 - Operação de Aquisição sem Direito a Crédito"},{valor:"71",rotulo:"71 - Operação de Aquisição com Isenção"},{valor:"72",rotulo:"72 - Operação de Aquisição com Suspensão"},{valor:"73",rotulo:"73 - Operação de Aquisição a Alíquota Zero"},{valor:"74",rotulo:"74 - Operação de Aquisição sem Incidência da Contribuição"},{valor:"75",rotulo:"75 - Operação de Aquisição por Substituição Tributária"},{valor:"98",rotulo:"98 - Outras Operações de Entrada"},{valor:"99",rotulo:"99 - Outras Operações"}],_valorInic:"49"},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{vBC:{_titulo:"Valor da BC do COFINS",_doc:"Valor da BC do COFINS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pCOFINS:{_titulo:"Alíquota do COFINS (em percentual)",_doc:"Alíquota do COFINS (em percentual) (pCOFINS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0}},opcao2:{qBCProd:{_titulo:"Quantidade Vendida (NT2011/004)",_doc:"Quantidade Vendida (NT2011/004) (qBCProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{1,4})?",_type:"TDec_1204v",_tipo:"decimal",_decimals:"4",_valorInic:0},vAliqProd:{_titulo:"Alíquota do COFINS (em reais) (NT2011/004)",_doc:"Alíquota do COFINS (em reais) (NT2011/004) (vAliqProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,4})?",_type:"TDec_1104v",_tipo:"dinheiro",_decimals:"4",_valorInic:0}}},vCOFINS:{_titulo:"Valor do COFINS",_doc:"Valor do COFINS (vCOFINS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}}}},COFINSST:{_titulo:"Dados do COFINS da Substituição Tributaria;",_doc:"Dados do COFINS da Substituição Tributaria; (COFINSST) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados do COFINS da Substituição Tributaria;",_doc:"Dados do COFINS da Substituição Tributaria; (COFINSST) (Opcional)",_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{vBC:{_titulo:"Valor da BC do COFINS ST",_doc:"Valor da BC do COFINS ST (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pCOFINS:{_titulo:"Alíquota do COFINS ST(em percentual)",_doc:"Alíquota do COFINS ST(em percentual) (pCOFINS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0}},opcao2:{qBCProd:{_titulo:"Quantidade Vendida",_doc:"Quantidade Vendida (qBCProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{4})?",_type:"TDec_1204",_tipo:"decimal",_decimals:"4",_valorInic:0},vAliqProd:{_titulo:"Alíquota do COFINS ST(em reais)",_doc:"Alíquota do COFINS ST(em reais) (vAliqProd)",_pattern:"0|0\\.[0-9]{4}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{4})?",_type:"TDec_1104",_tipo:"dinheiro",_decimals:"4",_valorInic:0}}},vCOFINS:{_titulo:"Valor do COFINS ST",_doc:"Valor do COFINS ST (vCOFINS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},ICMSUFDest:{_titulo:"Grupo a ser informado nas vendas interestarduais para consumidor final, não contribuinte de ICMS",_doc:"Grupo a ser informado nas vendas interestarduais para consumidor final, não contribuinte de ICMS (ICMSUFDest) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo a ser informado nas vendas interestarduais para consumidor final, não contribuinte de ICMS",_doc:"Grupo a ser informado nas vendas interestarduais para consumidor final, não contribuinte de ICMS (ICMSUFDest) (Opcional)",_valorInic:""},vBCUFDest:{_titulo:"Valor da Base de Cálculo do ICMS na UF do destinatário.",_doc:"Valor da Base de Cálculo do ICMS na UF do destinatário. (vBCUFDest)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vBCFCPUFDest:{_titulo:"Valor da Base de Cálculo do FCP na UF do destinatário.",_doc:"Valor da Base de Cálculo do FCP na UF do destinatário. (vBCFCPUFDest) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pFCPUFDest:{_titulo:"Percentual adicional inserido na alíquota interna da UF de destino, relativo ao FCP naquela UF.",_doc:"Percentual adicional inserido na alíquota interna da UF de destino, relativo ao Fundo de Combate à Pobreza (FCP) naquela UF. (pFCPUFDest) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},pICMSUFDest:{_titulo:"Alíquota adotada nas operações internas na UF do destinatário para o produto / mercadoria.",_doc:"Alíquota adotada nas operações internas na UF do destinatário para o produto / mercadoria. (pICMSUFDest)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},pICMSInter:{_titulo:"Alíquota interestadual das UF envolvidas",_doc:"Alíquota interestadual das UF envolvidas: - 4% alíquota interestadual para produtos importados; - 7% para os Estados de origem do Sul e Sudeste (exceto ES), destinado para os Estados do Norte e Nordeste  ou ES; - 12% para os demais casos. (pICMSInter)",_tipo:"seletor",_enumeration:[{valor:"4.00",rotulo:"4.00"},{valor:"7.00",rotulo:"7.00"},{valor:"12.00",rotulo:"12.00"}],_valorInic:"4.00"},pICMSInterPart:{_titulo:"Percentual de partilha para a UF do destinatário",_doc:"Percentual de partilha para a UF do destinatário: - 40% em 2016; - 60% em 2017; - 80% em 2018; - 100% a partir de 2019. (pICMSInterPart)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vFCPUFDest:{_titulo:"Valor do ICMS relativo ao FCP da UF de destino.",_doc:"Valor do ICMS relativo ao Fundo de Combate à Pobreza (FCP) da UF de destino. (vFCPUFDest) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vICMSUFDest:{_titulo:"Valor do ICMS de partilha para a UF do destinatário.",_doc:"Valor do ICMS de partilha para a UF do destinatário. (vICMSUFDest)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vICMSUFRemet:{_titulo:"Valor do ICMS de partilha para a UF do remetente",_doc:"Valor do ICMS de partilha para a UF do remetente. Nota: A partir de 2019, este valor será zero. (vICMSUFRemet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}}},impostoDevol:{_titulo:"impostoDevol",_doc:"impostoDevol (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"impostoDevol",_doc:"impostoDevol (Opcional)",_valorInic:""},pDevol:{_titulo:"Percentual de mercadoria devolvida",_doc:"Percentual de mercadoria devolvida (pDevol)",_pattern:"0(\\.[0-9]{2})?|100(\\.00)?|[1-9]{1}[0-9]{0,1}(\\.[0-9]{2})?",_type:"TDec_0302Max100",_tipo:"percentagem",_decimals:"2",_valorInic:0},IPI:{_titulo:"Informação de IPI devolvido",_doc:"Informação de IPI devolvido (IPI)",_tipo:"texto",_valorInic:"",vIPIDevol:{_titulo:"Valor do IPI devolvido",_doc:"Valor do IPI devolvido (vIPIDevol)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}}},infAdProd:{_titulo:"Informações adicionais do produto (norma referenciada, informações complementares, etc)",_doc:"Informações adicionais do produto (norma referenciada, informações complementares, etc) (infAdProd) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:500,_valorInic:""}}},total:{_titulo:"Dados dos totais da NF-e",_doc:"Dados dos totais da NF-e (total)",_tipo:"texto",_valorInic:"",ICMSTot:{_titulo:"Totais referentes ao ICMS",_doc:"Totais referentes ao ICMS (ICMSTot)",_tipo:"texto",_valorInic:"",vBC:{_titulo:"BC do ICMS",_doc:"BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vICMS:{_titulo:"Valor Total do ICMS",_doc:"Valor Total do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vICMSDeson:{_titulo:"Valor Total do ICMS desonerado",_doc:"Valor Total do ICMS desonerado (vICMSDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vFCPUFDest:{_titulo:"Valor total do ICMS relativo ao FCP para a UF de destino.",_doc:"Valor total do ICMS relativo ao Fundo de Combate à Pobreza (FCP) para a UF de destino. (vFCPUFDest) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vICMSUFDest:{_titulo:"Valor total do ICMS de partilha para a UF do destinatário",_doc:"Valor total do ICMS de partilha para a UF do destinatário (vICMSUFDest) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vICMSUFRemet:{_titulo:"Valor total do ICMS de partilha para a UF do remetente",_doc:"Valor total do ICMS de partilha para a UF do remetente (vICMSUFRemet) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vFCP:{_titulo:"Valor Total do FCP",_doc:"Valor Total do FCP (Fundo de Combate à Pobreza). (vFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vBCST:{_titulo:"BC do ICMS ST",_doc:"BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vST:{_titulo:"Valor Total do ICMS ST",_doc:"Valor Total do ICMS ST (vST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vFCPST:{_titulo:"Valor Total do FCP retido por substituição tributária.",_doc:"Valor Total do FCP (Fundo de Combate à Pobreza) retido por substituição tributária. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vFCPSTRet:{_titulo:"Valor Total do FCP retido anteriormente por substituição tributária.",_doc:"Valor Total do FCP (Fundo de Combate à Pobreza) retido anteriormente por substituição tributária. (vFCPSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vProd:{_titulo:"Valor Total dos produtos e serviços",_doc:"Valor Total dos produtos e serviços (vProd)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vFrete:{_titulo:"Valor Total do Frete",_doc:"Valor Total do Frete (vFrete)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vSeg:{_titulo:"Valor Total do Seguro",_doc:"Valor Total do Seguro (vSeg)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vDesc:{_titulo:"Valor Total do Desconto",_doc:"Valor Total do Desconto (vDesc)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vII:{_titulo:"Valor Total do II",_doc:"Valor Total do II (vII)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vIPI:{_titulo:"Valor Total do IPI",_doc:"Valor Total do IPI (vIPI)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vIPIDevol:{_titulo:"Valor Total do IPI devolvido",_doc:"Valor Total do IPI devolvido. Deve ser informado quando preenchido o Grupo Tributos Devolvidos na emissão de nota finNFe=4 (devolução) nas operações com não contribuintes do IPI. Corresponde ao total da soma dos campos id: UA04. (vIPIDevol)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vPIS:{_titulo:"Valor do PIS",_doc:"Valor do PIS (vPIS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vCOFINS:{_titulo:"Valor do COFINS",_doc:"Valor do COFINS (vCOFINS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vOutro:{_titulo:"Outras Despesas acessórias",_doc:"Outras Despesas acessórias (vOutro)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vNF:{_titulo:"Valor Total da NF-e",_doc:"Valor Total da NF-e (vNF)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vTotTrib:{_titulo:"Valor estimado total de impostos federais, estaduais e municipais",_doc:"Valor estimado total de impostos federais, estaduais e municipais (vTotTrib) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},ISSQNtot:{_titulo:"Totais referentes ao ISSQN",_doc:"Totais referentes ao ISSQN (ISSQNtot) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Totais referentes ao ISSQN",_doc:"Totais referentes ao ISSQN (ISSQNtot) (Opcional)",_valorInic:""},vServ:{_titulo:"Valor Total dos Serviços sob não-incidência ou não tributados pelo ICMS",_doc:"Valor Total dos Serviços sob não-incidência ou não tributados pelo ICMS (vServ) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vBC:{_titulo:"Base de Cálculo do ISS",_doc:"Base de Cálculo do ISS (vBC) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vISS:{_titulo:"Valor Total do ISS",_doc:"Valor Total do ISS (vISS) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vPIS:{_titulo:"Valor do PIS sobre serviços",_doc:"Valor do PIS sobre serviços (vPIS) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vCOFINS:{_titulo:"Valor do COFINS sobre serviços",_doc:"Valor do COFINS sobre serviços (vCOFINS) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},dCompet:{_titulo:"Data da prestação do serviço  (AAAA-MM-DD)",_doc:"Data da prestação do serviço  (AAAA-MM-DD) (dCompet)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""},vDeducao:{_titulo:"Valor dedução para redução da base de cálculo",_doc:"Valor dedução para redução da base de cálculo (vDeducao) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vOutro:{_titulo:"Valor outras retenções",_doc:"Valor outras retenções (vOutro) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vDescIncond:{_titulo:"Valor desconto incondicionado",_doc:"Valor desconto incondicionado (vDescIncond) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vDescCond:{_titulo:"Valor desconto condicionado",_doc:"Valor desconto condicionado (vDescCond) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vISSRet:{_titulo:"Valor Total Retenção ISS",_doc:"Valor Total Retenção ISS (vISSRet) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},cRegTrib:{_titulo:"Código do regime especial de tributação",_doc:"Código do regime especial de tributação (cRegTrib) (Opcional)",_opcional:!0,_tipo:"seletor",_enumeration:[{valor:"",rotulo:"Não se aplica"},{valor:"1",rotulo:"1"},{valor:"2",rotulo:"2"},{valor:"3",rotulo:"3"},{valor:"4",rotulo:"4"},{valor:"5",rotulo:"5"},{valor:"6",rotulo:"6"}],_valorInic:""}},retTrib:{_titulo:"Retenção de Tributos Federais",_doc:"Retenção de Tributos Federais (retTrib) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Retenção de Tributos Federais",_doc:"Retenção de Tributos Federais (retTrib) (Opcional)",_valorInic:""},vRetPIS:{_titulo:"Valor Retido de PIS",_doc:"Valor Retido de PIS (vRetPIS) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vRetCOFINS:{_titulo:"Valor Retido de COFINS",_doc:"Valor Retido de COFINS (vRetCOFINS) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vRetCSLL:{_titulo:"Valor Retido de CSLL",_doc:"Valor Retido de CSLL (vRetCSLL) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vBCIRRF:{_titulo:"Base de Cálculo do IRRF",_doc:"Base de Cálculo do IRRF (vBCIRRF) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vIRRF:{_titulo:"Valor Retido de IRRF",_doc:"Valor Retido de IRRF (vIRRF) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vBCRetPrev:{_titulo:"Base de Cálculo da Retenção da Previdêncica Social",_doc:"Base de Cálculo da Retenção da Previdêncica Social (vBCRetPrev) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vRetPrev:{_titulo:"Valor da Retenção da Previdêncica Social",_doc:"Valor da Retenção da Previdêncica Social (vRetPrev) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0}}},transp:{_titulo:"Dados dos transportes da NF-e",_doc:"Dados dos transportes da NF-e (transp)",_tipo:"texto",_valorInic:"",modFrete:{_titulo:"Modalidade do frete ",_doc:"Modalidade do frete 0- Contratação do Frete por conta do Remetente (CIF); 1- Contratação do Frete por conta do destinatário/remetente (FOB); 2- Contratação do Frete por conta de terceiros; 3- Transporte próprio por conta do remetente; 4- Transporte próprio por conta do destinatário; 9- Sem Ocorrência de transporte. (modFrete)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 -  Contratação do Frete por conta do Remetente (CIF)"},{valor:"1",rotulo:"1 -  Contratação do Frete por conta do destinatário/remetente (FOB)"},{valor:"2",rotulo:"2 -  Contratação do Frete por conta de terceiros"},{valor:"3",rotulo:"3 -  Transporte próprio por conta do remetente"},{valor:"4",rotulo:"4 -  Transporte próprio por conta do destinatário"},{valor:"9",rotulo:"9 -  Sem Ocorrência de transporte"}],_valorInic:"0"},transporta:{_titulo:"Dados do transportador",_doc:"Dados do transportador (transporta) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados do transportador",_doc:"Dados do transportador (transporta) (Opcional)",_valorInic:""},escolhas:{_titulo:"",_doc:" (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:" (Opcional)",_valorInic:""},CNPJ:{_titulo:"CNPJ do transportador",_doc:"CNPJ do transportador (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},CPF:{_titulo:"CPF do transportador",_doc:"CPF do transportador (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_tipo:"texto",_maxLength:11,_valorInic:""}},xNome:{_titulo:"Razão Social ou nome do transportador",_doc:"Razão Social ou nome do transportador (xNome) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},IE:{_titulo:"Inscrição Estadual (v2.0)",_doc:"Inscrição Estadual (v2.0) (IE) (Opcional)",_opcional:!0,_pattern:"ISENTO|[0-9]{2,14}",_type:"TIeDest",_tipo:"texto",_maxLength:14,_valorInic:""},xEnder:{_titulo:"Endereço completo",_doc:"Endereço completo (xEnder) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xMun:{_titulo:"Nome do munícipio",_doc:"Nome do munícipio (xMun) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},UF:{_titulo:"Sigla da UF",_doc:"Sigla da UF (UF) (Opcional)",_opcional:!0,_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"",rotulo:"Não se aplica"},{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX"}],_valorInic:""}},retTransp:{_titulo:"Dados da retenção  ICMS do Transporte",_doc:"Dados da retenção  ICMS do Transporte (retTransp) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados da retenção  ICMS do Transporte",_doc:"Dados da retenção  ICMS do Transporte (retTransp) (Opcional)",_valorInic:""},vServ:{_titulo:"Valor do Serviço",_doc:"Valor do Serviço (vServ)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vBCRet:{_titulo:"BC da Retenção do ICMS",_doc:"BC da Retenção do ICMS (vBCRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},pICMSRet:{_titulo:"Alíquota da Retenção",_doc:"Alíquota da Retenção (pICMSRet)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"percentagem",_decimals:"4",_valorInic:0},vICMSRet:{_titulo:"Valor do ICMS Retido",_doc:"Valor do ICMS Retido (vICMSRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},CFOP:{_titulo:"Código Fiscal de Operações e Prestações",_doc:"Código Fiscal de Operações e Prestações (CFOP)",_pattern:"[1,2,3,5,6,7]{1}[0-9]{3}",_tipo:"texto",_valorInic:""},cMunFG:{_titulo:"Código do Município de Ocorrência do Fato Gerador ",_doc:"Código do Município de Ocorrência do Fato Gerador (utilizar a tabela do IBGE) (cMunFG)",_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""}},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{veicTransp:{_titulo:"Dados do veículo",_doc:"Dados do veículo (veicTransp) (Opcional)",_opcional:!0,_type:"TVeiculo",_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados do veículo",_doc:"Dados do veículo (veicTransp) (Opcional)",_valorInic:""},placa:{_titulo:"Placa do veículo (NT2011/004)",_doc:"Placa do veículo (NT2011/004) (placa)",_pattern:"[A-Z]{2,3}[0-9]{4}|[A-Z]{3,4}[0-9]{3}|[A-Z0-9]{7}",_tipo:"texto",_valorInic:""},UF:{_titulo:"Sigla da UF",_doc:"Sigla da UF (UF)",_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX"}],_valorInic:"AC"},RNTC:{_titulo:"Registro Nacional de Transportador de Carga (ANTT)",_doc:"Registro Nacional de Transportador de Carga (ANTT) (RNTC) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""}},reboque:{_titulo:"Dados do reboque/Dolly (v2.0)",_doc:"Dados do reboque/Dolly (v2.0) (reboque) (Lista)",_opcional:!0,_type:"TVeiculo",_tipo:"texto",_valorInic:"",lista:{placa:{_titulo:"Placa do veículo (NT2011/004)",_doc:"Placa do veículo (NT2011/004) (placa)",_pattern:"[A-Z]{2,3}[0-9]{4}|[A-Z]{3,4}[0-9]{3}|[A-Z0-9]{7}",_tipo:"texto",_valorInic:""},UF:{_titulo:"Sigla da UF",_doc:"Sigla da UF (UF)",_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX"}],_valorInic:"AC"},RNTC:{_titulo:"Registro Nacional de Transportador de Carga (ANTT)",_doc:"Registro Nacional de Transportador de Carga (ANTT) (RNTC) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""}}}},vagao:{_titulo:"Identificação do vagão (v2.0)",_doc:"Identificação do vagão (v2.0) (vagao) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""},balsa:{_titulo:"Identificação da balsa (v2.0)",_doc:"Identificação da balsa (v2.0) (balsa) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""}},vol:{_titulo:"Dados dos volumes",_doc:"Dados dos volumes (vol) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{qVol:{_titulo:"Quantidade de volumes transportados",_doc:"Quantidade de volumes transportados (qVol) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,15}",_tipo:"texto",_valorInic:""},esp:{_titulo:"Espécie dos volumes transportados",_doc:"Espécie dos volumes transportados (esp) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},marca:{_titulo:"Marca dos volumes transportados",_doc:"Marca dos volumes transportados (marca) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},nVol:{_titulo:"Numeração dos volumes transportados",_doc:"Numeração dos volumes transportados (nVol) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},pesoL:{_titulo:"Peso líquido (em kg)",_doc:"Peso líquido (em kg) (pesoL) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{3}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{3})?",_type:"TDec_1203",_tipo:"decimal",_decimals:"3",_valorInic:0},pesoB:{_titulo:"Peso bruto (em kg)",_doc:"Peso bruto (em kg) (pesoB) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{3}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{3})?",_type:"TDec_1203",_tipo:"decimal",_decimals:"3",_valorInic:0},lacres:{_titulo:"lacres",_doc:"lacres (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{nLacre:{_titulo:"Número dos Lacres",_doc:"Número dos Lacres (nLacre)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""}}}}}},cobr:{_titulo:"Dados da cobrança da NF-e",_doc:"Dados da cobrança da NF-e (cobr) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados da cobrança da NF-e",_doc:"Dados da cobrança da NF-e (cobr) (Opcional)",_valorInic:""},fat:{_titulo:"Dados da fatura",_doc:"Dados da fatura (fat) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados da fatura",_doc:"Dados da fatura (fat) (Opcional)",_valorInic:""},nFat:{_titulo:"Número da fatura",_doc:"Número da fatura (nFat) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},vOrig:{_titulo:"Valor original da fatura",_doc:"Valor original da fatura (vOrig) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vDesc:{_titulo:"Valor do desconto da fatura",_doc:"Valor do desconto da fatura (vDesc) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vLiq:{_titulo:"Valor líquido da fatura",_doc:"Valor líquido da fatura (vLiq) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},dup:{_titulo:"Dados das duplicatas NT 2011/004",_doc:"Dados das duplicatas NT 2011/004 (dup) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{nDup:{_titulo:"Número da duplicata",_doc:"Número da duplicata (nDup) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},dVenc:{_titulo:"Data de vencimento da duplicata",_doc:"Data de vencimento da duplicata (AAAA-MM-DD) (dVenc) (Opcional)",_opcional:!0,_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""},vDup:{_titulo:"Valor da duplicata",_doc:"Valor da duplicata (vDup)",_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"dinheiro",_decimals:"2",_valorInic:0}}}},pag:{_titulo:"Dados de Pagamento. Obrigatório apenas para (NFC-e) NT 2012/004",_doc:"Dados de Pagamento. Obrigatório apenas para (NFC-e) NT 2012/004 (pag)",_tipo:"texto",_valorInic:"",detPag:{_titulo:"Grupo de detalhamento da forma de pagamento.",_doc:"Grupo de detalhamento da forma de pagamento. (detPag) (Lista)",_tipo:"texto",_valorInic:"",lista:{indPag:{_titulo:"Indicador da Forma de Pagamento:0-Pagamento à Vista;1-Pagamento à Prazo;",_doc:"Indicador da Forma de Pagamento:0-Pagamento à Vista;1-Pagamento à Prazo; (indPag) (Opcional)",_opcional:!0,_tipo:"seletor",_enumeration:[{valor:"",rotulo:"Não se aplica"},{valor:"0",rotulo:"0 - Pagamento à Vista"},{valor:"1",rotulo:"1 - Pagamento à Prazo"}],_valorInic:""},tPag:{_titulo:"Forma de Pagamento",_doc:"Forma de Pagamento:01-Dinheiro;02-Cheque;03-Cartão de Crédito;04-Cartão de Débito;05-Crédito Loja;10-Vale Alimentação;11-Vale Refeição;12-Vale Presente;13-Vale Combustível;14 - Duplicata Mercantil;15 - Boleto Bancario;90 - Sem Pagamento;99 - Outros (tPag)",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 - Dinheiro"},{valor:"02",rotulo:"02 - Cheque"},{valor:"03",rotulo:"03 - Cartão de Crédito"},{valor:"04",rotulo:"04 - Cartão de Débito"},{valor:"05",rotulo:"05 - Crédito Loja"},{valor:"10",rotulo:"10 - Vale Alimentação"},{valor:"11",rotulo:"11 - Vale Refeição"},{valor:"12",rotulo:"12 - Vale Presente"},{valor:"13",rotulo:"13 - Vale Combustível"},{valor:"14",rotulo:"14 - Duplicata Mercantil"},{valor:"15",rotulo:"15 - Boleto Bancario"},{valor:"90",rotulo:"90 - Sem Pagamento"},{valor:"99",rotulo:"99 - Outros"}],_valorInic:"01"},vPag:{_titulo:"Valor do Pagamento",_doc:"Valor do Pagamento. Esta tag poderá ser omitida quando a tag tPag=90 (Sem Pagamento), caso contrário deverá ser preenchida. (vPag)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},card:{_titulo:"Grupo de Cartões",_doc:"Grupo de Cartões (card) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de Cartões",_doc:"Grupo de Cartões (card) (Opcional)",_valorInic:""},tpIntegra:{_titulo:"Tipo de Integração do processo de pagamento com o sistema de automação da empresa",_doc:"Tipo de Integração do processo de pagamento com o sistema de automação da empresa: 1=Pagamento integrado com o sistema de automação da empresa Ex. equipamento TEF , Comercio Eletronico                 2=Pagamento não integrado com o sistema de automação da empresa Ex: equipamento POS (tpIntegra)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Pagamento integrado com o sistema de automação da empresa Ex. equipamento TEF , Comercio Eletronico"},{valor:"2",rotulo:"2 - Pagamento não integrado com o sistema de automação da empresa Ex: equipamento POS"}],_valorInic:"1"},CNPJ:{_titulo:"CNPJ da credenciadora de cartão de crédito/débito",_doc:"CNPJ da credenciadora de cartão de crédito/débito (CNPJ) (Opcional)",_opcional:!0,_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},tBand:{_titulo:"Bandeira da operadora de cartão de crédito/débito",_doc:"Bandeira da operadora de cartão de crédito/débito:01-Visa; 02-Mastercard; 03-American Express; 04-Sorocred;05-Diners Club;06-Elo;07-Hipercard;08-Aura;09-Cabal;99-Outros (tBand) (Opcional)",_opcional:!0,_tipo:"seletor",_enumeration:[{valor:"",rotulo:"Não se aplica"},{valor:"01",rotulo:"01-Visa"},{valor:"02",rotulo:"02-Mastercard"},{valor:"03",rotulo:"03-American Express"},{valor:"04",rotulo:"04-Sorocred"},{valor:"05",rotulo:"05 - Diners Club"},{valor:"06",rotulo:"06 - Elo"},{valor:"07",rotulo:"07 - Hipercard"},{valor:"08",rotulo:"08 - Aura"},{valor:"09",rotulo:"09 - Cabal"},{valor:"99",rotulo:"99-Outros"}],_valorInic:""},cAut:{_titulo:"Número de autorização da operação cartão de crédito/débito",_doc:"Número de autorização da operação cartão de crédito/débito (cAut) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""}}}},vTroco:{_titulo:"Valor do Troco.",_doc:"Valor do Troco. (vTroco) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},infAdic:{_titulo:"Informações adicionais da NF-e",_doc:"Informações adicionais da NF-e (infAdic) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Informações adicionais da NF-e",_doc:"Informações adicionais da NF-e (infAdic) (Opcional)",_valorInic:""},infAdFisco:{_titulo:"Info. adicionais de interesse do Fisco",_doc:"Informações adicionais de interesse do Fisco (v2.0) (infAdFisco) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:2e3,_valorInic:""},infCpl:{_titulo:"Informações complementares de interesse do Contribuinte",_doc:"Informações complementares de interesse do Contribuinte (infCpl) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:5e3,_valorInic:""},obsCont:{_titulo:"Campo de uso livre do contribuinte informar o nome do campo no atributo xCampo e o conteúdo do campo no xTexto",_doc:"Campo de uso livre do contribuinte informar o nome do campo no atributo xCampo e o conteúdo do campo no xTexto (obsCont) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{xTexto:{_titulo:"xTexto",_doc:"xTexto",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""}}},obsFisco:{_titulo:"Campo de uso exclusivo do Fisco informar o nome do campo no atributo xCampo e o conteúdo do campo no xTexto",_doc:"Campo de uso exclusivo do Fisco informar o nome do campo no atributo xCampo e o conteúdo do campo no xTexto (obsFisco) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{xTexto:{_titulo:"xTexto",_doc:"xTexto",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""}}},procRef:{_titulo:"Grupo de informações do  processo referenciado",_doc:"Grupo de informações do  processo referenciado (procRef) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{nProc:{_titulo:"Indentificador do processo ou ato concessório",_doc:"Indentificador do processo ou ato concessório (nProc)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},indProc:{_titulo:"Origem do processo",_doc:"Origem do processo, informar com: 0 - SEFAZ; 1 - Justiça Federal; 2 - Justiça Estadual; 3 - Secex/RFB; 9 - Outros (indProc)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - SEFAZ"},{valor:"1",rotulo:"1 - Justiça Federal"},{valor:"2",rotulo:"2 - Justiça Estadual"},{valor:"3",rotulo:"3 - Secex/RFB"},{valor:"9",rotulo:"9 - Outros"}],_valorInic:"0"}}}},exporta:{_titulo:"Informações de exportação",_doc:"Informações de exportação (exporta) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Informações de exportação",_doc:"Informações de exportação (exporta) (Opcional)",_valorInic:""},UFSaidaPais:{_titulo:"Sigla da UF de Embarque ou de transposição de fronteira",_doc:"Sigla da UF de Embarque ou de transposição de fronteira (UFSaidaPais)",_type:"TUfEmi",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"}],_valorInic:"AC"},xLocExporta:{_titulo:"Local de Embarque ou de transposição de fronteira",_doc:"Local de Embarque ou de transposição de fronteira (xLocExporta)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xLocDespacho:{_titulo:"Descrição do local de despacho",_doc:"Descrição do local de despacho (xLocDespacho) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""}},compra:{_titulo:"Informações de compras  (Nota de Empenho, Pedido e Contrato)",_doc:"Informações de compras  (Nota de Empenho, Pedido e Contrato) (compra) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Informações de compras  (Nota de Empenho, Pedido e Contrato)",_doc:"Informações de compras  (Nota de Empenho, Pedido e Contrato) (compra) (Opcional)",_valorInic:""},xNEmp:{_titulo:"Informação da Nota de Empenho de compras públicas (NT2011/004)",_doc:"Informação da Nota de Empenho de compras públicas (NT2011/004) (xNEmp) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:22,_valorInic:""},xPed:{_titulo:"Informação do pedido",_doc:"Informação do pedido (xPed) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xCont:{_titulo:"Informação do contrato",_doc:"Informação do contrato (xCont) (Opcional)",_opcional:!0,_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""}},cana:{_titulo:"Informações de registro aquisições de cana",_doc:"Informações de registro aquisições de cana (cana) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Informações de registro aquisições de cana",_doc:"Informações de registro aquisições de cana (cana) (Opcional)",_valorInic:""},safra:{_titulo:"Identificação da safra",_doc:"Identificação da safra (safra)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:4,_maxLength:9,_valorInic:""},ref:{_titulo:"Mês e Ano de Referência, formato: MM/AAAA",_doc:"Mês e Ano de Referência, formato: MM/AAAA (ref)",_pattern:"(0[1-9]|1[0-2])([/][2][0-9][0-9][0-9])",_tipo:"texto",_valorInic:""},forDia:{_titulo:"Fornecimentos diários",_doc:"Fornecimentos diários (forDia) (Lista)",_tipo:"texto",_valorInic:"",lista:{qtde:{_titulo:"Quantidade em quilogramas - peso líquido",_doc:"Quantidade em quilogramas - peso líquido (qtde)",_pattern:"0|0\\.[0-9]{1,10}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,10})?",_type:"TDec_1110v",_tipo:"decimal",_decimals:"4",_valorInic:0}}},qTotMes:{_titulo:"Total do mês",_doc:"Total do mês (qTotMes)",_pattern:"0|0\\.[0-9]{1,10}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,10})?",_type:"TDec_1110v",_tipo:"decimal",_decimals:"4",_valorInic:0},qTotAnt:{_titulo:"Total Anterior",_doc:"Total Anterior (qTotAnt)",_pattern:"0|0\\.[0-9]{1,10}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,10})?",_type:"TDec_1110v",_tipo:"decimal",_decimals:"4",_valorInic:0},qTotGer:{_titulo:"Total Geral",_doc:"Total Geral (qTotGer)",_pattern:"0|0\\.[0-9]{1,10}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,10})?",_type:"TDec_1110v",_tipo:"decimal",_decimals:"4",_valorInic:0},deduc:{_titulo:"Deduções - Taxas e Contribuições",_doc:"Deduções - Taxas e Contribuições (deduc) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{xDed:{_titulo:"Descrição da Dedução",_doc:"Descrição da Dedução (xDed)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},vDed:{_titulo:"valor da dedução",_doc:"valor da dedução (vDed)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}}},vFor:{_titulo:"Valor  dos fornecimentos",_doc:"Valor  dos fornecimentos (vFor)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vTotDed:{_titulo:"Valor Total das Deduções",_doc:"Valor Total das Deduções (vTotDed)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0},vLiqFor:{_titulo:"Valor Líquido dos fornecimentos",_doc:"Valor Líquido dos fornecimentos (vLiqFor)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"dinheiro",_decimals:"2",_valorInic:0}},infRespTec:{_titulo:"Informações do Responsável Técnico pela emissão do DF-e",_doc:"Informações do Responsável Técnico pela emissão do DF-e (infRespTec) (Opcional)",_opcional:!0,_type:"TInfRespTec",_tipo:"texto",_valorInic:"",visivel:{_titulo:"Informações do Responsável Técnico pela emissão do DF-e",_doc:"Informações do Responsável Técnico pela emissão do DF-e (infRespTec) (Opcional)",_valorInic:""},CNPJ:{_titulo:"CNPJ",_doc:"CNPJ (CNPJ)",_pattern:"[0-9]{0}|[0-9]{14}",_type:"TCnpjOpc",_tipo:"texto",_maxLength:14,_valorInic:""},xContato:{_titulo:"Informar o nome da pessoa a ser contatada na empresa desenvolvedora do sistema utilizado na emissão do documento fiscal eletrônico.",_doc:"Informar o nome da pessoa a ser contatada na empresa desenvolvedora do sistema utilizado na emissão do documento fiscal eletrônico. (xContato)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},email:{_titulo:"Informar o e-mail da pessoa a ser contatada na empresa desenvolvedora do sistema.",_doc:"Informar o e-mail da pessoa a ser contatada na empresa desenvolvedora do sistema. (email)",_pattern:"[!-ÿ]{1}[ -ÿ]{0,}[!-ÿ]{1}|[!-ÿ]{1}",_tipo:"texto",_minLength:6,_maxLength:60,_valorInic:""},fone:{_titulo:"Informar o telefone da pessoa a ser contatada na empresa desenvolvedora do sistema",_doc:"Informar o telefone da pessoa a ser contatada na empresa desenvolvedora do sistema. Preencher com o Código DDD + número do telefone. (fone)",_pattern:"[0-9]{6,14}",_tipo:"texto",_valorInic:""},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},idCSRT:{_titulo:"Identificador do CSRT utilizado para montar o hash do CSRT",_doc:"Identificador do CSRT utilizado para montar o hash do CSRT (idCSRT)",_pattern:"[0-9]{2}",_tipo:"texto",_valorInic:""},hashCSRT:{_titulo:"O hashCSRT é o resultado da função hash (SHA-1 - Base64) do CSRT fornecido pelo fisco mais a Chave de Acesso da NFe.",_doc:"O hashCSRT é o resultado da função hash (SHA-1 - Base64) do CSRT fornecido pelo fisco mais a Chave de Acesso da NFe. (hashCSRT)",_tipo:"texto",_valorInic:""}}}}},kt=a("7037"),Mt=a.n(kt),Pt=function e(t){if(Array.isArray(t))return t.map(function(t){return e(t)});if("object"===Mt()(t)&&null!==t){var a={};for(var o in t)a[o]=e(t[o]);return a}return t},Dt=function(e){return e.ide._titulo="Dados da NFe",e.ide.cNF._valorInic="00000000",e.ide.natOp._titulo="Natureza da operação",e.ide.natOp._valorInic="Venda",e.ide.mod._titulo="Modelo",e.ide.serie._titulo="Série",e.ide.serie._valorInic="1",e.ide.nNF._valorInic="0",e.ide.nNF._pattern=null,e.ide.dhEmi._titulo="Data e Hora de emissão",e.ide.dhSaiEnt._titulo="Data e Hora da saída/entrada",e.ide.tpNF._titulo="Tipo",e.ide.tpNF._valorInic="1",e.ide.idDest._titulo="Destino",e.ide.cMunFG._valorInic="0000000",e.ide.tpImp._titulo="Formato do DANFE",e.ide.tpImp._valorInic="1",e.ide.tpEmis._titulo="Forma de emissão",e.ide.cDV._valorInic="0",e.ide.tpAmb._titulo="Ambiente",e.ide.tpAmb._valorInic="2",e.ide.finNFe._titulo="Finalidade",e.ide.indFinal._titulo="Consumidor final",e.ide.indFinal._valorInic="1",e.ide.indPres._titulo="Presença do comprador",e.ide.indPres._valorInic="1",e.ide.verProc._valorInic="B15 1.0",e.ide.NFref._titulo="Preencher para NF referenciada",e.emit._titulo="Emitente",e.emit.enderEmit.UF._titulo="UF",e.emit.enderEmit.UF._valorInic="",e.emit.enderEmit.CEP._titulo="CEP",e.emit.enderEmit.cPais._valorInic="1058",e.emit.enderEmit.xPais._valorInic="Brasil",e.emit.enderEmit.fone._titulo="DDD + telefone",e.emit.opcional.visivel._titulo="Enviar Inscrição Municipal",e.emit.CRT._titulo="Regime Tributário",e.avulsa.UF._valorInic="",e.dest._titulo="Destinatário",e.dest.enderDest.UF._titulo="UF",e.dest.enderDest.UF._valorInic="",e.dest.indIEDest._valorInic="2",e.retirada.UF._valorInic="",e.entrega.UF._valorInic="",e.det._titulo="Produtos e serviços",e.det.lista.prod._titulo="Identificação",e.det.lista.prod.noXml_id={_titulo:"Identificação do Produto",_doc:"Identificação do Produto selecionado",_opcional:!0,_valorInic:""},e.det.lista.prod.noXml_imagem={_titulo:"Imagem do Produto",_doc:"Imagem do Produto selecionado",_opcional:!0,_valorInic:""},e.det.lista.prod.cProd._titulo="Código",e.det.lista.prod.cEAN._titulo="Código de barras (GTIN ou EAN)",e.det.lista.prod.xProd._titulo="Descrição",e.det.lista.prod.NCM._titulo="NCM",e.det.lista.prod.NCM._doc="Código NCM (8 posições) - Nomenclatura Comum ao Mercosul",e.det.lista.prod.opcional.CEST._titulo="CEST",e.det.lista.prod.opcional.CEST._doc="Codigo especificador da Substuicao Tributaria - CEST",e.det.lista.prod.CFOP._titulo="CFOP",e.det.lista.prod.CFOP._doc="Código Fiscal de Operações e Prestações das entradas e saídas de mercadorias",e.det.lista.prod.uCom._titulo="Unidade",e.det.lista.prod.uCom._valorInic="UN",e.det.lista.prod.qCom._titulo="Quantidade",e.det.lista.prod.qCom._valorInic=1,e.det.lista.prod.vUnCom._titulo="Valor unitário",e.det.lista.prod.vProd._titulo="Valor total bruto",e.det.lista.prod.cEANTrib._titulo="Código de Barras GTIN da unidade tributável",e.det.lista.prod.indTot._titulo="Totaliza",e.det.lista.prod.indTot._valorInic="1",e.det.lista.imposto._titulo="Tributos",e.det.lista.imposto.noXml_CST={_titulo:"CST ICMS - Código de Situação Tributária",_doc:"Código de Situação Tributária pelo ICMS (CST)",_tipo:"seletor",_enumeration:[{valor:"00",rotulo:"00 - Tributada integralmente"},{valor:"10",rotulo:"10 - Tributada e com cobrança do ICMS por substituição tributária"},{valor:"20",rotulo:"20 - Com redução de base de cálculo"},{valor:"30",rotulo:"30 - Isenta ou não tributada e com cobrança do ICMS por substituição tributária"},{valor:"40",rotulo:"40 - Isenta"},{valor:"41",rotulo:"41 - Não tributada"},{valor:"50",rotulo:"50 - Suspensão"},{valor:"51",rotulo:"51 - Diferimento"},{valor:"60",rotulo:"60 - ICMS cobrado anteriormente por substituição tributária"},{valor:"70",rotulo:"70 - Com redução de base de cálculo e cobrança do ICMS por substituição tributária"},{valor:"90",rotulo:"90 - Outras"}],_opcional:!0,_valorInic:""},e.det.lista.imposto.noXml_CSOSN={_titulo:"CSOSN ICMS - Código de Situação da Operação do Simples Nacional",_doc:"Código de Situação da Operação do Simples Nacional pelo ICMS (CSOSN)",_tipo:"seletor",_enumeration:[{valor:"101",rotulo:"101 - Tributada pelo Simples Nacional com permissão de crédito"},{valor:"102",rotulo:"102 - Tributada pelo Simples Nacional sem permissão de crédito"},{valor:"103",rotulo:"103 - Isenção do ICMS no Simples Nacional para faixa de receita bruta"},{valor:"201",rotulo:"201 - Tributada pelo Simples Nacional com permissão de crédito e com cobrança do ICMS por Substituição Tributária"},{valor:"202",rotulo:"202 - Tributada pelo Simples Nacional sem permissão de crédito e com cobrança do ICMS por Substituição Tributária"},{valor:"203",rotulo:"203 - Isenção do ICMS nos Simples Nacional para faixa de receita bruta e com cobrança do ICMS por Substituição Tributária"},{valor:"300",rotulo:"300 - Imune"},{valor:"400",rotulo:"400 - Não tributda pelo Simples Nacional"},{valor:"500",rotulo:"500 - ICMS cobrado anterirmente por substituição tributária (substituído) ou por antecipação"},{valor:"900",rotulo:"900 - Outros"}],_opcional:!0,_valorInic:""},e.det.lista.imposto.noXml_orig={_titulo:"Origem da mercadoria",_doc:"Origem da mercadoria",_tipo:"seletor",_enumeration:e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.orig._enumeration,_opcional:!0,_valorInic:""},e.det.lista.imposto.noXml_vBC=Pt(e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vBC),e.det.lista.imposto.noXml_vBC._opcional=!0,e.det.lista.imposto.noXml_pICMS=Pt(e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.pICMS),e.det.lista.imposto.noXml_pICMS._opcional=!0,e.det.lista.imposto.noXml_pRedBC=Pt(e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.pRedBC),e.det.lista.imposto.noXml_pRedBC._opcional=!0,e.det.lista.imposto.noXml_vICMS=Pt(e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vICMS),e.det.lista.imposto.noXml_vICMS._opcional=!0,e.det.lista.imposto.noXml_pFCP=Pt(e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.pFCP),e.det.lista.imposto.noXml_pFCP._opcional=!0,e.det.lista.imposto.noXml_CSTPis={_titulo:"CST do PIS",_doc:"Código de Situação Tributária do PIS",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 - Operação Tributável - Base de Cálculo = Valor da Operação Alíquota Normal (Cumulativo/Não Cumulativo)"},{valor:"02",rotulo:"02 - Operação Tributável - Base de Calculo = Valor da Operação (Alíquota Diferenciada)"},{valor:"03",rotulo:"03 - Operação Tributável - Base de Calculo = Quantidade Vendida x Alíquota por Unidade de Produto"},{valor:"04",rotulo:"04 - Operação Tributável - Tributação Monofásica - (Alíquota Zero)"},{valor:"05",rotulo:"05 - Operação Tributável (ST)"},{valor:"06",rotulo:"06 - Operação Tributável - Alíquota Zero"},{valor:"07",rotulo:"07 - Operação Isenta da contribuição"},{valor:"08",rotulo:"08 - Operação Sem Incidência da contribuição"},{valor:"09",rotulo:"09 - Operação com suspensão da contribuição"},{valor:"49",rotulo:"49 - Outras Operações de Saída"},{valor:"50",rotulo:"50 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Tributada no Mercado Interno"},{valor:"51",rotulo:"51 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Não Tributada no Mercado Interno"},{valor:"52",rotulo:"52 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita de Exportação"},{valor:"53",rotulo:"53 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno"},{valor:"54",rotulo:"54 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas no Mercado Interno e de Exportação"},{valor:"55",rotulo:"55 - Operação com Direito a Crédito - Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação"},{valor:"56",rotulo:"56 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação"},{valor:"60",rotulo:"60 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Tributada no Mercado Interno"},{valor:"61",rotulo:"61 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Não-Tributada no Mercado Interno"},{valor:"62",rotulo:"62 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita de Exportação"},{valor:"63",rotulo:"63 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno"},{valor:"64",rotulo:"64 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas no Mercado Interno e de Exportação"},{valor:"65",rotulo:"65 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação"},{valor:"66",rotulo:"66 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação"},{valor:"67",rotulo:"67 - Crédito Presumido - Outras Operações"},{valor:"70",rotulo:"70 - Operação de Aquisição sem Direito a Crédito"},{valor:"71",rotulo:"71 - Operação de Aquisição com Isenção"},{valor:"72",rotulo:"72 - Operação de Aquisição com Suspensão"},{valor:"73",rotulo:"73 - Operação de Aquisição a Alíquota Zero"},{valor:"74",rotulo:"74 - Operação de Aquisição sem Incidência da Contribuição"},{valor:"75",rotulo:"75 - Operação de Aquisição por Substituição Tributária"},{valor:"98",rotulo:"98 - Outras Operações de Entrada"},{valor:"99",rotulo:"99 - Outras Operações"}],_opcional:!0,_valorInic:""},e.det.lista.imposto.noXml_pPIS=Pt(e.det.lista.imposto.PIS.escolhas.PISAliq.pPIS),e.det.lista.imposto.noXml_pPIS._opcional=!0,e.det.lista.imposto.noXml_CSTCofins={_titulo:"CST do COFINS",_doc:"Código de Situação Tributária do COFINS",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 - Operação Tributável - Base de Cálculo = Valor da Operação Alíquota Normal (Cumulativo/Não Cumulativo)"},{valor:"02",rotulo:"02 - Operação Tributável - Base de Calculo = Valor da Operação (Alíquota Diferenciada)"},{valor:"03",rotulo:"03 - Operação Tributável - Base de Calculo = Quantidade Vendida x Alíquota por Unidade de Produto"},{valor:"04",rotulo:"04 - Operação Tributável - Tributação Monofásica - (Alíquota Zero)"},{valor:"05",rotulo:"05 - Operação Tributável (ST)"},{valor:"06",rotulo:"06 - Operação Tributável - Alíquota Zero"},{valor:"07",rotulo:"07 - Operação Isenta da contribuição"},{valor:"08",rotulo:"08 - Operação Sem Incidência da contribuição"},{valor:"09",rotulo:"09 - Operação com suspensão da contribuição"},{valor:"49",rotulo:"49 - Outras Operações de Saída"},{valor:"50",rotulo:"50 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Tributada no Mercado Interno"},{valor:"51",rotulo:"51 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Não Tributada no Mercado Interno"},{valor:"52",rotulo:"52 - Operação com Direito a Crédito - Vinculada Exclusivamente a Receita de Exportação"},{valor:"53",rotulo:"53 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno"},{valor:"54",rotulo:"54 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas no Mercado Interno e de Exportação"},{valor:"55",rotulo:"55 - Operação com Direito a Crédito - Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação"},{valor:"56",rotulo:"56 - Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação"},{valor:"60",rotulo:"60 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Tributada no Mercado Interno"},{valor:"61",rotulo:"61 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Não-Tributada no Mercado Interno"},{valor:"62",rotulo:"62 - Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita de Exportação"},{valor:"63",rotulo:"63 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno"},{valor:"64",rotulo:"64 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas no Mercado Interno e de Exportação"},{valor:"65",rotulo:"65 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação"},{valor:"66",rotulo:"66 - Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação"},{valor:"67",rotulo:"67 - Crédito Presumido - Outras Operações"},{valor:"70",rotulo:"70 - Operação de Aquisição sem Direito a Crédito"},{valor:"71",rotulo:"71 - Operação de Aquisição com Isenção"},{valor:"72",rotulo:"72 - Operação de Aquisição com Suspensão"},{valor:"73",rotulo:"73 - Operação de Aquisição a Alíquota Zero"},{valor:"74",rotulo:"74 - Operação de Aquisição sem Incidência da Contribuição"},{valor:"75",rotulo:"75 - Operação de Aquisição por Substituição Tributária"},{valor:"98",rotulo:"98 - Outras Operações de Entrada"},{valor:"99",rotulo:"99 - Outras Operações"}],_opcional:!0,_valorInic:""},e.det.lista.imposto.noXml_pCOFINS=Pt(e.det.lista.imposto.COFINS.escolhas.COFINSAliq.pCOFINS),e.det.lista.imposto.noXml_pCOFINS._opcional=!0,e.det.lista.imposto.noXml_CSTIpi={_titulo:"CST do IPI",_doc:"Código da Situação Tributária do IPI (CST)",_tipo:"seletor",_enumeration:[{valor:"00",rotulo:"00 - Entrada com recuperação de crédito"},{valor:"01",rotulo:"01 - Entrada tributada com alíquota zero"},{valor:"02",rotulo:"02 - Entrada isenta"},{valor:"03",rotulo:"03 - Entrada não-tributada"},{valor:"04",rotulo:"04 - Entrada imune"},{valor:"05",rotulo:"05 - Entrada com suspensão"},{valor:"49",rotulo:"49 - Outras entradas"},{valor:"50",rotulo:"50 - Saída tributada"},{valor:"51",rotulo:"51 - Saída tributada com alíquota zero"},{valor:"52",rotulo:"52 - Saída isenta"},{valor:"53",rotulo:"53 - Saída não-tributada"},{valor:"54",rotulo:"54 - Saída imune"},{valor:"55",rotulo:"55 - Saída com suspensão"},{valor:"99",rotulo:"99 - Outras saídas"}],_opcional:!0,_valorInic:""},e.det.lista.imposto.noXml_pIPI=Pt(e.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.pIPI),e.det.lista.imposto.noXml_pIPI._opcional=!0,e.det.lista.imposto.noXml_vIPI=Pt(e.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.vIPI),e.det.lista.imposto.noXml_vIPI._opcional=!0,e.det.lista.imposto.noXml_cEnqIpi=Pt(e.det.lista.imposto.escolhas.opcao1.IPI.cEnq),e.det.lista.imposto.noXml_cEnqIpi._opcional=!0,e.det.lista.imposto.vTotTrib._titulo="Valor aproximado dos tributos",e.det.lista.imposto.noXml_dVenc={_titulo:"Validade IBPT",_doc:"Data de validade da tabela IBPT",_tipo:"datetime",_opcional:!0,_valorInic:""},e.det.lista.imposto.noXml_pTribImp=Pt(e.det.lista.imposto.vTotTrib),e.det.lista.imposto.noXml_pTribImp._titulo="Aliq fed importados",e.det.lista.imposto.noXml_pTribImp._doc="Alíquota federais de produto importado",e.det.lista.imposto.noXml_pTribFed=Pt(e.det.lista.imposto.vTotTrib),e.det.lista.imposto.noXml_pTribFed._titulo="Aliq federais",e.det.lista.imposto.noXml_pTribFed._doc="Alíquota federais de produto nacional",e.det.lista.imposto.noXml_pTribEst=Pt(e.det.lista.imposto.vTotTrib),e.det.lista.imposto.noXml_pTribEst._titulo="Aliq estaduais",e.det.lista.imposto.noXml_pTribEst._doc="Alíquota estaduais",e.det.lista.imposto.noXml_pTribMun=Pt(e.det.lista.imposto.vTotTrib),e.det.lista.imposto.noXml_pTribMun._titulo="Aliq municipais",e.det.lista.imposto.noXml_pTribMun._doc="Alíquota municipais",e.det.lista.imposto.noXml_vTribFed=Pt(e.det.lista.imposto.vTotTrib),e.det.lista.imposto.noXml_vTribFed._titulo="Trib federais",e.det.lista.imposto.noXml_vTribFed._doc="Tributos federais de produto nacional",e.det.lista.imposto.noXml_vTribEst=Pt(e.det.lista.imposto.vTotTrib),e.det.lista.imposto.noXml_vTribEst._titulo="Trib estaduais",e.det.lista.imposto.noXml_vTribEst._doc="Tributos estaduais",e.det.lista.imposto.noXml_vTribMun=Pt(e.det.lista.imposto.vTotTrib),e.det.lista.imposto.noXml_vTribMun._titulo="Trib municipais",e.det.lista.imposto.noXml_vTribMun._doc="Tributos municipais",e.det.lista.imposto.escolhas.valor_escolha._valorInic="opcao1",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.modBC._titulo="Modalidade de determinação da BC do ICMS",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBC._titulo="Modalidade de determinação da BC do ICMS",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBCST._titulo="Modalidade de determinação da BC do ICMS ST",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.modBC._titulo="Modalidade de determinação da BC do ICMS",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.modBCST._titulo="Modalidade de determinação da BC do ICMS ST",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.vICMSDeson._titulo="Valor do ICMS de desoneração",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.vICMSDeson._doc="Valor do ICMS de desoneração (vICMSDeson)",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.motDesICMS._titulo="Motivo da desoneração",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.motDesICMS._doc="Este campo será preenchido quando o campo anterior estiver preenchido.",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.motDesICMS._enumeration=[{valor:"1",rotulo:"1 - Táxi"},{valor:"3",rotulo:"3 - Produtor Agropecuário"},{valor:"4",rotulo:"4 - Frotista/Locadora"},{valor:"5",rotulo:"5 - Diplomático/Consular"},{valor:"6",rotulo:"6 - Utilitários e Motocicletas da Amazônia Ocidental e Áreas de Livre Comércio (Resolução 714/88 e 790/94 - CONTRAN e suas alterações)"},{valor:"7",rotulo:"7 - SUFRAMA"},{valor:"8",rotulo:"8 - Venda a órgão Público"},{valor:"9",rotulo:"9 - Outros"},{valor:"10",rotulo:"10 - Deficiente Condutor"},{valor:"11",rotulo:"11 - Deficiente não condutor"},{valor:"16",rotulo:"16 - Olimpíadas Rio 2016"},{valor:"90",rotulo:"90 - Solicitado pelo Fisco"}],e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.modBC._titulo="Modalidade de determinação da BC do ICMS",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBC._titulo="Modalidade de determinação da BC do ICMS",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBCST._titulo="Modalidade de determinação da BC do ICMS ST",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.modBC._titulo="Modalidade de determinação da BC do ICMS",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.modBCST._titulo="Modalidade de determinação da BC do ICMS ST",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSPart.modBC._titulo="Modalidade de determinação da BC do ICMS",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSPart.modBCST._titulo="Modalidade de determinação da BC do ICMS ST",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.modBCST._titulo="Modalidade de determinação da BC do ICMS ST",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.modBCST._titulo="Modalidade de determinação da BC do ICMS ST",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.visivel._valorInic=!0,e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vICMSSubstituto._opcional=!1,e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.modBC._titulo="Modalidade de determinação da BC do ICMS",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.modBCST._titulo="Modalidade de determinação da BC do ICMS ST",e.det.lista.imposto.escolhas.opcao1.IPI.cEnq._titulo="Código de Enquadramento Legal do IPI",e.det.lista.imposto.escolhas.opcao1.IPI.cEnq._doc="Código de Enquadramento Legal do IPI (tabela criada pela RFB) (cEnq)",e.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST._titulo="CST do IPI",e.det.lista.impostoDevol.visivel._titulo="Imposto devolvido",e.det.lista.infAdProd._titulo="Informações adicionais do produto",e.total._titulo="Outros Valores",e.total.ICMSTot.noXml_vTribFed=Pt(e.det.lista.imposto.noXml_vTribFed),e.total.ICMSTot.noXml_vTribEst=Pt(e.det.lista.imposto.noXml_vTribEst),e.total.ICMSTot.noXml_vTribMun=Pt(e.det.lista.imposto.noXml_vTribMun),e.transp._titulo="Transporte",e.transp.modFrete._valorInic="9",e.transp.transporta.UF._valorInic="",e.transp.escolhas.opcao1.veicTransp.UF._valorInic="",e.transp.escolhas.opcao1.reboque.lista.UF._valorInic="",e.transp.vol.lista.lacres._titulo="Lacres",e.cobr._titulo="Faturamento",e.cobr.fat.visivel._valorInic=!0,e.cobr.fat.vOrig._opcional=!1,e.cobr.fat.vDesc._opcional=!1,e.cobr.fat.vLiq._opcional=!1,e.cobr.dup._titulo="Duplicatas",e.cobr.dup.lista.dVenc._titulo="Vencimento",e.pag._titulo="Pagamento",e.pag.detPag._titulo="Forma de pagamento",e.infAdic._titulo="Informações adicionais",e.infAdic.infAdFisco._titulo="Informações adicionais de interesse do Fisco",e.infAdic.infCpl._titulo="Informações complementares de interesse do Contribuinte",e},Et={infEvento:Ft.infEvento,infEventoCC:wt.infEvento,infInut:yt.infInut,infNFe:Dt(Nt.infNFe)},Tt={aliquotaSimples:0,chNFe:"",status:"",situacao:"Em digitação",situacaoErro:"",mensagem:"",importada:!1,emitida:!1,cancelada:!1,visaoCompleta:!1,visaoCompletaProduto:!1,nProt_emissao:"",dhRecbto_emissao:"",idContatoEmitente:"",idContatoDestinatario:"",dadosAdicionais:"",dadosAdicionaisEmitente:"",dadosAdicionaisEnderecoEntrega:"",textoValorAproximadosTributos:"",textoCartaCorrecao:[],operacao:"",cfop:"",protNFe:{tpAmb:"",chNFe:"",nProt:"",dhRecbto:"",cStat:"",xMotivo:""},automatico:{totais:!0,calculaBC:!0,dados_trib:!0}},At=a("f490"),Ot={acertarDadosNFe:function(e,t,a){if(7===e.emit.enderEmit.cMun.length&&(e.ide.cMunFG=e.emit.enderEmit.cMun),e.ide.cUF=(La[e.emit.enderEmit.UF]||0).toString(),"2"===e.ide.tpAmb&&(e.dest.xNome="NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL","NFCe"===a)){var o=!0,i=!1,r=void 0;try{for(var s,n=e.det[Symbol.iterator]();!(o=(s=n.next()).done);o=!0){var c=s.value;c.prod.xProd="NOTA FISCAL EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL"}}catch(e){i=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw r}}}var l=1,d=!0,u=!1,m=void 0;try{for(var p,v=e.cobr.dup[Symbol.iterator]();!(d=(p=v.next()).done);d=!0){var h=p.value;h.nDup=String(l).padStart(3,"0"),l++}}catch(e){u=!0,m=e}finally{try{d||null==v.return||v.return()}finally{if(u)throw m}}if("NFe"===a){e.infAdic.visivel=!0;var f=e.total.ICMSTot.vProd-e.total.ICMSTot.vDesc;if(t.textoValorAproximadosTributos="Valor aproximados dos tributos: R$ "+this.formatarNumero(e.total.ICMSTot.vTotTrib,2)+" ("+this.formatarNumero(100*e.total.ICMSTot.vTotTrib/f,2)+"%)  Federais: R$ "+this.formatarNumero(e.total.ICMSTot.noXml_vTribFed,2)+" ("+this.formatarNumero(100*e.total.ICMSTot.noXml_vTribFed/f,2)+"%)  Estaduais: R$ "+this.formatarNumero(e.total.ICMSTot.noXml_vTribEst,2)+" ("+this.formatarNumero(100*e.total.ICMSTot.noXml_vTribEst/f,2)+"%)  Municipais: R$ "+this.formatarNumero(e.total.ICMSTot.noXml_vTribMun,2)+" ("+this.formatarNumero(100*e.total.ICMSTot.noXml_vTribMun/f,2)+"%) Fonte: IBPT.",e.infAdic.infCpl=t.textoValorAproximadosTributos,t.dadosAdicionais&&(e.infAdic.infCpl+=" "+t.dadosAdicionais),t.dadosAdicionaisEmitente){var C=(e.total.ICMSTot.vNF||0)*(t.aliquotaSimples||0)/100;e.infAdic.infCpl=t.dadosAdicionaisEmitente.replace("[AliquotaSimples]",this.formatarNumero(t.aliquotaSimples,2)).replace("[ValorSimples]",this.formatarNumero(C,2))+" "+e.infAdic.infCpl}t.dadosAdicionaisEnderecoEntrega&&(e.infAdic.infCpl+=t.dadosAdicionaisEnderecoEntrega),e.infAdic.infCpl=e.infAdic.infCpl.replace(/\n/g," ").trim()}e.infRespTec.visivel=!0,e.infRespTec.CNPJ="07660198000189",e.infRespTec.xContato="M.F da Silva Informatica Ltda. - ME",e.infRespTec.email="geeks@geekssolucoes.com.br",e.infRespTec.fone="1621116161"},completarOutrosNFe:function(e,t){if(!e||"object"!==Mt()(e)||Array.isArray(e))return[null,void 0].includes(t)?e:t;var a={};for(var o in e)a[o]=this.completarOutrosNFe(e[o],t?t[o]:null);return a},formatarDataNFe:function(e){return"string"===typeof e&&10===e.length&&(e=new Date(e+"T00:00:00")),At["d"].formatDate(e,"YYYY-MM-DDTHH:mm:ssZ")},formatarDataNFeSemHoras:function(e){return"string"===typeof e&&10===e.length&&(e=new Date(e+"T00:00:00")),At["d"].formatDate(e,"YYYY-MM-DD")},formatarNumero:function(e,t){return(e||0).toFixed(t).replace(".",",").replace(/\d(?=(\d{3})+,)/g,"$&.")},iniciarCampos:function(e,t){ei.log("NFeUtil","iniciarCampos",t);var a=At["d"].formatDate(Date.now());return e.id=hi(),e.dataHoraAlteracao=a,e.dataHoraCriacao=a,"importar"!==t&&(e.outrosNFe=this.completarOutrosNFe(Tt,{}),e.infNFe.ide.dhEmi=this.formatarDataNFe(new Date),e.infNFe.ide.dhSaiEnt=Et.infNFe.ide.dhSaiEnt._valorInic,e.infNFe.ide.nNF=Et.infNFe.ide.nNF._valorInic,e.infNFe.ide.serie=Et.infNFe.ide.serie._valorInic,e.infNFe.ide.tpAmb=Et.infNFe.ide.tpAmb._valorInic),e.situacao=e.outrosNFe.situacao,"NFe"===e.tipo&&(e.infNFe.dest.visivel=!0,e.infNFe.dest.enderDest.visivel=!0),e},filtrarDadosNFe:function(e){for(var t={},a=["id","idDocumento","numeroPDV","cpfCnpjCliente","nomeCliente","infNFe","infEvento","infEventoCC","outrosNFe","alertas","erros"],o=0;o<a.length;o++){var i=a[o];e[i]&&(t[i]=e[i])}return t},prepararDocumentoFiscalEletronico:function(e){var t=e.infNFe.emit||{escolhas:{CPF:"",CNPJ:""},xNome:"",xFant:""},a=e.infNFe.dest||{escolhas:{CPF:"",CNPJ:""},xNome:"",xFant:""};return{id:e.id,tipo:e.tipo,situacao:e.outrosNFe.situacao,tpAmb:e.infNFe.ide.tpAmb,mod:Number(e.infNFe.ide.mod),serie:Number(e.infNFe.ide.serie),nNF:Number(e.infNFe.ide.nNF),chNFe:e.outrosNFe.chNFe,vNF:((e.infNFe.total||{}).ICMSTot||{}).vNF,dhEmi:e.infNFe.ide.dhEmi,dataHoraEmissao:At["d"].formatDate(e.infNFe.ide.dhEmi),dataHoraCriacao:e.dataHoraCriacao,dataHoraAlteracao:na(),cpfCnpjEmitente:t.escolhas.CNPJ||t.escolhas.CPF||"",xNomeEmitente:t.xNome,xFantEmitente:t.xFant,cpfCnpjDestinatario:a.escolhas.CNPJ||a.escolhas.CPF||"",xNomeDestinatario:a.xNome,xFantDestinatario:a.xFant,json:JSON.stringify(this.filtrarDadosNFe(e)),qrCode:"",idDocumento:e.outrosNFe.idDocumento,operacao:e.outrosNFe.operacao,tipoDocumentoFiscal:Et.infNFe.ide.tpNF._enumeration.find(function(t){return t.valor===e.infNFe.ide.tpNF}).rotulo.replace(/^\s*\d+\s*-\s*/g,""),finalidade:Et.infNFe.ide.finNFe._enumeration.find(function(t){return t.valor===e.infNFe.ide.finNFe}).rotulo.replace(/^\s*\d+\s*-\s*/g,""),naturezaOperacao:e.infNFe.ide.natOp}},tiposNumero:["decimal","dinheiro","percentagem"]},$t="http://localhost:5555",Rt="https://api.b15.com.br/integrador";function jt(e){if(e.indexOf("XML INCONSISTENTE")>=0){var t=e.replace(/Início da validação...|...Final da validação|http:\/\/www.portalfiscal.inf.br\/nfe:|no espaço para nome 'http:\/\/www.portalfiscal.inf.br\/nfe'|(Arquivo XML: |Arquivo SCHEMA: )C\\:(\w|>|-|\.|\\)*(\.xml|\.xsd){1}|Linha: \d+ Coluna: \d+ /g,"").replace(/(\r\n)+/g,"\r\n");return console.log(e),console.log(t),t}return e}function zt(e){return e.replace(/=/g,"k__k").replace(/\?/g,"l__l").replace(/&/g,"m__m").replace(/\+/g,"n__n")}function Bt(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function Lt(e){for(var t={},a=["id","idDocumento","numeroPDV","cpfCnpjCliente","nomeCliente","infNFe","outrosNFe","alertas","erros"],o=0;o<a.length;o++){var i=a[o];e[i]&&(t[i]=e[i])}return t}var Vt={url:"",urlSat:"",urlNFe:"",urlImprimir:"",urlIntegrador:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("consultarCadastroContribuinte"!==t){e.next=4;break}this.url=Rt,e.next=26;break;case 4:if("ImprimeNFCe"!==t){e.next=11;break}return e.next=7,Zn.configuracoes.leValorComFiltroEmpresa("integrador.imprimir",a,$t);case 7:this.urlImprimir=e.sent,this.url=this.urlImprimir,e.next=26;break;case 11:if("SAT"!==t){e.next=22;break}return e.next=14,Zn.configuracoes.leValorComFiltroEmpresa("integrador.sat",a,"");case 14:if(this.urlSat=e.sent,this.urlSat){e.next=19;break}return e.next=18,Zn.configuracoes.leValorComFiltroEmpresa("integrador.servidor",a,$t);case 18:this.urlSat=e.sent;case 19:this.url=this.urlSat,e.next=26;break;case 22:return e.next=24,Zn.configuracoes.leValorComFiltroEmpresa("integrador.servidor",a,$t);case 24:this.urlNFe=e.sent,this.url=this.urlNFe;case 26:return e.abrupt("return",this.url);case 27:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),consultarCadastroContribuinte:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o='<?xml version="1.0" encoding="utf-8"?>'+(new XMLSerializer).serializeToString(a),i={action:"ConsultaCadastroContribuinte",certificados:t,documentoXml:zt(o)},e.abrupt("return",this.executar(i,"consultarCadastroContribuinte",void 0));case 3:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),emitirSat:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o={action:"EmiteSAT",sat:zt(t)},e.abrupt("return",this.executar(o,"SAT",a));case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),cancelarSat:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o={action:"CancelaSAT",cancelaSat:zt(t)},e.abrupt("return",this.executar(o,"SAT",a));case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),imprimirCancelamentoSat:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o={action:"ImprimirCancelamentoSAT",cupomSat:zt(t)},e.abrupt("return",this.executar(o,"SAT",a));case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),imprimirSat:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o={action:"ImprimeSAT",cupomSat:zt(t)},e.abrupt("return",this.executar(o,"SAT",a));case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),emitirNFCe:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){var i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=It.Nfe(Et.infNFe,t.infNFe,t.outrosNFe.idDocumento),t.outrosNFe.chNFe=It.chNFe,r={hashCSC:a,tokenCSC:o},e.next=5,this.servicoIntegrador(t,i,"emitirNFCe","Emissão",1,r,"NFCe",t.outrosNFe.idContatoEmitente);case 5:if(s=e.sent,"539"!==s.cStat){e.next=10;break}return e.next=9,this.emitirNFCeDuplicidade(t,r,s.complemento||"");case 9:s=e.sent;case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)}));return function(t,a,o){return e.apply(this,arguments)}}(),emitirNFCeDuplicidade:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){var i,r,s,n,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=(o.match(/\d{44}/g)||[])[0],!i){e.next=7;break}return e.next=4,Zn.documentoFiscalEletronicoErro.le({chNFe:i});case 4:r=e.sent,e.next=16;break;case 7:return s={tpAmb:t.infNFe.ide.tpAmb,cpfCnpjEmitente:t.infNFe.emit.escolhas.CNPJ,mod:Number(t.infNFe.ide.mod),serie:Number(t.infNFe.ide.serie),nNF:Number(t.infNFe.ide.nNF),situacao:"Sem resposta"},e.next=10,Zn.documentoFiscalEletronicoErro.le(s);case 10:if(r=e.sent,0!==r.length){e.next=16;break}return s.situacao="Falha na transmissão",e.next=15,Zn.documentoFiscalEletronicoErro.le(s);case 15:r=e.sent;case 16:if(!(r&&r.length>0)){e.next=25;break}return e.next=19,this.emitirNFCeFaturaAnterior(r[0].json,a);case 19:if(n=e.sent,"Sucesso"!==n.status){e.next=25;break}return t.infNFe.ide.nNF=String(Number(t.infNFe.ide.nNF)+1),c=It.Nfe(Et.infNFe,t.infNFe,t.outrosNFe.idDocumento),t.outrosNFe.chNFe=It.chNFe,e.abrupt("return",this.servicoIntegrador(t,c,"emitirNFCe","Emissão",1,a,"NFCe",t.outrosNFe.idContatoEmitente));case 25:case"end":return e.stop()}},e,this)}));return function(t,a,o){return e.apply(this,arguments)}}(),emitirNFCeFaturaAnterior:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o=JSON.parse(t),o.infNFe.ide.dhEmi=Ot.formatarDataNFe(new Date),i=It.Nfe(Et.infNFe,o.infNFe,o.outrosNFe.idDocumento),o.outrosNFe.chNFe=It.chNFe,e.abrupt("return",this.servicoIntegrador(o,i,"emitirNFCe","Emissão",1,a,"NFCe",o.outrosNFe.idContatoEmitente));case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),cancelarNFCe:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=It.EventoNFe(Et.infEvento,t.infEvento,t.infNFe.ide.nNF),e.abrupt("return",this.servicoIntegrador(t,a,"CancelaNFe","Cancelamento",t.infEvento.nSeqEvento,{},"NFCe",t.outrosNFe.idContatoEmitente));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),imprimirNFCe:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o={action:"ImprimeNFCe",nfce:zt(t)},e.abrupt("return",this.executar(o,"ImprimeNFCe",a));case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),executar:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=gt.a,e.next=4,this.urlIntegrador(a,o);case 4:return e.t1=e.sent,e.t2=Bt(t),e.next=8,e.t0.post.call(e.t0,e.t1,e.t2);case 8:if(i=e.sent,200===i.status&&i.data){e.next=12;break}throw console.error("Falha de comunicação com o Integrador!\nServidor: "+this.url||!1),new ko("Falha de comunicação com o Integrador! \nServidor: "+this.url);case 12:return e.abrupt("return",i.data);case 15:if(e.prev=15,e.t3=e["catch"](0),"Network Error"!==e.t3.message){e.next=21;break}throw new ko("Verifique se o integrador foi iniciado! \nServidor: "+this.url);case 21:throw console.error("Falha de comunicação com o Integrador! \nServidor: "+this.url+"\n"+e.t3.message),new ko("Falha de comunicação com o Integrador! \nServidor: "+this.url);case 23:case"end":return e.stop()}},e,this,[[0,15]])}));return function(t,a,o){return e.apply(this,arguments)}}(),inutilizar:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){var i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i={id:hi(),infInut:a,outrosNFe:Ot.completarOutrosNFe(Tt,{}),infNFe:{ide:{tpAmb:a.tpAmb,mod:a.mod,serie:a.serie,nNF:a.nNFFin},emit:{escolhas:{CNPJ:a.CNPJ}}}},r=It.InutilizarNFe(t,a),e.abrupt("return",this.servicoIntegrador(i,r,"InutilizaNFe","Inutilização",1,{},"NFCe",o));case 3:case"end":return e.stop()}},e,this)}));return function(t,a,o){return e.apply(this,arguments)}}(),servicoIntegrador:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o,i,r){var s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=q.length>5&&void 0!==q[5]?q[5]:{},n=q.length>6?q[6]:void 0,c=q.length>7?q[7]:void 0,l='<?xml version="1.0" encoding="utf-8"?>'+(new XMLSerializer).serializeToString(a),d="",u=t.infNFe.emit||{escolhas:{CPF:"",CNPJ:""},xNome:"",xFant:""},m={id:hi(),tipo:"65"===t.infNFe.ide.mod?"NFCe":"NFe",operacao:i,situacao:"Sem resposta",tpAmb:t.infNFe.ide.tpAmb,mod:Number(t.infNFe.ide.mod),serie:Number(t.infNFe.ide.serie),nNF:Number(t.infNFe.ide.nNF),nNFFin:Number((t.infInut||{}).nNFFin||0),nSeqEvento:Number(r),chNFe:t.outrosNFe.chNFe,dataHoraEnvio:na(),cpfCnpjEmitente:u.escolhas.CNPJ||u.escolhas.CPF||"",json:JSON.stringify(Lt(t)),xmlEnvio:l,idDocumentoFiscalEletronico:t.id,idDocumento:t.outrosNFe.idDocumento},e.next=9,Zn.documentoFiscalEletronicoErro.grava({atual:m});case 9:return p={},e.prev=10,v=at()({action:o,documentoXml:zt(l)},s),e.t0=gt.a,e.next=15,this.urlIntegrador(n,c);case 15:return e.t1=e.sent,e.t2=Bt(v),e.next=19,e.t0.post.call(e.t0,e.t1,e.t2);case 19:if(h=e.sent,p=h.data||{},200===h.status&&h.data){e.next=27;break}return console.error("Falha de comunicação com o Integrador!\nServidor: "+this.url||!1),d="Falha de comunicação com o Integrador! \nServidor: "+this.url,e.next=26,Zn.documentoFiscalEletronicoErro.grava({atual:at()({},m,{mensagem:d,situacao:"Erro integrador"}),original:m});case 26:throw new ko(d);case 27:e.next=43;break;case 29:if(e.prev=29,e.t3=e["catch"](10),"Network Error"!==e.t3.message){e.next=38;break}return d="Verifique se o integrador foi iniciado! \nServidor: "+this.url,e.next=35,Zn.documentoFiscalEletronicoErro.grava({atual:at()({},m,{mensagem:d,situacao:"Sem integrador"}),original:m});case 35:throw new ko(d);case 38:return console.error("Falha de comunicação com o Integrador! \nServidor: "+this.url+"\n"+e.t3.message),d="Falha de comunicação com o Integrador! \nServidor: "+this.url,e.next=42,Zn.documentoFiscalEletronicoErro.grava({atual:at()({},m,{mensagem:d,situacao:"Erro no integrador"}),original:m});case 42:throw new ko(d);case 43:if(f=t.outrosNFe,C="",p.protNFe?f.protNFe={tpAmb:p.protNFe.tpAmb,chNFe:p.protNFe.chNFe,nProt:p.protNFe.nProt,dhRecbto:p.protNFe.dhRecbto,cStat:p.protNFe.cStat,xMotivo:p.protNFe.xMotivo}:p.protNFe={},p.status&&"Erro"!==p.status&&p.protNFe.nProt?(f.situacao=p.situacao||f.situacao,f.situacaoErro="",f.mensagem=jt(p.mensagem),C=p.protNFe.xMotivo+"\nProtocolo: "+f.protNFe.nProt+"\nData recebimento: "+f.protNFe.dhRecbto,"Emissão"===i&&p.protNFe.nProt&&(f.emitida=!0,f.nProt_emissao=p.protNFe.nProt,f.dhRecbto_emissao=p.protNFe.dhRecbto),"Cancelamento"===i&&p.protNFe.nProt&&(f.cancelada=!0)):(p.status="Erro",f.situacaoErro=p.situacao||f.situacao+" - Erro",f.mensagem=jt(p.mensagem||"Falha na operação!"),C=(p.protNFe||{}).xMotivo||""),f.status=p.status,b=at()({},m,{status:f.status,situacao:"Erro"===p.status?f.situacaoErro:f.situacao,mensagem:f.mensagem,cStat:p.protNFe.cStat,xMotivo:p.protNFe.xMotivo,nProt:p.protNFe.nProt,dhRecbto:p.protNFe.dhRecbto,dataHoraResposta:na(),json:JSON.stringify(Lt(t)),xmlProt:p.xml||""}),"Erro"!==p.status){e.next=54;break}return e.next=52,Zn.documentoFiscalEletronicoErro.grava({atual:b,original:m});case 52:e.next=67;break;case 54:return e.next=56,Zn.documentoFiscalEletronicoErro.remove(b.id);case 56:return b.id=hi(),e.next=59,Zn.documentoFiscalEletronicoXml.grava({atual:b});case 59:if("NFCe"!==b.tipo){e.next=67;break}return g=t.infNFe.dest||{escolhas:{CPF:"",CNPJ:""},xNome:"",xFant:""},e.next=63,Zn.documentoFiscalEletronico.le({id:t.id});case 63:return x=e.sent,_={id:t.id,tipo:b.tipo,situacao:f.situacao,tpAmb:t.infNFe.ide.tpAmb,mod:Number(t.infNFe.ide.mod),serie:Number(t.infNFe.ide.serie),nNF:Number(t.infNFe.ide.nNF),chNFe:t.outrosNFe.chNFe,vNF:((t.infNFe.total||{}).ICMSTot||{}).vNF,dhEmi:t.infNFe.ide.dhEmi,dataHoraEmissao:At["d"].formatDate(t.infNFe.ide.dhEmi),dataHoraCriacao:b.dataHoraEnvio,dataHoraAlteracao:b.dataHoraResposta,cpfCnpjEmitente:u.escolhas.CNPJ||u.escolhas.CPF||"",xNomeEmitente:u.xNome,xFantEmitente:u.xFant,cpfCnpjDestinatario:g.escolhas.CNPJ||g.escolhas.CPF||"",xNomeDestinatario:g.xNome,xFantDestinatario:g.xFant,json:JSON.stringify(Lt(t)),qrCode:"Emitido"===f.situacao&&p.QRCode?p.QRCode:x.qrCode,idDocumento:t.outrosNFe.idDocumento},e.next=67,Zn.documentoFiscalEletronico.grava({atual:_,original:x});case 67:return e.abrupt("return",{status:p.status,cStat:(p.protNFe||{}).cStat||"",mensagem:f.mensagem,complemento:C,xml:p.xml});case 68:case"end":return e.stop()}},e,this,[[10,29]])}));return function(t,a,o,i,r){return e.apply(this,arguments)}}()};function Ut(e){return Ht.apply(this,arguments)}function Ht(){return Ht=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a="",o=1;case 2:if(!(o<=5)){e.next=24;break}return e.prev=3,e.next=6,Vt.executar({action:"ArquivoLeTexto",parametro:t});case 6:if(i=e.sent,"Sucesso"!==i.status){e.next=9;break}return e.abrupt("return",i.conteudo);case 9:return a="Erro em ArquivoLeTexto no integrador. Tentativa ".concat(o,". Arquivo: ").concat(t," - ").concat(i.mensagem),console.error(a),e.next=13,xa(1e3);case 13:e.next=21;break;case 15:return e.prev=15,e.t0=e["catch"](3),a="Erro (".concat(e.t0.name,") em ArquivoLeTexto no integrador. Tentativa ").concat(o,". Arquivo: ").concat(t," - ").concat(e.t0.message),console.error(a),e.next=21,xa(1e3);case 21:o++,e.next=2;break;case 24:Po(!0,a);case 25:case"end":return e.stop()}},e,null,[[3,15]])})),Ht.apply(this,arguments)}var Qt=function(e){return Gt.apply(this,arguments)};function Gt(){return Gt=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ut("c:\\Geeks\\DadosPdv\\".concat(t,"\\index.json"));case 2:a=e.sent,o=JSON.parse(a),ei.log("bulkPut",(new Date).toLocaleTimeString("pt-br"),t,o),i=0,e.t0=regeneratorRuntime.keys(o.tabela);case 7:if((e.t1=e.t0()).done){e.next=53;break}return r=e.t1.value,ei.log("bulkPut",(new Date).toLocaleTimeString("pt-br"),t,"clear",r),e.next=12,He(t)[r].clear();case 12:s=!0,n=!1,c=void 0,e.prev=15,l=o.tabela[r][Symbol.iterator]();case 17:if(s=(d=l.next()).done){e.next=37;break}return u=d.value,e.next=21,Ut("c:\\Geeks\\DadosPdv\\".concat(t,"\\").concat(u));case 21:a=e.sent,m=JSON.parse(a)[r],p=1e4,v=0;case 25:if(!(v<m.length)){e.next=34;break}return ei.log("bulkPut",(new Date).toLocaleTimeString("pt-br"),t,u,i),h=m.slice(v,v+p),i+=h.length,e.next=31,He(t)[r].bulkPut(h);case 31:v+=p,e.next=25;break;case 34:s=!0,e.next=17;break;case 37:e.next=43;break;case 39:e.prev=39,e.t2=e["catch"](15),n=!0,c=e.t2;case 43:e.prev=43,e.prev=44,s||null==l.return||l.return();case 46:if(e.prev=46,!n){e.next=49;break}throw c;case 49:return e.finish(46);case 50:return e.finish(43);case 51:e.next=7;break;case 53:return e.abrupt("return",o);case 54:case"end":return e.stop()}},e,null,[[15,39,43,51],[44,,46,50]])})),Gt.apply(this,arguments)}var Jt=function(e,t,a){if(!e||!t||!a)throw new Error("É necessário informar UF, localidade e logradouro.");if(a.length<=3)throw new Error("Informe ao menos três caracteres do logradouro.");return gt.a.get("https://viacep.com.br/ws/".concat(e,"/").concat(t,"/").concat(a,"/json/"))},Xt=function(e){if(!e)throw new Error("É necessário informar um CEP.");if(e=e.toString().replace(/[^0-9]/g,""),8!==e.length)throw new Error("É necessário que o CEP possua oito dígitos.");return gt.a.get("https://viacep.com.br/ws/".concat(e,"/json/"))},Yt=function(e){return JSON.parse(JSON.stringify(e))},Wt=function e(t){var a;if(Array.isArray(t)){var o=[],i=!0,r=!1,s=void 0;try{for(var n,c=t[Symbol.iterator]();!(i=(n=c.next()).done);i=!0){var l=n.value;a=e(l),null!==a&&o.push(a)}}catch(e){r=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw s}}if(0!==t.length)return o}else{if("object"!==Mt()(t)||null===t)return void 0===t?null:t;var d={};for(var u in t)a=e(t[u]),null!==a&&(d[u]=a);if(0!==Object.keys(d).length)return d}return null},Zt=Wt,Kt=function e(t){if(Array.isArray(t))return t.map(function(t){return e(t)});if("object"===Mt()(t)&&null!==t){var a={};for(var o in t)a[o]=e(t[o]);return a}return t},ea=Kt;function ta(e){if("object"!==Mt()(e))throw new Error("O object não é válido.");for(var t in e=Yt(e),e){var a=e[t];if(null!==a||void 0!==a){if("object"!==Mt()(a))continue;if(e[t]=ta(a),a&&Object.keys(a).length>0)continue}Array.isArray(e)?e.splice(t,1):delete e[t]}return e}var aa=ta,oa=(a("28a5"),function(e){if([0,12,13,14].includes(e.length))return e;var t="999000000000".substring(0,12-e.length)+e,a=t.split(""),o=3*(Number(a[1])+Number(a[3])+Number(a[5])+Number(a[7])+Number(a[9])+Number(a[11]))+(Number(a[0])+Number(a[2])+Number(a[4])+Number(a[6])+Number(a[8])+Number(a[10])),i=o%10;return i>0&&(i=10-i),t+String(i)}),ia=a("c1df"),ra=a.n(ia),sa=function(e){return"string"===typeof e&&(e=ra()(e,"DD/MM/YYYY HH:mm:ss.SSS")),!e||isNaN(e)?"":At["d"].formatDate(e)},na=function(){return At["d"].formatDate(Date.now())},ca=(a("4f7f"),a("448a")),la=a.n(ca),da=[null,void 0,"",0,!1],ua=function(e,t){for(var a=[],o=e.length>t.length?e.length:t.length,i=0;i<o;i++){var r=pa(e[i],t[i]);r&&(a[i]=r)}return a.length>0?a:null},ma=function(e,t){var a={};e=e||{},t=t||{};var o=la()(new Set(la()(Object.keys(e)).concat(la()(Object.keys(t))))),i=!0,r=!1,s=void 0;try{for(var n,c=o[Symbol.iterator]();!(i=(n=c.next()).done);i=!0){var l=n.value,d=pa(e[l],t[l]);d&&(a[l]=d)}}catch(e){r=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw s}}return Object.keys(a).length>0?a:null},pa=function(e,t){if(da.includes(e)){if(da.includes(t))return null}else if(Array.isArray(e)){if(Array.isArray(t))return ua(e,t)}else if("object"===Mt()(e)&&"object"===Mt()(t)&&null!==t)return ma(e,t);if(e!==t){var a=Zt(e),o=Zt(t);if(a!==o)return{original:a,alterado:o}}return null},va=pa,ha=function(e,t){var a={};for(var o in t)[null,void 0].includes(t[o])||"object"!==Mt()(t[o])&&e[o]!==t[o]&&(a[o]=t[o]);return a},fa=ha;function Ca(e,t){return Object(ot["transform"])(t,function(t,a,o){Object(ot["isEqual"])(a,e[o])||(t[o]=Object(ot["isObject"])(a)&&Object(ot["isObject"])(e[o])?Ca(a,e[o]):a)})}function ba(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];return a.reduce(function(e,t){return Ca(e,t)},e)}var ga=ba,xa=(a("551c"),function(e){return new Promise(function(t){return setTimeout(t,e)})}),_a=new i["default"],qa=_a,Sa={urlBase:"https://api.b15.com.br"},Ia=function(e,t){return Fa.apply(this,arguments)};function Fa(){return Fa=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o=Yo("executarApi",JSON.stringify(a,0,2)),e.prev=1,i=localStorage.getItem("bancoDeDados"),Eo(!i,"Não foi possível encontrar o nome do banco de dados."),e.next=6,gt()({baseURL:Sa.urlBase,data:at()({token:Zn.usuario.logado.token||"",bancoDeDados:i},a),method:"post",url:t});case 6:return r=e.sent,Eo(200!==r.status,"Api Erro: "+r.status+" - "+r.statusText),Eo(!r.data,"Api Erro"),r.data.error&&console.error("Api Erro: "+JSON.stringify(r.data.error)),Po(!r.data.sucesso,r.data.mensagem||"Falha no servidor"),e.abrupt("return",r.data);case 14:if(e.prev=14,e.t0=e["catch"](1),"ErroValidacao"!==e.t0.name){e.next=18;break}throw e.t0;case 18:Po("Error"===e.t0.name&&"Network Error"===e.t0.message,"Sem internet ou erro de comunicação!"),console.error("Falha no acesso ao servidor! Servidor: "+Sa.urlBase+" Servico: "+t+"\n"+e.t0.stack),Po(!0,"Falha no acesso ao servidor!");case 21:return e.prev=21,Wo(o,1),e.finish(21);case 24:case"end":return e.stop()}},e,null,[[1,14,21,24]])})),Fa.apply(this,arguments)}var wa={urlGraphqlPlataforma:"https://api2.b15.com.br/graphql/",urlGraphqlOptisoul:"https://api2.b15.com.br/graphql/"},ya=function(e,t){return Na.apply(this,arguments)};function Na(){return Na=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n,c,l,d=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o=d.length>2&&void 0!==d[2]?d[2]:"optisoul",i=!(d.length>3&&void 0!==d[3])||d[3],r=Yo("executarGraphql",t.split(" ")[1]),s="plataforma"===o?wa.urlGraphqlPlataforma:wa.urlGraphqlOptisoul,e.prev=4,i&&(n=localStorage.getItem("bancoDeDados"),c=Zn.usuario.logado.token||"",a=at()({bancoDeDados:n,token:c},a)),ei.log("executarGraphql","url: ",o,"\nquery:\n",t,"\nquery variables\n",JSON.stringify(a,0,2)),e.next=9,gt()({baseURL:s,data:{query:t,variables:a},method:"post",url:o});case 9:return l=e.sent,l&&l.data&&l.data.errors&&console.error("executarGraphql ERRO:\n",JSON.stringify(l.data.errors,0,2)),e.abrupt("return",l.data);case 14:e.prev=14,e.t0=e["catch"](4),Po("Error"===e.t0.name&&"Network Error"===e.t0.message,"Sem internet ou erro de comunicação!"),console.error("Falha no acesso aos dados! Servidor: "+s+"\n"+e.t0.name+": "+e.t0.message+"\n"+JSON.stringify((e.t0.response||{}).data||"",0,2)),Po(!0,"Falha no acesso aos dados!");case 19:return e.prev=19,Wo(r,1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[4,14,19,22]])})),Na.apply(this,arguments)}var ka=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"number"===typeof e&&(e=String(e).replace(".",","));for(var a,o,i,r,s=[["zero","um","dois","três","quatro","cinco","seis","sete","oito","nove","dez","onze","doze","treze","quatorze","quinze","dezesseis","dezessete","dezoito","dezenove"],["dez","vinte","trinta","quarenta","cinqüenta","sessenta","setenta","oitenta","noventa"],["cem","cento","duzentos","trezentos","quatrocentos","quinhentos","seiscentos","setecentos","oitocentos","novecentos"],["mil","milhão","bilhão","trilhão","quadrilhão","quintilhão","sextilhão","setilhão","octilhão","nonilhão","decilhão","undecilhão","dodecilhão","tredecilhão","quatrodecilhão","quindecilhão","sedecilhão","septendecilhão","octencilhão","nonencilhão"]],n=String(e).replace(t?/[^,\d]/g:/\D/g,"").split(","),c=" e ",l="real",d="centavo",u=n.length-1,m=-1,p=[],v=[],h="";++m<=u;v=[])if(m&&(n[m]=(1*("."+n[m])).toFixed(2).slice(2)),(a=(o=n[m]).slice((r=o.length)%3).match(/\d{3}/g),o=r%3?[o.slice(0,r%3)]:[],o=a?o.concat(a):o).length){for(a=-1,r=o.length;++a<r;h="")(i=1*o[a])&&(i%100<20?h+=s[0][i%100]:i%100+1&&(h+=s[1][(i%100/10>>0)-1]+(i%10?c+s[0][i%10]:"")),v.push((i<100?h:i%100?s[2][i/100>>0]+c+h:s[2][100===i?0:i/100>>0])+((h=r-a-2)>-1?" "+(i>1&&h>0?s[3][h].replace("ão","ões"):s[3][h]):"")));a=v.length>1?(a=v.pop(),v.join(" ")+c+a):v.join("")||(!m&&1*n[m+1]>0||p.length?"":s[0][0]),a&&p.push(a+(t?" "+(1*o.join("")>1?m?d+"s":(/0{6,}$/.test(n[0])?"de ":"")+l.replace("l","is"):m?d:l):""))}return p.join(c)},Ma=(a("aef6"),function(e,t){var a={contem:function(e,t){return e.includes(t)},diferente:function(e,t){return e!==t},falso:function(e){return!1===e},igual:function(e,t){return e===t},inicia:function(e,t){return e.startsWith(t)},maior:function(e,t){return Number(e)>Number(t)},maiorIgual:function(e,t){return Number(e)>=Number(t)},menor:function(e,t){return Number(e)<Number(t)},menorIgual:function(e,t){return Number(e)<=Number(t)},naoContem:function(e,t){return!e.includes(t)},naoInicia:function(e,t){return!e.startsWith(t)},naoTermina:function(e,t){return!e.endsWith(t)},termina:function(e,t){return e.endsWith(t)},verdadeiro:function(e){return!0===e},entre:function(e,t,a){return Number(e)>=Number(t)&&Number(e)<=Number(a)}},o=!0,i=!1,r=void 0;try{for(var s,n=function(){var t=s.value;e=e.filter(function(e){var o=t.campo,i=t.filtro,r=t.valor,s=t.valorFinal;return!(!a[i]||!e[o])&&a[i](e[o],r,s)})},c=t[Symbol.iterator]();!(o=(s=c.next()).done);o=!0)n()}catch(e){i=!0,r=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw r}}return e}),Pa=function(e){return(e||"").replace(/[^\d]/g,"")},Da=gt.a.create({baseURL:"https://api2.b15.com.br"}),Ea={validateStatus:function(e){return e>=200&&e<=500},timeout:3e4},Ta=function(e,t){return Aa.apply(this,arguments)};function Aa(){return Aa=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n,c,l,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,void 0===a&&(a=localStorage.getItem("bancoDeDados"),Po(!a,"Não foi possível encontrar o nome do banco de dados")),o=it.a.get(Zn,"usuario.logado.token"),o){e.next=7;break}return e.next=6,Zn.usuario.inicializaLogado();case 6:o=it.a.get(Zn,"usuario.logado.token");case 7:return Po(!o,"Usuário não autencicado"),i=void 0,Ea.headers={banco:a,token:o,debug:i},e.next=12,Da.post("",t,Ea);case 12:for(l in r=e.sent,[200].includes(r.status)||(console.error("Erro retornado pelo geeks-api\n",JSON.stringify(r.data,0,2)),s="Mensagem"===it.a.get(r,"data.error.name")&&it.a.get(r,"data.error.message")||"Falha na operação",401===r.status&&(Zn.usuario.desconecta(),window.location.reload()),Po(!0,s,i?r.data:void 0)),n=[],c=[],r.data)d=r.data[l],d&&"object"===Mt()(d)&&d.error&&(console.error("Erro retornado pelo geeks-api\n",JSON.stringify(d.error,0,2)),c.push(d.error),n.push("Mensagem"===it.a.get(d,"error.name")&&it.a.get(d,"error.message")||"Erro no serviço "+l));return Po(n.length,n.join(" - "),i?c:void 0),e.abrupt("return",r);case 21:if(e.prev=21,e.t0=e["catch"](0),"ErroValidacao"!==e.t0.name){e.next=25;break}throw e.t0;case 25:"Error"===e.t0.name&&(Po("Network Error"===e.t0.message,"Sem internet ou erro de comunicação!"),Po(e.t0.message.startsWith("timeout of "),"Tempo limite esgotado ao aguardar a conexão!"),Po("Request failed with status code 504"===e.t0.message,"Serviço não responde! (504 - Gateway Timeout)")),Po(!0,"Falha no acesso ao servidor! "+e.t0.toString());case 27:case"end":return e.stop()}},e,null,[[0,21]])})),Aa.apply(this,arguments)}var Oa=function(e,t,a,o){return $a.apply(this,arguments)};function $a(){return $a=Le()(regeneratorRuntime.mark(function e(t,a,o,i){var r,s,n,c,l,d,u,m,p,v,h;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if([t,a,o,i].every(function(e){return e})){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,He().item.get(t);case 4:return r=e.sent,s=Object(ot["get"])(r,"idNcm",""),e.t0=ot["orderBy"],e.next=9,He().contatoEndereco.where({idContato:o}).toArray();case 9:return e.t1=e.sent,n=(0,e.t0)(e.t1,"grupo","asc"),c=n.find(function(e){return"principal"===(e.grupo||"").toLowerCase()}),c||(c=n.find(function(e){return"principal"!==(e.grupo||"").toLowerCase()})),l=Object(ot["get"])(c,"uf",""),e.t2=ot["orderBy"],e.next=17,He().contatoEndereco.where({idContato:i}).toArray();case 17:return e.t3=e.sent,n=(0,e.t2)(e.t3,"grupo","asc"),c=n.find(function(e){return"principal"===(e.grupo||"").toLowerCase()}),c||(c=n.find(function(e){return"principal"!==(e.grupo||"").toLowerCase()})),d=Object(ot["get"])(c,"uf",""),e.next=24,He().documentoOperacao.where({idCfop:a}).toArray();case 24:if(u=e.sent,m=Object(ot["get"])(u.find(function(e){return e.idCfop}),"finalidade",0),p="",!m){e.next=32;break}return e.next=30,He().impostoParametro.where({cod:m}).toArray();case 30:v=e.sent,p=Object(ot["get"])(v.find(function(e){return e.id}),"id","");case 32:if(![s,a,o,p,l,d].every(function(e){return e})){e.next=41;break}return e.t4=ot["orderBy"],e.next=36,He().impostoConfiguracao.where({idNcm:s}).toArray();case 36:if(e.t5=e.sent,h=(0,e.t4)(e.t5,"cod","desc"),h=h.find(function(e){return e.idCfop===a&&e.idEmitente===o&&e.idTipoCons===p&&e.ufOrigem===l&&e.ufDestino===d}),!h){e.next=41;break}return e.abrupt("return",{aliqIpi:Object(ot["get"])(h,"aliqIpi",0),percIva:Object(ot["get"])(h,"percIva",0)});case 41:case"end":return e.stop()}},e)})),$a.apply(this,arguments)}var Ra=function(){return window||window.print?window.print():cordova||cordova.plugins||cordova.plugins.print?cordova.plugins.printer.print():void this.$q.notify("Não encontramos comunicação com a impressora.")},ja=function(e){return"number"===typeof e&&isFinite(e)},za=function(e,t,a,o){return Ba.apply(this,arguments)};function Ba(){return Ba=Le()(regeneratorRuntime.mark(function e(t,a,o,i){var r,s,n,c,l,d,u,m,p,v;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r=a.id,s="plataforma"===t?Ge:He(),n="id"+Ja(o),c=!0,l=!1,d=void 0,e.prev=6,u=i[Symbol.iterator]();case 8:if(c=(m=u.next()).done){e.next=22;break}return p=m.value,v=s[o+Ja(p)],e.prev=11,e.next=14,v.where(n).equals(r).toArray();case 14:a[p]=e.sent,e.next=19;break;case 17:e.prev=17,e.t0=e["catch"](11);case 19:c=!0,e.next=8;break;case 22:e.next=28;break;case 24:e.prev=24,e.t1=e["catch"](6),l=!0,d=e.t1;case 28:e.prev=28,e.prev=29,c||null==u.return||u.return();case 31:if(e.prev=31,!l){e.next=34;break}throw d;case 34:return e.finish(31);case 35:return e.finish(28);case 36:return e.abrupt("return",a);case 37:case"end":return e.stop()}},e,null,[[6,24,28,36],[11,17],[29,,31,35]])})),Ba.apply(this,arguments)}var La={AC:12,AL:27,AM:13,AP:16,BA:29,CE:23,DF:53,ES:32,GO:52,MA:21,MG:31,MS:50,MT:51,PA:15,PB:25,PE:26,PI:22,PR:41,RJ:33,RN:24,RO:11,RR:14,RS:43,SC:42,SE:28,SP:35,TO:17},Va={"Aguardando Conferência":{permiteNota:!0},"Aguardando Entrega":{permiteNota:!0},"Aguardando Estoque":{permiteNota:!0},"Aguardando Faturamento":{permiteNota:!0},"Aguardando Financeiro":{permiteNota:!0},"Aguardando Liberação":{permiteNota:!0},"Aguardando Pagamento":{permiteNota:!0},"Aguardando Separação":{permiteNota:!0},Cancelado:{permiteNota:!1},"Em Separação":{permiteNota:!0},Entregue:{permiteNota:!0},Faturado:{permiteNota:!0},Finalizado:{permiteNota:!0},"Não Aprovado":{permiteNota:!1},"Orçamento":{permiteNota:!1}},Ua={Aberta:{permiteNota:!1},"Aguardando Pagamento":{permiteNota:!0},Ativo:{permiteNota:!0},Cancelado:{permiteNota:!1},Faturado:{permiteNota:!0},Finalizada:{permiteNota:!0}},Ha=at()({},Va,Ua),Qa=function(e){return Ha[(e||{}).status]||{permiteNota:!1}},Ga=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t&&t.name&&["Alerta","ErroValidacao"].includes(t.name)&&(e=t.message),t&&Object.keys(t).length&&!["Alerta","ErroValidacao"].includes(t.name)?console.error("Mensagem ao usuário:",e,"\n",t):console.error("Mensagem ao usuário:",e),$e["a"].create({message:e,type:"Alerta"===t.name?"warning":"negative"}),e},Ja=function(e){return e[0].toUpperCase()+e.slice(1)},Xa=function(e){return e[0].toLowerCase()+e.slice(1)},Ya=function(e,t,a){return Wa.apply(this,arguments)};function Wa(){return Wa=Le()(regeneratorRuntime.mark(function e(t,a,o){var i,r,s,n,c,l,d,u,m,p,v,h,f,C;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i=!1,r=!0,s=!1,n=void 0,e.prev=4,c=regeneratorRuntime.mark(function e(){var a,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=d.value,r=o.find(function(e){return e.id===a.id}),r){e.next=9;break}return e.next=5,He()[t].delete(a.id);case 5:return e.next=7,so("remover",t,a.id);case 7:return i=!0,e.abrupt("return","continue");case 9:if(s=ga(a,r),!Object.keys(s).length){e.next=16;break}return e.next=13,He()[t].update(a.id,s);case 13:return e.next=15,so("atualizar",t,a.id,s);case 15:i=!0;case 16:case"end":return e.stop()}},e)}),l=(a||[])[Symbol.iterator]();case 7:if(r=(d=l.next()).done){e.next=15;break}return e.delegateYield(c(),"t0",9);case 9:if(u=e.t0,"continue"!==u){e.next=12;break}return e.abrupt("continue",12);case 12:r=!0,e.next=7;break;case 15:e.next=21;break;case 17:e.prev=17,e.t1=e["catch"](4),s=!0,n=e.t1;case 21:e.prev=21,e.prev=22,r||null==l.return||l.return();case 24:if(e.prev=24,!s){e.next=27;break}throw n;case 27:return e.finish(24);case 28:return e.finish(21);case 29:m=!0,p=!1,v=void 0,e.prev=32,h=regeneratorRuntime.mark(function e(){var o,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o=C.value,r=(a||[]).find(function(e){return e.id===o.id}),r){e.next=9;break}return o.id=o.id||hi(),e.next=6,He()[t].put(o);case 6:return e.next=8,so("adicionar",t,o.id,o);case 8:i=!0;case 9:case"end":return e.stop()}},e)}),f=(o||[])[Symbol.iterator]();case 35:if(m=(C=f.next()).done){e.next=40;break}return e.delegateYield(h(),"t2",37);case 37:m=!0,e.next=35;break;case 40:e.next=46;break;case 42:e.prev=42,e.t3=e["catch"](32),p=!0,v=e.t3;case 46:e.prev=46,e.prev=47,m||null==f.return||f.return();case 49:if(e.prev=49,!p){e.next=52;break}throw v;case 52:return e.finish(49);case 53:return e.finish(46);case 54:return e.abrupt("return",i);case 55:case"end":return e.stop()}},e,null,[[4,17,21,29],[22,,24,28],[32,42,46,54],[47,,49,53]])})),Wa.apply(this,arguments)}var Za=function(e,t,a,o){return Ka.apply(this,arguments)};function Ka(){return Ka=Le()(regeneratorRuntime.mark(function e(t,a,o,i){var r,s,n,c,l,d,u,m,p,v,h,f,C,b;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He()[t].where(a).equals(o).toArray();case 2:r=e.sent,s=!0,n=!1,c=void 0,e.prev=6,l=regeneratorRuntime.mark(function e(){var a,o,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=u.value,o=i.find(function(e){return e.id===a.id}),o){e.next=8;break}return e.next=5,He()[t].delete(a.id);case 5:return e.next=7,so("remover",t,a.id);case 7:return e.abrupt("return","continue");case 8:return e.next=10,He()[t].update(a.id,o);case 10:if(r=e.sent,!r){e.next=15;break}return s=ga(a,o),e.next=15,so("atualizar",t,a.id,s);case 15:case"end":return e.stop()}},e)}),d=r[Symbol.iterator]();case 9:if(s=(u=d.next()).done){e.next=17;break}return e.delegateYield(l(),"t0",11);case 11:if(m=e.t0,"continue"!==m){e.next=14;break}return e.abrupt("continue",14);case 14:s=!0,e.next=9;break;case 17:e.next=23;break;case 19:e.prev=19,e.t1=e["catch"](6),n=!0,c=e.t1;case 23:e.prev=23,e.prev=24,s||null==d.return||d.return();case 26:if(e.prev=26,!n){e.next=29;break}throw c;case 29:return e.finish(26);case 30:return e.finish(23);case 31:p=!0,v=!1,h=void 0,e.prev=34,f=regeneratorRuntime.mark(function e(){var i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=b.value,s=r.find(function(e){return e.id===i.id}),s){e.next=9;break}return i.id=hi(),i[a]=o,e.next=7,He()[t].add(i);case 7:return e.next=9,so("adicionar",t,i.id,i);case 9:case"end":return e.stop()}},e)}),C=i[Symbol.iterator]();case 37:if(p=(b=C.next()).done){e.next=42;break}return e.delegateYield(f(),"t2",39);case 39:p=!0,e.next=37;break;case 42:e.next=48;break;case 44:e.prev=44,e.t3=e["catch"](34),v=!0,h=e.t3;case 48:e.prev=48,e.prev=49,p||null==C.return||C.return();case 51:if(e.prev=51,!v){e.next=54;break}throw h;case 54:return e.finish(51);case 55:return e.finish(48);case 56:case"end":return e.stop()}},e,null,[[6,19,23,31],[24,,26,30],[34,44,48,56],[49,,51,55]])})),Ka.apply(this,arguments)}var eo=function(e,t,a){return to.apply(this,arguments)};function to(){return to=Le()(regeneratorRuntime.mark(function e(t,a,o){var i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i="id"+Ja(t),r=Object.keys(o),s=0;case 3:if(!(s<r.length)){e.next=66;break}return n=r[s],c=t+Ja(n),l=o[n]||[],e.next=9,He()[c].where(i).equals(a).toArray();case 9:d=e.sent,u=!0,m=!1,p=void 0,e.prev=13,v=regeneratorRuntime.mark(function e(){var t,a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=f.value,a=l.find(function(e){return e.id===t.id}),a){e.next=8;break}return e.next=5,He()[c].delete(t.id);case 5:return e.next=7,so("remover",c,t.id);case 7:return e.abrupt("return","continue");case 8:return e.next=10,He()[c].update(t.id,a);case 10:if(o=e.sent,!o){e.next=15;break}return i=ga(t,a),e.next=15,so("atualizar",c,t.id,i);case 15:case"end":return e.stop()}},e)}),h=d[Symbol.iterator]();case 16:if(u=(f=h.next()).done){e.next=24;break}return e.delegateYield(v(),"t0",18);case 18:if(C=e.t0,"continue"!==C){e.next=21;break}return e.abrupt("continue",21);case 21:u=!0,e.next=16;break;case 24:e.next=30;break;case 26:e.prev=26,e.t1=e["catch"](13),m=!0,p=e.t1;case 30:e.prev=30,e.prev=31,u||null==h.return||h.return();case 33:if(e.prev=33,!m){e.next=36;break}throw p;case 36:return e.finish(33);case 37:return e.finish(30);case 38:b=!0,g=!1,x=void 0,e.prev=41,_=regeneratorRuntime.mark(function e(){var t,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=S.value,o=d.find(function(e){return e.id===t.id}),o){e.next=9;break}return t.id=hi(),t[i]=a,e.next=7,He()[c].add(t);case 7:return e.next=9,so("adicionar",c,t.id,t);case 9:case"end":return e.stop()}},e)}),q=l[Symbol.iterator]();case 44:if(b=(S=q.next()).done){e.next=49;break}return e.delegateYield(_(),"t2",46);case 46:b=!0,e.next=44;break;case 49:e.next=55;break;case 51:e.prev=51,e.t3=e["catch"](41),g=!0,x=e.t3;case 55:e.prev=55,e.prev=56,b||null==q.return||q.return();case 58:if(e.prev=58,!g){e.next=61;break}throw x;case 61:return e.finish(58);case 62:return e.finish(55);case 63:s++,e.next=3;break;case 66:case"end":return e.stop()}},e,null,[[13,26,30,38],[31,,33,37],[41,51,55,63],[56,,58,62]])})),to.apply(this,arguments)}function ao(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}var oo=ao;function io(e){return(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^ -}]|[<>"'@#¨]/g," ").trim()}var ro=io,so=function(e,t,a,o,i){return no.apply(this,arguments)};function no(){return no=Le()(regeneratorRuntime.mark(function e(t,a,o,i,r){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r="plataforma"===r?Ge:r?He(r):He(),t&&a&&o){e.next=3;break}throw new Error('Os campos "acao", "tabela" e "chave" são obrigatórios.');case 3:return"object"!==Mt()(i)&&(i={}),ei.log("sincronismoEnviar",t,a,o,i),s={id:hi(),acao:t,tabela:a,chave:o,valor:i,dataHora:na(),idUsuario:Zn.usuario.logado.id,nomeUsuario:Zn.usuario.logado.nome},e.next=8,r.sincronismoFila.add(s);case 8:tc.status.tamanhoFila++;case 9:case"end":return e.stop()}},e)})),no.apply(this,arguments)}var co=function(){var e="b15";try{var t=JSON.parse(localStorage.getItem("clienteSistema"));[37,23,42,40,52,53,57,58,63,68].includes(t.codigoSistema)&&(e="optisoul")}catch(t){e=""}return e},lo=function(e,t){return e.reduce(function(e,a){return e+a[t]||0},0)},uo=function(e,t){if(!e||!e.data||!e.data[t])throw new Error(JSON.stringify(e,0,2));if(!e.data[t].sucesso)throw e.data[t].mensagem?new ko(e.data[t].mensagem):new Error(JSON.stringify(e,0,2))},mo=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=[],i=0,r=e.length;i<r;i++)o[e[i][t]||a]=!0;return Object.keys(o)},po=mo;function vo(){return ho.apply(this,arguments)}function ho(){return ho=Le()(regeneratorRuntime.mark(function e(){var t,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=JSON.parse(localStorage.getItem("clienteSistema"))||{},!(t||{}).idClienteSistema){e.next=10;break}return e.next=4,Ge.clienteSistema.filter(function(e){return e.id===t.idClienteSistema}).first();case 4:if(a=e.sent,!(a||{}).idCliente){e.next=10;break}return e.next=8,Ge.contato.filter(function(e){return e.id===a.idCliente}).first();case 8:o=e.sent,qa.$emit("exibirConduta",{observacao:((o||{}).condutaObservacao||"").trim(),restricao:((o||{}).condutaRestricao||"").trim()});case 10:case"end":return e.stop()}},e)})),ho.apply(this,arguments)}var fo=vo,Co=function(e,t){return bo.apply(this,arguments)};function bo(){return bo=Le()(regeneratorRuntime.mark(function e(t,a){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.$touch(),o=function(){return new Promise(function(e){var o=a.$watch(function(){return t.$pending},function(t){t||(o&&o(),e())},{immediate:!0})})},e.next=4,o();case 4:return e.abrupt("return",!t.$error);case 5:case"end":return e.stop()}},e)})),bo.apply(this,arguments)}var go=a("970b"),xo=a.n(go),_o=a("6b58"),qo=a.n(_o),So=a("36c6"),Io=a.n(So),Fo=a("ed6d"),wo=a.n(Fo),yo=a("a128"),No=a.n(yo),ko=function(e){function t(e){var a;return xo()(this,t),a=qo()(this,Io()(t).call(this,e)),a.name="ErroValidacao",a.message=e,a}return wo()(t,e),t}(No()(Error)),Mo=function(e){function t(e){var a;return xo()(this,t),a=qo()(this,Io()(t).call(this,e)),a.name="Alerta",a.message=e,a}return wo()(t,e),t}(No()(Error));function Po(e,t){if(e)throw new ko(t)}function Do(e,t){if(e)throw new Mo(t)}function Eo(e,t){if(e)throw new Error(t)}function To(e,t){return Ao.apply(this,arguments)}function Ao(){return Ao=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o=[1202,1411,2202,2411,5102,6102,5405,6404],t&&o.includes(a)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,He()._ncm.where({ncm:t}).toArray();case 5:if(i=e.sent,r=i[0]||{},r.id){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,He().cfop.where("cfop").anyOf(o).toArray();case 11:if(i=e.sent,!r.st){e.next=23;break}if(1202!==a){e.next=15;break}return e.abrupt("return",i.find(function(e){return 1411===e.cfop}));case 15:if(2202!==a){e.next=17;break}return e.abrupt("return",i.find(function(e){return 2411===e.cfop}));case 17:if(5102!==a){e.next=19;break}return e.abrupt("return",i.find(function(e){return 5405===e.cfop}));case 19:if(6102!==a){e.next=21;break}return e.abrupt("return",i.find(function(e){return 6404===e.cfop}));case 21:e.next=31;break;case 23:if(1411!==a){e.next=25;break}return e.abrupt("return",i.find(function(e){return 1202===e.cfop}));case 25:if(2411!==a){e.next=27;break}return e.abrupt("return",i.find(function(e){return 2202===e.cfop}));case 27:if(5405!==a){e.next=29;break}return e.abrupt("return",i.find(function(e){return 5102===e.cfop}));case 29:if(6404!==a){e.next=31;break}return e.abrupt("return",i.find(function(e){return 6102===e.cfop}));case 31:case"end":return e.stop()}},e)})),Ao.apply(this,arguments)}function Oo(e){return $o.apply(this,arguments)}function $o(){return $o=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a={},o=null,i=[],r={},s={},e.next=3,He().documento.get(t);case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:if(o=e.t0,["Venda","Fatura"].includes(o.tipo)){e.next=9;break}return e.abrupt("return");case 9:if("Fatura"!==o.tipo){e.next=15;break}return e.next=12,He().documento.where({idFatura:t}).toArray();case 12:i=e.sent,e.next=16;break;case 15:i.push(o);case 16:n=!0,c=!1,l=void 0,e.prev=19,d=i[Symbol.iterator]();case 21:if(n=(u=d.next()).done){e.next=62;break}return m=u.value,e.next=25,He().documentoItem.where({idDocumento:m.id}).toArray();case 25:p=e.sent,v=!0,h=!1,f=void 0,e.prev=29,C=p[Symbol.iterator]();case 31:if(v=(b=C.next()).done){e.next=45;break}if(g=b.value,!g.idCfop||a[g.idCfop]){e.next=41;break}return e.next=36,He().cfop.get(g.idCfop);case 36:if(e.t1=e.sent,e.t1){e.next=39;break}e.t1={};case 39:x=e.t1,x.id&&(a[x.id]=x.cfop);case 41:r[g.id]={idItem:g.idItem,idCfop:g.idCfop};case 42:v=!0,e.next=31;break;case 45:e.next=51;break;case 47:e.prev=47,e.t2=e["catch"](29),h=!0,f=e.t2;case 51:e.prev=51,e.prev=52,v||null==C.return||C.return();case 54:if(e.prev=54,!h){e.next=57;break}throw f;case 57:return e.finish(54);case 58:return e.finish(51);case 59:n=!0,e.next=21;break;case 62:e.next=68;break;case 64:e.prev=64,e.t3=e["catch"](19),c=!0,l=e.t3;case 68:e.prev=68,e.prev=69,n||null==d.return||d.return();case 71:if(e.prev=71,!c){e.next=74;break}throw l;case 74:return e.finish(71);case 75:return e.finish(68);case 76:e.t4=regeneratorRuntime.keys(r);case 77:if((e.t5=e.t4()).done){e.next=90;break}if(_=e.t5.value,q=r[_].idItem,!q||s[q]){e.next=88;break}return e.next=83,He().item.get(q);case 83:if(e.t6=e.sent,e.t6){e.next=86;break}e.t6={};case 86:S=e.t6,S.id&&(s[S.id]=S.ncm);case 88:e.next=77;break;case 90:e.t7=regeneratorRuntime.keys(r);case 91:if((e.t8=e.t7()).done){e.next=104;break}return I=e.t8.value,e.next=95,To(s[r[I].idItem],a[r[I].idCfop]);case 95:if(F=e.sent,!F){e.next=102;break}return w={idCfop:F.id,operacaoFator:F.fator,operacao:F.operacao},e.next=100,He().documentoItem.update(I,w);case 100:return e.next=102,so("atualizar","documentoItem",I,w);case 102:e.next=91;break;case 104:case"end":return e.stop()}},e,null,[[19,64,68,76],[29,47,51,59],[52,,54,58],[69,,71,75]])})),$o.apply(this,arguments)}var Ro={urlBanco:"https://erp.dev.b15.com.br/Core/ExecuteSqlV2"},jo=function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=r.length>1&&void 0!==r[1]?r[1]:null,o=Yo("executarSql",a||"","\n",t),e.prev=2,a||(a=localStorage.getItem("bancoDeDados")),a){e.next=6;break}throw new Error("Não foi possível encontrar o nome do banco de dados.");case 6:return e.next=8,gt()({baseURL:Ro.urlBanco,data:{token:Zn.usuario.logado.token||"",database:a,sentence:t},method:"post"});case 8:if(i=e.sent,200===i.status){e.next=11;break}throw new Error("Sql Erro: "+i.status+" - "+i.statusText);case 11:if(!i.data||!i.data.error){e.next=13;break}throw new Error("Sql Server Erro: "+i.data.error.name+" - "+i.data.error.message);case 13:return e.abrupt("return",i.data);case 16:e.prev=16,e.t0=e["catch"](2),Po("Error"===e.t0.name&&"Network Error"===e.t0.message,"Sem internet ou erro de comunicação!"),console.error("Falha no acesso aos Dados!  Servidor: "+Ro.urlBanco+"\n"+e.t0.stack),Po(!0,"Falha no acesso aos dados!");case 21:return e.prev=21,Wo(o,1),e.finish(21);case 24:case"end":return e.stop()}},e,null,[[2,16,21,24]])}));return function(t){return e.apply(this,arguments)}}(),zo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=["alter","create","delete","drop","exec","grant","insert","truncate","update"],o=a.some(function(t){return~e.toLowerCase().indexOf(t)});if(o)throw new Error("Query não permitida!");return jo(e,t)},Bo=function(e){return e?(e.constructor!==Date&&(e=new Date(e)),isNaN(e)?"NULL":"'".concat(e.getFullYear().toString().padStart(4,"0"))+"-".concat((e.getMonth()+1).toString().padStart(2,"0"))+"-".concat(e.getDate().toString().padStart(2,"0"))+"T".concat(e.getHours().toString().padStart(2,"0"))+":".concat(e.getMinutes().toString().padStart(2,"0"))+":".concat(e.getSeconds().toString().padStart(2,"0"))+".000'"):"NULL"},Lo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e||void 0===e||e===1/0||isNaN(e)){if(null===t)return"NULL";e=t}return"number"===typeof e?e.toString():e},Vo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e||void 0===e){if(null===t)return"NULL";e=t}return"'".concat(String(e).replace(/'/g,"''"),"'")},Uo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAABQAQMAAAAa6XZvAAAAA1BMVEUAAACnej3aAAAADElEQVR42mNgGFkAAADwAAE4aVpRAAAAAElFTkSuQmCC",Ho="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAABQAQMAAAAa6XZvAAAAA1BMVEX///+nxBvIAAAADElEQVR42mNgGFkAAADwAAE4aVpRAAAAAElFTkSuQmCC";function Qo(e,t){var a=1,o=3,i=50;t&&(i=t);var r=[];r.push("00110"),r.push("10001"),r.push("01001"),r.push("11000"),r.push("00101"),r.push("10100"),r.push("01100"),r.push("00011"),r.push("10010"),r.push("01010");for(var s=9;s>=0;s--)for(var n=9;n>=0;n--){for(var c=10*s+n,l="",d=1;d<6;d++)l+=r[s].substr(d-1,1)+r[n].substr(d-1,1);r[c]=l}var u,m,p="<img src='"+Uo+"' width="+a+" height="+i+" border=0><img src='"+Ho+"' width="+a+" height="+i+" border=0><img src='"+Uo+"' width="+a+" height="+i+" border=0><img src='"+Ho+"' width="+a+" height="+i+" border=0><img ";l=e;l.length%2!=0&&(l="0"+l);while(l.length>0){s=parseInt(Go(l,2)),l=Jo(l,l.length-2),c=r[s];for(d=1;d<11;d+=2)u="0"==c.substr(d-1,1)?a:o,p+=" src='"+Uo+"' width="+u+" height="+i+" border=0><img ",m="0"==c.substr(d,1)?a:o,p+=" src='"+Ho+"' width="+m+" height="+i+" border=0><img "}return p+=" src='"+Uo+"' width="+o+" height="+i+" border=0><img src='"+Ho+"' width="+a+" height="+i+" border=0><img src='"+Uo+"' width="+a+" height="+i+" border=0> ",p}function Go(e,t){return e.substr(0,t)}function Jo(e,t){return e.substr(e.length-t,t)}function Xo(){var e;(e=console).log.apply(e,arguments)}function Yo(e){var t=ra()(new Date);if(!1!==Zo[e]){for(var a,o=arguments.length,i=new Array(o>1?o-1:0),r=1;r<o;r++)i[r-1]=arguments[r];(a=console).log.apply(a,["".concat(t.format("HH:mm:ss.SSS")," ").concat(e," ini")].concat(i))}return{inic:t,modulo:e}}function Wo(e,t){var a=ra()(new Date);if(!1!==Zo[e.modulo]){for(var o,i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];(o=console).log.apply(o,["".concat(a.format("HH:mm:ss.SSS")," ").concat(e.modulo," fim\n tamanho:"),t||0,"tempo:",a.diff(e.inic)].concat(r))}}var Zo={App:!1,Atendimento:!1,AutenticacaoBancos:!1,ChatMensagens:!1,Cockpit:!1,ContatoCriar:!1,ContatoFicha:!1,CpfCnpjNoCupom:!1,Documento:!1,DocumentosFiscais:!1,EnvelopeTrocarStatus:!1,Financeiro:!1,FinanceiroBoletos:!1,ImportarContatos:!1,ImportarItens:!1,Item:!1,ItemEstoque:!1,ItemFicha:!1,ItemFichaAtualizar:!1,Layout_Envelopes:!1,LogSinc:!0,LogSincD:!1,NFe2:!1,NFe:!0,NFeCancelamento:!1,NFeCard:!1,NFeCartaCorrecao:!1,NFeDadosDaNota:!1,NFeDestinatario:!1,NFeEmitente:!1,NFeFaturamento:!1,NFeFormulario:!1,NFeIbpt:!1,NFeInformacoesAdicionais:!1,NFeLayout:!1,NFeLista:!1,NFeOperacoes:!1,NFeOutrosValores:!1,NFePagamento:!1,NFePessoasAutorizadas:!1,NFePrincipal:!1,NFeProdutos:!1,NFeProdutosModal:!1,NFeReferenciada:!1,NFeTotais:!1,NFeTransporte:!1,NFeUtil:!1,Plataforma15:!0,PromptContato:!1,PromptItem:!1,_ncm:!1,beforeRouteLeave:!1,cfop:!1,compactarValidarNFe:!1,contato:!1,documentoFiscalEletronico:!1,documentoFiscalEletronicoErro:!1,documentoFiscalEletronicoXml:!1,emitirNFe:!1,executarGraphql:!1,executarSql:!1,gerarJsonBaseD:!1,gerarJsonNFCe:!1,gerarJsonNFCeD:!1,gerarJsonNFe:!1,gerarJsonNFeD:!1,gerarSat:!1,gerarSatD:!1,item:!1,nfeIbpt:!1,robust:!1,router:!1,sincDescarregar:!1,sincEnviar:!1,sincronismoEnviar:!1,sincronismoRoteador:!1,tela1:!1,usuario:!1},Ko=localStorage.getItem("logar");if(Ko)try{Zo=at()({},Zo,JSON.parse(Ko))}catch(e){console.error("Variável 'logar' do localStorage com json inválido\n",e)}localStorage.setItem("logar",JSON.stringify(Zo));var ei={error:function(){var e;(void 0===Zo[arguments[0]]&&(Zo[arguments[0]]=!0),!1===!Zo[arguments[0]])&&(e=console).error.apply(e,arguments)},warn:function(){var e;(void 0===Zo[arguments[0]]&&(Zo[arguments[0]]=!0),!1===!Zo[arguments[0]])&&(e=console).warn.apply(e,arguments)},info:function(){void 0===Zo[arguments[0]]&&(Zo[arguments[0]]=!0),!1===!Zo[arguments[0]]&&console.info(arguments[1],arguments[2])},log:function(){var e;(void 0===Zo[arguments[0]]&&(Zo[arguments[0]]=!0),!1===!Zo[arguments[0]])&&(e=console).log.apply(e,arguments)},time:function(e){if(void 0===Zo[e]&&(Zo[e]=!0),!1===!Zo[e]){for(var t,a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];(t=console).time.apply(t,o)}},timeEnd:function(e){if(void 0===Zo[e]&&(Zo[e]=!0),!1===!Zo[e]){for(var t,a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];(t=console).timeEnd.apply(t,o)}}},ti=["f//AAAAAAAAAAAAAAAAAAAA","f//AAAAAAAAAAAAAAAAAAAB","f//AAAAAAAAAAAAAAEAAAD/","f//AAAAAAAAAAAAAAEAAAAA","f//AAAAAAAAAQAAAP8AAAAA","f//AAAAAAAAAQAAAP8AAAAB","f//AAAAAAAAAQAAAAAAAAD/","f//AAAAAAAAAQAAAAAAAAAA","f//AAABAAAA/wAAAAAAAAAA","f//AAABAAAA/wAAAAAAAAAB","f//AAABAAAA/wAAAAEAAAD/","f//AAABAAAA/wAAAAEAAAAA","f//AAABAAAAAAAAAP8AAAAA","f//AAABAAAAAAAAAP8AAAAB","f//AAABAAAAAAAAAAAAAAD/","f//AAABAAAAAAAAAAAAAAAA","QD/AAD/AAAAAAAAAAAAAAAA","QD/AAD/AAAAAAAAAAAAAAAB","QD/AAD/AAAAAAAAAAEAAAD/","QD/AAD/AAAAAAAAAAEAAAAA","QD/AAD/AAAAAQAAAP8AAAAA","QD/AAD/AAAAAQAAAP8AAAAB","QD/AAD/AAAAAQAAAAAAAAD/","QD/AAD/AAAAAQAAAAAAAAAA","QD/AAAAAAAA/wAAAAAAAAAA","QD/AAAAAAAA/wAAAAAAAAAB","SL/AADeAAAA/gAAAAIAAAD+","QD/AAAAAAAA/wAAAAEAAAAA","QD/AAAAAAAAAAAAAP8AAAAA","QD/AAAAAAAAAAAAAP8AAAAB","QD/AAAAAAAAAAAAAAAAAAD/","QD/AAAAAAAAAAAAAAAAAAAA"],ai=["US0CAuSD38g","UUYCA7QBErs","ajEDAm49ReY","UUoCA+juogg","bjEDAjQrOn0","bkoDA3iPVH4","ajUDAt82atY","UU4CA1nljTg","cjEDAghkmFU","ckoDA0TA9lY","izUEAhrxcbg","ck4DAxY8F10","bjUDAlvFFR8","bk4DAxdhexw","ajkDAr7LFAw","UVICAyQ+UJI","TTECAq7UnEM","TUoCA+Jw8kA","ZjUDAmZGozo","TU4CA7CME0s","ajUDAvnk9E4","ak4DA7VAmk0","ZjkDAtle3bI","TVICAxOyzrM","STUCAqHeHtM","SU4CA+16cNA","h6QEAZKdo54","SVICA62zYxM","RTkCAqx1lb4","RVICA/z3WM0","QT0CAkdoxRU","KFYBA46vJCA"],oi='<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAACCAQAAADLaIVbAAAANUlEQVQIHQEqANX/A',ii="AAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAA",ri='AAAAASUVORK5CYII=" style="width:',si=["11011001100","11001101100","11001100110","10010011000","10010001100","10001001100","10011001000","10011000100","10001100100","11001001000","11001000100","11000100100","10110011100","10011011100","10011001110","10111001100","10011101100","10011100110","11001110010","11001011100","11001001110","11011100100","11001110100","11101101110","11101001100","11100101100","11100100110","11101100100","11100110100","11100110010","11011011000","11011000110","11000110110","10100011000","10001011000","10001000110","10110001000","10001101000","10001100010","11010001000","11000101000","11000100010","10110111000","10110001110","10001101110","10111011000","10111000110","10001110110","11101110110","11010001110","11000101110","11011101000","11011100010","11011101110","11101011000","11101000110","11100010110","11101101000","11101100010","11100011010","11101111010","11001000010","11110001010","10100110000","10100001100","10010110000","10010000110","10000101100","10000100110","10110010000","10110000100","10011010000","10011000010","10000110100","10000110010","11000010010","11001010000","11110111010","11000010100","10001111010","10100111100","10010111100","10010011110","10111100100","10011110100","10011110010","11110100100","11110010100","11110010010","11011011110","11011110110","11110110110","10101111000","10100011110","10001011110","10111101000","10111100010","11110101000","11110100010","10111011110","10111101110","11101011110","11110101110","11010000100","11010010000","11010011100","1100011101011","11010111000"],ni={genBarcode:function(e,t,a){var o,i,r,s=[],n=e.length%5;if(n>0)for(o=0;o<5-n;o+=1)e+="0";for(i=e.length/5,o=0;o<i;o+=1)s[o]=parseInt(e.substr(5*o,5),2);for(r="",o=0;o<s.length;o+=1)r+=oi+ti[s[o]]+ii+ai[s[o]]+ri+t+"px;height:"+a+'px;">';return r},funcCode128C:function(e){var t,a,o,i,r=0,s=[];for(i=e.length,r=s[0]=105,t=0,a=0;t<i;t+=2,a+=1)s[a+1]=parseInt(e.substr(t,2),10),o=a+1,r+=o*s[a+1];s[a+1]=r%103,s[a+2]=106;var n="";for(t=0;t<s.length;t+=1)n+=si[s[t]];return n},gen:function(e,t,a){var o=this.funcCode128C(e),i=this.genBarcode(o,t,a);return i}},ci=a("68c2");function li(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e=e.toString();for(var o=0;o<e.length;o++)a+=e[o]*t,t--,t<2&&(t=9);return a%=11,a=a<2?0:11-a,e+a}function di(e){var t=li(li(e.substr(0,12),5),6);return t===e}function ui(e){var t=li(li(e.substr(0,9)),11);return t===e}function mi(e){return!!e&&(e=e.toString().replace(/[^0-9]/g,""),11===e.length?ui(e):14===e.length&&di(e))}function pi(e,t){return vi.apply(this,arguments)}function vi(){return vi=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o=!0,i="",t){e.next=4;break}return e.abrupt("return",{valido:o,mensagem:i});case 4:if(t=t.replace(/[^0-9]/g,""),11===t.length?(o=ui(t),i="CPF inválido"):14===t.length?(o=di(t),i="CNPJ inválido"):(o=!1,i="Digite um número de 11 ou 14 dígitos"),o){e.next=8;break}return e.abrupt("return",{valido:o,mensagem:i});case 8:return e.next=10,Zn.contato.lePorNumeroDocumentoNacional(t);case 10:return r=e.sent,o=!Object.keys(r).length||r.id===a,i=o?"":11===t.length?"Este CPF já foi cadastrado":"Este CNPJ já foi cadastrado",e.abrupt("return",{valido:o,mensagem:i});case 14:case"end":return e.stop()}},e)})),vi.apply(this,arguments)}var hi=function(){return Object(ci["a"])().toUpperCase()},fi={tiposCaixa:{1:"SAT",2:"Cupom",3:"NFCe",4:"NFe"},grava:function(){},abra:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fi.le({id:t.idCaixa});case 2:return a=e.sent,o=na(),i={id:hi(),tipo:"Caixa",operacao:"Abertura Caixa",status:"Aberto",idEmpresa:a.idEmpresa,codigoContato:parseInt(Object(ot["get"])(Zn,"usuario.logado.codigoContato",0)),dataHoraEmissao:o,valorAbertura:t.valor,idFinanceiroPlanoContaCaixa:a.idPlanoConta,observacao:t.observacao,idCaixa:t.idCaixa},e.next=7,He().documento.put(i);case 7:return e.next=9,so("adicionar","documento",i.id,i);case 9:return r={id:hi(),idDocumento:i.id,operacao:"Abertura Caixa",statusFinalizado:"Aberto",dataHoraEmissao:o,idUsuarioAlterou:Zn.usuario.logado.id,idDocumentoCaixa:i.id},He().documentoStatus.put(r),e.next=13,so("adicionar","documentoStatus",r.id,r);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),fecha:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=aa(t),e.next=3,Ya("documentoStatus",[],t.documentoStatus||[]);case 3:return e.next=5,Ya("caixaConsolidacao2",[],t.caixaConsolidacao2||[]);case 5:if(a=ga(t.documentoCaixaOriginal||{},t.documentoCaixa||{}),!Object.keys(a).length){e.next=11;break}return e.next=9,He().documento.update(t.documentoCaixa.id,a);case 9:return e.next=11,so("atualizar","documento",t.documentoCaixa.id,a);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leNew:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().caixa.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:return a={},"idEmpresa"in t&&t.idEmpresa&&(a.idEmpresa=t.idEmpresa),o=He().caixa,Object.keys(a).length&&(o=He().caixa.where(a)),e.abrupt("return",o.toArray());case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().caixa.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:return a={},"idEmpresa"in t&&t.idEmpresa&&(a.idEmpresa=t.idEmpresa),o=He().caixa,Object.keys(a).length&&(o=He().caixa.where(a)),e.next=19,o.toArray();case 19:if(e.t2=e.sent,e.t2){e.next=22;break}e.t2=[];case 22:if(o=e.t2,"idContato"in t&&t.idContato&&(a.idContato=t.idContato),a=at()({tipo:"Caixa"},a),i=He().documento,!1!==t.aberto){e.next=32;break}return e.next=29,i.where(at()({status:"Aberto"},a)).toArray();case 29:i=e.sent,i=i.map(function(e){return e.idCaixa}),i=o.filter(function(e){return!i.includes(e.id)});case 32:if(!0!==t.aberto){e.next=36;break}return e.next=35,i.where(a).filter(function(e){return["Aberto","Reaberto"].includes(e.status)}).toArray();case 35:i=e.sent;case 36:return e.abrupt("return",i);case 37:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Ci=fi,bi={grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=aa(t),Object.keys(t.original||{}).length){e.next=8;break}return e.next=4,He().caixaConsolidacao.put(t.atual);case 4:return e.next=6,so("adicionar","caixaConsolidacao",t.atual.id,t.atual);case 6:e.next=14;break;case 8:if(a=ga(t.original,t.atual),!Object.keys(a).length){e.next=14;break}return e.next=12,He().caixaConsolidacao.update(t.atual.id,a);case 12:return e.next=14,so("atualizar","caixaConsolidacao",t.atual.id,a);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!t.id){e.next=8;break}return e.next=4,He().caixaConsolidacao.get(t.id);case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:return e.abrupt("return",e.t0);case 8:if(a=[],!t.idDocumentoCaixa){e.next=16;break}return e.next=12,He().caixaConsolidacao.where({idDocumentoCaixa:t.idDocumentoCaixa}).toArray();case 12:if(e.t1=e.sent,e.t1){e.next=15;break}e.t1=[];case 15:a=e.t1;case 16:return e.abrupt("return",a);case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},gi=bi,xi={grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=aa(t),Object.keys(t.original||{}).length){e.next=8;break}return e.next=4,He().caixaConsolidacao2.put(t.atual);case 4:return e.next=6,so("adicionar","caixaConsolidacao2",t.atual.id,t.atual);case 6:e.next=14;break;case 8:if(a=ga(t.original,t.atual),!Object.keys(a).length){e.next=14;break}return e.next=12,He().caixaConsolidacao2.update(t.atual.id,a);case 12:return e.next=14,so("atualizar","caixaConsolidacao2",t.atual.id,a);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!t.id){e.next=8;break}return e.next=4,He().caixaConsolidacao2.get(t.id);case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:return e.abrupt("return",e.t0);case 8:if(a=[],!t.idDocumentoCaixa){e.next=16;break}return e.next=12,He().caixaConsolidacao2.where({idDocumentoCaixa:t.idDocumentoCaixa}).toArray();case 12:if(e.t1=e.sent,e.t1){e.next=15;break}e.t1=[];case 15:a=e.t1;case 16:if(!t.idDocumentoStatus){e.next=23;break}return e.next=19,He().caixaConsolidacao2.where({idDocumentoStatus:t.idDocumentoStatus}).toArray();case 19:if(e.t2=e.sent,e.t2){e.next=22;break}e.t2=[];case 22:a=e.t2;case 23:if(!t.tabela){e.next=30;break}return e.next=26,He().caixaConsolidacao2.where({tabela:t.tabela}).toArray();case 26:if(e.t3=e.sent,e.t3){e.next=29;break}e.t3=[];case 29:a=e.t3;case 30:if(!t.idTabela){e.next=37;break}return e.next=33,He().caixaConsolidacao2.where({idTabela:t.idTabela}).toArray();case 33:if(e.t4=e.sent,e.t4){e.next=36;break}e.t4=[];case 36:a=e.t4;case 37:return e.abrupt("return",a);case 38:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},_i=xi,qi={nomeTabela:"cfop",filtrosTabela:["cfop","codigoCfop"],le:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},ei.log(this.nomeTabela,"le",t),!("id"in t)){e.next=14;break}if(!t.id){e.next=12;break}return e.next=6,He()[this.nomeTabela].get(t.id);case 6:if(e.t1=e.sent,e.t1){e.next=9;break}e.t1={};case 9:e.t0=e.t1,e.next=13;break;case 12:e.t0={};case 13:return e.abrupt("return",e.t0);case 14:a={},o=!0,i=!1,r=void 0,e.prev=18,s=this.filtrosTabela[Symbol.iterator]();case 20:if(o=(n=s.next()).done){e.next=31;break}if(c=n.value,!(c in t)){e.next=28;break}if([null,void 0].includes(t[c])){e.next=27;break}a[c]=t[c],e.next=28;break;case 27:return e.abrupt("return",[]);case 28:o=!0,e.next=20;break;case 31:e.next=37;break;case 33:e.prev=33,e.t2=e["catch"](18),i=!0,r=e.t2;case 37:e.prev=37,e.prev=38,o||null==s.return||s.return();case 40:if(e.prev=40,!i){e.next=43;break}throw r;case 43:return e.finish(40);case 44:return e.finish(37);case 45:return e.abrupt("return",Object.keys(a).length?He()[this.nomeTabela].where(a).toArray():He()[this.nomeTabela].toArray());case 46:case"end":return e.stop()}},e,this,[[18,33,37,45],[38,,40,44]])}));return function(){return e.apply(this,arguments)}}(),grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log(this.nomeTabela,"grava",t),a=fa(t.original||{},t.atual),Object.keys(t.original||{}).length){e.next=9;break}return e.next=5,He()[this.nomeTabela].put(a);case 5:return e.next=7,so("adicionar",this.nomeTabela,a.id,a);case 7:e.next=14;break;case 9:if(!Object.keys(a).length){e.next=14;break}return e.next=12,He()[this.nomeTabela].update(t.atual.id,a);case 12:return e.next=14,so("atualizar",this.nomeTabela,t.atual.id,a);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},Si={nomeTabela:"_cidade",filtrosTabela:["cidadeCodIbge","ativo"],le:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:{},ei.log(this.nomeTabela,"le",t),!("id"in t)){e.next=14;break}if(!t.id){e.next=12;break}return e.next=6,He()[this.nomeTabela].get(t.id);case 6:if(e.t1=e.sent,e.t1){e.next=9;break}e.t1={};case 9:e.t0=e.t1,e.next=13;break;case 12:e.t0={};case 13:return e.abrupt("return",e.t0);case 14:a={},o={},i=!0,r=!1,s=void 0,e.prev=19,n=this.filtrosTabela[Symbol.iterator]();case 21:if(i=(c=n.next()).done){e.next=30;break}if(l=c.value,![!0,!1].includes(t[l])){e.next=26;break}return o[l]=t[l],e.abrupt("continue",27);case 26:[null,void 0].includes(t[l])||(a[l]=t[l]);case 27:i=!0,e.next=21;break;case 30:e.next=36;break;case 32:e.prev=32,e.t2=e["catch"](19),r=!0,s=e.t2;case 36:e.prev=36,e.prev=37,i||null==n.return||n.return();case 39:if(e.prev=39,!r){e.next=42;break}throw s;case 42:return e.finish(39);case 43:return e.finish(36);case 44:return d=He()[this.nomeTabela],Object.keys(a).length&&(d=d.where(a)),Object.keys(o).length&&(d=d.filter(function(e){for(var t=Object.keys(o),a=0;a<t.length;a++){var i=t[a];if(e[i]!==o[i])return!1}return!0})),e.abrupt("return",d.toArray());case 48:case"end":return e.stop()}},e,this,[[19,32,36,44],[37,,39,43]])}));return function(){return e.apply(this,arguments)}}()};function Ii(){return Fi.apply(this,arguments)}function Fi(){return Fi=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He()[this.nomeTabela].get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:a={},o=!0,i=!1,r=void 0,e.prev=17,s=this.filtrosTabela[Symbol.iterator]();case 19:if(o=(n=s.next()).done){e.next=30;break}if(c=n.value,!(c in t)){e.next=27;break}if([null,void 0].includes(t[c])){e.next=26;break}a[c]=t[c],e.next=27;break;case 26:return e.abrupt("return",[]);case 27:o=!0,e.next=19;break;case 30:e.next=36;break;case 32:e.prev=32,e.t2=e["catch"](17),i=!0,r=e.t2;case 36:e.prev=36,e.prev=37,o||null==s.return||s.return();case 39:if(e.prev=39,!i){e.next=42;break}throw r;case 42:return e.finish(39);case 43:return e.finish(36);case 44:return e.abrupt("return",Object.keys(a).length?He()[this.nomeTabela].where(a).toArray():He()[this.nomeTabela].toArray());case 45:case"end":return e.stop()}},e,this,[[17,32,36,44],[37,,39,43]])})),Fi.apply(this,arguments)}function wi(e){return yi.apply(this,arguments)}function yi(){return yi=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.cache=null,a=fa(t.original||{},t.atual),Object.keys(t.original||{}).length){e.next=9;break}return e.next=5,He()[this.nomeTabela].put(a);case 5:return e.next=7,so("adicionar",this.nomeTabela,a.id,a);case 7:e.next=14;break;case 9:if(!Object.keys(a).length){e.next=14;break}return e.next=12,He()[this.nomeTabela].update(t.atual.id,a);case 12:return e.next=14,so("atualizar",this.nomeTabela,t.atual.id,a);case 14:case"end":return e.stop()}},e,this)})),yi.apply(this,arguments)}function Ni(e){return ki.apply(this,arguments)}function ki(){return ki=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.cache=null,e.next=3,He()[this.nomeTabela].delete(t);case 3:return e.next=5,so("remover",this.nomeTabela,t);case 5:case"end":return e.stop()}},e,this)})),ki.apply(this,arguments)}var Mi,Pi,Di,Ei={nomeTabela:"configuracaoImposto",filtrosTabela:[],le:Ii,grava:wi,remove:Ni,pesquisa:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a="Erro na configuração de imposto para '".concat(t.produto||"Produto","'. "),Po(!t,a+"Entrada não fornecida."),Po("object"!==Mt()(t),a+"Entrada inválida."),Po(!t.emitente,a+"Emitente não fornecido."),Po("object"!==Mt()(t.emitente),a+"Emitente inválido."),Po(!t.emitente.regime,a+"Regime do emitente não fornecida."),Po(!["1","3"].includes(t.emitente.regime),a+"Regime do emitente inválido."),Po(!t.emitente.uf,a+"UF do emitente não fornecida."),Po(2!==t.emitente.uf.length,a+"UF do emitente inválido."),Po(!t.ncm,a+"NCM não fornecida."),Po(8!==t.ncm.length||8!==Pa(t.ncm).length,a+"NCM '".concat(t.ncm,"' inválido.")),Po(!t.cfop,a+"CFOP não fornecida."),Po(4!==t.cfop.length||4!==Pa(t.cfop).length,a+"CFOP inválido."),t.emitente.tributacaoSetor=t.emitente.tributacaoSetor||"99",t.emitente.tributacao=t.emitente.tributacao||"",t.destinatario=t.destinatario||{},t.destinatario.uf=t.destinatario.uf||t.emitente.uf,t.destinatario.pessoa=t.destinatario.pessoa||"",t.destinatario.regime=t.destinatario.regime||"",t.destinatario.tributacaoSetor=t.destinatario.tributacaoSetor||"99",t.destinatario.tributacao=t.destinatario.tributacao||"",t.destinatario.indicadorIE=t.destinatario.indicadorIE||"",t.destinatario.consumidor=t.destinatario.consumidor||"S",t.destinatario.destino=t.destinatario.destino||(t.destinatario.uf===t.emitente.uf?"1":"2"),t.cest=t.cest||"",t.origemMercadoria=t.origemMercadoria||"0",this.cache=this.cache||{},this.cache.configs){e.next=33;break}return e.next=30,this.le();case 30:e.t0=function(e,t){return e.push(JSON.parse(t.json)),e},e.t1=[],this.cache.configs=e.sent.reduce(e.t0,e.t1);case 33:i=0,r="",s=!0,n=!1,c=void 0,e.prev=38,l=this.cache.configs[Symbol.iterator]();case 40:if(s=(d=l.next()).done){e.next=73;break}if(u=d.value,!(u.ordem<=i)){e.next=44;break}return e.abrupt("continue",70);case 44:if(m=new Date((new Date).toDateString()),!(u.dataInicio&&new Date(u.dataInicio)>m)){e.next=47;break}return e.abrupt("continue",70);case 47:if(!(u.dataFim&&new Date(u.dataFim)<m)){e.next=49;break}return e.abrupt("continue",70);case 49:p=[{entrada:t.cfop,config:u.cfops||[],campoLista:"codigo"},{entrada:t.destinatario.consumidor,config:u.destinatario.consumidor},{entrada:t.destinatario.destino,config:u.destinatario.destino},{entrada:t.destinatario.indicadorIE,config:u.destinatario.indicadorIE},{entrada:t.destinatario.pessoa,config:u.destinatario.pessoa},{entrada:t.destinatario.regime,config:u.destinatario.regime},{entrada:t.destinatario.tributacao,config:u.destinatario.tributacao},{entrada:t.destinatario.tributacaoSetor,config:u.destinatario.tributacaoSetor},{entrada:t.destinatario.uf,config:u.destinatario.ufs||[],campoLista:"codigo"},{entrada:t.emitente.regime,config:u.emitente.regime},{entrada:t.emitente.tributacao,config:u.emitente.tributacao},{entrada:t.emitente.tributacaoSetor,config:u.emitente.tributacaoSetor},{entrada:t.emitente.uf,config:u.emitente.ufs||[],campoLista:"codigo"},{entrada:t.ncm,config:u.ncms||[],campoLista:"codigo"},{entrada:t.origemMercadoria,config:u.origemMercadoria}],v=!0,h=function(){var e=p[f],t=e.entrada,a=e.config,o=e.campoLista;if(o){if(t&&a.length>0&&!a.find(function(e){return e[o]===t}))return v=!1,"break"}else if(t&&t!==a&&"T"!==a)return v=!1,"break"},f=0;case 53:if(!(f<p.length)){e.next=60;break}if(C=h(),"break"!==C){e.next=57;break}return e.abrupt("break",60);case 57:f++,e.next=53;break;case 60:if(v){e.next=62;break}return e.abrupt("continue",70);case 62:if(!u.ncms||!u.ncms.length){e.next=66;break}if(u.ncms.find(function(e){return e.codigo===t.ncm&&(e.cest===t.cest||!e.cest)})){e.next=66;break}return v=!1,e.abrupt("continue",70);case 66:i=u.ordem,r=u.descricao,o=u.imposto,u.icmsInterestadualVisivel&&(o.icmsInterestadual=u.icmsInterestadual.find(function(e){return e.uf===t.destinatario.uf}));case 70:s=!0,e.next=40;break;case 73:e.next=79;break;case 75:e.prev=75,e.t2=e["catch"](38),n=!0,c=e.t2;case 79:e.prev=79,e.prev=80,s||null==l.return||l.return();case 82:if(e.prev=82,!n){e.next=85;break}throw c;case 85:return e.finish(82);case 86:return e.finish(79);case 87:return 0===i&&(console.error("Filtro de entrada:\n",JSON.stringify(t,0,2)),Po(!0,a+"Configuração não encontrada.")),e.abrupt("return",{ordem:i,descricao:r,saida:o,entrada:t});case 89:case"end":return e.stop()}},e,this,[[38,75,79,87],[80,,82,86]])}));return function(t){return e.apply(this,arguments)}}()},Ti=a("278c"),Ai=a.n(Ti),Oi={id:"",nome:"",valor:"",texto:"",observacao:""},$i={vazio:Oi,valores:{},inicializa:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!t.id){e.next=3;break}return e.abrupt("return",He().configuracoes.get(t.id)||{});case 3:return e.next=5,He().configuracoes.toArray();case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=[];case 8:return a=e.t0,t.nome&&(a=a.filter(function(e){return e.nome===t.nome})),t.valor&&(a=a.filter(function(e){return e.valor===t.valor})),t.texto&&(a=a.filter(function(e){return e.texto===t.texto})),t.observacao&&(a=a.filter(function(e){return e.observacao===t.observacao})),e.abrupt("return",a);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),porNome:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return Po(!t,"Nome de configuração não especificado."),e.next=3,He().configuracoes.where({nome:t}).toArray();case 3:return o=e.sent,i=a?o.filter(function(e){return(e.valor||"").trim()&&e.idEmpresa===a}):[],r=o.filter(function(e){return(e.valor||"").trim()&&!e.idEmpresa}),s=[],i=i.filter(function(e){return!s.includes(e.valor)&&(s.push(e.valor),!0)}),r=r.filter(function(e){return!s.includes(e.valor)&&(s.push(e.valor),!0)}),e.abrupt("return",la()(i).concat(la()(r)));case 10:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),leLaboratorioEssilor:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He().configuracoes.where({nome:"compra.essilor.webservice"}).toArray();case 2:return o=e.sent,o=o.filter(function(e){return Number(e.valor)===t}),i=o.find(function(e){return e.idEmpresa===a}),i||(i=o.find(function(e){return""===(e.idEmpresa||"")})),Po(!i,"Laboratório sem configuraçao de usuario e senha. (compra.essilor.webservice)"),r=i.texto.split(";"),s=Ai()(r,2),n=s[0],c=s[1],Po(!n||!c,"Laboratório com configuraçao inválida de usuario e senha. (compra.essilor.webservice)"),e.abrupt("return",{usuario:n,senha:c});case 10:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),leLista:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",He().configuracoes.where({nome:t}).toArray());case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leValor:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:"",e.next=3,He().configuracoes.where({nome:t}).first();case 3:return o=e.sent,e.abrupt("return",(o||{}).valor||a);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leValorComFiltroEmpresa:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o=s.length>2&&void 0!==s[2]?s[2]:"",e.next=3,He().configuracoes.where({nome:t}).toArray();case 3:return i=e.sent,r=i.find(function(e){return e.idEmpresa===a}),r||(r=i.find(function(e){return""===(e.idEmpresa||"")})),e.abrupt("return",(r||{}).valor||o);case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),leValorNumerico:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:0,e.next=3,He().configuracoes.where({nome:t}).first();case 3:if(o=e.sent,o&&o.valor){e.next=6;break}return e.abrupt("return",a);case 6:return i=Number(o.valor),e.abrupt("return",0===i||i?i:a);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leValorNumericoComFiltroEmpresa:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o=n.length>2&&void 0!==n[2]?n[2]:0,e.next=3,He().configuracoes.where({nome:t}).toArray();case 3:if(i=e.sent,r=i.find(function(e){return e.idEmpresa===a}),r||(r=i.find(function(e){return""===(e.idEmpresa||"")})),r&&r.valor){e.next=8;break}return e.abrupt("return",o);case 8:return s=Number(r.valor),e.abrupt("return",0===s||s?s:o);case 10:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),leOnline:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t.nome){e.next=2;break}return e.abrupt("return",jo("select valor from configuracoes where nome=".concat(Vo(t.nome))));case 2:return e.abrupt("return",[]);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Ri=$i,ji=a("680c"),zi=a.n(ji),Bi={nomeTabela:"empresa",filtrosTabela:["codigoClienteSistema","idContato"],le:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,Ge[this.nomeTabela].get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:a={},o=!0,i=!1,r=void 0,e.prev=17,s=this.filtrosTabela[Symbol.iterator]();case 19:if(o=(n=s.next()).done){e.next=30;break}if(c=n.value,!(c in t)){e.next=27;break}if([null,void 0].includes(t[c])){e.next=26;break}a[c]=t[c],e.next=27;break;case 26:return e.abrupt("return",[]);case 27:o=!0,e.next=19;break;case 30:e.next=36;break;case 32:e.prev=32,e.t2=e["catch"](17),i=!0,r=e.t2;case 36:e.prev=36,e.prev=37,o||null==s.return||s.return();case 39:if(e.prev=39,!i){e.next=42;break}throw r;case 42:return e.finish(39);case 43:return e.finish(36);case 44:return e.abrupt("return",Object.keys(a).length?Ge[this.nomeTabela].where(a).toArray():Ge[this.nomeTabela].toArray());case 45:case"end":return e.stop()}},e,this,[[17,32,36,44],[37,,39,43]])}));return function(){return e.apply(this,arguments)}}()},Li={permissao:[],le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,Ge.empresaUsuarioPermissao.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:return a={},"idUsuario"in t&&t.idUsuario&&(a.idUsuario=t.idUsuario),"idEmpresa"in t&&t.idEmpresa&&(a.idEmpresa=t.idEmpresa),"codigoUsuario"in t&&t.codigoUsuario&&(a.codigoUsuario=t.codigoUsuario),"codigoEmpresa"in t&&t.codigoEmpresa&&(a.codigoEmpresa=t.codigoEmpresa),o=Ge.empresaUsuarioPermissao,Object.keys(a).length&&(o=o.where(a)),e.next=22,o.toArray();case 22:if(e.t2=e.sent,e.t2){e.next=25;break}e.t2=[];case 25:return e.abrupt("return",e.t2);case 26:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),inicializarPermissao:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t={},a="",o="",i="Não foi possível localizar o código do sistema.",e.prev=4,t=JSON.parse(localStorage.getItem("clienteSistema")),t.codigoClienteSistema){e.next=8;break}return e.abrupt("return",[]);case 8:a=t.codigoClienteSistema,i="Não foi possível localizar o código do usuário.",o=Zn.usuario.logado.codigoUsuario,e.next=17;break;case 13:return e.prev=13,e.t0=e["catch"](4),console.log(i),e.abrupt("return",[]);case 17:if(Zn.usuario.logado.administrador){e.next=57;break}return this.permissao=[],e.next=21,Zi.empresa.le({codigoClienteSistema:a});case 21:r=e.sent,s=[],r.reduce(function(e,t){return e[t.codigoEmpresa]||(e[t.codigoEmpresa]=!0,s.push(Zi.empresaUsuarioPermissao.le({codigoUsuario:o,codigoEmpresa:t.codigoEmpresa}))),e},{}),n=!0,c=!1,e.prev=26,d=function(){var e=p;e.length&&(v.permissao=la()(v.permissao).concat(la()(r.filter(function(t){return e[0].codigoEmpresa===t.codigoEmpresa}).map(function(e){return e.codigoContato}))))},u=zi()(s);case 29:return e.next=31,u.next();case 31:return m=e.sent,n=m.done,e.next=35,m.value;case 35:if(p=e.sent,n){e.next=41;break}d();case 38:n=!0,e.next=29;break;case 41:e.next=47;break;case 43:e.prev=43,e.t1=e["catch"](26),c=!0,l=e.t1;case 47:if(e.prev=47,e.prev=48,n||null==u.return){e.next=52;break}return e.next=52,u.return();case 52:if(e.prev=52,!c){e.next=55;break}throw l;case 55:return e.finish(52);case 56:return e.finish(47);case 57:case"end":return e.stop()}},e,this,[[4,13],[26,43,47,57],[48,,52,56]])}));return function(){return e.apply(this,arguments)}}()},Vi=Li,Ui=a("4082"),Hi=a.n(Ui),Qi={grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(r in t.codigoObjeto,a=t.id,o=Hi()(t,["codigoObjeto","id"]),i=[],o)i.push("".concat(r,"='").concat(o[r],"'"));return s="\n      insert into objeto (id)\n      select '".concat(a,"' id where not exists (select 1 from objeto where id='").concat(a,"')\n      update objeto set ").concat(i.join(", ")," where id='").concat(a,"'\n    "),e.next=6,jo(s,"GeeksPlat15A");case 6:return e.next=8,Ge.objeto.put(t);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.filtros,e.next=3,Ge.objeto.toArray();case 3:if(o=e.sent,!a){e.next=6;break}return e.abrupt("return",Object(ot["filter"])(o,a));case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leOnline:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.colunas,a=e.filtros;t=t?t.split(" ").join(", "):"*";var o=[];for(var i in a)o.push("".concat(i," = '").concat(a[i],"'"));o=o.length?"where ".concat(o.join(" and ")):"";var r="select ".concat(t," from objeto ").concat(o," order by nomeObjeto");return jo(r,"GeeksPlat15A")}},Gi=Qi,Ji={grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(r in t.codigoObjeto,a=t.id,o=Hi()(t,["codigoObjeto","id"]),i=[],o)s=o[r],"string"===typeof s&&(s="'".concat(s,"'")),i.push("".concat(r,"=").concat(s));return n="\n      insert into objetoVersao (id)\n      select '".concat(a,"' id where not exists (select 1 from objetoVersao where id='").concat(a,"')\n      update objetoVersao set ").concat(i.join(", ")," where id='").concat(a,"'\n    "),e.next=6,jo(n,"GeeksPlat15A");case 6:return e.next=8,Ge.objeto.put(t);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.filtros,e.next=3,Ge.objeto.toArray();case 3:if(o=e.sent,!a){e.next=6;break}return e.abrupt("return",Object(ot["filter"])(o,a));case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leOnline:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.colunas,a=e.filtros;t=t?t.split(" ").join(", "):"*";var o=[];for(var i in a)o.push("".concat(i," = '").concat(a[i],"'"));o=o.length?"where ".concat(o.join(" and ")):"";var r="select ".concat(t," from objetoVersao ").concat(o," order by dataHora desc");return jo(r,"GeeksPlat15A")}},Xi=Ji,Yi={grava:function(){},le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!t.id){e.next=3;break}return e.abrupt("return",Ge.sincronismo.get(t.id)||{});case 3:return e.next=5,Ge.sincronismo.toArray();case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=[];case 8:return a=e.t0,e.abrupt("return",a);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Wi=Yi,Zi={empresa:Bi,empresaUsuarioPermissao:Vi,objeto:Gi,objetoVersao:Xi,sincronismo:Wi},Ki=void 0,er={id:"",apelido:"",nome:"",imagem:"",numeroDocumentoNacional:"",ativo:!0,consulta:[],endereco:[{bairro:"",cep:"",complemento:"",grupo:"",ibgeCod:"",logradouro:"",municipio:"",numero:"",pais:"",uf:""}],filhos:[],grupo:[],nomesGrupo:[],redeSocial:[],telefone:[{}]},tr={vazio:er,le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w,y,N,k,M,P,D,E,T,A,O,$,R,j,z,B,L,V,U,H,Q,G,J,X,Y,W,Z,K,ee,te,ae,oe,ie,re;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().contato.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:if(!("usuario"in t&&t.usuario)){e.next=22;break}return a=He().contato.where("codigoUsuario").notEqual(""),t.ativo&&(a=a.and(function(e){return e.ativo})),e.next=18,a.toArray();case 18:if(e.t2=e.sent,e.t2){e.next=21;break}e.t2=[];case 21:return e.abrupt("return",e.t2);case 22:if(o=[],!t.vendedores){e.next=60;break}return e.next=26,He().contatoGrupo.toArray();case 26:if(e.t3=e.sent,e.t3){e.next=29;break}e.t3=[];case 29:i=e.t3,i=i.filter(function(e){return"VENDEDOR"===(e.descricao||"").toUpperCase()}),r=!0,s=!1,n=void 0,e.prev=34,c=i[Symbol.iterator]();case 36:if(r=(l=c.next()).done){e.next=45;break}return d=l.value,e.next=40,He().contato.get(d.idContato);case 40:u=e.sent,u.ativo&&o.push(u);case 42:r=!0,e.next=36;break;case 45:e.next=51;break;case 47:e.prev=47,e.t4=e["catch"](34),s=!0,n=e.t4;case 51:e.prev=51,e.prev=52,r||null==c.return||c.return();case 54:if(e.prev=54,!s){e.next=57;break}throw n;case 57:return e.finish(54);case 58:return e.finish(51);case 59:return e.abrupt("return",o);case 60:if(!t.tecnicos){e.next=97;break}return e.next=63,He().contatoGrupo.toArray();case 63:if(e.t5=e.sent,e.t5){e.next=66;break}e.t5=[];case 66:m=e.t5,m=m.filter(function(e){return"TÉCNICO"===(e.descricao||"").toUpperCase()}),p=!0,v=!1,h=void 0,e.prev=71,f=m[Symbol.iterator]();case 73:if(p=(C=f.next()).done){e.next=82;break}return b=C.value,e.next=77,He().contato.get(b.idContato);case 77:g=e.sent,g.ativo&&o.push(g);case 79:p=!0,e.next=73;break;case 82:e.next=88;break;case 84:e.prev=84,e.t6=e["catch"](71),v=!0,h=e.t6;case 88:e.prev=88,e.prev=89,p||null==f.return||f.return();case 91:if(e.prev=91,!v){e.next=94;break}throw h;case 94:return e.finish(91);case 95:return e.finish(88);case 96:return e.abrupt("return",o);case 97:if(!t.medicos){e.next=134;break}return e.next=100,He().contatoGrupo.toArray();case 100:if(e.t7=e.sent,e.t7){e.next=103;break}e.t7=[];case 103:x=e.t7,x=x.filter(function(e){return"MÉDICO"===(e.descricao||"").toUpperCase()||"OPTOMETRISTA"===(e.descricao||"").toUpperCase()}),_=!0,q=!1,S=void 0,e.prev=108,I=x[Symbol.iterator]();case 110:if(_=(F=I.next()).done){e.next=119;break}return w=F.value,e.next=114,He().contato.get(w.idContato);case 114:y=e.sent,y&&y.ativo&&o.push(y);case 116:_=!0,e.next=110;break;case 119:e.next=125;break;case 121:e.prev=121,e.t8=e["catch"](108),q=!0,S=e.t8;case 125:e.prev=125,e.prev=126,_||null==I.return||I.return();case 128:if(e.prev=128,!q){e.next=131;break}throw S;case 131:return e.finish(128);case 132:return e.finish(125);case 133:return e.abrupt("return",o);case 134:if(!t.transportadoras){e.next=171;break}return e.next=137,He().contatoGrupo.toArray();case 137:if(e.t9=e.sent,e.t9){e.next=140;break}e.t9=[];case 140:N=e.t9,N=N.filter(function(e){return"TRANSPORTADORA"===(e.descricao||"").toUpperCase()}),k=!0,M=!1,P=void 0,e.prev=145,D=N[Symbol.iterator]();case 147:if(k=(E=D.next()).done){e.next=156;break}return T=E.value,e.next=151,He().contato.get(T.idContato);case 151:A=e.sent,A.ativo&&o.push(A);case 153:k=!0,e.next=147;break;case 156:e.next=162;break;case 158:e.prev=158,e.t10=e["catch"](145),M=!0,P=e.t10;case 162:e.prev=162,e.prev=163,k||null==D.return||D.return();case 165:if(e.prev=165,!M){e.next=168;break}throw P;case 168:return e.finish(165);case 169:return e.finish(162);case 170:return e.abrupt("return",o);case 171:if(!t.empresas){e.next=265;break}if(O={},$="",R="",j="Não foi possível localizar o código do sistema.",e.prev=176,O=JSON.parse(localStorage.getItem("clienteSistema")),O.codigoClienteSistema){e.next=180;break}return e.abrupt("return",[]);case 180:$=O.codigoClienteSistema,j="Não foi possível localizar o código do usuário.",R=Zn.usuario.logado.codigoUsuario,e.next=189;break;case 185:return e.prev=185,e.t11=e["catch"](176),console.log(j),e.abrupt("return",[]);case 189:return e.next=191,He().empresa.toArray();case 191:if(e.t12=e.sent,e.t12){e.next=194;break}e.t12=[];case 194:z=e.t12,B=!0,L=!1,V=void 0,e.prev=198,U=z[Symbol.iterator]();case 200:if(B=(H=U.next()).done){e.next=209;break}return Q=H.value,e.next=204,He().contato.get(Q.idContato);case 204:G=e.sent,G.ativo&&o.push(G);case 206:B=!0,e.next=200;break;case 209:e.next=215;break;case 211:e.prev=211,e.t13=e["catch"](198),L=!0,V=e.t13;case 215:e.prev=215,e.prev=216,B||null==U.return||U.return();case 218:if(e.prev=218,!L){e.next=221;break}throw V;case 221:return e.finish(218);case 222:return e.finish(215);case 223:if(Zn.usuario.logado.administrador){e.next=264;break}return e.next=226,Zi.empresa.le({codigoClienteSistema:$});case 226:J=e.sent,X=[],J.reduce(function(e,t){return e[t.codigoEmpresa]||(e[t.codigoEmpresa]=!0,X.push(Zi.empresaUsuarioPermissao.le({codigoUsuario:R,codigoEmpresa:t.codigoEmpresa}))),e},{}),Y=!0,W=!1,e.prev=231,K=zi()(X);case 233:return e.next=235,K.next();case 235:return ee=e.sent,Y=ee.done,e.next=239,ee.value;case 239:if(te=e.sent,Y){e.next=246;break}ae=te,X=la()(X).concat(la()(ae));case 243:Y=!0,e.next=233;break;case 246:e.next=252;break;case 248:e.prev=248,e.t14=e["catch"](231),W=!0,Z=e.t14;case 252:if(e.prev=252,e.prev=253,Y||null==K.return){e.next=257;break}return e.next=257,K.return();case 257:if(e.prev=257,!W){e.next=260;break}throw Z;case 260:return e.finish(257);case 261:return e.finish(252);case 262:X=X.map(function(e){return e.codigoContato}),o=o.filter(function(e){return X.includes(e.codigoContato)});case 264:return e.abrupt("return",o);case 265:if(!t.numeroDocumentoNacional){e.next=282;break}return e.next=268,He().contato.where({numeroDocumentoNacional:t.numeroDocumentoNacional}).toArray();case 268:if(o=e.sent,o.length){e.next=281;break}if(oe=Pa(t.numeroDocumentoNacional),oe!==t.numeroDocumentoNacional){e.next=278;break}return ie=Ki.$filters.cpfCnpj(oe),e.next=275,He().contato.where({numeroDocumentoNacional:ie}).toArray();case 275:o=e.sent,e.next=281;break;case 278:return e.next=280,He().contato.where({numeroDocumentoNacional:oe}).toArray();case 280:o=e.sent;case 281:return e.abrupt("return",o);case 282:return e.next=284,He().contato.toArray();case 284:return o=e.sent,t.ativo&&(o=o.filter(function(e){return e.ativo})),!1===t.ativo&&(o=o.filter(function(e){return!e.ativo})),t.segmento&&(re=oo(t.segmento).toLowerCase(),o=o.filter(function(e){return e.segmento&&oo(e.segmento).toLowerCase()===re})),t.idUsuario&&(o=o.filter(function(e){return e.idUsuario===t.idUsuario})),t.codigoContato&&(o=o.filter(function(e){return e.codigoContato===t.codigoContato})),e.abrupt("return",o);case 291:case"end":return e.stop()}},e,null,[[34,47,51,59],[52,,54,58],[71,84,88,96],[89,,91,95],[108,121,125,133],[126,,128,132],[145,158,162,170],[163,,165,169],[176,185],[198,211,215,223],[216,,218,222],[231,248,252,262],[253,,257,261]])}));return function(t){return e.apply(this,arguments)}}(),lePorNumeroDocumentoNacional:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{});case 2:return e.next=4,He().contato.where({numeroDocumentoNacional:t}).first();case 4:if(a=e.sent,a){e.next=17;break}if(o=Pa(t),o!==t){e.next=14;break}return i=14===o.length?o.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/g,"$1.$2.$3/$4-$5"):o.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/g,"$1.$2.$3-$4"),e.next=11,He().contato.where({numeroDocumentoNacional:i}).first();case 11:a=e.sent,e.next=17;break;case 14:return e.next=16,He().contato.where({numeroDocumentoNacional:o}).first();case 16:a=e.sent;case 17:return e.abrupt("return",a||{});case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leOnline:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},!("segmento"in t)){e.next=3;break}return e.abrupt("return",jo("Select id, codigoContato, nome, apelido, numeroDocumentoNacional from Contato where Segmento=".concat(Vo(t.segmento,""))));case 3:if(!("codigoContato"in t)){e.next=5;break}return e.abrupt("return",jo("Select id, codigoContato, nome, apelido, numeroDocumentoNacional, imagem from Contato where codigoContato=".concat(Lo(t.codigoContato))));case 5:if(!("ativo"in t&&t.numeroDocumentoNacionalPreenchido)){e.next=7;break}return e.abrupt("return",jo("Select id, codigoContato, nome, apelido, numeroDocumentoNacional, numeroDocumentoEstadual, imagem\n         from Contato where ativo=".concat(Lo(t.ativo?1:0)," and numeroDocumentoNacional <> ''")));case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),leCompleto:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return a=Yt(er),a.dadosOriginais={contato:Yt(er)},e.abrupt("return",a);case 4:return e.next=6,He().contato.get(t);case 6:if(e.t0=e.sent,e.t0){e.next=9;break}e.t0={};case 9:return a=e.t0,!a.emailNfe&&a.emailNFE&&(a.emailNfe=a.emailNFE,delete a.emailNFE),e.t1=at()({},a),e.next=14,He().contatoEndereco.where("idContato").equals(t).toArray();case 14:if(e.t2=e.sent,e.t2){e.next=17;break}e.t2=[];case 17:return e.t3=e.t2,e.next=20,He().contatoTelefone.where("idContato").equals(t).toArray();case 20:if(e.t4=e.sent,e.t4){e.next=23;break}e.t4=[];case 23:return e.t5=e.t4,e.next=26,He().contatoRedeSocial.where("idContato").equals(t).toArray();case 26:if(e.t6=e.sent,e.t6){e.next=29;break}e.t6=[];case 29:return e.t7=e.t6,e.t8=ot["orderBy"],e.next=33,He().contatoConsulta.where("idContato").equals(t).toArray();case 33:if(e.t9=e.sent,e.t9){e.next=36;break}e.t9=[];case 36:return e.t10=e.t9,e.t11=(0,e.t8)(e.t10,"dataConsulta","desc"),e.next=40,He().contatoGrupo.where("idContato").equals(t).toArray();case 40:if(e.t12=e.sent,e.t12){e.next=43;break}e.t12=[];case 43:return e.t13=e.t12,e.t15=la.a,e.next=47,He().contatoFilho.where("idContato").equals(t).toArray();case 47:if(e.t16=e.sent,e.t16){e.next=50;break}e.t16=[];case 50:return e.t17=e.t16,e.t14=(0,e.t15)(e.t17),e.t18=la.a,e.next=55,He().contatoFilho.where("idContatoRelacionado").equals(t).toArray();case 55:if(e.t19=e.sent,e.t19){e.next=58;break}e.t19=[];case 58:for(e.t20=e.t19,e.t21=(0,e.t18)(e.t20),e.t22=e.t14.concat.call(e.t14,e.t21),a.dadosOriginais={contato:e.t1,endereco:e.t3,telefone:e.t5,redeSocial:e.t7,consulta:e.t11,grupo:e.t13,filhos:e.t22},o=!0,i=!1,r=void 0,e.prev=65,s=a.dadosOriginais.endereco[Symbol.iterator]();!(o=(n=s.next()).done);o=!0)c=n.value,l=(c.cep||"").replace(/[^0-9]/g,""),8===l.length&&(c.cep=l.substr(0,5)+"-"+l.substr(5,3));e.next=73;break;case 69:e.prev=69,e.t23=e["catch"](65),i=!0,r=e.t23;case 73:e.prev=73,e.prev=74,o||null==s.return||s.return();case 76:if(e.prev=76,!i){e.next=79;break}throw r;case 79:return e.finish(76);case 80:return e.finish(73);case 81:return a.endereco=JSON.parse(JSON.stringify(a.dadosOriginais.endereco)),a.telefone=JSON.parse(JSON.stringify(a.dadosOriginais.telefone)),a.redeSocial=JSON.parse(JSON.stringify(a.dadosOriginais.redeSocial)),a.consulta=JSON.parse(JSON.stringify(a.dadosOriginais.consulta)),a.grupo=JSON.parse(JSON.stringify(a.dadosOriginais.grupo)),a.dadosOriginais.nomesGrupo=a.grupo.map(function(e){return e.descricao}).sort(),a.nomesGrupo=JSON.parse(JSON.stringify(a.dadosOriginais.nomesGrupo)),a.filhos=JSON.parse(JSON.stringify(a.dadosOriginais.filhos)),a.filhos.forEach(function(e){e.socio=e.socio||!1,e.cobranca=e.cobranca||!1}),e.abrupt("return",a);case 91:case"end":return e.stop()}},e,null,[[65,69,73,81],[74,,76,80]])}));return function(t){return e.apply(this,arguments)}}(),leCompletoV2:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log("contato","leCompletoV2",t),!t){e.next=10;break}return e.next=4,He().contato.get(t);case 4:if(e.t1=e.sent,e.t1){e.next=7;break}e.t1={};case 7:e.t0=e.t1,e.next=11;break;case 10:e.t0={};case 11:return a=e.t0,t=t||"",!a.emailNfe&&a.emailNFE&&(a.emailNfe=a.emailNFE,delete a.emailNFE),e.next=16,He().contatoEndereco.where("idContato").equals(t).toArray();case 16:return a.endereco=e.sent,e.next=19,He().contatoTelefone.where("idContato").equals(t).toArray();case 19:return a.telefone=e.sent,e.next=22,He().contatoRedeSocial.where("idContato").equals(t).toArray();case 22:return a.redeSocial=e.sent,e.t2=ot["orderBy"],e.next=26,He().contatoConsulta.where("idContato").equals(t).toArray();case 26:return e.t3=e.sent,a.consulta=(0,e.t2)(e.t3,"dataConsulta","desc"),e.next=30,He().contatoGrupo.where("idContato").equals(t).toArray();case 30:return a.grupo=e.sent,e.t5=la.a,e.next=34,He().contatoFilho.where("idContato").equals(t).toArray();case 34:return e.t6=e.sent,e.t4=(0,e.t5)(e.t6),e.t7=la.a,e.next=39,He().contatoFilho.where("idContatoRelacionado").equals(t).toArray();case 39:for(e.t8=e.sent,e.t9=(0,e.t7)(e.t8),a.filhos=e.t4.concat.call(e.t4,e.t9),a.nomesGrupo=a.grupo.map(function(e){return e.descricao}).sort(),o=!0,i=!1,r=void 0,e.prev=46,s=a.endereco[Symbol.iterator]();!(o=(n=s.next()).done);o=!0)c=n.value,l=(c.cep||"").replace(/[^0-9]/g,""),8===l.length&&(c.cep=l.substr(0,5)+"-"+l.substr(5,3));e.next=54;break;case 50:e.prev=50,e.t10=e["catch"](46),i=!0,r=e.t10;case 54:e.prev=54,e.prev=55,o||null==s.return||s.return();case 57:if(e.prev=57,!i){e.next=60;break}throw r;case 60:return e.finish(57);case 61:return e.finish(54);case 62:return a=at()({},ea(er),a),d=ea(a),e.abrupt("return",{atual:a,original:d});case 65:case"end":return e.stop()}},e,null,[[46,50,54,62],[55,,57,61]])}));return function(t){return e.apply(this,arguments)}}(),leUnicos:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",He().contato.orderBy(t).uniqueKeys());case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("contato","grava",t),a=ea(t.atual),o=ea(t.original||{}),a.apelido||(a.apelido=a.nome),delete a.numeroDocumentoNacionalErro,a.endereco=(a.endereco||[]).filter(function(e){return!(""===e.bairro&&""===e.cep&&""===e.complemento&&""===e.logradouro&&""===e.municipio&&""===e.numero&&""===e.uf)}),a.grupo=(a.grupo||[]).filter(function(e){return a.nomesGrupo.includes(e.descricao)}),i=(a.nomesGrupo||[]).filter(function(e){return!a.nomesGrupo.includes(e)}).map(function(e){return{id:hi(),idContato:a.id,descricao:e}}),a.grupo=la()(a.grupo).concat(la()(i)),r=!1,e.next=12,Ya("contatoConsulta",o.consulta,a.consulta);case 12:if(e.t0=e.sent,e.t0){e.next=15;break}e.t0=r;case 15:return r=e.t0,e.next=18,Ya("contatoEndereco",o.endereco,a.endereco);case 18:if(e.t1=e.sent,e.t1){e.next=21;break}e.t1=r;case 21:return r=e.t1,e.next=24,Ya("contatoRedeSocial",o.redeSocial,a.redeSocial);case 24:if(e.t2=e.sent,e.t2){e.next=27;break}e.t2=r;case 27:return r=e.t2,e.next=30,Ya("contatoTelefone",o.telefone,a.telefone);case 30:if(e.t3=e.sent,e.t3){e.next=33;break}e.t3=r;case 33:return r=e.t3,e.next=36,Ya("contatoGrupo",o.grupo,a.grupo);case 36:if(e.t4=e.sent,e.t4){e.next=39;break}e.t4=r;case 39:return r=e.t4,e.next=42,Ya("contatoFilho",o.filhos,a.filhos);case 42:if(e.t5=e.sent,e.t5){e.next=45;break}e.t5=r;case 45:if(r=e.t5,Object.keys(o||{}).length){e.next=56;break}return a.dataCadastro=na(),a.dataAlteracao=a.dataCadastro,s=fa({},a),e.next=52,He().contato.put(s);case 52:return e.next=54,so("adicionar","contato",s.id,s);case 54:e.next=64;break;case 56:if(n=fa(o,a),!r&&!Object.keys(n).length){e.next=64;break}return a.dataAlteracao=na(),n.dataAlteracao=a.dataAlteracao,e.next=62,He().contato.update(a.id,n);case 62:return e.next=64,so("atualizar","contato",a.id,n);case 64:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leFilhos:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He().contatoFilho.where("idContato").equals(t).toArray();case 2:return a=e.sent,e.next=5,He().contatoFilho.where("idContatoRelacionado").equals(t).toArray();case 5:o=e.sent,i=la()(new Set(la()(a.map(function(e){return e.idContatoRelacionado})).concat(la()(o.map(function(e){return e.idContato}))))),r=[],s=!0,n=!1,c=void 0,e.prev=11,l=i[Symbol.iterator]();case 13:if(s=(d=l.next()).done){e.next=26;break}if(u=d.value,u){e.next=17;break}return e.abrupt("continue",23);case 17:return e.next=19,He().contato.get(u);case 19:if(m=e.sent,m){e.next=22;break}return e.abrupt("continue",23);case 22:r.push(m);case 23:s=!0,e.next=13;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e["catch"](11),n=!0,c=e.t0;case 32:e.prev=32,e.prev=33,s||null==l.return||l.return();case 35:if(e.prev=35,!n){e.next=38;break}throw c;case 38:return e.finish(35);case 39:return e.finish(32);case 40:return e.abrupt("return",r);case 41:case"end":return e.stop()}},e,null,[[11,28,32,40],[33,,35,39]])}));return function(t){return e.apply(this,arguments)}}(),leConvenios:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,tr.leFilhos(t);case 2:return a=e.sent,a=a.filter(function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He().contatoGrupo.where("idContato").equals(t.id).toArray();case 2:return e.t0=function(e){return e.descricao},e.abrupt("return",e.sent.map(e.t0).includes("Convênio"));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leCompradores:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,tr.leFilhos(t);case 2:return a=e.sent,a=a.filter(function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He().contatoGrupo.where("idContato").equals(t.id).toArray();case 2:return e.t0=function(e){return e.descricao},e.abrupt("return",e.sent.map(e.t0).includes("Comprador"));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leLogado:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t="",e.next=3,tr.le({idUsuario:Zn.usuario.logado.id});case 3:if(a=e.sent,!a.length){e.next=8;break}t=a[0].id,e.next=12;break;case 8:return e.next=10,tr.le({codigoContato:2});case 10:o=e.sent,o.length&&(t=o[0].id);case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),criarContatoBasico:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=Yt(t),a=at()({},er,a),a.dataAlteracao=na(),a.nome){e.next=5;break}throw new Error("O nome é obrigatório.");case 5:return a.apelido||(a.apelido=a.nome),a.id=hi(),a.ativo=!0,a.dataCadastro=a.dataAlteracao,e.next=11,He().contato.add(a);case 11:return e.next=13,so("adicionar","contato",a.id,a);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),criarContatoGrupo:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.idContato,o=t.descricaoGrupo,i={id:hi(),idContato:a,descricao:o},e.next=4,He().contatoGrupo.add(i);case 4:return e.next=6,so("adicionar","contatoGrupo",i.id,i);case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),criarDependenciaContatos:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.contatoPai,o=t.contatoFilho,i={id:hi(),idContato:a.id,idContatoRelacionado:o.id,observacao:"Dependente"},e.next=4,He().contatoFilho.add(i);case 4:return e.next=6,so("adicionar","contatoFilho",i.id,i);case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),selecionado:at()({},er)},ar=tr,or={id:""},ir={vazio:or,grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He().contatoAnotacao.put(t);case 2:return e.next=4,so("adicionar","contatoAnotacao",t.id,t);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leAnotacoesDeUmContato:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He().contatoAnotacao.where("idContato").equals(t).toArray();case 2:a=e.sent,a=a.filter(function(e){return"Atendimento 4.0"===e.tipo&&!!e.idContatoUsuario}),a=Object(ot["orderBy"])(a,"dataHora"),o=po(a,"idContatoUsuario"),i={},r=!0,s=!1,n=void 0,e.prev=10,c=o[Symbol.iterator]();case 12:if(r=(l=c.next()).done){e.next=23;break}return d=l.value,e.next=16,Zn.usuario.le({id:d});case 16:if(e.t0=e.sent,e.t0){e.next=19;break}e.t0={};case 19:i[d]=e.t0;case 20:r=!0,e.next=12;break;case 23:e.next=29;break;case 25:e.prev=25,e.t1=e["catch"](10),s=!0,n=e.t1;case 29:e.prev=29,e.prev=30,r||null==c.return||c.return();case 32:if(e.prev=32,!s){e.next=35;break}throw n;case 35:return e.finish(32);case 36:return e.finish(29);case 37:for(u=[],m=!0,p=!1,v=void 0,e.prev=41,h=a[Symbol.iterator]();!(m=(f=h.next()).done);m=!0)C=f.value,u.push(at()({},C,{usuarioApelido:i[C.idContatoUsuario].apelido,usuarioImagem:i[C.idContatoUsuario].imagem,rotulo:new Date(C.dataHora).toLocaleString("pt-BR"),enviado:C.idContatoUsuario===Zn.usuario.logado.id,mensagens:[C.descricao]}));e.next=49;break;case 45:e.prev=45,e.t2=e["catch"](41),p=!0,v=e.t2;case 49:e.prev=49,e.prev=50,m||null==h.return||h.return();case 52:if(e.prev=52,!p){e.next=55;break}throw v;case 55:return e.finish(52);case 56:return e.finish(49);case 57:return e.abrupt("return",u);case 58:case"end":return e.stop()}},e,null,[[10,25,29,37],[30,,32,36],[41,45,49,57],[50,,52,56]])}));return function(t){return e.apply(this,arguments)}}()},rr=ir;a("386d");function sr(e,t){return nr.apply(this,arguments)}function nr(){return nr=Le()(regeneratorRuntime.mark(function e(t,a){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!Mi){e.next=2;break}return e.abrupt("return",Mi);case 2:return Mi=new Promise(function(e,t){o=e}),He().contato.where("codigoUsuario").notEqual("").each(function(e){e.usuario=!0,br(e,t,a)}).then(function(){o()}),e.abrupt("return",Mi);case 5:case"end":return e.stop()}},e)})),nr.apply(this,arguments)}function cr(e,t){return lr.apply(this,arguments)}function lr(){return lr=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!Di){e.next=2;break}return e.abrupt("return",Di);case 2:return Di=new Promise(function(e,t){o=e}),r=100,e.next=6,He().empresa.count();case 6:i=e.sent,s=regeneratorRuntime.mark(function e(s){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=[],e.next=3,He().empresa.offset(s).limit(r).each(function(e){e.idContato&&n.push(e.idContato)});case 3:return e.next=5,He().contato.where("id").anyOf(n).each(function(e){e.empresa=!0,br(e,t,a)});case 5:s+r>=i&&o();case 6:case"end":return e.stop()}},e)}),n=0;case 9:if(!(n<i)){e.next=14;break}return e.delegateYield(s(n),"t0",11);case 11:n+=r,e.next=9;break;case 14:return e.abrupt("return",Di);case 15:case"end":return e.stop()}},e)})),lr.apply(this,arguments)}function dr(e,t){return ur.apply(this,arguments)}function ur(){return ur=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!Pi){e.next=2;break}return e.abrupt("return",Pi);case 2:return Pi=new Promise(function(e,t){o=e}),i=[],r=["vendedor","vendedora","vendedores","Vendedor","Vendedora","Vendedores","VENDEDOR","VENDEDORA","VENDEDORES"],e.next=7,He().contatoGrupo.where("descricao").anyOf(r).each(function(e){e.idContato&&i.push(e.idContato)});case 7:return e.next=9,He().contato.where("id").anyOf(i).each(function(e){e.vendedor=!0,br(e,t,a)});case 9:return i=[],r=["tecnico","tecnica","tecnicos","Tecnico","Tecnica","Tecnicos","TECNICO","TECNICA","TECNICOS","técnico","técnica","técnicos","Técnico","Técnica","Técnicos","TÉCNICO","TÉCNICA","TÉCNICOS"],e.next=13,He().contatoGrupo.where("descricao").anyOf(r).each(function(e){e.idContato&&i.push(e.idContato)});case 13:return e.next=15,He().contato.where("id").anyOf(i).each(function(e){e.tecnico=!0,br(e,t,a)});case 15:return i=[],r=["transportador","transportadora","transportadores","transportadoras","Transportador","Transportadora","Transportadores","Transportadoras","TRANSPORTADOR","TRANSPORTADORA","TRANSPORTADORES","TRANSPORTADORAS"],e.next=19,He().contatoGrupo.where("descricao").anyOf(r).each(function(e){e.idContato&&i.push(e.idContato)});case 19:return e.next=21,He().contato.where("id").anyOf(i).each(function(e){e.transportador=!0,br(e,t,a)});case 21:return i=[],r=["medico","medica","medicos","Medico","Medica","Medicos","MEDICO","MEDICA","MEDICOS","médico","médica","médicos","Médico","Médica","Médicos","MÉDICO","MÉDICA","MÉDICOS"],e.next=25,He().contatoGrupo.where("descricao").anyOf(r).each(function(e){e.idContato&&i.push(e.idContato)});case 25:return e.next=27,He().contato.where("id").anyOf(i).each(function(e){e.medico=!0,br(e,t,a)});case 27:return o(),e.abrupt("return",Pi);case 29:case"end":return e.stop()}},e)})),ur.apply(this,arguments)}function mr(e,t){return pr.apply(this,arguments)}function pr(){return pr=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=1e4,e.next=3,He().contato.count();case 3:o=e.sent,r=0;case 5:if(!(r<o)){e.next=11;break}return e.next=8,He().contato.offset(r).limit(i).each(function(e){br(e,t,a)});case 8:r+=i,e.next=5;break;case 11:case"end":return e.stop()}},e)})),pr.apply(this,arguments)}function vr(e,t){return hr.apply(this,arguments)}function hr(){return hr=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=1e4,e.next=3,He().contatoTelefone.count();case 3:o=e.sent,r=0;case 5:if(!(r<o)){e.next=11;break}return e.next=8,He().contatoTelefone.offset(r).limit(i).each(function(e){gr(e,t,a)});case 8:r+=i,e.next=5;break;case 11:case"end":return e.stop()}},e)})),hr.apply(this,arguments)}function fr(e,t){return Cr.apply(this,arguments)}function Cr(){return Cr=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=1e4,e.next=3,He().contatoEndereco.count();case 3:o=e.sent,r=0;case 5:if(!(r<o)){e.next=11;break}return e.next=8,He().contatoEndereco.offset(r).limit(i).each(function(e){xr(e,t,a)});case 8:r+=i,e.next=5;break;case 11:case"end":return e.stop()}},e)})),Cr.apply(this,arguments)}function br(e,t,a){var o,i,r;t[e.id]=at()({},t[e.id],{codigoContato:e.codigoContato,nome:e.nome,apelido:e.apelido,numeroDocumentoNacional:e.numeroDocumentoNacional,segmento:e.segmento,ativo:e.ativo},e.usuario?{usuario:!0}:{},e.empresa?{empresa:!0}:{},e.vendedor?{vendedor:!0}:{},e.tecnico?{tecnico:!0}:{},e.transportador?{transportador:!0}:{},e.medico?{medico:!0}:{},e.medico&&e.numeroDocumentoMunicipal?{numeroDocumentoMunicipal:e.numeroDocumentoMunicipal}:{},e.idContatoVendedor?{idContatoVendedor:e.idContatoVendedor}:{},e.idContatoAssistente?{idContatoAssistente:e.idContatoAssistente}:{}),o="%0"+e.id,i=Number(e.codigoContato),Number.isInteger(i)&&i>0&&(o=o+" %1"+String(i)),i=((e.nome||"")+" "+(e.apelido||"")).trim(),i&&(o=o+" "+i.replace(/(\S+\s)|(\S+$)/g,"%2$1$2")),i=e.numeroDocumentoNacional||"",i&&(o=o+" %3"+i,o=o+" %3"+i.replace(/\D/g,"")),"boolean"===typeof e.ativo&&(o=o+" %6"+String(e.ativo)),"boolean"===typeof e.empresa&&e.empresa&&(o+=" %7true"),i=(e.segmento||"").trim(),i&&(o=o+" %8"+i.replace(/\s/g,"")),"boolean"===typeof e.usuario&&e.usuario&&(o+=" %9true"),"boolean"===typeof e.vendedor&&e.vendedor&&(o+=" %atrue"),"boolean"===typeof e.tecnico&&e.tecnico&&(o+=" %btrue"),"boolean"===typeof e.transportador&&e.transportador&&(o+=" %ctrue"),"boolean"===typeof e.medico&&e.medico&&(o+=" %dtrue",i=e.numeroDocumentoMunicipal||"",i&&(o=o+" %e"+i,o=o+" %e"+i.replace(/\D/g,""))),r=o.trim().toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" ");for(var s=la()(new Set(r)),n=0;n<s.length;n++){var c=s[n];a[c]?a[c].push(e.id):a[c]=[e.id]}}function gr(e,t,a){var o,i;if(i=(t[e.idContato]||{}).telefones||[],i.push(e.telefone),t[e.idContato]=at()({},t[e.idContato],{telefones:i}),o=(e.telefone||"").trim().replace(/\D/g,""),o){var r="%4"+o;if(!a[r])return void(a[r]=[e.idContato]);a[r].push(e.idContato)}}function xr(e,t,a){var o,i;if(i=(t[e.idContato]||{}).municipios||[],i.push(e.municipio),t[e.idContato]=at()({},t[e.idContato],{municipios:i}),o=(e.municipio||"").trim(),o){var r=o.replace(/(\S+\s)|(\S+$)/g,"%5$1$2");i=r.trim().toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" ");var s=!0,n=!1,c=void 0;try{for(var l,d=i[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var u=l.value;a[u]?a[u].push(e.idContato):a[u]=[e.idContato]}}catch(e){n=!0,c=e}finally{try{s||null==d.return||d.return()}finally{if(n)throw c}}}}function _r(e,t,a,o){for(var i in t){if("codigoContato"===i){var r=Number(t[i]);if(Number.isInteger(r)&&r>0){var s="%1"+String(r),n=[],c=!0,l=!1,d=void 0;try{for(var u,m=(o[s]||[])[Symbol.iterator]();!(c=(u=m.next()).done);c=!0){var p=u.value;p!==e&&n.push(p)}}catch(e){l=!0,d=e}finally{try{c||null==m.return||m.return()}finally{if(l)throw d}}o[s]=n}}if("nome"===i||"apelido"===i){var v=(t[i]||"").trim();if(v)for(var h=v.replace(/(\S+\s)|(\S+$)/g,"%2$1$2").toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" "),f=la()(new Set(h)),C=0;C<f.length;C++){var b=f[C],g=[],x=!0,_=!1,q=void 0;try{for(var S,I=(o[b]||[])[Symbol.iterator]();!(x=(S=I.next()).done);x=!0){var F=S.value;F!==e&&g.push(F)}}catch(e){_=!0,q=e}finally{try{x||null==I.return||I.return()}finally{if(_)throw q}}o[b]=g}}if("numeroDocumentoNacional"===i){var w=t[i]||"";if(w){var y="%3"+w,N=[],k=!0,M=!1,P=void 0;try{for(var D,E=(o[y]||[])[Symbol.iterator]();!(k=(D=E.next()).done);k=!0){var T=D.value;T!==e&&N.push(T)}}catch(e){M=!0,P=e}finally{try{k||null==E.return||E.return()}finally{if(M)throw P}}o[y]=N,y="%3"+w.replace(/\D/g,""),N=[];var A=!0,O=!1,$=void 0;try{for(var R,j=(o[y]||[])[Symbol.iterator]();!(A=(R=j.next()).done);A=!0){var z=R.value;z!==e&&N.push(z)}}catch(e){O=!0,$=e}finally{try{A||null==j.return||j.return()}finally{if(O)throw $}}o[y]=N}}if("numeroDocumentoMunicipal"===i){var B=t[i]||"";if(B){var L="%e"+B,V=[],U=!0,H=!1,Q=void 0;try{for(var G,J=(o[L]||[])[Symbol.iterator]();!(U=(G=J.next()).done);U=!0){var X=G.value;X!==e&&V.push(X)}}catch(e){H=!0,Q=e}finally{try{U||null==J.return||J.return()}finally{if(H)throw Q}}o[L]=V,L="%e"+B.replace(/\D/g,""),V=[];var Y=!0,W=!1,Z=void 0;try{for(var K,ee=(o[L]||[])[Symbol.iterator]();!(Y=(K=ee.next()).done);Y=!0){var te=K.value;te!==e&&V.push(te)}}catch(e){W=!0,Z=e}finally{try{Y||null==ee.return||ee.return()}finally{if(W)throw Z}}o[L]=V}}if("ativo"===i&&"boolean"===typeof t[i]){var ae="%6"+String(t[i]),oe=[],ie=!0,re=!1,se=void 0;try{for(var ne,ce=(o[ae]||[])[Symbol.iterator]();!(ie=(ne=ce.next()).done);ie=!0){var le=ne.value;le!==e&&oe.push(le)}}catch(e){re=!0,se=e}finally{try{ie||null==ce.return||ce.return()}finally{if(re)throw se}}o[ae]=oe}if("usuario"===i&&"boolean"===typeof t[i]){var de="%9"+String(t[i]),ue=[],me=!0,pe=!1,ve=void 0;try{for(var he,fe=(o[de]||[])[Symbol.iterator]();!(me=(he=fe.next()).done);me=!0){var Ce=he.value;Ce!==e&&ue.push(Ce)}}catch(e){pe=!0,ve=e}finally{try{me||null==fe.return||fe.return()}finally{if(pe)throw ve}}o[de]=ue}if("vendedor"===i&&"boolean"===typeof t[i]){var be="%a"+String(t[i]),ge=[],xe=!0,_e=!1,qe=void 0;try{for(var Se,Ie=(o[be]||[])[Symbol.iterator]();!(xe=(Se=Ie.next()).done);xe=!0){var Fe=Se.value;Fe!==e&&ge.push(Fe)}}catch(e){_e=!0,qe=e}finally{try{xe||null==Ie.return||Ie.return()}finally{if(_e)throw qe}}o[be]=ge}if("tecnico"===i&&"boolean"===typeof t[i]){var we="%b"+String(t[i]),ye=[],Ne=!0,ke=!1,Me=void 0;try{for(var Pe,De=(o[we]||[])[Symbol.iterator]();!(Ne=(Pe=De.next()).done);Ne=!0){var Ee=Pe.value;Ee!==e&&ye.push(Ee)}}catch(e){ke=!0,Me=e}finally{try{Ne||null==De.return||De.return()}finally{if(ke)throw Me}}o[we]=ye}if("transportador"===i&&"boolean"===typeof t[i]){var Te="%c"+String(t[i]),Ae=[],Oe=!0,$e=!1,Re=void 0;try{for(var je,ze=(o[Te]||[])[Symbol.iterator]();!(Oe=(je=ze.next()).done);Oe=!0){var Be=je.value;Be!==e&&Ae.push(Be)}}catch(e){$e=!0,Re=e}finally{try{Oe||null==ze.return||ze.return()}finally{if($e)throw Re}}o[Te]=Ae}if("medico"===i&&"boolean"===typeof t[i]){var Le="%d"+String(t[i]),Ve=[],Ue=!0,He=!1,Qe=void 0;try{for(var Ge,Je=(o[Le]||[])[Symbol.iterator]();!(Ue=(Ge=Je.next()).done);Ue=!0){var Xe=Ge.value;Xe!==e&&Ve.push(Xe)}}catch(e){He=!0,Qe=e}finally{try{Ue||null==Je.return||Je.return()}finally{if(He)throw Qe}}o[Le]=Ve}if("segmento"===i){var Ye=(t[i]||"").trim();if(Ye){var We="%8"+Ye.toLowerCase().replace(/\s/g,"").normalize("NFD").replace(/[\u0300-\u036f]/g,""),Ze=[],Ke=!0,et=!1,tt=void 0;try{for(var at,ot=(o[We]||[])[Symbol.iterator]();!(Ke=(at=ot.next()).done);Ke=!0){var it=at.value;it!==e&&Ze.push(it)}}catch(e){et=!0,tt=e}finally{try{Ke||null==ot.return||ot.return()}finally{if(et)throw tt}}o[We]=Ze}}if("empresa"===i&&"boolean"===typeof t[i]){var rt="%7"+String(t[i]),st=[],nt=!0,ct=!1,lt=void 0;try{for(var dt,ut=(o[rt]||[])[Symbol.iterator]();!(nt=(dt=ut.next()).done);nt=!0){var mt=dt.value;mt!==e&&st.push(mt)}}catch(e){ct=!0,lt=e}finally{try{nt||null==ut.return||ut.return()}finally{if(ct)throw lt}}o[rt]=st}if("telefones"===i){var pt=!0,vt=!1,ht=void 0;try{for(var ft,Ct=(t[i]||[])[Symbol.iterator]();!(pt=(ft=Ct.next()).done);pt=!0){var bt=ft.value,gt="%4"+(bt||"").trim().replace(/\D/g,""),xt=[],_t=!0,qt=!1,St=void 0;try{for(var It,Ft=(o[gt]||[])[Symbol.iterator]();!(_t=(It=Ft.next()).done);_t=!0){var wt=It.value;wt!==e&&xt.push(wt)}}catch(e){qt=!0,St=e}finally{try{_t||null==Ft.return||Ft.return()}finally{if(qt)throw St}}o[gt]=xt}}catch(e){vt=!0,ht=e}finally{try{pt||null==Ct.return||Ct.return()}finally{if(vt)throw ht}}}if("municipios"===i){var yt=!0,Nt=!1,kt=void 0;try{for(var Mt,Pt=(t[i]||[])[Symbol.iterator]();!(yt=(Mt=Pt.next()).done);yt=!0)for(var Dt=Mt.value,Et=(Dt||"").trim().replace(/(\S+\s)|(\S+$)/g,"%5$1$2").toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" "),Tt=la()(new Set(Et)),At=0;At<Tt.length;At++){var Ot=Tt[At],$t=[],Rt=!0,jt=!1,zt=void 0;try{for(var Bt,Lt=(o[Ot]||[])[Symbol.iterator]();!(Rt=(Bt=Lt.next()).done);Rt=!0){var Vt=Bt.value;Vt!==e&&$t.push(Vt)}}catch(e){jt=!0,zt=e}finally{try{Rt||null==Lt.return||Lt.return()}finally{if(jt)throw zt}}o[Ot]=$t}}catch(e){Nt=!0,kt=e}finally{try{yt||null==Pt.return||Pt.return()}finally{if(Nt)throw kt}}}}delete a[e]}var qr=!1,Sr={novoContatos:{},novoContatosIdx:{},inicializar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!qr){e.next=2;break}return e.abrupt("return");case 2:return qr=!0,e.next=5,cr(this.novoContatos,this.novoContatosIdx);case 5:return e.next=7,dr(this.novoContatos,this.novoContatosIdx);case 7:return e.next=9,sr(this.novoContatos,this.novoContatosIdx);case 9:return e.next=11,mr(this.novoContatos,this.novoContatosIdx);case 11:return e.next=13,vr(this.novoContatos,this.novoContatosIdx);case 13:return e.next=15,fr(this.novoContatos,this.novoContatosIdx);case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),filtrar:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w,y,N,k,M,P,D,E,T,A,O,$,R,j,z,B,L,V,U,H,Q,G,J,X,Y,W,Z,K,ee,te,ae,oe,ie,re,se,ne,ce,le,de,ue,me,pe,ve,he,fe,Ce,be,ge,xe,_e,qe,Se,Ie,Fe,we,ye,Ne,ke,Me,Pe,De,Ee,Te,Ae,Oe,$e,Re,je,ze,Be,Le,Ve,Ue,Qe,Ge,Je,Xe,Ye,We,Ze,Ke,et,tt,at,it,rt,st,nt,ct,lt,dt,ut,mt,pt,vt,ht,ft,Ct,bt,gt,xt,_t,qt,St,It,Ft,wt,yt,Nt,kt,Mt,Pt,Dt,Et,Tt,At,Ot,$t,Rt,jt,zt,Bt,Lt,Vt,Ut,Ht,Qt,Gt,Jt,Xt,Yt,Wt,Zt,Kt,ea,ta,aa,oa,ia,ra,sa,na,ca,da,ua,ma,pa,va,ha,fa,Ca,ba,ga,xa,_a,qa,Sa,Ia,Fa,wa,ya,Na,ka,Ma,Pa,Da,Ea,Ta,Aa,Oa,$a,Ra,ja,za=this,Ba=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=Ba.length>1&&void 0!==Ba[1]?Ba[1]:{},o=Ba.length>2&&void 0!==Ba[2]?Ba[2]:30,e.next=4,cr(this.novoContatos,this.novoContatosIdx);case 4:return e.next=6,dr(this.novoContatos,this.novoContatosIdx);case 6:return e.next=8,sr(this.novoContatos,this.novoContatosIdx);case 8:if(t=(t||"").trim(),t){e.next=288;break}if(i=[],"boolean"===typeof a.ativo){e.next=34;break}for(i=this.novoContatosIdx["%6true"]||[],r=!0,s=!1,n=void 0,e.prev=16,c=(this.novoContatosIdx["%6false"]||[])[Symbol.iterator]();!(r=(l=c.next()).done);r=!0)d=l.value,i.push(d);e.next=24;break;case 20:e.prev=20,e.t0=e["catch"](16),s=!0,n=e.t0;case 24:e.prev=24,e.prev=25,r||null==c.return||c.return();case 27:if(e.prev=27,!s){e.next=30;break}throw n;case 30:return e.finish(27);case 31:return e.finish(24);case 32:e.next=35;break;case 34:i=a.ativo?this.novoContatosIdx["%6true"]||[]:this.novoContatosIdx["%6false"]||[];case 35:if("boolean"!==typeof a.somenteCarteira||!a.somenteCarteira){e.next=90;break}if(e.t2=!Zn.usuario.logado.administrador,!e.t2){e.next=41;break}return e.next=40,Zn.permissao.objetoClienteSistema("Diretiva_Contatos_AcessaTodosContatos");case 40:e.t2=e.sent;case 41:if(e.t1=e.t2,!e.t1){e.next=46;break}return e.next=45,Zn.permissao.objeto("Diretiva_Contatos_AcessaTodosContatos");case 45:e.t1=!e.sent;case 46:if(!e.t1){e.next=90;break}return e.next=49,Zn.configuracoes.porNome("venda.codigoconsumidor");case 49:if(e.t3=e.sent[0],e.t3){e.next=52;break}e.t3={};case 52:if(m=e.t3.valor,u=Zn.usuario.logado.codigoContato,!u){e.next=59;break}return e.next=57,He().contato.where({codigoContato:u}).toArray();case 57:e.t4=function(e){return e.id},p=e.sent.find(e.t4);case 59:if(p){e.next=61;break}return e.abrupt("return",[]);case 61:v=[],h=!0,f=!1,C=void 0,e.prev=65,b=function(){var e=x.value,t=za.novoContatos[e]||{};if(e===p.id||za.novoContatosIdx["%1"+m].find(function(t){return t===e})||t.idContatoVendedor===p.id||t.idContatoAssistente===p.id)return 1276===t.codigoContato&&(console.log(e),console.log(p.id),console.log(p)),v.push(e),"continue"},g=i[Symbol.iterator]();case 68:if(h=(x=g.next()).done){e.next=75;break}if(_=b(),"continue"!==_){e.next=72;break}return e.abrupt("continue",72);case 72:h=!0,e.next=68;break;case 75:e.next=81;break;case 77:e.prev=77,e.t5=e["catch"](65),f=!0,C=e.t5;case 81:e.prev=81,e.prev=82,h||null==g.return||g.return();case 84:if(e.prev=84,!f){e.next=87;break}throw C;case 87:return e.finish(84);case 88:return e.finish(81);case 89:i=v;case 90:if("boolean"!==typeof a.empresas||!a.empresas){e.next=139;break}for(q=[],S=this.novoContatosIdx["%7true"]||[],I=!0,F=!1,w=void 0,e.prev=96,y=function(){var e=k.value;i.find(function(t){return t===e})&&q.push(e)},N=S[Symbol.iterator]();!(I=(k=N.next()).done);I=!0)y();e.next=105;break;case 101:e.prev=101,e.t6=e["catch"](96),F=!0,w=e.t6;case 105:e.prev=105,e.prev=106,I||null==N.return||N.return();case 108:if(e.prev=108,!F){e.next=111;break}throw w;case 111:return e.finish(108);case 112:return e.finish(105);case 113:if(i=q,Zn.usuario.logado.administrador){e.next=139;break}return M=[],e.next=118,Zi.empresaUsuarioPermissao.inicializarPermissao();case 118:for(P=!0,D=!1,E=void 0,e.prev=121,T=function(){var e=O.value;Zi.empresaUsuarioPermissao.permissao.find(function(t){return t===za.novoContatos[e].codigoContato})&&M.push(e)},A=i[Symbol.iterator]();!(P=(O=A.next()).done);P=!0)T();e.next=130;break;case 126:e.prev=126,e.t7=e["catch"](121),D=!0,E=e.t7;case 130:e.prev=130,e.prev=131,P||null==A.return||A.return();case 133:if(e.prev=133,!D){e.next=136;break}throw E;case 136:return e.finish(133);case 137:return e.finish(130);case 138:i=M;case 139:if("boolean"!==typeof a.usuario||!a.usuario){e.next=163;break}for($=[],R=this.novoContatosIdx["%9true"]||[],j=!0,z=!1,B=void 0,e.prev=145,L=function(){var e=U.value;i.find(function(t){return t===e})&&$.push(e)},V=R[Symbol.iterator]();!(j=(U=V.next()).done);j=!0)L();e.next=154;break;case 150:e.prev=150,e.t8=e["catch"](145),z=!0,B=e.t8;case 154:e.prev=154,e.prev=155,j||null==V.return||V.return();case 157:if(e.prev=157,!z){e.next=160;break}throw B;case 160:return e.finish(157);case 161:return e.finish(154);case 162:i=$;case 163:if("boolean"!==typeof a.vendedores||!a.vendedores){e.next=187;break}for(H=[],Q=this.novoContatosIdx["%atrue"]||[],G=!0,J=!1,X=void 0,e.prev=169,Y=function(){var e=Z.value;i.find(function(t){return t===e})&&H.push(e)},W=Q[Symbol.iterator]();!(G=(Z=W.next()).done);G=!0)Y();e.next=178;break;case 174:e.prev=174,e.t9=e["catch"](169),J=!0,X=e.t9;case 178:e.prev=178,e.prev=179,G||null==W.return||W.return();case 181:if(e.prev=181,!J){e.next=184;break}throw X;case 184:return e.finish(181);case 185:return e.finish(178);case 186:i=H;case 187:if("boolean"!==typeof a.tecnicos||!a.tecnicos){e.next=211;break}for(K=[],ee=this.novoContatosIdx["%btrue"]||[],te=!0,ae=!1,oe=void 0,e.prev=193,ie=function(){var e=se.value;i.find(function(t){return t===e})&&K.push(e)},re=ee[Symbol.iterator]();!(te=(se=re.next()).done);te=!0)ie();e.next=202;break;case 198:e.prev=198,e.t10=e["catch"](193),ae=!0,oe=e.t10;case 202:e.prev=202,e.prev=203,te||null==re.return||re.return();case 205:if(e.prev=205,!ae){e.next=208;break}throw oe;case 208:return e.finish(205);case 209:return e.finish(202);case 210:i=K;case 211:if("boolean"!==typeof a.transportadoras||!a.transportadoras){e.next=235;break}for(ne=[],ce=this.novoContatosIdx["%ctrue"]||[],le=!0,de=!1,ue=void 0,e.prev=217,me=function(){var e=ve.value;i.find(function(t){return t===e})&&ne.push(e)},pe=ce[Symbol.iterator]();!(le=(ve=pe.next()).done);le=!0)me();e.next=226;break;case 222:e.prev=222,e.t11=e["catch"](217),de=!0,ue=e.t11;case 226:e.prev=226,e.prev=227,le||null==pe.return||pe.return();case 229:if(e.prev=229,!de){e.next=232;break}throw ue;case 232:return e.finish(229);case 233:return e.finish(226);case 234:i=ne;case 235:if("boolean"!==typeof a.medicos||!a.medicos){e.next=259;break}for(he=[],fe=this.novoContatosIdx["%dtrue"]||[],Ce=!0,be=!1,ge=void 0,e.prev=241,xe=function(){var e=qe.value;i.find(function(t){return t===e})&&he.push(e)},_e=fe[Symbol.iterator]();!(Ce=(qe=_e.next()).done);Ce=!0)xe();e.next=250;break;case 246:e.prev=246,e.t12=e["catch"](241),be=!0,ge=e.t12;case 250:e.prev=250,e.prev=251,Ce||null==_e.return||_e.return();case 253:if(e.prev=253,!be){e.next=256;break}throw ge;case 256:return e.finish(253);case 257:return e.finish(250);case 258:i=he;case 259:if(Se=(a.segmento||"").trim(),!Se){e.next=285;break}for(Ie="%8"+Se.toLowerCase().replace(/\s/g,"").normalize("NFD").replace(/[\u0300-\u036f]/g,""),Fe=[],we=this.novoContatosIdx[Ie]||[],ye=!0,Ne=!1,ke=void 0,e.prev=267,Me=function(){var e=De.value;i.find(function(t){return t===e})&&Fe.push(e)},Pe=we[Symbol.iterator]();!(ye=(De=Pe.next()).done);ye=!0)Me();e.next=276;break;case 272:e.prev=272,e.t13=e["catch"](267),Ne=!0,ke=e.t13;case 276:e.prev=276,e.prev=277,ye||null==Pe.return||Pe.return();case 279:if(e.prev=279,!Ne){e.next=282;break}throw ke;case 282:return e.finish(279);case 283:return e.finish(276);case 284:i=Fe;case 285:return i=la()(new Set(i)),o>0&&(i=i.slice(0,o)),e.abrupt("return",He().contato.where("id").anyOf(i).toArray());case 288:if(!/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(t)){e.next=346;break}if("boolean"!==typeof a.ativo||(this.novoContatosIdx["%6"+String(a.ativo)]||[]).find(function(e){return e===t})){e.next=291;break}return e.abrupt("return",[]);case 291:if("boolean"!==typeof a.empresas){e.next=301;break}if((this.novoContatosIdx["%7true"]||[]).find(function(e){return e===t})){e.next=296;break}return e.abrupt("return",[]);case 296:if(Zn.usuario.logado.administrador){e.next=301;break}return e.next=299,Zi.empresaUsuarioPermissao.inicializarPermissao();case 299:if(Zi.empresaUsuarioPermissao.permissao.find(function(e){return e===(za.novoContatos[t]||{}).codigoContato})){e.next=301;break}return e.abrupt("return",[]);case 301:if("boolean"!==typeof a.somenteCarteira||!a.somenteCarteira){e.next=330;break}if(e.t15=!Zn.usuario.logado.administrador,!e.t15){e.next=307;break}return e.next=306,Zn.permissao.objetoClienteSistema("Diretiva_Contatos_AcessaTodosContatos");case 306:e.t15=e.sent;case 307:if(e.t14=e.t15,!e.t14){e.next=312;break}return e.next=311,Zn.permissao.objeto("Diretiva_Contatos_AcessaTodosContatos");case 311:e.t14=!e.sent;case 312:if(!e.t14){e.next=330;break}return e.next=315,Zn.configuracoes.porNome("venda.codigoconsumidor");case 315:if(e.t16=e.sent[0],e.t16){e.next=318;break}e.t16={};case 318:if(Te=e.t16.valor,Ee=Zn.usuario.logado.codigoContato,!Ee){e.next=325;break}return e.next=323,He().contato.where({codigoContato:Ee}).toArray();case 323:e.t17=function(e){return e.id},Ae=e.sent.find(e.t17);case 325:if(Ae){e.next=327;break}return e.abrupt("return",[]);case 327:if(Oe=this.novoContatos[t]||{},t===Ae.id||this.novoContatosIdx["%1"+Te].find(function(e){return e===t})||Oe.idContatoVendedor===Ae.id||Oe.idContatoAssistente===Ae.id){e.next=330;break}return e.abrupt("return",[]);case 330:if("boolean"!==typeof a.usuario||(this.novoContatosIdx["%9true"]||[]).find(function(e){return e===t})){e.next=332;break}return e.abrupt("return",[]);case 332:if("boolean"!==typeof a.vendedores||(this.novoContatosIdx["%atrue"]||[]).find(function(e){return e===t})){e.next=334;break}return e.abrupt("return",[]);case 334:if("boolean"!==typeof a.tecnicos||(this.novoContatosIdx["%btrue"]||[]).find(function(e){return e===t})){e.next=336;break}return e.abrupt("return",[]);case 336:if("boolean"!==typeof a.transportadoras||(this.novoContatosIdx["%ctrue"]||[]).find(function(e){return e===t})){e.next=338;break}return e.abrupt("return",[]);case 338:if("boolean"!==typeof a.medicos||(this.novoContatosIdx["%dtrue"]||[]).find(function(e){return e===t})){e.next=340;break}return e.abrupt("return",[]);case 340:if($e=(a.segmento||"").trim(),!$e){e.next=345;break}if(Re="%8"+$e.toLowerCase().replace(/\s/g,"").normalize("NFD").replace(/[\u0300-\u036f]/g,""),(this.novoContatosIdx[Re]||[]).find(function(e){return e===t})){e.next=345;break}return e.abrupt("return",[]);case 345:return e.abrupt("return",He().contato.where({id:t}).toArray());case 346:je=t.toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" "),ze=[],Be=Object(ot["escapeRegExp"])(je[0]),e.t18=regeneratorRuntime.keys(this.novoContatosIdx);case 350:if((e.t19=e.t18()).done){e.next=377;break}if(Le=e.t19.value,"%0"!==Le.substring(0,2)&&"%6"!==Le.substring(0,2)&&"%7"!==Le.substring(0,2)&&"%9"!==Le.substring(0,2)&&"%a"!==Le.substring(0,2)&&"%b"!==Le.substring(0,2)&&"%c"!==Le.substring(0,2)&&"%d"!==Le.substring(0,2)){e.next=354;break}return e.abrupt("continue",350);case 354:if(-1!==Le.substring(2,Le.length).search(Be)){e.next=356;break}return e.abrupt("continue",350);case 356:for(Ve=!0,Ue=!1,Qe=void 0,e.prev=359,Ge=this.novoContatosIdx[Le][Symbol.iterator]();!(Ve=(Je=Ge.next()).done);Ve=!0)Xe=Je.value,ze.push(Xe);e.next=367;break;case 363:e.prev=363,e.t20=e["catch"](359),Ue=!0,Qe=e.t20;case 367:e.prev=367,e.prev=368,Ve||null==Ge.return||Ge.return();case 370:if(e.prev=370,!Ue){e.next=373;break}throw Qe;case 373:return e.finish(370);case 374:return e.finish(367);case 375:e.next=350;break;case 377:je.shift(),Ye=[],We=!0,Ze=!1,Ke=void 0,e.prev=382,et=je[Symbol.iterator]();case 384:if(We=(tt=et.next()).done){e.next=408;break}at=tt.value,it=!1,at=Object(ot["escapeRegExp"])(at),Ye=[],e.t21=regeneratorRuntime.keys(this.novoContatosIdx);case 390:if((e.t22=e.t21()).done){e.next=401;break}if(rt=e.t22.value,"%0"!==rt.substring(0,2)&&"%6"!==rt.substring(0,2)&&"%7"!==rt.substring(0,2)&&"%9"!==rt.substring(0,2)&&"%a"!==rt.substring(0,2)&&"%b"!==rt.substring(0,2)&&"%c"!==rt.substring(0,2)&&"%d"!==rt.substring(0,2)){e.next=394;break}return e.abrupt("continue",390);case 394:if(-1!==rt.substring(2,rt.length).search(at)){e.next=396;break}return e.abrupt("continue",390);case 396:for(it=!0,st=function(){var e=ze[nt];!Ye.find(function(t){return t===e})&&za.novoContatosIdx[rt].find(function(t){return t===e})&&Ye.push(e)},nt=0;nt<ze.length;nt++)st();e.next=390;break;case 401:if(it){e.next=404;break}return ze=[],e.abrupt("break",408);case 404:ze=Ye;case 405:We=!0,e.next=384;break;case 408:e.next=414;break;case 410:e.prev=410,e.t23=e["catch"](382),Ze=!0,Ke=e.t23;case 414:e.prev=414,e.prev=415,We||null==et.return||et.return();case 417:if(e.prev=417,!Ze){e.next=420;break}throw Ke;case 420:return e.finish(417);case 421:return e.finish(414);case 422:if(!Object.keys(a).length){e.next=728;break}if(ct=[],lt=[],"boolean"===typeof a.ativo){e.next=447;break}for(ct=this.novoContatosIdx["%6true"]||[],dt=!0,ut=!1,mt=void 0,e.prev=429,pt=(this.novoContatosIdx["%6false"]||[])[Symbol.iterator]();!(dt=(vt=pt.next()).done);dt=!0)ht=vt.value,ct.push(ht);e.next=437;break;case 433:e.prev=433,e.t24=e["catch"](429),ut=!0,mt=e.t24;case 437:e.prev=437,e.prev=438,dt||null==pt.return||pt.return();case 440:if(e.prev=440,!ut){e.next=443;break}throw mt;case 443:return e.finish(440);case 444:return e.finish(437);case 445:e.next=448;break;case 447:ct=a.ativo?this.novoContatosIdx["%6true"]||[]:this.novoContatosIdx["%6false"]||[];case 448:if("boolean"!==typeof a.somenteCarteira||!a.somenteCarteira){e.next=503;break}if(e.t26=!Zn.usuario.logado.administrador,!e.t26){e.next=454;break}return e.next=453,Zn.permissao.objetoClienteSistema("Diretiva_Contatos_AcessaTodosContatos");case 453:e.t26=e.sent;case 454:if(e.t25=e.t26,!e.t25){e.next=459;break}return e.next=458,Zn.permissao.objeto("Diretiva_Contatos_AcessaTodosContatos");case 458:e.t25=!e.sent;case 459:if(!e.t25){e.next=503;break}return e.next=462,Zn.configuracoes.porNome("venda.codigoconsumidor");case 462:if(e.t27=e.sent[0],e.t27){e.next=465;break}e.t27={};case 465:if(Ct=e.t27.valor,ft=Zn.usuario.logado.codigoContato,!ft){e.next=472;break}return e.next=470,He().contato.where({codigoContato:ft}).toArray();case 470:e.t28=function(e){return e.id},bt=e.sent.find(e.t28);case 472:if(bt){e.next=474;break}return e.abrupt("return",[]);case 474:gt=[],xt=!0,_t=!1,qt=void 0,e.prev=478,St=function(){var e=Ft.value,t=za.novoContatos[e]||{};if(e===bt.id||za.novoContatosIdx["%1"+Ct].find(function(t){return t===e})||t.idContatoVendedor===bt.id||t.idContatoAssistente===bt.id)return gt.push(e),"continue"},It=ct[Symbol.iterator]();case 481:if(xt=(Ft=It.next()).done){e.next=488;break}if(wt=St(),"continue"!==wt){e.next=485;break}return e.abrupt("continue",485);case 485:xt=!0,e.next=481;break;case 488:e.next=494;break;case 490:e.prev=490,e.t29=e["catch"](478),_t=!0,qt=e.t29;case 494:e.prev=494,e.prev=495,xt||null==It.return||It.return();case 497:if(e.prev=497,!_t){e.next=500;break}throw qt;case 500:return e.finish(497);case 501:return e.finish(494);case 502:ct=gt;case 503:if("boolean"!==typeof a.empresas||!a.empresas){e.next=552;break}for(yt=this.novoContatosIdx["%7true"]||[],lt=[],Nt=!0,kt=!1,Mt=void 0,e.prev=509,Pt=function(){var e=Et.value;ct.find(function(t){return t===e})&&lt.push(e)},Dt=yt[Symbol.iterator]();!(Nt=(Et=Dt.next()).done);Nt=!0)Pt();e.next=518;break;case 514:e.prev=514,e.t30=e["catch"](509),kt=!0,Mt=e.t30;case 518:e.prev=518,e.prev=519,Nt||null==Dt.return||Dt.return();case 521:if(e.prev=521,!kt){e.next=524;break}throw Mt;case 524:return e.finish(521);case 525:return e.finish(518);case 526:if(ct=lt,Zn.usuario.logado.administrador){e.next=552;break}return Tt=[],e.next=531,Zi.empresaUsuarioPermissao.inicializarPermissao();case 531:for(At=!0,Ot=!1,$t=void 0,e.prev=534,Rt=function(){var e=zt.value;Zi.empresaUsuarioPermissao.permissao.find(function(t){return t===(za.novoContatos[e]||{}).codigoContato})&&Tt.push(e)},jt=ct[Symbol.iterator]();!(At=(zt=jt.next()).done);At=!0)Rt();e.next=543;break;case 539:e.prev=539,e.t31=e["catch"](534),Ot=!0,$t=e.t31;case 543:e.prev=543,e.prev=544,At||null==jt.return||jt.return();case 546:if(e.prev=546,!Ot){e.next=549;break}throw $t;case 549:return e.finish(546);case 550:return e.finish(543);case 551:ct=Tt;case 552:if("boolean"!==typeof a.usuario||!a.usuario){e.next=576;break}for(Bt=this.novoContatosIdx["%9true"]||[],lt=[],Lt=!0,Vt=!1,Ut=void 0,e.prev=558,Ht=function(){var e=Gt.value;ct.find(function(t){return t===e})&&lt.push(e)},Qt=Bt[Symbol.iterator]();!(Lt=(Gt=Qt.next()).done);Lt=!0)Ht();e.next=567;break;case 563:e.prev=563,e.t32=e["catch"](558),Vt=!0,Ut=e.t32;case 567:e.prev=567,e.prev=568,Lt||null==Qt.return||Qt.return();case 570:if(e.prev=570,!Vt){e.next=573;break}throw Ut;case 573:return e.finish(570);case 574:return e.finish(567);case 575:ct=lt;case 576:if("boolean"!==typeof a.vendedores||!a.vendedores){e.next=600;break}for(Jt=this.novoContatosIdx["%atrue"]||[],lt=[],Xt=!0,Yt=!1,Wt=void 0,e.prev=582,Zt=function(){var e=ea.value;ct.find(function(t){return t===e})&&lt.push(e)},Kt=Jt[Symbol.iterator]();!(Xt=(ea=Kt.next()).done);Xt=!0)Zt();e.next=591;break;case 587:e.prev=587,e.t33=e["catch"](582),Yt=!0,Wt=e.t33;case 591:e.prev=591,e.prev=592,Xt||null==Kt.return||Kt.return();case 594:if(e.prev=594,!Yt){e.next=597;break}throw Wt;case 597:return e.finish(594);case 598:return e.finish(591);case 599:ct=lt;case 600:if("boolean"!==typeof a.tecnicos||!a.tecnicos){e.next=624;break}for(ta=this.novoContatosIdx["%btrue"]||[],lt=[],aa=!0,oa=!1,ia=void 0,e.prev=606,ra=function(){var e=na.value;ct.find(function(t){return t===e})&&lt.push(e)},sa=ta[Symbol.iterator]();!(aa=(na=sa.next()).done);aa=!0)ra();e.next=615;break;case 611:e.prev=611,e.t34=e["catch"](606),oa=!0,ia=e.t34;case 615:e.prev=615,e.prev=616,aa||null==sa.return||sa.return();case 618:if(e.prev=618,!oa){e.next=621;break}throw ia;case 621:return e.finish(618);case 622:return e.finish(615);case 623:ct=lt;case 624:if("boolean"!==typeof a.transportadoras||!a.transportadoras){e.next=648;break}for(ca=this.novoContatosIdx["%ctrue"]||[],lt=[],da=!0,ua=!1,ma=void 0,e.prev=630,pa=function(){var e=ha.value;ct.find(function(t){return t===e})&&lt.push(e)},va=ca[Symbol.iterator]();!(da=(ha=va.next()).done);da=!0)pa();e.next=639;break;case 635:e.prev=635,e.t35=e["catch"](630),ua=!0,ma=e.t35;case 639:e.prev=639,e.prev=640,da||null==va.return||va.return();case 642:if(e.prev=642,!ua){e.next=645;break}throw ma;case 645:return e.finish(642);case 646:return e.finish(639);case 647:ct=lt;case 648:if("boolean"!==typeof a.medicos||!a.medicos){e.next=672;break}for(fa=this.novoContatosIdx["%dtrue"]||[],lt=[],Ca=!0,ba=!1,ga=void 0,e.prev=654,xa=function(){var e=qa.value;ct.find(function(t){return t===e})&&lt.push(e)},_a=fa[Symbol.iterator]();!(Ca=(qa=_a.next()).done);Ca=!0)xa();e.next=663;break;case 659:e.prev=659,e.t36=e["catch"](654),ba=!0,ga=e.t36;case 663:e.prev=663,e.prev=664,Ca||null==_a.return||_a.return();case 666:if(e.prev=666,!ba){e.next=669;break}throw ga;case 669:return e.finish(666);case 670:return e.finish(663);case 671:ct=lt;case 672:if(Sa=(a.segmento||"").trim(),!Sa){e.next=698;break}for(Ia="%8"+Sa.toLowerCase().replace(/\s/g,"").normalize("NFD").replace(/[\u0300-\u036f]/g,""),Fa=[],wa=this.novoContatosIdx[Ia]||[],ya=!0,Na=!1,ka=void 0,e.prev=680,Ma=function(){var e=Da.value;ct.find(function(t){return t===e})&&Fa.push(e)},Pa=wa[Symbol.iterator]();!(ya=(Da=Pa.next()).done);ya=!0)Ma();e.next=689;break;case 685:e.prev=685,e.t37=e["catch"](680),Na=!0,ka=e.t37;case 689:e.prev=689,e.prev=690,ya||null==Pa.return||Pa.return();case 692:if(e.prev=692,!Na){e.next=695;break}throw ka;case 695:return e.finish(692);case 696:return e.finish(689);case 697:ct=Fa;case 698:ze=la()(new Set(ze)),lt=[],Ea=!0,Ta=!1,Aa=void 0,e.prev=703,Oa=function(){var e=Ra.value;if(ct.find(function(t){return t===e})&&lt.push(e),o>0&&lt.length===o)return"break"},$a=ze[Symbol.iterator]();case 706:if(Ea=(Ra=$a.next()).done){e.next=713;break}if(ja=Oa(),"break"!==ja){e.next=710;break}return e.abrupt("break",713);case 710:Ea=!0,e.next=706;break;case 713:e.next=719;break;case 715:e.prev=715,e.t38=e["catch"](703),Ta=!0,Aa=e.t38;case 719:e.prev=719,e.prev=720,Ea||null==$a.return||$a.return();case 722:if(e.prev=722,!Ta){e.next=725;break}throw Aa;case 725:return e.finish(722);case 726:return e.finish(719);case 727:ze=lt;case 728:return o>0&&(ze=ze.slice(0,o)),e.abrupt("return",He().contato.where("id").anyOf(ze).toArray());case 730:case"end":return e.stop()}},e,this,[[16,20,24,32],[25,,27,31],[65,77,81,89],[82,,84,88],[96,101,105,113],[106,,108,112],[121,126,130,138],[131,,133,137],[145,150,154,162],[155,,157,161],[169,174,178,186],[179,,181,185],[193,198,202,210],[203,,205,209],[217,222,226,234],[227,,229,233],[241,246,250,258],[251,,253,257],[267,272,276,284],[277,,279,283],[359,363,367,375],[368,,370,374],[382,410,414,422],[415,,417,421],[429,433,437,445],[438,,440,444],[478,490,494,502],[495,,497,501],[509,514,518,526],[519,,521,525],[534,539,543,551],[544,,546,550],[558,563,567,575],[568,,570,574],[582,587,591,599],[592,,594,598],[606,611,615,623],[616,,618,622],[630,635,639,647],[640,,642,646],[654,659,663,671],[664,,666,670],[680,685,689,697],[690,,692,696],[703,715,719,727],[720,,722,726]])}));return function(t){return e.apply(this,arguments)}}(),reindexar:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return a=this.novoContatos[t],a&&(o={codigoContato:a.codigoContato,nome:a.nome,apelido:a.apelido,numeroDocumentoNacional:a.numeroDocumentoNacional,numeroDocumentoMunicipal:a.numeroDocumentoMunicipal,segmento:a.segmento,ativo:a.ativo,telefones:a.telefones,municipios:a.municipios,empresa:a.empresa,usuario:a.usuario,vendedor:a.vendedor,tecnico:a.tecnico,transportador:a.transportador,medico:a.medico},_r(t,o,this.novoContatos,this.novoContatosIdx)),e.next=6,He().empresa.where({idContato:t}).toArray();case 6:return e.t0=function(e){return e.id},i=e.sent.find(e.t0),e.next=10,He().contatoGrupo.where({idContato:t}).toArray();case 10:return e.t1=function(e){return["vendedor","vendedora","vendedores"].find(function(t){return t===e.descricao.trim().toLowerCase()})},r=e.sent.find(e.t1),e.next=14,He().contatoGrupo.where({idContato:t}).toArray();case 14:return e.t2=function(e){return["tecnico","tecnica","tecnicos"].find(function(t){return t===e.descricao.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")})},s=e.sent.find(e.t2),e.next=18,He().contatoGrupo.where({idContato:t}).toArray();case 18:return e.t3=function(e){return["transportador","transportadora","transportadores","transportadoras"].find(function(t){return t===e.descricao.trim().toLowerCase()})},n=e.sent.find(e.t3),e.next=22,He().contatoGrupo.where({idContato:t}).toArray();case 22:return e.t4=function(e){return["medico","medica","medicos"].find(function(t){return t===e.descricao.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")})},c=e.sent.find(e.t4),e.next=26,He().contato.where({id:t}).each(function(e){i&&(e.empresa=!0),r&&(e.vendedor=!0),s&&(e.tecnico=!0),n&&(e.transportador=!0),c&&(e.medico=!0),e.codigoUsuario&&(e.usuario=!0),br(e,l.novoContatos,l.novoContatosIdx)});case 26:return e.next=28,He().contatoTelefone.where({idContato:t}).each(function(e){gr(e,l.novoContatos,l.novoContatosIdx)});case 28:return e.next=30,He().contatoEndereco.where({idContato:t}).each(function(e){xr(e,l.novoContatos,l.novoContatosIdx)});case 30:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},Ir={le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().contatoCreditoExtrato.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:if(a={},"idContato"in t&&t.idContato&&(a.idContato=t.idContato),o=[],!Object.keys(a).length){e.next=25;break}return e.next=19,He().contatoCreditoExtrato.where(a).toArray();case 19:if(e.t2=e.sent,e.t2){e.next=22;break}e.t2=[];case 22:o=e.t2,e.next=31;break;case 25:return e.next=27,He().contatoCreditoExtrato.toArray();case 27:if(e.t3=e.sent,e.t3){e.next=30;break}e.t3=[];case 30:o=e.t3;case 31:return e.abrupt("return",o);case 32:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Fr=Ir,wr={grava:function(){},le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!t.id){e.next=3;break}return e.abrupt("return",He().contatoEndereco.get(t.id)||{});case 3:if(a={},t.idContato&&(a.idContato=t.idContato),o=[],!Object.keys(a).length){e.next=15;break}return e.next=9,He().contatoEndereco.where(a).toArray();case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0=[];case 12:o=e.t0,e.next=21;break;case 15:return e.next=17,He().contatoEndereco.toArray();case 17:if(e.t1=e.sent,e.t1){e.next=20;break}e.t1=[];case 20:o=e.t1;case 21:return e.abrupt("return",o);case 22:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leEnderecoPrincipal:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{});case 2:return e.next=4,He().contatoEndereco.where({idContato:t}).toArray();case 4:if(a=e.sent,a&&0!==a.length){e.next=7;break}return e.abrupt("return",{});case 7:return o=a.find(function(e){return"Principal"===e.grupo}),o||(o=a[0]||{}),e.abrupt("return",o);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leNew:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().contatoEndereco.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:return a={},"idContato"in t&&t.idContato&&(a.idContato=t.idContato),o=He().contatoEndereco,Object.keys(a).length&&(o=o.where(a)),e.next=19,o.toArray();case 19:if(e.t2=e.sent,e.t2){e.next=22;break}e.t2=[];case 22:return e.abrupt("return",e.t2);case 23:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},yr=wr,Nr={grava:function(){},le:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().contatoTelefone.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:return a={},t.idContato&&(a.idContato=t.idContato),o=He().contatoTelefone,Object.keys(a).length&&(o=o.where(a)),e.abrupt("return",o.toArray());case 18:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),leNew:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().contatoTelefone.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:return a={},"idContato"in t&&t.idContato&&(a.idContato=t.idContato),o=He().contatoTelefone,Object.keys(a).length&&(o=o.where(a)),e.next=19,o.toArray();case 19:if(e.t2=e.sent,e.t2){e.next=22;break}e.t2=[];case 22:return e.abrupt("return",e.t2);case 23:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},kr=Nr,Mr={id:"",tipo:"CRM",operacao:"Normal",status:"",crmFunil:"",crmFunilStatus:"",idEmpresa:"",descricaoEmpresa:"",numeroDocumentoEmpresa:"",idContato:"",descricaoContato:"",numeroDocumentoContato:"",idContatoResponsavel:"",dataHoraEmissao:"",dataHoraRealizado:"",dataHoraPrevisto:"",documentoId:"",documentoTipo:"",subTotal:0,totalDocumento:0},Pr={vazio:Mr,leOnline:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.entregueInicio,t.entregueFim,e.abrupt("return",jo("select\n        venda.id,\n        venda.codigoDocumento,\n        venda.status,\n        venda.dataHoraEmissao,\n        venda.codigoContato,\n        venda.codigoEmpresa,\n        venda.descricaoEmpresa,\n        venda.codigoContatoDigitador,\n        digitador.nome nomeDigitador,\n        venda.codigoContatoVendedor,\n        vendedor.nome nomeVendedor,\n        venda.descricaoContato nomeCliente,\n        venda.numero numeroVenda,\n        venda.crmFunilStatus,\n        venda.totalDocumento\n      from documento venda\n      left join contato digitador on digitador.codigoContato = venda.codigoContatoDigitador\n      left join contato vendedor on vendedor.codigoContato = venda.codigoContatoVendedor\n      where\n        venda.status = 'Orçamento'"));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),trocaStatusOnline:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",jo("set nocount on\n      update documento set\n          crmFunilStatus = ".concat(Vo(t.statusNovo),"\n      where codigoDocumento = ").concat(Lo(t.codigoDocumento),"\n      insert into documentoStatus (codigoDocumento, codigoDocumentoItem, codigoContatoResponsavel, operacao,\n        statusOriginal, statusFinalizado, dataHoraEmissao, codigoUsuarioAlterou, observacao)\n      values(").concat(Lo(t.codigoDocumento),", NULL, NULL, 'Mudança status CRM',\n        ").concat(Vo(t.statusAtual),", ").concat(Vo(t.statusNovo),", getdate(), ").concat(Lo(t.codigoUsuario),", ").concat(Vo(t.observacao,""),")")));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Dr={id:"",tipo:"Custom",operacao:"Normal",status:"",idEmpresa:"",descricaoEmpresa:"",numeroDocumentoEmpresa:"",idContato:"",descricaoContato:"",numeroDocumentoContato:"",idContatoResponsavel:"",dataHoraEmissao:"",dataHoraRealizado:"",dataHoraPrevisto:"",documentoId:"",documentoTipo:"",subTotal:0,totalDocumento:0},Er={vazio:Dr,leOnline:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.entregueInicio,o=t.entregueFim,e.abrupt("return",jo("select\n      custom.id,\n      custom.codigoDocumento,\n      custom.status,\n      custom.dataHoraEmissao,\n      custom.dataHoraPrevisto,\n      custom.dataHoraFinalizado,\n      custom.dataHoraRetorno,\n      custom.codigoContato,\n      custom.descricao,\n      empresa.codigoContato codigoEmpresa,\n      empresa.apelido descricaoEmpresa,\n      custom.codigoContatoVendedor,\n      vendedor.nome nomeVendedor,\n      custom.descricaoContato nomeCliente,\n      fornecedor.codigoContato codigoFornecedor,\n      contatoFornecedor.apelido nomeFornecedor,\n      venda.numero numeroVenda,\n      custom.numero numeroCustom,\n      compra.numero numeroCompra\n    from Documento custom\n    left join documento venda on venda.codigoDocumento = custom.documentoCodigo\n    left join contato vendedor on vendedor.codigoContato = venda.codigoContatoVendedor\n    left join contato empresa on empresa.codigoContato = venda.codigoEmpresa\n    left join documentoContato fornecedor on fornecedor.codigoDocumento = custom.codigoDocumento\n    left join contato contatoFornecedor on contatoFornecedor.codigoContato = fornecedor.codigoContato\n    left join documento compra on compra.codigoDocumento = custom.codigoDocumentoOperacao and compra.tipo = 'Compra'\n    where custom.tipo = 'Custom'\n      and custom.status not in ('Orçamento', 'Cancelado', 'Não aprovado', '')\n      and (custom.status <> 'Entregue' or cast(custom.dataHoraFinalizado as date) between ".concat(Bo(a)," and ").concat(Bo(o),")")));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leProdutosServicos:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,jo("select\n      codigoDocumento,\n      numero,\n      descricao,\n      observacao\n    from documento custom\n    where custom.codigoDocumento = ".concat(Lo(t)));case 2:return a=e.sent,e.next=5,jo("select\n      prod.codigoDocumentoItem,\n      prod.descricaoItem,\n      prod.quantidade,\n      prod.codigoItem,\n      prod.observacao,\n      itn.referencia,\n      itn.imagem\n    from documento custom\n    inner join documentoItem prod on prod.codigoDocumentoAdicional = custom.codigoDocumento\n    inner join item itn on itn.codigoItem = prod.codigoItem\n    where custom.codigoDocumento = ".concat(Lo(t)));case 5:return o=e.sent,e.abrupt("return",{custom:a.find(function(e){return e.codigoDocumento})||{},produtos:o});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),geraPedidoOnline:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",jo("exec sp_compras_pedidoViaCustom '".concat(Lo(t.codigoDocumento),"', ").concat(Lo(t.codigoUsuario))));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),gravaFornecedorOnline:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",jo("set nocount on\n      update documentoContato\n      set codigoContato = ".concat(Lo(t.codigoFornecedor),"\n      where descricao = 'Fornecedor' and codigoDocumento = ").concat(Lo(t.codigoDocumento),"\n      if @@RowCount = 0\n        insert into documentoContato (codigoContato, descricao, codigoDocumento)\n        values(").concat(Lo(t.codigoFornecedor),", 'Fornecedor', ").concat(Lo(t.codigoDocumento),")")));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),trocaStatusOnline:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",jo("set nocount on\n      update documento set \n          status = ".concat(Vo(t.statusNovo),",\n          dataHoraFinalizado = case ").concat(Vo(t.statusNovo)," when 'Entregue' then getdate() else null end\n        where codigoDocumento = ").concat(Lo(t.codigoDocumento),"\n      insert into documentoStatus (codigoDocumento, codigoDocumentoItem, codigoContatoResponsavel, operacao,\n        statusOriginal, statusFinalizado, dataHoraEmissao, codigoUsuarioAlterou, observacao)\n      values(").concat(Lo(t.codigoDocumento),", NULL, ").concat(Lo(t.codigoContatoResponsavel),", 'Mudança status Custom', \n        ").concat(Vo(t.statusAtual),", ").concat(Vo(t.statusNovo),", getdate(), ").concat(Lo(t.codigoUsuario),", ").concat(Vo(t.observacao,""),")")));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Tr={grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He(a).dispositivoCliente.put(t);case 2:return e.next=4,so("atualizar","dispositivoCliente",t.id,t,a);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},Ar={grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=aa(t),Object.keys(t.original||{}).length){e.next=8;break}return e.next=4,He().documento.put(t.atual);case 4:return e.next=6,so("adicionar","documento",t.atual.id,t.atual);case 6:e.next=14;break;case 8:if(a=ga(t.original,t.atual),!Object.keys(a).length){e.next=14;break}return e.next=12,He().documento.update(t.atual.id,a);case 12:return e.next=14,so("atualizar","documento",t.atual.id,a);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().documento.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:return a={},"idContato"in t&&t.idContato&&(a.idContato=t.idContato),"idFatura"in t&&t.idFatura&&(a.idFatura=t.idFatura),"idDocumentoAdicional"in t&&t.idDocumentoAdicional&&(a.idDocumentoAdicional=t.idDocumentoAdicional),"idContatoVendedor"in t&&t.idContatoVendedor&&(a.idContatoVendedor=t.idContatoVendedor),"idContatoDigitador"in t&&t.idContatoDigitador&&(a.idContatoDigitador=t.idContatoDigitador),"idEmpresa"in t&&t.idEmpresa&&(a.idEmpresa=t.idEmpresa),"documentoId"in t&&t.documentoId&&(a.documentoId=t.documentoId),"tipo"in t&&t.tipo&&(a.tipo=t.tipo),"status"in t&&t.status&&(a.status=t.status),o=He().documento,Object.keys(a).length&&(o=o.where(a)),t.idCaixa&&(o=o.filter(function(e){return e.idCaixa===t.idCaixa})),t.documentoTipo&&(o=o.filter(function(e){return e.documentoTipo===t.documentoTipo})),e.next=29,o.toArray();case 29:if(e.t2=e.sent,e.t2){e.next=32;break}e.t2=[];case 32:return e.abrupt("return",e.t2);case 33:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Or=Ar,$r={le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().documentoCondicaoPagamento.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:if(a={},"idDocumento"in t&&t.idDocumento&&(a.idDocumento=t.idDocumento),"idDocumentoCaixa"in t&&t.idDocumentoCaixa&&(a.idDocumentoCaixa=t.idDocumentoCaixa),"idFinanceiroTitulo"in t&&t.idFinanceiroTitulo&&(a.idFinanceiroTitulo=t.idFinanceiroTitulo),o=[],!Object.keys(a).length){e.next=27;break}return e.next=21,He().documentoCondicaoPagamento.where(a).toArray();case 21:if(e.t2=e.sent,e.t2){e.next=24;break}e.t2=[];case 24:o=e.t2,e.next=33;break;case 27:return e.next=29,He().documentoCondicaoPagamento.toArray();case 29:if(e.t3=e.sent,e.t3){e.next=32;break}e.t3=[];case 32:o=e.t3;case 33:return t.ordem&&(o=o.filter(function(e){return e.ordem===t.ordem})),e.abrupt("return",o);case 35:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Rr=$r,jr={id:"",idDocumento:"",idContato:"",descricao:"",percentual:0},zr={vazio:jr,le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().documentoContato.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:if(a={},"idDocumento"in t&&t.idDocumento&&(a.idDocumento=t.idDocumento),"idContato"in t&&t.idContato&&(a.idContato=t.idContato),o=[],!Object.keys(a).length){e.next=26;break}return e.next=20,He().documentoContato.where(a).toArray();case 20:if(e.t2=e.sent,e.t2){e.next=23;break}e.t2=[];case 23:o=e.t2,e.next=32;break;case 26:return e.next=28,He().documentoContato.toArray();case 28:if(e.t3=e.sent,e.t3){e.next=31;break}e.t3=[];case 31:o=e.t3;case 32:return e.abrupt("return",o);case 33:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Br=zr,Lr={grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!t.id){e.next=3;break}return e.abrupt("return",He().documentoEndereco.get(t.id)||{});case 3:if(a={},t.idDocumento&&(a.idDocumento=t.idDocumento),t.idContato&&(a.idContato=t.idContato),o=[],!Object.keys(a).length){e.next=16;break}return e.next=10,He().contatoEndereco.where(a).toArray();case 10:if(e.t0=e.sent,e.t0){e.next=13;break}e.t0=[];case 13:o=e.t0,e.next=22;break;case 16:return e.next=18,He().contatoEndereco.toArray();case 18:if(e.t1=e.sent,e.t1){e.next=21;break}e.t1=[];case 21:o=e.t1;case 22:return e.abrupt("return",o);case 23:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Vr=Lr,Ur={nomeTabela:"documentoFiscalEletronico",filtrosTabela:["idDocumento","tpAmb","cpfCnpjEmitente","mod","serie","nNF","situacao","tipo"],le:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},ei.log(this.nomeTabela,"le",t),!("id"in t)){e.next=14;break}if(!t.id){e.next=12;break}return e.next=6,He()[this.nomeTabela].get(t.id);case 6:if(e.t1=e.sent,e.t1){e.next=9;break}e.t1={};case 9:e.t0=e.t1,e.next=13;break;case 12:e.t0={};case 13:return e.abrupt("return",e.t0);case 14:a={},o=!0,i=!1,r=void 0,e.prev=18,s=this.filtrosTabela[Symbol.iterator]();case 20:if(o=(n=s.next()).done){e.next=31;break}if(c=n.value,!(c in t)){e.next=28;break}if([null,void 0].includes(t[c])){e.next=27;break}a[c]=t[c],e.next=28;break;case 27:return e.abrupt("return",[]);case 28:o=!0,e.next=20;break;case 31:e.next=37;break;case 33:e.prev=33,e.t2=e["catch"](18),i=!0,r=e.t2;case 37:e.prev=37,e.prev=38,o||null==s.return||s.return();case 40:if(e.prev=40,!i){e.next=43;break}throw r;case 43:return e.finish(40);case 44:return e.finish(37);case 45:return e.abrupt("return",Object.keys(a).length?He()[this.nomeTabela].where(a).toArray():He()[this.nomeTabela].toArray());case 46:case"end":return e.stop()}},e,this,[[18,33,37,45],[38,,40,44]])}));return function(){return e.apply(this,arguments)}}(),grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log(this.nomeTabela,"grava",t),a=fa(t.original||{},t.atual),Object.keys(t.original||{}).length){e.next=9;break}return e.next=5,He()[this.nomeTabela].put(a);case 5:return e.next=7,so("adicionar",this.nomeTabela,a.id,a);case 7:e.next=14;break;case 9:if(!Object.keys(a).length){e.next=14;break}return e.next=12,He()[this.nomeTabela].update(t.atual.id,a);case 12:return e.next=14,so("atualizar",this.nomeTabela,t.atual.id,a);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log(this.nomeTabela,"remove",t),e.next=3,He()[this.nomeTabela].delete(t);case 3:return e.next=5,so("remover",this.nomeTabela,t);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),proximoNumero:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o,i,r){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log(this.nomeTabela,"ultimoNumero",t,a,o,i),s=0,e.next=4,He()[this.nomeTabela].where({tpAmb:t,cpfCnpjEmitente:a,mod:Number(o),serie:Number(i)}).each(function(e){Number(e.nNF)>s&&(s=Number(e.nNF))});case 4:if(s){e.next=8;break}return e.next=7,Zn.configuracoes.leValorNumericoComFiltroEmpresa("65"===o?"nfce.ultimanota":"nfe.ultimanota",r,0);case 7:s=e.sent;case 8:return e.abrupt("return",s+1);case 9:case"end":return e.stop()}},e,this)}));return function(t,a,o,i,r){return e.apply(this,arguments)}}()},Hr={nomeTabela:"documentoFiscalEletronicoErro",filtrosTabela:["idDocumento","idDocumentoFiscalEletronico","chNFe","tpAmb","cpfCnpjEmitente","mod","serie","nNF","situacao"],le:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},ei.log(this.nomeTabela,"le",t),!("id"in t)){e.next=14;break}if(!t.id){e.next=12;break}return e.next=6,He()[this.nomeTabela].get(t.id);case 6:if(e.t1=e.sent,e.t1){e.next=9;break}e.t1={};case 9:e.t0=e.t1,e.next=13;break;case 12:e.t0={};case 13:return e.abrupt("return",e.t0);case 14:a={},o=!0,i=!1,r=void 0,e.prev=18,s=this.filtrosTabela[Symbol.iterator]();case 20:if(o=(n=s.next()).done){e.next=31;break}if(c=n.value,!(c in t)){e.next=28;break}if([null,void 0].includes(t[c])){e.next=27;break}a[c]=t[c],e.next=28;break;case 27:return e.abrupt("return",[]);case 28:o=!0,e.next=20;break;case 31:e.next=37;break;case 33:e.prev=33,e.t2=e["catch"](18),i=!0,r=e.t2;case 37:e.prev=37,e.prev=38,o||null==s.return||s.return();case 40:if(e.prev=40,!i){e.next=43;break}throw r;case 43:return e.finish(40);case 44:return e.finish(37);case 45:return e.abrupt("return",Object.keys(a).length?He()[this.nomeTabela].where(a).toArray():He()[this.nomeTabela].toArray());case 46:case"end":return e.stop()}},e,this,[[18,33,37,45],[38,,40,44]])}));return function(){return e.apply(this,arguments)}}(),grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log(this.nomeTabela,"grava",t),a=fa(t.original||{},t.atual),Object.keys(t.original||{}).length){e.next=9;break}return e.next=5,He()[this.nomeTabela].put(a);case 5:return e.next=7,so("adicionar",this.nomeTabela,a.id,a);case 7:e.next=14;break;case 9:if(!Object.keys(a).length){e.next=14;break}return e.next=12,He()[this.nomeTabela].update(t.atual.id,a);case 12:return e.next=14,so("atualizar",this.nomeTabela,t.atual.id,a);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log(this.nomeTabela,"remove",t),e.next=3,He()[this.nomeTabela].delete(t);case 3:return e.next=5,so("remover",this.nomeTabela,t);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},Qr={nomeTabela:"documentoFiscalEletronicoXml",filtrosTabela:["idDocumento","idDocumentoFiscalEletronico","status","situacao"],le:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},ei.log(this.nomeTabela,"le",t),!("id"in t)){e.next=14;break}if(!t.id){e.next=12;break}return e.next=6,He()[this.nomeTabela].get(t.id);case 6:if(e.t1=e.sent,e.t1){e.next=9;break}e.t1={};case 9:e.t0=e.t1,e.next=13;break;case 12:e.t0={};case 13:return e.abrupt("return",e.t0);case 14:a={},o=!0,i=!1,r=void 0,e.prev=18,s=this.filtrosTabela[Symbol.iterator]();case 20:if(o=(n=s.next()).done){e.next=31;break}if(c=n.value,!(c in t)){e.next=28;break}if([null,void 0].includes(t[c])){e.next=27;break}a[c]=t[c],e.next=28;break;case 27:return e.abrupt("return",[]);case 28:o=!0,e.next=20;break;case 31:e.next=37;break;case 33:e.prev=33,e.t2=e["catch"](18),i=!0,r=e.t2;case 37:e.prev=37,e.prev=38,o||null==s.return||s.return();case 40:if(e.prev=40,!i){e.next=43;break}throw r;case 43:return e.finish(40);case 44:return e.finish(37);case 45:return e.abrupt("return",Object.keys(a).length?He()[this.nomeTabela].where(a).toArray():He()[this.nomeTabela].toArray());case 46:case"end":return e.stop()}},e,this,[[18,33,37,45],[38,,40,44]])}));return function(){return e.apply(this,arguments)}}(),grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log(this.nomeTabela,"grava",t),a=fa(t.original||{},t.atual),Object.keys(t.original||{}).length){e.next=9;break}return e.next=5,He()[this.nomeTabela].put(a);case 5:return e.next=7,so("adicionar",this.nomeTabela,a.id,a);case 7:e.next=14;break;case 9:if(!Object.keys(a).length){e.next=14;break}return e.next=12,He()[this.nomeTabela].update(t.atual.id,a);case 12:return e.next=14,so("atualizar",this.nomeTabela,t.atual.id,a);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log(this.nomeTabela,"remove",t),e.next=3,He()[this.nomeTabela].delete(t);case 3:return e.next=5,so("remover",this.nomeTabela,t);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),proximoNumeroSequencialEvento:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log(this.nomeTabela,"proximoNumeroSequencialEvento",t,a),o=0,e.next=4,He()[this.nomeTabela].where({idDocumentoFiscalEletronico:t,operacao:a}).each(function(e){Number(e.nSeqEvento)>o&&(o=Number(e.nSeqEvento))});case 4:return e.abrupt("return",o+1);case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},Gr={grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=aa(t),Object.keys(t.original||{}).length){e.next=8;break}return e.next=4,He().documentoItem.put(t.atual);case 4:return e.next=6,so("adicionar","documentoItem",t.atual.id,t.atual);case 6:e.next=14;break;case 8:if(a=ga(t.original,t.atual),!Object.keys(a).length){e.next=14;break}return e.next=12,He().documentoItem.update(t.atual.id,a);case 12:return e.next=14,so("atualizar","documentoItem",t.atual.id,a);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leNew:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().documentoItem.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:if(a={},!("idDocumento"in t)){e.next=18;break}if(t.idDocumento){e.next=17;break}return e.abrupt("return",[]);case 17:a.idDocumento=t.idDocumento;case 18:if(!("idDocumentoAdicional"in t)){e.next=22;break}if(t.idDocumentoAdicional){e.next=21;break}return e.abrupt("return",[]);case 21:a.idDocumentoAdicional=t.idDocumentoAdicional;case 22:if(!("idItem"in t)){e.next=26;break}if(t.idItem){e.next=25;break}return e.abrupt("return",[]);case 25:a.idItem=t.idItem;case 26:if(!("tipoItem"in t)){e.next=30;break}if(t.tipoItem){e.next=29;break}return e.abrupt("return",[]);case 29:a.tipoItem=t.tipoItem;case 30:return e.next=32,He().documentoItem.where(a);case 32:return o=e.sent,e.next=35,o.toArray();case 35:if(e.t2=e.sent,e.t2){e.next=38;break}e.t2=[];case 38:return e.abrupt("return",e.t2);case 39:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!t.id){e.next=8;break}return e.next=4,He().documentoItem.get(t.id);case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:return e.abrupt("return",e.t0);case 8:if(!t.idDocumento){e.next=15;break}return e.next=11,He().documentoItem.where({idDocumento:t.idDocumento}).toArray();case 11:if(e.t1=e.sent,e.t1){e.next=14;break}e.t1=[];case 14:return e.abrupt("return",e.t1);case 15:if(!t.idDocumentoAdicional){e.next=22;break}return e.next=18,He().documentoItem.where({idDocumentoAdicional:t.idDocumentoAdicional}).toArray();case 18:if(e.t2=e.sent,e.t2){e.next=21;break}e.t2=[];case 21:return e.abrupt("return",e.t2);case 22:return e.next=24,He().documentoItem.toArray();case 24:if(e.t3=e.sent,e.t3){e.next=27;break}e.t3=[];case 27:return a=e.t3,t.tipoItem&&(a=a.filter(function(e){return e.tipoItem===t.tipoItem})),e.abrupt("return",a);case 30:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Jr=Gr,Xr={grava:function(){},le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().documentoOperacao.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:return e.next=15,He().documentoOperacao.toArray();case 15:if(e.t2=e.sent,e.t2){e.next=18;break}e.t2=[];case 18:return a=e.t2,t.codigoDocumentoOperacao&&(a=a.filter(function(e){return parseInt(e.codigoDocumentoOperacao)===t.codigoDocumentoOperacao})),e.abrupt("return",a);case 21:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Yr=Xr,Wr={grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=aa(t),Object.keys(t.original||{}).length){e.next=8;break}return e.next=4,He().documentoSat.put(t.atual);case 4:return e.next=6,so("adicionar","documentoSat",t.atual.id,t.atual);case 6:e.next=14;break;case 8:if(a=ga(t.original,t.atual),!Object.keys(a).length){e.next=14;break}return e.next=12,He().documentoSat.update(t.atual.id,a);case 12:return e.next=14,so("atualizar","documentoSat",t.atual.id,a);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().documentoSat.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:return a={},"idDocumento"in t&&t.idDocumento&&(a.idDocumento=t.idDocumento),o=He().documentoSat,Object.keys(a).length&&(o=o.where(a)),e.next=19,o.toArray();case 19:if(e.t2=e.sent,e.t2){e.next=22;break}e.t2=[];case 22:return e.abrupt("return",e.t2);case 23:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Zr=Wr,Kr={grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=aa(t),Object.keys(t.original||{}).length){e.next=8;break}return e.next=4,He().documentoStatus.put(t.atual);case 4:return e.next=6,so("adicionar","documentoStatus",t.atual.id,t.atual);case 6:e.next=14;break;case 8:if(a=ga(t.original,t.atual),!Object.keys(a).length){e.next=14;break}return e.next=12,He().documentoStatus.update(t.atual.id,a);case 12:return e.next=14,so("atualizar","documentoStatus",t.atual.id,a);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().documentoStatus.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:if(a={},"idDocumento"in t&&t.idDocumento&&(a.idDocumento=t.idDocumento),"idDocumentoCaixa"in t&&t.idDocumentoCaixa&&(a.idDocumentoCaixa=t.idDocumentoCaixa),"idDocumentoItem"in t&&t.idDocumentoItem&&(a.idDocumentoItem=t.idDocumentoItem),"idContatoResponsavel"in t&&t.idContatoResponsavel&&(a.idContatoResponsavel=t.idContatoResponsavel),"idUsuarioAlterou"in t&&t.idUsuarioAlterou&&(a.idUsuarioAlterou=t.idUsuarioAlterou),o=[],!Object.keys(a).length){e.next=29;break}return e.next=23,He().documentoStatus.where(a).toArray();case 23:if(e.t2=e.sent,e.t2){e.next=26;break}e.t2=[];case 26:o=e.t2,e.next=35;break;case 29:return e.next=31,He().documentoStatus.toArray();case 31:if(e.t3=e.sent,e.t3){e.next=34;break}e.t3=[];case 34:o=e.t3;case 35:return t.operacao&&(o=o.filter(function(e){return e.operacao===t.operacao})),e.abrupt("return",o);case 37:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leHistoricoOnline:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return Eo(!t,"Não foi possível encontrar o id do documento."),e.next=3,jo("select\n        codigoDocumentoStatus,\n        statusOriginal,\n        statusFinalizado,\n        dataHoraEmissao,\n        observacao,\n        codigoUsuarioAlterou\n      from documentoStatus\n      where idDocumento = '".concat(t,"'\n      order by dataHoraEmissao desc"));case 3:a=e.sent,o={},i=!0,r=!1,s=void 0,e.prev=8,n=Object(ot["uniq"])(a.map(function(e){return e.codigoUsuarioAlterou}))[Symbol.iterator]();case 10:if(i=(c=n.next()).done){e.next=28;break}if(l=c.value,ja(l)&&l&&!o[l]){e.next=14;break}return e.abrupt("continue",25);case 14:return e.next=16,jo("select top 1\n          codigoContato,\n          nome,\n          imagem\n        from contato\n        where codigoUsuario = ".concat(Lo(l),"\n        order by dataCadastro desc"));case 16:if(d=e.sent,d.find(function(e){return e.codigoContato})){e.next=21;break}return e.next=20,jo("select top 1\n            codigoContato,\n            nome,\n            imagem\n          from contato\n          where codigoContato = ".concat(Lo(l),"\n            and codigoUsuario is not null\n          order by dataCadastro desc"));case 20:d=e.sent;case 21:d=d.find(function(e){return e.codigoContato}),u="Usuário não encontrado",m="",d&&d.codigoContato&&(u=d.nome||"Nome não encontrado",m=d.imagem||""),o[l]={nome:u,imagem:m};case 25:i=!0,e.next=10;break;case 28:e.next=34;break;case 30:e.prev=30,e.t0=e["catch"](8),r=!0,s=e.t0;case 34:e.prev=34,e.prev=35,i||null==n.return||n.return();case 37:if(e.prev=37,!r){e.next=40;break}throw s;case 40:return e.finish(37);case 41:return e.finish(34);case 42:return e.abrupt("return",{status:a,contatos:o});case 43:case"end":return e.stop()}},e,null,[[8,30,34,42],[35,,37,41]])}));return function(t){return e.apply(this,arguments)}}()},es=Kr,ts={grava:function(){},le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().empresa.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:return a={},"idContato"in t&&t.idContato&&(a.idContato=t.idContato),o=He().empresa,Object.keys(a).length&&(o=o.where(a)),e.next=19,o.toArray();case 19:if(e.t2=e.sent,e.t2){e.next=22;break}e.t2=[];case 22:return e.abrupt("return",e.t2);case 23:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leOnline:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.length>0&&void 0!==t[0]?t[0]:{},e.abrupt("return",jo("select codigoContato, nome, numeroDocumentoNacional from empresa"));case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),leOnlinePlat:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},!("codigoClienteSistema"in t)){e.next=3;break}return e.abrupt("return",jo("\nselect\n  id,\n  codigoEmpresa,\n  idContato,\n  codigoContato,\n  idClienteSistema,\n  codigoClienteSistema,\n  nome,\n  apelido,\n  numeroDocumentoNacional,\n  numeroDocumentoEstadual,\n  dataCadastro,\n  hashCSCHomologacao,\n  tokenCSCHomologacao,\n  hashCSCProducao,\n  tokenCSCProducao,\n  tokenIBPT,\n  nSerieCert,\n  ativo,\n  sigla,\n  codigoPai,\n  idPai,\n  corPrincipal,\n  corSecundaria\nfrom empresa \nwhere codigoClienteSistema=".concat(Lo(t.codigoClienteSistema),"\norder by apelido"),"GeeksPlat15A"));case 3:return e.abrupt("return",{});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),gravaOnline:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.atual,o="\nupdate empresa set\n  idContato=".concat(Vo(a.idContato),",\n  idClienteSistema=").concat(Vo(a.idClienteSistema),",\n  codigoClienteSistema=").concat(Lo(a.codigoClienteSistema),",\n  nome=").concat(Vo(a.nome),",\n  apelido=").concat(Vo(a.apelido),",\n  numeroDocumentoNacional=").concat(Vo(a.numeroDocumentoNacional),",\n  numeroDocumentoEstadual=").concat(Vo(a.numeroDocumentoEstadual),",\n  hashCSCHomologacao=").concat(Vo(a.hashCSCHomologacao),",\n  tokenCSCHomologacao=").concat(Vo(a.tokenCSCHomologacao),",\n  hashCSCProducao=").concat(Vo(a.hashCSCProducao),",\n  tokenCSCProducao=").concat(Vo(a.tokenCSCProducao),",\n  tokenIBPT=").concat(Vo(a.tokenIBPT),",\n  nSerieCert=").concat(Vo(a.nSerieCert),",\n  ativo=").concat(Vo(a.ativo),",\n  sigla=").concat(Vo(a.sigla),",\n  codigoPai=").concat(Vo(a.codigoPai),",\n  idPai=").concat(Vo(a.idPai),",\n  corPrincipal=").concat(Vo(a.corPrincipal),",\n  corSecundaria=").concat(Vo(a.corSecundaria),"\nwhere codigoContato=").concat(Lo(a.codigoContato),"\n  and (codigoClienteSistema=").concat(Lo(a.codigoClienteSistema),"\n   or codigoClienteSistema is null)\n\nif @@rowcount = 0\nbegin\n  insert empresa(\n    idContato,\n    codigoContato,\n    idClienteSistema,\n    codigoClienteSistema,\n    nome,\n    apelido,\n    numeroDocumentoNacional,\n    numeroDocumentoEstadual,\n    dataCadastro,\n    hashCSCHomologacao,\n    tokenCSCHomologacao,\n    hashCSCProducao,\n    tokenCSCProducao,\n    tokenIBPT,\n    nSerieCert)\n  values(\n    ").concat(Vo(a.idContato),",\n    ").concat(Lo(a.codigoContato),",\n    ").concat(Vo(a.idClienteSistema),",\n    ").concat(Lo(a.codigoClienteSistema),",\n    ").concat(Vo(a.nome),",\n    ").concat(Vo(a.apelido),",\n    ").concat(Vo(a.numeroDocumentoNacional),",\n    ").concat(Vo(a.numeroDocumentoEstadual),",\n    getdate(),\n    ").concat(Vo(a.hashCSCHomologacao),",\n    ").concat(Vo(a.tokenCSCHomologacao),",\n    ").concat(Vo(a.hashCSCProducao),",\n    ").concat(Vo(a.tokenCSCProducao),",\n    ").concat(Vo(a.tokenIBPT),",\n    ").concat(Vo(a.nSerieCert),")\nend"),e.next=4,jo(o);case 4:return e.next=6,jo(o,"GeeksPlat15A");case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),removeOnline:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="\ndeclare @codigoEmpresa int\nselect top 1 @codigoEmpresa=codigoEmpresa\nfrom empresa\nwhere codigoContato=".concat(Lo(t.codigoContato),"\n  and (codigoClienteSistema=").concat(Lo(t.codigoClienteSistema),"\n   or codigoClienteSistema is null) \ndelete empresaUsuarioPermissao where codigoEmpresa=@codigoEmpresa \ndelete empresa where codigoEmpresa=@codigoEmpresa"),e.next=3,jo(a);case 3:return e.next=5,jo(a,"GeeksPlat15A");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},as={id:"",tipo:"Envelope",operacao:"Normal",status:"",idEmpresa:"",descricaoEmpresa:"",numeroDocumentoEmpresa:"",idContato:"",descricaoContato:"",numeroDocumentoContato:"",idContatoResponsavel:"",dataHoraEmissao:"",dataHoraRealizado:"",dataHoraPrevisto:"",documentoId:"",documentoTipo:"",subTotal:0,totalDocumento:0},os={vazio:as,grava:function(){},le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),trocaStatusOnline:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",jo("set nocount on\n      update documento set \n          status = ".concat(Vo(t.statusNovo),",\n          dataHoraFinalizado = case ").concat(Vo(t.statusNovo)," when 'Entregue' then getdate() else null end\n        where tipo='Envelope' and codigoDocumento = ").concat(Lo(t.codigoDocumento),"\n      insert into documentoStatus (codigoDocumento, codigoDocumentoItem, codigoContatoResponsavel, operacao,\n        statusOriginal, statusFinalizado, dataHoraEmissao, codigoUsuarioAlterou, observacao)\n      values(").concat(Lo(t.codigoDocumento),", NULL, ").concat(Lo(t.codigoContatoResponsavel),", 'Mudança status envelope', \n        ").concat(Vo(t.statusAtual),", ").concat(Vo(t.statusNovo),", getdate(), ").concat(Lo(t.codigoUsuario),", ").concat(Vo(t.observacao,""),")")));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),gravaLaboratorioOnline:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",jo("set nocount on\n      update documentoContato\n      set codigoContato=".concat(Lo(t.codigoLaboratorio)," \n      where descricao='Laboratório' and codigoDocumento=").concat(Lo(t.codigoDocumento),"\n      if @@RowCount = 0\n        insert into documentoContato (codigoContato, descricao, codigoDocumento)\n        values(").concat(Lo(t.codigoLaboratorio),", 'Laboratório', ").concat(Lo(t.codigoDocumento),")\n      select top 1 numeroDocumentoNacional cnpjLaboratorio from contato where codigoContato=").concat(Lo(t.codigoLaboratorio))));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),comprasPedidoViaEnvelopeOnline:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",jo("exec Sp_Compras_PedidoViaEnvelope '".concat(Lo(t.codigoDocumento),"', ").concat(Lo(t.codigoUsuario))));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},is=os,rs={nomeTabela:"equipamento",filtrosTabela:["idItem","idContato"],le:Ii,grava:wi,remove:Ni},ss=(a("1c4c"),a("9523")),ns=a.n(ss),cs=a("5bc3"),ls=a.n(cs),ds=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};xo()(this,e),this.bancoDeDados=t.bancoDeDados||localStorage.getItem("bancoDeDados"),this.modelo="GeeksPlat15A"===this.bancoDeDados?Ge:He()}return ls()(e,[{key:"get",value:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o=s.length>2&&void 0!==s[2]?s[2]:{},a){e.next=3;break}return e.abrupt("return",{});case 3:if(i=this.modelo[t],i){e.next=6;break}return e.abrupt("return",{});case 6:return ei.log.apply(ei,["robust","get",t].concat(la()(Object.keys(o)))),e.next=9,i.get(a);case 9:if(r=e.sent,!r){e.next=18;break}return e.next=13,this._join(o.joinOne,r,1);case 13:return r=e.sent,e.next=16,this._join(o.joinMany,r,0);case 16:return r=e.sent,e.abrupt("return",r);case 18:return e.abrupt("return",{});case 19:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"list",value:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n=this,c=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=c.length>1&&void 0!==c[1]?c[1]:{},ei.log.apply(ei,["robust","list",t].concat(la()(Object.keys(a)))),o=this.modelo[t],o){e.next=5;break}return e.abrupt("return",{});case 5:if(!a.filter){e.next=14;break}e.t0=regeneratorRuntime.keys(a.filter);case 7:if((e.t1=e.t0()).done){e.next=13;break}if(i=e.t1.value,![null,void 0].includes(a.filter[i])){e.next=11;break}return e.abrupt("return",[]);case 11:e.next=7;break;case 13:o=o.where(a.filter);case 14:return a.limit>0&&(o=o.limit(a.limit)),e.next=17,o.toArray();case 17:if(r=e.sent,a.filterNi&&(r=r.filter(function(e){return n._filter(e,a.filterNi)})),!a.joinOne&&!a.joinMany){e.next=31;break}e.t2=regeneratorRuntime.keys(r);case 21:if((e.t3=e.t2()).done){e.next=31;break}return s=e.t3.value,e.next=25,this._join(a.joinOne,r[s],1);case 25:return r[s]=e.sent,e.next=28,this._join(a.joinMany,r[s],0);case 28:r[s]=e.sent,e.next=21;break;case 31:return e.abrupt("return",r);case 32:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"first",value:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s=this,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=n.length>1&&void 0!==n[1]?n[1]:{},ei.log.apply(ei,["robust","first",t].concat(la()(Object.keys(a)))),o=this.modelo[t],o){e.next=5;break}return e.abrupt("return",{});case 5:if(!a.filter){e.next=14;break}e.t0=regeneratorRuntime.keys(a.filter);case 7:if((e.t1=e.t0()).done){e.next=13;break}if(i=e.t1.value,![null,void 0].includes(a.filter[i])){e.next=11;break}return e.abrupt("return",{});case 11:e.next=7;break;case 13:o=o.where(a.filter);case 14:return a.filterNi&&(o=o.filter(function(e){return s._filter(e,a.filterNi)})),"Table"===o.constructor.name&&(o=o.toCollection()),e.next=18,o.first();case 18:if(r=e.sent,!r){e.next=27;break}return e.next=22,this._join(a.joinOne,r,1);case 22:return r=e.sent,e.next=25,this._join(a.joinMany,r,0);case 25:return r=e.sent,e.abrupt("return",r);case 27:return e.abrupt("return",{});case 28:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_filter",value:function(e,t){var a=!0;for(var o in t)if(a=a&&e[o]===t[o],!a)return!1;return a}},{key:"_join",value:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){var i,r,s,n,c,l,d,u,m,p,v,h;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=43;break}t.constructor!==Array&&(t=[t]),i=!0,r=!1,s=void 0,e.prev=5,n=t[Symbol.iterator]();case 7:if(i=(c=n.next()).done){e.next=29;break}if(l=c.value,d=void 0,u=void 0,m=void 0,p=void 0,l.constructor===String&&(v=l.split(" "),h=Ai()(v,4),d=h[0],u=h[1],m=h[2],p=h[3],l={field:d,joinTable:u,joinKey:m,key:p}),1!==o){e.next=23;break}if("id"!==l.joinKey){e.next=18;break}return e.next=15,this.get(l.joinTable,a[l.key]);case 15:a[l.field]=e.sent,e.next=21;break;case 18:return e.next=20,this.modelo[l.joinTable].where(ns()({},l.joinKey,a[l.key])).first();case 20:a[l.field]=e.sent;case 21:e.next=26;break;case 23:return e.next=25,this.modelo[l.joinTable].where(ns()({},l.joinKey,a[l.key])).toArray();case 25:a[l.field]=e.sent;case 26:i=!0,e.next=7;break;case 29:e.next=35;break;case 31:e.prev=31,e.t0=e["catch"](5),r=!0,s=e.t0;case 35:e.prev=35,e.prev=36,i||null==n.return||n.return();case 38:if(e.prev=38,!r){e.next=41;break}throw s;case 41:return e.finish(38);case 42:return e.finish(35);case 43:return e.abrupt("return",a);case 44:case"end":return e.stop()}},e,this,[[5,31,35,43],[36,,38,42]])}));return function(t,a,o){return e.apply(this,arguments)}}()}]),e}(),us=ds,ms=function(){function e(t){xo()(this,e),this.nomeBanco=t}return ls()(e,[{key:"get",value:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}return o="select * from ".concat(t," where id='").concat(a,"'"),e.next=4,jo(o,this.nomeBanco);case 4:if(i=e.sent,!(i&&i.length>0)){e.next=7;break}return e.abrupt("return",i[0]);case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"list",value:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="select * from ".concat(t),e.next=3,jo(a,this.nomeBanco);case 3:if(o=e.sent,!o){e.next=6;break}return e.abrupt("return",o);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),ps=ms;function vs(){return new us}function hs(e,t){return fs.apply(this,arguments)}function fs(){return fs=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o=[],!t){e.next=56;break}return e.prev=2,e.next=5,Ta({estoque:{funcao:"CC9F3B9A-16B9-4AE8-A523-938E4433AFAA",idItem:t,idEmpresa:a}});case 5:i=e.sent,r=((i||{}).data||{}).estoque||[],s=Array.from(new Set(r.map(function(e){return e.codigoEmpresa}))),s.sort(function(e,t){return e.codigoEmpresa<t.codigoEmpresa?-1:1}),n=regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=s[c],a=(r.find(function(e){return e.codigoEmpresa===t})||{}).idEmpresa,e.t0=o,e.t1=t,e.t2=r.filter(function(e){return e.codigoEmpresa===t}),e.next=7,He().contato.get(a);case 7:if(e.t3=e.sent,e.t3){e.next=10;break}e.t3={};case 10:e.t4=e.t3.apelido,e.t5={codigoEmpresa:e.t1,estoquePorLote:e.t2,nomeEmpresa:e.t4},e.t0.push.call(e.t0,e.t5);case 13:case"end":return e.stop()}},e)}),c=0;case 11:if(!(c<s.length)){e.next=16;break}return e.delegateYield(n(),"t0",13);case 13:c++,e.next=11;break;case 16:e.next=56;break;case 18:return e.prev=18,e.t1=e["catch"](2),e.next=22,vs().list("estoqueSaldoProdutoEmpresa",{filter:{idItem:t}});case 22:l=e.sent,d={},m=!0,p=!1,v=void 0,e.prev=27,h=l[Symbol.iterator]();case 29:if(m=(f=h.next()).done){e.next=42;break}if(C=f.value,u=d[C.idEmpresa],void 0!==u){e.next=38;break}return e.next=35,vs().get("contato",C.idEmpresa);case 35:b=e.sent,u=o.push({codigoEmpresa:b.codigoContato,nomeEmpresa:b.apelido||"",estoquePorLote:[]})-1,d[C.idEmpresa]=u;case 38:o[u].estoquePorLote.push(C);case 39:m=!0,e.next=29;break;case 42:e.next=48;break;case 44:e.prev=44,e.t2=e["catch"](27),p=!0,v=e.t2;case 48:e.prev=48,e.prev=49,m||null==h.return||h.return();case 51:if(e.prev=51,!p){e.next=54;break}throw v;case 54:return e.finish(51);case 55:return e.finish(48);case 56:return e.abrupt("return",o);case 57:case"end":return e.stop()}},e,null,[[2,18],[27,44,48,56],[49,,51,55]])})),fs.apply(this,arguments)}function Cs(e){return bs.apply(this,arguments)}function bs(){return bs=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().estoqueSaldoProdutoEmpresa.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:return a={},"idItem"in t&&t.idItem&&(a.idItem=t.idItem),"idEmpresa"in t&&t.idEmpresa&&(a.idEmpresa=t.idEmpresa),"tipoEstoque"in t&&t.tipoEstoque&&(a.tipoEstoque=t.tipoEstoque),o=He().estoqueSaldoProdutoEmpresa.where(a),e.next=20,o.toArray();case 20:if(e.t2=e.sent,e.t2){e.next=23;break}e.t2=[];case 23:return e.abrupt("return",e.t2);case 24:case"end":return e.stop()}},e)})),bs.apply(this,arguments)}var gs={le:Cs,leEstoquePorEmpresa:hs},xs={grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=aa(t),e.next=3,Ya("documentoItem",t.documentoItensOriginal||[],t.documentoItens||[]);case 3:return e.next=5,Ya("documentoCondicaoPagamento",t.condicaoPagamentoOriginal||[],t.condicaoPagamento||[]);case 5:return e.next=7,Ya("documentoStatus",[],t.documentoStatus||[]);case 7:return e.next=9,Ya("documento",t.vendasOriginal||[],t.vendas||[]);case 9:return e.next=11,Ya("documento",t.envelopesOriginal||[],t.envelopes||[]);case 11:return e.next=13,Ya("financeiroTitulo",t.financeiroTituloOriginal||[],t.financeiroTitulo||[]);case 13:return e.next=15,Ya("financeiroMovimentacao",[],t.financeiroMovimentacao||[]);case 15:return e.next=17,Ya("financeiroRenegociacao",[],t.financeiroRenegociacao||[]);case 17:if(Object.keys(t.faturaOriginal||{}).length){e.next=24;break}return e.next=20,He().documento.put(t.fatura);case 20:return e.next=22,so("adicionar","documento",t.fatura.id,t.fatura);case 22:e.next=30;break;case 24:if(a=ga(t.faturaOriginal,t.fatura),!Object.keys(a).length){e.next=30;break}return e.next=28,He().documento.update(t.fatura.id,a);case 28:return e.next=30,so("atualizar","documento",t.fatura.id,a);case 30:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leNew:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().documento.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:return a={tipo:"Fatura"},"idContato"in t&&t.idContato&&(a.idContato=t.idContato),"idDocumentoAdicional"in t&&t.idDocumentoAdicional&&(a.idDocumentoAdicional=t.idDocumentoAdicional),"idContatoVendedor"in t&&t.idContatoVendedor&&(a.idContatoVendedor=t.idContatoVendedor),"idContatoDigitador"in t&&t.idContatoDigitador&&(a.idContatoDigitador=t.idContatoDigitador),"idEmpresa"in t&&t.idEmpresa&&(a.idEmpresa=t.idEmpresa),"documentoId"in t&&t.documentoId&&(a.documentoId=t.documentoId),"status"in t&&t.status&&(a.status=t.status),o=He().documento.where(a),t.or&&(o=o.filter(function(e){for(var a in t.or)if(t.or[a]&&e[a]===t.or[a])return!0;return!1})),t.and&&(o=o.filter(function(e){for(var a in t.and)if(t.and[a]&&e[a]!==t.and[a])return!1;return!0})),e.next=26,o.toArray();case 26:if(e.t2=e.sent,e.t2){e.next=29;break}e.t2=[];case 29:return e.abrupt("return",e.t2);case 30:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.filtros,o=t.colunas,a=a||{},i=[],"offline"!==localStorage.getItem("rede")){e.next=17;break}if(!a.id){e.next=6;break}return e.abrupt("return",He().documento.get(a.id)||{});case 6:return delete a.id,e.next=9,He().documento.toArray();case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0=[];case 12:i=e.t0,i=i.filter(function(e){return"Fatura"===e.tipo}),i=i.filter(function(e){var t=!0;for(var o in a)if(e[o]!==a[o]){t=!1;break}return t}),e.next=24;break;case 17:for(s in r="",a)r+="".concat(s," = '").concat(a[s],"' and ");return r+=" tipo='Fatura'",n="select top 30 ".concat(o.split(" ").join(", ")," from documento where ").concat(r),e.next=23,jo(n,"x_req48473u");case 23:i=e.sent;case 24:return e.abrupt("return",i.slice(0,30));case 25:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leCompleto:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a={},!t){e.next=10;break}return e.next=4,He().documento.get(t);case 4:if(e.t1=e.sent,e.t1){e.next=7;break}e.t1={};case 7:e.t0=e.t1,e.next=11;break;case 10:e.t0={};case 11:if(a.fatura=e.t0,!t){e.next=21;break}return e.next=15,He().documentoCondicaoPagamento.where({idDocumento:t}).toArray();case 15:if(e.t3=e.sent,e.t3){e.next=18;break}e.t3=[];case 18:e.t2=e.t3,e.next=22;break;case 21:e.t2=[];case 22:if(a.condicaoPagamento=e.t2,a.vendas=[],a.carnes=[],!a.fatura.id){e.next=38;break}return e.next=28,He().documento.where({idFatura:a.fatura.id}).toArray();case 28:if(e.t4=e.sent,e.t4){e.next=31;break}e.t4=[];case 31:return a.vendas=e.t4,e.next=34,He().financeiroTitulo.where({idFatura:a.fatura.id}).toArray();case 34:if(e.t5=e.sent,e.t5){e.next=37;break}e.t5=[];case 37:a.carnes=e.t5;case 38:return e.abrupt("return",a);case 39:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),criar:function(e){return{id:hi(),dataHoraEmissao:na(),calcularAutomatico:"Sim",tipo:"Fatura",operacao:"Faturamento",status:"Aberta",tipoFrete:"CIF",freteSeparado:!1,totalDesconto:0,totalPercentualDesconto:0,subTotal:e.subTotal||0,totalDocumento:e.totalDocumento||0,idEmpresa:e.idEmpresa||"",idEmpresaEndereco:e.idEmpresaEndereco||"",descricaoEmpresa:e.descricaoEmpresa||"",numeroDocumentoEmpresa:e.numeroDocumentoEmpresa||"",inscricaoMunicipalEmpresa:e.inscricaoMunicipalEmpresa||"",codigoMunicipioEmpresa:e.codigoMunicipioEmpresa||"",optanteSimplesNacional:e.optanteSimplesNacional||"",idContato:e.idContato||"",idContatoEndereco:e.idContatoEndereco||"",numeroDocumentoContato:e.numeroDocumentoContato||"",descricaoContato:e.descricaoContato||"",descricaoContatoEndereco:e.descricaoContatoEndereco||"",telefoneContato:e.telefoneContato||"",emailContato:e.emailContato||"",regimeContato:e.regimeContato||""}},remover:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He().documento.delete(t);case 2:return e.next=4,so("remover","documento",t);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),obterAbertas:function(e,t){return He().documento.where({idContato:e,idEmpresa:t,tipo:"Fatura",status:"Aberta"}).toArray()}},_s=xs,qs={grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=aa(t),Object.keys(t.original||{}).length){e.next=8;break}return e.next=4,He().financeiroBanco.put(t.atual);case 4:return e.next=6,so("adicionar","financeiroBanco",t.atual.id,t.atual);case 6:e.next=14;break;case 8:if(a=ga(t.original,t.atual),!Object.keys(a).length){e.next=14;break}return e.next=12,He().financeiroBanco.update(t.atual.id,a);case 12:return e.next=14,so("atualizar","financeiroBanco",t.atual.id,a);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!t.id){e.next=8;break}return e.next=4,He().financeiroBanco.get(t.id);case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:return e.abrupt("return",e.t0);case 8:return a=[],e.abrupt("return",a);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=!0,o=!1,i=void 0,e.prev=3,r=t[Symbol.iterator]();case 5:if(a=(s=r.next()).done){e.next=14;break}return n=s.value,e.next=9,He().financeiroBanco.delete(n.id);case 9:return e.next=11,so("remover","financeiroBanco",n.id);case 11:a=!0,e.next=5;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](3),o=!0,i=e.t0;case 20:e.prev=20,e.prev=21,a||null==r.return||r.return();case 23:if(e.prev=23,!o){e.next=26;break}throw i;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}},e,null,[[3,16,20,28],[21,,23,27]])}));return function(t){return e.apply(this,arguments)}}()},Ss=qs,Is={grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=aa(t),Object.keys(t.original||{}).length){e.next=8;break}return e.next=4,He().financeiroBoleto.put(t.atual);case 4:return e.next=6,so("adicionar","financeiroBoleto",t.atual.id,t.atual);case 6:e.next=14;break;case 8:if(a=ga(t.original,t.atual),!Object.keys(a).length){e.next=14;break}return e.next=12,He().financeiroBoleto.update(t.atual.id,a);case 12:return e.next=14,so("atualizar","financeiroBoleto",t.atual.id,a);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!t.id){e.next=8;break}return e.next=4,He().financeiroBoleto.get(t.id);case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:return e.abrupt("return",e.t0);case 8:return a=[],e.abrupt("return",a);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=!0,o=!1,i=void 0,e.prev=3,r=t[Symbol.iterator]();case 5:if(a=(s=r.next()).done){e.next=14;break}return n=s.value,e.next=9,He().financeiroBoleto.delete(n.id);case 9:return e.next=11,so("remover","financeiroBoleto",n.id);case 11:a=!0,e.next=5;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](3),o=!0,i=e.t0;case 20:e.prev=20,e.prev=21,a||null==r.return||r.return();case 23:if(e.prev=23,!o){e.next=26;break}throw i;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}},e,null,[[3,16,20,28],[21,,23,27]])}));return function(t){return e.apply(this,arguments)}}()},Fs=Is,ws={grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=aa(t),Object.keys(t.original||{}).length){e.next=8;break}return e.next=4,He().financeiroBoletoTitulo.put(t.atual);case 4:return e.next=6,so("adicionar","financeiroBoletoTitulo",t.atual.id,t.atual);case 6:e.next=14;break;case 8:if(a=ga(t.original,t.atual),!Object.keys(a).length){e.next=14;break}return e.next=12,He().financeiroBoletoTitulo.update(t.atual.id,a);case 12:return e.next=14,so("atualizar","financeiroBoletoTitulo",t.atual.id,a);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!t.id){e.next=8;break}return e.next=4,He().financeiroBoletoTitulo.get(t.id);case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:return e.abrupt("return",e.t0);case 8:return a=[],e.abrupt("return",a);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=!0,o=!1,i=void 0,e.prev=3,r=t[Symbol.iterator]();case 5:if(a=(s=r.next()).done){e.next=14;break}return n=s.value,e.next=9,He().financeiroBoletoTitulo.delete(n.id);case 9:return e.next=11,so("remover","financeiroBoletoTitulo",n.id);case 11:a=!0,e.next=5;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](3),o=!0,i=e.t0;case 20:e.prev=20,e.prev=21,a||null==r.return||r.return();case 23:if(e.prev=23,!o){e.next=26;break}throw i;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}},e,null,[[3,16,20,28],[21,,23,27]])}));return function(t){return e.apply(this,arguments)}}()},ys=ws,Ns={grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=aa(t),Object.keys(t.original||{}).length){e.next=8;break}return e.next=4,He().financeiroMovimentacao.put(t.atual);case 4:return e.next=6,so("adicionar","financeiroMovimentacao",t.atual.id,t.atual);case 6:e.next=14;break;case 8:if(a=ga(t.original,t.atual),!Object.keys(a).length){e.next=14;break}return e.next=12,He().financeiroMovimentacao.update(t.atual.id,a);case 12:return e.next=14,so("atualizar","financeiroMovimentacao",t.atual.id,a);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leNew:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().financeiroMovimentacao.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:return a={},"idDocumentoCaixa"in t&&t.idDocumentoCaixa&&(a.idDocumentoCaixa=t.idDocumentoCaixa),"idFinanceiroPlanoConta"in t&&t.idFinanceiroPlanoConta&&(a.idFinanceiroPlanoConta=t.idFinanceiroPlanoConta),"idFinanceiroMovimentacaoN"in t&&t.idFinanceiroMovimentacaoN&&(a.idFinanceiroMovimentacaoN=t.idFinanceiroMovimentacaoN),"documentoId"in t&&t.documentoId&&(a.documentoId=t.documentoId),"documentoTipo"in t&&t.documentoTipo&&(a.documentoTipo=t.documentoTipo),o=He().financeiroMovimentacao.where(a),e.next=22,o.toArray();case 22:if(e.t2=e.sent,e.t2){e.next=25;break}e.t2=[];case 25:return e.abrupt("return",e.t2);case 26:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},a={},"idDocumentoCaixa"in t&&t.idDocumentoCaixa&&(a.idDocumentoCaixa=t.idDocumentoCaixa),"idFinanceiroPlanoConta"in t&&t.idFinanceiroPlanoConta&&(a.idFinanceiroPlanoConta=t.idFinanceiroPlanoConta),o=[],!Object.keys(a).length){e.next=14;break}return e.next=8,He().financeiroMovimentacao.where(a).toArray();case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0=[];case 11:o=e.t0,e.next=20;break;case 14:return e.next=16,He().financeiroMovimentacao.toArray();case 16:if(e.t1=e.sent,e.t1){e.next=19;break}e.t1=[];case 19:o=e.t1;case 20:return t.idFinanceiroMovimentacaoN&&(o=o.filter(function(e){return e.idFinanceiroMovimentacaoN===t.idFinanceiroMovimentacaoN})),t.documentoId&&(o=o.filter(function(e){return e.documentoId===t.documentoId})),t.documentoTipo&&(o=o.filter(function(e){return e.documentoTipo===t.documentoTipo})),e.abrupt("return",o);case 24:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=!0,o=!1,i=void 0,e.prev=3,r=t[Symbol.iterator]();case 5:if(a=(s=r.next()).done){e.next=14;break}return n=s.value,e.next=9,He().financeiroMovimentacao.delete(n.id);case 9:return e.next=11,so("remover","financeiroMovimentacao",n.id);case 11:a=!0,e.next=5;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](3),o=!0,i=e.t0;case 20:e.prev=20,e.prev=21,a||null==r.return||r.return();case 23:if(e.prev=23,!o){e.next=26;break}throw i;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}},e,null,[[3,16,20,28],[21,,23,27]])}));return function(t){return e.apply(this,arguments)}}()},ks=Ns,Ms={grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=aa(t),Object.keys(t.original||{}).length){e.next=8;break}return e.next=4,He().financeiroMovimentacaoN.put(t.atual);case 4:return e.next=6,so("adicionar","financeiroMovimentacaoN",t.atual.id,t.atual);case 6:e.next=14;break;case 8:if(a=ga(t.original,t.atual),!Object.keys(a).length){e.next=14;break}return e.next=12,He().financeiroMovimentacaoN.update(t.atual.id,a);case 12:return e.next=14,so("atualizar","financeiroMovimentacaoN",t.atual.id,a);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Ps=Ms,Ds={grava:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().financeiroPlanoConta.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:return e.next=15,He().financeiroPlanoConta.toArray();case 15:if(e.t2=e.sent,e.t2){e.next=18;break}e.t2=[];case 18:if(a=e.t2,!t.codigoFinanceiroPlanoConta){e.next=24;break}if(o=a.filter(function(e){return e.codigoFinanceiroPlanoConta===t.codigoFinanceiroPlanoConta}),!o.length){e.next=23;break}return e.abrupt("return",o[0]);case 23:return e.abrupt("return",{});case 24:return Object.keys(t.despesa||{}).length&&(a=a.filter(function(e){return e.ativo&&"DESPESA"===(e.classificacao||"")&&!/inconsist|título/g.test((e.descricao||"").toLowerCase())&&(!e.idEmpresaConta||e.idEmpresaConta===t.despesa.idContatoEmpresa)})),e.abrupt("return",a);case 26:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Es=Ds,Ts={grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=aa(t),Object.keys(t.original||{}).length){e.next=8;break}return e.next=4,He().financeiroRenegociacao.put(t.atual);case 4:return e.next=6,so("adicionar","financeiroRenegociacao",t.atual.id,t.atual);case 6:e.next=14;break;case 8:if(a=ga(t.original,t.atual),!Object.keys(a).length){e.next=14;break}return e.next=12,He().financeiroRenegociacao.update(t.atual.id,a);case 12:return e.next=14,so("atualizar","financeiroRenegociacao",t.atual.id,a);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!t.id){e.next=8;break}return e.next=4,He().financeiroRenegociacao.get(t.id);case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:return e.abrupt("return",e.t0);case 8:if(a=[],!t.idFinanceiroMovimentacaoN){e.next=16;break}return e.next=12,He().financeiroMovimentacao.where({idFinanceiroMovimentacaoN:t.idFinanceiroMovimentacaoN}).toArray();case 12:if(e.t1=e.sent,e.t1){e.next=15;break}e.t1=[];case 15:a=e.t1;case 16:return e.abrupt("return",a);case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=!0,o=!1,i=void 0,e.prev=3,r=t[Symbol.iterator]();case 5:if(a=(s=r.next()).done){e.next=14;break}return n=s.value,e.next=9,He().financeiroRenegociacao.delete(n.id);case 9:return e.next=11,so("remover","financeiroRenegociacao",n.id);case 11:a=!0,e.next=5;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](3),o=!0,i=e.t0;case 20:e.prev=20,e.prev=21,a||null==r.return||r.return();case 23:if(e.prev=23,!o){e.next=26;break}throw i;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}},e,null,[[3,16,20,28],[21,,23,27]])}));return function(t){return e.apply(this,arguments)}}()},As=Ts,Os={grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=aa(t),Object.keys(t.original||{}).length){e.next=8;break}return e.next=4,He().financeiroTitulo.put(t.atual);case 4:return e.next=6,so("adicionar","financeiroTitulo",t.atual.id,t.atual);case 6:e.next=14;break;case 8:if(a=ga(t.original,t.atual),!Object.keys(a).length){e.next=14;break}return e.next=12,He().financeiroTitulo.update(t.original.id,a);case 12:return e.next=14,so("atualizar","financeiroTitulo",t.original.id,a);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().financeiroTitulo.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:if(!t.idDocumentoCaixa||!t.idDocumentoCaixaLiquidacao){e.next=20;break}return e.next=16,He().financeiroTitulo.where("idDocumentoCaixa").equals(t.idDocumentoCaixa).or("idDocumentoCaixaLiquidacao").equals(t.idDocumentoCaixaLiquidacao).toArray();case 16:if(e.t2=e.sent,e.t2){e.next=19;break}e.t2=[];case 19:return e.abrupt("return",e.t2);case 20:if(a={},"idContato"in t&&t.idContato&&(a.idContato=t.idContato),"idFatura"in t&&t.idFatura&&(a.idFatura=t.idFatura),"documentoId"in t&&t.documentoId&&(a.documentoId=t.documentoId),"idFinanceiroBoleto"in t&&t.idFinanceiroBoleto&&(a.idFinanceiroBoleto=t.idFinanceiroBoleto),"idDocumentoCaixa"in t&&t.idDocumentoCaixa&&(a.idDocumentoCaixa=t.idDocumentoCaixa),"idDocumentoCaixaLiquidacao"in t&&t.idDocumentoCaixaLiquidacao&&(a.idDocumentoCaixaLiquidacao=t.idDocumentoCaixaLiquidacao),o=[],!Object.keys(a).length){e.next=37;break}return e.next=31,He().financeiroTitulo.where(a).toArray();case 31:if(e.t3=e.sent,e.t3){e.next=34;break}e.t3=[];case 34:o=e.t3,e.next=43;break;case 37:return e.next=39,He().financeiroTitulo.toArray();case 39:if(e.t4=e.sent,e.t4){e.next=42;break}e.t4=[];case 42:o=e.t4;case 43:return!0===t.emAberto&&(o=o.filter(function(e){return!!e.receberPagar&&!e.dataPagamento})),!1===t.emAberto&&(o=o.filter(function(e){return!!e.receberPagar&&!!e.dataPagamento})),e.abrupt("return",o);case 46:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=!0,o=!1,i=void 0,e.prev=3,r=t[Symbol.iterator]();case 5:if(a=(s=r.next()).done){e.next=14;break}return n=s.value,e.next=9,He().financeiroTitulo.delete(n.id);case 9:return e.next=11,so("remover","financeiroTitulo",n.id);case 11:a=!0,e.next=5;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](3),o=!0,i=e.t0;case 20:e.prev=20,e.prev=21,a||null==r.return||r.return();case 23:if(e.prev=23,!o){e.next=26;break}throw i;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}},e,null,[[3,16,20,28],[21,,23,27]])}));return function(t){return e.apply(this,arguments)}}()},$s=Os,Rs={grava:function(){},le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!t.id){e.next=8;break}return e.next=4,He().formaPagamento.get(t.id);case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:return e.abrupt("return",e.t0);case 8:return e.next=10,He().formaPagamento.toArray();case 10:if(e.t1=e.sent,e.t1){e.next=13;break}e.t1=[];case 13:return a=e.t1,e.abrupt("return",a);case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},js=Rs,zs=(a("f751"),{id:"",_DataHoraUltimaAlteracao:"",ativo:!0,codigoBarras:"",dataCadastro:"",descricao:"",garantiaDias:0,grupo:"",imagem:"",marca:"",percentualMarkup:0,quantidadeDisponivel:0,status:"Linha",subGrupo:"",surfacada:"0",tempoMedioReposicao:0,tipo:"Produto",unidade:"UN",utilizaComposicaoValorReposicao:!1,utilizaMarkup:!1,validadeMeses:0,valorCustoReposicao:0,valorVenda:0,controladoExercito:0,controladoPoliciaCivil:0,controladoPoliciaFederal:0});function Bs(e){return Ls.apply(this,arguments)}function Ls(){return Ls=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.descricaoConcatenada=Vs(t),t.composicao&&t.composicao.length||(t.composicao=[{}]),t.fornecedor&&t.fornecedor.length||(t.fornecedor=[{}]),t.producaoFase&&t.producaoFase.length||(t.producaoFase=[{}]),t.qualidade&&t.qualidade.length||(t.qualidade=[{}]),e.t0=regeneratorRuntime.keys(t.composicao);case 6:if((e.t1=e.t0()).done){e.next=20;break}if(a=e.t1.value,o=t.composicao[a],o=Object.assign({},{idItemUtilizado:"",ordem:0,quantidade:1,temporario:{unidade:"",valor:0,total:0}},o),e.t2=o.item,e.t2){e.next=15;break}return e.next=14,vs().get("item",o.idItemUtilizado);case 14:e.t2=e.sent;case 15:o.item=e.t2,o.descricaoItemUtilizado=o.item.descricao||"",t.composicao[a]=o,e.next=6;break;case 20:e.t3=regeneratorRuntime.keys(t.fornecedor);case 21:if((e.t4=e.t3()).done){e.next=35;break}if(i=e.t4.value,r=t.fornecedor[i],r=Object.assign({},{idContato:"",descricao:"",referencia:""},r),e.t5=r.contato,e.t5){e.next=30;break}return e.next=29,Zn.contato.le({id:r.idContato});case 29:e.t5=e.sent;case 30:r.contato=e.t5,r.descricaoContato=r.contato.apelido||"",t.fornecedor[i]=r,e.next=21;break;case 35:e.t6=regeneratorRuntime.keys(t.producaoFase);case 36:if((e.t7=e.t6()).done){e.next=64;break}if(s=e.t7.value,n=t.producaoFase[s],n=Object.assign({},{descricao:"",idItemEquipamento:"",idItemFerramenta:"",idItemServico:"",ordem:0},n),e.t8=n.itemEquipamento,e.t8){e.next=45;break}return e.next=44,vs().get("item",n.idItemEquipamento);case 44:e.t8=e.sent;case 45:if(n.itemEquipamento=e.t8,e.t9=n.itemFerramenta,e.t9){e.next=51;break}return e.next=50,vs().get("item",n.idItemFerramenta);case 50:e.t9=e.sent;case 51:if(n.itemFerramenta=e.t9,e.t10=n.itemServico,e.t10){e.next=57;break}return e.next=56,vs().get("item",n.idItemServico);case 56:e.t10=e.sent;case 57:n.itemServico=e.t10,n.descricaoItemEquipamento=n.itemEquipamento.descricao||"",n.descricaoItemFerramenta=n.itemFerramenta.descricao||"",n.descricaoItemServico=n.itemServico.descricao||"",t.producaoFase[s]=n,e.next=36;break;case 64:return e.abrupt("return",t);case 65:case"end":return e.stop()}},e)})),Ls.apply(this,arguments)}function Vs(e){var t=e.descricao+(e.modelo?" - "+e.modelo:"")+(e.tamanho?" - "+e.tamanho:"");return"Lente"===e.tipo&&(t+=(e.esfericoInicial?" "+e.esfericoInicial:"")+(e.esfericoFinal?" "+e.esfericoFinal:"")+(e.eixo?" "+e.eixo:"")+(e.material?" - "+e.material:"")+(e.cor?" - "+e.cor:"")+(e.diametro?" - "+e.diametro:"")+(e.indiceRefracao?" - "+e.indiceRefracao:"")+(e.geometria?" - "+e.geometria:"")+(e.lenteTipo?" "+e.lenteTipo:"")),t}function Us(e){return Hs.apply(this,arguments)}function Hs(){return Hs=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.item.leCompleto(t);case 2:a=e.sent,o=at()({},a.atual,{id:hi(),codigoBarras:"",referencia:"",codigoItem:void 0}),e.t0=regeneratorRuntime.keys(o);case 5:if((e.t1=e.t0()).done){e.next=29;break}if(i=e.t1.value,!Array.isArray(o[i])){e.next=27;break}for(r=!0,s=!1,n=void 0,e.prev=11,c=o[i][Symbol.iterator]();!(r=(l=c.next()).done);r=!0)d=l.value,delete d.id;e.next=19;break;case 15:e.prev=15,e.t2=e["catch"](11),s=!0,n=e.t2;case 19:e.prev=19,e.prev=20,r||null==c.return||c.return();case 22:if(e.prev=22,!s){e.next=25;break}throw n;case 25:return e.finish(22);case 26:return e.finish(19);case 27:e.next=5;break;case 29:return e.next=31,Zn.item.grava({atual:o});case 31:return e.abrupt("return",o.id);case 32:case"end":return e.stop()}},e,null,[[11,15,19,27],[20,,22,26]])})),Hs.apply(this,arguments)}function Qs(e){return Gs.apply(this,arguments)}function Gs(){return Gs=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=fa(t.original||{},t.atual),Object.keys(t.original||{}).length){e.next=8;break}return e.next=4,He().item.put(a);case 4:return e.next=6,so("adicionar","item",a.id,a);case 6:e.next=13;break;case 8:if(!Object.keys(a).length){e.next=13;break}return e.next=11,He().item.update(t.atual.id,a);case 11:return e.next=13,so("atualizar","item",t.atual.id,a);case 13:case"end":return e.stop()}},e)})),Gs.apply(this,arguments)}function Js(e){return Xs.apply(this,arguments)}function Xs(){return Xs=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("item","grava",t),a=ln(ea(t.atual)),o=ln(ea(t.original||{})),a.descricaoConcatenada=Vs(a),i=!1,e.next=7,Ya("itemComposicao",o.composicao,a.composicao);case 7:if(e.t0=e.sent,e.t0){e.next=10;break}e.t0=i;case 10:return i=e.t0,e.next=13,Ya("itemFornecedor",o.fornecedor,a.fornecedor);case 13:if(e.t1=e.sent,e.t1){e.next=16;break}e.t1=i;case 16:return i=e.t1,e.next=19,Ya("itemProducaoFase",o.producaoFase,a.producaoFase);case 19:if(e.t2=e.sent,e.t2){e.next=22;break}e.t2=i;case 22:return i=e.t2,e.next=25,Ya("itemQualidade",o.qualidade,a.qualidade);case 25:if(e.t3=e.sent,e.t3){e.next=28;break}e.t3=i;case 28:if(i=e.t3,Object.keys(o||{}).length){e.next=39;break}return a.dataCadastro=na(),a._DataHoraUltimaAlteracao=a.dataCadastro,r=fa({},a),e.next=35,He().item.put(r);case 35:return e.next=37,so("adicionar","item",r.id,r);case 37:e.next=47;break;case 39:if(s=fa(o,a),!i&&!Object.keys(s).length){e.next=47;break}return a._DataHoraUltimaAlteracao=na(),s._DataHoraUltimaAlteracao=a._DataHoraUltimaAlteracao,e.next=45,He().item.update(a.id,s);case 45:return e.next=47,so("atualizar","item",a.id,s);case 47:Zn.itemBusca.reindexar(a.id);case 48:case"end":return e.stop()}},e)})),Xs.apply(this,arguments)}function Ys(e){return Ws.apply(this,arguments)}function Ws(){return Ws=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().item.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:return a={},"tipo"in t&&t.tipo&&(a.tipo=t.tipo),"ativo"in t&&t.ativo&&(a.ativo=1),o=He().item,Object.keys(a).length&&(o=o.where(a)),"limit"in t&&t.limit&&(o=o.limit(t.limit)),e.next=21,o.toArray();case 21:if(e.t2=e.sent,e.t2){e.next=24;break}e.t2=[];case 24:return e.abrupt("return",e.t2);case 25:case"end":return e.stop()}},e)})),Ws.apply(this,arguments)}function Zs(e){return Ks.apply(this,arguments)}function Ks(){return Ks=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().item.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:return e.next=15,He().item.toArray();case 15:if(e.t2=e.sent,e.t2){e.next=18;break}e.t2=[];case 18:return a=e.t2,t.tipo&&(a=Array.isArray(t.tipo)?a.filter(function(e){return t.tipo.includes(e.tipo)}):a.filter(function(e){return t.tipo===e.tipo})),t.ativo&&(a=a.filter(function(e){return e.ativo})),!1===t.ativo&&(a=a.filter(function(e){return!e.ativo})),e.abrupt("return",a);case 23:case"end":return e.stop()}},e)})),Ks.apply(this,arguments)}function en(e){return tn.apply(this,arguments)}function tn(){return tn=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("item","leCompleto"),e.next=3,vs().get("item",t,{joinMany:[{field:"composicao",joinTable:"itemComposicao",joinKey:"idItem",key:"id"},{field:"fornecedor",joinTable:"itemFornecedor",joinKey:"idItem",key:"id"},{field:"producaoFase",joinTable:"itemProducaoFase",joinKey:"idItem",key:"id"},{field:"qualidade",joinTable:"itemQualidade",joinKey:"idItem",key:"id"}]});case 3:return a=e.sent,e.next=6,Bs(at()({},zs,a));case 6:return a=e.sent,o=ea(a),e.abrupt("return",{atual:a,original:o});case 9:case"end":return e.stop()}},e)})),tn.apply(this,arguments)}function an(e,t){return on.apply(this,arguments)}function on(){return on=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w,y,N,k;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o={idContaEstoque:"",descricaoContaEstoque:"",idContaReceita:"",descricaoContaReceita:"",idContaDespesa:"",descricaoContaDespesa:""},e.next=3,He().item.get(t);case 3:return i=e.sent,e.next=6,Zn.cfop.le({id:a});case 6:return r=e.sent,e.next=9,Zn.configuracoes.le({nome:"financeiro.planocontas.cmv"});case 9:return s=e.sent[0].valor,e.next=12,Zn.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:s});case 12:if(e.t0=e.sent,e.t0){e.next=15;break}e.t0={};case 15:return n=e.t0,e.next=18,Zn.configuracoes.le({nome:"financeiro.planocontas.faturamentogeral"});case 18:return c=e.sent[0].valor,e.next=21,Zn.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:c});case 21:if(e.t1=e.sent,e.t1){e.next=24;break}e.t1={};case 24:return l=e.t1,e.next=27,Zn.perfilContabilItem.le({idPerfilContabil:i.idPerfilContabil});case 27:return d=e.sent,u={},m=!0,p=!1,v=void 0,e.prev=32,e.next=35,Zn.financeiroPlanoConta.le();case 35:if(e.t2=e.sent,e.t2){e.next=38;break}e.t2=[];case 38:e.t3=Symbol.iterator,h=e.t2[e.t3]();case 40:if(m=(f=h.next()).done){e.next=46;break}C=f.value,u[C.id]=C;case 43:m=!0,e.next=40;break;case 46:e.next=52;break;case 48:e.prev=48,e.t4=e["catch"](32),p=!0,v=e.t4;case 52:e.prev=52,e.prev=53,m||null==h.return||h.return();case 55:if(e.prev=55,!p){e.next=58;break}throw v;case 58:return e.finish(55);case 59:return e.finish(52);case 60:b=!0,g=!1,x=void 0,e.prev=63,_=d.filter(function(e){return e.idCfop===a})[Symbol.iterator]();case 65:if(b=(q=_.next()).done){e.next=71;break}return S=q.value,e.abrupt("return",{ordem:0,idPlanoContaEstoque:S.idPlanoContaEstoque,descricaoContaEstoque:u[S.idPlanoContaEstoque].apelido+" - "+u[S.idPlanoContaEstoque].descricao.trim(),idPlanoContaDestino:S.idPlanoContaDestino,descricaoContaDestino:u[S.idPlanoContaDestino].apelido+" - "+u[S.idPlanoContaDestino].descricao.trim(),idPlanoContaDespesa:S.idPlanoContaDespesa,descricaoContaDespesa:u[S.idPlanoContaDespesa].apelido+" - "+u[S.idPlanoContaDespesa].descricao.trim()});case 68:b=!0,e.next=65;break;case 71:e.next=77;break;case 73:e.prev=73,e.t5=e["catch"](63),g=!0,x=e.t5;case 77:e.prev=77,e.prev=78,b||null==_.return||_.return();case 80:if(e.prev=80,!g){e.next=83;break}throw x;case 83:return e.finish(80);case 84:return e.finish(77);case 85:I=!0,F=!1,w=void 0,e.prev=88,y=d[Symbol.iterator]();case 90:if(I=(N=y.next()).done){e.next=96;break}return k=N.value,e.abrupt("return",{ordem:1,idPlanoContaEstoque:k.idPlanoContaEstoque,descricaoContaEstoque:u[k.idPlanoContaEstoque].apelido+" - "+u[k.idPlanoContaEstoque].descricao.trim(),idPlanoContaDestino:k.idPlanoContaDestino,descricaoContaDestino:u[k.idPlanoContaDestino].apelido+" - "+u[k.idPlanoContaDestino].descricao.trim(),idPlanoContaDespesa:k.idPlanoContaDespesa,descricaoContaDespesa:u[k.idPlanoContaDespesa].apelido+" - "+u[k.idPlanoContaDespesa].descricao.trim()});case 93:I=!0,e.next=90;break;case 96:e.next=102;break;case 98:e.prev=98,e.t6=e["catch"](88),F=!0,w=e.t6;case 102:e.prev=102,e.prev=103,I||null==y.return||y.return();case 105:if(e.prev=105,!F){e.next=108;break}throw w;case 108:return e.finish(105);case 109:return e.finish(102);case 110:if(!r.idPlanoContaEstoque||!r.idPlanoContaDestino){e.next=112;break}return e.abrupt("return",{ordem:2,idPlanoContaEstoque:r.idPlanoContaEstoque,descricaoContaEstoque:u[r.idPlanoContaEstoque].apelido+" - "+u[r.idPlanoContaEstoque].descricao.trim(),idPlanoContaDestino:r.idPlanoContaDestino,descricaoContaDestino:u[r.idPlanoContaDestino].apelido+" - "+u[r.idPlanoContaDestino].descricao.trim(),idPlanoContaDespesa:n.id,descricaoContaDespesa:n.descricao});case 112:if(!r.idPlanoContaEstoque){e.next=114;break}return e.abrupt("return",{ordem:3,idPlanoContaEstoque:r.idPlanoContaEstoque,descricaoContaEstoque:u[r.idPlanoContaEstoque].apelido+" - "+u[r.idPlanoContaEstoque].descricao.trim(),idPlanoContaDestino:l.id,descricaoContaDestino:l.apelido+" - "+l.descricao.trim(),idPlanoContaDespesa:n.id,descricaoContaDespesa:n.descricao});case 114:return e.abrupt("return",o);case 115:case"end":return e.stop()}},e,null,[[32,48,52,60],[53,,55,59],[63,73,77,85],[78,,80,84],[88,98,102,110],[103,,105,109]])})),on.apply(this,arguments)}function rn(e){return sn.apply(this,arguments)}function sn(){return sn=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("item","leUnicos",t),e.abrupt("return",He().item.orderBy(t).uniqueKeys());case 2:case"end":return e.stop()}},e)})),sn.apply(this,arguments)}function nn(e,t){return cn.apply(this,arguments)}function cn(){return cn=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("item","leValoresUnicos"),e.t0=po,e.t1=[ns()({},t,""),ns()({},t,a)],e.t2=la.a,e.next=6,He().item.toArray();case 6:return e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t5=e.t1.concat.call(e.t1,e.t4),e.t6=t,e.t7=function(e,t){return e.localeCompare(t,void 0,{sensitivity:"base"})},e.abrupt("return",(0,e.t0)(e.t5,e.t6).sort(e.t7));case 12:case"end":return e.stop()}},e)})),cn.apply(this,arguments)}function ln(e){if(e.fornecedor){var t=!0,a=!1,o=void 0;try{for(var i,r=e.fornecedor[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var s=i.value;delete s.contato,delete s.descricaoContato,s.idItem=e.id,s.id||(s.id=hi())}}catch(e){a=!0,o=e}finally{try{t||null==r.return||r.return()}finally{if(a)throw o}}e.fornecedor=e.fornecedor.filter(function(e){return!!e.idContato||!!e.descricao||!!e.referencia})}if(e.composicao){var n=!0,c=!1,l=void 0;try{for(var d,u=e.composicao[Symbol.iterator]();!(n=(d=u.next()).done);n=!0){var m=d.value;delete m.temporario,delete m.item,delete m.descricaoItemUtilizado,m.idItem=e.id,m.id||(m.id=hi())}}catch(e){c=!0,l=e}finally{try{n||null==u.return||u.return()}finally{if(c)throw l}}e.composicao=e.composicao.filter(function(e){return!!e.idItemUtilizado})}if(e.qualidade){var p=!0,v=!1,h=void 0;try{for(var f,C=e.qualidade[Symbol.iterator]();!(p=(f=C.next()).done);p=!0){var b=f.value;delete b.item,b.idItem=e.id,b.id||(b.id=hi())}}catch(e){v=!0,h=e}finally{try{p||null==C.return||C.return()}finally{if(v)throw h}}e.qualidade=e.qualidade.filter(function(e){return!!e.descricao||!!e.especificacao||!!e.limites})}if(e.producaoFase){var g=!0,x=!1,_=void 0;try{for(var q,S=e.producaoFase[Symbol.iterator]();!(g=(q=S.next()).done);g=!0){var I=q.value;delete I.itemEquipamento,delete I.itemFerramenta,delete I.itemServico,delete I.descricaoItemEquipamento,delete I.descricaoItemFerramenta,delete I.descricaoItemServico,I.idItem=e.id,I.id||(I.id=hi())}}catch(e){x=!0,_=e}finally{try{g||null==S.return||S.return()}finally{if(x)throw _}}e.producaoFase=e.producaoFase.filter(function(e){return!!e.ordem||!!e.descricao||!!e.idItemEquipamento||!!e.idItemFerramenta||!!e.idItemServico})}return e}function dn(e,t){return un.apply(this,arguments)}function un(){return un=Le()(regeneratorRuntime.mark(function e(t,a){var o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o=!1,t){e.next=3;break}return e.abrupt("return",!0);case 3:return ei.log("item","validarReferenciaUnica"),e.next=6,He().item.filter(function(e){return e.referencia===t&&e.id!==a.id}).first();case 6:return i=e.sent,o=!i,e.abrupt("return",o);case 9:case"end":return e.stop()}},e)})),un.apply(this,arguments)}var mn={completa:Bs,descricaoConcatenada:Vs,duplica:Us,grava:Js,gravaItem:Qs,le:Zs,leCompleto:en,leContas:an,leNew:Ys,leUnicos:rn,leValoresUnicos:nn,opcoesTipo:[{rotulo:"Produto",valor:"Produto"},{rotulo:"Serviço",valor:"Serviço"}],selecionado:at()({},zs),validarReferenciaUnica:dn,vazio:zs},pn=!1,vn={},hn={},fn=["codigoItem"],Cn=["descricao","descricaoConcatenada","marca","grupo","subGrupo","aplicacao","referencia","codigoBarras"],bn=["tipo"],gn=["ativo"],xn={id:"%0",codigoItem:"%1",descricaoConcatenada:"%2",marca:"%3",grupo:"%4",subGrupo:"%5",ativo:"%6",aplicacao:"%7",referencia:"%8",codigoBarras:"%9",tipo:"%a",descricao:"%b"};function _n(e,t){var a,o;if(t=(t||"").trim(),t){a=t.toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" ");var i=!0,r=!1,s=void 0;try{for(var n,c=a[Symbol.iterator]();!(i=(n=c.next()).done);i=!0){var l=n.value,d=void 0;for(var u in o=[],/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(l)&&(d="id"),"codigobarras:"===(l.substring(0,13)||"").toLowerCase()&&(l=l.substring(13),d="codigoBarras"),"codigoitem:"===(l.substring(0,11)||"").toLowerCase()&&(l=l.substring(11),d="codigoItem"),l=Object(ot["escapeRegExp"])(l),hn)if((!xn[d]||u===xn[d]+l)&&("id"===d||u.substring(0,2)!==xn["id"]&&u.substring(0,2)!==xn["ativo"])&&!(Object(ot["escapeRegExp"])(u).length<l.length+2)&&-1!==u.substring(2,u.length).search(l)){var m=!0,p=!1,v=void 0;try{for(var h,f=function(){var e=h.value;hn[u].find(function(t){return t===e})&&o.push(e)},C=e[Symbol.iterator]();!(m=(h=C.next()).done);m=!0)f()}catch(e){p=!0,v=e}finally{try{m||null==C.return||C.return()}finally{if(p)throw v}}}e=o}}catch(e){r=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw s}}}return e}function qn(e){var t=[xn["ativo"]+"true",xn["ativo"]+"false"],a=[];"boolean"===typeof e.ativo&&(t=e.ativo?[xn["ativo"]+"true"]:[xn["ativo"]+"false"]);for(var o=0;o<t.length;o++){var i=t[o],r=!0,s=!1,n=void 0;try{for(var c,l=(hn[i]||[])[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var d=c.value;a.push(d)}}catch(e){s=!0,n=e}finally{try{r||null==l.return||l.return()}finally{if(s)throw n}}}if(Array.isArray(e.tipo)||"string"===typeof e.tipo){var u=[];"string"===typeof e.tipo?u.push(e.tipo):u=e.tipo;var m=[],p=!0,v=!1,h=void 0;try{for(var f,C=u[Symbol.iterator]();!(p=(f=C.next()).done);p=!0){var b=f.value;if(b=(b||"").trim(),b){var g=xn["tipo"]+b.replace(/\s+/g,"_").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),x=!0,_=!1,q=void 0;try{for(var S,I=function(){var e=S.value;a.find(function(t){return t===e})&&m.push(e)},F=(hn[g]||[])[Symbol.iterator]();!(x=(S=F.next()).done);x=!0)I()}catch(e){_=!0,q=e}finally{try{x||null==F.return||F.return()}finally{if(_)throw q}}}}}catch(e){v=!0,h=e}finally{try{p||null==C.return||C.return()}finally{if(v)throw h}}a=m}return a}function Sn(e){var t,a,o;vn[e.id]||(vn[e.id]={}),t=xn["id"]+e.id;for(var i=0;i<fn.length;i++){var r=fn[i];a=Number(e[r]),Number.isFinite(a)&&(vn[e.id][r]=e[r],t+=" "+xn[r]+String(a),t+=" "+xn[r]+"#"+String(a),t+=" "+xn[r]+"#"+String(a).padStart(6,"0"))}for(var s=0;s<Cn.length;s++){var n=Cn[s];a=(e[n]||"").trim(),a&&(vn[e.id][n]=e[n],t+=" "+a.replace(/(\S+\s)|(\S+$)/g,xn[n]+"$1$2"))}for(var c=0;c<bn.length;c++){var l=bn[c];a=(e[l]||"").trim().replace(/\s+/g,"_"),a&&(vn[e.id][l]=e[l],t+=" "+xn[l]+a)}for(var d=0;d<gn.length;d++){var u=gn[d];"boolean"===typeof e[u]&&(vn[e.id][u]=e[u],t+=" "+xn[u]+String(e[u]))}o=t.trim().toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" ");for(var m=la()(new Set(o)),p=0;p<m.length;p++){var v=m[p];hn[v]?hn[v].push(e.id):hn[v]=[e.id]}}function In(e,t){var a=function(a){if(fn.find(function(e){return e===a})){var o=Number(t[a]);if(Number.isFinite(o))for(var i=[xn[a]+String(o),xn[a]+"#"+String(o),xn[a]+"#"+String(o).padStart(6,"0")],r=0;r<i.length;r++){var s=i[r],n=[],c=!0,l=!1,d=void 0;try{for(var u,m=(hn[s]||[])[Symbol.iterator]();!(c=(u=m.next()).done);c=!0){var p=u.value;p!==e&&n.push(p)}}catch(e){l=!0,d=e}finally{try{c||null==m.return||m.return()}finally{if(l)throw d}}hn[s]=n}}if(Cn.find(function(e){return e===a})){var v=(t[a]||"").trim();if(v)for(var h=v.replace(/(\S+\s)|(\S+$)/g,xn[a]+"$1$2").toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" "),f=la()(new Set(h)),C=0;C<f.length;C++){var b=f[C],g=[],x=!0,_=!1,q=void 0;try{for(var S,I=(hn[b]||[])[Symbol.iterator]();!(x=(S=I.next()).done);x=!0){var F=S.value;F!==e&&g.push(F)}}catch(e){_=!0,q=e}finally{try{x||null==I.return||I.return()}finally{if(_)throw q}}hn[b]=g}}if(bn.find(function(e){return e===a})){var w=(t[a]||"").trim();if(w){var y=xn[a]+w.replace(/\s+/g,"_").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),N=[],k=!0,M=!1,P=void 0;try{for(var D,E=(hn[y]||[])[Symbol.iterator]();!(k=(D=E.next()).done);k=!0){var T=D.value;T!==e&&N.push(T)}}catch(e){M=!0,P=e}finally{try{k||null==E.return||E.return()}finally{if(M)throw P}}hn[y]=N}}if(gn.find(function(e){return e===a})&&"boolean"===typeof t[a]){var A=xn[a]+String(t[a]),O=[],$=!0,R=!1,j=void 0;try{for(var z,B=(hn[A]||[])[Symbol.iterator]();!($=(z=B.next()).done);$=!0){var L=z.value;L!==e&&O.push(L)}}catch(e){R=!0,j=e}finally{try{$||null==B.return||B.return()}finally{if(R)throw j}}hn[A]=O}};for(var o in t)a(o);delete vn[e]}var Fn={inicializar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!pn){e.next=2;break}return e.abrupt("return");case 2:return pn=!0,a=1e4,e.next=6,He().item.count();case 6:t=e.sent,o=0;case 8:if(!(o<t)){e.next=14;break}return e.next=11,He().item.offset(o).limit(a).each(function(e){Sn(e)});case 11:o+=a,e.next=8;break;case 14:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),filtrar:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:{},o=s.length>2&&void 0!==s[2]?s[2]:30,r=[],r=qn(a),r=_n(r,t),i=He().item.where("id").anyOf(r),o>0&&(i=i.limit(o)),e.abrupt("return",i.toArray());case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),reindexar:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:a=vn[t],a&&In(t,a),He().item.where({id:t}).each(function(e){Sn(e)});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},wn={grava:function(){},le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!t.id){e.next=3;break}return e.abrupt("return",He().itemTabelaPreco.get(t.id)||{});case 3:return a={},o=He().itemTabelaPreco,Object.keys(a).length&&(o=o.where(a)),e.next=8,o.toArray();case 8:return o=e.sent,t.tabelaMaster&&(o=o.filter(function(e){return e.tabelaMaster})),t.idEmpresa&&(o=o.filter(function(e){return e.idEmpresa===t.idEmpresa||!e.idEmpresa})),!1===t.tabelaMaster&&(o=o.filter(function(e){return!e.tabelaMaster})),e.abrupt("return",o);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),obterValores:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o=g.length>2&&void 0!==g[2]?g[2]:2,t.id){e.next=3;break}return e.abrupt("return");case 3:if(!a.id){e.next=8;break}return e.next=6,He().itemTabelaPreco.where({idItem:a.id}).toArray();case 6:i=e.sent,i=i.find(function(e){return!e.tabelaMaster&&e.idItemTabelaPrecoPai===t.id});case 8:if(!i){e.next=10;break}return e.abrupt("return",{tabelaMaster:0,valorVenda:dt(i.valorVenda||0,o),valorVendaMaiorQue:dt(i.valorVendaMaiorQue||0,o),quantidadeMaiorQue:dt(i.quantidadeMaiorQue||0,o),maximoDesconto:dt(i.maximoDesconto||0,o),maximoDescontoMaiorQue:dt(i.maximoDescontoMaiorQue||0,o)});case 10:if(s=a.valorVenda||0,n=t.maximoDesconto||0,c=t.fatorPercentual||0,l=t.fatorArredondamento||0,d=[],u=(a.marca||"").trim(),m=(a.grupo||"").trim(),p=(a.subGrupo||"").trim(),r=1,s+=c/100*s,!u){e.next=22;break}return e.next=19,He().itemTabelaPreco.where({tipo:"Marca"}).toArray();case 19:v=e.sent,v=v.find(function(e){return 2===e.tabelaMaster&&e.idItemTabelaPrecoPai===t.id&&(e.descricao||"").trim()===u}),v&&d.push(v);case 22:if(!m){e.next=28;break}return e.next=25,He().itemTabelaPreco.where({tipo:"Grupo"}).toArray();case 25:h=e.sent,h=h.find(function(e){return 2===e.tabelaMaster&&e.idItemTabelaPrecoPai===t.id&&(e.descricao||"").trim()===m}),h&&d.push(h);case 28:if(!p){e.next=34;break}return e.next=31,He().itemTabelaPreco.where({tipo:"Subgrupo"}).toArray();case 31:f=e.sent,f=f.find(function(e){return 2===e.tabelaMaster&&e.idItemTabelaPrecoPai===t.id&&(e.descricao||"").trim()===p}),f&&d.push(f);case 34:for(C=0;C<d.length;C++)b=d[C],r=2,c=b.fatorPercentual||0,s+=c/100*s,n+=b.maximoDesconto||0;return l&&(s=vt(s,l,o)),e.abrupt("return",{tabelaMaster:r,valorVenda:dt(s,o),valorVendaMaiorQue:0,quantidadeMaiorQue:0,maximoDesconto:dt(n>100?100:n,o),maximoDescontoMaiorQue:0});case 37:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},yn=wn,Nn={nomeTabela:"_ncm",filtrosTabela:["ncm"],le:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},ei.log(this.nomeTabela,"le",t),!("id"in t)){e.next=14;break}if(!t.id){e.next=12;break}return e.next=6,He()[this.nomeTabela].get(t.id);case 6:if(e.t1=e.sent,e.t1){e.next=9;break}e.t1={};case 9:e.t0=e.t1,e.next=13;break;case 12:e.t0={};case 13:return e.abrupt("return",e.t0);case 14:a={},o=!0,i=!1,r=void 0,e.prev=18,s=this.filtrosTabela[Symbol.iterator]();case 20:if(o=(n=s.next()).done){e.next=31;break}if(c=n.value,!(c in t)){e.next=28;break}if([null,void 0].includes(t[c])){e.next=27;break}a[c]=t[c],e.next=28;break;case 27:return e.abrupt("return",[]);case 28:o=!0,e.next=20;break;case 31:e.next=37;break;case 33:e.prev=33,e.t2=e["catch"](18),i=!0,r=e.t2;case 37:e.prev=37,e.prev=38,o||null==s.return||s.return();case 40:if(e.prev=40,!i){e.next=43;break}throw r;case 43:return e.finish(40);case 44:return e.finish(37);case 45:return e.abrupt("return",Object.keys(a).length?He()[this.nomeTabela].where(a).toArray():He()[this.nomeTabela].toArray());case 46:case"end":return e.stop()}},e,this,[[18,33,37,45],[38,,40,44]])}));return function(){return e.apply(this,arguments)}}(),grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log(this.nomeTabela,"grava",t),a=fa(t.original||{},t.atual),Object.keys(t.original||{}).length){e.next=9;break}return e.next=5,He()[this.nomeTabela].put(a);case 5:return e.next=7,so("adicionar",this.nomeTabela,a.id,a);case 7:e.next=14;break;case 9:if(!Object.keys(a).length){e.next=14;break}return e.next=12,He()[this.nomeTabela].update(t.atual.id,a);case 12:return e.next=14,so("atualizar",this.nomeTabela,t.atual.id,a);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},kn={nomeTabela:"nfeIbpt",filtrosTabela:["codigo","idContato"],le:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},ei.log(this.nomeTabela,"le",t),!("id"in t)){e.next=14;break}if(!t.id){e.next=12;break}return e.next=6,He()[this.nomeTabela].get(t.id);case 6:if(e.t1=e.sent,e.t1){e.next=9;break}e.t1={};case 9:e.t0=e.t1,e.next=13;break;case 12:e.t0={};case 13:return e.abrupt("return",e.t0);case 14:a={},o=!0,i=!1,r=void 0,e.prev=18,s=this.filtrosTabela[Symbol.iterator]();case 20:if(o=(n=s.next()).done){e.next=31;break}if(c=n.value,!(c in t)){e.next=28;break}if([null,void 0].includes(t[c])){e.next=27;break}a[c]=t[c],e.next=28;break;case 27:return e.abrupt("return",[]);case 28:o=!0,e.next=20;break;case 31:e.next=37;break;case 33:e.prev=33,e.t2=e["catch"](18),i=!0,r=e.t2;case 37:e.prev=37,e.prev=38,o||null==s.return||s.return();case 40:if(e.prev=40,!i){e.next=43;break}throw r;case 43:return e.finish(40);case 44:return e.finish(37);case 45:return e.abrupt("return",Object.keys(a).length?He()[this.nomeTabela].where(a).toArray():He()[this.nomeTabela].toArray());case 46:case"end":return e.stop()}},e,this,[[18,33,37,45],[38,,40,44]])}));return function(){return e.apply(this,arguments)}}(),grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log(this.nomeTabela,"grava",t),a=fa(t.original||{},t.atual),Object.keys(t.original||{}).length){e.next=9;break}return e.next=5,He()[this.nomeTabela].put(a);case 5:return e.next=7,so("adicionar",this.nomeTabela,a.id,a);case 7:e.next=14;break;case 9:if(!Object.keys(a).length){e.next=14;break}return e.next=12,He()[this.nomeTabela].update(t.atual.id,a);case 12:return e.next=14,so("atualizar",this.nomeTabela,t.atual.id,a);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),atualiza:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log(this.nomeTabela,"atualiza",a),o={id:hi(),codigo:Number(a.Codigo),ex:String(a.EX),tipo:Number(a.Tipo),descricao:String(a.Descricao),nacionalFederal:String(a.Nacional),importadosFederal:String(a.Importado),estadual:String(a.Estadual),municipal:String(a.Municipal),vigenciaInicio:sa(a.VigenciaInicio),vigenciaFim:sa(a.VigenciaFim),chave:String(a.Chave),versao:String(a.Versao),fonte:String(a.Fonte),idContato:t},i={},e.next=5,this.le({codigo:Number(o.codigo),idContato:t});case 5:r=e.sent,e.t0=regeneratorRuntime.keys(r);case 7:if((e.t1=e.t0()).done){e.next=18;break}if(s=e.t1.value,"0"!==s){e.next=14;break}o.id=r[s].id,i=r[s],e.next=16;break;case 14:return e.next=16,He()[this.nomeTabela].delete(r[s].id);case 16:e.next=7;break;case 18:return e.abrupt("return",this.grava({atual:o,original:i}));case 19:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},Mn={id:"",tipo:"Ordem de Serviço",operacao:"Normal",status:"",idEmpresa:"",descricaoEmpresa:"",numeroDocumentoEmpresa:"",idContato:"",descricaoContato:"",numeroDocumentoContato:"",idContatoResponsavel:"",dataHoraEmissao:"",dataHoraRealizado:"",dataHoraPrevisto:"",documentoId:"",documentoTipo:"",subTotal:0,totalDocumento:0},Pn={vazio:Mn,leAdmOSOnline:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.entregueInicio,o=t.entregueFim,e.abrupt("return",jo("select\n      os.id,\n      os.codigoDocumento,\n      os.status,\n      os.descricao,\n      os.dataHoraEmissao,\n      os.dataHoraPrevisto,\n      os.dataHoraFinalizado,\n      os.dataHoraRetorno,\n      os.codigoContato,\n      os.codigoEmpresa,\n      os.descricaoEmpresa,\n      os.codigoContatoResponsavel,\n      responsavel.nome nomeResponsavel,\n      os.descricaoContato nomeCliente,\n      venda.numero numeroVenda,\n      os.numero numeroOS\n    from Documento os\n    left join contato responsavel on responsavel.codigoContato = os.codigoContatoResponsavel\n    left join documento venda on venda.codigoDocumento = os.documentoCodigo\n    where os.tipo='Ordem de Serviço'\n      and os.status not in ('Orçamento', 'Cancelado', 'Não aprovado', '')\n      and (os.status <> 'Entregue' or cast(os.dataHoraFinalizado as date) between ".concat(Bo(a)," and ").concat(Bo(o),")")));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),trocaStatusOnline:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",jo("set nocount on\n      update documento set \n          status = ".concat(Vo(t.statusNovo),",\n          dataHoraFinalizado = case ").concat(Vo(t.statusNovo)," when 'Entregue' then getdate() else null end\n        where codigoDocumento = ").concat(Lo(t.codigoDocumento),"\n      insert into documentoStatus (codigoDocumento, codigoDocumentoItem, codigoContatoResponsavel, operacao,\n        statusOriginal, statusFinalizado, dataHoraEmissao, codigoUsuarioAlterou, observacao)\n      values(").concat(Lo(t.codigoDocumento),", NULL, ").concat(Lo(t.codigoContatoResponsavel),", 'Mudança status OS', \n        ").concat(Vo(t.statusAtual),", ").concat(Vo(t.statusNovo),", getdate(), ").concat(Lo(t.codigoUsuario),", ").concat(Vo(t.observacao,""),")")));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Dn={grava:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().perfilContabilItem.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:return a={},"idPerfilContabil"in t&&t.idPerfilContabil&&(a.idPerfilContabil=t.idPerfilContabil),"idCfop"in t&&t.idCfop&&(a.idCfop=t.idCfop),o=He().perfilContabilItem,Object.keys(a).length&&(o=o.where(a)),t.and&&(o=o.filter(function(e){for(var a in t.and)if(e[a]!==t.and[a])return!1;return!0})),e.next=21,o.toArray();case 21:if(e.t2=e.sent,e.t2){e.next=24;break}e.t2=[];case 24:return e.abrupt("return",e.t2);case 25:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},En=Dn,Tn={verificarPermissao:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){var i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ge.objeto.filter(function(e){return e.nomeObjeto===o}).first();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:if(i=e.t0,!i.menuDesenvolvimento||Zn.usuario.logado.desenvolvedor&&Zn.usuario.logado.desenvolvedor()){e.next=8;break}return e.abrupt("return",!1);case 8:return e.next=10,Ge.usuarioPermissaoSistema.filter(function(e){return e.idUsuario===t&&e.idClienteSistema===a}).toArray();case 10:return r=e.sent,s=r.map(function(e){return e.id}),n=r.map(function(e){return e.idGrupo}),e.next=15,Ge.usuarioPermissao.filter(function(e){return s.includes(e.idUsuarioPermissaoSistema)&&e.idObjeto===i.id&&!!e.permitir}).toArray();case 15:return c=e.sent,e.next=18,Ge.grupoPermissao.filter(function(e){return n.includes(e.idGrupo)&&e.idObjeto===i.id&&!!e.permitir}).toArray();case 18:return l=e.sent,e.abrupt("return",c.length>0||l.length>0);case 20:case"end":return e.stop()}},e)}));return function(t,a,o){return e.apply(this,arguments)}}(),objeto:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=JSON.parse(localStorage.getItem("usuario")),a){e.next=3;break}return e.abrupt("return",!1);case 3:if(o=JSON.parse(localStorage.getItem("clienteSistema")),o.idSistema&&o.idClienteSistema){e.next=6;break}return e.abrupt("return",!1);case 6:if(!a.administrador){e.next=22;break}return e.next=9,Ge.objeto.filter(function(e){return e.nomeObjeto===t}).first();case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0={};case 12:return i=e.t0,e.next=15,Ge.sistemaObjeto.filter(function(e){return e.idObjeto===i.id&&e.idSistema===o.idSistema&&(!e.idClienteGeeks||e.idClienteGeeks===o.idCliente)}).first();case 15:if(e.t1=e.sent,e.t1){e.next=18;break}e.t1={};case 18:if(r=e.t1,r.id){e.next=21;break}return e.abrupt("return",!1);case 21:return e.abrupt("return",!0);case 22:return e.abrupt("return",this.verificarPermissao(a.id,o.idClienteSistema,t));case 23:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),objetoClienteSistema:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=JSON.parse(localStorage.getItem("clienteSistema")),a.idSistema&&a.idClienteSistema){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ge.objeto.filter(function(e){return e.nomeObjeto===t}).first();case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0={};case 8:return o=e.t0,e.next=11,Ge.sistemaObjeto.filter(function(e){return e.idObjeto===o.id&&e.idSistema===a.idSistema&&(!e.idClienteGeeks||e.idClienteGeeks===a.idCliente)}).first();case 11:if(e.t1=e.sent,e.t1){e.next=14;break}e.t1={};case 14:if(i=e.t1,i.id){e.next=17;break}return e.abrupt("return",!1);case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),menu:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w,y,N,k,M,P=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=P.length>0&&void 0!==P[0]&&P[0],a=JSON.parse(localStorage.getItem("usuario")),a){e.next=4;break}return e.abrupt("return",[]);case 4:return o=JSON.parse(localStorage.getItem("clienteSistema")),e.next=7,Ge.sistemaObjeto.filter(function(e){return e.idSistema===o.idSistema&&(!e.idClienteGeeks||e.idClienteGeeks===o.idCliente)}).toArray();case 7:return i=e.sent,r=i.map(function(e){return e.idObjeto}),e.next=11,Ge.objeto.filter(function(e){return!!e.ativo&&!!e.visivelMenu&&!!e.menuDesenvolvimento===t&&r.includes(e.id)}).toArray();case 11:for(s=e.sent,n=s.reduce(function(e,t){return e[t.id]=t,e},{}),c=!0,l=!1,d=void 0,e.prev=16,u=i[Symbol.iterator]();!(c=(m=u.next()).done);c=!0)p=m.value,p.idObjeto&&n[p.idObjeto]&&(p.objeto=n[p.idObjeto]);e.next=24;break;case 20:e.prev=20,e.t0=e["catch"](16),l=!0,d=e.t0;case 24:e.prev=24,e.prev=25,c||null==u.return||u.return();case 27:if(e.prev=27,!l){e.next=30;break}throw d;case 30:return e.finish(27);case 31:return e.finish(24);case 32:if(v=i.filter(function(e){return!!e.objeto&&!(!e.rota&&!e.objeto.rota)}).sort(function(e,t){return(e.ordem||99999)-(t.ordem||99999)}).map(function(e){var t=null;try{t=JSON.parse(e.rota||e.objeto.rota||"{}")}catch(t){console.error("JSON.parse error na rota do menu objeto:",e.objeto.nomeObjeto,"\n",String(t))}return{id:e.id,idObjeto:e.idObjeto,idPai:e.idPai,nomeObjeto:e.objeto.nomeObjeto,descricao:e.objeto.descricao,icone:e.objeto.icone,rota:t}}),h=!!a.administrador&&(1===a.grupoInterno||2===a.grupoInterno&&[37,23,42,40,52,53,57,58,63,68].includes(o.codigoSistema)),h){e.next=52;break}return e.next=37,Ge.usuarioPermissaoSistema.filter(function(e){return e.idUsuario===a.id&&e.idClienteSistema===o.idClienteSistema}).toArray();case 37:return f=e.sent,C=f.map(function(e){return e.id}),b=f.map(function(e){return e.idGrupo}),e.next=42,Ge.grupo.filter(function(e){return e.idClienteSistema===o.idClienteSistema&&b.includes(e.id)}).toArray();case 42:return g=e.sent,x=g.map(function(e){return e.id}),e.next=46,Ge.grupoPermissao.filter(function(e){return x.includes(e.idGrupo)&&!!e.permitir}).toArray();case 46:return _=e.sent,e.next=49,Ge.usuarioPermissao.filter(function(e){return C.includes(e.idUsuarioPermissaoSistema)&&!!e.permitir}).toArray();case 49:q=e.sent,S=la()(_.map(function(e){return e.idObjeto})).concat(la()(q.map(function(e){return e.idObjeto}))),v=v.filter(function(e){return S.includes(e.idObjeto)});case 52:for(I=v.reduce(function(e,t){return e[t.idObjeto]=t,e},{}),F=!0,w=!1,y=void 0,e.prev=56,N=v[Symbol.iterator]();!(F=(k=N.next()).done);F=!0)M=k.value,M.idPai&&I[M.idPai]&&(I[M.idPai].filhos||(I[M.idPai].filhos=[]),I[M.idPai].filhos.push(M));e.next=64;break;case 60:e.prev=60,e.t1=e["catch"](56),w=!0,y=e.t1;case 64:e.prev=64,e.prev=65,F||null==N.return||N.return();case 67:if(e.prev=67,!w){e.next=70;break}throw y;case 70:return e.finish(67);case 71:return e.finish(64);case 72:return e.abrupt("return",v.filter(function(e){return!e.idPai}));case 73:case"end":return e.stop()}},e,null,[[16,20,24,32],[25,,27,31],[56,60,64,72],[65,,67,71]])}));return function(){return e.apply(this,arguments)}}(),telaInicial:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={name:"AtendimentoVenda"},a=null,o=JSON.parse(localStorage.getItem("usuario")),i=JSON.parse(localStorage.getItem("clienteSistema")),e.next=6,Ge.usuarioPermissaoSistema.filter(function(e){return e.idUsuario===o.id&&e.idClienteSistema===i.idClienteSistema}).first();case 6:if(r=e.sent,r&&(a=r.codigoObjetoInicialMobile||r.codigoObjetoInicial),a){e.next=13;break}return e.next=11,Ge.sistema.get(i.idSistema);case 11:s=e.sent,s&&(a=s.codigoObjetoInicialMobile||s.codigoObjetoInicial);case 13:if(!a){e.next=18;break}return e.next=16,Ge.objeto.filter(function(e){return e.codigoObjeto===Number(a)}).first();case 16:if(n=e.sent,n&&n.rota)try{t=JSON.parse(n.rota)}catch(e){console.error("Erro no JSON.parse da rota do objeto\n",e.toString())}case 18:return e.abrupt("return",t);case 19:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},An=(a("c7c6"),{foto:"",fotoOriginal:"",medidas:{},calcularDistancias:function(){var e=An.medidas,t=Math.hypot(Math.abs(e.olhoDireito.superior.left-e.olhoEsquerdo.superior.left),Math.abs(e.olhoDireito.superior.top-e.olhoEsquerdo.superior.top))/e.tamanhoArmacao;e.fator=t,e.tamanhoArmacaoPx=e.tamanhoArmacao*t,e.dip.total=Math.hypot(Math.abs(e.olhoDireito.centroOlho.left-e.olhoEsquerdo.centroOlho.left),Math.abs(e.olhoDireito.centroOlho.top-e.olhoEsquerdo.centroOlho.top))/t,e.dip.od.altura=(e.olhoDireito.inferior.top-e.olhoDireito.centroOlho.top)/t,e.dip.oe.altura=(e.olhoEsquerdo.inferior.top-e.olhoEsquerdo.centroOlho.top)/t,e.dnp.od=(e.tamanhoArmacaoPx/2-(e.olhoDireito.centroOlho.left-e.olhoDireito.superior.left))/t,e.dnp.oe=(e.tamanhoArmacaoPx/2-(e.olhoEsquerdo.superior.left-e.olhoEsquerdo.centroOlho.left))/t,e.ponte=(e.olhoEsquerdo.inferior.left-e.olhoDireito.inferior.left)/t,e.bifocalOlhoEsquerdo=e.olhoEsquerdo.bifocalAltura/t,e.bifocalOlhoDireito=e.olhoDireito.bifocalAltura/t,e.diagonal.distanciapx=Math.hypot(Math.abs(e.diagonal.p2.left-e.diagonal.p1.left),Math.abs(e.diagonal.p1.top-e.diagonal.p2.top)),e.diagonal.distancia=e.diagonal.distanciapx/t,e.alturaArmacaoPx=(e.olhoDireito.inferior.top-e.olhoDireito.superior.top+(e.olhoEsquerdo.inferior.top-e.olhoEsquerdo.superior.top))/2,e.alturaArmacao=e.alturaArmacaoPx/t},gravar:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=aa(t),Object.keys(t.original||{}).length){e.next=8;break}return e.next=4,He().json.put(t.atual);case 4:return e.next=6,so("adicionar","json",t.atual.id,t.atual);case 6:e.next=14;break;case 8:if(a=ga(t.original,t.atual),!Object.keys(a).length){e.next=14;break}return e.next=12,He().json.update(t.atual.id,a);case 12:return e.next=14,so("atualizar","json",t.atual.id,a);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),limpar:function(){this.foto="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC",this.fotoOriginal="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC",this.medidas={tamanhoArmacao:100,tamanhoArmacaoPx:0,alturaArmacao:0,alturaArmacaoPx:0,olhoDireito:{superior:{left:257,top:462},centroOlho:{left:421,top:549},inferior:{left:540,top:699},bifocalAltura:0},olhoEsquerdo:{superior:{left:950,top:463},centroOlho:{left:784,top:549},inferior:{left:665,top:699},bifocalAltura:0},dip:{total:0,od:{altura:0},oe:{altura:0}},dnp:{od:0,oe:0},ponte:0,bifocal:!1,bifocalOlhoEsquerdo:0,bifocalOlhoDireito:0,fator:0,diagonal:{p1:{left:0,top:0},p2:{left:0,top:0},distancia:0,distanciapx:0}}}});An.limpar();var On=An,$n={id:"",idEmpresa:"",paciente:{id:"",nome:""},medico:{id:"",nome:""},data:null,validade:null,observacoes:"",prescricao:{dioptria:{od:{longe:{cilindrico:0,dnp:0,eixo:0,esferico:0,id:"",operacao:"",status:""},medio:{cilindrico:0,eixo:0,adicao:0,dnp:0,esferico:0,id:"",operacao:"",status:""},perto:{adicao:0,cilindrico:0,dnp:0,eixo:0,esferico:0,id:"",operacao:"",status:""}},oe:{longe:{cilindrico:0,dnp:0,eixo:0,esferico:0,id:"",operacao:"",status:""},medio:{cilindrico:0,eixo:0,adicao:0,dnp:0,esferico:0,id:"",operacao:"",status:""},perto:{adicao:0,cilindrico:0,dnp:0,eixo:0,esferico:0,id:"",operacao:"",status:""}}},prisma:{od:{base:"",valor:0},oe:{base:"",valor:0}}}},Rn={vazio:$n,grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(t.dadosNovos={documentoItem:[]},t.dadosNovos.documento={id:t.id,idEmpresa:t.idEmpresa,dataHoraEmissao:t.data,dataHoraFinalizado:t.validade,observacao:t.observacoes,tipo:"Prescrição",idContato:t.paciente.id,descricaoContato:t.paciente.nome},t.dadosNovos.documentoContato={id:t.medico.idDocumentoContato,idContato:t.medico.id,idDocumento:t.id,descricao:"Medico"},a=t.prescricao||{},o=[],o.push(((a.dioptria||{}).od||{}).longe||{}),o.push(((a.dioptria||{}).od||{}).medio||{}),o.push(((a.dioptria||{}).od||{}).perto||{}),o.push(((a.dioptria||{}).oe||{}).longe||{}),o.push(((a.dioptria||{}).oe||{}).medio||{}),o.push(((a.dioptria||{}).oe||{}).perto||{}),i=o.find(function(e){return"Longe"===e.status&&"Olho Direito"===e.operacao}),r=o.find(function(e){return"Longe"===e.status&&"Olho Esquerdo"===e.operacao}),s=!!(i.cilindrico||i.dnp||i.eixo||i.esferico||r.cilindrico||r.dnp||r.eixo||r.esferico),n=o.find(function(e){return"Medio"===e.status&&"Olho Direito"===e.operacao}),c=o.find(function(e){return"Medio"===e.status&&"Olho Esquerdo"===e.operacao}),l=!!(n.cilindrico||n.dnp||n.eixo||n.esferico||n.adicao||c.cilindrico||c.dnp||c.eixo||c.esferico||c.adicao),d=o.find(function(e){return"Perto"===e.status&&"Olho Direito"===e.operacao}),u=o.find(function(e){return"Perto"===e.status&&"Olho Esquerdo"===e.operacao}),m=!!(d.cilindrico||d.dnp||d.eixo||d.esferico||u.cilindrico||u.dnp||u.eixo||u.esferico),s||(i.base="",r.base="",i.prisma=0,r.prisma=0),l||(n.base="",c.base="",n.prisma=0,c.prisma=0,n.cilindrico=0,c.cilindrico=0,n.eixo=0,c.eixo=0),m||(d.base="",u.base="",d.prisma=0,u.prisma=0,d.cilindrico=0,u.cilindrico=0,d.eixo=0,u.eixo=0),s&&l&&(n.cilindrico=i.cilindrico,c.cilindrico=r.cilindrico,n.eixo=i.eixo,c.eixo=r.eixo),s&&m&&(d.cilindrico=i.cilindrico,u.cilindrico=r.cilindrico,d.eixo=i.eixo,u.eixo=r.eixo),s&&(i.prisma=a.prisma.od.valor,i.base=a.prisma.od.base,r.prisma=a.prisma.oe.valor,r.base=a.prisma.oe.base),l&&(n.prisma=a.prisma.od.valor,n.base=a.prisma.od.base,c.prisma=a.prisma.oe.valor,c.base=a.prisma.oe.base),m&&(d.prisma=a.prisma.od.valor,d.base=a.prisma.od.base,u.prisma=a.prisma.oe.valor,u.base=a.prisma.oe.base),p=0;p<o.length;p++)v=o[p],h={},h.id=v.id,h.idDocumento=t.id,h.tipoItem="Prescrição",h.operacao=v.operacao,h.status=v.status,h.di=v.dnp,h.adicao=v.adicao,h.esferico=v.esferico,h.cilindrico=v.cilindrico,h.eixo=v.eixo,h.prisma=v.prisma,h.base=v.base,t.dadosNovos.documentoItem.push(h);return f=aa(t),f.dadosOriginais||(f.dadosOriginais={}),f.dadosOriginais.documentoContato=f.dadosOriginais.documentoContato?[f.dadosOriginais.documentoContato]:[],f.dadosOriginais.documentoItem=f.dadosOriginais.documentoItem?f.dadosOriginais.documentoItem:[],f.dadosOriginais.documento=f.dadosOriginais.documento?f.dadosOriginais.documento:{},f.dadosNovos.documentoContato=f.dadosNovos.documentoContato?[f.dadosNovos.documentoContato]:[],e.next=37,Ya("documentoContato",f.dadosOriginais.documentoContato,f.dadosNovos.documentoContato);case 37:return e.next=39,Ya("documentoItem",f.dadosOriginais.documentoItem,f.dadosNovos.documentoItem);case 39:if(Object.keys(f.dadosOriginais.documento||{}).length){e.next=46;break}return e.next=42,He().documento.put(f.dadosNovos.documento);case 42:return e.next=44,so("adicionar","documento",f.dadosNovos.documento.id,f.dadosNovos.documento);case 44:e.next=52;break;case 46:if(C=ga(f.dadosOriginais.documento,f.dadosNovos.documento),!Object.keys(C).length){e.next=52;break}return e.next=50,He().documento.update(f.dadosNovos.documento.id,C);case 50:return e.next=52,so("atualizar","documento",f.dadosNovos.documento.id,C);case 52:return e.abrupt("return",t);case 53:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),exclui:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h,f;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He().documento.get(t);case 2:return a=e.sent,e.next=5,He().documentoContato.where("idDocumento").equals(a.id).toArray();case 5:o=e.sent,i=!0,r=!1,s=void 0,e.prev=9,n=o[Symbol.iterator]();case 11:if(i=(c=n.next()).done){e.next=20;break}return l=c.value,e.next=15,He().documentoContato.delete(l.id);case 15:return e.next=17,so("remover","documentoContato",l.id);case 17:i=!0,e.next=11;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e["catch"](9),r=!0,s=e.t0;case 26:e.prev=26,e.prev=27,i||null==n.return||n.return();case 29:if(e.prev=29,!r){e.next=32;break}throw s;case 32:return e.finish(29);case 33:return e.finish(26);case 34:return e.next=36,He().documentoItem.where("idDocumento").equals(a.id).toArray();case 36:d=e.sent,u=!0,m=!1,p=void 0,e.prev=40,v=d[Symbol.iterator]();case 42:if(u=(h=v.next()).done){e.next=51;break}return f=h.value,e.next=46,He().documentoItem.delete(f.id);case 46:return e.next=48,so("remover","documentoItem",f.id);case 48:u=!0,e.next=42;break;case 51:e.next=57;break;case 53:e.prev=53,e.t1=e["catch"](40),m=!0,p=e.t1;case 57:e.prev=57,e.prev=58,u||null==v.return||v.return();case 60:if(e.prev=60,!m){e.next=63;break}throw p;case 63:return e.finish(60);case 64:return e.finish(57);case 65:return e.next=67,He().documento.delete(a.id);case 67:return e.next=69,so("remover","documento",a.id);case 69:case"end":return e.stop()}},e,null,[[9,22,26,34],[27,,29,33],[40,53,57,65],[58,,60,64]])}));return function(t){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h,f;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.id,o={id:a,idEmpresa:"",paciente:{id:Zn.contato.selecionado.id,nome:Zn.contato.selecionado.nome},medico:{id:"",nome:"",idDocumentoContato:hi()},data:"",validade:"",observacoes:"",dadosOriginais:{}},i={},r={},s={},n={},c={},l={},e.next=10,He().documento.get(a);case 10:if(e.t0=e.sent,e.t0){e.next=13;break}e.t0={};case 13:if(d=e.t0,o.dadosOriginais={documento:d},!d.id){e.next=45;break}return o.idEmpresa=d.idEmpresa,o.data=d.dataHoraEmissao,o.validade=d.dataHoraFinalizado,o.observacoes=d.observacao,o.paciente={id:d.idContato||"",nome:d.descricaoContato||""},e.next=23,He().documentoContato.where("idDocumento").equals(o.id).filter(function(e){return"Medico"===e.descricao}).first();case 23:if(e.t1=e.sent,e.t1){e.next=26;break}e.t1={};case 26:return u=e.t1,o.dadosOriginais.documentoContato=u,e.next=30,He().contato.get(u.idContato||"");case 30:if(e.t2=e.sent,e.t2){e.next=33;break}e.t2={};case 33:return m=e.t2,o.medico={idDocumentoContato:u.id||hi(),id:m.id||"",nome:m.nome||""},e.next=37,He().documentoItem.where("idDocumento").equals(o.id).filter(function(e){return"Prescrição"===e.tipoItem}).toArray();case 37:o.prescricao=e.sent,o.dadosOriginais.documentoItem=o.prescricao||[],i=o.prescricao.filter(function(e){return"Olho Direito"===e.operacao&&"Longe"===e.status})[0]||{},r=o.prescricao.filter(function(e){return"Olho Direito"===e.operacao&&"Medio"===e.status})[0]||{},s=o.prescricao.filter(function(e){return"Olho Direito"===e.operacao&&"Perto"===e.status})[0]||{},n=o.prescricao.filter(function(e){return"Olho Esquerdo"===e.operacao&&"Longe"===e.status})[0]||{},c=o.prescricao.filter(function(e){return"Olho Esquerdo"===e.operacao&&"Medio"===e.status})[0]||{},l=o.prescricao.filter(function(e){return"Olho Esquerdo"===e.operacao&&"Perto"===e.status})[0]||{};case 45:return p=i.prisma||r.prisma||s.prisma||0,v=i.base||r.base||s.base||"",h=n.prisma||c.prisma||l.prisma||0,f=n.base||c.base||l.base||"",o.prescricao={dioptria:{od:{longe:{cilindrico:i.cilindrico||0,dnp:i.di||0,eixo:i.eixo||0,esferico:i.esferico||0,id:i.id||hi(),operacao:"Olho Direito",status:"Longe"},medio:{cilindrico:r.cilindrico||0,eixo:r.eixo||0,adicao:r.adicao||0,dnp:r.di||0,esferico:r.esferico||0,id:r.id||hi(),operacao:"Olho Direito",status:"Medio"},perto:{adicao:s.adicao||0,cilindrico:s.cilindrico||0,dnp:s.di||0,eixo:s.eixo||0,esferico:s.esferico||0,id:s.id||hi(),operacao:"Olho Direito",status:"Perto"}},oe:{longe:{cilindrico:n.cilindrico||0,dnp:n.di||0,eixo:n.eixo||0,esferico:n.esferico||0,id:n.id||hi(),operacao:"Olho Esquerdo",status:"Longe"},medio:{cilindrico:c.cilindrico||0,eixo:c.eixo||0,adicao:c.adicao||0,dnp:c.di||0,esferico:c.esferico||0,id:c.id||hi(),operacao:"Olho Esquerdo",status:"Medio"},perto:{adicao:l.adicao||0,cilindrico:l.cilindrico||0,dnp:l.di||0,eixo:l.eixo||0,esferico:l.esferico||0,id:l.id||hi(),operacao:"Olho Esquerdo",status:"Perto"}}},prisma:{od:{base:v,valor:p},oe:{base:f,valor:h}}},e.abrupt("return",o);case 51:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leReceitas:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=[],e.next=3,He().documento.where({tipo:"Prescrição"}).toArray();case 3:o=e.sent,i=at()({idContato:"",idsPaciente:[],idsMedico:[],validade:""},t),r=(new Date).setHours(0,0,0,0),s=!0,n=!1,c=void 0,e.prev=9,l=o[Symbol.iterator]();case 11:if(s=(d=l.next()).done){e.next=33;break}if(u=d.value,"Prescrição"===u.tipo){e.next=15;break}return e.abrupt("continue",30);case 15:if(!i.idContato){e.next=18;break}if(i.idContato===u.idContato){e.next=18;break}return e.abrupt("continue",30);case 18:if(!i.idsPaciente.length){e.next=21;break}if(i.idsPaciente.includes(u.idContato)){e.next=21;break}return e.abrupt("continue",30);case 21:if("aVencer"!==i.validade){e.next=25;break}if(m=new Date(u.validade).setHours(0,0,0,0),!(m<r)){e.next=25;break}return e.abrupt("continue",30);case 25:if("vencido"!==i.validade){e.next=29;break}if(p=new Date(u.validade).setHours(0,0,0,0),!(p>=r)){e.next=29;break}return e.abrupt("continue",30);case 29:a.push(u);case 30:s=!0,e.next=11;break;case 33:e.next=39;break;case 35:e.prev=35,e.t0=e["catch"](9),n=!0,c=e.t0;case 39:e.prev=39,e.prev=40,s||null==l.return||l.return();case 42:if(e.prev=42,!n){e.next=45;break}throw c;case 45:return e.finish(42);case 46:return e.finish(39);case 47:return e.abrupt("return",a);case 48:case"end":return e.stop()}},e,null,[[9,35,39,47],[40,,42,46]])}));return function(t){return e.apply(this,arguments)}}()},jn=Rn,zn={baixaConteudoOnline:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",jo("select nome, arquivo from SpedArquivo where id=".concat(Vo(t))));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leOnline:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",jo("select id, nome, situacao, dataHoraSolicitacao, cnpj, codigoEmpresa, dataInicio, dataFim, dataInventario from SpedArquivo order by dataHoraSolicitacao desc"));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},Bn=a("72fe"),Ln=a.n(Bn),Vn={adicionarAjuste:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="mutation estoqueAdicionarAjuste (\n        $bancoDeDados: String\n        $token: String \n        $codigoEmpresa: Int\n        $codigoItem: Int\n        $qtdeMomento: Float\n        $custoMomento: Float\n        $qtdeDesejada: Float\n        $custoDesejado: Float\n        $lote: String\n        $planoContaEstoque: Int\n        $planoContaMovimento: Int\n        $data: String\n      ) {\n        estoqueAdicionarAjuste (\n          bancoDeDados: $bancoDeDados\n          token: $token\n          codigoEmpresa: $codigoEmpresa\n          codigoItem: $codigoItem\n          qtdeMomento: $qtdeMomento\n          custoMomento: $custoMomento\n          qtdeDesejada: $qtdeDesejada\n          custoDesejado: $custoDesejado\n          lote: $lote\n          planoContaEstoque: $planoContaEstoque\n          planoContaMovimento: $planoContaMovimento\n          data: $data\n        ) {\n          sucesso\n          mensagem\n          codigo\n        }\n      }",e.abrupt("return",ya(a,t));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),consultarKardex:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Ta({kardex:{funcao:"267A2ED1-6529-451D-8567-7015470E9CD6",idItem:t,codigoEmpresa:a}}));case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},Un={consultar:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o="query receita($token: String, $bancoDeDados: String, $codigoReceita: Int) {\n      receita(bancoDeDados: $bancoDeDados, token: $token, codigoReceita: $codigoReceita) {\n        dataHoraEmissao\n        dataHoraFinalizado\n        observacao\n        tipo\n        descricaoContato\n        medico {\n          nome\n          apelido\n          numeroDocumentoNacional\n          tipoDocumentoNacional\n          numeroDocumentoEstadual\n          numeroDocumentoMunicipal\n          dataAbertura\n          site\n          email\n          sexo\n          segmento\n          imagem\n        }\n        paciente {\n          nome\n          apelido\n          numeroDocumentoNacional\n          tipoDocumentoNacional\n          numeroDocumentoEstadual\n          numeroDocumentoMunicipal\n          site\n          email\n          sexo\n          segmento\n          imagem\n        }\n        receitaItens {\n          tipoItem\n          operacao\n          status\n          di\n          esferico\n          cilindrico\n          eixo\n          adicao\n          prisma\n          base\n        }\n      }\n    }",e.abrupt("return",ya(o,{bancoDeDados:a,codigoReceita:Number(t)}));case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},Hn={consultar:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="query usuario($token: String, $bancoDeDados: String, $id: ID) {\n      usuario(bancoDeDados: $bancoDeDados, token: $token, id: $id) {\n        nome\n        apelido\n        numeroDocumentoNacional\n        imagem\n      }\n    }",e.abrupt("return",ya(a,{id:t,bancoDeDados:"GeeksPlat15A"}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Qn={estoque:Vn,receita:Un,usuario:Hn},Gn={id:"",apelido:"",nome:"",imagem:"",numeroDocumentoNacional:"",administrador:!1,codigoUsuario:"",desenvolvedor:function(){return["21913066835","41009405802","74700928620","26088910801","01859441599","22591100888","21397498803","27379313800","33209680841"].includes(this.numeroDocumentoNacional.replace(/\.|-/g,""))}},Jn={vazio:Gn,grava:function(){},le:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},a={},!("id"in t&&t.id)){e.next=6;break}return e.next=5,He().contato.where({idUsuario:t.id}).first();case 5:a=e.sent;case 6:if(a){e.next=20;break}return e.prev=7,e.next=10,Qn.usuario.consultar(t.id);case 10:if(e.t0=e.sent.data.usuario,e.t0){e.next=13;break}e.t0={};case 13:a=e.t0,e.next=20;break;case 16:e.prev=16,e.t1=e["catch"](7),console.error(e.t1),a=null;case 20:return e.abrupt("return",a||{});case 21:case"end":return e.stop()}},e,null,[[7,16]])}));return function(){return e.apply(this,arguments)}}(),leOnline:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",jo("SELECT id, codigoUsuario, Nome as nome, Nome as apelido, NumeroDocumentoNacional as numeroDocumentoNacional, Img as imagem\n       FROM Usuario WHERE id = ".concat(Vo(t,"")),"GeeksPlat15A"));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),carregaDados:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("carregaDados",Zn.cache.get("bancoDeDados")),e.next=3,Zi.empresaUsuarioPermissao.inicializarPermissao();case 3:Zn.contatoBusca.inicializar(),Zn.itemBusca.inicializar(),Zn.configuracoes.inicializa(),fo();case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),inicializaLogado:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(Jn.logado.id){e.next=7;break}return ei.log("usuario","inicializaLogado()"),t=JSON.parse(localStorage.getItem("usuario")),e.next=5,Ge.login.get({cpf:t.cpf});case 5:t=e.sent,Jn.logado=at()({},Gn,t);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),autentica:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.cpf,o=t.senha,ei.log("usuario","autentica()",a),i=Ln()(o).toString(),navigator.onLine){e.next=5;break}throw new Error("Usuário não encontrado. Conecte-se à Internet.");case 5:return s="mutation login($cpf: String!, $senha: String!) {\n        login(cpf: $cpf, senha: $senha) {\n          sucesso {\n            sucesso\n            mensagem\n            codigo\n          }\n          token\n          usuario {\n            id\n            codigoUsuario\n            idContato\n            codigoContato\n            idGrupo\n            codigoGrupo\n            nome\n            numeroDocumentoNacional\n            numeroDocumentoEstadual\n            img\n            administrador\n            grupoInterno\n          }\n          sistemas {\n            idUsuario\n            codigoUsuario\n            idSistema\n            codigoSistema\n            idClienteSistema\n            codigoClienteSistema\n            idCliente\n            codigoCliente\n            sistema\n            versao\n            urlServidor\n            bancoDeDados\n            cliente\n            padrao\n            administrador\n            grupoInterno\n          }\n        }\n      }",e.next=8,ya(s,{cpf:a,senha:o},"plataforma",!1);case 8:if(n=e.sent,n&&n.data&&n.data.login&&n.data.login.sucesso){e.next=11;break}throw new Error("Não foi possível autenticar.");case 11:if(c=n.data.login,c.sucesso.sucesso){e.next=14;break}throw new Error(c.sucesso.mensagem);case 14:return ei.log("usuario","login graphql ok",c.usuario.nome),r=at()({},c.usuario,{token:c.token,cpf:a,senha:i,sistemas:c.sistemas}),e.next=18,Ge.login.put(r);case 18:return l=r.sistemas,delete r.sistemas,localStorage.setItem("usuario",JSON.stringify(r)),Jn.logado=at()({},Gn,r,{sistemas:l}),ei.log("usuario","salva usuario indexeddb, localStore e db.logado ok"),e.abrupt("return",r);case 24:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),desconecta:function(){localStorage.removeItem("usuario"),localStorage.removeItem("contatoSelecionado"),localStorage.removeItem("itemSelecionado"),Jn.logado=Yt(Gn)},logado:at()({},Gn)},Xn=Jn,Yn={grava:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=aa(t),a=(t.customs||[]).map(function(e){return e.documento||{}}),o=(t.customsOriginal||[]).map(function(e){return e.documento||{}}),i=(t.customs||[]).reduce(function(e,t){return la()(e).concat(la()(t.documentoItens||[]))},[]),r=(t.customsOriginal||[]).reduce(function(e,t){return la()(e).concat(la()(t.documentoItens||[]))},[]),s=(t.customs||[]).reduce(function(e,t){return la()(e).concat(la()(t.arquivo||[]))},[]),n=(t.customsOriginal||[]).reduce(function(e,t){return la()(e).concat(la()(t.arquivo||[]))},[]),e.next=9,Ya("documento",o,a);case 9:return e.next=11,Ya("documentoItem",r,i);case 11:return e.next=13,Ya("arquivo",n,s);case 13:return a=(t.oss||[]).map(function(e){return e.documento||{}}),o=(t.ossOriginal||[]).map(function(e){return e.documento||{}}),i=(t.oss||[]).reduce(function(e,t){return la()(e).concat(la()(t.documentoItens||[]))},[]),r=(t.ossOriginal||[]).reduce(function(e,t){return la()(e).concat(la()(t.documentoItens||[]))},[]),s=(t.oss||[]).reduce(function(e,t){return la()(e).concat(la()(t.arquivo||[]))},[]),n=(t.ossOriginal||[]).reduce(function(e,t){return la()(e).concat(la()(t.arquivo||[]))},[]),e.next=21,Ya("documento",o,a);case 21:return e.next=23,Ya("documentoItem",r,i);case 23:return e.next=25,Ya("arquivo",n,s);case 25:for(c=[],l=[],d={},u=!0,m=!1,p=void 0,e.prev=31,v=(t.envelopesOriginal||[])[Symbol.iterator]();!(u=(h=v.next()).done);u=!0)f=h.value,c=la()(c).concat(la()(f.documentoContato||[])),delete f.documentoContato;e.next=39;break;case 35:e.prev=35,e.t0=e["catch"](31),m=!0,p=e.t0;case 39:e.prev=39,e.prev=40,u||null==v.return||v.return();case 42:if(e.prev=42,!m){e.next=45;break}throw p;case 45:return e.finish(42);case 46:return e.finish(39);case 47:C=!0,b=!1,g=void 0,e.prev=50,x=(t.envelopes||[])[Symbol.iterator]();case 52:if(C=(_=x.next()).done){e.next=85;break}if(q=_.value,l=la()(l).concat(la()(q.documentoContato||[])),d=q.armacao||{},(q.pupilometro||{}).atual&&(Zn.pupilometro.gravar({original:(q.pupilometro||{}).original,atual:(q.pupilometro||{}).atual}),console.log("pupilometro: ",q.pupilometro)),!d.id){e.next=79;break}return e.next=60,He().item.get(d.id);case 60:if(e.t1=e.sent,e.t1){e.next=63;break}e.t1={};case 63:if(S=e.t1,!S.id){e.next=79;break}if(I={},S.tamanho!==d.tamanho&&(I.tamanho=d.tamanho),S.altura!==d.altura&&(I.altura=d.altura),S.largura!==d.largura&&(I.largura=d.largura),S.diagonal!==d.diagonal&&(I.diagonal=d.diagonal||0),S.ponte!==d.ponte&&(I.ponte=d.ponte),S.armacaoMaterial!==d.armacaoMaterial&&(I.armacaoMaterial=d.armacaoMaterial),S.tipoMontagem!==d.tipoMontagem&&(I.tipoMontagem=d.tipoMontagem),!Object.keys(I).length){e.next=79;break}return e.next=76,He().item.update(d.id,I);case 76:return e.next=78,so("atualizar","item",d.id,I);case 78:Zn.itemBusca.reindexar(S.id);case 79:delete q.documentoContato,delete q.armacao,delete q.pupilometro;case 82:C=!0,e.next=52;break;case 85:e.next=91;break;case 87:e.prev=87,e.t2=e["catch"](50),b=!0,g=e.t2;case 91:e.prev=91,e.prev=92,C||null==x.return||x.return();case 94:if(e.prev=94,!b){e.next=97;break}throw g;case 97:return e.finish(94);case 98:return e.finish(91);case 99:return e.next=101,Ya("documento",t.envelopesOriginal||[],t.envelopes||[]);case 101:return e.next=103,Ya("documentoContato",c||[],l||[]);case 103:return e.next=105,Ya("documentoItem",t.carrinhoOriginal||[],t.carrinho||[]);case 105:return e.next=107,Ya("documentoCondicaoPagamento",t.condicaoPagamentoOriginal||[],t.condicaoPagamento||[]);case 107:return e.next=109,Ya("documentoEndereco",t.documentoEnderecoOriginal||[],t.documentoEndereco||[]);case 109:return e.next=111,Ya("documentoContato",t.documentoContatoOriginal||[],t.documentoContato||[]);case 111:return e.next=113,Ya("documentoStatus",[],t.documentoStatus||[]);case 113:return e.next=115,Ya("arquivo",t.arquivoOriginal||[],t.arquivo||[]);case 115:if(Object.keys(t.vendaOriginal||{}).length){e.next=122;break}return e.next=118,He().documento.put(t.venda);case 118:return e.next=120,so("adicionar","documento",t.venda.id,t.venda);case 120:e.next=128;break;case 122:if(F=ga(t.vendaOriginal,t.venda),!Object.keys(F).length){e.next=128;break}return e.next=126,He().documento.update(t.venda.id,F);case 126:return e.next=128,so("atualizar","documento",t.venda.id,F);case 128:case"end":return e.stop()}},e,null,[[31,35,39,47],[40,,42,46],[50,87,91,99],[92,,94,98]])}));return function(t){return e.apply(this,arguments)}}(),leNew:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||{},!("id"in t)){e.next=13;break}if(!t.id){e.next=11;break}return e.next=5,He().documento.get(t.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1={};case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:return a={tipo:"Venda"},"idContato"in t&&t.idContato&&(a.idContato=t.idContato),"idFatura"in t&&t.idFatura&&(a.idFatura=t.idFatura),"idDocumentoAdicional"in t&&t.idDocumentoAdicional&&(a.idDocumentoAdicional=t.idDocumentoAdicional),"idContatoVendedor"in t&&t.idContatoVendedor&&(a.idContatoVendedor=t.idContatoVendedor),"idContatoDigitador"in t&&t.idContatoDigitador&&(a.idContatoDigitador=t.idContatoDigitador),"idEmpresa"in t&&t.idEmpresa&&(a.idEmpresa=t.idEmpresa),"documentoId"in t&&t.documentoId&&(a.documentoId=t.documentoId),"status"in t&&t.status&&(a.status=t.status),o=He().documento.where(a),t.or&&(o=o.filter(function(e){for(var a in t.or)if(e[a]===t.or[a])return!0;return!1})),t.and&&(o=o.filter(function(e){for(var a in t.and)if(e[a]!==t.and[a])return!1;return!0})),e.next=27,o.toArray();case 27:if(e.t2=e.sent,e.t2){e.next=30;break}e.t2=[];case 30:return e.abrupt("return",e.t2);case 31:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),le:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.filtros,o=t.colunas,a=a||{},i=[],"offline"!==localStorage.getItem("rede")){e.next=22;break}if(!a.id){e.next=11;break}return e.next=7,He().documento.get(a.id);case 7:if(e.t0=e.sent,e.t0){e.next=10;break}e.t0={};case 10:return e.abrupt("return",e.t0);case 11:return delete a.id,e.next=14,He().documento.toArray();case 14:if(e.t1=e.sent,e.t1){e.next=17;break}e.t1=[];case 17:i=e.t1,i=i.filter(function(e){return"Venda"===e.tipo}),i=i.filter(function(e){var t=!0;for(var o in a)if(e[o]!==a[o]){t=!1;break}return t}),e.next=29;break;case 22:for(s in r="",a)r+="".concat(s," = '").concat(a[s],"' and ");return r+=" tipo = 'Venda'",n="select top 30 ".concat(o.split(" ").join(", ")," from documento where ").concat(r),e.next=28,jo(n,"x_req48473u");case 28:i=e.sent;case 29:return e.abrupt("return",i);case 30:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leCompleto:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w,y,N,k,M;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a={},!t){e.next=10;break}return e.next=4,He().documento.get(t);case 4:if(e.t1=e.sent,e.t1){e.next=7;break}e.t1={};case 7:e.t0=e.t1,e.next=11;break;case 10:e.t0={};case 11:if(a.venda=e.t0,!a.venda.id){e.next=21;break}return e.next=15,He().documentoItem.where({idDocumento:a.venda.id}).sortBy("dataHoraEmissao");case 15:if(e.t3=e.sent,e.t3){e.next=18;break}e.t3=[];case 18:e.t2=e.t3,e.next=22;break;case 21:e.t2=[];case 22:if(o=e.t2,a.carrinho=o.filter(function(e){return!e.idDocumentoAdicional}),!a.venda.id){e.next=33;break}return e.next=27,He().documentoCondicaoPagamento.where({idDocumento:a.venda.id}).toArray();case 27:if(e.t5=e.sent,e.t5){e.next=30;break}e.t5=[];case 30:e.t4=e.t5,e.next=34;break;case 33:e.t4=[];case 34:if(a.condicaoPagamento=e.t4,!a.venda.id){e.next=44;break}return e.next=38,He().documentoEndereco.where({idDocumento:a.venda.id}).toArray();case 38:if(e.t7=e.sent,e.t7){e.next=41;break}e.t7=[];case 41:e.t6=e.t7,e.next=45;break;case 44:e.t6=[];case 45:if(a.documentoEndereco=e.t6,!a.venda.id){e.next=55;break}return e.next=49,He().documento.where({tipo:"Envelope",documentoId:a.venda.id}).toArray();case 49:if(e.t9=e.sent,e.t9){e.next=52;break}e.t9=[];case 52:e.t8=e.t9,e.next=56;break;case 55:e.t8=[];case 56:i=e.t8,a.itensEnvelopes=[],a.envelopes={},r=!0,s=!1,n=void 0,e.prev=62,c=i[Symbol.iterator]();case 64:if(r=(l=c.next()).done){e.next=82;break}if(d=l.value,a.envelopes[d.id]=d,!d.id){e.next=76;break}return e.next=70,He().documentoItem.where({idDocumentoAdicional:d.id}).toArray();case 70:if(e.t11=e.sent,e.t11){e.next=73;break}e.t11=[];case 73:e.t10=e.t11,e.next=77;break;case 76:e.t10=[];case 77:u=e.t10,a.itensEnvelopes=la()(a.itensEnvelopes).concat(la()(u));case 79:r=!0,e.next=64;break;case 82:e.next=88;break;case 84:e.prev=84,e.t12=e["catch"](62),s=!0,n=e.t12;case 88:e.prev=88,e.prev=89,r||null==c.return||c.return();case 91:if(e.prev=91,!s){e.next=94;break}throw n;case 94:return e.finish(91);case 95:return e.finish(88);case 96:return e.next=98,Zn.documento.le({tipo:"Custom",documentoId:a.venda.id});case 98:e.t13=function(e){return{documento:at()({},e)}},a.customs=e.sent.map(e.t13),m=!0,p=!1,v=void 0,e.prev=103,h=a.customs[Symbol.iterator]();case 105:if(m=(f=h.next()).done){e.next=116;break}return C=f.value,e.next=109,Zn.documentoItem.le({idDocumentoAdicional:C.documento.id});case 109:return C.documentoItens=e.sent,e.next=112,Zn.arquivo.le({idTabelaMaster:C.documento.id});case 112:C.arquivo=e.sent;case 113:m=!0,e.next=105;break;case 116:e.next=122;break;case 118:e.prev=118,e.t14=e["catch"](103),p=!0,v=e.t14;case 122:e.prev=122,e.prev=123,m||null==h.return||h.return();case 125:if(e.prev=125,!p){e.next=128;break}throw v;case 128:return e.finish(125);case 129:return e.finish(122);case 130:return e.next=132,Zn.documento.le({tipo:"Ordem de Serviço",documentoId:a.venda.id});case 132:e.t15=function(e){return{documento:at()({},e)}},a.oss=e.sent.map(e.t15),b=!0,g=!1,x=void 0,e.prev=137,_=a.oss[Symbol.iterator]();case 139:if(b=(q=_.next()).done){e.next=150;break}return S=q.value,e.next=143,Zn.documentoItem.le({idDocumentoAdicional:S.documento.id});case 143:return S.documentoItens=e.sent,e.next=146,Zn.arquivo.le({idTabelaMaster:S.documento.id});case 146:S.arquivo=e.sent;case 147:b=!0,e.next=139;break;case 150:e.next=156;break;case 152:e.prev=152,e.t16=e["catch"](137),g=!0,x=e.t16;case 156:e.prev=156,e.prev=157,b||null==_.return||_.return();case 159:if(e.prev=159,!g){e.next=162;break}throw x;case 162:return e.finish(159);case 163:return e.finish(156);case 164:a.item={},I=!0,F=!1,w=void 0,e.prev=168,y=a.carrinho[Symbol.iterator]();case 170:if(I=(N=y.next()).done){e.next=188;break}if(k=N.value,!k.idItem){e.next=181;break}return e.next=175,He().item.get(k.idItem);case 175:if(e.t18=e.sent,e.t18){e.next=178;break}e.t18={};case 178:e.t17=e.t18,e.next=182;break;case 181:e.t17={};case 182:M=e.t17,M=at()({},M,{marca:M.marca||"",referencia:M.referencia||"",imagem:M.imagem||""}),a.item[M.id]=M;case 185:I=!0,e.next=170;break;case 188:e.next=194;break;case 190:e.prev=190,e.t19=e["catch"](168),F=!0,w=e.t19;case 194:e.prev=194,e.prev=195,I||null==y.return||y.return();case 197:if(e.prev=197,!F){e.next=200;break}throw w;case 200:return e.finish(197);case 201:return e.finish(194);case 202:return e.abrupt("return",a);case 203:case"end":return e.stop()}},e,null,[[62,84,88,96],[89,,91,95],[103,118,122,130],[123,,125,129],[137,152,156,164],[157,,159,163],[168,190,194,202],[195,,197,201]])}));return function(t){return e.apply(this,arguments)}}()},Wn=Yn,Zn={arquivo:Xe,banco:We,cache:et,caixa:Ci,caixaConsolidacao:gi,caixaConsolidacao2:_i,cfop:qi,cidade:Si,configuracaoImposto:Ei,configuracoes:Ri,contato:ar,contatoAnotacao:rr,contatoBusca:Sr,contatoCreditoExtrato:Fr,contatoEndereco:yr,contatoTelefone:kr,crm:Pr,custom:Er,dispositivoCliente:Tr,documento:Or,documentoCondicaoPagamento:Rr,documentoContato:Br,documentoEndereco:Vr,documentoFiscalEletronico:Ur,documentoFiscalEletronicoErro:Hr,documentoFiscalEletronicoXml:Qr,documentoItem:Jr,documentoOperacao:Yr,documentoSat:Zr,documentoStatus:es,empresa:ts,envelope:is,equipamento:rs,estoqueSaldoProdutoEmpresa:gs,fatura:_s,financeiroBanco:Ss,financeiroBoleto:Fs,financeiroBoletoTitulo:ys,financeiroMovimentacao:ks,financeiroMovimentacaoN:Ps,financeiroPlanoConta:Es,financeiroRenegociacao:As,financeiroTitulo:$s,formaPagamento:js,item:mn,itemBusca:Fn,itemTabelaPreco:yn,ncm:Nn,nfeIbpt:kn,os:Pn,perfilContabilItem:En,permissao:Tn,pupilometro:On,receita:jn,spedArquivo:zn,usuario:Xn,venda:Wn},Kn={executarEnviar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=Yo("sincEnviar","verificando envio sincronismo erp"),a=0,e.prev=2,Ge.isOpen()){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Ge.sincronismo.toArray();case 7:o=e.sent,i=!0,r=!1,s=void 0,e.prev=11,n=o[Symbol.iterator]();case 13:if(i=(c=n.next()).done){e.next=26;break}return l=c.value,d=l.bancoDeDados,e.t0=a,e.next=19,this.enviarDados(d);case 19:if(e.t1=e.sent,e.t1){e.next=22;break}e.t1=0;case 22:a=e.t0+=e.t1;case 23:i=!0,e.next=13;break;case 26:e.next=32;break;case 28:e.prev=28,e.t2=e["catch"](11),r=!0,s=e.t2;case 32:e.prev=32,e.prev=33,i||null==n.return||n.return();case 35:if(e.prev=35,!r){e.next=38;break}throw s;case 38:return e.finish(35);case 39:return e.finish(32);case 40:return a&&tc.descarregarErp(8),e.abrupt("return",a);case 44:e.prev=44,e.t3=e["catch"](2),console.error("Erro no sincronismo erp enviar\n",e.t3);case 47:return e.prev=47,Wo(t,a),e.finish(47);case 50:return e.abrupt("return",-1);case 51:case"end":return e.stop()}},e,this,[[2,44,47,50],[11,28,32,40],[33,,35,39]])}));return function(){return e.apply(this,arguments)}}(),executarDescarregar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=Yo("sincDescarregar","verificando descarregamento sincronismo erp"),a=0,e.prev=2,Ge.isOpen()){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Ge.sincronismo.toArray();case 7:o=e.sent,i=!0,r=!1,s=void 0,e.prev=11,n=o[Symbol.iterator]();case 13:if(i=(c=n.next()).done){e.next=22;break}return l=c.value,e.t0=a,e.next=18,this.descarregarDados(l);case 18:a=e.t0+=e.sent;case 19:i=!0,e.next=13;break;case 22:e.next=28;break;case 24:e.prev=24,e.t1=e["catch"](11),r=!0,s=e.t1;case 28:e.prev=28,e.prev=29,i||null==n.return||n.return();case 31:if(e.prev=31,!r){e.next=34;break}throw s;case 34:return e.finish(31);case 35:return e.finish(28);case 36:tc.descarregarErp(60),e.next=42;break;case 39:e.prev=39,e.t2=e["catch"](2),console.error("Erro no sincronismo erp descarregar\n",e.t2);case 42:return e.prev=42,Wo(t,a),e.finish(42);case 45:case"end":return e.stop()}},e,this,[[2,39,42,45],[11,24,28,36],[29,,31,35]])}));return function(){return e.apply(this,arguments)}}(),enviarDados:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=He(t),a.isOpen()){e.next=3;break}return e.abrupt("return");case 3:return o=Zn.usuario.logado.token||"",e.next=6,a.sincronismoFila.toArray();case 6:i=e.sent,r="mutation SincronismoEnviar($bancoDeDados: String, $dados: [SincronismoInput], $token: String) {\n      sincronismo(bancoDeDados: $bancoDeDados, dados: $dados, token: $token) {\n        codigo\n        mensagem\n        sucesso\n      }\n    }",s=!0,n=!1,c=void 0,e.prev=11,l=i[Symbol.iterator]();case 13:if(s=(d=l.next()).done){e.next=30;break}return u=d.value,e.next=17,ya(r,{token:o,bancoDeDados:t,dados:{acao:u.acao,chave:u.chave,dataHora:u.dataHora,id:u.id,tabela:u.tabela,valor:JSON.stringify(u.valor),dispositivo:tc.obterIdDispositivo(),idUsuario:u.idUsuario,nomeUsuario:u.nomeUsuario}},"optisoul",!1);case 17:if(m=e.sent,m&&m.data&&m.data.sincronismo){e.next=21;break}return console.error("Erro no sincronismo ".concat(t," graphql enviar.\n"),JSON.stringify(m,0,2)),e.abrupt("break",30);case 21:if(p=m.data.sincronismo,p.sucesso){e.next=25;break}return console.error("Erro no sincronismo ".concat(t," graphql enviar. ").concat(p.mensagem,".")),e.abrupt("break",30);case 25:return e.next=27,a.sincronismoFila.delete(u._ordem);case 27:s=!0,e.next=13;break;case 30:e.next=36;break;case 32:e.prev=32,e.t0=e["catch"](11),n=!0,c=e.t0;case 36:e.prev=36,e.prev=37,s||null==l.return||l.return();case 39:if(e.prev=39,!n){e.next=42;break}throw c;case 42:return e.finish(39);case 43:return e.finish(36);case 44:return i.length&&ei.log("LogSinc","".concat((new Date).toLocaleTimeString("pt-br")," ").concat(t," enviar ").concat(i.length," registro(s)")),e.abrupt("return",i.length);case 46:case"end":return e.stop()}},e,null,[[11,32,36,44],[37,,39,43]])}));return function(t){return e.apply(this,arguments)}}(),descarregarGraphql:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){var i,r,s,n,c,l,d,u,m,p;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i=[],s=!1,n=!1,c=Zn.usuario.logado.token||"",l="query sincronismo($token: String, $bancoDeDados: String, $pagina: String, $dispositivo: String) {\n      ".concat(o,"(token: $token, bancoDeDados: $bancoDeDados, pagina: $pagina, dispositivo: $dispositivo) {\n        pagina\n        quantidadeRealizada\n        quantidadeRestante\n        quantidadeTotal\n        sucesso {\n          sucesso\n          mensagem\n          codigo\n        }\n        dados {\n          tabela\n          valor\n          chave\n          acao\n        }\n      }\n    }"),d=0;case 6:if(!(d<50)){e.next=46;break}u=void 0,m=1;case 9:if(!(m<10)){e.next=25;break}return e.prev=10,e.next=13,ya(l,{token:c,bancoDeDados:t,pagina:a,dispositivo:tc.obterIdDispositivo()},"optisoul",!1);case 13:return u=e.sent,e.abrupt("break",25);case 17:return e.prev=17,e.t0=e["catch"](10),console.error("".concat((new Date).toLocaleTimeString("pt-br")," Erro no descarregar. Nova tentativa: ").concat(m,"\n"),e.t0.toString()),e.next=22,xa(500*m);case 22:m++,e.next=9;break;case 25:if(u&&u.data&&u.data[o]&&u.data[o].sucesso){e.next=29;break}return console.error("Erro no sincronismo ".concat(t," graphql descarregar.\nResposta:"),JSON.stringify(u,0,2)),s=!0,e.abrupt("break",46);case 29:if(r=u.data[o],r.sucesso.sucesso){e.next=34;break}return console.error("Erro no sincronismo ".concat(t," graphql descarregar. ").concat(r.sucesso.mensagem,".")),s=!0,e.abrupt("break",46);case 34:if(r.dados.length){e.next=37;break}return n=!0,e.abrupt("break",46);case 37:a=r.pagina,i.push(r.dados),p=r.quantidadeTotal?100*r.quantidadeRealizada/r.quantidadeTotal:100,p=p<0?0:p>=100?100:p,tc.status.bancos[t]=String(Math.round(p))+" %",t===Zn.cache.get("bancoDeDados")&&(tc.status.percentagemErp=tc.status.bancos[t]);case 43:d++,e.next=6;break;case 46:return r&&r.dados.length&&ei.log("LogSinc","".concat((new Date).toLocaleTimeString("pt-br")," ").concat(t," descarregar ").concat(r.quantidadeRealizada,"/").concat(r.quantidadeTotal)),e.abrupt("return",{listaLista:i,descarregar:r,finalizou:n,erro:s});case 48:case"end":return e.stop()}},e,null,[[10,17]])}));return function(t,a,o){return e.apply(this,arguments)}}(),descarregarDados:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.bancoDeDados,t.status&&"sincronismoInicial"!==t.status){e.next=6;break}o="sincronismoInicial",t.status="sincronismoInicial",e.next=12;break;case 6:if("normal"!==t.status){e.next=10;break}o="sincronismoDescarregar",e.next=12;break;case 10:return console.error("Erro no sincronismo ".concat(a,". Status '").concat(t.status,"' inválido.")),e.abrupt("return");case 12:i=this.descarregarGraphql(a,t.pagina,o);case 13:return e.next=16,i;case 16:if(r=e.sent,s=r.listaLista,n=r.descarregar,c=r.finalizou,l=r.erro,!l){e.next=23;break}return e.abrupt("break",47);case 23:if(n.pagina){e.next=26;break}return console.error("Erro no sincronismo ".concat(a,". Página '").concat(n.pagina,"' inválida. Página anterior: '").concat(t.pagina,"'")),e.abrupt("break",47);case 26:if(c||(i=this.descarregarGraphql(a,n.pagina,o)),"sincronismoInicial"!==t.status){e.next=32;break}return e.next=30,this.popularBancoBulk(t,s);case 30:e.next=34;break;case 32:return e.next=34,this.popularBanco(t,s);case 34:return t.pagina=n.pagina,t.quantidadeRealizada=n.quantidadeRealizada,t.quantidadeRestante=n.quantidadeRestante,t.quantidadeTotal=n.quantidadeTotal,t.percentagem=tc.status.bancos[a]||"",t.status=c?"normal":"sincronismoInicial",e.next=42,Ge.sincronismo.update(a,t);case 42:if(a===Zn.cache.get("bancoDeDados")&&c&&(tc.status.concluidoErp||Zn.usuario.carregaDados(),tc.status.concluidoErp=!0),!c){e.next=45;break}return e.abrupt("break",47);case 45:e.next=13;break;case 47:return tc.status.bancos[a]="100 %",e.abrupt("return",t.quantidadeRealizada);case 49:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),popularBanco:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:o=t.bancoDeDados,i=0,r=0,s=0,n=!0,c=!1,l=void 0,e.prev=7,d=a[Symbol.iterator]();case 9:if(n=(u=d.next()).done){e.next=73;break}m=u.value,p=!0,v=!1,h=void 0,e.prev=14,f=m[Symbol.iterator]();case 16:if(p=(C=f.next()).done){e.next=56;break}if(b=C.value,g=b.tabela,x=b.valor,_=b.chave,q=b.acao,He(o)[g]){e.next=22;break}return console.error("Erro no sincronismo ".concat(o,". Tabela '").concat(g,"' inválida.")),e.abrupt("continue",53);case 22:if(_&&36===_.length){e.next=25;break}return console.error("Erro no sincronismo ".concat(o,". Id '").concat(_,"' inválido.")),e.abrupt("continue",53);case 25:S=void 0;try{S=JSON.parse(x)||{}}catch(e){console.error("Erro no sincronismo ".concat(o,". Falha no parser do Json\n'").concat(x,"'\n'"),e),S={}}if(S.id=_,"adicionar"!==q&&"atualizar"!==q){e.next=44;break}return e.next=31,He(o)[g].get(_);case 31:if(!e.sent){e.next=38;break}return e.next=34,He(o)[g].update(_,S);case 34:ei.log("LogSincD","".concat((new Date).toLocaleTimeString("pt-br")," ").concat(o," update ").concat(g," ").concat(_,"\n"),S),r++,e.next=42;break;case 38:return e.next=40,He(o)[g].put(S);case 40:ei.log("LogSincD","".concat((new Date).toLocaleTimeString("pt-br")," ").concat(o," put ").concat(g," ").concat(_,"\n"),S),i++;case 42:e.next=52;break;case 44:if("remover"!==q){e.next=51;break}return e.next=47,He(o)[g].delete(_);case 47:ei.log("LogSincD","".concat((new Date).toLocaleTimeString("pt-br")," ").concat(o," delete ").concat(g," ").concat(_,"\n"),{id:_}),s++,e.next=52;break;case 51:console.error("Erro no sincronismo ".concat(o,". Operação '").concat(q,"' inválida\n'"));case 52:tc.status.concluidoErp&&("contato"===g&&Zn.contatoBusca.reindexar(_),"item"===g&&Zn.itemBusca.reindexar(_));case 53:p=!0,e.next=16;break;case 56:e.next=62;break;case 58:e.prev=58,e.t0=e["catch"](14),v=!0,h=e.t0;case 62:e.prev=62,e.prev=63,p||null==f.return||f.return();case 65:if(e.prev=65,!v){e.next=68;break}throw h;case 68:return e.finish(65);case 69:return e.finish(62);case 70:n=!0,e.next=9;break;case 73:e.next=79;break;case 75:e.prev=75,e.t1=e["catch"](7),c=!0,l=e.t1;case 79:e.prev=79,e.prev=80,n||null==d.return||d.return();case 82:if(e.prev=82,!c){e.next=85;break}throw l;case 85:return e.finish(82);case 86:return e.finish(79);case 87:i&&ei.log("LogSinc","".concat((new Date).toLocaleTimeString("pt-br")," ").concat(o," descarregar/adicionar ").concat(i," registro(s)")),r&&ei.log("LogSinc","".concat((new Date).toLocaleTimeString("pt-br")," ").concat(o," descarregar/atualizar ").concat(r," registro(s)")),s&&ei.log("LogSinc","".concat((new Date).toLocaleTimeString("pt-br")," ").concat(o," descarregar/remover ").concat(s," registro(s)"));case 90:case"end":return e.stop()}},e,null,[[7,75,79,87],[14,58,62,70],[63,,65,69],[80,,82,86]])}));return function(t,a){return e.apply(this,arguments)}}(),popularBancoBulk:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w,y;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:o=t.bancoDeDados,i={},r=!0,s=!1,n=void 0,e.prev=5,c=a[Symbol.iterator]();case 7:if(r=(l=c.next()).done){e.next=47;break}d=l.value,u=!0,m=!1,p=void 0,e.prev=12,v=d[Symbol.iterator]();case 14:if(u=(h=v.next()).done){e.next=30;break}if(f=h.value,C=f.tabela,b=f.valor,g=f.chave,x=f.acao,He(o)[C]){e.next=20;break}return console.error("Erro no sincronismo ".concat(o,". Tabela '").concat(C,"' inválida.")),e.abrupt("continue",27);case 20:if(g&&36===g.length){e.next=23;break}return console.error("Erro no sincronismo ".concat(o,". Id '").concat(g,"' inválido.")),e.abrupt("continue",27);case 23:_=void 0;try{_=JSON.parse(b)||{}}catch(e){console.error("Erro no sincronismo ".concat(o,". Falha no parser do Json\n'").concat(b,"'\n'"),e),_={}}_.id=g,"adicionar"===x?(i[C]||(i[C]=[]),i[C].push(_)):console.error("Erro no sincronismo ".concat(o,". Operação '").concat(x,"' do sincronismo inicial inválida\n'"));case 27:u=!0,e.next=14;break;case 30:e.next=36;break;case 32:e.prev=32,e.t0=e["catch"](12),m=!0,p=e.t0;case 36:e.prev=36,e.prev=37,u||null==v.return||v.return();case 39:if(e.prev=39,!m){e.next=42;break}throw p;case 42:return e.finish(39);case 43:return e.finish(36);case 44:r=!0,e.next=7;break;case 47:e.next=53;break;case 49:e.prev=49,e.t1=e["catch"](5),s=!0,n=e.t1;case 53:e.prev=53,e.prev=54,r||null==c.return||c.return();case 56:if(e.prev=56,!s){e.next=59;break}throw n;case 59:return e.finish(56);case 60:return e.finish(53);case 61:q=0,e.t2=regeneratorRuntime.keys(i);case 63:if((e.t3=e.t2()).done){e.next=84;break}S=e.t3.value,I=i[S],e.prev=66,F=1e3,w=0;case 69:if(!(w<I.length)){e.next=76;break}return y=I.slice(w,w+F),e.next=73,He(o)[S].bulkPut(y);case 73:w+=F,e.next=69;break;case 76:e.next=81;break;case 78:e.prev=78,e.t4=e["catch"](66),console.error("Erro no sincronismo ".concat(o,". Falha no bulkPut tabela '").concat(S,"'.\n"),e.t4);case 81:q+=I.length,e.next=63;break;case 84:ei.log("LogSinc","".concat((new Date).toLocaleTimeString("pt-br")," ").concat(o," bulkPut ").concat(q," registro(s)"));case 85:case"end":return e.stop()}},e,null,[[5,49,53,61],[12,32,36,44],[37,,39,43],[54,,56,60],[66,78]])}));return function(t,a){return e.apply(this,arguments)}}()},ec={executarDescarregar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=Yo("sincDescarregar","verificando descarregamento sincronismo plataforma"),a=0,e.prev=2,Zn.usuario.logado.token){e.next=5;break}return e.abrupt("return");case 5:if(o=localStorage.getItem("clienteSistemaBaixados"),o){e.next=8;break}return e.abrupt("return");case 8:if(tc.status.concluidoPlat){e.next=14;break}return e.next=11,this.descarregarInicial(o);case 11:a=e.sent,e.next=18;break;case 14:return tc.status.bancos.plataforma="100 %",e.next=17,this.descarregarPeriodico(o);case 17:a=e.sent;case 18:tc.descarregarPlataforma(60),e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](2),console.error("Erro no sincronismo plataforma descarregar\n",e.t0);case 24:return e.prev=24,Wo(t,a),e.finish(24);case 27:case"end":return e.stop()}},e,this,[[2,21,24,27]])}));return function(){return e.apply(this,arguments)}}(),descarregarInicial:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=JSON.parse(t),o=a.map(function(e){return e.idClienteSistema}),i=Zn.cache.getJson("sincronismoPlataforma"),i.pagina){e.next=9;break}return e.next=6,Ta({sincronismoPlataformaIniciarDispositivo:{funcao:"912047D5-73D4-401C-AF27-5C7223586C27",idsClienteSistema:o,idDispositivo:tc.obterIdDispositivo()}});case 6:r=e.sent,i=r.data.sincronismoPlataformaIniciarDispositivo,Zn.cache.setJson("sincronismoPlataforma",i);case 9:s=i.versaoAtual;case 10:if(i.finalizou){e.next=23;break}return e.next=13,Ta({sincronismoPlataformaInicial:{funcao:"0BA0A03C-7896-44C1-8CC6-5D6B55064F40",idsClienteSistema:o,pagina:i.pagina}});case 13:return n=e.sent,c=n.data.sincronismoPlataformaInicial,l=c.pagina,d=c.quantidadeRealizada,u=c.quantidadeTotal,m=c.registrosPagina,p=c.tamanhoPagina,v=c.sequencia,h=c.finalizou,f=c.tempos,C=c.tabelas,e.next=17,this.atualizarIndexdb(C);case 17:tc.status.bancos.plataforma="".concat(Math.floor(100*d/u)," %"),ei.log("LogSinc","".concat((new Date).toLocaleTimeString("pt-br")," plataforma descarregar ").concat(m," registro(s).")),i={versaoAtual:s,pagina:l,quantidadeRealizada:d,quantidadeTotal:u,registrosPagina:m,tamanhoPagina:p,sequencia:v,finalizou:h,dataInicial:(new Date).toLocaleString("pt-br"),tempos:f},Zn.cache.setJson("sincronismoPlataforma",i),e.next=10;break;case 23:return i.finalizou&&(tc.status.bancos.plataforma="100 %",localStorage.setItem("sincronismoPlat","ok"),tc.status.concluidoPlat=!0),e.abrupt("return",i.quantidadeTotal||0);case 25:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),descarregarPeriodico:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=JSON.parse(t),o=a.map(function(e){return e.idClienteSistema}),i=Zn.cache.getJson("sincronismoPlataforma"),i.versaoAtual||(i.versaoAtual=localStorage.getItem("versaoPlataforma")||""),r=i.versaoAtual,e.next=7,Ta({sincronismoPlataformaPeriodico:{funcao:"94C02F51-5B68-4374-A099-35562E8DC419",idsClienteSistema:o,versaoAnterior:r}});case 7:return s=e.sent,n=s.data.sincronismoPlataformaPeriodico,c=n.versaoAtual,l=n.tabelas,d=n.remover,e.next=11,this.atualizarIndexdb(l);case 11:return e.next=13,this.removerIndexdb(d);case 13:return i.versaoAtual=c,i.dataPeriodico=(new Date).toLocaleString("pt-br"),i.sequenciaPeriodico=(i.sequenciaPeriodico||0)+1,i.tamanhoPeriodico=Object.keys(l||{}).length,i.removerPeriodico=Object.keys(d||{}).length,i.totalTamanhoPeriodico=(i.totalTamanhoPeriodico||0)+i.tamanhoPeriodico,i.totalRemoverPeriodico=(i.totalRemoverPeriodico||0)+i.removerPeriodico,Zn.cache.setJson("sincronismoPlataforma",i),e.abrupt("return",i.tamanhoPeriodico+i.removerPeriodico);case 22:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),atualizarIndexdb:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(t);case 1:if((e.t1=e.t0()).done){e.next=22;break}a=e.t1.value,o=t[a],e.prev=4,i=100,r=0;case 7:if(!(r<o.length)){e.next=14;break}return s=o.slice(r,r+i),e.next=11,Ge[a].bulkPut(s);case 11:r+=i,e.next=7;break;case 14:ei.log("LogSinc","".concat((new Date).toLocaleTimeString("pt-br")," plataforma ").concat(a," ").concat(o.length," registro(s).")),e.next=20;break;case 17:e.prev=17,e.t2=e["catch"](4),console.error("Erro no sincronismo plataforma. Falha no bulkPut tabela '".concat(a,"'.\n"),e.t2);case 20:e.next=1;break;case 22:case"end":return e.stop()}},e,null,[[4,17]])}));return function(t){return e.apply(this,arguments)}}(),removerIndexdb:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(t);case 1:if((e.t1=e.t0()).done){e.next=39;break}a=e.t1.value,o=t[a],i=!0,r=!1,s=void 0,e.prev=7,n=o[Symbol.iterator]();case 9:if(i=(c=n.next()).done){e.next=22;break}return l=c.value,e.prev=11,e.next=14,Ge[a].delete(l);case 14:e.next=19;break;case 16:e.prev=16,e.t2=e["catch"](11),console.error("Erro no sincronismo plataforma. Falha no delete tabela '".concat(a,"' id '").concat(l,"'.\n'"),e.t2);case 19:i=!0,e.next=9;break;case 22:e.next=28;break;case 24:e.prev=24,e.t3=e["catch"](7),r=!0,s=e.t3;case 28:e.prev=28,e.prev=29,i||null==n.return||n.return();case 31:if(e.prev=31,!r){e.next=34;break}throw s;case 34:return e.finish(31);case 35:return e.finish(28);case 36:ei.log("LogSinc","".concat((new Date).toLocaleTimeString("pt-br")," plataforma delete ").concat(a," ").concat(o.length," registro(s).")),e.next=1;break;case 39:case"end":return e.stop()}},e,null,[[7,24,28,36],[11,16],[29,,31,35]])}));return function(t){return e.apply(this,arguments)}}()},tc={executando:!1,dispositivo:null,proximoDescarregarErp:new Date,proximoDescarregarPlataforma:new Date,status:{bancos:{plataforma:"0 %"},carregando:!1,carregou:!1,concluidoBancos:{},concluidoErp:!1,concluidoPlat:"ok"===localStorage.getItem("sincronismoPlat"),percentagemErp:"0 %",tamanhoFila:0},sessaoId:hi(),atualizarStatus:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ge.sincronismo.toArray();case 2:for(t=e.sent,a=!0,o=!1,i=void 0,e.prev=6,r=t[Symbol.iterator]();!(a=(s=r.next()).done);a=!0)n=s.value,this.status.concluidoBancos[n.bancoDeDados]="normal"===n.status,this.status.bancos[n.bancoDeDados]=n.percentagem||"";e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](6),o=!0,i=e.t0;case 14:e.prev=14,e.prev=15,a||null==r.return||r.return();case 17:if(e.prev=17,!o){e.next=20;break}throw i;case 20:return e.finish(17);case 21:return e.finish(14);case 22:c=Zn.cache.get("bancoDeDados"),this.status.concluidoErp=this.status.concluidoBancos[c],this.status.percentagemErp=this.status.bancos[c],this.status.carregou=!0;case 26:case"end":return e.stop()}},e,this,[[6,10,14,22],[15,,17,21]])}));return function(){return e.apply(this,arguments)}}(),carregarStatus:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(Ge.isOpen()){e.next=2;break}return e.abrupt("return");case 2:if(this.status.carregando){e.next=10;break}return this.status.carregando=!0,e.next=6,this.atualizarStatus();case 6:if(!this.status.concluidoErp){e.next=10;break}return e.next=9,xa(2e3);case 9:Zn.usuario.carregaDados();case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),executar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(Zn.cache.getJson("clienteSistema")){e.next=2;break}return e.abrupt("return");case 2:if(this.status.carregando){e.next=5;break}return e.next=5,this.carregarStatus();case 5:if(navigator.onLine){e.next=7;break}return e.abrupt("return");case 7:if(!this.executando){e.next=9;break}return e.abrupt("return");case 9:if(e.prev=9,this.executando=!0,!navigator.storage||!navigator.storage.persist){e.next=14;break}return e.next=14,navigator.storage.persist();case 14:if(t=this.sessaoViva().sort(),t[0]===this.sessaoId){e.next=17;break}return e.abrupt("return");case 17:return a=new Date,e.next=20,Kn.executarEnviar();case 20:if(o=e.sent,!(this.proximoDescarregarPlataforma<a)){e.next=25;break}return this.descarregarPlataforma(60),e.next=25,ec.executarDescarregar();case 25:if(!(this.proximoDescarregarErp<a)){e.next=29;break}return this.descarregarErp(60),e.next=29,Kn.executarDescarregar();case 29:0!==o&&tc.atualizarTamanhoFila(),e.next=35;break;case 32:e.prev=32,e.t0=e["catch"](9),console.error("Erro no sincronismo roteador\n",e.t0);case 35:return e.prev=35,this.executando=!1,e.finish(35);case 38:case"end":return e.stop()}},e,this,[[9,32,35,38]])}));return function(){return e.apply(this,arguments)}}(),sessaoViva:function(){var e=JSON.parse(localStorage.getItem("sessoes")||"{}");for(var t in e){var a=new Date-new Date(e[t]);a>3e4&&delete e[t]}var o=[];for(var i in e)o.push(i);return e[this.sessaoId]=new Date,localStorage.setItem("sessoes",JSON.stringify(e)),o},atualizarTamanhoFila:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ge.sincronismo.toArray();case 2:t=e.sent,a=0,o=!0,i=!1,r=void 0,e.prev=7,s=t[Symbol.iterator]();case 9:if(o=(n=s.next()).done){e.next=22;break}return c=n.value,l=c.bancoDeDados,e.t0=a,e.next=15,He(l).sincronismoFila.count();case 15:if(e.t1=e.sent,e.t1){e.next=18;break}e.t1=0;case 18:a=e.t0+=e.t1;case 19:o=!0,e.next=9;break;case 22:e.next=28;break;case 24:e.prev=24,e.t2=e["catch"](7),i=!0,r=e.t2;case 28:e.prev=28,e.prev=29,o||null==s.return||s.return();case 31:if(e.prev=31,!i){e.next=34;break}throw r;case 34:return e.finish(31);case 35:return e.finish(28);case 36:return e.t3=a,e.next=39,Ge.sincronismoFila.count();case 39:if(e.t4=e.sent,e.t4){e.next=42;break}e.t4=0;case 42:a=e.t3+=e.t4,tc.status.tamanhoFila=a,ei.log("sincronismoRoteador","tamanhoFila:",a);case 45:case"end":return e.stop()}},e,null,[[7,24,28,36],[29,,31,35]])}));return function(){return e.apply(this,arguments)}}(),descarregarErp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Date;this.proximoDescarregarErp=t,this.proximoDescarregarErp.setSeconds(t.getSeconds()+e)},descarregarPlataforma:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Date;this.proximoDescarregarPlataforma=t,this.proximoDescarregarPlataforma.setSeconds(t.getSeconds()+e)},obterIdDispositivo:function(){return this.dispositivo||(this.dispositivo=localStorage.getItem("dispositivoCliente")||""),this.dispositivo}};tc.atualizarTamanhoFila();var ac=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-modal",{attrs:{"content-css":{minWidth:"50vw"}},model:{value:e.modalAlerta.visivel,callback:function(t){e.$set(e.modalAlerta,"visivel",t)},expression:"modalAlerta.visivel"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header",color:"negative"},slot:"header"},[a("q-toolbar-title",[e._v(e._s(e.modalAlerta.titulo))]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),a("div",{staticClass:"layout-padding"},e._l(e.modalAlerta.erros,function(t,o){return a("div",{key:o,staticClass:"row q-mb-sm"},[e._v("\n          "+e._s(t)+"\n        ")])})),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{color:"faded",flat:"",label:"Fechar"}})],1)])],1)],1)],1)],1)},oc=[];ac._withStripped=!0;var ic={data:function(){return{modalAlerta:{visivel:!1,titulo:"Erro",erros:[]}}},methods:{mostrarModalAlerta:function(e){this.modalAlerta.visivel=!0,this.modalAlerta.titulo=e.titulo||"Erro",this.modalAlerta.erros=e.erros||[]}},mounted:function(){qa.$off("mostrarModalAlerta"),qa.$on("mostrarModalAlerta",this.mostrarModalAlerta)}},rc=ic,sc=(a("a0b9"),a("2877")),nc=Object(sc["a"])(rc,ac,oc,!1,null,null,null);nc.options.__file="ModalAlerta.vue";var cc=nc.exports,lc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{"content-css":{minWidth:"50vw"}},model:{value:e.modal.visivel,callback:function(t){e.$set(e.modal,"visivel",t)},expression:"modal.visivel"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header",color:"primary"},slot:"header"},[a("q-toolbar-title",[e._v(e._s(e.modal.titulo))]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),a("div",{staticClass:"layout-padding"},e._l(e.modal.mensagens,function(t,o){return a("div",{key:o,staticClass:"row q-mb-sm"},[e._v("\n        "+e._s(t)+"\n      ")])})),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{color:"faded",flat:"",label:"OK"}})],1)])],1)],1)],1)},dc=[];lc._withStripped=!0;var uc={data:function(){return{modal:{visivel:!1,titulo:"Sucesso",mensagens:[]}}},methods:{mostrarModalSucesso:function(e){this.modal.visivel=!0,this.modal.titulo=e.titulo||"Sucesso",this.modal.mensagens=e.mensagens||[]}},mounted:function(){qa.$off("mostrarModalSucesso"),qa.$on("mostrarModalSucesso",this.mostrarModalSucesso)}},mc=uc,pc=(a("2f2b"),Object(sc["a"])(mc,lc,dc,!1,null,null,null));pc.options.__file="ModalSucesso.vue";var vc=pc.exports,hc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Atendimento Layout"},[a("barra-topo",{attrs:{restricao:""}}),a("q-page-container",[a("q-page",{staticClass:"u-container"},[a("q-alert",{staticClass:"text-center",attrs:{color:"negative"}},[e._v("\n        "+e._s(e.msg)+"\n      ")])],1)],1)],1)},fc=[];hc._withStripped=!0;var Cc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"BarraTopo"},[a("q-layout-header",{attrs:{reveal:""}},[a("q-toolbar",{attrs:{inverted:""}},[a("q-btn",{attrs:{dense:"",flat:"",icon:"menu",round:""},on:{click:e.alternarMenu}}),a("q-toolbar-title",[a("img",{staticStyle:{height:"30px"},attrs:{alt:"B15",src:e.sistemaPai?"statics/"+e.sistemaPai+".svg":""}})]),e.restricao?e._e():a("q-btn",{staticClass:"BarraTopo-botaoTopo",attrs:{flat:"",icon:"shopping_cart",label:"Atendimento 4.0",size:"lg",to:{name:"Atendimento",params:{id:e.dbContato.selecionado.id||"0"}}}}),!e.restricao&&e.permissoes.cockpit?a("q-btn",{staticClass:"BarraTopo-botaoTopo",attrs:{flat:"",icon:"insert_chart",label:"Cockpit",size:"lg",to:{name:"Cockpit"}}}):e._e(),a("div",{staticClass:"BarraTopo-separador hideonmobile"}),!e.restricao&&e.dbUsuario.logado.desenvolvedor&&e.dbUsuario.logado.desenvolvedor()?a("q-btn",{staticClass:"hideonmobile",attrs:{color:e.chatBotaoCor,dense:"",flat:"",icon:"forum",round:"",size:"md"},on:{click:e.alternarChat}},[a("q-tooltip",[e._v("Chat")])],1):e._e(),a("div",{staticClass:"hideonmobile"},[a("avatar",{staticClass:"q-ml-md",attrs:{imagem:e.dbUsuario.logado.img,rotulo:e.dbUsuario.logado.nome,tamanho:"40"},nativeOn:{click:function(t){return e.sincronizar(t)}}}),a("q-popover",{staticClass:"BarraTopo-usuarioPopover"},[a("q-list",{attrs:{"no-border":""}},[a("q-item",[a("q-item-side",[a("avatar",{attrs:{imagem:e.dbUsuario.logado.img,rotulo:e.dbUsuario.logado.nome,tamanho:"38"}})],1),a("q-item-main",{attrs:{label:e.dbUsuario.logado.nome}})],1)],1),a("q-list",{staticClass:"q-mx-md",attrs:{dense:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"storage"}}),a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v(e._s(e.clienteSistema.bancoDeDados))]),a("q-item-tile",{staticClass:"q-caption",attrs:{sublabel:""}},[e._v(e._s(e.clienteSistema.sistema))])],1),a("q-item-side",{attrs:{right:""}},[e._v(e._s(e.statusBanco(e.clienteSistema.bancoDeDados)))]),a("q-tooltip",[e._v("Base")]),a("q-popover",[a("q-list",{attrs:{separator:"",link:""}},[e._l(e.clienteSistemaBaixados,function(t){return a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],key:t.idClienteSistema,nativeOn:{click:function(a){e.selecionaBancoDados(t)}}},[a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v(e._s(t.bancoDeDados))]),a("q-item-tile",{staticClass:"q-caption",attrs:{sublabel:""}},[e._v(e._s(t.sistema))])],1),a("q-item-side",{attrs:{right:""}},[e._v(e._s(e.statusBanco(t.bancoDeDados)))])],1)}),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{to:{name:"AutenticacaoBancos",params:{operacao:"selecionar"}}}},[a("q-item-side",{attrs:{icon:"settings"}}),a("q-item-main",{attrs:{label:"Selecionar bases"}})],1)],2)],1)],1),a("q-item",{nativeOn:{click:function(t){return e.mostrarTabelas(t)}}},[a("q-item-side",{attrs:{icon:"data_usage"}}),a("q-item-main",{attrs:{label:"0 gb"}}),a("q-tooltip",[e._v("Espaço")])],1),a("q-item",[a("q-item-side",{attrs:{icon:"swap_calls"}}),a("q-item-main",{attrs:{label:"Fila enviar: "+String(e.sincronismoStatus.tamanhoFila)}}),a("q-tooltip",[e._v("Fila de sincrinismo para enviar")])],1)],1),a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{link:"","no-border":"",separator:""}},[a("q-item",{nativeOn:{click:function(t){return e.abrirZap(t)}}},[a("q-item-side",{attrs:{icon:"contact_support"}}),a("q-item-main",{attrs:{label:"Ajuda"}})],1),e.restricao?e._e():a("q-item",{attrs:{to:{name:"Configuracoes"}}},[a("q-item-side",{attrs:{icon:"settings"}}),a("q-item-main",{attrs:{label:"Configurações"}})],1),a("q-item",{nativeOn:{click:function(t){return e.restaurar(t)}}},[a("q-item-side",{attrs:{icon:"warning"}}),a("q-item-main",{attrs:{label:"Restaurar e sair"}})],1),a("q-item",{nativeOn:{click:function(t){return e.abrirModalSenha(t)}}},[a("q-item-side",{attrs:{icon:"mdi-lock-open-outline"}}),a("q-item-main",{attrs:{label:"Alterar senha"}})],1),e.dbUsuario.logado.administrador&&[1,2].includes(e.dbUsuario.logado.grupoInterno)?a("q-item",{attrs:{to:{name:"CriarBanco"}}},[a("q-item-side",{attrs:{icon:"mdi-database-plus"}}),a("q-item-main",{attrs:{label:"Criar banco"}})],1):e._e(),a("q-item",{nativeOn:{click:function(t){return e.desconectar(t)}}},[a("q-item-side",{attrs:{icon:"exit_to_app"}}),a("q-item-main",{attrs:{label:"Sair"}})],1)],1)],1)],1)],1)],1),a("q-layout-drawer",{attrs:{overlay:"",side:"left"},model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("q-list",{staticClass:"bg-cover desktop-hide",attrs:{dark:"","no-border":""}},[a("q-item",[a("q-item-side",[a("avatar",{attrs:{imagem:e.dbUsuario.logado.img,rotulo:e.dbUsuario.logado.nome,tamanho:"38"}})],1),a("q-item-main",{attrs:{label:e.dbUsuario.logado.nome}})],1)],1),a("div",{staticClass:"q-mt-md q-mx-md"},[a("q-search",{attrs:{"inverted-light":"",color:"none",placeholder:"Buscar no menu",debounce:300},model:{value:e.termoBusca,callback:function(t){e.termoBusca="string"===typeof t?t.trim():t},expression:"termoBusca"}})],1),a("menu-gerador",{attrs:{termoBusca:e.termoBuscaInLowerCase}}),e.dbUsuario.logado.desenvolvedor&&e.dbUsuario.logado.desenvolvedor()||2===e.dbUsuario.logado.grupoInterno?[a("q-list",{attrs:{link:"","no-border":"",separator:""}},[e.dbUsuario.logado.desenvolvedor&&e.dbUsuario.logado.desenvolvedor()?a("q-item",{attrs:{to:{name:"Qg"}}},[a("q-item-side",{attrs:{icon:"gps_fixed"}}),a("q-item-main",{attrs:{label:"QG"}})],1):e._e(),e.dbUsuario.logado.desenvolvedor&&e.dbUsuario.logado.desenvolvedor()||2===e.dbUsuario.logado.grupoInterno?a("q-item",{attrs:{to:{name:"Financeiro"}}},[a("q-item-side",{attrs:{icon:"attach_money"}}),a("q-item-main",{attrs:{label:"Financeiro"}})],1):e._e(),e.dbUsuario.logado.desenvolvedor&&e.dbUsuario.logado.desenvolvedor()?[a("q-item",{attrs:{to:{name:"Desenvolvedor"}}},[a("q-item-side",{attrs:{icon:"build"}}),a("q-item-main",{attrs:{label:"Desenvolvedor"}})],1)]:e._e()],2)]:e._e(),a("div",{staticClass:"desktop-hide"},[a("q-list",{staticClass:"q-mx-md",attrs:{dense:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"storage"}}),a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v(e._s(e.clienteSistema.bancoDeDados))]),a("q-item-tile",{staticClass:"q-caption",attrs:{sublabel:""}},[e._v(e._s(e.clienteSistema.sistema))])],1),a("q-item-side",{attrs:{right:""}},[e._v(e._s(e.statusBanco(e.clienteSistema.bancoDeDados))+"\n          ")]),a("q-tooltip",[e._v("Base")]),a("q-popover",[a("q-list",{attrs:{separator:"",link:""}},[e._l(e.clienteSistemaBaixados,function(t){return a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],key:t.idClienteSistema,nativeOn:{click:function(a){e.selecionaBancoDados(t)}}},[a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v(e._s(t.bancoDeDados))]),a("q-item-tile",{staticClass:"q-caption",attrs:{sublabel:""}},[e._v(e._s(t.sistema))])],1),a("q-item-side",{attrs:{right:""}},[e._v(e._s(e.statusBanco(t.bancoDeDados)))])],1)}),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{to:{name:"AutenticacaoBancos",params:{operacao:"selecionar"}}}},[a("q-item-side",{attrs:{icon:"settings"}}),a("q-item-main",{attrs:{label:"Selecionar bases"}})],1)],2)],1)],1),a("q-item",[a("q-item-side",{attrs:{icon:"swap_calls"}}),a("q-item-main",{attrs:{label:"Fila enviar: "+String(e.sincronismoStatus.tamanhoFila)}}),a("q-tooltip",[e._v("Fila de sincrinismo para enviar")])],1)],1),a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{link:"","no-border":"",separator:""}},[a("q-item",{nativeOn:{click:function(t){return e.abrirZap(t)}}},[a("q-item-side",{attrs:{icon:"contact_support"}}),a("q-item-main",{attrs:{label:"Ajuda"}})],1),a("q-item",{attrs:{to:{name:"Configuracoes"}}},[a("q-item-side",{attrs:{icon:"settings"}}),a("q-item-main",{attrs:{label:"Configurações"}})],1),a("q-item",{nativeOn:{click:function(t){return e.restaurar(t)}}},[a("q-item-side",{attrs:{icon:"warning"}}),a("q-item-main",{attrs:{label:"Restaurar e sair"}})],1),a("q-item",{nativeOn:{click:function(t){return e.desconectar(t)}}},[a("q-item-side",{attrs:{icon:"exit_to_app"}}),a("q-item-main",{attrs:{label:"Sair"}})],1)],1)],1),a("q-list",{attrs:{"no-border":""}},[a("q-item",{staticClass:"justify-between q-caption row"},[a("small",[e._v("©2020 Geeks, B15")]),"optisoul"===e.sistemaPai?a("small",[e._v("OptiSoul - Optidados")]):e._e(),a("small",[e._v(e._s(e.versao))])])],1)],2),a("q-layout-drawer",{attrs:{overlay:"",side:"right"},model:{value:e.chat,callback:function(t){e.chat=t},expression:"chat"}},[a("chat",{on:{saiu:e.fecharChat}})],1),a("prompt-codigo-barras",{on:{escanear:e.escanearQrCode},model:{value:e.modalQrCode,callback:function(t){e.modalQrCode=t},expression:"modalQrCode"}}),a("usuario-alterar-senha",{model:{value:e.modalAlterarSenha,callback:function(t){e.modalAlterarSenha=t},expression:"modalAlterarSenha"}})],1)},bc=[];Cc._withStripped=!0;var gc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.classes,style:e.estilos},[e.imagem?a("img",{staticClass:"Avatar-imagem",attrs:{alt:e.rotulo,src:e.imagem}}):e.letras?a("span",[e._v(e._s(e.letras))]):a("q-icon",{attrs:{name:"person"}})],1)},xc=[];gc._withStripped=!0;var _c=a("fb82"),qc={computed:{classes:function(){return{Avatar:!0,"Avatar--quadrado":!this.redondo}},cor:function(){return this.letras?this.cores[this.rotulo.length%this.cores.length]:this.cores[(new Date).getDate()%this.cores.length]},estilos:function(){var e={height:"".concat(this.tamanho,"px"),width:this.redondo?"".concat(this.tamanho,"px"):"100%"};return this.imagem||(e.backgroundColor=this.cor,e.color=this.fonteCor,e.fontSize="".concat(this.tamanho/2.5,"px")),e},fonteCor:function(){return _c["a"].lighten(this.cor,this.brilho)},letras:function(){var e=this.rotulo;if("string"!==typeof e||!e||e.length<2)return!1;var t=e.split(" ");return t.length>1?t[0].charAt(0)+t[t.length-1].charAt(0):e.slice(0,2)}},data:function(){return{cores:["#f44336","#ff4081","#9c27B0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffc107","#ff9800","#ff5722","#795548","#9e9e9e","#607D8b"]}},props:{brilho:{type:[Number,String],default:60},imagem:{type:String},redondo:{type:Boolean,default:!0},rotulo:{type:[Boolean,String]},tamanho:{type:[Number,String],default:50}}},Sc=qc,Ic=(a("5000"),Object(sc["a"])(Sc,gc,xc,!1,null,null,null));Ic.options.__file="Avatar.vue";var Fc=Ic.exports,wc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"full-height"},[e.estaConversando?[a("q-toolbar",[a("avatar",{attrs:{rotulo:"Mariana Joana",tamanho:"40"}}),a("q-toolbar-title",[e._v("\n        Mariana Joana\n        "),a("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("Vendedora")])]),a("q-btn",{attrs:{dense:"",flat:"",icon:"arrow_back",round:""},on:{click:e.fecharConversa}})],1),a("chat-mensagens",{staticClass:"bg-light",staticStyle:{height:"calc(100% - 50px)"}})]:[a("q-toolbar",[a("div",{staticClass:"gutter-xs items-center justify-between row"},[a("div",{staticClass:"col"},[a("q-search",{attrs:{color:"none",inverted:"",value:""}})],1),a("div",{staticClass:"col-auto"},[a("q-btn",{attrs:{dense:"",flat:"",icon:"close",round:""},on:{click:e.aoSair}})],1)])]),a("q-list",{attrs:{link:"",separator:""}},e._l(0,function(t){return a("q-item",{key:t,nativeOn:{click:function(t){return e.abrirConversa(t)}}},[a("q-item-side",[a("avatar",{attrs:{rotulo:"Mariana Joana",tamanho:"38"}})],1),a("q-item-main",{attrs:{label:"Mariana Joana"}},[a("small",{staticClass:"text-faded"},[e._v("Vendedora")])]),a("q-item-side",{attrs:{right:""}},[a("q-chip",{attrs:{color:"red",dense:"",square:""}},[e._v("2")])],1)],1)}))]],2)},yc=[];wc._withStripped=!0;var Nc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ChatMensagens"},[a("div",{ref:"mensagens",staticClass:"ChatMensagens-mensagens q-pa-sm"},e._l(e.dialogos,function(e,t){return a("q-chat-message",{key:t,attrs:{name:e.usuarioApelido,sent:e.enviado,stamp:e.rotulo,text:e.mensagens}},[a("avatar",{attrs:{slot:"avatar",imagem:e.usuarioImagem,rotulo:e.usuarioApelido,tamanho:"50"},slot:"avatar"})],1)})),a("div",{staticClass:"ChatMensagens-enviar bg-white q-px-md q-py-md"},[a("q-input",{attrs:{after:e.mensagemBotoesDireita,before:e.mensagemBotoesEsquerda,autofocus:"",disabled:e.estaEnviando,loading:e.estaEnviando,placeholder:"Mensagem",value:""},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.enviarMensagem(t):null}},model:{value:e.mensagem,callback:function(t){e.mensagem="string"===typeof t?t.trim():t},expression:"mensagem"}})],1)])},kc=[];Nc._withStripped=!0;var Mc={components:{Avatar:Fc},computed:{mensagemBotoesDireita:function(){return[{icon:"send",handler:this.enviarMensagem}]},mensagemBotoesEsquerda:function(){return[{icon:"refresh",handler:this.carregarAnotacoes}]}},data:function(){return{dialogos:[],estaEnviando:!1,mensagem:""}},methods:{carregarAnotacoes:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.contatoAnotacao.leAnotacoesDeUmContato(this.$route.params.id);case 2:this.dialogos=e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),enviarMensagem:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.estaEnviando){e.next=3;break}return e.abrupt("return");case 3:if(this.mensagem){e.next=5;break}return e.abrupt("return");case 5:return this.estaEnviando=!0,e.next=8,Zn.contatoAnotacao.grava({id:hi(),descricao:this.mensagem,idContato:this.$route.params.id,idContatoUsuario:Zn.usuario.logado.id,tipo:"Atendimento 4.0",dataHora:na()});case 8:return e.next=10,this.carregarAnotacoes();case 10:this.mensagem="",this.$nextTick(this.rolarMensagens),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),this.$q.notifyError("Ocorreu um erro ao enviar mensagem",e.t0);case 17:return e.prev=17,this.estaEnviando=!1,e.finish(17);case 20:case"end":return e.stop()}},e,this,[[0,14,17,20]])}));return function(){return e.apply(this,arguments)}}(),rolarMensagens:function(){var e=this.$refs.mensagens;e.scrollTop=e.scrollHeight}},watch:{"$route.params.id":function(){this.carregarAnotacoes()}},created:function(){this.carregarAnotacoes()},mounted:function(){this.rolarMensagens()}},Pc=Mc,Dc=(a("a08f"),Object(sc["a"])(Pc,Nc,kc,!1,null,null,null));Dc.options.__file="ChatMensagens.vue";var Ec=Dc.exports,Tc={components:{Avatar:Fc,ChatMensagens:Ec},data:function(){return{estaConversando:!1}},methods:{abrirConversa:function(){this.estaConversando=!0},aoSair:function(){this.$emit("saiu")},fecharConversa:function(){this.estaConversando=!1}}},Ac=Tc,Oc=Object(sc["a"])(Ac,wc,yc,!1,null,null,null);Oc.options.__file="Chat.vue";var $c=Oc.exports,Rc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.menuPrincipal.length?[a("q-list",{attrs:{link:"","no-border":"",separator:""}},[a("q-list-header",[e._v("Menu Principal")]),a("menu-gerador-item",{attrs:{itens:e.menuPrincipal}})],1),e.menuDesenvolvimento.length?a("q-list",{attrs:{link:"","no-border":"",separator:""}},[a("q-list-header",[e._v("Menu Desenvolvimento")]),a("menu-gerador-item",{attrs:{itens:e.menuDesenvolvimento}})],1):e._e()]:e.carregando?a("div",[e._v("\n    Carregando...\n  ")]):a("div",[e._v("\n    Ops! Parece que você não possui permissões de acesso.\n  ")])],2)},jc=[];Rc._withStripped=!0;var zc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._l(e.itens.filter(function(e){return e.mostrar}),function(t,o){return[e._.get(t,"filhos.length")?a("q-collapsible",{key:o,attrs:{disabled:!e.sincronismoStatus.concluidoErp&&"Plataforma15"!==t.rota.name,icon:t.icone||"label",label:t.descricao,separator:"",to:t.rota},nativeOn:{click:function(a){a.stopPropagation(),e.eventoClick(t)}}},[a("menu-gerador-item",{attrs:{itens:t.filhos}})],1):a("q-item",{key:o,attrs:{disabled:!e.sincronismoStatus.concluidoErp&&"Plataforma15"!==t.rota.name,separator:"",to:t.rota},nativeOn:{click:function(a){a.stopPropagation(),e.eventoClick(t)}}},[a("q-item-side",{attrs:{icon:t.icone||"label"}}),a("q-item-main",{attrs:{label:t.descricao}})],1)]})],2)},Bc=[];zc._withStripped=!0;var Lc={name:"MenuGeradorItem",computed:{sincronismoStatus:function(){return tc.status}},methods:{eventoClick:function(e){"Plataforma15"===this._.get(e,"rota.name")&&this._.set(e,"rota.params.id",this.$utils.uuid())}},props:{itens:{default:function(){return[]},type:Array}}},Vc=Lc,Uc=Object(sc["a"])(Vc,zc,Bc,!1,null,null,null);Uc.options.__file="MenuGeradorItem.vue";var Hc=Uc.exports,Qc={components:{MenuGeradorItem:Hc},data:function(){return{carregando:!1,menuPrincipal:[],menuDesenvolvimento:[]}},methods:{marcar:function(e){var t=this;e.forEach(function(e){(e.filhos||[]).length&&t.marcar(e.filhos),-1===(e.descricao||"").toLowerCase().search(t.termoBusca)?e.mostrar=!!(e.filhos||[]).find(function(e){return e.mostrar}):e.mostrar=!0})},gerarIds:function(e){var t=this;e.forEach(function(e){(e.filhos||[]).length&&t.gerarIds(e.filhos),"Plataforma15"===t._.get(e,"rota.name")&&t._.set(e,"rota.params.id",t.$utils.uuid())})}},props:{termoBusca:{type:String}},watch:{termoBusca:function(){this.marcar(this.menuPrincipal),this.marcar(this.menuDesenvolvimento)}},created:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.carregando=!0,e.next=4,Zn.permissao.menu();case 4:return t=e.sent,this.marcar(t),this.gerarIds(t),this.menuPrincipal=t.filter(function(e){return!i.$q.platform.is.mobile||(!/\/plataforma15\//.test((e.rota||{}).path)||void 0)}),e.next=10,Zn.usuario.inicializaLogado();case 10:if(a=!!Zn.usuario.logado.desenvolvedor&&Zn.usuario.logado.desenvolvedor(),!a){e.next=17;break}return e.next=14,Zn.permissao.menu(!0);case 14:e.t0=e.sent,e.next=18;break;case 17:e.t0=[];case 18:o=e.t0,this.marcar(o),this.gerarIds(o),this.menuDesenvolvimento=o,e.next=27;break;case 24:e.prev=24,e.t1=e["catch"](0),this.$q.notifyError("Erro ao obter permissões",e.t1);case 27:return e.prev=27,this.carregando=!1,e.finish(27);case 30:case"end":return e.stop()}},e,this,[[0,24,27,30]])}));return function(){return e.apply(this,arguments)}}()},Gc=Qc,Jc=Object(sc["a"])(Gc,Rc,jc,!1,null,null,null);Jc.options.__file="MenuGerador.vue";var Xc=Jc.exports,Yc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{maximized:""},on:{hide:e.aoFechar,show:e.aoAbrir},model:{value:e.aberto,callback:function(t){e.aberto=t},expression:"aberto"}},[a("q-modal-layout",[a("q-toolbar",{staticClass:"BarraTopo"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("Escanear Código de Barras")]),e.dispositivos.length>1?a("q-btn",{attrs:{dense:"",flat:"",icon:"switch_camera",round:""}},[a("q-popover",{model:{value:e.seletorDispositivo,callback:function(t){e.seletorDispositivo=t},expression:"seletorDispositivo"}},[a("q-list",{attrs:{link:"",separator:""}},[a("q-list-header",[e._v("Dispositivos")]),e._l(e.dispositivos,function(t,o){return a("q-item",{key:o},[a("q-radio",{attrs:{label:t.label||"Dispositivo "+(o+1),val:t.deviceId},on:{input:e.aoMudarDispositivo},model:{value:e.dispositivo,callback:function(t){e.dispositivo=t},expression:"dispositivo"}})],1)})],2)],1)],1):e._e()],1),e.suportaNativo||e.podeUsarAlternativo?e.carregando?a("div",{staticClass:"layout-padding q-mt-lg text-center"},[a("q-spinner",{attrs:{color:"faded",size:50}})],1):e.temDispositivos?e._e():a("div",{staticClass:"layout-padding"},[a("div",{staticClass:"bg-light q-pa-lg round-borders text-black text-center"},[e._v("\n        Não foi possível localizar um dispositivo de vídeo conectado à sua máquina.\n      ")]),a("div",{staticClass:"bg-white q-px-md q-py-md"},[a("q-input",{attrs:{after:[{icon:"mdi-barcode-scan",handler:e.enviarCodigo}],autofocus:"",placeholder:"Código de barras ou QRCode"},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.enviarCodigo(t):null}},model:{value:e.codigoBarrasOuQrCode,callback:function(t){e.codigoBarrasOuQrCode="string"===typeof t?t.trim():t},expression:"codigoBarrasOuQrCode"}})],1)]):a("div",{staticClass:"layout-padding q-mt-lg text-center"},[a("q-icon",{attrs:{color:"faded",name:"error_outline",size:"50px"}}),a("div",{staticClass:"q-mt-md text-faded text-center"},[e._v("Este dispositivo não suporta este recurso.")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.temDispositivos&&!e.carregando,expression:"temDispositivos && !carregando"}],staticClass:"PromptCodigoBarras-transmissao"},[a("video",{ref:"transmissao",attrs:{height:"480",width:"320"}}),a("div",{staticClass:"PromptCodigoBarras-laser"})])],1)],1)},Wc=[];Yc._withStripped=!0;var Zc=a("e588"),Kc={computed:{podeUsarAlternativo:function(){return"undefined"!==typeof cordova&&(cordova&&cordova.plugins&&cordova.plugins.barcodeScanner)},suportaNativo:function(){return window&&window.navigator&&window.navigator.mediaDevices},temDispositivos:function(){return!!this.dispositivos.length}},data:function(){return{aberto:!1,carregando:!0,codigoBarrasOuQrCode:"",dispositivo:null,dispositivos:[],leitor:null,seletorDispositivo:!1}},methods:{aoAbrir:function(){this.inicializarTransmissao()},aoDetectar:function(e){this.$emit("escanear",e.text)},aoFechar:function(){this.encerrarTransmissao(),this.carregando=!0},aoMudarDispositivo:function(e){this.seletorDispositivo=!1,localStorage.setItem("dispositivo",e),this.reiniciarTransmissao()},fechar:function(e){e&&e.preventDefault(),this.aberto=!1},encerrarTransmissao:function(){this.leitor.reset(),this.leitor=!1},enviarCodigo:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:try{this.codigoBarrasOuQrCode&&(this.$emit("escanear",this.codigoBarrasOuQrCode),this.codigoBarrasOuQrCode="")}catch(e){this.$q.notifyError("Ocorreu um erro ao enviar código",e)}case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),inicializarTransmissao:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.suportaNativo||!this.podeUsarAlternativo){e.next=11;break}return e.prev=1,e.next=4,this.solicitarCamera();case 4:return e.abrupt("return",cordova.plugins.barcodeScanner.scan(function(e){return a.aoDetectar(e)},function(e){return a.$q.notifyError("Erro ao ler código de barras.",e)},{prompt:""}));case 7:return e.prev=7,e.t0=e["catch"](1),this.$q.notifyError("Erro ao abrir o leitor de código de barras."),e.abrupt("return",this.fechar());case 11:return this.leitor=new Zc["BrowserMultiFormatReader"],e.prev=12,e.next=15,this.leitor.getVideoInputDevices();case 15:this.dispositivos=e.sent,e.next=21;break;case 18:return e.prev=18,e.t1=e["catch"](12),e.abrupt("return",this.$q.notifyError("Erro ao obter dispositivos.",e.t1));case 21:if(this.carregando=!1,this.temDispositivos){e.next=24;break}return e.abrupt("return");case 24:return this.dispositivo||(this.dispositivo=this.dispositivos[0].deviceId),e.next=27,this.leitor.decodeFromInputVideoDevice(this.dispositivo,this.$refs.transmissao);case 27:t=e.sent,this.aoDetectar(t);case 29:case"end":return e.stop()}},e,this,[[1,7],[12,18]])}));return function(){return e.apply(this,arguments)}}(),reiniciarTransmissao:function(){this.encerrarTransmissao(),this.inicializarTransmissao()},solicitarCamera:function(){return new Promise(function(e,t){var a=new Error("Unable to request permission.");try{var o=cordova.plugins.permissions,i=o.CAMERA;o.checkPermission(i,function(r){r.hasPermission?e():o.requestPermission(i,function(o){o.hasPermission?e():t(a)},function(e){return t(e)})},function(e){return t(e)})}catch(e){t(e)}})}},props:{value:{default:!1,required:!0,type:Boolean}},watch:{aberto:function(e){this.$emit("input",e)},value:function(e){this.aberto=e}},beforeDestroy:function(){document.removeEventListener("backbutton",this.fechar)},created:function(){document.addEventListener("backbutton",this.fechar),this.dispositivo=localStorage.getItem("dispositivo")}},el=Kc,tl=(a("fc31"),Object(sc["a"])(el,Yc,Wc,!1,null,null,null));tl.options.__file="PromptCodigoBarras.vue";var al=tl.exports,ol=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{value:e.value},on:{input:e.eventoInput}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Alterar senha")]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",dense:"",icon:"close",round:""}})],1),a("form",{staticClass:"layout-padding",on:{submit:function(t){t.preventDefault(),e.tryLoading(e.alterarSenha)}}},[a("input",{staticClass:"hidden",attrs:{autocomplete:"username",type:"text",value:""}}),a("campo",{ref:"senhaAtual",attrs:{autocomplete:"current-password",erro:e.$v.camposSenha.senhaAtual.$error,"erro-rotulo":"Informe a sua senha atual.",rotulo:"Senha atual",tipo:"senha"},model:{value:e.camposSenha.senhaAtual,callback:function(t){e.$set(e.camposSenha,"senhaAtual","string"===typeof t?t.trim():t)},expression:"camposSenha.senhaAtual"}}),a("campo",{attrs:{autocomplete:"new-password",erro:e.$v.camposSenha.senhaNova.$error,"erro-rotulo":"Insira uma senha diferente da atual.",rotulo:"Senha nova",tipo:"senha"},model:{value:e.camposSenha.senhaNova,callback:function(t){e.$set(e.camposSenha,"senhaNova","string"===typeof t?t.trim():t)},expression:"camposSenha.senhaNova"}}),a("campo",{attrs:{autocomplete:"new-password",erro:e.$v.camposSenha.senhaNovaRepetida.$error,"erro-rotulo":"As novas senhas não são iguais.",rotulo:"Confirme sua nova senha",tipo:"senha"},model:{value:e.camposSenha.senhaNovaRepetida,callback:function(t){e.$set(e.camposSenha,"senhaNovaRepetida","string"===typeof t?t.trim():t)},expression:"camposSenha.senhaNovaRepetida"}}),a("div",{staticClass:"q-mt-lg text-center"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-mr-md",attrs:{flat:""}},[e._v("Cancelar")]),a("q-btn",{staticClass:"no-shadow",attrs:{color:"primary",type:"submit"}},[e._v("Salvar")])],1)],1)],1)],1)},il=[];ol._withStripped=!0;var rl=a("b5ae"),sl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-field",{attrs:{error:e.erro,"error-label":e.erroRotulo,helper:e.ajuda,warning:e.aviso,"warning-label":e.avisoRotulo}},[a(e.elemento,e._g(e._b({ref:"campo",tag:"component",class:e.classCampo},"component",e.atributos,!1),e.eventos)),e.dica?a("q-tooltip",[e._v(e._s(e.dica))]):e._e()],1)},nl=[];sl._withStripped=!0;var cl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-input",e._g(e._b({ref:"campo",staticClass:"CampoDecimal",attrs:{type:"tel"}},"q-input",e.atributos,!1),e.eventos))},ll=[];cl._withStripped=!0;var dl={computed:{atributos:function(){return at()({align:"right"},this.$attrs,{value:this.valorExibicao})},eventos:function(){return at()({},this.$listeners,{blur:this.eventoBlur,focus:this.eventoFocus,input:this.eventoInput})}},data:function(){return{estaFocado:!1,valorExibicao:"",valorInterno:0}},methods:{eventoBlur:function(){this.$attrs.readonly||(this.estaFocado=!1,this.valorInterno&&(this.passo&&(this.valorInterno=Math.round(this.valorInterno/Number(this.passo))*Number(this.passo)),this.min&&this.valorInterno<Number(this.min)&&(this.valorInterno=Number(this.min)),this.max&&this.valorInterno>Number(this.max)&&(this.valorInterno=Number(this.max))),this.valorInterno=Math.round(this.valorInterno*Math.pow(10,Number(this.decimals||0)))/Math.pow(10,Number(this.decimals||0)),this.value!==this.valorInterno&&this.$emit("input",this.valorInterno),this.valorExibicao=" "+this.formatarExibicao(this.valorInterno),"function"===typeof this.$listeners.blur&&this.$listeners.blur())},eventoFocus:function(){this.$attrs.readonly||(this.estaFocado=!0,this.valorExibicao=0===this.valorInterno?"":this.formatarExibicaoFoco(this.valorInterno),"function"===typeof this.$listeners.focus&&this.$listeners.focus())},eventoInput:function(e){var t=Number(e.replace(",","."));isNaN(t)||(this.valorInterno=Math.round(t*Math.pow(10,Number(this.decimals||0)))/Math.pow(10,Number(this.decimals||0))),this.value!==this.valorInterno&&this.$emit("input",this.valorInterno)},formatarExibicao:function(e){var t="";return this.sinalPositivo&&e>0&&(t="+"),t+this.$filters.numero(e,this.decimals||0)},formatarExibicaoFoco:function(e){return e.toFixed(this.decimals||0).replace(".",",")}},props:{min:{type:[Number,String]},max:{type:[Number,String]},passo:{type:[Number,String]},decimals:{type:[Number,String]},sinalPositivo:{default:!1,type:Boolean},value:{required:!0}},watch:{value:function(e){this.valorInterno!==Number(e)&&(this.valorInterno=Number(e)||0,this.estaFocado||(this.valorExibicao=this.formatarExibicao(this.valorInterno)))}},created:function(){this.valorInterno=Math.round((Number(this.value)||0)*Math.pow(10,Number(this.decimals||0)))/Math.pow(10,Number(this.decimals||0)),this.valorExibicao=this.formatarExibicao(this.valorInterno)}},ul=dl,ml=Object(sc["a"])(ul,cl,ll,!1,null,null,null);ml.options.__file="CampoDecimal.vue";var pl=ml.exports,vl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-input",e._b({on:{input:e.emitirValor},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"q-input",e.atributos,!1))},hl=[];vl._withStripped=!0;var fl={computed:{atributos:function(){return at()({after:[{handler:this.somar,icon:"add"}],align:"center",before:[{handler:this.subtrair,icon:"remove"}],type:"number"},this.$attrs)}},data:function(){return{model:parseInt(this.value)}},methods:{emitirValor:function(){this.$emit("input",this.model)},somar:function(){if(this.max&&this.model>=parseInt(this.max))return!1;this.model=this.model+Number(this.step),this.emitirValor()},subtrair:function(){if(this.min&&this.model<=parseInt(this.min))return!1;this.model=this.model-Number(this.step),this.emitirValor()}},props:{max:{type:[Number,String]},min:{type:[Number,String]},step:{default:1,type:[Number,String]},value:{required:!0}},watch:{value:function(e){this.model=e},max:function(e){this.value>e&&(this.value=e)},min:function(e){this.value<e&&(this.value=e)}}},Cl=fl,bl=Object(sc["a"])(Cl,vl,hl,!1,null,null,null);bl.options.__file="CampoNumerico.vue";var gl=bl.exports,xl={components:{CampoDecimal:pl,CampoNumerico:gl},computed:{atributos:function(){var e=at()({},this.$attrs,{value:this.model}),t=this.rotulo||void 0,a=this.rotuloFixo||void 0;if(["decimal","dinheiro","percentagem","percentagemPositiva"].includes(this.tipo)?(e.stackLabel=a||t,e.tipo=this.modelo||this.tipocampo,Array.isArray(this.opcoes)||(e.opcoes=this.opcoes)):"logico"===this.tipo?e.label=a||t:(e.floatLabel=t,e.stackLabel=a),Array.isArray(this.opcoes)&&(e.options=this.opcoes.map(function(e){return"object"===Mt()(e)?at()({},e,{label:e.rotulo,value:e.valor}):{label:e,value:e}})),"q-datetime"===this.elemento){var o="DD/MM/YYYY hh:mm:ss";"data"===this.tipo?o="DD/MM/YYYY":"hora"===this.tipo&&(o="hh:mm:ss"),e.format=e.format||o}var i={dataHora:"datetime",hora:"time",numero:"number",senha:"password",textoArea:"textarea"},r=i[this.tipo];return r&&(e.type=r),e.readonly=this.somenteLeitura,e},elemento:function(){var e={data:"q-datetime",dataHora:"q-datetime",decimal:"campo-decimal",dinheiro:"campo-decimal",hora:"q-datetime",logico:"q-toggle",numero:"q-input",percentagem:"campo-decimal",percentagemPositiva:"campo-decimal",quantidade:"campo-numerico",senha:"q-input",seletor:"q-select",texto:"q-input",textoArea:"q-input"};return e[this.tipo]},eventos:function(){return at()({},this.$listeners,{input:this.emitirValor})}},data:function(){return{model:this.value}},methods:{emitirValor:function(e){this.model!==e&&(this.model=e,this.$emit("input",e))},focus:function(){var e=this;this.$nextTick(function(){return e.$refs.campo.focus()})}},props:{ajuda:{type:String},aviso:{type:Boolean},avisoRotulo:{type:String},classCampo:{type:[Array,Object,String]},dica:{type:String},erro:{type:Boolean},erroRotulo:{type:String},modelo:{type:String},opcoes:{default:function(){return[]},type:[Array,Object]},rotulo:{type:String},rotuloFixo:{type:String},somenteLeitura:{default:!1,type:Boolean},tipo:{default:"texto",type:String},value:{required:!0}},watch:{value:function(e){this.model=e}}},_l=xl,ql=Object(sc["a"])(_l,sl,nl,!1,null,null,null);ql.options.__file="Campo.vue";var Sl=ql.exports,Il={components:{Campo:Sl},data:function(){return{camposSenha:{senhaAtual:"",senhaNova:"",senhaNovaRepetida:""}}},validations:{camposSenha:{senhaAtual:{required:rl["required"]},senhaNova:{required:rl["required"],sameAsPassword:Object(rl["not"])(Object(rl["sameAs"])("senhaAtual"))},senhaNovaRepetida:{sameAsPassword:Object(rl["sameAs"])("senhaNova")}}},methods:{alterarSenha:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=this.$utils,e.next=3,this.estaValidadoCamposSenha();case 3:return e.t1=!e.sent,e.t0.verificarErro.call(e.t0,e.t1,"Há erros de validação no formulário."),e.next=7,this.$utils.geeksApi({alterarSenha:{funcao:"6E4B10C1-548D-49F2-AEEA-64F53151D349",senhaAtual:this.camposSenha.senhaAtual,senhaNova:this.camposSenha.senhaNova}});case 7:a=e.sent,this.$utils.verificarErro(!this._.get(a,"data.alterarSenha.mensagem"),"Ocorreu um erro ao alterar a senha"),this.$q.notifyPositive(a.data.alterarSenha.mensagem),this.eventoInput(!1);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),estaValidadoCamposSenha:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$v.camposSenha,t.$reset(),t.$touch(),e.next=5,this.validarCamposSenha();case 5:return e.abrupt("return",Promise.resolve(!t.$error));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),validarCamposSenha:function(){var e=this.$v.camposSenha;return new Promise(function(t){if(e.$error||!e.$pending)return t();var a=setInterval(function(){e.$pending||(clearInterval(a),t())},250)})},eventoInput:function(e){this.$emit("input",e)}},props:{value:{default:!1,required:!0,type:Boolean}},watch:{value:function(e){e&&(this.camposSenha.senhaAtual="",this.camposSenha.senhaNova="",this.camposSenha.senhaNovaRepetida="",this.$v.camposSenha.$reset())}}},Fl=Il,wl=Object(sc["a"])(Fl,ol,il,!1,null,null,null);wl.options.__file="UsuarioAlterarSenha.vue";var yl=wl.exports,Nl={data:function(){return{codigoQrCode:"",modalQrCode:!1}},methods:{abrirModalQrCode:function(){this.modalQrCode=!0},escanearQrCode:function(e){ei.log("importarReceita","escanearQrCode",e),this.codigoQrCode=e,this.modalQrCode=!1,this.importarQrCode()},importarQrCode:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,Po(!this.codigoQrCode,"QR Code não fornecido"),t=this.codigoQrCode.lastIndexOf("_"),a=this.codigoQrCode.length,Po(t<1||t>a-2,"QR Code inválido"),o=this.codigoQrCode.substr(0,t),i=+this.codigoQrCode.substr(t+1),Po(!i,"QR Code inválido"),ei.log("importarReceita","importarQrCode",this.codigoQrCode,o,i),e.next=11,Qn.receita.consultar(i,o);case 11:for(d in r=e.sent.data.receita,ei.log("importarReceita","importarQrCode retorno Gaphql",r),s=r.paciente,n=r.medico,c=r.receitaItens,ei.log("importarReceita","importarQrCode retorno Gaphql",s,n),s.dataAlteracao=s.dataCadastro=na(),rt("contato",s),n.dataAlteracao=n.dataCadastro=na(),rt("contato",n),r.idContato=s.id,rt("documento",r),l={},l.idContato=n.id,l.idDocumento=r.id,l.descricao="Medico",rt("documentoContato",l),c)u=c[d],u.idDocumento=r.id,rt("documentoItem",u);this.$router.push({name:"AtendimentoOticaReceita",params:{id:s.id}}),e.next=33;break;case 30:e.prev=30,e.t0=e["catch"](0),this.$q.notifyError("Ocorreu um erro ao importar receita pelo QR Code.",e.t0);case 33:case"end":return e.stop()}},e,this,[[0,30]])}));return function(){return e.apply(this,arguments)}}()}},kl=a("a2a4"),Ml={components:{Avatar:Fc,Chat:$c,PromptCodigoBarras:al,UsuarioAlterarSenha:yl,MenuGerador:Xc},computed:{chatBotaoCor:function(){return this.chat?"primary":"faded"},config:function(){return Zn.configuracoes.valores},termoBuscaInLowerCase:function(){return(this.termoBusca||"").toLowerCase()},statusBanco:function(){var e=this;return function(t){var a=e.sincronismoStatus.bancos[t];return"100 %"===a?"":a||""}},versao:function(){return kl.versao}},data:function(){return{dbContato:Zn.contato,dbUsuario:Zn.usuario,bancos:[],clienteSistema:{sistema:""},clienteSistemaBaixados:[],campos:{},modalAlterarSenha:!1,chat:!1,menu:!1,permissoes:{},sincronismoStatus:tc.status,sistemaPai:"",termoBusca:""}},methods:{abrirZap:function(){"optisoul"===this.sistemaPai?window.open("https://api.whatsapp.com/send?phone=5519999661240&text=Preciso%20de%20uma%20ajuda","_blank"):window.open("https://api.whatsapp.com/send?phone=5516991155298&text=Preciso%20de%20uma%20ajuda","_blank")},sincronizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:ei.log("BarraTopo","sincronizar()"),tc.descarregarErp(),tc.descarregarPlataforma();case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),abrirModalSenha:function(){this.modalAlterarSenha=!0},alternarChat:function(){this.chat=!this.chat},alternarMenu:function(){this.menu=!this.menu},desconectar:function(){Zn.usuario.desconecta(),this.$router.push({name:"Autenticacao"}),window.location.reload()},fecharChat:function(){this.chat=!1},imprimir:Ra,mostrarTabelas:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ve["a"].getDatabaseNames();case 2:t=e.sent,t.splice(t.indexOf("plataforma"),1),a={},o=!0,i=!1,r=void 0,e.prev=8,s=t[Symbol.iterator]();case 10:if(o=(n=s.next()).done){e.next=48;break}return c=n.value,e.next=14,He(c).tables;case 14:e.t0=function(e,t){return e.name.localeCompare(t.name)},l=e.sent.sort(e.t0),d=!0,u=!1,m=void 0,e.prev=19,p=l[Symbol.iterator]();case 21:if(d=(v=p.next()).done){e.next=31;break}return h=v.value,e.next=25,h.count();case 25:f=e.sent,a.hasOwnProperty(h.name)||(a[h.name]={}),a[h.name][c]=f;case 28:d=!0,e.next=21;break;case 31:e.next=37;break;case 33:e.prev=33,e.t1=e["catch"](19),u=!0,m=e.t1;case 37:e.prev=37,e.prev=38,d||null==p.return||p.return();case 40:if(e.prev=40,!u){e.next=43;break}throw m;case 43:return e.finish(40);case 44:return e.finish(37);case 45:o=!0,e.next=10;break;case 48:e.next=54;break;case 50:e.prev=50,e.t2=e["catch"](8),i=!0,r=e.t2;case 54:e.prev=54,e.prev=55,o||null==s.return||s.return();case 57:if(e.prev=57,!i){e.next=60;break}throw r;case 60:return e.finish(57);case 61:return e.finish(54);case 62:return console.table(a),e.abrupt("return",a);case 64:case"end":return e.stop()}},e,null,[[8,50,54,62],[19,33,37,45],[38,,40,44],[55,,57,61]])}));return function(){return e.apply(this,arguments)}}(),restaurar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ge.sincronismoFila.count();case 2:if(e.t0=e.sent,!(e.t0>0)){e.next=6;break}return this.$q.notifyError("Não pode restaurar! Há dados no dispositivo que não foram sincronizados."),e.abrupt("return");case 6:t=!0,a=!1,o=void 0,e.prev=9,i=this.bancos[Symbol.iterator]();case 11:if(t=(r=i.next()).done){e.next=22;break}return s=r.value,e.next=15,He(s.bancoDeDados).sincronismoFila.count();case 15:if(e.t1=e.sent,!(e.t1>0)){e.next=19;break}return this.$q.notifyError("Não pode restaurar! Há dados do banco '".concat(s.bancoDeDados,"' no dispositivo que não foram sincronizados.")),e.abrupt("return");case 19:t=!0,e.next=11;break;case 22:e.next=28;break;case 24:e.prev=24,e.t2=e["catch"](9),a=!0,o=e.t2;case 28:e.prev=28,e.prev=29,t||null==i.return||i.return();case 31:if(e.prev=31,!a){e.next=34;break}throw o;case 34:return e.finish(31);case 35:return e.finish(28);case 36:e.prev=36,n="";case 38:return e.next=41,this.$q.dialog({title:"Tem certeza?",message:"Esta operação vai apagar todos os dados de seu dispositivo! Para confirmar digite a palavra 'RESTAURAR'.",prompt:{model:"",type:"text"},cancel:"Cancelar",ok:"Restaurar"});case 41:if(n=e.sent,"RESTAURAR"!==n.toUpperCase()){e.next=44;break}return e.abrupt("break",47);case 44:this.$q.notifyError("Para confirmar digite a palavra 'RESTAURAR'."),e.next=38;break;case 47:e.next=52;break;case 49:return e.prev=49,e.t3=e["catch"](36),e.abrupt("return");case 52:return this.$q.loading.show({message:"Restaurando"}),e.prev=53,e.next=56,Ve["a"].getDatabaseNames();case 56:c=e.sent,l=!0,d=!1,u=void 0,e.prev=60,m=c[Symbol.iterator]();case 62:if(l=(p=m.next()).done){e.next=69;break}return v=p.value,e.next=66,He(v,"delete");case 66:l=!0,e.next=62;break;case 69:e.next=75;break;case 71:e.prev=71,e.t4=e["catch"](60),d=!0,u=e.t4;case 75:e.prev=75,e.prev=76,l||null==m.return||m.return();case 78:if(e.prev=78,!d){e.next=81;break}throw u;case 81:return e.finish(78);case 82:return e.finish(75);case 83:h=localStorage.getItem("dispositivoCliente"),localStorage.clear(),h&&localStorage.setItem("dispositivoCliente",h),window.location.reload(),e.next=92;break;case 89:e.prev=89,e.t5=e["catch"](53),this.$q.notifyError("Erro na operação de restaurar",e.t5);case 92:return e.prev=92,this.$q.loading.hide(),e.finish(92);case 95:case"end":return e.stop()}},e,this,[[9,24,28,36],[29,,31,35],[36,49],[53,89,92,95],[60,71,75,83],[76,,78,82]])}));return function(){return e.apply(this,arguments)}}(),selecionaBancoDados:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.clienteSistema=t,Zn.cache.set("reload","1"),Zn.cache.set("bancoDeDados",t.bancoDeDados),Zn.cache.setJson("clienteSistema",t),e.next=6,this.routerRetry({name:"Home"});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},mixins:[Nl],props:{restricao:Boolean},mounted:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(this.clienteSistemaBaixados=JSON.parse(localStorage.getItem("clienteSistemaBaixados")),t=!0,a=!1,o=void 0,e.prev=4,i=this.clienteSistemaBaixados[Symbol.iterator]();!(t=(r=i.next()).done);t=!0)s=r.value,this.sincronismoStatus.bancos[s.bancoDeDados]||this.$set(this.sincronismoStatus.bancos,s.bancoDeDados,"");e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](4),a=!0,o=e.t0;case 12:e.prev=12,e.prev=13,t||null==i.return||i.return();case 15:if(e.prev=15,!a){e.next=18;break}throw o;case 18:return e.finish(15);case 19:return e.finish(12);case 20:return this.clienteSistema=JSON.parse(localStorage.getItem("clienteSistema")),e.next=23,Zi.sincronismo.le();case 23:this.bancos=e.sent,this.sistemaPai=co(),Zn.usuario.inicializaLogado();case 26:case"end":return e.stop()}},e,this,[[4,8,12,20],[13,,15,19]])}));return function(){return e.apply(this,arguments)}}(),created:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.usuario.inicializaLogado();case 2:return e.next=4,Zn.permissao.objeto("atendimento");case 4:return e.t0=e.sent,e.next=7,Zn.permissao.objeto("admcustom");case 7:return e.t1=e.sent,e.next=10,Zn.permissao.objeto("admenvelopes");case 10:return e.t2=e.sent,e.next=13,Zn.permissao.objeto("admos");case 13:return e.t3=e.sent,e.next=16,Zn.permissao.objeto("crmfunil");case 16:return e.t4=e.sent,e.next=19,Zn.permissao.objeto("item");case 19:return e.t5=e.sent,e.next=22,Zn.permissao.objeto("importarReceita");case 22:return e.t6=e.sent,e.next=25,Zn.permissao.objeto("caixa");case 25:return e.t7=e.sent,e.next=28,Zn.permissao.objeto("cockpit");case 28:return e.t8=e.sent,e.next=31,Zn.permissao.objeto("nfe");case 31:e.t9=e.sent,this.permissoes={atendimento:e.t0,admCustom:e.t1,admEnvelopes:e.t2,admOS:e.t3,funilVendas:e.t4,item:e.t5,importarReceita:e.t6,caixa:e.t7,cockpit:e.t8,nfe:e.t9},this.$root.$off("fecharMenu"),this.$root.$on("fecharMenu",function(e){t.menu=!1});case 35:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},Pl=Ml,Dl=(a("9d5f"),Object(sc["a"])(Pl,Cc,bc,!1,null,null,null));Dl.options.__file="BarraTopo.vue";var El=Dl.exports,Tl={components:{BarraTopo:El},props:{msg:{type:String,required:!0}}},Al=Tl,Ol=Object(sc["a"])(Al,hc,fc,!1,null,null,null);Ol.options.__file="Restricao.vue";var $l=Ol.exports,Rl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.mostrarVif?a("div",{directives:[{name:"show",rawName:"v-show",value:e.mostrarVshow,expression:"mostrarVshow"}]},[a("q-layout",{staticClass:"Plataforma15"},[a("barra-topo"),a("iframe",{ref:"quadro",staticClass:"Plataforma15-quadro",attrs:{src:e.url,frameborder:"0"}})],1)],1):e._e()},jl=[];Rl._withStripped=!0;var zl={components:{BarraTopo:El},data:function(){return{mostrarVshow:!1,mostrarVif:!1,url:"",fila:[],estaCarrregado:!1}},methods:{enviarMensagem:function(e){if(!this.estaCarrregado)return this.fila.push(e);this.processarFila(),this.postarMensagem(e)},postarMensagem:function(e){this.$refs.quadro.contentWindow.postMessage(e,"*")},processarFila:function(){var e=this;this.fila.length>0&&(this.fila.forEach(function(t){return e.postarMensagem(t)}),this.fila=[])},receberMensagem:function(e){var t=e.data;"carregado"===t.status&&(this.estaCarrregado=!0,this.processarFila())}},created:function(){ei.log("Plataforma15","created()",this.$route.name),this.url="/statics/plat15/Index.html",window.addEventListener("message",this.receberMensagem),this.$root.$on("plaforma15EnviarMensagem",this.enviarMensagem)},beforeDestroy:function(){ei.log("Plataforma15","beforeDestroy()"),window.removeEventListener("message",this.receberMensagem),this.$root.$off("plaforma15EnviarMensagem")},watch:{"$route.name":function(e){this.mostrarVshow="Plataforma15"===this.$route.name&&!!this.$route.params.objeto,this.mostrarVshow&&(this.mostrarVif||this.enviarMensagem({objeto:this.$route.params.objeto}),this.mostrarVif=!0)}}},Bl=zl,Ll=(a("e9ca"),Object(sc["a"])(Bl,Rl,jl,!1,null,null,null));Ll.options.__file="Plataforma15.vue";var Vl=Ll.exports,Ul={components:{ModalAlerta:cc,ModalSucesso:vc,Plataforma15:Vl,Restricao:$l},data:function(){return{observacao:"",restricao:""}},methods:{verificarIndexeddb:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,He().open();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),this.$q.notifyError("Os dados em seu dispositivo estão corrompidos. É necessário restaurar e sair.",e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}(),exibirConduta:function(e){this.observacao!==e.observacao&&(this.observacao=e.observacao,this.observacao&&this.$q.notify({type:"warning",message:e.observacao})),this.restricao=e.restricao}},created:function(){ei.log("App","created()");var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px")),window.addEventListener("resize",function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))});try{codePush&&codePush.sync()}catch(e){}this.sincronismoInterval&&(ei.log("App","parar sincronismo",this.sincronismoInterval),clearInterval(this.sincronismoInterval)),"false"!==localStorage.getItem("sincronismoAtivo")&&(this.sincronismoInterval=setInterval(function(){tc.executar()},2e3),ei.log("App","ativar sincronismo",this.sincronismoInterval)),qa.$on("exibirConduta",this.exibirConduta),qa.$on("notifyError",this.$q.notifyError)},beforeDestroy:function(){qa.$off("exibirConduta"),qa.$off("notifyError"),this.sincronismoInterval&&(ei.log("App","parar sincronismo",this.sincronismoInterval),clearInterval(this.sincronismoInterval))}},Hl=Ul,Ql=Object(sc["a"])(Hl,je,ze,!1,null,null,null);Ql.options.__file="App.vue";var Gl=Ql.exports,Jl=a("2f62"),Xl={contato:{id:"0",nome:"Consumidor",apelido:"Consumidor",imagem:"",ativo:!0}},Yl={contato:function(e){return e.contato},contatoBase:function(){return{id:null,ativo:!0,consulta:[],endereco:[{bairro:"",cep:"",complemento:"",grupo:"",ibgeCod:"",logradouro:"",municipio:"",numero:"",pais:"",uf:""}],filhos:[],grupo:[],nomesGrupo:[],redeSocial:[],telefone:[{}]}}},Wl={leContatoGruposUnicos:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,e.next=3,He().contatoGrupo.toArray();case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:return a=e.t0,a=la()(new Set(la()(a.map(function(e){return e.descricao})).concat(["Cliente","Transportadora","Vendedor","Médico","Optometrista"]))).sort(),a=a.map(function(e){return{descricao:e}}),e.abrupt("return",a);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leContatoTransportadora:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,e.next=3,He().contato.toArray();case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:return a=e.t0,e.next=9,He().contatoGrupo.toArray();case 9:if(e.t1=e.sent,e.t1){e.next=12;break}e.t1=[];case 12:return o=e.t1,o=o.filter(function(e){return"TRANSPORTADORA"===(e.descricao||"").toUpperCase()}).map(function(e){return e.idContato}),e.abrupt("return",a.filter(function(e){return e.ativo&&o.includes(e.id)}));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leContatosAtivos:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,e.next=3,He().contato.toArray();case 3:return e.t0=function(e){return e.ativo},e.abrupt("return",e.sent.filter(e.t0));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),leContatoSegmento:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,e.next=3,He().contato.toArray();case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:return a=e.t0,e.abrupt("return",la()(new Set(a.map(function(e){return e.segmento}))).sort());case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),criarDependenciaContatos:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.dispatch,o=a.contatoPai,i=a.contatoFilho,r=[{id:hi(),idContato:o.id,idContatoRelacionado:i.id,observacao:"Dependente"},{id:hi(),idContato:i.id,idContatoRelacionado:o.id,observacao:"Dependente"}],s=0;case 4:if(!(s<r.length)){e.next=13;break}return n=r[s],e.next=8,He().contatoFilho.put(n);case 8:return e.next=10,so("adicionar","contatoFilho",n.id,n);case 10:s++,e.next=4;break;case 13:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),salvarContato:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t.dispatch,a=Yt(a),o=Yt(a.dadosOriginais||{}),delete a.dadosOriginais,i=aa(a),i.nome){e.next=7;break}throw new Error("O nome é obrigatório.");case 7:return i.apelido||(i.apelido=i.nome),delete i.consulta,delete i.endereco,delete i.filhos,delete i.filhosContato,delete i.filhosContatoRelacionado,delete i.grupo,delete i.nomesGrupo,delete i.redeSocial,delete i.telefone,delete i.numeroDocumentoNacionalErro,a.endereco=(a.endereco||[]).filter(function(e){return!(""===e.bairro&&""===e.cep&&""===e.complemento&&""===e.logradouro&&""===e.municipio&&""===e.numero&&""===e.uf)}),a.grupo=(a.grupo||[]).filter(function(e){return a.nomesGrupo.includes(e.descricao)}),r=(a.nomesGrupo||[]).filter(function(e){return!o.nomesGrupo.includes(e)}),a.grupo=la()(a.grupo).concat(la()(r.map(function(e){return{id:hi(),idContato:a.id,descricao:e}}))),s=!1,e.next=25,Ya("contatoConsulta",o.consulta,a.consulta);case 25:if(e.t0=e.sent,e.t0){e.next=28;break}e.t0=s;case 28:return s=e.t0,e.next=31,Ya("contatoEndereco",o.endereco,a.endereco);case 31:if(e.t1=e.sent,e.t1){e.next=34;break}e.t1=s;case 34:return s=e.t1,e.next=37,Ya("contatoRedeSocial",o.redeSocial,a.redeSocial);case 37:if(e.t2=e.sent,e.t2){e.next=40;break}e.t2=s;case 40:return s=e.t2,e.next=43,Ya("contatoTelefone",o.telefone,a.telefone);case 43:if(e.t3=e.sent,e.t3){e.next=46;break}e.t3=s;case 46:return s=e.t3,e.next=49,Ya("contatoGrupo",o.grupo,a.grupo);case 49:if(e.t4=e.sent,e.t4){e.next=52;break}e.t4=s;case 52:return s=e.t4,e.next=55,Ya("contatoFilho",o.filhos,a.filhos);case 55:if(e.t5=e.sent,e.t5){e.next=58;break}e.t5=s;case 58:if(s=e.t5,Object.keys(o.contato||{}).length){e.next=68;break}return i.dataAlteracao=na(),i.dataCadastro=i.dataAlteracao,e.next=64,He().contato.put(i);case 64:return e.next=66,so("adicionar","contato",i.id,i);case 66:e.next=78;break;case 68:if(n=na(),s&&(i.dataAlteracao=n),c=ga(o.contato,i),!Object.keys(c).length){e.next=78;break}return i.dataAlteracao=n,c.dataAlteracao=n,e.next=76,He().contato.update(i.id,c);case 76:return e.next=78,so("atualizar","contato",i.id,c);case 78:return Zn.contatoBusca.reindexar(i.id),e.abrupt("return",i.id);case 80:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),salvarContatoAnotacaoDeUmContato:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,o=t.getters,i=aa(a),i.id=hi(),i.idContatoUsuario=o.usuario.id,i.tipo="Atendimento 4.0",i.dataHora=na(),e.next=8,He().contatoAnotacao.put(i);case 8:return e.next=10,so("adicionar","contatoAnotacao",i.id,i);case 10:return e.abrupt("return",i);case 11:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),carregarContato:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o=t.commit,e.next=3,He().contato.get(a);case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:return i=e.t0,o("definirContato",i),e.abrupt("return",i);case 9:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},Zl={definirContato:function(e,t){e.contato=t}},Kl={state:Xl,getters:Yl,actions:Wl,mutations:Zl},ed={documentosItens:[]},td={documentosItens:function(e){return e.documentosItens}},ad={carregarDocumentosItens:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,He().documentoItem.toArray();case 3:return o=e.sent,a("definirDocumentosItens",o),e.abrupt("return",o);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),excluirDocumentoItem:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t.dispatch,a){e.next=3;break}throw new Error("Informe um id.");case 3:return e.next=5,He().documentoItem.get(a);case 5:return o=e.sent,e.next=8,He().documentoItem.delete(o.id);case 8:return e.next=10,so("remover","documentoItem",o.id);case 10:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),excluirDocumentosItens:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t.dispatch,a){e.next=3;break}throw new Error("Informe um id.");case 3:return e.next=5,He().documentoItem.where("idDocumentoAdicional").equals(a).toArray();case 5:o=e.sent,i=!0,r=!1,s=void 0,e.prev=9,n=o[Symbol.iterator]();case 11:if(i=(c=n.next()).done){e.next=20;break}return l=c.value,e.next=15,He().documentoItem.delete(l.id);case 15:return e.next=17,so("remover","documentoItem",l.id);case 17:i=!0,e.next=11;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e["catch"](9),r=!0,s=e.t0;case 26:e.prev=26,e.prev=27,i||null==n.return||n.return();case 29:if(e.prev=29,!r){e.next=32;break}throw s;case 32:return e.finish(29);case 33:return e.finish(26);case 34:case"end":return e.stop()}},e,null,[[9,22,26,34],[27,,29,33]])}));return function(t,a){return e.apply(this,arguments)}}(),obterDocumentoItens:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t.dispatch,o=a.idDocumento,i=a.idDocumentoAdicional,o||i){e.next=4;break}throw new Error("Informe um id.");case 4:return r={},o&&(r={idDocumento:o}),i&&(r=at()({},r,{idDocumentoAdicional:i})),e.next=9,He().documentoItem.where(r).toArray();case 9:return s=e.sent,e.abrupt("return",s||[]);case 11:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),salvarDocumentoItem:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t.dispatch,o=a.id,i=null,!o){e.next=7;break}return e.next=6,He().documentoItem.get(o);case 6:i=e.sent;case 7:if(!o||!i){e.next=17;break}return e.next=10,He().documentoItem.update(o,a);case 10:if(r=e.sent,!r){e.next=15;break}return s=ga(i,a),e.next=15,so("atualizar","documentoItem",o,s);case 15:e.next=22;break;case 17:return a.id=hi(),e.next=20,He().documentoItem.add(a);case 20:return e.next=22,so("adicionar","documentoItem",a.id,a);case 22:return e.abrupt("return",a);case 23:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},od={definirDocumentosItens:function(e,t){e.documentosItens=t}},id={state:ed,getters:td,actions:ad,mutations:od},rd={empresas:[],empresasContato:[]},sd={empresas:function(e){return e.empresas},empresasContato:function(e){return e.empresasContato}},nd={leEmpresa:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,e.abrupt("return",He().empresa.get(a));case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),carregarEmpresas:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,He().empresa.toArray();case 3:return o=e.sent,a("definirEmpresas",o),e.abrupt("return",o);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),carregarEmpresasContato:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,o=t.dispatch,e.next=3,He().empresa.toArray();case 3:i=e.sent,r=!0,s=!1,n=void 0,e.prev=7,c=i[Symbol.iterator]();case 9:if(r=(l=c.next()).done){e.next=17;break}return d=l.value,e.next=13,o("buscarContato",d.idContato);case 13:d.contato=e.sent;case 14:r=!0,e.next=9;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e["catch"](7),s=!0,n=e.t0;case 23:e.prev=23,e.prev=24,r||null==c.return||c.return();case 26:if(e.prev=26,!s){e.next=29;break}throw n;case 29:return e.finish(26);case 30:return e.finish(23);case 31:return a("definirEmpresasContato",i),e.abrupt("return",i);case 33:case"end":return e.stop()}},e,null,[[7,19,23,31],[24,,26,30]])}));return function(t){return e.apply(this,arguments)}}(),excluirEmpresa:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t.dispatch,a){e.next=3;break}throw new Error("Informe um id.");case 3:return e.next=5,He().empresa.get(a);case 5:return o=e.sent,e.next=8,He().empresa.delete(o.id);case 8:return e.next=10,so("remover","empresa",o.id);case 10:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},cd={definirEmpresas:function(e,t){e.empresas=t},definirEmpresasContato:function(e,t){e.empresasContato=t}},ld={state:rd,getters:sd,actions:nd,mutations:cd},dd=function(e){var t={state:{},getters:{},actions:{},mutations:{}};return t.state[e]=null,t.getters[e]=function(t){return t[e]},t.actions["criar"+e]=function(){var t=Le()(regeneratorRuntime.mark(function t(a,o){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:i=a.commit,i(e,o);case 2:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),t.actions["salvar"+e]=function(){var t=Le()(regeneratorRuntime.mark(function t(a,o){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=a.commit,t.next=3,He()[e].put(o);case 3:i(e,o);case 4:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),t.actions["abrir"+e]=function(){var t=Le()(regeneratorRuntime.mark(function t(a,o){var i,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=a.commit,t.next=3,He()[e].get(o);case 3:return r=t.sent,i(e,r),t.abrupt("return",r);case 6:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),t.mutations[e]=function(t,a){t[e]=a},t},ud={caixas:[]},md={caixas:function(e){return e.caixas}},pd={carregarCaixas:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,He().caixas.toArray();case 3:return o=e.sent,a("definirCaixas",o),e.abrupt("return",o);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},vd={definirCaixas:function(e,t){e.caixas=t}},hd={state:ud,getters:md,actions:pd,mutations:vd};i["default"].use(Jl["a"]);var fd=new Jl["a"].Store({modules:{NFe:dd("NFe"),contato:Kl,documentoItem:id,empresa:ld,caixa:hd},strict:!1}),Cd=a("8c4f"),bd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Configuracoes"},[a("barra-topo"),a("q-page-container",[a("q-page",{staticClass:"u-container"},[a("q-toolbar",{staticClass:"q-py-sm q-mb-sm topo",attrs:{color:"none"}},[a("q-icon",{attrs:{name:"settings",size:"32px"}}),a("q-toolbar-title",[e._v("Configurações")])],1),a("MenuAbas",{attrs:{objetoPai:"configuracoes"}},[a("router-view")],1)],1)],1)],1)},gd=[];bd._withStripped=!0;var xd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-tabs",{attrs:{align:"justify",color:"none"},model:{value:e.abaSelecionada,callback:function(t){e.abaSelecionada=t},expression:"abaSelecionada"}},[e._l(e.abas,function(t,o){return a("q-tab",{key:o,staticClass:"Layout-aba",attrs:{slot:"title",name:t.to.name,label:t.label,icon:t.icon},on:{click:function(a){e.irPara(t.to)}},slot:"title"})}),e._t("default")],2)},_d=[];xd._withStripped=!0;var qd={data:function(){return{abaSelecionada:"",abas:[]}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.abas=[],this.abaSelecionada="",t=JSON.parse(localStorage.getItem("clienteSistema"))||{},(t||{}).idSistema){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Ge.objeto.where({nomeObjeto:this.objetoPai}).toArray();case 7:if(e.t0=function(e){return e.id},a=e.sent.find(e.t0),(a||{}).id){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,Ge.sistemaObjeto.where({idPai:a.id,idSistema:t.idSistema}).toArray();case 13:if(o=e.sent,o.length){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,Ge.objeto.where("id").anyOf(o.map(function(e){return e.idObjeto})).toArray();case 18:if(i=e.sent,i.length){e.next=21;break}return e.abrupt("return");case 21:o=o.sort(function(e,t){return(e.ordem||0)>(t.ordem||0)?1:-1}),r=[],s=!0,n=!1,c=void 0,e.prev=26,l=regeneratorRuntime.mark(function e(){var t,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=u.value,a=i.find(function(e){return e.id===t.idObjeto}),o=JSON.parse(a.rota||null)||{},e.next=5,Zn.permissao.objeto(a.nomeObjeto);case 5:if(e.sent){e.next=7;break}return e.abrupt("return","continue");case 7:if("componente"===a.tipo&&!a.menuPrincipal){e.next=9;break}return e.abrupt("return","continue");case 9:if(!a.menuDesenvolvimento||Zn.usuario.logado.desenvolvedor&&Zn.usuario.logado.desenvolvedor()){e.next=11;break}return e.abrupt("return","continue");case 11:r.push({icon:a.icone||"",label:a.descricao||"",to:{name:o.name||""}});case 12:case"end":return e.stop()}},e)}),d=o[Symbol.iterator]();case 29:if(s=(u=d.next()).done){e.next=37;break}return e.delegateYield(l(),"t1",31);case 31:if(m=e.t1,"continue"!==m){e.next=34;break}return e.abrupt("continue",34);case 34:s=!0,e.next=29;break;case 37:e.next=43;break;case 39:e.prev=39,e.t2=e["catch"](26),n=!0,c=e.t2;case 43:e.prev=43,e.prev=44,s||null==d.return||d.return();case 46:if(e.prev=46,!n){e.next=49;break}throw c;case 49:return e.finish(46);case 50:return e.finish(43);case 51:this.abas=r;case 52:case"end":return e.stop()}},e,this,[[26,39,43,51],[44,,46,50]])}));return function(){return e.apply(this,arguments)}}(),irPara:function(e){this.$router.push(at()({},e,this.$route.params.id?{params:{id:this.$route.params.id}}:{})),this.abaSelecionada=e.name}},props:{objetoPai:{type:String,required:!0}},created:function(){this.atualizar()},updated:function(){var e=this;if(this.abas.find(function(t){return t.to.name===e.$route.name}))this.abaSelecionada=this.$route.name;else{if(!this.abas.length)return;this.irPara(this.abas[0].to)}}},Sd=qd,Id=Object(sc["a"])(Sd,xd,_d,!1,null,null,null);Id.options.__file="MenuAbas.vue";var Fd=Id.exports,wd={components:{BarraTopo:El,MenuAbas:Fd},created:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.usuario.inicializaLogado();case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},yd=wd,Nd=(a("96f8"),Object(sc["a"])(yd,bd,gd,!1,null,"54af2092",null));Nd.options.__file="Configuracoes.vue";var kd=Nd.exports,Md=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ConfiguracoesEmpresas"},[a("div",{staticClass:"q-py-md no-shadow"},[e._l(e.empresas,function(t){return a("div",{key:t.id},[a("q-card",{staticClass:"extratoItem bg-white q-mb-md q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("avatar",{staticClass:"float-left",attrs:{imagem:t.contato.imagem,rotulo:t.apelido,tamanho:"40"}}),a("q-toolbar-title",[a("div",[e._v(e._s(t.apelido))]),a("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v(e._s(t.nome))]),a("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v(e._s(t.numeroDocumentoNacional))]),a("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[a("span",{staticClass:"q-pr-md"},[e._v("Ativa: "),a("b",[e._v(e._s(t.ativo?"Sim":"Não"))])]),t.sigla?a("span",{staticClass:"q-pr-md"},[e._v("Sigla: "),a("b",[e._v(e._s(t.sigla))])]):e._e()])])],1),a("q-btn",{staticClass:"no-shadow q-ma-xs",attrs:{rounded:"",dense:"",flat:"",icon:"edit",color:"primary",size:"md"},on:{click:function(a){e.abrirModalEmpresa(t)}}}),a("q-btn",{staticClass:"no-shadow q-ma-xs",attrs:{rounded:"",dense:"",flat:"",icon:"delete",color:"primary",size:"md"},on:{click:function(a){e.removerEmpresa(t)}}})],1)])],1)}),a("div",{staticClass:"q-mt-md text-center"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Empresa",outline:"",size:"sm"},on:{click:function(t){e.modalContato=!0}}})],1)],2),a("q-modal",{attrs:{maximized:""},model:{value:e.modalEmpresa,callback:function(t){e.modalEmpresa=t},expression:"modalEmpresa"}},[a("q-modal-layout",[a("form",{on:{submit:function(t){return t.preventDefault(),e.gravarEmpresa(t)}}},[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"}}),a("q-toolbar-title",[e._v(e._s(e.empresa.nome))]),a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"white","text-color":"primary",label:"Salvar",type:"submit"}})],1),a("div",{staticClass:"layout-padding"},[a("div",{staticClass:"row gutter-x-sm items-center"},[e.dbUsuario.logado.administrador&&[1,2].includes(e.dbUsuario.logado.grupoInterno)?[a("campo",{staticClass:"col-12 col-md-4",attrs:{maxlength:"1",rotulo:"Ativo",tipo:"logico"},model:{value:e.empresa.ativo,callback:function(t){e.$set(e.empresa,"ativo",t)},expression:"empresa.ativo"}})]:e._e(),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"row items-center"},[a("q-color",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"corPrincipal",attrs:{"format-model":"hex",modal:"",clearable:"","ok-label":"Ok","cancel-label":"Cancelar"},model:{value:e.empresa.corPrincipal,callback:function(t){e.$set(e.empresa,"corPrincipal",t)},expression:"empresa.corPrincipal"}}),a("q-btn",{staticClass:"col-auto",style:{color:e.empresa.corPrincipal},attrs:{flat:"",icon:"mdi-circle",size:"xl"},on:{click:function(t){e.$refs.corPrincipal.show()}}}),a("div",{staticClass:"col no-wrap"},[e._v("Cor principal")])],1)]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"row items-center"},[a("q-color",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"corSecundaria",attrs:{"format-model":"hex",modal:"",clearable:"","ok-label":"Ok","cancel-label":"Cancelar"},model:{value:e.empresa.corSecundaria,callback:function(t){e.$set(e.empresa,"corSecundaria",t)},expression:"empresa.corSecundaria"}}),a("q-btn",{staticClass:"col-auto",style:{color:e.empresa.corSecundaria},attrs:{flat:"",icon:"mdi-circle",size:"xl"},on:{click:function(t){e.$refs.corSecundaria.show()}}}),a("div",{staticClass:"col no-wrap"},[e._v("Cor secundaria")])],1)])],2),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{maxlength:"5",rotulo:"Sigla"},model:{value:e.empresa.sigla,callback:function(t){e.$set(e.empresa,"sigla",t)},expression:"empresa.sigla"}}),a("SeletorContato",{staticClass:"col-12 col-md-8",attrs:{filtro:{ativo:!0,empresas:!0},rotulo:"Grupo"},on:{selecionar:function(t){return e.empresa.codigoPai=t.codigoContato}},model:{value:e.empresa.idPai,callback:function(t){e.$set(e.empresa,"idPai",t)},expression:"empresa.idPai"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12 q-pt-md text-h2 text-weight-bold"},[e._v("Token de atualização de alíquotas para calculo do\n              valor aproximado dos tributos")]),a("campo",{staticClass:"col-12",attrs:{maxlength:"64",rotulo:"Token IBPT (ibpt.com.br)"},model:{value:e.empresa.tokenIBPT,callback:function(t){e.$set(e.empresa,"tokenIBPT",t)},expression:"empresa.tokenIBPT"}}),e.empresa.tokenIBPT?a("q-btn",{attrs:{label:"Atualizar alíquotas online",color:"primary",flat:"",icon:"cloud_download"},on:{click:function(t){e.importaAliquotasIBPT(e.empresa)}}}):e._e(),a("q-btn",{attrs:{label:"Site para obter o token",color:"primary",flat:"",icon:"vpn_key"},on:{click:e.abrirSiteIbpt}}),a("div",{staticClass:"col-12 q-mt-md text-h2 text-weight-bold"},[e._v("Dados para geração do QRCode da NFC-e")]),a("campo",{staticClass:"col-12 col-md-4",attrs:{maxlength:"6",rotulo:"Token CSC Produção"},model:{value:e.empresa.tokenCSCProducao,callback:function(t){e.$set(e.empresa,"tokenCSCProducao",t)},expression:"empresa.tokenCSCProducao"}}),a("campo",{staticClass:"col-12 col-md-8",attrs:{maxlength:"50",rotulo:"Hash CSC Produção"},model:{value:e.empresa.hashCSCProducao,callback:function(t){e.$set(e.empresa,"hashCSCProducao",t)},expression:"empresa.hashCSCProducao"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{maxlength:"6",rotulo:"Token CSC Homologação"},model:{value:e.empresa.tokenCSCHomologacao,callback:function(t){e.$set(e.empresa,"tokenCSCHomologacao",t)},expression:"empresa.tokenCSCHomologacao"}}),a("campo",{staticClass:"col-12 col-md-8",attrs:{maxlength:"50",rotulo:"Hash CSC Homologação"},model:{value:e.empresa.hashCSCHomologacao,callback:function(t){e.$set(e.empresa,"hashCSCHomologacao",t)},expression:"empresa.hashCSCHomologacao"}}),a("div",{staticClass:"col-12 q-mt-md text-h2 text-weight-bold"},[e._v("Certificado digital")]),a("q-btn",{attrs:{label:"Upload certificado",color:"primary",flat:"",icon:"vpn_key"},on:{click:function(t){e.modalEmpresa=!1,e.modalCertificado=!0}}})],1)])],1)])],1),a("q-modal",{attrs:{"content-css":{width:"100vw",maxWidth:"400px"}},model:{value:e.modalCertificado,callback:function(t){e.modalCertificado=t},expression:"modalCertificado"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Upload certificado digital")])],1),a("form",{on:{submit:function(t){t.preventDefault(),e.tryLoading(e.enviarCertificado)}}},[a("div",{staticClass:"row q-ma-md"},[a("q-uploader",{staticClass:"col-12",attrs:{"auto-expand":"","hide-upload-button":"",extensions:".pfx",url:""},on:{add:e.adicionarCertificado}}),a("campo",{staticClass:"col-12",attrs:{rotulo:"Senha",type:"password"},model:{value:e.certificado.senha,callback:function(t){e.$set(e.certificado,"senha",t)},expression:"certificado.senha"}})],1),a("div",{staticClass:"row q-ma-sm justify-end"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",color:"primary",label:"Cancelar"}}),a("q-btn",{attrs:{flat:"",color:"primary",label:"Enviar",type:"submit"}})],1)])],1)],1),a("prompt-contato-novo",{attrs:{online:"",filtro:{ativo:!0,numeroDocumentoNacionalPreenchido:!0}},on:{selecionar:e.criarEmpresa},model:{value:e.modalContato,callback:function(t){e.modalContato=t},expression:"modalContato"}}),a("q-modal",{attrs:{"content-css":{width:"100vw",maxWidth:"768px"}},model:{value:e.resultado.visivel,callback:function(t){e.$set(e.resultado,"visivel",t)},expression:"resultado.visivel"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v(e._s(e.resultado.titulo))])],1),a("div",{staticClass:"layout-padding"},[a("div",{staticClass:"row gutter-y-sm"},[a("div",{staticClass:"col-6 col-sm-3 text-h2 text-weight-bold"},[e._v("Total de NCMs:")]),a("div",{staticClass:"col-6 col-sm-9 text-h2"},[e._v(e._s(e.resultado.total))]),a("div",{staticClass:"col-6 col-sm-3 text-h2 text-weight-bold"},[e._v("Sucesso:")]),a("div",{staticClass:"col-6 col-sm-9 text-h2"},[e._v(e._s(e.resultado.sucesso))]),a("div",{staticClass:"col-6 col-sm-3 text-h2 text-weight-bold"},[e._v("Erro(s):")]),a("div",{staticClass:"col-6 col-sm-9 text-h2"},[e._v(e._s(e.resultado.erro))]),e.resultado.listaNCMErros.length>0?[a("div",{staticClass:"col-12 text-h2 text-weight-bold"},[e._v("Os NCMs abaixo não foram validados no servidor do IBPT:")]),e._l(e.resultado.listaNCMErros,function(t,o){return a("div",{key:o,staticClass:"col-12 text-h2"},[e._v("'"+e._s(t)+"'")])})]:e._e(),a("q-progress",{staticClass:"col-12 q-my-md",attrs:{percentage:e.resultado.percentagem,color:"primary"}}),a("div",{staticClass:"col-12 text-h2 text-weight-bold"},[e._v(e._s(e.resultado.final))])],2)]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",color:"primary",label:e.resultado.percentagem>=99.9?"Fechar":"Parar"}})],1)])],1)],1)],1)],1)},Pd=[];Md._withStripped=!0;var Dd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{maximized:""},model:{value:e.visivel,callback:function(t){e.visivel=t},expression:"visivel"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[a("q-search",{ref:"search",attrs:{color:"none",inverted:"",placeholder:e.placeholder,debounce:1500,after:[{icon:"close",content:!0,handler:function(){e.limpar(),e.preencher()}}]},on:{input:e.preencher},model:{value:e.termo,callback:function(t){e.termo=t},expression:"termo"}})],1),a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{dense:"",flat:"",round:"",icon:e.botaoModo.icon},on:{click:e.alterarModo}},[a("q-tooltip",[e._v(e._s(e.botaoModo.label))])],1)],1),a("div",{staticClass:"layout-padding"},[e.carregando?a("div",{staticClass:"q-mt-lg text-center"},[a("q-spinner",{attrs:{color:"faded",size:50}})],1):e._e(),!e.carregando&&e.contatosEncontrados?a("div",[e.modo.lista?a("q-list",{attrs:{link:"","no-border":"",separator:""}},e._l(e.contatos,function(t){return a("contato-card",{key:t.id,attrs:{contato:t,marcaTexto:e.termo,modo:"lista"},on:{selecionar:e.selecionar}})})):e._e(),e.modo.grade?a("div",{staticClass:"gutter-sm items-stretch row"},e._l(e.contatos,function(t){return a("div",{key:t.id,staticClass:"col-12 col-sm-6 col-md-4 col-lg-3"},[a("contato-card",{attrs:{contato:t,marcaTexto:e.termo},on:{selecionar:e.selecionar}})],1)})):e._e()],1):e._e(),e.carregando||e.contatosEncontrados?e._e():a("div",{staticClass:"bg-light q-pa-lg round-borders text-black text-center"},[e._v("\n        Não encontramos contatos com os critérios selecionados.\n      ")])])],1)],1)},Ed=[];Dd._withStripped=!0;var Td=function(){var e=this,t=e.$createElement,a=e._self._c||t;return"0"!==e.contato.id?a(e.eLista?"q-item":"q-card",{tag:"component",staticClass:"ContatoCard",nativeOn:{click:function(t){return e.selecionar(t)}}},[a(e.eLista?"q-item-side":"q-card-media",{tag:"component"},[a("avatar",{attrs:{imagem:e.contato.imagem,redondo:e.eLista,rotulo:e.contato.apelido,tamanho:"80"}})],1),a(e.eLista?"q-item-main":"div",{tag:"component"},[a(e.eLista?"q-item-tile":"q-card-title",{tag:"component",attrs:{label:e.eLista}},[e._v("\n      "+e._s(e.contato.apelido)+"\n    ")]),e.eLista?e._e():a("q-card-separator"),a(e.eLista?"q-item-tile":"q-card-main",{tag:"component",staticClass:"text-faded",attrs:{sublabel:e.eLista}},[e.contato.nome?a("div",[a("strong",[e._v("Nome completo:")]),e._v(" "+e._s(e.contato.nome))]):e._e(),e.contato.numeroDocumentoNacional?a("div",[a("strong",[e._v("CPF/CNPJ:")]),e._v(" "+e._s(e.contato.numeroDocumentoNacional)+"\n      ")]):e._e(),e.crm?a("div",[a("strong",[e._v("CRM:")]),e._v("\n        "+e._s(e.crm)+"\n      ")]):e._e(),e.telefones?a("div",[a("strong",[e._v("\n          "+e._s(/\s\|\s/g.test(e.telefones)?"Telefones:":"Telefone:")+"\n        ")]),e._v("\n        "+e._s(e.telefones)+"\n      ")]):e._e(),e.municipios?a("div",[a("strong",[e._v("\n          "+e._s(/\s\|\s/g.test(e.municipios)?"Municípios:":"Município:")+"\n        ")]),e._v("\n        "+e._s(e.municipios)+"\n      ")]):e._e(),e.eLista?e._e():a("badge",{staticClass:"q-mt-md",attrs:{cor:e.badgeCor,escuro:""}},[e._v("\n        #"+e._s((e.contato.codigoContato||0).toString().padStart(6,"0")))])],1)],1),e.eLista?a("q-item-side",{attrs:{right:""}},[a("badge",{attrs:{cor:e.badgeCor,escuro:""}},[e._v("#"+e._s((e.contato.codigoContato||0).toString().padStart(6,"0")))])],1):e._e()],1):e._e()},Ad=[];Td._withStripped=!0;var Od=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.classes},[e.icone?a("q-icon",{staticClass:"q-mr-xs",attrs:{name:e.icone}}):e._e(),a("span",{staticClass:"q-pa-none"},[e._v(e._s(e.rotulo))]),e._t("default")],2)},$d=[];Od._withStripped=!0;var Rd={computed:{classes:function(){return["Badge",!!this.denso&&"Badge--denso","bg-".concat(this.cor),!!this.escuro&&"text-white"]}},props:{icone:{default:"",type:String},cor:{default:"light",type:String},denso:{default:!1,type:Boolean},escuro:{default:!1,type:Boolean},rotulo:{type:String}}},jd=Rd,zd=(a("5ea5"),Object(sc["a"])(jd,Od,$d,!1,null,null,null));zd.options.__file="Badge.vue";var Bd=zd.exports,Ld={components:{Avatar:Fc,Badge:Bd},computed:{badgeCor:function(){return this.contato.ativo?this.contato.condutaRestricao?"negative":this.contato.condutaObservacao?"orange":"positive":"faded"},eLista:function(){return"lista"===this.modo}},data:function(){return{telefones:"",municipios:"",crm:""}},methods:{selecionar:function(){this.$emit("selecionar",this.contato.id,this.contato)}},props:{contato:{type:[Boolean,Object,String]},marcaTexto:{type:String},modo:{type:String,default:"card"}},created:function(){var e=this;if(this.contato.id){He().contatoTelefone.where({idContato:this.contato.id}).toArray().then(function(t){var a="",o=!0,i=!1,r=void 0;try{for(var s,n=t.map(function(e){return(e.telefone||"").replace(/\D/g,"")})[Symbol.iterator]();!(o=(s=n.next()).done);o=!0){var c=s.value;c&&(a+=c+" | ")}}catch(e){i=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw r}}e.telefones=a.substring(0,a.length-3)}),He().contatoEndereco.where({idContato:this.contato.id}).toArray().then(function(t){var a="",o=!0,i=!1,r=void 0;try{for(var s,n=t.map(function(e){return(e.municipio||"").replace(/\s+/g," ").trim()})[Symbol.iterator]();!(o=(s=n.next()).done);o=!0){var c=s.value;c&&(a+=c+" | ")}}catch(e){i=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw r}}e.municipios=a.substring(0,a.length-3)});var t=(this.contato.numeroDocumentoMunicipal||"").trim();t&&He().contatoGrupo.where({idContato:this.contato.id}).toArray().then(function(a){var o=!0,i=!1,r=void 0;try{for(var s,n=function(){var a=s.value,o=void 0;o=(a.descricao||"").trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),["medico","medica","medicos"].find(function(e){return e===o})&&(e.crm=t)},c=a[Symbol.iterator]();!(o=(s=c.next()).done);o=!0)n()}catch(e){i=!0,r=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw r}}})}}},Vd=Ld,Ud=(a("1438"),Object(sc["a"])(Vd,Td,Ad,!1,null,null,null));Ud.options.__file="ContatoCard.vue";var Hd=Ud.exports,Qd={modo:{lista:!0,grade:!1}},Gd={components:{ContatoCard:Hd},computed:{botaoModo:function(){var e={};return this.modo.lista&&(e={icon:"view_module",label:"Grade"}),this.modo.grade&&(e={icon:"view_list",label:"Lista"}),e},contatosEncontrados:function(){return this.contatos.length}},data:function(){return{carregando:!1,contatos:[],modo:at()({},Qd.modo),termo:"",visivel:!1}},methods:{preencher:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.carregando=!0,e.next=3,xa(500);case 3:Zn.contatoBusca.filtrar(this.termo,this.filtro).then(function(e){t.contatos=Object(ot["orderBy"])(e,["nome"],["asc"]),t.carregando=!1});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),alterarModo:function(){this.modo.lista=!this.modo.lista,this.modo.grade=!this.modo.grade},limpar:function(){this.contatos=[],this.contato={},this.termo=""},renovar:function(){this.limpar(),this.modo=at()({},Qd.modo)},selecionar:function(e,t){this.contato={},t.id&&(this.contato=at()({},t)),this.visivel=!1}},props:{filtro:{default:function(){return{}},type:Object},placeholder:{default:"Buscar",type:String},online:{default:!1,type:Boolean},value:{required:!0,type:Boolean}},watch:{visivel:function(e){if(!e){var t=this.contato||{};this.$emit("selecionar",t.id,t,!0),this.$emit("input",!1)}},value:function(e){e?(this.visivel=!0,this.preencher()):this.renovar()}},updated:function(){this.$refs.search.focus()}},Jd=Gd,Xd=Object(sc["a"])(Jd,Dd,Ed,!1,null,null,null);Xd.options.__file="PromptContatoNovo.vue";var Yd=Xd.exports,Wd={components:{Avatar:Fc,PromptContatoNovo:Yd},data:function(){return{certificado:{arquivo:"",senha:""},dbUsuario:Zn.usuario,empresa:{},empresas:[],modalCertificado:!1,modalContato:!1,modalEmpresa:!1,resultado:{erro:0,final:"",listaNCMErros:[],percentagem:0,sucesso:0,titulo:"Importando...",total:0,visivel:!1}}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("clienteSistema"),Po(!t,"Ocorreu erro ao consultar clienteSistema"),this.clienteSistema=JSON.parse(t),e.next=6,Zn.empresa.leOnlinePlat({codigoClienteSistema:this.clienteSistema.codigoClienteSistema});case 6:a=e.sent,ei.log("ConfiguracoesEmpresas","atualizar",a.length),o=!0,i=!1,r=void 0,e.prev=11,s=a[Symbol.iterator]();case 13:if(o=(n=s.next()).done){e.next=22;break}return c=n.value,e.next=17,Zn.contato.leOnline({codigoContato:c.codigoContato});case 17:l=e.sent,c.contato=l[0]||{};case 19:o=!0,e.next=13;break;case 22:e.next=28;break;case 24:e.prev=24,e.t0=e["catch"](11),i=!0,r=e.t0;case 28:e.prev=28,e.prev=29,o||null==s.return||s.return();case 31:if(e.prev=31,!i){e.next=34;break}throw r;case 34:return e.finish(31);case 35:return e.finish(28);case 36:this.empresas=a,e.next=42;break;case 39:e.prev=39,e.t1=e["catch"](0),this.$q.notifyError("Ocorreu erro ao consultar empresas",e.t1);case 42:case"end":return e.stop()}},e,this,[[0,39],[11,24,28,36],[29,,31,35]])}));return function(){return e.apply(this,arguments)}}(),abrirModalEmpresa:function(e){try{ei.log("ConfiguracoesEmpresas","abrirModalEmpresa",e),this.modalEmpresa=!0,this.empresa=e}catch(e){this.$q.notifyError("Ocorreu erro ao abrir empresa",e)}},abrirSiteIbpt:function(){window.open("https://deolhonoimposto.ibpt.org.br/Site/PassoPasso")},adicionarCertificado:function(e){ei.log("ConfiguracoesEmpresas","adicionarCertificado",e[0].name),this.certificado.arquivo=e[0]},enviarCertificado:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("ConfiguracoesEmpresas","enviarCertificado",this.empresa.numeroDocumentoNacional,this.certificado.arquivo.name),Po(!this.certificado.arquivo,"Certificado não selecionado"),Po(!this.certificado.senha,"Senha obrigatória"),a=new FormData,a.append("funcao","948AE0B9-67F9-4116-AE95-E48617202DCA"),a.append("arquivo",this.certificado.arquivo),a.append("senha",this.certificado.senha),a.append("CNPJ",this.$utils.filtrarDigitos(this.empresa.numeroDocumentoNacional)),e.next=10,this.$utils.geeksApi(a);case 10:o=e.sent,this.$q.notifyPositive(o.data.upload.mensagem),this.modalCertificado=!1;case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),removerEmpresa:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("ConfiguracoesEmpresas","removerEmpresa",t),e.prev=1,e.next=4,this.$q.dialog({cancel:!0,color:"negative",title:"Tem certeza?",message:"Ao continuar você irá remover esta empresa.",ok:"Remover"});case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e["catch"](1),e.abrupt("return");case 9:return e.prev=9,e.next=12,Zn.empresa.removeOnline(t);case 12:return e.next=14,this.atualizar();case 14:this.$q.notifyPositive("A empresa foi removida com sucesso."),e.next=20;break;case 17:e.prev=17,e.t1=e["catch"](9),this.$q.notifyError("Ocorreu um erro ao remover empresa",e.t1);case 20:case"end":return e.stop()}},e,this,[[1,6],[9,17]])}));return function(t){return e.apply(this,arguments)}}(),criarEmpresa:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return");case 3:return ei.log("ConfiguracoesEmpresas","criarEmpresa",t,a,this.clienteSistema),o=this.empresas.find(function(e){return e.idContato===a.id})||{},e.next=7,Zn.empresa.gravaOnline({atual:at()({},o,{idContato:a.id,codigoContato:a.codigoContato,nome:a.nome,apelido:a.apelido,numeroDocumentoNacional:a.numeroDocumentoNacional,numeroDocumentoEstadual:a.numeroDocumentoEstadual,codigoClienteSistema:this.clienteSistema.codigoClienteSistema,idClienteSistema:this.clienteSistema.idClienteSistema})});case 7:return e.next=9,this.atualizar();case 9:this.$q.notifyPositive("Empresa salva com sucesso"),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),this.$q.notifyError("Ocorreu erro ao salvar empresa",e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t,a){return e.apply(this,arguments)}}(),gravarEmpresa:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,ei.log("ConfiguracoesEmpresas","gravarEmpresa",this.empresa),e.next=4,Zn.empresa.gravaOnline({atual:at()({},this.empresa,{idContato:this.empresa.contato.id,codigoClienteSistema:this.clienteSistema.codigoClienteSistema,idClienteSistema:this.clienteSistema.idClienteSistema})});case 4:return e.next=6,this.atualizar();case 6:this.$q.notifyPositive("Empresa salva com sucesso"),this.modalEmpresa=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),this.$q.notifyError("Ocorreu erro ao salvar empresa",e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),importaAliquotasIBPT:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("NFeIbpt","importaAliquotasIBPT()",t),e.prev=1,Po(14!==Pa(t.numeroDocumentoNacional).length,"CNPJ da empresa inválido"),Po(!t.tokenIBPT,"Empresa sem Token do IBPT"),e.next=6,Zn.contatoEndereco.leEnderecoPrincipal(t.contato.id);case 6:return t.contato.enderecoPrincipal=e.sent,Po(!t.contato.enderecoPrincipal,"Empresa sem endereco"),Po(!t.contato.enderecoPrincipal.uf,"Empresa sem UF cadastrado"),e.next=11,this.gravarEmpresa();case 11:return a={token:t.tokenIBPT,cnpj:Pa(t.numeroDocumentoNacional),codigo:"",uf:t.contato.enderecoPrincipal.uf,ex:"0",descricao:"X",unidadeMedida:"UN",valor:"0",gtin:"0"},this.resultado.visivel=!0,this.resultado.sucesso=0,this.resultado.erro=0,this.resultado.percentagem=0,this.resultado.listaNCMErros=[],this.resultado.final="",e.next=20,Zn.ncm.le();case 20:for(e.t0=function(e){return e.ncm},o=e.sent.map(e.t0).sort(),ei.log("NFeIbpt","ncms",o),this.resultado.total=o.length,i=[],r=[i],s=!0,n=!1,c=void 0,e.prev=29,l=o[Symbol.iterator]();!(s=(d=l.next()).done);s=!0)u=d.value,i.length>=10&&(i=[],r.push(i)),i.push({ncm:u,params:ea(a),promisse:null});e.next=37;break;case 33:e.prev=33,e.t1=e["catch"](29),n=!0,c=e.t1;case 37:e.prev=37,e.prev=38,s||null==l.return||l.return();case 40:if(e.prev=40,!n){e.next=43;break}throw c;case 43:return e.finish(40);case 44:return e.finish(37);case 45:ei.log("NFeIbpt","listaLista",r),m=0;case 47:if(!(m<r.length)){e.next=112;break}if(p=r[m],this.resultado.visivel){e.next=51;break}return e.abrupt("return");case 51:for(v=!0,h=!1,f=void 0,e.prev=54,C=p[Symbol.iterator]();!(v=(b=C.next()).done);v=!0)g=b.value,g.params.codigo=g.ncm,g.promisse=gt()({method:"get",url:"https://apidoni.ibpt.org.br/api/v1/produtos",params:g.params,validateStatus:function(e){return e>=200&&e<=500}});e.next=62;break;case 58:e.prev=58,e.t2=e["catch"](54),h=!0,f=e.t2;case 62:e.prev=62,e.prev=63,v||null==C.return||C.return();case 65:if(e.prev=65,!h){e.next=68;break}throw f;case 68:return e.finish(65);case 69:return e.finish(62);case 70:x=!0,_=!1,q=void 0,e.prev=73,S=p[Symbol.iterator]();case 75:if(x=(I=S.next()).done){e.next=95;break}return F=I.value,e.next=79,F.promisse;case 79:if(w=e.sent,ei.log("NFeIbpt","res",w),Po(!w||!w.data||!w.status,"Erro de comunicação com o servidor IBPT"),Po(200!==w.status,"Erro retornado pelo servidor do IBPT: "+w.data.Message||!1),w.data.Codigo!==F.ncm){e.next=89;break}return this.resultado.sucesso++,e.next=87,Zn.nfeIbpt.atualiza(t.contato.id,w.data);case 87:e.next=91;break;case 89:this.resultado.erro++,this.resultado.listaNCMErros.push(F.ncm);case 91:this.resultado.percentagem=100*(this.resultado.sucesso+this.resultado.erro)/this.resultado.total;case 92:x=!0,e.next=75;break;case 95:e.next=101;break;case 97:e.prev=97,e.t3=e["catch"](73),_=!0,q=e.t3;case 101:e.prev=101,e.prev=102,x||null==S.return||S.return();case 104:if(e.prev=104,!_){e.next=107;break}throw q;case 107:return e.finish(104);case 108:return e.finish(101);case 109:m++,e.next=47;break;case 112:this.resultado.final="Importação finalizada!",e.next=118;break;case 115:e.prev=115,e.t4=e["catch"](1),this.resultado.final=this.$q.notifyError("Falha na importação!",e.t4);case 118:case"end":return e.stop()}},e,this,[[1,115],[29,33,37,45],[38,,40,44],[54,58,62,70],[63,,65,69],[73,97,101,109],[102,,104,108]])}));return function(t){return e.apply(this,arguments)}}()},created:function(){this.atualizar()}},Zd=Wd,Kd=(a("57ca"),Object(sc["a"])(Zd,Md,Pd,!1,null,"69e30298",null));Kd.options.__file="ConfiguracoesEmpresas.vue";var eu=Kd.exports,tu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ConfiguracoesUsuarios"},[a("div",{staticClass:"q-pb-md"},[a("q-card",{staticClass:" shadow-3 row no-shadow"},[a("div",{staticClass:"col-12 q-pt-md"},[a("q-toolbar",{staticClass:"no-shadow q-pa-none",attrs:{"text-color":"black",color:"transparent"}},[a("q-toolbar-title",{staticClass:"q-pa-none"},[a("div",{staticClass:"filters row q-pa-sm q-ma-md gutter-x-sm bg-white",staticStyle:{"border-radius":"5px","min-height":"50px"}},[a("div",{staticClass:"col-12 col-md q-pl-none"},[a("div",{staticClass:"row "},[a("q-btn",{staticClass:"no-shadow",attrs:{icon:"filter_list",round:"",color:"faded"}}),a("q-chips-input",{staticClass:"col q-mx-sm",attrs:{color:"faded"},model:{value:e.grupos,callback:function(t){e.grupos=t},expression:"grupos"}})],1)])])])],1)],1)]),a("div",{staticClass:"no-shadow"},[a("div",{staticClass:"row gutter-sm"},[a("div",{staticClass:"col-12 col-lg-8"},[a("q-list",[a("q-collapsible",{attrs:{opened:"",label:"Usuários"}},[a("q-list",[a("q-collapsible",{attrs:{opened:"",label:"Administrador"}},[a("q-card",{staticClass:"extratoItem bg-white q-mb-md q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg"},[a("img",{staticClass:"avatar float-left",staticStyle:{"max-width":"40px",height:"auto",float:"left"},attrs:{src:"https://i.pinimg.com/originals/a9/38/09/a938091f6fdca06fc6e829688f2dbe88.jpg"}}),a("q-toolbar-title",[a("div",[e._v("Ricardo Floriano\n                          ")]),a("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n                            Ricardo Floriano da Silva\n                          ")])])],1),a("div",{staticClass:"col-10 offset-1 q-pl-md col-lg"},[a("q-toolbar-title",[a("div",[e._v("018.594.415.99")]),a("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n                            Administrador\n                          ")])])],1),a("div",{staticClass:"col-12 col-lg",staticStyle:{"text-align":"right"}},[a("q-btn",{staticClass:"no-shadow q-ma-xs",attrs:{rounded:"",dense:"",flat:"",icon:"vpn_lock",color:"primary",size:"md"},on:{click:function(t){e.openedTitulo=!0}}}),a("q-btn",{staticClass:"no-shadow q-ma-xs",attrs:{rounded:"",dense:"",flat:"",icon:"edit",color:"primary",size:"md"},on:{click:function(t){e.openedEditar=!0}}}),a("q-btn",{staticClass:"no-shadow q-ma-xs",attrs:{rounded:"",dense:"",flat:"",icon:"delete",color:"grey",size:"md"}})],1)])])],1),a("div",{staticClass:"q-mt-md text-center"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Usuário",outline:"",size:"sm"}})],1)],1)],1)],1)],1),a("div",{staticClass:"col-12 col-lg"},[a("q-list",[a("q-collapsible",{attrs:{opened:"",label:"Grupos"}},[a("q-card",{staticClass:"extratoItem bg-white q-mb-md q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("q-toolbar-title",[a("div",[e._v("Administrador\n                      ")])])],1),a("q-btn",{staticClass:"no-shadow q-ma-xs",attrs:{rounded:"",dense:"",flat:"",icon:"vpn_lock",color:"primary",size:"md"},on:{click:function(t){e.openedTitulo=!0}}}),a("q-btn",{staticClass:"no-shadow q-ma-xs",attrs:{rounded:"",dense:"",flat:"",icon:"edit",color:"primary",size:"md"},on:{click:function(t){e.openedEditar=!0}}}),a("q-btn",{staticClass:"no-shadow q-ma-xs",attrs:{rounded:"",dense:"",flat:"",icon:"delete",color:"grey",size:"md"}})],1)])],1),a("div",{staticClass:"q-mt-md text-center"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Grupo",outline:"",size:"sm"}})],1)],1)],1)])])],1),a("q-modal",{attrs:{"content-css":{width:"80vw",maxWidth:"480px"}},model:{value:e.openedEditar,callback:function(t){e.openedEditar=t},expression:"openedEditar"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Nome do Usuário")])],1),a("form",[a("div",{staticClass:"layout-padding"},[a("q-select",{staticClass:"q-body-1",attrs:{placeholder:"Grupo",radio:"",color:"green-7",options:e.selectOptionsPC},model:{value:e.selectPC,callback:function(t){e.selectPC=t},expression:"selectPC"}}),a("campo",{attrs:{maxlength:"50",rotulo:"Senha"}}),a("campo",{attrs:{maxlength:"50",rotulo:"Tela Inicial"}})],1),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",color:"primary",label:"Cancelar"}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Salvar"}})],1)])],1)],1)],1)],1),a("q-modal",{staticClass:"bg-cinza",attrs:{maximized:""},model:{value:e.openedTitulo,callback:function(t){e.openedTitulo=t},expression:"openedTitulo"}},[a("q-layout-header",{attrs:{reveal:""}},[a("q-toolbar",{staticClass:"BarraTopo"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"}}),a("q-toolbar-title",[e._v("\n          Alterar Permissões\n        ")]),a("q-btn",{staticClass:"no-shadow",attrs:{color:"primary",label:"Salvar"}})],1)],1),a("q-modal-layout",[a("div",{staticClass:" row justify-center"},[a("div",{staticStyle:{width:"1280px","max-width":"100%"}},[a("div",{staticClass:"no-shadow q-mb-md row gutter-sm q-mx-none q-mt-xl "},[a("q-card",{staticClass:"col-12 bg-white q-pb-md no-shadow reverse"},[a("q-tree",{attrs:{nodes:e.tickable,color:"primary","default-expand-all":"",ticked:e.ticked,"tick-strategy":e.tickStrategy,filter:e.tickFilter,"node-key":"label"},on:{"update:ticked":function(t){e.ticked=t}}})],1)],1)])])])],1)],1)},au=[];tu._withStripped=!0;var ou={components:{Campo:Sl},data:function(){return{checkedVO:!1,checkedDetails:!1,checkedTitulo:!1,showMoreDetails:!1,openedSangria:!1,openedEditar:!1,openedTitulo:!1,showchat:!1,openedC:!1,showing:!1,dataIni:"",dataFin:"",grupos:[],tickable:[{label:"Empresas",icon:"business",children:[{label:"Geeks"},{label:"Carlos"}]},{label:"Telas e Diretivas",children:[{label:"Geeks"},{label:"Pleasant surroundings",icon:"photo",children:[{label:"Pleasing decor"}]},{label:"Extra information (has no tick)",icon:"photo"},{label:'Forced tick strategy (to "strict" in this case)',tickStrategy:"strict",icon:"school",children:[{label:"Happy atmosphere"},{label:"Good table presentation"},{label:"Very pleasing decor"}]}]}],ticked:[],tickStrategy:"leaf",tickFilter:null,simple:[{label:"Satisfied customers",children:[{label:"Good food",children:[{label:"Quality ingredients"},{label:"Good recipe"}]},{label:"Good service (disabled node)",disabled:!0,children:[{label:"Prompt attention"},{label:"Professional waiter"}]},{label:"Pleasant surroundings",children:[{label:"Happy atmosphere"},{label:"Good table presentation"},{label:"Pleasing decor"}]}]}],selectListOptions:[{label:"Nome do banco",inset:!0,sublabel:"Enables communication",stamp:"Saldo",value:"fb1"},{label:"Nome do banco",inset:!0,sublabel:"Enables communication",stamp:"Saldo",value:"fb2"}],selectPC:"",selectedDataTipo:"",selectDataTipo:[{label:"Vencimento",value:"goog"},{label:"Outro",value:"fb"}],selectOptionsPC:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],dados:{fonetipo:[{label:"Principal",value:"Principal"},{label:"Celular",value:"Celular"},{label:"Fixo",value:"Fixo"},{label:"WhatsApp",value:"WhatsApp"}]}}}},iu=ou,ru=(a("0b07"),Object(sc["a"])(iu,tu,au,!1,null,"21ef6d00",null));ru.options.__file="ConfiguracoesUsuarios.vue";var su=ru.exports,nu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"text-left q-mt-lg"},[a("div",{attrs:{row:""}},[a("q-btn",{staticClass:"q-ma-sm no-shadow",attrs:{color:"primary",icon:"healing",label:"Inutilização de número NFe/NFCe"},on:{click:e.abrirModalInutilizacao}})],1)]),a("NFeInutilizacao",{ref:"modalNFeInutilizacao"})],1)},cu=[];nu._withStripped=!0;var lu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-modal",{attrs:{"content-css":{width:"100vw",maxWidth:"768px"}},model:{value:e.modalInutilizacao,callback:function(t){e.modalInutilizacao=t},expression:"modalInutilizacao"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Inutilização de número NFe/NFCe")])],1),a("form",{on:{submit:function(t){return t.preventDefault(),e.inutilizarNota(t)}}},[a("div",{staticClass:"layout-padding"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{value:e.descricaoEmpresa,before:[{icon:"search",handler:e.abrirModalInutilizacaoEmpresas}],rotulo:"Empresa","somente-leitura":""}}),a("campo",{staticClass:"col-md-3",attrs:{dica:e.metadados.infInut.mod._doc,opcoes:e.metadados.infInut.mod._enumeration,"rotulo-fixo":e.metadados.infInut.mod._titulo,tipo:"seletor"},model:{value:e.infInut.mod,callback:function(t){e.$set(e.infInut,"mod",t)},expression:"infInut.mod"}}),a("campo",{staticClass:"col-md-3",attrs:{dica:e.metadados.infInut.serie._doc,rotulo:e.metadados.infInut.serie._titulo,tipo:"texto"},model:{value:e.infInut.serie,callback:function(t){e.$set(e.infInut,"serie","string"===typeof t?t.trim():t)},expression:"infInut.serie"}}),a("campo",{staticClass:"col-md-3",attrs:{dica:e.metadados.infInut.nNFIni._doc,rotulo:e.metadados.infInut.nNFIni._titulo,tipo:"texto"},model:{value:e.infInut.nNFIni,callback:function(t){e.$set(e.infInut,"nNFIni","string"===typeof t?t.trim():t)},expression:"infInut.nNFIni"}}),a("campo",{staticClass:"col-md-3",attrs:{dica:e.metadados.infInut.nNFFin._doc,rotulo:e.metadados.infInut.nNFFin._titulo,tipo:"texto"},model:{value:e.infInut.nNFFin,callback:function(t){e.$set(e.infInut,"nNFFin","string"===typeof t?t.trim():t)},expression:"infInut.nNFFin"}}),a("campo",{staticClass:"col-md-12",attrs:{dica:e.metadados.infInut.xJust._doc,rotulo:e.metadados.infInut.xJust._titulo,tipo:"textoArea"},model:{value:e.infInut.xJust,callback:function(t){e.$set(e.infInut,"xJust","string"===typeof t?t.trim():t)},expression:"infInut.xJust"}})],1)]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",color:"primary",label:"Cancelar"}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Inutilizar"}})],1)])],1)],1)],1)],1),a("prompt-contato-novo",{attrs:{filtro:{ativo:!0,empresas:!0}},on:{selecionar:e.selecionarEmpresaInutilizacao},model:{value:e.modalInutilizacaoEmpresas,callback:function(t){e.modalInutilizacaoEmpresas=t},expression:"modalInutilizacaoEmpresas"}})],1)},du=[];lu._withStripped=!0;a("3b2b");var uu={executa:function(e){var t={};for(var a in e)t[a]=uu.geraTags(e[a],a);return t},geraTags:function(e,t){var a={},o=!1;for(var i in e)i.startsWith("_")||(i.startsWith("lista")?a["$each"]=uu.geraTags(e[i],t+"."+i):"visivel"===i||"valor_escolha"===i||(a[i]=uu.geraTags(e[i],t+"."+i)),o=!0);return o||(a={c:uu.consiste(t)}),a},formataNumero:function(e,t){var a=e;if("number"===typeof e){var o=e.toFixed(t),i=e.toString();a=o.length>i.length?o:i}return a},mensagemPorTipo:function(e,t,a,o,i,r,s){var n="";return n="cEAN"===t||"cEANTrib"===t?"Deve conter 8, 12, 13 ou 14 digitos ou o texto SEM GTIN":"TCnpj"===a?"Deve conter 14 digitos":"TCnpjOpc"===a?"Deve conter 14 digitos ou em branco":"TCpf"===a?"Deve conter 11 digitos":"TIeDestNaoIsento"===a?"Deve conter de 2 a 14 digitos":"TIeDest"===a||"TIe"===a?"Deve conter de 2 a 14 digitos ou o texto ISENTO":"TSerie"===a?"Deve conter de 1 a 3 digitos":"TDec_0302a04Max100"===a?"Deve ser um número de 0 a 100 com até 4 decimais":a.startsWith("TDec_0302a04")?"Deve ser um número de 0 a 999 com até 4 decimais":Ot.tiposNumero.includes(o)?r||0!==e?r&&0===e?"":0===i?"Número inválido":"Deve ser um valor com até "+i+" casas decimais":"Campo obrigatório":"Conteúdo inválido",n},consisteCampo:function(e,t,a){var o="string"===typeof e?e.length:null!=e?e.toString().length:0,i=t._minLength||0,r=t._maxLength||0,s=t._opcional||!1,n=t._pattern||null,c=t._type||"",l=t._tipo||"",d=parseInt(t._decimals||"0"),u="",m=!1;if(n){var p=e;Ot.tiposNumero.includes(l)&&(p=uu.formataNumero(e,d)),"data"===l?p=Ot.formatarDataNFeSemHoras(e):"dataHora"===l&&(p=Ot.formatarDataNFe(e));var v=new RegExp("^("+n+")$");m=v.test(p)}return u=s&&0===o?"":s||0!==o||m?o<i?"Tamanho mínimo de "+i+" caracteres":0!==r&&o>r?"Tamanho máximo de "+r+" caracteres":null===n||""===n||m?"":uu.mensagemPorTipo(e,a,c,l,d,s,n):"Campo obrigatório",u},consiste:function(e){return rl["helpers"].withParams({type:"contains",value:e},function(t){var a,o,i=e.split("."),r=this,s=Et;for(var n in i)a=i[n],n===i.length-1?o=a+"_erro":r="lista"===a?r[0]:r[a],s=s[a];var c=uu.consisteCampo(t,s,a);return r[a]===t&&(r[o]=c),""===c})}},mu=uu,pu={erros:null,executa:function(e,t){var a=Yo("compactarValidarNFe");try{return this.erros=[],this.gerarTags(e,t,"infNFe")}catch(e){throw console.error("Erro no compactarValidarNFe\n",e),e}finally{Wo(a)}},gerarTags:function(e,t,a){var o={};if(t=t||{},e.visivel){if(!t.visivel)return o;o.visivel=!0}for(var i in e)if(!i.startsWith("_")&&"visivel"!==i){var r=t[i],s=e[i];if(i.startsWith("opcional")){var n=this.gerarTags(s,r,a+"."+i);n.visivel&&(o[i]=n)}else if(i.startsWith("escolhas")){var c=(r||{}).valor_escolha||"";if(c in s){var l=this.gerarCampo(s[c],r,c,a+"."+c);null===l||l.constructor===Object&&0===Object.keys(l).length||(o[i]={valor_escolha:c},o[i][c]=l)}}else{var d=this.gerarCampo(s,t,i,a+"."+i);null!==d&&(o[i]=d)}}return o},gerarCampo:function(e,t,a,o){var i=(t||{})[a],r=mu.consisteCampo(i,e,a);if(r&&this.erros.push("Erro: "+r+". Campo: "+e._titulo+" ("+o+")"),Ot.tiposNumero.includes(e._tipo)){if(i)return i;if(!e._opcional)return 0}else if("dataHora"===e._tipo){if(i)return Ot.formatarDataNFe(i);if(!e._opcional)return""}else if("data"===e._tipo){if(i)return Ot.formatarDataNFeSemHoras(i);if(!e._opcional)return""}else if("lista"in e){if(i&&i.constructor===Array&&i.length>0)return this.gerarLista(e.lista,i,o+"."+a);if(!e._opcional)return[]}else if(null===i||void 0===i){if(!e._opcional)return null}else if(i.constructor===String){if(i)return i;if(!e._opcional)return""}else{var s=this.gerarTags(e,i,o);if(null!=i&&Object.keys(s).length>0&&!1!==i.visivel)return s;if(!e._opcional)return{}}return null},gerarLista:function(e,t,a){var o=[];for(var i in t)o.push(this.gerarTags(e,t[i],a+"["+i+"]"));return o}},vu={executa:function(e,t,a){return this.geraTags(e,t,a)},geraTags:function(e,t,a){var o={},i=!1;for(var r in e)if(!r.startsWith("_")){if(r.startsWith("lista"))return this.geraLista(e[r],t,a);"visivel"===r?o[r]=null!=t&&r in t&&t[r]:"valor_escolha"===r?null!=t&&r in t?o[r]=t[r]:(o[r]=this.primeiraEscolha(e),"ICMS00"===o[r]&&(o[r]="")):o[r]=null!=t&&r in t?this.geraTags(e[r],t[r],a):this.geraTags(e[r],null,a),"NFCe"!==a&&(o[r+"_erro"]=""),i=!0}return i||(o=null==t?e._valorInic:"data"===e._tipo&&10===t.length?t+"T00:00:00":t),o},geraLista:function(e,t,a){var o=[];for(var i in t)o.push(this.geraTags(e,t[i],a));return o},primeiraEscolha:function(e){if(e._opcional)return"Não se aplica";for(var t in e)if(!t.startsWith("_")&&"valor_escolha"!==t)return t;return""}},hu=a("895f"),fu={components:{Campo:Sl,PromptContatoNovo:Yd},data:function(){return{descricaoEmpresa:"",metadados:Et,modalInutilizacao:!1,modalInutilizacaoEmpresas:!1,infInut:vu.executa(Et.infInut,{})}},methods:{abrirModalInutilizacao:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("ConfiguracoesDocumentosFiscais","abrirModalInutilizacao"),e.t0=vu,e.t1=Et.infInut,e.next=5,Zn.configuracoes.leValorNumerico("nfce.homologacao");case 5:if(e.t2=e.sent,1!==e.t2){e.next=10;break}e.t3="2",e.next=11;break;case 10:e.t3="1";case 11:return e.t4=e.t3,e.t5=ra()().format("YY"),e.t6=String,e.next=16,Zn.configuracoes.leValorNumerico("nfce.padrao.serie",1);case 16:e.t7=e.sent,e.t8=(0,e.t6)(e.t7),e.t9={tpAmb:e.t4,mod:"",cUF:"",ano:e.t5,CNPJ:"",serie:e.t8,nNFIni:"",nNFFin:"",xJust:"Ocorreu uma falha que pulou a sequência de numeração"},this.infInut=e.t0.executa.call(e.t0,e.t1,e.t9),this.descricaoEmpresa="",this.modalInutilizacao=!0;case 22:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),abrirModalInutilizacaoEmpresas:function(){this.modalInutilizacaoEmpresas=!0},inutilizarNota:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t="Erro na inutilização",e.prev=1,ei.log("ConfiguracoesDocumentosFiscais","inutilizarNota",this.infInut),Po(!this.infInut.CNPJ||!this.infInut.cUF,"Empresa não selecionada"),Po(!this.infInut.mod,"Modelo não preenchido"),Po(!this.infInut.serie,"Serie não preenchida"),Po(!this.infInut.nNFIni,"Número inicial não preenchido"),Po(!this.infInut.xJust,"Justificativa não preenchida"),this.infInut.nNFFin||(this.infInut.nNFFin=this.infInut.nNFIni),a=pu.executa(Et.infInut,this.infInut),!pu.erros.length){e.next=13;break}return qa.$emit("mostrarModalAlerta",{titulo:"Erro de validação",erros:pu.erros}),e.abrupt("return");case 13:return Oe["a"].show({spinner:hu["a"],spinnerColor:"amber",message:"Selecionando Certificado e Trasmitindo Inutilização"}),t="Ocorreu um erro ao Transmitir",e.next=17,Vt.inutilizar(Et,a,this.idEmpresa);case 17:if(o=e.sent,"Erro"!==o.status){e.next=23;break}return ei.log("ConfiguracoesDocumentosFiscais",o),i=la()((o.mensagem||"").split("\n")).concat(la()((o.complemento||"").split("\n"))),qa.$emit("mostrarModalAlerta",{titulo:o.status,erros:i}),e.abrupt("return");case 23:this.$q.notifyPositive(o.mensagem),this.modalInutilizacao=!1,e.next=30;break;case 27:e.prev=27,e.t0=e["catch"](1),this.$q.notifyError(t,e.t0);case 30:return e.prev=30,Oe["a"].hide(),e.finish(30);case 33:case"end":return e.stop()}},e,this,[[1,27,30,33]])}));return function(){return e.apply(this,arguments)}}(),selecionarEmpresaInutilizacao:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Zn.contato.le({id:t});case 5:return a=e.sent,this.idEmpresa=t,Po(!a||!a.id,"Não foi possível recuperar os dados da empresa."),Po(!a.numeroDocumentoNacional,"Empresa emitente sem CNPJ cadastrado"),e.next=11,Zn.contatoEndereco.le({idContato:t});case 11:a.enderecos=e.sent,Po(!a.enderecos||0===a.enderecos.length,"Não foi possível recuperar o endereço da empresa emitente"),a.enderecoPrincipal=a.enderecos.find(function(e){return"Principal"===e.grupo}),a.enderecoPrincipal||(a.enderecoPrincipal=a.enderecos[0]||{}),Po(!a.enderecoPrincipal.uf,"Empresa emitente sem UF cadastrado"),this.descricaoEmpresa=a.nome||"",this.infInut.cUF=String(La[(a.enderecoPrincipal.uf||"").trim()]),this.infInut.CNPJ=Pa(a.numeroDocumentoNacional),e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](0),this.$q.notifyError("Erro ao selecionar a empresa.",e.t0);case 24:case"end":return e.stop()}},e,this,[[0,21]])}));return function(t){return e.apply(this,arguments)}}()}},Cu=fu,bu=(a("9a19"),Object(sc["a"])(Cu,lu,du,!1,null,null,null));bu.options.__file="NFeInutilizacao.vue";var gu=bu.exports,xu={components:{NFeInutilizacao:gu},data:function(){return{}},methods:{abrirModalInutilizacao:function(){this.$refs.modalNFeInutilizacao.abrirModalInutilizacao()},abrirModalIbpt:function(){ei.log("ConfiguracoesDocumentosFiscais","abrirModalIbpt")}}},_u=xu,qu=(a("39c1"),Object(sc["a"])(_u,nu,cu,!1,null,null,null));qu.options.__file="ConfiguracoesDocumentosFiscais.vue";var Su=qu.exports,Iu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"text-left q-mt-lg"},[a("div",{attrs:{row:""}},[a("q-btn",{staticClass:"q-ma-sm no-shadow",attrs:{color:"primary",icon:"control_point",label:"Gerar SPED fiscal"},on:{click:e.abrirModalSped}})],1)]),a("q-card",{staticClass:"bg-white no-shadow"},[a("q-table",{attrs:{title:"Histórico de arquivos Sped",data:e.tabelaSped,columns:e.colunasSped,"row-key":"id"},scopedSlots:e._u([{key:"body",fn:function(t){return a("q-tr",{attrs:{props:t}},[a("q-td",{key:"dataHoraSolicitacao",attrs:{props:t}},["Arquivo gerado"===t.row.situacao?a("q-btn",{staticClass:"no-shadow",attrs:{color:"faded",size:"md",icon:"cloud_download",round:"",flat:""},on:{click:function(a){e.downloadSped(t.row.id)}}},[a("q-tooltip",[e._v("Download")])],1):a("q-btn",{staticClass:"no-shadow",attrs:{color:"faded",size:"md",icon:"refresh",round:"",flat:""},on:{click:e.atualizar}},[a("q-tooltip",[e._v("Atualizar")])],1),e._v("\n          "+e._s(e._f("dataHora")(t.row.dataHoraSolicitacao))+"\n        ")],1),a("q-td",{key:"situacao",attrs:{props:t}},[e._v(e._s(t.row.situacao))]),a("q-td",{key:"cnpj",attrs:{props:t}},[e._v(e._s(t.row.cnpj))]),a("q-td",{key:"dataInicio",attrs:{props:t}},[e._v(e._s(e._f("data")(t.row.dataInicio)))]),a("q-td",{key:"dataFim",attrs:{props:t}},[e._v(e._s(e._f("data")(t.row.dataFim)))]),a("q-td",{key:"dataInventario",attrs:{props:t}},[e._v(e._s(e._f("data")(t.row.dataInventario)))])],1)}}])})],1),a("sped",{ref:"modalSped"})],1)},Fu=[];Iu._withStripped=!0;var wu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-modal",{attrs:{"content-css":{width:"100vw",maxWidth:"768px"}},model:{value:e.modalSped,callback:function(t){e.modalSped=t},expression:"modalSped"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("SPED")])],1),a("form",{on:{submit:function(t){return t.preventDefault(),e.gerarSped(t)}}},[a("div",{staticClass:"layout-padding"},[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12 q-mt-xm text-h2 text-weight-bold"},[e._v("Dados para geração do SPED fiscal")]),a("campo",{staticClass:"col-12",attrs:{value:e.descricaoEmpresa,before:[{icon:"search",handler:e.abrirmodalSpedEmpresas}],rotulo:"Empresa",erro:!!e.spedErros.empresa,"erro-rotulo":e.spedErros.empresa,"somente-leitura":""}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{rotulo:"Data início",erro:!!e.spedErros.dataInicio,"erro-rotulo":e.spedErros.dataInicio,tipo:"data"},model:{value:e.sped.dataInicio,callback:function(t){e.$set(e.sped,"dataInicio",t)},expression:"sped.dataInicio"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{rotulo:"Data final",erro:!!e.spedErros.dataFim,"erro-rotulo":e.spedErros.dataFim,tipo:"data"},model:{value:e.sped.dataFim,callback:function(t){e.$set(e.sped,"dataFim",t)},expression:"sped.dataFim"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{rotulo:"Data inventário",erro:!!e.spedErros.dataInventario,"erro-rotulo":e.spedErros.dataInventario,tipo:"data"},model:{value:e.sped.dataInventario,callback:function(t){e.$set(e.sped,"dataInventario",t)},expression:"sped.dataInventario"}})],1)]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",color:"primary",label:"Cancelar"}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Gerar"}})],1)])],1)],1)],1)],1),a("prompt-contato-novo",{attrs:{filtro:{ativo:!0,empresas:!0}},on:{selecionar:e.selecionarEmpresa},model:{value:e.modalSpedEmpresas,callback:function(t){e.modalSpedEmpresas=t},expression:"modalSpedEmpresas"}})],1)},yu=[];wu._withStripped=!0;a("8615");var Nu={components:{Campo:Sl,PromptContatoNovo:Yd},data:function(){return{descricaoEmpresa:"",modalSped:!1,modalSpedEmpresas:!1,sped:{},spedErros:{empresa:"",dataInicio:"",dataFim:"",dataInventario:""}}},methods:{abrirModalSped:function(){ei.log("Sped","abrirModalSped"),this.modalSped=!0,this.sped={},this.spedErros={empresa:"",dataInicio:"",dataFim:"",dataInventario:""},this.descricaoEmpresa=""},abrirmodalSpedEmpresas:function(){this.modalSpedEmpresas=!0},validarSped:function(){return this.spedErros={empresa:this.sped.empresa?"":"Preenchimento obrigatório",dataInicio:this.sped.dataInicio?"":"Preenchimento obrigatório",dataFim:this.sped.dataFim?"":"Preenchimento obrigatório",dataInventario:this.sped.dataInventario?"":"Preenchimento obrigatório"},Object.values(this.spedErros).reduce(function(e,t){return e&&!t},!0)},gerarSped:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,ei.log("Sped","gerarSped",this.sped),this.validarSped()){e.next=4;break}return e.abrupt("return");case 4:return Oe["a"].show({spinner:hu["a"],spinnerColor:"amber",message:"Gerando arquivo de SPED"}),e.next=7,Ia("sped",this.sped);case 7:return t=e.sent,Po(!t.sucesso,t.mensagem||"Erro na geração do sped"),ei.log("Sped","gerarSped: ".concat(t.mensagem,"\n arquivo: ").concat(t.nomeArquivo)),e.next=12,xa(2e3);case 12:this.$q.notifyPositive(t.mensagem),this.modalSped=!1,this.$parent.atualizar(),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),this.$q.notifyError("Erro na geração do sped",e.t0);case 20:return e.prev=20,Oe["a"].hide(),e.finish(20);case 23:case"end":return e.stop()}},e,this,[[0,17,20,23]])}));return function(){return e.apply(this,arguments)}}(),selecionarEmpresa:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Zn.empresa.le({idContato:t});case 5:a=e.sent,Po(!a.length||!a[0].id,"Não foi possível recuperar os dados da empresa."),this.descricaoEmpresa=a[0].nome||"",this.sped.empresa=a[0].codigoEmpresa,this.sped.cnpj=a[0].numeroDocumentoNacional,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),this.$q.notifyError("Erro ao selecionar a empresa.",e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}()}},ku=Nu,Mu=(a("063d"),Object(sc["a"])(ku,wu,yu,!1,null,null,null));Mu.options.__file="Sped.vue";var Pu=Mu.exports,Du={components:{Sped:Pu},computed:{colunasSped:function(){return[{align:"left",name:"dataHoraSolicitacao",field:"dataHoraSolicitacao",label:"Data Solicitação",sortable:!0,format:this.$filters.dataHora},{align:"left",name:"situacao",field:"situacao",label:"Situacao",sortable:!0},{align:"center",name:"cnpj",field:"cnpj",label:"Empresa",sortable:!0},{align:"left",name:"dataInicio",field:"dataInicio",label:"Data Início",sortable:!0,format:this.$filters.data},{align:"left",name:"dataFim",field:"dataFim",label:"Data Fim",sortable:!0,format:this.$filters.data},{align:"left",name:"dataInventario",field:"dataInventario",label:"Data Inventário",sortable:!0,format:this.$filters.data}]}},data:function(){return{tabelaSped:[]}},methods:{abrirModalSped:function(){this.$refs.modalSped.abrirModalSped()},atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("ConfiguracoesSped","atualizar()"),e.prev=1,e.next=4,Zn.spedArquivo.leOnline();case 4:this.tabelaSped=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),this.$q.notifyError("Erro na consulta dos arquivos Sped",e.t0);case 10:case"end":return e.stop()}},e,this,[[1,7]])}));return function(){return e.apply(this,arguments)}}(),downloadSped:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=function(e,t){var a=document.createElement("a");a.setAttribute("href","data:attachment/text;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),a.click()},ei.log("ConfiguracoesSped","downloadSped",t),e.prev=2,e.next=5,Zn.spedArquivo.baixaConteudoOnline(t);case 5:o=e.sent,ei.log("ConfiguracoesSped","downloadSped\n arquivo: ".concat(o[0].nome,"\n tamanho: ").concat(o[0].arquivo.length," kb")),Po(!o||!o.length||!o[0].nome||!o[0].arquivo,"Arquivo Sped não encontrado"),a(o[0].nome,o[0].arquivo),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),this.$q.notifyError("Erro na consulta do arquivo Sped",e.t0);case 14:case"end":return e.stop()}},e,this,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()},created:function(){ei.log("ConfiguracoesSped","created()"),this.atualizar()}},Eu=Du,Tu=(a("e559"),Object(sc["a"])(Eu,Iu,Fu,!1,null,null,null));Tu.options.__file="ConfiguracoesSped.vue";var Au=Tu.exports,Ou=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"text-left q-mt-lg"},[a("div",{attrs:{row:""}},[a("div",{staticClass:"q-card bg-white q-pa-sm q-my-md no-shadow"},[a("q-collapsible",{staticClass:"border-1 q-my-sm",attrs:{group:"somegroup",icon:"explore",label:"Operações"}},[a("div",[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-9 col-lg-10 q-pl-sm"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-3 "},[e._v("\n                      Venda\n                    ")]),a("div",{staticClass:"col-12 col-sm-2"},[e._v("\n                      5102\n                    ")]),a("div",{staticClass:"col-12 col-sm-5"},[e._v("\n                      Venda de mercadoria adquirida ou recebida de terceiros\n                    ")])])]),a("div",{staticClass:"col-3 col-lg-2 text-right"},[a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirOperacoes}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1)])],1)],1)])],1),a("div",{staticClass:"q-card bg-white q-pa-sm q-my-md no-shadow"},[a("q-collapsible",{staticClass:"border-1 q-my-sm",attrs:{group:"somegroup",icon:"explore",label:"Formas de pagamento"}},[a("div",[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-9 col-lg-10 q-pl-sm"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-4 "},[e._v("\n                      Cartão de Débito\n                    ")]),a("div",{staticClass:"col-12 col-sm-4"},[e._v("\n                      Empresa\n\n                    ")]),a("div",{staticClass:"col-12 col-sm-4"},[e._v("\n                      Cartão de Débito\n                    ")])])]),a("div",{staticClass:"col-3 col-lg-2 text-right"},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"keyboard_arrow_down",round:""},on:{click:e.abrirFormaPgtoDiv}}),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirFormaPgto}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1),1==e.openedFormaPgtoD?a("div",{staticClass:"col-12 bg-white"},[a("div",{staticClass:"u-container"},[a("div",{staticClass:"row gutter-x-sm q-py-md bordertop"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"q-body-2"},[e._v("Descriçãp 20sp")])]),a("div",{staticClass:"col-12 col-lg-3"},[a("div",{staticClass:"q-body-1"},[e._v("Empresa")])]),a("div",{staticClass:"col-12 col-md-6 col-lg-3 "},[a("div",{staticClass:"q-body-1"},[e._v("Verifica limite de crédito")])]),a("div",{staticClass:"col-12 col-md-6 col-lg-3 "},[a("div",{staticClass:"q-body-1"},[e._v("Ativo")])]),a("div",{staticClass:"col-12 col-lg-3"},[a("div",{staticClass:"q-body-1"},[e._v("Tipo")])]),a("div",{staticClass:"col-12 col-lg-3"},[a("div",{staticClass:"q-body-1"},[e._v("Tipo financeiro")])]),a("div",{staticClass:"col-12  col-md-6 col-lg-3 "},[a("div",{staticClass:"q-body-1"},[e._v("Planos conta")])]),a("div",{staticClass:"col-12 col-md-6 col-lg-3"},[a("div",{staticClass:"q-body-1"},[e._v("Máximo de parcelas")])]),a("div",{staticClass:"col-12 col-md-6 col-lg-3"},[a("div",{staticClass:"q-body-1"},[e._v("Dias máximo")])]),a("div",{staticClass:"col-12 col-md-6 col-lg-3"},[a("div",{staticClass:"q-body-1"},[e._v("Primeira (dias)")])]),a("div",{staticClass:"col-12 col-md-6 col-lg-3"},[a("div",{staticClass:"q-body-1"},[e._v("Demais (dias)")])]),a("div",{staticClass:"col-12 col-md-6 col-lg-3 "},[a("div",{staticClass:"q-body-1"},[e._v("Alíquota")])]),a("div",{staticClass:"col-12 col-md-6 col-lg-3 "},[a("div",{staticClass:"q-body-1"},[e._v("Aliq. Antecipação")])]),a("div",{staticClass:"col-12 col-md-6 col-lg-3 "},[a("div",{staticClass:"q-body-1"},[e._v("Planos conta Aliq.")])]),a("div",{staticClass:"col-12 col-md-6 col-lg-3 "},[a("div",{staticClass:"q-body-1"},[e._v("Operadora Cartão")])]),a("div",{staticClass:"col-12 col-md-6 col-lg-3"},[a("div",{staticClass:"q-body-1"},[e._v("Valor mínimo venda")])]),a("div",{staticClass:"col-12 q-mt-sm"},[a("q-field",[a("q-input",{staticClass:"bg-light q-px-md",staticStyle:{"pointer-events":"none"},attrs:{"float-label":"Observações",rows:"3",type:"textarea",disabled:""}})],1)],1)])])]):e._e()])],1),a("div",{staticClass:"text-center q-mt-lg"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Adiconar",outline:"",size:"sm"},on:{click:e.abrirFormaPgto}})],1)],1)])],1),a("div",{staticClass:"q-card bg-white q-pa-sm q-my-md no-shadow"},[a("q-collapsible",{staticClass:"border-1 q-my-sm",attrs:{group:"somegroup",icon:"explore",opened:"",label:"Outras configurações"}},[a("div",[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-9 col-lg-10 q-pl-sm"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-4 "},[e._v("\n                      Nome\n                    ")]),a("div",{staticClass:"col-12 col-sm-4"},[e._v("\n                      Vaor\n                    ")]),a("div",{staticClass:"col-12 col-sm-4"},[e._v("\n                      Texto\n                    ")])])]),a("div",{staticClass:"col-3 col-lg-2 text-right"},[a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirOutrasConf}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1)])],1)],1)])],1),a("div",{staticClass:"q-card bg-white q-pa-sm q-my-md no-shadow"},[a("q-collapsible",{staticClass:"border-1 q-my-sm",attrs:{group:"somegroup",icon:"explore",label:"Impressões"}},[a("div",[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-9 col-lg-10 q-pl-sm"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-6 "},[e._v("\n                      Valor\n                    ")]),a("div",{staticClass:"col-12 col-sm-6"},[e._v("\n                      Texto\n                    ")])])]),a("div",{staticClass:"col-3 col-lg-2 text-right"},[a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirImpressoes}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1)])],1)],1)])],1)])]),a("q-modal",{attrs:{"content-css":{maxWidth:"80vw"}},model:{value:e.openedFormaPgto,callback:function(t){e.openedFormaPgto=t},expression:"openedFormaPgto"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("1224 Editar Linha")])],1),a("form",[a("div",{staticClass:"u-container  q-pb-md"},[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12"},[a("q-input",{attrs:{"float-label":"Descrição"}})],1),a("div",{staticClass:"col-12 col-lg-4"},[a("q-input",{attrs:{"float-label":"Empresa"}})],1),a("div",{staticClass:"col-12 col-md-6 col-lg-4 q-pt-md"},[a("q-checkbox",{attrs:{label:"Verifica limite de crédito"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})],1),a("div",{staticClass:"col-12 col-md-6 col-lg-4 q-pt-md"},[a("q-checkbox",{attrs:{label:"Ativo"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})],1),a("div",{staticClass:"col-12 col-lg-4"},[a("q-select",{attrs:{"float-label":"Tipo",radio:"",options:e.selectOptions},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}})],1),a("div",{staticClass:"col-12 col-lg-4"},[a("q-select",{attrs:{"float-label":"Tipo financeiro",radio:"",options:e.selectOptions},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}})],1),a("div",{staticClass:"col-12 col-lg-4 "},[a("q-select",{attrs:{"float-label":"Planos conta",radio:"",options:e.selectOptions},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}})],1),a("div",{staticClass:"col-12 col-md-6 col-lg-3"},[a("q-input",{attrs:{"float-label":"Máximo de parcelas"}})],1),a("div",{staticClass:"col-12 col-md-6 col-lg-3"},[a("q-input",{attrs:{"float-label":"Dias máximo"}})],1),a("div",{staticClass:"col-12 col-md-6 col-lg-3"},[a("q-input",{attrs:{"float-label":"Primeira (dias)"}})],1),a("div",{staticClass:"col-12 col-md-6 col-lg-3"},[a("q-input",{attrs:{"float-label":"Demais (dias)"}})],1),a("div",{staticClass:"col-12 col-md-6 "},[a("q-input",{attrs:{"float-label":"Alíquota"}})],1),a("div",{staticClass:"col-12 col-md-6 "},[a("q-input",{attrs:{"float-label":"Aliq. Antecipação"}})],1),a("div",{staticClass:"col-12 col-md-6 "},[a("q-select",{attrs:{"float-label":"Planos conta Aliq.",radio:"",options:e.selectOptions},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}})],1),a("div",{staticClass:"col-12 col-md-6 "},[a("q-search",{attrs:{"float-label":"Operadora Cartão"},model:{value:e.filhoCampo,callback:function(t){e.filhoCampo=t},expression:"filhoCampo"}},[a("q-autocomplete",{attrs:{"min-characters":2}})],1)],1),a("div",{staticClass:"col-12"},[a("q-input",{attrs:{"float-label":"Valor mínimo venda"}})],1),a("div",{staticClass:"col-12 q-mt-md"},[a("q-field",[a("q-input",{staticClass:"bg-light q-px-md",attrs:{"float-label":"Observações",rows:"3",type:"textarea"}})],1)],1)])])]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"faded",label:"Cancelar"}}),a("q-btn",{attrs:{color:"primary",type:"submit",label:"Salvar"}})],1)])],1)],1)],1),a("q-modal",{attrs:{"content-css":{maxWidth:"80vw"}},model:{value:e.openedOperacoes,callback:function(t){e.openedOperacoes=t},expression:"openedOperacoes"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("1255 Editar Linha")])],1),a("form",[a("div",{staticClass:"u-container q-pb-md"},[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12"},[a("q-input",{attrs:{"float-label":"Descrição"}})],1),a("div",{staticClass:"col-12 col-lg-4"},[a("q-search",{attrs:{"float-label":"CFOP"},model:{value:e.filhoCampo,callback:function(t){e.filhoCampo=t},expression:"filhoCampo"}},[a("q-autocomplete",{attrs:{"min-characters":2}})],1)],1),a("div",{staticClass:"col-12 col-lg-4"},[a("q-input",{attrs:{"float-label":"Descrição CFOP"}})],1),a("div",{staticClass:"col-12 col-lg-4"},[a("q-search",{attrs:{"float-label":"Finalidade"},model:{value:e.filhoCampo,callback:function(t){e.filhoCampo=t},expression:"filhoCampo"}},[a("q-autocomplete",{attrs:{"min-characters":2}})],1)],1)])])]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"faded",label:"Cancelar"}}),a("q-btn",{attrs:{color:"primary",type:"submit",label:"Salvar"}})],1)])],1)],1)],1),a("q-modal",{attrs:{"content-css":{maxWidth:"80vw"}},model:{value:e.openedImpressoes,callback:function(t){e.openedImpressoes=t},expression:"openedImpressoes"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("Impressões")])],1),a("form",[a("div",{staticClass:"u-container q-pb-md"},[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12 col-lg-6"},[a("q-search",{attrs:{"float-label":"Texto"},model:{value:e.filhoCampo,callback:function(t){e.filhoCampo=t},expression:"filhoCampo"}},[a("q-autocomplete",{attrs:{"min-characters":2}})],1)],1),a("div",{staticClass:"col-12 col-lg-6"},[a("q-input",{attrs:{"float-label":"Valor"}})],1),a("div",{staticClass:"col-12 q-mt-md"},[a("q-field",[a("q-input",{staticClass:"bg-light q-px-md",attrs:{"float-label":"Observações",rows:"3",type:"textarea"}})],1)],1)])])]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"faded",label:"Cancelar"}}),a("q-btn",{attrs:{color:"primary",type:"submit",label:"Salvar"}})],1)])],1)],1)],1),a("q-modal",{attrs:{"content-css":{maxWidth:"80vw"}},model:{value:e.openedOutrasConf,callback:function(t){e.openedOutrasConf=t},expression:"openedOutrasConf"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("1371 - Editar Linha")])],1),a("form",[a("div",{staticClass:"u-container q-pb-md"},[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12 col-lg-6"},[a("q-input",{attrs:{"float-label":"Nome"}})],1),a("div",{staticClass:"col-12 col-lg-6"},[a("q-input",{attrs:{"float-label":"Valor"}})],1),a("div",{staticClass:"col-12 col-lg-6"},[a("q-search",{attrs:{"float-label":"Texto"},model:{value:e.filhoCampo,callback:function(t){e.filhoCampo=t},expression:"filhoCampo"}},[a("q-autocomplete",{attrs:{"min-characters":2}})],1)],1),a("div",{staticClass:"col-12 col-lg-6"},[a("q-input",{attrs:{"float-label":"Codigo Empresa"}})],1),a("div",{staticClass:"col-12 q-mt-md"},[a("q-field",[a("q-input",{staticClass:"bg-light q-px-md",attrs:{"float-label":"Observações",rows:"3",type:"textarea"}})],1)],1)])])]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"faded",label:"Cancelar"}}),a("q-btn",{attrs:{color:"primary",type:"submit",label:"Salvar"}})],1)])],1)],1)],1)],1)},$u=[];Ou._withStripped=!0;var Ru={components:{},computed:{},data:function(){return{openedFormaPgto:!1,openedFormaPgtoD:!1,openedOperacoes:!1,openedImpressoes:!1,openedOutrasConf:!1,select:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}]}},methods:{abrirOutrasConf:function(){this.openedOutrasConf=!0},abrirImpressoes:function(){this.openedImpressoes=!0},abrirOperacoes:function(){this.openedOperacoes=!0},abrirFormaPgtoDiv:function(){this.openedFormaPgtoD=!this.openedFormaPgtoD},abrirFormaPgto:function(){this.openedFormaPgto=!0}}},ju=Ru,zu=(a("cfef"),Object(sc["a"])(ju,Ou,$u,!1,null,null,null));zu.options.__file="ConfiguracoesVendas.vue";var Bu=zu.exports,Lu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"text-left q-mt-lg"},[a("div",{attrs:{row:""}},[a("div",{staticClass:"q-card bg-white q-pa-sm q-my-md no-shadow"},[a("q-collapsible",{staticClass:"border-1 q-my-sm",attrs:{group:"somegroup",opened:"",icon:"explore",label:"Plano Conta"}},[a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-3"},[a("q-collapsible",{staticClass:"border-1 q-my-sm",attrs:{group:"ativo",opened:"","header-class":"ativo",label:"Ativo"}},[a("div",[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-7 q-pl-sm"},[e._v("\n                          Level 1\n                        ")]),a("div",{staticClass:"col-5 text-right"},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"keyboard_arrow_down",round:""},on:{click:function(t){e.abrirLevel(1)}}}),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirPlano}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1),1==e.openL1?a("div",{staticClass:"col-12 bg-white"},[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-7 q-pl-sm"},[e._v("\n                                Level 2\n                              ")]),a("div",{staticClass:"col-5 text-right"},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"keyboard_arrow_down",round:""},on:{click:function(t){e.abrirLevel(2)}}}),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirPlano}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1),1==e.openL2?a("div",{staticClass:"col-12 bg-white "},[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-7 q-pl-sm"},[e._v("\n                                      Level 3\n                                    ")]),a("div",{staticClass:"col-5 text-right"},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"keyboard_arrow_down",round:""},on:{click:function(t){e.abrirLevel(3)}}}),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirPlano}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1),1==e.openL3?a("div",{staticClass:"col-12 bg-white "},[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-6 q-pl-sm"},[e._v("\n                                            Level 4\n                                          ")]),a("div",{staticClass:"col-6 text-right"},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"keyboard_arrow_down",round:""},on:{click:function(t){e.abrirLevel(4)}}}),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirPlano}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1),1==e.openL4?a("div",{staticClass:"col-12 bg-white "},[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-7 q-pl-sm"},[e._v("\n                                                  Level 5\n                                                ")]),a("div",{staticClass:"col-5 text-right"},[a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirPlano}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1)])],1)],1):e._e()])],1)],1):e._e()])],1)],1):e._e()])],1)],1):e._e()])],1)],1)])],1),a("div",{staticClass:"col-12 col-lg-3"},[a("q-collapsible",{staticClass:"border-1 q-my-sm",attrs:{group:"ativo",opened:"","header-class":"passivo",label:"Passivo"}},[a("div",[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-7 q-pl-sm"},[e._v("\n                          Level 1\n                        ")]),a("div",{staticClass:"col-5 text-right"},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"keyboard_arrow_down",round:""},on:{click:function(t){e.abrirLevel(1)}}}),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirPlano}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1),1==e.openL1?a("div",{staticClass:"col-12 bg-white"},[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-7 q-pl-sm"},[e._v("\n                                Level 2\n                              ")]),a("div",{staticClass:"col-5 text-right"},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"keyboard_arrow_down",round:""},on:{click:function(t){e.abrirLevel(2)}}}),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirPlano}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1),1==e.openL2?a("div",{staticClass:"col-12 bg-white "},[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-7 q-pl-sm"},[e._v("\n                                      Level 3\n                                    ")]),a("div",{staticClass:"col-5 text-right"},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"keyboard_arrow_down",round:""},on:{click:function(t){e.abrirLevel(3)}}}),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirPlano}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1),1==e.openL3?a("div",{staticClass:"col-12 bg-white "},[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-6 q-pl-sm"},[e._v("\n                                            Level 4\n                                          ")]),a("div",{staticClass:"col-6 text-right"},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"keyboard_arrow_down",round:""},on:{click:function(t){e.abrirLevel(4)}}}),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirPlano}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1),1==e.openL4?a("div",{staticClass:"col-12 bg-white "},[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-7 q-pl-sm"},[e._v("\n                                                  Level 5\n                                                ")]),a("div",{staticClass:"col-5 text-right"},[a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirPlano}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1)])],1)],1):e._e()])],1)],1):e._e()])],1)],1):e._e()])],1)],1):e._e()])],1)],1)])],1),a("div",{staticClass:"col-12 col-lg-3"},[a("q-collapsible",{staticClass:"border-1 q-my-sm",attrs:{group:"ativo",opened:"","header-class":"receita",label:"Receita"}},[a("div",[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-7 q-pl-sm"},[e._v("\n                          Level 1\n                        ")]),a("div",{staticClass:"col-5 text-right"},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"keyboard_arrow_down",round:""},on:{click:function(t){e.abrirLevel(1)}}}),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirPlano}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1),1==e.openL1?a("div",{staticClass:"col-12 bg-white"},[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-7 q-pl-sm"},[e._v("\n                                Level 2\n                              ")]),a("div",{staticClass:"col-5 text-right"},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"keyboard_arrow_down",round:""},on:{click:function(t){e.abrirLevel(2)}}}),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirPlano}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1),1==e.openL2?a("div",{staticClass:"col-12 bg-white "},[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-7 q-pl-sm"},[e._v("\n                                      Level 3\n                                    ")]),a("div",{staticClass:"col-5 text-right"},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"keyboard_arrow_down",round:""},on:{click:function(t){e.abrirLevel(3)}}}),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirPlano}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1),1==e.openL3?a("div",{staticClass:"col-12 bg-white "},[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-6 q-pl-sm"},[e._v("\n                                            Level 4\n                                          ")]),a("div",{staticClass:"col-6 text-right"},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"keyboard_arrow_down",round:""},on:{click:function(t){e.abrirLevel(4)}}}),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirPlano}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1),1==e.openL4?a("div",{staticClass:"col-12 bg-white "},[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-7 q-pl-sm"},[e._v("\n                                                  Level 5\n                                                ")]),a("div",{staticClass:"col-5 text-right"},[a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirPlano}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1)])],1)],1):e._e()])],1)],1):e._e()])],1)],1):e._e()])],1)],1):e._e()])],1)],1)])],1),a("div",{staticClass:"col-12 col-lg-3"},[a("q-collapsible",{staticClass:"border-1 q-my-sm",attrs:{group:"ativo",opened:"","header-class":"despesa",label:"Despesa"}},[a("div",[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-7 q-pl-sm"},[e._v("\n                          Level 1\n                        ")]),a("div",{staticClass:"col-5 text-right"},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"keyboard_arrow_down",round:""},on:{click:function(t){e.abrirLevel(1)}}}),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirPlano}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1),1==e.openL1?a("div",{staticClass:"col-12 bg-white"},[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-7 q-pl-sm"},[e._v("\n                                Level 2\n                              ")]),a("div",{staticClass:"col-5 text-right"},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"keyboard_arrow_down",round:""},on:{click:function(t){e.abrirLevel(2)}}}),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirPlano}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1),1==e.openL2?a("div",{staticClass:"col-12 bg-white "},[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-7 q-pl-sm"},[e._v("\n                                      Level 3\n                                    ")]),a("div",{staticClass:"col-5 text-right"},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"keyboard_arrow_down",round:""},on:{click:function(t){e.abrirLevel(3)}}}),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirPlano}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1),1==e.openL3?a("div",{staticClass:"col-12 bg-white "},[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-6 q-pl-sm"},[e._v("\n                                            Level 4\n                                          ")]),a("div",{staticClass:"col-6 text-right"},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"keyboard_arrow_down",round:""},on:{click:function(t){e.abrirLevel(4)}}}),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirPlano}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1),1==e.openL4?a("div",{staticClass:"col-12 bg-white "},[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-7 q-pl-sm"},[e._v("\n                                                  Level 5\n                                                ")]),a("div",{staticClass:"col-5 text-right"},[a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirPlano}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1)])],1)],1):e._e()])],1)],1):e._e()])],1)],1):e._e()])],1)],1):e._e()])],1)],1)])],1)]),a("div",{staticClass:"text-center q-mt-lg"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Adiconar",outline:"",size:"sm"},on:{click:e.abrirFormaPgto}})],1)])])],1),a("div",{staticClass:"q-card bg-white q-pa-sm q-my-md no-shadow"},[a("q-collapsible",{staticClass:"border-1 q-my-sm",attrs:{group:"somegroup",icon:"explore",label:"Centro de custos"}},[a("div",[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-9 col-lg-10 q-pl-sm"},[e._v("\n                  Descrição\n                ")]),a("div",{staticClass:"col-3 col-lg-2 text-right"},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"keyboard_arrow_down",round:""},on:{click:e.abrirFormaPgtoDiv}}),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirFormaPgto}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1),1==e.openedFormaPgtoD?a("div",{staticClass:"col-12 bg-white"},[a("div",{staticClass:"u-container"},[a("div",{staticClass:"row gutter-x-sm q-py-md bordertop"},[a("div",{staticClass:"col-12  col-md-6 col-lg-4 "},[a("div",{staticClass:"q-body-1"},[e._v("Vigência inicial")])]),a("div",{staticClass:"col-12 col-md-6 col-lg-4 "},[a("div",{staticClass:"q-body-1"},[e._v("Vigência final")])]),a("div",{staticClass:"col-12 col-md-6 col-lg-4 "},[a("div",{staticClass:"q-body-1"},[e._v("Centro de custo pai")])]),a("div",{staticClass:"col-12 q-mt-sm "},[a("div",{staticClass:"q-body-1"},[e._v("Observações")])])])]),a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},[a("q-item",{staticClass:"row u-separador q-my-none q-pa-xs",staticStyle:{"margin-top":"0 !important"}},[a("div",{staticClass:"col-9 col-lg-10 q-pl-sm"},[e._v("\n                        Descrição\n                      ")]),a("div",{staticClass:"col-3 col-lg-2 text-right"},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"keyboard_arrow_down",round:""},on:{click:e.abrirFormaPgtoDiv}}),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:e.abrirFormaPgto}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1),1==e.openedFormaPgtoD?a("div",{staticClass:"col-12 bg-white"},[a("div",{staticClass:"u-container"},[a("div",{staticClass:"row gutter-x-sm q-py-md bordertop"},[a("div",{staticClass:"col-12  col-md-6 col-lg-4 "},[a("div",{staticClass:"q-body-1"},[e._v("Vigência inicial")])]),a("div",{staticClass:"col-12 col-md-6 col-lg-4 "},[a("div",{staticClass:"q-body-1"},[e._v("Vigência final")])]),a("div",{staticClass:"col-12 col-md-6 col-lg-4 "},[a("div",{staticClass:"q-body-1"},[e._v("Centro de custo pai")])]),a("div",{staticClass:"col-12 q-mt-sm "},[a("div",{staticClass:"q-body-1"},[e._v("Observações")])])])])]):e._e()])],1)],1):e._e()])],1),a("div",{staticClass:"text-center q-mt-lg"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Adiconar",outline:"",size:"sm"},on:{click:e.abrirFormaPgto}})],1)],1)])],1)])]),a("q-modal",{attrs:{"content-css":{maxWidth:"80vw"}},model:{value:e.openedFormaPgto,callback:function(t){e.openedFormaPgto=t},expression:"openedFormaPgto"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("Centro de custos")])],1),a("form",[a("div",{staticClass:"u-container  q-pb-md"},[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12"},[a("q-input",{attrs:{"float-label":"Descrição"}})],1),a("div",{staticClass:"col-12 col-lg-6"},[a("q-input",{attrs:{"float-label":"Vigência inicial"}})],1),a("div",{staticClass:"col-12 col-lg-6"},[a("q-input",{attrs:{"float-label":"Vigência final"}})],1),a("div",{staticClass:"col-12"},[a("q-search",{attrs:{"float-label":"Centro de custo pai"},model:{value:e.filhoCampo,callback:function(t){e.filhoCampo=t},expression:"filhoCampo"}},[a("q-autocomplete",{attrs:{"min-characters":2}})],1)],1),a("div",{staticClass:"col-12 q-mt-md"},[a("q-field",[a("q-input",{staticClass:"bg-light q-px-md",attrs:{"float-label":"Observações",rows:"3",type:"textarea"}})],1)],1)])])]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"faded",label:"Cancelar"}}),a("q-btn",{attrs:{color:"primary",type:"submit",label:"Salvar"}})],1)])],1)],1)],1),a("q-modal",{attrs:{"content-css":{maxWidth:"80vw"}},model:{value:e.openedPlano,callback:function(t){e.openedPlano=t},expression:"openedPlano"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("66 - Plano de Contas")])],1),a("form",[a("div",{staticClass:"u-container q-pb-md"},[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12 col-lg-6"},[a("q-input",{attrs:{"float-label":"Tradutor"}})],1),a("div",{staticClass:"col-12 col-lg-6"},[a("q-input",{attrs:{"float-label":"Descrição"}})],1),a("div",{staticClass:"col-12 col-lg-6"},[a("q-input",{attrs:{"float-label":"Apelido"}})],1),a("div",{staticClass:"col-12 col-lg-6"},[a("q-search",{attrs:{"float-label":"Conta pai"},model:{value:e.filhoCampo,callback:function(t){e.filhoCampo=t},expression:"filhoCampo"}},[a("q-autocomplete",{attrs:{"min-characters":2}})],1)],1),a("div",{staticClass:"col-12 col-lg-6"},[a("q-search",{attrs:{"float-label":"Tipo"},model:{value:e.filhoCampo,callback:function(t){e.filhoCampo=t},expression:"filhoCampo"}},[a("q-autocomplete",{attrs:{"min-characters":2}})],1)],1),a("div",{staticClass:"col-12 col-lg-6"},[a("q-search",{attrs:{"float-label":"Empresa"},model:{value:e.filhoCampo,callback:function(t){e.filhoCampo=t},expression:"filhoCampo"}},[a("q-autocomplete",{attrs:{"min-characters":2}})],1)],1),a("div",{staticClass:"col-12 col-lg-6"},[a("q-input",{attrs:{"float-label":"Vigência inicial"}})],1),a("div",{staticClass:"col-12 col-lg-6"},[a("q-input",{attrs:{"float-label":"Vigência Final"}})],1),a("div",{staticClass:"col-12 col-lg-6"},[a("q-search",{attrs:{"float-label":"Observação"},model:{value:e.filhoCampo,callback:function(t){e.filhoCampo=t},expression:"filhoCampo"}},[a("q-autocomplete",{attrs:{"min-characters":2}})],1)],1),a("div",{staticClass:"col-12 col-md-6 col-lg-4 q-pt-md"},[a("q-checkbox",{attrs:{label:"Fluxo de caixa"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})],1),a("div",{staticClass:"col-12 col-lg-6"},[a("q-search",{attrs:{"float-label":"DRE"},model:{value:e.filhoCampo,callback:function(t){e.filhoCampo=t},expression:"filhoCampo"}},[a("q-autocomplete",{attrs:{"min-characters":2}})],1)],1),a("div",{staticClass:"col-12 col-lg-6"},[a("q-input",{attrs:{"float-label":"Cod. Contabilidade"}})],1),a("div",{staticClass:"col-12 col-lg-6"},[a("q-input",{attrs:{"float-label":"Código SPED"}})],1),a("div",{staticClass:"col-12 col-md-6 col-lg-4 q-pt-md"},[a("q-checkbox",{attrs:{label:"Ativo"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})],1)])])]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"faded",label:"Cancelar"}}),a("q-btn",{attrs:{color:"primary",type:"submit",label:"Salvar"}})],1)])],1)],1)],1)],1)},Vu=[];Lu._withStripped=!0;var Uu={components:{},computed:{},data:function(){return{openedFormaPgto:!1,openedFormaPgtoD:!1,openedPlano:!1,openL1:!1,openL2:!1,openL3:!1,openL4:!1,openL5:!1,select:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}]}},methods:{abrirPlano:function(){this.openedPlano=!0},abrirFormaPgtoDiv:function(){this.openedFormaPgtoD=!this.openedFormaPgtoD},abrirFormaPgto:function(){this.openedFormaPgto=!0},abrirLevel:function(e){1===e&&(this.openL1=!this.openL1),2===e&&(this.openL2=!this.openL2),3===e&&(this.openL3=!this.openL3),4===e&&(this.openL4=!this.openL4),5===e&&(this.openL5=!this.openL5)}}},Hu=Uu,Qu=(a("987f"),Object(sc["a"])(Hu,Lu,Vu,!1,null,null,null));Qu.options.__file="ConfiguracoesFinanceiro.vue";var Gu=Qu.exports,Ju=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Caixa"},[a("barra-topo"),a("q-page-container",[a("q-page",{staticClass:"u-container"},[a("q-toolbar",{staticClass:"q-py-sm topo",attrs:{color:"none"}},[a("q-icon",{attrs:{name:"credit_card",size:"32px"}}),a("q-toolbar-title",[e._v("\n          Caixa\n        ")]),"optisoul"===e.sistemaPai?a("q-btn",{attrs:{icon:"help_outline",flat:"",dense:"",round:"",size:"lg"}},[a("q-popover",[a("q-list",{attrs:{link:"","no-border":"",separator:""}},[a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"mdi-youtube"}}),a("q-item-main",{attrs:{label:"Videoaula Caixa"},nativeOn:{click:function(t){e.showHelp("caixa")}}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"mdi-youtube"}}),a("q-item-main",{attrs:{label:"Videoaula Tesouraria"},nativeOn:{click:function(t){e.showHelp("tesouraria")}}})],1)],1)],1)],1):e._e()],1),a("q-tabs",{attrs:{align:"justify",color:"none"}},[e._l(e.abas,function(t,o){return a("q-route-tab",e._b({key:o,staticClass:"Caixa-aba",attrs:{slot:"title"},slot:"title"},"q-route-tab",t,!1))}),a("router-view")],2)],1)],1),a("q-modal",{attrs:{"content-css":{minWidth:"100vw",minHeight:"100vh"}},model:{value:e.help.show,callback:function(t){e.$set(e.help,"show",t)},expression:"help.show"}},[a("q-modal-layout",{staticStyle:{height:"100vh",width:"100vw"}},[a("iframe",{staticStyle:{height:"100%",width:"100%"},attrs:{src:e.help.src,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v(e._s(e.help.title))]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1)],1)],1)],1)},Xu=[];Ju._withStripped=!0;var Yu={components:{BarraTopo:El},computed:{badge:function(){return this.contato.ativo?this.contato.condutaRestricao?{cor:"negative",rotulo:"Restrição"}:!!this.contato.condutaObservacao&&{cor:"warning",rotulo:"Observação"}:{cor:"faded",rotulo:"Excluído"}}},data:function(){return{dbUsuario:Zn.usuario,abas:[],dados:{empresaselecionada:["Principal"],empresa:[{label:"Principal",value:"Principal"},{label:"Empresa X",value:"Emprexa X"},{label:"Emprexa P",value:"Emprexa P"},{label:"Emprexa T",value:"Emprexa T"},{label:"Emprexa O",value:"Emprexa O"}]},carregando:!1,contatosInativosModal:!1,contatosModal:!1,filtrosContatos:[],help:{show:!1,src:"",title:"",map:{caixa:{src:"https://www.youtube.com/embed/aph341G3oNo",title:"Videoaula OptiSoul: Caixa"},tesouraria:{src:"https://www.youtube.com/embed/8UH2ZHtw6D8",title:"Videoaula OptiSoul: Tesouraria do Caixa"}}},sistemaPai:""}},methods:{showHelp:function(e){this.help.src=this.help.map[e].src,this.help.title=this.help.map[e].title,this.help.show=!0},atualizarAbas:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=[],e.next=3,Zn.permissao.objeto("caixa/empresas");case 3:if(!e.sent){e.next=5;break}t.push({icon:"credit_card",label:"Caixa",to:{name:"CaixaEmpresas"}});case 5:return e.next=7,Zn.permissao.objeto("caixa/tesouraria");case 7:if(!e.sent){e.next=9;break}t.push({icon:"account_balance",label:"Tesouraria",to:{name:"CaixaTesouraria"}});case 9:this.abas=t;case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},watch:{"dbUsuario.logado.id":function(){this.atualizarAbas()}},created:function(){this.sistemaPai=co(),this.atualizarAbas()}},Wu=Yu,Zu=(a("e00e"),Object(sc["a"])(Wu,Ju,Xu,!1,null,null,null));Zu.options.__file="Caixa.vue";var Ku=Zu.exports,em=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"CaixaEmpresas"},[a("div",{staticClass:"q-pb-md"},[a("campo",{staticClass:"col-10",attrs:{opcoes:e.caixas,tipo:"seletor"},on:{input:e.carregarDocumentos},model:{value:e.idDocumentoCaixa,callback:function(t){e.idDocumentoCaixa=t},expression:"idDocumentoCaixa"}}),a("div",{staticClass:"row gutter-xs q-pt-sm"},e._l(e.menuFaturamento,function(e,t){return a("div",{key:t,staticClass:"col-3 col-md "},[a("q-btn",{staticClass:"botaoAcesso full-width",attrs:{color:"primary",outline:"",icon:e.icone,label:e.rotulo,size:"lg"},nativeOn:{click:function(t){return e.manipulador(t)}}})],1)})),a("div",{staticClass:"no-shadow"},[e.vendas.encontradas?a("q-list",[a("q-collapsible",{attrs:{opened:"",label:"Vendas"}},e._l(e.vendas.status,function(t){return a("q-collapsible",{key:t,attrs:{opened:"",label:t}},e._l(e.vendas[t],function(t){return a("venda-card",{key:t.id,attrs:{id:t.id},on:{atualizar:e.atualizar}})}))}))],1):e._e(),e.faturas.encontradas?a("q-list",[a("q-collapsible",{attrs:{opened:"",label:"Faturas"}},e._l(e.faturas.status,function(t){return a("q-collapsible",{key:t,attrs:{opened:"",label:t}},e._l(e.faturas[t],function(t){return a("fatura-card",{key:t.id,attrs:{id:t.id},on:{atualizar:e.atualizar}})}))}))],1):e._e()],1)],1),a("caixa-abrir",{on:{aberto:e.atualizar},model:{value:e.modalCaixaAbrir,callback:function(t){e.modalCaixaAbrir=t},expression:"modalCaixaAbrir"}}),a("caixa-fechar",{attrs:{idDocumentoCaixa:e.idDocumentoCaixa},on:{fechado:e.atualizar},model:{value:e.modalCaixaFechar,callback:function(t){e.modalCaixaFechar=t},expression:"modalCaixaFechar"}}),a("caixa-transferencia",{attrs:{titulo:e.tituloCaixaTransferencia},model:{value:e.modalCaixaTransferencia,callback:function(t){e.modalCaixaTransferencia=t},expression:"modalCaixaTransferencia"}}),a("caixa-sangria-lancar",{attrs:{idDocumentoCaixa:e.idDocumentoCaixa},model:{value:e.modalCaixaSangriaLancar,callback:function(t){e.modalCaixaSangriaLancar=t},expression:"modalCaixaSangriaLancar"}}),a("caixa-suprimento-lancar",{attrs:{idDocumentoCaixa:e.idDocumentoCaixa},model:{value:e.modalCaixaSuprimentoLancar,callback:function(t){e.modalCaixaSuprimentoLancar=t},expression:"modalCaixaSuprimentoLancar"}}),a("caixa-despesa-lancar",{attrs:{idDocumentoCaixa:e.idDocumentoCaixa},model:{value:e.modalCaixaDespesaLancar,callback:function(t){e.modalCaixaDespesaLancar=t},expression:"modalCaixaDespesaLancar"}}),a("caixa-conferencia",{model:{value:e.modalCaixaConferencia,callback:function(t){e.modalCaixaConferencia=t},expression:"modalCaixaConferencia"}})],1)},tm=[];em._withStripped=!0;var am=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{value:e.abrir,"content-css":{minWidth:"50vw"}},on:{input:e.eventoInput}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Abertura de Caixa")]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),a("form",{staticClass:"layout-padding",on:{submit:function(t){return t.preventDefault(),e.abrirCaixa(t)}}},[a("q-field",{staticClass:"row"},[a("q-select",{attrs:{"float-label":"Caixa",options:e.caixas},model:{value:e.campos.idCaixa,callback:function(t){e.$set(e.campos,"idCaixa",t)},expression:"campos.idCaixa"}})],1),a("campo",{staticClass:"row",attrs:{tipo:"decimal",decimals:"2",rotulo:"Valor inicial"},model:{value:e.campos.valor,callback:function(t){e.$set(e.campos,"valor",t)},expression:"campos.valor"}}),a("campo",{staticClass:"row",attrs:{tipo:"texto",rotulo:"Observação"},model:{value:e.campos.observacao,callback:function(t){e.$set(e.campos,"observacao",t)},expression:"campos.observacao"}}),a("div",{staticClass:"q-mt-lg text-center"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{color:"faded",flat:"",label:"Cancelar"}}),a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"primary",label:"Abrir",type:"submit"}})],1)],1)],1)],1)},om=[];am._withStripped=!0;var im={components:{Campo:Sl},data:function(){return{abrir:!1,campos:{valor:0,idCaixa:"",observacao:""},caixas:[]}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.caixa.le({aberto:!1});case 2:return t=e.sent,e.next=5,Zn.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);case 5:if(a=e.sent,t=t.filter(function(e){if(!e.ativo)return!1;var t=a.filter(function(t){return t.id===e.idEmpresa});return t.length?(e.apelidoEmpresa=t[0].apelido,!0):void 0}),t.length){e.next=11;break}return this.$emit("input",!1),this.$q.notify({message:"Não há caixas para abrir.",type:"warning"}),e.abrupt("return");case 11:for(o=[],i=!0,r=!1,s=void 0,e.prev=15,n=t[Symbol.iterator]();!(i=(c=n.next()).done);i=!0)l=c.value,o.push(at()({value:l.id,label:l.descricao+" "+l.apelidoEmpresa},l));e.next=23;break;case 19:e.prev=19,e.t0=e["catch"](15),r=!0,s=e.t0;case 23:e.prev=23,e.prev=24,i||null==n.return||n.return();case 26:if(e.prev=26,!r){e.next=29;break}throw s;case 29:return e.finish(26);case 30:return e.finish(23);case 31:this.caixas=o,this.campos.idCaixa=this.caixas[0].id,this.abrir=!0;case 34:case"end":return e.stop()}},e,this,[[15,19,23,31],[24,,26,30]])}));return function(){return e.apply(this,arguments)}}(),abrirCaixa:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.$q.loading.show({message:"Processando..."}),e.next=4,Zn.caixa.abra(this.campos);case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e["catch"](0),this.$q.notifyError("Não foi possível abrir o caixa.",e.t0),e.abrupt("return");case 10:return e.prev=10,this.$q.loading.hide(),e.finish(10);case 13:this.abrir=!1,this.$emit("input",!1),this.$emit("aberto"),this.$q.notifyPositive("Caixa aberto com sucesso.");case 17:case"end":return e.stop()}},e,this,[[0,6,10,13]])}));return function(){return e.apply(this,arguments)}}(),eventoInput:function(e){this.$emit("input",e)}},props:{value:{default:!1,required:!0,type:Boolean}},watch:{value:function(e){e&&(this.abrir=!1,this.campos={valor:0,idCaixa:"",observacao:""},this.atualizar()),this.$emit("input",e)}}},rm=im,sm=Object(sc["a"])(rm,am,om,!1,null,null,null);sm.options.__file="CaixaAbrir.vue";var nm=sm.exports,cm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-modal",{attrs:{"no-esc-dismiss":e.abrindo,"no-backdrop-dismiss":e.abrindo,"content-css":{minWidth:"30vw"}},model:{value:e.visivel,callback:function(t){e.visivel=t},expression:"visivel"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Conferência de Caixa")]),e.abrindo?e._e():a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),a("form",{staticClass:"layout-padding",on:{submit:function(t){return t.preventDefault(),e.abrir(t)}}},[a("campo",{attrs:{value:e.empresa.descricao,before:[{icon:"search",handler:e.abrirModalContatoEmpresas}],placeholder:"Selecione","rotulo-fixo":e.empresa.descricao?"Empresa":"","somente-leitura":"",disable:e.abrindo}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("campo",{attrs:{tipo:"data",rotulo:"De",disable:e.abrindo},on:{input:function(t){e.getDocumentosCaixa()}},model:{value:e.periodo.de,callback:function(t){e.$set(e.periodo,"de",t)},expression:"periodo.de"}})],1),a("div",{staticClass:"col-6"},[a("campo",{attrs:{tipo:"data",rotulo:"Até",disable:e.abrindo},on:{input:function(t){e.getDocumentosCaixa()}},model:{value:e.periodo.ate,callback:function(t){e.$set(e.periodo,"ate",t)},expression:"periodo.ate"}})],1)]),e.documentosCaixaEncontrados?a("campo",{attrs:{opcoes:e.documentosCaixa,tipo:"seletor",disable:e.abrindo},on:{input:e.limparSeletor},model:{value:e.idDocumentoCaixa,callback:function(t){e.idDocumentoCaixa=t},expression:"idDocumentoCaixa"}}):a("div",{staticClass:"text-center q-mt-md"},[a("span",{staticStyle:{"font-size":"80%"}},[e._v(e._s(e.msg))])]),a("div",{staticClass:"q-mt-lg text-center"},[a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{loading:e.abrindo,color:"primary",label:"Abrir",type:"submit",disable:!e.idDocumentoCaixa}})],1)],1)],1)],1),a("prompt-contato-novo",{attrs:{filtro:e.modalContato.filtro,placeholder:e.modalContato.placeholder},on:{selecionar:e.modalContato.selecionar},model:{value:e.modalContato.visivel,callback:function(t){e.$set(e.modalContato,"visivel",t)},expression:"modalContato.visivel"}})],1)},lm=[];cm._withStripped=!0;var dm={components:{Campo:Sl,PromptContatoNovo:Yd},computed:{documentosCaixaEncontrados:function(){return!!this.documentosCaixa.filter(function(e){return e.valor}).length}},data:function(){return{abrindo:!1,documentosCaixa:[],empresa:{},idDocumentoCaixa:"",modalContato:{},msg:"",periodo:{},visivel:!1}},methods:{abrir:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.idDocumentoCaixa&&(this.abrindo=!0,this.imprimir("conferencia-de-caixa",this.idDocumentoCaixa),this.visivel=!1);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),abrirModalContatoEmpresas:function(){this.abrindo||(this.modalContato={visivel:!0,filtro:{ativo:!0,empresas:!0},placeholder:"Selecione a empresa",selecionar:this.selecionarEmpresa})},getDocumentosCaixa:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.empresa.id){e.next=3;break}return e.abrupt("return");case 3:return this.documentosCaixa=[],this.idDocumentoCaixa="",this.msg="Carregando caixas...",e.next=8,xa(500);case 8:return e.next=10,Zn.documento.le({tipo:"Caixa",idEmpresa:this.empresa.id});case 10:t=e.sent,a=t.filter(function(e){var t=new Date(e.dataHoraFinalizado).setHours(0,0,0,0);return["Aguardando Conferência","Fechado"].includes(e.status)&&t>=l.periodo.de&&t<=l.periodo.ate}),a=Object(ot["orderBy"])(a,"dataHoraFinalizado","desc"),o=!0,i=!1,r=void 0,e.prev=16,s=a[Symbol.iterator]();case 18:if(o=(n=s.next()).done){e.next=36;break}return c=n.value,e.next=22,Zn.caixa.le({id:c.idCaixa});case 22:if(e.t1=e.sent,e.t1){e.next=25;break}e.t1={};case 25:if(e.t0=e.t1.descricao,e.t0){e.next=28;break}e.t0="";case 28:e.t2=e.t0,e.t3=e.t2+" - Fechado em ",e.t4=this.$filters.dataHora(c.dataHoraFinalizado),c.rotulo=e.t3+e.t4,c.valor=c.id;case 33:o=!0,e.next=18;break;case 36:e.next=42;break;case 38:e.prev=38,e.t5=e["catch"](16),i=!0,r=e.t5;case 42:e.prev=42,e.prev=43,o||null==s.return||s.return();case 45:if(e.prev=45,!i){e.next=48;break}throw r;case 48:return e.finish(45);case 49:return e.finish(42);case 50:this.documentosCaixa=[{rotulo:"Selecione um caixa",valor:""}].concat(la()(a)),this.documentosCaixaEncontrados||(this.msg="Nenhum caixa encontrado para este filtro"),e.next=57;break;case 54:e.prev=54,e.t6=e["catch"](0),this.$q.notifyError("Erro ao carregar caixas.");case 57:case"end":return e.stop()}},e,this,[[0,54],[16,38,42,50],[43,,45,49]])}));return function(){return e.apply(this,arguments)}}(),limparSeletor:function(){this.documentosCaixa=this.documentosCaixa.filter(function(e){return e.valor})},selecionarEmpresa:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Zn.empresa.le({idContato:t});case 5:a=e.sent,Po(!a.length||!a[0].id,"Não foi possível recuperar os dados da empresa."),this.empresa={id:t,descricao:a[0].nome||"Empresa sem nome"},this.getDocumentosCaixa(),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),this.refreshData(),this.$q.notifyError("Erro ao selecionar a empresa.",e.t0);case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),refreshData:function(){this.abrindo=!1,this.empresa={id:"",descricao:""},this.idDocumentoCaixa="",this.documentosCaixa=[];var e=new Date;this.periodo={de:new Date(e.setDate(e.getDate()-7)),ate:new Date},this.modalContato={visivel:!1,filtro:{},placeholder:"",selecionar:function(){}},this.msg="Preencha o filtro para buscar caixas"}},props:{value:{required:!0,type:Boolean}},watch:{visivel:function(e){e||this.$emit("input",!1)},value:function(e){e&&(this.visivel=!0),e||this.refreshData()}},created:function(){this.refreshData()}},um=dm,mm=Object(sc["a"])(um,cm,lm,!1,null,null,null);mm.options.__file="CaixaConferencia.vue";var pm=mm.exports,vm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{value:e.visivel,maximized:""},on:{input:e.eventoInput}},[a("q-modal-layout",{staticClass:"bg-light"},[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("Fechar caixa")])],1),a("div",{staticClass:"gutter-md layout-padding row"},[a("div",{staticClass:"col-12 col-lg-7"},[a("div",{staticClass:"bg-white round-borders q-pa-md"},[a("div",{staticClass:"items-center row"},[a("div",{staticClass:"col q-title"},[e._v(e._s(e.campos.caixaDescricao))]),a("div",{staticClass:"col text-faded text-right"},[a("q-icon",{attrs:{name:"place"}}),e._v("\n              "+e._s(e.campos.caixaEmpresaNome)+"\n            ")],1)]),a("form",{staticClass:"q-mt-lg"},[a("div",{staticClass:"q-subheading text-weight-medium"},[e._v("Dinheiro")]),a("div",{staticClass:"row q-mt-sm"},[a("div",{staticClass:"col-12 col-lg-8 items-center gutter-sm q-body-1 row"},[a("div",{staticClass:"col-5"},[e._v("Abertura")]),a("div",{staticClass:"col-7"},[a("campo",{staticClass:"bg-grey-2",attrs:{tipo:"decimal",decimals:"2"},model:{value:e.campos.abertura,callback:function(t){e.$set(e.campos,"abertura",t)},expression:"campos.abertura"}})],1),a("div",{staticClass:"col-5"},[e._v("Recebimentos")]),a("div",{staticClass:"col-7 text-right"},[e._v("\n                  "+e._s(e._f("numero")(e.recebimentos,2))+"\n                  "),a("q-tooltip",[e._v("Fechamento - Abertura + Despesas - Suprimentos + Sangrias = "),a("strong",[e._v("Recebimentos")])])],1),a("div",{staticClass:"col-5"},[e._v("Sangrias")]),a("div",{staticClass:"col-7 text-right"},[e._v(e._s(e._f("numero")(e.campos.sangrias,2)))]),a("div",{staticClass:"col-5"},[e._v("Suprimentos")]),a("div",{staticClass:"col-7 text-right"},[e._v(e._s(e._f("numero")(e.campos.suprimentos,2)))]),a("div",{staticClass:"col-5"},[e._v("Despesas")]),a("div",{staticClass:"col-7 text-right"},[e._v(e._s(e._f("numero")(e.campos.despesas,2)))]),a("div",{staticClass:"col-5"},[e._v("Fechamento")]),a("div",{staticClass:"col-7"},[a("campo",{staticClass:"bg-grey-2",attrs:{tipo:"decimal",decimals:"2"},on:{blur:e.calculaSangriaFinal},model:{value:e.campos.fechamento,callback:function(t){e.$set(e.campos,"fechamento",t)},expression:"campos.fechamento"}})],1),a("div",{staticClass:"col-5"},[e._v("Fundo de caixa")]),a("div",{staticClass:"col-7"},[a("campo",{staticClass:"bg-grey-2",attrs:{tipo:"decimal",decimals:"2"},on:{blur:e.calculaSangriaFinal},model:{value:e.campos.fundoCaixa,callback:function(t){e.$set(e.campos,"fundoCaixa",t)},expression:"campos.fundoCaixa"}})],1),a("div",{staticClass:"col-5"},[e._v("Sangria Final")]),a("div",{staticClass:"col-7 text-right"},[e._v(e._s(e._f("numero")(e.campos.sangriaFinal,2)))])]),a("div",{staticClass:"Faturamento-historico col-12 col-lg-4 q-caption text-faded text-right"},[a("div",[e._v("\n                  "+e._s(e._f("dataHora")(e.campos.dataHoraAbertura))+" "),a("q-icon",{attrs:{name:"calendar_today"}}),a("br"),e._v("\n                  "+e._s(e.campos.nomeUsuarioAbertura)+" "),a("q-icon",{attrs:{name:"person"}})],1)])]),a("div",{staticClass:"q-subheading text-weight-medium q-mt-lg"},[e._v("Outras formas de pagamento")]),a("div",{staticClass:"q-mt-sm"},e._l(e.condicaoPagamento,function(t){return a("div",{key:t.id,staticClass:"gutter-x-sm items-center q-mt-sm row"},[a("div",{staticClass:"col-7"},[e._v(e._s(t.descricao))]),a("div",{staticClass:"col-5"},[[5,99].includes(t.tipo)?a("div",{staticClass:"text-right",staticStyle:{"padding-top":"6px","padding-right":"8px"}},[e._v(e._s(e._f("numero")(t.valor,2)))]):a("campo",{attrs:{classCampo:"bg-grey-2 q-px-sm",tipo:"decimal",decimals:"2"},model:{value:t.valor,callback:function(a){e.$set(t,"valor",a)},expression:"c.valor"}})],1)])})),a("campo",{staticClass:"bg-grey-2 q-mt-lg q-pa-xs",attrs:{rotulo:"Observação",rows:"2",tipo:"textoArea"},model:{value:e.campos.observacao,callback:function(t){e.$set(e.campos,"observacao",t)},expression:"campos.observacao"}})],1)])]),a("div",{staticClass:"col-12 col-lg-5"},[a("div",{staticClass:"q-title text-primary"},[e._v("Sangrias")]),a("table",{staticClass:"Tabela q-mt-md"},[a("thead",[a("tr",[a("th",[e._v("Data Emissão")]),a("th",[e._v("Observação")]),a("th",[e._v("Valor")])])]),a("tbody",e._l(e.sangrias,function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(e._f("data")(t.dataEmissao)))]),a("td",[e._v(e._s(t.observacao))]),a("td",[e._v(e._s(e._f("numero")(t.valorCredito,2)))])])}))]),a("div",{staticClass:"q-title q-mt-xl text-primary"},[e._v("Transferências")]),a("table",{staticClass:"Tabela q-mt-md"},[a("thead",[a("tr",[a("th",[e._v("Data Emissão")]),a("th",[e._v("Observação")]),a("th",[e._v("Valor")])])]),a("tbody",e._l(e.suprimentos,function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(e._f("data")(t.dataEmissao)))]),a("td",[e._v(e._s(t.observacao))]),a("td",[e._v(e._s(e._f("numero")(t.valorDebito,2)))])])}))]),a("div",{staticClass:"q-title q-mt-xl text-primary"},[e._v("Despesas simples")]),a("table",{staticClass:"Tabela q-mt-md"},[a("thead",[a("tr",[a("th",[e._v("Data emissão")]),a("th",[e._v("Pago à")]),a("th",[e._v("Conta despesa")]),a("th",[e._v("Valor")])])]),a("tbody",e._l(e.despesas,function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(e._f("data")(t.dataEmissao)))]),a("td",[e._v(e._s((t.contato||{}).nome))]),a("td",[e._v(e._s(((t.financeiroPlanoConta||{}).descricao||"").trim()))]),a("td",[e._v(e._s(e._f("numero")(t.valorTotal,2)))])])}))])])]),a("q-toolbar",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("q-toolbar-title",{staticClass:"text-right"},[a("q-btn",{staticClass:"q-ml-sm",attrs:{color:"primary",label:"Concluir"},on:{click:e.fecharCaixa}})],1)],1)],1)],1)},hm=[];vm._withStripped=!0;var fm={components:{Campo:Sl},computed:{recebimentos:function(){var e=dt((this.campos.fechamento||0)-(this.campos.abertura||0)+(this.campos.despesas||0)-(this.campos.suprimentos||0)+(this.campos.sangrias||0));return e}},data:function(){return{visivel:!1,campos:{sangrias:0,despesas:0,suprimentos:0,sangriaFinal:0,fundoCaixa:0,abertura:0,dataHoraAbertura:"",nomeUsuarioAbertura:"",caixaDescricao:"",caixaEmpresaNome:"",observacao:""},sangrias:[],despesas:[],suprimentos:[],condicaoPagamento:[],condicaoPagamentoDinheiro:[]}},methods:{calculaSangriaFinal:function(){var e=dt(this.campos.fechamento-this.campos.fundoCaixa);e<0&&(this.$q.notify({message:"Sangria final não pode ser maior do que o recebimento",type:"warning"}),this.campos.fundoCaixa=0,e=dt(this.campos.fechamento)),this.campos.sangriaFinal=e},atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.$q.loading.show({message:"Processando..."}),this.campos.sangrias=0,this.campos.despesas=0,this.campos.suprimentos=0,this.campos.sangriaFinal=0,this.campos.fundoCaixa=0,this.campos.abertura=0,this.campos.dataHoraAbertura="",this.campos.nomeUsuarioAbertura="",this.campos.caixaDescricao="",this.campos.caixaEmpresaNome="",this.campos.observacao="",this.documentoCaixa={},!this.idDocumentoCaixa){e.next=19;break}return e.next=17,Zn.documento.le({id:this.idDocumentoCaixa});case 17:t=e.sent,"Caixa"===t.tipo&&["Aberto","Reaberto"].includes(t.status)&&(this.documentoCaixa=t);case 19:if(this.documentoCaixa&&this.documentoCaixa.id){e.next=23;break}return this.$q.notify({message:"Selecione um caixa aberto",type:"warning"}),this.$emit("input",!1),e.abrupt("return");case 23:return e.next=25,Zn.documentoCondicaoPagamento.le({idDocumentoCaixa:this.idDocumentoCaixa});case 25:a=e.sent,o={},i=!0,r=!1,s=void 0,e.prev=30,n=a[Symbol.iterator]();case 32:if(i=(c=n.next()).done){e.next=45;break}if(l=c.value,!l.idDocumento||o[l.idDocumento]){e.next=42;break}return e.next=37,Zn.documento.le({id:l.idDocumento});case 37:if(o[l.idDocumento]=e.sent,o[l.idDocumento].dataHoraFinalizado){e.next=42;break}return this.$q.notify({message:"Existem faturas abertas com condição de pagamento lançada. Não é possível finalizar o caixa sem finalizar ou excluir essas faturas!",type:"warning"}),this.$emit("input",!1),e.abrupt("return");case 42:i=!0,e.next=32;break;case 45:e.next=51;break;case 47:e.prev=47,e.t0=e["catch"](30),r=!0,s=e.t0;case 51:e.prev=51,e.prev=52,i||null==n.return||n.return();case 54:if(e.prev=54,!r){e.next=57;break}throw s;case 57:return e.finish(54);case 58:return e.finish(51);case 59:return e.next=61,Zn.caixa.le({id:this.documentoCaixa.idCaixa});case 61:return this.caixa=e.sent,e.next=64,Zn.financeiroTitulo.le({idDocumentoCaixa:this.documentoCaixa.id});case 64:return d=e.sent,e.next=67,Zn.empresa.le({idContato:this.documentoCaixa.idEmpresa});case 67:return u=e.sent,u.length&&(this.empresa=u[0]),e.next=71,Zn.financeiroMovimentacao.le({idDocumentoCaixa:this.documentoCaixa.id,documentoTipo:"Sangria"});case 71:m=e.sent,this.sangrias=m.filter(function(e){return e.valorCredito>0}),this.campos.sangrias=dt(this.sangrias.reduce(function(e,t){return e+=t.valorCredito,e},0)),this.despesas=d.filter(function(e){return"DespesaSimples"===e.documentoTipo}),p=0,v=!0,h=!1,f=void 0,e.prev=79,C=this.despesas[Symbol.iterator]();case 81:if(v=(b=C.next()).done){e.next=93;break}return g=b.value,p+=g.valorTotal,e.next=86,Zn.contato.le({id:g.idContato});case 86:return g.contato=e.sent,e.next=89,Zn.financeiroPlanoConta.le({id:g.idFinanceiroPlanoConta});case 89:g.financeiroPlanoConta=e.sent;case 90:v=!0,e.next=81;break;case 93:e.next=99;break;case 95:e.prev=95,e.t1=e["catch"](79),h=!0,f=e.t1;case 99:e.prev=99,e.prev=100,v||null==C.return||C.return();case 102:if(e.prev=102,!h){e.next=105;break}throw f;case 105:return e.finish(102);case 106:return e.finish(99);case 107:return this.campos.despesas=dt(p),e.next=110,Zn.financeiroMovimentacao.le({idDocumentoCaixa:this.documentoCaixa.id,documentoTipo:"Suprimento"});case 110:return x=e.sent,this.suprimentos=x.filter(function(e){return e.valorDebito>0}),this.campos.suprimentos=dt(this.suprimentos.reduce(function(e,t){return e+=t.valorDebito,e},0)),e.next=115,Zn.formaPagamento.le();case 115:for(S in e.t2=function(e){return(!e.idContatoEmpresa||e.idContatoEmpresa===F.documentoCaixa.idEmpresa)&&!!e.ativo},e.t3=function(e){return{id:e.id,tipo:e.tipo,descricao:e.descricao,valor:0,idFinanceiroPlanoConta:e.idFinanceiroPlanoConta}},_=e.sent.filter(e.t2).map(e.t3),q=function(e){var t=a.filter(function(t){return t.idDocumento===e}),o=!0,i=!1,r=void 0;try{for(var s,n=t[Symbol.iterator]();!(o=(s=n.next()).done);o=!0){var c=s.value,l=!0,d=!1,u=void 0;try{for(var m,p=_[Symbol.iterator]();!(l=(m=p.next()).done);l=!0){var v=m.value;v.id===c.idFormaPagamento&&[5,97,99].includes(v.tipo)&&(v.valor=dt(v.valor+c.valor))}}catch(e){d=!0,u=e}finally{try{l||null==p.return||p.return()}finally{if(d)throw u}}}}catch(e){i=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw r}}},o)q(S);return this.condicaoPagamento=Object(ot["orderBy"])(_.filter(function(e){return e.idFinanceiroPlanoConta!==F.caixa.idPlanoConta}),"descricao","asc"),this.condicaoPagamentoDinheiro=_.filter(function(e){return e.idFinanceiroPlanoConta===F.caixa.idPlanoConta}),this.campos.abertura=this.documentoCaixa.valorAbertura,this.campos.dataHoraAbertura=this.documentoCaixa.dataHoraEmissao,e.next=126,Zn.usuario.le({id:this.documentoCaixa.idContato});case 126:I=e.sent,this.campos.nomeUsuarioAbertura=I.nome||"",this.campos.caixaDescricao=this.caixa.descricao,this.campos.caixaEmpresaNome=this.empresa.nome,this.calculaSangriaFinal(),this.$q.loading.hide(),this.visivel=!0,this.$emit("input",this.visivel),e.next=139;break;case 136:e.prev=136,e.t4=e["catch"](0),this.$q.notifyError("Não foi possível realizar o Fechamento de Caixa.",e.t4);case 139:return e.prev=139,this.$q.loading.hide(),e.finish(139);case 142:case"end":return e.stop()}},e,this,[[0,136,139,142],[30,47,51,59],[52,,54,58],[79,95,99,107],[100,,102,106]])}));return function(){return e.apply(this,arguments)}}(),fecharCaixa:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w,y,N,k,M,P,D,E,T,A,O,$,R,j,z,B,L,V,U,H,Q,G,J,X,Y,W,Z;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.$q.loading.show({message:"Processando..."}),!(this.campos.sangriaFinal<0)){e.next=5;break}return this.$q.notify({message:"Sangria final não pode ser negativa.",type:"warning"}),e.abrupt("return");case 5:return t=na(),a=Yt(this.documentoCaixa),a.status="Aguardando Conferência",a.dataHoraFinalizado=t,a.observacao=this.observacao,a.valorAbertura=this.campos.abertura,e.next=13,Zn.caixa.le({id:a.idCaixa});case 13:return o=e.sent,Po(!o.id,"Caixa não existe"),e.next=17,Zn.financeiroPlanoConta.le({id:o.idPlanoConta});case 17:return i=e.sent,e.next=20,Zn.financeiroPlanoConta.le({id:o.idPlanoContaSangria});case 20:return r=e.sent,e.next=23,Zn.documentoStatus.le({idDocumento:a.id});case 23:return s=e.sent,s=s.filter(function(e){return"Fechamento Caixa"===e.operacao&&"Aguardando Conferência"===e.statusFinalizado&&"Aberto"===e.statusOriginal}),this.campos.sangriaFinal>0&&(n=s.length?s[0].dataHoraEmissao:t,c=Zn.usuario.logado.id,l=hi(),d={id:hi(),idFinanceiroMovimentacaoN:l,idEmpresa:a.idEmpresa,idContato:c,idFinanceiroPlanoConta:i.id,dataEmissao:t,dataCompetencia:n,dataVencimento:n,dataMovimento:n,valorDebito:0,valorCredito:this.campos.sangriaFinal,descricao:"Sangria final de ".concat(Zn.usuario.logado.apelido," no Caixa #").concat(a.id),observacao:"Transferência entre contas",documentoTipo:"Sangria Final",documentoId:a.id,idDocumentoCaixa:a.id},u={id:hi(),idFinanceiroMovimentacaoN:l,idEmpresa:a.idEmpresa,idContato:c,idFinanceiroPlanoConta:r.id,dataEmissao:t,dataCompetencia:n,dataVencimento:n,dataMovimento:n,valorDebito:this.campos.sangriaFinal,valorCredito:0,descricao:"Sangria final de ".concat(Zn.usuario.logado.apelido," no Caixa #").concat(a.id),observacao:"Transferência entre contas",documentoTipo:"Sangria Final",documentoId:a.id,idDocumentoCaixa:a.id},Zn.financeiroMovimentacaoN.grava({atual:{id:l}}),Zn.financeiroMovimentacao.grava({atual:d}),Zn.financeiroMovimentacao.grava({atual:u})),e.next=28,Zn.documentoStatus.le({idDocumento:a.id});case 28:for(m=e.sent,p="",m.length&&(m=Object(ot["orderBy"])(m,"dataHoraEmissao","desc"),p=m[0].statusFinalizado),v=hi(),h={id:v,idDocumento:a.id,operacao:"Fechamento Caixa",statusOriginal:p,statusFinalizado:"Aguardando Conferência",dataHoraEmissao:t,idUsuarioAlterou:Zn.usuario.logado.id,idDocumentoCaixa:a.id},f=[],C=!0,b=!1,g=void 0,e.prev=37,x=this.condicaoPagamento[Symbol.iterator]();!(C=(_=x.next()).done);C=!0)q=_.value,f.push({id:hi(),idDocumento:a.id,idFormaPagamento:q.id,dataVencimento:t,valor:q.valor,ordem:v});e.next=45;break;case 41:e.prev=41,e.t0=e["catch"](37),b=!0,g=e.t0;case 45:e.prev=45,e.prev=46,C||null==x.return||x.return();case 48:if(e.prev=48,!b){e.next=51;break}throw g;case 51:return e.finish(48);case 52:return e.finish(45);case 53:for(S=!0,I=!1,F=void 0,e.prev=56,w=this.condicaoPagamentoDinheiro[Symbol.iterator]();!(S=(y=w.next()).done);S=!0)N=y.value,f.push({id:hi(),idDocumento:a.id,idFormaPagamento:N.id,dataVencimento:t,valor:this.campos.fechamento,ordem:v});e.next=64;break;case 60:e.prev=60,e.t1=e["catch"](56),I=!0,F=e.t1;case 64:e.prev=64,e.prev=65,S||null==w.return||w.return();case 67:if(e.prev=67,!I){e.next=70;break}throw F;case 70:return e.finish(67);case 71:return e.finish(64);case 72:return e.next=74,Zn.documentoCondicaoPagamento.le({idDocumentoCaixa:a.id});case 74:return k=e.sent,e.next=77,Zn.financeiroTitulo.le({idDocumentoCaixa:a.id,idDocumentoCaixaLiquidacao:a.id});case 77:return M=e.sent,e.next=80,Zn.financeiroMovimentacao.le({idDocumentoCaixa:a.id});case 80:for(P=e.sent,D=[],E=!0,T=!1,A=void 0,e.prev=85,O=k[Symbol.iterator]();!(E=($=O.next()).done);E=!0)R=$.value,D.push({id:hi(),idDocumentoCaixa:a.id,idDocumentoStatus:v,tabela:"documentoCondicaoPagamento",idTabela:R.id,json:JSON.stringify(R),dataHoraEmissao:t});e.next=93;break;case 89:e.prev=89,e.t2=e["catch"](85),T=!0,A=e.t2;case 93:e.prev=93,e.prev=94,E||null==O.return||O.return();case 96:if(e.prev=96,!T){e.next=99;break}throw A;case 99:return e.finish(96);case 100:return e.finish(93);case 101:for(j=0;j<f.length;j++)z=f[j],D.push({id:hi(),idDocumentoCaixa:a.id,idDocumentoStatus:v,tabela:"documentoCondicaoPagamento",idTabela:z.id,json:JSON.stringify(z),dataHoraEmissao:t});for(B=!0,L=!1,V=void 0,e.prev=105,U=M[Symbol.iterator]();!(B=(H=U.next()).done);B=!0)Q=H.value,D.push({id:hi(),idDocumentoCaixa:a.id,idDocumentoStatus:v,tabela:"financeiroTitulo",idTabela:Q.id,json:JSON.stringify(Q),dataHoraEmissao:t});e.next=113;break;case 109:e.prev=109,e.t3=e["catch"](105),L=!0,V=e.t3;case 113:e.prev=113,e.prev=114,B||null==U.return||U.return();case 116:if(e.prev=116,!L){e.next=119;break}throw V;case 119:return e.finish(116);case 120:return e.finish(113);case 121:for(G=!0,J=!1,X=void 0,e.prev=124,Y=P[Symbol.iterator]();!(G=(W=Y.next()).done);G=!0)Z=W.value,D.push({id:hi(),idDocumentoCaixa:a.id,idDocumentoStatus:v,tabela:"financeiroMovimentacao",idTabela:Z.id,json:JSON.stringify(Z),dataHoraEmissao:t});e.next=132;break;case 128:e.prev=128,e.t4=e["catch"](124),J=!0,X=e.t4;case 132:e.prev=132,e.prev=133,G||null==Y.return||Y.return();case 135:if(e.prev=135,!J){e.next=138;break}throw X;case 138:return e.finish(135);case 139:return e.finish(132);case 140:return e.next=142,Zn.caixa.fecha({documentoCaixa:a,documentoCaixaOriginal:this.documentoCaixa,documentoStatus:[h],caixaConsolidacao2:D});case 142:this.$q.loading.hide(),this.visivel=!1,this.$emit("input",!1),this.$emit("fechado"),this.imprimir("fechamento-de-caixa",this.documentoCaixa.id),this.$q.notifyPositive("Caixa fechado com sucesso"),e.next=153;break;case 150:e.prev=150,e.t5=e["catch"](0),this.$q.notifyError("Não foi possível realizar o Fechamento de Caixa.",e.t5);case 153:return e.prev=153,this.$q.loading.hide(),e.finish(153);case 156:case"end":return e.stop()}},e,this,[[0,150,153,156],[37,41,45,53],[46,,48,52],[56,60,64,72],[65,,67,71],[85,89,93,101],[94,,96,100],[105,109,113,121],[114,,116,120],[124,128,132,140],[133,,135,139]])}));return function(){return e.apply(this,arguments)}}(),eventoInput:function(e){this.visivel=e,this.$emit("input",e)}},props:{idDocumentoCaixa:{default:"",required:!0,type:String},value:{default:!1,required:!0,type:Boolean}},watch:{value:function(e){e&&this.atualizar()}}},Cm=fm,bm=(a("c980"),Object(sc["a"])(Cm,vm,hm,!1,null,"6077c736",null));bm.options.__file="CaixaFechar.vue";var gm=bm.exports,xm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{value:e.aberto,"content-css":{minWidth:"30vw"}},on:{input:e.eventoInput}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v(e._s(e.titulo))]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),a("form",{staticClass:"layout-padding",on:{submit:e.salvar}},[a("campo",{attrs:{before:[{icon:"trending_down"}],opcoes:e.caixas,tipo:"seletor",rotulo:"Origem"},model:{value:e.campos.origem,callback:function(t){e.$set(e.campos,"origem",t)},expression:"campos.origem"}}),a("campo",{attrs:{before:[{icon:"trending_up"}],rotulo:"Destino"},model:{value:e.campos.destino,callback:function(t){e.$set(e.campos,"destino",t)},expression:"campos.destino"}}),a("campo",{attrs:{before:[{icon:"attach_money"}],rotulo:"Valor",tipo:"dinheiro"},model:{value:e.campos.valor,callback:function(t){e.$set(e.campos,"valor",t)},expression:"campos.valor"}}),a("campo",{attrs:{before:[{icon:"date_range"}],rotulo:"Data",tipo:"data"},model:{value:e.campos.data,callback:function(t){e.$set(e.campos,"data",t)},expression:"campos.data"}}),a("div",{staticClass:"q-mt-lg text-center"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{color:"faded",flat:"",label:"Cancelar"}}),a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"primary",label:"Salvar",type:"submit"}})],1)],1)],1)],1)},_m=[];xm._withStripped=!0;var qm={components:{Campo:Sl},data:function(){return{aberto:!1,campos:{data:"",destino:"",origem:"",valor:0},caixas:[]}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=(new Date).setHours(0,0,0,0),e.next=3,Zn.caixa.le({aberto:!0});case 3:if(a=e.sent,a=a.filter(function(e){return new Date(e.dataHoraEmissao).setHours(0,0,0,0)===t}),a.length){e.next=9;break}return this.$q.notify({message:"Favor abrir o caixa para efetuar operações!",type:"warning"}),this.$emit("input",!1),e.abrupt("return");case 9:o=!0,i=!1,r=void 0,e.prev=12,s=a[Symbol.iterator]();case 14:if(o=(n=s.next()).done){e.next=26;break}return c=n.value,e.next=18,Zn.caixa.le({id:c.idCaixa});case 18:if(e.t0=e.sent,e.t0){e.next=21;break}e.t0={};case 21:c.rotulo=e.t0.descricao,c.valor=c.idCaixa;case 23:o=!0,e.next=14;break;case 26:e.next=32;break;case 28:e.prev=28,e.t1=e["catch"](12),i=!0,r=e.t1;case 32:e.prev=32,e.prev=33,o||null==s.return||s.return();case 35:if(e.prev=35,!i){e.next=38;break}throw r;case 38:return e.finish(35);case 39:return e.finish(32);case 40:this.caixas=a,this.campos.origem=(a[0]||{}).valor,this.campos.data=At["d"].formatDate(t),this.aberto=!0;case 44:case"end":return e.stop()}},e,this,[[12,28,32,40],[33,,35,39]])}));return function(){return e.apply(this,arguments)}}(),eventoInput:function(e){e||(this.aberto=!1),this.$emit("input",e)},salvar:function(e){e.preventDefault()}},props:{value:{default:!1,required:!0,type:Boolean},titulo:{default:"Transferência",type:String}},watch:{value:function(e){e&&(this.campos={data:"",destino:"",origem:"",valor:0},this.atualizar())}}},Sm=qm,Im=Object(sc["a"])(Sm,xm,_m,!1,null,null,null);Im.options.__file="CaixaTransferencia.vue";var Fm=Im.exports,wm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{value:e.visivel,"content-css":{minWidth:"30vw"}},on:{input:e.eventoInput}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Lançar Sangria")]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),a("form",{staticClass:"layout-padding",on:{submit:function(t){return t.preventDefault(),e.lancar(t)}}},[a("campo",{attrs:{before:[{icon:"attach_money"}],rotulo:"Valor",tipo:"decimal",decimals:"2"},model:{value:e.campos.valor,callback:function(t){e.$set(e.campos,"valor",t)},expression:"campos.valor"}}),a("campo",{attrs:{before:[{icon:"message"}],rotulo:"Descrição",tipo:"texto"},model:{value:e.campos.descricao,callback:function(t){e.$set(e.campos,"descricao",t)},expression:"campos.descricao"}}),a("div",{staticClass:"q-mt-lg text-center"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{color:"faded",flat:"",label:"Cancelar"}}),a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"primary",label:"Lançar",type:"submit"}})],1)],1)],1)],1)},ym=[];wm._withStripped=!0;var Nm={components:{Campo:Sl},data:function(){return{visivel:!1,campos:{},contaOrigem:"",contaDestino:""}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={},a={},e.next=5,Zn.documento.le({id:this.idDocumentoCaixa});case 5:return t=e.sent,Do(!("Caixa"===t.tipo&&"Aberto"===t.status),"Selecione um caixa aberto"),Po(!t.idEmpresa,"Caixa sem empresa"),e.next=10,Zn.caixa.le({id:t.idCaixa});case 10:return a=e.sent,Po(!a.id,"Caixa não existe"),e.next=14,Zn.financeiroPlanoConta.le({id:a.idPlanoConta});case 14:return this.contaOrigem=e.sent,e.next=17,Zn.financeiroPlanoConta.le({id:a.idPlanoContaSangria});case 17:return this.contaDestino=e.sent,this.campos.valor=0,this.campos.descricao="Transf. de ".concat(this.contaOrigem.descricao.trim()||""," para ").concat(this.contaDestino.descricao.trim()||""),this.idContatoEmpresa=t.idEmpresa,e.next=23,Zn.empresa.le({idContato:this.idContatoEmpresa});case 23:o=e.sent,Po(!o||!o.length||!o[0].id,"Caixa sem empresa válida"),this.idEmpresa=o[0].idContato,this.visivel=!0,e.next=33;break;case 29:e.prev=29,e.t0=e["catch"](0),this.$q.notifyError("Erro no lancamento de Sangria",e.t0),this.eventoInput(!1);case 33:case"end":return e.stop()}},e,this,[[0,29]])}));return function(){return e.apply(this,arguments)}}(),eventoInput:function(e){this.visivel=e,this.$emit("input",e)},lancar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:try{this.$q.loading.show({message:"Processando..."}),t=na(),a=Zn.usuario.logado.id,Do(!this.campos.valor,"Valor não preenchido"),o={id:hi(),idEmpresa:this.idEmpresa,tipo:"Financeiro",operacao:"Sangria",status:"Finalizado",dataHoraEmissao:t,dataHoraFinalizado:t,totalDocumento:this.campos.valor,idContato:a,observacao:this.campos.descricao,idDocumentoAdicional:this.idDocumentoCaixa,idDocumentoOperacao:""},i=hi(),r={id:hi(),idFinanceiroMovimentacaoN:i,idEmpresa:this.idEmpresa,idContato:a,idFinanceiroPlanoConta:this.contaOrigem.id,dataEmissao:t,dataCompetencia:t,dataVencimento:t,dataMovimento:t,valorDebito:0,valorCredito:this.campos.valor,descricao:"Sangria de ".concat(Zn.usuario.logado.apelido," no Caixa #").concat(this.idDocumentoCaixa),observacao:"Transferência entre contas",documentoTipo:"Sangria",documentoId:this.idDocumentoCaixa,idDocumentoCaixa:this.idDocumentoCaixa},s={id:hi(),idFinanceiroMovimentacaoN:i,idEmpresa:this.idEmpresa,idContato:a,idFinanceiroPlanoConta:this.contaDestino.id,dataEmissao:t,dataCompetencia:t,dataVencimento:t,dataMovimento:t,valorDebito:this.campos.valor,valorCredito:0,descricao:"Sangria de ".concat(Zn.usuario.logado.apelido," no Caixa #").concat(this.idDocumentoCaixa),observacao:"Transferência entre contas",documentoTipo:"Sangria",documentoId:this.idDocumentoCaixa,idDocumentoCaixa:this.idDocumentoCaixa},Zn.financeiroMovimentacaoN.grava({atual:{id:i}}),Zn.documento.grava({atual:o}),Zn.financeiroMovimentacao.grava({atual:r}),Zn.financeiroMovimentacao.grava({atual:s}),this.eventoInput(!1),this.$q.notifyPositive("Sangria lançada com sucesso")}catch(e){this.$q.notifyError("Erro no lancamento de Sangria",e)}finally{this.$q.loading.hide()}case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},props:{idDocumentoCaixa:{required:!0,type:String},value:{required:!0,type:Boolean}},watch:{value:function(e){e&&this.atualizar()}}},km=Nm,Mm=Object(sc["a"])(km,wm,ym,!1,null,null,null);Mm.options.__file="CaixaSangriaLancar.vue";var Pm=Mm.exports,Dm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{value:e.visivel,"content-css":{minWidth:"30vw"}},on:{input:e.eventoInput}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Lançar Suprimento")]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),a("form",{staticClass:"layout-padding",on:{submit:e.lancar}},[a("campo",{attrs:{before:[{icon:"attach_money"}],rotulo:"Valor",tipo:"decimal",decimals:"2"},model:{value:e.campos.valor,callback:function(t){e.$set(e.campos,"valor",t)},expression:"campos.valor"}}),a("campo",{attrs:{before:[{icon:"message"}],rotulo:"Descrição",tipo:"texto"},model:{value:e.campos.descricao,callback:function(t){e.$set(e.campos,"descricao",t)},expression:"campos.descricao"}}),a("div",{staticClass:"q-mt-lg text-center"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{color:"faded",flat:"",label:"Cancelar"}}),a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"primary",label:"Lançar",type:"submit"}})],1)],1)],1)],1)},Em=[];Dm._withStripped=!0;var Tm={components:{Campo:Sl},data:function(){return{visivel:!1,campos:{},contaOrigem:"",contaDestino:""}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={},a={},e.next=5,Zn.documento.le({id:this.idDocumentoCaixa});case 5:return t=e.sent,Do(!("Caixa"===t.tipo&&"Aberto"===t.status),"Selecione um caixa aberto"),Po(!t.idEmpresa,"Caixa sem empresa"),e.next=10,Zn.caixa.le({id:t.idCaixa});case 10:return a=e.sent,Po(!a.id,"Caixa não existe"),e.next=14,Zn.financeiroPlanoConta.le({id:a.idPlanoContaSangria});case 14:return this.contaOrigem=e.sent,e.next=17,Zn.financeiroPlanoConta.le({id:a.idPlanoConta});case 17:return this.contaDestino=e.sent,this.campos.valor=0,this.campos.descricao="Transf. de ".concat(this.contaOrigem.descricao.trim()||""," para ").concat(this.contaDestino.descricao.trim()||""),this.idContatoEmpresa=t.idEmpresa,e.next=23,Zn.empresa.le({idContato:this.idContatoEmpresa});case 23:o=e.sent,Po(!o||!o.length||!o[0].id,"Caixa sem empresa válida"),this.idEmpresa=o[0].idContato,this.visivel=!0,e.next=33;break;case 29:e.prev=29,e.t0=e["catch"](0),this.$q.notifyError("Erro no lancamento de Suprimento",e.t0),this.eventoInput(!1);case 33:case"end":return e.stop()}},e,this,[[0,29]])}));return function(){return e.apply(this,arguments)}}(),eventoInput:function(e){this.visivel=e,this.$emit("input",e)},lancar:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.preventDefault();try{this.$q.loading.show({message:"Processando..."}),a=na(),o=Zn.usuario.logado.id,Do(!this.campos.valor,"Valor não preenchido"),i={id:hi(),idEmpresa:this.idEmpresa,tipo:"Financeiro",operacao:"Suprimento",status:"Finalizado",dataHoraEmissao:a,dataHoraFinalizado:a,totalDocumento:this.campos.valor,idContato:o,observacao:this.campos.descricao,idDocumentoAdicional:this.idDocumentoCaixa,idDocumentoOperacao:""},r=hi(),s={id:hi(),idFinanceiroMovimentacaoN:r,idEmpresa:this.idEmpresa,idContato:o,idFinanceiroPlanoConta:this.contaOrigem.id,dataEmissao:a,dataCompetencia:a,dataVencimento:a,dataMovimento:a,valorDebito:0,valorCredito:this.campos.valor,descricao:"Suprimento de ".concat(Zn.usuario.logado.apelido," no Caixa #").concat(this.idDocumentoCaixa),observacao:"Transferência entre contas",documentoTipo:"Suprimento",documentoId:this.idDocumentoCaixa,idDocumentoCaixa:this.idDocumentoCaixa},n={id:hi(),idFinanceiroMovimentacaoN:r,idEmpresa:this.idEmpresa,idContato:o,idFinanceiroPlanoConta:this.contaDestino.id,dataEmissao:a,dataCompetencia:a,dataVencimento:a,dataMovimento:a,valorDebito:this.campos.valor,valorCredito:0,descricao:"Suprimento de ".concat(Zn.usuario.logado.apelido," no Caixa #").concat(this.idDocumentoCaixa),observacao:"Transferência entre contas",documentoTipo:"Suprimento",documentoId:this.idDocumentoCaixa,idDocumentoCaixa:this.idDocumentoCaixa},Zn.financeiroMovimentacaoN.grava({atual:{id:r}}),Zn.documento.grava({atual:i}),Zn.financeiroMovimentacao.grava({atual:s}),Zn.financeiroMovimentacao.grava({atual:n}),this.eventoInput(!1),this.$q.notifyPositive("Suprimento lançado com sucesso")}catch(e){this.$q.notifyError("Erro no lancamento de Suprimento",e)}finally{this.$q.loading.hide()}case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},props:{idDocumentoCaixa:{required:!0,type:String},value:{required:!0,type:Boolean}},watch:{value:function(e){e&&this.atualizar()}}},Am=Tm,Om=Object(sc["a"])(Am,Dm,Em,!1,null,null,null);Om.options.__file="CaixaSuprimentoLancar.vue";var $m=Om.exports,Rm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-modal",{attrs:{value:e.visivel,"content-css":{minWidth:"30vw"}},on:{input:e.eventoInput}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Lançar Despesa")]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),a("form",{staticClass:"layout-padding",on:{submit:e.lancar}},[a("campo",{attrs:{value:e.contaDestino.descricao,before:[{icon:"search",handler:e.abrirModalFinanceiroContas}],readonly:"",rotulo:"Destino"},on:{click:e.abrirModalFinanceiroContas}}),a("campo",{attrs:{value:e.contato.nome,before:[{icon:"search",handler:e.abrirModalContato}],readonly:"",rotulo:"Pagar a"},on:{click:e.abrirModalContato}}),a("campo",{attrs:{before:[{icon:"attach_money"}],rotulo:"Valor",tipo:"decimal",decimals:"2"},model:{value:e.campos.valor,callback:function(t){e.$set(e.campos,"valor",t)},expression:"campos.valor"}}),a("campo",{attrs:{before:[{icon:"message"}],rotulo:"Descrição",tipo:"texto"},model:{value:e.campos.descricao,callback:function(t){e.$set(e.campos,"descricao",t)},expression:"campos.descricao"}}),a("div",{staticClass:"q-mt-lg text-center"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{color:"faded",flat:"",label:"Cancelar"}}),a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"primary",label:"Lançar",type:"submit"}})],1)],1)],1)],1),a("prompt-financeiro-contas",{attrs:{filtro:e.modalFinanceiroContas.filtros},on:{selecionar:e.selecionarFinanceiroConta},model:{value:e.modalFinanceiroContas.visivel,callback:function(t){e.$set(e.modalFinanceiroContas,"visivel",t)},expression:"modalFinanceiroContas.visivel"}}),a("prompt-contato-novo",{attrs:{filtro:{ativo:!0}},on:{selecionar:e.selecionarContato},model:{value:e.modalContato,callback:function(t){e.modalContato=t},expression:"modalContato"}})],1)},jm=[];Rm._withStripped=!0;var zm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{maximized:""},model:{value:e.visivel,callback:function(t){e.visivel=t},expression:"visivel"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[a("q-search",{attrs:{color:"none",inverted:"",placeholder:e.placeholder,debounce:600,after:[{icon:"close",content:!0,handler:function(){e.limparTermo()}}]},on:{input:e.atualizar},model:{value:e.termo,callback:function(t){e.termo=t},expression:"termo"}})],1)],1),a("div",{staticClass:"layout-padding"},[e.carregando?a("div",{staticClass:"q-mt-lg text-center"},[a("q-spinner",{attrs:{color:"faded",size:50}})],1):e._e(),!e.carregando&&e.contasEncontradas?a("div",[a("q-list",{attrs:{link:"","no-border":"",separator:""}},e._l(e.contas,function(t){return a("q-item",{key:t.id,nativeOn:{click:function(a){e.selecionar(t)}}},[a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v(e._s((t.apelido||"").trim()+" - "+(t.descricao||"").trim())+"\n              ")]),a("q-item-tile",{attrs:{sublabel:""}},[e._v(e._s(t.caminho))])],1)],1)}))],1):e._e(),e.carregando||e.contasEncontradas?e._e():a("div",{staticClass:"bg-light q-pa-lg round-borders text-black text-center"},[e._v("\n        Não encontramos contas com os critérios selecionados.\n      ")])])],1)],1)},Bm=[];zm._withStripped=!0;var Lm=a("ffe7"),Vm=a.n(Lm),Um={computed:{contasEncontradas:function(){return this.contas.length}},data:function(){return{carregando:!0,contas:[],termo:"",visivel:!1}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.carregando=!0,t=Zn.financeiroPlanoConta.le(this.filtro),!this.termo){e.next=13;break}return a=!!this.termo.replace(/[^\d]/g,""),e.t0=Vm.a,e.next=7,t;case 7:e.t1=e.sent,e.t2={keys:[{name:"descricao",weight:.9},{name:"apelido",weight:.9},a?{name:"codigoFinanceiroPlanoConta"}:{}]},o=new e.t0(e.t1,e.t2),t=o.search(this.termo.trim()),e.next=20;break;case 13:return e.t3=ot["orderBy"],e.next=16,t;case 16:e.t4=e.sent,e.t5=["descricao","apelido"],e.t6=["asc","asc"],t=(0,e.t3)(e.t4,e.t5,e.t6);case 20:this.contas=t,this.carregando=!1;case 22:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),limparTermo:function(){this.termo="",this.atualizar()},refreshData:function(){this.visivel=!1,this.carregando=!0,this.contas=[],this.conta={}},selecionar:function(e){this.conta=e,this.visivel=!1}},props:{filtro:{default:function(){return{}},type:Object},placeholder:{default:"Buscar",type:String},value:{required:!0,type:Boolean}},watch:{visivel:function(e){e||(this.$emit("selecionar",this.conta||{}),this.$emit("input",!1))},value:function(e){e&&(this.visivel=!0,this.atualizar()),e||this.refreshData()}}},Hm=Um,Qm=Object(sc["a"])(Hm,zm,Bm,!1,null,null,null);Qm.options.__file="PromptFinanceiroContas.vue";var Gm=Qm.exports,Jm={components:{Campo:Sl,PromptContatoNovo:Yd,PromptFinanceiroContas:Gm},data:function(){return{visivel:!1,campos:{},contaOrigem:{},contaDestino:{},contato:{},idEmpresa:"",idContatoEmpresa:"",modalFinanceiroContas:{visivel:!1,filtros:{}},modalContato:!1}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={},a={},e.next=5,Zn.documento.le({id:this.idDocumentoCaixa});case 5:return t=e.sent,Do(!("Caixa"===t.tipo&&"Aberto"===t.status),"Selecione um caixa aberto"),Po(!t.idEmpresa,"Caixa sem empresa"),e.next=10,Zn.caixa.le({id:t.idCaixa});case 10:return a=e.sent,Po(!a.id,"Caixa não existe"),e.next=14,Zn.financeiroPlanoConta.le({id:a.idPlanoConta});case 14:return this.contaOrigem=e.sent,this.contaDestino={},this.contato={},this.campos.valor=0,this.campos.descricao="",this.idContatoEmpresa=t.idEmpresa,e.next=22,Zn.empresa.le({idContato:this.idContatoEmpresa});case 22:o=e.sent,Po(!o||!o.length||!o[0].id,"Caixa sem empresa válida"),this.idEmpresa=o[0].idContato,this.visivel=!0,e.next=32;break;case 28:e.prev=28,e.t0=e["catch"](0),this.$q.notifyError("Erro no lancamento de Despesa",e.t0),this.eventoInput(!1);case 32:case"end":return e.stop()}},e,this,[[0,28]])}));return function(){return e.apply(this,arguments)}}(),eventoInput:function(e){this.visivel=e,this.$emit("input",e)},lancar:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,this.$q.loading.show({message:"Processando..."}),a=na(),o=hi(),i=hi(),e.next=8,Zn.configuracoes.le({nome:"financeiro.planocontas.duplicatapagar"});case 8:return r=e.sent,Do(!r||!r.length,"Falta configuração para 'financeiro.planocontas.duplicatapagar'"),e.next=12,Zn.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:Number(r[0].valor)});case 12:s=e.sent,Do(!s||!s.id,"Falta plano de conta para 'financeiro.planocontas.duplicatapagar'"),Do(!this.contaDestino||!this.contaDestino.id,"Conta destino não selecionada"),Do(!this.contato||!this.contato.id,"Contato para pagamento não selecionado"),Do(!this.campos.valor,"Valor não preenchido"),n={id:o,idEmpresa:this.idEmpresa,idContato:this.contato.id,idFinanceiroPlanoConta:this.contaDestino.id,dataEmissao:a,dataCompetencia:a,dataVencimento:a,dataVencimentoOriginal:a,dataPagamento:a,dataMovimento:a,valor:this.campos.valor,descricao:(this.campos.descricao||"").substr(0,100),observacao:this.campos.descricao||"",receberPagar:0,valorOriginal:this.campos.valor,valorTotal:this.campos.valor,valorARealizar:this.campos.valor,valorRealizado:this.campos.valor,documentoTipo:"DespesaSimples",formaDePagamento:"Caixa",documentoId:this.idDocumentoCaixa,idDocumentoCaixa:this.idDocumentoCaixa,idDocumentoCaixaLiquidacao:this.idDocumentoCaixa,idFinanceiroMovimentacaoAgrupamento:i},c={id:hi(),idFinanceiroMovimentacaoN:i,idEmpresa:this.idEmpresa,idFinanceiroPlanoConta:s.id,dataEmissao:a,dataCompetencia:a,dataVencimento:a,dataMovimento:a,valorDebito:this.campos.valor,valorCredito:0,descricao:"Pagamento de despesa simples por ".concat(Zn.usuario.logado.apelido," no Caixa #").concat(this.idDocumentoCaixa),observacao:"Liquidação Despesa Simples - Título",documentoTipo:"DespesaSimples",automatico:0,liquidando:0,documentoId:this.idDocumentoCaixa,idDocumentoCaixa:this.idDocumentoCaixa},l={id:hi(),idFinanceiroMovimentacaoN:i,idEmpresa:this.idEmpresa,idFinanceiroPlanoConta:this.contaOrigem.id,dataEmissao:a,dataCompetencia:a,dataVencimento:a,dataMovimento:a,valorDebito:0,valorCredito:this.campos.valor,descricao:"Pagamento de despesa simples por ".concat(Zn.usuario.logado.apelido," no Caixa #").concat(this.idDocumentoCaixa),observacao:"Liquidação Despesa Simples - Título",documentoTipo:"DespesaSimples",automatico:0,liquidando:0,documentoId:this.idDocumentoCaixa,idDocumentoCaixa:this.idDocumentoCaixa},Zn.financeiroMovimentacaoN.grava({atual:{id:i}}),Zn.financeiroTitulo.grava({atual:n}),Zn.financeiroMovimentacao.grava({atual:c}),Zn.financeiroMovimentacao.grava({atual:l}),this.eventoInput(!1),this.$q.notifyPositive("Despesa lançada com sucesso"),this.imprimir("titulo-recibo",o),e.next=32;break;case 29:e.prev=29,e.t0=e["catch"](1),this.$q.notifyError("Erro no lancamento de Despesa",e.t0);case 32:return e.prev=32,this.$q.loading.hide(),e.finish(32);case 35:case"end":return e.stop()}},e,this,[[1,29,32,35]])}));return function(t){return e.apply(this,arguments)}}(),abrirModalFinanceiroContas:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.modalFinanceiroContas.filtros.despesa={idContatoEmpresa:this.idContatoEmpresa},this.modalFinanceiroContas.visivel=!0;case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),selecionarFinanceiroConta:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.descricao=(t.descricao||"").trim(),this.contaDestino=t;case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),abrirModalContato:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.modalContato=!0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),selecionarContato:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.contato.le({id:t});case 2:a=e.sent,a.nome=(a.nome||"").trim(),this.contato=a;case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},props:{idDocumentoCaixa:{required:!0,type:String},value:{required:!0,type:Boolean}},watch:{value:function(e){e&&this.atualizar()}}},Xm=Jm,Ym=Object(sc["a"])(Xm,Rm,jm,!1,null,null,null);Ym.options.__file="CaixaDespesaLancar.vue";var Wm=Ym.exports,Zm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.dados.fatura.id?a("q-card",{staticClass:"extratoItem bg-grey-2 q-mb-md q-pa-md no-shadow"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"q-px-sm"},[a("avatar",{staticStyle:{float:"left"},attrs:{imagem:(e.contatos[e.dados.fatura.idContato]||{}).imagem,rotulo:e.dados.fatura.descricaoContato,tamanho:"40"}}),a("q-toolbar-title",[a("div",[e._v("\n            "+e._s(e.dados.fatura.descricaoContato)+"\n          ")])]),a("q-chip",{staticClass:"q-ma-sm q-my-sm",attrs:{rounded:"",color:"grey",small:""}},[e._v("\n          "+e._s(e.dados.fatura.status)+"\n        ")]),a("q-list",{staticClass:"no-border"},[e._l(e.dados.vendas,function(t){return a("q-item",{key:t.id,staticClass:"q-pa-none",staticStyle:{"min-height":"auto"}},[a("q-item-side",[a("small",[e._v("#"+e._s(parseInt(t.numero)||(t.id||"").slice(-6)))])]),a("q-item-main",[a("small",[a("q-tooltip",[e._v("\n                  "+e._s(e._f("dataHora")(t.dataHoraFinalizado))+"\n                ")]),e._v("\n                "+e._s(e._f("data")(t.dataHoraFinalizado))+"\n              ")],1),a("small",[e._v(" - ")]),a("small",[a("q-tooltip",[e._v("\n                  Vendedor(a)\n                ")]),e._v("\n                "+e._s((e.contatos[t.idContatoVendedor]||{}).apelido)+"\n              ")],1),a("small",[a("badge",{staticClass:"q-mx-sm",attrs:{escuro:"",cor:"grey-5",denso:"",round:""}},[e._v(e._s(t.status))])],1)]),a("q-item-side",{attrs:{right:""}},[a("small",[e._v(e._s(e._f("numero")(t.totalDocumento,2)))])])],1)}),e._l(e.dados.carnes,function(t){return a("q-item",{key:t.id,staticClass:"q-pa-none",staticStyle:{"min-height":"auto"}},[a("q-item-side",[a("small",[e._v("#"+e._s((t.id||"").slice(-6)))])]),a("q-item-main",[a("small",[a("q-tooltip",[e._v("\n                  Vencimento\n                ")]),e._v("\n                "+e._s(e._f("data")(t.dataVencimento))+"\n              ")],1),a("small",[e._v(" - "+e._s(t.formaDePagamento))])]),a("q-item-side",{attrs:{right:""}},[a("small",[e._v(e._s(e._f("numero")(t.valorTotal,2)))])])],1)})],2)],1)]),a("div",{staticClass:"col-12 col-md-2"},[a("div",{staticClass:"q-px-sm"},[a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"},nativeOn:{click:function(t){return e.copiarUid(t)}}},[e._v("\n          #"+e._s(parseInt(e.dados.fatura.numero)||(e.dados.fatura.id||"").slice(-6))+"\n          "),a("input",{ref:"uid",attrs:{type:"hidden"},domProps:{value:e.dados.fatura.id}})])],1)]),a("div",{staticClass:"col-3 col-md-1"},[a("q-tooltip",[e._v("\n        Emissão\n      ")]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v(e._s(e._f("mesNome")(e.dados.fatura.dataHoraEmissao)))])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v(e._s(e._f("dia")(e.dados.fatura.dataHoraEmissao)))])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v(e._s(e._f("ano")(e.dados.fatura.dataHoraEmissao)))])])],1),a("div",{staticClass:"col-3 col-md-1"},[(e.dados.fatura||{}).dataHoraFinalizado?a("q-tooltip",[e._v("\n        Finalizado\n      ")]):e._e(),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v(e._s(e._f("mesNome")(e.dados.fatura.dataHoraFinalizado)))])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v(e._s(e._f("dia")(e.dados.fatura.dataHoraFinalizado)))])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v(e._s(e._f("ano")(e.dados.fatura.dataHoraFinalizado)))])])],1),a("div",{staticClass:"col-6 col-md-2"},[a("dl",{staticClass:"float-right full-width q-mb-sm"},[a("dt",{staticClass:"text-right q-headline text-positive text-weight-bold"},[e._v("\n          "+e._s(e._f("numero")(e.dados.fatura.totalDocumento,2))+"\n          "),a("p",{staticClass:"text-weight-normal text-tertiary q-body-1"},[e._v("\n            "+e._s(e._f("numero")(e.dados.fatura.subTotal,2))+"\n          ")])])]),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"more_vert",color:"grey",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{link:"",separator:""}},[e.$utils.mapearStatus(e.dados.fatura).permiteNota?[a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.emitirNFeV2({idFatura:e.dados.fatura.id},1,"Venda")}}},[a("q-item-side",{attrs:{icon:"account_balance"}}),a("q-item-main",{attrs:{label:"NFe de Saída/Venda"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.emitirNFeV2({idFatura:e.dados.fatura.id},0,"Devolução")}}},[a("q-item-side",{attrs:{icon:"account_balance"}}),a("q-item-main",{attrs:{label:"NFe de Entrada/Devolução"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.emitirNFeV2({idFatura:e.dados.fatura.id},1,"Remessa")}}},[a("q-item-side",{attrs:{icon:"account_balance"}}),a("q-item-main",{attrs:{label:"NFe de Remessa"}})],1)]:e._e(),e.mostrarOpcaoRemoverFatura?a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.removerFatura()}}},[a("q-item-side",{attrs:{icon:"mdi-trash-can"}}),a("q-item-main",{attrs:{label:"Remover Fatura"}})],1):e._e(),a("q-item",{nativeOn:{click:function(t){e.$refs.modalHistoricoStatus.exibirHistorico(e.dados.fatura.id)}}},[a("q-item-side",{attrs:{icon:"history"}}),a("q-item-main",{attrs:{label:"Histórico do Status"}})],1)],2)],1)],1),e.podeEditar?a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"edit",color:"primary",size:"md"},on:{click:e.editar}}):e._e(),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"print",color:"primary",size:"md"}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},[e.mostrarOpcaoEmitirBoleto?a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.abrirModalBoleto()}}},[a("q-item-side",{attrs:{icon:"mdi-printer"}}),a("q-item-main",{attrs:{label:"Emitir Boleto"}})],1):e._e(),e._l(e.configImpressaoFatura,function(t){return a("q-item",{key:t.valor,nativeOn:{click:function(a){e.imprimir(t.valor,(e.dados.fatura||{}).id||"0")}}},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:t.texto}})],1)}),"optisoul"===e.sistemaPai?e._l(e.configImpressaoEnvelope,function(t){return a("q-item",{key:t.valor,nativeOn:{click:function(a){e.imprimir(t.valor,(e.dados.fatura||{}).id||"0")}}},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:t.texto}})],1)}):e._e(),e._l(e.configImpressaoCarne,function(t){return a("q-item",{key:t.valor,nativeOn:{click:function(a){e.imprimir(t.valor,(e.dados.fatura||{}).id||"0")}}},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:t.texto}})],1)}),e._l(e.configImpressaoConvenio,function(t){return a("q-item",{key:t.valor,nativeOn:{click:function(a){e.imprimir(t.valor,(e.dados.fatura||{}).id||"0")}}},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:t.texto}})],1)})],2)],1)],1),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:e.detalhesVisivel?"keyboard_arrow_up":"keyboard_arrow_down",size:"md",color:"grey"},on:{click:e.alternarDetalhes}})],1)]),e.detalhesVisivel?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"q-px-sm"},[a("q-toolbar-title",{staticClass:"q-mx-none q-mt-sm q-px-none"},[a("q-icon",{attrs:{name:"business"}}),e._v("\n          "+e._s(e.dados.fatura.descricaoEmpresa)+"\n        ")],1),a("div",{staticClass:"round-borders q-mt-lg"},[a("documentos-fiscais",{attrs:{idFatura:e.dados.fatura.id}})],1)],1)]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"q-px-sm"},[a("q-toolbar-title",{staticClass:"q-mx-none q-mt-sm q-px-none"},[e._v("\n          Faturamento\n        ")]),a("p",{staticClass:"q-mt-sm"},[a("small",{staticStyle:{display:"block"}},[e._v("\n            "+e._s(e.dados.fatura.observacaoFaturamento)+"\n          ")])]),a("q-list",{staticClass:"no-border "},e._l(e.condicaoPagamentoResumo,function(t){return a("q-item",{key:t.id,staticClass:"q-pa-none row",staticStyle:{"min-height":"auto"}},[a("q-item-side",[a("small",[e._v(e._s(t.formaPagamento))])]),a("q-item-main",{staticClass:"text-right"},[a("small",[e._v(e._s(e._f("numero")(t.valor,2))+e._s(t.parcelas>1?" (em "+t.parcelas+"x)":""))])]),a("q-item-side",{attrs:{right:""}},[a("small",[e._v(e._s(e._f("data")(t.dataVencimento)))])])],1)}))],1)]),a("div",{staticClass:"col-12 col-md-2"},[a("div",{staticClass:"q-px-sm text-right"},[a("dl",{staticClass:"q-mt-none text-right"},[a("dd",[a("small",{staticClass:"q-mr-xs"},[e._v("Desconto")]),a("span",{staticClass:"q-subheading"},[a("strong",[e._v(e._s(e._f("numero")(e.dados.fatura.totalDesconto,2)))])])])])])])]):e._e(),a("fatura-modal",{attrs:{id:e.dados.fatura.id},on:{executar:e.executar},model:{value:e.faturaVisivel,callback:function(t){e.faturaVisivel=t},expression:"faturaVisivel"}}),e.modalBoleto.ativo?a("q-modal",{attrs:{minimized:""},on:{hide:e.fecharModalBoleto},model:{value:e.modalBoleto.visivel,callback:function(t){e.$set(e.modalBoleto,"visivel",t)},expression:"modalBoleto.visivel"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("\n          Emissão de Boleto\n        ")])],1),e.modalBoleto.condicoesPagamento.filter(function(e){return e.disable}).length?a("q-list",{staticClass:"q-mb-sm",attrs:{dense:"",highlight:""}},[a("q-list-header",[e._v("Recuperando informações do servidor\n          "),a("q-spinner-hourglass")],1),a("q-item-separator"),e._l(e.modalBoleto.condicoesPagamento.filter(function(e){return e.disable}),function(t,o){return a("q-item",{key:o,attrs:{tag:"label"}},[a("q-item-side",[t.disable?a("q-spinner-dots"):e._e()],1),a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v(e._s(t.descricao)+" - "+e._s(e._f("numero")(t.valor,2))+" - Venc.\n              "+e._s(e._f("data")(t.dataVencimento))+"\n            ")])],1)],1)})],2):e._e(),a("form",{staticClass:"q-pa-sm",on:{submit:function(t){t.preventDefault(),e.emitirImprimirBoleto()}}},[e.modalBoleto.condicoesPagamento.filter(function(e){return!e.disable&&e.codigoFinanceiroBoleto}).length?a("q-list",{staticClass:"q-mb-sm",attrs:{dense:"",highlight:""}},[a("q-list-header",[e._v("Boletos emitidos")]),a("q-item-separator"),e._l(e.modalBoleto.condicoesPagamento.filter(function(e){return!e.disable&&e.codigoFinanceiroBoleto}),function(t,o){return a("q-item",{key:o,attrs:{tag:"label"}},[a("q-item-side",[a("q-checkbox",{model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"cond.checked"}})],1),a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v("\n                "+e._s(t.descricao)+" - "+e._s(e._f("numero")(t.valor,2))+" - Venc. "+e._s(e._f("data")(t.dataVencimento))+"\n              ")]),a("q-item-tile",{attrs:{sublabel:""}},[e._v("\n                "+e._s(t.banco.descricao)+" - Ag. "+e._s(t.banco.agencia)+" C/C "+e._s(t.banco.conta)+" - Emitido em\n                "+e._s(e._f("dataHora")(t.banco.dataEmissao))+"\n              ")])],1)],1)})],2):e._e(),e.modalBoleto.condicoesPagamento.filter(function(e){return!e.disable&&!e.codigoFinanceiroBoleto}).length?a("q-list",{attrs:{dense:"",highlight:""}},[a("q-list-header",[e._v("Boletos a emitir")]),a("q-item-separator"),a("q-item",[a("q-item-main",[a("q-select",{attrs:{options:e.modalBoleto.bancos},model:{value:e.modalBoleto.codigoFinanceiroBanco,callback:function(t){e.$set(e.modalBoleto,"codigoFinanceiroBanco",t)},expression:"modalBoleto.codigoFinanceiroBanco"}})],1)],1),e._l(e.modalBoleto.condicoesPagamento.filter(function(e){return!e.disable&&!e.codigoFinanceiroBoleto}),function(t,o){return a("q-item",{key:o,attrs:{tag:"label"}},[a("q-item-side",[a("q-checkbox",{model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"cond.checked"}})],1),a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v(e._s(t.descricao)+" - "+e._s(e._f("numero")(t.valor,2))+" - Venc.\n                "+e._s(e._f("data")(t.dataVencimento))+"\n              ")])],1)],1)})],2):e._e(),a("div",{staticClass:"q-mt-lg text-center"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{color:"faded",flat:"",label:"Cancelar"}}),a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"primary",label:"Imprimir",type:"submit",disable:!e.ativarBotaoEmissaoBoleto}})],1)],1),a("q-inner-loading",{attrs:{visible:e.modalBoleto.loading}},[a("q-spinner",{attrs:{size:"50px",color:"primary"}})],1)],1)],1):e._e(),a("modal-historico-status",{ref:"modalHistoricoStatus"})],1):e._e()},Km=[];Zm._withStripped=!0;var ep=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[e.documentosSat.length||e.documentosFiscais.length||e.documentosNFe.length?a("p",{staticClass:"q-item-label ",staticStyle:{color:"#0c0c0c"}},[a("q-icon",{staticClass:"q-mr-md",staticStyle:{color:"#737373"},attrs:{name:"account_balance",size:"24px"}}),e._v(" Documentos fiscais\n  ")],1):e._e(),e.documentosSat.length?a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},e._l(e.documentosSat,function(t){return a("q-item",{key:t.id,staticClass:"row u-separador q-my-none q-pa-xs"},[a("div",{staticClass:"col-9 col-lg-10 q-pl-sm"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4 col-sm-1"},[e._v("SAT")]),a("div",{staticClass:"col-4 col-sm-1"},[e._v(e._s(t.numeroCupom))]),a("div",{staticClass:"col-4 col-sm-3"},[e._v(e._s(t.cancelamento?"Cancelado":"Emitido"))]),a("div",{staticClass:"col-6 col-sm-4"},[e._v(e._s(e._f("numero")(t.valorTotal,2)))]),a("div",{staticClass:"col-6 col-sm-3"},[e._v(e._s(e._f("dataHora")(t.dataHoraEmissao)))])])]),a("div",{staticClass:"col-3 col-lg-2 text-right"},[a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"print",round:""},on:{click:function(a){e.reimprimirSat(t.id)}}},[a("q-tooltip",[e._v("Reimprimir SAT")])],1),t.cancelamento?e._e():[a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"cancel",round:""},on:{click:function(a){e.cancelarSat(t.id)}}},[a("q-tooltip",[e._v("Cancelar SAT")])],1)]],2)])})):e._e(),e.documentosFiscais.length?a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},e._l(e.documentosFiscais,function(t){return a("q-item",{key:t.id,staticClass:"row q-px-xs"},[a("div",{staticClass:"col-10 q-pl-sm"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 col-sm-1"},[e._v(e._s(t.tipo))]),a("div",{staticClass:"col-3 col-sm-2"},[e._v(e._s(t.nNF))]),a("div",{staticClass:"col-6 col-sm-4"},[e._v(e._s(t.situacao)+"\n            "+e._s("2"===t.tpAmb?"em Homologação":"")+"\n            "+e._s(t.operacao?" - "+t.operacao:"")+"\n          ")]),a("div",{staticClass:"col-6 col-sm-2"},[e._v(e._s(e._f("numero")(t.vNF,2)))]),a("div",{staticClass:"col-6 col-sm-3"},[e._v(e._s(e._f("dataHora")(t.dataHoraEmissao)))])])]),a("div",{staticClass:"col-2 text-right"},["NFCe"===t.tipo?["Emitido"===t.situacao?[a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"print",round:""},on:{click:function(a){e.reimprimirNFCe(t.id)}}},[a("q-tooltip",[e._v("Reimprimir NFCe")])],1),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"cancel",round:""},on:{click:function(a){e.cancelarNFCe(t.id)}}},[a("q-tooltip",[e._v("Cancelar NFCe")])],1)]:e._e(),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"open_in_browser",round:""},on:{click:function(a){e.verNoSefaz(t.qrCode)}}},[a("q-tooltip",[e._v("Ver no Sefaz")])],1)]:"NFe"===t.tipo?["Em digitação"!==t.situacao?[a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"print",color:"primary",size:"md"}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},e._l(e.configImpressaoNFe,function(o){return a("q-item",{key:o.valor,nativeOn:{click:function(a){e.imprimir(o.valor,t.id)}}},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:o.texto}})],1)}))],1)],1)]:e._e(),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:function(a){e.abrirNFe(t.id)}}},[a("q-tooltip",[e._v("Abrir")])],1)]:e._e()],2)])})):e._e(),e.documentosNFe.length?a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},e._l(e.documentosNFe,function(t,o){return a("q-item",{key:o,staticClass:"row u-separador q-my-none q-pa-xs"},[a("div",{staticClass:"col-9 col-lg-10 q-pl-sm"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4 col-sm-1"},[e._v("NFe")]),a("div",{staticClass:"col-4 col-sm-1"},[e._v(e._s(t.noNota))]),a("div",{staticClass:"col-4 col-sm-3"},[e._v(e._s(t.nfeCanceladaEvento?"Cancelado":"Emitido"))]),a("div",{staticClass:"col-6 col-sm-4"},[e._v(e._s(e._f("numero")(t.valTotNota,2)))]),a("div",{staticClass:"col-6 col-sm-3"},[e._v(e._s(e._f("dataHora")(t.horaSaidaEntrada)))])])])])})):e._e(),a("CpfCnpjNoCupom",{attrs:{dados:e.cpfCnpjNoCupom},on:{confirmar:e.emitirCupomConfirma},model:{value:e.cpfCnpjNoCupom.visivel,callback:function(t){e.$set(e.cpfCnpjNoCupom,"visivel",t)},expression:"cpfCnpjNoCupom.visivel"}}),a("ItemTrocarCest",{attrs:{modal:e.modalItemTrocarCest},on:{confirmar:function(t){e.emitirCupomConfirma(e.cpfCnpjNoCupom)}}})],1)},tp=[];ep._withStripped=!0;var ap=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{value:e.value},on:{input:e.eventoInput}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("CPF/CNPJ no Cupom")])],1),a("form",{on:{submit:function(t){return t.preventDefault(),e.eventoConfirmar(t)}}},[a("div",{staticClass:"layout-padding"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"Incluir CPF/CNPJ no cupom",tipo:"logico"},model:{value:e.dados.incluirCpfCnpjNoCupom,callback:function(t){e.$set(e.dados,"incluirCpfCnpjNoCupom",t)},expression:"dados.incluirCpfCnpjNoCupom"}})],1),e.dados.incluirCpfCnpjNoCupom?[a("div",{staticClass:"row gutter-x-sm"},[a("q-field",{staticClass:"col-12",attrs:{error:e.cpfCnpjErro,"error-label":"CPF/CNPJ inválido"}},[a("q-input",{directives:[{name:"mask",rawName:"v-mask",value:["###.###.###-##","##.###.###/####-##"],expression:"['###.###.###-##', '##.###.###/####-##']"}],attrs:{"float-label":"CPF / CNPJ"},on:{input:function(t){e.cpfCnpjErro=!1}},model:{value:e.dados.cpfCnpj,callback:function(t){e.$set(e.dados,"cpfCnpj",t)},expression:"dados.cpfCnpj"}})],1)],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"Nome"},model:{value:e.dados.nomeCliente,callback:function(t){e.$set(e.dados,"nomeCliente",t)},expression:"dados.nomeCliente"}})],1)]:e._e()],2),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(t){e.eventoInput(!1)}}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Emitir "+e.dados.tipoCaixa}})],1)])],1)],1)],1)],1)},op=[];ap._withStripped=!0;var ip={components:{Campo:Sl},data:function(){return{cpfCnpjErro:!1}},methods:{eventoConfirmar:function(){if(ei.log("CpfCnpjNoCupom","eventoConfirmar",this.dados),this.dados.incluirCpfCnpjNoCupom){if(this.dados.cpfCnpj&&!mi(this.dados.cpfCnpj))return void(this.cpfCnpjErro=!0)}else this.dados.cpfCnpj="",this.dados.nomeCliente="";this.eventoInput(!1),this.$emit("confirmar",this.dados)},eventoInput:function(e){this.$emit("input",e)}},watch:{value:function(){this.value&&(this.cpfCnpjErro=!1)}},props:{value:{required:!0,type:Boolean},dados:{required:!0,type:Object}}},rp=ip,sp=Object(sc["a"])(rp,ap,op,!1,null,null,null);sp.options.__file="CpfCnpjNoCupom.vue";var np=sp.exports,cp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{maximized:""},model:{value:e.modal.visivel,callback:function(t){e.$set(e.modal,"visivel",t)},expression:"modal.visivel"}},[a("q-modal-layout",{staticClass:"bg-light"},[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"}}),a("q-toolbar-title",[e._v("Selecionar CEST para os itens")]),a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"white","text-color":"primary",label:"Salvar"},on:{click:function(t){e.tryLoading(e.confirmar,{erro:"Ocorreu erro ao salvar equipamento"})}}})],1),a("div",{staticClass:"bg-white q-mx-md q-pa-md"},e._l(e.itens,function(t){return a("div",{key:t.id,staticClass:"gutter-x-sm items-baseline row"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{value:t.descricao,rotulo:"Descrição","apenas-leitura":""}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{value:t.ncm,rotulo:"NCM","apenas-leitura":""}}),a("SeletorCest",{staticClass:"col-12 col-md-3",attrs:{ncm:t.ncm},model:{value:t.cest,callback:function(a){e.$set(t,"cest",a)},expression:"item.cest"}})],1)}))],1)],1)},lp=[];cp._withStripped=!0;var dp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("campo",{attrs:{value:e.value,ajuda:e.descricaoCest,dica:e.metadados.infNFe.det.lista.prod.opcional.CEST._doc,filter:"",maxlength:"9",opcoes:e.opcoesCest,rotulo:e.metadados.infNFe.det.lista.prod.opcional.CEST._titulo,tipo:"seletor"},on:{input:e.eventoInput},nativeOn:{click:function(t){return e.eventoClick(t)}}})],1)},up=[];dp._withStripped=!0;var mp=[{cest:"01.001.00",ncmsh:"38151210;38151290",descricao:"Catalisadores em colmeia cerâmica ou metálica para conversão catalítica de gases de escape de veículos e outros catalisadores"},{cest:"01.002.00",ncmsh:"3917",descricao:"Tubos e seus acessórios (por exemplo, juntas, cotovelos, flanges, uniões), de plásticos"},{cest:"01.003.00",ncmsh:"39181000",descricao:"Protetores de caçamba"},{cest:"01.004.00",ncmsh:"39233000",descricao:"Reservatórios de óleo"},{cest:"01.005.00",ncmsh:"39263000",descricao:"Frisos, decalques, molduras e acabamentos"},{cest:"01.006.00",ncmsh:"40103;59100000",descricao:"Correias de transmissão de borracha vulcanizada, de matérias têxteis, mesmo impregnadas, revestidas ou recobertas, de plástico, ou estratificadas com plástico ou reforçadas com metal ou com outras matérias"},{cest:"01.007.00",ncmsh:"40169300;4823909",descricao:"Juntas, gaxetas e outros elementos com função semelhante de vedação"},{cest:"01.008.00",ncmsh:"40161010",descricao:"Partes de veículos automóveis, tratores e máquinas autopropulsadas"},{cest:"01.009.00",ncmsh:"40169990;57050000",descricao:"Tapetes, revestimentos, mesmo confeccionados, batentes, buchas e coxins"},{cest:"01.010.00",ncmsh:"59039000",descricao:"Tecidos impregnados, revestidos, recobertos ou estratificados, com plástico"},{cest:"01.011.00",ncmsh:"59090000",descricao:"Mangueiras e tubos semelhantes, de matérias têxteis, mesmo com reforço ou acessórios de outras matérias"},{cest:"01.012.00",ncmsh:"63061",descricao:"Encerados e toldos"},{cest:"01.013.00",ncmsh:"65061000",descricao:"Capacetes e artefatos de uso semelhante, de proteção, para uso em motocicletas, incluídos ciclomotores"},{cest:"01.014.00",ncmsh:"6813",descricao:"Guarnições de fricção (por exemplo, placas, rolos, tiras, segmentos, discos, anéis, pastilhas), não montadas, para freios, embreagens ou qualquer outro mecanismo de fricção, à base de amianto, de outras substâncias minerais ou de celulose, mesmo combinadas com têxteis ou outras matérias"},{cest:"01.015.00",ncmsh:"70071100;70072100",descricao:"Vidros de dimensões e formatos que permitam aplicação automotiva"},{cest:"01.016.00",ncmsh:"70091000",descricao:"Espelhos retrovisores"},{cest:"01.017.00",ncmsh:"70140000",descricao:"Lentes de faróis, lanternas e outros utensílios"},{cest:"01.018.00",ncmsh:"73110000",descricao:"Cilindro de aço para GNV (gás natural veicular)"},{cest:"01.019.00",ncmsh:"73110000",descricao:"Recipientes para gases comprimidos ou liquefeitos, de ferro fundido, ferro ou aço, exceto o descrito no item 18.0"},{cest:"01.020.00",ncmsh:"7320",descricao:"Molas e folhas de molas, de ferro ou aço"},{cest:"01.021.00",ncmsh:"7325",descricao:"Obras moldadas, de ferro fundido, ferro ou aço, exceto as do código 7325.91.00"},{cest:"01.022.00",ncmsh:"780600",descricao:"Peso de chumbo para balanceamento de roda"},{cest:"01.023.00",ncmsh:"80070090",descricao:"Peso para balanceamento de roda e outros utensílios de estanho"},{cest:"01.024.00",ncmsh:"830120;830160",descricao:"Fechaduras e partes de fechaduras"},{cest:"01.025.00",ncmsh:"830170",descricao:"Chaves apresentadas isoladamente"},{cest:"01.026.00",ncmsh:"83021000;83023000",descricao:"Dobradiças, guarnições, ferragens e artigos semelhantes de metais comuns"},{cest:"01.027.00",ncmsh:"831000",descricao:"Triângulo de segurança"},{cest:"01.028.00",ncmsh:"84073",descricao:"Motores de pistão alternativo dos tipos utilizados para propulsão de veículos do Capítulo 87"},{cest:"01.029.00",ncmsh:"840820",descricao:"Motores dos tipos utilizados para propulsão de veículos automotores"},{cest:"01.030.00",ncmsh:"84099",descricao:"Partes reconhecíveis como exclusiva ou principalmente destinadas aos motores das posições 8407 ou 8408"},{cest:"01.031.00",ncmsh:"84122",descricao:"Motores hidráulicos"},{cest:"01.032.00",ncmsh:"841330",descricao:"Bombas para combustíveis, lubrificantes ou líquidos de arrefecimento, próprias para motores de ignição por centelha ou por compressão"},{cest:"01.033.00",ncmsh:"84141000",descricao:"Bombas de vácuo"},{cest:"01.034.00",ncmsh:"8414801;8414802",descricao:"Compressores e turbocompressores de ar"},{cest:"01.035.00",ncmsh:"84139190;84149010;8414903;84149039",descricao:"Partes das bombas, compressores e turbocompressores dos CEST 01.032.00, 01.033.00 e 01.034.00"},{cest:"01.036.00",ncmsh:"841520",descricao:"Máquinas e aparelhos de ar condicionado"},{cest:"01.037.00",ncmsh:"84212300",descricao:"Aparelhos para filtrar óleos minerais nos motores de ignição por centelha ou por compressão"},{cest:"01.038.00",ncmsh:"84212990",descricao:"Filtros a vácuo"},{cest:"01.039.00",ncmsh:"84219",descricao:"Partes dos aparelhos para filtrar ou depurar líquidos ou gases"},{cest:"01.040.00",ncmsh:"84241000",descricao:"Extintores, mesmo carregados"},{cest:"01.041.00",ncmsh:"84213100",descricao:"Filtros de entrada de ar para motores de ignição por centelha ou por compressão"},{cest:"01.042.00",ncmsh:"84213920",descricao:"Depuradores por conversão catalítica de gases de escape"},{cest:"01.043.00",ncmsh:"84254200",descricao:"Macacos"},{cest:"01.044.00",ncmsh:"84311010",descricao:"Partes para macacos do CEST 01.043.00"},{cest:"01.045.00",ncmsh:"8431492",descricao:"Partes reconhecíveis como exclusiva ou principalmente destinadas às máquinas agrícolas ou rodoviárias"},{cest:"01.045.01",ncmsh:"84339090",descricao:"Partes reconhecíveis como exclusiva ou principalmente destinadas às máquinas agrícolas ou rodoviárias"},{cest:"01.046.00",ncmsh:"84811000",descricao:"Válvulas redutoras de pressão"},{cest:"01.047.00",ncmsh:"84812",descricao:"Válvulas para transmissão óleo-hidráulicas ou pneumáticas"},{cest:"01.048.00",ncmsh:"84818092",descricao:"Válvulas solenoides"},{cest:"01.049.00",ncmsh:"8482",descricao:"Rolamentos"},{cest:"01.050.00",ncmsh:"8483",descricao:"Árvores de transmissão (incluídas as árvores de “cames” e virabrequins) e manivelas; mancais e “bronzes”; engrenagens e rodas de fricção; eixos de esferas ou de roletes; redutores, multiplicadores, caixas de transmissão e variadores de velocidade, incluídos os conversores de torque; volantes e polias, incluídas as polias para cadernais; embreagens e dispositivos de acoplamento, incluídas as juntas de articulação"},{cest:"01.051.00",ncmsh:"8484",descricao:"Juntas metaloplásticas; jogos ou sortidos de juntas de composições diferentes, apresentados em bolsas, envelopes ou embalagens semelhantes; juntas de vedação mecânicas (selos mecânicos)"},{cest:"01.052.00",ncmsh:"850520",descricao:"Acoplamentos, embreagens, variadores de velocidade e freios, eletromagnéticos"},{cest:"01.053.00",ncmsh:"850710",descricao:"Acumuladores elétricos de chumbo, do tipo utilizado para o arranque dos motores de pistão, exceto os classificados no CEST 01.053.01"},{cest:"01.053.01",ncmsh:"85071010",descricao:"Acumuladores elétricos de chumbo, do tipo utilizado para o arranque dos motores de pistão e de capacidade inferior ou igual a 20 Ah e tensão inferior ou igual a 12 V"},{cest:"01.054.00",ncmsh:"8511",descricao:"Aparelhos e dispositivos elétricos de ignição ou de arranque para motores de ignição por centelha ou por compressão (por exemplo, magnetos, dínamos-magnetos, bobinas de ignição, velas de ignição ou de aquecimento, motores de arranque); geradores (dínamos e alternadores, por exemplo) e conjuntores-disjuntores utilizados com estes motores"},{cest:"01.055.00",ncmsh:"851220;851240;85129000",descricao:"Aparelhos elétricos de iluminação ou de sinalização (exceto os da posição 8539), limpadores de para-brisas, degeladores e desembaçadores (desembaciadores) elétricos e suas partes"},{cest:"01.056.00",ncmsh:"85171213",descricao:"Telefones móveis do tipo dos utilizados em veículos automóveis."},{cest:"01.057.00",ncmsh:"8518",descricao:"Alto-falantes, amplificadores elétricos de audiofrequência e partes"},{cest:"01.058.00",ncmsh:"85185000",descricao:"Aparelhos elétricos de amplificação de som para veículos automotores"},{cest:"01.059.00",ncmsh:"851981",descricao:"Aparelhos de reprodução de som"},{cest:"01.060.00",ncmsh:"8525501;85256010",descricao:"Aparelhos transmissores (emissores) de radiotelefonia ou radiotelegrafia (rádio receptor/transmissor)"},{cest:"01.061.00",ncmsh:"85272100",descricao:"Aparelhos receptores de radiodifusão que só funcionem com fonte externa de energia combinados com um aparelho de gravação ou de reprodução de som, do tipo utilizado em veículos automóveis"},{cest:"01.062.00",ncmsh:"85272900",descricao:"Outros aparelhos receptores de radiodifusão que só funcionem com fonte externa de energia, do tipo utilizado em veículos automóveis"},{cest:"01.062.01",ncmsh:"85219090",descricao:"Outros aparelhos videofônicos de gravação ou de reprodução, mesmo incorporando um receptor de sinais videofônicos, dos tipos utilizados exclusivamente em veículos automotores"},{cest:"01.063.00",ncmsh:"85291090",descricao:"Antenas"},{cest:"01.064.00",ncmsh:"853400",descricao:"Circuitos impressos"},{cest:"01.065.00",ncmsh:"853530;853650",descricao:"Interruptores e seccionadores e comutadores"},{cest:"01.066.00",ncmsh:"85361000",descricao:"Fusíveis e corta-circuitos de fusíveis"},{cest:"01.067.00",ncmsh:"85362000",descricao:"Disjuntores"},{cest:"01.068.00",ncmsh:"85364",descricao:"Relés"},{cest:"01.069.00",ncmsh:"8538",descricao:"Partes reconhecíveis como exclusivas ou principalmente destinados aos aparelhos dos CEST 01.065.00, 01.066.00, 01.067.00 e 01.068.00"},{cest:"01.070.00",ncmsh:"853910",descricao:"Faróis e projetores, em unidades seladas"},{cest:"01.071.00",ncmsh:"85392",descricao:"Lâmpadas e tubos de incandescência, exceto de raios ultravioleta ou infravermelhos"},{cest:"01.072.00",ncmsh:"85442000",descricao:"Cabos coaxiais e outros condutores elétricos coaxiais"},{cest:"01.073.00",ncmsh:"85443000",descricao:"Jogos de fios para velas de ignição e outros jogos de fios"},{cest:"01.074.00",ncmsh:"8707",descricao:"Carroçarias para os veículos automóveis das posições 8701 a 8705, incluídas as cabinas"},{cest:"01.075.00",ncmsh:"8708",descricao:"Partes e acessórios dos veículos automóveis das posições 8701 a 8705"},{cest:"01.076.00",ncmsh:"87141",descricao:"Parte e acessórios de motocicletas (incluídos os ciclomotores)"},{cest:"01.077.00",ncmsh:"87169090",descricao:"Engates para reboques e semirreboques"},{cest:"01.078.00",ncmsh:"902610",descricao:"Medidores de nível; Medidores de vazão"},{cest:"01.079.00",ncmsh:"902620",descricao:"Aparelhos para medida ou controle da pressão"},{cest:"01.080.00",ncmsh:"9029",descricao:"Contadores, indicadores de velocidade e tacômetros, suas partes e acessórios"},{cest:"01.081.00",ncmsh:"90303321",descricao:"Amperímetros"},{cest:"01.082.00",ncmsh:"90318040",descricao:"Aparelhos digitais, de uso em veículos automóveis, para medida e indicação de múltiplas grandezas tais como: velocidade média, consumos instantâneo e médio e autonomia (computador de bordo)"},{cest:"01.083.00",ncmsh:"9032892",descricao:"Controladores eletrônicos"},{cest:"01.084.00",ncmsh:"91040000",descricao:"Relógios para painéis de instrumentos e relógios semelhantes"},{cest:"01.085.00",ncmsh:"94012000;94019090",descricao:"Assentos e partes de assentos"},{cest:"01.086.00",ncmsh:"96138000",descricao:"Acendedores"},{cest:"01.087.00",ncmsh:"4009",descricao:"Tubos de borracha vulcanizada não endurecida, mesmo providos de seus acessórios"},{cest:"01.088.00",ncmsh:"45049000;68129910",descricao:"Juntas de vedação de cortiça natural e de amianto"},{cest:"01.089.00",ncmsh:"48234000",descricao:"Papel-diagrama para tacógrafo, em disco"},{cest:"01.090.00",ncmsh:"39191000;39199000;87082999",descricao:"Fitas, tiras, adesivos, autocolantes, de plástico, refletores, mesmo em rolos; placas metálicas com película de plástico refletora, próprias para colocação em carrocerias, para-choques de veículos de carga, motocicletas, ciclomotores, capacetes, bonés de agentes de trânsito e de condutores de veículos, atuando como dispositivos refletivos de segurança rodoviários"},{cest:"01.091.00",ncmsh:"84123110",descricao:"Cilindros pneumáticos"},{cest:"01.092.00",ncmsh:"84131900;84135090;84138100",descricao:"Bomba elétrica de lavador de para-brisa"},{cest:"01.093.00",ncmsh:"84136019;84137010",descricao:"Bomba de assistência de direção hidráulica"},{cest:"01.094.00",ncmsh:"84145910;84145990",descricao:"Motoventiladores"},{cest:"01.095.00",ncmsh:"84213990",descricao:"Filtros de pólen do ar-condicionado"},{cest:"01.096.00",ncmsh:"85011019",descricao:"“Máquina” de vidro elétrico de porta"},{cest:"01.097.00",ncmsh:"85013110",descricao:"Motor de limpador de para-brisa"},{cest:"01.098.00",ncmsh:"85045000",descricao:"Bobinas de reatância e de autoindução"},{cest:"01.099.00",ncmsh:"850720;850730",descricao:"Baterias de chumbo e de níquel-cádmio"},{cest:"01.100.00",ncmsh:"85123000",descricao:"Aparelhos de sinalização acústica (buzina)"},{cest:"01.101.00",ncmsh:"9032898;9032899",descricao:"Instrumentos para regulação de grandezas não elétricas"},{cest:"01.102.00",ncmsh:"90271000",descricao:"Analisadores de gases ou de fumaça (sonda lambda)"},{cest:"01.103.00",ncmsh:"40081100",descricao:"Perfilados de borracha vulcanizada não endurecida"},{cest:"01.104.00",ncmsh:"56012219",descricao:"Artefatos de pasta de fibra de uso automotivo"},{cest:"01.105.00",ncmsh:"57032000",descricao:"Tapetes/carpetes - nailón"},{cest:"01.106.00",ncmsh:"57033000",descricao:"Tapetes de matérias têxteis sintéticas"},{cest:"01.107.00",ncmsh:"59119000",descricao:"Forração interior capacete"},{cest:"01.108.00",ncmsh:"69039099",descricao:"Outros para-brisas"},{cest:"01.109.00",ncmsh:"70072900",descricao:"Moldura com espelho"},{cest:"01.110.00",ncmsh:"73145000",descricao:"REVOGADO"},{cest:"01.111.00",ncmsh:"73151100",descricao:"Corrente transmissão"},{cest:"01.112.00",ncmsh:"73151210",descricao:"Outras correntes de transmissão"},{cest:"01.113.00",ncmsh:"84189900",descricao:"Condensador tubular metálico"},{cest:"01.114.00",ncmsh:"841950",descricao:"Trocadores de calor"},{cest:"01.115.00",ncmsh:"84249090",descricao:"Partes de aparelhos mecânicos de pulverizar ou dispersar"},{cest:"01.116.00",ncmsh:"84254910",descricao:"Macacos manuais para veículos"},{cest:"01.117.00",ncmsh:"84314100",descricao:"Caçambas, pás, ganchos e tenazes para máquinas rodoviárias"},{cest:"01.118.00",ncmsh:"85016100",descricao:"Geradores de corrente alternada de potência não superior a 75 kva"},{cest:"01.119.00",ncmsh:"85311090",descricao:"Aparelhos elétricos para alarme de uso automotivo"},{cest:"01.120.00",ncmsh:"90141000",descricao:"Bússolas"},{cest:"01.121.00",ncmsh:"90251990",descricao:"Indicadores de temperatura"},{cest:"01.122.00",ncmsh:"90259010",descricao:"Partes de indicadores de temperatura"},{cest:"01.123.00",ncmsh:"902690",descricao:"Partes de aparelhos de medida ou controle"},{cest:"01.124.00",ncmsh:"90321010",descricao:"Termostatos"},{cest:"01.125.00",ncmsh:"90321090",descricao:"Instrumentos e aparelhos para regulação"},{cest:"01.126.00",ncmsh:"90322000",descricao:"Pressostatos"},{cest:"01.127.00",ncmsh:"871690",descricao:"Peças para reboques e semirreboques, exceto os itens classificados no CEST 01.077.00"},{cest:"01.128.00",ncmsh:"73229010",descricao:"Geradores de ar quente a combustível líquido, com capacidade superior ou igual a 1.500 kcal/h, mas inferior ou igual a 10.400 kcal/h, do tipo dos utilizados em veículos automóveis"},{cest:"01.999.00",ncmsh:"",descricao:"Outras peças, partes e acessórios para veículos automotores não relacionados nos demais itens deste anexo"},{cest:"02.001.00",ncmsh:"2205;22089000",descricao:"Aperitivos, amargos, bitter e similares"},{cest:"02.002.00",ncmsh:"22089000",descricao:"Batida e similares"},{cest:"02.003.00",ncmsh:"22089000",descricao:"Bebida ice"},{cest:"02.004.00",ncmsh:"220720;22084000",descricao:"Cachaça e aguardentes"},{cest:"02.005.00",ncmsh:"2205;22060090;22089000",descricao:"Catuaba e similares"},{cest:"02.006.00",ncmsh:"22082000",descricao:"Conhaque, brandy e similares"},{cest:"02.007.00",ncmsh:"22060090;22089000",descricao:"Cooler"},{cest:"02.008.00",ncmsh:"22085000",descricao:"Gim (gin) e genebra"},{cest:"02.009.00",ncmsh:"2205;22060090;22089000",descricao:"Jurubeba e similares"},{cest:"02.010.00",ncmsh:"22087000",descricao:"Licores e similares"},{cest:"02.011.00",ncmsh:"22082000",descricao:"Pisco"},{cest:"02.012.00",ncmsh:"22084000",descricao:"Rum"},{cest:"02.013.00",ncmsh:"22060090",descricao:"Saquê"},{cest:"02.014.00",ncmsh:"22089000",descricao:"Steinhaeger"},{cest:"02.015.00",ncmsh:"22089000",descricao:"Tequila"},{cest:"02.016.00",ncmsh:"220830",descricao:"Uísque"},{cest:"02.017.00",ncmsh:"2205",descricao:"Vermute e similares"},{cest:"02.018.00",ncmsh:"22086000",descricao:"Vodka"},{cest:"02.019.00",ncmsh:"22089000",descricao:"Derivados de vodka"},{cest:"02.020.00",ncmsh:"22089000",descricao:"Arak"},{cest:"02.021.00",ncmsh:"22082000",descricao:"Aguardente vínica / grappa"},{cest:"02.022.00",ncmsh:"22060010",descricao:"Sidra e similares"},{cest:"02.023.00",ncmsh:"2205;22060090;22089000",descricao:"Sangrias e coquetéis"},{cest:"02.024.00",ncmsh:"2204",descricao:"Vinhos de uvas frescas, incluindo os vinhos enriquecidos com álcool; mostos de uvas."},{cest:"02.999.00",ncmsh:"2205;2206;2207;2208",descricao:"Outras bebidas alcoólicas não especificadas nos itens anteriores"},{cest:"03.001.00",ncmsh:"22011000",descricao:"Água mineral, gasosa ou não, ou potável, naturais, em garrafa de vidro, retornável ou não, com capacidade de até 500 ml"},{cest:"03.002.00",ncmsh:"22011000",descricao:"Água mineral, gasosa ou não, ou potável, naturais, em embalagem com capacidade igual ou superior a 5.000 ml; exceto as classificadas no CEST 03.024.00 e 03.025.00"},{cest:"03.003.00",ncmsh:"22011000",descricao:"Água mineral, gasosa ou não, ou potável, naturais, em embalagem de vidro, não retornável, com capacidade de até 300 ml"},{cest:"03.004.00",ncmsh:"22011000",descricao:"Água mineral, gasosa ou não, ou potável, naturais, em garrafa plástica de 1.500 ml"},{cest:"03.005.00",ncmsh:"22011000",descricao:"Água mineral, gasosa ou não, ou potável, naturais, em copos plásticos e embalagem plástica com capacidade de até 500 ml"},{cest:"03.006.00",ncmsh:"22011000",descricao:"Outras águas minerais, potáveis ou naturais, gasosas ou não, inclusive gaseificadas; exceto as classificadas no CEST 03.024.00 e 03.025.00"},{cest:"03.007.00",ncmsh:"22021000",descricao:"Águas minerais, potáveis ou naturais, gasosas ou não, inclusive gaseificadas ou aromatizadas artificialmente, exceto os refrescos e refrigerantes"},{cest:"03.008.00",ncmsh:"22029900",descricao:"Outras águas minerais, potáveis ou naturais, gasosas ou não, inclusive gaseificadas ou aromatizadas artificialmente"},{cest:"03.010.00",ncmsh:"2202",descricao:"Refrigerantes em garrafa com capacidade igual ou superior a 600 ml, exceto os classificados no CEST 03.011.01"},{cest:"03.011.00",ncmsh:"2202",descricao:"Demais refrigerantes, exceto os classificados no CEST 03.010.00 e 03.011.01"},{cest:"03.011.01",ncmsh:"2202",descricao:"Espumantes sem álcool"},{cest:"03.012.00",ncmsh:"21069010",descricao:"Xarope ou extrato concentrado destinados ao preparo de refrigerante em máquina “pré-mix” ou “post-mix”"},{cest:"03.013.00",ncmsh:"210690;22029900",descricao:"Bebidas energéticas em embalagem com capacidade inferior a 600ml"},{cest:"03.014.00",ncmsh:"210690;22029900",descricao:"Bebidas energéticas em embalagem com capacidade igual ou superior a 600ml"},{cest:"03.015.00",ncmsh:"210690;22029900",descricao:"Bebidas hidroeletrolíticas (isotônicas) em embalagem com capacidade inferior a 600ml"},{cest:"03.016.00",ncmsh:"210690;22029900",descricao:"Bebidas hidroeletrolíticas (isotônicas) em embalagem com capacidade igual ou superior a 600ml"},{cest:"03.021.00",ncmsh:"22030000",descricao:"Cerveja"},{cest:"03.022.00",ncmsh:"22029100",descricao:"Cerveja sem álcool"},{cest:"03.023.00",ncmsh:"22030000",descricao:"Chope"},{cest:"03.024.00",ncmsh:"22011000",descricao:"Água mineral em embalagens retornáveis com capacidade igual ou superior a 10 (dez) e inferior a 20 (vinte) litros"},{cest:"03.025.00",ncmsh:"22011000",descricao:"Água mineral em embalagens retornáveis com capacidade igual ou superior a 20 (vinte) litros"},{cest:"04.001.00",ncmsh:"2402",descricao:"Charutos, cigarrilhas e cigarros, de tabaco ou dos seus sucedâneos"},{cest:"04.002.00",ncmsh:"24031",descricao:"Tabaco para fumar, mesmo contendo sucedâneos de tabaco em qualquer proporção"},{cest:"05.001.00",ncmsh:"2523",descricao:"Cimento"},{cest:"06.001.00",ncmsh:"22071010",descricao:"Álcool etílico não desnaturado, com um teor alcoólico em volume igual ou superior a 80% vol - Com um teor de água igual ou inferior a 1 % vol (álcool etílico anidro combustível)"},{cest:"06.001.01",ncmsh:"22071090",descricao:"Álcool etílico não desnaturado, com um teor alcoólico em volume igual ou superior a 80% vol - Outros (álcool etílico hidratado combustível)"},{cest:"06.002.00",ncmsh:"27101259",descricao:"Gasolina automotiva A, exceto Premium"},{cest:"06.002.01",ncmsh:"27101259",descricao:"Gasolina automotiva C, exceto Premium"},{cest:"06.002.02",ncmsh:"27101259",descricao:"Gasolina automotiva A Premium"},{cest:"06.002.03",ncmsh:"27101259",descricao:"Gasolina automotiva C Premium"},{cest:"06.003.00",ncmsh:"27101251",descricao:"Gasolina de aviação"},{cest:"06.004.00",ncmsh:"27101919",descricao:"Querosenes, exceto de aviação"},{cest:"06.005.00",ncmsh:"27101911",descricao:"Querosene de aviação"},{cest:"06.006.00",ncmsh:"2710192",descricao:"Óleo diesel A, exceto S10 e Marítimo"},{cest:"06.006.01",ncmsh:"2710192",descricao:"Óleo diesel B, exceto S10 (mistura obrigatória)"},{cest:"06.006.02",ncmsh:"2710192",descricao:"Óleo diesel B, exceto S10 (misturas autorizativas)"},{cest:"06.006.03",ncmsh:"2710192",descricao:"Óleo diesel B, exceto S10 (misturas experimentais)"},{cest:"06.006.04",ncmsh:"2710192",descricao:"Óleo diesel A S10"},{cest:"06.006.05",ncmsh:"2710192",descricao:"Óleo diesel B S10 (mistura obrigatória)"},{cest:"06.006.06",ncmsh:"2710192",descricao:"Óleo diesel B S10 (misturas autorizativas)"},{cest:"06.006.07",ncmsh:"2710192",descricao:"Óleo diesel B S10 (misturas experimentais)"},{cest:"06.006.08",ncmsh:"2710192",descricao:"Óleo Diesel Marítimo"},{cest:"06.006.09",ncmsh:"2710192",descricao:"Outros óleos combustíveis, exceto os classificados no CEST 06.006.10 e 06.006.11"},{cest:"06.006.10",ncmsh:"2710192",descricao:"Óleo combustível derivado de xisto"},{cest:"06.006.11",ncmsh:"27101922",descricao:"Óleo combustível pesado"},{cest:"06.007.00",ncmsh:"2710193",descricao:"Óleos lubrificantes"},{cest:"06.008.00",ncmsh:"2710199",descricao:"Outros óleos de petróleo ou de minerais betuminosos (exceto óleos brutos) e preparações não especificadas nem compreendidas noutras posições, que contenham, como constituintes básicos, 70% ou mais, em peso, de óleos de petróleo ou de minerais betuminosos, exceto os que contenham biodiesel, exceto os resíduos de óleos e exceto as graxas lubrificantes"},{cest:"06.008.01",ncmsh:"2710199",descricao:"Graxa lubrificante"},{cest:"06.009.00",ncmsh:"27109",descricao:"Resíduos de óleos"},{cest:"06.010.00",ncmsh:"2711",descricao:"Gás de petróleo e outros hidrocarbonetos gasosos, exceto GLP, GLGN, Gás Natural e Gás de xisto."},{cest:"06.011.00",ncmsh:"27111910",descricao:"Gás liquefeito de petróleo em botijão de 13 Kg (GLP)"},{cest:"06.011.01",ncmsh:"27111910",descricao:"Gás liquefeito de petróleo (GLP), exceto em botijão de 13 Kg"},{cest:"06.011.02",ncmsh:"27111910",descricao:"Gás liquefeito de petróleo em botijão de 13 Kg (GLGNn)"},{cest:"06.011.03",ncmsh:"27111910",descricao:"Gás liquefeito de petróleo (GLGNn), exceto em botijão de 13 Kg"},{cest:"06.011.04",ncmsh:"27111910",descricao:"Gás liquefeito de petróleo em botijão de 13 Kg (GLGNi)"},{cest:"06.011.05",ncmsh:"27111910",descricao:"Gás liquefeito de petróleo (GLGNi), exceto em botijão de 13 Kg"},{cest:"06.011.06",ncmsh:"27111910",descricao:"Gás liquefeito de petróleo em botijão de 13 kg (Misturas)"},{cest:"06.011.07",ncmsh:"27111910",descricao:"Gás liquefeito de petróleo (Misturas), exceto em botijão de 13 Kg"},{cest:"06.012.00",ncmsh:"27111100",descricao:"Gás Natural Liquefeito"},{cest:"06.013.00",ncmsh:"27112100",descricao:"Gás Natural Gasoso"},{cest:"06.014.00",ncmsh:"27112990",descricao:"Gás de xisto"},{cest:"06.015.00",ncmsh:"2713",descricao:"Coque de petróleo e outros resíduos de óleo de petróleo ou de minerais betuminosos"},{cest:"06.016.00",ncmsh:"38260000",descricao:"Biodiesel e suas misturas, que não contenham ou que contenham menos de 70%, em peso, de óleos de petróleo ou de óleos minerais betuminosos"},{cest:"06.017.00",ncmsh:"3403",descricao:"Preparações lubrificantes, exceto as contendo, como constituintes de base, 70% ou mais, em peso, de óleos de petróleo ou de minerais betuminosos"},{cest:"06.018.00",ncmsh:"27102000",descricao:"Óleos de petróleo ou de minerais betuminosos (exceto óleos brutos) e preparações não especificadas nem compreendidas noutras posições, que contenham, como constituintes básicos, 70% ou mais, em peso, de óleos de petróleo ou de minerais betuminosos, que contenham biodiesel, exceto os resíduos de óleos"},{cest:"07.001.00",ncmsh:"27160000",descricao:"Energia elétrica"},{cest:"08.001.00",ncmsh:"40169990",descricao:"Ferramentas de borracha vulcanizada não endurecida"},{cest:"08.002.00",ncmsh:"44170010;44170090",descricao:"Ferramentas, armações e cabos de ferramentas, de madeira"},{cest:"08.003.00",ncmsh:"6804",descricao:"Mós e artefatos semelhantes, sem armação, para moer, desfibrar, triturar, amolar, polir, retificar ou cortar; pedras para amolar ou para polir, manualmente, e suas partes, de pedras naturais, de abrasivos naturais ou artificiais aglomerados ou de cerâmica, mesmo com partes de outras matérias"},{cest:"08.004.00",ncmsh:"8201",descricao:"Pás, alviões, picaretas, enxadas, sachos, forcados e forquilhas, ancinhos e raspadeiras; machados, podões e ferramentas semelhantes com gume; tesouras de podar de todos os tipos; foices e foicinhas, facas para feno ou para palha, tesouras para sebes, cunhas e outras ferramentas manuais para agricultura, horticultura ou silvicultura"},{cest:"08.005.00",ncmsh:"82022000",descricao:"Folhas de serras de fita"},{cest:"08.006.00",ncmsh:"82029100",descricao:"Lâminas de serras máquinas"},{cest:"08.007.00",ncmsh:"8202",descricao:"Serras manuais e outras folhas de serras (incluídas as fresas-serras e as folhas não dentadas para serrar), exceto as classificadas nos CEST 08.005.00 e 08.006.00"},{cest:"08.008.00",ncmsh:"8203",descricao:"Limas, grosas, alicates (mesmo cortantes), tenazes, pinças, cisalhas para metais, corta-tubos, corta-pinos, saca-bocados e ferramentas semelhantes, manuais, exceto as pinças para sobrancelhas classificadas na posição 8203.20.90"},{cest:"08.009.00",ncmsh:"8204",descricao:"Chaves de porcas, manuais (incluídas as chaves dinamométricas); chaves de caixa intercambiáveis, mesmo com cabos"},{cest:"08.010.00",ncmsh:"8205",descricao:"Ferramentas manuais (incluídos os diamantes de vidraceiro) não especificadas nem compreendidas em outras posições, lamparinas ou lâmpadas de soldar (maçaricos) e semelhantes; tornos de apertar, sargentos e semelhantes, exceto os acessórios ou partes de máquinas-ferramentas; bigornas; forjas-portáteis; mós com armação, manuais ou de pedal"},{cest:"08.011.00",ncmsh:"82060000",descricao:"Ferramentas de pelo menos duas das posições 8202 a 8205, acondicionadas em sortidos para venda a retalho"},{cest:"08.012.00",ncmsh:"820740;820760;820770",descricao:"Ferramentas de roscar interior ou exteriormente; de mandrilar ou de brochar; e de fresar"},{cest:"08.013.00",ncmsh:"8207",descricao:"Outras ferramentas intercambiáveis para ferramentas manuais, mesmo mecânicas, ou para máquinas-ferramentas (por exemplo, de embutir, estampar, puncionar, furar, tornear, aparafusar), incluídas as fieiras de estiragem ou de extrusão, para metais, e as ferramentas de perfuração ou de sondagem, exceto forma ou gabarito de produtos em epoxy e as classificadas no CEST 08.012.00"},{cest:"08.014.00",ncmsh:"8208",descricao:"Facas e lâminas cortantes, para máquinas ou para aparelhos mecânicos"},{cest:"08.015.00",ncmsh:"82090011",descricao:"Plaquetas ou pastilhas intercambiáveis"},{cest:"08.016.00",ncmsh:"820900",descricao:"Outras plaquetas, varetas, pontas e objetos semelhantes para ferramentas, não montados, de ceramais (“cermets”), exceto as classificadas no CEST 08.015.00"},{cest:"08.017.00",ncmsh:"8211",descricao:"Facas de lâmina cortante ou serrilhada, incluídas as podadeiras de lâmina móvel, e suas lâminas, exceto as de uso doméstico"},{cest:"08.018.00",ncmsh:"8213",descricao:"Tesouras e suas lâminas"},{cest:"08.019.00",ncmsh:"8467",descricao:"Ferramentas pneumáticas, hidráulicas ou com motor (elétrico ou não elétrico) incorporado, de uso manual, exceto o descrito no CEST 08.019.01"},{cest:"08.019.01",ncmsh:"84678100",descricao:"Moto-serras portáteis de corrente, com motor incorporado, não elétrico, de uso agrícola"},{cest:"08.020.00",ncmsh:"9015",descricao:"Instrumentos e aparelhos de geodesia, topografia, agrimensura, nivelamento, fotogrametria, hidrografia, oceanografia, hidrologia, meteorologia ou de geofísica, exceto bussolas; telêmetros"},{cest:"08.021.00",ncmsh:"90172000;901730;901780;90179090",descricao:"Instrumentos de desenho, de traçado ou de cálculo; metros, micrômetros, paquímetros, calibres e semelhantes; partes e acessórios"},{cest:"08.022.00",ncmsh:"90251190;90259010",descricao:"Termômetros, suas partes e acessórios"},{cest:"08.023.00",ncmsh:"902519;90259090",descricao:"Pirômetros, suas partes e acessórios"},{cest:"09.001.00",ncmsh:"8539",descricao:"Lâmpadas elétricas"},{cest:"09.002.00",ncmsh:"8540",descricao:"Lâmpadas eletrônicas"},{cest:"09.003.00",ncmsh:"85041000",descricao:"Reatores para lâmpadas ou tubos de descargas"},{cest:"09.004.00",ncmsh:"853650",descricao:"“Starter”"},{cest:"09.005.00",ncmsh:"85395000",descricao:"Lâmpadas de LED (Diodos Emissores de Luz)"},{cest:"10.001.00",ncmsh:"2522",descricao:"Cal"},{cest:"10.002.00",ncmsh:"3816001;38245000",descricao:"Argamassas"},{cest:"10.003.00",ncmsh:"32149000",descricao:"Outras argamassas"},{cest:"10.004.00",ncmsh:"391000",descricao:"Silicones em formas primárias, para uso na construção"},{cest:"10.005.00",ncmsh:"3916",descricao:"Revestimentos de PVC e outros plásticos; forro, sancas e afins de PVC, para uso na construção"},{cest:"10.006.00",ncmsh:"3917",descricao:"Tubos, e seus acessórios (por exemplo, juntas, cotovelos, flanges, uniões), de plásticos, para uso na construção"},{cest:"10.007.00",ncmsh:"3918",descricao:"Revestimento de pavimento de PVC e outros plásticos"},{cest:"10.008.00",ncmsh:"3919",descricao:"Chapas, folhas, tiras, fitas, películas e outras formas planas, autoadesivas, de plásticos, mesmo em rolos, para uso na construção"},{cest:"10.009.00",ncmsh:"3919;3920;3921",descricao:"Veda rosca, lona plástica para uso na construção, fitas isolantes e afins"},{cest:"10.010.00",ncmsh:"3921",descricao:"Telha de plástico, mesmo reforçada com fibra de vidro"},{cest:"10.011.00",ncmsh:"3921",descricao:"Cumeeira de plástico, mesmo reforçada com fibra de vidro"},{cest:"10.012.00",ncmsh:"3921",descricao:"Chapas, laminados plásticos em bobina, para uso na construção, exceto os descritos no CEST 10.010.00 e 10.011.00"},{cest:"10.013.00",ncmsh:"3922",descricao:"Banheiras, boxes para chuveiros, pias, lavatórios, bidês, sanitários e seus assentos e tampas, caixas de descarga e artigos semelhantes para usos sanitários ou higiênicos, de plásticos"},{cest:"10.014.00",ncmsh:"3924",descricao:"Artefatos de higiene/toucador de plástico, para uso na construção"},{cest:"10.015.00",ncmsh:"39251000",descricao:"Caixa d’água, inclusive sua tampa, de plástico, mesmo reforçadas com fibra de vidro"},{cest:"10.016.00",ncmsh:"392590",descricao:"Outras telhas, cumeeira e caixa d’água, inclusive sua tampa, de plástico, mesmo reforçadas com fibra de vidro"},{cest:"10.017.00",ncmsh:"39251000;392590",descricao:"Artefatos para apetrechamento de construções, de plásticos, não especificados nem compreendidos em outras posições, incluindo persianas, sancas, molduras, apliques e rosetas, caixilhos de polietileno e outros plásticos, exceto os descritos nos CEST 10.015.00 e 10.016.00"},{cest:"10.018.00",ncmsh:"39252000",descricao:"Portas, janelas e seus caixilhos, alizares e soleiras"},{cest:"10.019.00",ncmsh:"39253000",descricao:"Postigos, estores (incluídas as venezianas) e artefatos semelhantes e suas partes"},{cest:"10.020.00",ncmsh:"392690",descricao:"Outras obras de plástico, para uso na construção"},{cest:"10.021.00",ncmsh:"4814",descricao:"Papel de parede e revestimentos de parede semelhantes; papel para vitrais"},{cest:"10.022.00",ncmsh:"68101900",descricao:"Telhas de concreto"},{cest:"10.023.00",ncmsh:"6811",descricao:"REVOGADO"},{cest:"10.024.00",ncmsh:"6811",descricao:"Caixas d’água, tanques e reservatórios e suas tampas, telhas, calhas, cumeeiras e afins, de fibrocimento, cimento-celulose ou semelhantes, contendo ou não amianto."},{cest:"10.025.00",ncmsh:"69010000",descricao:"Tijolos, placas (lajes), ladrilhos e outras peças cerâmicas de farinhas siliciosas fósseis (“kieselghur”, tripolita, diatomita, por exemplo) ou de terras siliciosas semelhantes"},{cest:"10.026.00",ncmsh:"6902",descricao:"Tijolos, placas (lajes), ladrilhos e peças cerâmicas semelhantes, para uso na construção, refratários, que não sejam de farinhas siliciosas fósseis nem de terras siliciosas semelhantes"},{cest:"10.027.00",ncmsh:"6904",descricao:"Tijolos para construção, tijoleiras, tapa-vigas e produtos semelhantes, de cerâmica"},{cest:"10.028.00",ncmsh:"6905",descricao:"Telhas, elementos de chaminés, condutores de fumaça, ornamentos arquitetônicos, de cerâmica, e outros produtos cerâmicos para uso na construção"},{cest:"10.029.00",ncmsh:"69060000",descricao:"Tubos, calhas ou algerozes e acessórios para canalizações, de cerâmica"},{cest:"10.030.00",ncmsh:"6907",descricao:"Ladrilhos e placas de cerâmica, exclusivamente para pavimentação ou revestimento"},{cest:"10.030.01",ncmsh:"6907",descricao:"Cubos, pastilhas e artigos semelhantes de cerâmica, mesmo com suporte, exceto os descritos CEST 10.030.00"},{cest:"10.031.00",ncmsh:"6910",descricao:"Pias, lavatórios, colunas para lavatórios, banheiras, bidês, sanitários, caixas de descarga, mictórios e aparelhos fixos semelhantes para usos sanitários, de cerâmica"},{cest:"10.032.00",ncmsh:"69120000",descricao:"Artefatos de higiene/toucador de cerâmica"},{cest:"10.033.00",ncmsh:"7003",descricao:"Vidro vazado ou laminado, em chapas, folhas ou perfis, mesmo com camada absorvente, refletora ou não, mas sem qualquer outro trabalho"},{cest:"10.034.00",ncmsh:"7004",descricao:"Vidro estirado ou soprado, em folhas, mesmo com camada absorvente, refletora ou não, mas sem qualquer outro trabalho"},{cest:"10.035.00",ncmsh:"7005",descricao:"Vidro flotado e vidro desbastado ou polido em uma ou em ambas as faces, em chapas ou em folhas, mesmo com camada absorvente, refletora ou não, mas sem qualquer outro trabalho"},{cest:"10.036.00",ncmsh:"70071900",descricao:"Vidros temperados"},{cest:"10.037.00",ncmsh:"70072900",descricao:"Vidros laminados"},{cest:"10.038.00",ncmsh:"7008",descricao:"Vidros isolantes de paredes múltiplas"},{cest:"10.039.00",ncmsh:"7016",descricao:"Blocos, placas, tijolos, ladrilhos, telhas e outros artefatos, de vidro prensado ou moldado, mesmo armado, para uso na construção; cubos, pastilhas e outros artigos semelhantes"},{cest:"10.040.00",ncmsh:"72142000",descricao:"Barras próprias para construções, exceto vergalhões"},{cest:"10.041.00",ncmsh:"73089010",descricao:"Outras barras próprias para construções, exceto vergalhões"},{cest:"10.041.01",ncmsh:"73089010",descricao:"Outros vergalhões"},{cest:"10.042.00",ncmsh:"72142000",descricao:"Vergalhões"},{cest:"10.043.00",ncmsh:"7213",descricao:"Outros vergalhões"},{cest:"10.044.00",ncmsh:"72171090;7312",descricao:"Fios de ferro ou aço não ligados, não revestidos, mesmo polidos; cordas, cabos, tranças (entrançados), lingas e artefatos semelhantes, de ferro ou aço, não isolados para usos elétricos"},{cest:"10.045.00",ncmsh:"72172010",descricao:"Outros fios de ferro ou aço, não ligados, galvanizados com teor de carbono superior ou igual a 0,6%, em peso"},{cest:"10.045.01",ncmsh:"72172090",descricao:"Outros fios de ferro ou aço, não ligados, galvanizados"},{cest:"10.046.00",ncmsh:"7307",descricao:"Acessórios para tubos (inclusive uniões, cotovelos, luvas ou mangas), de ferro fundido, ferro ou aço"},{cest:"10.047.00",ncmsh:"73083000",descricao:"Portas e janelas, e seus caixilhos, alizares e soleiras de ferro fundido, ferro ou aço"},{cest:"10.048.00",ncmsh:"73084000;730890",descricao:"Material para andaimes, para armações (cofragens) e para escoramentos, (inclusive armações prontas, para estruturas de concreto armado ou argamassa armada), eletrocalhas e perfilados de ferro fundido, ferro ou aço, próprios para construção, exceto treliças de aço"},{cest:"10.049.00",ncmsh:"73084000",descricao:"Treliças de aço"},{cest:"10.050.00",ncmsh:"73089090",descricao:"Telhas metálicas"},{cest:"10.051.00",ncmsh:"7310",descricao:"Caixas diversas (tais como caixa de correio, de entrada de água, de energia, de instalação) de ferro fundido, ferro ou aço; próprias para a construção"},{cest:"10.052.00",ncmsh:"73130000",descricao:"Arame farpado, de ferro ou aço, arames ou tiras, retorcidos, mesmo farpados, de ferro ou aço, dos tipos utilizados em cercas"},{cest:"10.053.00",ncmsh:"7314",descricao:"Telas metálicas, grades e redes, de fios de ferro ou aço"},{cest:"10.054.00",ncmsh:"73151100",descricao:"Correntes de rolos, de ferro fundido, ferro ou aço"},{cest:"10.055.00",ncmsh:"73151290",descricao:"Outras correntes de elos articulados, de ferro fundido, ferro ou aço"},{cest:"10.056.00",ncmsh:"73158200",descricao:"Correntes de elos soldados, de ferro fundido, de ferro ou aço"},{cest:"10.057.00",ncmsh:"731700",descricao:"Tachas, pregos, percevejos, escápulas, grampos ondulados ou biselados e artefatos semelhantes, de ferro fundido, ferro ou aço, mesmo com a cabeça de outra matéria, exceto cobre"},{cest:"10.058.00",ncmsh:"7318",descricao:"Parafusos, pinos ou pernos, roscados, porcas, tira-fundos, ganchos roscados, rebites, chavetas, cavilhas, contrapinos, arruelas (incluídas as de pressão) e artefatos semelhantes, de ferro fundido, ferro ou aço"},{cest:"10.059.00",ncmsh:"7323",descricao:"Palha de ferro ou aço, exceto os de uso doméstico classificados na posição NCM 7323.10.00"},{cest:"10.059.01",ncmsh:"7323",descricao:"Esponjas, esfregões, luvas e artefatos semelhantes para limpeza, polimento e usos semelhantes, de ferro ou aço, exceto os de uso doméstico classificados na posição NCM 7323.10.00"},{cest:"10.060.00",ncmsh:"7324",descricao:"Artefatos de higiene ou de toucador, e suas partes, de ferro fundido, ferro ou aço, incluídas as pias, banheiras, lavatórios, cubas, mictórios, tanques e afins de ferro fundido, ferro ou aço, para uso na construção"},{cest:"10.061.00",ncmsh:"7325",descricao:"Outras obras moldadas, de ferro fundido, ferro ou aço, para uso na construção"},{cest:"10.062.00",ncmsh:"7326",descricao:"Abraçadeiras"},{cest:"10.063.00",ncmsh:"7407",descricao:"Barras de cobre"},{cest:"10.064.00",ncmsh:"74111010",descricao:"Tubos de cobre e suas ligas, para instalações de água quente e gás, para uso na construção"},{cest:"10.065.00",ncmsh:"7412",descricao:"Acessórios para tubos (por exemplo, uniões, cotovelos, luvas ou mangas) de cobre e suas ligas, para uso na construção"},{cest:"10.066.00",ncmsh:"7415",descricao:"Tachas, pregos, percevejos, escápulas e artefatos semelhantes, de cobre, ou de ferro ou aço com cabeça de cobre, parafusos, pinos ou pernos, roscados, porcas, ganchos roscados, rebites, chavetas, cavilhas, contrapinos, arruelas (incluídas as de pressão), e artefatos semelhantes, de cobre"},{cest:"10.067.00",ncmsh:"74182000",descricao:"Artefatos de higiene/toucador de cobre, para uso na construção"},{cest:"10.068.00",ncmsh:"76071990",descricao:"Manta de subcobertura aluminizada"},{cest:"10.069.00",ncmsh:"7608",descricao:"Tubos de alumínio e suas ligas, para refrigeração e ar condicionado, para uso na construção"},{cest:"10.070.00",ncmsh:"76090000",descricao:"Acessórios para tubos (por exemplo, uniões, cotovelos, luvas ou mangas), de alumínio, para uso na construção"},{cest:"10.071.00",ncmsh:"7610",descricao:"Construções e suas partes (por exemplo, pontes e elementos de pontes, torres, pórticos ou pilones, pilares, colunas, armações, estruturas para telhados, portas e janelas, e seus caixilhos, alizares e soleiras, balaustradas), de alumínio, exceto as construções pré-fabricadas da posição 9406; chapas, barras, perfis, tubos e semelhantes, de alumínio, próprios para construções"},{cest:"10.072.00",ncmsh:"76152000",descricao:"Artefatos de higiene/toucador de alumínio, para uso na construção"},{cest:"10.073.00",ncmsh:"7616",descricao:"Outras obras de alumínio, próprias para construções, incluídas as persianas"},{cest:"10.074.00",ncmsh:"83024100",descricao:"Outras guarnições, ferragens e artigos semelhantes de metais comuns, para construções, inclusive puxadores."},{cest:"10.075.00",ncmsh:"8301",descricao:"Fechaduras e ferrolhos (de chave, de segredo ou elétricos), de metais comuns, incluídas as suas partes fechos e armações com fecho, com fechadura, de metais comuns chaves para estes artigos, de metais comuns; exceto os de uso automotivo"},{cest:"10.076.00",ncmsh:"83021000",descricao:"Dobradiças de metais comuns, de qualquer tipo"},{cest:"10.077.00",ncmsh:"8307",descricao:"Tubos flexíveis de metais comuns, mesmo com acessórios, para uso na construção"},{cest:"10.078.00",ncmsh:"8311",descricao:"Fios, varetas, tubos, chapas, eletrodos e artefatos semelhantes, de metais comuns ou de carbonetos metálicos, revestidos exterior ou interiormente de decapantes ou de fundentes, para soldagem (soldadura) ou depósito de metal ou de carbonetos metálicos fios e varetas de pós de metais comuns aglomerados, para metalização por projeção"},{cest:"10.079.00",ncmsh:"8481",descricao:"Torneiras, válvulas (incluídas as redutoras de pressão e as termostáticas) e dispositivos semelhantes, para canalizações, caldeiras, reservatórios, cubas e outros recipientes"},{cest:"10.080.00",ncmsh:"7009",descricao:"Espelhos de vidro, mesmo emoldurados, exceto os de uso automotivo"},{cest:"11.001.00",ncmsh:"28289011;28289019;32064100;34022000;38089419",descricao:"Água sanitária, branqueador e outros alvejantes"},{cest:"11.002.00",ncmsh:"34012090",descricao:"Sabões em pó, flocos, palhetas, grânulos ou outras formas semelhantes, para lavar roupas"},{cest:"11.003.00",ncmsh:"34012090",descricao:"Sabões líquidos para lavar roupas"},{cest:"11.004.00",ncmsh:"34022000",descricao:"Detergentes em pó, flocos, palhetas, grânulos ou outras formas semelhantes"},{cest:"11.005.00",ncmsh:"34022000",descricao:"Detergentes líquidos, exceto para lavar roupa"},{cest:"11.006.00",ncmsh:"34022000",descricao:"Detergente líquido para lavar roupa"},{cest:"11.007.00",ncmsh:"3402",descricao:"Outros agentes orgânicos de superfície (exceto sabões); preparações tensoativas, preparações para lavagem (incluídas as preparações auxiliares para lavagem) e preparações para limpeza (inclusive multiuso e limpadores), mesmo contendo sabão, exceto os produtos descritos nos CEST 11.001.00, 11.004.00, 11.005.00 e 11.006.00; em embalagem de conteúdo inferior ou igual a 50 litros ou 50 kg"},{cest:"11.008.00",ncmsh:"38099190",descricao:"Amaciante/suavizante"},{cest:"11.009.00",ncmsh:"39241000;39249000;68053010;68053090",descricao:"Esponjas para limpeza"},{cest:"11.010.00",ncmsh:"2207;22089000",descricao:"Álcool etílico para limpeza"},{cest:"11.011.00",ncmsh:"73231000",descricao:"Esponjas e palhas de aço; esponjas para limpeza, polimento ou uso semelhantes; todas de uso doméstico"},{cest:"11.012.00",ncmsh:"39232",descricao:"Sacos de lixo de conteúdo igual ou inferior a 100 litros"},{cest:"12.001.00",ncmsh:"8504",descricao:"Transformadores, bobinas de reatância e de auto indução, inclusive os transformadores de potência superior a 16 KVA, classificados nas posições 8504.33.00 e 8504.34.00; exceto os demais transformadores da subposição 8504.3, os reatores para lâmpadas elétricas de descarga classificados no código 8504.10.00, os carregadores de acumuladores do código 8504.40.10, os equipamentos de alimentação ininterrupta de energia (UPS ou “no break”), no código 8504.40.40 e os de uso automotivo"},{cest:"12.002.00",ncmsh:"8516",descricao:"Aquecedores elétricos de água, incluídos os de imersão, chuveiros ou duchas elétricos, torneiras elétricas, resistências de aquecimento, inclusive as de duchas e chuveiros elétricos e suas partes; exceto outros fornos, fogareiros (incluídas as chapas de cocção), grelhas e assadeiras, classificados na posição 8516.60.00"},{cest:"12.003.00",ncmsh:"8535",descricao:"Aparelhos para interrupção, seccionamento, proteção, derivação, ligação ou conexão de circuitos elétricos (por exemplo, interruptores, comutadores, corta-circuitos, para-raios, limitadores de tensão, eliminadores de onda, tomadas de corrente e outros conectores, caixas de junção), para tensão superior a 1.000V, exceto os de uso automotivo"},{cest:"12.004.00",ncmsh:"8536",descricao:"Aparelhos para interrupção, seccionamento, proteção, derivação, ligação ou conexão de circuitos elétricos (por exemplo, interruptores, comutadores, relés, corta-circuitos, eliminadores de onda, plugues e tomadas de corrente, suportes para lâmpadas e outros conectores, caixas de junção), para uma tensão não superior a 1.000V; conectores para fibras ópticas, feixes ou cabos de fibras ópticas; exceto “starter” classificado na subposição 8536.50 e os de uso automotivo"},{cest:"12.005.00",ncmsh:"8538",descricao:"Partes reconhecíveis como exclusiva ou principalmente destinadas aos aparelhos das posições 8535 e 8536"},{cest:"12.006.00",ncmsh:"74130000",descricao:"Cabos, tranças e semelhantes, de cobre, não isolados para usos elétricos, exceto os de uso automotivo"},{cest:"12.007.00",ncmsh:"8544;7605;7614",descricao:"Fios, cabos (incluídos os cabos coaxiais) e outros condutores, isolados ou não, para usos elétricos (incluídos os de cobre ou alumínio, envernizados ou oxidados anodicamente), mesmo com peças de conexão, inclusive fios e cabos elétricos, para tensão não superior a 1000V, para uso na construção; fios e cabos telefônicos e para transmissão de dados; cabos de fibras ópticas, constituídos de fibras embainhadas individualmente, mesmo com condutores elétricos ou munidos de peças de conexão; cordas, cabos, tranças e semelhantes, de alumínio, não isolados para uso elétricos; exceto os de uso automotivo"},{cest:"12.008.00",ncmsh:"8546",descricao:"Isoladores de qualquer matéria, para usos elétricos"},{cest:"12.009.00",ncmsh:"8547",descricao:"Peças isolantes inteiramente de matérias isolantes, ou com simples peças metálicas de montagem (suportes roscados, por exemplo) incorporadas na massa, para máquinas, aparelhos e instalações elétricas; tubos isoladores e suas peças de ligação, de metais comuns, isolados interiormente"},{cest:"13.001.00",ncmsh:"3003;3004",descricao:"Medicamentos de referência - positiva, exceto para uso veterinário"},{cest:"13.001.01",ncmsh:"3003;3004",descricao:"Medicamentos de referência - negativa, exceto para uso veterinário"},{cest:"13.001.02",ncmsh:"3003;3004",descricao:"Medicamentos de referência - neutra, exceto para uso veterinário"},{cest:"13.002.00",ncmsh:"3003;3004",descricao:"Medicamentos genérico - positiva, exceto para uso veterinário"},{cest:"13.002.01",ncmsh:"3003;3004",descricao:"Medicamentos genérico - negativa, exceto para uso veterinário"},{cest:"13.002.02",ncmsh:"3003;3004",descricao:"Medicamentos genérico - neutra, exceto para uso veterinário"},{cest:"13.003.00",ncmsh:"3003;3004",descricao:"Medicamentos similar - positiva, exceto para uso veterinário"},{cest:"13.003.01",ncmsh:"3003;3004",descricao:"Medicamentos similar - negativa, exceto para uso veterinário"},{cest:"13.003.02",ncmsh:"3003;3004",descricao:"Medicamentos similar - neutra, exceto para uso veterinário"},{cest:"13.004.00",ncmsh:"3003;3004",descricao:"Outros tipos de medicamentos - positiva, exceto para uso veterinário"},{cest:"13.004.01",ncmsh:"3003;3004",descricao:"Outros tipos de medicamentos - negativa, exceto para uso veterinário"},{cest:"13.004.02",ncmsh:"3003;3004",descricao:"Outros tipos de medicamentos - neutra, exceto para uso veterinário"},{cest:"13.005.00",ncmsh:"30066000",descricao:"Preparações químicas contraceptivas de referência, à base de hormônios, de outros produtos da posição 29.37 ou de espermicidas - positiva."},{cest:"13.005.01",ncmsh:"30066000",descricao:"Preparações químicas contraceptivas de referência, à base de hormônios, de outros produtos da posição 29.37 ou de espermicidas - negativa."},{cest:"13.005.02",ncmsh:"30066000",descricao:"Preparações químicas contraceptivas genérico, à base de hormônios, de outros produtos da posição 29.37 ou de espermicidas – positiva."},{cest:"13.005.03",ncmsh:"30066000",descricao:"Preparações químicas contraceptivas genérico, à base de hormônios, de outros produtos da posição 29.37 ou de espermicidas – negativa."},{cest:"13.005.04",ncmsh:"30066000",descricao:"Preparações químicas contraceptivas similar, à base de hormônios, de outros produtos da posição 29.37 ou de espermicidas – positiva."},{cest:"13.005.05",ncmsh:"30066000",descricao:"Preparações químicas contraceptivas similar, à base de hormônios, de outros produtos da posição 29.37 ou de espermicidas – negativa."},{cest:"13.006.00",ncmsh:"2936",descricao:"Provitaminas e vitaminas, naturais ou reproduzidas por síntese (incluídos os concentrados naturais), bem como os seus derivados utilizados principalmente como vitaminas, misturados ou não entre si, mesmo em quaisquer soluções - neutra"},{cest:"13.007.00",ncmsh:"300630",descricao:"Preparações opacificantes (contrastantes) para exames radiográficos e reagentes de diagnóstico concebidos para serem administrados ao paciente - positiva"},{cest:"13.007.01",ncmsh:"300630",descricao:"Preparações opacificantes (contrastantes) para exames radiográficos e reagentes de diagnóstico concebidos para serem administrados ao paciente - negativa"},{cest:"13.008.00",ncmsh:"3002",descricao:"Antissoro, outras frações do sangue, produtos imunológicos modificados, mesmo obtidos por via biotecnológica, exceto para uso veterinário - positiva"},{cest:"13.008.01",ncmsh:"3002",descricao:"Antissoro, outras frações do sangue, produtos imunológicos modificados, mesmo obtidos por via biotecnológica, exceto para uso veterinário - negativa"},{cest:"13.009.00",ncmsh:"3002",descricao:"Vacinas e produtos semelhantes, exceto para uso veterinário - positiva;"},{cest:"13.009.01",ncmsh:"3002",descricao:"Vacinas e produtos semelhantes, exceto para uso veterinário - negativa;"},{cest:"13.010.00",ncmsh:"30051010",descricao:"Curativos (pensos) adesivos e outros artigos com uma camada adesiva, impregnados ou recobertos de substâncias farmacêuticas - Lista Positiva"},{cest:"13.010.01",ncmsh:"30051010",descricao:"Curativos (pensos) adesivos e outros artigos com uma camada adesiva, impregnados ou recobertos de substâncias farmacêuticas - Lista Negativa"},{cest:"13.011.00",ncmsh:"3005",descricao:"Algodão, atadura, esparadrapo, gazes, pensos, sinapismos, e outros, acondicionados para venda a retalho para usos medicinais, cirúrgicos ou dentários, não impregnados ou recobertos de substâncias farmacêuticas - Lista Neutra"},{cest:"13.012.00",ncmsh:"40151100;40151900",descricao:"Luvas cirúrgicas e luvas de procedimento - neutra"},{cest:"13.013.00",ncmsh:"40141000",descricao:"Preservativo – neutra"},{cest:"13.014.00",ncmsh:"901831",descricao:"Seringas, mesmo com agulhas - neutra"},{cest:"13.015.00",ncmsh:"9018321",descricao:"Agulhas para seringas - neutra"},{cest:"13.016.00",ncmsh:"39269090;90189099",descricao:"Contraceptivos (dispositivos intrauterinos - DIU) - neutra"},{cest:"14.001.00",ncmsh:"7013",descricao:"Objetos de vidro para serviço de mesa ou de cozinha"},{cest:"14.002.00",ncmsh:"70133700",descricao:"Outros copos, exceto de vitrocerâmica"},{cest:"14.003.00",ncmsh:"70134290",descricao:"Objetos para serviço de mesa (exceto copos) ou de cozinha, exceto de vitrocerâmica"},{cest:"14.004.00",ncmsh:"3919;3920;3921",descricao:"Lonas plásticas, exceto as para uso na construção"},{cest:"14.005.00",ncmsh:"3924",descricao:"Artefatos de higiene/toucador de plástico, exceto os para uso na construção"},{cest:"14.006.00",ncmsh:"39241000",descricao:"Serviços de mesa e outros utensílios de mesa ou de cozinha, de plástico, não descartáveis"},{cest:"14.006.01",ncmsh:"39241000",descricao:"Serviços de mesa e outros utensílios de mesa ou de cozinha, de plástico, descartáveis"},{cest:"14.007.00",ncmsh:"69111010",descricao:"Artigos para serviço de mesa ou de cozinha, de porcelana, inclusive os descartáveis - estojos"},{cest:"14.008.00",ncmsh:"69111090",descricao:"Artigos para serviço de mesa ou de cozinha, de porcelana, inclusive os descartáveis - avulsos"},{cest:"14.009.00",ncmsh:"69120000",descricao:"Artigos para serviço de mesa ou de cozinha, de cerâmica"},{cest:"14.010.00",ncmsh:"69120000",descricao:"Velas para filtros"},{cest:"14.011.00",ncmsh:"4823209",descricao:"Filtros descartáveis para coar café ou chá"},{cest:"14.012.00",ncmsh:"48236",descricao:"Bandejas, travessas, pratos, xícaras ou chávenas, taças, copos e artigos semelhantes, de papel ou cartão"},{cest:"14.013.00",ncmsh:"48131000",descricao:"Papel para cigarro"},{cest:"16.001.00",ncmsh:"40111000",descricao:"Pneus novos, dos tipos utilizados em automóveis de passageiros (incluídos os veículos de uso misto - camionetas e os automóveis de corrida)"},{cest:"16.002.00",ncmsh:"4011",descricao:"Pneus novos, dos tipos utilizados em caminhões (inclusive para os fora-de-estrada), ônibus, aviões, máquinas de terraplenagem, de construção e conservação de estradas, máquinas e tratores agrícolas, pá-carregadeira"},{cest:"16.003.00",ncmsh:"40114000",descricao:"Pneus novos para motocicletas"},{cest:"16.004.00",ncmsh:"4011",descricao:"Outros tipos de pneus novos, exceto os itens classificados no CEST 16.005.00"},{cest:"16.005.00",ncmsh:"40115000",descricao:"Pneus novos de borracha dos tipos utilizados em bicicletas"},{cest:"16.006.00",ncmsh:"40121",descricao:"Pneus recauchutados"},{cest:"16.007.00",ncmsh:"401290",descricao:"Protetores de borracha, exceto os itens classificados no CEST 16.007.01"},{cest:"16.007.01",ncmsh:"401290",descricao:"Protetores de borracha para bicicletas"},{cest:"16.008.00",ncmsh:"4013",descricao:"Câmaras de ar de borracha, exceto os itens classificados no CEST 16.009.00"},{cest:"16.009.00",ncmsh:"40132000",descricao:"Câmaras de ar de borracha dos tipos utilizados em bicicletas"},{cest:"17.001.00",ncmsh:"17049010",descricao:"Chocolate branco, em embalagens de conteúdo inferior ou igual a 1 kg, excluídos os ovos de páscoa de chocolate."},{cest:"17.002.00",ncmsh:"18063110;18063120",descricao:"Chocolates contendo cacau, em embalagens de conteúdo inferior ou igual a 1 kg"},{cest:"17.003.00",ncmsh:"18063210;18063220",descricao:"Chocolate em barras, tabletes ou blocos ou no estado líquido, em pasta, em pó, grânulos ou formas semelhantes, em recipientes ou embalagens imediatas de conteúdo inferior ou igual a 2 kg"},{cest:"17.004.00",ncmsh:"18069000",descricao:"Chocolates e outras preparações alimentícias contendo cacau, em embalagens de conteúdo inferior ou igual a 1 kg, excluídos os achocolatados em pó e ovos de páscoa de chocolate."},{cest:"17.005.00",ncmsh:"17049010",descricao:"Ovos de páscoa de chocolate branco"},{cest:"17.005.01",ncmsh:"18069000",descricao:"Ovos de páscoa de chocolate"},{cest:"17.006.00",ncmsh:"18069000",descricao:"Achocolatados em pó, em embalagens de conteúdo inferior ou igual a 1 kg, exceto os classificados no CEST 17.006.02"},{cest:"17.006.01",ncmsh:"18061000",descricao:"Cacau em pó, com adição de açúcar ou de outros edulcorantes, em embalagens de conteúdo inferior ou igual a 1kg"},{cest:"17.006.02",ncmsh:"18069000",descricao:"Achocolatados em pó, em cápsulas"},{cest:"17.007.00",ncmsh:"18069000",descricao:"Caixas de bombons contendo cacau, em embalagens de conteúdo inferior ou igual a 1 kg"},{cest:"17.008.00",ncmsh:"17049090",descricao:"Bombons, inclusive à base de chocolate branco sem cacau"},{cest:"17.009.00",ncmsh:"18069000",descricao:"Bombons, balas, caramelos, confeitos, pastilhas e outros produtos de confeitaria, contendo cacau"},{cest:"17.010.00",ncmsh:"2009",descricao:"Sucos de frutas ou de produtos hortícolas; mistura de sucos"},{cest:"17.011.00",ncmsh:"20098",descricao:"Água de coco"},{cest:"17.012.00",ncmsh:"04021;04022;04029",descricao:"Leite em pó, blocos ou grânulos, exceto creme de leite"},{cest:"17.013.00",ncmsh:"19011020",descricao:"Farinha láctea"},{cest:"17.014.00",ncmsh:"19011010",descricao:"Leite modificado para alimentação de crianças"},{cest:"17.015.00",ncmsh:"19011090;19011030",descricao:"Preparações para alimentação infantil à base de farinhas, grumos, sêmolas ou amidos e outros"},{cest:"17.016.00",ncmsh:"04011010;04012010",descricao:"Leite “longa vida” (UHT - “Ultra High Temperature”), em recipiente de conteúdo inferior ou igual a 2 litros"},{cest:"17.016.01",ncmsh:"04011010;04012010",descricao:"Leite “longa vida” (UHT - “Ultra High Temperature”), em recipiente de conteúdo superior a 2 litros e inferior ou igual a 5 litros"},{cest:"17.017.00",ncmsh:"04014010;04015010",descricao:"Leite em recipiente de conteúdo inferior ou igual a 1 litro"},{cest:"17.017.01",ncmsh:"04014010;04015010",descricao:"Leite em recipiente de conteúdo superior a 1 litro e inferior ou igual a 5 litros"},{cest:"17.018.00",ncmsh:"04011090;04012090",descricao:"Leite do tipo pasteurizado em recipiente de conteúdo inferior ou igual a 1 litro"},{cest:"17.018.01",ncmsh:"04011090;04012090",descricao:"Leite do tipo pasteurizado em recipiente de conteúdo superior a 1 litro e inferior ou igual a 5 litros"},{cest:"17.019.00",ncmsh:"0401402;04022130;04022930;04029",descricao:"Creme de leite, em recipiente de conteúdo inferior ou igual a 1 kg"},{cest:"17.019.01",ncmsh:"0401402;04022130;04022930;04029",descricao:"Creme de leite, em recipiente de conteúdo superior a 1 kg"},{cest:"17.019.02",ncmsh:"040110;040120;040150;040210;04022920",descricao:"Outros cremes de leite, em recipiente de conteúdo inferior ou igual a 1kg"},{cest:"17.019.03",ncmsh:"040110;040120;040150;040210;04022920",descricao:"Outros cremes de leite, em recipiente de conteúdo superior a 1kg"},{cest:"17.020.00",ncmsh:"04029",descricao:"Leite condensado, em recipiente de conteúdo inferior ou igual a 1 kg"},{cest:"17.020.01",ncmsh:"04029",descricao:"Leite condensado, em recipiente de conteúdo superior a 1 kg"},{cest:"17.021.00",ncmsh:"403",descricao:"Iogurte e leite fermentado em recipiente de conteúdo inferior ou igual a 2 litros, exceto o item classificado no CEST 17.022.00"},{cest:"17.021.01",ncmsh:"403",descricao:"Iogurte e leite fermentado em recipiente de conteúdo superior a 2 litros, exceto o item classificado no CEST 17.022.00"},{cest:"17.022.00",ncmsh:"04039000",descricao:"Coalhada"},{cest:"17.023.00",ncmsh:"406",descricao:"Requeijão e similares, em recipiente de conteúdo inferior ou igual a 1 kg, exceto as embalagens individuais de conteúdo inferior ou igual a 10 g"},{cest:"17.023.01",ncmsh:"406",descricao:"Requeijão e similares, em recipiente de conteúdo superior a 1 kg"},{cest:"17.024.00",ncmsh:"406",descricao:"Queijos, exceto os dos CEST 17.024.01, 17.024.02, 17.024.03 e 17.024.04"},{cest:"17.024.01",ncmsh:"04061010",descricao:"Queijo muçarela"},{cest:"17.024.02",ncmsh:"04061090",descricao:"Queijo minas frescal"},{cest:"17.024.03",ncmsh:"04061090",descricao:"Queijo ricota"},{cest:"17.024.04",ncmsh:"04061090",descricao:"Queijo petitsuisse"},{cest:"17.025.00",ncmsh:"04051000",descricao:"Manteiga, em embalagem de conteúdo inferior ou igual a 1 kg, exceto as embalagens individuais de conteúdo inferior ou igual a 10 g"},{cest:"17.025.01",ncmsh:"04051000",descricao:"Manteiga, em embalagem de conteúdo superior a 1 kg"},{cest:"17.025.02",ncmsh:"04059090",descricao:"Manteiga de garrafa"},{cest:"17.026.00",ncmsh:"15171000",descricao:"Margarina e creme vegetal em recipiente de conteúdo inferior ou igual a 500 g, exceto as embalagens individuais de conteúdo inferior ou igual a 10 g"},{cest:"17.027.00",ncmsh:"15171000",descricao:"Margarina e creme vegetal, em recipiente de conteúdo superior a 500 g e inferior ou igual a 1 kg, exceto as embalagens individuais de conteúdo inferior ou igual a 10 g"},{cest:"17.027.01",ncmsh:"15171000",descricao:"Margarina e creme vegetal, em recipiente de conteúdo superior a 1 kg"},{cest:"17.027.02",ncmsh:"151790",descricao:"Outras margarinas e cremes vegetais em recipiente de conteúdo inferior a 1 kg, exceto as embalagens individuais de conteúdo inferior ou igual a 10 g"},{cest:"17.028.00",ncmsh:"15162000",descricao:"Gorduras e óleos vegetais e respectivas frações, parcial ou totalmente hidrogenados, interesterificados, reesterificados ou elaidinizados, mesmo refinados, mas não preparados de outro modo, em recipiente de conteúdo inferior ou igual a 1 kg, exceto as embalagens individuais de conteúdo inferior ou igual a 10 g"},{cest:"17.028.01",ncmsh:"15162000",descricao:"Gorduras e óleos vegetais e respectivas frações, parcial ou totalmente hidrogenados, interesterificados, reesterificados ou elaidinizados, mesmo refinados, mas não preparados de outro modo, em recipiente de conteúdo superior a 1 kg, exceto as embalagens individuais de conteúdo inferior ou igual a 10 g"},{cest:"17.029.00",ncmsh:"19019020",descricao:"Doces de leite"},{cest:"17.030.00",ncmsh:"19041000;19049000",descricao:"Produtos à base de cereais, obtidos por expansão ou torrefação"},{cest:"17.031.00",ncmsh:"19059090",descricao:"Salgadinhos diversos, exceto os classificados no CEST 17.031.01 e 17.031.02"},{cest:"17.031.01",ncmsh:"19059090",descricao:"Salgadinhos diversos, derivados de farinha de trigo"},{cest:"17.031.02",ncmsh:"19059090",descricao:"Biscoitos de polvilho"},{cest:"17.032.00",ncmsh:"20052000;20059",descricao:"Batata frita, inhame e mandioca fritos"},{cest:"17.033.00",ncmsh:"20081",descricao:"Amendoim e castanhas tipo aperitivo, em embalagem de conteúdo inferior ou igual a 1 kg"},{cest:"17.033.01",ncmsh:"20081",descricao:"Amendoim e castanhas tipo aperitivo, em embalagem de conteúdo superior a 1 kg"},{cest:"17.034.00",ncmsh:"21032010",descricao:"Catchup em embalagens imediatas de conteúdo inferior ou igual a 650 g, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 10 g"},{cest:"17.035.00",ncmsh:"21039021;21039091",descricao:"Condimentos e temperos compostos, incluindo molho de pimenta e outros molhos, em embalagens imediatas de conteúdo inferior ou igual a 1 kg, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 3 g"},{cest:"17.036.00",ncmsh:"21031010",descricao:"Molhos de soja preparados em embalagens imediatas de conteúdo inferior ou igual a 650 g, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 10 g"},{cest:"17.037.00",ncmsh:"21033010",descricao:"Farinha de mostarda em embalagens de conteúdo inferior ou igual a 1 kg"},{cest:"17.038.00",ncmsh:"21033021",descricao:"Mostarda preparada em embalagens imediatas de conteúdo inferior ou igual a 650 g, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 10 g"},{cest:"17.039.00",ncmsh:"21039011",descricao:"Maionese em embalagens imediatas de conteúdo inferior ou igual a 650 g, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 10 g"},{cest:"17.040.00",ncmsh:"2002",descricao:"Tomates preparados ou conservados, exceto em vinagre ou em ácido acético, em embalagens de conteúdo inferior ou igual a 1 kg"},{cest:"17.041.00",ncmsh:"21032010",descricao:"Molhos de tomate em embalagens imediatas de conteúdo inferior ou igual a 1 kg"},{cest:"17.042.00",ncmsh:"17049090;19042000;19049000",descricao:"Barra de cereais"},{cest:"17.043.00",ncmsh:"18063120;18063220;18069000",descricao:"Barra de cereais contendo cacau"},{cest:"17.044.00",ncmsh:"11010010",descricao:"Farinha de trigo especial, em embalagem inferior ou igual a 1 kg"},{cest:"17.044.01",ncmsh:"11010010",descricao:"Farinha de trigo especial, em embalagem superior a 1 kg e inferior a 5 kg"},{cest:"17.044.02",ncmsh:"11010010",descricao:"Farinha de trigo especial, em embalagem igual a 5 kg"},{cest:"17.044.03",ncmsh:"11010010",descricao:"Farinha de trigo especial, em embalagem superior a 5 kg e inferior ou igual a 25 kg"},{cest:"17.044.04",ncmsh:"11010010",descricao:"Farinha de trigo especial, em embalagem superior a 25 kg e inferior ou igual a 50 kg"},{cest:"17.044.05",ncmsh:"11010010",descricao:"Farinha de trigo comum, em embalagem igual a 5 kg"},{cest:"17.044.06",ncmsh:"11010010",descricao:"Farinha de trigo comum, em embalagem superior a 5 kg e inferior ou igual a 25 kg"},{cest:"17.044.07",ncmsh:"11010010",descricao:"Farinha de trigo comum, em embalagem superior a 25 kg e inferior ou igual a 50 kg"},{cest:"17.044.08",ncmsh:"11010010",descricao:"Farinha de trigo doméstica especial, em embalagem superior a 5 kg e inferior e igual a 10 kg"},{cest:"17.044.09",ncmsh:"11010010",descricao:"Farinha de trigo doméstica com fermento, em embalagem superior a 5 kg e inferior e igual a 10 kg"},{cest:"17.044.10",ncmsh:"11010010",descricao:"Farinha de trigo especial, em embalagem superior a 50 Kg"},{cest:"17.044.11",ncmsh:"11010010",descricao:"Farinha de trigo comum, em embalagem inferior ou igual a 1 kg"},{cest:"17.044.12",ncmsh:"11010010",descricao:"Farinha de trigo comum, em embalagem superior a 1 kg e inferior a 5 Kg"},{cest:"17.044.13",ncmsh:"11010010",descricao:"Farinha de trigo comum, em embalagem superior a 50 kg"},{cest:"17.044.14",ncmsh:"11010010",descricao:"Farinha de trigo doméstica especial, em embalagem inferior ou igual a 1 kg"},{cest:"17.044.15",ncmsh:"11010010",descricao:"Farinha de trigo doméstica especial, em embalagem superior a 1 kg e inferior a 5 Kg"},{cest:"17.044.16",ncmsh:"11010010",descricao:"Farinha de trigo doméstica especial, em embalagem igual a 5 Kg"},{cest:"17.044.17",ncmsh:"11010010",descricao:"Farinha de trigo doméstica especial, em embalagem superior a 10 Kg"},{cest:"17.044.18",ncmsh:"11010010",descricao:"Farinha de trigo doméstica com fermento, em embalagem inferior ou igual a 1 kg"},{cest:"17.044.19",ncmsh:"11010010",descricao:"Farinha de trigo doméstica com fermento, em embalagem superior a 1 kg e inferior a 5 Kg"},{cest:"17.044.20",ncmsh:"11010010",descricao:"Farinha de trigo doméstica com fermento, em embalagem igual a 5 Kg"},{cest:"17.044.21",ncmsh:"11010010",descricao:"Farinha de trigo doméstica com fermento, em embalagem superior a 10 Kg"},{cest:"17.044.22",ncmsh:"11010010",descricao:"Outras farinhas de trigo, em embalagem inferior ou igual a 1 kg"},{cest:"17.044.23",ncmsh:"11010010",descricao:"Outras farinhas de trigo, em embalagem superior a 1 kg e inferior a 5 Kg"},{cest:"17.044.24",ncmsh:"11010010",descricao:"Outras farinhas de trigo, em embalagem igual a 5 Kg"},{cest:"17.044.25",ncmsh:"11010010",descricao:"Outras farinhas de trigo, em embalagem superior a 5 Kg e inferior ou igual a 25 kg"},{cest:"17.044.26",ncmsh:"11010010",descricao:"Outras farinhas de trigo, em embalagem superior a 25 Kg e inferior ou igual a 50 kg"},{cest:"17.044.27",ncmsh:"11010010",descricao:"Outras farinhas de trigo, em embalagem superior a 50 Kg"},{cest:"17.045.00",ncmsh:"11010020",descricao:"Farinha de mistura de trigo com centeio (méteil)"},{cest:"17.046.00",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para bolos, em embalagem inferior 5 kg"},{cest:"17.046.01",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para bolos, em embalagem igual a 5 kg"},{cest:"17.046.02",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para bolos, em embalagem superior a 5 kg e inferior ou igual a 25 Kg"},{cest:"17.046.03",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para bolos, em embalagem superior a 25 kg e inferior ou igual a 50 Kg"},{cest:"17.046.04",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para bolos, em embalagem superior a 50 Kg"},{cest:"17.046.05",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para pães com menos de 80% de farinha de trigo na sua composição final, em embalagem inferior a 5 kg"},{cest:"17.046.06",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para pães com menos de 80% de farinha de trigo na sua composição final, em embalagem igual a 5 kg"},{cest:"17.046.07",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para pães com menos de 80% de farinha de trigo na sua composição final, em embalagem superior a 5 kg e inferior ou igual a 25 Kg"},{cest:"17.046.08",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para pães com menos de 80% de farinha de trigo na sua composição final, em embalagem superior a 25 kg e inferior ou igual a 50 Kg"},{cest:"17.046.09",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para pães com menos de 80% de farinha de trigo na sua composição final, em embalagem superior a 50 Kg"},{cest:"17.046.10",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para pães com, no mínimo, 80% de farinha de trigo na sua composição final, em embalagem inferior a 5 kg"},{cest:"17.046.11",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para pães com, no mínimo, 80% de farinha de trigo na sua composição final, em embalagem igual a 5 kg"},{cest:"17.046.12",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para pães com, no mínimo, 80% de farinha de trigo na sua composição final, em embalagem superior a 5 kg e inferior ou igual a 25 Kg"},{cest:"17.046.13",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para pães com, no mínimo, 80% de farinha de trigo na sua composição final, em embalagem superior a 25 kg e inferior ou igual a 50 Kg"},{cest:"17.046.14",ncmsh:"19012000;19019090",descricao:"Misturas e preparações para pães com, no mínimo, 80% de farinha de trigo na sua composição final, em embalagem superior a 50 Kg"},{cest:"17.046.15",ncmsh:"19012000;19019090",descricao:"Misturas e pastas para a preparação de produtos de padaria, pastelaria e da indústria de bolachas e biscoitos, da posição 19.05, exceto os previstos nos CEST 17.046.00 a 17.046.14 e 17.046.16."},{cest:"17.046.16",ncmsh:"19012000;19019090",descricao:"Misturas e preparações com, no mínimo, 80% de farinha de trigo na sua composição final, exceto as descritas nos CEST 17.046.10 a 17.046.15."},{cest:"17.047.00",ncmsh:"19023000",descricao:"Massas alimentícias tipo instantânea, exceto as descritas no CEST 17047.01."},{cest:"17.047.01",ncmsh:"19023000",descricao:"Massas alimentícias tipo instantânea, derivadas de farinha de trigo."},{cest:"17.048.00",ncmsh:"1902",descricao:"Massas alimentícias, cozidas ou recheadas (de carne ou de outras substâncias) ou preparadas de outro modo, exceto as descritas nos CEST 17.047.00, 17.048.01, e 17.048.02"},{cest:"17.048.01",ncmsh:"19024000",descricao:"Cuscuz"},{cest:"17.048.02",ncmsh:"19022000",descricao:"Massas alimentícias recheadas (mesmo cozidas ou preparadas de outro modo)"},{cest:"17.049.00",ncmsh:"19021",descricao:"Massas alimentícias do tipo comum, não cozidas, nem recheadas, nem preparadas de outro modo, exceto as descritas nos CEST 17.049.03 e 17.049.06"},{cest:"17.049.01",ncmsh:"19021",descricao:"Massas alimentícias do tipo sêmola, não cozidas, nem recheadas, nem preparadas de outro modo, exceto as descritas nos CEST 17.049.04 e 17.049.07"},{cest:"17.049.02",ncmsh:"19021",descricao:"Massas alimentícias do tipo granoduro, não cozidas, nem recheadas, nem preparadas de outro modo, exceto a descrita no CEST 17.049.05"},{cest:"17.049.03",ncmsh:"19021900",descricao:"Massas alimentícias do tipo comum, não cozidas, nem recheadas, nem preparadas de outro modo, que não contenham ovos, derivadas de farinha de trigo, exceto as descritas no CEST17.049.08"},{cest:"17.049.04",ncmsh:"19021900",descricao:"Massas alimentícias do tipo sêmola, não cozidas, nem recheadas, nem preparadas de outro modo, que não contenham ovos, derivadas de farinha de trigo, exceto as descritas no CEST 17.049.09"},{cest:"17.049.05",ncmsh:"19021900",descricao:"Massas alimentícias do tipo granoduro, não cozidas, nem recheadas, nem preparadas de outro modo, que não contenham ovos"},{cest:"17.049.06",ncmsh:"19021",descricao:"Massas alimentícias do tipo comum, não cozidas, nem recheadas, nem preparadas de outro modo, exceto a descrita no CEST 17.049.03, derivadas de farinha de trigo"},{cest:"17.049.07",ncmsh:"19021",descricao:"Massas alimentícias do tipo sêmola, não cozidas, nem recheadas, nem preparadas de outro modo, exceto a descrita no CEST 17.049.04, derivadas de farinha de trigo"},{cest:"17.049.08",ncmsh:"19021900",descricao:"Massas alimentícias do tipo comum, não cozidas, nem recheadas, nem preparadas de outro modo, que não contenham ovos, derivadas de farinha de trigo"},{cest:"17.049.09",ncmsh:"19021900",descricao:"Massas alimentícias do tipo sêmola, não cozidas, nem recheadas, nem preparadas de outro modo, que não contenham ovos, derivadas de farinha de trigo"},{cest:"17.050.00",ncmsh:"190520",descricao:"Pães industrializados, inclusive de especiarias, exceto panetones e bolo de forma"},{cest:"17.051.00",ncmsh:"19052090",descricao:"Bolo de forma, inclusive de especiarias"},{cest:"17.052.00",ncmsh:"19052010",descricao:"Panetones"},{cest:"17.053.00",ncmsh:"19053100",descricao:"Biscoitos e bolachas derivados de farinha de trigo; (exceto dos tipos “cream cracker”, “água e sal”, “maisena”, “maria” e outros de consumo popular que não sejam adicionados de cacau, nem recheados, cobertos ou amanteigados, independentemente de sua denominação comercial)"},{cest:"17.053.01",ncmsh:"19053100",descricao:"Biscoitos e bolachas derivados de farinha de trigo dos tipos “maisena” e “maria” e outros de consumo popular que não sejam adicionados de cacau, nem recheados, cobertos ou amanteigados, independentemente de sua denominação comercial, exceto o CEST 17.053.02"},{cest:"17.053.02",ncmsh:"19053100",descricao:'Biscoitos e bolachas derivados de farinha de trigo dos tipos "cream cracker" e "água e sal" de consumo popular'},{cest:"17.054.00",ncmsh:"19053100",descricao:'Biscoitos e bolachas não derivados de farinha de trigo; (exceto dos tipos "cream cracker", "água e sal", "maisena" e "maria" e outros de consumo popular que não sejam adicionados de cacau, nem recheados, cobertos ou amanteigados, independentemente de sua denominação comercial)'},{cest:"17.054.01",ncmsh:"19053100",descricao:'Biscoitos e bolachas não derivados de farinha de trigo dos tipos "maisena" e "maria" e outros de consumo popular que não sejam adicionados de cacau, nem recheados, cobertos ou amanteigados, independentemente de sua denominação comercial, exceto o CEST 17.054.02'},{cest:"17.054.02",ncmsh:"19053100",descricao:'Biscoitos e bolachas não derivados de farinha de trigo dos tipos "cream cracker" e "água e sal" de consumo popular'},{cest:"17.056.00",ncmsh:"19059020",descricao:"Biscoitos e bolachas derivados de farinha de trigo dos tipos “cream cracker” e “água e sal”"},{cest:"17.056.01",ncmsh:"19059020",descricao:"Biscoitos e bolachas não derivados de farinha de trigo dos tipos “cream cracker” e “água e sal”"},{cest:"17.056.02",ncmsh:"19059020",descricao:"Outras bolachas, exceto casquinhas para sorvete e os biscoitos e bolachas relacionados nos CEST 17.056.00 e 17.056.01"},{cest:"17.057.00",ncmsh:"19053200",descricao:"“Waffles” e “wafers” - sem cobertura"},{cest:"17.058.00",ncmsh:"19053200",descricao:"“Waffles” e “wafers” - com cobertura"},{cest:"17.059.00",ncmsh:"19054000",descricao:"Torradas, pão torrado e produtos semelhantes torrados"},{cest:"17.060.00",ncmsh:"19059010",descricao:"Outros pães de forma"},{cest:"17.062.00",ncmsh:"19059090",descricao:"Outros pães, exceto o classificado no CEST 17.062.03"},{cest:"17.062.01",ncmsh:"19059090",descricao:"Outros bolos industrializados e produtos de panificação não especificados anteriormente, incluindo as pizzas; exceto os classificados nos CEST 17.062.02 e 17.062.03"},{cest:"17.062.02",ncmsh:"19059020;19059090",descricao:"Casquinhas para sorvete"},{cest:"17.062.03",ncmsh:"19059090",descricao:"Pão francês até 200g"},{cest:"17.063.00",ncmsh:"19051000",descricao:"Pão denominado knackebrot"},{cest:"17.064.00",ncmsh:"190590",descricao:"Demais pães industrializados"},{cest:"17.065.00",ncmsh:"15079011",descricao:"Óleo de soja refinado, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conteúdo inferior ou igual a 15 mililitros"},{cest:"17.066.00",ncmsh:"1508",descricao:"Óleo de amendoim refinado, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conteúdo inferior ou igual a 15 mililitros"},{cest:"17.067.00",ncmsh:"1509",descricao:"Azeites de oliva, em recipientes com capacidade inferior a 2 litros, exceto as embalagens individuais de conteúdo inferior ou igual a 20 mililitros"},{cest:"17.067.01",ncmsh:"1509",descricao:"Azeites de oliva, em recipientes com capacidade igual ou superior a 2 litros e inferior ou igual a 5 litros"},{cest:"17.067.02",ncmsh:"1509",descricao:"Azeites de oliva, em recipientes com capacidade superior a 5 litros"},{cest:"17.068.00",ncmsh:"15100000",descricao:"Outros óleos e respectivas frações, obtidos exclusivamente a partir de azeitonas, mesmo refinados, mas não quimicamente modificados, e misturas desses óleos ou frações com óleos ou frações da posição 15.09, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conteúdo inferior ou igual a 15 mililitros"},{cest:"17.069.00",ncmsh:"15121911",descricao:"Óleo de girassol em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conteúdo inferior ou igual a 15 mililitros"},{cest:"17.069.01",ncmsh:"15122910",descricao:"Óleo de algodão refinado em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conteúdo inferior ou igual a 15 mililitros"},{cest:"17.070.00",ncmsh:"15141",descricao:"Óleo de canola, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conteúdo inferior ou igual a 15 mililitros"},{cest:"17.071.00",ncmsh:"15151900",descricao:"Óleo de linhaça refinado, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conteúdo inferior ou igual a 15 mililitros"},{cest:"17.072.00",ncmsh:"15152910",descricao:"Óleo de milho refinado, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conteúdo inferior ou igual a 15 mililitros"},{cest:"17.073.00",ncmsh:"15122990",descricao:"Outros óleos refinados, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conteúdo inferior ou igual a 15 mililitros"},{cest:"17.074.00",ncmsh:"15179010",descricao:"Misturas de óleos refinados, para consumo humano, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conteúdo inferior ou igual a 15 mililitros"},{cest:"17.075.00",ncmsh:"1511;1513;1514;1515;1516;1518",descricao:"Outros óleos vegetais comestíveis não especificados anteriormente"},{cest:"17.076.00",ncmsh:"16010000",descricao:"Enchidos (embutidos) e produtos semelhantes, de carne, miudezas ou sangue; exceto salsicha, linguiça e mortadela"},{cest:"17.077.00",ncmsh:"16010000",descricao:"Salsicha e linguiça, exceto as descritas nos CEST 17.077.01"},{cest:"17.077.01",ncmsh:"16010000",descricao:"Salsicha em lata"},{cest:"17.078.00",ncmsh:"16010000",descricao:"Mortadela"},{cest:"17.079.00",ncmsh:"1602",descricao:"Outras preparações e conservas de carne, miudezas ou de sangue, exceto as descritas nos CEST 17.079.01, 17.079.02, 17.079.03, 17.079.04, 17.079.05, 17.079.06 e 17.079.07"},{cest:"17.079.01",ncmsh:"16023100",descricao:"Outras preparações e conservas de carne, de miudezas ou de sangue, de aves da posição 01.05: de peruas e de perus."},{cest:"17.079.02",ncmsh:"16023210",descricao:"Outras preparações e conservas de carne, de miudezas ou de sangue, de aves da posição 01.05: de galos e de galinhas, com conteúdo de carne ou de miudezas superior ou igual a 57 %, em peso, não cozidas"},{cest:"17.079.03",ncmsh:"16023220",descricao:"Outras preparações e conservas de carne, de miudezas ou de sangue, todas de aves da posição 01.05: de galos e de galinhas, com conteúdo de carne ou de miudezas superior ou igual a 57 %, em peso, cozidas"},{cest:"17.079.04",ncmsh:"16024100",descricao:"Outras preparações e conservas de carne, de miudezas ou de sangue, da espécie suína: pernas e respectivos pedaços"},{cest:"17.079.05",ncmsh:"16024900",descricao:"Outras preparações e conservas de carne, de miudezas ou de sangue, da espécie suína: outras, incluindo as misturas, exceto os descritos no CEST 17.079.07"},{cest:"17.079.06",ncmsh:"16025000",descricao:"Outras preparações e conservas de carne, de miudezas ou de sangue, da espécie bovina"},{cest:"17.079.07",ncmsh:"16024900",descricao:"Apresuntado"},{cest:"17.080.00",ncmsh:"1604",descricao:"Preparações e conservas de peixes; caviar e seus sucedâneos preparados a partir de ovas de peixe; exceto os descritos nos CEST 17.080.01 e 17.081.00"},{cest:"17.080.01",ncmsh:"16042010",descricao:"Outras preparações e conservas de atuns"},{cest:"17.081.00",ncmsh:"1604",descricao:"Sardinha em conserva"},{cest:"17.082.00",ncmsh:"1605",descricao:"Crustáceos, moluscos e outros invertebrados aquáticos, preparados ou em conservas"},{cest:"17.083.00",ncmsh:"02102000;02109900;1502",descricao:"Carne de gado bovino, ovino e bufalino e produtos comestíveis resultantes da matança desse gado submetidos à salga, secagem ou desidratação, exceto os descritos no CEST 17.083.01"},{cest:"17.083.01",ncmsh:"02102000",descricao:"Charque e jerkedbeef"},{cest:"17.084.00",ncmsh:"0201;0202;0204;0206",descricao:"Carne de gado bovino, ovino e bufalino e demais produtos comestíveis resultantes da matança desse gado frescos, refrigerados ou congelados"},{cest:"17.085.00",ncmsh:"204",descricao:"Carnes de animais das espécies caprina, frescas, refrigeradas ou congeladas"},{cest:"17.086.00",ncmsh:"02109900;15021019;15029000",descricao:"Carnes e demais produtos comestíveis frescos, resfriados, congelados, salgados ou salmourados resultantes do abate de caprinos"},{cest:"17.087.00",ncmsh:"0207;0209;02109900;1501",descricao:"Carnes e demais produtos comestíveis frescos, resfriados, congelados, salgados, em salmoura, simplesmente temperados, secos ou defumados, resultantes do abate de aves, exceto os descritos no CEST 17.087.02"},{cest:"17.087.01",ncmsh:"0203;0206;0209;02101;02109900;1501",descricao:"Carnes e demais produtos comestíveis frescos, resfriados, congelados, salgados, em salmoura, simplesmente temperados, secos ou defumados, resultantes do abate de suínos"},{cest:"17.087.02",ncmsh:"02071;02072",descricao:"Carnes de aves inteiras e com peso unitário superior a 3 kg, temperadas"},{cest:"17.088.00",ncmsh:"710",descricao:"Produtos hortícolas, cozidos em água ou vapor, congelados, em embalagens de conteúdo inferior ou igual a 1 kg"},{cest:"17.088.01",ncmsh:"710",descricao:"Produtos hortícolas, cozidos em água ou vapor, congelados, em embalagens de conteúdo superior a 1 kg"},{cest:"17.089.00",ncmsh:"811",descricao:"Frutas, não cozidas ou cozidas em água ou vapor, congeladas, mesmo adicionadas de açúcar ou de outros edulcorantes, em embalagens de conteúdo inferior ou igual a 1 kg"},{cest:"17.089.01",ncmsh:"811",descricao:"Frutas, não cozidas ou cozidas em água ou vapor, congeladas, mesmo adicionadas de açúcar ou de outros edulcorantes, em embalagens de conteúdo superior a 1 kg"},{cest:"17.090.00",ncmsh:"2001",descricao:"Produtos hortícolas, frutas e outras partes comestíveis de plantas, preparados ou conservados em vinagre ou em ácido acético, em embalagens de conteúdo inferior ou igual a 1 kg"},{cest:"17.090.01",ncmsh:"2001",descricao:"Produtos hortícolas, frutas e outras partes comestíveis de plantas, preparados ou conservados em vinagre ou em ácido acético, em embalagens de conteúdo superior a 1 kg"},{cest:"17.091.00",ncmsh:"2004",descricao:"Outros produtos hortícolas preparados ou conservados, exceto em vinagre ou em ácido acético, congelados, com exceção dos produtos da posição 20.06, em embalagens de conteúdo inferior ou igual a 1 kg"},{cest:"17.091.01",ncmsh:"2004",descricao:"Outros produtos hortícolas preparados ou conservados, exceto em vinagre ou em ácido acético, congelados, com exceção dos produtos da posição 20.06, em embalagens de conteúdo superior a 1 kg"},{cest:"17.092.00",ncmsh:"2005",descricao:"Outros produtos hortícolas preparados ou conservados, exceto em vinagre ou em ácido acético, não congelados, com exceção dos produtos da posição 20.06, excluídos batata, inhame e mandioca fritos, em embalagens de conteúdo inferior ou igual a 1 kg"},{cest:"17.092.01",ncmsh:"2005",descricao:"Outros produtos hortícolas preparados ou conservados, exceto em vinagre ou em ácido acético, não congelados, com exceção dos produtos da posição 20.06, excluídos batata, inhame e mandioca fritos, em embalagens de conteúdo superior a 1 kg"},{cest:"17.093.00",ncmsh:"20060000",descricao:"Produtos hortícolas, frutas, cascas de frutas e outras partes de plantas, conservados com açúcar (passados por calda, glaceados ou cristalizados), em embalagens de conteúdo inferior ou igual a 1 kg"},{cest:"17.093.01",ncmsh:"20060000",descricao:"Produtos hortícolas, frutas, cascas de frutas e outras partes de plantas, conservados com açúcar (passados por calda, glaceados ou cristalizados), em embalagens de conteúdo superior a 1 kg"},{cest:"17.094.00",ncmsh:"2007",descricao:"Doces, geleias, “marmelades”, purês e pastas de frutas, obtidos por cozimento, com ou sem adição de açúcar ou de outros edulcorantes, em embalagens de conteúdo inferior ou igual a 1 kg, exceto as embalagens individuais de conteúdo inferior ou igual a 10 g"},{cest:"17.094.01",ncmsh:"2007",descricao:"Doces, geleias, “marmelades”, purês e pastas de frutas, obtidos por cozimento, com ou sem adição de açúcar ou de outros edulcorantes, em embalagens de conteúdo superior a 1 kg"},{cest:"17.095.00",ncmsh:"2008",descricao:"Frutas e outras partes comestíveis de plantas, preparadas ou conservadas de outro modo, com ou sem adição de açúcar ou de outros edulcorantes ou de álcool, não especificadas nem compreendidas em outras posições, excluídos os amendoins e castanhas tipo aperitivo, da posição 2008.1, em embalagens de conteúdo inferior ou igual a 1 kg"},{cest:"17.095.01",ncmsh:"2008",descricao:"Frutas e outras partes comestíveis de plantas, preparadas ou conservadas de outro modo, com ou sem adição de açúcar ou de outros edulcorantes ou de álcool, não especificadas nem compreendidas em outras posições, excluídos os amendoins e castanhas tipo aperitivo, da posição 2008.1, em embalagens superior a 1 kg"},{cest:"17.096.00",ncmsh:"901",descricao:"Café torrado e moído, em embalagens de conteúdo inferior ou igual a 2 kg, exceto os classificados nos CEST 17.096.04 e 17.096.05"},{cest:"17.096.01",ncmsh:"901",descricao:"Café torrado e moído, em embalagens de conteúdo superior a 2 kg"},{cest:"17.096.02",ncmsh:"901",descricao:"Café torrado em grão, em embalagens de conteúdo inferior ou igual a 2 kg"},{cest:"17.096.03",ncmsh:"901",descricao:"Café torrado em grão, em embalagens de conteúdo superior a 2 kg"},{cest:"17.096.04",ncmsh:"901",descricao:"Café torrado e moído, em cápsulas, exceto os descritos no CEST 17.096.05"},{cest:"17.096.05",ncmsh:"901",descricao:"Café descafeinado torrado e moído, em cápsulas"},{cest:"17.097.00",ncmsh:"0902;12119090;21069090",descricao:"Chá, mesmo aromatizado"},{cest:"17.098.00",ncmsh:"090300",descricao:"Mate"},{cest:"17.099.00",ncmsh:"17011;17019900",descricao:"Açúcar refinado, em embalagens de conteúdo inferior ou igual a 2 kg, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 10 g"},{cest:"17.099.01",ncmsh:"17011;17019900",descricao:"Açúcar refinado, em embalagens de conteúdo superior a 2 kg e inferior ou igual a 5 kg"},{cest:"17.099.02",ncmsh:"17011;17019900",descricao:"Açúcar refinado, em embalagens de conteúdo superior a 5 kg"},{cest:"17.100.00",ncmsh:"17019100",descricao:"Açúcar refinado adicionado de aromatizante ou de corante em embalagens de conteúdo inferior ou igual a 2 kg, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 10 g"},{cest:"17.100.01",ncmsh:"17019100",descricao:"Açúcar refinado adicionado de aromatizante ou de corante em embalagens de conteúdo superior a 2 kg e inferior ou igual a 5 kg"},{cest:"17.100.02",ncmsh:"17019100",descricao:"Açúcar refinado adicionado de aromatizante ou de corante em embalagens de conteúdo superior a 5 kg"},{cest:"17.101.00",ncmsh:"17011;17019900",descricao:"Açúcar cristal, em embalagens de conteúdo inferior ou igual a 2 kg, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 10 g"},{cest:"17.101.01",ncmsh:"17011;17019900",descricao:"Açúcar cristal, em embalagens de conteúdo superior a 2 kg e inferior ou igual a 5 kg"},{cest:"17.101.02",ncmsh:"17011;17019900",descricao:"Açúcar cristal, em embalagens de conteúdo superior a 5 kg"},{cest:"17.102.00",ncmsh:"17019100",descricao:"Açúcar cristal adicionado de aromatizante ou de corante, em embalagens de conteúdo inferior ou igual a 2 kg, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 10 g"},{cest:"17.102.01",ncmsh:"17019100",descricao:"Açúcar cristal adicionado de aromatizante ou de corante, em embalagens de conteúdo superior a 2 kg e inferior ou igual a 5 kg"},{cest:"17.102.02",ncmsh:"170191",descricao:"Açúcar cristal adicionado de aromatizante ou de corante, em embalagens de conteúdo superior a 5 kg"},{cest:"17.103.00",ncmsh:"17011;17019900",descricao:"Outros tipos de açúcar, em embalagens de conteúdo inferior ou igual a 2 kg, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 10 g"},{cest:"17.103.01",ncmsh:"17011;17019900",descricao:"Outros tipos de açúcar, em embalagens de conteúdo superior a 2 kg e inferior ou igual a 5 kg"},{cest:"17.103.02",ncmsh:"17011;17019900",descricao:"Outros tipos de açúcar, em embalagens de conteúdo superior a 5 kg"},{cest:"17.104.00",ncmsh:"17019100",descricao:"Outros tipos de açúcar adicionado de aromatizante ou de corante, em embalagens de conteúdo inferior ou igual a 2 kg, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 10 g"},{cest:"17.104.01",ncmsh:"17019100",descricao:"Outros tipos de açúcar adicionado de aromatizante ou de corante, em embalagens de conteúdo superior a 2 kg e inferior ou igual a 5 kg"},{cest:"17.104.02",ncmsh:"17019100",descricao:"Outros tipos de açúcar adicionado de aromatizante ou de corante, em embalagens de conteúdo superior a 5 kg"},{cest:"17.105.00",ncmsh:"1702",descricao:"Outros açúcares em embalagens de conteúdo inferior ou igual a 2 kg, exceto as embalagens contendo envelopes individualizados (sachês) de conteúdo inferior ou igual a 10 g"},{cest:"17.105.01",ncmsh:"1702",descricao:"Outros açúcares, em embalagens de conteúdo superior a 2 kg e inferior ou igual a 5 kg"},{cest:"17.105.02",ncmsh:"1702",descricao:"Outros açúcares, em embalagens de conteúdo superior a 5 kg"},{cest:"17.106.00",ncmsh:"20081900",descricao:"Milho para pipoca (micro-ondas)"},{cest:"17.107.00",ncmsh:"21011",descricao:"Extratos, essências e concentrados de café e preparações à base destes extratos, essências ou concentrados ou à base de café, em embalagens de conteúdo inferior ou igual a 500 g, exceto os classificados no CEST 17.107.01"},{cest:"17.107.01",ncmsh:"21011",descricao:"Extratos, essências e concentrados de café e preparações à base destes extratos, essências ou concentrados ou à base de café, em cápsulas"},{cest:"17.108.00",ncmsh:"210120",descricao:"Extratos, essências e concentrados de chá ou de mate e preparações à base destes extratos, essências ou concentrados ou à base de chá ou de mate, em embalagens de conteúdo inferior ou igual a 500 g, exceto as bebidas prontas à base de mate ou chá e os itens classificados no CEST 17.108.01"},{cest:"17.108.01",ncmsh:"210120",descricao:"Extratos, essências e concentrados de chá ou de mate e preparações à base destes extratos, essências ou concentrados ou à base de chá ou de mate, em cápsulas"},{cest:"17.109.00",ncmsh:"19019090;21011190;21011200",descricao:"Preparações em pó para cappuccino e similares, em embalagens de conteúdo inferior ou igual a 500 g"},{cest:"17.110.00",ncmsh:"22021000",descricao:"Refrescos e outras bebidas prontas para beber, à base de chá e mate"},{cest:"17.111.00",ncmsh:"22021000",descricao:"Refrescos e outras bebidas não alcoólicas, exceto os refrigerantes e as demais bebidas nos CEST 03.007.00 e 17.110.00"},{cest:"17.112.00",ncmsh:"22029900",descricao:"Néctares de frutas e outras bebidas não alcoólicas prontas para beber, exceto isotônicos e energéticos"},{cest:"17.113.00",ncmsh:"210120;22029900",descricao:"Bebidas prontas à base de mate ou chá"},{cest:"17.114.00",ncmsh:"22029900",descricao:"Bebidas prontas à base de café"},{cest:"17.115.00",ncmsh:"22029900",descricao:"Bebidas alimentares prontas à base de soja, leite ou cacau, inclusive os produtos denominados bebidas lácteas"},{cest:"17.116.00",ncmsh:"00813;00909",descricao:"Sementes de anis (erva-doce), badiana (anis-estrelado), funcho, coentro, cominho ou alcaravia; bagas de zimbro; fruta seca, misturas de fruta seca ou de fruta de casa rija; quando acondicionadas em saquinhos, especialmente, para a preparação de infusões ou de tisanas (“chás”)"},{cest:"19.001.00",ncmsh:"32131000",descricao:"Tinta guache"},{cest:"19.002.00",ncmsh:"39162000",descricao:"Espiral - perfil para encadernação, de plástico e outros materiais classificados nas posições 3901 a 3914"},{cest:"19.003.00",ncmsh:"39161000;391690",descricao:"Outros espirais - perfil para encadernação, de plástico e outros materiais classificados nas posições 3901 a 3914"},{cest:"19.004.00",ncmsh:"39261000",descricao:"Artigos de escritório e artigos escolares de plástico e outros materiais classificados nas posições 3901 a 3914, exceto estojos"},{cest:"19.005.00",ncmsh:"42021;42029",descricao:"Maletas e pastas para documentos e de estudante, e artefatos semelhantes"},{cest:"19.005.01",ncmsh:"42021;42029",descricao:"Baús, malas e maletas para viagem"},{cest:"19.006.00",ncmsh:"39269090",descricao:"Prancheta de plástico"},{cest:"19.007.00",ncmsh:"48022090;48119090",descricao:"Bobina para fax"},{cest:"19.008.00",ncmsh:"4802549",descricao:"Papel seda"},{cest:"19.009.00",ncmsh:"48025499;48025799;48162000",descricao:"Bobina para máquina de calcular, PDV ou equipamentos similares"},{cest:"19.010.00",ncmsh:"4802569;4802579;4802589",descricao:"Cartolina escolar e papel cartão, brancos e coloridos, cortados em folhas em que um lado seja inferior ou igual a 500 mm e o outro inferior ou igual a 700 mm, quando não dobradas, e peso igual ou superior a 120g/m²; recados autoadesivos (LP note); papéis de presente; todos cortados em tamanho pronto para uso escolar e doméstico"},{cest:"19.011.00",ncmsh:"37031010;37031029;37032000;37039010;37040000;48022000",descricao:"Papel fotográfico, exceto: (i) os papéis fotográficos emulsionados com haleto de prata tipo brilhante, matte ou lustre, em rolo e, com largura igual ou superior a 102 mm e comprimento inferior ou igual a 350 m, (ii) os papéis fotográficos emulsionados com haleto de prata tipo brilhante ou fosco, em folha e com largura igual ou superior a 152 mm e comprimento inferior ou igual a 307 mm, (iii) papel de qualidade fotográfica com tecnologia “Thermo-autochrome”, que submetido a um processo de aquecimento seja capaz de formar imagens por reação química e combinação das camadas cyan, magenta e amarela"},{cest:"19.012.00",ncmsh:"48101390",descricao:"Papel almaço"},{cest:"19.013.00",ncmsh:"48169010",descricao:"Papel hectográfico"},{cest:"19.014.00",ncmsh:"39202019",descricao:"Papel celofane e tipo celofane"},{cest:"19.015.00",ncmsh:"48062000",descricao:"Papel impermeável"},{cest:"19.016.00",ncmsh:"48081000",descricao:"Papel crepon"},{cest:"19.017.00",ncmsh:"48102290",descricao:"Papel fantasia"},{cest:"19.018.00",ncmsh:"4809;4816",descricao:"Papel-carbono, papel autocopiativo (exceto os vendidos em rolos de diâmetro igual ou superior a 60 cm e os vendidos em folhas de formato igual ou superior a 60 cm de altura e igual ou superior a 90 cm de largura) e outros papéis para cópia ou duplicação (incluídos os papéis para estênceis ou para chapas ofsete), estênceis completos e chapas ofsete, de papel, em folhas, mesmo acondicionados em caixas"},{cest:"19.019.00",ncmsh:"4817",descricao:"Envelopes, aerogramas, bilhetes-postais não ilustrados e cartões para correspondência, de papel ou cartão, caixas, sacos e semelhantes, de papel ou cartão, contendo um sortido de artigos para correspondência"},{cest:"19.020.00",ncmsh:"48201000",descricao:"Livros de registro e de contabilidade, blocos de notas, de encomendas, de recibos, de apontamentos, de papel para cartas, agendas e artigos semelhantes"},{cest:"19.021.00",ncmsh:"48202000",descricao:"Cadernos"},{cest:"19.022.00",ncmsh:"48203000",descricao:"Classificadores, capas para encadernação (exceto as capas para livros) e capas de processos"},{cest:"19.023.00",ncmsh:"48204000",descricao:"Formulários em blocos tipo “manifold”, mesmo com folhas intercaladas de papel-carbono"},{cest:"19.024.00",ncmsh:"48205000",descricao:"Álbuns para amostras ou para coleções"},{cest:"19.025.00",ncmsh:"48209000",descricao:"Pastas para documentos, outros artigos escolares, de escritório ou de papelaria, de papel ou cartão e capas para livros, de papel ou cartão"},{cest:"19.026.00",ncmsh:"49090000",descricao:"Cartões postais impressos ou ilustrados, cartões impressos com votos ou mensagens pessoais, mesmo ilustrados, com ou sem envelopes, guarnições ou aplicações (conhecidos como cartões de expressão social - de época/sentimento)"},{cest:"19.027.00",ncmsh:"96081000",descricao:"Canetas esferográficas"},{cest:"19.028.00",ncmsh:"96082000",descricao:"Canetas e marcadores, com ponta de feltro ou com outras pontas porosas"},{cest:"19.029.00",ncmsh:"96083000",descricao:"Canetas tinteiro"},{cest:"19.030.00",ncmsh:"9608",descricao:"Outras canetas; sortidos de canetas"},{cest:"19.031.00",ncmsh:"480256",descricao:"Papel cortado “cutsize” (tipo A3, A4, ofício I e II, carta e outros)"},{cest:"19.032.00",ncmsh:"52105990",descricao:"Papel camurça"},{cest:"19.033.00",ncmsh:"76071190",descricao:"Papel laminado e papel espelho"},{cest:"20.001.00",ncmsh:"12119090",descricao:"Henna (embalagens de conteúdo inferior ou igual a 200 g)"},{cest:"20.001.01",ncmsh:"12119090",descricao:"Henna (embalagens de conteúdo superior a 200 g)"},{cest:"20.002.00",ncmsh:"27121000",descricao:"Vaselina"},{cest:"20.003.00",ncmsh:"28142000",descricao:"Amoníaco em solução aquosa (amônia)"},{cest:"20.004.00",ncmsh:"28470000",descricao:"Peróxido de hidrogênio, em embalagens de conteúdo inferior ou igual a 500 ml"},{cest:"20.005.00",ncmsh:"30067000",descricao:"Lubrificação íntima"},{cest:"20.006.00",ncmsh:"3301",descricao:"Óleos essenciais (desterpenados ou não), incluídos os chamados “concretos” ou “absolutos”; resinoides; oleorresinas de extração; soluções concentradas de óleos essenciais em gorduras, em óleos fixos, em ceras ou em matérias análogas, obtidas por tratamento de flores através de substâncias gordas ou por maceração; subprodutos terpênicos residuais da desterpenação dos óleos essenciais; águas destiladas aromáticas e soluções aquosas de óleos essenciais, em embalagens de conteúdo inferior ou igual a 500 ml"},{cest:"20.007.00",ncmsh:"33030010",descricao:"Perfumes (extratos)"},{cest:"20.008.00",ncmsh:"33030020",descricao:"Águas-de-colônia"},{cest:"20.009.00",ncmsh:"33041000",descricao:"Produtos de maquilagem para os lábios"},{cest:"20.010.00",ncmsh:"33042010",descricao:"Sombra, delineador, lápis para sobrancelhas e rímel"},{cest:"20.011.00",ncmsh:"33042090",descricao:"Outros produtos de maquilagem para os olhos"},{cest:"20.012.00",ncmsh:"33043000",descricao:"Preparações para manicuros e pedicuros, incluindo removedores de esmalte à base de acetona"},{cest:"20.013.00",ncmsh:"33049100",descricao:"Pós, incluídos os compactos"},{cest:"20.014.00",ncmsh:"33049910",descricao:"Cremes de beleza, cremes nutritivos e loções tônicas"},{cest:"20.015.00",ncmsh:"33049990",descricao:"Outros produtos de beleza ou de maquilagem preparados e preparações para conservação ou cuidados da pele, exceto as preparações solares e antissolares"},{cest:"20.016.00",ncmsh:"33049990",descricao:"Preparações solares e antissolares"},{cest:"20.017.00",ncmsh:"33051000",descricao:"Xampus para o cabelo"},{cest:"20.018.00",ncmsh:"33052000",descricao:"Preparações para ondulação ou alisamento, permanentes, dos cabelos"},{cest:"20.019.00",ncmsh:"33053000",descricao:"Laquês para o cabelo"},{cest:"20.020.00",ncmsh:"33059000",descricao:"Outras preparações capilares, incluindo máscaras e finalizadores"},{cest:"20.021.00",ncmsh:"33059000",descricao:"Condicionadores"},{cest:"20.022.00",ncmsh:"33059000",descricao:"Tintura para o cabelo"},{cest:"20.023.00",ncmsh:"33061000",descricao:"Dentifrícios"},{cest:"20.024.00",ncmsh:"33062000",descricao:"Fios utilizados para limpar os espaços interdentais (fios dentais)"},{cest:"20.025.00",ncmsh:"33069000",descricao:"Outras preparações para higiene bucal ou dentária"},{cest:"20.026.00",ncmsh:"33071000",descricao:"Preparações para barbear (antes, durante ou após)"},{cest:"20.027.00",ncmsh:"33072010",descricao:"Desodorantes (desodorizantes) corporais líquidos, exceto os classificados no CEST 20.027.01"},{cest:"20.027.01",ncmsh:"33072010",descricao:"Loções e óleos desodorantes hidratantes líquidos"},{cest:"20.028.00",ncmsh:"33072010",descricao:"Antiperspirantes líquidos"},{cest:"20.029.00",ncmsh:"33072090",descricao:"Outros desodorantes (desodorizantes) corporais, exceto os classificados no CEST 20.029.01"},{cest:"20.029.01",ncmsh:"33072090",descricao:"Outras loções e óleos desodorantes hidratantes"},{cest:"20.030.00",ncmsh:"33072090",descricao:"Outros antiperspirantes"},{cest:"20.031.00",ncmsh:"33073000",descricao:"Sais perfumados e outras preparações para banhos"},{cest:"20.032.00",ncmsh:"33079000",descricao:"Outros produtos de perfumaria preparados"},{cest:"20.032.01",ncmsh:"33079000",descricao:"Outros produtos de toucador preparados"},{cest:"20.033.00",ncmsh:"33079000",descricao:"Soluções para lentes de contato ou para olhos artificiais"},{cest:"20.034.00",ncmsh:"34011190",descricao:"Sabões de toucador em barras, pedaços ou figuras moldados, exceto CEST 20.034.01"},{cest:"20.034.01",ncmsh:"34011190",descricao:"Lenços umedecidos"},{cest:"20.035.00",ncmsh:"34011900",descricao:"Outros sabões, produtos e preparações, em barras, pedaços ou figuras moldados"},{cest:"20.036.00",ncmsh:"34012010",descricao:"Sabões de toucador sob outras formas"},{cest:"20.037.00",ncmsh:"34013000",descricao:"Produtos e preparações orgânicos tensoativos para lavagem da pele, na forma de líquido ou de creme, acondicionados para venda a retalho, mesmo contendo sabão"},{cest:"20.038.00",ncmsh:"40149010",descricao:"Bolsa para gelo ou para água quente"},{cest:"20.039.00",ncmsh:"40149090",descricao:"Chupetas e bicos para mamadeiras e para chupetas, de borracha"},{cest:"20.040.00",ncmsh:"39249000;39269040;9269090",descricao:"Chupetas e bicos para mamadeiras e para chupetas, de silicone"},{cest:"20.041.00",ncmsh:"42021",descricao:"Malas e maletas de toucador"},{cest:"20.042.00",ncmsh:"48181000",descricao:"Papel higiênico - folha simples"},{cest:"20.043.00",ncmsh:"48181000",descricao:"Papel higiênico - folha dupla e tripla"},{cest:"20.044.00",ncmsh:"48182000",descricao:"Lenços (incluídos os de maquilagem) e toalhas de mão"},{cest:"20.045.00",ncmsh:"48182000",descricao:"Papel toalha de uso institucional do tipo comercializado em rolos igual ou superior a 80 metros e do tipo comercializado em folhas intercaladas"},{cest:"20.046.00",ncmsh:"48183000",descricao:"Toalhas e guardanapos de mesa"},{cest:"20.047.00",ncmsh:"48189090",descricao:"Toalhas de cozinha (papel toalha de uso doméstico)"},{cest:"20.048.00",ncmsh:"96190000",descricao:"Fraldas, exceto os descritos no CEST 20.048.01"},{cest:"20.048.01",ncmsh:"96190000",descricao:"Fraldas de fibras têxteis"},{cest:"20.049.00",ncmsh:"96190000",descricao:"Tampões higiênicos"},{cest:"20.050.00",ncmsh:"96190000",descricao:"Absorventes higiênicos externos"},{cest:"20.051.00",ncmsh:"56012190",descricao:"Hastes flexíveis (uso não medicinal)"},{cest:"20.052.00",ncmsh:"56039290",descricao:"Sutiã descartável, assemelhados e papel para depilação"},{cest:"20.053.00",ncmsh:"82032090",descricao:"Pinças para sobrancelhas"},{cest:"20.054.00",ncmsh:"82141000",descricao:"Espátulas (artigos de cutelaria)"},{cest:"20.055.00",ncmsh:"82142000",descricao:"Utensílios e sortidos de utensílios de manicuros ou de pedicuros (incluídas as limas para unhas)"},{cest:"20.056.00",ncmsh:"90251110;90251990",descricao:"Termômetros, inclusive o digital"},{cest:"20.057.00",ncmsh:"96032",descricao:"Escovas e pincéis de barba, escovas para cabelos, para cílios ou para unhas e outras escovas de toucador de pessoas, incluídas as que sejam partes de aparelhos, exceto escovas de dentes"},{cest:"20.058.00",ncmsh:"96032100",descricao:"Escovas de dentes, incluídas as escovas para dentaduras"},{cest:"20.059.00",ncmsh:"96033000",descricao:"Pincéis para aplicação de produtos cosméticos"},{cest:"20.060.00",ncmsh:"96050000",descricao:"Sortidos de viagem, para toucador de pessoas para costura ou para limpeza de calçado ou de roupas"},{cest:"20.061.00",ncmsh:"9615",descricao:"Pentes, travessas para cabelo e artigos semelhantes; grampos (alfinetes) para cabelo; pinças (pinceguiches), onduladores, bobes (rolos) e artefatos semelhantes para penteados, e suas partes, exceto os classificados na posição 8516 e suas partes"},{cest:"20.062.00",ncmsh:"96162000",descricao:"Borlas ou esponjas para pós ou para aplicação de outros cosméticos ou de produtos de toucador"},{cest:"20.063.00",ncmsh:"39233000;39249000;39241000;40149090;70102000",descricao:"Mamadeiras"},{cest:"20.064.00",ncmsh:"82121020;82122010",descricao:"Aparelhos e lâminas de barbear"},{cest:"21.001.00",ncmsh:"73211100;73218100;73219000",descricao:"Fogões de cozinha de uso doméstico e suas partes"},{cest:"21.002.00",ncmsh:"84181000",descricao:"Combinações de refrigeradores e congeladores (“freezers”), munidos de portas exteriores separadas"},{cest:"21.003.00",ncmsh:"84182100",descricao:"Refrigeradores do tipo doméstico, de compressão"},{cest:"21.004.00",ncmsh:"84182900",descricao:"Outros refrigeradores do tipo doméstico"},{cest:"21.005.00",ncmsh:"84183000",descricao:"Congeladores (“freezers”) horizontais tipo arca, de capacidade não superior a 800 litros"},{cest:"21.006.00",ncmsh:"84184000",descricao:"Congeladores (“freezers”) verticais tipo armário, de capacidade não superior a 900 litros"},{cest:"21.007.00",ncmsh:"841850",descricao:"Outros móveis (arcas, armários, vitrines, balcões e móveis semelhantes) para a conservação e exposição de produtos, que incorporem um equipamento para a produção de frio"},{cest:"21.008.00",ncmsh:"8418699",descricao:"Mini adega e similares"},{cest:"21.009.00",ncmsh:"84186999",descricao:"Máquinas para produção de gelo"},{cest:"21.010.00",ncmsh:"84189900",descricao:"Partes dos refrigeradores, congeladores, mini adegas e similares, máquinas para produção de gelo e bebedouros descritos nos CEST 21.002.00, 21.003.00, 21.004.00, 21.005.00, 21.006.00, 21.007.00, 21.008.00, 21.009.00 e 21.013.00"},{cest:"21.011.00",ncmsh:"842112",descricao:"Secadoras de roupa de uso doméstico"},{cest:"21.012.00",ncmsh:"84211990",descricao:"Outras secadoras de roupas e centrífugas de uso doméstico"},{cest:"21.013.00",ncmsh:"84186931",descricao:"Bebedouros refrigerados para água"},{cest:"21.014.00",ncmsh:"84219",descricao:"Partes das secadoras de roupas e centrífugas de uso doméstico e dos aparelhos para filtrar ou depurar água, descritos nos CEST 21.011.00 e 21.012.00 e 21.098.00"},{cest:"21.015.00",ncmsh:"84221100;84229010",descricao:"Máquinas de lavar louça do tipo doméstico e suas partes"},{cest:"21.016.00",ncmsh:"844331",descricao:"Máquinas que executem pelo menos duas das seguintes funções: impressão, cópia ou transmissão de telecópia (fax), capazes de ser conectadas a uma máquina automática para processamento de dados ou a uma rede"},{cest:"21.017.00",ncmsh:"844332",descricao:"Outras impressoras, máquinas copiadoras e telecopiadores (fax), mesmo combinados entre si, capazes de ser conectados a uma máquina automática para processamento de dados ou a uma rede"},{cest:"21.018.00",ncmsh:"84439",descricao:"Partes e acessórios de máquinas e aparelhos de impressão por meio de blocos, cilindros e outros elementos de impressão da posição 8442; e de outras impressoras, máquinas copiadoras e telecopiadores (fax), mesmo combinados entre si"},{cest:"21.019.00",ncmsh:"84501100",descricao:"Máquinas de lavar roupa, mesmo com dispositivos de secagem, de uso doméstico, de capacidade não superior a 10 kg, em peso de roupa seca, inteiramente automáticas"},{cest:"21.020.00",ncmsh:"84501200",descricao:"Outras máquinas de lavar roupa, mesmo com dispositivos de secagem, de uso doméstico, com secador centrífugo incorporado"},{cest:"21.021.00",ncmsh:"84501900",descricao:"Outras máquinas de lavar roupa, mesmo com dispositivos de secagem, de uso doméstico"},{cest:"21.022.00",ncmsh:"845020",descricao:"Máquinas de lavar roupa, mesmo com dispositivos de secagem, de uso doméstico, de capacidade superior a 10 kg, em peso de roupa seca"},{cest:"21.023.00",ncmsh:"845090",descricao:"Partes de máquinas de lavar roupa, mesmo com dispositivos de secagem, de uso doméstico"},{cest:"21.024.00",ncmsh:"84512100",descricao:"Máquinas de secar de uso doméstico de capacidade não superior a 10 kg, em peso de roupa seca"},{cest:"21.025.00",ncmsh:"84512990",descricao:"Outras máquinas de secar de uso doméstico"},{cest:"21.026.00",ncmsh:"845190",descricao:"Partes de máquinas de secar de uso doméstico"},{cest:"21.027.00",ncmsh:"84521000",descricao:"Máquinas de costura de uso doméstico"},{cest:"21.028.00",ncmsh:"847130",descricao:"Máquinas automáticas para processamento de dados, portáteis, de peso não superior a 10 kg, contendo pelo menos uma unidade central de processamento, um teclado e uma tela"},{cest:"21.029.00",ncmsh:"84714",descricao:"Outras máquinas automáticas para processamento de dados"},{cest:"21.030.00",ncmsh:"84715010",descricao:"Unidades de processamento, de pequena capacidade, exceto as das subposições 8471.41 ou 8471.49, podendo conter, no mesmo corpo, um ou dois dos seguintes tipos de unidades: unidade de memória, unidade de entrada e unidade de saída; baseadas em microprocessadores, com capacidade de instalação, dentro do mesmo gabinete, de unidades de memória da subposição 8471.70, podendo conter múltiplos conectores de expansão (“slots”), e valor FOB inferior ou igual a US$ 12.500,00, por unidade"},{cest:"21.031.00",ncmsh:"8471605",descricao:"Unidades de entrada, exceto as classificadas no código 8471.60.54"},{cest:"21.032.00",ncmsh:"84716090",descricao:"Outras unidades de entrada ou de saída, podendo conter, no mesmo corpo, unidades de memória"},{cest:"21.033.00",ncmsh:"847170",descricao:"Unidades de memória"},{cest:"21.034.00",ncmsh:"847190",descricao:"Outras máquinas automáticas para processamento de dados e suas unidades; leitores magnéticos ou ópticos, máquinas para registrar dados em suporte sob forma codificada, e máquinas para processamento desses dados, não especificadas nem compreendidas em outras posições"},{cest:"21.035.00",ncmsh:"847330",descricao:"Partes e acessórios das máquinas da posição 84.71"},{cest:"21.036.00",ncmsh:"85043",descricao:"Outros transformadores, exceto os classificados nos códigos 8504.33.00 e 8504.34.00"},{cest:"21.037.00",ncmsh:"85044010",descricao:"Carregadores de acumuladores"},{cest:"21.038.00",ncmsh:"85044040",descricao:"Equipamentos de alimentação ininterrupta de energia (UPS ou “no break”)"},{cest:"21.039.00",ncmsh:"85078000",descricao:"Outros acumuladores"},{cest:"21.040.00",ncmsh:"8508",descricao:"Aspiradores"},{cest:"21.041.00",ncmsh:"8509",descricao:"Aparelhos eletromecânicos de motor elétrico incorporado, de uso doméstico e suas partes"},{cest:"21.042.00",ncmsh:"85098010",descricao:"Enceradeiras"},{cest:"21.043.00",ncmsh:"85161000",descricao:"Chaleiras elétricas"},{cest:"21.044.00",ncmsh:"85164000",descricao:"Ferros elétricos de passar"},{cest:"21.045.00",ncmsh:"85165000",descricao:"Fornos de micro-ondas"},{cest:"21.046.00",ncmsh:"85166000",descricao:"Outros fornos; fogareiros (incluídas as chapas de cocção), grelhas e assadeiras, exceto os portáteis"},{cest:"21.047.00",ncmsh:"85166000",descricao:"Outros fornos; fogareiros (incluídas as chapas de cocção), grelhas e assadeiras, portáteis"},{cest:"21.048.00",ncmsh:"85167100",descricao:"Outros aparelhos eletrotérmicos de uso doméstico - Cafeteiras"},{cest:"21.049.00",ncmsh:"85167200",descricao:"Outros aparelhos eletrotérmicos de uso doméstico - Torradeiras"},{cest:"21.050.00",ncmsh:"851679",descricao:"Outros aparelhos eletrotérmicos de uso doméstico"},{cest:"21.051.00",ncmsh:"85169000",descricao:"Partes das chaleiras, ferros, fornos e outros aparelhos eletrotérmicos da posição 85.16, descritos nos CEST 21.043.00, 21.044.00, 21.045.00, 21.046.00, 21.047.00, 21.048.00, 21.049.00 e 21.050.00"},{cest:"21.052.00",ncmsh:"85171100",descricao:"Aparelhos telefônicos por fio com unidade auscultador - microfone sem fio"},{cest:"21.053.00",ncmsh:"8517123",descricao:"Telefones para redes celulares, exceto por satélite, os de uso automotivo e os classificados no CEST 21.053.01"},{cest:"21.053.01",ncmsh:"85171231",descricao:"Telefones para redes celulares portáteis, exceto por satélite"},{cest:"21.054.00",ncmsh:"851712",descricao:"Outros telefones para outras redes sem fio, exceto para redes de celulares e os de uso automotivo"},{cest:"21.055.00",ncmsh:"85171891",descricao:"Outros aparelhos telefônicos não combinados com outros aparelhos"},{cest:"21.055.01",ncmsh:"85171899",descricao:"Outros aparelhos telefônicos"},{cest:"21.056.00",ncmsh:"85176259",descricao:"Outros aparelhos para transmissão ou recepção de voz, imagem ou outros dados em rede com fio."},{cest:"21.056.01",ncmsh:"85176254;85176255",descricao:"Distribuidores de conexões para rede (“hubs”) e moduladores/demoduladores (“modens”)."},{cest:"21.057.00",ncmsh:"8518",descricao:"Microfones e seus suportes; alto-falantes, mesmo montados nos seus receptáculos, fones de ouvido (auscultadores), mesmo combinados com microfone e conjuntos ou sortidos constituídos por um microfone e um ou mais alto-falantes, amplificadores elétricos de audiofrequência, aparelhos elétricos de amplificação de som; suas partes e acessórios; exceto os de uso automotivo"},{cest:"21.058.00",ncmsh:"8519;8522;85271",descricao:"Aparelhos de radiodifusão suscetíveis de funcionarem sem fonte externa de energia. Aparelhos de gravação de som; aparelhos de reprodução de som; aparelhos de gravação e de reprodução de som; partes e acessórios; exceto os de uso automotivo"},{cest:"21.059.00",ncmsh:"85198190",descricao:"Outros aparelhos de gravação de som; aparelhos de reprodução de som; aparelhos de gravação e de reprodução de som; partes e acessórios; exceto os de uso automotivo"},{cest:"21.060.00",ncmsh:"85219010",descricao:"Gravador-reprodutor e editor de imagem e som, em discos, por meio magnético, óptico ou optomagnético, exceto de uso automotivo"},{cest:"21.061.00",ncmsh:"85219090",descricao:"Outros aparelhos videofônicos de gravação ou reprodução, mesmo incorporando um receptor de sinais videofônicos, exceto os de uso automotivo"},{cest:"21.062.00",ncmsh:"85235110",descricao:'Cartões de memória ("memorycards")'},{cest:"21.063.00",ncmsh:"85235200",descricao:'Cartões inteligentes ("smartcards"), exceto o item classificado no CEST 21.064.00'},{cest:"21.064.00",ncmsh:"85235200",descricao:'Cartões inteligentes ("sim cards")'},{cest:"21.065.00",ncmsh:"8525802",descricao:"Câmeras fotográficas digitais e câmeras de vídeo e suas partes"},{cest:"21.066.00",ncmsh:"85279",descricao:"Outros aparelhos receptores para radiodifusão, mesmo combinados num invólucro, com um aparelho de gravação ou de reprodução de som, ou com um relógio, inclusive caixa acústica para Home Theaters classificados na posição 8518"},{cest:"21.067.00",ncmsh:"85284929;85285920;852869",descricao:"Monitores e projetores que não incorporem aparelhos receptores de televisão, policromáticos"},{cest:"21.067.01",ncmsh:"85286200",descricao:"Projetores capazes de serem conectados diretamente a uma máquina automática para processamento de dados da posição 84.71 e concebidos para serem utilizados com esta máquina"},{cest:"21.068.00",ncmsh:"85285220",descricao:"Outros monitores capazes de serem conectados diretamente a uma máquina automática para processamento de dados da posição 84.71 e concebidos para serem utilizados com esta máquina, policromáticos"},{cest:"21.069.00",ncmsh:"85287",descricao:"Aparelhos receptores de televisão, mesmo que incorporem um aparelho receptor de radiodifusão ou um aparelho de gravação ou reprodução de som ou de imagens - Televisores de CRT (tubo de raios catódicos)"},{cest:"21.070.00",ncmsh:"85287",descricao:"Aparelhos receptores de televisão, mesmo que incorporem um aparelho receptor de radiodifusão ou um aparelho de gravação ou reprodução de som ou de imagens - Televisores de LCD (Display de Cristal Líquido)"},{cest:"21.071.00",ncmsh:"85287",descricao:"Aparelhos receptores de televisão, mesmo que incorporem um aparelho receptor de radiodifusão ou um aparelho de gravação ou reprodução de som ou de imagens - Televisores de Plasma"},{cest:"21.072.00",ncmsh:"85287",descricao:"Outros aparelhos receptores de televisão não dotados de monitores ou display de vídeo"},{cest:"21.073.00",ncmsh:"85287",descricao:"Outros aparelhos receptores de televisão não relacionados nos CEST 21.069.00, 21.070.00, 21.071.00 e 21.072.00"},{cest:"21.074.00",ncmsh:"900659",descricao:"Câmeras fotográficas dos tipos utilizadas para preparação de clichês ou cilindros de impressão"},{cest:"21.075.00",ncmsh:"90064000",descricao:"Câmeras fotográficas para filmes de revelação e copiagem instantâneas"},{cest:"21.076.00",ncmsh:"90189050",descricao:"Aparelhos de diatermia"},{cest:"21.077.00",ncmsh:"90191000",descricao:"Aparelhos de massagem"},{cest:"21.078.00",ncmsh:"90328911",descricao:"Reguladores de voltagem eletrônicos"},{cest:"21.079.00",ncmsh:"95045000",descricao:"Consoles e máquinas de jogos de vídeo, exceto os classificados na subposição 9504.30"},{cest:"21.080.00",ncmsh:"8517621",descricao:"Multiplexadores e concentradores"},{cest:"21.081.00",ncmsh:"85176222",descricao:"Centrais automáticas privadas, de capacidade inferior ou igual a 25 ramais"},{cest:"21.082.00",ncmsh:"85176239",descricao:"Outros aparelhos para comutação"},{cest:"21.083.00",ncmsh:"8517624",descricao:"Roteadores digitais, em redes com ou sem fio"},{cest:"21.084.00",ncmsh:"85176262",descricao:"Aparelhos emissores com receptor incorporado de sistema troncalizado (“trunking”), de tecnologia celular"},{cest:"21.085.00",ncmsh:"8517629",descricao:"Outros aparelhos de recepção, conversão e transmissão ou regeneração de voz, imagens ou outros dados, incluindo os aparelhos de comutação e roteamento"},{cest:"21.086.00",ncmsh:"85177021",descricao:"Antenas próprias para telefones celulares portáteis, exceto as telescópicas"},{cest:"21.087.00",ncmsh:"821490;8510",descricao:"Aparelhos ou máquinas de barbear, máquinas de cortar o cabelo ou de tosquiar e aparelhos de depilar, e suas partes"},{cest:"21.088.00",ncmsh:"84145",descricao:"Ventiladores, exceto os de uso agrícola"},{cest:"21.089.00",ncmsh:"84145990",descricao:"Ventiladores de uso agrícola"},{cest:"21.090.00",ncmsh:"84146000",descricao:"Coifas com dimensão horizontal máxima não superior a 120 cm"},{cest:"21.091.00",ncmsh:"84149020",descricao:"Partes de ventiladores ou coifas aspirantes"},{cest:"21.092.00",ncmsh:"841510;84158",descricao:"Máquinas e aparelhos de ar condicionado contendo um ventilador motorizado e dispositivos próprios para modificar a temperatura e a umidade, incluídos as máquinas e aparelhos em que a umidade não seja regulável separadamente"},{cest:"21.093.00",ncmsh:"84151011",descricao:"Aparelhos de ar-condicionado tipo Split System (sistema com elementos separados) com unidade externa e interna"},{cest:"21.094.00",ncmsh:"84151019",descricao:"Aparelhos de ar-condicionado com capacidade inferior ou igual a 30.000 frigorias/hora"},{cest:"21.095.00",ncmsh:"84151090",descricao:"Aparelhos de ar-condicionado com capacidade acima de 30.000 frigorias/hora"},{cest:"21.096.00",ncmsh:"84159010",descricao:"Unidades evaporadoras (internas) de aparelho de ar-condicionado do tipo Split System (sistema com elementos separados), com capacidade inferior ou igual a 30.000 frigorias/hora"},{cest:"21.097.00",ncmsh:"84159020",descricao:"Unidades condensadoras (externas) de aparelho de ar-condicionado do tipo Split System (sistema com elementos separados), com capacidade inferior ou igual a 30.000 frigorias/hora"},{cest:"21.098.00",ncmsh:"84212100",descricao:"Aparelhos elétricos para filtrar ou depurar água (purificadores de água refrigerados), exceto os itens classificados no CEST 21.098.01"},{cest:"21.098.01",ncmsh:"84212100",descricao:"Outros aparelhos elétricos para filtrar ou depurar água"},{cest:"21.099.00",ncmsh:"84243010;84243090;84249090",descricao:"Lavadora de alta pressão e suas partes"},{cest:"21.100.00",ncmsh:"84672100",descricao:"Furadeiras elétricas"},{cest:"21.101.00",ncmsh:"85162",descricao:"Aparelhos elétricos para aquecimento de ambientes"},{cest:"21.102.00",ncmsh:"85163100",descricao:"Secadores de cabelo"},{cest:"21.103.00",ncmsh:"85163200",descricao:"Outros aparelhos para arranjos do cabelo"},{cest:"21.104.00",ncmsh:"8527",descricao:"Aparelhos receptores para radiodifusão, mesmo combinados num mesmo invólucro, com um aparelho de gravação ou de reprodução de som, ou com um relógio, exceto os classificados na posição 8527.1, 8527.2 e 8527.9 que sejam de uso automotivo"},{cest:"21.105.00",ncmsh:"84796000",descricao:"Climatizadores de ar"},{cest:"21.106.00",ncmsh:"84159090",descricao:"Outras partes para máquinas e aparelhos de ar-condicionado que contenham um ventilador motorizado e dispositivos próprios para modificar a temperatura e a umidade, incluindo as máquinas e aparelhos em que a umidade não seja regulável separadamente"},{cest:"21.107.00",ncmsh:"85258019",descricao:"Câmeras de televisão e suas partes"},{cest:"21.108.00",ncmsh:"84231000",descricao:"Balanças de uso doméstico"},{cest:"21.109.00",ncmsh:"8540",descricao:"Tubos e válvulas, eletrônicos, de cátodo quente, cátodo frio ou fotocátodo (por exemplo, tubos e válvulas, de vácuo, de vapor ou de gás, ampolas retificadoras de vapor de mercúrio, tubos catódicos, tubos e válvulas para câmeras de televisão)"},{cest:"21.110.00",ncmsh:"8517",descricao:"Aparelhos elétricos para telefonia; outros aparelhos para transmissão ou recepção de voz, imagens ou outros dados, incluídos os aparelhos para comunicação em redes por fio ou redes sem fio (tal como uma rede local (LAN) ou uma rede de área estendida (WAN), incluídas suas partes, exceto os de uso automotivo e os classificados nos códigos 8517.62.51, 8517.62.52 e 8517.62.53"},{cest:"21.111.00",ncmsh:"8517",descricao:"Interfones, seus acessórios, tomadas e “plugs”"},{cest:"21.112.00",ncmsh:"8529",descricao:"Partes reconhecíveis como exclusiva ou principalmente destinadas aos aparelhos das posições 8525 a 8528; exceto as de uso automotivo"},{cest:"21.113.00",ncmsh:"8531",descricao:"Aparelhos elétricos de sinalização acústica ou visual (por exemplo, campainhas, sirenes, quadros indicadores, aparelhos de alarme para proteção contra roubo ou incêndio); exceto os de uso automotivo e os classificados nas posições 8531.10 e 8531.80.00."},{cest:"21.114.00",ncmsh:"853110",descricao:"Aparelhos elétricos de alarme, para proteção contra roubo ou incêndio e aparelhos semelhantes, exceto os de uso automotivo"},{cest:"21.115.00",ncmsh:"85318000",descricao:"Outros aparelhos de sinalização acústica ou visual, exceto os de uso automotivo"},{cest:"21.116.00",ncmsh:"853400",descricao:"Circuitos impressos, exceto os de uso automotivo"},{cest:"21.117.00",ncmsh:"85414011;85414021;85414022",descricao:"Diodos emissores de luz (LED), exceto diodos “laser”"},{cest:"21.118.00",ncmsh:"85437092",descricao:"Eletrificadores de cercas eletrônicos"},{cest:"21.119.00",ncmsh:"90303",descricao:"Aparelhos e instrumentos para medida ou controle da tensão, intensidade, resistência ou da potência, sem dispositivo registrador; exceto os de uso automotivo"},{cest:"21.120.00",ncmsh:"903089",descricao:"Analisadores lógicos de circuitos digitais, de espectro de frequência, frequencímetros, fasímetros, e outros instrumentos e aparelhos de controle de grandezas elétricas e detecção"},{cest:"21.121.00",ncmsh:"910700",descricao:"Interruptores horários e outros aparelhos que permitam acionar um mecanismo em tempo determinado, munidos de maquinismo de aparelhos de relojoaria ou de motor síncrono"},{cest:"21.122.00",ncmsh:"9405",descricao:"Aparelhos de iluminação (incluídos os projetores) e suas partes, não especificados nem compreendidos em outras posições; anúncios, cartazes ou tabuletas e placas indicadoras luminosos, e artigos semelhantes, contendo uma fonte luminosa fixa permanente, e suas partes não especificadas nem compreendidas em outras posições, com exceção dos itens classificados nos CEST 21.123.00, 21.124.00 e 21.125.00"},{cest:"21.123.00",ncmsh:"940510;94059",descricao:"Lustres e outros aparelhos elétricos de iluminação, próprios para serem suspensos ou fixados no teto ou na parede, exceto os dos tipos utilizados na iluminação pública; e suas partes"},{cest:"21.124.00",ncmsh:"94052000;94059",descricao:"Abajures de cabeceiras, de escritório e lampadários de interior, elétricos e suas partes"},{cest:"21.125.00",ncmsh:"940540;94059",descricao:"Outros aparelhos elétricos de iluminação e suas partes"},{cest:"21.126.00",ncmsh:"85423190",descricao:"Microprocessador"},{cest:"22.001.00",ncmsh:"2309",descricao:"Ração tipo “pet” para animais domésticos"},{cest:"23.001.00",ncmsh:"210500",descricao:"Sorvetes de qualquer espécie"},{cest:"23.002.00",ncmsh:"1806;1901;2106",descricao:"Preparados para fabricação de sorvete em máquina"},{cest:"24.001.00",ncmsh:"3208;3209;321000",descricao:"Tintas, vernizes"},{cest:"24.002.00",ncmsh:"2821;32041700;3206",descricao:"Xadrez e pós assemelhados, em embalagem de conteúdo inferior ou igual a 1 kg, exceto pigmentos à base de dióxido de titânio classificados no código 3206.11.19"},{cest:"24.002.01",ncmsh:"2821;32041700;3206",descricao:"Xadrez e pós assemelhados, em embalagem de conteúdo superior a 1 kg, exceto pigmentos à base de dióxido de titânio classificados no código NCM 3206.11.19"},{cest:"24.003.00",ncmsh:"3204;32050000;3206;3212",descricao:"Corantes para aplicação em bases, tintas e vernizes"},{cest:"25.001.00",ncmsh:"87021000",descricao:"Veículos automóveis para transporte de 10 pessoas ou mais, incluindo o motorista, unicamente com motor de pistão, de ignição por compressão (diesel ou semidiesel), com volume interno de habitáculo, destinado a passageiros e motorista, superior a 6 m³, mas inferior a 9 m³"},{cest:"25.002.00",ncmsh:"87024090",descricao:"Veículos automóveis para transporte de 10 pessoas ou mais, incluindo o motorista, unicamente com motor elétrico para propulsão, com volume interno de habitáculo, destinado a passageiros e motorista, superior a 6 m³, mas inferior a 9 m³"},{cest:"25.003.00",ncmsh:"87032100",descricao:"Automóveis unicamente com motor de pistão alternativo de ignição por centelha (faísca*), de cilindrada não superior a 1000 cm³"},{cest:"25.004.00",ncmsh:"87032210",descricao:"Automóveis unicamente com motor de pistão alternativo de ignição por centelha (faísca*), de cilindrada superior a 1000 cm³, mas não superior a 1500 cm³, com capacidade de transporte de pessoas sentadas inferior ou igual a 6, incluído o condutor, exceto carro celular"},{cest:"25.005.00",ncmsh:"87032290",descricao:"Outros automóveis unicamente com motor de pistão alternativo de ignição por centelha (faísca*), de cilindrada superior a 1000 cm³, mas não superior a 1500 cm³, exceto carro celular"},{cest:"25.006.00",ncmsh:"87032310",descricao:"Automóveis unicamente com motor de pistão alternativo de ignição por centelha (faísca*), de cilindrada superior a 1500 cm³, mas não superior a 3000 cm³, com capacidade de transporte de pessoas sentadas inferior ou igual a 6, incluído o condutor, exceto carro celular, carro funerário e automóveis de corrida"},{cest:"25.007.00",ncmsh:"87032390",descricao:"Outros automóveis unicamente com motor de pistão alternativo de ignição por centelha (faísca*), de cilindrada superior a 1500 cm³, mas não superior a 3000 cm³, exceto carro celular, carro funerário e automóveis de corrida"},{cest:"25.008.00",ncmsh:"87032410",descricao:"Automóveis unicamente com motor de pistão alternativo de ignição por centelha (faísca*), de cilindrada superior a 3000 cm³, com capacidade de transporte de pessoas sentadas inferior ou igual a 6, incluído o condutor, exceto carro celular, carro funerário e automóveis de corrida"},{cest:"25.009.00",ncmsh:"87032490",descricao:"Outros automóveis unicamente com motor de pistão alternativo de ignição por centelha (faísca*), de cilindrada superior a 3000 cm³, exceto carro celular, carro funerário e automóveis de corrida"},{cest:"25.010.00",ncmsh:"87033210",descricao:"Automóveis unicamente com motor diesel ou semidiesel, de cilindrada superior a 1500 cm³, mas não superior a 2500 cm³, com capacidade de transporte de pessoas sentadas inferior ou igual a 6, incluído o condutor, exceto ambulância, carro celular e carro funerário"},{cest:"25.011.00",ncmsh:"87033290",descricao:"Outros automóveis unicamente com motor diesel ou semidiesel, de cilindrada superior a 1500 cm³, mas não superior a 2500 cm³, exceto ambulância, carro celular e carro funerário"},{cest:"25.012.00",ncmsh:"87033310",descricao:"Automóveis unicamente com motor diesel ou semidiesel, de cilindrada superior a 2500 cm³, com capacidade de transporte de pessoas sentadas inferior ou igual a 6, incluído o condutor, exceto carro celular e carro funerário"},{cest:"25.013.00",ncmsh:"87033390",descricao:"Outros automóveis unicamente com motor diesel ou semidiesel, de cilindrada superior a 2500 cm³, exceto carro celular e carro funerário"},{cest:"25.014.00",ncmsh:"87042110",descricao:"Veículos automóveis para transporte de mercadorias, de peso em carga máxima não superior a 5 toneladas, chassis com motor diesel ou semidiesel e cabina, exceto caminhão de peso em carga máxima superior a 3,9 toneladas"},{cest:"25.015.00",ncmsh:"87042120",descricao:"Veículos automóveis para transporte de mercadorias, de peso em carga máxima não superior a 5 toneladas, com motor diesel ou semidiesel, com caixa basculante, exceto caminhão de peso em carga máxima superior a 3,9 toneladas"},{cest:"25.016.00",ncmsh:"87042130",descricao:"Veículos automóveis para transporte de mercadorias, de peso em carga máxima não superior a 5 toneladas, frigoríficos ou isotérmicos, com motor diesel ou semidiesel, exceto caminhão de peso em carga máxima superior a 3,9 toneladas"},{cest:"25.017.00",ncmsh:"87042190",descricao:"Outros veículos automóveis para transporte de mercadorias, de peso em carga máxima não superior a 5 toneladas, com motor diesel ou semidiesel, exceto carro-forte para transporte de valores e caminhão de peso em carga máxima superior a 3,9 toneladas"},{cest:"25.018.00",ncmsh:"87043110",descricao:"Veículos automóveis para transporte de mercadorias, de peso em carga máxima não superior a 5 toneladas, com motor a explosão, chassis e cabina, exceto caminhão de peso em carga máxima superior a 3,9 toneladas"},{cest:"25.019.00",ncmsh:"87043120",descricao:"Veículos automóveis para transporte de mercadorias, de peso em carga máxima não superior a 5 toneladas, com motor explosão com caixa basculante, exceto caminhão de peso em carga máxima superior a 3,9 toneladas"},{cest:"25.020.00",ncmsh:"87043130,",descricao:"Veículos automóveis para transporte de mercadorias, de peso em carga máxima não superior a 5 toneladas, frigoríficos ou isotérmicos com motor explosão, exceto caminhão de peso em carga máxima superior a 3,9 toneladas"},{cest:"25.021.00",ncmsh:"87043190,",descricao:"Outros veículos automóveis para transporte de mercadorias, de peso em carga máxima não superior a 5 toneladas, com motor a explosão, exceto carro-forte para transporte de valores e caminhão de peso em carga máxima superior a 3,9 toneladas"},{cest:"25.022.00",ncmsh:"87022000",descricao:"Veículos automóveis para transporte de 10 pessoas ou mais, incluindo o motorista, com motor de pistão, de ignição por compressão (diesel ou semidiesel) e um motor elétrico, com volume interno de habitáculo, destinado a passageiros e motorista, superior a 6 m³, mas inferior a 9 m³"},{cest:"25.023.00",ncmsh:"87023000",descricao:"Veículos automóveis para transporte de 10 pessoas ou mais, incluindo o motorista, com motor de pistão alternativo, de ignição por centelha (faísca) e um motor elétrico, com volume interno de habitáculo, destinado a passageiros e motorista, superior a 6 m³, mas inferior a 9 m³"},{cest:"25.024.00",ncmsh:"87029000",descricao:" Outros veículos automóveis para transporte de 10 pessoas ou mais, incluindo o motorista, com volume interno de habitáculo, destinado a passageiros e motorista, superior a 6 m³, mas inferior a 9 m³"},{cest:"25.025.00",ncmsh:"87034000",descricao:"Automóveis equipados para propulsão, simultaneamente, com um motor de pistão alternativo de ignição por centelha (faísca*) e um motor elétrico, exceto os suscetíveis de serem carregados por conexão a uma fonte externa de energia elétrica, o carro celular e o carro funerário"},{cest:"25.026.00",ncmsh:"87035000",descricao:"Automóveis equipados para propulsão, simultaneamente, com um motor de pistão por compressão (diesel ou semidiesel) e um motor elétrico, exceto os suscetíveis de serem carregados por conexão a uma fonte externa de energia elétrica, exceto o carro celular e o carro funerário"},{cest:"25.027.00",ncmsh:"87036000",descricao:"Automóveis equipados para propulsão, simultaneamente, com um motor de pistão alternativo de ignição por centelha (faísca*) e um motor elétrico, suscetíveis de serem carregados por conexão a uma fonte externa de energia elétrica, exceto o carro celular e o carro funerário"},{cest:"25.028.00",ncmsh:"87037000",descricao:"Automóveis equipados para propulsão, simultaneamente, com um motor de pistão por compressão (diesel ou semidiesel) e um motor elétrico, suscetíveis de serem carregados por conexão a uma fonte externa de energia elétrica, exceto o carro celular e o carro funerário"},{cest:"25.029.00",ncmsh:"87038000",descricao:"Outros veículos, equipados unicamente com motor elétrico para propulsão"},{cest:"26.001.00",ncmsh:"8711",descricao:"Motocicletas (incluídos os ciclomotores) e outros ciclos equipados com motor auxiliar, mesmo com carro lateral; carros laterais"},{cest:"28.001.00",ncmsh:"33030010",descricao:"Perfumes (extratos)"},{cest:"28.002.00",ncmsh:"33030020",descricao:"Águas-de-colônia"},{cest:"28.003.00",ncmsh:"33041000",descricao:"Produtos de maquiagem para os lábios"},{cest:"28.004.00",ncmsh:"33042010",descricao:"Sombra, delineador, lápis para sobrancelhas e rímel"},{cest:"28.005.00",ncmsh:"33042090",descricao:"Outros produtos de maquiagem para os olhos"},{cest:"28.006.00",ncmsh:"33043000",descricao:"Preparações para manicuros e pedicuros"},{cest:"28.007.00",ncmsh:"33049100",descricao:"Pós para maquiagem, incluindo os compactos"},{cest:"28.008.00",ncmsh:"33049910",descricao:"Cremes de beleza, cremes nutritivos e loções tônicas"},{cest:"28.009.00",ncmsh:"33049990",descricao:"Outros produtos de beleza ou de maquiagem preparados e preparações para conservação ou cuidados da pele, exceto as preparações antissolares e os bronzeadores"},{cest:"28.010.00",ncmsh:"33049990",descricao:"Preparações antissolares e os bronzeadores"},{cest:"28.011.00",ncmsh:"33051000",descricao:"Xampus para o cabelo"},{cest:"28.012.00",ncmsh:"33052000",descricao:"Preparações para ondulação ou alisamento, permanentes, dos cabelos"},{cest:"28.013.00",ncmsh:"33059000",descricao:"Outras preparações capilares"},{cest:"28.014.00",ncmsh:"33059000",descricao:"Tintura para o cabelo"},{cest:"28.015.00",ncmsh:"33071000",descricao:"Preparações para barbear (antes, durante ou após)"},{cest:"28.016.00",ncmsh:"33072010",descricao:"Desodorantes (desodorizantes) corporais líquidos, exceto os classificados no CEST 28.016.01"},{cest:"28.016.01",ncmsh:"33072010",descricao:"Loções e óleos desodorantes hidratantes líquidos"},{cest:"28.016.02",ncmsh:"33072010",descricao:"Antiperspirantes líquidos"},{cest:"28.017.00",ncmsh:"33072090",descricao:"Outros desodorantes (desodorizantes) corporais, exceto os classificados no CEST 28.017.01"},{cest:"28.017.01",ncmsh:"33072090",descricao:"Outras loções e óleos desodorantes hidratantes"},{cest:"28.017.02",ncmsh:"33072090",descricao:"Outros antiperspirantes"},{cest:"28.018.00",ncmsh:"33079000",descricao:"Outros produtos de perfumaria ou de toucador preparados"},{cest:"28.019.00",ncmsh:"33079000",descricao:"Outras preparações cosméticas"},{cest:"28.020.00",ncmsh:"34011190",descricao:"Sabões de toucador em barras, pedaços ou figuras moldados, exceto CEST 28.020.01"},{cest:"28.020.01",ncmsh:"34011190",descricao:"Lenços umedecidos"},{cest:"28.021.00",ncmsh:"34011900",descricao:"Outros sabões, produtos e preparações orgânicos tensoativos, inclusive papel, pastas (ouates), feltros e falsos tecidos, impregnados, revestidos ou recobertos de sabão ou de detergentes"},{cest:"28.022.00",ncmsh:"34012010",descricao:"Sabões de toucador sob outras formas"},{cest:"28.023.00",ncmsh:"34013000",descricao:"Produtos e preparações orgânicos tensoativos para lavagem da pele, em forma de líquido ou de creme, acondicionados para venda a retalho, mesmo contendo sabão"},{cest:"28.024.00",ncmsh:"48182000",descricao:"Lenços de papel, incluindo os de desmaquiar"},{cest:"28.024.01",ncmsh:"48182000",descricao:"Toalhas de mão"},{cest:"28.025.00",ncmsh:"82141000",descricao:"Apontadores de lápis para maquiagem"},{cest:"28.025.01",ncmsh:"82141000",descricao:"Espátulas, abre-cartas e raspadeiras"},{cest:"28.025.02",ncmsh:"82141000",descricao:"Lâminas de espátulas, de abre-cartas, de raspadeiras e de apontadores de lápis"},{cest:"28.026.00",ncmsh:"82142000",descricao:"Utensílios e sortidos de utensílios de manicuros ou de pedicuros (incluindo as limas para unhas)"},{cest:"28.027.00",ncmsh:"96032900",descricao:"Escovas e pincéis de barba, escovas para cabelos, para cílios ou para unhas e outras escovas de toucador de pessoas"},{cest:"28.027.01",ncmsh:"96032900",descricao:"Vassouras e escovas, mesmo constituindo partes de máquinas, de aparelhos ou de veículos, vassouras mecânicas de uso manual não motorizadas, pincéis e espanadores; cabeças preparadas para escovas, pincéis e artigos semelhantes; bonecas e rolos para pintura; rodos de borracha ou de matérias flexíveis semelhantes, outros"},{cest:"28.028.00",ncmsh:"96033000",descricao:"Pincéis para aplicação de produtos cosméticos"},{cest:"28.028.01",ncmsh:"96033000",descricao:"Pincéis e escovas, para artistas e pincéis de escrever"},{cest:"28.029.00",ncmsh:"96161000",descricao:"Vaporizadores de toucador, suas armações e cabeças de armações"},{cest:"28.030.00",ncmsh:"96162000",descricao:"Borlas ou esponjas para pós ou para aplicação de outros cosméticos ou de produtos de toucador"},{cest:"28.031.00",ncmsh:"42021",descricao:"Malas e maletas de toucador"},{cest:"28.032.00",ncmsh:"9615",descricao:"Pentes, travessas para cabelo e artigos semelhantes; grampos (alfinetes) para cabelo; pinças (“pinceguiches”), onduladores, bobs (rolos) e artefatos semelhantes para penteados, e suas partes"},{cest:"28.033.00",ncmsh:"39233000;39249000;39241000;40149090;70102000",descricao:"Mamadeiras"},{cest:"28.034.00",ncmsh:"40149090",descricao:"Chupetas e bicos para mamadeiras e para chupetas"},{cest:"28.035.00",ncmsh:"12119090",descricao:"Outras plantas e partes, para perfumaria, medicina e semelhantes"},{cest:"28.036.00",ncmsh:"39262000",descricao:"Vestuário e seus acessórios, de plásticos, inclusive luvas"},{cest:"28.037.00",ncmsh:"39264000",descricao:"Estatuetas e outros objetos de ornamentação, de plásticos"},{cest:"28.038.00",ncmsh:"39269090",descricao:"Outras obras de plásticos"},{cest:"28.039.00",ncmsh:"42022210",descricao:"Bolsas de folhas de plástico"},{cest:"28.040.00",ncmsh:"42022220",descricao:"Bolsas de matérias têxteis"},{cest:"28.041.00",ncmsh:"42022900",descricao:"Bolsas de outras matérias"},{cest:"28.042.00",ncmsh:"42023900",descricao:"Artigos de bolsos/bolsas, de outras matérias"},{cest:"28.043.00",ncmsh:"42029200",descricao:"Outros artefatos, de folhas de plásticos ou matérias têxteis"},{cest:"28.044.00",ncmsh:"42029900",descricao:"Outros artefatos, de outras matérias"},{cest:"28.045.00",ncmsh:"48192000",descricao:"Caixas e cartonagens, dobráveis, de papel/cartão, não ondulados"},{cest:"28.046.00",ncmsh:"48194000",descricao:"Outros sacos, bolsas e cartuchos, de papel ou cartão"},{cest:"28.047.00",ncmsh:"48211000",descricao:"Etiquetas de papel ou cartão, impressas"},{cest:"28.048.00",ncmsh:"49111090",descricao:"Outros impressos publicitários, catálogos comerciais e semelhantes"},{cest:"28.049.00",ncmsh:"61159900",descricao:"Outras meias de malha de outras matérias têxteis"},{cest:"28.050.00",ncmsh:"62171000",descricao:"Outros acessórios confeccionados, de vestuário"},{cest:"28.051.00",ncmsh:"63026000",descricao:"Roupas de toucador/cozinha, de tecidos atoalhados de algodão"},{cest:"28.052.00",ncmsh:"63079090",descricao:"Outros artefatos têxteis confeccionados"},{cest:"28.053.00",ncmsh:"65069900",descricao:"Chapéus e outros artefatos de outras matérias, exceto de malha"},{cest:"28.054.00",ncmsh:"95059000",descricao:"Artigos para outras festas, carnaval ou outros divertimentos"},{cest:"28.055.00",ncmsh:"33",descricao:"Produtos destinados à higiene bucal"},{cest:"28.056.00",ncmsh:"33;34",descricao:"Outros produtos cosméticos e de higiene pessoal não relacionados em outros itens deste anexo"},{cest:"28.057.00",ncmsh:"14;39;40;44;48;63;64;65;67;70;82;90;96",descricao:"Outros artigos destinados a cuidados pessoais não relacionados em outros itens deste anexo"},{cest:"28.058.00",ncmsh:"39;42;48;52;61;71;83;90;91",descricao:"Acessórios (por exemplo, bijuterias, relógios, óculos de sol, bolsas, mochilas, frasqueiras, carteiras, porta-cartões, porta-documentos, porta-celulares e embalagens presenteáveis (por exemplo, caixinhas de papel), entre outros itens assemelhados)"},{cest:"28.059.00",ncmsh:"61;62;64",descricao:"Vestuário e seus acessórios; calçados, polainas e artefatos semelhantes, e suas partes"},{cest:"28.060.00",ncmsh:"42;52;55;58;63;65",descricao:"Outros artigos de vestuário em geral, exceto os relacionados no item anterior"},{cest:"28.061.00",ncmsh:"39;40;52;56;62;63;66;69;70;73;76;82;83;84;91;94;96",descricao:"Artigos de casa"},{cest:"28.062.00",ncmsh:"13;15;16;17;18;19;20;21;22;23",descricao:"Produtos das indústrias alimentares e bebidas"},{cest:"28.063.00",ncmsh:"22;27;28;29;33;34;35;38;39;63;68;73;84;85;96",descricao:"Produtos de limpeza e conservação doméstica"},{cest:"28.064.00",ncmsh:"39;49;95;96",descricao:"Artigos infantis"},{cest:"28.999.00",ncmsh:"",descricao:"Outros produtos comercializados pelo sistema de marketing direto porta-a-porta a consumidor final não relacionados em outros itens deste anexo"}],pp={"01":"Autopeças","02":"Bebidas alcoólicas, exceto cerveja e chope","03":"Cervejas, chopes, refrigerantes, águas e outras bebidas","04":"Cigarros e outros produtos derivados do fumo","05":"Cimentos","06":"Combustíveis e lubrificantes","07":"Energia elétrica","08":"Ferramentas","09":"Lâmpadas, reatores e “starter”",10:"Materiais de construção e congêneres",11:"Materiais de limpeza",12:"Materiais elétricos",13:"Medicamentos de uso humano e outros produtos farmacêuticos para uso humano ou veterinário",14:"Papéis",15:"Plásticos",16:"Pneumáticos, câmaras de ar e protetores de borracha",17:"Produtos alimentícios",18:"Produtos cerâmicos",19:"Produtos de papelaria",20:"Produtos de perfumaria e de higiene pessoal e cosméticos",21:"Produtos eletrônicos, eletroeletrônicos e eletrodomésticos",22:"Rações para animais domésticos",23:"Sorvetes e preparados para fabricação de sorvetes em máquinas",24:"Tintas e vernizes",25:"Veículos automotores",26:"Veículos de duas e três rodas motorizados",27:"Vidros",28:"Venda de mercadorias pelo sistema porta a porta"},vp={components:{Campo:Sl},computed:{metadados:function(){return Et}},data:function(){return{descricaoCest:"",opcoesCest:[]}},methods:{atualizar:function(){try{var e=this.value||"",t=this.opcoesCest.find(function(t){return t.valor===e});t||(t={rotulo:e,valor:e},this.opcoesCest.push(t)),t.rotulo=e;var a=mp.find(function(t){return t.cest===e});this.descricaoCest=9===e.length?a?pp[a.cest.substring(0,2)]+" - "+a.descricao:"CEST inválido":"Forneça um CEST (7 dígitos)"}catch(e){this.$q.notifyError("Ocorreu erro ao consultar CEST",e)}},eventoClick:function(){var e=this.ncm||"";this.opcoesCest=mp.filter(function(t){return t.ncmsh.split(";").reduce(function(t,a){return t||e.startsWith(a)},!1)}).map(function(e){return{rotulo:e.cest+" - "+e.descricao,sublabel:pp[e.cest.substring(0,2)],valor:e.cest}})},eventoInput:function(e){this.$emit("input",e)}},props:{value:{default:"",type:String},ncm:{default:"",type:String}},watch:{value:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.atualizar();case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},created:function(){this.atualizar()}},hp=vp,fp=Object(sc["a"])(hp,dp,up,!1,null,null,null);fp.options.__file="SeletorCest.vue";var Cp=fp.exports,bp={components:{SeletorCest:Cp},computed:{campos:function(){return this.modal.campos}},data:function(){return{itens:[]}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this._.get(this.campos,"ids.length")){e.next=8;break}return e.next=4,He().item.where("id").anyOf(this.campos.ids).toArray();case 4:this.itens=e.sent,this.itensOriginal=this.$utils.clonarV2(this.itens),e.next=9;break;case 8:this.itens=[];case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),this.$q.notifyError("Erro ao carregar os dados",e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),confirmar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(t in this.$utils.gconsole.log("ItemTrocarCest","confirmar",this.itens),this.itens)this.itens[t].cest&&this.itens[t].cest!==this.itensOriginal[t].cest&&this.$db.item.gravaItem({atual:this.itens[t],original:this.itensOriginal[t]});this.modal.visivel=!1,this.$emit("confirmar");case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},props:{modal:{required:!0,type:Object}},watch:{"modal.visivel":function(e){e&&this.atualizar()}},mounted:function(){this.atualizar()}},gp=bp,xp=(a("e9b3"),Object(sc["a"])(gp,cp,lp,!1,null,null,null));xp.options.__file="ItemTrocarCest.vue";var _p=xp.exports,qp=function(e,t){return Sp.apply(this,arguments)};function Sp(){return Sp=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n,c,l,d,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.configuracoes.leValorComFiltroEmpresa("nfe.autorizadoDownloadXml",a);case 2:for(o=e.sent.split(" "),i=!0,r=!1,s=void 0,e.prev=6,n=o[Symbol.iterator]();!(i=(c=n.next()).done);i=!0)l=c.value,d=vu.executa(Et.infNFe.autXML.lista,{},this.tipo),u=Pa(l),14===u.length?(d.escolhas.valor_escolha="CNPJ",d.escolhas.CNPJ=u,t.autXML.push(d)):11===u.length&&(d.escolhas.valor_escolha="CPF",d.escolhas.CPF=u,t.autXML.push(d));e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](6),r=!0,s=e.t0;case 14:e.prev=14,e.prev=15,i||null==n.return||n.return();case 17:if(e.prev=17,!r){e.next=20;break}throw s;case 20:return e.finish(17);case 21:return e.finish(14);case 22:case"end":return e.stop()}},e,this,[[6,10,14,22],[15,,17,21]])})),Sp.apply(this,arguments)}var Ip=function(e){return Fp.apply(this,arguments)};function Fp(){return Fp=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.infNFe,o=t.det,i=t.descricaoProduto,r=t.item,s=t.documentoItem,n=t.cfop,c=t.empresa,l=t.destinatario,a.ide.idDest=a.emit.enderEmit.UF!==a.dest.enderDest.UF&&a.emit.enderEmit.UF&&a.dest.enderDest.UF&&"65"!==!a.ide.mod?"EX"===a.dest.enderDest.UF?"3":"2":"1",d=Pa((s||{}).ncm||""),d=8===d.length?d:Pa((r||{}).ncm||""),u={emitente:{regime:a.emit.CRT,uf:a.emit.enderEmit.UF,tributacaoSetor:c.tributacaoSetor,tributacao:c.tributacao},destinatario:{regime:"SimplesNacional"===l.regime?"1":"Normal"===l.regime?"3":void 0,uf:a.dest.enderDest.UF,pessoa:{CPF:"PF",CNPJ:"PJ",idEstrangeiro:"Estrangeiro"}[a.dest.escolhas.valor_escolha]||void 0,tributacaoSetor:l.tributacaoSetor,tributacao:l.tributacao,indicadorIE:a.dest.indIEDest,consumidor:"0"===a.ide.indFinal?"N":"1"===a.ide.indFinal?"S":void 0,destino:a.ide.idDest},ncm:d,cfop:String(n||""),cest:(s||{}).cest||r.cest,origemMercadoria:String(r.codigoOrigem||""),produto:r.descricao},e.next=7,Zn.configuracaoImposto.pesquisa(u);case 7:m=e.sent,ei.log("gerarJsonBaseD",{impostoConfiguracao:m}),Po(!m||!m.ordem||!m.saida,"".concat(i," sem configuração de imposto. Verifique a configuração do imposto para ").concat(JSON.stringify(u)||"",".")),p=o.prod,v=o.imposto,p.CFOP=m.entrada.cfop,v.noXml_orig=m.entrada.origemMercadoria,v.noXml_CST=v.noXml_CSOSN=m.saida.cstCsosn,v.noXml_pICMS=m.saida.pICMS||0,v.noXml_pRedBC=m.saida.pRedBC||0,v.noXml_pFCP=m.saida.pFCP||0,v.noXml_CSTPis=m.saida.pisCst,v.noXml_pPIS=m.saida.pPIS||0,v.noXml_CSTCofins=m.saida.cofinsCst,v.noXml_pCOFINS=m.saida.pCOFINS||0,m.entrada.cest&&(p.opcional.visivel=!0,p.opcional.CEST=Pa(m.entrada.cest)),m.saida.ipiVisivel&&(v.noXml_CSTIpi="1"===a.ide.tpNF?m.saida.ipiCstEntrada:m.saida.ipiCstSaida,v.noXml_pIPI=m.saida.pIPI||0,v.noXml_cEnqIpi=m.saida.ipiCEnq||0);case 24:case"end":return e.stop()}},e)})),Fp.apply(this,arguments)}var wp=function(e,t){return yp.apply(this,arguments)};function yp(){return yp=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=String,e.next=3,Zn.configuracoes.leValorNumericoComFiltroEmpresa(this.serie,a,1);case 3:return e.t1=e.sent,t.ide.serie=(0,e.t0)(e.t1),e.t2=String,e.next=8,Zn.documentoFiscalEletronico.proximoNumero(t.ide.tpAmb,"CPF"===t.emit.escolhas.valor_escolha?t.emit.escolhas.CPF:t.emit.escolhas.CNPJ,t.ide.mod,t.ide.serie,a);case 8:e.t3=e.sent,t.ide.nNF=(0,e.t2)(e.t3);case 10:case"end":return e.stop()}},e,this)})),yp.apply(this,arguments)}var Np=function(e){return kp.apply(this,arguments)};function kp(){return kp=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log("gerarJsonBaseD","obterConfiguracaoImposto"),t.descricaoProduto="Produto '".concat(t.documentoItem.descricaoItem||"","'"),Po(!t.item.ncm,"".concat(t.descricaoProduto," sem cadastro de NCM")),!t.outrosNFe.cfop){e.next=10;break}return e.next=6,He().cfop.where({cfop:Number(t.outrosNFe.cfop)}).first();case 6:a=e.sent,Po(!a,"CFOP inválido"),e.next=15;break;case 10:return Po(!t.documentoItem.idCfop,"".concat(t.descricaoProduto," sem CFOP definido")),e.next=13,He().cfop.get(t.documentoItem.idCfop);case 13:a=e.sent,Po(!a,"".concat(t.descricaoProduto," com CFOP inválido"));case 15:return t.cfop=a.cfop,e.next=18,this.gerarConfiguracaoImposto(t);case 18:case"end":return e.stop()}},e,this)})),kp.apply(this,arguments)}var Mp=function(e){return Pp.apply(this,arguments)};function Pp(){return Pp=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("gerarJsonBaseD","obterFatura"),e.next=3,He().documento.get(t.idDocumento);case 3:return t.documentoFatura=e.sent,Po(!t.documentoFatura,"Não foi possível carregar a fatura/venda"),Po(!["Fatura","Venda"].includes(t.documentoFatura.tipo),"Fatura/venda não encontrada"),e.next=8,He().documento.where("idDocumentoAdicional").equals(t.idDocumento).toArray();case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0=[];case 11:return t.documentosAdicionais=e.t0,e.next=14,He().documento.where("idFatura").equals(t.idDocumento).toArray();case 14:if(e.t1=e.sent,e.t1){e.next=17;break}e.t1=[];case 17:if(t.documentosVendas=e.t1,t.idsDocumentos=[t.idDocumento].concat(la()(t.documentosAdicionais.map(function(e){return e.id})),la()(t.documentosVendas.map(function(e){return e.id}))),ei.log("gerarJsonBaseD",{documentoFatura:t.documentoFatura,documentosAdicionais:t.documentosAdicionais,documentosVendas:t.documentosVendas}),t.totalDesconto=dt((t.documentoFatura.totalDesconto||0)+lo(t.documentosVendas,"totalDesconto")),t.totalFrete=dt(lo(t.documentosVendas,"valorFrete")),t.infNFe.ide.natOp=t.outrosNFe.operacao?t.outrosNFe.operacao:"4"===t.infNFe.ide.finNFe?"Devolução":"Venda","NFCe"!==this.tipo){e.next=38;break}return t.infNFe.infAdic.visivel=!0,e.t2=ro,e.next=28,Zn.configuracoes.leValorComFiltroEmpresa("cupom.mensagem",t.documentoFatura.idEmpresa,"Obrigado e Volte Sempre!");case 28:return e.t3=e.sent,t.infNFe.infAdic.infCpl=(0,e.t2)(e.t3),e.next=32,Zn.configuracoes.leValorNumerico("nfce.offline");case 32:if(e.t4=e.sent,1!==e.t4){e.next=38;break}t.infNFe.ide.tpEmis="9",t.infNFe.ide.opcional.visivel=!0,t.infNFe.ide.opcional.dhCont=Ot.formatarDataNFe(new Date),t.infNFe.ide.opcional.xJust="Internet indisponivel";case 38:t.outrosNFe.idDocumento=t.idDocumento;case 39:case"end":return e.stop()}},e,this)})),Pp.apply(this,arguments)}var Dp=function(e){return Ep.apply(this,arguments)};function Ep(){return Ep=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("gerarJsonBaseD","obterFormasPagamento"),e.next=3,He().documentoCondicaoPagamento.where({idDocumento:t.idDocumento}).toArray();case 3:if(t.documentosPagamento=e.sent,0!==t.documentosPagamento.length||"Venda"!==t.documentoFatura.tipo){e.next=14;break}return Po(!t.documentoFatura.idFatura,"A venda não tem pagamento e não pertence a uma fatura"),e.next=8,He().documento.get(t.documentoFatura.idFatura);case 8:return a=e.sent,Po(!a,"Não foi possível carregar a fatura da venda"),e.next=12,He().documentoCondicaoPagamento.where({idDocumento:a.id}).toArray();case 12:t.documentosPagamento=e.sent,t.vendaSemPagamento=!0;case 14:Po(!t.documentosPagamento.length&&!t.vendaSemPagamento,"Não há pagamentos"),ei.log("gerarJsonBaseD","documentosPagamento",t.documentosPagamento),o=[],i=!0,r=!1,s=void 0,e.prev=20,n=regeneratorRuntime.mark(function e(){var a,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=l.value,e.next=3,b.obterMeioPagamento(t,a.idFormaPagamento);case 3:i=e.sent,r=o.find(function(e){return e.tPag===i&&e.card.cAut===a.autorizacao}),r?r.vPag=dt(r.vPag+a.valor):(r=vu.executa(Et.infNFe.pag.detPag.lista,{},b.tipo),r.tPag=i,r.vPag=dt(a.valor),["03","04"].includes(i)&&(r.card.visivel=!0,r.card.tpIntegra="2",r.card.cAut=a.autorizacao),o.push(r));case 6:case"end":return e.stop()}},e)}),c=t.documentosPagamento[Symbol.iterator]();case 23:if(i=(l=c.next()).done){e.next=28;break}return e.delegateYield(n(),"t0",25);case 25:i=!0,e.next=23;break;case 28:e.next=34;break;case 30:e.prev=30,e.t1=e["catch"](20),r=!0,s=e.t1;case 34:e.prev=34,e.prev=35,i||null==c.return||c.return();case 37:if(e.prev=37,!r){e.next=40;break}throw s;case 40:return e.finish(37);case 41:return e.finish(34);case 42:return Po(0===o.length&&!t.vendaSemPagamento,"Não há pagamentos"),t.totalProdutos=dt(t.totalProdutos),e.next=46,He().financeiroTitulo.where({idFatura:t.idDocumento}).toArray();case 46:if(d=e.sent,u=dt(lo(o,"vPag")),m=dt(lo(d,"valorTotal")+t.totalServicos),p=dt(t.totalProdutos+t.totalFrete+t.totalDevolucao-t.totalDesconto),ei.log("gerarJsonBaseD","\n    totalPagamentos: ".concat(u,"\n    totalProdutos: ").concat(t.totalProdutos,"\n    totalServicos: ").concat(t.totalServicos,"\n    totalFrete: ").concat(t.totalFrete,"\n    totalDesconto: ").concat(t.totalDesconto,"\n    totalDevolucao: ").concat(t.totalDevolucao,"\n    totalPagamentosCarnesServicos: ").concat(m,"\n    totalPagamentosNota: ").concat(p)),"Venda"!==t.documentoFatura.tipo&&Po(Math.abs(u-m-p)>.02,"O valor dos pagamentos difere do somatório (produtos, serviços, frete, carnês, (-)devoluções e (-)descontos"),u>0&&u!==p){for(v=0;v<o.length;v++)h=o[v],h.vPag=dt(h.vPag*p/u);f=dt(lo(o,"vPag")),o[0].vPag+=p-f}C=dt(-t.totalDevolucao),C>0&&t.totalProdutos>0&&o.push({tPag:"99",vPag:C}),t.infNFe.pag.detPag=o;case 56:case"end":return e.stop()}},e,null,[[20,30,34,42],[35,,37,41]])})),Ep.apply(this,arguments)}var Tp=function(e){return Ap.apply(this,arguments)};function Ap(){return Ap=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log("gerarJsonBaseD","obterFrete",t.totalFrete),!(t.totalFrete>0)){e.next=43;break}for(a=0,o=!0,i=!1,r=void 0,e.prev=6,s=t.infNFe.det[Symbol.iterator]();!(o=(n=s.next()).done);o=!0)c=n.value,l=c.prod,a+=l.qCom*l.vUnCom-l.vDesc;e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](6),i=!0,r=e.t0;case 14:e.prev=14,e.prev=15,o||null==s.return||s.return();case 17:if(e.prev=17,!i){e.next=20;break}throw r;case 20:return e.finish(17);case 21:return e.finish(14);case 22:for(d=0,u=!0,m=!1,p=void 0,e.prev=26,v=t.infNFe.det[Symbol.iterator]();!(u=(h=v.next()).done);u=!0)f=h.value,C=f.prod,C.vFrete=dt((C.qCom*C.vUnCom-C.vDesc)*t.totalFrete/a),d+=C.vFrete;e.next=34;break;case 30:e.prev=30,e.t1=e["catch"](26),m=!0,p=e.t1;case 34:e.prev=34,e.prev=35,u||null==v.return||v.return();case 37:if(e.prev=37,!m){e.next=40;break}throw p;case 40:return e.finish(37);case 41:return e.finish(34);case 42:t.infNFe.det[0].prod.vFrete+=dt(t.totalFrete-d);case 43:case"end":return e.stop()}},e,null,[[6,10,14,22],[15,,17,21],[26,30,34,42],[35,,37,41]])})),Ap.apply(this,arguments)}var Op=function(e){return $p.apply(this,arguments)};function $p(){return $p=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h,f=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("gerarJsonBaseD","obterItens"),e.next=3,He().documentoItem.where("idDocumento").anyOf(t.idsDocumentos).sortBy("dataHoraEmissao");case 3:return a=e.sent,Po(!a,"Não foi possível carregar os produtos"),ei.log("gerarJsonBaseD","documentosItens",a),e.next=8,Zn.configuracoes.leValorNumericoComFiltroEmpresa(this.usadesconto,t.outrosNFe.idContatoEmitente,1);case 8:return o=e.sent,e.next=11,Zn.configuracoes.leValorNumerico("imposto.versao");case 11:i=e.sent,r=[],s=!0,n=!1,c=void 0,e.prev=16,l=regeneratorRuntime.mark(function e(){var s,n,c,l,d,m,p,v,h,C,b,g,x,_,q,S;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(s=u.value,n=dt(s.total||0),0!==dt(n)&&s.idItem){e.next=4;break}return e.abrupt("return","continue");case 4:if(!["Serviço"].includes(s.tipoItem)){e.next=7;break}return t.totalServicos+=n,e.abrupt("return","continue");case 7:if("4"!==t.infNFe.ide.finNFe){e.next=13;break}if(n<0){e.next=11;break}return t.totalDevolucao+=n,e.abrupt("return","continue");case 11:e.next=16;break;case 13:if(!(n<0)){e.next=16;break}return t.totalDevolucao+=n,e.abrupt("return","continue");case 16:if(c=dt(s.quantidade||1,4),l=dt(s.valorItem||0,4),d=dt(s.descontoItem||0,4),m=dt((s.descontoTotalRateado||0)+(s.descontoFaturaRateado||0),4),ei.log("gerarJsonBaseD",{quantidade:c,valorUnitarioItem:l,descontoUnitarioItem:d,descontoRateadoItem:m,valorUnitarioItemComDesconto:l-d-m/c,valorUnitarioItemComDescontoA:dt(l-d-m/c,4),totalItem:n,tipoItem:s.tipoItem,idItem:s.idItem,descricaoItem:s.descricaoItem}),Po(n!==dt(c*l-d*c),"Valor total do item '".concat(s.descricaoItem||"","' não corresponde ao valor unitário vezes a quantidade")),!["TLOE","TLOD"].includes(s.tipoItem)){e.next=24;break}return e.abrupt("return","continue");case 24:if(!["LOE","LOD"].includes(s.tipoItem)){e.next=46;break}for(p=a.filter(function(e){return["TLOE","TLOD"].includes(e.tipoItem)&&e.idDocumentoItemPai===s.id}),ei.log("gerarJsonBaseD","tratamentos",p),v=!0,h=!1,C=void 0,e.prev=30,b=p[Symbol.iterator]();!(v=(g=b.next()).done);v=!0)x=g.value,d+=dt(x.descontoItem||0,4),m+=dt((x.descontoTotalRateado||0)+(x.descontoFaturaRateado||0),4),l=dt(l+x.valorItem||0,4),n+=x.total||0;e.next=38;break;case 34:e.prev=34,e.t0=e["catch"](30),h=!0,C=e.t0;case 38:e.prev=38,e.prev=39,v||null==b.return||b.return();case 41:if(e.prev=41,!h){e.next=44;break}throw C;case 44:return e.finish(41);case 45:return e.finish(38);case 46:return _=dt(d*c+m),0===o&&(l=dt(l-d-m/c,4),_=0),t.totalProdutos+=n,t.documentoItem=s,e.next=52,He().item.get(s.idItem);case 52:if(t.item=e.sent,Po(!t.item,"Não foi possível carregar o cadastro do produto"),t.det=vu.executa(Et.infNFe.det.lista,{},f.tipo),q=t.det.prod,S=String(t.item.codigoBarras||"").padStart(13,"0"),S.startsWith("999")&&(S="SEM GTIN"),q.cProd=String(t.item.referencia||t.item.codigoItem||"0").trim(),q.cEAN=S,q.xProd=ro(s.descricaoItem).substr(0,120).trim(),q.NCM=String(t.item.ncm||""),q.uCom=String(t.item.unidade||"UN"),q.qCom=c||0,q.vUnCom=l||0,q.vDesc=_||0,"4"===t.infNFe.ide.finNFe&&(q.vUnCom=-q.vUnCom,q.vDesc=-q.vDesc),q.noXml_id=s.idItem,t.pesoItens=dt((t.pesoItens||0)+Number(t.item.peso||0)*Number(c||1),3),2!==i){e.next=74;break}return e.next=72,f.obterConfiguracaoImpostoV2(t);case 72:e.next=76;break;case 74:return e.next=76,f.obterConfiguracaoImposto(t);case 76:r.push(t.det);case 77:case"end":return e.stop()}},e,null,[[30,34,38,46],[39,,41,45]])}),d=a[Symbol.iterator]();case 19:if(s=(u=d.next()).done){e.next=27;break}return e.delegateYield(l(),"t0",21);case 21:if(m=e.t0,"continue"!==m){e.next=24;break}return e.abrupt("continue",24);case 24:s=!0,e.next=19;break;case 27:e.next=33;break;case 29:e.prev=29,e.t1=e["catch"](16),n=!0,c=e.t1;case 33:e.prev=33,e.prev=34,s||null==d.return||d.return();case 36:if(e.prev=36,!n){e.next=39;break}throw c;case 39:return e.finish(36);case 40:return e.finish(33);case 41:if("4"!==t.infNFe.ide.finNFe){e.next=45;break}Po(0===r.length,"Não há produtos para devolução"),e.next=55;break;case 45:if(Po(0===r.length,"Não há produtos vendidos"),"Remessa"===t.outrosNFe.operacao){e.next=55;break}p=0;case 48:if(!(p<r.length)){e.next=55;break}return v=r[p],e.next=52,this.obterAliquotasTributosIbpt(t,v);case 52:p++,e.next=48;break;case 55:t.pesoItens>0&&"9"!==t.infNFe.transp.modFrete&&(h=vu.executa(Et.infNFe.transp.vol.lista,{},this.tipo),h.pesoL=t.pesoItens,h.pesoB=t.pesoItens,t.infNFe.transp.vol.push(h)),ei.log("gerarJsonBaseD","itens",r),t.infNFe.det=r;case 58:case"end":return e.stop()}},e,this,[[16,29,33,41],[34,,36,40]])})),$p.apply(this,arguments)}var Rp={calculaTotais:function(e,t,a){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.metadados=a;var i={vBC:0,vBCST:0,vICMS:0,vICMSDeson:0,vFCPUFDest:null,vICMSUFDest:null,vICMSUFRemet:null,vFCP:0,vST:0,vICMSST:null,vICMSSTRet:null,vFCPST:0,vFCPSTRet:0,vProd:0,vFrete:0,vSeg:0,vDesc:0,vII:0,vIPI:0,vIPIDevol:0,vPIS:0,vCOFINS:0,vOutro:0,vNF:0,noXml_vTribFed:0,noXml_vTribEst:0,noXml_vTribMun:0,vTotTrib:0};for(var r in e.det){var s=e.det[r];if(o&&(this.distribuiDadosICMS(s,e),this.distribuiDadosPIS(s),this.distribuiDadosCOFINS(s),this.distribuiDadosIPI(s)),t.automatico.dados_trib&&(s.prod.qTrib=s.prod.qCom,s.prod.uTrib=s.prod.uCom,s.prod.vUnTrib=s.prod.vUnCom,s.prod.cEANTrib=s.prod.cEAN),t.automatico.totais){var n=dt(s.prod.qCom,4),c=dt(s.prod.vUnCom,4),l=dt(s.prod.qTrib,4),d=dt(s.prod.vUnTrib,4),u=dt(n*c,2),m=dt(s.prod.vFrete,2),p=dt(s.prod.vSeg,2),v=dt(s.prod.vOutro,2),h=dt(s.prod.vDesc,2),f=dt(l*d+m+p+v-h,2);s.prod.vProd=dt(u,2),"1"===s.prod.indTot&&(i.vProd+=u),i.vFrete+=m,i.vSeg+=p,i.vOutro+=v,i.vDesc+=h,this.calculaPIS_COFINS("PIS",s,t,i,f,n),this.calculaPIS_COFINS("COFINS",s,t,i,f,n),this.calculaICMS_ISSQN_IPI_II(s,t,i,f,n),this.calculaIBPT(s,t,i)}this.resumeDadosICMS(s)}if(t.automatico.totais){var C=e.total.ICMSTot;for(var b in i.vST=i.vICMSST+i.vST,i.vNF=i.vProd+i.vFrete+i.vSeg+i.vOutro+i.vST+i.vIPI-i.vDesc,i)null!=i[b]&&(C[b]=dt(i[b],2));if(e.pag.detPag.length){if(1===e.pag.detPag.length){var g=e.pag.detPag[0];"90"===g.tPag?g.vPag=0:g.vPag=dt(i.vNF)}}else{var x=vu.executa(Et.infNFe.pag.detPag.lista,{});x.tPag="99",x.vPag=dt(i.vNF),e.pag.detPag.push(x)}}},calculaIBPT:function(e,t,a){var o=Number(e.prod.vProd)-Number(e.prod.vDesc);e.imposto.noXml_vTribFed=["1","6","7"].includes(e.imposto.noXml_orig)?dt(Number(e.imposto.noXml_pTribImp)*o/100):dt(Number(e.imposto.noXml_pTribFed)*o/100),a.noXml_vTribFed=dt(a.noXml_vTribFed+e.imposto.noXml_vTribFed,2),e.imposto.noXml_vTribEst=dt(Number(e.imposto.noXml_pTribEst)*o/100),a.noXml_vTribEst=dt(a.noXml_vTribEst+e.imposto.noXml_vTribEst),e.imposto.noXml_vTribMun=dt(Number(e.imposto.noXml_pTribMun)*o/100),a.noXml_vTribMun=dt(a.noXml_vTribMun+e.imposto.noXml_vTribMun),e.imposto.vTotTrib=dt(e.imposto.noXml_vTribFed+e.imposto.noXml_vTribEst+e.imposto.noXml_vTribMun),a.vTotTrib=dt(a.vTotTrib+e.imposto.vTotTrib)},distribuiDadosICMS:function(e,t){var a=e.imposto.noXml_CSOSN||"",o=e.imposto.noXml_CST||"",i=e.imposto.escolhas.opcao1.ICMS.escolhas;if(a||o){e.imposto.escolhas.valor_escolha="opcao1";var r=this.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas;for(var s in i)if("valor_escolha"!==s&&"ICMSPart"!==s&&"ICMSST"!==s&&!s.endsWith("_erro"))if("3"===t.emit.CRT){if("CST"in i[s]){var n=r[s].CST._enumeration,c=n.find(function(e){return e.valor===o});c&&(i.valor_escolha=s,i[s].CST=o)}}else if("CSOSN"in i[s]){var l=r[s].CSOSN._enumeration,d=l.find(function(e){return e.valor===a});d&&(i.valor_escolha=s,i[s].CSOSN=a)}}var u=i[i.valor_escolha];u&&"opcao1"===e.imposto.escolhas.valor_escolha&&(e.imposto.noXml_orig&&this.atualizaCampoRecursivo(u,"orig",e.imposto.noXml_orig),e.imposto.noXml_pICMS&&this.atualizaCampoRecursivo(u,"pICMS",e.imposto.noXml_pICMS),e.imposto.noXml_pRedBC&&this.atualizaCampoRecursivo(u,"pRedBC",e.imposto.noXml_pRedBC),e.imposto.noXml_pFCP&&this.atualizaCampoRecursivo(u,"pFCP",e.imposto.noXml_pFCP))},resumeDadosICMS:function(e){var t=e.imposto.escolhas;if("opcao1"===t.valor_escolha||!t.valor_escolha){t.valor_escolha="opcao1";var a=t.opcao1.ICMS.escolhas,o=a.valor_escolha,i=a[o];i&&("CST"in i?e.imposto.noXml_CST=i.CST:"CSOSN"in i&&(e.imposto.noXml_CSOSN=i.CSOSN),e.imposto.noXml_vBC=this.buscaRecursivo(i,"vBC"),e.imposto.noXml_pICMS=this.buscaRecursivo(i,"pICMS"),e.imposto.noXml_pRedBC=this.buscaRecursivo(i,"pRedBC"),e.imposto.noXml_vICMS=this.buscaRecursivo(i,"vICMS"),e.imposto.noXml_orig=this.buscaRecursivo(i,"orig"))}},distribuiDadosPIS:function(e){var t=e.imposto.noXml_CSTPis||"";if(t){var a=this.metadados.infNFe.det.lista.imposto.PIS.escolhas,o=e.imposto.PIS.escolhas;for(var i in o)if("valor_escolha"!==i&&!i.endsWith("_erro")&&"CST"in o[i]){var r=a[i].CST._enumeration,s=r.find(function(e){return e.valor===t});s&&(o.valor_escolha=i,o[i].CST=t)}var n=o[o.valor_escolha];n&&e.imposto.noXml_pPIS&&this.atualizaCampoRecursivo(n,"pPIS",e.imposto.noXml_pPIS)}},distribuiDadosCOFINS:function(e){var t=e.imposto.noXml_CSTCofins||"";if(t){var a=this.metadados.infNFe.det.lista.imposto.COFINS.escolhas,o=e.imposto.COFINS.escolhas;for(var i in o)if("valor_escolha"!==i&&!i.endsWith("_erro")&&"CST"in o[i]){var r=a[i].CST._enumeration,s=r.find(function(e){return e.valor===t});s&&(o.valor_escolha=i,o[i].CST=t)}var n=o[o.valor_escolha];n&&e.imposto.noXml_pCOFINS&&this.atualizaCampoRecursivo(n,"pCOFINS",e.imposto.noXml_pCOFINS)}},distribuiDadosIPI:function(e){var t=e.imposto.noXml_CSTIpi||"";if(t){e.imposto.escolhas.valor_escolha="opcao1";var a=e.imposto.escolhas.opcao1.IPI;a.visivel=!0,a.cEnq=e.imposto.noXml_cEnqIpi;var o=this.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas,i=o.IPITrib.CST._enumeration;i.find(function(e){return e.valor===t})?(a.escolhas.valor_escolha="IPITrib",a.escolhas.IPITrib.CST=t,a.escolhas.IPITrib.escolhas.valor_escolha="opcao1",a.escolhas.IPITrib.escolhas.opcao1.pIPI=e.imposto.noXml_pIPI||0):(a.escolhas.valor_escolha="IPINT",a.escolhas.IPINT.CST=t)}},calculaPIS_COFINS:function(e,t,a,o,i,r){var s=null;switch(t.imposto[e].escolhas.valor_escolha){case e+"Aliq":s=t.imposto[e].escolhas[e+"Aliq"],this.calculaImpostoPercentagem(e,s,"vBC","p"+e,s,"v"+e,o,a,i);break;case e+"Qtde":s=t.imposto[e].escolhas[e+"Qtde"],this.calculaImpostoQuantidade(e,s,"qBCProd","vAliqProd",s,"v"+e,o,a,r);break;case e+"NT":break;case e+"Outr":s=t.imposto[e].escolhas[e+"Outr"],"opcao1"===s.escolhas.valor_escolha?this.calculaImpostoPercentagem(e,s.escolhas.opcao1,"vBC","p"+e,s,"v"+e,o,a,i):"opcao2"===s.escolhas.valor_escolha&&this.calculaImpostoQuantidade(e,s.escolhas.opcao2,"qBCProd","vAliqProd",s,"v"+e,o,a,r);break}t.imposto[e+"ST"].visivel&&(s=t.imposto[e+"ST"],"opcao1"===s.escolhas.valor_escolha?this.calculaImpostoPercentagem(e,s.escolhas.opcao1,"vBC","p"+e,s,"v"+e,o,a,i):"opcao2"===s.escolhas.valor_escolha&&this.calculaImpostoQuantidade(e,s.escolhas.opcao2,"qBCProd","vAliqProd",s,"v"+e,o,a,r))},calculaICMS_ISSQN_IPI_II:function(e,t,a,o,i){switch(e.imposto.escolhas.valor_escolha){case"opcao1":this.calculaICMS(e.imposto.escolhas.opcao1.ICMS,t,a,o),this.calculaIPI(e.imposto.escolhas.opcao1.IPI,t,a,o,i),this.calculaII(e.imposto.escolhas.opcao1.II,t,a,o);break;case"opcao2":this.calculaISSQN(e.imposto.escolhas.opcao2.ISSQN,t,a,o),this.calculaIPI(e.imposto.escolhas.opcao2.IPI,t,a,o,i);break}},calculaIPI:function(e,t,a,o,i){var r=null;if(e.visivel)switch(e.escolhas.valor_escolha){case"IPITrib":r=e.escolhas.IPITrib,"opcao1"===r.escolhas.valor_escolha?this.calculaImpostoPercentagem("IPI",r.escolhas.opcao1,"vBC","pIPI",r,"vIPI",a,t,o):"opcao2"===r.escolhas.valor_escolha&&this.calculaImpostoQuantidade("IPI",r.escolhas.opcao2,"qUnid","vUnid",r,"vIPI",a,t,i);break;case"IPINT":r=e.escolhas.IPINT;break}},calculaII:function(e,t,a,o){e.visivel&&(a.vII+=Number(e.vII))},calculaISSQN:function(e,t,a,o){this.calculaImpostoPercentagem("ISSQN",e,"vBC","vAliq",e,"vISSQN",a,t,o)},calculaICMS:function(e,t,a,o){var i=null;switch(e.escolhas.valor_escolha){case"ICMS00":i=e.escolhas.ICMS00,t.automatico.calculaBC&&(i.modBC="3"),this.calculaImpostoPercentagem("ICMS",i,"vBC","pICMS",i,"vICMS",a,t,o),i.opcional.visivel&&this.calculaImpostoPercentagem("FCP",i.opcional,"vBCFCP","pFCP",i.opcional,"vFCP",a,t,o);break;case"ICMS10":i=e.escolhas.ICMS10,t.automatico.calculaBC&&(i.modBC="3"),this.calculaImpostoPercentagem("ICMS",i,"vBC","pICMS",i,"vICMS",a,t,o),i.opcional.visivel&&this.calculaImpostoPercentagem("FCP",i.opcional,"vBCFCP","pFCP",i.opcional,"vFCP",a,t,o),i.opcional2.visivel&&this.calculaImpostoPercentagem("FCPST",i.opcional2,"vBCFCPST","pFCPST",i.opcional,"vFCPST",a,t,o),this.calculaImpostoPercentagem("ICMSST",i,"vBCST","pICMSST",i,"vICMSST",a,t,o);break;case"ICMS20":i=e.escolhas.ICMS20,this.calculaImpostoPercentagemComReducaoBc("ICMS","vBC","pICMS","pRedBC","vICMS",i,a,t,o),i.opcional.visivel&&this.calculaImpostoPercentagem("FCP",i.opcional,"vBCFCP","pFCP",i.opcional,"vFCP",a,t,o);break;case"ICMS30":i=e.escolhas.ICMS30,this.calculaImpostoPercentagem("ICMSST",i,"vBCST","pICMSST",i,"vICMSST",a,t,o),i.opcional.visivel&&this.calculaImpostoPercentagem("FCPST",i.opcional,"vBCFCPST","pFCPST",i.opcional,"vFCPST",a,t,o);break;case"ICMS40":i=e.escolhas.ICMS40;break;case"ICMS51":i=e.escolhas.ICMS51,this.calculaImpostoPercentagemComReducaoBc("ICMS","vBC","pICMS","pRedBC","vICMS",i,a,t,o),i.opcional.visivel&&this.calculaImpostoPercentagem("FCP",i.opcional,"vBCFCP","pFCP",i.opcional,"vFCP",a,t,o);break;case"ICMS60":i=e.escolhas.ICMS60,i.opcional.visivel&&this.calculaImpostoPercentagem("ICMSSTRet",i.opcional,"vBCSTRet","pST",i.opcional,"vICMSSTRet",a,t,o),i.opcional2.visivel&&this.calculaImpostoPercentagem("FCPSTRet",i.opcional2,"vBCFCPSTRet","pFCPSTRet",i.opcional2,"vFCPSTRet",a,t,o);break;case"ICMS70":i=e.escolhas.ICMS70,this.calculaImpostoPercentagemComReducaoBc("ICMS","vBC","pICMS","pRedBC","vICMS",i,a,t,o),i.opcional.visivel&&this.calculaImpostoPercentagem("FCP",i.opcional,"vBCFCP","pFCP",i.opcional,"vFCP",a,t,o),i.opcional2.visivel&&this.calculaImpostoPercentagem("FCPST",i.opcional2,"vBCFCPST","pFCPST",i.opcional2,"vFCPST",a,t,o),this.calculaImpostoPercentagem("ICMSST",i,"vBCST","pICMSST",i,"vICMSST",a,t,o);break;case"ICMS90":i=e.escolhas.ICMS90,i.opcional.visivel&&(this.calculaImpostoPercentagemComReducaoBc("ICMS","vBC","pICMS","pRedBC","vICMS",i.opcional,a,t,o),i.opcional.opcional.visivel&&this.calculaImpostoPercentagem("FCP",i.opcional.opcional,"vBCFCP","pFCP",i.opcional.opcional,"vFCP",a,t,o)),i.opcional2.visivel&&(this.calculaImpostoPercentagem("ICMSST",i.opcional2,"vBCST","pICMSST",i.opcional2,"vICMSST",a,t,o),i.opcional2.opcional.visivel&&this.calculaImpostoPercentagem("FCPST",i.opcional2.opcional,"vBCFCPST","pFCPST",i.opcional2.opcional,"vFCPST",a,t,o));break;case"ICMSPart":i=e.escolhas.ICMSPart;break;case"ICMSST":i=e.escolhas.ICMSST;break;case"ICMSSN101":i=e.escolhas.ICMSSN101;break;case"ICMSSN102":i=e.escolhas.ICMSSN102;break;case"ICMSSN201":i=e.escolhas.ICMSSN201,this.calculaImpostoPercentagem("vICMSST",i,"vBCST","pICMSST",i,"vICMSST",a,t,o),i.opcional.visivel&&this.calculaImpostoPercentagem("vFCPST",i.opcional,"vBCFCPST","pFCPST",i.opcional,"vFCPST",a,t,o);break;case"ICMSSN202":i=e.escolhas.ICMSSN202,this.calculaImpostoPercentagem("ICMSST",i,"vBCST","pICMSST",i,"vICMSST",a,t,o),i.opcional.visivel&&this.calculaImpostoPercentagem("FCPST",i.opcional,"vBCFCPST","pFCPST",i.opcional,"vFCPST",a,t,o);break;case"ICMSSN500":i=e.escolhas.ICMSSN500,i.opcional.visivel&&this.calculaImpostoPercentagem("ICMSSTRet",i.opcional,"vBCSTRet","pST",i.opcional,"vICMSSTRet",a,t,o),i.opcional2.visivel&&this.calculaImpostoPercentagem("FCPSTRet",i.opcional2,"vBCFCPSTRet","pFCPSTRet",i.opcional2,"vFCPSTRet",a,t,o);break;case"ICMSSN900":i=e.escolhas.ICMSSN900,i.opcional.visivel&&this.calculaImpostoPercentagemComReducaoBc("ICMS","vBC","pICMS","pRedBC","vICMS",i.opcional,a,t,o),i.opcional2.visivel&&(this.calculaImpostoPercentagem("ICMSST",i.opcional2,"vBCST","pICMSST",i.opcional2,"vICMSST",a,t,o),i.opcional2.opcional.visivel&&this.calculaImpostoPercentagem("FCPST",i.opcional2.opcional,"vBCFCPST","pFCPST",i.opcional2.opcional,"vFCPST",a,t,o));break}},calculaImpostoPercentagem:function(e,t,a,o,i,r,s,n,c){a in t||console.error("totalEImpostos: Campo "+a+" não consta em objetoImposto "),o in t||console.error("totalEImpostos: Campo "+o+" não consta em objetoImposto "),r in i||console.error("totalEImpostos: Campo "+r+" não consta em objetoImposto "),r in s||console.error("totalEImpostos: Campo "+r+" não consta em total"),c=0!==c&&n.automatico.calculaBC?this.atualizaBC(t,a,n,c):Number(t[a]);var l=this.atualizaAliquota(t,o,n),d=this.atualizaValorImposto(i,r,c*l/100);s[r]+=d,"ICMS"!==e&&"ICMSST"!==e||(a in s||console.error("totalEImpostos: Campo "+a+" não consta em total"),s[a]+=c)},calculaImpostoPercentagemComReducaoBc:function(e,t,a,o,i,r,s,n,c){t in r||console.error("totalEImpostos: Campo "+t+" não consta em objetoImposto "),a in r||console.error("totalEImpostos: Campo "+a+" não consta em objetoImposto "),o in r||console.error("totalEImpostos: Campo "+o+" não consta em objetoImposto "),i in r||console.error("totalEImpostos: Campo "+i+" não consta em objetoImposto "),i in s||console.error("totalEImpostos: Campo "+i+" não consta em total");var l=Number(r[a]),d=Number(r[o]);0!==c&&n.automatico.calculaBC?(d&&l&&(c=dt(c*d/l,2)),r[t]=c):c=Number(r[t]);var u=dt(c*l/100,2);r[i]=u,s[i]+=u,"ICMS"!==e&&"ICMSST"!==e||(t in s||console.error("totalEImpostos: Campo "+t+" não consta em total"),s[t]+=c)},calculaImpostoQuantidade:function(e,t,a,o,i,r,s,n,c){a in t||console.log("Campo "+a+" não consta em objetoImposto "),o in t||console.log("Campo "+o+" não consta em objetoImposto "),r in i||console.log("Campo "+r+" não consta em objetoImposto "),r in s||console.log("Campo "+r+" não consta em total");var l=this.atualizaBCquantidade(t,a,c,n),d=this.atualizaAliquotaQuantidade(t,o,n),u=this.atualizaValorImposto(i,r,l*d);s[r]+=u},atualizaBC:function(e,t,a,o){return a.automatico.calculaBC?e[t]=dt(o,2):o=Number(e[t]),o},atualizaAliquota:function(e,t,a){var o=0;return o=Number(e[t]),o},atualizaValorImposto:function(e,t,a){return e[t]=dt(a,2),dt(a,2)},atualizaBCquantidade:function(e,t,a,o){var i=0;return o.automatico.calculaBC?(i=a,e[t]=dt(i,4)):i=Number(e[t]),i},atualizaAliquotaQuantidade:function(e,t,a){var o=0;return o=Number(e[t]),o},atualizaCampoRecursivo:function(e,t,a){for(var o in t in e&&(e[t]=a),e)e[o].constructor===Object&&this.atualizaCampoRecursivo(e[o],t,a)},buscaRecursivo:function(e,t){if(t in e)return e[t];for(var a in e)if(e[a].constructor===Object){var o=this.buscaRecursivo(e[a],t);if(o)return o}return 0}},jp={tipo:"NFCe",serie:"nfce.padrao.serie",homologacao:"nfce.homologacao",usadesconto:"nfce.usadesconto",gerarAutorizacaoDownload:qp,gerarConfiguracaoImposto:Ip,gerarNumeroNFe:wp,obterConfiguracaoImpostoV2:Np,obterFatura:Mp,obterFormasPagamento:Dp,obterFrete:Tp,obterItens:Op,gerarJson:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){var i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=Yo("gerarJsonNFCe",t,a,o),e.prev=1,Po(!t,"Fatura não fornecida"),r=Ot.iniciarCampos({idDocumento:t,cpfCnpjCliente:a,nomeCliente:o,totalDesconto:0,totalDevolucao:0,totalProdutos:0,totalServicos:0,alertas:[],erros:[],cache:{},outrosNFe:{},infNFe:vu.executa(Et.infNFe,{},"NFCe")},"gerarNFCeFatura"),ei.log("gerarJsonNFCeD","iniciarCampos",r),e.next=7,this.acertoInicial(r);case 7:return e.next=9,this.obterFatura(r);case 9:return e.next=11,this.obterEmitente(r);case 11:return e.next=13,this.obterDestinatario(r,a,o);case 13:return e.next=15,this.obterItens(r);case 15:return e.next=17,this.obterFormasPagamento(r);case 17:return e.next=19,this.obterFrete(r);case 19:return e.next=21,this.gerarNumeroNFe(r.infNFe);case 21:return e.next=23,this.gerarAutorizacaoDownload(r.infNFe,r.outrosNFe.idContatoEmitente);case 23:return Rp.calculaTotais(r.infNFe,r.outrosNFe,Et),Ot.acertarDadosNFe(r.infNFe,r.outrosNFe,"NFCe"),r.infNFe=pu.executa(Et.infNFe,r.infNFe),r.erros=pu.erros,ei.log("gerarJsonNFCeD","infNFe",r.infNFe),ei.log("gerarJsonNFCeD","compactarValidarNFe.erros",pu.erros),e.abrupt("return",r);case 30:return e.prev=30,Wo(i,1),e.finish(30);case 33:case"end":return e.stop()}},e,this,[[1,,30,33]])}));return function(t,a,o){return e.apply(this,arguments)}}(),acertoInicial:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("gerarJsonNFeD","acertoInicial"),t.infNFe.ide.tpNF="1",t.infNFe.ide.finNFe="1",e.next=5,Zn.configuracoes.leValorNumerico(this.homologacao);case 5:if(e.t0=e.sent,1!==e.t0){e.next=10;break}e.t1="2",e.next=11;break;case 10:e.t1="1";case 11:return t.infNFe.ide.tpAmb=e.t1,t.infNFe.ide.mod="65",t.infNFe.ide.tpImp="4",t.infNFe.ide.dhEmi=Ot.formatarDataNFe(new Date),e.next=17,He().documentoOperacao.filter(function(e){return"Venda"===e.descricao}).first();case 17:t.idCfopVenda=e.sent.idCfop,Po(!t.idCfopVenda,"Erro na configuração do sistema. Sem definição do CFOP de venda.");case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),gerarJsonCancelamento:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a={infEvento:{cOrgao:t.infNFe.ide.cUF,tpAmb:t.infNFe.ide.tpAmb,escolhas:{valor_escolha:t.infNFe.emit.escolhas.valor_escolha,CNPJ:t.infNFe.emit.escolhas.CNPJ,CPF:t.infNFe.emit.escolhas.CPF},chNFe:t.outrosNFe.chNFe,dhEvento:Ot.formatarDataNFe(new Date),nSeqEvento:"1",detEvento:{nProt:t.outrosNFe.nProt_emissao,xJust:"Nota cancelada devido divergencia de informacoes"}}},a.infEvento=vu.executa(Et.infEvento,a.infEvento,"NFCe"),a.infEvento=pu.executa(Et.infEvento,a.infEvento),t.erros=pu.erros,ei.log("gerarJsonNFCeD","infNFe",t.infNFe),ei.log("gerarJsonNFCeD","compactarValidarNFe.erros",pu.erros),e.abrupt("return",a.infEvento);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),obterConfiguracaoImposto:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("gerarJsonNFCeD","obterConfiguracaoImposto"),a="Produto '".concat(t.documentoItem.descricaoItem||"","'"),Po(!t.item.ncm,"".concat(a," sem cadastro de NCM")),e.next=5,He()._ncm.where("ncm").equals(t.item.ncm).first();case 5:return o=e.sent,Po(!o,"".concat(a," com NCM '").concat(t.item.ncm||"","' inválido")),t.documentoItem.idCfop||(t.documentoItem.idCfop=t.idCfopVenda),e.next=10,He().cfop.get(t.documentoItem.idCfop);case 10:return i=e.sent,Po(!i,"".concat(a," com CFOP inválido")),ei.log("gerarJsonNFCeD","dadosNcm.id: ".concat(o.id," dadosCfop.id: ").concat(i.id," dados.empresa.id: ").concat(t.empresa.id)),e.next=15,He().impostoConfiguracao.where("idNcm").equals(o.id).filter(function(e){return e.idCfop===i.id&&e.idEmitente===t.empresa.id&&e.ufOrigem===t.empresa.enderecoPrincipal.uf&&e.ufDestino===t.empresa.enderecoPrincipal.uf}).first();case 15:return r=e.sent,ei.log("gerarJsonNFCeD","impostoConfiguracao",r),s="Verifique a configuração do imposto para "+"NCM: ".concat(t.item.ncm||"",", ")+"CFOP: ".concat(i.cfop||"",", ")+"CNPJ: ".concat(t.empresa.numeroDocumentoNacional||"",", ")+"UF origem: ".concat(t.empresa.enderecoPrincipal.uf||"",", ")+"UF destino: ".concat(t.empresa.enderecoPrincipal.uf||"","."),Po(!r,"".concat(a," sem configuração de imposto. ").concat(s)),n=t.det.prod,c=t.det.imposto,e.prev=21,n.CFOP=(i.cfop||0).toString(),e.next=25,this.obterImpostoParametro(t,r.idOrigem);case 25:return c.noXml_orig=e.sent,e.next=28,this.obterImpostoParametro(t,r.idCst);case 28:return c.noXml_CST=c.noXml_CSOSN=e.sent,c.noXml_pICMS=r.aliqIcmsUFOrigem||r.aliqIcms||0,c.noXml_pRedBC=r.percRedBcIcms||0,c.noXml_pFCP=r.aliqFcp||0,e.next=34,this.obterImpostoParametro(t,r.idTipoTribPis);case 34:return c.noXml_CSTPis=e.sent,c.noXml_pPIS=r.aliqPis||0,e.next=38,this.obterImpostoParametro(t,r.idTipoTribCofins);case 38:if(c.noXml_CSTCofins=e.sent,c.noXml_pCOFINS=r.aliqCofins||0,!r.idCest){e.next=45;break}return e.next=43,this.obterImpostoParametro(t,r.idCest);case 43:l=e.sent,l&&(n.opcional.visivel=!0,n.opcional.CEST=Pa(l));case 45:e.next=51;break;case 47:e.prev=47,e.t0=e["catch"](21),console.error(e.t0),Po(!0,"".concat(a," com erro na configuração de imposto. ").concat(s));case 51:case"end":return e.stop()}},e,this,[[21,47]])}));return function(t){return e.apply(this,arguments)}}(),obterDestinatario:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){var i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t.destinatario={},a){e.next=4;break}return t.infNFe.dest.visivel=!1,e.abrupt("return");case 4:if(i=t.documentoFatura.idContato,!i){e.next=21;break}return e.next=8,He().contato.get(i);case 8:if(t.destinatario=e.sent,!t.destinatario){e.next=21;break}return e.next=12,He().contatoEndereco.where("idContato").equals(i).toArray();case 12:return t.destinatario.enderecos=e.sent,t.destinatario.enderecoPrincipal=t.destinatario.enderecos.find(function(e){return"Principal"===e.grupo}),t.destinatario.enderecoPrincipal||(t.destinatario.enderecoPrincipal=t.destinatario.enderecos[0]||{}),e.next=17,He().contatoTelefone.where("idContato").equals(i).toArray();case 17:t.destinatario.telefones=e.sent,t.destinatario.telefonePrincipal=t.destinatario.telefones.find(function(e){return"Principal"===e.grupo}),t.destinatario.telefonePrincipal||(t.destinatario.telefonePrincipal=t.destinatario.telefones[0]||{}),ei.log("gerarJsonNFCeD","dados.destinatario",t.destinatario);case 21:if(r=t.infNFe.dest,r.visivel=!0,s=Pa(a),11===s.length?(r.escolhas.valor_escolha="CPF",r.escolhas.CPF=s,r.indIEDest="9"):14===s.length?(r.escolhas.valor_escolha="CNPJ",r.escolhas.CNPJ=s,r.indIEDest="9"):Po(!0,"Destinatario com CPF/CNPJ inválido"),s===Pa(t.destinatario.numeroDocumentoNacional)){e.next=27;break}return e.abrupt("return");case 27:if("CNPJ"===r.escolhas.valor_escolha&&t.destinatario.numeroDocumentoEstadual&&(r.IE=Pa(t.destinatario.numeroDocumentoEstadual)),r.xNome=ro(o||t.destinatario.nome),t.destinatario.enderecoPrincipal.uf&&t.destinatario.enderecoPrincipal.ibgeCod){e.next=31;break}return e.abrupt("return");case 31:r.enderDest.visivel=!0,r.email=(t.destinatario.emailNfe||t.destinatario.email||"").trim(),r.enderDest.fone=Pa(t.destinatario.telefonePrincipal.telefone||""),r.enderDest.xLgr=ro(t.destinatario.enderecoPrincipal.logradouro),r.enderDest.nro=(t.destinatario.enderecoPrincipal.numero||"SN").trim(),r.enderDest.xCpl=ro(t.destinatario.enderecoPrincipal.complemento),r.enderDest.xBairro=ro(t.destinatario.enderecoPrincipal.bairro),r.enderDest.cMun=String(t.destinatario.enderecoPrincipal.ibgeCod||"").trim(),r.enderDest.xMun=ro(t.destinatario.enderecoPrincipal.municipio),r.enderDest.UF=(t.destinatario.enderecoPrincipal.uf||"").trim(),r.enderDest.CEP=Pa(t.destinatario.enderecoPrincipal.cep||""),r.enderDest.cPais="1058",r.enderDest.xPais=(t.destinatario.enderecoPrincipal.pais||"").trim()||"Brasil";case 44:case"end":return e.stop()}},e)}));return function(t,a,o){return e.apply(this,arguments)}}(),obterEmitente:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("gerarJsonNFCeD","obterEmitente"),a=t.documentoFatura.idEmpresa,Po(!a,"Fatura sem empresa emitente"),e.next=5,He().contato.get(a);case 5:return t.empresa=e.sent,Po(!t.empresa,"Não foi possível carregar a empresa emitente"),t.outrosNFe.idContatoEmitente=a,e.next=10,Ge.empresa.where({idContato:a}).first();case 10:if(t.empresaPlat=e.sent,t.empresaPlat){e.next=16;break}return o=JSON.parse(localStorage.getItem("clienteSistema")),e.next=15,Ge.empresa.where({codigoContato:t.empresa.codigoContato}).filter(function(e){return e.codigoClienteSistema===o.codigoClienteSistema}).first();case 15:t.empresaPlat=e.sent;case 16:return Po(!t.empresaPlat,"Não foi possível carregar a empresa emitente"),"1"===t.infNFe.ide.tpAmb?(Po(!t.empresaPlat.hashCSCProducao,"Empresa emitente sem hashCSC de produção cadastrado"),Po(!t.empresaPlat.tokenCSCProducao,"Empresa emitente sem tokenCSC de produção cadastrado"),t.empresaPlat.hashCSC=t.empresaPlat.hashCSCProducao,t.empresaPlat.tokenCSC=t.empresaPlat.tokenCSCProducao):(Po(!t.empresaPlat.hashCSCHomologacao,"Empresa emitente sem hashCSC de homologação cadastrado"),Po(!t.empresaPlat.tokenCSCHomologacao,"Empresa emitente sem tokenCSC de homologação cadastrado"),t.empresaPlat.hashCSC=t.empresaPlat.hashCSCHomologacao,t.empresaPlat.tokenCSC=t.empresaPlat.tokenCSCHomologacao),e.next=20,He().contatoEndereco.where("idContato").equals(a).toArray();case 20:return t.empresa.enderecos=e.sent,Po(!t.empresa.enderecos||0===t.empresa.enderecos.length,"Não foi possível carregar o endereço da empresa emitente"),t.empresa.enderecoPrincipal=t.empresa.enderecos.find(function(e){return"Principal"===e.grupo}),t.empresa.enderecoPrincipal||(t.empresa.enderecoPrincipal=t.empresa.enderecos[0]||{}),e.next=26,He().contatoTelefone.where("idContato").equals(a).toArray();case 26:if(e.t0=e.sent,e.t0){e.next=29;break}e.t0=[];case 29:t.empresa.telefones=e.t0,t.empresa.telefonePrincipal=t.empresa.telefones.find(function(e){return"Principal"===e.grupo}),t.empresa.telefonePrincipal||(t.empresa.telefonePrincipal=t.empresa.telefones[0]||{}),ei.log("gerarJsonNFCeD","dados.empresa",t.empresa),Po(!t.empresa.numeroDocumentoNacional,"Empresa emitente sem CNPJ cadastrado"),Po(!t.empresa.numeroDocumentoEstadual,"Empresa emitente sem Inscrição Estadual cadastrado"),Po(!t.empresa.nome,"Empresa emitente sem Razão Social (nome) cadastrado"),Po(!t.empresa.enderecoPrincipal.uf,"Empresa emitente sem UF cadastrado"),Po(!t.empresa.enderecoPrincipal.ibgeCod,"Empresa emitente sem código do município cadastrado"),Po(!t.empresa.regime,"Empresa emitente sem regime cadastrado"),i=t.infNFe.emit,i.escolhas.CNPJ=Pa(t.empresa.numeroDocumentoNacional),i.IE=Pa(t.empresa.numeroDocumentoEstadual),i.CRT="SimplesNacional"===t.empresa.regime?"1":"3",i.xNome=ro(t.empresa.nome),i.xFant=ro(t.empresa.apelido),i.email=(t.empresa.email||"").trim(),i.enderEmit.fone=Pa(t.empresa.telefonePrincipal.telefone),i.enderEmit.xLgr=ro(t.empresa.enderecoPrincipal.logradouro),i.enderEmit.nro=(t.empresa.enderecoPrincipal.numero||"SN").trim(),i.enderEmit.xCpl=ro(t.empresa.enderecoPrincipal.complemento),i.enderEmit.xBairro=ro(t.empresa.enderecoPrincipal.bairro),i.enderEmit.cMun=String(t.empresa.enderecoPrincipal.ibgeCod||"").trim(),i.enderEmit.xMun=ro(t.empresa.enderecoPrincipal.municipio),i.enderEmit.UF=(t.empresa.enderecoPrincipal.uf||"").trim(),i.enderEmit.CEP=Pa(t.empresa.enderecoPrincipal.cep),i.enderEmit.cPais="1058",i.enderEmit.xPais=ro(t.empresa.enderecoPrincipal.pais||"Brasil"),t.infNFe.ide.cMunFG=i.enderEmit.cMun,t.infNFe.ide.cUF=String(La[i.enderEmit.UF]);case 59:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),obterImpostoParametro:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(Po(!a,"Configuração de imposto sem informação completa"),o=t.cache[a],o){e.next=8;break}return e.next=5,He().impostoParametro.get(a);case 5:i=e.sent,o=i?i.numero.trim():void 0,t.cache[a]=o;case 8:return Po(!o,"Configuração de imposto inválida"),e.abrupt("return",o);case 10:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),obterMeioPagamento:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log("gerarJsonNFCeD","obterMeioPagamento",a),Po(!a,"Forma de pagamento inválida"),o=t.cache[a],!o){e.next=5;break}return e.abrupt("return",o);case 5:return e.next=7,He().formaPagamento.get(a);case 7:return i=e.sent,Po(!i||!i.descricao,"Não foi possível carregar a forma de pagamento"),r=i.descricao.toLowerCase(),o=r.includes("dinheiro")?"01":r.includes("débito")?"04":r.includes("crédito de clientes")?"99":r.includes("crédito")?"03":r.includes("cartão")&&1===Number(i.parcelamentoMaximo||0)?"04":r.includes("cartão")&&Number(i.parcelamentoMaximo||0)>1?"03":"99",t.cache[a]=o,e.abrupt("return",o);case 13:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),obterAliquotasTributosIbpt:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("gerarJsonNFCeD","obterValorAproxTributos",a),e.next=3,He().nfeIbpt.where("codigo").equals(Number(a.prod.NCM)).toArray();case 3:if(o=e.sent,!this.verificarAlerta(!o||0===o.length,"Não encontrado alíquotas para calculo do valor aproximado de tributos do NCM: ".concat(a.prod.NCM,". Atualize sua tabela IBPT."),t)){e.next=6;break}return e.abrupt("return");case 6:i=o.filter(function(e){return e.idContato===t.empresa.id}),r=i.length?i:o,s=r.reduce(function(e,t){return!e||e.vigenciaFim<t.vigenciaFim?t:e},null),this.verificarAlerta(s.vigenciaFim<na(),"Informações vencidas para para o calculo do valor aproximado de tributos do NCM: ".concat(a.prod.NCM,". Atualize sua tabela IBPT."),t),a.imposto.noXml_pTribImp=Number(s.importadosFederal||0),a.imposto.noXml_pTribFed=Number(s.nacionalFederal||0),a.imposto.noXml_pTribEst=Number(s.estadual||0),a.imposto.noXml_pTribMun=Number(s.municipal||0);case 14:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),verificarAlerta:function(e,t,a){return e&&(a.alertas||(a.alertas=[]),a.alertas.push(t),console.warn(t)),e}},zp=(a("ed50"),{gerarSat:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o,i){var r,s,n,c,l,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=Yo("gerarSat",t,a,o,i),s={},e.prev=2,Po(!a,"Número do PDV não fornecido"),Po(!t,"Fatura não fornecida"),s.NumeroPDV=a,o&&(s.CPF_CNPJ=o),i&&(s.NomeCliente=ro(i)),n={idDocumento:t,cpfCnpjCliente:o,nomeCliente:i,totalDevolucao:0,totalProdutos:0,totalServicos:0,alertas:[]},e.next=11,this.obterDadosGerais(n);case 11:return e.next=13,this.obterFatura(n);case 13:return e.next=15,this.obterEmpresa(n);case 15:return e.next=17,this.obterDestinatario(n);case 17:return e.next=19,this.obterItens(n);case 19:return s.Itens=e.sent,e.next=22,this.obterDescontoAcrescimoFatura(n);case 22:return c=e.sent,l=c.desconto,d=c.acrescimo,s.Desconto=l,s.Acrescimo=d,e.next=29,this.obterFormasPagamento(n);case 29:if(s.FormaPgto=e.sent,s.Mensagem=("Fatura: "+(n.documentoFatura.numero||(n.documentoFatura.id||"").slice(-6))).padEnd(48," "),!i){e.next=35;break}s.Mensagem+=i.padEnd(48," "),e.next=44;break;case 35:if(e.t0=n.destinatario.nome,!e.t0){e.next=42;break}return e.t1=n.destinatario.codigoContato,e.next=40,Zn.configuracoes.leValorNumerico("venda.codigoconsumidor");case 40:e.t2=e.sent,e.t0=e.t1!==e.t2;case 42:if(!e.t0){e.next=44;break}s.Mensagem+=n.destinatario.nome.padEnd(48," ");case 44:return e.t3=s.Mensagem,e.next=47,Zn.configuracoes.leValorComFiltroEmpresa("cupom.mensagem",n.documentoFatura.idEmpresa,"Obrigado e Volte Sempre!");case 47:return s.Mensagem=e.t3+=e.sent,s.Mensagem=ro(s.Mensagem),e.abrupt("return",{objetoJson:s,dados:n});case 50:return e.prev=50,Wo(r,(s.Itens||[]).length,s),e.finish(50);case 53:case"end":return e.stop()}},e,this,[[2,,50,53]])}));return function(t,a,o,i){return e.apply(this,arguments)}}(),guardarRetornoEmissaoSat:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){var i,r,s,n,c,l,d,u,m,p,v;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("gerarSatD","guardarRetornoSat",a),i=(new DOMParser).parseFromString(o,"application/xml"),Po(i.getElementsByTagName("parsererror").length,"Erro ao gravar os dados do SAT. (XML inválido)"),r=i.getElementsByTagName("infCFe")[0],Po(!r,"Erro ao gravar os dados do SAT. (XML inválido, sem infCFe)"),s=r.getElementsByTagName("ide")[0],Po(!s,"Erro ao gravar os dados do SAT. (XML inválido, sem ide)"),n=r.getElementsByTagName("dest")[0],Po(!n,"Erro ao gravar os dados do SAT. (XML inválido, sem dest)"),c=r.getElementsByTagName("total")[0],Po(!c,"Erro ao gravar os dados do SAT. (XML inválido, sem total)"),l=c.getElementsByTagName("ICMSTot")[0],Po(!l,"Erro ao gravar os dados do SAT. (XML inválido, sem ICMSTot)"),d=(n.getElementsByTagName("CPF")[0]||n.getElementsByTagName("CNPJ")[0]||{}).innerHTML||"",u=(s.getElementsByTagName("dEmi")[0]||{}).innerHTML,m=(s.getElementsByTagName("hEmi")[0]||{}).innerHTML,p=u&&m?At["d"].formatDate(u.substr(0,4)+"-"+u.substr(4,2)+"-"+u.substr(6,2)+"T"+m.substr(0,2)+":"+m.substr(2,2)+":"+m.substr(4,2)):"",v={id:hi(),idDocumento:t.idDocumento,idEmpresa:t.documentoFatura.idEmpresa,descricaoEmpresa:t.empresa.nome,idContato:t.documentoFatura.idContato,descricaoContato:t.documentoFatura.descricaoContato,nomeArquivo:a,chaveCupom:r.getAttribute("Id")||"",cancelamento:!1,xml:o,dataHoraEmissao:p,numeroCupom:Number((s.getElementsByTagName("nCFe")[0]||{}).innerHTML)||0,documentoConsumidor:d,valorIcms:Number((l.getElementsByTagName("vICMS")[0]||{}).innerHTML)||0,valorProdutos:Number((l.getElementsByTagName("vProd")[0]||{}).innerHTML)||0,valorDesconto:Number((l.getElementsByTagName("vDesc")[0]||{}).innerHTML)||0,valorPis:Number((l.getElementsByTagName("vPIS")[0]||{}).innerHTML)||0,valorConfins:Number((l.getElementsByTagName("vCOFINS")[0]||{}).innerHTML)||0,valorPisSt:Number((l.getElementsByTagName("vPISST")[0]||{}).innerHTML)||0,valorConfinsSt:Number((l.getElementsByTagName("vCOFINSST")[0]||{}).innerHTML)||0,outrosValores:Number((l.getElementsByTagName("vOutro")[0]||{}).innerHTML)||0,valorTotal:Number((c.getElementsByTagName("vCFe")[0]||{}).innerHTML)||0,valorTributos:Number((l.getElementsByTagName("vCFeLei12741")[0]||{}).innerHTML)||0,chaveCupomCancelado:"",dataHoraCupomCancelado:null},e.next=20,Zn.documentoSat.grava({atual:v});case 20:case"end":return e.stop()}},e)}));return function(t,a,o){return e.apply(this,arguments)}}(),guardarRetornoCancelamentoSat:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){var i,r,s,n,c,l,d,u,m,p,v,h,f,C;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("gerarSatD","guardarRetornoSat",a),i=(new DOMParser).parseFromString(o,"application/xml"),Po(i.getElementsByTagName("parsererror").length,"Erro ao gravar os dados do cancelamento do SAT. (XML inválido)"),r=i.getElementsByTagName("infCFe")[0],Po(!r,"Erro ao gravar os dados do cancelamento do SAT. (XML inválido, sem infCFe)"),s=r.getElementsByTagName("ide")[0],Po(!s,"Erro ao gravar os dados do cancelamento do SAT. (XML inválido, sem ide)"),n=r.getElementsByTagName("dest")[0],Po(!n,"Erro ao gravar os dados do cancelamento do SAT. (XML inválido, sem dest)"),c=r.getElementsByTagName("total")[0],Po(!c,"Erro ao gravar os dados do cancelamento do SAT. (XML inválido, sem total)"),l=(n.getElementsByTagName("CPF")[0]||n.getElementsByTagName("CNPJ")[0]||{}).innerHTML||"",d=(s.getElementsByTagName("dEmi")[0]||{}).innerHTML,u=(s.getElementsByTagName("hEmi")[0]||{}).innerHTML,m=d&&u?At["d"].formatDate(d.substr(0,4)+"-"+d.substr(4,2)+"-"+d.substr(6,2)+"T"+u.substr(0,2)+":"+u.substr(2,2)+":"+u.substr(4,2)):"",p=(r.getElementsByTagName("dEmi")[0]||{}).innerHTML,v=(r.getElementsByTagName("hEmi")[0]||{}).innerHTML,h=d&&u?At["d"].formatDate(p.substr(0,4)+"-"+p.substr(4,2)+"-"+p.substr(6,2)+"T"+v.substr(0,2)+":"+v.substr(2,2)+":"+v.substr(4,2)):"",f={},e.next=21,He().documento.get(t);case 21:return f.documentoFatura=e.sent,Eo(!f.documentoFatura,"Não foi possível carregar a fatura"),C={id:hi(),idDocumento:t,idEmpresa:f.documentoFatura.idEmpresa,descricaoEmpresa:f.documentoFatura.descricaoEmpresa,idContato:f.documentoFatura.idContato,descricaoContato:f.documentoFatura.descricaoContato,nomeArquivo:a,chaveCupom:r.getAttribute("Id")||"",cancelamento:!0,xml:o,dataHoraEmissao:m,dataHoraCupomCancelado:h,numeroCupom:Number((s.getElementsByTagName("nCFe")[0]||{}).innerHTML)||0,documentoConsumidor:l,valorTotal:Number((c.getElementsByTagName("vCFe")[0]||{}).innerHTML)||0,chaveCupomCancelado:r.getAttribute("chCanc")||""},e.next=26,Zn.documentoSat.grava({atual:C});case 26:case"end":return e.stop()}},e)}));return function(t,a,o){return e.apply(this,arguments)}}(),obterConfiguracaoImposto:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("gerarSatD","obterConfiguracaoImposto"),a="Produto '".concat(t.documentoItem.descricaoItem||"","'"),Po(!t.item.ncm,"".concat(a," sem cadastro de NCM")),e.next=5,He()._ncm.where("ncm").equals(t.item.ncm).first();case 5:return o=e.sent,Po(!o,"".concat(a," com NCM '").concat(t.item.ncm||"","' inválido")),t.documentoItem.idCfop||(t.documentoItem.idCfop=t.idCfopVenda),e.next=10,He().cfop.get(t.documentoItem.idCfop);case 10:return i=e.sent,Po(!i,"".concat(a," com CFOP inválido")),e.next=14,He().impostoConfiguracao.where("idNcm").equals(o.id).filter(function(e){return e.idCfop===i.id&&e.idEmitente===t.empresa.id&&e.ufOrigem===t.empresa.enderecoPrincipal.uf&&e.ufDestino===t.empresa.enderecoPrincipal.uf}).first();case 14:return r=e.sent,s="Verifique a configuração do imposto para "+"NCM: ".concat(t.item.ncm||"",", ")+"CFOP: ".concat(i.cfop||"",", ")+"CNPJ: ".concat(t.empresa.numeroDocumentoNacional||"",", ")+"UF origem: ".concat(t.empresa.enderecoPrincipal.uf||"",", ")+"UF destino: ".concat(t.empresa.enderecoPrincipal.uf||"","."),Po(!r,"".concat(a," sem configuração de imposto. ").concat(s)),n={},e.prev=18,n.CFOP=(i.cfop||0).toString(),e.next=22,this.obterImpostoParametro(t,r.idOrigem);case 22:return n.ICMS_OrigemMercadoria=e.sent,e.next=25,this.obterImpostoParametro(t,r.idCst);case 25:return n.ICMS_CST=e.sent,n.ICMS_CSOSN=n.ICMS_CST,n.ICMS_Aliquota=(r.aliqIcmsUFOrigem||r.aliqIcms||0).toString(),e.next=30,this.obterImpostoParametro(t,r.idTipoTribPis);case 30:return n.PIS_CST=e.sent,n.PIS_Aliquota=(r.aliqPis||0).toString(),e.next=34,this.obterImpostoParametro(t,r.idTipoTribCofins);case 34:n.COFINS_CST=e.sent,n.COFINS_Aliquota=(r.aliqCofins||0).toString(),e.next=42;break;case 38:e.prev=38,e.t0=e["catch"](18),console.error(e.t0),Po(!0,"".concat(a," com erro na configuração de imposto. ").concat(s));case 42:return e.next=44,this.obterValorAproxTributos(t,n.ICMS_OrigemMercadoria);case 44:return n.ValorAproxTributos=e.sent,e.abrupt("return",n);case 46:case"end":return e.stop()}},e,this,[[18,38]])}));return function(t){return e.apply(this,arguments)}}(),obterConfiguracaoImpostoV2:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("gerarSatD","obterConfiguracaoImposto"),a="Produto '".concat(t.documentoItem.descricaoItem||"","'"),Po(!t.item.ncm,"".concat(a," sem cadastro de NCM")),t.documentoItem.idCfop||(t.documentoItem.idCfop=t.idCfopVenda),e.next=6,He().cfop.get(t.documentoItem.idCfop);case 6:return o=e.sent,Po(!o,"".concat(a," com CFOP inválido")),i=Pa(t.documentoItem.ncm||""),i=8===i.length?i:Pa(t.item.ncm||""),r={emitente:{regime:"SimplesNacional"===t.empresa.regime?"1":"3",uf:t.empresa.enderecoPrincipal.uf,tributacaoSetor:t.empresa.tributacaoSetor,tributacao:t.empresa.tributacao},destinatario:{regime:"SimplesNacional"===t.destinatario.regime?"1":"Normal"===t.destinatario.regime?"3":void 0,uf:t.empresa.enderecoPrincipal.uf,pessoa:{CPF:"PF",CNPJ:"PJ",idEstrangeiro:"Estrangeiro"}[t.destinatario.tipoDocumentoNacional]||void 0,stributacaoSetoretor:t.destinatario.tributacaoSetor,tributacao:t.destinatario.tributacao,indicadorIE:"9",consumidor:"S",destino:"1"},ncm:i,cfop:String(o.cfop||""),cest:t.documentoItem.cest||t.item.cest,origemMercadoria:String(t.item.codigoOrigem||""),produto:t.item.descricao},e.next=13,Zn.configuracaoImposto.pesquisa(r);case 13:return s=e.sent,Po(!s||!s.ordem||!s.saida,"".concat(a," sem configuração de imposto. Verifique a configuração do imposto para ").concat(JSON.stringify(r)||"",".")),n={},n.CFOP=s.entrada.cfop,n.ICMS_OrigemMercadoria=s.entrada.origemMercadoria,n.ICMS_CST=s.saida.cstCsosn,n.ICMS_CSOSN=n.ICMS_CST,n.ICMS_Aliquota=(s.saida.pICMS||0).toString(),n.PIS_CST=s.saida.pisCst,n.PIS_Aliquota=(s.saida.pPIS||0).toString(),n.COFINS_CST=s.saida.cofinsCst,n.COFINS_Aliquota=(s.saida.pCOFINS||0).toString(),e.next=27,this.obterValorAproxTributos(t,n.ICMS_OrigemMercadoria);case 27:return n.ValorAproxTributos=e.sent,e.abrupt("return",n);case 29:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),obterDadosGerais:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("gerarSatD","obterDadosGerais"),e.next=3,He().documentoOperacao.filter(function(e){return"Venda"===e.descricao}).first();case 3:a=e.sent,t.idCfopVenda=a.idCfop,Po(!t.idCfopVenda,"Erro na configuração do sistema. Sem definição do CFOP de venda.");case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),obterDescontoAcrescimoFatura:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("gerarSatD","obterDescontoAcrescimoFatura"),a=lo(t.documentosVendas,"valorFrete"),o=a,t.totalFrete=a,i=t.documentoFatura.totalDesconto||0,i+=lo(t.documentosVendas,"totalDesconto"),t.totalDesconto=i,dt(o)>0&&dt(i)>0&&(o>i?(o-=i,i=0):(i-=o,o=0)),e.abrupt("return",{acrescimo:o.toFixed(2),desconto:i.toFixed(2)});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),obterDestinatario:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.documentoFatura.idContato,!a){e.next=10;break}return e.next=4,He().contato.get(a);case 4:if(e.t1=e.sent,e.t1){e.next=7;break}e.t1={};case 7:e.t0=e.t1,e.next=11;break;case 10:e.t0={};case 11:t.destinatario=e.t0;case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),obterEmpresa:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("gerarSatD","obterEmpresa"),a=t.documentoFatura.idEmpresa,Po(!a,"Fatura sem empresa emitente"),e.next=5,He().contato.get(a);case 5:return t.empresa=e.sent,Po(!t.empresa,"Não foi possível carregar a empresa emitente"),e.next=9,He().contatoEndereco.where("idContato").equals(a).toArray();case 9:return t.empresa.enderecos=e.sent,Po(!t.empresa.enderecos||0===t.empresa.enderecos.length,"Não foi possível carregar o endereço da empresa emitente"),e.next=13,He().contatoTelefone.where("idContato").equals(a).toArray();case 13:if(e.t0=e.sent,e.t0){e.next=16;break}e.t0=[];case 16:t.empresa.telefones=e.t0,t.empresa.enderecoPrincipal=t.empresa.enderecos.find(function(e){return"Principal"===e.grupo}),t.empresa.enderecoPrincipal||(t.empresa.enderecoPrincipal=t.empresa.enderecos[0]||{}),Po(!t.empresa.enderecoPrincipal.uf,"Empresa emitente sem UF cadastrado");case 20:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),obterFatura:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("gerarSatD","obterFatura"),a=t.idDocumento,e.next=4,He().documento.get(a);case 4:return t.documentoFatura=e.sent,Po(!t.documentoFatura,"Não foi possível carregar a fatura"),e.next=8,He().documento.where("idDocumentoAdicional").equals(a).toArray();case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0=[];case 11:return t.documentosAdicionais=e.t0,e.next=14,He().documento.where("idFatura").equals(a).toArray();case 14:if(e.t1=e.sent,e.t1){e.next=17;break}e.t1=[];case 17:t.documentosVendas=e.t1,t.idsDocumentos=[a].concat(la()(t.documentosAdicionais.map(function(e){return e.id})),la()(t.documentosVendas.map(function(e){return e.id})));case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),obterFormasPagamento:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("gerarSatD","obterFormasPagamento"),e.next=3,He().documentoCondicaoPagamento.where({idDocumento:t.idDocumento}).toArray();case 3:a=e.sent,Po(!a,"Não há pagamentos"),ei.log("gerarSatD","documentoCondicaoPagamento",a),o=[],i=!0,r=!1,s=void 0,e.prev=10,n=regeneratorRuntime.mark(function e(){var a,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=l.value,e.next=3,g.obterMeioPagamento(t,a.idFormaPagamento);case 3:i=e.sent,r=o.find(function(e){return e.CodigoMeioPagamento===i}),r?r.Valor=dt(r.Valor+a.valor):(r={CodigoMeioPagamento:i,Valor:dt(a.valor)},o.push(r));case 6:case"end":return e.stop()}},e)}),c=a[Symbol.iterator]();case 13:if(i=(l=c.next()).done){e.next=18;break}return e.delegateYield(n(),"t0",15);case 15:i=!0,e.next=13;break;case 18:e.next=24;break;case 20:e.prev=20,e.t1=e["catch"](10),r=!0,s=e.t1;case 24:e.prev=24,e.prev=25,i||null==c.return||c.return();case 27:if(e.prev=27,!r){e.next=30;break}throw s;case 30:return e.finish(27);case 31:return e.finish(24);case 32:return Po(0===o.length,"A fatura não possui pagamentos"),e.next=35,He().financeiroTitulo.where({idFatura:t.idDocumento}).toArray();case 35:if(d=e.sent,u=dt(lo(o,"Valor")),m=dt(lo(d,"valorTotal")+t.totalServicos),p=dt(t.totalProdutos+t.totalFrete+t.totalDevolucao-t.totalDesconto),ei.log("gerarSatD","\n      totalPagamentos: ".concat(u,"\n      totalProdutos: ").concat(t.totalProdutos,"\n      totalServicos: ").concat(t.totalServicos,"\n      totalFrete: ").concat(t.totalFrete,"\n      totalDesconto: ").concat(t.totalDesconto,"\n      totalDevolucao: ").concat(t.totalDevolucao,"\n      totalPagamentosCarnesServicos: ").concat(m,"\n      totalPagamentosNota: ").concat(p)),Po(Math.abs(u-m-p)>.02,"O valor dos pagamentos difere do somatório (produtos, serviços, frete, carnês, (-)devoluções e (-)descontos"),u>0&&u!==p){for(v=0;v<o.length;v++)h=o[v],h.Valor=dt(h.Valor*p/u);f=dt(lo(o,"Valor")),o[0].Valor+=p-f}for(t.totalDevolucao<0&&t.totalProdutos>0&&o.push({CodigoMeioPagamento:"99",Valor:-t.totalDevolucao}),C=0;C<o.length;C++)b=o[C],b.Valor=b.Valor.toFixed(2);return e.abrupt("return",o);case 45:case"end":return e.stop()}},e,null,[[10,20,24,32],[25,,27,31]])}));return function(t){return e.apply(this,arguments)}}(),obterImpostoParametro:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(Po(!a,"Configuração de imposto sem informação completa"),t.impostoParametro||(t.impostoParametro={}),o=t.impostoParametro[a],o){e.next=9;break}return e.next=6,He().impostoParametro.get(a);case 6:i=e.sent,o=i?i.numero.trim():void 0,t.impostoParametro[a]=o;case 9:return Po(!o,"Configuração de imposto inválida"),e.abrupt("return",o);case 11:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),obterItens:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("gerarSatD","obterItens"),e.next=3,He().documentoItem.where("idDocumento").anyOf(t.idsDocumentos).sortBy("dataHoraEmissao");case 3:a=e.sent,Po(!a,"Não foi possível carregar os produtos"),ei.log("gerarSatD","documentosItens",a),o=[],i=1,r=!0,s=!1,n=void 0,e.prev=11,c=regeneratorRuntime.mark(function e(){var r,s,n,c,l,u,p,v,h,f,C,b,g,x,_;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=d.value,s=dt(r.total||0),0!==dt(s)&&r.idItem){e.next=4;break}return e.abrupt("return","continue");case 4:if(!["Serviço"].includes(r.tipoItem)){e.next=7;break}return t.totalServicos+=s,e.abrupt("return","continue");case 7:if(!(s<0)){e.next=10;break}return t.totalDevolucao+=s,e.abrupt("return","continue");case 10:if(n=r.quantidade||0,c=r.valorItem||0,l=r.descontoItem||0,Po(s!==dt(n*c-l),"Valor total do item ".concat(r.codigoItem||""," não corresponde ao valor unitário vezes a quantidade")),!["TLOE","TLOD"].includes(r.tipoItem)){e.next=16;break}return e.abrupt("return","continue");case 16:if(!["LOE","LOD"].includes(r.tipoItem)){e.next=38;break}for(u=a.filter(function(e){return["TLOE","TLOD"].includes(e.tipoItem)&&e.idDocumentoItemPai===r.id}),ei.log("gerarSatD","tratamentos",u),p=!0,v=!1,h=void 0,e.prev=22,f=u[Symbol.iterator]();!(p=(C=f.next()).done);p=!0)b=C.value,c+=b.valorItem||0,l+=b.descontoItem||0,s+=b.total||0;e.next=30;break;case 26:e.prev=26,e.t0=e["catch"](22),v=!0,h=e.t0;case 30:e.prev=30,e.prev=31,p||null==f.return||f.return();case 33:if(e.prev=33,!v){e.next=36;break}throw h;case 36:return e.finish(33);case 37:return e.finish(30);case 38:return t.totalProdutos+=s,t.documentoItem=r,e.next=42,He().item.get(r.idItem);case 42:return t.item=e.sent,Po(!t.item,"Não foi possível carregar o cadastro do produto"),e.next=46,Zn.configuracoes.leValorNumerico("imposto.versao");case 46:if(g=e.sent,2!==g){e.next=53;break}return e.next=50,m.obterConfiguracaoImpostoV2(t);case 50:e.t1=e.sent,e.next=56;break;case 53:return e.next=55,m.obterConfiguracaoImposto(t);case 55:e.t1=e.sent;case 56:x=e.t1,_=String(t.item.codigoBarras||"").padStart(13,"0"),_.startsWith("999")&&(_=""),x.Sequencia=String(i),x.CodigoProduto=(r.codigoItem||0).toString(),x.CodigoBarras=_,x.Produto=ro(r.descricaoItem||"").substr(0,120).trim(),x.NCM=t.item.ncm||"",x.UnidadeMedida=t.item.unidade||"UN",x.Quantidade=n.toFixed(4),x.ValorUnitario=c.toFixed(4),x.DescontoUnitario=l.toFixed(2),x.AcrescimoUnitario="0",x.Total=s.toFixed(2),i++,o.push(x);case 72:case"end":return e.stop()}},e,null,[[22,26,30,38],[31,,33,37]])}),l=a[Symbol.iterator]();case 14:if(r=(d=l.next()).done){e.next=22;break}return e.delegateYield(c(),"t0",16);case 16:if(u=e.t0,"continue"!==u){e.next=19;break}return e.abrupt("continue",19);case 19:r=!0,e.next=14;break;case 22:e.next=28;break;case 24:e.prev=24,e.t1=e["catch"](11),s=!0,n=e.t1;case 28:e.prev=28,e.prev=29,r||null==l.return||l.return();case 31:if(e.prev=31,!s){e.next=34;break}throw n;case 34:return e.finish(31);case 35:return e.finish(28);case 36:return Po(0===o.length,"A fatura não possui produtos"),ei.log("gerarSatD","itens",o),e.abrupt("return",o);case 39:case"end":return e.stop()}},e,null,[[11,24,28,36],[29,,31,35]])}));return function(t){return e.apply(this,arguments)}}(),obterMeioPagamento:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log("gerarSatD","obterMeioPagamento",a),Po(!a,"Forma de pagamento inválida"),t.meiosPagamento||(t.meiosPagamento={}),o=t.meiosPagamento[a],!o){e.next=6;break}return e.abrupt("return",o);case 6:return e.next=8,He().formaPagamento.get(a);case 8:return i=e.sent,Po(!i||!i.descricao,"Não foi possível carregar a forma de pagamento"),r=i.descricao.toLowerCase(),o=r.includes("dinheiro")?"01":r.includes("débito")?"04":r.includes("crédito de clientes")?"99":r.includes("crédito")?"03":r.includes("cartão")&&1===Number(i.parcelamentoMaximo||0)?"04":r.includes("cartão")&&Number(i.parcelamentoMaximo||0)>1?"03":"99",t.meiosPagamento[a]=o,e.abrupt("return",o);case 14:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),obterValorAproxTributos:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("gerarSatD","obterValorAproxTributos",a),e.next=3,He().nfeIbpt.where("codigo").equals(Number(t.item.ncm)).toArray();case 3:if(o=e.sent,!this.verificarAlerta(!o.length,"Não encontrado alíquotas para calculo do valor aproximado de tributos do NCM: ".concat(t.item.ncm,". Atualize sua tabela IBPT."),t)){e.next=6;break}return e.abrupt("return","0.00");case 6:return i=o.filter(function(e){return e.idContato===t.empresa.id}),r=i.length?i:o,s=r.reduce(function(e,t){return!e||e.vigenciaFim<t.vigenciaFim?t:e},null),this.verificarAlerta(s.vigenciaFim<na(),"Informações vencidas para para o calculo do valor aproximado de tributos do NCM: ".concat(t.item.ncm,". Atualize sua tabela IBPT."),t),n=0,c=Number(t.documentoItem.descontoFaturaRateado||0)+Number(t.documentoItem.descontoTotalRateado||0),l=Number(t.documentoItem.quantidade||0)*(Number(t.documentoItem.valorItem||0)-Number(t.documentoItem.descontoItem||0))-c,["0","3","4","5","8"].includes(a)?n+=l*Number(s.nacionalFederal||0)/100:n+=l*Number(s.importadosFederal||0)/100,n+=l*Number(s.estadual||0)/100,n+=l*Number(s.municipal||0)/100,e.abrupt("return",n.toFixed(2));case 17:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),verificarAlerta:function(e,t,a){return e&&(a.alertas||(a.alertas=[]),a.alertas.push(t),console.warn(t)),e}}),Bp={components:{CpfCnpjNoCupom:np,ItemTrocarCest:_p},computed:{config:function(){return Zn.configuracoes.valores}},data:function(){return{configImpressaoNFe:[],documentosSat:[],documentosFiscais:[],documentosNFe:[],modalItemTrocarCest:{visivel:!1,campos:{}},cpfCnpjNoCupom:{visivel:!1,incluirCpfCnpjNoCupom:!1,cpfCnpj:"",nomeCliente:""}}},methods:{abrirNFe:function(e){qa.$emit("abrirNFe",e)},atualiza:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log("DocumentosFiscais","atualiza()",this.idFatura,this.idVenda),t=this.idFatura||this.idVenda,!t){e.next=13;break}return e.next=5,Zn.documentoFiscalEletronico.le({idDocumento:t});case 5:return a=e.sent,this.documentosFiscais=a.sort(function(e,t){return Number(t.nNF)-Number(e.nNF)}),e.next=9,Zn.documentoSat.le({idDocumento:t});case 9:o=e.sent,i=o.filter(function(e){return e.cancelamento}).map(function(e){return e.chaveCupomCancelado}),r=o.filter(function(e){return!i.includes(e.chaveCupom)}),this.documentosSat=r.sort(function(e,t){return t.numeroCupom-e.numeroCupom});case 13:return e.next=15,Zn.documento.le({id:t});case 15:return s=e.sent,e.next=18,this.configuraImpressao(s.idEmpresa);case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),cancelarSat:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("DocumentosFiscais","cancelarSat()",t),e.prev=1,e.next=4,this.$q.dialog({cancel:!0,color:"negative",title:"Tem certeza?",message:"Ao continuar você irá cancelar este cupom",ok:"Confirmar"});case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e["catch"](1),e.abrupt("return");case 9:return a="Erro no SAT",e.prev=10,Oe["a"].show({spinner:hu["a"],spinnerColor:"amber",message:"Cancelando o SAT"}),o=this.documentosSat.find(function(e){return e.id===t}),i={NumeroPDV:1,ChaveAcessoCFe:o.chaveCupom,CPF_CNPJ:"",Total:o.valorTotal},a="Ocorreu um erro ao cancelar o SAT",e.next=17,Vt.cancelarSat(JSON.stringify(i),o.idEmpresa);case 17:return r=e.sent,Po("Erro"===r.status,r.mensagem),this.$q.notifyPositive(r.mensagem),a="Ocorreu um erro ao gravar os dados do cancelamento do SAT",e.next=23,zp.guardarRetornoCancelamentoSat(this.idFatura,r.chaveCFe,r.xml);case 23:e.next=28;break;case 25:e.prev=25,e.t1=e["catch"](10),this.$q.notifyError(a,e.t1);case 28:return e.prev=28,Oe["a"].hide(),this.atualiza(),e.finish(28);case 32:case"end":return e.stop()}},e,this,[[1,6],[10,25,28,32]])}));return function(t){return e.apply(this,arguments)}}(),cancelarNFCe:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("DocumentosFiscais","cancelarNFCe()",t),e.prev=1,e.next=4,this.$q.dialog({cancel:!0,color:"negative",title:"Tem certeza?",message:"Ao continuar você irá cancelar este cupom",ok:"Confirmar"});case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e["catch"](1),e.abrupt("return");case 9:return a="Erro no NFCe",e.prev=10,Oe["a"].show({spinner:hu["a"],spinnerColor:"amber",message:"Selecionando Certificado e Cancelando NFCe"}),o=JSON.parse(this.documentosFiscais.find(function(e){return e.id===t}).json),ei.log("DocumentosFiscais","NFCe",o),e.next=16,jp.gerarJsonCancelamento(o);case 16:if(o.infEvento=e.sent,Po(!o.infEvento,a),!o.erros.length){e.next=21;break}return qa.$emit("mostrarModalAlerta",{titulo:"Erro de validação",erros:o.erros}),e.abrupt("return");case 21:return a="Ocorreu um erro ao cancelar o NFCe",e.next=24,Vt.cancelarNFCe(o);case 24:if(i=e.sent,"Erro"!==i.status){e.next=30;break}return ei.log("DocumentosFiscaisErro",i),r=la()((i.mensagem||"").split("\n")).concat(la()((i.complemento||"").split("\n"))),qa.$emit("mostrarModalAlerta",{titulo:i.status,erros:r}),e.abrupt("return");case 30:this.$q.notifyPositive(i.mensagem),e.next=36;break;case 33:e.prev=33,e.t1=e["catch"](10),this.$q.notifyError(a,e.t1);case 36:return e.prev=36,Oe["a"].hide(),this.atualiza(),e.finish(36);case 40:case"end":return e.stop()}},e,this,[[1,6],[10,33,36,40]])}));return function(t){return e.apply(this,arguments)}}(),configuraImpressao:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.configuracoes.porNome("impressao.nfe",t);case 2:a=e.sent,this.configImpressaoNFe=a.length?a.map(function(e){return at()({texto:"Imprimir Orçamento"},e)}):[{valor:"nfe-danfe",texto:"Imprimir DANFE"}];case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),emitirCupom:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("DocumentosFiscais","emitirCupom()"),e.prev=1,e.next=4,Zn.documento.le({id:t});case 4:return a=e.sent,Po(!a||!a.status,"Erro ao emitir cupom. Falha na consulta da fatura."),Po("Finalizada"!==a.status,"Cupom não emitido. A Fatura não foi finalizada."),e.next=9,Zn.financeiroTitulo.le({documentoId:t});case 9:if(o=e.sent[0],o){e.next=13;break}return ei.log("DocumentosFiscais","Cupom não emitido. Fatura sem pagamentos."),e.abrupt("return");case 13:if(o.idDocumentoCaixa){e.next=20;break}return e.next=16,Zn.configuracoes.porNome("vendas.tipoPDV",a.idEmpresa);case 16:r=e.sent,i=parseInt(((r||[]).find(function(e){return e.valor})||{}).valor)||4,e.next=29;break;case 20:return e.next=22,Zn.documento.le({id:o.idDocumentoCaixa});case 22:return s=e.sent,Po(!s||!s.idCaixa,"Erro ao emitir cupom. Falha na consulta do documento Caixa."),e.next=26,Zn.caixa.le({id:s.idCaixa});case 26:n=e.sent,Po(!n||!n.tipo,"Erro ao emitir cupom. Falha na consulta do Caixa."),i=n.tipo;case 29:if(Po(!Zn.caixa.tiposCaixa[i],"Erro ao emitir cupom. Tipo de Caixa ".concat(i," inválido.")),i=Zn.caixa.tiposCaixa[i],["SAT","NFCe"].includes(i)){e.next=34;break}return ei.log("DocumentosFiscais","Cupom não emitido. Emissão de ".concat(Zn.caixa.tiposCaixa[i]," não permitido.")),e.abrupt("return");case 34:if("SAT"!==i){e.next=45;break}return e.next=37,Zn.documentoSat.le({idDocumento:t});case 37:c=e.sent,Po(!c,"Erro ao emitir cupom. Falha na consulta dos documentos Sat."),l=c.filter(function(e){return e.cancelamento}).map(function(e){return e.chaveCupomCancelado}),d=c.filter(function(e){return!l.includes(e.chaveCupom)}),u=d.filter(function(e){return!e.cancelamento}),Po(u.length>0,"Cupom Sat já emitido para a fatura"),e.next=51;break;case 45:if("NFCe"!==i){e.next=51;break}return e.next=48,Zn.documentoFiscalEletronico.le({idDocumento:t,situacao:"Emitido"});case 48:m=e.sent,Po(!m,"Erro ao emitir cupom. Falha na consulta dos dados."),Po(m.length>0,"Cupom já emitido para a fatura");case 51:return e.next=53,Oo(t);case 53:return this.cpfCnpjNoCupom={visivel:!0,incluirCpfCnpjNoCupom:!1,cpfCnpj:a.numeroDocumentoContato,nomeCliente:a.descricaoContato,idFatura:t,tipoCaixa:i,concluir:null},e.next=56,new Promise(function(e,t){p.cpfCnpjNoCupom.concluir=e});case 56:return e.next=58,this.$utils.dormir(500);case 58:if(!this.modalItemTrocarCest.visivel){e.next=61;break}return e.next=61,new Promise(function(e,t){p.concluirItemTrocarCest=e});case 61:e.next=66;break;case 63:e.prev=63,e.t0=e["catch"](1),this.$q.notifyError("Erro ao emitir cupom",e.t0);case 66:case"end":return e.stop()}},e,this,[[1,63]])}));return function(t){return e.apply(this,arguments)}}(),emitirCupomConfirma:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",{SAT:this.emitirCupomSatConfirma,NFCe:this.emitirCupomNFCeConfirma}[t.tipoCaixa](t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),emitirCupomSatConfirma:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("DocumentosFiscais","emitirCupomSatConfirma()"),a="Erro no SAT",e.prev=2,Oe["a"].show({spinner:hu["a"],spinnerColor:"amber",message:"Emitindo o SAT"}),t.incluirCpfCnpjNoCupom||(t.cpfCnpj="",t.nomeCliente=""),a="Ocorreu um erro ao gerar o SAT",e.next=8,zp.gerarSat(t.idFatura,1,t.cpfCnpj,t.nomeCliente);case 8:for(o=e.sent,i=o.objetoJson,r=o.dados,Po(!i,a),s=!0,n=!1,c=void 0,e.prev=15,l=r.alertas[Symbol.iterator]();!(s=(d=l.next()).done);s=!0)u=d.value,this.$q.notify({message:u,textColor:"black",type:"warning"});e.next=23;break;case 19:e.prev=19,e.t0=e["catch"](15),n=!0,c=e.t0;case 23:e.prev=23,e.prev=24,s||null==l.return||l.return();case 26:if(e.prev=26,!n){e.next=29;break}throw c;case 29:return e.finish(26);case 30:return e.finish(23);case 31:return a="Ocorreu um erro ao emitir o SAT",e.next=34,Vt.emitirSat(JSON.stringify(i),r.empresa.id);case 34:return m=e.sent,Po("Erro"===m.status,m.mensagem),this.$q.notifyPositive(m.mensagem),a="Ocorreu um erro ao gravar os dados do SAT",e.next=40,zp.guardarRetornoEmissaoSat(r,m.chaveCFe,m.xml);case 40:e.next=45;break;case 42:e.prev=42,e.t1=e["catch"](2),this.$q.notifyError(a,e.t1);case 45:return e.prev=45,Oe["a"].hide(),!this.modalItemTrocarCest.visivel&&this.concluirItemTrocarCest&&(this.concluirItemTrocarCest(),this.concluirItemTrocarCest=null),this.atualiza(),e.finish(45);case 50:case"end":return e.stop()}},e,this,[[2,42,45,50],[15,19,23,31],[24,,26,30]])}));return function(t){return e.apply(this,arguments)}}(),emitirCupomNFCeConfirma:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("DocumentosFiscais","emitirCupomNFCeConfirma()"),a="Erro ao emitir Cupom NFCe",e.prev=2,Oe["a"].show({spinner:hu["a"],spinnerColor:"amber",message:"Selecionando Certificado e Emitindo o Cupom NFCe"}),t.incluirCpfCnpjNoCupom||(t.cpfCnpj="",t.nomeCliente=""),a="Ocorreu um erro ao gerar o Cupom NFCe",e.next=8,jp.gerarJson(t.idFatura,t.cpfCnpj,t.nomeCliente);case 8:if(i=e.sent,Po(!i,a),!i.erros.length){e.next=13;break}return qa.$emit("mostrarModalAlerta",{titulo:"Erro de validação",erros:i.erros}),e.abrupt("return");case 13:return e.next=15,this.verificarCestEmST(i);case 15:if(!e.sent){e.next=17;break}return e.abrupt("return");case 17:for(r=!0,s=!1,n=void 0,e.prev=20,c=i.alertas[Symbol.iterator]();!(r=(l=c.next()).done);r=!0)d=l.value,this.$q.notify({message:d,textColor:"black",type:"warning"});e.next=28;break;case 24:e.prev=24,e.t0=e["catch"](20),s=!0,n=e.t0;case 28:e.prev=28,e.prev=29,r||null==c.return||c.return();case 31:if(e.prev=31,!s){e.next=34;break}throw n;case 34:return e.finish(31);case 35:return e.finish(28);case 36:return a="Ocorreu um erro ao emitir o Cupom NFCe",e.next=39,Vt.emitirNFCe(i,i.empresaPlat.hashCSC,i.empresaPlat.tokenCSC);case 39:if(o=e.sent,"Erro"!==o.status){e.next=45;break}return ei.log("DocumentosFiscaisErro",o),u=la()((o.mensagem||"").split("\n")).concat(la()((o.complemento||"").split("\n"))),qa.$emit("mostrarModalAlerta",{titulo:o.status,erros:u}),e.abrupt("return");case 45:this.$q.notifyPositive(o.mensagem),e.next=52;break;case 48:return e.prev=48,e.t1=e["catch"](2),this.$q.notifyError(a,e.t1),e.abrupt("return");case 52:return e.prev=52,Oe["a"].hide(),!this.modalItemTrocarCest.visivel&&this.concluirItemTrocarCest&&(this.concluirItemTrocarCest(),this.concluirItemTrocarCest=null),this.atualiza(),e.finish(52);case 57:return e.prev=57,e.next=60,Vt.imprimirNFCe(o.xml,i.outrosNFe.idContatoEmitente);case 60:m=e.sent,"Erro"===m.status&&console.error("Erro ao imprimir NFCe\n",m.mensagem),e.next=67;break;case 64:e.prev=64,e.t2=e["catch"](57),console.error("Erro ao imprimir NFCe\n",e.t2.toString());case 67:case"end":return e.stop()}},e,this,[[2,48,52,57],[20,24,28,36],[29,,31,35],[57,64]])}));return function(t){return e.apply(this,arguments)}}(),reimprimirSat:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log("DocumentosFiscais","reimprimirSat()",t),e.prev=1,Oe["a"].show({spinner:hu["a"],spinnerColor:"amber",message:"Imprimindo SAT"}),a=this.documentosSat.find(function(e){return e.id===t}),ei.log("DocumentosFiscais","sat.xml",a.xml),!a.cancelamento){e.next=11;break}return e.next=8,Vt.imprimirCancelamentoSat(a.xml,a.idEmpresa);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,Vt.imprimirSat(a.xml,a.idEmpresa);case 13:e.t0=e.sent;case 14:o=e.t0,Po("Erro"===o.status,o.mensagem),this.$q.notifyPositive(o.mensagem),e.next=22;break;case 19:e.prev=19,e.t1=e["catch"](1),this.$q.notifyError("Ocorreu um erro ao imprimir o SAT",e.t1);case 22:return e.prev=22,Oe["a"].hide(),e.finish(22);case 25:case"end":return e.stop()}},e,this,[[1,19,22,25]])}));return function(t){return e.apply(this,arguments)}}(),reimprimirNFCe:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("DocumentosFiscais","reimprimirNFCe()",t),e.prev=1,Oe["a"].show({spinner:hu["a"],spinnerColor:"amber",message:"Imprimindo NFCe"}),e.next=5,Zn.documentoFiscalEletronicoXml.le({idDocumentoFiscalEletronico:t,status:"Sucesso",situacao:"Emitido"});case 5:return a=e.sent,Po(!a||!a.length||!a[0].xmlProt,"Ocorreu um erro ao carregar o xml da NFCe"),o=JSON.parse(a[0].json),ei.log("DocumentosFiscais","NFCeXml",a[0].xmlProt),e.next=11,Vt.imprimirNFCe(a[0].xmlProt,o.outrosNFe.idContatoEmitente);case 11:i=e.sent,Po("Erro"===i.status,i.mensagem),this.$q.notifyPositive(i.mensagem),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](1),this.$q.notifyError("Ocorreu um erro ao imprimir o NFCe",e.t0);case 19:return e.prev=19,Oe["a"].hide(),e.finish(19);case 22:case"end":return e.stop()}},e,this,[[1,16,19,22]])}));return function(t){return e.apply(this,arguments)}}(),verificarCestEmST:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.configuracoes.leValorNumerico("imposto.versao");case 2:if(a=e.sent,2===a){e.next=5;break}return e.abrupt("return",!1);case 5:for(o=[],i=!0,r=!1,s=void 0,e.prev=9,n=t.infNFe.det[Symbol.iterator]();!(i=(c=n.next()).done);i=!0)l=c.value,d=this._.get(l,"prod.noXml_id"),u=this._.get(l,"prod.opcional.CEST"),m=this._.get(l,"imposto.noXml_CSOSN")||this._.get(l,"imposto.noXml_CST"),["10","20","60","70","201","202","500"].includes(m)&&!u&&o.push(d);e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](9),r=!0,s=e.t0;case 17:e.prev=17,e.prev=18,i||null==n.return||n.return();case 20:if(e.prev=20,!r){e.next=23;break}throw s;case 23:return e.finish(20);case 24:return e.finish(17);case 25:if(0!==o.length){e.next=27;break}return e.abrupt("return",!1);case 27:return this.modalItemTrocarCest={visivel:!0,campos:{ids:o}},e.abrupt("return",!0);case 29:case"end":return e.stop()}},e,this,[[9,13,17,25],[18,,20,24]])}));return function(t){return e.apply(this,arguments)}}(),verNoSefaz:function(e){ei.log("DocumentosFiscais","verNoSefaz()",e),window.open(e,"_blank")}},props:{idFatura:{required:!1,type:String},idVenda:{required:!1,type:String}},watch:{idFatura:function(){this.atualiza()},"cpfCnpjNoCupom.visivel":function(e){!e&&this.cpfCnpjNoCupom.concluir&&(this.cpfCnpjNoCupom.concluir(),this.cpfCnpjNoCupom.concluir=null)},"modalItemTrocarCest.visivel":function(e){!e&&this.concluirItemTrocarCest&&(this.concluirItemTrocarCest(),this.concluirItemTrocarCest=null)}},mounted:function(){qa.$on("atualizarDocumentosFiscais",this.atualiza),this.atualiza()},beforeDestroy:function(){qa.$off("atualizarDocumentosFiscais",this.atualiza)}},Lp=Bp,Vp=(a("1c4d"),Object(sc["a"])(Lp,ep,tp,!1,null,null,null));Vp.options.__file="DocumentosFiscais.vue";var Up=Vp.exports,Hp={methods:{emitirNFeV2:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.idVenda,o=t.idFatura,i=b.length>1&&void 0!==b[1]?b[1]:1,r=b.length>2&&void 0!==b[2]?b[2]:"",ei.log("emitirNFe","emitirNFeV2()",r),e.prev=4,Eo(![1,0].includes(i)||!(a||o),"Parâmetros inválidos."),s=o||a,e.next=9,Zn.documento.le({id:s});case 9:if(n=e.sent,Po(!n||!n.status||!n.tipo,"Erro ao emitir nota. Falha na consulta da fatura/venda."),Po(!this.$utils.mapearStatus(n).permiteNota,"A ".concat(n.tipo," não foi finalizada.")),"Remessa"===r){e.next=59;break}return e.next=15,Zn.documentoFiscalEletronico.le({idDocumento:s});case 15:if(c=e.sent,Po(!c,"Falha na consulta das notas"),Po(c.find(function(e){return"Cancelado"!==e.situacao&&e.operacao===r}),"".concat(n.tipo," já possui nota de ").concat(r)),!a){e.next=25;break}return Po("Venda"!==n.tipo,"Venda inválida"),e.next=22,Zn.documentoFiscalEletronico.le({idDocumento:n.idFatura});case 22:l=e.sent,Po(!l,"Falha na consulta das notas"),Po(l.find(function(e){return"Cancelado"!==e.situacao&&e.operacao===r}),"Fatura da Venda já possui nota de ".concat(r));case 25:if(!o){e.next=59;break}return Po("Fatura"!==n.tipo,"Fatura inválida"),e.next=29,Zn.documento.le({idFatura:o});case 29:d=e.sent,u=!0,m=!1,p=void 0,e.prev=33,v=d[Symbol.iterator]();case 35:if(u=(h=v.next()).done){e.next=45;break}return f=h.value,e.next=39,Zn.documentoFiscalEletronico.le({idDocumento:f.id});case 39:C=e.sent,Po(!C,"Falha na consulta das notas"),Po(C.find(function(e){return"Cancelado"!==e.situacao&&e.operacao===r}),"Fatura/Venda já possui nota de ".concat(r,". Favor emitir a NFe a partir de cada venda da fatura."));case 42:u=!0,e.next=35;break;case 45:e.next=51;break;case 47:e.prev=47,e.t0=e["catch"](33),m=!0,p=e.t0;case 51:e.prev=51,e.prev=52,u||null==v.return||v.return();case 54:if(e.prev=54,!m){e.next=57;break}throw p;case 57:return e.finish(54);case 58:return e.finish(51);case 59:return e.next=61,Oo(s);case 61:this.$q.loading.show({message:"Processando"}),qa.$emit("gerarNFe",s,i,r),e.next=68;break;case 65:e.prev=65,e.t1=e["catch"](4),this.$q.notifyError("Ocorreu um erro ao gerar NFe",e.t1);case 68:return e.prev=68,this.$q.loading.hide(),e.finish(68);case 71:case"end":return e.stop()}},e,this,[[4,65,68,71],[33,47,51,59],[52,,54,58]])}));return function(t){return e.apply(this,arguments)}}()}},Qp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{maximized:""},on:{show:e.mostrar,hide:e.fechar},model:{value:e.visibilidade.modal,callback:function(t){e.$set(e.visibilidade,"modal",t)},expression:"visibilidade.modal"}},[a("q-modal-layout",{staticClass:"bg-grey-4"},[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("Fatura")]),e.visibilidade.botao.salvar?a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"white","text-color":"primary",label:"Salvar"},on:{click:e.salvar}}):e._e(),e.visibilidade.botao.reabrir&&e.temPermissaoCorrigir?a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"white","text-color":"negative",label:"Corrigir"},on:{click:e.corrigir}}):e._e()],1),a("div",{staticClass:"layout-padding q-pa-none q-pb-xl"},[a("div",{staticClass:"u-container"},[e.carregando?e._e():a("div",[e.fatura.id?a("fatura",{ref:"fatura",attrs:{prop:{id:e.fatura.id},receberTitulo:e.receberTitulo},on:{executar:e.executar}}):e._e()],1),e.carregando?a("div",{staticClass:"q-mt-lg text-center"},[a("q-spinner",{attrs:{color:"faded",size:50}})],1):e._e()])]),a("q-toolbar",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("q-toolbar-title",{staticClass:"text-right"},[e.visibilidade.botao.reabrir?a("q-btn",{staticClass:"q-mx-md",attrs:{color:"negative",flat:"",label:"Reabrir"},on:{click:function(t){e.executar("reabrir")}}}):e._e(),e.visibilidade.botao.finalizar?a("q-btn",{attrs:{color:"primary",label:"Finalizar"},on:{click:function(t){e.executar("finalizar")}}}):e._e()],1)],1)],1)],1)},Gp=[];Qp._withStripped=!0;var Jp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Fatura round-borders bg-grey-2 q-pb-sm"},[a("q-toolbar",{staticClass:"Fatura-barra bg-grey-2 q-py-md",attrs:{color:"black",inverted:""}},[a("q-toolbar-title",[a("div",{staticClass:"row items-center"},[a("avatar",{attrs:{imagem:(e.contatos[e.fatura.idContato]||{}).imagem,rotulo:e.fatura.descricaoContato,tamanho:"60"}}),a("div",{staticClass:"col q-ma-sm q-title"},[e._v(e._s(e.fatura.descricaoContato))])],1),a("div",{staticClass:"q-headline"})]),e.fatura.id?a("documento-codigo",{attrs:{documento:e.fatura}}):e._e(),a("q-btn",{attrs:{color:"primary",flat:"",icon:"print",round:""}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},[e._l(e.configImpressaoFatura,function(t){return a("q-item",{key:t.valor,nativeOn:{click:function(a){e.imprimir(t.valor,(e.fatura||{}).id||"0")}}},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:t.texto}})],1)}),"optisoul"===e.sistemaPai?e._l(e.configImpressaoEnvelope,function(t){return a("q-item",{key:t.valor,nativeOn:{click:function(a){e.imprimir(t.valor,(e.fatura||{}).id||"0")}}},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:t.texto}})],1)}):e._e(),e._l(e.configImpressaoCarne,function(t){return a("q-item",{key:t.valor,nativeOn:{click:function(a){e.imprimir(t.valor,(e.fatura||{}).id||"0")}}},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:t.texto}})],1)}),e._l(e.configImpressaoConvenio,function(t){return a("q-item",{key:t.valor,nativeOn:{click:function(a){e.imprimir(t.valor,(e.fatura||{}).id||"0")}}},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:t.texto}})],1)})],2)],1)],1),a("q-btn",{attrs:{color:"faded",flat:"",icon:"more_vert",round:""}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},[e.fatura.id?a("q-item",[a("q-item-side",{attrs:{icon:"account_balance"}}),a("q-item-main",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{label:"Emitir cupom"},nativeOn:{click:function(t){e.$refs.documentosFiscais.emitirCupom(e.fatura.id)}}})],1):e._e(),e.fatura.id&&e.$utils.mapearStatus(e.fatura).permiteNota?[a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.emitirNFeV2({idFatura:e.fatura.id},1,"Venda")}}},[a("q-item-side",{attrs:{icon:"account_balance"}}),a("q-item-main",{attrs:{label:"NFe de Saída/Venda"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.emitirNFeV2({idFatura:e.fatura.id},0,"Devolução")}}},[a("q-item-side",{attrs:{icon:"account_balance"}}),a("q-item-main",{attrs:{label:"NFe de Entrada/Devolução"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.emitirNFeV2({idFatura:e.fatura.id},1,"Remessa")}}},[a("q-item-side",{attrs:{icon:"account_balance"}}),a("q-item-main",{attrs:{label:"NFe de Remessa"}})],1)]:e._e()],2)],1)],1)],1),a("div",{staticClass:"bg-grey-2"},[a("documento-metas",{attrs:{slot:"subtitle",documento:e.fatura},slot:"subtitle"})],1),a("div",{staticClass:"q-ma-sm"},[e.vendas.length>0?a("p",{staticClass:"q-item-label ",staticStyle:{color:"#0c0c0c"}},[a("q-icon",{staticClass:"q-mr-md",staticStyle:{color:"#737373"},attrs:{name:"shopping_cart",size:"24px"}}),e._v(" Vendas\n    ")],1):e._e(),e._l(e.vendas,function(t){return a("div",{key:t.id,staticClass:"bg-white q-mt-sm round-borders"},[a("venda-card",{attrs:{id:t.id},on:{atualizar:e.atualizar,executar:e.executar}})],1)}),e.carnes.length>0?a("p",{staticClass:"q-item-label q-mt-md",staticStyle:{color:"#0c0c0c"}},[a("q-icon",{staticClass:"q-mr-md",staticStyle:{color:"#737373"},attrs:{name:"attach_money",size:"24px"}}),e._v(" Carnês\n    ")],1):e._e(),e._l(e.carnes,function(t){return a("div",{key:t.id,staticClass:"bg-white q-mt-sm round-borders"},[a("titulo-card",{staticClass:"q-mt-md",attrs:{dados:t},on:{executar:e.executar}})],1)})],2),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-4 offset-lg-8 border-1 q-my-md"},[a("div",{staticClass:"row gutter-x-sm q-mb-sm"},[a("div",{staticClass:"col-4 col-lg-3",staticStyle:{"line-height":"35px"}},[e._v("Subtotal")]),a("strong",{staticClass:"col-8 text-right"},[e._v(e._s(e._f("numero")(e.fatura.subTotal,2)))])]),e.permissaoDesconto?a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-4 col-lg-3",staticStyle:{"line-height":"50px"}},[e._v("Desconto")]),a("q-field",{staticClass:"col-3"},[a("campo",{attrs:{tipo:"decimal",decimals:"2",suffix:"%","somente-leitura":"Aberta"!==e.fatura.status,erro:e.erroCalculo},on:{input:function(t){e.calculaTotais("descontoPercentual")}},model:{value:e.fatura.totalPercentualDesconto,callback:function(t){e.$set(e.fatura,"totalPercentualDesconto",t)},expression:"fatura.totalPercentualDesconto"}})],1),a("q-field",{staticClass:"col-5"},[a("campo",{attrs:{tipo:"decimal",decimals:"2","somente-leitura":"Aberta"!==e.fatura.status,erro:e.erroCalculo,"erro-rotulo":e.erroCalculoMsg},on:{input:function(t){e.calculaTotais("desconto")}},model:{value:e.fatura.totalDesconto,callback:function(t){e.$set(e.fatura,"totalDesconto",t)},expression:"fatura.totalDesconto"}})],1)],1):e._e(),a("div",{staticClass:"row gutter-x-sm q-mt-sm"},[a("div",{staticClass:"col-4 col-lg-3",staticStyle:{"line-height":"35px"}},[e._v("Total")]),a("strong",{staticClass:"col-8 q-mt-sm text-right"},[e._v(e._s(e._f("numero")(e.fatura.totalDocumento,2)))])])])]),a("div",{staticClass:"Fatura-faturamento round-borders q-ma-sm q-pa-md"},[a("faturamento",{ref:"faturamento",attrs:{documento:e.fatura}})],1),a("div",{staticClass:" round-borders q-ma-sm q-pa-md"},[a("documentos-fiscais",{ref:"documentosFiscais",attrs:{idFatura:e.fatura.id}})],1)],1)},Xp=[];Jp._withStripped=!0;var Yp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("badge",{attrs:{cor:e.cor,escuro:"warning"!==e.cor}},[e._v("\n  "+e._s(e.codigo)+"\n\n  "),e.status?a("q-tooltip",[e._v("\n    "+e._s(e.status)+"\n    "),e.prioridade&&e.prioridade.tooltip?[e._v(e._s(e.prioridade.tooltip))]:e._e()],2):e._e()],1)},Wp=[];Yp._withStripped=!0;var Zp={components:{Badge:Bd},computed:{codigo:function(){return this.documento.numero?"#"+this.documento.numero:this.documento.id?"#"+this.documento.id.slice(-6):""},cor:function(){if(this.status){if(this.prioridade&&this.prioridade.cor)return this.prioridade.cor;var e=this.status.toUpperCase(),t={ABERTA:"positive","AGUARDANDO FATURAMENTO":"warning","AGUARDANDO PAGAMENTO":"warning",CANCELADO:"negative",FATURADO:"faded",FINALIZADO:"faded","NÃO APROVADO":"negative","ORÇAMENTO":"positive"};return t[e]||"positive"}},status:function(){return this.documento.status||null}},props:{documento:{default:function(){return{}},required:!0,type:Object},prioridade:Object}},Kp=Zp,ev=Object(sc["a"])(Kp,Yp,Wp,!1,null,null,null);ev.options.__file="DocumentoCodigo.vue";var tv=ev.exports,av=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-sm border-1 q-my-sm DocumentoMetas text-faded row"},e._l(e.metaDados,function(t,o){return a("div",{key:o,staticClass:"DocumentoMetas-item col-12 col-lg  "},[a("div",{staticClass:"row q-ml-md"},[a("div",{staticClass:"DocumentoMetas-itemRotulo2 q-caption text-weight-bold col-auto q-mr-sm "},[e._v(e._s(o))]),a("div",{staticClass:"DocumentoMetas-itemConteudo2 q-caption col"},e._l(t,function(t,o){return a("div",{key:o},[e._v(" "+e._s(t))])}))])])}))},ov=[];av._withStripped=!0;var iv={data:function(){return{metaDados:{}}},props:{documento:{default:function(){return{}},required:!0,type:Object},idContatoComprador:{type:String},idContatoRepresentando:{type:String}},watch:{documento:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.documento,a={},a["ID"]=[t.id],t.idFatura||(a["Emitente"]=[t.descricaoEmpresa,t.numeroDocumentoEmpresa]),!t.idFatura&&t.idContato&&(a["End./Tel."]=[t.descricaoContatoEndereco,t.telefoneContato]),!t.idContatoVendedor){e.next=10;break}return e.next=8,Zn.contato.le({id:t.idContatoVendedor});case 8:e.t0=e.sent.nome,a["Vendedor"]=[e.t0];case 10:if(!t.idContatoDigitador){e.next=15;break}return e.next=13,Zn.contato.le({id:t.idContatoDigitador});case 13:e.t1=e.sent.nome,a["Digitador"]=[e.t1];case 15:if(!t.idContatoIndicacao){e.next=20;break}return e.next=18,Zn.contato.le({id:t.idContatoIndicacao});case 18:e.t2=e.sent.nome,a["Indicação"]=[e.t2];case 20:if(!t.idContatoResponsavel){e.next=25;break}return e.next=23,Zn.contato.le({id:t.idContatoResponsavel});case 23:e.t3=e.sent.nome,a["Convênio"]=[e.t3];case 25:if(!this.idContatoComprador){e.next=30;break}return e.next=28,Zn.contato.le({id:this.idContatoComprador});case 28:e.t4=e.sent.nome,a["Comprador"]=[e.t4];case 30:if(!this.idContatoRepresentando){e.next=35;break}return e.next=33,Zn.contato.le({id:this.idContatoRepresentando});case 33:e.t5=e.sent.nome,a["Representando"]=[e.t5];case 35:if(t.operacao&&(a["Operação"]=[t.operacao]),!t.idItemTabelaPreco){e.next=41;break}return e.next=39,Zn.itemTabelaPreco.le({id:t.idItemTabelaPreco});case 39:e.t6=e.sent.descricao,a["Tabela de Preço"]=[e.t6];case 41:t.dataHoraEmissao&&(a["Emissão"]=[this.$filters.dataHora(t.dataHoraEmissao)]),t.dataHoraFinalizado&&(a["Finalização"]=[this.$filters.dataHora(t.dataHoraFinalizado)]),this.metaDados=aa(a);case 44:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},rv=iv,sv=(a("12f6"),Object(sc["a"])(rv,av,ov,!1,null,null,null));sv.options.__file="DocumentoMetas.vue";var nv=sv.exports,cv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Faturamento"},[a("div",{staticClass:"border-1 q-my-sm"},[a("p",{staticClass:"q-item-label ",staticStyle:{color:"#0c0c0c"}},[a("q-icon",{staticClass:"q-mr-md",staticStyle:{color:"#737373"},attrs:{name:"credit_card",size:"24px"}}),e._v(" Faturamento\n    ")],1),e.visivel?a("div",{staticClass:"row gutter-x-sm"},[e.habilitaFaturamento?e._e():a("campo",{staticClass:"col-md-4",attrs:{opcoes:e.formasPagamento.filter(function(e){return e.visivel}),rotulo:"Forma de pagamento",tipo:"seletor"},on:{input:e.aoSelecionarFormaPagamentoObservacao},model:{value:e.idFormaPagamentoObservacao,callback:function(t){e.idFormaPagamentoObservacao=t},expression:"idFormaPagamentoObservacao"}}),a("campo",{class:e.habilitaFaturamento?"col-xs-12":"col-md-8",attrs:{tipo:"textoArea",rotulo:"Observação faturamento","somente-leitura":e.somenteLeitura.observacaoFaturamento},model:{value:e.observacaoFaturamento,callback:function(t){e.observacaoFaturamento=t},expression:"observacaoFaturamento"}}),e.temCaixaEmpresa&&!e.somenteLeitura.caixas&&e.habilitaFaturamento?a("campo",{staticClass:"col-xs-12",attrs:{opcoes:e.caixas,tipo:"seletor"},model:{value:e.idDocumentoCaixa,callback:function(t){e.idDocumentoCaixa=t},expression:"idDocumentoCaixa"}}):e._e()],1):a("div",{staticClass:"col-3 col-md"},[a("q-btn",{staticClass:"botaoAcesso full-width",attrs:{color:"primary",outline:"",icon:"lock_open",label:"Abrir caixa",size:"lg"},nativeOn:{click:function(t){e.modalCaixaAbrir=!0}}})],1)]),e.visivel&&!e.somenteLeitura.formasPagamento&&e.habilitaFaturamento?a("div",{staticClass:"gutter-x-sm items-end row q-mb-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{opcoes:e.formasPagamento.filter(function(e){return e.visivel}),rotulo:"Forma de pagamento",tipo:"seletor"},on:{input:e.aoSelecionarFormaPagamento},model:{value:e.campos.idFormaPagamento,callback:function(t){e.$set(e.campos,"idFormaPagamento",t)},expression:"campos.idFormaPagamento"}}),a("campo",{staticClass:"col-12 col-md",attrs:{rotulo:"Valor",tipo:"decimal",decimals:"2",erro:!!e.erroValor,"erro-rotulo":e.erroValor},model:{value:e.campos.valor,callback:function(t){e.$set(e.campos,"valor",e._n(t))},expression:"campos.valor"}}),e.temParcelamento?a("campo",{staticClass:"col-12 col-md",attrs:{"rotulo-fixo":"Parcelas",tipo:"decimal",erro:!!e.erroParcelamento,"erro-rotulo":e.erroParcelamento},model:{value:e.parcelas,callback:function(t){e.parcelas=e._n(t)},expression:"parcelas"}}):e._e(),e.desabilitadoDataVencimento?e._e():a("campo",{staticClass:"col-12 col-md",attrs:{rotulo:"Data",tipo:"data",erro:!!e.erroDataVencimento,"erro-rotulo":e.erroDataVencimento},model:{value:e.campos.dataVencimento,callback:function(t){e.$set(e.campos,"dataVencimento",t)},expression:"campos.dataVencimento"}}),a("div",{staticClass:"col-12 col-md-auto text-center q-my-md"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Forma de pagamento",outline:"",size:"sm",disabled:!e.campos.idFormaPagamento},on:{click:e.aoAdicionarPagamento}})],1)],1):e._e(),e.condicaoPagamentoResumo.length?a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},e._l(e.condicaoPagamentoResumo,function(t){return a("q-item",{key:t.id,staticClass:"row u-separador q-my-none q-pa-xs"},[a("div",{staticClass:"col-9 col-lg-10 q-pl-sm"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-5 "},[e._v("\n            "+e._s(t.formaPagamento)+"\n          ")]),a("div",{staticClass:"col-12 col-sm-4"},[e._v("\n            "+e._s(e._f("numero")(t.valor,2))+e._s(t.parcelas>1?" (em "+t.parcelas+"x)":"")+"\n            "),t.sinal?a("badge",{attrs:{cor:"positive",escuro:""}},[e._v("Sinal")]):e._e()],1),a("div",{staticClass:"col-12 col-sm-3"},[e._v("\n            "+e._s(e._f("data")(t.dataVencimento))+"\n          ")])])]),t.liquidado||e.somenteLeitura.condicaoPagamento[t.id]?e._e():a("div",{staticClass:"col-3 col-lg-2 text-right"},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"edit",round:""},on:{click:function(a){e.alterarPagamento(t)}}}),a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""},on:{click:function(a){e.removerPagamento(t)}}})],1)])})):e._e(),e.habilitaFaturamento?[e.valorRestante>0?a("div",{staticClass:"q-caption q-mt-md text-center text-faded uppercase"},[a("strong",{staticClass:"q-mr-md"},[e._v("Valor restante")]),e._v(" "+e._s(e._f("numero")(e.valorRestante,2))+"\n    ")]):e._e(),e.troco>0?a("div",{staticClass:"q-caption q-mt-md text-center text-faded uppercase"},[a("strong",{staticClass:"q-mr-md"},[e._v("Troco")]),e._v(" "+e._s(e._f("numero")(e.troco,2))+"\n    ")]):e._e()]:e._e(),e.creditoDevolucao?a("div",{staticClass:"q-caption q-mt-md text-center text-faded uppercase"},[a("strong",{staticClass:"q-mr-md"},[e._v("Crédito de devolução")]),e._v(" "+e._s(e._f("numero")(e.creditoDevolucao,2))+"\n  ")]):e._e(),e.checaLimite?a("div",{staticClass:"q-caption q-mt-md text-center text-faded uppercase"},[a("strong",{staticClass:"q-mr-md"},[e._v("Limite de crédito")]),e._v(" "+e._s(e._f("numero")(e.creditoDisponivel,2))+"\n  ")]):e._e(),e.formaPagamento?a("q-modal",{attrs:{"content-css":{minWidth:"40vw"}},model:{value:e.modalPagamento,callback:function(t){e.modalPagamento=t},expression:"modalPagamento"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v(e._s(e.formaPagamento.rotulo))]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),a("form",{staticClass:"layout-padding",on:{submit:function(t){return t.preventDefault(),e.aoSalvarModalPagamento(t)}}},[2===e.formaPagamento.tipo?[a("campo",{attrs:{rotulo:"Titular",maxlength:"255"},model:{value:e.campos.nomeTitular,callback:function(t){e.$set(e.campos,"nomeTitular",t)},expression:"campos.nomeTitular"}}),a("q-select",{attrs:{"float-label":"Banco",options:e.opcoesBanco,filter:""},nativeOn:{click:function(t){return e.leOpcoesBanco(t)}},model:{value:e.campos.idBanco,callback:function(t){e.$set(e.campos,"idBanco",t)},expression:"campos.idBanco"}}),a("campo",{attrs:{rotulo:"Agência"},model:{value:e.campos.agencia,callback:function(t){e.$set(e.campos,"agencia",t)},expression:"campos.agencia"}}),a("campo",{attrs:{rotulo:"Conta"},model:{value:e.campos.conta,callback:function(t){e.$set(e.campos,"conta",t)},expression:"campos.conta"}}),a("campo",{attrs:{tipo:"decimal",decimals:"0",rotulo:"Número do cheque"},model:{value:e.campos.numeroCheque,callback:function(t){e.$set(e.campos,"numeroCheque",e._n(t))},expression:"campos.numeroCheque"}})]:e._e(),~[3,4].indexOf(e.formaPagamento.tipo)?[a("campo",{attrs:{rotulo:"Autorização Cartão",erro:!!e.erroPreenchimentoAutorizacaoCartao,"erro-rotulo":e.erroPreenchimentoAutorizacaoCartao},model:{value:e.campos.autorizacao,callback:function(t){e.$set(e.campos,"autorizacao","string"===typeof t?t.trim():t)},expression:"campos.autorizacao"}}),a("campo",{attrs:{rotulo:"Número Documento",erro:!!e.erroPreenchimentoDocumentoCartao,"erro-rotulo":e.erroPreenchimentoDocumentoCartao},model:{value:e.campos.documento,callback:function(t){e.$set(e.campos,"documento","string"===typeof t?t.trim():t)},expression:"campos.documento"}})]:e._e(),~[2,5,97].indexOf(e.formaPagamento.tipo)||99===e.formaPagamento.tipo&&!e.formaPagamento.contaCredito?[a("campo",{attrs:{rotulo:"Data",tipo:"data",erro:!!e.erroDataVencimento,"erro-rotulo":e.erroDataVencimento},model:{value:e.campos.dataVencimento,callback:function(t){e.$set(e.campos,"dataVencimento",t)},expression:"campos.dataVencimento"}})]:e._e(),a("campo",{attrs:{rotulo:"Valor",tipo:"decimal",decimals:"2",erro:!!e.erroValor,"erro-rotulo":e.erroValor},model:{value:e.campos.valor,callback:function(t){e.$set(e.campos,"valor",t)},expression:"campos.valor"}}),a("campo",{attrs:{rotulo:"Observação",tipo:"textoArea"},model:{value:e.campos.observacao,callback:function(t){e.$set(e.campos,"observacao",t)},expression:"campos.observacao"}}),a("div",{staticClass:"q-mt-lg text-center"},[a("q-btn",{attrs:{color:"faded",flat:"",label:"Cancelar"},on:{click:e.aoCancelarModalPagamento}}),a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"primary",label:"Salvar",type:"submit"}})],1)],2)],1)],1):e._e(),a("caixa-abrir",{on:{aberto:e.atualizar},model:{value:e.modalCaixaAbrir,callback:function(t){e.modalCaixaAbrir=t},expression:"modalCaixaAbrir"}})],2)},lv=[];cv._withStripped=!0;a("20d6");var dv={data:function(){return{condicaoPagamento:[],condicaoPagamentoOriginal:[],condicaoPagamentoResumo:[]}},methods:{resumeCondicaoPagamento:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.formaPagamento.le();case 2:for(t=e.sent,a=this.condicaoPagamento.filter(function(e){return f.condicaoPagamentoOriginal.find(function(t){return t.id===e.id&&(t.valor!==e.valor||t.dataVencimento!==e.dataVencimento)})}).map(function(e){return e.id}),o=!0,i=!1,r=void 0,e.prev=7,s=this.condicaoPagamento[Symbol.iterator]();!(o=(n=s.next()).done);o=!0)c=n.value,a.includes(c.id)&&(c.id=hi());e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](7),i=!0,r=e.t0;case 15:e.prev=15,e.prev=16,o||null==s.return||s.return();case 18:if(e.prev=18,!i){e.next=21;break}throw r;case 21:return e.finish(18);case 22:return e.finish(15);case 23:l=this.condicaoPagamento.reduce(function(e,a){var o=-1,i=t.find(function(e){return e.id===a.idFormaPagamento})||{};return a.parcelas=1,a.formaPagamento=i.descricao,a.autorizacao&&(o=e.findIndex(function(e){return a.autorizacao===e.autorizacao&&a.idFormaPagamento===e.idFormaPagamento&&a.idDocumentoCaixa===e.idDocumentoCaixa})),-1!==o?(e[o].parcelas++,5!==i.tipo&&(e[o].valor+=a.valor)):e.push(Yt(a)),e},[]),d=!0,u=!1,m=void 0,e.prev=27,p=regeneratorRuntime.mark(function e(){var a,o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=h.value,o=t.find(function(e){return e.id===a.idFormaPagamento}),!a.idFinanceiroTitulo||!o||"Título em aberto"!==o.tipoFinanceiro){e.next=16;break}return e.next=5,He().financeiroTitulo.get(a.idFinanceiroTitulo);case 5:if(i=e.sent,!i||!i.idFinanceiroMovimentacaoAgrupamento){e.next=15;break}return e.next=9,He().financeiroMovimentacao.where({idFinanceiroMovimentacaoN:i.idFinanceiroMovimentacaoAgrupamento}).toArray();case 9:if(r=e.sent,r=r.find(function(e){return e.idFinanceiroCheque}),!r){e.next=15;break}return e.next=14,He().financeiroTitulo.get(r.idFinanceiroCheque);case 14:i=e.sent;case 15:i&&i.dataPagamento&&(a.liquidado=!0);case 16:case"end":return e.stop()}},e)}),v=l[Symbol.iterator]();case 30:if(d=(h=v.next()).done){e.next=35;break}return e.delegateYield(p(),"t1",32);case 32:d=!0,e.next=30;break;case 35:e.next=41;break;case 37:e.prev=37,e.t2=e["catch"](27),u=!0,m=e.t2;case 41:e.prev=41,e.prev=42,d||null==v.return||v.return();case 44:if(e.prev=44,!u){e.next=47;break}throw m;case 47:return e.finish(44);case 48:return e.finish(41);case 49:this.condicaoPagamentoResumo=Object(ot["orderBy"])(l,["idFormaPagamento","dataVencimento"],["","asc"]);case 50:case"end":return e.stop()}},e,this,[[7,11,15,23],[16,,18,22],[27,37,41,49],[42,,44,48]])}));return function(){return e.apply(this,arguments)}}()}},uv={components:{Badge:Bd,CaixaAbrir:nm,Campo:Sl},computed:{desabilitadoDataVencimento:function(){if(99===this.formaPagamento.tipo&&!this.formaPagamento.contaCredito)return!1;var e=!!this.formaPagamento&&this.formaPagamento.tipo,t=this.perfisFormasPagamento.dataVencimento;return!e||!~t.indexOf(e)},perfisFormasPagamento:function(){return{parcelas:[2,3,4,5,97],dataVencimento:[2,5,97]}},temParcelamento:function(){if(99===this.formaPagamento.tipo&&!this.formaPagamento.contaCredito)return!0;var e=!!this.formaPagamento&&this.formaPagamento.tipo,t=this.perfisFormasPagamento.parcelas;return!!e&&~t.indexOf(e)},erroParcelamento:function(){if(this.verificarErroParcelamento&&this.temParcelamento){if(!this.parcelas)return"Preenchimento obrigatório";var e=1,t=this.formaPagamento.parcelamentoMaximo||1;if(this.parcelas<e)return"Mínimo permitido: "+e;if(this.parcelas>t)return"Máximo permitido: "+t}return""},erroPreenchimentoAutorizacaoCartao:function(){return this.verificarDadosCartao&&!this.campos.autorizacao?"Campo Obrigatório":""},erroPreenchimentoDocumentoCartao:function(){return this.verificarDadosCartao&&!this.campos.documento?"Campo Obrigatório":""},erroValor:function(){var e=this;if(this.verificarValor){if(this.campos.valor<=0)return"Valor não permitido";if(99===this.formaPagamento.tipo&&this.formaPagamento.contaCredito&&this.documento.totalDocumento>0){var t=dt(this.condicaoPagamentoResumo.reduce(function(t,a){return e.campos.id!==a.id&&a.idFormaPagamento===e.formaPagamento.id&&(t+=a.valor),t},this.campos.valor));if(t>this.creditoDevolucao)return"Crédito de devolução disponível: "+this.$filters.numero(this.creditoDevolucao,2)}if(this.checaLimite&&this.formaPagamento.utilizaLimite&&this.documento.totalDocumento>0&&dt(this.campos.valor)>dt(this.campos.edicao.valor)){var a=0,o=!0,i=!1,r=void 0;try{for(var s,n=function(){var t=s.value,o=e.formasPagamento.find(function(e){return e.id===t.idFormaPagamento})||{};o.utilizaLimite&&(a+=t.valor)},c=this.condicaoPagamentoResumo[Symbol.iterator]();!(o=(s=c.next()).done);o=!0)n()}catch(e){i=!0,r=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw r}}if(dt(a+this.campos.valor)>this.creditoDisponivel)return"Limite restante de crédito disponível: "+this.$filters.numero(this.creditoDisponivel-a,2)}}return""},erroDataVencimento:function(){if(!this.verificarDataVencimento)return"";var e=new Date,t="Data vencimento não pode ser menor que a data de hoje.",a=this.caixas.reduce(function(e,t){return e[t.id]||(e[t.id]=t),e},{});if(a[this.idDocumentoCaixa]&&(e=new Date(a[this.idDocumentoCaixa].dataHoraEmissao),t="Data vencimento não pode ser menor que a data do caixa."),this.campos.dataVencimento){var o=new Date(this.campos.dataVencimento);if(o.setHours(0,0,0,0)<e.setHours(0,0,0,0))return t}return""}},data:function(){return{habilitaFaturamento:!1,faturamento:"",campos:{agencia:"",autorizacao:"",nomeTitular:"",idBanco:"",idDocumento:"",idDocumentoCondicaoPagamento:"",conta:"",dataVencimento:"",documento:"",idFormaPagamento:"",numeroCheque:"",observacao:"",valor:0},modalPagamento:!1,observacaoFaturamento:"",idFormaPagamentoObservacao:"",parcelas:1,formaPagamento:{},formasPagamento:[],idDocumentoCaixa:"",caixas:[],temCaixaEmpresa:!1,valorRestante:0,checaLimite:!1,creditoDevolucao:0,creditoDisponivel:0,somenteLeitura:{observacaoFaturamento:!1,caixas:!1,formasPagamento:!1,condicaoPagamento:{}},opcoesBanco:[],verificarValor:!1,verificarErroParcelamento:!1,verificarDataVencimento:!1,verificarDadosCartao:!1,visivel:!1,modalCaixaAbrir:!1,troco:0}},methods:{ajustarValorCarnes:function(){var e,t=this;e=this.condicaoPagamento.filter(function(e){return e.idFormaPagamento===t.campos.idFormaPagamento&&!t.condicaoPagamentoResumo.find(function(t){return t.id===e.id&&t.liquidado})}),e=Object(ot["orderBy"])(e,["dataVencimento"],["asc"]);var a=dt(e.reduce(function(e,a){return a.id===t.campos.id?e+=t.campos.edicao.valor:e+=a.valor,e},0)),o=!1,i=dt(e.reduce(function(e,a){return a.id===t.campos.id&&(o=!0),o||(e+=a.valor),e},this.campos.valor));o=!1,e=e.map(function(e){if(o){var r=t.campos.valor;return dt(i+r)>a&&(r=dt(a-i)),i+=r,at()({},e,{valor:r})}return e.id===t.campos.id&&(o=!0),e});var r=e[e.length-1].valor;r=dt(r+(a-i)),e[e.length-1].valor=r,this.condicaoPagamento=this.condicaoPagamento.map(function(t){var a=e.find(function(e){return e.id===t.id});return a&&(t.valor=a.valor),t})},ajustarDatasCarnes:function(){var e=this,t=new Date(this.campos.dataVencimento).getMonth(),a=!1;this.condicaoPagamento=Object(ot["orderBy"])(this.condicaoPagamento,["dataVencimento"],["asc"]).map(function(o){if(a&&o.idFormaPagamento===e.campos.idFormaPagamento&&!e.condicaoPagamentoResumo.find(function(e){return e.id===o.id&&e.liquidado})){var i=new Date(e.campos.dataVencimento).setMonth(++t);return at()({},o,{dataVencimento:At["d"].formatDate(i)})}return o.id===e.campos.id&&(a=!0),o})},adicionarPagamento:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.limparErro(),!this.idDocumentoCaixa){e.next=11;break}if(t=this.caixas.filter(function(e){return e.valor===q.idDocumentoCaixa}),t.length&&t[0].dataHoraEmissao){e.next=6;break}return this.$q.notify("Não é possível verificar a data de abertura do caixa."),e.abrupt("return");case 6:if(a=(new Date).setHours(0,0,0,0),o=new Date(t[0].dataHoraEmissao).setHours(0,0,0,0),!("Reaberto"!==t[0].status&&o<a)){e.next=11;break}return this.$q.notify("Não é possível incluir forma de pagamento de caixa com data diferente de hoje."),e.abrupt("return");case 11:if(i=this.campos.edicao&&5===(this.formasPagamento.find(function(e){return e.id===q.campos.edicao.idFormaPagamento})||{}).tipo,r=this.campos.edicao&&99===(this.formasPagamento.find(function(e){return e.id===q.campos.edicao.idFormaPagamento})||{}).tipo&&!(this.formasPagamento.find(function(e){return e.id===q.campos.edicao.idFormaPagamento})||{}).contaCredito,!this.campos.edicao||!i&&!r){e.next=25;break}return this.campos.dataVencimento!==this.campos.edicao.dataVencimento&&this.ajustarDatasCarnes(),this.campos.valor!==this.campos.edicao.valor&&this.ajustarValorCarnes(),s=this.condicaoPagamento.findIndex(function(e){return e.id===q.campos.id}),-1!==s&&(this.condicaoPagamento[s].dataVencimento=this.campos.dataVencimento,this.condicaoPagamento[s].valor=this.campos.valor,this.condicaoPagamento[s].observacao=this.campos.observacao),e.next=20,this.resumeCondicaoPagamento();case 20:return e.next=22,this.atualizaValorRestante();case 22:return e.next=24,this.redefinirCampos();case 24:return e.abrupt("return");case 25:for(this.campos.edicao&&(this.campos.edicao.autorizacao?this.condicaoPagamento=this.condicaoPagamento.filter(function(e){return!(e.autorizacao===q.campos.edicao.autorizacao&&e.idFormaPagamento===q.campos.edicao.idFormaPagamento&&e.idDocumentoCaixa===q.campos.edicao.idDocumentoCaixa)}):this.condicaoPagamento=this.condicaoPagamento.filter(function(e){return e.id!==q.campos.edicao.id})),delete this.campos.edicao,n=function(e){return 24*e*60*60*1e3},c=Yt(this.campos),l=dt(this.condicaoPagamento.reduce(function(e,t){return e+t.valor},0)),d=dt(this.documento.totalDocumento-l),this.documento.totalDocumento<0&&(c.valor=dt(-1*c.valor)),this.troco=0,c.valor>d&&(1===this.formaPagamento.tipo&&(this.troco=dt(c.valor-d),this.$q.notifyPositive("Troco: "+this.$filters.numero(this.troco,2))),c.valor=dt(d)),u=Yt(this.condicaoPagamento),m=this.formaPagamento,p=m.diasPrimeira,v=m.diasDemais,c.dataVencimento||(h=new Date,f=this.caixas.reduce(function(e,t){return e[t.id]||(e[t.id]=t),e},{}),f[this.idDocumentoCaixa]&&(h=new Date(f[this.idDocumentoCaixa].dataHoraEmissao)),c.dataVencimento=h.getTime()+(p?n(p):0)),C=(c.valor/this.parcelas*100|0)/100,b=dt(C+(c.valor-C*this.parcelas)),g=1;g<=this.parcelas;g++)x=Yt(c),x.valor=1===g?b:C,_=new Date(x.dataVencimento),5!==this.formaPagamento.tipo||30!==v&&31!==v?x.dataVencimento=At["d"].formatDate(_.getTime()+(v?n(v)*(g-1):0)):x.dataVencimento=At["d"].formatDate(_.setMonth(_.getMonth()+g-1)),x.id=hi(),x.idDocumento=this.documento.id,x.idDocumentoCondicaoPagamento=x.id,x.idDocumentoCaixa=this.idDocumentoCaixa,u.push(x);return u=Object(ot["orderBy"])(u,["idFormaPagamento","dataVencimento"],["","asc"]),this.condicaoPagamento=u,e.next=44,this.resumeCondicaoPagamento();case 44:return e.next=46,this.atualizaValorRestante();case 46:return e.next=48,this.redefinirCampos();case 48:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),aoSelecionarFormaPagamento:function(){var e=this;this.formaPagamento=this.formasPagamento.filter(function(t){return t.id===e.campos.idFormaPagamento})[0],this.campos.dataVencimento="",this.parcelas=1},aoSelecionarFormaPagamentoObservacao:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this.formasPagamento.find(function(e){return e.id===o.idFormaPagamentoObservacao})||{},a=t.descricao,a&&(this.observacaoFaturamento?this.observacaoFaturamento=a+" | "+this.observacaoFaturamento:this.observacaoFaturamento=a),this.idFormaPagamentoObservacao="0";case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),alterarPagamento:function(e){this.campos=Yt(e),this.documento.totalDocumento<0&&(this.campos.valor=dt(-1*this.campos.valor)),this.campos.edicao=Yt(e),this.parcelas=this.campos.parcelas,this.formaPagamento=this.formasPagamento.filter(function(t){return t.id===e.idFormaPagamento})[0],this.modalPagamento=!0},atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.contato.le({id:this.documento.idContato});case 2:return t=e.sent,this.creditoDevolucao=dt(t.creditoDevolucao),e.next=6,Zn.configuracoes.le({nome:"vendas.checalimite"});case 6:return a=e.sent,o=a.find(function(e){return e.idEmpresa===v.documento.idEmpresa}),o||(o=a.find(function(e){return!e.idEmpresa})),this.checaLimite=!!o&&!!parseInt(o.valor),this.checaLimite&&(this.creditoDisponivel=dt(t.creditoDisponivel)),e.next=13,Zn.formaPagamento.le();case 13:return i=e.sent,i=i.map(function(e){var t=!!e.ativo;return(v.documento.totalDocumento<0&&(99!==e.tipo||!e.contaCredito)||v.documento.totalDocumento>=0&&v.saldoCreditoCliente<=0&&99===e.tipo&&e.contaCredito||v.documento.totalDocumento<e.valorMinimoVenda)&&(t=!1),e.idContatoEmpresa&&e.idContatoEmpresa!==v.documento.idEmpresa&&(t=!1),at()({rotulo:e.descricao,valor:e.id,visivel:t},e)}),this.formasPagamento=Object(ot["orderBy"])(i,"rotulo","asc"),e.next=18,He().caixa.where({idEmpresa:this.documento.idEmpresa}).toArray();case 18:if(e.t0=function(e){return e.ativo},this.temCaixaEmpresa=!!e.sent.filter(e.t0).length,this.idDocumentoCaixa="",!this.temCaixaEmpresa){e.next=80;break}return r=Zn.usuario.logado.codigoContato,e.prev=23,e.next=26,Zn.permissao.objeto("Diretiva_Caixa_LivreUtilizacao");case 26:s=e.sent,s&&(r=""),e.next=33;break;case 30:e.prev=30,e.t1=e["catch"](23),this.$q.notify("Não foi possível recuperar informações de permissão.");case 33:return e.next=35,Zn.caixa.le({aberto:!0});case 35:if(e.t2=function(e){return e.idEmpresa===v.documento.idEmpresa},n=e.sent.filter(e.t2),"Venda"!==this.documento.tipo&&(n=n.filter(function(e){return!r||e.codigoContato===r})),!n.length){e.next=79;break}c=!0,l=!1,d=void 0,e.prev=42,u=n[Symbol.iterator]();case 44:if(c=(m=u.next()).done){e.next=64;break}return p=m.value,e.next=48,Zn.caixa.le({id:p.idCaixa});case 48:if(e.t4=e.sent,e.t4){e.next=51;break}e.t4={};case 51:if(e.t3=e.t4.descricao,e.t3){e.next=54;break}e.t3="";case 54:e.t5=e.t3,e.t6=e.t5+" - Aberto em ",e.t7=this.$filters.dataHora(p.dataHoraEmissao),e.t8=e.t6+e.t7,e.t9="Reaberto"===p.status?" - Reaberto":"",p.rotulo=e.t8+e.t9,p.valor=p.id;case 61:c=!0,e.next=44;break;case 64:e.next=70;break;case 66:e.prev=66,e.t10=e["catch"](42),l=!0,d=e.t10;case 70:e.prev=70,e.prev=71,c||null==u.return||u.return();case 73:if(e.prev=73,!l){e.next=76;break}throw d;case 76:return e.finish(73);case 77:return e.finish(70);case 78:this.caixas=Object(ot["orderBy"])(n,"dataHoraEmissao","desc");case 79:this.idDocumentoCaixa=(this.caixas[0]||{}).valor||"";case 80:return e.next=82,this.resumeCondicaoPagamento();case 82:return e.next=84,this.atualizaValorRestante();case 84:return this.preencherSomenteLeitura(),e.next=87,this.redefinirCampos();case 87:this.habilitarFaturamento(),this.visivel=this.temCaixaEmpresa&&this.idDocumentoCaixa||!this.temCaixaEmpresa;case 89:case"end":return e.stop()}},e,this,[[23,30],[42,66,70,78],[71,,73,77]])}));return function(){return e.apply(this,arguments)}}(),habilitarFaturamento:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("Fatura"===this.documento.tipo&&(this.habilitaFaturamento=!0),!this.documento.idEmpresa||"Venda"!==this.documento.tipo){e.next=9;break}return e.next=4,He().configuracoes.where({nome:"vendas.gerafatura"}).toArray();case 4:t=e.sent,a=t.find(function(e){return e.idEmpresa===i.documento.idEmpresa}),a||(a=t.find(function(e){return!e.idEmpresa})),o=a?parseInt(a.valor):0,this.habilitaFaturamento=[0,2].includes(o);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),temErro:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=!1,this.temParcelamento&&(this.verificarErroParcelamento=!0,this.erroParcelamento&&(t=!0)),this.verificarValor=!0,this.erroValor&&(t=!0),this.desabilitadoDataVencimento||(this.verificarDataVencimento=!0,this.erroDataVencimento&&(t=!0)),!t){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),limparErro:function(){this.verificarErroParcelamento=!1,this.verificarDataVencimento=!1,this.verificarValor=!1,this.verificarDadosCartao=!1},aoAdicionarPagamento:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.campos.agencia="",this.campos.autorizacao="",this.campos.documento="",this.campos.nomeTitular=Zn.contato.selecionado.nome,this.campos.idBanco="",this.campos.conta="",this.campos.numeroCheque="",this.campos.observacao="",e.next=10,this.temErro();case 10:if(!e.sent){e.next=12;break}return e.abrupt("return");case 12:t=~[2,3,4].indexOf(this.formasPagamento.filter(function(e){return e.id===a.campos.idFormaPagamento})[0].tipo),t?this.modalPagamento=!0:this.adicionarPagamento();case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),aoCancelarModalPagamento:function(e){e&&e.preventDefault(),this.campos.idDocumentoCondicaoPagamento&&this.redefinirCampos(),this.modalPagamento=!1},aoSalvarModalPagamento:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(![3,4].includes(this.formaPagamento.tipo)){e.next=7;break}return e.next=3,Zn.configuracoes.porNome("pagamento.cartao.dadosobrigatorios",this.documento.idEmpresa);case 3:if(t=e.sent,this.verificarDadosCartao=!(!t.length||!parseInt(t[0].valor)),!this.erroPreenchimentoAutorizacaoCartao&&!this.erroPreenchimentoDocumentoCartao){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.temErro();case 9:if(!e.sent){e.next=11;break}return e.abrupt("return");case 11:this.adicionarPagamento(),this.modalPagamento=!1,this.verificarDataVencimento=!1,this.verificarValor=!1,this.verificarDadosCartao=!1;case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),atualizaValorRestante:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this.condicaoPagamento.reduce(function(e,t){var a=t.valor;return e+a},0),this.valorRestante=Math.abs(dt(this.documento.totalDocumento-t));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),leOpcoesBanco:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.opcoesBanco.length){e.next=5;break}return e.next=3,Zn.banco.le();case 3:e.t0=function(e){return{label:"".concat(e.descricao," - ").concat(e.numero),value:e.id}},this.opcoesBanco=e.sent.map(e.t0);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),preencherSomenteLeitura:function(){var e={observacaoFaturamento:!1,caixas:!1,formasPagamento:!1,condicaoPagamento:{}},t=this.caixas.reduce(function(e,t){return"Reaberto"!==t.status||e[t.id]||(e[t.id]=t),e},{}),a=!0,o=!1,i=void 0;try{for(var r,s=this.condicaoPagamentoResumo[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var n=r.value;n.idDocumentoCaixa!==this.idDocumentoCaixa&&(e.condicaoPagamento[n.id]=!0),t[n.idDocumentoCaixa]&&(e.observacaoFaturamento=!1,e.caixas=!1,e.formasPagamento=!1)}}catch(e){o=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}this.somenteLeitura=e},redefinirCampos:function(){this.parcelas=1,this.campos={agencia:"",autorizacao:"",nomeTitular:"",idBanco:"",idDocumentoCondicaoPagamento:"",conta:"",dataVencimento:"",documento:"",idFormaPagamento:"",numeroCheque:"",observacao:"",valor:this.valorRestante}},removerPagamento:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=this.formasPagamento.find(function(e){return e.id===t.idFormaPagamento}),o=5===a.tipo,i=99===a.tipo&&!a.contaCredito,!((o||i)&&this.condicaoPagamento.filter(function(e){return e.idFormaPagamento===a.id}).length>1)||this.condicaoPagamentoResumo.find(function(e){return e.idFormaPagamento===t.idFormaPagamento&&e.liquidado})){e.next=19;break}return e.prev=4,e.next=7,this.$q.dialog({cancel:"Não",message:o?"Deseja remover todos os carnês?":"Deseja remover todos os boletos?",ok:"Sim",title:"Tem certeza?"});case 7:return this.condicaoPagamento=this.condicaoPagamento.filter(function(e){return e.idFormaPagamento!==a.id}),e.next=10,this.resumeCondicaoPagamento();case 10:return e.next=12,this.atualizaValorRestante();case 12:return e.next=14,this.redefinirCampos();case 14:return e.abrupt("return");case 17:e.prev=17,e.t0=e["catch"](4);case 19:return e.prev=19,e.next=22,this.$q.cancelDialog();case 22:return this.troco=0,t.autorizacao?this.condicaoPagamento=this.condicaoPagamento.filter(function(e){return!(e.autorizacao===t.autorizacao&&e.idFormaPagamento===t.idFormaPagamento&&e.idDocumentoCaixa===t.idDocumentoCaixa)}):((o||i)&&(this.campos.id=t.id,this.campos.idFormaPagamento=t.idFormaPagamento,this.campos.valor=0),this.condicaoPagamento=this.condicaoPagamento.filter(function(e){return e.id!==t.id})),e.next=26,this.resumeCondicaoPagamento();case 26:return e.next=28,this.atualizaValorRestante();case 28:return e.next=30,this.redefinirCampos();case 30:e.next=34;break;case 32:e.prev=32,e.t1=e["catch"](19);case 34:case"end":return e.stop()}},e,this,[[4,17],[19,32]])}));return function(t){return e.apply(this,arguments)}}(),calcularParcelas:function(){var e="",t=1,a=1,o={},i=Object(ot["orderBy"])(this.condicaoPagamento,["idFormaPagamento","autorizacao","dataVencimento"]),r=!0,s=!1,n=void 0;try{for(var c,l=i[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var d=c.value,u=d.idFormaPagamento+(String(d.autorizacao)||"");e!==u?(e=u,t=1,a=i.reduce(function(t,a){return t+(a.idFormaPagamento+(String(a.autorizacao)||"")===e?1:0)},0),o[d.id]=String(t++)+"/"+String(a)):o[d.id]=String(t++)+"/"+String(a)}}catch(e){s=!0,n=e}finally{try{r||null==l.return||l.return()}finally{if(s)throw n}}return o},validar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w,y,N,k,M,P=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zn.contato.le({id:this.documento.idContato});case 3:t=e.sent,Eo(!t.id,"Não foi possível encontrar o contato do documento."),a=dt(this.condicaoPagamento.reduce(function(e,t){return e+t.valor},0)),o=dt(this.documento.totalDocumento),Eo(!ja(a),"Valor inválido na condição de pagamento."),Eo(!ja(o),"Valor inválido no total do documento."),i=this.condicaoPagamentoOriginal.map(function(e){return e.id}),r=this.condicaoPagamento.filter(function(e){return!i.includes(e.id)}),n=!0,c=!1,l=void 0,e.prev=14,d=r[Symbol.iterator]();case 16:if(n=(u=d.next()).done){e.next=35;break}if(m=u.value,p=void 0,!m.idDocumentoCaixa){e.next=26;break}return e.next=22,Zn.documento.le({id:m.idDocumentoCaixa});case 22:p=e.sent,s=new Date(p.dataHoraEmissao).setHours(0,0,0,0),e.next=28;break;case 26:p={},s=(new Date).setHours(0,0,0,0);case 28:v=new Date(new Date(m.dataVencimento).setHours(0,0,0,0)),v<s&&(h="Existe condição de pagamento com data anterior à "+(p.dataHoraEmissao?"data de abertura do caixa":"data de hoje"),Po(!0,h)),f=p.id&&this.documento.idEmpresa!==p.idEmpresa,Po(f,"Condição de pagamento incorreta: caixa e documento pertencem a empresas diferentes.");case 32:n=!0,e.next=16;break;case 35:e.next=41;break;case 37:e.prev=37,e.t0=e["catch"](14),c=!0,l=e.t0;case 41:e.prev=41,e.prev=42,n||null==d.return||d.return();case 44:if(e.prev=44,!c){e.next=47;break}throw l;case 47:return e.finish(44);case 48:return e.finish(41);case 49:return C=o&&!a,Po(C,"Não há condição de pagamento."),C=o>=0&&a>o,Po(C,"O total das condições de pagamento é maior que o total do documento."),e.next=55,Zn.caixa.leNew({idEmpresa:this.documento.idEmpresa});case 55:return b=e.sent,Po(b.filter(function(e){return e.ativo}).length&&!this.idDocumentoCaixa,"Selecione um caixa para continuar."),e.next=59,Zn.configuracoes.le({nome:"vendas.checalimite"});case 59:if(g=e.sent,x=g.find(function(e){return e.idEmpresa===P.documento.idEmpresa}),x||(x=g.find(function(e){return!e.idEmpresa})),_=!!x&&!!parseInt(x.valor),_&&(q=dt(t.creditoDisponivel),Po(ja(q)&&q<o,"Limite de crédito insuficiente.")),S=this.formasPagamento.filter(function(e){return 99===e.tipo&&e.contaCredito}).map(function(e){return e.id}),I=this.condicaoPagamento.find(function(e){return S.includes(e.idFormaPagamento)}),o>0&&I&&(F=dt(t.creditoDevolucao),w=dt(this.condicaoPagamento.filter(function(e){return S.includes(e.idFormaPagamento)}).reduce(function(e,t){return e+t.valor},0)),Po(ja(F)&&F<w,"Crédito de devolução insuficiente.")),!(a&&a<o)){e.next=80;break}return e.next=70,Zn.configuracoes.le({nome:"vendas.aceitasinal"});case 70:return y=e.sent,N=y.find(function(e){return e.idEmpresa===P.documento.idEmpresa}),N||(N=y.find(function(e){return!e.idEmpresa})),k=!!N&&!!parseInt(N.valor),Po(!k,"Valor pago menor que o total do documento."),M=this.$q.loading.isActive,this.$q.loading.hide(),e.next=79,this.$q.dialog({cancel:"Não",message:"O total das condições de pagamento é menor que o total do documento. Deseja finalizar como sinal?",noRefocus:!0,ok:"Sim",preventClose:!0,title:"Confirma?"}).catch(function(){Do(!0,"Processo interrompido pelo usuário.")});case 79:M&&this.$q.loading.show({message:"Processando..."});case 80:e.next=86;break;case 82:throw e.prev=82,e.t1=e["catch"](0),this.$q.loading.hide(),e.t1;case 86:case"end":return e.stop()}},e,this,[[0,82],[14,37,41,49],[42,,44,48]])}));return function(){return e.apply(this,arguments)}}()},mixins:[dv],props:{documento:{default:function(){return{}},required:!0,type:Object}},watch:{"documento.totalDocumento":function(){this.documento.id&&this.atualizar()},documento:function(){this.documento.id&&(this.idDocumento!==this.documento.id&&(this.observacaoFaturamento=(this.documento||{}).observacaoFaturamento||"",this.idDocumento=this.documento.id),this.atualizar())},idDocumentoCaixa:function(){this.preencherSomenteLeitura()}},mounted:function(){this.visivel=!1}},mv=uv,pv=(a("d9bf"),Object(sc["a"])(mv,cv,lv,!1,null,"0973875d",null));pv.options.__file="Faturamento.vue";var vv=pv.exports,hv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.tema},[a("div",{staticClass:"gutter-sm row"},[a("div",{staticClass:"col-12 col-lg-6"},[a("q-toolbar",{staticClass:"u-autoHeight q-mb-md q-pa-none",attrs:{color:"none",inverted:""}},[a("avatar",{attrs:{imagem:(e.contatos[e.titulo.idContato]||{}).imagem,rotulo:(e.contatos[e.titulo.idContato]||{}).apelido,tamanho:"30"}}),a("q-toolbar-title",[e._v("\n          "+e._s((e.contatos[e.titulo.idContato]||{}).nome)+"\n          "),a("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v(e._s((e.contatos[e.titulo.idContato]||{}).apelido))])])],1),a("q-chip",{staticClass:"TituloCard-selo",attrs:{color:"grey",rounded:"",small:""}},[e._v(e._s(e.titulo.parcela))]),a("div",{staticClass:"q-body-1 q-mt-sm"},[e._v("\n        "+e._s(e.titulo.descricao)+"\n      ")])],1),a("div",{staticClass:"col-12 col-sm-4 col-lg-2"},[a("dl",{staticClass:"q-ma-none"},[a("dt",[e._v(e._s(e.titulo.documentoTipo)+" #"+e._s(e.titulo.documentoCodigo))]),a("dd",[e._v(e._s(e.titulo.formaDePagamento))]),a("dt",{staticClass:"q-mt-md"},[e._v(e._s(e.titulo.descricaoPlanoConta))])])]),a("div",{staticClass:"col-2 col-lg-1"},[a("q-tooltip",[e._v("Vencimento original")]),a("span",{staticClass:"block text-center"},[a("small",[e._v(e._s(e._f("mesNome")(e.titulo.dataVencimentoOriginal)))])]),a("strong",{staticClass:"block q-title text-center"},[e._v(e._s(e._f("dia")(e.titulo.dataVencimentoOriginal)))]),a("span",{staticClass:"block text-center"},[a("small",[e._v(e._s(e._f("ano")(e.titulo.dataVencimentoOriginal)))])])],1),a("div",{staticClass:"col-2 col-lg-1"},[a("q-tooltip",[e._v("Vencimento")]),a("span",{staticClass:"block text-center"},[a("small",[e._v(e._s(e._f("mesNome")(e.titulo.dataVencimento)))])]),a("strong",{staticClass:"block q-title text-center"},[e._v(e._s(e._f("dia")(e.titulo.dataVencimento)))]),a("span",{staticClass:"block text-center"},[a("small",[e._v(e._s(e._f("ano")(e.titulo.dataVencimento)))])])],1),a("div",{staticClass:"col-6 col-lg-2"},[a("dl",{staticClass:"float-right full-width q-mb-sm"},[a("dt",{staticClass:"text-right q-headline text-positive text-weight-bold"},[e._v("\n          "+e._s(e._f("numero")(e.titulo.valorTotal,2))+"\n          "),a("p",{staticClass:"text-weight-normal text-tertiary q-body-1"},[e._v("\n            "+e._s(e._f("numero")(e.titulo.valor,2))+"\n          ")])])]),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"keyboard_arrow_"+(e.detalhes?"up":"down"),size:"md",color:"grey"},on:{click:e.alternarDetalhes}}),e.visibilidade.botao.editar?a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"edit",size:"md",color:"grey"},on:{click:e.editar}}):e._e(),e.visibilidade.botao.remover?a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"clear",color:"grey",size:"md"},on:{click:e.remover}},[a("q-tooltip",[e._v("\n          Remover da Fatura #"+e._s(parseInt(e.fatura.numero)||(e.fatura.id||"").slice(-6))+"\n        ")])],1):e._e(),e.mostrarMenuTresPontos?a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"more_vert",color:"grey",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{link:"",separator:""}},[e.mostrarOpcaoMigrarFatura?[e._l(e.faturasAbertas,function(t){return a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],key:t.id,nativeOn:{click:function(a){e.migrarFatura(t)}}},[a("q-item-side",{attrs:{icon:"mdi-folder-move"}}),a("q-item-main",{attrs:{label:"Migrar para fatura #"+(t.numero||t.id.slice(-6))}})],1)}),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.migrarFatura()}}},[a("q-item-side",{attrs:{icon:"mdi-folder-move"}}),a("q-item-main",{attrs:{label:"Migrar para nova fatura"}})],1)]:e._e()],2)],1)],1):e._e(),e._t("default")],2)]),e.detalhes?a("div",{staticClass:"u-bordaCima gutter-sm q-mt-md q-pt-md row"},[a("div",{staticClass:"col-12 col-lg-6"},[a("q-toolbar",{staticClass:"u-autoHeight q-mb-md q-pa-none",attrs:{color:"none",inverted:""}},[a("q-icon",{attrs:{name:"business"}}),a("q-toolbar-title",[e._v(e._s((e.contatos[e.titulo.idEmpresa]||{}).apelido))])],1),a("div",{staticClass:"q-body-1"},[e._v("\n        "+e._s(e.titulo.observacao)+"\n      ")])],1),a("div",{staticClass:"col-12 col-sm-4 col-lg-2"},[a("dl",{staticClass:"q-ma-none"},[a("dt",[e._v(e._s(e.titulo.descricaoCentroCusto))])])]),a("div",{staticClass:"col-2 col-lg-1"},[a("q-tooltip",[e._v("Emissão")]),a("span",{staticClass:"block text-center"},[a("small",[e._v(e._s(e._f("mesNome")(e.titulo.dataEmissao)))])]),a("strong",{staticClass:"block q-title text-center"},[e._v(e._s(e._f("dia")(e.titulo.dataEmissao)))]),a("span",{staticClass:"block text-center"},[a("small",[e._v(e._s(e._f("ano")(e.titulo.dataEmissao)))])])],1),a("div",{staticClass:"col-2 col-lg-1"},[a("q-tooltip",[e._v("Competência")]),a("span",{staticClass:"block text-center"},[a("small",[e._v(e._s(e._f("mesNome")(e.titulo.dataCompetencia)))])]),a("strong",{staticClass:"block q-title text-center"},[e._v(e._s(e._f("dia")(e.titulo.dataCompetencia)))]),a("span",{staticClass:"block text-center"},[a("small",[e._v(e._s(e._f("ano")(e.titulo.dataCompetencia)))])])],1),a("div",{staticClass:"col-8 col-sm-4 col-lg-2 text-right"},[a("div",[a("small",{staticClass:"block q-caption"},[e._v("Desconto")]),a("strong",[e._v(e._s(e._f("numero")(e.titulo.valorDesconto||0,2)))])]),e.titulo.diasEmAtraso?[a("div",{staticClass:"q-mt-xs"},[a("small",{staticClass:"block q-caption"},[e._v("Multa")]),a("strong",[e._v("\n            "+e._s(e._f("numero")(e.titulo.valorMulta||0,2))+" ("+e._s(e._f("numero")(e.titulo.percentualMulta||0,2))+"%)\n          ")])]),a("div",{staticClass:"q-mt-xs"},[a("small",{staticClass:"block q-caption"},[e._v("Juros")]),a("strong",[e._v("\n            "+e._s(e._f("numero")(e.titulo.valorTotalJuros||0,2))+" ("+e._s(e._f("numero")(e.titulo.percentualJuros||0,2))+"% dia)\n          ")])])]:e._e()],2)]):e._e(),a("q-modal",{attrs:{"content-css":{minWidth:"30vw"}},model:{value:e.modalEditar.visivel,callback:function(t){e.$set(e.modalEditar,"visivel",t)},expression:"modalEditar.visivel"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Editar Título")]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),a("form",{staticClass:"layout-padding",on:{submit:function(t){return t.preventDefault(),e.salvar(t)}}},[a("dl",{staticClass:"horizontal"},[a("dt",{staticStyle:{"text-align":"left"}},[e._v("Valor")]),a("dd",{staticClass:"text-right"},[e._v(e._s(e._f("numero")(e.titulo.valor,2)))])]),a("dl",{staticClass:"horizontal"},[a("dt",{staticStyle:{"text-align":"left"}},[e._v("Dias em Atraso")]),a("dd",{staticClass:"text-right"},[e._v(e._s(e._f("numero")(e.titulo.diasEmAtraso,0)))])]),a("dl",{staticClass:"horizontal"},[a("dt",{staticStyle:{"text-align":"left"}},[e._v("Multa")]),a("dd",{staticClass:"text-right"},[e._v(e._s(e._f("numero")(e.titulo.valorMulta,2)))])]),a("dl",{staticClass:"horizontal"},[a("dt",{staticStyle:{"text-align":"left"}},[e._v("Juros")]),a("dd",{staticClass:"text-right"},[e._v(e._s(e._f("numero")(e.titulo.valorTotalJuros,2)))])]),a("dl",{staticClass:"horizontal"},[a("dt",{staticStyle:{"text-align":"left"}},[e._v("Desconto")]),a("dd",{staticClass:"text-right"},[a("campo",{attrs:{"inverted-light":"",color:"light",tipo:"decimal",decimals:"2",erro:e.modalEditar.erroCalculo},on:{input:function(t){e.desconto()}},model:{value:e.titulo.valorDesconto,callback:function(t){e.$set(e.titulo,"valorDesconto",t)},expression:"titulo.valorDesconto"}})],1)]),a("dl",{staticClass:"horizontal"},[a("dt",{staticStyle:{"text-align":"left"}},[e._v("Total")]),a("dd",{staticClass:"text-right"},[e._v(e._s(e._f("numero")(e.titulo.valorTotal,2)))])]),a("div",{staticClass:"q-mt-lg text-center"},[a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"primary",label:"Salvar",type:"submit"}})],1)])],1)],1)],1)},fv=[];hv._withStripped=!0;var Cv={components:{Avatar:Fc,Campo:Sl},computed:{mostrarMenuTresPontos:function(){return this.mostrarOpcaoMigrarFatura}},data:function(){return{titulo:{},tituloOriginal:{},detalhes:!1,contatos:{},fatura:{},faturasAbertas:[],mostrarOpcaoMigrarFatura:!1,visibilidade:{botao:{remover:!1,editar:!1}},modalEditar:{visivel:!1,erroCalculo:!1},tema:["TituloCard","bg-white","q-pa-md","round-borders"]}},methods:{irParaAtendimentoFatura:function(e){this.$router.push({name:"AtendimentoFatura",params:{id:e}})},migrarFatura:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$q.dialog({cancel:"Cancelar",message:"Esta ação irá migrar esta venda para outra fatura.",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return");case 8:if(t||!this.titulo.idContato||!this.titulo.idEmpresa){e.next=36;break}return e.next=11,He().contato.get(this.titulo.idContato);case 11:if(e.t1=e.sent,e.t1){e.next=14;break}e.t1={};case 14:return a=e.t1,e.next=17,He().contatoEndereco.where({idContato:this.titulo.idContato}).toArray();case 17:return o=e.sent,e.next=20,He().contatoTelefone.where({idContato:this.titulo.idContato}).toArray();case 20:return i=e.sent,o=o.find(function(e){return"Principal"===e.grupo.trim().toLowerCase()})||o[0]||{},i=i.find(function(e){return"Principal"===e.tipoTelefone.trim().toLowerCase()})||i[0]||{},e.next=25,He().contato.get(this.titulo.idEmpresa);case 25:if(e.t2=e.sent,e.t2){e.next=28;break}e.t2={};case 28:return r=e.t2,e.next=31,He().contatoEndereco.where({idContato:this.titulo.idEmpresa}).toArray();case 31:return s=e.sent,s=s.find(function(e){return"Principal"===e.grupo.trim().toLowerCase()})||s[0]||{},t=Zn.fatura.criar({idEmpresa:r.id,idEmpresaEndereco:s.id||"",descricaoEmpresa:r.nome||"",numeroDocumentoEmpresa:r.numeroDocumentoNacional||"",inscricaoMunicipalEmpresa:r.numeroDocumentoMunicipal||"",optanteSimplesNacional:"SimplesNacional"===r.regime?"1":"0",idContato:a.id,idContatoEndereco:o.id||"",numeroDocumentoContato:a.numeroDocumentoNacional||"",descricaoContato:a.nome||"",descricaoContatoEndereco:"".concat(o.logradouro||"",", ",o.numero||""," ",o.complemento||""," - ",o.bairro||""," - ",o.municipio||"","/",o.uf||""),telefoneContato:i.telefone||"",emailContato:a.email||"",regimeContato:a.regime||"",observacaoFaturamento:""}),e.next=36,Zn.fatura.grava({fatura:t});case 36:if(!t.id){e.next=43;break}return e.next=39,Zn.financeiroTitulo.grava({atual:{id:this.titulo.id,idFatura:t.id},original:this.titulo});case 39:localStorage.setItem("idFatura",t.id),this.titulo.idContato&&(this.$emit("executar","atualizar"),this.irParaAtendimentoFatura(this.titulo.idContato)),e.next=44;break;case 43:this.$q.notify("Não foi possível realizar a operação");case 44:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),salvar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.modalEditar.erroCalculo){e.next=3;break}return this.$q.notify("Não é possível salvar o título. Erro de cálculo encontrado."),e.abrupt("return");case 3:return e.prev=3,e.next=6,Zn.financeiroTitulo.grava({atual:this.titulo,original:this.tituloOriginal});case 6:this.tituloOriginal=Yt(this.titulo),this.modalEditar.visivel=!1,this.$q.notifyPositive("Título salvo."),this.$emit("executar","recalcular"),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](3),this.$q.notifyPositive("Não foi possível salvar o título. Por favor, tente novamente.");case 15:case"end":return e.stop()}},e,this,[[3,12]])}));return function(){return e.apply(this,arguments)}}(),editar:function(){this.modalEditar.visivel=!0},permissaoEditar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.permissao.objeto("Diretiva_Caixa_DescontoTitulo");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),desconto:function(){var e=dt((this.titulo.valorMulta||0)+(this.titulo.valorJuros||0)*(this.titulo.diasEmAtraso||0));if(this.titulo.valorDesconto<0||this.titulo.valorDesconto>e)return this.modalEditar.erroCalculo=!0,this.titulo.valorTotal=this.tituloOriginal.valorTotal,this.titulo.valorARealizar=this.tituloOriginal.valorARealizar,void(this.titulo.percentualDesconto=this.tituloOriginal.percentualDesconto);this.titulo.valorTotal=dt((this.titulo.valor||0)-(this.titulo.valorDesconto||0)+(this.titulo.valorMulta||0)+(this.titulo.valorJuros||0)*(this.titulo.diasEmAtraso||0)),this.titulo.valorARealizar=this.titulo.valorTotal,this.titulo.percentualDesconto=dt(100*(this.titulo.valorDesconto||0)/(this.titulo.valor||1)),this.modalEditar.erroCalculo=!1},alternarDetalhes:function(){this.detalhes=!this.detalhes},remover:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$q.dialog({cancel:"Cancelar",message:"Esta ação irá remover este título da fatura.",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return");case 8:return this.titulo.idFatura="",e.next=11,Zn.financeiroTitulo.grava({atual:this.titulo,original:this.tituloOriginal});case 11:this.visibilidade.botao.remover=!1,this.$q.notifyPositive("Título removido da fatura."),this.$emit("executar","remover");case 14:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}()},props:{dados:{required:!0,type:Object}},mounted:function(){var e=this,t=new Date(this.dados.dataVencimento).setHours(0,0,0,0),a=(new Date).setHours(0,0,0,0);t<a?this.tema.push("vencido"):this.tema=Object(ot["remove"])(this.tema,function(e){return"vencido"!==e}),this.tituloOriginal=Yt(this.dados),this.titulo=Yt(this.dados),this.visibilidade.botao.remover=!1,this.permissaoEditar().then(function(t){return e.visibilidade.botao.editar=t&&!e.tituloOriginal.valorRealizado}),this.contatos={},this.titulo.idContato&&Zn.contato.le({id:this.titulo.idContato}).then(function(t){e.$set(e.contatos,e.titulo.idContato,t)}),this.titulo.idEmpresa&&Zn.contato.le({id:this.titulo.idEmpresa}).then(function(t){e.$set(e.contatos,e.titulo.idEmpresa,t)}),this.mostrarOpcaoMigrarFatura=!1,this.titulo.idFatura&&Zn.fatura.leNew({id:this.titulo.idFatura}).then(function(t){e.fatura=t,"Aberta"===t.status&&(Zn.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0).then(function(t){t.find(function(t){return t.id===e.titulo.idEmpresa})&&(e.visibilidade.botao.remover=!0)}),e.titulo.idContato&&e.titulo.idEmpresa&&Zn.fatura.obterAbertas(e.titulo.idContato,e.titulo.idEmpresa).then(function(t){t=t.filter(function(t){return t.id!==e.titulo.idFatura}),e.faturasAbertas=t.sort(function(e,t){return!e.numero||e.numero<t.numero?-1:1}),e.mostrarOpcaoMigrarFatura=!0}))})}},bv=Cv,gv=(a("e38f"),Object(sc["a"])(bv,hv,fv,!1,null,null,null));gv.options.__file="TituloCard.vue";var xv=gv.exports,_v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.dados.venda.id?a("q-card",{staticClass:"extratoItem bg-white q-pa-md no-shadow"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"q-px-sm"},[a("avatar",{staticStyle:{float:"left"},attrs:{imagem:(e.contatos[e.dados.venda.idContato]||{}).imagem,rotulo:e.dados.venda.descricaoContato,tamanho:"40"}}),a("q-toolbar-title",[e._v("\n          "+e._s(e.dados.venda.descricaoContato)+"\n        ")]),a("q-chip",{staticClass:"q-ma-sm q-my-sm",attrs:{rounded:"",color:"grey",small:""}},[e._v("\n          "+e._s(e.dados.venda.status)+"\n        ")]),a("q-list",{staticClass:"no-border "},[e._l(e.dados.carrinho,function(t){return a("q-item",{key:t.id,staticClass:"q-pa-none",staticStyle:{"min-height":"auto"}},[a("q-item-side",[a("small",[e._v(e._s(t.quantidade)+"x")])]),a("q-item-main",[a("small",[e._v("\n                "+e._s(t.descricaoItem)+"\n              ")])]),a("q-item-side",{attrs:{right:""}},[a("small",[e._v(e._s(e._f("numero")(t.total,2)))])])],1)}),e._l(e.dados.customs,function(t){return a("q-item",{key:t.documento.id,staticClass:"q-pa-none",staticStyle:{"min-height":"auto"}},[a("q-item-side",[a("small",[e._v("\n                "+e._s(t.documento.numero)+"x\n                "),a("q-tooltip",[e._v("\n                  "+e._s(t.documento.descricao)+"\n                ")])],1)]),a("q-item-main",[a("small",[e._v("\n                "+e._s(t.documento.descricao)+"\n              ")])]),a("q-item-side",{attrs:{right:""}},[a("small",[e._v(e._s(e._f("numero")(t.documento.totalDocumento,2)))])])],1)}),e._l(e.dados.oss,function(t){return a("q-item",{key:t.documento.id,staticClass:"q-pa-none",staticStyle:{"min-height":"auto"}},[a("q-item-side",[a("small",[e._v("\n                OS\n                "),a("q-tooltip",[e._v("\n                  "+e._s(t.documento.descricao)+"\n                ")])],1)]),a("q-item-main",[a("small",[e._v("\n                "+e._s(t.documento.descricao)+"\n                "),"Orçamento"!==t.documento.status?a("badge",{staticClass:"q-mx-sm",attrs:{escuro:"",cor:"grey-5",denso:"",round:""}},[e._v("\n                  "+e._s(t.documento.status)+"\n                ")]):e._e()],1)]),a("q-item-side",{attrs:{right:""}},[a("small",[e._v(e._s(e._f("numero")(t.documento.totalDocumento,2)))])])],1)}),e._l(e.dados.envelopes,function(t){return a("q-item",{key:t.id,staticClass:"q-pa-none",staticStyle:{"min-height":"auto"}},[a("q-item-side",[a("small",[e._v("\n                #"+e._s(parseInt(t.numero)||(t.id||"").slice(-6))+"\n                "),a("q-tooltip",[e._v("\n                  "+e._s(t.tipo)+" - "+e._s(t.descricaoContato)+"\n                ")])],1)]),a("q-item-main",[a("small",[e._v("\n                "+e._s(e.descricaoEnvelope(t.id))+"\n                "),"Orçamento"!==t.status?a("badge",{staticClass:"q-mx-sm",attrs:{escuro:"",cor:"grey-5",denso:"",round:""}},[e._v("\n                  "+e._s(t.status)+"\n                ")]):e._e()],1)]),a("q-item-side",{attrs:{right:""}},[a("small",[e._v(e._s(e._f("numero")(t.totalDocumento,2)))])])],1)})],2)],1)]),a("div",{staticClass:"col-12 col-md-2"},[a("div",{staticClass:"q-px-sm"},[a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"},nativeOn:{click:function(t){return e.copiarUid(t)}}},[e._v("\n          #"+e._s(parseInt(e.dados.venda.numero)||(e.dados.venda.id||"").slice(-6))+"\n          "),a("input",{ref:"uid",attrs:{type:"hidden"},domProps:{value:e.dados.venda.id}})]),a("dl",{staticClass:"q-mt-sm"},[a("dd",[a("q-tooltip",[e._v("\n              Vendedor(a)\n            ")]),e._v("\n            "+e._s((e.contatos[e.dados.venda.idContatoVendedor]||{}).apelido)+"\n          ")],1)])],1)]),a("div",{staticClass:"col-3 col-md-1"},[a("q-tooltip",[e._v("\n        Emissão\n      ")]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v(e._s(e._f("mesNome")(e.dados.venda.dataHoraEmissao)))])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v(e._s(e._f("dia")(e.dados.venda.dataHoraEmissao)))])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v(e._s(e._f("ano")(e.dados.venda.dataHoraEmissao)))])])],1),a("div",{staticClass:"col-3 col-md-1"},[e.dados.venda.dataHoraFinalizado?a("q-tooltip",[e._v("\n        Finalizado\n      ")]):e._e(),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v(e._s(e._f("mesNome")(e.dados.venda.dataHoraFinalizado)))])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v(e._s(e._f("dia")(e.dados.venda.dataHoraFinalizado)))])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v(e._s(e._f("ano")(e.dados.venda.dataHoraFinalizado)))])])],1),a("div",{staticClass:"col-6 col-md-2"},[a("dl",{staticClass:"float-right full-width q-mb-sm"},[a("dt",{staticClass:"text-right q-headline text-positive text-weight-bold"},[e._v("\n          "+e._s(e._f("numero")(e.dados.venda.totalDocumento,2))+"\n          "),a("p",{staticClass:"text-weight-normal text-tertiary q-body-1"},[e._v("\n            "+e._s(e._f("numero")(e.dados.venda.subTotal,2))+"\n          ")])])]),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"more_vert",color:"grey",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{link:"",separator:""}},[e.$utils.mapearStatus(e.dados.venda).permiteNota?[a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.emitirNFeV2({idVenda:e.dados.venda.id},1,"Venda")}}},[a("q-item-side",{attrs:{icon:"account_balance"}}),a("q-item-main",{attrs:{label:"NFe de Saída/Venda"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.emitirNFeV2({idVenda:e.dados.venda.id},0,"Devolução")}}},[a("q-item-side",{attrs:{icon:"account_balance"}}),a("q-item-main",{attrs:{label:"NFe de Entrada/Devolução"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.emitirNFeV2({idVenda:e.dados.venda.id},1,"Remessa")}}},[a("q-item-side",{attrs:{icon:"account_balance"}}),a("q-item-main",{attrs:{label:"NFe de Remessa"}})],1)]:e._e(),e.podeMigrarFatura?[e._l(e.faturasAbertas.filter(function(t){return t.id!==e.dados.venda.idFatura}),function(t){return a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],key:t.id,nativeOn:{click:function(a){e.migrarFatura(t)}}},[a("q-item-side",{attrs:{icon:"mdi-folder-move"}}),a("q-item-main",{attrs:{label:"Migrar para fatura #"+(t.numero||t.id.slice(-6))}})],1)}),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.migrarFatura()}}},[a("q-item-side",{attrs:{icon:"mdi-folder-move"}}),a("q-item-main",{attrs:{label:"Migrar para nova fatura"}})],1)]:e._e(),a("q-item",{nativeOn:{click:function(t){e.$refs.modalHistoricoStatus.exibirHistorico(e.dados.venda.id)}}},[a("q-item-side",{attrs:{icon:"history"}}),a("q-item-main",{attrs:{label:"Histórico do Status"}})],1)],2)],1)],1),e.visibilidade.botao.remover?a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"clear",color:"grey",size:"md"},on:{click:e.remover}}):e._e(),e.visibilidade.botao.editar?a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"edit",color:"primary",size:"md"},on:{click:e.editar}}):e._e(),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"print",color:"primary",size:"md"}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},[e._l(e.configImpressaoOrcamento.filter(function(e){return e.valor}),function(t){return a("q-item",{key:t.valor,nativeOn:{click:function(a){e.imprimir(t.valor,{id:(e.dados.venda||{}).id||"0",Oculto:"0"})}}},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:t.texto}})],1)}),"optisoul"===e.sistemaPai?e._l(e.configImpressaoEnvelope,function(t){return a("q-item",{key:t.valor,nativeOn:{click:function(a){e.imprimir(t.valor,(e.dados.venda||{}).id||"0")}}},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:t.texto}})],1)}):e._e()],2)],1)],1),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:e.detalhesVisivel?"keyboard_arrow_up":"keyboard_arrow_down",size:"md",color:"grey"},on:{click:e.alternarDetalhes}})],1)]),e.detalhesVisivel?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"q-px-sm"},[a("q-toolbar-title",{staticClass:"q-mx-none q-mt-sm q-px-none"},[a("q-icon",{attrs:{name:"business"}}),e._v("\n          "+e._s(e.dados.venda.descricaoEmpresa)+"\n        ")],1),a("p",{staticClass:"q-mt-sm"},[a("small",{staticStyle:{display:"block"}},[e._v("\n            "+e._s(e.dados.venda.observacao)+"\n            "),a("br"),e._v("\n            "+e._s(e.dados.venda.observacaoInterna)+"\n          ")])]),a("div",{staticClass:"round-borders"},[a("documentos-fiscais",{attrs:{idVenda:e.dados.venda.id}})],1)],1)]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"q-px-sm"},[a("q-toolbar-title",{staticClass:"q-mx-none q-mt-sm q-px-none"},[e._v("\n          Faturamento\n        ")]),a("p",{staticClass:"q-mt-sm"},[a("small",{staticStyle:{display:"block"}},[e._v("\n            "+e._s(e.dados.venda.observacaoFaturamento)+"\n          ")])])],1)]),a("div",{staticClass:"col-12 col-md-2"},[a("div",{staticClass:"q-px-sm text-right"},[a("dl",{staticClass:"q-mt-none text-right"},[a("dd",[a("small",{staticClass:"q-mr-xs"},[e._v("Desconto")]),a("span",{staticClass:"q-subheading"},[a("strong",[e._v(e._s(e._f("numero")(e.dados.venda.totalDesconto,2)))])])])])])])]):e._e(),a("venda-modal",{ref:"vendaModal",attrs:{id:e.dados.venda.id},on:{executar:e.executar},model:{value:e.vendaModalVisivel,callback:function(t){e.vendaModalVisivel=t},expression:"vendaModalVisivel"}}),a("modal-historico-status",{ref:"modalHistoricoStatus"})],1):e._e()},qv=[];_v._withStripped=!0;var Sv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{model:{value:e.mostrar,callback:function(t){e.mostrar=t},expression:"mostrar"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Histórico do Status")]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),a("q-list",{staticClass:"q-pl-sm q-pr-sm q-pt-lg q-pb-lg",attrs:{"no-border":"",dense:""}},[e._l(e.dados.status,function(t,o){return[o?a("q-item-separator",{key:o}):e._e(),a("q-item",{key:t.codigoDocumentoStatus,attrs:{multiline:""}},[a("q-item-side",[a("avatar",{attrs:{imagem:(e.dados.contatos[t.codigoUsuarioAlterou]||{}).imagem,rotulo:(e.dados.contatos[t.codigoUsuarioAlterou]||{}).nome}})],1),a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[a("span",{staticClass:"q-body-1"},[e._v("De:")]),e._v(" "),a("span",{staticClass:"q-body-2"},[e._v(e._s(t.statusOriginal))])]),a("q-item-tile",{attrs:{label:""}},[a("span",{staticClass:"q-body-1"},[e._v("Para:")]),e._v(" "),a("span",{staticClass:"q-body-2"},[e._v(e._s(t.statusFinalizado))])]),a("q-item-tile",{staticClass:"q-mt-sm",attrs:{sublabel:""}},[a("strong",{staticClass:"q-body-1"},[e._v(e._s((e.dados.contatos[t.codigoUsuarioAlterou]||{}).nome))])]),t.observacao?a("q-item-tile",{staticClass:"q-mt-sm",attrs:{sublabel:""}},[e._v("\n              "+e._s(t.observacao)+"\n            ")]):e._e()],1),a("q-item-side",{attrs:{right:""}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(e._f("dataHora")(t.dataHoraEmissao)))])],1)],1)]})],2)],1)],1)},Iv=[];Sv._withStripped=!0;var Fv={components:{Avatar:Fc},data:function(){return{dados:[],mostrar:!1}},methods:{exibirHistorico:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.dados=[],e.prev=1,this.$q.loading.show({message:"Processando"}),e.next=5,Zn.documentoStatus.leHistoricoOnline(t);case 5:if(a=e.sent,a.status.length){e.next=9;break}return this.$q.notify({type:"warning",message:"Não há histórico disponível."}),e.abrupt("return");case 9:this.dados=a,this.mostrar=!0,e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](1),this.$q.notify({type:"negative",message:e.t0.message});case 16:return e.prev=16,this.$q.loading.hide(),e.finish(16);case 19:case"end":return e.stop()}},e,this,[[1,13,16,19]])}));return function(t){return e.apply(this,arguments)}}()}},wv=Fv,yv=Object(sc["a"])(wv,Sv,Iv,!1,null,null,null);yv.options.__file="ModalHistoricoStatus.vue";var Nv=yv.exports,kv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{maximized:""},on:{show:e.mostrar,hide:e.fechar},model:{value:e.visibilidade.modal,callback:function(t){e.$set(e.visibilidade,"modal",t)},expression:"visibilidade.modal"}},[a("q-modal-layout",{staticClass:"bg-grey-4"},[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v(e._s(e.titulo))]),!e.carregando&&e.visibilidade.botao.salvar?a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"white","text-color":"primary",label:"Salvar"},on:{click:e.salvar}}):e._e()],1),a("div",{staticClass:"layout-padding q-pa-none q-pb-xl"},[a("div",{staticClass:"u-container"},[e.carregando?e._e():a("div",[e.venda.id?a("venda",{ref:"venda",attrs:{id:e.venda.id},on:{fechar:e.fechar,executar:e.executar}}):e._e()],1),e.carregando?a("div",{staticClass:"q-mt-lg text-center"},[a("q-spinner",{attrs:{color:"faded",size:50}})],1):e._e()])]),a("q-toolbar",{staticClass:"footer",staticStyle:{background:"#eee !important"},attrs:{slot:"footer"},slot:"footer"},[a("q-toolbar-title",{staticClass:"text-right"},[e.visibilidade.botao.naoAprovado?a("q-btn",{staticClass:"q-mx-md",attrs:{color:"negative",flat:"",label:"Não aprovado"},on:{click:function(t){e.executar("reprovar")}}}):e._e(),e.visibilidade.botao.finalizar?a("q-btn",{attrs:{color:"primary",label:"Finalizar"},on:{click:function(t){e.executar("finalizar")}}}):e._e()],1)],1)],1)],1)},Mv=[];kv._withStripped=!0;var Pv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Venda round-borders"},[a("div",{staticClass:"bg-white round-borders q-pt-md q-pb-sm"},[a("q-toolbar",{staticClass:"Venda-barra bg-transparent q-py-sm",attrs:{color:"black",inverted:""}},[a("q-toolbar-title",[a("avatar",{staticClass:"q-mr-sm",attrs:{imagem:(e.contatos[e.venda.idContato]||{}).imagem,rotulo:e.venda.descricaoContato,tamanho:"50"}}),e._v("\n        "+e._s(e.venda.descricaoContato)+"\n      ")],1),a("div",{staticClass:"text-right"},[e.margem[e.venda.id]&&e.permissaoMargem?a("documento-codigo",{attrs:{documento:e.venda,prioridade:{tooltip:"| Índice "+e.$filters.numero(e.margem[e.venda.id].valor,2)+"%",cor:e.margem[e.venda.id].limite?"negative":e.margem[e.venda.id].alerta?"warning":void 0}}}):a("documento-codigo",{attrs:{documento:e.venda}}),a("br"),a("q-btn",{attrs:{color:"primary",flat:"",icon:"print",round:""}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},[e._l(e.configImpressaoOrcamento.filter(function(e){return e.valor}),function(t){return a("q-item",{key:t.valor,nativeOn:{click:function(a){e.imprimir(t.valor,{id:(e.venda||{}).id||"0",Oculto:"0"})}}},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:t.texto}})],1)}),"optisoul"===e.sistemaPai?e._l(e.configImpressaoEnvelope,function(t){return a("q-item",{key:t.valor,nativeOn:{click:function(a){e.imprimir(t.valor,(e.venda||{}).id||"0")}}},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:t.texto}})],1)}):e._e()],2)],1)],1),e.ehOrcamento?a("q-btn",{attrs:{color:"faded",flat:"",icon:"more_vert",round:""}},[a("q-popover",{model:{value:e.menuVenda,callback:function(t){e.menuVenda=t},expression:"menuVenda"}},[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{link:"",separator:""}},[a("q-item",{nativeOn:{click:function(t){return e.abrirModalContato(t)}}},[a("q-item-side",{attrs:{icon:"how_to_reg"}}),a("q-item-main",{attrs:{label:"Alterar cliente"}})],1),a("q-item",{nativeOn:{click:function(t){return e.alterarContatoVendedor(t)}}},[a("q-item-side",{attrs:{icon:"how_to_reg"}}),a("q-item-main",{attrs:{label:"Alterar vendedor"}})],1),Object.keys(e.envelopes).length||e.produtos.length?e._e():a("q-item",{nativeOn:{click:function(t){return e.alterarTabelaPreco(t)}}},[a("q-item-side",{attrs:{icon:"attach_money"}}),a("q-item-main",{attrs:{label:"Alterar tabela de preço"}})],1),Object.keys(e.envelopes).length||e.produtos.length?e._e():a("q-item",{nativeOn:{click:function(t){return e.alterarOperacao(t)}}},[a("q-item-side",{attrs:{icon:"attach_money"}}),a("q-item-main",{attrs:{label:"Alterar Operação"}})],1),a("q-item",{nativeOn:{click:function(t){return e.selecionarContatoIndicacao(t)}}},[a("q-item-side",{attrs:{icon:"how_to_reg"}}),a("q-item-main",{attrs:{label:"Selecionar Indicação"}})],1),e.documentoContato.find(function(e){return"comprador"===(e.descricao||"").trim().toLowerCase()})?a("q-item",{nativeOn:{click:function(t){e.selecionarComprador("")}}},[a("q-item-side",{attrs:{icon:"assignment_ind"}}),a("q-item-main",{attrs:{label:"Remover comprador"}})],1):a("q-item",{nativeOn:{click:function(t){return e.abrirModalComprador(t)}}},[a("q-item-side",{attrs:{icon:"assignment_ind"}}),a("q-item-main",{attrs:{label:"Selecionar comprador"}})],1),e.documentoContato.find(function(e){return"representando"===(e.descricao||"").trim().toLowerCase()})?a("q-item",{nativeOn:{click:function(t){e.removerRepresentando()}}},[a("q-item-side",{attrs:{icon:"how_to_reg"}}),a("q-item-main",{attrs:{label:"Remover representando"}})],1):a("q-item",{nativeOn:{click:function(t){return e.selecionarRepresentando(t)}}},[a("q-item-side",{attrs:{icon:"how_to_reg"}}),a("q-item-main",{attrs:{label:"Informar representando"}})],1),e.venda.idContatoResponsavel?a("q-item",{nativeOn:{click:function(t){e.selecionarConvenio("")}}},[a("q-item-side",{attrs:{icon:"input"}}),a("q-item-main",{attrs:{label:"Remover convênio"}})],1):a("q-item",{nativeOn:{click:function(t){return e.abrirModalConvenio(t)}}},[a("q-item-side",{attrs:{icon:"input"}}),a("q-item-main",{attrs:{label:"Alocar convênio"}})],1)],1)],1)],1):e._e(),e.ehOrcamento?e._e():a("q-btn",{attrs:{icon:"undo",color:"primary",label:"Retornar para orçamento"},on:{click:e.retornarOrcamento}})],1)],1),a("documento-metas",{attrs:{slot:"subtitle",documento:e.venda,idContatoComprador:(e.documentoContato.find(function(e){return"comprador"===(e.descricao||"").trim().toLowerCase()})||{}).idContato,idContatoRepresentando:(e.documentoContato.find(function(e){return"representando"===(e.descricao||"").trim().toLowerCase()})||{}).idContato},slot:"subtitle"}),e.mostrarDetalhes?a("div",{staticClass:"q-mb-md q-mx-lg"},[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12 col-sm-4"},[a("campo",{attrs:{tipo:"textoArea",rotulo:"Observação","somente-leitura":!e.estaAberto},model:{value:e.venda.observacao,callback:function(t){e.$set(e.venda,"observacao",t)},expression:"venda.observacao"}})],1),a("div",{staticClass:"col-12 col-sm-4"},[a("campo",{attrs:{tipo:"textoArea",rotulo:"Observação interna","somente-leitura":!e.estaAberto},model:{value:e.venda.observacaoInterna,callback:function(t){e.$set(e.venda,"observacaoInterna",t)},expression:"venda.observacaoInterna"}})],1),a("div",{staticClass:"col-12 col-sm-4"},[a("campo",{attrs:{tipo:"textoArea",rotulo:"Ordem de Compra","somente-leitura":!e.estaAberto,maxlength:"50"},model:{value:e.venda.numeroOrdemCompra,callback:function(t){e.$set(e.venda,"numeroOrdemCompra",t)},expression:"venda.numeroOrdemCompra"}})],1)])]):e._e(),a("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.mostrarDetalhes,expression:"mostrarDetalhes"}],staticClass:"no-shadow q-ma-xs",staticStyle:{margin:"0 auto",display:"block",padding:"0 12px 0 4px"},attrs:{icon:"keyboard_arrow_up",size:"sm",outline:"",color:"grey",label:"Detalhes"},on:{click:function(t){e.mostrarDetalhes=!e.mostrarDetalhes}}}),a("q-btn",{directives:[{name:"show",rawName:"v-show",value:!e.mostrarDetalhes,expression:"!mostrarDetalhes"}],staticClass:"no-shadow q-ma-xs",staticStyle:{margin:"0 auto",display:"block",padding:"0 12px 0 4px"},attrs:{icon:"keyboard_arrow_down",size:"sm",outline:"",color:"grey",label:"Detalhes"},on:{click:function(t){e.mostrarDetalhes=!e.mostrarDetalhes}}})],1),a("div",{staticClass:"bg-white round-borders q-mt-md q-pa-md"},[a("div",[a("div",{staticClass:"Venda-barraRodape bg-white"},[a("div",{staticClass:"u-container"},[a("div",{staticClass:"row justify-between"},[a("div",{staticClass:"col-auto text-center"},[a("q-btn",{staticClass:"q-pa-xs",attrs:{color:"primary",size:"md",icon:"mdi-barcode-scan",flat:""},on:{click:e.abrirModalCodigoBarras}})],1),a("q-field",{staticClass:"col hideonmobile",attrs:{"icon-color":"primary"}},[a("q-input",{ref:"codigoBarras",attrs:{color:"primary",placeholder:"Código de barras"},on:{keydown:e.leitorCodigoBarras},model:{value:e.codigoBarras,callback:function(t){e.codigoBarras=t},expression:"codigoBarras"}},[a("q-autocomplete",{attrs:{"min-characters":3},on:{search:e.buscarCodigoBarras,selected:e.selecionarItemCodigoBarras}})],1)],1),e.ehOrcamento?a("div",{staticClass:"col-auto text-center"},[a("q-btn",{staticClass:"q-pa-sm",attrs:{color:"primary",size:"md",icon:"add",label:"Produto",flat:""},on:{click:e.abrirModalItem}})],1):e._e(),"optisoul"===e.sistemaPai&&e.ehOrcamento&&0!=e.venda.idContato?a("div",{staticClass:"col-auto text-center"},[a("q-btn",{staticClass:"q-pa-sm",attrs:{color:"primary",size:"md",flat:"",icon:"add",label:"Envelope"},on:{click:function(t){e.abrirModalEnvelope()}}})],1):e._e(),e.ehOrcamento&&e.permissaoOSs?a("div",{staticClass:"col-auto text-center"},[a("q-btn",{staticClass:"q-pa-sm",attrs:{color:"primary",size:"md",flat:"",icon:"add",label:"OS"},on:{click:function(t){e.abrirModalOS()}}})],1):e._e(),e.ehOrcamento&&e.permissaoCustoms?a("div",{staticClass:"col-auto text-center"},[a("q-btn",{staticClass:"q-pa-sm",attrs:{color:"primary",size:"md",icon:"add",label:"Custom",flat:""},on:{click:function(t){e.abrirModalCustom()}}})],1):e._e()],1)])]),Object.keys(e.envelopes).length||e.produtos.length?e._e():a("div",{staticClass:"q-pa-lg text-center"},[a("p",[e._v("Ainda não há itens adicionados.")]),a("p",{staticClass:"q-caption"},[e._v("Para adicionar, utilize os botões acima ou insira o código de barras.")])]),Object.keys(e.envelopes).length||e.produtos.length?a("div",{staticClass:"border-1"},[a("p",{staticClass:"q-item-label ",staticStyle:{color:"#0c0c0c"}},[a("q-icon",{staticClass:"q-mr-md",staticStyle:{color:"#737373"},attrs:{name:"shopping_cart",size:"24px"}}),e._v(" Carrinho\n        ")],1)]):e._e(),e._l(e.produtos,function(t,o){return a("div",{key:o,staticClass:"items-carrinho items-center row q-py-sm"},[t.caption?a("div",{staticClass:"q-body-2 text-weight-medium q-mt-xl"},[e._v("\n          "+e._s(t.caption)+"\n        ")]):e._e(),t.documento?[a("div",{staticClass:"col-auto"},[a("avatar",{attrs:{imagem:t.arquivo.length?t.arquivo[0].arquivo:"",rotulo:t.documento.descricao,tamanho:"40"}})],1),a("q-toolbar",{staticClass:"Venda-itemBarra bg-transparent col q-pr-none q-py-none",attrs:{color:"black",inverted:""}},[a("q-toolbar-title",{staticClass:"q-px-none"},[a("span",{staticClass:"q-body-2"},[e._v(e._s(t.documento.descricao))]),a("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v(e._s(t.documento.observacao))])]),e.margem[t.documento.id]&&e.permissaoMargem?[e.margem[t.documento.id].limite?a("badge",{attrs:{cor:"negative",denso:"",escuro:""}},[e._v("\n                "+e._s(t.documento.tipo)+"\n                "),a("q-tooltip",[e._v("Índice "+e._s(e._f("numero")(e.margem[t.documento.id].valor,2))+"%")])],1):e.margem[t.documento.id].alerta?a("badge",{attrs:{cor:"warning",denso:""}},[e._v("\n                "+e._s(t.documento.tipo)+"\n                "),a("q-tooltip",[e._v("Índice "+e._s(e._f("numero")(e.margem[t.documento.id].valor,2))+"%")])],1):a("badge",{attrs:{denso:""}},[e._v("\n                "+e._s(t.documento.tipo)+"\n                "),a("q-tooltip",[e._v("Índice "+e._s(e._f("numero")(e.margem[t.documento.id].valor,2))+"%")])],1)]:[a("badge",{attrs:{denso:""}},[e._v("\n                "+e._s(t.documento.tipo)+"\n              ")])],"Custom"===t.documento.tipo?[e.ehOrcamento&&e.permissaoCustoms?a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:function(a){e.abrirModalCustom(t.documento.id)}}},[a("q-tooltip",[e._v("Editar Custom")])],1):e._e(),e.ehOrcamento&&e.permissaoCustoms?a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""},on:{click:function(a){e.removerCustom(t.documento.id)}}},[a("q-tooltip",[e._v("Remover Custom")])],1):e._e()]:e._e(),"Ordem de Serviço"===t.documento.tipo?[e.ehOrcamento&&e.permissaoOSs?a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:function(a){e.abrirModalOS(t.documento.id)}}},[a("q-tooltip",[e._v("Editar Ordem de Serviço")])],1):e._e(),e.ehOrcamento&&e.permissaoOSs?a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""},on:{click:function(a){e.removerOS(t.documento.id)}}},[a("q-tooltip",[e._v("Remover Ordem de Serviço")])],1):e._e()]:e._e()],2),a("div",{staticClass:"col-12",staticStyle:{"margin-top":"-20px"}},[a("div",{staticClass:"gutter-x-sm row justify-end"},["Custom"===t.documento.tipo?[a("q-field",{staticClass:"col-3 col-lg-2"},[a("campo",{attrs:{"class-campo":"u-campoCompacto text-weight-bold",align:e.$q.screen.lt.sm?"left":"right",suffix:e.$q.screen.lt.sm?"×":"",tipo:"decimal",decimals:"2","somente-leitura":!0,"hide-underline":""},model:{value:t.documento.subTotal,callback:function(a){e.$set(t.documento,"subTotal",a)},expression:"produto.documento.subTotal"}}),a("q-tooltip",[e._v("Subtotal")])],1),a("q-field",{staticClass:"col-5 col-sm-8 col-lg-2"},[e.ehOrcamento?a("campo",{attrs:{"class-campo":"u-campoCompacto",min:"1","somente-leitura":!e.ehOrcamento,tipo:"quantidade","hide-underline":""},on:{input:function(a){e.calcularQuantidadeCustom(t.documento.id)}},model:{value:t.documento.numero,callback:function(a){e.$set(t.documento,"numero",e._n(a))},expression:"produto.documento.numero"}}):e._e(),e.ehOrcamento?e._e():a("q-input",{staticClass:"u-campoCompacto",attrs:{"hide-underline":"",readonly:!e.ehOrcamento},model:{value:t.documento.numero,callback:function(a){e.$set(t.documento,"numero",a)},expression:"produto.documento.numero"}}),a("q-tooltip",[e._v("Quantidade")])],1),a("q-field",{staticClass:"col-4 col-lg-2"},[a("campo",{attrs:{"class-campo":"u-campoCompacto text-weight-bold","hide-underline":"","somente-leitura":"",prefix:"= ",tipo:"decimal",decimals:"2"},model:{value:t.documento.totalDocumento,callback:function(a){e.$set(t.documento,"totalDocumento",a)},expression:"produto.documento.totalDocumento"}})],1)]:e._e(),"Ordem de Serviço"===t.documento.tipo?[a("q-field",{staticClass:"col-4 col-lg-2"},[a("campo",{attrs:{"class-campo":"u-campoCompacto text-weight-bold","hide-underline":"","somente-leitura":"",tipo:"decimal",decimals:"2"},model:{value:t.documento.totalDocumento,callback:function(a){e.$set(t.documento,"totalDocumento",a)},expression:"produto.documento.totalDocumento"}})],1)]:e._e()],2)])]:e._e(),t.id?[a("div",{staticClass:"col-auto"},[a("avatar",{attrs:{imagem:(e.item[t.idItem]||{}).imagem,rotulo:t.descricaoItem,tamanho:"40"}})],1),a("q-toolbar",{staticClass:"Venda-itemBarra bg-transparent col q-pr-none q-py-none",attrs:{color:"black",inverted:""}},[a("q-toolbar-title",{staticClass:"q-px-none"},[a("span",{staticClass:"q-body-2"},[e._v(e._s(t.descricaoItem))]),a("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v(e._s((e.item[t.idItem]||{}).marca))])]),e.margem[t.id]&&e.permissaoMargem?[e.margem[t.id].limite?a("badge",{attrs:{cor:"negative",denso:"",escuro:""}},[e._v("\n                "+e._s(t.tipoItem)+" "+e._s((e.item[t.idItem]||{}).referencia)+"\n                "),a("q-tooltip",[e._v("Índice "+e._s(e._f("numero")(e.margem[t.id].valor,2))+"%")])],1):e.margem[t.id].alerta?a("badge",{attrs:{cor:"warning",denso:""}},[e._v("\n                "+e._s(t.tipoItem)+" "+e._s((e.item[t.idItem]||{}).referencia)+"\n                "),a("q-tooltip",[e._v("Índice "+e._s(e._f("numero")(e.margem[t.id].valor,2))+"%")])],1):a("badge",{attrs:{denso:""}},[e._v("\n                "+e._s(t.tipoItem)+" "+e._s((e.item[t.idItem]||{}).referencia)+"\n                "),a("q-tooltip",[e._v("Índice "+e._s(e._f("numero")(e.margem[t.id].valor,2))+"%")])],1)]:[a("badge",{attrs:{denso:""}},[e._v("\n                "+e._s(t.tipoItem)+" "+e._s((e.item[t.idItem]||{}).referencia)+"\n              ")])],e.ehOrcamento?a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:function(a){e.editarProduto(t)}}}):e._e(),e.ehOrcamento?a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""},on:{click:function(a){e.removerItem(t.id)}}},[a("q-tooltip",[e._v("Remover Item")])],1):e._e()],2),a("div",{staticClass:"col-12",staticStyle:{"margin-top":"-10px"}},[a("div",{staticClass:"gutter-x-sm row"},["Envelope"!==t.tipoItem?a("q-field",{staticClass:"col-4 col-sm-3 col-lg-2",attrs:{warning:!!e.warningLabel[t.id],"warning-label":e.warningLabel[t.id]}},[a("campo",{attrs:{"class-campo":"u-campoCompacto",align:"left",tipo:"decimal",decimals:"2","somente-leitura":1===t.operacaoFator,"hide-underline":""},on:{blur:function(a){e.carrinhoCalcularTotais(t.id,"valorItem")}},model:{value:t.valorItem,callback:function(a){e.$set(t,"valorItem",a)},expression:"produto.valorItem"}}),a("q-tooltip",[e._v("Valor do produto")])],1):e._e(),"Envelope"!==t.tipoItem?[a("q-field",{staticClass:"col-4 col-sm-3 col-lg-2"},[a("campo",{attrs:{"class-campo":"u-campoCompacto ",opcoes:{maximumValue:100},tipo:"decimal",decimals:"2",prefix:"─",suffix:"%","somente-leitura":!e.ehOrcamento||1===t.operacaoFator,"hide-underline":""},on:{blur:function(a){e.carrinhoCalcularTotais(t.id,"descontoPercentualItem")}},model:{value:t.descontoPercentualItem,callback:function(a){e.$set(t,"descontoPercentualItem",a)},expression:"produto.descontoPercentualItem"}}),a("q-tooltip",[e._v("Desconto percentual")])],1),a("q-field",{staticClass:"col-4 col-sm-3 col-lg-2"},[a("campo",{attrs:{"class-campo":"u-campoCompacto",opcoes:{maximumValue:t.valorItem,minimumValue:0},tipo:"decimal",decimals:"2","hide-underline":"","somente-leitura":!e.ehOrcamento||1===t.operacaoFator},on:{blur:function(a){e.carrinhoCalcularTotais(t.id,"descontoItem")}},model:{value:t.descontoItem,callback:function(a){e.$set(t,"descontoItem",a)},expression:"produto.descontoItem"}}),a("q-tooltip",[e._v("Desconto em reais")])],1)]:e._e(),"Envelope"!==t.tipoItem?a("q-field",{staticClass:"col-3 col-lg-2"},[a("campo",{attrs:{"class-campo":"u-campoCompacto text-weight-bold",align:e.$q.screen.lt.sm?"left":"right",opcoes:{maximumValue:t.valorItem,minimumValue:0},prefix:e.$q.screen.lt.sm?"":"=",suffix:e.$q.screen.lt.sm?"×":"",tipo:"decimal",decimals:"2",value:e.subtotal2(t.id),"somente-leitura":!e.ehOrcamento||1===t.operacaoFator,"hide-underline":""},on:{blur:function(a){e.carrinhoCalcularTotais(t.id,"subTotal")},input:function(a){e.subTotal[t.id]=a}}}),a("q-tooltip",[e._v("Subtotal")])],1):e._e(),"Envelope"!==t.tipoItem?a("q-field",{staticClass:"col-5 col-sm-8 col-lg-2"},[e.ehOrcamento?a("campo",{attrs:{"class-campo":"u-campoCompacto",max:t.quantidadeDisponivel,min:"1","somente-leitura":!e.ehOrcamento,tipo:"quantidade","hide-underline":""},on:{input:function(a){e.carrinhoCalcularTotais(t.id,"quantidade")}},model:{value:t.quantidade,callback:function(a){e.$set(t,"quantidade",a)},expression:"produto.quantidade"}}):e._e(),e.ehOrcamento?e._e():a("q-input",{staticClass:"u-campoCompacto",attrs:{"hide-underline":"",readonly:!e.ehOrcamento},model:{value:t.quantidade,callback:function(a){e.$set(t,"quantidade",a)},expression:"produto.quantidade"}}),a("q-tooltip",[e._v("Quantidade")])],1):e._e(),a("q-field",{staticClass:"col-4 col-lg-2"},[a("campo",{attrs:{"class-campo":"u-campoCompacto text-weight-bold","hide-underline":"","somente-leitura":"",tipo:"decimal",prefix:"= ",decimals:"2"},model:{value:t.total,callback:function(a){e.$set(t,"total",a)},expression:"produto.total"}}),a("q-tooltip",[e._v("Total")])],1)],2)])]:e._e()],2)}),a("div",{staticClass:"border-1"},e._l(e.envelopes,function(t){return a("div",{key:t.id,staticClass:"items-carrinho items-center row q-py-sm"},[a("div",{staticClass:"col-auto "},[a("avatar",{attrs:{imagem:(e.contatos[t.idContato]||{}).imagem,rotulo:t.tipo,tamanho:"40"}})],1),a("q-toolbar",{staticClass:"Venda-itemBarra bg-transparent col",attrs:{color:"black",inverted:""}},[a("q-toolbar-title",{staticClass:"q-pl-none"},[a("span",{staticClass:"q-body-2"},[e._v("\n                "+e._s(e.descricaoEnvelope(t.id))+"\n              ")]),a("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v(e._s(t.descricaoContato))])])],1),a("div",{staticClass:" col-12 col-lg-auto text-right"},[e.margem[t.id]&&e.permissaoMargem?[e.margem[t.id].limite?a("badge",{attrs:{cor:"negative",denso:"",escuro:""}},[e._v("\n                "+e._s(t.tipo)+"\n                "),a("q-tooltip",[e._v("Índice "+e._s(e._f("numero")(e.margem[t.id].valor,2))+"%")])],1):e.margem[t.id].alerta?a("badge",{attrs:{cor:"warning",denso:""}},[e._v("\n                "+e._s(t.tipo)+"\n                "),a("q-tooltip",[e._v("Índice "+e._s(e._f("numero")(e.margem[t.id].valor,2))+"%")])],1):a("badge",{attrs:{denso:""}},[e._v("\n                "+e._s(t.tipo)+"\n                "),a("q-tooltip",[e._v("Índice "+e._s(e._f("numero")(e.margem[t.id].valor,2))+"%")])],1)]:[a("badge",{attrs:{denso:""}},[e._v("\n                "+e._s(t.tipo)+"\n              ")])],e.ehOrcamento?a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:function(a){e.abrirModalEnvelope(t.id)}}},[a("q-tooltip",[e._v("Editar Envelope")])],1):e._e(),e.ehOrcamento?e._e():a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"open_in_browser",round:""},on:{click:function(a){e.abrirModalEnvelope(t.id)}}}),e.ehOrcamento?a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""},on:{click:function(a){e.removerEnvelope(t.id)}}},[a("q-tooltip",[e._v("Remover Envelope")])],1):e._e(),a("div",{staticClass:"row"},[a("q-field",{staticClass:"col-12"},[a("campo",{attrs:{"class-campo":"u-campoCompacto text-left q-mr-sm text-weight-bold","hide-underline":"","somente-leitura":"",tipo:"decimal",decimals:"2"},model:{value:t.totalDocumento,callback:function(a){e.$set(t,"totalDocumento",a)},expression:"envelope.totalDocumento"}})],1)],1)],2)],1)}))],2),e.produtos.length||Object.keys(e.envelopes).length?a("div",{staticClass:"row q-mt-xl"},[a("div",{staticClass:"col-12 col-lg-4 offset-lg-8"},[e.ehOrcamento?a("div",{staticClass:"items-center row gutter-x-sm",staticStyle:{"min-height":"49px"}},[a("div",{staticClass:"col-3"},[e._v("Subtotal")]),a("strong",{staticClass:"col text-right text-weight-bold"},[e._v(e._s(e._f("numero")(e.venda.subTotal,2)))])]):e._e(),e.ehOrcamento?a("div",{staticClass:"items-center row gutter-x-sm"},[a("div",{staticClass:"col-3"},[e._v("Desconto")]),a("q-field",{staticClass:"col"},[a("campo",{attrs:{"somente-leitura":!e.ehOrcamento,opcoes:{maximumValue:100},tipo:"decimal",decimals:"2",suffix:"%",erro:e.erroCalculo},on:{input:function(t){e.calcularTotais("totalPercentualDesconto")}},model:{value:e.venda.totalPercentualDesconto,callback:function(t){e.$set(e.venda,"totalPercentualDesconto",t)},expression:"venda.totalPercentualDesconto"}})],1),a("q-field",{staticClass:"col"},[a("campo",{attrs:{"somente-leitura":!e.ehOrcamento,opcoes:{maximumValue:e.venda.subTotal,minimumValue:0},tipo:"decimal",decimals:"2",erro:e.erroCalculo},on:{input:function(t){e.calcularTotais("totalDesconto")}},model:{value:e.venda.totalDesconto,callback:function(t){e.$set(e.venda,"totalDesconto",t)},expression:"venda.totalDesconto"}})],1)],1):e._e(),e.ehOrcamento?a("div",{staticClass:"items-center row gutter-x-sm"},[a("div",{staticClass:"col-3"},[e._v("Frete")]),a("q-field",{staticClass:"col"},[a("q-radio",{staticClass:"q-mr-md",attrs:{label:"CIF",val:"CIF",readonly:!e.ehOrcamento},on:{input:e.calcularTotais},model:{value:e.venda.tipoFrete,callback:function(t){e.$set(e.venda,"tipoFrete",t)},expression:"venda.tipoFrete"}}),a("q-radio",{attrs:{label:"FOB",val:"FOB",readonly:!e.ehOrcamento},on:{input:e.calcularTotais},model:{value:e.venda.tipoFrete,callback:function(t){e.$set(e.venda,"tipoFrete",t)},expression:"venda.tipoFrete"}})],1),a("q-field",{staticClass:"col"},[a("campo",{attrs:{opcoes:{maximumValue:e.venda.subTotal,minimumValue:0},tipo:"decimal",decimals:"2","somente-leitura":!e.ehOrcamento},on:{input:e.calcularTotais},model:{value:e.venda.valorFrete,callback:function(t){e.$set(e.venda,"valorFrete",t)},expression:"venda.valorFrete"}})],1)],1):e._e(),a("div",{staticClass:"items-center row gutter-x-sm q-mt-md"},[a("div",{staticClass:"col-4 text-weight-bold"},[e._v("Total")]),a("strong",{staticClass:"col text-right text-weight-bold"},[e._v(e._s(e._f("numero")(e.venda.totalDocumento,2)))])]),e.imposto.valorIpi||e.imposto.valorIcmsSt?a("div",[e.ehOrcamento&&e.imposto.valorIpi?a("div",{staticClass:"items-center row gutter-x-sm",staticStyle:{"min-height":"49px"}},[a("div",{staticClass:"col-3"},[e._v("\n              IPI\n            ")]),a("div",{staticClass:"col text-right"},[e._v("\n              "+e._s(e._f("numero")(e.imposto.valorIpi,2))+"\n            ")])]):e._e(),e.ehOrcamento&&e.imposto.valorIcmsSt?a("div",{staticClass:"items-center row gutter-x-sm",staticStyle:{"min-height":"49px"}},[a("div",{staticClass:"col-3"},[e._v("\n              ICMS/ST\n            ")]),a("div",{staticClass:"col text-right"},[e._v("\n              "+e._s(e._f("numero")(e.imposto.valorIcmsSt,2))+"\n            ")])]):e._e(),e.ehOrcamento?a("div",{staticClass:"items-center row gutter-x-sm",staticStyle:{"min-height":"49px"}},[a("div",{staticClass:"col-6 text-weight-bold"},[e._v("\n              Total c/ Impostos\n            ")]),a("strong",{staticClass:"col text-right text-weight-bold"},[e._v("\n              "+e._s(e._f("numero")(e.venda.totalDocumento+e.imposto.valorIpi+e.imposto.valorIcmsSt,2))+"\n            ")])]):e._e()]):e._e()])]):e._e()]),a("div",{staticClass:"Venda-faturamento bg-white round-borders q-my-md q-pa-md"},[a("faturamento",{ref:"faturamento",attrs:{documento:e.venda},on:{mudou:e.faturamentoAtualizar}})],1),e.venda.idContato&&"optisoul"!==e.sistemaPai?a("div",{staticClass:"Venda-faturamento bg-white round-borders q-my-md q-pa-md"},[a("VendaTransporte",{ref:"transporte",attrs:{idContatoCliente:e.venda.idContato}})],1):e._e(),a("envelope",{attrs:{envelope:e.envelope},on:{salvarEnvelope:e.salvarEnvelope},model:{value:e.modalEnvelope,callback:function(t){e.modalEnvelope=t},expression:"modalEnvelope"}}),e.modalOS.activated?a("ordem-servico",{attrs:{data:e.modalOS.data},on:{"update:data":function(t){e.$set(e.modalOS,"data",t)},changed:e.salvarOS},model:{value:e.modalOS.visible,callback:function(t){e.$set(e.modalOS,"visible",t)},expression:"modalOS.visible"}}):e._e(),e.modalCustom.activated?a("custom",{attrs:{data:e.modalCustom.data},on:{"update:data":function(t){e.$set(e.modalCustom,"data",t)},changed:e.salvarCustom},model:{value:e.modalCustom.visible,callback:function(t){e.$set(e.modalCustom,"visible",t)},expression:"modalCustom.visible"}}):e._e(),a("prompt-contato-novo",{attrs:{filtro:{ativo:!0,somenteCarteira:!0},placeholder:"Selecione o contato"},on:{selecionar:e.selecionarContato},model:{value:e.modalContato,callback:function(t){e.modalContato=t},expression:"modalContato"}}),a("prompt",{attrs:{prop:{dados:e.convenios}},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.itens;return[o.length<1?a("div",{staticClass:"bg-light q-pa-lg round-borders text-black text-center"},[e._v("\n        Não encontramos contatos com os critérios selecionados.\n      ")]):e._e(),a("q-list",{attrs:{link:"","no-border":"",separator:""}},e._l(o,function(t){return a("contato-card",{key:t.id,attrs:{contato:t,modo:"lista"},on:{selecionar:e.selecionarConvenio}})}))]}}]),model:{value:e.modalConvenio,callback:function(t){e.modalConvenio=t},expression:"modalConvenio"}}),a("prompt",{attrs:{prop:{dados:e.compradores}},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.itens;return[o.length<1?a("div",{staticClass:"bg-light q-pa-lg round-borders text-black text-center"},[e._v("\n        Não encontramos contatos com os critérios selecionados.\n      ")]):e._e(),a("q-list",{attrs:{link:"","no-border":"",separator:""}},e._l(o,function(t){return a("contato-card",{key:t.id,attrs:{contato:t,modo:"lista"},on:{selecionar:e.selecionarComprador}})}))]}}]),model:{value:e.modalComprador,callback:function(t){e.modalComprador=t},expression:"modalComprador"}}),a("prompt-codigo-barras",{on:{escanear:e.escanearCodigoBarras},model:{value:e.modalCodigoBarras,callback:function(t){e.modalCodigoBarras=t},expression:"modalCodigoBarras"}}),a("prompt-item-novo",{ref:"promptItem",attrs:{filtro:{ativo:!0,idTabelaPreco:e.venda.idItemTabelaPreco,idEmpresa:e.venda.idEmpresa,idContato:e.venda.idContato},habilitarQuantidade:!0},on:{selecionarItens:e.selecionarItens},model:{value:e.modalItem,callback:function(t){e.modalItem=t},expression:"modalItem"}}),a("prompt-contato-novo",{attrs:{filtro:{ativo:!0,empresas:!0},placeholder:"Seleciona a empresa"},on:{selecionar:e.selecionarEmpresa},model:{value:e.modalContatoEmpresa.visivel,callback:function(t){e.$set(e.modalContatoEmpresa,"visivel",t)},expression:"modalContatoEmpresa.visivel"}}),a("q-modal",{attrs:{minimized:""},on:{hide:function(t){e.modalDescontoMaximo.reject()}},model:{value:e.modalDescontoMaximo.visivel,callback:function(t){e.$set(e.modalDescontoMaximo,"visivel",t)},expression:"modalDescontoMaximo.visivel"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Limite de Desconto Excedido")])],1),a("form",{staticClass:"q-pa-sm",on:{submit:function(t){t.preventDefault(),e.modalDescontoMaximo.resolve()}}},[a("q-list",{attrs:{"no-border":"",dense:""}},[e._l(e.modalDescontoMaximo.itens,function(t,o){return[o?a("q-item-separator",{key:o}):e._e(),a("q-item",{key:o+t.descricao},[a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v("\n                  "+e._s(t.descricao)+"\n                  "),a("q-tooltip",[e._v("\n                    Máximo permitido: "+e._s(t.maximoDesconto)+"%\n                  ")])],1)],1)],1)]})],2),a("div",{staticClass:"q-mt-lg text-center"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{color:"faded",flat:"",label:"Cancelar"}}),a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"primary",label:"Continuar"},on:{click:function(t){e.modalDescontoMaximo.resolve("continuar")}}}),e.modalDescontoMaximo.permiteDescontoMaximo?a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"primary",label:"Aprovar"},on:{click:function(t){e.modalDescontoMaximo.resolve("aprovar")}}}):e._e()],1)],1)],1)],1),a("q-modal",{attrs:{minimized:""},on:{hide:function(t){e.modalItemSemEstoque.reject()}},model:{value:e.modalItemSemEstoque.visivel,callback:function(t){e.$set(e.modalItemSemEstoque,"visivel",t)},expression:"modalItemSemEstoque.visivel"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v(e._s((e.modalItemSemEstoque.itens||[]).length>1?"Itens":"Item")+" sem estoque\n        ")])],1),a("form",{staticClass:"q-pa-sm"},[a("q-list",{attrs:{"no-border":"",dense:""}},[e._l(e.modalItemSemEstoque.itens,function(t,o){return[o?a("q-item-separator",{key:o}):e._e(),a("q-item",{key:o+t.descricao},[a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v(e._s(t.descricao))]),a("q-item-tile",{attrs:{sublabel:""}},[e._v("\n                  Estoque: "+e._s(t.saldo)+"\n                  "),t.offline?a("span",[e._v("(Offline)")]):e._e()])],1)],1)]})],2),a("div",{staticClass:"q-mt-lg text-center"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{color:"faded",flat:"",label:"Cancelar"}}),a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"primary",label:"Continuar"},on:{click:function(t){e.modalItemSemEstoque.resolve("continuar")}}})],1)],1)],1)],1),a("q-modal",{attrs:{minimized:""},on:{hide:function(t){e.modalCreditoDisponivel.reject()}},model:{value:e.modalCreditoDisponivel.visivel,callback:function(t){e.$set(e.modalCreditoDisponivel,"visivel",t)},expression:"modalCreditoDisponivel.visivel"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v(e._s(e.modalCreditoDisponivel.title)+"\n        ")])],1),a("form",{staticClass:"q-pa-sm"},[a("q-list",{attrs:{"no-border":"",dense:""}},[a("q-item",[a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v(e._s(e.modalCreditoDisponivel.body))])],1)],1)],1),a("div",{staticClass:"q-mt-lg text-center"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{color:"faded",flat:"",label:"Cancelar"}}),a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"primary",label:"Continuar"},on:{click:function(t){e.modalCreditoDisponivel.resolve("continuar")}}}),e.modalCreditoDisponivel.permiteFinalizar?a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"primary",label:"Aprovar"},on:{click:function(t){e.modalCreditoDisponivel.resolve("aprovar")}}}):e._e()],1)],1)],1)],1),a("q-modal",{attrs:{minimized:""},on:{hide:function(t){e.modalProdutoControlado.reject()}},model:{value:e.modalProdutoControlado.visivel,callback:function(t){e.$set(e.modalProdutoControlado,"visivel",t)},expression:"modalProdutoControlado.visivel"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Produto(s) Controlado(s) - Quantidade Excedida")])],1),a("form",{staticClass:"q-pa-sm",on:{submit:function(t){t.preventDefault(),e.modalProdutoControlado.resolve()}}},[a("q-list",{attrs:{"no-border":"",dense:""}},[e._l(e.modalProdutoControlado.itens,function(t,o){return[o?a("q-item-separator",{key:o}):e._e(),a("q-item",{key:o+t.descricao},[a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v("\n                  "+e._s(t.descricao)+"\n                  "),a("q-tooltip",[e._v("\n                    "+e._s(t.tooltip)+"\n                  ")])],1)],1)],1)]})],2),a("div",{staticClass:"q-mt-lg text-center"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{color:"faded",flat:"",label:"Cancelar"}}),e.modalProdutoControlado.permiteQuantidadeExcedida?a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"primary",label:"Continuar",type:"submit"}}):e._e()],1)],1)],1)],1),a("q-modal",{model:{value:e.produtoEditandoVisivel,callback:function(t){e.produtoEditandoVisivel=t},expression:"produtoEditandoVisivel"}},[a("q-modal-layout",{staticStyle:{width:"990px","max-width":"100%"}},[a("div",{staticClass:"layout-padding q-pa-none"},[a("div",{staticClass:"u-container "},[a("div",{staticClass:"row q-py-md"},[a("div",{staticClass:"col-12 col-lg-5 q-pa-md text-center"},[(e.item[e.produtoEditando.idItem]||{}).imagem?a("img",{staticStyle:{"max-width":"100%"},attrs:{src:(e.item[e.produtoEditando.idItem]||{}).imagem,alt:""}}):e._e()]),a("div",{staticClass:"col-12 col-lg-7"},[a("h3",{staticClass:"q-display-1 q-my-none"},[e._v(e._s(e.produtoEditando.descricaoItem))]),a("p",{staticClass:"q-body-2"},[e._v(e._s((e.item[e.produtoEditando.idItem]||{}).marca))]),a("q-tabs",{staticClass:"row",attrs:{swipeable:"",color:"white","text-color":"blue",align:"justify"},model:{value:e.produtoEditandoTab,callback:function(t){e.produtoEditandoTab=t},expression:"produtoEditandoTab"}},[a("q-tab",{staticClass:"cinza",attrs:{slot:"title",default:"",name:"tab1",icon:"info",label:"Detalhes"},slot:"title"}),a("q-tab",{staticClass:"cinza",attrs:{slot:"title",name:"tab2",icon:"account_balance",label:"Impostos"},slot:"title"}),a("q-tab",{staticClass:"cinza",attrs:{slot:"title",name:"tab3",icon:"history",label:"Histórico"},slot:"title"}),a("q-tab",{staticClass:"cinza",attrs:{slot:"title",name:"tab4",icon:"compare_arrows",label:"Estoque"},slot:"title"}),a("q-tab-pane",{staticClass:"row",attrs:{name:"tab1"}},[a("p",{staticClass:"col-12"},[a("campo",{attrs:{tipo:"texto",rotulo:"Agrupamento"},model:{value:e.produtoEditando.descricaoAgrupamento,callback:function(t){e.$set(e.produtoEditando,"descricaoAgrupamento","string"===typeof t?t.trim():t)},expression:"produtoEditando.descricaoAgrupamento"}})],1),a("dl",{staticClass:"col-6"},[a("dt",[e._v("Observação")]),a("dd",{staticStyle:{"white-space":"pre-line"}},[e._v(e._s((e.item[e.produtoEditando.idItem]||{}).observacao))])]),a("dl",{staticClass:"col-6"},[a("dt",[e._v("Aplicação")]),a("dd",{staticStyle:{"white-space":"pre-line"}},[e._v(e._s((e.item[e.produtoEditando.idItem]||{}).aplicacao))])])]),a("q-tab-pane",{attrs:{name:"tab2"}},[a("div",{staticClass:"row"},[a("dl",{staticClass:"col-6 q-mt-sm"},[a("dt",[e._v("IPI")]),a("dd",[e._v(e._s(e._f("numero")(e.produtoEditandoImposto.aliqIpi,2))+"%")])]),a("dl",{staticClass:"col-6 q-mt-sm"},[a("dt",[e._v("ICMS/ST")]),a("dd",{staticStyle:{"white-space":"pre-line"}},[e._v(e._s(e._f("numero")(e.produtoEditandoImposto.percIva,2))+"%")])])]),a("div",{staticClass:"row gutter-x-sm"},[a("SeletorNcm",{staticClass:"col-6",model:{value:e.produtoEditando.ncm,callback:function(t){e.$set(e.produtoEditando,"ncm",t)},expression:"produtoEditando.ncm"}}),a("SeletorCest",{staticClass:"col-6",attrs:{ncm:e.produtoEditando.ncm},model:{value:e.produtoEditando.cest,callback:function(t){e.$set(e.produtoEditando,"cest",t)},expression:"produtoEditando.cest"}})],1)]),a("q-tab-pane",{attrs:{name:"tab3"}},[e.produtoEditandoHistorico.documentosItens&&e.produtoEditandoHistorico.documentosItens.length?a("q-table",{staticClass:"no-shadow text-left",attrs:{data:e.produtoEditandoHistorico.documentosItens,columns:e.produtoEditandoHistorico.colunas,pagination:e.produtoEditandoHistorico.paginacao},on:{"update:pagination":function(t){e.$set(e.produtoEditandoHistorico,"paginacao",t)}},scopedSlots:e._u([{key:"body",fn:function(t){return a("q-tr",{attrs:{props:t}},[a("q-td",{key:"documento",attrs:{props:t}},[e._v("\n                        "+e._s(e.produtoEditandoHistorico.documentos[t.row.idDocumento].tipo)+"\n                        #"+e._s(parseInt(e.produtoEditandoHistorico.documentos[t.row.idDocumento].numero)||(e.produtoEditandoHistorico.documentos[t.row.idDocumento].id||"").slice(-6))),a("br"),e._v("\n                        "+e._s(e.produtoEditandoHistorico.documentos[t.row.idDocumento].status)),a("br"),e._v("\n                        "+e._s(e._f("dataHora")(e.produtoEditandoHistorico.documentos[t.row.idDocumento].dataHoraFinalizado||e.produtoEditandoHistorico.documentos[t.row.idDocumento].dataHoraEmissao))+"\n                      ")]),a("q-td",{key:"valorUnitario",attrs:{props:t}},[t.row.valorReal!==t.row.valorItem?a("span",{staticStyle:{"text-decoration":"line-through"}},[e._v("\n                          "+e._s(e._f("numero")(t.row.valorItem,2))+"\n                        ")]):e._e(),e._v("\n                        "+e._s(e._f("numero")(t.row.valorReal,2))+"\n                      ")]),a("q-td",{key:"quantidade",attrs:{props:t}},[e._v(e._s(t.row.quantidade*t.row.operacaoFator*-1)+"\n                      ")]),a("q-td",{key:"valorTotal",attrs:{props:t}},[e._v(e._s(e._f("numero")(t.row.valorRealTotal,2)))])],1)}}])}):e._e()],1),a("q-tab-pane",{attrs:{name:"tab4"}},[e.produtoEditandoEstoque.estoque&&e.produtoEditandoEstoque.estoque.length?a("q-table",{staticClass:"no-shadow text-left",attrs:{data:e.produtoEditandoEstoque.estoque,columns:e.produtoEditandoEstoque.colunas,pagination:e.produtoEditandoEstoque.paginacao},on:{"update:pagination":function(t){e.$set(e.produtoEditandoEstoque,"paginacao",t)}},scopedSlots:e._u([{key:"body",fn:function(t){return a("q-tr",{attrs:{props:t}},[a("q-td",{key:"empresa",attrs:{props:t}},[e._v("\n                        "+e._s(t.row.apelidoEmpresa)+"\n                        "),a("br"),e._v("\n                        "+e._s(t.row.nomeEmpresa)+"\n                      ")]),a("q-td",{key:"tipoEstoque",attrs:{props:t}},[e._v("\n                        "+e._s(t.row.tipoEstoque)+"\n                      ")]),a("q-td",{key:"lote",attrs:{props:t}},[e._v("\n                        "+e._s(t.row.loteEmpresa)+"\n                      ")]),a("q-td",{key:"quantidade",attrs:{props:t}},[e._v("\n                        "+e._s(t.row.saldo)+"\n                      ")])],1)}}])}):e._e()],1)],1)],1)])]),a("div",{staticClass:"q-my-xl"})]),a("q-layout-footer",{staticClass:"no-shadow",staticStyle:{"background-color":"#eeeeee"},attrs:{fixed:""}},[a("div",{staticClass:"u-container"},[a("q-toolbar",{attrs:{color:"light-grey"}},[a("q-toolbar-title",{staticStyle:{color:"black"}},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticStyle:{cursor:"default !important"},attrs:{flat:"",size:"md","no-ripple":"","text-color":"black",label:"Cancelar"}})],1),a("q-btn",{staticClass:"no-shadow",staticStyle:{float:"right","margin-left":"6px",cursor:"default !important"},attrs:{"no-ripple":"",label:"Salvar",color:"light-blue-9"},on:{click:function(t){e.salvarEdicaoProduto(e.produtoEditando)}}})],1)],1)])],1)],1),a("q-inner-loading",{attrs:{color:"primary",size:"50px",visible:e.exibirCarregando}}),e.promptItemTabelaPreco.ativo?a("prompt-item-tabela-preco-novo",{attrs:{filtro:e.promptItemTabelaPreco.filtro,placeholder:e.promptItemTabelaPreco.placeholder},on:{selecionar:e.obterItemTabelaPrecoViaPrompt},model:{value:e.promptItemTabelaPreco.visivel,callback:function(t){e.$set(e.promptItemTabelaPreco,"visivel",t)},expression:"promptItemTabelaPreco.visivel"}}):e._e(),e.promptDocumentoOperacao.ativo?a("prompt-documento-operacao-novo",{attrs:{filtro:e.promptDocumentoOperacao.filtro,placeholder:e.promptDocumentoOperacao.placeholder},on:{selecionar:e.obterDocumentoOperacaoViaPrompt},model:{value:e.promptDocumentoOperacao.visivel,callback:function(t){e.$set(e.promptDocumentoOperacao,"visivel",t)},expression:"promptDocumentoOperacao.visivel"}}):e._e(),e.promptContato.ativo?a("prompt-contato-novo",{attrs:{filtro:e.promptContato.filtro,placeholder:e.promptContato.placeholder},on:{selecionar:e.obterContatoViaPrompt},model:{value:e.promptContato.visivel,callback:function(t){e.$set(e.promptContato,"visivel",t)},expression:"promptContato.visivel"}}):e._e()],1)},Dv=[];Pv._withStripped=!0;var Ev=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-modal",{attrs:{"no-esc-dismiss":"","no-backdrop-dismiss":"",maximized:""},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("div",{staticClass:"q-pt-xl",staticStyle:{background:"#eee","min-height":"100vh"}},[a("q-layout-header",{attrs:{reveal:""}},[a("q-toolbar",{staticClass:"BarraTopo"},[a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"arrow_back"},on:{click:e.close}}),a("q-toolbar-title",[e._v("Custom")]),a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"white","text-color":"primary",label:"Salvar"},on:{click:e.save}})],1)],1),a("div",{staticClass:"layout-padding row justify-center"},[a("div",{staticStyle:{width:"1280px","max-width":"90vw"}},[a("q-card",{staticClass:"q-pa-md q-px-lg q-mb-md bg-white no-shadow"},[a("q-toolbar",{staticClass:"q-pb-md q-px-none",attrs:{color:"black",inverted:""}},[a("q-toolbar-title",{staticClass:"q-px-none"},[a("div",{staticClass:"row items-center"},[a("avatar",{staticStyle:{float:"left"},attrs:{imagem:e.contato.imagem,rotulo:e.contato.descricao,tamanho:"40"}}),a("div",{staticClass:"col q-ma-sm q-title"},[e._v(e._s(e.contato.descricao))])],1)]),a("badge",[e._v("#"+e._s(e.contato.codigo))])],1),a("div",{staticClass:"row gutter-x-sm q-mb-sm"},[a("div",{staticClass:"col-12"},[a("campo",{staticClass:"bg-light q-px-sm",attrs:{rotuloFixo:"Descrição",tipo:"textoArea",erro:!!e.erroDescricao,"erro-rotulo":e.erroDescricao,"somente-leitura":e.readonly},model:{value:e.dataTmp.documento.descricao,callback:function(t){e.$set(e.dataTmp.documento,"descricao","string"===typeof t?t.trim():t)},expression:"dataTmp.documento.descricao"}})],1)]),a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-6"},[a("campo",{staticClass:"bg-light q-px-sm",attrs:{rotuloFixo:"Observação",tipo:"textoArea","somente-leitura":e.readonly},model:{value:e.dataTmp.documento.observacao,callback:function(t){e.$set(e.dataTmp.documento,"observacao","string"===typeof t?t.trim():t)},expression:"dataTmp.documento.observacao"}})],1),a("div",{staticClass:"col-6"},[a("campo",{staticClass:"bg-light q-px-sm",attrs:{rotuloFixo:"Descrição Agrupamento",tipo:"texto",somenteLeitura:e.readonly},model:{value:e.descricaoAgrupamento,callback:function(t){e.descricaoAgrupamento="string"===typeof t?t.trim():t},expression:"descricaoAgrupamento"}})],1)])],1),a("div",{staticClass:"bg-white q-mt-md q-py-sm"},[a("q-card",{staticClass:"q-pa-md q-pb-xl q-mb-md bg-white no-shadow "},[a("q-toolbar",{staticClass:"q-pt-md",attrs:{color:"black",inverted:""}},[a("q-toolbar-title",[e._v("Imagens")])],1),a("div",{staticClass:"row gutter-x-sm",staticStyle:{padding:"0 24px"}},[a("div",{staticClass:"col-12 "},[a("arquivo",{ref:"arquivo"})],1)])],1)],1),a("div",{staticClass:"bg-white q-mt-md q-py-sm"},[a("q-card",{staticClass:"q-pa-md q-pb-xl q-mb-md bg-white no-shadow "},[a("q-toolbar",{staticClass:"q-pt-md",attrs:{color:"black",inverted:""}},[a("q-toolbar-title",[e._v("Itens")]),e.readonly?e._e():a("q-btn",{attrs:{color:"primary",flat:"",icon:"add",label:"Produto"},on:{click:function(t){e.abrirModalItem("Produto")}}}),e.readonly?e._e():a("q-btn",{attrs:{color:"primary",flat:"",icon:"add",label:"Serviço"},on:{click:function(t){e.abrirModalItem("Serviço")}}})],1),e.readonly?e._e():a("q-field",{staticClass:"q-mx-lg"},[a("q-input",{ref:"codigoBarras",attrs:{after:[{icon:"mdi-barcode-scan",handler:e.abrirModalCodigoBarras}],before:[{icon:"line_weight"}],color:"light","inverted-light":"","float-label":"Código de barras"},on:{keydown:e.leitorCodigoBarras},model:{value:e.codigoBarras,callback:function(t){e.codigoBarras=t},expression:"codigoBarras"}},[a("q-autocomplete",{attrs:{"min-characters":3},on:{search:e.buscarCodigoBarras,selected:e.selecionarItemCodigoBarras}})],1)],1),e.dataTmp.documentoItens.length?e._l(e.dataTmp.documentoItens,function(t,o){return a("div",{key:o,staticClass:"items-carrinho items-center row q-py-sm q-mx-lg"},[a("div",{staticClass:"col-auto"},[a("avatar",{attrs:{imagem:(e.item[t.idItem]||{}).imagem,rotulo:t.descricaoItem,tamanho:"40"}})],1),a("q-toolbar",{staticClass:"Venda-itemBarra bg-transparent col q-pr-none q-py-none",attrs:{color:"black",inverted:""}},[a("q-toolbar-title",{staticClass:"q-px-none"},[a("span",{staticClass:"q-body-2"},[e._v(e._s(t.descricaoItem))]),a("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v(e._s((e.item[t.idItem]||{}).marca))])]),a("badge",{attrs:{denso:""}},[e._v("\n                    "+e._s("Produto"!==t.tipoItem?t.tipoItem:"")+"\n                    "),a("span",[e._v("\n                      "+e._s((e.item[t.idItem]||{}).referencia)+"\n                      "),a("q-tooltip",[e._v("Referência")])],1)]),e.readonly?e._e():a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""},on:{click:function(t){e.removerItem(o)}}},[a("q-tooltip",[e._v("Remover Item")])],1)],1),a("div",{staticClass:"col-12",staticStyle:{"margin-top":"-10px"}},[a("div",{staticClass:"gutter-x-sm row"},[a("q-field",{staticClass:"col-4 col-sm-3 col-lg-2",attrs:{warning:!!e.warningLabel[t.id],"warning-label":e.warningLabel[t.id]}},[a("campo",{attrs:{"class-campo":"u-campoCompacto",align:"left",tipo:"decimal",decimals:"2","somente-leitura":e.readonly,"hide-underline":""},on:{blur:function(t){e.calculaTotalItem(o,"valorItem")}},model:{value:t.valorItem,callback:function(a){e.$set(t,"valorItem",a)},expression:"di.valorItem"}}),a("q-tooltip",[e._v("Valor do produto")])],1),a("q-field",{staticClass:"col-4 col-sm-3 col-lg-2"},[a("campo",{attrs:{"class-campo":"u-campoCompacto ",opcoes:{maximumValue:100},tipo:"decimal",decimals:"2",prefix:"─",suffix:"%","somente-leitura":e.readonly,"hide-underline":""},on:{blur:function(t){e.calculaTotalItem(o,"descontoPercentualItem")}},model:{value:t.descontoPercentualItem,callback:function(a){e.$set(t,"descontoPercentualItem",a)},expression:"di.descontoPercentualItem"}}),a("q-tooltip",[e._v("Desconto percentual")])],1),a("q-field",{staticClass:"col-4 col-sm-3 col-lg-2"},[a("campo",{attrs:{"class-campo":"u-campoCompacto",opcoes:{maximumValue:t.valorItem,minimumValue:0},tipo:"decimal",decimals:"2","hide-underline":"","somente-leitura":e.readonly},on:{blur:function(t){e.calculaTotalItem(o,"descontoItem")}},model:{value:t.descontoItem,callback:function(a){e.$set(t,"descontoItem",a)},expression:"di.descontoItem"}}),a("q-tooltip",[e._v("Desconto em reais")])],1),a("q-field",{staticClass:"col-3 col-lg-2"},[a("campo",{attrs:{"class-campo":"u-campoCompacto text-weight-bold",align:e.$q.screen.lt.sm?"left":"right",opcoes:{maximumValue:t.valorItem,minimumValue:0},prefix:e.$q.screen.lt.sm?"":"=",suffix:e.$q.screen.lt.sm?"×":"",tipo:"decimal",decimals:"2","somente-leitura":e.readonly,"hide-underline":""},on:{blur:function(t){e.calculaTotalItem(o,"subTotal")}},model:{value:e.subTotal[t.id],callback:function(a){e.$set(e.subTotal,t.id,a)},expression:"subTotal[di.id]"}}),a("q-tooltip",[e._v("Subtotal")])],1),a("q-field",{staticClass:"col-5 col-sm-8 col-lg-2"},[a("campo",{attrs:{"class-campo":"u-campoCompacto",min:"1","somente-leitura":e.readonly,tipo:"quantidade","hide-underline":""},on:{input:function(t){e.calculaTotalItem(o,"quantidade")}},model:{value:t.quantidade,callback:function(a){e.$set(t,"quantidade",a)},expression:"di.quantidade"}}),a("q-tooltip",[e._v("Quantidade")])],1),a("q-field",{staticClass:"col-4 col-lg-2"},[a("campo",{attrs:{"class-campo":"u-campoCompacto text-weight-bold","hide-underline":"","somente-leitura":"",tipo:"decimal",prefix:"= ",decimals:"2"},model:{value:t.total,callback:function(a){e.$set(t,"total",a)},expression:"di.total"}}),a("q-tooltip",[e._v("Total")])],1)],1)]),a("div",{staticClass:"col-12"},[a("campo",{attrs:{rotulo:"Observação"},model:{value:t.observacao,callback:function(a){e.$set(t,"observacao",a)},expression:"di.observacao"}})],1)],1)}):a("div",{staticClass:"q-pa-lg text-center"},[a("p",[e._v("Não há itens no carrinho")]),a("p",{staticClass:"q-caption"},[e._v("Para adicionar, utilize os botões acima ou insira o código de barras")])])],2)],1),a("div",{staticClass:"bg-white q-mt-md q-py-sm"},[a("q-card",{staticClass:"q-pa-lg q-mb-md bg-white no-shadow "},[a("div",{staticClass:"gutter-x-sm row"},[a("div",{staticClass:"col-12 col-lg-8"},[a("campo",{attrs:{maxlength:"10",rotulo:"Previsão de Entrega",tipo:"data",erro:!!e.erroDataHoraPrevisto,"erro-rotulo":e.erroDataHoraPrevisto,somenteLeitura:e.readonly},model:{value:e.dataTmp.documento.dataHoraPrevisto,callback:function(t){e.$set(e.dataTmp.documento,"dataHoraPrevisto",t)},expression:"dataTmp.documento.dataHoraPrevisto"}})],1),a("div",{staticClass:"col-12 col-lg-4 q-mt-md"},[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-4 q-mt-sm",staticStyle:{"padding-top":"8px"}},[e._v("Total")]),a("strong",{staticClass:"col-8 q-mt-sm text-right",staticStyle:{"padding-top":"8px"}},[e._v(e._s(e._f("numero")(e.dataTmp.documento.totalDocumento,2)))])])])])])],1)],1)])],1)]),a("prompt-codigo-barras",{on:{escanear:e.escanearCodigoBarras},model:{value:e.modalCodigoBarras,callback:function(t){e.modalCodigoBarras=t},expression:"modalCodigoBarras"}}),a("prompt-item-novo",{ref:"promptItem",attrs:{filtro:e.modalItem.filtros,habilitarQuantidade:!0},on:{selecionarItens:e.selecionarItens},model:{value:e.modalItem.visivel,callback:function(t){e.$set(e.modalItem,"visivel",t)},expression:"modalItem.visivel"}})],1)},Tv=[];Ev._withStripped=!0;var Av=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-list",[a("q-item",[a("q-item-main"),a("q-item-side",{attrs:{right:""}},[e.somenteLeitura?e._e():a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"add"},on:{click:function(t){e.modalAdicionar=!0}}})],1)],1),e._l(e.arquivo,function(t){return a("q-item",{key:t.id,attrs:{multiline:""}},[a("q-item-side",{attrs:{image:t.arquivo},nativeOn:{click:function(a){e.openImage(t)}}}),a("q-item-main"),a("q-item-side",{attrs:{right:""}},[e.somenteLeitura?e._e():a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"delete"},on:{click:function(a){e.remover(t)}}})],1)],1)})],2),a("q-modal",{model:{value:e.modalAdicionar,callback:function(t){e.modalAdicionar=t},expression:"modalAdicionar"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Adicionar")]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),a("div",{staticClass:"q-ma-sm"},[a("q-field",{staticClass:"q-ma-md"},[a("q-uploader",{ref:"uploader",attrs:{color:"none","hide-upload-button":"","hide-upload-progress":"",multiple:"","inverted-light":"",url:""},on:{add:e.adicionar}})],1)],1)],1)],1),a("q-modal",{model:{value:e.modalArquivo.visivel,callback:function(t){e.$set(e.modalArquivo,"visivel",t)},expression:"modalArquivo.visivel"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v(e._s(e.modalArquivo.nome))]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),a("div",{staticClass:"q-pa-lg"},[a("avatar",{attrs:{imagem:e.modalArquivo.arquivo,redondo:!1,tamanho:"300"}})],1)],1)],1)],1)},Ov=[];Av._withStripped=!0;var $v={components:{Avatar:Fc},data:function(){return{modalAdicionar:!1,arquivo:[],somenteLeitura:!1,modalArquivo:{visivel:!1,nome:"",arquivo:""}}},methods:{adicionar:function(e){var t=!0,a=!1,o=void 0;try{for(var i,r=e[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var s=i.value;this.arquivo.push({id:hi(),dataCriacao:na(),nome:s.name,arquivo:s.__img.src})}}catch(e){a=!0,o=e}finally{try{t||null==r.return||r.return()}finally{if(a)throw o}}this.$refs.uploader.reset(),this.modalAdicionar=!1},le:function(){return this.arquivo},openImage:function(e){this.modalArquivo={visivel:!0,nome:e.nome,arquivo:e.arquivo}},remover:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$q.dialog({cancel:"Cancelar",message:"Deseja remover o arquivo "+t.nome+".",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 3:this.arquivo=this.arquivo.filter(function(e){return e.id!==t.id}),e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}()}},Rv=$v,jv=Object(sc["a"])(Rv,Av,Ov,!1,null,null,null);jv.options.__file="Arquivo.vue";var zv=jv.exports,Bv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{maximized:""},on:{hide:e.fechar},model:{value:e.visibilidade.modal,callback:function(t){e.$set(e.visibilidade,"modal",t)},expression:"visibilidade.modal"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[a("q-search",{ref:"search",attrs:{color:"none",inverted:"",placeholder:"Buscar",debounce:600,after:[{icon:"close",content:!0,handler:function(){e.limparTermo()}}]},on:{input:e.atualizar},model:{value:e.termo,callback:function(t){e.termo=t},expression:"termo"}})],1),a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{dense:"",flat:"",round:"",icon:e.botaoModo.icon,hidden:""},on:{click:e.alterarModo}},[this.$q.platform.is.mobile?e._e():a("q-tooltip",[e._v(e._s(e.botaoModo.label))])],1)],1),e.quantidadeItensSelecionados>0?a("q-toolbar",{attrs:{slot:"footer",inverted:""},slot:"footer"},[a("q-toolbar-title",[e._v("\n        "+e._s(e.quantidadeItensSelecionados)+" "+e._s(1===e.quantidadeItensSelecionados?"item":"itens")+"\n        "),a("span",{staticClass:"text-positive float-right"},[e._v("R$ "+e._s(e._f("numero")(e.valorItensSelecionados,2)))])]),a("q-btn",{staticClass:"q-ml-sm no-shadow float-right",attrs:{color:"primary",label:"Concluir"},on:{click:e.concluir}})],1):e._e(),a("div",{staticClass:"layout-padding"},[e.carregando?a("div",{staticClass:"q-mt-lg text-center"},[a("q-spinner",{attrs:{color:"faded",size:50}})],1):e._e(),!e.carregando&&e.itensEncontrados?a("div",[e.modo.lista?a("q-list",{attrs:{link:"","no-border":"",separator:""}},e._l(e.itens,function(t){return a("item-card",{key:t.id,attrs:{item:t,estoque:e.obterEstoque(t.id),idEmpresa:e.filtro.idEmpresa,modo:"lista",quantidadeSelecionada:(e.itensSelecionados[t.id]||{}).quantidade||0,habilitarQuantidade:e.habilitarQuantidade},on:{selecionar:e.selecionar,adicionar:e.adicionar,concluir:e.concluir}})})):e._e(),e.modo.grade?a("div",{staticClass:"gutter-sm items-stretch row"},e._l(e.itens,function(t){return a("div",{key:t.id,staticClass:"col-12 col-sm-6 col-md-4 col-lg-3"},[a("item-card",{attrs:{item:t,estoque:e.obterEstoque(t.id),idEmpresa:e.filtro.idEmpresa,quantidadeSelecionada:(e.itensSelecionados[t.id]||{}).quantidade||0,habilitarQuantidade:e.habilitarQuantidade},on:{selecionar:e.selecionar,adicionar:e.adicionar,concluir:e.concluir}})],1)})):e._e()],1):e._e(),e.carregando||e.itensEncontrados?e._e():a("div",{staticClass:"bg-light q-pa-lg round-borders text-black text-center"},[e._v("\n        Não encontramos itens com os critérios selecionados.\n      ")])])],1)],1)},Lv=[];Bv._withStripped=!0;var Vv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{cursor:"pointer"},on:{click:function(t){e.abrirItem()}}},[a("div",{staticClass:"card row q-pa-sm"},[a("div",{staticClass:"col-auto"},[a("div",{staticClass:"q-card-media'"},[a("avatar",{attrs:{imagem:e.item.imagem,redondo:e.eLista,rotulo:e.item.descricao,tamanho:"80"}})],1)]),a("div",{staticClass:"col q-pl-sm"},[a("div",{staticClass:"row invertedonmobile"},[a("p",{staticClass:"q-subheading col-12 col-lg q-pl-sm q-mb-none q-pb-none"},[e._v("\n          "+e._s(e.item.descricaoConcatenada||e.item.descricao)+"\n        ")]),a("div",{staticClass:"col-12 col-lg-auto q-pl-sm float-right"},[a("badge",{staticClass:"q-my-sm float-right",attrs:{cor:e.badgeCor,escuro:""}},[e._v("\n            #"+e._s((e.item.codigoItem||0).toString().padStart(6,"0"))+"\n          ")])],1)]),a("div",{staticClass:"row "},[a("div",{staticClass:"col-12 col-lg q-pl-sm"},[e.item.referencia?a("badge",{staticClass:"q-mr-sm",attrs:{light:""}},[e._v("\n            "+e._s(e.item.referencia)+"\n            "),a("q-tooltip",[e._v("Referência")])],1):e._e(),e.item.marca?a("badge",{attrs:{cor:"white"}},[e._v("\n            "+e._s(e.item.marca)+"\n            "),a("q-tooltip",[e._v("Marca")])],1):e._e(),a("p",{staticClass:"q-caption q-mt-sm "},[e._v("\n            Estoque\n            "),e.estoque?[e._v("\n              "+e._s(e._f("numero")(e.estoque.saldo,0))+"\n              "),e.estoque.offline?[e._v("\n                (Offline)\n              ")]:e._e()]:a("q-spinner-hourglass")],2)],1),a("div",{staticClass:"q-caption col-12 col-lg-auto "},[a("campo",{staticClass:"input  q-mb-sm",attrs:{"class-campo":"u-campoCompacto",align:"right",opcoes:{minimumValue:0},tipo:"decimal",decimals:"2"},on:{input:function(t){e.adicionar()}},model:{value:e.valorVenda,callback:function(t){e.valorVenda=t},expression:"valorVenda"}})],1)]),a("div",{staticClass:"row"},[a("p",{staticClass:"col-12 col-lg q-pl-sm q-caption"},[e.ultimaVenda.valorItem&&e.ultimaVenda.dataHoraFinalizado?[e._v("\n            Última "+e._s(e._f("data")(e.ultimaVenda.dataHoraFinalizado))+":\n            "),e.ultimaVenda.valorReal!==e.ultimaVenda.valorItem?a("span",{staticStyle:{"text-decoration":"line-through"}},[e._v("\n              "+e._s(e._f("numero")(e.ultimaVenda.valorItem,2))+"\n            ")]):e._e(),e._v("\n            "+e._s(e._f("numero")(e.ultimaVenda.valorReal,2))+"\n            x"+e._s(e.ultimaVenda.quantidade)+" =\n            "+e._s(e._f("numero")(e.ultimaVenda.valorRealTotal,2))+"\n          ")]:e._e()],2),e.habilitarQuantidade?[a("q-btn",{staticClass:"q-mr-xs",attrs:{size:"sm",color:"light","text-color":"faded",icon:"mdi-minus"},on:{click:function(t){e.atualizarQuantidade(-1)}}}),a("campo",{staticClass:"input q-mr-sm",staticStyle:{"max-width":"65px"},attrs:{"class-campo":"u-campoCompacto",align:"center",opcoes:{minimumValue:0},tipo:"numero"},on:{input:function(t){e.atualizarQuantidade()}},model:{value:e.quantidade,callback:function(t){e.quantidade=t},expression:"quantidade"}}),a("q-btn",{staticClass:"q-ml-xs",attrs:{size:"sm",color:"faded",icon:"mdi-plus"},on:{click:function(t){e.atualizarQuantidade(1)}}})]:e._e()],2)])])])},Uv=[];Vv._withStripped=!0;var Hv={components:{Avatar:Fc,Badge:Bd,Campo:Sl},computed:{badgeCor:function(){return this.item.ativo?((this.estoque||{}).saldo||0)<0?"negative":((this.estoque||{}).saldo||0)<=(this.item.quantidadeMinimaEstoque||0)?"orange":"positive":"faded"},eLista:function(){return"lista"===this.modo}},data:function(){return{atualizandoQuantidade:!1,quantidade:this.quantidadeSelecionada||0,ultimaVenda:{},valorVenda:0}},methods:{abrirItem:function(){document.querySelectorAll(".input :focus").length||this.atualizandoQuantidade||(this.quantidade=this.quantidade||1,this.adicionar(),this.$emit("concluir"))},adicionar:function(){this.$emit("adicionar",{item:at()({},this.item,{novoValorVenda:this.valorVenda}),quantidade:this.quantidade})},atualizarQuantidade:function(e){var t=this;this.atualizandoQuantidade=!0,this.$nextTick(function(){t.atualizandoQuantidade=!1});var a=Number(this.quantidade);e&&(a+=e),Number.isInteger(a)&&a>=0?this.quantidade=a:this.quantidade=0,this.adicionar()},obterHistoricoVendas:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=Zn.contato.selecionado||{},this.ultimaVenda={},this.idEmpresa&&t.id){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,He().documentoItem.where({idItem:this.item.id}).toArray();case 6:a=e.sent,a=a.filter(function(e){return e.idDocumento&&-1===e.operacaoFator&&e.dataHoraFinalizado}).map(function(e){return{idDocumento:e.idDocumento,valorItem:e.valorItem||0,valorReal:e.valorReal||0,valorRealTotal:e.valorRealTotal||0,quantidade:e.quantidade||0,dataHoraFinalizado:e.dataHoraFinalizado}}),a.sort(function(e,t){return new Date(e.dataHoraFinalizado)>new Date(t.dataHoraFinalizado)?-1:1}),o=!0,i=!1,r=void 0,e.prev=12,s=a[Symbol.iterator]();case 14:if(o=(n=s.next()).done){e.next=25;break}return c=n.value,e.next=18,He().documento.get(c.idDocumento);case 18:if(l=e.sent,!l||l.idEmpresa!==this.idEmpresa||l.idContato!==t.id){e.next=22;break}return this.ultimaVenda=c,e.abrupt("return");case 22:o=!0,e.next=14;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e["catch"](12),i=!0,r=e.t0;case 31:e.prev=31,e.prev=32,o||null==s.return||s.return();case 34:if(e.prev=34,!i){e.next=37;break}throw r;case 37:return e.finish(34);case 38:return e.finish(31);case 39:case"end":return e.stop()}},e,this,[[12,27,31,39],[32,,34,38]])}));return function(){return e.apply(this,arguments)}}()},props:{estoque:{type:Object},item:{type:Object,required:!0},idEmpresa:String,modo:{type:String,default:"card"},habilitarQuantidade:{type:Boolean,default:!1},quantidadeSelecionada:{type:Number}},created:function(){this.obterHistoricoVendas(),this.valorVenda=void 0!==this.item.novoValorVenda?this.item.novoValorVenda:this.item.valorVenda}},Qv=Hv,Gv=(a("3567"),Object(sc["a"])(Qv,Vv,Uv,!1,null,null,null));Gv.options.__file="ItemCard.vue";var Jv=Gv.exports,Xv={components:{ItemCard:Jv},computed:{botaoModo:function(){var e={};return this.modo.lista&&(e={icon:"view_module",label:"Grade"}),this.modo.grade&&(e={icon:"view_list",label:"Lista"}),e},itensEncontrados:function(){return this.itens.length},quantidadeItensSelecionados:function(){var e=0;for(var t in this.itensSelecionados)e+=this.itensSelecionados[t].quantidade;return e},valorItensSelecionados:function(){var e=0;for(var t in this.itensSelecionados){var a=dt((this.itensSelecionados[t].item.novoValorVenda||this.itensSelecionados[t].item.valorVenda||0)*this.itensSelecionados[t].quantidade);e=dt(e+a)}return e}},data:function(){return{carregando:!0,carregandoEstoque:!0,estoque:[],itens:[],itensSelecionados:{},modo:{lista:!0,grade:!1},termo:"",visibilidade:{modal:!1}}},methods:{adicionar:function(e){this.$set(this.itensSelecionados,e.item.id,e)},atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.carregando=!0,e.next=3,xa(500);case 3:return e.next=5,Zn.itemBusca.filtrar(this.termo,this.filtro);case 5:if(t=e.sent,t=Object(ot["orderBy"])(t,["descricaoConcatenada"],["asc"]),t=ea(t),!t.length||!this.filtro.idTabelaPreco){e.next=48;break}return e.next=11,He().itemTabelaPreco.get(this.filtro.idTabelaPreco);case 11:if(e.t0=e.sent,e.t0){e.next=14;break}e.t0={};case 14:if(a=e.t0,!a.id){e.next=48;break}o=!0,i=!1,r=void 0,e.prev=19,s=t.filter(function(e){return e.valorVenda})[Symbol.iterator]();case 21:if(o=(n=s.next()).done){e.next=34;break}return c=n.value,e.next=25,Zn.itemTabelaPreco.obterValores(a,c);case 25:if(e.t1=e.sent,e.t1){e.next=28;break}e.t1={};case 28:l=e.t1,c.valorVenda=l.valorVenda||0,c.valorReal=l.valorVenda||0;case 31:o=!0,e.next=21;break;case 34:e.next=40;break;case 36:e.prev=36,e.t2=e["catch"](19),i=!0,r=e.t2;case 40:e.prev=40,e.prev=41,o||null==s.return||s.return();case 43:if(e.prev=43,!i){e.next=46;break}throw r;case 46:return e.finish(43);case 47:return e.finish(40);case 48:t=t.map(function(e){return d.itensSelecionados[e.id]?d.itensSelecionados[e.id].item:e}),this.itens=t,this.carregarEstoque(),this.carregando=!1;case 52:case"end":return e.stop()}},e,this,[[19,36,40,48],[41,,43,47]])}));return function(){return e.apply(this,arguments)}}(),carregarEstoque:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.carregandoEstoque=!0,this.estoque=[],t=this.itens.map(function(e){return e.id}),e.prev=3,e.next=6,this.$utils.geeksApi({estoque:{funcao:"CC9F3B9A-16B9-4AE8-A523-938E4433AFAA",idItem:t,idEmpresa:this.filtro.idEmpresa}});case 6:for(a=e.sent,o=(((a||{}).data||{}).estoque||[]).filter(function(e){return"Disponível"===e.tipoEstoque}),i=[],r=!0,s=!1,n=void 0,e.prev=12,c=function(){var e=d.value;i.push({idItem:e,saldo:o.filter(function(t){return t.idItem===e}).reduce(function(e,t){return e+t.saldo},0)})},l=t[Symbol.iterator]();!(r=(d=l.next()).done);r=!0)c();e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](12),s=!0,n=e.t0;case 21:e.prev=21,e.prev=22,r||null==l.return||l.return();case 24:if(e.prev=24,!s){e.next=27;break}throw n;case 27:return e.finish(24);case 28:return e.finish(21);case 29:this.carregandoEstoque=!1,this.estoque=i,e.next=63;break;case 33:return e.prev=33,e.t1=e["catch"](3),e.next=37,He().estoqueSaldoProdutoEmpresa.where("idItem").anyOf(t).toArray();case 37:for(u=e.sent,u=u.filter(function(e){return"Disponível"===e.tipoEstoque}),this.filtro.idEmpresa&&(u=u.filter(function(e){return e.idEmpresa===g.filtro.idEmpresa})),m=[],p=!0,v=!1,h=void 0,e.prev=44,f=function(){var e=b.value;m.push({idItem:e,saldo:u.filter(function(t){return t.idItem===e}).reduce(function(e,t){return e+t.saldo},0),offline:!0})},C=t[Symbol.iterator]();!(p=(b=C.next()).done);p=!0)f();e.next=53;break;case 49:e.prev=49,e.t2=e["catch"](44),v=!0,h=e.t2;case 53:e.prev=53,e.prev=54,p||null==C.return||C.return();case 56:if(e.prev=56,!v){e.next=59;break}throw h;case 59:return e.finish(56);case 60:return e.finish(53);case 61:this.carregandoEstoque=!1,this.estoque=m;case 63:case"end":return e.stop()}},e,this,[[3,33],[12,17,21,29],[22,,24,28],[44,49,53,61],[54,,56,60]])}));return function(){return e.apply(this,arguments)}}(),alterarModo:function(){this.modo.lista=!this.modo.lista,this.modo.grade=!this.modo.grade},concluir:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$emit("selecionarItens",this.itensSelecionados),this.fechar();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),fechar:function(){this.refresh(),this.$emit("input",!1)},limparTermo:function(){this.termo="",this.atualizar()},obterEstoque:function(e,t){if(!this.carregandoEstoque)return e&&this.estoque.find(function(t){return t.idItem===e})||{}},refresh:function(){this.visibilidade.modal=!1,this.carregando=!0,this.itens=[],this.itensSelecionados={},this.modo.lista=!0,this.modo.grade=!1},selecionar:function(e,t){this.$emit("selecionar",e,t),this.fechar()}},props:{filtro:{default:function(){return{}},type:Object},value:{required:!0,type:Boolean},habilitarQuantidade:{type:Boolean,default:!1}},watch:{value:function(e){e&&(this.visibilidade.modal=!0,this.atualizar())}},updated:function(){this.quantidadeItensSelecionados>0||this.$refs.search.focus()}},Yv=Xv,Wv=Object(sc["a"])(Yv,Bv,Lv,!1,null,null,null);Wv.options.__file="PromptItemNovo.vue";var Zv=Wv.exports,Kv={documento:{},documentoItens:[],arquivo:[]},eh={components:{Arquivo:zv,Avatar:Fc,Badge:Bd,Campo:Sl,PromptCodigoBarras:al,PromptItemNovo:Zv},computed:{erroDataHoraPrevisto:function(){if(this.checarErros&&this.dataTmp.documento.dataHoraPrevisto){var e=(new Date).setHours(0,0,0,0);if(new Date(this.dataTmp.documento.dataHoraPrevisto)<new Date(e))return"Previsão de entrega incorreta"}return""},erroDescricao:function(){return this.checarErros&&!this.dataTmp.documento.descricao?"Campo obrigatório":""},new:function(){var e=this,t=!0,a=!1,o=void 0;try{for(var i,r=this.dataTmp.documentoItens[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var s=i.value;s.descricaoAgrupamento=this.descricaoAgrupamento}}catch(e){a=!0,o=e}finally{try{t||null==r.return||r.return()}finally{if(a)throw o}}return at()({},this.data,this.dataTmp,{arquivo:this.$refs.arquivo.arquivo.map(function(t){return at()({},t,{idTabelaMaster:e.dataTmp.documento.id,tabelaMaster:"custom"})})})},readonly:function(){return"Orçamento"!==this.dataTmp.documento.status}},data:function(){return{contato:{},codigoBarras:"",checarErros:!1,dataTmp:{},descricaoAgrupamento:"",entrarCodigoBarras:!1,item:{},modalCodigoBarras:!1,modalItem:{},subTotal:{},visible:!1,valoresTabelaPreco:[],warningLabel:{}}},methods:{abrirModalCodigoBarras:function(){this.modalCodigoBarras=!0},abrirModalItem:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a={},o=!0,i=!1,r=void 0,e.prev=4,s=this.dataTmp.documentoItens[Symbol.iterator]();case 6:if(o=(n=s.next()).done){e.next=21;break}if(c=n.value,c.idItem){e.next=10;break}return e.abrupt("continue",18);case 10:if(this.itemPrompt||(this.itemPrompt={}),this.itemPrompt[c.idItem]){e.next=15;break}return e.next=14,He().item.get(c.idItem);case 14:this.itemPrompt[c.idItem]=e.sent;case 15:l=ea(this.itemPrompt[c.idItem]),l.novoValorVenda=c.valorReal,a[c.idItem]={item:l,quantidade:c.quantidade};case 18:o=!0,e.next=6;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e["catch"](4),i=!0,r=e.t0;case 27:e.prev=27,e.prev=28,o||null==s.return||s.return();case 30:if(e.prev=30,!i){e.next=33;break}throw r;case 33:return e.finish(30);case 34:return e.finish(27);case 35:this.$refs.promptItem.itensSelecionados=a,this.modalItem.filtros={ativo:!0,tipo:t,idEmpresa:this.dataTmp.documento.idEmpresa,idTabelaPreco:this.dataTmp.documento.idItemTabelaPreco},this.modalItem.visivel=!0;case 38:case"end":return e.stop()}},e,this,[[4,23,27,35],[28,,30,34]])}));return function(t){return e.apply(this,arguments)}}(),buscarCodigoBarras:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=(t||"").trim().replace(/(\S+\s)|(\S+$)/g,"codigoBarras:$1$2"),t){e.next=3;break}return e.abrupt("return",a([]));case 3:return o=this.$filters,i=o.dinheiro,r=o.numero,e.next=6,Zn.itemBusca.filtrar(t,{ativo:!0,tipo:["Produto","Serviço"]},10);case 6:if(s=e.sent,s=s.map(function(e){return{value:e.id,label:e.descricao,sublabel:"".concat(i(e.valorVenda)," | ").concat(r(e.quantidadeDisponivel)+e.unidade),stamp:e.codigoBarras,item:e}}),!this.entrarCodigoBarras||1!==s.length){e.next=10;break}return e.abrupt("return",this.selecionarItemCodigoBarras(s[0]));case 10:if("function"!==typeof a){e.next=12;break}return e.abrupt("return",a(s));case 12:this.$q.notifyError("Nenhum item foi encontrado.");case 13:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),prepararItem:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=o.length>1&&void 0!==o[1]?o[1]:{},t){e.next=3;break}return e.abrupt("return");case 3:if(!this.item[t]){e.next=5;break}return e.abrupt("return");case 5:if(a.id){e.next=9;break}return e.next=8,Zn.item.le({id:t});case 8:a=e.sent;case 9:a.id&&this.$set(this.item,a.id,{marca:a.marca||"",referencia:a.referencia||"",imagem:a.imagem||""});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),calculaTotal:function(){var e=ea(this.dataTmp.documento),t=0,a=!0,o=!1,i=void 0;try{for(var r,s=this.dataTmp.documentoItens[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var n=r.value;t+=n.valorRealTotal}}catch(e){o=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}e.subTotal=dt(t),e.totalDocumento=e.subTotal,this.dataTmp.documento=e},calculaTotalItem:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n,c=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o=ea(this.dataTmp.documentoItens[t]),"quantidade"!==a||!this.dataTmp.documento.idItemTabelaPreco){e.next=10;break}return e.next=4,He().itemTabelaPreco.get(this.dataTmp.documento.idItemTabelaPreco);case 4:if(i=e.sent,!i){e.next=10;break}return e.next=8,this.configurarValoresTabelaPreco(i,o);case 8:r=this.valoresTabelaPreco.find(function(e){return e.id===o.id}),r.quantidadeMaiorQue&&o.quantidade>=r.quantidadeMaiorQue?(o.valorOriginal!==r.valorVendaMaiorQue&&(o.valorOriginal=o.valorItem=r.valorVendaMaiorQue,o.descontoItem=o.descontoPercentualItem=0),this.warningLabel[o.id]="Valor Diferenciado"):(o.valorOriginal!==r.valorVenda&&(o.valorOriginal=o.valorItem=r.valorVenda,o.descontoItem=o.descontoPercentualItem=0),this.warningLabel[o.id]="");case 10:return o.valorItem<o.valorOriginal&&(o.valorItem=o.valorOriginal),"descontoPercentualItem"===a&&(o.descontoItem=dt(o.descontoPercentualItem/100*o.valorItem)),["descontoItem","valorItem"].includes(a)&&(o.descontoPercentualItem=dt(o.descontoItem/o.valorItem*100)),o.descontoItem>o.valorItem&&(o.descontoPercentualItem=o.descontoItem=0),["subTotal"].includes(a)&&(void 0!==this.subTotal[o.id]?o.descontoItem=dt(o.valorItem-this.subTotal[o.id]):o.descontoItem=dt(o.valorItem-o.subTotal),o.descontoPercentualItem=dt(o.descontoItem/o.valorItem*100)),s=o.valorItem-o.descontoItem,dt(s)>dt(o.valorItem)&&(s=o.valorItem,o.descontoPercentualItem=o.descontoItem=0),void 0===this.subTotal[o.id]?this.$set(this.subTotal,o.id,s):this.subTotal[o.id]=s,o.subTotal=dt(s*o.quantidade),o.total=o.subTotal,o.valorReal=dt(s),o.valorRealTotal=o.total,e.next=24,Oa(o.idItem,o.idCfop,this.dataTmp.documento.idEmpresa,this.dataTmp.documento.idContato);case 24:n=e.sent,o.valorIpi=dt(Object(ot["get"])(n,"aliqIpi",0)/100*o.valorRealTotal),o.valorIcmsSt=dt(Object(ot["get"])(n,"percIva",0)/100*o.valorRealTotal),"valorItem"===a?(this.$set(this.dataTmp.documentoItens,t,at()({},o,{valorItem:0})),this.$nextTick(function(){c.$set(c.dataTmp.documentoItens,t,o),c.calculaTotal()})):this.$set(this.dataTmp.documentoItens,t,o),this.calculaTotal();case 29:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),configurarValoresTabelaPreco:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o=this.valoresTabelaPreco.find(function(e){return e.id===a.id}),!o){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,He().item.get(a.idItem);case 5:return i=e.sent,e.next=8,Zn.itemTabelaPreco.obterValores(t,i);case 8:o=e.sent,this.valoresTabelaPreco.push(at()({id:a.id},o));case 10:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),close:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.isEqual()){e.next=9;break}return e.prev=1,e.next=4,this.$q.dialog({cancel:"Cancelar",message:"Ao continuar você irá perder todas as modificações.",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e["catch"](1),e.abrupt("return");case 9:this.visible=!1;case 10:case"end":return e.stop()}},e,this,[[1,6]])}));return function(){return e.apply(this,arguments)}}(),escanearCodigoBarras:function(e){this.fecharModalCodigoBarras(),this.$refs.codigoBarras.focus(),this.entrarCodigoBarras=!0,this.buscarCodigoBarras(e)},isEqual:function(){var e=at()({},Kv,ea(this.data)),t=ga(e,this.new);return!Object.keys(t).length},leitorCodigoBarras:function(e){e.ctrlKey&&74===e.keyCode?e.preventDefault():13===e.keyCode&&(this.entrarCodigoBarras=!0)},refresh:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(this.dataTmp=at()({},Kv,ea(this.data)),this.warningLabel={},this.valoresTabelaPreco=[],this.checarErros=!1,this.descricaoAgrupamento="",this.dataTmp.documentoItens.length&&(this.descricaoAgrupamento=this.dataTmp.documentoItens[0].descricaoAgrupamento),t=!0,a=!1,o=void 0,e.prev=9,i=this.dataTmp.documentoItens[Symbol.iterator]();!(t=(r=i.next()).done);t=!0)s=r.value,this.descricaoAgrupamento||(this.descricaoAgrupamento=s.descricaoAgrupamento),this.prepararItem(s.idItem),this.$set(this.subTotal,s.id,s.valorItem-s.descontoItem);e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](9),a=!0,o=e.t0;case 17:e.prev=17,e.prev=18,t||null==i.return||i.return();case 20:if(e.prev=20,!a){e.next=23;break}throw o;case 23:return e.finish(20);case 24:return e.finish(17);case 25:return this.contato={codigo:"",descricao:"",imagem:""},e.next=28,Zn.contato.le({id:this.dataTmp.documento.idContato}).then(function(e){n.contato.codigo=e.codigoContato||e.id.slice(-6)||"",n.contato.descricao=e.nome||e.apelido||"",n.contato.imagem=e.imagem||""});case 28:this.$refs.arquivo.somenteLeitura=this.readonly,this.$refs.arquivo.arquivo=this.data.arquivo,this.$nextTick(function(){n.visible=!0});case 31:case"end":return e.stop()}},e,this,[[9,13,17,25],[18,,20,24]])}));return function(){return e.apply(this,arguments)}}(),removerItem:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=(this.dataTmp.documentoItens[t]||{}).id,this.dataTmp.documentoItens=this.dataTmp.documentoItens.filter(function(e){return e.id!==a}),this.calculaTotal();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),save:function(){var e=this;if(this.checarErros=!0,this.erroDataHoraPrevisto||this.erroDescricao)this.$q.notifyError("Erro no preenchimento do formulário");else if(this.dataTmp.documentoItens.length){var t=!1,a=!0,o=!1,i=void 0;try{for(var r,s=function(){var a=r.value,o=e.new.documentoItens.find(function(e){return a.id===e.id});if(t=o&&o.quantidade!==a.quantidade,t)return"break"},n=this.data.documentoItens[Symbol.iterator]();!(a=(r=n.next()).done);a=!0){var c=s();if("break"===c)break}}catch(e){o=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(o)throw i}}this.isEqual()||(this.$emit("update:data",this.new),this.$emit("changed",t)),this.visible=!1}else this.$q.notifyError("Não há itens no carrinho")},selecionarItemCodigoBarras:function(e){var t=e.item;this.codigoBarras="",this.entrarCodigoBarras=!1,this.selecionarItem(t.id,t)},selecionarItens:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=regeneratorRuntime.mark(function e(a){var o,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o=t[a].item||{},r=t[a].quantidade||0,s=i.dataTmp.documentoItens.findIndex(function(e){return e.idItem===a}),e.next=5,i.selecionarItem(a,o,r);case 5:-1===s&&(s=i.dataTmp.documentoItens.findIndex(function(e){return e.idItem===a}),-1!==s&&i.calculaTotalItem(s,"quantidade"));case 6:case"end":return e.stop()}},e)}),e.t0=regeneratorRuntime.keys(t);case 2:if((e.t1=e.t0()).done){e.next=7;break}return o=e.t1.value,e.delegateYield(a(o),"t2",5);case 5:e.next=2;break;case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),selecionarItem:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){var i,r,s,n,c,l,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=this.dataTmp.documentoItens.findIndex(function(e){return e.idItem===t}),-1===i){e.next=5;break}return a.novoValorVenda!==this.dataTmp.documentoItens[i].valorOriginal&&(a.novoValorVenda<=this.dataTmp.documentoItens[i].valorOriginal?(this.dataTmp.documentoItens[i].valorItem=this.dataTmp.documentoItens[i].valorOriginal,this.dataTmp.documentoItens[i].descontoItem=dt(this.dataTmp.documentoItens[i].valorOriginal-a.novoValorVenda)):(this.dataTmp.documentoItens[i].valorItem=a.novoValorVenda,this.dataTmp.documentoItens[i].descontoItem=0),this.calculaTotalItem(i,"descontoItem")),this.dataTmp.documentoItens[i].quantidade!==o&&(this.dataTmp.documentoItens[i].quantidade=o||1,this.calculaTotalItem(i,"quantidade")),e.abrupt("return");case 5:return e.next=7,Zn.documentoOperacao.le({codigoDocumentoOperacao:this.dataTmp.documento.codigoDocumentoOperacao});case 7:if(r=e.sent,r||r.length){e.next=11;break}return this.$q.notify("Não foi possível localizar a Operação."),e.abrupt("return");case 11:return e.next=13,Zn.cfop.le({id:r[0].idCfop});case 13:if(s=e.sent,s.id){e.next=17;break}return this.$q.notify("Não foi possível localizar o CFOP."),e.abrupt("return");case 17:return e.next=19,Zn.estoqueSaldoProdutoEmpresa.le({idItem:a.id,idEmpresa:Object(ot["get"])(this.dataTmp,"documento.idEmpresa",""),tipoEstoque:"Disponível"});case 19:return e.t0=function(e){return e.idItem},n=e.sent.find(e.t0),e.next=23,Oa(a.id,s.id,this.dataTmp.documento.idEmpresa,this.dataTmp.documento.idContato);case 23:return c=e.sent,l=hi(),this.$set(this.subTotal,l,a.valorVenda),this.prepararItem(t,a),e.next=29,To(a.ncm,s.cfop);case 29:d=e.sent,d&&(s=d),this.dataTmp.documentoItens.push({id:l,idItem:a.id,idDocumento:this.dataTmp.documento.documentoId,idDocumentoAdicional:this.dataTmp.documento.id,codigoCfop:s.codigoCfop,codigoPlanoContaDestino:139,codigoPlanoContaEstoque:146,dataHoraEmissao:na(),descontoItem:0,descontoPercentualItem:0,descontoSubTotal:0,descricaoItem:a.descricaoConcatenada,operacao:s.operacao,operacaoFator:s.fator,idCfop:s.id,quantidade:o||1,status:this.dataTmp.documento.status,subTotal:a.valorVenda,tipoItem:a.tipo,total:a.valorVenda,valorCusto:0,valorCustoMedio:Object(ot["get"])(n,"valorCustoMedio",0),valorCustoReposicao:a.valorCustoReposicao||0,valorCustoUltimo:Object(ot["get"])(n,"valorCusto",0),valorItem:a.valorVenda,valorItemUltimo:0,valorOriginal:a.valorVenda,valorReal:a.valorVenda,valorRealTotal:a.valorVenda,valorIpi:dt(Object(ot["get"])(c,"aliqIpi",0)/100*a.valorVenda),valorIcmsSt:dt(Object(ot["get"])(c,"percIva",0)/100*a.valorVenda)}),i=this.dataTmp.documentoItens.findIndex(function(e){return e.idItem===t}),-1!==i&&a.novoValorVenda!==this.dataTmp.documentoItens[i].valorOriginal&&(a.novoValorVenda<=this.dataTmp.documentoItens[i].valorOriginal?(this.dataTmp.documentoItens[i].valorItem=this.dataTmp.documentoItens[i].valorOriginal,this.dataTmp.documentoItens[i].descontoItem=dt(this.dataTmp.documentoItens[i].valorOriginal-a.novoValorVenda)):(this.dataTmp.documentoItens[i].valorItem=a.novoValorVenda,this.dataTmp.documentoItens[i].descontoItem=0),this.calculaTotalItem(i,"descontoItem")),o||this.calculaTotal();case 35:case"end":return e.stop()}},e,this)}));return function(t,a,o){return e.apply(this,arguments)}}()},props:{data:{required:!0,type:Object},value:{required:!0,type:Boolean}},watch:{value:function(e){e&&this.refresh()},visible:function(e){e||this.$emit("input",e)}},created:function(){this.dataTmp=at()({},Kv),this.modalItem={filtros:{},visivel:!1}}},th=eh,ah=(a("cb57"),Object(sc["a"])(th,Ev,Tv,!1,null,"3c223266",null));ah.options.__file="Custom.vue";var oh=ah.exports,ih=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-modal",{attrs:{value:e.value,maximized:""},on:{input:e.eventoInput}},[a("q-modal-layout",{staticClass:"bg-grey-4"},[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"arrow_back"},on:{click:e.voltar}}),a("q-toolbar-title",[e._v("\n          Envelope\n        ")]),a("form",{on:{submit:function(t){return t.preventDefault(),e.salvarEnvelope(t)}}},[e.envelope.somenteLeitura?e._e():a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"white","text-color":"primary",label:"Salvar",type:"submit"}})],1)],1),a("div",{staticClass:"layout-padding row justify-center"},[a("div",{staticStyle:{width:"1280px","max-width":"90vw"}},[a("q-card",{staticClass:"q-pa-md q-px-lg q-mb-md bg-white no-shadow "},[a("q-toolbar",{staticClass:"q-pt-md",attrs:{color:"black",inverted:""}},[a("q-toolbar-title",[e._v("Dados Principais")])],1),a("div",{staticClass:"row gutter-x-sm",staticStyle:{"padding-left":"24px"}},[a("div",{staticClass:"col-lg-3 row"},[a("q-btn",{attrs:{disable:e.envelope.somenteLeitura,color:"faded",size:"lg",icon:"person_add",dense:"",flat:"",round:""},on:{click:e.abrirModalDependente}},[a("q-tooltip",[e._v("Incluir paciente")])],1),a("q-field",[a("campo",{attrs:{tipo:"texto","rotulo-fixo":"Paciente","somente-leitura":""},model:{value:e.campos.descricaoContato,callback:function(t){e.$set(e.campos,"descricaoContato",t)},expression:"campos.descricaoContato"}})],1),a("q-btn",{attrs:{disable:e.envelope.somenteLeitura,dense:"",flat:"",icon:"arrow_drop_down",color:"faded",size:"lg",round:""},on:{click:e.pacientesAtualizar}},[e.envelope.somenteLeitura?e._e():a("q-popover",[a("q-list",{attrs:{link:""}},e._l(e.pacientes,function(t){return a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],key:t.value,nativeOn:{click:function(a){e.alterarPaciente(t.value)}}},[e._v("\n                        "+e._s(t.label)+"\n                      ")])}))],1),a("q-tooltip",[e._v("Selecionar paciente")])],1)],1),a("div",{staticClass:"col-lg-3",staticStyle:{"padding-top":"26px"}},[a("q-radio",{staticClass:"q-mr-sm",attrs:{readonly:e.envelope.somenteLeitura,label:"Óculos",val:"Oculos"},on:{input:e.alterarTipoEnvelope},model:{value:e.tipoEnvelope,callback:function(t){e.tipoEnvelope=t},expression:"tipoEnvelope"}}),a("q-radio",{attrs:{readonly:e.envelope.somenteLeitura,label:"LDC",val:"Lentes"},on:{input:e.alterarTipoEnvelope},model:{value:e.tipoEnvelope,callback:function(t){e.tipoEnvelope=t},expression:"tipoEnvelope"}},[a("q-tooltip",[e._v("Lentes de Contato")])],1)],1),a("div",{staticClass:"col-lg-3"},[a("campo",{staticClass:"col-12 col-lg-4",attrs:{maxlength:"60",rotulo:"Tipo",tipo:"seletor",opcoes:e.tipoLentes,somenteLeitura:e.envelope.somenteLeitura},model:{value:e.tipoLente,callback:function(t){e.tipoLente=t},expression:"tipoLente"}})],1),a("div",{staticClass:"col-lg-3",staticStyle:{"padding-top":"26px"}},[a("q-radio",{staticClass:"q-mr-sm",attrs:{disabled:"Oculos"!==e.tipoEnvelope,readonly:e.envelope.somenteLeitura||"Oculos"!==e.tipoEnvelope,label:"Vista",val:"Vista"},model:{value:e.tipoOculos,callback:function(t){e.tipoOculos=t},expression:"tipoOculos"}}),a("q-radio",{attrs:{disabled:"Oculos"!==e.tipoEnvelope,readonly:e.envelope.somenteLeitura||"Oculos"!==e.tipoEnvelope,label:"Solar",val:"Solar"},model:{value:e.tipoOculos,callback:function(t){e.tipoOculos=t},expression:"tipoOculos"}})],1)])],1),a("div",{staticClass:"bg-white q-mt-md q-py-sm"},[a("q-card",{staticClass:"q-pa-md q-pb-xl q-mb-md bg-white no-shadow"},[a("q-toolbar",{attrs:{color:"black",inverted:""}},[a("q-toolbar-title",[e._v("\n                  Receita\n                  ")]),e.envelope.somenteLeitura?e._e():a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"search",round:""},on:{click:e.filtrarReceitas}},[a("q-popover",[a("q-list",{attrs:{separator:"",link:""}},e._l(e.receitasDescricao,function(t){return a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],key:t.value,nativeOn:{click:function(a){e.atualizarReceita(t.value)}}},[a("q-icon",{attrs:{name:t.icon,color:t.color}}),e._v("\n                        "+e._s(t.label)+"\n                        "),a("small",[e._v(e._s(t.stamp))])],1)}))],1),a("q-tooltip",[e._v("Selecionar receita")])],1),e.envelope.somenteLeitura?e._e():a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"add",round:""},on:{click:function(t){e.abrirModalReceita("",!1)}}},[a("q-tooltip",[e._v("Adicionar")])],1),e.envelope.somenteLeitura?e._e():a("q-btn",{attrs:{color:"primary",flat:"",icon:"camera_alt",label:"QR Code"},on:{click:e.abrirModalCodigoBarras}},[a("q-tooltip",[e._v("Incluir via QR Code")])],1),e.envelope.somenteLeitura?e._e():a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"more_vert",round:""}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},[e.receitasDescricao.length?a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.abrirModalReceita(e.receita.id,!1)}}},[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1):e._e(),e.receitasDescricao.length?a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.abrirModalReceita(e.receita.id,!0)}}},[a("q-item-side",{attrs:{icon:"file_copy"}}),a("q-item-main",{attrs:{label:"Duplicar"}})],1):e._e()],1)],1)],1)],1),e.receitasDescricao.length?e._e():a("div",{staticClass:"q-pa-lg text-center"},[a("p",[e._v("Não há receitas para o paciente "+e._s(e.campos.descricaoContato)+".")]),a("p",{staticClass:"q-caption"},[e._v("Para incluir, utilize os botões acima ou insira via QR Code.")])]),e.receitasDescricao.length?a("div",{staticClass:"q-mt-lg q-px-lg row gutter-sm"},[a("div",{staticClass:"col-12 col-lg-4"},[a("span",{staticClass:"q-body-1"},[e._v("Paciente: ")]),a("strong",[e._v(e._s((e.receita.paciente||{}).nome))])]),a("div",{staticClass:"col-12 col-lg-4"},[a("span",{staticClass:"q-body-1"},[e._v("Médico: ")]),a("strong",[e._v(e._s((e.receita.medico||{}).nome))])]),a("div",{staticClass:"col-12 col-lg-2"},[a("span",{staticClass:"q-body-1"},[e._v("Data: ")]),a("strong",[e._v(e._s(e._f("data")(e.receita.data)))])]),a("div",{staticClass:"col-12 col-lg-2"},[a("span",{staticClass:"q-body-1"},[e._v("Validade: ")]),a("strong",[e._v(e._s(e._f("data")(e.receita.validade)))])]),e.receita.observacoes?a("div",{staticClass:"col-12"},[a("strong",{staticClass:"q-body-1"},[e._v("Observação:")]),a("p",[e._v(e._s(e.receita.observacoes))])]):e._e()]):e._e(),e.receitasDescricao.length?a("div",{staticClass:"row q-ma-lg"},[a("q-list",{staticClass:"col-12 col-lg-6 q-pa-none",attrs:{highlight:"","no-border":""}},[a("q-item",{staticClass:"q-px-none"},[a("q-item-side"),a("q-item-main",{staticClass:"q-title"},[e._v("Longe")])],1),a("q-item",{staticClass:"q-px-none"},[a("q-item-side"),a("q-item-main",{staticClass:"q-body-2 row"},[a("div",{staticClass:"col u-elipse"},[e._v("Esférico")]),a("div",{staticClass:"col u-elipse"},[e._v("Cilindrico")]),a("div",{staticClass:"col u-elipse"},[e._v("Eixo")]),a("div",{staticClass:"col u-elipse"},[e._v("DNP")])])],1),a("q-item",{staticClass:"q-px-none"},[a("q-item-side",[a("q-item-tile",[e._v("OD")])],1),a("q-item-main",{staticClass:"row"},[a("div",{staticClass:"col"},[e._v("\n                        "+e._s(e._f("numeroSinal")(((((e.receita.prescricao||{}).dioptria||{}).od||{}).longe||{}).esferico,2))+"\n                      ")]),a("div",{staticClass:"col"},[e._v("\n                        "+e._s(e._f("numeroSinal")(((((e.receita.prescricao||{}).dioptria||{}).od||{}).longe||{}).cilindrico,2))+"\n                      ")]),a("div",{staticClass:"col"},[e._v("\n                        "+e._s(e._f("numero")(((((e.receita.prescricao||{}).dioptria||{}).od||{}).longe||{}).eixo)))]),a("div",{staticClass:"col"},[e._v("\n                        "+e._s(e._f("numero")(((((e.receita.prescricao||{}).dioptria||{}).od||{}).longe||{}).dnp,2))+"\n                      ")])])],1),a("q-item",{staticClass:"q-px-none"},[a("q-item-side",[a("q-item-tile",[e._v("OE")])],1),a("q-item-main",{staticClass:"row"},[a("div",{staticClass:"col"},[e._v("\n                        "+e._s(e._f("numeroSinal")(((((e.receita.prescricao||{}).dioptria||{}).oe||{}).longe||{}).esferico,2))+"\n                      ")]),a("div",{staticClass:"col"},[e._v("\n                        "+e._s(e._f("numeroSinal")(((((e.receita.prescricao||{}).dioptria||{}).oe||{}).longe||{}).cilindrico,2))+"\n                      ")]),a("div",{staticClass:"col"},[e._v("\n                        "+e._s(e._f("numero")(((((e.receita.prescricao||{}).dioptria||{}).oe||{}).longe||{}).eixo)))]),a("div",{staticClass:"col"},[e._v("\n                        "+e._s(e._f("numero")(((((e.receita.prescricao||{}).dioptria||{}).oe||{}).longe||{}).dnp,2))+"\n                      ")])])],1)],1),a("q-list",{staticClass:"col-12 col-lg-6 q-pa-none",attrs:{highlight:"","no-border":""}},[a("q-item",{staticClass:"q-px-none"},[a("q-item-side"),a("q-item-main",{staticClass:"q-title row"},[a("div",{staticClass:"col"},[e._v("Médio")]),a("div",{staticClass:"col"},[e._v("Perto")])])],1),a("q-item",{staticClass:"q-px-none"},[a("q-item-side"),a("q-item-main",{staticClass:"q-body-2 row"},[a("div",{staticClass:"col u-elipse"},[e._v("Adição")]),a("div",{staticClass:"col u-elipse"},[e._v("DNP")]),a("div",{staticClass:"col u-elipse"},[e._v("Adição")]),a("div",{staticClass:"col u-elipse"},[e._v("DNP")])])],1),a("q-item",{staticClass:"q-px-none"},[a("q-item-side",[a("q-item-tile",[e._v("OD")])],1),a("q-item-main",{staticClass:"row"},[a("div",{staticClass:"col"},[e._v("\n                        "+e._s(e._f("numeroSinal")(((((e.receita.prescricao||{}).dioptria||{}).od||{}).medio||{}).esferico,2))+"\n                      ")]),a("div",{staticClass:"col"},[e._v("\n                        "+e._s(e._f("numero")(((((e.receita.prescricao||{}).dioptria||{}).od||{}).medio||{}).dnp,2))+"\n                      ")]),a("div",{staticClass:"col"},[e._v("\n                        "+e._s(e._f("numeroSinal")(((((e.receita.prescricao||{}).dioptria||{}).od||{}).perto||{}).esferico,2))+"\n                      ")]),a("div",{staticClass:"col"},[e._v("\n                        "+e._s(e._f("numero")(((((e.receita.prescricao||{}).dioptria||{}).od||{}).perto||{}).dnp,2))+"\n                      ")])])],1),a("q-item",{staticClass:"q-px-none"},[a("q-item-side",[a("q-item-tile",[e._v("OE")])],1),a("q-item-main",{staticClass:"row"},[a("div",{staticClass:"col"},[e._v("\n                        "+e._s(e._f("numeroSinal")(((((e.receita.prescricao||{}).dioptria||{}).oe||{}).medio||{}).esferico,2))+"\n                      ")]),a("div",{staticClass:"col"},[e._v("\n                        "+e._s(e._f("numero")(((((e.receita.prescricao||{}).dioptria||{}).oe||{}).medio||{}).dnp,2))+"\n                      ")]),a("div",{staticClass:"col"},[e._v("\n                        "+e._s(e._f("numeroSinal")(((((e.receita.prescricao||{}).dioptria||{}).oe||{}).perto||{}).esferico,2))+"\n                      ")]),a("div",{staticClass:"col"},[e._v("\n                        "+e._s(e._f("numero")(((((e.receita.prescricao||{}).dioptria||{}).oe||{}).perto||{}).dnp,2))+"\n                      ")])])],1)],1)],1):e._e()],1)],1),a("div",{staticClass:"bg-white q-mt-md q-py-sm"},[a("q-card",{staticClass:"q-pa-md q-pb-xl q-mb-md bg-white no-shadow "},[a("q-toolbar",{staticClass:"q-pt-md",attrs:{color:"black",inverted:""}},[a("q-toolbar-title",[e._v("Imagens")])],1),a("div",{staticClass:"row gutter-x-sm",staticStyle:{padding:"0 24px"}},[a("div",{staticClass:"col-12 "},[a("arquivo",{ref:"arquivo"})],1)])],1)],1),a("div",{staticClass:"bg-white q-mt-md q-py-sm"},[a("q-card",{staticClass:"q-pa-md q-pb-xl q-mb-md bg-white no-shadow "},[a("q-toolbar",{staticClass:"q-pt-md",attrs:{color:"black",inverted:""}},[a("q-toolbar-title",[e._v("Itens")]),e.envelope.somenteLeitura||"Lentes"!==e.tipoEnvelope?e._e():a("q-btn",{attrs:{color:"primary",flat:"",icon:"add",label:"Lentes de Contato"},on:{click:function(t){e.abrirModalItem("LentesContato")}}}),!e.envelope.somenteLeitura&&"Oculos"===e.tipoEnvelope&&["Vista","Solar"].includes(e.tipoOculos)?a("q-btn",{attrs:{color:"primary",flat:"",icon:"add",label:"Lentes"},on:{click:function(t){e.abrirModalItem("Lentes")}}}):e._e(),!e.envelope.somenteLeitura&&"Oculos"===e.tipoEnvelope&&["Vista","Solar"].includes(e.tipoOculos)?a("q-btn",{attrs:{color:"primary",flat:"",icon:"add",label:"Armação"},on:{click:function(t){e.abrirModalItem("Armacao")}}}):e._e()],1),!e.envelope.somenteLeitura&&("Lentes"===e.tipoEnvelope||"Oculos"===e.tipoEnvelope&&["Vista","Solar"].includes(e.tipoOculos))?a("q-field",{staticClass:"q-mx-lg"},[a("q-input",{ref:"codigoBarras",attrs:{after:[{icon:"mdi-barcode-scan",handler:e.abrirModalCodigoBarras}],before:[{icon:"line_weight"}],color:"light","inverted-light":"","float-label":"Código de barras"},on:{keydown:e.leitorCodigoBarras},model:{value:e.codigoBarras,callback:function(t){e.codigoBarras=t},expression:"codigoBarras"}},[a("q-autocomplete",{attrs:{"min-characters":3},on:{search:e.buscarCodigoBarras,selected:e.selecionarItemCodigoBarras}})],1)],1):e._e(),e.carrinho.length?e._l(e.carrinhoSemArmacaoVazia,function(t,o){return a("div",{key:o,staticClass:"items-start gutter-x-sm q-pa-lg row"},[a("div",{staticClass:"col-12 col-sm-3"},[a("avatar",{attrs:{imagem:(e.itens[t.idItem]||{}).imagem||"",rotulo:t.descricaoItem,tamanho:"120"}})],1),a("div",{staticClass:"col-12 col-sm-9"},[a("q-toolbar",{staticClass:"Venda-itemBarra bg-transparent q-pa-none",attrs:{color:"black",inverted:""}},[a("q-toolbar-title",{staticClass:"q-pl-none"},[e._v("\n                      "+e._s(t.descricaoItem)+"\n                      "),a("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v(e._s((e.itens[t.idItem]||{}).marca||""))])]),a("badge",{staticClass:"q-mr-sm"},[e._v(e._s(t.tipoItem)+" "+e._s((e.itens[t.idItem]||{}).referencia||"")+"\n                    ")]),e.envelope.somenteLeitura?e._e():a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""},on:{click:function(t){e.removerItem(o)}}})],1),a("div",{staticClass:"gutter-sm row"},[a("campo",{staticClass:"col-6 col-sm-3",attrs:{somenteLeitura:e.envelope.somenteLeitura,"class-campo":"u-campoCompacto","rotulo-fixo":"Valor",tipo:"decimal",decimals:"2"},on:{blur:function(t){e.calculaTotalItem(o,"valorItem")}},model:{value:t.valorItem,callback:function(a){e.$set(t,"valorItem",a)},expression:"item.valorItem"}}),a("campo",{staticClass:"col-6 col-sm-3",attrs:{somenteLeitura:e.envelope.somenteLeitura,"class-campo":"u-campoCompacto",opcoes:{maximumValue:100},"rotulo-fixo":"Desconto",tipo:"decimal",decimals:"2",suffix:"%"},on:{blur:function(t){e.calculaTotalItem(o,"descontoPercentualItem")}},model:{value:t.descontoPercentualItem,callback:function(a){e.$set(t,"descontoPercentualItem",a)},expression:"item.descontoPercentualItem"}}),a("campo",{staticClass:"col-6 col-sm-3",attrs:{somenteLeitura:e.envelope.somenteLeitura,"class-campo":"u-campoCompacto",opcoes:{minimumValue:0},"rotulo-fixo":"Desconto",tipo:"decimal",decimals:"2"},on:{blur:function(t){e.calculaTotalItem(o,"descontoItem")}},model:{value:t.descontoItem,callback:function(a){e.$set(t,"descontoItem",a)},expression:"item.descontoItem"}}),a("campo",{staticClass:"col-6 col-sm-3",attrs:{somenteLeitura:e.envelope.somenteLeitura,"class-campo":"u-campoCompacto","hide-underline":"","somente-leitura":"","rotulo-fixo":"Total",tipo:"decimal",decimals:"2"},model:{value:t.total,callback:function(a){e.$set(t,"total",a)},expression:"item.total"}})],1),a("div",{staticClass:"gutter-sm row justify-end q-mt-sm"},[e.envelope.somenteLeitura||"LOE"!==t.tipoItem?e._e():a("q-btn",{attrs:{color:"primary",flat:"",icon:"add",label:"Tratamento LOE"},on:{click:function(a){e.abrirModalItem("Tratamento LOE",t.id)}}}),e.envelope.somenteLeitura||"LOD"!==t.tipoItem?e._e():a("q-btn",{attrs:{color:"primary",flat:"",icon:"add",label:"Tratamento LOD"},on:{click:function(a){e.abrirModalItem("Tratamento LOD",t.id)}}})],1)],1)])}):a("div",{staticClass:"q-pa-lg text-center"},[a("p",[e._v("Não há itens no carrinho")]),a("p",{staticClass:"q-caption"},[e._v("Para adicionar, utilize os botões acima ou insira o código de barras")])])],2)],1),a("div",{staticClass:"bg-white q-mt-md q-py-sm"},[a("q-card",{staticClass:"q-pa-lg q-mb-md bg-white no-shadow "},[a("div",{staticClass:"gutter-x-sm row"},[a("div",{staticClass:"col-12 col-lg-4"},[a("campo",{attrs:{"somente-leitura":e.envelope.somenteLeitura,tipo:"decimal",decimals:"2",rotulo:"Diagonal"},model:{value:e.armacao.diagonal,callback:function(t){e.$set(e.armacao,"diagonal",t)},expression:"armacao.diagonal"}}),a("campo",{attrs:{"somente-leitura":e.envelope.somenteLeitura,tipo:"decimal",decimals:"2",rotulo:"Ponte"},model:{value:e.armacao.ponte,callback:function(t){e.$set(e.armacao,"ponte",t)},expression:"armacao.ponte"}}),a("campo",{attrs:{"somente-leitura":e.envelope.somenteLeitura,tipo:"decimal",decimals:"2",rotulo:"Altura Vertical"},model:{value:e.armacao.altura,callback:function(t){e.$set(e.armacao,"altura",t)},expression:"armacao.altura"}}),a("campo",{attrs:{"somente-leitura":e.envelope.somenteLeitura,rotulo:"Largura",tipo:"decimal",decimals:"2"},model:{value:e.armacao.largura,callback:function(t){e.$set(e.armacao,"largura",t)},expression:"armacao.largura"}}),a("campo",{staticClass:"col-12 col-sm-4",attrs:{"somente-leitura":e.envelope.somenteLeitura,after:[{icon:"add_circle",handler:function(){e.abrirArmacaoMaterialModal()}}],opcoes:e.opcoesArmacaoMaterial,"rotulo-fixo":"Material",tipo:"seletor"},model:{value:e.armacao.armacaoMaterial,callback:function(t){e.$set(e.armacao,"armacaoMaterial",t)},expression:"armacao.armacaoMaterial"}}),a("campo",{staticClass:"col-12 col-sm-4",attrs:{"somente-leitura":e.envelope.somenteLeitura,after:[{icon:"add_circle",handler:function(){e.abrirTipoMontagemModal()}}],opcoes:e.opcoesTipoMontagem,"rotulo-fixo":"Tipo Montagem",tipo:"seletor"},model:{value:e.armacao.tipoMontagem,callback:function(t){e.$set(e.armacao,"tipoMontagem",t)},expression:"armacao.tipoMontagem"}})],1),a("div",{staticClass:"col-12 col-lg-4"},[e.permissaoPupilometro?a("q-btn",{attrs:{label:"Pupilômetro",icon:"mdi-eye-settings-outline",color:"primary"},on:{click:function(t){e.abrirModalPupilometro()}}}):e._e(),a("q-btn",{attrs:{icon:"help_outline",color:"primary",flat:"",dense:"",round:"",size:"lg"},on:{click:function(t){e.help.show=!e.help.show}}}),a("campo",{attrs:{"somente-leitura":e.envelope.somenteLeitura,rotulo:"Alt. Mont. OD",tipo:"decimal",decimals:"2"},model:{value:e.armacao.alturaMontagemOD,callback:function(t){e.$set(e.armacao,"alturaMontagemOD",t)},expression:"armacao.alturaMontagemOD"}}),a("campo",{attrs:{"somente-leitura":e.envelope.somenteLeitura,rotulo:"Alt. Mont. OE",tipo:"decimal",decimals:"2"},model:{value:e.armacao.alturaMontagemOE,callback:function(t){e.$set(e.armacao,"alturaMontagemOE",t)},expression:"armacao.alturaMontagemOE"}}),a("campo",{staticClass:"col-12 col-sm-4",attrs:{"somente-leitura":e.envelope.somenteLeitura,value:e.descricaoLaboratorio,before:[{icon:"search",handler:e.abrirModalLaboratorio}],readonly:"",rotulo:"Laboratório"},on:{click:e.abrirModalLaboratorio}}),a("campo",{staticClass:"col-12 col-sm-4",attrs:{"somente-leitura":e.envelope.somenteLeitura,value:e.descricaoResponsavel,before:[{icon:"search",handler:e.abrirModalResponsavel}],readonly:"",rotulo:"Responsável"},on:{click:e.abrirModalResponsavel}}),a("campo",{attrs:{maxlength:"10",rotulo:"Previsão de Entrega",tipo:"data",erro:!!e.erroDataHoraPrevisto,"erro-rotulo":e.erroDataHoraPrevisto},model:{value:e.campos.dataHoraPrevisto,callback:function(t){e.$set(e.campos,"dataHoraPrevisto",t)},expression:"campos.dataHoraPrevisto"}})],1),a("div",{staticClass:"col-12 col-lg-4 q-mt-md"},[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-4"},[e._v("Subtotal")]),a("strong",{staticClass:"col-8 text-right"},[e._v(e._s(e._f("numero")(e.campos.subTotal,2)))]),a("div",{staticClass:"col-4",staticStyle:{"padding-top":"16px"}},[e._v("Desconto")]),a("campo",{staticClass:"col-3",attrs:{"somente-leitura":e.envelope.somenteLeitura,"class-campo":"u-campoCompacto",opcoes:{maximumValue:100},tipo:"decimal",decimals:"2",suffix:"%"},on:{blur:function(t){e.calculaTotal("descontoPercentual")}},model:{value:e.campos.totalPercentualDesconto,callback:function(t){e.$set(e.campos,"totalPercentualDesconto",t)},expression:"campos.totalPercentualDesconto"}}),a("campo",{staticClass:"col-5",attrs:{"somente-leitura":e.envelope.somenteLeitura,"class-campo":"u-campoCompacto",opcoes:{minimumValue:0},tipo:"decimal",decimals:"2"},on:{blur:function(t){e.calculaTotal("desconto")}},model:{value:e.campos.totalDesconto,callback:function(t){e.$set(e.campos,"totalDesconto",t)},expression:"campos.totalDesconto"}}),a("div",{staticClass:"col-4 q-mt-sm",staticStyle:{"padding-top":"8px"}},[e._v("Total")]),a("strong",{staticClass:"col-8 q-mt-sm text-right",staticStyle:{"padding-top":"8px"}},[e._v(e._s(e._f("numero")(e.campos.totalDocumento,2)))])],1)])])])],1)],1)])],1)],1),a("q-modal",{attrs:{"content-css":{minWidth:"100vw",minHeight:"100vh"}},model:{value:e.help.show,callback:function(t){e.$set(e.help,"show",t)},expression:"help.show"}},[a("q-modal-layout",{staticStyle:{height:"100vh",width:"100vw"}},[a("iframe",{staticStyle:{height:"100%",width:"100%"},attrs:{src:e.help.src,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v(e._s(e.help.title))]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1)],1)],1),a("q-modal",{model:{value:e.armacaoMaterialModal,callback:function(t){e.armacaoMaterialModal=t},expression:"armacaoMaterialModal"}},[a("div",{staticClass:"q-ma-sm"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.criarArmacaoMaterial(t)}}},[a("div",{staticClass:"q-ma-md"},[a("div",{staticClass:"row q-headline text-weight-bold"},[e._v("Cadastrar Material")]),a("campo",{staticClass:"row",attrs:{maxlength:"60",rotulo:"Material"},model:{value:e.armacaoMaterialDescricao,callback:function(t){e.armacaoMaterialDescricao="string"===typeof t?t.trim():t},expression:"armacaoMaterialDescricao"}})],1),a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(t){e.armacaoMaterialModal=!1}}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])])]),a("q-modal",{model:{value:e.tipoMontagemModal,callback:function(t){e.tipoMontagemModal=t},expression:"tipoMontagemModal"}},[a("div",{staticClass:"q-ma-sm"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.criarTipoMontagem(t)}}},[a("div",{staticClass:"q-ma-md"},[a("div",{staticClass:"row q-headline text-weight-bold"},[e._v("Cadastrar Tipo Montagem")]),a("campo",{staticClass:"row",attrs:{maxlength:"60",rotulo:"Tipo Montagem"},model:{value:e.tipoMontagemDescricao,callback:function(t){e.tipoMontagemDescricao="string"===typeof t?t.trim():t},expression:"tipoMontagemDescricao"}})],1),a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(t){e.tipoMontagemModal=!1}}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])])]),e.modalPupilometro.ativo?a("q-modal",{attrs:{maximized:""},on:{hide:function(t){e.fecharModalPupilometro()}},model:{value:e.modalPupilometro.visivel,callback:function(t){e.$set(e.modalPupilometro,"visivel",t)},expression:"modalPupilometro.visivel"}},[a("q-modal-layout",[a("pupilometro",{attrs:{avancar:e.modalPupilometro.avancar,somenteLeitura:e.envelope.somenteLeitura},on:{fecharModal:function(t){e.fecharModalPupilometro()}}})],1)],1):e._e(),a("contato-criar",{attrs:{"cpf-cnpj":"","data-nascimento":"","msg-erro":"Ocorreu um erro ao incluir o paciente.","msg-sucesso":"Paciente incluído com sucesso.",titulo:"Incluir Paciente",observacao:""},on:{pronto:e.criarDependencia},model:{value:e.modalDependente,callback:function(t){e.modalDependente=t},expression:"modalDependente"}}),a("prompt-item-novo",{attrs:{filtro:e.modalItem.filtros},on:{selecionarItens:e.selecionarItens},model:{value:e.modalItem.visivel,callback:function(t){e.$set(e.modalItem,"visivel",t)},expression:"modalItem.visivel"}}),a("prompt-codigo-barras",{on:{escanear:e.escanearCodigoBarras},model:{value:e.modalCodigoBarras,callback:function(t){e.modalCodigoBarras=t},expression:"modalCodigoBarras"}}),a("receita",{attrs:{id:e.modalReceita.id,idEmpresa:e.modalReceita.idEmpresa,duplicarReceita:e.modalReceita.duplicar},on:{atualizar:function(t){e.atualizarReceita(e.modalReceita.id)}},model:{value:e.modalReceita.visivel,callback:function(t){e.$set(e.modalReceita,"visivel",t)},expression:"modalReceita.visivel"}}),a("prompt-contato-novo",{attrs:{filtro:{ativo:!0,segmento:"Laboratório"}},on:{selecionar:e.selecionarLaboratorio},model:{value:e.modalLaboratorio,callback:function(t){e.modalLaboratorio=t},expression:"modalLaboratorio"}}),a("prompt-contato-novo",{attrs:{filtro:{ativo:!0,vendedores:!0}},on:{selecionar:e.selecionarResponsavel},model:{value:e.modalResponsavel,callback:function(t){e.modalResponsavel=t},expression:"modalResponsavel"}})],1)},rh=[];ih._withStripped=!0;var sh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{value:e.value},on:{input:e.eventoInput}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v(e._s(e.titulo))])],1),a("form",{on:{submit:function(t){return t.preventDefault(),e.criarContato(t)}}},[a("div",{staticClass:"layout-padding"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{erro:e.$v.campos.nome.$error,"erro-rotulo":"O nome é obrigatório.",maxlength:"50",rotulo:"Nome do contato"},on:{blur:e.$v.campos.nome.$touch},model:{value:e.campos.nome,callback:function(t){e.$set(e.campos,"nome","string"===typeof t?t.trim():t)},expression:"campos.nome"}}),e.cpfCnpj?a("q-field",{staticClass:"col-12 col-sm-6",attrs:{error:e.$v.campos.numeroDocumentoNacional.$error,"error-label":e.campos.numeroDocumentoNacionalErro}},[a("q-input",{directives:[{name:"mask",rawName:"v-mask",value:["###.###.###-##","##.###.###/####-##"],expression:"['###.###.###-##', '##.###.###/####-##']"}],attrs:{"float-label":"CPF/CNPJ"},on:{blur:e.$v.campos.numeroDocumentoNacional.$touch},model:{value:e.campos.numeroDocumentoNacional,callback:function(t){e.$set(e.campos,"numeroDocumentoNacional",t)},expression:"campos.numeroDocumentoNacional"}})],1):e._e(),e.numeroDocumentoMunicipal?a("campo",{staticClass:"col-12 col-sm-6",attrs:{rotulo:e.numeroDocumentoMunicipal},model:{value:e.campos.numeroDocumentoMunicipal,callback:function(t){e.$set(e.campos,"numeroDocumentoMunicipal",t)},expression:"campos.numeroDocumentoMunicipal"}}):e._e(),e.dataNascimento?a("campo",{staticClass:"col-12 col-sm-6",attrs:{after:[{icon:"delete",handler:function(){e.campos.dataAbertura=""}}],format:"DD/MM/YYYY",rotulo:"Data de nascimento",max:Date.now(),tipo:"data"},model:{value:e.campos.dataAbertura,callback:function(t){e.$set(e.campos,"dataAbertura",t)},expression:"campos.dataAbertura"}}):e._e(),e.observacao?a("campo",{staticClass:"col-12",attrs:{maxlength:"50",rotulo:"Observacao"},model:{value:e.observacaoFilho,callback:function(t){e.observacaoFilho="string"===typeof t?t.trim():t},expression:"observacaoFilho"}}):e._e()],1)]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(t){e.eventoInput(!1)}}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])],1)],1)],1)],1)},nh=[];sh._withStripped=!0;var ch={components:{Campo:Sl},data:function(){return{campos:{nome:""},observacaoFilho:""}},methods:{criarContato:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("ContatoCriar","criarContato"),e.next=3,Co(this.$v.campos,this);case 3:if(e.sent){e.next=5;break}return e.abrupt("return",this.$q.notify("Há erros de validação no formulário."));case 5:return e.prev=5,this.$q.loading.show(),e.next=9,Zn.contato.criarContatoBasico(this.campos);case 9:t=e.sent,t.observacaoFilho=this.observacaoFilho,this.eventoInput(!1),this.$q.notifyPositive(this.msgSucesso),this.$emit("pronto",t),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](5),this.$q.notifyError(this.msgErro,e.t0);case 19:return e.prev=19,this.$q.loading.hide(),e.finish(19);case 22:case"end":return e.stop()}},e,this,[[5,16,19,22]])}));return function(){return e.apply(this,arguments)}}(),eventoInput:function(e){this.$emit("input",e)}},props:{value:{required:!0,type:Boolean},cpfCnpj:{default:!1,type:Boolean},dataNascimento:{default:!1,type:Boolean},msgErro:{default:"Ocorreu um erro ao salvar.",type:String},msgSucesso:{default:"Contato criado com sucesso.",type:String},numeroDocumentoMunicipal:{type:String},observacao:{default:!1,type:Boolean},titulo:{default:"Criar contato",type:String}},validations:{campos:{nome:{minLength:Object(rl["minLength"])(2),required:rl["required"]},numeroDocumentoNacional:{cnpjOuCpfUnico:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o=(a||{}).id||"",e.next=3,pi(t,o);case 3:return i=e.sent,r=i.valido,s=i.mensagem,a.numeroDocumentoNacionalErro=s,e.abrupt("return",r);case 8:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()}}},watch:{value:function(e){e&&(this.campos={nome:""},this.observacaoFilho="",this.$v.campos.$reset())}}},lh=ch,dh=Object(sc["a"])(lh,sh,nh,!1,null,null,null);dh.options.__file="ContatoCriar.vue";var uh=dh.exports,mh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{value:e.value,maximized:""},on:{input:e.eventoInput}},[a("q-modal-layout",{staticStyle:{background:"#eee","min-height":"100vh"}},[a("form",{on:{submit:function(t){return t.preventDefault(),e.salvarReceita(t)}}},[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"},on:{click:e.voltar}}),a("q-toolbar-title",[e._v("Receita")]),a("q-btn",{staticClass:"no-shadow",attrs:{color:"white","text-color":"primary",label:"Salvar",type:"submit"}})],1),a("div",{staticClass:"layout-padding q-mt-xl row justify-center"},[a("div",{staticStyle:{width:"1280px","max-width":"90vw"}},[a("q-card",{staticClass:"q-pb-md q-mb-md bg-white no-shadow "},[a("q-list",{staticStyle:{width:"100%",padding:"0"},attrs:{"no-border":""}},[a("q-item",{staticStyle:{padding:"0"}},[a("q-item-main",[a("q-list",{attrs:{"no-border":""}},[a("q-item",{staticStyle:{"padding-bottom":"0"}},[a("q-item-main",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"items-baseline col-12 col-lg-3"},[a("div",{staticClass:"row"},[a("q-btn",{attrs:{color:"faded",size:"lg",icon:"person_add",dense:"",flat:"",round:""},on:{click:e.abrirModalDependente}},[a("q-tooltip",[e._v("Incluir paciente")])],1),a("q-field",{staticClass:"col"},[a("q-select",{attrs:{"float-label":"Paciente",options:e.pacientes,filter:""},on:{input:e.alterarPaciente},model:{value:e.campos.paciente.id,callback:function(t){e.$set(e.campos.paciente,"id",t)},expression:"campos.paciente.id"}})],1)],1)]),a("div",{staticClass:"items-baseline col-12 col-lg-3"},[a("div",{staticClass:"row"},[a("q-btn",{attrs:{color:"faded",size:"lg",icon:"person_add",dense:"",flat:"",round:""},on:{click:e.abrirModalMedico}},[a("q-tooltip",[e._v("Incluir médico")])],1),a("q-field",{staticClass:"col"},[a("q-search",{attrs:{"float-label":"Médico","no-icon":""},model:{value:e.campos.medico.nome,callback:function(t){e.$set(e.campos.medico,"nome",t)},expression:"campos.medico.nome"}},[a("q-autocomplete",{attrs:{"min-characters":2,"max-results":10,"value-field":function(e){return""+e.label}},on:{search:e.buscarMedicos,selected:e.medicoSelecionado}})],1)],1)],1)]),a("div",{staticClass:"items-baseline col-12 col-lg-3"},[a("campo",{attrs:{maxlength:"10",rotulo:"Data",tipo:"data"},on:{input:function(t){e.atualizarValidade()}},model:{value:e.campos.data,callback:function(t){e.$set(e.campos,"data",t)},expression:"campos.data"}})],1),a("div",{staticClass:"items-baseline col-12 col-lg-3"},[a("campo",{attrs:{maxlength:"10",rotulo:"Validade",tipo:"data"},model:{value:e.campos.validade,callback:function(t){e.$set(e.campos,"validade",t)},expression:"campos.validade"}})],1)])],1)],1)],1)],1),a("q-item",{staticStyle:{padding:"0"}},[a("q-item-main",{staticClass:"row gutter-x-sm q-mx-md"},[a("campo",{staticClass:"col-12",attrs:{maxlength:"60",rotulo:"Observações",tipo:"texto"},model:{value:e.campos.observacoes,callback:function(t){e.$set(e.campos,"observacoes",t)},expression:"campos.observacoes"}})],1)],1)],1)],1),a("q-card",{staticClass:"q-pb-md q-mb-md bg-white no-shadow "},[a("div",{staticClass:"row gutter-x-sm"},[a("q-tabs",{staticStyle:{width:"100%"},attrs:{color:"grey-3","text-color":"primary"},model:{value:e.abaSelecionada,callback:function(t){e.abaSelecionada=t},expression:"abaSelecionada"}},[a("q-tab",{attrs:{slot:"title",label:"Dioptria",name:"dioptria"},slot:"title"}),a("q-tab",{attrs:{slot:"title",label:"Prisma",name:"prisma"},slot:"title"}),a("q-tab-pane",{staticClass:"bg-white",attrs:{name:"dioptria"}},[a("q-list",{staticStyle:{padding:"0"},attrs:{"no-border":""}},[a("q-item",{staticStyle:{padding:"0"}},[a("q-item-main",{staticClass:"row"},[e.confirmaHabilitaPerto?e._e():a("q-list",{staticClass:"col-12 col-lg-6",attrs:{"no-border":""}},[a("q-item",{staticStyle:{padding:"0"}},[a("q-item-side",[a("q-item-tile")],1),a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12"},[a("label",{staticStyle:{"font-size":"1.15rem"}},[e._v("Longe")])])])])],1),a("q-item",{staticStyle:{padding:"0"}},[a("q-item-side",[a("q-item-tile")],1),a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col"},[a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[e._v("Esférico")])]),a("div",{staticClass:"col"},[a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[e._v("Cilindrico")])]),a("div",{staticClass:"col"},[a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[e._v("Eixo")])]),a("div",{staticClass:"col"},[a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[e._v("DNP")])])])])],1),a("q-item",{staticStyle:{padding:"0"}},[a("q-item-side",[a("q-item-tile",[e._v("OD")])],1),a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-3 "},[a("campo",{attrs:{min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},on:{input:e.calcularAE},model:{value:e.campos.prescricao.dioptria.od.longe.esferico,callback:function(t){e.$set(e.campos.prescricao.dioptria.od.longe,"esferico",t)},expression:"campos.prescricao.dioptria.od.longe.esferico"}})],1),a("div",{staticClass:"col-3 "},[a("campo",{attrs:{aviso:e.campos.prescricao.dioptria.od.longe.cilindrico<-8||e.campos.prescricao.dioptria.od.longe.cilindrico>0,avisoRotulo:"Cilindrico está fora do comum '0 a -8'.",min:"-10",max:"10",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},model:{value:e.campos.prescricao.dioptria.od.longe.cilindrico,callback:function(t){e.$set(e.campos.prescricao.dioptria.od.longe,"cilindrico",t)},expression:"campos.prescricao.dioptria.od.longe.cilindrico"}})],1),a("div",{staticClass:"col-3 "},[a("campo",{attrs:{readonly:0==e.campos.prescricao.dioptria.od.longe.cilindrico,disable:0==e.campos.prescricao.dioptria.od.longe.cilindrico,min:"0",max:"180",tipo:"decimal",decimals:"0"},model:{value:e.campos.prescricao.dioptria.od.longe.eixo,callback:function(t){e.$set(e.campos.prescricao.dioptria.od.longe,"eixo",t)},expression:"campos.prescricao.dioptria.od.longe.eixo"}})],1),a("div",{staticClass:"col-3 "},[a("campo",{attrs:{min:"0",tipo:"decimal",decimals:"2"},on:{blur:function(t){e.calcularDnpPerto("direito")}},model:{value:e.campos.prescricao.dioptria.od.longe.dnp,callback:function(t){e.$set(e.campos.prescricao.dioptria.od.longe,"dnp",t)},expression:"campos.prescricao.dioptria.od.longe.dnp"}})],1)])])],1),a("q-item",{staticStyle:{padding:"0"}},[a("q-item-side",[a("q-item-tile",[e._v("OE")])],1),a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[e.confirmaHabilitaPerto?e._e():a("div",{staticClass:"col-3"},[a("campo",{attrs:{min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},on:{input:e.calcularAE},model:{value:e.campos.prescricao.dioptria.oe.longe.esferico,callback:function(t){e.$set(e.campos.prescricao.dioptria.oe.longe,"esferico",t)},expression:"campos.prescricao.dioptria.oe.longe.esferico"}})],1),e.confirmaHabilitaPerto?e._e():a("div",{staticClass:"col-3"},[a("campo",{attrs:{aviso:e.campos.prescricao.dioptria.oe.longe.cilindrico<-8||e.campos.prescricao.dioptria.oe.longe.cilindrico>0,avisoRotulo:"Cilindrico está fora do comum '0 a -8'.",min:"-10",max:"10",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},model:{value:e.campos.prescricao.dioptria.oe.longe.cilindrico,callback:function(t){e.$set(e.campos.prescricao.dioptria.oe.longe,"cilindrico",t)},expression:"campos.prescricao.dioptria.oe.longe.cilindrico"}})],1),e.confirmaHabilitaPerto?e._e():a("div",{staticClass:"col-3"},[a("campo",{attrs:{readonly:0==e.campos.prescricao.dioptria.oe.longe.cilindrico,disable:0==e.campos.prescricao.dioptria.oe.longe.cilindrico,min:"0",max:"180",tipo:"decimal",decimals:"0"},model:{value:e.campos.prescricao.dioptria.oe.longe.eixo,callback:function(t){e.$set(e.campos.prescricao.dioptria.oe.longe,"eixo",t)},expression:"campos.prescricao.dioptria.oe.longe.eixo"}})],1),e.confirmaHabilitaPerto?e._e():a("div",{staticClass:"col-3"},[a("campo",{attrs:{min:"0",tipo:"decimal",decimals:"2"},on:{blur:function(t){e.calcularDnpPerto("esquerdo")}},model:{value:e.campos.prescricao.dioptria.oe.longe.dnp,callback:function(t){e.$set(e.campos.prescricao.dioptria.oe.longe,"dnp",t)},expression:"campos.prescricao.dioptria.oe.longe.dnp"}})],1)])])],1)],1),a("q-list",{staticClass:"col-12 col-lg-6",attrs:{"no-border":""}},[a("q-item",{staticStyle:{padding:"0"}},[a("q-item-side",[a("q-item-tile")],1),a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[e.confirmaHabilitaPerto?e._e():a("div",{staticClass:"col-6"},[a("div",{staticClass:"row"},[a("label",{staticStyle:{"font-size":"1.15rem"}},[e._v("Médio")]),a("campo",{attrs:{tipo:"logico"},on:{input:function(t){e.zerarCamposMedio(!0)}},model:{value:e.habilitaMedio,callback:function(t){e.habilitaMedio=t},expression:"habilitaMedio"}})],1)]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"row"},[a("label",{staticStyle:{"font-size":"1.15rem"}},[e._v("Perto")]),a("campo",{attrs:{tipo:"logico"},on:{input:e.zerarCamposLongeMedio},model:{value:e.habilitaPerto,callback:function(t){e.habilitaPerto=t},expression:"habilitaPerto"}})],1)])])])],1),a("q-item",{staticStyle:{padding:"0"}},[a("q-item-side",[a("q-item-tile")],1),a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[e.confirmaHabilitaPerto?e._e():a("div",{staticClass:"col"},[e.habilitaAE?e._e():a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[e._v("Adição")]),e.habilitaAE?a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[e._v("Esférico")]):e._e()]),e.confirmaHabilitaPerto?e._e():a("div",{staticClass:"col"},[a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[e._v("DNP")])]),e.confirmaHabilitaPerto?e._e():a("div",{staticClass:"col"},[e.habilitaAE?e._e():a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[e._v("Adição")]),e.habilitaAE?a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[e._v("Esférico")]):e._e()]),e.confirmaHabilitaPerto?a("div",{staticClass:"col"},[a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[e._v("Esférico")])]):e._e(),e.confirmaHabilitaPerto?a("div",{staticClass:"col"},[a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[e._v("Cilindrico")])]):e._e(),e.confirmaHabilitaPerto?a("div",{staticClass:"col"},[a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[e._v("Eixo")])]):e._e(),a("div",{staticClass:"col"},[a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[e._v("DNP")])])])])],1),a("q-item",{staticStyle:{padding:"0"}},[a("q-item-side",[a("q-item-tile",[e._v("OD")])],1),a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[e.confirmaHabilitaPerto?e._e():a("div",{staticClass:"col-3"},[e.habilitaAE?e._e():a("campo",{attrs:{readonly:!e.habilitaMedio,disable:!e.habilitaMedio,min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},on:{input:e.calcularAE},model:{value:e.campos.prescricao.dioptria.od.medio.adicao,callback:function(t){e.$set(e.campos.prescricao.dioptria.od.medio,"adicao",t)},expression:"campos.prescricao.dioptria.od.medio.adicao"}}),e.habilitaAE?a("campo",{attrs:{disable:!e.habilitaMedio,readonly:!e.habilitaMedio,min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},on:{input:e.calcularAE},model:{value:e.campos.prescricao.dioptria.od.medio.esferico,callback:function(t){e.$set(e.campos.prescricao.dioptria.od.medio,"esferico",t)},expression:"campos.prescricao.dioptria.od.medio.esferico"}}):e._e()],1),e.confirmaHabilitaPerto?e._e():a("div",{staticClass:"col-3"},[a("campo",{attrs:{disable:!e.habilitaMedio,readonly:!e.habilitaMedio,min:"0",tipo:"decimal",decimals:"2"},model:{value:e.campos.prescricao.dioptria.od.medio.dnp,callback:function(t){e.$set(e.campos.prescricao.dioptria.od.medio,"dnp",t)},expression:"campos.prescricao.dioptria.od.medio.dnp"}})],1),a("div",{staticClass:"col-3"},[e.habilitaAE||e.confirmaHabilitaPerto?e._e():a("campo",{attrs:{min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},on:{input:e.calcularAE,blur:function(t){e.calcularDnpPerto("direito")}},model:{value:e.campos.prescricao.dioptria.od.perto.adicao,callback:function(t){e.$set(e.campos.prescricao.dioptria.od.perto,"adicao",t)},expression:"campos.prescricao.dioptria.od.perto.adicao"}}),e.habilitaAE||e.confirmaHabilitaPerto?a("campo",{attrs:{min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},on:{input:e.calcularAE,blur:function(t){e.calcularDnpPerto("direito")}},model:{value:e.campos.prescricao.dioptria.od.perto.esferico,callback:function(t){e.$set(e.campos.prescricao.dioptria.od.perto,"esferico",t)},expression:"campos.prescricao.dioptria.od.perto.esferico"}}):e._e()],1),e.confirmaHabilitaPerto?a("div",{staticClass:"col-3"},[a("campo",{attrs:{aviso:e.campos.prescricao.dioptria.od.perto.cilindrico<-8||e.campos.prescricao.dioptria.od.perto.cilindrico>0,avisoRotulo:"Cilindrico está fora do comum '0 a -8'.",min:"-10",max:"10",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},model:{value:e.campos.prescricao.dioptria.od.perto.cilindrico,callback:function(t){e.$set(e.campos.prescricao.dioptria.od.perto,"cilindrico",t)},expression:"campos.prescricao.dioptria.od.perto.cilindrico"}})],1):e._e(),e.confirmaHabilitaPerto?a("div",{staticClass:"col-3"},[a("campo",{attrs:{readonly:0==e.campos.prescricao.dioptria.od.perto.cilindrico,disable:0==e.campos.prescricao.dioptria.od.perto.cilindrico,min:"0",max:"180",tipo:"decimal",decimals:"0"},model:{value:e.campos.prescricao.dioptria.od.perto.eixo,callback:function(t){e.$set(e.campos.prescricao.dioptria.od.perto,"eixo",t)},expression:"campos.prescricao.dioptria.od.perto.eixo"}})],1):e._e(),a("div",{staticClass:"col-3"},[a("campo",{attrs:{min:"0",tipo:"decimal",decimals:"2"},model:{value:e.campos.prescricao.dioptria.od.perto.dnp,callback:function(t){e.$set(e.campos.prescricao.dioptria.od.perto,"dnp",t)},expression:"campos.prescricao.dioptria.od.perto.dnp"}})],1)])])],1),a("q-item",{staticStyle:{padding:"0"}},[a("q-item-side",[a("q-item-tile",[e._v("OE")])],1),a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[e.confirmaHabilitaPerto?e._e():a("div",{staticClass:"col-3"},[e.habilitaAE?e._e():a("campo",{attrs:{disable:!e.habilitaMedio,readonly:!e.habilitaMedio,min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},on:{input:e.calcularAE},model:{value:e.campos.prescricao.dioptria.oe.medio.adicao,callback:function(t){e.$set(e.campos.prescricao.dioptria.oe.medio,"adicao",t)},expression:"campos.prescricao.dioptria.oe.medio.adicao"}}),e.habilitaAE?a("campo",{attrs:{disable:!e.habilitaMedio,readonly:!e.habilitaMedio,min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},on:{input:e.calcularAE},model:{value:e.campos.prescricao.dioptria.oe.medio.esferico,callback:function(t){e.$set(e.campos.prescricao.dioptria.oe.medio,"esferico",t)},expression:"campos.prescricao.dioptria.oe.medio.esferico"}}):e._e()],1),e.confirmaHabilitaPerto?e._e():a("div",{staticClass:"col-3"},[a("campo",{attrs:{disable:!e.habilitaMedio,readonly:!e.habilitaMedio,min:"0",tipo:"decimal",decimals:"2"},model:{value:e.campos.prescricao.dioptria.oe.medio.dnp,callback:function(t){e.$set(e.campos.prescricao.dioptria.oe.medio,"dnp",t)},expression:"campos.prescricao.dioptria.oe.medio.dnp"}})],1),a("div",{staticClass:"col-3"},[e.habilitaAE||e.confirmaHabilitaPerto?e._e():a("campo",{attrs:{min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},on:{input:e.calcularAE,blur:function(t){e.calcularDnpPerto("esquerdo")}},model:{value:e.campos.prescricao.dioptria.oe.perto.adicao,callback:function(t){e.$set(e.campos.prescricao.dioptria.oe.perto,"adicao",t)},expression:"campos.prescricao.dioptria.oe.perto.adicao"}}),e.habilitaAE||e.confirmaHabilitaPerto?a("campo",{attrs:{min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},on:{input:e.calcularAE,blur:function(t){e.calcularDnpPerto("esquerdo")}},model:{value:e.campos.prescricao.dioptria.oe.perto.esferico,callback:function(t){e.$set(e.campos.prescricao.dioptria.oe.perto,"esferico",t)},expression:"campos.prescricao.dioptria.oe.perto.esferico"}}):e._e()],1),e.confirmaHabilitaPerto?a("div",{staticClass:"col-3"},[a("campo",{attrs:{aviso:e.campos.prescricao.dioptria.oe.perto.cilindrico<-8||e.campos.prescricao.dioptria.oe.perto.cilindrico>0,avisoRotulo:"Cilindrico está fora do comum '0 a -8'.",min:"-10",max:"10",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},model:{value:e.campos.prescricao.dioptria.oe.perto.cilindrico,callback:function(t){e.$set(e.campos.prescricao.dioptria.oe.perto,"cilindrico",t)},expression:"campos.prescricao.dioptria.oe.perto.cilindrico"}})],1):e._e(),e.confirmaHabilitaPerto?a("div",{staticClass:"col-3"},[a("campo",{attrs:{readonly:0==e.campos.prescricao.dioptria.oe.perto.cilindrico,disable:0==e.campos.prescricao.dioptria.oe.perto.cilindrico,min:"0",max:"180",tipo:"decimal",decimals:"0"},model:{value:e.campos.prescricao.dioptria.oe.perto.eixo,callback:function(t){e.$set(e.campos.prescricao.dioptria.oe.perto,"eixo",t)},expression:"campos.prescricao.dioptria.oe.perto.eixo"}})],1):e._e(),a("div",{staticClass:"col-3"},[a("campo",{attrs:{min:"0",tipo:"decimal",decimals:"2"},model:{value:e.campos.prescricao.dioptria.oe.perto.dnp,callback:function(t){e.$set(e.campos.prescricao.dioptria.oe.perto,"dnp",t)},expression:"campos.prescricao.dioptria.oe.perto.dnp"}})],1)])])],1)],1)],1)],1)],1),a("div",{staticClass:"row gutter-x-sm",staticStyle:{padding:"0 24px"}},[a("q-btn",{staticClass:"no-shadow",attrs:{color:"primary",icon:"redo",label:"Copiar OD > OE"},on:{click:e.copiarODDioptria}}),e.confirmaHabilitaPerto?e._e():a("campo",{attrs:{rotulo:"Adição / Esférico",tipo:"logico"},model:{value:e.habilitaAE,callback:function(t){e.habilitaAE=t},expression:"habilitaAE"}})],1)],1),a("q-tab-pane",{staticClass:"bg-white row text-center",attrs:{name:"prisma"}},[a("q-list",{staticStyle:{width:"100%"},attrs:{"no-border":""}},[a("q-item",[a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12 col-md-auto text-right ",staticStyle:{"padding-top":"26px"}},[e._v("\n                            OD\n                          ")]),a("div",{staticClass:"col"},[a("campo",{attrs:{rotulo:"Prisma",min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2"},model:{value:e.campos.prescricao.prisma.od.valor,callback:function(t){e.$set(e.campos.prescricao.prisma.od,"valor",t)},expression:"campos.prescricao.prisma.od.valor"}})],1),a("div",{staticClass:"col"},[a("campo",{attrs:{rotulo:"Base",tipo:"seletor",opcoes:["Nasal","Temporal","Superior","Inferior"]},model:{value:e.campos.prescricao.prisma.od.base,callback:function(t){e.$set(e.campos.prescricao.prisma.od,"base",t)},expression:"campos.prescricao.prisma.od.base"}})],1)])])],1),a("q-item",[a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12 col-md-auto text-right ",staticStyle:{"padding-top":"26px"}},[e._v("\n                            OE\n                          ")]),a("div",{staticClass:"col"},[a("campo",{attrs:{rotulo:"Prisma",min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2"},model:{value:e.campos.prescricao.prisma.oe.valor,callback:function(t){e.$set(e.campos.prescricao.prisma.oe,"valor",t)},expression:"campos.prescricao.prisma.oe.valor"}})],1),a("div",{staticClass:"col"},[a("campo",{attrs:{rotulo:"Base",tipo:"seletor",opcoes:["Nasal","Temporal","Superior","Inferior"]},model:{value:e.campos.prescricao.prisma.oe.base,callback:function(t){e.$set(e.campos.prescricao.prisma.oe,"base",t)},expression:"campos.prescricao.prisma.oe.base"}})],1)])])],1)],1),a("div",{staticClass:"row gutter-x-sm",staticStyle:{padding:"0 24px"}},[a("q-btn",{staticClass:"no-shadow",attrs:{color:"primary",icon:"redo",label:"Copiar OD > OE"},on:{click:e.copiarODPrisma}})],1)],1)],1)],1)])],1)])],1)]),a("contato-criar",{attrs:{"cpf-cnpj":"","data-nascimento":"","msg-erro":"Ocorreu um erro ao incluir o paciente.","msg-sucesso":"Paciente incluído com sucesso.",titulo:"Incluir Paciente",observacao:""},on:{pronto:e.criarDependencia},model:{value:e.modalDependente,callback:function(t){e.modalDependente=t},expression:"modalDependente"}}),a("contato-criar",{attrs:{"msg-erro":"Ocorreu um erro ao incluir o médico.","msg-sucesso":"Médico incluído com sucesso.",numeroDocumentoMunicipal:"CRM",titulo:"Incluir Médico"},on:{pronto:e.criarMedico},model:{value:e.modalMedico,callback:function(t){e.modalMedico=t},expression:"modalMedico"}}),a("prompt-codigo-barras",{on:{escanear:e.escanearQrCode},model:{value:e.modalQrCode,callback:function(t){e.modalQrCode=t},expression:"modalQrCode"}})],1)},ph=[];mh._withStripped=!0;var vh={components:{Campo:Sl,ContatoCriar:uh,PromptCodigoBarras:al},data:function(){return{abaSelecionada:"dioptria",campos:{id:"",idEmpresa:"",paciente:{id:"",nome:""},medico:{id:"",nome:""},data:null,validade:null,observacoes:"",prescricao:{dioptria:{od:{longe:{cilindrico:0,dnp:0,eixo:0,esferico:0,id:"",operacao:"",status:""},medio:{adicao:0,cilindrico:0,dnp:0,eixo:0,esferico:0,id:"",operacao:"",status:""},perto:{adicao:0,cilindrico:0,dnp:0,eixo:0,esferico:0,id:"",operacao:"",status:""}},oe:{longe:{cilindrico:0,dnp:0,eixo:0,esferico:0,id:"",operacao:"",status:""},medio:{adicao:0,cilindrico:0,dnp:0,eixo:0,esferico:0,id:"",operacao:"",status:""},perto:{adicao:0,cilindrico:0,dnp:0,eixo:0,esferico:0,id:"",operacao:"",status:""}}},prisma:{od:{base:"",valor:0},oe:{base:"",valor:0}}}},receitaOriginal:{},confirmaHabilitaPerto:!1,habilitaAE:!1,habilitaMedio:!1,habilitaPerto:!1,modalDependente:!1,modalMedico:!1,odLongeEsferico:0,odMedioAdicao:0,odMedioEsferico:0,odPertoAdicao:0,odPertoEsferico:0,oeLongeEsferico:0,oeMedioAdicao:0,oeMedioEsferico:0,oePertoAdicao:0,oePertoEsferico:0,pacientes:[{label:"",value:""}]}},methods:{voltar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=ga(this.receitaOriginal,this.campos),Object.keys(t).length){e.next=4;break}return this.$emit("input",!1),e.abrupt("return");case 4:return e.prev=4,e.next=7,this.$q.dialog({cancel:"Cancelar",message:"As alterações não serão salvas.",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 7:this.$emit("input",!1),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](4);case 12:case"end":return e.stop()}},e,this,[[4,10]])}));return function(){return e.apply(this,arguments)}}(),abrirModalDependente:function(){this.modalDependente=!0},abrirModalMedico:function(){this.modalMedico=!0},aoCopiarODOE:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$q.dialog({cancel:"Cancelar",message:"Esta ação irá sobrescrever os dados do olho esquerdo.",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 3:t(),e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),alterarPaciente:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.contato.le({id:this.campos.paciente.id});case 2:this.campos.paciente.nome=e.sent.nome;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.receita.le({id:this.id});case 2:return t=e.sent,this.campos=t,this.receitaOriginal=Yt(t),this.campos.idEmpresa||(this.campos.idEmpresa=this.idEmpresa),a=!1,(this.campos.prescricao.dioptria.od.longe.esferico||this.campos.prescricao.dioptria.od.longe.cilindrico||this.campos.prescricao.dioptria.od.longe.eixo||this.campos.prescricao.dioptria.od.longe.dnp||this.campos.prescricao.dioptria.oe.longe.esferico||this.campos.prescricao.dioptria.oe.longe.cilindrico||this.campos.prescricao.dioptria.oe.longe.eixo||this.campos.prescricao.dioptria.oe.longe.dnp)&&(a=!0),(this.campos.prescricao.dioptria.od.medio.esferico||this.campos.prescricao.dioptria.od.medio.adicao||this.campos.prescricao.dioptria.od.medio.dnp||this.campos.prescricao.dioptria.oe.medio.esferico||this.campos.prescricao.dioptria.oe.medio.adicao||this.campos.prescricao.dioptria.oe.medio.dnp)&&(this.habilitaMedio=!0),!a&&(this.campos.prescricao.dioptria.od.perto.cilindrico||this.campos.prescricao.dioptria.od.perto.eixo||this.campos.prescricao.dioptria.oe.perto.cilindrico||this.campos.prescricao.dioptria.oe.perto.eixo)&&(this.confirmaHabilitaPerto=this.habilitaPerto=!0),this.odLongeEsferico=this.campos.prescricao.dioptria.od.longe.esferico,this.oeLongeEsferico=this.campos.prescricao.dioptria.oe.longe.esferico,this.odMedioAdicao=this.campos.prescricao.dioptria.od.medio.adicao,this.oeMedioAdicao=this.campos.prescricao.dioptria.oe.medio.adicao,this.odMedioEsferico=this.campos.prescricao.dioptria.od.medio.esferico,this.oeMedioEsferico=this.campos.prescricao.dioptria.oe.medio.esferico,this.odPertoAdicao=this.campos.prescricao.dioptria.od.perto.adicao,this.oePertoAdicao=this.campos.prescricao.dioptria.oe.perto.adicao,this.odPertoEsferico=this.campos.prescricao.dioptria.od.perto.esferico,this.oePertoEsferico=this.campos.prescricao.dioptria.oe.perto.esferico,e.next=22,Zn.contato.leFilhos(Zn.contato.selecionado.id);case 22:for(o=e.sent,o.push(Zn.contato.selecionado),i=[],r=!0,s=!1,n=void 0,e.prev=28,c=o[Symbol.iterator]();!(r=(l=c.next()).done);r=!0)d=l.value,i.push({label:d.nome,value:d.id});e.next=36;break;case 32:e.prev=32,e.t0=e["catch"](28),s=!0,n=e.t0;case 36:e.prev=36,e.prev=37,r||null==c.return||c.return();case 39:if(e.prev=39,!s){e.next=42;break}throw n;case 42:return e.finish(39);case 43:return e.finish(36);case 44:this.pacientes=Object(ot["orderBy"])(i,"label");case 45:case"end":return e.stop()}},e,this,[[28,32,36,44],[37,,39,43]])}));return function(){return e.apply(this,arguments)}}(),atualizarValidade:function(){this.campos.data&&(this.campos.validade=At["d"].formatDate(At["d"].addToDate(new Date(this.campos.data),{year:1})))},buscarMedicos:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.contatoBusca.filtrar(t,{ativo:!0,medicos:!0},10);case 2:o=e.sent,a(o.map(function(e){return{label:e.nome,sublabel:e.numeroDocumentoMunicipal?"CRM: ".concat(e.numeroDocumentoMunicipal):"",value:e.id}}));case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),eventoInput:function(e){this.$emit("input",e)},calcularAE:function(){var e=this.campos.prescricao.dioptria.od.longe.esferico,t=this.campos.prescricao.dioptria.oe.longe.esferico;if(this.habilitaMedio){var a=this.campos.prescricao.dioptria.od.medio.adicao,o=this.campos.prescricao.dioptria.od.medio.esferico;a===this.odMedioAdicao&&o===this.odMedioEsferico&&(e===this.odLongeEsferico||0===a&&0===o)||(this.habilitaAE?a=o-e:o=e+a,this.odLongeEsferico=this.campos.prescricao.dioptria.od.longe.esferico=e,this.odMedioAdicao=this.campos.prescricao.dioptria.od.medio.adicao=a,this.odMedioEsferico=this.campos.prescricao.dioptria.od.medio.esferico=o);var i=this.campos.prescricao.dioptria.oe.medio.adicao,r=this.campos.prescricao.dioptria.oe.medio.esferico;i===this.oeMedioAdicao&&r===this.oeMedioEsferico&&(t===this.oeLongeEsferico||0===i&&0===r)||(this.habilitaAE?i=r-t:r=t+i,this.oeLongeEsferico=this.campos.prescricao.dioptria.oe.longe.esferico=t,this.oeMedioAdicao=this.campos.prescricao.dioptria.oe.medio.adicao=i,this.oeMedioEsferico=this.campos.prescricao.dioptria.oe.medio.esferico=r)}if(!this.habilitaPerto){var s=this.campos.prescricao.dioptria.od.perto.adicao,n=this.campos.prescricao.dioptria.od.perto.esferico;s===this.odPertoAdicao&&n===this.odPertoEsferico&&(e===this.odLongeEsferico||0===s&&0===n)||(this.habilitaAE?s=n-e:n=e+s,this.odLongeEsferico=this.campos.prescricao.dioptria.od.longe.esferico=e,this.odPertoAdicao=this.campos.prescricao.dioptria.od.perto.adicao=s,this.odPertoEsferico=this.campos.prescricao.dioptria.od.perto.esferico=n);var c=this.campos.prescricao.dioptria.oe.perto.adicao,l=this.campos.prescricao.dioptria.oe.perto.esferico;c===this.oePertoAdicao&&l===this.oePertoEsferico&&(t===this.oeLongeEsferico||0===c&&0===l)||(this.habilitaAE?c=l-t:l=t+c,this.oeLongeEsferico=this.campos.prescricao.dioptria.oe.longe.esferico=t,this.oePertoAdicao=this.campos.prescricao.dioptria.oe.perto.adicao=c,this.oePertoEsferico=this.campos.prescricao.dioptria.oe.perto.esferico=l)}},copiarODDioptria:function(){var e=this;this.aoCopiarODOE(function(){e.campos.prescricao.dioptria.oe.longe.cilindrico=e.campos.prescricao.dioptria.od.longe.cilindrico,e.campos.prescricao.dioptria.oe.longe.dnp=e.campos.prescricao.dioptria.od.longe.dnp,e.campos.prescricao.dioptria.oe.longe.eixo=e.campos.prescricao.dioptria.od.longe.eixo,e.campos.prescricao.dioptria.oe.longe.esferico=e.campos.prescricao.dioptria.od.longe.esferico,e.campos.prescricao.dioptria.oe.medio.adicao=e.campos.prescricao.dioptria.od.medio.adicao,e.campos.prescricao.dioptria.oe.medio.dnp=e.campos.prescricao.dioptria.od.medio.dnp,e.campos.prescricao.dioptria.oe.medio.esferico=e.campos.prescricao.dioptria.od.medio.esferico,e.campos.prescricao.dioptria.oe.medio.cilindrico=e.campos.prescricao.dioptria.od.medio.cilindrico,e.campos.prescricao.dioptria.oe.medio.eixo=e.campos.prescricao.dioptria.od.medio.eixo,e.campos.prescricao.dioptria.oe.perto.adicao=e.campos.prescricao.dioptria.od.perto.adicao,e.campos.prescricao.dioptria.oe.perto.cilindrico=e.campos.prescricao.dioptria.od.perto.cilindrico,e.campos.prescricao.dioptria.oe.perto.dnp=e.campos.prescricao.dioptria.od.perto.dnp,e.campos.prescricao.dioptria.oe.perto.eixo=e.campos.prescricao.dioptria.od.perto.eixo,e.campos.prescricao.dioptria.oe.perto.esferico=e.campos.prescricao.dioptria.od.perto.esferico})},copiarODPrisma:function(){var e=this;this.aoCopiarODOE(function(){e.campos.prescricao.prisma.oe=Yt(e.campos.prescricao.prisma.od)})},criarDependencia:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zn.contato.criarDependenciaContatos({contatoPai:Zn.contato.selecionado,contatoFilho:t});case 3:return e.next=5,Zn.contatoBusca.reindexar(Zn.contato.selecionado.id);case 5:return e.next=7,Zn.contatoBusca.reindexar(t.id);case 7:this.campos.paciente.id=t.id,this.campos.paciente.nome=t.nome,a=la()(this.pacientes),a.push({label:t.nome,value:t.id}),this.pacientes=Object(ot["orderBy"])(a,"label"),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),this.$q.notifyError("Ocorreu um erro ao criar a dependência.",e.t0);case 17:case"end":return e.stop()}},e,this,[[0,14]])}));return function(t){return e.apply(this,arguments)}}(),criarMedico:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zn.contato.criarContatoGrupo({idContato:t.id,descricaoGrupo:"Médico"});case 3:return e.next=5,Zn.contatoBusca.reindexar(t.id);case 5:this.campos.medico.id=t.id,this.campos.medico.nome=t.nome,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),this.$q.notifyError("Ocorreu um erro ao adicionar o contato ao grupo Médico.",e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),medicoSelecionado:function(e){this.campos.medico.id=e.value,this.campos.medico.nome=e.label},salvarReceita:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.campos.data&&this.campos.validade){e.next=3;break}return this.$q.notifyError("Preencha o período."),e.abrupt("return");case 3:if(t=(new Date).setHours(0,0,0,0),a=new Date(this.campos.data).setHours(0,0,0,0),!(a>t)){e.next=8;break}return this.$q.notifyError("Data da receita não pode ser maior que hoje."),e.abrupt("return");case 8:if(this.campos.medico.id&&this.campos.medico.nome){e.next=11;break}return this.$q.notifyError("Selecione o médico."),e.abrupt("return");case 11:if(this.campos.paciente.id&&this.campos.paciente.nome){e.next=14;break}return this.$q.notifyError("Selecione o paciente."),e.abrupt("return");case 14:return o="Receita salva com sucesso.",i="Ocorreu um erro ao salvar a receita.",this.duplicarReceita&&(this.campos.id=hi(),this.campos.medico.idDocumentoContato=hi(),this.campos.prescricao.dioptria.od.longe.id=hi(),this.campos.prescricao.dioptria.od.medio.id=hi(),this.campos.prescricao.dioptria.od.perto.id=hi(),this.campos.prescricao.dioptria.oe.longe.id=hi(),this.campos.prescricao.dioptria.oe.medio.id=hi(),this.campos.prescricao.dioptria.oe.perto.id=hi(),delete this.campos.dadosOriginais,o="Receita duplicada com sucesso.",i="Ocorreu um erro ao duplicar a receita."),e.prev=17,this.$q.loading.show({delay:500,message:"Salvando a receita"}),e.next=21,Zn.receita.grava(this.campos);case 21:this.$q.loading.hide(),this.$q.notifyPositive(o),e.next=28;break;case 25:e.prev=25,e.t0=e["catch"](17),this.$q.notifyError(i,e.t0);case 28:this.$emit("atualizar"),this.$emit("input",!1);case 30:case"end":return e.stop()}},e,this,[[17,25]])}));return function(){return e.apply(this,arguments)}}(),zerarCamposLongeMedio:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.zerarCamposMedio(!1);case 2:o.campos.prescricao.dioptria.od.longe.esferico=0,o.campos.prescricao.dioptria.od.longe.cilindrico=0,o.campos.prescricao.dioptria.od.longe.eixo=0,o.campos.prescricao.dioptria.od.longe.dnp=0,o.campos.prescricao.dioptria.od.perto.adicao=0,o.campos.prescricao.dioptria.od.perto.esferico=0,o.campos.prescricao.dioptria.od.perto.dnp=0,o.campos.prescricao.dioptria.od.perto.cilindrico=0,o.campos.prescricao.dioptria.od.perto.eixo=0,o.campos.prescricao.dioptria.oe.longe.esferico=0,o.campos.prescricao.dioptria.oe.longe.cilindrico=0,o.campos.prescricao.dioptria.oe.longe.eixo=0,o.campos.prescricao.dioptria.oe.longe.dnp=0,o.campos.prescricao.dioptria.oe.perto.adicao=0,o.campos.prescricao.dioptria.oe.perto.esferico=0,o.campos.prescricao.dioptria.oe.perto.dnp=0,o.campos.prescricao.dioptria.oe.perto.cilindrico=0,o.campos.prescricao.dioptria.oe.perto.eixo=0;case 20:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),a=!1,a=this.habilitaPerto?this.campos.prescricao.dioptria.od.longe.esferico||this.campos.prescricao.dioptria.od.longe.cilindrico||this.campos.prescricao.dioptria.od.longe.eixo||this.campos.prescricao.dioptria.od.longe.dnp||this.campos.prescricao.dioptria.od.medio.adicao||this.campos.prescricao.dioptria.od.medio.esferico||this.campos.prescricao.dioptria.od.medio.dnp||this.campos.prescricao.dioptria.od.perto.adicao||this.campos.prescricao.dioptria.od.perto.esferico||this.campos.prescricao.dioptria.od.perto.dnp||this.campos.prescricao.dioptria.oe.longe.esferico||this.campos.prescricao.dioptria.oe.longe.cilindrico||this.campos.prescricao.dioptria.oe.longe.eixo||this.campos.prescricao.dioptria.oe.longe.dnp||this.campos.prescricao.dioptria.oe.medio.adicao||this.campos.prescricao.dioptria.oe.medio.esferico||this.campos.prescricao.dioptria.oe.medio.dnp||this.campos.prescricao.dioptria.oe.perto.adicao||this.campos.prescricao.dioptria.oe.perto.esferico||this.campos.prescricao.dioptria.oe.perto.dnp:this.campos.prescricao.dioptria.od.perto.esferico||this.campos.prescricao.dioptria.od.perto.dnp||this.campos.prescricao.dioptria.od.perto.cilindrico||this.campos.prescricao.dioptria.od.perto.eixo||this.campos.prescricao.dioptria.oe.perto.esferico||this.campos.prescricao.dioptria.oe.perto.dnp||this.campos.prescricao.dioptria.oe.perto.cilindrico||this.campos.prescricao.dioptria.oe.perto.eixo,!a){e.next=18;break}return e.prev=4,e.next=7,this.$q.dialog({cancel:"Cancelar",message:"Ao continuar os dados serão perdidos.",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 7:return e.next=9,t();case 9:this.habilitaMedio=!1,this.habilitaAE=!1,e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](4),this.habilitaPerto=!this.habilitaPerto;case 16:e.next=20;break;case 18:this.habilitaMedio=!1,this.habilitaAE=!1;case 20:this.confirmaHabilitaPerto=this.habilitaPerto;case 21:case"end":return e.stop()}},e,this,[[4,13]])}));return function(){return e.apply(this,arguments)}}(),zerarCamposMedio:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=function(){i.odMedioAdicao=i.campos.prescricao.dioptria.od.medio.adicao=0,i.odMedioEsferico=i.campos.prescricao.dioptria.od.medio.esferico=0,i.campos.prescricao.dioptria.od.medio.dnp=0,i.oeMedioAdicao=i.campos.prescricao.dioptria.oe.medio.adicao=0,i.oeMedioEsferico=i.campos.prescricao.dioptria.oe.medio.esferico=0,i.campos.prescricao.dioptria.oe.medio.dnp=0,i.campos.prescricao.dioptria.od.medio.cilindrico=0,i.campos.prescricao.dioptria.od.medio.eixo=0,i.campos.prescricao.dioptria.oe.medio.cilindrico=0,i.campos.prescricao.dioptria.oe.medio.eixo=0},!t){e.next=15;break}if(o=this.campos.prescricao.dioptria.od.medio.adicao||this.campos.prescricao.dioptria.od.medio.esferico||this.campos.prescricao.dioptria.od.medio.dnp||this.campos.prescricao.dioptria.oe.medio.adicao||this.campos.prescricao.dioptria.oe.medio.esferico||this.campos.prescricao.dioptria.oe.medio.dnp,!o){e.next=13;break}return e.prev=4,e.next=7,this.$q.dialog({cancel:"Cancelar",message:"Ao continuar os dados serão perdidos.",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 7:a(),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](4),this.habilitaMedio=!this.habilitaMedio;case 13:e.next=16;break;case 15:a();case 16:case"end":return e.stop()}},e,this,[[4,10]])}));return function(t){return e.apply(this,arguments)}}(),calcularDnpPerto:function(e){if("direito"===e){var t=(this.campos.prescricao.dioptria.od.perto.adicao||this.campos.prescricao.dioptria.od.perto.esferico)&&!this.campos.prescricao.dioptria.od.perto.dnp,a=this.campos.prescricao.dioptria.od.longe.dnp;ja(a)&&0!==a&&t&&(this.campos.prescricao.dioptria.od.perto.dnp=a-1.5)}if("esquerdo"===e){var o=(this.campos.prescricao.dioptria.oe.perto.adicao||this.campos.prescricao.dioptria.oe.perto.esferico)&&!this.campos.prescricao.dioptria.oe.perto.dnp,i=this.campos.prescricao.dioptria.oe.longe.dnp;ja(i)&&0!==i&&o&&(this.campos.prescricao.dioptria.oe.perto.dnp=i-1.5)}}},mixins:[Nl],props:{duplicarReceita:{default:!1,required:!0,type:Boolean},id:{default:"",required:!0,type:String},idEmpresa:{default:"",required:!0,type:String},value:{default:!1,required:!0,type:Boolean}},watch:{value:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.abaSelecionada="dioptria",this.habilitaAE=!1,this.habilitaMedio=!1,this.habilitaPerto=this.confirmaHabilitaPerto=!1,!t){e.next=9;break}return this.$q.loading.show({delay:500,message:"Carregando a receita"}),e.next=8,this.atualizar();case 8:this.$q.loading.hide();case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}},hh=vh,fh=Object(sc["a"])(hh,mh,ph,!1,null,null,null);fh.options.__file="Receita.vue";var Ch=fh.exports,bh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["TirarFoto"===e.tela?a("tirar-foto",{on:{mudarTela:e.mudarTela,upload:e.upload}}):e._e(),a("tamanho-foto",{directives:[{name:"show",rawName:"v-show",value:"TamanhoFoto"===e.tela,expression:"tela==='TamanhoFoto'"}],ref:"TamanhoFoto",on:{mudarTela:e.mudarTela}}),a("tamanho-armacao",{directives:[{name:"show",rawName:"v-show",value:"TamanhoArmacao"===e.tela,expression:"tela==='TamanhoArmacao'"}],ref:"TamanhoArmacao",on:{mudarTela:e.mudarTela}}),a("olho",{directives:[{name:"show",rawName:"v-show",value:"Olho"===e.tela,expression:"tela==='Olho'"}],ref:"Olho",on:{mudarTela:e.mudarTela}}),a("diagonal",{directives:[{name:"show",rawName:"v-show",value:"Diagonal"===e.tela,expression:"tela==='Diagonal'"}],on:{mudarTela:e.mudarTela}}),a("bifocal",{directives:[{name:"show",rawName:"v-show",value:"Bifocal"===e.tela,expression:"tela==='Bifocal'"}],on:{mudarTela:e.mudarTela}}),a("medidas",{directives:[{name:"show",rawName:"v-show",value:"Medidas"===e.tela,expression:"tela==='Medidas'"}],ref:"Medidas",attrs:{somenteLeitura:e.somenteLeitura},on:{mudarTela:e.mudarTela}}),a("palpebra",{directives:[{name:"show",rawName:"v-show",value:"Palpebra"===e.tela,expression:"tela==='Palpebra'"}],ref:"Palpebra",on:{mudarTela:e.mudarTela}})],1)},gh=[];bh._withStripped=!0;var xh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-toolbar",{attrs:{color:"primary"}},[a("q-toolbar-title",[e._v("Tirar Foto")]),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_rewind"},on:{click:function(t){e.$emit("mudarTela","Fim")}}}),e.temFoto?a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_forward"},nativeOn:{click:function(t){return e.avancar(t)}}}):e._e()],1),a("div",{staticClass:"container"},[a("div",{staticClass:"texto"},[e._v("\n      "+e._s(e.capabilities.height?e.capabilities.height.max:"")+"x"+e._s(e.capabilities.width?e.capabilities.width.max:"")+"\n      ")]),a("video",{staticClass:"Video",attrs:{id:"Foto"}}),a("q-slider",{ref:"horizontal",staticClass:"SensorHorizontal",attrs:{color:e.sensorHorizontalCor,min:-90,max:90},model:{value:e.sensor.horizontal,callback:function(t){e.$set(e.sensor,"horizontal",t)},expression:"sensor.horizontal"}}),a("q-icon",{staticClass:"remove_red_eye",attrs:{name:"remove_red_eye",color:e.sensorHorizontalCor}}),a("q-slider",{ref:"vertical",staticClass:"SensorVertical",attrs:{color:e.sensorVerticalCor,min:63,max:180},model:{value:e.sensor.vertical,callback:function(t){e.$set(e.sensor,"vertical",t)},expression:"sensor.vertical"}})],1),a("q-btn",{staticClass:"BtUpload",attrs:{color:"primary",size:"md",round:"",icon:"attachment"},nativeOn:{click:function(t){return e.uploadClick(t)}}}),a("q-btn",{staticClass:"BtTrocarCamera",attrs:{color:"primary",size:"md",round:"",icon:"loop"},nativeOn:{click:function(t){return e.trocarCamera(t)}}}),a("q-btn",{ref:"BtFlash",staticClass:"BtFlash",attrs:{color:"primary",size:"md",round:"",icon:e.flashicon},nativeOn:{click:function(t){return e.flash(t)}}}),a("q-btn",{staticClass:"ZoomMais",attrs:{color:"primary",size:"md",round:"",icon:"zoom_in"},nativeOn:{click:function(t){e.zoomMais()}}}),a("q-btn",{staticClass:"ZoomMenos",attrs:{color:"primary",size:"md",round:"",icon:"zoom_out"},nativeOn:{click:function(t){e.zoomMenos()}}}),a("q-btn",{staticClass:"BtFoto",attrs:{color:"primary",size:"xl",round:"",icon:"camera"},nativeOn:{click:function(t){e.foto()}}})],1)},_h=[];xh._withStripped=!0;var qh={computed:{sensorHorizontalCor:function(){return this.sensor.horizontal<-10||this.sensor.horizontal>10?"red":"green"},sensorVerticalCor:function(){return this.sensor.vertical<85||this.sensor.vertical>95?"red":"green"},temFoto:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC"!==this.dbPupilometro.foto}},data:function(){return{dbPupilometro:Zn.pupilometro,sensor:{horizontal:0,vertical:90},zoom:1,camera:"environment",flashicon:"flash_off",orientation:{},capabilities:{}}},methods:{zoomMais:function(){try{this.zoom+=this.capabilities.zoom.step,this.zoom>this.capabilities.zoom.max&&(this.zoom=this.capabilities.zoom.max),this.track.applyConstraints({advanced:[{zoom:this.zoom}]})}catch(e){console.log("erro zoom + ",e)}},zoomMenos:function(){try{this.zoom-=this.capabilities.zoom.step,this.zoom<this.capabilities.zoom.min&&(this.zoom=this.capabilities.zoom.min),this.track.applyConstraints({advanced:[{zoom:this.zoom}]})}catch(e){console.log("erro zoom + ",e)}},uploadClick:function(){this.$emit("mudarTela","TamanhoFoto"),this.$emit("upload")},foto:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,"flash_auto"!==t.flashicon){e.next=5;break}return t.track.applyConstraints({advanced:[{torch:!0}]}),e.next=5,new Promise(function(e){return setTimeout(e,1e3)});case 5:t.imageCapture.takePhoto().then(function(e){var a=document.createElement("canvas"),o=a.getContext("2d"),i=new Image;i.onload=function(){a.width=i.naturalWidth,a.height=i.naturalHeight,o.drawImage(i,0,0,i.naturalWidth,i.naturalHeight),t.dbPupilometro.fotoOriginal=a.toDataURL()+"",t.$emit("mudarTela","TamanhoFoto"),"flash_auto"===t.flashicon&&t.track.applyConstraints({advanced:[{torch:!1}]})},i.src=URL.createObjectURL(e)}).catch(function(e){return console.error("takePhoto() failed: ",e)});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),flash:function(){switch(this.flashicon){case"flash_on":this.flashicon="flash_off",this.track.applyConstraints({advanced:[{torch:!1}]});break;case"flash_off":this.flashicon="flash_auto",this.track.applyConstraints({advanced:[{torch:!1}]});break;case"flash_auto":this.flashicon="flash_on",this.track.applyConstraints({advanced:[{torch:!0}]})}},avancar:function(){this.$emit("mudarTela","TamanhoFoto")},trocarCamera:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(t){return setTimeout(t,e)})},"user"===this.camera?this.camera="environment":this.camera="user",a={audio:!1,video:{facingMode:this.camera}},o=document.getElementById("Foto"),o){e.next=7;break}return e.next=7,new Promise(function(e){i.interval=setInterval(function(){o=document.getElementById("Foto"),o&&(clearInterval(i.interval),e())},10)});case 7:o.setAttribute("playsinline",""),o.setAttribute("autoplay",""),o.setAttribute("muted","");try{o.srcObject.getTracks().forEach(function(e){return e.stop()})}catch(e){}navigator.mediaDevices.getUserMedia(a).then(function(){var e=Le()(regeneratorRuntime.mark(function e(a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o.srcObject=a,e.next=3,t(1e3);case 3:i.track=a.getVideoTracks()[0],i.capabilities=i.track.getCapabilities(),r=i.track.getSettings(),i.zoom=r.zoom,i.imageCapture=new ImageCapture(i.track);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},mounted:function(){var e=this;try{window.DeviceOrientationEvent&&window.addEventListener("deviceorientation",function(t){var a=0,o=0;90===window.orientation&&(o=parseInt(t.gamma),o=o<0?-1*o:180-Math.abs(o),o<91?a=-1*parseInt(t.beta):(a=-1*parseInt(t.beta),a=a>0?180-a:Math.abs(a)-180)),-90===window.orientation&&(a=-1*parseInt(t.beta),o=parseInt(t.gamma),o=o<0?180+o:o,a=o<91?180===a?0:a:a>0?180-a:Math.abs(a)-180),0===window.orientation&&(o=parseInt(t.beta),a=o<91?-1*parseInt(t.gamma):parseInt(t.gamma)),a>90&&(a=90),a<-90&&(a=-90),e.sensor.horizontal!==a&&(e.sensor.horizontal=a);var i=e.sensor.horizontal<-10||e.sensor.horizontal>10?"red":"green";"red"===i&&(document.querySelector(".SensorHorizontal .q-slider-handle").style.visibility="visible"),"green"===i&&(document.querySelector(".SensorHorizontal .q-slider-handle").style.visibility="hidden"),o>180&&(o=180),o<63&&(o=63),e.sensor.vertical!==o&&(e.sensor.vertical=o),i=e.sensor.vertical<85||e.sensor.vertical>95?"red":"green","red"===i&&(document.querySelector(".SensorVertical .q-slider-handle").style.visibility="visible"),"green"===i&&(document.querySelector(".SensorVertical .q-slider-handle").style.visibility="hidden")},!1)}catch(e){}this.trocarCamera()},beforeDestroy:function(){this.track.stop(),clearInterval(this.interval)}},Sh=qh,Ih=(a("d5d7"),Object(sc["a"])(Sh,xh,_h,!1,null,"74e1fead",null));Ih.options.__file="Pupilometro01TirarFoto.vue";var Fh=Ih.exports,wh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"telaTamanhoFoto"}},[a("q-resize-observable",{on:{resize:e.redimensiona}}),a("img",{ref:"foto",staticClass:"Foto",attrs:{src:e.dbPupilometro.fotoOriginal}}),a("div",{ref:"quadro",staticClass:"quadro"}),a("q-toolbar",{attrs:{color:"primary"}},[a("q-toolbar-title",[e._v("Tratamento Foto")]),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_rewind"},nativeOn:{click:function(t){return e.btAnterior(t)}}}),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_forward"},nativeOn:{click:function(t){return e.btProximo(t)}}})],1),a("div",[1===e.tipoRosto?a("svg",{staticClass:"rosto",attrs:{viewBox:"0 0 300 420"}},[a("path",{attrs:{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M154.7,27.6c41,0,95.2,20.4,112.7,77.9c21,69.1,9.3,153.6-3,190.6c-11.5,34.6-62.2,96.4-122,96.4c-27.9,0-69.5-19-109.8-109.7c-11.4-25.6-21-128.4,6.3-195.2C62,30.8,130.2,27.9,143.7,27.9c0.8,0,1.3,0,1.4,0l0.6,0l0.6,0C148.9,27.7,151.7,27.6,154.7,27.6z"}})]):e._e(),2===e.tipoRosto?a("svg",{staticClass:"rosto",attrs:{viewBox:"0 0 300 420"}},[a("path",{attrs:{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M264.7,94.6C249.3,32.9,176.4,19,152,19l-1.1,0v0c-0.1,0-0.3,0-0.4,0l-0.5,0l-0.5,0c-0.1,0-0.3,0-0.4,0v0l-1.1,0c-24.3,0-97.2,13.9-112.6,75.6c-15.5,62-18.1,176.7,0.3,213.6c18.2,36.4,73.9,89.5,76.2,91.6l1.2,1.1l36,0.1v0l1,0l1,0v0l36-0.1l1.2-1.1c2.4-2.1,58-55.1,76.2-91.6C282.8,271.3,280.2,156.6,264.7,94.6z "}})]):e._e(),3===e.tipoRosto?a("svg",{staticClass:"rosto",attrs:{viewBox:"0 0 300 420"}},[a("path",{attrs:{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M289.8,214.2c-5.9-82.9-9.5-133-34.3-159.2C232.1,30.3,189.1,13.9,150,14.5C110.9,13.9,67.9,30.3,44.5,55c-24.8,26.2-28.4,76.2-34.3,159.2l-0.1,0.9l0.3,0.9C42.2,305.7,98.9,407,150,405.5c51.1,1.5,107.8-99.9,139.6-189.5l0.3-0.9L289.8,214.2z"}})]):e._e(),4===e.tipoRosto?a("svg",{staticClass:"btRosto",attrs:{viewBox:"0 0 300 420"}},[a("path",{attrs:{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M264.7,101C255,52.4,204.6,12.7,151,10.4v-0.1c-0.3,0-0.7,0-1,0c-0.3,0-0.7,0-1,0v0.1\n    C95.4,12.7,45,52.4,35.3,101c-7.4,37-6.8,100.2-6.3,150.9c0.1,11.9,0.2,23.2,0.2,33.5v0.6l0.2,0.6\n    c14.3,48.7,74.8,115.3,119.6,122.8v0.3c0.3,0,0.7-0.1,1-0.2c0.3,0,0.7,0.1,1,0.2v-0.3c44.8-7.5,105.3-74.1,119.6-122.8l0.2-0.6\n    v-0.6c0-10.2,0.1-21.5,0.2-33.5C271.5,201.2,272.1,138.1,264.7,101z"}})]):e._e(),5===e.tipoRosto?a("svg",{staticClass:"btRosto",attrs:{viewBox:"0 0 300 420"}},[a("path",{attrs:{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M280.7,173.8c-13.1-65.3-32.8-109.4-60.4-134.8c-24.7-22.7-51.4-25.6-70.3-25.3c-18.9-0.3-45.6,2.6-70.3,25.3c-27.6,25.3-47.3,69.4-60.4,134.8l-0.1,0.5l0,0.5c1.5,68.2,15.3,97.7,36.1,142.3l0.4,0.9c26.2,56.1,60,88.3,92.8,88.3c0.5,0,1,0,1.5,0c0.5,0,1,0,1.5,0c32.8,0,66.6-32.2,92.8-88.3l0.4-0.9c20.8-44.6,34.6-74.1,36.1-142.3l0-0.5L280.7,173.8z"}})]):e._e()]),a("q-btn",{staticClass:"ZoomMais",attrs:{"repeat-timeout":20,color:"primary",size:"md",round:"",icon:"zoom_in"},on:{click:function(t){e.zoomMais()}}}),a("q-btn",{staticClass:"ZoomMenos",attrs:{"repeat-timeout":20,color:"primary",size:"md",round:"",icon:"zoom_out"},on:{click:function(t){e.zoomMenos()}}}),a("q-btn",{staticClass:"BtUpload",attrs:{color:"primary",size:"md",round:"",icon:"attachment"},nativeOn:{click:function(t){return e.uploadClick(t)}}}),a("div",{directives:[{name:"touch-pan",rawName:"v-touch-pan.prevent",value:e.touch,expression:"touch",modifiers:{prevent:!0}}],staticClass:"ZonaTouch"}),a("div",{staticClass:"BaseBotoes"}),a("q-btn",{staticClass:"moveUp",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_up"},on:{click:e.moveUp}}),a("q-btn",{staticClass:"moveDown",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_down"},on:{click:e.moveDown}}),a("q-btn",{staticClass:"moveRight",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_right"},on:{click:e.moveRight}}),a("q-btn",{staticClass:"moveLeft",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_left"},on:{click:e.moveLeft}}),a("input",{ref:"Upload",staticStyle:{visibility:"hidden"},attrs:{type:"file",id:"Upload"},on:{change:e.abrirFoto}}),a("div",{staticClass:"btsTipoRosto"})],1)},yh=[];wh._withStripped=!0;var Nh={data:function(){return{dbPupilometro:Zn.pupilometro,foto:{},fotoFator:1,tipoRosto:1,sensor:{horizontal:0,vertical:0},zoom:100,pinca:{zoom:0,scaling:!1,width:0,height:0,top:0,left:0},distancia:{x1i:0,y1i:0,x2i:0,y2i:0,x1f:0,y1f:0,x2f:0,y2f:0,distanciaInicial:0,distanciaFinal:0},qtde:0}},watch:{"dbPupilometro.fotoOriginal":function(){this.mudaCentralizaFoto()}},methods:{touch:function(e){var t=this,a=this.$refs.foto,o=0;try{o=e.evt.touches.length}catch(e){}if(this.qtde=o,this.pinca.scaling||2!==o&&Math.abs(e.delta.x+e.delta.y)<=20&&(a.style.left=parseFloat(a.style.left)+e.delta.x+"px",a.style.top=parseFloat(a.style.top)+e.delta.y+"px"),!this.pinca.scaling&&2===o){var i=this.distancia;i.x1i=e.evt.touches[0].pageX,i.y1i=e.evt.touches[0].pageY,i.x2i=e.evt.touches[1].pageX,i.y2i=e.evt.touches[1].pageY,i.distanciaInicial=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.pinca.width=parseFloat(a.style.width),this.pinca.height=parseFloat(a.style.height),this.pinca.top=parseFloat(a.style.top),this.pinca.left=parseFloat(a.style.left),this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.pinca.scaling=!0,console.log("touchstart")}if(this.pinca.scaling&&0===o&&setTimeout(function(){t.pinca.scaling=!1},500),this.pinca.scaling&&2===o)try{var r=e.evt,s=Math.hypot(r.touches[0].pageX-r.touches[1].pageX,r.touches[0].pageY-r.touches[1].pageY)-this.pinca.zoom,n=this.$refs.foto;n.style.width=this.pinca.width+s+"px",n.style.height=this.pinca.height+s*this.fotoFator+"px",n.style.top=this.pinca.top-s/2*this.fotoFator+"px",n.style.left=this.pinca.left-s/2+"px"}catch(r){console.log(r)}},zoomMais:function(){var e=this.$refs.foto;e.style.width=parseFloat(e.style.width)+2+"px",e.style.height=parseFloat(e.style.height)+2*this.fotoFator+"px",e.style.top=parseFloat(e.style.top)-1*this.fotoFator+"px",e.style.left=parseFloat(e.style.left)-1+"px"},zoomMenos:function(){var e=this.$refs.foto;e.style.width=parseFloat(e.style.width)-2+"px",e.style.height=parseFloat(e.style.height)-2*this.fotoFator+"px",e.style.top=parseFloat(e.style.top)+1*this.fotoFator+"px",e.style.left=parseFloat(e.style.left)+1+"px"},moveUp:function(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)-1+"px"},moveDown:function(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)+1+"px"},moveRight:function(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)+1+"px"},moveLeft:function(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)-1+"px"},uploadClick:function(){this.$refs.Upload.click()},abrirFoto:function(e){var t=this,a=this.$refs.Upload.files;if(FileReader&&a&&a.length){var o=new FileReader;o.onload=function(){t.dbPupilometro.fotoOriginal=o.result},o.readAsDataURL(a[0])}},mudaCentralizaFoto:function(){var e=this.$refs.quadro,t={top:parseInt(e.style.top),left:parseInt(e.style.left),width:parseInt(e.style.width),height:parseInt(e.style.height)},a=this.$refs.foto,o=new Image,i=this;o.onload=function(){var e=o.width,r=o.height,s=1.001;s=o.width>o.height?t.width/o.height:t.width/o.width,e=parseInt(e*s),r=parseInt(r*s),a.style.top=(t.height-r)/2+t.top+"px",a.style.left=(t.width-e)/2+t.left+"px",a.style.width=e+"px",a.style.height=r+"px",i.fotoFator=o.height/o.width},o.src=this.dbPupilometro.fotoOriginal},btProximo:function(){var e=document.createElement("canvas"),t=e.getContext("2d"),a=this.$refs.foto;e.width=1200,e.height=1200;var o={left:parseFloat(this.$refs.foto.style.left),width:parseFloat(this.$refs.foto.style.width),top:parseFloat(this.$refs.foto.style.top),height:parseFloat(this.$refs.foto.style.height),naturalWidth:this.$refs.foto.naturalWidth,naturalHeight:this.$refs.foto.naturalHeight},i={left:parseFloat(this.$refs.quadro.style.left),width:parseFloat(this.$refs.quadro.style.width),top:parseFloat(this.$refs.quadro.style.top),height:parseFloat(this.$refs.quadro.style.height)},r={left:i.left-o.left,top:i.top-o.top};t.drawImage(a,r.left/o.width*o.naturalWidth,r.top/o.height*o.naturalHeight,i.width/o.width*o.naturalWidth,i.height/o.height*o.naturalHeight,0,0,1200,1200),this.dbPupilometro.foto=e.toDataURL()+"",this.$emit("mudarTela","TamanhoArmacao")},btAnterior:function(){this.$emit("mudarTela","TirarFoto")},redimensiona:function(){var e=this.$refs.quadro,t=document.body.clientWidth-20,a=document.body.clientHeight-100-20;e.style.height=t>a?a+"px":t+"px",e.style.width=e.style.height,e.style.top=(document.body.clientHeight-parseInt(e.style.height)-20)/2+"px",e.style.left=(document.body.clientWidth-parseInt(e.style.width))/2+"px";var o=document.getElementsByClassName("rosto"),i=!0,r=!1,s=void 0;try{for(var n,c=o[Symbol.iterator]();!(i=(n=c.next()).done);i=!0){var l=n.value;l.style.position="absolute",l.style.top=e.style.top,l.style.left=e.style.left,l.style.width=e.style.width,l.style.height=e.style.height}}catch(e){r=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw s}}}},mounted:function(){this.redimensiona()}},kh=Nh,Mh=(a("8ca5"),Object(sc["a"])(kh,wh,yh,!1,null,"512dd09a",null));Mh.options.__file="Pupilometro02TamanhoFoto.vue";var Ph=Mh.exports,Dh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-toolbar",{attrs:{color:"primary"}},[a("q-toolbar-title",[e._v("Tamanho Armação")]),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_rewind"},nativeOn:{click:function(t){return e.btAnterior(t)}}}),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_forward"},nativeOn:{click:function(t){return e.btProximo(t)}}})],1),a("q-toolbar",{attrs:{color:"#eee","text-color":"dark"}},[a("campo",{staticClass:"campo",attrs:{tipo:"decimal",decimals:"2",suffix:"mm","rotulo-fixo":"Tamanho Armação"},model:{value:e.dbPupilometro.medidas.tamanhoArmacao,callback:function(t){e.$set(e.dbPupilometro.medidas,"tamanhoArmacao",t)},expression:"dbPupilometro.medidas.tamanhoArmacao"}})],1),a("img",{ref:"foto",staticClass:"Foto",attrs:{src:e.dbPupilometro.foto}}),a("q-resize-observable",{on:{resize:e.redimensiona}})],1)},Eh=[];Dh._withStripped=!0;var Th={components:{Campo:Sl},data:function(){return{dbPupilometro:Zn.pupilometro}},methods:{btProximo:function(){this.$emit("mudarTela","Olho")},btAnterior:function(){this.$emit("mudarTela","TamanhoFoto")},redimensiona:function(){var e=this.$refs.foto;e.style.position="absolute";var t=document.body.clientWidth-20,a=document.body.clientHeight-120-20;e.style.height=t>a?a+"px":t+"px",e.style.width=e.style.height,e.style.top="120px",e.style.left=(document.body.clientWidth-parseInt(e.style.width))/2+"px"}}},Ah=Th,Oh=(a("37b3"),Object(sc["a"])(Ah,Dh,Eh,!1,null,null,null));Oh.options.__file="Pupilometro03TamanhoArmacao.vue";var $h=Oh.exports,Rh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"telaOlho"}},[a("div",{ref:"quadro"},[a("img",{ref:"foto",staticClass:"Foto",attrs:{src:e.dbPupilometro.foto}}),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.passo,expression:"passo===1"}],ref:"p1",attrs:{id:"p1"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:2===e.passo,expression:"passo===2"}],ref:"p2",attrs:{id:"p2"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:3===e.passo,expression:"passo===3"}],ref:"p3",attrs:{id:"p3"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:4===e.passo,expression:"passo===4"}],ref:"p4",attrs:{id:"p4"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:5===e.passo,expression:"passo===5"}],ref:"p5",attrs:{id:"p5"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:6===e.passo,expression:"passo===6"}],ref:"p6",attrs:{id:"p6"}})]),a("q-toolbar",{attrs:{color:"primary"}},[a("q-toolbar-title",[e._v(e._s(e.titulo))]),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_rewind"},nativeOn:{click:function(t){return e.btAnterior(t)}}}),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_forward"},nativeOn:{click:function(t){return e.btProximo(t)}}})],1),a("q-btn",{staticClass:"ZoomMais",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"zoom_in"},on:{click:function(t){e.zoomMais()}}}),a("q-btn",{staticClass:"ZoomMenos",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"zoom_out"},on:{click:function(t){e.zoomMenos()}}}),a("div",{directives:[{name:"touch-pan",rawName:"v-touch-pan.prevent",value:e.touch,expression:"touch",modifiers:{prevent:!0}}],staticClass:"ZonaTouch"}),a("div",{staticClass:"BaseBotoes"}),a("q-btn",{staticClass:"BtUp",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_up"},on:{click:function(t){e.moveu("up")}}}),a("q-btn",{staticClass:"BtDown",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_down"},on:{click:function(t){e.moveu("down")}}}),a("q-btn",{staticClass:"BtLeft",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_left"},on:{click:function(t){e.moveu("left")}}}),a("q-btn",{staticClass:"BtRight",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_right"},on:{click:function(t){e.moveu("right")}}}),a("q-resize-observable",{on:{resize:e.centralizaQuadroTela}})],1)},jh=[];Rh._withStripped=!0;var zh={data:function(){return{dbPupilometro:Zn.pupilometro,sensor:{horizontal:0,vertical:0},foto:"",passo:1,isDown:!1,x:0,y:0,zoom:2,pinca:{scaling:!1},qtde:0}},computed:{titulo:function(){var e=[];return e[1]="Olho Direito",e[2]="Olho Direito",e[3]="Centro Olho Direito",e[4]="Olho Esquerdo",e[5]="Olho Esquerdo",e[6]="Centro Olho Esquerdo",e[this.passo]}},methods:{sleep:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(t){return setTimeout(t,e)})},desenha:function(){var e=this.$refs.quadro,t="scale(".concat(this.zoom,")");-1!==[1,2,3].indexOf(this.passo)?t+=" translateX(15%)":t+=" translateX(-15%)",e.style.transform=t},zoomMais:function(){this.zoom+=.01,this.desenha()},zoomMenos:function(){this.zoom-=.01,this.desenha()},touch:function(e){var t=this,a=0;try{a=e.evt.touches.length}catch(e){}if(this.qtde=a,this.pinca.scaling||2!==a&&(this.$refs["p"+this.passo].style.left=parseInt(this.$refs["p"+this.passo].style.left)+e.delta.x+"px",this.$refs["p"+this.passo].style.top=parseInt(this.$refs["p"+this.passo].style.top)+e.delta.y+"px"),this.pinca.scaling||2!==a||(this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&0===a&&setTimeout(function(){t.pinca.scaling=!1},250),this.pinca.scaling&&2===a)try{var o=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+o/1e3,this.desenha()}catch(e){}},btProximo:function(){if(this.passo>=1&&this.passo<=5)return this.passo+=1,void this.desenha();6===this.passo&&(this.dbPupilometro.medidas.olhoDireito=at()({},this.dbPupilometro.medidas.olhoDireito,{superior:{top:parseFloat(this.$refs.p1.style.top),left:parseFloat(this.$refs.p1.style.left)},centroOlho:{top:parseFloat(this.$refs.p3.style.top),left:parseFloat(this.$refs.p3.style.left)},inferior:{top:parseFloat(this.$refs.p2.style.top),left:parseFloat(this.$refs.p2.style.left)}}),this.dbPupilometro.medidas.olhoEsquerdo=at()({},this.dbPupilometro.medidas.olhoEsquerdo,{superior:{top:parseFloat(this.$refs.p5.style.top),left:parseFloat(this.$refs.p5.style.left)},centroOlho:{top:parseFloat(this.$refs.p6.style.top),left:parseFloat(this.$refs.p6.style.left)},inferior:{top:parseFloat(this.$refs.p4.style.top),left:parseFloat(this.$refs.p4.style.left)}}),0===this.dbPupilometro.medidas.diagonal.p1.left&&(this.dbPupilometro.medidas.diagonal.p1.left=this.dbPupilometro.medidas.olhoEsquerdo.inferior.left,this.dbPupilometro.medidas.diagonal.p1.top=this.dbPupilometro.medidas.olhoEsquerdo.inferior.top,this.dbPupilometro.medidas.diagonal.p2.left=this.dbPupilometro.medidas.olhoEsquerdo.superior.left,this.dbPupilometro.medidas.diagonal.p2.top=this.dbPupilometro.medidas.olhoEsquerdo.superior.top),this.dbPupilometro.calcularDistancias(),this.$emit("mudarTela","Diagonal"))},btAnterior:function(){1!==this.passo?this.passo>=2&&this.passo<=6&&(this.passo-=1,this.desenha()):this.$emit("mudarTela","TamanhoArmacao")},moveu:function(e){var t=this.$refs["p"+this.passo];if("up"===e){var a=parseFloat(t.style.top)-1;a<0&&(a=0),t.style.top=a+"px"}if("down"===e&&(this.$refs["p"+this.passo].style.top=parseFloat(this.$refs["p"+this.passo].style.top)+1+"px"),"left"===e){var o=parseFloat(t.style.left)-1;o<0&&(o=0),t.style.left=o+"px"}"right"===e&&(this.$refs["p"+this.passo].style.left=parseFloat(this.$refs["p"+this.passo].style.left)+1+"px")},redimensiona:function(){var e=this.$refs.quadro;e.style.position="absolute";var t=document.body.clientWidth-20,a=document.body.clientHeight-60-20;this.zoom=t>a?a/1200:t/1200,this.zoom=2*this.zoom,e.style.top=(document.body.clientHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},centralizaQuadroTela:function(){var e=this.$refs.quadro;e.style.position="absolute",e.style.top=(document.body.clientHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()}},mounted:function(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="1200px",this.$refs.quadro.style.height="1200px";var e=this.dbPupilometro.medidas;this.$refs.p1.style.top=e.olhoDireito.superior.top+"px",this.$refs.p1.style.left=e.olhoDireito.superior.left+"px",this.$refs.p3.style.top=e.olhoDireito.centroOlho.top+"px",this.$refs.p3.style.left=e.olhoDireito.centroOlho.left+"px",this.$refs.p2.style.top=e.olhoDireito.inferior.top+"px",this.$refs.p2.style.left=e.olhoDireito.inferior.left+"px",this.$refs.p5.style.top=e.olhoEsquerdo.superior.top+"px",this.$refs.p5.style.left=e.olhoEsquerdo.superior.left+"px",this.$refs.p6.style.top=e.olhoEsquerdo.centroOlho.top+"px",this.$refs.p6.style.left=e.olhoEsquerdo.centroOlho.left+"px",this.$refs.p4.style.top=e.olhoEsquerdo.inferior.top+"px",this.$refs.p4.style.left=e.olhoEsquerdo.inferior.left+"px",this.redimensiona()}},Bh=zh,Lh=(a("de7b"),Object(sc["a"])(Bh,Rh,jh,!1,null,"8a9cd232",null));Lh.options.__file="Pupilometro04Olho.vue";var Vh=Lh.exports,Uh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"telaBifocal"}},[a("div",{ref:"quadro"},[a("img",{directives:[{name:"touch-pan",rawName:"v-touch-pan.prevent",value:e.touch,expression:"touch",modifiers:{prevent:!0}}],ref:"foto",staticClass:"Foto",attrs:{src:e.dbPupilometro.foto}}),a("div",{ref:"p2",staticClass:"text-primary",attrs:{id:"p2"}},[a("q-icon",{directives:[{name:"touch-pan",rawName:"v-touch-pan.prevent",value:e.touchP2,expression:"touchP2",modifiers:{prevent:!0}}],staticStyle:{"font-size":"4rem"},attrs:{name:"open_with"}})],1),a("div",{ref:"p1",staticClass:"text-primary",attrs:{id:"p1"}},[a("q-icon",{directives:[{name:"touch-pan",rawName:"v-touch-pan.prevent",value:e.touchP1,expression:"touchP1",modifiers:{prevent:!0}}],staticStyle:{"font-size":"4rem"},attrs:{name:"open_with"}}),a("div",[e._v(e._s(e._f("numero")(e.dbPupilometro.medidas.diagonal.distancia,1))+" mm")])],1)]),a("q-toolbar",{attrs:{color:"primary"}},[a("q-toolbar-title",[e._v("Diagonal")]),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_rewind"},nativeOn:{click:function(t){return e.btAnterior(t)}}}),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_forward"},nativeOn:{click:function(t){return e.btProximo(t)}}})],1),a("q-btn",{staticClass:"ZoomMais",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"zoom_in"},on:{click:function(t){e.zoomMais()}}}),a("q-btn",{staticClass:"ZoomMenos",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"zoom_out"},on:{click:function(t){e.zoomMenos()}}}),a("q-btn",{staticClass:"Bt1Up",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_up"},on:{click:function(t){e.moveu("Bt1Up")}}}),a("q-btn",{staticClass:"Bt1Down",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_down"},on:{click:function(t){e.moveu("Bt1Down")}}}),a("q-btn",{staticClass:"Bt1Left",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_left"},on:{click:function(t){e.moveu("Bt1Left")}}}),a("q-btn",{staticClass:"Bt1Right",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_right"},on:{click:function(t){e.moveu("Bt1Right")}}}),a("q-btn",{staticClass:"Bt2Up",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_up"},on:{click:function(t){e.moveu("Bt2Up")}}}),a("q-btn",{staticClass:"Bt2Down",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_down"},on:{click:function(t){e.moveu("Bt2Down")}}}),a("q-btn",{staticClass:"Bt2Left",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_left"},on:{click:function(t){e.moveu("Bt2Left")}}}),a("q-btn",{staticClass:"Bt2Right",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_right"},on:{click:function(t){e.moveu("Bt2Right")}}}),a("q-resize-observable",{on:{resize:e.centralizaQuadroTela}})],1)},Hh=[];Uh._withStripped=!0;var Qh={data:function(){return{dbPupilometro:Zn.pupilometro,sensor:{horizontal:0,vertical:0},foto:"",passo:1,isDown:!1,x:0,y:0,zoom:.87,pinca:{scaling:!1}}},methods:{desenha:function(){var e=this.dbPupilometro.medidas;e.diagonal.distanciapx=Math.hypot(Math.abs(e.diagonal.p2.left-e.diagonal.p1.left),Math.abs(e.diagonal.p1.top-e.diagonal.p2.top)),e.diagonal.distancia=e.diagonal.distanciapx/e.fator,this.$refs.p1.style.left=e.diagonal.p1.left+"px",this.$refs.p1.style.top=e.diagonal.p1.top+"px",this.$refs.p2.style.left=e.diagonal.p2.left+"px",this.$refs.p2.style.top=e.diagonal.p2.top+"px",this.$refs.p2.style.height=e.diagonal.distanciapx+"px";var t=e.diagonal.p2.left-e.diagonal.p1.left;t=Math.asin(t/e.diagonal.distanciapx)*(180/Math.PI),this.$refs.p2.style.transform="rotate(".concat(t,"deg)"),this.$refs.p2.style["transform-origin"]="0% 0%";var a=document.querySelector("#p2 i").style;a.transform="rotate(-".concat(t,"deg)"),a["transform-origin"]="0% 0%";var o=this.$refs.quadro,i="scale(".concat(this.zoom.toFixed(2),")");o.style.transform=i},zoomMais:function(){this.zoom+=.01,this.desenha()},zoomMenos:function(){this.zoom-=.01,this.desenha()},touch:function(e){var t=this,a=0;try{a=e.evt.touches.length}catch(e){}if(this.qtde=a,this.pinca.scaling||2!==a&&Math.abs(e.delta.x+e.delta.y)<=20&&(this.$refs.quadro.style.left=parseFloat(this.$refs.quadro.style.left)+e.delta.x+"px",this.$refs.quadro.style.top=parseFloat(this.$refs.quadro.style.top)+e.delta.y+"px"),this.pinca.scaling||2!==a||(this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&0===a&&setTimeout(function(){t.pinca.scaling=!1},250),this.pinca.scaling&&2===a)try{var o=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+o/1e3,this.$refs.quadro.style.transform="scale(".concat(this.zoom.toFixed(2),")")}catch(e){}},touchP:function(e,t){var a=0;try{a=e.evt.touches.length}catch(e){}this.pinca.scaling||2!==a&&(this.dbPupilometro.medidas.diagonal[t].top=this.dbPupilometro.medidas.diagonal[t].top+e.delta.y,this.dbPupilometro.medidas.diagonal[t].left=this.dbPupilometro.medidas.diagonal[t].left+e.delta.x,this.desenha())},touchP1:function(e){this.touchP(e,"p1")},touchP2:function(e){this.touchP(e,"p2")},btProximo:function(){this.dbPupilometro.calcularDistancias(),this.dbPupilometro.medidas.bifocal?this.$emit("mudarTela","Bifocal"):this.$emit("mudarTela","Medidas")},btAnterior:function(){this.$emit("mudarTela","Olho")},moveu:function(e){"Bt1Up"===e&&(this.dbPupilometro.medidas.diagonal.p1.top=this.dbPupilometro.medidas.diagonal.p1.top-1),"Bt1Down"===e&&(this.dbPupilometro.medidas.diagonal.p1.top=this.dbPupilometro.medidas.diagonal.p1.top+1),"Bt1Left"===e&&(this.dbPupilometro.medidas.diagonal.p1.left=this.dbPupilometro.medidas.diagonal.p1.left-1),"Bt1Right"===e&&(this.dbPupilometro.medidas.diagonal.p1.left=this.dbPupilometro.medidas.diagonal.p1.left+1),"Bt2Up"===e&&(this.dbPupilometro.medidas.diagonal.p2.top=this.dbPupilometro.medidas.diagonal.p2.top-1),"Bt2Down"===e&&(this.dbPupilometro.medidas.diagonal.p2.top=this.dbPupilometro.medidas.diagonal.p2.top+1),"Bt2Left"===e&&(this.dbPupilometro.medidas.diagonal.p2.left=this.dbPupilometro.medidas.diagonal.p2.left-1),"Bt2Right"===e&&(this.dbPupilometro.medidas.diagonal.p2.left=this.dbPupilometro.medidas.diagonal.p2.left+1),this.desenha()},redimensiona:function(){var e=this.$refs.quadro;e.style.position="absolute";var t=document.body.clientWidth-20,a=document.body.clientHeight-60-20;this.zoom=t>a?a/600:t/600,e.style.top=(document.body.clientHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},centralizaQuadroTela:function(){var e=this.$refs.quadro;e.style.position="absolute",e.style.top=(document.body.clientHeight-1200)/2+"px",e.style.left="-500px",this.desenha()}},mounted:function(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="1200px",this.$refs.quadro.style.height="1200px",this.redimensiona()}},Gh=Qh,Jh=(a("dfbf"),Object(sc["a"])(Gh,Uh,Hh,!1,null,"82c10f66",null));Jh.options.__file="Pupilometro05Diagonal.vue";var Xh=Jh.exports,Yh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"telaBifocal"}},[a("div",{ref:"quadro"},[a("img",{directives:[{name:"touch-pan",rawName:"v-touch-pan.prevent",value:e.touch,expression:"touch",modifiers:{prevent:!0}}],ref:"foto",staticClass:"Foto",attrs:{src:e.dbPupilometro.foto}}),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.passo,expression:"passo===1"}],ref:"p1",attrs:{id:"p1"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:2===e.passo,expression:"passo===2"}],ref:"p2",attrs:{id:"p2"}}),a("div",{ref:"odbifocal",attrs:{id:"odbifocal"}},[a("div"),a("div"),a("div")]),a("div",{ref:"oebifocal",attrs:{id:"oebifocal"}},[a("div"),a("div"),a("div")])]),a("q-toolbar",{attrs:{color:"primary"}},[a("q-toolbar-title",[e._v("Bifocal")]),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_rewind"},nativeOn:{click:function(t){return e.btAnterior(t)}}}),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_forward"},nativeOn:{click:function(t){return e.btProximo(t)}}})],1),a("q-btn",{staticClass:"ZoomMais",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"zoom_in"},on:{click:function(t){e.zoomMais()}}}),a("q-btn",{staticClass:"ZoomMenos",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"zoom_out"},on:{click:function(t){e.zoomMenos()}}}),a("q-btn",{staticClass:"BtOdUp",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_up"},on:{click:function(t){e.moveu("od-up")}}}),a("q-btn",{staticClass:"BtOdDown",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_down"},on:{click:function(t){e.moveu("od-down")}}}),a("q-btn",{staticClass:"BtOeUp",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_up"},on:{click:function(t){e.moveu("oe-up")}}}),a("q-btn",{staticClass:"BtOeDown",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_down"},on:{click:function(t){e.moveu("oe-down")}}}),a("q-resize-observable",{on:{resize:e.centralizaQuadroTela}})],1)},Wh=[];Yh._withStripped=!0;var Zh={data:function(){return{dbPupilometro:Zn.pupilometro,sensor:{horizontal:0,vertical:0},foto:"",passo:1,isDown:!1,x:0,y:0,zoom:1.6,pinca:{scaling:!1}}},methods:{sleep:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(t){return setTimeout(t,e)})},desenha:function(){var e=this.dbPupilometro.medidas;this.$refs.odbifocal.style.height=e.olhoDireito.bifocalAltura+"px",this.$refs.odbifocal.style.left=e.olhoDireito.centroOlho.left+"px",this.$refs.odbifocal.style.top=e.olhoDireito.inferior.top-e.olhoDireito.bifocalAltura+"px",this.$refs.oebifocal.style.height=e.olhoEsquerdo.bifocalAltura+"px",this.$refs.oebifocal.style.left=e.olhoEsquerdo.centroOlho.left+"px",this.$refs.oebifocal.style.top=e.olhoEsquerdo.inferior.top-e.olhoEsquerdo.bifocalAltura+"px";var t=this.$refs.quadro,a="scale(".concat(this.zoom.toFixed(2),")");t.style.transform=a},zoomMais:function(){this.zoom+=.01,this.desenha()},zoomMenos:function(){this.zoom-=.01,this.desenha()},touch:function(e){var t=this,a=0;try{a=e.evt.touches.length}catch(e){}if(this.qtde=a,this.pinca.scaling||2!==a||(this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&0===a&&setTimeout(function(){t.pinca.scaling=!1},250),this.pinca.scaling&&2===a)try{var o=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+o/1e3,this.$refs.quadro.style.transform="scale(".concat(this.zoom.toFixed(2),")")}catch(e){}},btProximo:function(){this.dbPupilometro.calcularDistancias(),this.$emit("mudarTela","Medidas")},btAnterior:function(){this.$emit("mudarTela","Diagonal")},moveu:function(e){"od-up"===e&&(this.dbPupilometro.medidas.olhoDireito.bifocalAltura=this.dbPupilometro.medidas.olhoDireito.bifocalAltura+1,this.desenha()),"od-down"===e&&(this.dbPupilometro.medidas.olhoDireito.bifocalAltura=this.dbPupilometro.medidas.olhoDireito.bifocalAltura-1,this.desenha()),"oe-up"===e&&(this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura=this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura+1,this.desenha()),"oe-down"===e&&(this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura=this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura-1,this.desenha())},redimensiona:function(){var e=this.$refs.quadro;e.style.position="absolute";var t=document.body.clientWidth-20,a=document.body.clientHeight-60-20;this.zoom=t>a?a/1200:t/1200,e.style.top=(document.body.clientHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},centralizaQuadroTela:function(){var e=this.$refs.quadro;e.style.position="absolute",e.style.top=(document.body.clientHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()}},mounted:function(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="1200px",this.$refs.quadro.style.height="1200px",this.redimensiona()}},Kh=Zh,ef=(a("a3cd"),Object(sc["a"])(Kh,Yh,Wh,!1,null,"6793cf8c",null));ef.options.__file="Pupilometro06Bifocal.vue";var tf=ef.exports,af=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"telaMedidas"}},[a("div",{ref:"quadro",staticClass:"Quadro"},[a("img",{directives:[{name:"touch-pan",rawName:"v-touch-pan.prevent.stop",value:e.touch,expression:"touch",modifiers:{prevent:!0,stop:!0}}],ref:"foto",staticClass:"Foto",attrs:{src:e.dbPupilometro.foto}}),a("div",{ref:"ods",attrs:{id:"ods"}}),a("div",{ref:"odi",attrs:{id:"odi"}}),a("div",{ref:"odc",attrs:{id:"odc"}}),a("div",{ref:"oei",attrs:{id:"oei"}}),a("div",{ref:"oes",attrs:{id:"oes"}}),a("div",{ref:"oec",attrs:{id:"oec"}}),a("div",{ref:"tamanhoarmacao",attrs:{id:"tamanhoarmacao"}},[a("div",[e._v(e._s(e._f("numero")(e.dbPupilometro.medidas.tamanhoArmacao,1)))]),a("div"),a("div")]),a("div",{ref:"ponte",attrs:{id:"ponte"}},[a("div",[e._v(e._s(e._f("numero")(e.dbPupilometro.medidas.ponte,1)))]),a("div"),a("div")]),a("div",{ref:"diptotal",attrs:{id:"diptotal"}},[a("div",[e._v(e._s(e._f("numero")(e.dbPupilometro.medidas.dip.total,1)))]),a("div"),a("div")]),a("div",{ref:"dnpOd",staticClass:"medidaHorizontal",attrs:{id:"dnpOd"}},[a("div",[e._v(e._s(e._f("numero")(e.dbPupilometro.medidas.dnp.od,1)))]),a("div"),a("div")]),a("div",{ref:"dnpOe",staticClass:"medidaHorizontal",attrs:{id:"dnpOe"}},[a("div",[e._v(e._s(e._f("numero")(e.dbPupilometro.medidas.dnp.oe,1)))]),a("div"),a("div")]),a("div",{ref:"odaltura",attrs:{id:"odaltura"}},[a("div",[e._v(e._s(e._f("numero")(e.dbPupilometro.medidas.dip.od.altura,1)))]),a("div"),a("div")]),a("div",{ref:"oealtura",attrs:{id:"oealtura"}},[a("div",[e._v(e._s(e._f("numero")(e.dbPupilometro.medidas.dip.oe.altura,1)))]),a("div"),a("div")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dbPupilometro.medidas.bifocal,expression:"dbPupilometro.medidas.bifocal"}],ref:"odbifocal",attrs:{id:"odbifocal"}},[a("div",[e._v(e._s(e._f("numero")(e.dbPupilometro.medidas.bifocalOlhoDireito,1)))]),a("div"),a("div")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dbPupilometro.medidas.bifocal,expression:"dbPupilometro.medidas.bifocal"}],ref:"oebifocal",attrs:{id:"oebifocal"}},[a("div",[e._v(e._s(e._f("numero")(e.dbPupilometro.medidas.bifocalOlhoEsquerdo,1)))]),a("div"),a("div")]),a("div",{ref:"oddiagonal",staticClass:"medidaVerticalAzul",attrs:{id:"oddiagonal"}},[a("div",[e._v(e._s(e._f("numero")(e.dbPupilometro.medidas.diagonal.distancia,1)))]),a("div"),a("div")])]),a("q-toolbar",{attrs:{color:"primary"}},[a("q-toolbar-title",[e._v("Medidas")]),a("q-btn",{directives:[{name:"show",rawName:"v-show",value:!e.somenteLeitura,expression:"!somenteLeitura"}],attrs:{flat:"",round:"",dense:"",icon:"fast_rewind"},nativeOn:{click:function(t){return e.btAnterior(t)}}}),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_forward"},nativeOn:{click:function(t){return e.btProximo(t)}}})],1),a("q-btn",{staticClass:"ZoomMais",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"zoom_in"},on:{click:function(t){e.zoomMais()}}}),a("q-btn",{staticClass:"ZoomMenos",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"zoom_out"},on:{click:function(t){e.zoomMenos()}}}),a("q-btn",{directives:[{name:"show",rawName:"v-show",value:!e.somenteLeitura,expression:"!somenteLeitura"}],staticClass:"Bifocal",attrs:{color:"primary",label:"Bifocal"},on:{click:e.btBifocal}}),a("q-resize-observable",{on:{resize:e.centralizaQuadroTela}})],1)},of=[];af._withStripped=!0;var rf={data:function(){return{dbPupilometro:Zn.pupilometro,foto:"",isDown:!1,x:0,y:0,zoom:1.6,zoomAnt:0,pinca:{scaling:!1},tela:{},qtde:0}},watch:{"dbPupilometro.medidas.bifocal":function(){this.dbPupilometro.medidas.bifocal&&!this.somenteLeitura&&this.$emit("mudarTela","Bifocal")}},methods:{desenha:function(){try{var e=this.dbPupilometro.medidas;this.$refs.ods.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top+"px",this.$refs.ods.style.left=this.dbPupilometro.medidas.olhoDireito.superior.left+"px",this.$refs.odi.style.top=this.dbPupilometro.medidas.olhoDireito.inferior.top+"px",this.$refs.odi.style.left=this.dbPupilometro.medidas.olhoDireito.inferior.left+"px",this.$refs.odc.style.top=this.dbPupilometro.medidas.olhoDireito.centroOlho.top+"px",this.$refs.odc.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.oes.style.top=this.dbPupilometro.medidas.olhoEsquerdo.superior.top+"px",this.$refs.oes.style.left=this.dbPupilometro.medidas.olhoEsquerdo.superior.left+"px",this.$refs.oei.style.top=this.dbPupilometro.medidas.olhoEsquerdo.inferior.top+"px",this.$refs.oei.style.left=this.dbPupilometro.medidas.olhoEsquerdo.inferior.left+"px",this.$refs.oec.style.top=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.top+"px",this.$refs.oec.style.left=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.left+"px",this.$refs.tamanhoarmacao.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top-120+"px",this.$refs.tamanhoarmacao.style.left=this.dbPupilometro.medidas.olhoDireito.superior.left+"px",this.$refs.tamanhoarmacao.style.width=this.dbPupilometro.medidas.olhoEsquerdo.superior.left-this.dbPupilometro.medidas.olhoDireito.superior.left+"px",this.$refs.diptotal.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top-80+"px",this.$refs.diptotal.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.diptotal.style.width=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.left-this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.dnpOd.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top-40+"px",this.$refs.dnpOd.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.dnpOd.style.width=e.tamanhoArmacaoPx/2-(e.olhoDireito.centroOlho.left-e.olhoDireito.superior.left)+"px",this.$refs.dnpOe.style.top=this.dbPupilometro.medidas.olhoEsquerdo.superior.top-40+"px",this.$refs.dnpOe.style.width=this.dbPupilometro.medidas.tamanhoArmacaoPx/2-(e.olhoEsquerdo.superior.left-e.olhoEsquerdo.centroOlho.left)+"px",this.$refs.dnpOe.style.left=this.dbPupilometro.medidas.olhoEsquerdo.superior.left-this.dbPupilometro.medidas.tamanhoArmacaoPx/2+"px",this.$refs.ponte.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top+30+"px",this.$refs.ponte.style.left=this.dbPupilometro.medidas.olhoDireito.inferior.left+"px",this.$refs.ponte.style.width=this.dbPupilometro.medidas.olhoEsquerdo.inferior.left-this.dbPupilometro.medidas.olhoDireito.inferior.left+"px",this.$refs.odaltura.style.top=this.dbPupilometro.medidas.olhoDireito.centroOlho.top+"px",this.$refs.odaltura.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left-60+"px",this.$refs.odaltura.style.height=this.dbPupilometro.medidas.olhoDireito.inferior.top-this.dbPupilometro.medidas.olhoDireito.centroOlho.top+"px",this.$refs.oealtura.style.top=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.top+"px",this.$refs.oealtura.style.left=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.left+60+"px",this.$refs.oealtura.style.height=this.dbPupilometro.medidas.olhoEsquerdo.inferior.top-this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.top+"px",this.$refs.odbifocal.style.height=e.olhoDireito.bifocalAltura+"px",this.$refs.odbifocal.style.left=e.olhoDireito.centroOlho.left+"px",this.$refs.odbifocal.style.top=e.olhoDireito.inferior.top-e.olhoDireito.bifocalAltura+"px",this.$refs.oebifocal.style.height=e.olhoEsquerdo.bifocalAltura+"px",this.$refs.oebifocal.style.left=e.olhoEsquerdo.centroOlho.left+"px",this.$refs.oebifocal.style.top=e.olhoEsquerdo.inferior.top-e.olhoEsquerdo.bifocalAltura+"px",this.$refs.oddiagonal.style.height=e.diagonal.distanciapx+"px",this.$refs.oddiagonal.style.left=e.diagonal.p2.left+"px",this.$refs.oddiagonal.style.top=e.diagonal.p2.top+"px";var t=e.diagonal.p2.left-e.diagonal.p1.left;t=Math.asin(t/e.diagonal.distanciapx)*(180/Math.PI),this.$refs.oddiagonal.style.transform="rotate(".concat(t,"deg)"),this.$refs.oddiagonal.style["transform-origin"]="0% 0%",document.querySelector("#oddiagonal div:nth-child(1)").style.transform="rotate(-".concat(t,"deg)");var a=this.$refs.quadro,o="scale(".concat(this.zoom.toFixed(2),")");a.style.transform=o}catch(e){console.log(e)}},redimensiona:function(){var e=this.$refs.quadro;e.style.position="absolute";var t={clientWidth:document.body.clientWidth,clientHeight:document.body.clientHeight};if(JSON.stringify(this.tela)!==JSON.stringify(t)){this.tela=t;var a=document.body.clientWidth-20,o=document.body.clientHeight-60-20;this.zoom=a>o?o/1200:a/1200}e.style.top=(document.body.clientHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},centralizaQuadroTela:function(){var e=this.$refs.quadro;e.style.position="absolute",e.style.top=(document.body.clientHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},zoomMais:function(){this.zoom+=.01,this.$refs.quadro.style.transform="scale(".concat(this.zoom.toFixed(2),")")},zoomMenos:function(){this.zoom-=.01,this.$refs.quadro.style.transform="scale(".concat(this.zoom.toFixed(2),")")},btBifocal:function(){this.dbPupilometro.medidas.bifocal=!this.dbPupilometro.medidas.bifocal,this.dbPupilometro.medidas.bifocal&&this.$emit("mudarTela","Bifocal")},touch:function(e){var t=this,a=0;try{a=e.evt.touches.length}catch(e){}if(this.qtde=a,this.pinca.scaling||2!==a&&Math.abs(e.delta.x+e.delta.y)<=20&&(this.$refs.quadro.style.left=parseFloat(this.$refs.quadro.style.left)+e.delta.x+"px",this.$refs.quadro.style.top=parseFloat(this.$refs.quadro.style.top)+e.delta.y+"px"),this.pinca.scaling||2!==a||(this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&0===a&&setTimeout(function(){t.pinca.scaling=!1},250),this.pinca.scaling&&2===a)try{var o=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+o/1e3,this.$refs.quadro.style.transform="scale(".concat(this.zoom.toFixed(2),")")}catch(e){}},btProximo:function(){this.$emit("mudarTela","Fim")},btAnterior:function(){this.dbPupilometro.medidas.bifocal?this.$emit("mudarTela","Bifocal"):this.$emit("mudarTela","Diagonal")}},props:{somenteLeitura:Boolean},mounted:function(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.redimensiona()}},sf=rf,nf=(a("5f3c"),Object(sc["a"])(sf,af,of,!1,null,"538c1de8",null));nf.options.__file="Pupilometro07Medidas.vue";var cf=nf.exports,lf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-toolbar",{attrs:{color:"primary"}},[a("q-toolbar-title",[e._v("Palpebra")]),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_rewind"},nativeOn:{click:function(t){return e.btAnterior(t)}}}),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_forward"},nativeOn:{click:function(t){return e.btProximo(t)}}})],1),a("pre",[e._v(e._s(JSON.stringify(e.dbPupilometro.medidas,null,2)))])],1)},df=[];lf._withStripped=!0;var uf={data:function(){return{dbPupilometro:Zn.pupilometro}},methods:{btProximo:function(){this.$emit("mudarTela","Medidas")},btAnterior:function(){this.$emit("mudarTela","Medidas")}}},mf=uf,pf=Object(sc["a"])(mf,lf,df,!1,null,null,null);pf.options.__file="Pupilometro08Palpebra.vue";var vf=pf.exports,hf={components:{TirarFoto:Fh,TamanhoFoto:Ph,TamanhoArmacao:$h,Olho:Vh,Diagonal:Xh,Bifocal:tf,Medidas:cf,Palpebra:vf},data:function(){return{tela:""}},methods:{mudarTela:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("Fim"!==t){e.next=3;break}return this.$emit("fecharModal"),e.abrupt("return");case 3:if(this.tela=t,"Olho"!==t){e.next=8;break}return e.next=7,new Promise(function(e){return setTimeout(e,500)});case 7:this.$refs.Olho.desenha();case 8:if("Medidas"!==t){e.next=12;break}return e.next=11,new Promise(function(e){return setTimeout(e,500)});case 11:this.$refs.Medidas.desenha();case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),upload:function(){this.$refs.TamanhoFoto.uploadClick()}},props:{avancar:String,somenteLeitura:Boolean},created:function(){this.tela=this.avancar||"TirarFoto"}},ff=hf,Cf=Object(sc["a"])(ff,bh,gh,!1,null,null,null);Cf.options.__file="Pupilometro.vue";var bf=Cf.exports,gf={components:{Arquivo:zv,Avatar:Fc,Badge:Bd,Campo:Sl,ContatoCriar:uh,PromptCodigoBarras:al,PromptContatoNovo:Yd,PromptItemNovo:Zv,Pupilometro:bf,Receita:Ch},computed:{carrinhoSemArmacaoVazia:function(){return this.carrinho.filter(function(e){return!("Armação"===e.tipoItem&&!e.descricaoItem.trim()&&0===e.total&&0===e.valorItem)})},envelopeVazio:function(){return{id:"",idDocumentoAdicional:"",docId:"",docTipo:"",carrinho:[],totalDesconto:0,totalPercentualDesconto:0,subTotal:0,totalDocumento:0,paciente:{id:"",nome:""},tipo:"Envelope",tipoEnvelope:"Oculos",tipoLente:"Multifocal (Longe e Perto)",tipoOculos:"Vista"}},erroDataHoraPrevisto:function(){if(this.campos.dataHoraPrevisto){var e=(new Date).setHours(0,0,0,0);if(new Date(this.campos.dataHoraPrevisto)<new Date(e))return"Previsão de entrega não pode ser menor do que a data de hoje"}return""}},data:function(){return{armacao:{alturaMontagemOD:0,alturaMontagemOE:0,diagonal:0,ponte:0,altura:0,tamanho:"",armacaoMaterial:"",tipoMontagem:""},armacaoMaterialModal:!1,armacaoMaterialDescricao:"",opcoesArmacaoMaterial:[],tipoMontagemModal:!1,tipoMontagemDescricao:"",opcoesTipoMontagem:[],campos:{totalDesconto:0,totalPercentualDesconto:0,subTotal:0,totalDocumento:0,idContato:"",descricaoContato:"",idDocumentoAdicional:"",dataHoraPrevisto:""},tipo:"Envelope",tipoEnvelope:"Oculos",tipoLente:"Multifocal (Longe e Perto)",tipoOculos:"Vista",carrinho:[],documentoContato:[],codigoBarras:"",duplicarReceita:!1,entrarCodigoBarras:!1,idPacienteSelecionado:"",descricaoReceitaSelecionada:"",modalCodigoBarras:!1,modalDependente:!1,modalItem:{visivel:!1,filtros:{}},modalPupilometro:{},permissaoPupilometro:!1,modalLaboratorio:!1,descricaoLaboratorio:"",documentoContatoLaboratorio:{},modalResponsavel:!1,descricaoResponsavel:"",itensTipo:[],itens:{},tipoDescontoPercentagem:!0,tipoDescontoTotal:!0,pacientes:[{label:"",value:""}],tipoLentes:[],tipoLentesOculos:["Monofocal (Longe)","Monofocal (Médio)","Monofocal (Perto)","Bifocal (Longe e Perto)","Multifocal (Longe e Perto)","Intermediário (Médio e Perto)","Intermediário (Longe e Médio)"],tipoLentesContato:["Monofocal (Longe)","Bifocal (Longe e Perto)","Multifocal (Longe e Perto)"],receita:{},receitasDescricao:[],modalReceita:{visivel:!1,id:"",idEmpresa:"",duplicar:!1},arquivo:[],help:{show:!1,src:this.$q.platform.is.mobile?"https://www.youtube.com/embed/kYy9IE16bkA?start=2661":"https://www.youtube.com/embed/kYy9IE16bkA?start=1214",title:this.$q.platform.is.mobile?"Videoaula OptiSoul: Pupilômetro - Celular":"Videoaula OptiSoul: Pupilômetro - Desktop"}}},methods:{fecharModalPupilometro:function(){var e=this;if(this.modalPupilometro.visivel=!1,this.$nextTick(function(){e.modalPupilometro.ativo=!1}),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC"!==Zn.pupilometro.fotoOriginal){var t={id:(this.modalPupilometro.pupilometroAtual||{}).id||hi(),descricao:"Pupilômetro",referencia:"idEnvelope:"+this.campos.id,json:JSON.stringify({foto:Zn.pupilometro.foto,fotoOriginal:Zn.pupilometro.fotoOriginal,medidas:Zn.pupilometro.medidas})};this.modalPupilometro.pupilometroAtual=t,this.armacao.largura=Zn.pupilometro.medidas.tamanhoArmacao,this.armacao.ponte=Zn.pupilometro.medidas.ponte,this.armacao.altura=Zn.pupilometro.medidas.alturaArmacao,this.armacao.diagonal=Zn.pupilometro.medidas.diagonal.distancia,Zn.pupilometro.medidas.bifocal?(this.armacao.alturaMontagemOD=Zn.pupilometro.medidas.bifocalOlhoDireito,this.armacao.alturaMontagemOE=Zn.pupilometro.medidas.bifocalOlhoEsquerdo):(this.armacao.alturaMontagemOD=Zn.pupilometro.medidas.dip.od.altura,this.armacao.alturaMontagemOE=Zn.pupilometro.medidas.dip.oe.altura),this.salvarDnp()}},abrirModalPupilometro:function(){var e=this;if(this.modalPupilometro=at()({},this.modalPupilometro,{ativo:!0,visivel:!1,avancar:this.envelope.somenteLeitura?"Medidas":""}),Zn.pupilometro.limpar(),this.armacao.largura&&(Zn.pupilometro.medidas.tamanhoArmacao=this.armacao.largura),this.armacao.ponte&&(Zn.pupilometro.medidas.ponte=this.armacao.ponte),this.armacao.diagonal&&(Zn.pupilometro.medidas.diagonal.distancia=this.armacao.diagonal),this.armacao.altura&&(Zn.pupilometro.medidas.alturaArmacao=this.armacao.altura),(this.modalPupilometro.pupilometroAtual||{}).json){var t=JSON.parse(this.modalPupilometro.pupilometroAtual.json);Zn.pupilometro.foto=t.foto,Zn.pupilometro.fotoOriginal=t.fotoOriginal,Zn.pupilometro.medidas=t.medidas,this.armacao.largura&&(Zn.pupilometro.medidas.tamanhoArmacao=this.armacao.largura),this.armacao.ponte&&(Zn.pupilometro.medidas.ponte=this.armacao.ponte),this.armacao.diagonal&&(Zn.pupilometro.medidas.diagonal.distancia=this.armacao.diagonal),this.envelope.somenteLeitura||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC"!==Zn.pupilometro.foto?this.modalPupilometro.avancar="Medidas":this.modalPupilometro.avancar="TirarFoto"}this.$nextTick(function(){e.modalPupilometro.visivel=!0})},adicionaArquivo:function(e){var t=this,a=!0,o=!1,i=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var n=r.value;this.$resizeImage(n,{outputFormat:"jpg"},function(e,a){t.arquivo.push({id:hi(),tabelaMaster:"envelope",idTabelaMaster:t.envelope.id,arquivo:a})})}}catch(e){o=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}},removeArquivo:function(e){},abrirArmacaoMaterialModal:function(){this.envelope.somenteLeitura||(this.armacaoMaterialModal=!0)},abrirTipoMontagemModal:function(){this.envelope.somenteLeitura||(this.tipoMontagemModal=!0)},atualizarArmacaoMaterial:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=[],a=[],e.next=3,Zn.itemBusca.filtrar(null,{ativo:!0,tipo:["Óculos Sol","Armação"]},0);case 3:for(t=e.sent,a=t.filter(function(e){return(e.armacaoMaterial||"").trim()}).map(function(e){return e.armacaoMaterial}),o=[],i=la()(new Set(a)),r=0;r<i.length;r++)s=i[r],o.push({rotulo:s,valor:s,sort:s.toLowerCase()});this.opcoesArmacaoMaterial=Object(ot["orderBy"])(o,"sort","asc");case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),atualizarTipoMontagem:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=[],a=[],e.next=3,Zn.itemBusca.filtrar(null,{ativo:!0,tipo:["Óculos Sol","Armação"]},0);case 3:for(t=e.sent,a=t.filter(function(e){return(e.tipoMontagem||"").trim()}).map(function(e){return e.tipoMontagem}),o=[],i=!0,r=!1,s=void 0,e.prev=9,n=new Set(a)[Symbol.iterator]();!(i=(c=n.next()).done);i=!0)l=c.value,o.push({rotulo:l,valor:l,sort:l.toLowerCase()});e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](9),r=!0,s=e.t0;case 17:e.prev=17,e.prev=18,i||null==n.return||n.return();case 20:if(e.prev=20,!r){e.next=23;break}throw s;case 23:return e.finish(20);case 24:return e.finish(17);case 25:this.opcoesTipoMontagem=Object(ot["orderBy"])(o,"sort","asc");case 26:case"end":return e.stop()}},e,this,[[9,13,17,25],[18,,20,24]])}));return function(){return e.apply(this,arguments)}}(),criarArmacaoMaterial:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.opcoesArmacaoMaterial=Object(ot["orderBy"])(la()(this.opcoesArmacaoMaterial).concat([{rotulo:this.armacaoMaterialDescricao,valor:this.armacaoMaterialDescricao,sort:this.armacaoMaterialDescricao.toLowerCase()}]),"sort","asc"),this.armacao.armacaoMaterial=this.armacaoMaterialDescricao,this.armacaoMaterialModal=!1;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),criarTipoMontagem:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.opcoesTipoMontagem=Object(ot["orderBy"])(la()(this.opcoesTipoMontagem).concat([{rotulo:this.tipoMontagemDescricao,valor:this.tipoMontagemDescricao,sort:this.tipoMontagemDescricao.toLowerCase()}]),"sort","asc"),this.armacao.tipoMontagem=this.tipoMontagemDescricao,this.tipoMontagemModal=!1;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),selecionarLaboratorio:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.documentoContatoLaboratorio.idContato=t,e.next=3,Zn.contato.le({id:t});case 3:if(e.t0=e.sent.apelido,e.t0){e.next=6;break}e.t0="";case 6:this.descricaoLaboratorio=e.t0;case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),abrirModalLaboratorio:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.envelope.somenteLeitura||(this.modalLaboratorio=!0);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),selecionarResponsavel:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.campos.idContatoResponsavel=t,e.next=3,Zn.contato.le({id:t});case 3:if(e.t0=e.sent.apelido,e.t0){e.next=6;break}e.t0="";case 6:this.descricaoResponsavel=e.t0;case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),abrirModalResponsavel:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.envelope.somenteLeitura||(this.modalResponsavel=!0);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),alterarPaciente:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.campos.idContato=t,this.campos.descricaoContato=this.pacientes.filter(function(e){return e.value===t})[0].label,e.next=4,this.filtrarReceitas();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),atualizarReceita:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.filtrarReceitas();case 2:if(t||this.receitasDescricao.length&&(t=this.receitasDescricao[0].value),!t){e.next=11;break}return e.next=6,Zn.receita.le({id:t||this.receita.id});case 6:return this.receita=e.sent,e.next=9,this.pacientesAtualizar();case 9:this.campos.idContato=this.receita.paciente.id,this.campos.descricaoContato=this.pacientes.filter(function(e){return e.value===a.campos.idContato})[0].label;case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),calculaTotal:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w,y,N,k,M,P,D,E,T=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(a=Yt(this.campos),o=0,i=!0,r=!1,s=void 0,e.prev=5,n=this.carrinho[Symbol.iterator]();!(i=(c=n.next()).done);i=!0)l=c.value,o+=l.valorItem;e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](5),r=!0,s=e.t0;case 13:e.prev=13,e.prev=14,i||null==n.return||n.return();case 16:if(e.prev=16,!r){e.next=19;break}throw s;case 19:return e.finish(16);case 20:return e.finish(13);case 21:if(a.subTotal=dt(o),void 0!==t){e.next=44;break}for(a.totalDesconto=0,d=!0,u=!1,m=void 0,e.prev=27,p=this.carrinho[Symbol.iterator]();!(d=(v=p.next()).done);d=!0)h=v.value,a.totalDesconto=dt(a.totalDesconto+h.descontoItem);e.next=35;break;case 31:e.prev=31,e.t1=e["catch"](27),u=!0,m=e.t1;case 35:e.prev=35,e.prev=36,d||null==p.return||p.return();case 38:if(e.prev=38,!u){e.next=41;break}throw m;case 41:return e.finish(38);case 42:return e.finish(35);case 43:a.totalPercentualDesconto=dt(a.totalDesconto/a.subTotal*100);case 44:if("desconto"===t&&(a.totalPercentualDesconto=dt(a.totalDesconto/a.subTotal*100)),"descontoPercentual"===t&&(a.totalDesconto=dt(a.totalPercentualDesconto/100*a.subTotal)),f=dt(a.subTotal-a.totalDesconto),f>a.subTotal&&this.$nextTick(function(){var e=0,t=!0,o=!1,i=void 0;try{for(var r,s=T.carrinho[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var n=r.value;n.total=n.valorItem,n.descontoItem=n.descontoPercentualItem=0,e+=n.valorItem}}catch(e){o=!0,i=e}finally{try{t||null==s.return||s.return()}finally{if(o)throw i}}a.totalDocumento=a.subTotal=dt(e),a.totalDesconto=a.totalPercentualDesconto=0}),a.totalDocumento=f,!t){e.next=101;break}if(!this.carrinho.length){e.next=101;break}for(C=[],b=!0,g=!1,x=void 0,e.prev=55,_=this.carrinho[Symbol.iterator]();!(b=(q=_.next()).done);b=!0)S=q.value,C.push({id:S.id,valorItem:S.valorItem});e.next=63;break;case 59:e.prev=59,e.t2=e["catch"](55),g=!0,x=e.t2;case 63:e.prev=63,e.prev=64,b||null==_.return||_.return();case 66:if(e.prev=66,!g){e.next=69;break}throw x;case 69:return e.finish(66);case 70:return e.finish(63);case 71:for(C.sort(function(e,t){return e.valorItem<t.valorItem?-1:1}),I=0,F=0;F<C.length;F++)w=C[F],w.descontoItem=(w.valorItem*a.totalPercentualDesconto|0)/100,I+=w.descontoItem;y=dt(I)-a.totalDesconto,y&&(C[C.length-1].descontoItem-=y,C[C.length-1].descontoItem=dt(C[C.length-1].descontoItem)),N=!0,k=!1,M=void 0,e.prev=79,P=regeneratorRuntime.mark(function e(){var t,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=E.value,t.descontoPercentualItem=a.totalPercentualDesconto,t.descontoItem=(C.find(function(e){return e.id===t.id})||{}).descontoItem,t.subTotal=dt(t.valorItem-t.descontoItem),t.total=t.subTotal,t.valorReal=t.subTotal,t.valorRealTotal=t.subTotal,e.next=9,Oa(t.idItem,t.idCfop,T.campos.idEmpresa,T.campos.idContato);case 9:o=e.sent,t.valorIpi=dt(Object(ot["get"])(o,"aliqIpi",0)/100*t.valorRealTotal),t.valorIcmsSt=dt(Object(ot["get"])(o,"percIva",0)/100*t.valorRealTotal);case 12:case"end":return e.stop()}},e)}),D=this.carrinho[Symbol.iterator]();case 82:if(N=(E=D.next()).done){e.next=87;break}return e.delegateYield(P(),"t3",84);case 84:N=!0,e.next=82;break;case 87:e.next=93;break;case 89:e.prev=89,e.t4=e["catch"](79),k=!0,M=e.t4;case 93:e.prev=93,e.prev=94,N||null==D.return||D.return();case 96:if(e.prev=96,!k){e.next=99;break}throw M;case 99:return e.finish(96);case 100:return e.finish(93);case 101:this.campos=a;case 102:case"end":return e.stop()}},e,this,[[5,9,13,21],[14,,16,20],[27,31,35,43],[36,,38,42],[55,59,63,71],[64,,66,70],[79,89,93,101],[94,,96,100]])}));return function(t){return e.apply(this,arguments)}}(),calculaTotalItem:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o=Yt(this.carrinho[t]),"descontoPercentualItem"===a&&(o.descontoItem=dt(o.descontoPercentualItem/100*o.valorItem)),"descontoItem"===a&&(o.descontoPercentualItem=dt(o.descontoItem/o.valorItem*100)),"valorItem"===a&&(o.valorItem<o.valorOriginal&&(o.valorItem=o.valorOriginal),o.descontoItem=0,o.descontoPercentualItem=0,o.subTotal=o.valorItem),i=o.valorItem-o.descontoItem,dt(i)>dt(o.valorItem)&&(i=o.valorItem,o.descontoPercentualItem=o.descontoItem=0),o.subTotal=dt(i*o.quantidade),o.total=o.subTotal,o.valorReal=dt(i),o.valorRealTotal=o.total,e.next=12,Oa(o.idItem,o.idCfop,this.campos.idEmpresa,this.campos.idContato);case 12:r=e.sent,o.valorIpi=dt(Object(ot["get"])(r,"aliqIpi",0)/100*o.valorRealTotal),o.valorIcmsSt=dt(Object(ot["get"])(r,"percIva",0)/100*o.valorRealTotal),"valorItem"===a?(this.$set(this.carrinho,t,at()({},o,{valorItem:0})),this.$nextTick(function(){s.$set(s.carrinho,t,o),s.calculaTotal()})):this.$set(this.carrinho,t,o),this.calculaTotal();case 17:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),abrirModalCodigoBarras:function(){this.modalCodigoBarras=!0},abrirModalDependente:function(){this.modalDependente=!0},abrirModalReceita:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:try{this.modalReceita={visivel:!0,id:t||hi(),idEmpresa:Object(ot["get"])(this.envelope,"documento.idEmpresa",""),duplicar:a}}catch(e){this.modalReceita={visivel:!1,id:"",idEmpresa:"",duplicar:!1},this.$q.notifyError("Ocorreu um erro ao carregar a receita.",e)}case 1:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),abrirModalItem:function(e,t){switch(e){case"Lentes":this.modalItem.filtros={tipo:"Lente",ativo:!0};break;case"LentesContato":this.modalItem.filtros={tipo:"Lente Contato",ativo:!0};break;case"Armacao":this.modalItem.filtros={tipo:["Armação","Óculos Sol"],ativo:!0};break;case"Tratamento LOD":this.modalItem.filtros={tipo:"Tratamento",ativo:!0},this.tipoTratamento="TLOD",this.idDocumentoItemPai=t;break;case"Tratamento LOE":this.modalItem.filtros={tipo:"Tratamento",ativo:!0},this.tipoTratamento="TLOE",this.idDocumentoItemPai=t;break}this.modalItem.filtros.idEmpresa=this.campos.idEmpresa,this.modalItem.filtros.idTabelaPreco=this.campos.idItemTabelaPreco,this.modalItem.visivel=!0},alterarTipoEnvelope:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a.tipoOculos="Oculos"===a.tipoEnvelope?"Vista":"",a.carrinho=[],a.tipoLente="Multifocal (Longe e Perto)","Oculos"===a.tipoEnvelope?(a.tipoOculos="Vista",a.tipoLentes=a.tipoLentesOculos):(a.tipoOculos="",a.tipoLentes=a.tipoLentesContato);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),this.carrinho.length){e.next=4;break}return t(),e.abrupt("return");case 4:return e.prev=4,e.next=7,this.$q.dialog({cancel:"Cancelar",message:"Esta ação irá remover os itens do carrinho.",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 7:t(),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](4),this.tipoEnvelope="Oculos"===this.tipoEnvelope?"Lentes":"Oculos";case 13:case"end":return e.stop()}},e,this,[[4,10]])}));return function(){return e.apply(this,arguments)}}(),buscarCodigoBarras:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=(t||"").trim().replace(/(\S+\s)|(\S+$)/g,"codigoBarras:$1$2"),t){e.next=3;break}return e.abrupt("return",a([]));case 3:if(o=this.$filters,i=o.dinheiro,r=o.numero,s=[],"Oculos"!==this.tipoEnvelope){e.next=11;break}return e.next=8,Zn.itemBusca.filtrar(t,{ativo:!0,tipo:["Lente","Armação","Óculos Sol"]},10);case 8:s=e.sent,e.next=14;break;case 11:return e.next=13,Zn.itemBusca.filtrar(t,{ativo:!0,tipo:"Lente Contato"},10);case 13:s=e.sent;case 14:if(s=s.map(function(e){return{value:e.id,label:e.descricao,sublabel:"".concat(i(e.valorVenda)," | ").concat(r(e.quantidadeDisponivel)+e.unidade),stamp:e.codigoBarras,item:e}}),!this.entrarCodigoBarras||1!==s.length){e.next=17;break}return e.abrupt("return",this.selecionarItemCodigoBarras(s[0]));case 17:if("function"!==typeof a){e.next=19;break}return e.abrupt("return",a(s));case 19:this.$q.notifyError("Nenhum item foi encontrado.");case 20:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),criarDependencia:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zn.documento.le({id:this.campos.documentoId});case 3:return a=e.sent,e.next=6,this.$store.dispatch("criarDependenciaContatos",{contatoPai:{id:a.idContato},contatoFilho:t});case 6:this.campos.paciente||(this.campos.paciente={}),this.campos.idContato=this.campos.paciente.id=this.idPacienteSelecionado=t.id,this.campos.descricaoContato=this.campos.paciente.nome=t.nome,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),this.$q.notifyError("Ocorreu um erro ao criar a dependência.",e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),escanearCodigoBarras:function(e){this.fecharModalCodigoBarras(),this.$refs.codigoBarras.focus(),this.entrarCodigoBarras=!0,this.buscarCodigoBarras(e)},filtrarReceitas:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=[],e.next=3,Zn.receita.leReceitas({idContato:this.campos.idContato});case 3:a=e.sent,a=Object(ot["orderBy"])(a,"dataHoraEmissao","desc"),o=(new Date).setHours(0,0,0,0),i=!0,r=!1,s=void 0,e.prev=9,n=a[Symbol.iterator]();case 11:if(i=(c=n.next()).done){e.next=27;break}return l=c.value,e.next=15,Zn.receita.le({id:l.id});case 15:l=e.sent,this.receita.id||(this.receita=l),d="De ".concat(l.medico.nome,", "),d+="".concat(this.$filters.data(l.data)," "),d+="válido até ".concat(this.$filters.data(l.validade)),u={},u=new Date(l.validade).setHours(0,0,0,0)<o?{icon:"alarm_off",color:"negative",stamp:"Vencida"}:{icon:"alarm",stamp:"À vencer"},m=at()({label:d,value:l.id},u),t.push(m);case 24:i=!0,e.next=11;break;case 27:e.next=33;break;case 29:e.prev=29,e.t0=e["catch"](9),r=!0,s=e.t0;case 33:e.prev=33,e.prev=34,i||null==n.return||n.return();case 36:if(e.prev=36,!r){e.next=39;break}throw s;case 39:return e.finish(36);case 40:return e.finish(33);case 41:this.receitasDescricao=t;case 42:case"end":return e.stop()}},e,this,[[9,29,33,41],[34,,36,40]])}));return function(){return e.apply(this,arguments)}}(),leitorCodigoBarras:function(e){e.ctrlKey&&74===e.keyCode?e.preventDefault():13===e.keyCode&&(this.entrarCodigoBarras=!0)},eventoInput:function(e){this.$emit("input",e)},voltar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.envelope.somenteLeitura){e.next=3;break}return this.$emit("input",!1),e.abrupt("return");case 3:return e.prev=3,e.next=6,this.$q.dialog({cancel:"Cancelar",message:"As alterações não serão salvas.",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 6:this.$emit("input",!1),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](3);case 11:case"end":return e.stop()}},e,this,[[3,9]])}));return function(){return e.apply(this,arguments)}}(),ordenarCarrinho:function(){var e={LOE:1,TLOE:2,LOD:3,TLOD:4,"Armação":5};this.carrinho=(this.carrinho||[]).sort(function(t,a){return e[t.tipoItem]-e[a.tipoItem]})},removerItem:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=(this.carrinho[t]||{}).id,this.carrinho=this.carrinho.filter(function(e){return e.id!==a&&e.idDocumentoItemPai!==a}),this.calculaTotal();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),salvarDnp:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.receita.id){e.next=2;break}return e.abrupt("return");case 2:if(t=JSON.parse((this.modalPupilometro.pupilometroAtual||{}).json||null),t){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,He().documentoItem.where({idDocumento:this.receita.id}).toArray();case 7:a=e.sent,o=!0,i=!1,r=void 0,e.prev=11,s=a[Symbol.iterator]();case 13:if(o=(n=s.next()).done){e.next=27;break}if(c=n.value,l=0,"Olho Esquerdo"===c.operacao&&(l=dt(t.medidas.dnp.oe)),"Olho Direito"===c.operacao&&(l=dt(t.medidas.dnp.od)),l!==c.di){e.next=20;break}return e.abrupt("continue",24);case 20:return e.next=22,He().documentoItem.update(c.id,{di:l});case 22:return e.next=24,so("atualizar","documentoItem",c.id,{di:l});case 24:o=!0,e.next=13;break;case 27:e.next=33;break;case 29:e.prev=29,e.t0=e["catch"](11),i=!0,r=e.t0;case 33:e.prev=33,e.prev=34,o||null==s.return||s.return();case 36:if(e.prev=36,!i){e.next=39;break}throw r;case 39:return e.finish(36);case 40:return e.finish(33);case 41:this.atualizarReceita(this.receita.id);case 42:case"end":return e.stop()}},e,this,[[11,29,33,41],[34,,36,40]])}));return function(){return e.apply(this,arguments)}}(),salvarEnvelope:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.receita.id){e.next=3;break}return this.$q.notifyError("Selecione uma receita"),e.abrupt("return");case 3:if(this.carrinho.length){e.next=6;break}return this.$q.notifyError("Não há itens no carrinho"),e.abrupt("return");case 6:if(!this.erroDataHoraPrevisto){e.next=9;break}return this.$q.notifyError("Erro no preenchimento do formulário"),e.abrupt("return");case 9:if(t={},"Oculos"!==this.tipoEnvelope){e.next=30;break}a=!1,e.t0=regeneratorRuntime.keys(this.carrinho);case 13:if((e.t1=e.t0()).done){e.next=29;break}if(o=e.t1.value,"Armação"!==this.carrinho[o].tipoItem){e.next=27;break}return this.carrinho[o].alturaMontagemOD=this.armacao.alturaMontagemOD||0,this.carrinho[o].alturaMontagemOE=this.armacao.alturaMontagemOE||0,this.carrinho[o].diagonal=this.armacao.diagonal||0,this.carrinho[o].ponte=this.armacao.ponte||0,this.carrinho[o].altura=this.armacao.altura||0,this.carrinho[o].largura=this.armacao.largura||0,this.carrinho[o].armacaoMaterial=this.armacao.armacaoMaterial,this.carrinho[o].tipoMontagem=this.armacao.tipoMontagem,this.carrinho[o].idItem&&(t.id=this.carrinho[o].idItem,t.armacaoMaterial=this.armacao.armacaoMaterial,t.tipoMontagem=this.armacao.tipoMontagem,t.diagonal=this.armacao.diagonal||0,t.ponte=this.armacao.ponte||0,t.altura=this.armacao.altura||0,t.largura=this.armacao.largura||0),a=!0,e.abrupt("break",29);case 27:e.next=13;break;case 29:a||this.carrinho.push({id:hi(),idDocumento:this.campos.documentoId,idDocumentoAdicional:this.campos.id,dataHoraEmissao:na(),descontoItem:0,descontoPercentualItem:0,descontoSubTotal:0,descricaoItem:"",operacaoFator:0,oculos:this.tipoLente,tipoOculos:this.tipoOculos,quantidade:0,status:this.campos.status,subTotal:0,tipoItem:"Armação",total:0,valorCusto:0,valorCustoMedio:0,valorCustoReposicao:0,valorCustoUltimo:0,valorItem:0,valorItemUltimo:0,valorOriginal:0,valorReal:0,alturaMontagemOD:this.armacao.alturaMontagemOD||0,alturaMontagemOE:this.armacao.alturaMontagemOE||0,diagonal:this.armacao.diagonal||0,ponte:this.armacao.ponte||0,altura:this.armacao.altura||0,largura:this.armacao.largura||0,armacaoMaterial:this.armacao.armacaoMaterial,tipoMontagem:this.armacao.tipoMontagem});case 30:this.campos.idDocumentoAdicional=this.receita.id,i={documento:Yt(this.campos),documentoItens:Yt(this.carrinho),armacao:t,arquivo:this.$refs.arquivo.arquivo.map(function(e){return at()({},e,{idTabelaMaster:r.campos.id,tabelaMaster:"envelope"})}),pupilometro:{original:ea(this.modalPupilometro.pupilometroOriginal),atual:ea(this.modalPupilometro.pupilometroAtual)}},this.documentoContatoLaboratorio.idContato&&(this.documentoContatoLaboratorio.id||(this.documentoContatoLaboratorio.id=hi(),this.documentoContatoLaboratorio.idDocumento=i.documento.id,this.documentoContatoLaboratorio.descricao="Laboratório"),this.documentoContato=this.documentoContato.filter(function(e){return"Laboratório"!==e.descricao}),i.documentoContato=la()(this.documentoContato).concat([this.documentoContatoLaboratorio])),this.salvarDnp(),this.$emit("salvarEnvelope",i),this.$emit("input",!1);case 36:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),selecionarItens:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(t);case 1:if((e.t1=e.t0()).done){e.next=8;break}return a=e.t1.value,o=t[a].item||{},e.next=6,this.selecionarItem(a,o);case 6:e.next=1;break;case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),selecionarItem:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o=[],!["Armação","Óculos Sol"].includes(a.tipo)){e.next=5;break}o=["Armação"],e.next=21;break;case 5:if("Tratamento"!==a.tipo){e.next=9;break}o=[this.tipoTratamento],e.next=21;break;case 9:if(!["Lente","Lente Contato"].includes(a.tipo)){e.next=21;break}return e.prev=10,i=[{label:"LOD / LOE",value:"opt1"},{label:"LOD",value:"opt2"},{label:"LOE",value:"opt3"}],e.next=14,this.$q.dialog({noRefocus:!0,ok:"Continuar",cancel:"Cancelar",title:" ",options:{type:"radio",model:"opt1",items:i}});case 14:r=e.sent,o=i.filter(function(e){return e.value===r})[0].label.split(" / "),e.next=21;break;case 18:return e.prev=18,e.t0=e["catch"](10),e.abrupt("return");case 21:return this.modalItem.visivel=!1,e.next=24,Zn.documentoOperacao.le({codigoDocumentoOperacao:this.campos.codigoDocumentoOperacao});case 24:if(s=e.sent,s||s.length){e.next=28;break}return this.$q.notify("Não foi possível localizar a Operação."),e.abrupt("return");case 28:return e.next=30,Zn.cfop.le({id:s[0].idCfop});case 30:if(n=e.sent,n.id){e.next=34;break}return this.$q.notify("Não foi possível localizar o CFOP."),e.abrupt("return");case 34:c=!0,l=!1,d=void 0,e.prev=37,u=o[Symbol.iterator]();case 39:if(c=(m=u.next()).done){e.next=76;break}if(p=m.value,["TLOD","TLOE"].includes(p)){e.next=50;break}e.t1=regeneratorRuntime.keys(this.carrinho);case 43:if((e.t2=e.t1()).done){e.next=50;break}if(v=e.t2.value,this.carrinho[v].tipoItem!==p){e.next=48;break}return e.next=48,this.removerItem(v);case 48:e.next=43;break;case 50:return e.next=52,Zn.estoqueSaldoProdutoEmpresa.le({idItem:a.id,idEmpresa:Object(ot["get"])(this.envelope,"documento.idEmpresa",""),tipoEstoque:"Disponível"});case 52:return e.t3=function(e){return e.idItem},h=e.sent.find(e.t3),e.next=56,Oa(a.id,n.id,this.campos.idEmpresa,this.campos.idContato);case 56:return f=e.sent,e.next=59,To(a.ncm,n.cfop);case 59:C=e.sent,C&&(n=C),b={id:hi(),idItem:a.id,idDocumento:this.campos.documentoId,idDocumentoAdicional:this.campos.id,codigoCfop:n.codigoCfop,codigoPlanoContaDestino:139,codigoPlanoContaEstoque:146,dataHoraEmissao:na(),descontoItem:0,descontoPercentualItem:0,descontoSubTotal:0,descricaoItem:a.descricaoConcatenada,operacao:n.operacao,operacaoFator:n.fator,idCfop:n.id,oculos:this.tipoLente,tipoOculos:"Armação"===p?this.tipoOculos:"",lenteTipo:"Armação"!==p?this.tipoOculos:"",quantidade:1,status:this.campos.status,subTotal:a.valorVenda,tipoItem:p,total:a.valorVenda,valorCusto:0,valorCustoMedio:Object(ot["get"])(h,"valorCustoMedio",0),valorCustoReposicao:a.valorCustoReposicao||0,valorCustoUltimo:Object(ot["get"])(h,"valorCusto",0),valorItem:a.valorVenda,valorItemUltimo:0,valorOriginal:a.valorVenda,valorReal:a.valorVenda,valorRealTotal:a.valorVenda,alturaMontagemOD:0,alturaMontagemOE:0,diagonal:a.diagonal||0,ponte:a.ponte||0,altura:a.altura||0,largura:a.largura||0,armacaoMaterial:a.armacaoMaterial||"",tipoMontagem:a.tipoMontagem||"",valorIpi:dt(Object(ot["get"])(f,"aliqIpi",0)/100*a.valorVenda),valorIcmsSt:dt(Object(ot["get"])(f,"percIva",0)/100*a.valorVenda)},["TLOD","TLOE"].includes(p)&&this.idDocumentoItemPai&&(b.idDocumentoItemPai=this.idDocumentoItemPai),this.armacao.diagonal=b.diagonal||0,this.armacao.ponte=b.ponte||0,this.armacao.altura=b.altura||0,this.armacao.largura=b.largura||0,this.armacao.armacaoMaterial=b.armacaoMaterial,this.armacao.tipoMontagem=b.tipoMontagem,this.carrinho.push(b),this.ordenarCarrinho(),this.carregarItens(),this.calculaTotal();case 73:c=!0,e.next=39;break;case 76:e.next=82;break;case 78:e.prev=78,e.t4=e["catch"](37),l=!0,d=e.t4;case 82:e.prev=82,e.prev=83,c||null==u.return||u.return();case 85:if(e.prev=85,!l){e.next=88;break}throw d;case 88:return e.finish(85);case 89:return e.finish(82);case 90:case"end":return e.stop()}},e,this,[[10,18],[37,78,82,90],[83,,85,89]])}));return function(t,a){return e.apply(this,arguments)}}(),selecionarItemCodigoBarras:function(e){var t=e.item;this.codigoBarras="",this.entrarCodigoBarras=!1,this.selecionarItem(t.id,t)},pacientesAtualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.contato.leFilhos(Zn.contato.selecionado.id);case 2:for(t=e.sent,t.push({nome:Zn.contato.selecionado.nome,id:Zn.contato.selecionado.id}),a=[],o=!0,i=!1,r=void 0,e.prev=8,s=t[Symbol.iterator]();!(o=(n=s.next()).done);o=!0)c=n.value,a.push({label:c.nome,value:c.id});e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](8),i=!0,r=e.t0;case 16:e.prev=16,e.prev=17,o||null==s.return||s.return();case 19:if(e.prev=19,!i){e.next=22;break}throw r;case 22:return e.finish(19);case 23:return e.finish(16);case 24:this.pacientes=Object(ot["orderBy"])(a,"label");case 25:case"end":return e.stop()}},e,this,[[8,12,16,24],[17,,19,23]])}));return function(){return e.apply(this,arguments)}}(),atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.campos=Yt(at()({},Zn.envelope.vazio,this.envelope.documento)),this.tipoLentes=this.tipoLentesOculos,this.carrinho=Yt(this.envelope.documentoItens||[]),this.armacao.alturaMontagemOD=0,this.armacao.alturaMontagemOE=0,this.armacao.diagonal=0,this.armacao.ponte=0,this.armacao.altura=0,this.armacao.largura=0,this.armacao.armacaoMaterial="",this.armacao.tipoMontagem="",t=[],e.t0=regeneratorRuntime.keys(this.carrinho);case 13:if((e.t1=e.t0()).done){e.next=32;break}if(a=e.t1.value,!this.carrinho[a].idItem){e.next=20;break}return e.next=18,He().item.get(this.carrinho[a].idItem);case 18:o=e.sent,t.push(o.tipo||"");case 20:if("Armação"!==this.carrinho[a].tipoItem){e.next=30;break}return this.armacao.alturaMontagemOD=this.carrinho[a].alturaMontagemOD||0,this.armacao.alturaMontagemOE=this.carrinho[a].alturaMontagemOE||0,this.armacao.diagonal=this.carrinho[a].diagonal||0,this.armacao.ponte=this.carrinho[a].ponte||0,this.armacao.altura=this.carrinho[a].altura||0,this.armacao.largura=this.carrinho[a].largura||0,this.armacao.armacaoMaterial=this.carrinho[a].armacaoMaterial,this.armacao.tipoMontagem=this.carrinho[a].tipoMontagem,e.abrupt("break",32);case 30:e.next=13;break;case 32:this.tipoEnvelope="Oculos",i=new RegExp(/contato/i),r=0;case 35:if(!(r<t.length)){e.next=43;break}if(s=t[r],!i.test(s)){e.next=40;break}return this.tipoEnvelope="Lentes",e.abrupt("break",43);case 40:r++,e.next=35;break;case 43:if(this.documentoContato=Yt(this.envelope.documentoContato||[]),this.documentoContatoLaboratorio=this.documentoContato.find(function(e){return"Laboratório"===e.descricao})||{},this.descricaoLaboratorio="",!this.documentoContatoLaboratorio.id){e.next=53;break}return e.next=49,Zn.contato.le({id:this.documentoContatoLaboratorio.idContato});case 49:if(e.t2=e.sent.apelido,e.t2){e.next=52;break}e.t2="";case 52:this.descricaoLaboratorio=e.t2;case 53:return e.next=55,Zn.contato.le({id:this.campos.idContatoResponsavel});case 55:if(e.t3=e.sent.apelido,e.t3){e.next=58;break}e.t3="";case 58:if(this.descricaoResponsavel=e.t3,this.campos.dataHoraPrevisto){e.next=71;break}return n="",e.next=63,Zn.configuracoes.le({nome:"venda.envelope.previsaoentrega"});case 63:c=e.sent,c.length&&(c=parseInt(c[0].valor)),Number.isInteger(c)||(c=15),l=new Date,d=l.getDate(),l.setDate(d+c),n=new Date(l.setHours(0,0,0,0)),this.campos.dataHoraPrevisto=At["d"].formatDate(n);case 71:this.$refs.arquivo.arquivo=this.envelope.arquivo,this.$refs.arquivo.somenteLeitura=this.envelope.somenteLeitura,this.pacientesAtualizar(),this.atualizarArmacaoMaterial(),this.atualizarTipoMontagem(),this.atualizarReceita(this.campos.idDocumentoAdicional),this.ordenarCarrinho(),this.carregarItens(),this.carregarPupilometro();case 80:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),carregarItens:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=!0,a=!1,o=void 0,e.prev=3,i=this.carrinho[Symbol.iterator]();case 5:if(t=(r=i.next()).done){e.next=16;break}if(s=r.value,!s.idItem||s.idItem in this.itens){e.next=13;break}return e.next=10,He().item.get(s.idItem);case 10:n=e.sent,n=at()({},n,{marca:n.marca||"",referencia:n.referencia||"",observacao:n.observacao||"",aplicacao:n.aplicacao||"",imagem:n.imagem||""}),this.$set(this.itens,n.id,n);case 13:t=!0,e.next=5;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](3),a=!0,o=e.t0;case 22:e.prev=22,e.prev=23,t||null==i.return||i.return();case 25:if(e.prev=25,!a){e.next=28;break}throw o;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case"end":return e.stop()}},e,this,[[3,18,22,30],[23,,25,29]])}));return function(){return e.apply(this,arguments)}}(),carregarPupilometro:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return Zn.permissao.objeto("pupilometro").then(function(e){o.permissaoPupilometro=e}),e.next=3,He().json.where({descricao:"Pupilômetro",referencia:"idEnvelope:"+this.campos.id}).toArray();case 3:t=e.sent,a=t.find(function(e){return e.id}),this.modalPupilometro.pupilometroOriginal={},this.modalPupilometro.pupilometroAtual={},a&&(this.modalPupilometro.pupilometroOriginal=ea(a),this.modalPupilometro.pupilometroAtual=ea(a));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},props:{envelope:{default:function(){},type:Object},value:{default:!1,required:!0,type:Boolean}},watch:{value:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t&&this.atualizar();case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}},xf=gf,_f=Object(sc["a"])(xf,ih,rh,!1,null,null,null);_f.options.__file="Envelope.vue";var qf=_f.exports,Sf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-modal",{attrs:{"no-esc-dismiss":"","no-backdrop-dismiss":"",maximized:""},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("div",{staticClass:"q-pt-xl",staticStyle:{background:"#eee","min-height":"100vh"}},[a("q-layout-header",{attrs:{reveal:""}},[a("q-toolbar",{staticClass:"BarraTopo"},[a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"arrow_back"},on:{click:e.close}}),a("q-toolbar-title",[e._v("Ordem de Serviço")]),a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"white","text-color":"primary",label:"Salvar"},on:{click:e.save}})],1)],1),a("div",{staticClass:"layout-padding row justify-center"},[a("div",{staticStyle:{width:"1280px","max-width":"90vw"}},[a("q-card",{staticClass:"q-pa-md q-px-lg q-mb-md bg-white no-shadow"},[a("q-toolbar",{staticClass:"q-pb-md q-px-none",attrs:{color:"black",inverted:""}},[a("q-toolbar-title",{staticClass:"q-px-none"},[a("div",{staticClass:"row items-center"},[a("avatar",{staticStyle:{float:"left"},attrs:{imagem:e.contato.imagem,rotulo:e.contato.descricao,tamanho:"40"}}),a("div",{staticClass:"col q-ma-sm q-title"},[e._v(e._s(e.contato.descricao))])],1)]),a("badge",[e._v("#"+e._s(e.contato.codigo))])],1),a("div",{staticClass:"row gutter-x-sm q-mb-sm"},[a("div",{staticClass:"col-4"},[a("campo",{staticClass:"bg-light q-px-sm",attrs:{rotuloFixo:"Problema",tipo:"textoArea",erro:!!e.erroDescricao,"erro-rotulo":e.erroDescricao,"somente-leitura":e.readonly},model:{value:e.dataTmp.documento.descricao,callback:function(t){e.$set(e.dataTmp.documento,"descricao","string"===typeof t?t.trim():t)},expression:"dataTmp.documento.descricao"}})],1),a("div",{staticClass:"col-4"},[a("campo",{staticClass:"bg-light q-px-sm",attrs:{rotuloFixo:"Solução",tipo:"textoArea","somente-leitura":e.readonly},model:{value:e.dataTmp.documento.observacao,callback:function(t){e.$set(e.dataTmp.documento,"observacao","string"===typeof t?t.trim():t)},expression:"dataTmp.documento.observacao"}})],1),a("div",{staticClass:"col-4"},[a("campo",{staticClass:"bg-light q-px-sm",attrs:{rotuloFixo:"Descrição Agrupamento",tipo:"texto",somenteLeitura:e.readonly},model:{value:e.descricaoAgrupamento,callback:function(t){e.descricaoAgrupamento="string"===typeof t?t.trim():t},expression:"descricaoAgrupamento"}})],1)])],1),e.permissao.equipamento?a("div",{staticClass:"bg-white q-mt-md"},[a("q-card",{staticClass:"q-pa-md no-shadow"},[a("div",{staticClass:"row q-pa-sm"},[a("q-toolbar-title",[e._v(e._s(e.equipamento.tipo||"Equipamento"))]),e.readonly?e._e():a("q-btn",{attrs:{color:"primary",flat:"",icon:"add",label:"Equipamento"},on:{click:function(t){e.modalEquipamento={visivel:!0,campos:{}}}}}),a("EquipamentoModal",{attrs:{modal:e.modalEquipamento},on:{atualizar:function(t){e.equipamento=t,e.dataTmp.documento.idEquipamento=t.id}}}),a("SeletorEquipamento",{staticClass:"col-auto",attrs:{apenasIcone:"",filtro:{idContato:e.dataTmp.documento.idContato}},on:{selecionar:function(t){return e.equipamento=t}},model:{value:e.dataTmp.documento.idEquipamento,callback:function(t){e.$set(e.dataTmp.documento,"idEquipamento",t)},expression:"dataTmp.documento.idEquipamento"}})],1),a("div",{staticClass:"row q-px-md q-pb-md"},[a("EquipamentoCard",{attrs:{equipamento:e.equipamento}})],1)])],1):e._e(),a("div",{staticClass:"bg-white q-mt-md"},[a("q-card",{staticClass:"q-pa-md no-shadow"},[a("div",{staticClass:"row q-pa-sm"},[a("q-toolbar-title",[e._v("Imagens")])],1),a("div",{staticClass:"row q-px-md q-pb-md"},[a("div",{staticClass:"col"},[a("arquivo",{ref:"arquivo"})],1)])])],1),a("div",{staticClass:"bg-white q-mt-md q-py-sm"},[a("q-card",{staticClass:"q-pa-md q-pb-xl q-mb-md bg-white no-shadow "},[a("q-toolbar",{staticClass:"q-pt-md",attrs:{color:"black",inverted:""}},[a("q-toolbar-title",[e._v("Itens")]),e.readonly?e._e():a("q-btn",{attrs:{color:"primary",flat:"",icon:"add",label:"Produto"},on:{click:function(t){e.abrirModalItem("Produto")}}}),e.readonly?e._e():a("q-btn",{attrs:{color:"primary",flat:"",icon:"add",label:"Serviço"},on:{click:function(t){e.abrirModalItem("Serviço")}}})],1),e.readonly?e._e():a("q-field",{staticClass:"q-mx-lg"},[a("q-input",{ref:"codigoBarras",attrs:{after:[{icon:"mdi-barcode-scan",handler:e.abrirModalCodigoBarras}],before:[{icon:"line_weight"}],color:"light","inverted-light":"","float-label":"Código de barras"},on:{keydown:e.leitorCodigoBarras},model:{value:e.codigoBarras,callback:function(t){e.codigoBarras=t},expression:"codigoBarras"}},[a("q-autocomplete",{attrs:{"min-characters":3},on:{search:e.buscarCodigoBarras,selected:e.selecionarItemCodigoBarras}})],1)],1),e.dataTmp.documentoItens.length?e._l(e.dataTmp.documentoItens,function(t,o){return a("div",{key:o,staticClass:"items-carrinho items-center row q-py-sm q-mx-lg"},[a("div",{staticClass:"col-auto"},[a("avatar",{attrs:{imagem:e.buscarItem(t.idItem).imagem,rotulo:t.descricaoItem,tamanho:"40"}})],1),a("q-toolbar",{staticClass:"Venda-itemBarra bg-transparent col q-pr-none q-py-none",attrs:{color:"black",inverted:""}},[a("q-toolbar-title",{staticClass:"q-px-none"},[a("span",{staticClass:"q-body-2"},[e._v(e._s(t.descricaoItem))]),a("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v(e._s(e.buscarItem(t.idItem).marca))])]),a("badge",{attrs:{denso:""}},[e._v(e._s(t.tipoItem)+" "+e._s(e.buscarItem(t.idItem).referencia))]),e.readonly?e._e():a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""},on:{click:function(t){e.removerItem(o)}}},[a("q-tooltip",[e._v("Remover Item")])],1)],1),a("div",{staticClass:"col-12",staticStyle:{"margin-top":"-10px"}},[a("div",{staticClass:"gutter-x-sm row"},[a("q-field",{staticClass:"col-4 col-sm-3 col-lg-2",attrs:{warning:!!e.warningLabel[t.id],"warning-label":e.warningLabel[t.id]}},[a("campo",{attrs:{"class-campo":"u-campoCompacto",align:"left",tipo:"decimal",decimals:"2","somente-leitura":e.readonly,"hide-underline":""},on:{blur:function(t){e.calculaTotalItem(o,"valorItem")}},model:{value:t.valorItem,callback:function(a){e.$set(t,"valorItem",a)},expression:"item.valorItem"}}),a("q-tooltip",[e._v("Valor do produto")])],1),a("q-field",{staticClass:"col-4 col-sm-3 col-lg-2"},[a("campo",{attrs:{"class-campo":"u-campoCompacto ",opcoes:{maximumValue:100},tipo:"decimal",decimals:"2",prefix:"─",suffix:"%","somente-leitura":e.readonly,"hide-underline":""},on:{blur:function(t){e.calculaTotalItem(o,"descontoPercentualItem")}},model:{value:t.descontoPercentualItem,callback:function(a){e.$set(t,"descontoPercentualItem",a)},expression:"item.descontoPercentualItem"}}),a("q-tooltip",[e._v("Desconto percentual")])],1),a("q-field",{staticClass:"col-4 col-sm-3 col-lg-2"},[a("campo",{attrs:{"class-campo":"u-campoCompacto",opcoes:{maximumValue:t.valorItem,minimumValue:0},tipo:"decimal",decimals:"2","hide-underline":"","somente-leitura":e.readonly},on:{blur:function(t){e.calculaTotalItem(o,"descontoItem")}},model:{value:t.descontoItem,callback:function(a){e.$set(t,"descontoItem",a)},expression:"item.descontoItem"}}),a("q-tooltip",[e._v("Desconto em reais")])],1),a("q-field",{staticClass:"col-3 col-lg-2"},[a("campo",{attrs:{"class-campo":"u-campoCompacto text-weight-bold",align:e.$q.screen.lt.sm?"left":"right",opcoes:{maximumValue:t.valorItem,minimumValue:0},prefix:e.$q.screen.lt.sm?"":"=",suffix:e.$q.screen.lt.sm?"×":"",tipo:"decimal",decimals:"2","somente-leitura":e.readonly,"hide-underline":""},on:{blur:function(t){e.calculaTotalItem(o,"subTotal")}},model:{value:e.subTotal[t.id],callback:function(a){e.$set(e.subTotal,t.id,a)},expression:"subTotal[item.id]"}}),a("q-tooltip",[e._v("Subtotal")])],1),a("q-field",{staticClass:"col-5 col-sm-8 col-lg-2"},[a("campo",{attrs:{"class-campo":"u-campoCompacto",min:"1","somente-leitura":e.readonly,tipo:"quantidade","hide-underline":""},on:{input:function(t){e.calculaTotalItem(o,"quantidade")}},model:{value:t.quantidade,callback:function(a){e.$set(t,"quantidade",a)},expression:"item.quantidade"}}),a("q-tooltip",[e._v("Quantidade")])],1),a("q-field",{staticClass:"col-4 col-lg-2"},[a("campo",{attrs:{"class-campo":"u-campoCompacto text-weight-bold","hide-underline":"","somente-leitura":"",tipo:"decimal",prefix:"= ",decimals:"2"},model:{value:t.total,callback:function(a){e.$set(t,"total",a)},expression:"item.total"}}),a("q-tooltip",[e._v("Total")])],1)],1)])],1)}):a("div",{staticClass:"q-pa-lg text-center"},[a("p",[e._v("Não há itens no carrinho")]),a("p",{staticClass:"q-caption"},[e._v("Para adicionar, utilize os botões acima ou insira o código de barras")])])],2)],1),a("div",{staticClass:"bg-white q-mt-md q-py-sm"},[a("q-card",{staticClass:"q-pa-lg q-mb-md bg-white no-shadow"},[a("div",{staticClass:"gutter-x-sm row"},[a("div",{staticClass:"col-12 col-lg-8"},[a("campo",{attrs:{maxlength:"10",rotulo:"Previsão de Entrega",tipo:"data",erro:!!e.erroDataHoraPrevisto,"erro-rotulo":e.erroDataHoraPrevisto,somenteLeitura:e.readonly},model:{value:e.dataTmp.documento.dataHoraPrevisto,callback:function(t){e.$set(e.dataTmp.documento,"dataHoraPrevisto",t)},expression:"dataTmp.documento.dataHoraPrevisto"}}),a("campo",{attrs:{maxlength:"10",rotulo:"Garantia do(s) Serviço(s)",tipo:"data",erro:!!e.erroDataGarantiaFim,"erro-rotulo":e.erroDataGarantiaFim,somenteLeitura:e.readonly},model:{value:e.dataGarantiaFim,callback:function(t){e.dataGarantiaFim=t},expression:"dataGarantiaFim"}}),a("campo",{staticClass:"col-12 col-sm-4",attrs:{value:e.descricaoResponsavel,before:[{icon:"search",handler:e.abrirModalResponsavel}],rotulo:"Técnico",somenteLeitura:e.readonly},on:{click:e.abrirModalResponsavel}})],1),a("div",{staticClass:"col-12 col-lg-4 q-mt-md"},[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-4 q-mt-sm",staticStyle:{"padding-top":"8px"}},[e._v("\n                      Total\n                    ")]),a("strong",{staticClass:"col-8 q-mt-sm text-right",staticStyle:{"padding-top":"8px"}},[e._v("\n                      "+e._s(e._f("numero")(e.dataTmp.documento.totalDocumento,2))+"\n                    ")])])])])])],1)],1)])],1)]),a("prompt-codigo-barras",{on:{escanear:e.escanearCodigoBarras},model:{value:e.modalCodigoBarras,callback:function(t){e.modalCodigoBarras=t},expression:"modalCodigoBarras"}}),a("prompt-item-novo",{ref:"promptItem",attrs:{filtro:e.modalItem.filtros,habilitarQuantidade:!0},on:{selecionarItens:e.selecionarItens},model:{value:e.modalItem.visivel,callback:function(t){e.$set(e.modalItem,"visivel",t)},expression:"modalItem.visivel"}}),a("prompt-contato-novo",{attrs:{filtro:{ativo:!0,tecnicos:!0}},on:{selecionar:e.selecionarResponsavel},model:{value:e.modalResponsavel,callback:function(t){e.modalResponsavel=t},expression:"modalResponsavel"}})],1)},If=[];Sf._withStripped=!0;var Ff=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row gutter-xs"},[e.equipamento.descricao?a("div",{staticClass:"col-12"},[e._v(e._s(e.equipamento.descricao))]):e._e(),a("div",{staticClass:"col-12"},[e._v(" "+e._s(e.marcaModeloCor)+"\n\n  ")]),a("div",{staticClass:"col-12"},[e.equipamento.placa?[a("span",{staticClass:"q-body-1"},[e._v("Placa: ")]),a("strong",{staticClass:"q-pr-md"},[e._v(e._s(e.equipamento.placa))])]:e._e(),e.equipamento.chassi?[a("span",{staticClass:"q-body-1"},[e._v("Chassi: ")]),a("strong",{staticClass:"q-pr-md"},[e._v(e._s(e.equipamento.chassi))])]:e._e(),e.equipamento.btu?[a("span",{staticClass:"q-body-1"},[e._v("BTU: ")]),a("strong",{staticClass:"q-pr-md"},[e._v(e._s(e.equipamento.btu))])]:e._e(),e.equipamento.numeroSerie?[a("span",{staticClass:"q-body-1"},[e._v("Número de série: ")]),a("strong",{staticClass:"q-pr-md"},[e._v(e._s(e.equipamento.numeroSerie))])]:e._e(),e.equipamento.dataValidade?[a("span",{staticClass:"q-body-1"},[e._v("Validade: ")]),a("strong",{staticClass:"q-pr-md"},[e._v(e._s(e._f("data")(e.equipamento.dataValidade)))])]:e._e(),e.equipamento.dataFinalGarantia?[a("span",{staticClass:"q-body-1"},[e._v(" Garantia: ")]),a("strong",{staticClass:"q-pr-md"},[e._v(e._s(e._f("data")(e.equipamento.dataFinalGarantia)))])]:e._e()],2),e.equipamento.observacao?a("div",{staticClass:"col-12"},[a("strong",{staticClass:"q-body-1"},[e._v("Observação: ")]),e._v(e._s(e.equipamento.observacao)+"\n  ")]):e._e()])},wf=[];Ff._withStripped=!0;var yf={computed:{marcaModeloCor:function(){var e=this;return["marca","modelo","cor"].map(function(t){return e.equipamento[t]}).filter(function(e){return e}).join(" - ")}},props:{equipamento:{required:!0,type:Object}}},Nf=yf,kf=Object(sc["a"])(Nf,Ff,wf,!1,null,null,null);kf.options.__file="EquipamentoCard.vue";var Mf=kf.exports,Pf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{maximized:""},model:{value:e.modal.visivel,callback:function(t){e.$set(e.modal,"visivel",t)},expression:"modal.visivel"}},[a("q-modal-layout",{staticClass:"bg-light"},[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"}}),a("q-toolbar-title",[e._v("Equipamento")]),a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"white","text-color":"primary",label:"Salvar"},on:{click:function(t){e.tryLoading(e.salvarEquipamento,{erro:"Ocorreu erro ao salvar equipamento"})}}})],1),a("div",{staticClass:"bg-white q-mx-md q-pa-md"},[a("div",{staticClass:"gutter-x-sm items-center row"},[a("campo",{staticClass:"col-12 col-sm-6",attrs:{rotulo:"Tipo",tipo:"seletor",opcoes:e.opcoesTipoEquipamento},model:{value:e.campos.tipo,callback:function(t){e.$set(e.campos,"tipo",t)},expression:"campos.tipo"}}),a("SeletorItem",{staticClass:"col-12 col-sm-6",attrs:{rotulo:"Produto"},model:{value:e.campos.idItem,callback:function(t){e.$set(e.campos,"idItem",t)},expression:"campos.idItem"}}),a("campo",{staticClass:"col-12",attrs:{rotulo:"Descrição"},model:{value:e.campos.descricao,callback:function(t){e.$set(e.campos,"descricao",t)},expression:"campos.descricao"}})],1),a("div",{staticClass:"gutter-x-sm items-center row"},[a("campo",{staticClass:"col-6 col-sm-3",attrs:{rotulo:"Marca"},model:{value:e.campos.marca,callback:function(t){e.$set(e.campos,"marca",t)},expression:"campos.marca"}}),a("campo",{staticClass:"col-6 col-sm-3",attrs:{rotulo:"Modelo"},model:{value:e.campos.modelo,callback:function(t){e.$set(e.campos,"modelo",t)},expression:"campos.modelo"}}),a("campo",{staticClass:"col-6 col-sm-3",attrs:{rotulo:"Cor"},model:{value:e.campos.cor,callback:function(t){e.$set(e.campos,"cor",t)},expression:"campos.cor"}})],1),a("div",{staticClass:"gutter-x-sm items-center row"},["Veículo"===e.campos.tipo?[a("campo",{staticClass:"col-6 col-sm-3",attrs:{rotulo:"Placa"},on:{input:function(t){e.campos.placa=e.campos.placa.toUpperCase()}},model:{value:e.campos.placa,callback:function(t){e.$set(e.campos,"placa",t)},expression:"campos.placa"}}),a("campo",{staticClass:"col-6 col-sm-3",attrs:{rotulo:"Chassi"},model:{value:e.campos.chassi,callback:function(t){e.$set(e.campos,"chassi",t)},expression:"campos.chassi"}})]:[a("campo",{staticClass:"col-6 col-sm-3",attrs:{rotulo:"Número de série"},model:{value:e.campos.numeroSerie,callback:function(t){e.$set(e.campos,"numeroSerie",t)},expression:"campos.numeroSerie"}}),"Ar condicionado"===e.campos.tipo?a("campo",{staticClass:"col-6 col-sm-3",attrs:{rotulo:"BTU"},model:{value:e.campos.btu,callback:function(t){e.$set(e.campos,"btu",t)},expression:"campos.btu"}}):e._e(),a("campo",{staticClass:"col-6 col-sm-3",attrs:{rotulo:"Data de validade",tipo:"data"},model:{value:e.campos.dataValidade,callback:function(t){e.$set(e.campos,"dataValidade",t)},expression:"campos.dataValidade"}})],a("campo",{staticClass:"col-6 col-sm-3",attrs:{rotulo:"Data final garantia",tipo:"data"},model:{value:e.campos.dataFinalGarantia,callback:function(t){e.$set(e.campos,"dataFinalGarantia",t)},expression:"campos.dataFinalGarantia"}})],2),a("div",{staticClass:"gutter-x-sm items-center row"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"Observação"},model:{value:e.campos.observacao,callback:function(t){e.$set(e.campos,"observacao",t)},expression:"campos.observacao"}})],1)]),a("div",{staticClass:"items-center justify-around q-my-lg row"},[e.campos.dataCadastro?a("small",[e._v("Data do cadastro: "+e._s(e._f("dataHora")(e.campos.dataCadastro)))]):e._e()])],1)],1)},Df=[];Pf._withStripped=!0;var Ef=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("campo",{attrs:{value:e.campos.descricao,before:[{icon:"search",handler:function(){return e.modal=!0}}],rotulo:e.rotulo,"apenas-leitura":""},on:{click:function(t){e.modal=!0}}}),a("prompt-item-novo",{attrs:{filtro:e.filtro},on:{selecionarItens:e.selecionar},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}})],1)},Tf=[];Ef._withStripped=!0;var Af={components:{PromptItemNovo:Zv},data:function(){return{campos:{},modal:!1}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$db.item.le({id:this.value});case 3:this.campos=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$q.notifyError("Erro ao consultar",e.t0);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),selecionar:function(e){var t=Object.keys(e)[0],a=e[t].item;try{this.campos=a,this.$emit("input",a.id),this.$emit("selecionar",a),this.modal=!1}catch(e){this.$q.notifyError("Erro ao selecionar",e)}}},props:{value:{default:"",type:String},filtro:{default:function(){return{ativo:!0}},type:Object},rotulo:{default:"",type:String}},watch:{value:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t!==this.campos.id&&this.atualizar();case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},created:function(){this.atualizar()}},Of=Af,$f=Object(sc["a"])(Of,Ef,Tf,!1,null,null,null);$f.options.__file="SeletorItem.vue";var Rf=$f.exports,jf={components:{SeletorItem:Rf},computed:{campos:function(){return this.modal.campos}},data:function(){return{opcoesTipoEquipamento:[]}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$db.configuracoes.leValor("equipamento.tipos","Equipamento");case 3:t=e.sent,this.opcoesTipoEquipamento=t.split(";").filter(function(e){return e}).map(function(e){return{rotulo:e.trim(),valor:e.trim()}}),this.modal.campos.tipo||this.$set(this.modal.campos,"tipo",this.opcoesTipoEquipamento[0].valor),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$q.notifyError("Erro ao carregar os dados",e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),salvarEquipamento:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$utils.clonarV2(this.modal.campos),this.$utils.gconsole.log("Equipamentos","salvarEquipamento",t),this.$utils.verificarErro(!t.tipo,"Tipo de equipamento não selecionado"),t.id||(t.id=this.$utils.uuid()),t.dataCadastro||(t.dataCadastro=this.$utils.dataAtual()),t.idContato||(t.idContato=this.$db.contato.selecionado.id),"Veículo"===t.tipo?(t.placa=(t.placa||"").replace(/ /g,""),t.numeroSerie="",t.dataValidade=""):(t.chassi="",t.placa=""),"Ar condicionado"!==t.tipo&&(t.btu=""),e.next=10,this.$db.equipamento.grava({atual:t,original:this.modal.original});case 10:this.$q.notifyPositive("Equipamento salvo com sucesso"),this.modal.visivel=!1,this.$emit("atualizar",t);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},props:{modal:{required:!0,type:Object}},watch:{"modal.visivel":function(e){e&&this.atualizar()}},mounted:function(){this.atualizar()}},zf=jf,Bf=(a("306b"),Object(sc["a"])(zf,Pf,Df,!1,null,null,null));Bf.options.__file="EquipamentoModal.vue";var Lf=Bf.exports,Vf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.apenasIcone?a("q-btn",{attrs:{color:"primary",flat:"",icon:"search",label:"Equipamento"},on:{click:function(t){e.modal=!0}}}):a("campo",{attrs:{value:e.descricaoEquipamento,before:[{icon:"search",handler:function(){return e.modal=!0}}],rotulo:e.rotulo,"apenas-leitura":""},on:{click:function(t){e.modal=!0}}}),a("PromptEquipamento",{attrs:{filtro:e.filtro},on:{selecionar:e.selecionar},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}})],1)},Uf=[];Vf._withStripped=!0;var Hf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("prompt",{attrs:{value:e.value,prop:{dados:e.dados,esquema:e.esquema,ordens:e.ordens}},on:{input:e.eventoInput,hide:e.aoFechar},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.itens;return[0===o.length?a("div",{staticClass:"bg-light q-pa-lg round-borders text-black text-center"},[e._v("\n      Não encontramos equipamento com os critérios selecionados.\n    ")]):e._e(),a("q-list",{attrs:{link:"","no-border":"",separator:""}},e._l(o,function(t){return a("q-item",{key:t.id,nativeOn:{click:function(a){e.selecionar(t)}}},[a("q-item-main",[a("div",{staticClass:"col-12 q-pb-md"},[a("strong",[e._v(e._s(t.tipo||"Equipamento"))])]),a("EquipamentoCard",{attrs:{equipamento:t}})],1)],1)}))]}}])})},Qf=[];Hf._withStripped=!0;var Gf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{value:e.value,maximized:""},on:{show:e.aoAbrir,input:e.eventoInput,hide:e.aoFechar}},[a("q-modal-layout",[a("q-layout-header",{attrs:{reveal:""}},[e.prop.titulo?a("q-toolbar",{staticClass:"BarraTopo"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("\n          "+e._s(e.prop.titulo)+"\n        ")])],1):e._e(),a("q-toolbar",{staticClass:"BarraTopo"},[e.prop.titulo?e._e():a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[a("q-search",{ref:"buscaCampo",attrs:{color:"none",inverted:"",placeholder:"Buscar",after:[{icon:"close",content:!0,handler:function(){e.buscaCampo="",e.atualizar()}}]},on:{input:e.aoBuscar},model:{value:e.buscaCampo,callback:function(t){e.buscaCampo=t},expression:"buscaCampo"}})],1),a("q-btn",{attrs:{dense:"",flat:"",icon:"filter_list",round:""},on:{click:e.alternarFiltros}},[e.filtros.length?a("q-chip",{attrs:{floating:"",color:"negative"}},[e._v(e._s(e.filtros.length))]):e._e(),a("q-tooltip",[e._v("Filtros")])],1),e.temOrdens?a("q-btn",{attrs:{dense:"",flat:"",icon:"swap_vert",round:""}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},e._l(e.propx.ordens,function(t,o){return a("q-item",{key:o,nativeOn:{click:function(a){e.ordenar(t.valor,t.ordem,o)}}},[a("q-item-side",{attrs:{icon:t.icone}}),a("q-item-main",{attrs:{label:t.rotulo}}),a("q-item-side",{attrs:{right:""}},[e.ordemSelecionada===o?a("q-icon",{attrs:{name:"done",color:"positive"}}):e._e()],1)],1)}))],1)],1):e._e(),e._l(e.propx.botoes,function(t,o){return a("q-btn",{key:o,attrs:{dense:"",flat:"",icon:t.icone,round:""},on:{click:t.manipulador}},[t.rotulo?a("q-tooltip",[e._v(e._s(t.rotulo))]):e._e()],1)})],2)],1),a("div",{staticClass:"layout-padding q-mt-xl"},[e.carregando?a("div",{staticClass:"q-mt-lg text-center"},[a("q-spinner",{attrs:{color:"faded",size:50}})],1):e._e(),e._t("default",null,{itens:e.dadosFiltrados,carregando:e.carregando})],2)],1)],1)},Jf=[];Gf._withStripped=!0;var Xf={computed:{temBusca:function(){return""!==this.buscaCampo},temOrdens:function(){return!this.temBusca&&(this.propx.ordens&&this.propx.ordens.length>0)},propx:function(){return at()({filtro:[],esquema:[],ordens:[],dados:[],limite:0},this.prop)}},data:function(){return{busca:"",buscaCampo:"",carregando:!0,filtros:[],mostrarFiltros:!1,ordem:[],ordemSelecionada:(this.prop.ordens||[]).findIndex(function(e){return e.padrao}),pagina:1,dadosFiltrados:[]}},methods:{aoFechar:function(){this.$emit("hide")},alternarFiltros:function(){this.mostrarFiltros=!this.mostrarFiltros},atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.prop.dados,Array.isArray(t)||"contatos"!==t.tipo){e.next=5;break}return e.next=4,Zn.contatoBusca.filtrar(null,t.filtroPermanente||{});case 4:t=e.sent;case 5:Array.isArray(t)||"itens"!==t.tipo||(t=Zn.itemBusca.filtrar(null,t.filtroPermanente||{})),this.filtros.length>0&&(t=Ma(t,this.filtros)),this.buscaCampo?(a=this.propx.esquema.filter(function(e){return!!e.prioridade}),o=new Vm.a(t,{keys:a.map(function(e){return{name:e.valor,weight:e.prioridade}})}),t=o.search(this.buscaCampo)):this.ordem.length>0&&(t=Object(ot["orderBy"])(t,this.ordem[0],this.ordem[1])),this.dadosFiltrados=t.slice(0,this.propx.limite||50);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),aoAbrir:function(){var e=this;setTimeout(function(){e.atualizar(),e.carregando=!1,e.$refs.buscaCampo&&e.$refs.buscaCampo.focus()},500)},eventoInput:function(e){this.$emit("input",e)}},props:{prop:{type:Object,default:function(){return{filtro:[],esquema:[],ordens:[],dados:[],limite:0,titulo:""}}},value:{default:!1,required:!0,type:Boolean}},watch:{value:function(e){this.dadosFiltrados=e?this.propx.dados:[],this.$emit("input",e)}},created:function(){var e=this,t=this.propx.ordens.find(function(e){return e.padrao});this.temOrdens&&(this.ordem=[t.valor,t.ordem]),this.aoBuscar=Object(ot["debounce"])(function(t){e.atualizar()},500)}},Yf=Xf,Wf=Object(sc["a"])(Yf,Gf,Jf,!1,null,null,null);Wf.options.__file="Prompt.vue";var Zf=Wf.exports,Kf={components:{EquipamentoCard:Mf,Prompt:Zf},computed:{botoes:function(){return[]}},data:function(){return{dados:[],esquema:[{prioridade:.8,rotulo:"Descrição",tipo:"texto",valor:"descricao"},{prioridade:.8,rotulo:"Placa",tipo:"texto",valor:"placa"},{prioridade:.4,rotulo:"Marca",tipo:"texto",valor:"marca"},{prioridade:.8,rotulo:"Modelo",tipo:"texto",valor:"modelo"},{prioridade:.2,rotulo:"Cor",tipo:"texto",valor:"cor"},{prioridade:.2,rotulo:"Número de série",tipo:"texto",valor:"numeroSerie"},{prioridade:.2,rotulo:"Chassi",tipo:"texto",valor:"chassi"},{prioridade:.2,rotulo:"Tipo",tipo:"texto",valor:"tipo"},{prioridade:.2,rotulo:"BTU",tipo:"texto",valor:"btu"},{prioridade:.4,rotulo:"Observacao",tipo:"texto",valor:"observacao"}],ordens:[{icone:"arrow_downward",padrao:!0,rotulo:"Descrição",valor:"descricao"},{icone:"arrow_upward",ordem:"desc",rotulo:"Descrição invertida",valor:"descricao"}]}},methods:{aoFechar:function(){this.$emit("hide")},eventoInput:function(e){this.$emit("input",e)},selecionar:function(e){this.$emit("selecionar",e),this.$emit("input",!1)}},props:{filtro:{default:function(){return{}},type:Object},value:{required:!0,type:Boolean}},watch:{value:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return this.$utils.gconsole.log("PromptEquipamento",this.filtro),e.next=4,this.$db.equipamento.le(this.filtro);case 4:this.dados=e.sent,e.next=8;break;case 7:this.dados=[];case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}},eC=Kf,tC=Object(sc["a"])(eC,Hf,Qf,!1,null,null,null);tC.options.__file="PromptEquipamento.vue";var aC=tC.exports,oC={components:{PromptEquipamento:aC},data:function(){return{descricaoEquipamento:"",campos:{},modal:!1}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$db.equipamento.le({id:this.value});case 3:this.campos=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$q.notifyError("Erro ao consultar equipamento",e.t0);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),selecionar:function(e){try{this.mostraDescricao&&(this.descricaoEquipamento=e.placa||e.descricao||e.marca+" - "+e.modelo||e.tipo||e.id),this.campos=e,this.$emit("input",e.id),this.$emit("selecionar",e),this.modal=!1}catch(e){this.$q.notifyError("Erro ao selecionar",e)}}},props:{value:{default:"",type:String},rotulo:{default:"",type:String},filtro:{type:Object},mostraDescricao:{default:!1,type:Boolean},apenasIcone:{default:!1,type:Boolean}},watch:{value:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t!==this.campos.id&&this.atualizar();case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},created:function(){this.atualizar()}},iC=oC,rC=Object(sc["a"])(iC,Vf,Uf,!1,null,null,null);rC.options.__file="SeletorEquipamento.vue";var sC=rC.exports,nC={documento:{},documentoItens:[],arquivo:[]},cC={components:{Arquivo:zv,Avatar:Fc,Badge:Bd,Campo:Sl,EquipamentoCard:Mf,EquipamentoModal:Lf,PromptCodigoBarras:al,PromptContatoNovo:Yd,PromptItemNovo:Zv,SeletorEquipamento:sC},computed:{erroDataGarantiaFim:function(){if(this.checarErros&&this.dataGarantiaFim){var e=(new Date).setHours(0,0,0,0);if(new Date(this.dataGarantiaFim)<new Date(e))return"Data garantia incorreta"}return""},erroDataHoraPrevisto:function(){if(this.checarErros){if(!this.dataTmp.documento.dataHoraPrevisto)return"Campo obrigatório";var e=(new Date).setHours(0,0,0,0);if(new Date(this.dataTmp.documento.dataHoraPrevisto)<new Date(e))return"Previsão de entrega incorreta"}return""},erroDescricao:function(){return this.checarErros&&!this.dataTmp.documento.descricao?"Campo obrigatório":""},new:function(){var e=this,t=!0,a=!1,o=void 0;try{for(var i,r=this.dataTmp.documentoItens[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var s=i.value;s.descricaoAgrupamento=this.descricaoAgrupamento,"Serviço"===s.tipoItem&&(s.dataGarantiaFim=this.dataGarantiaFim)}}catch(e){a=!0,o=e}finally{try{t||null==r.return||r.return()}finally{if(a)throw o}}return at()({},this.data,this.dataTmp,{arquivo:this.$refs.arquivo.arquivo.map(function(t){return at()({},t,{idTabelaMaster:e.dataTmp.documento.id,tabelaMaster:"os"})})})},readonly:function(){return"Orçamento"!==this.dataTmp.documento.status}},data:function(){return{checarErros:!1,codigoBarras:"",contato:{},dataGarantiaFim:"",dataTmp:{},descricaoAgrupamento:"",descricaoResponsavel:"",entrarCodigoBarras:!1,equipamento:{},modalCodigoBarras:!1,modalEquipamento:{visivel:!1,campos:{}},modalItem:{},modalResponsavel:!1,subTotal:{},visible:!1,valoresTabelaPreco:[],warningLabel:{},permissao:{}}},methods:{abrirModalCodigoBarras:function(){this.modalCodigoBarras=!0},abrirModalItem:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a={},o=!0,i=!1,r=void 0,e.prev=4,s=this.dataTmp.documentoItens[Symbol.iterator]();case 6:if(o=(n=s.next()).done){e.next=21;break}if(c=n.value,c.idItem){e.next=10;break}return e.abrupt("continue",18);case 10:if(this.item||(this.item={}),this.item[c.idItem]){e.next=15;break}return e.next=14,He().item.get(c.idItem);case 14:this.item[c.idItem]=e.sent;case 15:l=ea(this.item[c.idItem]),l.novoValorVenda=c.valorReal,a[c.idItem]={item:l,quantidade:c.quantidade};case 18:o=!0,e.next=6;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e["catch"](4),i=!0,r=e.t0;case 27:e.prev=27,e.prev=28,o||null==s.return||s.return();case 30:if(e.prev=30,!i){e.next=33;break}throw r;case 33:return e.finish(30);case 34:return e.finish(27);case 35:this.$refs.promptItem.itensSelecionados=a,this.modalItem.filtros={ativo:!0,tipo:t,idEmpresa:this.dataTmp.documento.idEmpresa,idTabelaPreco:this.dataTmp.documento.idItemTabelaPreco},this.modalItem.visivel=!0;case 38:case"end":return e.stop()}},e,this,[[4,23,27,35],[28,,30,34]])}));return function(t){return e.apply(this,arguments)}}(),abrirModalResponsavel:function(){this.readonly||(this.modalResponsavel=!0)},buscarCodigoBarras:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=(t||"").trim().replace(/(\S+\s)|(\S+$)/g,"codigoBarras:$1$2"),t){e.next=3;break}return e.abrupt("return",a([]));case 3:return o=this.$filters,i=o.dinheiro,r=o.numero,e.next=6,Zn.itemBusca.filtrar(t,{ativo:!0,tipo:["Produto","Serviço"]},10);case 6:if(s=e.sent,s=s.map(function(e){return{value:e.id,label:e.descricao,sublabel:"".concat(i(e.valorVenda)," | ").concat(r(e.quantidadeDisponivel)+e.unidade),stamp:e.codigoBarras,item:e}}),!this.entrarCodigoBarras||1!==s.length){e.next=10;break}return e.abrupt("return",this.selecionarItemCodigoBarras(s[0]));case 10:if("function"!==typeof a){e.next=12;break}return e.abrupt("return",a(s));case 12:this.$q.notifyError("Nenhum item foi encontrado.");case 13:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),buscarItem:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a={marca:"",referencia:"",imagem:""},e.next=3,Zn.item.le({id:t});case 3:return o=e.sent,a.marca=(o||{}).marca||"",a.referencia=(o||{}).referencia||"",a.imagem=(o||{}).imagem||"",e.abrupt("return",a);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),calculaTotal:function(){var e=ea(this.dataTmp.documento),t=0,a=!0,o=!1,i=void 0;try{for(var r,s=this.dataTmp.documentoItens[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var n=r.value;t+=n.valorRealTotal}}catch(e){o=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}e.subTotal=dt(t),e.totalDocumento=e.subTotal,this.dataTmp.documento=e},calculaTotalItem:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n,c=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o=ea(this.dataTmp.documentoItens[t]),"quantidade"!==a||!this.dataTmp.documento.idItemTabelaPreco){e.next=10;break}return e.next=4,He().itemTabelaPreco.get(this.dataTmp.documento.idItemTabelaPreco);case 4:if(i=e.sent,!i){e.next=10;break}return e.next=8,this.configurarValoresTabelaPreco(i,o);case 8:r=this.valoresTabelaPreco.find(function(e){return e.id===o.id}),r.quantidadeMaiorQue&&o.quantidade>=r.quantidadeMaiorQue?(o.valorOriginal!==r.valorVendaMaiorQue&&(o.valorOriginal=o.valorItem=r.valorVendaMaiorQue,o.descontoItem=o.descontoPercentualItem=0),this.warningLabel[o.id]="Valor Diferenciado"):(o.valorOriginal!==r.valorVenda&&(o.valorOriginal=o.valorItem=r.valorVenda,o.descontoItem=o.descontoPercentualItem=0),this.warningLabel[o.id]="");case 10:return o.valorItem<o.valorOriginal&&(o.valorItem=o.valorOriginal),"descontoPercentualItem"===a&&(o.descontoItem=dt(o.descontoPercentualItem/100*o.valorItem)),["descontoItem","valorItem"].includes(a)&&(o.descontoPercentualItem=dt(o.descontoItem/o.valorItem*100)),o.descontoItem>o.valorItem&&(o.descontoPercentualItem=o.descontoItem=0),["subTotal"].includes(a)&&(void 0!==this.subTotal[o.id]?o.descontoItem=dt(o.valorItem-this.subTotal[o.id]):o.descontoItem=dt(o.valorItem-o.subTotal),o.descontoPercentualItem=dt(o.descontoItem/o.valorItem*100)),s=o.valorItem-o.descontoItem,dt(s)>dt(o.valorItem)&&(s=o.valorItem,o.descontoPercentualItem=o.descontoItem=0),void 0===this.subTotal[o.id]?this.$set(this.subTotal,o.id,s):this.subTotal[o.id]=s,o.subTotal=dt(s*o.quantidade),o.total=o.subTotal,o.valorReal=dt(s),o.valorRealTotal=o.total,e.next=24,Oa(o.idItem,o.idCfop,this.dataTmp.documento.idEmpresa,this.dataTmp.documento.idContato);case 24:n=e.sent,o.valorIpi=dt(Object(ot["get"])(n,"aliqIpi",0)/100*o.valorRealTotal),o.valorIcmsSt=dt(Object(ot["get"])(n,"percIva",0)/100*o.valorRealTotal),"valorItem"===a?(this.$set(this.dataTmp.documentoItens,t,at()({},o,{valorItem:0})),this.$nextTick(function(){c.$set(c.dataTmp.documentoItens,t,o),c.calculaTotal()})):this.$set(this.dataTmp.documentoItens,t,o),this.calculaTotal();case 29:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),configurarValoresTabelaPreco:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o=this.valoresTabelaPreco.find(function(e){return e.id===a.id}),!o){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,He().item.get(a.idItem);case 5:return i=e.sent,e.next=8,Zn.itemTabelaPreco.obterValores(t,i);case 8:o=e.sent,this.valoresTabelaPreco.push(at()({id:a.id},o));case 10:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),close:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.isEqual()){e.next=9;break}return e.prev=1,e.next=4,this.$q.dialog({cancel:"Cancelar",message:"Ao continuar você irá perder todas as modificações.",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e["catch"](1),e.abrupt("return");case 9:this.visible=!1;case 10:case"end":return e.stop()}},e,this,[[1,6]])}));return function(){return e.apply(this,arguments)}}(),escanearCodigoBarras:function(e){this.fecharModalCodigoBarras(),this.$refs.codigoBarras.focus(),this.entrarCodigoBarras=!0,this.buscarCodigoBarras(e)},isEqual:function(){var e=at()({},nC,ea(this.data)),t=ga(e,this.new);return!Object.keys(t).length},leitorCodigoBarras:function(e){e.ctrlKey&&74===e.keyCode?e.preventDefault():13===e.keyCode&&(this.entrarCodigoBarras=!0)},refresh:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(this.dataTmp=at()({},nC,ea(this.data)),this.warningLabel={},this.valoresTabelaPreco=[],this.checarErros=!1,this.descricaoAgrupamento="",this.dataGarantiaFim="",this.descricaoAgrupamento=Object(ot["get"])(this.dataTmp.documentoItens.find(function(e){return e.id}),"descricaoAgrupamento",""),this.dataGarantiaFim=Object(ot["get"])(this.dataTmp.documentoItens.find(function(e){return"Serviço"===e.tipoItem}),"dataGarantiaFim",""),t=!0,a=!1,o=void 0,e.prev=11,i=this.dataTmp.documentoItens[Symbol.iterator]();!(t=(r=i.next()).done);t=!0)s=r.value,this.$set(this.subTotal,s.id,s.valorItem-s.descontoItem);e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](11),a=!0,o=e.t0;case 19:e.prev=19,e.prev=20,t||null==i.return||i.return();case 22:if(e.prev=22,!a){e.next=25;break}throw o;case 25:return e.finish(22);case 26:return e.finish(19);case 27:return this.contato={codigo:"",descricao:"",imagem:""},e.next=30,Zn.contato.le({id:this.dataTmp.documento.idContato}).then(function(e){n.contato.codigo=e.codigoContato||e.id.slice(-6)||"",n.contato.descricao=e.nome||e.apelido||"",n.contato.imagem=e.imagem||""});case 30:return this.$refs.arquivo.somenteLeitura=this.readonly,this.$refs.arquivo.arquivo=this.data.arquivo,this.descricaoResponsavel="",this.dataTmp.documento.idContatoResponsavel&&this.selecionarResponsavel(this.dataTmp.documento.idContatoResponsavel),e.next=36,Zn.equipamento.le({id:this.dataTmp.documento.idEquipamento});case 36:this.equipamento=e.sent,this.$nextTick(function(){n.visible=!0});case 38:case"end":return e.stop()}},e,this,[[11,15,19,27],[20,,22,26]])}));return function(){return e.apply(this,arguments)}}(),removerItem:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=(this.dataTmp.documentoItens[t]||{}).id,this.dataTmp.documentoItens=this.dataTmp.documentoItens.filter(function(e){return e.id!==a}),this.calculaTotal();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),save:function(){this.checarErros=!0,this.erroDataHoraPrevisto||this.erroDataGarantiaFim||this.erroDescricao?this.$q.notifyError("Erro no preenchimento do formulário"):this.dataTmp.documentoItens.length?(this.isEqual()||(this.$emit("update:data",this.new),this.$emit("changed")),this.visible=!1):this.$q.notifyError("Não há itens no carrinho")},selecionarItemCodigoBarras:function(e){var t=e.item;this.codigoBarras="",this.entrarCodigoBarras=!1,this.selecionarItem(t.id,t)},selecionarItens:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=regeneratorRuntime.mark(function e(a){var o,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o=t[a].item||{},r=t[a].quantidade||0,s=i.dataTmp.documentoItens.findIndex(function(e){return e.idItem===a}),e.next=5,i.selecionarItem(a,o,r);case 5:-1===s&&(s=i.dataTmp.documentoItens.findIndex(function(e){return e.idItem===a}),-1!==s&&i.calculaTotalItem(s,"quantidade"));case 6:case"end":return e.stop()}},e)}),e.t0=regeneratorRuntime.keys(t);case 2:if((e.t1=e.t0()).done){e.next=7;break}return o=e.t1.value,e.delegateYield(a(o),"t2",5);case 5:e.next=2;break;case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),selecionarItem:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){var i,r,s,n,c,l,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=this.dataTmp.documentoItens.findIndex(function(e){return e.idItem===t}),-1===i){e.next=5;break}return a.novoValorVenda!==this.dataTmp.documentoItens[i].valorOriginal&&(a.novoValorVenda<=this.dataTmp.documentoItens[i].valorOriginal?(this.dataTmp.documentoItens[i].valorItem=this.dataTmp.documentoItens[i].valorOriginal,this.dataTmp.documentoItens[i].descontoItem=dt(this.dataTmp.documentoItens[i].valorOriginal-a.novoValorVenda)):(this.dataTmp.documentoItens[i].valorItem=a.novoValorVenda,this.dataTmp.documentoItens[i].descontoItem=0),this.calculaTotalItem(i,"descontoItem")),this.dataTmp.documentoItens[i].quantidade!==o&&(this.dataTmp.documentoItens[i].quantidade=o||1,this.calculaTotalItem(i,"quantidade")),e.abrupt("return");case 5:return e.next=7,Zn.documentoOperacao.le({codigoDocumentoOperacao:this.dataTmp.documento.codigoDocumentoOperacao});case 7:if(r=e.sent,r||r.length){e.next=11;break}return this.$q.notify("Não foi possível localizar a Operação."),e.abrupt("return");case 11:return e.next=13,Zn.cfop.le({id:r[0].idCfop});case 13:if(s=e.sent,s.id){e.next=17;break}return this.$q.notify("Não foi possível localizar o CFOP."),e.abrupt("return");case 17:return e.next=19,Zn.estoqueSaldoProdutoEmpresa.le({idItem:a.id,idEmpresa:Object(ot["get"])(this.dataTmp,"documento.idEmpresa",""),tipoEstoque:"Disponível"});case 19:return e.t0=function(e){return e.idItem},n=e.sent.find(e.t0),e.next=23,Oa(a.id,s.id,this.dataTmp.documento.idEmpresa,this.dataTmp.documento.idContato);case 23:return c=e.sent,l=hi(),this.$set(this.subTotal,l,a.valorVenda),e.next=28,To(a.ncm,s.cfop);case 28:d=e.sent,d&&(s=d),this.dataTmp.documentoItens.push({id:l,idItem:a.id,idDocumento:this.dataTmp.documento.documentoId,idDocumentoAdicional:this.dataTmp.documento.id,codigoCfop:"Serviço"===a.tipo?"":s.codigoCfop,codigoPlanoContaDestino:139,codigoPlanoContaEstoque:146,dataHoraEmissao:na(),descontoItem:0,descontoPercentualItem:0,descontoSubTotal:0,descricaoItem:a.descricaoConcatenada,operacao:"Serviço"===a.tipo?"Ordem de Serviço":s.operacao,operacaoFator:"Serviço"===a.tipo?"":s.fator,idCfop:s.id,quantidade:o||1,status:this.dataTmp.documento.status,subTotal:a.valorVenda,tipoItem:a.tipo,total:a.valorVenda,valorCusto:0,valorCustoMedio:Object(ot["get"])(n,"valorCustoMedio",0),valorCustoReposicao:a.valorCustoReposicao||0,valorCustoUltimo:Object(ot["get"])(n,"valorCusto",0),valorItem:a.valorVenda,valorItemUltimo:0,valorOriginal:a.valorVenda,valorReal:a.valorVenda,valorRealTotal:a.valorVenda,valorIpi:dt(Object(ot["get"])(c,"aliqIpi",0)/100*a.valorVenda),valorIcmsSt:dt(Object(ot["get"])(c,"percIva",0)/100*a.valorVenda)}),i=this.dataTmp.documentoItens.findIndex(function(e){return e.idItem===t}),-1!==i&&a.novoValorVenda!==this.dataTmp.documentoItens[i].valorOriginal&&(a.novoValorVenda<=this.dataTmp.documentoItens[i].valorOriginal?(this.dataTmp.documentoItens[i].valorItem=this.dataTmp.documentoItens[i].valorOriginal,this.dataTmp.documentoItens[i].descontoItem=dt(this.dataTmp.documentoItens[i].valorOriginal-a.novoValorVenda)):(this.dataTmp.documentoItens[i].valorItem=a.novoValorVenda,this.dataTmp.documentoItens[i].descontoItem=0),this.calculaTotalItem(i,"descontoItem")),o||this.calculaTotal();case 34:case"end":return e.stop()}},e,this)}));return function(t,a,o){return e.apply(this,arguments)}}(),selecionarResponsavel:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.dataTmp.documento.idContatoResponsavel=t||"",e.next=3,Zn.contato.le({id:t});case 3:if(e.t0=e.sent.apelido,e.t0){e.next=6;break}e.t0="";case 6:this.descricaoResponsavel=e.t0;case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},props:{data:{required:!0,type:Object},value:{required:!0,type:Boolean}},watch:{value:function(e){e&&this.refresh()},visible:function(e){e||this.$emit("input",e)}},created:function(){var e=this;this.permissao={equipamento:!1},Zn.permissao.objeto("atendimento//equipamento").then(function(t){e.permissao.equipamento=t}),this.dataTmp=at()({},nC),this.modalItem={filtros:{},visivel:!1}}},lC=cC,dC=(a("564d"),Object(sc["a"])(lC,Sf,If,!1,null,"34977567",null));dC.options.__file="OrdemServico.vue";var uC=dC.exports,mC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{maximized:""},model:{value:e.visivel,callback:function(t){e.visivel=t},expression:"visivel"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[a("q-search",{ref:"search",attrs:{color:"none",inverted:"",placeholder:e.placeholder,debounce:600,after:[{icon:"close",content:!0,handler:function(){e.limpar(),e.atualizar()}}]},on:{input:e.atualizar},model:{value:e.termo,callback:function(t){e.termo=t},expression:"termo"}})],1)],1),a("div",{staticClass:"layout-padding"},[e.carregando?a("div",{staticClass:"q-mt-lg text-center"},[a("q-spinner",{attrs:{color:"faded",size:50}})],1):e._e(),!e.carregando&&e.registrosEncontrados?a("div",[a("q-list",{attrs:{link:"","no-border":"",separator:""}},e._l(e.documentos,function(t){return a("q-item",{key:t.id,nativeOn:{click:function(a){e.selecionar(t)}}},[a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v(e._s(t.descricao))]),a("q-item-tile",{attrs:{sublabel:""}},[a("strong",[e._v("CFOP: ")]),e._v(e._s((e.cfop[t.codigoCfop]||{}).cfop)+" - "+e._s(t.operacao))])],1)],1)}))],1):e._e(),e.carregando||e.registrosEncontrados?e._e():a("div",{staticClass:"bg-light q-pa-lg round-borders text-black text-center"},[e._v("\n        Não encontramos registros com os critérios selecionados.\n      ")])])],1)],1)},pC=[];mC._withStripped=!0;var vC={computed:{registrosEncontrados:function(){return!!this.documentos.length}},data:function(){return{carregando:!0,cfop:{},documentos:[],termo:"",visivel:!1}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.carregando=!0,e.next=3,He().documentoOperacao.toArray();case 3:t=e.sent,a=!0,o=!1,i=void 0,e.prev=7,r=t[Symbol.iterator]();case 9:if(a=(s=r.next()).done){e.next=22;break}if(n=s.value,!n.codigoCfop||this.cfop[n.codigoCfop]){e.next=18;break}return c=void 0,l=void 0,e.next=15,He().cfop.where({codigoCfop:n.codigoCfop}).toArray();case 15:c=e.sent,l=c.find(function(e){return e.codigoCfop})||{},l.codigoCfop&&(this.cfop[l.codigoCfop]={cfop:l.cfop,operacao:(l.operacao||"").trim()});case 18:n.operacao=(this.cfop[n.codigoCfop]||{}).operacao||"";case 19:a=!0,e.next=9;break;case 22:e.next=28;break;case 24:e.prev=24,e.t0=e["catch"](7),o=!0,i=e.t0;case 28:e.prev=28,e.prev=29,a||null==r.return||r.return();case 31:if(e.prev=31,!o){e.next=34;break}throw i;case 34:return e.finish(31);case 35:return e.finish(28);case 36:this.termo?(d=!!this.termo.replace(/[^\d]/g,""),u=new Vm.a(t,{keys:[{name:"descricao"},{name:"operacao"},d?{name:"codigoCfop"}:{}]}),t=u.search(this.termo.trim())):t=Object(ot["orderBy"])(t,["descricao"],["asc"]),this.documentos=t.slice(0,30),this.carregando=!1;case 39:case"end":return e.stop()}},e,this,[[7,24,28,36],[29,,31,35]])}));return function(){return e.apply(this,arguments)}}(),limpar:function(){this.documentos=[],this.termo=""},selecionar:function(e){this.documento=e,this.visivel=!1}},props:{filtro:{default:function(){return{}},type:Object},placeholder:{default:"Buscar",type:String},value:{required:!0,type:Boolean}},watch:{visivel:function(e){e?this.atualizar():(this.$emit("selecionar",this.documento?at()({},this.documento):{},!0),this.$emit("input",!1),this.limpar())},value:function(e){this.visivel=e}},updated:function(){this.$refs.search.focus()}},hC=vC,fC=Object(sc["a"])(hC,mC,pC,!1,null,null,null);fC.options.__file="PromptDocumentoOperacaoNovo.vue";var CC=fC.exports,bC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{maximized:""},model:{value:e.visivel,callback:function(t){e.visivel=t},expression:"visivel"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[a("q-search",{ref:"search",attrs:{color:"none",inverted:"",placeholder:e.placeholder,debounce:600,after:[{icon:"close",content:!0,handler:function(){e.limpar(),e.atualizar()}}]},on:{input:e.atualizar},model:{value:e.termo,callback:function(t){e.termo=t},expression:"termo"}})],1)],1),a("div",{staticClass:"layout-padding"},[e.carregando?a("div",{staticClass:"q-mt-lg text-center"},[a("q-spinner",{attrs:{color:"faded",size:50}})],1):e._e(),!e.carregando&&e.registrosEncontrados?a("div",[a("q-list",{attrs:{link:"","no-border":"",separator:""}},e._l(e.itens,function(t){return a("q-item",{key:t.id,nativeOn:{click:function(a){e.selecionar(t)}}},[a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v(e._s(t.descricao))]),t.empresa?a("q-item-tile",{attrs:{sublabel:""}},[a("strong",[e._v("Empresa: ")]),e._v(e._s(t.empresa)+"\n              ")]):e._e()],1)],1)}))],1):e._e(),e.carregando||e.registrosEncontrados?e._e():a("div",{staticClass:"bg-light q-pa-lg round-borders text-black text-center"},[e._v("\n        Não encontramos registros com os critérios selecionados.\n      ")])])],1)],1)},gC=[];bC._withStripped=!0;var xC={computed:{registrosEncontrados:function(){return!!this.itens.length}},data:function(){return{carregando:!0,itens:[],termo:"",visivel:!1}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.carregando=!0,a={},e.next=4,He().itemTabelaPreco.filter(function(e){return 1===e.tabelaMaster&&(!e.idEmpresa||e.idEmpresa===m.filtro.idEmpresa)}).toArray();case 4:t=e.sent,o=!0,i=!1,r=void 0,e.prev=8,s=t[Symbol.iterator]();case 10:if(o=(n=s.next()).done){e.next=27;break}if(c=n.value,c.idEmpresa){e.next=14;break}return e.abrupt("continue",24);case 14:if(!a[c.idEmpresa]){e.next=17;break}return c.empresa=a[c.idEmpresa].nome,e.abrupt("continue",24);case 17:return e.next=19,He().contato.get(c.idEmpresa);case 19:if(e.t0=e.sent,e.t0){e.next=22;break}e.t0={};case 22:l=e.t0,l.id&&(d=l.nome||"",c.empresa=d,a[l.id]={nome:d});case 24:o=!0,e.next=10;break;case 27:e.next=33;break;case 29:e.prev=29,e.t1=e["catch"](8),i=!0,r=e.t1;case 33:e.prev=33,e.prev=34,o||null==s.return||s.return();case 36:if(e.prev=36,!i){e.next=39;break}throw r;case 39:return e.finish(36);case 40:return e.finish(33);case 41:this.termo?(u=new Vm.a(t,{keys:[{name:"descricao"},{name:"empresa"}]}),t=u.search(this.termo.trim())):t=Object(ot["orderBy"])(t,"descricao","asc"),this.itens=t.slice(0,30),this.carregando=!1;case 44:case"end":return e.stop()}},e,this,[[8,29,33,41],[34,,36,40]])}));return function(){return e.apply(this,arguments)}}(),limpar:function(){this.itens=[],this.termo=""},selecionar:function(e){this.item=e,this.visivel=!1}},props:{filtro:{default:function(){return{}},type:Object},placeholder:{default:"Buscar",type:String},value:{required:!0,type:Boolean}},watch:{visivel:function(e){e?this.atualizar():(this.$emit("selecionar",this.item?at()({},this.item):{},!0),this.$emit("input",!1),this.limpar())},value:function(e){this.visivel=e}},updated:function(){this.$refs.search.focus()}},_C=xC,qC=Object(sc["a"])(_C,bC,gC,!1,null,null,null);qC.options.__file="PromptItemTabelaPrecoNovo.vue";var SC=qC.exports,IC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("campo",{directives:[{name:"mask",rawName:"v-mask",value:"########",expression:"'########'"}],attrs:{value:e.value,ajuda:e.descricaoNcm,before:[{icon:"search",handler:function(){return e.modalNcm=!0}}],dica:e.metadados.infNFe.det.lista.prod.NCM._doc,maxlength:"8",rotulo:e.metadados.infNFe.det.lista.prod.NCM._titulo},on:{input:e.eventoInput}}),a("PromptNcm",{on:{selecionar:e.selecionarNcm},model:{value:e.modalNcm,callback:function(t){e.modalNcm=t},expression:"modalNcm"}})],1)},FC=[];IC._withStripped=!0;var wC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("prompt",{attrs:{value:e.value,prop:{dados:e.dados,esquema:e.esquema,ordens:e.ordens}},on:{input:e.eventoInput,hide:e.aoFechar},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.itens;return[0===o.length?a("div",{staticClass:"bg-light q-pa-lg round-borders text-black text-center"},[e._v("\n      Não encontramos NCM com os critérios selecionados.\n    ")]):e._e(),a("q-list",{attrs:{link:"","no-border":"",separator:""}},e._l(o,function(t){return a("q-item",{key:t.id,nativeOn:{click:function(a){e.selecionar(t)}}},[a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v(e._s(t.descricao))]),a("q-item-tile",{attrs:{sublabel:""}},[a("strong",[e._v("Código NCM: ")]),e._v(e._s(t.ncm))])],1)],1)}))]}}])})},yC=[];wC._withStripped=!0;var NC={components:{Prompt:Zf},computed:{botoes:function(){return[]}},data:function(){return{dados:[],esquema:[{prioridade:.8,rotulo:"Descrição",tipo:"texto",valor:"descricao"},{prioridade:.8,rotulo:"NCM",tipo:"texto",valor:"ncm"}],ordens:[{icone:"arrow_downward",padrao:!0,rotulo:"Descrição",valor:"descricao"},{icone:"arrow_upward",ordem:"desc",rotulo:"Descrição invertida",valor:"descricao"},{icone:"arrow_downward",rotulo:"NCM",valor:"ncm"},{icone:"arrow_upward",ordem:"desc",rotulo:"NCM invertido",valor:"ncm"}]}},methods:{aoFechar:function(){this.$emit("hide")},eventoInput:function(e){this.$emit("input",e)},selecionar:function(e){this.$emit("selecionar",e),this.$emit("input",!1)}},props:{prop:{default:function(){return{filtros:[],titulo:""}},type:Object},value:{required:!0,type:Boolean}},watch:{value:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,vs().list("_ncm");case 3:this.dados=e.sent,e.next=7;break;case 6:this.dados=[];case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}},kC=NC,MC=Object(sc["a"])(kC,wC,yC,!1,null,null,null);MC.options.__file="PromptNcm.vue";var PC=MC.exports,DC={components:{Campo:Sl,PromptNcm:PC},computed:{metadados:function(){return Et}},data:function(){return{descricaoNcm:"",modalNcm:!1}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.value||8!==this.value.length){e.next=13;break}return e.next=4,this.$db.ncm.le({ncm:this.value});case 4:if(e.t2=e.sent[0],e.t2){e.next=7;break}e.t2={};case 7:if(e.t1=e.t2.descricao,e.t1){e.next=10;break}e.t1="NCM inválido";case 10:e.t0=e.t1,e.next=14;break;case 13:e.t0="Forneça um NCM (8 dígitos)";case 14:this.descricaoNcm=e.t0,e.next=20;break;case 17:e.prev=17,e.t3=e["catch"](0),this.$q.notifyError("Ocorreu erro ao consultar NCM",e.t3);case 20:case"end":return e.stop()}},e,this,[[0,17]])}));return function(){return e.apply(this,arguments)}}(),eventoInput:function(e){this.$emit("input",e)},selecionarNcm:function(e){this.$emit("input",e.ncm),this.descricaoNcm=e.descricao||"",this.modalNcm=!1}},props:{value:{default:"",type:String}},watch:{value:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.atualizar();case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},created:function(){this.atualizar()}},EC=DC,TC=Object(sc["a"])(EC,IC,FC,!1,null,null,null);TC.options.__file="SeletorNcm.vue";var AC=TC.exports,OC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-collapsible",{staticClass:"border-1 q-my-sm",attrs:{icon:"airplanemode_active",label:"Transporte",opened:""}},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-xs-12 col-sm-4",attrs:{clearable:"","clear-value":0,filter:"",opcoes:e.transporteOpts,rotulo:"Transporte",tipo:"seletor"},nativeOn:{click:function(t){return e.obterTransporteOpts(t)}},model:{value:e.transporte,callback:function(t){e.transporte=t},expression:"transporte"}}),a("campo",{staticClass:"col-xs-12 col-sm-4",attrs:{value:e.contatoTransportadora.nome,after:[{icon:"cancel",handler:function(){e.contatoTransportadora={}}}],readonly:"",rotulo:"Transportadora"},on:{click:function(t){e.abrirPromptContatoTransportadora()}}}),a("campo",{staticClass:"col-xs-12 col-sm-4",attrs:{clearable:"","clear-value":"",rotulo:"Data Prevista Entrega",min:Date.now(),format:"DD/MM/YYYY HH:mm",tipo:"dataHora"},model:{value:e.dataPrevistaEntrega,callback:function(t){e.dataPrevistaEntrega=t},expression:"dataPrevistaEntrega"}}),a("campo",{staticClass:"col-xs-12",attrs:{clearable:"","clear-value":0,filter:"",opcoes:e.enderecoClienteOpts,rotulo:"Endereço",tipo:"seletor"},nativeOn:{click:function(t){return e.obterEnderecoClienteOpts(t)}},model:{value:e.idContatoEnderecoCliente,callback:function(t){e.idContatoEnderecoCliente=t},expression:"idContatoEnderecoCliente"}}),a("campo",{staticClass:"col-xs-12",attrs:{tipo:"textoArea",rotulo:"Obs. de Entrega"},model:{value:e.obsEntrega,callback:function(t){e.obsEntrega=t},expression:"obsEntrega"}})],1)]),a("prompt-contato-novo",{attrs:{filtro:e.promptContato.filtro,placeholder:"Seleciona a transportadora"},on:{selecionar:e.selecionarContatoTransportadora},model:{value:e.promptContato.visivel,callback:function(t){e.$set(e.promptContato,"visivel",t)},expression:"promptContato.visivel"}})],1)},$C=[];OC._withStripped=!0;var RC={components:{Campo:Sl,PromptContatoNovo:Yd},data:function(){return{contatoTransportadora:{},dataPrevistaEntrega:"",enderecoClienteOpts:[],idContatoEnderecoCliente:"",obsEntrega:"",promptContato:{visivel:!1,filtro:{}},transporte:"",transporteOpts:[]}},methods:{abrirPromptContatoTransportadora:function(){this.promptContato.filtro={ativo:!0,transportadoras:!0},this.promptContato.visivel=!0},obterEnderecoClienteOpts:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He().contatoEndereco.where({idContato:this.idContatoCliente}).toArray();case 2:t=e.sent,this.enderecoClienteOpts=t.map(function(e){var t="";return t+=e.logradouro||"",e.numero&&(t+=t?", ":"",t+=e.numero),e.complemento&&(t+=t?" ":"",t+=e.complemento),e.bairro&&(t+=t?" - ":"",t+=e.bairro),e.municipio&&(t+=t?" - ":"",t+=e.municipio),e.uf&&(t+=t?"/":"",t+=e.uf),{rotulo:t,valor:e.id}});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),obterTransporteOpts:function(){this.transporteOpts=[{rotulo:"Transportadora",valor:1},{rotulo:"Entrega Própria",valor:2},{rotulo:"Entrega na Viagem",valor:3},{rotulo:"Retirar",valor:4}]},limparTransporte:function(){this.transporte=0,this.transporteOpts=[{rotulo:"Selecionar",valor:0}]},limparEnderecoCliente:function(){this.enderecoClienteOpts=[{rotulo:"Selecionar",valor:0}],this.idContatoEnderecoCliente=0},selecionarContatoTransportadora:function(e){var t=this;e&&He().contato.get(e).then(function(e){t.contatoTransportadora=e})},get:function(){var e=this,t="";if(this.idContatoEnderecoCliente){var a=this.enderecoClienteOpts.find(function(t){return t.valor===e.idContatoEnderecoCliente})||{};t=a.rotulo||""}return{tipoTransporte:this.transporte||"",dataHoraPrevisto:At["d"].formatDate(this.dataPrevistaEntrega)||"",descricaoContatoEnderecoEntrega:t,idContatoTransportadora:this.contatoTransportadora.id||"",observacaoEntrega:this.obsEntrega}},set:function(e){var t=this;this.dataPrevistaEntrega=e.dataHoraPrevisto?new Date(e.dataHoraPrevisto):"",this.selecionarContatoTransportadora(e.idContatoTransportadora),this.obsEntrega=e.observacaoEntrega||"",e.tipoTransporte&&(this.obterTransporteOpts(),this.transporteOpts.find(function(t){return t.valor===e.tipoTransporte})?this.transporte=e.tipoTransporte:this.limparTransporte()),e.descricaoContatoEnderecoEntrega&&this.obterEnderecoClienteOpts().then(function(){var a=t.enderecoClienteOpts.find(function(t){return t.rotulo===e.descricaoContatoEnderecoEntrega})||{};t.idContatoEnderecoCliente=a.valor||0,t.idContatoEnderecoCliente||(t.enderecoClienteOpts=[{rotulo:e.descricaoContatoEnderecoEntrega||"Selecionar",valor:0}])})}},props:{idContatoCliente:{required:!0,type:String}},watch:{transporte:function(e,t){t&&!e&&this.limparTransporte()},idContatoEnderecoCliente:function(e,t){t&&!e&&this.limparEnderecoCliente()}},created:function(){this.limparTransporte(),this.limparEnderecoCliente()}},jC=RC,zC=(a("95fe"),Object(sc["a"])(jC,OC,$C,!1,null,"5d42e3af",null));zC.options.__file="VendaTransporte.vue";var BC=zC.exports,LC={finalizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w,y,N,k,M,P,D,E,T,A,O,$,R,j,z,B,L,V,U,H,Q,G,J,X,Y,W,Z,K,ee,te,ae,oe,ie,re,se,ne,ce,le,de,ue,me,pe,ve,he,fe,Ce,be,ge,xe,_e,qe,Se,Ie,Fe,we,ye,Ne,ke,Me,Pe,De,Ee,Te,Ae,Oe,$e,Re,je,ze,Be,Ve,Ue,Qe,Ge,Je,Xe,Ye,We,Ze,Ke,et,tt,at,it,rt,st,nt,ct,lt,ut,mt,pt,vt,ht,ft,Ct,bt,gt,xt,_t,qt,St,It,Ft,wt,yt,Nt,kt,Mt,Pt,Dt,Et,Tt,At,Ot,$t,Rt,jt,zt,Bt,Lt,Vt,Ut,Ht,Qt,Gt,Jt,Xt,Wt,Zt,Kt,ea,ta,aa,oa,ia,ra,sa,ca,da,ua,ma,pa,va,ha,fa,Ca,ba,ga,xa,_a,qa,Sa,Ia,Fa,wa,ya,Na,ka,Ma,Pa,Da,Ea,Ta,Aa,Oa,$a,Ra,ja,za,Ba,La,Va,Ua,Ha,Qa,Ga,Ja,Xa,Ya,Wa,Za,Ka,eo,to,ao,oo,io,ro,so,no,co,lo,uo,mo,po,vo,ho,fo,Co,bo,go,xo,_o,qo,So,Io,Fo,wo,yo,No,ko,Mo,Po,Do,Eo,To,Ao,Oo,$o,Ro,jo,zo,Bo,Lo,Vo,Uo,Ho=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=!0,a=!1,o=void 0,e.prev=3,i=this.carrinho.map(function(e){return e.id})[Symbol.iterator]();case 5:if(t=(r=i.next()).done){e.next=12;break}return s=r.value,e.next=9,this.carrinhoCalcularTotais(s);case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](3),a=!0,o=e.t0;case 18:e.prev=18,e.prev=19,t||null==i.return||i.return();case 21:if(e.prev=21,!a){e.next=24;break}throw o;case 24:return e.finish(21);case 25:return e.finish(18);case 26:if(this.calcularTotais(),!this.erroCalculo){e.next=30;break}return this.$q.notify("Não é possível finalizar a Venda. Erro de cálculo encontrado."),e.abrupt("return");case 30:return e.prev=30,n=Yt(this.venda),c=Yt(this.carrinho),l=Yt(this.envelopes),d=Yt(this.itensEnvelopes),u=Yt(this.documentoEndereco),m=this.customs.reduce(function(e,t){return la()(e).concat(la()(t.documentoItens||[]))},[]),p=this.oss.reduce(function(e,t){return la()(e).concat(la()(t.documentoItens||[]))},[]),e.next=40,Zn.contato.le({id:n.idContato});case 40:return v=e.sent,e.next=43,Zn.empresa.le({idContato:n.idEmpresa});case 43:return h=e.sent,h=h.length?h[0]:{},e.next=47,Zn.contato.le({id:h.idContato});case 47:return f=e.sent,e.next=50,Zn.contatoEndereco.le({idContato:n.idContato});case 50:return C=e.sent,e.next=53,Zn.contatoTelefone.le({idContato:n.idContato});case 53:b=e.sent,g=C.filter(function(e){return"Principal"===e.grupo}),e.next=61;break;case 57:return e.prev=57,e.t1=e["catch"](30),this.$q.notify("Erro ao tentar recuperar informações."),e.abrupt("return");case 61:return e.prev=61,e.next=64,this.$q.dialog({cancel:"Cancelar",message:"Esta ação irá finalizar este orçamento",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 64:e.next=69;break;case 66:return e.prev=66,e.t2=e["catch"](61),e.abrupt("return",!1);case 69:return e.prev=69,this.$q.loading.show({message:"Processando..."}),e.next=73,Zn.configuracoes.porNome("vendas.checaestoque",h.idContato);case 73:if(e.t3=function(e){return 1===parseInt(e.valor)},x=e.sent.find(e.t3),!x){e.next=156;break}return _=[],q=[],S=la()(c).concat(la()(d),la()(m),la()(p)).map(function(e){return e.idItem}),e.prev=79,e.next=82,this.$utils.geeksApi({estoque:{funcao:"CC9F3B9A-16B9-4AE8-A523-938E4433AFAA",idItem:S,idEmpresa:h.idContato}});case 82:for(I=e.sent,q=(((I||{}).data||{}).estoque||[]).filter(function(e){return"Disponível"===e.tipoEstoque}),F=[],w=!0,y=!1,N=void 0,e.prev=88,k=function(){var e=P.value;F.push({idItem:e,saldo:q.filter(function(t){return t.idItem===e}).reduce(function(e,t){return e+t.saldo},0),idEmpresa:h.idContato})},M=S[Symbol.iterator]();!(w=(P=M.next()).done);w=!0)k();e.next=97;break;case 93:e.prev=93,e.t4=e["catch"](88),y=!0,N=e.t4;case 97:e.prev=97,e.prev=98,w||null==M.return||M.return();case 100:if(e.prev=100,!y){e.next=103;break}throw N;case 103:return e.finish(100);case 104:return e.finish(97);case 105:q=F,e.next=137;break;case 108:return e.prev=108,e.t5=e["catch"](79),e.next=112,He().estoqueSaldoProdutoEmpresa.where("idItem").anyOf(S).toArray();case 112:for(q=e.sent,q=q.filter(function(e){return"Disponível"===e.tipoEstoque}),h.idContato&&(q=q.filter(function(e){return e.idEmpresa===h.idContato})),D=[],E=!0,T=!1,A=void 0,e.prev=119,O=function(){var e=R.value;D.push({idItem:e,saldo:q.filter(function(t){return t.idItem===e}).reduce(function(e,t){return e+t.saldo},0),idEmpresa:h.idContato,offline:!0})},$=S[Symbol.iterator]();!(E=(R=$.next()).done);E=!0)O();e.next=128;break;case 124:e.prev=124,e.t6=e["catch"](119),T=!0,A=e.t6;case 128:e.prev=128,e.prev=129,E||null==$.return||$.return();case 131:if(e.prev=131,!T){e.next=134;break}throw A;case 134:return e.finish(131);case 135:return e.finish(128);case 136:q=D;case 137:j=la()(c).concat(la()(d),la()(m),la()(p)),z=regeneratorRuntime.mark(function e(){var t,a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=j[B],t.idItem&&h.idContato&&1!==t.operacaoFator){e.next=3;break}return e.abrupt("return","continue");case 3:return e.next=5,He().item.get(t.idItem);case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0={};case 8:if(a=e.t0,a.id){e.next=11;break}return e.abrupt("return","continue");case 11:if(!["servico","tratamento","lente"].includes((a.tipo||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))){e.next=13;break}return e.abrupt("return","continue");case 13:if(o=q.find(function(e){return e.idItem===t.idItem})||{},i=Number((o||{}).saldo)?o.saldo:0,!(i>=(t.quantidade||1))){e.next=17;break}return e.abrupt("return","continue");case 17:_.map(function(e){return e.idItem}).includes(t.idItem)||_.push({idItem:t.idItem,descricao:t.descricaoItem||"",saldo:i,offline:o.offline});case 18:case"end":return e.stop()}},e)}),B=0;case 140:if(!(B<j.length)){e.next=148;break}return e.delegateYield(z(),"t7",142);case 142:if(L=e.t7,"continue"!==L){e.next=145;break}return e.abrupt("continue",145);case 145:B++,e.next=140;break;case 148:if(!_.length){e.next=156;break}return this.modalItemSemEstoque.itens=_,this.$q.loading.hide(),V=!0,e.next=154,new Promise(function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:Ho.modalItemSemEstoque.resolve=t,Ho.modalItemSemEstoque.reject=a,Ho.modalItemSemEstoque.visivel=!0;case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()).then(function(e){if("continuar"===e){var t=Ho.venda.status,a="Aguardando Estoque";Ho.documentoStatus.push({id:hi(),idDocumento:n.id,operacao:n.operacao,statusOriginal:t,statusFinalizado:a,dataHoraEmissao:na(),idUsuarioAlterou:n.idContatoFinalizado,observacao:Ho.modalItemSemEstoque.itens.reduce(function(e,t){return e+t.descricao+", estoque: "+t.saldo+" | "},"").slice(0,-3)}),Ho.venda.status=a,Ho.salvarVenda().then(function(){Ho.$emit("executar","atualizar")}),V=!0}Ho.modalItemSemEstoque.visivel=!1}).catch(function(){V=!0});case 154:if(!V){e.next=156;break}return e.abrupt("return",!1);case 156:return e.next=158,Zn.configuracoes.le({nome:"vendas.checalimite"});case 158:if(U=e.sent,H=U.find(function(e){return e.idEmpresa===Ho.venda.idEmpresa}),H||(H=U.find(function(e){return!e.idEmpresa})),!H||!parseInt(H.valor)){e.next=176;break}if(Q=dt(v.creditoDisponivel),G=dt(n.totalDocumento),!(G>Q)){e.next=176;break}return e.next=167,Zn.permissao.objeto("Diretiva_Vendas_LimiteCredito");case 167:return this.modalCreditoDisponivel.permiteFinalizar=e.sent,this.modalCreditoDisponivel.title="Limite de crédito insuficiente",this.modalCreditoDisponivel.body="Limite ".concat(this.$filters.numero(Q,2)," - Venda ").concat(this.$filters.numero(G,2)),this.$q.loading.hide(),J=!1,e.next=174,new Promise(function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:Ho.modalCreditoDisponivel.resolve=t,Ho.modalCreditoDisponivel.reject=a,Ho.modalCreditoDisponivel.visivel=!0;case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()).then(function(e){if("continuar"===e){var t=Ho.venda.status,a="Aguardando Financeiro";Ho.documentoStatus.push({id:hi(),idDocumento:n.id,operacao:n.operacao,statusOriginal:t,statusFinalizado:a,dataHoraEmissao:na(),idUsuarioAlterou:n.idContatoFinalizado,observacao:Ho.modalCreditoDisponivel.title+". "+Ho.modalCreditoDisponivel.body}),Ho.venda.status=a,Ho.salvarVenda().then(function(){Ho.$emit("executar","atualizar")}),J=!0}Ho.modalCreditoDisponivel.visivel=!1}).catch(function(){J=!0});case 174:if(!J){e.next=176;break}return e.abrupt("return");case 176:return this.$q.loading.show({message:"Processando..."}),e.t9=parseInt,e.next=180,Zn.configuracoes.leValorComFiltroEmpresa("vendas.usaExpedicao",n.idEmpresa,0);case 180:if(e.t10=e.sent,e.t8=(0,e.t9)(e.t10),e.t8){e.next=184;break}e.t8=0;case 184:if(X=e.t8,Y=X?"Aguardando Separação":"Aguardando Faturamento",!X||this.$refs.transporte.transporte){e.next=189;break}return this.$q.notify({message:"É necessário incluir transporte para finalizar!"}),e.abrupt("return",!1);case 189:return e.next=191,this.atualizaUsaFatura(h);case 191:if(W=!1,1===this.geraFatura&&(W=!0),Z=dt(this.$refs.faturamento.condicaoPagamento.reduce(function(e,t){return e+(t.valor||0)},0)),2!==this.geraFatura){e.next=206;break}if(Z){e.next=206;break}return e.prev=196,this.$q.loading.hide(),e.next=200,this.$q.dialog({cancel:"Não",message:"Não há condição de pagamento. Deseja gerar fatura?",noRefocus:!0,ok:"Sim",preventClose:!0,title:"Confirma?"});case 200:this.$q.loading.show({message:"Processando..."}),W=!0,e.next=206;break;case 204:e.prev=204,e.t11=e["catch"](196);case 206:if(W||!this.venda.totalDocumento||Z){e.next=209;break}return this.$q.notify({message:"É necessário incluir forma de pagamento para finalizar!"}),e.abrupt("return",!1);case 209:return K={},ee=!0,te=!1,ae=void 0,e.prev=213,e.next=216,Zn.configuracoes.le();case 216:e.t12=Symbol.iterator,oe=e.sent[e.t12]();case 218:if(ee=(ie=oe.next()).done){e.next=225;break}re=ie.value,K[re.nome]||(K[re.nome]=[]),K[re.nome].push(re);case 222:ee=!0,e.next=218;break;case 225:e.next=231;break;case 227:e.prev=227,e.t13=e["catch"](213),te=!0,ae=e.t13;case 231:e.prev=231,e.prev=232,ee||null==oe.return||oe.return();case 234:if(e.prev=234,!te){e.next=237;break}throw ae;case 237:return e.finish(234);case 238:return e.finish(231);case 239:if(!K["vendas.validarestricao"]||1!==parseInt(K["vendas.validarestricao"][0].valor)){e.next=243;break}if(!(v.condutaRestricao||"").trim()){e.next=243;break}return this.$q.notify({message:v.condutaRestricao,timeout:0,type:"negative",closeBtn:!0}),e.abrupt("return",!1);case 243:if(se="",n.numeroDocumentoContato||(v.numeroDocumentoNacional?n.numeroDocumentoContato=v.numeroDocumentoNacional:se+="Número CPF/CNPJ, "),!C.length){e.next=270;break}if(ne=la()(g).concat(la()(C))[0],n.descricaoContatoEndereco){e.next=268;break}for(n.descricaoContatoEndereco="".concat(ne.logradouro||"",", ",ne.numero||""," ",ne.complemento||""," - ",ne.bairro||""," - ",ne.municipio||"","/",ne.uf||""),ce=!0,le=!1,de=void 0,e.prev=252,ue=u[Symbol.iterator]();!(ce=(me=ue.next()).done);ce=!0)pe=me.value,pe.idContatoEndereco=ne.id,pe.idCidade=ne.idCidade,pe.descricao=n.descricaoContatoEndereco,pe.logradouro=ne.logradouro,pe.numero=ne.numero,pe.complemento=ne.complemento,pe.condominio=ne.condominio,pe.bairro=ne.bairro,pe.cep=ne.cep,pe.ibgeCod=ne.ibgeCod,pe.municipio=ne.municipio,pe.uf=ne.uf,pe.ufCod=ne.ufCod,pe.pais=ne.pais,pe.grupo=ne.grupo,pe.cidadeCodChave=ne.cidadeCodChave,pe.observacao=ne.observacao;e.next=260;break;case 256:e.prev=256,e.t14=e["catch"](252),le=!0,de=e.t14;case 260:e.prev=260,e.prev=261,ce||null==ue.return||ue.return();case 263:if(e.prev=263,!le){e.next=266;break}throw de;case 266:return e.finish(263);case 267:return e.finish(260);case 268:e.next=271;break;case 270:se+="Endereço, ";case 271:if(n.telefoneContato||(b.length?n.telefoneContato=b[0].telefone:se+="Telefone, "),n.numeroDocumentoContato||(n.numeroDocumentoContato=v.numeroDocumentoNacional),(n.numeroDocumentoContato||"").length>14&&(""===v.numeroDocumentoEstadual&&(se+="I.E., "),n.regimeContato||(v.regime?n.regimeContato=v.regime:se+="Regime fiscal, ")),f.email||f.emailNfe||(se+="E-mail do emitente, "),!K["vendas.validainformacoes"]||1!==parseInt(K["vendas.validainformacoes"][0].valor)||""===se){e.next=278;break}return this.$q.notify({message:"Faltando campos obrigatórios do cliente: "+se.slice(0,-2),timeout:0,type:"negative",closeBtn:!0}),e.abrupt("return",!1);case 278:n.pesoTotalTransporte=0,ve=0,he=!0,fe=!1,Ce=void 0,e.prev=283,be=c[Symbol.iterator]();case 285:if(he=(ge=be.next()).done){e.next=333;break}if(xe=ge.value,0!==xe.descontoItem||0!==xe.total){e.next=290;break}return this.$q.notify({message:"Existe item no pedido com valor zerado.",timeout:0,type:"warning",closeBtn:!0}),e.abrupt("return",!1);case 290:if(1!==xe.operacaoFator){e.next=328;break}return e.next=293,Zn.venda.leNew({idContato:n.idContato});case 293:_e=e.sent,_e=_e.filter(function(e){return!["Orçamento","Não Aprovado","Cancelado"].includes(e.status)}),qe=[],Se=!0,Ie=!1,Fe=void 0,e.prev=299,we=_e[Symbol.iterator]();case 301:if(Se=(ye=we.next()).done){e.next=310;break}return Ne=ye.value,e.next=305,Zn.documentoItem.leNew({idDocumento:Ne.id,idItem:xe.idItem});case 305:ke=e.sent,qe=la()(qe).concat(la()(ke));case 307:Se=!0,e.next=301;break;case 310:e.next=316;break;case 312:e.prev=312,e.t15=e["catch"](299),Ie=!0,Fe=e.t15;case 316:e.prev=316,e.prev=317,Se||null==we.return||we.return();case 319:if(e.prev=319,!Ie){e.next=322;break}throw Fe;case 322:return e.finish(319);case 323:return e.finish(316);case 324:if(Me=qe.reduce(function(e,t){return-1===t.operacaoFator&&(e+=t.quantidade),1===t.operacaoFator&&(e-=t.quantidade),e},0),!(xe.quantidade>Me)){e.next=328;break}return this.$q.notify(xe.descricaoItem.trim()+" - Saldo disponível para devoluções: "+Me),e.abrupt("return");case 328:xe.total>0?(Pe=dt(100*(xe.total||0)/(n.subTotal||1)),De=dt((n.totalDesconto||0)*(Pe||0)/100),Ee=(xe.valorItem||0)*(xe.quantidade||1)-(xe.descontoItem||0)*(xe.quantidade||1)-(De||0),Te=(Ee||0)/(xe.quantidade||1),xe.descontoTotalRateado=dt(De),xe.valorReal=dt(Te),xe.valorRealTotal=dt(Ee),ve+=De):(xe.valorReal=dt(xe.total/(xe.quantidade||1)),xe.valorRealTotal=dt(xe.total)),n.pesoTotalTransporte=dt(n.pesoTotalTransporte+(xe.peso||0));case 330:he=!0,e.next=285;break;case 333:e.next=339;break;case 335:e.prev=335,e.t16=e["catch"](283),fe=!0,Ce=e.t16;case 339:e.prev=339,e.prev=340,he||null==be.return||be.return();case 342:if(e.prev=342,!fe){e.next=345;break}throw Ce;case 345:return e.finish(342);case 346:return e.finish(339);case 347:Ae=!0,Oe=!1,$e=void 0,e.prev=350,Re=d[Symbol.iterator]();case 352:if(Ae=(je=Re.next()).done){e.next=362;break}if(ze=je.value,0!==ze.descontoItem||0!==ze.total||!ze.idItem){e.next=357;break}return this.$q.notify({message:"Existe item no envelope com valor zerado.",timeout:0,type:"warning",closeBtn:!0}),e.abrupt("return",!1);case 357:ze.total>0&&(Be=dt(100*(ze.total||0)/(n.subTotal||1)),Ve=dt((n.totalDesconto||0)*(Be||0)/100),Ue=(ze.valorItem||0)*(ze.quantidade||1)-(ze.descontoItem||0)*(ze.quantidade||1)-(Ve||0),Qe=(Ue||0)/(ze.quantidade||1),ze.descontoTotalRateado=dt(Ve),ze.valorReal=dt(Qe),ze.valorRealTotal=dt(Ue),ve+=Ve),n.pesoTotalTransporte=dt(n.pesoTotalTransporte+(ze.peso||0));case 359:Ae=!0,e.next=352;break;case 362:e.next=368;break;case 364:e.prev=364,e.t17=e["catch"](350),Oe=!0,$e=e.t17;case 368:e.prev=368,e.prev=369,Ae||null==Re.return||Re.return();case 371:if(e.prev=371,!Oe){e.next=374;break}throw $e;case 374:return e.finish(371);case 375:return e.finish(368);case 376:Ge=!0,Je=!1,Xe=void 0,e.prev=379,Ye=m[Symbol.iterator]();case 381:if(Ge=(We=Ye.next()).done){e.next=391;break}if(Ze=We.value,0!==Ze.descontoItem||0!==Ze.total||!Ze.idItem){e.next=386;break}return this.$q.notify({message:"Item com valor zerado encontrado.",timeout:0,type:"warning",closeBtn:!0}),e.abrupt("return",!1);case 386:Ze.total>0&&(Ke=dt(100*(Ze.total||0)/(n.subTotal||1)),et=dt((n.totalDesconto||0)*(Ke||0)/100),tt=(Ze.valorItem||0)*(Ze.quantidade||1)-(Ze.descontoItem||0)*(Ze.quantidade||1)-(et||0),at=(tt||0)/(Ze.quantidade||1),Ze.descontoTotalRateado=dt(et),Ze.valorReal=dt(at),Ze.valorRealTotal=dt(tt),ve+=et),n.pesoTotalTransporte=dt(n.pesoTotalTransporte+(Ze.peso||0));case 388:Ge=!0,e.next=381;break;case 391:e.next=397;break;case 393:e.prev=393,e.t18=e["catch"](379),Je=!0,Xe=e.t18;case 397:e.prev=397,e.prev=398,Ge||null==Ye.return||Ye.return();case 400:if(e.prev=400,!Je){e.next=403;break}throw Xe;case 403:return e.finish(400);case 404:return e.finish(397);case 405:it=!0,rt=!1,st=void 0,e.prev=408,nt=p[Symbol.iterator]();case 410:if(it=(ct=nt.next()).done){e.next=420;break}if(lt=ct.value,0!==lt.descontoItem||0!==lt.total||!lt.idItem){e.next=415;break}return this.$q.notify({message:"Item com valor zerado encontrado.",timeout:0,type:"warning",closeBtn:!0}),e.abrupt("return",!1);case 415:lt.total>0&&(ut=dt(100*(lt.total||0)/(n.subTotal||1)),mt=dt((n.totalDesconto||0)*(ut||0)/100),pt=(lt.valorItem||0)*(lt.quantidade||1)-(lt.descontoItem||0)*(lt.quantidade||1)-(mt||0),vt=(pt||0)/(lt.quantidade||1),lt.descontoTotalRateado=dt(mt),lt.valorReal=dt(vt),lt.valorRealTotal=dt(pt),ve+=mt),n.pesoTotalTransporte=dt(n.pesoTotalTransporte+(lt.peso||0));case 417:it=!0,e.next=410;break;case 420:e.next=426;break;case 422:e.prev=422,e.t19=e["catch"](408),rt=!0,st=e.t19;case 426:e.prev=426,e.prev=427,it||null==nt.return||nt.return();case 429:if(e.prev=429,!rt){e.next=432;break}throw st;case 432:return e.finish(429);case 433:return e.finish(426);case 434:if(n.totalDesconto===dt(ve)){e.next=514;break}for(ht=dt((n.totalDesconto||0)-(ve||0)),Ct=0,bt=!0,gt=!1,xt=void 0,e.prev=440,_t=c[Symbol.iterator]();!(bt=(qt=_t.next()).done);bt=!0)St=qt.value,St.total>Ct&&(Ct=St.total,ft=St);e.next=448;break;case 444:e.prev=444,e.t20=e["catch"](440),gt=!0,xt=e.t20;case 448:e.prev=448,e.prev=449,bt||null==_t.return||_t.return();case 451:if(e.prev=451,!gt){e.next=454;break}throw xt;case 454:return e.finish(451);case 455:return e.finish(448);case 456:for(It=!0,Ft=!1,wt=void 0,e.prev=459,yt=d[Symbol.iterator]();!(It=(Nt=yt.next()).done);It=!0)kt=Nt.value,kt.total>Ct&&(Ct=kt.total,ft=kt);e.next=467;break;case 463:e.prev=463,e.t21=e["catch"](459),Ft=!0,wt=e.t21;case 467:e.prev=467,e.prev=468,It||null==yt.return||yt.return();case 470:if(e.prev=470,!Ft){e.next=473;break}throw wt;case 473:return e.finish(470);case 474:return e.finish(467);case 475:for(Mt=!0,Pt=!1,Dt=void 0,e.prev=478,Et=m[Symbol.iterator]();!(Mt=(Tt=Et.next()).done);Mt=!0)At=Tt.value,At.total>Ct&&(Ct=At.total,ft=At);e.next=486;break;case 482:e.prev=482,e.t22=e["catch"](478),Pt=!0,Dt=e.t22;case 486:e.prev=486,e.prev=487,Mt||null==Et.return||Et.return();case 489:if(e.prev=489,!Pt){e.next=492;break}throw Dt;case 492:return e.finish(489);case 493:return e.finish(486);case 494:for(Ot=!0,$t=!1,Rt=void 0,e.prev=497,jt=p[Symbol.iterator]();!(Ot=(zt=jt.next()).done);Ot=!0)Bt=zt.value,Bt.total>Ct&&(Ct=Bt.total,ft=Bt);e.next=505;break;case 501:e.prev=501,e.t23=e["catch"](497),$t=!0,Rt=e.t23;case 505:e.prev=505,e.prev=506,Ot||null==jt.return||jt.return();case 508:if(e.prev=508,!$t){e.next=511;break}throw Rt;case 511:return e.finish(508);case 512:return e.finish(505);case 513:ft&&(Lt=(ft.descontoTotalRateado||0)+(ht||0),Vt=(ft.valorItem||0)*(ft.quantidade||1)-(ft.descontoItem||0)-(Lt||0),Ut=(Vt||0)/(ft.quantidade||1),ft.descontoTotalRateado=dt(Lt),ft.valorReal=dt(Ut),ft.valorRealTotal=dt(Vt));case 514:return e.next=516,Zn.contato.le({numeroDocumentoNacional:Zn.usuario.logado.numeroDocumentoNacional});case 516:return Ht=e.sent,Qt=(Ht[0]||{}).id||"",Gt=[],Jt=(v.numeroDocumentoNacional||"").replace(/[^\d+]/gi,""),Xt=new Date((new Date).setDate(1)).toISOString().replace(/T.*/,"T00:00:00.000Z"),Wt=(new Date).toISOString().replace(/T.*/,"T23:59:59.999Z"),Zt=[],e.next=525,He().documento.where(["tipo","idContato","dataHoraFinalizado"]).between(["Venda",v.id,Xt],["Venda",v.id,Wt],!0,!0).each(function(e){["Não Aprovado","Orçamento"].includes(e.status)||Zt.push(e)});case 525:Kt=11===Jt.length,ea=14===Jt.length,this.modalProdutoControlado.permiteQuantidadeExcedida=!1,ta=la()(c).concat(la()(m),la()(p),la()(d)),aa=regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=ta[oa],!t.idItem||-1!==t.operacaoFator||"87089990"!==t.ncm){e.next=31;break}return e.next=4,He().item.get(t.idItem);case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:if(a=e.t0,!a.id){e.next=31;break}o=t.quantidade,i=!1,r="",o+=la()(c).concat(la()(m),la()(p),la()(d)).reduce(function(e,a){return a.idItem===t.idItem&&a.id!==t.id?e+(a.quantidade||0):e},0),s=0;case 14:if(!(s<Zt.length)){e.next=23;break}return n=Zt[s],e.next=18,He().documentoItem.where({idItem:t.idItem,idDocumento:n.id}).toArray();case 18:l=e.sent,o+=l.reduce(function(e,t){return e+(t.quantidade||0)},0);case 20:s++,e.next=14;break;case 23:o=dt(o,4),a.controladoExercito&&Kt&&(r="Venda proibida para pessoa física",i=!0),!i&&ea&&a.controladoExercito&&a.controladoExercito<o&&(r="Máximo permitido pelo Exército para vendas no mês: "+Ho.$filters.numero(a.controladoExercito,4),i=!0),!i&&Kt&&a.controladoPoliciaFederal&&a.controladoPoliciaFederal<o&&(r="Máximo permitido pela Polícia Federal para vendas no mês: "+Ho.$filters.numero(a.controladoPoliciaFederal,4),i=!0),!i&&Kt&&a.controladoPoliciaCivil&&a.controladoPoliciaCivil<o&&(r="Máximo permitido pela Polícia Civil para vendas no mês: "+Ho.$filters.numero(a.controladoPoliciaCivil,4),i=!0),!i&&ea&&a.controladoPoliciaFederal&&a.controladoPoliciaFederal<o&&(r="Máximo permitido pela Polícia Federal para vendas no mês: "+Ho.$filters.numero(a.controladoPoliciaFederal,4),i=!0,Ho.modalProdutoControlado.permiteQuantidadeExcedida=!0,Ho.$q.notify({message:"Solicitar permissão para a venda"})),!i&&ea&&a.controladoPoliciaCivil&&a.controladoPoliciaCivil<o&&(r="Máximo permitido pela Polícia Civil para vendas no mês: "+Ho.$filters.numero(a.controladoPoliciaCivil,4),i=!0,Ho.modalProdutoControlado.permiteQuantidadeExcedida=!0,Ho.$q.notify({message:"Solicitar permissão para a venda"})),i&&Gt.push({descricao:a.descricao,tooltip:r});case 31:case"end":return e.stop()}},e)}),oa=0;case 531:if(!(oa<ta.length)){e.next=536;break}return e.delegateYield(aa(),"t24",533);case 533:oa++,e.next=531;break;case 536:if(!Gt.length){e.next=545;break}return this.modalProdutoControlado.itens=Gt,this.$q.loading.hide(),ia=!1,e.next=542,new Promise(function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:Ho.modalProdutoControlado.resolve=t,Ho.modalProdutoControlado.reject=a,Ho.modalProdutoControlado.visivel=!0;case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()).catch(function(){ia=!0});case 542:if(!ia){e.next=544;break}return e.abrupt("return");case 544:this.$q.loading.show({message:"Processando..."});case 545:if(!Y){e.next=716;break}return e.next=548,Zn.permissao.objeto("Diretiva_Vendas_DescontoMaximo");case 548:return ra=e.sent,e.t26=parseInt,e.next=552,Zn.configuracoes.leValorComFiltroEmpresa("vendas.margem.trava",n.idEmpresa,0);case 552:if(e.t27=e.sent,e.t25=(0,e.t26)(e.t27),e.t25){e.next=556;break}e.t25=0;case 556:if(sa=e.t25,ra||!sa||!Object(ot["get"])(this.margem[n.id],"limite",!1)){e.next=560;break}return this.$q.notify({message:"Venda com índice inferior ao permitido"}),e.abrupt("return",!1);case 560:if(!n.idItemTabelaPreco){e.next=593;break}return e.next=563,He().itemTabelaPreco.get(n.idItemTabelaPreco);case 563:if(ca=e.sent,ca){e.next=567;break}return this.$q.notify({message:"Não foi possível obter a tabela de preço"}),e.abrupt("return",!1);case 567:da=[],ua=0,ma=n.totalDocumento,pa=la()(c).concat(la()(m),la()(p),la()(d)),va=regeneratorRuntime.mark(function e(){var t,a,o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=pa[ha],t.idItem&&1!==t.operacaoFator){e.next=4;break}return ma=dt(ma-t.valorRealTotal),e.abrupt("return","continue");case 4:return a=void 0,o=void 0,i=void 0,r=void 0,s=void 0,e.next=7,Ho.configurarValoresTabelaPreco(ca,t);case 7:if(a=Ho.valoresTabelaPreco.find(function(e){return e.id===t.id}),a){e.next=10;break}return e.abrupt("return","continue");case 10:o=a.quantidadeMaiorQue&&t.quantidade>=a.quantidadeMaiorQue?a.maximoDescontoMaiorQue:a.maximoDesconto,r=dt(t.valorOriginal-o/100*t.valorOriginal),s=dt(t.valorItem-t.descontoItem),i=o,t.valorItem!==t.valorOriginal&&(i=dt((t.valorItem-r)/t.valorItem*100)),ua=dt(ua+r*t.quantidade),s<r&&da.push({descricao:t.descricaoItem,maximoDesconto:i});case 17:case"end":return e.stop()}},e)}),ha=0;case 573:if(!(ha<pa.length)){e.next=581;break}return e.delegateYield(va(),"t28",575);case 575:if(fa=e.t28,"continue"!==fa){e.next=578;break}return e.abrupt("continue",578);case 578:ha++,e.next=573;break;case 581:if(!(da.length||ma<ua)){e.next=593;break}return Ca="Existe(m) produto(s) com desconto superior ao máximo permitido",this.$q.notifyError(Ca),this.modalDescontoMaximo.permiteDescontoMaximo=ra,this.modalDescontoMaximo.itens=da,this.$q.loading.hide(),ba=!1,e.next=590,new Promise(function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:Ho.modalDescontoMaximo.resolve=t,Ho.modalDescontoMaximo.reject=a,Ho.modalDescontoMaximo.visivel=!0;case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()).then(function(e){if("continuar"===e){var t=Ho.venda.status,a="Aguardando Liberação";Ho.documentoStatus.push({id:hi(),idDocumento:n.id,operacao:n.operacao,statusOriginal:t,statusFinalizado:a,dataHoraEmissao:na(),idUsuarioAlterou:n.idContatoFinalizado,observacao:Ho.modalDescontoMaximo.itens.reduce(function(e,t){return e+t.descricao+" | "},"").slice(0,-3)}),Ho.venda.status=a,Ho.salvarVenda().then(function(){Ho.$emit("executar","atualizar")}),ba=!0}Ho.modalDescontoMaximo.visivel=!1}).catch(function(){ba=!0});case 590:if(!ba){e.next=592;break}return e.abrupt("return");case 592:this.$q.loading.show({message:"Processando..."});case 593:for(n.dataHoraFinalizado=na(),n.idContatoFinalizado=Qt,ga=n.status,n.status=Y,xa=!0,_a=!1,qa=void 0,e.prev=600,Sa=c[Symbol.iterator]();!(xa=(Ia=Sa.next()).done);xa=!0)Fa=Ia.value,Fa.dataHoraFinalizado=n.dataHoraFinalizado,Fa.valorReal=dt(Fa.valorReal),Fa.valorRealTotal=dt(Fa.valorRealTotal),Fa.operacaoFator<0&&(Fa.status=Y),Fa.operacaoFator>0&&(Fa.status="Entregue");e.next=608;break;case 604:e.prev=604,e.t29=e["catch"](600),_a=!0,qa=e.t29;case 608:e.prev=608,e.prev=609,xa||null==Sa.return||Sa.return();case 611:if(e.prev=611,!_a){e.next=614;break}throw qa;case 614:return e.finish(611);case 615:return e.finish(608);case 616:for(wa in l)l[wa].status="Processando";for(ya=!0,Na=!1,ka=void 0,e.prev=620,Ma=d[Symbol.iterator]();!(ya=(Pa=Ma.next()).done);ya=!0)Da=Pa.value,Da.dataHoraFinalizado=n.dataHoraFinalizado,Da.descontoTotalRateado=dt(Da.descontoTotalRateado),Da.valorReal=dt(Da.valorReal),Da.valorRealTotal=dt(Da.valorRealTotal),Da.operacaoFator<0&&(Da.status=Y),Da.operacaoFator>0&&(Da.status="Entregue");e.next=628;break;case 624:e.prev=624,e.t30=e["catch"](620),Na=!0,ka=e.t30;case 628:e.prev=628,e.prev=629,ya||null==Ma.return||Ma.return();case 631:if(e.prev=631,!Na){e.next=634;break}throw ka;case 634:return e.finish(631);case 635:return e.finish(628);case 636:for(Ea=!0,Ta=!1,Aa=void 0,e.prev=639,Oa=this.customs[Symbol.iterator]();!(Ea=($a=Oa.next()).done);Ea=!0)Ra=$a.value,Ra.documento.status="Processando";e.next=647;break;case 643:e.prev=643,e.t31=e["catch"](639),Ta=!0,Aa=e.t31;case 647:e.prev=647,e.prev=648,Ea||null==Oa.return||Oa.return();case 650:if(e.prev=650,!Ta){e.next=653;break}throw Aa;case 653:return e.finish(650);case 654:return e.finish(647);case 655:for(ja=!0,za=!1,Ba=void 0,e.prev=658,La=this.oss[Symbol.iterator]();!(ja=(Va=La.next()).done);ja=!0)Ua=Va.value,Ua.documento.status="Processando";e.next=666;break;case 662:e.prev=662,e.t32=e["catch"](658),za=!0,Ba=e.t32;case 666:e.prev=666,e.prev=667,ja||null==La.return||La.return();case 669:if(e.prev=669,!za){e.next=672;break}throw Ba;case 672:return e.finish(669);case 673:return e.finish(666);case 674:for(Ha=!0,Qa=!1,Ga=void 0,e.prev=677,Ja=m[Symbol.iterator]();!(Ha=(Xa=Ja.next()).done);Ha=!0)Ya=Xa.value,Ya.dataHoraFinalizado=n.dataHoraFinalizado,Ya.descontoTotalRateado=dt(Ya.descontoTotalRateado),Ya.valorReal=dt(Ya.valorReal),Ya.valorRealTotal=dt(Ya.valorRealTotal),Ya.operacaoFator<0&&(Ya.status=Y),Ya.operacaoFator>0&&(Ya.status="Entregue");e.next=685;break;case 681:e.prev=681,e.t33=e["catch"](677),Qa=!0,Ga=e.t33;case 685:e.prev=685,e.prev=686,Ha||null==Ja.return||Ja.return();case 688:if(e.prev=688,!Qa){e.next=691;break}throw Ga;case 691:return e.finish(688);case 692:return e.finish(685);case 693:for(Wa=!0,Za=!1,Ka=void 0,e.prev=696,eo=p[Symbol.iterator]();!(Wa=(to=eo.next()).done);Wa=!0)ao=to.value,ao.dataHoraFinalizado=n.dataHoraFinalizado,ao.descontoTotalRateado=dt(ao.descontoTotalRateado),ao.valorReal=dt(ao.valorReal),ao.valorRealTotal=dt(ao.valorRealTotal),ao.operacaoFator<0&&(ao.status=Y),ao.operacaoFator>0&&(ao.status="Entregue");e.next=704;break;case 700:e.prev=700,e.t34=e["catch"](696),Za=!0,Ka=e.t34;case 704:e.prev=704,e.prev=705,Wa||null==eo.return||eo.return();case 707:if(e.prev=707,!Za){e.next=710;break}throw Ka;case 710:return e.finish(707);case 711:return e.finish(704);case 712:for(oo in this.documentoStatus.push({id:hi(),idDocumento:n.id,operacao:n.operacao,statusOriginal:ga,statusFinalizado:Y,dataHoraEmissao:n.dataHoraFinalizado,idUsuarioAlterou:n.idContatoFinalizado}),l)this.documentoStatus.push({id:hi(),idDocumento:l[oo].id,operacao:"Mudança status envelope",statusOriginal:ga,statusFinalizado:"Processando",dataHoraEmissao:n.dataHoraFinalizado,idUsuarioAlterou:n.idContatoFinalizado});e.next=834;break;case 716:for(n.dataHoraFinalizado=na(),n.idContatoFinalizado=Qt,n.status="Aguardando Entrega",io=!0,ro=!1,so=void 0,e.prev=722,no=c[Symbol.iterator]();!(io=(co=no.next()).done);io=!0)lo=co.value,lo.dataHoraFinalizado=n.dataHoraFinalizado,lo.operacaoFator<0&&(lo.status="Finalizado"),lo.operacaoFator>0&&(lo.status="Entregue");e.next=730;break;case 726:e.prev=726,e.t35=e["catch"](722),ro=!0,so=e.t35;case 730:e.prev=730,e.prev=731,io||null==no.return||no.return();case 733:if(e.prev=733,!ro){e.next=736;break}throw so;case 736:return e.finish(733);case 737:return e.finish(730);case 738:for(uo in l)l[uo].status="Processando",l[uo].dataHoraFinalizado=n.dataHoraFinalizado;for(mo=!0,po=!1,vo=void 0,e.prev=742,ho=d[Symbol.iterator]();!(mo=(fo=ho.next()).done);mo=!0)Co=fo.value,Co.dataHoraFinalizado=n.dataHoraFinalizado,Co.operacaoFator<0&&(Co.status="Finalizado"),Co.operacaoFator>0&&(Co.status="Entregue");e.next=750;break;case 746:e.prev=746,e.t36=e["catch"](742),po=!0,vo=e.t36;case 750:e.prev=750,e.prev=751,mo||null==ho.return||ho.return();case 753:if(e.prev=753,!po){e.next=756;break}throw vo;case 756:return e.finish(753);case 757:return e.finish(750);case 758:for(bo=!0,go=!1,xo=void 0,e.prev=761,_o=this.customs[Symbol.iterator]();!(bo=(qo=_o.next()).done);bo=!0)So=qo.value,So.documento.status="Processando",So.documento.dataHoraFinalizado=n.dataHoraFinalizado;e.next=769;break;case 765:e.prev=765,e.t37=e["catch"](761),go=!0,xo=e.t37;case 769:e.prev=769,e.prev=770,bo||null==_o.return||_o.return();case 772:if(e.prev=772,!go){e.next=775;break}throw xo;case 775:return e.finish(772);case 776:return e.finish(769);case 777:for(Io=!0,Fo=!1,wo=void 0,e.prev=780,yo=this.oss[Symbol.iterator]();!(Io=(No=yo.next()).done);Io=!0)ko=No.value,ko.documento.status="Processando",ko.documento.dataHoraFinalizado=n.dataHoraFinalizado;e.next=788;break;case 784:e.prev=784,e.t38=e["catch"](780),Fo=!0,wo=e.t38;case 788:e.prev=788,e.prev=789,Io||null==yo.return||yo.return();case 791:if(e.prev=791,!Fo){e.next=794;break}throw wo;case 794:return e.finish(791);case 795:return e.finish(788);case 796:for(Mo=!0,Po=!1,Do=void 0,e.prev=799,Eo=m[Symbol.iterator]();!(Mo=(To=Eo.next()).done);Mo=!0)Ao=To.value,Ao.dataHoraFinalizado=n.dataHoraFinalizado,Ao.operacaoFator<0&&(Ao.status="Finalizado"),Ao.operacaoFator>0&&(Ao.status="Entregue");e.next=807;break;case 803:e.prev=803,e.t39=e["catch"](799),Po=!0,Do=e.t39;case 807:e.prev=807,e.prev=808,Mo||null==Eo.return||Eo.return();case 810:if(e.prev=810,!Po){e.next=813;break}throw Do;case 813:return e.finish(810);case 814:return e.finish(807);case 815:for(Oo=!0,$o=!1,Ro=void 0,e.prev=818,jo=p[Symbol.iterator]();!(Oo=(zo=jo.next()).done);Oo=!0)Bo=zo.value,Bo.dataHoraFinalizado=n.dataHoraFinalizado,Bo.operacaoFator<0&&(Bo.status="Finalizado"),Bo.operacaoFator>0&&(Bo.status="Entregue");e.next=826;break;case 822:e.prev=822,e.t40=e["catch"](818),$o=!0,Ro=e.t40;case 826:e.prev=826,e.prev=827,Oo||null==jo.return||jo.return();case 829:if(e.prev=829,!$o){e.next=832;break}throw Ro;case 832:return e.finish(829);case 833:return e.finish(826);case 834:if(Lo=!1,!W){e.next=848;break}return Vo={},e.next=839,Zn.configuracoes.leValorNumerico("venda.codigoconsumidor");case 839:if(Uo=e.sent,v.codigoContato===Uo){e.next=844;break}return e.next=843,Zn.documento.le({idContato:n.idContato,idEmpresa:n.idEmpresa,tipo:"Fatura",status:"Aberta"});case 843:Vo=e.sent;case 844:return Vo.length?(Vo=Object(ot["orderBy"])(Vo,"dataHoraEmissao","desc"),n.idFatura=Vo[0].id):(n.idFatura=hi(),Zn.fatura.grava({fatura:{id:n.idFatura,dataHoraEmissao:n.dataHoraFinalizado,calcularAutomatico:"Sim",tipo:"Fatura",operacao:"Faturamento",status:"Aberta",tipoFrete:"CIF",freteSeparado:!1,totalDesconto:0,totalPercentualDesconto:0,subTotal:n.subTotal,totalDocumento:n.totalDocumento,idEmpresa:n.idEmpresa,idEmpresaEndereco:n.idEmpresaEndereco,descricaoEmpresa:n.descricaoEmpresa,numeroDocumentoEmpresa:n.numeroDocumentoEmpresa,inscricaoMunicipalEmpresa:n.inscricaoMunicipalEmpresa,codigoMunicipioEmpresa:n.codigoMunicipioEmpresa,optanteSimplesNacional:n.optanteSimplesNacional,idContato:n.idContato,idContatoEndereco:n.idContatoEndereco,numeroDocumentoContato:n.numeroDocumentoContato,descricaoContato:n.descricaoContato,descricaoContatoEndereco:n.descricaoContatoEndereco,telefoneContato:n.telefoneContato,emailContato:n.emailContato,regimeContato:n.regimeContato}})),e.next=847,Zn.permissao.objeto("atendimento//fatura");case 847:Lo=e.sent;case 848:return this.venda=n,this.carrinho=c,this.envelopes=l,this.itensEnvelopes=d,this.documentoEndereco=u,e.next=855,this.salvarVenda();case 855:return this.$q.notifyPositive("Orçamento finalizado"),Lo&&this.$nextTick(this.$router.push({name:"AtendimentoFatura",params:{id:this.venda.idContato}})),e.abrupt("return",!0);case 860:return e.prev=860,e.t41=e["catch"](69),this.$q.notifyError("Erro ao finalizar.",e.t41),this.$q.loading.hide(),e.abrupt("return",!1);case 865:return e.prev=865,this.$q.loading.hide(),e.finish(865);case 868:case"end":return e.stop()}},e,this,[[3,14,18,26],[19,,21,25],[30,57],[61,66],[69,860,865,868],[79,108],[88,93,97,105],[98,,100,104],[119,124,128,136],[129,,131,135],[196,204],[213,227,231,239],[232,,234,238],[252,256,260,268],[261,,263,267],[283,335,339,347],[299,312,316,324],[317,,319,323],[340,,342,346],[350,364,368,376],[369,,371,375],[379,393,397,405],[398,,400,404],[408,422,426,434],[427,,429,433],[440,444,448,456],[449,,451,455],[459,463,467,475],[468,,470,474],[478,482,486,494],[487,,489,493],[497,501,505,513],[506,,508,512],[600,604,608,616],[609,,611,615],[620,624,628,636],[629,,631,635],[639,643,647,655],[648,,650,654],[658,662,666,674],[667,,669,673],[677,681,685,693],[686,,688,692],[696,700,704,712],[705,,707,711],[722,726,730,738],[731,,733,737],[742,746,750,758],[751,,753,757],[761,765,769,777],[770,,772,776],[780,784,788,796],[789,,791,795],[799,803,807,815],[808,,810,814],[818,822,826,834],[827,,829,833]])}));return function(){return e.apply(this,arguments)}}()},VC={components:{Avatar:Fc,Badge:Bd,Campo:Sl,ContatoCard:Hd,Custom:oh,DocumentoCodigo:tv,DocumentoMetas:nv,Envelope:qf,Faturamento:vv,VendaTransporte:BC,OrdemServico:uC,Prompt:Zf,PromptCodigoBarras:al,PromptContatoNovo:Yd,PromptDocumentoOperacaoNovo:CC,PromptItemNovo:Zv,PromptItemTabelaPrecoNovo:SC,SeletorCest:Cp,SeletorNcm:AC},computed:{ehOrcamento:function(){return["AGUARDANDO LIBERAÇÃO","AGUARDANDO ESTOQUE","AGUARDANDO FINANCEIRO","ORÇAMENTO"].includes(((this.venda||{}).status||"").toUpperCase())&&"VENDA"===((this.venda||{}).tipo||"").toUpperCase()},estaAberto:function(){var e=["ABERTA","AGUARDANDO FATURAMENTO","AGUARDANDO PAGAMENTO","ORÇAMENTO"];return!!~e.indexOf(((this.venda||{}).status||"").toUpperCase())},ehVenda:function(){return"ORÇAMENTO"!==((this.venda||{}).status||"").toUpperCase()&&"VENDA"===((this.venda||{}).tipo||"").toUpperCase()},temItens:function(){return this.carrinho.length>0},titulo:function(){return"VENDA DE MERCADORIA"===((this.venda||{}).operacao||"").toUpperCase()&&"ORÇAMENTO"===((this.venda||{}).status||"").toUpperCase()&&"VENDA"===((this.venda||{}).tipo||"").toUpperCase()?"Orçamento":"Venda"}},data:function(){return{warningLabel:{},produtoEditandoTab:"tab1",produtoEditandoVisivel:!1,produtoEditando:{},produtoEditandoEstoque:{colunas:[{name:"empresa",label:"Empresa",align:"left"},{name:"tipoEstoque",label:"Tipo estoque",align:"right"},{name:"lote",label:"Lote",align:"right"},{name:"quantidade",label:"Quantidade",align:"right"}],paginacao:{page:1,rowsPerPage:5}},produtoEditandoImposto:{},produtoEditandoHistorico:{colunas:[{name:"documento",label:"Documento",align:"left"},{name:"valorUnitario",label:"Valor Unitário",align:"right"},{name:"quantidade",label:"Quantidade",align:"right"},{name:"valorTotal",label:"Valor Total",align:"right"}],paginacao:{page:1,rowsPerPage:5}},imposto:{},dbUsuario:Zn.usuario,contatos:{},vendaOriginal:{},venda:{},geraFatura:0,configImpressaoOrcamento:[],configImpressaoEnvelope:[],condicaoPagamento:[],condicaoPagamentoOriginal:[],documentoEndereco:[],documentoEnderecoOriginal:[],documentoContato:[],documentoContatoOriginal:[],documentoStatus:[],exibirCarregando:!1,carrinhoOriginal:[],carrinho:[],item:{},codigoBarras:"",entrarCodigoBarras:!1,modalCodigoBarras:!1,envelopes:{},envelopesOriginal:{},envelope:{},itensEnvelopes:[],itensEnvelopesOriginal:[],modalEnvelope:!1,permissaoMargem:!1,margem:{},oss:[],modalOS:{activated:!1,visible:!1},permissaoOSs:!1,customs:[],modalCustom:{activated:!1,visible:!1},permissaoCustoms:!1,produtos:[],menuVenda:!1,modalContato:!1,modalContatoEmpresa:{visivel:!1,retorno:{},aguardarRetorno:!0},modalConvenio:!1,modalDescontoMaximo:{},modalItemSemEstoque:{},modalProdutoControlado:{},modalCreditoDisponivel:{},modalItem:!1,mostrarDetalhes:!1,modalComprador:!1,compradores:[],convenios:[],arquivoOriginal:[],arquivo:[],erroCalculo:!1,sistemaPai:"",promptContato:{ativo:!1,visivel:!1,filtro:{},placeholder:""},promptDocumentoOperacao:{ativo:!1,visivel:!1,filtro:{},placeholder:"Selecione a operação"},promptItemTabelaPreco:{ativo:!1,visivel:!1,filtro:{},placeholder:"Selecione a tabela de preço"}}},methods:at()({subtotal2:function(e){return this.subTotal[e]},salvarEdicaoProduto:function(e){var t=this.carrinho.findIndex(function(t){return t.id===e.id});-1!==t&&this.$set(this.carrinho,t,e),this.unirProdutos(),this.produtoEditandoVisivel=!1},editarProduto:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.produtoEditando=t,e.next=3,Zn.estoqueSaldoProdutoEmpresa.le({idItem:t.idItem});case 3:a=e.sent,o={},i=!0,r=!1,s=void 0,e.prev=8,n=a[Symbol.iterator]();case 10:if(i=(c=n.next()).done){e.next=20;break}if(l=c.value,o[l.idEmpresa]){e.next=17;break}return e.next=15,Zn.contato.le({id:l.idEmpresa});case 15:d=e.sent,d.id&&(o[l.idEmpresa]=d);case 17:i=!0,e.next=10;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e["catch"](8),r=!0,s=e.t0;case 26:e.prev=26,e.prev=27,i||null==n.return||n.return();case 29:if(e.prev=29,!r){e.next=32;break}throw s;case 32:return e.finish(29);case 33:return e.finish(26);case 34:return this.produtoEditandoEstoque.estoque=a.map(function(e){return at()({},e,{nomeEmpresa:Object(ot["get"])(o[e.idEmpresa],"nome",""),apelidoEmpresa:Object(ot["get"])(o[e.idEmpresa],"apelido","")})}),e.next=37,Oa(t.idItem,t.idCfop,this.venda.idEmpresa,this.venda.idContato);case 37:return u=e.sent,this.produtoEditandoImposto={aliqIpi:dt(Object(ot["get"])(u,"aliqIpi",0)),percIva:dt(Object(ot["get"])(u,"percIva",0))},e.next=41,He().documento.where({idContato:this.venda.idContato}).toArray();case 41:m=e.sent,m=m.filter(function(e){return e.id!==q.venda.id}),p={},v=[],h=!0,f=!1,C=void 0,e.prev=48,b=m[Symbol.iterator]();case 50:if(h=(g=b.next()).done){e.next=60;break}return x=g.value,e.next=54,He().documentoItem.where({idDocumento:x.id,idItem:t.idItem}).toArray();case 54:e.t1=function(e){return e.id},_=e.sent.find(e.t1),_&&(v.push({idDocumento:Object(ot["get"])(_,"idDocumento",""),valorReal:Object(ot["get"])(_,"valorReal",0),valorItem:Object(ot["get"])(_,"valorItem",0),quantidade:Object(ot["get"])(_,"quantidade",0),operacaoFator:Object(ot["get"])(_,"operacaoFator",0),valorRealTotal:Object(ot["get"])(_,"valorRealTotal",0),dataHoraEmissao:Object(ot["get"])(_,"dataHoraEmissao",""),dataHoraFinalizado:Object(ot["get"])(_,"dataHoraFinalizado",""),docDataHoraEmissao:Object(ot["get"])(x,"dataHoraEmissao",""),docDataHoraFinalizado:Object(ot["get"])(x,"dataHoraFinalizado","")}),p[x.id]||(p[x.id]={id:Object(ot["get"])(x,"id",""),tipo:Object(ot["get"])(x,"tipo",""),numero:Object(ot["get"])(x,"numero",""),status:Object(ot["get"])(x,"status",""),dataHoraFinalizado:Object(ot["get"])(x,"dataHoraFinalizado",""),dataHoraEmissao:Object(ot["get"])(x,"dataHoraEmissao","")}));case 57:h=!0,e.next=50;break;case 60:e.next=66;break;case 62:e.prev=62,e.t2=e["catch"](48),f=!0,C=e.t2;case 66:e.prev=66,e.prev=67,h||null==b.return||b.return();case 69:if(e.prev=69,!f){e.next=72;break}throw C;case 72:return e.finish(69);case 73:return e.finish(66);case 74:this.produtoEditandoHistorico.documentos=p,this.produtoEditandoHistorico.documentosItens=Object(ot["orderBy"])(v,["docDataHoraFinalizado","docDataHoraEmissao","dataHoraFinalizado","dataHoraEmissao"],["desc","desc","desc","desc"]),this.produtoEditandoTab="tab1",this.produtoEditandoVisivel=!0;case 78:case"end":return e.stop()}},e,this,[[8,22,26,34],[27,,29,33],[48,62,66,74],[67,,69,73]])}));return function(t){return e.apply(this,arguments)}}(),calcularMargens:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w,y,N,k,M,P,D,E,T,A=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.t1=parseInt,e.next=3,Zn.configuracoes.leValorComFiltroEmpresa("vendas.margem.alerta",this.venda.idEmpresa,0);case 3:if(e.t2=e.sent,e.t0=(0,e.t1)(e.t2),e.t0){e.next=7;break}e.t0=0;case 7:return t=e.t0,e.t4=parseInt,e.next=11,Zn.configuracoes.leValorComFiltroEmpresa("vendas.margem.limite",this.venda.idEmpresa,0);case 11:if(e.t5=e.sent,e.t3=(0,e.t4)(e.t5),e.t3){e.next=15;break}e.t3=0;case 15:for(a=e.t3,o=0,i=0,r=!0,s=!1,n=void 0,e.prev=20,c=this.produtos.filter(function(e){return e.id})[Symbol.iterator]();!(r=(l=c.next()).done);r=!0)d=l.value,u=0,d.valorReal&&d.valorCustoReposicao&&d.quantidade&&(i+=d.valorCustoReposicao*d.quantidade,m=d.valorCustoReposicao,p=d.valorReal,v=p-m,u=dt(v/p*100)),this.$set(this.margem,d.id,{valor:u,alerta:u<=t,limite:u<a});e.next=28;break;case 24:e.prev=24,e.t6=e["catch"](20),s=!0,n=e.t6;case 28:e.prev=28,e.prev=29,r||null==c.return||c.return();case 31:if(e.prev=31,!s){e.next=34;break}throw n;case 34:return e.finish(31);case 35:return e.finish(28);case 36:h=!0,f=!1,C=void 0,e.prev=39,b=this.produtos.filter(function(e){return e.documento})[Symbol.iterator]();case 41:if(h=(g=b.next()).done){e.next=71;break}for(x=g.value,_=0,q=0,S=!0,I=!1,F=void 0,e.prev=47,w=x.documentoItens[Symbol.iterator]();!(S=(y=w.next()).done);S=!0)N=y.value,N.valorCustoReposicao&&N.quantidade&&(q+=N.valorCustoReposicao*N.quantidade);e.next=55;break;case 51:e.prev=51,e.t7=e["catch"](47),I=!0,F=e.t7;case 55:e.prev=55,e.prev=56,S||null==w.return||w.return();case 58:if(e.prev=58,!I){e.next=61;break}throw F;case 61:return e.finish(58);case 62:return e.finish(55);case 63:i+=q,k=x.documento.totalDocumento,M=k-q,_=dt(M/k*100),this.$set(this.margem,x.documento.id,{valor:_,alerta:_<=t,limite:_<a});case 68:h=!0,e.next=41;break;case 71:e.next=77;break;case 73:e.prev=73,e.t8=e["catch"](39),f=!0,C=e.t8;case 77:e.prev=77,e.prev=78,h||null==b.return||b.return();case 80:if(e.prev=80,!f){e.next=83;break}throw C;case 83:return e.finish(80);case 84:return e.finish(77);case 85:for(D in P=function(e){var o=0,r=0,s=!0,n=!1,c=void 0;try{for(var l,d=A.itensEnvelopes.filter(function(t){return t.idDocumentoAdicional===e})[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var u=l.value;u.valorCustoReposicao&&u.quantidade&&(r+=u.valorCustoReposicao*u.quantidade)}}catch(e){n=!0,c=e}finally{try{s||null==d.return||d.return()}finally{if(n)throw c}}i+=r;var m=A.envelopes[e].totalDocumento,p=m-r;o=dt(p/m*100),A.$set(A.margem,e,{valor:o,alerta:o<=t,limite:o<a})},this.envelopes)P(D);E=this.venda.totalDocumento,T=E-i,o=dt(T/E*100),this.$set(this.margem,this.venda.id,{valor:o,alerta:o<=t,limite:o<a});case 91:case"end":return e.stop()}},e,this,[[20,24,28,36],[29,,31,35],[39,73,77,85],[47,51,55,63],[56,,58,62],[78,,80,84]])}));return function(){return e.apply(this,arguments)}}(),calcularImposto:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(t={valorIpi:0,valorIcmsSt:0},a=!0,o=!1,i=void 0,e.prev=4,r=this.produtos.filter(function(e){return e.id})[Symbol.iterator]();!(a=(s=r.next()).done);a=!0)n=s.value,t.valorIpi+=n.valorIpi,t.valorIcmsSt+=n.valorIcmsSt;e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](4),o=!0,i=e.t0;case 12:e.prev=12,e.prev=13,a||null==r.return||r.return();case 15:if(e.prev=15,!o){e.next=18;break}throw i;case 18:return e.finish(15);case 19:return e.finish(12);case 20:c=!0,l=!1,d=void 0,e.prev=23,u=this.produtos.filter(function(e){return e.documento})[Symbol.iterator]();case 25:if(c=(m=u.next()).done){e.next=49;break}for(p=m.value,v=!0,h=!1,f=void 0,e.prev=30,C=p.documentoItens[Symbol.iterator]();!(v=(b=C.next()).done);v=!0)g=b.value,t.valorIpi+=g.valorIpi,t.valorIcmsSt+=g.valorIcmsSt;e.next=38;break;case 34:e.prev=34,e.t1=e["catch"](30),h=!0,f=e.t1;case 38:e.prev=38,e.prev=39,v||null==C.return||C.return();case 41:if(e.prev=41,!h){e.next=44;break}throw f;case 44:return e.finish(41);case 45:return e.finish(38);case 46:c=!0,e.next=25;break;case 49:e.next=55;break;case 51:e.prev=51,e.t2=e["catch"](23),l=!0,d=e.t2;case 55:e.prev=55,e.prev=56,c||null==u.return||u.return();case 58:if(e.prev=58,!l){e.next=61;break}throw d;case 61:return e.finish(58);case 62:return e.finish(55);case 63:for(_ in x=function(e){var a=!0,o=!1,i=void 0;try{for(var r,s=q.itensEnvelopes.filter(function(t){return t.idDocumentoAdicional===e})[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var n=r.value;t.valorIpi+=n.valorIpi,t.valorIcmsSt+=n.valorIcmsSt}}catch(e){o=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}},this.envelopes)x(_);t.valorIpi=dt(t.valorIpi),t.valorIcmsSt=dt(t.valorIcmsSt),this.imposto=t;case 68:case"end":return e.stop()}},e,this,[[4,8,12,20],[13,,15,19],[23,51,55,63],[30,34,38,46],[39,,41,45],[56,,58,62]])}));return function(){return e.apply(this,arguments)}}(),faturamentoAtualizar:function(e){this.condicaoPagamento=e},abrirModalCodigoBarras:function(){this.modalCodigoBarras=!0},abrirModalContato:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.modalContato=!0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),abrirModalConvenio:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.contato.leConvenios(this.venda.idContato);case 2:this.convenios=e.sent,this.modalConvenio=!0;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),abrirModalComprador:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.contato.leCompradores(this.venda.idContato);case 2:this.compradores=e.sent,this.modalComprador=!0;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),selecionarComprador:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.documentoContato=this.documentoContato.filter(function(e){return"comprador"!==(e.descricao||"").trim().toLowerCase()}),t&&this.documentoContato.push({id:hi(),idContato:t,descricao:"Comprador",idDocumento:this.venda.id}),this.venda=ea(this.venda),this.modalComprador=!1;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),salvarCustom:function(e){var t=this,a=ea(this.customs),o=a.findIndex(function(e){return e.documento.id===t.modalCustom.data.documento.id});e&&(this.modalCustom.data.documento.numero=1),-1===o?a.push(this.modalCustom.data):a[o]=this.modalCustom.data,this.customs=a,this.unirProdutos(),this.calcularTotais()},salvarOS:function(){var e=this,t=ea(this.oss),a=t.findIndex(function(t){return t.documento.id===e.modalOS.data.documento.id});-1===a?t.push(this.modalOS.data):t[a]=this.modalOS.data,this.oss=t,this.unirProdutos(),this.calcularTotais()},abrirModalCustom:function(e){var t=this;if(e)this.custom=this.customs.find(function(t){return t.documento.id===e});else{var a={id:hi(),numero:1,tipo:"Custom",descricao:"",documentoId:this.venda.id,documentoTipo:"Venda",status:"Orçamento",dataHoraEmissao:na(),idEmpresa:this.venda.idEmpresa,idItemTabelaPreco:this.venda.idItemTabelaPreco,descricaoEmpresa:this.venda.descricaoEmpresa,idContato:this.venda.idContato,descricaoContato:this.venda.descricaoContato,codigoDocumentoOperacao:this.venda.codigoDocumentoOperacao};this.custom={documento:a,documentoItens:[],arquivo:[]}}this.modalCustom.data=ea(this.custom),this.modalCustom.activated=!0,this.$nextTick(function(){t.modalCustom.visible=!0})},abrirModalOS:function(e){var t=this;if(e)this.os=this.oss.find(function(t){return t.documento.id===e});else{var a={id:hi(),tipo:"Ordem de Serviço",operacao:"Ordem de Serviço",descricao:"",documentoId:this.venda.id,documentoTipo:"Venda",status:"Orçamento",dataHoraEmissao:na(),idEmpresa:this.venda.idEmpresa,idItemTabelaPreco:this.venda.idItemTabelaPreco,descricaoEmpresa:this.venda.descricaoEmpresa,idContato:this.venda.idContato,descricaoContato:this.venda.descricaoContato,codigoDocumentoOperacao:this.venda.codigoDocumentoOperacao};this.os={documento:a,documentoItens:[],arquivo:[]}}this.modalOS.data=ea(this.os),this.modalOS.activated=!0,this.$nextTick(function(){t.modalOS.visible=!0})},abrirModalEnvelope:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t?(o=this.itensEnvelopes.filter(function(e){return e.idDocumentoAdicional===t}),this.envelope={documento:this.envelopes[t],documentoContato:this.envelopes[t].documentoContato,documentoItens:o,somenteLeitura:this.ehVenda,arquivo:this.arquivo.filter(function(e){return e.idTabelaMaster===t})}):(a={id:hi(),tipo:"Envelope",documentoId:this.venda.id,documentoTipo:"Venda",status:"Orçamento",dataHoraEmissao:na(),idEmpresa:this.venda.idEmpresa,idItemTabelaPreco:this.venda.idItemTabelaPreco,descricaoEmpresa:this.venda.descricaoEmpresa,idContato:this.venda.idContato,descricaoContato:this.venda.descricaoContato,codigoDocumentoOperacao:this.venda.codigoDocumentoOperacao},this.envelope={documento:a,documentoContato:[],documentoItens:[],somenteLeitura:this.ehVenda,arquivo:[]}),this.modalEnvelope=!0;case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),abrirModalItem:function(){var e={},t=!0,a=!1,o=void 0;try{for(var i,r=this.carrinho[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var s=i.value,n=ea(this.item[s.idItem]);n.novoValorVenda=s.valorReal,e[s.idItem]={item:n,quantidade:s.quantidade}}}catch(e){a=!0,o=e}finally{try{t||null==r.return||r.return()}finally{if(a)throw o}}this.$refs.promptItem.itensSelecionados=e,this.modalItem=!0},obterContatoUsuario:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=JSON.parse(localStorage.getItem("usuario"))||{},a={},!t.codigoUsuario){e.next=10;break}return e.next=5,He().contato.where({codigoUsuario:t.codigoUsuario}).toArray();case 5:if(e.t1=function(e){return e.id},e.t0=e.sent.find(e.t1),e.t0){e.next=9;break}e.t0={};case 9:a=e.t0;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),alterarContatoVendedor:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.obterContatoVendedorViaPrompt();case 2:t=e.sent,t.id&&(delete this.venda.idContatoVendedor,this.$set(this.venda,"idContatoVendedor",t.id));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),selecionarContatoIndicacao:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.promptContato.filtro={ativo:!0},this.promptContato.placeholder="Selecione o contato",e.next=4,this.obterContatoViaPrompt();case 4:t=e.sent,t.id&&(delete this.venda.idContatoIndicacao,this.$set(this.venda,"idContatoIndicacao",t.id));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),removerRepresentando:function(){this.documentoContato=this.documentoContato.filter(function(e){return"representando"!==(e.descricao||"").trim().toLowerCase()}),this.venda=ea(this.venda)},selecionarRepresentando:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.promptContato.filtro={ativo:!0},this.promptContato.placeholder="Selecione o contato",e.next=4,this.obterContatoViaPrompt();case 4:t=e.sent,t.id&&(this.documentoContato=this.documentoContato.filter(function(e){return"representando"!==(e.descricao||"").trim().toLowerCase()}),this.documentoContato.push({id:hi(),idContato:t.id,descricao:"Representando",idDocumento:this.venda.id}),this.venda=ea(this.venda));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),alterarTabelaPreco:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.promptItemTabelaPreco.filtro={tabelaMaster:!0,idEmpresa:this.venda.idEmpresa},e.next=3,this.obterItemTabelaPrecoViaPrompt();case 3:t=e.sent,t.id&&(delete this.venda.idItemTabelaPreco,this.$set(this.venda,"idItemTabelaPreco",t.id));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),alterarOperacao:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.obterDocumentoOperacaoViaPrompt();case 2:if(t=e.sent,!t.id){e.next=13;break}if(delete this.venda.idDocumentoOperacao,this.$set(this.venda,"idDocumentoOperacao",t.id),delete this.venda.operacao,this.$set(this.venda,"operacao",t.operacao),!t.idCfop){e.next=13;break}return e.next=11,Zn.cfop.le({id:t.idCfop});case 11:this.cfop=e.sent,this.cfop.id||this.$q.notify("Não foi possível localizar o CFOP.");case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),obterItemTabelaPrecoViaPrompt:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=8;break}if(o=new Promise(function(e,t){i.resolve||(i.resolve={}),i.resolve["promptItemTabelaPreco"]=e}),this.promptItemTabelaPreco.ativo){e.next=6;break}return this.promptItemTabelaPreco.ativo=!0,e.next=6,this.$nextTick();case 6:return this.promptItemTabelaPreco.visivel=!0,e.abrupt("return",o);case 8:this.promptItemTabelaPreco.visivel=!1,this.resolve["promptItemTabelaPreco"](t);case 10:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),obterDocumentoOperacaoViaPrompt:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=8;break}if(o=new Promise(function(e,t){i.resolve||(i.resolve={}),i.resolve["promptDocumentoOperacao"]=e}),this.promptDocumentoOperacao.ativo){e.next=6;break}return this.promptDocumentoOperacao.ativo=!0,e.next=6,this.$nextTick();case 6:return this.promptDocumentoOperacao.visivel=!0,e.abrupt("return",o);case 8:this.promptDocumentoOperacao.visivel=!1,this.resolve["promptDocumentoOperacao"](t);case 10:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),obterContatoViaPrompt:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){var i,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o){e.next=8;break}if(i=new Promise(function(e,t){r.resolve||(r.resolve={}),r.resolve["promptContato"]=e}),this.promptContato.ativo){e.next=6;break}return this.promptContato.ativo=!0,e.next=6,this.$nextTick();case 6:return this.promptContato.visivel=!0,e.abrupt("return",i);case 8:this.promptContato.visivel=!1,this.resolve["promptContato"](a);case 10:case"end":return e.stop()}},e,this)}));return function(t,a,o){return e.apply(this,arguments)}}(),obterContatoVendedorViaPrompt:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.promptContato.filtro={ativo:!0,vendedores:!0},this.promptContato.placeholder="Selecione o vendedor",e.abrupt("return",this.obterContatoViaPrompt());case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),obterContatoVendedor:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=(t||{}).idContatoVendedor,!a){e.next=10;break}return e.next=4,He().contato.get(a);case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:if(o=e.t0,!o.id){e.next=10;break}return e.abrupt("return",o);case 10:return i=JSON.parse(localStorage.getItem("usuario"))||{},e.next=13,Zn.contatoBusca.filtrar(null,{ativo:!0,vendedores:!0},0);case 13:r=e.sent,s=!0,n=!1,c=void 0,e.prev=17,l=r[Symbol.iterator]();case 19:if(s=(d=l.next()).done){e.next=30;break}if(u=d.value,(u||{}).numeroDocumentoNacional){e.next=23;break}return e.abrupt("continue",27);case 23:if(m=(u.numeroDocumentoNacional||"").replace(/\D/g,""),p=(i.numeroDocumentoNacional||"").replace(/\D/g,""),m!==p){e.next=27;break}return e.abrupt("return",u);case 27:s=!0,e.next=19;break;case 30:e.next=36;break;case 32:e.prev=32,e.t1=e["catch"](17),n=!0,c=e.t1;case 36:e.prev=36,e.prev=37,s||null==l.return||l.return();case 39:if(e.prev=39,!n){e.next=42;break}throw c;case 42:return e.finish(39);case 43:return e.finish(36);case 44:return e.abrupt("return",this.obterContatoVendedorViaPrompt());case 45:case"end":return e.stop()}},e,this,[[17,32,36,44],[37,,39,43]])}));return function(t){return e.apply(this,arguments)}}(),adicionar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w,y=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.contato.le({id:Zn.contato.selecionado.id});case 2:if(t=e.sent,a="",!t.idFormaPagamento){e.next=12;break}return e.next=7,He().formaPagamento.get(t.idFormaPagamento);case 7:if(e.t0=e.sent,e.t0){e.next=10;break}e.t0={};case 10:o=e.t0,a=(o.descricao||"").trim();case 12:return this.contatos={},this.contatos[t.id]=t,i=[],e.next=17,Zn.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);case 17:if(r=e.sent,!r.length){e.next=21;break}return e.next=21,He().empresa.where("idContato").anyOf(r.map(function(e){return e.id})).each(function(e){i.push(e)});case 21:if(i.length){e.next=24;break}return this.$q.notify({message:"Não há empresa configurada",timeout:0,type:"negative",closeBtn:!0}),e.abrupt("return");case 24:if((t.condutaObservacao||"").trim()&&this.$q.notify({message:"Observação da conduta do Cliente: "+t.condutaObservacao,timeout:0,type:"warning",closeBtn:!0}),!(t.condutaRestricao||"").trim()){e.next=28;break}return this.$q.notify({message:t.condutaRestricao,timeout:0,type:"negative",closeBtn:!0}),e.abrupt("return");case 28:return e.next=30,Zn.contatoTelefone.le({idContato:t.id});case 30:return s=e.sent,s=s.length?s[0].telefone:"",e.next=34,Zn.contatoEndereco.le({idContato:t.id});case 34:if(n=e.sent,c=n.filter(function(e){return"Principal"===e.grupo}),l=[],d="",n.length&&(u=la()(c).concat(la()(n))[0],d="".concat(u.logradouro||"",", ",u.numero||""," ",u.complemento||""," - ",u.bairro||""," - ",u.municipio||"","/",u.uf||""),l=[{id:hi(),idContato:t.id,idContatoEndereco:u.id,idCidade:u.idCidade,descricao:d,logradouro:u.logradouro,numero:u.numero,complemento:u.complemento,condominio:u.condominio,bairro:u.bairro,cep:u.cep,ibgeCod:u.ibgeCod,municipio:u.municipio,uf:u.uf,ufCod:u.ufCod,pais:u.pais,grupo:u.grupo,cidadeCodChave:u.cidadeCodChave,observacao:u.observacao}]),m={},this.modalContatoEmpresa.visivel=!1,this.modalContatoEmpresa.retorno={},this.modalContatoEmpresa.aguardarRetorno=!0,!(i.length>1)){e.next=58;break}return this.modalContatoEmpresa.visivel=!0,e.next=47,new Promise(function(e,t){var a=setInterval(function(){y.modalContatoEmpresa.aguardarRetorno||(clearInterval(a),e())},100)});case 47:if(this.modalContatoEmpresa.retorno.id){e.next=51;break}return this.$emit("fechar"),this.$q.notifyError("Empresa não selecionada."),e.abrupt("return");case 51:return m=this.modalContatoEmpresa.retorno,e.next=54,this.configuraImpressaoEnvelope(m.idContato);case 54:return e.next=56,this.configuraImpressaoOrcamento(m.idContato);case 56:e.next=59;break;case 58:m=i[0];case 59:return e.next=61,Zn.contatoEndereco.le({idContato:m.idContato});case 61:if(p=e.sent,p.length){e.next=66;break}return this.$emit("fechar"),this.$q.notifyError("Empresa sem endereço."),e.abrupt("return");case 66:if(v=p.find(function(e){return"principal"===(e.grupo||"").toLowerCase()}),v||(v=p[0]),h="",!t.idItemTabelaPreco){e.next=74;break}return e.next=72,Zn.itemTabelaPreco.le({id:t.idItemTabelaPreco});case 72:f=e.sent,f.idEmpresa?f.idEmpresa===m.idContato&&(h=t.idItemTabelaPreco):h=t.idItemTabelaPreco;case 74:if(h){e.next=95;break}return e.next=77,Zn.itemTabelaPreco.le({idEmpresa:m.idContato,tabelaMaster:!0});case 77:if(e.t1=e.sent,e.t1){e.next=80;break}e.t1=[];case 80:if(C=e.t1,1!==C.length){e.next=85;break}h=C[0].id,e.next=95;break;case 85:if(!(C.length>1)){e.next=95;break}return this.promptItemTabelaPreco.filtro={tabelaMaster:!0,idEmpresa:m.idContato},e.next=89,this.obterItemTabelaPrecoViaPrompt();case 89:if(b=e.sent,h=b.id,h){e.next=95;break}return this.$emit("fechar"),this.$q.notifyError("Tabela de Preço não selecionada."),e.abrupt("return");case 95:return e.next=97,Zn.documentoOperacao.le();case 97:if(g=e.sent,g.length){e.next=101;break}return this.$q.notify("Não foi possível localizar a Operação."),e.abrupt("return");case 101:return e.next=103,Zn.configuracoes.le({nome:"vendas.codigovenda"});case 103:if(x=e.sent,!v||!l[0]||v.uf===l[0].uf){e.next=108;break}return e.next=107,Zn.configuracoes.le({nome:"vendas.codigovenda.foraestado"});case 107:x=e.sent;case 108:if(_={},x.length&&(q=parseInt(x[0].valor),_=g.filter(function(e){return e.codigoDocumentoOperacao===q})),_.length&&(_=_[0]),_.idCfop){e.next=118;break}return e.next=114,this.obterDocumentoOperacaoViaPrompt();case 114:if(_=e.sent,_.id){e.next=118;break}return this.$q.notify("Selecione a operação."),e.abrupt("return");case 118:return e.next=120,Zn.cfop.le({id:_.idCfop});case 120:if(this.cfop=e.sent,this.cfop.id){e.next=124;break}return this.$q.notify("Não foi possível localizar o CFOP."),e.abrupt("return");case 124:return e.next=126,this.obterContatoUsuario();case 126:return S=e.sent,e.next=129,this.obterContatoVendedor(t);case 129:return I=e.sent,I.id||(this.$emit("fechar"),this.$q.notifyError("Vendedor não selecionado")),F={id:this.id,idContato:t.id,idContatoResponsavel:"",descricaoEmpresa:m.nome,idEmpresa:m.idContato,idEmpresaEndereco:v.id,numeroDocumentoEmpresa:m.numeroDocumentoNacional,calcularAutomatico:"Sim",dataHoraEmissao:na(),descricaoContato:t.nome,numeroDocumentoContato:t.numeroDocumentoNacional,freteSeparado:!0,status:"Orçamento",tipo:"Venda",tipoFrete:"CIF",valorFrete:0,totalPercentualDesconto:0,totalDesconto:0,totalDocumento:0,subTotal:0,codigoDocumentoOperacao:_.codigoDocumentoOperacao,operacao:this.cfop.operacao,idContatoVendedor:I.id,idContatoDigitador:S.id,telefoneContato:s,descricaoContatoEndereco:d,idItemTabelaPreco:h,observacaoFaturamento:a},l.length&&(l[0].idDocumento=F.id),this.venda={},this.vendaOriginal={},this.envelopes={},this.envelopesOriginal={},this.carrinho=[],this.carrinhoOriginal=[],this.itensEnvelopes=[],this.itensEnvelopesOriginal=[],this.condicaoPagamento=[],this.condicaoPagamentoOriginal=[],this.documentoEndereco=[],this.documentoEnderecoOriginal=[],this.documentoStatus=[],this.documentoContato=[],e.next=149,Zn.permissao.objeto("atendimento//venda/custom");case 149:return this.permissaoCustoms=e.sent,e.next=152,Zn.permissao.objeto("atendimento//venda/os");case 152:return this.permissaoOSs=e.sent,e.next=155,this.atualizaUsaFatura(m);case 155:if(this.venda=F,this.documentoEndereco=l,localStorage.documentoItemDevolucao)try{w=JSON.parse(localStorage.getItem("documentoItemDevolucao")),localStorage.removeItem("documentoItemDevolucao"),w.idDocumento=this.venda.id,w.dataHoraEmissao=na(),this.carrinho.push(w),this.carregarItens(),this.unirProdutos(),this.calcularTotais(),this.$q.notify({message:"Item adicionado ao orçamento.",type:"positive"})}catch(e){this.$q.notify("Não foi possível adicionar item ao orçamento.")}case 158:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),atualizaUsaFatura:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He().configuracoes.where({nome:"vendas.gerafatura"}).toArray();case 2:a=e.sent,o=a.find(function(e){return e.idEmpresa===t.idContato}),o||(o=a.find(function(e){return!e.idEmpresa})),this.geraFatura=o?parseInt(o.valor):0;case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),buscarCodigoBarras:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=(t||"").trim().replace(/(\S+\s)|(\S+$)/g,"codigoBarras:$1$2"),t){e.next=3;break}return e.abrupt("return",a([]));case 3:return o=this.$filters,i=o.dinheiro,r=o.numero,e.next=6,Zn.itemBusca.filtrar(t,{ativo:!0},10);case 6:if(s=e.sent,s=s.map(function(e){return{value:e.id,label:e.descricao,sublabel:"".concat(i(e.valorVenda)," | ").concat(r(e.quantidadeDisponivel)+e.unidade),stamp:e.codigoBarras,item:e}}),!this.entrarCodigoBarras||1!==s.length){e.next=10;break}return e.abrupt("return",this.selecionarItemCodigoBarras(s[0]));case 10:if("function"!==typeof a){e.next=12;break}return e.abrupt("return",a(s));case 12:this.$q.notifyError("Nenhum item foi encontrado.");case 13:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),calcularQuantidadeCustom:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=this.customs.find(function(e){return e.documento.id===t}),o=dt(a.documento.numero,0),i=a.documento.totalDocumento>a.documento.subTotal?dt(a.documento.totalDocumento/a.documento.subTotal,0):dt(a.documento.subTotal/a.documento.totalDocumento,0),a.documento.totalDocumento=dt(a.documento.subTotal*o,2),r=!0,s=!1,n=void 0,e.prev=7,c=a.documentoItens[Symbol.iterator]();case 9:if(r=(l=c.next()).done){e.next=25;break}return d=l.value,u=d.valorItem-d.descontoItem,d.quantidade=dt(d.quantidade/i*o,0),d.subTotal=dt(u*d.quantidade),d.total=d.subTotal,d.valorReal=dt(u),d.valorRealTotal=d.total,e.next=19,Oa(d.idItem,d.idCfop,a.documento.idEmpresa,a.documento.idContato);case 19:m=e.sent,d.valorIpi=dt(Object(ot["get"])(m,"aliqIpi",0)/100*d.valorRealTotal),d.valorIcmsSt=dt(Object(ot["get"])(m,"percIva",0)/100*d.valorRealTotal);case 22:r=!0,e.next=9;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e["catch"](7),s=!0,n=e.t0;case 31:e.prev=31,e.prev=32,r||null==c.return||c.return();case 34:if(e.prev=34,!s){e.next=37;break}throw n;case 37:return e.finish(34);case 38:return e.finish(31);case 39:this.calcularTotais();case 40:case"end":return e.stop()}},e,this,[[7,27,31,39],[32,,34,38]])}));return function(t){return e.apply(this,arguments)}}(),cancelar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.ehVenda){e.next=48;break}return e.prev=1,e.next=4,this.$q.dialog({cancel:"Cancelar",message:"Esta ação irá cancelar esta venda",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e["catch"](1),e.abrupt("return");case 9:for(e.prev=9,this.$q.loading.show({message:"Processando..."}),t=na(),this.venda.status="Cancelado",this.venda.idFatura="",this.venda.dataHoraFinalizado=t,a=!0,o=!1,i=void 0,e.prev=18,r=this.carrinho[Symbol.iterator]();!(a=(s=r.next()).done);a=!0)n=s.value,n.status=this.venda.status,n.dataHoraFinalizado=t;e.next=26;break;case 22:e.prev=22,e.t1=e["catch"](18),o=!0,i=e.t1;case 26:e.prev=26,e.prev=27,a||null==r.return||r.return();case 29:if(e.prev=29,!o){e.next=32;break}throw i;case 32:return e.finish(29);case 33:return e.finish(26);case 34:return this.$refs.faturamento.condicaoPagamento=[],e.next=37,this.salvarVenda();case 37:this.$emit("cancelada"),this.$q.notifyPositive("Venda cancelada"),e.next=45;break;case 41:e.prev=41,e.t2=e["catch"](9),this.$q.notify("Não foi possível cancelar a venda."),this.$q.loading.hide();case 45:return e.prev=45,this.$q.loading.hide(),e.finish(45);case 48:case"end":return e.stop()}},e,this,[[1,6],[9,41,45,48],[18,22,26,34],[27,,29,33]])}));return function(){return e.apply(this,arguments)}}(),salvarEnvelope:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.envelopes[t.documento.id]=t.documento,this.envelopes[t.documento.id].documentoContato=t.documentoContato,this.envelopes[t.documento.id].armacao=t.armacao,this.envelopes[t.documento.id].pupilometro=t.pupilometro,a=this.itensEnvelopes.filter(function(e){return e.idDocumentoAdicional!==t.documento.id}),a=la()(a).concat(la()(t.documentoItens)),this.itensEnvelopes=a,o=this.arquivo.filter(function(e){return e.idTabelaMaster!==t.documento.id}),o=la()(o).concat(la()(t.arquivo)),this.arquivo=o,this.calcularTotais();case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),descricaoEnvelope:function(e){var t="",a=!0,o=!1,i=void 0;try{for(var r,s=this.itensEnvelopes[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var n=r.value;n.idDocumentoAdicional===e&&n.descricaoItem.trim()&&(t+=n.descricaoItem.trim()+" | ")}}catch(e){o=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}return t.slice(0,-3)},escanearCodigoBarras:function(e){this.fecharModalCodigoBarras(),this.$refs.codigoBarras.focus(),this.entrarCodigoBarras=!0,this.buscarCodigoBarras(e)},fecharModalCodigoBarras:function(){this.modalCodigoBarras=!1},fecharModalContato:function(){this.modalContato=!1}},LC,{leitorCodigoBarras:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t.ctrlKey||74!==t.keyCode){e.next=4;break}t.preventDefault(),e.next=12;break;case 4:if(13!==t.keyCode){e.next=12;break}if(a=(this.codigoBarras||"").trim().replace(/(\S+\s)|(\S+$)/g,"codigoBarras:$1$2"),!a){e.next=12;break}return e.next=9,Zn.itemBusca.filtrar(a,{ativo:!0},1);case 9:o=e.sent,i=o.find(function(e){return e.id}),i?this.selecionarItemCodigoBarras({item:i}):this.$q.notifyError("Item não encontrado");case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),removerEnvelope:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(o in this.$delete(this.envelopes,t),a=[],this.itensEnvelopes)this.itensEnvelopes[o].idDocumentoAdicional===t&&a.push(o);for(i=!0,r=!1,s=void 0,e.prev=6,n=a.reverse()[Symbol.iterator]();!(i=(c=n.next()).done);i=!0)l=c.value,this.$delete(this.itensEnvelopes,l);e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](6),r=!0,s=e.t0;case 14:e.prev=14,e.prev=15,i||null==n.return||n.return();case 17:if(e.prev=17,!r){e.next=20;break}throw s;case 20:return e.finish(17);case 21:return e.finish(14);case 22:this.calcularTotais();case 23:case"end":return e.stop()}},e,this,[[6,10,14,22],[15,,17,21]])}));return function(t){return e.apply(this,arguments)}}(),removerCustom:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$q.dialog({cancel:"Cancelar",message:"Esta ação irá remover este item do carrinho",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return");case 8:this.customs=this.customs.filter(function(e){return e.documento.id!==t}),this.unirProdutos(),this.calcularTotais();case 11:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),removerItem:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$q.dialog({cancel:"Cancelar",message:"Esta ação irá remover este item do carrinho",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return");case 8:e.t1=regeneratorRuntime.keys(this.carrinho);case 9:if((e.t2=e.t1()).done){e.next=18;break}if(a=e.t2.value,this.carrinho[a].id!==t){e.next=16;break}return this.carrinho.splice(a,1),this.unirProdutos(),this.calcularTotais(),e.abrupt("return");case 16:e.next=9;break;case 18:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),removerOS:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$q.dialog({cancel:"Cancelar",message:"Esta ação irá remover este item do carrinho",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return");case 8:this.oss=this.oss.filter(function(e){return e.documento.id!==t}),this.unirProdutos(),this.calcularTotais();case 11:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),reprovarOrcamento:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$q.dialog({cancel:"Cancelar",message:"Especifique o motivo:",noRefocus:!0,ok:"Continuar",preventClose:!0,prompt:{model:"",type:"text"},title:"Reprovar orçamento?"});case 3:if(t=e.sent,!t.trim()){e.next=48;break}for(e.prev=5,this.$q.loading.show({message:"Processando..."}),a=na(),o="Não Aprovado",this.venda.motivoCancelamento=t.trim(),this.venda.status=o,this.venda.dataHoraFinalizado=a,i=!0,r=!1,s=void 0,e.prev=15,n=this.carrinho[Symbol.iterator]();!(i=(c=n.next()).done);i=!0)l=c.value,l.status=o,l.dataHoraFinalizado=a;e.next=23;break;case 19:e.prev=19,e.t0=e["catch"](15),r=!0,s=e.t0;case 23:e.prev=23,e.prev=24,i||null==n.return||n.return();case 26:if(e.prev=26,!r){e.next=29;break}throw s;case 29:return e.finish(26);case 30:return e.finish(23);case 31:return this.$refs.faturamento.condicaoPagamento=[],e.next=34,this.salvarVenda();case 34:return this.$q.notifyPositive("Orçamento reprovado"),e.abrupt("return",!0);case 38:return e.prev=38,e.t1=e["catch"](5),this.$q.notifyError("Ocorreu um erro ao reprovar o orçamento.",e.t1),this.$q.loading.hide(),e.abrupt("return",!1);case 43:return e.prev=43,this.$q.loading.hide(),e.finish(43);case 46:e.next=50;break;case 48:return this.$q.notifyError("Especifique o motivo"),e.abrupt("return",!1);case 50:e.next=55;break;case 52:return e.prev=52,e.t2=e["catch"](0),e.abrupt("return",!1);case 55:case"end":return e.stop()}},e,this,[[0,52],[5,38,43,46],[15,19,23,31],[24,,26,30]])}));return function(){return e.apply(this,arguments)}}(),retornarOrcamento:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w,y,N,k,M,P,D,E,T,A,O,$,R,j,z,B,L,V;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$q.dialog({cancel:"Cancelar",message:"Esta ação irá retornar esta venda para orçamento",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return",!1);case 8:return e.prev=8,this.$q.loading.show({message:"Processando..."}),e.next=12,Zn.documentoStatus.le({idDocumento:this.venda.id});case 12:if(t=e.sent,t=Object(ot["orderBy"])(t,"dataHoraEmissao","desc")[0],!["Faturado","Aguardando Pagamento"].includes(this.venda.status)){e.next=17;break}return this.$q.notifyError("Não é possível reabrir vendas de faturas já pagas! Por favor, reabra a fatura."),e.abrupt("return",!1);case 17:return e.next=19,Zn.permissao.objeto("Diretiva_Vendas_Reabertura");case 19:if(e.sent){e.next=25;break}if(a=new Date,o=new Date(this.venda.dataHoraFinalizado),!(o.getFullYear()<a.getFullYear()||o.getMonth()<a.getMonth())){e.next=25;break}return this.$q.notifyError("Não é possível reabrir vendas de meses passados!"),e.abrupt("return",!1);case 25:return this.documentoStatus=[],this.venda.idFatura="",this.venda.idContatoFinalizado="",this.venda.status="Orçamento",this.venda.dataHoraFinalizado="",this.venda.dataHoraRealizado="",this.venda.motivoCancelamento="",i=na(),e.next=35,Zn.contato.le({numeroDocumentoNacional:Zn.usuario.logado.numeroDocumentoNacional});case 35:for(r=e.sent,s=(r[0]||{}).id||"",n=!0,c=!1,l=void 0,e.prev=40,d=this.carrinho[Symbol.iterator]();!(n=(u=d.next()).done);n=!0)m=u.value,m.status="Orçamento","Local"!==m.tipoItem&&(m.dataHoraFinalizado="");e.next=48;break;case 44:e.prev=44,e.t1=e["catch"](40),c=!0,l=e.t1;case 48:e.prev=48,e.prev=49,n||null==d.return||d.return();case 51:if(e.prev=51,!c){e.next=54;break}throw l;case 54:return e.finish(51);case 55:return e.finish(48);case 56:for(p in this.envelopes)this.documentoStatus.push({id:hi(),idDocumento:this.envelopes[p].id,operacao:"Mudança status envelope",statusOriginal:this.envelopes[p].status,statusFinalizado:"Orçamento",dataHoraEmissao:i,idUsuarioAlterou:s}),this.envelopes[p].status="Orçamento",this.envelopes[p].dataHoraFinalizado="";for(v=!0,h=!1,f=void 0,e.prev=60,C=this.itensEnvelopes[Symbol.iterator]();!(v=(b=C.next()).done);v=!0)g=b.value,g.status="Orçamento",g.dataHoraFinalizado="";e.next=68;break;case 64:e.prev=64,e.t2=e["catch"](60),h=!0,f=e.t2;case 68:e.prev=68,e.prev=69,v||null==C.return||C.return();case 71:if(e.prev=71,!h){e.next=74;break}throw f;case 74:return e.finish(71);case 75:return e.finish(68);case 76:for(x=!0,_=!1,q=void 0,e.prev=79,S=this.customs[Symbol.iterator]();!(x=(I=S.next()).done);x=!0)F=I.value,F.documento.status="Orçamento",F.documento.dataHoraFinalizado="";e.next=87;break;case 83:e.prev=83,e.t3=e["catch"](79),_=!0,q=e.t3;case 87:e.prev=87,e.prev=88,x||null==S.return||S.return();case 90:if(e.prev=90,!_){e.next=93;break}throw q;case 93:return e.finish(90);case 94:return e.finish(87);case 95:for(w=!0,y=!1,N=void 0,e.prev=98,k=this.oss[Symbol.iterator]();!(w=(M=k.next()).done);w=!0)P=M.value,P.documento.status="Orçamento",P.documento.dataHoraFinalizado="";e.next=106;break;case 102:e.prev=102,e.t4=e["catch"](98),y=!0,N=e.t4;case 106:e.prev=106,e.prev=107,w||null==k.return||k.return();case 109:if(e.prev=109,!y){e.next=112;break}throw N;case 112:return e.finish(109);case 113:return e.finish(106);case 114:for(D=!0,E=!1,T=void 0,e.prev=117,A=this.customs.reduce(function(e,t){return la()(e).concat(la()(t.documentoItens||[]))},[])[Symbol.iterator]();!(D=(O=A.next()).done);D=!0)$=O.value,$.status="Orçamento",$.dataHoraFinalizado="";e.next=125;break;case 121:e.prev=121,e.t5=e["catch"](117),E=!0,T=e.t5;case 125:e.prev=125,e.prev=126,D||null==A.return||A.return();case 128:if(e.prev=128,!E){e.next=131;break}throw T;case 131:return e.finish(128);case 132:return e.finish(125);case 133:for(R=!0,j=!1,z=void 0,e.prev=136,B=this.oss.reduce(function(e,t){return la()(e).concat(la()(t.documentoItens||[]))},[])[Symbol.iterator]();!(R=(L=B.next()).done);R=!0)V=L.value,V.status="Orçamento",V.dataHoraFinalizado="";e.next=144;break;case 140:e.prev=140,e.t6=e["catch"](136),j=!0,z=e.t6;case 144:e.prev=144,e.prev=145,R||null==B.return||B.return();case 147:if(e.prev=147,!j){e.next=150;break}throw z;case 150:return e.finish(147);case 151:return e.finish(144);case 152:return this.documentoStatus.push({id:hi(),idDocumento:this.venda.id,dataHoraEmissao:i,operacao:this.venda.operacao,statusOriginal:(t||{}).statusFinalizado,statusFinalizado:"Orçamento",idUsuarioAlterou:s}),e.next=155,this.salvarVenda();case 155:return this.atualizar(),this.$emit("executar","retornarOrcamento"),this.$q.notifyPositive("Venda retornada para orçamento"),e.abrupt("return",!0);case 161:return e.prev=161,e.t7=e["catch"](8),this.$q.notifyError("Não foi possível retornar para orçamento.",e.t7),this.$q.loading.hide(),e.abrupt("return",!1);case 166:return e.prev=166,this.$q.loading.hide(),e.finish(166);case 169:case"end":return e.stop()}},e,this,[[0,5],[8,161,166,169],[40,44,48,56],[49,,51,55],[60,64,68,76],[69,,71,75],[79,83,87,95],[88,,90,94],[98,102,106,114],[107,,109,113],[117,121,125,133],[126,,128,132],[136,140,144,152],[145,,147,151]])}));return function(){return e.apply(this,arguments)}}(),selecionarEmpresa:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.modalContatoEmpresa.retorno={},t){e.next=4;break}return this.modalContatoEmpresa.aguardarRetorno=!1,e.abrupt("return");case 4:return e.next=6,Zn.empresa.le({idContato:t});case 6:a=e.sent,a.length&&(this.modalContatoEmpresa.retorno=a[0]),this.modalContatoEmpresa.aguardarRetorno=!1;case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),selecionarContato:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.exibirCarregando=!0,this.fecharModalContato(),e.prev=2,e.next=5,Zn.contato.leCompleto(t);case 5:a=e.sent,o=function(e){return!!e.grupo&&"PRINCIPAL"===e.grupo.toUpperCase()},i=a.endereco.find(o)||a.endereco[0],r=a.telefone.find(o)||a.telefone[0],this.venda.idContato=t,this.venda.descricaoContato=a.nome,this.venda.telefoneContato=r?r.telefone:"",s=i||{},n=s.logradouro,c=s.numero,l=s.complemento,d=s.municipio,u=s.uf,n=n?n+", ":"",c=c?c+" ":"",l=l||"",d=d?" - "+d:"",u=u?" / "+u:"",this.venda.descricaoContatoEndereco=n+c+l+d+u,e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](2),this.$q.notifyError("Erro ao alterar o contato do documento.",e.t0);case 24:this.exibirCarregando=!1;case 25:case"end":return e.stop()}},e,this,[[2,21]])}));return function(t){return e.apply(this,arguments)}}(),selecionarConvenio:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:delete this.venda.idContatoResponsavel,this.$set(this.venda,"idContatoResponsavel",t),this.modalConvenio=!1;case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),configurarValoresTabelaPreco:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o=this.valoresTabelaPreco.find(function(e){return e.id===a.id}),!o){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,He().item.get(a.idItem);case 5:return i=e.sent,e.next=8,Zn.itemTabelaPreco.obterValores(t,i);case 8:o=e.sent,this.valoresTabelaPreco.push(at()({id:a.id},o));case 10:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),selecionarItens:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.exibirCarregando=!0,a=regeneratorRuntime.mark(function e(a){var o,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o=t[a].item||{},r=t[a].quantidade||0,s=i.carrinho.findIndex(function(e){return e.idItem===a}),e.next=5,i.selecionarItem(a,o,r);case 5:-1===s&&(s=i.carrinho.findIndex(function(e){return e.idItem===a}),-1!==s&&-1===i.carrinho[s].operacaoFator&&i.carrinhoCalcularTotais(i.carrinho[s].id,"quantidade"));case 6:case"end":return e.stop()}},e)}),e.t0=regeneratorRuntime.keys(t);case 3:if((e.t1=e.t0()).done){e.next=8;break}return o=e.t1.value,e.delegateYield(a(o),"t2",6);case 6:e.next=3;break;case 8:this.carregarItens(),this.unirProdutos(),this.calcularTotais(),this.exibirCarregando=!1;case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),selecionarItem:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){var i,r,s,n,c,l,d,u,m,p,v,h,f;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.modalItem=!1,i=this.carrinho.findIndex(function(e){return e.idItem===t}),-1===i||-1!==this.carrinho[i].operacaoFator){e.next=6;break}return a.novoValorVenda!==this.carrinho[i].valorOriginal&&(a.novoValorVenda<=this.carrinho[i].valorOriginal?(this.carrinho[i].valorItem=this.carrinho[i].valorOriginal,this.carrinho[i].descontoItem=dt(this.carrinho[i].valorOriginal-a.novoValorVenda)):(this.carrinho[i].valorItem=a.novoValorVenda,this.carrinho[i].descontoItem=0),this.carrinhoCalcularTotais(this.carrinho[i].id,"descontoItem")),this.carrinho[i].quantidade!==o&&(this.carrinho[i].quantidade=o||1,this.carrinhoCalcularTotais(this.carrinho[i].id,"quantidade")),e.abrupt("return");case 6:if((this.cfop||{}).id){e.next=16;break}return e.next=9,Zn.documentoOperacao.le({codigoDocumentoOperacao:this.venda.codigoDocumentoOperacao});case 9:if(r=e.sent,r.length){e.next=13;break}return this.$q.notify("Não foi possível localizar a Operação."),e.abrupt("return");case 13:return e.next=15,Zn.cfop.le({id:r[0].idCfop});case 15:this.cfop=e.sent;case 16:if(this.cfop.id){e.next=19;break}return this.$q.notify("Não foi possível localizar o CFOP."),e.abrupt("return");case 19:return s="",n="",e.next=23,Zn.perfilContabilItem.le({idPerfilContabil:a.idPerfilContabil,idCfop:this.cfop.id,and:{idPerfilContabil:a.idPerfilContabil,idCfop:this.cfop.id}});case 23:if(c=e.sent,c.length&&(s=c[0].idPlanoContaEstoque,n=c[0].idPlanoContaDestino),s&&n||(s=this.cfop.idPlanoContaEstoque,n=this.cfop.idPlanoContaDestino),s&&n){e.next=43;break}return e.next=29,Zn.configuracoes.le({nome:"financeiro.planocontas.comprageral"});case 29:if(l=e.sent,!l.length){e.next=35;break}return d=parseInt(l[0].valor),e.next=34,Zn.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:d});case 34:s=e.sent.id;case 35:return e.next=37,Zn.configuracoes.le({nome:"financeiro.planocontas.faturamentogeral"});case 37:if(u=e.sent,!u.length){e.next=43;break}return m=parseInt(u[0].valor),e.next=42,Zn.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:m});case 42:n=e.sent.id;case 43:if(s){e.next=46;break}return this.$q.notify("Não foi possível localizar Conta de Estoque."),e.abrupt("return");case 46:if(n){e.next=49;break}return this.$q.notify("Não foi possível localizar Conta de Destino."),e.abrupt("return");case 49:return e.next=51,Zn.estoqueSaldoProdutoEmpresa.le({idItem:a.id,idEmpresa:Object(ot["get"])(this.venda,"idEmpresa",""),tipoEstoque:"Disponível"});case 51:return e.t0=function(e){return e.idItem},p=e.sent.find(e.t0),e.next=55,Oa(a.id,this.cfop.id,this.venda.idEmpresa,this.venda.idContato);case 55:return v=e.sent,e.next=58,To(a.ncm,this.cfop.cfop);case 58:h=e.sent,f={id:hi(),idItem:a.id,idDocumento:this.venda.id,dataHoraEmissao:na(),descontoItem:0,descontoPercentualItem:0,descontoSubTotal:0,descontoTotalRateado:0,descontoFaturaRateado:0,descricaoItem:a.descricaoConcatenada,operacao:h?h.operacao:this.cfop.operacao,operacaoFator:h?h.fator:this.cfop.fator,idCfop:h?h.id:this.cfop.id,idPlanoContaEstoque:s,idPlanoContaDestino:n,quantidade:o||1,status:this.venda.status,tipoItem:a.tipo,subTotal:a.valorVenda,total:a.valorVenda,valorCusto:0,valorCustoMedio:Object(ot["get"])(p,"valorCustoMedio",0),valorCustoReposicao:a.valorCustoReposicao||0,valorCustoUltimo:Object(ot["get"])(p,"valorCusto",0),valorItem:a.valorVenda,valorItemUltimo:a.valorVenda,valorOriginal:a.valorVenda,valorReal:a.valorVenda,valorRealTotal:a.valorVenda,valorIpi:dt(Object(ot["get"])(v,"aliqIpi",0)/100*a.valorVenda),valorIcmsSt:dt(Object(ot["get"])(v,"percIva",0)/100*a.valorVenda),ncm:a.ncm,cest:a.cest},this.carrinho.push(f),i=this.carrinho.findIndex(function(e){return e.idItem===t}),-1!==i&&-1===this.carrinho[i].operacaoFator&&a.novoValorVenda!==this.carrinho[i].valorOriginal&&(a.novoValorVenda<=this.carrinho[i].valorOriginal?(this.carrinho[i].valorItem=this.carrinho[i].valorOriginal,this.carrinho[i].descontoItem=dt(this.carrinho[i].valorOriginal-a.novoValorVenda)):(this.carrinho[i].valorItem=a.novoValorVenda,this.carrinho[i].descontoItem=0),this.carrinhoCalcularTotais(this.carrinho[i].id,"descontoItem")),o||(this.carregarItens(),this.unirProdutos(),this.calcularTotais());case 64:case"end":return e.stop()}},e,this)}));return function(t,a,o){return e.apply(this,arguments)}}(),selecionarItemCodigoBarras:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.item,this.codigoBarras="",this.entrarCodigoBarras=!1,!a.id||!this.venda.idItemTabelaPreco){e.next=19;break}return e.next=6,He().itemTabelaPreco.get(this.venda.idItemTabelaPreco);case 6:if(e.t0=e.sent,e.t0){e.next=9;break}e.t0={};case 9:if(o=e.t0,!o.id){e.next=19;break}return e.next=13,Zn.itemTabelaPreco.obterValores(o,a);case 13:if(e.t1=e.sent,e.t1){e.next=16;break}e.t1={};case 16:i=e.t1,a.valorVenda=i.valorVenda||0,a.valorReal=i.valorVenda||0;case 19:a.novoValorVenda=a.valorVenda,this.selecionarItem(a.id,a);case 21:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),salvarVenda:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=!0,a=!1,o=void 0,e.prev=3,i=this.carrinho.map(function(e){return e.id})[Symbol.iterator]();case 5:if(t=(r=i.next()).done){e.next=12;break}return s=r.value,e.next=9,this.carrinhoCalcularTotais(s);case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](3),a=!0,o=e.t0;case 18:e.prev=18,e.prev=19,t||null==i.return||i.return();case 21:if(e.prev=21,!a){e.next=24;break}throw o;case 24:return e.finish(21);case 25:return e.finish(18);case 26:for(c in this.calcularTotais(),e.prev=27,this.$q.loading.show({message:"Processando..."}),this.$refs.transporte&&(this.venda=at()({},this.venda,this.$refs.transporte.get())),n=Yt(this.$refs.faturamento.condicaoPagamento),n)delete n[c].idDocumentoCondicaoPagamento,delete n[c].parcelas,delete n[c].formaPagamento,delete n[c].edicao,delete n[c].codigoDocumento,delete n[c].codigoDocumentoCaixa;for(u in l=[],d=[],this.envelopes)l.push(this.envelopes[u]);for(m in this.envelopesOriginal)d.push(this.envelopesOriginal[m]);if(p={venda:this.vendaOriginal,envelopes:d,customs:this.customsOriginal,oss:this.ossOriginal,carrinho:la()(this.carrinhoOriginal).concat(la()(this.itensEnvelopesOriginal)),condicaoPagamento:this.condicaoPagamentoOriginal,documentoEndereco:this.documentoEnderecoOriginal,documentoContato:this.documentoContatoOriginal,arquivo:this.arquivoOriginal},this.venda.observacaoFaturamento=this.$refs.faturamento.observacaoFaturamento,v={venda:this.venda,envelopes:l,customs:this.customs,oss:this.oss,carrinho:la()(this.carrinho).concat(la()(this.itensEnvelopes)),condicaoPagamento:n,documentoEndereco:this.documentoEndereco,documentoContato:this.documentoContato,arquivo:this.arquivo},!Object.keys(ga(p,v)).length){e.next=44;break}return e.next=42,Zn.venda.grava({venda:this.venda,vendaOriginal:this.vendaOriginal,customs:this.customs,customsOriginal:this.customsOriginal,oss:this.oss,ossOriginal:this.ossOriginal,envelopes:l,envelopesOriginal:d,carrinho:la()(this.carrinho).concat(la()(this.itensEnvelopes)),carrinhoOriginal:la()(this.carrinhoOriginal).concat(la()(this.itensEnvelopesOriginal)),condicaoPagamento:n,condicaoPagamentoOriginal:this.condicaoPagamentoOriginal,documentoEndereco:this.documentoEndereco,documentoEnderecoOriginal:this.documentoEnderecoOriginal,documentoContato:this.documentoContato,documentoContatoOriginal:this.documentoContatoOriginal,documentoStatus:this.documentoStatus,arquivoOriginal:this.arquivoOriginal,arquivo:this.arquivo});case 42:this.atualizar(),this.$emit("atualizar");case 44:e.next=50;break;case 46:e.prev=46,e.t1=e["catch"](27),this.$q.notifyError("Erro ao salvar.",e.t1),this.$q.loading.hide();case 50:return e.prev=50,this.$q.loading.hide(),e.finish(50);case 53:case"end":return e.stop()}},e,this,[[3,14,18,26],[19,,21,25],[27,46,50,53]])}));return function(){return e.apply(this,arguments)}}(),configuraImpressaoEnvelope:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.configuracoes.porNome("impressao.envelope",t);case 2:a=e.sent,this.configImpressaoEnvelope=la()(a.length?a.map(function(e){return at()({texto:"Imprimir Envelope"},e)}):[{valor:"envelope",texto:"Imprimir Envelope"},{valor:"envelopeMini",texto:"Imprimir Envelope Mini"}]);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),configuraImpressaoOrcamento:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.configuracoes.porNome("impressao.venda",t);case 2:a=e.sent,this.configImpressaoOrcamento=la()(a.length?a.map(function(e){return at()({texto:"Imprimir Orçamento"},e)}):[{valor:"invoice",texto:"Orçamento/Venda (Invoice)"}].concat(["optisoul"===this.sistemaPai?{valor:"orcamento",texto:"Orçamento (Antigo)"}:{}]));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.$q.loading.show({message:"Processando..."}),e.next=4,this.atualizarNucleo();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$q.notifyError("Erro ao carregar venda",e.t0);case 9:return e.prev=9,this.$q.loading.hide(),e.finish(9);case 12:case"end":return e.stop()}},e,this,[[0,6,9,12]])}));return function(){return e.apply(this,arguments)}}(),atualizarNucleo:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w,y,N,k;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.erroCalculo=!1,this.valoresTabelaPreco=[],this.maximoDesconto=[],this.warningLabel={},this.modalDescontoMaximo={permiteDescontoMaximo:!1,itens:[],resolve:void 0,reject:void 0,visivel:!1},this.modalItemSemEstoque={permiteDescontoMaximo:!1,itens:[],resolve:void 0,reject:void 0,visivel:!1},this.modalProdutoControlado={permiteQuantidadeExcedida:!1,itens:[],resolve:void 0,reject:void 0,visivel:!1},this.modalCreditoDisponivel={permiteFinalizar:!1,resolve:void 0,reject:void 0,visivel:!1},e.next=10,He().documento.get(this.id);case 10:if(e.t0=e.sent,e.t0){e.next=13;break}e.t0={};case 13:return this.vendaOriginal=e.t0,e.next=16,Zn.permissao.objeto("Diretiva_Vendas_VerMargem");case 16:if(this.permissaoMargem=e.sent,Object.keys(this.vendaOriginal).length){e.next=20;break}return this.adicionar(),e.abrupt("return");case 20:return this.venda=Yt(this.vendaOriginal),e.next=23,this.atualizaUsaFatura({idContato:this.venda.idEmpresa});case 23:return e.next=25,this.configuraImpressaoEnvelope(this.venda.idEmpresa);case 25:return e.next=27,this.configuraImpressaoOrcamento(this.venda.idEmpresa);case 27:return e.next=29,He().documentoItem.where({idDocumento:this.venda.id}).sortBy("dataHoraEmissao");case 29:return t=e.sent,this.carrinho=t.filter(function(e){return!e.idDocumentoAdicional}),this.carrinhoOriginal=ea(this.carrinho),e.next=34,Zn.documentoCondicaoPagamento.le({idDocumento:this.venda.id});case 34:return this.condicaoPagamentoOriginal=e.sent,this.condicaoPagamento=Yt(this.condicaoPagamentoOriginal),this.$refs.faturamento&&(this.$refs.faturamento.condicaoPagamento=Yt(this.condicaoPagamentoOriginal)),e.next=39,He().documentoEndereco.where({idDocumento:this.venda.id}).toArray();case 39:return this.documentoEnderecoOriginal=e.sent,this.documentoEndereco=Yt(this.documentoEnderecoOriginal),e.next=43,He().documentoContato.where({idDocumento:this.venda.id}).toArray();case 43:return this.documentoContatoOriginal=e.sent,this.documentoContato=Yt(this.documentoContatoOriginal),e.next=47,Zn.documento.le({tipo:"Envelope",documentoId:this.venda.id});case 47:a=e.sent,this.itensEnvelopesOriginal=[],this.envelopesOriginal={},o=!0,i=!1,r=void 0,e.prev=53,s=a[Symbol.iterator]();case 55:if(o=(n=s.next()).done){e.next=74;break}return c=n.value,c.documentoContato=[],e.next=60,Zn.documentoContato.le({idDocumento:c.id});case 60:return l=e.sent,l=l.find(function(e){return"Laboratório"===e.descricao}),l&&c.documentoContato.push(l),this.envelopesOriginal[c.id]=c,e.t1=la()(this.itensEnvelopesOriginal),e.t2=la.a,e.next=68,Zn.documentoItem.le({idDocumentoAdicional:c.id});case 68:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),this.itensEnvelopesOriginal=e.t1.concat.call(e.t1,e.t4);case 71:o=!0,e.next=55;break;case 74:e.next=80;break;case 76:e.prev=76,e.t5=e["catch"](53),i=!0,r=e.t5;case 80:e.prev=80,e.prev=81,o||null==s.return||s.return();case 83:if(e.prev=83,!i){e.next=86;break}throw r;case 86:return e.finish(83);case 87:return e.finish(80);case 88:this.envelopes=Yt(this.envelopesOriginal),this.itensEnvelopes=Yt(this.itensEnvelopesOriginal),this.contatos={},e.t6=regeneratorRuntime.keys(this.envelopes);case 92:if((e.t7=e.t6()).done){e.next=101;break}if(d=e.t7.value,u=this.envelopes[d].idContato,this.contatos[u]){e.next=99;break}return e.next=98,Zn.contato.le({id:u});case 98:this.contatos[u]=e.sent;case 99:e.next=92;break;case 101:if(!this.venda.idContato){e.next=107;break}if(m=this.venda.idContato,this.contatos[m]){e.next=107;break}return e.next=106,Zn.contato.le({id:m});case 106:this.contatos[m]=e.sent;case 107:return e.next=109,Zn.documento.le({tipo:"Custom",documentoId:this.venda.id});case 109:e.t8=function(e){return{documento:at()({},e)}},p=e.sent.map(e.t8),v=!0,h=!1,f=void 0,e.prev=114,C=p[Symbol.iterator]();case 116:if(v=(b=C.next()).done){e.next=127;break}return g=b.value,e.next=120,Zn.documentoItem.le({idDocumentoAdicional:g.documento.id});case 120:return g.documentoItens=e.sent,e.next=123,Zn.arquivo.le({idTabelaMaster:g.documento.id});case 123:g.arquivo=e.sent;case 124:v=!0,e.next=116;break;case 127:e.next=133;break;case 129:e.prev=129,e.t9=e["catch"](114),h=!0,f=e.t9;case 133:e.prev=133,e.prev=134,v||null==C.return||C.return();case 136:if(e.prev=136,!h){e.next=139;break}throw f;case 139:return e.finish(136);case 140:return e.finish(133);case 141:return this.customs=p,this.customsOriginal=ea(p),e.next=145,Zn.permissao.objeto("atendimento//venda/custom");case 145:return this.permissaoCustoms=e.sent,e.next=148,Zn.documento.le({tipo:"Ordem de Serviço",documentoId:this.venda.id});case 148:e.t10=function(e){return{documento:at()({},e)}},x=e.sent.map(e.t10),_=!0,q=!1,S=void 0,e.prev=153,I=x[Symbol.iterator]();case 155:if(_=(F=I.next()).done){e.next=166;break}return w=F.value,e.next=159,Zn.documentoItem.le({idDocumentoAdicional:w.documento.id});case 159:return w.documentoItens=e.sent,e.next=162,Zn.arquivo.le({idTabelaMaster:w.documento.id});case 162:w.arquivo=e.sent;case 163:_=!0,e.next=155;break;case 166:e.next=172;break;case 168:e.prev=168,e.t11=e["catch"](153),q=!0,S=e.t11;case 172:e.prev=172,e.prev=173,_||null==I.return||I.return();case 175:if(e.prev=175,!q){e.next=178;break}throw S;case 178:return e.finish(175);case 179:return e.finish(172);case 180:return this.oss=x,this.ossOriginal=ea(x),e.next=184,Zn.permissao.objeto("atendimento//venda/os");case 184:this.permissaoOSs=e.sent,this.carregarItens(),this.unirProdutos(),y=[],e.t12=regeneratorRuntime.keys(this.envelopes);case 189:if((e.t13=e.t12()).done){e.next=197;break}return N=e.t13.value,e.next=193,Zn.arquivo.leNew({tabelaMaster:"envelope",idTabelaMaster:N});case 193:k=e.sent,y=la()(y).concat(la()(k)),e.next=189;break;case 197:this.arquivoOriginal=y,this.arquivo=Yt(this.arquivoOriginal),this.calcularTotais(),this.$refs.transporte&&this.$refs.transporte.set(this.venda),localStorage.documentoItemDevolucao&&(localStorage.removeItem("documentoItemDevolucao"),this.salvarVenda());case 202:case"end":return e.stop()}},e,this,[[53,76,80,88],[81,,83,87],[114,129,133,141],[134,,136,140],[153,168,172,180],[173,,175,179]])}));return function(){return e.apply(this,arguments)}}(),unirProdutos:function(){var e=this,t=[],a=[],o=!0,i=!1,r=void 0;try{for(var s,n=this.carrinho[Symbol.iterator]();!(o=(s=n.next()).done);o=!0){var c=s.value;t.push({idDocumentoItem:c.id,dataHoraEmissao:new Date(c.dataHoraEmissao),descricao:(c.descricaoAgrupamento||"").toUpperCase()})}}catch(e){i=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw r}}var l=!0,d=!1,u=void 0;try{for(var m,p=this.customs[Symbol.iterator]();!(l=(m=p.next()).done);l=!0){var v=m.value;t.push({idDocumento:v.documento.id,dataHoraEmissao:new Date(v.documento.dataHoraEmissao),descricao:(v.documentoItens.length&&v.documentoItens[0].descricaoAgrupamento||"").toUpperCase()})}}catch(e){d=!0,u=e}finally{try{l||null==p.return||p.return()}finally{if(d)throw u}}var h=!0,f=!1,C=void 0;try{for(var b,g=this.oss[Symbol.iterator]();!(h=(b=g.next()).done);h=!0){var x=b.value;t.push({idDocumento:x.documento.id,dataHoraEmissao:new Date(x.documento.dataHoraEmissao),descricao:(x.documentoItens.length&&x.documentoItens[0].descricaoAgrupamento||"").toUpperCase()})}}catch(e){f=!0,C=e}finally{try{h||null==g.return||g.return()}finally{if(f)throw C}}t=Object(ot["orderBy"])(t,["descricao","dataHoraEmissao"],["asc","asc"]);var _="",q=!1,S=!0,I=!1,F=void 0;try{for(var w,y=function(){var t=w.value;_!==t.descricao?(_=t.descricao,q=!0):q=!1,a=la()(a).concat(la()(q?[{caption:_}]:[]),la()(e.carrinho.filter(function(e){return t.idDocumentoItem&&e.id===t.idDocumentoItem})),la()(e.customs.filter(function(e){return t.idDocumento&&e.documento.id===t.idDocumento})),la()(e.oss.filter(function(e){return t.idDocumento&&e.documento.id===t.idDocumento})))},N=t[Symbol.iterator]();!(S=(w=N.next()).done);S=!0)y()}catch(e){I=!0,F=e}finally{try{S||null==N.return||N.return()}finally{if(I)throw F}}this.produtos=a},carregarItens:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t={},a=!0,o=!1,i=void 0,e.prev=4,r=this.carrinho[Symbol.iterator]();case 6:if(a=(s=r.next()).done){e.next=19;break}if(n=s.value,c=n.valorItem-n.descontoItem,void 0===this.subTotal[n.id]?this.$set(this.subTotal,n.id,c):this.subTotal[n.id]=c,n.idItem in t){e.next=16;break}return e.next=13,He().item.get(n.idItem);case 13:l=e.sent,l=at()({},l,{marca:l.marca||"",referencia:l.referencia||"",observacao:l.observacao||"",aplicacao:l.aplicacao||"",imagem:l.imagem||""}),t[l.id]=l;case 16:a=!0,e.next=6;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e["catch"](4),o=!0,i=e.t0;case 25:e.prev=25,e.prev=26,a||null==r.return||r.return();case 28:if(e.prev=28,!o){e.next=31;break}throw i;case 31:return e.finish(28);case 32:return e.finish(25);case 33:this.item=at()({},this.item,t);case 34:case"end":return e.stop()}},e,this,[[4,21,25,33],[26,,28,32]])}));return function(){return e.apply(this,arguments)}}(),calcularTotais:function(e){var t=at()({},this.venda);t.subTotal=0,t.totalProduto=0,t.totalServico=0;var a=!0,o=!1,i=void 0;try{for(var r,s=this.carrinho[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var n=r.value;t.subTotal=dt(t.subTotal+n.total)}}catch(e){o=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}for(var c in this.envelopes)t.subTotal=dt(t.subTotal+this.envelopes[c].totalDocumento);var l=!0,d=!1,u=void 0;try{for(var m,p=this.customs[Symbol.iterator]();!(l=(m=p.next()).done);l=!0){var v=m.value;t.subTotal=dt(t.subTotal+v.documento.totalDocumento)}}catch(e){d=!0,u=e}finally{try{l||null==p.return||p.return()}finally{if(d)throw u}}var h=!0,f=!1,C=void 0;try{for(var b,g=this.oss[Symbol.iterator]();!(h=(b=g.next()).done);h=!0){var x=b.value;t.subTotal=dt(t.subTotal+x.documento.totalDocumento)}}catch(e){f=!0,C=e}finally{try{h||null==g.return||g.return()}finally{if(f)throw C}}"totalPercentualDesconto"===e&&(t.subTotal>0?t.totalDesconto=dt(t.totalPercentualDesconto/100*t.subTotal):(t.totalDesconto=0,t.totalPercentualDesconto=0,t.totalDocumento=0)),"totalDesconto"===e&&(t.subTotal>0?t.totalPercentualDesconto=dt(t.totalDesconto/t.subTotal*100):(t.totalDesconto=0,t.totalPercentualDesconto=0,t.totalDocumento=0)),t.totalProduto=t.subTotal,t.totalPercentualDesconto=dt(t.totalDesconto/t.subTotal*100),t.totalDocumento=dt(t.subTotal-t.totalDesconto+("FOB"===t.tipoFrete&&t.valorFrete||0)),this.erroCalculo=!1,(t.totalPercentualDesconto<0||t.totalPercentualDesconto>100)&&(this.erroCalculo=!0),this.venda=t,this.calcularMargens(),this.calcularImposto()},carrinhoCalcularTotais:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o=this.carrinho.find(function(e){return e.id===t}),"quantidade"!==a||-1!==o.operacaoFator||!this.venda.idItemTabelaPreco){e.next=10;break}return e.next=4,He().itemTabelaPreco.get(this.venda.idItemTabelaPreco);case 4:if(i=e.sent,!i){e.next=10;break}return e.next=8,this.configurarValoresTabelaPreco(i,o);case 8:r=this.valoresTabelaPreco.find(function(e){return e.id===o.id}),r.quantidadeMaiorQue&&o.quantidade>=r.quantidadeMaiorQue?(o.valorOriginal!==r.valorVendaMaiorQue&&(o.valorOriginal=r.valorVendaMaiorQue,o.valorItem=r.valorVendaMaiorQue,o.descontoItem=o.descontoPercentualItem=0),this.warningLabel[o.id]="Valor Diferenciado"):(o.valorOriginal!==r.valorVenda&&(o.valorOriginal=r.valorVenda,o.valorItem=r.valorVenda,o.descontoItem=o.descontoPercentualItem=0),this.warningLabel[o.id]="");case 10:return o.valorItem>0&&o.valorItem<o.valorOriginal&&(o.valorItem=o.valorOriginal),"descontoPercentualItem"===a&&(o.descontoItem=dt(o.descontoPercentualItem/100*o.valorItem)),["descontoItem","valorItem"].includes(a)&&(o.descontoPercentualItem=dt(o.descontoItem/o.valorItem*100)),o.descontoItem>o.valorItem&&-1===o.operacaoFator&&(o.descontoPercentualItem=o.descontoItem=0),["subTotal"].includes(a)&&(void 0!==this.subTotal[o.id]?o.descontoItem=dt(o.valorItem-this.subTotal[o.id]):o.descontoItem=dt(o.valorItem-o.subTotal),o.descontoPercentualItem=dt(o.descontoItem/o.valorItem*100)),s=o.valorItem-o.descontoItem,dt(s)>dt(o.valorItem)&&-1===o.operacaoFator&&(s=o.valorItem,o.descontoPercentualItem=o.descontoItem=0),void 0===this.subTotal[o.id]?this.$set(this.subTotal,o.id,s):this.subTotal[o.id]=s,o.subTotal=dt(s*o.quantidade),o.total=o.subTotal,o.valorReal=s,o.valorRealTotal=o.total,e.next=24,Oa(o.idItem,o.idCfop,this.venda.idEmpresa,this.venda.idContato);case 24:n=e.sent,o.valorIpi=dt(Object(ot["get"])(n,"aliqIpi",0)/100*o.valorRealTotal),o.valorIcmsSt=dt(Object(ot["get"])(n,"percIva",0)/100*o.valorRealTotal),this.unirProdutos(),this.calcularTotais();case 29:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()}),props:{id:{default:"",required:!0,type:String}},watch:{id:function(){this.atualizar()}},mounted:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.atualizar();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),created:function(){this.sistemaPai=co(),this.subTotal={}}},UC=VC,HC=(a("3f5e"),Object(sc["a"])(UC,Pv,Dv,!1,null,"50a85fe3",null));HC.options.__file="Venda.vue";var QC=HC.exports,GC={components:{Venda:QC},computed:{},data:function(){return{codigoBarras:"",titulo:"",venda:{},visibilidade:{modal:!1,botao:{cancelar:!1,finalizar:!1,naoAprovado:!1,salvar:!1}},carregando:!0}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t="Venda",a={id:hi(),tipo:"Venda",status:"Orçamento"},!this.id){e.next=6;break}return e.next=5,Zn.venda.leNew({id:this.id});case 5:a=e.sent;case 6:t+=" - "+a.status,this.venda=a,this.titulo=t,this.visibilidade.modal=!0;case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),executar:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.t0=t,e.next="cancelar"===e.t0?3:"finalizar"===e.t0?6:"reprovar"===e.t0?17:22;break;case 3:return e.next=5,this.$refs.venda.cancelar();case 5:return e.abrupt("break",22);case 6:return e.next=8,this.$refs.venda.finalizar();case 8:if(e.sent){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,Zn.documento.le({id:this.venda.id});case 14:a=e.sent,a.idFatura&&localStorage.setItem("idFatura",a.idFatura);case 16:return e.abrupt("break",22);case 17:return e.next=19,this.$refs.venda.reprovarOrcamento();case 19:if(e.sent){e.next=21;break}return e.abrupt("return");case 21:return e.abrupt("break",22);case 22:this.$emit("executar",t),this.fechar();case 24:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),fechar:function(){this.titulo="",this.venda={},this.carregando=!0,this.visibilidade={modal:!1,botao:{cancelar:!1,finalizar:!1,naoAprovado:!1,salvar:!1}}},mostrar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xa(500);case 2:this.carregando=!1;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),salvar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.venda.salvarVenda();case 2:this.$emit("executar","atualizar"),this.fechar();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},props:{id:{default:"",type:String},value:{default:!1,required:!0,type:Boolean}},watch:{value:function(e){e&&this.atualizar()},venda:function(e){this.visibilidade.botao.finalizar=!1,this.visibilidade.botao.naoAprovado=!1,this.visibilidade.botao.salvar=!1,["Aguardando Liberação","Aguardando Estoque","Aguardando Financeiro","Orçamento"].includes(e.status)&&(this.visibilidade.botao.finalizar=!0,this.visibilidade.botao.naoAprovado=!0,this.visibilidade.botao.salvar=!0)},"visibilidade.modal":function(e){this.$emit("input",e)}}},JC=GC,XC=(a("aefc"),Object(sc["a"])(JC,kv,Mv,!1,null,"fa7130ee",null));XC.options.__file="VendaModal.vue";var YC=XC.exports,WC={components:{Avatar:Fc,Badge:Bd,DocumentosFiscais:Up,VendaModal:YC,ModalHistoricoStatus:Nv},computed:{config:function(){return Zn.configuracoes.valores},podeMigrarFatura:function(){return!["Aguardando Estoque","Aguardando Financeiro","Aguardando Aprovação","Aguardando Pagamento","Cancelado","Não Aprovado","Orçamento","Faturado"].includes(this.dados.venda.status)}},data:function(){return{dbUsuario:Zn.usuario,dados:{venda:{}},contatos:{},faturasAbertas:[],vendaModalVisivel:!1,detalhesVisivel:!1,visibilidade:{botao:{editar:!1,remover:!1}},modalDevolucaoGarantia:{visivel:!1,item:{},orcamento:{}},sistemaPai:"",configImpressaoOrcamento:[],configImpressaoEnvelope:[]}},methods:{irParaAtendimentoFatura:function(e){this.$router.push({name:"AtendimentoFatura",params:{id:e}})},migrarFatura:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$q.dialog({cancel:"Cancelar",message:"Esta ação irá migrar esta venda para outra fatura.",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return");case 8:if(t){e.next=12;break}return t=Zn.fatura.criar(this.dados.venda),e.next=12,Zn.fatura.grava({fatura:t});case 12:if(!t.id){e.next=19;break}return e.next=15,Zn.venda.grava({venda:{id:this.dados.venda.id,idFatura:t.id},vendaOriginal:this.dados.venda});case 15:localStorage.setItem("idFatura",t.id),this.dados.venda.idContato&&(this.$emit("executar","atualizar"),this.irParaAtendimentoFatura(this.dados.venda.idContato)),e.next=20;break;case 19:this.$q.notify("Não foi possível realizar a operação");case 20:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),alternarDetalhes:function(){this.detalhesVisivel=!this.detalhesVisivel},atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.venda.leCompleto(this.id);case 2:if(t=e.sent,t.carrinho.sort(function(e,t){return new Date(e.dataHoraEmissao)<new Date(t.dataHoraEmissao)?-1:1}),t.oss.sort(function(e,t){return new Date(e.documento.dataHoraEmissao)<new Date(t.documento.dataHoraEmissao)?-1:1}),t.customs.sort(function(e,t){return new Date(e.documento.dataHoraEmissao)<new Date(t.documento.dataHoraEmissao)?-1:1}),!(t.venda||{}).idContato||!(t.venda||{}).idEmpresa){e.next=12;break}return a=[],e.next=10,Zn.fatura.obterAbertas(t.venda.idContato,t.venda.idEmpresa);case 10:a=e.sent,this.faturasAbertas=a.sort(function(e,t){return!e.numero||e.numero<t.numero?-1:1});case 12:if(o={},!t.venda.idContato){e.next=19;break}if(i=t.venda.idContato,o[i]){e.next=19;break}return e.next=18,Zn.contato.le({id:i});case 18:o[i]=e.sent;case 19:if(!t.venda.idContatoVendedor){e.next=25;break}if(r=t.venda.idContatoVendedor,o[r]){e.next=25;break}return e.next=24,Zn.contato.le({id:r});case 24:o[r]=e.sent;case 25:this.configuraImpressaoEnvelope(t.venda.idEmpresa),this.configuraImpressaoOrcamento(t.venda.idEmpresa),this.contatos=o,this.dados=t,this.$nextTick(function(){t.venda.id===localStorage.getItem("idVenda")&&(s.vendaModalVisivel=!0,localStorage.removeItem("idVenda"))});case 30:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),configuraImpressaoEnvelope:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.configuracoes.porNome("impressao.envelope",t);case 2:a=e.sent,this.configImpressaoEnvelope=la()(a.length?a.map(function(e){return at()({texto:"Imprimir Envelope"},e)}):[{valor:"envelope",texto:"Imprimir Envelope"},{valor:"envelopeMini",texto:"Imprimir Envelope Mini"}]);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),configuraImpressaoOrcamento:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.configuracoes.porNome("impressao.venda",t);case 2:a=e.sent,this.configImpressaoOrcamento=la()(a.length?a.map(function(e){return at()({texto:"Imprimir Orçamento"},e)}):[{valor:"invoice",texto:"Orçamento/Venda (Invoice)"}].concat(["optisoul"===this.sistemaPai?{valor:"orcamento",texto:"Orçamento (Antigo)"}:{}]));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),copiarUid:function(){var e=this.$refs.uid;e.type="text";try{e.select(),document.execCommand("copy"),this.$q.notify({message:"UID copiado para a área de transferência.",type:"info"})}catch(e){this.$q.notify("Erro ao copiar.")}e.type="hidden",window.getSelection().removeAllRanges()},descricaoEnvelope:function(e){var t="",a=!0,o=!1,i=void 0;try{for(var r,s=this.dados.itensEnvelopes[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var n=r.value;n.idDocumentoAdicional===e&&n.descricaoItem.trim()&&(t+=n.descricaoItem.trim()+" | ")}}catch(e){o=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}return t.slice(0,-3)},devolucaoGarantia:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.documento.le({idContato:Zn.contato.selecionado.id,tipo:"Venda",status:"Orçamento"});case 2:if(a=e.sent,a=Object(ot["orderBy"])(a,"dataHoraEmissao","desc"),a.length){e.next=7;break}return this.$q.notify({message:"Crie um orçamento para inclusão de devolução/garantia.",type:"info"}),e.abrupt("return");case 7:this.modalDevolucaoGarantia={visivel:!0,item:t,orcamento:a[0]};case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),editar:function(){this.vendaModalVisivel=!0},executar:function(e){switch(e){case"atualizar":this.atualizar();break;case"cancelar":case"finalizar":case"reprovar":this.$emit("executar","atualizar");break;case"retornarOrcamento":this.$emit("executar",e);break}},finalizaDevolucaoGarantia:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=Yt(t),"devolucao"===a&&(i.operacao="Devolução de Venda"),"garantia"===a&&(i.operacao="Garantia de Venda",i.motivo=o),i.idDocumentoItemVenda=i.id,i.idDocumentoVenda=i.idDocumento,i.id=hi(),i.idDocumento=this.modalDevolucaoGarantia.orcamento.id,i.status="Orçamento",i.operacaoFator=1,i.codigoCfop=20,e.next=12,Zn.cfop.le({codigoCfop:20});case 12:return i.idCfop=e.sent[0].id,i.dataHoraEmissao=na(),i.dataHoraFinalizado="",i.subTotal=-1*i.subTotal,i.total=-1*i.total,i.valorItem=-1*i.valorItem,i.descontoSubTotal=0,delete i.codigoCfop,delete i.codigoDocumento,delete i.codigoDocumentoItem,delete i.codigoItem,delete i.codigoPlanoContaDestino,delete i.codigoPlanoContaEstoque,e.next=27,Zn.documentoItem.grava({atual:i});case 27:this.$q.notify({message:"Item adicionado ao orçamento.",type:"positive"}),localStorage.setItem("idVenda",this.modalDevolucaoGarantia.orcamento.id),this.$emit("executar","atualizar");case 30:case"end":return e.stop()}},e,this)}));return function(t,a,o){return e.apply(this,arguments)}}(),remover:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$q.dialog({cancel:"Cancelar",message:"Esta ação irá remover esta venda da fatura.",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return");case 8:return t=Yt(this.dados.venda),this.dados.venda.idFatura="",e.next=12,Zn.venda.grava({venda:this.dados.venda,vendaOriginal:t});case 12:this.$emit("executar","remover");case 13:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}()},mixins:[Hp],props:{id:{required:!0,type:String}},watch:{dados:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.visibilidade.botao.editar=!1,this.visibilidade.botao.remover=!1,e.next=4,Zn.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);case 4:if(a=e.sent,a.find(function(e){return e.id===t.venda.idEmpresa})){e.next=7;break}return e.abrupt("return");case 7:t.venda.idFatura&&this.faturasAbertas.find(function(e){return e.id===t.venda.idFatura})&&(this.visibilidade.botao.remover=!0),["Cancelado","Não Aprovado"].includes(t.venda.status)||t.venda.idFatura||(this.visibilidade.botao.editar=!0);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},mounted:function(){this.sistemaPai=co(),this.atualizar()}},ZC=WC,KC=(a("87a7"),Object(sc["a"])(ZC,_v,qv,!1,null,"5a91c856",null));KC.options.__file="VendaCard.vue";var eb=KC.exports,tb={components:{Avatar:Fc,Campo:Sl,DocumentoCodigo:tv,DocumentoMetas:nv,DocumentosFiscais:Up,Faturamento:vv,TituloCard:xv,VendaCard:eb},computed:{config:function(){return Zn.configuracoes.valores}},data:function(){return{dbUsuario:Zn.usuario,contatos:{},faturaOriginal:{},fatura:{totalDocumento:0,subTotal:0,totalDesconto:0,totalPercentualDesconto:0},vendas:[],vendasOriginal:[],envelopes:[],envelopesOriginal:[],documentoItens:[],documentoItensOriginal:[],carnes:[],carnesOriginal:[],documentoStatus:[],erroCalculo:!1,erroCalculoMsg:"",sistemaPai:"",configImpressaoCarne:[],configImpressaoConvenio:[],configImpressaoFatura:[],configImpressaoEnvelope:[],permissaoDesconto:!1}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.permissao.objeto("Diretiva_Caixa_DescontoFatura");case 2:if(this.permissaoDesconto=e.sent,this.vendas=[],this.envelopes=[],this.envelopesOriginal=[],this.documentoItens=[],this.documentoitensOriginal=[],this.carnes=[],this.carnesOriginal=[],this.documentoStatus=[],this.contatos={},this.erroCalculo=!1,this.erroCalculoMsg="",!this.prop.id){e.next=45;break}return e.next=17,Zn.fatura.leCompleto(this.prop.id);case 17:if(t=e.sent,this.faturaOriginal=Yt(t.fatura),this.fatura=t.fatura,this.$refs.faturamento&&(this.$refs.faturamento.condicaoPagamentoOriginal=Yt(t.condicaoPagamento),this.$refs.faturamento.condicaoPagamento=t.condicaoPagamento),this.vendasOriginal=Yt(t.vendas),this.vendas=t.vendas.sort(function(e,t){return new Date(e.dataHoraFinalizado)<new Date(t.dataHoraFinalizado)?-1:1}),!this.receberTitulo.id||t.carnes.find(function(e){return e.id===i.receberTitulo.id})){e.next=29;break}return e.t0=t.carnes,e.next=27,Zn.financeiroTitulo.le({id:this.receberTitulo.id});case 27:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 29:if(this.carnesOriginal=Yt(t.carnes),this.carnes=t.carnes.sort(function(e,t){return new Date(e.dataVencimento)<new Date(t.dataVencimento)?-1:1}),a={},!t.fatura.idContato){e.next=38;break}if(o=t.fatura.idContato,a[o]){e.next=38;break}return e.next=37,Zn.contato.le({id:o});case 37:a[o]=e.sent;case 38:return this.configuraImpressaoCarne(t.fatura.idEmpresa),this.configuraImpressaoConvenio(t.fatura.idEmpresa),this.configuraImpressaoEnvelope(t.fatura.idEmpresa),this.configuraImpressaoFatura(t.fatura.idEmpresa),this.contatos=a,e.next=45,this.calculaTotais();case 45:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),executar:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("recalcular"!==t){e.next=11;break}if(!this.prop.id){e.next=9;break}return e.next=4,Zn.fatura.leCompleto(this.prop.id);case 4:return a=e.sent,this.carnesOriginal=Yt(a.carnes),this.carnes=a.carnes,e.next=9,this.calculaTotais();case 9:e.next=14;break;case 11:return e.next=13,this.atualizar();case 13:this.$emit("executar",t);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),calculaTotais:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=dt(this.vendas.reduce(function(e,t){return e+t.totalDocumento||0},0)),o=dt(this.carnes.reduce(function(e,t){return e+t.valorARealizar||0},0)),t||(this.fatura.subTotal=dt(a+o),t="desconto"),"descontoPercentual"===t&&(this.fatura.totalDesconto=dt((this.fatura.totalPercentualDesconto||0)/100*this.fatura.subTotal)),"desconto"===t&&(this.fatura.totalPercentualDesconto=dt((this.fatura.totalDesconto||0)/this.fatura.subTotal*100)),this.fatura.totalDocumento=dt(this.fatura.subTotal-(this.fatura.totalDesconto||0)),this.erroCalculo=!1,this.erroCalculoMsg="",0!==this.fatura.totalDesconto&&this.fatura.totalDesconto>a&&(this.erroCalculo=!0,this.erroCalculoMsg="Desconto maior que o total das vendas"),0!==this.fatura.totalDesconto&&this.fatura.totalDocumento>this.fatura.subTotal&&(this.erroCalculo=!0),e.prev=10,e.next=13,this.$refs.faturamento.resumeCondicaoPagamento();case 13:return e.next=15,this.$refs.faturamento.atualizaValorRestante();case 15:return e.next=17,this.$refs.faturamento.redefinirCampos();case 17:e.next=21;break;case 19:e.prev=19,e.t0=e["catch"](10);case 21:case"end":return e.stop()}},e,this,[[10,19]])}));return function(t){return e.apply(this,arguments)}}(),configuraImpressaoConvenio:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.configuracoes.porNome("impressao.convenio",t);case 2:a=e.sent,this.configImpressaoConvenio=la()(a.length?a.map(function(e){return at()({texto:"Imprimir Convênio"},e)}):[{valor:"convenio",texto:"Imprimir Convênio"}]);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),configuraImpressaoCarne:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.configuracoes.porNome("impressao.carne",t);case 2:a=e.sent,this.configImpressaoCarne=la()(a.length?a.map(function(e){return at()({texto:"Imprimir Carnê"},e)}):[{valor:"carne-crediario",texto:"Reimprimir carnê e notas promissórias da fatura"}]);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),configuraImpressaoEnvelope:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.configuracoes.porNome("impressao.envelope",t);case 2:a=e.sent,this.configImpressaoEnvelope=la()(a.length?a.map(function(e){return at()({texto:"Imprimir Envelope"},e)}):[{valor:"envelope",texto:"Imprimir Envelope"},{valor:"envelopeMini",texto:"Imprimir Envelope Mini"}]);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),configuraImpressaoFatura:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.configuracoes.porNome("impressao.fatura",t);case 2:a=e.sent,this.configImpressaoFatura=la()(a.length?a.map(function(e){return at()({texto:"Imprimir Fatura"},e)}):[{valor:"invoice",texto:"Fatura (Invoice)"},{valor:"fatura-recibo",texto:"Recibo"}]);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),finalizar:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(regeneratorRuntime.mark(function e(){var a,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w,y,N,k,M,P,D,E,T,A,O,$,R,j,z,B,L,V,U,H,Q,G,J,X,Y,W,Z,K,ee,te,ae,oe,ie,re,se,ne,ce,le,de,ue,me,pe,ve,he,fe,Ce,be,ge,xe,_e,qe,Se,Ie,Fe,we,ye,Ne,ke,Me,Pe,De,Ee,Te,Ae,Oe,$e,Re,je,ze,Be,Le,Ve,Ue,Qe,Ge,Je,Xe,Ye,We,Ze,Ke,et,tt,at,it,rt,st,nt,ct,lt,ut,mt,pt,vt,ht,ft,Ct,bt,gt,xt,_t,qt,St,It,Ft,wt,yt,Nt,kt,Mt,Pt,Dt,Et,Tt,At,Ot,$t,Rt,jt,zt,Bt,Lt,Vt,Ut;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(Po(o.erroCalculo,"Erro de cálculo encontrado."),t){e.next=10;break}return e.prev=2,e.next=5,o.$q.dialog({cancel:"Cancelar",message:"Esta ação irá finalizar esta fatura.",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e["catch"](2),e.abrupt("return",{v:!1});case 10:return o.$q.loading.show({message:"Processando..."}),a=Yt(o.fatura),i=Yt(o.vendas),r=Yt(o.carnes),e.next=16,o.$refs.faturamento.validar();case 16:if(s=Object(ot["orderBy"])(o.$refs.faturamento.condicaoPagamento.filter(function(e){return e.valor}),["idFormaPagamento","autorizacao","dataVencimento"]),Po(i.find(function(e){return!e.dataHoraFinalizado}),"Existe pedido de venda sem data de finalização."),n=dt(o.carnes.reduce(function(e,t){return e+(t.valorARealizar||0)},0)),c=dt(s.reduce(function(e,t){return e+(t.valor||0)},0)),l=0,t&&(s=s.filter(function(e){return!o.$refs.faturamento.condicaoPagamentoOriginal.find(function(t){return t.id===e.id})})),!(a.totalDocumento>=0)){e.next=41;break}if(!o.carnes.length){e.next=40;break}if(!(c<n)){e.next=27;break}return o.$q.notify("Valor pago menor que a soma dos títulos à faturar!"),e.abrupt("return",{v:!1});case 27:return e.next=29,Zn.permissao.objeto("Diretiva_Caixa_PagarCarneCartao");case 29:if(d=e.sent,d){e.next=40;break}u=s.reduce(function(e,t){var a="".concat(t.autorizacao||"").concat(t.documento||"").concat(t.idFormaPagamento);return e[a]||(e[a]={parcelas:0,formaPagamento:t.formaPagamento}),e[a].parcelas++,e},{}),e.t1=regeneratorRuntime.keys(u);case 33:if((e.t2=e.t1()).done){e.next=40;break}if(m=e.t2.value,!(u[m].parcelas>o.carnes.length)){e.next=38;break}return o.$q.notify("Quantidade de parcelas da forma de pagamento ".concat(u[m].formaPagamento," acima do permitido.")),e.abrupt("return",{v:!1});case 38:e.next=33;break;case 40:c<a.totalDocumento&&(l=1);case 41:return p=t?a.dataHoraFinalizado:na(),v=p,e.next=45,Zn.documento.le({id:o.$refs.faturamento.idDocumentoCaixa});case 45:if(h=e.sent,f=1===l?"Aguardando Pagamento":"Finalizada",o.documentoStatus=[],t){e.next=162;break}o.documentoStatus.push({id:hi(),idDocumento:a.id,operacao:"Fatura",statusOriginal:a.status,statusFinalizado:f,dataHoraEmissao:p,idUsuarioAlterou:Zn.usuario.logado.id,idDocumentoCaixa:h.id||""}),a.status=f,a.dataHoraFinalizado=p,f="Faturado",C=0,b=!0,g=!1,x=void 0,e.prev=57,_=i[Symbol.iterator]();case 59:if(b=(q=_.next()).done){e.next=125;break}return S=q.value,o.documentoStatus.push({id:hi(),idDocumento:S.id,operacao:"Venda de Mercadoria",statusOriginal:S.status,statusFinalizado:f,dataHoraEmissao:p,idUsuarioAlterou:Zn.usuario.logado.id,idDocumentoCaixa:h.id||""}),S.status=f,e.next=65,Zn.documento.le({tipo:"Envelope",documentoId:S.id,documentoTipo:"Venda"});case 65:if(I=e.sent,o.envelopesOriginal=o.envelopesOriginal.concat(Yt(I)),F=I.find(function(e){return"Entregue"!==e.status}),!F){e.next=97;break}return e.prev=69,o.$q.loading.hide(),e.next=73,o.$q.dialog({cancel:"Não",message:"Existe envelope(s) não entregue. Deseja dar baixa no(s) mesmo(s)?",noRefocus:!0,ok:"Sim",preventClose:!0,title:"Confirma?"});case 73:for(o.$q.loading.show({message:"Processando..."}),w=!0,y=!1,N=void 0,e.prev=77,k=I[Symbol.iterator]();!(w=(M=k.next()).done);w=!0)P=M.value,o.documentoStatus.push({id:hi(),idDocumento:P.id,operacao:"Envelope",statusOriginal:P.status,statusFinalizado:"Entregue",dataHoraEmissao:p,idUsuarioAlterou:Zn.usuario.logado.id,idDocumentoCaixa:o.$refs.faturamento.idDocumentoCaixa}),P.status="Entregue",P.dataHoraFinalizado=na();e.next=85;break;case 81:e.prev=81,e.t3=e["catch"](77),y=!0,N=e.t3;case 85:e.prev=85,e.prev=86,w||null==k.return||k.return();case 88:if(e.prev=88,!y){e.next=91;break}throw N;case 91:return e.finish(88);case 92:return e.finish(85);case 93:e.next=97;break;case 95:e.prev=95,e.t4=e["catch"](69);case 97:return o.envelopes=o.envelopes.concat(I),e.next=100,Zn.documentoItem.le({idDocumento:S.id});case 100:for(D=e.sent,o.documentoItensOriginal=o.documentoItensOriginal.concat(Yt(D)),E=!0,T=!1,A=void 0,e.prev=105,O=D[Symbol.iterator]();!(E=($=O.next()).done);E=!0)R=$.value,R.status=f,R.total>0&&(R.quantidade=R.quantidade||1,R.valorItem=R.valorItem||0,R.descontoItem=R.descontoItem||0,R.descontoTotalRateado=R.descontoTotalRateado||0,a.subTotal=a.subTotal||0,a.totalDesconto=a.totalDesconto||0,j=(R.valorItem-R.descontoItem)*R.quantidade-R.descontoTotalRateado,z=dt(a.totalDesconto*j/a.subTotal||0),R.descontoFaturaRateado=dt(z),R.valorRealTotal=dt(j-z),R.valorReal=dt(R.valorRealTotal/R.quantidade),C+=z);e.next=113;break;case 109:e.prev=109,e.t5=e["catch"](105),T=!0,A=e.t5;case 113:e.prev=113,e.prev=114,E||null==O.return||O.return();case 116:if(e.prev=116,!T){e.next=119;break}throw A;case 119:return e.finish(116);case 120:return e.finish(113);case 121:o.documentoItens=o.documentoItens.concat(D);case 122:b=!0,e.next=59;break;case 125:e.next=131;break;case 127:e.prev=127,e.t6=e["catch"](57),g=!0,x=e.t6;case 131:e.prev=131,e.prev=132,b||null==_.return||_.return();case 134:if(e.prev=134,!g){e.next=137;break}throw x;case 137:return e.finish(134);case 138:return e.finish(131);case 139:if(a.totalDesconto===dt(C)){e.next=162;break}for(B=dt((a.totalDesconto||0)-(C||0)),V=0,U=!0,H=!1,Q=void 0,e.prev=145,G=o.documentoItens[Symbol.iterator]();!(U=(J=G.next()).done);U=!0)X=J.value,X.total>V&&(V=X.total,L=X);e.next=153;break;case 149:e.prev=149,e.t7=e["catch"](145),H=!0,Q=e.t7;case 153:e.prev=153,e.prev=154,U||null==G.return||G.return();case 156:if(e.prev=156,!H){e.next=159;break}throw Q;case 159:return e.finish(156);case 160:return e.finish(153);case 161:L&&(Y=(L.descontoFaturaRateado||0)+(B||0),W=((L.valorItem||0)-(L.descontoItem||0))*(L.quantidade||1)-(L.descontoTotalRateado||0)-(Y||0),Z=(W||0)/(L.quantidade||1),L.descontoFaturaRateado=dt(Y),L.valorReal=dt(Z),L.valorRealTotal=dt(W));case 162:return e.t8=parseInt,e.next=165,Zn.configuracoes.le({nome:"financeiro.planocontas.renegociacao"});case 165:return e.t9=e.sent[0].valor,K=(0,e.t8)(e.t9),e.next=169,Zn.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:K});case 169:return ee=e.sent,e.t10=parseInt,e.next=173,Zn.configuracoes.le({nome:"financeiro.planocontas.duplicatareceber"});case 173:return e.t11=e.sent[0].valor,te=(0,e.t10)(e.t11),e.next=177,Zn.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:te});case 177:return ae=e.sent,e.t12=parseInt,e.next=181,Zn.configuracoes.le({nome:"financeiro.planocontas.duplicatapagar"});case 181:return e.t13=e.sent[0].valor,oe=(0,e.t12)(e.t13),e.next=185,Zn.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:oe});case 185:return ie=e.sent,e.t14=parseInt,e.next=189,Zn.configuracoes.le({nome:"financeiro.planocontas.cheque"});case 189:return e.t15=e.sent[0].valor,re=(0,e.t14)(e.t15),e.next=193,Zn.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:re});case 193:return se=e.sent,e.t16=parseInt,e.next=197,Zn.configuracoes.le({nome:"financeiro.planocontas.faturamentogeral"});case 197:return e.t17=e.sent[0].valor,ne=(0,e.t16)(e.t17),e.next=201,Zn.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:ne});case 201:return ce=e.sent,e.t18=parseInt,e.next=205,Zn.configuracoes.le({nome:"financeiro.planocontas.comprageral"});case 205:return e.t19=e.sent[0].valor,le=(0,e.t18)(e.t19),e.next=209,Zn.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:le});case 209:return de=e.sent,e.t20=parseInt,e.next=213,Zn.configuracoes.le({nome:"financeiro.planocontas.frete"});case 213:return e.t21=e.sent[0].valor,ue=(0,e.t20)(e.t21),e.next=217,Zn.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:ue});case 217:return me=e.sent,e.t22=parseInt,e.next=221,Zn.configuracoes.le({nome:"financeiro.planocontas.cmv"});case 221:return e.t23=e.sent[0].valor,pe=(0,e.t22)(e.t23),e.next=225,Zn.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:pe});case 225:return ve=e.sent,e.t24=parseInt,e.next=229,Zn.configuracoes.le({nome:"financeiro.planocontas.creditoclientes"});case 229:return e.t25=e.sent[0].valor,he=(0,e.t24)(e.t25),e.next=233,Zn.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:he});case 233:return fe=e.sent,e.next=236,Zn.formaPagamento.le();case 236:Ce=e.sent,be=dt(i.reduce(function(e,t){return e+t.totalDocumento},0)),be=dt(be-a.totalDesconto),ge=a.totalDocumento,xe=[],_e=[],qe=[],Se=[],Ie=[],Fe=1,we="",ye=1,Ne="",ke=!0,Me=!1,Pe=void 0,e.prev=252,De=regeneratorRuntime.mark(function e(){var t,i,r,c,d,u,m,f,C,b,g,x,_,q,S,I,F,w,y,N,k,M,P,D,E,T,A;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=Te.value,t.sinal=t.sinal||l,i=Ce.filter(function(e){return e.id===t.idFormaPagamento})[0],!(ge<0)){e.next=9;break}Ne=hi(),_e.push({id:hi(),idFinanceiroMovimentacaoN:Ne,idContato:a.idContato,idEmpresa:a.idEmpresa,idFinanceiroPlanoConta:ce.id,dataEmissao:p,valorCredito:0,valorDebito:dt(-1*ge),descricao:ce.descricao,observacao:"Movimentação de débito da devolução de clientes no(s) pedido(s) da fatura código (".concat(a.id,")"),automatico:0,liquidando:0,dataCompetencia:v,dataVencimento:t.dataVencimento,dataMovimento:t.dataVencimento,documentoTipo:"Fatura",documentoId:a.id,idDocumentoCaixa:h.id}),_e.push({id:hi(),idFinanceiroMovimentacaoN:Ne,idContato:a.idContato,idEmpresa:a.idEmpresa,idFinanceiroPlanoConta:fe.id,dataEmissao:p,valorCredito:dt(-1*ge),valorDebito:0,descricao:"Crédito proveniente de produtos devolvidos no(s) pedido(s) da fatura código (".concat(a.id,")"),observacao:"Movimentação de crédito na conta de clientes",automatico:0,liquidando:0,dataCompetencia:v,dataVencimento:t.dataVencimento,dataMovimento:t.dataVencimento,documentoTipo:"Fatura",documentoId:a.id,idDocumentoCaixa:h.id}),e.next=65;break;case 9:if(we!==t.idFormaPagamento+t.autorizacao&&(we=t.idFormaPagamento+t.autorizacao,Fe=1,ye=s.reduce(function(e,t){return t.idFormaPagamento+t.autorizacao===we?e+1:e},0)),"Título Liquidado"===i.tipoFinanceiro&&(Ne=hi()),!(n>0)){e.next=25;break}if(r=hi(),c=dt(t.valor*(n/ge)),d=0,u=0,m=0,f=0,5!==i.tipo){e.next=21;break}return e.next=18,He().financeiroBanco.toArray();case 18:e.t0=function(e){return 122===e.codigoBanco},C=e.sent.find(e.t0),C&&(u=C.percentualMulta||0,f=C.percentualJuros||0,d=dt(u/100*c),m=dt(f/100*c));case 21:xe.push({id:r,idFinanceiroPlanoConta:ee.id,idContato:a.idContato,dataEmissao:p,dataCompetencia:v,dataVencimento:t.dataVencimento,dataVencimentoOriginal:t.dataVencimento,valor:c,valorTotal:c,valorARealizar:c,valorMulta:d,percentualMulta:u,valorJuros:m,percentualJuros:f,documentoId:a.id,documentoTipo:"Fatura",parcela:Fe+"/"+ye,descricao:"Fatura de Venda Mercadoria",observacao:"".concat(o.$refs.faturamento.observacaoFaturamento||""," ").concat(t.observacao||"").trim(),documentoVinculado:1,receberPagar:1,valorDesconto:0,percentualDesconto:0,idEmpresa:a.idEmpresa,formaDePagamento:i.descricao,carne:5===i.tipo?1:0,dataEmissaoCarne:5===i.tipo?p:"",idDocumentoCaixa:h.id,idFinanceiroMovimentacaoAgrupamento:"Título Liquidado"===i.tipoFinanceiro?Ne:""}),t.idFinanceiroTitulo=r,2===i.tipo&&Se.push({idTitulo:r,idDocumentoCondicaoPagamento:t.id,valor:c,dataVencimento:t.dataVencimento,idBanco:t.idBanco,agencia:t.agencia,conta:t.conta,numeroCheque:t.numeroCheque,formaPagamento:i}),Ie.push({idTitulo:r,valor:c,desconto:0});case 25:if(!(be>0)){e.next=38;break}if(b=hi(),g=dt(t.valor*(be/ge)),x=0,_=0,q=0,S=0,5!==i.tipo){e.next=35;break}return e.next=32,He().financeiroBanco.toArray();case 32:e.t1=function(e){return 122===e.codigoBanco},I=e.sent.find(e.t1),I&&(_=I.percentualMulta||0,S=I.percentualJuros||0,x=dt(_/100*g),q=dt(S/100*g));case 35:xe.push({id:b,idFinanceiroPlanoConta:ce.id,idContato:a.idContato,dataEmissao:p,dataCompetencia:v,dataVencimento:t.dataVencimento,dataVencimentoOriginal:t.dataVencimento,valor:g,valorTotal:g,valorARealizar:g,valorMulta:x,percentualMulta:_,valorJuros:q,percentualJuros:S,documentoId:a.id,documentoTipo:"Fatura",parcela:Fe+"/"+ye,descricao:"Fatura de Venda Mercadoria",observacao:"".concat(o.$refs.faturamento.observacaoFaturamento||""," ").concat(t.observacao||"").trim(),documentoVinculado:1,receberPagar:1,valorDesconto:0,percentualDesconto:0,idEmpresa:a.idEmpresa,formaDePagamento:i.descricao,carne:5===i.tipo?1:0,dataEmissaoCarne:5===i.tipo?p:"",idDocumentoCaixa:h.id,idFinanceiroMovimentacaoAgrupamento:"Título Liquidado"===i.tipoFinanceiro?Ne:""}),t.idFinanceiroTitulo=b,2===i.tipo&&Se.push({idTitulo:b,idDocumentoCondicaoPagamento:t.id,valor:g,dataVencimento:t.dataVencimento,idBanco:t.idBanco,agencia:t.agencia,conta:t.conta,numeroCheque:t.numeroCheque,formaPagamento:i});case 38:if(!("Título Liquidado"===i.tipoFinanceiro&&be>=0)){e.next=49;break}return _e.push({id:hi(),idFinanceiroMovimentacaoN:Ne,idEmpresa:a.idEmpresa,idContato:a.idContato,idFinanceiroPlanoConta:ae.id,idFinanceiroTitulo:t.idFinanceiroTitulo,dataEmissao:p,valorCredito:t.valor,valorDebito:0,descricao:ae.descricao,observacao:"Liquidação referente título fatura (".concat(a.id,") - contabilização automática"),automatico:0,liquidando:0,dataCompetencia:v,dataVencimento:t.dataVencimento,dataMovimento:t.dataVencimento,documentoTipo:"Fatura",documentoId:a.id,idDocumentoCaixa:h.id}),F=i.idFinanceiroPlanoConta,1===i.tipo&&(h||{}).idFinanceiroPlanoContaCaixa&&(F=h.idFinanceiroPlanoContaCaixa),e.next=44,Zn.financeiroPlanoConta.le({id:F});case 44:for(w=e.sent,_e.push({id:hi(),idFinanceiroMovimentacaoN:Ne,idEmpresa:a.idEmpresa,idContato:a.idContato,idFinanceiroPlanoConta:w.id,idFinanceiroTitulo:t.idFinanceiroTitulo,dataEmissao:p,valorCredito:0,valorDebito:t.valor,descricao:w.descricao,observacao:"Liquidação referente título fatura (".concat(a.id,") - contabilização automática"),automatico:0,liquidando:0,dataCompetencia:v,dataVencimento:t.dataVencimento,dataMovimento:t.dataVencimento,documentoTipo:"Fatura",documentoId:a.id,idDocumentoCaixa:h.id}),y=0;y<xe.length;y++)N=xe[y],N.idFinanceiroMovimentacaoAgrupamento===Ne&&(N.valorRealizado=N.valorARealizar,N.dataPagamento=t.dataVencimento,N.dataMovimento=t.dataVencimento,N.idDocumentoCaixaLiquidacao=h.id);e.next=49;break;case 49:if(!i.aliquota){e.next=64;break}if(k=hi(),M=dt(t.valor*(i.aliquota/100)),xe.push({id:k,idFinanceiroPlanoConta:i.idFinanceiroPlanoContaAliquota,idContato:i.idContatoOperadoraCartao,dataEmissao:p,dataCompetencia:v,dataVencimento:t.dataVencimento,dataVencimentoOriginal:t.dataVencimento,valor:M,valorTotal:M,valorARealizar:M,valorMulta:0,percentualJuros:0,documentoId:a.id,documentoTipo:"Fatura",parcela:Fe+"/"+ye,descricao:"Título referente a alíquota da forma de pagamento: ".concat(i.descricao),observacao:"Título referente a alíquota. ".concat(o.$refs.faturamento.observacaoFaturamento||""," ").concat(t.observacao||"").trim(),documentoVinculado:1,receberPagar:0,valorDesconto:0,percentualDesconto:0,idEmpresa:a.idEmpresa,formaDePagamento:i.descricao,idDocumentoCaixa:h.id}),t.idFinanceiroTituloPagar=k,"Título Liquidado"!==i.tipoFinanceiro){e.next=64;break}return P=hi(),_e.push({id:hi(),idFinanceiroMovimentacaoN:P,idEmpresa:a.idEmpresa,idFinanceiroPlanoConta:ie.id,dataEmissao:p,valorCredito:0,valorDebito:M,descricao:ie.descricao,observacao:"Liquidação alíquota cartão referente fatura (".concat(a.id,") - contabilização automática"),automatico:0,liquidando:0,dataCompetencia:v,dataVencimento:t.dataVencimento,dataMovimento:t.dataVencimento,documentoTipo:"Fatura",documentoId:a.id,idFinanceiroTitulo:k,idContato:i.idContatoOperadoraCartao,idDocumentoCaixa:h.id}),D=i.idFinanceiroPlanoConta,1===i.tipo&&(h||{}).idFinanceiroPlanoContaCaixa&&(D=h.idFinanceiroPlanoContaCaixa),e.next=61,Zn.financeiroPlanoConta.le({id:D});case 61:for(E=e.sent,_e.push({id:hi(),idFinanceiroMovimentacaoN:P,idEmpresa:a.idEmpresa,idFinanceiroPlanoConta:E.id,dataEmissao:p,valorCredito:M,valorDebito:0,descricao:E.descricao,observacao:"Liquidação alíquota cartão referente fatura (".concat(a.id,") - contabilização automática"),automatico:0,liquidando:0,dataCompetencia:v,dataVencimento:t.dataVencimento,dataMovimento:t.dataVencimento,documentoTipo:"Fatura",documentoId:a.id,idFinanceiroTitulo:k,idContato:i.idContatoOperadoraCartao,idDocumentoCaixa:h.id}),T=0;T<xe.length;T++)A=xe[T],A.id===k&&(A.idFinanceiroMovimentacaoAgrupamento=P,A.valorRealizado=M,A.dataPagamento=t.dataVencimento,A.dataMovimento=t.dataVencimento,A.idDocumentoCaixaLiquidacao=h.id);case 64:Fe++;case 65:case"end":return e.stop()}},e)}),Ee=s.filter(function(e){return!e.sinal})[Symbol.iterator]();case 255:if(ke=(Te=Ee.next()).done){e.next=260;break}return e.delegateYield(De(),"t26",257);case 257:ke=!0,e.next=255;break;case 260:e.next=266;break;case 262:e.prev=262,e.t27=e["catch"](252),Me=!0,Pe=e.t27;case 266:e.prev=266,e.prev=267,ke||null==Ee.return||Ee.return();case 269:if(e.prev=269,!Me){e.next=272;break}throw Pe;case 272:return e.finish(269);case 273:return e.finish(266);case 274:Ae=[],Oe=function(){for(var e=Se[$e],t=hi(),o=hi(),i=0;i<xe.length;i++){var r=xe[i];r.id===e.idTitulo&&(r.idFinanceiroMovimentacaoAgrupamento=o,r.valorRealizado=r.valorARealizar,r.dataPagamento=e.dataVencimento,r.dataMovimento=e.dataVencimento,r.idDocumentoCaixaLiquidacao=h.id)}if(Ae.includes(e.idDocumentoCondicaoPagamento))return"continue";Ae.push(e.idDocumentoCondicaoPagamento);var s=dt(Se.reduce(function(t,a){return a.idDocumentoCondicaoPagamento===e.idDocumentoCondicaoPagamento&&(t+=t+(a.valor||0)),t},0));xe.push({id:t,idFinanceiroPlanoConta:ee.id,idContato:a.idContato,dataEmissao:p,dataCompetencia:v,dataVencimento:e.dataVencimento,dataVencimentoOriginal:e.dataVencimento,valor:s,valorTotal:s,valorARealizar:s,valorMulta:0,percentualJuros:0,receberPagar:1,valorDesconto:0,percentualDesconto:0,documentoId:a.id,documentoTipo:"Fatura",idEmpresa:a.idEmpresa,formaDePagamento:e.formaPagamento.descricao,idDocumentoCaixa:h.id,cheque:1,idBanco:e.idBanco,agencia:e.agencia,conta:e.conta,numeroCheque:e.numeroCheque,observacao:"Liquidação de Cheques da Fatura #".concat(a.id," - CódigoN #").concat(o),descricao:"Cheque"}),_e.push({id:hi(),idFinanceiroMovimentacaoN:o,idEmpresa:a.idEmpresa,idContato:a.idContato,idFinanceiroPlanoConta:se.id,idFinanceiroTitulo:t,dataEmissao:p,valorCredito:0,valorDebito:s,descricao:"Cheque - Crédito de títulos a receber",observacao:"Crédito de títulos a receber",automatico:0,liquidando:0,dataCompetencia:v,dataVencimento:e.dataVencimento,dataMovimento:e.dataVencimento,idFinanceiroCheque:t,idDocumentoCaixa:h.id}),_e.push({id:hi(),idFinanceiroMovimentacaoN:o,idEmpresa:a.idEmpresa,idContato:a.idContato,idFinanceiroPlanoConta:ae.id,idFinanceiroTitulo:t,dataEmissao:p,valorCredito:s,valorDebito:0,descricao:ae.descricao,observacao:"Contabilização automática",automatico:0,liquidando:0,dataCompetencia:v,dataVencimento:e.dataVencimento,dataMovimento:e.dataVencimento,idFinanceiroCheque:t,idDocumentoCaixa:h.id})},$e=0;case 277:if(!($e<Se.length)){e.next=284;break}if(Re=Oe(),"continue"!==Re){e.next=281;break}return e.abrupt("continue",281);case 281:$e++,e.next=277;break;case 284:if(!(n>0)){e.next=326;break}for(je=hi(),_e.push({id:hi(),idFinanceiroMovimentacaoN:je,idEmpresa:a.idEmpresa,idContato:a.idContato,idFinanceiroPlanoConta:ae.id,dataEmissao:p,valorCredito:n,valorDebito:0,descricao:ae.descricao,observacao:"Contabilização automática",automatico:1,liquidando:0,dataCompetencia:v,dataVencimento:p,dataMovimento:p,idDocumentoCaixa:h.id}),_e.push({id:hi(),idFinanceiroMovimentacaoN:je,idEmpresa:a.idEmpresa,idContato:a.idContato,idFinanceiroPlanoConta:ee.id,dataEmissao:p,valorCredito:0,valorDebito:n,descricao:ee.descricao,observacao:"Contabilização automática - Complemento",automatico:0,liquidando:0,dataCompetencia:v,dataVencimento:p,dataMovimento:p,documentoTipo:"Renegociação",documentoId:je,idDocumentoCaixa:h.id}),ze=0;ze<Ie.length;ze++)Be=Ie[ze],qe.push({idFinanceiroMovimentacaoN:je,idFinanceiroTitulo:Be.idTitulo,dataVencimento:p,valorOriginal:Be.valor,valorDesconto:Be.desconto,valorTotal:dt(Be.valor-Be.desconto)});Le=!0,Ve=!1,Ue=void 0,e.prev=292,Qe=r[Symbol.iterator]();case 294:if(Le=(Ge=Qe.next()).done){e.next=311;break}if(Je=Ge.value,Je.idFinanceiroMovimentacaoAgrupamento=je,Je.idDocumentoCaixaLiquidacao=h.id,Je.dataPagamento=p,Je.dataMovimento=p,Je.renegociado=1,1!==Je.cheque){e.next=304;break}return Je.valorRealizado=Je.valor,e.abrupt("continue",308);case 304:if(Je.valorARealizar){e.next=307;break}return Je.valorRealizado=Je.valorTotal,e.abrupt("continue",308);case 307:Je.valorRealizado=Je.valorARealizar;case 308:Le=!0,e.next=294;break;case 311:e.next=317;break;case 313:e.prev=313,e.t28=e["catch"](292),Ve=!0,Ue=e.t28;case 317:e.prev=317,e.prev=318,Le||null==Qe.return||Qe.return();case 320:if(e.prev=320,!Ve){e.next=323;break}throw Ue;case 323:return e.finish(320);case 324:return e.finish(317);case 325:xe=xe.concat(r);case 326:if(0!==l){e.next=494;break}if(Xe=hi(),Ye=a.valorFrete||0,We=0,Ze=0,Ke=[],Ye>0&&(_e.push({id:hi(),idFinanceiroMovimentacaoN:Xe,idEmpresa:a.idEmpresa,idFinanceiroPlanoConta:ce.id,dataEmissao:p,valorCredito:0,valorDebito:Ye,descricao:ce.descricao,observacao:"Lançamento frete da fatura (".concat(a.id,") - contabilização automática"),automatico:0,liquidando:0,dataCompetencia:v,dataVencimento:p,dataMovimento:p,documentoTipo:"Fatura",documentoId:a.id,idDocumentoCaixa:h.id}),_e.push({id:hi(),idFinanceiroMovimentacaoN:Xe,idEmpresa:a.idEmpresa,idFinanceiroPlanoConta:me.id,dataEmissao:p,valorCredito:Ye,valorDebito:0,descricao:me.descricao,observacao:"Lançamento frete da fatura (".concat(a.id,") - contabilização automática"),automatico:0,liquidando:0,dataCompetencia:v,dataVencimento:p,dataMovimento:p,documentoTipo:"Fatura",documentoId:a.id,idDocumentoCaixa:h.id})),t){e.next=494;break}Xe=hi(),et=!0,tt=!1,at=void 0,e.prev=338,it=o.documentoItens[Symbol.iterator]();case 340:if(et=(rt=it.next()).done){e.next=425;break}return st=rt.value,nt="",ct={},lt="",ut={},mt="",pt={},e.next=350,Zn.item.leNew({id:st.idItem});case 350:if(vt=e.sent,nt=st.idPlanoContaEstoque,nt){e.next=357;break}return e.next=355,Zn.perfilContabilItem.le({idPerfilContabil:vt.idPerfilContabil,idCfop:st.idCfop,and:{idPerfilContabil:vt.idPerfilContabil,idCfop:st.idCfop}});case 355:ht=e.sent,ht.length&&ht[0].idPlanoContaEstoque&&(nt=ht[0].idPlanoContaEstoque);case 357:if(!nt&&de.id&&(nt=de.id),nt||!st.idCfop){e.next=363;break}return e.next=361,Zn.cfop.le({id:st.idCfop});case 361:ft=e.sent,nt=ft.idPlanoContaEstoque;case 363:return e.next=365,Zn.financeiroPlanoConta.le({id:nt});case 365:if(ct=e.sent,ct.id){e.next=369;break}return o.$q.notify("Não foi possível localizar Conta de Estoque."),e.abrupt("return",{v:void 0});case 369:if(lt="",lt){e.next=375;break}return e.next=373,Zn.perfilContabilItem.le({idPerfilContabil:vt.idPerfilContabil,idCfop:st.idCfop,and:{idPerfilContabil:vt.idPerfilContabil,idCfop:st.idCfop}});case 373:Ct=e.sent,Ct.length&&Ct[0].idPlanoContaDespesa&&(lt=Ct[0].idPlanoContaDespesa);case 375:if(!lt&&ve.id&&(lt=ve.id),lt||!st.idCfop){e.next=381;break}return e.next=379,Zn.cfop.le({id:st.idCfop});case 379:bt=e.sent,lt=bt.idPlanoContaDestino;case 381:return e.next=383,Zn.financeiroPlanoConta.le({id:lt});case 383:if(ut=e.sent,ut.id){e.next=387;break}return o.$q.notify("Não foi possível localizar Conta de Despesa."),e.abrupt("return",{v:void 0});case 387:if(gt=dt(st.total-(st.descontoTotalRateado||0)-(st.descontoFaturaRateado||0)),xt=dt(st.valorCustoMedio*st.quantidade),!xt){e.next=422;break}if(st.operacaoFator<0?(_e.push({id:hi(),idFinanceiroMovimentacaoN:Xe,idEmpresa:a.idEmpresa,idFinanceiroPlanoConta:ct.id,dataEmissao:st.dataHoraFinalizado||p,valorCredito:xt,valorDebito:0,descricao:ct.descricao,observacao:"Movimentações de CMV referente fatura (".concat(a.id,") e item (").concat(st.idItem,") - contabilização automática"),automatico:0,liquidando:0,dataCompetencia:v,dataVencimento:p,dataMovimento:p,documentoTipo:a.tipo,documentoId:a.id,idDocumentoCaixa:h.id}),_e.push({id:hi(),idFinanceiroMovimentacaoN:Xe,idEmpresa:a.idEmpresa,idFinanceiroPlanoConta:ut.id,dataEmissao:st.dataHoraFinalizado||p,valorCredito:0,valorDebito:xt,descricao:ut.descricao,observacao:"Movimentações de CMV referente fatura (".concat(a.id,") e item (").concat(st.idItem,") - contabilização automática"),automatico:0,liquidando:0,dataCompetencia:v,dataVencimento:p,dataMovimento:p,documentoTipo:a.tipo,documentoId:a.id,idDocumentoCaixa:h.id})):(_e.push({id:hi(),idFinanceiroMovimentacaoN:Xe,idEmpresa:a.idEmpresa,idFinanceiroPlanoConta:ct.id,dataEmissao:st.dataHoraFinalizado||p,valorCredito:0,valorDebito:xt,descricao:ct.descricao,observacao:"Movimentações de CMV referente fatura (".concat(a.id,") e item (").concat(st.idItem,") - contabilização automática"),automatico:0,liquidando:0,dataCompetencia:v,dataVencimento:p,dataMovimento:p,documentoTipo:a.tipo,documentoId:a.id,idDocumentoCaixa:h.id}),_e.push({id:hi(),idFinanceiroMovimentacaoN:Xe,idEmpresa:a.idEmpresa,idFinanceiroPlanoConta:ut.id,dataEmissao:st.dataHoraFinalizado||p,valorCredito:xt,valorDebito:0,descricao:ut.descricao,observacao:"Movimentações de CMV referente fatura (".concat(a.id,") e item (").concat(st.idItem,") - contabilização automática"),automatico:0,liquidando:0,dataCompetencia:v,dataVencimento:p,dataMovimento:p,documentoTipo:a.tipo,documentoId:a.id,idDocumentoCaixa:h.id})),mt=st.idPlanoContaDestino,mt){e.next=397;break}return e.next=395,Zn.perfilContabilItem.le({idPerfilContabil:vt.idPerfilContabil,idCfop:st.idCfop,and:{idPerfilContabil:vt.idPerfilContabil,idCfop:st.idCfop}});case 395:_t=e.sent,_t.length&&_t[0].idPlanoContaDespesa&&(mt=_t[0].idPlanoContaDespesa);case 397:if(!mt&&ve.id&&(mt=ve.id),mt||!st.idCfop){e.next=403;break}return e.next=401,Zn.cfop.le({id:st.idCfop});case 401:qt=e.sent,mt=qt.idPlanoContaDestino;case 403:return e.next=405,Zn.financeiroPlanoConta.le({id:mt});case 405:if(pt=e.sent,pt.id){e.next=409;break}return o.$q.notify("Não foi possível localizar Conta de Receita."),e.abrupt("return",{v:void 0});case 409:St=!0,It=0;case 411:if(!(It<Ke.length)){e.next=420;break}if(Ft=Ke[It],Ft.idPlanoContaDestino!==pt.id||Ft.idPlanoContaEstoque!==ct.id){e.next=417;break}return Ft.valor=dt(Ft.valor+gt),St=!1,e.abrupt("break",420);case 417:It++,e.next=411;break;case 420:St&&Ke.push({idPlanoContaDestino:pt.id,idPlanoContaEstoque:ct.id,valor:gt}),We+=gt;case 422:et=!0,e.next=340;break;case 425:e.next=431;break;case 427:e.prev=427,e.t29=e["catch"](338),tt=!0,at=e.t29;case 431:e.prev=431,e.prev=432,et||null==it.return||it.return();case 434:if(e.prev=434,!tt){e.next=437;break}throw at;case 437:return e.finish(434);case 438:return e.finish(431);case 439:for(wt=0;wt<Ke.length;wt++)yt=Ke[wt],yt.valor<0&&(Ze+=yt.valor);Nt=0;case 441:if(!(Nt<Ke.length)){e.next=494;break}if(kt=Ke[Nt],!(kt.valor>0)){e.next=491;break}return e.next=446,Zn.financeiroPlanoConta.le({id:kt.idPlanoContaDestino});case 446:if(Mt=e.sent,Pt=dt(Ze*(kt.valor/(We||1))),!(Pt>0)){e.next=472;break}for(_e.push({id:hi(),idFinanceiroMovimentacaoN:Xe,idEmpresa:a.idEmpresa,idFinanceiroPlanoConta:ce.id,dataEmissao:p,valorCredito:0,valorDebito:Pt,descricao:ce.descricao,observacao:"Lançamento entrada faturamento geral da devolução referente fatura (".concat(a.id,") - contabilização automática"),automatico:0,liquidando:0,dataCompetencia:v,dataVencimento:p,dataMovimento:p,documentoTipo:"Fatura",documentoId:a.id,idDocumentoCaixa:h.id}),_e.push({id:hi(),idFinanceiroMovimentacaoN:Xe,idEmpresa:a.idEmpresa,idFinanceiroPlanoConta:Mt.id,dataEmissao:p,valorCredito:Pt,valorDebito:0,descricao:Mt.descricao,observacao:"Lançamento saída na conta de destino referente fatura (".concat(a.id,") - contabilização automática"),automatico:0,liquidando:0,dataCompetencia:v,dataVencimento:p,dataMovimento:p,documentoTipo:"Fatura",documentoId:a.id,idDocumentoCaixa:h.id}),Dt=!0,Et=!1,Tt=void 0,e.prev=454,At=s[Symbol.iterator]();!(Dt=(Ot=At.next()).done);Dt=!0)$t=Ot.value,_e.push({id:hi(),idFinanceiroMovimentacaoN:Xe,idEmpresa:a.idEmpresa,idFinanceiroPlanoConta:ce.id,dataEmissao:p,valorCredito:0,valorDebito:dt((kt.valor-Pt)*($t.valor/(ge||1))),descricao:ce.descricao,observacao:"Lançamento saída na conta de faturamento geral referente fatura (".concat(a.id,") - contabilização automática"),automatico:0,liquidando:0,dataCompetencia:v,dataVencimento:$t.dataVencimento,dataMovimento:$t.dataVencimento,documentoTipo:"Fatura",documentoId:a.id,idDocumentoCaixa:h.id}),_e.push({id:hi(),idFinanceiroMovimentacaoN:Xe,idEmpresa:a.idEmpresa,idFinanceiroPlanoConta:Mt.id,dataEmissao:p,valorCredito:dt((kt.valor-Pt)*($t.valor/(ge||1))),valorDebito:0,descricao:Mt.descricao,observacao:"Lançamento entrada na conta de venda do produto referente fatura (".concat(a.id,") - contabilização automática"),automatico:0,liquidando:0,dataCompetencia:v,dataVencimento:$t.dataVencimento,dataMovimento:$t.dataVencimento,documentoTipo:"Fatura",documentoId:a.id,idDocumentoCaixa:h.id});e.next=462;break;case 458:e.prev=458,e.t30=e["catch"](454),Et=!0,Tt=e.t30;case 462:e.prev=462,e.prev=463,Dt||null==At.return||At.return();case 465:if(e.prev=465,!Et){e.next=468;break}throw Tt;case 468:return e.finish(465);case 469:return e.finish(462);case 470:e.next=491;break;case 472:for(Rt=!0,jt=!1,zt=void 0,e.prev=475,Bt=s[Symbol.iterator]();!(Rt=(Lt=Bt.next()).done);Rt=!0)Vt=Lt.value,Ut=dt(kt.valor*(Vt.valor/(ge||1))),_e.push({id:hi(),idFinanceiroMovimentacaoN:Xe,idEmpresa:a.idEmpresa,idFinanceiroPlanoConta:ce.id,dataEmissao:p,valorCredito:0,valorDebito:Ut,descricao:ce.descricao,observacao:"Lançamento saída na conta de faturamento geral referente fatura (".concat(a.id,") - contabilização automática"),automatico:0,liquidando:0,dataCompetencia:v,dataVencimento:Vt.dataVencimento,dataMovimento:Vt.dataVencimento,documentoTipo:"Fatura",documentoId:a.id,idDocumentoCaixa:h.id}),_e.push({id:hi(),idFinanceiroMovimentacaoN:Xe,idEmpresa:a.idEmpresa,idFinanceiroPlanoConta:Mt.id,dataEmissao:p,valorCredito:Ut,valorDebito:0,descricao:Mt.descricao,observacao:"Lançamento entrada na conta de venda do produto referente fatura (".concat(a.id,") - contabilização automática"),automatico:0,liquidando:0,dataCompetencia:v,dataVencimento:Vt.dataVencimento,dataMovimento:Vt.dataVencimento,documentoTipo:"Fatura",documentoId:a.id,idDocumentoCaixa:h.id});e.next=483;break;case 479:e.prev=479,e.t31=e["catch"](475),jt=!0,zt=e.t31;case 483:e.prev=483,e.prev=484,Rt||null==Bt.return||Bt.return();case 486:if(e.prev=486,!jt){e.next=489;break}throw zt;case 489:return e.finish(486);case 490:return e.finish(483);case 491:Nt++,e.next=441;break;case 494:if(o.financeiroTitulo=xe,o.financeiroMovimentacao=_e,o.financeiroRenegociacao=qe,o.fatura=a,o.vendas=i,o.carnes=r,t){e.next=507;break}return e.next=503,o.salvarFatura();case 503:if(!o.vendas.length){e.next=506;break}return e.next=506,o.$refs.documentosFiscais.emitirCupom(o.fatura.id);case 506:o.$q.notifyPositive("Fatura finalizada");case 507:return e.abrupt("return",{v:!0});case 508:case"end":return e.stop()}},e,null,[[2,7],[57,127,131,139],[69,95],[77,81,85,93],[86,,88,92],[105,109,113,121],[114,,116,120],[132,,134,138],[145,149,153,161],[154,,156,160],[252,262,266,274],[267,,269,273],[292,313,317,325],[318,,320,324],[338,427,431,439],[432,,434,438],[454,458,462,470],[463,,465,469],[475,479,483,491],[484,,486,490]])})(),"t0",2);case 2:if(a=e.t0,"object"!==Mt()(a)){e.next=5;break}return e.abrupt("return",a.v);case 5:e.next=10;break;case 7:e.prev=7,e.t1=e["catch"](0),this.$q.notifyError("Não foi possível finalizar a fatura",e.t1);case 10:return e.prev=10,this.$q.loading.hide(),e.finish(10);case 13:case"end":return e.stop()}},e,this,[[0,7,10,13]])}));return function(t){return e.apply(this,arguments)}}(),reabrir:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=13;break}return e.next=3,Zn.documentoSat.le({idDocumento:this.fatura.id});case 3:return a=e.sent,o=a.filter(function(e){return e.cancelamento}).map(function(e){return e.chaveCupomCancelado}),i=a.filter(function(e){return!o.includes(e.chaveCupom)}),r=i.filter(function(e){return!e.cancelamento}),e.next=9,Zn.documentoFiscalEletronico.le({idDocumento:this.fatura.id,situacao:"Emitido"});case 9:if(s=e.sent,!r.length&&!s.length){e.next=13;break}return this.$q.notify("Documento fiscal emitido. Operação não permitida."),e.abrupt("return");case 13:if(t){e.next=22;break}return e.prev=14,e.next=17,this.$q.dialog({cancel:"Cancelar",message:"Esta ação irá reabrir esta fatura",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 17:e.next=22;break;case 19:return e.prev=19,e.t0=e["catch"](14),e.abrupt("return",!1);case 22:return e.prev=22,e.delegateYield(regeneratorRuntime.mark(function e(){var a,o,i,r,s,p,h,f,C,b,g,x,_,q,S,I,F,w,y,N,k,M,P,D,E,T,A,O,$,R,j,z,B,L,V,U,H,Q,G,J,X,Y,W,Z,K,ee,te,ae,oe,ie,re,se,ne,ce,le,de,ue,me,pe,ve,he,fe,Ce,be,ge,xe,_e,qe,Se,Ie,Fe,we,ye,Ne,ke,Me,Pe,De,Ee,Te,Ae,Oe,$e,Re,je,ze,Be,Le,Ve,Ue,Qe,Ge,Je,Xe,Ye,We,Ze,Ke,et,tt,ot,it,rt,st,nt,ct,lt,dt,ut,mt,pt,vt,ht,ft,Ct,bt,gt,xt,_t,qt,St,It,Ft,wt,yt,Nt,kt,Mt,Pt,Dt,Et,Tt,At,Ot,$t,Rt,jt,zt,Bt,Lt,Vt,Ut,Ht,Qt,Gt,Jt,Xt,Wt,Zt,Kt,ea,ta,aa;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(v.$q.loading.show({message:"Processando..."}),a=Yt(v.fatura),o=Yt(v.vendas),i=Yt(v.envelopes),r=Yt(v.documentoItens),s=v.$refs.faturamento.condicaoPagamento.filter(function(e){return e.valor}),t){e.next=44;break}p=[],s.reduce(function(e,t){return t.idDocumentoCaixa&&!e[t.idDocumentoCaixa]&&(e[t.idDocumentoCaixa]=!0,p.push(Zn.documento.le({id:t.idDocumentoCaixa}))),e},{}),n=!0,c=!1,e.prev=11,d=zi()(p);case 13:return e.next=15,d.next();case 15:return u=e.sent,n=u.done,e.next=19,u.value;case 19:if(m=e.sent,n){e.next=28;break}if(h=m,"Aberto"===h.status){e.next=25;break}return v.$q.notify({message:"Não é possível reabrir fatura de caixas fechados!"}),e.abrupt("return",{v:!1});case 25:n=!0,e.next=13;break;case 28:e.next=34;break;case 30:e.prev=30,e.t0=e["catch"](11),c=!0,l=e.t0;case 34:if(e.prev=34,e.prev=35,n||null==d.return){e.next=39;break}return e.next=39,d.return();case 39:if(e.prev=39,!c){e.next=42;break}throw l;case 42:return e.finish(39);case 43:return e.finish(34);case 44:return e.next=46,Zn.permissao.objeto("Diretiva_Vendas_Reabertura_EstornaTitulosLiquidados");case 46:if(e.sent){e.next=77;break}f=!0,C=!1,b=void 0,e.prev=50,g=v.$refs.faturamento.condicaoPagamentoOriginal.filter(function(e){return e.valor})[Symbol.iterator]();case 52:if(f=(x=g.next()).done){e.next=63;break}return _=x.value,e.next=56,Zn.financeiroTitulo.le({id:_.idFinanceiroTitulo});case 56:if(q=e.sent,!q.dataPagamento){e.next=60;break}return v.$q.notify({message:"Não é possível excluir o financeiro. Parcelas da fatura já foram pagas!"}),e.abrupt("return",{v:!1});case 60:f=!0,e.next=52;break;case 63:e.next=69;break;case 65:e.prev=65,e.t1=e["catch"](50),C=!0,b=e.t1;case 69:e.prev=69,e.prev=70,f||null==g.return||g.return();case 72:if(e.prev=72,!C){e.next=75;break}throw b;case 75:return e.finish(72);case 76:return e.finish(69);case 77:if(S=[],I=[],F=[],t){e.next=464;break}return e.next=81,Zn.financeiroTitulo.le({documentoId:a.id});case 81:S=e.sent,w=!0,y=!1,N=void 0,e.prev=85,k=S[Symbol.iterator]();case 87:if(w=(M=k.next()).done){e.next=187;break}if(P=M.value,!P.idFinanceiroBoleto){e.next=184;break}return e.next=92,He().financeiroBoleto.get(P.idFinanceiroBoleto);case 92:return D=e.sent,e.next=95,Zn.financeiroBanco.le({id:D.idFinanceiroBanco});case 95:return E=e.sent,e.next=98,Zn.banco.le({id:E.idBanco});case 98:if(T=e.sent,A=D.revisao,O=T.baixa,$=T.registro,D.remessaOperacao===O){e.next=184;break}return R=P.idFinanceiroBoleto,j=hi(),z={id:j,idFinanceiroBanco:D.idFinanceiroBanco,nossoNumero:D.nossoNumero,nossoNumeroDv:D.nossoNumeroDv,revisao:A+1,idEmpresa:D.idEmpresa,idContato:D.idContato,empresaNome:D.empresaNome,empresaNumeroDocumento:D.empresaNumeroDocumento,contatoNome:D.contatoNome,contatoNumeroDocumento:D.contatoNumeroDocumento,contatoLogradouro:D.contatoLogradouro,contatoCEP:D.contatoCEP,contatoBairro:D.contatoBairro,contatoCidade:D.contatoCidade,contatoUF:D.contatoUF,dataEmissao:na(),dataVencimento:D.dataVencimento,dataImpressao:D.dataImpressao,valor:D.valor,valorJuros:D.valorJuros,tipoJuros:D.tipoJuros,valorMulta:D.valorMulta,valorDesconto:D.valorDesconto,valorTotal:D.valorTotal,codigoBarras:D.codigoBarras,linhaDigitavel:D.linhaDigitavel,mensagem1:D.mensagem1,mensagem2:D.mensagem2,mensagem3:D.mensagem3,mensagem4:D.mensagem4,mensagem5:D.mensagem5,gerarRemessa:1,remessaOperacao:O},e.next=108,Zn.financeiroBoleto.grava({atual:z});case 108:if(B=[],!R){e.next=113;break}return e.next=112,Zn.financeiroTitulo.le({idFinanceiroBoleto:R});case 112:B=e.sent;case 113:L=!0,V=!1,U=void 0,e.prev=116,H=B[Symbol.iterator]();case 118:if(L=(Q=H.next()).done){e.next=159;break}if(G=Q.value,J=Yt(G),G.idFinanceiroBoleto=j,X=[],!R){e.next=127;break}return e.next=126,Zn.financeiroBoletoTitulo.le({idFinanceiroBoleto:R});case 126:X=e.sent;case 127:Y=!0,W=!1,Z=void 0,e.prev=130,K=X[Symbol.iterator]();case 132:if(Y=(ee=K.next()).done){e.next=140;break}return te=ee.value,ae={id:hi(),idFinanceiroBoleto:j,idFinanceiroTitulo:te.idFinanceiroTitulo},e.next=137,Zn.financeiroBoletoTitulo.grava({atual:ae});case 137:Y=!0,e.next=132;break;case 140:e.next=146;break;case 142:e.prev=142,e.t2=e["catch"](130),W=!0,Z=e.t2;case 146:e.prev=146,e.prev=147,Y||null==K.return||K.return();case 149:if(e.prev=149,!W){e.next=152;break}throw Z;case 152:return e.finish(149);case 153:return e.finish(146);case 154:return e.next=156,Zn.financeiroTitulo.grava({atual:G,original:J});case 156:L=!0,e.next=118;break;case 159:e.next=165;break;case 161:e.prev=161,e.t3=e["catch"](116),V=!0,U=e.t3;case 165:e.prev=165,e.prev=166,L||null==H.return||H.return();case 168:if(e.prev=168,!V){e.next=171;break}throw U;case 171:return e.finish(168);case 172:return e.finish(165);case 173:if(D.remessaOperacao!==$||1!==D.gerarRemessa){e.next=184;break}oe=[D,z],ie=0;case 176:if(!(ie<oe.length)){e.next=184;break}return re=oe[ie],se=at()({},re,{gerarRemessa:0}),e.next=181,Zn.financeiroBoleto.grava({original:re,atual:se});case 181:ie++,e.next=176;break;case 184:w=!0,e.next=87;break;case 187:e.next=193;break;case 189:e.prev=189,e.t4=e["catch"](85),y=!0,N=e.t4;case 193:e.prev=193,e.prev=194,w||null==k.return||k.return();case 196:if(e.prev=196,!y){e.next=199;break}throw N;case 199:return e.finish(196);case 200:return e.finish(193);case 201:if(ne=[],!v.$refs.faturamento.idDocumentoCaixa){e.next=206;break}return e.next=205,Zn.financeiroMovimentacao.le({idDocumentoCaixa:v.$refs.faturamento.idDocumentoCaixa});case 205:ne=e.sent;case 206:return e.next=208,Zn.financeiroTitulo.le({idFatura:a.id});case 208:return S=e.sent,e.next=211,Zn.financeiroTitulo.le({idFatura:a.id});case 211:ce=e.sent,le=!0,de=!1,ue=void 0,e.prev=215,me=Yt(S)[Symbol.iterator]();case 217:if(le=(pe=me.next()).done){e.next=255;break}if(ve=pe.value,ve.idFinanceiroMovimentacaoAgrupamento){e.next=221;break}return e.abrupt("continue",252);case 221:return e.next=223,Zn.financeiroRenegociacao.le({idFinanceiroMovimentacaoN:ve.idFinanceiroMovimentacaoAgrupamento});case 223:he=e.sent,fe=!0,Ce=!1,be=void 0,e.prev=227,ge=he[Symbol.iterator]();case 229:if(fe=(xe=ge.next()).done){e.next=238;break}return _e=xe.value,e.next=233,Zn.financeiroTitulo.le({id:_e.idFinanceiroTitulo});case 233:qe=e.sent,qe.idDocumentoCaixa===v.$refs.faturamento.idDocumentoCaixa&&(S=S.concat(qe));case 235:fe=!0,e.next=229;break;case 238:e.next=244;break;case 240:e.prev=240,e.t5=e["catch"](227),Ce=!0,be=e.t5;case 244:e.prev=244,e.prev=245,fe||null==ge.return||ge.return();case 247:if(e.prev=247,!Ce){e.next=250;break}throw be;case 250:return e.finish(247);case 251:return e.finish(244);case 252:le=!0,e.next=217;break;case 255:e.next=261;break;case 257:e.prev=257,e.t6=e["catch"](215),de=!0,ue=e.t6;case 261:e.prev=261,e.prev=262,le||null==me.return||me.return();case 264:if(e.prev=264,!de){e.next=267;break}throw ue;case 267:return e.finish(264);case 268:return e.finish(261);case 269:Se=!1,Ie=!0,Fe=!1,we=void 0,e.prev=273,ye=regeneratorRuntime.mark(function e(){var t,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=ke.value,e.next=3,Zn.financeiroTitulo.le({id:t.idFinanceiroTitulo});case 3:a=e.sent,Object.keys(a).length&&(o=[],o=ne.filter(function(e){return e.idFinanceiroMovimentacaoN===a.idFinanceiroMovimentacaoAgrupamento}),I=I.concat(o),o=ne.filter(function(e){return e.idFinanceiroTitulo===a.id}),I=I.concat(o),o=ne.filter(function(e){return e.idFinanceiroCheque===a.id}),I=I.concat(o),S=S.concat(a)),t.idFinanceiroTitulo="",1===t.sinal&&(Se=!0);case 7:case"end":return e.stop()}},e)}),Ne=s[Symbol.iterator]();case 276:if(Ie=(ke=Ne.next()).done){e.next=281;break}return e.delegateYield(ye(),"t7",278);case 278:Ie=!0,e.next=276;break;case 281:e.next=287;break;case 283:e.prev=283,e.t8=e["catch"](273),Fe=!0,we=e.t8;case 287:e.prev=287,e.prev=288,Ie||null==Ne.return||Ne.return();case 290:if(e.prev=290,!Fe){e.next=293;break}throw we;case 293:return e.finish(290);case 294:return e.finish(287);case 295:return e.next=297,Zn.financeiroTitulo.le({idFatura:a.id,idDocumentoCaixa:v.$refs.faturamento.idDocumentoCaixa});case 297:ce=e.sent,Me=!0,Pe=!1,De=void 0,e.prev=301,Ee=ce[Symbol.iterator]();case 303:if(Me=(Te=Ee.next()).done){e.next=318;break}if(Ae=Te.value,Ae.idFinanceiroMovimentacaoAgrupamento){e.next=307;break}return e.abrupt("continue",315);case 307:return e.next=309,Zn.financeiroMovimentacao.le({idFinanceiroMovimentacaoN:Ae.idFinanceiroMovimentacaoAgrupamento});case 309:return Oe=e.sent,I=I.concat(Oe),e.next=313,Zn.financeiroRenegociacao.le({idFinanceiroMovimentacaoN:Ae.idFinanceiroMovimentacaoAgrupamento});case 313:$e=e.sent,F=F.concat($e);case 315:Me=!0,e.next=303;break;case 318:e.next=324;break;case 320:e.prev=320,e.t9=e["catch"](301),Pe=!0,De=e.t9;case 324:e.prev=324,e.prev=325,Me||null==Ee.return||Ee.return();case 327:if(e.prev=327,!Pe){e.next=330;break}throw De;case 330:return e.finish(327);case 331:return e.finish(324);case 332:return e.next=334,Zn.financeiroTitulo.le({idDocumentoCaixa:v.$refs.faturamento.idDocumentoCaixa,documentoId:a.id});case 334:if(ce=e.sent,S=S.concat(ce),!a.id){e.next=376;break}return e.next=339,Zn.financeiroMovimentacao.leNew({documentoTipo:"Devolução",documentoId:a.id});case 339:return Re=e.sent,I=I.concat(Re),e.next=343,Zn.financeiroMovimentacao.leNew({idDocumentoCaixa:v.$refs.faturamento.idDocumentoCaixa,documentoId:a.id});case 343:return Re=e.sent,I=I.concat(Re),e.next=347,Zn.financeiroMovimentacao.leNew({documentoId:a.id});case 347:Re=e.sent,je=!0,ze=!1,Be=void 0,e.prev=351,Le=Re[Symbol.iterator]();case 353:if(je=(Ve=Le.next()).done){e.next=362;break}return Ue=Ve.value,e.next=357,Zn.financeiroTitulo.le({id:Ue.idFinanceiroTitulo});case 357:Qe=e.sent,Qe.id||(I=I.concat(Ue));case 359:je=!0,e.next=353;break;case 362:e.next=368;break;case 364:e.prev=364,e.t10=e["catch"](351),ze=!0,Be=e.t10;case 368:e.prev=368,e.prev=369,je||null==Le.return||Le.return();case 371:if(e.prev=371,!ze){e.next=374;break}throw Be;case 374:return e.finish(371);case 375:return e.finish(368);case 376:return e.next=378,Zn.documento.le({idFatura:a.id});case 378:Ge=e.sent,Je=!0,Xe=!1,Ye=void 0,e.prev=382,We=Ge[Symbol.iterator]();case 384:if(Je=(Ze=We.next()).done){e.next=393;break}return Ke=Ze.value,e.next=388,Zn.financeiroMovimentacao.le({idDocumentoCaixa:v.$refs.faturamento.idDocumentoCaixa,documentoId:Ke.id});case 388:et=e.sent,I=I.concat(et);case 390:Je=!0,e.next=384;break;case 393:e.next=399;break;case 395:e.prev=395,e.t11=e["catch"](382),Xe=!0,Ye=e.t11;case 399:e.prev=399,e.prev=400,Je||null==We.return||We.return();case 402:if(e.prev=402,!Xe){e.next=405;break}throw Ye;case 405:return e.finish(402);case 406:return e.finish(399);case 407:for(ot in tt=[],S)it=S[ot].id,tt.includes(it)?delete S[ot]:tt.push(it);for(rt in S=S.filter(function(e){return e}),tt=[],I)st=I[rt].id,tt.includes(st)?delete I[rt]:tt.push(st);for(nt in I=I.filter(function(e){return e}),tt=[],F)ct=F[nt].id,tt.includes(ct)?delete F[nt]:tt.push(ct);for(F=F.filter(function(e){return e}),lt=na(),dt=Se?"Aguardando Pagamento":"Aberta",v.documentoStatus=[{id:hi(),idDocumento:a.id,operacao:"Fatura",statusOriginal:a.status,statusFinalizado:dt,dataHoraEmissao:lt,idUsuarioAlterou:Zn.usuario.logado.id,idDocumentoCaixa:v.$refs.faturamento.idDocumentoCaixa}],a.status=dt,"Aberta"===dt&&(a.dataHoraFinalizado=""),dt=Se?"Aguardando Pagamento":"Aguardando Faturamento",ut=!0,mt=!1,pt=void 0,e.prev=425,vt=o[Symbol.iterator]();!(ut=(ht=vt.next()).done);ut=!0)ft=ht.value,v.documentoStatus.push({id:hi(),idDocumento:ft.id,operacao:"Venda de Mercadoria",statusOriginal:ft.status,statusFinalizado:dt,dataHoraEmissao:lt,idUsuarioAlterou:Zn.usuario.logado.id,idDocumentoCaixa:v.$refs.faturamento.idDocumentoCaixa}),ft.status=dt;e.next=433;break;case 429:e.prev=429,e.t12=e["catch"](425),mt=!0,pt=e.t12;case 433:e.prev=433,e.prev=434,ut||null==vt.return||vt.return();case 436:if(e.prev=436,!mt){e.next=439;break}throw pt;case 439:return e.finish(436);case 440:return e.finish(433);case 441:for(Ct=!0,bt=!1,gt=void 0,e.prev=444,xt=r[Symbol.iterator]();!(Ct=(_t=xt.next()).done);Ct=!0)qt=_t.value,qt.status=dt;e.next=452;break;case 448:e.prev=448,e.t13=e["catch"](444),bt=!0,gt=e.t13;case 452:e.prev=452,e.prev=453,Ct||null==xt.return||xt.return();case 455:if(e.prev=455,!bt){e.next=458;break}throw gt;case 458:return e.finish(455);case 459:return e.finish(452);case 460:v.fatura=a,v.vendas=o,v.envelopes=i,v.documentoItens=r;case 464:if(v.$q.loading.hide(),!t){e.next=468;break}return e.next=468,v.finalizar(t);case 468:if(v.$q.loading.show({message:"Processando..."}),!t){e.next=575;break}St=[],It=[],Ft=[],wt=[],yt=[],Nt=[],St=v.$refs.faturamento.condicaoPagamento.map(function(e){return e.id}),It=v.$refs.faturamento.condicaoPagamentoOriginal.filter(function(e){return!St.includes(e.id)}),kt=!0,Mt=!1,Pt=void 0,e.prev=476,Dt=It[Symbol.iterator]();case 478:if(kt=(Et=Dt.next()).done){e.next=490;break}if(Tt=Et.value,Tt.idFinanceiroTitulo&&Ft.push(Tt.idFinanceiroTitulo),!Tt.idFormaPagamento){e.next=487;break}return At=void 0,e.next=485,He().formaPagamento.get(Tt.idFormaPagamento);case 485:At=e.sent,(At||{}).aliquota&&(Tt.idFinanceiroTituloPagar?Ft.push(Tt.idFinanceiroTituloPagar):v.$q.notify("Não foi possível excluir as movimentações referentes à aliquota. Exclua-as manualmente."));case 487:kt=!0,e.next=478;break;case 490:e.next=496;break;case 492:e.prev=492,e.t14=e["catch"](476),Mt=!0,Pt=e.t14;case 496:e.prev=496,e.prev=497,kt||null==Dt.return||Dt.return();case 499:if(e.prev=499,!Mt){e.next=502;break}throw Pt;case 502:return e.finish(499);case 503:return e.finish(496);case 504:Ot=0;case 505:if(!(Ot<Ft.length)){e.next=527;break}return $t=Ft[Ot],Rt=void 0,e.next=510,He().financeiroTitulo.get($t);case 510:if(Rt=e.sent,Rt.id&&wt.push(Rt),!Rt.idFinanceiroMovimentacaoAgrupamento){e.next=524;break}return jt=void 0,zt=void 0,e.next=516,He().financeiroMovimentacao.where({idFinanceiroMovimentacaoN:Rt.idFinanceiroMovimentacaoAgrupamento}).toArray();case 516:if(jt=e.sent,zt=(jt.find(function(e){return e.idFinanceiroCheque})||{}).idFinanceiroCheque,!zt){e.next=523;break}return e.next=521,He().financeiroTitulo.get(zt);case 521:Bt=e.sent,Bt.id&&wt.push(Bt);case 523:yt.push.apply(yt,la()(jt));case 524:Ot++,e.next=505;break;case 527:Lt=!0,Vt=!1,Ut=void 0,e.prev=530,Ht=v.carnes[Symbol.iterator]();case 532:if(Lt=(Qt=Ht.next()).done){e.next=553;break}if(Gt=Qt.value,Gt.id){e.next=536;break}return e.abrupt("continue",550);case 536:return e.next=538,He().financeiroTitulo.get(Gt.id);case 538:if(Gt=e.sent,(Gt||{}).idFinanceiroMovimentacaoAgrupamento){e.next=541;break}return e.abrupt("continue",550);case 541:return Jt=void 0,Xt=void 0,e.next=544,He().financeiroMovimentacao.where({idFinanceiroMovimentacaoN:Gt.idFinanceiroMovimentacaoAgrupamento}).toArray();case 544:return Jt=e.sent,e.next=547,He().financeiroRenegociacao.where({idFinanceiroMovimentacaoN:Gt.idFinanceiroMovimentacaoAgrupamento}).toArray();case 547:Xt=e.sent,yt.push.apply(yt,la()(Jt)),Nt.push.apply(Nt,la()(Xt));case 550:Lt=!0,e.next=532;break;case 553:e.next=559;break;case 555:e.prev=555,e.t15=e["catch"](530),Vt=!0,Ut=e.t15;case 559:e.prev=559,e.prev=560,Lt||null==Ht.return||Ht.return();case 562:if(e.prev=562,!Vt){e.next=565;break}throw Ut;case 565:return e.finish(562);case 566:return e.finish(559);case 567:return e.next=569,Zn.financeiroTitulo.remove(wt);case 569:return e.next=571,Zn.financeiroMovimentacao.remove(yt);case 571:return e.next=573,Zn.financeiroRenegociacao.remove(Nt);case 573:e.next=607;break;case 575:return e.next=577,Zn.financeiroTitulo.remove(S.filter(function(e){return!(e.carne&&e.idFatura===a.id)}));case 577:return e.next=579,Zn.financeiroMovimentacao.remove(I);case 579:return e.next=581,Zn.financeiroRenegociacao.remove(F);case 581:Wt=!0,Zt=!1,Kt=void 0,e.prev=584,ea=S.filter(function(e){return e.carne&&e.idFatura===a.id})[Symbol.iterator]();case 586:if(Wt=(ta=ea.next()).done){e.next=593;break}return aa=ta.value,e.next=590,Zn.financeiroTitulo.grava({original:aa,atual:{valorRealizado:0,receberPagar:1,dataPagamento:""}});case 590:Wt=!0,e.next=586;break;case 593:e.next=599;break;case 595:e.prev=595,e.t16=e["catch"](584),Zt=!0,Kt=e.t16;case 599:e.prev=599,e.prev=600,Wt||null==ea.return||ea.return();case 602:if(e.prev=602,!Zt){e.next=605;break}throw Kt;case 605:return e.finish(602);case 606:return e.finish(599);case 607:return e.next=609,v.salvarFatura();case 609:return t?v.$q.notifyPositive("Fatura corrigida."):v.$q.notifyPositive("Fatura reaberta."),e.abrupt("return",{v:!0});case 611:case"end":return e.stop()}},e,null,[[11,30,34,44],[35,,39,43],[50,65,69,77],[70,,72,76],[85,189,193,201],[116,161,165,173],[130,142,146,154],[147,,149,153],[166,,168,172],[194,,196,200],[215,257,261,269],[227,240,244,252],[245,,247,251],[262,,264,268],[273,283,287,295],[288,,290,294],[301,320,324,332],[325,,327,331],[351,364,368,376],[369,,371,375],[382,395,399,407],[400,,402,406],[425,429,433,441],[434,,436,440],[444,448,452,460],[453,,455,459],[476,492,496,504],[497,,499,503],[530,555,559,567],[560,,562,566],[584,595,599,607],[600,,602,606]])})(),"t1",24);case 24:if(p=e.t1,"object"!==Mt()(p)){e.next=27;break}return e.abrupt("return",p.v);case 27:e.next=33;break;case 29:e.prev=29,e.t2=e["catch"](22),this.$q.notify("Não foi possível reabrir a fatura."),this.$q.loading.hide();case 33:return e.prev=33,this.$q.loading.hide(),e.finish(33);case 36:case"end":return e.stop()}},e,this,[[14,19],[22,29,33,36]])}));return function(t){return e.apply(this,arguments)}}(),corrigir:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$refs.faturamento.condicaoPagamentoOriginal,a=this.$refs.faturamento.condicaoPagamento,i=dt(this.fatura.totalDocumento||0),o=dt(a.reduce(function(e,t){return e+t.valor||0},0)),o===i){e.next=7;break}return this.$q.notify("Total das condições de pagamento difere do total da fatura"),e.abrupt("return");case 7:if(!t.length){e.next=40;break}r=!1,a.length||(r=!0),s=!0,n=!1,c=void 0,e.prev=13,l=function(){var e=u.value;if(!t.find(function(t){return t.id===e.id}))return r=!0,"break"},d=a[Symbol.iterator]();case 16:if(s=(u=d.next()).done){e.next=23;break}if(m=l(),"break"!==m){e.next=20;break}return e.abrupt("break",23);case 20:s=!0,e.next=16;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](13),n=!0,c=e.t0;case 29:e.prev=29,e.prev=30,s||null==d.return||d.return();case 32:if(e.prev=32,!n){e.next=35;break}throw c;case 35:return e.finish(32);case 36:return e.finish(29);case 37:if(r){e.next=40;break}return this.$q.notify("Não há correção a ser realizada"),e.abrupt("return");case 40:return e.prev=40,e.next=43,this.$q.dialog({cancel:"Cancelar",message:"Esta ação irá corrigir esta fatura.",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 43:return e.next=45,this.reabrir(!0);case 45:return e.abrupt("return",!0);case 48:return e.prev=48,e.t1=e["catch"](40),e.abrupt("return",!1);case 51:case"end":return e.stop()}},e,this,[[13,25,29,37],[30,,32,36],[40,48]])}));return function(){return e.apply(this,arguments)}}(),salvarFatura:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(a in e.prev=0,this.$q.loading.show({message:"Processando..."}),t=Yt(this.$refs.faturamento.condicaoPagamento.filter(function(e){return e.valor})),t)delete t[a].idDocumentoCondicaoPagamento,delete t[a].parcelas,delete t[a].formaPagamento,delete t[a].edicao,delete t[a].codigoDocumento,delete t[a].codigoDocumentoCaixa;return this.fatura.observacaoFaturamento=this.$refs.faturamento.observacaoFaturamento,o=(this.carnesOriginal||[]).filter(function(e){return(r.financeiroTitulo||[]).find(function(t){return t.id===e.id})}),e.next=8,Zn.fatura.grava({faturaOriginal:this.faturaOriginal,fatura:this.fatura,vendasOriginal:this.vendasOriginal,vendas:this.vendas,envelopesOriginal:this.envelopesOriginal,envelopes:this.envelopes,documentoItensOriginal:this.documentoItensOriginal,documentoItens:this.documentoItens,condicaoPagamentoOriginal:this.$refs.faturamento.condicaoPagamentoOriginal,condicaoPagamento:t,documentoStatus:this.documentoStatus,financeiroTitulo:this.financeiroTitulo,financeiroTituloOriginal:o,financeiroMovimentacao:this.financeiroMovimentacao,financeiroRenegociacao:this.financeiroRenegociacao});case 8:if(!this.receberTitulo.id){e.next=13;break}if(i=this.carnes.find(function(e){return e.id===r.receberTitulo.id}),!i.id){e.next=13;break}return e.next=13,Zn.financeiroTitulo.grava({original:i,atual:{idFatura:this.fatura.id}});case 13:e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](0),this.$q.notify("Não foi possível salvar a fatura."),this.$q.loading.hide();case 19:return e.prev=19,this.$q.loading.hide(),e.finish(19);case 22:case"end":return e.stop()}},e,this,[[0,15,19,22]])}));return function(){return e.apply(this,arguments)}}()},mixins:[Hp],props:{prop:{default:function(){return{}},required:!0,type:Object},receberTitulo:{default:function(){return{}},type:Object}},watch:{prop:function(){this.atualizar()}},mounted:function(){this.sistemaPai=co(),this.atualizar()}},ab=tb,ob=(a("455e"),Object(sc["a"])(ab,Jp,Xp,!1,null,"661e00cf",null));ob.options.__file="Fatura.vue";var ib=ob.exports,rb={components:{Fatura:ib},computed:{},data:function(){return{fatura:{},visibilidade:{modal:!1,botao:{finalizar:!1,reabrir:!1,corrigir:!1}},carregando:!0,temPermissaoCorrigir:!1,emitirAoFechar:""}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t={},!this.id){e.next=5;break}return e.next=4,Zn.documento.le({id:this.id});case 4:t=e.sent;case 5:this.fatura=t,this.verificarPermissoes(),this.visibilidade.modal=!0;case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),executar:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.t0=t,e.next="finalizar"===e.t0?3:"reabrir"===e.t0?8:"retornarOrcamento"===e.t0?15:"remover"===e.t0?15:19;break;case 3:return e.next=5,this.$refs.fatura.finalizar();case 5:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("break",19);case 8:return e.next=10,this.$refs.fatura.reabrir();case 10:if(!e.sent){e.next=14;break}return e.next=13,this.atualizar();case 13:this.$emit("executar",t);case 14:return e.abrupt("return");case 15:return e.next=17,this.atualizar();case 17:return this.emitirAoFechar=t,e.abrupt("return");case 19:this.$emit("executar",t),this.fechar();case 21:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),fechar:function(){this.fatura={},this.carregando=!0,this.visibilidade={modal:!1,botao:{finalizar:!1,reabrir:!1,corrigir:!1}},this.$emit("executar",this.emitirAoFechar)},mostrar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xa(500);case 2:this.carregando=!1;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),salvar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$q.dialog({cancel:"Cancelar",message:"Esta ação irá salvar esta fatura.",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return");case 8:return e.next=10,this.$refs.fatura.salvarFatura();case 10:this.$emit("executar","atualizar"),this.fechar();case 12:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}(),corrigir:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.fatura.corrigir();case 2:if(!e.sent){e.next=5;break}this.$emit("executar","atualizar"),this.fechar();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),verificarPermissoes:function(){var e=this;Zn.permissao.objeto("caixa/tesouraria").then(function(t){e.temPermissaoCorrigir=t}).catch(function(){e.temPermissaoCorrigir=!1})}},props:{id:{default:"",type:String},receberTitulo:{default:function(){return{}},type:Object},value:{default:!1,required:!0,type:Boolean}},watch:{fatura:function(e){this.visibilidade.botao.finalizar=!1,this.visibilidade.botao.reabrir=!1,this.visibilidade.botao.salvar=!1,"Aberta"===e.status&&(this.visibilidade.botao.salvar=!0),"Finalizada"!==e.status&&(this.visibilidade.botao.finalizar=!0),"Finalizada"===e.status&&(this.visibilidade.botao.reabrir=!0)},value:function(e){e&&this.atualizar()},"visibilidade.modal":function(e){this.$emit("input",e)}}},sb=rb,nb=(a("6622"),Object(sc["a"])(sb,Qp,Gp,!1,null,"4ebae790",null));nb.options.__file="FaturaModal.vue";var cb=nb.exports,lb={components:{Avatar:Fc,Badge:Bd,DocumentosFiscais:Up,FaturaModal:cb,ModalHistoricoStatus:Nv},computed:{config:function(){return Zn.configuracoes.valores},mostrarOpcaoEmitirBoleto:function(){return(this.modalBoleto.condicoesPagamento||[]).length&&(this.modalBoleto.bancos||[]).length},mostrarOpcaoRemoverFatura:function(){return"Aberta"===this.dados.fatura.status&&!this.dados.carnes.length&&!this.dados.condicaoPagamento.length&&!this.dados.vendas.length},ativarBotaoEmissaoBoleto:function(){var e=Number(this.modalBoleto.codigoFinanceiroBanco);return Number.isInteger(e)&&e&&this.modalBoleto.condicoesPagamento.find(function(e){return e.checked})}},data:function(){return{dbUsuario:Zn.usuario,dados:{fatura:{}},contatos:{},faturaVisivel:!1,detalhesVisivel:!1,sistemaPai:"",configImpressaoCarne:[],configImpressaoConvenio:[],configImpressaoFatura:[],configImpressaoEnvelope:[],modalBoleto:{},podeEditar:!1}},methods:{removerFatura:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$q.dialog({cancel:"Cancelar",message:"Esta ação irá remover esta fatura.",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return");case 8:if(!this.dados.fatura.id){e.next=14;break}return e.next=11,Zn.fatura.remover(this.dados.fatura.id);case 11:this.$emit("executar","atualizar"),e.next=15;break;case 14:this.$q.notify("Não foi possível realizar a operação");case 15:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}(),abrirModalBoleto:function(){var e=this,t=!0,a=!1,o=void 0;try{for(var i,r=this.modalBoleto.condicoesPagamento[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var s=i.value;s.checked=!1,s.disable=!0,s.codigoFinanceiroBoleto="",s.codigoFinanceiroTitulo="",s.banco={}}}catch(e){a=!0,o=e}finally{try{t||null==r.return||r.return()}finally{if(a)throw o}}this.modalBoleto.checked=!1,this.modalBoleto.codigoFinanceiroBanco=this.modalBoleto.bancos[0].value,this.modalBoleto.ativo=!0,this.$nextTick().then(function(){e.modalBoleto.visivel=!0,e.atualizarBoletos()})},alternarCheckboxModalBoleto:function(e){var t=this;"todos"!==e?this.modalBoleto.checked=!this.modalBoleto.condicoesPagamento.find(function(e){return!e.checked}):this.modalBoleto.condicoesPagamento.forEach(function(e){e.checked=t.modalBoleto.checked})},atualizarBoletos:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i=this.modalBoleto.condicoesPagamento,o=i.reduce(function(e,t){return e+"'"+t.idFinanceiroTitulo+"',"},""),o=o.slice(0,o.length-1),t="select\n        fTitulo.id,\n        fTitulo.codigoFinanceiroTitulo,\n        fBoleto.codigoFinanceiroBoleto,\n        fBoleto.dataEmissao,\n        b.descricao,\n        fBanco.agencia,\n        fBanco.conta,\n        b.arquivoBoleto\n      from financeiroTitulo fTitulo\n      left join financeiroBoleto fBoleto on fBoleto.codigoFinanceiroBoleto = fTitulo.codigoFinanceiroBoleto\n      left join financeiroBanco fBanco on fBanco.CodigoFinanceiroBanco = fBoleto.codigoFinanceiroBanco\n      left join _banco b on b.codigoBanco = fBanco.codigoBanco\n      where fTitulo.id in (".concat(o,")"),this.cancelarAtualizarBoletos=!1,r=0;case 6:return e.prev=6,e.next=9,jo(t);case 9:a=e.sent,r=0,e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](6),a=[],++r%3===0&&this.$q.notifyError(e.t0.message);case 17:for(s=!0,n=!1,c=void 0,e.prev=20,l=function(){var e=u.value,t=i.find(function(t){return t.idFinanceiroTitulo===e.id});t&&(e.codigoFinanceiroBoleto&&(t.codigoFinanceiroBoleto=e.codigoFinanceiroBoleto,t.banco={descricao:e.descricao,dataEmissao:e.dataEmissao,agencia:e.agencia,conta:e.conta,arquivoBoleto:e.arquivoBoleto}),e.codigoFinanceiroTitulo&&(t.codigoFinanceiroTitulo=e.codigoFinanceiroTitulo,t.disable=!1))},d=a[Symbol.iterator]();!(s=(u=d.next()).done);s=!0)l();e.next=29;break;case 25:e.prev=25,e.t1=e["catch"](20),n=!0,c=e.t1;case 29:e.prev=29,e.prev=30,s||null==d.return||d.return();case 32:if(e.prev=32,!n){e.next=35;break}throw c;case 35:return e.finish(32);case 36:return e.finish(29);case 37:if(a.length!==i.length&&!this.cancelarAtualizarBoletos){e.next=39;break}return e.abrupt("break",42);case 39:return e.next=41,xa(5e3);case 41:e.next=6;break;case 42:case"end":return e.stop()}},e,this,[[6,13],[20,25,29,37],[30,,32,36]])}));return function(){return e.apply(this,arguments)}}(),atualizarModalBoleto:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.modalBoleto={ativo:!1,visivel:!1,loading:!1,codigoFinanceiroBanco:"",condicoesPagamento:[],bancos:[]},t=[],e.next=4,He().formaPagamento.toArray();case 4:return a=e.sent,e.next=7,He().documentoCondicaoPagamento.where({idDocumento:this.dados.fatura.id}).each(function(e){var o=a.find(function(t){return t.id===e.idFormaPagamento&&99===t.tipo&&"Título em aberto"===t.tipoFinanceiro});o&&t.push({dataVencimento:e.dataVencimento,descricao:o.descricao,idFinanceiroTitulo:e.idFinanceiroTitulo,codigoFinanceiroBoleto:"",checked:!1,disable:!0,valor:e.valor})});case 7:if(t.length){e.next=9;break}return e.abrupt("return");case 9:return o=[],e.next=12,He().financeiroBanco.each(function(e){e.ativo&&o.push(e)});case 12:return i=la()(new Set(o.map(function(e){return e.codigoBanco}))),r=[],e.next=16,He()._banco.each(function(e){i.find(function(t){return t===e.codigoBanco})&&r.push(e)});case 16:this.modalBoleto.condicoesPagamento=Object(ot["orderBy"])(t,"dataVencimento","asc"),s=[],n=function(){var e=o[c],t=r.find(function(t){return t.codigoBanco===e.codigoBanco})||{};if(!t)return"continue";var a=(t.descricao||"").trim(),i=(e.agencia||"").trim(),n=(e.conta||"").trim();if(!t.arquivoBoleto||!a||!i||!n)return"continue";var l=a+" - Ag. "+i+" C/C "+n;s.push({arquivoBoleto:t.arquivoBoleto,label:l,value:e.codigoFinanceiroBanco})},c=0;case 20:if(!(c<o.length)){e.next=27;break}if(l=n(),"continue"!==l){e.next=24;break}return e.abrupt("continue",24);case 24:c++,e.next=20;break;case 27:s.length&&(this.modalBoleto.codigoFinanceiroBanco=s[0].value,this.modalBoleto.bancos=s);case 28:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),fecharModalBoleto:function(){var e=this;this.cancelarAtualizarBoletos=!0,this.cancelarEmitirBoletos=!0,this.modalBoleto.visivel=!1,this.$nextTick().then(function(){e.modalBoleto.avito=!1})},emitirImprimirBoleto:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w,y,N=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.modalBoleto.loading=!0,i={},r=[],o=this.modalBoleto.condicoesPagamento.filter(function(e){return e.checked}),s=!0,n=!1,c=void 0,e.prev=6,l=o[Symbol.iterator]();case 8:if(s=(d=l.next()).done){e.next=20;break}if(u=d.value,!u.codigoFinanceiroBoleto||!(u.banco||{}).arquivoBoleto){e.next=16;break}if(i[u.banco.arquivoBoleto]){e.next=14;break}return i[u.banco.arquivoBoleto]=[u.codigoFinanceiroBoleto],e.abrupt("continue",17);case 14:return i[u.banco.arquivoBoleto].push(u.codigoFinanceiroBoleto),e.abrupt("continue",17);case 16:r.push(u.codigoFinanceiroTitulo);case 17:s=!0,e.next=8;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e["catch"](6),n=!0,c=e.t0;case 26:e.prev=26,e.prev=27,s||null==l.return||l.return();case 29:if(e.prev=29,!n){e.next=32;break}throw c;case 32:return e.finish(29);case 33:return e.finish(26);case 34:if(!r.length||!this.modalBoleto.codigoFinanceiroBanco){e.next=89;break}if(this.cancelarEmitirBoletos=!1,h=0,f=0,C=(this.modalBoleto.bancos.find(function(e){return e.value===N.modalBoleto.codigoFinanceiroBanco})||{}).arquivoBoleto,C){e.next=41;break}return this.$q.notifyError("Arquivo boleto não encontrado"),e.abrupt("return");case 41:t="sp_financeiro_boletoEmitir ".concat(this.modalBoleto.codigoFinanceiroBanco,", '").concat(r.join(","),"'");case 42:if(!this.cancelarEmitirBoletos){e.next=44;break}return e.abrupt("break",89);case 44:return e.prev=44,e.next=47,jo(t);case 47:a=e.sent,h=0,e.next=55;break;case 51:e.prev=51,e.t1=e["catch"](44),a=[],++h%3===0&&this.$q.notifyError(e.t1.message);case 55:if(m=(a||[])[0],p=((m||{}).Msg||"").trim(),v=((m||{}).Retorno||"").trim(),"Boleto Gerado com sucesso!"!==p||!v){e.next=85;break}if(b=v.substring(0,v.length-1).split(","),i[C]){e.next=63;break}return i[C]=b,e.abrupt("break",89);case 63:for(g=!0,x=!1,_=void 0,e.prev=66,q=b[Symbol.iterator]();!(g=(S=q.next()).done);g=!0)I=S.value,i[C].push(I);e.next=74;break;case 70:e.prev=70,e.t2=e["catch"](66),x=!0,_=e.t2;case 74:e.prev=74,e.prev=75,g||null==q.return||q.return();case 77:if(e.prev=77,!x){e.next=80;break}throw _;case 80:return e.finish(77);case 81:return e.finish(74);case 82:return e.abrupt("break",89);case 85:++f%3===0&&this.$q.notifyError(p);case 86:return e.next=88,xa(5e3);case 88:e.next=42;break;case 89:for(w in F=JSON.parse(localStorage.getItem("clienteSistema"))||{},i)y=void 0,y="https://rel.storage.b15.com.br/Relatorios/"+w+".html?",y+="CodigoFinanceiroBoleto="+i[w].join(","),y+="&Banco="+F.bancoDeDados,y+="&URLServidor="+F.urlServidor,window.open(y);return e.next=93,this.atualizarBoletos();case 93:this.modalBoleto.loading=!1;case 94:case"end":return e.stop()}},e,this,[[6,22,26,34],[27,,29,33],[44,51],[66,70,74,82],[75,,77,81]])}));return function(){return e.apply(this,arguments)}}(),alternarDetalhes:function(){this.detalhesVisivel=!this.detalhesVisivel},atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.fatura.leCompleto(this.id);case 2:return t=e.sent,t.vendas.sort(function(e,t){return new Date(e.dataHoraFinalizado)<new Date(t.dataHoraFinalizado)?-1:1}),t.carnes.sort(function(e,t){return new Date(e.dataVencimento)<new Date(t.dataVencimento)?-1:1}),e.next=7,t.vendas.reduce(function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t[a.idContatoVendedor]){e.next=4;break}return e.next=3,Zn.contato.le({id:a.idContatoVendedor});case 3:t[a.idContatoVendedor]=e.sent;case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),{});case 7:if(a=e.sent,!t.fatura.idContato){e.next=14;break}if(o=t.fatura.idContato,a[o]){e.next=14;break}return e.next=13,Zn.contato.le({id:o});case 13:a[o]=e.sent;case 14:return this.configuraImpressaoCarne(t.fatura.idEmpresa),this.configuraImpressaoConvenio(t.fatura.idEmpresa),this.configuraImpressaoEnvelope(t.fatura.idEmpresa),this.configuraImpressaoFatura(t.fatura.idEmpresa),this.contatos=a,this.dados=t,this.atualizarModalBoleto(),this.condicaoPagamento=t.condicaoPagamento,this.resumeCondicaoPagamento(),e.next=25,Zn.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);case 25:i=e.sent,this.podeEditar=!1,i.find(function(e){return e.id===t.fatura.idEmpresa})&&(this.podeEditar=!0),this.$nextTick(function(){t.fatura.id===localStorage.getItem("idFatura")&&(r.faturaVisivel=r.podeEditar,localStorage.removeItem("idFatura"))});case 29:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),copiarUid:function(){var e=this.$refs.uid;e.type="text";try{e.select(),document.execCommand("copy"),this.$q.notify({message:"UID copiado para a área de transferência.",type:"info"})}catch(e){this.$q.notify("Erro ao copiar.")}e.type="hidden",window.getSelection().removeAllRanges()},configuraImpressaoConvenio:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.configuracoes.porNome("impressao.convenio",t);case 2:a=e.sent,this.configImpressaoConvenio=la()(a.length?a.map(function(e){return at()({texto:"Imprimir Convênio"},e)}):[{valor:"convenio",texto:"Imprimir Convênio"}]);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),configuraImpressaoCarne:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.configuracoes.porNome("impressao.carne",t);case 2:a=e.sent,this.configImpressaoCarne=la()(a.length?a.map(function(e){return at()({texto:"Imprimir Carnê"},e)}):[{valor:"carne-crediario",texto:"Reimprimir carnê e notas promissórias da fatura"}]);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),configuraImpressaoEnvelope:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.configuracoes.porNome("impressao.envelope",t);case 2:a=e.sent,this.configImpressaoEnvelope=la()(a.length?a.map(function(e){return at()({texto:"Imprimir Envelope"},e)}):[{valor:"envelope",texto:"Imprimir Envelope"},{valor:"envelopeMini",texto:"Imprimir Envelope Mini"}]);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),configuraImpressaoFatura:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.configuracoes.porNome("impressao.fatura",t);case 2:a=e.sent,this.configImpressaoFatura=la()(a.length?a.map(function(e){return at()({texto:"Imprimir Fatura"},e)}):[{valor:"invoice",texto:"Fatura (Invoice)"},{valor:"fatura-recibo",texto:"Recibo"}]);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),editar:function(){this.faturaVisivel=!0},executar:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.t0=t,e.next="atualizar"===e.t0?3:"finalizar"===e.t0?3:"retornarOrcamento"===e.t0?3:"remover"===e.t0?3:5;break;case 3:return this.$emit("executar","atualizar"),e.abrupt("return");case 5:return e.next=7,this.atualizar();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},mixins:[dv,Hp],props:{id:{required:!0,type:String}},mounted:function(){this.sistemaPai=co(),this.atualizar()}},db=lb,ub=(a("9b9d"),Object(sc["a"])(db,Zm,Km,!1,null,"148bce23",null));ub.options.__file="FaturaCard.vue";var mb=ub.exports,pb={components:{Campo:Sl,CaixaAbrir:nm,CaixaConferencia:pm,CaixaFechar:gm,CaixaTransferencia:Fm,CaixaSangriaLancar:Pm,CaixaSuprimentoLancar:$m,CaixaDespesaLancar:Wm,FaturaCard:mb,VendaCard:eb},data:function(){var e=this;return{idDocumentoCaixa:"",caixas:[],vendas:{},faturas:{},totalEmpresasPermitidas:[],intervaloAtualizar:void 0,intervaloCarregaCaixas:void 0,modalCaixaAbrir:!1,modalCaixaConferencia:!1,modalCaixaTransferencia:!1,modalCaixaSangriaLancar:!1,modalCaixaSuprimentoLancar:!1,modalCaixaDespesaLancar:!1,modalCaixaFechar:!1,tituloCaixaTransferencia:"",menuFaturamento:[{icone:"lock_open",rotulo:"Abrir caixa",manipulador:function(){e.modalCaixaAbrir=!0}},{icone:"attach_money",rotulo:"Suprimento",manipulador:function(){e.modalCaixaSuprimentoLancar=!0}},{icone:"money_off",rotulo:"Sangria",manipulador:function(){e.modalCaixaSangriaLancar=!0}},{icone:"payment",rotulo:"Despesa",manipulador:function(){e.modalCaixaDespesaLancar=!0}},{icone:"lock",rotulo:"Fechar caixa",manipulador:function(){e.modalCaixaFechar=!0}}]}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=!this.menuFaturamento.find(function(e){return"Imprimir Conferência de caixa"===e.rotulo}),!e.t0){e.next=5;break}return e.next=4,Zn.permissao.objeto("Diretiva_Caixa_ImprimirConferenciaCaixa");case 4:e.t0=e.sent;case 5:if(!e.t0){e.next=7;break}this.menuFaturamento=la()(this.menuFaturamento).concat([{icone:"print",rotulo:"Imprimir Conferência de caixa",manipulador:function(){t.idDocumentoCaixa?t.imprimir("conferencia-de-caixa",t.idDocumentoCaixa):t.$q.notifyError("Caixa não selecionada")}}]);case 7:if(e.t1=!this.menuFaturamento.find(function(e){return"Reimprimir Conferência de caixa"===e.rotulo}),!e.t1){e.next=12;break}return e.next=11,Zn.permissao.objeto("Diretiva_Caixa_VisualizaDiferenca");case 11:e.t1=e.sent;case 12:if(!e.t1){e.next=14;break}this.menuFaturamento=la()(this.menuFaturamento).concat([{icone:"print",rotulo:"Reimprimir Conferência de caixa",manipulador:function(){t.modalCaixaConferencia=!0}}]);case 14:return this.vendas={},this.faturas={},this.idDocumentoCaixa="",this.caixas=[],e.next=20,this.carregaCaixas();case 20:this.idDocumentoCaixa=(this.caixas[0]||{}).valor||"",this.idDocumentoCaixa&&this.carregarDocumentos();case 22:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),carregaCaixas:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=Zn.usuario.logado.codigoContato,e.prev=1,e.next=4,Zn.permissao.objeto("Diretiva_Caixa_LivreUtilizacao");case 4:a=e.sent,a&&(t=""),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),this.$q.notify("Não foi possível recuperar informações de permissão.");case 11:return e.next=13,Zn.caixa.le({aberto:!0});case 13:return e.t1=function(e){return!t||e.codigoContato===t},o=e.sent.filter(e.t1),e.next=17,Zn.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);case 17:if(e.t2=function(e){return e.id},i=e.sent.map(e.t2),o=o.filter(function(e){return i.includes(e.idEmpresa)}),!o.length){e.next=60;break}r=!0,s=!1,n=void 0,e.prev=24,c=o[Symbol.iterator]();case 26:if(r=(l=c.next()).done){e.next=46;break}return d=l.value,e.next=30,Zn.caixa.le({id:d.idCaixa});case 30:if(e.t4=e.sent,e.t4){e.next=33;break}e.t4={};case 33:if(e.t3=e.t4.descricao,e.t3){e.next=36;break}e.t3="";case 36:e.t5=e.t3,e.t6=e.t5+" - Aberto em ",e.t7=this.$filters.dataHora(d.dataHoraEmissao),e.t8=e.t6+e.t7,e.t9="Reaberto"===d.status?" - Reaberto":"",d.rotulo=e.t8+e.t9,d.valor=d.id;case 43:r=!0,e.next=26;break;case 46:e.next=52;break;case 48:e.prev=48,e.t10=e["catch"](24),s=!0,n=e.t10;case 52:e.prev=52,e.prev=53,r||null==c.return||c.return();case 55:if(e.prev=55,!s){e.next=58;break}throw n;case 58:return e.finish(55);case 59:return e.finish(52);case 60:this.caixas=o.length?Object(ot["orderBy"])(o,"dataHoraEmissao","desc"):[{rotulo:"Não há caixas abertos",valor:""}];case 61:case"end":return e.stop()}},e,this,[[1,8],[24,48,52,60],[53,,55,59]])}));return function(){return e.apply(this,arguments)}}(),carregarDocumentos:function(){var e=this;Zn.documentoCondicaoPagamento.le({idDocumentoCaixa:this.idDocumentoCaixa}).then(function(){var t=Le()(regeneratorRuntime.mark(function t(a){var o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:o=[],a.reduce(function(e,t){return e.includes(t.idDocumento)||(e.push(t.idDocumento),o.push(Zn.documento.le({id:t.idDocumento}))),e},[]),i=[],r=!0,s=!1,t.prev=5,c=zi()(o);case 7:return t.next=9,c.next();case 9:return l=t.sent,r=l.done,t.next=13,l.value;case 13:if(d=t.sent,r){t.next=20;break}u=d,i.push(u);case 17:r=!0,t.next=7;break;case 20:t.next=26;break;case 22:t.prev=22,t.t0=t["catch"](5),s=!0,n=t.t0;case 26:if(t.prev=26,t.prev=27,r||null==c.return){t.next=31;break}return t.next=31,c.return();case 31:if(t.prev=31,!s){t.next=34;break}throw n;case 34:return t.finish(31);case 35:return t.finish(26);case 36:for(i=Object(ot["orderBy"])(i,"dataHoraEmissao","desc"),m={},p={},v=!0,h=!1,f=void 0,t.prev=42,C=i[Symbol.iterator]();!(v=(b=C.next()).done);v=!0)g=b.value,"Venda"===g.tipo&&g.status&&(m[g.status]||(m[g.status]=[]),m[g.status].push(g)),"Fatura"===g.tipo&&g.status&&(p[g.status]||(p[g.status]=[]),p[g.status].push(g));t.next=50;break;case 46:t.prev=46,t.t1=t["catch"](42),h=!0,f=t.t1;case 50:t.prev=50,t.prev=51,v||null==C.return||C.return();case 53:if(t.prev=53,!h){t.next=56;break}throw f;case 56:return t.finish(53);case 57:return t.finish(50);case 58:e.vendas=m,e.vendas.encontradas=!!Object.keys(m).length,e.vendas.status=Object.keys(m).filter(function(e){return"encontradas"!==e}),e.faturas=p,e.faturas.encontradas=!!Object.keys(p).length,e.faturas.status=Object.keys(p).filter(function(e){return"encontradas"!==e});case 64:case"end":return t.stop()}},t,null,[[5,22,26,36],[27,,31,35],[42,46,50,58],[51,,53,57]])}));return function(e){return t.apply(this,arguments)}}())}},mounted:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.caixas=[{rotulo:"Carregando caixas...",valor:""}],t=!1,e.next=4,Zn.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);case 4:a=e.sent,a.length?(this.atualizar(),t=!0):(o=0,this.intervaloAtualizar=setInterval(Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o++,(o>60||a.length)&&(clearInterval(n.intervaloAtualizar),n.atualizar(),t=!0),e.next=4,Zn.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);case 4:a=e.sent;case 5:case"end":return e.stop()}},e)})),1e3)),i=0,r=500,s=function e(){n.intervaloCarregaCaixas=setInterval(Le()(regeneratorRuntime.mark(function a(){var o;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(!t){a.next=11;break}return i++,i>5&&(r=5e3,clearInterval(n.intervaloCarregaCaixas),e()),a.next=5,n.carregaCaixas();case 5:if(o=n.caixas.find(function(e){return e.valor===n.idDocumentoCaixa}),o){a.next=11;break}if(n.idDocumentoCaixa=(n.caixas[0]||{}).valor||"",!n.idDocumentoCaixa){a.next=11;break}return a.next=11,n.carregarDocumentos();case 11:case"end":return a.stop()}},a)})),r)},s();case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),beforeDestroy:function(){this.intervaloAtualizar&&clearInterval(this.intervaloAtualizar),this.intervaloCarregaCaixas&&clearInterval(this.intervaloCarregaCaixas)}},vb=pb,hb=(a("3b28"),Object(sc["a"])(vb,em,tm,!1,null,"36fad9ec",null));hb.options.__file="CaixaEmpresas.vue";var fb=hb.exports,Cb=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"CaixaTesouraria"},[a("div",{staticClass:"q-pb-md"},[a("q-card",{staticClass:"shadow-3 row no-shadow"},[a("div",{staticClass:"col-12 q-pt-md"},[a("q-toolbar",{staticClass:"no-shadow q-pa-none",attrs:{"text-color":"black",color:"transparent"}},[a("q-toolbar-title",{staticClass:"q-pa-none"},[a("div",{staticClass:"filters row q-pa-sm q-ma-md gutter-x-sm bg-white",staticStyle:{"border-radius":"5px","min-height":"50px"}},[a("div",{staticClass:"col-12 col-md q-pl-none"},[a("div",{staticClass:"row "},[a("q-btn",{staticClass:"no-shadow",attrs:{icon:"filter_list",round:"",color:"faded"}}),a("q-chips-input",{staticClass:"col q-mx-sm",attrs:{color:"faded"},on:{input:e.filtrar},model:{value:e.termosPesquisa,callback:function(t){e.termosPesquisa=t},expression:"termosPesquisa"}})],1)]),a("div",{staticClass:"col-11 col-md"},[a("div",{staticClass:"row"},[a("label",{staticClass:"q-ma-sm"},[e._v("Abertura")]),a("campo",{attrs:{tipo:"data"},on:{input:e.filtrar},model:{value:e.dataIni,callback:function(t){e.dataIni=t},expression:"dataIni"}}),a("label",{staticClass:"q-ma-sm"},[e._v("até")]),a("campo",{attrs:{tipo:"data"},on:{input:e.filtrar},model:{value:e.dataFim,callback:function(t){e.dataFim=t},expression:"dataFim"}})],1)])])]),a("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"more_vert",color:"primary",size:"lg"}},[a("q-tooltip",[e._v("\n              Outras opções\n            ")])],1)],1)],1)]),a("div",{staticClass:"no-shadow"},[a("q-list",{staticClass:"no-border"},[a("q-collapsible",{attrs:{opened:"",label:"Aguardando Conferência"}},e._l(e.documentosCaixaConferencia,function(t){return a("div",{key:t.id},[a("caixa-card",{attrs:{documento:t},on:{atualizar:e.atualizar}})],1)}))],1),a("q-list",{staticClass:"no-border"},[a("q-collapsible",{attrs:{opened:"",label:"Fechado"}},e._l(e.documentosCaixaFechado,function(t){return a("div",{key:t.id},[a("caixa-card",{attrs:{documento:t},on:{atualizar:e.atualizar}})],1)}))],1)],1)],1)])},bb=[];Cb._withStripped=!0;var gb=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-mb-md"},[a("q-card",{staticClass:"extratoItem bg-white q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-6"},[a("div",{staticClass:"q-px-sm"},[a("avatar",{staticStyle:{float:"left"},attrs:{imagem:e.usuarioAbertura.imagem,rotulo:e.usuarioAbertura.nome,tamanho:"40"}}),a("q-toolbar-title",[a("div",[e._v("\n              "+e._s(e.usuarioAbertura.apelido)+"\n            ")]),a("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n              "+e._s(e.usuarioAbertura.nome)+"\n            ")])]),a("q-chip",{staticClass:"q-ma-sm q-my-sm",attrs:{rounded:"",color:"grey",small:""}},[e._v("\n            "+e._s(e.documento.status)+"\n          ")]),a("p",{staticClass:"q-mt-sm"},[a("q-toolbar-title",{staticClass:"q-mx-none q-mt-sm q-px-none"},[a("q-icon",{attrs:{name:"business"}}),e._v("\n              "+e._s(e.empresa.apelido)+"\n              "),a("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n                "+e._s(e.empresa.nome)+"\n              ")])],1)],1)],1)]),a("div",{staticClass:"col-12 col-lg-2"},[a("div",{staticClass:"q-px-sm"},[a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("\n            #"+e._s(parseInt(e.documento.numero)||(e.documento.id||"").slice(-6))+"\n          ")])],1)]),a("div",{staticClass:"col-3 col-lg-1"},[a("q-tooltip",[e._v("\n          Abertura\n        ")]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v(e._s(e._f("mesNome")(e.documento.dataHoraEmissao)))])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v(e._s(e._f("dia")(e.documento.dataHoraEmissao)))])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v(e._s(e._f("ano")(e.documento.dataHoraEmissao)))])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v(e._s(e._f("hora")(e.documento.dataHoraEmissao)))])])],1),a("div",{staticClass:"col-3 col-lg-1"},[e.documento.dataHoraFinalizado?a("q-tooltip",[e._v("\n          Fechamento\n        ")]):e._e(),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v(e._s(e._f("mesNome")(e.documento.dataHoraFinalizado)))])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v(e._s(e._f("dia")(e.documento.dataHoraFinalizado)))])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v(e._s(e._f("ano")(e.documento.dataHoraFinalizado)))])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v(e._s(e._f("hora")(e.documento.dataHoraFinalizado)))])])],1),a("div",{staticClass:"col-6 col-lg-2"},[a("dl",{staticClass:"float-right full-width q-mb-sm"},[a("dt",{staticClass:"text-right q-headline text-positive text-weight-bold"},[e.documento.totalDocumento?a("span",[e._v(e._s(e._f("numero")(e.documento.totalDocumento,2)))]):a("span",[e._v("-")]),a("p",{staticClass:"text-weight-normal text-tertiary q-body-1"},[e.documento.subTotal?a("span",[e._v(e._s(e._f("numero")(e.documento.subTotal,2)))]):a("span",[e._v("-")])])])]),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"edit",size:"md",color:"primary"},on:{click:e.abrirCaixaConferirModal}},[a("q-tooltip",[e._v("\n            Abrir conferência\n          ")])],1),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"print",size:"md",color:"primary"}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},[a("q-item",{nativeOn:{click:function(t){e.imprimir("fechamento-de-caixa",e.documento.id)}}},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:"Imprimir Fechamento"}})],1),a("q-item",{nativeOn:{click:function(t){e.imprimir("conferencia-de-caixa",e.documento.id)}}},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:"Imprimir Conferência"}})],1)],1)],1)],1)],1)])]),a("caixa-conferir",{attrs:{idDocumentoCaixa:e.documento.id},on:{executar:e.executar},model:{value:e.caixaConferirModal.visivel,callback:function(t){e.$set(e.caixaConferirModal,"visivel",t)},expression:"caixaConferirModal.visivel"}})],1)},xb=[];gb._withStripped=!0;var _b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{staticClass:"caixaconferir",attrs:{maximized:""},on:{hide:e.aoFecharModal},model:{value:e.visivel,callback:function(t){e.visivel=t},expression:"visivel"}},[a("q-modal-layout",{staticClass:"bg-light"},[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"}}),a("q-toolbar-title",[e._v("Conferir caixa")]),a("q-btn",{attrs:{dense:"",flat:"",icon:"print",round:""}})],1),a("div",{staticClass:"layout-padding",staticStyle:{"max-width":"1280px",padding:"0","padding-bottom":"53px"}},[a("div",{staticClass:"bg-white round-borders q-pa-md"},[a("div",{staticClass:"items-center row"},[a("div",{staticClass:"col-12 col-lg-8 text-faded"},[a("q-icon",{attrs:{name:"place"}}),e._v("\n            "+e._s(e.campos.caixaEmpresaNome)+"\n          ")],1),a("div",{staticClass:"Faturamento-historico col-12 col-lg-4 q-caption text-faded text-right"},[a("div",[e._v("\n              "+e._s(e._f("dataHora")(e.campos.dataHoraAbertura))+" "),a("q-icon",{attrs:{name:"calendar_today"}}),a("br"),e._v("\n              "+e._s(e.campos.nomeUsuarioAbertura)+" "),a("q-icon",{attrs:{name:"person"}})],1)])]),a("q-field",{staticClass:"row q-mb-sm"},[a("q-select",{staticStyle:{"white-space":"pre-wrap !important"},attrs:{"float-label":"Histórico",options:e.documentoStatus,filter:""},on:{input:e.preencherConferencia},model:{value:e.idDocumentoStatus,callback:function(t){e.idDocumentoStatus=t},expression:"idDocumentoStatus"}})],1),e.carregando?a("div",{staticClass:"q-mt-lg text-center"},[a("q-spinner",{attrs:{color:"faded",size:50}})],1):e._e(),e.carregando?e._e():a("div",[a("div",{staticClass:"row justify-around"},[a("div",{staticClass:"col-auto"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-center"},[e._v("\n                "+e._s(e._f("numero")(e.valorAberturaSistema,2))+"\n                "),a("q-tooltip",[e._v("Valor no sistema")])],1),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-center",class:e.cor("abertura")},[e._v("\n                "+e._s(e._f("numero")(e.documentoCaixa.valorAbertura,2))+"\n                "),a("q-tooltip",[e._v("Valor digitado pelo usuário")])],1),a("q-card-main",{staticClass:"q-pa-none text-tertiary text-center"},[e._v("\n                "+e._s(e._f("numero")(e.diferencaAbertura,2))+"\n                "),a("q-tooltip",[e._v("Diferença")])],1),a("q-card-main",{staticClass:"q-pa-none text-tertiary text-center"},[e._v("\n                Abertura\n              ")])],1),a("div",{staticClass:"col-auto"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-center"},[e._v(" ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-center",class:e.cor("fundo")},[e._v("\n                "+e._s(e._f("numero")(e.valorFechamento,2))+"\n                "),a("q-tooltip",[e._v("Valor digitado pelo usuário")])],1),a("q-card-main",{staticClass:"q-pa-none text-tertiary text-center"},[e._v(" ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary text-center"},[e._v("\n                Fechamento\n              ")])],1),e.acertoDinheiro?a("div",{staticClass:"col-auto"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-center"},[e._v(" ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-center text-warning"},[e._v("\n                "+e._s(e._f("numero")(e.acertoDinheiro,2))+"\n              ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary text-center"},[e._v(" ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary text-center"},[e._v("\n                Acerto\n              ")])],1):e._e(),a("div",{staticClass:"col-auto"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-center"},[e._v("\n                "+e._s(e._f("numero")(e.valorFundoCaixaSistema,2))+"\n                "),a("q-tooltip",[e._v("Valor no sistema")])],1),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-center",class:e.cor("fundo")},[e._v("\n                "+e._s(e._f("numero")(e.valorFundoCaixa,2))+"\n              ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary text-center"},[e._v("\n                "+e._s(e._f("numero")(e.diferencaFundo,2))+"\n                "),a("q-tooltip",[e._v("Diferença")])],1),a("q-card-main",{staticClass:"q-pa-none text-tertiary text-center"},[e._v("\n                Fundo Caixa\n              ")])],1)]),e.suprimentos.length?a("q-card",{staticClass:"itemOk q-mt-md"},[a("div",{staticClass:"q-pr-md q-pl-xs q-pt-md"},[a("div",{staticClass:"row"},[a("q-toolbar-title",[e._v("\n                  Suprimentos\n                ")]),a("div",{staticClass:"q-pa-xs"},[a("badge",{staticClass:"q-mr-sm",attrs:{cor:"primary",escuro:""}},[e._v("\n                    "+e._s(e.suprimentos.length)+"\n                  ")])],1),a("div",{staticClass:"text-right q-headline text-positive text-weight-bold q-mb-sm"},[e._v("\n                  "+e._s(e._f("numero")(e.totalSuprimentos,2))+"\n                ")])],1)]),a("q-card-actions",{staticClass:"content-center justify-center q-mt-lg"},[e.mostrarSuprimentos?a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{"margin-top":"-30px"},attrs:{outline:"",size:"sm",icon:"keyboard_arrow_up",color:"grey",label:"Ocultar Detalhes"},on:{click:function(t){e.mostrarSuprimentos=!e.mostrarSuprimentos}}}):e._e(),e.mostrarSuprimentos?e._e():a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{"margin-top":"-30px"},attrs:{outline:"",size:"sm",icon:"keyboard_arrow_down",color:"grey",label:"Ver Detalhes"},on:{click:function(t){e.mostrarSuprimentos=!e.mostrarSuprimentos}}})],1),e.mostrarSuprimentos?a("div",{staticClass:"q-px-md q-pb-md"},[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},e._l(e.suprimentos,function(t){return a("q-item",{key:t.id,staticClass:"row u-separador q-my-none q-pa-xs"},[a("div",{staticClass:"col-9 col-lg-10 q-pl-sm"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm"},[e._v("\n                        "+e._s((e.usuarios[t.idContato]||{}).nome||"Nome não encontrado")+"\n                      ")]),a("div",{staticClass:"col-12 col-sm "},[e._v("\n                        "+e._s(t.documentoTipo)+"\n                      ")]),a("div",{staticClass:"col-12 col-sm"},[e._v("\n                        "+e._s(e._f("numero")(t.valorDebito,2))+"\n                      ")]),a("div",{staticClass:"col-12 col-sm"},[e._v("\n                        "+e._s(e._f("dataHora")(t.dataMovimento))+"\n                      ")])])])])}))],1):e._e()],1):e._e(),e.despesas.length?a("q-card",{staticClass:"itemOk q-mt-md"},[a("div",{staticClass:"q-pr-md q-pl-xs q-pt-md"},[a("div",{staticClass:"row"},[a("q-toolbar-title",[e._v("\n                  Despesas\n                ")]),a("div",{staticClass:"q-pa-xs"},[a("badge",{staticClass:"q-mr-sm",attrs:{cor:"primary",escuro:""}},[e._v("\n                    "+e._s(e.despesas.length)+"\n                  ")])],1),a("div",{staticClass:"text-right q-headline text-positive text-weight-bold q-mb-sm"},[e._v("\n                  "+e._s(e._f("numero")(e.totalDespesas,2))+"\n                ")])],1)]),a("q-card-actions",{staticClass:"content-center justify-center q-mt-lg"},[e.mostrarDespesas?a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{"margin-top":"-30px"},attrs:{outline:"",size:"sm",icon:"keyboard_arrow_up",color:"grey",label:"Ocultar Detalhes"},on:{click:function(t){e.mostrarDespesas=!e.mostrarDespesas}}}):e._e(),e.mostrarDespesas?e._e():a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{"margin-top":"-30px"},attrs:{outline:"",size:"sm",icon:"keyboard_arrow_down",color:"grey",label:"Ver Detalhes"},on:{click:function(t){e.mostrarDespesas=!e.mostrarDespesas}}})],1),e.mostrarDespesas?a("div",{staticClass:"q-px-md q-pb-md"},[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},e._l(e.despesas,function(t){return a("q-item",{key:t.id,staticClass:"row u-separador q-my-none q-pa-xs"},[a("div",{staticClass:"col-9 col-lg-10 q-pl-sm"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm"},[e._v("\n                        "+e._s((e.contatos[t.idContato]||{}).nome||"Nome não encontrado")+"\n                      ")]),a("div",{staticClass:"col-12 col-sm "},[e._v("\n                        "+e._s(t.documentoTipo)+"\n                      ")]),a("div",{staticClass:"col-12 col-sm"},[e._v("\n                        "+e._s(e._f("numero")(t.valorRealizado,2))+"\n                      ")]),a("div",{staticClass:"col-12 col-sm"},[e._v("\n                        "+e._s(e._f("dataHora")(t.dataMovimento))+"\n                      ")])])])])}))],1):e._e()],1):e._e(),a("q-card",{staticClass:"itemOk q-my-md"},[a("div",{staticClass:"q-pr-md q-pl-xs q-pt-md"},[a("div",{staticClass:"row"},[a("q-toolbar-title",[e._v("\n                  Dinheiro\n                ")]),a("div",{staticClass:"q-pa-xs"},[a("badge",{staticClass:"q-mr-sm",attrs:{cor:"primary",escuro:""}},[e._v("\n                    "+e._s(e.dinheiro.length)+"\n                  ")])],1),a("div",{staticClass:"text-right q-headline text-positive text-weight-bold q-mb-sm"},[e._v("\n                  "+e._s(e._f("numero")((e.totaisFormasPagamento[(e.dinheiro[0]||{}).idFormaPagamento]||{}).totalSistema,2))+"\n                ")])],1)]),e.dinheiro.length?a("q-card-actions",{staticClass:"content-center justify-center q-mt-lg"},[e.mostrarDinheiro?a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{"margin-top":"-30px"},attrs:{outline:"",size:"sm",icon:"keyboard_arrow_up",color:"grey",label:"Ocultar Detalhes"},on:{click:function(t){e.mostrarDinheiro=!e.mostrarDinheiro}}}):e._e(),e.mostrarDinheiro?e._e():a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{"margin-top":"-30px"},attrs:{outline:"",size:"sm",icon:"keyboard_arrow_down",color:"grey",label:"Ver Detalhes"},on:{click:function(t){e.mostrarDinheiro=!e.mostrarDinheiro}}})],1):e._e(),e.mostrarDinheiro?a("div",{staticClass:"q-px-md q-pb-md"},[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},e._l(e.dinheiro,function(t){return a("q-item",{key:t.id,staticClass:"row u-separador q-my-none q-pa-xs"},[a("div",{staticClass:"col-9 col-lg-10 q-pl-sm"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm"},[e._v("\n                        "+e._s(e.documentos[t.idDocumento].descricaoContato)+"\n                        "),a("badge",{staticClass:"q-mx-sm",attrs:{cor:"primary",escuro:""}},[e._v("#"+e._s(e.documentos[t.idDocumento].numero))])],1),a("div",{staticClass:"col-12 col-sm "},[e._v("\n                        Dinheiro\n                      ")]),a("div",{staticClass:"col-12 col-sm"},[e._v("\n                        "+e._s(e._f("numero")(t.valor,2))+"\n                      ")]),a("div",{staticClass:"col-12 col-sm"},[e._v("\n                        "+e._s(e._f("data")(t.dataVencimento))+"\n                      ")])])])])}))],1):e._e()],1),e.sangrias.length?a("q-card",{staticClass:"itemOk q-my-md q-mb-xl"},[a("div",{staticClass:"q-pr-md q-pl-xs q-pt-md"},[a("div",{staticClass:"row"},[a("q-toolbar-title",[e._v("\n                  Sangrias\n                ")]),a("div",{staticClass:"q-pa-xs"},[a("badge",{staticClass:"q-mr-sm",attrs:{cor:"primary",escuro:""}},[e._v("\n                    "+e._s(e.sangrias.length)+"\n                  ")])],1),a("div",{staticClass:"text-right q-headline text-positive text-weight-bold q-mb-sm"},[e._v("\n                  "+e._s(e._f("numero")(e.totalSangrias,2))+"\n                ")])],1)]),a("q-card-actions",{staticClass:"content-center justify-center q-mt-lg"},[e.mostrarSangrias?a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{"margin-top":"-30px"},attrs:{outline:"",size:"sm",icon:"keyboard_arrow_up",color:"grey",label:"Ocultar Detalhes"},on:{click:function(t){e.mostrarSangrias=!e.mostrarSangrias}}}):e._e(),e.mostrarSangrias?e._e():a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{"margin-top":"-30px"},attrs:{outline:"",size:"sm",icon:"keyboard_arrow_down",color:"grey",label:"Ver Detalhes"},on:{click:function(t){e.mostrarSangrias=!e.mostrarSangrias}}})],1),e.mostrarSangrias?a("div",{staticClass:"q-px-md q-pb-md"},[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},e._l(e.sangrias,function(t){return a("q-item",{key:t.id,staticClass:"row u-separador q-my-none q-pa-xs"},[a("div",{staticClass:"col-9 col-lg-10 q-pl-sm"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm"},[e._v("\n                        "+e._s((e.usuarios[t.idContato]||{}).nome||"Nome não encontrado")+"\n                      ")]),a("div",{staticClass:"col-12 col-sm "},[e._v("\n                        "+e._s(t.documentoTipo)+"\n                      ")]),a("div",{staticClass:"col-12 col-sm"},[e._v("\n                        "+e._s(e._f("numero")(t.valorCredito,2))+"\n                      ")]),a("div",{staticClass:"col-12 col-sm"},[e._v("\n                        "+e._s(e._f("dataHora")(t.dataMovimento))+"\n                      ")])])])])}))],1):e._e()],1):e._e(),e.acertos.length||e.formasPagamento.filter(function(t){return 1!==t.tipo&&(e.outrasFormasPagamento[t.id]||(e.totaisFormasPagamento[t.id]||{}).totalInformadoUsuario)}).length?a("div",{staticClass:"q-title"},[e._v("\n            Outras formas de pagamento\n          ")]):e._e(),e.acertos.length?a("q-card",{staticClass:"itemWarning q-mt-md"},[a("div",{staticClass:"q-pr-md q-pl-xs q-pt-md"},[a("div",{staticClass:"row"},[a("q-toolbar-title",[e._v("\n                  Acertos\n                ")]),a("div",{staticClass:"text-right q-headline text-warning text-weight-bold q-mb-sm"},[e._v("\n                  "+e._s(e._f("numero")(e.totalAcertos,2))+"\n                ")])],1)]),a("div",{staticClass:"q-px-md q-pb-md"},[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},e._l(e.acertos,function(t,o){return a("q-item",{key:o,staticClass:"row u-separador q-my-none q-pa-xs"},[a("div",{staticClass:"col-9 col-lg-10 q-pl-sm"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm"},[e._v("\n                        "+e._s(t.descricao)+"\n                      ")]),a("div",{staticClass:"col-12 col-sm"},[e._v("\n                        "+e._s(e._f("numero")(t.valor,2))+"\n                      ")])])])])}))],1)]):e._e(),e._l(e.formasPagamento.filter(function(t){return 1!==t.tipo&&(e.outrasFormasPagamento[t.id]||(e.totaisFormasPagamento[t.id]||{}).totalInformadoUsuario)}),function(t){return a("q-card",{key:t.id,staticClass:"q-mt-md",class:e.cor("outraFormaPagamento","card",t.id)},[a("div",{staticClass:"q-pr-md q-pl-xs q-pt-md"},[a("div",{staticClass:"row"},[a("q-toolbar-title",[e._v("\n                  "+e._s(t.descricao)+"\n                ")]),a("div",{staticClass:"q-pa-xs"},[a("badge",{staticClass:"q-mr-sm",attrs:{cor:"primary",escuro:""}},[e._v("\n                    "+e._s(e.outrasFormasPagamento[t.id]?(e.outrasFormasPagamento[t.id]||[]).length:0)+"\n                  ")])],1),a("div",{staticClass:"text-right q-headline text-weight-bold q-mb-sm",class:e.cor("outraFormaPagamento","",t.id)},[a("span",[e._v("\n                    "+e._s(e._f("numero")((e.totaisFormasPagamento[t.id]||{}).totalInformadoUsuario,2))+"\n                    "),a("q-tooltip",[e._v("Digitado pelo usuário")])],1),a("p",{staticClass:"text-weight-normal text-tertiary q-body-1 q-pa-none q-ma-none"},[e._v("\n                    "+e._s(e._f("numero")((e.totaisFormasPagamento[t.id]||{}).totalSistema-(e.totaisFormasPagamento[t.id]||{}).totalInformadoUsuario,2))+"\n                    "),a("q-tooltip",[e._v("Diferença")])],1)])],1)]),e.outrasFormasPagamento[t.id]?a("q-card-actions",{staticClass:"content-center justify-center q-mt-lg"},[t.mostrar?a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{"margin-top":"-30px"},attrs:{outline:"",size:"sm",icon:"keyboard_arrow_up",color:"grey",label:"Ocultar Detalhes"},on:{click:function(e){t.mostrar=!t.mostrar}}}):e._e(),t.mostrar?e._e():a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{"margin-top":"-30px"},attrs:{outline:"",size:"sm",icon:"keyboard_arrow_down",color:"grey",label:"Ver Detalhes"},on:{click:function(e){t.mostrar=!t.mostrar}}})],1):e._e(),t.mostrar?a("div",{staticClass:"q-px-md q-pb-md"},[a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},e._l(e.outrasFormasPagamento[t.id],function(t){return a("q-item",{key:t.id,staticClass:"row u-separador q-my-none q-pa-xs"},[a("div",{staticClass:"col-9 col-lg-10 q-pl-sm"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm"},[e._v("\n                        "+e._s(e.documentos[t.idDocumento].descricaoContato)+"\n                        "),a("badge",{staticClass:"q-mx-sm",attrs:{cor:"primary",escuro:""}},[e._v("\n                          #"+e._s(e.documentos[t.idDocumento].id.slice(-6)))])],1),a("div",{staticClass:"col-12 col-sm"},[e._v("\n                        "+e._s(e._f("numero")(t.valor,2))+"\n                      ")]),a("div",{staticClass:"col-12 col-sm"},[e._v("\n                        "+e._s(e._f("data")(t.dataVencimento))+"\n                      ")])])])])}))],1):e._e()],1)})],2)],1)]),a("q-toolbar",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("q-toolbar-title",{staticClass:"text-right"},[e.visibilidade.botao.reabrir?a("q-btn",{attrs:{color:"negative",flat:"",label:"Reabrir"},on:{click:e.reabrir}}):e._e(),e.visibilidade.botao.finalizar?a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"primary",label:"finalizar"},on:{click:e.finalizar}}):e._e(),e.visibilidade.botao.fechar?a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"primary",label:"refechar caixa"},on:{click:e.fechar}}):e._e()],1)],1)],1),a("fatura-modal",{attrs:{id:e.faturaModal.id},model:{value:e.faturaModal.visivel,callback:function(t){e.$set(e.faturaModal,"visivel",t)},expression:"faturaModal.visivel"}}),a("venda-modal",{attrs:{id:e.vendaModal.id},model:{value:e.vendaModal.visivel,callback:function(t){e.$set(e.vendaModal,"visivel",t)},expression:"vendaModal.visivel"}}),a("caixa-fechar",{attrs:{idDocumentoCaixa:e.documentoCaixa.id},on:{fechado:e.atualizar},model:{value:e.caixaFecharModal,callback:function(t){e.caixaFecharModal=t},expression:"caixaFecharModal"}})],1)},qb=[];_b._withStripped=!0;var Sb={components:{Badge:Bd,CaixaFechar:gm,FaturaModal:cb,VendaModal:YC},data:function(){return{documentoCaixa:{},mostrarDinheiro:!1,idDocumentoStatus:"",documentoStatus:[],caixa:{},campos:{},dinheiro:{},acertoDinheiro:0,acertos:[],totalAcertos:0,totalDinheiro:0,formasPagamento:[],totaisFormasPagamento:{},outrasFormasPagamento:{},condicoesPagamentoFechamento:{},valorAberturaSistema:0,valorFundoCaixa:0,valorFundoCaixaSistema:0,valorFechamento:0,diferencaFundo:0,diferencaAbertura:0,contatos:{},usuarios:{},documentos:{},mostrarSangrias:!1,sangrias:[],totalSangrias:0,mostrarDespesas:!1,despesas:[],totalDespesas:0,mostrarSuprimentos:!1,suprimentos:[],totalSuprimentos:0,visivel:!1,edicao:!1,carregando:!0,faturaModal:{visivel:!1,id:""},vendaModal:{visivel:!1,id:""},caixaFecharModal:!1,visibilidade:{botao:{reabrir:!1,finalizar:!1}},atualizarAoFecharModal:!1}},methods:{aoFecharModal:function(){this.atualizarAoFecharModal&&this.$emit("executar","atualizar")},obterDivergencias:function(){var e=[],t=dt(this.diferencaAbertura-this.diferencaFundo);if(t){var a=this.formasPagamento.filter(function(e){return 1===e.tipo});a.length&&(a=a[0],e.push(at()({},a,{diferenca:t})))}var o=!0,i=!1,r=void 0;try{for(var s,n=this.formasPagamento.filter(function(e){return 1!==e.tipo&&"Título Liquidado"===e.tipoFinanceiro})[Symbol.iterator]();!(o=(s=n.next()).done);o=!0){var c=s.value,l=(this.totaisFormasPagamento[c.id]||{}).totalSistema||0,d=(this.totaisFormasPagamento[c.id]||{}).totalInformadoUsuario||0;t=dt(l-d),t&&e.push(at()({},c,{diferenca:t}))}}catch(e){i=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw r}}return e},cor:function(e,t,a){var o=(this.totaisFormasPagamento[a]||{}).totalSistema||0,i=(this.totaisFormasPagamento[a]||{}).totalInformadoUsuario||0,r=dt(o-i);if("card"===t){switch(e){case"outraFormaPagamento":if(r)return"itemError";break}return"itemOk"}switch(e){case"abertura":if(this.diferencaAbertura)return"text-negative";break;case"fundo":if(this.diferencaFundo)return"text-negative";break;case"outraFormaPagamento":if(r)return"text-negative";break}return"text-blue-8"},abrirModalDocumento:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.documento.le({id:t});case 2:a=e.sent,"Fatura"===a.tipo&&(this.faturaModal={visivel:!0,id:t}),"Venda"===a.tipo&&(this.vendaModal={visivel:!0,id:t});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.$q.loading.show({message:"Processando..."}),e.next=4,Zn.documento.le({id:this.idDocumentoCaixa});case 4:return this.documentoCaixa=e.sent,e.next=7,Zn.caixa.le({id:this.documentoCaixa.idCaixa});case 7:return this.caixa=e.sent,e.next=10,Zn.contato.le({id:this.documentoCaixa.idEmpresa});case 10:return t=e.sent,e.next=13,Zn.usuario.le({id:this.documentoCaixa.idContato});case 13:return a=e.sent,e.next=16,Zn.documentoStatus.le({idDocumento:this.documentoCaixa.id});case 16:o=e.sent,o=Object(ot["orderBy"])(o,"dataHoraEmissao","desc"),o.pop(),this.visibilidade={botao:{reabrir:!1,finalizar:!1,fechar:!1}},e.t0=o[0].statusFinalizado,e.next="Aguardando Conferência"===e.t0?23:"Reaberto"===e.t0?26:"Fechado"===e.t0?28:30;break;case 23:return this.visibilidade.botao.reabrir=!0,this.visibilidade.botao.finalizar=!0,e.abrupt("break",30);case 26:return this.visibilidade.botao.fechar=!0,e.abrupt("break",30);case 28:return this.visibilidade.botao.reabrir=!0,e.abrupt("break",30);case 30:i={},r=!0,s=!1,n=void 0,e.prev=34,c=o[Symbol.iterator]();case 36:if(r=(l=c.next()).done){e.next=45;break}if(d=l.value,i[d.idUsuarioAlterou]){e.next=42;break}return e.next=41,Zn.usuario.le({id:d.idUsuarioAlterou});case 41:i[d.idUsuarioAlterou]=e.sent;case 42:r=!0,e.next=36;break;case 45:e.next=51;break;case 47:e.prev=47,e.t1=e["catch"](34),s=!0,n=e.t1;case 51:e.prev=51,e.prev=52,r||null==c.return||c.return();case 54:if(e.prev=54,!s){e.next=57;break}throw n;case 57:return e.finish(54);case 58:return e.finish(51);case 59:return this.documentoStatus=o.map(function(e){return{label:"".concat(e.statusFinalizado," - ").concat(h.$filters.dataHora(e.dataHoraEmissao)," - ").concat(i[e.idUsuarioAlterou].nome),value:e.id,statusFinalizado:e.statusFinalizado}}),this.idDocumentoStatus=this.documentoStatus[0].value,this.campos.caixaEmpresaNome=t.nome,this.campos.dataHoraAbertura=this.documentoCaixa.dataHoraEmissao,this.campos.nomeUsuarioAbertura=a.nome,this.valorAberturaSistema=0,e.prev=65,u="select top 1 valorSaldo - valorDebito + valorCredito valorSaldo\n          from financeiroMovimentacao\n          where idDocumentoCaixa = ".concat(Vo(this.documentoCaixa.id),"\n          and idFinanceiroPlanoConta = ").concat(Vo(this.caixa.idPlanoConta),"\n          order by DataMovimento asc, ordem asc"),e.next=69,jo(u);case 69:if(m=e.sent,!m.length){e.next=74;break}this.valorAberturaSistema=dt(m[0].valorSaldo||0),e.next=79;break;case 74:return p="declare @codigoFinanceiroPlanoConta int = (select codigoFinanceiroPlanoConta from financeiroPlanoConta where id = ".concat(Vo(this.caixa.idPlanoConta),")\n              declare @codigoEmpresa int = (select codigoEmpresa from documento where id = ").concat(Vo(this.documentoCaixa.id),")\n              declare @dataAbertura varchar(10) = (select format(cast(dataHoraEmissao as date), 'dd/MM/yyyy') dataAbertura from documento where id = ").concat(Vo(this.documentoCaixa.id),")\n\n            if (@codigoFinanceiroPlanoConta is not null and @codigoEmpresa is not null and @dataAbertura is not null)\n            begin\n              exec sp_financeiroMovimentacao_calcula_saldoPeriodo @codigoFinanceiroPlanoConta, @codigoEmpresa, 'DataPagamento', @dataAbertura, @dataAbertura, 0\n            end"),e.next=77,jo(p);case 77:v=e.sent,v.length&&(this.valorAberturaSistema=dt(v[0].ValorSaldo||0));case 79:e.next=84;break;case 81:e.prev=81,e.t2=e["catch"](65),this.$q.notifyError("Não foi possível obter o saldo inicial do caixa.");case 84:this.diferencaAbertura=dt(((this.documentoCaixa||{}).valorAbertura||0)-this.valorAberturaSistema),this.$q.loading.hide(),this.visivel=!0,this.preencherConferencia(),e.next=93;break;case 90:e.prev=90,e.t3=e["catch"](0),this.$q.notifyError("Não foi possível abrir a conferência.",e.t3);case 93:return e.prev=93,this.$q.loading.hide(),e.finish(93);case 96:case"end":return e.stop()}},e,this,[[0,90,93,96],[34,47,51,59],[52,,54,58],[65,81]])}));return function(){return e.apply(this,arguments)}}(),fechar:function(){this.caixaFecharModal=!0},finalizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w,y,N,k,M;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=this.obterDivergencias(),a="Deseja finalizar a conferência?",o="Deseja finalizar a conferência e lançar movimentações financeiras para acertar as divergências?",e.prev=4,e.next=7,this.$q.dialog({cancel:"Cancelar",message:t.length?o:a,noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 7:this.$q.loading.show({message:"Processando..."}),e.next=13;break;case 10:return e.prev=10,e.t0=e["catch"](4),e.abrupt("return");case 13:if(i=na(),r=[],s=[],!t.length){e.next=53;break}return e.next=19,Zn.documentoStatus.le({idDocumento:this.documentoCaixa.id});case 19:return n=e.sent,n=n.filter(function(e){return"Fechamento Caixa"===e.operacao&&"Aguardando Conferência"===e.statusFinalizado&&"Aberto"===e.statusOriginal}),c=n.length?n[0].dataHoraEmissao:i,e.next=24,Zn.configuracoes.le({nome:"financeiro.planocontas.diferencacaixa"});case 24:if(l=e.sent,!l.length){e.next=31;break}if(d=parseInt(l[0].valor),!Number.isInteger(d)){e.next=31;break}return e.next=30,Zn.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:d});case 30:l=e.sent;case 31:if((l||{}).id){e.next=34;break}return this.$q.notify("Faltando parâmetro da conta Diferença de Caixa."),e.abrupt("return");case 34:for(u=!0,m=!1,p=void 0,e.prev=37,v=t[Symbol.iterator]();!(u=(h=v.next()).done);u=!0)f=h.value,C=hi(),s.push(C),r.push({id:hi(),idFinanceiroMovimentacaoN:C,idEmpresa:this.documentoCaixa.idEmpresa,idContato:Zn.usuario.logado.id,idFinanceiroPlanoConta:l.id,valorDebito:f.diferenca>0?f.diferenca:0,valorCredito:f.diferenca<0?Math.abs(f.diferenca):0,dataEmissao:i,dataCompetencia:c,dataVencimento:c,dataMovimento:c,descricao:"Acerto do caixa #".concat(this.documentoCaixa.id," Conta ").concat(f.descricao),observacao:"Transferência entre contas",documentoTipo:"Acerto",documentoId:this.documentoCaixa.id,idDocumentoCaixa:this.documentoCaixa.id}),r.push({id:hi(),idFinanceiroMovimentacaoN:C,idEmpresa:this.documentoCaixa.idEmpresa,idContato:Zn.usuario.logado.id,idFinanceiroPlanoConta:1===f.tipo?this.documentoCaixa.idFinanceiroPlanoContaCaixa:f.idFinanceiroPlanoConta,valorDebito:f.diferenca<0?Math.abs(f.diferenca):0,valorCredito:f.diferenca>0?f.diferenca:0,dataEmissao:i,dataCompetencia:c,dataVencimento:c,dataMovimento:c,descricao:"Acerto do caixa #".concat(this.documentoCaixa.id," Conta ").concat(f.descricao),observacao:"Transferência entre contas",documentoTipo:"Acerto",documentoId:this.documentoCaixa.id,idDocumentoCaixa:this.documentoCaixa.id});e.next=45;break;case 41:e.prev=41,e.t1=e["catch"](37),m=!0,p=e.t1;case 45:e.prev=45,e.prev=46,u||null==v.return||v.return();case 48:if(e.prev=48,!m){e.next=51;break}throw p;case 51:return e.finish(48);case 52:return e.finish(45);case 53:return b={id:hi(),idDocumento:this.documentoCaixa.id,operacao:"Conferência Finalizada",statusOriginal:"Aguardando Conferência",statusFinalizado:"Fechado",dataHoraEmissao:i,idUsuarioAlterou:Zn.usuario.logado.id,idDocumentoCaixa:this.documentoCaixa.id},g=Yt(this.documentoCaixa),g.status="Fechado",e.next=58,Zn.caixaConsolidacao2.le({idDocumentoStatus:this.documentoStatus[0].value});case 58:return x=e.sent,x=x.map(function(e){return at()({},e,{id:hi(),idDocumentoStatus:b.id,dataHoraEmissao:i})}),e.next=62,Zn.documento.grava({atual:g,original:this.documentoCaixa});case 62:return e.next=64,Zn.documentoStatus.grava({atual:b});case 64:_=0;case 65:if(!(_<s.length)){e.next=72;break}return q=s[_],e.next=69,Zn.financeiroMovimentacaoN.grava({atual:{id:q}});case 69:_++,e.next=65;break;case 72:S=0;case 73:if(!(S<r.length)){e.next=81;break}return I=r[S],x.push({id:hi(),idDocumentoCaixa:g.id,idDocumentoStatus:b.id,tabela:"financeiroMovimentacao",idTabela:I.id,json:JSON.stringify(I),dataHoraEmissao:i}),e.next=78,Zn.financeiroMovimentacao.grava({atual:I});case 78:S++,e.next=73;break;case 81:F=!0,w=!1,y=void 0,e.prev=84,N=x[Symbol.iterator]();case 86:if(F=(k=N.next()).done){e.next=93;break}return M=k.value,e.next=90,Zn.caixaConsolidacao2.grava({atual:M});case 90:F=!0,e.next=86;break;case 93:e.next=99;break;case 95:e.prev=95,e.t2=e["catch"](84),w=!0,y=e.t2;case 99:e.prev=99,e.prev=100,F||null==N.return||N.return();case 102:if(e.prev=102,!w){e.next=105;break}throw y;case 105:return e.finish(102);case 106:return e.finish(99);case 107:this.$q.loading.hide(),this.$emit("executar","atualizar"),this.visivel=!1,this.$q.notify({message:"Conferência finalizada.",type:"positive"}),e.next=116;break;case 113:e.prev=113,e.t3=e["catch"](0),this.$q.notifyError("Não foi possível finalizar a conferência.",e.t3);case 116:return e.prev=116,this.$q.loading.hide(),e.finish(116);case 119:case"end":return e.stop()}},e,this,[[0,113,116,119],[4,10],[37,41,45,53],[46,,48,52],[84,95,99,107],[100,,102,106]])}));return function(){return e.apply(this,arguments)}}(),preencherConferencia:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.carregando=!0,e.next=3,xa(500);case 3:return this.refreshData(),e.next=6,Zn.caixaConsolidacao2.le({idDocumentoStatus:this.idDocumentoStatus});case 6:t=e.sent,t=t.map(function(e){return at()({},e,{json:JSON.parse(e.json)})}),a={},o={},i=!0,r=!1,s=void 0,e.prev=13,n=t[Symbol.iterator]();case 15:if(i=(c=n.next()).done){e.next=28;break}if(l=c.value,!l.json.idContato||["Sangria Final","Sangria","Suprimento"].includes(l.json.documentoTipo)||a[l.json.idContato]){e.next=21;break}return e.next=20,Zn.contato.le({id:l.json.idContato});case 20:a[l.json.idContato]=e.sent;case 21:if(!l.json.idContato||!["Sangria Final","Sangria","Suprimento"].includes(l.json.documentoTipo)||o[l.json.idContato]){e.next=25;break}return e.next=24,Zn.usuario.le({id:l.json.idContato});case 24:o[l.json.idContato]=e.sent;case 25:i=!0,e.next=15;break;case 28:e.next=34;break;case 30:e.prev=30,e.t0=e["catch"](13),r=!0,s=e.t0;case 34:e.prev=34,e.prev=35,i||null==n.return||n.return();case 37:if(e.prev=37,!r){e.next=40;break}throw s;case 40:return e.finish(37);case 41:return e.finish(34);case 42:return this.contatos=a,this.usuarios=o,d=t.filter(function(e){return"financeiroMovimentacao"===e.tabela&&"Acerto"===e.json.documentoTipo}).map(function(e){return e.json}),u=t.filter(function(e){return"financeiroTitulo"===e.tabela}).map(function(e){return e.json}),m=t.filter(function(e){return"financeiroMovimentacao"===e.tabela}).map(function(e){return e.json}),this.sangrias=m.filter(function(e){return["Sangria","Sangria Final"].includes(e.documentoTipo)&&e.valorCredito>0}),this.totalSangrias=dt(this.sangrias.reduce(function(e,t){return e+(t.valorCredito||0)},0)),this.suprimentos=m.filter(function(e){return"Suprimento"===e.documentoTipo&&e.valorDebito>0}),this.totalSuprimentos=dt(this.suprimentos.reduce(function(e,t){return e+(t.valorDebito||0)},0)),p=m.filter(function(e){return"DespesaSimples"===e.documentoTipo&&e.valorCredito>0}),this.despesas=u.filter(function(e){return p.find(function(t){return t.idFinanceiroMovimentacaoN===e.idFinanceiroMovimentacaoAgrupamento})}),this.totalDespesas=dt(this.despesas.reduce(function(e,t){return e+(t.valorRealizado||0)},0)),e.next=56,Zn.formaPagamento.le();case 56:for(b in e.t1=function(e){return{id:e.id,idFinanceiroPlanoConta:e.idFinanceiroPlanoConta,tipoFinanceiro:e.tipoFinanceiro,tipo:e.tipo,descricao:e.descricao,mostrar:!1}},this.formasPagamento=e.sent.map(e.t1),v=t.filter(function(e){return"documentoCondicaoPagamento"===e.tabela&&e.json.ordem}).map(function(e){return e.json}),this.valorFechamento=dt(v.reduce(function(e,t){return _.formasPagamento.find(function(e){return e.id===t.idFormaPagamento&&e.idFinanceiroPlanoConta===_.caixa.idPlanoConta})&&(e+=t.valor||0),e},0)),this.condicoesPagamentoFechamento=v.reduce(function(e,t){return e[t.idFormaPagamento]=t,e},{}),h=t.filter(function(e){return"documentoCondicaoPagamento"===e.tabela&&!e.json.ordem}).map(function(e){return e.json}),this.dinheiro=h.reduce(function(e,t){return _.formasPagamento.find(function(e){return e.id===t.idFormaPagamento&&e.idFinanceiroPlanoConta===_.caixa.idPlanoConta})&&e.push(t),e},[]),this.totalDinheiro=dt(this.dinheiro.reduce(function(e,t){return e+(t.valor||0)},0)),this.valorFundoCaixa=dt(this.valorFechamento-this.sangrias.filter(function(e){return"Sangria Final"===e.documentoTipo}).reduce(function(e,t){return e+(t.valorCredito||0)},0)),f=this.valorAberturaSistema+this.totalDinheiro-this.totalSangrias-this.totalDespesas+this.totalSuprimentos,this.diferencaFundo=dt(this.valorFundoCaixa-f),this.acertoDinheiro=d.filter(function(e){return e.idFinanceiroPlanoConta===_.documentoCaixa.idFinanceiroPlanoContaCaixa}).reduce(function(e,t){return e+(t.valorDebito||0)-(t.valorCredito||0)},0),this.valorFundoCaixaSistema=dt(f+this.acertoDinheiro),this.acertoDinheiro=dt(-1*this.acertoDinheiro),this.outrasFormasPagamento=h.reduce(function(e,t){return!e[t.idFormaPagamento]&&_.formasPagamento.find(function(e){return e.id===t.idFormaPagamento&&e.idFinanceiroPlanoConta!==_.caixa.idPlanoConta})&&(e[t.idFormaPagamento]=[]),e[t.idFormaPagamento]&&e[t.idFormaPagamento].push(t),e},{}),C=h.reduce(function(e,t){return e[t.idFormaPagamento]||(e[t.idFormaPagamento]={totalInformadoUsuario:0}),e[t.idFormaPagamento]&&(void 0===e[t.idFormaPagamento].totalSistema?e[t.idFormaPagamento].totalSistema=t.valor||0:e[t.idFormaPagamento].totalSistema+=t.valor||0),e},{}),C=v.reduce(function(e,t){return e[t.idFormaPagamento]||(e[t.idFormaPagamento]={totalSistema:0}),e[t.idFormaPagamento]&&(void 0===e[t.idFormaPagamento].totalInformadoUsuario?e[t.idFormaPagamento].totalInformadoUsuario=t.valor||0:e[t.idFormaPagamento].totalInformadoUsuario+=t.valor||0),e},C),C)C[b].totalSistema=dt(C[b].totalSistema),C[b].totalInformadoUsuario=dt(C[b].totalInformadoUsuario);this.totaisFormasPagamento=C,g=h.reduce(function(e,t){return e[t.idDocumento]||(e[t.idDocumento]={}),e},{}),e.t2=regeneratorRuntime.keys(g);case 77:if((e.t3=e.t2()).done){e.next=84;break}return x=e.t3.value,e.next=81,Zn.documento.le({id:x});case 81:g[x]=e.sent,e.next=77;break;case 84:this.documentos=g,this.acertos=d.filter(function(e){return e.idFinanceiroPlanoConta!==_.documentoCaixa.idFinanceiroPlanoContaCaixa}).reduce(function(e,t){var a=_.formasPagamento.find(function(e){return e.idFinanceiroPlanoConta===t.idFinanceiroPlanoConta});return a&&e.push({descricao:a.descricao,valor:dt((t.valorCredito||0)-(t.valorDebito||0))}),e},[]),this.totalAcertos=dt(this.acertos.reduce(function(e,t){return e+t.valor},0)),this.carregando=!1;case 88:case"end":return e.stop()}},e,this,[[13,30,34,42],[35,,37,41]])}));return function(){return e.apply(this,arguments)}}(),reabrir:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.prev=1,e.next=4,this.$q.dialog({cancel:"Cancelar",message:"Deseja reabrir o caixa para correção?",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 4:this.$q.loading.show({message:"Processando..."}),e.next=10;break;case 7:return e.prev=7,e.t0=e["catch"](1),e.abrupt("return");case 10:return t=na(),a=Yt(this.documentoCaixa),e.next=14,Zn.caixaConsolidacao2.le({idDocumentoStatus:this.documentoStatus[0].value});case 14:return o=e.sent,o=o.map(function(e){return at()({},e,{json:JSON.parse(e.json)})}),i=o.filter(function(e){return"financeiroMovimentacao"===e.tabela}).map(function(e){return e.json}),r=i.filter(function(e){return"Sangria Final"===e.documentoTipo}),s=i.filter(function(e){return"Acerto"===e.documentoTipo}),n={id:hi(),idDocumento:a.id,operacao:"Fechamento Caixa",statusOriginal:this.documentoStatus[0].statusFinalizado,statusFinalizado:"Reaberto",dataHoraEmissao:t,idUsuarioAlterou:Zn.usuario.logado.id,idDocumentoCaixa:a.id},o=o.filter(function(e){return!["Sangria Final","Acerto"].includes(e.json.documentoTipo)}),o=o.map(function(e){return at()({},e,{id:hi(),idDocumentoStatus:n.id,dataHoraEmissao:t,json:JSON.stringify(e.json)})}),a.status="Reaberto",a.dataHoraFinalizado="",e.next=26,Zn.documento.grava({atual:a,original:this.documentoCaixa});case 26:return e.next=28,Zn.documentoStatus.grava({atual:n});case 28:return e.next=30,Zn.financeiroMovimentacao.remove(la()(r).concat(la()(s)));case 30:c=!0,l=!1,d=void 0,e.prev=33,u=o[Symbol.iterator]();case 35:if(c=(m=u.next()).done){e.next=42;break}return p=m.value,e.next=39,Zn.caixaConsolidacao2.grava({atual:p});case 39:c=!0,e.next=35;break;case 42:e.next=48;break;case 44:e.prev=44,e.t1=e["catch"](33),l=!0,d=e.t1;case 48:e.prev=48,e.prev=49,c||null==u.return||u.return();case 51:if(e.prev=51,!l){e.next=54;break}throw d;case 54:return e.finish(51);case 55:return e.finish(48);case 56:this.atualizar(),this.atualizarAoFecharModal=!0,this.$q.loading.hide(),e.next=64;break;case 61:e.prev=61,e.t2=e["catch"](0),this.$q.notifyError("Não foi possível abrir a conferência.",e.t2);case 64:return e.prev=64,this.$q.loading.hide(),e.finish(64);case 67:case"end":return e.stop()}},e,this,[[0,61,64,67],[1,7],[33,44,48,56],[49,,51,55]])}));return function(){return e.apply(this,arguments)}}(),refreshData:function(){this.mostrarDinheiro=!1,this.dinheiro={},this.acertoDinheiro=0,this.acertos=[],this.totalAcertos=0,this.formasPagamento=[],this.totaisFormasPagamento={},this.outrasFormasPagamento={},this.condicoesPagamentoFechamento={},this.valorFechamento=0,this.diferencaFundo=0,this.contatos={},this.usuarios={},this.documentos={},this.mostrarSangrias=!1,this.sangrias=[],this.totalSangrias=0,this.mostrarDespesas=!1,this.despesas=[],this.totalDespesas=0,this.mostrarSuprimentos=!1,this.suprimentos=[],this.totalSuprimentos=0,this.mostrarDivergencias=!1,this.divergencias=[],this.totalDivergencias=0,this.edicao=!1,this.faturaModal={visivel:!1,id:""},this.vendaModal={visivel:!1,id:""}}},props:{idDocumentoCaixa:{required:!0,type:String},value:{required:!0,type:Boolean}},watch:{value:function(e){e&&(this.atualizar(),this.refreshData())},visivel:function(e){this.$emit("input",e)}}},Ib=Sb,Fb=(a("e193"),Object(sc["a"])(Ib,_b,qb,!1,null,"2b2b3615",null));Fb.options.__file="CaixaConferir.vue";var wb=Fb.exports,yb={components:{Avatar:Fc,Badge:Bd,CaixaConferir:wb},data:function(){return{empresa:{},contato:{},usuarioAbertura:{},caixaConferirModal:{visivel:!1}}},methods:{abrirCaixaConferirModal:function(){this.caixaConferirModal.visivel=!0},atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.contato.le({id:this.documento.idEmpresa});case 2:return this.empresa=e.sent,e.next=5,Zn.contato.le({id:this.documento.idContato});case 5:return this.contato=e.sent,e.next=8,Zn.usuario.le({id:this.documento.idContato});case 8:this.usuarioAbertura=e.sent;case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),executar:function(e){switch(e){case"atualizar":this.atualizar(),this.$emit("atualizar")}}},props:{documento:{required:!0,type:Object}},mounted:function(){this.atualizar()}},Nb=yb,kb=(a("eab3"),Object(sc["a"])(Nb,gb,xb,!1,null,"4be44909",null));kb.options.__file="CaixaCard.vue";var Mb=kb.exports,Pb={components:{CaixaCard:Mb,Campo:Sl},data:function(){return{documentosCaixaConferencia:{documentos:[],total:0},documentosCaixaFechado:{documentos:[],total:0},dataIni:"",dataFim:"",termosPesquisa:[]}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=(new Date).setHours(0,0,0,0),a=new Date(t),a.setDate(a.getDate()-7),this.dataIni=new Date(a),this.dataFim=new Date(t),this.filtrar();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),filtrar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=[],e.next=3,Zn.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);case 3:a=e.sent,o=new Date(this.dataIni).toISOString().replace(/T.*/,"T00:00:00.000Z"),i=new Date(this.dataFim).toISOString().replace(/T.*/,"T23:59:59.999Z"),r=!0,s=!1,n=void 0,e.prev=9,c=a[Symbol.iterator]();case 11:if(r=(l=c.next()).done){e.next=18;break}return d=l.value,e.next=15,He().documento.where(["tipo","idEmpresa","dataHoraEmissao"]).between(["Caixa",d.id,o],["Caixa",d.id,i],!0,!0).each(function(e){t.push(e)});case 15:r=!0,e.next=11;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e["catch"](9),s=!0,n=e.t0;case 24:e.prev=24,e.prev=25,r||null==c.return||c.return();case 27:if(e.prev=27,!s){e.next=30;break}throw n;case 30:return e.finish(27);case 31:return e.finish(24);case 32:for(t.sort(function(e,t){return new Date(e.dataHoraEmissao)>new Date(t.dataHoraEmissao)?-1:1}),u=!0,m=!1,p=void 0,e.prev=36,v=function(){var e=f.value;e=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim().toLowerCase(),t=/^#\d+$/gi.test(e)?t.filter(function(t){return t.numero===Number(e.slice(1))}):t.filter(function(t){var o=a.find(function(e){return e.id===t.idEmpresa});return-1!==((o.nome||"")+(o.apelido||"")).normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim().toLowerCase().search(e)})},h=this.termosPesquisa[Symbol.iterator]();!(u=(f=h.next()).done);u=!0)v();e.next=45;break;case 41:e.prev=41,e.t1=e["catch"](36),m=!0,p=e.t1;case 45:e.prev=45,e.prev=46,u||null==h.return||h.return();case 48:if(e.prev=48,!m){e.next=51;break}throw p;case 51:return e.finish(48);case 52:return e.finish(45);case 53:C=t.filter(function(e){return"Aguardando Conferência"===e.status}),b=t.filter(function(e){return"Fechado"===e.status}),this.documentosCaixaConferencia=C,this.documentosCaixaFechado=b;case 57:case"end":return e.stop()}},e,this,[[9,20,24,32],[25,,27,31],[36,41,45,53],[46,,48,52]])}));return function(){return e.apply(this,arguments)}}()},mounted:function(){this.atualizar()}},Db=Pb,Eb=(a("a032"),Object(sc["a"])(Db,Cb,bb,!1,null,"21cb742e",null));Eb.options.__file="CaixaTesouraria.vue";var Tb=Eb.exports,Ab=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Atendimento Layout"},[a("barra-topo"),a("q-page-container",[a("q-page",{staticClass:"u-container"},[a("q-toolbar",{staticClass:"q-py-sm",attrs:{color:"none"}},[a("avatar",{attrs:{imagem:e.contato.imagem,rotulo:!!e.podeAcessar&&e.contato.apelido,tamanho:"40"}}),a("q-toolbar-title",[e._v("\n          "+e._s(e.dbContato.selecionado.apelido)+"\n\n          "),e.badge?a("badge",e._b({staticClass:"q-ml-sm",attrs:{denso:"",escuro:""}},"badge",e.badge,!1),[e.badgeDetalhes?a("q-tooltip",{staticClass:"Atendimento-badgeDetalhes"},[e._v(e._s(e.badgeDetalhes))]):e._e()],1):e._e(),e.telefone?a("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v(e._s(e.telefone))]):e._e()],1),a("q-btn",{attrs:{flat:"",dense:"",icon:"search",round:"",size:"lg"},on:{click:e.buscarContato}},[a("q-tooltip",[e._v("Buscar contato")])],1),a("q-btn",{attrs:{flat:"",dense:"",icon:"person_add",round:"",size:"lg"},on:{click:e.adicionarContato}},[a("q-tooltip",[e._v("Criar contato")])],1),"optisoul"===e.sistemaPai?a("q-btn",{attrs:{icon:"help_outline",flat:"",dense:"",round:"",size:"lg"}},[a("q-popover",[a("q-list",{attrs:{link:"","no-border":"",separator:""}},[a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"mdi-youtube"}}),a("q-item-main",{attrs:{label:"Videoaula Vendas"},nativeOn:{click:function(t){e.showHelp("vendas")}}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"mdi-youtube"}}),a("q-item-main",{attrs:{label:"Videoaula Pupilômetro"},nativeOn:{click:function(t){e.showHelp("pupilometro")}}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"mdi-youtube"}}),a("q-item-main",{attrs:{label:"Videoaula Fatura - completa"},nativeOn:{click:function(t){e.showHelp("faturaCompleta")}}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"mdi-youtube"}}),a("q-item-main",{attrs:{label:"Videoaula Fatura (com sinal)"},nativeOn:{click:function(t){e.showHelp("faturaComSinal")}}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"mdi-youtube"}}),a("q-item-main",{attrs:{label:"Videoaula Cadastro de Fornecedores"},nativeOn:{click:function(t){e.showHelp("cadastroFornecedores")}}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"mdi-youtube"}}),a("q-item-main",{attrs:{label:"Videoaula Cadastro de Médicos"},nativeOn:{click:function(t){e.showHelp("cadastroMedicos")}}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"mdi-youtube"}}),a("q-item-main",{attrs:{label:"Videoaula Cadastro de Clientes"},nativeOn:{click:function(t){e.showHelp("cadastroClientes")}}})],1)],1)],1)],1):e._e(),a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"lg"}},[a("q-popover",[a("q-list",{attrs:{link:"","no-border":"",separator:""}},[a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){return e.buscarContatoExcluido(t)}}},[a("q-item-side",{attrs:{icon:"search"}}),a("q-item-main",{attrs:{label:"Buscar excluídos"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.modalImportar=!0}}},[a("q-item-side",{attrs:{icon:"import_export"}}),a("q-item-main",{attrs:{label:"Importar contatos"}})],1),a("q-item",{nativeOn:{click:function(t){e.combinarContatosModal=!0}}},[a("q-item-side",{attrs:{icon:"compare_arrows"}}),a("q-item-main",{attrs:{label:"Combinar contatos duplicados"}})],1),a("q-item",{nativeOn:{click:function(t){return e.copiarUid(t)}}},[a("q-item-side",{attrs:{icon:"file_copy"}}),a("q-item-main",{attrs:{label:"Copiar código do contato"}}),a("input",{ref:"uid",attrs:{type:"hidden"},domProps:{value:e.contato.id}})],1)],1)],1)],1)],1),a("MenuAbas",{attrs:{objetoPai:"atendimento"}},[e.podeAcessar||["AtendimentoVenda","AtendimentoFatura"].includes(e.$route.name)?a("router-view",{ref:"componentefilho"}):a("div",{staticClass:"bg-white q-pa-xl text-center"},[e._v("\n          Não é possível acessar este recurso como "),a("strong",[e._v("consumidor")]),e._v(". Por favor, cadastre ou selecione um\n          contato.\n\n          "),a("div",{staticClass:"text-center q-mt-sm"},[a("q-btn",{staticClass:"q-ma-sm no-shadow",attrs:{color:"primary",icon:"person_add",label:"Novo contato"},on:{click:e.adicionarContato}}),a("q-btn",{staticClass:"q-ma-sm no-shadow",attrs:{color:"primary",icon:"search",label:"Buscar contato"},on:{click:e.buscarContato}})],1)])],1),a("prompt-contato-novo",{attrs:{filtro:{ativo:!1,somenteCarteira:!0}},on:{selecionar:e.abrirContato},model:{value:e.contatosInativosModal,callback:function(t){e.contatosInativosModal=t},expression:"contatosInativosModal"}}),a("prompt-contato-novo",{attrs:{filtro:{ativo:!0,somenteCarteira:!0}},on:{selecionar:e.abrirContato},model:{value:e.contatosModal,callback:function(t){e.contatosModal=t},expression:"contatosModal"}}),a("prompt-contato-novo",{attrs:{filtro:{ativo:!0,somenteCarteira:!0}},on:{selecionar:e.selecionarCombinarContatos},model:{value:e.combinarContatosModal,callback:function(t){e.combinarContatosModal=t},expression:"combinarContatosModal"}}),a("importar-contatos",{model:{value:e.modalImportar,callback:function(t){e.modalImportar=t},expression:"modalImportar"}})],1)],1),a("q-modal",{attrs:{"content-css":{minWidth:"100vw",minHeight:"100vh"}},model:{value:e.help.show,callback:function(t){e.$set(e.help,"show",t)},expression:"help.show"}},[a("q-modal-layout",{staticStyle:{height:"100vh",width:"100vw"}},[a("iframe",{staticStyle:{height:"100%",width:"100%"},attrs:{src:e.help.src,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v(e._s(e.help.title))]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1)],1)],1)],1)},Ob=[];Ab._withStripped=!0;var $b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-modal",{attrs:{value:e.value},on:{input:e.eventoInput}},[a("div",{staticClass:"q-ma-sm"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.importarContatos(t)}}},[a("div",{staticClass:"q-ma-md"},[a("div",{staticClass:"row q-mb-md q-headline text-weight-bold"},[e._v("Importar contatos")]),a("q-uploader",{ref:"campoArquivoImportar",attrs:{"auto-expand":"",color:"none",extensions:".xlsx","float-label":"Selecione o arquivo (.xlsx)","hide-upload-button":"","hide-upload-progress":"","inverted-light":"",url:""},on:{add:e.importarAdicionarArquivo}}),e.importar.erro?a("div",{class:["row","q-pa-sm",e.importar.cor]},[e._v(e._s(e.importar.erro))]):a("div",{staticClass:"row q-mt-md justify-start"},[a("q-btn",{attrs:{color:"primary",flat:"",icon:"cloud_download",label:"Baixar arquivo modelo (.xlsx)"},on:{click:e.importarBaixarArquivo}})],1)],1),a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(t){e.eventoInput(!1)}}}),a("q-btn",{attrs:{flat:"",color:"primary",label:"Importar",type:"submit"}})],1)])])]),a("q-modal",{model:{value:e.importar.modalResultado,callback:function(t){e.$set(e.importar,"modalResultado",t)},expression:"importar.modalResultado"}},[a("div",{staticClass:"q-ma-sm"},[a("div",{staticClass:"q-mx-sm q-my-md"},[a("div",{staticClass:"row q-my-md q-headline text-weight-bold"},[e._v("Importar contatos")]),a("div",{staticClass:"row q-my-md"},[e._v(e._s(e.importar.mensagem))]),a("div",{staticClass:"row items-center q-my-md"},[a("div",{staticClass:"col-4"},[a("div",{staticClass:"row q-caption flex-center text-faded"},[e._v("Incluídos")]),a("div",{staticClass:"row q-py-xs flex-center text-positive"},[e._v(e._s(e._f("numero")(e.importar.incluidos,0)))])]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"row q-caption flex-center text-faded"},[e._v("Atualizados")]),a("div",{staticClass:"row q-py-xs flex-center text-positive"},[e._v(e._s(e._f("numero")(e.importar.alterados,0)))])]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"row q-caption flex-center text-faded"},[e._v("Erros")]),a("div",{staticClass:"row q-py-xs flex-center text-negative"},[e._v(e._s(e._f("numero")(e.importar.erros,0)))])])]),a("div",{class:["row","q-pa-sm",e.importar.corFinal]},[e._v(e._s(e.importar.mensagemFinal))]),a("div"),e.importar.listaErros.length?a("q-list",{staticClass:"row no-border"},[a("q-item",{staticClass:"col-12 q-px-none"},[a("q-item-main",[a("q-item-tile",{attrs:{sublabel:""}},[a("div",{staticClass:"row justify-around"},[a("div",{staticClass:"col-2 q-caption text-center"},[e._v("Linha")]),a("div",{staticClass:"col-10 q-caption"},[e._v("Erro")])])]),a("q-item-separator",{staticClass:"q-my-xs"}),e._l(e.importar.listaErros,function(t,o){return a("div",{key:o},[a("q-item-tile",{attrs:{sublabel:""}},[a("div",{staticClass:"row justify-around"},[a("div",{staticClass:"col-2 text-center"},[e._v(e._s(e._f("numero")(t.linha,0)))]),a("div",{staticClass:"col-10"},[e._v(e._s(t.mensagem))])])]),a("q-item-separator",{staticClass:"q-my-xs"}),a("q-item-tile",{attrs:{sublabel:""}})],1)})],2)],1)],1):e._e()],1),a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Fechar"},on:{click:function(t){e.importar.modalResultado=!1}}})],1)])])],1)},Rb=[];$b._withStripped=!0;var jb=a("1146"),zb=a.n(jb),Bb=function(e){return"string"===typeof e&&(e=ra()(e,"DD/MM/YYYY HH:mm:ss.SSS")),!e||isNaN(e)?"":At["d"].formatDate(e)},Lb=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null===e||void 0===e?t:"boolean"===typeof e?e:"string"===typeof e?"NULL"===e.trim().toUpperCase()?t:!!["SIM","1"].includes(e.trim().toUpperCase())||!["NÃO","NAO","0"].includes(e.trim().toUpperCase())&&t:"number"===typeof e?0!==e:t},Vb=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null===e||void 0===e?t:"number"===typeof e?e:"string"===typeof e?"NULL"===e.trim().toUpperCase()?t:+e||t:t},Ub=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null===e||void 0===e?t:"number"===typeof e?e.toString():"string"===typeof e?"NULL"===e.trim().toUpperCase()?t:e.trim():t},Hb=function(e){var t=e?String(e).trim():"";return"NULL"!==t.toUpperCase()&&36===t.length||(t=""),t},Qb=function(e,t){switch(t.tipo||"texto"){case"decimal":case"dinheiro":case"numerico":case"quantidade":return Vb(e,t.valorInicial);case"seletor":return"numerico"===t.tipo2?Vb(e,t.valorInicial):Ub(e,t.valorInicial);case"texto":case"textoArea":return Ub(e,t.valorInicial);case"id":return Hb(e);case"dataHora":return Bb(e);case"logico":return Lb(e,t.valorInicial)}return null},Gb=function(e,t){var a=e.Sheets[t],o=a["!ref"],i=Number(o.match(/\d+/g)[1]),r=2;for(var s in a){var n=Number((s.match(/\d+/g)||["0"])[0]);n>r&&(r=n)}a["!ref"]=o.replace(String(i),String(r));var c=zb.a.utils.sheet_to_json(a,{header:1});if(!c||0===c.length)throw new ko("Planilha inválida! Não possui aba ".concat(t,"."));var l=c[0].map(Wb),d=[];for(var u in c)if("0"!==u){var m={};for(var p in c[u])m[l[p]]=c[u][p];d.push(m)}return d},Jb=function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o,i,r){var s,n,c,l,d,u,m,p,v,h,f,C,b;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,s=zb.a.read(t,{type:"binary"}),e.next=7;break;case 4:throw e.prev=4,e.t0=e["catch"](0),new ko("Planilha inválida! Não possui formato xlsx válido.");case 7:n=Gb(s,"Config"),c=Gb(s,"Dados"),l=ct(n.filter(function(e){return"Sim"===e.Importar}),"Operacao"),d=n.filter(function(e){return"Sim"===e.Importar&&"Sim"===e.Chave}).map(function(e){return Yb(e.CampoTabela)}),e.t1=regeneratorRuntime.keys(c);case 12:if((e.t2=e.t1()).done){e.next=31;break}for(v in u=e.t2.value,e.prev=14,m=!1,p={chaves:d},l)for(f in h=ct(l[v],"Tabela"),h)C=Xb(c[u],h[f],a[f]||{}),C.incluir&&(p[f]=la()(p[f]||[]).concat([C.campos]),m=!0);if(!m){e.next=21;break}return e.next=21,o(p);case 21:e.next=29;break;case 23:return e.prev=23,e.t3=e["catch"](14),b="Erro na importação",e.t3.name&&e.t3.message&&"ErroValidacao"===e.t3.name?b=e.t3.message:console.error(e.t3),e.next=29,i((+u||0)+2,b);case 29:e.next=12;break;case 31:return e.next=33,r();case 33:case"end":return e.stop()}},e,null,[[0,4],[14,23]])}));return function(t,a,o,i,r){return e.apply(this,arguments)}}(),Xb=function(e,t,a){var o={},i=!1,r=!0,s=!1,n=void 0;try{for(var c,l=t[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var d=c.value,u=Yb(d.CampoTabela),m=null;if("Fixo"===d.Tipo)m=d.CampoExcel;else{var p=Wb(Ub(d.CampoExcel));p&&p in e&&(m=e[p],i=!0)}null!==m&&(o[u]=Qb(m,a[u]||{}))}}catch(e){s=!0,n=e}finally{try{r||null==l.return||l.return()}finally{if(s)throw n}}return{incluir:i,campos:o}},Yb=function(e){return e===e.toUpperCase()?e:e[0].toLowerCase()+e.substring(1)},Wb=function(e){return e.replace(/ /g,"")},Zb=Jb,Kb={id:{tipo:"id"},idContato:{tipo:"id"},logradouro:{tipo:"texto"},numero:{tipo:"texto"},complemento:{tipo:"texto"},condominio:{tipo:"texto"},bairro:{tipo:"texto"},cep:{tipo:"texto"},ibgeCod:{tipo:"texto"},municipio:{tipo:"texto"},uf:{tipo:"texto"},pais:{tipo:"texto"},grupo:{tipo:"texto"},cidadeCodChave:{tipo:"texto"},observacao:{tipo:"texto"},idCidade:{tipo:"id"}},eg={id:{tipo:"id"},tipoTelefone:{tipo:"texto"},telefone:{tipo:"texto"},observacao:{tipo:"texto"},idContato:{tipo:"id"}},tg={endereco:{lista:Kb},telefone:{lista:eg},id:{tipo:"id"},codigoContato:{tipo:"numerico"},nome:{tipo:"texto"},apelido:{tipo:"texto"},numeroDocumentoNacional:{tipo:"texto"},idContatoAssistente:{tipo:"id"},idContatoIndicacao:{tipo:"id"},idContatoMatriz:{tipo:"id"},idContatoTransportadora:{tipo:"id"},idContatoVendedor:{tipo:"id"},idFormaPagamento:{tipo:"id"},idItemTabelaPreco:{tipo:"id"},tipoDocumentoNacional:{tipo:"texto"},numeroDocumentoEstadual:{tipo:"texto"},numeroDocumentoMunicipal:{tipo:"texto"},site:{tipo:"texto"},email:{tipo:"texto"},emailNfe:{tipo:"texto"},sexo:{tipo:"texto"},segmento:{tipo:"texto"},condutaObservacao:{tipo:"texto"},condutaRestricao:{tipo:"texto"},observacao:{tipo:"texto"},observacaoConsulta:{tipo:"texto"},dataAbertura:{tipo:"dataHora"},dataCadastro:{tipo:"dataHora"},dataAlteracao:{tipo:"dataHora"},dataConsulta:{tipo:"dataHora"},codigoContatoVendedor:{tipo:"numerico"},codigoContatoAssistente:{tipo:"numerico"},codigoContatoIndicacao:{tipo:"numerico"},codigoContatoTransportadora:{tipo:"numerico"},codigoItemTabelaPreco:{tipo:"numerico"},codigoFormaPagamento:{tipo:"numerico"},condicaoPagamento:{tipo:"texto"},codigoAntigo:{tipo:"texto"},imagem:{tipo:"texto"},codigoGrupo:{tipo:"numerico"},ativo:{tipo:"logico"},excluido:{tipo:"logico"},codigoContatoPlataforma:{tipo:"numerico"},regime:{tipo:"texto"},observacaoNFE:{tipo:"texto"},limiteCredito:{tipo:"texto"},nSerieCert:{tipo:"texto"},codigoUsuario:{tipo:"texto"},crmCurvaABC:{tipo:"texto"},crmValorTotalVendasPeriodo:{tipo:"texto"},crmValorTotalOrcamentos:{tipo:"texto"},crmDataUltimoOrcamento:{tipo:"dataHora"},crmValorTotalVendasMesAtual:{tipo:"texto"},crmMetaProximaVenda:{tipo:"texto"},crmMargem:{tipo:"texto"},crmDataPrimeraVenda:{tipo:"dataHora"},crmDiasUltimaVenda:{tipo:"texto"},crmFrequenciaVenda:{tipo:"texto"},crmFrequenciaStatus:{tipo:"texto"},crmStatusFinanceiro:{tipo:"texto"},crmAcao:{tipo:"texto"},crmDataUltimoContato:{tipo:"dataHora"},cobrancaDataPrevisao:{tipo:"dataHora"},creditoUtilizado:{tipo:"decimal"},creditoDevolucao:{tipo:"decimal"},creditoDisponivel:{tipo:"decimal"},idUsuario:{tipo:"id"}},ag=tg,og={alterados:0,arquivo:null,cor:"text-negative",corFinal:"",erro:"",erros:0,incluidos:0,listaErros:[],mensagem:"",mensagemFinal:"",modalResultado:!1},ig={data:function(){return{importar:ea(og)}},watch:{value:function(){this.value&&(this.importar=ea(og),this.$refs.campoArquivoImportar.reset())}},methods:{eventoInput:function(e){this.$emit("input",e)},importarAdicionarArquivo:function(e){ei.log("ImportarContatos","importarAdicionarArquivo"),this.importar.erro="",this.importar.arquivo=e[0]},importarArquivoXlsx:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,ei.log("ImportarContatos","importarArquivoXlsx",this.importar.arquivo.name),this.importar.modalResultado=!0,this.eventoInput(!1),this.importar.mensagem="Carregando o arquivo .xlsx",e.next=7,He().contato.toArray();case 7:return this.importarLista=e.sent,a={Contato:ag,ContatoTelefone:ag.telefone.lista,ContatoEndereco:ag.endereco.lista},e.next=11,Zb(t.target.result,a,this.importarCallbackParcial,this.importarCallbackErro,this.importarCallbackFinal);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),e.t0.name&&"ErroValidacao"===e.t0.name?(this.importar.erro=e.t0.message,this.$q.notifyError(e.t0.message,e.t0)):(this.importar.erro="Ocorreu erro ao importar arquivo xlsx",this.$q.notifyError(this.importar.erro,e.t0));case 16:case"end":return e.stop()}},e,this,[[0,13]])}));return function(t){return e.apply(this,arguments)}}(),importarBaixarArquivo:function(){ei.log("ImportarContatos","importarBaixarArquivo"),window.open("statics/downloads/B15-Importar-ou-Atualizar-Contatos.xlsx","_self")},importarCallbackErro:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.importar.erros++,ei.log("ImportarContatos","importarCallbackErro2",a),this.importar.listaErros.length<20&&this.importar.listaErros.push({linha:t,mensagem:a});case 3:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),importarCallbackFinal:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:ei.log("ImportarContatos","Importação concluida"),this.importar.incluidos+this.importar.alterados>0?this.importar.erros>0?(this.importar.corFinal="bg-warning",this.importar.mensagemFinal="Importação realizada parcialmente!"):(this.importar.corFinal="bg-positive text-white",this.importar.mensagemFinal="Importação concluída com sucesso!"):this.importar.erros>0?(this.importar.corFinal="text-negative",this.importar.mensagemFinal="Importação não realizada!"):(this.importar.corFinal="bg-warning",this.importar.mensagemFinal="Importação não realizada!");case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),acertarEnderecos:function(e){var t=!0,a=!1,o=void 0;try{for(var i,r=e.atual.endereco[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var s=i.value;s.id=hi(),s.idContato=e.atual.id;var n=(s.cep||"").replace(/[^0-9]/g,"");8===n.length&&(s.cep=n.substr(0,5)+"-"+n.substr(5,3)),s.pais||(s.pais="Brasil")}}catch(e){a=!0,o=e}finally{try{t||null==r.return||r.return()}finally{if(a)throw o}}var c=!0,l=!1,d=void 0;try{for(var u,m=function(){var t=u.value,a=e.atual.endereco.find(function(e){var a=fa(e,t);return delete a.id,0===Object.keys(a).length});a?a.id=t.id:e.atual.endereco.push(t)},p=(e.original.endereco||[])[Symbol.iterator]();!(c=(u=p.next()).done);c=!0)m()}catch(e){l=!0,d=e}finally{try{c||null==p.return||p.return()}finally{if(l)throw d}}},acertarTelefones:function(e){var t=!0,a=!1,o=void 0;try{for(var i,r=e.atual.telefone[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var s=i.value;s.id=hi(),s.idContato=e.atual.id}}catch(e){a=!0,o=e}finally{try{t||null==r.return||r.return()}finally{if(a)throw o}}var n=!0,c=!1,l=void 0;try{for(var d,u=function(){var t=d.value,a=e.atual.telefone.find(function(e){var a=fa(e,t);return delete a.id,0===Object.keys(a).length});a?a.id=t.id:e.atual.telefone.push(t)},m=(e.original.telefone||[])[Symbol.iterator]();!(n=(d=m.next()).done);n=!0)u()}catch(e){c=!0,l=e}finally{try{n||null==m.return||m.return()}finally{if(c)throw l}}},importarCallbackParcial:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log("ImportarContatos","importarCallbackParcial",t),a=t.Contato[0],t.ContatoEndereco&&(a.endereco=t.ContatoEndereco),t.ContatoTelefone&&(a.telefone=t.ContatoTelefone),o=t.chaves.length>0?function(e){return t.chaves.reduce(function(t,o){return t&&e[o]===a[o]},!0)}:function(e){return!1},i=this.importarLista.filter(o),!a.numeroDocumentoNacional){e.next=19;break}if(r=this.importarLista.filter(function(e){return e.numeroDocumentoNacional===a.numeroDocumentoNacional}),!(r.length>1)){e.next=12;break}throw new ko("NumeroDocumentoNacional deve ser único (".concat(a.numeroDocumentoNacional,")"));case 12:if(1!==r.length){e.next=19;break}if(0!==i.length){e.next=17;break}throw new ko("NumeroDocumentoNacional deve ser único (".concat(a.numeroDocumentoNacional,")"));case 17:if(r[0].id===i[0].id){e.next=19;break}throw new ko("NumeroDocumentoNacional deve ser único (".concat(a.numeroDocumentoNacional,")"));case 19:if(s=na(),0!==i.length){e.next=31;break}return n=at()({},Zn.contato.vazio,{dataCadastro:s,dataAlteracao:s},a,{id:hi()}),c={atual:n,original:{}},this.acertarEnderecos(c),this.acertarTelefones(c),e.next=27,Zn.contato.grava(c);case 27:this.importarLista.push(n),this.importar.incluidos++,e.next=46;break;case 31:if(1!==i.length){e.next=44;break}return e.next=34,Zn.contato.leCompletoV2(i[0].id);case 34:return l=e.sent,a.id=l.atual.id,Object.assign(l.atual,a),this.acertarEnderecos(l),this.acertarTelefones(l),e.next=41,Zn.contato.grava(l);case 41:this.importar.alterados++,e.next=46;break;case 44:throw d=t.chaves.map(function(e){return e+": "+a[e]}).join(", "),new ko("Existem ".concat(i.length," contatos no banco com a chave (").concat(d,")"));case 46:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),importarContatos:function(){var e=this;ei.log("ImportarContatos","importarContatos");try{if(this.importar.arquivo){var t=new FileReader;t.onload=this.importarArquivoXlsx,t.onerror=function(){e.importar.erro="Falha na leitura do arquivo",e.$q.notifyError(e.importar.erro)},t.readAsBinaryString(this.importar.arquivo)}else this.importar.erro="Favor selecionar o arquivo para importação"}catch(e){this.importar.erro="Ocorreu erro ao importar contatos",this.$q.notifyError(this.importar.erro,e)}}},props:{value:{required:!0,type:Boolean}},created:function(){ei.log("ImportarContatos","created()")}},rg=ig,sg=Object(sc["a"])(rg,$b,Rb,!1,null,null,null);sg.options.__file="ImportarContatos.vue";var ng=sg.exports,cg={components:{Avatar:Fc,Badge:Bd,BarraTopo:El,ImportarContatos:ng,PromptContatoNovo:Yd,MenuAbas:Fd},computed:{badge:function(){return this.dbContato.selecionado.ativo?this.dbContato.selecionado.condutaRestricao?{cor:"negative",rotulo:"Restrição"}:!!this.dbContato.selecionado.condutaObservacao&&{cor:"warning",rotulo:"Observação"}:{cor:"faded",rotulo:"Excluído"}},badgeDetalhes:function(){var e=this.contato,t=e.ativo,a=e.condutaRestricao,o=e.condutaObservacao;return t&&(a||o)||!1},podeAcessar:function(){return!this.contatoConsumidor&&!!this.contato},telefone:function(){var e=this.contato.telefone;return!(!e||!e.length)&&(e=e.find(function(e){return"Principal"===e.tipo})||e[0],e.telefone)},usuario:function(){return Zn.usuario.logado}},data:function(){return{dbContato:Zn.contato,contato:Zn.contato.vazio,carregando:!1,combinarContatosModal:!1,contatosAtivos:[],contatosInativos:[],contatosInativosModal:!1,contatosModal:!1,modalImportar:!1,contatoConsumidor:!1,sistemaPai:"",sincronismoStatus:tc.status,help:{show:!1,src:"",title:"",map:{cadastroFornecedores:{src:"https://www.youtube.com/embed/oZkaV8OlJmE",title:"Videoaula OptiSoul: Cadastro de Fornecedores"},cadastroMedicos:{src:"https://www.youtube.com/embed/FY91zACYQVc",title:"Videoaula OptiSoul: Cadastro de Médicos"},cadastroClientes:{src:"https://www.youtube.com/embed/Zr1Xc4BQJNU",title:"Videoaula OptiSoul: Cadastro de Clientes"},vendas:{src:"https://www.youtube.com/embed/kYy9IE16bkA",title:"Videoaula OptiSoul: Vendas (com Medidas de DNP e Altura)"},faturaCompleta:{src:"https://www.youtube.com/embed/M3QSCSH4SWc",title:"Videoaula OptiSoul: Fatura completa"},faturaComSinal:{src:"https://www.youtube.com/embed/_w6OivCnwv4",title:"Videoaula OptiSoul: Fatura (com sinal)"},pupilometro:{src:this.$q.platform.is.mobile?"https://www.youtube.com/embed/kYy9IE16bkA?start=2661":"https://www.youtube.com/embed/kYy9IE16bkA?start=1214",title:this.$q.platform.is.mobile?"Videoaula OptiSoul: Pupilômetro - Celular":"Videoaula OptiSoul: Pupilômetro - Desktop"}}}}},methods:{showHelp:function(e){this.help.src=this.help.map[e].src,this.help.title=this.help.map[e].title,this.help.show=!0},refresher:function(){this.$router.go()},abrirContato:function(e){e&&this.$router.push({name:this.$route.name,params:{id:e}}),this.contatosInativosModal=!1,this.contatosModal=!1},adicionarContato:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=!!this.$refs.componentefilho&&!!this.$refs.componentefilho.desejaDescartar,!e.t0){e.next=5;break}return e.next=4,this.$refs.componentefilho.desejaDescartar();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return");case 7:return e.prev=7,e.next=10,this.$q.dialog({cancel:!0,message:"Qual é o nome completo?",ok:"Criar",preventClose:!0,prompt:{type:"text"},title:"Cadastrar contato"});case 10:if(t=e.sent,t){e.next=13;break}return e.abrupt("return");case 13:e.next=19;break;case 15:return e.prev=15,e.t1=e["catch"](7),this.$q.notifyPositive("Operação cancelada."),e.abrupt("return");case 19:if(this.$q.loading.show(),e.prev=20,a="",e.t3=!Zn.usuario.logado.administrador,!e.t3){e.next=27;break}return e.next=26,Zn.permissao.objetoClienteSistema("Diretiva_Contatos_AcessaTodosContatos");case 26:e.t3=e.sent;case 27:if(e.t2=e.t3,!e.t2){e.next=32;break}return e.next=31,Zn.permissao.objeto("Diretiva_Contatos_AcessaTodosContatos");case 31:e.t2=!e.sent;case 32:if(!e.t2){e.next=40;break}if(o=Zn.usuario.logado.codigoContato,!o){e.next=40;break}return e.next=37,He().contato.where({codigoContato:o}).toArray();case 37:e.t4=function(e){return e.id},i=e.sent.find(e.t4),i&&(a=i.id);case 40:return r={id:hi(),nome:t,ativo:!0,idContatoVendedor:a},e.next=43,this.$store.dispatch("salvarContato",r);case 43:return e.next=45,this.$store.dispatch("carregarContato",r.id);case 45:this.contato=Zn.contato.selecionado=r,this.$router.push({name:"Atendimento",params:{id:r.id}}),e.next=52;break;case 49:e.prev=49,e.t5=e["catch"](20),this.$q.notifyError("Erro ao cadastrar contato.",e.t5);case 52:return e.prev=52,this.$q.loading.hide(),e.finish(52);case 55:case"end":return e.stop()}},e,this,[[7,15],[20,49,52,55]])}));return function(){return e.apply(this,arguments)}}(),buscarContato:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=!!this.$refs.componentefilho&&!!this.$refs.componentefilho.desejaDescartar,!e.t0){e.next=5;break}return e.next=4,this.$refs.componentefilho.desejaDescartar();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return");case 7:this.contatosModal=!0;case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),buscarContatoExcluido:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=!!this.$refs.componentefilho&&!!this.$refs.componentefilho.desejaDescartar,!e.t0){e.next=5;break}return e.next=4,this.$refs.componentefilho.desejaDescartar();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return");case 7:this.contatosInativosModal=!0;case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),carregarContato:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.carregando){e.next=2;break}return e.abrupt("return");case 2:if(this.carregando=!0,e.prev=3,t=this.$route.params.id,t="0"===t?null:t,a={},this.contatoConsumidor=!1,!t){e.next=13;break}return e.next=11,Zn.contato.le({id:t});case 11:a=e.sent,t=(a||{}).id;case 13:return e.next=15,Zn.configuracoes.leValorNumerico("venda.codigoconsumidor");case 15:if(o=e.sent,a.codigoContato!==o){e.next=20;break}this.contatoConsumidor=!0,e.next=28;break;case 20:if(t||!o){e.next=28;break}return e.next=23,He().contato.where({codigoContato:o}).toArray();case 23:i=e.sent,Po(!i.length||!i[0].id,"Contato consumidor não encontrado."),a=i[0],t=a.id,this.contatoConsumidor=!0;case 28:if(t){e.next=30;break}return e.abrupt("return");case 30:return e.next=32,this.$store.dispatch("carregarContato",t);case 32:this.contato=Zn.contato.selecionado=a,localStorage.setItem("contatoSelecionado",t),e.next=39;break;case 36:e.prev=36,e.t0=e["catch"](3),this.$q.notifyError("Erro ao carregar contato",e.t0);case 39:return e.prev=39,this.carregando=!1,e.finish(39);case 42:case"end":return e.stop()}},e,this,[[3,36,39,42]])}));return function(){return e.apply(this,arguments)}}(),copiarUid:function(){var e=this.$refs.uid;e.type="text";try{e.select(),document.execCommand("copy"),this.$q.notify({message:"Copiado!",type:"info"})}catch(e){this.$q.notify("Erro ao copiar.")}e.type="hidden",window.getSelection().removeAllRanges()},selecionarCombinarContatos:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.combinarContatosModal=!1,e.prev=1,e.next=4,this.$q.dialog({cancel:!0,color:"negative",message:"Ao continuar você irá combinar todas as informações dos dois contatos em apenas um contato.",ok:"Combinar",title:"Tem certeza?"});case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e["catch"](1),e.abrupt("return");case 9:return this.$q.loading.show(),e.prev=10,a="\n        mutation contatoCombinar(\n          $bancoDeDados: String!,\n          $token: String,\n          $idContatoCombinar: ID!,\n          $idContatoRemover: ID!\n        ) {\n          contatoCombinar(\n            bancoDeDados: $bancoDeDados,\n            token: $token,\n            idContatoCombinar: $idContatoCombinar,\n            idContatoRemover: $idContatoRemover\n          ) {\n            sucesso\n            mensagem\n            codigo\n          }\n        }",e.next=14,ya(a,{idContatoCombinar:this.contato.id,idContatoRemover:t});case 14:o=e.sent,uo(o,"contatoCombinar"),this.$q.notifyPositive("Os contatos foram combinados com sucesso."),e.next=22;break;case 19:e.prev=19,e.t1=e["catch"](10),this.$q.notifyError("Ocorreu um erro ao combinar contatos",e.t1);case 22:return e.prev=22,this.$q.loading.hide(),e.finish(22);case 25:case"end":return e.stop()}},e,this,[[1,6],[10,19,22,25]])}));return function(t){return e.apply(this,arguments)}}()},watch:{"$route.params.id":function(e){this.carregarContato()},"sincronismoStatus.concluidoErp":function(){this.carregarContato()}},created:function(){this.sistemaPai=co(),this.carregarContato()}},lg=cg,dg=(a("64ad"),Object(sc["a"])(lg,Ab,Ob,!1,null,null,null));dg.options.__file="Atendimento.vue";var ug=dg.exports,mg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"AtendimentoAnotacoes bg-white"},[a("chat-mensagens",{staticClass:"AtendimentoAnotacoes-mensagens"})],1)},pg=[];mg._withStripped=!0;var vg={components:{ChatMensagens:Ec}},hg=vg,fg=(a("72c5"),Object(sc["a"])(hg,mg,pg,!1,null,null,null));fg.options.__file="AtendimentoAnotacoes.vue";var Cg=fg.exports,bg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"AtendimentoFinanceiro row"},[e.carregando?e._e():a("div",{staticClass:"bg-white col-xs-12 col-md-8 q-px-md q-py-lg"},[a("div",{staticClass:"q-mb-md q-title"},[e._v("\n      Em aberto (Total R$ "+e._s(e._f("numero")(e.titulosEmAberto.reduce(function(e,t){return e+t.valorTotal},0),2))+")\n    ")]),e.titulosEmAberto.length?a("div",e._l(e.titulosEmAberto,function(t){return a("div",{key:t.id},[a("titulo-card",{staticClass:"q-mt-md",attrs:{dados:t},on:{executar:e.executar}},[e.carregandoIdEmpresas?a("q-spinner",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{dense:"",flat:""}}):e._e(),e.carregandoIdEmpresas||t.cheque||!e.idEmpresasPermissao.includes(t.idEmpresa)?e._e():a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{color:"primary",dense:"",flat:"",rounded:"",icon:"save_alt",size:"md"},on:{click:function(a){e.receberTitulo(t)}}},[a("q-tooltip",[e._v("Receber")])],1)],1)],1)})):a("div",[e._v("\n      Não há titulos em aberto para este contato\n    ")]),a("div",{staticClass:"q-mt-md q-mb-md q-title"},[e._v("\n      Crédito do Cliente (Saldo R$ "+e._s(e._f("numero")(e.saldo,2))+")\n    ")]),a("q-card",{staticClass:"no-shadow row q-pa-md gutter-x-sm"},[a("q-list",{staticStyle:{width:"100%"},attrs:{highlight:""}},e._l(Object.keys(e.creditoCliente),function(t){return a("div",{key:t},[a("q-list-header",{staticClass:"text-weight-bold"},[e._v(e._s(t))]),e._l(e.creditoCliente[t],function(t){return a("q-item",{key:t.id},[t.creditoDevolucao<0?a("q-item-side",{attrs:{icon:"trending_down",color:"red"}}):a("q-item-side",{attrs:{icon:"trending_up",color:"green-6"}}),a("q-item-main",{attrs:{label:"&nbsp;"}},[e._v("\n              "+e._s(t.documentoTipo)+"\n              "),a("badge",{staticClass:"q-mx-sm",attrs:{escuro:"",cor:"green-6",denso:"",round:""}},[e._v("\n                #"+e._s(parseInt((e.documentos[t.documentoId]||{}).numero)||(t.documentoId||"").slice(-6))+"\n              ")]),a("p",[a("small",[e._v("\n                  Saldo\n                ")])])],1),a("q-item-side",{attrs:{right:""}},[t.creditoDevolucao<0?a("p",{staticClass:"text-weight-bold",staticStyle:{margin:"0","text-align":"right",color:"red"}},[e._v("\n                "+e._s(e._f("numero")(t.creditoDevolucao,2))+"\n              ")]):a("p",{staticClass:"text-weight-bold",staticStyle:{margin:"0","text-align":"right",color:"#4caf50"}},[e._v("\n                "+e._s(e._f("numero")(t.creditoDevolucao,2))+"\n              ")]),t.saldo<0?a("p",{staticStyle:{margin:"0","text-align":"right",color:"red"}},[a("small",[e._v(e._s(e._f("numero")(t.saldo,2)))])]):a("p",{staticStyle:{margin:"0","text-align":"right"}},[a("small",[e._v(e._s(e._f("numero")(t.saldo,2)))])])])],1)})],2)}))],1)],1),e.carregando?e._e():a("div",{staticClass:"col-md-4 col-xs-12 q-px-md q-py-lg"},[e.titulosCliente.length?[a("div",{staticClass:"q-title text-primary"},[e._v("\n        Perfil\n      ")]),a("div",{staticClass:"gutter-x-sm row"},[a("grafico-pizza",{staticClass:"col-12",attrs:{dados:e.graficoMensal,opcoes:e.graficoOpcoesMensal}})],1)]:e._e(),a("div",{staticClass:"q-mt-lg q-title text-primary"},[e._v("\n      Histórico\n    ")]),e.titulosHistorico.length?a("div",[a("q-table",{attrs:{columns:e.historicoColunas,data:e.titulosHistorico,grid:"","rows-per-page-options":[15]}})],1):a("div",[e._v("\n      Não há titulos pagos\n    ")])],2),e.carregando?a("div",{staticClass:"q-mt-lg col-xs-12 text-center"},[a("q-spinner",{attrs:{color:"faded",size:50}})],1):e._e(),a("fatura-modal",{attrs:{id:e.modalFatura.idFatura,receberTitulo:{id:e.modalFatura.idTitulo}},on:{executar:e.executar},model:{value:e.modalFatura.visivel,callback:function(t){e.$set(e.modalFatura,"visivel",t)},expression:"modalFatura.visivel"}})],1)},gg=[];bg._withStripped=!0;var xg,_g,qg=a("1fca"),Sg={extends:qg["c"],props:{dados:{default:null,type:Object},opcoes:{default:null,type:Object}},watch:{dados:function(){this.renderChart(this.dados,this.opcoes)}},mounted:function(){this.renderChart(this.dados,this.opcoes)}},Ig=Sg,Fg=Object(sc["a"])(Ig,xg,_g,!1,null,null,null);Fg.options.__file="GraficoPizza.vue";var wg=Fg.exports,yg={components:{Badge:Bd,FaturaModal:cb,TituloCard:xv,GraficoPizza:wg},data:function(){var e=this;return{dbContato:Zn.contato,graficoMensal:{labels:["Em dia","Dentro do mês","Fora do mês","Inadimplente","Outros"],datasets:[{backgroundColor:["green","yellow","orange","red","gray"],data:[0,0,0,0,0]}]},graficoFluxo:{datasets:[{backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgb(75, 192, 192)",borderWidth:2,data:[50],label:"Entrada"},{borderWidth:2,data:[35],label:"Saída"}]},graficoOpcoesFluxo:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,padding:25}}]}},graficoOpcoesMensal:{responsive:!0,maintainAspectRatio:!1},historicoColunas:[{name:"dataPagamento",label:"Data",field:"dataPagamento",sortable:!0,format:this.$filters.diaMes},{name:"formaDePagamento",label:"Forma",field:"formaDePagamento",sortable:!0},{name:"parcela",label:"Parcelas",field:"parcela"},{name:"valor",label:"Valor",field:"valor",format:function(t){return e.$filters.numero(t,2)}}],titulosCliente:[],titulosEmAberto:[],titulosHistorico:[],creditoCliente:{},saldo:0,documentos:{},modalFatura:{visivel:!1,idFatura:"",idTitulo:""},carregando:!1,carregandoIdEmpresas:!0,idEmpresasPermissao:[]}},methods:{calculaDadosGraficoPizza:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=[],e.next=3,Zn.financeiroTitulo.le({idContato:Zn.contato.selecionado.id});case 3:for(a=e.sent,o=!0,i=!1,r=void 0,e.prev=7,s=a[Symbol.iterator]();!(o=(n=s.next()).done);o=!0)c=n.value,l=(c.dataPagamento||"").substr(0,10),d=(c.dataVencimentoOriginal||"").substr(0,10),u=na().substr(0,10),m="Outros",p="faded",d&&(l?l<=d?(m="Em dia",p="positive"):l.substr(0,7)===d.substr(0,7)?(m="Dentro do mês",p="warning"):(m="Fora do mês",p="orange"):d<u&&(m="Inadimplente",p="negative")),t.push({eixo:m,cor:p,valor:c.valorRealizado||0,dataPagamento:l,data:l||(c.dataVencimento||"").substr(0,10),dataVencimentoOriginal:d});e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](7),i=!0,r=e.t0;case 15:e.prev=15,e.prev=16,o||null==s.return||s.return();case 18:if(e.prev=18,!i){e.next=21;break}throw r;case 21:return e.finish(18);case 22:return e.finish(15);case 23:for(v={"Em dia":{q:0,v:0},"Dentro do mês":{q:0,v:0},"Fora do mês":{q:0,v:0},Inadimplente:{q:0,v:0},Outros:{q:0,v:0}},h=0;h<t.length;h++)f=t[h],v[f.eixo].q+=1,v[f.eixo].v+=f.valor;this.graficoMensal.datasets[0].data=[v["Em dia"].q,v["Dentro do mês"].q,v["Fora do mês"].q,v["Inadimplente"].q,v["Outros"].q],this.titulosCliente=t,this.graficoMensal=at()({},this.graficoMensal);case 28:case"end":return e.stop()}},e,this,[[7,11,15,23],[16,,18,22]])}));return function(){return e.apply(this,arguments)}}(),executar:function(e){this.atualizar()},receberTitulo:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h,f;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=[],o=[],e.next=4,Zn.contato.le({id:t.idEmpresa});case 4:return i=e.sent,r={},e.next=8,Zn.contato.le({id:t.idContato});case 8:return s=e.sent,n={},c={},i.id||this.$q.notify("Erro ao recuperar informações da Empresa."),e.next=14,Zn.contatoEndereco.leNew({idContato:i.id});case 14:return a=e.sent,a.length&&(r=a[0]),s.id||this.$q.notify("Erro ao recuperar informações do Contato."),e.next=19,Zn.contatoEndereco.leNew({idContato:s.id});case 19:return a=e.sent,e.next=22,Zn.contatoTelefone.leNew({idContato:s.id});case 22:return o=e.sent,a.length&&(n=a[0]),o.length&&(c=o[0]),e.next=27,Zn.fatura.leNew({status:"Aberta",idContato:s.id,idEmpresa:i.id});case 27:l=e.sent,d=!0,u=!1,m=void 0,e.prev=31,p=Object(ot["orderBy"])(l,"dataHoraEmissao","desc")[Symbol.iterator]();case 33:if(d=(v=p.next()).done){e.next=40;break}h=v.value;try{this.modalFatura={visivel:!0,idFatura:h.id,idTitulo:t.id}}catch(e){this.$q.notifyError("Não foi possível adicionar este título a uma fatura.",e)}return e.abrupt("return");case 37:d=!0,e.next=33;break;case 40:e.next=46;break;case 42:e.prev=42,e.t0=e["catch"](31),u=!0,m=e.t0;case 46:e.prev=46,e.prev=47,d||null==p.return||p.return();case 49:if(e.prev=49,!u){e.next=52;break}throw m;case 52:return e.finish(49);case 53:return e.finish(46);case 54:return e.prev=54,f={id:hi(),status:"Aberta",tipo:"Fatura",dataHoraEmissao:na(),calcularAutomatico:"Sim",idEmpresa:i.id,descricaoEmpresa:i.nome||"",numeroDocumentoEmpresa:i.numeroDocumentoNacional||"",inscricaoMunicipalEmpresa:i.numeroDocumentoMunicipal||"",idEmpresaEndereco:r.id||"",idContato:s.id,descricaoContato:s.nome||"",idContatoEndereco:n.id||"",numeroDocumentoContato:s.numeroDocumentoNacional||"",descricaoContatoEndereco:"".concat(n.logradouro||"",", ",n.numero||""," ",n.complemento||""," - ",n.bairro||""," - ",n.municipio||"","/",n.uf||""),telefoneContato:c.telefone||"",emailContato:s.email||"",regimeContato:s.regime||"",observacaoFaturamento:"",optanteSimplesNacional:"SimplesNacional"===i.regime?"1":"0",freteSeparado:!1,operacao:"Faturamento",tipoFrete:"CIF",totalDesconto:0,totalPercentualDesconto:0,subTotal:0,totalDocumento:0},e.next=58,Zn.documento.grava({atual:f});case 58:this.modalFatura={visivel:!0,idFatura:f.id,idTitulo:t.id},e.next=64;break;case 61:e.prev=61,e.t1=e["catch"](54),this.$q.notifyError("Não foi possível adicionar este título a uma fatura.",e.t1);case 64:case"end":return e.stop()}},e,this,[[31,42,46,54],[47,,49,53],[54,61]])}));return function(t){return e.apply(this,arguments)}}(),atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.carregando=!0,e.next=3,xa(500);case 3:return e.next=5,Zn.financeiroTitulo.le({idContato:Zn.contato.selecionado.id,emAberto:!0});case 5:return t=e.sent,e.next=8,Zn.financeiroTitulo.le({idContato:Zn.contato.selecionado.id,emAberto:!1});case 8:return a=e.sent,this.titulosEmAberto=Object(ot["orderBy"])(t,"dataVencimento","asc"),this.titulosHistorico=Object(ot["orderBy"])(a,"dataPagamento","asc"),this.carregandoIdEmpresas=!0,Zn.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0).then(function(e){c.idEmpresasPermissao=e.map(function(e){return e.id}),c.carregandoIdEmpresas=!1}),e.next=15,Zn.contatoCreditoExtrato.le({idContato:Zn.contato.selecionado.id});case 15:o=e.sent,o=Object(ot["orderBy"])(o,"dataEmissao","asc"),i=0,r={},o=o.filter(function(e){return"Crédito Devolução"===e.tipo}).reduce(function(e,t){var a=c.$filters.data(t.dataEmissao);return e[a]||(e[a]=[]),t.documentoId&&!r[t.documentoId]&&(r[t.documentoId]=Zn.documento.le({id:t.documentoId})),i+=t.creditoDevolucao,t.saldo=dt(i),e[a].push(t),e},{}),this.saldo=dt(i),s={},e.t0=regeneratorRuntime.keys(r);case 23:if((e.t1=e.t0()).done){e.next=30;break}return n=e.t1.value,e.next=27,r[n];case 27:s[n]=e.sent,e.next=23;break;case 30:return this.documentos=s,this.creditoCliente=o,e.next=34,this.calculaDadosGraficoPizza();case 34:this.carregando=!1;case 35:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},watch:{"dbContato.selecionado":function(){this.atualizar()}},mounted:function(){this.atualizar()}},Ng=yg,kg=Object(sc["a"])(Ng,bg,gg,!1,null,null,null);kg.options.__file="AtendimentoFinanceiro.vue";var Mg=kg.exports,Pg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"bg-white q-pb-lg"},[a("q-toolbar",{staticClass:"q-pt-lg",attrs:{color:"black",inverted:""}},[a("q-toolbar-title",[e._v("Filtros")])],1),a("div",{staticClass:"gutter-x-sm items-center q-px-lg row"},[a("q-field",{staticClass:"col-12 col-lg-4",attrs:{icon:"person"}},[a("q-select",{attrs:{"float-label":"Paciente",options:e.filtros.pacientes.todos,filter:"",multiple:""},on:{input:e.atualizar},model:{value:e.filtros.pacientes.selecionados,callback:function(t){e.$set(e.filtros.pacientes,"selecionados",t)},expression:"filtros.pacientes.selecionados"}})],1),a("q-field",{staticClass:"col-12 col-lg-4",attrs:{icon:"healing"}},[a("q-select",{attrs:{"float-label":"Médico",options:e.filtros.medicos.todos,filter:"",multiple:""},on:{input:e.atualizar},model:{value:e.filtros.medicos.selecionados,callback:function(t){e.$set(e.filtros.medicos,"selecionados",t)},expression:"filtros.medicos.selecionados"}})],1),a("q-field",{staticClass:"col-12 col-lg-4",attrs:{icon:"calendar_today"}},[a("q-select",{attrs:{"float-label":"Validade",options:e.filtros.validade.todos,multiple:""},on:{input:e.atualizar},model:{value:e.filtros.validade.selecionados,callback:function(t){e.$set(e.filtros.validade,"selecionados",t)},expression:"filtros.validade.selecionados"}})],1)],1)],1),e.receitas.length?e._e():a("div",{staticClass:"bg-white q-pa-xl text-center"},[a("p",[e._v("Não há receitas cadastradas para o contato "+e._s((e.dbContato.selecionado.nome||"").trim())+".")]),a("p",{staticClass:"q-caption"},[e._v("Para incluir, utilize o botão de adição.")])]),a("div",e._l(e.receitas,function(t){return a("div",{key:t.id,staticClass:"bg-white q-mt-md q-py-sm"},[a("q-toolbar",{attrs:{color:"black",inverted:""}},[a("q-toolbar-title",[e._v("Receita")]),a("badge",{staticClass:"q-mr-md",attrs:{cor:"positive",escuro:""}},[e._v(e._s(t.id?"#"+t.id.substr(-6,6):""))]),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:function(a){e.abrirModalReceita(t.id,!1)}}}),e.configImpressaoReceita[t.idEmpresa]?[e.configImpressaoReceita[t.idEmpresa].length>1?a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"print",round:""}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},e._l(e.configImpressaoReceita[t.idEmpresa],function(o){return a("q-item",{key:o.valor,nativeOn:{click:function(a){e.imprimir(o.valor,(t||{}).id||"0")}}},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:o.texto}})],1)}))],1)],1):a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"print",round:""},on:{click:function(a){e.imprimir(e.configImpressaoReceita[t.idEmpresa][0].valor,(t||{}).id||"0")}}})]:e._e(),a("q-btn",{attrs:{color:"faded",flat:"",icon:"more_vert",round:""}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},[a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(a){e.abrirModalReceita(t.id,!0)}}},[a("q-item-side",{attrs:{icon:"file_copy"}}),a("q-item-main",{attrs:{label:"Duplicar"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(a){e.excluirReceita(t.id)}}},[a("q-item-side",{attrs:{icon:"delete"}}),a("q-item-main",{attrs:{label:"Remover"}})],1)],1)],1)],1)],2),a("div",{staticClass:"q-mt-lg q-px-lg row gutter-sm"},[a("div",{staticClass:"col-12 col-lg-4"},[a("span",{staticClass:"q-body-1"},[e._v("Paciente: ")]),a("strong",[e._v(e._s(t.paciente.nome))])]),a("div",{staticClass:"col-12 col-lg-4"},[a("span",{staticClass:"q-body-1"},[e._v("Médico: ")]),a("strong",[e._v(e._s(t.medico.nome))])]),a("div",{staticClass:"col-12 col-lg-2"},[a("span",{staticClass:"q-body-1"},[e._v("Data: ")]),a("strong",[e._v(e._s(e._f("data")(t.data)))])]),a("div",{staticClass:"col-12 col-lg-2"},[a("span",{staticClass:"q-body-1"},[e._v("Validade: ")]),a("strong",[e._v(e._s(e._f("data")(t.validade)))])]),t.observacoes?a("div",{staticClass:"col-12"},[a("strong",{staticClass:"q-body-1"},[e._v("Observação:")]),a("p",[e._v(e._s(t.observacoes))])]):e._e()]),a("div",{staticClass:"row justify-around q-ma-lg"},[e._l(["od","oe"],function(o){return[a("q-table",{key:o,staticClass:"col-xs-12 col-xl-6 no-shadow",staticStyle:{"border-left":"1px solid rgba(0,0,0,0.12)"},attrs:{data:e.dadosTabela(o,t.prescricao),columns:e.columns,"row-key":"name",separator:"cell",dense:"","hide-bottom":""},scopedSlots:e._u([{key:"header",fn:function(t){return a("q-tr",{},[a("q-th",{key:"distancia",staticStyle:{"min-width":"110px","max-width":"110px"},attrs:{props:t}},[a("span",{staticStyle:{"font-weight":"bold !important","font-size":"120%",color:"black"}},["od"===o?[e._v("Olho Direito")]:e._e(),"oe"===o?[e._v("Olho Esquerdo")]:e._e()],2)]),a("q-th",{key:"adicao",attrs:{props:t}},[e._v("Adição")]),a("q-th",{key:"esferico",attrs:{props:t}},[e._v("Esférico")]),a("q-th",{key:"cilindrico",attrs:{props:t}},[e._v("Cilíndrico")]),a("q-th",{key:"eixo",attrs:{props:t}},[e._v("Eixo")]),a("q-th",{key:"prisma",attrs:{props:t}},[e._v("Prisma")]),a("q-th",{key:"base",attrs:{props:t}},[e._v("Base")]),a("q-th",{key:"dnp",attrs:{props:t}},[e._v("DNP")])],1)}},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"distancia",attrs:{props:t}},[e._v(e._s(t.row.distancia))]),a("q-td",{key:"adicao",attrs:{props:t}},["-"!==t.row.adicao?[e._v(e._s(e._f("numero")(t.row.adicao,2)))]:[e._v("-")]],2),a("q-td",{key:"esferico",attrs:{props:t}},["-"!==t.row.esferico?[e._v(e._s(e._f("numero")(t.row.esferico,2)))]:[e._v("-")]],2),a("q-td",{key:"cilindrico",attrs:{props:t}},["-"!==t.row.cilindrico?[e._v(e._s(e._f("numero")(t.row.cilindrico,2)))]:[e._v("-")]],2),a("q-td",{key:"eixo",attrs:{props:t}},[e._v(e._s(t.row.eixo))]),a("q-td",{key:"prisma",attrs:{props:t}},[e._v(e._s(t.row.prisma))]),a("q-td",{key:"base",attrs:{props:t}},[e._v(e._s(t.row.base))]),a("q-td",{key:"dnp",attrs:{props:t}},["-"!==t.row.dnp?[e._v(e._s(e._f("numero")(t.row.dnp,2)))]:[e._v("-")]],2)],1)]}}])})]})],2),a("div",{staticClass:"row q-ma-lg"},e._l(e.idsEnvelopeReceita[t.id],function(e){return a("envelopeCard",{key:e,staticClass:"col-12",attrs:{id:e}})}))],1)})),a("receita",{attrs:{id:e.modalReceita.id,idEmpresa:e.modalReceita.idEmpresa,duplicarReceita:e.modalReceita.duplicar},on:{atualizar:e.atualizar},model:{value:e.modalReceita.visivel,callback:function(t){e.$set(e.modalReceita,"visivel",t)},expression:"modalReceita.visivel"}}),a("q-btn",{staticClass:"fixed",staticStyle:{right:"18px",bottom:"18px"},attrs:{round:"",color:"primary",icon:"add",size:"lg"},on:{click:function(t){e.abrirModalReceita("",!1)}}}),a("prompt-contato-novo",{attrs:{filtro:{ativo:!0,empresas:!0},placeholder:"Selecione a empresa"},on:{selecionar:e.selecionarEmpresa},model:{value:e.modalContatoEmpresa.visivel,callback:function(t){e.$set(e.modalContatoEmpresa,"visivel",t)},expression:"modalContatoEmpresa.visivel"}})],1)},Dg=[];Pg._withStripped=!0;var Eg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("q-card",{staticClass:"card q-pt-md q-pa-xs"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"q-px-sm"},[a("q-toolbar-title",[e._v("\n            Envelope\n          ")]),a("q-chip",{staticClass:"q-ma-sm q-my-sm",attrs:{rounded:"",color:"grey",small:""}},[e._v("\n            "+e._s(e.envelope.status)+"\n          ")]),e._.get(e.envelope,"itens.length")?a("q-list",{staticClass:"no-border"},e._l(e.envelope.itens,function(t){return a("q-item",{key:t.id,staticClass:"q-pa-none",staticStyle:{"min-height":"auto"}},[a("q-item-side",[a("small",[e._v(e._s(t.quantidade)+"x")])]),a("q-item-main",[a("small",[e._v("\n                  "+e._s(t.descricaoItem)+"\n                ")])]),a("q-item-side",{attrs:{right:""}},[a("small",[e._v(e._s(e._f("numero")(t.total,2)))])])],1)})):e._e()],1)]),a("div",{staticClass:"col-12 col-md-3"},[a("div",{staticClass:"q-px-sm"},[a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("\n            #"+e._s(parseInt(e.envelope.numero)||(e.envelope.id||"").slice(-6))+"\n          ")])],1)]),a("div",{staticClass:"col-6 col-md-3"},[a("div",{staticClass:"q-px-sm"},[e.pupilometro.mostrarBotao?a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{icon:"mdi-eye-settings-outline",color:"primary",size:"md",rounded:"",dense:"",flat:""},on:{click:function(t){e.abrirModalPupilometro()}}}):e._e(),e.arquivos.mostrarBotao?a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"mdi-paperclip",color:"primary",size:"md"},on:{click:function(t){e.abrirModalArquivos()}}}):e._e(),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"print",color:"primary",size:"md"}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},e._l(e.configImpressaoEnvelope,function(t){return a("q-item",{key:t.valor,nativeOn:{click:function(a){e.imprimir(t.valor,e.envelope.documentoId||"0")}}},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:t.texto}})],1)}))],1)],1)],1)])])]),a("q-modal",{attrs:{maximized:""},model:{value:e.pupilometro.mostrarModal,callback:function(t){e.$set(e.pupilometro,"mostrarModal",t)},expression:"pupilometro.mostrarModal"}},[a("q-modal-layout",[a("pupilometro",{attrs:{avancar:"Medidas",somenteLeitura:!0},on:{fecharModal:function(t){e.pupilometro.mostrarModal=!1}}})],1)],1),e._.get(e.arquivos,"arr.length")?a("q-modal",{model:{value:e.arquivos.mostrarModal,callback:function(t){e.$set(e.arquivos,"mostrarModal",t)},expression:"arquivos.mostrarModal"}},[a("q-modal-layout",[e.arquivos.obj.id?[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{attrs:{dense:"",flat:"",icon:"arrow_back",round:""},nativeOn:{click:function(t){e.arquivos.obj={}}}}),a("q-toolbar-title",[e._v(e._s(e.arquivos.obj.nome))]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),a("div",{staticClass:"q-pa-lg"},[a("img",{staticStyle:{"max-height":"750px"},attrs:{src:e.arquivos.obj.arquivo}})])]:[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Imagens")]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),a("q-list",e._l(e.arquivos.arr,function(t){return a("q-item",{key:t.id,attrs:{multiline:""}},[a("q-item-side",{staticStyle:{cursor:"pointer"},attrs:{image:t.arquivo},nativeOn:{click:function(a){e.arquivos.obj=t}}}),a("q-item-main",{attrs:{label:t.nome}})],1)}))]],2)],1):e._e()],1)},Tg=[];Eg._withStripped=!0;var Ag={components:{Badge:Bd,Pupilometro:bf},data:function(){return{arquivos:{},configImpressaoEnvelope:[],envelope:{},pupilometro:{}}},methods:{abrirModalArquivos:function(){this.arquivos.obj={},this.arquivos.mostrarModal=!0},abrirModalPupilometro:function(){Zn.pupilometro.limpar(),Zn.pupilometro.foto=this.pupilometro.obj.foto,Zn.pupilometro.fotoOriginal=this.pupilometro.obj.fotoOriginal,Zn.pupilometro.medidas=this.pupilometro.obj.medidas,this.pupilometro.mostrarModal=!0},atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He().documento.get(this.id);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:if(t=e.t0,!t.id){e.next=18;break}return e.next=9,He().documentoItem.where({idDocumentoAdicional:this.id}).toArray();case 9:return a=e.sent,a=a.filter(function(e){return e.idItem}),e.next=13,He().arquivo.where({idTabelaMaster:this.id}).toArray();case 13:o=e.sent,this.arquivos=this.createFreshArquivos(),o.length&&(this.arquivos.arr=o,this.arquivos.mostrarBotao=!0),t.documentoId&&t.idEmpresa&&this.configuraImpressaoEnvelope(t.idEmpresa),this.envelope=at()({},t,{itens:a});case 18:this.carregarPupilometro();case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),carregarPupilometro:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He().json.where({descricao:"Pupilômetro",referencia:"idEnvelope:"+this.id}).toArray();case 2:if(t=e.sent,a=(t.find(function(e){return e.id})||{}).json,this.pupilometro=this.createFreshPupilometro(),a&&(this.pupilometro.obj=JSON.parse(a),this.pupilometro.mostrarBotao=!0),e.t0=this.pupilometro.mostrarBotao,!e.t0){e.next=11;break}return e.next=10,Zn.permissao.objeto("pupilometro");case 10:e.t0=e.sent;case 11:this.pupilometro.mostrarBotao=e.t0;case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),configuraImpressaoEnvelope:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.configuracoes.porNome("impressao.envelope",t);case 2:a=e.sent,this.configImpressaoEnvelope=la()(a.length?a.map(function(e){return at()({texto:"Imprimir Envelope"},e)}):[{valor:"envelope",texto:"Imprimir Envelope"},{valor:"envelopeMini",texto:"Imprimir Envelope Mini"}]);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),createFreshArquivos:function(){return{mostrarBotao:!1,mostrarModal:!1,obj:{},arr:[]}},createFreshPupilometro:function(){return{mostrarBotao:!1,mostrarModal:!1,obj:{}}}},props:{id:{type:String,required:!0}},created:function(){this.atualizar()}},Og=Ag,$g=(a("6903"),Object(sc["a"])(Og,Eg,Tg,!1,null,"ecd616d0",null));$g.options.__file="EnvelopeCard.vue";var Rg=$g.exports,jg={components:{Badge:Bd,EnvelopeCard:Rg,PromptContatoNovo:Yd,Receita:Ch},data:function(){return{columns:[{name:"distancia",align:"left",field:"distancia",style:"font-weight:bold;min-width:110px"},{name:"adicao",align:"center",field:"adicao"},{name:"esferico",align:"center",field:"esferico"},{name:"cilindrico",align:"center",field:"cilindrico"},{name:"eixo",align:"center",field:"eixo"},{name:"prisma",align:"center",field:"prisma"},{name:"base",align:"center",field:"base"},{name:"dnp",align:"center",field:"dnp"}],dbContato:Zn.contato,configImpressaoReceita:{},modalContatoEmpresa:{visivel:!1},modalReceita:{visivel:!1,id:"",idEmpresa:"",duplicar:!1},receitas:[],idsEnvelopeReceita:{},filtro:{},filtros:{pacientes:{todos:[],selecionados:[]},medicos:{todos:[],selecionados:[]},validade:{todos:[{label:"Vencido",value:"vencido"},{label:"À vencer",value:"aVencer"}],selecionados:[]}}}},methods:{configuraImpressaoReceita:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.configImpressaoReceita[t]){e.next=2;break}return e.abrupt("return");case 2:return a=[],e.next=5,Zn.configuracoes.porNome("impressao.receita",t);case 5:o=e.sent,a=o.length?o.map(function(e){return at()({texto:"Imprimir Receita"},e)}):[{valor:"receita-qrcode",texto:"Imprimir Receita"}],this.$set(this.configImpressaoReceita,t,a);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),dadosTabela:function(e,t){for(var a,o,i,r,s,n=[],c=Object(ot["get"])(t,"prisma.".concat(e,".valor"))||"-",l=Object(ot["get"])(t,"prisma.".concat(e,".base"),"").trim()||"-",d=[{label:"Longe",value:"longe"},{label:"Médio",value:"medio"},{label:"Perto",value:"perto"}],u=0;u<d.length;u++){var m=d[u];a=Object(ot["get"])(t,"dioptria.".concat(e,".").concat(m.value,".adicao"),"-"),o=Object(ot["get"])(t,"dioptria.".concat(e,".").concat(m.value,".esferico")),i=Object(ot["get"])(t,"dioptria.".concat(e,".").concat(m.value,".cilindrico")),r=Object(ot["get"])(t,"dioptria.".concat(e,".").concat(m.value,".eixo")),s=Object(ot["get"])(t,"dioptria.".concat(e,".").concat(m.value,".dnp")),(o||i||r||s)&&n.push({distancia:m.label,adicao:a,esferico:o,cilindrico:i,eixo:r,prisma:c,base:l,dnp:s})}return n},habilitaPerto:function(e){var t=!1,a=!1;return(Object(ot["get"])(e,"dioptria.od.longe.esferico")||Object(ot["get"])(e,"dioptria.od.longe.cilindrico")||Object(ot["get"])(e,"dioptria.od.longe.eixo")||Object(ot["get"])(e,"dioptria.od.longe.dnp")||Object(ot["get"])(e,"dioptria.oe.longe.esferico")||Object(ot["get"])(e,"dioptria.oe.longe.cilindrico")||Object(ot["get"])(e,"dioptria.oe.longe.eixo")||Object(ot["get"])(e,"dioptria.oe.longe.dnp"))&&(a=!0),!a&&(Object(ot["get"])(e,"dioptria.od.perto.cilindrico")||Object(ot["get"])(e,"dioptria.od.perto.eixo")||Object(ot["get"])(e,"dioptria.oe.perto.cilindrico")||Object(ot["get"])(e,"dioptria.oe.perto.eixo"))&&(t=!0),t},abrirModalReceita:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=6;break}return e.next=4,Zn.documento.le({id:t});case 4:i=e.sent,i.idEmpresa&&(o=i.idEmpresa);case 6:if(t&&o){e.next=11;break}return this.modalContatoEmpresa.visivel=!0,e.next=10,new Promise(function(e,t){r.modalContatoEmpresa.resolve=e});case 10:o=this.modalContatoEmpresa.id;case 11:if(o){e.next=13;break}return e.abrupt("return");case 13:this.modalReceita={visivel:!0,id:t||hi(),idEmpresa:o,duplicar:a},e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](0),this.modalReceita={visivel:!1,id:"",idEmpresa:"",duplicar:!1},this.$q.notifyError("Ocorreu um erro ao carregar a receita.",e.t0);case 20:case"end":return e.stop()}},e,this,[[0,16]])}));return function(t,a){return e.apply(this,arguments)}}(),atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w,y=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=[],e.next=3,He().documento.where({tipo:"Prescrição"}).toArray();case 3:if(a=e.sent,o=at()({idContato:Zn.contato.selecionado.id,idsPaciente:[],idsMedico:[],validade:""},this.filtro),o.idContato){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,Zn.contato.leFilhos(o.idContato);case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0=[];case 12:i=e.t0,i.push({id:o.idContato}),r=!0,s=!1,n=void 0,e.prev=17,c=a[Symbol.iterator]();case 19:if(r=(l=c.next()).done){e.next=29;break}if(d=l.value,i.map(function(e){return e.id}).includes(d.idContato)){e.next=23;break}return e.abrupt("continue",26);case 23:if("Prescrição"===d.tipo){e.next=25;break}return e.abrupt("continue",26);case 25:t.push(d);case 26:r=!0,e.next=19;break;case 29:e.next=35;break;case 31:e.prev=31,e.t1=e["catch"](17),s=!0,n=e.t1;case 35:e.prev=35,e.prev=36,r||null==c.return||c.return();case 38:if(e.prev=38,!s){e.next=41;break}throw n;case 41:return e.finish(38);case 42:return e.finish(35);case 43:u={},m={},e.t2=regeneratorRuntime.keys(t);case 46:if((e.t3=e.t2()).done){e.next=55;break}return p=e.t3.value,e.next=50,Zn.receita.le({id:t[p].id});case 50:t[p]=e.sent,u[t[p].medico.id]={nome:t[p].medico.nome},m[t[p].paciente.id]={nome:t[p].paciente.nome},e.next=46;break;case 55:for(h in v=[],u)v.push({value:h,label:u[h].nome});for(C in this.filtros.medicos.todos=v,f=[],m)f.push({value:C,label:m[C].nome});this.filtros.pacientes.todos=f,b=this.filtros.pacientes.selecionados.filter(function(e){return f.map(function(e){return e.value}).includes(e)}),this.filtros.pacientes.selecionados=b,g=this.filtros.medicos.selecionados.filter(function(e){return v.map(function(e){return e.value}).includes(e)}),this.filtros.medicos.selecionados=g,this.filtros.pacientes.selecionados.length&&(t=t.filter(function(e){return y.filtros.pacientes.selecionados.includes(e.paciente.id)})),this.filtros.medicos.selecionados.length&&(t=t.filter(function(e){return y.filtros.medicos.selecionados.includes(e.medico.id)})),1===this.filtros.validade.selecionados.length&&(x=(new Date).setHours(0,0,0,0),this.filtros.validade.selecionados.includes("vencido")&&(t=t.filter(function(e){var t=new Date(e.validade).setHours(0,0,0,0);return t<x})),this.filtros.validade.selecionados.includes("aVencer")&&(t=t.filter(function(e){var t=new Date(e.validade).setHours(0,0,0,0);return t>=x}))),_=!0,q=!1,S=void 0,e.prev=71,I=regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=w.value,a=[],e.next=4,He().documento.where({idDocumentoAdicional:t.id}).each(function(e){a.push(e.id)});case 4:y.idsEnvelopeReceita[t.id]=a,y.configuraImpressaoReceita(t.idEmpresa);case 6:case"end":return e.stop()}},e)}),F=t[Symbol.iterator]();case 74:if(_=(w=F.next()).done){e.next=79;break}return e.delegateYield(I(),"t4",76);case 76:_=!0,e.next=74;break;case 79:e.next=85;break;case 81:e.prev=81,e.t5=e["catch"](71),q=!0,S=e.t5;case 85:e.prev=85,e.prev=86,_||null==F.return||F.return();case 88:if(e.prev=88,!q){e.next=91;break}throw S;case 91:return e.finish(88);case 92:return e.finish(85);case 93:ei.log("AtendimentoOticaReceita","atualizar",t),this.receitas=Object(ot["orderBy"])(t,"validade","desc");case 95:case"end":return e.stop()}},e,this,[[17,31,35,43],[36,,38,42],[71,81,85,93],[86,,88,92]])}));return function(){return e.apply(this,arguments)}}(),excluirReceita:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$q.dialog({cancel:"Cancelar",message:"Esta ação irá excluir a receita.",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return");case 8:return e.prev=8,e.next=11,Zn.receita.exclui(t);case 11:this.$q.notifyPositive("Receita excluída com sucesso."),e.next=17;break;case 14:e.prev=14,e.t1=e["catch"](8),this.$q.notifyError("Ocorreu um erro ao excluir a receita.",e.t1);case 17:this.atualizar();case 18:case"end":return e.stop()}},e,this,[[0,5],[8,14]])}));return function(t){return e.apply(this,arguments)}}(),selecionarEmpresa:function(e){this.modalContatoEmpresa.id=e,this.modalContatoEmpresa.resolve&&this.modalContatoEmpresa.resolve()}},watch:{"dbContato.selecionado":function(e){ei.log("AtendimentoOticaReceita","watch contato",e),this.atualizar()}},mounted:function(){this.atualizar()}},zg=jg,Bg=Object(sc["a"])(zg,Pg,Dg,!1,null,null,null);Bg.options.__file="AtendimentoOticaReceita.vue";var Lg=Bg.exports,Vg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"AtendimentoVenda q-pb-md"},[a("q-card",{staticClass:"shadow-3 row no-shadow"},[a("div",{staticClass:"col-12"},[a("q-toolbar",{staticClass:"no-shadow q-pa-none",attrs:{"text-color":"black",color:"transparent"}},[a("q-toolbar-title",{staticClass:"q-pa-none"},[a("div",{staticClass:"filters row content-stretch justify-between q-pt-sm q-pr-sm q-ma-md gutter-x-sm bg-white",staticStyle:{"border-radius":"5px","min-height":"50px"}},[a("div",{staticClass:"col-8"},[a("div",{staticClass:"row q-mb-sm"},[a("q-btn",{staticClass:"no-shadow",attrs:{icon:"mdi-filter",round:"",dense:"",flat:"",color:"faded"}}),a("q-chips-input",{staticClass:"col q-mx-md",attrs:{color:"faded",placeholder:e.grupos.length?"":"Filtre por Produto, Marca, Número..."},on:{input:e.atualizar},model:{value:e.grupos,callback:function(t){e.grupos=t},expression:"grupos"}})],1)]),a("div",{staticClass:"col-auto"},[a("div",{staticClass:"row q-mb-sm"},[a("campo",{staticClass:"col q-mx-md",attrs:{tipo:"data"},on:{input:e.atualizar},model:{value:e.dataIni,callback:function(t){e.dataIni=t},expression:"dataIni"}})],1)]),a("div",{staticClass:"col-auto"},[a("div",{staticClass:"row q-mb-sm"},[a("label",{staticClass:"q-mx-md col-auto"},[e._v("até")])])]),a("div",{staticClass:"col-auto"},[a("div",{staticClass:"row q-mb-sm"},[a("campo",{staticClass:"col q-mx-md",attrs:{tipo:"data"},on:{input:e.atualizar},model:{value:e.dataFim,callback:function(t){e.dataFim=t},expression:"dataFim"}})],1)])])]),a("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"more_vert",color:"primary",size:"lg"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{link:"","no-border":"",separator:""}},["itens"===e.tipoLista?a("q-item",{nativeOn:{click:function(t){return e.alternarLista(t)}}},[a("q-item-side",{attrs:{icon:"view_stream"}}),a("q-item-main",{attrs:{label:"Vendas"}})],1):e._e(),"documentos"===e.tipoLista?a("q-item",{nativeOn:{click:function(t){return e.alternarLista(t)}}},[a("q-item-side",{attrs:{icon:"view_list"}}),a("q-item-main",{attrs:{label:"Produtos e Serviços"}})],1):e._e(),a("q-item",[a("a",{staticStyle:{"text-decoration":"none",color:"inherit",outline:"0",cursor:"pointer"},attrs:{href:e.urlHistoricoCliente,target:"_blank"}},[a("q-item-side",{attrs:{icon:"mdi-account-card-details"}})],1),a("a",{staticStyle:{"margin-left":"10px","text-decoration":"none",color:"inherit",outline:"0",cursor:"pointer"},attrs:{href:e.urlHistoricoCliente,target:"_blank"}},[a("q-item-main",{attrs:{label:"Histórico do Cliente"}})],1)])],1)],1),a("q-tooltip",[e._v("\n            Outras opções\n          ")])],1)],1)],1)]),!e.carregando&&e.temRegistros&&"documentos"===e.tipoLista?a("q-list",{staticClass:"no-border"},[e.temVendasAbertas?a("q-collapsible",{attrs:{opened:"",label:"Abertas",group:"vendasAbertas"}},e._l(e.vendasAbertas,function(t){return a("div",{key:t.id},[a("venda-card",{staticClass:"q-mb-md",attrs:{id:t.id},on:{executar:e.executar}})],1)})):e._e(),e.temVendasFinalizadas?a("q-collapsible",{attrs:{opened:"",label:"Finalizadas",group:"vendasFinalizadas"}},e._l(e.vendasFinalizadas,function(t){return a("div",{key:t.id},[a("venda-card",{staticClass:"q-mb-md",attrs:{id:t.id},on:{executar:e.executar}})],1)})):e._e(),e.temVendasCanceladas?a("q-collapsible",{attrs:{opened:"",label:"Canceladas",group:"vendasCanceladas"}},e._l(e.vendasCanceladas,function(t){return a("div",{key:t.id},[a("venda-card",{staticClass:"q-mb-md",attrs:{id:t.id},on:{executar:e.executar}})],1)})):e._e()],1):e._e(),!e.carregando&&e.temRegistros&&"itens"===e.tipoLista?a("q-table",{staticClass:"no-shadow text-left",attrs:{data:e.documentosItens,columns:e.colunas,pagination:e.paginacao},on:{"update:pagination":function(t){e.paginacao=t}},scopedSlots:e._u([{key:"body",fn:function(t){return a("q-tr",{attrs:{props:t}},[a("q-td",{key:"descricao",attrs:{props:t}},[a("div",{staticClass:"row items-center"},[a("avatar",{staticClass:"q-mr-sm",attrs:{imagem:e.itens[t.row.idItem].imagem,rotulo:e.itens[t.row.idItem].descricaoConcatenada,tamanho:"40"}}),e._v("\n          "+e._s(t.row.idItem?e.itens[t.row.idItem].descricaoConcatenada:"")),a("br"),e._v("\n          "+e._s(t.row.idItem&&e.itens[t.row.idItem].referencia?"Ref. "+e.itens[t.row.idItem].referencia:"")),a("br"),e._v("\n          "+e._s(t.row.idItem&&e.itens[t.row.idItem].codigoItem?"#"+e.itens[t.row.idItem].codigoItem:"")),a("br"),e._v("\n          "+e._s(t.row.idItem&&e.itens[t.row.idItem].marca||"")+"\n        ")],1)]),a("q-td",{key:"documento",attrs:{props:t}},[e._v("\n        "+e._s(e.documentos[t.row.idDocumento].tipo)+"\n        #"+e._s(parseInt(e.documentos[t.row.idDocumento].numero)||(e.documentos[t.row.idDocumento].id||"").slice(-6))),a("br"),e._v("\n        "+e._s(e.documentos[t.row.idDocumento].status)),a("br"),e._v("\n        "+e._s(e._f("dataHora")(e.documentos[t.row.idDocumento].dataHoraFinalizado||e.documentos[t.row.idDocumento].dataHoraEmissao))+"\n      ")]),a("q-td",{key:"valorUnitario",attrs:{props:t}},[t.row.valorReal!==t.row.valorItem?a("span",{staticStyle:{"text-decoration":"line-through"}},[e._v("\n          "+e._s(e._f("numero")(t.row.valorItem,2))+"\n        ")]):e._e(),e._v("\n        "+e._s(e._f("numero")(t.row.valorReal,2))+"\n      ")]),a("q-td",{key:"quantidade",attrs:{props:t}},[e._v(e._s(t.row.quantidade*t.row.operacaoFator*-1))]),a("q-td",{key:"valorTotal",attrs:{props:t}},[e._v(e._s(e._f("numero")(t.row.valorRealTotal,2)))]),a("q-td",{key:"botao",attrs:{props:t}},[-1===t.row.operacaoFator?a("q-btn",{staticClass:"q-ml-sm",attrs:{color:"warning",dense:"",flat:"",icon:"replay",round:""},on:{click:function(a){e.abrirModalDevolucaoGarantia(t.row)}}},[a("q-tooltip",[e._v("Devolução/Garantia")])],1):e._e(),a("q-btn",{attrs:{color:"primary",icon:"add",dense:"",flat:"",round:""}},[a("q-tooltip",[e._v("Vender")])],1)],1)],1)}}])}):e._e(),e.carregando||e.temRegistros?e._e():a("div",{staticClass:"q-pa-lg text-center"},[e._m(0)]),e.carregando?a("div",{staticClass:"q-mt-lg text-center"},[a("q-spinner",{attrs:{color:"faded",size:50}})],1):e._e(),a("q-btn",{staticClass:"fixed",staticStyle:{right:"18px",bottom:"18px"},attrs:{round:"",color:"primary",icon:"add",size:"lg"},on:{click:e.adicionarOrcamento}}),a("venda-modal",{attrs:{id:e.modalVenda.orcamento.id},on:{executar:e.executar},model:{value:e.modalVenda.visivel,callback:function(t){e.$set(e.modalVenda,"visivel",t)},expression:"modalVenda.visivel"}}),a("venda-devolucao-garantia",{on:{executa:e.finalizaDevolucaoGarantia},model:{value:e.modalDevolucaoGarantia.visivel,callback:function(t){e.$set(e.modalDevolucaoGarantia,"visivel",t)},expression:"modalDevolucaoGarantia.visivel"}}),a("NFePrincipal",{on:{fechar:e.fechouNFe}})],1)},Ug=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("small",[e._v("Registros não encontrados")])])}];Vg._withStripped=!0;var Hg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-modal",{attrs:{maximized:""},on:{hide:e.fecharNFe},model:{value:e.modalNFe,callback:function(t){e.modalNFe=t},expression:"modalNFe"}},[a("q-modal-layout",{staticClass:"bg-grey-4"},[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("Nota Fiscal")]),e.carregando||"Em digitação"!==e.nota.situacao?e._e():a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"white","text-color":"primary",label:"Salvar"},on:{click:e.salvarNFe}})],1),a("div",{staticClass:"layout-padding q-pa-none q-pb-xl"},[a("div",{staticClass:"u-container"},[e.carregando?a("div",[a("div",{staticClass:"q-mt-lg text-center"},[a("q-spinner",{attrs:{color:"faded",size:50}})],1)]):a("div",{staticClass:"q-mt-lg"},[e.nota.id?a("NFeFormulario",{attrs:{nota:e.nota}}):e._e()],1)])]),a("q-toolbar",{staticClass:"footer",staticStyle:{background:"#eee !important"},attrs:{slot:"footer"},slot:"footer"},[a("q-toolbar-title",{staticClass:"text-right"},[["Emitido","Carta de Correção"].includes(e.nota.situacao)?[a("q-btn",{staticClass:"q-mx-md",attrs:{color:"negative",flat:"",label:"Cancelar Nota"},on:{click:e.cancelarNFe}}),a("q-btn",{attrs:{color:"primary",flat:"",label:"Carta Correção"},on:{click:e.cartaCorrecaoNFe}})]:e._e(),"Em digitação"===e.nota.situacao?[a("q-btn",{staticClass:"q-mx-md",attrs:{color:"negative",flat:"",label:"Remover"},on:{click:e.removerNFe}}),a("q-btn",{attrs:{color:"primary",label:"Emitir"},on:{click:e.emitirNFe}})]:e._e()],2)],1)],1)],1),e.nota.id?a("NFeCartaCorrecao",{ref:"modalCartaCorrecao",attrs:{nota:e.nota},on:{salvar:e.salvarNFeNucleo,atualizar:e.atualizar}}):e._e(),e.nota.id?a("NFeCancelamento",{ref:"modalCancelamento",attrs:{nota:e.nota},on:{salvar:e.salvarNFeNucleo,atualizar:e.atualizar}}):e._e(),a("q-modal",{attrs:{"content-css":{width:"100vw",maxWidth:"768px"}},model:{value:e.modalNFeRemessa,callback:function(t){e.modalNFeRemessa=t},expression:"modalNFeRemessa"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Nota Fiscal de Remessa")])],1),a("form",{on:{submit:function(t){return t.preventDefault(),e.gerarNFe(t)}}},[a("div",{staticClass:"layout-padding"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{ajuda:e.descricaoCfop,before:[{icon:"search",handler:e.abrirModalCfop}],rotulo:"CFOP",tipo:"texto","somente-leitura":""},on:{click:e.abrirModalCfop},model:{value:e.params.cfop,callback:function(t){e.$set(e.params,"cfop",t)},expression:"params.cfop"}})],1)]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",color:"primary",label:"Cancelar"}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Enviar"}})],1)])],1)],1)],1)],1),a("PromptCfop",{on:{selecionar:e.selecionarCfop},model:{value:e.modalCfop,callback:function(t){e.modalCfop=t},expression:"modalCfop"}})],1)},Qg=[];Hg._withStripped=!0;var Gg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{"content-css":{width:"100vw",maxWidth:"768px"}},model:{value:e.modalCancelamento,callback:function(t){e.modalCancelamento=t},expression:"modalCancelamento"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Nota Fiscal / Cancelamento")])],1),a("form",{on:{submit:function(t){return t.preventDefault(),e.transmitirCancelamento(t)}}},[a("div",{staticClass:"layout-padding"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-6 col-md-2",attrs:{rotulo:"Número da nota",tipo:"texto","somente-leitura":""},model:{value:e.infNFe.ide.nNF,callback:function(t){e.$set(e.infNFe.ide,"nNF",t)},expression:"infNFe.ide.nNF"}}),a("campo",{staticClass:"col-6 col-md-2",attrs:{rotulo:e.metadados.infNFe.ide.serie._titulo,tipo:"texto","somente-leitura":""},model:{value:e.infNFe.ide.serie,callback:function(t){e.$set(e.infNFe.ide,"serie",t)},expression:"infNFe.ide.serie"}}),a("campo",{staticClass:"col-12 col-md-8",attrs:{rotulo:e.metadados.infEvento.chNFe._titulo,tipo:"texto","somente-leitura":""},model:{value:e.infEvento.chNFe,callback:function(t){e.$set(e.infEvento,"chNFe",t)},expression:"infEvento.chNFe"}}),a("campo",{ref:"nfeJustificativaCancelamento",staticClass:"col-12 q-mt-lg",attrs:{"rotulo-fixo":e.metadados.infEvento.detEvento.xJust._titulo,tipo:"textoArea",rows:"3"},model:{value:e.infEvento.detEvento.xJust,callback:function(t){e.$set(e.infEvento.detEvento,"xJust","string"===typeof t?t.trim():t)},expression:"infEvento.detEvento.xJust"}})],1)]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",color:"primary",label:"Cancelar"}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Enviar"}})],1)])],1)],1)],1)],1)},Jg=[];Gg._withStripped=!0;var Xg={computed:{badgeCor:function(){return"Emitido"===this.nota.situacao?"positive":"Carta de Correção"===this.nota.situacao?"orange":"Cancelado"===this.nota.situacao?"orange":"Em digitação"===this.nota.situacao?"faded":"negative"},outrosNFe:function(){return this.nota.outrosNFe},infNFe:function(){return this.nota.infNFe},metadados:function(){return Et}},data:function(){return{}},methods:{adicionarLinhaNaLista:function(e,t){var a=vu.executa(t,{},"NFe");e.push(a)},calcularTotais:function(){this.verificaSePodeAlterar()&&Rp.calculaTotais(this.infNFe,this.outrosNFe,Et)},calcularTotaisSemDistribuir:function(){this.verificaSePodeAlterar()&&Rp.calculaTotais(this.infNFe,this.outrosNFe,Et,!1)},removerLinhaDaLista:function(e,t){e.splice(t,1),this.calcularTotais()},verificaSePodeAlterar:function(){return!(this.outrosNFe.importada||this.outrosNFe.transmitida)}},validations:mu.executa(Et)},Yg={components:{Campo:Sl},data:function(){return{modalCancelamento:!1,infEvento:vu.executa(Et.infEvento,{})}},methods:{abrirModalCancelamento:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("NFeCancelamento","abrirModalCancelamento"),this.infEvento=vu.executa(Et.infEvento,{cOrgao:this.nota.infNFe.ide.cUF,tpAmb:this.nota.infNFe.ide.tpAmb,escolhas:{valor_escolha:this.nota.infNFe.emit.escolhas.valor_escolha,CNPJ:this.nota.infNFe.emit.escolhas.CNPJ,CPF:this.nota.infNFe.emit.escolhas.CPF},chNFe:this.nota.outrosNFe.chNFe,dhEvento:Ot.formatarDataNFe(new Date),nSeqEvento:"1",detEvento:{nProt:this.outrosNFe.nProt_emissao,xJust:"Nota cancelada devido divergencia de informacoes"}}),this.modalCancelamento=!0,e.next=5,this.$nextTick();case 5:this.$refs.nfeJustificativaCancelamento.focus();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),transmitirCancelamento:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t="Erro na operação de Cancelamento",e.prev=1,ei.log("NFeCancelamento","transmitirCancelamento",this.infEvento),Po(!this.infEvento.detEvento.xJust,"Justificativa não preenchida"),a=at()({},this.nota),this.infEvento.detEvento.xJust=oo(this.infEvento.detEvento.xJust),a.infEvento=pu.executa(Et.infEvento,this.infEvento),!pu.erros.length){e.next=10;break}return qa.$emit("mostrarModalAlerta",{titulo:"Erro de validação",erros:pu.erros}),e.abrupt("return");case 10:return Oe["a"].show({spinner:hu["a"],spinnerColor:"amber",message:"Selecionando Certificado e Trasmitindo o Cancelamento"}),t="Ocorreu um erro ao transmitir o Cancelamento",o=It.EventoNFe(Et.infEvento,a.infEvento,a.infNFe.ide.nNF),e.next=15,Vt.servicoIntegrador(a,o,"CancelaNFe","Cancelamento",a.infEvento.nSeqEvento,{},"NFe",this.nota.outrosNFe.idContatoEmitente);case 15:if(i=e.sent,this.$emit("salvar",a),"Erro"!==i.status){e.next=22;break}return ei.log("NFeCancelamento",i),r=la()((i.mensagem||"").split("\n")).concat(la()((i.complemento||"").split("\n"))),qa.$emit("mostrarModalAlerta",{titulo:i.status,erros:r}),e.abrupt("return");case 22:this.$q.notifyPositive(i.mensagem),this.modalCancelamento=!1,this.$emit("atualizar"),e.next=31;break;case 27:e.prev=27,e.t0=e["catch"](1),this.$q.notifyError(t,e.t0),this.$emit("atualizar");case 31:return e.prev=31,Oe["a"].hide(),e.finish(31);case 34:case"end":return e.stop()}},e,this,[[1,27,31,34]])}));return function(){return e.apply(this,arguments)}}()},mixins:[Xg],props:{nota:{required:!0,type:Object}},created:function(){ei.log("NFeCancelamento","created()")}},Wg=Yg,Zg=(a("05fa"),Object(sc["a"])(Wg,Gg,Jg,!1,null,null,null));Zg.options.__file="NFeCancelamento.vue";var Kg=Zg.exports,ex=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{"content-css":{width:"100vw",maxWidth:"768px"}},model:{value:e.modalCartaCorrecao,callback:function(t){e.modalCartaCorrecao=t},expression:"modalCartaCorrecao"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Nota Fiscal / Carta de Correção")])],1),a("form",{on:{submit:function(t){return t.preventDefault(),e.transmitirCartaCorrecao(t)}}},[a("div",{staticClass:"layout-padding"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-6 col-md-2",attrs:{rotulo:"Número da nota",tipo:"texto","somente-leitura":""},model:{value:e.infNFe.ide.nNF,callback:function(t){e.$set(e.infNFe.ide,"nNF",t)},expression:"infNFe.ide.nNF"}}),a("campo",{staticClass:"col-6 col-md-2",attrs:{rotulo:e.metadados.infNFe.ide.serie._titulo,tipo:"texto","somente-leitura":""},model:{value:e.infNFe.ide.serie,callback:function(t){e.$set(e.infNFe.ide,"serie",t)},expression:"infNFe.ide.serie"}}),a("campo",{staticClass:"col-12 col-md-8",attrs:{rotulo:e.metadados.infEvento.chNFe._titulo,tipo:"texto","somente-leitura":""},model:{value:e.infEvento.chNFe,callback:function(t){e.$set(e.infEvento,"chNFe",t)},expression:"infEvento.chNFe"}}),a("campo",{staticClass:"col-12",attrs:{"rotulo-fixo":"Condições de uso da Carta de Correção",tipo:"textoArea","somente-leitura":""},model:{value:e.infEvento.detEvento.xCondUso,callback:function(t){e.$set(e.infEvento.detEvento,"xCondUso","string"===typeof t?t.trim():t)},expression:"infEvento.detEvento.xCondUso"}}),a("campo",{ref:"xCorrecaoCC",staticClass:"col-12 q-mt-lg",attrs:{"rotulo-fixo":e.metadados.infEventoCC.detEvento.xCorrecao._titulo,tipo:"textoArea",rows:"3"},model:{value:e.infEvento.detEvento.xCorrecao,callback:function(t){e.$set(e.infEvento.detEvento,"xCorrecao","string"===typeof t?t.trim():t)},expression:"infEvento.detEvento.xCorrecao"}})],1)]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",color:"primary",label:"Cancelar"}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Enviar"}})],1)])],1)],1)],1)],1)},tx=[];ex._withStripped=!0;var ax={components:{Campo:Sl},data:function(){return{modalCartaCorrecao:!1,infEvento:vu.executa(Et.infEventoCC,{})}},methods:{abrirModalCartaCorrecao:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("NFeCartaCorrecao","abrirModalCartaCorrecao"),e.t0=vu,e.t1=Et.infEventoCC,e.t2=this.nota.infNFe.ide.cUF,e.t3=this.nota.infNFe.ide.tpAmb,e.t4={valor_escolha:this.nota.infNFe.emit.escolhas.valor_escolha,CNPJ:this.nota.infNFe.emit.escolhas.CNPJ,CPF:this.nota.infNFe.emit.escolhas.CPF},e.t5=this.nota.outrosNFe.chNFe,e.t6=Ot.formatarDataNFe(new Date),e.t7=String,e.next=11,Zn.documentoFiscalEletronicoXml.proximoNumeroSequencialEvento(this.nota.id,"Carta de correção");case 11:return e.t8=e.sent,e.t9=(0,e.t7)(e.t8),e.t10={xCorrecao:""},e.t11={cOrgao:e.t2,tpAmb:e.t3,escolhas:e.t4,chNFe:e.t5,dhEvento:e.t6,nSeqEvento:e.t9,detEvento:e.t10},this.infEvento=e.t0.executa.call(e.t0,e.t1,e.t11),this.modalCartaCorrecao=!0,e.next=19,this.$nextTick();case 19:this.$refs.xCorrecaoCC.focus();case 20:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),transmitirCartaCorrecao:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t="Erro na operação da Carta de Correção",e.prev=1,ei.log("NFeCartaCorrecao","transmitirCartaCorrecao",this.infEvento),Po(!this.infEvento.detEvento.xCorrecao,"Correção a ser considerada não preenchida"),a=at()({},this.nota),this.infEvento.detEvento.xCorrecao=oo(this.infEvento.detEvento.xCorrecao),a.infEventoCC=pu.executa(Et.infEventoCC,this.infEvento),!pu.erros.length){e.next=10;break}return qa.$emit("mostrarModalAlerta",{titulo:"Erro de validação",erros:pu.erros}),e.abrupt("return");case 10:return Array.isArray(a.outrosNFe.textoCartaCorrecao)||(a.outrosNFe.textoCartaCorrecao=[]),a.outrosNFe.textoCartaCorrecao.push("Carta de correção ".concat(this.$filters.data(this.infEvento.dhEvento)," Evento ").concat(this.infEvento.nSeqEvento," - ").concat(this.infEvento.detEvento.xCorrecao)),Oe["a"].show({spinner:hu["a"],spinnerColor:"amber",message:"Selecionando Certificado e Trasmitindo Carta de Correção"}),t="Ocorreu um erro ao transmitir a Carta de Correção",o=It.EventoNFe(Et.infEventoCC,a.infEventoCC,a.infNFe.ide.nNF),e.next=17,Vt.servicoIntegrador(a,o,"CartaCorrecaoNFe","Carta de correção",a.infEventoCC.nSeqEvento,{},"NFe",this.nota.outrosNFe.idContatoEmitente);case 17:if(i=e.sent,this.$emit("salvar",a),"Erro"!==i.status){e.next=24;break}return ei.log("NFeCartaCorrecao",i),r=la()((i.mensagem||"").split("\n")).concat(la()((i.complemento||"").split("\n"))),qa.$emit("mostrarModalAlerta",{titulo:i.status,erros:r}),e.abrupt("return");case 24:this.$q.notifyPositive(i.mensagem),this.modalCartaCorrecao=!1,this.$emit("atualizar"),e.next=33;break;case 29:e.prev=29,e.t0=e["catch"](1),this.$q.notifyError(t,e.t0),this.$emit("atualizar");case 33:return e.prev=33,Oe["a"].hide(),e.finish(33);case 36:case"end":return e.stop()}},e,this,[[1,29,33,36]])}));return function(){return e.apply(this,arguments)}}()},mixins:[Xg],props:{nota:{required:!0,type:Object}},created:function(){ei.log("NFeCartaCorrecao","created()")}},ox=ax,ix=(a("d839"),Object(sc["a"])(ox,ex,tx,!1,null,null,null));ix.options.__file="NFeCartaCorrecao.vue";var rx=ix.exports,sx=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticClass:"NFeFormulario round-borders no-shadow"},[e.nota.id?a("form",{on:{submit:function(t){return t.preventDefault(),e.salvarNFe(t)}}},[a("q-card",{staticClass:"bg-white q-px-lg q-py-md q-my-lg no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-8 text-left q-pa-sm"},[a("q-toggle",{attrs:{label:"Visão Completa"},model:{value:e.outrosNFe.visaoCompleta,callback:function(t){e.$set(e.outrosNFe,"visaoCompleta",t)},expression:"outrosNFe.visaoCompleta"}})],1),a("div",{staticClass:"col-4 text-right q-py-sm"},[a("BadgeCopiarUid",{attrs:{id:e.nota.id,numero:e.infNFe.ide.nNF,cor:e.badgeCor}})],1),"Em digitação"!==e.outrosNFe.situacao?[a("div",{staticClass:"q-caption q-mr-sm q-my-sm"},[e._v("Situação: "),a("strong",[e._v(e._s(e.outrosNFe.situacao))])]),a("div",{staticClass:"q-caption q-mr-sm q-my-sm"},[e._v("Chave de acesso: "),a("strong",[e._v(e._s(e.outrosNFe.chNFe))])]),e.outrosNFe.mensagem?a("div",{staticClass:"q-caption q-mr-sm q-my-sm"},[e._v("Mensagem:\n            "),a("strong",[e._v(e._s(e.outrosNFe.mensagem))])]):e._e()]:e._e(),e.outrosNFe.protNFe.xMotivo&&"Sucesso"!==e.outrosNFe.status?[a("campo",{staticClass:"col-10",attrs:{value:e.outrosNFe.protNFe.xMotivo,classCampo:"q-caption","somente-leitura":"",rotulo:"Motivo Sefaz",tipo:"textoArea"}}),a("campo",{staticClass:"col-2",attrs:{value:e.outrosNFe.protNFe.cStat,classCampo:"q-caption","somente-leitura":"",rotulo:"Código"}})]:e._e()],2),e.historico.length?[a("div",{staticClass:"col-12 q-card-title text-left q-mt-none"},[e._v("Histórico")]),a("q-list",{staticClass:"col-12 q-pa-none"},e._l(e.historico,function(t,o){return a("q-item",{key:o,staticClass:"q-pa-none"},[a("q-item-main",{staticClass:"no-margin",staticStyle:{"border-bottom":"1px solid #eeeeee"}},[a("div",{staticClass:"row items-center"},[a("div",{staticClass:"q-caption q-pt-none q-mr-sm"},[e._v("Recebimento:\n                  "),a("strong",[e._v(e._s(e.$filters.dataHora(t.dhRecbto)))])]),a("div",{staticClass:"q-caption q-pt-none q-mr-sm"},[e._v("Situação: "),a("strong",[e._v(e._s(t.situacao))])]),a("div",{staticClass:"q-caption q-pt-none q-mr-sm "},[e._v("Protocolo: "),a("strong",[e._v(e._s(t.nProt))])]),a("q-btn",{staticClass:"col-auto",attrs:{color:"faded",size:"md",icon:"cloud_download",round:"",flat:""},on:{click:function(a){e.downloadXml(t)}}},[a("q-tooltip",[e._v("Download Xml")])],1)],1)])],1)}))]:e._e()],2),a("q-card",{staticClass:"bg-white q-px-lg q-py-md q-my-md no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("NFeEmitente",{staticClass:"col-12 col-md-6 ",attrs:{nota:e.nota,situacao:e.outrosNFe.situacao}}),a("NFeDestinatario",{staticClass:"col-12 col-md-6 ",attrs:{nota:e.nota,situacao:e.outrosNFe.situacao}})],1)]),a("q-card",{staticClass:"bg-white q-pa-sm q-my-md no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("NFeDadosDaNota",{staticClass:"col-12 no-shadow",attrs:{nota:e.nota,situacao:e.outrosNFe.situacao}})],1)]),e.outrosNFe.visaoCompleta?a("q-card",{staticClass:"bg-white q-pa-sm q-my-md no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("NFeReferenciada",{staticClass:"col-12 no-shadow",attrs:{nota:e.nota,situacao:e.outrosNFe.situacao}})],1)]):e._e(),a("q-card",{staticClass:"bg-white q-pa-sm q-my-md no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("NFeProdutos",{staticClass:"col-12 no-shadow",attrs:{nota:e.nota,situacao:e.outrosNFe.situacao}})],1)]),e.outrosNFe.visaoCompleta?a("q-card",{staticClass:"bg-white q-pa-sm q-my-md no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("NFeTransporte",{staticClass:"col-12 no-shadow",attrs:{nota:e.nota,situacao:e.outrosNFe.situacao}})],1)]):e._e(),a("q-card",{staticClass:"bg-white q-pa-sm q-my-md no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("NFeFaturamento",{staticClass:"col-12 no-shadow",attrs:{nota:e.nota,situacao:e.outrosNFe.situacao}})],1)]),e.outrosNFe.visaoCompleta?a("q-card",{staticClass:"bg-white q-pa-sm q-my-md no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("NFePagamento",{staticClass:"col-12 no-shadow",attrs:{nota:e.nota,situacao:e.outrosNFe.situacao}})],1)]):e._e(),e.outrosNFe.visaoCompleta?a("q-card",{staticClass:"bg-white q-pa-sm q-my-md no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("NFeOutrosValores",{staticClass:"col-12 no-shadow",attrs:{nota:e.nota,situacao:e.outrosNFe.situacao}})],1)]):e._e(),e.outrosNFe.visaoCompleta?a("q-card",{staticClass:"bg-white q-pa-sm q-my-md no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("NFeInformacoesAdicionais",{staticClass:"col-12 no-shadow",attrs:{nota:e.nota,situacao:e.outrosNFe.situacao}})],1)]):e._e(),e.outrosNFe.visaoCompleta?a("q-card",{staticClass:"bg-white q-pa-sm q-my-md no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("NFePessoasAutorizadas",{staticClass:"col-12 no-shadow",attrs:{nota:e.nota,situacao:e.outrosNFe.situacao}})],1)]):e._e(),a("q-card",{staticClass:"bg-white q-pa-sm q-my-md no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("NFeTotais",{staticClass:"col-12 no-shadow",attrs:{nota:e.nota,situacao:e.outrosNFe.situacao}}),e.infNFe.infAdic.visivel?a("div",{staticClass:"col-12 "},[a("campo",{staticClass:"bg-grey-2 q-px-md",staticStyle:{"border-radius":"5px"},attrs:{maxlength:"5000",rotulo:"Informações complementares do Emitente",rows:"3",tipo:"textoArea"},model:{value:e.outrosNFe.dadosAdicionaisEmitente,callback:function(t){e.$set(e.outrosNFe,"dadosAdicionaisEmitente",t)},expression:"outrosNFe.dadosAdicionaisEmitente"}}),a("campo",{staticClass:"bg-grey-2 q-px-md q-mt-md",staticStyle:{"border-radius":"5px"},attrs:{maxlength:"5000",rotulo:e.metadados.infNFe.infAdic.infCpl._titulo,rows:"3",tipo:"textoArea"},model:{value:e.outrosNFe.dadosAdicionais,callback:function(t){e.$set(e.outrosNFe,"dadosAdicionais",t)},expression:"outrosNFe.dadosAdicionais"}})],1):e._e(),a("div",{staticClass:"q-card-title text-right right q-mt-md"},[e._v("Total\n          "),a("strong",[e._v(" "+e._s(e._f("numero")(e.infNFe.total.ICMSTot.vNF,2)))])])],1)]),a("div",{staticClass:"items-center justify-around q-my-lg row"},[e.nota.dataHoraCriacao?a("small",[e._v("Data de criação: "+e._s(e._f("dataHora")(e.nota.dataHoraCriacao)))]):e._e(),e.nota.dataHoraAlteracao?a("small",[e._v("Última alteração: "+e._s(e._f("dataHora")(e.nota.dataHoraAlteracao)))]):e._e()]),a("q-layout-footer",{staticClass:"bg-light no-shadow q-pa-sm text-right u-bordaCima",attrs:{reveal:""}},[a("div",{staticClass:"u-container relative-position"})])],1):e._e()])},nx=[];sx._withStripped=!0;var cx=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("badge",{attrs:{escuro:"",cor:e.cor},nativeOn:{click:function(t){return e.copiarUid(t)}}},[e._v("\n    #"+e._s(Number(e.numero)||(e.id||"").slice(-6))+"\n    "),a("input",{ref:"badgeUid",attrs:{type:"hidden"},domProps:{value:e.id}})])],1)},lx=[];cx._withStripped=!0;var dx={components:{Badge:Bd},methods:{copiarUid:function(){var e=this.$refs.badgeUid;e.type="text";try{e.select(),document.execCommand("copy"),this.$q.notify({message:"UID copiado para a área de transferência.",type:"info"})}catch(e){this.$q.notifyError("Erro ao copiar uid",e)}e.type="hidden",window.getSelection().removeAllRanges()}},props:{cor:{required:!1,type:String},numero:{required:!0,type:[Number,String]},id:{required:!0,type:String}}},ux=dx,mx=Object(sc["a"])(ux,cx,lx,!1,null,null,null);mx.options.__file="BadgeCopiarUid.vue";var px=mx.exports,vx=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-collapsible",{staticClass:" border-1 q-my-sm",attrs:{icon:"assignment",label:e.metadados.infNFe.ide._titulo}},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",staticStyle:{display:"none"},attrs:{dica:e.metadados.infNFe.ide.cUF._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.cUF.$invalid,"erro-rotulo":e.infNFe.ide.cUF_erro,opcoes:e.metadados.infNFe.ide.cUF._enumeration,"rotulo-fixo":e.metadados.infNFe.ide.cUF._titulo,tipo:"seletor"},model:{value:e.infNFe.ide.cUF,callback:function(t){e.$set(e.infNFe.ide,"cUF",t)},expression:"infNFe.ide.cUF"}}),a("campo",{staticClass:"col-12 col-md-3",staticStyle:{display:"none"},attrs:{dica:e.metadados.infNFe.ide.cNF._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.cNF.$invalid,"erro-rotulo":e.infNFe.ide.cNF_erro,rotulo:e.metadados.infNFe.ide.cNF._titulo,tipo:"texto"},model:{value:e.infNFe.ide.cNF,callback:function(t){e.$set(e.infNFe.ide,"cNF",t)},expression:"infNFe.ide.cNF"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.ide.natOp._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.natOp.$invalid,"erro-rotulo":e.infNFe.ide.natOp_erro,maxlength:"60",rotulo:e.metadados.infNFe.ide.natOp._titulo,tipo:"texto"},model:{value:e.infNFe.ide.natOp,callback:function(t){e.$set(e.infNFe.ide,"natOp",t)},expression:"infNFe.ide.natOp"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.mod._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.mod.$invalid,"erro-rotulo":e.infNFe.ide.mod_erro,opcoes:e.metadados.infNFe.ide.mod._enumeration,"rotulo-fixo":e.metadados.infNFe.ide.mod._titulo,tipo:"seletor"},model:{value:e.infNFe.ide.mod,callback:function(t){e.$set(e.infNFe.ide,"mod",t)},expression:"infNFe.ide.mod"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.serie._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.serie.$invalid,"erro-rotulo":e.infNFe.ide.serie_erro,rotulo:e.metadados.infNFe.ide.serie._titulo,tipo:"texto"},model:{value:e.infNFe.ide.serie,callback:function(t){e.$set(e.infNFe.ide,"serie",t)},expression:"infNFe.ide.serie"}}),e.outrosNFe.visaoCompleta?a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.nNF._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.nNF.$invalid,"erro-rotulo":e.infNFe.ide.nNF_erro,rotulo:e.metadados.infNFe.ide.nNF._titulo,tipo:"texto"},model:{value:e.infNFe.ide.nNF,callback:function(t){e.$set(e.infNFe.ide,"nNF",t)},expression:"infNFe.ide.nNF"}}):e._e(),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.tpNF._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.tpNF.$invalid,"erro-rotulo":e.infNFe.ide.tpNF_erro,opcoes:e.metadados.infNFe.ide.tpNF._enumeration,"rotulo-fixo":e.metadados.infNFe.ide.tpNF._titulo,tipo:"seletor"},model:{value:e.infNFe.ide.tpNF,callback:function(t){e.$set(e.infNFe.ide,"tpNF",t)},expression:"infNFe.ide.tpNF"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.idDest._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.idDest.$invalid,"erro-rotulo":e.infNFe.ide.idDest_erro,opcoes:e.metadados.infNFe.ide.idDest._enumeration,"rotulo-fixo":e.metadados.infNFe.ide.idDest._titulo,tipo:"seletor"},model:{value:e.infNFe.ide.idDest,callback:function(t){e.$set(e.infNFe.ide,"idDest",t)},expression:"infNFe.ide.idDest"}}),a("campo",{staticClass:"col-12 col-md-3",staticStyle:{display:"none"},attrs:{dica:e.metadados.infNFe.ide.cMunFG._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.cMunFG.$invalid,"erro-rotulo":e.infNFe.ide.cMunFG_erro,rotulo:e.metadados.infNFe.ide.cMunFG._titulo,tipo:"texto"},model:{value:e.infNFe.ide.cMunFG,callback:function(t){e.$set(e.infNFe.ide,"cMunFG",t)},expression:"infNFe.ide.cMunFG"}}),e.outrosNFe.visaoCompleta?a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.tpImp._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.tpImp.$invalid,"erro-rotulo":e.infNFe.ide.tpImp_erro,opcoes:e.metadados.infNFe.ide.tpImp._enumeration,"rotulo-fixo":e.metadados.infNFe.ide.tpImp._titulo,tipo:"seletor"},model:{value:e.infNFe.ide.tpImp,callback:function(t){e.$set(e.infNFe.ide,"tpImp",t)},expression:"infNFe.ide.tpImp"}}):e._e(),e.outrosNFe.visaoCompleta?a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.tpEmis._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.tpEmis.$invalid,"erro-rotulo":e.infNFe.ide.tpEmis_erro,opcoes:e.metadados.infNFe.ide.tpEmis._enumeration,"rotulo-fixo":e.metadados.infNFe.ide.tpEmis._titulo,tipo:"seletor"},model:{value:e.infNFe.ide.tpEmis,callback:function(t){e.$set(e.infNFe.ide,"tpEmis",t)},expression:"infNFe.ide.tpEmis"}}):e._e(),e.outrosNFe.visaoCompleta?a("campo",{staticClass:"col-12 col-md-3",staticStyle:{display:"none"},attrs:{dica:e.metadados.infNFe.ide.cDV._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.cDV.$invalid,"erro-rotulo":e.infNFe.ide.cDV_erro,rotulo:e.metadados.infNFe.ide.cDV._titulo,tipo:"texto"},model:{value:e.infNFe.ide.cDV,callback:function(t){e.$set(e.infNFe.ide,"cDV",t)},expression:"infNFe.ide.cDV"}}):e._e(),e.outrosNFe.visaoCompleta?a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.tpAmb._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.tpAmb.$invalid,"erro-rotulo":e.infNFe.ide.tpAmb_erro,opcoes:e.metadados.infNFe.ide.tpAmb._enumeration,"rotulo-fixo":e.metadados.infNFe.ide.tpAmb._titulo,tipo:"seletor"},model:{value:e.infNFe.ide.tpAmb,callback:function(t){e.$set(e.infNFe.ide,"tpAmb",t)},expression:"infNFe.ide.tpAmb"}}):e._e(),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.finNFe._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.finNFe.$invalid,"erro-rotulo":e.infNFe.ide.finNFe_erro,opcoes:e.metadados.infNFe.ide.finNFe._enumeration,"rotulo-fixo":e.metadados.infNFe.ide.finNFe._titulo,tipo:"seletor"},model:{value:e.infNFe.ide.finNFe,callback:function(t){e.$set(e.infNFe.ide,"finNFe",t)},expression:"infNFe.ide.finNFe"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.indFinal._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.indFinal.$invalid,"erro-rotulo":e.infNFe.ide.indFinal_erro,opcoes:e.metadados.infNFe.ide.indFinal._enumeration,"rotulo-fixo":e.metadados.infNFe.ide.indFinal._titulo,tipo:"seletor"},model:{value:e.infNFe.ide.indFinal,callback:function(t){e.$set(e.infNFe.ide,"indFinal",t)},expression:"infNFe.ide.indFinal"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.indPres._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.indPres.$invalid,"erro-rotulo":e.infNFe.ide.indPres_erro,opcoes:e.metadados.infNFe.ide.indPres._enumeration,"rotulo-fixo":e.metadados.infNFe.ide.indPres._titulo,tipo:"seletor"},model:{value:e.infNFe.ide.indPres,callback:function(t){e.$set(e.infNFe.ide,"indPres",t)},expression:"infNFe.ide.indPres"}}),a("campo",{staticClass:"col-12 col-md-3",staticStyle:{display:"none"},attrs:{dica:e.metadados.infNFe.ide.procEmi._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.procEmi.$invalid,"erro-rotulo":e.infNFe.ide.procEmi_erro,opcoes:e.metadados.infNFe.ide.procEmi._enumeration,"rotulo-fixo":e.metadados.infNFe.ide.procEmi._titulo,tipo:"seletor"},model:{value:e.infNFe.ide.procEmi,callback:function(t){e.$set(e.infNFe.ide,"procEmi",t)},expression:"infNFe.ide.procEmi"}}),a("campo",{staticClass:"col-12 col-md-3",staticStyle:{display:"none"},attrs:{dica:e.metadados.infNFe.ide.verProc._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.verProc.$invalid,"erro-rotulo":e.infNFe.ide.verProc_erro,maxlength:"20",rotulo:e.metadados.infNFe.ide.verProc._titulo,tipo:"texto"},model:{value:e.infNFe.ide.verProc,callback:function(t){e.$set(e.infNFe.ide,"verProc",t)},expression:"infNFe.ide.verProc"}})],1),e.outrosNFe.visaoCompleta?a("div",{staticClass:"col-12 no-shadow q-my-md"},[a("campo",{attrs:{dica:e.metadados.infNFe.ide.opcional.visivel._doc,rotulo:e.metadados.infNFe.ide.opcional.visivel._titulo,tipo:"logico"},model:{value:e.infNFe.ide.opcional.visivel,callback:function(t){e.$set(e.infNFe.ide.opcional,"visivel",t)},expression:"infNFe.ide.opcional.visivel"}}),e.infNFe.ide.opcional.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 ",attrs:{dica:e.metadados.infNFe.ide.opcional.dhCont._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.opcional.dhCont.$invalid,"erro-rotulo":e.infNFe.ide.opcional.dhCont_erro,rotulo:"Informar a data e hora de entrada em contingência",tipo:"dataHora"},model:{value:e.infNFe.ide.opcional.dhCont,callback:function(t){e.$set(e.infNFe.ide.opcional,"dhCont",t)},expression:"infNFe.ide.opcional.dhCont"}}),a("campo",{staticClass:"col-12 ",attrs:{dica:e.metadados.infNFe.ide.opcional.xJust._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.opcional.xJust.$invalid,"erro-rotulo":e.infNFe.ide.opcional.xJust_erro,maxlength:"256",rotulo:e.metadados.infNFe.ide.opcional.xJust._titulo,tipo:"texto"},model:{value:e.infNFe.ide.opcional.xJust,callback:function(t){e.$set(e.infNFe.ide.opcional,"xJust",t)},expression:"infNFe.ide.opcional.xJust"}})],1):e._e()],1):e._e()])},hx=[];vx._withStripped=!0;var fx={components:{Campo:Sl},computed:{},data:function(){return{}},methods:{},mixins:[Xg],props:{nota:{required:!0,type:Object},situacao:String},created:function(){ei.log("NFeDadosDaNota","created()")}},Cx=fx,bx=(a("8737"),Object(sc["a"])(Cx,vx,hx,!1,null,null,null));bx.options.__file="NFeDadosDaNota.vue";var gx=bx.exports,xx=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["Em digitação"==e.situacao?a("campo",{attrs:{value:e.infNFe.dest.xNome,rotulo:"Destinatário",before:[{icon:"search",handler:e.abrirPromptDestinatario}],after:[{icon:"edit",handler:e.abrirModalDestinatario}],"somente-leitura":""},on:{click:e.abrirPromptDestinatario}}):e._e(),"Em digitação"!=e.situacao?a("campo",{attrs:{value:e.infNFe.dest.xNome,rotulo:"Destinatário",after:[{icon:"remove_red_eye",handler:e.abrirModalDestinatario}],"somente-leitura":""},on:{click:e.abrirPromptDestinatario}}):e._e(),a("PromptContatoNovo",{attrs:{filtro:{ativo:!0}},on:{selecionar:e.selecionarDestinatario},model:{value:e.promptDestinatario,callback:function(t){e.promptDestinatario=t},expression:"promptDestinatario"}}),a("q-modal",{attrs:{maximized:""},model:{value:e.modalDestinatario,callback:function(t){e.modalDestinatario=t},expression:"modalDestinatario"}},[a("q-layout-header",{attrs:{reveal:""}},[a("q-toolbar",{staticClass:"BarraTopo"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"}}),a("q-toolbar-title",[e._v("Nota Fiscal / Destinatário")]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-ml-sm no-shadow",attrs:{color:"white","text-color":"primary",label:"OK"}})],1)],1),a("q-modal-layout",{staticStyle:{background:"#eee"}},[a("div",{staticClass:"layout-padding row justify-center"},[a("div",{staticClass:"q-pa-md",staticStyle:{width:"1280px","max-width":"90vw",background:"white"}},[a("div",{staticClass:"col-12 no-shadow"},[a("q-card-title",{staticClass:"q-py-sm "},[e._v(e._s(e.metadados.infNFe.dest._titulo)+": ")]),a("div",[a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row q-px-md gutter-x-sm"},[a("q-radio",{attrs:{label:"CNPJ",val:"CNPJ"},model:{value:e.infNFe.dest.escolhas.valor_escolha,callback:function(t){e.$set(e.infNFe.dest.escolhas,"valor_escolha",t)},expression:"infNFe.dest.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"CPF",val:"CPF"},model:{value:e.infNFe.dest.escolhas.valor_escolha,callback:function(t){e.$set(e.infNFe.dest.escolhas,"valor_escolha",t)},expression:"infNFe.dest.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"idEstrangeiro",val:"idEstrangeiro"},model:{value:e.infNFe.dest.escolhas.valor_escolha,callback:function(t){e.$set(e.infNFe.dest.escolhas,"valor_escolha",t)},expression:"infNFe.dest.escolhas.valor_escolha"}})],1),a("div",{staticClass:"row q-px-md gutter-x-sm"},["CNPJ"==e.infNFe.dest.escolhas.valor_escolha?a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.dest.escolhas.CNPJ._doc,erro:e.$v.infNFe.dest.escolhas.CNPJ.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.dest.escolhas.CNPJ_erro,maxlength:"14",rotulo:e.metadados.infNFe.dest.escolhas.CNPJ._titulo,tipo:"texto"},model:{value:e.infNFe.dest.escolhas.CNPJ,callback:function(t){e.$set(e.infNFe.dest.escolhas,"CNPJ",t)},expression:"infNFe.dest.escolhas.CNPJ"}}):e._e(),"CPF"==e.infNFe.dest.escolhas.valor_escolha?a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.dest.escolhas.CPF._doc,erro:e.$v.infNFe.dest.escolhas.CPF.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.dest.escolhas.CPF_erro,maxlength:"11",rotulo:e.metadados.infNFe.dest.escolhas.CPF._titulo,tipo:"texto"},model:{value:e.infNFe.dest.escolhas.CPF,callback:function(t){e.$set(e.infNFe.dest.escolhas,"CPF",t)},expression:"infNFe.dest.escolhas.CPF"}}):e._e(),"idEstrangeiro"==e.infNFe.dest.escolhas.valor_escolha?a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.dest.escolhas.idEstrangeiro._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.dest.escolhas.idEstrangeiro.$invalid,"erro-rotulo":e.infNFe.dest.escolhas.idEstrangeiro_erro,rotulo:e.metadados.infNFe.dest.escolhas.idEstrangeiro._titulo,tipo:"texto"},model:{value:e.infNFe.dest.escolhas.idEstrangeiro,callback:function(t){e.$set(e.infNFe.dest.escolhas,"idEstrangeiro",t)},expression:"infNFe.dest.escolhas.idEstrangeiro"}}):e._e(),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.dest.xNome._doc,erro:e.$v.infNFe.dest.xNome.$invalid,"erro-rotulo":e.infNFe.dest.xNome_erro,maxlength:"60","somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.dest.xNome._titulo,tipo:"texto"},model:{value:e.infNFe.dest.xNome,callback:function(t){e.$set(e.infNFe.dest,"xNome",t)},expression:"infNFe.dest.xNome"}})],1)]),a("div",{staticClass:"col-12 no-shadow"},[e.infNFe.dest.enderDest.visivel?a("div",[a("div",{staticClass:"row q-px-md gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.dest.enderDest.xLgr._doc,erro:e.$v.infNFe.dest.enderDest.xLgr.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.dest.enderDest.xLgr_erro,maxlength:"60",rotulo:e.metadados.infNFe.dest.enderDest.xLgr._titulo,tipo:"texto"},model:{value:e.infNFe.dest.enderDest.xLgr,callback:function(t){e.$set(e.infNFe.dest.enderDest,"xLgr",t)},expression:"infNFe.dest.enderDest.xLgr"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.dest.enderDest.nro._doc,erro:e.$v.infNFe.dest.enderDest.nro.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.dest.enderDest.nro_erro,maxlength:"60",rotulo:e.metadados.infNFe.dest.enderDest.nro._titulo,tipo:"texto"},model:{value:e.infNFe.dest.enderDest.nro,callback:function(t){e.$set(e.infNFe.dest.enderDest,"nro",t)},expression:"infNFe.dest.enderDest.nro"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.dest.enderDest.xCpl._doc,erro:e.$v.infNFe.dest.enderDest.xCpl.$invalid,"erro-rotulo":e.infNFe.dest.enderDest.xCpl_erro,maxlength:"60",rotulo:e.metadados.infNFe.dest.enderDest.xCpl._titulo,tipo:"texto"},model:{value:e.infNFe.dest.enderDest.xCpl,callback:function(t){e.$set(e.infNFe.dest.enderDest,"xCpl",t)},expression:"infNFe.dest.enderDest.xCpl"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.dest.enderDest.xBairro._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.dest.enderDest.xBairro.$invalid,"erro-rotulo":e.infNFe.dest.enderDest.xBairro_erro,maxlength:"60",rotulo:e.metadados.infNFe.dest.enderDest.xBairro._titulo,tipo:"texto"},model:{value:e.infNFe.dest.enderDest.xBairro,callback:function(t){e.$set(e.infNFe.dest.enderDest,"xBairro",t)},expression:"infNFe.dest.enderDest.xBairro"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.dest.enderDest.cMun._doc,erro:e.$v.infNFe.dest.enderDest.cMun.$invalid,"erro-rotulo":e.infNFe.dest.enderDest.cMun_erro,"somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.dest.enderDest.cMun._titulo,tipo:"texto"},model:{value:e.infNFe.dest.enderDest.cMun,callback:function(t){e.$set(e.infNFe.dest.enderDest,"cMun",t)},expression:"infNFe.dest.enderDest.cMun"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.dest.enderDest.xMun._doc,erro:e.$v.infNFe.dest.enderDest.xMun.$invalid,"erro-rotulo":e.infNFe.dest.enderDest.xMun_erro,maxlength:"60","somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.dest.enderDest.xMun._titulo,tipo:"texto"},model:{value:e.infNFe.dest.enderDest.xMun,callback:function(t){e.$set(e.infNFe.dest.enderDest,"xMun",t)},expression:"infNFe.dest.enderDest.xMun"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.dest.enderDest.UF._doc,erro:e.$v.infNFe.dest.enderDest.UF.$invalid,"erro-rotulo":e.infNFe.dest.enderDest.UF_erro,opcoes:e.metadados.infNFe.dest.enderDest.UF._enumeration,"somente-leitura":"Em digitação"!=e.situacao,"rotulo-fixo":e.metadados.infNFe.dest.enderDest.UF._titulo,tipo:"seletor"},model:{value:e.infNFe.dest.enderDest.UF,callback:function(t){e.$set(e.infNFe.dest.enderDest,"UF",t)},expression:"infNFe.dest.enderDest.UF"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.dest.enderDest.CEP._doc,erro:e.$v.infNFe.dest.enderDest.CEP.$invalid,"erro-rotulo":e.infNFe.dest.enderDest.CEP_erro,"somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.dest.enderDest.CEP._titulo,tipo:"texto"},model:{value:e.infNFe.dest.enderDest.CEP,callback:function(t){e.$set(e.infNFe.dest.enderDest,"CEP",t)},expression:"infNFe.dest.enderDest.CEP"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.dest.enderDest.cPais._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.dest.enderDest.cPais.$invalid,"erro-rotulo":e.infNFe.dest.enderDest.cPais_erro,rotulo:e.metadados.infNFe.dest.enderDest.cPais._titulo,tipo:"texto"},model:{value:e.infNFe.dest.enderDest.cPais,callback:function(t){e.$set(e.infNFe.dest.enderDest,"cPais",t)},expression:"infNFe.dest.enderDest.cPais"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.dest.enderDest.xPais._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.dest.enderDest.xPais.$invalid,"erro-rotulo":e.infNFe.dest.enderDest.xPais_erro,maxlength:"60",rotulo:e.metadados.infNFe.dest.enderDest.xPais._titulo,tipo:"texto"},model:{value:e.infNFe.dest.enderDest.xPais,callback:function(t){e.$set(e.infNFe.dest.enderDest,"xPais",t)},expression:"infNFe.dest.enderDest.xPais"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.dest.enderDest.fone._doc,erro:e.$v.infNFe.dest.enderDest.fone.$invalid,"erro-rotulo":e.infNFe.dest.enderDest.fone_erro,rotulo:e.metadados.infNFe.dest.enderDest.fone._titulo,tipo:"texto"},model:{value:e.infNFe.dest.enderDest.fone,callback:function(t){e.$set(e.infNFe.dest.enderDest,"fone",t)},expression:"infNFe.dest.enderDest.fone"}})],1)]):e._e()]),a("div",{staticClass:"row q-px-md gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.dest.indIEDest._doc,erro:e.$v.infNFe.dest.indIEDest.$invalid,"erro-rotulo":e.infNFe.dest.indIEDest_erro,opcoes:e.metadados.infNFe.dest.indIEDest._enumeration,"somente-leitura":"Em digitação"!=e.situacao,"rotulo-fixo":e.metadados.infNFe.dest.indIEDest._titulo,tipo:"seletor"},model:{value:e.infNFe.dest.indIEDest,callback:function(t){e.$set(e.infNFe.dest,"indIEDest",t)},expression:"infNFe.dest.indIEDest"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.dest.IE._doc,erro:e.$v.infNFe.dest.IE.$invalid,"erro-rotulo":e.infNFe.dest.IE_erro,maxlength:"14","somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.dest.IE._titulo,tipo:"texto"},model:{value:e.infNFe.dest.IE,callback:function(t){e.$set(e.infNFe.dest,"IE",t)},expression:"infNFe.dest.IE"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.dest.ISUF._doc,erro:e.$v.infNFe.dest.ISUF.$invalid,"erro-rotulo":e.infNFe.dest.ISUF_erro,"somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.dest.ISUF._titulo,tipo:"texto"},model:{value:e.infNFe.dest.ISUF,callback:function(t){e.$set(e.infNFe.dest,"ISUF",t)},expression:"infNFe.dest.ISUF"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.dest.IM._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.dest.IM.$invalid,"erro-rotulo":e.infNFe.dest.IM_erro,maxlength:"15",rotulo:e.metadados.infNFe.dest.IM._titulo,tipo:"texto"},model:{value:e.infNFe.dest.IM,callback:function(t){e.$set(e.infNFe.dest,"IM",t)},expression:"infNFe.dest.IM"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.dest.email._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.dest.email.$invalid,"erro-rotulo":e.infNFe.dest.email_erro,maxlength:"60",rotulo:e.metadados.infNFe.dest.email._titulo,tipo:"texto"},model:{value:e.infNFe.dest.email,callback:function(t){e.$set(e.infNFe.dest,"email",t)},expression:"infNFe.dest.email"}})],1)]),a("div",{staticClass:"row q-px-md q-pt-md gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.entrega.visivel._doc,"somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.entrega.visivel._titulo,tipo:"logico"},model:{value:e.infNFe.entrega.visivel,callback:function(t){e.$set(e.infNFe.entrega,"visivel",t)},expression:"infNFe.entrega.visivel"}})],1),e.infNFe.entrega.visivel?a("div",[a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row q-px-md gutter-x-sm q-pt-md"},[a("q-radio",{attrs:{label:"CNPJ",val:"CNPJ"},model:{value:e.infNFe.entrega.escolhas.valor_escolha,callback:function(t){e.$set(e.infNFe.entrega.escolhas,"valor_escolha",t)},expression:"infNFe.entrega.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"CPF",val:"CPF"},model:{value:e.infNFe.entrega.escolhas.valor_escolha,callback:function(t){e.$set(e.infNFe.entrega.escolhas,"valor_escolha",t)},expression:"infNFe.entrega.escolhas.valor_escolha"}})],1)]),a("div",{staticClass:"row q-px-md gutter-x-sm q-pb-lg"},["CNPJ"==e.infNFe.entrega.escolhas.valor_escolha?a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.entrega.escolhas.CNPJ._doc,erro:e.$v.infNFe.entrega.escolhas.CNPJ.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.entrega.escolhas.CNPJ_erro,maxlength:"14",rotulo:e.metadados.infNFe.entrega.escolhas.CNPJ._titulo,tipo:"texto"},model:{value:e.infNFe.entrega.escolhas.CNPJ,callback:function(t){e.$set(e.infNFe.entrega.escolhas,"CNPJ",t)},expression:"infNFe.entrega.escolhas.CNPJ"}}):e._e(),"CPF"==e.infNFe.entrega.escolhas.valor_escolha?a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.entrega.escolhas.CPF._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.entrega.escolhas.CPF.$invalid,"erro-rotulo":e.infNFe.entrega.escolhas.CPF_erro,maxlength:"11",rotulo:e.metadados.infNFe.entrega.escolhas.CPF._titulo,tipo:"texto"},model:{value:e.infNFe.entrega.escolhas.CPF,callback:function(t){e.$set(e.infNFe.entrega.escolhas,"CPF",t)},expression:"infNFe.entrega.escolhas.CPF"}}):e._e(),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.entrega.xNome._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.entrega.xNome.$invalid,"erro-rotulo":e.infNFe.entrega.xNome_erro,maxlength:"60",rotulo:e.metadados.infNFe.entrega.xNome._titulo,tipo:"texto"},model:{value:e.infNFe.entrega.xNome,callback:function(t){e.$set(e.infNFe.entrega,"xNome",t)},expression:"infNFe.entrega.xNome"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.entrega.xLgr._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.entrega.xLgr.$invalid,"erro-rotulo":e.infNFe.entrega.xLgr_erro,maxlength:"60",rotulo:e.metadados.infNFe.entrega.xLgr._titulo,tipo:"texto"},model:{value:e.infNFe.entrega.xLgr,callback:function(t){e.$set(e.infNFe.entrega,"xLgr",t)},expression:"infNFe.entrega.xLgr"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.entrega.nro._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.entrega.nro.$invalid,"erro-rotulo":e.infNFe.entrega.nro_erro,maxlength:"60",rotulo:e.metadados.infNFe.entrega.nro._titulo,tipo:"texto"},model:{value:e.infNFe.entrega.nro,callback:function(t){e.$set(e.infNFe.entrega,"nro",t)},expression:"infNFe.entrega.nro"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.entrega.xCpl._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.entrega.xCpl.$invalid,"erro-rotulo":e.infNFe.entrega.xCpl_erro,maxlength:"60",rotulo:e.metadados.infNFe.entrega.xCpl._titulo,tipo:"texto"},model:{value:e.infNFe.entrega.xCpl,callback:function(t){e.$set(e.infNFe.entrega,"xCpl",t)},expression:"infNFe.entrega.xCpl"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.entrega.xBairro._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.entrega.xBairro.$invalid,"erro-rotulo":e.infNFe.entrega.xBairro_erro,maxlength:"60",rotulo:e.metadados.infNFe.entrega.xBairro._titulo,tipo:"texto"},model:{value:e.infNFe.entrega.xBairro,callback:function(t){e.$set(e.infNFe.entrega,"xBairro",t)},expression:"infNFe.entrega.xBairro"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.entrega.cMun._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.entrega.cMun.$invalid,"erro-rotulo":e.infNFe.entrega.cMun_erro,rotulo:e.metadados.infNFe.entrega.cMun._titulo,tipo:"texto"},model:{value:e.infNFe.entrega.cMun,callback:function(t){e.$set(e.infNFe.entrega,"cMun",t)},expression:"infNFe.entrega.cMun"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.entrega.xMun._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.entrega.xMun.$invalid,"erro-rotulo":e.infNFe.entrega.xMun_erro,maxlength:"60",rotulo:e.metadados.infNFe.entrega.xMun._titulo,tipo:"texto"},model:{value:e.infNFe.entrega.xMun,callback:function(t){e.$set(e.infNFe.entrega,"xMun",t)},expression:"infNFe.entrega.xMun"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.entrega.UF._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.entrega.UF.$invalid,"erro-rotulo":e.infNFe.entrega.UF_erro,opcoes:e.metadados.infNFe.entrega.UF._enumeration,"rotulo-fixo":e.metadados.infNFe.entrega.UF._titulo,tipo:"seletor"},model:{value:e.infNFe.entrega.UF,callback:function(t){e.$set(e.infNFe.entrega,"UF",t)},expression:"infNFe.entrega.UF"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.entrega.CEP._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.entrega.CEP.$invalid,"erro-rotulo":e.infNFe.entrega.CEP_erro,rotulo:e.metadados.infNFe.entrega.CEP._titulo,tipo:"texto"},model:{value:e.infNFe.entrega.CEP,callback:function(t){e.$set(e.infNFe.entrega,"CEP",t)},expression:"infNFe.entrega.CEP"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.entrega.cPais._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.entrega.cPais.$invalid,"erro-rotulo":e.infNFe.entrega.cPais_erro,rotulo:e.metadados.infNFe.entrega.cPais._titulo,tipo:"texto"},model:{value:e.infNFe.entrega.cPais,callback:function(t){e.$set(e.infNFe.entrega,"cPais",t)},expression:"infNFe.entrega.cPais"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.entrega.xPais._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.entrega.xPais.$invalid,"erro-rotulo":e.infNFe.entrega.xPais_erro,maxlength:"60",rotulo:e.metadados.infNFe.entrega.xPais._titulo,tipo:"texto"},model:{value:e.infNFe.entrega.xPais,callback:function(t){e.$set(e.infNFe.entrega,"xPais",t)},expression:"infNFe.entrega.xPais"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.entrega.fone._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.entrega.fone.$invalid,"erro-rotulo":e.infNFe.entrega.fone_erro,rotulo:e.metadados.infNFe.entrega.fone._titulo,tipo:"texto"},model:{value:e.infNFe.entrega.fone,callback:function(t){e.$set(e.infNFe.entrega,"fone",t)},expression:"infNFe.entrega.fone"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.entrega.email._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.entrega.email.$invalid,"erro-rotulo":e.infNFe.entrega.email_erro,maxlength:"60",rotulo:e.metadados.infNFe.entrega.email._titulo,tipo:"texto"},model:{value:e.infNFe.entrega.email,callback:function(t){e.$set(e.infNFe.entrega,"email",t)},expression:"infNFe.entrega.email"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.entrega.IE._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.entrega.IE.$invalid,"erro-rotulo":e.infNFe.entrega.IE_erro,maxlength:"14",rotulo:e.metadados.infNFe.entrega.IE._titulo,tipo:"texto"},model:{value:e.infNFe.entrega.IE,callback:function(t){e.$set(e.infNFe.entrega,"IE",t)},expression:"infNFe.entrega.IE"}})],1)]):e._e()],1)])])])],1)],1)},_x=[];xx._withStripped=!0;var qx={components:{Campo:Sl,PromptContatoNovo:Yd},computed:{},data:function(){return{modalDestinatario:!1,promptDestinatario:!1}},methods:{abrirModalDestinatario:function(){this.modalDestinatario=!0},abrirPromptDestinatario:function(){this.promptDestinatario=!0},selecionarDestinatario:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log("NFeDestinatario","selecionarDestinatario()",t,a.apelido),e.prev=1,!t){e.next=6;break}return this.nota.outrosNFe.idContatoDestinatario=t,e.next=6,this.obterDestinatario(this.nota.infNFe,t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),this.$q.notifyError("Não foi possível carregar o destinatário",e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t,a){return e.apply(this,arguments)}}(),obterDestinatario:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He().contato.get(a);case 2:return o=e.sent,Po(!o,"Não foi possível carregar o contato do destinatário"),e.next=6,He().contatoEndereco.where({idContato:a}).toArray();case 6:return o.enderecos=e.sent,o.enderecoPrincipal=o.enderecos.find(function(e){return"Principal"===e.grupo}),o.enderecoPrincipal||(o.enderecoPrincipal=o.enderecos[0]||{}),e.next=11,He().contatoTelefone.where("idContato").equals(a).toArray();case 11:o.telefones=e.sent,o.telefonePrincipal=o.telefones.find(function(e){return"Principal"===e.grupo}),o.telefonePrincipal||(o.telefonePrincipal=o.telefones[0]||{}),ei.log("NFeDestinatario","destinatario",o),i=t.dest,i.visivel=!0,r=Pa(o.numeroDocumentoNacional),11===r.length?(i.escolhas.valor_escolha="CPF",i.escolhas.CPF=r,i.indIEDest="9"):14===r.length?(i.escolhas.valor_escolha="CNPJ",i.escolhas.CNPJ=r,i.indIEDest="9"):Po(!0,"Destinatario com CPF/CNPJ inválido"),"CNPJ"===i.escolhas.valor_escolha&&o.numeroDocumentoEstadual&&(i.IE=Pa(o.numeroDocumentoEstadual),i.indIEDest="1"),i.xNome=oo(o.nome||"").trim(),i.enderDest.visivel=!0,i.email=String(o.emailNfe||o.email||"").trim(),i.enderDest.fone=Pa(o.telefonePrincipal.telefone||""),i.enderDest.xLgr=oo(o.enderecoPrincipal.logradouro||"").trim(),i.enderDest.nro=String(o.enderecoPrincipal.numero||"").trim(),i.enderDest.xCpl=oo(o.enderecoPrincipal.complemento||"").trim(),i.enderDest.xBairro=oo(o.enderecoPrincipal.bairro||"").trim(),i.enderDest.cMun=String(o.enderecoPrincipal.ibgeCod||"").trim(),i.enderDest.xMun=oo(o.enderecoPrincipal.municipio||"").trim(),i.enderDest.UF=String(o.enderecoPrincipal.uf||"").trim(),i.enderDest.CEP=Pa(o.enderecoPrincipal.cep||""),i.enderDest.cPais="1058",i.enderDest.xPais=(o.enderecoPrincipal.pais||"").trim()||"Brasil";case 34:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},mixins:[Xg],props:{nota:{required:!0,type:Object},situacao:String},created:function(){ei.log("NFeDestinatario","created()")}},Sx=qx,Ix=(a("ddac"),Object(sc["a"])(Sx,xx,_x,!1,null,null,null));Ix.options.__file="NFeDestinatario.vue";var Fx=Ix.exports,wx=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["Em digitação"==e.situacao?a("campo",{attrs:{value:e.infNFe.emit.xNome,rotulo:"Emitente",before:[{icon:"search",handler:e.abrirPromptEmitente}],after:[{icon:"edit",handler:e.abrirModalEmitente}],"somente-leitura":""},on:{click:e.abrirPromptEmitente}}):e._e(),"Em digitação"!=e.situacao?a("campo",{attrs:{value:e.infNFe.emit.xNome,rotulo:"Emitente",after:[{icon:"remove_red_eye",handler:e.abrirModalEmitente}],"somente-leitura":""},on:{click:e.abrirPromptEmitente}}):e._e(),a("PromptContatoNovo",{attrs:{filtro:{ativo:!0,empresas:!0}},on:{selecionar:e.selecionarEmitente},model:{value:e.promptEmitente,callback:function(t){e.promptEmitente=t},expression:"promptEmitente"}}),a("q-modal",{attrs:{maximized:""},model:{value:e.modalEmitente,callback:function(t){e.modalEmitente=t},expression:"modalEmitente"}},[a("q-modal-layout",{staticStyle:{background:"#eee"}},[a("q-layout-header",{attrs:{reveal:""}},[a("q-toolbar",{staticClass:"BarraTopo"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"}}),a("q-toolbar-title",[e._v("Nota Fiscal / Emitente")]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-ml-sm no-shadow",attrs:{color:"white","text-color":"primary",label:"OK"}})],1)],1),a("div",{staticClass:"layout-padding row justify-center "},[a("div",{staticClass:"q-pa-md",staticStyle:{width:"1280px","max-width":"90vw",background:"white"}},[a("div",{staticClass:"col-12 no-shadow"},[a("q-card-title",{staticClass:"q-py-sm "},[e._v(e._s(e.metadados.infNFe.emit._titulo)+": ")]),a("div",{staticClass:"col-12"},[a("div",[a("div",{staticClass:"row q-px-md gutter-x-sm"},[a("div",{staticClass:"col-12 col-md-auto q-pt-md"},[a("q-radio",{staticClass:"q-mr-md",attrs:{label:"CNPJ",val:"CNPJ"},model:{value:e.infNFe.emit.escolhas.valor_escolha,callback:function(t){e.$set(e.infNFe.emit.escolhas,"valor_escolha",t)},expression:"infNFe.emit.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"CPF",val:"CPF"},model:{value:e.infNFe.emit.escolhas.valor_escolha,callback:function(t){e.$set(e.infNFe.emit.escolhas,"valor_escolha",t)},expression:"infNFe.emit.escolhas.valor_escolha"}})],1),"CNPJ"==e.infNFe.emit.escolhas.valor_escolha?a("campo",{staticClass:"col-12 col-md",attrs:{dica:e.metadados.infNFe.emit.escolhas.CNPJ._doc,erro:e.$v.infNFe.emit.escolhas.CNPJ.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.emit.escolhas.CNPJ_erro,maxlength:"14",rotulo:e.metadados.infNFe.emit.escolhas.CNPJ._titulo,tipo:"texto"},model:{value:e.infNFe.emit.escolhas.CNPJ,callback:function(t){e.$set(e.infNFe.emit.escolhas,"CNPJ",t)},expression:"infNFe.emit.escolhas.CNPJ"}}):e._e(),"CPF"==e.infNFe.emit.escolhas.valor_escolha?a("campo",{staticClass:"col-12 col-md",attrs:{dica:e.metadados.infNFe.emit.escolhas.CPF._doc,erro:e.$v.infNFe.emit.escolhas.CPF.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.emit.escolhas.CPF_erro,maxlength:"11",rotulo:e.metadados.infNFe.emit.escolhas.CPF._titulo,tipo:"texto"},model:{value:e.infNFe.emit.escolhas.CPF,callback:function(t){e.$set(e.infNFe.emit.escolhas,"CPF",t)},expression:"infNFe.emit.escolhas.CPF"}}):e._e()],1)])]),a("div",{staticClass:"row q-px-md gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.emit.xNome._doc,erro:e.$v.infNFe.emit.xNome.$invalid,"erro-rotulo":e.infNFe.emit.xNome_erro,maxlength:"60","somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.emit.xNome._titulo,tipo:"texto"},model:{value:e.infNFe.emit.xNome,callback:function(t){e.$set(e.infNFe.emit,"xNome",t)},expression:"infNFe.emit.xNome"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.emit.xFant._doc,erro:e.$v.infNFe.emit.xFant.$invalid,"erro-rotulo":e.infNFe.emit.xFant_erro,maxlength:"60","somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.emit.xFant._titulo,tipo:"texto"},model:{value:e.infNFe.emit.xFant,callback:function(t){e.$set(e.infNFe.emit,"xFant",t)},expression:"infNFe.emit.xFant"}})],1),a("div",{staticClass:"col-12 no-shadow"},[a("q-collapsible",{staticClass:"q-pa-sm border-1 q-my-sm",attrs:{icon:"filter_2",label:e.metadados.infNFe.emit.enderEmit._titulo,opened:""}},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.emit.enderEmit.xLgr._doc,erro:e.$v.infNFe.emit.enderEmit.xLgr.$invalid,"erro-rotulo":e.infNFe.emit.enderEmit.xLgr_erro,maxlength:"60",rotulo:e.metadados.infNFe.emit.enderEmit.xLgr._titulo,tipo:"texto"},model:{value:e.infNFe.emit.enderEmit.xLgr,callback:function(t){e.$set(e.infNFe.emit.enderEmit,"xLgr",t)},expression:"infNFe.emit.enderEmit.xLgr"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.emit.enderEmit.nro._doc,erro:e.$v.infNFe.emit.enderEmit.nro.$invalid,"erro-rotulo":e.infNFe.emit.enderEmit.nro_erro,maxlength:"60",rotulo:e.metadados.infNFe.emit.enderEmit.nro._titulo,tipo:"texto"},model:{value:e.infNFe.emit.enderEmit.nro,callback:function(t){e.$set(e.infNFe.emit.enderEmit,"nro",t)},expression:"infNFe.emit.enderEmit.nro"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.emit.enderEmit.xCpl._doc,erro:e.$v.infNFe.emit.enderEmit.xCpl.$invalid,"erro-rotulo":e.infNFe.emit.enderEmit.xCpl_erro,maxlength:"60",rotulo:e.metadados.infNFe.emit.enderEmit.xCpl._titulo,tipo:"texto"},model:{value:e.infNFe.emit.enderEmit.xCpl,callback:function(t){e.$set(e.infNFe.emit.enderEmit,"xCpl",t)},expression:"infNFe.emit.enderEmit.xCpl"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.emit.enderEmit.xBairro._doc,erro:e.$v.infNFe.emit.enderEmit.xBairro.$invalid,"erro-rotulo":e.infNFe.emit.enderEmit.xBairro_erro,maxlength:"60",rotulo:e.metadados.infNFe.emit.enderEmit.xBairro._titulo,tipo:"texto"},model:{value:e.infNFe.emit.enderEmit.xBairro,callback:function(t){e.$set(e.infNFe.emit.enderEmit,"xBairro",t)},expression:"infNFe.emit.enderEmit.xBairro"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.emit.enderEmit.cMun._doc,erro:e.$v.infNFe.emit.enderEmit.cMun.$invalid,"erro-rotulo":e.infNFe.emit.enderEmit.cMun_erro,rotulo:e.metadados.infNFe.emit.enderEmit.cMun._titulo,tipo:"texto"},model:{value:e.infNFe.emit.enderEmit.cMun,callback:function(t){e.$set(e.infNFe.emit.enderEmit,"cMun",t)},expression:"infNFe.emit.enderEmit.cMun"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.emit.enderEmit.xMun._doc,erro:e.$v.infNFe.emit.enderEmit.xMun.$invalid,"erro-rotulo":e.infNFe.emit.enderEmit.xMun_erro,maxlength:"60",rotulo:e.metadados.infNFe.emit.enderEmit.xMun._titulo,tipo:"texto"},model:{value:e.infNFe.emit.enderEmit.xMun,callback:function(t){e.$set(e.infNFe.emit.enderEmit,"xMun",t)},expression:"infNFe.emit.enderEmit.xMun"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.emit.enderEmit.UF._doc,erro:e.$v.infNFe.emit.enderEmit.UF.$invalid,"erro-rotulo":e.infNFe.emit.enderEmit.UF_erro,opcoes:e.metadados.infNFe.emit.enderEmit.UF._enumeration,"rotulo-fixo":e.metadados.infNFe.emit.enderEmit.UF._titulo,tipo:"seletor"},model:{value:e.infNFe.emit.enderEmit.UF,callback:function(t){e.$set(e.infNFe.emit.enderEmit,"UF",t)},expression:"infNFe.emit.enderEmit.UF"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.emit.enderEmit.CEP._doc,erro:e.$v.infNFe.emit.enderEmit.CEP.$invalid,"erro-rotulo":e.infNFe.emit.enderEmit.CEP_erro,rotulo:e.metadados.infNFe.emit.enderEmit.CEP._titulo,tipo:"texto"},model:{value:e.infNFe.emit.enderEmit.CEP,callback:function(t){e.$set(e.infNFe.emit.enderEmit,"CEP",t)},expression:"infNFe.emit.enderEmit.CEP"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.emit.enderEmit.cPais._doc,erro:e.$v.infNFe.emit.enderEmit.cPais.$invalid,"erro-rotulo":e.infNFe.emit.enderEmit.cPais_erro,opcoes:e.metadados.infNFe.emit.enderEmit.cPais._enumeration,"rotulo-fixo":e.metadados.infNFe.emit.enderEmit.cPais._titulo,tipo:"seletor"},model:{value:e.infNFe.emit.enderEmit.cPais,callback:function(t){e.$set(e.infNFe.emit.enderEmit,"cPais",t)},expression:"infNFe.emit.enderEmit.cPais"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.emit.enderEmit.xPais._doc,erro:e.$v.infNFe.emit.enderEmit.xPais.$invalid,"erro-rotulo":e.infNFe.emit.enderEmit.xPais_erro,opcoes:e.metadados.infNFe.emit.enderEmit.xPais._enumeration,"rotulo-fixo":e.metadados.infNFe.emit.enderEmit.xPais._titulo,tipo:"seletor"},model:{value:e.infNFe.emit.enderEmit.xPais,callback:function(t){e.$set(e.infNFe.emit.enderEmit,"xPais",t)},expression:"infNFe.emit.enderEmit.xPais"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.emit.enderEmit.fone._doc,erro:e.$v.infNFe.emit.enderEmit.fone.$invalid,"erro-rotulo":e.infNFe.emit.enderEmit.fone_erro,rotulo:e.metadados.infNFe.emit.enderEmit.fone._titulo,tipo:"texto"},model:{value:e.infNFe.emit.enderEmit.fone,callback:function(t){e.$set(e.infNFe.emit.enderEmit,"fone",t)},expression:"infNFe.emit.enderEmit.fone"}})],1)])],1),a("div",{staticClass:"row q-px-md gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.emit.IE._doc,erro:e.$v.infNFe.emit.IE.$invalid,"erro-rotulo":e.infNFe.emit.IE_erro,maxlength:"14","somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.emit.IE._titulo,tipo:"texto"},model:{value:e.infNFe.emit.IE,callback:function(t){e.$set(e.infNFe.emit,"IE",t)},expression:"infNFe.emit.IE"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.emit.IEST._doc,erro:e.$v.infNFe.emit.IEST.$invalid,"erro-rotulo":e.infNFe.emit.IEST_erro,maxlength:"14","somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.emit.IEST._titulo,tipo:"texto"},model:{value:e.infNFe.emit.IEST,callback:function(t){e.$set(e.infNFe.emit,"IEST",t)},expression:"infNFe.emit.IEST"}})],1),a("div",{staticClass:"row q-px-md gutter-x-sm q-pt-md"},[a("campo",{staticClass:"col-12 ",attrs:{dica:e.metadados.infNFe.emit.opcional.visivel._doc,"somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.emit.opcional.visivel._titulo,tipo:"logico"},model:{value:e.infNFe.emit.opcional.visivel,callback:function(t){e.$set(e.infNFe.emit.opcional,"visivel",t)},expression:"infNFe.emit.opcional.visivel"}}),e.infNFe.emit.opcional.visivel?a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.emit.opcional.IM._doc,erro:e.$v.infNFe.emit.opcional.IM.$invalid,"erro-rotulo":e.infNFe.emit.opcional.IM_erro,maxlength:"15",rotulo:e.metadados.infNFe.emit.opcional.IM._titulo,tipo:"texto"},model:{value:e.infNFe.emit.opcional.IM,callback:function(t){e.$set(e.infNFe.emit.opcional,"IM",t)},expression:"infNFe.emit.opcional.IM"}}):e._e(),e.infNFe.emit.opcional.visivel?a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.emit.opcional.CNAE._doc,erro:e.$v.infNFe.emit.opcional.CNAE.$invalid,"erro-rotulo":e.infNFe.emit.opcional.CNAE_erro,rotulo:e.metadados.infNFe.emit.opcional.CNAE._titulo,tipo:"texto"},model:{value:e.infNFe.emit.opcional.CNAE,callback:function(t){e.$set(e.infNFe.emit.opcional,"CNAE",t)},expression:"infNFe.emit.opcional.CNAE"}}):e._e()],1),a("div",{staticClass:"row q-px-md gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.emit.CRT._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.emit.CRT.$invalid,"erro-rotulo":e.infNFe.emit.CRT_erro,opcoes:e.metadados.infNFe.emit.CRT._enumeration,"rotulo-fixo":e.metadados.infNFe.emit.CRT._titulo,tipo:"seletor"},model:{value:e.infNFe.emit.CRT,callback:function(t){e.$set(e.infNFe.emit,"CRT",t)},expression:"infNFe.emit.CRT"}})],1),a("div",{staticClass:"row q-px-md gutter-x-sm q-pt-md"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.retirada.visivel._doc,rotulo:e.metadados.infNFe.retirada.visivel._titulo,tipo:"logico"},model:{value:e.infNFe.retirada.visivel,callback:function(t){e.$set(e.infNFe.retirada,"visivel",t)},expression:"infNFe.retirada.visivel"}})],1),e.infNFe.retirada.visivel?a("div",[a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row q-px-md gutter-x-sm q-pt-md"},[a("q-radio",{attrs:{label:"CNPJ",val:"CNPJ"},model:{value:e.infNFe.retirada.escolhas.valor_escolha,callback:function(t){e.$set(e.infNFe.retirada.escolhas,"valor_escolha",t)},expression:"infNFe.retirada.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"CPF",val:"CPF"},model:{value:e.infNFe.retirada.escolhas.valor_escolha,callback:function(t){e.$set(e.infNFe.retirada.escolhas,"valor_escolha",t)},expression:"infNFe.retirada.escolhas.valor_escolha"}})],1)]),a("div",{staticClass:"row q-px-md gutter-x-sm q-pb-lg"},["CNPJ"==e.infNFe.retirada.escolhas.valor_escolha?a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.retirada.escolhas.CNPJ._doc,erro:e.$v.infNFe.retirada.escolhas.CNPJ.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.retirada.escolhas.CNPJ_erro,maxlength:"14",rotulo:e.metadados.infNFe.retirada.escolhas.CNPJ._titulo,tipo:"texto"},model:{value:e.infNFe.retirada.escolhas.CNPJ,callback:function(t){e.$set(e.infNFe.retirada.escolhas,"CNPJ",t)},expression:"infNFe.retirada.escolhas.CNPJ"}}):e._e(),"CPF"==e.infNFe.retirada.escolhas.valor_escolha?a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.retirada.escolhas.CPF._doc,erro:e.$v.infNFe.retirada.escolhas.CPF.$invalid,"erro-rotulo":e.infNFe.retirada.escolhas.CPF_erro,maxlength:"11","somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.retirada.escolhas.CPF._titulo,tipo:"texto"},model:{value:e.infNFe.retirada.escolhas.CPF,callback:function(t){e.$set(e.infNFe.retirada.escolhas,"CPF",t)},expression:"infNFe.retirada.escolhas.CPF"}}):e._e(),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.retirada.xNome._doc,erro:e.$v.infNFe.retirada.xNome.$invalid,"erro-rotulo":e.infNFe.retirada.xNome_erro,maxlength:"60","somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.retirada.xNome._titulo,tipo:"texto"},model:{value:e.infNFe.retirada.xNome,callback:function(t){e.$set(e.infNFe.retirada,"xNome",t)},expression:"infNFe.retirada.xNome"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.retirada.xLgr._doc,erro:e.$v.infNFe.retirada.xLgr.$invalid,"erro-rotulo":e.infNFe.retirada.xLgr_erro,maxlength:"60","somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.retirada.xLgr._titulo,tipo:"texto"},model:{value:e.infNFe.retirada.xLgr,callback:function(t){e.$set(e.infNFe.retirada,"xLgr",t)},expression:"infNFe.retirada.xLgr"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.retirada.nro._doc,erro:e.$v.infNFe.retirada.nro.$invalid,"erro-rotulo":e.infNFe.retirada.nro_erro,maxlength:"60","somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.retirada.nro._titulo,tipo:"texto"},model:{value:e.infNFe.retirada.nro,callback:function(t){e.$set(e.infNFe.retirada,"nro",t)},expression:"infNFe.retirada.nro"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.retirada.xCpl._doc,erro:e.$v.infNFe.retirada.xCpl.$invalid,"erro-rotulo":e.infNFe.retirada.xCpl_erro,maxlength:"60","somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.retirada.xCpl._titulo,tipo:"texto"},model:{value:e.infNFe.retirada.xCpl,callback:function(t){e.$set(e.infNFe.retirada,"xCpl",t)},expression:"infNFe.retirada.xCpl"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.retirada.xBairro._doc,erro:e.$v.infNFe.retirada.xBairro.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.retirada.xBairro_erro,maxlength:"60",rotulo:e.metadados.infNFe.retirada.xBairro._titulo,tipo:"texto"},model:{value:e.infNFe.retirada.xBairro,callback:function(t){e.$set(e.infNFe.retirada,"xBairro",t)},expression:"infNFe.retirada.xBairro"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.retirada.cMun._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.retirada.cMun.$invalid,"erro-rotulo":e.infNFe.retirada.cMun_erro,rotulo:e.metadados.infNFe.retirada.cMun._titulo,tipo:"texto"},model:{value:e.infNFe.retirada.cMun,callback:function(t){e.$set(e.infNFe.retirada,"cMun",t)},expression:"infNFe.retirada.cMun"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.retirada.xMun._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.retirada.xMun.$invalid,"erro-rotulo":e.infNFe.retirada.xMun_erro,maxlength:"60",rotulo:e.metadados.infNFe.retirada.xMun._titulo,tipo:"texto"},model:{value:e.infNFe.retirada.xMun,callback:function(t){e.$set(e.infNFe.retirada,"xMun",t)},expression:"infNFe.retirada.xMun"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.retirada.UF._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.retirada.UF.$invalid,"erro-rotulo":e.infNFe.retirada.UF_erro,opcoes:e.metadados.infNFe.retirada.UF._enumeration,"rotulo-fixo":e.metadados.infNFe.retirada.UF._titulo,tipo:"seletor"},model:{value:e.infNFe.retirada.UF,callback:function(t){e.$set(e.infNFe.retirada,"UF",t)},expression:"infNFe.retirada.UF"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.retirada.CEP._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.retirada.CEP.$invalid,"erro-rotulo":e.infNFe.retirada.CEP_erro,rotulo:e.metadados.infNFe.retirada.CEP._titulo,tipo:"texto"},model:{value:e.infNFe.retirada.CEP,callback:function(t){e.$set(e.infNFe.retirada,"CEP",t)},expression:"infNFe.retirada.CEP"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.retirada.cPais._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.retirada.cPais.$invalid,"erro-rotulo":e.infNFe.retirada.cPais_erro,rotulo:e.metadados.infNFe.retirada.cPais._titulo,tipo:"texto"},model:{value:e.infNFe.retirada.cPais,callback:function(t){e.$set(e.infNFe.retirada,"cPais",t)},expression:"infNFe.retirada.cPais"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.retirada.xPais._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.retirada.xPais.$invalid,"erro-rotulo":e.infNFe.retirada.xPais_erro,maxlength:"60",rotulo:e.metadados.infNFe.retirada.xPais._titulo,tipo:"texto"},model:{value:e.infNFe.retirada.xPais,callback:function(t){e.$set(e.infNFe.retirada,"xPais",t)},expression:"infNFe.retirada.xPais"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.retirada.fone._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.retirada.fone.$invalid,"erro-rotulo":e.infNFe.retirada.fone_erro,rotulo:e.metadados.infNFe.retirada.fone._titulo,tipo:"texto"},model:{value:e.infNFe.retirada.fone,callback:function(t){e.$set(e.infNFe.retirada,"fone",t)},expression:"infNFe.retirada.fone"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.retirada.email._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.retirada.email.$invalid,"erro-rotulo":e.infNFe.retirada.email_erro,maxlength:"60",rotulo:e.metadados.infNFe.retirada.email._titulo,tipo:"texto"},model:{value:e.infNFe.retirada.email,callback:function(t){e.$set(e.infNFe.retirada,"email",t)},expression:"infNFe.retirada.email"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.retirada.IE._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.retirada.IE.$invalid,"erro-rotulo":e.infNFe.retirada.IE_erro,maxlength:"14",rotulo:e.metadados.infNFe.retirada.IE._titulo,tipo:"texto"},model:{value:e.infNFe.retirada.IE,callback:function(t){e.$set(e.infNFe.retirada,"IE",t)},expression:"infNFe.retirada.IE"}})],1)]):e._e()],1)])])],1)],1)],1)},yx=[];wx._withStripped=!0;var Nx={components:{Campo:Sl,PromptContatoNovo:Yd},computed:{},data:function(){return{modalEmitente:!1,promptEmitente:!1}},methods:{abrirModalEmitente:function(){this.modalEmitente=!0},abrirPromptEmitente:function(){this.promptEmitente=!0},selecionarEmitente:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log("NFeEmitente","selecionarEmitente()",t,a.apelido),e.prev=1,!t){e.next=6;break}return this.nota.outrosNFe.idContatoEmitente=t,e.next=6,this.obterEmitente(this.nota.infNFe,t,this.nota.outrosNFe);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),this.$q.notifyError("Não foi possível carregar a empresa emitente",e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t,a){return e.apply(this,arguments)}}(),obterEmitente:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){var i,r,s,n,c,l,d,u,m,p;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("NFeEmitente","obterEmitente"),e.next=3,He().contato.get(a);case 3:return i=e.sent,Po(!i,"Não foi possível carregar o contato da empresa emitente"),e.next=7,He().contatoEndereco.where({idContato:a}).toArray();case 7:return i.enderecos=e.sent,Po(!i.enderecos||0===i.enderecos.length,"Não foi possível carregar o endereço da empresa emitente"),i.enderecoPrincipal=i.enderecos.find(function(e){return"Principal"===e.grupo}),i.enderecoPrincipal||(i.enderecoPrincipal=i.enderecos[0]||{}),e.next=13,He().contatoTelefone.where("idContato").equals(a).toArray();case 13:return i.telefones=e.sent,i.telefonePrincipal=i.telefones.find(function(e){return"Principal"===e.grupo}),i.telefonePrincipal||(i.telefonePrincipal=i.telefones[0]||{}),ei.log("NFeEmitente","empresa",i),Po(!i.numeroDocumentoNacional,"Empresa emitente sem CNPJ cadastrado"),Po(!i.numeroDocumentoEstadual,"Empresa emitente sem Inscrição Estadual cadastrado"),Po(!i.nome,"Empresa emitente sem Razão Social (nome) cadastrado"),Po(!i.enderecoPrincipal.uf,"Empresa emitente sem UF cadastrado"),Po(!i.enderecoPrincipal.ibgeCod,"Empresa emitente sem código do município cadastrado"),Po(!i.regime,"Empresa emitente sem regime cadastrado"),r=t.emit,r.escolhas.CNPJ=Pa(i.numeroDocumentoNacional),r.IE=Pa(i.numeroDocumentoEstadual),r.CRT="SimplesNacional"===i.regime?"1":"3",r.xNome=ro(i.nome),r.xFant=ro(i.apelido),r.email=String(i.email||"").trim(),r.enderEmit.fone=Pa(i.telefonePrincipal.telefone),r.enderEmit.xLgr=ro(i.enderecoPrincipal.logradouro),r.enderEmit.nro=String(i.enderecoPrincipal.numero||"").trim(),r.enderEmit.xCpl=ro(i.enderecoPrincipal.complemento),r.enderEmit.xBairro=ro(i.enderecoPrincipal.bairro),r.enderEmit.cMun=String(i.enderecoPrincipal.ibgeCod||"").trim(),r.enderEmit.xMun=ro(i.enderecoPrincipal.municipio),r.enderEmit.UF=String(i.enderecoPrincipal.uf||"").trim(),r.enderEmit.CEP=Pa(i.enderecoPrincipal.cep),r.enderEmit.cPais="1058",r.enderEmit.xPais=ro(i.enderecoPrincipal.pais||"Brasil"),t.ide.cMunFG=r.enderEmit.cMun,t.ide.cUF=String(La[r.enderEmit.UF]),o.dadosAdicionaisEmitente=ro(i.observacaoNFE),e.next=46,He().aliquotaSimples.where({idEmpresa:a}).sortBy("dataInicio");case 46:for(s=e.sent,n=new Date((new Date).toDateString()),o.aliquotaSimples=0,c=!0,l=!1,d=void 0,e.prev=52,u=s[Symbol.iterator]();!(c=(m=u.next()).done);c=!0)p=m.value,new Date(p.dataInicio)<=n&&(!p.dataFim||new Date(p.dataFim)>=n)&&(o.aliquotaSimples=p.valor);e.next=60;break;case 56:e.prev=56,e.t0=e["catch"](52),l=!0,d=e.t0;case 60:e.prev=60,e.prev=61,c||null==u.return||u.return();case 63:if(e.prev=63,!l){e.next=66;break}throw d;case 66:return e.finish(63);case 67:return e.finish(60);case 68:case"end":return e.stop()}},e,null,[[52,56,60,68],[61,,63,67]])}));return function(t,a,o){return e.apply(this,arguments)}}()},mixins:[Xg],props:{nota:{required:!0,type:Object},situacao:String},created:function(){ei.log("NFeEmitente","created()")}},kx=Nx,Mx=(a("2edb"),Object(sc["a"])(kx,wx,yx,!1,null,null,null));Mx.options.__file="NFeEmitente.vue";var Px=Mx.exports,Dx=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-collapsible",{staticClass:" border-1 q-my-sm",attrs:{icon:"payment",label:e.metadados.infNFe.cobr._titulo,opened:""}},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.cobr.visivel._doc,"somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.cobr.visivel._titulo,tipo:"logico"},model:{value:e.infNFe.cobr.visivel,callback:function(t){e.$set(e.infNFe.cobr,"visivel",t)},expression:"infNFe.cobr.visivel"}})],1),e.infNFe.cobr.visivel?[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.cobr.fat.visivel._doc,"somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.cobr.fat.visivel._titulo,tipo:"logico"},model:{value:e.infNFe.cobr.fat.visivel,callback:function(t){e.$set(e.infNFe.cobr.fat,"visivel",t)},expression:"infNFe.cobr.fat.visivel"}})],1),e.infNFe.cobr.fat.visivel?a("div",{staticClass:"col-12 no-shadow"},[a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"u-campoCompacto col-12 col-md-3",attrs:{dica:e.metadados.infNFe.cobr.fat.nFat._doc,erro:e.$v.infNFe.cobr.fat.nFat.$invalid,"erro-rotulo":e.infNFe.cobr.fat.nFat_erro,maxlength:"60","somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.cobr.fat.nFat._titulo,tipo:"texto"},model:{value:e.infNFe.cobr.fat.nFat,callback:function(t){e.$set(e.infNFe.cobr.fat,"nFat",t)},expression:"infNFe.cobr.fat.nFat"}}),a("campo",{staticClass:"u-campoCompacto col-12 col-md-3",attrs:{dica:e.metadados.infNFe.cobr.fat.vOrig._doc,erro:e.$v.infNFe.cobr.fat.vOrig.$invalid,"erro-rotulo":e.infNFe.cobr.fat.vOrig_erro,align:"center","somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.cobr.fat.vOrig._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.cobr.fat.vOrig,callback:function(t){e.$set(e.infNFe.cobr.fat,"vOrig",t)},expression:"infNFe.cobr.fat.vOrig"}}),a("campo",{staticClass:"u-campoCompacto col-12 col-md-3",attrs:{dica:e.metadados.infNFe.cobr.fat.vDesc._doc,erro:e.$v.infNFe.cobr.fat.vDesc.$invalid,"erro-rotulo":e.infNFe.cobr.fat.vDesc_erro,prefix:" - ",align:"center","somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.cobr.fat.vDesc._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.cobr.fat.vDesc,callback:function(t){e.$set(e.infNFe.cobr.fat,"vDesc",t)},expression:"infNFe.cobr.fat.vDesc"}}),a("campo",{staticClass:"u-campoCompacto col-12 col-md-3",attrs:{dica:e.metadados.infNFe.cobr.fat.vLiq._doc,erro:e.$v.infNFe.cobr.fat.vLiq.$invalid,"erro-rotulo":e.infNFe.cobr.fat.vLiq_erro,prefix:"= ","somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.cobr.fat.vLiq._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.cobr.fat.vLiq,callback:function(t){e.$set(e.infNFe.cobr.fat,"vLiq",t)},expression:"infNFe.cobr.fat.vLiq"}})],1)])]):e._e(),a("div",{staticClass:"col-12 no-shadow"},[a("q-card-title",{staticClass:"q-py-sm q-px-none"},[e._v(e._s(e.metadados.infNFe.cobr.dup._titulo)+": ")]),a("q-list",{staticClass:"no-border q-pa-none"},e._l(e.infNFe.cobr.dup,function(t,o){return a("q-item",{key:o,staticClass:"border-1 q-mb-xs q-px-none"},[a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col q-pl-none u-campoCompacto",attrs:{dica:e.metadados.infNFe.cobr.dup.lista.dVenc._doc,erro:e.$v.infNFe.cobr.dup.$each[0].dVenc.$invalid,"erro-rotulo":t.dVenc_erro,"somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.cobr.dup.lista.dVenc._titulo,tipo:"data"},model:{value:t.dVenc,callback:function(a){e.$set(t,"dVenc",a)},expression:"item_dup.dVenc"}}),a("campo",{staticClass:"col u-campoCompacto",attrs:{dica:e.metadados.infNFe.cobr.dup.lista.vDup._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.cobr.dup.$each[0].vDup.$invalid,"erro-rotulo":t.vDup_erro,align:"left",rotulo:e.metadados.infNFe.cobr.dup.lista.vDup._titulo,tipo:"decimal",decimals:"2"},model:{value:t.vDup,callback:function(a){e.$set(t,"vDup",a)},expression:"item_dup.vDup"}}),a("q-btn",{staticClass:"bt-negative q-mt-md",attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(t){e.removerLinhaDaLista(e.infNFe.cobr.dup,o)}}})],1)])],1)})),"Em digitação"==e.situacao?a("q-btn",{attrs:{color:"positive",icon:"add",label:"Nova duplicata",outline:"",size:"sm"},on:{click:function(t){e.adicionarLinhaNaLista(e.infNFe.cobr.dup,e.metadados.infNFe.cobr.dup.lista)}}}):e._e()],1)]:e._e()],2)],1)},Ex=[];Dx._withStripped=!0;var Tx={components:{Campo:Sl},computed:{},data:function(){return{}},methods:{},mixins:[Xg],props:{nota:{required:!0,type:Object},situacao:String},created:function(){ei.log("NFeFaturamento","created()")}},Ax=Tx,Ox=(a("786d"),Object(sc["a"])(Ax,Dx,Ex,!1,null,null,null));Ox.options.__file="NFeFaturamento.vue";var $x=Ox.exports,Rx=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-collapsible",{staticClass:"border-1 q-my-sm",attrs:{icon:"description",label:e.metadados.infNFe.infAdic._titulo}},[e.infNFe.infAdic.visivel?a("div",[a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-12",attrs:{dica:e.metadados.infNFe.infAdic.infAdFisco._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.infAdic.infAdFisco.$invalid,"erro-rotulo":e.infNFe.infAdic.infAdFisco_erro,maxlength:"2000",rotulo:e.metadados.infNFe.infAdic.infAdFisco._titulo,rows:"3",tipo:"textoArea"},model:{value:e.infNFe.infAdic.infAdFisco,callback:function(t){e.$set(e.infNFe.infAdic,"infAdFisco",t)},expression:"infNFe.infAdic.infAdFisco"}})],1),a("div",{staticClass:"col-12 no-shadow"},[a("q-card-title",{staticClass:"q-py-sm"},[e._v(e._s(e.metadados.infNFe.infAdic.procRef._titulo)+":\n        ")]),a("q-list",{staticClass:"no-border q-py-none"},e._l(e.infNFe.infAdic.procRef,function(t,o){return a("q-item",{key:o,staticClass:"border-1 q-mb-xs"},[a("q-item-main",[a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.infAdic.procRef.lista.nProc._doc,erro:e.$v.infNFe.infAdic.procRef.$each[0].nProc.$invalid,"erro-rotulo":t.nProc_erro,maxlength:"60",rotulo:e.metadados.infNFe.infAdic.procRef.lista.nProc._titulo,tipo:"texto"},model:{value:t.nProc,callback:function(a){e.$set(t,"nProc",a)},expression:"item_procRef.nProc"}}),a("campo",{staticClass:"col-12 col-md",attrs:{dica:e.metadados.infNFe.infAdic.procRef.lista.indProc._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.infAdic.procRef.$each[0].indProc.$invalid,"erro-rotulo":t.indProc_erro,opcoes:e.metadados.infNFe.infAdic.procRef.lista.indProc._enumeration,"rotulo-fixo":e.metadados.infNFe.infAdic.procRef.lista.indProc._titulo,tipo:"seletor"},model:{value:t.indProc,callback:function(a){e.$set(t,"indProc",a)},expression:"item_procRef.indProc"}}),a("div",{staticClass:"d-flex col-12 col-md-auto"},["Em digitação"==e.situacao?a("q-btn",{staticClass:"bt-negative",attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(t){e.removerLinhaDaLista(e.infNFe.infAdic.procRef,o)}}}):e._e()],1)],1)])],1)})),"Em digitação"==e.situacao?a("q-btn",{attrs:{color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm"},on:{click:function(t){e.adicionarLinhaNaLista(e.infNFe.infAdic.procRef,e.metadados.infNFe.infAdic.procRef.lista)}}}):e._e()],1)]):e._e(),a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.avulsa.visivel._doc,"somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.avulsa.visivel._titulo,tipo:"logico"},model:{value:e.infNFe.avulsa.visivel,callback:function(t){e.$set(e.infNFe.avulsa,"visivel",t)},expression:"infNFe.avulsa.visivel"}})],1),e.infNFe.avulsa.visivel?a("div",[a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.avulsa.CNPJ._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.avulsa.CNPJ.$invalid,"erro-rotulo":e.infNFe.avulsa.CNPJ_erro,maxlength:"14",rotulo:e.metadados.infNFe.avulsa.CNPJ._titulo,tipo:"texto"},model:{value:e.infNFe.avulsa.CNPJ,callback:function(t){e.$set(e.infNFe.avulsa,"CNPJ",t)},expression:"infNFe.avulsa.CNPJ"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.avulsa.xOrgao._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.avulsa.xOrgao.$invalid,"erro-rotulo":e.infNFe.avulsa.xOrgao_erro,maxlength:"60",rotulo:e.metadados.infNFe.avulsa.xOrgao._titulo,tipo:"texto"},model:{value:e.infNFe.avulsa.xOrgao,callback:function(t){e.$set(e.infNFe.avulsa,"xOrgao",t)},expression:"infNFe.avulsa.xOrgao"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.avulsa.matr._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.avulsa.matr.$invalid,"erro-rotulo":e.infNFe.avulsa.matr_erro,maxlength:"60",rotulo:e.metadados.infNFe.avulsa.matr._titulo,tipo:"texto"},model:{value:e.infNFe.avulsa.matr,callback:function(t){e.$set(e.infNFe.avulsa,"matr",t)},expression:"infNFe.avulsa.matr"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.avulsa.xAgente._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.avulsa.xAgente.$invalid,"erro-rotulo":e.infNFe.avulsa.xAgente_erro,maxlength:"60",rotulo:e.metadados.infNFe.avulsa.xAgente._titulo,tipo:"texto"},model:{value:e.infNFe.avulsa.xAgente,callback:function(t){e.$set(e.infNFe.avulsa,"xAgente",t)},expression:"infNFe.avulsa.xAgente"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.avulsa.fone._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.avulsa.fone.$invalid,"erro-rotulo":e.infNFe.avulsa.fone_erro,rotulo:e.metadados.infNFe.avulsa.fone._titulo,tipo:"texto"},model:{value:e.infNFe.avulsa.fone,callback:function(t){e.$set(e.infNFe.avulsa,"fone",t)},expression:"infNFe.avulsa.fone"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.avulsa.UF._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.avulsa.UF.$invalid,"erro-rotulo":e.infNFe.avulsa.UF_erro,opcoes:e.metadados.infNFe.avulsa.UF._enumeration,"rotulo-fixo":e.metadados.infNFe.avulsa.UF._titulo,tipo:"seletor"},model:{value:e.infNFe.avulsa.UF,callback:function(t){e.$set(e.infNFe.avulsa,"UF",t)},expression:"infNFe.avulsa.UF"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.avulsa.nDAR._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.avulsa.nDAR.$invalid,"erro-rotulo":e.infNFe.avulsa.nDAR_erro,maxlength:"60",rotulo:e.metadados.infNFe.avulsa.nDAR._titulo,tipo:"texto"},model:{value:e.infNFe.avulsa.nDAR,callback:function(t){e.$set(e.infNFe.avulsa,"nDAR",t)},expression:"infNFe.avulsa.nDAR"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.avulsa.dEmi._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.avulsa.dEmi.$invalid,"erro-rotulo":e.infNFe.avulsa.dEmi_erro,rotulo:e.metadados.infNFe.avulsa.dEmi._titulo,tipo:"data"},model:{value:e.infNFe.avulsa.dEmi,callback:function(t){e.$set(e.infNFe.avulsa,"dEmi",t)},expression:"infNFe.avulsa.dEmi"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.avulsa.vDAR._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.avulsa.vDAR.$invalid,"erro-rotulo":e.infNFe.avulsa.vDAR_erro,rotulo:e.metadados.infNFe.avulsa.vDAR._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.avulsa.vDAR,callback:function(t){e.$set(e.infNFe.avulsa,"vDAR",t)},expression:"infNFe.avulsa.vDAR"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.avulsa.repEmi._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.avulsa.repEmi.$invalid,"erro-rotulo":e.infNFe.avulsa.repEmi_erro,maxlength:"60",rotulo:e.metadados.infNFe.avulsa.repEmi._titulo,tipo:"texto"},model:{value:e.infNFe.avulsa.repEmi,callback:function(t){e.$set(e.infNFe.avulsa,"repEmi",t)},expression:"infNFe.avulsa.repEmi"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.avulsa.dPag._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.avulsa.dPag.$invalid,"erro-rotulo":e.infNFe.avulsa.dPag_erro,rotulo:e.metadados.infNFe.avulsa.dPag._titulo,tipo:"data"},model:{value:e.infNFe.avulsa.dPag,callback:function(t){e.$set(e.infNFe.avulsa,"dPag",t)},expression:"infNFe.avulsa.dPag"}})],1)]):e._e(),a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.exporta.visivel._doc,"somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.exporta.visivel._titulo,tipo:"logico"},model:{value:e.infNFe.exporta.visivel,callback:function(t){e.$set(e.infNFe.exporta,"visivel",t)},expression:"infNFe.exporta.visivel"}})],1),e.infNFe.exporta.visivel?a("div",[a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.exporta.UFSaidaPais._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.exporta.UFSaidaPais.$invalid,"erro-rotulo":e.infNFe.exporta.UFSaidaPais_erro,opcoes:e.metadados.infNFe.exporta.UFSaidaPais._enumeration,"rotulo-fixo":e.metadados.infNFe.exporta.UFSaidaPais._titulo,tipo:"seletor"},model:{value:e.infNFe.exporta.UFSaidaPais,callback:function(t){e.$set(e.infNFe.exporta,"UFSaidaPais",t)},expression:"infNFe.exporta.UFSaidaPais"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.exporta.xLocExporta._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.exporta.xLocExporta.$invalid,"erro-rotulo":e.infNFe.exporta.xLocExporta_erro,maxlength:"60",rotulo:e.metadados.infNFe.exporta.xLocExporta._titulo,tipo:"texto"},model:{value:e.infNFe.exporta.xLocExporta,callback:function(t){e.$set(e.infNFe.exporta,"xLocExporta",t)},expression:"infNFe.exporta.xLocExporta"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.exporta.xLocDespacho._doc,erro:e.$v.infNFe.exporta.xLocDespacho.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.exporta.xLocDespacho_erro,maxlength:"60",rotulo:e.metadados.infNFe.exporta.xLocDespacho._titulo,tipo:"texto"},model:{value:e.infNFe.exporta.xLocDespacho,callback:function(t){e.$set(e.infNFe.exporta,"xLocDespacho",t)},expression:"infNFe.exporta.xLocDespacho"}})],1)]):e._e(),a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.compra.visivel._doc,"somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.compra.visivel._titulo,tipo:"logico"},model:{value:e.infNFe.compra.visivel,callback:function(t){e.$set(e.infNFe.compra,"visivel",t)},expression:"infNFe.compra.visivel"}})],1),e.infNFe.compra.visivel?a("div",[a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.compra.xNEmp._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.compra.xNEmp.$invalid,"erro-rotulo":e.infNFe.compra.xNEmp_erro,maxlength:"22",rotulo:e.metadados.infNFe.compra.xNEmp._titulo,tipo:"texto"},model:{value:e.infNFe.compra.xNEmp,callback:function(t){e.$set(e.infNFe.compra,"xNEmp",t)},expression:"infNFe.compra.xNEmp"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.compra.xPed._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.compra.xPed.$invalid,"erro-rotulo":e.infNFe.compra.xPed_erro,maxlength:"60",rotulo:e.metadados.infNFe.compra.xPed._titulo,tipo:"texto"},model:{value:e.infNFe.compra.xPed,callback:function(t){e.$set(e.infNFe.compra,"xPed",t)},expression:"infNFe.compra.xPed"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.compra.xCont._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.compra.xCont.$invalid,"erro-rotulo":e.infNFe.compra.xCont_erro,maxlength:"60",rotulo:e.metadados.infNFe.compra.xCont._titulo,tipo:"texto"},model:{value:e.infNFe.compra.xCont,callback:function(t){e.$set(e.infNFe.compra,"xCont",t)},expression:"infNFe.compra.xCont"}})],1)]):e._e(),a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.cana.visivel._doc,"somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.cana.visivel._titulo,tipo:"logico"},model:{value:e.infNFe.cana.visivel,callback:function(t){e.$set(e.infNFe.cana,"visivel",t)},expression:"infNFe.cana.visivel"}})],1),e.infNFe.cana.visivel?a("div",[a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.cana.safra._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.cana.safra.$invalid,"erro-rotulo":e.infNFe.cana.safra_erro,maxlength:"9",rotulo:e.metadados.infNFe.cana.safra._titulo,tipo:"texto"},model:{value:e.infNFe.cana.safra,callback:function(t){e.$set(e.infNFe.cana,"safra",t)},expression:"infNFe.cana.safra"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.cana.ref._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.cana.ref.$invalid,"erro-rotulo":e.infNFe.cana.ref_erro,rotulo:e.metadados.infNFe.cana.ref._titulo,tipo:"texto"},model:{value:e.infNFe.cana.ref,callback:function(t){e.$set(e.infNFe.cana,"ref",t)},expression:"infNFe.cana.ref"}})],1),a("div",{staticClass:"col-12 no-shadow"},[a("q-card-title",{staticClass:"q-py-sm q-px-none"},[e._v(e._s(e.metadados.infNFe.cana.forDia._titulo)+": ")]),a("q-list",{staticClass:"no-border q-pa-none"},e._l(e.infNFe.cana.forDia,function(t,o){return a("q-item",{key:o,staticClass:"border-1 q-mb-xs q-px-none"},[a("q-item-main",[a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col",attrs:{dica:e.metadados.infNFe.cana.forDia.lista.qtde._doc,erro:e.$v.infNFe.cana.forDia.$each[0].qtde.$invalid,"erro-rotulo":t.qtde_erro,"somente-leitura":"Em digitação"!=e.situacao,opcoes:{minimumValue:0,decimalPlaces:4},rotulo:e.metadados.infNFe.cana.forDia.lista.qtde._titulo,tipo:"decimal"},model:{value:t.qtde,callback:function(a){e.$set(t,"qtde",a)},expression:"item_forDia.qtde"}}),a("div",{staticClass:"col-auto justify-end q-pt-md ",staticStyle:{display:"flex"}},["Em digitação"==e.situacao?a("q-btn",{staticClass:"bt-negative",attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(t){e.removerLinhaDaLista(e.infNFe.cana.forDia,o)}}}):e._e()],1)],1)])],1)})),"Em digitação"==e.situacao?a("q-btn",{attrs:{color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm"},on:{click:function(t){e.adicionarLinhaNaLista(e.infNFe.cana.forDia,e.metadados.infNFe.cana.forDia.lista)}}}):e._e()],1),a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.cana.qTotMes._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.cana.qTotMes.$invalid,"erro-rotulo":e.infNFe.cana.qTotMes_erro,opcoes:{minimumValue:0,decimalPlaces:4},rotulo:e.metadados.infNFe.cana.qTotMes._titulo,tipo:"decimal"},model:{value:e.infNFe.cana.qTotMes,callback:function(t){e.$set(e.infNFe.cana,"qTotMes",t)},expression:"infNFe.cana.qTotMes"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.cana.qTotAnt._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.cana.qTotAnt.$invalid,"erro-rotulo":e.infNFe.cana.qTotAnt_erro,opcoes:{minimumValue:0,decimalPlaces:4},rotulo:e.metadados.infNFe.cana.qTotAnt._titulo,tipo:"decimal"},model:{value:e.infNFe.cana.qTotAnt,callback:function(t){e.$set(e.infNFe.cana,"qTotAnt",t)},expression:"infNFe.cana.qTotAnt"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.cana.qTotGer._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.cana.qTotGer.$invalid,"erro-rotulo":e.infNFe.cana.qTotGer_erro,opcoes:{minimumValue:0,decimalPlaces:4},rotulo:e.metadados.infNFe.cana.qTotGer._titulo,tipo:"decimal"},model:{value:e.infNFe.cana.qTotGer,callback:function(t){e.$set(e.infNFe.cana,"qTotGer",t)},expression:"infNFe.cana.qTotGer"}})],1),a("div",{staticClass:"col-12 no-shadow"},[a("q-card-title",{staticClass:"q-py-sm q-px-none"},[e._v(e._s(e.metadados.infNFe.cana.deduc._titulo)+": ")]),a("q-list",{staticClass:"no-border q-pa-none"},e._l(e.infNFe.cana.deduc,function(t,o){return a("q-item",{key:o,staticClass:"border-1 q-mb-xs q-px-none"},[a("q-item-main",[a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md",attrs:{dica:e.metadados.infNFe.cana.deduc.lista.xDed._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.cana.deduc.$each[0].xDed.$invalid,"erro-rotulo":t.xDed_erro,maxlength:"60",rotulo:e.metadados.infNFe.cana.deduc.lista.xDed._titulo,tipo:"texto"},model:{value:t.xDed,callback:function(a){e.$set(t,"xDed",a)},expression:"item_deduc.xDed"}}),a("campo",{staticClass:"col-12 col-md-auto",attrs:{dica:e.metadados.infNFe.cana.deduc.lista.vDed._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.cana.deduc.$each[0].vDed.$invalid,"erro-rotulo":t.vDed_erro,rotulo:e.metadados.infNFe.cana.deduc.lista.vDed._titulo,tipo:"decimal",decimals:"2"},model:{value:t.vDed,callback:function(a){e.$set(t,"vDed",a)},expression:"item_deduc.vDed"}}),a("div",{staticClass:"col-auto justify-end q-pt-md ",staticStyle:{display:"flex"}},["Em digitação"==e.situacao?a("q-btn",{staticClass:"bt-negative",attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(t){e.removerLinhaDaLista(e.infNFe.cana.deduc,o)}}}):e._e()],1)],1)])],1)})),"Em digitação"==e.situacao?a("q-btn",{attrs:{color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm"},on:{click:function(t){e.adicionarLinhaNaLista(e.infNFe.cana.deduc,e.metadados.infNFe.cana.deduc.lista)}}}):e._e()],1),a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.cana.vFor._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.cana.vFor.$invalid,"erro-rotulo":e.infNFe.cana.vFor_erro,rotulo:e.metadados.infNFe.cana.vFor._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.cana.vFor,callback:function(t){e.$set(e.infNFe.cana,"vFor",t)},expression:"infNFe.cana.vFor"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.cana.vTotDed._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.cana.vTotDed.$invalid,"erro-rotulo":e.infNFe.cana.vTotDed_erro,rotulo:e.metadados.infNFe.cana.vTotDed._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.cana.vTotDed,callback:function(t){e.$set(e.infNFe.cana,"vTotDed",t)},expression:"infNFe.cana.vTotDed"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.cana.vLiqFor._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.cana.vLiqFor.$invalid,"erro-rotulo":e.infNFe.cana.vLiqFor_erro,rotulo:e.metadados.infNFe.cana.vLiqFor._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.cana.vLiqFor,callback:function(t){e.$set(e.infNFe.cana,"vLiqFor",t)},expression:"infNFe.cana.vLiqFor"}})],1)]):e._e()])],1)},jx=[];Rx._withStripped=!0;var zx={components:{Campo:Sl},computed:{},data:function(){return{}},methods:{},mixins:[Xg],props:{nota:{required:!0,type:Object},situacao:String},created:function(){ei.log("NFeInformacoesAdicionais","created()")}},Bx=zx,Lx=(a("8916"),Object(sc["a"])(Bx,Rx,jx,!1,null,null,null));Lx.options.__file="NFeInformacoesAdicionais.vue";var Vx=Lx.exports,Ux=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-collapsible",{staticClass:" border-1 q-my-sm",attrs:{icon:"account_balance",label:e.metadados.infNFe.total._titulo}},[a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ICMSTot.vICMSDeson._doc,erro:e.$v.infNFe.total.ICMSTot.vICMSDeson.$invalid,"erro-rotulo":e.infNFe.total.ICMSTot.vICMSDeson_erro,rotulo:e.metadados.infNFe.total.ICMSTot.vICMSDeson._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.infNFe.total.ICMSTot.vICMSDeson,callback:function(t){e.$set(e.infNFe.total.ICMSTot,"vICMSDeson",t)},expression:"infNFe.total.ICMSTot.vICMSDeson"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ICMSTot.vFCPUFDest._doc,erro:e.$v.infNFe.total.ICMSTot.vFCPUFDest.$invalid,"erro-rotulo":e.infNFe.total.ICMSTot.vFCPUFDest_erro,rotulo:e.metadados.infNFe.total.ICMSTot.vFCPUFDest._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.infNFe.total.ICMSTot.vFCPUFDest,callback:function(t){e.$set(e.infNFe.total.ICMSTot,"vFCPUFDest",t)},expression:"infNFe.total.ICMSTot.vFCPUFDest"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ICMSTot.vICMSUFDest._doc,erro:e.$v.infNFe.total.ICMSTot.vICMSUFDest.$invalid,"erro-rotulo":e.infNFe.total.ICMSTot.vICMSUFDest_erro,rotulo:e.metadados.infNFe.total.ICMSTot.vICMSUFDest._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.infNFe.total.ICMSTot.vICMSUFDest,callback:function(t){e.$set(e.infNFe.total.ICMSTot,"vICMSUFDest",t)},expression:"infNFe.total.ICMSTot.vICMSUFDest"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ICMSTot.vICMSUFRemet._doc,erro:e.$v.infNFe.total.ICMSTot.vICMSUFRemet.$invalid,"erro-rotulo":e.infNFe.total.ICMSTot.vICMSUFRemet_erro,rotulo:e.metadados.infNFe.total.ICMSTot.vICMSUFRemet._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.infNFe.total.ICMSTot.vICMSUFRemet,callback:function(t){e.$set(e.infNFe.total.ICMSTot,"vICMSUFRemet",t)},expression:"infNFe.total.ICMSTot.vICMSUFRemet"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ICMSTot.vFCP._doc,erro:e.$v.infNFe.total.ICMSTot.vFCP.$invalid,"erro-rotulo":e.infNFe.total.ICMSTot.vFCP_erro,rotulo:e.metadados.infNFe.total.ICMSTot.vFCP._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.infNFe.total.ICMSTot.vFCP,callback:function(t){e.$set(e.infNFe.total.ICMSTot,"vFCP",t)},expression:"infNFe.total.ICMSTot.vFCP"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ICMSTot.vFCPST._doc,erro:e.$v.infNFe.total.ICMSTot.vFCPST.$invalid,"erro-rotulo":e.infNFe.total.ICMSTot.vFCPST_erro,rotulo:e.metadados.infNFe.total.ICMSTot.vFCPST._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.infNFe.total.ICMSTot.vFCPST,callback:function(t){e.$set(e.infNFe.total.ICMSTot,"vFCPST",t)},expression:"infNFe.total.ICMSTot.vFCPST"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ICMSTot.vFCPSTRet._doc,erro:e.$v.infNFe.total.ICMSTot.vFCPSTRet.$invalid,"erro-rotulo":e.infNFe.total.ICMSTot.vFCPSTRet_erro,rotulo:e.metadados.infNFe.total.ICMSTot.vFCPSTRet._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.infNFe.total.ICMSTot.vFCPSTRet,callback:function(t){e.$set(e.infNFe.total.ICMSTot,"vFCPSTRet",t)},expression:"infNFe.total.ICMSTot.vFCPSTRet"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ICMSTot.vII._doc,erro:e.$v.infNFe.total.ICMSTot.vII.$invalid,"erro-rotulo":e.infNFe.total.ICMSTot.vII_erro,rotulo:e.metadados.infNFe.total.ICMSTot.vII._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.infNFe.total.ICMSTot.vII,callback:function(t){e.$set(e.infNFe.total.ICMSTot,"vII",t)},expression:"infNFe.total.ICMSTot.vII"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ICMSTot.vIPIDevol._doc,erro:e.$v.infNFe.total.ICMSTot.vIPIDevol.$invalid,"erro-rotulo":e.infNFe.total.ICMSTot.vIPIDevol_erro,rotulo:e.metadados.infNFe.total.ICMSTot.vIPIDevol._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.infNFe.total.ICMSTot.vIPIDevol,callback:function(t){e.$set(e.infNFe.total.ICMSTot,"vIPIDevol",t)},expression:"infNFe.total.ICMSTot.vIPIDevol"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ICMSTot.vPIS._doc,erro:e.$v.infNFe.total.ICMSTot.vPIS.$invalid,"erro-rotulo":e.infNFe.total.ICMSTot.vPIS_erro,rotulo:e.metadados.infNFe.total.ICMSTot.vPIS._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.infNFe.total.ICMSTot.vPIS,callback:function(t){e.$set(e.infNFe.total.ICMSTot,"vPIS",t)},expression:"infNFe.total.ICMSTot.vPIS"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ICMSTot.vCOFINS._doc,erro:e.$v.infNFe.total.ICMSTot.vCOFINS.$invalid,"erro-rotulo":e.infNFe.total.ICMSTot.vCOFINS_erro,rotulo:e.metadados.infNFe.total.ICMSTot.vCOFINS._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.infNFe.total.ICMSTot.vCOFINS,callback:function(t){e.$set(e.infNFe.total.ICMSTot,"vCOFINS",t)},expression:"infNFe.total.ICMSTot.vCOFINS"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ICMSTot.vTotTrib._doc,erro:e.$v.infNFe.total.ICMSTot.vTotTrib.$invalid,"erro-rotulo":e.infNFe.total.ICMSTot.vTotTrib_erro,rotulo:e.metadados.infNFe.total.ICMSTot.vTotTrib._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.infNFe.total.ICMSTot.vTotTrib,callback:function(t){e.$set(e.infNFe.total.ICMSTot,"vTotTrib",t)},expression:"infNFe.total.ICMSTot.vTotTrib"}})],1)]),a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.total.ISSQNtot.visivel._doc,"somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.total.ISSQNtot.visivel._titulo,tipo:"logico"},model:{value:e.infNFe.total.ISSQNtot.visivel,callback:function(t){e.$set(e.infNFe.total.ISSQNtot,"visivel",t)},expression:"infNFe.total.ISSQNtot.visivel"}})],1),e.infNFe.total.ISSQNtot.visivel?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ISSQNtot.vServ._doc,erro:e.$v.infNFe.total.ISSQNtot.vServ.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.total.ISSQNtot.vServ_erro,rotulo:e.metadados.infNFe.total.ISSQNtot.vServ._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.total.ISSQNtot.vServ,callback:function(t){e.$set(e.infNFe.total.ISSQNtot,"vServ",t)},expression:"infNFe.total.ISSQNtot.vServ"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ISSQNtot.vBC._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.total.ISSQNtot.vBC.$invalid,"erro-rotulo":e.infNFe.total.ISSQNtot.vBC_erro,rotulo:e.metadados.infNFe.total.ISSQNtot.vBC._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.total.ISSQNtot.vBC,callback:function(t){e.$set(e.infNFe.total.ISSQNtot,"vBC",t)},expression:"infNFe.total.ISSQNtot.vBC"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ISSQNtot.vISS._doc,erro:e.$v.infNFe.total.ISSQNtot.vISS.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.total.ISSQNtot.vISS_erro,rotulo:e.metadados.infNFe.total.ISSQNtot.vISS._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.total.ISSQNtot.vISS,callback:function(t){e.$set(e.infNFe.total.ISSQNtot,"vISS",t)},expression:"infNFe.total.ISSQNtot.vISS"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ISSQNtot.vPIS._doc,erro:e.$v.infNFe.total.ISSQNtot.vPIS.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.total.ISSQNtot.vPIS_erro,rotulo:e.metadados.infNFe.total.ISSQNtot.vPIS._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.total.ISSQNtot.vPIS,callback:function(t){e.$set(e.infNFe.total.ISSQNtot,"vPIS",t)},expression:"infNFe.total.ISSQNtot.vPIS"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ISSQNtot.vCOFINS._doc,erro:e.$v.infNFe.total.ISSQNtot.vCOFINS.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.total.ISSQNtot.vCOFINS_erro,rotulo:e.metadados.infNFe.total.ISSQNtot.vCOFINS._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.total.ISSQNtot.vCOFINS,callback:function(t){e.$set(e.infNFe.total.ISSQNtot,"vCOFINS",t)},expression:"infNFe.total.ISSQNtot.vCOFINS"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ISSQNtot.dCompet._doc,erro:e.$v.infNFe.total.ISSQNtot.dCompet.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.total.ISSQNtot.dCompet_erro,rotulo:e.metadados.infNFe.total.ISSQNtot.dCompet._titulo,tipo:"data"},model:{value:e.infNFe.total.ISSQNtot.dCompet,callback:function(t){e.$set(e.infNFe.total.ISSQNtot,"dCompet",t)},expression:"infNFe.total.ISSQNtot.dCompet"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ISSQNtot.vDeducao._doc,erro:e.$v.infNFe.total.ISSQNtot.vDeducao.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.total.ISSQNtot.vDeducao_erro,rotulo:e.metadados.infNFe.total.ISSQNtot.vDeducao._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.total.ISSQNtot.vDeducao,callback:function(t){e.$set(e.infNFe.total.ISSQNtot,"vDeducao",t)},expression:"infNFe.total.ISSQNtot.vDeducao"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ISSQNtot.vOutro._doc,erro:e.$v.infNFe.total.ISSQNtot.vOutro.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.total.ISSQNtot.vOutro_erro,rotulo:e.metadados.infNFe.total.ISSQNtot.vOutro._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.total.ISSQNtot.vOutro,callback:function(t){e.$set(e.infNFe.total.ISSQNtot,"vOutro",t)},expression:"infNFe.total.ISSQNtot.vOutro"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ISSQNtot.vDescIncond._doc,erro:e.$v.infNFe.total.ISSQNtot.vDescIncond.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.total.ISSQNtot.vDescIncond_erro,rotulo:e.metadados.infNFe.total.ISSQNtot.vDescIncond._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.total.ISSQNtot.vDescIncond,callback:function(t){e.$set(e.infNFe.total.ISSQNtot,"vDescIncond",t)},expression:"infNFe.total.ISSQNtot.vDescIncond"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ISSQNtot.vDescCond._doc,erro:e.$v.infNFe.total.ISSQNtot.vDescCond.$invalid,"erro-rotulo":e.infNFe.total.ISSQNtot.vDescCond_erro,"somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.total.ISSQNtot.vDescCond._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.total.ISSQNtot.vDescCond,callback:function(t){e.$set(e.infNFe.total.ISSQNtot,"vDescCond",t)},expression:"infNFe.total.ISSQNtot.vDescCond"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ISSQNtot.vISSRet._doc,erro:e.$v.infNFe.total.ISSQNtot.vISSRet.$invalid,"erro-rotulo":e.infNFe.total.ISSQNtot.vISSRet_erro,"somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.total.ISSQNtot.vISSRet._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.total.ISSQNtot.vISSRet,callback:function(t){e.$set(e.infNFe.total.ISSQNtot,"vISSRet",t)},expression:"infNFe.total.ISSQNtot.vISSRet"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ISSQNtot.cRegTrib._doc,erro:e.$v.infNFe.total.ISSQNtot.cRegTrib.$invalid,"erro-rotulo":e.infNFe.total.ISSQNtot.cRegTrib_erro,"somente-leitura":"Em digitação"!=e.situacao,opcoes:e.metadados.infNFe.total.ISSQNtot.cRegTrib._enumeration,"rotulo-fixo":e.metadados.infNFe.total.ISSQNtot.cRegTrib._titulo,tipo:"seletor"},model:{value:e.infNFe.total.ISSQNtot.cRegTrib,callback:function(t){e.$set(e.infNFe.total.ISSQNtot,"cRegTrib",t)},expression:"infNFe.total.ISSQNtot.cRegTrib"}})],1)]):e._e()]),a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.total.retTrib.visivel._doc,rotulo:e.metadados.infNFe.total.retTrib.visivel._titulo,tipo:"logico"},model:{value:e.infNFe.total.retTrib.visivel,callback:function(t){e.$set(e.infNFe.total.retTrib,"visivel",t)},expression:"infNFe.total.retTrib.visivel"}})],1),e.infNFe.total.retTrib.visivel?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.retTrib.vRetPIS._doc,erro:e.$v.infNFe.total.retTrib.vRetPIS.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.total.retTrib.vRetPIS_erro,rotulo:e.metadados.infNFe.total.retTrib.vRetPIS._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.total.retTrib.vRetPIS,callback:function(t){e.$set(e.infNFe.total.retTrib,"vRetPIS",t)},expression:"infNFe.total.retTrib.vRetPIS"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.retTrib.vRetCOFINS._doc,erro:e.$v.infNFe.total.retTrib.vRetCOFINS.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.total.retTrib.vRetCOFINS_erro,rotulo:e.metadados.infNFe.total.retTrib.vRetCOFINS._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.total.retTrib.vRetCOFINS,callback:function(t){e.$set(e.infNFe.total.retTrib,"vRetCOFINS",t)},expression:"infNFe.total.retTrib.vRetCOFINS"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.retTrib.vRetCSLL._doc,erro:e.$v.infNFe.total.retTrib.vRetCSLL.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.total.retTrib.vRetCSLL_erro,rotulo:e.metadados.infNFe.total.retTrib.vRetCSLL._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.total.retTrib.vRetCSLL,callback:function(t){e.$set(e.infNFe.total.retTrib,"vRetCSLL",t)},expression:"infNFe.total.retTrib.vRetCSLL"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.retTrib.vBCIRRF._doc,erro:e.$v.infNFe.total.retTrib.vBCIRRF.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.total.retTrib.vBCIRRF_erro,rotulo:e.metadados.infNFe.total.retTrib.vBCIRRF._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.total.retTrib.vBCIRRF,callback:function(t){e.$set(e.infNFe.total.retTrib,"vBCIRRF",t)},expression:"infNFe.total.retTrib.vBCIRRF"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.retTrib.vIRRF._doc,erro:e.$v.infNFe.total.retTrib.vIRRF.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.total.retTrib.vIRRF_erro,rotulo:e.metadados.infNFe.total.retTrib.vIRRF._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.total.retTrib.vIRRF,callback:function(t){e.$set(e.infNFe.total.retTrib,"vIRRF",t)},expression:"infNFe.total.retTrib.vIRRF"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.retTrib.vBCRetPrev._doc,erro:e.$v.infNFe.total.retTrib.vBCRetPrev.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.total.retTrib.vBCRetPrev_erro,rotulo:e.metadados.infNFe.total.retTrib.vBCRetPrev._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.total.retTrib.vBCRetPrev,callback:function(t){e.$set(e.infNFe.total.retTrib,"vBCRetPrev",t)},expression:"infNFe.total.retTrib.vBCRetPrev"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.retTrib.vRetPrev._doc,erro:e.$v.infNFe.total.retTrib.vRetPrev.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":e.infNFe.total.retTrib.vRetPrev_erro,rotulo:e.metadados.infNFe.total.retTrib.vRetPrev._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.total.retTrib.vRetPrev,callback:function(t){e.$set(e.infNFe.total.retTrib,"vRetPrev",t)},expression:"infNFe.total.retTrib.vRetPrev"}})],1)]):e._e()])])],1)},Hx=[];Ux._withStripped=!0;var Qx={components:{Campo:Sl},computed:{},data:function(){return{}},methods:{},mixins:[Xg],props:{nota:{required:!0,type:Object},situacao:String},created:function(){ei.log("NFeOutrosValores","created()")}},Gx=Qx,Jx=(a("f94a"),Object(sc["a"])(Gx,Ux,Hx,!1,null,null,null));Jx.options.__file="NFeOutrosValores.vue";var Xx=Jx.exports,Yx=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-collapsible",{staticClass:"border-1 q-my-sm",attrs:{icon:"payment",label:e.metadados.infNFe.pag._titulo,opened:""}},[a("q-list",{staticClass:"no-border q-pa-none"},e._l(e.infNFe.pag.detPag,function(t,o){return a("q-item",{key:o,staticClass:"q-mb-xs q-px-none"},[a("q-item-main",[a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.pag.detPag.lista.indPag._doc,erro:e.$v.infNFe.pag.detPag.$each[0].indPag.$invalid,"erro-rotulo":t.indPag_erro,opcoes:e.metadados.infNFe.pag.detPag.lista.indPag._enumeration,"rotulo-fixo":"Indicador da forma de pagamento",tipo:"seletor"},model:{value:t.indPag,callback:function(a){e.$set(t,"indPag",a)},expression:"item_detPag.indPag"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.pag.detPag.lista.tPag._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.pag.detPag.$each[0].tPag.$invalid,"erro-rotulo":t.tPag_erro,opcoes:e.metadados.infNFe.pag.detPag.lista.tPag._enumeration,"rotulo-fixo":"Forma de pagamento",tipo:"seletor"},on:{input:function(){e._.set(t,"card.visivel",["03","04"].includes(t.tPag))}},model:{value:t.tPag,callback:function(a){e.$set(t,"tPag",a)},expression:"item_detPag.tPag"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{erro:e.$v.infNFe.pag.detPag.$each[0].vPag.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":t.vPag_erro,rotulo:"Valor do Pagamento",tipo:"decimal",decimals:"2"},model:{value:t.vPag,callback:function(a){e.$set(t,"vPag",a)},expression:"item_detPag.vPag"}})],1),e._.get(t,"card.visivel")?a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.pag.detPag.lista.card.tpIntegra._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.pag.detPag.$each[0].card.tpIntegra.$invalid,"erro-rotulo":t.card.tpIntegra_erro,opcoes:e.metadados.infNFe.pag.detPag.lista.card.tpIntegra._enumeration,"rotulo-fixo":e.metadados.infNFe.pag.detPag.lista.card.tpIntegra._titulo,tipo:"seletor"},model:{value:t.card.tpIntegra,callback:function(a){e.$set(t.card,"tpIntegra",a)},expression:"item_detPag.card.tpIntegra"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.pag.detPag.lista.card.tBand._doc,erro:e.$v.infNFe.pag.detPag.$each[0].card.tBand.$invalid,"erro-rotulo":t.card.tBand_erro,opcoes:e.metadados.infNFe.pag.detPag.lista.card.tBand._enumeration,"rotulo-fixo":e.metadados.infNFe.pag.detPag.lista.card.tBand._titulo,tipo:"seletor"},model:{value:t.card.tBand,callback:function(a){e.$set(t.card,"tBand",a)},expression:"item_detPag.card.tBand"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.pag.detPag.lista.card.CNPJ._doc,erro:e.$v.infNFe.pag.detPag.$each[0].card.CNPJ.$invalid,"erro-rotulo":t.card.CNPJ_erro,maxlength:"14",rotulo:e.metadados.infNFe.pag.detPag.lista.card.CNPJ._titulo,tipo:"texto"},model:{value:t.card.CNPJ,callback:function(a){e.$set(t.card,"CNPJ",a)},expression:"item_detPag.card.CNPJ"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.pag.detPag.lista.card.cAut._doc,erro:e.$v.infNFe.pag.detPag.$each[0].card.cAut.$invalid,"erro-rotulo":t.card.cAut_erro,maxlength:"20",rotulo:e.metadados.infNFe.pag.detPag.lista.card.cAut._titulo,tipo:"texto"},model:{value:t.card.cAut,callback:function(a){e.$set(t.card,"cAut",a)},expression:"item_detPag.card.cAut"}})],1):e._e(),"Em digitação"==e.situacao?a("q-btn",{staticClass:"bt-negative q-mt-md",attrs:{color:"negative",icon:"remove",outline:"",size:"sm",label:"Remover pagamento"},on:{click:function(t){e.removerLinhaDaLista(e.infNFe.pag.detPag,o)}}}):e._e(),a("hr")],1)],1)})),"Em digitação"==e.situacao?a("q-btn",{attrs:{color:"positive",icon:"add",label:"Adicionar Forma Pagamento",outline:"",size:"sm"},on:{click:function(t){e.adicionarLinhaNaLista(e.infNFe.pag.detPag,e.metadados.infNFe.pag.detPag.lista)}}}):e._e(),a("campo",{attrs:{dica:e.metadados.infNFe.pag.vTroco._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.pag.vTroco.$invalid,"erro-rotulo":e.infNFe.pag.vTroco_erro,rotulo:e.metadados.infNFe.pag.vTroco._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.pag.vTroco,callback:function(t){e.$set(e.infNFe.pag,"vTroco",t)},expression:"infNFe.pag.vTroco"}})],1)],1)},Wx=[];Yx._withStripped=!0;var Zx={components:{Campo:Sl},computed:{},data:function(){return{}},methods:{},mixins:[Xg],props:{nota:{required:!0,type:Object},situacao:String},created:function(){ei.log("NFePagamento","created()")}},Kx=Zx,e_=(a("9a75"),Object(sc["a"])(Kx,Yx,Wx,!1,null,null,null));e_.options.__file="NFePagamento.vue";var t_=e_.exports,a_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-collapsible",{staticClass:" border-1 q-my-sm",attrs:{icon:"perm_identity",label:e.metadados.infNFe.autXML._titulo}},[a("div",{staticClass:"col-12 no-shadow"},[a("q-list",{staticClass:"no-border q-pa-none"},e._l(e.infNFe.autXML,function(t,o){return a("q-item",{key:o,staticClass:"border-1 q-mb-xs q-px-none"},[a("q-item-main",[a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row  gutter-x-sm"},[a("q-radio",{attrs:{label:"CNPJ",val:"CNPJ"},model:{value:t.escolhas.valor_escolha,callback:function(a){e.$set(t.escolhas,"valor_escolha",a)},expression:"item_autXML.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"CPF",val:"CPF"},model:{value:t.escolhas.valor_escolha,callback:function(a){e.$set(t.escolhas,"valor_escolha",a)},expression:"item_autXML.escolhas.valor_escolha"}})],1),a("div",{staticClass:"row  gutter-x-sm"},["CNPJ"==t.escolhas.valor_escolha?a("campo",{staticClass:"col",attrs:{dica:e.metadados.infNFe.autXML.lista.escolhas.CNPJ._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.autXML.$each[0].escolhas.CNPJ.$invalid,"erro-rotulo":t.escolhas.CNPJ_erro,maxlength:"14",rotulo:e.metadados.infNFe.autXML.lista.escolhas.CNPJ._titulo,tipo:"texto"},model:{value:t.escolhas.CNPJ,callback:function(a){e.$set(t.escolhas,"CNPJ",a)},expression:"item_autXML.escolhas.CNPJ"}}):e._e(),"CPF"==t.escolhas.valor_escolha?a("campo",{staticClass:"col",attrs:{dica:e.metadados.infNFe.autXML.lista.escolhas.CPF._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.autXML.$each[0].escolhas.CPF.$invalid,"erro-rotulo":t.escolhas.CPF_erro,maxlength:"11",rotulo:e.metadados.infNFe.autXML.lista.escolhas.CPF._titulo,tipo:"texto"},model:{value:t.escolhas.CPF,callback:function(a){e.$set(t.escolhas,"CPF",a)},expression:"item_autXML.escolhas.CPF"}}):e._e(),a("div",{staticClass:"col-auto justify-end q-pt-md ",staticStyle:{display:"flex"}},["Em digitação"==e.situacao?a("q-btn",{staticClass:"bt-negative",attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(t){e.removerLinhaDaLista(e.infNFe.autXML,o)}}}):e._e()],1)],1)])])],1)})),"Em digitação"==e.situacao?a("q-btn",{attrs:{color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm"},on:{click:function(t){e.adicionarLinhaNaLista(e.infNFe.autXML,e.metadados.infNFe.autXML.lista)}}}):e._e()],1)])],1)},o_=[];a_._withStripped=!0;var i_={components:{Campo:Sl},computed:{},data:function(){return{}},methods:{},mixins:[Xg],props:{nota:{required:!0,type:Object},situacao:String},created:function(){ei.log("NFePessoasAutorizadas","created()")}},r_=i_,s_=(a("d215"),Object(sc["a"])(r_,a_,o_,!1,null,null,null));s_.options.__file="NFePessoasAutorizadas.vue";var n_=s_.exports,c_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-collapsible",{staticClass:" border-1 q-my-sm",attrs:{icon:"list_alt",label:e.metadados.infNFe.det._titulo,opened:""}},[e._l(e.infNFe.det,function(t,o){return a("div",{key:o,staticClass:"nfeprodutoitem q-py-sm"},[a("div",{staticClass:"row "},[a("div",{staticClass:"col-auto"},[a("avatar",{staticClass:"q-mr-sm",attrs:{imagem:t.prod.noXml_imagem,rotulo:t.prod.xProd,tamanho:"40"}})],1),"Em digitação"==e.situacao?a("campo",{staticClass:"col  text-weight-bold u-campoCompacto",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.det.lista.prod.xProd._doc,erro:e.$v.infNFe.det.$each[0].prod.xProd.$invalid,"erro-rotulo":t.prod.xProd_erro,maxlength:"120",tipo:"texto","hide-underline":"",before:[{icon:"search",handler:function(){return e.abrirPromptItem(t)}}]},model:{value:t.prod.xProd,callback:function(a){e.$set(t.prod,"xProd",a)},expression:"item_det.prod.xProd"}}):e._e(),"Em digitação"!=e.situacao?a("campo",{staticClass:"col  text-weight-bold u-campoCompacto",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.det.lista.prod.xProd._doc,erro:e.$v.infNFe.det.$each[0].prod.xProd.$invalid,"erro-rotulo":t.prod.xProd_erro,maxlength:"120",tipo:"texto","hide-underline":""},model:{value:t.prod.xProd,callback:function(a){e.$set(t.prod,"xProd",a)},expression:"item_det.prod.xProd"}}):e._e(),"Em digitação"==e.situacao?a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:function(a){e.abrirModalItem(t)}}}):e._e(),"Em digitação"!=e.situacao?a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"remove_red_eye",round:""},on:{click:function(a){e.abrirModalItem(t)}}}):e._e(),"Em digitação"==e.situacao?a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""},on:{click:function(t){e.removerItem(e.infNFe.det,o)}}},[a("q-tooltip",[e._v("Remover Item")])],1):e._e()],1),a("div",{staticClass:"row q-px-md gutter-x-sm"},[a("campo",{staticClass:"u-campoCompacto col-5 col-md-3",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.det.lista.prod.vUnCom._doc,erro:e.$v.infNFe.det.$each[0].prod.vUnCom.$invalid,align:"left","erro-rotulo":t.prod.vUnCom_erro,tipo:"decimal",decimals:"4","hide-underline":""},on:{input:function(t){e.calcularTotais()}},model:{value:t.prod.vUnCom,callback:function(a){e.$set(t.prod,"vUnCom",a)},expression:"item_det.prod.vUnCom"}}),a("campo",{staticClass:"u-campoCompacto col-5 col-md-3",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.det.lista.prod.qCom._doc,erro:e.$v.infNFe.det.$each[0].prod.qCom.$invalid,"erro-rotulo":t.prod.qCom_erro,tipo:"decimal",decimals:"4","hide-underline":""},on:{input:function(t){e.calcularTotais()}},model:{value:t.prod.qCom,callback:function(a){e.$set(t.prod,"qCom",a)},expression:"item_det.prod.qCom"}}),a("campo",{staticClass:"u-campoCompacto col-2 col-md-2",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.det.lista.prod.uCom._doc,align:"center",erro:e.$v.infNFe.det.$each[0].prod.uCom.$invalid,"erro-rotulo":t.prod.uCom_erro,maxlength:"6",tipo:"texto","hide-underline":""},on:{input:function(t){e.calcularTotais()}},model:{value:t.prod.uCom,callback:function(a){e.$set(t.prod,"uCom",a)},expression:"item_det.prod.uCom"}}),a("campo",{staticClass:"u-campoCompacto col-6 col-md-2",attrs:{dica:e.metadados.infNFe.det.lista.prod.vProd._doc,align:"center",erro:e.$v.infNFe.det.$each[0].prod.vProd.$invalid,"erro-rotulo":t.prod.vProd_erro,prefix:"= ",tipo:"decimal",decimals:"2","somente-leitura":"","hide-underline":""},model:{value:t.prod.vProd,callback:function(a){e.$set(t.prod,"vProd",a)},expression:"item_det.prod.vProd"}}),a("campo",{staticClass:"u-campoCompacto col-6 col-md-2",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.det.lista.prod.vDesc._doc,erro:e.$v.infNFe.det.$each[0].prod.vDesc.$invalid,"erro-rotulo":t.prod.vDesc_erro,tipo:"decimal",decimals:"2",prefix:"- ","hide-underline":""},on:{input:function(t){e.calcularTotais()}},model:{value:t.prod.vDesc,callback:function(a){e.$set(t.prod,"vDesc",a)},expression:"item_det.prod.vDesc"}})],1)])}),a("div",{staticClass:"row q-px-md q-pt-md gutter-x-sm"},["Em digitação"==e.situacao?a("q-btn",{attrs:{color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm"},on:{click:function(t){e.adicionarItem(e.infNFe.det,e.metadados.infNFe.det.lista)}}}):e._e()],1)],2),a("prompt-item-novo",{attrs:{filtro:{ativo:!0}},on:{selecionarItens:e.selecionarItem},model:{value:e.promptItem,callback:function(t){e.promptItem=t},expression:"promptItem"}}),a("NFeProdutosModal",{ref:"modalItem",attrs:{nota:e.nota,item_det:e.itemDetModal,situacao:e.outrosNFe.situacao}})],1)},l_=[];c_._withStripped=!0;var d_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{maximized:""},model:{value:e.modalProduto,callback:function(t){e.modalProduto=t},expression:"modalProduto"}},[a("q-layout-header",{attrs:{reveal:""}},[a("q-toolbar",{staticClass:"BarraTopo"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"}}),a("q-toolbar-title",[e._v("Nota Fiscal / Produto")]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-ml-sm no-shadow",attrs:{color:"white","text-color":"primary",label:"OK"}})],1)],1),e.item_det?a("q-modal-layout",{staticStyle:{background:"#eee"}},[a("div",{staticClass:"layout-padding row justify-center"},[a("div",{staticClass:"u-container"},[a("div",{staticClass:"bg-white q-pa-md q-my-md no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12 text-left q-pa-sm"},[a("q-toggle",{attrs:{label:"Visão Completa"},model:{value:e.outrosNFe.visaoCompletaProduto,callback:function(t){e.$set(e.outrosNFe,"visaoCompletaProduto",t)},expression:"outrosNFe.visaoCompletaProduto"}}),a("q-toggle",{staticClass:"q-pl-md",attrs:{label:"Calcula BC"},on:{input:function(t){e.calcularTotais()}},model:{value:e.outrosNFe.automatico.calculaBC,callback:function(t){e.$set(e.outrosNFe.automatico,"calculaBC",t)},expression:"outrosNFe.automatico.calculaBC"}})],1)]),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.prod.cProd._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.cProd.$invalid,"erro-rotulo":e.item_det.prod.cProd_erro,maxlength:"60",rotulo:e.metadados.infNFe.det.lista.prod.cProd._titulo,tipo:"texto"},model:{value:e.item_det.prod.cProd,callback:function(t){e.$set(e.item_det.prod,"cProd",t)},expression:"item_det.prod.cProd"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.prod.cEAN._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.cEAN.$invalid,"erro-rotulo":e.item_det.prod.cEAN_erro,rotulo:e.metadados.infNFe.det.lista.prod.cEAN._titulo,tipo:"texto"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.prod.cEAN,callback:function(t){e.$set(e.item_det.prod,"cEAN",t)},expression:"item_det.prod.cEAN"}}),a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.prod.xProd._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.xProd.$invalid,"erro-rotulo":e.item_det.prod.xProd_erro,maxlength:"120",rotulo:e.metadados.infNFe.det.lista.prod.xProd._titulo,tipo:"texto"},model:{value:e.item_det.prod.xProd,callback:function(t){e.$set(e.item_det.prod,"xProd",t)},expression:"item_det.prod.xProd"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{ajuda:e.descricaoNcm,before:[{icon:"search",handler:e.abrirModalNcm}],dica:e.metadados.infNFe.det.lista.prod.NCM._doc,erro:e.$v.infNFe.det.$each[0].prod.NCM.$invalid,"erro-rotulo":e.item_det.prod.NCM_erro,rotulo:e.metadados.infNFe.det.lista.prod.NCM._titulo,"somente-leitura":!e.emDigitacao,tipo:"texto"},model:{value:e.item_det.prod.NCM,callback:function(t){e.$set(e.item_det.prod,"NCM",t)},expression:"item_det.prod.NCM"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{ajuda:e.descricaoCfop,before:[{icon:"search",handler:e.abrirModalCfop}],dica:e.metadados.infNFe.det.lista.prod.CFOP._doc,erro:e.$v.infNFe.det.$each[0].prod.CFOP.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.CFOP_erro,rotulo:e.metadados.infNFe.det.lista.prod.CFOP._titulo,tipo:"texto"},model:{value:e.item_det.prod.CFOP,callback:function(t){e.$set(e.item_det.prod,"CFOP",t)},expression:"item_det.prod.CFOP"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.vUnCom._doc,erro:e.$v.infNFe.det.$each[0].prod.vUnCom.$invalid,"erro-rotulo":e.item_det.prod.vUnCom_erro,"somente-leitura":!e.emDigitacao,rotulo:e.metadados.infNFe.det.lista.prod.vUnCom._titulo,tipo:"decimal",decimals:"4"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.prod.vUnCom,callback:function(t){e.$set(e.item_det.prod,"vUnCom",t)},expression:"item_det.prod.vUnCom"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.qCom._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.qCom.$invalid,"erro-rotulo":e.item_det.prod.qCom_erro,rotulo:e.metadados.infNFe.det.lista.prod.qCom._titulo,tipo:"decimal",decimals:"4"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.prod.qCom,callback:function(t){e.$set(e.item_det.prod,"qCom",t)},expression:"item_det.prod.qCom"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.uCom._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.uCom.$invalid,"erro-rotulo":e.item_det.prod.uCom_erro,maxlength:"6",rotulo:e.metadados.infNFe.det.lista.prod.uCom._titulo,tipo:"texto"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.prod.uCom,callback:function(t){e.$set(e.item_det.prod,"uCom",t)},expression:"item_det.prod.uCom"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.vProd._doc,erro:e.$v.infNFe.det.$each[0].prod.vProd.$invalid,"erro-rotulo":e.item_det.prod.vProd_erro,rotulo:e.metadados.infNFe.det.lista.prod.vProd._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.prod.vProd,callback:function(t){e.$set(e.item_det.prod,"vProd",t)},expression:"item_det.prod.vProd"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.vDesc._doc,erro:e.$v.infNFe.det.$each[0].prod.vDesc.$invalid,"erro-rotulo":e.item_det.prod.vDesc_erro,"somente-leitura":!e.emDigitacao,rotulo:e.metadados.infNFe.det.lista.prod.vDesc._titulo,tipo:"decimal",decimals:"2"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.prod.vDesc,callback:function(t){e.$set(e.item_det.prod,"vDesc",t)},expression:"item_det.prod.vDesc"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.vFrete._doc,erro:e.$v.infNFe.det.$each[0].prod.vFrete.$invalid,"erro-rotulo":e.item_det.prod.vFrete_erro,"somente-leitura":!e.emDigitacao,rotulo:e.metadados.infNFe.det.lista.prod.vFrete._titulo,tipo:"decimal",decimals:"2"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.prod.vFrete,callback:function(t){e.$set(e.item_det.prod,"vFrete",t)},expression:"item_det.prod.vFrete"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.vSeg._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.vSeg.$invalid,"erro-rotulo":e.item_det.prod.vSeg_erro,rotulo:e.metadados.infNFe.det.lista.prod.vSeg._titulo,tipo:"decimal",decimals:"2"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.prod.vSeg,callback:function(t){e.$set(e.item_det.prod,"vSeg",t)},expression:"item_det.prod.vSeg"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.vOutro._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.vOutro.$invalid,"erro-rotulo":e.item_det.prod.vOutro_erro,rotulo:e.metadados.infNFe.det.lista.prod.vOutro._titulo,tipo:"decimal",decimals:"2"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.prod.vOutro,callback:function(t){e.$set(e.item_det.prod,"vOutro",t)},expression:"item_det.prod.vOutro"}}),e.outrosNFe.visaoCompletaProduto?a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.prod.indTot._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.indTot.$invalid,"erro-rotulo":e.item_det.prod.indTot_erro,opcoes:e.metadados.infNFe.det.lista.prod.indTot._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.prod.indTot._titulo,tipo:"seletor"},model:{value:e.item_det.prod.indTot,callback:function(t){e.$set(e.item_det.prod,"indTot",t)},expression:"item_det.prod.indTot"}}):e._e()],1)]),e.outrosNFe.visaoCompletaProduto?a("div",{staticClass:"bg-white q-pa-sm q-my-md no-shadow"},[a("div",{staticClass:"col-12 no-shadow"},[a("q-collapsible",{staticClass:"border-1 q-my-sm",attrs:{icon:"shopping_cart",label:"Dados do Produto ou Serviço"}},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.infAdProd._doc,erro:e.$v.infNFe.det.$each[0].infAdProd.$invalid,"erro-rotulo":e.item_det.infAdProd_erro,"somente-leitura":!e.emDigitacao,maxlength:"500",rotulo:e.metadados.infNFe.det.lista.infAdProd._titulo,tipo:"texto"},model:{value:e.item_det.infAdProd,callback:function(t){e.$set(e.item_det,"infAdProd",t)},expression:"item_det.infAdProd"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.prod.uTrib._doc,erro:e.$v.infNFe.det.$each[0].prod.uTrib.$invalid,"erro-rotulo":e.item_det.prod.uTrib_erro,"somente-leitura":!e.emDigitacao,maxlength:"6",rotulo:e.metadados.infNFe.det.lista.prod.uTrib._titulo,tipo:"texto"},model:{value:e.item_det.prod.uTrib,callback:function(t){e.$set(e.item_det.prod,"uTrib",t)},expression:"item_det.prod.uTrib"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.prod.qTrib._doc,erro:e.$v.infNFe.det.$each[0].prod.qTrib.$invalid,"erro-rotulo":e.item_det.prod.qTrib_erro,"somente-leitura":!e.emDigitacao,rotulo:e.metadados.infNFe.det.lista.prod.qTrib._titulo,tipo:"decimal",decimals:"4"},model:{value:e.item_det.prod.qTrib,callback:function(t){e.$set(e.item_det.prod,"qTrib",t)},expression:"item_det.prod.qTrib"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.prod.vUnTrib._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.vUnTrib.$invalid,"erro-rotulo":e.item_det.prod.vUnTrib_erro,rotulo:e.metadados.infNFe.det.lista.prod.vUnTrib._titulo,tipo:"decimal",decimals:"4"},model:{value:e.item_det.prod.vUnTrib,callback:function(t){e.$set(e.item_det.prod,"vUnTrib",t)},expression:"item_det.prod.vUnTrib"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":!e.emDigitacao,dica:e.metadados.infNFe.det.lista.prod.cEANTrib._doc,erro:e.$v.infNFe.det.$each[0].prod.cEANTrib.$invalid,"erro-rotulo":e.item_det.prod.cEANTrib_erro,rotulo:e.metadados.infNFe.det.lista.prod.cEANTrib._titulo,tipo:"texto"},model:{value:e.item_det.prod.cEANTrib,callback:function(t){e.$set(e.item_det.prod,"cEANTrib",t)},expression:"item_det.prod.cEANTrib"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.cBenef._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.cBenef.$invalid,"erro-rotulo":e.item_det.prod.cBenef_erro,rotulo:e.metadados.infNFe.det.lista.prod.cBenef._titulo,tipo:"texto"},model:{value:e.item_det.prod.cBenef,callback:function(t){e.$set(e.item_det.prod,"cBenef",t)},expression:"item_det.prod.cBenef"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.EXTIPI._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.EXTIPI.$invalid,"erro-rotulo":e.item_det.prod.EXTIPI_erro,rotulo:e.metadados.infNFe.det.lista.prod.EXTIPI._titulo,tipo:"texto"},model:{value:e.item_det.prod.EXTIPI,callback:function(t){e.$set(e.item_det.prod,"EXTIPI",t)},expression:"item_det.prod.EXTIPI"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.prod.xPed._doc,erro:e.$v.infNFe.det.$each[0].prod.xPed.$invalid,"erro-rotulo":e.item_det.prod.xPed_erro,"somente-leitura":!e.emDigitacao,maxlength:"15",rotulo:e.metadados.infNFe.det.lista.prod.xPed._titulo,tipo:"texto"},model:{value:e.item_det.prod.xPed,callback:function(t){e.$set(e.item_det.prod,"xPed",t)},expression:"item_det.prod.xPed"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.prod.nItemPed._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.nItemPed.$invalid,"erro-rotulo":e.item_det.prod.nItemPed_erro,rotulo:e.metadados.infNFe.det.lista.prod.nItemPed._titulo,tipo:"texto"},model:{value:e.item_det.prod.nItemPed,callback:function(t){e.$set(e.item_det.prod,"nItemPed",t)},expression:"item_det.prod.nItemPed"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.prod.nFCI._doc,erro:e.$v.infNFe.det.$each[0].prod.nFCI.$invalid,"erro-rotulo":e.item_det.prod.nFCI_erro,"somente-leitura":!e.emDigitacao,rotulo:e.metadados.infNFe.det.lista.prod.nFCI._titulo,tipo:"texto"},model:{value:e.item_det.prod.nFCI,callback:function(t){e.$set(e.item_det.prod,"nFCI",t)},expression:"item_det.prod.nFCI"}})],1),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{dica:"Codigo especificador da Substuicao Tributaria",rotulo:"CEST",tipo:"logico"},model:{value:e.item_det.prod.opcional.visivel,callback:function(t){e.$set(e.item_det.prod.opcional,"visivel",t)},expression:"item_det.prod.opcional.visivel"}}),e.item_det.prod.opcional.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.prod.opcional.CEST._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.opcional.CEST.$invalid,"erro-rotulo":e.item_det.prod.opcional.CEST_erro,rotulo:e.metadados.infNFe.det.lista.prod.opcional.CEST._titulo,tipo:"texto"},model:{value:e.item_det.prod.opcional.CEST,callback:function(t){e.$set(e.item_det.prod.opcional,"CEST",t)},expression:"item_det.prod.opcional.CEST"}}),a("campo",{staticClass:"col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.prod.opcional.indEscala._doc,erro:e.$v.infNFe.det.$each[0].prod.opcional.indEscala.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.opcional.indEscala_erro,opcoes:e.metadados.infNFe.det.lista.prod.opcional.indEscala._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.prod.opcional.indEscala._titulo,tipo:"seletor"},model:{value:e.item_det.prod.opcional.indEscala,callback:function(t){e.$set(e.item_det.prod.opcional,"indEscala",t)},expression:"item_det.prod.opcional.indEscala"}}),a("campo",{staticClass:"col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.prod.opcional.CNPJFab._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.opcional.CNPJFab.$invalid,"erro-rotulo":e.item_det.prod.opcional.CNPJFab_erro,maxlength:"14",rotulo:e.metadados.infNFe.det.lista.prod.opcional.CNPJFab._titulo,tipo:"texto"},model:{value:e.item_det.prod.opcional.CNPJFab,callback:function(t){e.$set(e.item_det.prod.opcional,"CNPJFab",t)},expression:"item_det.prod.opcional.CNPJFab"}})],1):e._e()],1),e.outrosNFe.visaoCompletaProduto?a("div",{staticClass:"col-12 no-shadow q-mt-md"},[a("div",{staticClass:"row gutter-x-sm"},[a("q-radio",{attrs:{label:"Não se aplica",val:"Não se aplica"},model:{value:e.item_det.prod.escolhas.valor_escolha,callback:function(t){e.$set(e.item_det.prod.escolhas,"valor_escolha",t)},expression:"item_det.prod.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"veicProd",val:"veicProd"},model:{value:e.item_det.prod.escolhas.valor_escolha,callback:function(t){e.$set(e.item_det.prod.escolhas,"valor_escolha",t)},expression:"item_det.prod.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"med",val:"med"},model:{value:e.item_det.prod.escolhas.valor_escolha,callback:function(t){e.$set(e.item_det.prod.escolhas,"valor_escolha",t)},expression:"item_det.prod.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"arma",val:"arma"},model:{value:e.item_det.prod.escolhas.valor_escolha,callback:function(t){e.$set(e.item_det.prod.escolhas,"valor_escolha",t)},expression:"item_det.prod.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"comb",val:"comb"},model:{value:e.item_det.prod.escolhas.valor_escolha,callback:function(t){e.$set(e.item_det.prod.escolhas,"valor_escolha",t)},expression:"item_det.prod.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"nRECOPI",val:"nRECOPI"},model:{value:e.item_det.prod.escolhas.valor_escolha,callback:function(t){e.$set(e.item_det.prod.escolhas,"valor_escolha",t)},expression:"item_det.prod.escolhas.valor_escolha"}})],1),"veicProd"==e.item_det.prod.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.tpOp._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.tpOp.$invalid,"erro-rotulo":e.item_det.prod.escolhas.veicProd.tpOp_erro,"somente-leitura":!e.emDigitacao,opcoes:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.tpOp._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.prod.escolhas.veicProd.tpOp._titulo,tipo:"seletor"},model:{value:e.item_det.prod.escolhas.veicProd.tpOp,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"tpOp",t)},expression:"item_det.prod.escolhas.veicProd.tpOp"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.chassi._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.chassi.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.escolhas.veicProd.chassi_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.chassi._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.veicProd.chassi,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"chassi",t)},expression:"item_det.prod.escolhas.veicProd.chassi"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.cCor._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.cCor.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.escolhas.veicProd.cCor_erro,maxlength:"4",rotulo:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.cCor._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.veicProd.cCor,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"cCor",t)},expression:"item_det.prod.escolhas.veicProd.cCor"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.xCor._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.xCor.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.escolhas.veicProd.xCor_erro,maxlength:"40",rotulo:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.xCor._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.veicProd.xCor,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"xCor",t)},expression:"item_det.prod.escolhas.veicProd.xCor"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.pot._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.pot.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.escolhas.veicProd.pot_erro,maxlength:"4",rotulo:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.pot._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.veicProd.pot,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"pot",t)},expression:"item_det.prod.escolhas.veicProd.pot"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.cilin._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.cilin.$invalid,"erro-rotulo":e.item_det.prod.escolhas.veicProd.cilin_erro,maxlength:"4",rotulo:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.cilin._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.veicProd.cilin,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"cilin",t)},expression:"item_det.prod.escolhas.veicProd.cilin"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.pesoL._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.pesoL.$invalid,"erro-rotulo":e.item_det.prod.escolhas.veicProd.pesoL_erro,maxlength:"9",rotulo:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.pesoL._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.veicProd.pesoL,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"pesoL",t)},expression:"item_det.prod.escolhas.veicProd.pesoL"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.pesoB._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.pesoB.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.escolhas.veicProd.pesoB_erro,maxlength:"9",rotulo:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.pesoB._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.veicProd.pesoB,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"pesoB",t)},expression:"item_det.prod.escolhas.veicProd.pesoB"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.nSerie._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.nSerie.$invalid,"erro-rotulo":e.item_det.prod.escolhas.veicProd.nSerie_erro,maxlength:"9",rotulo:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.nSerie._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.veicProd.nSerie,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"nSerie",t)},expression:"item_det.prod.escolhas.veicProd.nSerie"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.tpComb._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.tpComb.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.escolhas.veicProd.tpComb_erro,maxlength:"2",rotulo:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.tpComb._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.veicProd.tpComb,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"tpComb",t)},expression:"item_det.prod.escolhas.veicProd.tpComb"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.nMotor._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.nMotor.$invalid,"erro-rotulo":e.item_det.prod.escolhas.veicProd.nMotor_erro,maxlength:"21",rotulo:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.nMotor._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.veicProd.nMotor,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"nMotor",t)},expression:"item_det.prod.escolhas.veicProd.nMotor"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.CMT._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.CMT.$invalid,"erro-rotulo":e.item_det.prod.escolhas.veicProd.CMT_erro,maxlength:"9",rotulo:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.CMT._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.veicProd.CMT,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"CMT",t)},expression:"item_det.prod.escolhas.veicProd.CMT"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{"somente-leitura":!e.emDigitacao,dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.dist._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.dist.$invalid,"erro-rotulo":e.item_det.prod.escolhas.veicProd.dist_erro,maxlength:"4",rotulo:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.dist._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.veicProd.dist,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"dist",t)},expression:"item_det.prod.escolhas.veicProd.dist"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.anoMod._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.anoMod.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.escolhas.veicProd.anoMod_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.anoMod._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.veicProd.anoMod,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"anoMod",t)},expression:"item_det.prod.escolhas.veicProd.anoMod"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.anoFab._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.anoFab.$invalid,"erro-rotulo":e.item_det.prod.escolhas.veicProd.anoFab_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.anoFab._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.veicProd.anoFab,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"anoFab",t)},expression:"item_det.prod.escolhas.veicProd.anoFab"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.tpPint._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.tpPint.$invalid,"erro-rotulo":e.item_det.prod.escolhas.veicProd.tpPint_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.tpPint._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.veicProd.tpPint,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"tpPint",t)},expression:"item_det.prod.escolhas.veicProd.tpPint"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.tpVeic._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.tpVeic.$invalid,"erro-rotulo":e.item_det.prod.escolhas.veicProd.tpVeic_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.tpVeic._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.veicProd.tpVeic,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"tpVeic",t)},expression:"item_det.prod.escolhas.veicProd.tpVeic"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.espVeic._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.espVeic.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.escolhas.veicProd.espVeic_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.espVeic._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.veicProd.espVeic,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"espVeic",t)},expression:"item_det.prod.escolhas.veicProd.espVeic"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.VIN._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.VIN.$invalid,"erro-rotulo":e.item_det.prod.escolhas.veicProd.VIN_erro,opcoes:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.VIN._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.prod.escolhas.veicProd.VIN._titulo,tipo:"seletor"},model:{value:e.item_det.prod.escolhas.veicProd.VIN,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"VIN",t)},expression:"item_det.prod.escolhas.veicProd.VIN"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{"somente-leitura":!e.emDigitacao,dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.condVeic._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.condVeic.$invalid,"erro-rotulo":e.item_det.prod.escolhas.veicProd.condVeic_erro,opcoes:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.condVeic._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.prod.escolhas.veicProd.condVeic._titulo,tipo:"seletor"},model:{value:e.item_det.prod.escolhas.veicProd.condVeic,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"condVeic",t)},expression:"item_det.prod.escolhas.veicProd.condVeic"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.cMod._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.cMod.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.escolhas.veicProd.cMod_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.cMod._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.veicProd.cMod,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"cMod",t)},expression:"item_det.prod.escolhas.veicProd.cMod"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.cCorDENATRAN._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.cCorDENATRAN.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.escolhas.veicProd.cCorDENATRAN_erro,maxlength:"2",rotulo:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.cCorDENATRAN._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.veicProd.cCorDENATRAN,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"cCorDENATRAN",t)},expression:"item_det.prod.escolhas.veicProd.cCorDENATRAN"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.lota._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.lota.$invalid,"erro-rotulo":e.item_det.prod.escolhas.veicProd.lota_erro,maxlength:"3","somente-leitura":!e.emDigitacao,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.lota._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.veicProd.lota,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"lota",t)},expression:"item_det.prod.escolhas.veicProd.lota"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.tpRest._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.escolhas.veicProd.tpRest.$invalid,"erro-rotulo":e.item_det.prod.escolhas.veicProd.tpRest_erro,opcoes:e.metadados.infNFe.det.lista.prod.escolhas.veicProd.tpRest._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.prod.escolhas.veicProd.tpRest._titulo,tipo:"seletor"},model:{value:e.item_det.prod.escolhas.veicProd.tpRest,callback:function(t){e.$set(e.item_det.prod.escolhas.veicProd,"tpRest",t)},expression:"item_det.prod.escolhas.veicProd.tpRest"}})],1)]):e._e(),"med"==e.item_det.prod.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.med.cProdANVISA._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.med.cProdANVISA.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.escolhas.med.cProdANVISA_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.med.cProdANVISA._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.med.cProdANVISA,callback:function(t){e.$set(e.item_det.prod.escolhas.med,"cProdANVISA",t)},expression:"item_det.prod.escolhas.med.cProdANVISA"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.med.xMotivoIsencao._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.med.xMotivoIsencao.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.escolhas.med.xMotivoIsencao_erro,maxlength:"255",rotulo:e.metadados.infNFe.det.lista.prod.escolhas.med.xMotivoIsencao._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.med.xMotivoIsencao,callback:function(t){e.$set(e.item_det.prod.escolhas.med,"xMotivoIsencao",t)},expression:"item_det.prod.escolhas.med.xMotivoIsencao"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{"somente-leitura":!e.emDigitacao,dica:e.metadados.infNFe.det.lista.prod.escolhas.med.vPMC._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.med.vPMC.$invalid,"erro-rotulo":e.item_det.prod.escolhas.med.vPMC_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.med.vPMC._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.prod.escolhas.med.vPMC,callback:function(t){e.$set(e.item_det.prod.escolhas.med,"vPMC",t)},expression:"item_det.prod.escolhas.med.vPMC"}})],1)]):e._e(),"arma"==e.item_det.prod.escolhas.valor_escolha?a("div",[a("div",{staticClass:"col-12 no-shadow"},[a("q-list",{staticStyle:{border:"none"}},[e._l(e.item_det.prod.escolhas.arma,function(t,o){return a("q-item",{key:o,staticClass:"border-item"},[a("q-item-main",[a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("q-radio",{attrs:{label:"tpArma",val:"tpArma"},model:{value:t.escolhas.valor_escolha,callback:function(a){e.$set(t.escolhas,"valor_escolha",a)},expression:"item_arma.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"nSerie",val:"nSerie"},model:{value:t.escolhas.valor_escolha,callback:function(a){e.$set(t.escolhas,"valor_escolha",a)},expression:"item_arma.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"nCano",val:"nCano"},model:{value:t.escolhas.valor_escolha,callback:function(a){e.$set(t.escolhas,"valor_escolha",a)},expression:"item_arma.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"descr",val:"descr"},model:{value:t.escolhas.valor_escolha,callback:function(a){e.$set(t.escolhas,"valor_escolha",a)},expression:"item_arma.escolhas.valor_escolha"}})],1),"tpArma"==t.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 ",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.arma.lista.escolhas.tpArma._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.arma.$each[0].escolhas.tpArma.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":t.escolhas.tpArma_erro,opcoes:e.metadados.infNFe.det.lista.prod.escolhas.arma.lista.escolhas.tpArma._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.prod.escolhas.arma.lista.escolhas.tpArma._titulo,tipo:"seletor"},model:{value:t.escolhas.tpArma,callback:function(a){e.$set(t.escolhas,"tpArma",a)},expression:"item_arma.escolhas.tpArma"}})],1)]):e._e(),"nSerie"==t.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 ",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.arma.lista.escolhas.nSerie._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.arma.$each[0].escolhas.nSerie.$invalid,"erro-rotulo":t.escolhas.nSerie_erro,maxlength:"15","somente-leitura":!e.emDigitacao,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.arma.lista.escolhas.nSerie._titulo,tipo:"texto"},model:{value:t.escolhas.nSerie,callback:function(a){e.$set(t.escolhas,"nSerie",a)},expression:"item_arma.escolhas.nSerie"}})],1)]):e._e(),"nCano"==t.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 ",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.arma.lista.escolhas.nCano._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.arma.$each[0].escolhas.nCano.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":t.escolhas.nCano_erro,maxlength:"15",rotulo:e.metadados.infNFe.det.lista.prod.escolhas.arma.lista.escolhas.nCano._titulo,tipo:"texto"},model:{value:t.escolhas.nCano,callback:function(a){e.$set(t.escolhas,"nCano",a)},expression:"item_arma.escolhas.nCano"}})],1)]):e._e(),"descr"==t.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 ",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.arma.lista.escolhas.descr._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.arma.$each[0].escolhas.descr.$invalid,"erro-rotulo":t.escolhas.descr_erro,maxlength:"256","somente-leitura":!e.emDigitacao,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.arma.lista.escolhas.descr._titulo,tipo:"texto"},model:{value:t.escolhas.descr,callback:function(a){e.$set(t.escolhas,"descr",a)},expression:"item_arma.escolhas.descr"}})],1)]):e._e()]),"Em digitação"==e.situacao?a("q-btn",{staticClass:"bt-negative q-my-sm",attrs:{color:"negative",size:"xs",icon:"remove",outline:"",label:"Remover item"},on:{click:function(t){e.removerLinhaDaLista(e.item_det.prod.escolhas.arma,o)}}}):e._e()],1)],1)}),"Em digitação"==e.situacao?a("q-btn",{attrs:{color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm"},on:{click:function(t){e.adicionarLinhaNaLista(e.item_det.prod.escolhas.arma,e.metadados.infNFe.det.lista.prod.escolhas.arma.lista)}}}):e._e()],2)],1)]):e._e(),"comb"==e.item_det.prod.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.comb.cProdANP._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.comb.cProdANP.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.escolhas.comb.cProdANP_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.comb.cProdANP._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.comb.cProdANP,callback:function(t){e.$set(e.item_det.prod.escolhas.comb,"cProdANP",t)},expression:"item_det.prod.escolhas.comb.cProdANP"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.comb.descANP._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.comb.descANP.$invalid,"erro-rotulo":e.item_det.prod.escolhas.comb.descANP_erro,maxlength:"95","somente-leitura":!e.emDigitacao,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.comb.descANP._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.comb.descANP,callback:function(t){e.$set(e.item_det.prod.escolhas.comb,"descANP",t)},expression:"item_det.prod.escolhas.comb.descANP"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.comb.pGLP._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.comb.pGLP.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.escolhas.comb.pGLP_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.comb.pGLP._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.prod.escolhas.comb.pGLP,callback:function(t){e.$set(e.item_det.prod.escolhas.comb,"pGLP",t)},expression:"item_det.prod.escolhas.comb.pGLP"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.comb.pGNn._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.escolhas.comb.pGNn.$invalid,"erro-rotulo":e.item_det.prod.escolhas.comb.pGNn_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.comb.pGNn._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.prod.escolhas.comb.pGNn,callback:function(t){e.$set(e.item_det.prod.escolhas.comb,"pGNn",t)},expression:"item_det.prod.escolhas.comb.pGNn"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.comb.pGNi._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.escolhas.comb.pGNi.$invalid,"erro-rotulo":e.item_det.prod.escolhas.comb.pGNi_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.comb.pGNi._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.prod.escolhas.comb.pGNi,callback:function(t){e.$set(e.item_det.prod.escolhas.comb,"pGNi",t)},expression:"item_det.prod.escolhas.comb.pGNi"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.comb.vPart._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.comb.vPart.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.escolhas.comb.vPart_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.comb.vPart._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.prod.escolhas.comb.vPart,callback:function(t){e.$set(e.item_det.prod.escolhas.comb,"vPart",t)},expression:"item_det.prod.escolhas.comb.vPart"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.comb.CODIF._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.escolhas.comb.CODIF.$invalid,"erro-rotulo":e.item_det.prod.escolhas.comb.CODIF_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.comb.CODIF._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.comb.CODIF,callback:function(t){e.$set(e.item_det.prod.escolhas.comb,"CODIF",t)},expression:"item_det.prod.escolhas.comb.CODIF"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.comb.qTemp._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.escolhas.comb.qTemp.$invalid,"erro-rotulo":e.item_det.prod.escolhas.comb.qTemp_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.comb.qTemp._titulo,tipo:"decimal",decimals:"4"},model:{value:e.item_det.prod.escolhas.comb.qTemp,callback:function(t){e.$set(e.item_det.prod.escolhas.comb,"qTemp",t)},expression:"item_det.prod.escolhas.comb.qTemp"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.comb.UFCons._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.escolhas.comb.UFCons.$invalid,"erro-rotulo":e.item_det.prod.escolhas.comb.UFCons_erro,opcoes:e.metadados.infNFe.det.lista.prod.escolhas.comb.UFCons._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.prod.escolhas.comb.UFCons._titulo,tipo:"seletor"},model:{value:e.item_det.prod.escolhas.comb.UFCons,callback:function(t){e.$set(e.item_det.prod.escolhas.comb,"UFCons",t)},expression:"item_det.prod.escolhas.comb.UFCons"}})],1),a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.comb.CIDE.visivel._doc,"somente-leitura":!e.emDigitacao,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.comb.CIDE.visivel._titulo,tipo:"logico"},model:{value:e.item_det.prod.escolhas.comb.CIDE.visivel,callback:function(t){e.$set(e.item_det.prod.escolhas.comb.CIDE,"visivel",t)},expression:"item_det.prod.escolhas.comb.CIDE.visivel"}})],1),e.item_det.prod.escolhas.comb.CIDE.visivel?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.comb.CIDE.qBCProd._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.comb.CIDE.qBCProd.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.escolhas.comb.CIDE.qBCProd_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.comb.CIDE.qBCProd._titulo,tipo:"decimal",decimals:"4"},model:{value:e.item_det.prod.escolhas.comb.CIDE.qBCProd,callback:function(t){e.$set(e.item_det.prod.escolhas.comb.CIDE,"qBCProd",t)},expression:"item_det.prod.escolhas.comb.CIDE.qBCProd"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.comb.CIDE.vAliqProd._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.comb.CIDE.vAliqProd.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.escolhas.comb.CIDE.vAliqProd_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.comb.CIDE.vAliqProd._titulo,tipo:"decimal",decimals:"4"},model:{value:e.item_det.prod.escolhas.comb.CIDE.vAliqProd,callback:function(t){e.$set(e.item_det.prod.escolhas.comb.CIDE,"vAliqProd",t)},expression:"item_det.prod.escolhas.comb.CIDE.vAliqProd"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.comb.CIDE.vCIDE._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.escolhas.comb.CIDE.vCIDE.$invalid,"erro-rotulo":e.item_det.prod.escolhas.comb.CIDE.vCIDE_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.comb.CIDE.vCIDE._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.prod.escolhas.comb.CIDE.vCIDE,callback:function(t){e.$set(e.item_det.prod.escolhas.comb.CIDE,"vCIDE",t)},expression:"item_det.prod.escolhas.comb.CIDE.vCIDE"}})],1)]):e._e()]),a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{"somente-leitura":!e.emDigitacao,dica:e.metadados.infNFe.det.lista.prod.escolhas.comb.encerrante.visivel._doc,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.comb.encerrante.visivel._titulo,tipo:"logico"},model:{value:e.item_det.prod.escolhas.comb.encerrante.visivel,callback:function(t){e.$set(e.item_det.prod.escolhas.comb.encerrante,"visivel",t)},expression:"item_det.prod.escolhas.comb.encerrante.visivel"}})],1),e.item_det.prod.escolhas.comb.encerrante.visivel?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.comb.encerrante.nBico._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.comb.encerrante.nBico.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.escolhas.comb.encerrante.nBico_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.comb.encerrante.nBico._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.comb.encerrante.nBico,callback:function(t){e.$set(e.item_det.prod.escolhas.comb.encerrante,"nBico",t)},expression:"item_det.prod.escolhas.comb.encerrante.nBico"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.comb.encerrante.nBomba._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.comb.encerrante.nBomba.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.escolhas.comb.encerrante.nBomba_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.comb.encerrante.nBomba._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.comb.encerrante.nBomba,callback:function(t){e.$set(e.item_det.prod.escolhas.comb.encerrante,"nBomba",t)},expression:"item_det.prod.escolhas.comb.encerrante.nBomba"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.comb.encerrante.nTanque._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.escolhas.comb.encerrante.nTanque.$invalid,"erro-rotulo":e.item_det.prod.escolhas.comb.encerrante.nTanque_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.comb.encerrante.nTanque._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.comb.encerrante.nTanque,callback:function(t){e.$set(e.item_det.prod.escolhas.comb.encerrante,"nTanque",t)},expression:"item_det.prod.escolhas.comb.encerrante.nTanque"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.comb.encerrante.vEncIni._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.comb.encerrante.vEncIni.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.escolhas.comb.encerrante.vEncIni_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.comb.encerrante.vEncIni._titulo,tipo:"decimal",decimals:"3"},model:{value:e.item_det.prod.escolhas.comb.encerrante.vEncIni,callback:function(t){e.$set(e.item_det.prod.escolhas.comb.encerrante,"vEncIni",t)},expression:"item_det.prod.escolhas.comb.encerrante.vEncIni"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.comb.encerrante.vEncFin._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.comb.encerrante.vEncFin.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.escolhas.comb.encerrante.vEncFin_erro,rotulo:e.metadados.infNFe.det.lista.prod.escolhas.comb.encerrante.vEncFin._titulo,tipo:"decimal",decimals:"3"},model:{value:e.item_det.prod.escolhas.comb.encerrante.vEncFin,callback:function(t){e.$set(e.item_det.prod.escolhas.comb.encerrante,"vEncFin",t)},expression:"item_det.prod.escolhas.comb.encerrante.vEncFin"}})],1)]):e._e()])]):e._e(),"nRECOPI"==e.item_det.prod.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 ",attrs:{dica:e.metadados.infNFe.det.lista.prod.escolhas.nRECOPI._doc,erro:e.$v.infNFe.det.$each[0].prod.escolhas.nRECOPI.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.prod.escolhas.nRECOPI_erro,maxlength:"20",rotulo:e.metadados.infNFe.det.lista.prod.escolhas.nRECOPI._titulo,tipo:"texto"},model:{value:e.item_det.prod.escolhas.nRECOPI,callback:function(t){e.$set(e.item_det.prod.escolhas,"nRECOPI",t)},expression:"item_det.prod.escolhas.nRECOPI"}})],1)]):e._e()]):e._e()])],1)]):e._e(),a("div",{staticClass:"bg-white q-pa-sm q-my-md no-shadow"},[a("div",{staticClass:"col-12 no-shadow"},[a("q-collapsible",{staticClass:"border-1 q-my-sm",attrs:{opened:"",icon:"account_balance",label:e.metadados.infNFe.det.lista.imposto._titulo}},[a("div",{staticClass:"row gutter-x-sm tributos"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.noXml_orig._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.noXml_orig.$invalid,"erro-rotulo":e.item_det.imposto.noXml_orig.orig_erro,opcoes:e.metadados.infNFe.det.lista.imposto.noXml_orig._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.noXml_orig._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.noXml_orig,callback:function(t){e.$set(e.item_det.imposto,"noXml_orig",t)},expression:"item_det.imposto.noXml_orig"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.vTotTrib._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.vTotTrib.$invalid,"erro-rotulo":e.item_det.imposto.vTotTrib_erro,rotulo:e.metadados.infNFe.det.lista.imposto.vTotTrib._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.vTotTrib,callback:function(t){e.$set(e.item_det.imposto,"vTotTrib",t)},expression:"item_det.imposto.vTotTrib"}}),a("div",{staticClass:"col-12"},[a("q-collapsible",{attrs:{icon:"attach_money",label:"ICMS",opened:""}},[a("div",{staticClass:"row gutter-x-sm"},["3"===e.infNFe.emit.CRT?a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.imposto.noXml_CST._doc,erro:e.$v.infNFe.det.$each[0].imposto.noXml_CST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.noXml_CST.CST_erro,opcoes:e.metadados.infNFe.det.lista.imposto.noXml_CST._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.noXml_CST._titulo,tipo:"seletor"},on:{input:e.calcularTotais},model:{value:e.item_det.imposto.noXml_CST,callback:function(t){e.$set(e.item_det.imposto,"noXml_CST",t)},expression:"item_det.imposto.noXml_CST"}}):a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.imposto.noXml_CSOSN._doc,erro:e.$v.infNFe.det.$each[0].imposto.noXml_CSOSN.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.noXml_CSOSN.CSOSN_erro,opcoes:e.metadados.infNFe.det.lista.imposto.noXml_CSOSN._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.noXml_CSOSN._titulo,tipo:"seletor"},on:{input:e.calcularTotais},model:{value:e.item_det.imposto.noXml_CSOSN,callback:function(t){e.$set(e.item_det.imposto,"noXml_CSOSN",t)},expression:"item_det.imposto.noXml_CSOSN"}})],1),"3"===e.infNFe.emit.CRT?["ICMS00"==e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.modBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.modBC.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.modBC_erro,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.modBC._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.modBC._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.modBC,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00,"modBC",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.modBC"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vBC.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vBC_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vBC._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vBC,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00,"vBC",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vBC"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.pICMS._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.pICMS.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.pICMS_erro,"somente-leitura":!e.emDigitacao,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.pICMS._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.pICMS,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00,"pICMS",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.pICMS"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vICMS._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vICMS.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vICMS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vICMS._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vICMS,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00,"vICMS",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vICMS"}})],1),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"FCP",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":!e.emDigitacao,dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.pFCP._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.pFCP.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.pFCP_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.pFCP._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.pFCP,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional,"pFCP",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.pFCP"}}),a("campo",{attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.vFCP._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.vFCP.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.vFCP_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.vFCP._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.vFCP,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional,"vFCP",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.vFCP"}})],1):e._e()],1)]):e._e(),"ICMS10"==e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBC.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBC_erro,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBC._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBC._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBC,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10,"modBC",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBC"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vBC.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vBC_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vBC._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vBC,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10,"vBC",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vBC"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pICMS._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pICMS.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pICMS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pICMS._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pICMS,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10,"pICMS",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pICMS"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vICMS._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vICMS.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vICMS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vICMS._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vICMS,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10,"vICMS",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vICMS"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBCST._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBCST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBCST_erro,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBCST._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBCST._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBCST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10,"modBCST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBCST"}}),a("campo",{staticClass:"col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pMVAST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pMVAST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pMVAST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pMVAST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pMVAST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10,"pMVAST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pMVAST"}}),a("campo",{staticClass:"col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pRedBCST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pRedBCST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pRedBCST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pRedBCST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pRedBCST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10,"pRedBCST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pRedBCST"}}),a("campo",{staticClass:"col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vBCST._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vBCST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vBCST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vBCST._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vBCST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10,"vBCST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vBCST"}}),a("campo",{staticClass:"col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pICMSST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pICMSST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pICMSST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pICMSST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pICMSST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10,"pICMSST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pICMSST"}}),a("campo",{staticClass:"col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vICMSST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vICMSST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vICMSST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vICMSST._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vICMSST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10,"vICMSST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.vICMSST"}})],1),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"FCP",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.vBCFCP._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.vBCFCP.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.vBCFCP_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.vBCFCP._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.vBCFCP,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional,"vBCFCP",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.vBCFCP"}}),a("campo",{staticClass:"col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.pFCP._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.pFCP.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.pFCP_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.pFCP._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.pFCP,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional,"pFCP",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.pFCP"}}),a("campo",{staticClass:"col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.vFCP._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.vFCP.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.vFCP_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.vFCP._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.vFCP,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional,"vFCP",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.vFCP"}})],1):e._e()],1),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"FCP SP",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.vBCFCPST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.vBCFCPST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.vBCFCPST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.vBCFCPST._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.vBCFCPST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2,"vBCFCPST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.vBCFCPST"}}),a("campo",{staticClass:"col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.pFCPST._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.pFCPST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.pFCPST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.pFCPST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.pFCPST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2,"pFCPST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.pFCPST"}}),a("campo",{staticClass:"col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.vFCPST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.vFCPST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.vFCPST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.vFCPST._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.vFCPST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2,"vFCPST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.vFCPST"}})],1):e._e()],1)]):e._e(),"ICMS20"==e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.modBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.modBC.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.modBC_erro,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.modBC._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.modBC._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.modBC,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20,"modBC",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.modBC"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.pRedBC._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.pRedBC.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.pRedBC_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.pRedBC._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.pRedBC,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20,"pRedBC",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.pRedBC"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.vBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.vBC.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.vBC_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.vBC._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.vBC,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20,"vBC",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.vBC"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.pICMS._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.pICMS.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.pICMS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.pICMS._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.pICMS,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20,"pICMS",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.pICMS"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.vICMS._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.vICMS.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.vICMS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.vICMS._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.vICMS,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20,"vICMS",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.vICMS"}})],1),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"FCP",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.vBCFCP._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.vBCFCP.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.vBCFCP_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.vBCFCP._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.vBCFCP,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional,"vBCFCP",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.vBCFCP"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.pFCP._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.pFCP.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.pFCP_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.pFCP._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.pFCP,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional,"pFCP",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.pFCP"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.vFCP._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.vFCP.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.vFCP_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.vFCP._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.vFCP,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional,"vFCP",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional.vFCP"}})],1):e._e()],1),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"Desoneração",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":!e.emDigitacao,dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.vICMSDeson._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.vICMSDeson.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.vICMSDeson_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.vICMSDeson._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.vICMSDeson,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2,"vICMSDeson",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.vICMSDeson"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":!e.emDigitacao,dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.motDesICMS._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.motDesICMS.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.motDesICMS_erro,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.motDesICMS._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.motDesICMS._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.motDesICMS,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2,"motDesICMS",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.opcional2.motDesICMS"}})],1):e._e()],1)]):e._e(),"ICMS30"==e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.modBCST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.modBCST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.modBCST_erro,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.modBCST._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.modBCST._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.modBCST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30,"modBCST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.modBCST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pMVAST._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pMVAST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pMVAST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pMVAST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pMVAST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30,"pMVAST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pMVAST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pRedBCST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pRedBCST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pRedBCST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pRedBCST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pRedBCST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30,"pRedBCST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pRedBCST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.vBCST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.vBCST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.vBCST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.vBCST._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.vBCST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30,"vBCST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.vBCST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pICMSST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pICMSST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pICMSST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pICMSST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pICMSST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30,"pICMSST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.pICMSST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.vICMSST._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.vICMSST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.vICMSST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.vICMSST._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.vICMSST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30,"vICMSST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.vICMSST"}})],1),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"FCP ST",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.vBCFCPST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.vBCFCPST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.vBCFCPST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.vBCFCPST._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.vBCFCPST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional,"vBCFCPST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.vBCFCPST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.pFCPST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.pFCPST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.pFCPST_erro,"somente-leitura":!e.emDigitacao,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.pFCPST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.pFCPST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional,"pFCPST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.pFCPST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.vFCPST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.vFCPST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.vFCPST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.vFCPST._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.vFCPST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional,"vFCPST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional.vFCPST"}})],1):e._e()],1),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"Desoneração",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.vICMSDeson._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.vICMSDeson.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.vICMSDeson_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.vICMSDeson._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.vICMSDeson,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2,"vICMSDeson",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.vICMSDeson"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.motDesICMS._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.motDesICMS.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.motDesICMS_erro,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.motDesICMS._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.motDesICMS._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.motDesICMS,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2,"motDesICMS",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.opcional2.motDesICMS"}})],1):e._e()],1)]):e._e(),"ICMS40"==e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?a("div",[a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"Desoneração",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.vICMSDeson._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.vICMSDeson.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.vICMSDeson_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.vICMSDeson._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.vICMSDeson,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional,"vICMSDeson",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.vICMSDeson"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.motDesICMS._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.motDesICMS.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.motDesICMS_erro,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.motDesICMS._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.motDesICMS._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.motDesICMS,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional,"motDesICMS",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.motDesICMS"}})],1):e._e()],1)]):e._e(),"ICMS51"==e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{"somente-leitura":!e.emDigitacao,dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.modBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.modBC.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.modBC_erro,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.modBC._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.modBC._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.modBC,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51,"modBC",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.modBC"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pRedBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pRedBC.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pRedBC_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pRedBC._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pRedBC,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51,"pRedBC",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pRedBC"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vBC.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vBC_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vBC._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vBC,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51,"vBC",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vBC"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pICMS._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pICMS.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pICMS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pICMS._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pICMS,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51,"pICMS",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pICMS"}}),a("campo",{staticClass:"col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMSOp._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMSOp.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMSOp_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMSOp._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMSOp,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51,"vICMSOp",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMSOp"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pDif._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pDif.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pDif_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pDif._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pDif,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51,"pDif",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.pDif"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMSDif._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMSDif.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMSDif_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMSDif._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMSDif,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51,"vICMSDif",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMSDif"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMS._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMS.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMS._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMS,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51,"vICMS",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.vICMS"}})],1),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"FCP",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.vBCFCP._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.vBCFCP.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.vBCFCP_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.vBCFCP._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.vBCFCP,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional,"vBCFCP",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.vBCFCP"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.pFCP._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.pFCP.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.pFCP_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.pFCP._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.pFCP,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional,"pFCP",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.pFCP"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.vFCP._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.vFCP.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.vFCP_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.vFCP._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.vFCP,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional,"vFCP",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.opcional.vFCP"}})],1):e._e()],1)]):e._e(),"ICMS60"==e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?a("div",[a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"ICMS ST Ret",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vBCSTRet._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vBCSTRet.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vBCSTRet_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vBCSTRet._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vBCSTRet,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional,"vBCSTRet",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vBCSTRet"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.pST._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.pST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.pST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.pST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.pST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional,"pST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.pST"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vICMSSubstituto._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vICMSSubstituto.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vICMSSubstituto_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vICMSSubstituto._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vICMSSubstituto,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional,"vICMSSubstituto",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vICMSSubstituto"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vICMSSTRet._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vICMSSTRet.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vICMSSTRet_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vICMSSTRet._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vICMSSTRet,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional,"vICMSSTRet",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.vICMSSTRet"}})],1):e._e()],1),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"FCP ST Ret",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.vBCFCPSTRet._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.vBCFCPSTRet.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.vBCFCPSTRet_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.vBCFCPSTRet._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.vBCFCPSTRet,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2,"vBCFCPSTRet",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.vBCFCPSTRet"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.pFCPSTRet._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.pFCPSTRet.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.pFCPSTRet_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.pFCPSTRet._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.pFCPSTRet,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2,"pFCPSTRet",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.pFCPSTRet"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.vFCPSTRet._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.vFCPSTRet.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.vFCPSTRet_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.vFCPSTRet._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.vFCPSTRet,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2,"vFCPSTRet",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.vFCPSTRet"}})],1):e._e()],1),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"ICMS Efetivo",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.pRedBCEfet._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.pRedBCEfet.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.pRedBCEfet_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.pRedBCEfet._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.pRedBCEfet,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3,"pRedBCEfet",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.pRedBCEfet"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.vBCEfet._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.vBCEfet.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.vBCEfet_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.vBCEfet._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.vBCEfet,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3,"vBCEfet",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.vBCEfet"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.pICMSEfet._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.pICMSEfet.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.pICMSEfet_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.pICMSEfet._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.pICMSEfet,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3,"pICMSEfet",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.pICMSEfet"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.vICMSEfet._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.vICMSEfet.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.vICMSEfet_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.vICMSEfet._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.vICMSEfet,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3,"vICMSEfet",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.vICMSEfet"}})],1):e._e()],1)]):e._e(),"ICMS70"==e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBC.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBC_erro,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBC._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBC._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBC,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70,"modBC",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBC"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pRedBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pRedBC.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pRedBC_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pRedBC._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pRedBC,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70,"pRedBC",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pRedBC"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vBC.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vBC_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vBC._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vBC,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70,"vBC",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vBC"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{"somente-leitura":!e.emDigitacao,dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pICMS._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pICMS.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pICMS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pICMS._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pICMS,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70,"pICMS",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pICMS"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vICMS._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vICMS.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vICMS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vICMS._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vICMS,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70,"vICMS",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vICMS"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBCST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBCST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBCST_erro,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBCST._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBCST._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBCST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70,"modBCST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBCST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pMVAST._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pMVAST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pMVAST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pMVAST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pMVAST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70,"pMVAST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pMVAST"}}),a("campo",{staticClass:"col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pRedBCST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pRedBCST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pRedBCST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pRedBCST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pRedBCST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70,"pRedBCST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pRedBCST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vBCST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vBCST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vBCST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vBCST._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vBCST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70,"vBCST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vBCST"}}),a("campo",{staticClass:"col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pICMSST._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pICMSST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pICMSST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pICMSST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pICMSST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70,"pICMSST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.pICMSST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vICMSST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vICMSST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vICMSST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vICMSST._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vICMSST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70,"vICMSST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.vICMSST"}})],1),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"FCP",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.vBCFCP._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.vBCFCP.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.vBCFCP_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.vBCFCP._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.vBCFCP,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional,"vBCFCP",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.vBCFCP"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.pFCP._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.pFCP.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.pFCP_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.pFCP._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.pFCP,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional,"pFCP",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.pFCP"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.vFCP._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.vFCP.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.vFCP_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.vFCP._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.vFCP,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional,"vFCP",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional.vFCP"}})],1):e._e()],1),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"FCP ST",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.vBCFCPST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.vBCFCPST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.vBCFCPST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.vBCFCPST._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.vBCFCPST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2,"vBCFCPST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.vBCFCPST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.pFCPST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.pFCPST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.pFCPST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.pFCPST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.pFCPST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2,"pFCPST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.pFCPST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.vFCPST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.vFCPST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.vFCPST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.vFCPST._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.vFCPST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2,"vFCPST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional2.vFCPST"}})],1):e._e()],1),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"Desoneração",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.vICMSDeson._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.vICMSDeson.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.vICMSDeson_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.vICMSDeson._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.vICMSDeson,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3,"vICMSDeson",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.vICMSDeson"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.motDesICMS._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.motDesICMS.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.motDesICMS_erro,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.motDesICMS._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.motDesICMS._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.motDesICMS,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3,"motDesICMS",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.opcional3.motDesICMS"}})],1):e._e()],1)]):e._e(),"ICMS90"==e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?a("div",[a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"ICMS",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.modBC._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.modBC.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.modBC_erro,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.modBC._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.modBC._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.modBC,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional,"modBC",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.modBC"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.vBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.vBC.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.vBC_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.vBC._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.vBC,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional,"vBC",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.vBC"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.pRedBC._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.pRedBC.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.pRedBC_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.pRedBC._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.pRedBC,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional,"pRedBC",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.pRedBC"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.pICMS._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.pICMS.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.pICMS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.pICMS._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.pICMS,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional,"pICMS",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.pICMS"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.vICMS._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.vICMS.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.vICMS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.vICMS._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.vICMS,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional,"vICMS",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.vICMS"}})],1):e._e(),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"FCP",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.vBCFCP._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.vBCFCP.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.vBCFCP_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.vBCFCP._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.vBCFCP,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional,"vBCFCP",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.vBCFCP"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.pFCP._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.pFCP.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.pFCP_erro,"somente-leitura":!e.emDigitacao,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.pFCP._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.pFCP,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional,"pFCP",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.pFCP"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.vFCP._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.vFCP.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.vFCP_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.vFCP._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.vFCP,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional,"vFCP",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.opcional.vFCP"}})],1):e._e()],1)],1),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"ICMS ST",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.modBCST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.modBCST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.modBCST_erro,"somente-leitura":!e.emDigitacao,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.modBCST._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.modBCST._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.modBCST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2,"modBCST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.modBCST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pMVAST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pMVAST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pMVAST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pMVAST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pMVAST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2,"pMVAST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pMVAST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pRedBCST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pRedBCST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pRedBCST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pRedBCST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pRedBCST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2,"pRedBCST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pRedBCST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.vBCST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.vBCST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.vBCST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.vBCST._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.vBCST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2,"vBCST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.vBCST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pICMSST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pICMSST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pICMSST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pICMSST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pICMSST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2,"pICMSST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.pICMSST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.vICMSST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.vICMSST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.vICMSST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.vICMSST._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.vICMSST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2,"vICMSST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.vICMSST"}})],1):e._e(),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"FCP ST",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.vBCFCPST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.vBCFCPST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.vBCFCPST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.vBCFCPST._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.vBCFCPST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional,"vBCFCPST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.vBCFCPST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.pFCPST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.pFCPST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.pFCPST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.pFCPST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.pFCPST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional,"pFCPST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.pFCPST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.vFCPST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.vFCPST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.vFCPST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.vFCPST._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.vFCPST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional,"vFCPST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.opcional.vFCPST"}})],1):e._e()],1)],1),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"Desoneração",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.vICMSDeson._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.vICMSDeson.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.vICMSDeson_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.vICMSDeson._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.vICMSDeson,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3,"vICMSDeson",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.vICMSDeson"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.motDesICMS._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.motDesICMS.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.motDesICMS_erro,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.motDesICMS._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.motDesICMS._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.motDesICMS,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3,"motDesICMS",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional3.motDesICMS"}})],1):e._e()],1)]):e._e()]:["ICMSSN101"==e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN101.pCredSN._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN101.pCredSN.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN101.pCredSN_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN101.pCredSN._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN101.pCredSN,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN101,"pCredSN",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN101.pCredSN"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN101.vCredICMSSN._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN101.vCredICMSSN.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN101.vCredICMSSN_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN101.vCredICMSSN._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN101.vCredICMSSN,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN101,"vCredICMSSN",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN101.vCredICMSSN"}})],1)]):e._e(),"ICMSSN102"==e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?a("div"):e._e(),"ICMSSN201"==e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.modBCST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.modBCST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.modBCST_erro,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.modBCST._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.modBCST._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.modBCST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201,"modBCST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.modBCST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pMVAST._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pMVAST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pMVAST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pMVAST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pMVAST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201,"pMVAST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pMVAST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pRedBCST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pRedBCST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pRedBCST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pRedBCST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pRedBCST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201,"pRedBCST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pRedBCST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vBCST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vBCST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vBCST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vBCST._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vBCST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201,"vBCST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vBCST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pICMSST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pICMSST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pICMSST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pICMSST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pICMSST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201,"pICMSST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pICMSST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vICMSST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vICMSST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vICMSST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vICMSST._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vICMSST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201,"vICMSST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vICMSST"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pCredSN._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pCredSN.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pCredSN_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pCredSN._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pCredSN,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201,"pCredSN",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.pCredSN"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vCredICMSSN._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vCredICMSSN.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vCredICMSSN_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vCredICMSSN._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vCredICMSSN,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201,"vCredICMSSN",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.vCredICMSSN"}})],1),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"FCP",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.vBCFCPST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.vBCFCPST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.vBCFCPST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.vBCFCPST._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.vBCFCPST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional,"vBCFCPST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.vBCFCPST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.pFCPST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.pFCPST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.pFCPST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.pFCPST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.pFCPST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional,"pFCPST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.pFCPST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.vFCPST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.vFCPST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.vFCPST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.vFCPST._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.vFCPST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional,"vFCPST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.opcional.vFCPST"}})],1):e._e()],1)]):e._e(),"ICMSSN202"==e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.modBCST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.modBCST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.modBCST_erro,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.modBCST._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.modBCST._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.modBCST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202,"modBCST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.modBCST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pMVAST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pMVAST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pMVAST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pMVAST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pMVAST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202,"pMVAST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pMVAST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pRedBCST._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pRedBCST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pRedBCST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pRedBCST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pRedBCST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202,"pRedBCST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pRedBCST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.vBCST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.vBCST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.vBCST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.vBCST._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.vBCST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202,"vBCST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.vBCST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pICMSST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pICMSST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pICMSST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pICMSST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pICMSST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202,"pICMSST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.pICMSST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.vICMSST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.vICMSST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.vICMSST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.vICMSST._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.vICMSST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202,"vICMSST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.vICMSST"}})],1),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"FCP ST",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.vBCFCPST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.vBCFCPST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.vBCFCPST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.vBCFCPST._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.vBCFCPST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional,"vBCFCPST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.vBCFCPST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.pFCPST._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.pFCPST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.pFCPST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.pFCPST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.pFCPST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional,"pFCPST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.pFCPST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.vFCPST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.vFCPST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.vFCPST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.vFCPST._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.vFCPST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional,"vFCPST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.opcional.vFCPST"}})],1):e._e()],1)]):e._e(),"ICMSSN500"==e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?a("div",[a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"ICMS ST Ret",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vBCSTRet._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vBCSTRet.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vBCSTRet_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vBCSTRet._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vBCSTRet,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional,"vBCSTRet",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vBCSTRet"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.pST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.pST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.pST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.pST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.pST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional,"pST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.pST"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vICMSSubstituto._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vICMSSubstituto.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vICMSSubstituto_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vICMSSubstituto._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vICMSSubstituto,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional,"vICMSSubstituto",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vICMSSubstituto"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vICMSSTRet._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vICMSSTRet.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vICMSSTRet_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vICMSSTRet._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vICMSSTRet,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional,"vICMSSTRet",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vICMSSTRet"}})],1):e._e()],1),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"FCP ST Ret",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.vBCFCPSTRet._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.vBCFCPSTRet.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.vBCFCPSTRet_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.vBCFCPSTRet._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.vBCFCPSTRet,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2,"vBCFCPSTRet",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.vBCFCPSTRet"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.pFCPSTRet._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.pFCPSTRet.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.pFCPSTRet_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.pFCPSTRet._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.pFCPSTRet,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2,"pFCPSTRet",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.pFCPSTRet"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.vFCPSTRet._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.vFCPSTRet.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.vFCPSTRet_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.vFCPSTRet._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.vFCPSTRet,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2,"vFCPSTRet",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional2.vFCPSTRet"}})],1):e._e()],1),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"ICMS Efetivo",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.pRedBCEfet._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.pRedBCEfet.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.pRedBCEfet_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.pRedBCEfet._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.pRedBCEfet,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3,"pRedBCEfet",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.pRedBCEfet"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.vBCEfet._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.vBCEfet.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.vBCEfet_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.vBCEfet._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.vBCEfet,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3,"vBCEfet",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.vBCEfet"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.pICMSEfet._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.pICMSEfet.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.pICMSEfet_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.pICMSEfet._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.pICMSEfet,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3,"pICMSEfet",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.pICMSEfet"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.vICMSEfet._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.vICMSEfet.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.vICMSEfet_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.vICMSEfet._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.vICMSEfet,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3,"vICMSEfet",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional3.vICMSEfet"}})],1):e._e()],1)]):e._e(),"ICMSSN900"==e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.valor_escolha?a("div",[a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"ICMS",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.modBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.modBC.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.modBC_erro,"somente-leitura":!e.emDigitacao,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.modBC._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.modBC._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.modBC,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional,"modBC",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.modBC"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.vBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.vBC.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.vBC_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.vBC._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.vBC,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional,"vBC",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.vBC"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.pRedBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.pRedBC.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.pRedBC_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.pRedBC._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.pRedBC,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional,"pRedBC",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.pRedBC"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.pICMS._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.pICMS.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.pICMS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.pICMS._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.pICMS,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional,"pICMS",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.pICMS"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.vICMS._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.vICMS.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.vICMS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.vICMS._titulo,"somente-leitura":"",tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.vICMS,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional,"vICMS",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.vICMS"}})],1):e._e()],1),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"ICMS ST",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.modBCST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.modBCST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.modBCST_erro,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.modBCST._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.modBCST._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.modBCST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2,"modBCST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.modBCST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pMVAST._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pMVAST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pMVAST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pMVAST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pMVAST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2,"pMVAST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pMVAST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pRedBCST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pRedBCST.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pRedBCST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pRedBCST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pRedBCST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2,"pRedBCST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pRedBCST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.vBCST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.vBCST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.vBCST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.vBCST._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.vBCST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2,"vBCST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.vBCST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pICMSST._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pICMSST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pICMSST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pICMSST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pICMSST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2,"pICMSST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.pICMSST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.vICMSST._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.vICMSST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.vICMSST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.vICMSST._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.vICMSST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2,"vICMSST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.vICMSST"}})],1):e._e(),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"FCP ST",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.vBCFCPST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.vBCFCPST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.vBCFCPST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.vBCFCPST._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.vBCFCPST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional,"vBCFCPST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.vBCFCPST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.pFCPST._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.pFCPST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.pFCPST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.pFCPST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.pFCPST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional,"pFCPST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.pFCPST"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.vFCPST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.vFCPST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.vFCPST_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.vFCPST._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.vFCPST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional,"vFCPST",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.opcional.vFCPST"}})],1):e._e()],1)],1),a("div",{staticClass:"col-12 no-shadow"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"Crédito ICMS",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.visivel"}}),e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.visivel?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.pCredSN._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.pCredSN.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.pCredSN_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.pCredSN._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.pCredSN,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3,"pCredSN",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.pCredSN"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.vCredICMSSN._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.vCredICMSSN.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.vCredICMSSN_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.vCredICMSSN._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.vCredICMSSN,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3,"vCredICMSSN",t)},expression:"item_det.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional3.vCredICMSSN"}})],1):e._e()],1)]):e._e()]],2)],1),a("div",{staticClass:"col-12"},[a("q-collapsible",{attrs:{icon:"attach_money",label:"PIS",opened:""}},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.imposto.noXml_CSTPis._doc,erro:e.$v.infNFe.det.$each[0].imposto.noXml_CSTPis.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.noXml_CSTPis.CSTPis_erro,opcoes:e.metadados.infNFe.det.lista.imposto.noXml_CSTPis._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.noXml_CSTPis._titulo,tipo:"seletor"},on:{input:e.calcularTotais},model:{value:e.item_det.imposto.noXml_CSTPis,callback:function(t){e.$set(e.item_det.imposto,"noXml_CSTPis",t)},expression:"item_det.imposto.noXml_CSTPis"}}),a("div",{staticClass:"col-12 no-shadow"},["PISAliq"==e.item_det.imposto.PIS.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISAliq.vBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.PIS.escolhas.PISAliq.vBC.$invalid,"erro-rotulo":e.item_det.imposto.PIS.escolhas.PISAliq.vBC_erro,rotulo:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISAliq.vBC._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.PIS.escolhas.PISAliq.vBC,callback:function(t){e.$set(e.item_det.imposto.PIS.escolhas.PISAliq,"vBC",t)},expression:"item_det.imposto.PIS.escolhas.PISAliq.vBC"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISAliq.pPIS._doc,erro:e.$v.infNFe.det.$each[0].imposto.PIS.escolhas.PISAliq.pPIS.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.PIS.escolhas.PISAliq.pPIS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISAliq.pPIS._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.PIS.escolhas.PISAliq.pPIS,callback:function(t){e.$set(e.item_det.imposto.PIS.escolhas.PISAliq,"pPIS",t)},expression:"item_det.imposto.PIS.escolhas.PISAliq.pPIS"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISAliq.vPIS._doc,erro:e.$v.infNFe.det.$each[0].imposto.PIS.escolhas.PISAliq.vPIS.$invalid,"erro-rotulo":e.item_det.imposto.PIS.escolhas.PISAliq.vPIS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISAliq.vPIS._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.PIS.escolhas.PISAliq.vPIS,callback:function(t){e.$set(e.item_det.imposto.PIS.escolhas.PISAliq,"vPIS",t)},expression:"item_det.imposto.PIS.escolhas.PISAliq.vPIS"}})],1)]):e._e(),"PISQtde"==e.item_det.imposto.PIS.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISQtde.qBCProd._doc,erro:e.$v.infNFe.det.$each[0].imposto.PIS.escolhas.PISQtde.qBCProd.$invalid,"erro-rotulo":e.item_det.imposto.PIS.escolhas.PISQtde.qBCProd_erro,rotulo:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISQtde.qBCProd._titulo,tipo:"decimal",decimals:"4","somente-leitura":""},model:{value:e.item_det.imposto.PIS.escolhas.PISQtde.qBCProd,callback:function(t){e.$set(e.item_det.imposto.PIS.escolhas.PISQtde,"qBCProd",t)},expression:"item_det.imposto.PIS.escolhas.PISQtde.qBCProd"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISQtde.vAliqProd._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.PIS.escolhas.PISQtde.vAliqProd.$invalid,"erro-rotulo":e.item_det.imposto.PIS.escolhas.PISQtde.vAliqProd_erro,rotulo:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISQtde.vAliqProd._titulo,tipo:"decimal",decimals:"4"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.PIS.escolhas.PISQtde.vAliqProd,callback:function(t){e.$set(e.item_det.imposto.PIS.escolhas.PISQtde,"vAliqProd",t)},expression:"item_det.imposto.PIS.escolhas.PISQtde.vAliqProd"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISQtde.vPIS._doc,erro:e.$v.infNFe.det.$each[0].imposto.PIS.escolhas.PISQtde.vPIS.$invalid,"erro-rotulo":e.item_det.imposto.PIS.escolhas.PISQtde.vPIS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISQtde.vPIS._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.PIS.escolhas.PISQtde.vPIS,callback:function(t){e.$set(e.item_det.imposto.PIS.escolhas.PISQtde,"vPIS",t)},expression:"item_det.imposto.PIS.escolhas.PISQtde.vPIS"}})],1)]):e._e(),"PISOutr"==e.item_det.imposto.PIS.escolhas.valor_escolha?a("div",[a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row gutter-x-sm q-mt-md"},[a("q-radio",{attrs:{label:"Calculo por valor da operção",val:"opcao1"},model:{value:e.item_det.imposto.PIS.escolhas.PISOutr.escolhas.valor_escolha,callback:function(t){e.$set(e.item_det.imposto.PIS.escolhas.PISOutr.escolhas,"valor_escolha",t)},expression:"item_det.imposto.PIS.escolhas.PISOutr.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"Calculo por quantidade vendida",val:"opcao2"},model:{value:e.item_det.imposto.PIS.escolhas.PISOutr.escolhas.valor_escolha,callback:function(t){e.$set(e.item_det.imposto.PIS.escolhas.PISOutr.escolhas,"valor_escolha",t)},expression:"item_det.imposto.PIS.escolhas.PISOutr.escolhas.valor_escolha"}})],1),"opcao1"==e.item_det.imposto.PIS.escolhas.PISOutr.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISOutr.escolhas.opcao1.vBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.PIS.escolhas.PISOutr.escolhas.opcao1.vBC.$invalid,"erro-rotulo":e.item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao1.vBC_erro,rotulo:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISOutr.escolhas.opcao1.vBC._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao1.vBC,callback:function(t){e.$set(e.item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao1,"vBC",t)},expression:"item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao1.vBC"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISOutr.escolhas.opcao1.pPIS._doc,erro:e.$v.infNFe.det.$each[0].imposto.PIS.escolhas.PISOutr.escolhas.opcao1.pPIS.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao1.pPIS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISOutr.escolhas.opcao1.pPIS._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao1.pPIS,callback:function(t){e.$set(e.item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao1,"pPIS",t)},expression:"item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao1.pPIS"}})],1)]):e._e(),"opcao2"==e.item_det.imposto.PIS.escolhas.PISOutr.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISOutr.escolhas.opcao2.qBCProd._doc,erro:e.$v.infNFe.det.$each[0].imposto.PIS.escolhas.PISOutr.escolhas.opcao2.qBCProd.$invalid,"erro-rotulo":e.item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao2.qBCProd_erro,rotulo:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISOutr.escolhas.opcao2.qBCProd._titulo,tipo:"decimal",decimals:"4","somente-leitura":""},model:{value:e.item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao2.qBCProd,callback:function(t){e.$set(e.item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao2,"qBCProd",t)},expression:"item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao2.qBCProd"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISOutr.escolhas.opcao2.vAliqProd._doc,erro:e.$v.infNFe.det.$each[0].imposto.PIS.escolhas.PISOutr.escolhas.opcao2.vAliqProd.$invalid,"erro-rotulo":e.item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao2.vAliqProd_erro,"somente-leitura":!e.emDigitacao,rotulo:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISOutr.escolhas.opcao2.vAliqProd._titulo,tipo:"decimal",decimals:"4"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao2.vAliqProd,callback:function(t){e.$set(e.item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao2,"vAliqProd",t)},expression:"item_det.imposto.PIS.escolhas.PISOutr.escolhas.opcao2.vAliqProd"}})],1)]):e._e()]),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 ",attrs:{dica:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISOutr.vPIS._doc,erro:e.$v.infNFe.det.$each[0].imposto.PIS.escolhas.PISOutr.vPIS.$invalid,"erro-rotulo":e.item_det.imposto.PIS.escolhas.PISOutr.vPIS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISOutr.vPIS._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.PIS.escolhas.PISOutr.vPIS,callback:function(t){e.$set(e.item_det.imposto.PIS.escolhas.PISOutr,"vPIS",t)},expression:"item_det.imposto.PIS.escolhas.PISOutr.vPIS"}})],1)]):e._e()]),e.outrosNFe.visaoCompletaProduto?a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.imposto.PISST.visivel._doc,rotulo:e.metadados.infNFe.det.lista.imposto.PISST.visivel._titulo,tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.PISST.visivel,callback:function(t){e.$set(e.item_det.imposto.PISST,"visivel",t)},expression:"item_det.imposto.PISST.visivel"}})],1),e.item_det.imposto.PISST.visivel?a("div",[a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("q-radio",{attrs:{label:"opcao1",val:"opcao1"},model:{value:e.item_det.imposto.PISST.escolhas.valor_escolha,callback:function(t){e.$set(e.item_det.imposto.PISST.escolhas,"valor_escolha",t)},expression:"item_det.imposto.PISST.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"opcao2",val:"opcao2"},model:{value:e.item_det.imposto.PISST.escolhas.valor_escolha,callback:function(t){e.$set(e.item_det.imposto.PISST.escolhas,"valor_escolha",t)},expression:"item_det.imposto.PISST.escolhas.valor_escolha"}})],1),"opcao1"==e.item_det.imposto.PISST.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.PISST.escolhas.opcao1.vBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.PISST.escolhas.opcao1.vBC.$invalid,"erro-rotulo":e.item_det.imposto.PISST.escolhas.opcao1.vBC_erro,rotulo:e.metadados.infNFe.det.lista.imposto.PISST.escolhas.opcao1.vBC._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.PISST.escolhas.opcao1.vBC,callback:function(t){e.$set(e.item_det.imposto.PISST.escolhas.opcao1,"vBC",t)},expression:"item_det.imposto.PISST.escolhas.opcao1.vBC"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.PISST.escolhas.opcao1.pPIS._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.PISST.escolhas.opcao1.pPIS.$invalid,"erro-rotulo":e.item_det.imposto.PISST.escolhas.opcao1.pPIS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.PISST.escolhas.opcao1.pPIS._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.PISST.escolhas.opcao1.pPIS,callback:function(t){e.$set(e.item_det.imposto.PISST.escolhas.opcao1,"pPIS",t)},expression:"item_det.imposto.PISST.escolhas.opcao1.pPIS"}})],1)]):e._e(),"opcao2"==e.item_det.imposto.PISST.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.PISST.escolhas.opcao2.qBCProd._doc,erro:e.$v.infNFe.det.$each[0].imposto.PISST.escolhas.opcao2.qBCProd.$invalid,"erro-rotulo":e.item_det.imposto.PISST.escolhas.opcao2.qBCProd_erro,rotulo:e.metadados.infNFe.det.lista.imposto.PISST.escolhas.opcao2.qBCProd._titulo,tipo:"decimal",decimals:"4","somente-leitura":""},model:{value:e.item_det.imposto.PISST.escolhas.opcao2.qBCProd,callback:function(t){e.$set(e.item_det.imposto.PISST.escolhas.opcao2,"qBCProd",t)},expression:"item_det.imposto.PISST.escolhas.opcao2.qBCProd"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.PISST.escolhas.opcao2.vAliqProd._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.PISST.escolhas.opcao2.vAliqProd.$invalid,"erro-rotulo":e.item_det.imposto.PISST.escolhas.opcao2.vAliqProd_erro,rotulo:e.metadados.infNFe.det.lista.imposto.PISST.escolhas.opcao2.vAliqProd._titulo,tipo:"decimal",decimals:"4"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.PISST.escolhas.opcao2.vAliqProd,callback:function(t){e.$set(e.item_det.imposto.PISST.escolhas.opcao2,"vAliqProd",t)},expression:"item_det.imposto.PISST.escolhas.opcao2.vAliqProd"}})],1)]):e._e()]),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 ",attrs:{dica:e.metadados.infNFe.det.lista.imposto.PISST.vPIS._doc,erro:e.$v.infNFe.det.$each[0].imposto.PISST.vPIS.$invalid,"erro-rotulo":e.item_det.imposto.PISST.vPIS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.PISST.vPIS._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.PISST.vPIS,callback:function(t){e.$set(e.item_det.imposto.PISST,"vPIS",t)},expression:"item_det.imposto.PISST.vPIS"}})],1)]):e._e()]):e._e()],1)])],1),a("div",{staticClass:"col-12"},[a("q-collapsible",{attrs:{icon:"attach_money",label:"COFINS",opened:""}},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.imposto.noXml_CSTCofins._doc,erro:e.$v.infNFe.det.$each[0].imposto.noXml_CSTCofins.$invalid,"erro-rotulo":e.item_det.imposto.noXml_CSTCofins.CSTCofins_erro,opcoes:e.metadados.infNFe.det.lista.imposto.noXml_CSTCofins._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.noXml_CSTCofins._titulo,tipo:"seletor"},on:{input:e.calcularTotais},model:{value:e.item_det.imposto.noXml_CSTCofins,callback:function(t){e.$set(e.item_det.imposto,"noXml_CSTCofins",t)},expression:"item_det.imposto.noXml_CSTCofins"}}),a("div",{staticClass:"col-12 no-shadow"},["COFINSAliq"==e.item_det.imposto.COFINS.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSAliq.vBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.COFINS.escolhas.COFINSAliq.vBC.$invalid,"erro-rotulo":e.item_det.imposto.COFINS.escolhas.COFINSAliq.vBC_erro,rotulo:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSAliq.vBC._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.COFINS.escolhas.COFINSAliq.vBC,callback:function(t){e.$set(e.item_det.imposto.COFINS.escolhas.COFINSAliq,"vBC",t)},expression:"item_det.imposto.COFINS.escolhas.COFINSAliq.vBC"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSAliq.pCOFINS._doc,erro:e.$v.infNFe.det.$each[0].imposto.COFINS.escolhas.COFINSAliq.pCOFINS.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.COFINS.escolhas.COFINSAliq.pCOFINS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSAliq.pCOFINS._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.COFINS.escolhas.COFINSAliq.pCOFINS,callback:function(t){e.$set(e.item_det.imposto.COFINS.escolhas.COFINSAliq,"pCOFINS",t)},expression:"item_det.imposto.COFINS.escolhas.COFINSAliq.pCOFINS"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSAliq.vCOFINS._doc,erro:e.$v.infNFe.det.$each[0].imposto.COFINS.escolhas.COFINSAliq.vCOFINS.$invalid,"erro-rotulo":e.item_det.imposto.COFINS.escolhas.COFINSAliq.vCOFINS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSAliq.vCOFINS._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.COFINS.escolhas.COFINSAliq.vCOFINS,callback:function(t){e.$set(e.item_det.imposto.COFINS.escolhas.COFINSAliq,"vCOFINS",t)},expression:"item_det.imposto.COFINS.escolhas.COFINSAliq.vCOFINS"}})],1)]):e._e(),"COFINSQtde"==e.item_det.imposto.COFINS.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSQtde.qBCProd._doc,erro:e.$v.infNFe.det.$each[0].imposto.COFINS.escolhas.COFINSQtde.qBCProd.$invalid,"erro-rotulo":e.item_det.imposto.COFINS.escolhas.COFINSQtde.qBCProd_erro,rotulo:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSQtde.qBCProd._titulo,tipo:"decimal",decimals:"4","somente-leitura":""},model:{value:e.item_det.imposto.COFINS.escolhas.COFINSQtde.qBCProd,callback:function(t){e.$set(e.item_det.imposto.COFINS.escolhas.COFINSQtde,"qBCProd",t)},expression:"item_det.imposto.COFINS.escolhas.COFINSQtde.qBCProd"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSQtde.vAliqProd._doc,erro:e.$v.infNFe.det.$each[0].imposto.COFINS.escolhas.COFINSQtde.vAliqProd.$invalid,"erro-rotulo":e.item_det.imposto.COFINS.escolhas.COFINSQtde.vAliqProd_erro,"somente-leitura":!e.emDigitacao,rotulo:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSQtde.vAliqProd._titulo,tipo:"decimal",decimals:"4"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.COFINS.escolhas.COFINSQtde.vAliqProd,callback:function(t){e.$set(e.item_det.imposto.COFINS.escolhas.COFINSQtde,"vAliqProd",t)},expression:"item_det.imposto.COFINS.escolhas.COFINSQtde.vAliqProd"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSQtde.vCOFINS._doc,erro:e.$v.infNFe.det.$each[0].imposto.COFINS.escolhas.COFINSQtde.vCOFINS.$invalid,"erro-rotulo":e.item_det.imposto.COFINS.escolhas.COFINSQtde.vCOFINS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSQtde.vCOFINS._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.COFINS.escolhas.COFINSQtde.vCOFINS,callback:function(t){e.$set(e.item_det.imposto.COFINS.escolhas.COFINSQtde,"vCOFINS",t)},expression:"item_det.imposto.COFINS.escolhas.COFINSQtde.vCOFINS"}})],1)]):e._e(),"COFINSOutr"==e.item_det.imposto.COFINS.escolhas.valor_escolha?a("div",[a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row gutter-x-sm q-mt-md"},[a("q-radio",{attrs:{label:"Calculo por valor da operação",val:"opcao1"},model:{value:e.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.valor_escolha,callback:function(t){e.$set(e.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas,"valor_escolha",t)},expression:"item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"Calculo por quantidade vendida",val:"opcao2"},model:{value:e.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.valor_escolha,callback:function(t){e.$set(e.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas,"valor_escolha",t)},expression:"item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.valor_escolha"}})],1),"opcao1"==e.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao1.vBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao1.vBC.$invalid,"erro-rotulo":e.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao1.vBC_erro,rotulo:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao1.vBC._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao1.vBC,callback:function(t){e.$set(e.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao1,"vBC",t)},expression:"item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao1.vBC"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao1.pCOFINS._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao1.pCOFINS.$invalid,"erro-rotulo":e.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao1.pCOFINS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao1.pCOFINS._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao1.pCOFINS,callback:function(t){e.$set(e.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao1,"pCOFINS",t)},expression:"item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao1.pCOFINS"}})],1)]):e._e(),"opcao2"==e.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao2.qBCProd._doc,erro:e.$v.infNFe.det.$each[0].imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao2.qBCProd.$invalid,"erro-rotulo":e.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao2.qBCProd_erro,rotulo:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao2.qBCProd._titulo,tipo:"decimal",decimals:"4","somente-leitura":""},model:{value:e.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao2.qBCProd,callback:function(t){e.$set(e.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao2,"qBCProd",t)},expression:"item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao2.qBCProd"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao2.vAliqProd._doc,erro:e.$v.infNFe.det.$each[0].imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao2.vAliqProd.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao2.vAliqProd_erro,rotulo:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao2.vAliqProd._titulo,tipo:"decimal",decimals:"4"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao2.vAliqProd,callback:function(t){e.$set(e.item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao2,"vAliqProd",t)},expression:"item_det.imposto.COFINS.escolhas.COFINSOutr.escolhas.opcao2.vAliqProd"}})],1)]):e._e()]),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 ",attrs:{dica:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSOutr.vCOFINS._doc,erro:e.$v.infNFe.det.$each[0].imposto.COFINS.escolhas.COFINSOutr.vCOFINS.$invalid,"erro-rotulo":e.item_det.imposto.COFINS.escolhas.COFINSOutr.vCOFINS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSOutr.vCOFINS._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.COFINS.escolhas.COFINSOutr.vCOFINS,callback:function(t){e.$set(e.item_det.imposto.COFINS.escolhas.COFINSOutr,"vCOFINS",t)},expression:"item_det.imposto.COFINS.escolhas.COFINSOutr.vCOFINS"}})],1)]):e._e()]),e.outrosNFe.visaoCompletaProduto?a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.imposto.COFINSST.visivel._doc,rotulo:e.metadados.infNFe.det.lista.imposto.COFINSST.visivel._titulo,tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.COFINSST.visivel,callback:function(t){e.$set(e.item_det.imposto.COFINSST,"visivel",t)},expression:"item_det.imposto.COFINSST.visivel"}})],1),e.item_det.imposto.COFINSST.visivel?a("div",[a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("q-radio",{attrs:{label:"opcao1",val:"opcao1"},model:{value:e.item_det.imposto.COFINSST.escolhas.valor_escolha,callback:function(t){e.$set(e.item_det.imposto.COFINSST.escolhas,"valor_escolha",t)},expression:"item_det.imposto.COFINSST.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"opcao2",val:"opcao2"},model:{value:e.item_det.imposto.COFINSST.escolhas.valor_escolha,callback:function(t){e.$set(e.item_det.imposto.COFINSST.escolhas,"valor_escolha",t)},expression:"item_det.imposto.COFINSST.escolhas.valor_escolha"}})],1),"opcao1"==e.item_det.imposto.COFINSST.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.COFINSST.escolhas.opcao1.vBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.COFINSST.escolhas.opcao1.vBC.$invalid,"erro-rotulo":e.item_det.imposto.COFINSST.escolhas.opcao1.vBC_erro,rotulo:e.metadados.infNFe.det.lista.imposto.COFINSST.escolhas.opcao1.vBC._titulo,tipo:"decimal",decimals:"2","somente-leitura":e.alteraBC},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.COFINSST.escolhas.opcao1.vBC,callback:function(t){e.$set(e.item_det.imposto.COFINSST.escolhas.opcao1,"vBC",t)},expression:"item_det.imposto.COFINSST.escolhas.opcao1.vBC"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.COFINSST.escolhas.opcao1.pCOFINS._doc,erro:e.$v.infNFe.det.$each[0].imposto.COFINSST.escolhas.opcao1.pCOFINS.$invalid,"erro-rotulo":e.item_det.imposto.COFINSST.escolhas.opcao1.pCOFINS_erro,"somente-leitura":!e.emDigitacao,rotulo:e.metadados.infNFe.det.lista.imposto.COFINSST.escolhas.opcao1.pCOFINS._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.COFINSST.escolhas.opcao1.pCOFINS,callback:function(t){e.$set(e.item_det.imposto.COFINSST.escolhas.opcao1,"pCOFINS",t)},expression:"item_det.imposto.COFINSST.escolhas.opcao1.pCOFINS"}})],1)]):e._e(),"opcao2"==e.item_det.imposto.COFINSST.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.COFINSST.escolhas.opcao2.qBCProd._doc,erro:e.$v.infNFe.det.$each[0].imposto.COFINSST.escolhas.opcao2.qBCProd.$invalid,"erro-rotulo":e.item_det.imposto.COFINSST.escolhas.opcao2.qBCProd_erro,rotulo:e.metadados.infNFe.det.lista.imposto.COFINSST.escolhas.opcao2.qBCProd._titulo,tipo:"decimal",decimals:"4","somente-leitura":""},model:{value:e.item_det.imposto.COFINSST.escolhas.opcao2.qBCProd,callback:function(t){e.$set(e.item_det.imposto.COFINSST.escolhas.opcao2,"qBCProd",t)},expression:"item_det.imposto.COFINSST.escolhas.opcao2.qBCProd"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.COFINSST.escolhas.opcao2.vAliqProd._doc,erro:e.$v.infNFe.det.$each[0].imposto.COFINSST.escolhas.opcao2.vAliqProd.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.COFINSST.escolhas.opcao2.vAliqProd_erro,rotulo:e.metadados.infNFe.det.lista.imposto.COFINSST.escolhas.opcao2.vAliqProd._titulo,tipo:"decimal",decimals:"4"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.COFINSST.escolhas.opcao2.vAliqProd,callback:function(t){e.$set(e.item_det.imposto.COFINSST.escolhas.opcao2,"vAliqProd",t)},expression:"item_det.imposto.COFINSST.escolhas.opcao2.vAliqProd"}})],1)]):e._e()]),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 ",attrs:{dica:e.metadados.infNFe.det.lista.imposto.COFINSST.vCOFINS._doc,erro:e.$v.infNFe.det.$each[0].imposto.COFINSST.vCOFINS.$invalid,"erro-rotulo":e.item_det.imposto.COFINSST.vCOFINS_erro,rotulo:e.metadados.infNFe.det.lista.imposto.COFINSST.vCOFINS._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.item_det.imposto.COFINSST.vCOFINS,callback:function(t){e.$set(e.item_det.imposto.COFINSST,"vCOFINS",t)},expression:"item_det.imposto.COFINSST.vCOFINS"}})],1)]):e._e()]):e._e()],1)])],1),e.outrosNFe.visaoCompletaProduto?a("div",{staticClass:"col-12"},[a("q-collapsible",{attrs:{icon:"attach_money",label:"IPI"}},[a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{"somente-leitura":!e.emDigitacao,dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.visivel._doc,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.visivel._titulo,tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.IPI.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.IPI,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.IPI.visivel"}})],1),e.item_det.imposto.escolhas.opcao1.IPI.visivel?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.CNPJProd._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.IPI.CNPJProd.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.IPI.CNPJProd_erro,maxlength:"14",rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.CNPJProd._titulo,tipo:"texto"},model:{value:e.item_det.imposto.escolhas.opcao1.IPI.CNPJProd,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.IPI,"CNPJProd",t)},expression:"item_det.imposto.escolhas.opcao1.IPI.CNPJProd"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.cSelo._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.IPI.cSelo.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.IPI.cSelo_erro,maxlength:"60",rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.cSelo._titulo,tipo:"texto"},model:{value:e.item_det.imposto.escolhas.opcao1.IPI.cSelo,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.IPI,"cSelo",t)},expression:"item_det.imposto.escolhas.opcao1.IPI.cSelo"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.qSelo._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.IPI.qSelo.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.IPI.qSelo_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.qSelo._titulo,tipo:"texto"},model:{value:e.item_det.imposto.escolhas.opcao1.IPI.qSelo,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.IPI,"qSelo",t)},expression:"item_det.imposto.escolhas.opcao1.IPI.qSelo"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.cEnq._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.IPI.cEnq.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.IPI.cEnq_erro,maxlength:"3",rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.cEnq._titulo,tipo:"texto"},model:{value:e.item_det.imposto.escolhas.opcao1.IPI.cEnq,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.IPI,"cEnq",t)},expression:"item_det.imposto.escolhas.opcao1.IPI.cEnq"}})],1),a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("q-radio",{attrs:{label:"IPITrib",val:"IPITrib"},model:{value:e.item_det.imposto.escolhas.opcao1.IPI.escolhas.valor_escolha,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.IPI.escolhas,"valor_escolha",t)},expression:"item_det.imposto.escolhas.opcao1.IPI.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"IPINT",val:"IPINT"},model:{value:e.item_det.imposto.escolhas.opcao1.IPI.escolhas.valor_escolha,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.IPI.escolhas,"valor_escolha",t)},expression:"item_det.imposto.escolhas.opcao1.IPI.escolhas.valor_escolha"}})],1),"IPITrib"==e.item_det.imposto.escolhas.opcao1.IPI.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 ",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST_erro,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib,"CST",t)},expression:"item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST"}})],1),a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("q-radio",{attrs:{label:"opcao1",val:"opcao1"},model:{value:e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.valor_escolha,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas,"valor_escolha",t)},expression:"item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"opcao2",val:"opcao2"},model:{value:e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.valor_escolha,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas,"valor_escolha",t)},expression:"item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.valor_escolha"}})],1),"opcao1"==e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":!e.emDigitacao,dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.vBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.vBC.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.vBC_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.vBC._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.vBC,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1,"vBC",t)},expression:"item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.vBC"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":!e.emDigitacao,dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.pIPI._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.pIPI.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.pIPI_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.pIPI._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.pIPI,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1,"pIPI",t)},expression:"item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.pIPI"}})],1)]):e._e(),"opcao2"==e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":!e.emDigitacao,dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao2.qUnid._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao2.qUnid.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao2.qUnid_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao2.qUnid._titulo,tipo:"decimal",decimals:"4"},model:{value:e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao2.qUnid,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao2,"qUnid",t)},expression:"item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao2.qUnid"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":!e.emDigitacao,dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao2.vUnid._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao2.vUnid.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao2.vUnid_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao2.vUnid._titulo,tipo:"decimal",decimals:"4"},model:{value:e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao2.vUnid,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao2,"vUnid",t)},expression:"item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao2.vUnid"}})],1)]):e._e()]),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 ",attrs:{"somente-leitura":!e.emDigitacao,dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.vIPI._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.IPI.escolhas.IPITrib.vIPI.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.vIPI_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.vIPI._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.vIPI,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib,"vIPI",t)},expression:"item_det.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.vIPI"}})],1)]):e._e(),"IPINT"==e.item_det.imposto.escolhas.opcao1.IPI.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 ",attrs:{"somente-leitura":!e.emDigitacao,dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST_erro,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.IPI.escolhas.IPINT,"CST",t)},expression:"item_det.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST"}})],1)]):e._e()])]):e._e()])])],1):e._e(),e.outrosNFe.visaoCompletaProduto?a("div",{staticClass:"col-12"},[a("q-collapsible",{attrs:{icon:"attach_money",label:"II"}},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{"somente-leitura":!e.emDigitacao,dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.II.visivel._doc,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.II.visivel._titulo,tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.escolhas.opcao1.II.visivel,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.II,"visivel",t)},expression:"item_det.imposto.escolhas.opcao1.II.visivel"}})],1),e.item_det.imposto.escolhas.opcao1.II.visivel?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{"somente-leitura":!e.emDigitacao,dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.II.vBC._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.II.vBC.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.II.vBC_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.II.vBC._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.II.vBC,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.II,"vBC",t)},expression:"item_det.imposto.escolhas.opcao1.II.vBC"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.II.vDespAdu._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.II.vDespAdu.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.II.vDespAdu_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.II.vDespAdu._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.II.vDespAdu,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.II,"vDespAdu",t)},expression:"item_det.imposto.escolhas.opcao1.II.vDespAdu"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.II.vII._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.II.vII.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.II.vII_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.II.vII._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.II.vII,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.II,"vII",t)},expression:"item_det.imposto.escolhas.opcao1.II.vII"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.II.vIOF._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao1.II.vIOF.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao1.II.vIOF_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.II.vIOF._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao1.II.vIOF,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao1.II,"vIOF",t)},expression:"item_det.imposto.escolhas.opcao1.II.vIOF"}})],1)]):e._e()])],1):e._e(),e.outrosNFe.visaoCompletaProduto?a("div",{staticClass:"col-12"},[a("q-collapsible",{attrs:{icon:"attach_money",label:"ISSQN"}},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vBC._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao2.ISSQN.vBC.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao2.ISSQN.vBC_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vBC._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao2.ISSQN.vBC,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao2.ISSQN,"vBC",t)},expression:"item_det.imposto.escolhas.opcao2.ISSQN.vBC"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vAliq._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao2.ISSQN.vAliq.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao2.ISSQN.vAliq_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vAliq._titulo,tipo:"decimal",decimals:"4"},model:{value:e.item_det.imposto.escolhas.opcao2.ISSQN.vAliq,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao2.ISSQN,"vAliq",t)},expression:"item_det.imposto.escolhas.opcao2.ISSQN.vAliq"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vISSQN._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao2.ISSQN.vISSQN.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao2.ISSQN.vISSQN_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vISSQN._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao2.ISSQN.vISSQN,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao2.ISSQN,"vISSQN",t)},expression:"item_det.imposto.escolhas.opcao2.ISSQN.vISSQN"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.cMunFG._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao2.ISSQN.cMunFG.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao2.ISSQN.cMunFG_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.cMunFG._titulo,tipo:"texto"},model:{value:e.item_det.imposto.escolhas.opcao2.ISSQN.cMunFG,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao2.ISSQN,"cMunFG",t)},expression:"item_det.imposto.escolhas.opcao2.ISSQN.cMunFG"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.cListServ._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao2.ISSQN.cListServ.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao2.ISSQN.cListServ_erro,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.cListServ._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.cListServ._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao2.ISSQN.cListServ,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao2.ISSQN,"cListServ",t)},expression:"item_det.imposto.escolhas.opcao2.ISSQN.cListServ"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vDeducao._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao2.ISSQN.vDeducao.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao2.ISSQN.vDeducao_erro,"somente-leitura":!e.emDigitacao,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vDeducao._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao2.ISSQN.vDeducao,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao2.ISSQN,"vDeducao",t)},expression:"item_det.imposto.escolhas.opcao2.ISSQN.vDeducao"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vOutro._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao2.ISSQN.vOutro.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao2.ISSQN.vOutro_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vOutro._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao2.ISSQN.vOutro,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao2.ISSQN,"vOutro",t)},expression:"item_det.imposto.escolhas.opcao2.ISSQN.vOutro"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vDescIncond._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao2.ISSQN.vDescIncond.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao2.ISSQN.vDescIncond_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vDescIncond._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao2.ISSQN.vDescIncond,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao2.ISSQN,"vDescIncond",t)},expression:"item_det.imposto.escolhas.opcao2.ISSQN.vDescIncond"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vDescCond._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao2.ISSQN.vDescCond.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao2.ISSQN.vDescCond_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vDescCond._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao2.ISSQN.vDescCond,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao2.ISSQN,"vDescCond",t)},expression:"item_det.imposto.escolhas.opcao2.ISSQN.vDescCond"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vISSRet._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao2.ISSQN.vISSRet.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao2.ISSQN.vISSRet_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.vISSRet._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.escolhas.opcao2.ISSQN.vISSRet,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao2.ISSQN,"vISSRet",t)},expression:"item_det.imposto.escolhas.opcao2.ISSQN.vISSRet"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.indISS._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao2.ISSQN.indISS.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao2.ISSQN.indISS_erro,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.indISS._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.indISS._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao2.ISSQN.indISS,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao2.ISSQN,"indISS",t)},expression:"item_det.imposto.escolhas.opcao2.ISSQN.indISS"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.cServico._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao2.ISSQN.cServico.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao2.ISSQN.cServico_erro,maxlength:"20",rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.cServico._titulo,tipo:"texto"},model:{value:e.item_det.imposto.escolhas.opcao2.ISSQN.cServico,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao2.ISSQN,"cServico",t)},expression:"item_det.imposto.escolhas.opcao2.ISSQN.cServico"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.cMun._doc,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao2.ISSQN.cMun.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.escolhas.opcao2.ISSQN.cMun_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.cMun._titulo,tipo:"texto"},model:{value:e.item_det.imposto.escolhas.opcao2.ISSQN.cMun,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao2.ISSQN,"cMun",t)},expression:"item_det.imposto.escolhas.opcao2.ISSQN.cMun"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.cPais._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao2.ISSQN.cPais.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao2.ISSQN.cPais_erro,rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.cPais._titulo,tipo:"texto"},model:{value:e.item_det.imposto.escolhas.opcao2.ISSQN.cPais,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao2.ISSQN,"cPais",t)},expression:"item_det.imposto.escolhas.opcao2.ISSQN.cPais"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.nProcesso._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao2.ISSQN.nProcesso.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao2.ISSQN.nProcesso_erro,maxlength:"30",rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.nProcesso._titulo,tipo:"texto"},model:{value:e.item_det.imposto.escolhas.opcao2.ISSQN.nProcesso,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao2.ISSQN,"nProcesso",t)},expression:"item_det.imposto.escolhas.opcao2.ISSQN.nProcesso"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.indIncentivo._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.escolhas.opcao2.ISSQN.indIncentivo.$invalid,"erro-rotulo":e.item_det.imposto.escolhas.opcao2.ISSQN.indIncentivo_erro,opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.indIncentivo._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao2.ISSQN.indIncentivo._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.escolhas.opcao2.ISSQN.indIncentivo,callback:function(t){e.$set(e.item_det.imposto.escolhas.opcao2.ISSQN,"indIncentivo",t)},expression:"item_det.imposto.escolhas.opcao2.ISSQN.indIncentivo"}})],1)])],1):e._e()],1),e.outrosNFe.visaoCompletaProduto?a("div",{staticClass:"col-12 "},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"Vendas interestarduais para consumidor final, não contribuinte de ICMS",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.imposto.ICMSUFDest.visivel,callback:function(t){e.$set(e.item_det.imposto.ICMSUFDest,"visivel",t)},expression:"item_det.imposto.ICMSUFDest.visivel"}})],1),e.item_det.imposto.ICMSUFDest.visivel?a("div",{staticClass:"tributosb"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.vBCUFDest._doc,erro:e.$v.infNFe.det.$each[0].imposto.ICMSUFDest.vBCUFDest.$invalid,"erro-rotulo":e.item_det.imposto.ICMSUFDest.vBCUFDest_erro,"somente-leitura":!e.emDigitacao,rotulo:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.vBCUFDest._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.ICMSUFDest.vBCUFDest,callback:function(t){e.$set(e.item_det.imposto.ICMSUFDest,"vBCUFDest",t)},expression:"item_det.imposto.ICMSUFDest.vBCUFDest"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.vBCFCPUFDest._doc,erro:e.$v.infNFe.det.$each[0].imposto.ICMSUFDest.vBCFCPUFDest.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.ICMSUFDest.vBCFCPUFDest_erro,rotulo:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.vBCFCPUFDest._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.ICMSUFDest.vBCFCPUFDest,callback:function(t){e.$set(e.item_det.imposto.ICMSUFDest,"vBCFCPUFDest",t)},expression:"item_det.imposto.ICMSUFDest.vBCFCPUFDest"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pFCPUFDest._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.ICMSUFDest.pFCPUFDest.$invalid,"erro-rotulo":e.item_det.imposto.ICMSUFDest.pFCPUFDest_erro,rotulo:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pFCPUFDest._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.ICMSUFDest.pFCPUFDest,callback:function(t){e.$set(e.item_det.imposto.ICMSUFDest,"pFCPUFDest",t)},expression:"item_det.imposto.ICMSUFDest.pFCPUFDest"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSUFDest._doc,erro:e.$v.infNFe.det.$each[0].imposto.ICMSUFDest.pICMSUFDest.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.ICMSUFDest.pICMSUFDest_erro,rotulo:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSUFDest._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.ICMSUFDest.pICMSUFDest,callback:function(t){e.$set(e.item_det.imposto.ICMSUFDest,"pICMSUFDest",t)},expression:"item_det.imposto.ICMSUFDest.pICMSUFDest"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSInter._doc,erro:e.$v.infNFe.det.$each[0].imposto.ICMSUFDest.pICMSInter.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.ICMSUFDest.pICMSInter_erro,opcoes:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSInter._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSInter._titulo,tipo:"seletor"},model:{value:e.item_det.imposto.ICMSUFDest.pICMSInter,callback:function(t){e.$set(e.item_det.imposto.ICMSUFDest,"pICMSInter",t)},expression:"item_det.imposto.ICMSUFDest.pICMSInter"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSInterPart._doc,erro:e.$v.infNFe.det.$each[0].imposto.ICMSUFDest.pICMSInterPart.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.ICMSUFDest.pICMSInterPart_erro,rotulo:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSInterPart._titulo,tipo:"decimal",decimals:"4",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.imposto.ICMSUFDest.pICMSInterPart,callback:function(t){e.$set(e.item_det.imposto.ICMSUFDest,"pICMSInterPart",t)},expression:"item_det.imposto.ICMSUFDest.pICMSInterPart"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.vFCPUFDest._doc,erro:e.$v.infNFe.det.$each[0].imposto.ICMSUFDest.vFCPUFDest.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":e.item_det.imposto.ICMSUFDest.vFCPUFDest_erro,rotulo:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.vFCPUFDest._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.ICMSUFDest.vFCPUFDest,callback:function(t){e.$set(e.item_det.imposto.ICMSUFDest,"vFCPUFDest",t)},expression:"item_det.imposto.ICMSUFDest.vFCPUFDest"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.vICMSUFDest._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.ICMSUFDest.vICMSUFDest.$invalid,"erro-rotulo":e.item_det.imposto.ICMSUFDest.vICMSUFDest_erro,rotulo:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.vICMSUFDest._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.ICMSUFDest.vICMSUFDest,callback:function(t){e.$set(e.item_det.imposto.ICMSUFDest,"vICMSUFDest",t)},expression:"item_det.imposto.ICMSUFDest.vICMSUFDest"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.vICMSUFRemet._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].imposto.ICMSUFDest.vICMSUFRemet.$invalid,"erro-rotulo":e.item_det.imposto.ICMSUFDest.vICMSUFRemet_erro,rotulo:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.vICMSUFRemet._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.imposto.ICMSUFDest.vICMSUFRemet,callback:function(t){e.$set(e.item_det.imposto.ICMSUFDest,"vICMSUFRemet",t)},expression:"item_det.imposto.ICMSUFDest.vICMSUFRemet"}})],1)]):e._e()]):e._e(),e.outrosNFe.visaoCompletaProduto?a("div",{staticClass:"col-12 "},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"Imposto devolvido",tipo:"logico"},on:{input:function(t){e.calcularTotais()}},model:{value:e.item_det.impostoDevol.visivel,callback:function(t){e.$set(e.item_det.impostoDevol,"visivel",t)},expression:"item_det.impostoDevol.visivel"}})],1),e.item_det.impostoDevol.visivel?a("div",{staticClass:"tributosb"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.impostoDevol.pDevol._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].impostoDevol.pDevol.$invalid,"erro-rotulo":e.item_det.impostoDevol.pDevol_erro,rotulo:e.metadados.infNFe.det.lista.impostoDevol.pDevol._titulo,tipo:"decimal",decimals:"2",suffix:"%"},on:{input:function(t){e.calcularTotaisSemDistribuir()}},model:{value:e.item_det.impostoDevol.pDevol,callback:function(t){e.$set(e.item_det.impostoDevol,"pDevol",t)},expression:"item_det.impostoDevol.pDevol"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.impostoDevol.IPI.vIPIDevol._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].impostoDevol.IPI.vIPIDevol.$invalid,"erro-rotulo":e.item_det.impostoDevol.IPI.vIPIDevol_erro,rotulo:e.metadados.infNFe.det.lista.impostoDevol.IPI.vIPIDevol._titulo,tipo:"decimal",decimals:"2"},model:{value:e.item_det.impostoDevol.IPI.vIPIDevol,callback:function(t){e.$set(e.item_det.impostoDevol.IPI,"vIPIDevol",t)},expression:"item_det.impostoDevol.IPI.vIPIDevol"}})],1)]):e._e()]):e._e()])],1)]),e.outrosNFe.visaoCompletaProduto?a("div",{staticClass:"bg-white q-pa-sm q-my-md no-shadow"},[a("div",{staticClass:"col-12 no-shadow"},[a("q-collapsible",{staticClass:"border-1 q-item-borders q-my-sm",attrs:{icon:"directions_boat",label:e.metadados.infNFe.det.lista.prod.NVE._titulo}},[a("q-list",{staticStyle:{border:"none"}},[e._l(e.item_det.prod.NVE,function(t,o){return a("q-item",{key:o},[a("q-item-main",[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.prod.NVE.lista.NVE._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.NVE.$each[0].NVE.$invalid,"erro-rotulo":t.NVE_erro,rotulo:e.metadados.infNFe.det.lista.prod.NVE.lista.NVE._titulo,tipo:"texto"},model:{value:t.NVE,callback:function(a){e.$set(t,"NVE",a)},expression:"item_NVE.NVE"}}),"Em digitação"==e.situacao?a("q-btn",{staticClass:"bt-negative q-my-sm",attrs:{color:"negative",size:"xs",icon:"remove",outline:"",label:"Remover item"},on:{click:function(t){e.removerLinhaDaLista(e.item_det.prod.NVE,o)}}}):e._e()],1)],1)}),"Em digitação"==e.situacao?a("q-btn",{attrs:{color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm"},on:{click:function(t){e.adicionarLinhaNaLista(e.item_det.prod.NVE,e.metadados.infNFe.det.lista.prod.NVE.lista)}}}):e._e()],2)],1)],1)]):e._e(),e.outrosNFe.visaoCompletaProduto?a("div",{staticClass:"bg-white q-pa-sm q-my-md no-shadow"},[a("div",{staticClass:"col-12 no-shadow"},[a("q-collapsible",{staticClass:"border-1 q-item-borders q-my-sm",attrs:{icon:"directions",label:"Rastro"}},[a("q-list",{staticStyle:{border:"none"}},[e._l(e.item_det.prod.rastro,function(t,o){return a("q-item",{key:o},[a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.prod.rastro.lista.nLote._doc,erro:e.$v.infNFe.det.$each[0].prod.rastro.$each[0].nLote.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":t.nLote_erro,maxlength:"20",rotulo:e.metadados.infNFe.det.lista.prod.rastro.lista.nLote._titulo,tipo:"texto"},model:{value:t.nLote,callback:function(a){e.$set(t,"nLote",a)},expression:"item_rastro.nLote"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.prod.rastro.lista.qLote._doc,erro:e.$v.infNFe.det.$each[0].prod.rastro.$each[0].qLote.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":t.qLote_erro,opcoes:{minimumValue:0,decimalPlaces:3},rotulo:e.metadados.infNFe.det.lista.prod.rastro.lista.qLote._titulo,tipo:"decimal"},model:{value:t.qLote,callback:function(a){e.$set(t,"qLote",a)},expression:"item_rastro.qLote"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.prod.rastro.lista.dFab._doc,erro:e.$v.infNFe.det.$each[0].prod.rastro.$each[0].dFab.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":t.dFab_erro,rotulo:e.metadados.infNFe.det.lista.prod.rastro.lista.dFab._titulo,tipo:"data"},model:{value:t.dFab,callback:function(a){e.$set(t,"dFab",a)},expression:"item_rastro.dFab"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.prod.rastro.lista.dVal._doc,erro:e.$v.infNFe.det.$each[0].prod.rastro.$each[0].dVal.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":t.dVal_erro,rotulo:e.metadados.infNFe.det.lista.prod.rastro.lista.dVal._titulo,tipo:"data"},model:{value:t.dVal,callback:function(a){e.$set(t,"dVal",a)},expression:"item_rastro.dVal"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.prod.rastro.lista.cAgreg._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.rastro.$each[0].cAgreg.$invalid,"erro-rotulo":t.cAgreg_erro,rotulo:e.metadados.infNFe.det.lista.prod.rastro.lista.cAgreg._titulo,tipo:"texto"},model:{value:t.cAgreg,callback:function(a){e.$set(t,"cAgreg",a)},expression:"item_rastro.cAgreg"}})],1),"Em digitação"==e.situacao?a("q-btn",{staticClass:"bt-negative q-my-sm",attrs:{color:"negative",size:"xs",icon:"remove",outline:"",label:"Remover item"},on:{click:function(t){e.removerLinhaDaLista(e.item_det.prod.rastro,o)}}}):e._e()],1)],1)}),"Em digitação"==e.situacao?a("q-btn",{attrs:{color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm"},on:{click:function(t){e.adicionarLinhaNaLista(e.item_det.prod.rastro,e.metadados.infNFe.det.lista.prod.rastro.lista)}}}):e._e()],2)],1)],1)]):e._e(),e.outrosNFe.visaoCompletaProduto?a("div",{staticClass:"bg-white q-pa-sm q-my-md no-shadow"},[a("div",{staticClass:"col-12 no-shadow"},[a("q-collapsible",{staticClass:"border-1 q-item-borders q-my-sm",attrs:{icon:"mdi-airplane-landing",label:"Importação"}},[a("q-list",{staticStyle:{border:"none"}},[e._l(e.item_det.prod.DI,function(t,o){return a("q-item",{key:o},[a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.prod.DI.lista.nDI._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.DI.$each[0].nDI.$invalid,"erro-rotulo":t.nDI_erro,maxlength:"12",rotulo:e.metadados.infNFe.det.lista.prod.DI.lista.nDI._titulo,tipo:"texto"},model:{value:t.nDI,callback:function(a){e.$set(t,"nDI",a)},expression:"item_DI.nDI"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.prod.DI.lista.dDI._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.DI.$each[0].dDI.$invalid,"erro-rotulo":t.dDI_erro,rotulo:e.metadados.infNFe.det.lista.prod.DI.lista.dDI._titulo,tipo:"data"},model:{value:t.dDI,callback:function(a){e.$set(t,"dDI",a)},expression:"item_DI.dDI"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.prod.DI.lista.xLocDesemb._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.DI.$each[0].xLocDesemb.$invalid,"erro-rotulo":t.xLocDesemb_erro,maxlength:"60",rotulo:e.metadados.infNFe.det.lista.prod.DI.lista.xLocDesemb._titulo,tipo:"texto"},model:{value:t.xLocDesemb,callback:function(a){e.$set(t,"xLocDesemb",a)},expression:"item_DI.xLocDesemb"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.prod.DI.lista.UFDesemb._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.DI.$each[0].UFDesemb.$invalid,"erro-rotulo":t.UFDesemb_erro,opcoes:e.metadados.infNFe.det.lista.prod.DI.lista.UFDesemb._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.prod.DI.lista.UFDesemb._titulo,tipo:"seletor"},model:{value:t.UFDesemb,callback:function(a){e.$set(t,"UFDesemb",a)},expression:"item_DI.UFDesemb"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.prod.DI.lista.dDesemb._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.DI.$each[0].dDesemb.$invalid,"erro-rotulo":t.dDesemb_erro,rotulo:e.metadados.infNFe.det.lista.prod.DI.lista.dDesemb._titulo,tipo:"data"},model:{value:t.dDesemb,callback:function(a){e.$set(t,"dDesemb",a)},expression:"item_DI.dDesemb"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.prod.DI.lista.tpViaTransp._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.DI.$each[0].tpViaTransp.$invalid,"erro-rotulo":t.tpViaTransp_erro,opcoes:e.metadados.infNFe.det.lista.prod.DI.lista.tpViaTransp._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.prod.DI.lista.tpViaTransp._titulo,tipo:"seletor"},model:{value:t.tpViaTransp,callback:function(a){e.$set(t,"tpViaTransp",a)},expression:"item_DI.tpViaTransp"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.prod.DI.lista.vAFRMM._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.DI.$each[0].vAFRMM.$invalid,"erro-rotulo":t.vAFRMM_erro,rotulo:e.metadados.infNFe.det.lista.prod.DI.lista.vAFRMM._titulo,tipo:"decimal",decimals:"2"},model:{value:t.vAFRMM,callback:function(a){e.$set(t,"vAFRMM",a)},expression:"item_DI.vAFRMM"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.prod.DI.lista.tpIntermedio._doc,erro:e.$v.infNFe.det.$each[0].prod.DI.$each[0].tpIntermedio.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":t.tpIntermedio_erro,opcoes:e.metadados.infNFe.det.lista.prod.DI.lista.tpIntermedio._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.prod.DI.lista.tpIntermedio._titulo,tipo:"seletor"},model:{value:t.tpIntermedio,callback:function(a){e.$set(t,"tpIntermedio",a)},expression:"item_DI.tpIntermedio"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.prod.DI.lista.CNPJ._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.DI.$each[0].CNPJ.$invalid,"erro-rotulo":t.CNPJ_erro,maxlength:"14",rotulo:e.metadados.infNFe.det.lista.prod.DI.lista.CNPJ._titulo,tipo:"texto"},model:{value:t.CNPJ,callback:function(a){e.$set(t,"CNPJ",a)},expression:"item_DI.CNPJ"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.prod.DI.lista.UFTerceiro._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.DI.$each[0].UFTerceiro.$invalid,"erro-rotulo":t.UFTerceiro_erro,opcoes:e.metadados.infNFe.det.lista.prod.DI.lista.UFTerceiro._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.prod.DI.lista.UFTerceiro._titulo,tipo:"seletor"},model:{value:t.UFTerceiro,callback:function(a){e.$set(t,"UFTerceiro",a)},expression:"item_DI.UFTerceiro"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.prod.DI.lista.cExportador._doc,erro:e.$v.infNFe.det.$each[0].prod.DI.$each[0].cExportador.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":t.cExportador_erro,maxlength:"60",rotulo:e.metadados.infNFe.det.lista.prod.DI.lista.cExportador._titulo,tipo:"texto"},model:{value:t.cExportador,callback:function(a){e.$set(t,"cExportador",a)},expression:"item_DI.cExportador"}})],1),a("div",{staticClass:"col-12 no-shadow"},[a("q-collapsible",{staticClass:"border-1 q-my-sm q-item-borders",attrs:{icon:"list",opened:"",label:e.metadados.infNFe.det.lista.prod.DI.lista.adi._titulo}},[a("q-list",{staticStyle:{border:"none"}},[e._l(t.adi,function(o,i){return a("q-item",{key:i,staticClass:"border-item"},[a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.prod.DI.lista.adi.lista.nAdicao._doc,erro:e.$v.infNFe.det.$each[0].prod.DI.$each[0].adi.$each[0].nAdicao.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":o.nAdicao_erro,rotulo:e.metadados.infNFe.det.lista.prod.DI.lista.adi.lista.nAdicao._titulo,tipo:"texto"},model:{value:o.nAdicao,callback:function(t){e.$set(o,"nAdicao",t)},expression:"item_adi.nAdicao"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.prod.DI.lista.adi.lista.nSeqAdic._doc,erro:e.$v.infNFe.det.$each[0].prod.DI.$each[0].adi.$each[0].nSeqAdic.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":o.nSeqAdic_erro,rotulo:e.metadados.infNFe.det.lista.prod.DI.lista.adi.lista.nSeqAdic._titulo,tipo:"texto"},model:{value:o.nSeqAdic,callback:function(t){e.$set(o,"nSeqAdic",t)},expression:"item_adi.nSeqAdic"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.prod.DI.lista.adi.lista.cFabricante._doc,erro:e.$v.infNFe.det.$each[0].prod.DI.$each[0].adi.$each[0].cFabricante.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":o.cFabricante_erro,maxlength:"60",rotulo:e.metadados.infNFe.det.lista.prod.DI.lista.adi.lista.cFabricante._titulo,tipo:"texto"},model:{value:o.cFabricante,callback:function(t){e.$set(o,"cFabricante",t)},expression:"item_adi.cFabricante"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.prod.DI.lista.adi.lista.vDescDI._doc,erro:e.$v.infNFe.det.$each[0].prod.DI.$each[0].adi.$each[0].vDescDI.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":o.vDescDI_erro,rotulo:e.metadados.infNFe.det.lista.prod.DI.lista.adi.lista.vDescDI._titulo,tipo:"decimal",decimals:"2"},model:{value:o.vDescDI,callback:function(t){e.$set(o,"vDescDI",t)},expression:"item_adi.vDescDI"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.det.lista.prod.DI.lista.adi.lista.nDraw._doc,erro:e.$v.infNFe.det.$each[0].prod.DI.$each[0].adi.$each[0].nDraw.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":o.nDraw_erro,rotulo:e.metadados.infNFe.det.lista.prod.DI.lista.adi.lista.nDraw._titulo,tipo:"texto"},model:{value:o.nDraw,callback:function(t){e.$set(o,"nDraw",t)},expression:"item_adi.nDraw"}})],1),"Em digitação"==e.situacao?a("q-btn",{staticClass:"bt-negative q-my-sm",attrs:{color:"negative",size:"xs",icon:"remove",outline:"",label:"Remover item"},on:{click:function(a){e.removerLinhaDaLista(t.adi,i)}}}):e._e()],1)],1)}),"Em digitação"==e.situacao?a("q-btn",{attrs:{color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm"},on:{click:function(a){e.adicionarLinhaNaLista(t.adi,e.metadados.infNFe.det.lista.prod.DI.lista.adi.lista)}}}):e._e()],2)],1)],1),"Em digitação"==e.situacao?a("q-btn",{staticClass:"bt-negative q-my-sm",attrs:{color:"negative",size:"xs",icon:"remove",outline:"",label:"Remover item"},on:{click:function(t){e.removerLinhaDaLista(e.item_det.prod.DI,o)}}}):e._e()],1)],1)}),"Em digitação"==e.situacao?a("q-btn",{attrs:{color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm"},on:{click:function(t){e.adicionarLinhaNaLista(e.item_det.prod.DI,e.metadados.infNFe.det.lista.prod.DI.lista)}}}):e._e()],2)],1)],1)]):e._e(),e.outrosNFe.visaoCompletaProduto?a("div",{staticClass:"bg-white q-pa-sm q-my-md no-shadow"},[a("div",{staticClass:"col-12 no-shadow"},[a("q-collapsible",{staticClass:"border-1 q-item-borders q-my-sm",attrs:{icon:"mdi-airplane-takeoff",label:"Exportação"}},[a("q-list",{staticStyle:{border:"none"}},[e._l(e.item_det.prod.detExport,function(t,o){return a("q-item",{key:o},[a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 ",attrs:{dica:e.metadados.infNFe.det.lista.prod.detExport.lista.nDraw._doc,erro:e.$v.infNFe.det.$each[0].prod.detExport.$each[0].nDraw.$invalid,"somente-leitura":!e.emDigitacao,"erro-rotulo":t.nDraw_erro,rotulo:e.metadados.infNFe.det.lista.prod.detExport.lista.nDraw._titulo,tipo:"texto"},model:{value:t.nDraw,callback:function(a){e.$set(t,"nDraw",a)},expression:"item_detExport.nDraw"}})],1),a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.det.lista.prod.detExport.lista.exportInd.visivel._doc,"somente-leitura":!e.emDigitacao,rotulo:e.metadados.infNFe.det.lista.prod.detExport.lista.exportInd.visivel._titulo,tipo:"logico"},model:{value:t.exportInd.visivel,callback:function(a){e.$set(t.exportInd,"visivel",a)},expression:"item_detExport.exportInd.visivel"}})],1),t.exportInd.visivel?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.prod.detExport.lista.exportInd.nRE._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.detExport.$each[0].exportInd.nRE.$invalid,"erro-rotulo":t.exportInd.nRE_erro,rotulo:e.metadados.infNFe.det.lista.prod.detExport.lista.exportInd.nRE._titulo,tipo:"texto"},model:{value:t.exportInd.nRE,callback:function(a){e.$set(t.exportInd,"nRE",a)},expression:"item_detExport.exportInd.nRE"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.prod.detExport.lista.exportInd.chNFe._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.detExport.$each[0].exportInd.chNFe.$invalid,"erro-rotulo":t.exportInd.chNFe_erro,maxlength:"44",rotulo:e.metadados.infNFe.det.lista.prod.detExport.lista.exportInd.chNFe._titulo,tipo:"texto"},model:{value:t.exportInd.chNFe,callback:function(a){e.$set(t.exportInd,"chNFe",a)},expression:"item_detExport.exportInd.chNFe"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.det.lista.prod.detExport.lista.exportInd.qExport._doc,"somente-leitura":!e.emDigitacao,erro:e.$v.infNFe.det.$each[0].prod.detExport.$each[0].exportInd.qExport.$invalid,"erro-rotulo":t.exportInd.qExport_erro,rotulo:e.metadados.infNFe.det.lista.prod.detExport.lista.exportInd.qExport._titulo,tipo:"decimal",decimals:"4"},model:{value:t.exportInd.qExport,callback:function(a){e.$set(t.exportInd,"qExport",a)},expression:"item_detExport.exportInd.qExport"}})],1)]):e._e()]),"Em digitação"==e.situacao?a("q-btn",{staticClass:"bt-negative q-my-sm",attrs:{color:"negative",label:"Remover item",size:"xs",icon:"remove",outline:""},on:{click:function(t){e.removerLinhaDaLista(e.item_det.prod.detExport,o)}}}):e._e()],1)],1)}),"Em digitação"==e.situacao?a("q-btn",{attrs:{color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm"},on:{click:function(t){e.adicionarLinhaNaLista(e.item_det.prod.detExport,e.metadados.infNFe.det.lista.prod.detExport.lista)}}}):e._e()],2)],1)],1)]):e._e()])])]):e._e(),a("PromptCfop",{on:{selecionar:e.selecionarCfop},model:{value:e.modalCfop,callback:function(t){e.modalCfop=t},expression:"modalCfop"}}),a("PromptNcm",{on:{selecionar:e.selecionarNcm},model:{value:e.modalNcm,callback:function(t){e.modalNcm=t},expression:"modalNcm"}})],1)},u_=[];d_._withStripped=!0;var m_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("prompt",{attrs:{value:e.value,prop:{dados:e.dados,esquema:e.esquema,ordens:e.ordens}},on:{input:e.eventoInput,hide:e.aoFechar},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.itens;return[0===o.length?a("div",{staticClass:"bg-light q-pa-lg round-borders text-black text-center"},[e._v("\n      Não encontramos CFOP com os critérios selecionados.\n    ")]):e._e(),a("q-list",{attrs:{link:"","no-border":"",separator:""}},e._l(o,function(t){return a("q-item",{key:t.id,nativeOn:{click:function(a){e.selecionar(t)}}},[a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v(e._s(t.descr))]),a("q-item-tile",{attrs:{sublabel:""}},[a("strong",[e._v("Código CFOP: ")]),e._v(e._s(t.cfop))]),a("q-item-tile",{attrs:{sublabel:""}},[a("strong",[e._v("Classe: ")]),e._v(e._s(e.classeCfop(t.cfop)))])],1)],1)}))]}}])})},p_=[];m_._withStripped=!0;var v_=[{valor:"1",rotulo:"1 - Entrada ou aquisição de serviços do estado"},{valor:"2",rotulo:"2 - Entrada ou aquisição de serviços de outros estados"},{valor:"3",rotulo:"3 - Entrada ou aquisição de serviços do exterior"},{valor:"5",rotulo:"5 - Saídas ou prestações de serviços para o estado"},{valor:"6",rotulo:"6 - Saídas ou prestações de serviços para outros estados"},{valor:"7",rotulo:"7 - Saídas ou prestações de serviços para o exterior"}],h_={components:{Prompt:Zf},computed:{botoes:function(){return[]}},data:function(){return{dados:[],esquema:[{prioridade:.8,rotulo:"Descrição",tipo:"texto",valor:"descr"},{prioridade:.8,rotulo:"CFOP",tipo:"texto",valor:"cfop"}],ordens:[{icone:"arrow_downward",rotulo:"Descrição",valor:"descr"},{icone:"arrow_upward",ordem:"desc",rotulo:"Descrição invertida",valor:"descr"},{icone:"arrow_downward",padrao:!0,rotulo:"CFOP",valor:"cfop"},{icone:"arrow_upward",ordem:"desc",rotulo:"CFOP invertido",valor:"cfop"}]}},methods:{aoFechar:function(){this.$emit("hide")},classeCfop:function(e){var t=String(e||"").substr(0,1);return(v_.find(function(e){return e.valor===t})||{}).rotulo||""},eventoInput:function(e){this.$emit("input",e)},selecionar:function(e){this.$emit("selecionar",e),this.$emit("input",!1)}},props:{prop:{default:function(){return{filtros:[],titulo:""}},type:Object},value:{required:!0,type:Boolean}},watch:{value:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,vs().list("cfop");case 3:this.dados=e.sent,e.next=7;break;case 6:this.dados=[];case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}},f_=h_,C_=Object(sc["a"])(f_,m_,p_,!1,null,null,null);C_.options.__file="PromptCfop.vue";var b_=C_.exports,g_={components:{Campo:Sl,PromptCfop:b_,PromptNcm:PC},computed:{emDigitacao:function(){return"Em digitação"===this.outrosNFe.situacao},alteraBC:function(){return this.outrosNFe.automatico.calculaBC||"Em digitação"!==this.outrosNFe.situacao}},data:function(){return{descricaoNcm:"",descricaoCfop:"",modalNcm:!1,modalCfop:!1,modalProduto:!1}},methods:{abrirModalCfop:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.modalCfop=!0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),abrirModalNcm:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.modalNcm=!0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log("NFeProdutosModal","atualizar()"),this.item_det&&this.item_det.prod){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,this.item_det.prod.NCM){e.next=8;break}e.t0="",e.next=14;break;case 8:return e.next=10,Zn.ncm.le({ncm:this.item_det.prod.NCM});case 10:if(e.t1=e.sent[0].descricao,e.t1){e.next=13;break}e.t1="";case 13:e.t0=e.t1;case 14:this.descricaoNcm=e.t0,e.next=20;break;case 17:e.prev=17,e.t2=e["catch"](3),this.$q.notifyError("Ocorreu erro ao consultar NCM",e.t2);case 20:if(e.prev=20,t=Number(this.item_det.prod.CFOP),t){e.next=26;break}e.t3="",e.next=35;break;case 26:return e.next=28,Zn.cfop.le({cfop:t});case 28:if(e.t5=e.sent[0],e.t5){e.next=31;break}e.t5={};case 31:if(e.t4=e.t5.descr,e.t4){e.next=34;break}e.t4="";case 34:e.t3=e.t4;case 35:this.descricaoCfop=e.t3,!this.item_det.prod.noXml_classeCFOP&&t&&(this.item_det.prod.noXml_classeCFOP=String(t).substr(0,1)),e.next=42;break;case 39:e.prev=39,e.t6=e["catch"](20),this.$q.notifyError("Ocorreu erro ao consultar CFOP",e.t6);case 42:case"end":return e.stop()}},e,this,[[3,17],[20,39]])}));return function(){return e.apply(this,arguments)}}(),selecionarCfop:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.item_det.prod.CFOP=String(t.cfop||""),this.descricaoCfop=t.descr||"";case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),selecionarNcm:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.item_det.prod.NCM=t.ncm||"",this.descricaoNcm=t.descricao||"";case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},mixins:[Xg],props:{nota:{required:!0,type:Object},item_det:{required:!1,type:Object},situacao:String},watch:{item_det:function(){this.atualizar()}},created:function(){ei.log("NFeProdutosModal","created()"),this.atualizar()}},x_=g_,__=(a("098e"),Object(sc["a"])(x_,d_,u_,!1,null,null,null));__.options.__file="NFeProdutosModal.vue";var q_=__.exports,S_={components:{Avatar:Fc,Campo:Sl,NFeProdutosModal:q_,PromptItemNovo:Zv},computed:{},data:function(){return{itemDetModal:null,itemDetPrompt:null,promptItem:!1}},methods:{abrirModalItem:function(e){ei.log("NFeProdutos","abrirModalItem()",e),this.itemDetModal=e,this.$refs.modalItem.modalProduto=!0},adicionarItem:function(e,t){this.itemDetModal=null,this.adicionarLinhaNaLista(e,t),this.calcularTotais()},abrirPromptItem:function(e){ei.log("NFeProdutos","abrirPromptItem()",e),this.promptItem=!0,this.itemDetPrompt=e},selecionarItem:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=Object.keys(t)[0],o=t[a].item,ei.log("NFeProdutos","selecionarItem()",a,o.descricao),e.prev=3,!a){e.next=20;break}return e.next=7,this.obterItem(this.itemDetPrompt.prod,o);case 7:return e.next=9,this.$db.configuracoes.leValorNumerico("imposto.versao");case 9:if(i=e.sent,2!==i){e.next=15;break}return e.next=13,this.obterConfiguracaoImpostoV2(this.itemDetPrompt,o);case 13:e.next=17;break;case 15:return e.next=17,this.obterConfiguracaoImposto(this.itemDetPrompt,o);case 17:return e.next=19,this.obterAliquotasTributosIbpt(this.itemDetPrompt,o);case 19:this.calcularTotais();case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](3),this.$q.notifyError("Não foi possível carregar o produto",e.t0);case 25:case"end":return e.stop()}},e,this,[[3,22]])}));return function(t){return e.apply(this,arguments)}}(),obterAliquotasTributosIbpt:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("NFeProdutos","obterAliquotasTributosIbpt",a),e.next=3,He().nfeIbpt.where("codigo").equals(Number(a.ncm)).toArray();case 3:if(o=e.sent,o&&0!==o.length){e.next=7;break}return console.log("Não encontrado alíquotas para calculo do valor aproximado de tributos do NCM: ".concat(a.ncm,". Atualize sua tabela IBPT.")),e.abrupt("return");case 7:i=o.filter(function(e){return e.idContato===n.outrosNFe.idContatoEmitente}),r=i.length?i:o,s=r.reduce(function(e,t){return!e||e.vigenciaFim<t.vigenciaFim?t:e},null),s.vigenciaFim<na()&&console.log("Informações vencidas para para o calculo do valor aproximado de tributos do NCM: ".concat(a.ncm,". Atualize sua tabela IBPT.")),t.imposto.noXml_pTribImp=Number(s.importadosFederal||0),t.imposto.noXml_pTribFed=Number(s.nacionalFederal||0),t.imposto.noXml_pTribEst=Number(s.estadual||0),t.imposto.noXml_pTribMun=Number(s.municipal||0);case 15:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),obterItem:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:o=String(a.codigoBarras||"").padStart(13,"0"),o.startsWith("999")&&(o="SEM GTIN"),t.cProd=String(a.referencia||a.codigoItem||"0").trim(),t.cEAN=o,t.xProd=ro(a.descricao),t.NCM=String(a.ncm||""),t.uCom=String(a.unidade||"UN"),t.qCom=1,t.vUnCom=Number(a.valorVenda)||0,t.noXml_id=a.id,t.noXml_imagem=a.imagem;case 11:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),obterConfiguracaoImposto:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n,c,l,d,u,m=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("NFeProdutos","obterConfiguracaoImposto"),o="Produto '".concat(t.prod.xProd,"'"),Po(!this.outrosNFe.idContatoEmitente,"Configuração de imposto não pode ser importada sem selecionar a Empresa Emitente"),Po(!this.infNFe.emit.enderEmit.UF,"Configuração de imposto não pode ser importada sem UF do Emitente"),Po(!this.infNFe.dest.enderDest.UF,"Configuração de imposto não pode ser importada sem UF do Destinatário"),Po(!a.ncm,"".concat(o," sem cadastro de NCM")),e.next=8,He()._ncm.where({ncm:a.ncm}).first();case 8:return i=e.sent,Po(!i,"".concat(o," com NCM '").concat(a.ncm||"","' inválido")),e.next=12,He().documentoOperacao.filter(function(e){return"Venda"===e.descricao}).first();case 12:return r=e.sent.idCfop,Po(!r,"Sistama sem configuração de CFOP para operação de venda"),e.next=16,He().cfop.get(r);case 16:return s=e.sent,Po(!s,"Sistama com configuração de CFOP inválida"),ei.log("NFeProdutos","dadosNcm.id: ".concat(i.id," dadosCfop.id: ").concat(s.id," idContatoEmitente: ").concat(this.outrosNFe.idContatoEmitente)),e.next=21,He().impostoConfiguracao.where("idNcm").equals(i.id).filter(function(e){return e.idCfop===s.id&&e.idEmitente===m.outrosNFe.idContatoEmitente&&e.ufOrigem===m.infNFe.emit.enderEmit.UF&&e.ufDestino===m.infNFe.dest.enderDest.UF}).first();case 21:return n=e.sent,ei.log("NFeProdutos","impostoConfiguracao",n),c="Verifique a configuração do imposto para "+"NCM: ".concat(a.ncm||"",", ")+"CFOP: ".concat(s.cfop||"",", ")+"CNPJ: ".concat(this.infNFe.emit.escolhas.CNPJ||"",", ")+"origem: ".concat(this.infNFe.emit.enderEmit.UF||"",", ")+"destino: ".concat(this.infNFe.dest.enderDest.UF||"","."),Po(!n,"".concat(o," sem configuração de imposto. ").concat(c)),l=t.prod,d=t.imposto,e.prev=27,l.CFOP=(s.cfop||0).toString(),e.next=31,this.obterImpostoParametro(n.idOrigem);case 31:return d.noXml_orig=e.sent,e.next=34,this.obterImpostoParametro(n.idCst);case 34:return d.noXml_CST=d.noXml_CSOSN=e.sent,d.noXml_pICMS=n.aliqIcmsUFOrigem||n.aliqIcms||0,d.noXml_pRedBC=n.percRedBcIcms||0,d.noXml_pFCP=n.aliqFcp||0,e.next=40,this.obterImpostoParametro(n.idTipoTribPis);case 40:return d.noXml_CSTPis=e.sent,d.noXml_pPIS=n.aliqPis||0,e.next=44,this.obterImpostoParametro(n.idTipoTribCofins);case 44:if(d.noXml_CSTCofins=e.sent,d.noXml_pCOFINS=n.aliqCofins||0,!n.idCest){e.next=51;break}return e.next=49,this.obterImpostoParametro(n.idCest);case 49:u=e.sent,u&&(l.opcional.visivel=!0,l.opcional.CEST=Pa(u));case 51:e.next=57;break;case 53:e.prev=53,e.t0=e["catch"](27),console.error(e.t0),Po(!0,"".concat(o," com erro na configuração de imposto. ").concat(c));case 57:case"end":return e.stop()}},e,this,[[27,53]])}));return function(t,a){return e.apply(this,arguments)}}(),obterConfiguracaoImpostoV2:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("NFeProdutos","obterConfiguracaoImposto"),o="Produto '".concat(t.prod.xProd,"'"),Po(!this.outrosNFe.idContatoEmitente,"Configuração de imposto não pode ser importada sem selecionar a Empresa Emitente"),Po(!this.infNFe.emit.enderEmit.UF,"Configuração de imposto não pode ser importada sem UF do Emitente"),Po(!this.infNFe.dest.enderDest.UF,"Configuração de imposto não pode ser importada sem UF do Destinatário"),Po(!a.ncm,"".concat(o," sem cadastro de NCM")),e.next=8,He().documentoOperacao.filter(function(e){return"Venda"===e.descricao}).first();case 8:return i=e.sent.idCfop,Po(!i,"Sistama sem configuração de CFOP para operação de venda"),e.next=12,He().cfop.get(i);case 12:return r=e.sent,Po(!r||!r.cfop,"Sistama com configuração de CFOP inválida"),e.next=16,He().contato.get(this.outrosNFe.idContatoEmitente);case 16:if(e.t0=e.sent,e.t0){e.next=19;break}e.t0={};case 19:return s=e.t0,e.next=22,He().contato.get(this.outrosNFe.idContatoDestinatario);case 22:if(e.t1=e.sent,e.t1){e.next=25;break}e.t1={};case 25:return n=e.t1,e.next=28,Ip({infNFe:this.infNFe,det:t,descricaoProduto:o,item:a,cfop:r.cfop,empresa:s,destinatario:n});case 28:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),obterImpostoParametro:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return Po(!t,"Configuração de imposto sem informação completa"),e.next=3,He().impostoParametro.get(t);case 3:return a=e.sent,o=a?a.numero.trim():void 0,Po(!o,"Configuração de imposto inválida"),e.abrupt("return",o);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),removerItem:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.itemDetModal=null,e.next=3,this.$nextTick();case 3:t.splice(a,1);case 4:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},mixins:[Xg],props:{nota:{required:!0,type:Object},situacao:String},created:function(){ei.log("NFeProdutos","created()")}},I_=S_,F_=(a("0068"),Object(sc["a"])(I_,c_,l_,!1,null,null,null));F_.options.__file="NFeProdutos.vue";var w_=F_.exports,y_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-collapsible",{staticClass:" border-1 q-my-sm",attrs:{icon:"attach_file",label:e.metadados.infNFe.ide.NFref._titulo}},[a("q-list",{staticClass:"no-border q-pa-none"},e._l(e.infNFe.ide.NFref,function(t,o){return a("q-item",{key:o,staticClass:"border-1 q-mb-xs q-px-none"},[a("q-item-main",[a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("q-radio",{staticClass:"col-auto",attrs:{label:"refNFe",val:"refNFe"},model:{value:t.escolhas.valor_escolha,callback:function(a){e.$set(t.escolhas,"valor_escolha",a)},expression:"item_NFref.escolhas.valor_escolha"}}),a("q-radio",{staticClass:"col-auto",attrs:{label:"refNF",val:"refNF"},model:{value:t.escolhas.valor_escolha,callback:function(a){e.$set(t.escolhas,"valor_escolha",a)},expression:"item_NFref.escolhas.valor_escolha"}}),a("q-radio",{staticClass:"col-auto",attrs:{label:"refNFP",val:"refNFP"},model:{value:t.escolhas.valor_escolha,callback:function(a){e.$set(t.escolhas,"valor_escolha",a)},expression:"item_NFref.escolhas.valor_escolha"}}),a("q-radio",{staticClass:"col-auto",attrs:{label:"refCTe",val:"refCTe"},model:{value:t.escolhas.valor_escolha,callback:function(a){e.$set(t.escolhas,"valor_escolha",a)},expression:"item_NFref.escolhas.valor_escolha"}}),a("q-radio",{staticClass:"col-auto",attrs:{label:"refECF",val:"refECF"},model:{value:t.escolhas.valor_escolha,callback:function(a){e.$set(t.escolhas,"valor_escolha",a)},expression:"item_NFref.escolhas.valor_escolha"}}),a("div",{staticClass:"col justify-end",staticStyle:{display:"flex"}},[a("q-btn",{staticClass:"bt-negative bt-negative ",attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(t){e.removerLinhaDaLista(e.infNFe.ide.NFref,o)}}})],1)],1),"refNFe"==t.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFe._doc,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNFe.$invalid,"erro-rotulo":t.escolhas.refNFe_erro,maxlength:"44",rotulo:"Chave de Acesso da NFs referenciadas",tipo:"texto"},model:{value:t.escolhas.refNFe,callback:function(a){e.$set(t.escolhas,"refNFe",a)},expression:"item_NFref.escolhas.refNFe"}})],1)]):e._e(),"refNF"==t.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.cUF._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNF.cUF.$invalid,"erro-rotulo":t.escolhas.refNF.cUF_erro,opcoes:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.cUF._enumeration,"rotulo-fixo":"Cód. da UF do emitente do doc. fiscal",tipo:"seletor"},model:{value:t.escolhas.refNF.cUF,callback:function(a){e.$set(t.escolhas.refNF,"cUF",a)},expression:"item_NFref.escolhas.refNF.cUF"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.AAMM._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNF.AAMM.$invalid,"erro-rotulo":t.escolhas.refNF.AAMM_erro,rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.AAMM._titulo,tipo:"texto"},model:{value:t.escolhas.refNF.AAMM,callback:function(a){e.$set(t.escolhas.refNF,"AAMM",a)},expression:"item_NFref.escolhas.refNF.AAMM"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.CNPJ._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNF.CNPJ.$invalid,"erro-rotulo":t.escolhas.refNF.CNPJ_erro,maxlength:"14",rotulo:"CNPJ do emitente do doc. fiscal",tipo:"texto"},model:{value:t.escolhas.refNF.CNPJ,callback:function(a){e.$set(t.escolhas.refNF,"CNPJ",a)},expression:"item_NFref.escolhas.refNF.CNPJ"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.mod._doc,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNF.mod.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":t.escolhas.refNF.mod_erro,opcoes:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.mod._enumeration,"rotulo-fixo":e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.mod._titulo,tipo:"seletor"},model:{value:t.escolhas.refNF.mod,callback:function(a){e.$set(t.escolhas.refNF,"mod",a)},expression:"item_NFref.escolhas.refNF.mod"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.serie._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNF.serie.$invalid,"erro-rotulo":t.escolhas.refNF.serie_erro,rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.serie._titulo,tipo:"texto"},model:{value:t.escolhas.refNF.serie,callback:function(a){e.$set(t.escolhas.refNF,"serie",a)},expression:"item_NFref.escolhas.refNF.serie"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.nNF._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNF.nNF.$invalid,"erro-rotulo":t.escolhas.refNF.nNF_erro,rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.nNF._titulo,tipo:"texto"},model:{value:t.escolhas.refNF.nNF,callback:function(a){e.$set(t.escolhas.refNF,"nNF",a)},expression:"item_NFref.escolhas.refNF.nNF"}})],1)]):e._e(),"refNFP"==t.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.cUF._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNFP.cUF.$invalid,"erro-rotulo":t.escolhas.refNFP.cUF_erro,opcoes:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.cUF._enumeration,"rotulo-fixo":e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.cUF._titulo,tipo:"seletor"},model:{value:t.escolhas.refNFP.cUF,callback:function(a){e.$set(t.escolhas.refNFP,"cUF",a)},expression:"item_NFref.escolhas.refNFP.cUF"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.AAMM._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNFP.AAMM.$invalid,"erro-rotulo":t.escolhas.refNFP.AAMM_erro,rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.AAMM._titulo,tipo:"texto"},model:{value:t.escolhas.refNFP.AAMM,callback:function(a){e.$set(t.escolhas.refNFP,"AAMM",a)},expression:"item_NFref.escolhas.refNFP.AAMM"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12 col-lg-3 q-pt-lg"},[a("q-radio",{attrs:{label:"CNPJ",val:"CNPJ"},model:{value:t.escolhas.refNFP.escolhas.valor_escolha,callback:function(a){e.$set(t.escolhas.refNFP.escolhas,"valor_escolha",a)},expression:"item_NFref.escolhas.refNFP.escolhas.valor_escolha"}}),a("q-radio",{staticClass:"q-ml-md",attrs:{label:"CPF",val:"CPF"},model:{value:t.escolhas.refNFP.escolhas.valor_escolha,callback:function(a){e.$set(t.escolhas.refNFP.escolhas,"valor_escolha",a)},expression:"item_NFref.escolhas.refNFP.escolhas.valor_escolha"}})],1),"CNPJ"==t.escolhas.refNFP.escolhas.valor_escolha?a("div",{staticClass:"col-md-9"},[a("campo",{attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.escolhas.CNPJ._doc,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNFP.escolhas.CNPJ.$invalid,"erro-rotulo":t.escolhas.refNFP.escolhas.CNPJ_erro,maxlength:"14",rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.escolhas.CNPJ._titulo,tipo:"texto"},model:{value:t.escolhas.refNFP.escolhas.CNPJ,callback:function(a){e.$set(t.escolhas.refNFP.escolhas,"CNPJ",a)},expression:"item_NFref.escolhas.refNFP.escolhas.CNPJ"}})],1):e._e(),"CPF"==t.escolhas.refNFP.escolhas.valor_escolha?a("div",{staticClass:"col-md-9"},[a("campo",{attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.escolhas.CPF._doc,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNFP.escolhas.CPF.$invalid,"erro-rotulo":t.escolhas.refNFP.escolhas.CPF_erro,maxlength:"11",rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.escolhas.CPF._titulo,tipo:"texto"},model:{value:t.escolhas.refNFP.escolhas.CPF,callback:function(a){e.$set(t.escolhas.refNFP.escolhas,"CPF",a)},expression:"item_NFref.escolhas.refNFP.escolhas.CPF"}})],1):e._e()]),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.IE._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNFP.IE.$invalid,"erro-rotulo":t.escolhas.refNFP.IE_erro,maxlength:"14",rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.IE._titulo,tipo:"texto"},model:{value:t.escolhas.refNFP.IE,callback:function(a){e.$set(t.escolhas.refNFP,"IE",a)},expression:"item_NFref.escolhas.refNFP.IE"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.mod._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNFP.mod.$invalid,"erro-rotulo":t.escolhas.refNFP.mod_erro,opcoes:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.mod._enumeration,"rotulo-fixo":e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.mod._titulo,tipo:"seletor"},model:{value:t.escolhas.refNFP.mod,callback:function(a){e.$set(t.escolhas.refNFP,"mod",a)},expression:"item_NFref.escolhas.refNFP.mod"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.serie._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNFP.serie.$invalid,"erro-rotulo":t.escolhas.refNFP.serie_erro,rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.serie._titulo,tipo:"texto"},model:{value:t.escolhas.refNFP.serie,callback:function(a){e.$set(t.escolhas.refNFP,"serie",a)},expression:"item_NFref.escolhas.refNFP.serie"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.nNF._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNFP.nNF.$invalid,"erro-rotulo":t.escolhas.refNFP.nNF_erro,rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.nNF._titulo,tipo:"texto"},model:{value:t.escolhas.refNFP.nNF,callback:function(a){e.$set(t.escolhas.refNFP,"nNF",a)},expression:"item_NFref.escolhas.refNFP.nNF"}})],1)]):e._e(),"refCTe"==t.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refCTe._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refCTe.$invalid,"erro-rotulo":t.escolhas.refCTe_erro,maxlength:"44",rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refCTe._titulo,tipo:"texto"},model:{value:t.escolhas.refCTe,callback:function(a){e.$set(t.escolhas,"refCTe",a)},expression:"item_NFref.escolhas.refCTe"}})],1)]):e._e(),"refECF"==t.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-lg-12",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refECF.mod._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refECF.mod.$invalid,"erro-rotulo":t.escolhas.refECF.mod_erro,opcoes:e.metadados.infNFe.ide.NFref.lista.escolhas.refECF.mod._enumeration,"rotulo-fixo":"Cód. do modelo do doc. fiscal",tipo:"seletor"},model:{value:t.escolhas.refECF.mod,callback:function(a){e.$set(t.escolhas.refECF,"mod",a)},expression:"item_NFref.escolhas.refECF.mod"}}),a("campo",{staticClass:"col-12 col-lg-6",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refECF.nECF._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refECF.nECF.$invalid,"erro-rotulo":t.escolhas.refECF.nECF_erro,rotulo:"Ordem sequencial do ECF vinculado à NFe",tipo:"texto"},model:{value:t.escolhas.refECF.nECF,callback:function(a){e.$set(t.escolhas.refECF,"nECF",a)},expression:"item_NFref.escolhas.refECF.nECF"}}),a("campo",{staticClass:"col-12 col-lg-6",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refECF.nCOO._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refECF.nCOO.$invalid,"erro-rotulo":t.escolhas.refECF.nCOO_erro,rotulo:"COO vinculado à NFe",tipo:"texto"},model:{value:t.escolhas.refECF.nCOO,callback:function(a){e.$set(t.escolhas.refECF,"nCOO",a)},expression:"item_NFref.escolhas.refECF.nCOO"}})],1)]):e._e()])])],1)})),"Em digitação"==e.situacao?a("q-btn",{attrs:{color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm"},on:{click:function(t){e.adicionarLinhaNaLista(e.infNFe.ide.NFref,e.metadados.infNFe.ide.NFref.lista)}}}):e._e()],1),a("q-modal",{attrs:{maximized:""},model:{value:e.modalReferenciada,callback:function(t){e.modalReferenciada=t},expression:"modalReferenciada"}},[a("q-layout-header",{attrs:{reveal:""}},[a("q-toolbar",{staticClass:"BarraTopo"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"}}),a("q-toolbar-title",[e._v("\n          Adicionar NFe Referenciada\n        ")]),a("q-btn",{staticClass:"no-shadow",attrs:{color:"primary",label:"Salvar",icon:"save"}})],1)],1),a("q-modal-layout",{staticStyle:{background:"#eee"}},[a("div",{staticClass:"layout-padding row justify-center"},[a("div",{staticStyle:{width:"1280px","max-width":"90vw",background:"white"}},[a("q-card-title",{staticClass:"q-py-sm q-px-none"},[e._v(e._s(e.metadados.infNFe.ide.NFref._titulo)+": ")]),a("q-list",{staticClass:"no-border q-pa-none"},e._l(e.infNFe.ide.NFref,function(t,o){return a("q-item",{key:o,staticClass:"border-1 q-mb-xs q-px-none"},[a("q-item-main",[a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row q-px-md gutter-x-sm"},[a("q-radio",{attrs:{label:"refNFe",val:"refNFe"},model:{value:t.escolhas.valor_escolha,callback:function(a){e.$set(t.escolhas,"valor_escolha",a)},expression:"item_NFref.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"refNF",val:"refNF"},model:{value:t.escolhas.valor_escolha,callback:function(a){e.$set(t.escolhas,"valor_escolha",a)},expression:"item_NFref.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"refNFP",val:"refNFP"},model:{value:t.escolhas.valor_escolha,callback:function(a){e.$set(t.escolhas,"valor_escolha",a)},expression:"item_NFref.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"refCTe",val:"refCTe"},model:{value:t.escolhas.valor_escolha,callback:function(a){e.$set(t.escolhas,"valor_escolha",a)},expression:"item_NFref.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"refECF",val:"refECF"},model:{value:t.escolhas.valor_escolha,callback:function(a){e.$set(t.escolhas,"valor_escolha",a)},expression:"item_NFref.escolhas.valor_escolha"}})],1),"refNFe"==t.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row q-px-md gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFe._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNFe.$invalid,"erro-rotulo":t.escolhas.refNFe_erro,maxlength:"44",rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFe._titulo,tipo:"texto"},model:{value:t.escolhas.refNFe,callback:function(a){e.$set(t.escolhas,"refNFe",a)},expression:"item_NFref.escolhas.refNFe"}})],1)]):e._e(),"refNF"==t.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row q-px-md gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.cUF._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNF.cUF.$invalid,"erro-rotulo":t.escolhas.refNF.cUF_erro,opcoes:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.cUF._enumeration,"rotulo-fixo":e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.cUF._titulo,tipo:"seletor"},model:{value:t.escolhas.refNF.cUF,callback:function(a){e.$set(t.escolhas.refNF,"cUF",a)},expression:"item_NFref.escolhas.refNF.cUF"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.AAMM._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNF.AAMM.$invalid,"erro-rotulo":t.escolhas.refNF.AAMM_erro,rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.AAMM._titulo,tipo:"texto"},model:{value:t.escolhas.refNF.AAMM,callback:function(a){e.$set(t.escolhas.refNF,"AAMM",a)},expression:"item_NFref.escolhas.refNF.AAMM"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.CNPJ._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNF.CNPJ.$invalid,"erro-rotulo":t.escolhas.refNF.CNPJ_erro,maxlength:"14",rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.CNPJ._titulo,tipo:"texto"},model:{value:t.escolhas.refNF.CNPJ,callback:function(a){e.$set(t.escolhas.refNF,"CNPJ",a)},expression:"item_NFref.escolhas.refNF.CNPJ"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.mod._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNF.mod.$invalid,"erro-rotulo":t.escolhas.refNF.mod_erro,opcoes:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.mod._enumeration,"rotulo-fixo":e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.mod._titulo,tipo:"seletor"},model:{value:t.escolhas.refNF.mod,callback:function(a){e.$set(t.escolhas.refNF,"mod",a)},expression:"item_NFref.escolhas.refNF.mod"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.serie._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNF.serie.$invalid,"erro-rotulo":t.escolhas.refNF.serie_erro,rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.serie._titulo,tipo:"texto"},model:{value:t.escolhas.refNF.serie,callback:function(a){e.$set(t.escolhas.refNF,"serie",a)},expression:"item_NFref.escolhas.refNF.serie"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.nNF._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNF.nNF.$invalid,"erro-rotulo":t.escolhas.refNF.nNF_erro,rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refNF.nNF._titulo,tipo:"texto"},model:{value:t.escolhas.refNF.nNF,callback:function(a){e.$set(t.escolhas.refNF,"nNF",a)},expression:"item_NFref.escolhas.refNF.nNF"}})],1)]):e._e(),"refNFP"==t.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row q-px-md gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.cUF._doc,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNFP.cUF.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":t.escolhas.refNFP.cUF_erro,opcoes:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.cUF._enumeration,"rotulo-fixo":e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.cUF._titulo,tipo:"seletor"},model:{value:t.escolhas.refNFP.cUF,callback:function(a){e.$set(t.escolhas.refNFP,"cUF",a)},expression:"item_NFref.escolhas.refNFP.cUF"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.AAMM._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNFP.AAMM.$invalid,"erro-rotulo":t.escolhas.refNFP.AAMM_erro,rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.AAMM._titulo,tipo:"texto"},model:{value:t.escolhas.refNFP.AAMM,callback:function(a){e.$set(t.escolhas.refNFP,"AAMM",a)},expression:"item_NFref.escolhas.refNFP.AAMM"}})],1),a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row q-px-md gutter-x-sm"},[a("q-radio",{attrs:{label:"CNPJ",val:"CNPJ"},model:{value:t.escolhas.refNFP.escolhas.valor_escolha,callback:function(a){e.$set(t.escolhas.refNFP.escolhas,"valor_escolha",a)},expression:"item_NFref.escolhas.refNFP.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"CPF",val:"CPF"},model:{value:t.escolhas.refNFP.escolhas.valor_escolha,callback:function(a){e.$set(t.escolhas.refNFP.escolhas,"valor_escolha",a)},expression:"item_NFref.escolhas.refNFP.escolhas.valor_escolha"}})],1),"CNPJ"==t.escolhas.refNFP.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row q-px-md gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.escolhas.CNPJ._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNFP.escolhas.CNPJ.$invalid,"erro-rotulo":t.escolhas.refNFP.escolhas.CNPJ_erro,maxlength:"14",rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.escolhas.CNPJ._titulo,tipo:"texto"},model:{value:t.escolhas.refNFP.escolhas.CNPJ,callback:function(a){e.$set(t.escolhas.refNFP.escolhas,"CNPJ",a)},expression:"item_NFref.escolhas.refNFP.escolhas.CNPJ"}})],1)]):e._e(),"CPF"==t.escolhas.refNFP.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row q-px-md gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.escolhas.CPF._doc,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNFP.escolhas.CPF.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":t.escolhas.refNFP.escolhas.CPF_erro,maxlength:"11",rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.escolhas.CPF._titulo,tipo:"texto"},model:{value:t.escolhas.refNFP.escolhas.CPF,callback:function(a){e.$set(t.escolhas.refNFP.escolhas,"CPF",a)},expression:"item_NFref.escolhas.refNFP.escolhas.CPF"}})],1)]):e._e()]),a("div",{staticClass:"row q-px-md gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.IE._doc,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNFP.IE.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":t.escolhas.refNFP.IE_erro,maxlength:"14",rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.IE._titulo,tipo:"texto"},model:{value:t.escolhas.refNFP.IE,callback:function(a){e.$set(t.escolhas.refNFP,"IE",a)},expression:"item_NFref.escolhas.refNFP.IE"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.mod._doc,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNFP.mod.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":t.escolhas.refNFP.mod_erro,opcoes:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.mod._enumeration,"rotulo-fixo":e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.mod._titulo,tipo:"seletor"},model:{value:t.escolhas.refNFP.mod,callback:function(a){e.$set(t.escolhas.refNFP,"mod",a)},expression:"item_NFref.escolhas.refNFP.mod"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.serie._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNFP.serie.$invalid,"erro-rotulo":t.escolhas.refNFP.serie_erro,rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.serie._titulo,tipo:"texto"},model:{value:t.escolhas.refNFP.serie,callback:function(a){e.$set(t.escolhas.refNFP,"serie",a)},expression:"item_NFref.escolhas.refNFP.serie"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.nNF._doc,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refNFP.nNF.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":t.escolhas.refNFP.nNF_erro,rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refNFP.nNF._titulo,tipo:"texto"},model:{value:t.escolhas.refNFP.nNF,callback:function(a){e.$set(t.escolhas.refNFP,"nNF",a)},expression:"item_NFref.escolhas.refNFP.nNF"}})],1)]):e._e(),"refCTe"==t.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row q-px-md gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refCTe._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refCTe.$invalid,"erro-rotulo":t.escolhas.refCTe_erro,maxlength:"44",rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refCTe._titulo,tipo:"texto"},model:{value:t.escolhas.refCTe,callback:function(a){e.$set(t.escolhas,"refCTe",a)},expression:"item_NFref.escolhas.refCTe"}})],1)]):e._e(),"refECF"==t.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row q-px-md gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refECF.mod._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refECF.mod.$invalid,"erro-rotulo":t.escolhas.refECF.mod_erro,opcoes:e.metadados.infNFe.ide.NFref.lista.escolhas.refECF.mod._enumeration,"rotulo-fixo":e.metadados.infNFe.ide.NFref.lista.escolhas.refECF.mod._titulo,tipo:"seletor"},model:{value:t.escolhas.refECF.mod,callback:function(a){e.$set(t.escolhas.refECF,"mod",a)},expression:"item_NFref.escolhas.refECF.mod"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refECF.nECF._doc,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refECF.nECF.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":t.escolhas.refECF.nECF_erro,rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refECF.nECF._titulo,tipo:"texto"},model:{value:t.escolhas.refECF.nECF,callback:function(a){e.$set(t.escolhas.refECF,"nECF",a)},expression:"item_NFref.escolhas.refECF.nECF"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.ide.NFref.lista.escolhas.refECF.nCOO._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.ide.NFref.$each[0].escolhas.refECF.nCOO.$invalid,"erro-rotulo":t.escolhas.refECF.nCOO_erro,rotulo:e.metadados.infNFe.ide.NFref.lista.escolhas.refECF.nCOO._titulo,tipo:"texto"},model:{value:t.escolhas.refECF.nCOO,callback:function(a){e.$set(t.escolhas.refECF,"nCOO",a)},expression:"item_NFref.escolhas.refECF.nCOO"}})],1)]):e._e()]),a("q-btn",{staticClass:"bt-negative bt-negative",attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(t){e.removerLinhaDaLista(e.infNFe.ide.NFref,o)}}})],1)],1)})),"Em digitação"==e.situacao?a("q-btn",{attrs:{color:"positive",icon:"add",label:"Novo item",outline:"",size:"sm"},on:{click:function(t){e.adicionarLinhaNaLista(e.infNFe.ide.NFref,e.metadados.infNFe.ide.NFref.lista)}}}):e._e()],1)])])],1)],1)},N_=[];y_._withStripped=!0;var k_={components:{Campo:Sl},computed:{},data:function(){return{modalReferenciada:!1}},methods:{},mixins:[Xg],props:{nota:{required:!0,type:Object},situacao:String},created:function(){ei.log("NFeReferenciada","created()")}},M_=k_,P_=(a("8137"),Object(sc["a"])(M_,y_,N_,!1,null,null,null));P_.options.__file="NFeReferenciada.vue";var D_=P_.exports,E_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-collapsible",{staticClass:" border-1 q-my-sm",attrs:{icon:"attach_money",label:"Totais",opened:""}},[a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ICMSTot.vBC._doc,erro:e.$v.infNFe.total.ICMSTot.vBC.$invalid,"erro-rotulo":e.infNFe.total.ICMSTot.vBC_erro,rotulo:e.metadados.infNFe.total.ICMSTot.vBC._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.infNFe.total.ICMSTot.vBC,callback:function(t){e.$set(e.infNFe.total.ICMSTot,"vBC",t)},expression:"infNFe.total.ICMSTot.vBC"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ICMSTot.vICMS._doc,erro:e.$v.infNFe.total.ICMSTot.vICMS.$invalid,"erro-rotulo":e.infNFe.total.ICMSTot.vICMS_erro,rotulo:e.metadados.infNFe.total.ICMSTot.vICMS._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.infNFe.total.ICMSTot.vICMS,callback:function(t){e.$set(e.infNFe.total.ICMSTot,"vICMS",t)},expression:"infNFe.total.ICMSTot.vICMS"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ICMSTot.vBCST._doc,erro:e.$v.infNFe.total.ICMSTot.vBCST.$invalid,"erro-rotulo":e.infNFe.total.ICMSTot.vBCST_erro,rotulo:e.metadados.infNFe.total.ICMSTot.vBCST._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.infNFe.total.ICMSTot.vBCST,callback:function(t){e.$set(e.infNFe.total.ICMSTot,"vBCST",t)},expression:"infNFe.total.ICMSTot.vBCST"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ICMSTot.vST._doc,erro:e.$v.infNFe.total.ICMSTot.vST.$invalid,"erro-rotulo":e.infNFe.total.ICMSTot.vST_erro,rotulo:e.metadados.infNFe.total.ICMSTot.vST._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.infNFe.total.ICMSTot.vST,callback:function(t){e.$set(e.infNFe.total.ICMSTot,"vST",t)},expression:"infNFe.total.ICMSTot.vST"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ICMSTot.vProd._doc,erro:e.$v.infNFe.total.ICMSTot.vProd.$invalid,"erro-rotulo":e.infNFe.total.ICMSTot.vProd_erro,rotulo:e.metadados.infNFe.total.ICMSTot.vProd._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.infNFe.total.ICMSTot.vProd,callback:function(t){e.$set(e.infNFe.total.ICMSTot,"vProd",t)},expression:"infNFe.total.ICMSTot.vProd"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ICMSTot.vFrete._doc,erro:e.$v.infNFe.total.ICMSTot.vFrete.$invalid,"erro-rotulo":e.infNFe.total.ICMSTot.vFrete_erro,rotulo:e.metadados.infNFe.total.ICMSTot.vFrete._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.infNFe.total.ICMSTot.vFrete,callback:function(t){e.$set(e.infNFe.total.ICMSTot,"vFrete",t)},expression:"infNFe.total.ICMSTot.vFrete"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ICMSTot.vSeg._doc,erro:e.$v.infNFe.total.ICMSTot.vSeg.$invalid,"erro-rotulo":e.infNFe.total.ICMSTot.vSeg_erro,rotulo:e.metadados.infNFe.total.ICMSTot.vSeg._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.infNFe.total.ICMSTot.vSeg,callback:function(t){e.$set(e.infNFe.total.ICMSTot,"vSeg",t)},expression:"infNFe.total.ICMSTot.vSeg"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ICMSTot.vDesc._doc,erro:e.$v.infNFe.total.ICMSTot.vDesc.$invalid,"erro-rotulo":e.infNFe.total.ICMSTot.vDesc_erro,rotulo:e.metadados.infNFe.total.ICMSTot.vDesc._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.infNFe.total.ICMSTot.vDesc,callback:function(t){e.$set(e.infNFe.total.ICMSTot,"vDesc",t)},expression:"infNFe.total.ICMSTot.vDesc"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ICMSTot.vIPI._doc,erro:e.$v.infNFe.total.ICMSTot.vIPI.$invalid,"erro-rotulo":e.infNFe.total.ICMSTot.vIPI_erro,rotulo:e.metadados.infNFe.total.ICMSTot.vIPI._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.infNFe.total.ICMSTot.vIPI,callback:function(t){e.$set(e.infNFe.total.ICMSTot,"vIPI",t)},expression:"infNFe.total.ICMSTot.vIPI"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{dica:e.metadados.infNFe.total.ICMSTot.vOutro._doc,erro:e.$v.infNFe.total.ICMSTot.vOutro.$invalid,"erro-rotulo":e.infNFe.total.ICMSTot.vOutro_erro,rotulo:e.metadados.infNFe.total.ICMSTot.vOutro._titulo,tipo:"decimal",decimals:"2","somente-leitura":""},model:{value:e.infNFe.total.ICMSTot.vOutro,callback:function(t){e.$set(e.infNFe.total.ICMSTot,"vOutro",t)},expression:"infNFe.total.ICMSTot.vOutro"}})],1)])])],1)},T_=[];E_._withStripped=!0;var A_={components:{Campo:Sl},computed:{},data:function(){return{}},methods:{},mixins:[Xg],props:{nota:{required:!0,type:Object}},created:function(){ei.log("NFeTotais","created()")}},O_=A_,$_=(a("9324"),Object(sc["a"])(O_,E_,T_,!1,null,null,null));$_.options.__file="NFeTotais.vue";var R_=$_.exports,j_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-collapsible",{staticClass:" border-1 q-my-sm",attrs:{icon:"airplanemode_active",label:e.metadados.infNFe.transp._titulo}},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.transp.modFrete._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.transp.modFrete.$invalid,"erro-rotulo":e.infNFe.transp.modFrete_erro,opcoes:e.metadados.infNFe.transp.modFrete._enumeration,"rotulo-fixo":e.metadados.infNFe.transp.modFrete._titulo,tipo:"seletor"},model:{value:e.infNFe.transp.modFrete,callback:function(t){e.$set(e.infNFe.transp,"modFrete",t)},expression:"infNFe.transp.modFrete"}})],1),a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row q-py-md gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.transp.transporta.visivel._doc,rotulo:e.metadados.infNFe.transp.transporta.visivel._titulo,tipo:"logico"},model:{value:e.infNFe.transp.transporta.visivel,callback:function(t){e.$set(e.infNFe.transp.transporta,"visivel",t)},expression:"infNFe.transp.transporta.visivel"}})],1),e.infNFe.transp.transporta.visivel?a("div",[a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row gutter-x-sm"},[a("q-radio",{attrs:{label:"Não se aplica",val:"Não se aplica"},model:{value:e.infNFe.transp.transporta.escolhas.valor_escolha,callback:function(t){e.$set(e.infNFe.transp.transporta.escolhas,"valor_escolha",t)},expression:"infNFe.transp.transporta.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"CNPJ",val:"CNPJ"},model:{value:e.infNFe.transp.transporta.escolhas.valor_escolha,callback:function(t){e.$set(e.infNFe.transp.transporta.escolhas,"valor_escolha",t)},expression:"infNFe.transp.transporta.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"CPF",val:"CPF"},model:{value:e.infNFe.transp.transporta.escolhas.valor_escolha,callback:function(t){e.$set(e.infNFe.transp.transporta.escolhas,"valor_escolha",t)},expression:"infNFe.transp.transporta.escolhas.valor_escolha"}})],1),"CNPJ"==e.infNFe.transp.transporta.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.transp.transporta.escolhas.CNPJ._doc,erro:e.$v.infNFe.transp.transporta.escolhas.CNPJ.$invalid,"erro-rotulo":e.infNFe.transp.transporta.escolhas.CNPJ_erro,maxlength:"14",rotulo:e.metadados.infNFe.transp.transporta.escolhas.CNPJ._titulo,tipo:"texto"},model:{value:e.infNFe.transp.transporta.escolhas.CNPJ,callback:function(t){e.$set(e.infNFe.transp.transporta.escolhas,"CNPJ",t)},expression:"infNFe.transp.transporta.escolhas.CNPJ"}})],1)]):e._e(),"CPF"==e.infNFe.transp.transporta.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.transp.transporta.escolhas.CPF._doc,erro:e.$v.infNFe.transp.transporta.escolhas.CPF.$invalid,"erro-rotulo":e.infNFe.transp.transporta.escolhas.CPF_erro,maxlength:"11",rotulo:e.metadados.infNFe.transp.transporta.escolhas.CPF._titulo,tipo:"texto"},model:{value:e.infNFe.transp.transporta.escolhas.CPF,callback:function(t){e.$set(e.infNFe.transp.transporta.escolhas,"CPF",t)},expression:"infNFe.transp.transporta.escolhas.CPF"}})],1)]):e._e()]),a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.transp.transporta.xNome._doc,erro:e.$v.infNFe.transp.transporta.xNome.$invalid,"erro-rotulo":e.infNFe.transp.transporta.xNome_erro,maxlength:"60",rotulo:e.metadados.infNFe.transp.transporta.xNome._titulo,tipo:"texto"},model:{value:e.infNFe.transp.transporta.xNome,callback:function(t){e.$set(e.infNFe.transp.transporta,"xNome",t)},expression:"infNFe.transp.transporta.xNome"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.transp.transporta.IE._doc,erro:e.$v.infNFe.transp.transporta.IE.$invalid,"erro-rotulo":e.infNFe.transp.transporta.IE_erro,maxlength:"14",rotulo:e.metadados.infNFe.transp.transporta.IE._titulo,tipo:"texto"},model:{value:e.infNFe.transp.transporta.IE,callback:function(t){e.$set(e.infNFe.transp.transporta,"IE",t)},expression:"infNFe.transp.transporta.IE"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.transp.transporta.xEnder._doc,erro:e.$v.infNFe.transp.transporta.xEnder.$invalid,"erro-rotulo":e.infNFe.transp.transporta.xEnder_erro,maxlength:"60",rotulo:e.metadados.infNFe.transp.transporta.xEnder._titulo,tipo:"texto"},model:{value:e.infNFe.transp.transporta.xEnder,callback:function(t){e.$set(e.infNFe.transp.transporta,"xEnder",t)},expression:"infNFe.transp.transporta.xEnder"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.transp.transporta.xMun._doc,erro:e.$v.infNFe.transp.transporta.xMun.$invalid,"erro-rotulo":e.infNFe.transp.transporta.xMun_erro,maxlength:"60",rotulo:e.metadados.infNFe.transp.transporta.xMun._titulo,tipo:"texto"},model:{value:e.infNFe.transp.transporta.xMun,callback:function(t){e.$set(e.infNFe.transp.transporta,"xMun",t)},expression:"infNFe.transp.transporta.xMun"}}),a("campo",{staticClass:"col-12 col-md-2",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.transp.transporta.UF._doc,erro:e.$v.infNFe.transp.transporta.UF.$invalid,"erro-rotulo":e.infNFe.transp.transporta.UF_erro,opcoes:e.metadados.infNFe.transp.transporta.UF._enumeration,"rotulo-fixo":e.metadados.infNFe.transp.transporta.UF._titulo,tipo:"seletor"},model:{value:e.infNFe.transp.transporta.UF,callback:function(t){e.$set(e.infNFe.transp.transporta,"UF",t)},expression:"infNFe.transp.transporta.UF"}})],1)]):e._e()]),a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row q-py-md gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.transp.retTransp.visivel._doc,rotulo:e.metadados.infNFe.transp.retTransp.visivel._titulo,tipo:"logico"},model:{value:e.infNFe.transp.retTransp.visivel,callback:function(t){e.$set(e.infNFe.transp.retTransp,"visivel",t)},expression:"infNFe.transp.retTransp.visivel"}})],1),e.infNFe.transp.retTransp.visivel?a("div",[a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.transp.retTransp.vServ._doc,erro:e.$v.infNFe.transp.retTransp.vServ.$invalid,"erro-rotulo":e.infNFe.transp.retTransp.vServ_erro,rotulo:e.metadados.infNFe.transp.retTransp.vServ._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.transp.retTransp.vServ,callback:function(t){e.$set(e.infNFe.transp.retTransp,"vServ",t)},expression:"infNFe.transp.retTransp.vServ"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.transp.retTransp.vBCRet._doc,erro:e.$v.infNFe.transp.retTransp.vBCRet.$invalid,"erro-rotulo":e.infNFe.transp.retTransp.vBCRet_erro,rotulo:e.metadados.infNFe.transp.retTransp.vBCRet._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.transp.retTransp.vBCRet,callback:function(t){e.$set(e.infNFe.transp.retTransp,"vBCRet",t)},expression:"infNFe.transp.retTransp.vBCRet"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.transp.retTransp.pICMSRet._doc,erro:e.$v.infNFe.transp.retTransp.pICMSRet.$invalid,"erro-rotulo":e.infNFe.transp.retTransp.pICMSRet_erro,rotulo:e.metadados.infNFe.transp.retTransp.pICMSRet._titulo,tipo:"decimal",decimals:"4",suffix:"%"},model:{value:e.infNFe.transp.retTransp.pICMSRet,callback:function(t){e.$set(e.infNFe.transp.retTransp,"pICMSRet",t)},expression:"infNFe.transp.retTransp.pICMSRet"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.transp.retTransp.vICMSRet._doc,erro:e.$v.infNFe.transp.retTransp.vICMSRet.$invalid,"erro-rotulo":e.infNFe.transp.retTransp.vICMSRet_erro,rotulo:e.metadados.infNFe.transp.retTransp.vICMSRet._titulo,tipo:"decimal",decimals:"2"},model:{value:e.infNFe.transp.retTransp.vICMSRet,callback:function(t){e.$set(e.infNFe.transp.retTransp,"vICMSRet",t)},expression:"infNFe.transp.retTransp.vICMSRet"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.transp.retTransp.CFOP._doc,erro:e.$v.infNFe.transp.retTransp.CFOP.$invalid,"erro-rotulo":e.infNFe.transp.retTransp.CFOP_erro,rotulo:e.metadados.infNFe.transp.retTransp.CFOP._titulo,tipo:"texto"},model:{value:e.infNFe.transp.retTransp.CFOP,callback:function(t){e.$set(e.infNFe.transp.retTransp,"CFOP",t)},expression:"infNFe.transp.retTransp.CFOP"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.transp.retTransp.cMunFG._doc,erro:e.$v.infNFe.transp.retTransp.cMunFG.$invalid,"erro-rotulo":e.infNFe.transp.retTransp.cMunFG_erro,rotulo:e.metadados.infNFe.transp.retTransp.cMunFG._titulo,tipo:"texto"},model:{value:e.infNFe.transp.retTransp.cMunFG,callback:function(t){e.$set(e.infNFe.transp.retTransp,"cMunFG",t)},expression:"infNFe.transp.retTransp.cMunFG"}})],1)]):e._e()]),a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row  q-pt-md gutter-x-sm"},[a("q-radio",{attrs:{label:"opcao1",val:"opcao1"},model:{value:e.infNFe.transp.escolhas.valor_escolha,callback:function(t){e.$set(e.infNFe.transp.escolhas,"valor_escolha",t)},expression:"infNFe.transp.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"vagao",val:"vagao"},model:{value:e.infNFe.transp.escolhas.valor_escolha,callback:function(t){e.$set(e.infNFe.transp.escolhas,"valor_escolha",t)},expression:"infNFe.transp.escolhas.valor_escolha"}}),a("q-radio",{attrs:{label:"balsa",val:"balsa"},model:{value:e.infNFe.transp.escolhas.valor_escolha,callback:function(t){e.$set(e.infNFe.transp.escolhas,"valor_escolha",t)},expression:"infNFe.transp.escolhas.valor_escolha"}})],1),"opcao1"==e.infNFe.transp.escolhas.valor_escolha?a("div",[a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row  q-pt-md gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.transp.escolhas.opcao1.veicTransp.visivel._doc,rotulo:e.metadados.infNFe.transp.escolhas.opcao1.veicTransp.visivel._titulo,tipo:"logico"},model:{value:e.infNFe.transp.escolhas.opcao1.veicTransp.visivel,callback:function(t){e.$set(e.infNFe.transp.escolhas.opcao1.veicTransp,"visivel",t)},expression:"infNFe.transp.escolhas.opcao1.veicTransp.visivel"}})],1),e.infNFe.transp.escolhas.opcao1.veicTransp.visivel?a("div",[a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.transp.escolhas.opcao1.veicTransp.placa._doc,erro:e.$v.infNFe.transp.escolhas.opcao1.veicTransp.placa.$invalid,"erro-rotulo":e.infNFe.transp.escolhas.opcao1.veicTransp.placa_erro,rotulo:e.metadados.infNFe.transp.escolhas.opcao1.veicTransp.placa._titulo,tipo:"texto"},model:{value:e.infNFe.transp.escolhas.opcao1.veicTransp.placa,callback:function(t){e.$set(e.infNFe.transp.escolhas.opcao1.veicTransp,"placa",t)},expression:"infNFe.transp.escolhas.opcao1.veicTransp.placa"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.transp.escolhas.opcao1.veicTransp.UF._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.transp.escolhas.opcao1.veicTransp.UF.$invalid,"erro-rotulo":e.infNFe.transp.escolhas.opcao1.veicTransp.UF_erro,opcoes:e.metadados.infNFe.transp.escolhas.opcao1.veicTransp.UF._enumeration,"rotulo-fixo":e.metadados.infNFe.transp.escolhas.opcao1.veicTransp.UF._titulo,tipo:"seletor"},model:{value:e.infNFe.transp.escolhas.opcao1.veicTransp.UF,callback:function(t){e.$set(e.infNFe.transp.escolhas.opcao1.veicTransp,"UF",t)},expression:"infNFe.transp.escolhas.opcao1.veicTransp.UF"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.transp.escolhas.opcao1.veicTransp.RNTC._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.transp.escolhas.opcao1.veicTransp.RNTC.$invalid,"erro-rotulo":e.infNFe.transp.escolhas.opcao1.veicTransp.RNTC_erro,maxlength:"20",rotulo:e.metadados.infNFe.transp.escolhas.opcao1.veicTransp.RNTC._titulo,tipo:"texto"},model:{value:e.infNFe.transp.escolhas.opcao1.veicTransp.RNTC,callback:function(t){e.$set(e.infNFe.transp.escolhas.opcao1.veicTransp,"RNTC",t)},expression:"infNFe.transp.escolhas.opcao1.veicTransp.RNTC"}})],1)]):e._e()]),a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row"},[a("q-card-title",{staticClass:"col q-pt-sm  q-px-none q-ma-none"},[e._v("\n              "+e._s(e.metadados.infNFe.transp.escolhas.opcao1.reboque._titulo)+":")]),a("div",{staticClass:"col-auto justify-end ",staticStyle:{display:"flex"}},["Em digitação"==e.situacao?a("q-btn",{staticClass:"q-my-md",attrs:{color:"positive",icon:"add",label:"Novo reboque",outline:"",size:"sm"},on:{click:function(t){e.adicionarLinhaNaLista(e.infNFe.transp.escolhas.opcao1.reboque,e.metadados.infNFe.transp.escolhas.opcao1.reboque.lista)}}}):e._e()],1)],1),a("q-list",{staticClass:"no-border q-pa-none"},e._l(e.infNFe.transp.escolhas.opcao1.reboque,function(t,o){return a("q-item",{key:o,staticClass:"border-1 q-mb-xs q-px-none"},[a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-10 col-md-4",attrs:{dica:e.metadados.infNFe.transp.escolhas.opcao1.reboque.lista.placa._doc,erro:e.$v.infNFe.transp.escolhas.opcao1.reboque.$each[0].placa.$invalid,"somente-leitura":"Em digitação"!=e.situacao,"erro-rotulo":t.placa_erro,rotulo:e.metadados.infNFe.transp.escolhas.opcao1.reboque.lista.placa._titulo,tipo:"texto"},model:{value:t.placa,callback:function(a){e.$set(t,"placa",a)},expression:"item_reboque.placa"}}),a("campo",{staticClass:"col-2",attrs:{dica:e.metadados.infNFe.transp.escolhas.opcao1.reboque.lista.UF._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.transp.escolhas.opcao1.reboque.$each[0].UF.$invalid,"erro-rotulo":t.UF_erro,opcoes:e.metadados.infNFe.transp.escolhas.opcao1.reboque.lista.UF._enumeration,"rotulo-fixo":e.metadados.infNFe.transp.escolhas.opcao1.reboque.lista.UF._titulo,tipo:"seletor"},model:{value:t.UF,callback:function(a){e.$set(t,"UF",a)},expression:"item_reboque.UF"}}),a("campo",{staticClass:"col-12 col-md-5",attrs:{dica:e.metadados.infNFe.transp.escolhas.opcao1.reboque.lista.RNTC._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.transp.escolhas.opcao1.reboque.$each[0].RNTC.$invalid,"erro-rotulo":t.RNTC_erro,maxlength:"20",rotulo:e.metadados.infNFe.transp.escolhas.opcao1.reboque.lista.RNTC._titulo,tipo:"texto"},model:{value:t.RNTC,callback:function(a){e.$set(t,"RNTC",a)},expression:"item_reboque.RNTC"}}),a("div",{staticClass:"col justify-end q-pt-md ",staticStyle:{display:"flex"}},[a("q-btn",{staticClass:"bt-negative ",attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(t){e.removerLinhaDaLista(e.infNFe.transp.escolhas.opcao1.reboque,o)}}})],1)],1)])],1)}))],1)]):e._e(),"vagao"==e.infNFe.transp.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.transp.escolhas.vagao._doc,erro:e.$v.infNFe.transp.escolhas.vagao.$invalid,"erro-rotulo":e.infNFe.transp.escolhas.vagao_erro,maxlength:"20",rotulo:e.metadados.infNFe.transp.escolhas.vagao._titulo,tipo:"texto"},model:{value:e.infNFe.transp.escolhas.vagao,callback:function(t){e.$set(e.infNFe.transp.escolhas,"vagao",t)},expression:"infNFe.transp.escolhas.vagao"}})],1)]):e._e(),"balsa"==e.infNFe.transp.escolhas.valor_escolha?a("div",[a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-3",attrs:{"somente-leitura":"Em digitação"!=e.situacao,dica:e.metadados.infNFe.transp.escolhas.balsa._doc,erro:e.$v.infNFe.transp.escolhas.balsa.$invalid,"erro-rotulo":e.infNFe.transp.escolhas.balsa_erro,maxlength:"20",rotulo:e.metadados.infNFe.transp.escolhas.balsa._titulo,tipo:"texto"},model:{value:e.infNFe.transp.escolhas.balsa,callback:function(t){e.$set(e.infNFe.transp.escolhas,"balsa",t)},expression:"infNFe.transp.escolhas.balsa"}})],1)]):e._e()]),a("div",{staticClass:"col-12 no-shadow"},[a("q-card-title",{staticClass:"q-py-sm q-px-none"},[e._v(e._s(e.metadados.infNFe.transp.vol._titulo)+": ")]),a("q-list",{staticClass:"no-border q-pa-none"},e._l(e.infNFe.transp.vol,function(t,o){return a("q-item",{key:o,staticClass:"border-1 q-mb-xs q-px-none"},[a("q-item-main",[a("div",{staticClass:"row  gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.transp.vol.lista.qVol._doc,erro:e.$v.infNFe.transp.vol.$each[0].qVol.$invalid,"erro-rotulo":t.qVol_erro,"somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.transp.vol.lista.qVol._titulo,tipo:"texto"},model:{value:t.qVol,callback:function(a){e.$set(t,"qVol",a)},expression:"item_vol.qVol"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.transp.vol.lista.esp._doc,erro:e.$v.infNFe.transp.vol.$each[0].esp.$invalid,"erro-rotulo":t.esp_erro,maxlength:"60","somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.transp.vol.lista.esp._titulo,tipo:"texto"},model:{value:t.esp,callback:function(a){e.$set(t,"esp",a)},expression:"item_vol.esp"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.transp.vol.lista.marca._doc,erro:e.$v.infNFe.transp.vol.$each[0].marca.$invalid,"erro-rotulo":t.marca_erro,maxlength:"60","somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.transp.vol.lista.marca._titulo,tipo:"texto"},model:{value:t.marca,callback:function(a){e.$set(t,"marca",a)},expression:"item_vol.marca"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.transp.vol.lista.nVol._doc,erro:e.$v.infNFe.transp.vol.$each[0].nVol.$invalid,"erro-rotulo":t.nVol_erro,maxlength:"60","somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.transp.vol.lista.nVol._titulo,tipo:"texto"},model:{value:t.nVol,callback:function(a){e.$set(t,"nVol",a)},expression:"item_vol.nVol"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.transp.vol.lista.pesoL._doc,erro:e.$v.infNFe.transp.vol.$each[0].pesoL.$invalid,"erro-rotulo":t.pesoL_erro,"somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.transp.vol.lista.pesoL._titulo,tipo:"decimal",decimals:"3"},model:{value:t.pesoL,callback:function(a){e.$set(t,"pesoL",a)},expression:"item_vol.pesoL"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{dica:e.metadados.infNFe.transp.vol.lista.pesoB._doc,erro:e.$v.infNFe.transp.vol.$each[0].pesoB.$invalid,"erro-rotulo":t.pesoB_erro,"somente-leitura":"Em digitação"!=e.situacao,rotulo:e.metadados.infNFe.transp.vol.lista.pesoB._titulo,tipo:"decimal",decimals:"3"},model:{value:t.pesoB,callback:function(a){e.$set(t,"pesoB",a)},expression:"item_vol.pesoB"}})],1),a("div",{staticClass:"col-12 no-shadow"},[a("div",{staticClass:"row"},[a("q-card-title",{staticClass:"col q-pt-sm  q-px-none q-ma-none"},[e._v("\n                  "+e._s(e.metadados.infNFe.transp.vol.lista.lacres._titulo)+":")]),a("div",{staticClass:"col-auto justify-end ",staticStyle:{display:"flex"}},[a("q-btn",{staticClass:"q-my-md",attrs:{color:"positive",icon:"add",label:"Novo lacre",outline:"",size:"sm"},on:{click:function(a){e.adicionarLinhaNaLista(t.lacres,e.metadados.infNFe.transp.vol.lista.lacres.lista)}}})],1)],1),a("q-list",{staticClass:"no-border q-pa-none"},e._l(t.lacres,function(o,i){return a("q-item",{key:i,staticClass:"border-1 q-px-none q-mx-none"},[a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col",attrs:{dica:e.metadados.infNFe.transp.vol.lista.lacres.lista.nLacre._doc,"somente-leitura":"Em digitação"!=e.situacao,erro:e.$v.infNFe.transp.vol.$each[0].lacres.$each[0].nLacre.$invalid,"erro-rotulo":o.nLacre_erro,maxlength:"60",rotulo:e.metadados.infNFe.transp.vol.lista.lacres.lista.nLacre._titulo,tipo:"texto"},model:{value:o.nLacre,callback:function(t){e.$set(o,"nLacre",t)},expression:"item_lacres.nLacre"}}),a("div",{staticClass:"col-auto justify-end q-pt-md ",staticStyle:{display:"flex"}},[a("q-btn",{staticClass:"bt-negative",attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(a){e.removerLinhaDaLista(t.lacres,i)}}})],1)],1)])],1)}))],1),a("q-btn",{staticClass:"bt-negative q-mt-md",attrs:{color:"negative",icon:"remove",outline:"",size:"sm",label:"Remover volume"},on:{click:function(t){e.removerLinhaDaLista(e.infNFe.transp.vol,o)}}}),a("hr")],1)],1)})),"Em digitação"==e.situacao?a("q-btn",{attrs:{color:"positive",icon:"add",label:"Novo volume",outline:"",size:"sm"},on:{click:function(t){e.adicionarLinhaNaLista(e.infNFe.transp.vol,e.metadados.infNFe.transp.vol.lista)}}}):e._e()],1)])],1)},z_=[];j_._withStripped=!0;var B_={components:{Campo:Sl},computed:{},data:function(){return{}},methods:{},mixins:[Xg],props:{nota:{required:!0,type:Object},situacao:String},created:function(){ei.log("NFeTransporte","created()")}},L_=B_,V_=(a("b75f"),Object(sc["a"])(L_,j_,z_,!1,null,null,null));V_.options.__file="NFeTransporte.vue";var U_=V_.exports,H_={components:{BadgeCopiarUid:px,Campo:Sl,NFeDadosDaNota:gx,NFeDestinatario:Fx,NFeEmitente:Px,NFeFaturamento:$x,NFeInformacoesAdicionais:Vx,NFeOutrosValores:Xx,NFePagamento:t_,NFePessoasAutorizadas:n_,NFeProdutos:w_,NFeReferenciada:D_,NFeTotais:R_,NFeTransporte:U_},computed:{historico:function(){return this.nota.historico},opcoesContato:function(){return[{rotulo:"Selecionar",valor:""},{rotulo:"contato.nome",valor:"contato.id"}]}},data:function(){return{diversos:{modalRef:!1,openedDestinatario:!1,openedEmitente:!1,visaoCompleta:!1}}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:ei.log("NFeFormulario","atualizar()");case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),downloadXml:function(e){function t(e,t){var a=document.createElement("a");a.setAttribute("href","data:attachment/text;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),a.click()}ei.log("NFeFormulario","downloadXml()",e);try{Po(!e.chNFe||!e.xmlProt,"Arquivo Xml não encontrado"),t("".concat(e.chNFe,"-").concat(e.situacao||"").concat(1===e.nSeqEvento?"":e.nSeqEvento,"-").concat(e.tipo||"",".xml"),e.xmlProt)}catch(e){this.$q.notifyError("Erro no download",e)}}},mixins:[Xg],props:{nota:{required:!0,type:Object}},watch:{},created:function(){ei.log("NFeFormulario","created()"),this.atualizar()},mounted:function(){ei.log("NFeFormulario","mounted()")}},Q_=H_,G_=Object(sc["a"])(Q_,sx,nx,!1,null,null,null);G_.options.__file="NFeFormulario.vue";var J_=G_.exports,X_=function(e,t){return Y_.apply(this,arguments)};function Y_(){return Y_=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("gerarJsonBaseD","obterValorAproxTributos",a),e.next=3,He().nfeIbpt.where("codigo").equals(Number(a.prod.NCM)).toArray();case 3:if(o=e.sent,!this.verificarAlerta(!o||0===o.length,"Não encontrado alíquotas para calculo do valor aproximado de tributos do NCM: ".concat(a.prod.NCM,". Atualize sua tabela IBPT."),t)){e.next=6;break}return e.abrupt("return");case 6:i=o.filter(function(e){return e.idContato===t.empresa.id}),r=i.length?i:o,s=r.reduce(function(e,t){return!e||e.vigenciaFim<t.vigenciaFim?t:e},null),this.verificarAlerta(s.vigenciaFim<na(),"Informações vencidas para para o calculo do valor aproximado de tributos do NCM: ".concat(a.prod.NCM,". Atualize sua tabela IBPT."),t),a.imposto.noXml_pTribImp=Number(s.importadosFederal||0),a.imposto.noXml_pTribFed=Number(s.nacionalFederal||0),a.imposto.noXml_pTribEst=Number(s.estadual||0),a.imposto.noXml_pTribMun=Number(s.municipal||0);case 14:case"end":return e.stop()}},e,this)})),Y_.apply(this,arguments)}var W_=function(e){return Z_.apply(this,arguments)};function Z_(){return Z_=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("gerarJsonBaseD","obterConfiguracaoImposto"),a="Produto '".concat(t.documentoItem.descricaoItem||"","'"),Po(!t.item.ncm,"".concat(a," sem cadastro de NCM")),e.next=5,He()._ncm.where("ncm").equals(t.item.ncm).first();case 5:if(o=e.sent,Po(!o,"".concat(a," com NCM '").concat(t.item.ncm||"","' inválido")),!t.outrosNFe.cfop){e.next=14;break}return e.next=10,He().cfop.where({cfop:Number(t.outrosNFe.cfop)}).first();case 10:i=e.sent,Po(!i,"CFOP inválido"),e.next=19;break;case 14:return Po(!t.documentoItem.idCfop,"".concat(a," sem CFOP definido")),e.next=17,He().cfop.get(t.documentoItem.idCfop);case 17:i=e.sent,Po(!i,"".concat(a," com CFOP inválido"));case 19:return ei.log("gerarJsonBaseD","dadosNcm.id: ".concat(o.id," dadosCfop.id: ").concat(i.id," dados.empresa.id: ").concat(t.empresa.id)),e.next=22,He().impostoConfiguracao.where("idNcm").equals(o.id).filter(function(e){return e.idCfop===i.id&&e.idEmitente===t.empresa.id&&e.ufOrigem===t.empresa.enderecoPrincipal.uf&&e.ufDestino===t.infNFe.dest.enderDest.UF}).first();case 22:return r=e.sent,ei.log("gerarJsonBaseD","impostoConfiguracao",r),s="Verifique a configuração do imposto para "+"NCM: ".concat(t.item.ncm||"",", ")+"CFOP: ".concat(i.cfop||"",", ")+"CNPJ: ".concat(t.empresa.numeroDocumentoNacional||"",", ")+"UF origem: ".concat(t.empresa.enderecoPrincipal.uf||"",", ")+"UF destino: ".concat(t.infNFe.dest.enderDest.UF||"","."),Po(!r,"".concat(a," sem configuração de imposto. ").concat(s)),n=t.det.prod,c=t.det.imposto,e.prev=28,n.CFOP=(i.cfop||0).toString(),e.next=32,this.obterImpostoParametro(t,r.idOrigem);case 32:return c.noXml_orig=e.sent,e.next=35,this.obterImpostoParametro(t,r.idCst);case 35:return c.noXml_CST=c.noXml_CSOSN=e.sent,c.noXml_pICMS=r.aliqIcmsUFOrigem||r.aliqIcms||0,c.noXml_pRedBC=r.percRedBcIcms||0,c.noXml_pFCP=r.aliqFcp||0,e.next=41,this.obterImpostoParametro(t,r.idTipoTribPis);case 41:return c.noXml_CSTPis=e.sent,c.noXml_pPIS=r.aliqPis||0,e.next=45,this.obterImpostoParametro(t,r.idTipoTribCofins);case 45:if(c.noXml_CSTCofins=e.sent,c.noXml_pCOFINS=r.aliqCofins||0,!r.idCest){e.next=52;break}return e.next=50,this.obterImpostoParametro(t,r.idCest);case 50:l=e.sent,l&&(n.opcional.visivel=!0,n.opcional.CEST=Pa(l));case 52:e.next=58;break;case 54:e.prev=54,e.t0=e["catch"](28),console.error(e.t0),Po(!0,"".concat(a," com erro na configuração de imposto. ").concat(s));case 58:case"end":return e.stop()}},e,this,[[28,54]])})),Z_.apply(this,arguments)}var K_=function(e){return eq.apply(this,arguments)};function eq(){return eq=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t.destinatario={},a=t.documentoFatura.idContato,!a){e.next=18;break}return e.next=5,He().contato.get(a);case 5:if(t.destinatario=e.sent,!t.destinatario){e.next=18;break}return e.next=9,He().contatoEndereco.where("idContato").equals(a).toArray();case 9:return t.destinatario.enderecos=e.sent,t.destinatario.enderecoPrincipal=t.destinatario.enderecos.find(function(e){return"Principal"===e.grupo}),t.destinatario.enderecoPrincipal||(t.destinatario.enderecoPrincipal=t.destinatario.enderecos[0]||{}),e.next=14,He().contatoTelefone.where("idContato").equals(a).toArray();case 14:t.destinatario.telefones=e.sent,t.destinatario.telefonePrincipal=t.destinatario.telefones.find(function(e){return"Principal"===e.grupo}),t.destinatario.telefonePrincipal||(t.destinatario.telefonePrincipal=t.destinatario.telefones[0]||{}),ei.log("gerarJsonNFeD","dados.destinatario",t.destinatario);case 18:if(o=t.infNFe.dest,o.visivel=!0,i=Pa(t.destinatario.numeroDocumentoNacional),11===i.length?(o.escolhas.valor_escolha="CPF",o.escolhas.CPF=i,o.indIEDest="9"):14===i.length?(o.escolhas.valor_escolha="CNPJ",o.escolhas.CNPJ=i,o.indIEDest="9"):Po(!0,"Destinatario com CPF/CNPJ inválido"),"CNPJ"===o.escolhas.valor_escolha&&t.destinatario.numeroDocumentoEstadual&&("ISENTO"===t.destinatario.numeroDocumentoEstadual.toLocaleUpperCase().trim()?(o.IE="",o.indIEDest="2"):(o.IE=Pa(t.destinatario.numeroDocumentoEstadual),o.indIEDest="1")),o.xNome=ro(t.destinatario.nome),t.destinatario.enderecoPrincipal.uf&&t.destinatario.enderecoPrincipal.ibgeCod){e.next=26;break}return e.abrupt("return");case 26:o.enderDest.visivel=!0,o.email=(t.destinatario.emailNfe||t.destinatario.email||"").trim(),o.enderDest.fone=Pa(t.destinatario.telefonePrincipal.telefone||""),o.enderDest.xLgr=ro(t.destinatario.enderecoPrincipal.logradouro),o.enderDest.nro=(t.destinatario.enderecoPrincipal.numero||"").trim(),o.enderDest.xCpl=ro(t.destinatario.enderecoPrincipal.complemento),o.enderDest.xBairro=ro(t.destinatario.enderecoPrincipal.bairro),o.enderDest.cMun=String(t.destinatario.enderecoPrincipal.ibgeCod||"").trim(),o.enderDest.xMun=ro(t.destinatario.enderecoPrincipal.municipio),o.enderDest.UF=(t.destinatario.enderecoPrincipal.uf||"").trim(),o.enderDest.CEP=Pa(t.destinatario.enderecoPrincipal.cep||""),o.enderDest.cPais="1058",o.enderDest.xPais=(t.destinatario.enderecoPrincipal.pais||"").trim()||"Brasil";case 39:case"end":return e.stop()}},e)})),eq.apply(this,arguments)}var tq=function(e){return aq.apply(this,arguments)};function aq(){return aq=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log("gerarJsonNFeD","obterDuplicatas"),"Remessa"!==t.outrosNFe.operacao&&!t.vendaSemPagamento&&t.documentosPagamento&&0!==t.documentosPagamento.length){e.next=4;break}return t.infNFe.cobr.visivel=!1,e.abrupt("return");case 4:if(t.infNFe.cobr.visivel=!0,t.infNFe.cobr.fat.visivel=!0,t.infNFe.cobr.fat.nFat=String(t.documentoFatura.numero),t.infNFe.cobr.fat.vDesc=t.infNFe.total.ICMSTot.vDesc,t.infNFe.cobr.fat.vLiq=dt(lo(t.documentosPagamento,"valor")),t.infNFe.cobr.fat.vOrig=t.infNFe.cobr.fat.vLiq+t.infNFe.cobr.fat.vDesc,"4"!==t.infNFe.ide.finNFe){e.next=12;break}return e.abrupt("return");case 12:for(a=na(),t.documentosPagamento=t.documentosPagamento.sort(function(e,t){return(e.dataVencimento||a).localeCompare(t.dataVencimento||a)}),o=[],i=1,r=!0,s=!1,n=void 0,e.prev=19,c=t.documentosPagamento[Symbol.iterator]();!(r=(l=c.next()).done);r=!0)d=l.value,u=vu.executa(Et.infNFe.cobr.dup.lista,{},this.tipo),u.nDup=String(i).padStart(3,"0"),u.dVenc=Ot.formatarDataNFeSemHoras(d.dataVencimento||na())+"T00:00:00",u.vDup=dt(d.valor),i++,o.push(u);e.next=27;break;case 23:e.prev=23,e.t0=e["catch"](19),s=!0,n=e.t0;case 27:e.prev=27,e.prev=28,r||null==c.return||c.return();case 30:if(e.prev=30,!s){e.next=33;break}throw n;case 33:return e.finish(30);case 34:return e.finish(27);case 35:t.infNFe.cobr.dup=o;case 36:case"end":return e.stop()}},e,this,[[19,23,27,35],[28,,30,34]])})),aq.apply(this,arguments)}var oq=function(e){return iq.apply(this,arguments)};function iq(){return iq=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("gerarJsonBaseD","obterEmpresa"),a=t.documentoFatura.idEmpresa,Po(!a,"Fatura sem empresa emitente"),e.next=5,He().contato.get(a);case 5:if(t.empresa=e.sent,Po(!t.empresa,"Não foi possível carregar a empresa emitente"),t.outrosNFe.idContatoEmitente=a,"NFCe"!==this.tipo){e.next=18;break}return e.next=11,Ge.empresa.where({idContato:a}).first();case 11:if(t.empresaPlat=e.sent,t.empresaPlat){e.next=16;break}return e.next=15,Ge.empresa.where({codigoContato:t.empresa.codigoContato}).first();case 15:t.empresaPlat=e.sent;case 16:Po(!t.empresaPlat,"Não foi possível carregar a empresa emitente"),"1"===t.infNFe.ide.tpAmb?(Po(!t.empresaPlat.hashCSCProducao,"Empresa emitente sem hashCSC de produção cadastrado"),Po(!t.empresaPlat.tokenCSCProducao,"Empresa emitente sem tokenCSC de produção cadastrado"),t.empresaPlat.hashCSC=t.empresaPlat.hashCSCProducao,t.empresaPlat.tokenCSC=t.empresaPlat.tokenCSCProducao):(Po(!t.empresaPlat.hashCSCHomologacao,"Empresa emitente sem hashCSC de homologação cadastrado"),Po(!t.empresaPlat.tokenCSCHomologacao,"Empresa emitente sem tokenCSC de homologação cadastrado"),t.empresaPlat.hashCSC=t.empresaPlat.hashCSCHomologacao,t.empresaPlat.tokenCSC=t.empresaPlat.tokenCSCHomologacao);case 18:return e.next=20,He().contatoEndereco.where("idContato").equals(a).toArray();case 20:return t.empresa.enderecos=e.sent,Po(!t.empresa.enderecos||0===t.empresa.enderecos.length,"Não foi possível carregar o endereço da empresa emitente"),t.empresa.enderecoPrincipal=t.empresa.enderecos.find(function(e){return"Principal"===e.grupo}),t.empresa.enderecoPrincipal||(t.empresa.enderecoPrincipal=t.empresa.enderecos[0]||{}),e.next=26,He().contatoTelefone.where("idContato").equals(a).toArray();case 26:if(e.t0=e.sent,e.t0){e.next=29;break}e.t0=[];case 29:if(t.empresa.telefones=e.t0,t.empresa.telefonePrincipal=t.empresa.telefones.find(function(e){return"Principal"===e.grupo}),t.empresa.telefonePrincipal||(t.empresa.telefonePrincipal=t.empresa.telefones[0]||{}),ei.log("gerarJsonBaseD","dados.empresa",t.empresa),Po(!t.empresa.numeroDocumentoNacional,"Empresa emitente sem CNPJ cadastrado"),Po(!t.empresa.numeroDocumentoEstadual,"Empresa emitente sem Inscrição Estadual cadastrado"),Po(!t.empresa.nome,"Empresa emitente sem Razão Social (nome) cadastrado"),Po(!t.empresa.enderecoPrincipal.uf,"Empresa emitente sem UF cadastrado"),Po(!t.empresa.enderecoPrincipal.ibgeCod,"Empresa emitente sem código do município cadastrado"),Po(!t.empresa.regime,"Empresa emitente sem regime cadastrado"),o=t.infNFe.emit,o.escolhas.CNPJ=Pa(t.empresa.numeroDocumentoNacional),o.IE=Pa(t.empresa.numeroDocumentoEstadual),o.CRT="SimplesNacional"===t.empresa.regime?"1":"3",o.xNome=ro(t.empresa.nome),o.xFant=ro(t.empresa.apelido),o.email=(t.empresa.email||"").trim(),o.enderEmit.fone=Pa(t.empresa.telefonePrincipal.telefone),o.enderEmit.xLgr=ro(t.empresa.enderecoPrincipal.logradouro),o.enderEmit.nro=(t.empresa.enderecoPrincipal.numero||"SN").trim(),o.enderEmit.xCpl=ro(t.empresa.enderecoPrincipal.complemento),o.enderEmit.xBairro=ro(t.empresa.enderecoPrincipal.bairro),o.enderEmit.cMun=String(t.empresa.enderecoPrincipal.ibgeCod||"").trim(),o.enderEmit.xMun=ro(t.empresa.enderecoPrincipal.municipio),o.enderEmit.UF=(t.empresa.enderecoPrincipal.uf||"").trim(),o.enderEmit.CEP=Pa(t.empresa.enderecoPrincipal.cep),o.enderEmit.cPais="1058",o.enderEmit.xPais=ro(t.empresa.enderecoPrincipal.pais||"Brasil"),t.infNFe.ide.cMunFG=o.enderEmit.cMun,t.infNFe.ide.cUF=String(La[o.enderEmit.UF]),"NFe"!==this.tipo){e.next=85;break}return t.outrosNFe.dadosAdicionaisEmitente=ro(t.empresa.observacaoNFE),e.next=63,He().aliquotaSimples.where({idEmpresa:a}).sortBy("dataInicio");case 63:for(i=e.sent,r=new Date((new Date).toDateString()),t.outrosNFe.aliquotaSimples=0,s=!0,n=!1,c=void 0,e.prev=69,l=i[Symbol.iterator]();!(s=(d=l.next()).done);s=!0)u=d.value,new Date(u.dataInicio)<=r&&(!u.dataFim||new Date(u.dataFim)>=r)&&(t.outrosNFe.aliquotaSimples=u.valor);e.next=77;break;case 73:e.prev=73,e.t1=e["catch"](69),n=!0,c=e.t1;case 77:e.prev=77,e.prev=78,s||null==l.return||l.return();case 80:if(e.prev=80,!n){e.next=83;break}throw c;case 83:return e.finish(80);case 84:return e.finish(77);case 85:case"end":return e.stop()}},e,this,[[69,73,77,85],[78,,80,84]])})),iq.apply(this,arguments)}var rq=function(e,t){return sq.apply(this,arguments)};function sq(){return sq=Le()(regeneratorRuntime.mark(function e(t,a){var o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(Po(!a,"Configuração de imposto sem informação completa"),o=t.cache[a],o){e.next=8;break}return e.next=5,He().impostoParametro.get(a);case 5:i=e.sent,o=i?i.numero.trim():void 0,t.cache[a]=o;case 8:return Po(!o,"Configuração de imposto inválida"),e.abrupt("return",o);case 10:case"end":return e.stop()}},e)})),sq.apply(this,arguments)}var nq=function(e,t){return cq.apply(this,arguments)};function cq(){return cq=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log("gerarJsonBaseD","obterMeioPagamento",a),Po(!a,"Forma de pagamento inválida"),o=t.cache[a],!o){e.next=5;break}return e.abrupt("return",o);case 5:return e.next=7,He().formaPagamento.get(a);case 7:return i=e.sent,Po(!i||!i.descricao,"Não foi possível carregar a forma de pagamento"),r=i.descricao.toLowerCase(),o=r.includes("dinheiro")?"01":r.includes("débito")?"04":r.includes("crédito de clientes")?"99":r.includes("crédito")?"03":r.includes("cartão")&&1===Number(i.parcelamentoMaximo||0)?"04":r.includes("cartão")&&Number(i.parcelamentoMaximo||0)>1?"03":"99",t.cache[a]=o,e.abrupt("return",o);case 13:case"end":return e.stop()}},e)})),cq.apply(this,arguments)}var lq=function(e){return dq.apply(this,arguments)};function dq(){return dq=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t.transportadora=null,a=(t.documentoFatura||{}).idContatoTransportadora||((t.documentosVendas||[])[0]||{}).idContatoTransportadora||t.destinatario.idContatoTransportadora,!a){e.next=12;break}return e.next=5,He().contato.get(a);case 5:if(t.transportadora=e.sent,!t.transportadora){e.next=12;break}return e.next=9,He().contatoEndereco.where({idContato:a}).toArray();case 9:t.transportadora.enderecos=e.sent,t.transportadora.enderecoPrincipal=t.transportadora.enderecos.find(function(e){return"Principal"===e.grupo}),t.transportadora.enderecoPrincipal||(t.transportadora.enderecoPrincipal=t.transportadora.enderecos[0]||{});case 12:if(t.transportadora){e.next=14;break}return e.abrupt("return");case 14:if(t.outrosNFe.dadosAdicionaisEnderecoEntrega=(t.documentoFatura||{}).descricaoContatoEnderecoEntrega||((t.documentosVendas||[])[0]||{}).descricaoContatoEnderecoEntrega,t.outrosNFe.dadosAdicionaisEnderecoEntrega&&(t.outrosNFe.dadosAdicionaisEnderecoEntrega=ro("  Endereço de entrega: "+t.outrosNFe.dadosAdicionaisEnderecoEntrega.trim())),t.infNFe.transp.modFrete="0",o=t.infNFe.transp.transporta,o.visivel=!0,i=Pa(t.transportadora.numeroDocumentoNacional),11===i.length?(o.escolhas.valor_escolha="CPF",o.escolhas.CPF=i):14===i.length?(o.escolhas.valor_escolha="CNPJ",o.escolhas.CNPJ=i):Po(!0,"Transportadora com CPF/CNPJ inválido"),"CNPJ"===o.escolhas.valor_escolha&&t.transportadora.numeroDocumentoEstadual&&("ISENTO"===t.transportadora.numeroDocumentoEstadual.toLocaleUpperCase().trim()?o.IE="":o.IE=Pa(t.transportadora.numeroDocumentoEstadual)),o.xNome=ro(t.transportadora.nome),t.transportadora.enderecoPrincipal.uf){e.next=25;break}return e.abrupt("return");case 25:o.xEnder=ro(t.transportadora.enderecoPrincipal.logradouro)+", "+(t.transportadora.enderecoPrincipal.numero||"").trim(),t.transportadora.enderecoPrincipal.complemento&&(o.xEnder+=" - "+ro(t.transportadora.enderecoPrincipal.complemento)),o.xEnder=o.xEnder.substr(0,60),o.xMun=ro(t.transportadora.enderecoPrincipal.municipio),o.UF=(t.transportadora.enderecoPrincipal.uf||"").trim();case 30:case"end":return e.stop()}},e)})),dq.apply(this,arguments)}var uq=function(e,t,a){return e&&(a.alertas||(a.alertas=[]),a.alertas.push(t),console.warn(t)),e},mq={tipo:"NFe",serie:"nfe.padrao.serie",homologacao:"nfe.homologacao",usadesconto:"nfe.usadesconto",gerarAutorizacaoDownload:qp,gerarConfiguracaoImposto:Ip,gerarNumeroNFe:wp,obterAliquotasTributosIbpt:X_,obterConfiguracaoImposto:W_,obterConfiguracaoImpostoV2:Np,obterDestinatario:K_,obterDuplicatas:tq,obterEmitente:oq,obterFatura:Mp,obterFormasPagamento:Dp,obterFrete:Tp,obterImpostoParametro:rq,obterItens:Op,obterMeioPagamento:nq,obterTransportadora:lq,verificarAlerta:uq,gerarJson:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o,i){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=Yo("gerarJsonNFe",t),e.prev=1,Po(!t,"Fatura não fornecida"),s=Ot.iniciarCampos({tipo:this.tipo,idDocumento:t,totalDesconto:0,totalDevolucao:0,totalProdutos:0,totalServicos:0,alertas:[],erros:[],historico:[],cache:{},outrosNFe:{},infNFe:vu.executa(Et.infNFe,{},this.tipo)},"gerarNFeFatura"),ei.log("gerarJsonNFeD","iniciarCampos",s),e.next=7,this.acertoInicial(s,a,o,i);case 7:return e.next=9,this.obterFatura(s);case 9:return e.next=11,this.obterEmitente(s);case 11:return e.next=13,this.obterDestinatario(s);case 13:return e.next=15,this.obterTransportadora(s);case 15:return e.next=17,this.obterItens(s);case 17:if("4"!==s.infNFe.ide.finNFe&&"Remessa"!==s.outrosNFe.operacao){e.next=22;break}return e.next=20,this.gerarSemPagamento(s);case 20:e.next=24;break;case 22:return e.next=24,this.obterFormasPagamento(s);case 24:return e.next=26,this.obterFrete(s);case 26:return e.next=28,this.obterDuplicatas(s);case 28:return e.next=30,this.gerarNumeroNFe(s.infNFe,s.outrosNFe.idContatoEmitente);case 30:return e.next=32,this.gerarAutorizacaoDownload(s.infNFe,s.outrosNFe.idContatoEmitente);case 32:return Rp.calculaTotais(s.infNFe,s.outrosNFe,Et),Ot.acertarDadosNFe(s.infNFe,s.outrosNFe,this.tipo),e.abrupt("return",s);case 35:return e.prev=35,Wo(r,1),e.finish(35);case 38:case"end":return e.stop()}},e,this,[[1,,35,38]])}));return function(t,a,o,i){return e.apply(this,arguments)}}(),acertoInicial:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("gerarJsonNFeD","acertoInicial",a,o,i),t.infNFe.ide.tpNF=0===a?"0":"1",t.infNFe.ide.finNFe=0===a?"4":"1",e.next=5,Zn.configuracoes.leValorNumerico(this.homologacao);case 5:if(e.t0=e.sent,1!==e.t0){e.next=10;break}e.t1="2",e.next=11;break;case 10:e.t1="1";case 11:t.infNFe.ide.tpAmb=e.t1,t.infNFe.ide.mod="NFe"===this.tipo?"55":"65",t.infNFe.ide.tpImp="NFe"===this.tipo?"1":"4",t.infNFe.ide.dhEmi=Ot.formatarDataNFe(new Date),t.outrosNFe.operacao=o,t.outrosNFe.cfop=i;case 17:case"end":return e.stop()}},e,this)}));return function(t,a,o,i){return e.apply(this,arguments)}}(),gerarSemPagamento:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:ei.log("gerarJsonNFeD","gerarSemPagamento"),a=vu.executa(Et.infNFe.pag.detPag.lista,{},this.tipo),a.tPag="90",a.vPag=0,t.infNFe.pag.detPag=[a];case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},pq={components:{Campo:Sl,NFeCancelamento:Kg,NFeCartaCorrecao:rx,NFeFormulario:J_,PromptCfop:b_},computed:{metadados:function(){return Et}},data:function(){return{carregando:!0,descricaoCfop:"",foiAlterado:!1,modalCfop:!1,modalNFe:!1,modalNFeRemessa:!1,params:{},nota:{id:"",historico:[],infNFe:{},outrosNFe:{}}}},methods:{abrirModalCfop:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.modalCfop=!0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),selecionarCfop:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.params.cfop=t.cfop||"",this.descricaoCfop=t.descr||"";case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),fecharNFe:function(){ei.log("NFePrincipal","fecharNFe()",this.foiAlterado),this.modalNFe=!1,this.nota={},this.$emit("fechar",this.foiAlterado)},salvarNFeNucleo:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t||(t=at()({},this.nota)),t.infNFe=pu.executa(Et.infNFe,t.infNFe),t=Ot.prepararDocumentoFiscalEletronico(t),ei.log("NFePrincipal","salvarNFeNucleo()",t),ei.log("NFePrincipal","salvarNFeNucleo json",JSON.parse(t.json)),e.next=7,Zn.documentoFiscalEletronico.grava({atual:t,original:this.notaOriginal});case 7:this.notaOriginal=ea(t),this.foiAlterado=!0;case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),salvarNFe:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("NFePrincipal","salvarNFe()"),e.prev=1,Po(this.nota.outrosNFe.importada,"Esta nota foi importada. Não pode ser alterada."),Po(this.nota.outrosNFe.transmitida,"Esta nota já foi transmitida. Não pode ser alterada."),this.$q.loading.show(),Rp.calculaTotais(this.nota.infNFe,this.nota.outrosNFe,Et),Ot.acertarDadosNFe(this.nota.infNFe,this.nota.outrosNFe,"NFe"),e.next=9,this.salvarNFeNucleo();case 9:this.$q.notifyPositive("Os dados da nota foram salvos com sucesso"),this.fecharNFe(),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](1),this.$q.notifyError("Ocorreu um erro ao salvar",e.t0);case 16:return e.prev=16,this.$q.loading.hide(),e.finish(16);case 19:case"end":return e.stop()}},e,this,[[1,13,16,19]])}));return function(){return e.apply(this,arguments)}}(),emitirNFe:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("NFePrincipal","emitirNFe()"),t="Ocorreu um erro ao emitir a nota",e.prev=2,Po(this.nota.outrosNFe.importada,"Esta foi importada. Não pode ser transmitida"),Po(this.nota.outrosNFe.transmitida,"Esta nota já foi transmitida"),Po(!this.nota.outrosNFe.idContatoEmitente,"Empresa emitente não selecionada"),Po(!this.nota.infNFe.dest.xNome,"Destinatário não selecionado ou preenchido"),Po(!this.nota.infNFe.dest.enderDest.xLgr,"Destinatário com endereço incompleto"),Po(!this.nota.infNFe.dest.enderDest.nro,"Destinatário com endereço incompleto"),Po(!this.nota.infNFe.det.length,"Nota sem produtos"),Oe["a"].show({spinner:hu["a"],spinnerColor:"amber",message:"Selecionando Certificado e Emitindo a nota"}),t="Erro ao preparar os dados da nota",Rp.calculaTotais(this.nota.infNFe,this.nota.outrosNFe,Et),e.next=15,this.gerarNumeroNFe(this.nota.infNFe,this.nota.outrosNFe.idContatoEmitente);case 15:if(Ot.acertarDadosNFe(this.nota.infNFe,this.nota.outrosNFe,"NFe"),a=at()({},this.nota),a.infNFe=pu.executa(Et.infNFe,a.infNFe),!pu.erros.length){e.next=22;break}return ei.log("NFePrincipal","notaEmitir",a),qa.$emit("mostrarModalAlerta",{titulo:"Erro de validação",erros:pu.erros}),e.abrupt("return");case 22:return t="Erro ao salvar nota",o=It.Nfe(Et.infNFe,a.infNFe,a.id),a.outrosNFe.chNFe=It.chNFe,e.next=27,this.salvarNFeNucleo(a);case 27:return t="Ocorreu um erro ao transmitir a nota",e.next=30,Vt.servicoIntegrador(a,o,"EmiteNFe","Emissão",1,{},"NFe",this.nota.outrosNFe.idContatoEmitente);case 30:return i=e.sent,e.next=33,this.salvarNFeNucleo(a);case 33:if("Erro"!==i.status){e.next=38;break}return ei.log("NFePrincipalErro",i),r=la()((i.mensagem||"").split("\n")).concat(la()((i.complemento||"").split("\n"))),qa.$emit("mostrarModalAlerta",{titulo:i.status,erros:r}),e.abrupt("return");case 38:return this.$q.notifyPositive(i.mensagem),e.next=41,this.atualizar();case 41:this.imprimir("nfe-danfe",this.nota.id),e.next=47;break;case 44:e.prev=44,e.t0=e["catch"](2),this.$q.notifyError(t,e.t0);case 47:return e.prev=47,Oe["a"].hide(),e.finish(47);case 50:case"end":return e.stop()}},e,this,[[2,44,47,50]])}));return function(){return e.apply(this,arguments)}}(),gerarNumeroNFe:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(Number(t.ide.nNF)){e.next=6;break}return e.t0=String,e.next=4,Zn.documentoFiscalEletronico.proximoNumero(t.ide.tpAmb,"CPF"===t.emit.escolhas.valor_escolha?t.emit.escolhas.CPF:t.emit.escolhas.CNPJ,t.ide.mod,t.ide.serie,a);case 4:e.t1=e.sent,t.ide.nNF=(0,e.t0)(e.t1);case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),cartaCorrecaoNFe:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:ei.log("NFePrincipal","cartaCorrecaoNFe()"),this.$refs.modalCartaCorrecao.abrirModalCartaCorrecao();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),cancelarNFe:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:ei.log("NFePrincipal","cancelarNFe()"),this.$refs.modalCancelamento.abrirModalCancelamento();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),removerNFe:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("NFePrincipal","removerNFe()"),e.prev=1,Po(this.nota.outrosNFe.importada,"Esta nota foi importada. Não pode ser removida."),Po(this.nota.outrosNFe.transmitida,"Esta nota já foi transmitida. Não pode ser removida."),Po("Em digitação"!==this.nota.outrosNFe.situacao,"Pode remover apenas notas em digitação"),e.prev=5,e.next=8,this.$q.dialog({cancel:"Cancelar",message:"Esta ação irá remover esta nota",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e["catch"](5),e.abrupt("return");case 13:return e.next=15,Zn.documentoFiscalEletronico.remove(this.nota.id);case 15:this.$q.notifyPositive("Nota removida com sucesso"),this.foiAlterado=!0,this.fecharNFe(),e.next=23;break;case 20:e.prev=20,e.t1=e["catch"](1),this.$q.notifyError("Ocorreu um erro ao remover",e.t1);case 23:case"end":return e.stop()}},e,this,[[1,20],[5,10]])}));return function(){return e.apply(this,arguments)}}(),adicionarNFe:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("NFePrincipal","adicionarNFe()"),e.prev=1,this.carregando=!0,t=Ot.iniciarCampos({tipo:"NFe",outrosNFe:{},historico:[],infNFe:vu.executa(Et.infNFe,{},"NFe")},"criar"),e.next=6,qp(t.infNFe);case 6:return e.t0=String,e.next=9,Zn.configuracoes.leValorNumerico("nfe.padrao.serie",1);case 9:return e.t1=e.sent,t.infNFe.ide.serie=(0,e.t0)(e.t1),e.next=13,Zn.configuracoes.leValorNumerico("nfe.homologacao");case 13:if(e.t2=e.sent,1!==e.t2){e.next=18;break}e.t3="2",e.next=19;break;case 18:e.t3="1";case 19:t.infNFe.ide.tpAmb=e.t3,t.infNFe.cobr.visivel=!0,t.infNFe.cobr.fat.visivel=!0,t.infNFe.infAdic.visivel=!0,this.nota=t,this.notaOriginal={},this.modalNFe=!0,e.next=33;break;case 28:e.prev=28,e.t4=e["catch"](1),this.$q.notifyError("Erro ao criar nota",e.t4),this.foiAlterado=!0,this.fecharNFe();case 33:return e.prev=33,this.carregando=!1,e.finish(33);case 36:case"end":return e.stop()}},e,this,[[1,28,33,36]])}));return function(){return e.apply(this,arguments)}}(),gerarNFe:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){var i,r,s,n,c,l,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log("NFePrincipal","gerarNFe()",o),e.prev=1,o&&(this.params={idDocumento:t,tipo:a,operacao:o,cfop:""}),"Remessa"!==this.params.operacao||this.params.cfop){e.next=6;break}return this.modalNFeRemessa=!0,e.abrupt("return");case 6:return this.carregando=!0,e.next=9,mq.gerarJson(this.params.idDocumento,this.params.tipo,this.params.operacao,this.params.cfop);case 9:if(i=e.sent,Eo(!i,"Ocorreu um erro no nfe.gerarJson(idDocumento)"),i.infNFeCompac=pu.executa(Et.infNFe,i.infNFe),i.erros=pu.erros,!i.erros.length){e.next=16;break}return qa.$emit("mostrarModalAlerta",{titulo:"Erro de validação",erros:i.erros}),e.abrupt("return");case 16:for(r=!0,s=!1,n=void 0,e.prev=19,c=i.alertas[Symbol.iterator]();!(r=(l=c.next()).done);r=!0)d=l.value,this.$q.notify({message:d,textColor:"black",type:"warning"});e.next=27;break;case 23:e.prev=23,e.t0=e["catch"](19),s=!0,n=e.t0;case 27:e.prev=27,e.prev=28,r||null==c.return||c.return();case 30:if(e.prev=30,!s){e.next=33;break}throw n;case 33:return e.finish(30);case 34:return e.finish(27);case 35:this.nota=i,this.notaOriginal={},this.modalNFe=!0,e.next=45;break;case 40:e.prev=40,e.t1=e["catch"](1),this.$q.notifyError("Erro ao gerar nota",e.t1),this.foiAlterado=!0,this.fecharNFe();case 45:return e.prev=45,this.carregando=!1,e.finish(45);case 48:case"end":return e.stop()}},e,this,[[1,40,45,48],[19,23,27,35],[28,,30,34]])}));return function(t,a,o){return e.apply(this,arguments)}}(),abrirNFe:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("NFePrincipal","abrirNFe()",t),e.next=3,this.atualizar(t);case 3:this.modalNFe=!0;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("NFePrincipal","atualizar()",t),e.prev=1,this.carregando=!0,e.next=5,Zn.documentoFiscalEletronico.le({id:t||this.nota.id});case 5:return a=e.sent,o=JSON.parse(a.json),a.infNFe=vu.executa(Et.infNFe,o.infNFe,"NFe"),a.outrosNFe=Ot.completarOutrosNFe(Tt,o.outrosNFe),e.next=11,Zn.documentoFiscalEletronicoXml.le({idDocumentoFiscalEletronico:t||this.nota.id});case 11:i=e.sent,a.historico=Object(ot["orderBy"])(i,"dhRecbto"),this.nota=a,this.notaOriginal=ea(a),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](1),this.$q.notifyError("Erro ao carregar os dados da nota",e.t0);case 20:return e.prev=20,this.carregando=!1,e.finish(20);case 23:case"end":return e.stop()}},e,this,[[1,17,20,23]])}));return function(t){return e.apply(this,arguments)}}()},props:{},watch:{},created:function(){ei.log("NFePrincipal","created()")},mounted:function(){ei.log("NFePrincipal","mounted()"),qa.$off("adicionarNFe"),qa.$on("adicionarNFe",this.adicionarNFe),qa.$off("abrirNFe"),qa.$on("abrirNFe",this.abrirNFe),qa.$off("gerarNFe"),qa.$on("gerarNFe",this.gerarNFe)},beforeDestroy:function(){ei.log("NFePrincipal","beforeDestroy()"),qa.$off("adicionarNFe"),qa.$off("abrirNFe"),qa.$off("gerarNFe")}},vq=pq,hq=(a("bc97"),Object(sc["a"])(vq,Hg,Qg,!1,null,"2a2fcdd2",null));hq.options.__file="NFePrincipal.vue";var fq=hq.exports,Cq=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-modal",{attrs:{value:e.value,"content-css":{minWidth:"30vw"}},on:{input:e.input}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Devolução/Garantia")]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),a("form",{staticClass:"layout-padding",on:{submit:function(t){return t.preventDefault(),e.executa(t)}}},[a("q-field",[a("q-radio",{staticClass:"q-mr-sm",attrs:{label:"Devolução",val:"devolucao"},on:{input:function(t){e.motivo=""}},model:{value:e.tipo,callback:function(t){e.tipo=t},expression:"tipo"}}),a("q-radio",{attrs:{label:"Garantia",val:"garantia"},model:{value:e.tipo,callback:function(t){e.tipo=t},expression:"tipo"}}),"garantia"===e.tipo?a("campo",{attrs:{rotulo:"Motivo",tipo:"seletor",opcoes:e.motivos},model:{value:e.motivo,callback:function(t){e.motivo=t},expression:"motivo"}}):e._e()],1),a("div",{staticClass:"q-mt-lg text-center"},[a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"primary",label:"Continua",type:"submit"}})],1)],1)],1)],1)],1)},bq=[];Cq._withStripped=!0;var gq={components:{Campo:Sl},data:function(){return{motivo:"",motivos:[],tipo:"devolucao"}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.motivo="",this.tipo="devolucao",e.next=4,Zn.configuracoes.le({nome:"vendas.garantia.motivo"});case 4:t=e.sent,this.motivos=t.map(function(e){return e.valor});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),input:function(e){this.$emit("input",e)},executa:function(){"garantia"!==this.tipo||this.motivo?(this.$emit("executa",{tipo:this.tipo,motivo:this.motivo}),this.$emit("input",!1)):this.$q.notify({message:"Selecione o motivo",type:"negative"})}},props:{value:{required:!0,type:Boolean}},watch:{value:function(e){e&&this.atualizar()}}},xq=gq,_q=Object(sc["a"])(xq,Cq,bq,!1,null,null,null);_q.options.__file="VendaDevolucaoGarantia.vue";var qq=_q.exports,Sq={components:{Avatar:Fc,Campo:Sl,NFePrincipal:fq,VendaCard:eb,VendaDevolucaoGarantia:qq,VendaModal:YC},computed:{temVendasAbertas:function(){return!!this.vendasAbertas.length},temVendasCanceladas:function(){return!!this.vendasCanceladas.length},temVendasFinalizadas:function(){return!!this.vendasFinalizadas.length},temRegistros:function(){return this.temVendasAbertas||this.temVendasCanceladas||this.temVendasFinalizadas}},data:function(){return{dbContato:Zn.contato,grupos:[],documentos:{},vendasAbertas:[],vendasCanceladas:[],vendasFinalizadas:[],filtro:{},tipoData:"",tiposData:[{label:"Emissão",value:"emissao"},{label:"Finalizado",value:"finalizado"}],tipoLista:"documentos",dataIni:null,dataFim:null,carregando:!1,colunas:[{name:"descricao",label:"Descrição",align:"left"},{name:"documento",label:"Documento",align:"left"},{name:"valorUnitario",label:"Valor Unitário",align:"right"},{name:"quantidade",label:"Quantidade",align:"right"},{name:"valorTotal",label:"Valor Total",align:"right"},{name:"botao",label:"",align:"right"}],paginacao:{page:1,rowsPerPage:25},modalDevolucaoGarantia:{visivel:!1},modalVenda:{visivel:!1,orcamento:{}},urlHistoricoCliente:""}},methods:{adicionarOrcamento:function(){this.modalVenda={visivel:!0,orcamento:{}}},abrirModalDevolucaoGarantia:function(e){this.modalDevolucaoGarantia={visivel:!0,documentoItem:e}},alternarLista:function(){this.tipoLista="documentos"===this.tipoLista?"itens":"documentos",this.atualizar()},fechouNFe:function(e){e&&qa.$emit("atualizarDocumentosFiscais")},finalizaDevolucaoGarantia:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.modalDevolucaoGarantia.documentoItem||{},!r.idDocumento){e.next=8;break}return e.next=4,He().documento.get(r.idDocumento);case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:i=e.t0;case 8:if(i.id){e.next=11;break}return this.$q.notify("Venda original não encontrada"),e.abrupt("return");case 11:if(s={},!this.modalDevolucaoGarantia.documentoItem.idItem){e.next=19;break}return e.next=15,He().item.get(this.modalDevolucaoGarantia.documentoItem.idItem);case 15:if(e.t1=e.sent,e.t1){e.next=18;break}e.t1={};case 18:s=e.t1;case 19:if(s.id){e.next=22;break}return this.$q.notify("Erro na recuperação do item"),e.abrupt("return");case 22:if(a=i.idContato,o=i.idEmpresa,a){e.next=27;break}return this.$q.notify("Destinatário não encontrado"),e.abrupt("return");case 27:if(o){e.next=30;break}return this.$q.notify("Emitente não encontrado"),e.abrupt("return");case 30:return e.next=32,He().documento.where({idContato:a,idEmpresa:o,tipo:"Venda",status:"Orçamento"}).toArray();case 32:if(n=e.sent,n.sort(function(e,t){return new Date(e.dataHoraEmissao)<new Date(t.dataHoraEmissao)?1:-1}),!n.length){e.next=42;break}return e.next=37,He().documentoEndereco.where({idDocumento:n[0].id}).toArray();case 37:d=e.sent,u=d.find(function(e){return e.idContato===a})||{},m=d.find(function(e){return e.idContato===o})||{},u.id&&(c=u.uf),m.id&&(l=m.uf);case 42:if(c){e.next=49;break}return e.next=45,He().contatoEndereco.where({idContato:a}).toArray();case 45:p=e.sent,v=p.find(function(e){return"principal"===(e.grupo||"").trim().toLowerCase()})||{},v.id||(v=p[0]||{}),v.id&&(c=v.uf);case 49:if(l){e.next=56;break}return e.next=52,He().contatoEndereco.where({idContato:o}).toArray();case 52:h=e.sent,f=h.find(function(e){return"principal"===(e.grupo||"").trim().toLowerCase()})||{},f.id||(f=h[0]||{}),f.id&&(l=f.uf);case 56:return C=20,c&&l&&c!==l&&(C=138),e.next=60,Zn.cfop.le({codigoCfop:C});case 60:if(b=e.sent,b.length){e.next=64;break}return this.$q.notify("CFOP não encontrado"),e.abrupt("return");case 64:return g=at()({},b[0]),e.next=67,To(s.ncm,b[0].cfop);case 67:if(b=e.sent,b||(b=g),x={},"devolucao"===t.tipo&&(x.operacao="Devolução de Venda"),"garantia"===t.tipo&&(x.operacao="Garantia de Venda",x.motivo=t.motivo),x.id=hi(),x.dataHoraFinalizado="",x.idDocumentoItemVenda=this.modalDevolucaoGarantia.documentoItem.id,x.idDocumentoVenda=this.modalDevolucaoGarantia.documentoItem.idDocumento,x.idItem=this.modalDevolucaoGarantia.documentoItem.idItem,x.idPlanoContaDestino=this.modalDevolucaoGarantia.documentoItem.idPlanoContaDestino,x.idPlanoContaEstoque=this.modalDevolucaoGarantia.documentoItem.idPlanoContaEstoque,x.tipoItem=this.modalDevolucaoGarantia.documentoItem.tipoItem,x.descricaoItem=this.modalDevolucaoGarantia.documentoItem.descricaoItem,x.status="Orçamento",x.quantidade=this.modalDevolucaoGarantia.documentoItem.quantidade||1,x.operacaoFator=(b||{}).fator,x.idCfop=(b||{}).id,x.descontoItem=dt(-1*((this.modalDevolucaoGarantia.documentoItem.valorItem||0)-(this.modalDevolucaoGarantia.documentoItem.valorReal||0))),x.descontoPercentualItem=dt(100*(x.descontoItem||0)/(-1*(this.modalDevolucaoGarantia.documentoItem.valorItem||0))),x.descontoTotalRateado=0,x.descontoFaturaRateado=0,x.descontoSubTotal=this.modalDevolucaoGarantia.documentoItem.descontoSubTotal||0,x.valorCustoMedio=dt(this.modalDevolucaoGarantia.documentoItem.valorCustoMedio||0),x.valorOriginal=dt(-1*(this.modalDevolucaoGarantia.documentoItem.valorOriginal||0)),x.valorItem=dt(-1*(this.modalDevolucaoGarantia.documentoItem.valorItem||0)),x.subTotal=dt(-1*(this.modalDevolucaoGarantia.documentoItem.valorRealTotal||0)),x.total=dt(-1*(this.modalDevolucaoGarantia.documentoItem.valorRealTotal||0)),localStorage.setItem("documentoItemDevolucao",JSON.stringify(x)),!n.length){e.next=102;break}return x.idDocumento=n[0].id,x.dataHoraEmissao=na(),e.next=101,Zn.documentoItem.grava({atual:x});case 101:this.$q.notify({message:"Item adicionado ao orçamento.",type:"positive"});case 102:this.modalVenda={visivel:!0,orcamento:n.length?n[0]:{}};case 103:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.documentos={},this.documentosItens=[],this.paginacao={page:1,rowsPerPage:25},a=JSON.parse(localStorage.getItem("clienteSistema"))||{},t="https://rel.storage.b15.com.br/Relatorios/OptiSoul/historico-cliente.html?",t+="CodigoCliente="+this.dbContato.selecionado.codigoContato,t+="&BancoDeDados="+a.bancoDeDados,t+="&URLServidor="+a.urlServidor,this.urlHistoricoCliente=t,this.carregando=!0,e.next=12,this.filtrar();case 12:this.carregando=!1;case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),executar:function(e){this.atualizar()},filtrar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w,y,N,k,M,P,D,E,T,A,O,$,R,j,z,B,L,V,U,H;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=Zn.contato.selecionado.id,t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Zn.permissao.objeto("Diretiva_Venda/Fatura_OutrasLojas_VerTodos");case 5:return a=e.sent,e.next=8,Zn.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);case 8:return o=e.sent,e.next=11,He().documento.where({idContato:t,tipo:"Venda"}).toArray();case 11:i=e.sent,a||(i=i.filter(function(e){return o.find(function(t){return t.id===e.idEmpresa})})),this.dataIni&&this.dataFim&&(r=new Date(this.dataIni).setHours(0,0,0,0),s=new Date(this.dataFim).setHours(0,0,0,0),i=i.filter(function(e){var t=e.dataHoraFinalizado||e.dataHoraEmissao;if(t)return t=new Date(t).setHours(0,0,0,0),t>=r&&t<=s})),n=[],c=!0,l=!1,d=void 0,e.prev=18,u=i[Symbol.iterator]();case 20:if(c=(m=u.next()).done){e.next=29;break}return p=m.value,e.next=24,Zn.documentoItem.leNew({idDocumento:p.id});case 24:v=e.sent,n=la()(n).concat(la()(v.filter(function(e){return e.idItem})));case 26:c=!0,e.next=20;break;case 29:e.next=35;break;case 31:e.prev=31,e.t0=e["catch"](18),l=!0,d=e.t0;case 35:e.prev=35,e.prev=36,c||null==u.return||u.return();case 38:if(e.prev=38,!l){e.next=41;break}throw d;case 41:return e.finish(38);case 42:return e.finish(35);case 43:h=[],f={},C=regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=n[b],!t.idItem||h.filter(function(e){return e.id===t.idItem}).length){e.next=6;break}return e.next=4,Zn.item.leNew({id:t.idItem});case 4:a=e.sent,h.push(a);case 6:case"end":return e.stop()}},e)}),b=0;case 47:if(!(b<n.length)){e.next=52;break}return e.delegateYield(C(),"t1",49);case 49:b++,e.next=47;break;case 52:if(this.grupos.length){e.next=65;break}for(this.documentos=i.reduce(function(e,t){return e[t.id]||(e[t.id]=t),e},{}),i=Object(ot["orderBy"])(i,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"]),g=["Aguardando Liberação","Aguardando Estoque","Aguardando Financeiro","Orçamento"],x=["Não Aprovado","Cancelado"],this.vendasAbertas=i.filter(function(e){return g.includes(e.status)}),this.vendasCanceladas=i.filter(function(e){return x.includes(e.status)}),this.vendasFinalizadas=i.filter(function(e){return!g.concat(x).includes(e.status)}),_=function(){var e=n[q];if(!f[e.idItem]){var t=h.filter(function(t){return t.id===e.idItem});t.length&&(f[e.idItem]=t[0])}},q=0;q<n.length;q++)_();return this.itens=f,this.documentosItens=Object(ot["orderBy"])(n,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"]),e.abrupt("return");case 65:for(S=Yt(this.grupos).map(function(e){return oo(e)}),I=i.filter(function(e){if(!e.numero)return!1;var t=String(e.numero),a=!0,o=!1,i=void 0;try{for(var r,s=S[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var n=r.value,c=new RegExp(n,"gi");if(t.match(c))return!0}}catch(e){o=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}}),F=[],w=n.filter(function(e){if(!e.idItem&&!e.descricaoItem)return!1;var t=oo(e.descricaoItem),a=!0,o=!1,i=void 0;try{for(var r,s=S[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var n=r.value,c=new RegExp(n,"gi");if(t.match(c))return F.push(e.id),!0}}catch(e){o=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}}),f=h.filter(function(e){var t=e.marca||"",a=e.referencia||"",o=e.codigoItem?String(e.codigoItem):"",i=e.codigoBarras||"",r=oo(t+a+o+i),s=!0,n=!1,c=void 0;try{for(var l,d=S[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var u=l.value,m=new RegExp(u,"gi");if(r.match(m))return!0}}catch(e){n=!0,c=e}finally{try{s||null==d.return||d.return()}finally{if(n)throw c}}}),y=!0,N=!1,k=void 0,e.prev=73,M=function(){var e=D.value,t=n.filter(function(t){if(t.idItem&&t.idDocumento===e.id&&!F.includes(t.id))return F.push(t.id),!0});w=la()(w).concat(la()(t))},P=I[Symbol.iterator]();!(y=(D=P.next()).done);y=!0)M();e.next=82;break;case 78:e.prev=78,e.t2=e["catch"](73),N=!0,k=e.t2;case 82:e.prev=82,e.prev=83,y||null==P.return||P.return();case 85:if(e.prev=85,!N){e.next=88;break}throw k;case 88:return e.finish(85);case 89:return e.finish(82);case 90:for(E=!0,T=!1,A=void 0,e.prev=93,O=function(){var e=R.value,t=n.filter(function(t){if(t.idItem===e.id&&!F.includes(t.id))return F.push(t.id),!0});w=la()(w).concat(la()(t))},$=f[Symbol.iterator]();!(E=(R=$.next()).done);E=!0)O();e.next=102;break;case 98:e.prev=98,e.t3=e["catch"](93),T=!0,A=e.t3;case 102:e.prev=102,e.prev=103,E||null==$.return||$.return();case 105:if(e.prev=105,!T){e.next=108;break}throw A;case 108:return e.finish(105);case 109:return e.finish(102);case 110:for(w=w.filter(function(e){var t=Yt(S),a=i.filter(function(t){return t.id===e.idDocumento}),o=h.filter(function(t){return t.id===e.idItem});a=a.length?a[0]:{},o=o.length?o[0]:{};var r=a.numero?String(a.numero):"";if(r+=e.descricaoItem||"",r+=o.marca||"",r+=o.referencia||"",r+=o.codigoItem?String(o.codigoItem):"",r+=o.codigoBarras||"",r){var s=!0,n=!1,c=void 0;try{for(var l,d=function(){var e=l.value,a=new RegExp(e,"gi");r.match(a)&&(t=t.filter(function(t){return t!==e}))},u=S[Symbol.iterator]();!(s=(l=u.next()).done);s=!0)d()}catch(e){n=!0,c=e}finally{try{s||null==u.return||u.return()}finally{if(n)throw c}}}if(!t.length)return!0}),j=[],I=[],f={},z=!0,B=!1,L=void 0,e.prev=117,V=function(){var e=H.value;if(j.includes(e.idDocumento)||(j.push(e.idDocumento),I=la()(I).concat(la()(i.filter(function(t){return t.id===e.idDocumento})))),!f[e.idItem]){var t=h.filter(function(t){return t.id===e.idItem});t.length&&(f[e.idItem]=t[0])}},U=w[Symbol.iterator]();!(z=(H=U.next()).done);z=!0)V();e.next=126;break;case 122:e.prev=122,e.t4=e["catch"](117),B=!0,L=e.t4;case 126:e.prev=126,e.prev=127,z||null==U.return||U.return();case 129:if(e.prev=129,!B){e.next=132;break}throw L;case 132:return e.finish(129);case 133:return e.finish(126);case 134:this.documentos=I.reduce(function(e,t){return e[t.id]||(e[t.id]=t),e},{}),i=Object(ot["orderBy"])(I,["dataHoraEmissao"],["desc"]),this.vendasAbertas=i.filter(function(e){return"Orçamento"===e.status}),this.vendasCanceladas=i.filter(function(e){return["Não Aprovado","Cancelado"].includes(e.status)}),this.vendasFinalizadas=i.filter(function(e){return!["Não Aprovado","Cancelado","Orçamento"].includes(e.status)}),this.itens=f,this.documentosItens=Object(ot["orderBy"])(w,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"]);case 141:case"end":return e.stop()}},e,this,[[18,31,35,43],[36,,38,42],[73,78,82,90],[83,,85,89],[93,98,102,110],[103,,105,109],[117,122,126,134],[127,,129,133]])}));return function(){return e.apply(this,arguments)}}(),limparFiltro:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.grupos=[],this.dataFim=new Date,this.dataIni=new Date(ra()().add(-3,"months")),!Zn.contato.selecionado.codigoContato){e.next=8;break}return e.next=6,Zn.configuracoes.leValorNumerico("venda.codigoconsumidor");case 6:t=e.sent,Zn.contato.selecionado.codigoContato===t&&(this.dataIni=this.dataFim);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},watch:{"dbContato.selecionado":function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t.id){e.next=5;break}return this.tipoLista="documentos",e.next=4,this.limparFiltro();case 4:this.atualizar();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},mounted:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!Zn.contato.selecionado.id){e.next=4;break}return e.next=3,this.limparFiltro();case 3:this.atualizar();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},Iq=Sq,Fq=(a("10f9"),Object(sc["a"])(Iq,Vg,Ug,!1,null,"5dfc5ff6",null));Fq.options.__file="AtendimentoVenda.vue";var wq=Fq.exports,yq=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"AtendimentoFatura q-pb-md"},[a("q-card",{staticClass:"shadow-3 row no-shadow"},[a("div",{staticClass:"col-12"},[a("q-toolbar",{staticClass:"no-shadow q-pa-none",attrs:{"text-color":"black",color:"transparent"}},[a("q-toolbar-title",{staticClass:"q-pa-none"},[a("div",{staticClass:"filters row content-stretch justify-between q-pt-sm q-pr-sm q-ma-md gutter-x-sm bg-white",staticStyle:{"border-radius":"5px","min-height":"50px"}},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"row q-mb-sm"},[a("q-btn",{staticClass:"no-shadow",attrs:{icon:"mdi-filter",round:"",dense:"",flat:"",color:"faded"}}),a("q-chips-input",{staticClass:"col q-mx-md",attrs:{color:"faded",placeholder:e.grupos.length?"":"Cliente, código, número..."},on:{input:e.atualizar},model:{value:e.grupos,callback:function(t){e.grupos=t},expression:"grupos"}})],1)]),a("div",{staticClass:"col-auto"},[a("div",{staticClass:"row q-mb-sm"},[a("campo",{staticClass:"col q-mx-md",attrs:{tipo:"data"},on:{input:e.atualizar},model:{value:e.dataIni,callback:function(t){e.dataIni=t},expression:"dataIni"}})],1)]),a("div",{staticClass:"col-auto"},[a("div",{staticClass:"row q-mb-sm"},[a("label",{staticClass:"q-mx-md col-auto"},[e._v("até")])])]),a("div",{staticClass:"col-auto"},[a("div",{staticClass:"row q-mb-sm"},[a("campo",{staticClass:"col q-mx-md",attrs:{tipo:"data"},on:{input:e.atualizar},model:{value:e.dataFim,callback:function(t){e.dataFim=t},expression:"dataFim"}})],1)])])])],1)],1)]),!e.carregando&&e.temRegistros?a("q-list",{staticClass:"no-border"},[e.temFaturasAbertas?a("q-collapsible",{attrs:{opened:"",label:"Abertas",group:"faturasAbertas"}},e._l(e.faturasAbertas,function(t){return a("div",{key:t.id},[a("fatura-card",{staticClass:"q-mb-md",attrs:{id:t.id},on:{executar:e.executar}})],1)})):e._e(),e.temFaturasFinalizadas?a("q-collapsible",{attrs:{opened:"",label:"Finalizadas",group:"faturasFinalizadas"}},e._l(e.faturasFinalizadas,function(t){return a("div",{key:t.id},[a("fatura-card",{staticClass:"q-mb-md",attrs:{id:t.id},on:{executar:e.executar}})],1)})):e._e(),e.temFaturasCanceladas?a("q-collapsible",{attrs:{opened:"",label:"Canceladas",group:"faturasCanceladas"}},e._l(e.faturasCanceladas,function(t){return a("div",{key:t.id},[a("fatura-card",{staticClass:"q-mb-md",attrs:{id:t.id},on:{executar:e.executar}})],1)})):e._e()],1):e._e(),e.carregando||e.temRegistros?e._e():a("div",{staticClass:"q-pa-lg text-center"},[e._m(0)]),e.carregando?a("div",{staticClass:"q-mt-lg text-center"},[a("q-spinner",{attrs:{color:"faded",size:50}})],1):e._e(),a("NFePrincipal",{on:{fechar:e.fechouNFe}})],1)},Nq=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("small",[e._v("Registros não encontrados")])])}];yq._withStripped=!0;var kq={components:{Campo:Sl,FaturaCard:mb,NFePrincipal:fq},computed:{temFaturasAbertas:function(){return!!this.faturasAbertas.length},temFaturasFinalizadas:function(){return!!this.faturasFinalizadas.length},temFaturasCanceladas:function(){return!!this.faturasCanceladas.length},temRegistros:function(){return this.temFaturasAbertas||this.temFaturasFinalizadas||this.temFaturasCanceladas}},data:function(){return{dbContato:Zn.contato,grupos:[],faturasAbertas:[],faturasFinalizadas:[],faturasCanceladas:[],filtro:{},tipoData:"",tiposData:[{label:"Emissão",value:"emissao"},{label:"Finalizado",value:"finalizado"}],dataIni:null,dataFim:null,carregando:!1,faturasPorSecao:"10",faturasPorSecaoOpts:[{value:"5",label:"5"},{value:"10",label:"10"},{value:"15",label:"15"},{value:"20",label:"20"},{value:"25",label:"25"},{value:"50",label:"50"}]}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.faturas=[],this.carregando=!0,e.next=4,xa(500);case 4:return e.next=6,this.filtrar();case 6:this.carregando=!1;case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),executar:function(e){this.atualizar()},fechouNFe:function(e){e&&qa.$emit("atualizarDocumentosFiscais")},filtrar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=[],a=new Date(this.dataIni).toISOString().replace(/T.*/,"T00:00:00.000Z"),o=new Date(this.dataFim).toISOString().replace(/T.*/,"T23:59:59.999Z"),e.next=5,He().documento.where(["tipo","idContato","dataHoraFinalizado"]).between(["Fatura",Zn.contato.selecionado.id,a],["Fatura",Zn.contato.selecionado.id,o],!0,!0).each(function(e){t.push(e)});case 5:return e.next=7,He().documento.where(["tipo","idContato","dataHoraEmissao"]).between(["Fatura",Zn.contato.selecionado.id,a],["Fatura",Zn.contato.selecionado.id,o],!0,!0).each(function(e){t.find(function(t){return t.id===e.id})||t.push(e)});case 7:return e.next=9,Zn.permissao.objeto("Diretiva_Venda/Fatura_OutrasLojas_VerTodos");case 9:return i=e.sent,e.next=12,Zn.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);case 12:for(r=e.sent,i||(t=t.filter(function(e){return r.find(function(t){return t.id===e.idEmpresa})})),s=!0,n=!1,c=void 0,e.prev=17,l=function(){var e=u.value,a=e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");t=t.filter(function(e){var t=e.descricaoContato.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");if(-1!==t.search(a))return!0;var o=Number(e.codigoDocumento);if(Number.isInteger(o)&&-1!==String(o).search(a))return!0;var i=Number(e.numero);return!(!Number.isInteger(i)||-1===String(i).search(a))||void 0})},d=this.grupos[Symbol.iterator]();!(s=(u=d.next()).done);s=!0)l();e.next=26;break;case 22:e.prev=22,e.t0=e["catch"](17),n=!0,c=e.t0;case 26:e.prev=26,e.prev=27,s||null==d.return||d.return();case 29:if(e.prev=29,!n){e.next=32;break}throw c;case 32:return e.finish(29);case 33:return e.finish(26);case 34:t=Object(ot["orderBy"])(t,"dataHoraEmissao","desc"),this.faturasAbertas=t.filter(function(e){return"Aberta"===e.status}),this.faturasFinalizadas=t.filter(function(e){return!["Aberta","Cancelada"].includes(e.status)}),this.faturasCanceladas=t.filter(function(e){return"Cancelada"===e.status});case 38:case"end":return e.stop()}},e,this,[[17,22,26,34],[27,,29,33]])}));return function(){return e.apply(this,arguments)}}(),limparFiltro:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.grupos=[],this.dataFim=new Date,this.dataIni=new Date(ra()().add(-3,"months")),!Zn.contato.selecionado.codigoContato){e.next=8;break}return e.next=6,Zn.configuracoes.leValorNumerico("venda.codigoconsumidor");case 6:t=e.sent,Zn.contato.selecionado.codigoContato===t&&(this.dataIni=this.dataFim);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},watch:{"dbContato.selecionado":function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t.id){e.next=4;break}return e.next=3,this.limparFiltro();case 3:this.atualizar();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},mounted:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!Zn.contato.selecionado.id){e.next=4;break}return e.next=3,this.limparFiltro();case 3:this.atualizar();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},Mq=kq,Pq=(a("b911"),Object(sc["a"])(Mq,yq,Nq,!1,null,"754fa123",null));Pq.options.__file="AtendimentoFatura.vue";var Dq=Pq.exports,Eq=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.equipamentos.length?e._l(e.equipamentos,function(t){return a("div",{key:t.id,staticClass:"bg-white q-mt-md"},[a("div",{staticClass:"row items-start"},[a("div",{staticClass:"col q-pa-md"},[a("div",{staticClass:"row"},[a("strong",[e._v(e._s(t.tipo||"Equipamento"))])])]),a("div",{staticClass:"col-auto"},[a("BadgeCopiarUid",{staticClass:"q-ma-md",attrs:{id:t.id,numero:"",cor:"positive"}})],1),a("div",{staticClass:"col-auto q-py-sm"},[a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""},on:{click:function(a){e.abrirModalEquipamento(t)}}}),a("q-btn",{attrs:{color:"faded",flat:"",icon:"more_vert",round:""}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},[a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(a){e.duplicarEquipamento(t)}}},[a("q-item-side",{attrs:{icon:"file_copy"}}),a("q-item-main",{attrs:{label:"Duplicar"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(a){e.removerEquipamento(t)}}},[a("q-item-side",{attrs:{icon:"delete"}}),a("q-item-main",{attrs:{label:"Remover"}})],1)],1)],1)],1)],1)]),a("div",{staticClass:"row q-px-md q-pb-md"},[a("EquipamentoCard",{attrs:{equipamento:t}})],1),a("div",{staticClass:"row q-mx-lg"},e._l(t.oss,function(e){return a("div",{key:e.id,staticClass:"col-12"},[a("OSCard",{staticClass:"q-mb-md",attrs:{os:e}})],1)}))])}):a("div",{staticClass:"bg-white q-pa-xl text-center"},[a("p",[e._v("Não há equipamentos cadastrados para o contato "+e._s((e.dbContato.selecionado.nome||"").trim())+".")]),a("p",{staticClass:"q-caption"},[e._v("Para incluir, utilize o botão de adição.")])]),a("div",{staticClass:"q-ma-xl"}),a("q-btn",{staticClass:"fixed",staticStyle:{right:"18px",bottom:"18px"},attrs:{round:"",color:"primary",icon:"add",size:"lg"},on:{click:function(t){e.abrirModalEquipamento({})}}}),a("EquipamentoModal",{attrs:{modal:e.modalEquipamento},on:{atualizar:e.atualizar}})],2)},Tq=[];Eq._withStripped=!0;var Aq=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-card",{staticClass:"card-os q-pa-xs"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"q-px-sm"},[a("q-toolbar-title",[e._v("\n            Ordem de serviço\n          ")]),a("q-chip",{staticClass:"q-ma-sm q-my-sm",attrs:{rounded:"",color:"grey",small:""}},[e._v("\n            "+e._s(e.os.status)+"\n          ")]),a("div",[e._v(e._s(e.os.descricao))]),e._.get(e.os,"itens.length")?a("q-list",{staticClass:"no-border"},e._l(e.os.itens,function(t){return a("q-item",{key:t.id,staticClass:"q-pa-none",staticStyle:{"min-height":"auto"}},[a("q-item-side",[a("small",[e._v(e._s(t.quantidade)+"x")])]),a("q-item-main",[a("small",[e._v("\n                  "+e._s(t.descricaoItem)+"\n                ")])]),a("q-item-side",{attrs:{right:""}},[a("small",[e._v(e._s(e._f("numero")(t.total,2)))])])],1)})):e._e()],1)]),a("div",{staticClass:"col-4 col-md-1"},[a("q-tooltip",[e._v("\n          Emissão\n        ")]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v(e._s(e._f("mesNome")(e.os.dataHoraEmissao)))])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v(e._s(e._f("dia")(e.os.dataHoraEmissao)))])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v(e._s(e._f("ano")(e.os.dataHoraEmissao)))])])],1),a("div",{staticClass:"col-12 col-md-3"},[a("BadgeCopiarUid",{staticClass:"q-ma-md",attrs:{id:e.os.id,numero:e.os.numero,cor:"positive"}})],1)])])],1)},Oq=[];Aq._withStripped=!0;var $q={components:{BadgeCopiarUid:px},data:function(){return{}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.os.id){e.next=7;break}return e.t0=this,e.t1=this.os,e.next=5,He().documentoItem.where({idDocumentoAdicional:this.os.id}).toArray();case 5:e.t2=e.sent,e.t0.$set.call(e.t0,e.t1,"itens",e.t2);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},props:{os:{type:Object,required:!0}},mounted:function(){this.atualizar()}},Rq=$q,jq=(a("a72c"),Object(sc["a"])(Rq,Aq,Oq,!1,null,"7aba56e8",null));jq.options.__file="OSCard.vue";var zq=jq.exports,Bq={components:{BadgeCopiarUid:px,EquipamentoCard:Mf,EquipamentoModal:Lf,OSCard:zq},computed:{dbContato:function(){return Zn.contato}},data:function(){return{modalEquipamento:{visivel:!1,campos:{}},equipamentos:[]}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.idContato=this.$db.contato.selecionado.id||this.$route.params.id,e.next=4,this.$db.equipamento.le({idContato:this.idContato});case 4:e.t0=function(e,t){return(e.dataCadastro||"z").localeCompare(t.dataCadastro||"z")},this.equipamentos=e.sent.sort(e.t0),this.$utils.gconsole.log("Equipamentos","atualizar",this.equipamentos.length,"linhas"),t=!0,a=!1,o=void 0,e.prev=10,i=this.equipamentos[Symbol.iterator]();case 12:if(t=(r=i.next()).done){e.next=23;break}return s=r.value,e.t1=this,e.t2=s,e.next=18,He().documento.where({idEquipamento:s.id}).toArray();case 18:e.t3=e.sent,e.t1.$set.call(e.t1,e.t2,"oss",e.t3);case 20:t=!0,e.next=12;break;case 23:e.next=29;break;case 25:e.prev=25,e.t4=e["catch"](10),a=!0,o=e.t4;case 29:e.prev=29,e.prev=30,t||null==i.return||i.return();case 32:if(e.prev=32,!a){e.next=35;break}throw o;case 35:return e.finish(32);case 36:return e.finish(29);case 37:e.next=42;break;case 39:e.prev=39,e.t5=e["catch"](0),this.$q.notifyError("Ocorreu erro ao consultar equipamentos",e.t5);case 42:case"end":return e.stop()}},e,this,[[0,39],[10,25,29,37],[30,,32,36]])}));return function(){return e.apply(this,arguments)}}(),abrirModalEquipamento:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$utils.gconsole.log("Equipamentos","abrirModalEquipamento",at()({},t)),this.modalEquipamento={visivel:!0,campos:this.$utils.clonarV2(t),original:this.$utils.clonarV2(t)};case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),duplicarEquipamento:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t||(t=this.modalEquipamento.campos),a=this.$utils.clonarV2(t),a.id=this.$utils.uuid(),delete a.dataCadastro,this.modalEquipamento={visivel:!0,campos:a},this.$q.notifyPositive("Equipamento duplicado com sucesso");case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),removerEquipamento:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$utils.gconsole.log("Equipamentos","removerEquipamento",at()({},t)),e.prev=1,e.next=4,this.$q.dialog({cancel:!0,color:"negative",title:"Tem certeza?",message:"Ao continuar você irá remover o equipamento",ok:"Remover"});case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e["catch"](1),e.abrupt("return");case 9:this.tryLoading(Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.$db.equipamento.remove(t.id);case 2:return e.next=4,a.atualizar();case 4:a.$q.notifyPositive("O equipamento foi removido com sucesso");case 5:case"end":return e.stop()}},e)})),{erro:"Erro ao remover equipamento"});case 10:case"end":return e.stop()}},e,this,[[1,6]])}));return function(t){return e.apply(this,arguments)}}()},watch:{"dbContato.selecionado":function(e){this.$utils.gconsole.log("Equipamentos","watch contato",e),this.idContato!==e.id&&this.atualizar()}},mounted:function(){this.atualizar()}},Lq=Bq,Vq=Object(sc["a"])(Lq,Eq,Tq,!1,null,null,null);Vq.options.__file="Equipamentos.vue";var Uq=Vq.exports,Hq=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Qg"},[a("barra-topo"),e.contato?a("q-page-container",[a("q-page",{staticClass:"u-container"},[a("q-toolbar",{staticClass:"q-py-sm q-mb-sm topo",attrs:{color:"none"}},[a("avatar",{attrs:{imagem:e.contato.imagem,rotulo:!!e.podeAcessar&&e.contato.apelido,tamanho:"40"}}),a("q-toolbar-title",[a("q-select",{staticStyle:{float:"left",width:"auto"},attrs:{multiple:"",chips:"",options:e.dados.empresa},model:{value:e.dados.empresaselecionada,callback:function(t){e.$set(e.dados,"empresaselecionada",t)},expression:"dados.empresaselecionada"}})],1)],1),a("q-tabs",{attrs:{align:"justify",color:"none"}},[e._l(e.abas,function(t,o){return a("q-route-tab",e._b({key:o,staticClass:"Qg-aba",attrs:{slot:"title"},slot:"title"},"q-route-tab",t,!1))}),a("router-view")],2)],1)],1):e._e()],1)},Qq=[];function Gq(){var e;(e=console).log.apply(e,arguments)}Hq._withStripped=!0;var Jq={components:{Avatar:Fc,BarraTopo:El},computed:at()({abas:function(){return[{icon:"gps_fixed",label:"QG",to:{name:"Qg2Dashboard"}},{icon:"group",label:"Equipe",to:{name:"Qg2Equipe"}},{icon:"compare_arrows",label:"Estoque",to:{name:"Qg2Estoque"}},{icon:"star",label:"Records",to:{name:"Qg2Records"}}]},badge:function(){return this.contato.ativo?this.contato.condutaRestricao?{cor:"negative",rotulo:"Restrição"}:!!this.contato.condutaObservacao&&{cor:"warning",rotulo:"Observação"}:{cor:"faded",rotulo:"Excluído"}},badgeDetalhes:function(){var e=this.contato,t=e.ativo,a=e.condutaRestricao,o=e.condutaObservacao;return t&&(a||o)||!1},podeAcessar:function(){return"0"!==this.$route.params.id&&!!this.contato},telefone:function(){var e=this.contato.telefone;return!(!e||!e.length)&&(e=e.find(function(e){return"Principal"===e.tipo})||e[0],e.telefone)}},Object(Jl["b"])({contato:"contato",contatosAtivos:"contatosAtivos",contatosInativos:"contatosInativos"})),data:function(){return{dados:{empresaselecionada:["Loja 1","Loja 2","Loja 3","Loja 4"],empresa:[{label:"Loja 1",value:"Loja 1"},{label:"Loja 2",value:"Loja 2"},{label:"Loja 3",value:"Loja 3"},{label:"Loja 4",value:"Loja 4"}]},carregando:!1,contatosInativosModal:!1,contatosModal:!1,filtrosContatos:[]}},methods:{abrirContato:function(e){this.$router.push({params:{id:e}}),this.contatosInativosModal=!1,this.contatosModal=!1},adicionarContato:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$q.dialog({cancel:!0,message:"Qual é o nome completo?",ok:"Criar",preventClose:!0,prompt:{type:"text"},title:"Cadastrar contato"});case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return this.$q.loading.show(),e.prev=6,e.next=9,this.$store.dispatch("salvarContato",{nome:t});case 9:a=e.sent,this.$router.push({params:{id:a.id}}),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](6),this.$q.notifyError("Erro ao cadastrar contato.",e.t0);case 16:this.$q.loading.hide();case 17:case"end":return e.stop()}},e,this,[[6,13]])}));return function(){return e.apply(this,arguments)}}(),buscarContato:function(){this.filtrosContatos=[{campo:"ativo",filtro:"verdadeiro"}],this.contatosModal=!0},buscarContatoExcluido:function(){this.filtrosContatos=[{campo:"ativo",filtro:"falso"}],this.contatosInativosModal=!0},copiarUid:function(){var e=this.$refs.uid;e.type="text";try{e.select(),document.execCommand("copy"),this.$q.notify({message:"Copiado!",type:"info"})}catch(e){this.$q.notify("Erro ao copiar.")}e.type="hidden",window.getSelection().removeAllRanges()},fecharContatosModal:function(){this.contatosModal=!1},carregarContato:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(Gq("Atendimento.vue carregarContato",this.$route.params.id),!this.carregando){e.next=3;break}return e.abrupt("return");case 3:return this.carregando=!0,e.prev=4,e.next=7,this.$store.dispatch("carregarContato",this.$route.params.id);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](4),this.$q.notifyError("Ocorreu um erro ao obter o contato.",e.t0);case 12:this.carregando=!1;case 13:case"end":return e.stop()}},e,this,[[4,9]])}));return function(){return e.apply(this,arguments)}}()},watch:{"$route.params.id":function(){this.carregarContato()},contato:function(){}},created:function(){Gq("Atendimento.vue created()",this.$route.params.id),this.carregarContato()}},Xq=Jq,Yq=(a("4bc4"),Object(sc["a"])(Xq,Hq,Qq,!1,null,null,null));Yq.options.__file="Qg2.vue";var Wq=Yq.exports,Zq=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Qg2Dashboard"},[a("q-card",{staticClass:" shadow-3 row no-shadow"},[a("div",{staticClass:"col-12 q-pt-md"},[a("q-toolbar",{staticClass:"no-shadow q-pa-none",attrs:{"text-color":"black",color:"transparent"}},[a("q-toolbar-title",{staticClass:"q-pa-none"},[a("div",{staticClass:"filters row q-pa-sm q-ma-md gutter-x-sm bg-white",staticStyle:{"border-radius":"5px","min-height":"50px"}},[a("q-btn",{staticClass:"no-shadow",attrs:{icon:"date_range",round:"",color:"faded"}}),a("q-select",{staticClass:"q-mx-sm q-body-1 col-12 col-lg",attrs:{placeholder:"Vencimento",options:e.selectDataTipo},model:{value:e.selectedDataTipo,callback:function(t){e.selectedDataTipo=t},expression:"selectedDataTipo"}}),a("q-btn",{staticClass:"no-shadow",attrs:{icon:"keyboard_arrow_left",round:"",color:"grey-5"}}),a("q-datetime",{staticClass:"col q-mx-sm",attrs:{type:"date"},model:{value:e.dataIni,callback:function(t){e.dataIni=t},expression:"dataIni"}}),a("label",{staticClass:"q-mx-md col-auto"},[e._v("até")]),a("q-datetime",{staticClass:"col q-mx-sm",attrs:{type:"date"},model:{value:e.dataFin,callback:function(t){e.dataFin=t},expression:"dataFin"}}),a("q-btn",{staticClass:"no-shadow",attrs:{icon:"keyboard_arrow_right",round:"",color:"grey-5"}})],1)])],1)],1)]),a("grid-layout",{attrs:{layout:e.layout,"col-num":12,"row-height":30,"is-draggable":e.draggable,"is-resizable":e.resizable,margin:[30,30],"vertical-compact":!0,"use-css-transforms":!0}},e._l(e.layout,function(e){return a("grid-item",{key:e.i,attrs:{x:e.x,y:e.y,w:e.w,h:e.h,i:e.i,"drag-allow-from":".vue-draggable-handle","drag-ignore-from":".no-drag"}},[a("q-card",{staticClass:"text bg-white no-shadow row borderRadiusBottom"},[a("div",{staticClass:"vue-draggable-handle"}),a("div",{staticClass:"no-drag col-12"},[a(e.i,{tag:"component"})],1)])],1)}))],1)},Kq=[];Zq._withStripped=!0;var eS=a("7be8"),tS=a.n(eS),aS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md faded "},[a("q-toolbar",{staticClass:"q-ma-none",attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-faded q-title q-pa-none"},[e._v("Vendas x Margem\n      "),a("section")])],1),a("div",{staticClass:"row"},[a("scatter-barras",{staticClass:"col",attrs:{dados:e.graficoFluxo,opcoes:e.graficoOpcoesFluxo}})],1)],1)},oS=[];aS._withStripped=!0;var iS,rS,sS={extends:qg["d"],props:{dados:{default:null,type:Object},opcoes:{default:null,type:Object}},mounted:function(){this.renderChart(this.dados,this.opcoes)}},nS=sS,cS=Object(sc["a"])(nS,iS,rS,!1,null,null,null);cS.options.__file="ScatterBarras.vue";var lS=cS.exports,dS={components:{ScatterBarras:lS},data:function(){return{chartColors:{red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(75, 192, 192)",blue:"rgb(54, 162, 235)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"},graficoFluxo:{datasets:[{label:"Loja 1",data:[{x:27,y:5e4}],pointRadius:[13],borderColor:"#2196f3",backgroundColor:"#2196f3"},{label:"Loja 2",data:[{x:37,y:29e3}],pointRadius:[11],borderColor:"rgb(153, 102, 255)",backgroundColor:"rgb(153, 102, 255)"},{label:"Loja 3",data:[{x:42,y:6e4}],pointRadius:[25],borderColor:"rgb(75, 192, 192)",backgroundColor:"rgb(75, 192, 192)"},{label:"Loja 4",data:[{x:28,y:75e3}],pointRadius:[21],borderColor:"rgb(255, 165, 0)",backgroundColor:"rgb(255, 165, 0)"}]},graficoOpcoesFluxo:{scales:{xAxes:[{type:"linear",position:"bottom"}]},responsive:!0,maintainAspectRatio:!1}}}},uS=dS,mS=(a("d6cf"),Object(sc["a"])(uS,aS,oS,!1,null,null,null));mS.options.__file="Qg2DashboardVendas.vue";var pS=mS.exports,vS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md azul faded"},[a("q-toolbar",{staticClass:"q-ma-none",attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-faded q-title q-pa-none"},[e._v("Envelopes")]),a("q-btn",{attrs:{rounded:"",flat:"",dense:"",color:"faded",icon:"remove_red_eye"}})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6 col-lg blocks"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-right"},[e._v("\n        Processando\n      ")]),a("div",{staticClass:"row"},[a("small",{staticClass:"q-caption col text-faded",staticStyle:{"line-height":"12px"}},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"event_available",color:"positive"}}),e._v("14"),a("br"),a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"event_note",color:"amber"}}),e._v("30"),a("br"),a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"event_busy",color:"negative"}}),e._v("20\n          ")],1),a("div",{staticClass:"col q-display-1 text-weight-bold text-right text-primary"},[e._v("64")])])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-right"},[e._v("\n        Outros\n      ")]),a("div",{staticClass:"row"},[a("small",{staticClass:"q-caption col",staticStyle:{"line-height":"12px"}},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"event_available",color:"positive"}}),e._v("5"),a("br"),a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"event_note",color:"amber"}}),e._v("5"),a("br"),a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"event_busy",color:"negative"}}),e._v("5\n          ")],1),a("div",{staticClass:"col q-display-1 text-weight-bold text-right text-primary"},[e._v("15")])])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-right"},[e._v("\n        Pronto para Entrega\n      ")]),a("div",{staticClass:"row"},[a("small",{staticClass:"q-caption col text-faded",staticStyle:{"line-height":"12px"}},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"event_available",color:"positive"}}),e._v("14"),a("br"),a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"event_note",color:"amber"}}),e._v("2"),a("br"),a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"event_busy",color:"negative"}}),e._v("20\n          ")],1),a("div",{staticClass:"col q-display-1 text-weight-bold text-right text-primary"},[e._v("36")])])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-right"},[e._v("\n        Cliente Informado\n      ")]),a("div",{staticClass:"row"},[a("small",{staticClass:"q-caption col text-faded",staticStyle:{"line-height":"12px"}},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"event_available",color:"positive"}}),e._v("4"),a("br"),a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"event_note",color:"amber"}}),e._v("7"),a("br"),a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"event_busy",color:"negative"}}),e._v("3\n          ")],1),a("div",{staticClass:"col q-display-1 text-weight-bold text-right text-primary"},[e._v("14")])])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-right"},[e._v("\n        Entregues\n      ")]),a("div",{staticClass:"row"},[a("small",{staticClass:"q-caption col text-faded",staticStyle:{"line-height":"12px"}},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"event_available",color:"positive"}}),e._v("1"),a("br"),a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"event_note",color:"amber"}}),e._v("2"),a("br"),a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"event_busy",color:"negative"}}),e._v("1\n          ")],1),a("div",{staticClass:"col q-display-1 text-weight-bold text-right text-primary"},[e._v("4")])])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-right q-mx-sm"},[e._v("\n        TME (Dias)\n      ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-right text-primary"},[e._v("\n\n        15\n      ")])],1)])],1)},hS=[];vS._withStripped=!0;var fS={},CS=fS,bS=(a("41da"),Object(sc["a"])(CS,vS,hS,!1,null,null,null));bS.options.__file="Qg2DashboardPagar.vue";var gS=bS.exports,xS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md faded"},[a("q-toolbar",{staticClass:"q-ma-none",attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-faded q-title q-pa-none"},[e._v("Lucro / Prejuizo\n      "),a("section")])],1),a("div",{staticClass:"row"},[a("grafico-barras",{staticClass:"col",attrs:{dados:e.graficoFluxo,opcoes:e.graficoOpcoesFluxo}})],1)],1)},_S=[];xS._withStripped=!0;var qS,SS,IS={extends:qg["a"],props:{dados:{default:null,type:Object},opcoes:{default:null,type:Object}},mounted:function(){this.renderChart(this.dados,this.opcoes)}},FS=IS,wS=Object(sc["a"])(FS,qS,SS,!1,null,null,null);wS.options.__file="GraficoBarras.vue";var yS=wS.exports,NS={components:{GraficoBarras:yS},data:function(){return{graficoFluxo:{labels:["Loja 1","Loja 2","Loja 3","Loja 4"],datasets:[{type:"line",label:"Equilibrio",borderColor:"rgb(54, 162, 235)",backgroundColor:"rgba(219, 40, 40, 0)",borderWidth:1,data:[98148,84324,54285,139285]},{label:"Despesa Fixa",type:"bar",stack:"Stack 0",backgroundColor:"rgba(219, 40, 40, 0.75)",borderColor:"rgb(219, 40, 40)",borderWidth:1,data:[26500,33200,22800,39e3]},{label:"Despesa Variavel",type:"bar",stack:"Stack 0",backgroundColor:"rgba(219, 40, 40, 0.5)",borderColor:"rgb(219, 40, 40)",borderWidth:1,data:[13500,4070,25200,21e3]},{label:"Despesa Projeção",type:"bar",stack:"Stack 0",backgroundColor:"rgba(219, 40, 40, 0.25)",borderColor:"rgb(219, 40, 40)",borderWidth:1,data:[27e3,8140,50400,42e3]},{label:"Venda",type:"bar",stack:"Stack 1",backgroundColor:"rgba(54, 162, 235, 0.75)",borderColor:"rgb(54, 162, 235)",borderWidth:1,data:[5e4,11e3,6e4,75e3]},{label:"Projeção",type:"bar",stack:"Stack 1",backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgb(54, 162, 235)",borderWidth:1,data:[1e5,22e3,12e4,15e4]},{label:"",type:"bar",stack:"Stack 2",backgroundColor:"rgba(54, 162, 235, 0)",borderColor:"rgba(54, 162, 235, 0)",data:[67e3,0,98400,102e3]},{label:"Lucro",type:"bar",stack:"Stack 2",backgroundColor:"rgba(33, 186, 69, 0.5)",borderColor:"rgb(33, 186, 69)",borderWidth:1,data:[83e3,0,81600,123e3]},{label:"Prejuízo",type:"bar",stack:"Stack 2",backgroundColor:"rgba(33, 186, 69, 0.5)",borderColor:"rgb(219, 40, 40)",borderWidth:1,data:[0,-10410,0,0]}]},graficoOpcoesFluxo:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]},legend:{position:"top"}}}}},kS=NS,MS=(a("61fa"),Object(sc["a"])(kS,xS,_S,!1,null,null,null));MS.options.__file="Qg2DashboardEquilibrio.vue";var PS=MS.exports,DS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md faded"},[a("q-toolbar",{staticClass:"q-ma-none",attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-faded q-title q-pa-none"},[e._v("Estoque\n      "),a("section")])],1),a("div",{staticClass:"row"},[a("grafico-barras",{staticClass:"col",attrs:{dados:e.graficoFluxo,opcoes:e.graficoOpcoesFluxo}})],1),a("q-toolbar",{staticClass:"q-ma-none",attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-faded q-title q-pa-none"},[e._v("Em dias\n      "),a("section")])],1),a("div",{staticClass:"row q-px-lg"},[a("div",{staticClass:"col-12 col-md-6 col-lg blocks azul"},[a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-center text-primary"},[e._v("15      ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary text-center q-mx-sm"},[e._v("\n        loja 01\n      ")])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks azul"},[a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-center text-primary"},[e._v("360      ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary text-center q-mx-sm"},[e._v("\n        Loja 02\n      ")])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks azul"},[a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-center text-primary"},[e._v("47      ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary text-center q-mx-sm"},[e._v("\n        Loja 03\n      ")])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks azul"},[a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-center text-primary"},[e._v("92      ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary text-center q-mx-sm"},[e._v("\n        Loja 04\n      ")])],1)])],1)},ES=[];DS._withStripped=!0;var TS={components:{GraficoBarras:yS},data:function(){return{graficoFluxo:{labels:["Loja 01","Loja 02","Loja 03","Loja 04"],datasets:[{type:"bar",label:"Inicial",borderColor:"rgb(54, 162, 235)",backgroundColor:"rgba(54, 162, 235, 0.75)",borderWidth:2,fill:!1,data:[115e3,15e4,12e4,13e4]},{label:"Final",type:"bar",backgroundColor:"rgba(75, 192, 192, 0.75)",borderColor:"rgb(75, 192, 192)",borderWidth:1,data:[117e3,165e3,135e3,112e3]}]},graficoOpcoesFluxo:{responsive:!0,maintainAspectRatio:!1,legend:{position:"top"}}}}},AS=TS,OS=(a("cd8b"),Object(sc["a"])(AS,DS,ES,!1,null,null,null));OS.options.__file="Qg2DashboardEstoque.vue";var $S=OS.exports,RS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md faded"},[a("q-toolbar",{staticClass:"q-ma-none",attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-faded q-title q-pa-none"},[e._v("Ticket Médio\n      "),a("section")])],1),a("div",{staticClass:"row"},[a("grafico-barras",{staticClass:"col-12 col-md-6",attrs:{dados:e.graficoFluxo,opcoes:e.graficoOpcoesFluxo}}),a("grafico-barras",{staticClass:"col-12 col-md-6",attrs:{dados:e.graficoFluxo2,opcoes:e.graficoOpcoesFluxo}})],1)],1)},jS=[];RS._withStripped=!0;var zS={components:{GraficoBarras:yS},data:function(){return{graficoFluxo:{labels:["Loja 01","Loja 02","Loja 03","Loja 04"],datasets:[{type:"bar",label:"Valor",borderColor:"rgb(54, 162, 235)",backgroundColor:"rgba(54, 162, 235, 0.75)",borderWidth:1,data:[42,72,86,65]}]},graficoFluxo2:{labels:["Loja 01","Loja 02","Loja 03","Loja 04"],datasets:[{label:"Quantidade",type:"bar",backgroundColor:"rgba(219, 40, 40, 0.75)",borderColor:"rgb(219, 40, 40)",borderWidth:1,data:[42,72,86,65]}]},graficoOpcoesFluxo:{responsive:!0,maintainAspectRatio:!1,legend:{position:"top"}}}}},BS=zS,LS=(a("6dca"),Object(sc["a"])(BS,RS,jS,!1,null,null,null));LS.options.__file="Qg2DashboardTicket.vue";var VS=LS.exports,US=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md faded"},[a("q-toolbar",{staticClass:"q-ma-none",attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-faded q-title q-pa-none"},[e._v("Média de vendas (dia)\n      "),a("section")])],1),a("div",{staticClass:"row"},[a("grafico-barras",{staticClass:"col-12",attrs:{dados:e.graficoFluxo,opcoes:e.graficoOpcoesFluxo}})],1)],1)},HS=[];US._withStripped=!0;var QS={components:{GraficoBarras:yS},data:function(){return{graficoFluxo:{labels:["Loja 01","Loja 02","Loja 03","Loja 04"],datasets:[{type:"bar",label:"Valor",borderColor:"rgb(54, 162, 235)",backgroundColor:"rgba(54, 162, 235, 0.75)",borderWidth:1,data:[42,35,51,48]}]},graficoOpcoesFluxo:{responsive:!0,maintainAspectRatio:!1,legend:{position:"top"}}}}},GS=QS,JS=(a("c804"),Object(sc["a"])(GS,US,HS,!1,null,null,null));JS.options.__file="Qg2DashboardMedia.vue";var XS=JS.exports,YS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md faded"},[a("q-toolbar",{staticClass:"q-ma-none",attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-faded q-title q-pa-none"},[e._v("Público Alvo\n      "),a("section")])],1),a("div",{staticClass:"row"},[a("grafico-barras",{staticClass:"col-12 col-md-6",attrs:{dados:e.graficoFluxo,opcoes:e.graficoOpcoesFluxo}}),a("grafico-pizza",{staticClass:"col-12 col-md-3",attrs:{dados:e.graficoGenero,opcoes:e.graficoOpcoesPizza}}),a("grafico-pizza",{staticClass:"col-12 col-md-3",attrs:{dados:e.graficoIdade,opcoes:e.graficoOpcoesPizza}})],1)],1)},WS=[];YS._withStripped=!0;var ZS={components:{GraficoBarras:yS,GraficoPizza:wg},data:function(){return{graficoGenero:{type:"pie",labels:["Masculino","Feminino"],datasets:[{label:"Gênero",backgroundColor:["rgb(75, 192, 192)","rgb(219, 40, 40)"],data:[60,40]}]},graficoFluxo:{labels:["0 a 10","11 a 18","18 a 25","26 a 40","41 a 60","> 60"],datasets:[{label:"Masculino",type:"bar",backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgb(75, 192, 192)",borderWidth:1,data:[60,35,74,81,35,40]},{label:"Feminino",type:"bar",backgroundColor:"rgba(219, 40, 40, 0.25)",borderColor:"rgb(219, 40, 40)",borderWidth:1,data:[20,50,75,30,35,40]}]},graficoIdade:{type:"pie",labels:["0 a 10","11 a 18","18 a 25","26 a 40","41 a 60","> 60"],datasets:[{label:"Idade",backgroundColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)"],data:[5,10,15,30,20,20]}]},graficoOpcoesPizza:{responsive:!0},graficoOpcoesFluxo:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]},legend:{position:"top"}}}}},KS=ZS,eI=(a("a047"),Object(sc["a"])(KS,YS,WS,!1,null,null,null));eI.options.__file="Qg2DashboardPublico.vue";var tI=eI.exports,aI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md faded"},[a("q-toolbar",{staticClass:"q-ma-none",attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-faded q-title q-pa-none"},[e._v("Financeiro")])],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6 col-lg blocks verde"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-right q-mx-sm"},[e._v("\n        Recebido\n      ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-right text-positive"},[a("div",{staticClass:"graph"},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),e._v("\n        15.320,00\n      ")])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks vermelho"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-right q-mx-sm"},[e._v("\n        Pago\n      ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-right text-negative"},[a("div",{staticClass:"graph"},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),e._v("\n        12.290,00\n      ")])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks azul"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-right q-mx-sm"},[e._v("\n        Saldo (R$) disponivel\n      ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-right text-primary"},[a("div",{staticClass:"graph"},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),e._v("\n        7.900,00\n      ")])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks verde"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-right q-mx-sm"},[e._v("\n        Receber\n      ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-right text-positive"},[a("div",{staticClass:"graph"},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),e._v("\n        6.200,00\n      ")])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks vermelho"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-right q-mx-sm"},[e._v("\n        Pagar\n      ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-right text-negative"},[a("div",{staticClass:"graph"},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),e._v("\n        6.752,00\n      ")])],1)])],1)},oI=[];aI._withStripped=!0;var iI={},rI=iI,sI=(a("22e5"),Object(sc["a"])(rI,aI,oI,!1,null,null,null));sI.options.__file="Qg2DashboardHoje.vue";var nI=sI.exports,cI={components:{GridLayout:tS.a.GridLayout,GridItem:tS.a.GridItem,Qg2DashboardVendas:pS,Qg2DashboardPagar:gS,Qg2DashboardEquilibrio:PS,Qg2DashboardEstoque:$S,Qg2DashboardTicket:VS,Qg2DashboardMedia:XS,Qg2DashboardPublico:tI,Qg2DashboardHoje:nI},data:function(){return{grupos:[],dataIni:"",dataFin:"",selectedDataTipo:"",selectDataTipo:[{label:"Vencimento",value:"goog"},{label:"Outro",value:"fb"}],layout:[],draggable:!0,resizable:!0,responsive:!0,mirrored:!0,index:0}},methods:{handleResize:function(){window.innerWidth<768?this.layout=[{x:0,y:0,w:12,h:9,i:nI},{x:0,y:9,w:12,h:9,i:pS},{x:0,y:18,w:12,h:11,i:gS},{x:0,y:29,w:12,h:9,i:PS},{x:0,y:39,w:12,h:15,i:VS},{x:0,y:54,w:12,h:8,i:XS},{x:0,y:20,w:12,h:15,i:$S},{x:0,y:70,w:12,h:17,i:tI}]:window.innerWidth<=997?this.layout=[{x:0,y:0,w:12,h:6,i:nI},{x:0,y:3,w:12,h:9,i:pS},{x:0,y:10,w:12,h:6,i:gS},{x:0,y:14,w:12,h:8,i:PS},{x:0,y:20,w:12,h:8,i:VS},{x:8,y:20,w:12,h:8,i:XS},{x:8,y:28,w:12,h:12,i:$S},{x:0,y:40,w:12,h:9,i:tI}]:this.layout=[{x:0,y:0,w:12,h:3,i:nI},{x:0,y:3,w:12,h:9,i:pS},{x:0,y:10,w:12,h:3,i:gS},{x:0,y:13,w:12,h:8,i:PS},{x:0,y:20,w:8,h:9,i:VS},{x:8,y:20,w:4,h:9,i:XS},{x:0,y:28,w:12,h:11,i:$S},{x:0,y:40,w:12,h:9,i:tI}]}},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()}},lI=cI,dI=(a("e3ba"),Object(sc["a"])(lI,Zq,Kq,!1,null,null,null));dI.options.__file="Qg2Dashboard.vue";var uI=dI.exports,mI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"CockpitReceber"},[a("div",{staticClass:"q-pb-md"},[a("q-card",{staticClass:" shadow-3 row no-shadow"},[a("div",{staticClass:"col-12 q-pt-md"},[a("q-toolbar",{staticClass:"no-shadow q-pa-none",attrs:{"text-color":"black",color:"transparent"}},[a("q-toolbar-title",{staticClass:"q-pa-none"},[a("div",{staticClass:"filters row q-pa-sm q-ma-md gutter-x-sm bg-white",staticStyle:{"border-radius":"5px","min-height":"50px"}},[a("q-btn",{staticClass:"no-shadow",attrs:{icon:"filter_list",round:"",color:"faded"}}),a("q-chips-input",{staticClass:"col-12 col-lg-4 q-mx-sm",attrs:{color:"faded"},model:{value:e.grupos,callback:function(t){e.grupos=t},expression:"grupos"}}),a("q-btn",{staticClass:"no-shadow",attrs:{icon:"date_range",round:"",color:"faded"}}),a("q-select",{staticClass:"q-mx-sm q-body-1 col-12 col-lg-2",attrs:{placeholder:"Vencimento",options:e.selectDataTipo},model:{value:e.selectedDataTipo,callback:function(t){e.selectedDataTipo=t},expression:"selectedDataTipo"}}),a("q-btn",{staticClass:"no-shadow",attrs:{icon:"keyboard_arrow_left",round:"",color:"grey-5"}}),a("q-datetime",{staticClass:"col q-mx-sm",attrs:{type:"date"},model:{value:e.dataIni,callback:function(t){e.dataIni=t},expression:"dataIni"}}),a("label",{staticClass:"q-mx-md col-auto"},[e._v("até")]),a("q-datetime",{staticClass:"col q-mx-sm",attrs:{type:"date"},model:{value:e.dataFin,callback:function(t){e.dataFin=t},expression:"dataFin"}}),a("q-btn",{staticClass:"no-shadow",attrs:{icon:"keyboard_arrow_right",round:"",color:"grey-5"}})],1)])],1)],1)]),a("div",{staticClass:"no-shadow"},[a("q-list",{staticClass:"q-my-sm"},[a("q-collapsible",{attrs:{opened:"",label:"Loja 01"}},[a("q-card",{staticClass:"extratoItem bg-white q-my-md q-py-sm q-px-md"},[a("div",{staticClass:"row q-mb-xs"},[a("div",{staticClass:"col-12 col-lg-6"},[a("div",{staticClass:"row q-mb-sm"},[a("div",{staticClass:"col"},[a("img",{staticClass:"avatar float-left",staticStyle:{"max-width":"40px",height:"auto",float:"left"},attrs:{src:"https://i.pinimg.com/originals/a9/38/09/a938091f6fdca06fc6e829688f2dbe88.jpg"}}),a("q-toolbar-title",[a("div",[e._v("John Doe\n                      ")]),a("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n                        Loja 01\n                      ")])])],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"progress "},[a("div",{staticClass:"progress-bar bg-primary",staticStyle:{width:"62%"}}),a("div",{staticClass:"progress-bar bg-info",staticStyle:{width:"5%"}}),a("div",{staticClass:"progress-bar progress-bar-animated progress-bar-striped bg-success",staticStyle:{width:"33%"}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"q-title text-weight-bold text-left text-primary q-mt-xs q-pb-none col-12 col-md",staticStyle:{"line-height":"22px"}},[e._v("R$19.000,00\n                    "),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("Mês")])]),a("div",{staticClass:"q-title text-weight-bold text-center text-blue-5 q-mt-xs q-pb-none col-12 col-md",staticStyle:{"line-height":"22px"}},[e._v("R$1.000,00\n                    "),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("Hoje")])]),a("div",{staticClass:"q-title text-weight-bold text-right text-positive q-mt-xs q-pb-none col-12 col-md",staticStyle:{"line-height":"22px"}},[e._v("R$10.000,00\n                    "),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("Projeção")])])])]),a("div",{staticClass:"col-12 col-lg-6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 col-lg-3 q-mb-sm blocks"},[a("q-toolbar-title",{staticClass:"q-headline text-weight-bold text-center text-blue-8"},[e._v("\n                      307,50\n                    ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary  text-center"},[e._v("\n                      Ticket Médio\n                    ")])],1),a("div",{staticClass:"col-6 col-lg-3 q-mb-sm blocks"},[a("q-toolbar-title",{staticClass:"q-headline text-weight-bold text-center text-blue-8"},[e._v("\n                      307,50\n                    ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary  text-center"},[e._v("\n                      Desconto\n                    ")])],1),a("div",{staticClass:"col-6 col-lg-3 q-mb-sm blocks"},[a("q-toolbar-title",{staticClass:"q-headline text-weight-bold text-center text-blue-8"},[e._v("\n                      520,00\n                    ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary  text-center"},[e._v("\n                      Margem\n                    ")])],1),a("div",{staticClass:"col-6 col-lg-3 q-mb-sm blocks"},[a("q-toolbar-title",{staticClass:"q-headline text-weight-bold text-center text-blue-8"},[e._v("\n                      2 un\n                    ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary  text-center"},[e._v("\n                      C. Retornou\n                    ")])],1),a("div",{staticClass:"col-6 col-lg-3 q-mb-sm blocks"},[a("q-toolbar-title",{staticClass:"q-headline text-weight-bold text-center text-blue-8"},[e._v("\n                      520,00\n                    ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary  text-center"},[e._v("\n                      Conversão\n                    ")])],1),a("div",{staticClass:"col-6 col-lg-3 q-mb-sm blocks"},[a("q-toolbar-title",{staticClass:"q-headline text-weight-bold text-center text-blue-8"},[e._v("\n                      520,00\n                    ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary  text-center"},[e._v("\n                      Orçamento\n                    ")])],1),a("div",{staticClass:"col-6 col-lg-3 q-mb-sm blocks"},[a("q-toolbar-title",{staticClass:"q-headline text-weight-bold text-center text-blue-8"},[e._v("\n                      2 un\n                    ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary  text-center"},[e._v("\n                      Venda Perdida\n                    ")])],1),a("div",{staticClass:"col-6 col-lg-3 q-mb-sm blocks"},[a("q-toolbar-title",{staticClass:"q-headline text-weight-bold text-center text-blue-8"},[e._v("\n                      7 un\n                    ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary  text-center"},[e._v("\n                      Prazo Médio\n                    ")])],1)])])])]),a("p",{staticClass:"text-right q-mt-sm"},[e._v("Mês\n            "),a("strong",[e._v("4.000,00")]),e._v(" - Hoje\n            "),a("strong",[e._v("2.000,00")]),e._v(" - Projeção\n            "),a("strong",[e._v("10.000,00")])])],1)],1)],1)],1)])},pI=[];mI._withStripped=!0;var vI={data:function(){return{checkedVO:!1,checkedDetails:!1,checkedTitulo:!1,showMoreDetails:!1,openedSangria:!1,openedTitulo:!1,showchat:!1,openedC:!1,showing:!1,dataIni:"",dataFin:"",grupos:[],selectListOptions:[{label:"Nome do banco",inset:!0,sublabel:"Enables communication",stamp:"Saldo",value:"fb1"},{label:"Nome do banco",inset:!0,sublabel:"Enables communication",stamp:"Saldo",value:"fb2"}],selectPC:"",selectedDataTipo:"",selectDataTipo:[{label:"Vencimento",value:"goog"},{label:"Outro",value:"fb"}],selectOptionsPC:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],dados:{fonetipo:[{label:"Principal",value:"Principal"},{label:"Celular",value:"Celular"},{label:"Fixo",value:"Fixo"},{label:"WhatsApp",value:"WhatsApp"}]}}}},hI=vI,fI=(a("f899"),Object(sc["a"])(hI,mI,pI,!1,null,"bbefbb8c",null));fI.options.__file="Qg2Equipe.vue";var CI=fI.exports,bI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Qg2Dashboard"},[a("grid-layout",{attrs:{layout:e.layout,"col-num":12,"row-height":30,"is-draggable":e.draggable,"is-resizable":e.resizable,margin:[30,30],"vertical-compact":!0,"use-css-transforms":!0}},e._l(e.layout,function(e){return a("grid-item",{key:e.i,attrs:{x:e.x,y:e.y,w:e.w,h:e.h,i:e.i,"drag-allow-from":".vue-draggable-handle","drag-ignore-from":".no-drag"}},[a("q-card",{staticClass:"text bg-white no-shadow row borderRadiusBottom"},[a("div",{staticClass:"vue-draggable-handle"}),a("div",{staticClass:"no-drag col-12"},[a(e.i,{tag:"component"})],1)])],1)}))],1)},gI=[];bI._withStripped=!0;var xI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md"},[a("q-toolbar",{attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-blue-8 q-title q-pa-none"},[e._v("Maiores Vendas")])],1),a("q-table",{staticClass:"no-shadow text-left",attrs:{data:e.tableData,columns:e.columns,"hide-header":"","hide-bottom":""},scopedSlots:e._u([{key:"body",fn:function(t){return a("q-tr",{attrs:{props:t}},[a("q-td",{key:"medal",staticClass:"col",attrs:{props:t}},[a("avatar",{attrs:{imagem:t.row.medal,rotulo:t.row.name,tamanho:"28"}})],1),a("q-td",{key:"photo",staticClass:"col",attrs:{props:t}},[a("avatar",{attrs:{imagem:t.row.photo,rotulo:t.row.name,tamanho:"40"}})],1),a("q-td",{key:"name",attrs:{props:t}},[e._v(e._s(t.row.name))]),a("q-td",{key:"phone",attrs:{props:t}},[e._v(e._s(t.row.phone))]),a("q-td",{key:"data",attrs:{props:t}},[e._v(e._s(t.row.data))])],1)}}])})],1)},_I=[];xI._withStripped=!0;var qI={components:{Avatar:Fc},data:function(){return{columns:[{name:"medal",label:"Medalha",field:"photo",align:"left"},{name:"photo",label:"Foto",field:"photo",align:"left"},{name:"name",label:"Nome",field:"name",align:"left"},{name:"phone",label:"Valor",field:"phone",sortable:!0,align:"left"},{name:"data",label:"Data",field:"data",align:"left"}],tableData:[{medal:"statics/ouro.png",photo:"statics/avatar.jpg",name:"Ricardo Floriano",phone:"225.000",data:"15/03/2019"},{medal:"statics/prata.png",photo:"statics/avatar.jpg",name:"Orlando Bueno",phone:"150.000",data:"15/03/2019"},{medal:"statics/bronze.png",photo:"statics/avatar.jpg",name:"Bianca Boscolo",phone:"135.000",data:"15/03/2019"}]}}},SI=qI,II=Object(sc["a"])(SI,xI,_I,!1,null,null,null);II.options.__file="Qg2RecordVendas.vue";var FI=II.exports,wI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md"},[a("q-toolbar",{attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-blue-8 q-title q-pa-none"},[e._v("Maiores Conversões")])],1),a("q-table",{staticClass:"no-shadow text-left",attrs:{data:e.tableData,columns:e.columns,"hide-header":"","hide-bottom":""},scopedSlots:e._u([{key:"body",fn:function(t){return a("q-tr",{attrs:{props:t}},[a("q-td",{key:"medal",staticClass:"col",attrs:{props:t}},[a("avatar",{attrs:{imagem:t.row.medal,rotulo:t.row.name,tamanho:"28"}})],1),a("q-td",{key:"photo",staticClass:"col",attrs:{props:t}},[a("avatar",{attrs:{imagem:t.row.photo,rotulo:t.row.name,tamanho:"40"}})],1),a("q-td",{key:"name",attrs:{props:t}},[e._v(e._s(t.row.name))]),a("q-td",{key:"phone",attrs:{props:t}},[e._v(e._s(t.row.phone))]),a("q-td",{key:"data",attrs:{props:t}},[e._v(e._s(t.row.data))])],1)}}])})],1)},yI=[];wI._withStripped=!0;var NI={components:{Avatar:Fc},data:function(){return{columns:[{name:"medal",label:"Medalha",field:"photo",align:"left"},{name:"photo",label:"Foto",field:"photo",align:"left"},{name:"name",label:"Nome",field:"name",align:"left"},{name:"phone",label:"Valor",field:"phone",sortable:!0,align:"left"},{name:"data",label:"Data",field:"data",align:"left"}],tableData:[{medal:"statics/ouro.png",photo:"statics/avatar.jpg",name:"Ricardo Floriano",phone:"225.000",data:"15/03/2019"},{medal:"statics/prata.png",photo:"statics/avatar.jpg",name:"Orlando Bueno",phone:"150.000",data:"15/03/2019"},{medal:"statics/bronze.png",photo:"statics/avatar.jpg",name:"Bianca Boscolo",phone:"135.000",data:"15/03/2019"}]}}},kI=NI,MI=Object(sc["a"])(kI,wI,yI,!1,null,null,null);MI.options.__file="Qg2RecordCliente.vue";var PI=MI.exports,DI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md"},[a("q-toolbar",{attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-blue-8 q-title q-pa-none"},[e._v("Mais Produtos")])],1),a("q-table",{staticClass:"no-shadow text-left",attrs:{data:e.tableData,columns:e.columns,"hide-header":"","hide-bottom":""},scopedSlots:e._u([{key:"body",fn:function(t){return a("q-tr",{attrs:{props:t}},[a("q-td",{key:"medal",staticClass:"col",attrs:{props:t}},[a("avatar",{attrs:{imagem:t.row.medal,rotulo:t.row.name,tamanho:"28"}})],1),a("q-td",{key:"photo",staticClass:"col",attrs:{props:t}},[a("avatar",{attrs:{imagem:t.row.photo,rotulo:t.row.name,tamanho:"40"}})],1),a("q-td",{key:"name",attrs:{props:t}},[e._v(e._s(t.row.name))]),a("q-td",{key:"phone",attrs:{props:t}},[e._v(e._s(t.row.phone))]),a("q-td",{key:"data",attrs:{props:t}},[e._v(e._s(t.row.data))])],1)}}])})],1)},EI=[];DI._withStripped=!0;var TI={components:{Avatar:Fc},data:function(){return{columns:[{name:"medal",label:"Medalha",field:"photo",align:"left"},{name:"photo",label:"Foto",field:"photo",align:"left"},{name:"name",label:"Nome",field:"name",align:"left"},{name:"phone",label:"Valor",field:"phone",sortable:!0,align:"left"},{name:"data",label:"Data",field:"data",align:"left"}],tableData:[{medal:"statics/ouro.png",photo:"statics/avatar.jpg",name:"Ricardo Floriano",phone:"225.000",data:"15/03/2019"},{medal:"statics/prata.png",photo:"statics/avatar.jpg",name:"Orlando Bueno",phone:"150.000",data:"15/03/2019"},{medal:"statics/bronze.png",photo:"statics/avatar.jpg",name:"Bianca Boscolo",phone:"135.000",data:"15/03/2019"}]}}},AI=TI,OI=Object(sc["a"])(AI,DI,EI,!1,null,null,null);OI.options.__file="Qg2RecordProdutos.vue";var $I=OI.exports,RI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md"},[a("q-toolbar",{attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-blue-8 q-title q-pa-none"},[e._v("Maiores Tickets Médio")])],1),a("q-table",{staticClass:"no-shadow text-left",attrs:{data:e.tableData,columns:e.columns,"hide-header":"","hide-bottom":""},scopedSlots:e._u([{key:"body",fn:function(t){return a("q-tr",{attrs:{props:t}},[a("q-td",{key:"medal",staticClass:"col",attrs:{props:t}},[a("avatar",{attrs:{imagem:t.row.medal,rotulo:t.row.name,tamanho:"28"}})],1),a("q-td",{key:"photo",staticClass:"col",attrs:{props:t}},[a("avatar",{attrs:{imagem:t.row.photo,rotulo:t.row.name,tamanho:"40"}})],1),a("q-td",{key:"name",attrs:{props:t}},[e._v(e._s(t.row.name))]),a("q-td",{key:"phone",attrs:{props:t}},[e._v(e._s(t.row.phone))]),a("q-td",{key:"data",attrs:{props:t}},[e._v(e._s(t.row.data))])],1)}}])})],1)},jI=[];RI._withStripped=!0;var zI={components:{Avatar:Fc},data:function(){return{columns:[{name:"medal",label:"Medalha",field:"photo",align:"left"},{name:"photo",label:"Foto",field:"photo",align:"left"},{name:"name",label:"Nome",field:"name",align:"left"},{name:"phone",label:"Valor",field:"phone",sortable:!0,align:"left"},{name:"data",label:"Data",field:"data",align:"left"}],tableData:[{medal:"statics/ouro.png",photo:"statics/avatar.jpg",name:"Ricardo Floriano",phone:"225.000",data:"15/03/2019"},{medal:"statics/prata.png",photo:"statics/avatar.jpg",name:"Orlando Bueno",phone:"150.000",data:"15/03/2019"},{medal:"statics/bronze.png",photo:"statics/avatar.jpg",name:"Bianca Boscolo",phone:"135.000",data:"15/03/2019"}]}}},BI=zI,LI=Object(sc["a"])(BI,RI,jI,!1,null,null,null);LI.options.__file="Qg2RecordTicketMedio.vue";var VI=LI.exports,UI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md"},[a("q-toolbar",{attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-blue-8 q-title q-pa-none"},[e._v("Geral")])],1),a("q-table",{staticClass:"no-shadow text-left",attrs:{data:e.tableData,columns:e.columns,"hide-header":"","hide-bottom":""},scopedSlots:e._u([{key:"body",fn:function(t){return a("q-tr",{attrs:{props:t}},[a("q-td",{key:"photo",staticClass:"col",attrs:{props:t}},[""!=t.row.photo?a("avatar",{attrs:{imagem:t.row.photo,rotulo:t.row.name,tamanho:"40"}}):e._e()],1),a("q-td",{key:"name",attrs:{props:t}},[e._v(e._s(t.row.name))]),Number.isInteger(t.row.ouro)?a("q-td",{key:"ouro",attrs:{props:t}},[e._v("\n          "+e._s(t.row.ouro)+"\n      ")]):a("q-td",{key:"ouro",attrs:{props:t}},[a("avatar",{attrs:{imagem:t.row.ouro,tamanho:"28"}})],1),Number.isInteger(t.row.prata)?a("q-td",{key:"prata",attrs:{props:t}},[e._v("\n          "+e._s(t.row.prata)+"\n      ")]):a("q-td",{key:"prata",attrs:{props:t}},[a("avatar",{attrs:{imagem:t.row.prata,tamanho:"28"}})],1),Number.isInteger(t.row.bronze)?a("q-td",{key:"bronze",attrs:{props:t}},[e._v("\n          "+e._s(t.row.bronze)+"\n      ")]):a("q-td",{key:"bronze",attrs:{props:t}},[a("avatar",{attrs:{imagem:t.row.bronze,tamanho:"28"}})],1),a("q-td",{key:"dataR",attrs:{props:t}},[e._v(e._s(t.row.dataR))]),a("q-td",{key:"dataA",attrs:{props:t}},[e._v(e._s(t.row.dataA))])],1)}}])})],1)},HI=[];UI._withStripped=!0;var QI={components:{Avatar:Fc},data:function(){return{columns:[{name:"photo",label:"Foto",field:"photo",align:"left"},{name:"name",label:"Nome",field:"name",align:"left"},{name:"ouro",label:"Ouro",field:"ouro",sortable:!0,align:"center"},{name:"prata",label:"Prata",field:"phone",sortable:!0,align:"center"},{name:"bronze",label:"Bronze",field:"bronze",sortable:!0,align:"center"},{name:"dataR",label:"Mais Recente",field:"dataR",align:"left"},{name:"dataA",label:"Mais Antiga",field:"dataA",align:"left"}],tableData:[{photo:"",name:"",ouro:"statics/ouro.png",prata:"statics/prata.png",bronze:"statics/bronze.png",dataR:"Mais Recente",dataA:"Mais Antiga"},{photo:"statics/avatar.jpg",name:"Ricardo Floriano",ouro:5,prata:2,bronze:3,dataR:"20/01/2019",dataA:"23/03/2019"},{photo:"statics/avatar.jpg",name:"Ricardo Floriano",ouro:5,prata:2,bronze:3,dataR:"20/01/2019",dataA:"23/03/2019"},{photo:"statics/avatar.jpg",name:"Ricardo Floriano",ouro:5,prata:2,bronze:3,dataR:"20/01/2019",dataA:"23/03/2019"}]}}},GI=QI,JI=Object(sc["a"])(GI,UI,HI,!1,null,null,null);JI.options.__file="Qg2RecordGeral.vue";var XI=JI.exports,YI={components:{GridLayout:tS.a.GridLayout,GridItem:tS.a.GridItem,Qg2RecordVendas:FI,Qg2RecordCliente:PI,Qg2RecordProdutos:$I,Qg2RecordTicketMedio:VI,Qg2RecordGeral:XI},data:function(){return{grupos:[],dataIni:"",dataFin:"",selectedDataTipo:"",selectDataTipo:[{label:"Vencimento",value:"goog"},{label:"Outro",value:"fb"}],layout:[],draggable:!0,resizable:!0,responsive:!0,mirrored:!0,index:0}},methods:{handleResize:function(){window.innerWidth<768?this.layout=[{x:0,y:0,w:12,h:5,i:FI},{x:0,y:5,w:12,h:5,i:$I},{x:0,y:10,w:12,h:5,i:VI},{x:0,y:15,w:12,h:5,i:PI},{x:6,y:20,w:12,h:6,i:XI}]:(window.innerWidth,this.layout=[{x:0,y:0,w:6,h:5,i:FI},{x:6,y:0,w:6,h:5,i:$I},{x:0,y:5,w:6,h:5,i:VI},{x:6,y:5,w:6,h:5,i:PI},{x:6,y:10,w:12,h:6,i:XI}])}},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()}},WI=YI,ZI=(a("c93a"),Object(sc["a"])(WI,bI,gI,!1,null,null,null));ZI.options.__file="Qg2Records.vue";var KI=ZI.exports,eF=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Qg2Dashboard"},[a("q-card",{staticClass:" shadow-3 row no-shadow"},[a("div",{staticClass:"col-12 q-pt-md"},[a("q-toolbar",{staticClass:"no-shadow q-pa-none",attrs:{"text-color":"black",color:"transparent"}},[a("q-toolbar-title",{staticClass:"q-pa-none"},[a("div",{staticClass:"filters row q-pa-sm q-ma-md gutter-x-sm bg-white",staticStyle:{"border-radius":"5px","min-height":"50px"}},[a("q-btn",{staticClass:"no-shadow q-mr-sm",attrs:{icon:"filter_list",round:"",color:"faded"}}),a("label",[e._v("Fornecedores:")]),a("q-chips-input",{staticClass:"col-12 col-lg-4 q-mx-sm",attrs:{color:"faded"},model:{value:e.grupos,callback:function(t){e.grupos=t},expression:"grupos"}}),a("label",[e._v("Marcas:")]),a("q-chips-input",{staticClass:"col-12 col-lg-4 q-mx-sm",attrs:{color:"faded"},model:{value:e.grupos,callback:function(t){e.grupos=t},expression:"grupos"}})],1)])],1)],1)]),a("grid-layout",{attrs:{layout:e.layout,"col-num":12,"row-height":30,"is-draggable":e.draggable,"is-resizable":e.resizable,margin:[30,30],"vertical-compact":!0,"use-css-transforms":!0}},e._l(e.layout,function(e){return a("grid-item",{key:e.i,attrs:{x:e.x,y:e.y,w:e.w,h:e.h,i:e.i,"drag-allow-from":".vue-draggable-handle","drag-ignore-from":".no-drag"}},[a("q-card",{staticClass:"text bg-white no-shadow row borderRadiusBottom"},[a("div",{staticClass:"vue-draggable-handle"}),a("div",{staticClass:"no-drag col-12"},[a(e.i,{tag:"component"})],1)])],1)}))],1)},tF=[];eF._withStripped=!0;var aF=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md"},[a("q-toolbar",{staticClass:"q-ma-none",attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-blue-8 q-title q-pa-none"},[e._v("Estoque")])],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6 col-lg blocks"},[a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-center text-blue-8"},[e._v("\n        529.000,00\n      ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary  text-center"},[e._v("\n        Custo Total\n      ")])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks"},[a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-center text-blue-8"},[e._v("\n        1.429\n      ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary  text-center"},[e._v("\n        Unidades\n      ")])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks"},[a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-center text-blue-8"},[e._v("\n        1.6000.000,00\n      ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary  text-center"},[e._v("\n        Valor Venda\n      ")])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks"},[a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-center text-blue-8"},[e._v("\n        33%\n      ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary  text-center"},[e._v("\n        Margem\n      ")])],1)])],1)},oF=[];aF._withStripped=!0;var iF={},rF=iF,sF=(a("8ecb"),Object(sc["a"])(rF,aF,oF,!1,null,null,null));sF.options.__file="Qg2EstoqueNumeros.vue";var nF=sF.exports,cF=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md faded"},[a("q-toolbar",{staticClass:"q-ma-none",attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-faded q-title q-pa-none"},[e._v("Tipos\n      "),a("section")])],1),a("div",{staticClass:"row"},[a("grafico-pizza",{staticClass:"col-12 col-md-4",attrs:{dados:e.graficoIdade,opcoes:e.graficoOpcoesPizza}})],1)],1)},lF=[];cF._withStripped=!0;var dF={components:{GraficoPizza:wg},data:function(){return{graficoFluxo:{type:"horizontalBar",labels:["Armação","Oculos de Sol","Lentes","Acessorios","Outros"],datasets:[{label:"Valor de Custo",backgroundColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)"],borderWidth:1,data:[60,74,81,55,40,0]}]},graficoIdade:{type:"pie",labels:["Armação","Oculos de Sol","Lentes","Acessorios","Outros"],datasets:[{label:"Valor de Custo",backgroundColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)"],data:[5,10,15,30,20,20]}]},graficoOpcoesPizza:{responsive:!0},graficoOpcoesFluxo:{type:"horizontalBar",responsive:!0,maintainAspectRatio:!1,legend:{display:!1}}}}},uF=dF,mF=(a("8047"),Object(sc["a"])(uF,cF,lF,!1,null,null,null));mF.options.__file="Qg2EstoqueTipos.vue";var pF=mF.exports,vF=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md"},[a("q-toolbar",{attrs:{color:"transparent row"}},[a("q-toolbar-title",{staticClass:"text-blue-8 q-title q-pa-none col"},[e._v("Giro")]),a("q-select",{staticClass:"q-mx-sm q-body-1 col-auto",attrs:{placeholder:"Vencimento",options:e.selectDataTipo},model:{value:e.selectedDataTipo,callback:function(t){e.selectedDataTipo=t},expression:"selectedDataTipo"}})],1),a("q-table",{staticClass:"no-shadow text-left",attrs:{data:e.tableData,columns:e.columns,"hide-bottom":""},scopedSlots:e._u([{key:"body",fn:function(t){return a("q-tr",{attrs:{props:t}},[a("q-td",{key:"medal",staticClass:"col",attrs:{props:t}},[a("strong",[e._v(e._s(t.row.medal))])]),a("q-td",{key:"photo",staticClass:"col",attrs:{props:t}},[e._v("\n        "+e._s(t.row.photo)+"\n      ")]),a("q-td",{key:"name",attrs:{props:t}},[e._v(e._s(t.row.name))]),a("q-td",{key:"phone",attrs:{props:t}},[e._v(e._s(t.row.phone))]),a("q-td",{key:"data",attrs:{props:t}},[e._v(e._s(t.row.data))]),a("q-td",{key:"numero",attrs:{props:t}},[e._v(e._s(t.row.numero))]),a("q-td",{key:"totais",staticClass:"col",attrs:{props:t}},[a("strong",[e._v(e._s(t.row.totais))])])],1)}}])})],1)},hF=[];vF._withStripped=!0;var fF={components:{},data:function(){return{selectedDataTipo:"",selectDataTipo:[{label:"Vencimento",value:"goog"},{label:"Outro",value:"fb"}],columns:[{name:"medal",label:"",field:"photo",align:"left"},{name:"photo",label:"<50",field:"photo",align:"left"},{name:"name",label:"51-100",field:"name",align:"left"},{name:"phone",label:"100-300",field:"phone",sortable:!0,align:"left"},{name:"data",label:"300-500",field:"data",align:"left"},{name:"numero",label:">500",field:"data",align:"left"},{name:"totais",label:"",field:"data",align:"left"}],tableData:[{medal:"Ate 30",photo:"17.986,00",name:"36.501,00",phone:"15,870,00",data:"20.984,40",numero:"69.828,00",totais:"161.133,40"},{medal:"31 - 60",photo:"19.784,60",name:"21.900,60",phone:"25.392,00",data:"39.040,20",numero:"19.044,00",totais:"125.161,40 "},{medal:"61 - 90",photo:"17.986,00",name:"18.250,50",phone:"15.870,00",data:"11.426,40",numero:"23.805,00",totais:"87.337,90"},{medal:">90",photo:"34.173,40",name:"45.017,90",phone:"6.348,00",data:"23.805,00",numero:"46.023,00",totais:"155.367,30"},{medal:"",photo:"89.930,00",name:"121.670,00",phone:"63.480,00",data:"95.220,00",numero:"158.700,00",totais:"529.000,00"}]}}},CF=fF,bF=(a("9a76"),Object(sc["a"])(CF,vF,hF,!1,null,null,null));bF.options.__file="Qg2EstoqueGiro.vue";var gF=bF.exports,xF={components:{GridLayout:tS.a.GridLayout,GridItem:tS.a.GridItem,Qg2EstoqueNumeros:nF,Qg2EstoqueTipos:pF,Qg2EstoqueGiro:gF},data:function(){return{grupos:[],dataIni:"",dataFin:"",selectedDataTipo:"",selectDataTipo:[{label:"Vencimento",value:"goog"},{label:"Outro",value:"fb"}],layout:[],draggable:!0,resizable:!0,responsive:!0,mirrored:!0,index:0}},methods:{handleResize:function(){window.innerWidth<768?this.layout=[{x:0,y:0,w:12,h:3,i:nF},{x:0,y:3,w:12,h:9,i:pF},{x:0,y:19,w:12,h:7,i:gF}]:(window.innerWidth,this.layout=[{x:0,y:0,w:12,h:3,i:nF},{x:0,y:3,w:12,h:9,i:pF},{x:0,y:19,w:12,h:7,i:gF}])}},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()}},_F=xF,qF=(a("bd69"),Object(sc["a"])(_F,eF,tF,!1,null,null,null));qF.options.__file="Qg2Estoque.vue";var SF=qF.exports,IF=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Qg"},[a("barra-topo"),a("q-page-container",[a("q-page",{staticClass:"u-container"},[a("q-toolbar",{staticClass:"q-py-sm topo",attrs:{color:"none"}},[e.filtro.empresas.length>1?a("q-icon",{attrs:{size:"1.7rem",name:"business",rounded:""}}):a("avatar",{attrs:{imagem:(e.contatosEmpresa.find(function(t){return t.codigoContato===e.filtro.empresas[0]})||{}).imagem,rotulo:(e.contatosEmpresa.find(function(t){return t.codigoContato===e.filtro.empresas[0]})||{}).apelido,tamanho:"40"}}),a("q-toolbar-title",[a("div",{staticClass:"row q-subheading"},[a("div",{staticClass:"bg-tertiary text-white round-borders q-pa-sm q-mx-xs"},[e._v("\n              "+e._s(e.textoEmpresasSelecionadas)+"\n            ")])])]),a("q-btn",{attrs:{icon:"help_outline",size:"lg",flat:"",dense:"",round:""},on:{click:function(t){e.showingHelp=!e.showingHelp}}}),a("q-btn",{staticClass:"no-shadow q-mr-xs",attrs:{icon:"mdi-refresh",size:"lg",flat:"",dense:""},on:{click:e.filtrar}},[a("q-tooltip",[e._v("\n            Atualizado em: "+e._s(e._f("dataHora")(this.filtro.dataConsulta))+"\n          ")])],1),a("q-btn",{staticClass:"no-shadow",attrs:{icon:"mdi-filter",size:"lg",flat:"",dense:""},on:{click:function(t){e.showFilters=!e.showFilters}}})],1),a("q-layout-drawer",{attrs:{overlay:"",side:"right"},model:{value:e.showFilters,callback:function(t){e.showFilters=t},expression:"showFilters"}},[a("q-toolbar",{attrs:{color:"white","text-color":"faded"}},[a("q-icon",{attrs:{name:"mdi-filter",color:"faded"}}),a("q-toolbar-title",[e._v("Filtrar")]),a("q-btn",{attrs:{dense:"",flat:"",icon:"close",round:""},on:{click:function(t){e.showFilters=!e.showFilters}}})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 row q-px-md"},[a("h1",{staticClass:"col-12 q-subheading text-dark"},[e._v("Empresas")]),a("campo",{staticClass:"col-12",attrs:{opcoes:e.empresas.options,tipo:"seletor",multiple:"",chips:"",erro:e.erroEmpresas},on:{input:e.checarEmpresasSelecionadas},model:{value:e.empresas.selected,callback:function(t){e.$set(e.empresas,"selected",t)},expression:"empresas.selected"}})],1),a("div",{staticClass:"col-12 row q-px-md q-mt-lg"},[a("h1",{staticClass:"col-12 q-subheading text-dark"},[e._v("Período")]),a("campo",{staticClass:"col-12 q-mt-sm",attrs:{tipo:"data",placeholder:"De",erro:e.erroPeriodo},on:{input:e.checarPeriodo},model:{value:e.filtro.periodo.ini,callback:function(t){e.$set(e.filtro.periodo,"ini",t)},expression:"filtro.periodo.ini"}}),a("campo",{staticClass:"col-12 q-mt-sm",attrs:{tipo:"data",placeholder:"Até",erro:e.erroPeriodo},on:{input:e.checarPeriodo},model:{value:e.filtro.periodo.fim,callback:function(t){e.$set(e.filtro.periodo,"fim",t)},expression:"filtro.periodo.fim"}})],1),a("div",{staticClass:"col-12 row q-px-md q-mt-lg"},[a("div",{staticClass:"col-12 q-mt-md",staticStyle:{float:"left"}},[a("span",{staticStyle:{"font-size":"70%"}},[e._v("\n                Atualizado em: "+e._s(e._f("dataHora")(this.filtro.dataConsulta))+"\n                "),a("q-spinner",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{color:"primary",size:20}})],1)]),a("q-btn",{staticClass:"col-12",attrs:{color:"primary",label:"Filtrar"},on:{click:e.filtrar}})],1)])],1),a("MenuAbas",{attrs:{objetoPai:"qg"}},[a("router-view",{attrs:{dados:e.dados,carregando:e.carregando}})],1)],1)],1)],1)},FF=[];IF._withStripped=!0;var wF={components:{Avatar:Fc,BarraTopo:El,Campo:Sl,MenuAbas:Fd},computed:{textoEmpresasSelecionadas:function(){return 1===this.empresasSelecionadas.length?this.empresasSelecionadas[0]:this.empresasSelecionadas.length+" empresas"}},data:function(){return{carregando:!1,contatosEmpresa:[],dados:{},empresas:this.renovarEmpresas(),empresasSelecionadas:[],erroEmpresas:!1,erroPeriodo:!1,filtro:this.renovarFiltro(),showingHelp:!1,showFilters:!1}},methods:{checarEmpresasSelecionadas:function(){this.empresas.selected.length?this.erroEmpresas=!1:this.erroEmpresas=!0},checarPeriodo:function(){new Date(this.filtro.periodo.ini)<=new Date(this.filtro.periodo.fim)?this.erroPeriodo=!1:this.erroPeriodo=!0},atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=new Date(new Date((new Date).setDate(1)).setHours(0,0,0,0)),a=new Date(new Date(new Date(t).setMonth(t.getMonth()+1)).setDate(0)),e.next=4,this.obterCodigoContatoUsuario();case 4:return e.next=6,this.obterCodigoClienteSistema();case 6:return e.next=8,this.obterEmpresas();case 8:return this.filtro={codigoClienteSistema:this.codigoClienteSistema,codigoContatoUsuario:this.codigoContatoUsuario,dataConsulta:new Date,empresas:this.empresas.selected,periodo:{ini:t,fim:a}},e.next=11,this.obterConsultaRecente();case 11:if(!e.sent){e.next=15;break}if(this.carregando=!1,new Date-new Date(this.filtro.dataConsulta)>3e5){e.next=15;break}return e.abrupt("return");case 15:this.filtrar();case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),criarObjStoreIDB:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("indexedDB"in window){e.next=3;break}return console.log("Navegador sem suporte ao IndexedDB"),e.abrupt("return");case 3:return t=indexedDB.open("qg",1),t.onupgradeneeded=function(e){var t=e.target.result,a=t.createObjectStore("consultasRecentes",{keyPath:"id"});a.createIndex("id","id",{unique:!0})},e.abrupt("return",new Promise(function(e,a){t.onsuccess=function(t){e()},t.onerror=function(t){e()}}));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),filtrar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.empresas.selected.length){e.next=3;break}return this.erroEmpresas=!0,e.abrupt("return");case 3:if(!(new Date(this.filtro.periodo.ini)>new Date(this.filtro.periodo.fim))){e.next=6;break}return this.erroPeriodo=!0,e.abrupt("return");case 6:return this.showFilters=!1,this.carregando=!0,this.filtro.periodo.ini=new Date(this.filtro.periodo.ini).toISOString(),this.filtro.periodo.fim=new Date(this.filtro.periodo.fim).toISOString(),this.filtro.dataConsulta=new Date,this.filtro.empresas=this.empresas.selected,this.empresasSelecionadas=this.empresas.options.filter(function(e){return o.empresas.selected.find(function(t){return e.valor===t})}).map(function(e){return e.rotulo}),e.next=15,this.$utils.geeksApi({"qg-empresa":{funcao:"9E4CD702-00E3-4200-8642-AC1CE9F0EF77",codigoContatoUsuario:this.filtro.codigoContatoUsuario,empresas:this.filtro.empresas,periodo:this.filtro.periodo}});case 15:return t=e.sent,this.dados["empresa"]=t.data["qg-empresa"],e.next=19,Zn.contatoBusca.filtrar(null,{ativo:!0,usuario:!0},0);case 19:return a=e.sent,e.t0=a,e.next=23,Zn.contatoBusca.filtrar(null,{ativo:!0,vendedores:!0},0);case 23:return e.t1=e.sent,a=e.t0.concat.call(e.t0,e.t1),e.next=27,this.$utils.geeksApi({"qg-equipe":{funcao:"5EA3C6F8-CF77-4692-A2E2-B8DC2592E2B7",codigoContatoUsuario:Array.from(new Set(a.map(function(e){return e.codigoContato}))),codigoClienteSistema:this.filtro.codigoClienteSistema,empresas:this.filtro.empresas,periodo:this.filtro.periodo}});case 27:return t=e.sent,this.dados["equipe"]=t.data["qg-equipe"],e.next=31,this.$utils.geeksApi({"qg-estoque":{funcao:"C2166CBA-1FE6-4A52-9098-6EC9E386A53A",codigoContatoUsuario:a.map(function(e){return e.codigoContato}),codigoClienteSistema:this.filtro.codigoClienteSistema,empresas:this.filtro.empresas,periodo:this.filtro.periodo}});case 31:t=e.sent,this.dados["estoque"]=t.data["qg-estoque"],this.salvarConsultaRecente(),this.carregando=!1;case 35:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),obterConsultaRecente:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.criarObjStoreIDB();case 2:return t=String(this.codigoClienteSistema)+"_"+String(this.codigoContatoUsuario)+"/usuario",e.next=5,this.obterObjIDb(t);case 5:if(a=e.sent,!a){e.next=12;break}return this.filtro={codigoClienteSistema:this.codigoClienteSistema,codigoContatoUsuario:this.codigoContatoUsuario,empresas:a.empresas,dataConsulta:new Date(a.dataConsulta),periodo:a.periodo},this.empresasSelecionadas=this.empresas.options.filter(function(e){return o.filtro.empresas.find(function(t){return e.valor===t})}).map(function(e){return e.rotulo}),this.empresas.selected=this.filtro.empresas,this.dados=a.dados,e.abrupt("return",!0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),obterCodigoClienteSistema:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=JSON.parse(localStorage.getItem("clienteSistema"))||{},a=t.codigoClienteSistema,Po(!a,"Cliente Sistema não encontrado"),this.codigoClienteSistema=a;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),obterCodigoContatoUsuario:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=JSON.parse(localStorage.getItem("usuario"))||{},a=t.numeroDocumentoNacional,o={},!a){e.next=8;break}return e.next=6,He().contato.where({numeroDocumentoNacional:a}).toArray();case 6:i=e.sent,o=i.find(function(e){return e.ativo&&!e.excluido&&e.codigoUsuario})||{};case 8:Po(!o.id,"Contato não encontrado"),this.codigoContatoUsuario=o.codigoContato;case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),obterEmpresas:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);case 2:this.contatosEmpresa=e.sent,this.empresas.options=this.contatosEmpresa.map(function(e){return{rotulo:e.apelido,valor:e.codigoContato}}),this.empresas.selected=this.empresas.options.map(function(e){return e.valor});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),obterObjIDb:function(e){var t,a,o;if("indexedDB"in window)return t=new Promise(function(e,t){o=e}),a=indexedDB.open("qg",1),a.onsuccess=function(){var t=a.result.transaction(["consultasRecentes"],"readwrite"),i=t.objectStore("consultasRecentes");a=i.get(e),a.onsuccess=function(e){o(e.target.result)},a.onerror=function(e){o()}},t},renovarEmpresas:function(){return{selected:[],options:[]}},renovarFiltro:function(){return{codigoClienteSistema:"",codigoContatoUsuario:"",dataConsulta:"",empresas:[],periodo:{ini:"",fim:""}}},salvarConsultaRecente:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.criarObjStoreIDB();case 2:this.salvarObjIDb({id:String(this.filtro.codigoClienteSistema)+"_"+String(this.filtro.codigoContatoUsuario)+"/usuario",periodo:this.filtro.periodo,dataConsulta:this.filtro.dataConsulta.toISOString(),empresas:this.empresas.selected,dados:this.dados});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),salvarObjIDb:function(e){var t,a,o;if("indexedDB"in window)return t=new Promise(function(e,t){o=e}),a=indexedDB.open("qg",1),a.onsuccess=function(){var t=a.result.transaction(["consultasRecentes"],"readwrite"),i=t.objectStore("consultasRecentes");a=i.put(e),a.onsuccess=function(e){o()},a.onerror=function(e){o()}},t}},created:function(){this.atualizar()}},yF=wF,NF=(a("492a"),Object(sc["a"])(yF,IF,FF,!1,null,null,null));NF.options.__file="Qg.vue";var kF=NF.exports,MF=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row gutter-sm q-mt-sm q-pb-md"},[a("div",{staticClass:"col-12",staticStyle:{float:"right"}},[a("span",{staticStyle:{"font-size":"70%"}},[a("q-spinner",{directives:[{name:"show",rawName:"v-show",value:e.carregando,expression:"carregando"}],attrs:{color:"primary",size:20}})],1)]),a("div",{staticClass:"col-12 q-mt-sm"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-title",{staticClass:"text-tertiary q-title q-pb-sm"},[e._v("Financeiro")]),!e.carregando&&e.dados["empresa"]&&e.dados["empresa"].financeiro?a("q-card-main",[a("div",{staticClass:"row justify-around"},[a("div",{staticClass:"q-headline text-weight-bold text-right q-mt-sm q-pb-none verde",staticStyle:{"line-height":"22px"}},[a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("\n                Recebido\n              ")]),a("div",{staticClass:"row float-right"},[a("div",{staticClass:"graph",staticStyle:{"margin-right":"10px"}},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),a("div",{staticClass:"q-headline text-weight-bold text-right text-positive q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[e._v("\n                  "+e._s(e._f("numero")(e.dados["empresa"].financeiro.recebido,2))+"\n                ")])])]),a("div",{staticClass:"q-headline text-weight-bold text-right q-mt-sm q-pb-none vermelho",staticStyle:{"line-height":"22px"}},[a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("\n                Pago\n              ")]),a("div",{staticClass:"row float-right"},[a("div",{staticClass:"graph",staticStyle:{"margin-right":"10px"}},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),a("div",{staticClass:"q-headline text-weight-bold text-right text-negative q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[e._v("\n                  "+e._s(e._f("numero")(e.dados["empresa"].financeiro.pago,2))+"\n                ")])])]),a("div",{staticClass:"q-headline text-weight-bold text-right q-mt-sm q-pb-none azul",staticStyle:{"line-height":"22px"}},[a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("\n                Saldo (R$) disponivel\n              ")]),a("div",{staticClass:"row float-right"},[a("div",{staticClass:"graph",staticStyle:{"margin-right":"10px"}},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),a("div",{staticClass:"q-headline text-weight-bold text-right text-primary q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[e._v("\n                  "+e._s(e._f("numero")(e.dados["empresa"].financeiro.saldoHoje,2))+"\n                ")])])]),a("div",{staticClass:"q-headline text-weight-bold text-right q-mt-sm q-pb-none verde",staticStyle:{"line-height":"22px"}},[a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("\n                Receber\n              ")]),a("div",{staticClass:"row float-right"},[a("div",{staticClass:"graph",staticStyle:{"margin-right":"10px"}},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),a("div",{staticClass:"q-headline text-weight-bold text-right text-positive q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[e._v("\n                  "+e._s(e._f("numero")(e.dados["empresa"].financeiro.aReceber,2))+"\n                ")])])]),a("div",{staticClass:"q-headline text-weight-bold text-right q-mt-sm q-pb-none vermelho",staticStyle:{"line-height":"22px"}},[a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("\n                Pagar\n              ")]),a("div",{staticClass:"row float-right"},[a("div",{staticClass:"graph",staticStyle:{"margin-right":"10px"}},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),a("div",{staticClass:"q-headline text-weight-bold text-right text-negative q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[e._v("\n                  "+e._s(e._f("numero")(e.dados["empresa"].financeiro.aPagar,2))+"\n                ")])])])])]):e._e()],1)],1),"optisoul"===e.sistemaPai&&e.permissoes.envelope?a("div",{staticClass:"col-12"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-title",{staticClass:"text-tertiary q-title q-pb-sm"},[e._v("Envelopes")]),!e.carregando&&e.dados["empresa"].envelopes&&e.dados["empresa"].envelope?a("q-card-main",[a("div",{staticClass:"row justify-around"},[e._l(e.envelopes,function(t,o){return a("div",{key:o,staticClass:"row text-weight-bold text-right q-mt-sm q-pb-none"},[a("div",[a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-mr-sm q-pa-none",staticStyle:{display:"block"}},[e._v("\n                  "+e._s(t.status)+"\n                ")]),a("div",{staticClass:"float-right q-headline text-weight-bold text-right text-primary q-mt-sm q-mr-sm q-pb-none"},[e._v("\n                  "+e._s(e._f("numero")((t.verde||0)+(t.amarelo||0)+(t.vermelho||0),0))+"\n                ")])]),a("div",{staticClass:"text-left"},[a("small",{staticClass:"q-caption col text-faded"},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"event_available",color:"positive"}}),e._v("\n                  "+e._s(e._f("numero")(t.verde,0))),a("br"),a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"event_note",color:"amber"}}),e._v("\n                  "+e._s(e._f("numero")(t.amarelo,0))),a("br"),a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"event_busy",color:"negative"}}),e._v("\n                  "+e._s(e._f("numero")(t.vermelho,0))+"\n                ")],1)])])}),a("div",{staticClass:"row text-weight-bold text-right q-mt-sm q-pb-none"},[a("div",[a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-mr-sm q-pa-none",staticStyle:{display:"block"}},[e._v("\n                  PME (Dias)\n                  "),a("q-tooltip",[e._v("\n                    Prazo Médio de Entrega\n                  ")])],1),a("div",{staticClass:"float-right q-headline text-weight-bold text-right text-primary q-mt-sm q-mr-sm q-pb-none"},[e._v("\n                  "+e._s(e._f("numero")(e.dados["empresa"].envelope.pme,0))+"\n                ")])])])],2)]):e._e()],1)],1):e._e(),a("div",{staticClass:"col-12 col-lg-4"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column  q-pb-none"},[a("q-card-title",{staticClass:"text-tertiary q-title q-mx-none q-mt-none q-px-none q-pt-none q-pb-sm"},[e._v("Faturamento\n          ")]),a("div",{staticClass:"row text-weight-bold text-right q-mt-sm q-pb-none"},[a("div",{staticClass:"col-12"},[a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-pa-none",staticStyle:{display:"block"}},[e._v("\n                Valor Bruto\n\n              ")]),!e.carregando&&e.dados["empresa"]&&e.dados["empresa"].vendasEsteAno?a("div",{staticClass:"full-width q-headline text-weight-bold text-right text-primary q-mt-sm q-mr-sm q-pb-none"},[!e.carregando&&e.dados["empresa"]&&e.dados["empresa"].vendasAnoAnterior?a("small",{class:e.percentualValorBrutoRelAnoAnterior>=0?"text-positive":"text-negative",staticStyle:{float:"left","font-weight":"normal","font-size":"12px"}},[a("span",{staticClass:"text-tertiary",staticStyle:{float:"left"}},[e._v("\n                    "+e._s(e._f("numero")(e.dados["empresa"].vendasAnoAnterior.valorBruto,2))+"\n                  ")]),e._v("\n                  (Δ "+e._s(e._f("numero")(e.percentualValorBrutoRelAnoAnterior,2))+"%)\n\n                ")]):e._e(),e._v("\n\n                "+e._s(e._f("numero")(((e.dados["empresa"]||{}).vendasEsteAno||{}).valorBruto,2))+"\n\n              ")]):e._e()])]),a("div",{staticClass:"row text-weight-bold text-right q-mt-sm q-pb-none"},[a("div",{staticClass:"col-12"},[a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-pa-none",staticStyle:{display:"block"}},[e._v("\n                Desconto\n\n              ")]),!e.carregando&&e.dados["empresa"].vendasEsteAno?a("div",{staticClass:"full-width q-headline text-weight-bold text-right text-primary q-mt-sm q-mr-sm q-pb-none"},[!e.carregando&&e.dados["empresa"]&&e.dados["empresa"].vendasAnoAnterior?a("small",{class:e.percentualValorBrutoRelAnoAnterior>=0?"text-positive":"text-negative",staticStyle:{float:"left","font-weight":"normal","font-size":"12px"}},[a("span",{staticClass:"text-tertiary",staticStyle:{float:"left"}},[e._v("\n                    "+e._s(e._f("numero")(e.dados["empresa"].vendasAnoAnterior.desconto,2))+"\n\n                  ")]),e._v("\n                  (Δ "+e._s(e._f("numero")(e.percentualDescontoRelAnoAnterior,2))+"%)\n\n                ")]):e._e(),e._v("\n\n                "+e._s(e._f("numero")(e.dados["empresa"].vendasEsteAno.desconto,2))+"\n              ")]):e._e()])]),a("div",{staticClass:"row text-weight-bold text-right q-mt-sm q-pb-none"},[a("div",{staticClass:"col-12"},[a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-pa-none",staticStyle:{display:"block"}},[e._v("\n                Margem de Lucro\n\n              ")]),!e.carregando&&e.dados["empresa"].vendasEsteAno?a("div",{staticClass:"full-width q-headline text-weight-bold text-right text-primary q-mt-sm q-mr-sm q-pb-none"},[!e.carregando&&e.dados["empresa"]&&e.dados["empresa"].vendasAnoAnterior?a("small",{class:e.percentualValorBrutoRelAnoAnterior>=0?"text-positive":"text-negative",staticStyle:{float:"left","font-weight":"normal","font-size":"12px"}},[e._v("\n\n                  (Δ "+e._s(e._f("numero")(e.percentualMargemLucroRelAnoAnterior,2))+"%)\n                  "),a("span",{staticClass:"text-tertiary",staticStyle:{float:"left"}},[e._v("\n                    "+e._s(e._f("numero")(e.dados["empresa"].vendasAnoAnterior.margemLucro,2))+"\n\n                  ")]),a("br")]):e._e(),e._v("\n\n                "+e._s(e._f("numero")(((e.dados["empresa"]||{}).vendasEsteAno||{}).valorMargemLucro,2))+"\n                "),a("small",[e._v("("+e._s(e._f("numero")(e.dados["empresa"].vendasEsteAno.margemLucro,2))+"%)")])]):e._e()])]),a("q-card-main",{staticClass:"q-pa-none text-tertiary text-right q-mt-sm q-pt-sm",staticStyle:{"border-top":"1px solid #eeeeee"}},[e._v("\n            Valor Líquido\n          ")]),!e.carregando&&e.dados["empresa"]&&e.dados["empresa"].vendasEsteAno?a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-right text-primary q-px-none"},[e._v("\n            "+e._s(e._f("numero")(((e.dados["empresa"]||{}).vendasEsteAno||{}).valorLiquido,2))+"\n\n          ")]):e._e(),!e.carregando&&e.dados["empresa"]&&e.dados["empresa"].vendasAnoAnterior?a("small",{class:e.percentualValorLiquidoRelAnoAnterior>=0?"text-positive":"text-negative",staticStyle:{top:"-21px",position:"relative"}},[a("span",{staticClass:"text-tertiary"},[e._v("\n              "+e._s(e._f("numero")(e.dados["empresa"].vendasAnoAnterior.valorLiquido,2))+"\n            ")]),e._v("\n            (Δ "+e._s(e._f("numero")(e.percentualValorLiquidoRelAnoAnterior,2))+"%)\n\n          ")]):e._e()],1)],1)],1),a("div",{staticClass:"col-12 col-lg-8"},[a("div",{staticClass:"row gutter-sm "},[a("div",{staticClass:"col-6 col-lg-4 ",staticStyle:{"min-height":"180px"}},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-left"},[e._v("\n                Custo\n              ")]),!e.carregando&&e.dados["empresa"]&&e.dados["empresa"].vendasEsteAno?a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-left text-primary q-px-none"},[e._v("\n                "+e._s(e._f("numero")(((e.dados["empresa"]||{}).vendasEsteAno||{}).custo,2))+"\n                "),a("q-btn",{staticClass:"no-shadow",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-bell",color:e.percentualCustoRelAnoAnterior>=0?"positive":"negative"}})],1):e._e(),!e.carregando&&e.dados["empresa"]&&e.dados["empresa"].vendasAnoAnterior?a("small",{class:e.percentualCustoRelAnoAnterior>=0?"text-positive":"text-negative"},[a("span",{staticClass:"text-tertiary"},[e._v("\n                  "+e._s(e._f("numero")(e.dados["empresa"].vendasAnoAnterior.custo,2))+"\n                ")]),e._v("\n                (Δ "+e._s(e._f("numero")(e.percentualCustoRelAnoAnterior,2))+"%)\n                "),a("br")]):e._e()],1)],1)],1),a("div",{staticClass:"col-6 col-lg-4",staticStyle:{"min-height":"180px"}},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-left"},[e._v("\n                Ticket Médio\n              ")]),!e.carregando&&e.dados["empresa"]&&e.dados["empresa"].vendasEsteAno?a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-left text-primary q-px-none"},[e._v("\n                "+e._s(e._f("numero")(((e.dados["empresa"]||{}).vendasEsteAno||{}).ticketMedio,2))+"\n                "),a("q-btn",{staticClass:"no-shadow",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-bell",color:e.percentualTicketMedioRelAnoAnterior>=0?"positive":"negative"}})],1):e._e(),!e.carregando&&e.dados["empresa"]&&e.dados["empresa"].vendasAnoAnterior?a("small",{class:e.percentualTicketMedioRelAnoAnterior>=0?"text-positive":"text-negative"},[a("span",{staticClass:"text-tertiary"},[e._v("\n                  "+e._s(e._f("numero")(e.dados["empresa"].vendasAnoAnterior.ticketMedio,2))+"\n                ")]),e._v("\n                (Δ "+e._s(e._f("numero")(e.percentualTicketMedioRelAnoAnterior,2))+"%)\n                "),a("br")]):e._e()],1)],1)],1),a("div",{staticClass:"col-6 col-lg-4 ",staticStyle:{"min-height":"180px"}},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-left"},[e._v("\n                Preço Médio\n              ")]),!e.carregando&&e.dados["empresa"]&&e.dados["empresa"].vendasEsteAno?a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-left text-primary q-px-none"},[e._v("\n                "+e._s(e._f("numero")(((e.dados["empresa"]||{}).vendasEsteAno||{}).precoMedio,2))+"\n                "),a("q-btn",{staticClass:"no-shadow",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-bell",color:e.percentualPrecoMedioRelAnoAnterior>=0?"positive":"negative"}})],1):e._e(),!e.carregando&&e.dados["empresa"]&&e.dados["empresa"].vendasAnoAnterior?a("small",{class:e.percentualPrecoMedioRelAnoAnterior>=0?"text-positive":"text-negative"},[a("span",{staticClass:"text-tertiary"},[e._v("\n                  "+e._s(e._f("numero")(e.dados["empresa"].vendasAnoAnterior.precoMedio,2))+"\n                ")]),e._v("\n                (Δ "+e._s(e._f("numero")(e.percentualPrecoMedioRelAnoAnterior,2))+"%)\n                "),a("br")]):e._e()],1)],1)],1),a("div",{staticClass:"col-6 col-lg-4 ",staticStyle:{"min-height":"180px"}},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-left"},[e._v("\n                Quantidade PDV\n              ")]),!e.carregando&&e.dados["empresa"]&&e.dados["empresa"].vendasEsteAno?a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-left text-primary q-px-none"},[e._v("\n                "+e._s(((e.dados["empresa"]||{}).vendasEsteAno||{}).qtdePDV)+"\n                "),a("q-btn",{staticClass:"no-shadow",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-bell",color:e.percentualQtdePDVRelAnoAnterior>=0?"positive":"negative"}})],1):e._e(),!e.carregando&&e.dados["empresa"]&&e.dados["empresa"].vendasAnoAnterior?a("small",{class:e.percentualQtdePDVRelAnoAnterior>=0?"text-positive":"text-negative"},[a("span",{staticClass:"text-tertiary"},[e._v("\n                  "+e._s(e._f("numero")(e.dados["empresa"].vendasAnoAnterior.qtdePDV,2))+"\n                ")]),e._v("\n                (Δ "+e._s(e._f("numero")(e.percentualQtdePDVRelAnoAnterior,2))+"%)\n                "),a("br")]):e._e()],1)],1)],1),a("div",{staticClass:"col-6 col-lg-4",staticStyle:{"min-height":"180px"}},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-left"},[e._v("\n                Quantidade\n              ")]),!e.carregando&&e.dados["empresa"]&&e.dados["empresa"].vendasEsteAno?a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-left text-primary q-px-none"},[e._v("\n                "+e._s(((e.dados["empresa"]||{}).vendasEsteAno||{}).quantidade)+"\n                "),a("q-btn",{staticClass:"no-shadow",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-bell",color:e.percentualQuantidadeRelAnoAnterior>=0?"positive":"negative"}})],1):e._e(),!e.carregando&&e.dados["empresa"]&&e.dados["empresa"].vendasAnoAnterior?a("small",{class:e.percentualQuantidadeRelAnoAnterior>=0?"text-positive":"text-negative"},[a("span",{staticClass:"text-tertiary"},[e._v("\n                  "+e._s(e._f("numero")(e.dados["empresa"].vendasAnoAnterior.quantidade,2))+"\n                ")]),e._v("\n                (Δ "+e._s(e._f("numero")(e.percentualQuantidadeRelAnoAnterior,2))+"%)\n                "),a("br")]):e._e()],1)],1)],1)])]),a("div",{staticClass:"col-12"},[a("div",[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-title",{staticClass:"text-tertiary q-title q-pb-sm"},[e._v("Estoque")]),!e.carregando&&e.dados["empresa"]&&e.dados["empresa"].estoque?a("q-card-main",[a("grafico-barras",{staticClass:"col",attrs:{dados:e.estoque.grafico,opcoes:e.estoque.grafico.cfg}})],1):e._e()],1)],1),a("div",[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[!e.carregando&&e.dados["empresa"]&&e.dados["empresa"].estoque?a("q-card-main",[a("div",{staticClass:"row justify-around"},[a("div",{staticClass:"q-headline text-weight-bold text-center q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[a("div",{staticClass:"text-primary"},[e._v("\n                  "+e._s(e._f("numero")(e.dados["empresa"].estoque.estoqueFinal,2))+"\n                ")]),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("\n                  Estoque Final\n                ")])]),a("div",{staticClass:"q-body-2 text-weight-bolder text-center q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[a("div",{staticClass:"text-faded"},[e._v("\n                  /\n                  "),a("span",{staticStyle:{"margin-left":"100px"}},[e._v("(")])])]),a("div",{staticClass:"q-headline text-weight-bold text-center q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[a("div",{staticClass:"text-primary"},[e._v("\n                  "+e._s(e._f("numero")(e.dados["empresa"].estoque.cmv,2))+"\n                ")]),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("\n                  CMV\n                ")])]),a("div",{staticClass:"q-body-2 text-weight-bolder text-center q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[a("div",{staticClass:"text-faded"},[e._v("\n                  /\n                ")])]),a("div",{staticClass:"q-headline text-weight-bold text-center q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[a("div",{staticClass:"text-primary"},[e._v("\n                  "+e._s(e._f("numero")(e.dados["empresa"].estoque.diasT,0))+"\n                ")]),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("\n                  Dia(s) Trabalhado(s)\n                ")])]),a("div",{staticClass:"q-body-2 text-weight-bolder text-center q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[a("div",{staticClass:"text-faded"},[a("span",{staticStyle:{"margin-right":"100px"}},[e._v(")")]),e._v("\n                  =\n                ")])]),a("div",{staticClass:"q-headline text-weight-bold text-center q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[a("div",{staticClass:"text-primary"},[e._v("\n                  "+e._s(e._f("numero")(e.dados["empresa"].estoque.dias,1))+"\n                ")]),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("\n                  Dia(s)\n                ")])])])]):e._e()],1)],1)]),a("div",{staticClass:"col-12"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-title",{staticClass:"text-tertiary q-title q-pb-sm"},[e._v("Público Alvo")]),!e.carregando&&e.dados["empresa"]&&e.dados["empresa"].venda?a("q-card-main",{staticClass:"row"},[a("grafico-barras",{staticClass:"col-12 col-md-6",attrs:{dados:e.publicoAlvo.genero.graficoBarras,opcoes:e.publicoAlvo.genero.graficoBarras.cfg}}),a("grafico-pizza",{staticClass:"col-12 col-md-3",attrs:{dados:e.publicoAlvo.genero.graficoPizza,opcoes:e.publicoAlvo.genero.graficoPizza.cfg}}),a("grafico-pizza",{staticClass:"col-12 col-md-3",attrs:{dados:e.publicoAlvo.idade.graficoPizza,opcoes:e.publicoAlvo.idade.graficoPizza.cfg}})],1):e._e()],1)],1),a("div",{staticClass:"col-12"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-title",{staticClass:"text-tertiary q-title q-pb-sm"},[e._v("Lucro / Prejuízo")]),!e.carregando&&e.dados["empresa"]&&e.dados["empresa"].receitasDespesas?a("q-card-main",{staticClass:"row"},[a("grafico-barras",{staticClass:"col",attrs:{dados:e.receitasDespesas,opcoes:e.receitasDespesas.cfg}})],1):e._e()],1)],1)])])},PF=[];MF._withStripped=!0;var DF={components:{GraficoBarras:yS,GraficoPizza:wg},computed:{envelopes:function(){var e=this.dados["empresa"].envelopes;return e.sort(function(e,t){return e.ordem<t.ordem?-1:1}),e},estoque:function(){return{grafico:{labels:["Estoque"],datasets:[{type:"bar",label:"Inicial",borderColor:"rgb(54, 162, 235)",backgroundColor:"rgba(54, 162, 235, 0.75)",borderWidth:2,fill:!1,data:[this.dados["empresa"].estoque.estoqueInicial]},{label:"Final",type:"bar",backgroundColor:"rgba(75, 192, 192, 0.75)",borderColor:"rgb(75, 192, 192)",borderWidth:1,data:[this.dados["empresa"].estoque.estoqueFinal]}],cfg:{responsive:!0,maintainAspectRatio:!1,legend:{position:"top"}}}}},percentualCustoRelAnoAnterior:function(){return((this.dados["empresa"]||{}).percentualRelAnoAnterior||{}).custo||0},percentualDescontoRelAnoAnterior:function(){return((this.dados["empresa"]||{}).percentualRelAnoAnterior||{}).desconto||0},percentualMargemLucroRelAnoAnterior:function(){return((this.dados["empresa"]||{}).percentualRelAnoAnterior||{}).margemLucro||0},percentualPrecoMedioRelAnoAnterior:function(){return((this.dados["empresa"]||{}).percentualRelAnoAnterior||{}).precoMedio||0},percentualQtdePDVRelAnoAnterior:function(){return((this.dados["empresa"]||{}).percentualRelAnoAnterior||{}).qtdePDV||0},percentualQuantidadeRelAnoAnterior:function(){return((this.dados["empresa"]||{}).percentualRelAnoAnterior||{}).quantidade||0},percentualTicketMedioRelAnoAnterior:function(){return((this.dados["empresa"]||{}).percentualRelAnoAnterior||{}).ticketMedio||0},percentualValorBrutoRelAnoAnterior:function(){return((this.dados["empresa"]||{}).percentualRelAnoAnterior||{}).valorBruto||0},percentualValorLiquidoRelAnoAnterior:function(){return((this.dados["empresa"]||{}).percentualRelAnoAnterior||{}).valorLiquido||0},percentualValorMargemLucroRelAnoAnterior:function(){return((this.dados["empresa"]||{}).percentualRelAnoAnterior||{}).valorMargemLucro||0},publicoAlvo:function(){return{genero:{graficoBarras:{labels:this.dados["empresa"].venda.sexoFaixaEtaria.map(function(e){return e.faixaEtaria}),datasets:[{label:this.dados["empresa"].venda.sexoFaixaEtaria.map(function(e){return e.sexo}),type:"bar",backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgb(75, 192, 192)",borderWidth:1,data:this.dados["empresa"].venda.sexoFaixaEtaria.map(function(e){return e.venda})}],cfg:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]},legend:{position:"top"}}},graficoPizza:{type:"pie",labels:this.dados["empresa"].venda.sexo.map(function(e){return e.sexo}),datasets:[{label:"Gênero",backgroundColor:["rgb(75, 192, 192)","rgb(219, 40, 40)"],data:this.dados["empresa"].venda.sexo.map(function(e){return e.venda})}],cfg:{responsive:!0}}},idade:{graficoPizza:{type:"pie",labels:this.dados["empresa"].venda.faixaEtaria.map(function(e){return e.faixaEtaria}),datasets:[{label:"Idade",backgroundColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)"],data:this.dados["empresa"].venda.faixaEtaria.map(function(e){return e.venda})}],cfg:{responsive:!0}}}}},receitasDespesas:function(){return{labels:["Período Atual","Período Ano Anterior"],datasets:[{type:"line",label:"Ponto de Equilíbrio",borderColor:"rgb(54, 162, 235)",backgroundColor:"rgba(219, 40, 40, 0)",borderWidth:1,data:[(this.dados["empresa"].receitasDespesas||{}).periodoAtualPontoEquilibrio,(this.dados["empresa"].receitasDespesas||{}).periodoAnoAnteriorPontoEquilibrio]},{label:"Receita",type:"bar",stack:"Stack 1",backgroundColor:"rgba(219, 40, 40, 0.75)",borderColor:"rgb(219, 40, 40)",borderWidth:1,data:[(this.dados["empresa"].receitasDespesas||{}).periodoAtualReceita,(this.dados["empresa"].receitasDespesas||{}).periodoAnoAnteriorReceita]},{label:"Despesa Variável - Projeção",type:"bar",stack:"Stack 2",backgroundColor:"rgba(219, 40, 40, 0.5)",borderColor:"rgb(219, 40, 40)",borderWidth:1,data:[(this.dados["empresa"].receitasDespesas||{}).periodoAtualDespVariavelProjecao,(this.dados["empresa"].receitasDespesas||{}).periodoAnoAnteriorDespVariavelProjecao]},{label:"Receita - Projeção",type:"bar",stack:"Stack 3",backgroundColor:"rgba(219, 40, 40, 0.25)",borderColor:"rgb(219, 40, 40)",borderWidth:1,data:[(this.dados["empresa"].receitasDespesas||{}).periodoAtualReceitaProjecao,(this.dados["empresa"].receitasDespesas||{}).periodoAnoAnteriorReceitaProjecao]},{label:"Lucro x Prejuízo",type:"bar",stack:"Stack 4",backgroundColor:"rgba(54, 162, 235, 0.75)",borderColor:"rgb(54, 162, 235)",borderWidth:1,data:[(this.dados["empresa"].receitasDespesas||{}).periodoAtualLucroPrejuizo,(this.dados["empresa"].receitasDespesas||{}).periodoAnoAnteriorLucroPrejuizo]},{label:"Despesa Variável",type:"bar",stack:"Stack 5",backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgb(54, 162, 235)",borderWidth:1,data:[(this.dados["empresa"].receitasDespesas||{}).periodoAtualDespVariavel,(this.dados["empresa"].receitasDespesas||{}).periodoAnoAnteriorDespVariavel]},{label:"Despesa Fixa",type:"bar",stack:"Stack 6",backgroundColor:"rgba(54, 162, 235, 0)",borderColor:"rgba(54, 162, 235, 0)",data:[(this.dados["empresa"].receitasDespesas||{}).periodoAtualDespFixa,(this.dados["empresa"].receitasDespesas||{}).periodoAnoAnteriorDespFixa]}],cfg:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]},legend:{position:"top"}}}}},data:function(){return{permissoes:{},sistemaPai:""}},props:{carregando:{default:!0,required:!0,type:Boolean},dados:{default:function(){return{}},required:!0,type:Object}},mounted:function(){var e=this;this.permissoes={envelope:!1},Zn.permissao.objeto("cockpit/envelope").then(function(t){e.permissoes.envelope=t}),this.sistemaPai=co()}},EF=DF,TF=(a("abd9"),Object(sc["a"])(EF,MF,PF,!1,null,"2daef60c",null));TF.options.__file="QgQg.vue";var AF=TF.exports,OF=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"CockpitReceber"},[a("div",{staticClass:"q-pb-md"},[a("div",{staticClass:"no-shadow"},[a("div",{staticClass:"col-12"},[a("span",{staticStyle:{"font-size":"70%"}},[a("q-spinner",{directives:[{name:"show",rawName:"v-show",value:e.carregando,expression:"carregando"}],attrs:{color:"primary",size:20}})],1)]),a("q-list",{staticClass:"q-my-sm"},e._l(e.empresas,function(t){return a("q-collapsible",{key:t.codigoContato,attrs:{opened:"",label:t.nome}},[e._l(e.dados["equipe"].filter(function(e){return e.codigoEmpresa===t.codigoContato}),function(o){return a("q-card",{key:o.codigoContatoVendedor,staticClass:"extratoItem bg-white q-my-md q-py-sm q-px-md"},[a("div",{staticClass:"row q-mb-xs items-center"},[a("div",{staticClass:"col-12 col-lg-6"},[a("div",{staticClass:"row q-mb-sm"},[a("div",{staticClass:"col"},[a("avatar",{staticClass:"avatar float-left",attrs:{imagem:e.vendedores[o.codigoContatoVendedor].imagem,rotulo:e.vendedores[o.codigoContatoVendedor].nome,tamanho:"40"}}),a("q-toolbar-title",[e._v("\n                      "+e._s(e.vendedores[o.codigoContatoVendedor].nome)+"\n                      "),a("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n                        "+e._s(t.nome)+"\n                      ")])])],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"progress "},[a("div",{staticClass:"progress-bar bg-primary",staticStyle:{width:"62%"}}),a("div",{staticClass:"progress-bar bg-info",staticStyle:{width:"5%"}}),a("div",{staticClass:"progress-bar progress-bar-animated progress-bar-striped bg-success",staticStyle:{width:"33%"}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"q-title text-weight-bold text-left text-primary q-mt-xs q-pb-none col-12 col-md",staticStyle:{"line-height":"22px"}},[e._v("R$ "+e._s(e._f("numero")(o.faturamentoPeriodo,2))+"\n                    "),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("Mês")])]),a("div",{staticClass:"q-title text-weight-bold text-center text-blue-5 q-mt-xs q-pb-none col-12 col-md",staticStyle:{"line-height":"22px"}},[e._v("R$ "+e._s(e._f("numero")(o.faturamentoHoje,2))+"\n                    "),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("Hoje")])]),a("div",{staticClass:"q-title text-weight-bold text-right text-positive q-mt-xs q-pb-none col-12 col-md",staticStyle:{"line-height":"22px"}},[e._v("R$ "+e._s(e._f("numero")(o.faturamentoProjecao,2))+"\n                    "),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("Projeção")])])])]),a("div",{staticClass:"col-12 col-lg-6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 col-lg-3 q-mb-sm blocks"},[a("q-toolbar-title",{staticClass:"q-headline text-weight-bold text-center text-blue-8"},[e._v("\n                      "+e._s(e._f("numero")(o.ticketMedioPeriodo,2))+"\n                    ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary  text-center"},[e._v("\n                      Ticket Médio\n                    ")])],1),a("div",{staticClass:"col-6 col-lg-3 q-mb-sm blocks"},[a("q-toolbar-title",{staticClass:"q-headline text-weight-bold text-center text-blue-8"},[e._v("\n                      "+e._s(e._f("numero")(o.pendenciasOrcamentos,0))+"\n                    ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary  text-center"},[e._v("\n                      Orçamento(s)\n                    ")])],1),a("div",{staticClass:"col-6 col-lg-3 q-mb-sm blocks"},[a("q-toolbar-title",{staticClass:"q-headline text-weight-bold text-center text-blue-8"},[e._v("\n                      "+e._s(e._f("numero")(o.conversoesHoje,0))+" / "+e._s(e._f("numero")(o.atendimentosHoje,0))+"\n                    ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary  text-center"},[e._v("\n                      Atendimento c/ vendas hoje\n                    ")])],1),a("div",{staticClass:"col-6 col-lg-3 q-mb-sm blocks"},[a("q-toolbar-title",{staticClass:"q-headline text-weight-bold text-center text-blue-8"},[e._v("\n                      "+e._s(e._f("numero")(o.conversoesPeriodo,0))+" / "+e._s(e._f("numero")(o.atendimentosPeriodo,0))+"\n                    ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary  text-center"},[e._v("\n                      Atendimento c/ vendas período\n                    ")])],1)])])])])}),a("p",{staticClass:"text-right q-mt-sm"},[e._v("Mês\n            "),a("strong",[e._v(e._s(e._f("numero")(e.dados["equipe"].filter(function(e){return e.codigoEmpresa===t.codigoContato}).reduce(function(e,t){return e+t.faturamentoPeriodo},0),2))+" ")]),e._v(" - Hoje\n            "),a("strong",[e._v(e._s(e._f("numero")(e.dados["equipe"].filter(function(e){return e.codigoEmpresa===t.codigoContato}).reduce(function(e,t){return e+t.faturamentoHoje},0),2)))]),e._v(" - Projeção\n            "),a("strong",[e._v(e._s(e._f("numero")(e.dados["equipe"].filter(function(e){return e.codigoEmpresa===t.codigoContato}).reduce(function(e,t){return e+t.faturamentoProjecao},0),2)))])])],2)}))],1)])])},$F=[];OF._withStripped=!0;var RF={components:{Avatar:Fc},data:function(){return{empresas:[],vendedores:{}}},props:{carregando:{default:!0,required:!0,type:Boolean},dados:{default:function(){return{}},required:!0,type:Object}},methods:{obterEmpresas:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.empresas=[],e.next=3,Zn.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);case 3:t=e.sent,a=new Set((this.dados["equipe"]||[]).map(function(e){return e.codigoEmpresa})),o=[],a.forEach(function(e){var a=t.find(function(t){return t.codigoContato===e});o.push({codigoContato:a.codigoContato,nome:a.nome})}),this.empresas=o;case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),obterVendedores:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.contatoBusca.filtrar(null,{ativo:!0,usuario:!0},0);case 2:return t=e.sent,e.t0=t,e.next=6,Zn.contatoBusca.filtrar(null,{ativo:!0,vendedores:!0},0);case 6:e.t1=e.sent,t=e.t0.concat.call(e.t0,e.t1),a={},t.forEach(function(e){a[e.codigoContato]||(a[e.codigoContato]=e)}),this.vendedores=a;case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},watch:{carregando:function(){var e=this;this.carregando||this.obterVendedores().then(function(){e.obterEmpresas()})}},mounted:function(){var e=this;this.obterVendedores().then(function(){e.obterEmpresas()})}},jF=RF,zF=(a("93c7"),Object(sc["a"])(jF,OF,$F,!1,null,"0d904378",null));zF.options.__file="QgEquipe.vue";var BF=zF.exports,LF=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row gutter-sm q-mt-sm q-pb-md"},[a("div",{staticClass:"col-12",staticStyle:{float:"right"}},[a("span",{staticStyle:{"font-size":"70%"}},[a("q-spinner",{directives:[{name:"show",rawName:"v-show",value:e.carregando,expression:"carregando"}],attrs:{color:"primary",size:20}})],1)]),a("div",{staticClass:"col-12 q-mt-sm"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-title",{staticClass:"text-tertiary q-title q-pb-sm"},[e._v("Estoque")]),!e.carregando&&e.dados["estoque"]&&e.dados["estoque"][0]&&e.dados["estoque"][0][0]?a("q-card-main",[a("div",{staticClass:"row justify-around"},[a("div",{staticClass:"q-headline text-weight-bold text-center q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[a("div",{staticClass:"text-primary"},[e._v("\n              "+e._s(e._f("numero")(e.dados["estoque"][0][0].estoqueCusto,2))+"\n            ")]),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("\n              Custo Total\n            ")])]),a("div",{staticClass:"q-headline text-weight-bold text-center q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[a("div",{staticClass:"text-primary"},[e._v("\n              "+e._s(e._f("numero")(e.dados["estoque"][0][0].qtdeSku,0))+"\n            ")]),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("\n              Unidades\n            ")])]),a("div",{staticClass:"q-headline text-weight-bold text-center q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[a("div",{staticClass:"text-primary"},[e._v("\n              "+e._s(e._f("numero")(e.dados["estoque"][0][0].estoqueVenda,2))+"\n            ")]),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("\n              Valor Venda\n            ")])]),a("div",{staticClass:"q-headline text-weight-bold text-center q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[a("div",{staticClass:"text-primary"},[e._v("\n              "+e._s(e._f("numero")(e.dados["estoque"][0][0].margem,0))+"%\n            ")]),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("\n              Margem\n            ")])])])]):e._e()],1)],1),"optisoul"===e.sistemaPai?a("div",{staticClass:"col-6"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-title",{staticClass:"text-tertiary q-title q-pb-sm"},[e._v("Tipos")]),!e.carregando&&e.dados["estoque"]&&e.dados["estoque"][1]?a("q-card-main",[a("grafico-pizza",{staticClass:"col-12",attrs:{dados:e.tipos.graficoPizza,opcoes:e.tipos.graficoPizza.cfg}})],1):e._e()],1)],1):a("div",{staticClass:"col-6"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-title",{staticClass:"text-tertiary q-title q-pb-sm"},[e._v("Grupos")]),!e.carregando&&e.dados["estoque"]&&e.dados["estoque"][1]?a("q-card-main",[a("grafico-pizza",{staticClass:"col-12",attrs:{dados:e.grupos.graficoPizza,opcoes:e.grupos.graficoPizza.cfg}})],1):e._e()],1)],1),a("div",{staticClass:"col-6"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-title",{staticClass:"text-tertiary q-title q-pb-sm"},[e._v("Marcas")]),!e.carregando&&e.dados["estoque"]&&e.dados["estoque"][2]?a("q-card-main",[a("grafico-pizza",{staticClass:"col-12",attrs:{dados:e.marcas.graficoPizza,opcoes:e.marcas.graficoPizza.cfg}})],1):e._e()],1)],1),a("div",{staticClass:"col-12"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-title",{staticClass:"text-tertiary q-title q-pb-sm"},[e._v("Giro")]),!e.carregando&&e.dados["estoque"]&&e.dados["estoque"][3]?a("q-card-main",[a("q-table",{staticClass:"no-shadow text-left col-12",attrs:{data:e.giro.tableData,columns:e.giro.columns,"hide-bottom":""}})],1):e._e()],1)],1)])},VF=[];LF._withStripped=!0;var UF={components:{GraficoPizza:wg},computed:{tipos:function(){return{graficoPizza:{type:"pie",labels:this.dados["estoque"][1].filter(function(e){return e.estoque}).map(function(e){return e.tipo}),datasets:[{label:"Valor de Custo",backgroundColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)"],data:this.dados["estoque"][1].filter(function(e){return e.estoque}).map(function(e){return e.estoque})}],cfg:{responsive:!0}}}},grupos:function(){return{graficoPizza:{type:"pie",labels:this.dados["estoque"][4].filter(function(e){return e.estoque}).map(function(e){return e.grupo}),datasets:[{label:"Valor de Custo",backgroundColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)"],data:this.dados["estoque"][4].filter(function(e){return e.estoque}).map(function(e){return e.estoque})}],cfg:{responsive:!0}}}},marcas:function(){return{graficoPizza:{type:"pie",labels:this.dados["estoque"][2].filter(function(e){return e.estoque}).map(function(e){return e.marca}),datasets:[{label:"Valor de Custo",backgroundColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)"],data:this.dados["estoque"][2].filter(function(e){return e.estoque}).map(function(e){return e.estoque})}],cfg:{responsive:!0}}}},giro:function(){var e=this,t=ea(this.dados["estoque"][3]),a=t,o=t,i=[];a=a.sort(function(e,t){var a=(e.faixaVenda||"").match(/\d+/gi),o=(t.faixaVenda||"").match(/\d+/gi);return Number(a[0])>Number(o[0])?a[1]&&o[1]&&Number(a[1])<Number(o[1])?-1:1:-1}),a=new Set(a.map(function(e){return e.faixaVenda})),a=[""].concat(la()(a)),a=a.map(function(e,t){return{name:"faixa"+t,label:e,field:"faixa"+t,align:"left"}}),o=o.sort(function(e,t){var a=(e.faixaGiro||"").match(/\d+/gi),o=(t.faixaGiro||"").match(/\d+/gi);return Number(a[0])>Number(o[0])?a[1]&&o[1]&&Number(a[1])<Number(o[1])?-1:1:-1}),o=new Set(o.map(function(e){return e.faixaGiro}));var r=!0,s=!1,n=void 0;try{for(var c,l=function(){var o=c.value,r=0,s={faixa0:o},n=!0,l=!1,d=void 0;try{for(var u,m=function(){var a=u.value,i=t.reduce(function(e,t){return t.faixaVenda===a.label&&t.faixaGiro===o?e+t.custoTotal:e},0);r+=i,s[a.name]=e.$filters.numero(i,2)},p=a.filter(function(e){return e.label})[Symbol.iterator]();!(n=(u=p.next()).done);n=!0)m()}catch(e){l=!0,d=e}finally{try{n||null==p.return||p.return()}finally{if(l)throw d}}s["totais"]=e.$filters.numero(r,2),i.push(s)},d=o[Symbol.iterator]();!(r=(c=d.next()).done);r=!0)l()}catch(e){s=!0,n=e}finally{try{r||null==d.return||d.return()}finally{if(s)throw n}}return{columns:a,tableData:i}}},data:function(){return{sistemaPai:""}},props:{carregando:{default:!0,required:!0,type:Boolean},dados:{default:function(){return{}},required:!0,type:Object}},created:function(){this.sistemaPai=co()}},HF=UF,QF=(a("6f43"),Object(sc["a"])(HF,LF,VF,!1,null,null,null));QF.options.__file="QgEstoque.vue";var GF=QF.exports,JF=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.campos&&e.campos.id?a("form",{staticClass:"ContatoFicha",on:{submit:function(t){return t.preventDefault(),e.salvarContato(t)}}},[a("div",{staticClass:"bg-white gutter-x-md q-px-md q-py-lg row"},[a("div",{staticClass:"col-12 col-md-3 text-center"},[a("avatar",{attrs:{imagem:e.campos.imagem,rotulo:e.campos.apelido,tamanho:"160"},nativeOn:{click:function(t){return e.abrirModalFoto(t)}}}),a("div",{staticClass:"group q-mt-md"},[e._l(e.campos.redeSocial,function(t,o){return a("q-btn",{key:o,attrs:{color:"link"===t.tipo?"primary":t.tipo,round:"",size:"sm"},on:{click:function(a){e.abrirURL(t.link)}}},["link"===t.tipo?a("q-icon",{attrs:{name:"launch"}}):a("icone",{attrs:{nome:t.tipo,tamanho:"12"}})],1)}),a("q-btn",{attrs:{color:"positive",icon:"add",label:"Rede social",outline:"",round:e.temRedeSocial,size:"sm"},on:{click:e.abrirRedeSocialModal}})],2)],1),a("div",{staticClass:"col-12 col-md-6"},[e.campos&&e.campos.codigoContato?a("div",{staticClass:"text-right"},[a("badge",{attrs:{cor:e.badgeCor,escuro:""}},[e._v("#"+e._s((e.campos.codigoContato||0).toString().padStart(6,"0")))])],1):e._e(),a("q-field",[a("q-input",{staticClass:"q-title",attrs:{placeholder:e.ehEmpresa?"Fantasia":"Apelido"},model:{value:e.campos.apelido,callback:function(t){e.$set(e.campos,"apelido",t)},expression:"campos.apelido"}})],1),a("q-field",{staticClass:"q-mt-md",attrs:{error:e.$v.campos.nome.$error,"error-label":"O nome é obrigatório."}},[a("q-input",{attrs:{"float-label":e.ehEmpresa?"Razão social":"Nome completo"},on:{blur:e.$v.campos.nome.$touch},model:{value:e.campos.nome,callback:function(t){e.$set(e.campos,"nome",t)},expression:"campos.nome"}})],1),a("div",{staticClass:"gutter-x-sm row"},[a("q-field",{staticClass:"col-12 col-sm",attrs:{error:e.$v.campos.numeroDocumentoNacional.$error,"error-label":e.campos.numeroDocumentoNacionalErro}},[a("div",{staticClass:"row"},[a("q-input",{directives:[{name:"mask",rawName:"v-mask",value:["###.###.###-##","##.###.###/####-##"],expression:"['###.###.###-##', '##.###.###/####-##']"}],staticClass:"col",attrs:{"float-label":e.ehEmpresa?"CNPJ":"CPF/CNPJ"},on:{blur:e.$v.campos.numeroDocumentoNacional.$touch,input:function(t){e.consultarCadastroSefaz(!1)}},model:{value:e.campos.numeroDocumentoNacional,callback:function(t){e.$set(e.campos,"numeroDocumentoNacional",t)},expression:"campos.numeroDocumentoNacional"}}),18===e._.get(e.campos,"numeroDocumentoNacional","").length?a("q-btn",{staticClass:"col-auto self-start q-mt-lg",attrs:{color:"none",dense:"",flat:"",round:"",size:"xs"},on:{click:function(t){e.consultarCadastroSefaz(!0)}}},[a("q-icon",{attrs:{color:"positive",name:"mdi-arrow-down-bold-circle",size:"24px"}}),a("q-tooltip",[e._v("Consultar cadastro no Sefaz")])],1):e._e()],1)]),a("q-field",{staticClass:"col-12 col-sm"},[a("q-input",{attrs:{"float-label":e.ehEmpresa?"Inscrição estadual":"RG/IE"},model:{value:e.campos.numeroDocumentoEstadual,callback:function(t){e.$set(e.campos,"numeroDocumentoEstadual",t)},expression:"campos.numeroDocumentoEstadual"}})],1),a("q-field",{staticClass:"col-12 col-sm"},[a("q-input",{attrs:{"float-label":"Inscrição municipal"},model:{value:e.campos.numeroDocumentoMunicipal,callback:function(t){e.$set(e.campos,"numeroDocumentoMunicipal",t)},expression:"campos.numeroDocumentoMunicipal"}})],1)],1),a("div",{staticClass:"q-mt-xl"},[a("div",{staticClass:"q-mb-md q-subheading"},[e._v("Telefones")]),e._l(e.campos.telefone,function(t,o){return a("div",{key:o,staticClass:"u-separador animate-pop"},[a("div",{staticClass:"gutter-x-sm items-baseline row"},[a("div",{staticClass:"col-2 col-sm-1"},[a("q-btn",{attrs:{color:"none",dense:"",flat:"",round:""},on:{click:function(a){e.abrirTelefone(t)}}},[a("WhatsApp"===t.tipoTelefone?"icone":"q-icon",e._b({tag:"component"},"component",e.telefoneIcone(t.tipoTelefone),!1))],1)],1),a("q-field",{staticClass:"col-4 col-sm-3"},[a("q-select",{attrs:{"float-label":"Tipo",options:e.telefoneTipos},model:{value:e.campos.telefone[o].tipoTelefone,callback:function(t){e.$set(e.campos.telefone[o],"tipoTelefone",t)},expression:"campos.telefone[indice].tipoTelefone"}})],1),a("q-field",{staticClass:"col-6 col-sm-4"},[a("q-input",{attrs:{"float-label":"Telefone"},model:{value:e.campos.telefone[o].telefone,callback:function(t){e.$set(e.campos.telefone[o],"telefone",t)},expression:"campos.telefone[indice].telefone"}})],1),a("q-field",{staticClass:"col-10 col-sm-3"},[a("q-input",{attrs:{"float-label":"Descrição"},model:{value:e.campos.telefone[o].observacao,callback:function(t){e.$set(e.campos.telefone[o],"observacao",t)},expression:"campos.telefone[indice].observacao"}})],1),a("div",{staticClass:"col-2 col-sm-1 text-right"},[a("q-btn",{attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(t){e.removerTelefone(o)}}},[a("q-tooltip",[e._v("Excluir")])],1)],1)],1)])}),a("div",{staticClass:"q-mt-md text-center"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Telefone",outline:"",size:"sm"},on:{click:e.adicionarTelefone}})],1)],2),a("div",{staticClass:"q-mt-xl"},[a("div",{staticClass:"q-mb-md q-subheading"},[e._v("Endereços")]),e._l(e.$v.campos.endereco.$each.$iter,function(t,o){return a("div",{key:o,staticClass:"u-separador animate-pop"},[a("div",{staticClass:"gutter-x-sm items-baseline row"},[a("div",{staticClass:"col-2 col-sm-1"},[a("q-btn",{attrs:{color:"none u-semClique",dense:"",flat:"",round:""}},[a("q-icon",e._b({},"q-icon",e.enderecoIcone(t.grupo.$model),!1))],1)],1),a("q-field",{staticClass:"col-10 col-sm-11"},[a("q-select",{attrs:{options:e.enderecoTipos,"float-label":"Grupo"},model:{value:t.grupo.$model,callback:function(a){e.$set(t.grupo,"$model",a)},expression:"endereco.grupo.$model"}})],1),a("q-field",{staticClass:"col-6 col-sm-4",attrs:{error:t.cep.$error,"error-label":"O CEP está muito curto."}},[a("q-search",{directives:[{name:"mask",rawName:"v-mask",value:"#####-###",expression:"'#####-###'"}],attrs:{"float-label":"CEP"},on:{blur:t.$touch,input:function(t){e.consultarCep(o)}},model:{value:t.cep.$model,callback:function(a){e.$set(t.cep,"$model",a)},expression:"endereco.cep.$model"}})],1),a("q-field",{staticClass:"col-2 col-sm-2",attrs:{error:t.uf.$error,"error-label":"Insira um UF."}},[a("q-input",{attrs:{"float-label":"UF",maxlength:"2"},on:{blur:t.$touch},model:{value:t.uf.$model,callback:function(a){e.$set(t.uf,"$model",a)},expression:"endereco.uf.$model"}})],1),a("q-field",{staticClass:"col-10 col-sm-6",attrs:{helper:"Código IBGE: "+(t.ibgeCod.$model||""),error:t.municipio.$error,"error-label":"Selecione um município"}},[a("q-search",{attrs:{"float-label":"Cidade","no-icon":""},on:{blur:function(t){e.conferirCidade(o)}},model:{value:t.municipio.$model,callback:function(a){e.$set(t.municipio,"$model",a)},expression:"endereco.municipio.$model"}},[a("q-autocomplete",{attrs:{"min-characters":2,"max-results":5,"value-field":function(e){return""+e.nomeMunic}},on:{search:e.buscarCidade,selected:function(t){return e.selecionarCidade(t,o)}}})],1)],1),a("q-field",{staticClass:"col-12 col-sm-7",attrs:{error:t.logradouro.$error,"error-label":"O endereço está muito curto."}},[a("q-input",{attrs:{"float-label":"Endereço"},on:{blur:t.$touch},model:{value:t.logradouro.$model,callback:function(a){e.$set(t.logradouro,"$model",a)},expression:"endereco.logradouro.$model"}},[a("q-autocomplete",{staticClass:"q-ma-none",attrs:{"min-characters":3},on:{search:function(t,a){return e.consultarLogradouro(o,t,a)},selected:function(t){return e.selecionarLogradouro(o,t)}}})],1)],1),a("q-field",{staticClass:"col-12 col-sm-2"},[a("q-input",{attrs:{"float-label":"Número"},on:{blur:t.$touch},model:{value:t.numero.$model,callback:function(a){e.$set(t.numero,"$model",a)},expression:"endereco.numero.$model"}})],1),a("q-field",{staticClass:"col-12 col-sm-3"},[a("q-input",{attrs:{"float-label":"Complemento"},on:{blur:t.$touch},model:{value:t.complemento.$model,callback:function(a){e.$set(t.complemento,"$model",a)},expression:"endereco.complemento.$model"}})],1),a("q-field",{staticClass:"col-12 col-sm-6",attrs:{error:t.bairro.$error,"error-label":"O bairro está muito curto."}},[a("q-input",{attrs:{"float-label":"Bairro"},on:{blur:t.$touch},model:{value:t.bairro.$model,callback:function(a){e.$set(t.bairro,"$model",a)},expression:"endereco.bairro.$model"}})],1),a("q-field",{staticClass:"col-10 col-sm-5",attrs:{error:t.pais.$error,"error-label":"Insira um país."}},[a("q-input",{attrs:{"float-label":"País"},on:{blur:t.$touch},model:{value:t.pais.$model,callback:function(a){e.$set(t.pais,"$model",a)},expression:"endereco.pais.$model"}})],1),a("div",{staticClass:"col-2 col-sm-1 text-right"},[a("q-btn",{attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(t){e.removerEndereco(o)}}},[a("q-tooltip",[e._v("Remover")])],1)],1)],1)])}),a("div",{staticClass:"q-mt-md text-center"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Endereço",outline:"",size:"sm"},on:{click:e.adicionarEndereco}})],1)],2)],1),a("div",{staticClass:"col-12 col-md-3"},[a("q-field",[a("q-input",{staticClass:"bg-light q-px-md",attrs:{"float-label":"Observações",rows:"10",type:"textarea"},model:{value:e.campos.observacao,callback:function(t){e.$set(e.campos,"observacao",t)},expression:"campos.observacao"}})],1)],1)]),a("q-tabs",{staticClass:"bg-transparent q-mt-lg",attrs:{color:"transparent","text-color":"primary"}},[a("q-tab",{attrs:{slot:"title",default:"",label:"Dados Adicionais",name:"profile-tab-1"},slot:"title"}),a("q-tab",{attrs:{slot:"title",label:"Dependentes / Empresa",name:"profile-tab-2"},slot:"title"}),a("q-tab",{attrs:{slot:"title",label:"Consulta de cadastro",name:"profile-tab-3"},slot:"title"}),a("q-tab",{attrs:{slot:"title",label:"Conduta",name:"profile-tab-4"},slot:"title"}),a("q-tab",{attrs:{slot:"title",label:"Configurações comerciais",name:"profile-tab-5"},slot:"title"}),a("q-tab-pane",{staticClass:"bg-white",attrs:{name:"profile-tab-1"}},[a("div",{staticClass:"gutter-sm items-baseline row"},[a("campo",{staticClass:"col-12 col-sm-4 u-semClique",attrs:{before:[{icon:"alternate_email"}],erro:e.$v.campos.email.$error,"erro-rotulo":"Insira um e-mail válido.",rotulo:"E-mail"},on:{blur:e.$v.campos.email.$touch},model:{value:e.campos.email,callback:function(t){e.$set(e.campos,"email",t)},expression:"campos.email"}}),a("campo",{staticClass:"col-12 col-sm-4 u-semClique",attrs:{before:[{icon:"language"}],rotulo:"Site"},model:{value:e.campos.site,callback:function(t){e.$set(e.campos,"site",t)},expression:"campos.site"}}),a("campo",{staticClass:"col-12 col-sm-4",attrs:{after:[{icon:"add_circle",handler:function(){e.abrirModalSegmento()}}],opcoes:e.opcoesSegmento,"rotulo-fixo":e.segmentoProfissao,tipo:"seletor"},model:{value:e.campos.segmento,callback:function(t){e.$set(e.campos,"segmento",t)},expression:"campos.segmento"}}),e.ehEmpresa?[a("q-field",{staticClass:"col-12 col-sm-3"},[a("q-select",{attrs:{"float-label":"Regime",options:e.regimes},model:{value:e.campos.regime,callback:function(t){e.$set(e.campos,"regime",t)},expression:"campos.regime"}})],1),"Normal"===e.campos.regime?a("campo",{staticClass:"col-12 col-sm-3",attrs:{opcoes:[{rotulo:"",valor:""},{rotulo:"Lucro real",valor:"1"},{rotulo:"Lucro presumido",valor:"2"}],rotulo:"Tributação",tipo:"seletor"},model:{value:e.campos.tributacao,callback:function(t){e.$set(e.campos,"tributacao",t)},expression:"campos.tributacao"}}):a("div",{staticClass:"col-12 col-sm-3"}),a("campo",{staticClass:"col-12 col-sm-3",attrs:{opcoes:[{rotulo:"",valor:""},{rotulo:"Indústria",valor:"1"},{rotulo:"Outros",valor:"99"}],rotulo:"Setor tributação",tipo:"seletor"},model:{value:e.campos.tributacaoSetor,callback:function(t){e.$set(e.campos,"tributacaoSetor",t)},expression:"campos.tributacaoSetor"}}),a("campo",{staticClass:"col-12 col-sm-3",attrs:{after:[{icon:"delete",handler:function(){e.campos.dataAbertura=""}}],rotulo:"Data de abertura",suffix:e.campos.dataAbertura?e.idade+" anos":"",max:Date.now(),tipo:"data"},model:{value:e.campos.dataAbertura,callback:function(t){e.$set(e.campos,"dataAbertura",t)},expression:"campos.dataAbertura"}})]:[a("q-field",{staticClass:"col-12 col-sm-6"},[a("q-select",{attrs:{"float-label":"Sexo",options:e.sexos},model:{value:e.campos.sexo,callback:function(t){e.$set(e.campos,"sexo",t)},expression:"campos.sexo"}})],1),a("campo",{staticClass:"col-12 col-sm-6",attrs:{after:[{icon:"delete",handler:function(){e.campos.dataAbertura=""}}],rotulo:"Data de nascimento",suffix:e.campos.dataAbertura?e.idade+" anos":"",max:Date.now(),tipo:"data"},model:{value:e.campos.dataAbertura,callback:function(t){e.$set(e.campos,"dataAbertura",t)},expression:"campos.dataAbertura"}})],a("q-field",{staticClass:"col-12"},[a("q-chips-input",{attrs:{before:[{icon:"local_offer",handler:function(){e.abrirModalGrupo()}}],"float-label":"Grupos","no-icon":""},model:{value:e.campos.nomesGrupo,callback:function(t){e.$set(e.campos,"nomesGrupo",t)},expression:"campos.nomesGrupo"}})],1)],2)]),a("q-tab-pane",{staticClass:"bg-white",attrs:{name:"profile-tab-2"}},[a("div",{staticClass:"gutter-x-sm items-baseline row"},[a("div",[a("q-btn",{attrs:{color:"faded",size:"lg",icon:"person_add",dense:"",flat:"",round:""},on:{click:e.abrirModalDependente}},[a("q-tooltip",[e._v("Criar contato")])],1)],1),a("q-field",{staticClass:"col"},[a("q-search",{attrs:{"float-label":"Dependentes"},model:{value:e.filhoCampo,callback:function(t){e.filhoCampo=t},expression:"filhoCampo"}},[a("q-autocomplete",{attrs:{"min-characters":2},on:{search:e.buscarFilhos,selected:e.adicionarFilho}})],1)],1)],1),a("q-list",{staticClass:"q-mt-lg",attrs:{"no-border":"",separator:""}},e._l(e.campos.filhos.filter(function(t){return t.idContato===e.campos.id}),function(t){return a("q-item",{key:t.id},[a("q-item-side",[a("avatar",{attrs:{imagem:(e.filhos[t.idContatoRelacionado]||{}).imagem,rotulo:(e.filhos[t.idContatoRelacionado]||{}).apelido}})],1),a("q-item-main",[a("div",{staticClass:"row gutter-x-sm items-center"},[a("div",{staticClass:"col-4"},[a("q-item-tile",{attrs:{label:""}},[e._v(e._s((e.filhos[t.idContatoRelacionado]||{}).apelido))]),a("q-item-tile",{attrs:{sublabel:""}},[e._v("\n                  "+e._s((e.filhos[t.idContatoRelacionado]||{}).nome)+"\n                  "+e._s((e.filhos[t.idContatoRelacionado]||{}).numeroDocumentoNacional||"")+"\n                ")])],1),a("div",{staticClass:"col-4"},[a("campo",{attrs:{rotulo:"Observacao"},model:{value:t.observacao,callback:function(a){e.$set(t,"observacao",a)},expression:"filho.observacao"}})],1),a("div",{staticClass:"col-4 gutter-x-sm"},[a("q-toggle",{attrs:{val:!0,label:"Sócio"},model:{value:t.socio,callback:function(a){e.$set(t,"socio",a)},expression:"filho.socio"}}),a("q-toggle",{attrs:{val:!0,label:"Cobrança"},model:{value:t.cobranca,callback:function(a){e.$set(t,"cobranca",a)},expression:"filho.cobranca"}})],1)])]),a("q-item-side",{attrs:{right:""}},[!e.somenteCarteira||e.somenteCarteira&&e.contatoUsuario.id&&(e.filhos[t.idContatoRelacionado]||{}).idContatoVendedor===e.contatoUsuario.id?a("q-btn",{staticClass:"q-mr-sm",attrs:{color:"faded",size:"xs",icon:"edit",outline:"",round:"",to:{name:"AtendimentoContato",params:{id:t.idContatoRelacionado}}}},[a("q-tooltip",[e._v("Editar contato")])],1):e._e(),a("q-btn",{attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(a){e.removerFilho(t)}}},[a("q-tooltip",[e._v("Remover")])],1)],1)],1)}))],1),a("q-tab-pane",{staticClass:"bg-white",attrs:{name:"profile-tab-3"}},[a("div",{staticClass:"gutter-x-sm items-baseline q-mb-lg row"},[a("q-field",{staticClass:"col-10"},[a("q-input",{attrs:{"float-label":"Descrição"},model:{value:e.consultaDescricao,callback:function(t){e.consultaDescricao="string"===typeof t?t.trim():t},expression:"consultaDescricao"}})],1),a("div",{staticClass:"col-2 text-right"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Consulta",outline:"",size:"sm"},on:{click:e.adicionarConsulta}})],1)],1),e._l(e.campos.consulta,function(t,o){return a("q-card",{key:o,staticClass:"animate-pop q-mb-md shadow-1"},[a("q-card-title",[e._v("\n          "+e._s(t.descricao)+"\n          "),a("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("Consulta realizada em "),a("strong",[e._v(e._s(e._f("dataHora")(t.dataConsulta)))])])])],1)})],2),a("q-tab-pane",{staticClass:"bg-white",attrs:{name:"profile-tab-4"}},[a("div",{staticClass:"gutter-sm row"},[a("q-field",{staticClass:"col-12 col-sm-6",attrs:{helper:"Este conteúdo será exibido sempre que um documento for criado para este contato."}},[a("q-input",{staticClass:"bg-light q-px-sm",attrs:{rows:"3","stack-label":"Observações",type:"textarea"},model:{value:e.campos.condutaObservacao,callback:function(t){e.$set(e.campos,"condutaObservacao",t)},expression:"campos.condutaObservacao"}})],1),a("q-field",{staticClass:"col-12 col-sm-6",attrs:{helper:"Ao preencher este campo, o contato não poderá comprar e o operador visualizará esta mensagem."}},[a("q-input",{staticClass:"bg-light q-px-sm",attrs:{rows:"3","stack-label":"Restrição",type:"textarea",readonly:!e.permissoes.editarCondutaRestricao},model:{value:e.campos.condutaRestricao,callback:function(t){e.$set(e.campos,"condutaRestricao",t)},expression:"campos.condutaRestricao"}})],1)],1)]),a("q-tab-pane",{staticClass:"bg-white",attrs:{name:"profile-tab-5"}},[a("div",{staticClass:"gutter-sm items-center row"},[e.somenteCarteira?a("campo",{staticClass:"col-12 col-sm-4",attrs:{value:e.descricaoVendedor,before:[{icon:"search"}],"somente-leitura":"",disabled:"",rotulo:"Vendedor"}}):a("campo",{staticClass:"col-12 col-sm-4",attrs:{value:e.descricaoVendedor,before:[{icon:"search",handler:e.abrirModalVendedor}],"somente-leitura":"",rotulo:"Vendedor"},on:{click:e.abrirModalVendedor}}),a("input",{attrs:{type:"hidden"},domProps:{value:e.campos.idContatoVendedor}}),e.somenteCarteira?a("campo",{staticClass:"col-12 col-sm-4",attrs:{value:e.descricaoAssistente,before:[{icon:"search"}],"somente-leitura":"",disabled:"",rotulo:"Assistente"}}):a("campo",{staticClass:"col-12 col-sm-4",attrs:{value:e.descricaoAssistente,before:[{icon:"search",handler:e.abrirModalAssistente}],"somente-leitura":"",rotulo:"Assistente"},on:{click:e.abrirModalAssistente}}),a("input",{attrs:{type:"hidden"},domProps:{value:e.campos.idContatoAssistente}}),a("campo",{staticClass:"col-12 col-sm-4",attrs:{decimals:"2",rotulo:"Limite de crédito",tipo:"decimal","somente-leitura":!e.permissoes.editarLimiteCredito},model:{value:e.campos.limiteCredito,callback:function(t){e.$set(e.campos,"limiteCredito",t)},expression:"campos.limiteCredito"}}),a("campo",{staticClass:"col-12 col-sm-4",attrs:{value:e.descricaoItemTabelaPreco,before:[{icon:"search",handler:e.abrirModalItemTabelaPreco}],"somente-leitura":"",rotulo:"Tabela de preço"},on:{click:e.abrirModalItemTabelaPreco}}),a("input",{attrs:{type:"hidden"},domProps:{value:e.campos.idItemTabelaPreco}}),a("campo",{staticClass:"col-12 col-sm-4",attrs:{value:e.descricaoFormaPagamento,before:[{icon:"search",handler:e.abrirModalFormaPagamento}],"somente-leitura":"",rotulo:"Forma de pagamento"},on:{click:e.abrirModalFormaPagamento}}),a("input",{attrs:{type:"hidden"},domProps:{value:e.campos.idFormaPagamento}}),a("campo",{staticClass:"col-12 col-sm-4",attrs:{value:e.descricaoTransportadora,before:[{icon:"search",handler:e.abrirModalTransportadora}],"somente-leitura":"",rotulo:"Transportadora"},on:{click:e.abrirModalTransportadora}}),a("input",{attrs:{type:"hidden"},domProps:{value:e.campos.idContatoTransportadora}}),a("q-field",{staticClass:"col-12 col-sm-4"},[a("q-input",{attrs:{"float-label":"E-mail NFe"},model:{value:e.campos.emailNfe,callback:function(t){e.$set(e.campos,"emailNfe",t)},expression:"campos.emailNfe"}})],1),a("q-field",{staticClass:"col-12 col-sm"},[a("q-input",{attrs:{"float-label":"Observações na NFe"},model:{value:e.campos.observacaoNFE,callback:function(t){e.$set(e.campos,"observacaoNFE",t)},expression:"campos.observacaoNFE"}})],1)],1)])],1),a("div",{staticClass:"items-center justify-around q-my-lg row"},[e.campos.dataCadastro?a("small",[e._v("Data do cadastro: "+e._s(e._f("dataHora")(e.campos.dataCadastro)))]):e._e(),e.campos.dataAlteracao?a("small",[e._v("Última alteração: "+e._s(e._f("dataHora")(e.campos.dataAlteracao)))]):e._e()]),a("q-layout-footer",{staticClass:"bg-light no-shadow q-pa-sm text-right u-bordaCima",attrs:{reveal:""}},[a("div",{staticClass:"u-container relative-position"},[e.campos.ativo?[a("q-btn",{attrs:{color:"faded",flat:"",label:"Cancelar"},on:{click:function(t){return t.preventDefault(),e.aoCancelar(t)}}}),a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"primary",label:"Salvar",type:"submit"}}),a("q-btn",{attrs:{color:"faded",flat:"",icon:"delete",round:""},on:{click:e.removerContato}},[a("q-tooltip",[e._v("Remover")])],1)]:a("div",{staticClass:"q-py-sm text-faded"},[e._v("\n        Não é possível editar informações de um contato excluído.\n        "),a("q-btn",{staticClass:"q-ml-sm",attrs:{color:"primary"},on:{click:e.restaurarContato}},[e._v("Restaurar contato")])],1)],2)]),a("q-modal",{attrs:{"content-css":{minWidth:"80vw"}},model:{value:e.redeSocialModal,callback:function(t){e.redeSocialModal=t},expression:"redeSocialModal"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Redes Sociais")]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),a("div",{staticClass:"layout-padding"},[a("q-list",{attrs:{"no-border":"",separator:""}},e._l(e.campos.redeSocial,function(t,o){return a("q-item",{key:o,staticClass:"animate-pop q-px-none"},[a("q-item-side",[e._v(e._s(t.tipo))]),a("q-item-main",[e._v(e._s(t.link))]),a("q-item-side",{staticClass:"text-right"},[a("q-btn",{attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(t){e.removerRedeSocial(o)}}},[a("q-tooltip",[e._v("Remover")])],1)],1)],1)})),a("q-field",{attrs:{error:e.redeSocialErro,"error-label":e.redeSocialErroDescricao}},[a("q-input",{attrs:{after:[{icon:"done",handler:e.adicionarRedeSocial}],color:"green",placeholder:"Insira a URL aqui.",type:"url"},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.adicionarRedeSocial(t):null}},model:{value:e.redeSocialCampo,callback:function(t){e.redeSocialCampo=t},expression:"redeSocialCampo"}})],1)],1)],1)],1),a("q-modal",{model:{value:e.modalFoto,callback:function(t){e.modalFoto=t},expression:"modalFoto"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Alterar foto")]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),a("div",{staticClass:"q-ma-sm"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.confirmarFoto(t)}}},[a("q-field",{staticClass:"q-ma-md"},[a("q-uploader",{ref:"fotoCampoMobile",staticClass:"mobile-only",attrs:{"auto-expand":"",color:"none","float-label":"Foto","hide-upload-button":"","hide-upload-progress":"","inverted-light":"",url:""},on:{add:e.trocarFoto}}),a("q-uploader",{ref:"fotoCampoDesktop",staticClass:"mobile-hide",attrs:{"auto-expand":"",color:"none",extensions:".jpg,.jpeg","float-label":"Foto","hide-upload-button":"","hide-upload-progress":"","inverted-light":"",url:""},on:{add:e.trocarFoto}})],1),a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Confirmar"}})],1)],1)])],1)],1),a("q-modal",{model:{value:e.segmento.modal,callback:function(t){e.$set(e.segmento,"modal",t)},expression:"segmento.modal"}},[a("div",{staticClass:"q-ma-sm"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.criarSegmento(t)}}},[a("div",{staticClass:"q-ma-md"},[a("div",{staticClass:"row q-headline text-weight-bold"},[e._v("Cadastrar "+e._s(e.segmentoProfissao))]),a("campo",{staticClass:"row",attrs:{erro:!!e.segmento.erro,"erro-rotulo":e.segmento.erro,maxlength:"50",rotulo:"Descrição"},model:{value:e.segmento.nome,callback:function(t){e.$set(e.segmento,"nome","string"===typeof t?t.trim():t)},expression:"segmento.nome"}})],1),a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(t){e.segmento.modal=!1}}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])])]),a("contato-criar",{attrs:{"cpf-cnpj":"","data-nascimento":"",observacao:""},on:{pronto:e.criarDependente},model:{value:e.modalDependente,callback:function(t){e.modalDependente=t},expression:"modalDependente"}}),a("prompt",{attrs:{prop:{dados:e.itemTabelasPreco,esquema:e.esquemaItemTabelaPreco,ordens:e.ordensItemTabelaPreco},tipo:"buscar"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.itens;return a("q-list",{attrs:{link:"","no-border":"",separator:""}},e._l(o,function(t){return a("q-item",{key:t.id,nativeOn:{click:function(a){e.selecionarItemTabelaPreco(t)}}},[a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v(e._s(t.descricao))]),a("q-item-tile",{attrs:{sublabel:""}},[a("strong",[e._v("Empresa: ")]),e._v(e._s(t.empresa))]),t.fatorPercentual?a("q-item-tile",{attrs:{sublabel:""}},[a("strong",[e._v("Fator (%): ")]),e._v(e._s(e._f("numero")(t.fatorPercentual,2))+" %")]):e._e(),a("q-item-tile",{attrs:{sublabel:""}},[a("strong",[e._v("Arredondamento: ")]),e._v(e._s(t.arredondamento?"Sim":"Não")+"\n          ")])],1)],1)}))}}]),model:{value:e.modalItemTabelaPreco,callback:function(t){e.modalItemTabelaPreco=t},expression:"modalItemTabelaPreco"}}),a("prompt",{attrs:{prop:{dados:e.formasPagamento,esquema:e.esquemaFormaPagamento,ordens:e.ordensFormaPagamento},tipo:"buscar"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.itens;return a("q-list",{attrs:{link:"","no-border":"",separator:""}},e._l(o,function(t){return a("q-item",{key:t.id,nativeOn:{click:function(a){e.selecionarFormaPagamento(t.id)}}},[a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v(e._s(t.descricao))]),a("q-item-tile",{attrs:{sublabel:""}},[a("strong",[e._v("Tipo financeito:")]),e._v(e._s(t.tipoFinanceiro))])],1)],1)}))}}]),model:{value:e.modalFormaPagamento,callback:function(t){e.modalFormaPagamento=t},expression:"modalFormaPagamento"}}),a("prompt",{attrs:{prop:{dados:e.contatoGruposUnicos,esquema:e.esquemaGrupo,ordens:e.ordensGrupo},tipo:"buscar"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.itens;return a("q-list",{attrs:{link:"","no-border":"",separator:""}},e._l(o,function(t){return a("q-item",{key:t.descricao,nativeOn:{click:function(a){e.selecionarGrupo(t.descricao)}}},[a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v(e._s(t.descricao))])],1)],1)}))}}]),model:{value:e.modalGrupo,callback:function(t){e.modalGrupo=t},expression:"modalGrupo"}}),a("prompt-contato-novo",{attrs:{filtro:{ativo:!0,vendedores:!0}},on:{selecionar:e.selecionarAssistente},model:{value:e.modalAssistente,callback:function(t){e.modalAssistente=t},expression:"modalAssistente"}}),a("prompt-contato-novo",{attrs:{filtro:{ativo:!0,transportadoras:!0}},on:{selecionar:e.selecionarTransportadora},model:{value:e.modalTransportadora,callback:function(t){e.modalTransportadora=t},expression:"modalTransportadora"}}),a("prompt-contato-novo",{attrs:{filtro:{ativo:!0,vendedores:!0}},on:{selecionar:e.selecionarVendedor},model:{value:e.modalVendedor,callback:function(t){e.modalVendedor=t},expression:"modalVendedor"}}),a("ConsultaCadastroContribuinte",{attrs:{modal:e.modalCadastroContribuinte,modalCertificado:e.modalCertificado},on:{salvar:e.consultarCadastroSefazSalvar,consultar:e.consultarCadastroSefazCertificado}})],1):e._e()},XF=[];JF._withStripped=!0;a("b54a");var YF=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-modal",{attrs:{"content-css":{maxWidth:"800px"}},model:{value:e.modal.visivel,callback:function(t){e.$set(e.modal,"visivel",t)},expression:"modal.visivel"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("Cadastro de contribuinte no Sefaz")])],1),a("form",{on:{submit:function(t){t.preventDefault(),e.$emit("salvar")}}},[a("div",{staticClass:"q-px-lg q-py-md"},[a("campo",{staticClass:"row",attrs:{value:e.campos.nome,"somente-leitura":"",rotulo:"Razão social"}}),a("campo",{staticClass:"row",attrs:{value:e.campos.apelido,"somente-leitura":"",rotulo:"Fantasia"}}),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{value:e.campos.numeroDocumentoEstadual,"somente-leitura":"",rotulo:"IE"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{value:e.campos.dataAbertura,"somente-leitura":"",rotulo:"Data de abertura",tipo:"data"}})],1),a("campo",{staticClass:"row",attrs:{value:e.campos.regime,"somente-leitura":"",rotulo:"Regime"}}),a("div",{staticClass:"row q-mt-lg q-mb-sm q-ml-sm q-subheading"},[e._v("Endereço")]),e.campos.endereco?a("div",{staticClass:"row gutter-x-sm q-ml-xs"},[a("campo",{staticClass:"col-6 col-sm-4",attrs:{value:e.campos.endereco.cep,"somente-leitura":"",rotulo:"CEP"}}),a("campo",{staticClass:"col-2 col-sm-2",attrs:{value:e.campos.endereco.uf,"somente-leitura":"",rotulo:"UF"}}),a("campo",{staticClass:"col-10 col-sm-6",attrs:{value:e.campos.endereco.municipio,"somente-leitura":"",rotulo:"Cidade",ajuda:"Código IBGE: "+(e.campos.endereco.ibgeCod||"")}}),a("campo",{staticClass:"col-12 col-sm-7",attrs:{value:e.campos.endereco.logradouro,"somente-leitura":"",rotulo:"Endereço"}}),a("campo",{staticClass:"col-12 col-sm-2",attrs:{value:e.campos.endereco.numero,"somente-leitura":"",rotulo:"Número"}}),a("campo",{staticClass:"col-12 col-sm-3",attrs:{value:e.campos.endereco.complemento,"somente-leitura":"",rotulo:"Complemento"}}),a("campo",{staticClass:"col-12 col-sm-6",attrs:{value:e.campos.endereco.bairro,"somente-leitura":"",rotulo:"Bairro"}}),a("campo",{staticClass:"col-12 col-sm-6",attrs:{value:e.campos.endereco.pais,"somente-leitura":"",rotulo:"País"}})],1):e._e()],1),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",color:"primary",label:"Cancelar"}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Confirmar"}})],1)])],1)],1)],1)],1),a("q-modal",{attrs:{"content-css":{maxWidth:"800px"}},model:{value:e.modalCertificado.visivel,callback:function(t){e.$set(e.modalCertificado,"visivel",t)},expression:"modalCertificado.visivel"}},[e.modalCertificado.visivel?a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("Cadastro de contribuinte no Sefaz")])],1),a("form",{on:{submit:function(t){t.preventDefault(),e.$emit("consultar")}}},[a("div",{staticClass:"q-px-lg q-py-md"},[e._l(e.camposCertificado.erros,function(t,o){return a("div",{key:o,staticClass:"row q-py-xs text-negative"},[e._v("\n            "+e._s(t)+"\n          ")])}),a("campo",{staticClass:"row q-mt-md",attrs:{rotulo:"Certificado",tipo:"seletor",opcoes:e.modalCertificado.opcoesCertificados},model:{value:e.camposCertificado.certificado,callback:function(t){e.$set(e.camposCertificado,"certificado",t)},expression:"camposCertificado.certificado"}}),a("campo",{staticClass:"row",attrs:{rotulo:"UF do Sefaz para consulta",tipo:"seletor",opcoes:e.metadados.infNFe.emit.enderEmit.UF._enumeration},model:{value:e.camposCertificado.uf,callback:function(t){e.$set(e.camposCertificado,"uf",t)},expression:"camposCertificado.uf"}})],2),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Nova consulta"}})],1)])],1)],1)],1):e._e()],1)],1)},WF=[];YF._withStripped=!0;var ZF={components:{Campo:Sl},computed:{campos:function(){return this.modal.campos},camposCertificado:function(){return this.modalCertificado.campos},metadados:function(){return Et}},data:function(){return{}},methods:{},props:{modal:{required:!0,type:Object},modalCertificado:{required:!0,type:Object}},watch:{}},KF=ZF,ew=(a("61f3"),Object(sc["a"])(KF,YF,WF,!1,null,null,null));ew.options.__file="ConsultaCadastroContribuinte.vue";var tw=ew.exports,aw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{class:e.classes,style:e.estilos},[a("use",{attrs:{"xlink:href":e.iconeComposto}})])},ow=[];aw._withStripped=!0;var iw={computed:{classes:function(){return["Icone",!!this.cor&&"text-".concat(this.cor)]},estilos:function(){return{height:"".concat(this.tamanho,"px"),width:"".concat(this.tamanho,"px")}},iconeComposto:function(){return"statics/icones.svg#"+this.nome}},props:{cor:{type:[Boolean,String],default:!1},nome:{type:String,required:!0},tamanho:{type:[Number,String],default:24}}},rw=iw,sw=(a("e25e"),Object(sc["a"])(rw,aw,ow,!1,null,null,null));sw.options.__file="Icone.vue";var nw=sw.exports,cw={methods:{desejaDescartar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log("beforeRouteLeave","desejaDescartar()"),!this.verificarSePodeAlterar||this.verificarSePodeAlterar()){e.next=3;break}return e.abrupt("return",!0);case 3:if(t="function"===typeof this.verificarSeAlterouCampos?this.verificarSeAlterouCampos():this.verificarSeAlterouCampos,t){e.next=6;break}return e.abrupt("return",!0);case 6:return e.prev=6,e.next=9,this.$q.dialog({cancel:!0,message:"Deseja descartar suas modificações?",ok:"Descartar",title:"Atenção!"});case 9:return e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e["catch"](6),e.abrupt("return",!1);case 15:case"end":return e.stop()}},e,this,[[6,12]])}));return function(){return e.apply(this,arguments)}}()},beforeRouteLeave:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("beforeRouteLeave"),e.t0=o,e.next=4,this.desejaDescartar();case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}},e,this)}));return function(t,a,o){return e.apply(this,arguments)}}()},lw=a("2f21"),dw=a.n(lw),uw=a("96a1"),mw={components:{Avatar:Fc,Badge:Bd,Campo:Sl,ConsultaCadastroContribuinte:tw,ContatoCriar:uh,Icone:nw,Prompt:Zf,PromptContatoNovo:Yd},computed:at()({badgeCor:function(){return this.contato.ativo?this.contato.condutaRestricao?"negative":this.contato.condutaObservacao?"orange":"positive":"faded"},ehEmpresa:function(){var e=this.campos.numeroDocumentoNacional;return!!e&&e.length>14},idade:function(){var e=this.campos.dataAbertura;if(!e)return 0;e=new Date(e);var t=new Date(Date.now()-e.getTime());return Math.abs(t.getUTCFullYear()-1970)},segmentoProfissao:function(){var e=this.campos.numeroDocumentoNacional||"";return e.length>14?"Segmento":e.length>=11?"Profissão":"Segmento/Profissão"},temRedeSocial:function(){return this.campos.redeSocial&&!!this.campos.redeSocial.length}},Object(Jl["b"])({contato:"contato",contatoBase:"contatoBase"})),data:function(){return{campos:{id:null,ativo:!0,consulta:[],endereco:[],filhos:[],grupo:[],nomesGrupo:[],redeSocial:[],telefone:[]},consultaDescricao:"",contatosModal:!1,descricaoAssistente:"",descricaoFormaPagamento:"",descricaoItemTabelaPreco:"",descricaoTransportadora:"",descricaoVendedor:"",filhoCampo:"",modalAssistente:!1,modalCadastroContribuinte:{visivel:!1,campos:{}},modalCertificado:{visivel:!1,campos:{},opcoesCertificados:[{}]},modalCidade:!1,modalDependente:!1,modalFormaPagamento:!1,modalFoto:!1,modalGrupo:!1,modalItemTabelaPreco:!1,modalTransportadora:!1,modalVendedor:!1,segmento:{erro:"",modal:!1,nome:""},redeSocialCampo:"",redeSocialErro:!1,redeSocialErroDescricao:"",redeSocialModal:!1,contatoUsuario:{},somenteCarteira:!1,contatosAtivos:[],cidadesAtivas:[],opcoesSegmento:[],formasPagamento:[],filhos:{},itemTabelasPreco:[],contatoGruposUnicos:[],enderecoTipos:[{label:"Principal",value:"Principal",icon:"star",color:"orange"},{label:"Cobrança",value:"Cobrança",icon:"attach_money"},{label:"Comercial",value:"Comercial",icon:"business"},{label:"Correspondência",value:"Correspondência",icon:"mail"},{label:"Entrega",value:"Entrega",icon:"local_shipping"},{label:"Instalação",value:"Instalação",icon:"build"},{label:"Residencial",value:"Residencial",icon:"store_mall_directory"},{label:"Outros",value:"Outros",icon:"location_city"}],esquemaFormaPagamento:[{prioridade:.8,rotulo:"Descrição",tipo:"texto",valor:"descricao"},{prioridade:.6,rotulo:"Tipo financeiro",tipo:"texto",valor:"tipoFinanceiro"}],esquemaItemTabelaPreco:[{prioridade:.8,rotulo:"Descrição",tipo:"texto",valor:"descricao"}],esquemaCidade:[{prioridade:.8,rotulo:"Município",tipo:"texto",valor:"nomeMunic"},{prioridade:.6,rotulo:"Distrito",tipo:"texto",valor:"nomeDistr"},{prioridade:.6,rotulo:"UF",tipo:"texto",valor:"siglaUf"},{prioridade:.2,rotulo:"Estado",tipo:"texto",valor:"nomeUf"},{prioridade:.4,rotulo:"Código IBGE",tipo:"texto",valor:"cidadeCodIbge"}],esquemaGrupo:[{prioridade:.8,rotulo:"Descricao",tipo:"texto",valor:"descricao"}],ordensFormaPagamento:[{icone:"arrow_downward",padrao:!0,rotulo:"Alfabética",valor:"descricao"},{icone:"arrow_upward",ordem:"desc",rotulo:"Alfabética-invertida",valor:"descricao"},{icone:"date_range",rotulo:"Fipo financeiro",valor:"tipoFinanceiro"}],ordensItemTabelaPreco:[{icone:"arrow_downward",padrao:!0,rotulo:"Alfabética",valor:"descricao"},{icone:"arrow_upward",ordem:"desc",rotulo:"Alfabética-invertida",valor:"descricao"}],ordensCidade:[{icone:"arrow_downward",padrao:!0,rotulo:"Município",valor:"nomeMunic"},{icone:"arrow_upward",ordem:"desc",rotulo:"Município invertido",valor:"nomeMunic"},{icone:"arrow_downward",rotulo:"Estado",valor:"nomeUf"},{icone:"arrow_upward",ordem:"desc",rotulo:"Estado invertido",valor:"nomeUf"},{icone:"arrow_downward",rotulo:"Distrito",valor:"nomeDistr"},{icone:"arrow_upward",ordem:"desc",rotulo:"Distrito invertido",valor:"nomeDistr"}],ordensGrupo:[{icone:"arrow_downward",padrao:!0,rotulo:"Alfabética",valor:"descricao"},{icone:"arrow_upward",ordem:"desc",rotulo:"Alfabética-invertida",valor:"descricao"}],regimes:[{label:"Normal",value:"Normal"},{label:"Simples Nacional",value:"SimplesNacional"}],sexos:[{label:"Masculino",value:"Masculino"},{label:"Feminino",value:"Feminino"},{label:"Outro",value:"Outro"}],telefoneTipos:[{label:"Principal",value:"Principal"},{label:"Comercial",value:"Comercial"},{label:"Celular",value:"Celular"},{label:"Fixo",value:"Fixo"},{label:"WhatsApp",value:"WhatsApp"}],permissoes:{},dbUsuario:Zn.usuario}},methods:{indexarCidades:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.cidade=[],this.cidadeIdx=void 0,He()._cidade.toArray().then(function(){var e=Le()(regeneratorRuntime.mark(function e(a){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a.forEach(function(e){e.ativo&&t.cidade.push({id:e.id,municipio:e.nomeMunic||"",distrito:e.nomeDistr||"",ibgeCod:e.cidadeCodIbge||"",uf:e.siglaUf||"",ufCod:e.uf||"",cidadeCodChave:e.cod})}),o=t.cidade,e.next=4,dw()(function(){var e=this;this.ref("idx"),this.field("texto"),o.forEach(function(t,a){e.add({idx:a,texto:oo(t.municipio+" "+t.uf+(t.distrito!==t.municipio?" "+t.distrito:""))})})});case 4:t.cidadeIdx=e.sent;case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),buscarCidade:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n,c,l,d,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(this.cidadeIdx||a([]),o=t.split(" "),o.forEach(function(e,t){e&&(/[^*]/g.test(e)?o[t]="+"+e+"*":(t>0?o[t-1]=o[t-1]+"*":o.length>0&&(o[1]="*"+o[1]),o[t]=""))}),t=oo(o.filter(function(e){return e}).join(" ")),i=[],r=!0,s=!1,n=void 0,e.prev=8,c=this.cidadeIdx.search(t).slice(0,5)[Symbol.iterator]();!(r=(l=c.next()).done);r=!0)d=l.value,u=this.cidade[d.ref],i.push({nomeMunic:u.municipio,cidadeCodIbge:u.ibgeCod,siglaUf:u.uf,ufCod:u.ufCod,cidadeCodChave:u.cidadeCodChave,label:u.municipio+" - "+u.uf,sublabel:(u.distrito!==u.municipio?"<b>Distrito:</b> "+u.distrito+"<br>":"")+"<b>Código IBGE:</b> "+u.ibgeCod,value:u.id});e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](8),s=!0,n=e.t0;case 16:e.prev=16,e.prev=17,r||null==c.return||c.return();case 19:if(e.prev=19,!s){e.next=22;break}throw n;case 22:return e.finish(19);case 23:return e.finish(16);case 24:a(i);case 25:case"end":return e.stop()}},e,this,[[8,12,16,24],[17,,19,23]])}));return function(t,a){return e.apply(this,arguments)}}(),abrirModalAssistente:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.modalAssistente=!0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),abrirModalFormaPagamento:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.formaPagamento.le();case 2:this.formasPagamento=e.sent,this.modalFormaPagamento=!0;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),abrirModalItemTabelaPreco:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.itemTabelaPreco.le({tabelaMaster:!0});case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:this.itemTabelasPreco=e.t0,t=!0,a=!1,o=void 0,e.prev=9,i=this.itemTabelasPreco[Symbol.iterator]();case 11:if(t=(r=i.next()).done){e.next=19;break}return s=r.value,e.next=15,Zn.contato.le({id:s.idEmpresa});case 15:s.empresa=e.sent.nome;case 16:t=!0,e.next=11;break;case 19:e.next=25;break;case 21:e.prev=21,e.t1=e["catch"](9),a=!0,o=e.t1;case 25:e.prev=25,e.prev=26,t||null==i.return||i.return();case 28:if(e.prev=28,!a){e.next=31;break}throw o;case 31:return e.finish(28);case 32:return e.finish(25);case 33:this.modalItemTabelaPreco=!0;case 34:case"end":return e.stop()}},e,this,[[9,21,25,33],[26,,28,32]])}));return function(){return e.apply(this,arguments)}}(),abrirModalCidade:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.cidade.le({ativo:!0});case 2:this.cidadesAtivas=e.sent,this.indiceEndereco=t,this.modalCidade=!0;case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),abrirModalDependente:function(){this.modalDependente=!0},abrirModalFoto:function(){this.modalFoto=!0,this.imagemModalFoto="",this.$refs.fotoCampoMobile.reset(),this.$refs.fotoCampoDesktop.reset()},abrirModalGrupo:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("leContatoGruposUnicos");case 2:this.contatoGruposUnicos=e.sent,this.modalGrupo=!0;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),abrirModalSegmento:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.segmento={modal:!0,nome:"",erro:""};case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),atualizarSegmentos:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.contato.leUnicos("segmento");case 2:e.t0=function(e){return!!e},e.t1=function(e){return{rotulo:e,valor:e,sort:e.toLowerCase()}},t=e.sent.filter(e.t0).map(e.t1),this.opcoesSegmento=Object(ot["orderBy"])(t,"sort","asc");case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),abrirModalTransportadora:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.modalTransportadora=!0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),abrirModalVendedor:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.modalVendedor=!0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),abrirURL:uw["a"],abrirRedeSocialModal:function(){this.redeSocialModal=!0},abrirTelefone:function(e){if(e.telefone){var t="WhatsApp"===e.tipoTelefone?"https://api.whatsapp.com/send?phone=":"tel:+";this.abrirURL(t+this.formatarTelefone(e.telefone))}},adicionarConsulta:function(){try{if(!this.consultaDescricao)return void this.$q.notifyError("Informar a descrição da consulta de cadastro");var e=this.consultaDescricao+" (Cadastro realizado pelo usuário: ".concat(Zn.usuario.logado.nome," - CPF: ").concat(this.$filters.cpfCnpj(Zn.usuario.logado.numeroDocumentoNacional),")");this.campos.consulta.push({id:hi(),idContato:this.campos.id,dataConsulta:na(),descricao:e}),this.campos.consulta=Object(ot["orderBy"])(this.campos.consulta,"dataConsulta","desc"),this.consultaDescricao=""}catch(e){this.$q.notifyError("Ocorreu um erro ao adicionar",e)}},adicionarEndereco:function(){this.campos.endereco.push(at()({},this.contatoBase.endereco[0],{id:hi(),idContato:this.contato.id}))},adicionarFilho:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.filhoCampo="",a){e.next=8;break}return e.next=4,Zn.contato.le({id:t.data.id});case 4:this.filhos[t.data.id]=e.sent,this.campos.filhos.push({id:hi(),idContato:this.campos.id,idContatoRelacionado:t.data.id,socio:!1,cobranca:!1}),this.campos.filhos.push({id:hi(),idContato:t.data.id,idContatoRelacionado:this.campos.id,socio:!1,cobranca:!1}),this.campos.filhos=Object(ot["orderBy"])(this.campos.filhos,"apelido");case 8:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),adicionarRedeSocial:function(){this.redeSocialErro=!1,this.redeSocialErroDescricao="";var e=this.redeSocialCampo.toLowerCase();if(!e)return!1;if(this.campos.redeSocial.find(function(t){return t.link===e}))return this.redeSocialErro=!0,this.redeSocialErroDescricao="Rede social já cadastrada.",!1;try{this.campos.redeSocial.push(at()({},lt(e),{id:hi(),idContato:this.campos.id})),Object(ot["orderBy"])(this.campos.redeSocial,["tipo","link"]),this.redeSocialCampo=""}catch(e){this.redeSocialErro=!0,this.redeSocialErroDescricao="Insira uma URL válida."}},adicionarTelefone:function(){this.campos.telefone.push({id:hi(),idContato:this.contato.id})},aoCancelar:function(){var e=this;this.verificarSeAlterouCampos()?this.$q.dialog({cancel:"Continuar",message:"Ao continuar você irá perder todas as modificações.",ok:"Manter",title:"Tem certeza?"}).catch(function(){e.atualizar()}):this.$q.notifyPositive("Não há dados alterados.")},buscarFilhos:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n,c,l,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t=t.trim(),!t){e.next=29;break}return e.next=5,Zn.contatoBusca.filtrar(t,{ativo:!0});case 5:for(o=e.sent,i=[],r=!0,s=!1,n=void 0,e.prev=10,c=o[Symbol.iterator]();!(r=(l=c.next()).done);r=!0)d=l.value,i.push({data:d,label:d.apelido,stamp:"#0000000",sublabel:d.nome,value:d.nome});e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](10),s=!0,n=e.t0;case 18:e.prev=18,e.prev=19,r||null==c.return||c.return();case 21:if(e.prev=21,!s){e.next=24;break}throw n;case 24:return e.finish(21);case 25:return e.finish(18);case 26:a(i),e.next=30;break;case 29:a([]);case 30:e.next=36;break;case 32:e.prev=32,e.t1=e["catch"](0),a([]),this.$q.notify("Ocorreu um erro ao obter os contatos.");case 36:case"end":return e.stop()}},e,this,[[0,32],[10,14,18,26],[19,,21,25]])}));return function(t,a){return e.apply(this,arguments)}}(),confirmarFoto:function(){this.modalFoto=!1,this.campos.imagem=this.imagemModalFoto},consultarCadastroSefaz:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=this.$utils.filtrarDigitos(this.campos.numeroDocumentoNacional||""),14===a.length){e.next=3;break}return e.abrupt("return");case 3:if(!this.consultandoCadastroSefaz){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,this.consultandoCadastroSefaz=!0,this.$q.loading.show({message:"Consultando cadastro no Sefaz"}),o="",i=[],e.next=12,He().empresa.toArray();case 12:return r=e.sent,s=r.filter(function(e){return e.idContato}).map(function(e){return e.idContato}),e.next=16,He().contato.where("id").anyOf(s).toArray();case 16:return n=e.sent,e.next=19,He().contatoEndereco.where("idContato").anyOf(s).toArray();case 19:for(c=e.sent,l=!0,d=!1,u=void 0,e.prev=23,m=function(){var e=v.value,t=c.filter(function(t){return t.idContato===e.id}),a=t.find(function(e){return"Principal"===e.grupo});a||(a=t[0]);var r=b.$utils.filtrarDigitos(e.numeroDocumentoNacional),s=String(b.$utils.mapearEstadoCodigo[a.uf]);if(14===r.length&&2===s.length&&2===a.uf.length){var n=r+" "+s+" "+a.uf+";";o+=n,i.push({valor:n,rotulo:e.apelido,sublabel:e.numeroDocumentoNacional})}},p=n[Symbol.iterator]();!(l=(v=p.next()).done);l=!0)m();e.next=32;break;case 28:e.prev=28,e.t0=e["catch"](23),d=!0,u=e.t0;case 32:e.prev=32,e.prev=33,l||null==p.return||p.return();case 35:if(e.prev=35,!d){e.next=38;break}throw u;case 38:return e.finish(35);case 39:return e.finish(32);case 40:return h="07660198000189 35 SP;",i.push({valor:h,rotulo:""}),o+=h,f=It.consultarCadastroContribuinte(a,""),this.$utils.gconsole.log("consultarCadastroSefaz","\nxml envio\n",f),e.next=47,Vt.consultarCadastroContribuinte(o,f);case 47:if(C=e.sent,!t||"Erro"!==C.status){e.next=52;break}return this.$utils.gconsole.log("consultarCadastroSefaz",C.mensagem),this.modalCertificado={visivel:!0,campos:{certificado:h,uf:(i[0].valor||"").substr(18,2),erros:C.mensagem.split("\n")},opcoesCertificados:i},e.abrupt("return");case 52:return this.$utils.verificarErro("Erro"===C.status,C.mensagem),e.next=55,this.consultarCadastroSefazConfirmar(C.xml);case 55:e.next=60;break;case 57:e.prev=57,e.t1=e["catch"](5),this.$q.notifyError("Erro ao consultar cadastro",e.t1);case 60:return e.prev=60,this.$q.loading.hide(),this.consultandoCadastroSefaz=!1,e.finish(60);case 64:case"end":return e.stop()}},e,this,[[5,57,60,64],[23,28,32,40],[33,,35,39]])}));return function(t){return e.apply(this,arguments)}}(),consultarCadastroSefazCertificado:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.$q.loading.show(),this.modalCertificado.campos.erros=[],t=this.$utils.filtrarDigitos(this.campos.numeroDocumentoNacional||""),a=this.modalCertificado.campos.certificado,14===t.length&&a){e.next=7;break}return e.abrupt("return");case 7:return o=this.modalCertificado.campos.uf||"",i=It.consultarCadastroContribuinte(t,o),this.$utils.gconsole.log("consultarCadastroSefaz","\nxml envio\n",i),e.next=12,Vt.consultarCadastroContribuinte(a,i);case 12:if(r=e.sent,"Erro"!==r.status){e.next=17;break}return this.$utils.gconsole.log("consultarCadastroSefaz",r.mensagem),this.modalCertificado.campos.erros=r.mensagem.split("\n"),e.abrupt("return");case 17:return this.modalCertificado.visivel=!1,e.next=20,this.consultarCadastroSefazConfirmar(r.xml);case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](0),this.$q.notifyError("Erro ao consultar cadastro",e.t0);case 25:return e.prev=25,this.$q.loading.hide(),e.finish(25);case 28:case"end":return e.stop()}},e,this,[[0,22,25,28]])}));return function(){return e.apply(this,arguments)}}(),consultarCadastroSefazConfirmar:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=(new DOMParser).parseFromString(t,"application/xml"),this.$utils.gconsole.log("consultarCadastroSefaz","\nxml resposta\n",a),o=a.getElementsByTagName("infCons")[0],i=o.getElementsByTagName("infCad")[0],r=i.getElementsByTagName("ender")[0],s=function(e,t){return(e.getElementsByTagName(t)[0]||{}).innerHTML||""},n={apelido:s(i,"xFant")||s(i,"xNome"),nome:s(i,"xNome"),numeroDocumentoEstadual:s(i,"IE"),regime:s(i,"xRegApur"),dataAbertura:s(i,"dIniAtiv"),endereco:{bairro:s(r,"xBairro"),cep:s(r,"CEP").padStart(8,"0").replace(/(\d{5})(\d{3})/g,"$1-$2"),complemento:s(r,"xCpl"),ibgeCod:s(r,"cMun"),logradouro:s(r,"xLgr"),municipio:s(r,"xMun"),numero:s(r,"nro"),uf:s(i,"UF"),pais:"Brasil"}},this.modalCadastroContribuinte={visivel:!0,campos:n},this.$utils.gconsole.log("consultarCadastroSefaz",n);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),consultarCadastroSefazSalvar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this.modalCadastroContribuinte.campos,this.campos.apelido=t.apelido||t.nome,this.campos.nome=t.nome,this.campos.numeroDocumentoEstadual=t.numeroDocumentoEstadual,this.campos.dataAbertura=t.dataAbertura,this.campos.regime=t.regime.includes("SIMPLES NACIONAL")?"SimplesNacional":"Normal",a=t.endereco||{},o=this.campos.endereco.find(function(e){return e.bairro===a.bairro&&e.cep===a.cep&&e.complemento===a.complemento&&e.ibgeCod===a.ibgeCod&&e.logradouro===a.logradouro&&e.municipio===a.municipio&&e.numero===a.numero&&e.uf===a.uf}),i=this.campos.endereco.find(function(e){return"Principal"===e.grupo}),o||this.campos.endereco.push(at()({},t.endereco,{grupo:i?void 0:"Principal",id:hi(),idContato:this.contato.id})),this.modalCadastroContribuinte.visivel=!1;case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),consultarCep:function(e){var t=this.campos.endereco[e];if(t.cep){var a=t.cep.replace(/[^0-9]/g,"");a.length<8||Xt(a).then(function(){var e=Le()(regeneratorRuntime.mark(function e(a){var o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o=a.data,t.bairro=o.bairro,t.complemento=o.complemento,t.ibgeCod=o.ibge,t.logradouro=o.logradouro,t.municipio=o.localidade,t.pais="Brasil",t.uf=o.uf,t.ufCod=La[o.uf],!o.ibge){e.next=14;break}return e.next=12,Zn.cidade.le({cidadeCodIbge:o.ibge.toString(),ativo:!0});case 12:i=e.sent,t.cidadeCodChave=(i.find(function(e){return e.cod})||{}).cod;case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},consultarLogradouro:function(e,t,a){var o=this.campos.endereco[e],i=o.logradouro,r=o.municipio,s=o.uf;!s||2!==s.length||!r||r.length<=3||!t||t.length<=3||Jt(s,r,i).then(function(e){var t=e.data;t=t.map(function(e){return{data:e,label:"\n            ".concat(e.logradouro,'\n            <small class="q-ml-sm text-faded">').concat(e.complemento,"</small>\n          "),stamp:e.cep,sublabel:"".concat(e.bairro,", ").concat(e.localidade," - ").concat(e.uf),value:e.logradouro}}),a(t)})},criarDependente:function(e){this.adicionarFilho({data:e},!1)},criarSegmento:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.segmento.nome){e.next=4;break}return this.segmento.erro="Favor preencher",e.abrupt("return");case 4:if(!(this.segmento.nome.length>50)){e.next=7;break}return this.segmento.erro="Máximo 50 caracteres",e.abrupt("return");case 7:this.opcoesSegmento=Object(ot["orderBy"])(la()(this.opcoesSegmento).concat([{rotulo:this.segmento.nome,valor:this.segmento.nome,sort:this.segmento.nome.toLowerCase()}]),"sort","asc"),this.campos.segmento=this.segmento.nome,this.segmento.modal=!1,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),this.$q.notifyError("Ocorreu um erro ao criar",e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}(),enderecoIcone:function(e){var t=this.enderecoTipos.find(function(t){return t.label===e})||{};return{color:t.color||"dark",name:t.icon||"store_mall_directory",size:"Principal"===e?"18px":"24px"}},fecharRedeSocialModal:function(){this.redeSocialModal=!1},formatarTelefone:function(e){return e||"string"===typeof e?"55"+e.replace(/\D/g,"").replace(/^55/,""):e},atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.somenteCarteira=!1,this.contatoUsuario={},e.t1=!Zn.usuario.logado.administrador,!e.t1){e.next=8;break}return e.next=7,Zn.permissao.objetoClienteSistema("Diretiva_Contatos_AcessaTodosContatos");case 7:e.t1=e.sent;case 8:if(e.t0=e.t1,!e.t0){e.next=13;break}return e.next=12,Zn.permissao.objeto("Diretiva_Contatos_AcessaTodosContatos");case 12:e.t0=!e.sent;case 13:if(!e.t0){e.next=21;break}if(t=Zn.usuario.logado.codigoContato,!t){e.next=20;break}return e.next=18,He().contato.where({codigoContato:t}).toArray();case 18:e.t2=function(e){return e.id},this.contatoUsuario=e.sent.find(e.t2);case 20:this.somenteCarteira=!0;case 21:return e.next=23,Zn.contato.leCompleto(this.contato.id);case 23:if(e.t3=e.sent,e.t3){e.next=26;break}e.t3={};case 26:return a=e.t3,a.nomesGrupo||(a.nomesGrupo=[]),e.next=30,He().contato.get(a.idContatoAssistente||"");case 30:if(e.t5=e.sent,e.t5){e.next=33;break}e.t5={};case 33:if(e.t4=e.t5.apelido,e.t4){e.next=36;break}e.t4="";case 36:return this.descricaoAssistente=e.t4,e.next=39,He().contato.get(a.idContatoTransportadora||"");case 39:if(e.t7=e.sent,e.t7){e.next=42;break}e.t7={};case 42:if(e.t6=e.t7.apelido,e.t6){e.next=45;break}e.t6="";case 45:return this.descricaoTransportadora=e.t6,e.next=48,He().contato.get(a.idContatoVendedor||"");case 48:if(e.t9=e.sent,e.t9){e.next=51;break}e.t9={};case 51:if(e.t8=e.t9.apelido,e.t8){e.next=54;break}e.t8="";case 54:return this.descricaoVendedor=e.t8,e.next=57,He().formaPagamento.get(a.idFormaPagamento||"");case 57:if(e.t11=e.sent,e.t11){e.next=60;break}e.t11={};case 60:if(e.t10=e.t11.descricao,e.t10){e.next=63;break}e.t10="";case 63:return this.descricaoFormaPagamento=e.t10,e.next=66,He().itemTabelaPreco.get(a.idItemTabelaPreco||"");case 66:if(e.t13=e.sent,e.t13){e.next=69;break}e.t13={};case 69:if(e.t12=e.t13.descricao,e.t12){e.next=72;break}e.t12="";case 72:this.descricaoItemTabelaPreco=e.t12,o=!0,i=!1,r=void 0,e.prev=76,s=a.filhos[Symbol.iterator]();case 78:if(o=(n=s.next()).done){e.next=86;break}return c=n.value,e.next=82,Zn.contato.le({id:c.idContatoRelacionado});case 82:this.filhos[c.idContatoRelacionado]=e.sent;case 83:o=!0,e.next=78;break;case 86:e.next=92;break;case 88:e.prev=88,e.t14=e["catch"](76),i=!0,r=e.t14;case 92:e.prev=92,e.prev=93,o||null==s.return||s.return();case 95:if(e.prev=95,!i){e.next=98;break}throw r;case 98:return e.finish(95);case 99:return e.finish(92);case 100:this.campos=a||{},this.atualizarSegmentos(),this.$v&&this.$v.campos.$reset(),e.next=108;break;case 105:e.prev=105,e.t15=e["catch"](0),this.$q.notifyError("Ocorreu um erro ao obter contato.",e.t15);case 108:case"end":return e.stop()}},e,this,[[0,105],[76,88,92,100],[93,,95,99]])}));return function(){return e.apply(this,arguments)}}(),removerConfirma:function(){return this.$q.dialog({cancel:!0,color:"negative",message:"Ao continuar você irá remover este item.",ok:"Remover",title:"Tem certeza?"})},removerContato:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=!1,e.prev=1,e.next=4,this.removerConfirma();case 4:t=!0,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),t=!1;case 10:if(this.$q.loading.show(),e.prev=11,!t){e.next=19;break}return this.campos.ativo=!1,e.next=16,this.$store.dispatch("salvarContato",this.campos);case 16:return e.next=18,this.atualizar();case 18:this.$q.notifyPositive("O contato foi excluído com sucesso.");case 19:e.next=24;break;case 21:e.prev=21,e.t1=e["catch"](11),this.$q.notifyError("Ocorreu um erro ao remover",e.t1);case 24:return e.prev=24,this.$q.loading.hide(),e.finish(24);case 27:case"end":return e.stop()}},e,this,[[1,7],[11,21,24,27]])}));return function(){return e.apply(this,arguments)}}(),removerEndereco:function(e){var t=this;this.removerConfirma().then(function(){e>=0&&t.campos.endereco.splice(e,1),t.campos.endereco.length||t.adicionarEndereco()})},removerFilho:function(e){var t=this;this.removerConfirma().then(function(){var a=t.campos.filhos.filter(function(t){return!(t.idContato===e.idContato&&t.idContatoRelacionado===e.idContatoRelacionado||t.idContato===e.idContatoRelacionado&&t.idContatoRelacionado===e.idContato)});t.campos.filhos=a})},removerFoto:function(){delete this.campo.imagem},removerRedeSocial:function(e){var t=this;this.removerConfirma().then(function(){e>=0&&(t.redeSocialCampo=t.campos.redeSocial[e].link,t.campos.redeSocial.splice(e,1))})},removerTelefone:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.removerConfirma();case 2:t>=0&&this.campos.telefone.splice(t,1),this.campos.telefone.length||this.adicionarTelefone();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),restaurarContato:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$q.loading.show(),e.prev=1,this.campos.ativo=!0,e.next=5,this.$store.dispatch("salvarContato",this.campos);case 5:return e.next=7,this.atualizar();case 7:this.$q.notifyPositive("O contato foi restaurado com sucesso."),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),this.$q.notify("Ocorreu um erro ao restaurar.");case 13:return e.prev=13,this.$q.loading.hide(),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[1,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),salvarContato:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.verificarSeAlterouCampos()){e.next=2;break}return e.abrupt("return",this.$q.notifyPositive("Não há dados alterados."));case 2:return e.next=4,Co(this.$v.campos,this);case 4:if(e.sent){e.next=6;break}return e.abrupt("return",this.$q.notify("Há erros de validação no formulário."));case 6:return e.prev=6,this.$q.loading.show(),e.next=10,this.$store.dispatch("salvarContato",this.campos);case 10:return e.next=12,this.$store.dispatch("carregarContato",this.campos.id);case 12:return e.next=14,Zn.contato.le({id:this.campos.id});case 14:Zn.contato.selecionado=e.sent,this.$q.notifyPositive("Os dados do contato foram salvos com sucesso."),e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](6),this.$q.notifyError("Ocorreu um erro ao salvar.",e.t0);case 21:return e.prev=21,this.$q.loading.hide(),e.finish(21);case 24:case"end":return e.stop()}},e,this,[[6,18,21,24]])}));return function(){return e.apply(this,arguments)}}(),conferirCidade:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=this.campos.endereco[t],o={},a.cidadeCodChave?o=this.cidade.find(function(e){return e.cidadeCodChave===a.cidadeCodChave})||{}:a.municipio="",a.municipio!==o.municipio&&(a.municipio=o.municipio||"");case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),selecionarCidade:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:o=this.campos.endereco[a],o.municipio=t.nomeMunic||"",o.ibgeCod=t.cidadeCodIbge||"",o.uf=t.siglaUf||"",o.ufCod=t.ufCod||"",o.cidadeCodChave=t.cidadeCodChave||"",o.pais="Brasil";case 7:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),selecionarFormaPagamento:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.campos.idFormaPagamento=t,e.next=3,Zn.formaPagamento.le({id:t});case 3:return a=e.sent,console.log(a),e.next=7,Zn.formaPagamento.le({id:t});case 7:if(e.t0=e.sent.descricao,e.t0){e.next=10;break}e.t0="";case 10:this.descricaoFormaPagamento=e.t0,this.modalFormaPagamento=!1;case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),selecionarItemTabelaPreco:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.campos.idItemTabelaPreco=t.id,this.descricaoItemTabelaPreco=t.descricao||"",this.modalItemTabelaPreco=!1;case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),selecionarTransportadora:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.campos.idContatoTransportadora=t,this.descricaoTransportadora=a.apelido||"",this.modalTransportadora=!1;case 3:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),selecionarAssistente:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.campos.idContatoAssistente=t,e.next=3,Zn.contato.le({id:t});case 3:if(e.t0=e.sent.apelido,e.t0){e.next=6;break}e.t0="";case 6:this.descricaoAssistente=e.t0,this.modalAssistente=!1;case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),selecionarGrupo:function(e){this.campos.nomesGrupo.includes(e)||(this.campos.nomesGrupo.push(e),this.campos.nomesGrupo=this.campos.nomesGrupo.sort()),this.modalGrupo=!1},selecionarVendedor:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.campos.idContatoVendedor=t,e.next=3,Zn.contato.le({id:t});case 3:if(e.t0=e.sent.apelido,e.t0){e.next=6;break}e.t0="";case 6:this.descricaoVendedor=e.t0,this.modalVendedor=!1;case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),selecionarLogradouro:function(e,t){var a=this.campos.endereco[e];a.bairro=t.data.bairro,a.cep=t.data.cep,a.complemento=t.data.complemento,a.ibgeCod=t.data.ibge,a.municipio=t.data.localidade,a.pais="Brasil"},telefoneIcone:function(e){return{Celular:{color:"dark",name:"phone_iphone",size:"18px"},Comercial:{color:"dark",name:"phone",size:"18px"},Fixo:{color:"dark",name:"phone",size:"18px"},Principal:{color:"orange",name:"star",size:"18px"},WhatsApp:{cor:"whatsapp",nome:"whatsapp",tamanho:18}}[e]||{color:"dark",name:"phone",size:"18px"}},trocarFoto:function(e){var t=this;this.$resizeImage(e[0],{crop:!0,outputFormat:"jpg",targetHeight:200,targetWidth:200},function(e,a){t.imagemModalFoto=a})},validarEndereco:function(e){var t=at()({},e);return delete t.id,delete t.idContato,Object.values(t).reduce(function(e,t){return e||!!t},!1)},verificarSeAlterouCampos:function(){var e=ea(this.campos.dadosOriginais),t={contato:ea(this.campos)};if(e&&t){t.consulta=t.contato.consulta,t.endereco=t.contato.endereco,t.filhos=t.contato.filhos,t.grupo=t.contato.grupo,t.nomesGrupo=t.contato.nomesGrupo,t.redeSocial=t.contato.redeSocial,t.telefone=t.contato.telefone,delete t.contato.dadosOriginais,delete t.contato.consulta,delete t.contato.endereco,delete t.contato.filhos,delete t.contato.filhosContato,delete t.contato.grupo,delete t.contato.nomesGrupo,delete t.contato.redeSocial,delete t.contato.telefone,e.contato.numeroDocumentoNacional!==t.contato.numeroDocumentoNacional&&(e.contato.numeroDocumentoNacional||"").replace(/[.-]/g,"")===(t.contato.numeroDocumentoNacional||"").replace(/[.-]/g,"")&&(e.contato.numeroDocumentoNacional=t.contato.numeroDocumentoNacional),delete t.contato.numeroDocumentoNacionalErro;var a=va(e,t);return ei.log("ContatoFicha","verificarSeAlterouCampos",null!==a,a),null!==a}}},mixins:[cw],validations:{campos:{email:{email:rl["email"]},endereco:{$each:{bairro:{minLength:Object(rl["minLength"])(2)},cep:{minLength:Object(rl["minLength"])(9)},complemento:{},grupo:{},ibgeCod:{},logradouro:{minLength:Object(rl["minLength"])(2)},municipio:{minLength:Object(rl["minLength"])(2),required:Object(rl["requiredIf"])(function(e){return this.validarEndereco(e)})},numero:{},pais:{minLength:Object(rl["minLength"])(3),required:Object(rl["requiredIf"])(function(e){return this.validarEndereco(e)})},uf:{minLength:Object(rl["minLength"])(2),required:Object(rl["requiredIf"])(function(e){return this.validarEndereco(e)})}}},nome:{minLength:Object(rl["minLength"])(2),required:rl["required"]},numeroDocumentoNacional:{cnpjOuCpfUnico:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o=(a||{}).id||"",e.next=3,pi(t,o);case 3:return i=e.sent,r=i.valido,s=i.mensagem,a.numeroDocumentoNacionalErro=s,e.abrupt("return",r);case 8:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()}}},watch:{"campos.nome":function(e,t){this.campos.apelido===t&&(this.campos.apelido=e)},"$route.params.id":function(){this.campos=at()({},this.contatoBase)},contato:function(){this.atualizar()}},beforeMount:function(){var e=this;this.permissoes={editarLimiteCredito:!1,editarCondutaRestricao:!1},Zn.permissao.objeto("Diretiva_Contatos_EditaLimiteCredito").then(function(t){e.permissoes.editarLimiteCredito=t}),Zn.permissao.objeto("Diretiva_Contatos_EditaCondutaRestricao").then(function(t){e.permissoes.editarCondutaRestricao=t})},created:function(){this.atualizar(),this.indexarCidades()}},pw=mw,vw=Object(sc["a"])(pw,JF,XF,!1,null,null,null);vw.options.__file="ContatoFicha.vue";var hw=vw.exports,fw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Pdv"},[a("barra-topo"),a("q-page-container",[a("q-page",{staticClass:"u-container"},[a("q-toolbar",{staticClass:"q-py-sm",attrs:{color:"none"}},[a("q-toolbar-title",[e._v("\n          PDV - Caixa {Nome do atendente?}\n        ")]),a("q-btn",{attrs:{flat:"",dense:"",icon:"search",round:"",size:"lg"}},[a("q-tooltip",[e._v("Buscar Cliente")])],1)],1),a("q-tabs",{attrs:{align:"justify",color:"none"}},[a("q-tab",{attrs:{slot:"title",default:"",name:"tab-1",icon:"message",label:"Carrinho"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-2",icon:"fingerprint",label:"Catalogos"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-3",icon:"account_box",label:"Promoção"},slot:"title"}),a("q-tab-pane",{attrs:{name:"tab-1"}},[a("q-list",[a("q-collapsible",{attrs:{label:"Vendas finalizadas"}},[a("div",[e._v("\n                Content\n              ")])]),a("q-collapsible",{attrs:{label:"Carrinho abandonado"}},[a("div",[e._v("\n                Content\n              ")])])],1),a("q-btn",{staticClass:"fixed",staticStyle:{right:"18px",bottom:"18px"},attrs:{round:"",color:"primary",icon:"add",size:"lg"},on:{click:e.abrirPDV}})],1),a("q-tab-pane",{attrs:{name:"tab-2"}},[e._v("Tab Two")]),a("q-tab-pane",{attrs:{name:"tab-3"}},[e._v("Tab Three")])],1)],1)],1),a("q-modal",{attrs:{maximized:""},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header",color:"white"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",color:"primary",icon:"arrow_back",round:""}}),a("q-toolbar-title",[a("img",{attrs:{src:"https://www.b15.com.br/wp-content/themes/b15/assets/images/logo.svg",height:"35",alt:""}})]),a("div",{staticClass:"q-subheading text-primary"},[e._v("21/02/2020 - 11:54")]),a("q-btn",{attrs:{flat:"",color:"primary",dense:"",icon:"more_vert",round:"",size:"lg"}},[a("q-popover",[a("q-list",{attrs:{link:"","no-border":"",separator:""}},[a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"search"}}),a("q-item-main",{attrs:{label:"Buscar excluídos"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"import_export"}}),a("q-item-main",{attrs:{label:"Importar contatos"}})],1)],1)],1)],1)],1),a("div",{staticClass:"layout-padding q-pa-none "},[a("div",{staticClass:"fullflexgrid desktop"},[a("div",{staticClass:"col-3 promocao "},[a("pdv-promocoes")],1),a("div",{staticClass:"col-5 catalogo "},[a("pdv-catalogo")],1),a("div",{staticClass:"col-4 carrinho "},[a("pdv-carrinho")],1)]),a("q-tabs",{staticClass:"mobile ",attrs:{align:"justify"}},[a("q-tab",{attrs:{slot:"title",default:"",name:"tab-1",icon:"message",label:"Carrinho"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-2",icon:"fingerprint",label:"Catalogos"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-3",icon:"account_box",label:"Promoção"},slot:"title"}),a("q-tab-pane",{staticClass:"h100 q-pa-none",attrs:{name:"tab-1"}},[a("pdv-carrinho")],1),a("q-tab-pane",{staticClass:"h100 q-pa-none",attrs:{name:"tab-2"}},[a("pdv-catalogo")],1),a("q-tab-pane",{staticClass:" q-pa-none promocao",attrs:{name:"tab-3"}},[a("pdv-promocoes")],1)],1)],1)],1)],1)],1)},Cw=[];fw._withStripped=!0;var bw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pdvcarrinho q-pa-none"},[a("q-card",{staticClass:"q-mx-md q-my-xs bg-light-blue no-shadow"},[a("q-search",{staticClass:"q-ma-md q-py-xs bg-transparent no-shadow",attrs:{"hide-underline":"",debounce:600,icon:"search",placeholder:"Adicionar Produtos",inverted:""},model:{value:e.searchModel,callback:function(t){e.searchModel=t},expression:"searchModel"}})],1),a("div",{staticClass:"row q-px-md q-mb-sm"},[a("div",{staticClass:"col q-title text-white q-if-standard"},[e._v("Venda #1")]),a("div",{staticClass:"col-auto"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col q-title text-white q-if-standard"},[e._v("Consumidor #1")]),a("q-btn",{attrs:{color:"white",dense:"",flat:"",icon:"edit",round:""}},[a("q-tooltip",[e._v("Editar Consumidor")])],1)],1)])]),a("div",{staticClass:"items "},e._l(e.shoppingItems,function(t){return a("q-card",{key:t.id,staticClass:"q-mx-md q-my-xs",staticStyle:{background:"rgba(255,255,255,1)"}},[a("div",{staticClass:"row  q-px-sm q-pb-sm "},[a("div",{staticClass:"col-auto q-pt-sm"},[a("avatar",{attrs:{imagem:"https://thumbs.dreamstime.com/b/cartoon-growling-zombie-face-vector-zombie-monster-square-avatar-cartoon-growling-zombie-face-vector-zombie-monster-square-avatar-101865083.jpg",tamanho:"40"}})],1),a("q-toolbar",{staticClass:"bg-transparent col q-pr-none q-py-none",attrs:{color:"black",inverted:""}},[a("q-toolbar-title",{staticClass:"q-pa-none"},[a("span",{staticClass:"q-body-2"},[e._v(e._s(t.name))]),a("br"),a("span",{staticClass:"q-body-1"},[e._v("1un / "+e._s(t.price)+" ")])]),a("q-field",{staticClass:"col-3 q-px-sm",staticStyle:{"margin-top":"-18px"}},[a("campo",{attrs:{min:"1",tipo:"quantidade","hide-underline":""},model:{value:t.quantidade,callback:function(a){e.$set(t,"quantidade",a)},expression:"item.quantidade"}}),a("q-tooltip",[e._v("Quantidade")])],1),a("span",{staticClass:"q-body-2 q-px-sm"},[e._v("R$"+e._s(t.quantidade*t.price)+" "),a("q-tooltip",[e._v("Subtotal")])],1),a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"edit",round:""}},[a("q-tooltip",[e._v("Editar Item")])],1),a("q-btn",{attrs:{color:"negative",dense:"",flat:"",icon:"delete",round:""}},[a("q-tooltip",[e._v("Remover Item")])],1)],1)],1)])})),e._m(0),a("q-toolbar",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("q-toolbar-title",{staticClass:"text-right"},[a("q-btn",{attrs:{flat:"",color:"white",dense:"",icon:"more_vert",round:"",size:"lg"}},[a("q-popover",[a("q-list",{attrs:{link:"","no-border":"",separator:""}},[a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"search"}}),a("q-item-main",{attrs:{label:"Buscar excluídos"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"import_export"}}),a("q-item-main",{attrs:{label:"Importar contatos"}})],1)],1)],1)],1),a("q-btn",{staticClass:"q-mx-md",attrs:{color:"negative","text-color":"white",label:"Cancelar"}}),a("q-btn",{attrs:{color:"white","text-color":"primary",label:"Finalizar"},on:{click:e.abrirPagto}})],1)],1),a("q-modal",{attrs:{"content-css":{width:"460px",minHeight:"460px"}},model:{value:e.pagamento,callback:function(t){e.pagamento=t},expression:"pagamento"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header",color:"primary"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",color:"white",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("Escolha a forma de pagamento")])],1),a("div",{staticClass:"layout-padding q-pa-md "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"q-title q-my-sm text-center"},[e._v("\n            Valor\n            "),a("q-input",{staticClass:"q-headline text-weight-bold text-center",attrs:{align:"center",value:"100"}})],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-4 q-px-sm"},[a("q-btn",{staticClass:"block full-width buttoens innermt10 q-ma-sm text-center",attrs:{color:"primary",size:"lg",outline:""}},[a("q-icon",{staticClass:"full-width",attrs:{name:"monetization_on"}}),a("p",{staticClass:"q-mb-none full-width q-texto"},[e._v("Dinheiro")])],1)],1),a("div",{staticClass:"col-4 q-px-sm"},[a("q-btn",{staticClass:"block full-width buttoens q-ma-sm text-center",attrs:{color:"primary",size:"lg",outline:""},on:{click:e.abrirParcelas}},[a("q-icon",{staticClass:"full-width",attrs:{name:"monetization_on"}}),a("p",{staticClass:"q-mb-none full-width q-texto"},[e._v("Cartão de Crédito")])],1)],1),a("div",{staticClass:"col-4 q-px-sm"},[a("q-btn",{staticClass:"block full-width buttoens innermt10 q-ma-sm text-center",attrs:{color:"primary",size:"lg",outline:""}},[a("q-icon",{staticClass:"full-width",attrs:{name:"monetization_on"}}),a("p",{staticClass:"q-mb-none full-width q-texto"},[e._v("TEF")])],1)],1)])])],1)],1),a("q-modal",{attrs:{"content-css":{width:"460px",minHeight:"460px"}},model:{value:e.parcelas,callback:function(t){e.parcelas=t},expression:"parcelas"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header",color:"primary"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",color:"white",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("Escolha a forma de pagamento")])],1),a("div",{staticClass:"layout-padding q-pa-md "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"q-title q-my-sm text-center"},[e._v("\n            Parcelas:\n\n          ")])]),a("div",{staticClass:"col-12"},[a("div",[a("q-field",{staticClass:"col-3 q-px-sm q-mb-sm"},[a("campo",{attrs:{min:"1",value:"1",tipo:"quantidade","hide-underline":""}}),a("q-tooltip",[e._v("Quantidade")])],1),a("q-btn",{staticClass:"block full-width q-my-sm",attrs:{color:"primary",outline:"",size:"md",label:"Receber op1"}}),a("q-btn",{staticClass:"block full-width q-my-sm",attrs:{color:"primary",outline:"",size:"md",label:"Receber op2"}}),a("q-btn",{staticClass:"block full-width q-my-sm",attrs:{color:"primary",outline:"",size:"md",label:"Receber op3"}})],1)])])])],1)],1)],1)},gw=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"q-display-2 q-px-sm text-right text-white"},[e._v("Total "),a("span",{staticClass:"text-bold"},[e._v("R$500,00")])])])}];bw._withStripped=!0;var xw={components:{Avatar:Fc,Campo:Sl},data:function(){return{parcelas:!1,pagamento:!1,opcoes:[{label:"Masculino",value:"Masculino"},{label:"Feminino",value:"Feminino"},{label:"Outro",value:"Outro"}],shoppingItems:[{id:1,name:"apple",price:"7000,00",quantidade:1},{id:2,name:"orange",price:"12,00",quantidade:1},{id:1,name:"apple",price:"7,00",quantidade:1},{id:2,name:"orange",price:"12,00",quantidade:1},{id:1,name:"apple",price:"7,00",quantidade:1},{id:1,name:"apple",price:"7,00",quantidade:1},{id:2,name:"orange",price:"12,00",quantidade:1},{id:1,name:"apple",price:"7,00",quantidade:1},{id:2,name:"orange",price:"12,00",quantidade:1},{id:1,name:"apple",price:"7,00",quantidade:1},{id:1,name:"apple",price:"7,00",quantidade:1},{id:2,name:"orange",price:"12,00",quantidade:1},{id:1,name:"apple",price:"7,00",quantidade:1},{id:2,name:"orange",price:"12,00",quantidade:1},{id:1,name:"apple",price:"7,00",quantidade:1},{id:2,name:"orange",price:"12,00",quantidade:1}]}},methods:{abrirPagto:function(){this.pagamento=!0},abrirParcelas:function(){this.parcelas=!0}}},_w=xw,qw=(a("85fa"),Object(sc["a"])(_w,bw,gw,!1,null,"1bf1247d",null));qw.options.__file="PdvCarrinho.vue";var Sw=qw.exports,Iw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pdvcatalogo q-pa-md"},[a("q-tabs",{attrs:{align:"justify",color:"none"}},[a("q-tab",{attrs:{slot:"title",default:"",name:"tab-1",label:"Catalogo"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-2",label:"Categoria"},slot:"title"}),a("q-tab-pane",{staticClass:"q-px-none",attrs:{name:"tab-1"}},[a("div",{staticClass:"filters row content-stretch justify-between q-pt-sm q-pr-sm q-ma-sm q-mb-md gutter-x-sm bg-white",staticStyle:{"border-radius":"5px","min-height":"50px",width:"100%",clear:"right"}},[a("div",{staticClass:"col q-pt-xs"},[a("q-search",{attrs:{"hide-underline":"",placeholder:"Filtre por Produto, Marca, Número"}})],1),a("div",{staticClass:"col-auto q-pt-xs"},[a("q-select",{attrs:{"hide-underline":"",placeholder:"Grupos",options:e.opcoes}})],1)]),a("div",{staticClass:"q-subheading q-ma-sm text-white",staticStyle:{width:"100%",clear:"right"}},[e._v("Grupo")]),e._l(e.shoppingItems,function(t){return a("q-card",{key:t.id,staticClass:" q-mb-md",staticStyle:{background:"white"},attrs:{inline:""}},[a("q-card-media",{attrs:{"overlay-position":"bottom"}},[a("img",{attrs:{src:"https://images-americanas.b2w.io/produtos/01/00/images/72776/7/72776762_1GG.jpg"}}),a("div",{staticClass:"q-caption q-pa-sm",attrs:{slot:"overlay"},slot:"overlay"},[e._v("\n    "+e._s(t.name)),a("br"),a("span",{staticClass:"q-body-1",attrs:{slot:"subtitle"},slot:"subtitle"},[e._v(e._s(t.price))])])])],1)}),a("div",{staticClass:"q-subheading q-ma-sm text-white",staticStyle:{width:"100%",clear:"right"}},[e._v("Grupo 2")]),e._l(e.shoppingItems,function(t){return a("q-card",{key:t.id,staticClass:" q-mb-md",staticStyle:{background:"white"},attrs:{inline:""}},[a("q-card-media",{attrs:{"overlay-position":"bottom"}},[a("img",{attrs:{src:"https://images-americanas.b2w.io/produtos/01/00/images/72776/7/72776762_1GG.jpg"}}),a("div",{staticClass:"q-body-2 q-pa-sm",attrs:{slot:"overlay"},slot:"overlay"},[e._v("\n    "+e._s(t.name)),a("br"),a("span",{staticClass:"q-body-1",attrs:{slot:"subtitle"},slot:"subtitle"},[e._v(e._s(t.price))])])])],1)})],2),a("q-tab-pane",{staticClass:"q-px-none",attrs:{name:"tab-2"}},e._l(e.shoppingItems,function(t){return a("q-card",{key:t.id,staticClass:" q-mb-md",staticStyle:{background:"white"},attrs:{inline:""}},[a("q-card-media",{attrs:{"overlay-position":"bottom"}},[a("img",{attrs:{src:"https://images-americanas.b2w.io/produtos/01/00/images/72776/7/72776762_1GG.jpg"}}),a("div",{staticClass:"q-body-2 q-pa-sm",attrs:{slot:"overlay"},slot:"overlay"},[e._v("\n    "+e._s(t.name)),a("br"),a("span",{staticClass:"q-body-1",attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("R$ "+e._s(t.price))])])])],1)}))],1)],1)},Fw=[];Iw._withStripped=!0;var ww={data:function(){return{opcoes:[{label:"Masculino",value:"Masculino"},{label:"Feminino",value:"Feminino"},{label:"Outro",value:"Outro"}],shoppingItems:[{id:1,name:"Cerveja Heineken - Pack Com 6 Long Necks 330 Ml",price:"43,50",quantidade:1},{id:2,name:"Cerveja Heineken 600ml Premium Lager - Caixa com 12 Garrafas",price:"12,00",quantidade:1},{id:1,name:"Cerveja Heineken Lata 350ml - PACK 12 Unidades",price:"7,00",quantidade:1},{id:2,name:"Draughtkeg Barril Cerveja Heineken (5 Litros)",price:"12,00",quantidade:1},{id:1,name:"Cerveja Heineken Premium Quality Long Neck 250 Ml",price:"7,00",quantidade:1},{id:1,name:"Cerveja Heineken - Pack Com 6 Long Necks 330 Ml",price:"43,50",quantidade:1},{id:2,name:"Cerveja Heineken 600ml Premium Lager - Caixa com 12 Garrafas",price:"12,00",quantidade:1},{id:1,name:"Cerveja Heineken Lata 350ml - PACK 12 Unidades",price:"7,00",quantidade:1}]}}},yw=ww,Nw=(a("eda6"),Object(sc["a"])(yw,Iw,Fw,!1,null,"b309d236",null));Nw.options.__file="PdvCatalogo.vue";var kw=Nw.exports,Mw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pdvpromocoes q-pa-md"},[a("q-card",{staticClass:" q-mb-md"},[a("q-card-media",[a("img",{attrs:{src:"https://image.freepik.com/vetores-gratis/modelo-de-banner-de-promocao-de-venda-abstrata_23-2148216640.jpg"}})])],1),a("q-card",{staticClass:" q-mb-md"},[a("q-card-media",[a("img",{attrs:{src:"https://image.freepik.com/vetores-gratis/banner-de-venda-brilhante-para-marketing-e-promocao_1017-11519.jpg"}})])],1)],1)},Pw=[];Mw._withStripped=!0;var Dw={},Ew=Object(sc["a"])(Dw,Mw,Pw,!1,null,null,null);Ew.options.__file="PdvPromocoes.vue";var Tw=Ew.exports,Aw={components:{BarraTopo:El,PdvCarrinho:Sw,PdvCatalogo:kw,PdvPromocoes:Tw},computed:{},data:function(){return{opened:!1}},methods:{abrirPDV:function(){this.opened=!0}}},Ow=Aw,$w=(a("614d"),Object(sc["a"])(Ow,fw,Cw,!1,null,"7d3df602",null));$w.options.__file="Pdv.vue";var Rw=$w.exports,jw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Lista",attrs:{view:"hHh LpR lFr"}},[a("barra-topo"),a("q-page-container",[a("q-page",[e.list?a("div",[a("q-toolbar",{staticClass:"q-py-sm",attrs:{color:"primary"}},[a("q-btn-group",{staticClass:"no-shadow"},[a("q-btn",{staticClass:"hideonmobile q-px-xs",attrs:{icon:"vertical_split",color:e.section?"white":"none","text-color":e.section?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("section")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"view_column",color:e.kanbanL?"white":"none","text-color":e.kanbanL?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("kanbanL")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"mdi-chart-gantt",color:e.ganttL?"white":"none","text-color":e.ganttL?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("ganttL")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"view_headline",color:e.list?"white":"none","text-color":e.list?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("list")}}})],1),a("q-toolbar-title",[a("q-search",{ref:"buscaCampo",staticStyle:{"max-width":"990px",margin:"0 auto"},attrs:{color:"none",inverted:"",placeholder:"Buscar"},model:{value:e.buscaCampo,callback:function(t){e.buscaCampo=t},expression:"buscaCampo"}})],1),a("q-btn",{staticClass:"hideonmobile",attrs:{flat:"",dense:"",icon:"add",round:""}},[a("q-tooltip",[e._v("Criar")])],1),a("q-btn",{staticClass:"no-shadow q-px-xs",attrs:{icon:"mdi-filter",flat:"",dense:"",round:""},on:{click:e.abrirFiltro}})],1),a("q-btn",{staticClass:"fixed hideondesktop",staticStyle:{right:"18px",bottom:"18px","z-index":"55"},attrs:{round:"",color:"primary",icon:"add",size:"lg"}}),a("q-toolbar",{staticClass:"q-py-sm",attrs:{color:"none","text-color":"dark"}},[a("q-checkbox",{model:{value:e.checkboxModel,callback:function(t){e.checkboxModel=t},expression:"checkboxModel"}}),a("q-btn",{attrs:{flat:"",dense:"",icon:"arrow_drop_down",size:"md",color:"dark"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-py-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1),a("q-btn",{attrs:{flat:"",dense:"",icon:"label",color:"faded",round:""}},[a("q-tooltip",[e._v("Tag")])],1),a("q-btn",{attrs:{flat:"",dense:"",icon:"delete",color:"faded",round:""}},[a("q-tooltip",[e._v("Delete")])],1),a("q-toolbar-title"),a("q-btn",{attrs:{flat:"",dense:"",icon:e.showAllPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",color:"faded",round:""},nativeOn:{click:function(t){e.abrirTodosPreview()}}},[a("q-tooltip",[e._v("Abrir tudo")])],1),a("q-btn",{attrs:{dense:"",flat:"",icon:"swap_vert",round:"",color:"faded"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-py-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Alfabetica"}})],1),a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Data"}})],1)],1)],1)],1),a("q-btn",{attrs:{flat:"",dense:"",icon:"mdi-download",color:"faded",round:""}},[a("q-tooltip",[e._v("Download")])],1),a("q-btn",{attrs:{flat:"",dense:"",icon:"print",color:"faded",round:""}},[a("q-tooltip",[e._v("Imprimir")])],1),a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md",color:"faded"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-py-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1),a("q-tabs",{attrs:{color:"transparent","text-color":"primary"},model:{value:e.tabsModel,callback:function(t){e.tabsModel=t},expression:"tabsModel"}},[a("q-tab",{attrs:{slot:"title",name:"xtab-1",label:"Label 1",default:""},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"xtab-2",label:"Label 2"},slot:"title"}),a("q-tab-pane",{staticClass:"q-pa-none",staticStyle:{"border-top":"1px solid #e0e0e0"},attrs:{name:"xtab-1"}},[e._l(e.lista,function(t){return a("q-list",{key:t,staticClass:"q-py-none qListaItems"},[a("q-item",{staticClass:"itemLista"},[a("q-item-side",{staticClass:"sidecheckbox"},[a("q-checkbox",{model:{value:e.checkboxModel,callback:function(t){e.checkboxModel=t},expression:"checkboxModel"}})],1),a("q-item-side",{nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}},[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{staticClass:"hideondesktop",attrs:{label:t.name},nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.email))]),a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.tel))]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Tag")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("Tag")])],1),a("q-item-main",{staticClass:"hideonmobile",attrs:{label:t.name},nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}}),a("q-item-main",{staticClass:"hideonmobile",nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.email))])],1),a("q-item-main",{staticClass:"hideonmobile",nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.tel))])],1),a("q-item-main",{staticClass:"hideonmobile"},[a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("\n                    Tag\n                  ")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("\n                    Tag\n                  ")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{staticClass:"buttons",attrs:{color:"tertiary",size:"md",icon:t.showPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",flat:"",dense:"",round:""},nativeOn:{click:function(e){t.showPreviewDetail=!t.showPreviewDetail}}}),a("q-btn",{staticClass:"buttons",attrs:{color:"tertiary",size:"md",icon:"edit",flat:"",dense:"",round:""},nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}}),a("q-btn",{staticClass:"buttons",attrs:{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:""}}),a("q-btn",{staticClass:"morevert",attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-py-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1),t.showPreviewDetail?a("q-item",{staticClass:" q-pa-md"},[a("q-item-main",{attrs:{label:"Linha 2"}},[a("q-item-tile",{attrs:{stamp:""}},[e._v("Linha 2.2")]),a("q-item-tile",{attrs:{stamp:""}},[e._v("Linha 2.3")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Linha 2")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("Linha 2")])],1),a("q-item-main",{attrs:{label:"Linha 2"}},[a("q-item-tile",{attrs:{stamp:""}},[e._v("Linha 2.2")]),a("q-item-tile",{attrs:{stamp:""}},[e._v("Linha 2.3")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Linha 2")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("Linha 2")])],1),a("q-item-main",{attrs:{label:"Linha 2"}},[a("q-item-tile",{attrs:{stamp:""}},[e._v("Linha 2.2")]),a("q-item-tile",{attrs:{stamp:""}},[e._v("Linha 2.3")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Linha 2")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("Linha 2")])],1)],1):e._e(),a("q-item-separator")],1)}),a("q-pagination",{staticClass:"justify-center q-mb-sm",attrs:{input:"",color:"dark",min:e.minPages,max:e.maxPages},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],2),a("q-tab-pane",{staticClass:"q-pa-none",staticStyle:{"border-top":"1px solid #e0e0e0"},attrs:{name:"xtab-2"}},[e._l(e.lista,function(t){return a("q-list",{key:t,staticClass:"q-py-none qListaItems"},[a("q-item",{staticClass:"itemLista"},[a("q-item-side",{staticClass:"sidecheckbox"},[a("q-checkbox",{model:{value:e.checkboxModel,callback:function(t){e.checkboxModel=t},expression:"checkboxModel"}})],1),a("q-item-side",{nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}},[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{staticClass:"hideondesktop",attrs:{label:t.name},nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.email))]),a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.tel))]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Tag")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("Tag")])],1),a("q-item-main",{staticClass:"hideonmobile",attrs:{label:t.name},nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}}),a("q-item-main",{staticClass:"hideonmobile",nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.email))])],1),a("q-item-main",{staticClass:"hideonmobile",nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.tel))])],1),a("q-item-main",{staticClass:"hideonmobile"},[a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("\n                    Tag\n                  ")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("\n                    Tag\n                  ")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{staticClass:"buttons",attrs:{color:"tertiary",size:"md",icon:t.showPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",flat:"",dense:"",round:""},nativeOn:{click:function(e){t.showPreviewDetail=!t.showPreviewDetail}}}),a("q-btn",{staticClass:"buttons",attrs:{color:"tertiary",size:"md",icon:"edit",flat:"",dense:"",round:""},nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}}),a("q-btn",{staticClass:"buttons",attrs:{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:""}}),a("q-btn",{staticClass:"morevert",attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-py-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1),t.showPreviewDetail?a("q-item",{staticClass:"q-pa-md"},[a("q-item-main",{attrs:{label:"Linha 2"}},[a("q-item-tile",{attrs:{stamp:""}},[e._v("Linha 2.2")]),a("q-item-tile",{attrs:{stamp:""}},[e._v("Linha 2.3")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Linha 2")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("Linha 2")])],1)],1):e._e(),a("q-item-separator")],1)}),a("q-pagination",{staticClass:"justify-center q-mb-sm",attrs:{input:"",color:"dark",min:e.minPages,max:e.maxPages},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],2)],1)],1):e._e(),e.section?a("div",[a("Tarefas-lista"),a("q-layout-footer",{staticClass:"bg-light no-shadow q-pa-none text-right  col-12 col-lg-9",attrs:{reveal:""}},[a("div",{staticClass:"row justify-between q-py-xs"},[a("div",{staticClass:"col-auto text-center"},[a("q-btn",{staticClass:"q-pa-sm",attrs:{color:"tertiary",size:"md",icon:"group_add",flat:""}})],1),a("div",{staticClass:"col-auto text-center"},[a("q-btn",{staticClass:"q-pa-sm",attrs:{color:"tertiary",size:"md",icon:"mdi-cart-plus",flat:""}})],1),a("div",{staticClass:"col-auto text-center"},[a("q-btn",{staticClass:"q-pa-sm",attrs:{color:"tertiary",size:"md",flat:"",icon:"mdi-attachment"}})],1),a("div",{staticClass:"col-auto text-center"},[a("q-btn",{staticClass:"q-pa-sm",attrs:{color:"tertiary",size:"md",flat:"",icon:"mdi-format-list-checks"}})],1),a("q-field",{staticClass:"col",attrs:{"icon-color":"primary"}},[a("q-input",{staticClass:"bg-white q-px-md q-mx-sm",staticStyle:{"border-radius":"4px"},attrs:{type:"textarea",value:"",rows:"1",placeholder:"Digite seu comentário"}})],1),a("div",{staticClass:"col-auto text-center"},[a("q-btn",{staticClass:"q-pa-sm q-mx-sm no-shadow",attrs:{color:"none","text-color":"primary",size:"md",icon:"mdi-send",dense:"",round:""}})],1)],1),a("div",{staticClass:"row justify-between q-py-xs bg-grey-3"},[a("div",{staticClass:"col"},[a("q-btn",{staticClass:"q-ml-sm no-shadow float-left",attrs:{color:"green",icon:"play_arrow",round:""}})],1),a("div",{staticClass:"col-auto"},[a("q-btn",{staticClass:"q-ml-sm no-shadow q-mx-sm ",attrs:{color:"negative ",label:"FINALIZAR"}}),a("q-btn",{staticClass:"no-shadow",attrs:{color:"primary",label:"Salvar"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{color:"faded",flat:"",icon:"more_vert",round:""}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},[a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:"Transferir"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:"Duplicar"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:"Cancelar"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:"Reabrir"}})],1)],1)],1)],1)],1)])])],1):e._e(),e.kanban?a("div",[a("tarefas-kanban")],1):e._e(),e.gantt?a("div",[a("tarefas-gantt")],1):e._e(),e.kanbanL?a("div",[a("q-toolbar",{staticClass:"q-py-sm",attrs:{color:"primary"}},[a("q-btn-group",{staticClass:"no-shadow"},[a("q-btn",{staticClass:"hideonmobile q-px-xs",attrs:{icon:"vertical_split",color:e.section?"white":"none","text-color":e.section?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("section")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"view_column",color:e.kanbanL?"white":"none","text-color":e.kanbanL?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("kanbanL")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"mdi-chart-gantt",color:e.ganttL?"white":"none","text-color":e.ganttL?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("ganttL")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"view_headline",color:e.list?"white":"none","text-color":e.list?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("list")}}})],1),a("q-toolbar-title",[a("q-search",{ref:"buscaCampo",staticStyle:{"max-width":"990px",margin:"0 auto"},attrs:{color:"none",inverted:"",placeholder:"Buscar"},model:{value:e.buscaCampo,callback:function(t){e.buscaCampo=t},expression:"buscaCampo"}})],1),a("q-btn",{staticClass:"hideonmobile",attrs:{flat:"",dense:"",icon:"add",round:""}},[a("q-tooltip",[e._v("Criar")])],1),a("q-btn",{staticClass:"no-shadow q-px-xs",attrs:{icon:"mdi-filter",flat:"",dense:"",round:""},on:{click:e.abrirFiltro}})],1),a("tarefas-kanban")],1):e._e(),e.ganttL?a("div",[a("q-toolbar",{staticClass:"q-py-sm",attrs:{color:"primary"}},[a("q-btn-group",{staticClass:"no-shadow"},[a("q-btn",{staticClass:"hideonmobile q-px-xs",attrs:{icon:"vertical_split",color:e.section?"white":"none","text-color":e.section?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("section")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"view_column",color:e.kanbanL?"white":"none","text-color":e.kanbanL?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("kanbanL")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"mdi-chart-gantt",color:e.ganttL?"white":"none","text-color":e.ganttL?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("ganttL")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"view_headline",color:e.list?"white":"none","text-color":e.list?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("list")}}})],1),a("q-toolbar-title",[a("q-search",{ref:"buscaCampo",staticStyle:{"max-width":"990px",margin:"0 auto"},attrs:{color:"none",inverted:"",placeholder:"Buscar"},model:{value:e.buscaCampo,callback:function(t){e.buscaCampo=t},expression:"buscaCampo"}})],1),a("q-btn",{staticClass:"hideonmobile",attrs:{flat:"",dense:"",icon:"add",round:""}},[a("q-tooltip",[e._v("Criar")])],1),a("q-btn",{staticClass:"no-shadow q-px-xs",attrs:{icon:"mdi-filter",flat:"",dense:"",round:""},on:{click:e.abrirFiltro}})],1),a("tarefas-gantt")],1):e._e()])],1),a("q-layout-drawer",{staticClass:"hideonmobile",attrs:{side:"left","content-class":"mydrawerL"},model:{value:e.showList,callback:function(t){e.showList=t},expression:"showList"}},[a("div",{staticClass:"background"},[a("Modelo-menu",{attrs:{sectionBT:e.section,listBT:e.list},on:{myEvent:e.carregaComponent,abrirItem:e.abrirItem,abrirFiltro:e.abrirFiltro}})],1)]),a("q-layout-drawer",{attrs:{side:"right","content-class":"bg-grey-3 no-shadow"},model:{value:e.section,callback:function(t){e.section=t},expression:"section"}},[a("tarefas-dados-clientes")],1),a("q-layout-drawer",{style:e.showFilters?{opacity:1}:{opacity:0},attrs:{side:e.left?"left":"right",id:"mydrawer","content-class":"mydrawerFL"},model:{value:e.showFilters,callback:function(t){e.showFilters=t},expression:"showFilters"}},[a("q-toolbar",{attrs:{color:"white","text-color":"faded"}},[a("q-icon",{attrs:{name:"mdi-filter",color:"faded"}}),a("q-toolbar-title",{staticClass:"q-subheading"},[e._v("Filtrar")]),a("q-btn",{attrs:{dense:"",flat:"",icon:"close",round:""},on:{click:function(t){e.showFilters=!e.showFilters}}})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 row q-px-md"},[a("h1",{staticClass:"col-12 q-body-2 text-dark"},[e._v("Empresas")]),a("q-chips-input",{staticClass:"no-shadow full-width",staticStyle:{"border-bottom":"1px solid white"},attrs:{multiple:"",color:"transparent",placeholder:"Buscar empresa","chips-color":"white","chips-bg-color":"primary"},model:{value:e.empresas.selected,callback:function(t){e.$set(e.empresas,"selected",t)},expression:"empresas.selected"}})],1),a("div",{staticClass:"col-12 row q-px-md q-mt-lg"},[a("h1",{staticClass:"col-12 q-body-2 text-dark"},[e._v("Período")]),a("div",{staticClass:"col-6 "},[a("q-datetime",{staticClass:"no-shadow full-width q-px-none q-body-2",staticStyle:{"border-bottom":"1px solid white"},attrs:{type:"date",minimal:"",prefix:"De"},model:{value:e.filtro.periodo.ini,callback:function(t){e.$set(e.filtro.periodo,"ini",t)},expression:"filtro.periodo.ini"}})],1),a("div",{staticClass:"col-6 "},[a("q-datetime",{staticClass:"no-shadow full-width q-px-none q-body-2",staticStyle:{"border-bottom":"1px solid white"},attrs:{type:"date",minimal:"",prefix:"até"},model:{value:e.filtro.periodo.fim,callback:function(t){e.$set(e.filtro.periodo,"fim",t)},expression:"filtro.periodo.fim"}})],1)]),a("div",{staticClass:"col-12 row q-px-md q-mt-lg"},[a("q-btn",{staticClass:"col-12",attrs:{color:"primary",label:"Aplicar"},on:{click:e.filtrar}})],1)])],1),a("q-modal",{attrs:{maximized:""},model:{value:e.showsectionm,callback:function(t){e.showsectionm=t},expression:"showsectionm"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"keyboard_arrow_left"}}),a("q-toolbar-title",[e._v("\n          Tarefa X\n        ")]),a("q-btn",{staticClass:"q-mr-sm float-right",attrs:{cor:"positive",icone:"flag",flat:""}},[e._v("\n          Status\n        ")]),a("q-btn",{staticClass:"float-right",attrs:{icone:"playlist_add_check",flat:""}},[e._v("\n          #0001\n        ")])],1),a("Tarefas-lista-modal"),a("q-layout-footer",{staticClass:"bg-light no-shadow q-pa-none text-right  col-12 col-lg-9",attrs:{reveal:""}},[a("div",{staticClass:"row justify-between q-py-xs"},[a("div",{staticClass:"col-auto text-center"},[a("q-btn",{staticClass:"q-pa-sm",attrs:{color:"tertiary",size:"md",icon:"group_add",flat:""}})],1),a("div",{staticClass:"col-auto text-center"},[a("q-btn",{staticClass:"q-pa-sm",attrs:{color:"tertiary",size:"md",icon:"mdi-cart-plus",flat:""}})],1),a("div",{staticClass:"col-auto text-center"},[a("q-btn",{staticClass:"q-pa-sm",attrs:{color:"tertiary",size:"md",flat:"",icon:"mdi-attachment"}})],1),a("div",{staticClass:"col-auto text-center"},[a("q-btn",{staticClass:"q-pa-sm",attrs:{color:"tertiary",size:"md",flat:"",icon:"mdi-format-list-checks"}})],1),a("q-field",{staticClass:"col",attrs:{"icon-color":"primary"}},[a("q-input",{staticClass:"bg-white q-px-md q-mx-sm",staticStyle:{"border-radius":"4px"},attrs:{type:"textarea",value:"",rows:"1",placeholder:"Digite seu comentário"}})],1),a("div",{staticClass:"col-auto text-center"},[a("q-btn",{staticClass:"q-pa-sm q-mx-sm no-shadow",attrs:{color:"none","text-color":"primary",size:"md",icon:"mdi-send",dense:"",round:""}})],1)],1),a("div",{staticClass:"row justify-between q-py-xs bg-grey-3"},[a("div",{staticClass:"col"},[a("q-btn",{staticClass:"q-ml-sm no-shadow float-left",attrs:{color:"green",icon:"play_arrow",round:""}})],1),a("div",{staticClass:"col-auto"},[a("q-btn",{staticClass:"q-ml-sm no-shadow q-mx-sm ",attrs:{color:"negative ",label:"FINALIZAR"}}),a("q-btn",{staticClass:"no-shadow",attrs:{color:"primary",label:"Salvar"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{color:"faded",flat:"",icon:"more_vert",round:""}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},[a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:"Transferir"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:"Duplicar"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:"Cancelar"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:"Reabrir"}})],1)],1)],1)],1)],1)])])],1)],1)],1)},zw=[];jw._withStripped=!0;var Bw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row q-mt-xl q-pt-md q-px-md"},[a("avatar",{staticStyle:{float:"left"},attrs:{imagem:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQZH7c1xxmppduvnIzq7oevpcDCK3nDoGgqjR6-yZ7L7kHCKDeq",rotulo:"avatar",tamanho:"40"}}),a("q-toolbar-title",{staticClass:"q-pt-sm"},[e._v("\n      Nome Cliente\n    ")])],1),a("q-item-separator",{attrs:{inset:""}}),a("q-list",{staticClass:"no-border"},[a("q-item",{nativeOn:{click:function(t){e.abrirTelefone(e.telefone)}}},[a("q-item-side",{attrs:{icon:"phone",color:"primary"}}),a("q-item-main",{attrs:{label:"(650) 555 - 2345"}},[a("q-item-tile",{staticClass:"q-body-2",attrs:{color:"faded"}},[e._v("Office")])],1)],1),a("q-item",{nativeOn:{click:function(t){e.abrirTelefone(e.telefone)}}},[a("q-item-main",{attrs:{inset:"",label:"(650) 555 - 2345"}},[a("q-item-tile",{staticClass:"q-body-2",attrs:{color:"faded"}},[e._v("Office")])],1),a("q-item-side",[a("q-btn",{attrs:{flat:"",dense:"",icon:"mdi-whatsapp",round:"",color:"green"}})],1)],1),a("q-item-separator",{attrs:{inset:""}}),a("q-item",{nativeOn:{click:function(t){e.abrirTelefone(e.telefone)}}},[a("q-item-side",{attrs:{icon:"mail",color:"primary"}}),a("q-item-main",{attrs:{label:"john.doe@some-company.com"}},[a("q-item-tile",{staticClass:"q-body-2",attrs:{color:"faded"}},[e._v("Office")])],1)],1),a("q-item-separator",{attrs:{inset:""}}),a("q-item",{nativeOn:{click:function(t){e.abrirTelefone(e.telefone)}}},[a("q-item-side",{attrs:{icon:"business",color:"primary"}}),a("q-item-main",{attrs:{inset:"",label:"Av. Pres. Vargas, 2001 - Jardim Irajá, Ribeirão Preto - SP, 14080-110"}},[a("q-item-tile",{staticClass:"q-body-2",attrs:{color:"faded"}},[e._v("Office")])],1)],1)],1),a("q-tabs",{staticClass:"q-mt-md ",attrs:{color:"transparent","text-color":"primary"},model:{value:e.tabsModel,callback:function(t){e.tabsModel=t},expression:"tabsModel"}},[a("q-tab",{staticClass:"q-py-none q-px-lg",attrs:{slot:"title",name:"xtab-1",label:"Pendentes",default:""},slot:"title"}),a("q-tab",{staticClass:"q-py-none q-px-lg",attrs:{slot:"title",name:"xtab-2",label:"Concluídas"},slot:"title"}),a("q-tab-pane",{staticClass:"q-pa-none",staticStyle:{"border-top":"1px solid rgba(255, 255, 255, 0.25)"},attrs:{name:"xtab-1"}},[a("q-list",{staticClass:"q-pt-none",attrs:{highlight:"","no-border":"",separator:""}},e._l(e.lista,function(t){return a("q-item",{key:t,staticClass:"q-pa-xs itemlista",nativeOn:{click:function(a){e.abrirItem(t)}}},[a("q-item-side",{staticClass:"sidecheckbox"},[a("q-checkbox",{attrs:{dark:"","keep-color":""},model:{value:e.checkboxModel,callback:function(t){e.checkboxModel=t},expression:"checkboxModel"}})],1),a("q-item-side",[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{attrs:{label:t.name}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.email))]),a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.tel))]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Tag")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("Tag")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-pa-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1)})),a("q-pagination",{staticClass:"justify-center q-mb-sm",attrs:{"text-color":"primary",min:e.minPages,max:e.maxPages},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1),a("q-tab-pane",{staticClass:"q-pa-none",staticStyle:{"border-top":"1px solid rgba(255, 255, 255, 0.25)"},attrs:{name:"xtab-2"}},[a("q-list",{staticClass:"q-pt-none",attrs:{highlight:"","no-border":"",separator:""}},e._l(e.lista,function(t){return a("q-item",{key:t,staticClass:"q-pa-xs itemlista"},[a("q-item-side",{staticClass:"sidecheckbox"},[a("q-checkbox",{attrs:{dark:"","keep-color":""},model:{value:e.checkboxModel,callback:function(t){e.checkboxModel=t},expression:"checkboxModel"}})],1),a("q-item-side",[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{attrs:{label:t.name}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.email))]),a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.tel))]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Tag")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("Tag")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-pa-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1)})),a("q-pagination",{staticClass:"justify-center q-mb-sm",attrs:{"text-color":"primary",min:e.minPages,max:e.maxPages},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1)],1)},Lw=[];Bw._withStripped=!0;var Vw={components:{Avatar:Fc,Badge:Bd},data:function(){return{data:"",ratingModel:"",checkboxModel:[],lista:[{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1}],selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]}},methods:{abrirURL:uw["a"],abrirTelefone:function(e){if(alert("abrirTelefone"),e.telefone){var t="WhatsApp"===e.tipoTelefone?"https://api.whatsapp.com/send?phone=":"tel:+";this.abrirURL(t+this.formatarTelefone(e.telefone))}}}},Uw=Vw,Hw=Object(sc["a"])(Uw,Bw,Lw,!1,null,null,null);Hw.options.__file="ModeloDadosClientes.vue";var Qw=Hw.exports,Gw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"AdmOS"},[a("q-page-container",{staticStyle:{"padding-top":"0 !important"}},[a("q-page",[a("div",{staticClass:"row overflowXOS filterfalse"},e._l(e.listas,function(t,o){return a("div",{key:o,staticClass:"no-shadow q-py-sm col q-px-none coluna"},[a("div",{staticClass:"q-pa-none"},[a("q-toolbar",{staticClass:"no-shadow q-py-none q-px-sm"},[a("q-toolbar-title",{staticClass:"q-py-none"},[e._v("\n                "+e._s(o)+"\n              ")])],1),"Entregue"===o?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 q-px-none"},[a("campo",{staticClass:"q-mx-sm",attrs:{rotulo:"Início",tipo:"data"},model:{value:e.entregueInicio,callback:function(t){e.entregueInicio=t},expression:"entregueInicio"}}),a("campo",{staticClass:"q-mx-sm",attrs:{rotulo:"Fim",tipo:"data"},model:{value:e.entregueFim,callback:function(t){e.entregueFim=t},expression:"entregueFim"}})],1)]):e._e(),a("draggable",{staticClass:"dragAreaOS ",attrs:{delay:"400",list:t,group:"osGroup",draggable:".extratoOS"},on:{end:e.eventoEnd}},e._l(t,function(t){return!t.mostra||null!==e.prazoSelecionado&&e.prazoSelecionado!==t.corBorda?e._e():a("q-card",{key:t.codigoDocumento,staticClass:"q-pa-sm q-pb-md q-my-sm q-mb-md shadow-1 extratoOS bg-white",class:t.corBorda},[a("div",{staticClass:"row q-mt-xs"},[a("div",{staticClass:"col-6"},[a("badge",{staticClass:"q-mx-xs ",attrs:{cor:"negative",escuro:"",rotulo:"urgente"}})],1),a("div",{staticClass:"col-6 justify-end q-pr-xs",staticStyle:{display:"flex"}},[a("badge",{staticClass:"q-mx-sm ",attrs:{cor:"grey-1",icone:"shopping_cart",rotulo:t.numeroVenda}}),a("badge",{attrs:{cor:"grey-8",escuro:"",icone:"assignment_turned_in",rotulo:t.numeroOS}})],1)]),a("q-card-title",{staticClass:"q-pa-xs "},[a("div",{staticClass:"q-subheading"},[e._v(e._s(t.nomeCliente))]),a("span",{staticClass:"q-caption",attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n                    Empresa: "+e._s(t.descricaoEmpresa)+"\n                  ")])]),a("q-card-main",{staticClass:"row q-pa-xs q-pb-none q-mt-md"},[a("div",{staticClass:"col-11"},[a("div",{staticStyle:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},[a("q-icon",{attrs:{name:"person",color:"grey-7",size:"14px"}})],1),a("div",{staticClass:"q-caption",staticStyle:{display:"inline-block","margin-right":"6px"}},[e._v(e._s(t.nomeResponsavel)+"\n                    ")]),a("div",{staticStyle:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},[a("q-icon",{attrs:{name:"calendar_today",color:"grey-7",size:"14px"}})],1),a("div",{staticClass:"q-caption",staticStyle:{display:"inline-block"}},[e._v(e._s(e._f("data")(t.dataHoraEmissao)))])]),a("div",{staticClass:"col-1 self-end"},[a("q-icon",{staticStyle:{color:"grey",float:"right","text-align":"right","font-size":"1.2rem",cursor:"pointer"},attrs:{name:"more_vert",color:"blue-grey-6",onMouseOver:"this.style.color='black'",onMouseOut:"this.style.color='grey'"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{link:"",separator:""}},[a("q-item",{nativeOn:{click:function(a){e.exibirHistorico(t.codigoDocumento)}}},[a("q-item-side",{attrs:{icon:"history"}}),a("q-item-main",{attrs:{label:"Histórico do Status"}})],1),a("q-item",{nativeOn:{click:function(a){e.irParaAtendimento(t.codigoContato)}}},[a("q-item-side",{attrs:{icon:"launch"}}),a("q-item-main",{attrs:{label:"Ir para o Atendimento"}})],1)],1)],1)],1)],1)])],1)}))],1)])})),a("OS-trocar-status",{attrs:{dados:e.trocarStatusDados},on:{confirmar:e.eventoConfirmarTroca,cancelar:e.eventoCancelarTroca},model:{value:e.trocarStatusModal,callback:function(t){e.trocarStatusModal=t},expression:"trocarStatusModal"}}),e.modalHistoricoStatus.activated?a("modal-historico-status",{attrs:{dados:e.modalHistoricoStatus}}):e._e()],1)],1)],1)},Jw=[];Gw._withStripped=!0;var Xw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{value:e.value},on:{input:e.eventoInput}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("Trocar status da OS")])],1),a("form",{on:{submit:function(t){return t.preventDefault(),e.eventoConfirmar(t)}}},[a("div",{staticClass:"layout-padding"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{somenteLeitura:"",rotulo:"Cliente"},model:{value:e.dados.nomeCliente,callback:function(t){e.$set(e.dados,"nomeCliente",t)},expression:"dados.nomeCliente"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{somenteLeitura:"",rotulo:"De"},model:{value:e.dados.statusAtual,callback:function(t){e.$set(e.dados,"statusAtual",t)},expression:"dados.statusAtual"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{somenteLeitura:"",rotulo:"Para"},model:{value:e.dados.statusNovo,callback:function(t){e.$set(e.dados,"statusNovo",t)},expression:"dados.statusNovo"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{maxlength:"50",rotulo:"Observação"},model:{value:e.dados.observacao,callback:function(t){e.$set(e.dados,"observacao","string"===typeof t?t.trim():t)},expression:"dados.observacao"}})],1)]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:e.eventoCancelar}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Trocar"}})],1)])],1)],1)],1)],1)},Yw=[];Xw._withStripped=!0;var Ww={components:{Campo:Sl},data:function(){return{confirmado:!1}},methods:{eventoConfirmar:function(){ei.log("OSTrocarStatus","eventoConfirmar",this.dados),this.confirmado=!0,this.eventoInput(!1),this.$emit("confirmar",this.dados)},eventoCancelar:function(){ei.log("OSTrocarStatus","eventoCancelar",this.dados),this.confirmado=!1,this.eventoInput(!1)},eventoInput:function(e){this.$emit("input",e)}},props:{value:{required:!0,type:Boolean},dados:{required:!0,type:Object}},watch:{value:function(e){e?this.confirmado=!1:this.confirmado||this.$emit("cancelar",this.dados)}}},Zw=Ww,Kw=Object(sc["a"])(Zw,Xw,Yw,!1,null,null,null);Kw.options.__file="OSTrocarStatus.vue";var ey=Kw.exports,ty=a("310e"),ay=a.n(ty),oy={components:{Badge:Bd,Campo:Sl,OSTrocarStatus:ey,ModalHistoricoStatus:Nv,draggable:ay.a},data:function(){return{drawer:!0,showfilters:!0,empresaOpcoes:[],empresaSelecionada:null,entregueInicio:new Date(new Date(na()).toDateString()),entregueFim:new Date(new Date(na()).toDateString()),fraseFiltro:"",listas:{Processando:[],Entregue:[]},trocarStatusDados:{},trocarStatusModal:!1,periodoOpcoes:[{label:"Hoje",value:0},{label:"Uma semana",value:7},{label:"Um mês",value:30}],prazoSelecionado:null,prazoOpcoes:[{label:"Em dia",value:"bordaVerdeOS"},{label:"Entrega para esta semana",value:"bordaAmarelaOS"},{label:"Entrega atrasada",value:"bordaVermelhaOS"}],modalHistoricoStatus:{}}},methods:{eventoEnd:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(this.listas);case 1:if((e.t1=e.t0()).done){e.next=34;break}t=e.t1.value,a=!0,o=!1,i=void 0,e.prev=6,r=this.listas[t][Symbol.iterator]();case 8:if(a=(s=r.next()).done){e.next=18;break}if(n=s.value,n.status===t){e.next=15;break}return ei.log("AdmOS","eventoEnd De:",n.status,"Para:",t,"codigo:",n.codigoDocumento),this.trocarStatusDados={codigoContatoResponsavel:n.codigoContatoResponsavel,codigoDocumento:n.codigoDocumento,codigoUsuario:null,nomeCliente:n.nomeCliente,observacao:"",statusAtual:n.status,statusNovo:t},this.trocarStatusModal=!0,e.abrupt("return");case 15:a=!0,e.next=8;break;case 18:e.next=24;break;case 20:e.prev=20,e.t2=e["catch"](6),o=!0,i=e.t2;case 24:e.prev=24,e.prev=25,a||null==r.return||r.return();case 27:if(e.prev=27,!o){e.next=30;break}throw i;case 30:return e.finish(27);case 31:return e.finish(24);case 32:e.next=1;break;case 34:case"end":return e.stop()}},e,this,[[6,20,24,32],[25,,27,31]])}));return function(){return e.apply(this,arguments)}}(),eventoConfirmarTroca:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("AdmOS","eventoConfirmaTroca",at()({},t)),this.$q.loading.show(),e.prev=2,e.next=5,Zn.usuario.leOnline(Zn.usuario.logado.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1=[];case 8:if(e.t0=e.t1[0],e.t0){e.next=11;break}e.t0={};case 11:return a=e.t0,t.codigoUsuario=a.codigoUsuario,e.next=15,Zn.os.trocaStatusOnline(t);case 15:this.$q.notifyPositive("Status trocado com sucesso"),this.atualiza(),e.next=22;break;case 19:e.prev=19,e.t2=e["catch"](2),this.$q.notifyError("Erro na troca de status",e.t2);case 22:return e.prev=22,this.$q.loading.hide(),e.finish(22);case 25:case"end":return e.stop()}},e,this,[[2,19,22,25]])}));return function(t){return e.apply(this,arguments)}}(),eventoCancelarTroca:function(e){ei.log("AdmOS","eventoCancelarTroca",e),this.atualiza()},empresaOpcoesCarregar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("AdmOS","empresaOpcoesCarregar()"),e.next=3,Zn.empresa.leOnline();case 3:e.t0=function(e){return{label:e.nome,value:e.codigoContato}},this.empresaOpcoes=e.sent.map(e.t0);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),filtraDebounce:function(){Object(ot["debounce"])(this.refazFiltro,700)()},refazFiltro:function(){ei.log("AdmOSs","refazFiltro()",this.fraseFiltro,this.empresaSelecionada);var e=oo(this.fraseFiltro.toUpperCase()).split(" ").filter(function(e){return""!==e});for(var t in this.listas){var a=!0,o=!1,i=void 0;try{for(var r,s=this.listas[t][Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var n=r.value,c=oo(n.id.toUpperCase()+n.nomeCliente.toUpperCase()+n.nomeResponsavel.toUpperCase()+" "+String(n.numeroVenda)+"  "+String(n.numeroOS)+" "),l=!0,d=!0,u=!1,m=void 0;try{for(var p,v=e[Symbol.iterator]();!(d=(p=v.next()).done);d=!0){var h=p.value;l=isNaN(Number(h))?l&&c.includes(h):l&&c.includes(" "+h+" ")}}catch(e){u=!0,m=e}finally{try{d||null==v.return||v.return()}finally{if(u)throw m}}this.empresaSelecionada&&(l=l&&this.empresaSelecionada===n.codigoEmpresa),n.mostra=l}}catch(e){o=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}}},atualiza:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zn.os.leAdmOSOnline({entregueInicio:this.entregueInicio,entregueFim:this.entregueFim});case 3:return t=e.sent,ei.log("AdmOS","atualiza()",t.length),Do(!t||!t.length,"Não há ordens de serviço"),e.next=8,Zn.configuracoes.le({nome:"vendas.os.status"});case 8:for(a=e.sent,a=a.filter(function(e){return!["Processando","Entregue"].includes(e.texto)}),o={Processando:[]},i=!0,r=!1,s=void 0,e.prev=14,n=Object(ot["orderBy"])(a,"valor","asc").map(function(e){return e.texto})[Symbol.iterator]();!(i=(c=n.next()).done);i=!0)l=c.value,o[l]=[];e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](14),r=!0,s=e.t0;case 22:e.prev=22,e.prev=23,i||null==n.return||n.return();case 25:if(e.prev=25,!r){e.next=28;break}throw s;case 28:return e.finish(25);case 29:return e.finish(22);case 30:for(o["Entregue"]=[],d=!0,u=!1,m=void 0,e.prev=34,p=t[Symbol.iterator]();!(d=(v=p.next()).done);d=!0)h=v.value,f="bordaVerdeOS","Entregue"===h.status?h.dataHoraPrevisto&&h.dataHoraFinalizado&&(C=new Date(new Date(h.dataHoraPrevisto).toDateString()),b=new Date(new Date(h.dataHoraFinalizado).toDateString()),g=(b-C)/864e5,f=g>=0?"bordaVermelhaOS":g>-7?"bordaAmarelaOS":"bordaVerdeOS"):h.dataHoraPrevisto&&(x=new Date(new Date(h.dataHoraPrevisto).toDateString()),_=new Date((new Date).toDateString()),q=(_-x)/864e5,f=q>=0?"bordaVermelhaOS":q>-7?"bordaAmarelaOS":"bordaVerdeOS"),S={id:h.id,codigoCompra:h.codigoCompra||"-",codigoContatoResponsavel:h.codigoContatoResponsavel,codigoDocumento:h.codigoDocumento,codigoContato:h.codigoContato,codigoEmpresa:h.codigoEmpresa,descricaoEmpresa:h.descricaoEmpresa,corBorda:f,dataHoraEmissao:new Date(h.dataHoraEmissao),dataHoraFinalizado:new Date(h.dataHoraFinalizado),dataHoraRetorno:new Date(h.dataHoraRetorno),dataHoraPrevisto:new Date(h.dataHoraPrevisto),mostra:!0,nomeCliente:h.nomeCliente||"-",nomeResponsavel:h.nomeResponsavel||"-",numeroVenda:h.numeroVenda||"-",numeroOS:h.numeroOS||"-",status:h.status},o[h.status]&&o[h.status].push(S);e.next=42;break;case 38:e.prev=38,e.t1=e["catch"](34),u=!0,m=e.t1;case 42:e.prev=42,e.prev=43,d||null==p.return||p.return();case 45:if(e.prev=45,!u){e.next=48;break}throw m;case 48:return e.finish(45);case 49:return e.finish(42);case 50:this.listas=o,this.refazFiltro(),e.next=57;break;case 54:e.prev=54,e.t2=e["catch"](0),this.$q.notifyError("Erro na consulta online de oss",e.t2);case 57:case"end":return e.stop()}},e,this,[[0,54],[14,18,22,30],[23,,25,29],[34,38,42,50],[43,,45,49]])}));return function(){return e.apply(this,arguments)}}(),irParaAtendimento:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He().contato.where({codigoContato:t}).first();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:a=e.t0,a.id&&this.$router.push({name:"Atendimento",params:{id:a.id}});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),exibirHistorico:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.$q.loading.show({message:"Processando"}),e.next=4,Zn.documentoStatus.leHistoricoOnline(t);case 4:if(a=e.sent,a.status.length){e.next=8;break}return this.$q.notify({type:"warning",message:"Não há histórico disponível."}),e.abrupt("return");case 8:return this.modalHistoricoStatus.activated||(this.modalHistoricoStatus={activated:!0}),e.next=11,this.$nextTick();case 11:this.modalHistoricoStatus=at()({},this.modalHistoricoStatus,{show:!0},a),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),this.$q.notify({type:"negative",message:e.t0.message});case 17:return e.prev=17,this.$q.loading.hide(),e.finish(17);case 20:case"end":return e.stop()}},e,this,[[0,14,17,20]])}));return function(t){return e.apply(this,arguments)}}()},watch:{entregueInicio:function(){ei.log("AdmOSs","entregueInicio"),this.atualiza()},entregueFim:function(){ei.log("AdmOSs","entregueFim"),this.atualiza()}},created:function(){ei.log("AdmOSs","created()"),this.atualiza()}},iy=oy,ry=(a("5cb2"),Object(sc["a"])(iy,Gw,Jw,!1,null,"7b60078d",null));ry.options.__file="ModeloKanban.vue";var sy=ry.exports,ny=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"AdmOS"},[a("q-page-container",{staticStyle:{"padding-top":"0 !important"}},[a("gantt-elastic",{attrs:{tasks:e.tasks,options:e.options}})],1)],1)},cy=[];ny._withStripped=!0;var ly=a("4804"),dy={components:{GanttElastic:ly["a"]},data:function(){return{showfilters:!0,listas:{Processando:[],Entregue:[]},empresaOpcoes:[],empresaSelecionada:null,fraseFiltro:"",trocarStatusDados:{},trocarStatusModal:!1,periodoOpcoes:[{label:"Hoje",value:0},{label:"Uma semana",value:7},{label:"Um mês",value:30}],prazoSelecionado:null,prazoOpcoes:[{label:"Em dia",value:"bordaVerdeOS"},{label:"Entrega para esta semana",value:"bordaAmarelaOS"},{label:"Entrega atrasada",value:"bordaVermelhaOS"}],modalHistoricoStatus:{},tasks:[{id:1,label:"Make some noise",user:'<a href="https://www.google.com/search?q=John+Doe" target="_blank" style="color:#0077c0;">John Doe</a>',start:this.getDate(-120),duration:432e3,progress:85,type:"project"},{id:2,label:"With great power comes great responsibility",user:'<a href="https://www.google.com/search?q=Peter+Parker" target="_blank" style="color:#0077c0;">Peter Parker</a>',parentId:1,start:this.getDate(-96),duration:345600,progress:50,type:"milestone",style:{fill:"#1EBC61",stroke:"#0EAC51"},progressBarStyle:{bar:{fill:"#0EAC51"}}},{id:3,label:"Courage is being scared to death, but saddling up anyway.",user:'<a href="https://www.google.com/search?q=John+Wayne" target="_blank" style="color:#0077c0;">John Wayne</a>',parentId:2,start:this.getDate(-72),duration:172800,progress:100,type:"task"}],options:{title:{label:"Your project title as html (link or whatever...)",html:!1,style:{"font-size":"20px","vertical-align":"middle","font-weight":"400","line-height":"35px","padding-left":"22px","letter-spacing":"1px"}},taskList:{columns:[{id:1,label:"ID",value:"id",width:40},{id:2,label:"Description",value:"label",width:200,expander:!0},{id:3,label:"Assigned to",value:"user",width:130,html:!0},{id:3,label:"Start",value:function(e){return e.startDate.format("YYYY-MM-DD")},width:78},{id:4,label:"Type",value:"type",width:68},{id:5,label:"%",value:"progress",width:35,styles:{label:{"text-align":"center",width:"100%"},value:{"text-align":"center",width:"100%"}}}]},locale:{code:"en",Now:"Now","X-Scale":"Zoom-X","Y-Scale":"Zoom-Y","Task list width":"Task list","Before/After":"Expand","Display task list":"Task list"}}}},methods:{getDate:function(e){var t=new Date,a=t.getFullYear(),o=t.getMonth()+1,i=t.getDate(),r=new Date("".concat(a,"-").concat(o,"-").concat(i," 00:00:00")).getTime();return new Date(r+60*e*60*1e3)}}},uy=dy,my=(a("16db"),Object(sc["a"])(uy,ny,cy,!1,null,"4c49a5d0",null));my.options.__file="ModeloGantt.vue";var py=my.exports,vy=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"TarefasLista",attrs:{view:"hHh Lpr lFr"}},[a("q-toolbar",{staticClass:"q-py-sm q-px-none q-mb-none",attrs:{color:"none","text-color":"dark"}},[a("q-btn",{staticClass:"no-shadow",attrs:{icon:"keyboard_arrow_left",label:"Lista",color:"primary",flat:"",dense:"",round:""}}),a("q-toolbar-title",[a("q-tabs",{attrs:{color:"none","text-color":"dark"},model:{value:e.tabsModel,callback:function(t){e.tabsModel=t},expression:"tabsModel"}},[a("q-tab",{attrs:{slot:"title",name:"xtab-1",label:"message",default:""},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"xtab-2",label:"account_box"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"xtab-3",label:"mail"},slot:"title"})],1)],1),a("q-btn",{attrs:{flat:"",dense:"",icon:"close",color:"negative",round:""}},[a("q-tooltip",[e._v("Fechar")])],1),a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md",color:"faded"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-pa-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1),a("div",{staticClass:"u-container"},[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"q-pl-sm border-1 q-mb-none DocumentoMetas text-faded row"},[a("div",{staticClass:"col-12 col-lg"},[a("q-field",[a("q-input",{staticClass:"q-title",attrs:{placeholder:"Assunto",value:"Assunto"}})],1)],1),a("div",{staticClass:"col-12 col-lg-auto "},[a("badge",{staticClass:"q-mx-sm q-mt-sm",attrs:{cor:"positive",icone:"flag",escuro:""}},[e._v("\n              Status\n            ")]),a("badge",{staticClass:"q-mt-sm",attrs:{cor:"faded",escuro:"",icone:"playlist_add_check"}},[e._v("\n              #0001\n            ")]),a("q-btn",{staticClass:"q-mx-sm",attrs:{color:"primary",icon:"print",flat:"",dense:"",round:""}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:"Imprimir Orçamento"}})],1),a("q-item",[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:"Imprimir Envelope"}})],1)],1)],1)],1),a("q-btn",{attrs:{color:"primary",icon:"person",flat:"",dense:"",round:""}})],1)]),a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12 col-lg-7 items-stretch"},[a("tarefas-assunto"),a("q-card",{staticClass:"extratoItem bg-white q-py-sm  q-mt-md no-shadow"},[a("q-collapsible",{staticClass:"q-px-none q-mx-none",attrs:{icon:"history",label:"Atividades"}},[a("div",[a("q-toolbar-title",{staticClass:"q-px-none"},[a("q-search",{ref:"buscaCampo",staticStyle:{"max-width":"990px",margin:"0 auto"},attrs:{color:"none",placeholder:"Buscar"},model:{value:e.buscaCampo,callback:function(t){e.buscaCampo=t},expression:"buscaCampo"}})],1),a("q-list",{staticClass:"q-px-none",attrs:{highlight:""}},[a("q-list-header",[e._v("24/09/2020")]),e._l(e.lista,function(t){return a("q-item",{key:t,staticClass:"q-py-xs"},[a("q-item-side",[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{attrs:{label:t.name}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.email))]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",denso:"",cor:"positive"}},[e._v("Tag")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",denso:"",cor:"primary"}},[e._v("Tag")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-pa-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1)}),a("q-item-separator"),a("q-list-header",[e._v("22/09/2020")]),e._l(e.lista,function(t){return a("q-item",{key:t,staticClass:"q-py-xs"},[a("q-item-side",[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{attrs:{label:t.name}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.email))]),a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.tel))]),a("badge",{staticClass:"q-mr-sm",attrs:{denso:"",escuro:"",cor:"positive"}},[e._v("Tag")]),a("badge",{staticClass:"q-mr-sm",attrs:{denso:"",escuro:"",cor:"primary"}},[e._v("Tag")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-pa-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1)})],2)],1)])],1)],1),a("div",{staticClass:"col-12 col-lg-5 items-stretch"},[a("tarefas-incluir-projetos"),a("tarefas-produtos-servicos"),a("tarefas-arquivos"),a("tarefas-checklist"),a("tarefas-convidados")],1)])])])])],1)},hy=[];vy._withStripped=!0;var fy=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticClass:"extratoItem bg-white q-pa-md q-mt-md no-shadow"},[a("q-toolbar",{staticClass:"q-pa-none q-ma-none q-mb-md",staticStyle:{"min-height":"auto"},attrs:{color:"none","text-color":"tertiary"}},[a("p",{staticClass:"q-item-label q-mb-none"},[a("q-icon",{staticClass:"q-mr-md",attrs:{name:"mdi-format-list-checks",size:"24px"}}),e._v(" Checklist\n    ")],1)]),a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},e._l(e.lista,function(t){return a("q-item",{key:t},[a("q-item-side",{staticClass:"sidecheckbox"},[a("q-checkbox",{attrs:{dark:"","keep-color":""},model:{value:t.checkboxModel,callback:function(a){e.$set(t,"checkboxModel",a)},expression:"item.checkboxModel"}})],1),a("q-item-main",[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.email))])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-pa-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1)})),a("div",{staticClass:"q-mt-md text-center"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"To Do",outline:"",size:"xs"}})],1)],1)},Cy=[];fy._withStripped=!0;var by={components:{},data:function(){return{data:"",lista:[{name:"Titulo do toDo",email:"o to do da lista",tags:["tag1","tag2"],checkboxModel:!1},{name:"Titulo do toDo",email:"o to do da lista",tags:["tag1","tag2"],checkboxModel:!1},{name:"Titulo do toDo",email:"o to do da lista",tags:["tag1","tag2"],checkboxModel:!1}],ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]}}},gy=by,xy=Object(sc["a"])(gy,fy,Cy,!1,null,null,null);xy.options.__file="ModeloChecklist.vue";var _y=xy.exports,qy=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticClass:"extratoItem bg-white q-pa-md q-mt-md no-shadow"},[a("q-toolbar",{staticClass:"q-pa-none q-ma-none q-mb-md",staticStyle:{"min-height":"auto"},attrs:{color:"none","text-color":"tertiary"}},[a("p",{staticClass:"q-item-label q-mb-none"},[a("q-icon",{staticClass:"q-mr-md",attrs:{name:"mdi-attachment",size:"24px"}}),e._v(" Arquivos\n    ")],1)]),a("arquivo",{ref:"arquivo"})],1)},Sy=[];qy._withStripped=!0;var Iy={components:{Arquivo:zv},data:function(){return{data:"",ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]}}},Fy=Iy,wy=Object(sc["a"])(Fy,qy,Sy,!1,null,null,null);wy.options.__file="ModeloArquivos.vue";var yy=wy.exports,Ny=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticClass:"extratoItem bg-white q-pa-md q-mt-md no-shadow"},[a("q-toolbar",{staticClass:"q-pa-none q-ma-none q-mb-md",staticStyle:{"min-height":"auto"},attrs:{color:"none","text-color":"tertiary"}},[a("p",{staticClass:"q-item-label q-mb-none"},[a("q-icon",{staticClass:"q-mr-md",attrs:{name:"mdi-chart-timeline",size:"24px"}}),e._v(" Projeto 1\n    ")],1),a("q-toolbar-title",{staticClass:"q-pa-none q-ma-none",staticStyle:{height:"0 !important","min-height":"auto"}}),a("q-btn",{attrs:{flat:"",dense:"",icon:"edit",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-pa-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-main",{attrs:{label:"Projeto 4"}})],1),a("q-item",[a("q-item-main",{attrs:{label:"Projeto 2"}})],1),a("q-item",[a("q-item-main",{attrs:{label:"Projeto 3"}})],1),a("q-item",[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Novo Projeto",outline:"",size:"xs"}})],1)],1)],1)],1)],1),a("div",{staticClass:"row"},[a("q-list",{staticClass:"q-pa-none no-border col-12",attrs:{highlight:""}},[a("q-item",{staticClass:"q-pa-xs"},[a("q-item-main",[a("q-item-tile",{attrs:{stamp:""}},[e._v("Etapa")]),a("q-item-tile",{staticClass:"q-subheading",attrs:{stamp:""}},[e._v("Status 1")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"edit",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-pa-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-main",{attrs:{label:"Status 4"}})],1),a("q-item",[a("q-item-main",{attrs:{label:"Status 2"}})],1),a("q-item",[a("q-item-main",{attrs:{label:"Status 3"}})],1)],1)],1)],1)],1)],1)],1)],1)],1)},ky=[];Ny._withStripped=!0;var My={components:{},data:function(){return{data:"",ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]}}},Py=My,Dy=(a("9039"),Object(sc["a"])(Py,Ny,ky,!1,null,"417dea3c",null));Dy.options.__file="ModeloIncluirProjetos.vue";var Ey=Dy.exports,Ty=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticClass:"extratoItem bg-white q-pa-md q-mt-md no-shadow"},[a("q-toolbar",{staticClass:"q-pa-none q-ma-none q-mb-md",staticStyle:{"min-height":"auto"},attrs:{color:"none","text-color":"tertiary"}},[a("p",{staticClass:"q-item-label q-mb-none"},[a("q-icon",{staticClass:"q-mr-md",attrs:{name:"shopping_cart",size:"24px"}}),e._v(" Classificação /\n      Carrinho\n    ")],1)]),a("div",{staticClass:"gutter-x-sm q-py-sm row"},[a("q-list",{staticClass:"q-pa-none no-border col-12",attrs:{highlight:""}},[a("q-item",{staticClass:"q-pa-xs"},[a("q-item-side",{staticClass:"q-px-none"},[a("avatar",{staticStyle:{float:"left"},attrs:{imagem:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQZH7c1xxmppduvnIzq7oevpcDCK3nDoGgqjR6-yZ7L7kHCKDeq",rotulo:"avatar",tamanho:"30"}})],1),a("q-item-main",{attrs:{label:"Descricao"}},[a("q-item-tile",{attrs:{stamp:""}},[e._v("marca")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1)],1)],1)],1),a("div",{staticClass:"q-mt-md text-center"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Produto / Serviço",outline:"",size:"xs"}})],1)],1)},Ay=[];Ty._withStripped=!0;var Oy={components:{Avatar:Fc},data:function(){return{data:"",ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]}}},$y=Oy,Ry=Object(sc["a"])($y,Ty,Ay,!1,null,null,null);Ry.options.__file="ModeloProdutosServicos.vue";var jy=Ry.exports,zy=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-card",{staticClass:"extratoItem bg-white q-pa-md no-shadow  q-mt-md"},[a("div",{staticClass:"q-pa-none border-1 DocumentoMetas row gutter-x-sm"},[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12"},[a("q-toolbar",{staticClass:"q-pa-none q-ma-none q-mb-md",staticStyle:{"min-height":"auto"},attrs:{color:"none","text-color":"tertiary"}},[a("p",{staticClass:"q-item-label q-mb-none"},[a("q-icon",{staticClass:"q-mr-md",attrs:{name:"playlist_add_check",size:"24px"}}),e._v(" Detalhe\n            ")],1)])],1),a("div",{staticClass:"col-12 "},[a("q-input",{staticClass:"bg-light q-px-md q-mb-none",attrs:{type:"textarea",placeholder:"Detalhamento da tarefa...",rows:"4"}})],1),a("div",{staticClass:" col-12 col-lg-6 col-xl-4"},[a("q-list",{staticClass:"q-pa-none no-border q-mt-md",attrs:{highlight:""}},[a("q-item",{staticClass:"q-pa-xs"},[a("q-item-side",{staticClass:"q-px-none"},[a("avatar",{staticStyle:{float:"left"},attrs:{imagem:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQZH7c1xxmppduvnIzq7oevpcDCK3nDoGgqjR6-yZ7L7kHCKDeq",rotulo:"avatar",tamanho:"30"}})],1),a("q-item-main",[a("q-item-tile",{attrs:{stamp:""}},[e._v("Solicitante")]),a("q-item-tile",{staticClass:"q-subheading",attrs:{stamp:""}},[e._v("Jim Doe")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"edit",round:""}})],1)],1)],1)],1),a("div",{staticClass:" col-12 col-lg-6 col-xl-4"},[a("q-list",{staticClass:"q-pa-none no-border q-mt-md",attrs:{highlight:""}},[a("q-item",{staticClass:"q-pa-xs"},[a("q-item-side",{staticClass:"q-px-none"},[a("avatar",{staticStyle:{float:"left"},attrs:{imagem:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQZH7c1xxmppduvnIzq7oevpcDCK3nDoGgqjR6-yZ7L7kHCKDeq",rotulo:"avatar",tamanho:"30"}})],1),a("q-item-main",[a("q-item-tile",{attrs:{stamp:""}},[e._v("Responsável")]),a("q-item-tile",{staticClass:"q-subheading",attrs:{stamp:""}},[e._v("Jim Doe")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"edit",round:""}})],1)],1)],1)],1),a("div",{staticClass:" col-12 col-xl-4  "},[a("campo",{attrs:{maxlength:"10",rotulo:"Prazo",tipo:"data"},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}})],1),a("div",{staticClass:"col-12 q-mt-md text-center"},[a("q-btn",{attrs:{color:"positive",label:"Ver mais",outline:"",size:"xs"},nativeOn:{click:function(t){e.showmetas=!e.showmetas}}})],1)]),e.showmetas?a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"DocumentoMetas-item col-12 col-lg-6 "},[a("div",{staticClass:"row q-mt-md text-faded"},[a("div",{staticClass:"DocumentoMetas-itemRotulo2 q-caption text-weight-bold col-auto q-mr-sm "},[e._v("Titulo meta")]),a("div",{staticClass:"DocumentoMetas-itemConteudo2 q-caption col"},[a("div",[e._v("Informacao meta")])])])]),a("div",{staticClass:"DocumentoMetas-item col-12 col-lg-6"},[a("div",{staticClass:"row q-mt-md text-faded"},[a("div",{staticClass:"DocumentoMetas-itemRotulo2 q-caption text-weight-bold col-auto q-mr-sm "},[e._v("Titulo meta")]),a("div",{staticClass:"DocumentoMetas-itemConteudo2 q-caption col"},[a("div",[e._v("Informacao meta")])])])]),a("div",{staticClass:"DocumentoMetas-item col-12 col-lg-6"},[a("div",{staticClass:"row q-mt-md text-faded"},[a("div",{staticClass:"DocumentoMetas-itemRotulo2 q-caption text-weight-bold col-auto q-mr-sm "},[e._v("Titulo meta")]),a("div",{staticClass:"DocumentoMetas-itemConteudo2 q-caption col"},[a("div",[e._v("Informacao meta")])])])]),a("div",{staticClass:"DocumentoMetas-item col-12 col-lg-6"},[a("div",{staticClass:"row q-mt-md text-faded"},[a("div",{staticClass:"DocumentoMetas-itemRotulo2 q-caption text-weight-bold col-auto q-mr-sm "},[e._v("Titulo meta")]),a("div",{staticClass:"DocumentoMetas-itemConteudo2 q-caption col"},[a("div",[e._v("Informacao meta")])])])])]):e._e()])]),a("q-modal",{attrs:{maximized:""},model:{value:e.modalcontatos,callback:function(t){e.modalcontatos=t},expression:"modalcontatos"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"keyboard_arrow_left"}}),a("q-toolbar-title",[e._v("Cliente X")])],1),a("div",{staticClass:"layout-padding"},[a("tarefas-dados-clientes")],1)],1)],1)],1)},By=[];zy._withStripped=!0;var Ly=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row q-mt-xl q-pt-md q-px-md"},[a("avatar",{staticStyle:{float:"left"},attrs:{imagem:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQZH7c1xxmppduvnIzq7oevpcDCK3nDoGgqjR6-yZ7L7kHCKDeq",rotulo:"avatar",tamanho:"40"}}),a("q-toolbar-title",{staticClass:"q-pt-sm"},[e._v("\n      Nome Cliente\n    ")])],1),a("q-item-separator",{attrs:{inset:""}}),a("q-list",{staticClass:"no-border"},[a("q-item",{nativeOn:{click:function(t){e.abrirTelefone(e.telefone)}}},[a("q-item-side",{attrs:{icon:"phone",color:"primary"}}),a("q-item-main",{attrs:{label:"(650) 555 - 2345"}},[a("q-item-tile",{staticClass:"q-body-2",attrs:{color:"faded"}},[e._v("Office")])],1)],1),a("q-item",{nativeOn:{click:function(t){e.abrirTelefone(e.telefone)}}},[a("q-item-main",{attrs:{inset:"",label:"(650) 555 - 2345"}},[a("q-item-tile",{staticClass:"q-body-2",attrs:{color:"faded"}},[e._v("Office")])],1),a("q-item-side",[a("q-btn",{attrs:{flat:"",dense:"",icon:"mdi-whatsapp",round:"",color:"green"}})],1)],1),a("q-item-separator",{attrs:{inset:""}}),a("q-item",{nativeOn:{click:function(t){e.abrirTelefone(e.telefone)}}},[a("q-item-side",{attrs:{icon:"mail",color:"primary"}}),a("q-item-main",{attrs:{label:"john.doe@some-company.com"}},[a("q-item-tile",{staticClass:"q-body-2",attrs:{color:"faded"}},[e._v("Office")])],1)],1),a("q-item-separator",{attrs:{inset:""}}),a("q-item",{nativeOn:{click:function(t){e.abrirTelefone(e.telefone)}}},[a("q-item-side",{attrs:{icon:"business",color:"primary"}}),a("q-item-main",{attrs:{inset:"",label:"Av. Pres. Vargas, 2001 - Jardim Irajá, Ribeirão Preto - SP, 14080-110"}},[a("q-item-tile",{staticClass:"q-body-2",attrs:{color:"faded"}},[e._v("Office")])],1)],1)],1),a("q-tabs",{staticClass:"q-mt-md ",attrs:{color:"transparent","text-color":"primary"},model:{value:e.tabsModel,callback:function(t){e.tabsModel=t},expression:"tabsModel"}},[a("q-tab",{staticClass:"q-py-none q-px-lg",attrs:{slot:"title",name:"xtab-1",label:"Pendentes",default:""},slot:"title"}),a("q-tab",{staticClass:"q-py-none q-px-lg",attrs:{slot:"title",name:"xtab-2",label:"Concluídas"},slot:"title"}),a("q-tab-pane",{staticClass:"q-pa-none",staticStyle:{"border-top":"1px solid rgba(255, 255, 255, 0.25)"},attrs:{name:"xtab-1"}},[a("q-list",{staticClass:"q-pt-none",attrs:{highlight:"","no-border":"",separator:""}},e._l(e.lista,function(t){return a("q-item",{key:t,staticClass:"q-pa-xs itemlista",nativeOn:{click:function(a){e.abrirItem(t)}}},[a("q-item-side",{staticClass:"sidecheckbox"},[a("q-checkbox",{attrs:{dark:"","keep-color":""},model:{value:e.checkboxModel,callback:function(t){e.checkboxModel=t},expression:"checkboxModel"}})],1),a("q-item-side",[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{attrs:{label:t.name}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.email))]),a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.tel))]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Tag")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("Tag")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-pa-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1)})),a("q-pagination",{staticClass:"justify-center q-mb-sm",attrs:{"text-color":"primary",min:e.minPages,max:e.maxPages},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1),a("q-tab-pane",{staticClass:"q-pa-none",staticStyle:{"border-top":"1px solid rgba(255, 255, 255, 0.25)"},attrs:{name:"xtab-2"}},[a("q-list",{staticClass:"q-pt-none",attrs:{highlight:"","no-border":"",separator:""}},e._l(e.lista,function(t){return a("q-item",{key:t,staticClass:"q-pa-xs itemlista"},[a("q-item-side",{staticClass:"sidecheckbox"},[a("q-checkbox",{attrs:{dark:"","keep-color":""},model:{value:e.checkboxModel,callback:function(t){e.checkboxModel=t},expression:"checkboxModel"}})],1),a("q-item-side",[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{attrs:{label:t.name}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.email))]),a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.tel))]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Tag")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("Tag")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-pa-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1)})),a("q-pagination",{staticClass:"justify-center q-mb-sm",attrs:{"text-color":"primary",min:e.minPages,max:e.maxPages},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1)],1)},Vy=[];Ly._withStripped=!0;var Uy={components:{Avatar:Fc,Badge:Bd},data:function(){return{data:"",ratingModel:"",checkboxModel:[],lista:[{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1}],selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]}},methods:{abrirURL:uw["a"],abrirTelefone:function(e){if(alert("abrirTelefone"),e.telefone){var t="WhatsApp"===e.tipoTelefone?"https://api.whatsapp.com/send?phone=":"tel:+";this.abrirURL(t+this.formatarTelefone(e.telefone))}}}},Hy=Uy,Qy=Object(sc["a"])(Hy,Ly,Vy,!1,null,null,null);Qy.options.__file="TarefasDadosClientes.vue";var Gy=Qy.exports,Jy={components:{Avatar:Fc,Campo:Sl,TarefasDadosClientes:Gy},data:function(){return{data:"",modalcontatos:!1,ratingModel:"",showmetas:!1,selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]}},methods:{abrirModalContatos:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.modalcontatos=!0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},watch:{},created:function(){}},Xy=Jy,Yy=(a("00e4"),Object(sc["a"])(Xy,zy,By,!1,null,"0b4fd5e2",null));Yy.options.__file="ModeloAssunto.vue";var Wy=Yy.exports,Zy=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticClass:"extratoItem bg-white q-pa-md q-mt-md no-shadow"},[a("q-toolbar",{staticClass:"q-pa-none q-ma-none q-mb-md",staticStyle:{"min-height":"auto"},attrs:{color:"none","text-color":"tertiary"}},[a("p",{staticClass:"q-item-label q-mb-none"},[a("q-icon",{staticClass:"q-mr-md",attrs:{name:"people",size:"24px"}}),e._v(" Convidados\n    ")],1)]),a("div",{staticClass:"gutter-x-sm q-py-sm row"},[a("q-list",{staticClass:"q-pa-none no-border col-12",attrs:{highlight:""}},[a("q-item",{staticClass:"q-pa-xs"},[a("q-item-side",{staticClass:"q-px-none"},[a("avatar",{staticStyle:{float:"left"},attrs:{imagem:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQZH7c1xxmppduvnIzq7oevpcDCK3nDoGgqjR6-yZ7L7kHCKDeq",rotulo:"avatar",tamanho:"30"}})],1),a("q-item-main",{attrs:{label:"Descricao"}},[a("q-item-tile",{attrs:{stamp:""}},[e._v("marca")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1)],1)],1)],1),a("div",{staticClass:"q-mt-md text-center"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Convidado",outline:"",size:"xs"}})],1)],1)},Ky=[];Zy._withStripped=!0;var eN={components:{Avatar:Fc},data:function(){return{data:"",ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]}}},tN=eN,aN=Object(sc["a"])(tN,Zy,Ky,!1,null,null,null);aN.options.__file="ModeloConvidados.vue";var oN=aN.exports,iN={components:{Avatar:Fc,Badge:Bd,TarefasConvidados:oN,TarefasAssunto:Wy,TarefasChecklist:_y,TarefasArquivos:yy,TarefasIncluirProjetos:Ey,TarefasProdutosServicos:jy},data:function(){return{showkanbanm:!1,showganttm:!1,showtarefas:!0,showkanban:!1,showgantt:!1,opened:!1,data:"",lista:[{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1}],ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],select:[],modelchips:["teste","cliente 2"]}},methods:{carregaComponent:function(e){"showtarefas"===e&&(this.showtarefas=!0,this.showkanban=!1,this.showgantt=!1),"showkanban"===e&&(this.showtarefas=!1,this.showkanban=!0,this.showgantt=!1),"showgantt"===e&&(this.showtarefas=!1,this.showkanban=!1,this.showgantt=!0)},abrirModal:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.opened=!0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},watch:{},created:function(){}},rN=iN,sN=(a("4f64"),Object(sc["a"])(rN,vy,hy,!1,null,"76fe34a5",null));sN.options.__file="ModeloDocumento.vue";var nN=sN.exports,cN=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"TarefasLista",attrs:{view:"hHh Lpr lFr"}},[a("div",{staticClass:"u-container q-py-sm"},[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"q-pl-sm border-1 q-mb-none DocumentoMetas text-faded row"},[a("div",{staticClass:"col-12 col-lg"},[a("q-field",[a("q-input",{staticClass:"q-title",attrs:{placeholder:"Assunto",value:"Assunto"}})],1)],1),a("div",{staticClass:"col-12 col-lg-auto "},[a("badge",{staticClass:"q-mx-sm q-mt-sm",attrs:{cor:"positive",icone:"flag",escuro:""}},[e._v("\n              Status\n            ")]),a("badge",{staticClass:"q-mt-sm",attrs:{cor:"faded",escuro:"",icone:"playlist_add_check"}},[e._v("\n              #0001\n            ")]),a("q-btn",{staticClass:"q-mx-sm",attrs:{color:"primary",icon:"print",flat:"",dense:"",round:""}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:"Imprimir Orçamento"}})],1),a("q-item",[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:"Imprimir Envelope"}})],1)],1)],1)],1),a("q-btn",{attrs:{color:"primary",icon:"person",flat:"",dense:"",round:""}})],1)]),a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12 col-lg-7 items-stretch"},[a("tarefas-assunto"),a("q-card",{staticClass:"extratoItem bg-white q-pa-md  q-mt-md no-shadow"},[a("q-toolbar",{staticClass:"q-pa-none q-ma-none q-mb-md",staticStyle:{"min-height":"auto"},attrs:{color:"none","text-color":"black"}},[a("p",{staticClass:"q-item-label q-mb-none",staticStyle:{color:"#0c0c0c"}},[a("q-icon",{staticClass:"q-mr-md ",staticStyle:{color:"#737373"},attrs:{name:"history",size:"24px"}}),e._v("\n                  Atividades\n                ")],1)]),a("q-toolbar-title",{staticClass:"q-px-none"},[a("q-search",{ref:"buscaCampo",staticStyle:{"max-width":"990px",margin:"0 auto"},attrs:{color:"none",placeholder:"Buscar"},model:{value:e.buscaCampo,callback:function(t){e.buscaCampo=t},expression:"buscaCampo"}})],1),a("q-list",{staticClass:"q-px-none",attrs:{highlight:""}},[a("q-list-header",[e._v("24/09/2020")]),e._l(e.lista,function(t){return a("q-item",{key:t,staticClass:"q-py-xs"},[a("q-item-side",[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{attrs:{label:t.name}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.email))]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",denso:"",cor:"positive"}},[e._v("Tag")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",denso:"",cor:"primary"}},[e._v("Tag")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-pa-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1)}),a("q-item-separator"),a("q-list-header",[e._v("22/09/2020")]),e._l(e.lista,function(t){return a("q-item",{key:t,staticClass:"q-py-xs"},[a("q-item-side",[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{attrs:{label:t.name}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.email))]),a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.tel))]),a("badge",{staticClass:"q-mr-sm",attrs:{denso:"",escuro:"",cor:"positive"}},[e._v("Tag")]),a("badge",{staticClass:"q-mr-sm",attrs:{denso:"",escuro:"",cor:"primary"}},[e._v("Tag")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-pa-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1)})],2)],1)],1),a("div",{staticClass:"col-12 col-lg-5 items-stretch"},[a("tarefas-incluir-projetos"),a("tarefas-produtos-servicos"),a("tarefas-arquivos"),a("tarefas-checklist"),a("tarefas-convidados")],1)])])])])])},lN=[];cN._withStripped=!0;var dN={components:{Avatar:Fc,Badge:Bd,TarefasConvidados:oN,TarefasAssunto:Wy,TarefasChecklist:_y,TarefasArquivos:yy,TarefasIncluirProjetos:Ey,TarefasProdutosServicos:jy},data:function(){return{showkanbanm:!1,showganttm:!1,showtarefas:!0,showkanban:!1,showgantt:!1,opened:!1,data:"",lista:[{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1}],ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],select:[],modelchips:["teste","cliente 2"]}},methods:{carregaComponent:function(e){"showtarefas"===e&&(this.showtarefas=!0,this.showkanban=!1,this.showgantt=!1),"showkanban"===e&&(this.showtarefas=!1,this.showkanban=!0,this.showgantt=!1),"showgantt"===e&&(this.showtarefas=!1,this.showkanban=!1,this.showgantt=!0)},abrirModal:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.opened=!0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},watch:{},created:function(){}},uN=dN,mN=(a("d34e"),Object(sc["a"])(uN,cN,lN,!1,null,"4fd60662",null));mN.options.__file="ModeloDocumentoModal.vue";var pN=mN.exports,vN=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-toolbar",{staticClass:"q-py-sm",attrs:{color:"transparent"}},[a("q-btn-group",{staticClass:"no-shadow"},[a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"vertical_split",color:e.sectionBT?"white":"none","text-color":e.sectionBT?"primary":"white"},nativeOn:{click:function(t){e.clicou("section")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"view_column",color:e.kanban?"white":"none","text-color":e.kanban?"primary":"white"},nativeOn:{click:function(t){e.clicou("kanban")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"mdi-chart-gantt",color:e.gantt?"white":"none","text-color":e.gantt?"primary":"white"},nativeOn:{click:function(t){e.clicou("gantt")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"view_headline",color:e.listBT?"white":"none","text-color":e.listBT?"primary":"white"},nativeOn:{click:function(t){e.clicou("list")}}})],1),a("q-toolbar-title",{staticClass:"q-px-none"}),a("q-btn",{staticClass:"no-shadow",attrs:{color:"white","text-color":"primary",icon:"add",label:"Tarefas",size:"md",dense:""}})],1),a("q-toolbar",{attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"q-px-none"},[a("q-search",{ref:"buscaCampo",staticStyle:{"max-width":"990px",margin:"0 auto"},attrs:{color:"none",inverted:"",placeholder:"Buscar"},model:{value:e.buscaCampo,callback:function(t){e.buscaCampo=t},expression:"buscaCampo"}})],1),a("q-btn",{staticClass:"no-shadow q-ml-xs q-px-xs",attrs:{icon:"mdi-filter",flat:"",dense:"",round:""},on:{click:e.abrirFiltro}})],1),a("q-tabs",{staticClass:"q-mt-md ",attrs:{color:"none","text-color":"white"},model:{value:e.tabsModel,callback:function(t){e.tabsModel=t},expression:"tabsModel"}},[a("q-tab",{staticClass:"q-py-none q-px-lg",attrs:{slot:"title",name:"xtab-1",label:"Label 1",default:""},slot:"title"}),a("q-tab",{staticClass:"q-py-none q-px-lg",attrs:{slot:"title",name:"xtab-2",label:"Label 2"},slot:"title"}),a("q-tab-pane",{staticClass:"q-pa-none",staticStyle:{"border-top":"1px solid rgba(255, 255, 255, 0.25)"},attrs:{name:"xtab-1"}},[a("q-list",{staticClass:"q-pt-none",attrs:{highlight:"","no-border":"",separator:""}},e._l(e.lista,function(t){return a("q-item",{key:t,staticClass:"q-pa-xs itemlista",nativeOn:{click:function(a){e.abrirItem(t)}}},[a("q-item-side",{staticClass:"sidecheckbox"},[a("q-checkbox",{attrs:{dark:"","keep-color":"",color:"white"},model:{value:e.checkboxModel,callback:function(t){e.checkboxModel=t},expression:"checkboxModel"}})],1),a("q-item-side",[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{staticClass:"text-white",attrs:{label:t.name}},[a("q-item-tile",{staticClass:"text-white",attrs:{stamp:""}},[e._v(e._s(t.email))]),a("q-item-tile",{staticClass:"text-white",attrs:{stamp:""}},[e._v(e._s(t.tel))]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Tag")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("Tag")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",color:"white",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-pa-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1)})),a("q-pagination",{staticClass:"justify-center q-mb-sm",attrs:{color:"white","text-color":"primary",min:e.minPages,max:e.maxPages},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1),a("q-tab-pane",{staticClass:"q-pa-none",staticStyle:{"border-top":"1px solid rgba(255, 255, 255, 0.25)"},attrs:{name:"xtab-2"}},[a("q-list",{staticClass:"q-pt-none",attrs:{highlight:"","no-border":"",separator:""}},e._l(e.lista,function(t){return a("q-item",{key:t,staticClass:"q-pa-xs itemlista"},[a("q-item-side",{staticClass:"sidecheckbox"},[a("q-checkbox",{attrs:{dark:"","keep-color":"",color:"white"},model:{value:e.checkboxModel,callback:function(t){e.checkboxModel=t},expression:"checkboxModel"}})],1),a("q-item-side",[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{staticClass:"text-white",attrs:{label:t.name}},[a("q-item-tile",{staticClass:"text-white",attrs:{stamp:""}},[e._v(e._s(t.email))]),a("q-item-tile",{staticClass:"text-white",attrs:{stamp:""}},[e._v(e._s(t.tel))]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Tag")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("Tag")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",color:"white",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-pa-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1)})),a("q-pagination",{staticClass:"justify-center q-mb-sm",attrs:{color:"white","text-color":"primary",min:e.minPages,max:e.maxPages},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1)],1)},hN=[];vN._withStripped=!0;var fN={components:{Avatar:Fc,Badge:Bd},props:{sectionBT:{default:!0,type:Boolean},listBT:{default:!1,type:Boolean}},data:function(){return{tabsModel:"xtab-1",lista:[{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1}],page:1,minPages:1,maxPages:5,buscaCampo:"",checkboxModel:[],carregando:!1,contatosEmpresa:[],dados:{},empresas:{selected:[],options:[]},empresasSelecionadas:[],erroEmpresas:!1,erroPeriodo:!1,filtro:{codigoClienteSistema:"",codigoContatoUsuario:"",dataConsulta:"",empresas:[],periodo:{ini:null,fim:""}},showingHelp:!1,showFilters:!0,showFiltersOpt:!0,gantt:!1,kanban:!1}},methods:{isMobile:function(){return window.innerWidth<768},filtrar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log("filtrar");case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),clicou:function(e){"kanban"===e&&(this.section=!1,this.kanban=!0,this.gantt=!1,this.list=!1),"gantt"===e&&(this.section=!1,this.kanban=!1,this.gantt=!0,this.list=!1),"section"===e&&(this.section=!0,this.kanban=!1,this.gantt=!1,this.list=!1),"list"===e&&(this.section=!1,this.list=!0,this.kanban=!1,this.gantt=!1),"section"===e&&this.isMobile()?this.showFiltersOpt=!1:this.$emit("myEvent",e)},abrirItem:function(e){this.$emit("abrirItem",e)},abrirFiltro:function(){this.$emit("abrirFiltro")}}},CN=fN,bN=(a("0691"),Object(sc["a"])(CN,vN,hN,!1,null,"31436e2c",null));bN.options.__file="ModeloMenu.vue";var gN=bN.exports,xN={components:{ModeloMenu:gN,TarefasDadosClientes:Qw,TarefasKanban:sy,TarefasGantt:py,TarefasLista:nN,TarefasListaModal:pN,BarraTopo:El,Avatar:Fc,Badge:Bd},computed:{},data:function(){return{showsectionm:!1,tabsModel:"xtab-1",lista:[{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"]},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1}],showAllPreviewDetail:!1,page:1,minPages:1,maxPages:5,buscaCampo:"",checkboxModel:[],carregando:!1,contatosEmpresa:[],dados:{},empresas:{selected:[],options:[]},empresasSelecionadas:[],erroEmpresas:!1,erroPeriodo:!1,filtro:{codigoClienteSistema:"",codigoContatoUsuario:"",dataConsulta:"",empresas:[],periodo:{ini:null,fim:""}},showingHelp:!1,showFilters:!1,showList:!1,gantt:!1,kanban:!1,ganttL:!1,kanbanL:!1,section:!1,list:!0,left:!1}},watch:{showFilters:function(e){!0===e?this.showList=!1:!0!==this.section&&!0!==this.kanban&&!0!==this.gantt||(this.showList=!0)}},methods:{filtrar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log("filtrar");case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),abrirTodosPreview:function(){if(this.showAllPreviewDetail=!this.showAllPreviewDetail,this.showAllPreviewDetail)for(var e in this.lista)this.lista[e].showPreviewDetail=!0;else for(var t in this.lista)this.lista[t].showPreviewDetail=!1},abrirFiltro:function(){!0===this.section||!0===this.kanban||!0===this.gantt?this.left=!0:this.left=!1,this.showFilters=!this.showFilters},carregaComponent:function(e){this.showFilters=!1,"kanban"===e&&(this.section=!1,this.kanban=!0,this.gantt=!1,this.list=!1,this.showList=!0,this.ganttL=!1,this.kanbanL=!1,this.left=!0),"gantt"===e&&(this.section=!1,this.kanban=!1,this.gantt=!0,this.list=!1,this.showList=!0,this.ganttL=!1,this.kanbanL=!1,this.left=!0),"section"===e&&(this.section=!0,this.kanban=!1,this.gantt=!1,this.list=!1,this.showList=!0,this.ganttL=!1,this.kanbanL=!1,this.left=!0),"ganttL"===e&&(this.section=!1,this.kanban=!1,this.kanbanL=!1,this.gantt=!1,this.ganttL=!0,this.list=!1,this.showList=!1,this.left=!1),"kanbanL"===e&&(this.section=!1,this.kanban=!1,this.kanbanL=!0,this.gantt=!1,this.ganttL=!1,this.list=!1,this.showList=!1,this.left=!1),"list"===e&&(this.left=!1,this.section=!1,this.showList=!1,this.list=!0,this.kanban=!1,this.gantt=!1,this.ganttL=!1,this.kanbanL=!1)}}},_N=xN,qN=(a("3ee9"),Object(sc["a"])(_N,jw,zw,!1,null,null,null));qN.options.__file="Modelo.vue";var SN=qN.exports,IN=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"ModeloFinanceiro"},[a("barra-topo"),a("q-page-container",[a("q-page",[a("div",{staticClass:"container-fluid "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 ",attrs:{id:"mydrwaerfin"}},[a("div",{staticClass:"background q-pa-sm "},[a("q-toolbar",{staticClass:" q-pa-none",attrs:{color:"none"}},[a("avatar",{attrs:{imagem:"statics/avatar.jpg",rotulo:"jim dow",tamanho:"40"}}),a("q-toolbar-title",[a("div",{staticClass:"text-white q-mx-xs q-subheading"},[e._v("\n                    3 empresas\n                  ")])]),a("q-btn",{staticClass:"no-shadow q-mr-xs",attrs:{icon:"mdi-refresh",size:"lg",flat:"",dense:""}},[a("q-tooltip",[e._v("\n                    Atualizado em: 16/10/2020\n                  ")])],1),a("q-btn",{staticClass:"no-shadow",attrs:{icon:"mdi-filter",size:"lg",flat:"",dense:""},on:{click:function(t){e.showFilters=!0}}})],1),a("div",{staticClass:"row q-pa-none q-mt-md q-mb-sm justify-center"},[a("q-btn",{attrs:{icon:"keyboard_arrow_left",round:"",flat:"","text-color":"white"}}),a("q-btn",{attrs:{icon:"event_available",label:"Outubro/2020",flat:"","text-color":"white"},on:{click:function(t){e.openedPeriodo=!0}}}),a("q-btn",{attrs:{icon:"keyboard_arrow_right",round:"",flat:"","text-color":"white"}})],1),a("q-toolbar",{staticClass:"q-pa-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"text-white q-px-none"},[a("small",{staticClass:"q-mb-none",staticStyle:{"font-size":".9rem"}},[e._v("Cartões")])]),a("span",{staticClass:"text-weight-bold q-title q-mt-none"},[e._v("17,24")])],1),a("q-carousel",{staticClass:"text-white",attrs:{arrows:""}},[a("q-carousel-slide",{staticClass:"q-py-none q-my-sm"},[a("q-card",{staticClass:"q-pa-sm q-px-md shadow-2 card-bank",attrs:{color:"purple-5"}},[a("q-toolbar",{staticClass:" q-pa-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-pa-none q-title text-weight-bold text-primary"},[a("avatar",{attrs:{imagem:"statics/nubank.png",rotulo:"jim dow",tamanho:"40"}})],1),a("avatar",{attrs:{imagem:"statics/master.png",rotulo:"jim dow",tamanho:"40"}})],1),a("div",{staticClass:"progress full-width q-my-sm"},[a("div",{staticClass:"progress-bar progress-bar-animated progress-bar-striped bg-black",staticStyle:{width:"50%"}}),a("div",{staticClass:"progress-bar progress-bar-animated progress-bar-striped bg-dark",staticStyle:{width:"50%"}})]),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"transparent",dark:""}},[a("q-toolbar-title",{staticClass:"q-headline text-weight-bold text-white q-px-none"},[e._v("\n                        999.999,99\n                        "),a("q-tooltip",[e._v("\n                          Fatura Atual\n                        ")])],1),a("small",{staticClass:"text-white text-right"},[e._v("\n                        999.999,99\n                        "),a("q-tooltip",[e._v("\n                          Limite Disponível\n                        ")])],1)],1)],1)],1),a("q-carousel-slide",{staticClass:"q-py-none q-my-sm"},[a("q-card",{staticClass:"q-pa-sm q-px-md shadow-2 card-bank",attrs:{color:"yellow-6"}},[a("q-toolbar",{staticClass:" q-pa-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-pa-none q-title text-weight-bold text-primary"},[a("avatar",{attrs:{imagem:"statics/bb.jpg",rotulo:"jim dow",tamanho:"40"}})],1),a("avatar",{attrs:{imagem:"statics/visa.png",rotulo:"jim dow",tamanho:"40"}})],1),a("div",{staticClass:"progress full-width q-my-sm"},[a("div",{staticClass:"progress-bar progress-bar-animated progress-bar-striped bg-black",staticStyle:{width:"50%"}}),a("div",{staticClass:"progress-bar progress-bar-animated progress-bar-striped bg-dark",staticStyle:{width:"50%"}})]),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"transparent",dark:""}},[a("q-toolbar-title",{staticClass:"q-headline text-weight-bold text-black q-px-none"},[e._v("\n                        999999,99\n                        "),a("q-tooltip",[e._v("\n                          Fatura Atual\n                        ")])],1),a("small",{staticClass:"text-black text-right"},[e._v("\n                        999999,99\n                        "),a("q-tooltip",[e._v("\n                          Limite Disponível\n                        ")])],1)],1)],1)],1),a("q-carousel-slide",{staticClass:"q-py-none q-my-sm"},[a("q-card",{staticClass:"q-pa-sm q-px-md shadow-2 card-bank",attrs:{color:"orange-6"}},[a("q-toolbar",{staticClass:" q-pa-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-pa-none q-title text-weight-bold text-primary"},[a("avatar",{attrs:{imagem:"statics/itau.png",rotulo:"jim dow",tamanho:"40"}})],1),a("avatar",{attrs:{imagem:"statics/elo.jpg",rotulo:"jim dow",tamanho:"40"}})],1),a("div",{staticClass:"progress full-width q-my-sm"},[a("div",{staticClass:"progress-bar progress-bar-animated progress-bar-striped bg-black",staticStyle:{width:"50%"}}),a("div",{staticClass:"progress-bar progress-bar-animated progress-bar-striped bg-dark",staticStyle:{width:"50%"}})]),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"transparent",dark:""}},[a("q-toolbar-title",{staticClass:"q-headline text-weight-bold text-white q-px-none"},[e._v("\n                        999999,99\n                        "),a("q-tooltip",[e._v("\n                          Fatura Atual\n                        ")])],1),a("small",{staticClass:"text-white text-right"},[e._v("\n                        999999,99\n                        "),a("q-tooltip",[e._v("\n                          Limite Disponível\n                        ")])],1)],1)],1)],1)],1),a("hr",{staticStyle:{opacity:".15","background-color":"white"}}),a("q-toolbar",{staticClass:"q-pa-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"text-white q-px-none"},[a("small",{staticClass:"q-mb-none",staticStyle:{"font-size":".9rem"}},[e._v("Contas")])]),a("span",{staticClass:"text-weight-bold q-title q-mt-none"},[e._v("5794,75")])],1),a("q-carousel",{staticClass:"text-white",attrs:{arrows:""}},[a("q-carousel-slide",{staticClass:"q-py-none q-my-sm"},[a("q-card",{staticClass:"q-pa-sm  no-shadow",attrs:{color:"white"}},[a("q-card-main",{staticClass:"q-pa-none text-dark "},[e._v("\n                      Conta Y\n                    ")]),a("q-toolbar",{staticClass:"q-pa-none",attrs:{color:"transparent",dark:""}},[a("q-toolbar-title",{staticClass:"q-headline text-weight-bold text-primary q-px-none"},[e._v("\n                        1.292.456,25\n\n                      ")]),a("small",{staticClass:"text-dark text-right"},[a("q-icon",{attrs:{name:"mdi-bank-transfer-in"}}),a("span",{staticClass:"text-positive"},[e._v("194.535,23")]),a("Br"),a("q-icon",{attrs:{name:"mdi-bank-transfer-out"}}),a("span",{staticClass:"text-negative"},[e._v("1.912.455,23")])],1)],1)],1)],1),a("q-carousel-slide",{staticClass:"q-py-none q-my-sm"},[a("q-card",{staticClass:"q-pa-sm  no-shadow",attrs:{color:"white"}},[a("q-card-main",{staticClass:"q-pa-none text-dark "},[e._v("\n                      Conta X\n                    ")]),a("q-toolbar",{staticClass:"q-pa-none",attrs:{color:"transparent",dark:""}},[a("q-toolbar-title",{staticClass:"q-headline text-weight-bold text-primary q-px-none"},[e._v("\n                        1.598.856,25\n\n                      ")]),a("small",{staticClass:"text-dark text-right"},[a("q-icon",{attrs:{name:"mdi-bank-transfer-in"}}),a("span",{staticClass:"text-positive"},[e._v("194.535,23")]),a("Br"),a("q-icon",{attrs:{name:"mdi-bank-transfer-out"}}),a("span",{staticClass:"text-negative"},[e._v("1.912.455,23")])],1)],1)],1)],1)],1),a("hr",{staticClass:"q-mt-md",staticStyle:{opacity:".15","background-color":"white"}}),a("q-toolbar",{staticClass:"q-pa-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"text-white q-px-none"},[a("small",{staticClass:"q-mb-none",staticStyle:{"font-size":".9rem"}},[e._v("Investimentos")])]),a("span",{staticClass:"text-weight-bold q-title q-mt-none"},[e._v("17,24")])],1),a("q-carousel",{staticClass:"text-white",attrs:{arrows:""}},[a("q-carousel-slide",{staticClass:"q-py-none q-my-sm"},[a("q-card",{staticClass:"q-pa-sm q-px-md no-shadow",attrs:{color:"white"}},[a("q-card-main",{staticClass:"q-pa-none text-dark "},[e._v("\n                      Conta Y\n                    ")]),a("q-toolbar",{staticClass:"q-pa-none",attrs:{color:"transparent",dark:""}},[a("q-toolbar-title",{staticClass:"q-headline text-weight-bold text-primary q-px-none"},[e._v("\n                        132.956,25\n\n                      ")]),a("small",{staticClass:"text-positive text-right"},[a("span",{staticClass:"text-dark"},[e._v("\n                          165.450,23\n                        ")]),a("br"),e._v("\n                        Δ 0,00%\n\n                      ")])],1)],1)],1),a("q-carousel-slide",{staticClass:"q-py-none q-my-sm"},[a("q-card",{staticClass:"q-pa-sm q-px-md no-shadow",attrs:{color:"white"}},[a("q-card-main",{staticClass:"q-pa-none text-dark "},[e._v("\n                      Conta X\n                    ")]),a("q-toolbar",{staticClass:"q-pa-none",attrs:{color:"transparent",dark:""}},[a("q-toolbar-title",{staticClass:"q-headline text-weight-bold text-primary q-px-none"},[e._v("\n                        156.956,25\n\n                      ")]),a("small",{staticClass:"text-negative text-right"},[a("span",{staticClass:"text-dark"},[e._v("\n                          15.530,23\n                        ")]),a("br"),e._v("\n                        Δ 0,00%\n\n                      ")])],1)],1)],1)],1),a("div",{staticClass:"row absoluteBottom q-px-none"},[a("div",{staticClass:"col-6 q-py-xs q-px-xs q-mx-none text-white grandienteReceita",on:{click:function(t){e.openedReceitas=!0}}},[a("div",{staticClass:"q-body-2"},[e._v("Receita")]),a("div",{staticClass:"progress full-width q-mt-xs"},[a("div",{staticClass:"progress-bar progress-bar-animated progress-bar-striped bg-green-10",staticStyle:{width:"50%"}}),a("div",{staticClass:"progress-bar progress-bar-animated progress-bar-striped bg-green-3",staticStyle:{width:"50%"}})]),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"transparent",dark:""}},[a("q-toolbar-title",{staticClass:"q-body-2 text-weight-bold text-white q-px-none"},[e._v("\n                      999.999,99\n                      "),a("q-tooltip",[e._v("\n                        Recebido\n                      ")])],1),a("small",{staticClass:"text-white text-right"},[e._v("\n                      999.999,99\n                      "),a("q-tooltip",[e._v("\n                        Receber\n                      ")])],1)],1)],1),a("div",{staticClass:"col-6 q-py-xs q-px-xs q-mx-none text-white gradienteDespesa",on:{click:function(t){e.openedDespesas=!0}}},[a("div",{staticClass:"q-body-2"},[e._v("Despesa")]),a("div",{staticClass:"progress full-width q-mt-xs"},[a("div",{staticClass:"progress-bar progress-bar-animated progress-bar-striped bg-red-10",staticStyle:{width:"50%"}}),a("div",{staticClass:"progress-bar progress-bar-animated progress-bar-striped bg-red-3",staticStyle:{width:"50%"}})]),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"transparent",dark:""}},[a("q-toolbar-title",{staticClass:"q-body-2 text-weight-bold text-white q-px-none"},[e._v("\n                      999.999,99\n                      "),a("q-tooltip",[e._v("\n                        Pago\n                      ")])],1),a("small",{staticClass:"text-white text-right"},[e._v("\n                      999.999,99\n                      "),a("q-tooltip",[e._v("\n                        Pagar\n                      ")])],1)],1)],1)]),a("q-tabs",{staticClass:"fixedBottom hideondesktop q-px-none q-mx-none ",attrs:{color:"light-blue-10"}},[a("q-tab",{staticClass:"q-caption",attrs:{slot:"title",name:"tab-1",icon:"mdi-qrcode",label:"PIX"},slot:"title"}),a("q-tab",{staticClass:"q-caption",attrs:{slot:"title",alert:"",name:"tab-2",icon:"mdi-cash-multiple",label:"Receber"},slot:"title"}),a("q-tab",{staticClass:"q-caption",attrs:{slot:"title",count:"5",name:"tab-3",icon:"mdi-barcode-scan",label:"Pagar"},slot:"title"}),a("q-tab",{staticClass:"q-caption",attrs:{slot:"title",name:"tab-4",icon:"more_vert",label:"Outros"},slot:"title"})],1)],1)]),a("div",{staticClass:"col-12 col-lg hideonmobile"},[a("div",{staticClass:"q-pa-md"},[a("q-tabs",{staticClass:"q-px-none q-mx-none q-mb-md",attrs:{color:"transparent","text-color":"black","underline-color":"transparent"}},[a("q-tab",{staticClass:"q-caption likebutton",attrs:{slot:"title",name:"tab-1",icon:"mdi-qrcode",label:"PIX"},slot:"title"}),a("q-tab",{staticClass:"q-caption likebutton",attrs:{slot:"title",alert:"",name:"tab-2",icon:"mdi-cash-multiple",label:"Receber"},slot:"title"}),a("q-tab",{staticClass:"q-caption likebutton",attrs:{slot:"title",count:"5",name:"tab-3",icon:"mdi-barcode-scan",label:"Pagar"},slot:"title"}),a("q-tab",{staticClass:"q-caption likebutton",attrs:{slot:"title",name:"tab-4",icon:"more_vert",label:"Outros"},slot:"title"})],1),a("div",{staticClass:"row gutter-sm"},[a("div",{staticClass:"col-12 col-lg-4 "},[a("q-card",{staticClass:"full-width no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("div",{staticClass:"q-body-2 q-pa-none text-dark text-left"},[e._v("\n                        Receitas\n                      ")]),a("q-tabs",{attrs:{color:"transparent","text-color":"green"},model:{value:e.tabsModel,callback:function(t){e.tabsModel=t},expression:"tabsModel"}},[a("q-tab",{attrs:{slot:"title",name:"xtab-1",label:"Receber",default:""},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"xtab-2",label:"Recebido"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"xtab-3",label:"Todas"},slot:"title"}),a("q-tab-pane",{staticClass:"q-pa-none",staticStyle:{"border-top":"1px solid #e0e0e0"},attrs:{name:"xtab-1"}},[e._l(e.lista,function(t){return a("q-list",{key:t,staticClass:"q-py-none qListaItems"},[a("q-item",{staticClass:"itemLista text-dark"},[a("q-item-side",{staticClass:"sidecheckbox"},[a("q-checkbox",{model:{value:e.checkboxModel,callback:function(t){e.checkboxModel=t},expression:"checkboxModel"}})],1),a("q-item-side",[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{staticClass:"hideondesktop"},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.name))]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Tag")]),a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.valor))])],1),a("q-item-main",{staticClass:"hideonmobile"},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.name))])],1),a("q-item-main",{staticClass:"hideonmobile"},[a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("\n                                  Tag\n                                ")])],1),a("q-item-main",{staticClass:"hideonmobile"},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.valor))])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-py-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1),a("q-item-separator")],1)}),a("q-pagination",{staticClass:"justify-center q-mb-sm",attrs:{input:"",color:"dark",min:e.minPages,max:e.maxPages},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],2),a("q-tab-pane",{staticClass:"q-pa-none",staticStyle:{"border-top":"1px solid #e0e0e0"},attrs:{name:"xtab-2"}},[e._l(e.lista,function(t){return a("q-list",{key:t,staticClass:"q-py-none qListaItems"},[a("q-item",{staticClass:"itemLista text-dark"},[a("q-item-side",{staticClass:"sidecheckbox"},[a("q-checkbox",{model:{value:e.checkboxModel,callback:function(t){e.checkboxModel=t},expression:"checkboxModel"}})],1),a("q-item-side",[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{staticClass:"hideondesktop"},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.name))]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Tag")]),a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.valor))])],1),a("q-item-main",{staticClass:"hideonmobile"},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.name))])],1),a("q-item-main",{staticClass:"hideonmobile"},[a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("\n                                  Tag\n                                ")])],1),a("q-item-main",{staticClass:"hideonmobile"},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.valor))])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-py-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1),a("q-item-separator")],1)}),a("q-pagination",{staticClass:"justify-center q-mb-sm",attrs:{input:"",color:"dark",min:e.minPages,max:e.maxPages},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],2),a("q-tab-pane",{staticClass:"q-pa-none",staticStyle:{"border-top":"1px solid #e0e0e0"},attrs:{name:"xtab-3"}},[e._l(e.lista,function(t){return a("q-list",{key:t,staticClass:"q-py-none qListaItems"},[a("q-item",{staticClass:"itemLista text-dark"},[a("q-item-side",{staticClass:"sidecheckbox"},[a("q-checkbox",{model:{value:e.checkboxModel,callback:function(t){e.checkboxModel=t},expression:"checkboxModel"}})],1),a("q-item-side",[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{staticClass:"hideondesktop"},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.name))]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Tag")]),a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.valor))])],1),a("q-item-main",{staticClass:"hideonmobile"},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.name))])],1),a("q-item-main",{staticClass:"hideonmobile"},[a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("\n                                  Tag\n                                ")])],1),a("q-item-main",{staticClass:"hideonmobile"},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.valor))])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-py-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1),a("q-item-separator")],1)}),a("q-pagination",{staticClass:"justify-center q-mb-sm",attrs:{input:"",color:"dark",min:e.minPages,max:e.maxPages},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],2)],1)],1)],1),a("q-card",{staticClass:"q-mt-md full-width no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("div",{staticClass:"q-body-2 q-pa-none text-dark text-left"},[e._v("\n                        Despesas\n                      ")]),a("q-tabs",{attrs:{color:"transparent","text-color":"red"},model:{value:e.tabsModel2,callback:function(t){e.tabsModel2=t},expression:"tabsModel2"}},[a("q-tab",{attrs:{slot:"title",name:"xtab-1",label:"Pagar",default:""},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"xtab-2",label:"Pago"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"xtab-3",label:"Todas"},slot:"title"}),a("q-tab-pane",{staticClass:"q-pa-none",staticStyle:{"border-top":"1px solid #e0e0e0"},attrs:{name:"xtab-1"}},[e._l(e.lista,function(t){return a("q-list",{key:t,staticClass:"q-py-none qListaItems"},[a("q-item",{staticClass:"itemLista text-dark"},[a("q-item-side",{staticClass:"sidecheckbox"},[a("q-checkbox",{model:{value:e.checkboxModel,callback:function(t){e.checkboxModel=t},expression:"checkboxModel"}})],1),a("q-item-side",[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{staticClass:"hideondesktop"},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.name))]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Tag")]),a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.valor))])],1),a("q-item-main",{staticClass:"hideonmobile"},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.name))])],1),a("q-item-main",{staticClass:"hideonmobile"},[a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"negative"}},[e._v("\n                                  Tag\n                                ")])],1),a("q-item-main",{staticClass:"hideonmobile"},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.valor))])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-py-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1),a("q-item-separator")],1)}),a("q-pagination",{staticClass:"justify-center q-mb-sm",attrs:{input:"",color:"dark",min:e.minPages,max:e.maxPages},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],2),a("q-tab-pane",{staticClass:"q-pa-none",staticStyle:{"border-top":"1px solid #e0e0e0"},attrs:{name:"xtab-2"}},[e._l(e.lista,function(t){return a("q-list",{key:t,staticClass:"q-py-none qListaItems"},[a("q-item",{staticClass:"itemLista text-dark"},[a("q-item-side",{staticClass:"sidecheckbox"},[a("q-checkbox",{model:{value:e.checkboxModel,callback:function(t){e.checkboxModel=t},expression:"checkboxModel"}})],1),a("q-item-side",[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{staticClass:"hideondesktop"},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.name))]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Tag")]),a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.valor))])],1),a("q-item-main",{staticClass:"hideonmobile"},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.name))])],1),a("q-item-main",{staticClass:"hideonmobile"},[a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"negative"}},[e._v("\n                                  Tag\n                                ")])],1),a("q-item-main",{staticClass:"hideonmobile"},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.valor))])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-py-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1),a("q-item-separator")],1)}),a("q-pagination",{staticClass:"justify-center q-mb-sm",attrs:{input:"",color:"dark",min:e.minPages,max:e.maxPages},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],2),a("q-tab-pane",{staticClass:"q-pa-none",staticStyle:{"border-top":"1px solid #e0e0e0"},attrs:{name:"xtab-3"}},[e._l(e.lista,function(t){return a("q-list",{key:t,staticClass:"q-py-none qListaItems"},[a("q-item",{staticClass:"itemLista text-dark"},[a("q-item-side",{staticClass:"sidecheckbox"},[a("q-checkbox",{model:{value:e.checkboxModel,callback:function(t){e.checkboxModel=t},expression:"checkboxModel"}})],1),a("q-item-side",[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{staticClass:"hideondesktop"},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.name))]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Tag")]),a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.valor))])],1),a("q-item-main",{staticClass:"hideonmobile"},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.name))])],1),a("q-item-main",{staticClass:"hideonmobile"},[a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"negative"}},[e._v("\n                                  Tag\n                                ")])],1),a("q-item-main",{staticClass:"hideonmobile"},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.valor))])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-py-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1),a("q-item-separator")],1)}),a("q-pagination",{staticClass:"justify-center q-mb-sm",attrs:{input:"",color:"dark",min:e.minPages,max:e.maxPages},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],2)],1)],1)],1)],1),a("div",{staticClass:"col-12 col-lg-8 "},[a("div",{staticClass:"row full-height gutter-sm"},[a("div",{staticClass:"col-6"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("div",{staticClass:"q-body-2 q-pa-none text-dark text-left"},[e._v("\n                            DRE\n                          ")]),a("q-table",{staticClass:"no-shadow",attrs:{data:e.tableData,columns:e.columns,"row-key":"name",dense:""}})],1)],1)],1),a("div",{staticClass:"col-6"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("div",{staticClass:"q-body-2 q-pa-none text-dark text-left"},[e._v("\n                            Balanço\n                          ")]),a("q-table",{staticClass:"no-shadow",attrs:{data:e.tableData,columns:e.columns,"row-key":"name",dense:""}})],1)],1)],1)])]),a("div",{staticClass:"col-12 col-lg-4 "},[a("q-card",{staticClass:"full-width fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"transparent","text-color":"dark"}},[a("q-toolbar-title",{staticClass:"q-body-2 q-px-none"},[e._v("\n                          Previsto 100.000,00\n                        ")]),e._v("\n                        Atual 85.000,0\n                      ")],1),a("grafico-doughnut",{attrs:{dados:e.publicoAlvo.genero.graficoPizza,opcoes:e.publicoAlvo.genero.graficoPizza.cfg}})],1)],1)],1),a("div",{staticClass:"col-12 col-lg-8 "},[a("q-card",{staticClass:"full-width fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("div",{staticClass:"q-body-2 q-pa-none text-dark text-left"},[e._v("\n                        Fluxo de Caixa\n                      ")]),a("grafico-barras",{attrs:{dados:e.publicoAlvo.genero.graficoBarras,opcoes:e.publicoAlvo.genero.graficoBarras.cfg}})],1)],1)],1)])],1)])])])])],1),a("q-modal",{attrs:{maximized:""},model:{value:e.openedReceitas,callback:function(t){e.openedReceitas=t},expression:"openedReceitas"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header",color:"primary"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",color:"white",icon:"arrow_back",round:""}}),a("div",{staticClass:"q-subheading text-white"},[e._v("Receitas")])],1),a("div",{staticClass:"layout-padding q-pa-md "},[a("q-list",{staticClass:"no-border q-py-none",attrs:{highlight:""}},[a("q-item",{staticClass:"q-pa-sm"},[a("q-item-side",{attrs:{icon:"trending_up",inverted:"",color:"light","text-color":"positive"}}),a("q-item-main",[a("q-item-tile",{staticClass:"q-mb-none"},[e._v("SETEMBRO/2020")])],1),a("q-item-side",{attrs:{right:""}},[a("q-item-tile",{attrs:{stamp:""}},[a("strong",[e._v("+ 500,00")])])],1)],1),a("q-item",{staticClass:"q-pa-sm"},[a("q-item-side",{attrs:{icon:"trending_down",inverted:"",color:"light","text-color":"negative"}}),a("q-item-main",[a("q-item-tile",{staticClass:"q-mb-none"},[e._v("AGOSTO/2020")])],1),a("q-item-side",{attrs:{right:""}},[a("q-item-tile",{attrs:{stamp:""}},[a("strong",[e._v("- 196,00")])])],1)],1),a("q-item",{staticClass:"q-pa-sm"},[a("q-item-side",{attrs:{icon:"trending_up",inverted:"",color:"light","text-color":"positive"}}),a("q-item-main",[a("q-item-tile",{staticClass:"q-mb-none"},[e._v("JULHO/2020")])],1),a("q-item-side",{attrs:{right:""}},[a("q-item-tile",{attrs:{stamp:""}},[a("strong",[e._v("+ 500,00")])])],1)],1),a("q-item",{staticClass:"q-pa-sm"},[a("q-item-side",{attrs:{icon:"trending_down",inverted:"",color:"light","text-color":"negative"}}),a("q-item-main",[a("q-item-tile",{staticClass:"q-mb-none"},[e._v("JUNHO/2020")])],1),a("q-item-side",{attrs:{right:""}},[a("q-item-tile",{attrs:{stamp:""}},[a("strong",[e._v("- 196,00")])])],1)],1)],1)],1)],1)],1),a("q-modal",{attrs:{maximized:""},model:{value:e.openedDespesas,callback:function(t){e.openedDespesas=t},expression:"openedDespesas"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header",color:"primary"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",color:"white",icon:"arrow_back",round:""}}),a("div",{staticClass:"q-subheading text-white"},[e._v("Despesas")])],1),a("div",{staticClass:"layout-padding q-pa-md "},[a("q-list",{staticClass:"no-border q-py-none",attrs:{highlight:""}},[a("q-item",{staticClass:"q-pa-sm"},[a("q-item-side",{attrs:{icon:"trending_up",inverted:"",color:"light","text-color":"positive"}}),a("q-item-main",[a("q-item-tile",{staticClass:"q-mb-none"},[e._v("SETEMBRO/2020")])],1),a("q-item-side",{attrs:{right:""}},[a("q-item-tile",{attrs:{stamp:""}},[a("strong",[e._v("+ 500,00")])])],1)],1),a("q-item",{staticClass:"q-pa-sm"},[a("q-item-side",{attrs:{icon:"trending_down",inverted:"",color:"light","text-color":"negative"}}),a("q-item-main",[a("q-item-tile",{staticClass:"q-mb-none"},[e._v("AGOSTO/2020")])],1),a("q-item-side",{attrs:{right:""}},[a("q-item-tile",{attrs:{stamp:""}},[a("strong",[e._v("- 196,00")])])],1)],1),a("q-item",{staticClass:"q-pa-sm"},[a("q-item-side",{attrs:{icon:"trending_up",inverted:"",color:"light","text-color":"positive"}}),a("q-item-main",[a("q-item-tile",{staticClass:"q-mb-none"},[e._v("JULHO/2020")])],1),a("q-item-side",{attrs:{right:""}},[a("q-item-tile",{attrs:{stamp:""}},[a("strong",[e._v("+ 500,00")])])],1)],1),a("q-item",{staticClass:"q-pa-sm"},[a("q-item-side",{attrs:{icon:"trending_down",inverted:"",color:"light","text-color":"negative"}}),a("q-item-main",[a("q-item-tile",{staticClass:"q-mb-none"},[e._v("JUNHO/2020")])],1),a("q-item-side",{attrs:{right:""}},[a("q-item-tile",{attrs:{stamp:""}},[a("strong",[e._v("- 196,00")])])],1)],1)],1)],1)],1)],1),a("q-modal",{model:{value:e.openedPeriodo,callback:function(t){e.openedPeriodo=t},expression:"openedPeriodo"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header",color:"primary"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",color:"white",icon:"arrow_back",round:""}}),a("div",{staticClass:"q-subheading text-white"},[e._v("Filtrar por período")])],1),a("div",{staticClass:"layout-padding q-pa-md "},[a("q-list",{staticClass:"no-border q-py-none",attrs:{highlight:""}},[a("q-item",{staticClass:"q-pa-sm"},[a("q-item-side",{attrs:{icon:"trending_up",inverted:"",color:"light","text-color":"positive"}}),a("q-item-main",[a("q-item-tile",{staticClass:"q-mb-none"},[e._v("SETEMBRO/2020")])],1),a("q-item-side",{attrs:{right:""}},[a("q-item-tile",{attrs:{stamp:""}},[a("strong",[e._v("+ 500,00")])])],1)],1),a("q-item",{staticClass:"q-pa-sm"},[a("q-item-side",{attrs:{icon:"trending_down",inverted:"",color:"light","text-color":"negative"}}),a("q-item-main",[a("q-item-tile",{staticClass:"q-mb-none"},[e._v("AGOSTO/2020")])],1),a("q-item-side",{attrs:{right:""}},[a("q-item-tile",{attrs:{stamp:""}},[a("strong",[e._v("- 196,00")])])],1)],1),a("q-item",{staticClass:"q-pa-sm"},[a("q-item-side",{attrs:{icon:"trending_up",inverted:"",color:"light","text-color":"positive"}}),a("q-item-main",[a("q-item-tile",{staticClass:"q-mb-none"},[e._v("JULHO/2020")])],1),a("q-item-side",{attrs:{right:""}},[a("q-item-tile",{attrs:{stamp:""}},[a("strong",[e._v("+ 500,00")])])],1)],1),a("q-item",{staticClass:"q-pa-sm"},[a("q-item-side",{attrs:{icon:"trending_down",inverted:"",color:"light","text-color":"negative"}}),a("q-item-main",[a("q-item-tile",{staticClass:"q-mb-none"},[e._v("JUNHO/2020")])],1),a("q-item-side",{attrs:{right:""}},[a("q-item-tile",{attrs:{stamp:""}},[a("strong",[e._v("- 196,00")])])],1)],1)],1)],1)],1)],1),a("q-layout-drawer",{attrs:{id:"mydrawer",overlay:"","content-class":"mydrawerFL"},model:{value:e.showFilters,callback:function(t){e.showFilters=t},expression:"showFilters"}},[a("q-toolbar",{attrs:{color:"white","text-color":"faded"}},[a("q-icon",{attrs:{name:"mdi-filter",color:"faded"}}),a("q-toolbar-title",{staticClass:"q-subheading"},[e._v("Filtrar")]),a("q-btn",{attrs:{dense:"",flat:"",icon:"close",round:""},on:{click:function(t){e.showFilters=!e.showFilters}}})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 row q-px-md"},[a("h1",{staticClass:"col-12 q-body-2 text-dark"},[e._v("Empresas")]),a("q-chips-input",{staticClass:"no-shadow full-width",staticStyle:{"border-bottom":"1px solid white"},attrs:{multiple:"",color:"transparent",placeholder:"Buscar empresa","chips-color":"white","chips-bg-color":"primary"},model:{value:e.empresas.selected,callback:function(t){e.$set(e.empresas,"selected",t)},expression:"empresas.selected"}})],1),a("div",{staticClass:"col-12 row q-px-md q-mt-lg"},[a("h1",{staticClass:"col-12 q-body-2 text-dark"},[e._v("Período")]),a("div",{staticClass:"col-6 "},[a("q-datetime",{staticClass:"no-shadow full-width q-px-none q-body-2",staticStyle:{"border-bottom":"1px solid white"},attrs:{type:"date",minimal:"",prefix:"De"},model:{value:e.filtro.periodo.ini,callback:function(t){e.$set(e.filtro.periodo,"ini",t)},expression:"filtro.periodo.ini"}})],1),a("div",{staticClass:"col-6 "},[a("q-datetime",{staticClass:"no-shadow full-width q-px-none q-body-2",staticStyle:{"border-bottom":"1px solid white"},attrs:{type:"date",minimal:"",prefix:"até"},model:{value:e.filtro.periodo.fim,callback:function(t){e.$set(e.filtro.periodo,"fim",t)},expression:"filtro.periodo.fim"}})],1)]),a("div",{staticClass:"col-12 row q-px-md q-mt-lg"},[a("q-btn",{staticClass:"col-12",attrs:{color:"primary",label:"Aplicar"}})],1)])],1)],1)},FN=[];IN._withStripped=!0;var wN,yN,NN={extends:qg["b"],props:{dados:{default:null,type:Object},opcoes:{default:null,type:Object}},watch:{dados:function(){this.renderChart(this.dados,this.opcoes)}},mounted:function(){this.renderChart(this.dados,this.opcoes)}},kN=NN,MN=Object(sc["a"])(kN,wN,yN,!1,null,null,null);MN.options.__file="GraficoDoughnut.vue";var PN=MN.exports,DN={components:{BarraTopo:El,Badge:Bd,Avatar:Fc,GraficoBarras:yS,GraficoDoughnut:PN},computed:{publicoAlvo:function(){return{genero:{graficoBarras:{labels:["0 a 10","11 a 18","18 a 25","26 a 40","41 a 60","> 60"],datasets:[{label:"Masculino",type:"bar",backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgb(75, 192, 192)",borderWidth:1,data:[90560,8035,10974,1081,6335,7540]},{label:"Feminino",type:"bar",backgroundColor:"rgba(219, 40, 40, 0.25)",borderColor:"rgb(219, 40, 40)",borderWidth:1,data:[52500,7650,80875,9030,15635,30240]}],cfg:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]},legend:{position:"top"}}},graficoPizza:{type:"pie",labels:["Receber","Pagar","Recebido","Pago"],datasets:[{label:"Gênero",backgroundColor:["rgb(75, 192, 192)","rgb(219, 40, 40)","rgb(75, 50, 38)","rgb(75, 40, 90)"],data:[60,40,30,20]}],cfg:{responsive:!0}}}}}},data:function(){return{checkboxModel:[],tabsModel:"xtab-1",tabsModel2:"xtab-1",page:1,minPages:1,maxPages:5,lista:[{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",valor:"999.999,00",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",valor:"999.999,00",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",valor:"999.999,00",tag:["tag1","tag2"]}],empresas:{selected:[],options:[]},empresasSelecionadas:[],filtro:{codigoClienteSistema:"",codigoContatoUsuario:"",dataConsulta:"",empresas:[],periodo:{ini:null,fim:""}},showFilters:!1,openedReceitas:!1,openedDespesas:!1,openedPeriodo:!1,columns:[{name:"desc",required:!0,label:"",align:"left",field:"name",sortable:!0,classes:"my-class"},{name:"desc",required:!0,label:"Mês",align:"left",field:"calories",sortable:!0,classes:"my-class"},{name:"desc",required:!0,label:"2020",align:"left",field:"fat",sortable:!0,classes:"my-class"}],tableData:[{name:"RECEITA",calories:159,fat:6},{name:"Impostos",calories:159,fat:6},{name:"Despesa Comercial",calories:159,fat:6},{name:"MARGEM DE CONTRIBUIÇÃO",calories:159,fat:6},{name:"Encargos Sociais",calories:159,fat:6},{name:"Despesa Fixa",calories:159,fat:6},{name:"Imobilizado",calories:159,fat:6},{name:"DESPESA TOTAL",calories:159,fat:6},{name:"Despesas Financeiras",calories:159,fat:6},{name:"RESULTADO",calories:159,fat:6}],dados:{selected:"",selectOptions:[{label:"Out/2020",value:"goog"},{label:"SET/2020",value:"fb"}],empresaselecionada:["Principal"],empresa:[{label:"Principal",value:"Principal"},{label:"Empresa X",value:"Emprexa X"},{label:"Emprexa P",value:"Emprexa P"},{label:"Emprexa T",value:"Emprexa T"},{label:"Emprexa O",value:"Emprexa O"}]},section:!0}},watch:{},methods:{}},EN=DN,TN=(a("f51d"),a("15f9"),Object(sc["a"])(EN,IN,FN,!1,null,"170d1373",null));TN.options.__file="ModeloFinanceiro.vue";var AN=TN.exports,ON=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Club"},[a("q-layout-header",{staticClass:"topbar",attrs:{reveal:""}},[a("div",{staticClass:"u-container q-px-none"},[a("q-toolbar",{attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"q-px-none"},[e.mostrarLogo?a("img",{attrs:{src:"statics/logo-inverted.png",alt:"",height:"28"}}):e._e()]),a("q-btn",{attrs:{dense:"",flat:"",icon:"mdi-chart-timeline",color:"white",cround:"",size:"md"}},[a("q-tooltip",[e._v("Extrato")])],1),a("div",{staticClass:"BarraTopo-separador hideonmobile"}),a("q-btn",{attrs:{dense:"",flat:"",icon:"mdi-check-all",color:"white",cround:"",size:"md"}},[a("q-tooltip",[e._v("Tarefas")])],1),a("div",{staticClass:"BarraTopo-separador hideonmobile"}),a("q-btn",{attrs:{color:"white",dense:"",flat:"",icon:"mdi-shopping",round:"",size:"md"}},[a("q-tooltip",[e._v("Últimas compras")])],1),a("div",{staticClass:"BarraTopo-separador hideonmobile"}),a("q-btn",{attrs:{color:"white",dense:"",flat:"",icon:"mdi-map-marker-circle",round:"",size:"md"}},[a("q-tooltip",[e._v("Lugares Favoritos")])],1),a("div",{staticClass:"BarraTopo-separador hideonmobile"}),a("q-btn",{attrs:{color:"white",dense:"",flat:"",icon:"person_add",round:"",size:"md"}},[a("q-tooltip",[e._v("Indique um Amigo")])],1)],1)],1)]),a("q-page-container",[a("q-page",{staticClass:"u-container"},[a("q-scroll-observable",{on:{scroll:e.userHasScrolled}}),a("q-toolbar",{staticClass:"q-px-none q-my-md cliente",attrs:{color:"transparent"}},[a("q-toolbar-title",[a("img",{staticClass:"q-mx-sm q-mt-xs imgavatar",attrs:{src:"statics/b15.svg",alt:"",height:"36"}})]),a("div",{staticClass:"row"},[a("a",{staticClass:"botaoTopo q-btn q-btn-flat text-tertiary q-ma-xs q-caption",attrs:{href:""}},[a("q-icon",{attrs:{name:"mdi-food",size:"28px"}}),a("div",{staticClass:"q-mt-sm"},[e._v("Restaurantes")])],1),a("a",{staticClass:"botaoTopo q-btn q-btn-flat text-tertiary q-ma-xs q-caption",attrs:{href:""}},[a("q-icon",{attrs:{name:"mdi-beer",size:"28px"}}),a("div",{staticClass:"q-mt-sm"},[e._v("Bares e Boates")])],1),a("a",{staticClass:"botaoTopo q-btn q-btn-flat text-tertiary q-ma-xs q-caption",attrs:{href:""}},[a("q-icon",{attrs:{name:"mdi-microphone-variant",size:"28px"}}),a("div",{staticClass:"q-mt-sm"},[e._v("Eventos")])],1)])],1),a("q-toolbar-title",{staticClass:"q-pa-none bg-white arredondado hideonmobile bordered",staticStyle:{"margin-top":"-4px"}},[a("div",{staticClass:"filters row q-pa-xs q-ma-xs q-ml-none gutter-x-sm arredondado ",staticStyle:{"min-height":"50px"}},[a("q-btn",{staticClass:"q-ml-sm arredondadobt no-shadow q-title",staticStyle:{"pointer-events":"none"},attrs:{color:"white","text-color":"tertiary",icon:"search"}}),a("div",{staticClass:"col"},[a("q-input",{attrs:{color:"dark","stack-label":"Produto ou Serviço"}})],1),a("div",{staticClass:"col"},[a("q-input",{attrs:{color:"dark","stack-label":"Lugar"}})],1),a("div",{staticClass:"col"},[a("q-input",{attrs:{color:"dark","stack-label":"Cidade"}})],1),a("q-btn",{staticClass:"q-ml-sm q-px-xl arredondadobt",attrs:{color:"primary",label:"BUSCAR"}})],1)]),a("q-toolbar-title",{staticClass:"q-pa-none bg-white arredondado hideondesktop bordered",staticStyle:{"margin-top":"-4px"}},[a("div",{staticClass:"filters q-px-xs q-ma-xs q-ml-none gutter-x-sm arredondado ",staticStyle:{"min-height":"50px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("q-input",{attrs:{color:"dark","stack-label":"Produto / Serviço / Lugar / Cidade"}})],1),a("div",{staticClass:"col-auto"},[a("q-btn",{staticStyle:{"margin-top":"6px"},attrs:{color:"primary",icon:"search",round:""}})],1)])])]),a("div",{staticClass:"row gutter-x-md"},[a("div",{staticClass:"col-12 col-lg-6 q-mb-xs"},[a("q-card",{staticClass:"fit no-shadow bordered q-mt-md",attrs:{inline:"",color:"primary"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("q-card-main",{staticClass:"q-pa-none text-white text-left"},[e._v("\n                Carteira\n              ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-left text-lime-12 q-px-none",staticStyle:{"line-height":"33px"}},[e._v("\n                "+e._s(e._f("numero")(684,2))+"\n\n\n\n                "),a("q-btn",{staticClass:"no-shadow q-ml-sm",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-barcode-scan",color:"white","text-color":"primary"}}),a("q-btn",{staticClass:"no-shadow q-ml-sm",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-bank-transfer",color:"negative"}}),a("q-btn",{staticClass:"no-shadow q-ml-sm",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-chart-timeline",color:"amber-7"}})],1),a("small",{staticClass:"text-white"},[e._v("Última compra\n                "),a("strong",[e._v(e._s(e._f("numero")(1e4,2)))]),a("br")])],1)],1)],1),a("div",{staticClass:"col-12 col-lg-6 q-mb-xs"},[a("q-card",{staticClass:" fit no-shadow bordered q-mt-md",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-left"},[e._v("\n                Tarefas\n              ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-left text-primary q-px-none",staticStyle:{"line-height":"33px"}},[e._v("\n                5/18\n\n                "),a("q-btn",{staticClass:"no-shadow q-ml-sm",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-alarm-plus",color:"primary"}}),a("q-btn",{staticClass:"no-shadow  q-ml-sm",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-check-all",color:"negative"}})],1)],1)],1)],1)]),a("div",{staticClass:"q-display-1 text-primary q-mt-xl q-mb-xs q-mx-md"},[a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"mdi-shopping",round:"",size:"xl",disabled:""}}),e._v("\n        Últimas compras\n      ")],1),a("q-carousel",{staticClass:"hideonmobile",attrs:{color:"white",arrows:""}},[a("q-carousel-slide",{staticClass:"q-py-md "},[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12 col-md-6 col-lg-3 q-my-sm"},[a("q-card",{staticClass:" bg-white shadow-10 full-height row "},[a("q-card-media",{staticClass:"full-width  self-start"},[a("img",{attrs:{src:"statics/produto2.jpg"}})]),a("q-card-title",{staticClass:"q-mb-none full-width  self-start q-pb-none text-dark"},[e._v("\n                  Cafe Basilico\n\n\n                ")]),a("q-card-main",{staticClass:"full-width self-start text-right"},[a("p",{staticClass:"q-headline q-mb-none text-dark"},[a("strong",[e._v("R$50,00")])])]),a("q-card-actions",{staticClass:"self-end full-width q-py-none"},[a("q-card-separator",{staticClass:"full-width"}),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none text-left"},[a("q-field",{staticClass:"col-3 q-px-sm q-pt-xs",staticStyle:{"margin-top":"-18px","max-width":"60%"}},[a("campo",{attrs:{min:"0",tipo:"quantidade","hide-underline":""},model:{value:e.qtd,callback:function(t){e.qtd=t},expression:"qtd"}}),a("q-tooltip",[e._v("Quantidade")])],1)],1),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",color:"primary",label:"Saiba mais"},nativeOn:{click:function(t){e.goTo("/clubprodutosingle")}}})],1)],1)],1)],1),a("div",{staticClass:"col-12 col-md-6 col-lg-3 q-my-sm"},[a("q-card",{staticClass:" bg-white shadow-10 full-height row "},[a("q-card-media",{staticClass:"full-width  self-start"},[a("img",{attrs:{src:"statics/produto3.jpg"}})]),a("q-card-title",{staticClass:"q-mb-none full-width  self-start q-pb-none text-dark"},[e._v("\n                  Cafe Basilico\n\n\n                ")]),a("q-card-main",{staticClass:"full-width self-start text-right"},[a("p",{staticClass:"q-headline q-mb-none text-dark"},[a("strong",[e._v("R$50,00")])])]),a("q-card-actions",{staticClass:"self-end full-width q-py-none"},[a("q-card-separator",{staticClass:"full-width"}),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none text-left"},[a("q-btn",{attrs:{flat:"",color:"negative",label:"Adicionar"}})],1),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",color:"primary",label:"Saiba mais"},nativeOn:{click:function(t){e.goTo("/clubprodutosingle")}}})],1)],1)],1)],1),a("div",{staticClass:"col-12 col-md-6 col-lg-3 q-my-sm"},[a("q-card",{staticClass:" bg-white shadow-10 full-height row "},[a("q-card-media",{staticClass:"full-width  self-start"},[a("img",{attrs:{src:"statics/produto4.jpg"}})]),a("q-card-title",{staticClass:"q-mb-none full-width  self-start q-pb-none text-dark"},[e._v("\n                  Cafe Basilico\n\n\n                ")]),a("q-card-main",{staticClass:"full-width self-start text-right"},[a("p",{staticClass:"q-headline q-mb-none text-dark"},[a("strong",[e._v("R$50,00")])])]),a("q-card-actions",{staticClass:"self-end full-width q-py-none"},[a("q-card-separator",{staticClass:"full-width"}),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none text-left"},[a("q-btn",{attrs:{flat:"",color:"negative",label:"Adicionar"}})],1),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",color:"primary",label:"Saiba mais"},nativeOn:{click:function(t){e.goTo("/clubprodutosingle")}}})],1)],1)],1)],1),a("div",{staticClass:"col-12 col-md-6 col-lg-3 q-my-sm"},[a("q-card",{staticClass:" bg-white shadow-10 full-height row "},[a("q-card-media",{staticClass:"full-width  self-start"},[a("img",{attrs:{src:"statics/produto5.jpg"}})]),a("q-card-title",{staticClass:"q-mb-none full-width  self-start q-pb-none text-dark"},[e._v("\n                  Cafe Basilico\n\n\n                ")]),a("q-card-main",{staticClass:"full-width self-start text-right"},[a("p",{staticClass:"q-headline q-mb-none text-dark"},[a("strong",[e._v("R$50,00")])])]),a("q-card-actions",{staticClass:"self-end full-width q-py-none"},[a("q-card-separator",{staticClass:"full-width"}),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none text-left"},[a("q-btn",{attrs:{flat:"",color:"negative",label:"Adicionar"}})],1),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",color:"primary",label:"Saiba mais"},nativeOn:{click:function(t){e.goTo("/clubprodutosingle")}}})],1)],1)],1)],1)])]),a("q-carousel-slide",{staticClass:"q-py-md "},[a("div",{staticClass:"row gutter-x-sm"},e._l(4,function(t){return a("div",{key:t,staticClass:"col-12 col-md-6 col-lg-3 q-my-sm"},[a("q-card",{staticClass:" bg-white shadow-10 full-height row "},[a("q-card-media",{staticClass:"full-width  self-start"},[a("img",{attrs:{src:"statics/produto2.jpg"}})]),a("q-card-title",{staticClass:"q-mb-none full-width  self-start q-pb-none text-dark"},[e._v("\n                  Cafe Basilico "+e._s(t)+"\n\n\n                ")]),a("q-card-main",{staticClass:"full-width self-start text-right"},[a("p",{staticClass:"q-headline q-mb-none text-dark"},[a("strong",[e._v("R$50,00")])])]),a("q-card-actions",{staticClass:"self-end full-width q-py-none"},[a("q-card-separator",{staticClass:"full-width"}),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none text-left"},[a("q-field",{staticClass:"col-3 q-px-sm q-pt-xs",staticStyle:{"margin-top":"-18px","max-width":"60%"}},[a("campo",{attrs:{min:"0",tipo:"quantidade","hide-underline":""},model:{value:e.qtd,callback:function(t){e.qtd=t},expression:"qtd"}}),a("q-tooltip",[e._v("Quantidade")])],1)],1),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",color:"primary",label:"Saiba mais"},nativeOn:{click:function(t){e.goTo("/clubprodutosingle")}}})],1)],1)],1)],1)}))])],1),a("div",{staticClass:"q-pa-sm hideondesktop"},[e._l(4,function(t){return a("q-card",{key:t,staticClass:"q-my-sm shadow-5 bg-white ",attrs:{inline:""},nativeOn:{click:function(t){e.goTo("/clubsingle")}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("q-card-media",{staticStyle:{height:"100% !important"}},[a("img",{staticClass:"arredondadoLT",staticStyle:{"margin-top":"0"},attrs:{src:"statics/produto5.jpg"}})])],1),a("div",{staticClass:"col"},[a("q-card-title",{staticClass:"q-mb-none q-py-sm"},[a("div",{staticClass:"q-subheading text-dark"},[a("strong",[e._v("Cafe Basilico")])])]),a("q-card-main",{staticClass:"full-width self-end text-right"},[a("p",{staticClass:"q-headline q-mb-none text-dark"},[a("strong",[e._v("R$50,00")])])])],1)]),a("q-card-actions",{staticClass:"self-end full-width q-py-none"},[a("q-card-separator",{staticClass:"full-width"}),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none text-left"},[a("q-btn",{attrs:{flat:"",color:"negative",label:"Adicionar"}})],1),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",color:"primary",label:"Saiba mais"},nativeOn:{click:function(t){e.goTo("/clubprodutosingle")}}})],1)],1)],1)}),a("q-btn",{staticClass:"q-my-md q-mx-sm full-width arredondadoMinibt",attrs:{color:"primary",size:"md",label:"Ver mais"}})],2),a("div",{staticClass:"q-display-1 text-dark q-mt-lg q-mb-xs q-mx-md"},[a("q-btn",{attrs:{color:"dark",dense:"",flat:"",icon:"mdi-map-marker-circle",round:"",size:"xl",disabled:""}}),e._v("\n        Locais favoritos\n      ")],1),a("q-carousel",{staticClass:"q-mb-xl hideonmobile",staticStyle:{"margin-top":"-6px"},attrs:{color:"white",arrows:""}},[a("q-carousel-slide",{staticClass:"q-py-none"},[a("div",{staticClass:"row gutter-x-sm q-pb-lg"},e._l(4,function(t){return a("div",{key:t,staticClass:"col-12 col-md-3 q-py-sm"},[a("q-card",{staticClass:"q-ma-sm shadow-10 bg-dark",attrs:{inline:""},nativeOn:{click:function(t){e.goTo("/clubsingle")}}},[a("q-card-media",[a("img",{attrs:{src:"statics/produto5.jpg"}})]),a("q-card-title",{staticClass:"q-mb-none q-py-sm"},[a("div",{staticClass:"q-headline text-white"},[a("strong",[e._v("Cafe Basilico "+e._s(t))])])]),a("q-card-main",[a("p",{staticClass:"text-white q-mb-none"},[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce\n                    efficitur arcu vitae ex rutrum varius. ")])])],1)],1)}))]),a("q-carousel-slide",{staticClass:"q-py-none"},[a("div",{staticClass:"row gutter-x-sm q-pb-lg"},e._l(4,function(t){return a("div",{key:t,staticClass:"col-12 col-md-3 q-py-sm"},[a("q-card",{staticClass:"q-ma-sm shadow-10 bg-dark",attrs:{inline:""},nativeOn:{click:function(t){e.goTo("/clubsingle")}}},[a("q-card-media",[a("img",{attrs:{src:"statics/produto5.jpg"}})]),a("q-card-title",{staticClass:"q-mb-none"},[a("div",{staticClass:"q-headline text-white"},[a("strong",[e._v("Cafe Basilico "+e._s(t))])])]),a("q-card-main",[a("p",{staticClass:"text-white q-mb-none"},[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce\n                    efficitur arcu vitae ex rutrum varius. ")])])],1)],1)}))])],1),a("div",{staticClass:"q-pt-md q-pb-lg q-px-sm hideondesktop"},[e._l(4,function(t){return a("q-card",{key:t,staticClass:"q-my-sm shadow-5 bg-dark ",attrs:{inline:""},nativeOn:{click:function(t){e.goTo("/clubsingle")}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("q-card-media",{staticStyle:{height:"100% !important"}},[a("img",{staticClass:"arredondadoL",staticStyle:{"margin-top":"0"},attrs:{src:"statics/produto5.jpg"}})])],1),a("div",{staticClass:"col"},[a("q-card-title",{staticClass:"q-mb-none q-py-sm"},[a("div",{staticClass:"q-subheading text-white"},[a("strong",[e._v("Cafe Basilico "+e._s(t))])])]),a("q-card-main",{staticClass:"q-pb-none"},[a("p",{staticClass:"text-white q-mb-none q-caption q-mb-none"},[e._v("Lorem ipsum dolor sit amet, consectetur\n                  adipiscing elit. ")])])],1)])])}),a("q-btn",{staticClass:"q-my-md q-mx-sm full-width arredondadoMinibt",attrs:{color:"primary",size:"md",label:"Ver mais"}})],2)],1)],1),a("footer",{staticClass:"text-white q-py-md hideonmobile"},[a("div",{staticClass:"u-container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("div",{staticClass:"q-headline q-mx-md"},[e._v(" Explore por segmentos")])]),a("div",{staticClass:"col-8"},[a("div",{staticClass:"q-headline q-mx-md"},[e._v(" Explore por cidades")])]),a("div",{staticClass:"col-12 col-md-4"},[a("ul",e._l(4,function(t){return a("li",{key:t,staticClass:"q-body-2 q-mb-sm"},[e._v("Segmento "+e._s(t))])}))]),a("div",{staticClass:"col-12 col-md-4"},[a("ul",e._l(4,function(t){return a("li",{key:t,staticClass:"q-body-2 q-mb-sm"},[e._v("Cidade "+e._s(t))])}))]),a("div",{staticClass:"col-12 col-md-4"},[a("ul",e._l(4,function(t){return a("li",{key:t,staticClass:"q-body-2 q-mb-sm"},[e._v("Cidade "+e._s(t+4))])}))])])])]),a("div",{staticClass:"copy text-white q-caption q-py-sm"},[a("div",{staticClass:"u-container"},[a("div",{staticClass:"row q-py-md"},[a("div",{staticClass:"col-12 col-lg-8"},[a("p",{staticClass:"q-mb-none q-mx-md q-pt-sm"},[e._v("CNPJ 07.660.198/0001-89 / Av. Presidente Vargas, 2001, CJ 45, Jardim\n            América,\n            Ribeirão Preto / SP - CEP 14020-525")])]),a("div",{staticClass:"col-12 col-lg-4 q-pr-sm",staticStyle:{"text-align":"right"}},[a("p",{staticClass:"q-py-none"},[e._v("Ecosistema "),e.mostrarLogo?a("img",{staticClass:"q-ml-xs",staticStyle:{"margin-bottom":"-7px"},attrs:{src:"statics/logo-inverted.png",alt:"",height:"25"}}):e._e()])])])])])],1)},$N=[];ON._withStripped=!0;var RN={components:{Campo:Sl},computed:{},data:function(){return{opened:!1,openedM:!1,openedC:!1,qtd:0,grupos:[],mostrarLogo:!1,select:"",selectOptions:[{label:"Cidade",value:"goog"},{label:"Produto",value:"goog"},{label:"Empresa",value:"fb"}]}},methods:{abrirClub:function(){this.opened=!0},userHasScrolled:function(e){this.mostrarLogo=e.position>=102},goTo:function(e){this.$router.push(e)}}},jN=RN,zN=(a("7fbc"),Object(sc["a"])(jN,ON,$N,!1,null,"5234aaae",null));zN.options.__file="ClubApp.vue";var BN=zN.exports,LN=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Club"},[a("barra-topo"),a("q-page-container",[a("q-page",{staticClass:"u-container"},[a("q-toolbar",{staticClass:"q-py-sm",attrs:{color:"none"}},[a("avatar",{attrs:{imagem:"statics/tocosbar.jpg",tamanho:"40"}}),a("q-toolbar-title",[e._v("\n          Nome\n        ")]),a("q-btn",{attrs:{flat:"",dense:"",icon:"search",round:"",size:"lg"}},[a("q-tooltip",[e._v("Buscar")])],1),a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"lg"}},[a("q-popover",[a("q-list",{attrs:{link:"","no-border":"",separator:""}},[a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"search"}}),a("q-item-main",{attrs:{label:"Buscar excluídos"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"import_export"}}),a("q-item-main",{attrs:{label:"Importar contatos"}})],1)],1)],1)],1)],1),a("q-tabs",{staticClass:"q-mb-lg",attrs:{align:"justify",color:"none"}},[a("q-tab",{attrs:{slot:"title",default:"",name:"tab-1",icon:"star",label:"Meu B15"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-2",icon:"mdi-car",label:"Meu carro"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-3",icon:"mdi-map-marker",label:"Favoritos"},slot:"title"}),a("q-tab",{attrs:{slot:"title",count:"5",name:"tab-4",icon:"mdi-shopping",label:"Promoções"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-5",icon:"business",label:"Empresa"},slot:"title"}),a("q-tab-pane",{attrs:{name:"tab-1"}},[a("div",{staticClass:"row gutter-sm q-mb-sm"},[a("div",{staticClass:"col-12 col-lg-6 "},[a("q-card",{staticClass:"fit no-shadow  q-mt-md",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("q-toolbar-title",{staticClass:"q-subheading text-left text-tertiary q-px-none q-mb-sm",staticStyle:{"line-height":"33px","max-height":"35px"}},[e._v("\n                    Carteira\n\n\n\n                    "),a("q-btn",{staticClass:"no-shadow q-ml-sm",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-cash-multiple",color:"primary","text-color":"white"}})],1),a("q-toolbar-title",{staticClass:"q-px-none  q-mt-lg"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar bg-primary",staticStyle:{width:"49%"}}),a("div",{staticClass:"progress-bar progress-bar-animated progress-bar-striped bg-success",staticStyle:{width:"51%"}})]),a("div",{staticClass:"row justify-between"},[a("div",{staticClass:"q-headline text-weight-bold text-left text-primary q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[e._v("\n                        R$ "+e._s(e._f("numero")(2326,2))),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("Hoje")])]),a("div",{staticClass:"q-headline text-weight-bold text-right text-positive q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[e._v("\n                        R$ "+e._s(e._f("numero")(6382,2))),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("Projeção Final")])])])]),a("div",{staticClass:"row gutter-x-xs q-mt-sm"},[a("div",{staticClass:"col "},[a("button",{staticClass:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-grey-7",attrs:{"data-v-cd753374":"",tabindex:"0",type:"button"}},[a("div",{staticClass:"q-btn-inner row col items-center q-popup--skip justify-center"},[a("i",{staticClass:"q-icon mdi mdi-bank-transfer",staticStyle:{"font-size":"2em","margin-bottom":"0 !important"},attrs:{"aria-hidden":"true"}}),a("div",[e._v("Transferir")])])])]),a("div",{staticClass:"col "},[a("button",{staticClass:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-grey-7",attrs:{"data-v-cd753374":"",tabindex:"0",type:"button"}},[a("div",{staticClass:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[a("i",{staticClass:"q-icon mdi mdi-barcode-scan",attrs:{"aria-hidden":"true"}}),a("div",[e._v("Pagar")])])])]),a("div",{staticClass:"col "},[a("button",{staticClass:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-grey-7",attrs:{"data-v-cd753374":"",tabindex:"0",type:"button"}},[a("div",{staticClass:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[a("i",{staticClass:"q-icon mdi mdi-chart-timeline",attrs:{"aria-hidden":"true"}}),a("div",[e._v("Extrato")])])])])])],1)],1)],1),a("div",{staticClass:"col-12 col-md-6 col-lg-3 "},[a("q-card",{staticClass:"fit50 no-shadow  q-mt-md ",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("div",{staticClass:"futuremoney"},[a("q-toolbar-title",{staticClass:"q-subheading text-left text-tertiary q-px-none q-mb-sm",staticStyle:{"line-height":"33px","max-height":"35px"}},[e._v("\n                      À receber\n\n\n\n                      "),a("q-btn",{staticClass:"no-shadow",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-bell",color:"positive"}})],1),a("q-tooltip",[e._v("\n                      116,32\n                      do ano anterior\n                    ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-left text-blue-8 q-px-none"},[e._v("\n                      500,50\n\n                    ")]),a("small",{staticClass:"text-tertiary"},[a("span",{staticClass:"text-positive"},[e._v("\n                        500,00\n                      ")]),e._v("\n                      Hoje\n                      "),a("br")])],1)])],1),a("q-card",{staticClass:"fit50 no-shadow  q-mt-md ",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("div",{staticClass:"futuremoney"},[a("q-toolbar-title",{staticClass:"q-subheading text-left text-tertiary q-px-none q-mb-sm",staticStyle:{"line-height":"33px","max-height":"35px"}},[e._v("\n                      À pagar\n\n\n\n                      "),a("q-btn",{staticClass:"no-shadow",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-bell",color:"negative"}})],1),a("q-tooltip",[e._v("\n                      500,00\n                      do ano anterior\n                    ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-left text-blue-8 q-px-none"},[e._v("\n                      500,00\n\n                    ")]),a("small",{staticClass:"text-tertiary"},[a("span",{staticClass:"text-negative"},[e._v("\n                        500,00\n                      ")]),e._v("\n                      Hoje\n                      "),a("br")])],1)])],1)],1),a("div",{staticClass:"col-12 col-md-6 col-lg-3"},[a("q-card",{staticClass:"fit no-shadow q-mt-md",staticStyle:{"min-height":"100px"},attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column "},[a("q-toolbar-title",{staticClass:"q-subheading text-left text-tertiary q-px-none q-mb-sm",staticStyle:{"line-height":"33px","max-height":"35px"}},[e._v("\n                    Tarefas\n\n\n\n                    "),a("q-btn",{staticClass:"no-shadow q-ml-sm",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-check-all",color:"primary","text-color":"white"}})],1),a("q-toolbar-title",{staticClass:"q-px-none q-mt-lg"},[a("div",{staticClass:"row justify-between"},[a("div",{staticClass:"col q-pb-none "},[a("div",{staticClass:"q-display-1  text-weight-bold text-left text-primary "},[e._v("3")]),a("small",{staticClass:"row q-caption text-tertiary",staticStyle:{"line-height":"1"}},[e._v("Hoje")])]),a("div",{staticClass:"col q-pb-none "},[a("div",{staticClass:"q-display-1  text-weight-bold text-left text-negative "},[e._v("2")]),a("small",{staticClass:" q-caption row text-tertiary",staticStyle:{"line-height":"1"}},[e._v("Atrasadas")])]),a("div",{staticClass:"col q-pb-none "},[a("div",{staticClass:"q-display-1  text-weight-bold text-left text-positive "},[e._v("15")]),a("small",{staticClass:" q-caption row text-tertiary",staticStyle:{"line-height":"1"}},[e._v("Futuras")])])])]),a("div",{staticClass:"row gutter-x-xs q-mt-sm "},[a("div",{staticClass:"col"},[a("button",{staticClass:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-primary",attrs:{"data-v-cd753374":"",tabindex:"0",type:"button"}},[a("div",{staticClass:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[a("i",{staticClass:"q-icon mdi mdi-check-all",staticStyle:{"font-size":"1.8em"},attrs:{"aria-hidden":"true"}}),a("div",[e._v("Ver tarefas")])])])]),a("div",{staticClass:"col"},[a("button",{staticClass:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-primary",attrs:{"data-v-cd753374":"",tabindex:"0",type:"button"}},[a("div",{staticClass:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[a("i",{staticClass:"q-icon mdi mdi-alarm-plus",staticStyle:{"font-size":"1.8em"},attrs:{"aria-hidden":"true"}}),a("div",[e._v("Adicionar Tarefa")])])])])])],1)],1)],1)])]),a("q-tab-pane",{attrs:{name:"tab-2"}},[e._v("Tab Two")]),a("q-tab-pane",{attrs:{name:"tab-3"}},[a("div",{staticClass:"row gutter-x-sm"},[e._l(12,function(t){return a("div",{key:t,staticClass:"col-12 col-md-6 col-lg-3  q-mb-sm"},[a("q-card",{staticClass:"q-my-sm shadow-5 bg-dark arredondadoMinibt",attrs:{inline:""},nativeOn:{click:function(t){e.goTo("/clubsingle")}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("q-card-media",{staticStyle:{height:"100% !important"}},[a("img",{staticClass:"arredondadoL",staticStyle:{"margin-top":"0"},attrs:{src:"statics/produto5.jpg"}})])],1),a("div",{staticClass:"col"},[a("q-card-title",{staticClass:"q-mb-none q-py-sm"},[a("div",{staticClass:"q-subheading text-white"},[a("strong",[e._v("Cafe Basilico "+e._s(t))])])]),a("q-card-main",{staticClass:"q-pb-none"},[a("p",{staticClass:"text-white q-mb-none q-caption q-mb-none"},[e._v("Lorem ipsum dolor sit amet, consectetur\n                        adipiscing elit. ")])])],1)])])],1)}),a("q-btn",{staticClass:"q-my-md q-mx-sm full-width arredondadoMinibt",attrs:{color:"primary",size:"md",flat:"",label:"Ver mais"}})],2)]),a("q-tab-pane",{attrs:{name:"tab-4"}},[a("div",{staticClass:"row gutter-x-sm"},[e._l(4,function(t){return a("div",{key:t,staticClass:"col-12 col-md-6 col-lg-3  q-mb-sm"},[a("q-card",{staticClass:"q-my-sm shadow-5 bg-white arredondadoMinibt",attrs:{inline:""},nativeOn:{click:function(t){e.goTo("/clubsingle")}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("q-card-media",{staticStyle:{height:"100% !important"}},[a("img",{staticClass:"arredondadoT",staticStyle:{"margin-top":"0"},attrs:{src:"statics/produto5.jpg"}})])],1),a("div",{staticClass:"col-12"},[a("q-card-title",{staticClass:"q-mb-none q-py-sm"},[a("div",{staticClass:"q-title text-dark"},[a("strong",[e._v("Cafe Basilico "+e._s(t))])])]),a("q-card-main",{staticClass:"full-width self-end text-right"},[a("p",{staticClass:"text-faded q-mb-none q-body",staticStyle:{"text-decoration":"line-through"}},[e._v("De R$55,00")]),a("p",{staticClass:"q-display-1 q-mb-none text-dark"},[a("strong",[e._v("R$50,00")])]),a("p",{staticClass:"text-faded q-mb-none q-body"},[e._v("+ 10% de cashback")])])],1)]),a("q-card-actions",{staticClass:"self-end full-width q-py-none"},[a("q-card-separator",{staticClass:"full-width"}),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none text-left"},[a("q-btn",{attrs:{flat:"",color:"negative",label:"Adicionar"}})],1),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",color:"primary",label:"Saiba mais"},nativeOn:{click:function(t){e.goTo("/clubprodutosingle")}}})],1)],1)],1)],1)}),e._l(3,function(t){return a("div",{key:t,staticClass:"col-12 col-md-6 col-lg-4  q-mb-sm"},[a("q-card",{staticClass:"q-my-sm shadow-5 bg-white arredondadoMinibt",attrs:{inline:""},nativeOn:{click:function(t){e.goTo("/clubsingle")}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-5"},[a("q-card-media",{staticStyle:{height:"100% !important"}},[a("img",{staticClass:"arredondadoLT",staticStyle:{"margin-top":"0"},attrs:{src:"statics/produto5.jpg"}})])],1),a("div",{staticClass:"col-12 col-lg"},[a("q-card-title",{staticClass:"q-mb-none q-py-sm"},[a("div",{staticClass:"q-title text-dark"},[a("strong",[e._v("Cafe Basilico "+e._s(t))])])]),a("q-card-main",{staticClass:"full-width self-end text-right"},[a("p",{staticClass:"text-faded q-mb-none q-body",staticStyle:{"text-decoration":"line-through"}},[e._v("De R$55,00")]),a("p",{staticClass:"q-headline q-mb-none text-dark"},[a("strong",[e._v("R$50,00")])])]),a("q-card-actions",{staticClass:"self-end full-width q-py-none"},[a("q-card-separator",{staticClass:"full-width"}),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none text-left"},[a("q-btn",{attrs:{flat:"",color:"negative",label:"Adicionar"}})],1),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",color:"primary",label:"Saiba mais"},nativeOn:{click:function(t){e.goTo("/clubprodutosingle")}}})],1)],1)],1)])])],1)}),e._l(4,function(t){return a("div",{key:t,staticClass:"col-12 col-md-6 col-lg-3  q-mb-sm"},[a("q-card",{staticClass:"q-my-sm shadow-5 bg-white arredondadoMinibt",attrs:{inline:""},nativeOn:{click:function(t){e.goTo("/clubsingle")}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("q-card-media",{staticStyle:{height:"100% !important"}},[a("img",{staticClass:"arredondadoLT",staticStyle:{"margin-top":"0"},attrs:{src:"statics/produto5.jpg"}})])],1),a("div",{staticClass:"col"},[a("q-card-title",{staticClass:"q-mb-none q-py-sm"},[a("div",{staticClass:"q-subheading text-dark"},[a("strong",[e._v("Cafe Basilico "+e._s(t))])])]),a("q-card-main",{staticClass:"full-width self-end text-right"},[a("p",{staticClass:"text-faded q-mb-none q-body",staticStyle:{"text-decoration":"line-through"}},[e._v("De R$55,00")]),a("p",{staticClass:"q-headline q-mb-none text-dark"},[a("strong",[e._v("R$50,00")])])])],1)]),a("q-card-actions",{staticClass:"self-end full-width q-py-none"},[a("q-card-separator",{staticClass:"full-width"}),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none text-left"},[a("q-field",{staticClass:"col-3 q-px-sm q-pt-xs",staticStyle:{"margin-top":"-18px","max-width":"60%"}},[a("campo",{attrs:{min:"0",tipo:"quantidade","hide-underline":""},model:{value:e.qtd,callback:function(t){e.qtd=t},expression:"qtd"}}),a("q-tooltip",[e._v("Quantidade")])],1)],1),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",color:"primary",label:"Saiba mais"},nativeOn:{click:function(t){e.goTo("/clubprodutosingle")}}})],1)],1)],1)],1)}),a("q-btn",{staticClass:"q-my-md q-mx-sm full-width arredondadoMinibt",attrs:{color:"primary",size:"md",flat:"",label:"Ver mais"}})],2)]),a("q-tab-pane",{attrs:{name:"tab-5"}},[a("configuracoes-empresas")],1)],1)],1)],1),a("div",{staticClass:"copy text-white q-caption q-py-sm"},[a("div",{staticClass:"u-container"},[a("div",{staticClass:"row q-py-md"},[a("div",{staticClass:"col-12 col-lg-8"},[a("p",{staticClass:"q-mb-none q-mx-md q-pt-sm"},[e._v("CNPJ 07.660.198/0001-89 / Av. Presidente Vargas, 2001, CJ 45, Jardim\n            América,\n            Ribeirão Preto / SP - CEP 14020-525")])]),a("div",{staticClass:"col-12 col-lg-4 q-pr-sm",staticStyle:{"text-align":"right"}},[a("p",{staticClass:"q-py-none"},[e._v("Ecosistema "),a("img",{staticClass:"q-ml-xs",staticStyle:{"margin-bottom":"-7px"},attrs:{src:"statics/logo-inverted.png",alt:"",height:"25"}})])])])])])],1)},VN=[];LN._withStripped=!0;var UN={components:{Campo:Sl,BarraTopo:El,Avatar:Fc,ConfiguracoesEmpresas:eu},computed:{},data:function(){return{opened:!1,openedM:!1,openedC:!1,qtd:0,grupos:[],mostrarLogo:!1,select:"",selectOptions:[{label:"Cidade",value:"goog"},{label:"Produto",value:"goog"},{label:"Empresa",value:"fb"}]}},methods:{abrirClub:function(){this.opened=!0},userHasScrolled:function(e){this.mostrarLogo=e.position>=102},goTo:function(e){this.$router.push(e)}}},HN=UN,QN=(a("b192"),Object(sc["a"])(HN,LN,VN,!1,null,"1036d806",null));QN.options.__file="ClubApp2.vue";var GN=QN.exports,JN=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Club"},[a("barra-topo"),a("q-page-container",[a("q-page",{staticClass:"u-container"},[a("q-toolbar",{staticClass:"q-py-sm",attrs:{color:"none"}},[a("avatar",{attrs:{imagem:"statics/tocosbar.jpg",tamanho:"40"}}),a("q-toolbar-title",[e._v("\n          Nome\n        ")]),a("q-btn",{attrs:{flat:"",dense:"",icon:"search",round:"",size:"lg"}},[a("q-tooltip",[e._v("Buscar")])],1),a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"lg"}},[a("q-popover",[a("q-list",{attrs:{link:"","no-border":"",separator:""}},[a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"search"}}),a("q-item-main",{attrs:{label:"Buscar excluídos"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"import_export"}}),a("q-item-main",{attrs:{label:"Importar contatos"}})],1)],1)],1)],1)],1),a("q-tabs",{staticClass:"q-mb-lg",attrs:{align:"justify",color:"none"}},[a("q-tab",{attrs:{slot:"title",default:"",name:"tab-1",icon:"mdi-account",label:"Meu B15"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-carteira",icon:"credit_card",label:"Carteira"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-2",icon:"mdi-car",label:"Meu carro"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-3",icon:"mdi-map-marker",label:"Favoritos"},slot:"title"}),a("q-tab",{attrs:{slot:"title",count:"5",name:"tab-4",icon:"mdi-shopping",label:"Promoções"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-5",icon:"business",label:"Empresa"},slot:"title"}),a("q-tab-pane",{attrs:{name:"tab-1"}},[a("div",{staticClass:"row gutter-sm q-mb-sm"},[a("div",{staticClass:"col-12 col-lg-6 "},[a("q-card",{staticClass:"fit no-shadow  q-mt-md",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("q-toolbar-title",{staticClass:"q-subheading text-left text-tertiary q-px-none q-mb-sm",staticStyle:{"line-height":"33px","max-height":"35px"}},[e._v("\n                    Carteira\n\n\n\n                    "),a("q-btn",{staticClass:"no-shadow q-ml-sm",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-cash-multiple",color:"primary","text-color":"white"}})],1),a("q-toolbar-title",{staticClass:"q-px-none  q-mt-lg"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar bg-primary",staticStyle:{width:"49%"}}),a("div",{staticClass:"progress-bar progress-bar-animated progress-bar-striped bg-success",staticStyle:{width:"51%"}})]),a("div",{staticClass:"row justify-between"},[a("div",{staticClass:"q-headline text-weight-bold text-left text-primary q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[e._v("\n                        R$ "+e._s(e._f("numero")(2326,2))),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("Hoje")])]),a("div",{staticClass:"q-headline text-weight-bold text-right text-positive q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[e._v("\n                        R$ "+e._s(e._f("numero")(6382,2))),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("Projeção Final")])])])]),a("div",{staticClass:"row gutter-x-xs q-mt-sm"},[a("div",{staticClass:"col "},[a("button",{staticClass:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-grey-7",attrs:{"data-v-cd753374":"",tabindex:"0",type:"button"}},[a("div",{staticClass:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[a("i",{staticClass:"q-icon mdi mdi-chart-timeline",attrs:{"aria-hidden":"true"}}),a("div",[e._v("Extrato")])])])]),a("div",{staticClass:"col "},[a("button",{staticClass:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-grey-7",attrs:{"data-v-cd753374":"",tabindex:"0",type:"button"}},[a("div",{staticClass:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[a("i",{staticClass:"q-icon mdi mdi-square-inc-cash",attrs:{"aria-hidden":"true"}}),a("div",[e._v("Depositar")])])])]),a("div",{staticClass:"col "},[a("button",{staticClass:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-grey-7",attrs:{"data-v-cd753374":"",tabindex:"0",type:"button"}},[a("div",{staticClass:"q-btn-inner row col items-center q-popup--skip justify-center"},[a("i",{staticClass:"q-icon mdi mdi-bank-transfer",staticStyle:{"font-size":"2em","margin-bottom":"0 !important"},attrs:{"aria-hidden":"true"}}),a("div",[e._v("Transferir")])])])]),a("div",{staticClass:"col "},[a("button",{staticClass:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-grey-7",attrs:{"data-v-cd753374":"",tabindex:"0",type:"button"}},[a("div",{staticClass:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[a("i",{staticClass:"q-icon mdi mdi-barcode-scan",attrs:{"aria-hidden":"true"}}),a("div",[e._v("Pagar")])])])])])],1)],1)],1),a("div",{staticClass:"col-12 col-md-6 col-lg-3 "},[a("q-card",{staticClass:"fit50 no-shadow  q-mt-md ",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("div",{staticClass:"futuremoney"},[a("q-toolbar-title",{staticClass:"q-subheading text-left text-tertiary q-px-none q-mb-sm",staticStyle:{"line-height":"33px","max-height":"35px"}},[e._v("\n                      À receber\n\n\n\n                      "),a("q-btn",{staticClass:"no-shadow",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-bell",color:"positive"}})],1),a("q-tooltip",[e._v("\n                      116,32\n                      do ano anterior\n                    ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-left text-blue-8 q-px-none"},[e._v("\n                      500,500\n\n                    ")]),a("small",{staticClass:"text-tertiary"},[a("span",{staticClass:"text-positive"},[e._v("\n                        500,00\n                      ")]),e._v("\n                      Hoje\n                      "),a("br")])],1)])],1),a("q-card",{staticClass:"fit50 no-shadow  q-mt-md ",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("div",{staticClass:"futuremoney"},[a("q-toolbar-title",{staticClass:"q-subheading text-left text-tertiary q-px-none q-mb-sm",staticStyle:{"line-height":"33px","max-height":"35px"}},[e._v("\n                      À pagar\n\n\n\n                      "),a("q-btn",{staticClass:"no-shadow",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-bell",color:"negative"}})],1),a("q-tooltip",[e._v("\n                      500,00\n                      do ano anterior\n                    ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-left text-blue-8 q-px-none"},[e._v("\n                      500,00\n\n                    ")]),a("small",{staticClass:"text-tertiary"},[a("span",{staticClass:"text-negative"},[e._v("\n                        500,00\n                      ")]),e._v("\n                      Hoje\n                      "),a("br")])],1)])],1)],1),a("div",{staticClass:"col-12 col-md-6 col-lg-3"},[a("q-card",{staticClass:"fit no-shadow q-mt-md",staticStyle:{"min-height":"100px"},attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column "},[a("q-toolbar-title",{staticClass:"q-subheading text-left text-tertiary q-px-none q-mb-sm",staticStyle:{"line-height":"33px","max-height":"35px"}},[e._v("\n                    Tarefas\n\n\n\n                    "),a("q-btn",{staticClass:"no-shadow q-ml-sm",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-check-all",color:"primary","text-color":"white"}})],1),a("q-toolbar-title",{staticClass:"q-px-none q-mt-lg"},[a("div",{staticClass:"row justify-between"},[a("div",{staticClass:"col q-pb-none text-center"},[a("div",{staticClass:"q-display-1  text-weight-bold text-center text-primary "},[e._v("3")]),a("small",{staticClass:" q-caption text-tertiary text-center",staticStyle:{"line-height":"1"}},[e._v("Hoje")])]),a("div",{staticClass:"col q-pb-none text-center"},[a("div",{staticClass:"q-display-1  text-weight-bold text-center text-negative "},[e._v("2")]),a("small",{staticClass:" q-caption  text-tertiary text-center",staticStyle:{"line-height":"1"}},[e._v("Atrasadas")])]),a("div",{staticClass:"col q-pb-none text-center"},[a("div",{staticClass:"q-display-1  text-weight-bold text-center text-positive "},[e._v("15")]),a("small",{staticClass:" q-caption  text-tertiary text-center",staticStyle:{"line-height":"1"}},[e._v("Futuras")])])])]),a("div",{staticClass:"row gutter-x-xs q-mt-sm "},[a("div",{staticClass:"col"},[a("button",{staticClass:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-primary",attrs:{"data-v-cd753374":"",tabindex:"0",type:"button"}},[a("div",{staticClass:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[a("i",{staticClass:"q-icon mdi mdi-check-all",staticStyle:{"font-size":"1.8em"},attrs:{"aria-hidden":"true"}}),a("div",[e._v("Ver tarefas")])])])]),a("div",{staticClass:"col"},[a("button",{staticClass:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-primary",attrs:{"data-v-cd753374":"",tabindex:"0",type:"button"}},[a("div",{staticClass:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[a("i",{staticClass:"q-icon mdi mdi-alarm-plus",staticStyle:{"font-size":"1.8em"},attrs:{"aria-hidden":"true"}}),a("div",[e._v("Adicionar Tarefa")])])])])])],1)],1)],1)])]),a("q-tab-pane",{attrs:{name:"tab-carteira"}},[a("div",{staticClass:"row gutter-sm q-mb-sm"},[a("div",{staticClass:"col-12 col-lg-8 "},[a("q-card",{staticClass:"fit no-shadow  q-mt-md",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("q-toolbar-title",{staticClass:"q-subheading text-left text-tertiary q-px-none q-mb-sm",staticStyle:{"line-height":"33px","max-height":"35px"}},[e._v("\n                    Carteira\n\n\n\n                    "),a("q-btn",{staticClass:"no-shadow q-ml-sm",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-cash-multiple",color:"primary","text-color":"white"}})],1),a("q-toolbar-title",{staticClass:"q-px-none  q-mt-lg"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar bg-primary",staticStyle:{width:"49%"}}),a("div",{staticClass:"progress-bar progress-bar-animated progress-bar-striped bg-success",staticStyle:{width:"51%"}})]),a("div",{staticClass:"row justify-between"},[a("div",{staticClass:"q-headline text-weight-bold text-left text-primary q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[e._v("\n                        R$ "+e._s(e._f("numero")(2326,2))),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("Hoje")])]),a("div",{staticClass:"q-headline text-weight-bold text-right text-positive q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[e._v("\n                        R$ "+e._s(e._f("numero")(6382,2))),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("Projeção Final")])])])]),a("div",{staticClass:"row gutter-x-xs q-mt-sm"},[a("div",{staticClass:"col "},[a("button",{staticClass:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-grey-7",attrs:{"data-v-cd753374":"",tabindex:"0",type:"button"}},[a("div",{staticClass:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[a("i",{staticClass:"q-icon mdi mdi-chart-timeline",attrs:{"aria-hidden":"true"}}),a("div",[e._v("Extrato")])])])]),a("div",{staticClass:"col "},[a("button",{staticClass:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-grey-7",attrs:{"data-v-cd753374":"",tabindex:"0",type:"button"}},[a("div",{staticClass:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[a("i",{staticClass:"q-icon mdi mdi-square-inc-cash",attrs:{"aria-hidden":"true"}}),a("div",[e._v("Depositar")])])])]),a("div",{staticClass:"col "},[a("button",{staticClass:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-grey-7",attrs:{"data-v-cd753374":"",tabindex:"0",type:"button"}},[a("div",{staticClass:"q-btn-inner row col items-center q-popup--skip justify-center"},[a("i",{staticClass:"q-icon mdi mdi-bank-transfer",staticStyle:{"font-size":"2em","margin-bottom":"0 !important"},attrs:{"aria-hidden":"true"}}),a("div",[e._v("Transferir")])])])]),a("div",{staticClass:"col "},[a("button",{staticClass:"q-btn inline relative-position q-btn-item non-selectable botaoAcesso arredondadoMinibt full-width q-btn-rectangle q-btn-outline q-focusable q-hoverable text-grey-7",attrs:{"data-v-cd753374":"",tabindex:"0",type:"button"}},[a("div",{staticClass:"q-btn-inner row full-width items-center q-popup--skip justify-center"},[a("i",{staticClass:"q-icon mdi mdi-barcode-scan",attrs:{"aria-hidden":"true"}}),a("div",[e._v("Pagar")])])])])])],1)],1)],1),a("div",{staticClass:"col-12 col-md-6 col-lg-4 "},[a("q-card",{staticClass:"fit50 no-shadow  q-mt-md ",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("div",{staticClass:"futuremoney"},[a("q-toolbar-title",{staticClass:"q-subheading text-left text-tertiary q-px-none q-mb-sm",staticStyle:{"line-height":"33px","max-height":"35px"}},[e._v("\n                      À receber\n\n\n\n                      "),a("q-btn",{staticClass:"no-shadow",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-bell",color:"positive"}})],1),a("q-tooltip",[e._v("\n                      116,32\n                      do ano anterior\n                    ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-left text-blue-8 q-px-none"},[e._v("\n                      500,500\n\n                    ")]),a("small",{staticClass:"text-tertiary"},[a("span",{staticClass:"text-positive"},[e._v("\n                        500,00\n                      ")]),e._v("\n                      Hoje\n                      "),a("br")])],1)])],1),a("q-card",{staticClass:"fit50 no-shadow  q-mt-md ",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("div",{staticClass:"futuremoney"},[a("q-toolbar-title",{staticClass:"q-subheading text-left text-tertiary q-px-none q-mb-sm",staticStyle:{"line-height":"33px","max-height":"35px"}},[e._v("\n                      À pagar\n\n\n\n                      "),a("q-btn",{staticClass:"no-shadow",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-bell",color:"negative"}})],1),a("q-tooltip",[e._v("\n                      500,00\n                      do ano anterior\n                    ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-left text-blue-8 q-px-none"},[e._v("\n                      500,00\n\n                    ")]),a("small",{staticClass:"text-tertiary"},[a("span",{staticClass:"text-negative"},[e._v("\n                        500,00\n                      ")]),e._v("\n                      Hoje\n                      "),a("br")])],1)])],1)],1)]),a("financeiro-receber")],1),a("q-tab-pane",{attrs:{name:"tab-2"}},[e._v("Tab Two")]),a("q-tab-pane",{attrs:{name:"tab-3"}},[a("div",{staticClass:"row gutter-x-sm"},[e._l(12,function(t){return a("div",{key:t,staticClass:"col-12 col-md-6 col-lg-3  q-mb-sm"},[a("q-card",{staticClass:"q-my-sm shadow-5 bg-dark arredondadoMinibt",attrs:{inline:""},nativeOn:{click:function(t){e.goTo("/clubsingle")}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("q-card-media",{staticStyle:{height:"100% !important"}},[a("img",{staticClass:"arredondadoL",staticStyle:{"margin-top":"0"},attrs:{src:"statics/produto5.jpg"}})])],1),a("div",{staticClass:"col"},[a("q-card-title",{staticClass:"q-mb-none q-py-sm"},[a("div",{staticClass:"q-subheading text-white"},[a("strong",[e._v("Cafe Basilico "+e._s(t))])])]),a("q-card-main",{staticClass:"q-pb-none"},[a("p",{staticClass:"text-white q-mb-none q-caption q-mb-none"},[e._v("Lorem ipsum dolor sit amet, consectetur\n                        adipiscing elit. ")])])],1)])])],1)}),a("q-btn",{staticClass:"q-my-md q-mx-sm full-width arredondadoMinibt",attrs:{color:"primary",size:"md",flat:"",label:"Ver mais"}})],2)]),a("q-tab-pane",{attrs:{name:"tab-4"}},[a("div",{staticClass:"row gutter-x-sm"},[e._l(4,function(t){return a("div",{key:t,staticClass:"col-12 col-md-6 col-lg-3  q-mb-sm"},[a("q-card",{staticClass:"q-my-sm shadow-5 bg-white arredondadoMinibt",attrs:{inline:""},nativeOn:{click:function(t){e.goTo("/clubsingle")}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("q-card-media",{staticStyle:{height:"100% !important"}},[a("img",{staticClass:"arredondadoT",staticStyle:{"margin-top":"0"},attrs:{src:"statics/produto5.jpg"}})])],1),a("div",{staticClass:"col-12"},[a("q-card-title",{staticClass:"q-mb-none q-py-sm"},[a("div",{staticClass:"q-title text-dark"},[a("strong",[e._v("Cafe Basilico "+e._s(t))])])]),a("q-card-main",{staticClass:"full-width self-end text-right"},[a("p",{staticClass:"text-faded q-mb-none q-body",staticStyle:{"text-decoration":"line-through"}},[e._v("De R$55,00")]),a("p",{staticClass:"q-display-1 q-mb-none text-dark"},[a("strong",[e._v("R$50,00")])]),a("p",{staticClass:"text-faded q-mb-none q-body"},[e._v("+ 10% de cashback")])])],1)]),a("q-card-actions",{staticClass:"self-end full-width q-py-none"},[a("q-card-separator",{staticClass:"full-width"}),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none text-left"},[a("q-btn",{attrs:{flat:"",color:"negative",label:"Adicionar"}})],1),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",color:"primary",label:"Saiba mais"},nativeOn:{click:function(t){e.goTo("/clubprodutosingle")}}})],1)],1)],1)],1)}),e._l(3,function(t){return a("div",{key:t,staticClass:"col-12 col-md-6 col-lg-4  q-mb-sm"},[a("q-card",{staticClass:"q-my-sm shadow-5 bg-white arredondadoMinibt",attrs:{inline:""},nativeOn:{click:function(t){e.goTo("/clubsingle")}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-5"},[a("q-card-media",{staticStyle:{height:"100% !important"}},[a("img",{staticClass:"arredondadoLT",staticStyle:{"margin-top":"0"},attrs:{src:"statics/produto5.jpg"}})])],1),a("div",{staticClass:"col-12 col-lg"},[a("q-card-title",{staticClass:"q-mb-none q-py-sm"},[a("div",{staticClass:"q-title text-dark"},[a("strong",[e._v("Cafe Basilico "+e._s(t))])])]),a("q-card-main",{staticClass:"full-width self-end text-right"},[a("p",{staticClass:"text-faded q-mb-none q-body",staticStyle:{"text-decoration":"line-through"}},[e._v("De R$55,00")]),a("p",{staticClass:"q-headline q-mb-none text-dark"},[a("strong",[e._v("R$50,00")])])]),a("q-card-actions",{staticClass:"self-end full-width q-py-none"},[a("q-card-separator",{staticClass:"full-width"}),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none text-left"},[a("q-btn",{attrs:{flat:"",color:"negative",label:"Adicionar"}})],1),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",color:"primary",label:"Saiba mais"},nativeOn:{click:function(t){e.goTo("/clubprodutosingle")}}})],1)],1)],1)])])],1)}),e._l(4,function(t){return a("div",{key:t,staticClass:"col-12 col-md-6 col-lg-3  q-mb-sm"},[a("q-card",{staticClass:"q-my-sm shadow-5 bg-white arredondadoMinibt",attrs:{inline:""},nativeOn:{click:function(t){e.goTo("/clubsingle")}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("q-card-media",{staticStyle:{height:"100% !important"}},[a("img",{staticClass:"arredondadoLT",staticStyle:{"margin-top":"0"},attrs:{src:"statics/produto5.jpg"}})])],1),a("div",{staticClass:"col"},[a("q-card-title",{staticClass:"q-mb-none q-py-sm"},[a("div",{staticClass:"q-subheading text-dark"},[a("strong",[e._v("Cafe Basilico "+e._s(t))])])]),a("q-card-main",{staticClass:"full-width self-end text-right"},[a("p",{staticClass:"text-faded q-mb-none q-body",staticStyle:{"text-decoration":"line-through"}},[e._v("De R$55,00")]),a("p",{staticClass:"q-headline q-mb-none text-dark"},[a("strong",[e._v("R$50,00")])])])],1)]),a("q-card-actions",{staticClass:"self-end full-width q-py-none"},[a("q-card-separator",{staticClass:"full-width"}),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none text-left"},[a("q-field",{staticClass:"col-3 q-px-sm q-pt-xs",staticStyle:{"margin-top":"-18px","max-width":"60%"}},[a("campo",{attrs:{min:"0",tipo:"quantidade","hide-underline":""},model:{value:e.qtd,callback:function(t){e.qtd=t},expression:"qtd"}}),a("q-tooltip",[e._v("Quantidade")])],1)],1),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",color:"primary",label:"Saiba mais"},nativeOn:{click:function(t){e.goTo("/clubprodutosingle")}}})],1)],1)],1)],1)}),a("q-btn",{staticClass:"q-my-md q-mx-sm full-width arredondadoMinibt",attrs:{color:"primary",size:"md",flat:"",label:"Ver mais"}})],2)]),a("q-tab-pane",{attrs:{name:"tab-5"}},[a("configuracoes-empresas")],1)],1)],1)],1),a("footer",{staticClass:"text-white q-py-md hideonmobile"},[a("div",{staticClass:"u-container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("div",{staticClass:"q-headline q-mx-md"},[e._v(" Explore por segmentos")])]),a("div",{staticClass:"col-8"},[a("div",{staticClass:"q-headline q-mx-md"},[e._v(" Explore por cidades")])]),a("div",{staticClass:"col-12 col-md-4"},[a("ul",e._l(4,function(t){return a("li",{key:t,staticClass:"q-body-2 q-mb-sm"},[e._v("Segmento "+e._s(t))])}))]),a("div",{staticClass:"col-12 col-md-4"},[a("ul",e._l(4,function(t){return a("li",{key:t,staticClass:"q-body-2 q-mb-sm"},[e._v("Cidade "+e._s(t))])}))]),a("div",{staticClass:"col-12 col-md-4"},[a("ul",e._l(4,function(t){return a("li",{key:t,staticClass:"q-body-2 q-mb-sm"},[e._v("Cidade "+e._s(t+4))])}))])])])]),a("div",{staticClass:"copy text-white q-caption q-py-sm"},[a("div",{staticClass:"u-container"},[a("div",{staticClass:"row q-py-md"},[a("div",{staticClass:"col-12 col-lg-8"},[a("p",{staticClass:"q-mb-none q-mx-md q-pt-sm"},[e._v("CNPJ 07.660.198/0001-89 / Av. Presidente Vargas, 2001, CJ 45, Jardim\n            América,\n            Ribeirão Preto / SP - CEP 14020-525")])]),a("div",{staticClass:"col-12 col-lg-4 q-pr-sm",staticStyle:{"text-align":"right"}},[a("p",{staticClass:"q-py-none"},[e._v("Ecosistema "),a("img",{staticClass:"q-ml-xs",staticStyle:{"margin-bottom":"-7px"},attrs:{src:"statics/logo-inverted.png",alt:"",height:"25"}})])])])])])],1)},XN=[];JN._withStripped=!0;var YN=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"FinanceiroReceber"},[a("div",{staticClass:"q-pb-md"},[a("q-card",{staticClass:" shadow-3 row no-shadow"},[a("div",{staticClass:"col-12 q-pt-md"},[a("q-toolbar",{staticClass:"no-shadow q-pa-none",attrs:{"text-color":"black",color:"transparent"}},[a("q-toolbar-title",{staticClass:"q-pa-none"},[a("div",{staticClass:"filters row q-pa-sm q-ma-md gutter-x-sm bg-white",staticStyle:{"border-radius":"5px","min-height":"50px"}},[a("div",{staticClass:"col-12 col-md q-pl-none"},[a("div",{staticClass:"row "},[a("q-btn",{staticClass:"no-shadow",attrs:{icon:"filter_list",round:"",color:"faded"}}),a("q-chips-input",{staticClass:"col q-mx-sm",attrs:{color:"faded"},model:{value:e.grupos,callback:function(t){e.grupos=t},expression:"grupos"}})],1)]),a("div",{staticClass:"col-11 col-md"},[a("div",{staticClass:"row"},[a("q-btn",{staticClass:"no-shadow",attrs:{icon:"date_range",round:"",color:"faded"}}),a("q-select",{staticClass:"q-mx-md q-body-1",attrs:{placeholder:"Vencimento",options:e.selectDataTipo},model:{value:e.selectedDataTipo,callback:function(t){e.selectedDataTipo=t},expression:"selectedDataTipo"}}),a("q-datetime",{attrs:{type:"date"},model:{value:e.dataIni,callback:function(t){e.dataIni=t},expression:"dataIni"}}),a("label",{staticClass:"q-ma-sm"},[e._v("até")]),a("q-datetime",{attrs:{type:"date"},model:{value:e.dataFin,callback:function(t){e.dataFin=t},expression:"dataFin"}})],1)])])]),a("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"more_vert",color:"primary",size:"lg"}},[a("q-tooltip",[e._v("\n              Outras opções\n            ")])],1)],1),a("q-toolbar",{staticClass:"no-shadow q-pa-none",attrs:{"text-color":"black",color:"transparent"}},[a("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"view_stream",color:"primary",size:"lg"}},[a("q-tooltip",[e._v("\n              Agrupar\n            ")])],1)],1)],1)]),a("div",{staticClass:"no-shadow"},[a("q-list",{staticClass:"no-border"},[a("q-collapsible",{attrs:{opened:"",label:"Faturamento geral"}},[a("q-collapsible",{attrs:{opened:"",label:"25/11/2018"}},[a("q-card",{staticClass:"extratoItem bg-white q-mb-md q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-6"},[a("div",{staticClass:"q-px-sm"},[a("img",{staticClass:"avatar float-left",staticStyle:{"max-width":"40px",height:"auto",float:"left"},attrs:{src:"https://i.pinimg.com/originals/a9/38/09/a938091f6fdca06fc6e829688f2dbe88.jpg"}}),a("q-toolbar-title",[a("div",[e._v("Optidados Soluções para Opticas\n                      ")]),a("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n                        Optidados Soluções para Opticas Ltda - ME\n                      ")])]),a("q-chip",{staticClass:"q-ma-sm q-my-sm",attrs:{rounded:"",color:"grey",small:""}},[e._v("\n                      Renegociado\n                    ")]),a("q-chip",{staticClass:"q-my-sm",attrs:{rounded:"",color:"primary",small:""}},[e._v("\n                      Em Aberto\n                    ")]),a("p",{staticClass:"q-mt-sm"},[a("small",{staticStyle:{display:"block"}},[e._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit. A\n                        blanditiis commodi eaque iusto tempore.\n                      ")])])],1)]),a("div",{staticClass:"col-12 col-lg-2"},[a("div",{staticClass:"q-px-sm"},[a("dl",{staticClass:"q-mt-sm"},[a("dt",[e._v("Venda #1802")]),a("dd",[e._v("Cartão Visa")]),a("dt",{staticClass:"q-mt-md"},[e._v("Faturamento Geral")])])])]),a("div",{staticClass:"col-3 col-lg-1"},[a("q-tooltip",[e._v("\n                    Vencimento\n                  ")]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("DEZ")])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v("10")])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("2018")])])],1),a("div",{staticClass:"col-3 col-lg-1"},[a("q-tooltip",[e._v("\n                    Vencimento\n                  ")]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("DEZ")])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v("10")])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("2018")])])],1),a("div",{staticClass:"col-6 col-lg-2"},[a("dl",{staticClass:"float-right full-width q-mb-sm"},[a("dt",{staticClass:"text-right q-headline text-positive text-weight-bold"},[e._v("\n                      2.050,00\n                      "),a("p",{staticClass:"text-weight-normal text-tertiary q-body-1"},[e._v("\n                        1.050,00\n                      ")])])]),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"delete",color:"primary",size:"md"}}),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"edit",color:"primary",size:"md"},on:{click:function(t){e.openedTitulo=!0}}}),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"attach_money",size:"md",color:"primary"}}),a("div",{staticClass:"col q-pt-sm",staticStyle:{float:"right"}},[a("q-checkbox",{attrs:{color:"primary"},model:{value:e.checkedTitulo,callback:function(t){e.checkedTitulo=t},expression:"checkedTitulo"}})],1),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"keyboard_arrow_down",size:"md",color:"grey"},on:{click:function(t){e.showMoreDetails=!e.showMoreDetails}}})],1)]),e.showMoreDetails?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-6"},[a("div",{staticClass:"q-px-sm"},[a("q-toolbar-title",{staticClass:"q-mx-none q-mt-sm q-px-none"},[a("q-icon",{attrs:{name:"business"}}),e._v("\n                      Geeks Solucoes\n                    ")],1),a("p",{staticClass:"q-mt-sm"},[a("small",{staticStyle:{display:"block"}},[e._v("Lorem Observacao ipsum dolor sit amet, consectetura dipisicing\n                        elit. A blanditiis commodi eaqueiusto tempore.\n                      ")])])],1)]),a("div",{staticClass:"col-12 col-lg-2"},[a("div",{staticClass:"q-px-sm"},[a("dl",{staticClass:"q-mt-sm"},[a("dt",[e._v("Descricao do CC")])])])]),a("div",{staticClass:"col-2 col-lg-1"},[a("q-tooltip",[e._v("\n                    Vencimento Original\n                  ")]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("DEZ")])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v("10")])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("2018")])])],1),a("div",{staticClass:"col-2 col-lg-1"},[a("q-tooltip",[e._v("\n                    Emissão\n                  ")]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("DEZ")])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v("10")])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("2018")])])],1),a("div",{staticClass:"col-6 col-lg-2"},[a("div",{staticClass:"q-px-sm"},[a("dl",{staticClass:"q-mt-none text-right"},[a("dd",[a("small",[e._v("Desconto")]),a("span",{staticClass:"q-subheading"},[a("strong",[e._v("100,00")])])]),a("dd",[a("small",[e._v("Multa")]),a("span",{staticClass:"q-subheading"},[a("strong",[e._v("100,00 (2%)")])])]),a("dd",[a("small",[e._v("Juros")]),a("span",{staticClass:"q-subheading"},[a("strong",[e._v("1,00 (0,15% dia)")])])])])])])]):e._e()]),a("p",{staticClass:"text-right q-mt-sm"},[e._v("Receber\n              "),a("strong",[e._v("4.000,00")]),e._v(" - Recebido\n              "),a("strong",[e._v("6.000,00")])])],1)],1)],1)],1)],1),"ClubApp2"!==e.$route.name?a("q-layout-footer",{staticClass:"no-shadow bg-cinza text-right",attrs:{reveal:""}},[a("div",{staticClass:"container"},[a("q-toolbar",{attrs:{color:"light-grey"}},[a("q-toolbar-title",{staticStyle:{color:"black"}},[a("q-btn",{staticStyle:{cursor:"default !important"},attrs:{flat:"",size:"md","no-ripple":"","text-color":"black",label:"5 registros"}})],1),a("q-btn",{staticStyle:{cursor:"default !important"},attrs:{flat:"",size:"md","no-ripple":"","text-color":"black",label:"A RECEBER 10.250,00"}}),a("q-btn",{staticClass:"no-shadow",staticStyle:{float:"right","margin-left":"6px",cursor:"default !important"},attrs:{"no-ripple":"",label:"RECEBIDO 0,00",color:"light-blue-9"}})],1)],1)]):e._e(),a("q-modal",{staticClass:"bg-cinza",attrs:{maximized:""},model:{value:e.openedTitulo,callback:function(t){e.openedTitulo=t},expression:"openedTitulo"}},[a("q-layout-header",{attrs:{reveal:""}},[a("q-toolbar",{staticClass:"BarraTopo"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"}}),a("q-toolbar-title",[e._v("\n          Receber\n        ")]),a("q-btn",{staticClass:"no-shadow",attrs:{color:"primary",label:"Salvar"}})],1)],1),a("q-modal-layout",[a("div",{staticClass:" row q-pt-lg justify-center"},[a("div",{staticClass:"q-pt-lg",staticStyle:{width:"1280px","max-width":"100%"}},[a("div",{staticClass:"no-shadow q-mb-md row gutter-sm q-mx-none"},[a("q-card",{staticClass:"col-12 col-lg-8 bg-white q-pb-md no-shadow reverse"},[a("div",{staticClass:"row reverse"},[a("div",{staticClass:"col-12 col-lg-6 "},[a("div",{staticClass:" row no-shadow q-pa-md q-px-md"},[a("q-alert",{staticClass:"no-shadow q-mb-md full-width",attrs:{color:"green-8","text-color":"white"}},[a("q-input",{staticClass:'no-shadow q-title"',attrs:{color:"white",dark:"",value:"55,00","hide-underline":"",prefix:"Valor",align:"right"}})],1),e.checkedDetails||e.checkedVO?a("q-alert",{staticClass:"no-shadow q-mb-md full-width",attrs:{color:"green-7","text-color":"white"}},[a("q-input",{staticClass:"no-shadow q-title",attrs:{color:"white",dark:"",value:"55,00","hide-underline":"",prefix:"Valor Original",align:"right"}})],1):e._e(),a("div",{staticClass:"full-width",on:{click:function(t){e.checkedVO=!e.checkedVO}}},[a("q-card-title",{staticClass:"valorOriginal q-pa-sm q-body-1",staticStyle:{"background-color":"#e8f5e9"}},[e.checkedVO?a("q-icon",{attrs:{name:"arrow_drop_up"}}):e._e(),e.checkedVO?e._e():a("q-icon",{attrs:{name:"arrow_drop_down"}}),e._v("\n                        Outros Valores\n                        "),a("div",{staticClass:"row items-center q-body-1",attrs:{slot:"right"},slot:"right"},[e._v("\n                          55,00\n                        ")])],1)],1),e.checkedDetails||e.checkedVO?a("q-card-actions",{staticStyle:{"background-color":"#e8f5e9"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"row  q-px-sm gutter-xs"},[a("div",{staticClass:"col-3"},[a("q-card-title",{staticClass:"titleOtherValues"},[e._v("Desconto\n                            ")])],1),a("div",{staticClass:"col-3 offset-3"},[a("q-input",{staticClass:"q-subheading",attrs:{color:"green-7",value:"2500,00",suffix:"%",align:"right"}})],1),a("div",{staticClass:"col-3"},[a("q-input",{staticClass:"q-subheading",attrs:{color:"green-7",placeholder:"2050,00",prefix:"R$",align:"right"}})],1)]),a("div",{staticClass:"row  q-px-sm gutter-xs"},[a("div",{staticClass:"col-3"},[a("q-card-title",{staticClass:"titleOtherValues"},[e._v("Multa")])],1),a("div",{staticClass:"col-3 offset-3"},[a("q-input",{staticClass:"q-subheading",attrs:{color:"green-7",placeholder:"2050,00",suffix:"%",align:"right"}})],1),a("div",{staticClass:"col-3"},[a("q-input",{staticClass:"q-subheading",attrs:{color:"green-7",placeholder:"2050,00",prefix:"R$",align:"right"}})],1)]),a("div",{staticClass:"row  q-px-sm gutter-xs"},[a("div",{staticClass:"col-3"},[a("q-card-title",{staticClass:"titleOtherValues"},[e._v("Juros")])],1),a("div",{staticClass:"col-3"},[a("q-select",{staticClass:"q-body-1",attrs:{placeholder:"Tipo",radio:"",color:"green-7",options:e.selectOptionsPC},model:{value:e.selectPC,callback:function(t){e.selectPC=t},expression:"selectPC"}})],1),a("div",{staticClass:"col-3"},[a("q-input",{staticClass:"q-subheading",attrs:{color:"green-7",placeholder:"250,00",suffix:"%",align:"right"}})],1),a("div",{staticClass:"col-3"},[a("q-input",{staticClass:"q-subheading",attrs:{color:"green-7",placeholder:"250,00",prefix:"R$",align:"right"}})],1)]),a("div",{staticClass:"row  q-px-sm gutter-xs"},[a("div",{staticClass:"col-3"},[a("q-card-title",{staticClass:"titleOtherValues"},[e._v("Protesto\n                            ")])],1),a("div",{staticClass:"col-3 offset-6"},[a("q-input",{staticClass:"q-subheading",attrs:{color:"green-7",placeholder:"250,00",prefix:"R$",align:"right"}})],1)])])]):e._e(),a("q-alert",{staticClass:"no-shadow q-my-md full-width",staticStyle:{"border-radius":"0"},attrs:{color:"green-7","text-color":"white"}},[a("q-input",{staticClass:"no-shadow q-subheading",attrs:{color:"white",dark:"",value:"55,00","hide-underline":"",prefix:"Total",align:"right"}})],1),a("q-alert",{staticClass:"no-shadow full-width",staticStyle:{"border-radius":"0"},attrs:{color:"green-6","text-color":"white"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 q-body-1"},[e._v("Liquidado")]),a("div",{staticClass:"col-6 q-body-1 text-right"},[e._v("\n                          1.355,00\n                          "),a("Br"),e._v("23/11/1984\n                        ")],1)])])],1),a("q-btn",{staticClass:"float-right q-mx-sm",attrs:{color:"primary",icon:"call_split",label:"Parcelar"}})],1),a("div",{staticClass:"col-12 col-lg-6 "},[a("div",{staticStyle:{padding:"0",widows:"100%"}},[a("q-list",{staticClass:"row no-border"},[a("q-item",{staticClass:"col-12 col-lg-6 no-border"},[a("q-item-side",[a("q-item-tile",{attrs:{avatar:""}},[a("img",{attrs:{src:"https://i.pinimg.com/originals/a9/38/09/a938091f6fdca06fc6e829688f2dbe88.jpg"}})])],1),a("q-item-main",{attrs:{label:"Fulana de tal"}},[e._v("John Doe")]),a("q-item-side",{attrs:{right:""}},[a("q-item-tile",{attrs:{icon:"search",color:"green"}})],1)],1),a("q-item",{staticClass:"col-12 col-lg-6 no-border"},[a("q-item-main",[a("q-field",{attrs:{icon:"business"}},[a("q-select",{staticClass:"q-body-1",attrs:{"hide-underline":"","stack-label":"Empresa",radio:"",options:e.selectOptionsPC},model:{value:e.selectPC,callback:function(t){e.selectPC=t},expression:"selectPC"}})],1)],1)],1),a("q-item",{staticClass:"row no-border"},[a("q-chip",{staticClass:"q-ma-none",attrs:{color:"warning",small:""}},[e._v("\n                          Está atrasado em 1 dia\n                        ")]),a("q-chip",{staticClass:"q-mx-sm",attrs:{color:"primary",small:""}},[e._v("\n                          Em aberto\n                        ")]),a("q-chip",{staticClass:"q-mx-sm",attrs:{color:"primary",small:""}},[e._v("\n                          Parcela 1 / 10\n                        ")])],1),a("q-item",{staticClass:"no-border col-12"},[a("q-item-main",[a("q-input",{staticClass:"bg-white",attrs:{type:"textarea","stack-label":"Descrição","max-height":100,rows:"1"}})],1)],1),e.checkedDetails?e._e():a("q-item",{staticClass:"col-12 col-lg-12 no-border"},[a("q-datetime",{staticClass:"q-body-1 full-width",attrs:{"stack-label":"Vencimento",type:"date"},model:{value:e.selectPC,callback:function(t){e.selectPC=t},expression:"selectPC"}})],1),e.checkedDetails?a("q-item",{staticClass:"col-12 col-lg-6 no-border"},[a("q-datetime",{staticClass:"q-body-1 full-width",attrs:{"stack-label":"Vencimento",type:"date"},model:{value:e.selectPC,callback:function(t){e.selectPC=t},expression:"selectPC"}})],1):e._e(),e.checkedDetails?a("q-item",{staticClass:"col-12 col-lg-6 no-border"},[a("q-datetime",{staticClass:"q-body-1 full-width",attrs:{"stack-label":"Vencimento Original",type:"date"},model:{value:e.selectPC,callback:function(t){e.selectPC=t},expression:"selectPC"}})],1):e._e(),e.checkedDetails?a("q-item",{staticClass:"col-12 col-lg-6 no-border"},[a("q-datetime",{staticClass:"q-body-1 full-width",attrs:{"stack-label":"Competência",type:"date"},model:{value:e.selectPC,callback:function(t){e.selectPC=t},expression:"selectPC"}})],1):e._e(),e.checkedDetails?a("q-item",{staticClass:"col-12 col-lg-6 no-border"},[a("q-datetime",{staticClass:"q-body-1 full-width",attrs:{"stack-label":"Emissão",type:"date"},model:{value:e.selectPC,callback:function(t){e.selectPC=t},expression:"selectPC"}})],1):e._e(),a("q-item",{staticClass:"col-12 col-lg-6",staticStyle:{"border-bottom":"none"}},[a("q-item-main",[a("q-select",{staticClass:"q-body-1 full-width",attrs:{"stack-label":"Plano de Contas",radio:"",options:e.selectOptionsPC},model:{value:e.selectPC,callback:function(t){e.selectPC=t},expression:"selectPC"}})],1)],1),a("q-item",{staticClass:"col-12 col-lg-6",staticStyle:{"border-bottom":"none"}},[a("q-item-main",[a("q-select",{staticClass:"q-body-1 full-width",attrs:{"stack-label":"Centro de Custo",radio:"",options:e.selectOptionsPC},model:{value:e.selectPC,callback:function(t){e.selectPC=t},expression:"selectPC"}})],1)],1),e.checkedDetails?a("q-item",{staticClass:"col-12 no-border"},[a("q-input",{staticClass:"bg-cinza q-pa-sm q-body-1 full-width",attrs:{type:"textarea","stack-label":"Observações","max-height":100,rows:"2"}})],1):e._e()],1)],1)])]),e.checkedDetails?a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{margin:"0 auto",display:"block",padding:"0 12px 0 4px"},attrs:{rounded:"",dense:"",flat:"",icon:"keyboard_arrow_up",size:"xs",color:"grey",label:"Detalhes"},on:{click:function(t){e.checkedDetails=!e.checkedDetails}}}):e._e(),e.checkedDetails?e._e():a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{margin:"0 auto",display:"block",padding:"0 12px 0 4px"},attrs:{rounded:"",dense:"",flat:"",icon:"keyboard_arrow_down",size:"xs",color:"grey",label:"Detalhes"},on:{click:function(t){e.checkedDetails=!e.checkedDetails}}})],1),a("div",{staticClass:"col-12 col-lg-4"},[a("q-card",{staticClass:" bg-white no-shadow col-12 col-lg-12 q-pa-md q-px-md full-height"},[a("q-toolbar-title",[e._v("\n                  Boletos\n                ")]),a("div",{staticClass:"row q-px-md gutter-x-sm q-pt-sm justify-center"},[a("q-btn",{attrs:{flat:"",color:"primary",size:"md",label:"Gerar Boleto",icon:"add"}})],1),a("div",{staticClass:"row q-px-md gutter-x-sm q-pt-sm justify-center"},[a("q-btn",{attrs:{flat:"",color:"primary",size:"md",icon:"print"}},[a("q-tooltip",[e._v("\n                      Imprimir\n                    ")])],1),a("q-btn",{attrs:{flat:"",color:"primary",size:"md",icon:"print"}},[a("q-tooltip",[e._v("\n                      Imprimir Atualizado\n                    ")])],1),a("q-btn",{attrs:{flat:"",color:"red",size:"md",icon:"gavel"}},[a("q-tooltip",[e._v("\n                      Protestar Boleto\n                    ")])],1),a("q-btn",{attrs:{flat:"",color:"white","text-color":"red",size:"md",icon:"pan_tool"}},[a("q-tooltip",[e._v("\n                      Cancelar Protesto\n                    ")])],1),a("q-btn",{attrs:{flat:"",color:"white","text-color":"grey",size:"md",icon:"delete"}},[a("q-tooltip",[e._v("\n                      Cancelar Boleto\n                    ")])],1)],1),a("q-list",{staticClass:"no-border q-pa-none",attrs:{highlight:""}},[a("q-list-header",[e._v("#123456789"),a("br"),a("small",[e._v("Banco do Brasil - Ag 3312 - CC 107143")])]),a("a",{staticClass:"q-item",on:{click:function(t){e.openedSangria=!0}}},[a("q-item-side",{attrs:{icon:"add",color:"blue"}}),a("q-item-main",{attrs:{label:"15/10/2018"}},[a("p",[a("small",[e._v("Boleto gerado")])])]),a("q-item-side",{attrs:{right:""}},[a("p",{staticStyle:{margin:"0","text-align":"right"}},[e._v("55,00")])])],1),a("a",{staticClass:"q-item",on:{click:function(t){e.openedSangria=!0}}},[a("q-item-side",{attrs:{icon:"gavel",color:"red"}}),a("q-item-main",{attrs:{label:"25/10/2018"}},[a("p",[a("small",[e._v("Protestado")])])])],1),a("a",{staticClass:"q-item",on:{click:function(t){e.openedSangria=!0}}},[a("q-item-side",{attrs:{icon:"attach_money",color:"green"}}),a("q-item-main",{attrs:{label:"27/10/2018"}},[a("p",[a("small",[e._v("Liquidado")])])]),a("q-item-side",{attrs:{right:""}},[a("p",{staticStyle:{margin:"0","text-align":"right",color:"green"}},[e._v("58,50")])])],1)],1)],1)],1)],1),a("q-card",{staticClass:"row q-pb-md q-mb-md bg-white no-shadow"},[a("div",{staticClass:"col-12 col-lg-12"},[a("q-toolbar-title",{staticClass:" q-mt-lg"},[e._v("\n                Arquivos\n              ")]),a("div",{staticClass:"row q-px-md gutter-x-sm q-pt-sm"},[a("q-uploader",{staticClass:"full-width",attrs:{multiple:"",url:"","upload-factory":e.uploadFile}})],1),a("div",{staticClass:"row gutter-x-md q-px-md justify-center",staticStyle:{margin:"0"}},[a("div",{staticClass:"col-3 col-lg-2 shadow-1 q-ma-md q-pa-none",staticStyle:{"border-radius":"16px",overflow:"hidden"}},[a("q-card-media",[a("img",{attrs:{src:"https://i.pinimg.com/originals/a9/38/09/a938091f6fdca06fc6e829688f2dbe88.jpg"}})]),a("q-btn",{staticClass:"float-right",attrs:{flat:"",rounded:"",dense:"",icon:"delete",color:"grey "}})],1)])],1)]),a("q-tabs",{staticClass:"bg-cinza q-mb-md roundedB",attrs:{swipeable:"",color:"cinza","text-color":"light-blue-9"}},[a("q-tab",{attrs:{slot:"title",default:"",name:"tab-1",label:"Liquidar"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-2",label:"Movimentação"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-3",label:"Relacionados"},slot:"title"}),a("q-tab-pane",{staticClass:"bg-white",attrs:{name:"tab-1"}},[a("div",{staticClass:"q-pa-md"},[a("q-list",{staticClass:"no-border"},[a("q-item",{staticClass:"noborder"},[a("q-item-main",[a("div",{staticClass:"row gutter-x-sm "},[a("div",{staticClass:"col-12 col-md-5"},[a("q-select",{attrs:{"stack-label":"Forma de Pagamento",radio:"",options:e.dados.fonetipo},model:{value:e.dados.foneselect,callback:function(t){e.$set(e.dados,"foneselect",t)},expression:"dados.foneselect"}})],1),a("div",{staticClass:"col-12 col-md-2"},[a("q-input",{staticClass:"q-body-1",attrs:{"stack-label":"Valor"},model:{value:e.dados.fone,callback:function(t){e.$set(e.dados,"fone",t)},expression:"dados.fone"}})],1),a("div",{staticClass:"col-12 col-md-2"},[a("q-input",{staticClass:"col q-body-1",attrs:{"stack-label":"Parcelas"},model:{value:e.dados.fonedesc,callback:function(t){e.$set(e.dados,"fonedesc",t)},expression:"dados.fonedesc"}})],1),a("div",{staticClass:"col-12 col-md-2"},[a("q-input",{staticClass:"col q-body-1",attrs:{"stack-label":"Data"},model:{value:e.dados.fonedesc,callback:function(t){e.$set(e.dados,"fonedesc",t)},expression:"dados.fonedesc"}})],1),a("q-btn",{staticClass:"btadd q-mt-none",attrs:{flat:"",round:"",dense:"",icon:"add",color:"green"}})],1)])],1)],1),a("q-list",{staticClass:"noborder"},[a("q-item",{staticClass:"noborder"},[a("q-item-main",[a("div",{staticClass:"row gutter-x-sm "},[a("div",{staticClass:"col-12 col-md-5"},[e._v("\n                          Forma de Pagamento\n                        ")]),a("div",{staticClass:"col-12 col-md-2"},[e._v("\n                          Valor\n                        ")]),a("div",{staticClass:"col-12 col-md-2"},[e._v("\n                          Parcelas\n                        ")]),a("div",{staticClass:"col-12 col-md-2"},[e._v("\n                          Data\n                        ")]),a("q-btn",{staticStyle:{position:"absolute",right:"16px",top:"0px",border:"1px solid darkgray"},attrs:{flat:"",round:"",dense:"",icon:"close",color:"red"}})],1)])],1)],1),a("q-list",{staticClass:"no-border"},[a("q-item",{staticClass:"noborder"},[a("q-item-tile",{staticStyle:{"text-align":"right !important",width:"100%"}},[e._v("\n                      Restante\n                      "),a("strong",[e._v(" 3.130,00")])])],1)],1)],1)]),a("q-tab-pane",{staticClass:"bg-white",attrs:{name:"tab-2"}},[a("div",{staticClass:"row gutter-x-sm q-ma-none"},[a("q-list",{staticClass:"col-12 col-lg-6 q-pa-none no-border",attrs:{highlight:""}},[a("q-list-header",[e._v("Débito"),a("br"),a("small",[e._v("Movimentação\n                      "),a("strong",[e._v("10/10/2018")]),e._v(" - Vencimento\n                      "),a("strong",[e._v("08/10/2018")])])]),a("a",{staticClass:"q-item",on:{click:function(t){e.openedSangria=!0}}},[a("q-item-side",{attrs:{icon:"compare_arrows",color:"green"}}),a("q-item-main",{attrs:{label:"1002 - BB Ag 3312 CC 107143"}},[a("p",[a("small",[e._v("Xxxxxxxx")])])]),a("q-item-side",{attrs:{right:""}},[a("p",{staticStyle:{margin:"0","text-align":"right",color:"green"}},[e._v("50,00")])])],1),a("a",{staticClass:"q-item",on:{click:function(t){e.openedSangria=!0}}},[a("q-item-side",{attrs:{icon:"compare_arrows",color:"green"}}),a("q-item-main",{attrs:{label:"1001 - Dinheiro"}},[a("p",[a("small",[e._v("Xxxxxxxx2")])])]),a("q-item-side",{attrs:{right:""}},[a("p",{staticStyle:{margin:"0","text-align":"right",color:"green"}},[e._v("9,50")])])],1),a("q-item-side",{staticStyle:{padding:"0 16px"},attrs:{right:""}},[a("p",{staticStyle:{margin:"0","text-align":"right"}},[a("small",[e._v("59,50")])])])],1),a("q-list",{staticClass:"col-12 col-lg-6 no-border q-pa-none",attrs:{highlight:""}},[a("q-list-header",[e._v("Crédito"),a("br"),a("small",[e._v("Movimentação\n                      "),a("strong",[e._v("10/10/2018")]),e._v(" - Vencimento\n                      "),a("strong",[e._v("08/10/2018")])])]),a("q-item",[a("q-item-side",{attrs:{icon:"compare_arrows",color:"grey"}}),a("q-item-main",{attrs:{label:"1102 - Título a Receber"}},[a("p",[a("small",[e._v("Zzzzzzz")])])]),a("q-item-side",{attrs:{right:""}},[a("p",{staticStyle:{margin:"0","text-align":"right"}},[e._v("55,00")])])],1),a("q-item",[a("q-item-side",{attrs:{icon:"compare_arrows",color:"grey"}}),a("q-item-main",{attrs:{label:"1108 - Multa e Juros"}},[a("p",[a("small",[e._v("Acrescimo por vencimento.")])])]),a("q-item-side",{attrs:{right:""}},[a("p",{staticStyle:{margin:"0","text-align":"right"}},[e._v("4,50")])])],1),a("q-item-side",{staticStyle:{padding:"0 16px"},attrs:{right:""}},[a("p",{staticStyle:{margin:"0","text-align":"right"}},[a("small",[e._v("59,50")])])])],1)],1)]),a("q-tab-pane",{staticClass:"bg-white",attrs:{name:"tab-3"}},[a("div",{staticClass:"q-pa-md"},[a("q-collapsible",{attrs:{label:"25/11/2018"}},[a("div",[a("q-card",{staticClass:"extratoItem bg-white q-mb-md q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-6"},[a("div",{staticClass:"q-px-sm"},[a("img",{staticClass:"avatar float-left",staticStyle:{"max-width":"40px",height:"auto"}}),a("q-toolbar-title",[a("div",[e._v("Optidados Soluções para Opticas\n                              ")]),a("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n                                Optidados Soluções para Opticas Ltda - ME\n                              ")])]),a("q-chip",{staticClass:"q-ma-sm float-left q-my-sm",attrs:{rounded:"",color:"grey",small:""}},[e._v("\n                              Renegociado\n                            ")]),a("q-chip",{staticClass:"q-ma-sm float-left q-my-sm",attrs:{rounded:"",color:"primary",small:""}},[e._v("\n                              Em Aberto\n                            ")]),a("p",{staticClass:"q-my-sm"},[a("small",{staticStyle:{display:"block"}},[e._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit.\n                                A blanditiis commodi eaque iusto tempore.\n                              ")])])],1)]),a("div",{staticClass:"col-12 col-lg-2"},[a("div",{staticClass:"q-px-sm"},[a("dl",{staticStyle:{"margin-top":"6px"}},[a("dt",[e._v("Venda #1802")]),a("dd",[e._v("Cartão Visa")]),a("dt",{staticClass:"q-mt-md"},[e._v("Faturamento Geral")])])])]),a("div",{staticClass:"col-3 col-lg-1"},[a("q-tooltip",[e._v("\n                            Vencimento\n                          ")]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("DEZ")])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v("10")])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("2018")])])],1),a("div",{staticClass:"col-3 col-lg-1"},[a("q-tooltip",[e._v("\n                            Vencimento\n                          ")]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("DEZ")])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v("10")])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("2018")])])],1),a("div",{staticClass:"col-6 col-lg-2"},[a("dl",{staticStyle:{float:"right",width:"100%","margin-bottom":"0"}},[a("dt",{staticStyle:{"text-align":"right","font-size":"24px",color:"green"}},[e._v("\n                              2.050,00\n                              "),a("small",{staticStyle:{display:"block","font-size":"0.65em","font-weight":"normal",color:"grey"}},[e._v("\n                                1.050,00\n                              ")])])]),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"delete",color:"primary",size:"md"}}),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"edit",color:"primary",size:"md"},on:{click:function(t){e.openedTitulo=!0}}}),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"attach_money",size:"md",color:"primary"}}),a("div",{staticClass:"col",staticStyle:{float:"right","padding-top":"7px"}},[a("q-checkbox",{attrs:{color:"primary"},model:{value:e.checkedTitulo,callback:function(t){e.checkedTitulo=t},expression:"checkedTitulo"}})],1),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"keyboard_arrow_down",size:"md",color:"grey"},on:{click:function(t){e.showMoreDetails=!e.showMoreDetails}}})],1)]),e.showMoreDetails?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-6"},[a("div",{staticClass:"q-px-sm"},[a("q-toolbar-title",{staticStyle:{clear:"left",margin:"6px 0 0 -16px"}},[a("q-icon",{attrs:{name:"business"}}),e._v("\n                              Geeks Solucoes\n                            ")],1),a("p",{staticStyle:{clear:"left",margin:"6px 0 0"}},[a("small",{staticStyle:{display:"block"}},[e._v("Lorem Observacao ipsum dolor sit amet, consectetura\n                                dipisicing elit. A blanditiis commodi eaqueiusto tempore.\n                              ")])])],1)]),a("div",{staticClass:"col-12 col-lg-2"},[a("div",{staticClass:"q-px-sm"},[a("dl",{staticStyle:{"margin-top":"6px"}},[a("dt",[e._v("Descricao do CC")])])])]),a("div",{staticClass:"col-2 col-lg-1"},[a("q-tooltip",[e._v("\n                            Vencimento Original\n                          ")]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("DEZ")])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v("10")])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("2018")])])],1),a("div",{staticClass:"col-2 col-lg-1"},[a("q-tooltip",[e._v("\n                            Emissão\n                          ")]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("DEZ")])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v("10")])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("2018")])])],1),a("div",{staticClass:"col-6 col-lg-2"},[a("div",{staticClass:"q-px-sm"},[a("dl",{staticStyle:{"margin-top":"0px","text-align":"right"}},[a("dd",[a("small",[e._v("Desconto")]),a("span",{staticStyle:{"text-align":"center","font-size":"18px"}},[a("strong",[e._v("100,00")])])]),a("dd",[a("small",[e._v("Multa")]),a("span",{staticStyle:{"text-align":"center","font-size":"18px"}},[a("strong",[e._v("100,00 (2%)")])])]),a("dd",[a("small",[e._v("Juros")]),a("span",{staticStyle:{"text-align":"center","font-size":"18px"}},[a("strong",[e._v("1,00 (0,15% dia)")])])])])])])]):e._e()])],1),a("p",{staticStyle:{"text-align":"right"}},[e._v("Receber\n                    "),a("strong",[e._v("4.000,00")]),e._v(" - Recebido\n                    "),a("strong",[e._v("6.000,00")])])])],1)])],1)],1)])])],1)],1)},WN=[];YN._withStripped=!0;var ZN={data:function(){return{checkedVO:!1,checkedDetails:!1,checkedTitulo:!1,showMoreDetails:!1,openedSangria:!1,openedTitulo:!1,showchat:!1,openedC:!1,showing:!1,dataIni:"",dataFin:"",grupos:[],selectListOptions:[{label:"Nome do banco",inset:!0,sublabel:"Enables communication",stamp:"Saldo",value:"fb1"},{label:"Nome do banco",inset:!0,sublabel:"Enables communication",stamp:"Saldo",value:"fb2"}],selectPC:"",selectedDataTipo:"",selectDataTipo:[{label:"Vencimento",value:"goog"},{label:"Outro",value:"fb"}],selectOptionsPC:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],dados:{fonetipo:[{label:"Principal",value:"Principal"},{label:"Celular",value:"Celular"},{label:"Fixo",value:"Fixo"},{label:"WhatsApp",value:"WhatsApp"}]}}}},KN=ZN,ek=(a("de7a"),Object(sc["a"])(KN,YN,WN,!1,null,"3a433658",null));ek.options.__file="FinanceiroReceber.vue";var tk=ek.exports,ak={components:{Campo:Sl,BarraTopo:El,Avatar:Fc,ConfiguracoesEmpresas:eu,FinanceiroReceber:tk},computed:{},data:function(){return{opened:!1,openedM:!1,openedC:!1,qtd:0,grupos:[],mostrarLogo:!1,select:"",selectOptions:[{label:"Cidade",value:"goog"},{label:"Produto",value:"goog"},{label:"Empresa",value:"fb"}]}},methods:{abrirClub:function(){this.opened=!0},userHasScrolled:function(e){this.mostrarLogo=e.position>=102},goTo:function(e){this.$router.push(e)}}},ok=ak,ik=(a("4cff"),Object(sc["a"])(ok,JN,XN,!1,null,"6f627303",null));ik.options.__file="ClubApp3.vue";var rk=ik.exports,sk=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Club"},[a("q-layout-header",{staticClass:"topbar",attrs:{reveal:""}},[a("div",{staticClass:"u-container q-px-none"},[a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none hideonmobile"},[a("transition",{attrs:{name:"fade"}},[e.mostrarLogo?a("img",{attrs:{src:"statics/logo-inverted.png",alt:"",height:"28"},nativeOn:{click:function(t){e.goTo("/club")}}}):e._e()])],1),a("q-btn",{staticClass:"q-mx-sm",attrs:{flat:"",color:"white",label:"Minha empresa"},on:{click:function(t){e.openedM=!0}}}),a("q-btn",{staticClass:"q-mx-sm hideonmobile",attrs:{color:"white",flat:"",label:"Cadastre-se"},on:{click:function(t){e.openedC=!0}}}),a("q-btn",{staticClass:"q-mx-sm",attrs:{color:"white","text-color":"primary",label:"Entrar"},on:{click:function(t){e.openURL("https://app.b15.com.br")}}})],1)],1)]),a("q-page-container",[a("q-page",{staticClass:"u-container"},[a("q-scroll-observable",{on:{scroll:e.userHasScrolled}}),a("q-toolbar",{staticClass:"q-px-none q-my-md cliente",attrs:{color:"transparent"}},[a("q-toolbar-title",[a("img",{staticClass:"q-mx-sm q-mt-xs imgavatar",attrs:{src:"statics/b15.svg",alt:"",height:"36"}})]),a("div",{staticClass:"row"},[a("a",{staticClass:"botaoTopo q-btn q-btn-flat text-tertiary q-ma-xs q-caption",attrs:{href:""}},[a("q-icon",{attrs:{name:"mdi-food",size:"28px"}}),a("div",{staticClass:"q-mt-sm"},[e._v("Restaurantes")])],1),a("a",{staticClass:"botaoTopo q-btn q-btn-flat text-tertiary q-ma-xs q-caption",attrs:{href:""}},[a("q-icon",{attrs:{name:"mdi-beer",size:"28px"}}),a("div",{staticClass:"q-mt-sm"},[e._v("Bares e Boates")])],1),a("a",{staticClass:"botaoTopo q-btn q-btn-flat text-tertiary q-ma-xs q-caption",attrs:{href:""}},[a("q-icon",{attrs:{name:"mdi-microphone-variant",size:"28px"}}),a("div",{staticClass:"q-mt-sm"},[e._v("Eventos")])],1)])],1),a("q-toolbar-title",{staticClass:"q-pa-none bg-white arredondado hideonmobile",staticStyle:{"margin-top":"-4px",border:"1px solid #bdbdbd"}},[a("div",{staticClass:"filters row q-pa-xs q-ma-xs q-ml-none gutter-x-sm arredondado ",staticStyle:{"min-height":"50px"}},[a("q-btn",{staticClass:"q-ml-sm arredondadobt no-shadow q-title",staticStyle:{"pointer-events":"none"},attrs:{color:"white","text-color":"tertiary",icon:"search"}}),a("div",{staticClass:"col"},[a("q-input",{attrs:{color:"dark","stack-label":"Produto ou Serviço"}})],1),a("div",{staticClass:"col"},[a("q-input",{attrs:{color:"dark","stack-label":"Lugar"}})],1),a("div",{staticClass:"col"},[a("q-input",{attrs:{color:"dark","stack-label":"Cidade"}})],1),a("q-btn",{staticClass:"q-ml-sm q-px-xl arredondadobt",attrs:{color:"primary",label:"BUSCAR"}})],1)]),a("q-toolbar-title",{staticClass:"q-pa-none bg-white arredondado hideondesktop",staticStyle:{"margin-top":"-4px",border:"1px solid #bdbdbd"}},[a("div",{staticClass:"filters q-px-xs q-ma-xs q-ml-none gutter-x-sm arredondado ",staticStyle:{"min-height":"50px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("q-input",{attrs:{color:"dark","stack-label":"Produto / Serviço / Lugar / Cidade"}})],1),a("div",{staticClass:"col-auto"},[a("q-btn",{staticStyle:{"margin-top":"6px"},attrs:{color:"primary",icon:"search",round:""}})],1)])])]),a("div",{staticClass:"q-display-1 text-primary q-mt-xl q-mb-md q-mx-md"},[a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"mdi-shopping",round:"",size:"xl",disabled:""}}),e._v("\n        Dicas para você\n      ")],1),a("q-carousel",{staticClass:"hideonmobile",attrs:{color:"white",arrows:""}},[a("q-carousel-slide",{staticClass:"q-py-none "},[a("div",{staticClass:"row gutter-x-sm items-stretch  q-pb-lg"},[a("div",{staticClass:"col-12 col-md-6 q-py-md"},[a("q-card",{staticClass:"  bg-white shadow-10 full-height row "},[a("q-card-media",{staticClass:"full-width  self-start",staticStyle:{height:"360px"}},[a("img",{attrs:{src:"statics/produto.jpg"}})]),a("q-card-title",{staticClass:"full-width  self-start"},[a("div",{staticClass:"q-headline text-dark"},[a("strong",[e._v("Cafe Basilico")])]),a("p",{staticClass:"text-faded q-body-2",staticStyle:{"line-height":"1.5"}},[e._v("Lorem ipsum dolor sit amet, consectetur\n                    adipiscing elit. Fusce\n                    efficitur arcu vitae ex rutrum varius. Suspendisse viverra faucibus placerat.")])]),a("q-card-main",{staticClass:"full-width self-start text-right"},[a("p",{staticClass:"text-faded q-mb-none q-body",staticStyle:{"text-decoration":"line-through"}},[e._v("De R$55,00")]),a("p",{staticClass:"q-display-1 q-mb-none text-dark"},[a("strong",[e._v("R$50,00")])]),a("p",{staticClass:"text-faded  q-body"},[e._v("+ 10% de cashback")])]),a("q-card-actions",{staticClass:"self-end full-width q-py-none"},[a("q-card-separator",{staticClass:"full-width q-py-none"}),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none text-left"},[a("q-field",{staticClass:"col-3 q-px-sm q-pt-xs",staticStyle:{"margin-top":"-18px","max-width":"60%"}},[a("campo",{attrs:{min:"0",tipo:"quantidade","hide-underline":""},model:{value:e.qtd,callback:function(t){e.qtd=t},expression:"qtd"}}),a("q-tooltip",[e._v("Quantidade")])],1)],1),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",color:"primary",label:"Saiba mais"},nativeOn:{click:function(t){e.goTo("/clubprodutosingle")}}})],1)],1)],1)],1),a("div",{staticClass:"col-12 col-md-6 q-py-sm"},[a("div",{staticClass:"row gutter-x-sm"},e._l(4,function(t){return a("div",{key:t,staticClass:"col-12 col-md-6 q-my-sm"},[a("q-card",{staticClass:" bg-white shadow-10 full-height row "},[a("q-card-media",{staticClass:"full-width  self-start"},[a("img",{attrs:{src:"statics/produto2.jpg"}})]),a("q-card-title",{staticClass:"q-mb-none full-width  self-start q-pb-none text-dark"},[e._v("\n                      Cafe Basilico "+e._s(t)+"\n\n\n                    ")]),a("q-card-main",{staticClass:"full-width self-start text-right"},[a("p",{staticClass:"q-headline q-mb-none text-dark"},[a("strong",[e._v("R$50,00")])])]),a("q-card-actions",{staticClass:"self-end full-width q-py-none"},[a("q-card-separator",{staticClass:"full-width"}),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none text-left"},[a("q-btn",{attrs:{flat:"",color:"negative",label:"Adicionar"}})],1),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",color:"primary",label:"Saiba mais"},nativeOn:{click:function(t){e.goTo("/clubprodutosingle")}}})],1)],1)],1)],1)}))])])]),a("q-carousel-slide",{staticClass:"q-py-none "},[a("div",{staticClass:"row gutter-x-sm items-stretch  q-pb-lg"},[a("div",{staticClass:"col-12 col-md-6 q-py-md"},[a("q-card",{staticClass:"  bg-white shadow-10 full-height row "},[a("q-card-media",{staticClass:"full-width  self-start",staticStyle:{height:"360px"}},[a("img",{attrs:{src:"statics/produto.jpg"}})]),a("q-card-title",{staticClass:"full-width  self-start"},[a("div",{staticClass:"q-headline text-dark"},[a("strong",[e._v("Cafe Basilico")])]),a("p",{staticClass:"text-faded q-body-2",staticStyle:{"line-height":"1.5"}},[e._v("Lorem ipsum dolor sit amet, consectetur\n                    adipiscing elit. Fusce\n                    efficitur arcu vitae ex rutrum varius. Suspendisse viverra faucibus placerat.")])]),a("q-card-main",{staticClass:"full-width self-start text-right"},[a("p",{staticClass:"text-faded q-mb-none q-body",staticStyle:{"text-decoration":"line-through"}},[e._v("De R$55,00")]),a("p",{staticClass:"q-display-1 q-mb-none text-dark"},[a("strong",[e._v("R$50,00")])]),a("p",{staticClass:"text-faded  q-body"},[e._v("+ 10% de cashback")])]),a("q-card-actions",{staticClass:"self-end full-width q-py-none"},[a("q-card-separator",{staticClass:"full-width q-py-none"}),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none text-left"},[a("q-field",{staticClass:"col-3 q-px-sm q-pt-xs",staticStyle:{"margin-top":"-18px","max-width":"60%"}},[a("campo",{attrs:{min:"0",tipo:"quantidade","hide-underline":""},model:{value:e.qtd,callback:function(t){e.qtd=t},expression:"qtd"}}),a("q-tooltip",[e._v("Quantidade")])],1)],1),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",color:"primary",label:"Saiba mais"},nativeOn:{click:function(t){e.goTo("/clubprodutosingle")}}})],1)],1)],1)],1),a("div",{staticClass:"col-12 col-md-6 q-py-sm"},[a("div",{staticClass:"row gutter-x-sm"},e._l(4,function(t){return a("div",{key:t,staticClass:"col-12 col-md-6 q-my-sm"},[a("q-card",{staticClass:" bg-white shadow-10 full-height row "},[a("q-card-media",{staticClass:"full-width  self-start"},[a("img",{attrs:{src:"statics/produto2.jpg"}})]),a("q-card-title",{staticClass:"q-mb-none full-width  self-start q-pb-none text-dark"},[e._v("\n                      Cafe Basilico "+e._s(t)+"\n\n\n                    ")]),a("q-card-main",{staticClass:"full-width self-start text-right"},[a("p",{staticClass:"q-headline q-mb-none text-dark"},[a("strong",[e._v("R$50,00")])])]),a("q-card-actions",{staticClass:"self-end full-width q-py-none"},[a("q-card-separator",{staticClass:"full-width"}),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none text-left"},[a("q-btn",{attrs:{flat:"",color:"negative",label:"Adicionar"}})],1),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",color:"primary",label:"Saiba mais"},nativeOn:{click:function(t){e.goTo("/clubprodutosingle")}}})],1)],1)],1)],1)}))])])])],1),a("div",{staticClass:"q-pa-sm hideondesktop"},[a("q-card",{staticClass:"q-my-sm shadow-5 bg-white ",attrs:{inline:""},nativeOn:{click:function(t){e.goTo("/clubsingle")}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("q-card-media",{staticStyle:{height:"100% !important"}},[a("img",{staticClass:"arredondadoLT",staticStyle:{"margin-top":"0"},attrs:{src:"statics/produto5.jpg"}})])],1),a("div",{staticClass:"col"},[a("q-card-title",{staticClass:"q-mb-none q-py-sm"},[a("div",{staticClass:"q-subheading text-dark"},[a("strong",[e._v("Cafe Basilico")])])]),a("q-card-main",{staticClass:"full-width self-end text-right"},[a("p",{staticClass:"q-headline q-mb-none text-dark"},[a("strong",[e._v("R$50,00")])])])],1)]),a("q-card-actions",{staticClass:"self-end full-width q-py-none"},[a("q-card-separator",{staticClass:"full-width"}),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none text-left"},[a("q-btn",{attrs:{flat:"",color:"negative",label:"Adicionar"}})],1),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",color:"primary",label:"Saiba mais"},nativeOn:{click:function(t){e.goTo("/clubprodutosingle")}}})],1)],1)],1),a("q-card",{staticClass:"q-my-sm shadow-5 bg-white ",attrs:{inline:""},nativeOn:{click:function(t){e.goTo("/clubsingle")}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("q-card-media",{staticStyle:{height:"100% !important"}},[a("img",{staticClass:"arredondadoLT",staticStyle:{"margin-top":"0"},attrs:{src:"statics/produto5.jpg"}})])],1),a("div",{staticClass:"col"},[a("q-card-title",{staticClass:"q-mb-none q-py-sm"},[a("div",{staticClass:"q-subheading text-dark"},[a("strong",[e._v("Cafe Basilico")])])]),a("q-card-main",{staticClass:"full-width self-end text-right"},[a("p",{staticClass:"q-headline q-mb-none text-dark"},[a("strong",[e._v("R$50,00")])])])],1)]),a("q-card-actions",{staticClass:"self-end full-width q-py-none"},[a("q-card-separator",{staticClass:"full-width"}),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none text-left"},[a("q-btn",{attrs:{flat:"",color:"negative",label:"Adicionar"}})],1),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",color:"primary",label:"Saiba mais"},nativeOn:{click:function(t){e.goTo("/clubprodutosingle")}}})],1)],1)],1),a("q-card",{staticClass:"q-my-sm shadow-5 bg-white ",attrs:{inline:""},nativeOn:{click:function(t){e.goTo("/clubsingle")}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("q-card-media",{staticStyle:{height:"100% !important"}},[a("img",{staticClass:"arredondadoLT",staticStyle:{"margin-top":"0"},attrs:{src:"statics/produto5.jpg"}})])],1),a("div",{staticClass:"col"},[a("q-card-title",{staticClass:"q-mb-none q-py-sm"},[a("div",{staticClass:"q-subheading text-dark"},[a("strong",[e._v("Cafe Basilico")])])]),a("q-card-main",{staticClass:"full-width self-end text-right"},[a("p",{staticClass:"q-headline q-mb-none text-dark"},[a("strong",[e._v("R$50,00")])])])],1)]),a("q-card-actions",{staticClass:"self-end full-width q-py-none"},[a("q-card-separator",{staticClass:"full-width"}),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none text-left"},[a("q-btn",{attrs:{flat:"",color:"negative",label:"Adicionar"}})],1),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",color:"primary",label:"Saiba mais"},nativeOn:{click:function(t){e.goTo("/clubprodutosingle")}}})],1)],1)],1),a("q-card",{staticClass:"q-my-sm shadow-5 bg-white ",attrs:{inline:""},nativeOn:{click:function(t){e.goTo("/clubsingle")}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("q-card-media",{staticStyle:{height:"100% !important"}},[a("img",{staticClass:"arredondadoLT",staticStyle:{"margin-top":"0"},attrs:{src:"statics/produto5.jpg"}})])],1),a("div",{staticClass:"col"},[a("q-card-title",{staticClass:"q-mb-none q-py-sm"},[a("div",{staticClass:"q-subheading text-dark"},[a("strong",[e._v("Cafe Basilico")])])]),a("q-card-main",{staticClass:"full-width self-end text-right"},[a("p",{staticClass:"q-headline q-mb-none text-dark"},[a("strong",[e._v("R$50,00")])])])],1)]),a("q-card-actions",{staticClass:"self-end full-width q-py-none"},[a("q-card-separator",{staticClass:"full-width"}),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none text-left"},[a("q-btn",{attrs:{flat:"",color:"negative",label:"Adicionar"}})],1),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",color:"primary",label:"Saiba mais"},nativeOn:{click:function(t){e.goTo("/clubprodutosingle")}}})],1)],1)],1),a("q-btn",{staticClass:"q-my-md q-mx-sm full-width arredondadoMinibt",attrs:{color:"primary",size:"md",label:"Ver mais"}})],1),a("div",{staticClass:"q-display-1 text-dark q-mt-xl q-mb-md q-mx-md"},[a("q-btn",{attrs:{color:"dark",dense:"",flat:"",icon:"mdi-map-marker-circle",round:"",size:"xl",disabled:""}}),e._v("\n        Lugares pra conhecer\n      ")],1),a("q-carousel",{staticClass:"q-mb-xl hideonmobile",staticStyle:{"margin-top":"-6px"},attrs:{color:"white",arrows:""}},[a("q-carousel-slide",{staticClass:"q-py-none"},[a("div",{staticClass:"row gutter-x-sm q-pb-lg"},e._l(4,function(t){return a("div",{key:t,staticClass:"col-12 col-md-3 q-py-sm"},[a("q-card",{staticClass:"q-ma-sm shadow-10 bg-dark",attrs:{inline:""},nativeOn:{click:function(t){e.goTo("/clubsingle")}}},[a("q-card-media",[a("img",{attrs:{src:"statics/produto5.jpg"}})]),a("q-card-title",{staticClass:"q-mb-none q-py-sm"},[a("div",{staticClass:"q-headline text-white"},[a("strong",[e._v("Cafe Basilico "+e._s(t))])])]),a("q-card-main",[a("p",{staticClass:"text-white q-mb-none"},[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce\n                    efficitur arcu vitae ex rutrum varius. ")])])],1)],1)}))]),a("q-carousel-slide",{staticClass:"q-py-none"},[a("div",{staticClass:"row gutter-x-sm q-pb-lg"},e._l(4,function(t){return a("div",{key:t,staticClass:"col-12 col-md-3 q-py-sm"},[a("q-card",{staticClass:"q-ma-sm shadow-10 bg-dark",attrs:{inline:""},nativeOn:{click:function(t){e.goTo("/clubsingle")}}},[a("q-card-media",[a("img",{attrs:{src:"statics/produto5.jpg"}})]),a("q-card-title",{staticClass:"q-mb-none q-py-sm"},[a("div",{staticClass:"q-headline text-white"},[a("strong",[e._v("Cafe Basilico "+e._s(t))])])]),a("q-card-main",[a("p",{staticClass:"text-white q-mb-none"},[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce\n                    efficitur arcu vitae ex rutrum varius. ")])])],1)],1)}))])],1),a("div",{staticClass:"q-pt-md q-pb-lg q-px-sm hideondesktop"},[a("q-card",{staticClass:"q-my-sm shadow-5 bg-dark ",attrs:{inline:""},nativeOn:{click:function(t){e.goTo("/clubsingle")}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("q-card-media",{staticStyle:{height:"100% !important"}},[a("img",{staticClass:"arredondadoL",staticStyle:{"margin-top":"0"},attrs:{src:"statics/produto5.jpg"}})])],1),a("div",{staticClass:"col"},[a("q-card-title",{staticClass:"q-mb-none q-py-sm"},[a("div",{staticClass:"q-subheading text-white"},[a("strong",[e._v("Cafe Basilico")])])]),a("q-card-main",{staticClass:"q-pb-none"},[a("p",{staticClass:"text-white q-mb-none q-caption q-mb-none"},[e._v("Lorem ipsum dolor sit amet, consectetur\n                  adipiscing elit. ")])])],1)])]),a("q-card",{staticClass:"q-my-sm shadow-5 bg-dark ",attrs:{inline:""},nativeOn:{click:function(t){e.goTo("/clubsingle")}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("q-card-media",{staticStyle:{height:"100% !important"}},[a("img",{staticClass:"arredondadoL",staticStyle:{"margin-top":"0"},attrs:{src:"statics/produto5.jpg"}})])],1),a("div",{staticClass:"col"},[a("q-card-title",{staticClass:"q-mb-none q-py-sm"},[a("div",{staticClass:"q-subheading text-white"},[a("strong",[e._v("Cafe Basilico")])])]),a("q-card-main",{staticClass:"q-pb-none"},[a("p",{staticClass:"text-white q-mb-none q-caption q-mb-none"},[e._v("Lorem ipsum dolor sit amet, consectetur\n                  adipiscing elit. ")])])],1)])]),a("q-card",{staticClass:"q-my-sm shadow-5 bg-dark ",attrs:{inline:""},nativeOn:{click:function(t){e.goTo("/clubsingle")}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("q-card-media",{staticStyle:{height:"100% !important"}},[a("img",{staticClass:"arredondadoL",staticStyle:{"margin-top":"0"},attrs:{src:"statics/produto5.jpg"}})])],1),a("div",{staticClass:"col"},[a("q-card-title",{staticClass:"q-mb-none q-py-sm"},[a("div",{staticClass:"q-subheading text-white"},[a("strong",[e._v("Cafe Basilico")])])]),a("q-card-main",{staticClass:"q-pb-none"},[a("p",{staticClass:"text-white q-mb-none q-caption q-mb-none"},[e._v("Lorem ipsum dolor sit amet, consectetur\n                  adipiscing elit. ")])])],1)])]),a("q-btn",{staticClass:"q-my-md q-mx-sm full-width arredondadoMinibt",attrs:{color:"primary",size:"md",label:"Ver mais"}})],1)],1)],1),a("footer",{staticClass:"text-white q-py-md hideonmobile"},[a("div",{staticClass:"u-container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("div",{staticClass:"q-headline q-mx-md"},[e._v(" Explore por segmentos")])]),a("div",{staticClass:"col-8"},[a("div",{staticClass:"q-headline q-mx-md"},[e._v(" Explore por cidades")])]),a("div",{staticClass:"col-12 col-md-4"},[a("ul",e._l(4,function(t){return a("li",{key:t,staticClass:"q-body-2 q-mb-sm"},[e._v("Segmento "+e._s(t))])}))]),a("div",{staticClass:"col-12 col-md-4"},[a("ul",e._l(4,function(t){return a("li",{key:t,staticClass:"q-body-2 q-mb-sm"},[e._v("Cidade "+e._s(t))])}))]),a("div",{staticClass:"col-12 col-md-4"},[a("ul",e._l(4,function(t){return a("li",{key:t,staticClass:"q-body-2 q-mb-sm"},[e._v("Cidade "+e._s(t+4))])}))])])])]),a("div",{staticClass:"copy text-white q-caption q-py-sm"},[a("div",{staticClass:"u-container"},[a("div",{staticClass:"row q-py-md"},[a("div",{staticClass:"col-12 col-lg-8"},[a("p",{staticClass:"q-mb-none q-mx-md q-pt-sm"},[e._v("CNPJ 07.660.198/0001-89 / Av. Presidente Vargas, 2001, CJ 45, Jardim\n            América,\n            Ribeirão Preto / SP - CEP 14020-525")])]),a("div",{staticClass:"col-12 col-lg-4 q-pr-sm",staticStyle:{"text-align":"right"}},[a("p",{staticClass:"q-py-none"},[e._v("Ecosistema "),e.mostrarLogo?a("img",{staticClass:"q-ml-xs",staticStyle:{"margin-bottom":"-7px"},attrs:{src:"statics/logo-inverted.png",alt:"",height:"25"}}):e._e()])])])])]),a("q-modal",{model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header",color:"primary"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",color:"white",icon:"arrow_back",round:""}}),a("div",{staticClass:"q-subheading text-white"},[e._v("Login")])],1),a("div",{staticClass:"layout-padding q-pa-md "},[a("q-input",{attrs:{color:"faded","stack-label":"Login"}}),a("q-input",{attrs:{color:"faded","stack-label":"Senha"}}),a("q-btn",{staticClass:"q-mt-sm",attrs:{color:"primary",label:"Enviar"}})],1)],1)],1),a("q-modal",{model:{value:e.openedM,callback:function(t){e.openedM=t},expression:"openedM"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header",color:"primary"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",color:"white",icon:"arrow_back",round:""}}),a("div",{staticClass:"q-subheading text-white"},[e._v("Minha empresa")])],1),a("div",{staticClass:"layout-padding q-pa-md "},[a("q-input",{attrs:{color:"faded","stack-label":"Login"}}),a("q-input",{attrs:{color:"faded","stack-label":"Senha"}}),a("q-btn",{staticClass:"q-mt-sm",attrs:{color:"primary",label:"Enviar"}})],1)],1)],1),a("q-modal",{model:{value:e.openedC,callback:function(t){e.openedC=t},expression:"openedC"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header",color:"primary"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",color:"white",icon:"arrow_back",round:""}}),a("div",{staticClass:"q-subheading text-white"},[e._v("Cadastre-se")])],1),a("div",{staticClass:"layout-padding q-pa-md "},[a("q-input",{attrs:{color:"faded","stack-label":"Nome"}}),a("q-input",{attrs:{color:"faded","stack-label":"E-mail"}}),a("q-input",{attrs:{color:"faded","stack-label":"Telefone"}}),a("q-input",{attrs:{color:"faded","stack-label":"CPF/CNPJP"}}),a("q-btn",{staticClass:"q-mt-sm",attrs:{color:"primary",label:"Enviar"}})],1)],1)],1)],1)},nk=[];sk._withStripped=!0;var ck={components:{Campo:Sl},computed:{},data:function(){return{opened:!1,openedM:!1,openedC:!1,qtd:0,grupos:[],mostrarLogo:!1,select:"",selectOptions:[{label:"Cidade",value:"goog"},{label:"Produto",value:"goog"},{label:"Empresa",value:"fb"}]}},methods:{abrirClub:function(){this.opened=!0},userHasScrolled:function(e){this.mostrarLogo=e.position>=102},goTo:function(e){this.$router.push(e)}}},lk=ck,dk=(a("2b1d"),Object(sc["a"])(lk,sk,nk,!1,null,"7bddb1ba",null));dk.options.__file="Club.vue";var uk=dk.exports,mk=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Club"},[a("q-layout-header",{staticClass:"topbar "},[a("div",{staticClass:"u-container q-px-none"},[e.mostrarLogo?e._e():a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none "},[a("transition",{attrs:{name:"fade"}},[e.mostrarLogo?a("img",{attrs:{src:"statics/logo-inverted.png",alt:"B15",height:"28"},nativeOn:{click:function(t){e.goToLink("/club")}}}):e._e()])],1),a("q-btn",{staticClass:"q-mx-sm",attrs:{flat:"",color:"white",label:"Minha empresa"},on:{click:function(t){e.openedM=!0}}}),a("q-btn",{staticClass:"q-mx-sm hideonmobile",attrs:{color:"white",flat:"",label:"Cadastre-se"},on:{click:function(t){e.openedC=!0}}}),a("q-btn",{staticClass:"q-mx-sm",attrs:{color:"white","text-color":"primary",label:"Entrar"},on:{click:function(t){e.openURL("https://app.b15.com.br")}}})],1),a("q-select",{staticClass:"hideondesktop no-shadow",attrs:{dark:"",inverted:"",color:"transparent",options:e.filterOptions,"float-label":"Filtrar produtos por:"},on:{input:e.onFilterChange},model:{value:e.filterSelect,callback:function(t){e.filterSelect=t},expression:"filterSelect"}}),e.mostrarLogo?a("q-btn-group",{staticClass:"no-shadow hideonmobile"},e._l(e.filterOptions,function(t,o){return a("span",{key:o},[a("q-btn",{attrs:{label:e.filterOptions[o].label,flat:"","text-color":"white"},on:{click:function(t){e.goToAnchor(e.filterOptions[o].value)}}})],1)})):e._e()],1)]),a("q-page-container",[a("q-page",{staticClass:"u-container",staticStyle:{"min-height":"auto"}},[a("q-scroll-observable",{on:{scroll:e.userHasScrolled}}),a("q-toolbar",{staticClass:"q-px-none q-mt-md q-mb-md cliente",attrs:{color:"transparent"}},[a("q-toolbar-title",[a("img",{staticClass:"imgavatar",attrs:{src:e.contato[0].Imagem,alt:e.contato[0].Nome,height:"100"}})]),a("div",{staticClass:"row"},[a("a",{staticClass:"botaoTopo q-btn q-btn-flat text-tertiary q-ma-sm q-caption",attrs:{href:""}},["Whatsapp"===e.contatoTelefone[0].TipoTelefone?a("q-icon",{attrs:{name:"mdi-whatsapp",size:"28px"}}):a("q-icon",{attrs:{name:"mdi-phone",size:"28px"}}),a("div",{staticClass:"q-mt-sm"},[e._v(e._s(e.contatoTelefone[0].Telefone))])],1),a("a",{staticClass:"botaoTopo q-btn q-btn-flat text-tertiary q-ma-sm q-caption",attrs:{href:""}},[a("q-icon",{attrs:{name:"mdi-beer",size:"28px"}}),a("div",{staticClass:"q-mt-sm"},[e._v("Produtos")])],1),a("a",{staticClass:"botaoTopo q-btn q-btn-flat text-tertiary q-ma-sm q-caption",attrs:{href:""}},[a("q-icon",{attrs:{name:"mdi-map-marker",size:"28px"}}),a("div",{staticClass:"q-mt-sm"},[e._v("Endereço")])],1)])],1)],1),a("q-carousel",{staticClass:"q-mb-sm q-mb-xl hideonmobile",attrs:{color:"white",arrows:"",height:"440px"}},[a("q-carousel-slide",{attrs:{"img-src":"statics/banner-tocos.jpg"}}),a("q-carousel-slide",{attrs:{"img-src":"statics/banner-tocos.jpg"}}),a("q-carousel-slide",{attrs:{"img-src":"statics/banner-tocos.jpg"}})],1),a("q-page",{staticClass:"u-container q-pt-md",staticStyle:{"min-height":"auto"}},[a("div",{staticClass:"hideonmobile"},[a("div",{staticClass:"q-display-1 text-primary q-mb-sm q-pl-sm"},[a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"mdi-shopping",round:"",size:"xl",disabled:""}}),e._v("\n          Chame os amigos e curta com a gente\n        ")],1),a("div",{staticClass:"q-subheading text-tertiary q-mb-md q-pl-sm",staticStyle:{"font-weight":"400"}},[e._v("\n          Reunimos aqui, tudo que sempre gostamos e agora oferecemos para os outros! Cerveja gelada, porções\n          generosas, a caipirinha do Sr. Miague a um valor justo, sem enganação!\n        ")])]),a("div",{staticClass:"hideondesktop text-center"},[a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"mdi-shopping",round:"",size:"xl",disabled:""}}),a("div",{staticClass:"q-display-1 text-primary q-mb-sm q-pl-sm"},[e._v("\n\n          Chame os amigos "),a("Br"),e._v("e curta com a gente\n        ")],1),a("div",{staticClass:"q-subheading text-tertiary q-mb-md q-pl-sm",staticStyle:{"font-weight":"400"}},[e._v("\n          Reunimos aqui, tudo que sempre gostamos e agora oferecemos para os outros! Cerveja gelada, porções\n          generosas, a caipirinha do Sr. Miague a um valor justo, sem enganação!\n        ")])],1),e._l(e.item,function(t,o){return a("section",{key:o,attrs:{id:e.criarSlug(o)}},[a("div",{staticClass:"q-title text-tertiary q-my-md q-pl-sm",staticStyle:{"font-weight":"400"}},[e._v(e._s(o))]),a("div",{staticClass:"row items-stretch q-pb-xl products"},e._l(t,function(t){return a("div",{key:t,staticClass:"col-12 col-md-3 q-mb-md"},[a("q-card",{staticClass:"q-ma-sm  bg-white full-height row "},[t.Imagem?a("q-card-media",{staticClass:"full-width  self-start"},[a("img",{attrs:{src:t.Imagem}})]):e._e(),a("q-card-title",{staticClass:"q-mb-none full-width  self-start"},[e._v("\n                "+e._s(t.Descricao)+"\n                ")]),a("q-card-main",{staticClass:"full-width self-start text-right"},[a("p",{staticClass:"q-headline q-mb-none"},[a("strong",[e._v("R$\n                    "+e._s(t.ValorVenda))])])]),a("q-card-actions",{staticClass:"self-end full-width q-py-none"},[a("q-card-separator",{staticClass:"full-width"}),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none text-left"},[a("q-field",{staticClass:"col-3 q-px-sm q-pt-xs",staticStyle:{"margin-top":"-18px"}},[a("campo",{attrs:{min:"0",tipo:"quantidade","hide-underline":""},on:{input:function(a){e.updateCart(t.CodigoItem,t.Descricao,e.qtd[t.CodigoItem],t.ValorVenda,t.Imagem)}},model:{value:e.qtd[t.CodigoItem],callback:function(a){e.$set(e.qtd,t.CodigoItem,a)},expression:"qtd[value.CodigoItem]"}}),a("q-tooltip",[e._v("Quantidade")])],1)],1),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",color:"primary",label:"Saiba mais"},nativeOn:{click:function(t){e.goToLink("/clubprodutosingle")}}})],1)],1)],1)],1)}))])})],2)],1),a("iframe",{staticStyle:{border:"0",width:"100%"},attrs:{src:"https://www.google.com/maps?q="+e.address+"&output=embed",width:"600",height:"450",frameborder:"0",allowfullscreen:"","aria-hidden":"false",tabindex:"0"}}),a("q-jumbotron",{staticStyle:{"min-height":"380px"},attrs:{dark:"","img-src":"statics/banner-geeks.jpg",hidden:""}},[a("div",{staticClass:"u-container"},[a("div",{staticClass:"q-display-1"},[a("strong",[e._v("SUA EMPRESA É ÚNICA")])]),a("div",{staticClass:"q-subheading"},[e._v("\n        E A NOSSA SOLUÇÃO EM SISTEMA PARA GESTÃO TAMBÉM.\n      ")]),a("q-btn",{staticClass:"q-py-sm q-mt-md q-px-xl",attrs:{color:"primary",label:"Saiba mais"}})],1)]),a("footer",{staticClass:"text-white q-py-md",attrs:{hidden:""}},[a("div",{staticClass:"u-container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"q-headline q-mx-md q-mb-none text-center"},[a("img",{staticClass:"q-mx-sm",staticStyle:{"margin-bottom":"-6px"},attrs:{src:"statics/facebook.png",alt:"",height:"28"}}),a("img",{staticClass:"q-mx-sm",staticStyle:{"margin-bottom":"-6px"},attrs:{src:"statics/twiter.png",alt:"",height:"28"}}),a("img",{staticClass:"q-mx-sm",staticStyle:{"margin-bottom":"-6px"},attrs:{src:"statics/instagram.png",alt:"",height:"28"}}),a("img",{staticClass:"q-mx-sm",staticStyle:{"margin-bottom":"-6px"},attrs:{src:"statics/linkedin.png",alt:"",height:"28"}})])])])])]),a("div",{staticClass:"copy text-tertiary q-caption q-py-xl"},[a("div",{staticClass:"u-container"},[a("div",{staticClass:"row q-pt-md q-pb-sm"},[a("div",{staticClass:"col-12 col-lg-8"},[a("p",{staticClass:"q-mb-none q-mx-md q-pt-sm"},[e._v("\n            "+e._s(e.contato[0].NumeroDocumentoNacional)+" / "+e._s(e.address)+" / "+e._s(e.contatoEndereco[0].CEP))])]),a("div",{staticClass:"col-12 col-lg-4 q-pr-sm",staticStyle:{"text-align":"right"}},[a("p",{staticClass:"q-py-none"},[e._v("Ecosistema "),e.mostrarLogo?a("img",{staticClass:"q-ml-xs",staticStyle:{"margin-bottom":"-7px"},attrs:{src:"statics/b15.svg",alt:"",height:"25"}}):e._e()])])])])]),a("div",{staticStyle:{height:"50px",width:"100%",display:"block"}}),a("q-layout-footer",{attrs:{color:"primary",reveal:!(!e.cartItems.length||!1!==e.openedF)}},[a("q-toolbar",[a("q-toolbar-title",[a("div",{staticClass:"row"},[a("div",{staticClass:"q-body-2 q-mr-sm"},[e._v(e._s(e.cartItems.reduce(function(e,t){return e+t.qtd},0))+" itens")]),a("div",{staticClass:"q-body-2 q-mr-sm"},[e._v("R$\n            "+e._s(e._f("numero")(e.cartItems.reduce(function(e,t){return e+t.qtd*t.price},0),2)))])])]),a("q-btn",{attrs:{label:"Finalizar",color:"white","text-color":"primary"},on:{click:function(t){e.openedF=!e.openedF}}})],1)],1),a("q-modal",{model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header",color:"primary"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",color:"white",icon:"arrow_back",round:""}}),a("div",{staticClass:"q-subheading text-white"},[e._v("Login")])],1),a("div",{staticClass:"layout-padding q-pa-md "},[a("q-input",{attrs:{color:"faded","stack-label":"Login"}}),a("q-input",{attrs:{color:"faded","stack-label":"Senha"}}),a("q-btn",{staticClass:"q-mt-sm",attrs:{color:"primary",label:"Enviar"}})],1)],1)],1),a("q-modal",{model:{value:e.openedM,callback:function(t){e.openedM=t},expression:"openedM"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header",color:"primary"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",color:"white",icon:"arrow_back",round:""}}),a("div",{staticClass:"q-subheading text-white"},[e._v("Minha empresa")])],1),a("div",{staticClass:"layout-padding q-pa-md "},[a("q-input",{attrs:{color:"faded","stack-label":"Login"}}),a("q-input",{attrs:{color:"faded","stack-label":"Senha"}}),a("q-btn",{staticClass:"q-mt-sm",attrs:{color:"primary",label:"Enviar"}})],1)],1)],1),a("q-modal",{model:{value:e.openedC,callback:function(t){e.openedC=t},expression:"openedC"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header",color:"primary"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",color:"white",icon:"arrow_back",round:""}}),a("div",{staticClass:"q-subheading text-white"},[e._v("Cadastre-se")])],1),a("div",{staticClass:"layout-padding q-pa-md "},[a("q-input",{attrs:{color:"faded","stack-label":"Nome"}}),a("q-input",{attrs:{color:"faded","stack-label":"E-mail"}}),a("q-input",{attrs:{color:"faded","stack-label":"Telefone"}}),a("q-input",{attrs:{color:"faded","stack-label":"CPF/CNPJP"}}),a("q-btn",{staticClass:"q-mt-sm",attrs:{color:"primary",label:"Enviar"}})],1)],1)],1),a("q-layout-drawer",{attrs:{overlay:"",side:"right",behavior:"mobile"},model:{value:e.openedF,callback:function(t){e.openedF=t},expression:"openedF"}},[a("club-carrinho",{attrs:{cartItems:e.cartItems}})],1)],1)},pk=[];mk._withStripped=!0;var vk=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"clubcarrinho q-pa-none"},[e._m(0),a("div",{staticClass:"items "},[e._l(e.cartItems,function(t){return a("q-card",{key:t,staticClass:"q-ma-xs q-mb-sm no-shadow itemcard"},[a("div",{staticClass:"row  q-px-sm q-pb-none q-mb-none "},[a("div",{staticClass:"col-auto q-pt-sm"},[a("avatar",{attrs:{imagem:t.imagem,tamanho:"40"}})],1),a("q-toolbar",{staticClass:"bg-transparent col q-pr-none q-py-none",attrs:{color:"black",inverted:""}},[a("q-toolbar-title",{staticClass:"q-pa-none"},[a("span",{staticClass:"q-body-2"},[e._v(e._s(t.name))])])],1)],1),a("q-card-actions",{staticClass:"text-center"},[a("q-field",{staticClass:"col q-px-sm",staticStyle:{"margin-top":"-18px"}},[a("campo",{attrs:{min:"1",tipo:"quantidade","hide-underline":""},model:{value:t.qtd,callback:function(a){e.$set(t,"qtd",a)},expression:"item.qtd"}}),a("q-tooltip",[e._v("Quantidade")])],1),a("span",{staticClass:"q-body-2 q-px-sm"},[e._v("R$"+e._s(e._f("numero")(t.price*t.qtd,2))+" "),a("q-tooltip",[e._v("Subtotal")])],1)],1)],1)}),a("div",{staticClass:"q-pa-md"},[a("span",{staticClass:"q-body-2"},[e._v("Informe seus dados pessoais:")]),a("div",{staticClass:"q-pt-md"},[a("q-input",{attrs:{color:"faded","stack-label":"Nome"}}),a("q-input",{attrs:{color:"faded","stack-label":"E-mail"}}),a("q-input",{attrs:{color:"faded","stack-label":"Telefone"}}),a("q-input",{attrs:{color:"faded","stack-label":"Endereço"}}),a("q-field",{staticClass:"col-4 col-sm-3"},[a("q-select",{attrs:{"float-label":"Forma de pagamento",options:e.selectOptions},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}})],1)],1)])],2),a("q-layout-footer",{attrs:{color:"primary"}},[a("q-toolbar",[a("q-toolbar-title",[a("div",{staticClass:"row"},[a("div",{staticClass:"q-body-2 q-mr-sm"},[e._v(e._s(e.cartItems.reduce(function(e,t){return e+t.qtd},0))+" itens")]),a("div",{staticClass:"q-body-2 q-mr-sm"},[e._v("R$\n            "+e._s(e._f("numero")(e.cartItems.reduce(function(e,t){return e+t.qtd*t.price},0),2)))])])]),a("q-btn",{attrs:{label:"ENVIAR",color:"white","text-color":"primary"}})],1)],1)],1)},hk=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("span",{staticClass:"q-body-2"},[e._v("Itens adicionados:")])])}];vk._withStripped=!0;var fk={components:{Avatar:Fc,Campo:Sl},data:function(){return{parcelas:!1,pagamento:!1,quantidade:1,opcoes:[{label:"Masculino",value:"Masculino"},{label:"Feminino",value:"Feminino"},{label:"Outro",value:"Outro"}],shoppingItems:[{id:1,name:"5 Caipirinhas",price:"25,00",quantidade:1},{id:2,name:"Calgos Tocos bar",price:"12,00",quantidade:1},{id:1,name:"Mandioca com torresmo",price:"7,00",quantidade:1}],select:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}]}},methods:{abrirPagto:function(){this.pagamento=!0},abrirParcelas:function(){this.parcelas=!0}},props:{cartItems:{type:Array,required:!0,default:function(){return[]}}}},Ck=fk,bk=(a("86fd"),Object(sc["a"])(Ck,vk,hk,!1,null,"3bd380ab",null));bk.options.__file="ClubCarrinho.vue";var gk=bk.exports,xk={components:{Campo:Sl,ClubCarrinho:gk},computed:{},data:function(){return{filterSelect:"",filterOptions:[],opened:!1,openedM:!1,openedC:!1,openedF:!1,mostrarLogo:!1,qtd:{},contato:[],contatoEndereco:[],contatoTelefone:[],item:[],cartItems:[],address:"",state:!0}},methods:{updateCart:function(e,t,a,o,i){var r=this.cartItems.findIndex(function(t){return t.cod===e});-1!==r?0===a?this.cartItems=this.cartItems.filter(function(t){return t.cod!==e}):this.cartItems[r].qtd=a:this.cartItems.push({cod:e,name:t,qtd:a,price:o,imagem:i}),localStorage.setItem("cartItemsStoraged",JSON.stringify(this.cartItems))},criarSlug:function(e){return oo(e.replace(" ",""))},onFilterChange:function(){this.goToAnchor(this.filterSelect)},goToAnchor:function(e){var t=0;t=window.innerWidth>990?document.getElementById(e).offsetTop+window.innerHeight/2:document.getElementById(e).offsetTop,window.scroll({top:t,left:0,behavior:"smooth"})},atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$utils.geeksApi({clubsingle:{funcao:"D0405D75-055F-4202-80CE-76CBDF8EE0A7"}});case 2:for(t=e.sent,a=!0,o=!1,i=void 0,e.prev=6,r=t.data["clubsingle"].item.map(function(e){return e.CodigoItem})[Symbol.iterator]();!(a=(s=r.next()).done);a=!0)n=s.value,this.qtd[n]=0;e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](6),o=!0,i=e.t0;case 14:e.prev=14,e.prev=15,a||null==r.return||r.return();case 17:if(e.prev=17,!o){e.next=20;break}throw i;case 20:return e.finish(17);case 21:return e.finish(14);case 22:for(c in this.cartItems.forEach(function(e){d.qtd[e.cod]=e.qtd}),this.item=t.data["clubsingle"].item.reduce(function(e,t){return""!==t.Grupo&&""!==t.Imagem&&(e[t.Grupo]=la()(e[t.Grupo]||[]).concat([t])),e},{}),this.item)l={label:c,value:this.criarSlug(c)},this.filterOptions.push(l);this.contato=t.data["clubsingle"].contato,this.contatoEndereco=t.data["clubsingle"].contatoEndereco,this.address=this.contatoEndereco[0].Logradouro+", ",this.address+=this.contatoEndereco[0].Numero+", ",this.address+=this.contatoEndereco[0].Complemento+", ",this.address+=this.contatoEndereco[0].Bairro+", ",this.address+=this.contatoEndereco[0].Municipio+"-",this.address+=this.contatoEndereco[0].UF,this.contatoTelefone=t.data["clubsingle"].contatoTelefone;case 34:case"end":return e.stop()}},e,this,[[6,10,14,22],[15,,17,21]])}));return function(){return e.apply(this,arguments)}}(),userHasScrolled:function(e){window.innerWidth>768?this.mostrarLogo=e.position>=102:this.mostrarLogo=!0},goToLink:function(e){this.$router.push(e)}},created:function(){this.atualizar(),localStorage.getItem("cartItemsStoraged")&&(this.cartItems=JSON.parse(localStorage.getItem("cartItemsStoraged")))}},_k=xk,qk=(a("4cbb"),Object(sc["a"])(_k,mk,pk,!1,null,"4fedafb1",null));qk.options.__file="ClubSingle.vue";var Sk=qk.exports,Ik=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Club"},[a("q-layout-header",{staticClass:"topbar"},[a("div",{staticClass:"u-container q-px-none"},[a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none hideonmobile"},[a("transition",{attrs:{name:"fade"}},[e.mostrarLogo?a("img",{attrs:{src:"statics/logo-inverted.png",alt:"",height:"28"},nativeOn:{click:function(t){e.goTo("/club")}}}):e._e()])],1),a("q-btn",{staticClass:"q-mx-sm",attrs:{flat:"",color:"white",label:"Minha empresa"},on:{click:function(t){e.openedM=!0}}}),a("q-btn",{staticClass:"q-mx-sm hideonmobile",attrs:{color:"white",flat:"",label:"Cadastre-se"},on:{click:function(t){e.openedC=!0}}}),a("q-btn",{staticClass:"q-mx-sm",attrs:{color:"white","text-color":"primary",label:"Entrar"},on:{click:function(t){e.openURL("https://app.b15.com.br")}}})],1)],1)]),a("q-page-container",[a("q-page",{staticClass:"u-container"},[a("q-scroll-observable",{on:{scroll:e.userHasScrolled}}),a("q-toolbar",{staticClass:"q-px-none q-my-md  cliente",attrs:{color:"transparent"}},[a("q-toolbar-title",[a("img",{staticClass:"imgavatar",attrs:{src:e.contato[0].Imagem,alt:e.contato[0].Nome,height:"100"}})]),a("div",{staticClass:"row"},[a("a",{staticClass:"botaoTopo q-btn q-btn-flat text-tertiary q-ma-sm q-caption",attrs:{href:""}},["Whatsapp"===e.contatoTelefone[0].TipoTelefone?a("q-icon",{attrs:{name:"mdi-whatsapp",size:"28px"}}):a("q-icon",{attrs:{name:"mdi-phone",size:"28px"}}),a("div",{staticClass:"q-mt-sm"},[e._v(e._s(e.contatoTelefone[0].Telefone))])],1),a("a",{staticClass:"botaoTopo q-btn q-btn-flat text-tertiary q-ma-sm q-caption",attrs:{href:""}},[a("q-icon",{attrs:{name:"mdi-beer",size:"26px"}}),a("div",{staticClass:"q-mt-sm"},[e._v("Produtos")])],1),a("a",{staticClass:"botaoTopo q-btn q-btn-flat text-tertiary q-ma-sm q-caption",attrs:{href:""}},[a("q-icon",{attrs:{name:"mdi-map-marker",size:"28px"}}),a("div",{staticClass:"q-mt-sm"},[e._v("Endereço")])],1)])],1),a("div",{staticClass:"q-display-1 text-primary q-pl-sm q-mt-xl"},[a("strong",[e._v(e._s(e.product.Descricao))])]),a("div",{staticClass:"q-headline text-tertiary q-pl-sm"},[e._v(e._s(e.product.Marca))]),a("div",{staticClass:"row q-my-lg"},[a("div",{staticClass:"col-12 col-md-6 col-lg-4"},[a("q-carousel",{staticClass:"q-mb-sm",attrs:{color:"white",arrows:""}},[a("q-carousel-slide",[a("img",{attrs:{src:e.product.Imagem,width:"100%"}})])],1)],1),a("div",{staticClass:"col-12 col-md-6 col-lg-8 text-tertiary q-subheading"},[a("pre",{staticClass:"q-body-1",staticStyle:{"white-space":"pre-line"}},[e._v(e._s(e.product.Observacao))]),a("q-toolbar",{staticClass:"q-px-sm q-my-lg hideonmobile",attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"q-px-none"},[a("p",{staticClass:"text-faded q-mb-none",staticStyle:{"text-decoration":"line-through"},attrs:{hidden:""}},[e._v("De R$ 50,00")]),a("div",{staticClass:"q-display-1 text-primary"},[a("small",{staticClass:"q-title",attrs:{hidden:""}},[e._v("por\n                ")]),a("strong",[e._v(e._s(e._f("numero")(e.product.ValorVenda,2)))])]),a("p",{staticClass:"text-faded q-mb-none",attrs:{hidden:""}},[e._v("em até 10x de R$ 3,50 sem juros")])]),a("q-field",{staticClass:" col-3 q-px-sm",staticStyle:{"margin-top":"-18px"}},[a("campo",{attrs:{min:"0",tipo:"quantidade","hide-underline":""},on:{input:function(t){e.updateCart(e.product.CodigoItem,e.product.Descricao,e.qtd[e.product.CodigoItem],e.product.ValorVenda,e.product.Imagem)}},model:{value:e.qtd[e.product.CodigoItem],callback:function(t){e.$set(e.qtd,e.product.CodigoItem,t)},expression:"qtd[product.CodigoItem]"}}),a("q-tooltip",[e._v("Quantidade")])],1)],1),a("div",{staticClass:"q-px-sm q-mt-sm q-mb-none hideondesktop",attrs:{color:"transparent"}},[a("p",{staticClass:"text-faded q-mb-none",staticStyle:{"text-decoration":"line-through"}},[e._v("De R$ 50,00")]),a("div",{staticClass:"q-display-1 text-primary"},[a("small",{staticClass:"q-title"},[e._v("por ")]),a("strong",[e._v("R$ 35,00")])]),a("p",{staticClass:"text-faded q-mb-none"},[e._v("em até 10x de R$ 3,50 sem juros")]),a("q-field",{staticClass:"q-px-sm q-mt-xs"},[a("campo",{attrs:{min:"0",tipo:"quantidade","hide-underline":""},model:{value:e.qtd,callback:function(t){e.qtd=t},expression:"qtd"}}),a("q-tooltip",[e._v("Quantidade")])],1)],1),a("q-btn",{staticClass:"q-my-md q-mx-sm full-width ",attrs:{hidden:"",color:"negative",size:"lg",label:"Adicionar",flat:""}})],1)]),a("div",{staticClass:"q-title text-primary q-mt-xl q-mb-sm q-pl-sm"},[a("q-btn",{attrs:{color:"primary",dense:"",flat:"",icon:"mdi-shopping",round:"",size:"xl",disabled:""}}),e._v(" Compre junto:\n      ")],1),a("q-carousel",{staticClass:"q-mb-xl ",staticStyle:{"margin-top":"-6px"},attrs:{color:"white",arrows:""}},[a("q-carousel-slide",{staticClass:"q-py-md"},[a("div",{staticClass:"row"},e._l(e.upSell,function(t){return a("div",{key:t,staticClass:"col-12 col-md-3"},[a("q-card",{staticClass:"q-ma-sm  bg-white full-height row "},[t.Imagem?a("q-card-media",{staticClass:"full-width  self-start"},[a("img",{attrs:{src:t.Imagem}})]):e._e(),a("q-card-title",{staticClass:"q-mb-none full-width  self-start"},[e._v("\n                  "+e._s(t.Descricao)+"\n                  ")]),a("q-card-main",{staticClass:"full-width self-start text-right"},[a("p",{staticClass:"q-headline q-mb-none"},[a("strong",[e._v("R$\n                      "+e._s(t.ValorVenda))])])]),a("q-card-actions",{staticClass:"self-end full-width q-py-none"},[a("q-card-separator",{staticClass:"full-width"}),a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"none"}},[a("q-toolbar-title",{staticClass:"q-px-none text-left"},[a("q-field",{staticClass:"col-3 q-px-sm q-pt-xs",staticStyle:{"margin-top":"-18px"}},[a("campo",{attrs:{min:"0",tipo:"quantidade","hide-underline":""},on:{input:function(a){e.updateCart(t.CodigoItem,t.Descricao,e.qtd[t.CodigoItem],t.ValorVenda,t.Imagem)}},model:{value:e.qtd[t.CodigoItem],callback:function(a){e.$set(e.qtd,t.CodigoItem,a)},expression:"qtd[value.CodigoItem]"}}),a("q-tooltip",[e._v("Quantidade")])],1)],1),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",color:"primary",label:"Saiba mais"},nativeOn:{click:function(t){e.goToLink("/clubprodutosingle")}}})],1)],1)],1)],1)}))])],1)],1)],1),a("iframe",{staticStyle:{border:"0",width:"100%"},attrs:{src:"https://www.google.com/maps?q="+e.address+"&output=embed",width:"600",height:"450",frameborder:"0",allowfullscreen:"","aria-hidden":"false",tabindex:"0"}}),a("footer",{staticClass:"text-white q-py-md"},[a("div",{staticClass:"u-container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"q-headline q-mx-md q-mb-none text-center"},[a("img",{staticClass:"q-mx-sm",staticStyle:{"margin-bottom":"-6px"},attrs:{src:"statics/facebook.png",alt:"",height:"28"}}),a("img",{staticClass:"q-mx-sm",staticStyle:{"margin-bottom":"-6px"},attrs:{src:"statics/twiter.png",alt:"",height:"28"}}),a("img",{staticClass:"q-mx-sm",staticStyle:{"margin-bottom":"-6px"},attrs:{src:"statics/instagram.png",alt:"",height:"28"}}),a("img",{staticClass:"q-mx-sm",staticStyle:{"margin-bottom":"-6px"},attrs:{src:"statics/linkedin.png",alt:"",height:"28"}})])])])])]),a("div",{staticClass:"copy text-tertiary q-caption q-py-xl"},[a("div",{staticClass:"u-container"},[a("div",{staticClass:"row  q-pt-md q-pb-sm"},[a("div",{staticClass:"col-12 col-lg-8"},[a("p",{staticClass:"q-mb-none q-mx-md q-pt-sm"},[e._v("\n            "+e._s(e.contato[0].NumeroDocumentoNacional)+" / "+e._s(e.address)+" / "+e._s(e.contatoEndereco[0].CEP))])]),a("div",{staticClass:"col-12 col-lg-4 q-pr-sm",staticStyle:{"text-align":"right"}},[a("p",{staticClass:"q-py-none"},[e._v("Ecosistema "),e.mostrarLogo?a("img",{staticClass:"q-ml-xs",staticStyle:{"margin-bottom":"-7px"},attrs:{src:"statics/b15.svg",alt:"",height:"25"}}):e._e()])])])])]),a("div",{staticStyle:{height:"50px",width:"100%",display:"block"}}),a("q-layout-footer",{attrs:{color:"primary",reveal:!(!e.cartItems.length||!1!==e.openedF)}},[a("q-toolbar",[a("q-toolbar-title",[a("div",{staticClass:"row"},[a("div",{staticClass:"q-body-2 q-mr-sm"},[e._v(e._s(e.cartItems.reduce(function(e,t){return e+t.qtd},0))+" itens")]),a("div",{staticClass:"q-body-2 q-mr-sm"},[e._v("R$\n            "+e._s(e._f("numero")(e.cartItems.reduce(function(e,t){return e+t.qtd*t.price},0),2)))])])]),a("q-btn",{attrs:{label:"Finalizar",color:"white","text-color":"primary"},on:{click:function(t){e.openedF=!e.openedF}}})],1)],1),a("q-layout-drawer",{attrs:{overlay:"",side:"right",behavior:"mobile"},model:{value:e.openedF,callback:function(t){e.openedF=t},expression:"openedF"}},[a("club-carrinho",{attrs:{cartItems:e.cartItems}})],1),a("q-modal",{model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header",color:"primary"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",color:"white",icon:"arrow_back",round:""}}),a("div",{staticClass:"q-subheading text-white"},[e._v("Login")])],1),a("div",{staticClass:"layout-padding q-pa-md "},[a("q-input",{attrs:{color:"faded","stack-label":"Login"}}),a("q-input",{attrs:{color:"faded","stack-label":"Senha"}}),a("q-btn",{staticClass:"q-mt-sm",attrs:{color:"primary",label:"Enviar"}})],1)],1)],1),a("q-modal",{model:{value:e.openedM,callback:function(t){e.openedM=t},expression:"openedM"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header",color:"primary"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",color:"white",icon:"arrow_back",round:""}}),a("div",{staticClass:"q-subheading text-white"},[e._v("Minha empresa")])],1),a("div",{staticClass:"layout-padding q-pa-md "},[a("q-input",{attrs:{color:"faded","stack-label":"Login"}}),a("q-input",{attrs:{color:"faded","stack-label":"Senha"}}),a("q-btn",{staticClass:"q-mt-sm",attrs:{color:"primary",label:"Enviar"}})],1)],1)],1),a("q-modal",{model:{value:e.openedC,callback:function(t){e.openedC=t},expression:"openedC"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header",color:"primary"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",color:"white",icon:"arrow_back",round:""}}),a("div",{staticClass:"q-subheading text-white"},[e._v("Cadastre-se")])],1),a("div",{staticClass:"layout-padding q-pa-md "},[a("q-input",{attrs:{color:"faded","stack-label":"Nome"}}),a("q-input",{attrs:{color:"faded","stack-label":"E-mail"}}),a("q-input",{attrs:{color:"faded","stack-label":"Telefone"}}),a("q-input",{attrs:{color:"faded","stack-label":"CPF/CNPJP"}}),a("q-btn",{staticClass:"q-mt-sm",attrs:{color:"primary",label:"Enviar"}})],1)],1)],1)],1)},Fk=[];Ik._withStripped=!0;var wk={components:{Campo:Sl,ClubCarrinho:gk},computed:{},data:function(){return{filterSelect:"",filterOptions:[],opened:!1,openedM:!1,openedC:!1,openedF:!1,mostrarLogo:!1,qtd:{},contato:[],contatoEndereco:[],contatoTelefone:[],item:[],cartItems:[],address:"",product:[],upSell:[]}},methods:{updateCart:function(e,t,a,o,i){var r=this.cartItems.findIndex(function(t){return t.cod===e});-1!==r?0===a?this.cartItems=this.cartItems.filter(function(t){return t.cod!==e}):this.cartItems[r].qtd=a:this.cartItems.push({cod:e,name:t,qtd:a,price:o,imagem:i}),localStorage.setItem("cartItemsStoraged",JSON.stringify(this.cartItems))},atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$utils.geeksApi({clubsingle:{funcao:"D0405D75-055F-4202-80CE-76CBDF8EE0A7"}});case 2:for(t=e.sent,a=!0,o=!1,i=void 0,e.prev=6,r=t.data["clubsingle"].item.map(function(e){return e.CodigoItem})[Symbol.iterator]();!(a=(s=r.next()).done);a=!0)n=s.value,this.qtd[n]=0;e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](6),o=!0,i=e.t0;case 14:e.prev=14,e.prev=15,a||null==r.return||r.return();case 17:if(e.prev=17,!o){e.next=20;break}throw i;case 20:return e.finish(17);case 21:return e.finish(14);case 22:this.cartItems.forEach(function(e){l.qtd[e.cod]=e.qtd}),c=0,this.item=t.data["clubsingle"].item.reduce(function(e,t){return""!==t.Grupo&&(e[t.Grupo]=la()(e[t.Grupo]||[]).concat([t]),c<4&&""!==t.Imagem&&"2"!==t.CodigoItem&&(l.upSell.push(t),c++)),e},{}),console.log("this.upSell",this.upSell),this.product=t.data["clubsingle"].item.find(function(e,t){return"2"===e.CodigoItem}),console.log("this.product",this.product),this.contato=t.data["clubsingle"].contato,console.log("this.contato",this.contato),this.contatoEndereco=t.data["clubsingle"].contatoEndereco,this.address=this.contatoEndereco[0].Logradouro+", ",this.address+=this.contatoEndereco[0].Numero+", ",this.address+=this.contatoEndereco[0].Complemento+", ",this.address+=this.contatoEndereco[0].Bairro+", ",this.address+=this.contatoEndereco[0].Municipio+"-",this.address+=this.contatoEndereco[0].UF,console.log("this.address",this.address),this.contatoTelefone=t.data["clubsingle"].contatoTelefone,console.log("this.contatoTelefone",this.contatoTelefone);case 40:case"end":return e.stop()}},e,this,[[6,10,14,22],[15,,17,21]])}));return function(){return e.apply(this,arguments)}}(),abrirClub:function(){this.opened=!0,console.log(this.opened)},userHasScrolled:function(e){this.mostrarLogo=e.position>=102},goTo:function(e){this.$router.push(e)}},created:function(){this.atualizar(),localStorage.getItem("cartItemsStoraged")&&(this.cartItems=JSON.parse(localStorage.getItem("cartItemsStoraged")))}},yk=wk,Nk=(a("a999"),Object(sc["a"])(yk,Ik,Fk,!1,null,"66c0c4d6",null));Nk.options.__file="ClubProdutoSingle.vue";var kk=Nk.exports,Mk=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Cockpit"},[a("barra-topo"),a("q-page-container",[a("q-page",{staticClass:"u-container"},[a("q-toolbar",{staticClass:"q-py-sm",attrs:{color:"none"}},[a("avatar",{attrs:{imagem:e.contato.imagem,rotulo:e.contato.apelido,tamanho:"40"}}),a("q-toolbar-title",[e._v("\n          "+e._s(e.contato.nome)+"\n        ")]),e.permissoes.obterUsuario?a("q-btn",{attrs:{flat:"",dense:"",icon:"search",round:"",size:"lg"},on:{click:e.obterContatoViaPrompt}},[a("q-tooltip",[e._v("Buscar vendedor/empresa")])],1):e._e(),a("q-btn",{attrs:{icon:"help_outline",flat:"",dense:"",round:"",size:"lg"},on:{click:function(t){e.showingHelp=!e.showingHelp}}})],1),a("q-tabs",{attrs:{align:"justify",color:"none"}},[e._l(e.abas,function(t){return a("q-route-tab",e._b({key:t.label,staticClass:"Cockpit-aba",attrs:{slot:"title"},slot:"title"},"q-route-tab",t,!1))}),a("router-view")],2),e.promptContato.ativo?a("prompt-contato-novo",{attrs:{filtro:e.promptContato.filtro,placeholder:e.promptContato.placeholder},on:{selecionar:e.obterContatoViaPrompt},model:{value:e.promptContato.visivel,callback:function(t){e.$set(e.promptContato,"visivel",t)},expression:"promptContato.visivel"}}):e._e()],1)],1),a("q-modal",{attrs:{"content-css":{minWidth:"100vw",minHeight:"100vh"}},model:{value:e.showingHelp,callback:function(t){e.showingHelp=t},expression:"showingHelp"}},[a("q-modal-layout",{staticStyle:{height:"100vh",width:"100vw"}},[a("iframe",{staticStyle:{height:"100%",width:"100%"},attrs:{src:"https://www.youtube.com/embed/wAtU7y8UDEw",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Videoaula - Descubra o cockpit")]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1)],1)],1)],1)},Pk=[];Mk._withStripped=!0;var Dk={components:{Avatar:Fc,BarraTopo:El,PromptContatoNovo:Yd},computed:{abas:function(){return[{icon:"insert_chart",label:"Vendedor",to:{name:"CockpitVendedor",params:{id:this.$route.params.id}}}].concat(la()(Zn.usuario.logado.desenvolvedor&&Zn.usuario.logado.desenvolvedor()?[{icon:"multiline_chart",label:"Performance",to:{name:"CockpitPerformance",params:{id:this.$route.params.id}}}]:[]),la()(this.permissoes.vendas?[{icon:"shopping_cart",label:"Vendas",to:{name:"CockpitVendas",params:{id:this.$route.params.id}}}]:[]),la()(this.permissoes.faturas?[{icon:"how_to_vote",label:"Faturas",to:{name:"CockpitFaturas",params:{id:this.$route.params.id}}}]:[]),la()("optisoul"===this.sistemaPai&&this.permissoes.envelope?[{icon:"mail",label:"Envelopes",to:{name:"CockpitEnvelopes",params:{id:this.$route.params.id}}}]:[]))}},data:function(){return{contato:{},permissoes:{},promptContato:{ativo:!1,visivel:!1,filtro:{ativo:!0,vendedores:!0},placeholder:"Selecione o usuário"},showingHelp:!1,sistemaPai:""}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.obterContatoUsuario();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),this.$q.notifyError("Não foi possível carregar os dados do cockpit",e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}(),criarObjStoreIDB:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("indexedDB"in window){e.next=3;break}return console.log("Navegador sem suporte ao IndexedDB"),e.abrupt("return");case 3:return t=indexedDB.open("cockpit",1),t.onupgradeneeded=function(e){var t=e.target.result,a=t.createObjectStore("consultasRecentes",{keyPath:"id"});a.createIndex("id","id",{unique:!0})},e.abrupt("return",new Promise(function(e,a){t.onsuccess=function(t){e()},t.onerror=function(t){e()}}));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),salvarObjIDb:function(e){var t,a,o;if("indexedDB"in window)return t=new Promise(function(e,t){o=e}),a=indexedDB.open("cockpit",1),a.onsuccess=function(){var t=a.result.transaction(["consultasRecentes"],"readwrite"),i=t.objectStore("consultasRecentes");a=i.put(e),a.onsuccess=function(e){o()},a.onerror=function(e){o()}},t},obterObjIDb:function(e){var t,a,o;if("indexedDB"in window)return t=new Promise(function(e,t){o=e}),a=indexedDB.open("cockpit",1),a.onsuccess=function(){var t=a.result.transaction(["consultasRecentes"],"readwrite"),i=t.objectStore("consultasRecentes");a=i.get(e),a.onsuccess=function(e){o(e.target.result)},a.onerror=function(e){o()}},t},obterContatoUsuario:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=JSON.parse(localStorage.getItem("usuario"))||{},a=this.$route.params.id,o=t.numeroDocumentoNacional,i={},!o){e.next=18;break}if(!a){e.next=12;break}return e.next=7,He().contato.get(a);case 7:if(e.t0=e.sent,e.t0){e.next=10;break}e.t0={};case 10:i=e.t0,i.ativo&&!i.excluido&&i.numeroDocumentoNacional===o||(i={});case 12:if(i.id){e.next=17;break}return e.next=15,He().contato.where({numeroDocumentoNacional:o}).toArray();case 15:r=e.sent,i=r.find(function(e){return e.ativo&&!e.excluido&&e.codigoUsuario})||{};case 17:this.selecionarContato(i);case 18:if(i.id){e.next=22;break}return e.next=21,this.obterContatoViaPrompt();case 21:i=e.sent;case 22:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),obterContatoViaPrompt:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){var i,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o){e.next=8;break}if(i=new Promise(function(e,t){r.resolve||(r.resolve={}),r.resolve["promptContato"]=e}),this.promptContato.ativo){e.next=6;break}return this.promptContato.ativo=!0,e.next=6,this.$nextTick();case 6:return this.promptContato.visivel=!0,e.abrupt("return",i);case 8:this.promptContato.visivel=!1,this.resolve["promptContato"](a),this.selecionarContato(a);case 11:case"end":return e.stop()}},e,this)}));return function(t,a,o){return e.apply(this,arguments)}}(),salvarConsultaRecente:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.criarObjStoreIDB();case 2:t=JSON.parse(localStorage.getItem("clienteSistema"))||{},a=t.codigoClienteSistema,this.salvarObjIDb({id:a,idContato:this.contato.id});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),selecionarContato:function(e){e.id&&(this.contato={id:e.id,nome:e.nome||"",apelido:e.apelido||"",imagem:e.imagem||""},this.$router.push({name:"Cockpit"===this.$route.name?"CockpitVendedor":this.$route.name,params:{id:e.id||""}}),this.salvarConsultaRecente())}},mounted:function(){var e=this;this.permissoes={obterUsuario:!1,envelope:!1,vendas:!1,faturas:!1},Zn.permissao.objeto("Diretiva_Cockpit_MudarUsuario").then(function(t){e.permissoes.obterUsuario=t}),Zn.permissao.objeto("cockpit/envelope").then(function(t){e.permissoes.envelope=t}),Zn.permissao.objeto("cockpit/vendas").then(function(t){e.permissoes.vendas=t}),Zn.permissao.objeto("cockpit/faturas").then(function(t){e.permissoes.faturas=t}),this.sistemaPai=co(),this.atualizar()}},Ek=Dk,Tk=(a("53a6"),Object(sc["a"])(Ek,Mk,Pk,!1,null,null,null));Tk.options.__file="Cockpit.vue";var Ak=Tk.exports,Ok=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-card",{staticClass:"shadow-3 filters row no-shadow"},[a("div",{staticClass:"col-12"},[a("q-toolbar",{staticClass:"no-shadow q-pa-none",attrs:{"text-color":"black",color:"transparent"}},[a("q-toolbar-title",{staticClass:"q-pa-none"},[a("div",{staticClass:"filters row content-stretch justify-between q-pt-sm q-pr-sm q-mt-md q-mb-md gutter-x-sm bg-white",staticStyle:{"border-radius":"5px","min-height":"50px"}},[a("div",{staticClass:"col-8"},[a("div",{staticClass:"row q-mb-sm"},[a("q-chips-input",{staticClass:"col q-mx-md",attrs:{color:"faded",placeholder:"Filtre por Empresa"},on:{remove:e.removerEmpresa},model:{value:e.nomesEmpresasSelecionadas,callback:function(t){e.nomesEmpresasSelecionadas=t},expression:"nomesEmpresasSelecionadas"}},[a("q-autocomplete",{attrs:{"value-field":"value"},on:{search:e.buscarEmpresas,selected:e.selecionarEmpresa}})],1)],1)]),a("div",{staticClass:"col-auto"},[a("div",{staticClass:"row q-mb-sm"},[a("campo",{staticClass:"col q-mx-md",attrs:{tipo:"data"},on:{input:e.filtrar},model:{value:e.filtro.periodo.ini,callback:function(t){e.$set(e.filtro.periodo,"ini",t)},expression:"filtro.periodo.ini"}})],1)]),a("div",{staticClass:"col-auto"},[a("div",{staticClass:"row q-mb-sm"},[a("label",{staticClass:"q-mx-md col-auto"},[e._v("até")])])]),a("div",{staticClass:"col-auto"},[a("div",{staticClass:"row q-mb-sm"},[a("campo",{staticClass:"col q-mx-md",attrs:{tipo:"data"},on:{input:e.filtrar},model:{value:e.filtro.periodo.fim,callback:function(t){e.$set(e.filtro.periodo,"fim",t)},expression:"filtro.periodo.fim"}})],1)]),a("q-btn",{staticClass:"no-shadow",attrs:{icon:"mdi-refresh",round:"",dense:"",flat:"",color:"faded"},nativeOn:{click:function(t){return e.filtrar(t)}}})],1)])],1)],1)]),a("div",{staticClass:"row gutter-sm q-pb-md"},[a("div",{staticClass:"col-12",staticStyle:{float:"right"}},[a("span",{staticStyle:{"font-size":"70%"}},[e._v("\n        Atualizado em: "+e._s(e._f("dataHora")(this.filtro.dataConsulta))+"\n        "),a("q-spinner",{directives:[{name:"show",rawName:"v-show",value:e.carregando,expression:"carregando"}],attrs:{color:"primary",size:20}})],1)]),a("div",{staticClass:"col-12 col-lg-3"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-title",{staticClass:"q-title text-tertiary q-pb-sm"},[e._v("Pendências")]),a("q-card-main",[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.carregando,expression:"!carregando"}]},[a("div",{staticClass:"row justify-around"},[a("div",{staticClass:"col-auto"},[a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-center text-negative",staticStyle:{cursor:"pointer"},nativeOn:{click:function(t){return e.irParaCockpitVendas(t)}}},[e._v("\n                  "+e._s(e._f("numero")(e.cockpit.pendencias.orcamentos))+"\n                ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary text-center"},[e._v("Orçamentos")])],1)])])])],1)],1),a("div",{staticClass:"col-12 col-lg-9"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-title",{staticClass:"text-tertiary q-title q-pb-sm"},[e._v("Faturamento")]),a("q-card-main",[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.carregando,expression:"!carregando"}]},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar bg-primary",style:e.faturamentoProgressBar.periodo}),a("div",{staticClass:"progress-bar progress-bar-striped bg-info",style:e.faturamentoProgressBar.hoje}),a("div",{staticClass:"progress-bar progress-bar-animated progress-bar-striped bg-success",style:e.faturamentoProgressBar.projecao})]),a("div",{staticClass:"row justify-between"},[a("div",{staticClass:"q-headline text-weight-bold text-left text-primary q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[e._v("\n                R$ "+e._s(e._f("numero")(e.cockpit.faturamento.periodo,2))),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("Período")])]),a("div",{staticClass:"q-headline text-weight-bold text-center text-blue-5 q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[e._v("\n                R$ "+e._s(e._f("numero")(e.cockpit.faturamento.hoje,2))),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("sendo Hoje")])]),a("div",{staticClass:"q-headline text-weight-bold text-right text-positive q-mt-sm q-pb-none",staticStyle:{"line-height":"22px"}},[e._v("\n                R$ "+e._s(e._f("numero")(e.cockpit.faturamento.projecao,2))),a("small",{staticClass:"q-body-2 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",staticStyle:{display:"block"}},[e._v("Projeção Final")])])])])])],1)],1),a("div",{staticClass:"col-12 col-lg-3"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-title",{staticClass:"text-tertiary q-title q-pb-sm"},[e._v("\n          Atendimento c/ vendas\n        ")]),a("q-card-main",[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.carregando,expression:"!carregando"}]},[a("div",{staticClass:"row justify-around"},[a("div",[a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-center text-blue-8"},[e._v("\n                  "+e._s(e._f("numero")(e.cockpit.conversao.conversoesHoje))+"/"+e._s(e._f("numero")(e.cockpit.conversao.atendimentosHoje))+"\n                ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary text-center"},[e._v("\n                  Hoje\n                ")])],1),a("div",[a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-center text-blue-8"},[e._v("\n                  "+e._s(e._f("numero")(e.cockpit.conversao.conversoesPeriodo))+"/"+e._s(e._f("numero")(e.cockpit.conversao.atendimentosPeriodo))+"\n                ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary text-center"},[e._v("\n                  Período\n                ")])],1)])])])],1)],1),a("div",{staticClass:"col-12 col-lg-3"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-left"},[e._v("\n            Maior Venda Período\n          ")]),a("q-toolbar-title",{directives:[{name:"show",rawName:"v-show",value:!e.carregando,expression:"!carregando"}],staticClass:"q-display-1 text-weight-bold text-left text-blue-8 q-px-none"},[e._v("\n            "+e._s(e._f("numero")(e.cockpit.ticketMedio.maiorVendaPeriodo,2))+"\n\n            "),a("q-tooltip",[e._v("\n              Fatura N°. "+e._s(e.cockpit.ticketMedio.maiorVendaPeriodoNumeroFatura)),a("br"),e._v("\n              Cliente: "+e._s(e.cockpit.ticketMedio.maiorVendaPeriodoNomeCliente)+"\n            ")]),a("q-btn",{staticClass:"no-shadow",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-trophy",color:"amber-7"}})],1),a("small",{directives:[{name:"show",rawName:"v-show",value:!e.carregando,expression:"!carregando"}],staticClass:"text-tertiary"},[e._v("Recorde Histórico\n            "),a("strong",[e._v(e._s(e._f("numero")(e.cockpit.ticketMedio.maiorVendaHistoria,2)))]),a("br")])],1)],1)],1),a("div",{staticClass:"col-6 col-lg-3 "},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-left"},[e._v("\n            Ticket Médio Período\n          ")]),a("q-tooltip",[e._v("\n            "+e._s(e._f("data")(e.cockpit.parametros.periodoIniAnoAnterior))+"\n            "+e._s(e._f("data")(e.cockpit.parametros.periodoFimAnoAnterior))+"\n            do ano anterior\n          ")]),a("q-toolbar-title",{directives:[{name:"show",rawName:"v-show",value:!e.carregando,expression:"!carregando"}],staticClass:"q-display-1 text-weight-bold text-left text-blue-8 q-px-none"},[e._v("\n            "+e._s(e._f("numero")(e.cockpit.ticketMedio.ticketMedioPeriodo,2))+"\n            "),a("q-btn",{staticClass:"no-shadow",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-bell",color:e.cockpit.ticketMedio.percentualTicketMedioYeartoDateRelAnterior>=0?"positive":"negative"}})],1),a("small",{directives:[{name:"show",rawName:"v-show",value:!e.carregando,expression:"!carregando"}],class:e.cockpit.ticketMedio.percentualTicketPeriodoRelAnterior>=0?"text-positive":"text-negative"},[a("span",{staticClass:"text-tertiary"},[e._v("\n              "+e._s(e._f("numero")(e.cockpit.ticketMedio.ticketMedioPeriodoAnoAnterior,2))+"\n            ")]),e._v("\n            (Δ "+e._s(e._f("numero")(e.cockpit.ticketMedio.percentualTicketPeriodoRelAnterior,2))+"%)\n            "),a("br")])],1)],1)],1),a("div",{staticClass:"col-6 col-lg-3"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-main",{staticClass:"d-flex full-height column"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary text-left"},[e._v("\n            Médio YtD\n          ")]),a("q-tooltip",[e._v("\n            "+e._s(e._f("data")(e.cockpit.parametros.ytDAnoAnteriorDia1))+"\n            "+e._s(e._f("data")(e.cockpit.parametros.ytDAnoAnteriorHoje))+"\n            do ano anterior\n          ")]),a("q-toolbar-title",{directives:[{name:"show",rawName:"v-show",value:!e.carregando,expression:"!carregando"}],staticClass:"q-display-1 text-weight-bold text-left text-blue-8 q-px-none"},[e._v("\n            "+e._s(e._f("numero")(e.cockpit.ticketMedio.ticketMedioYeartoDate,2))+"\n            "),a("q-btn",{staticClass:"no-shadow",staticStyle:{float:"right"},attrs:{dense:"",round:"",icon:"mdi-bell",color:e.cockpit.ticketMedio.percentualTicketMedioYeartoDateRelAnterior>=0?"positive":"negative"}})],1),a("small",{directives:[{name:"show",rawName:"v-show",value:!e.carregando,expression:"!carregando"}],class:e.cockpit.ticketMedio.percentualTicketMedioYeartoDateRelAnterior>=0?"text-positive":"text-negative"},[a("span",{staticClass:"text-tertiary"},[e._v("\n              "+e._s(e._f("numero")(e.cockpit.ticketMedio.ticketMedioYeartoDateAnoAnterior,2))+"\n            ")]),e._v("\n            (Δ "+e._s(e._f("numero")(e.cockpit.ticketMedio.percentualTicketMedioYeartoDateRelAnterior,2))+"%)\n            "),a("br")])],1)],1)],1),"optisoul"===e.sistemaPai?a("div",{staticClass:"col-12"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-title",{staticClass:"q-title text-tertiary q-pb-sm"},[e._v("\n          Envelopes\n        ")]),a("q-card-main",[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.carregando,expression:"!carregando"}]},[a("div",{staticClass:"row justify-around"},[a("div",{staticClass:"col-4 col-md-auto"},[a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-center text-negative",staticStyle:{cursor:"pointer"},nativeOn:{click:function(t){return e.irParaCockpitEnvelopes(t)}}},[e._v("\n                  "+e._s(e._f("numero")(e.cockpit.pendencias.envelopesAtrasados))+"\n                ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary text-center"},[e._v("\n                  Atrasados\n                ")])],1),a("div",{staticClass:"col-4 col-md-auto"},[a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-center text-negative",staticStyle:{cursor:"pointer"},nativeOn:{click:function(t){return e.irParaCockpitEnvelopes(t)}}},[e._v("\n                  "+e._s(e._f("numero")(e.cockpit.pendencias.envelopesHoje))+"\n                ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary text-center"},[e._v("\n                  Para hoje\n                ")])],1),a("div",{staticClass:"col-4 col-md-auto"},[a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-center text-negative",staticStyle:{cursor:"pointer"},nativeOn:{click:function(t){return e.irParaCockpitEnvelopes(t)}}},[e._v("\n                  "+e._s(e._f("numero")(e.cockpit.pendencias.envelopesAEntregar))+"\n                ")]),a("q-card-main",{staticClass:"q-pa-none text-tertiary text-center"},[e._v("\n                  A Entregar\n                ")])],1)])])])],1)],1):e._e(),a("div",{staticClass:"col-12 col-lg-6"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-title",{staticClass:"text-tertiary q-title q-pb-sm"},[e._v("\n          Pós-venda\n        ")]),a("q-card-main",[a("q-table",{directives:[{name:"show",rawName:"v-show",value:!e.carregando,expression:"!carregando"}],staticClass:"no-shadow text-left",attrs:{data:e.cockpit.posVenda,columns:e.colunas.posVenda},scopedSlots:e._u([{key:"body",fn:function(t){return a("q-tr",{staticStyle:{cursor:"pointer"},attrs:{props:t}},[a("q-td",{key:"imagem",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[a("div",{staticClass:"row items-center justify-between"},[a("avatar",{staticClass:"q-mr-sm",attrs:{imagem:(e.contato[t.row.idContato]||{}).imagem,rotulo:t.row.nome,tamanho:"40"}})],1)]),a("q-td",{key:"nome",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[e._v("\n                "+e._s(t.row.nome)+"\n              ")]),a("q-td",{key:"telefone",staticClass:"text-no-wrap",attrs:{props:t},nativeOn:{click:function(a){e.abrirTelefone(t.row)}}},[a("div",{staticClass:"row items-center no-wrap"},[a("q-btn",{attrs:{color:"none",dense:"",flat:"",round:""}},[a("WhatsApp"===t.row.tipoTelefone?"icone":"q-icon",e._b({tag:"component"},"component",e.telefoneIcone(t.row.tipoTelefone),!1))],1),e._v("\n\n                  "+e._s(t.row.telefone)+"\n                ")],1)]),a("q-td",{key:"nroVenda",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[e._v("\n                #"+e._s(t.row.nroVenda)+"\n              ")]),t.row.optisoul?a("q-td",{key:"nroEnvelope",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[e._v("\n                #"+e._s(t.row.nroEnvelope)+"\n              ")]):e._e(),a("q-td",{key:"valor",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[a("div",{staticClass:"row items-center"},[a("q-btn",{staticClass:"q-mx-xs",attrs:{color:"none",dense:"",flat:"",round:"",icon:"shopping_cart"}}),e._v("\n                  "+e._s(e._f("numero")(t.row.valor||0,2))+"\n                ")],1)])],1)}}])})],1)],1)],1),a("div",{staticClass:"col-12 col-lg-6"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-title",{staticClass:"text-tertiary q-title q-pb-sm"},[e._v("\n          Aniversariantes\n        ")]),a("q-card-main",[a("q-table",{directives:[{name:"show",rawName:"v-show",value:!e.carregando,expression:"!carregando"}],staticClass:"no-shadow text-left",attrs:{data:e.cockpit.aniversariantes,columns:e.colunas.aniversariantes},scopedSlots:e._u([{key:"body",fn:function(t){return a("q-tr",{staticStyle:{cursor:"pointer"},attrs:{props:t}},[a("q-td",{key:"imagem",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoContato(t.row.idContato)}}},[a("avatar",{attrs:{imagem:(e.contato[t.row.idContato]||{}).imagem,rotulo:t.row.nome,tamanho:"40"}})],1),a("q-td",{key:"nome",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoContato(t.row.idContato)}}},[e._v("\n                "+e._s(t.row.nome))]),a("q-td",{key:"telefone",attrs:{props:t},nativeOn:{click:function(a){e.abrirTelefone(Object.assign({},t.row,{aniversario:!0}))}}},[a("div",{staticClass:"row items-center no-wrap"},[a("q-btn",{attrs:{color:"none",dense:"",flat:"",round:""}},[a("WhatsApp"===t.row.tipoTelefone?"icone":"q-icon",e._b({tag:"component"},"component",e.telefoneIcone(t.row.tipoTelefone),!1))],1),e._v("\n\n                  "+e._s(t.row.telefone)+"\n                ")],1)]),a("q-td",{key:"aniversario",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoContato(t.row.idContato)}}},[e._v("\n                "+e._s(t.row.aniversario))])],1)}}])})],1)],1)],1)])],1)},$k=[];Ok._withStripped=!0;var Rk={components:{Avatar:Fc,Campo:Sl,Icone:nw},computed:{faturamentoProgressBar:function(){var e,t,a,o,i,r={};return t=this.cockpit.faturamento.periodo||0,a=this.cockpit.faturamento.hoje||0,o=this.cockpit.faturamento.projecao||0,e=dt(o),i=dt(100*(t-a)/e),r.periodo="width:"+i+"%",i=dt(100*a/e),r.hoje="width:"+i+"%",i=dt(100*(o-t)/e),r.projecao="width:"+i+"%",r},colunas:function(){return{aniversariantes:[{name:"imagem",label:"",field:"imagem",align:"left"},{name:"nome",label:"Nome",field:"nome",sortable:!0,align:"left"},{name:"telefone",label:"Telefone",field:"telefone",align:"left"},{name:"aniversario",label:"Data",field:"aniversario",align:"left"}],posVenda:[{name:"imagem",label:"",field:"imagem",align:"left"},{name:"nome",label:"Cliente",field:"nome",sortable:!0,align:"left"},{name:"telefone",label:"Telefone",field:"telefone",align:"left"},{name:"nroVenda",label:"Venda",field:"numero",align:"left"}].concat(la()("optisoul"===this.sistemaPai?[{name:"nroEnvelope",label:"Envelope",field:"numero",align:"left"}]:[]),[{name:"valor",label:"Valor",field:"valor",align:"left"}])}}},data:function(){return{carregando:!0,cockpit:{faturamento:{periodo:0,hoje:0,projecao:0},ticketMedio:{ticketMedioPeriodo:0,ticketMedioPeriodoAnoAnterior:0,percentualTicketPeriodoRelAnterior:0,ticketMedioYeartoDate:0,ticketMedioYeartoDateAnoAnterior:0,percentualTicketMedioYeartoDateRelAnterior:0,maiorVendaPeriodo:0,maiorVendaPeriodoNumeroFatura:0,maiorVendaPeriodoNomeCliente:"",maiorVendaHistoria:0},conversao:{conversoesHoje:0,atendimentosHoje:0,conversoesPeriodo:0,atendimentosPeriodo:0},pendencias:{orcamentos:0,envelopesAtrasados:0,envelopesHoje:0,envelopesAEntregar:0,tarefas:0},parametros:{periodoIni:0,periodoFim:0,periodoIniAnoAnterior:0,periodoFimAnoAnterior:0,ytDDia1:0,ytDHoje:0,ytDAnoAnteriorDia1:0,ytDAnoAnteriorHoje:0},posVenda:[],aniversariantes:[]},contato:{},empresas:[],nomesEmpresasSelecionadas:[],filtro:{codigoClienteSistema:"",codigoContatoUsuario:"",empresas:[],periodo:{ini:"",fim:""}},sistemaPai:""}},methods:{irParaCockpitVendas:function(){this.$router.push({name:"CockpitVendas",params:{id:this.$route.params.id,periodo:{ini:this.cockpit.pendencias.orcamentosPeriodoIni,fim:this.cockpit.pendencias.orcamentosPeriodoFim}}})},irParaCockpitEnvelopes:function(){this.$router.push({name:"CockpitEnvelopes",params:{id:this.$route.params.id,filtroT:this.filtro}})},irParaAtendimentoContato:function(e){this.$router.push({name:"AtendimentoContato",params:{id:e}})},irParaAtendimentoVenda:function(e){this.$router.push({name:"AtendimentoVenda",params:{id:e}})},abrirTelefone:function(e){if(e.telefone){var t="WhatsApp"===e.tipoTelefone?"https://api.whatsapp.com/send?"+(e.aniversario?"text=Parabéns, "+e.nome+"&":"")+"phone=":"tel:+";Object(uw["a"])(t+this.formatarTelefone(e.telefone))}},formatarTelefone:function(e){return e||"string"===typeof e?"55"+e.replace(/\D/g,"").replace(/^55/,""):e},telefoneIcone:function(e){return{Celular:{color:"dark",name:"phone_iphone",size:"18px"},Comercial:{color:"dark",name:"phone",size:"18px"},Fixo:{color:"dark",name:"phone",size:"18px"},Principal:{color:"orange",name:"star",size:"18px"},WhatsApp:{cor:"whatsapp",nome:"whatsapp",tamanho:18}}[e]||{color:"dark",name:"phone",size:"18px"}},buscarEmpresas:function(e,t){if(e=(e||"").trim(),e){var a=!!e.replace(/[^\d]/g,""),o=new Vm.a(this.empresas,{keys:[{name:"nome",weight:.9},{name:"apelido",weight:.9},a?{name:"numeroDocumentoNacional"}:{}]});t(o.search(e).map(function(e){return{value:e.codigoContato,label:e.nome,sublabel:e.numeroDocumentoNacional}}))}else t(this.empresas.map(function(e){return{value:e.codigoContato,label:e.nome,sublabel:e.numeroDocumentoNacional}}))},removerEmpresa:function(e){var t=this.empresas.find(function(t){return t.nome===e.value[0]});t&&(this.filtro.empresas=this.filtro.empresas.filter(function(e){return e!==t.codigoContato}),this.filtrar())},selecionarEmpresa:function(e){this.filtro.empresas.includes(e.value)?this.nomesEmpresasSelecionadas=this.nomesEmpresasSelecionadas.slice(0,this.nomesEmpresasSelecionadas.length-1):(this.filtro.empresas.push(e.value),this.nomesEmpresasSelecionadas.splice(this.nomesEmpresasSelecionadas.length-1,1,e.label),this.filtrar())},obterContatos:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a={},o=!0,i=!1,r=void 0,e.prev=4,s=t[Symbol.iterator]();case 6:if(o=(n=s.next()).done){e.next=16;break}if(c=n.value,!c.idContato||a[c.idContato]){e.next=13;break}return e.next=11,He().contato.get(c.idContato);case 11:l=e.sent,l&&l.id&&(a[c.idContato]={imagem:l.imagem||""});case 13:o=!0,e.next=6;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](4),i=!0,r=e.t0;case 22:e.prev=22,e.prev=23,o||null==s.return||s.return();case 25:if(e.prev=25,!i){e.next=28;break}throw r;case 28:return e.finish(25);case 29:return e.finish(22);case 30:this.contato=a;case 31:case"end":return e.stop()}},e,this,[[4,18,22,30],[23,,25,29]])}));return function(t){return e.apply(this,arguments)}}(),obterConsultaRecente:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.criarObjStoreIDB();case 2:return t=String(this.codigoClienteSistema)+"_"+String(this.codigoContatoUsuario)+"/vendedor",e.next=5,this.obterObjIDb(t);case 5:if(a=e.sent,!a){e.next=35;break}for(this.filtro={codigoClienteSistema:this.codigoClienteSistema,codigoContatoUsuario:this.codigoContatoUsuario,empresas:a.empresas,dataConsulta:new Date(a.dataConsulta),periodo:a.periodo},this.nomesEmpresasSelecionadas=[],o=!0,i=!1,r=void 0,e.prev=12,s=function(){var e=c.value,t=d.empresas.find(function(t){return t.codigoContato===e});t&&d.nomesEmpresasSelecionadas.push(t.nome)},n=this.filtro.empresas[Symbol.iterator]();!(o=(c=n.next()).done);o=!0)s();e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](12),i=!0,r=e.t0;case 21:e.prev=21,e.prev=22,o||null==n.return||n.return();case 24:if(e.prev=24,!i){e.next=27;break}throw r;case 27:return e.finish(24);case 28:return e.finish(21);case 29:return l=a.dados,e.next=32,this.obterContatos(la()(l.posVenda).concat(la()(l.aniversariantes)));case 32:return this.acertarDatas(l),this.cockpit=l,e.abrupt("return",!0);case 35:return e.abrupt("return",!1);case 36:case"end":return e.stop()}},e,this,[[12,17,21,29],[22,,24,28]])}));return function(){return e.apply(this,arguments)}}(),salvarConsultaRecente:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.criarObjStoreIDB();case 2:this.salvarObjIDb({id:String(this.filtro.codigoClienteSistema)+"_"+String(this.filtro.codigoContatoUsuario)+"/vendedor",periodo:this.filtro.periodo,dataConsulta:this.filtro.dataConsulta.toISOString(),empresas:this.filtro.empresas,dados:this.cockpit});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),criarObjStoreIDB:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("indexedDB"in window){e.next=3;break}return console.log("Navegador sem suporte ao IndexedDB"),e.abrupt("return");case 3:return t=indexedDB.open("cockpit",1),t.onupgradeneeded=function(e){var t=e.target.result,a=t.createObjectStore("consultasRecentes",{keyPath:"id"});a.createIndex("id","id",{unique:!0})},e.abrupt("return",new Promise(function(e,a){t.onsuccess=function(t){e()},t.onerror=function(t){e()}}));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),salvarObjIDb:function(e){var t,a,o;if("indexedDB"in window)return t=new Promise(function(e,t){o=e}),a=indexedDB.open("cockpit",1),a.onsuccess=function(){var t=a.result.transaction(["consultasRecentes"],"readwrite"),i=t.objectStore("consultasRecentes");a=i.put(e),a.onsuccess=function(e){o()},a.onerror=function(e){o()}},t},obterObjIDb:function(e){var t,a,o;if("indexedDB"in window)return t=new Promise(function(e,t){o=e}),a=indexedDB.open("cockpit",1),a.onsuccess=function(){var t=a.result.transaction(["consultasRecentes"],"readwrite"),i=t.objectStore("consultasRecentes");a=i.get(e),a.onsuccess=function(e){o(e.target.result)},a.onerror=function(e){o()}},t},filtrar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.carregando=!0,this.contato={},this.filtro.periodo.ini=new Date(this.filtro.periodo.ini).toISOString(),this.filtro.periodo.fim=new Date(this.filtro.periodo.fim).toISOString(),this.filtro.dataConsulta=new Date,e.next=7,this.$utils.geeksApi({"cockpit-vendedor":{funcao:"4AA26CFA-1FE9-426C-955D-09206DE424CB",codigoClienteSistema:this.filtro.codigoClienteSistema,codigoContatoUsuario:this.filtro.codigoContatoUsuario,empresas:this.filtro.empresas,periodo:this.filtro.periodo}});case 7:return t=e.sent,t=t.data["cockpit-vendedor"],e.next=11,this.obterContatos(la()(t.posVenda).concat(la()(t.aniversariantes)));case 11:this.acertarDatas(t),this.cockpit=t,this.salvarConsultaRecente(),this.carregando=!1;case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),acertarDatas:function(e){var t=new Date((new Date).setHours(0,0,0,0)).toISOString().replace(/\d{4}-\d{2}-\d{2}/g,"");e.parametros.periodoIni=(e.parametros.periodoIni||"").replace(/T.+$/g,t),e.parametros.periodoFim=(e.parametros.periodoFim||"").replace(/T.+$/g,t),e.parametros.periodoIniAnoAnterior=(e.parametros.periodoIniAnoAnterior||"").replace(/T.+$/g,t),e.parametros.periodoFimAnoAnterior=(e.parametros.periodoFimAnoAnterior||"").replace(/T.+$/g,t),e.parametros.ytDDia1=(e.parametros.ytDDia1||"").replace(/T.+$/g,t),e.parametros.ytDHoje=(e.parametros.ytDHoje||"").replace(/T.+$/g,t),e.parametros.ytDAnoAnteriorDia1=(e.parametros.ytDAnoAnteriorDia1||"").replace(/T.+$/g,t),e.parametros.ytDAnoAnteriorHoje=(e.parametros.ytDAnoAnteriorHoje||"").replace(/T.+$/g,t)},atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i=this.$route.params.id,Po(!i,"Id do contato não encontrado"),e.next=5,He().contato.get(i);case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0={};case 8:return r=e.t0,o=r.codigoContato,Po(!o,"Contato não encontrado"),t=JSON.parse(localStorage.getItem("clienteSistema"))||{},a=t.codigoClienteSistema,Po(!a,"Cliente Sistema não encontrado"),this.codigoClienteSistema=a,this.codigoContatoUsuario=o,e.next=18,He().empresa.toArray();case 18:return s=e.sent,this.empresas=s.map(function(e){return{codigoContato:e.codigoContato,nome:e.nome,apelido:e.apelido,numeroDocumentoNacional:e.numeroDocumentoNacional}}),n=new Date(new Date((new Date).setDate(1)).setHours(0,0,0,0)),c=new Date(new Date(new Date(n).setMonth(n.getMonth()+1)).setDate(0)),this.nomesEmpresasSelecionadas=[],this.filtro={codigoClienteSistema:this.codigoClienteSistema,codigoContatoUsuario:this.codigoContatoUsuario,empresas:[],dataConsulta:new Date,periodo:{ini:n,fim:c}},e.next=26,this.obterConsultaRecente();case 26:if(!e.sent){e.next=30;break}if(this.carregando=!1,new Date-new Date(this.filtro.dataConsulta)>3e5){e.next=30;break}return e.abrupt("return");case 30:this.filtrar(),e.next=36;break;case 33:e.prev=33,e.t1=e["catch"](0),this.$q.notifyError("Não foi possível carregar os dados do cockpit",e.t1);case 36:case"end":return e.stop()}},e,this,[[0,33]])}));return function(){return e.apply(this,arguments)}}()},watch:{"$route.params.id":function(){this.atualizar()}},mounted:function(){this.sistemaPai=co(),this.atualizar()}},jk=Rk,zk=(a("9fa6"),Object(sc["a"])(jk,Ok,$k,!1,null,"76f10fd8",null));zk.options.__file="CockpitVendedor.vue";var Bk=zk.exports,Lk=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-card",{staticClass:"shadow-3 filters row no-shadow"},[a("div",{staticClass:"col-12"},[a("q-toolbar",{staticClass:"no-shadow q-pa-none",attrs:{"text-color":"black",color:"transparent"}},[a("q-toolbar-title",{staticClass:"q-pa-none"},[a("div",{staticClass:"filters row content-stretch justify-between q-pt-sm q-pr-sm q-mt-md q-mb-md gutter-x-sm bg-white",staticStyle:{"border-radius":"5px","min-height":"50px"}},[a("div",{staticClass:"col-11"},[a("div",{staticClass:"row q-mb-sm"},[a("q-chips-input",{staticClass:"col q-mx-md",attrs:{color:"faded",placeholder:"Filtre por Empresa"},on:{remove:e.removerEmpresa},model:{value:e.nomesEmpresasSelecionadas,callback:function(t){e.nomesEmpresasSelecionadas=t},expression:"nomesEmpresasSelecionadas"}},[a("q-autocomplete",{attrs:{"value-field":"value"},on:{search:e.buscarEmpresas,selected:e.selecionarEmpresa}})],1)],1)]),a("q-btn",{staticClass:"no-shadow",attrs:{icon:"mdi-refresh",round:"",dense:"",flat:"",color:"faded"},nativeOn:{click:function(t){return e.filtrar(t)}}})],1)])],1)],1)]),a("div",{staticClass:"row gutter-sm q-pb-md"},[a("div",{staticClass:"col-12",staticStyle:{float:"right"}},[a("span",{staticStyle:{"font-size":"70%"}},[e._v("\n        Atualizado em: "+e._s(e._f("dataHora")(this.filtro.dataConsulta))+"\n        "),a("q-spinner",{directives:[{name:"show",rawName:"v-show",value:e.carregando,expression:"carregando"}],attrs:{color:"primary",size:20}})],1)]),a("div",{staticClass:"col-12"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-title",{staticClass:"text-tertiary q-title q-pb-sm"},[e._v("\n          Atrasados\n        ")]),a("q-card-main",[a("q-table",{directives:[{name:"show",rawName:"v-show",value:!e.carregando,expression:"!carregando"}],staticClass:"no-shadow text-left",attrs:{data:e.cockpit.envelopesAtrasados,columns:e.colunas.envelopes},scopedSlots:e._u([{key:"body",fn:function(t){return a("q-tr",{staticStyle:{cursor:"pointer"},attrs:{props:t}},[a("q-td",{key:"nroVenda",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[e._v("\n                "+e._s(t.row.nroVenda)+"\n              ")]),a("q-td",{key:"nroEnvelope",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[e._v("\n                "+e._s(t.row.nroEnvelope)+"\n              ")]),a("q-td",{key:"status",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[e._v("\n                "+e._s(t.row.status)+"\n              ")]),a("q-td",{key:"dataHoraPrevisto",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[e._v("\n                "+e._s(e._f("data")(t.row.dataHoraPrevisto))+"\n              ")]),a("q-td",{key:"nome",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[a("div",{staticClass:"row items-center"},[a("avatar",{staticClass:"q-mr-sm",attrs:{imagem:(e.contato[t.row.idContato]||{}).imagem,rotulo:t.row.nome,tamanho:"40"}}),e._v("\n                  "+e._s(t.row.nome)+"\n                ")],1)]),a("q-td",{key:"telefone",attrs:{props:t},nativeOn:{click:function(a){e.abrirTelefone(t.row)}}},[a("div",{staticClass:"row items-center"},[a("q-btn",{attrs:{color:"none",dense:"",flat:"",round:""}},[a("WhatsApp"===t.row.tipoTelefone?"icone":"q-icon",e._b({tag:"component"},"component",e.telefoneIcone(t.row.tipoTelefone),!1))],1),e._v("\n\n                  "+e._s(t.row.telefone)+"\n                ")],1)]),a("q-td",{key:"valor",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[a("div",{staticClass:"row items-center"},[a("q-btn",{staticClass:"q-mx-xs",attrs:{color:"none",dense:"",flat:"",round:"",icon:"shopping_cart"}}),e._v("\n                  "+e._s(e._f("numero")(t.row.valor||0,2))+"\n                ")],1)]),a("q-td",{key:"imprimir",attrs:{props:t}},[a("div",{staticClass:"row items-center"},[a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"print",color:"primary",size:"md"}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},e._l(e.configImpressaoEnvelope[t.row.idEmpresa],function(o){return a("q-item",{key:o.valor,nativeOn:{click:function(a){e.imprimir(o.valor,t.row.idVenda||"0")}}},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:o.texto}})],1)}))],1)],1)],1)])],1)}}])})],1)],1)],1),a("div",{staticClass:"col-12"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-title",{staticClass:"text-tertiary q-title q-pb-sm"},[e._v("\n          Para hoje\n        ")]),a("q-card-main",[a("q-table",{directives:[{name:"show",rawName:"v-show",value:!e.carregando,expression:"!carregando"}],staticClass:"no-shadow text-left",attrs:{data:e.cockpit.envelopesHoje,columns:e.colunas.envelopes},scopedSlots:e._u([{key:"body",fn:function(t){return a("q-tr",{staticStyle:{cursor:"pointer"},attrs:{props:t}},[a("q-td",{key:"nroVenda",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[e._v("\n                "+e._s(t.row.nroVenda)+"\n              ")]),a("q-td",{key:"nroEnvelope",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[e._v("\n                "+e._s(t.row.nroEnvelope)+"\n              ")]),a("q-td",{key:"status",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[e._v("\n                "+e._s(t.row.status)+"\n              ")]),a("q-td",{key:"dataHoraPrevisto",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[e._v("\n                "+e._s(e._f("data")(t.row.dataHoraPrevisto))+"\n              ")]),a("q-td",{key:"nome",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[a("div",{staticClass:"row items-center"},[a("avatar",{staticClass:"q-mr-sm",attrs:{imagem:(e.contato[t.row.idContato]||{}).imagem,rotulo:t.row.nome,tamanho:"40"}}),e._v("\n                  "+e._s(t.row.nome)+"\n                ")],1)]),a("q-td",{key:"telefone",attrs:{props:t},nativeOn:{click:function(a){e.abrirTelefone(t.row)}}},[a("div",{staticClass:"row items-center"},[a("q-btn",{attrs:{color:"none",dense:"",flat:"",round:""}},[a("WhatsApp"===t.row.tipoTelefone?"icone":"q-icon",e._b({tag:"component"},"component",e.telefoneIcone(t.row.tipoTelefone),!1))],1),e._v("\n\n                  "+e._s(t.row.telefone)+"\n                ")],1)]),a("q-td",{key:"valor",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[a("div",{staticClass:"row items-center"},[a("q-btn",{staticClass:"q-mx-xs",attrs:{color:"none",dense:"",flat:"",round:"",icon:"shopping_cart"}}),e._v("\n                  "+e._s(e._f("numero")(t.row.valor||0,2))+"\n                ")],1)]),a("q-td",{key:"imprimir",attrs:{props:t}},[a("div",{staticClass:"row items-center"},[a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"print",color:"primary",size:"md"}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},e._l(e.configImpressaoEnvelope[t.row.idEmpresa],function(o){return a("q-item",{key:o.valor,nativeOn:{click:function(a){e.imprimir(o.valor,t.row.idVenda||"0")}}},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:o.texto}})],1)}))],1)],1)],1)])],1)}}])})],1)],1)],1),a("div",{staticClass:"col-12"},[a("q-card",{staticClass:"fit no-shadow",attrs:{inline:"",color:"white"}},[a("q-card-title",{staticClass:"text-tertiary q-title q-pb-sm"},[e._v("\n          A Entregar\n        ")]),a("q-card-main",[a("q-table",{directives:[{name:"show",rawName:"v-show",value:!e.carregando,expression:"!carregando"}],staticClass:"no-shadow text-left",attrs:{data:e.cockpit.envelopesAEntregar,columns:e.colunas.envelopes},scopedSlots:e._u([{key:"body",fn:function(t){return a("q-tr",{staticStyle:{cursor:"pointer"},attrs:{props:t}},[a("q-td",{key:"nroVenda",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[e._v("\n                "+e._s(t.row.nroVenda)+"\n              ")]),a("q-td",{key:"nroEnvelope",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[e._v("\n                "+e._s(t.row.nroEnvelope)+"\n              ")]),a("q-td",{key:"status",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[e._v("\n                "+e._s(t.row.status)+"\n              ")]),a("q-td",{key:"dataHoraPrevisto",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[e._v("\n                "+e._s(e._f("data")(t.row.dataHoraPrevisto))+"\n              ")]),a("q-td",{key:"nome",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[a("div",{staticClass:"row items-center"},[a("avatar",{staticClass:"q-mr-sm",attrs:{imagem:(e.contato[t.row.idContato]||{}).imagem,rotulo:t.row.nome,tamanho:"40"}}),e._v("\n                  "+e._s(t.row.nome)+"\n                ")],1)]),a("q-td",{key:"telefone",attrs:{props:t},nativeOn:{click:function(a){e.abrirTelefone(t.row)}}},[a("div",{staticClass:"row items-center"},[a("q-btn",{attrs:{color:"none",dense:"",flat:"",round:""}},[a("WhatsApp"===t.row.tipoTelefone?"icone":"q-icon",e._b({tag:"component"},"component",e.telefoneIcone(t.row.tipoTelefone),!1))],1),e._v("\n\n                  "+e._s(t.row.telefone)+"\n                ")],1)]),a("q-td",{key:"valor",attrs:{props:t},nativeOn:{click:function(a){e.irParaAtendimentoVenda(t.row.idContato)}}},[a("div",{staticClass:"row items-center"},[a("q-btn",{staticClass:"q-mx-xs",attrs:{color:"none",dense:"",flat:"",round:"",icon:"shopping_cart"}}),e._v("\n                  "+e._s(e._f("numero")(t.row.valor||0,2))+"\n                ")],1)]),a("q-td",{key:"imprimir",attrs:{props:t}},[a("div",{staticClass:"row items-center"},[a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"print",color:"primary",size:"md"}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},e._l(e.configImpressaoEnvelope[t.row.idEmpresa],function(o){return a("q-item",{key:o.valor,nativeOn:{click:function(a){e.imprimir(o.valor,t.row.idVenda||"0")}}},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:o.texto}})],1)}))],1)],1)],1)])],1)}}])})],1)],1)],1)])],1)},Vk=[];Lk._withStripped=!0;var Uk={components:{Avatar:Fc,Campo:Sl,Icone:nw},computed:{colunas:function(){return{envelopes:[{name:"nroVenda",label:"N.° Venda",field:"numero",align:"left"},{name:"nroEnvelope",label:"N.° Envelope",field:"numero",align:"left"},{name:"status",label:"Status",field:"status",sortable:!0,align:"left"},{name:"dataHoraPrevisto",label:"Previsão de Entrega",field:"dataHoraPrevisto",sortable:!0,align:"center"},{name:"nome",label:"Cliente",field:"nome",sortable:!0,align:"left"},{name:"telefone",label:"Telefone",field:"telefone",align:"left"},{name:"valor",label:"Valor",field:"valor",align:"left"},{name:"imprimir",field:"idVenda",align:"center"}]}}},data:function(){return{carregando:!0,cockpit:{envelopesAtrasados:[],envelopesHoje:[],envelopesAEntregar:[]},contato:{},empresas:[],nomesEmpresasSelecionadas:[],configImpressaoEnvelope:{},filtro:{codigoClienteSistema:"",codigoContatoUsuario:"",empresas:[],periodo:{ini:"",fim:""}}}},watch:{"$route.params.id":function(){this.atualizar()}},methods:{irParaAtendimentoVenda:function(e){this.$router.push({name:"AtendimentoVenda",params:{id:e}})},abrirTelefone:function(e){if(e.telefone){var t="WhatsApp"===e.tipoTelefone?"https://api.whatsapp.com/send?"+(e.aniversario?"text=Parabéns, "+e.nome+"&":"")+"phone=":"tel:+";Object(uw["a"])(t+this.formatarTelefone(e.telefone))}},configuraImpressaoEnvelope:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=!0,o=!1,i=void 0,e.prev=3,r=t[Symbol.iterator]();case 5:if(a=(s=r.next()).done){e.next=16;break}if(n=s.value,this.configImpressaoEnvelope[n.idEmpresa]){e.next=13;break}return e.next=10,Zn.configuracoes.porNome("impressao.envelope",n.idEmpresa);case 10:c=e.sent,l=la()(c.length?c.map(function(e){return at()({texto:"Imprimir Envelope"},e)}):[{valor:"envelope",texto:"Imprimir Envelope"},{valor:"envelopeMini",texto:"Imprimir Envelope Mini"}]),this.configImpressaoEnvelope[n.idEmpresa]=l;case 13:a=!0,e.next=5;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](3),o=!0,i=e.t0;case 22:e.prev=22,e.prev=23,a||null==r.return||r.return();case 25:if(e.prev=25,!o){e.next=28;break}throw i;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case"end":return e.stop()}},e,this,[[3,18,22,30],[23,,25,29]])}));return function(t){return e.apply(this,arguments)}}(),formatarTelefone:function(e){return e||"string"===typeof e?"55"+e.replace(/\D/g,"").replace(/^55/,""):e},telefoneIcone:function(e){return{Celular:{color:"dark",name:"phone_iphone",size:"18px"},Comercial:{color:"dark",name:"phone",size:"18px"},Fixo:{color:"dark",name:"phone",size:"18px"},Principal:{color:"orange",name:"star",size:"18px"},WhatsApp:{cor:"whatsapp",nome:"whatsapp",tamanho:18}}[e]||{color:"dark",name:"phone",size:"18px"}},buscarEmpresas:function(e,t){if(e=(e||"").trim(),e){var a=!!e.replace(/[^\d]/g,""),o=new Vm.a(this.empresas,{keys:[{name:"nome",weight:.9},{name:"apelido",weight:.9},a?{name:"numeroDocumentoNacional"}:{}]});t(o.search(e).map(function(e){return{value:e.codigoContato,label:e.nome,sublabel:e.numeroDocumentoNacional}}))}else t(this.empresas.map(function(e){return{value:e.codigoContato,label:e.nome,sublabel:e.numeroDocumentoNacional}}))},removerEmpresa:function(e){var t=this.empresas.find(function(t){return t.nome===e.value[0]});t&&(this.filtro.empresas=this.filtro.empresas.filter(function(e){return e!==t.codigoContato}),this.filtrar())},selecionarEmpresa:function(e){this.filtro.empresas.includes(e.value)?this.nomesEmpresasSelecionadas=this.nomesEmpresasSelecionadas.slice(0,this.nomesEmpresasSelecionadas.length-1):(this.filtro.empresas.push(e.value),this.nomesEmpresasSelecionadas.splice(this.nomesEmpresasSelecionadas.length-1,1,e.label),this.filtrar())},obterContatos:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a={},o=!0,i=!1,r=void 0,e.prev=4,s=t[Symbol.iterator]();case 6:if(o=(n=s.next()).done){e.next=16;break}if(c=n.value,!c.idContato||a[c.idContato]){e.next=13;break}return e.next=11,He().contato.get(c.idContato);case 11:l=e.sent,l&&l.id&&(a[c.idContato]={imagem:l.imagem||""});case 13:o=!0,e.next=6;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](4),i=!0,r=e.t0;case 22:e.prev=22,e.prev=23,o||null==s.return||s.return();case 25:if(e.prev=25,!i){e.next=28;break}throw r;case 28:return e.finish(25);case 29:return e.finish(22);case 30:this.contato=a;case 31:case"end":return e.stop()}},e,this,[[4,18,22,30],[23,,25,29]])}));return function(t){return e.apply(this,arguments)}}(),obterConsultaRecente:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.criarObjStoreIDB();case 2:return t=String(this.codigoClienteSistema)+"_"+String(this.codigoContatoUsuario)+"/envelopes",e.next=5,this.obterObjIDb(t);case 5:if(a=e.sent,!a){e.next=37;break}for(this.filtro={codigoClienteSistema:this.codigoClienteSistema,codigoContatoUsuario:this.codigoContatoUsuario,empresas:a.empresas,dataConsulta:new Date(a.dataConsulta),periodo:a.periodo},this.nomesEmpresasSelecionadas=[],o=!0,i=!1,r=void 0,e.prev=12,s=function(){var e=c.value,t=d.empresas.find(function(t){return t.codigoContato===e});t&&d.nomesEmpresasSelecionadas.push(t.nome)},n=this.filtro.empresas[Symbol.iterator]();!(o=(c=n.next()).done);o=!0)s();e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](12),i=!0,r=e.t0;case 21:e.prev=21,e.prev=22,o||null==n.return||n.return();case 24:if(e.prev=24,!i){e.next=27;break}throw r;case 27:return e.finish(24);case 28:return e.finish(21);case 29:return l=a.dados,e.next=32,this.obterContatos(la()(l.envelopesAtrasados).concat(la()(l.envelopesHoje),la()(l.envelopesAEntregar)));case 32:return e.next=34,this.configuraImpressaoEnvelope(la()(l.envelopesAtrasados).concat(la()(l.envelopesHoje),la()(l.envelopesAEntregar)));case 34:return this.acertarDatas(l),this.cockpit=l,e.abrupt("return",!0);case 37:return e.abrupt("return",!1);case 38:case"end":return e.stop()}},e,this,[[12,17,21,29],[22,,24,28]])}));return function(){return e.apply(this,arguments)}}(),acertarDatas:function(e){var t=new Date((new Date).setHours(0,0,0,0)).toISOString().replace(/\d{4}-\d{2}-\d{2}/g,"");e.envelopesAtrasados.forEach(function(e){e.dataHoraPrevisto=(e.dataHoraPrevisto||"").replace(/T.+$/g,t)}),e.envelopesHoje.forEach(function(e){e.dataHoraPrevisto=(e.dataHoraPrevisto||"").replace(/T.+$/g,t)}),e.envelopesAEntregar.forEach(function(e){e.dataHoraPrevisto=(e.dataHoraPrevisto||"").replace(/T.+$/g,t)})},salvarConsultaRecente:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.criarObjStoreIDB();case 2:this.salvarObjIDb({id:String(this.filtro.codigoClienteSistema)+"_"+String(this.filtro.codigoContatoUsuario)+"/envelopes",periodo:this.filtro.periodo,dataConsulta:this.filtro.dataConsulta.toISOString(),empresas:this.filtro.empresas,dados:this.cockpit});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),criarObjStoreIDB:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("indexedDB"in window){e.next=3;break}return console.log("Navegador sem suporte ao IndexedDB"),e.abrupt("return");case 3:return t=indexedDB.open("cockpit",1),t.onupgradeneeded=function(e){var t=e.target.result,a=t.createObjectStore("consultasRecentes",{keyPath:"id"});a.createIndex("id","id",{unique:!0})},e.abrupt("return",new Promise(function(e,a){t.onsuccess=function(t){e()},t.onerror=function(t){e()}}));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),salvarObjIDb:function(e){var t,a,o;if("indexedDB"in window)return t=new Promise(function(e,t){o=e}),a=indexedDB.open("cockpit",1),a.onsuccess=function(){var t=a.result.transaction(["consultasRecentes"],"readwrite"),i=t.objectStore("consultasRecentes");a=i.put(e),a.onsuccess=function(e){o()},a.onerror=function(e){o()}},t},obterObjIDb:function(e){var t,a,o;if("indexedDB"in window)return t=new Promise(function(e,t){o=e}),a=indexedDB.open("cockpit",1),a.onsuccess=function(){var t=a.result.transaction(["consultasRecentes"],"readwrite"),i=t.objectStore("consultasRecentes");a=i.get(e),a.onsuccess=function(e){o(e.target.result)},a.onerror=function(e){o()}},t},filtrar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.carregando=!0,this.contato={},this.filtro.periodo.ini=new Date(this.filtro.periodo.ini).toISOString(),this.filtro.periodo.fim=new Date(this.filtro.periodo.fim).toISOString(),this.filtro.dataConsulta=new Date,e.next=7,this.$utils.geeksApi({"cockpit-envelopes":{funcao:"1A2281A1-795D-4ACE-8A8B-DFFE2CAEE2CA",codigoClienteSistema:this.filtro.codigoClienteSistema,codigoContatoUsuario:this.filtro.codigoContatoUsuario,empresas:this.filtro.empresas,periodo:this.filtro.periodo}});case 7:return t=e.sent,t=t.data["cockpit-envelopes"],e.next=11,this.obterContatos(la()(t.envelopesAtrasados).concat(la()(t.envelopesHoje),la()(t.envelopesAEntregar)));case 11:return e.next=13,this.configuraImpressaoEnvelope(la()(t.envelopesAtrasados).concat(la()(t.envelopesHoje),la()(t.envelopesAEntregar)));case 13:this.acertarDatas(t),this.cockpit=t,this.salvarConsultaRecente(),this.carregando=!1;case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i=this.$route.params.id,Po(!i,"Id do contato não encontrado"),e.next=5,He().contato.get(i);case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0={};case 8:return r=e.t0,o=r.codigoContato,Po(!o,"Contato não encontrado"),t=JSON.parse(localStorage.getItem("clienteSistema"))||{},a=t.codigoClienteSistema,Po(!a,"Cliente Sistema não encontrado"),this.codigoClienteSistema=a,this.codigoContatoUsuario=o,e.next=18,He().empresa.toArray();case 18:for(s=e.sent,this.empresas=s.map(function(e){return{codigoContato:e.codigoContato,nome:e.nome,apelido:e.apelido,numeroDocumentoNacional:e.numeroDocumentoNacional}}),n=new Date(new Date((new Date).setDate(1)).setHours(0,0,0,0)),c=new Date(new Date(new Date(n).setMonth(n.getMonth()+1)).setDate(0)),this.nomesEmpresasSelecionadas=[],this.filtro=this.filtroT||{codigoClienteSistema:this.codigoClienteSistema,codigoContatoUsuario:this.codigoContatoUsuario,empresas:[],dataConsulta:new Date,periodo:{ini:n,fim:c}},this.nomesEmpresasSelecionadas=[],l=!0,d=!1,u=void 0,e.prev=28,m=function(){var e=v.value,t=h.empresas.find(function(t){return t.codigoContato===e});t&&h.nomesEmpresasSelecionadas.push(t.nome)},p=this.filtro.empresas[Symbol.iterator]();!(l=(v=p.next()).done);l=!0)m();e.next=37;break;case 33:e.prev=33,e.t1=e["catch"](28),d=!0,u=e.t1;case 37:e.prev=37,e.prev=38,l||null==p.return||p.return();case 40:if(e.prev=40,!d){e.next=43;break}throw u;case 43:return e.finish(40);case 44:return e.finish(37);case 45:if(e.t2=!this.filtroT,!e.t2){e.next=50;break}return e.next=49,this.obterConsultaRecente();case 49:e.t2=e.sent;case 50:if(!e.t2){e.next=54;break}if(this.carregando=!1,new Date-new Date(this.filtro.dataConsulta)>3e5){e.next=54;break}return e.abrupt("return");case 54:this.filtrar(),e.next=60;break;case 57:e.prev=57,e.t3=e["catch"](0),this.$q.notifyError("Não foi possível carregar os dados do cockpit",e.t3);case 60:case"end":return e.stop()}},e,this,[[0,57],[28,33,37,45],[38,,40,44]])}));return function(){return e.apply(this,arguments)}}()},props:{filtroT:Object},mounted:function(){this.atualizar()}},Hk=Uk,Qk=(a("170b"),Object(sc["a"])(Hk,Lk,Vk,!1,null,"312aa593",null));Qk.options.__file="CockpitEnvelopes.vue";var Gk=Qk.exports,Jk=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"CockpitPerformance"},[a("grid-layout",{attrs:{layout:e.layout,"col-num":12,"row-height":30,"is-draggable":e.draggable,"is-resizable":e.resizable,margin:[30,30],"vertical-compact":!0,"use-css-transforms":!0}},e._l(e.layout,function(e,t){return a("grid-item",{key:t,attrs:{x:e.x,y:e.y,w:e.w,h:e.h,i:e.i,"drag-allow-from":".vue-draggable-handle","drag-ignore-from":".no-drag"}},[a("q-card",{staticClass:"text bg-white no-shadow row borderRadiusBottom"},[a("div",{staticClass:"vue-draggable-handle"}),a("div",{staticClass:"no-drag col-12"},[a(e.i,{tag:"component"})],1)])],1)}))],1)},Xk=[];Jk._withStripped=!0;var Yk=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md verde"},[a("q-toolbar",{staticClass:"q-ma-none",attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-positive q-title q-pa-none"},[e._v("Vendas este mês (Diário)\n      "),a("section")]),a("q-btn",{attrs:{rounded:"",flat:"",dense:"",color:"positive",icon:"remove_red_eye"}})],1),a("div",{staticClass:"row"},[a("grafico-barras",{staticClass:"col",attrs:{dados:e.graficoFluxo,opcoes:e.graficoOpcoesFluxo}})],1)],1)},Wk=[];Yk._withStripped=!0;var Zk={components:{GraficoBarras:yS},data:function(){return{graficoFluxo:{labels:["01","04","05","06","07","08","11","12","13","14","15","18","19","20","21","22","25","26","27","28","29"],datasets:[{label:"Venda",backgroundColor:"rgba(33, 186, 69, 0.5)",borderColor:"rgb(33, 186, 69)",borderWidth:1,data:[50,35,75,60,50,35,75,60,50,35,75,60,50,35,75,60,50,35,75,60,50]},{label:"Orçamento",borderColor:"rgba(0, 0, 0, 0.15)",borderWidth:1,data:[0,22,0,15,0,0,0,50,0,0,0,0,0,0,0,18,0,0,0,0,0]},{label:"Perdida",backgroundColor:"rgba(219, 40, 40, 0.5)",borderColor:"rgb(219, 40, 40)",borderWidth:1,data:[0,0,12,15,0,0,0,0,10,0,0,0,0,0,0,0,5,0,0,0,0]}]},graficoOpcoesFluxo:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]},legend:{position:"top"}}}}},Kk=Zk,eM=(a("2c0d"),Object(sc["a"])(Kk,Yk,Wk,!1,null,null,null));eM.options.__file="CockpitDashboardDiaDia.vue";var tM=eM.exports,aM=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md verde"},[a("q-toolbar",{staticClass:"q-ma-none",attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-positive q-title q-pa-none"},[e._v("Vendas por mês"),a("section")]),a("q-btn",{attrs:{rounded:"",flat:"",dense:"",color:"positive",icon:"remove_red_eye"}})],1),a("div",{staticClass:"row"},[a("grafico-barras",{staticClass:"col",attrs:{dados:e.graficoFluxo,opcoes:e.graficoOpcoesFluxo}})],1)],1)},oM=[];aM._withStripped=!0;var iM={components:{GraficoBarras:yS},data:function(){return{graficoFluxo:{labels:["Março/18","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro","Janeiro","Fevereiro","Março/19"],datasets:[{label:"Vendido",backgroundColor:"rgba(33, 186, 69, 0.5)",borderColor:"rgb(33, 186, 69)",borderWidth:1,data:[45,50,35,75,60,50,35,75,60,50,35,75,60]},{label:"Projeção",borderColor:"rgba(0, 0, 0, 0.15)",borderWidth:1,data:[0,0,0,0,0,0,0,0,0,0,0,0,50]}]},graficoOpcoesFluxo:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]},legend:{position:"top"}}}}},rM=iM,sM=(a("bbb9"),Object(sc["a"])(rM,aM,oM,!1,null,null,null));sM.options.__file="CockpitDashboardMesMes.vue";var nM=sM.exports,cM=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md"},[a("q-toolbar",{attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-blue-8 q-title q-pa-none"},[e._v("Tipo de Produto")]),a("q-btn",{attrs:{rounded:"",flat:"",dense:"",color:"blue-6",icon:"remove_red_eye"}})],1),a("q-table",{staticClass:"no-shadow text-left",attrs:{data:e.tableData,columns:e.columns},scopedSlots:e._u([{key:"body",fn:function(t){return a("q-tr",{attrs:{props:t}},[a("q-td",{key:"codigo",attrs:{props:t}},[e._v(e._s(t.row.codigo))]),a("q-td",{key:"name",attrs:{props:t}},[e._v(e._s(t.row.name))]),a("q-td",{key:"data",attrs:{props:t}},[e._v(e._s(t.row.data))]),a("q-td",{key:"valor",attrs:{props:t}},[e._v(e._s(t.row.valor))])],1)}}])})],1)},lM=[];cM._withStripped=!0;var dM={data:function(){return{columns:[{name:"codigo",label:"Posição",field:"codigo",sortable:!0,align:"left"},{name:"name",label:"Tipo",field:"name",align:"left"},{name:"data",label:"Mês",field:"data",align:"left"},{name:"valor",label:"Ano",field:"valor",align:"left"}],tableData:[{photo:"statics/avatar.jpg",codigo:"1",name:"Oculos de Sol",data:"5und. R$100",valor:"5und. R$100"},{photo:"statics/avatar.jpg",codigo:"2",name:"Armação",data:"5und. R$100",valor:"5und. R$100"},{photo:"statics/avatar.jpg",codigo:"3",name:"Lente de contato",data:"5und. R$100",valor:"5und. R$100"},{photo:"statics/avatar.jpg",codigo:"4",name:"Oculos de Sol",data:"5und. R$100",valor:"5und. R$100"}]}}},uM=dM,mM=Object(sc["a"])(uM,cM,lM,!1,null,null,null);mM.options.__file="CockpitDashboardTipoProduto.vue";var pM=mM.exports,vM=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md"},[a("q-toolbar",{attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-blue-8 q-title q-pa-none"},[e._v("Marcas")]),a("q-btn",{attrs:{rounded:"",flat:"",dense:"",color:"blue-6",icon:"remove_red_eye"}})],1),a("q-table",{staticClass:"no-shadow text-left",attrs:{data:e.tableData,columns:e.columns},scopedSlots:e._u([{key:"body",fn:function(t){return a("q-tr",{attrs:{props:t}},[a("q-td",{key:"photo",attrs:{props:t}},[e._v(e._s(t.row.photo))]),a("q-td",{key:"name",attrs:{props:t}},[e._v(e._s(t.row.name))]),a("q-td",{key:"phone",attrs:{props:t}},[e._v(e._s(t.row.phone))]),a("q-td",{key:"data",attrs:{props:t}},[e._v(e._s(t.row.data))])],1)}}])})],1)},hM=[];vM._withStripped=!0;var fM={data:function(){return{columns:[{name:"photo",label:"Posição",field:"photo",sortable:!0,align:"left"},{name:"name",label:"Nome",field:"name",sortable:!0,align:"left"},{name:"phone",label:"Mês",field:"phone",align:"left"},{name:"data",label:"Ano",field:"data",align:"left"}],tableData:[{photo:"1",name:"Rayban",phone:"5und. R$100",data:"5und. R$100"},{photo:"2",name:"Chilli Beans",phone:"5und. R$100",data:"5und. R$100"},{photo:"3",name:"Ana hickman",phone:"5und. R$100",data:"5und. R$100"},{photo:"4",name:"Oakley ",phone:"5und. R$100",data:"5und. R$100"},{photo:"5",name:"Carrera",phone:"5und. R$100",data:"5und. R$100"}]}}},CM=fM,bM=Object(sc["a"])(CM,vM,hM,!1,null,null,null);bM.options.__file="CockpitDashboardMarcas.vue";var gM=bM.exports,xM=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("q-toolbar",{attrs:{color:"transparent"}},[a("avatar",{attrs:{imagem:"statics/avatar.jpg",tamanho:"40"}})],1),a("q-table",{staticClass:"no-shadow text-left",attrs:{data:e.tableData,pagination:e.paginationControl,columns:e.columns},on:{"update:pagination":function(t){e.paginationControl=t}},scopedSlots:e._u([{key:"body",fn:function(t){return a("q-tr",{attrs:{props:t}},[a("q-td",{key:"mes",attrs:{props:t}},[e._v(e._s(t.row.mes))]),a("q-td",{key:"photo",attrs:{props:t}},[e._v(e._s(t.row.photo))]),a("q-td",{key:"name",attrs:{props:t}},[e._v(e._s(t.row.name))]),a("q-td",{key:"phone",attrs:{props:t}},[e._v(e._s(t.row.phone))]),a("q-td",{key:"phone2",attrs:{props:t}},[e._v(e._s(t.row.phone2))]),a("q-td",{key:"phone3",attrs:{props:t}},[e._v(e._s(t.row.phone3))]),a("q-td",{key:"data",attrs:{props:t}},[e._v(e._s(t.row.data))])],1)}}])})],1)},_M=[];xM._withStripped=!0;var qM={components:{Avatar:Fc},data:function(){return{paginationControl:{rowsPerPage:12,page:1},columns:[{name:"mes",label:"Mês/Ano",field:"mes",sortable:!0,align:"left"},{name:"photo",label:"Tkt. Médio",field:"photo",sortable:!0,align:"left"},{name:"name",label:"Vendas",field:"name",sortable:!0,align:"left"},{name:"phone",label:"Envelope",field:"phone",align:"left"},{name:"phone2",label:"Desconto",field:"phone2",align:"left"},{name:"phone3",label:"Margem",field:"phone3",align:"left"},{name:"data",label:"Cliente Retornou",field:"data",align:"left"}],tableData:[{mes:"01/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"},{mes:"02/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"},{mes:"03/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"},{mes:"04/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"},{mes:"05/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"},{mes:"06/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"},{mes:"07/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"},{mes:"08/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"},{mes:"09/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"},{mes:"10/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"},{mes:"11/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"},{mes:"12/2019",photo:"5und. R$100",name:"5und. R$100",phone:"Atraso / Em dia",phone2:"5% R$100",phone3:"5% R$100",data:"5und. R$100"}]}}},SM=qM,IM=Object(sc["a"])(SM,xM,_M,!1,null,null,null);IM.options.__file="CockpitDashboardTabela.vue";var FM=IM.exports,wM={components:{GridLayout:tS.a.GridLayout,GridItem:tS.a.GridItem,DashDiaDia:tM,DashMesMes:nM,DashNumero:pM,DashNumero2:gM,DashTabela:FM},methods:{handleResize:function(){window.innerWidth<768?this.layout=[{x:0,y:0,w:12,h:8,i:tM},{x:0,y:8,w:12,h:8,i:nM},{x:0,y:16,w:12,h:6,i:pM},{x:0,y:24,w:12,h:6,i:gM},{x:0,y:30,w:12,h:10,i:FM}]:window.innerWidth<=997?this.layout=[{x:0,y:0,w:12,h:8,i:tM},{x:0,y:8,w:12,h:8,i:nM},{x:0,y:16,w:12,h:7,i:pM},{x:0,y:24,w:12,h:7,i:gM},{x:0,y:30,w:12,h:13,i:FM}]:this.layout=[{x:0,y:0,w:12,h:8,i:tM},{x:0,y:8,w:12,h:8,i:nM},{x:0,y:16,w:6,h:7,i:pM},{x:6,y:23,w:6,h:7,i:gM},{x:6,y:30,w:12,h:13,i:FM}]}},data:function(){return{layout:[],draggable:!0,resizable:!0,responsive:!0,mirrored:!0,index:0}},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()}},yM=wM,NM=(a("926b"),Object(sc["a"])(yM,Jk,Xk,!1,null,null,null));NM.options.__file="CockpitPerformance.vue";var kM=NM.exports,MM=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"AtendimentoVenda q-pb-md"},[a("q-card",{staticClass:"shadow-3 row no-shadow"},[a("div",{staticClass:"col-12"},[a("q-toolbar",{staticClass:"no-shadow q-pa-none",attrs:{"text-color":"black",color:"transparent"}},[a("q-toolbar-title",{staticClass:"q-pa-none"},[a("div",{staticClass:"filters row content-stretch justify-between q-pt-sm q-pr-sm q-ma-md gutter-x-sm bg-white",staticStyle:{"border-radius":"5px","min-height":"50px"}},[a("div",{staticClass:"col-8"},[a("div",{staticClass:"row q-mb-sm"},[a("q-btn",{staticClass:"no-shadow",attrs:{icon:"mdi-filter",round:"",dense:"",flat:"",color:"faded"}}),a("q-chips-input",{staticClass:"col q-mx-md",attrs:{color:"faded",placeholder:e.grupos.length?"":"Filtre por Produto, Marca, Número..."},on:{input:e.atualizar},model:{value:e.grupos,callback:function(t){e.grupos=t},expression:"grupos"}})],1)]),a("div",{staticClass:"col-auto"},[a("div",{staticClass:"row q-mb-sm"},[a("campo",{staticClass:"col q-mx-md",attrs:{tipo:"data"},on:{input:e.atualizar},model:{value:e.dataIni,callback:function(t){e.dataIni=t},expression:"dataIni"}})],1)]),a("div",{staticClass:"col-auto"},[a("div",{staticClass:"row q-mb-sm"},[a("label",{staticClass:"q-mx-md col-auto"},[e._v("até")])])]),a("div",{staticClass:"col-auto"},[a("div",{staticClass:"row q-mb-sm"},[a("campo",{staticClass:"col q-mx-md",attrs:{tipo:"data"},on:{input:e.atualizar},model:{value:e.dataFim,callback:function(t){e.dataFim=t},expression:"dataFim"}})],1)])])])],1)],1)]),!e.carregando&&e.temRegistros?a("q-list",{staticClass:"no-border row"},[e.temVendasAbertas?a("q-collapsible",{staticClass:"col-12 q-mb-xl",attrs:{opened:"",label:"Abertas (Total R$ "+e.$filters.numero(e.vendasAbertas.reduce(function(e,t){return e+t.totalDocumento},0),2)+")",group:"vendasAbertas"}},[e.pagination.vendasAbertas.max>1?a("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"50px"}},[a("q-pagination",{staticClass:"float-right",attrs:{min:e.pagination.vendasAbertas.min,max:e.pagination.vendasAbertas.max,ellipses:"","max-pages":e.pagination.maxPages},model:{value:e.pagination.vendasAbertas.page,callback:function(t){e.$set(e.pagination.vendasAbertas,"page",t)},expression:"pagination.vendasAbertas.page"}})],1):e._e(),e._l(e.vendasAbertas.slice((e.pagination.vendasAbertas.page-1)*e.pagination.perPage,e.pagination.vendasAbertas.page*e.pagination.perPage),function(t){return a("div",{key:t.id},[a("venda-card",{staticClass:"q-mb-md",attrs:{id:t.id},on:{executar:e.executar}})],1)}),e.pagination.vendasAbertas.max>1?a("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"50px"}},[a("q-pagination",{staticClass:"float-right",attrs:{min:e.pagination.vendasAbertas.min,max:e.pagination.vendasAbertas.max,ellipses:"","max-pages":e.pagination.maxPages},model:{value:e.pagination.vendasAbertas.page,callback:function(t){e.$set(e.pagination.vendasAbertas,"page",t)},expression:"pagination.vendasAbertas.page"}})],1):e._e()],2):e._e(),e.temVendasFinalizadas?a("q-collapsible",{staticClass:"col-12 q-mb-xl",attrs:{opened:"",label:"Finalizadas (Total R$ "+e.$filters.numero(e.vendasFinalizadas.reduce(function(e,t){return e+t.totalDocumento},0),2)+")",group:"vendasFinalizadas"}},[e.pagination.vendasFinalizadas.max>1?a("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"50px"}},[a("q-pagination",{staticClass:"float-right",attrs:{min:e.pagination.vendasFinalizadas.min,max:e.pagination.vendasFinalizadas.max,ellipses:"","max-pages":e.pagination.maxPages},model:{value:e.pagination.vendasFinalizadas.page,callback:function(t){e.$set(e.pagination.vendasFinalizadas,"page",t)},expression:"pagination.vendasFinalizadas.page"}})],1):e._e(),e._l(e.vendasFinalizadas.slice((e.pagination.vendasFinalizadas.page-1)*e.pagination.perPage,e.pagination.vendasFinalizadas.page*e.pagination.perPage),function(t){return a("div",{key:t.id},[a("venda-card",{staticClass:"q-mb-md",attrs:{id:t.id},on:{executar:e.executar}})],1)}),e.pagination.vendasFinalizadas.max>1?a("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"50px"}},[a("q-pagination",{staticClass:"float-right",attrs:{min:e.pagination.vendasFinalizadas.min,max:e.pagination.vendasFinalizadas.max,ellipses:"","max-pages":e.pagination.maxPages},model:{value:e.pagination.vendasFinalizadas.page,callback:function(t){e.$set(e.pagination.vendasFinalizadas,"page",t)},expression:"pagination.vendasFinalizadas.page"}})],1):e._e()],2):e._e(),e.temVendasCanceladas?a("q-collapsible",{staticClass:"col-12 q-mb-xl",attrs:{opened:"",label:"Canceladas (Total R$ "+e.$filters.numero(e.vendasCanceladas.reduce(function(e,t){return e+t.totalDocumento},0),2)+")",group:"vendasCanceladas"}},[e.pagination.vendasCanceladas.max>1?a("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"50px"}},[a("q-pagination",{staticClass:"float-right",attrs:{min:e.pagination.vendasCanceladas.min,max:e.pagination.vendasCanceladas.max,ellipses:"","max-pages":e.pagination.maxPages},model:{value:e.pagination.vendasCanceladas.page,callback:function(t){e.$set(e.pagination.vendasCanceladas,"page",t)},expression:"pagination.vendasCanceladas.page"}})],1):e._e(),e._l(e.vendasCanceladas.slice((e.pagination.vendasCanceladas.page-1)*e.pagination.perPage,e.pagination.vendasCanceladas.page*e.pagination.perPage),function(t){return a("div",{key:t.id},[a("venda-card",{staticClass:"q-mb-md",attrs:{id:t.id},on:{executar:e.executar}})],1)}),e.pagination.vendasCanceladas.max>1?a("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"50px"}},[a("q-pagination",{staticClass:"float-right",attrs:{min:e.pagination.vendasCanceladas.min,max:e.pagination.vendasCanceladas.max,ellipses:"","max-pages":e.pagination.maxPages},model:{value:e.pagination.vendasCanceladas.page,callback:function(t){e.$set(e.pagination.vendasCanceladas,"page",t)},expression:"pagination.vendasCanceladas.page"}})],1):e._e()],2):e._e()],1):e._e(),e.carregando||e.temRegistros?e._e():a("div",{staticClass:"q-pa-lg text-center"},[e._m(0)]),e.carregando?a("div",{staticClass:"q-mt-lg text-center"},[a("q-spinner",{attrs:{color:"faded",size:50}})],1):e._e(),a("NFePrincipal",{on:{fechar:e.fechouNFe}})],1)},PM=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("small",[e._v("Registros não encontrados")])])}];MM._withStripped=!0;var DM={components:{Campo:Sl,NFePrincipal:fq,VendaCard:eb},computed:{temVendasAbertas:function(){return!!this.vendasAbertas.length},temVendasCanceladas:function(){return!!this.vendasCanceladas.length},temVendasFinalizadas:function(){return!!this.vendasFinalizadas.length},temRegistros:function(){return this.temVendasAbertas||this.temVendasCanceladas||this.temVendasFinalizadas}},data:function(){return{grupos:[],documentos:{},vendasAbertas:[],vendasCanceladas:[],vendasFinalizadas:[],filtro:{},tipoData:"",tiposData:[{label:"Emissão",value:"emissao"},{label:"Finalizado",value:"finalizado"}],dataIni:null,dataFim:null,carregando:!1,colunas:[{name:"descricao",label:"Descrição",align:"left"},{name:"documento",label:"Documento",align:"left"},{name:"valorUnitario",label:"Valor Unitário",align:"right"},{name:"quantidade",label:"Quantidade",align:"right"},{name:"valorTotal",label:"Valor Total",align:"right"},{name:"botao",label:"",align:"right"}],paginacao:{page:1,rowsPerPage:25},modalDevolucaoGarantia:{visivel:!1},modalVenda:{visivel:!1,orcamento:{}},pagination:{maxPages:7,perPage:5,vendasAbertas:{page:1,min:1,max:1},vendasFinalizadas:{page:1,min:1,max:1},vendasCanceladas:{page:1,min:1,max:1}}}},methods:{abrirModalDevolucaoGarantia:function(e){this.modalDevolucaoGarantia={visivel:!0,documentoItem:e}},fechouNFe:function(e){e&&qa.$emit("atualizarDocumentosFiscais")},atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.documentos={},this.documentosItens=[],this.paginacao={page:1,rowsPerPage:25},this.carregando=!0,e.next=6,this.filtrar();case 6:this.carregando=!1;case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),executar:function(e){this.atualizar()},filtrar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w,y,N,k,M,P,D,E,T,A,O,$,R,j,z,B,L,V,U,H,Q,G,J,X,Y;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t={},!this.$route.params.id){e.next=5;break}return e.next=4,Zn.contato.le({id:this.$route.params.id});case 4:t=e.sent;case 5:return t.id||this.$router.go(-1),e.next=8,Zn.venda.leNew({idContatoVendedor:t.id});case 8:return a=e.sent,o=a.map(function(e){return e.id}),e.t0=la()(a),e.t1=la.a,e.next=14,Zn.venda.leNew({idContatoDigitador:t.id});case 14:return e.t2=function(e){return!o.includes(e.id)&&o.push(e.id)},e.t3=e.sent.filter(e.t2),e.t4=(0,e.t1)(e.t3),a=e.t0.concat.call(e.t0,e.t4),e.t5=la()(a),e.t6=la.a,e.next=22,Zn.venda.leNew({idEmpresa:t.id});case 22:return e.t7=function(e){return!o.includes(e.id)},e.t8=e.sent.filter(e.t7),e.t9=(0,e.t6)(e.t8),a=e.t5.concat.call(e.t5,e.t9),e.next=28,Zn.permissao.objeto("Diretiva_Venda/Fatura_OutrasLojas_VerTodos");case 28:return i=e.sent,e.next=31,Zn.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);case 31:r=e.sent,i||(a=a.filter(function(e){return r.find(function(t){return t.id===e.idEmpresa})})),this.dataIni&&this.dataFim&&(s=new Date(this.dataIni).setHours(0,0,0,0),n=new Date(this.dataFim).setHours(0,0,0,0),a=a.filter(function(e){var t=e.dataHoraFinalizado||e.dataHoraEmissao;if(t)return t=new Date(t).setHours(0,0,0,0),t>=s&&t<=n})),c=[],l=!0,d=!1,u=void 0,e.prev=38,m=a[Symbol.iterator]();case 40:if(l=(p=m.next()).done){e.next=49;break}return v=p.value,e.next=44,Zn.documentoItem.leNew({idDocumento:v.id});case 44:h=e.sent,c=la()(c).concat(la()(h.filter(function(e){return e.idItem})));case 46:l=!0,e.next=40;break;case 49:e.next=55;break;case 51:e.prev=51,e.t10=e["catch"](38),d=!0,u=e.t10;case 55:e.prev=55,e.prev=56,l||null==m.return||m.return();case 58:if(e.prev=58,!d){e.next=61;break}throw u;case 61:return e.finish(58);case 62:return e.finish(55);case 63:f=[],C={},b=regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=c[g],!t.idItem||f.filter(function(e){return e.id===t.idItem}).length){e.next=6;break}return e.next=4,Zn.item.leNew({id:t.idItem});case 4:a=e.sent,f.push(a);case 6:case"end":return e.stop()}},e)}),g=0;case 67:if(!(g<c.length)){e.next=72;break}return e.delegateYield(b(),"t11",69);case 69:g++,e.next=67;break;case 72:if(this.grupos.length){e.next=89;break}for(this.documentos=a.reduce(function(e,t){return e[t.id]||(e[t.id]=t),e},{}),a=Object(ot["orderBy"])(a,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"]),x=a.filter(function(e){return"Orçamento"===e.status}),_=a.filter(function(e){return!["Não Aprovado","Cancelado","Orçamento"].includes(e.status)}),q=a.filter(function(e){return["Não Aprovado","Cancelado"].includes(e.status)}),this.pagination.vendasAbertas.max=(x.length/5|0)+(x.length%5>0?1:0),this.pagination.vendasFinalizadas.max=(_.length/5|0)+(_.length%5>0?1:0),this.pagination.vendasCanceladas.max=(q.length/5|0)+(q.length%5>0?1:0),this.vendasAbertas=x,this.vendasFinalizadas=_,this.vendasCanceladas=q,S=function(){var e=c[I];if(!C[e.idItem]){var t=f.filter(function(t){return t.id===e.idItem});t.length&&(C[e.idItem]=t[0])}},I=0;I<c.length;I++)S();return this.itens=C,this.documentosItens=Object(ot["orderBy"])(c,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"]),e.abrupt("return");case 89:for(F=Yt(this.grupos).map(function(e){return oo(e)}),w=a.filter(function(e){if(!e.numero)return!1;var t=String(e.numero),a=!0,o=!1,i=void 0;try{for(var r,s=F[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var n=r.value,c=new RegExp(n,"gi");if(t.match(c))return!0}}catch(e){o=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}}),y=[],N=c.filter(function(e){if(!e.idItem&&!e.descricaoItem)return!1;var t=oo(e.descricaoItem),a=!0,o=!1,i=void 0;try{for(var r,s=F[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var n=r.value,c=new RegExp(n,"gi");if(t.match(c))return y.push(e.id),!0}}catch(e){o=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}}),C=f.filter(function(e){var t=e.marca||"",a=e.referencia||"",o=e.codigoItem?String(e.codigoItem):"",i=e.codigoBarras||"",r=oo(t+a+o+i),s=!0,n=!1,c=void 0;try{for(var l,d=F[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var u=l.value,m=new RegExp(u,"gi");if(r.match(m))return!0}}catch(e){n=!0,c=e}finally{try{s||null==d.return||d.return()}finally{if(n)throw c}}}),k=!0,M=!1,P=void 0,e.prev=97,D=function(){var e=T.value,t=c.filter(function(t){if(t.idItem&&t.idDocumento===e.id&&!y.includes(t.id))return y.push(t.id),!0});N=la()(N).concat(la()(t))},E=w[Symbol.iterator]();!(k=(T=E.next()).done);k=!0)D();e.next=106;break;case 102:e.prev=102,e.t12=e["catch"](97),M=!0,P=e.t12;case 106:e.prev=106,e.prev=107,k||null==E.return||E.return();case 109:if(e.prev=109,!M){e.next=112;break}throw P;case 112:return e.finish(109);case 113:return e.finish(106);case 114:for(A=!0,O=!1,$=void 0,e.prev=117,R=function(){var e=z.value,t=c.filter(function(t){if(t.idItem===e.id&&!y.includes(t.id))return y.push(t.id),!0});N=la()(N).concat(la()(t))},j=C[Symbol.iterator]();!(A=(z=j.next()).done);A=!0)R();e.next=126;break;case 122:e.prev=122,e.t13=e["catch"](117),O=!0,$=e.t13;case 126:e.prev=126,e.prev=127,A||null==j.return||j.return();case 129:if(e.prev=129,!O){e.next=132;break}throw $;case 132:return e.finish(129);case 133:return e.finish(126);case 134:for(N=N.filter(function(e){var t=Yt(F),o=a.filter(function(t){return t.id===e.idDocumento}),i=f.filter(function(t){return t.id===e.idItem});o=o.length?o[0]:{},i=i.length?i[0]:{};var r=o.numero?String(o.numero):"";if(r+=e.descricaoItem||"",r+=i.marca||"",r+=i.referencia||"",r+=i.codigoItem?String(i.codigoItem):"",r+=i.codigoBarras||"",r){var s=!0,n=!1,c=void 0;try{for(var l,d=function(){var e=l.value,a=new RegExp(e,"gi");r.match(a)&&(t=t.filter(function(t){return t!==e}))},u=F[Symbol.iterator]();!(s=(l=u.next()).done);s=!0)d()}catch(e){n=!0,c=e}finally{try{s||null==u.return||u.return()}finally{if(n)throw c}}}if(!t.length)return!0}),B=[],w=[],C={},L=!0,V=!1,U=void 0,e.prev=141,H=function(){var e=G.value;if(B.includes(e.idDocumento)||(B.push(e.idDocumento),w=la()(w).concat(la()(a.filter(function(t){return t.id===e.idDocumento})))),!C[e.idItem]){var t=f.filter(function(t){return t.id===e.idItem});t.length&&(C[e.idItem]=t[0])}},Q=N[Symbol.iterator]();!(L=(G=Q.next()).done);L=!0)H();e.next=150;break;case 146:e.prev=146,e.t14=e["catch"](141),V=!0,U=e.t14;case 150:e.prev=150,e.prev=151,L||null==Q.return||Q.return();case 153:if(e.prev=153,!V){e.next=156;break}throw U;case 156:return e.finish(153);case 157:return e.finish(150);case 158:this.documentos=w.reduce(function(e,t){return e[t.id]||(e[t.id]=t),e},{}),a=Object(ot["orderBy"])(w,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"]),J=a.filter(function(e){return"Orçamento"===e.status}),X=a.filter(function(e){return!["Não Aprovado","Cancelado","Orçamento"].includes(e.status)}),Y=a.filter(function(e){return["Não Aprovado","Cancelado"].includes(e.status)}),this.pagination.vendasAbertas.max=(J.length/5|0)+(J.length%5>0?1:0),this.pagination.vendasFinalizadas.max=(X.length/5|0)+(X.length%5>0?1:0),this.pagination.vendasCanceladas.max=(Y.length/5|0)+(Y.length%5>0?1:0),this.vendasAbertas=J,this.vendasFinalizadas=X,this.vendasCanceladas=Y,this.itens=C,this.documentosItens=Object(ot["orderBy"])(N,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"]);case 171:case"end":return e.stop()}},e,this,[[38,51,55,63],[56,,58,62],[97,102,106,114],[107,,109,113],[117,122,126,134],[127,,129,133],[141,146,150,158],[151,,153,157]])}));return function(){return e.apply(this,arguments)}}(),limparFiltro:function(){this.grupos=[],this.dataFim=new Date,this.dataIni=new Date(ra()().add(-7,"days"))}},props:{periodo:Object},watch:{"$route.params.id":function(e){this.limparFiltro(),this.atualizar()}},mounted:function(){if(this.$route.params.id){if(this.limparFiltro(),this.periodo&&this.periodo.ini&&this.periodo.fim){var e=new Date((new Date).setHours(0,0,0,0)).toISOString().replace(/\d{4}-\d{2}-\d{2}/g,"");this.dataIni=this.periodo.ini.replace(/T.+$/g,e),this.dataFim=this.periodo.fim.replace(/T.+$/g,e)}this.atualizar()}}},EM=DM,TM=(a("3186"),Object(sc["a"])(EM,MM,PM,!1,null,"1ef516d0",null));TM.options.__file="CockpitVendas.vue";var AM=TM.exports,OM=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"AtendimentoFatura q-pb-md"},[a("q-card",{staticClass:"shadow-3 row no-shadow"},[a("div",{staticClass:"col-12"},[a("q-toolbar",{staticClass:"no-shadow q-pa-none",attrs:{"text-color":"black",color:"transparent"}},[a("q-toolbar-title",{staticClass:"q-pa-none"},[a("div",{staticClass:"filters row content-stretch justify-between q-pt-sm q-pr-sm q-ma-md gutter-x-sm bg-white",staticStyle:{"border-radius":"5px","min-height":"50px"}},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"row q-mb-sm"},[a("q-btn",{staticClass:"no-shadow",attrs:{icon:"mdi-filter",round:"",dense:"",flat:"",color:"faded"}}),a("q-chips-input",{staticClass:"col q-mx-md",attrs:{color:"faded",placeholder:e.grupos.length?"":"Cliente, código, número..."},on:{input:e.atualizar},model:{value:e.grupos,callback:function(t){e.grupos=t},expression:"grupos"}})],1)]),a("div",{staticClass:"col-auto"},[a("div",{staticClass:"row q-mb-sm"},[a("campo",{staticClass:"col q-mx-md",attrs:{tipo:"data"},on:{input:e.atualizar},model:{value:e.dataIni,callback:function(t){e.dataIni=t},expression:"dataIni"}})],1)]),a("div",{staticClass:"col-auto"},[a("div",{staticClass:"row q-mb-sm"},[a("label",{staticClass:"q-mx-md col-auto"},[e._v("até")])])]),a("div",{staticClass:"col-auto"},[a("div",{staticClass:"row q-mb-sm"},[a("campo",{staticClass:"col q-mx-md",attrs:{tipo:"data"},on:{input:e.atualizar},model:{value:e.dataFim,callback:function(t){e.dataFim=t},expression:"dataFim"}})],1)])])])],1)],1)]),!e.carregando&&e.temRegistros?a("q-list",{staticClass:"no-border row"},[e.temFaturasAbertas?a("q-collapsible",{staticClass:"col-12 q-mb-xl",attrs:{opened:"",label:"Abertas (Total R$ "+e.$filters.numero(e.faturasAbertas.reduce(function(e,t){return e+t.totalDocumento},0),2)+")",group:"faturasAbertas"}},[e.pagination.faturasAbertas.max>1?a("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"50px"}},[a("q-pagination",{staticClass:"float-right",attrs:{min:e.pagination.faturasAbertas.min,max:e.pagination.faturasAbertas.max,ellipses:"","max-pages":e.pagination.maxPages},model:{value:e.pagination.faturasAbertas.page,callback:function(t){e.$set(e.pagination.faturasAbertas,"page",t)},expression:"pagination.faturasAbertas.page"}})],1):e._e(),e._l(e.faturasAbertas.slice((e.pagination.faturasAbertas.page-1)*e.pagination.perPage,e.pagination.faturasAbertas.page*e.pagination.perPage),function(t){return a("div",{key:t.id},[a("fatura-card",{staticClass:"q-mb-md",attrs:{id:t.id},on:{executar:e.executar}})],1)}),e.pagination.faturasAbertas.max>1?a("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"50px"}},[a("q-pagination",{staticClass:"float-right",attrs:{min:e.pagination.faturasAbertas.min,max:e.pagination.faturasAbertas.max,ellipses:"","max-pages":e.pagination.maxPages},model:{value:e.pagination.faturasAbertas.page,callback:function(t){e.$set(e.pagination.faturasAbertas,"page",t)},expression:"pagination.faturasAbertas.page"}})],1):e._e()],2):e._e(),e.temFaturasFinalizadas?a("q-collapsible",{staticClass:"col-12 q-mb-xl",attrs:{opened:"",label:"Finalizadas (Total R$ "+e.$filters.numero(e.faturasFinalizadas.reduce(function(e,t){return e+t.totalDocumento},0),2)+")",group:"faturasFinalizadas"}},[e.pagination.faturasFinalizadas.max>1?a("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"50px"}},[a("q-pagination",{staticClass:"float-right",attrs:{min:e.pagination.faturasFinalizadas.min,max:e.pagination.faturasFinalizadas.max,ellipses:"","max-pages":e.pagination.maxPages},model:{value:e.pagination.faturasFinalizadas.page,callback:function(t){e.$set(e.pagination.faturasFinalizadas,"page",t)},expression:"pagination.faturasFinalizadas.page"}})],1):e._e(),e._l(e.faturasFinalizadas.slice((e.pagination.faturasFinalizadas.page-1)*e.pagination.perPage,e.pagination.faturasFinalizadas.page*e.pagination.perPage),function(t){return a("div",{key:t.id},[a("fatura-card",{staticClass:"q-mb-md",attrs:{id:t.id},on:{executar:e.executar}})],1)}),e.pagination.faturasFinalizadas.max>1?a("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"50px"}},[a("q-pagination",{staticClass:"float-right",attrs:{min:e.pagination.faturasFinalizadas.min,max:e.pagination.faturasFinalizadas.max,ellipses:"","max-pages":e.pagination.maxPages},model:{value:e.pagination.faturasFinalizadas.page,callback:function(t){e.$set(e.pagination.faturasFinalizadas,"page",t)},expression:"pagination.faturasFinalizadas.page"}})],1):e._e()],2):e._e(),e.temFaturasCanceladas?a("q-collapsible",{staticClass:"col-12 q-mb-xl",attrs:{opened:"",label:"Canceladas (Total R$ "+e.$filters.numero(e.faturasCanceladas.reduce(function(e,t){return e+t.totalDocumento},0),2)+")",group:"faturasCanceladas"}},[e.pagination.faturasCanceladas.max>1?a("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"50px"}},[a("q-pagination",{staticClass:"float-right",attrs:{min:e.pagination.faturasCanceladas.min,max:e.pagination.faturasCanceladas.max,ellipses:"","max-pages":e.pagination.maxPages},model:{value:e.pagination.faturasCanceladas.page,callback:function(t){e.$set(e.pagination.faturasCanceladas,"page",t)},expression:"pagination.faturasCanceladas.page"}})],1):e._e(),e._l(e.faturasCanceladas.slice((e.pagination.faturasCanceladas.page-1)*e.pagination.perPage,e.pagination.faturasCanceladas.page*e.pagination.perPage),function(t){return a("div",{key:t.id},[a("fatura-card",{staticClass:"q-mb-md",attrs:{id:t.id},on:{executar:e.executar}})],1)}),e.pagination.faturasCanceladas.max>1?a("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"50px"}},[a("q-pagination",{staticClass:"float-right",attrs:{min:e.pagination.faturasCanceladas.min,max:e.pagination.faturasCanceladas.max,ellipses:"","max-pages":e.pagination.maxPages},model:{value:e.pagination.faturasCanceladas.page,callback:function(t){e.$set(e.pagination.faturasCanceladas,"page",t)},expression:"pagination.faturasCanceladas.page"}})],1):e._e()],2):e._e()],1):e._e(),e.carregando||e.temRegistros?e._e():a("div",{staticClass:"q-pa-lg text-center"},[e._m(0)]),e.carregando?a("div",{staticClass:"q-mt-lg text-center"},[a("q-spinner",{attrs:{color:"faded",size:50}})],1):e._e(),a("NFePrincipal",{on:{fechar:e.fechouNFe}})],1)},$M=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("small",[e._v("Registros não encontrados")])])}];OM._withStripped=!0;var RM={components:{Campo:Sl,FaturaCard:mb,NFePrincipal:fq},computed:{temFaturasAbertas:function(){return!!this.faturasAbertas.length},temFaturasFinalizadas:function(){return!!this.faturasFinalizadas.length},temFaturasCanceladas:function(){return!!this.faturasCanceladas.length},temRegistros:function(){return this.temFaturasAbertas||this.temFaturasFinalizadas||this.temFaturasCanceladas}},data:function(){return{grupos:[],faturasAbertas:[],faturasFinalizadas:[],faturasCanceladas:[],filtro:{},tipoData:"",tiposData:[{label:"Emissão",value:"emissao"},{label:"Finalizado",value:"finalizado"}],dataIni:null,dataFim:null,carregando:!1,faturasPorSecao:"10",faturasPorSecaoOpts:[{value:"5",label:"5"},{value:"10",label:"10"},{value:"15",label:"15"},{value:"20",label:"20"},{value:"25",label:"25"},{value:"50",label:"50"}],pagination:{maxPages:7,perPage:5,faturasAbertas:{page:1,min:1,max:1},faturasFinalizadas:{page:1,min:1,max:1},faturasCanceladas:{page:1,min:1,max:1}}}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.faturas=[],this.carregando=!0,e.next=4,xa(500);case 4:return e.next=6,this.filtrar();case 6:this.carregando=!1;case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),executar:function(e){this.atualizar()},fechouNFe:function(e){e&&qa.$emit("atualizarDocumentosFiscais")},filtrar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=[],a=[],o=[],e.next=3,He().empresa.toArray();case 3:if(a=e.sent,!a.length){e.next=9;break}return e.next=7,He().contato.where("id").anyOf(a.map(function(e){return e.idContato})).toArray();case 7:o=e.sent,o=o.filter(function(e){return e.ativo&&!e.excluido});case 9:i=new Date(this.dataIni).toISOString().replace(/T.*/,"T00:00:00.000Z"),r=new Date(this.dataFim).toISOString().replace(/T.*/,"T23:59:59.999Z"),s=!0,n=!1,c=void 0,e.prev=14,l=o[Symbol.iterator]();case 16:if(s=(d=l.next()).done){e.next=25;break}return u=d.value,e.next=20,He().documento.where(["tipo","idEmpresa","dataHoraFinalizado"]).between(["Fatura",u.id,i],["Fatura",u.id,r],!0,!0).each(function(e){t.push(e)});case 20:return e.next=22,He().documento.where(["tipo","idEmpresa","dataHoraEmissao"]).between(["Fatura",u.id,i],["Fatura",u.id,r],!0,!0).each(function(e){t.find(function(t){return t.id===e.id})||t.push(e)});case 22:s=!0,e.next=16;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e["catch"](14),n=!0,c=e.t0;case 31:e.prev=31,e.prev=32,s||null==l.return||l.return();case 34:if(e.prev=34,!n){e.next=37;break}throw c;case 37:return e.finish(34);case 38:return e.finish(31);case 39:return e.next=41,Zn.permissao.objeto("Diretiva_Venda/Fatura_OutrasLojas_VerTodos");case 41:if(m=e.sent,m){e.next=47;break}return e.next=45,Zn.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);case 45:o=e.sent,t=t.filter(function(e){return o.find(function(t){return t.id===e.idEmpresa})});case 47:for(p=!0,v=!1,h=void 0,e.prev=50,f=function(){var e=b.value,a=e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");t=t.filter(function(e){var t=e.descricaoContato.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");if(-1!==t.search(a))return!0;var o=Number(e.codigoDocumento);if(Number.isInteger(o)&&-1!==String(o).search(a))return!0;var i=Number(e.numero);return!(!Number.isInteger(i)||-1===String(i).search(a))||void 0})},C=this.grupos[Symbol.iterator]();!(p=(b=C.next()).done);p=!0)f();e.next=59;break;case 55:e.prev=55,e.t1=e["catch"](50),v=!0,h=e.t1;case 59:e.prev=59,e.prev=60,p||null==C.return||C.return();case 62:if(e.prev=62,!v){e.next=65;break}throw h;case 65:return e.finish(62);case 66:return e.finish(59);case 67:t=Object(ot["orderBy"])(t,"dataHoraEmissao","desc"),g=t.filter(function(e){return"Aberta"===e.status}),x=t.filter(function(e){return!["Aberta","Cancelada"].includes(e.status)}),_=t.filter(function(e){return"Cancelada"===e.status}),this.pagination.faturasAbertas.max=(g.length/5|0)+(g.length%5>0?1:0),this.pagination.faturasFinalizadas.max=(x.length/5|0)+(x.length%5>0?1:0),this.pagination.faturasCanceladas.max=(_.length/5|0)+(_.length%5>0?1:0),this.faturasAbertas=g,this.faturasFinalizadas=x,this.faturasCanceladas=_;case 77:case"end":return e.stop()}},e,this,[[14,27,31,39],[32,,34,38],[50,55,59,67],[60,,62,66]])}));return function(){return e.apply(this,arguments)}}(),limparFiltro:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.grupos=[],this.dataFim=new Date,this.dataIni=new Date(ra()().add(-7,"days"));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},watch:{"$route.params.id":function(e){this.limparFiltro(),this.atualizar()}},mounted:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$route.params.id&&(this.limparFiltro(),this.periodo&&this.periodo.ini&&this.periodo.fim&&(t=new Date((new Date).setHours(0,0,0,0)).toISOString().replace(/\d{4}-\d{2}-\d{2}/g,""),this.dataIni=this.periodo.ini.replace(/T.+$/g,t),this.dataFim=this.periodo.fim.replace(/T.+$/g,t)),this.atualizar());case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},jM=RM,zM=(a("1928"),Object(sc["a"])(jM,OM,$M,!1,null,"5db152fa",null));zM.options.__file="CockpitFaturas.vue";var BM=zM.exports,LM=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"AdmEnvelope"},[a("barra-topo"),a("q-page-container",[a("q-page",[a("q-toolbar",{staticClass:"q-py-sm q-my-sm",attrs:{color:"none"}},[a("q-toolbar-title",[e._v("Adm. Envelope")]),"optisoul"===e.sistemaPai?a("q-btn",{attrs:{icon:"help_outline",flat:"",dense:"",round:"",size:"lg"}},[a("q-popover",[a("q-list",{attrs:{link:"","no-border":"",separator:""}},[a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"mdi-youtube"}}),a("q-item-main",{attrs:{label:"Videoaula Adm. de Envelope"},nativeOn:{click:function(t){e.showHelp("admEnvelope")}}})],1)],1)],1)],1):e._e(),a("q-btn",{staticClass:"no-shadow",attrs:{icon:"mdi-filter",size:"lg",flat:"",round:"",dense:""},on:{click:function(t){e.showfilters=!e.showfilters}}})],1),a("q-layout-drawer",{attrs:{overlay:"",side:"right"},model:{value:e.showfilters,callback:function(t){e.showfilters=t},expression:"showfilters"}},[a("q-toolbar",{attrs:{color:"white","text-color":"faded"}},[a("q-icon",{attrs:{name:"mdi-filter",color:"faded"}}),a("q-toolbar-title",[e._v(" Filtrar")]),a("q-btn",{attrs:{dense:"",flat:"",icon:"close",round:""},on:{click:function(t){e.showfilters=!e.showfilters}}})],1),a("div",{staticClass:"col-12 q-px-md q-mt-md"},[a("q-input",{staticClass:"no-shadow",attrs:{color:"white",placeholder:"Por cliente ou responsável"},on:{input:e.filtraDebounce},model:{value:e.fraseFiltro,callback:function(t){e.fraseFiltro=t},expression:"fraseFiltro"}})],1),a("div",{staticClass:"col-12 q-px-sm q-my-md"},[a("q-select",{staticClass:"q-mx-sm",attrs:{options:e.prazoOpcoes,clearable:"",placeholder:"Por prazo"},model:{value:e.prazoSelecionado,callback:function(t){e.prazoSelecionado=t},expression:"prazoSelecionado"}})],1),a("div",{staticClass:"col-12 q-px-sm"},[a("q-select",{staticClass:"q-mx-sm",attrs:{options:e.empresaOpcoes,clearable:"",placeholder:"Por empresa"},on:{input:e.refazFiltro},nativeOn:{click:function(t){return e.empresaOpcoesCarregar(t)}},model:{value:e.empresaSelecionada,callback:function(t){e.empresaSelecionada=t},expression:"empresaSelecionada"}})],1)],1),a("div",{staticClass:"row overflowXEnvelope filterfalse"},e._l(e.listasFiltradas,function(t,o){return a("div",{key:o,staticClass:"no-shadow q-py-sm col q-px-none coluna"},[a("div",{staticClass:"q-pa-none"},[a("q-toolbar",{staticClass:"no-shadow q-py-none q-px-sm",attrs:{color:"secondary","text-color":"white"}},[a("q-toolbar-title",{staticClass:"q-py-none"},[e._v("\n                "+e._s(o)+"\n              ")])],1),"Entregue"===o?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 q-px-none"},[a("campo",{staticClass:"q-mx-sm",attrs:{rotulo:"Início",tipo:"data"},model:{value:e.entregueInicio,callback:function(t){e.entregueInicio=t},expression:"entregueInicio"}}),a("campo",{staticClass:"q-mx-sm",attrs:{rotulo:"Fim",tipo:"data"},model:{value:e.entregueFim,callback:function(t){e.entregueFim=t},expression:"entregueFim"}})],1)]):e._e(),a("draggable",{staticClass:"dragAreaEnvelope",attrs:{delay:"400",list:t,group:"envelopeGroup",draggable:".extratoEnvelope"},on:{end:e.eventoEnd},nativeOn:{scroll:function(t){e.scrollHandler(t,o)}}},e._l(t,function(t){return null===e.prazoSelecionado||e.prazoSelecionado===t.corBorda?a("q-card",{key:t.codigoDocumento,staticClass:"q-pa-sm q-pb-md q-my-sm q-mb-md shadow-1 extratoEnvelope bg-white",class:t.corBorda},[a("div",{staticClass:"row q-mt-xs"},[a("div",{staticClass:"col-6"},[t.corLabel?a("badge",{staticClass:"q-mx-xs",attrs:{cor:t.corLabel,escuro:"",rotulo:t.txtLabel}}):a("badge",{staticClass:"q-mx-xs",attrs:{rotulo:t.txtLabel}})],1),a("div",{staticClass:"col-6 justify-end q-pr-xs",staticStyle:{display:"flex"}},[a("badge",{attrs:{cor:"white",icone:"shopping_cart"}},[e._v("\n                      "+e._s(t.numeroVenda)+"\n                    ")]),"-"!==t.codigoCompra?a("badge",{attrs:{cor:"light",icone:"mdi-factory"}},[e._v("\n                      "+e._s(t.codigoCompra)+"\n                    ")]):e._e(),a("badge",{staticClass:"q-mx-sm",attrs:{cor:"faded",escuro:"",icone:"mdi-email"}},[e._v("\n                      "+e._s(t.numeroEnvelope)+"\n                    ")])],1)]),a("q-card-title",{staticClass:"q-pa-xs"},[a("div",{staticClass:"q-subheading"},[e._v(e._s(t.nomeCliente))]),t.nomeLaboratorio?a("div",{staticStyle:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},[a("q-icon",{attrs:{name:"mdi-sunglasses",color:"grey-7",size:"14px"}})],1):e._e(),t.nomeLaboratorio?a("div",{staticClass:"q-caption",staticStyle:{display:"inline-block","margin-right":"6px"}},[e._v("\n                    Laboratório: "+e._s(t.nomeLaboratorio)+"\n                    "),a("q-tooltip",[e._v("\n                      Laboratório\n                    ")])],1):e._e()]),a("q-card-main",{staticClass:"row q-pa-xs q-pb-none q-mt-md"},[a("div",{staticClass:"col-11"},[t.descricaoEmpresa?a("div",{staticStyle:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},[a("q-icon",{attrs:{name:"business",color:"grey-7",size:"14px"}}),a("q-tooltip",[e._v("\n                        "+e._s(t.descricaoEmpresa)+"\n                      ")])],1):e._e(),a("div",{staticStyle:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},[a("q-icon",{attrs:{name:"person",color:"grey-7",size:"14px"}})],1),a("div",{staticClass:"q-caption",staticStyle:{display:"inline-block","margin-right":"6px"}},[e._v("\n                      "+e._s(t.nomeResponsavel)+"\n                      "),a("q-tooltip",[e._v("\n                        Responsável\n                      ")])],1),a("div",{staticStyle:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},[a("q-icon",{attrs:{name:"calendar_today",color:"grey-7",size:"14px"}})],1),a("div",{staticClass:"q-caption",staticStyle:{display:"inline-block"}},[e._v("\n                      "+e._s(e._f("data")(t.dataHoraFinalizado>new Date("1970-01-01T00:00:00.000Z")?t.dataHoraFinalizado:t.dataHoraPrevisto))+"\n                      "),a("q-tooltip",[e._v("\n                        "+e._s(t.dataHoraFinalizado>new Date("1970-01-01T00:00:00.000Z")?"Finalizado em":"Previsto para")+"\n                      ")])],1)]),a("div",{staticClass:"col-1 self-end"},[a("q-icon",{staticStyle:{color:"grey",float:"right","text-align":"right","font-size":"1.2rem",cursor:"pointer"},attrs:{name:"more_vert",onMouseOver:"this.style.color='black'",onMouseOut:"this.style.color='grey'"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{link:"",separator:""}},[e.laboratoriosEssilor.includes(t.codigoLaboratorio)?[a("q-item",{nativeOn:{click:function(a){e.abrirEssilorPedidoLaboratorio(t)}}},[a("q-item-side",{attrs:{icon:"trending_up"}}),a("q-item-main",{attrs:{label:"Pedido ao laboratório Essilor"}})],1),t.numeroOrdemCompra?a("q-item",{nativeOn:{click:function(a){e.abrirEssilorConsultarPedido(t)}}},[a("q-item-side",{attrs:{icon:"trending_up"}}),a("q-item-main",{attrs:{label:"Consultar pedido Essilor"}})],1):e._e()]:e._e(),a("q-item",{nativeOn:{click:function(a){e.exibirHistorico(t.codigoDocumento)}}},[a("q-item-side",{attrs:{icon:"history"}}),a("q-item-main",{attrs:{label:"Histórico do Status"}})],1),a("q-item",{nativeOn:{click:function(a){e.irParaAtendimento(t.codigoContato)}}},[a("q-item-side",{attrs:{icon:"launch"}}),a("q-item-main",{attrs:{label:"Ir para o Atendimento"}})],1)],2)],1)],1)],1)])],1):e._e()}))],1)])})),a("envelope-trocar-status",{attrs:{dados:e.trocarStatusDados},on:{confirmar:e.eventoConfirmarTroca,cancelar:e.eventoCancelarTroca},model:{value:e.trocarStatusModal,callback:function(t){e.trocarStatusModal=t},expression:"trocarStatusModal"}}),a("EssilorPedidoLaboratorio",{attrs:{dados:e.pedidoLaboratorioEssilor},model:{value:e.modalEssilorPedidoLaboratorio,callback:function(t){e.modalEssilorPedidoLaboratorio=t},expression:"modalEssilorPedidoLaboratorio"}}),a("EssilorConsultarPedidos",{model:{value:e.modalEssilorConsultarPedidos,callback:function(t){e.modalEssilorConsultarPedidos=t},expression:"modalEssilorConsultarPedidos"}}),a("EssilorConsultarPedido",{attrs:{envelope:e.essilorPedido},model:{value:e.modalEssilorConsultarPedido,callback:function(t){e.modalEssilorConsultarPedido=t},expression:"modalEssilorConsultarPedido"}}),a("EssilorConsultarStatusPedido",{attrs:{envelope:e.essilorPedido},model:{value:e.modalEssilorConsultarStatusPedido,callback:function(t){e.modalEssilorConsultarStatusPedido=t},expression:"modalEssilorConsultarStatusPedido"}}),e.modalHistoricoStatus.activated?a("modal-historico-status",{attrs:{dados:e.modalHistoricoStatus}}):e._e()],1)],1),a("q-modal",{attrs:{"content-css":{minWidth:"100vw",minHeight:"100vh"}},model:{value:e.help.show,callback:function(t){e.$set(e.help,"show",t)},expression:"help.show"}},[a("q-modal-layout",{staticStyle:{height:"100vh",width:"100vw"}},[a("iframe",{staticStyle:{height:"100%",width:"100%"},attrs:{src:e.help.src,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v(e._s(e.help.title))]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1)],1)],1)],1)},VM=[];LM._withStripped=!0;var UM=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{value:e.value},on:{input:e.eventoInput}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("Trocar status do envelope")])],1),a("form",{on:{submit:function(t){return t.preventDefault(),e.eventoConfirmar(t)}}},[a("div",{staticClass:"layout-padding"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{somenteLeitura:"",rotulo:"Cliente"},model:{value:e.dados.nomeCliente,callback:function(t){e.$set(e.dados,"nomeCliente",t)},expression:"dados.nomeCliente"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{somenteLeitura:"",rotulo:"De"},model:{value:e.dados.statusAtual,callback:function(t){e.$set(e.dados,"statusAtual",t)},expression:"dados.statusAtual"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{somenteLeitura:"",rotulo:"Para"},model:{value:e.dados.statusNovo,callback:function(t){e.$set(e.dados,"statusNovo",t)},expression:"dados.statusNovo"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{maxlength:"50",rotulo:"Observação"},model:{value:e.dados.observacao,callback:function(t){e.$set(e.dados,"observacao","string"===typeof t?t.trim():t)},expression:"dados.observacao"}})],1),e.dados.mostraGerarPedido?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"Gerar pedido de compra",tipo:"logico"},model:{value:e.dados.gerarPedido,callback:function(t){e.$set(e.dados,"gerarPedido",t)},expression:"dados.gerarPedido"}})],1):e._e(),e.dados.mostraLaboratorio?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{value:e.dados.nomeLaboratorio,somenteLeitura:"",before:[{icon:"search",handler:function(){return e.modalLaboratorio=!0}}],rotulo:"Laboratório",erro:e.laboratorioErro,erroRotulo:"Seleção de laboratório obrigatória"},on:{click:function(t){e.modalLaboratorio=!0}}})],1):e._e(),e.dados.mostraGerarPedidoEssilor?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"Gerar pedido ao laboratório Essilor",tipo:"logico"},model:{value:e.dados.gerarPedidoEssilor,callback:function(t){e.$set(e.dados,"gerarPedidoEssilor",t)},expression:"dados.gerarPedidoEssilor"}})],1):e._e()]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:e.eventoCancelar}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Trocar"}})],1)])],1)],1)],1),a("prompt-contato-novo",{attrs:{online:"",filtro:{ativo:!0,segmento:"Laboratório"}},on:{selecionar:e.selecionarLaboratorio},model:{value:e.modalLaboratorio,callback:function(t){e.modalLaboratorio=t},expression:"modalLaboratorio"}})],1)},HM=[];UM._withStripped=!0;var QM={components:{Campo:Sl,PromptContatoNovo:Yd},data:function(){return{confirmado:!1,descricaoLaboratorio:"",laboratorioErro:!1,modalLaboratorio:!1}},methods:{eventoConfirmar:function(){ei.log("EnvelopeTrocarStatus","eventoConfirmar",this.dados),!this.dados.mostraLaboratorio||this.dados.codigoLaboratorio?(this.confirmado=!0,this.eventoInput(!1),this.$emit("confirmar",this.dados)):this.laboratorioErro=!0},eventoCancelar:function(){ei.log("EnvelopeTrocarStatus","eventoCancelar",this.dados),this.confirmado=!1,this.eventoInput(!1)},eventoInput:function(e){this.$emit("input",e)},selecionarLaboratorio:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:ei.log("EnvelopeTrocarStatus","selecionarLaboratorio",t,a),this.dados.codigoLaboratorio=a.codigoContato,this.dados.nomeLaboratorio=a.nome,this.dados.mostraGerarPedidoEssilor=this.dados.laboratoriosEssilor.includes(this.dados.codigoLaboratorio),this.laboratorioErro=!1;case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},props:{value:{required:!0,type:Boolean},dados:{required:!0,type:Object}},watch:{value:function(e){e?(this.confirmado=!1,this.laboratorioErro=!1):this.confirmado||this.$emit("cancelar",this.dados)}}},GM=QM,JM=Object(sc["a"])(GM,UM,HM,!1,null,null,null);JM.options.__file="EnvelopeTrocarStatus.vue";var XM=JM.exports,YM=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-modal",{attrs:{maximized:""},model:{value:e.modalVisivel,callback:function(t){e.modalVisivel=t},expression:"modalVisivel"}},[a("q-modal-layout",{staticClass:"bg-grey-4"},[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("Consulta Pedido Essilor")])],1),a("form",{on:{submit:function(t){return t.preventDefault(),e.eventoConfirmar(t)}}},[a("div",{staticClass:"layout-padding q-pa-none q-pb-xl"},[a("div",{staticClass:"u-container"},[e.$db.usuario.logado.administrador&&[1,2].includes(e.$db.usuario.logado.grupoInterno)?[a("q-card",{staticClass:"row bg-white q-px-lg q-py-sm q-mt-md no-shadow"},[a("campo",{staticClass:"col-12 col-md-6 q-pa-sm",attrs:{opcoes:e.opcoesAmbiente,"rotulo-fixo":"Ambiente",tipo:"seletor"},model:{value:e.ambiente,callback:function(t){e.ambiente=t},expression:"ambiente"}}),a("q-toggle",{staticClass:"col-12 col-md-4 q-pa-md",attrs:{label:"Mostrar Json"},model:{value:e.mostrarJson,callback:function(t){e.mostrarJson=t},expression:"mostrarJson"}})],1)]:e._e(),a("q-card",{staticClass:"row bg-white q-px-lg q-py-sm q-mt-md no-shadow"},[a("p",{staticClass:"col-12 q-title"},[e._v("Filtros")]),a("campo",{staticClass:"col-12 col-md-6 q-pa-sm",attrs:{rotulo:"Identificação do pedido no laboratório"},model:{value:e.json.id,callback:function(t){e.$set(e.json,"id",t)},expression:"json.id"}})],1)],2)]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",{staticClass:"text-right"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:e.eventoCancelar}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Enviar"}})],1)],1)],1)],1)],1),a("EssilorModalConfirmacao",{attrs:{modal:e.modalConfirma}}),a("EssilorModalResultado",{attrs:{modal:e.modalResultado}})],1)},WM=[];YM._withStripped=!0;var ZM=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{"content-css":{minWidth:"80vw"}},model:{value:e.modal.visivel,callback:function(t){e.$set(e.modal,"visivel",t)},expression:"modal.visivel"}},[a("q-modal-layout",[a("form",{on:{submit:function(t){return t.preventDefault(),e.modal.eventoConfirmar(t)}}},[a("q-toolbar",{attrs:{slot:"header",color:e.modal.cor},slot:"header"},[a("q-toolbar-title",[e._v(e._s(e.modal.titulo))]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),a("div",{staticClass:"layout-padding"},[a("Campo",{staticClass:"bg-light",attrs:{tipo:"textoArea",rows:"10"},model:{value:e.modal.json,callback:function(t){e.$set(e.modal,"json",t)},expression:"modal.json"}})],1),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",{staticClass:"text-right"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",color:"primary",label:"Cancelar"}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Confirmar"}})],1)],1)],1)])],1)},KM=[];ZM._withStripped=!0;var eP={components:{Campo:Sl},data:function(){return{}},methods:{},props:{modal:{required:!0,type:Object}}},tP=eP,aP=Object(sc["a"])(tP,ZM,KM,!1,null,null,null);aP.options.__file="EssilorModalConfirmacao.vue";var oP=aP.exports,iP=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{"content-css":{minWidth:"80vw"}},model:{value:e.modal.visivel,callback:function(t){e.$set(e.modal,"visivel",t)},expression:"modal.visivel"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header",color:e.modal.cor},slot:"header"},[a("q-toolbar-title",[e._v(e._s(e.modal.titulo))]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),a("div",{staticClass:"layout-padding"},[a("Campo",{staticClass:"bg-light",attrs:{tipo:"textoArea",rows:"10","somente-leitura":""},model:{value:e.modal.resultado,callback:function(t){e.$set(e.modal,"resultado",t)},expression:"modal.resultado"}})],1)],1)],1)},rP=[];iP._withStripped=!0;var sP={components:{Campo:Sl},data:function(){return{}},methods:{},props:{modal:{required:!0,type:Object}}},nP=sP,cP=Object(sc["a"])(nP,iP,rP,!1,null,null,null);cP.options.__file="EssilorModalResultado.vue";var lP=cP.exports,dP={baseURL:"https://api.essilor.com.br",client_id:"a40ea66e-c567-39aa-9a63-a29d2df6f973",client_secret:"ff72364c-40e2-3a21-af1e-d7f3e4cd5982"},uP={usuario:"",senha:"",access_token:"",expires_in:0,expires_datetime:0,ambiente:""},mP={obterJwtToken:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(uP.access_token&&!(uP.expires_datetime<new Date)&&uP.usuario===t&&uP.senha===a&&uP.ambiente===o){e.next=3;break}return e.next=3,this.obterToken(t,a,o);case 3:return e.abrupt("return",{client_id:dP.client_id,access_token:uP.access_token});case 4:case"end":return e.stop()}},e,this)}));return function(t,a,o){return e.apply(this,arguments)}}(),obterToken:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){var i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i={usuario:t,senha:a},e.next=4,gt()({method:"post",baseURL:dP.baseURL,url:o+"autenticacao-jwt/v1/token",auth:{username:dP.client_id,password:dP.client_secret},validateStatus:function(e){return e>=200&&e<=500},timeout:1e4,headers:{client_id:dP.client_id},data:i});case 4:r=e.sent,s=[201].includes(r.status),s||console.error("Falha na autenticação\n",r),Po(!s,((r.data||[])[0]||{}).mensagem||"Falha na autenticação"),uP.usuario=t,uP.senha=a,uP.access_token=r.data.access_token,uP.expires_in=r.data.expires_in,uP.expires_datetime=new Date(Number(new Date)+1e3*uP.expires_in),uP.ambiente=o,ei.log("essilor","autenticacao-jwt token",uP),e.next=23;break;case 17:if(e.prev=17,e.t0=e["catch"](0),"ErroValidacao"!==e.t0.name){e.next=21;break}throw e.t0;case 21:Po("Error"===e.t0.name&&"Network Error"===e.t0.message,"Sem internet ou erro de comunicação!"),Po(!0,"Falha no acesso ao servidor de autenticação da Essilor! "+e.t0.toString());case 23:case"end":return e.stop()}},e,null,[[0,17]])}));return function(t,a,o){return e.apply(this,arguments)}}()},pP={baseURL:"https://api.essilor.com.br"},vP={adicionar:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o,i,r){var s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mP.obterJwtToken(a,o,i);case 3:return s=e.sent,s.laboratorio=t,e.next=7,gt()({method:"post",baseURL:pP.baseURL,url:i+"gestao-pedidos-laboratorio/v1/pedidos",validateStatus:function(e){return e>=200&&e<=500},timeout:1e4,headers:s,data:r});case 7:return n=e.sent,ei.log("essilor","Pedidos.adicionar",{headers:s,dados:r,resposta:n}),e.abrupt("return",n);case 12:throw e.prev=12,e.t0=e["catch"](0),ei.error("essilor","Pedidos.adicionar erro\n",e.t0.stack),e.t0;case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t,a,o,i,r){return e.apply(this,arguments)}}(),consultarPedido:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o,i,r){var s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mP.obterJwtToken(a,o,i);case 3:return s=e.sent,s.laboratorio=t,e.next=7,gt()({method:"get",baseURL:pP.baseURL,url:i+"gestao-pedidos-laboratorio/v1/pedidos/".concat(r),validateStatus:function(e){return e>=200&&e<=500},timeout:1e4,headers:s});case 7:return n=e.sent,ei.log("essilor","Pedidos.consultarPedido",{headers:s,id:r,resposta:n}),e.abrupt("return",n);case 12:throw e.prev=12,e.t0=e["catch"](0),ei.error("essilor","Pedidos.consultarPedido erro\n",e.t0.stack),e.t0;case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t,a,o,i,r){return e.apply(this,arguments)}}(),consultarPedidos:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o,i,r){var s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mP.obterJwtToken(a,o,i);case 3:return s=e.sent,s.laboratorio=t,e.next=7,gt()({method:"get",baseURL:pP.baseURL,url:i+"gestao-pedidos-laboratorio/v1/pedidos",validateStatus:function(e){return e>=200&&e<=500},timeout:1e4,headers:s,params:r});case 7:return n=e.sent,ei.log("essilor","Pedidos.consultarPedidos",{headers:s,params:r,resposta:n}),e.abrupt("return",n);case 12:throw e.prev=12,e.t0=e["catch"](0),ei.error("essilor","Pedidos.consultarPedidos erro\n",e.t0.stack),e.t0;case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t,a,o,i,r){return e.apply(this,arguments)}}(),consultarStatusPedido:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o,i,r){var s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mP.obterJwtToken(a,o,i);case 3:return s=e.sent,s.laboratorio=t,e.next=7,gt()({method:"get",baseURL:pP.baseURL,url:i+"gestao-pedidos-laboratorio/v1/pedidos/".concat(r,"/status"),validateStatus:function(e){return e>=200&&e<=500},timeout:1e4,headers:s});case 7:return n=e.sent,ei.log("essilor","Pedidos.consultarStatusPedido",{headers:s,id:r,resposta:n}),e.abrupt("return",n);case 12:throw e.prev=12,e.t0=e["catch"](0),ei.error("essilor","Pedidos.consultarStatusPedido erro\n",e.t0.stack),e.t0;case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t,a,o,i,r){return e.apply(this,arguments)}}()},hP={components:{Campo:Sl,EssilorModalConfirmacao:oP,EssilorModalResultado:lP},computed:{opcoesAmbiente:function(){return[{valor:"",rotulo:"Produção"},{valor:"dev/",rotulo:"Desenvolvimento"},{valor:"sandbox/",rotulo:"Sandbox"}]}},data:function(){return{ambiente:"",codigoLaboratorio:null,contatosLaboratorio:[],idEmpresa:null,json:{},modalConfirma:{visivel:!1},modalResultado:{visivel:!1},mostrarJson:!1,modalVisivel:!1}},methods:{eventoConfirmar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,ei.log("EssilorConsultarPedido","consultar",JSON.stringify(this.json,0,2)),Po(!this.json.id,"Pedido nao informado"),Po(!this.envelope.idEmpresa,"Empresa não selecionada"),Po(!this.envelope.codigoLaboratorio,"Laboratório não selecionado"),t=this.envelope.cnpjLaboratorio,Po(!t,"Laboratório sem CNPJ"),e.next=9,Zn.configuracoes.leLaboratorioEssilor(this.envelope.codigoLaboratorio,this.envelope.idEmpresa);case 9:this.modalConfirma={visivel:this.mostrarJson,eventoConfirmar:this.eventoConfirmar2,cnpjLaboratorio:t,titulo:"Consultar pedido "+t,cor:"primary",json:this.json.id},this.mostrarJson||this.modalConfirma.eventoConfirmar(),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),this.$q.notifyError("Falha na consulta",e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])}));return function(){return e.apply(this,arguments)}}(),eventoConfirmar2:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.modalConfirma.visivel=!1,e.next=4,Zn.configuracoes.leLaboratorioEssilor(this.envelope.codigoLaboratorio,this.envelope.idEmpresa);case 4:return t=e.sent,a=t.usuario,o=t.senha,Oe["a"].show({spinner:hu["a"],spinnerColor:"amber",message:"Consultando pedido"}),e.next=10,vP.consultarPedido(this.modalConfirma.cnpjLaboratorio||this.envelope.cnpjLaboratorio,a,o,this.ambiente,this.modalConfirma.json||this.json.id);case 10:if(i=e.sent,r=[200,201,206].includes(i.status),this.modalResultado={visivel:this.mostrarJson,titulo:"Pedido - status "+i.status,cor:r?"primary":"negative",resultado:JSON.stringify({data:i.data},0,2)},r){e.next=19;break}return s=((i.data||[])[0]||{}).mensagem,Po(!s,"Falha na consulta"),n=i.data.map(function(e){return e.mensagem+" (código: "+(e.codigo||"")+")"}),this.$utils.eventos.$emit("mostrarModalAlerta",{titulo:"Erro",erros:n}),e.abrupt("return");case 19:this.$utils.eventos.$emit("mostrarModalSucesso",{titulo:"Pedido",mensagens:["Status atual: "+i.data.statusAtual,"Entrada: "+this.$filters.dataHora(i.data.dataEntrada),"Entrega prevista: "+this.$filters.dataHora(i.data.dataEntregaPrevista),"Produto olho direito: "+this._.get(i,"data.produto.olhoDireito",""),"Produto olho esquerdo: "+this._.get(i,"data.produto.olhoEsquerdo",""),"Id: "+this._.get(i,"data.id",""),"Id pedido otica: "+this._.get(i,"data.idPedidoOtica",""),"CNPJ otica: "+this._.get(i,"data.cnpjOtica",""),"Consumidor: "+this._.get(i,"data.consumidor.nome","")]}),this.eventoInput(!1),e.next=26;break;case 23:e.prev=23,e.t0=e["catch"](0),this.$q.notifyError("Falha na consulta",e.t0);case 26:return e.prev=26,Oe["a"].hide(),e.finish(26);case 29:case"end":return e.stop()}},e,this,[[0,23,26,29]])}));return function(){return e.apply(this,arguments)}}(),eventoCancelar:function(){this.eventoInput(!1)},eventoInput:function(e){this.modalVisivel=e,this.$emit("input",e)}},props:{value:{required:!0,type:Boolean},envelope:{required:!1,type:Object}},watch:{value:function(e){e&&(this.json={id:this.envelope.numeroOrdemCompra},this.modalVisivel=!!this.$db.usuario.logado.administrador&&[1,2].includes(this.$db.usuario.logado.grupoInterno),this.modalVisivel||this.eventoConfirmar2())}},created:function(){}},fP=hP,CP=Object(sc["a"])(fP,YM,WM,!1,null,null,null);CP.options.__file="EssilorConsultarPedido.vue";var bP=CP.exports,gP=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-modal",{attrs:{value:e.value,maximized:""},on:{input:e.eventoInput}},[a("q-modal-layout",{staticClass:"bg-grey-4"},[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("Consulta Pedidos Essilor")])],1),a("form",{on:{submit:function(t){return t.preventDefault(),e.eventoConfirmar(t)}}},[a("div",{staticClass:"layout-padding q-pa-none q-pb-xl"},[a("div",{staticClass:"u-container"},[a("q-card",{staticClass:"row bg-white q-px-lg q-py-sm q-mt-md no-shadow"},[a("campo",{staticClass:"col-12 q-pa-sm",attrs:{value:e.nomeEmpresa,rotulo:"Empresa",before:[{icon:"search",handler:e.abrirPromptEmitente}],"somente-leitura":""},on:{click:e.abrirPromptEmitente}}),a("PromptContatoNovo",{attrs:{filtro:{ativo:!0,empresas:!0}},on:{selecionar:e.selecionarEmitente},model:{value:e.promptEmitente,callback:function(t){e.promptEmitente=t},expression:"promptEmitente"}}),a("campo",{staticClass:"col-12 col-md-6 q-pa-sm",attrs:{opcoes:e.opcoesLaboratorio,"rotulo-fixo":"Laboratório",tipo:"seletor"},model:{value:e.codigoLaboratorio,callback:function(t){e.codigoLaboratorio=t},expression:"codigoLaboratorio"}}),a("campo",{staticClass:"col-12 col-md-6 q-pa-sm",attrs:{opcoes:e.opcoesAmbiente,"rotulo-fixo":"Ambiente",tipo:"seletor"},model:{value:e.ambiente,callback:function(t){e.ambiente=t},expression:"ambiente"}})],1),a("q-card",{staticClass:"row bg-white q-px-lg q-py-sm q-mt-md no-shadow"},[a("p",{staticClass:"col-12 q-title"},[e._v("Filtros")]),a("campo",{staticClass:"col-12 col-md-6 q-pa-sm",attrs:{rotulo:"Identificação do pedido no laboratório"},model:{value:e.json.id,callback:function(t){e.$set(e.json,"id",t)},expression:"json.id"}}),a("campo",{staticClass:"col-12 col-md-6 q-pa-sm",attrs:{rotulo:"Identificação do pedido na ótica"},model:{value:e.json.idPedidoOtica,callback:function(t){e.$set(e.json,"idPedidoOtica",t)},expression:"json.idPedidoOtica"}}),a("campo",{staticClass:"col-12 col-md-6 q-pa-sm",attrs:{rotulo:"Data início",tipo:"data"},model:{value:e.json.dataInicio,callback:function(t){e.$set(e.json,"dataInicio",t)},expression:"json.dataInicio"}}),a("campo",{staticClass:"col-12 col-md-6 q-pa-sm",attrs:{rotulo:"Data fim",tipo:"data"},model:{value:e.json.dataFim,callback:function(t){e.$set(e.json,"dataFim",t)},expression:"json.dataFim"}})],1)],1)]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",{staticClass:"text-right"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:e.eventoCancelar}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Enviar"}})],1)],1)],1)],1)],1),a("EssilorModalConfirmacao",{attrs:{modal:e.modalConfirma}}),a("EssilorModalResultado",{attrs:{modal:e.modalResultado}})],1)},xP=[];gP._withStripped=!0;var _P={components:{Campo:Sl,EssilorModalConfirmacao:oP,EssilorModalResultado:lP,PromptContatoNovo:Yd},computed:{opcoesAmbiente:function(){return[{valor:"",rotulo:"Produção"},{valor:"dev/",rotulo:"Desenvolvimento"},{valor:"sandbox/",rotulo:"Sandbox"}]}},data:function(){return{ambiente:"",codigoLaboratorio:null,contatosLaboratorio:[],idEmpresa:null,json:{},modalConfirma:{visivel:!1},modalResultado:{visivel:!1},nomeEmpresa:"",opcoesLaboratorio:[],promptEmitente:!1}},methods:{abrirPromptEmitente:function(){this.promptEmitente=!0},atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zn.empresa.le();case 3:return t=e.sent,this.idEmpresa=t[0].idContato,this.nomeEmpresa=t[0].apelido,e.next=8,Zn.configuracoes.leLista("compra.essilor.webservice");case 8:return a=e.sent,o=po(a,"valor").map(function(e){return Number(e)}),e.next=12,He().contato.where("codigoContato").anyOf(o).toArray();case 12:this.contatosLaboratorio=e.sent,this.opcoesLaboratorio=this.contatosLaboratorio.map(function(e){return{valor:e.codigoContato,rotulo:e.apelido,sublabel:e.numeroDocumentoNacional}}),this.codigoLaboratorio=(this.contatosLaboratorio[0]||{}).codigoContato,e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),this.$q.notifyError("Falha na consulta",e.t0);case 20:case"end":return e.stop()}},e,this,[[0,17]])}));return function(){return e.apply(this,arguments)}}(),selecionarEmitente:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:ei.log("Essilor","selecionarEmitente()",t,a.apelido);try{t&&(this.idEmpresa=t,this.nomeEmpresa=a.apelido)}catch(e){this.$q.notifyError("Não foi possível carregar a empresa emitente",e)}case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),eventoConfirmar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,ei.log("EssilorConsultarPedidos","consultar",JSON.stringify(this.json,0,2)),Po(!this.idEmpresa,"Empresa não selecionada"),Po(!this.codigoLaboratorio,"Laboratório não selecionado"),t=this.contatosLaboratorio.find(function(e){return e.codigoContato===o.codigoLaboratorio}),Po(!t,"Laboratório não encontrado"),a=Pa(t.numeroDocumentoNacional),Po(!a,"Laboratório sem CNPJ"),e.next=10,Zn.configuracoes.leLaboratorioEssilor(this.codigoLaboratorio,this.idEmpresa);case 10:this.modalConfirma={visivel:!0,eventoConfirmar:this.eventoConfirmar2,cnpjLaboratorio:a,titulo:"Consultar pedidos "+a,cor:"primary",json:JSON.stringify(this.json,0,2)},e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),this.$q.notifyError("Falha na consulta",e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])}));return function(){return e.apply(this,arguments)}}(),eventoConfirmar2:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.modalConfirma.visivel=!1,e.next=4,Zn.configuracoes.leLaboratorioEssilor(this.codigoLaboratorio,this.idEmpresa);case 4:return t=e.sent,a=t.usuario,o=t.senha,Oe["a"].show({spinner:hu["a"],spinnerColor:"amber",message:"Consultando pedidos"}),e.next=10,vP.consultarPedidos(this.modalConfirma.cnpjLaboratorio,a,o,this.ambiente,JSON.parse(this.modalConfirma.json));case 10:i=e.sent,r=[200,201,206].includes(i.status),this.modalResultado={visivel:!0,titulo:"Lista de pedidos - status "+i.status,cor:r?"primary":"negative",resultado:JSON.stringify({data:i.data},0,2)},e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),this.$q.notifyError("Falha na consulta",e.t0);case 18:return e.prev=18,Oe["a"].hide(),e.finish(18);case 21:case"end":return e.stop()}},e,this,[[0,15,18,21]])}));return function(){return e.apply(this,arguments)}}(),eventoCancelar:function(){ei.log("EssilorConsultarPedidos","eventoCancelar"),this.eventoInput(!1)},eventoInput:function(e){this.$emit("input",e)}},props:{value:{required:!0,type:Boolean}},created:function(){this.atualizar()}},qP=_P,SP=Object(sc["a"])(qP,gP,xP,!1,null,null,null);SP.options.__file="EssilorConsultarPedidos.vue";var IP=SP.exports,FP=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-modal",{attrs:{value:e.value,maximized:""},on:{input:e.eventoInput}},[a("q-modal-layout",{staticClass:"bg-grey-4"},[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("Consulta Status Pedido Essilor")])],1),a("form",{on:{submit:function(t){return t.preventDefault(),e.eventoConfirmar(t)}}},[a("div",{staticClass:"layout-padding q-pa-none q-pb-xl"},[a("div",{staticClass:"u-container"},[a("q-card",{staticClass:"row bg-white q-px-lg q-py-sm q-mt-md no-shadow"},[a("campo",{staticClass:"col-12 col-md-6 q-pa-sm",attrs:{opcoes:e.opcoesAmbiente,"rotulo-fixo":"Ambiente",tipo:"seletor"},model:{value:e.ambiente,callback:function(t){e.ambiente=t},expression:"ambiente"}})],1),a("q-card",{staticClass:"row bg-white q-px-lg q-py-sm q-mt-md no-shadow"},[a("p",{staticClass:"col-12 q-title"},[e._v("Filtros")]),a("campo",{staticClass:"col-12 col-md-6 q-pa-sm",attrs:{rotulo:"Identificação do pedido no laboratório"},model:{value:e.json.id,callback:function(t){e.$set(e.json,"id",t)},expression:"json.id"}})],1)],1)]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",{staticClass:"text-right"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:e.eventoCancelar}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Enviar"}})],1)],1)],1)],1)],1),a("EssilorModalConfirmacao",{attrs:{modal:e.modalConfirma}}),a("EssilorModalResultado",{attrs:{modal:e.modalResultado}})],1)},wP=[];FP._withStripped=!0;var yP={components:{Campo:Sl,EssilorModalConfirmacao:oP,EssilorModalResultado:lP},computed:{opcoesAmbiente:function(){return[{valor:"",rotulo:"Produção"},{valor:"dev/",rotulo:"Desenvolvimento"},{valor:"sandbox/",rotulo:"Sandbox"}]}},data:function(){return{ambiente:"",codigoLaboratorio:null,contatosLaboratorio:[],idEmpresa:null,json:{},modalConfirma:{visivel:!1},modalResultado:{visivel:!1}}},methods:{eventoConfirmar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,ei.log("EssilorConsultarPedido","consultar",JSON.stringify(this.json,0,2)),Po(!this.json.id,"Pedido nao informado"),Po(!this.envelope.idEmpresa,"Empresa não selecionada"),Po(!this.envelope.codigoLaboratorio,"Laboratório não selecionado"),t=this.envelope.cnpjLaboratorio,Po(!t,"Laboratório sem CNPJ"),e.next=9,Zn.configuracoes.leLaboratorioEssilor(this.envelope.codigoLaboratorio,this.envelope.idEmpresa);case 9:this.modalConfirma={visivel:!0,eventoConfirmar:this.eventoConfirmar2,cnpjLaboratorio:t,titulo:"Consultar status do pedido "+t,cor:"primary",json:this.json.id},e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),this.$q.notifyError("Falha na consulta",e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}(),eventoConfirmar2:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.modalConfirma.visivel=!1,e.next=4,Zn.configuracoes.leLaboratorioEssilor(this.envelope.codigoLaboratorio,this.envelope.idEmpresa);case 4:return t=e.sent,a=t.usuario,o=t.senha,Oe["a"].show({spinner:hu["a"],spinnerColor:"amber",message:"Consultando status pedido"}),e.next=10,vP.consultarStatusPedido(this.modalConfirma.cnpjLaboratorio,a,o,this.ambiente,this.modalConfirma.json);case 10:i=e.sent,r=[200,201,206].includes(i.status),this.modalResultado={visivel:!0,titulo:"Resultado Status do Pedido - status "+i.status,cor:r?"primary":"negative",resultado:JSON.stringify({data:i.data},0,2)},e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),this.$q.notifyError("Falha na consulta",e.t0);case 18:return e.prev=18,Oe["a"].hide(),e.finish(18);case 21:case"end":return e.stop()}},e,this,[[0,15,18,21]])}));return function(){return e.apply(this,arguments)}}(),eventoCancelar:function(){this.eventoInput(!1)},eventoInput:function(e){this.$emit("input",e)}},props:{value:{required:!0,type:Boolean},envelope:{required:!1,type:Object}},watch:{value:function(e){e&&(this.json={id:this.envelope.id})}},created:function(){}},NP=yP,kP=Object(sc["a"])(NP,FP,wP,!1,null,null,null);kP.options.__file="EssilorConsultarStatusPedido.vue";var MP=kP.exports,PP=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-modal",{attrs:{value:e.value,maximized:""},on:{input:e.eventoInput}},[a("q-modal-layout",{staticClass:"bg-grey-4"},[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("Pedido ao Laboratorio Essilor")])],1),e.dados.envelope?a("form",{on:{submit:function(t){return t.preventDefault(),e.eventoConfirmar(t)}}},[a("div",{staticClass:"layout-padding q-pa-none q-pb-xl"},[a("div",{staticClass:"u-container"},[a("div",{staticClass:"row bg-white round-borders q-mt-none q-pa-md"},[a("div",{staticClass:"col-12 q-pa-sm q-my-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-auto q-mr-md"},[a("span",{staticClass:"q-caption text-weight-bold q-mr-sm"},[e._v("Paciente")]),a("span",{staticClass:"q-caption"},[e._v(e._s(e._.get(e.dados,"envelope.nomeCliente")))])]),a("div",{staticClass:"col-auto q-mr-md"},[a("span",{staticClass:"q-caption text-weight-bold q-mr-sm"},[e._v("Laboratório")]),a("span",{staticClass:"q-caption"},[e._v(e._s(e._.get(e.dados,"envelope.nomeLaboratorio")))])]),a("div",{staticClass:"col"}),a("badge",{staticClass:"col-auto q-mx-xs",attrs:{cor:"faded",escuro:"",icone:"mdi-email",rotulo:e.dados.json.idPedidoOtica}})],1)]),e.$db.usuario.logado.administrador&&[1,2].includes(e.$db.usuario.logado.grupoInterno)?[a("campo",{staticClass:"col-12 col-md-4 q-pr-md",attrs:{maxlength:"100","rotulo-fixo":"Código do pedido da ótica"},model:{value:e.dados.json.idPedidoOtica,callback:function(t){e.$set(e.dados.json,"idPedidoOtica","string"===typeof t?t.trim():t)},expression:"dados.json.idPedidoOtica"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{opcoes:e.opcoesAmbiente,"rotulo-fixo":"Ambiente",tipo:"seletor"},model:{value:e.ambiente,callback:function(t){e.ambiente=t},expression:"ambiente"}}),a("q-toggle",{staticClass:"col-12 col-md-4 q-pa-md",attrs:{label:"Mostrar Json"},model:{value:e.mostrarJson,callback:function(t){e.mostrarJson=t},expression:"mostrarJson"}})]:e._e(),a("campo",{staticClass:"col-12",attrs:{maxlength:"50","rotulo-fixo":"Observação"},model:{value:e.dados.json.observacao,callback:function(t){e.$set(e.dados.json,"observacao","string"===typeof t?t.trim():t)},expression:"dados.json.observacao"}})],2),e._l(["olhoDireito","olhoEsquerdo"],function(t){return a("div",{key:t,staticClass:"row bg-white round-borders q-mt-md q-pa-md"},[a("p",{staticClass:"col-12 q-title"},[e._v("\n                "+e._s("olhoDireito"===t?"Olho direito":"Olho esquerdo"))]),a("q-table",{staticClass:"col-12 no-shadow",attrs:{data:e.listaReceita[t],columns:e.colunasReceita,"row-key":"name",separator:"cell",dense:"","hide-bottom":""},scopedSlots:e._u([{key:"header",fn:function(t){return a("q-tr",{},[a("q-th",{key:"distancia",staticStyle:{"min-width":"110px","max-width":"110px"},attrs:{props:t}}),a("q-th",{key:"adicao",attrs:{props:t}},[e._v("Adição")]),a("q-th",{key:"esferico",attrs:{props:t}},[e._v("Esférico")]),a("q-th",{key:"cilindrico",attrs:{props:t}},[e._v("Cilíndrico")]),a("q-th",{key:"eixo",attrs:{props:t}},[e._v("Eixo")]),a("q-th",{key:"prisma",attrs:{props:t}},[e._v("Prisma")]),a("q-th",{key:"base",attrs:{props:t}},[e._v("Base")]),a("q-th",{key:"dnp",attrs:{props:t}},[e._v("DNP")])],1)}},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"distancia",attrs:{props:t}},[e._v(e._s(t.row.distancia))]),a("q-td",{key:"adicao",attrs:{props:t}},[e._v(e._s(e._f("numeroSinal")(t.row.adicao,2,"-")))]),a("q-td",{key:"esferico",attrs:{props:t}},[e._v(e._s(e._f("numeroSinal")(t.row.grauEsferico,2,"-")))]),a("q-td",{key:"cilindrico",attrs:{props:t}},[e._v(e._s(e._f("numeroSinal")(t.row.grauCilindro,2,"-")))]),a("q-td",{key:"eixo",attrs:{props:t}},[e._v(e._s(t.row.eixo))]),a("q-td",{key:"prisma",attrs:{props:t}},[e._v(e._s(t.row.valorPrismaHorizontal))]),a("q-td",{key:"base",attrs:{props:t}},[e._v(e._s(t.row.eixoPrismaHorizontal))]),a("q-td",{key:"dnp",attrs:{props:t}},[e._v(e._s(e._f("numero")(t.row.dnp,2,"-")))])],1)]}}])}),a("div",{staticClass:"col-12 q-pa-sm q-my-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-auto q-mr-md"},[a("span",{staticClass:"q-caption text-weight-bold q-mr-sm"},[e._v("Lente")]),a("span",{staticClass:"q-caption"},[e._v(e._s(e._.get(e.dados,"envelope."+t+".descricaoConcatenada")))])]),a("div",{staticClass:"col-auto q-mr-md"},[a("span",{staticClass:"q-caption text-weight-bold q-mr-sm"},[e._v("Código")]),a("span",{staticClass:"q-caption"},[e._v(e._s(e._.get(e.dados,"envelope."+t+".codigoItem")))])]),a("div",{staticClass:"col-auto q-mr-md"},[a("span",{staticClass:"q-caption text-weight-bold q-mr-sm"},[e._v("Referência")]),a("span",{staticClass:"q-caption"},[e._v(e._s(e._.get(e.dados,"envelope."+t+".referencia")))])]),a("div",{staticClass:"col-auto q-mr-md"},[a("span",{staticClass:"q-caption text-weight-bold q-mr-sm"},[e._v("Tipo")]),a("span",{staticClass:"q-caption"},[e._v(e._s(e._.get(e.dados,"envelope."+t+".lenteTipo")))])]),a("div",{staticClass:"col-auto q-mr-md"},[a("span",{staticClass:"q-caption text-weight-bold q-mr-sm"},[e._v("Custo")]),a("span",{staticClass:"q-caption"},[e._v(e._s(e._f("numero")(e._.get(e.dados,"envelope."+t+".valorCusto"),2)))])]),a("div",{staticClass:"col-auto q-mr-md"},[a("span",{staticClass:"q-caption text-weight-bold q-mr-sm"},[e._v("Venda")]),a("span",{staticClass:"q-caption"},[e._v(e._s(e._f("numero")(e._.get(e.dados,"envelope."+t+".total"),2)))])])])]),a("p",{staticClass:"col-12 q-title"},[e._v("Vínculo Lente Essilor")]),"olhoEsquerdo"===t?a("div",{staticClass:"col-12"},[a("q-btn",{staticClass:"no-shadow",attrs:{color:"primary",icon:"redo",label:"Copiar OD > OE"},on:{click:e.copiarOdParaOe}})],1):e._e(),a("campo",{staticClass:"col-12 col-md-3 q-pa-sm",attrs:{opcoes:e.opcoesProdutoEssilor[t],"rotulo-fixo":"Tipo produto",tipo:"seletor"},on:{input:function(a){e.selecionarLenteEssilor(t)}},model:{value:e.dados[t].tipoProdutoEssilor,callback:function(a){e.$set(e.dados[t],"tipoProdutoEssilor",a)},expression:"dados[olho].tipoProdutoEssilor"}}),a("campo",{staticClass:"col-12 col-md-3 q-pa-sm",attrs:{opcoes:e.opcoesProducaoEssilor,"rotulo-fixo":"Tipo produção",tipo:"seletor"},on:{input:function(a){e.selecionarLenteEssilor(t)}},model:{value:e.dados[t].tipoProducaoEssilor,callback:function(a){e.$set(e.dados[t],"tipoProducaoEssilor",a)},expression:"dados[olho].tipoProducaoEssilor"}}),(e.dados[t].opcoesProdutos||[]).length?a("campo",{staticClass:"col-12 col-md-6 q-pa-sm",attrs:{opcoes:e.dados[t].opcoesProdutos,"rotulo-fixo":"Produto",tipo:"seletor",filter:""},on:{input:function(a){e.selecionarProdutoEssilor(t)}},model:{value:e.dados[t].produtoEssilor,callback:function(a){e.$set(e.dados[t],"produtoEssilor",a)},expression:"dados[olho].produtoEssilor"}}):e._e(),e.dados[t].detalheProduto.detalheProduto?a("ArvoreJson",{staticClass:"col-12 q-pa-sm",attrs:{json:e.dados[t].detalheProduto}}):e._e(),e._l(e._.get(e.dados,"envelope."+t+".tratamentos"),function(t,o){return a("div",{key:o,staticClass:"col-12 q-pa-sm q-mt-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-auto q-mr-md"},[a("span",{staticClass:"q-caption text-weight-bold q-mr-sm"},[e._v("Tratamento")]),a("span",{staticClass:"q-caption"},[e._v(e._s(e._.get(t,"descricaoConcatenada")))])]),a("div",{staticClass:"col-auto q-mr-md"},[a("span",{staticClass:"q-caption text-weight-bold q-mr-sm"},[e._v("Código")]),a("span",{staticClass:"q-caption"},[e._v(e._s(e._.get(t,"codigoItem")))])]),a("div",{staticClass:"col-auto q-mr-md"},[a("span",{staticClass:"q-caption text-weight-bold q-mr-sm"},[e._v("Referência")]),a("span",{staticClass:"q-caption"},[e._v(e._s(e._.get(t,"referencia")))])]),a("div",{staticClass:"col-auto q-mr-md"},[a("span",{staticClass:"q-caption text-weight-bold q-mr-sm"},[e._v("Custo")]),a("span",{staticClass:"q-caption"},[e._v(e._s(e._f("numero")(e._.get(t,"valorCusto"),2)))])]),a("div",{staticClass:"col-auto q-mr-md"},[a("span",{staticClass:"q-caption text-weight-bold q-mr-sm"},[e._v("Venda")]),a("span",{staticClass:"q-caption"},[e._v(e._s(e._f("numero")(e._.get(t,"total"),2)))])])])])})],2)}),a("div",{staticClass:"row bg-white round-borders q-mt-md q-pa-md"},[a("p",{staticClass:"col-12 q-title"},[e._v("Serviços adicionais")]),a("campo",{staticClass:"col-12 col-md-6 q-pa-sm",attrs:{opcoes:e.opcoesTratamentos,"rotulo-fixo":"Tratamento",tipo:"seletor",filter:""},model:{value:e.tratamentoEssilor,callback:function(t){e.tratamentoEssilor=t},expression:"tratamentoEssilor"}}),a("campo",{staticClass:"col-12 col-md-6 q-pa-sm",attrs:{opcoes:e.opcoesMontagem,"rotulo-fixo":"Montagem/corte",tipo:"seletor",filter:""},model:{value:e.montagemEssilor,callback:function(t){e.montagemEssilor=t},expression:"montagemEssilor"}})],1),a("div",{staticClass:"row bg-white round-borders q-mt-md q-pa-md"},[a("p",{staticClass:"col-12 q-title"},[e._v("Armação")]),a("campo",{staticClass:"col-12 col-md-2 q-pr-md",attrs:{tipo:"decimal",decimals:"2",rotulo:"Altura (vertical)"},model:{value:e.dados.json.armacao.vertical,callback:function(t){e.$set(e.dados.json.armacao,"vertical",t)},expression:"dados.json.armacao.vertical"}}),a("campo",{staticClass:"col-12 col-md-2 q-pr-md",attrs:{tipo:"decimal",decimals:"2",rotulo:"Diagonal (horizontal)"},model:{value:e.dados.json.armacao.horizontal,callback:function(t){e.$set(e.dados.json.armacao,"horizontal",t)},expression:"dados.json.armacao.horizontal"}}),a("campo",{staticClass:"col-12 col-md-2 q-pr-md",attrs:{tipo:"decimal",decimals:"2",rotulo:"Ponte"},model:{value:e.dados.json.armacao.ponte,callback:function(t){e.$set(e.dados.json.armacao,"ponte",t)},expression:"dados.json.armacao.ponte"}}),a("campo",{staticClass:"col-12 col-md-2 q-pr-md",attrs:{tipo:"decimal",decimals:"2",rotulo:"Diagonal (diâmetro maior)"},model:{value:e.dados.json.armacao.diametroMaior,callback:function(t){e.$set(e.dados.json.armacao,"diametroMaior",t)},expression:"dados.json.armacao.diametroMaior"}}),a("campo",{staticClass:"ccol-12 col-md-2 q-pr-md",attrs:{opcoes:e.opcoesTipoMontagem,"rotulo-fixo":"Tipo montagem",tipo:"seletor"},model:{value:e.dados.json.armacao.tipo,callback:function(t){e.$set(e.dados.json.armacao,"tipo",t)},expression:"dados.json.armacao.tipo"}})],1)],2)]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",{staticClass:"text-right"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:e.eventoCancelar}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Enviar"}})],1)],1)],1):e._e()],1)],1),a("EssilorModalConfirmacao",{attrs:{modal:e.modalConfirma}}),a("EssilorModalResultado",{attrs:{modal:e.modalResultado}})],1)},DP=[];PP._withStripped=!0;var EP=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-tree",{attrs:{nodes:e.arvore,"node-key":"label"}})},TP=[];EP._withStripped=!0;var AP={components:{},data:function(){return{arvore:{}}},methods:{montarArvore:function(e){var t=[];for(var a in e){var o={label:a};if(e[a].constructor===Object)o.children=this.montarArvore(e[a]);else if(e[a].constructor===Array)for(var i in o.children=[],e[a])o.children.push({label:e[a][i].descricao||String(i),children:this.montarArvore(e[a][i])});else o={label:a+": "+String(e[a])};t.push(o)}return t}},props:{json:{required:!0,type:Object}},watch:{},created:function(){this.arvore=this.montarArvore(this.json),ei.log("ArvoreJson",this.json,this.arvore)}},OP=AP,$P=Object(sc["a"])(OP,EP,TP,!1,null,null,null);$P.options.__file="ArvoreJson.vue";var RP=$P.exports,jP={baseURL:"https://api.essilor.com.br"},zP={consultarProdutos:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o,i,r){var s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mP.obterJwtToken(a,o,i);case 3:return s=e.sent,s.laboratorio=t,e.next=7,gt()({method:"get",baseURL:jP.baseURL,url:i+"gestao-produtos-laboratorio/v1/produtos",validateStatus:function(e){return e>=200&&e<=500},timeout:1e4,headers:s,params:r});case 7:return n=e.sent,ei.log("essilor","consultarProdutos",{params:r,resposta:n}),e.abrupt("return",n);case 12:throw e.prev=12,e.t0=e["catch"](0),ei.error("essilor","consultarProdutos erro\n",e.t0.stack),e.t0;case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t,a,o,i,r){return e.apply(this,arguments)}}(),consultarProduto:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o,i,r){var s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mP.obterJwtToken(a,o,i);case 3:return s=e.sent,s.laboratorio=t,e.next=7,gt()({method:"get",baseURL:jP.baseURL,url:i+"gestao-produtos-laboratorio/v1/produtos/".concat(r,"/parametros"),validateStatus:function(e){return e>=200&&e<=500},timeout:1e4,headers:s});case 7:return n=e.sent,ei.log("essilor","consultarProduto",{id:r,resposta:n}),e.abrupt("return",n);case 12:throw e.prev=12,e.t0=e["catch"](0),ei.error("essilor","consultarProduto erro\n",e.t0.stack),e.t0;case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t,a,o,i,r){return e.apply(this,arguments)}}()},BP={components:{ArvoreJson:RP,Campo:Sl,EssilorModalConfirmacao:oP,EssilorModalResultado:lP},computed:{colunasReceita:function(){return[{name:"distancia",align:"left",field:"distancia",style:"font-weight:bold;min-width:110px"},{name:"adicao",align:"center",field:"adicao"},{name:"esferico",align:"center",field:"grauEsferico"},{name:"cilindrico",align:"center",field:"grauCilindro"},{name:"eixo",align:"center",field:"eixo"},{name:"prisma",align:"center",field:"prisma"},{name:"base",align:"center",field:"base"},{name:"dnp",align:"center",field:"dnp"}]},opcoesAmbiente:function(){return[{valor:"",rotulo:"Produção"},{valor:"dev/",rotulo:"Desenvolvimento"},{valor:"sandbox/",rotulo:"Sandbox"}]},opcoesProducaoEssilor:function(){return[{valor:"",rotulo:""},{valor:"SURFACAGEM_DIGITAL",rotulo:"Surfaçagem digital"},{valor:"SURFACAGEM_TRADICIONAL",rotulo:"Surfaçagem tradicional"},{valor:"LENTES_PRONTA",rotulo:"Lentes pronta"}]}},data:function(){return{ambiente:"",listaReceita:{},modalConfirma:{visivel:!1},modalResultado:{visivel:!1},montagemEssilor:"",mostrarJson:!1,opcoesMontagem:[],opcoesProdutoEssilor:{olhoDireito:[],olhoEsquerdo:[]},opcoesTipoMontagem:[],opcoesTratamentos:[],tratamentoEssilor:""}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,Po(!this.dados.envelope.cnpjLaboratorio,"Laboratório sem CNPJ"),e.next=4,Zn.configuracoes.leLaboratorioEssilor(this.dados.envelope.codigoLaboratorio,this.dados.envelope.idEmpresa);case 4:t=this.dados.json.receita,a=this.dados.json.parametros,o={"Multifocal (Longe e Perto)":{longe:"Longe",perto:"Perto"},"Monofocal (Longe)":{longe:"Longe",perto:""},"Monofocal (Médio)":{longe:"Médio",perto:""},"Monofocal (Perto)":{longe:"Perto",perto:""},"Intermediário (Médio e Perto)":{longe:"Médio",perto:"Perto"},"Intermediário (Longe e Médio)":{longe:"Longe",perto:"Médio"},"Bifocal (Longe e Perto)":{longe:"Longe",perto:"Perto"}},this.listaReceita={olhoDireito:[at()({},t.olhoDireito,{adicao:void 0,distancia:o[this.dados.envelope.armacao.oculos].longe}),{adicao:t.olhoDireito.adicao,dnp:a.olhoDireito.dnpPerto,distancia:o[this.dados.envelope.armacao.oculos].perto}],olhoEsquerdo:[at()({},t.olhoEsquerdo,{adicao:void 0,distancia:o[this.dados.envelope.armacao.oculos].longe}),{adicao:t.olhoEsquerdo.adicao,dnp:a.olhoEsquerdo.dnpPerto,distancia:o[this.dados.envelope.armacao.oculos].perto}]},this.opcoesProdutoEssilor={olhoDireito:this.mapearTipoLente(this.dados.envelope.armacao.oculos),olhoEsquerdo:this.mapearTipoLente(this.dados.envelope.armacao.oculos)},this.dados.olhoDireito.tipoProdutoEssilor=this.opcoesProdutoEssilor.olhoDireito[0].valor,this.dados.olhoEsquerdo.tipoProdutoEssilor=this.opcoesProdutoEssilor.olhoEsquerdo[0].valor,e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](0),this.$q.notifyError("Falha na consulta",e.t0),this.eventoInput(!1);case 17:case"end":return e.stop()}},e,this,[[0,13]])}));return function(){return e.apply(this,arguments)}}(),mapearTipoLente:function(e){return{"Multifocal (Longe e Perto)":[{valor:"MULTIFOCAL",rotulo:"Multifocal"}],"Monofocal (Longe)":[{valor:"VISAO_SIMPLES",rotulo:"Visao simples"}],"Monofocal (Médio)":[{valor:"VISAO_SIMPLES",rotulo:"Visao simples"}],"Monofocal (Perto)":[{valor:"VISAO_SIMPLES",rotulo:"Visao simples"}],"Intermediário (Médio e Perto)":[{valor:"VISAO_INTERMEDIARIA",rotulo:"Visão intermediária"}],"Intermediário (Longe e Médio)":[{valor:"VISAO_INTERMEDIARIA",rotulo:"Visão intermediária"}],"Bifocal (Longe e Perto)":[{valor:"BIFOCAL",rotulo:"Bifocal"}]}[e]||[{valor:"MULTIFOCAL",rotulo:"Multifocal"},{valor:"VISAO_SIMPLES",rotulo:"Visao simples"},{valor:"VISAO_INTERMEDIARIA",rotulo:"Visão intermediária"},{valor:"BIFOCAL",rotulo:"Bifocal"}]},copiarOdParaOe:function(){this.dados.olhoEsquerdo.detalheProduto=this.dados.olhoDireito.detalheProduto,this.dados.olhoEsquerdo.opcoesProdutos=this.dados.olhoDireito.opcoesProdutos,this.dados.olhoEsquerdo.tipoProdutoEssilor=this.dados.olhoDireito.tipoProdutoEssilor,this.dados.olhoEsquerdo.tipoProducaoEssilor=this.dados.olhoDireito.tipoProducaoEssilor,this.dados.olhoEsquerdo.produtoEssilor=this.dados.olhoDireito.produtoEssilor,this.dados.json.receita.olhoEsquerdo.codigoLinhaProduto=this.dados.json.receita.olhoDireito.codigoLinhaProduto,this.dados.json.receita.olhoEsquerdo.tipoProducao=this.dados.json.receita.olhoDireito.tipoProducao,this.dados.json.receita.olhoEsquerdo.tipoProduto=this.dados.json.receita.olhoDireito.tipoProduto},eventoConfirmar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:try{Po(!this.dados.json.receita.olhoDireito.codigoLinhaProduto,"Lente direira sem produto selecionado"),this.dados.json.receita.olhoEsquerdo.codigoLinhaProduto||(this.dados.json.receita.olhoEsquerdo.codigoLinhaProduto=this.dados.json.receita.olhoDireito.codigoLinhaProduto,this.dados.json.receita.olhoEsquerdo.tipoProducao=this.dados.json.receita.olhoDireito.tipoProducao,this.dados.json.receita.olhoEsquerdo.tipoProduto=this.dados.json.receita.olhoDireito.tipoProduto),this.tratamentoEssilor&&(t=this.dados.olhoDireito.detalheProduto.detalheProduto.servicos.find(function(e){return e.codigo===i.tratamentoEssilor}),this.dados.json.servicos.push(t)),this.montagemEssilor&&(a=this.dados.olhoDireito.detalheProduto.detalheProduto.servicos.find(function(e){return e.codigo===i.montagemEssilor}),this.dados.json.servicos.push(a)),o=this.dados.json.armacao,delete o.__index,o.vertical=String(o.vertical),o.horizontal=String(o.horizontal),o.ponte=String(o.ponte),o.diametroMaior=String(o.diametroMaior),o.tipo=String(o.tipo),this.modalConfirma={visivel:this.mostrarJson,eventoConfirmar:this.eventoConfirmar2,titulo:"Envio pedido laboratorio "+this.dados.envelope.cnpjLaboratorio,cor:"primary",json:JSON.stringify(this.dados.json,0,2)},this.mostrarJson||this.modalConfirma.eventoConfirmar()}catch(e){this.$q.notifyError("Falha no envio",e)}case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),eventoConfirmar2:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.modalConfirma.visivel=!1,e.next=4,Zn.configuracoes.leLaboratorioEssilor(this.dados.envelope.codigoLaboratorio,this.dados.envelope.idEmpresa);case 4:return t=e.sent,a=t.usuario,o=t.senha,Oe["a"].show({spinner:hu["a"],spinnerColor:"amber",message:"Enviando pedido"}),e.next=10,vP.adicionar(this.dados.envelope.cnpjLaboratorio,a,o,this.ambiente,JSON.parse(this.modalConfirma.json));case 10:if(i=e.sent,r=[200,201,206].includes(i.status),this.modalResultado={visivel:this.mostrarJson,titulo:"Resposta status "+i.status,cor:r?"primary":"negative",resultado:JSON.stringify({data:i.data},0,2)},r){e.next=19;break}return s=((i.data||[])[0]||{}).mensagem,Po(!s,"Erro no envio do pedido"),n=i.data.map(function(e){return e.mensagem+" (código: "+(e.codigo||"")+")"}),this.$utils.eventos.$emit("mostrarModalAlerta",{titulo:"Erro",erros:n}),e.abrupt("return");case 19:return c=i.data.orcamento,l=c.dataEntregaPrevista||c.prazo,d=Number(c.valorBruto)||0,u=Number(c.desconto)||0,m=Number(c.valorLiquido)||d-u,this.$utils.eventos.$emit("mostrarModalSucesso",{titulo:"Pedido enviado com sucesso",mensagens:["id: "+i.data.id,"Entrega prevista: "+this.$filters.data(l),"Valor bruto: "+this.$filters.numero(d,2),"Desconto: "+this.$filters.numero(u,2),"Valor líquido: "+this.$filters.numero(m,2)]}),Po(!i.data.id,"Sem retorno do identificador do pedido"),e.next=28,this.$utils.executarSql("update documento set numeroOrdemCompra=".concat(this.$utils.sqlStr(i.data.id)," where codigoDocumento=").concat(this.$utils.sqlNum(this.dados.envelope.codigoDocumento)));case 28:this.dados.envelopeOriginal.numeroOrdemCompra=String(i.data.id),this.eventoInput(!1),e.next=35;break;case 32:e.prev=32,e.t0=e["catch"](0),this.$q.notifyError("Falha no envio",e.t0);case 35:return e.prev=35,Oe["a"].hide(),e.finish(35);case 38:case"end":return e.stop()}},e,this,[[0,32,35,38]])}));return function(){return e.apply(this,arguments)}}(),eventoCancelar:function(){ei.log("EssilorPedidoLaboratorio","eventoCancelar",this.dados),this.eventoInput(!1)},eventoInput:function(e){this.$emit("input",e)},selecionarLenteEssilor:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.dados[t].tipoProducaoEssilor&&this.dados[t].tipoProdutoEssilor){e.next=5;break}return this.dados[t].detalheProduto={},this.dados[t].opcoesProdutos=[],e.abrupt("return");case 5:this.modalConfirma={visivel:this.mostrarJson,eventoConfirmar:this.selecionarLenteEssilor2,olho:t,titulo:"Consultar produtos "+this.dados.envelope.cnpjLaboratorio,cor:"primary",json:JSON.stringify({tipoProducao:this.dados[t].tipoProducaoEssilor,tipoProduto:this.dados[t].tipoProdutoEssilor},0,2)},this.mostrarJson||this.modalConfirma.eventoConfirmar(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),this.$q.notifyError("Falha na consulta",e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),selecionarLenteEssilor2:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.modalConfirma.visivel=!1,t=this.modalConfirma.olho,e.next=5,Zn.configuracoes.leLaboratorioEssilor(this.dados.envelope.codigoLaboratorio,this.dados.envelope.idEmpresa);case 5:return a=e.sent,o=a.usuario,i=a.senha,Oe["a"].show({spinner:hu["a"],spinnerColor:"amber",message:"Consultando produtos"}),e.next=11,zP.consultarProdutos(this.dados.envelope.cnpjLaboratorio,o,i,this.ambiente,JSON.parse(this.modalConfirma.json));case 11:if(r=e.sent,s=[200,201,206].includes(r.status),this.modalResultado={visivel:this.mostrarJson,titulo:"Resposta status "+r.status,cor:s?"primary":"negative",resultado:JSON.stringify({data:r.data},0,2)},s){e.next=18;break}return this.dados[t].detalheProduto={},this.dados[t].opcoesProdutos=[],e.abrupt("return");case 18:this.dados[t].opcoesProdutos=r.data.map(function(e){return{rotulo:e.descricao+" - "+e.codigo,valor:e.codigo}}),Po(!this.dados[t].opcoesProdutos.length,"Não encontrado produtos para os critérios selecionados"),e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](0),this.$q.notifyError("Falha na consulta",e.t0);case 25:return e.prev=25,Oe["a"].hide(),e.finish(25);case 28:case"end":return e.stop()}},e,this,[[0,22,25,28]])}));return function(){return e.apply(this,arguments)}}(),selecionarProdutoEssilor:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.dados[t].produtoEssilor){e.next=6;break}return this.dados[t].detalheProduto={},this.opcoesTratamentos=[],this.opcoesMontagem=[],e.abrupt("return");case 6:this.dados.json.receita[t].codigoLinhaProduto=this.dados[t].produtoEssilor,this.dados.json.receita[t].tipoProducao=this.dados[t].tipoProducaoEssilor,this.dados.json.receita[t].tipoProduto=this.dados[t].tipoProdutoEssilor,this.modalConfirma={visivel:this.mostrarJson,eventoConfirmar:this.selecionarProdutoEssilor2,olho:t,titulo:"Consultar produto "+this.dados.envelope.cnpjLaboratorio,cor:"primary",json:this.dados[t].produtoEssilor},this.mostrarJson||this.modalConfirma.eventoConfirmar(),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),this.$q.notifyError("Falha na consulta",e.t0);case 16:return e.prev=16,Oe["a"].hide(),e.finish(16);case 19:case"end":return e.stop()}},e,this,[[0,13,16,19]])}));return function(t){return e.apply(this,arguments)}}(),selecionarProdutoEssilor2:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.modalConfirma.visivel=!1,t=this.modalConfirma.olho,e.next=5,Zn.configuracoes.leLaboratorioEssilor(this.dados.envelope.codigoLaboratorio,this.dados.envelope.idEmpresa);case 5:return a=e.sent,o=a.usuario,i=a.senha,Oe["a"].show({spinner:hu["a"],spinnerColor:"amber",message:"Consultando produto"}),e.next=11,zP.consultarProduto(this.dados.envelope.cnpjLaboratorio,o,i,this.ambiente,this.modalConfirma.json);case 11:if(r=e.sent,s=[200,201,206].includes(r.status),this.modalResultado={visivel:this.mostrarJson,titulo:"Resposta status "+r.status,cor:s?"primary":"negative",resultado:JSON.stringify({data:r.data},0,2)},this.opcoesTratamentos=[{rotulo:"",valor:""}],this.opcoesMontagem=[{rotulo:"",valor:""}],s){e.next=19;break}return this.dados[t].detalheProduto={},e.abrupt("return");case 19:for(this.dados[t].detalheProduto={detalheProduto:r.data},n=!0,c=!1,l=void 0,e.prev=23,d=r.data.servicos[Symbol.iterator]();!(n=(u=d.next()).done);n=!0)m=u.value,p={rotulo:m.tipo+" - "+m.descricao+" - "+m.codigo,valor:m.codigo},"MONTAGEM"===m.tipo?this.opcoesMontagem.push(p):this.opcoesTratamentos.push(p);e.next=31;break;case 27:e.prev=27,e.t0=e["catch"](23),c=!0,l=e.t0;case 31:e.prev=31,e.prev=32,n||null==d.return||d.return();case 34:if(e.prev=34,!c){e.next=37;break}throw l;case 37:return e.finish(34);case 38:return e.finish(31);case 39:this.opcoesTipoMontagem=r.data.armacao.tipo.dominio.map(function(e){return{rotulo:e.codigo+" - "+e.descricao,valor:e.codigo}}),e.next=45;break;case 42:e.prev=42,e.t1=e["catch"](0),this.$q.notifyError("Falha na consulta",e.t1);case 45:return e.prev=45,Oe["a"].hide(),e.finish(45);case 48:case"end":return e.stop()}},e,this,[[0,42,45,48],[23,27,31,39],[32,,34,38]])}));return function(){return e.apply(this,arguments)}}()},props:{value:{required:!0,type:Boolean},dados:{required:!0,type:Object}},watch:{value:function(e){e&&this.atualizar()}}},LP=BP,VP=Object(sc["a"])(LP,PP,DP,!1,null,null,null);VP.options.__file="EssilorPedidoLaboratorio.vue";var UP=VP.exports;function HP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=Number(e)>0?"+":"";return a+(Number(e)||0).toFixed(t||0)}var QP={gerar:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return Po(!t.codigoDocumento,"Código do envelope inválido"),e.t0=at.a,e.t1={},e.t2=t,e.next=6,jo("select documentoCodigo, numero, codigoDocumentoAdicional, tipo, observacao from documento where codigoDocumento=".concat(Lo(t.codigoDocumento)));case 6:return e.t3=e.sent[0],a=(0,e.t0)(e.t1,e.t2,e.t3),Po(!a,"Envelope não encontrado"),Po(!a.documentoCodigo,"Envelope sem venda"),Po(!a.codigoDocumentoAdicional,"Envelope sem receita"),e.next=13,jo("select numeroDocumentoEmpresa, numero, tipo, observacao from documento where codigoDocumento=".concat(Lo(a.documentoCodigo)));case 13:return o=e.sent[0],Po(!o,"Venda não encontrada"),e.next=17,jo("select codigoDocumento, tipo, observacao from documento where codigoDocumento=".concat(Lo(a.codigoDocumentoAdicional)));case 17:return i=e.sent[0],Po(!i,"Receita não encontrada"),e.next=21,jo("select operacao, status, di, eixo, cilindrico, adicao, esferico, prisma, base\n       from documentoItem\n       where codigoDocumento=".concat(Lo(i.codigoDocumento),"\n         and tipoItem = 'Prescrição'"));case 21:return i.itens=e.sent,Po(!i.itens||!i.itens.length,"Receita sem itens"),i.odLonge=i.itens.find(function(e){return"Olho Direito"===e.operacao&&"Longe"===e.status}),i.oeLonge=i.itens.find(function(e){return"Olho Esquerdo"===e.operacao&&"Longe"===e.status}),Po(!i.odLonge,"Receita sem informações do Olho Direito de distância Longe"),Po(!i.oeLonge,"Receita sem informações do Olho Esquerdo de distância Longe"),i.odMedio=i.itens.find(function(e){return"Olho Direito"===e.operacao&&"Medio"===e.status})||{},i.oeMedio=i.itens.find(function(e){return"Olho Esquerdo"===e.operacao&&"Medio"===e.status})||{},i.odPerto=i.itens.find(function(e){return"Olho Direito"===e.operacao&&"Perto"===e.status})||{},i.oePerto=i.itens.find(function(e){return"Olho Esquerdo"===e.operacao&&"Perto"===e.status})||{},e.next=33,jo("select di.tipoItem, di.codigoItem, di.total, di.oculos,\n         di.alturaMontagemOD, di.alturaMontagemOE,\n         i.descricaoConcatenada, i.referencia, i.valorCusto, i.lenteTipo,\n         di.ponte, di.altura, di.diagonal, di.haste, di.tamanho, di.tipoMontagem\n       from documentoItem di\n       left join item i on i.codigoItem = di.codigoItem\n       where codigoDocumentoAdicional=".concat(Lo(t.codigoDocumento)));case 33:a.itens=e.sent,Po(!a.itens||!a.itens.length,"Envelope sem itens"),a.olhoDireito=a.itens.find(function(e){return"LOD"===e.tipoItem})||{},a.olhoDireito.tratamentos=a.itens.filter(function(e){return"TLOD"===e.tipoItem}),a.olhoEsquerdo=a.itens.find(function(e){return"LOE"===e.tipoItem})||{},a.olhoEsquerdo.tratamentos=a.itens.filter(function(e){return"TLOE"===e.tipoItem}),a.armacao=a.itens.find(function(e){return"Armação"===e.tipoItem})||{},e.t4=a.armacao.oculos,e.next="Multifocal (Longe e Perto)"===e.t4?43:"Monofocal (Longe)"===e.t4?46:"Monofocal (Médio)"===e.t4?49:"Monofocal (Perto)"===e.t4?52:"Bifocal (Longe e Perto)"===e.t4?55:"Intermediário (Médio e Perto)"===e.t4?58:"Intermediário (Longe e Médio)"===e.t4?61:64;break;case 43:return r={grauEsferico:i.odLonge.esferico,grauCilindro:i.odLonge.cilindrico,eixo:i.odLonge.eixo,adicao:i.odPerto.adicao,dnp:i.odLonge.di},s={grauEsferico:i.oeLonge.esferico,grauCilindro:i.oeLonge.cilindrico,eixo:i.oeLonge.eixo,adicao:i.oePerto.adicao,dnp:i.oeLonge.di},e.abrupt("break",65);case 46:return r={grauEsferico:i.odLonge.esferico,grauCilindro:i.odLonge.cilindrico,eixo:i.odLonge.eixo,dnp:i.odLonge.di},s={grauEsferico:i.oeLonge.esferico,grauCilindro:i.oeLonge.cilindrico,eixo:i.oeLonge.eixo,dnp:i.oeLonge.di},e.abrupt("break",65);case 49:return r={grauEsferico:i.odMedio.esferico,grauCilindro:i.odMedio.cilindrico,eixo:i.odMedio.eixo,dnp:i.odMedio.di},s={grauEsferico:i.oeMedio.esferico,grauCilindro:i.oeMedio.cilindrico,eixo:i.oeMedio.eixo,dnp:i.oeMedio.di},e.abrupt("break",65);case 52:return r={grauEsferico:i.odPerto.esferico,grauCilindro:i.odPerto.cilindrico,eixo:i.odPerto.eixo,dnp:i.odPerto.di},s={grauEsferico:i.oePerto.esferico,grauCilindro:i.oePerto.cilindrico,eixo:i.oePerto.eixo,dnp:i.oePerto.di},e.abrupt("break",65);case 55:return r={grauEsferico:i.odLonge.esferico,grauCilindro:i.odLonge.cilindrico,eixo:i.odLonge.eixo,adicao:i.odPerto.adicao,dnp:i.odLonge.di},s={grauEsferico:i.oeLonge.esferico,grauCilindro:i.oeLonge.cilindrico,eixo:i.oeLonge.eixo,adicao:i.oePerto.adicao,dnp:i.oeLonge.di},e.abrupt("break",65);case 58:return r={grauEsferico:i.odMedio.esferico,grauCilindro:i.odMedio.cilindrico,eixo:i.odMedio.eixo,adicao:i.odPerto.adicao,dnp:i.odMedio.di},s={grauEsferico:i.oeMedio.esferico,grauCilindro:i.oeMedio.cilindrico,eixo:i.oeMedio.eixo,adicao:i.oePerto.adicao,dnp:i.oeMedio.di},e.abrupt("break",65);case 61:return r={grauEsferico:i.odLonge.esferico,grauCilindro:i.odLonge.cilindrico,eixo:i.odLonge.eixo,adicao:i.odMedio.adicao,dnp:i.odLonge.di},s={grauEsferico:i.oeLonge.esferico,grauCilindro:i.oeLonge.cilindrico,eixo:i.oeLonge.eixo,adicao:i.oeMedio.adicao,dnp:i.oeLonge.di},e.abrupt("break",65);case 64:Po(!0,"Tipo do envelope inválido");case 65:return i.odLonge.base=i.odLonge.base.toUpperCase()||"NASAL",n=["NASAL","TEMPORAL"].includes(i.odLonge.base)&&!!i.odLonge.prisma,c=["SUPERIOR","INFERIOR"].includes(i.odLonge.base)&&!!i.odLonge.prisma,i.oeLonge.base=i.oeLonge.base.toUpperCase()||"NASAL",l=["NASAL","TEMPORAL"].includes(i.oeLonge.base)&&!!i.oeLonge.prisma,d=["SUPERIOR","INFERIOR"].includes(i.oeLonge.base)&&!!i.oeLonge.prisma,u={idPedidoOtica:String(a.numero||a.codigoDocumento||""),observacao:a.observacao||i.observacao||o.observacao||"",servicos:[],receita:{olhoDireito:{grauEsferico:HP(r.grauEsferico||0),grauCilindro:HP(r.grauCilindro||0),eixo:String(r.eixo||0),adicao:HP(r.adicao||0),dnp:String(r.dnp||0),altura:String(a.armacao.alturaMontagemOD||0),codigoLinhaProduto:"",tipoProducao:"",tipoProduto:"",eixoPrismaHorizontal:n?i.odLonge.base:void 0,valorPrismaHorizontal:n?String(i.odLonge.prisma):void 0,eixoPrismaVertical:c?i.odLonge.base:void 0,valorPrismaVertical:c?String(i.odLonge.prisma):void 0},olhoEsquerdo:{grauEsferico:HP(s.grauEsferico||0),grauCilindro:HP(s.grauCilindro||0),eixo:String(s.eixo||0),adicao:HP(s.adicao||0),dnp:String(s.dnp||0),altura:String(a.armacao.alturaMontagemOE||0),codigoLinhaProduto:"",tipoProducao:"",tipoProduto:"",eixoPrismaHorizontal:l?i.oeLonge.base:void 0,valorPrismaHorizontal:l?String(i.oeLonge.prisma):void 0,eixoPrismaVertical:d?i.oeLonge.base:void 0,valorPrismaVertical:d?String(i.oeLonge.prisma):void 0}},armacao:{vertical:String(a.armacao.altura||""),horizontal:String(a.armacao.diagonal||""),ponte:String(a.armacao.ponte||""),diametroMaior:String(a.armacao.diagonal||""),tipo:"1",modelo:"",cor:"",marca:"",referencia:""},parametros:{olhoDireito:{dnpPerto:String(i.odPerto.di||0),distanciaVertice:"",cro:"",anguloPantoscopico:"",anguloCurvatura:"",distanciaLeitura:"",coeficienteHE:"",coeficienteST:"",distanciaProgressao:"",cvp:"",vmap:""},olhoEsquerdo:{dnpPerto:String(i.oePerto.di||0),distanciaVertice:"",cro:"",anguloPantoscopico:"",anguloCurvatura:"",distanciaLeitura:"",coeficienteHE:"",coeficienteST:"",distanciaProgressao:"",cvp:"",vmap:""},olhoDominante:""},paciente:{nome:"",cpf:"",iniciaisPaciente:""},medico:{nome:"",crm:""},vendedor:{nome:"",cpf:""}},ei.log("gerarJsonPedido",{json:u,envelope:a,venda:o,receita:i}),e.abrupt("return",{json:u,envelope:a,envelopeOriginal:t,venda:o,receita:i,olhoDireito:{detalheProduto:{},opcoesProdutos:[],opcoesTratamentos:[]},olhoEsquerdo:{detalheProduto:{},opcoesProdutos:[],opcoesTratamentos:[]}});case 74:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},GP={Processando:[],"Translado Loja para Pedido":[],"Translado Pedido para Loja":[],"Aguardando Retorno":[],"Processando Montagem":[],"Pronto para Entrega":[],"Cliente Informado":[],Entregue:[]},JP={components:{BarraTopo:El,Badge:Bd,Campo:Sl,EnvelopeTrocarStatus:XM,EssilorConsultarPedido:bP,EssilorConsultarPedidos:IP,EssilorConsultarStatusPedido:MP,EssilorPedidoLaboratorio:UP,ModalHistoricoStatus:Nv,draggable:ay.a},data:function(){return{sistemaPai:"",showfilters:!0,empresaOpcoes:[],empresaSelecionada:null,entregueFim:new Date((new Date).toDateString()),entregueInicio:new Date((new Date).toDateString()),essilorPedido:null,fraseFiltro:"",laboratoriosEssilor:null,listas:ea(GP),modalEssilorConsultarPedido:!1,modalEssilorConsultarPedidos:!1,modalEssilorConsultarStatusPedido:!1,modalEssilorPedidoLaboratorio:!1,pedidoLaboratorioEssilor:{},trocarStatusDados:{},trocarStatusModal:!1,periodoOpcoes:[{label:"Hoje",value:0},{label:"Uma semana",value:7},{label:"Um mês",value:30}],prazoSelecionado:null,prazoOpcoes:[{label:"Em dia",value:"bordaVerdeEnvelope"},{label:"Entrega para esta semana",value:"bordaAmarelaEnvelope"},{label:"Entrega atrasada",value:"bordaVermelhaEnvelope"}],modalHistoricoStatus:{},tamanhoLista:{},listasFiltradas:ea(GP),help:{show:!1,src:"",title:"",map:{admEnvelope:{src:"https://www.youtube.com/embed/Tmtsr4o7nuo",title:"Videoaula OptiSoul: Adm. de Envelope"}}}}},methods:{scrollHandler:function(e,t){var a=e.target.scrollHeight-e.target.scrollTop-e.target.offsetHeight;a<100&&(this.tamanhoLista[t]+=10,this.listasFiltradas[t]=this.listas[t].filter(function(e){return e.mostra}).slice(0,this.tamanhoLista[t]))},abrirEssilorConsultarPedidos:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.modalEssilorConsultarPedidos=!0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),eventoEnd:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(this.listasFiltradas);case 1:if((e.t1=e.t0()).done){e.next=40;break}t=e.t1.value,a=!0,o=!1,i=void 0,e.prev=6,r=this.listasFiltradas[t][Symbol.iterator]();case 8:if(a=(s=r.next()).done){e.next=24;break}if(n=s.value,n.status===t){e.next=21;break}return ei.log("AdmEnvelope","eventoEnd De:",n.status,"Para:",t,"codigo:",n.codigoDocumento),c=["Aguardando Retorno","Processando Montagem","Pronto para Entrega","Cliente Informado","Entregue"].includes(t),e.next=15,Zn.configuracoes.leOnline({nome:"compras.lentes.pedidoautomatico"});case 15:return l=e.sent,d="1"===l[0].valor&&["Aguardando Retorno","Processando Montagem","Pronto para Entrega","Cliente Informado","Entregue"].includes(t),u=this.laboratoriosEssilor.includes(n.codigoLaboratorio),this.trocarStatusDados={envelope:n,codigoContatoResponsavel:n.codigoContatoResponsavel,codigoDocumento:n.codigoDocumento,codigoLaboratorio:n.codigoLaboratorio,codigoLaboratorioOriginal:n.codigoLaboratorio,codigoUsuario:null,gerarPedido:!1,mostraGerarPedido:d,mostraLaboratorio:c,gerarPedidoEssilor:!1,mostraGerarPedidoEssilor:u,laboratoriosEssilor:this.laboratoriosEssilor,nomeCliente:n.nomeCliente,nomeLaboratorio:n.nomeLaboratorio,observacao:"",statusAtual:n.status,statusNovo:t},this.trocarStatusModal=!0,e.abrupt("return");case 21:a=!0,e.next=8;break;case 24:e.next=30;break;case 26:e.prev=26,e.t2=e["catch"](6),o=!0,i=e.t2;case 30:e.prev=30,e.prev=31,a||null==r.return||r.return();case 33:if(e.prev=33,!o){e.next=36;break}throw i;case 36:return e.finish(33);case 37:return e.finish(30);case 38:e.next=1;break;case 40:case"end":return e.stop()}},e,this,[[6,26,30,38],[31,,33,37]])}));return function(){return e.apply(this,arguments)}}(),eventoConfirmarTroca:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("AdmEnvelope","eventoConfirmaTroca",at()({},t)),this.$q.loading.show(),e.prev=2,e.next=5,Zn.usuario.leOnline(Zn.usuario.logado.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1=[];case 8:if(e.t0=e.t1[0],e.t0){e.next=11;break}e.t0={};case 11:return a=e.t0,t.codigoUsuario=a.codigoUsuario,e.next=15,Zn.envelope.trocaStatusOnline(t);case 15:if(this.$q.notifyPositive("Status trocado com sucesso"),t.codigoLaboratorio===t.codigoLaboratorioOriginal){e.next=21;break}return e.next=19,Zn.envelope.gravaLaboratorioOnline(t);case 19:o=e.sent,o&&o.length&&o[0].cnpjLaboratorio&&(t.envelope.cnpjLaboratorio=Pa(o[0].cnpjLaboratorio||""),t.envelope.codigoLaboratorio=t.codigoLaboratorio);case 21:if(!t.gerarPedido){e.next=25;break}return e.next=24,Zn.envelope.comprasPedidoViaEnvelopeOnline(t);case 24:this.$q.notifyPositive("Pedido de compra gerado");case 25:t.gerarPedidoEssilor&&this.abrirEssilorPedidoLaboratorio(t.envelope),this.atualiza(),e.next=32;break;case 29:e.prev=29,e.t2=e["catch"](2),this.$q.notifyError("Erro na troca de status",e.t2);case 32:return e.prev=32,this.$q.loading.hide(),e.finish(32);case 35:case"end":return e.stop()}},e,this,[[2,29,32,35]])}));return function(t){return e.apply(this,arguments)}}(),eventoCancelarTroca:function(e){ei.log("AdmEnvelope","eventoCancelarTroca",e),this.atualiza()},empresaOpcoesCarregar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("AdmEnvelope","empresaOpcoesCarregar()"),e.next=3,Zn.empresa.leOnline();case 3:e.t0=function(e){return{label:e.nome,value:e.codigoContato}},this.empresaOpcoes=e.sent.map(e.t0);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),filtraDebounce:function(){Object(ot["debounce"])(this.refazFiltro,700)()},irParaAtendimento:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He().contato.where({codigoContato:t}).first();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:a=e.t0,a.id&&this.$router.push({name:"Atendimento",params:{id:a.id}});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),refazFiltro:function(){ei.log("AdmEnvelopes","refazFiltro()",this.fraseFiltro,this.empresaSelecionada);var e=oo(this.fraseFiltro.toUpperCase()).split(" ").filter(function(e){return""!==e});for(var t in this.listas){var a=!0,o=!1,i=void 0;try{for(var r,s=this.listas[t][Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var n=r.value,c=oo(n.id.toUpperCase()+n.nomeCliente.toUpperCase()+n.nomeResponsavel.toUpperCase()+n.nomeLaboratorio.toUpperCase()+" "+String(n.numeroVenda)+"  "+String(n.numeroEnvelope)+" "),l=!0,d=!0,u=!1,m=void 0;try{for(var p,v=e[Symbol.iterator]();!(d=(p=v.next()).done);d=!0){var h=p.value;l=isNaN(Number(h))?l&&c.includes(h):l&&c.includes(" "+h+" ")}}catch(e){u=!0,m=e}finally{try{d||null==v.return||v.return()}finally{if(u)throw m}}this.empresaSelecionada&&(l=l&&this.empresaSelecionada===n.codigoEmpresa),n.mostra=l}}catch(e){o=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}}for(var f in this.listas)this.listasFiltradas[f]=this.listas[f].filter(function(e){return e.mostra}).slice(0,this.tamanhoLista[f])},exibirHistorico:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.$q.loading.show({message:"Processando"}),e.next=4,Zn.documentoStatus.leHistoricoOnline(t);case 4:if(a=e.sent,a.status.length){e.next=8;break}return this.$q.notify({type:"warning",message:"Não há histórico disponível."}),e.abrupt("return");case 8:return this.modalHistoricoStatus.activated||(this.modalHistoricoStatus={activated:!0}),e.next=11,this.$nextTick();case 11:this.modalHistoricoStatus=at()({},this.modalHistoricoStatus,{show:!0},a),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),this.$q.notify({type:"negative",message:e.t0.message});case 17:return e.prev=17,this.$q.loading.hide(),e.finish(17);case 20:case"end":return e.stop()}},e,this,[[0,14,17,20]])}));return function(t){return e.apply(this,arguments)}}(),abrirEssilorConsultarPedido:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:try{ei.log("AdmEnvelopes","abrirEssilorConsultarPedido",t),this.essilorPedido=t,this.modalEssilorConsultarPedido=!0}catch(e){this.$q.notifyError("Erro na consulta",e)}case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),abrirEssilorConsultarStatusPedido:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:try{ei.log("AdmEnvelopes","abrirEssilorConsultarStatusPedido",t),this.essilorPedido=t,this.modalEssilorConsultarStatusPedido=!0}catch(e){this.$q.notifyError("Erro na consulta",e)}case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),abrirEssilorPedidoLaboratorio:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,ei.log("AdmEnvelopes","abrirEssilorPedidoLaboratorio",t),this.$q.loading.show({message:"Consultando"}),e.next=5,QP.gerar(t);case 5:this.pedidoLaboratorioEssilor=e.sent,this.modalEssilorPedidoLaboratorio=!0,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),this.$q.notifyError("Erro na consulta",e.t0);case 12:return e.prev=12,this.$q.loading.hide(),e.finish(12);case 15:case"end":return e.stop()}},e,this,[[0,9,12,15]])}));return function(t){return e.apply(this,arguments)}}(),atualiza:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(t in GP)this.tamanhoLista[t]||this.$set(this.tamanhoLista,t,10);return e.prev=1,e.next=4,this.$utils.geeksApi({envelopes:{funcao:"978EC61B-EA4C-4479-B064-560C3ED3A7AB",entregueInicio:this.entregueInicio,entregueFim:this.entregueFim}});case 4:if(o=e.sent,a=this._.get(o,"data.envelopes"),this.$utils.verificarExcecao(!a||a.error,this._.get(a,"message")),ei.log("AdmEnvelopes","geeksApi()",a.length),Do(!a||!a.length,"Não há envelopes"),this.laboratoriosEssilor){e.next=15;break}return e.next=12,Zn.configuracoes.leLista("compra.essilor.webservice");case 12:i=e.sent,this.laboratoriosEssilor=po(i,"valor").map(function(e){return Number(e)}),ei.log("AdmEnvelopes","laboratoriosEssilor",la()(this.laboratoriosEssilor));case 15:for(r=ea(GP),s=!0,n=!1,c=void 0,e.prev=19,l=a[Symbol.iterator]();!(s=(d=l.next()).done);s=!0)u=d.value,m="bordaVerdeEnvelope",p="",v="Normal","Entregue"===u.status?u.dataHoraPrevisto&&u.dataHoraFinalizado&&(h=new Date(new Date(u.dataHoraPrevisto).toDateString()),f=new Date(new Date(u.dataHoraFinalizado).toDateString()),C=(f-h)/864e5,m=C>=0?"bordaVermelhaEnvelope":C>-7?"bordaAmarelaEnvelope":"bordaVerdeEnvelope",p=C>=0?"negative":C>-7?"warning":"",v=C>=0?"Atrasado":C>-7?"Atenção":"Normal"):u.dataHoraPrevisto&&(b=new Date(new Date(u.dataHoraPrevisto).toDateString()),g=new Date((new Date).toDateString()),x=(g-b)/864e5,m=x>=0?"bordaVermelhaEnvelope":x>-7?"bordaAmarelaEnvelope":"bordaVerdeEnvelope",p=x>=0?"negative":x>-7?"warning":"",v=x>=0?"Atrasado":x>-7?"Atenção":"Normal"),_={id:u.id,codigoCompra:u.codigoCompra||"-",codigoContatoResponsavel:u.codigoContatoResponsavel,codigoDocumento:u.codigoDocumento,codigoEmpresa:u.codigoEmpresa,idEmpresa:u.idEmpresa,descricaoEmpresa:u.descricaoEmpresa,codigoContato:u.codigoContato,codigoLaboratorio:u.codigoLaboratorio,numeroOrdemCompra:u.numeroOrdemCompra,corBorda:m,corLabel:p,txtLabel:v,dataHoraEmissao:new Date(u.dataHoraEmissao),dataHoraFinalizado:new Date(u.dataHoraFinalizado),dataHoraRetorno:new Date(u.dataHoraRetorno),dataHoraPrevisto:new Date(u.dataHoraPrevisto),mostra:!0,nomeCliente:u.nomeCliente||"-",nomeLaboratorio:u.nomeLaboratorio||"",cnpjLaboratorio:Pa(u.cnpjLaboratorio||""),nomeResponsavel:u.nomeResponsavel||"-",numeroVenda:u.numeroVenda||"-",numeroEnvelope:u.numeroEnvelope||"-",status:u.status},r[u.status]&&r[u.status].push(_);e.next=27;break;case 23:e.prev=23,e.t0=e["catch"](19),n=!0,c=e.t0;case 27:e.prev=27,e.prev=28,s||null==l.return||l.return();case 30:if(e.prev=30,!n){e.next=33;break}throw c;case 33:return e.finish(30);case 34:return e.finish(27);case 35:this.listas=r,this.refazFiltro(),e.next=42;break;case 39:e.prev=39,e.t1=e["catch"](1),this.$q.notifyError("Erro na consulta online de envelopes",e.t1);case 42:case"end":return e.stop()}},e,this,[[1,39],[19,23,27,35],[28,,30,34]])}));return function(){return e.apply(this,arguments)}}(),showHelp:function(e){this.help.src=this.help.map[e].src,this.help.title=this.help.map[e].title,this.help.show=!0}},watch:{entregueInicio:function(){ei.log("AdmEnvelopes","entregueInicio"),this.atualiza()},entregueFim:function(){ei.log("AdmEnvelopes","entregueFim"),this.atualiza()}},created:function(){ei.log("AdmEnvelopes","created()"),this.sistemaPai=co(),this.atualiza()}},XP=JP,YP=(a("13ff"),Object(sc["a"])(XP,LM,VM,!1,null,"18365031",null));YP.options.__file="AdmEnvelopes.vue";var WP=YP.exports,ZP=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"AdmOS"},[a("barra-topo"),a("q-page-container",[a("q-page",[a("q-toolbar",{staticClass:"q-py-sm q-my-sm",attrs:{color:"none"}},[a("q-toolbar-title",[e._v("Adm. OS")]),a("q-btn",{staticClass:" no-shadow u-semClique",attrs:{icon:"mdi-filter",round:"",color:"primary",inverted:""},on:{click:function(t){e.showfilters=!e.showfilters}}})],1),a("q-layout-drawer",{attrs:{overlay:"",side:"right"},model:{value:e.showfilters,callback:function(t){e.showfilters=t},expression:"showfilters"}},[a("q-toolbar",{attrs:{color:"white","text-color":"faded"}},[a("q-icon",{attrs:{name:"mdi-filter",color:"faded"}}),a("q-toolbar-title",[e._v(" Filtrar")]),a("q-btn",{attrs:{dense:"",flat:"",icon:"close",round:""},on:{click:function(t){e.showfilters=!e.showfilters}}})],1),a("div",{staticClass:"col-12 q-px-md q-mt-md"},[a("q-input",{staticClass:"no-shadow",attrs:{color:"white",placeholder:"Por cliente ou responsável"},on:{input:e.filtraDebounce},model:{value:e.fraseFiltro,callback:function(t){e.fraseFiltro=t},expression:"fraseFiltro"}})],1),a("div",{staticClass:"col-12 q-px-sm q-my-md"},[a("q-select",{staticClass:"q-mx-sm",attrs:{options:e.prazoOpcoes,clearable:"",placeholder:"Por prazo"},model:{value:e.prazoSelecionado,callback:function(t){e.prazoSelecionado=t},expression:"prazoSelecionado"}})],1),a("div",{staticClass:"col-12 q-px-sm"},[a("q-select",{staticClass:"q-mx-sm",attrs:{options:e.empresaOpcoes,clearable:"",placeholder:"Por empresa"},on:{input:e.refazFiltro},nativeOn:{click:function(t){return e.empresaOpcoesCarregar(t)}},model:{value:e.empresaSelecionada,callback:function(t){e.empresaSelecionada=t},expression:"empresaSelecionada"}})],1)],1),a("div",{staticClass:"row overflowXOS filterfalse"},e._l(e.listas,function(t,o){return a("div",{key:o,staticClass:"no-shadow q-py-sm col q-px-none coluna"},[a("div",{staticClass:"q-pa-none"},[a("q-toolbar",{staticClass:"no-shadow q-py-none q-px-sm"},[a("q-toolbar-title",{staticClass:"q-py-none"},[e._v("\n                "+e._s(o)+"\n              ")])],1),"Entregue"===o?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 q-px-none"},[a("campo",{staticClass:"q-mx-sm",attrs:{rotulo:"Início",tipo:"data"},model:{value:e.entregueInicio,callback:function(t){e.entregueInicio=t},expression:"entregueInicio"}}),a("campo",{staticClass:"q-mx-sm",attrs:{rotulo:"Fim",tipo:"data"},model:{value:e.entregueFim,callback:function(t){e.entregueFim=t},expression:"entregueFim"}})],1)]):e._e(),a("draggable",{staticClass:"dragAreaOS",attrs:{delay:"250",list:t,group:"osGroup",draggable:".extratoOS"},on:{end:e.eventoEnd}},e._l(t,function(t){return!t.mostra||null!==e.prazoSelecionado&&e.prazoSelecionado!==t.corBorda?e._e():a("q-card",{key:t.codigoDocumento,staticClass:"q-pa-sm q-pb-md q-my-sm q-mb-md shadow-1 extratoOS bg-white",class:t.corBorda},[a("div",{staticClass:"row q-mt-xs"},[a("div",{staticClass:"col-6"},[t.corLabel?a("badge",{staticClass:"q-mx-xs",attrs:{cor:t.corLabel,escuro:"",rotulo:t.txtLabel}}):a("badge",{staticClass:"q-mx-xs",attrs:{rotulo:t.txtLabel}})],1),a("div",{staticClass:"col-6 justify-end q-pr-xs",staticStyle:{display:"flex"}},[a("badge",{staticClass:"q-mx-sm ",attrs:{cor:"grey-1",icone:"shopping_cart",rotulo:t.numeroVenda}}),a("badge",{attrs:{cor:"grey-8",escuro:"",icone:"assignment_turned_in",rotulo:t.numeroOS}})],1)]),a("q-card-title",{staticClass:"q-pa-xs "},[a("div",{staticClass:"q-subheading"},[e._v(e._s(t.nomeCliente))]),a("span",{staticClass:"q-caption",attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n                    "+e._s(t.descricao)+"\n                  ")])]),a("q-card-main",{staticClass:"row q-pa-xs q-pb-none q-mt-md"},[a("div",{staticClass:"col-11"},[t.descricaoEmpresa?a("div",{staticStyle:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},[a("q-icon",{attrs:{name:"business",color:"grey-7",size:"14px"}}),a("q-tooltip",[e._v("\n                        "+e._s(t.descricaoEmpresa)+"\n                      ")])],1):e._e(),a("div",{staticStyle:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},[a("q-icon",{attrs:{name:"person",color:"grey-7",size:"14px"}})],1),a("div",{staticClass:"q-caption",staticStyle:{display:"inline-block","margin-right":"6px"}},[e._v(e._s(t.nomeResponsavel)+"\n                    ")]),a("div",{staticStyle:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},[a("q-icon",{attrs:{name:"calendar_today",color:"grey-7",size:"14px"}})],1),a("div",{staticClass:"q-caption",staticStyle:{display:"inline-block"}},[e._v("\n                      "+e._s(e._f("data")(t.dataHoraFinalizado>new Date("1970-01-01T00:00:00.000Z")?t.dataHoraFinalizado:t.dataHoraPrevisto))+"\n                      "),a("q-tooltip",[e._v("\n                        "+e._s(t.dataHoraFinalizado>new Date("1970-01-01T00:00:00.000Z")?"Finalizado em":"Previsto para")+"\n                      ")])],1)]),a("div",{staticClass:"col-1 self-end"},[a("q-icon",{staticStyle:{color:"grey",float:"right","text-align":"right","font-size":"1.2rem",cursor:"pointer"},attrs:{name:"more_vert",color:"blue-grey-6",onMouseOver:"this.style.color='black'",onMouseOut:"this.style.color='grey'"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{link:"",separator:""}},[a("q-item",{nativeOn:{click:function(a){e.$refs.modalHistoricoStatus.exibirHistorico(t.id)}}},[a("q-item-side",{attrs:{icon:"history"}}),a("q-item-main",{attrs:{label:"Histórico do Status"}})],1),a("q-item",{nativeOn:{click:function(a){e.irParaAtendimento(t.codigoContato)}}},[a("q-item-side",{attrs:{icon:"launch"}}),a("q-item-main",{attrs:{label:"Ir para o Atendimento"}})],1)],1)],1)],1)],1)])],1)}))],1)])})),a("OS-trocar-status",{attrs:{dados:e.trocarStatusDados},on:{confirmar:e.eventoConfirmarTroca,cancelar:e.eventoCancelarTroca},model:{value:e.trocarStatusModal,callback:function(t){e.trocarStatusModal=t},expression:"trocarStatusModal"}}),a("modal-historico-status",{ref:"modalHistoricoStatus"})],1)],1)],1)},KP=[];ZP._withStripped=!0;var eD={components:{BarraTopo:El,Badge:Bd,Campo:Sl,OSTrocarStatus:ey,ModalHistoricoStatus:Nv,draggable:ay.a},data:function(){return{drawer:!0,showfilters:!0,empresaOpcoes:[],empresaSelecionada:null,entregueInicio:new Date(new Date(na()).toDateString()),entregueFim:new Date(new Date(na()).toDateString()),fraseFiltro:"",listas:{Processando:[],Entregue:[]},trocarStatusDados:{},trocarStatusModal:!1,periodoOpcoes:[{label:"Hoje",value:0},{label:"Uma semana",value:7},{label:"Um mês",value:30}],prazoSelecionado:null,prazoOpcoes:[{label:"Em dia",value:"bordaVerdeOS"},{label:"Entrega para esta semana",value:"bordaAmarelaOS"},{label:"Entrega atrasada",value:"bordaVermelhaOS"}]}},methods:{eventoEnd:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(this.listas);case 1:if((e.t1=e.t0()).done){e.next=34;break}t=e.t1.value,a=!0,o=!1,i=void 0,e.prev=6,r=this.listas[t][Symbol.iterator]();case 8:if(a=(s=r.next()).done){e.next=18;break}if(n=s.value,n.status===t){e.next=15;break}return ei.log("AdmOS","eventoEnd De:",n.status,"Para:",t,"codigo:",n.codigoDocumento),this.trocarStatusDados={codigoContatoResponsavel:n.codigoContatoResponsavel,codigoDocumento:n.codigoDocumento,codigoUsuario:null,nomeCliente:n.nomeCliente,observacao:"",statusAtual:n.status,statusNovo:t},this.trocarStatusModal=!0,e.abrupt("return");case 15:a=!0,e.next=8;break;case 18:e.next=24;break;case 20:e.prev=20,e.t2=e["catch"](6),o=!0,i=e.t2;case 24:e.prev=24,e.prev=25,a||null==r.return||r.return();case 27:if(e.prev=27,!o){e.next=30;break}throw i;case 30:return e.finish(27);case 31:return e.finish(24);case 32:e.next=1;break;case 34:case"end":return e.stop()}},e,this,[[6,20,24,32],[25,,27,31]])}));return function(){return e.apply(this,arguments)}}(),eventoConfirmarTroca:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("AdmOS","eventoConfirmaTroca",at()({},t)),this.$q.loading.show(),e.prev=2,e.next=5,Zn.usuario.leOnline(Zn.usuario.logado.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1=[];case 8:if(e.t0=e.t1[0],e.t0){e.next=11;break}e.t0={};case 11:return a=e.t0,t.codigoUsuario=a.codigoUsuario,e.next=15,Zn.os.trocaStatusOnline(t);case 15:this.$q.notifyPositive("Status trocado com sucesso"),this.atualiza(),e.next=22;break;case 19:e.prev=19,e.t2=e["catch"](2),this.$q.notifyError("Erro na troca de status",e.t2);case 22:return e.prev=22,this.$q.loading.hide(),e.finish(22);case 25:case"end":return e.stop()}},e,this,[[2,19,22,25]])}));return function(t){return e.apply(this,arguments)}}(),eventoCancelarTroca:function(e){ei.log("AdmOS","eventoCancelarTroca",e),this.atualiza()},empresaOpcoesCarregar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("AdmOS","empresaOpcoesCarregar()"),e.next=3,Zn.empresa.leOnline();case 3:e.t0=function(e){return{label:e.nome,value:e.codigoContato}},this.empresaOpcoes=e.sent.map(e.t0);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),filtraDebounce:function(){Object(ot["debounce"])(this.refazFiltro,700)()},refazFiltro:function(){ei.log("AdmOSs","refazFiltro()",this.fraseFiltro,this.empresaSelecionada);var e=oo(this.fraseFiltro.toUpperCase()).split(" ").filter(function(e){return""!==e});for(var t in this.listas){var a=!0,o=!1,i=void 0;try{for(var r,s=this.listas[t][Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var n=r.value,c=oo(n.id.toUpperCase()+n.nomeCliente.toUpperCase()+n.nomeResponsavel.toUpperCase()+" "+String(n.numeroVenda)+"  "+String(n.numeroOS)+" "),l=!0,d=!0,u=!1,m=void 0;try{for(var p,v=e[Symbol.iterator]();!(d=(p=v.next()).done);d=!0){var h=p.value;l=isNaN(Number(h))?l&&c.includes(h):l&&c.includes(" "+h+" ")}}catch(e){u=!0,m=e}finally{try{d||null==v.return||v.return()}finally{if(u)throw m}}this.empresaSelecionada&&(l=l&&this.empresaSelecionada===n.codigoEmpresa),n.mostra=l}}catch(e){o=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}}},atualiza:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zn.os.leAdmOSOnline({entregueInicio:this.entregueInicio,entregueFim:this.entregueFim});case 3:return t=e.sent,ei.log("AdmOS","atualiza()",t.length),Do(!t||!t.length,"Não há ordens de serviço"),e.next=8,Zn.configuracoes.le({nome:"vendas.os.status"});case 8:for(a=e.sent,a=a.filter(function(e){return!["Processando","Entregue"].includes(e.texto)}),o={Processando:[]},i=!0,r=!1,s=void 0,e.prev=14,n=Object(ot["orderBy"])(a,"valor","asc").map(function(e){return e.texto})[Symbol.iterator]();!(i=(c=n.next()).done);i=!0)l=c.value,o[l]=[];e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](14),r=!0,s=e.t0;case 22:e.prev=22,e.prev=23,i||null==n.return||n.return();case 25:if(e.prev=25,!r){e.next=28;break}throw s;case 28:return e.finish(25);case 29:return e.finish(22);case 30:for(o["Entregue"]=[],d=!0,u=!1,m=void 0,e.prev=34,p=t[Symbol.iterator]();!(d=(v=p.next()).done);d=!0)h=v.value,f="bordaVerdeOS",C="",b="Normal","Entregue"===h.status?h.dataHoraPrevisto&&h.dataHoraFinalizado&&(g=new Date(new Date(h.dataHoraPrevisto).toDateString()),x=new Date(new Date(h.dataHoraFinalizado).toDateString()),_=(x-g)/864e5,f=_>=0?"bordaVermelhaOS":_>-7?"bordaAmarelaOS":"bordaVerdeOS",C=_>=0?"negative":_>-7?"warning":"",b=_>=0?"Atrasado":_>-7?"Atenção":"Normal"):h.dataHoraPrevisto&&(q=new Date(new Date(h.dataHoraPrevisto).toDateString()),S=new Date((new Date).toDateString()),I=(S-q)/864e5,f=I>=0?"bordaVermelhaOS":I>-7?"bordaAmarelaOS":"bordaVerdeOS",C=I>=0?"negative":I>-7?"warning":"",b=I>=0?"Atrasado":I>-7?"Atenção":"Normal"),F={id:h.id,codigoCompra:h.codigoCompra||"-",codigoContatoResponsavel:h.codigoContatoResponsavel,codigoDocumento:h.codigoDocumento,codigoContato:h.codigoContato,codigoEmpresa:h.codigoEmpresa,descricaoEmpresa:h.descricaoEmpresa,descricao:h.descricao,corBorda:f,corLabel:C,txtLabel:b,dataHoraEmissao:new Date(h.dataHoraEmissao),dataHoraFinalizado:new Date(h.dataHoraFinalizado),dataHoraRetorno:new Date(h.dataHoraRetorno),dataHoraPrevisto:new Date(h.dataHoraPrevisto),mostra:!0,nomeCliente:h.nomeCliente||"-",nomeResponsavel:h.nomeResponsavel||"-",numeroVenda:h.numeroVenda?String(h.numeroVenda):"-",numeroOS:h.numeroOS?String(h.numeroOS):"-",status:h.status},o[h.status]&&o[h.status].push(F);e.next=42;break;case 38:e.prev=38,e.t1=e["catch"](34),u=!0,m=e.t1;case 42:e.prev=42,e.prev=43,d||null==p.return||p.return();case 45:if(e.prev=45,!u){e.next=48;break}throw m;case 48:return e.finish(45);case 49:return e.finish(42);case 50:this.listas=o,this.refazFiltro(),e.next=57;break;case 54:e.prev=54,e.t2=e["catch"](0),this.$q.notifyError("Erro na consulta online de oss",e.t2);case 57:case"end":return e.stop()}},e,this,[[0,54],[14,18,22,30],[23,,25,29],[34,38,42,50],[43,,45,49]])}));return function(){return e.apply(this,arguments)}}(),irParaAtendimento:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He().contato.where({codigoContato:t}).first();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:a=e.t0,a.id&&this.$router.push({name:"Atendimento",params:{id:a.id}});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},watch:{entregueInicio:function(){ei.log("AdmOSs","entregueInicio"),this.atualiza()},entregueFim:function(){ei.log("AdmOSs","entregueFim"),this.atualiza()}},created:function(){ei.log("AdmOSs","created()"),this.atualiza()}},tD=eD,aD=(a("1a49"),Object(sc["a"])(tD,ZP,KP,!1,null,"7006a63e",null));aD.options.__file="AdmOS.vue";var oD=aD.exports,iD=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"AdmCustom"},[a("barra-topo"),a("q-page-container",[a("q-page",[a("q-toolbar",{staticClass:"q-py-sm q-my-sm",attrs:{color:"none"}},[a("q-toolbar-title",[e._v("Adm. Custom")]),a("q-btn",{staticClass:" no-shadow u-semClique",attrs:{icon:"mdi-filter",round:"",color:"primary",inverted:""},on:{click:function(t){e.showfilters=!e.showfilters}}})],1),a("q-layout-drawer",{attrs:{overlay:"",side:"right"},model:{value:e.showfilters,callback:function(t){e.showfilters=t},expression:"showfilters"}},[a("q-toolbar",{attrs:{color:"white","text-color":"faded"}},[a("q-icon",{attrs:{name:"mdi-filter",color:"faded"}}),a("q-toolbar-title",[e._v(" Filtrar")]),a("q-btn",{attrs:{dense:"",flat:"",icon:"close",round:""},on:{click:function(t){e.showfilters=!e.showfilters}}})],1),a("div",{staticClass:"col-12 q-px-md q-mt-md"},[a("q-input",{staticClass:"no-shadow",attrs:{color:"white",placeholder:"Por cliente ou responsável"},on:{input:e.filtraDebounce},model:{value:e.fraseFiltro,callback:function(t){e.fraseFiltro=t},expression:"fraseFiltro"}})],1),a("div",{staticClass:"col-12 q-px-sm q-my-md"},[a("q-select",{staticClass:"q-mx-sm",attrs:{options:e.prazoOpcoes,clearable:"",placeholder:"Por prazo"},model:{value:e.prazoSelecionado,callback:function(t){e.prazoSelecionado=t},expression:"prazoSelecionado"}})],1),a("div",{staticClass:"col-12 q-px-sm"},[a("q-select",{staticClass:"q-mx-sm",attrs:{options:e.empresaOpcoes,clearable:"",placeholder:"Por empresa"},on:{input:e.refazFiltro},nativeOn:{click:function(t){return e.empresaOpcoesCarregar(t)}},model:{value:e.empresaSelecionada,callback:function(t){e.empresaSelecionada=t},expression:"empresaSelecionada"}})],1)],1),a("div",{staticClass:"row overflowXCustom filterfalse"},e._l(e.listas,function(t,o){return a("div",{key:o,staticClass:"no-shadow col q-pa-none coluna"},[a("div",{staticClass:" q-pa-none"},[a("q-toolbar",{staticClass:"no-shadow q-py-none q-px-sm"},[a("q-toolbar-title",{staticClass:"q-py-none"},[e._v("\n                "+e._s(o)+"\n              ")])],1),"Entregue"===o?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 q-pl-none"},[a("campo",{staticClass:"q-mx-sm",attrs:{rotulo:"Início",tipo:"data"},model:{value:e.entregueInicio,callback:function(t){e.entregueInicio=t},expression:"entregueInicio"}}),a("campo",{staticClass:"q-mx-sm",attrs:{rotulo:"Fim",tipo:"data"},model:{value:e.entregueFim,callback:function(t){e.entregueFim=t},expression:"entregueFim"}})],1)]):e._e(),a("draggable",{staticClass:"dragAreaCustom ",attrs:{delay:"400",list:t,group:"customGroup",draggable:".extratoCustom"},on:{end:e.eventoEnd}},e._l(t,function(t){return!t.mostra||null!==e.prazoSelecionado&&e.prazoSelecionado!==t.corBorda?e._e():a("q-card",{key:t.codigoDocumento,staticClass:"q-pa-sm q-pb-md q-my-sm q-mb-md shadow-1 extratoCustom bg-white",class:t.corBorda},[a("div",{staticClass:"row q-mt-xs"},[a("div",{staticClass:"col-6"},[t.corLabel?a("badge",{staticClass:"q-mx-xs",attrs:{cor:t.corLabel,escuro:"",rotulo:t.txtLabel}}):a("badge",{staticClass:"q-mx-xs",attrs:{rotulo:t.txtLabel}})],1),a("div",{staticClass:"col-6 justify-end q-pr-xs",staticStyle:{display:"flex"}},[a("badge",{staticClass:"q-mx-sm ",attrs:{cor:"grey-1",icone:"shopping_cart",rotulo:t.numeroVenda}}),"-"!==t.codigoCompra?a("badge",{attrs:{cor:"light",icone:"mdi-factory"}},[e._v("\n                      "+e._s(t.codigoCompra)+"\n                    ")]):e._e(),a("badge",{attrs:{cor:"grey-8",escuro:"",icone:"assignment_turned_in",rotulo:t.codigoDocumento}})],1)]),a("q-card-title",{staticClass:"q-pa-xs "},[a("div",{staticClass:"q-subheading"},[e._v(e._s(t.nomeCliente))]),a("span",{staticClass:"q-caption",attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n                    "+e._s(t.descricao)+"\n                  ")])]),a("q-card-main",{staticClass:"row q-pa-xs q-pb-none q-mt-md"},[a("div",{staticClass:"col-11"},[t.descricaoEmpresa?a("div",{staticStyle:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},[a("q-icon",{attrs:{name:"business",color:"grey-7",size:"14px"}}),a("q-tooltip",[e._v("\n                        "+e._s(t.descricaoEmpresa)+"\n                      ")])],1):e._e(),t.nomeFornecedor?a("div",{staticStyle:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},[a("q-icon",{attrs:{name:"business",color:"grey-7",size:"14px"}})],1):e._e(),t.nomeFornecedor?a("div",{staticClass:"q-caption",staticStyle:{display:"inline-block","margin-right":"6px"}},[e._v(e._s(t.nomeFornecedor))]):e._e(),a("div",{staticStyle:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},[a("q-icon",{attrs:{name:"person",color:"grey-7",size:"14px"}})],1),a("div",{staticClass:"q-caption",staticStyle:{display:"inline-block","margin-right":"6px"}},[e._v(e._s(t.nomeVendedor)+"\n                    ")]),a("div",{staticStyle:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},[a("q-icon",{attrs:{name:"calendar_today",color:"grey-7",size:"14px"}})],1),a("div",{staticClass:"q-caption",staticStyle:{display:"inline-block"}},[e._v("\n                      "+e._s(e._f("data")(t.dataHoraFinalizado>new Date("1970-01-01T00:00:00.000Z")?t.dataHoraFinalizado:t.dataHoraPrevisto))+"\n                      "),a("q-tooltip",[e._v("\n                        "+e._s(t.dataHoraFinalizado>new Date("1970-01-01T00:00:00.000Z")?"Finalizado em":"Previsto para")+"\n                      ")])],1)]),a("div",{staticClass:"col-1 self-end"},[a("q-icon",{staticStyle:{color:"grey",float:"right","text-align":"right","font-size":"1.2rem",cursor:"pointer"},attrs:{name:"more_vert",onMouseOver:"this.style.color='black'",onMouseOut:"this.style.color='grey'"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{link:"",separator:""}},[a("q-item",{nativeOn:{click:function(a){e.exibirProdutosServicos(t.codigoDocumento)}}},[a("q-item-side",{attrs:{icon:"view_list"}}),a("q-item-main",{attrs:{label:"Produtos e Serviços"}})],1),a("q-item",{nativeOn:{click:function(a){e.exibirHistorico(t.codigoDocumento)}}},[a("q-item-side",{attrs:{icon:"history"}}),a("q-item-main",{attrs:{label:"Histórico do Status"}})],1),a("q-item",{nativeOn:{click:function(a){e.irParaAtendimento(t.codigoContato)}}},[a("q-item-side",{attrs:{icon:"launch"}}),a("q-item-main",{attrs:{label:"Ir para o Atendimento"}})],1)],1)],1)],1)],1)])],1)}))],1)])})),a("custom-trocar-status",{attrs:{dados:e.trocarStatusDados},on:{confirmar:e.eventoConfirmarTroca,cancelar:e.eventoCancelarTroca},model:{value:e.trocarStatusModal,callback:function(t){e.trocarStatusModal=t},expression:"trocarStatusModal"}}),e.modalHistoricoStatus.activated?a("modal-historico-status",{attrs:{dados:e.modalHistoricoStatus}}):e._e(),e.modalProdutosServicos.activated?a("modal-produtos-servicos",{attrs:{dados:e.modalProdutosServicos}}):e._e()],1)],1)],1)},rD=[];iD._withStripped=!0;var sD=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{value:e.value},on:{input:e.eventoInput}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("Trocar status do Custom")])],1),a("form",{on:{submit:function(t){return t.preventDefault(),e.eventoConfirmar(t)}}},[a("div",{staticClass:"layout-padding"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{somenteLeitura:"",rotulo:"Cliente"},model:{value:e.dados.nomeCliente,callback:function(t){e.$set(e.dados,"nomeCliente",t)},expression:"dados.nomeCliente"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{somenteLeitura:"",rotulo:"De"},model:{value:e.dados.statusAtual,callback:function(t){e.$set(e.dados,"statusAtual",t)},expression:"dados.statusAtual"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{somenteLeitura:"",rotulo:"Para"},model:{value:e.dados.statusNovo,callback:function(t){e.$set(e.dados,"statusNovo",t)},expression:"dados.statusNovo"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{maxlength:"50",rotulo:"Observação"},model:{value:e.dados.observacao,callback:function(t){e.$set(e.dados,"observacao","string"===typeof t?t.trim():t)},expression:"dados.observacao"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"Gerar pedido de compra",tipo:"logico"},model:{value:e.dados.gerarPedido,callback:function(t){e.$set(e.dados,"gerarPedido",t)},expression:"dados.gerarPedido"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{value:e.dados.nomeFornecedor,somenteLeitura:"",before:[{icon:"search",handler:function(){return e.modalFornecedor=!0}}],rotulo:"Fornecedor",erro:e.fornecedorErro,erroRotulo:"Seleção de fornecedor obrigatória"},on:{click:function(t){e.modalFornecedor=!0}}})],1)]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:e.eventoCancelar}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Trocar"}})],1)])],1)],1)],1),a("prompt-contato-novo",{attrs:{filtro:{ativo:!0}},on:{selecionar:e.selecionarFornecedor},model:{value:e.modalFornecedor,callback:function(t){e.modalFornecedor=t},expression:"modalFornecedor"}})],1)},nD=[];sD._withStripped=!0;var cD={components:{Campo:Sl,PromptContatoNovo:Yd},data:function(){return{confirmado:!1,descricaoFornecedor:"",fornecedorErro:!1,modalFornecedor:!1}},methods:{eventoConfirmar:function(){ei.log("CustomTrocarStatus","eventoConfirmar",this.dados),this.dados.codigoFornecedor?(this.confirmado=!0,this.eventoInput(!1),this.$emit("confirmar",this.dados)):this.fornecedorErro=!0},eventoCancelar:function(){ei.log("CustomTrocarStatus","eventoCancelar",this.dados),this.confirmado=!1,this.eventoInput(!1)},eventoInput:function(e){this.$emit("input",e)},selecionarFornecedor:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:ei.log("CustomTrocarStatus","selecionarFornecedor",t,a),this.dados.codigoFornecedor=a.codigoContato,this.dados.nomeFornecedor=a.nome,this.fornecedorErro=!1;case 4:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},props:{value:{required:!0,type:Boolean},dados:{required:!0,type:Object}},watch:{value:function(e){e?(this.confirmado=!1,this.fornecedorErro=!1):this.confirmado||this.$emit("cancelar",this.dados)}}},lD=cD,dD=Object(sc["a"])(lD,sD,nD,!1,null,null,null);dD.options.__file="CustomTrocarStatus.vue";var uD=dD.exports,mD=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{model:{value:e.dados.show,callback:function(t){e.$set(e.dados,"show",t)},expression:"dados.show"}},[a("q-modal-layout",[a("q-toolbar",{staticClass:"q-pa-sm",attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("\n        "+e._s(e.dados.custom.descricao)+"\n        ")]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),a("q-list",{staticClass:"q-pl-sm q-pr-sm q-pt-lg q-pb-lg",attrs:{"no-border":"",dense:""}},[e._l(e.dados.produtos,function(t,o){return[o?a("q-item-separator",{key:o}):e._e(),a("q-item",{key:t.codigoDocumentoItem,attrs:{multiline:""}},[a("q-item-side",[a("avatar",{attrs:{imagem:t.imagem,rotulo:t.descricaoItem}})],1),a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[a("span",{staticClass:"q-body-2"},[e._v(e._s(t.descricaoItem))])]),t.quantidade?a("q-item-tile",{staticClass:"q-mt-sm",attrs:{sublabel:""}},[e._v("\n              Quantidade:\n              "+e._s(t.quantidade)+"\n            ")]):e._e(),t.referencia?a("q-item-tile",{staticClass:"q-mt-sm",attrs:{sublabel:""}},[e._v("\n              Ref:\n              "+e._s(t.referencia)+"\n            ")]):e._e(),t.observacao?a("q-item-tile",{staticClass:"q-mt-sm",attrs:{sublabel:""}},[e._v("\n              Obs:\n              "+e._s(t.observacao)+"\n            ")]):e._e()],1),t.codigoItem?a("q-item-side",{attrs:{right:""}},[a("q-item-tile",{attrs:{stamp:""}},[e._v("#"+e._s(t.codigoItem))])],1):e._e()],1)]})],2),e.dados.custom.observacao?a("q-card",{staticClass:"q-pa-sm"},[a("q-card-main",{staticClass:"q-body-1"},[a("dl",[a("dt",[e._v("Observação")]),a("dd",[e._v(e._s(e.dados.custom.observacao))])])])],1):e._e()],1)],1)},pD=[];mD._withStripped=!0;var vD={components:{Avatar:Fc},props:{dados:{type:Object,required:!0}}},hD=vD,fD=(a("cd67"),Object(sc["a"])(hD,mD,pD,!1,null,"1ffb9dc4",null));fD.options.__file="ModalProdutosServicos.vue";var CD=fD.exports,bD={components:{Badge:Bd,BarraTopo:El,Campo:Sl,CustomTrocarStatus:uD,ModalHistoricoStatus:Nv,ModalProdutosServicos:CD,draggable:ay.a},data:function(){return{showfilters:!0,empresaOpcoes:[],empresaSelecionada:null,entregueInicio:new Date(new Date(na()).toDateString()),entregueFim:new Date(new Date(na()).toDateString()),fraseFiltro:"",listas:{Processando:[],Entregue:[]},trocarStatusDados:{},trocarStatusModal:!1,periodoOpcoes:[{label:"Hoje",value:0},{label:"Uma semana",value:7},{label:"Um mês",value:30}],prazoSelecionado:null,prazoOpcoes:[{label:"Em dia",value:"bordaVerdeCustom"},{label:"Entrega para esta semana",value:"bordaAmarelaCustom"},{label:"Entrega atrasada",value:"bordaVermelhaCustom"}],modalHistoricoStatus:{},modalProdutosServicos:{}}},methods:{eventoEnd:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(this.listas);case 1:if((e.t1=e.t0()).done){e.next=34;break}t=e.t1.value,a=!0,o=!1,i=void 0,e.prev=6,r=this.listas[t][Symbol.iterator]();case 8:if(a=(s=r.next()).done){e.next=18;break}if(n=s.value,n.status===t){e.next=15;break}return ei.log("AdmCustom","eventoEnd De:",n.status,"Para:",t,"codigo:",n.codigoDocumento),this.trocarStatusDados={codigoContatoVendedor:n.codigoContatoVendedor,codigoDocumento:n.codigoDocumento,codigoFornecedor:n.codigoFornecedor,codigoFornecedorOriginal:n.codigoFornecedor,codigoUsuario:null,gerarPedido:!1,nomeCliente:n.nomeCliente,nomeFornecedor:n.nomeFornecedor,observacao:"",statusAtual:n.status,statusNovo:t},this.trocarStatusModal=!0,e.abrupt("return");case 15:a=!0,e.next=8;break;case 18:e.next=24;break;case 20:e.prev=20,e.t2=e["catch"](6),o=!0,i=e.t2;case 24:e.prev=24,e.prev=25,a||null==r.return||r.return();case 27:if(e.prev=27,!o){e.next=30;break}throw i;case 30:return e.finish(27);case 31:return e.finish(24);case 32:e.next=1;break;case 34:case"end":return e.stop()}},e,this,[[6,20,24,32],[25,,27,31]])}));return function(){return e.apply(this,arguments)}}(),eventoConfirmarTroca:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("AdmCustom","eventoConfirmaTroca",at()({},t)),this.$q.loading.show(),e.prev=2,e.next=5,Zn.usuario.leOnline(Zn.usuario.logado.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1=[];case 8:if(e.t0=e.t1[0],e.t0){e.next=11;break}e.t0={};case 11:return a=e.t0,t.codigoUsuario=a.codigoUsuario,e.next=15,Zn.custom.trocaStatusOnline(t);case 15:if(this.$q.notifyPositive("Status trocado com sucesso"),t.codigoFornecedor===t.codigoFornecedorOriginal){e.next=19;break}return e.next=19,Zn.custom.gravaFornecedorOnline(t);case 19:if(!t.gerarPedido){e.next=23;break}return e.next=22,Zn.custom.geraPedidoOnline(t);case 22:this.$q.notifyPositive("Pedido de compra gerado");case 23:this.atualiza(),e.next=29;break;case 26:e.prev=26,e.t2=e["catch"](2),this.$q.notifyError("Erro na troca de status",e.t2);case 29:return e.prev=29,this.$q.loading.hide(),e.finish(29);case 32:case"end":return e.stop()}},e,this,[[2,26,29,32]])}));return function(t){return e.apply(this,arguments)}}(),eventoCancelarTroca:function(e){ei.log("AdmCustom","eventoCancelarTroca",e),this.atualiza()},empresaOpcoesCarregar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("AdmCustom","empresaOpcoesCarregar()"),e.next=3,Zn.empresa.leOnline();case 3:e.t0=function(e){return{label:e.nome,value:e.codigoContato}},this.empresaOpcoes=e.sent.map(e.t0);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),filtraDebounce:function(){Object(ot["debounce"])(this.refazFiltro,700)()},refazFiltro:function(){ei.log("AdmCustom","refazFiltro()",this.fraseFiltro,this.empresaSelecionada);var e=oo(this.fraseFiltro.toUpperCase()).split(" ").filter(function(e){return""!==e});for(var t in this.listas){var a=!0,o=!1,i=void 0;try{for(var r,s=this.listas[t][Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var n=r.value,c=oo(n.id.toUpperCase()+n.nomeCliente.toUpperCase()+n.nomeVendedor.toUpperCase()+n.nomeFornecedor.toUpperCase()+" "+String(n.numeroVenda)+"  "+String(n.numeroCompra)+"  "+String(n.numeroCustom)+" "),l=!0,d=!0,u=!1,m=void 0;try{for(var p,v=e[Symbol.iterator]();!(d=(p=v.next()).done);d=!0){var h=p.value;l=isNaN(Number(h))?l&&c.includes(h):l&&c.includes(" "+h+" ")}}catch(e){u=!0,m=e}finally{try{d||null==v.return||v.return()}finally{if(u)throw m}}this.empresaSelecionada&&(l=l&&this.empresaSelecionada===n.codigoEmpresa),n.mostra=l}}catch(e){o=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}}},irParaAtendimento:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He().contato.where({codigoContato:t}).first();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:a=e.t0,a.id&&this.$router.push({name:"Atendimento",params:{id:a.id}});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),exibirProdutosServicos:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.$q.loading.show({message:"Processando"}),e.next=4,Zn.custom.leProdutosServicos(t);case 4:return a=e.sent,this.modalProdutosServicos.activated||(this.modalProdutosServicos={activated:!0,custom:{},produtos:[]}),e.next=8,this.$nextTick();case 8:this.modalProdutosServicos=at()({},this.modalProdutosServicos,{show:!0},a),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),this.$q.notify({type:"negative",message:e.t0.message});case 14:return e.prev=14,this.$q.loading.hide(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[0,11,14,17]])}));return function(t){return e.apply(this,arguments)}}(),exibirHistorico:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.$q.loading.show({message:"Processando"}),e.next=4,Zn.documentoStatus.leHistoricoOnline(t);case 4:if(a=e.sent,a.status.length){e.next=8;break}return this.$q.notify({type:"warning",message:"Não há histórico disponível."}),e.abrupt("return");case 8:return this.modalHistoricoStatus.activated||(this.modalHistoricoStatus={activated:!0}),e.next=11,this.$nextTick();case 11:this.modalHistoricoStatus=at()({},this.modalHistoricoStatus,{show:!0},a),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),this.$q.notify({type:"negative",message:e.t0.message});case 17:return e.prev=17,this.$q.loading.hide(),e.finish(17);case 20:case"end":return e.stop()}},e,this,[[0,14,17,20]])}));return function(t){return e.apply(this,arguments)}}(),atualiza:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zn.custom.leOnline({entregueInicio:this.entregueInicio,entregueFim:this.entregueFim});case 3:return t=e.sent,Do(!t||!t.length,"Não há customs"),e.next=7,Zn.configuracoes.le({nome:"vendas.custom.status"});case 7:for(a=e.sent,a=a.filter(function(e){return!["Processando","Entregue"].includes(e.texto)}),o={Processando:[]},i=!0,r=!1,s=void 0,e.prev=13,n=Object(ot["orderBy"])(a,"valor","asc").map(function(e){return e.texto})[Symbol.iterator]();!(i=(c=n.next()).done);i=!0)l=c.value,o[l]=[];e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](13),r=!0,s=e.t0;case 21:e.prev=21,e.prev=22,i||null==n.return||n.return();case 24:if(e.prev=24,!r){e.next=27;break}throw s;case 27:return e.finish(24);case 28:return e.finish(21);case 29:for(o["Entregue"]=[],d=!0,u=!1,m=void 0,e.prev=33,p=t[Symbol.iterator]();!(d=(v=p.next()).done);d=!0)h=v.value,f="bordaVerdeCustom",C="",b="Normal","Entregue"===h.status?h.dataHoraPrevisto&&h.dataHoraFinalizado&&(g=new Date(new Date(h.dataHoraPrevisto).toDateString()),x=new Date(new Date(h.dataHoraFinalizado).toDateString()),_=(x-g)/864e5,f=_>=0?"bordaVermelhaCustom":_>-7?"bordaAmarelaCustom":"bordaVerdeCustom",C=_>=0?"negative":_>-7?"warning":"",b=_>=0?"Atrasado":_>-7?"Atenção":"Normal"):h.dataHoraPrevisto&&(q=new Date(new Date(h.dataHoraPrevisto).toDateString()),S=new Date((new Date).toDateString()),I=(S-q)/864e5,f=I>=0?"bordaVermelhaCustom":I>-7?"bordaAmarelaCustom":"bordaVerdeCustom",C=I>=0?"negative":I>-7?"warning":"",b=I>=0?"Atrasado":I>-7?"Atenção":"Normal"),F={id:h.id,codigoCompra:h.codigoCompra||"-",codigoContatoVendedor:h.codigoContatoVendedor,codigoDocumento:h.codigoDocumento?String(h.codigoDocumento):"-",codigoContato:h.codigoContato,codigoEmpresa:h.codigoEmpresa,codigoFornecedor:h.codigoFornecedor,descricao:h.descricao,descricaoEmpresa:h.descricaoEmpresa,corBorda:f,corLabel:C,txtLabel:b,dataHoraEmissao:h.dataHoraEmissao?new Date(h.dataHoraEmissao):"",dataHoraFinalizado:h.dataHoraFinalizado?new Date(h.dataHoraFinalizado):"",dataHoraRetorno:h.dataHoraRetorno?new Date(h.dataHoraRetorno):"",dataHoraPrevisto:h.dataHoraPrevisto?new Date(h.dataHoraPrevisto):"",mostra:!0,nomeCliente:h.nomeCliente||"-",nomeFornecedor:h.nomeFornecedor||"",nomeVendedor:h.nomeVendedor||"-",numeroVenda:h.numeroVenda?String(h.numeroVenda):"-",numeroCompra:h.numeroCompra?String(h.numeroCompra):"-",numeroCustom:h.numeroCustom||"-",status:h.status},o[h.status]&&o[h.status].push(F);e.next=41;break;case 37:e.prev=37,e.t1=e["catch"](33),u=!0,m=e.t1;case 41:e.prev=41,e.prev=42,d||null==p.return||p.return();case 44:if(e.prev=44,!u){e.next=47;break}throw m;case 47:return e.finish(44);case 48:return e.finish(41);case 49:this.listas=o,this.refazFiltro(),e.next=56;break;case 53:e.prev=53,e.t2=e["catch"](0),this.$q.notifyError("Erro na consulta online de customs",e.t2);case 56:case"end":return e.stop()}},e,this,[[0,53],[13,17,21,29],[22,,24,28],[33,37,41,49],[42,,44,48]])}));return function(){return e.apply(this,arguments)}}()},watch:{entregueInicio:function(){ei.log("AdmCustom","entregueInicio"),this.atualiza()},entregueFim:function(){ei.log("AdmCustom","entregueFim"),this.atualiza()}},created:function(){ei.log("AdmCustom","created()"),this.atualiza()}},gD=bD,xD=(a("b9b2"),Object(sc["a"])(gD,iD,rD,!1,null,"13100138",null));xD.options.__file="AdmCustom.vue";var _D=xD.exports,qD=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"AdmOS"},[a("barra-topo"),a("q-page-container",[a("q-page",[a("q-toolbar",{staticClass:"q-py-sm q-my-sm",attrs:{color:"none"}},[a("q-toolbar-title",[e._v("Kanban")])],1),a("q-card",{staticClass:"row no-shadow"},[a("q-toolbar",{staticClass:"no-shadow q-pa-none",attrs:{"text-color":"black",color:"transparent"}},[a("q-toolbar-title",{staticClass:"q-pa-none"},[a("div",{staticClass:"filters row q-pa-sm q-ma-md bg-white",staticStyle:{"border-radius":"5px","min-height":"50px"}},[a("div",{staticClass:"col-auto"},[a("q-btn",{staticClass:"no-shadow u-semClique",attrs:{icon:"filter_list",round:"",color:"faded"}})],1),a("div",{staticClass:"col-10 col-md-5 q-ml-sm"},[a("q-search",{attrs:{placeholder:"Filtrar cliente ou responsável"},on:{input:e.filtraDebounce},model:{value:e.fraseFiltro,callback:function(t){e.fraseFiltro=t},expression:"fraseFiltro"}})],1),a("div",{staticClass:"col-6 col-md q-pl-none"},[a("q-select",{staticClass:"q-mx-sm",attrs:{options:e.prazoOpcoes,clearable:"",placeholder:"Filtrar por prazo"},model:{value:e.prazoSelecionado,callback:function(t){e.prazoSelecionado=t},expression:"prazoSelecionado"}})],1),a("div",{staticClass:"col-6 col-md q-pl-none"},[a("q-select",{staticClass:"q-mx-sm",attrs:{options:e.empresaOpcoes,clearable:"",placeholder:"Filtrar por empresa"},on:{input:e.refazFiltro},nativeOn:{click:function(t){return e.empresaOpcoesCarregar(t)}},model:{value:e.empresaSelecionada,callback:function(t){e.empresaSelecionada=t},expression:"empresaSelecionada"}})],1)])])],1)],1),a("div",{staticClass:"row overflowXOS"},e._l(e.listas,function(t,o){return a("div",{key:o,staticClass:"no-shadow q-pa-sm col"},[a("div",{staticClass:"bg-white q-pa-xs"},[a("q-toolbar",{staticClass:"no-shadow q-pa-none",attrs:{"text-color":"black",color:"transparent"}},[a("q-toolbar-title",{staticClass:"q-py-none"},[e._v("\n                "+e._s(o)+"\n              ")])],1),"Entregue"===o?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 q-pl-none"},[a("campo",{staticClass:"q-mx-sm",attrs:{rotulo:"Início",tipo:"data"},model:{value:e.entregueInicio,callback:function(t){e.entregueInicio=t},expression:"entregueInicio"}}),a("campo",{staticClass:"q-mx-sm",attrs:{rotulo:"Fim",tipo:"data"},model:{value:e.entregueFim,callback:function(t){e.entregueFim=t},expression:"entregueFim"}})],1)]):e._e(),a("draggable",{staticClass:"dragAreaOS bg-white",attrs:{delay:"400",list:t,group:"osGroup",draggable:".extratoOS"},on:{end:e.eventoEnd}},e._l(t,function(t){return!t.mostra||null!==e.prazoSelecionado&&e.prazoSelecionado!==t.corBorda?e._e():a("q-card",{key:t.codigoDocumento,staticClass:"q-pa-sm q-mb-md shadow-2 extratoOS",class:t.corBorda},[a("q-card-title",{staticClass:"q-py-none"},[e._v("\n                  "+e._s(t.nomeCliente)+"\n                  "),a("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n                    Empresa: "+e._s(t.descricaoEmpresa)+"\n                  ")]),a("div",{attrs:{slot:"right"},slot:"right"},[a("small",{staticStyle:{display:"block"}},[e._v("Venda: "+e._s(t.numeroVenda))]),a("small",{staticStyle:{display:"block"}},[e._v("OS: "+e._s(t.numeroOS))])])]),a("q-card-separator",{staticClass:"q-my-sm"}),a("q-card-main",{staticClass:"row q-py-none"},[e._v("\n                  Técnico: "+e._s(t.nomeResponsavel)),a("br"),e._v("\n                  Data de Emissao: "+e._s(e._f("data")(t.dataHoraEmissao))),a("br"),t.dataHoraRetorno?[e._v("Data de Retorno:\n                    "+e._s(e._f("data")(t.dataHoraRetorno))),a("br")]:e._e(),e._v("\n                  Previsão de Entrega: "+e._s(e._f("data")(t.dataHoraPrevisto))),a("br")],2)],1)}))],1)])})),a("OS-trocar-status",{attrs:{dados:e.trocarStatusDados},on:{confirmar:e.eventoConfirmarTroca,cancelar:e.eventoCancelarTroca},model:{value:e.trocarStatusModal,callback:function(t){e.trocarStatusModal=t},expression:"trocarStatusModal"}})],1)],1)],1)},SD=[];qD._withStripped=!0;var ID={components:{BarraTopo:El,Campo:Sl,OSTrocarStatus:ey,draggable:ay.a},data:function(){return{empresaOpcoes:[],empresaSelecionada:null,entregueInicio:new Date(new Date(na()).toDateString()),entregueFim:new Date(new Date(na()).toDateString()),fraseFiltro:"",listas:{Processando:[],Entregue:[]},trocarStatusDados:{},trocarStatusModal:!1,periodoOpcoes:[{label:"Hoje",value:0},{label:"Uma semana",value:7},{label:"Um mês",value:30}],prazoSelecionado:null,prazoOpcoes:[{label:"Em dia",value:"bordaVerdeOS"},{label:"Entrega para esta semana",value:"bordaAmarelaOS"},{label:"Entrega atrasada",value:"bordaVermelhaOS"}]}},methods:{eventoEnd:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(this.listas);case 1:if((e.t1=e.t0()).done){e.next=34;break}t=e.t1.value,a=!0,o=!1,i=void 0,e.prev=6,r=this.listas[t][Symbol.iterator]();case 8:if(a=(s=r.next()).done){e.next=18;break}if(n=s.value,n.status===t){e.next=15;break}return ei.log("AdmOS","eventoEnd De:",n.status,"Para:",t,"codigo:",n.codigoDocumento),this.trocarStatusDados={codigoContatoResponsavel:n.codigoContatoResponsavel,codigoDocumento:n.codigoDocumento,codigoUsuario:null,nomeCliente:n.nomeCliente,observacao:"",statusAtual:n.status,statusNovo:t},this.trocarStatusModal=!0,e.abrupt("return");case 15:a=!0,e.next=8;break;case 18:e.next=24;break;case 20:e.prev=20,e.t2=e["catch"](6),o=!0,i=e.t2;case 24:e.prev=24,e.prev=25,a||null==r.return||r.return();case 27:if(e.prev=27,!o){e.next=30;break}throw i;case 30:return e.finish(27);case 31:return e.finish(24);case 32:e.next=1;break;case 34:case"end":return e.stop()}},e,this,[[6,20,24,32],[25,,27,31]])}));return function(){return e.apply(this,arguments)}}(),eventoConfirmarTroca:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("AdmOS","eventoConfirmaTroca",at()({},t)),this.$q.loading.show(),e.prev=2,e.next=5,Zn.usuario.leOnline(Zn.usuario.logado.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1=[];case 8:if(e.t0=e.t1[0],e.t0){e.next=11;break}e.t0={};case 11:return a=e.t0,t.codigoUsuario=a.codigoUsuario,e.next=15,Zn.os.trocaStatusOnline(t);case 15:this.$q.notifyPositive("Status trocado com sucesso"),this.atualiza(),e.next=22;break;case 19:e.prev=19,e.t2=e["catch"](2),this.$q.notifyError("Erro na troca de status",e.t2);case 22:return e.prev=22,this.$q.loading.hide(),e.finish(22);case 25:case"end":return e.stop()}},e,this,[[2,19,22,25]])}));return function(t){return e.apply(this,arguments)}}(),eventoCancelarTroca:function(e){ei.log("AdmOS","eventoCancelarTroca",e),this.atualiza()},empresaOpcoesCarregar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("AdmOS","empresaOpcoesCarregar()"),e.next=3,Zn.empresa.leOnline();case 3:e.t0=function(e){return{label:e.nome,value:e.codigoContato}},this.empresaOpcoes=e.sent.map(e.t0);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),filtraDebounce:function(){Object(ot["debounce"])(this.refazFiltro,700)()},refazFiltro:function(){ei.log("AdmOSs","refazFiltro()",this.fraseFiltro,this.empresaSelecionada);var e=oo(this.fraseFiltro.toUpperCase()).split(" ").filter(function(e){return""!==e});for(var t in this.listas){var a=!0,o=!1,i=void 0;try{for(var r,s=this.listas[t][Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var n=r.value,c=oo(n.id.toUpperCase()+n.nomeCliente.toUpperCase()+n.nomeResponsavel.toUpperCase()+" "+String(n.numeroVenda)+"  "+String(n.numeroOS)+" "),l=!0,d=!0,u=!1,m=void 0;try{for(var p,v=e[Symbol.iterator]();!(d=(p=v.next()).done);d=!0){var h=p.value;l=isNaN(Number(h))?l&&c.includes(h):l&&c.includes(" "+h+" ")}}catch(e){u=!0,m=e}finally{try{d||null==v.return||v.return()}finally{if(u)throw m}}this.empresaSelecionada&&(l=l&&this.empresaSelecionada===n.codigoEmpresa),n.mostra=l}}catch(e){o=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}}},atualiza:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zn.os.leAdmOSOnline({entregueInicio:this.entregueInicio,entregueFim:this.entregueFim});case 3:return t=e.sent,ei.log("AdmOS","atualiza()",t.length),Do(!t||!t.length,"Não há ordens de serviço"),e.next=8,Zn.configuracoes.le({nome:"vendas.os.status"});case 8:for(a=e.sent,a=a.filter(function(e){return!["Processando","Entregue"].includes(e.texto)}),o={Processando:[]},i=!0,r=!1,s=void 0,e.prev=14,n=Object(ot["orderBy"])(a,"valor","asc").map(function(e){return e.texto})[Symbol.iterator]();!(i=(c=n.next()).done);i=!0)l=c.value,o[l]=[];e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](14),r=!0,s=e.t0;case 22:e.prev=22,e.prev=23,i||null==n.return||n.return();case 25:if(e.prev=25,!r){e.next=28;break}throw s;case 28:return e.finish(25);case 29:return e.finish(22);case 30:for(o["Entregue"]=[],d=!0,u=!1,m=void 0,e.prev=34,p=t[Symbol.iterator]();!(d=(v=p.next()).done);d=!0)h=v.value,f="bordaVerdeOS","Entregue"===h.status?h.dataHoraPrevisto&&h.dataHoraFinalizado&&(C=new Date(new Date(h.dataHoraPrevisto).toDateString()),b=new Date(new Date(h.dataHoraFinalizado).toDateString()),g=(b-C)/864e5,f=g>=0?"bordaVermelhaOS":g>-7?"bordaAmarelaOS":"bordaVerdeOS"):h.dataHoraPrevisto&&(x=new Date(new Date(h.dataHoraPrevisto).toDateString()),_=new Date((new Date).toDateString()),q=(_-x)/864e5,f=q>=0?"bordaVermelhaOS":q>-7?"bordaAmarelaOS":"bordaVerdeOS"),S={id:h.id,codigoCompra:h.codigoCompra||"-",codigoContatoResponsavel:h.codigoContatoResponsavel,codigoDocumento:h.codigoDocumento,codigoEmpresa:h.codigoEmpresa,descricaoEmpresa:h.descricaoEmpresa,corBorda:f,dataHoraEmissao:new Date(h.dataHoraEmissao),dataHoraFinalizado:new Date(h.dataHoraFinalizado),dataHoraRetorno:new Date(h.dataHoraRetorno),dataHoraPrevisto:new Date(h.dataHoraPrevisto),mostra:!0,nomeCliente:h.nomeCliente||"-",nomeResponsavel:h.nomeResponsavel||"-",numeroVenda:h.numeroVenda||"-",numeroOS:h.numeroOS||"-",status:h.status},o[h.status]&&o[h.status].push(S);e.next=42;break;case 38:e.prev=38,e.t1=e["catch"](34),u=!0,m=e.t1;case 42:e.prev=42,e.prev=43,d||null==p.return||p.return();case 45:if(e.prev=45,!u){e.next=48;break}throw m;case 48:return e.finish(45);case 49:return e.finish(42);case 50:this.listas=o,this.refazFiltro(),e.next=57;break;case 54:e.prev=54,e.t2=e["catch"](0),this.$q.notifyError("Erro na consulta online de oss",e.t2);case 57:case"end":return e.stop()}},e,this,[[0,54],[14,18,22,30],[23,,25,29],[34,38,42,50],[43,,45,49]])}));return function(){return e.apply(this,arguments)}}()},watch:{entregueInicio:function(){ei.log("AdmOSs","entregueInicio"),this.atualiza()},entregueFim:function(){ei.log("AdmOSs","entregueFim"),this.atualiza()}},created:function(){ei.log("AdmOSs","created()"),this.atualiza()}},FD=ID,wD=(a("ce87"),Object(sc["a"])(FD,qD,SD,!1,null,"ee7c2fea",null));wD.options.__file="Kanban.vue";var yD=wD.exports,ND=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"FunilVendas"},[a("barra-topo"),a("q-page-container",[a("q-page",[a("q-toolbar",{staticClass:"q-py-sm q-my-sm",attrs:{color:"none"}},[a("q-toolbar-title",[e._v("Funil de Vendas")]),a("q-btn",{staticClass:" no-shadow u-semClique",attrs:{icon:"mdi-filter",round:"",color:"primary",inverted:""},on:{click:function(t){e.showfilters=!e.showfilters}}})],1),a("q-layout-drawer",{attrs:{overlay:"",side:"right"},model:{value:e.showfilters,callback:function(t){e.showfilters=t},expression:"showfilters"}},[a("q-toolbar",{attrs:{color:"white","text-color":"faded"}},[a("q-icon",{attrs:{name:"mdi-filter",color:"faded"}}),a("q-toolbar-title",[e._v(" Filtrar")]),a("q-btn",{attrs:{dense:"",flat:"",icon:"close",round:""},on:{click:function(t){e.showfilters=!e.showfilters}}})],1),a("div",{staticClass:"col-12 q-px-md q-mt-md"},[a("q-input",{staticClass:"no-shadow",attrs:{color:"white",placeholder:"Por cliente ou responsável"},on:{input:e.filtraDebounce},model:{value:e.fraseFiltro,callback:function(t){e.fraseFiltro=t},expression:"fraseFiltro"}})],1),a("div",{staticClass:"col-12 q-px-sm q-my-md"},[a("q-select",{staticClass:"q-mx-sm",attrs:{options:e.prazoOpcoes,clearable:"",placeholder:"Por prazo"},model:{value:e.prazoSelecionado,callback:function(t){e.prazoSelecionado=t},expression:"prazoSelecionado"}})],1),a("div",{staticClass:"col-12 q-px-sm"},[a("q-select",{staticClass:"q-mx-sm",attrs:{options:e.empresaOpcoes,clearable:"",placeholder:"Por empresa"},on:{input:e.refazFiltro},nativeOn:{click:function(t){return e.empresaOpcoesCarregar(t)}},model:{value:e.empresaSelecionada,callback:function(t){e.empresaSelecionada=t},expression:"empresaSelecionada"}})],1)],1),a("div",{staticClass:"row overflowXCRM"},e._l(e.listas,function(t,o){return a("div",{key:o,staticClass:"no-shadow q-pa-none col coluna"},[a("div",{staticClass:" q-pa-none"},[a("q-toolbar",{staticClass:"no-shadow q-mt-xs q-pa-none",attrs:{"text-color":"white",color:"transparent"}},[a("q-toolbar-title",{staticClass:"q-py-none"},[a("div",{staticClass:"float-left"},[e._v(e._s(o))]),e.total[o]?a("div",{staticClass:"float-right q-body-2"},[e._v(e._s(e._f("numero")(e.total[o],2))+"\n                ")]):e._e()])],1),"Concluído"===o?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 q-pl-none"},[a("campo",{staticClass:"q-mx-sm",attrs:{rotulo:"Início",tipo:"data"},model:{value:e.entregueInicio,callback:function(t){e.entregueInicio=t},expression:"entregueInicio"}}),a("campo",{staticClass:"q-mx-sm",attrs:{rotulo:"Fim",tipo:"data"},model:{value:e.entregueFim,callback:function(t){e.entregueFim=t},expression:"entregueFim"}})],1)]):e._e(),a("draggable",{staticClass:"dragAreaCRM ",attrs:{delay:"400",list:t,group:"osGroup",draggable:".extratoCRM"},on:{end:e.eventoEnd}},e._l(t,function(t){return!t.mostra||null!==e.prazoSelecionado&&e.prazoSelecionado!==t.corBorda?e._e():a("q-card",{key:t.codigoDocumento,staticClass:"q-pa-sm q-pb-md q-my-sm q-mb-md shadow-1 bg-white extratoCRM",class:t.corBorda},[a("div",{staticClass:"row q-mt-xs"},[a("div",{staticClass:"col-6"},[a("badge",{staticClass:"q-mx-xs ",attrs:{cor:"negative",escuro:"",rotulo:"urgente"}})],1),a("div",{staticClass:"col-6 justify-end q-pr-xs",staticStyle:{display:"flex"}},[a("badge",{staticClass:"q-mx-sm ",attrs:{cor:"grey-1",icone:"shopping_cart",rotulo:t.totalDocumento}},[a("q-tooltip",[e._v("\n                        Total: "+e._s(e._f("numero")(t.totalDocumento,2))+"\n                        ")])],1),a("badge",{attrs:{cor:"grey-8",escuro:"",icone:"assignment_turned_in",rotulo:t.numeroVenda}},[a("q-tooltip",[e._v("\n                        Vendas: "+e._s(e._f("numero")(t.numeroVenda,2))+"\n                        ")])],1)],1)]),a("q-card-title",{staticClass:"q-pa-xs"},[a("div",{staticClass:"q-subheading"},[e._v("\n                    "+e._s(t.nomeCliente)+"\n                  ")]),a("span",{staticClass:"q-caption",attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n                    Empresa: "+e._s(t.descricaoEmpresa)+"\n                  ")])]),a("q-card-main",{staticClass:"row q-py-none"}),a("q-card-separator",{staticClass:"q-my-sm"}),a("q-card-main",{staticClass:"row q-pa-none"},[a("div",{staticClass:"col-11"},[a("div",{staticStyle:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},[a("q-icon",{attrs:{name:"person",color:"grey-7",size:"14px"}})],1),a("div",{staticClass:"q-caption",staticStyle:{display:"inline-block","margin-right":"6px"}},[e._v(e._s(t.nomeVendedor))]),a("div",{staticStyle:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},[a("q-icon",{attrs:{name:"person",color:"grey-7",size:"14px"}})],1),a("div",{staticClass:"q-caption",staticStyle:{display:"inline-block","margin-right":"6px"}},[e._v(e._s(t.nomeDigitador))]),t.dataHoraEmissao?a("div",{staticStyle:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},[a("q-icon",{attrs:{name:"calendar_today",color:"grey-7",size:"14px"}})],1):e._e(),t.dataHoraEmissao?a("div",{staticClass:"q-caption",staticStyle:{display:"inline-block"}},[e._v(e._s(e._f("data")(t.dataHoraEmissao)))]):e._e()]),a("div",{staticClass:"col-1 self-end"},[a("q-icon",{staticStyle:{color:"grey",float:"right","text-align":"right","font-size":"1.2rem",cursor:"pointer"},attrs:{name:"more_vert",onMouseOver:"this.style.color='black'",onMouseOut:"this.style.color='grey'"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{link:"",separator:""}},[a("q-item",{nativeOn:{click:function(a){e.exibirHistorico(t.codigoDocumento)}}},[a("q-item-side",{attrs:{icon:"history"}}),a("q-item-main",{attrs:{label:"Histórico do Status"}})],1),a("q-item",{nativeOn:{click:function(a){e.irParaAtendimento(t.codigoContato)}}},[a("q-item-side",{attrs:{icon:"launch"}}),a("q-item-main",{attrs:{label:"Ir para o Atendimento"}})],1)],1)],1)],1)],1)])],1)}))],1)])})),a("crm-trocar-status",{attrs:{dados:e.trocarStatusDados},on:{confirmar:e.eventoConfirmarTroca,cancelar:e.eventoCancelarTroca},model:{value:e.trocarStatusModal,callback:function(t){e.trocarStatusModal=t},expression:"trocarStatusModal"}}),e.modalHistoricoStatus.activated?a("modal-historico-status",{attrs:{dados:e.modalHistoricoStatus}}):e._e()],1)],1)],1)},kD=[];ND._withStripped=!0;var MD=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{value:e.value},on:{input:e.eventoInput}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[e._v("Trocar status")])],1),a("form",{on:{submit:function(t){return t.preventDefault(),e.eventoConfirmar(t)}}},[a("div",{staticClass:"layout-padding"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{somenteLeitura:"",rotulo:"Cliente"},model:{value:e.dados.nomeCliente,callback:function(t){e.$set(e.dados,"nomeCliente",t)},expression:"dados.nomeCliente"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{somenteLeitura:"",rotulo:"De"},model:{value:e.dados.statusAtual,callback:function(t){e.$set(e.dados,"statusAtual",t)},expression:"dados.statusAtual"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{somenteLeitura:"",rotulo:"Para"},model:{value:e.dados.statusNovo,callback:function(t){e.$set(e.dados,"statusNovo",t)},expression:"dados.statusNovo"}})],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{maxlength:"50",rotulo:"Observação"},model:{value:e.dados.observacao,callback:function(t){e.$set(e.dados,"observacao","string"===typeof t?t.trim():t)},expression:"dados.observacao"}})],1)]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:e.eventoCancelar}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Trocar"}})],1)])],1)],1)],1)],1)},PD=[];MD._withStripped=!0;var DD={components:{Campo:Sl},data:function(){return{confirmado:!1}},methods:{eventoConfirmar:function(){ei.log("CRMTrocarStatus","eventoConfirmar",this.dados),this.confirmado=!0,this.eventoInput(!1),this.$emit("confirmar",this.dados)},eventoCancelar:function(){ei.log("CRMTrocarStatus","eventoCancelar",this.dados),this.confirmado=!1,this.eventoInput(!1)},eventoInput:function(e){this.$emit("input",e)}},props:{value:{required:!0,type:Boolean},dados:{required:!0,type:Object}},watch:{value:function(e){e?this.confirmado=!1:this.confirmado||this.$emit("cancelar",this.dados)}}},ED=DD,TD=Object(sc["a"])(ED,MD,PD,!1,null,null,null);TD.options.__file="CrmTrocarStatus.vue";var AD=TD.exports,OD={components:{Badge:Bd,BarraTopo:El,Campo:Sl,CrmTrocarStatus:AD,ModalHistoricoStatus:Nv,draggable:ay.a},data:function(){return{showfilters:!0,empresaOpcoes:[],empresaSelecionada:null,entregueInicio:new Date(new Date(na()).toDateString()),entregueFim:new Date(new Date(na()).toDateString()),fraseFiltro:"",listas:{"Orçamento":[],"Concluído":[]},total:{},trocarStatusDados:{},trocarStatusModal:!1,periodoOpcoes:[{label:"Hoje",value:0},{label:"Uma semana",value:7},{label:"Um mês",value:30}],prazoSelecionado:null,prazoOpcoes:[{label:"Em dia",value:"bordaVerdeCRM"},{label:"Entrega para esta semana",value:"bordaAmarelaCRM"},{label:"Entrega atrasada",value:"bordaVermelhaCRM"}],modalHistoricoStatus:{}}},methods:{eventoEnd:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(this.listas);case 1:if((e.t1=e.t0()).done){e.next=34;break}t=e.t1.value,a=!0,o=!1,i=void 0,e.prev=6,r=this.listas[t][Symbol.iterator]();case 8:if(a=(s=r.next()).done){e.next=18;break}if(n=s.value,n.crmFunilStatus===t){e.next=15;break}return ei.log("FunilVendas","eventoEnd De:",n.crmFunilStatus,"Para:",t,"codigo:",n.codigoDocumento),this.trocarStatusDados={codigoContatoResponsavel:n.codigoContatoResponsavel,codigoDocumento:n.codigoDocumento,codigoUsuario:null,nomeCliente:n.nomeCliente,observacao:"",statusAtual:n.crmFunilStatus,statusNovo:t},this.trocarStatusModal=!0,e.abrupt("return");case 15:a=!0,e.next=8;break;case 18:e.next=24;break;case 20:e.prev=20,e.t2=e["catch"](6),o=!0,i=e.t2;case 24:e.prev=24,e.prev=25,a||null==r.return||r.return();case 27:if(e.prev=27,!o){e.next=30;break}throw i;case 30:return e.finish(27);case 31:return e.finish(24);case 32:e.next=1;break;case 34:case"end":return e.stop()}},e,this,[[6,20,24,32],[25,,27,31]])}));return function(){return e.apply(this,arguments)}}(),eventoConfirmarTroca:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("FunilVendas","eventoConfirmaTroca",at()({},t)),this.$q.loading.show(),e.prev=2,e.next=5,Zn.usuario.leOnline(Zn.usuario.logado.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1=[];case 8:if(e.t0=e.t1[0],e.t0){e.next=11;break}e.t0={};case 11:return a=e.t0,t.codigoUsuario=a.codigoUsuario,e.next=15,Zn.crm.trocaStatusOnline(t);case 15:this.$q.notifyPositive("Status trocado com sucesso"),this.atualiza(),e.next=22;break;case 19:e.prev=19,e.t2=e["catch"](2),this.$q.notifyError("Erro na troca de status",e.t2);case 22:return e.prev=22,this.$q.loading.hide(),e.finish(22);case 25:case"end":return e.stop()}},e,this,[[2,19,22,25]])}));return function(t){return e.apply(this,arguments)}}(),eventoCancelarTroca:function(e){ei.log("FunilVendas","eventoCancelarTroca",e),this.atualiza()},empresaOpcoesCarregar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("FunilVendas","empresaOpcoesCarregar()"),e.next=3,Zn.empresa.leOnline();case 3:e.t0=function(e){return{label:e.nome,value:e.codigoContato}},this.empresaOpcoes=e.sent.map(e.t0);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),irParaAtendimento:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He().contato.where({codigoContato:t}).first();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:a=e.t0,a.id&&this.$router.push({name:"Atendimento",params:{id:a.id}});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),exibirHistorico:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.$q.loading.show({message:"Processando"}),e.next=4,Zn.documentoStatus.leHistoricoOnline(t);case 4:if(a=e.sent,a.status.length){e.next=8;break}return this.$q.notify({type:"warning",message:"Não há histórico disponível."}),e.abrupt("return");case 8:return this.modalHistoricoStatus.activated||(this.modalHistoricoStatus={activated:!0}),e.next=11,this.$nextTick();case 11:this.modalHistoricoStatus=at()({},this.modalHistoricoStatus,{show:!0},a),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),this.$q.notify({type:"negative",message:e.t0.message});case 17:return e.prev=17,this.$q.loading.hide(),e.finish(17);case 20:case"end":return e.stop()}},e,this,[[0,14,17,20]])}));return function(t){return e.apply(this,arguments)}}(),filtraDebounce:function(){Object(ot["debounce"])(this.refazFiltro,700)()},refazFiltro:function(){ei.log("FunilVendas","refazFiltro()",this.fraseFiltro,this.empresaSelecionada);var e=oo((this.fraseFiltro||"").toUpperCase()).split(" ").filter(function(e){return""!==e}),t={};for(var a in this.listas){var o=!0,i=!1,r=void 0;try{for(var s,n=this.listas[a][Symbol.iterator]();!(o=(s=n.next()).done);o=!0){var c=s.value,l=oo((c.id||"").toUpperCase()+(c.nomeCliente||"").toUpperCase()+(c.nomeDigitador||"").toUpperCase()+(c.nomeVendedor||"").toUpperCase()+" "+String(c.numeroVenda||"")+" "),d=!0,u=!0,m=!1,p=void 0;try{for(var v,h=e[Symbol.iterator]();!(u=(v=h.next()).done);u=!0){var f=v.value;d=isNaN(Number(f))?d&&l.includes(f):d&&l.includes(" "+f+" ")}}catch(e){m=!0,p=e}finally{try{u||null==h.return||h.return()}finally{if(m)throw p}}this.empresaSelecionada&&(d=d&&this.empresaSelecionada===c.codigoEmpresa),c.mostra=d,c.mostra&&(t[c.crmFunilStatus]=(t[c.crmFunilStatus]||0)+(c.totalDocumento||0))}}catch(e){i=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw r}}}this.total=t},atualiza:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zn.crm.leOnline({entregueInicio:this.entregueInicio,entregueFim:this.entregueFim});case 3:return t=e.sent,ei.log("FunilVendas","atualiza()",t.length),Do(!t||!t.length,"Não há orçamentos"),e.next=8,Zn.configuracoes.le({nome:"vendas.crm.status"});case 8:for(a=e.sent,a=a.filter(function(e){return!["Orçamento","Concluído"].includes(e.texto)}),o={"Orçamento":[]},i=!0,r=!1,s=void 0,e.prev=14,n=Object(ot["orderBy"])(a,"valor","asc").map(function(e){return e.texto})[Symbol.iterator]();!(i=(c=n.next()).done);i=!0)l=c.value,o[l]=[];e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](14),r=!0,s=e.t0;case 22:e.prev=22,e.prev=23,i||null==n.return||n.return();case 25:if(e.prev=25,!r){e.next=28;break}throw s;case 28:return e.finish(25);case 29:return e.finish(22);case 30:for(o["Concluído"]=[],d={},u=!0,m=!1,p=void 0,e.prev=35,v=t[Symbol.iterator]();!(u=(h=v.next()).done);u=!0)f=h.value,C="bordaVerdeCRM",b={id:f.id,codigoContatoDigitador:f.codigoContatoDigitador||0,codigoContatoVendedor:f.codigoContatoVendedor||0,codigoDocumento:f.codigoDocumento||0,codigoContato:f.codigoContato||0,codigoEmpresa:f.codigoEmpresa||0,descricaoEmpresa:f.descricaoEmpresa||"",corBorda:C,dataHoraEmissao:new Date(f.dataHoraEmissao||""),mostra:!0,nomeCliente:f.nomeCliente||"-",nomeVendedor:f.nomeVendedor||"-",nomeDigitador:f.nomeDigitador||"-",numeroVenda:f.numeroVenda||"-",status:f.status||"",crmFunilStatus:f.crmFunilStatus||"Orçamento",totalDocumento:f.totalDocumento||0},o[b.crmFunilStatus]&&(o[b.crmFunilStatus].push(b),d[b.crmFunilStatus]=(d[b.crmFunilStatus]||0)+(b.totalDocumento||0));e.next=43;break;case 39:e.prev=39,e.t1=e["catch"](35),m=!0,p=e.t1;case 43:e.prev=43,e.prev=44,u||null==v.return||v.return();case 46:if(e.prev=46,!m){e.next=49;break}throw p;case 49:return e.finish(46);case 50:return e.finish(43);case 51:this.listas=o,this.total=d,this.refazFiltro(),e.next=59;break;case 56:e.prev=56,e.t2=e["catch"](0),this.$q.notifyError("Erro na consulta online de orçamentos",e.t2);case 59:case"end":return e.stop()}},e,this,[[0,56],[14,18,22,30],[23,,25,29],[35,39,43,51],[44,,46,50]])}));return function(){return e.apply(this,arguments)}}()},watch:{entregueInicio:function(){ei.log("FunilVendas","entregueInicio"),this.atualiza()},entregueFim:function(){ei.log("FunilVendas","entregueFim"),this.atualiza()}},created:function(){ei.log("FunilVendas","created()"),this.atualiza()}},$D=OD,RD=(a("25e9"),Object(sc["a"])($D,ND,kD,!1,null,"2a77c91e",null));RD.options.__file="FunilVendas.vue";var jD=RD.exports,zD=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Lista",attrs:{view:"hHh LpR lFr"}},[a("barra-topo"),a("q-page-container",[a("q-page",[e.list?a("div",[a("q-toolbar",{staticClass:"q-py-sm",attrs:{color:"primary"}},[a("q-btn-group",{staticClass:"no-shadow"},[a("q-btn",{staticClass:"hideonmobile q-px-xs",attrs:{icon:"vertical_split",color:e.section?"white":"none","text-color":e.section?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("section")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"view_column",color:e.kanbanL?"white":"none","text-color":e.kanbanL?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("kanbanL")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"mdi-chart-gantt",color:e.ganttL?"white":"none","text-color":e.ganttL?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("ganttL")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"view_headline",color:e.list?"white":"none","text-color":e.list?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("list")}}})],1),a("q-toolbar-title",[a("q-search",{ref:"buscaCampo",staticStyle:{"max-width":"990px",margin:"0 auto"},attrs:{color:"none",inverted:"",placeholder:"Buscar"},model:{value:e.buscaCampo,callback:function(t){e.buscaCampo=t},expression:"buscaCampo"}})],1),a("q-btn",{staticClass:"hideonmobile",attrs:{flat:"",dense:"",icon:"add",round:""}},[a("q-tooltip",[e._v("Criar")])],1),a("q-btn",{staticClass:"no-shadow q-px-xs",attrs:{icon:"mdi-filter",flat:"",dense:"",round:""},on:{click:e.abrirFiltro}})],1),a("q-toolbar",{staticClass:"q-py-sm",attrs:{color:"none","text-color":"dark"}},[a("q-checkbox",{model:{value:e.checkboxModel,callback:function(t){e.checkboxModel=t},expression:"checkboxModel"}}),a("q-btn",{attrs:{flat:"",dense:"",icon:"arrow_drop_down",size:"md",color:"dark"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-py-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1),a("q-btn",{attrs:{flat:"",dense:"",icon:"label",color:"faded",round:""}},[a("q-tooltip",[e._v("Tag")])],1),a("q-btn",{attrs:{flat:"",dense:"",icon:"delete",color:"faded",round:""}},[a("q-tooltip",[e._v("Delete")])],1),a("q-toolbar-title"),a("q-btn",{attrs:{dense:"",flat:"",icon:"swap_vert",round:"",color:"faded"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-py-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Alfabetica"}})],1),a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Data"}})],1)],1)],1)],1),a("q-btn",{attrs:{flat:"",dense:"",icon:"mdi-download",color:"faded",round:""}},[a("q-tooltip",[e._v("Download")])],1),a("q-btn",{attrs:{flat:"",dense:"",icon:"print",color:"faded",round:""}},[a("q-tooltip",[e._v("Imprimir")])],1),a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md",color:"faded"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-py-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1),a("q-tabs",{attrs:{color:"transparent","text-color":"primary"},model:{value:e.tabsModel,callback:function(t){e.tabsModel=t},expression:"tabsModel"}},[a("q-tab",{attrs:{slot:"title",name:"xtab-1",label:"Label 1",default:""},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"xtab-2",label:"Label 2"},slot:"title"}),a("q-tab-pane",{staticClass:"q-pa-none",staticStyle:{"border-top":"1px solid #e0e0e0"},attrs:{name:"xtab-1"}},[e._l(e.lista,function(t){return a("q-list",{key:t,staticClass:"q-py-none qListaItems"},[a("q-item",{staticClass:"itemLista"},[a("q-item-side",{staticClass:"sidecheckbox"},[a("q-checkbox",{model:{value:e.checkboxModel,callback:function(t){e.checkboxModel=t},expression:"checkboxModel"}})],1),a("q-item-side",{nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}},[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{staticClass:"hideondesktop",attrs:{label:t.name},nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.email))]),a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.tel))]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Tag")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("Tag")])],1),a("q-item-main",{staticClass:"hideonmobile",attrs:{label:t.name},nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}}),a("q-item-main",{staticClass:"hideonmobile",nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.email))])],1),a("q-item-main",{staticClass:"hideonmobile",nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.tel))])],1),a("q-item-main",{staticClass:"hideonmobile"},[a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("\n                    Tag\n                  ")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("\n                    Tag\n                  ")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{staticClass:"buttons",attrs:{color:"tertiary",size:"md",icon:t.showPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",flat:"",dense:"",round:""},nativeOn:{click:function(e){t.showPreviewDetail=!t.showPreviewDetail}}}),a("q-btn",{staticClass:"buttons",attrs:{color:"tertiary",size:"md",icon:"edit",flat:"",dense:"",round:""},nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}}),a("q-btn",{staticClass:"buttons",attrs:{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:""}}),a("q-btn",{staticClass:"morevert",attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-py-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1),t.showPreviewDetail?a("q-item",{staticClass:" q-pa-md"},[a("q-item-main",{attrs:{label:"Linha 2"}},[a("q-item-tile",{attrs:{stamp:""}},[e._v("Linha 2.2")]),a("q-item-tile",{attrs:{stamp:""}},[e._v("Linha 2.3")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Linha 2")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("Linha 2")])],1),a("q-item-main",{attrs:{label:"Linha 2"}},[a("q-item-tile",{attrs:{stamp:""}},[e._v("Linha 2.2")]),a("q-item-tile",{attrs:{stamp:""}},[e._v("Linha 2.3")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Linha 2")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("Linha 2")])],1),a("q-item-main",{attrs:{label:"Linha 2"}},[a("q-item-tile",{attrs:{stamp:""}},[e._v("Linha 2.2")]),a("q-item-tile",{attrs:{stamp:""}},[e._v("Linha 2.3")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Linha 2")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("Linha 2")])],1)],1):e._e(),a("q-item-separator")],1)}),a("q-pagination",{staticClass:"justify-center q-mb-sm",attrs:{input:"",color:"dark",min:e.minPages,max:e.maxPages},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],2),a("q-tab-pane",{staticClass:"q-pa-none",staticStyle:{"border-top":"1px solid #e0e0e0"},attrs:{name:"xtab-2"}},[e._l(e.lista,function(t){return a("q-list",{key:t,staticClass:"q-py-none qListaItems"},[a("q-item",{staticClass:"itemLista"},[a("q-item-side",{staticClass:"sidecheckbox"},[a("q-checkbox",{model:{value:e.checkboxModel,callback:function(t){e.checkboxModel=t},expression:"checkboxModel"}})],1),a("q-item-side",{nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}},[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{staticClass:"hideondesktop",attrs:{label:t.name},nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.email))]),a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.tel))]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Tag")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("Tag")])],1),a("q-item-main",{staticClass:"hideonmobile",attrs:{label:t.name},nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}}),a("q-item-main",{staticClass:"hideonmobile",nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.email))])],1),a("q-item-main",{staticClass:"hideonmobile",nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.tel))])],1),a("q-item-main",{staticClass:"hideonmobile"},[a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("\n                    Tag\n                  ")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("\n                    Tag\n                  ")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{staticClass:"buttons",attrs:{color:"tertiary",size:"md",icon:t.showPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",flat:"",dense:"",round:""},nativeOn:{click:function(e){t.showPreviewDetail=!t.showPreviewDetail}}}),a("q-btn",{staticClass:"buttons",attrs:{color:"tertiary",size:"md",icon:"edit",flat:"",dense:"",round:""},nativeOn:{click:function(t){e.showsectionm=!e.showsectionm}}}),a("q-btn",{staticClass:"buttons",attrs:{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:""}}),a("q-btn",{staticClass:"morevert",attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-py-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1),t.showPreviewDetail?a("q-item",{staticClass:"q-pa-md"},[a("q-item-main",{attrs:{label:"Linha 2"}},[a("q-item-tile",{attrs:{stamp:""}},[e._v("Linha 2.2")]),a("q-item-tile",{attrs:{stamp:""}},[e._v("Linha 2.3")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Linha 2")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("Linha 2")])],1)],1):e._e(),a("q-item-separator")],1)}),a("q-pagination",{staticClass:"justify-center q-mb-sm",attrs:{input:"",color:"dark",min:e.minPages,max:e.maxPages},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],2)],1)],1):e._e(),e.section?a("div",[a("Tarefas-lista"),a("q-layout-footer",{staticClass:"bg-light no-shadow q-pa-none text-right  col-12 col-lg-9",attrs:{reveal:""}},[a("div",{staticClass:"row justify-between q-py-xs"},[a("div",{staticClass:"col-auto text-center"},[a("q-btn",{staticClass:"q-pa-sm",attrs:{color:"tertiary",size:"md",icon:"group_add",flat:""}})],1),a("div",{staticClass:"col-auto text-center"},[a("q-btn",{staticClass:"q-pa-sm",attrs:{color:"tertiary",size:"md",icon:"mdi-cart-plus",flat:""}})],1),a("div",{staticClass:"col-auto text-center"},[a("q-btn",{staticClass:"q-pa-sm",attrs:{color:"tertiary",size:"md",flat:"",icon:"mdi-attachment"}})],1),a("div",{staticClass:"col-auto text-center"},[a("q-btn",{staticClass:"q-pa-sm",attrs:{color:"tertiary",size:"md",flat:"",icon:"mdi-format-list-checks"}})],1),a("q-field",{staticClass:"col",attrs:{"icon-color":"primary"}},[a("q-input",{staticClass:"bg-white q-px-md q-mx-sm",staticStyle:{"border-radius":"4px"},attrs:{type:"textarea",value:"",rows:"1",placeholder:"Digite seu comentário"}})],1),a("div",{staticClass:"col-auto text-center"},[a("q-btn",{staticClass:"q-pa-sm q-mx-sm no-shadow",attrs:{color:"none","text-color":"primary",size:"md",icon:"mdi-send",dense:"",round:""}})],1)],1),a("div",{staticClass:"row justify-between q-py-xs bg-grey-3"},[a("div",{staticClass:"col"},[a("q-btn",{staticClass:"q-ml-sm no-shadow float-left",attrs:{color:"green",icon:"play_arrow",round:""}})],1),a("div",{staticClass:"col-auto"},[a("q-btn",{staticClass:"q-ml-sm no-shadow q-mx-sm ",attrs:{color:"negative ",label:"FINALIZAR"}}),a("q-btn",{staticClass:"no-shadow",attrs:{color:"primary",label:"Salvar"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{color:"faded",flat:"",icon:"more_vert",round:""}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},[a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:"Transferir"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:"Duplicar"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:"Cancelar"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:"Reabrir"}})],1)],1)],1)],1)],1)])])],1):e._e(),e.kanban?a("div",[a("tarefas-kanban")],1):e._e(),e.gantt?a("div",[a("tarefas-gantt")],1):e._e(),e.kanbanL?a("div",[a("q-toolbar",{staticClass:"q-py-sm",attrs:{color:"primary"}},[a("q-btn-group",{staticClass:"no-shadow"},[a("q-btn",{staticClass:"hideonmobile q-px-xs",attrs:{icon:"vertical_split",color:e.section?"white":"none","text-color":e.section?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("section")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"view_column",color:e.kanbanL?"white":"none","text-color":e.kanbanL?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("kanbanL")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"mdi-chart-gantt",color:e.ganttL?"white":"none","text-color":e.ganttL?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("ganttL")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"view_headline",color:e.list?"white":"none","text-color":e.list?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("list")}}})],1),a("q-toolbar-title",[a("q-search",{ref:"buscaCampo",staticStyle:{"max-width":"990px",margin:"0 auto"},attrs:{color:"none",inverted:"",placeholder:"Buscar"},model:{value:e.buscaCampo,callback:function(t){e.buscaCampo=t},expression:"buscaCampo"}})],1),a("q-btn",{staticClass:"hideonmobile",attrs:{flat:"",dense:"",icon:"add",round:""}},[a("q-tooltip",[e._v("Criar")])],1),a("q-btn",{staticClass:"no-shadow q-px-xs",attrs:{icon:"mdi-filter",flat:"",dense:"",round:""},on:{click:e.abrirFiltro}})],1),a("tarefas-kanban")],1):e._e(),e.ganttL?a("div",[a("q-toolbar",{staticClass:"q-py-sm",attrs:{color:"primary"}},[a("q-btn-group",{staticClass:"no-shadow"},[a("q-btn",{staticClass:"hideonmobile q-px-xs",attrs:{icon:"vertical_split",color:e.section?"white":"none","text-color":e.section?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("section")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"view_column",color:e.kanbanL?"white":"none","text-color":e.kanbanL?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("kanbanL")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"mdi-chart-gantt",color:e.ganttL?"white":"none","text-color":e.ganttL?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("ganttL")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"view_headline",color:e.list?"white":"none","text-color":e.list?"primary":"white"},nativeOn:{click:function(t){e.carregaComponent("list")}}})],1),a("q-toolbar-title",[a("q-search",{ref:"buscaCampo",staticStyle:{"max-width":"990px",margin:"0 auto"},attrs:{color:"none",inverted:"",placeholder:"Buscar"},model:{value:e.buscaCampo,callback:function(t){e.buscaCampo=t},expression:"buscaCampo"}})],1),a("q-btn",{staticClass:"hideonmobile",attrs:{flat:"",dense:"",icon:"add",round:""}},[a("q-tooltip",[e._v("Criar")])],1),a("q-btn",{staticClass:"no-shadow q-px-xs",attrs:{icon:"mdi-filter",flat:"",dense:"",round:""},on:{click:e.abrirFiltro}})],1),a("tarefas-gantt")],1):e._e()])],1),a("q-layout-drawer",{staticClass:"hideonmobile",attrs:{side:"left","content-class":"mydrawerL"},model:{value:e.showList,callback:function(t){e.showList=t},expression:"showList"}},[a("div",{staticClass:"background"},[a("Lista-menu",{attrs:{sectionBT:e.section,listBT:e.list},on:{myEvent:e.carregaComponent,abrirItem:e.abrirItem,abrirFiltro:e.abrirFiltro}})],1)]),a("q-layout-drawer",{attrs:{side:"right","content-class":"bg-grey-3 no-shadow"},model:{value:e.section,callback:function(t){e.section=t},expression:"section"}},[a("tarefas-dados-clientes")],1),a("q-layout-drawer",{style:e.showFilters?{opacity:1}:{opacity:0},attrs:{side:e.left?"left":"right",id:"mydrawer","content-class":"mydrawerFL"},model:{value:e.showFilters,callback:function(t){e.showFilters=t},expression:"showFilters"}},[a("q-toolbar",{attrs:{color:"white","text-color":"faded"}},[a("q-icon",{attrs:{name:"mdi-filter",color:"faded"}}),a("q-toolbar-title",{staticClass:"q-subheading"},[e._v("Filtrar")]),a("q-btn",{attrs:{dense:"",flat:"",icon:"close",round:""},on:{click:function(t){e.showFilters=!e.showFilters}}})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 row q-px-md"},[a("h1",{staticClass:"col-12 q-body-2 text-dark"},[e._v("Empresas")]),a("q-chips-input",{staticClass:"no-shadow full-width",staticStyle:{"border-bottom":"1px solid white"},attrs:{multiple:"",color:"transparent",placeholder:"Buscar empresa","chips-color":"white","chips-bg-color":"primary"},model:{value:e.empresas.selected,callback:function(t){e.$set(e.empresas,"selected",t)},expression:"empresas.selected"}})],1),a("div",{staticClass:"col-12 row q-px-md q-mt-lg"},[a("h1",{staticClass:"col-12 q-body-2 text-dark"},[e._v("Período")]),a("div",{staticClass:"col-6 "},[a("q-datetime",{staticClass:"no-shadow full-width q-px-none q-body-2",staticStyle:{"border-bottom":"1px solid white"},attrs:{type:"date",minimal:"",prefix:"De"},model:{value:e.filtro.periodo.ini,callback:function(t){e.$set(e.filtro.periodo,"ini",t)},expression:"filtro.periodo.ini"}})],1),a("div",{staticClass:"col-6 "},[a("q-datetime",{staticClass:"no-shadow full-width q-px-none q-body-2",staticStyle:{"border-bottom":"1px solid white"},attrs:{type:"date",minimal:"",prefix:"até"},model:{value:e.filtro.periodo.fim,callback:function(t){e.$set(e.filtro.periodo,"fim",t)},expression:"filtro.periodo.fim"}})],1)]),a("div",{staticClass:"col-12 row q-px-md q-mt-lg"},[a("q-btn",{staticClass:"col-12",attrs:{color:"primary",label:"Aplicar"},on:{click:e.filtrar}})],1)])],1),a("q-modal",{attrs:{maximized:""},model:{value:e.showsectionm,callback:function(t){e.showsectionm=t},expression:"showsectionm"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"keyboard_arrow_left"}}),a("q-toolbar-title",[e._v("\n          Tarefa X\n        ")]),a("q-btn",{staticClass:"q-mr-sm float-right",attrs:{cor:"positive",icone:"flag",flat:""}},[e._v("\n          Status\n        ")]),a("q-btn",{staticClass:"float-right",attrs:{icone:"playlist_add_check",flat:""}},[e._v("\n          #0001\n        ")])],1),a("Tarefas-lista")],1)],1)],1)},BD=[];zD._withStripped=!0;var LD=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"AdmOS"},[a("q-page-container",{staticStyle:{"padding-top":"0 !important"}},[a("q-page",[a("div",{staticClass:"row overflowXOS filterfalse"},e._l(e.listas,function(t,o){return a("div",{key:o,staticClass:"no-shadow q-py-sm col q-px-none coluna"},[a("div",{staticClass:"q-pa-none"},[a("q-toolbar",{staticClass:"no-shadow q-py-none q-px-sm"},[a("q-toolbar-title",{staticClass:"q-py-none"},[e._v("\n                "+e._s(o)+"\n              ")])],1),"Entregue"===o?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 q-px-none"},[a("campo",{staticClass:"q-mx-sm",attrs:{rotulo:"Início",tipo:"data"},model:{value:e.entregueInicio,callback:function(t){e.entregueInicio=t},expression:"entregueInicio"}}),a("campo",{staticClass:"q-mx-sm",attrs:{rotulo:"Fim",tipo:"data"},model:{value:e.entregueFim,callback:function(t){e.entregueFim=t},expression:"entregueFim"}})],1)]):e._e(),a("draggable",{staticClass:"dragAreaOS ",attrs:{delay:"400",list:t,group:"osGroup",draggable:".extratoOS"},on:{end:e.eventoEnd}},e._l(t,function(t){return!t.mostra||null!==e.prazoSelecionado&&e.prazoSelecionado!==t.corBorda?e._e():a("q-card",{key:t.codigoDocumento,staticClass:"q-pa-sm q-pb-md q-my-sm q-mb-md shadow-1 extratoOS bg-white",class:t.corBorda},[a("div",{staticClass:"row q-mt-xs"},[a("div",{staticClass:"col-6"},[a("badge",{staticClass:"q-mx-xs ",attrs:{cor:"negative",escuro:"",rotulo:"urgente"}})],1),a("div",{staticClass:"col-6 justify-end q-pr-xs",staticStyle:{display:"flex"}},[a("badge",{staticClass:"q-mx-sm ",attrs:{cor:"grey-1",icone:"shopping_cart",rotulo:t.numeroVenda}}),a("badge",{attrs:{cor:"grey-8",escuro:"",icone:"assignment_turned_in",rotulo:t.numeroOS}})],1)]),a("q-card-title",{staticClass:"q-pa-xs "},[a("div",{staticClass:"q-subheading"},[e._v(e._s(t.nomeCliente))]),a("span",{staticClass:"q-caption",attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n                    Empresa: "+e._s(t.descricaoEmpresa)+"\n                  ")])]),a("q-card-main",{staticClass:"row q-pa-xs q-pb-none q-mt-md"},[a("div",{staticClass:"col-11"},[a("div",{staticStyle:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},[a("q-icon",{attrs:{name:"person",color:"grey-7",size:"14px"}})],1),a("div",{staticClass:"q-caption",staticStyle:{display:"inline-block","margin-right":"6px"}},[e._v(e._s(t.nomeResponsavel))]),a("div",{staticStyle:{background:"rgb(236, 239, 241)","border-radius":"50px","text-align":"center",display:"inline-block",width:"22px",height:"22px","line-height":"22px","margin-right":"3px"}},[a("q-icon",{attrs:{name:"calendar_today",color:"grey-7",size:"14px"}})],1),a("div",{staticClass:"q-caption",staticStyle:{display:"inline-block"}},[e._v(e._s(e._f("data")(t.dataHoraEmissao)))])]),a("div",{staticClass:"col-1 self-end"},[a("q-icon",{staticStyle:{color:"grey",float:"right","text-align":"right","font-size":"1.2rem",cursor:"pointer"},attrs:{name:"more_vert",color:"blue-grey-6",onMouseOver:"this.style.color='black'",onMouseOut:"this.style.color='grey'"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{link:"",separator:""}},[a("q-item",{nativeOn:{click:function(a){e.exibirHistorico(t.codigoDocumento)}}},[a("q-item-side",{attrs:{icon:"history"}}),a("q-item-main",{attrs:{label:"Histórico do Status"}})],1),a("q-item",{nativeOn:{click:function(a){e.irParaAtendimento(t.codigoContato)}}},[a("q-item-side",{attrs:{icon:"launch"}}),a("q-item-main",{attrs:{label:"Ir para o Atendimento"}})],1)],1)],1)],1)],1)])],1)}))],1)])})),a("OS-trocar-status",{attrs:{dados:e.trocarStatusDados},on:{confirmar:e.eventoConfirmarTroca,cancelar:e.eventoCancelarTroca},model:{value:e.trocarStatusModal,callback:function(t){e.trocarStatusModal=t},expression:"trocarStatusModal"}}),e.modalHistoricoStatus.activated?a("modal-historico-status",{attrs:{dados:e.modalHistoricoStatus}}):e._e()],1)],1)],1)},VD=[];LD._withStripped=!0;var UD={components:{Badge:Bd,Campo:Sl,OSTrocarStatus:ey,ModalHistoricoStatus:Nv,draggable:ay.a},data:function(){return{drawer:!0,showfilters:!0,empresaOpcoes:[],empresaSelecionada:null,entregueInicio:new Date(new Date(na()).toDateString()),entregueFim:new Date(new Date(na()).toDateString()),fraseFiltro:"",listas:{Processando:[],Entregue:[]},trocarStatusDados:{},trocarStatusModal:!1,periodoOpcoes:[{label:"Hoje",value:0},{label:"Uma semana",value:7},{label:"Um mês",value:30}],prazoSelecionado:null,prazoOpcoes:[{label:"Em dia",value:"bordaVerdeOS"},{label:"Entrega para esta semana",value:"bordaAmarelaOS"},{label:"Entrega atrasada",value:"bordaVermelhaOS"}],modalHistoricoStatus:{}}},methods:{eventoEnd:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(this.listas);case 1:if((e.t1=e.t0()).done){e.next=34;break}t=e.t1.value,a=!0,o=!1,i=void 0,e.prev=6,r=this.listas[t][Symbol.iterator]();case 8:if(a=(s=r.next()).done){e.next=18;break}if(n=s.value,n.status===t){e.next=15;break}return ei.log("AdmOS","eventoEnd De:",n.status,"Para:",t,"codigo:",n.codigoDocumento),this.trocarStatusDados={codigoContatoResponsavel:n.codigoContatoResponsavel,codigoDocumento:n.codigoDocumento,codigoUsuario:null,nomeCliente:n.nomeCliente,observacao:"",statusAtual:n.status,statusNovo:t},this.trocarStatusModal=!0,e.abrupt("return");case 15:a=!0,e.next=8;break;case 18:e.next=24;break;case 20:e.prev=20,e.t2=e["catch"](6),o=!0,i=e.t2;case 24:e.prev=24,e.prev=25,a||null==r.return||r.return();case 27:if(e.prev=27,!o){e.next=30;break}throw i;case 30:return e.finish(27);case 31:return e.finish(24);case 32:e.next=1;break;case 34:case"end":return e.stop()}},e,this,[[6,20,24,32],[25,,27,31]])}));return function(){return e.apply(this,arguments)}}(),eventoConfirmarTroca:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("AdmOS","eventoConfirmaTroca",at()({},t)),this.$q.loading.show(),e.prev=2,e.next=5,Zn.usuario.leOnline(Zn.usuario.logado.id);case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1=[];case 8:if(e.t0=e.t1[0],e.t0){e.next=11;break}e.t0={};case 11:return a=e.t0,t.codigoUsuario=a.codigoUsuario,e.next=15,Zn.os.trocaStatusOnline(t);case 15:this.$q.notifyPositive("Status trocado com sucesso"),this.atualiza(),e.next=22;break;case 19:e.prev=19,e.t2=e["catch"](2),this.$q.notifyError("Erro na troca de status",e.t2);case 22:return e.prev=22,this.$q.loading.hide(),e.finish(22);case 25:case"end":return e.stop()}},e,this,[[2,19,22,25]])}));return function(t){return e.apply(this,arguments)}}(),eventoCancelarTroca:function(e){ei.log("AdmOS","eventoCancelarTroca",e),this.atualiza()},empresaOpcoesCarregar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("AdmOS","empresaOpcoesCarregar()"),e.next=3,Zn.empresa.leOnline();case 3:e.t0=function(e){return{label:e.nome,value:e.codigoContato}},this.empresaOpcoes=e.sent.map(e.t0);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),filtraDebounce:function(){Object(ot["debounce"])(this.refazFiltro,700)()},refazFiltro:function(){ei.log("AdmOSs","refazFiltro()",this.fraseFiltro,this.empresaSelecionada);var e=oo(this.fraseFiltro.toUpperCase()).split(" ").filter(function(e){return""!==e});for(var t in this.listas){var a=!0,o=!1,i=void 0;try{for(var r,s=this.listas[t][Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var n=r.value,c=oo(n.id.toUpperCase()+n.nomeCliente.toUpperCase()+n.nomeResponsavel.toUpperCase()+" "+String(n.numeroVenda)+"  "+String(n.numeroOS)+" "),l=!0,d=!0,u=!1,m=void 0;try{for(var p,v=e[Symbol.iterator]();!(d=(p=v.next()).done);d=!0){var h=p.value;l=isNaN(Number(h))?l&&c.includes(h):l&&c.includes(" "+h+" ")}}catch(e){u=!0,m=e}finally{try{d||null==v.return||v.return()}finally{if(u)throw m}}this.empresaSelecionada&&(l=l&&this.empresaSelecionada===n.codigoEmpresa),n.mostra=l}}catch(e){o=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}}},atualiza:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zn.os.leAdmOSOnline({entregueInicio:this.entregueInicio,entregueFim:this.entregueFim});case 3:return t=e.sent,ei.log("AdmOS","atualiza()",t.length),Do(!t||!t.length,"Não há ordens de serviço"),e.next=8,Zn.configuracoes.le({nome:"vendas.os.status"});case 8:for(a=e.sent,a=a.filter(function(e){return!["Processando","Entregue"].includes(e.texto)}),o={Processando:[]},i=!0,r=!1,s=void 0,e.prev=14,n=Object(ot["orderBy"])(a,"valor","asc").map(function(e){return e.texto})[Symbol.iterator]();!(i=(c=n.next()).done);i=!0)l=c.value,o[l]=[];e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](14),r=!0,s=e.t0;case 22:e.prev=22,e.prev=23,i||null==n.return||n.return();case 25:if(e.prev=25,!r){e.next=28;break}throw s;case 28:return e.finish(25);case 29:return e.finish(22);case 30:for(o["Entregue"]=[],d=!0,u=!1,m=void 0,e.prev=34,p=t[Symbol.iterator]();!(d=(v=p.next()).done);d=!0)h=v.value,f="bordaVerdeOS","Entregue"===h.status?h.dataHoraPrevisto&&h.dataHoraFinalizado&&(C=new Date(new Date(h.dataHoraPrevisto).toDateString()),b=new Date(new Date(h.dataHoraFinalizado).toDateString()),g=(b-C)/864e5,f=g>=0?"bordaVermelhaOS":g>-7?"bordaAmarelaOS":"bordaVerdeOS"):h.dataHoraPrevisto&&(x=new Date(new Date(h.dataHoraPrevisto).toDateString()),_=new Date((new Date).toDateString()),q=(_-x)/864e5,f=q>=0?"bordaVermelhaOS":q>-7?"bordaAmarelaOS":"bordaVerdeOS"),S={id:h.id,codigoCompra:h.codigoCompra||"-",codigoContatoResponsavel:h.codigoContatoResponsavel,codigoDocumento:h.codigoDocumento,codigoContato:h.codigoContato,codigoEmpresa:h.codigoEmpresa,descricaoEmpresa:h.descricaoEmpresa,corBorda:f,dataHoraEmissao:new Date(h.dataHoraEmissao),dataHoraFinalizado:new Date(h.dataHoraFinalizado),dataHoraRetorno:new Date(h.dataHoraRetorno),dataHoraPrevisto:new Date(h.dataHoraPrevisto),mostra:!0,nomeCliente:h.nomeCliente||"-",nomeResponsavel:h.nomeResponsavel||"-",numeroVenda:h.numeroVenda||"-",numeroOS:h.numeroOS||"-",status:h.status},o[h.status]&&o[h.status].push(S);e.next=42;break;case 38:e.prev=38,e.t1=e["catch"](34),u=!0,m=e.t1;case 42:e.prev=42,e.prev=43,d||null==p.return||p.return();case 45:if(e.prev=45,!u){e.next=48;break}throw m;case 48:return e.finish(45);case 49:return e.finish(42);case 50:this.listas=o,this.refazFiltro(),e.next=57;break;case 54:e.prev=54,e.t2=e["catch"](0),this.$q.notifyError("Erro na consulta online de oss",e.t2);case 57:case"end":return e.stop()}},e,this,[[0,54],[14,18,22,30],[23,,25,29],[34,38,42,50],[43,,45,49]])}));return function(){return e.apply(this,arguments)}}(),irParaAtendimento:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He().contato.where({codigoContato:t}).first();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:a=e.t0,a.id&&this.$router.push({name:"Atendimento",params:{id:a.id}});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),exibirHistorico:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.$q.loading.show({message:"Processando"}),e.next=4,Zn.documentoStatus.leHistoricoOnline(t);case 4:if(a=e.sent,a.status.length){e.next=8;break}return this.$q.notify({type:"warning",message:"Não há histórico disponível."}),e.abrupt("return");case 8:return this.modalHistoricoStatus.activated||(this.modalHistoricoStatus={activated:!0}),e.next=11,this.$nextTick();case 11:this.modalHistoricoStatus=at()({},this.modalHistoricoStatus,{show:!0},a),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),this.$q.notify({type:"negative",message:e.t0.message});case 17:return e.prev=17,this.$q.loading.hide(),e.finish(17);case 20:case"end":return e.stop()}},e,this,[[0,14,17,20]])}));return function(t){return e.apply(this,arguments)}}()},watch:{entregueInicio:function(){ei.log("AdmOSs","entregueInicio"),this.atualiza()},entregueFim:function(){ei.log("AdmOSs","entregueFim"),this.atualiza()}},created:function(){ei.log("AdmOSs","created()"),this.atualiza()}},HD=UD,QD=(a("de98"),Object(sc["a"])(HD,LD,VD,!1,null,"ed48b0e2",null));QD.options.__file="TarefasKanban.vue";var GD=QD.exports,JD=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"AdmOS"},[a("q-page-container",{staticStyle:{"padding-top":"0 !important"}},[a("gantt-elastic",{attrs:{tasks:e.tasks,options:e.options}})],1)],1)},XD=[];JD._withStripped=!0;var YD={components:{GanttElastic:ly["a"]},data:function(){return{showfilters:!0,listas:{Processando:[],Entregue:[]},empresaOpcoes:[],empresaSelecionada:null,fraseFiltro:"",trocarStatusDados:{},trocarStatusModal:!1,periodoOpcoes:[{label:"Hoje",value:0},{label:"Uma semana",value:7},{label:"Um mês",value:30}],prazoSelecionado:null,prazoOpcoes:[{label:"Em dia",value:"bordaVerdeOS"},{label:"Entrega para esta semana",value:"bordaAmarelaOS"},{label:"Entrega atrasada",value:"bordaVermelhaOS"}],modalHistoricoStatus:{},tasks:[{id:1,label:"Make some noise",user:'<a href="https://www.google.com/search?q=John+Doe" target="_blank" style="color:#0077c0;">John Doe</a>',start:this.getDate(-120),duration:432e3,progress:85,type:"project"},{id:2,label:"With great power comes great responsibility",user:'<a href="https://www.google.com/search?q=Peter+Parker" target="_blank" style="color:#0077c0;">Peter Parker</a>',parentId:1,start:this.getDate(-96),duration:345600,progress:50,type:"milestone",style:{fill:"#1EBC61",stroke:"#0EAC51"},progressBarStyle:{bar:{fill:"#0EAC51"}}},{id:3,label:"Courage is being scared to death, but saddling up anyway.",user:'<a href="https://www.google.com/search?q=John+Wayne" target="_blank" style="color:#0077c0;">John Wayne</a>',parentId:2,start:this.getDate(-72),duration:172800,progress:100,type:"task"}],options:{title:{label:"Your project title as html (link or whatever...)",html:!1,style:{"font-size":"20px","vertical-align":"middle","font-weight":"400","line-height":"35px","padding-left":"22px","letter-spacing":"1px"}},taskList:{columns:[{id:1,label:"ID",value:"id",width:40},{id:2,label:"Description",value:"label",width:200,expander:!0},{id:3,label:"Assigned to",value:"user",width:130,html:!0},{id:3,label:"Start",value:function(e){return e.startDate.format("YYYY-MM-DD")},width:78},{id:4,label:"Type",value:"type",width:68},{id:5,label:"%",value:"progress",width:35,styles:{label:{"text-align":"center",width:"100%"},value:{"text-align":"center",width:"100%"}}}]},locale:{code:"en",Now:"Now","X-Scale":"Zoom-X","Y-Scale":"Zoom-Y","Task list width":"Task list","Before/After":"Expand","Display task list":"Task list"}}}},methods:{getDate:function(e){var t=new Date,a=t.getFullYear(),o=t.getMonth()+1,i=t.getDate(),r=new Date("".concat(a,"-").concat(o,"-").concat(i," 00:00:00")).getTime();return new Date(r+60*e*60*1e3)}}},WD=YD,ZD=(a("413a"),Object(sc["a"])(WD,JD,XD,!1,null,"1fee3b6e",null));ZD.options.__file="TarefasGantt.vue";var KD=ZD.exports,eE=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"TarefasLista",attrs:{view:"hHh Lpr lFr"}},[a("q-toolbar",{staticClass:"q-py-sm q-px-none q-mb-none",attrs:{color:"none","text-color":"dark"}},[a("q-btn",{staticClass:"no-shadow",attrs:{icon:"keyboard_arrow_left",label:"Lista",color:"primary",flat:"",dense:"",round:""}}),a("q-toolbar-title",[a("q-tabs",{attrs:{color:"none","text-color":"dark"},model:{value:e.tabsModel,callback:function(t){e.tabsModel=t},expression:"tabsModel"}},[a("q-tab",{attrs:{slot:"title",name:"xtab-1",label:"message",default:""},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"xtab-2",label:"account_box"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"xtab-3",label:"mail"},slot:"title"})],1)],1),a("q-btn",{attrs:{flat:"",dense:"",icon:"close",color:"negative",round:""}},[a("q-tooltip",[e._v("Fechar")])],1),a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md",color:"faded"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-pa-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1),a("div",{staticClass:"u-container"},[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"q-pl-sm border-1 q-mb-none DocumentoMetas text-faded row"},[a("div",{staticClass:"col-12 col-lg"},[a("q-field",[a("q-input",{staticClass:"q-title",attrs:{placeholder:"Assunto",value:"Assunto"}})],1)],1),a("div",{staticClass:"col-12 col-lg-auto "},[a("badge",{staticClass:"q-mx-sm q-mt-sm",attrs:{cor:"positive",icone:"flag",escuro:""}},[e._v("\n              Status\n            ")]),a("badge",{staticClass:"q-mt-sm",attrs:{cor:"faded",escuro:"",icone:"playlist_add_check"}},[e._v("\n              #0001\n            ")]),a("q-btn",{staticClass:"q-mx-sm",attrs:{color:"primary",icon:"print",flat:"",dense:"",round:""}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:"Imprimir Orçamento"}})],1),a("q-item",[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:"Imprimir Envelope"}})],1)],1)],1)],1),a("q-btn",{attrs:{color:"primary",icon:"person",flat:"",dense:"",round:""}})],1)]),a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12 col-lg-7 items-stretch"},[a("tarefas-assunto"),a("q-card",{staticClass:"extratoItem bg-white q-pa-md  q-mt-md no-shadow"},[a("q-toolbar",{staticClass:"q-pa-none q-ma-none q-mb-md",staticStyle:{"min-height":"auto"},attrs:{color:"none","text-color":"black"}},[a("p",{staticClass:"q-item-label q-mb-none",staticStyle:{color:"#0c0c0c"}},[a("q-icon",{staticClass:"q-mr-md ",staticStyle:{color:"#737373"},attrs:{name:"history",size:"24px"}}),e._v("\n                  Atividades\n                ")],1)]),a("q-toolbar-title",{staticClass:"q-px-none"},[a("q-search",{ref:"buscaCampo",staticStyle:{"max-width":"990px",margin:"0 auto"},attrs:{color:"none",placeholder:"Buscar"},model:{value:e.buscaCampo,callback:function(t){e.buscaCampo=t},expression:"buscaCampo"}})],1),a("q-list",{staticClass:"q-px-none",attrs:{highlight:""}},[a("q-list-header",[e._v("24/09/2020")]),e._l(e.lista,function(t){return a("q-item",{key:t,staticClass:"q-py-xs"},[a("q-item-side",[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{attrs:{label:t.name}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.email))]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",denso:"",cor:"positive"}},[e._v("Tag")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",denso:"",cor:"primary"}},[e._v("Tag")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-pa-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1)}),a("q-item-separator"),a("q-list-header",[e._v("22/09/2020")]),e._l(e.lista,function(t){return a("q-item",{key:t,staticClass:"q-py-xs"},[a("q-item-side",[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{attrs:{label:t.name}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.email))]),a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.tel))]),a("badge",{staticClass:"q-mr-sm",attrs:{denso:"",escuro:"",cor:"positive"}},[e._v("Tag")]),a("badge",{staticClass:"q-mr-sm",attrs:{denso:"",escuro:"",cor:"primary"}},[e._v("Tag")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-pa-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1)})],2)],1)],1),a("div",{staticClass:"col-12 col-lg-5 items-stretch"},[a("tarefas-incluir-projetos"),a("tarefas-produtos-servicos"),a("tarefas-arquivos"),a("tarefas-checklist"),a("tarefas-convidados")],1)])])])])],1)},tE=[];eE._withStripped=!0;var aE=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticClass:"extratoItem bg-white q-pa-md q-mt-md no-shadow"},[a("q-toolbar",{staticClass:"q-pa-none q-ma-none q-mb-md",staticStyle:{"min-height":"auto"},attrs:{color:"none","text-color":"black"}},[a("p",{staticClass:"q-item-label q-mb-none",staticStyle:{color:"#0c0c0c"}},[a("q-icon",{staticClass:"q-mr-md",staticStyle:{color:"#737373"},attrs:{name:"mdi-format-list-checks",size:"24px"}}),e._v(" Checklist\n    ")],1)]),a("q-list",{staticClass:"q-pa-none",attrs:{highlight:""}},e._l(e.lista,function(t){return a("q-item",{key:t},[a("q-item-side",{staticClass:"sidecheckbox"},[a("q-checkbox",{attrs:{dark:"","keep-color":""},model:{value:t.checkboxModel,callback:function(a){e.$set(t,"checkboxModel",a)},expression:"item.checkboxModel"}})],1),a("q-item-main",[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.email))])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-pa-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1)})),a("div",{staticClass:"q-mt-md text-center"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"To Do",outline:"",size:"xs"}})],1)],1)},oE=[];aE._withStripped=!0;var iE={components:{},data:function(){return{data:"",lista:[{name:"Titulo do toDo",email:"o to do da lista",tags:["tag1","tag2"],checkboxModel:!1},{name:"Titulo do toDo",email:"o to do da lista",tags:["tag1","tag2"],checkboxModel:!1},{name:"Titulo do toDo",email:"o to do da lista",tags:["tag1","tag2"],checkboxModel:!1}],ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]}}},rE=iE,sE=Object(sc["a"])(rE,aE,oE,!1,null,null,null);sE.options.__file="TarefasChecklist.vue";var nE=sE.exports,cE=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticClass:"extratoItem bg-white q-pa-md q-mt-md no-shadow"},[a("q-toolbar",{staticClass:"q-pa-none q-ma-none q-mb-md",staticStyle:{"min-height":"auto"},attrs:{color:"none","text-color":"black"}},[a("p",{staticClass:"q-item-label q-mb-none",staticStyle:{color:"#0c0c0c"}},[a("q-icon",{staticClass:"q-mr-md",staticStyle:{color:"#737373"},attrs:{name:"mdi-attachment",size:"24px"}}),e._v(" Arquivos\n    ")],1)]),a("arquivo",{ref:"arquivo"})],1)},lE=[];cE._withStripped=!0;var dE={components:{Arquivo:zv},data:function(){return{data:"",ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]}}},uE=dE,mE=Object(sc["a"])(uE,cE,lE,!1,null,null,null);mE.options.__file="TarefasArquivos.vue";var pE=mE.exports,vE=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticClass:"extratoItem bg-white q-pa-md q-mt-md no-shadow"},[a("q-toolbar",{staticClass:"q-pa-none q-ma-none q-mb-md",staticStyle:{"min-height":"auto"},attrs:{color:"none","text-color":"faded"}},[a("p",{staticClass:"q-item-label q-mb-none",staticStyle:{color:"#0c0c0c"}},[a("q-icon",{staticClass:"q-mr-md",staticStyle:{color:"#737373"},attrs:{name:"mdi-chart-timeline",size:"24px"}}),e._v(" Projeto 1\n    ")],1),a("q-toolbar-title",{staticClass:"q-pa-none q-ma-none",staticStyle:{height:"0 !important","min-height":"auto"}}),a("q-btn",{attrs:{flat:"",dense:"",icon:"edit",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-pa-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-main",{attrs:{label:"Projeto 4"}})],1),a("q-item",[a("q-item-main",{attrs:{label:"Projeto 2"}})],1),a("q-item",[a("q-item-main",{attrs:{label:"Projeto 3"}})],1),a("q-item",[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Novo Projeto",outline:"",size:"xs"}})],1)],1)],1)],1)],1),a("div",{staticClass:"row"},[a("q-list",{staticClass:"q-pa-none no-border col-12",attrs:{highlight:""}},[a("q-item",{staticClass:"q-pa-xs"},[a("q-item-main",[a("q-item-tile",{attrs:{stamp:""}},[e._v("Etapa")]),a("q-item-tile",{staticClass:"q-subheading",attrs:{stamp:""}},[e._v("Status 1")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"edit",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-pa-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-main",{attrs:{label:"Status 4"}})],1),a("q-item",[a("q-item-main",{attrs:{label:"Status 2"}})],1),a("q-item",[a("q-item-main",{attrs:{label:"Status 3"}})],1)],1)],1)],1)],1)],1)],1)],1)],1)},hE=[];vE._withStripped=!0;var fE={components:{},data:function(){return{data:"",ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]}}},CE=fE,bE=(a("d7bb"),Object(sc["a"])(CE,vE,hE,!1,null,"161dc8ec",null));bE.options.__file="TarefasIncluirProjetos.vue";var gE=bE.exports,xE=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticClass:"extratoItem bg-white q-pa-md q-mt-md no-shadow"},[a("q-toolbar",{staticClass:"q-pa-none q-ma-none q-mb-md",staticStyle:{"min-height":"auto"},attrs:{color:"none","text-color":"black"}},[a("p",{staticClass:"q-item-label q-mb-none",staticStyle:{color:"#0c0c0c"}},[a("q-icon",{staticClass:"q-mr-md",staticStyle:{color:"#737373"},attrs:{name:"shopping_cart",size:"24px"}}),e._v(" Classificação /\n      Carrinho\n    ")],1)]),a("div",{staticClass:"gutter-x-sm q-py-sm row"},[a("q-list",{staticClass:"q-pa-none no-border col-12",attrs:{highlight:""}},[a("q-item",{staticClass:"q-pa-xs"},[a("q-item-side",{staticClass:"q-px-none"},[a("avatar",{staticStyle:{float:"left"},attrs:{imagem:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQZH7c1xxmppduvnIzq7oevpcDCK3nDoGgqjR6-yZ7L7kHCKDeq",rotulo:"avatar",tamanho:"30"}})],1),a("q-item-main",{attrs:{label:"Descricao"}},[a("q-item-tile",{attrs:{stamp:""}},[e._v("marca")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1)],1)],1)],1),a("div",{staticClass:"q-mt-md text-center"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Produto / Serviço",outline:"",size:"xs"}})],1)],1)},_E=[];xE._withStripped=!0;var qE={components:{Avatar:Fc},data:function(){return{data:"",ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]}}},SE=qE,IE=Object(sc["a"])(SE,xE,_E,!1,null,null,null);IE.options.__file="TarefasProdutosServicos.vue";var FE=IE.exports,wE=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-card",{staticClass:"extratoItem bg-white q-pa-md no-shadow  q-mt-md"},[a("div",{staticClass:"q-pa-none border-1 DocumentoMetas row gutter-x-sm"},[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12"},[a("q-toolbar",{staticClass:"q-pa-none q-ma-none q-mb-md",staticStyle:{"min-height":"auto"},attrs:{color:"none","text-color":"black"}},[a("p",{staticClass:"q-item-label q-mb-none",staticStyle:{color:"#0c0c0c"}},[a("q-icon",{staticClass:"q-mr-md",staticStyle:{color:"#737373"},attrs:{name:"playlist_add_check",size:"24px"}}),e._v(" Detalhe\n            ")],1)])],1),a("div",{staticClass:"col-12 "},[a("q-input",{staticClass:"bg-light q-px-md q-mb-none",attrs:{type:"textarea",placeholder:"Detalhamento da tarefa...",rows:"4"}})],1),a("div",{staticClass:" col-12 col-lg-4"},[a("q-list",{staticClass:"q-pa-none no-border q-mt-md",attrs:{highlight:""}},[a("q-item",{staticClass:"q-pa-xs"},[a("q-item-side",{staticClass:"q-px-none"},[a("avatar",{staticStyle:{float:"left"},attrs:{imagem:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQZH7c1xxmppduvnIzq7oevpcDCK3nDoGgqjR6-yZ7L7kHCKDeq",rotulo:"avatar",tamanho:"30"}})],1),a("q-item-main",[a("q-item-tile",{attrs:{stamp:""}},[e._v("Solicitante")]),a("q-item-tile",{staticClass:"q-subheading",attrs:{stamp:""}},[e._v("Jim Doe")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"edit",round:""}})],1)],1)],1)],1),a("div",{staticClass:" col-12 col-lg-4"},[a("q-list",{staticClass:"q-pa-none no-border q-mt-md",attrs:{highlight:""}},[a("q-item",{staticClass:"q-pa-xs"},[a("q-item-side",{staticClass:"q-px-none"},[a("avatar",{staticStyle:{float:"left"},attrs:{imagem:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQZH7c1xxmppduvnIzq7oevpcDCK3nDoGgqjR6-yZ7L7kHCKDeq",rotulo:"avatar",tamanho:"30"}})],1),a("q-item-main",[a("q-item-tile",{attrs:{stamp:""}},[e._v("Responsável")]),a("q-item-tile",{staticClass:"q-subheading",attrs:{stamp:""}},[e._v("Jim Doe")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"edit",round:""}})],1)],1)],1)],1),a("div",{staticClass:" col-12 col-lg-4  "},[a("campo",{staticClass:"ondesktop",attrs:{maxlength:"10",rotulo:"Prazo",tipo:"data"},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}})],1),a("div",{staticClass:"col-12 q-mt-md text-center"},[a("q-btn",{attrs:{color:"positive",label:"Ver mais",outline:"",size:"xs"},nativeOn:{click:function(t){e.showmetas=!e.showmetas}}})],1)]),e.showmetas?a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"DocumentoMetas-item col-12 col-lg-6 "},[a("div",{staticClass:"row q-mt-md text-faded"},[a("div",{staticClass:"DocumentoMetas-itemRotulo2 q-caption text-weight-bold col-auto q-mr-sm "},[e._v("Titulo meta")]),a("div",{staticClass:"DocumentoMetas-itemConteudo2 q-caption col"},[a("div",[e._v("Informacao meta")])])])]),a("div",{staticClass:"DocumentoMetas-item col-12 col-lg-6"},[a("div",{staticClass:"row q-mt-md text-faded"},[a("div",{staticClass:"DocumentoMetas-itemRotulo2 q-caption text-weight-bold col-auto q-mr-sm "},[e._v("Titulo meta")]),a("div",{staticClass:"DocumentoMetas-itemConteudo2 q-caption col"},[a("div",[e._v("Informacao meta")])])])]),a("div",{staticClass:"DocumentoMetas-item col-12 col-lg-6"},[a("div",{staticClass:"row q-mt-md text-faded"},[a("div",{staticClass:"DocumentoMetas-itemRotulo2 q-caption text-weight-bold col-auto q-mr-sm "},[e._v("Titulo meta")]),a("div",{staticClass:"DocumentoMetas-itemConteudo2 q-caption col"},[a("div",[e._v("Informacao meta")])])])]),a("div",{staticClass:"DocumentoMetas-item col-12 col-lg-6"},[a("div",{staticClass:"row q-mt-md text-faded"},[a("div",{staticClass:"DocumentoMetas-itemRotulo2 q-caption text-weight-bold col-auto q-mr-sm "},[e._v("Titulo meta")]),a("div",{staticClass:"DocumentoMetas-itemConteudo2 q-caption col"},[a("div",[e._v("Informacao meta")])])])])]):e._e()])]),a("q-modal",{attrs:{maximized:""},model:{value:e.modalcontatos,callback:function(t){e.modalcontatos=t},expression:"modalcontatos"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"keyboard_arrow_left"}}),a("q-toolbar-title",[e._v("Cliente X")])],1),a("div",{staticClass:"layout-padding"},[a("tarefas-dados-clientes")],1)],1)],1)],1)},yE=[];wE._withStripped=!0;var NE={components:{Avatar:Fc,Campo:Sl,TarefasDadosClientes:Gy},data:function(){return{data:"",modalcontatos:!1,ratingModel:"",showmetas:!1,selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]}},methods:{abrirModalContatos:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.modalcontatos=!0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},watch:{},created:function(){}},kE=NE,ME=(a("2adf"),Object(sc["a"])(kE,wE,yE,!1,null,"448ebf2e",null));ME.options.__file="TarefasAssunto.vue";var PE=ME.exports,DE=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticClass:"extratoItem bg-white q-pa-md q-mt-md no-shadow"},[a("q-toolbar",{staticClass:"q-pa-none q-ma-none q-mb-md",staticStyle:{"min-height":"auto"},attrs:{color:"none","text-color":"black"}},[a("p",{staticClass:"q-item-label q-mb-none",staticStyle:{color:"#0c0c0c"}},[a("q-icon",{staticClass:"q-mr-md",staticStyle:{color:"#737373"},attrs:{name:"people",size:"24px"}}),e._v(" Convidados\n    ")],1)]),a("div",{staticClass:"gutter-x-sm q-py-sm row"},[a("q-list",{staticClass:"q-pa-none no-border col-12",attrs:{highlight:""}},[a("q-item",{staticClass:"q-pa-xs"},[a("q-item-side",{staticClass:"q-px-none"},[a("avatar",{staticStyle:{float:"left"},attrs:{imagem:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQZH7c1xxmppduvnIzq7oevpcDCK3nDoGgqjR6-yZ7L7kHCKDeq",rotulo:"avatar",tamanho:"30"}})],1),a("q-item-main",{attrs:{label:"Descricao"}},[a("q-item-tile",{attrs:{stamp:""}},[e._v("marca")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""}})],1)],1)],1)],1),a("div",{staticClass:"q-mt-md text-center"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Convidado",outline:"",size:"xs"}})],1)],1)},EE=[];DE._withStripped=!0;var TE={components:{Avatar:Fc},data:function(){return{data:"",ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],modelchips:["teste","cliente 2"]}}},AE=TE,OE=Object(sc["a"])(AE,DE,EE,!1,null,null,null);OE.options.__file="TarefasConvidados.vue";var $E=OE.exports,RE={components:{Avatar:Fc,Badge:Bd,TarefasConvidados:$E,TarefasAssunto:PE,TarefasChecklist:nE,TarefasArquivos:pE,TarefasIncluirProjetos:gE,TarefasProdutosServicos:FE},data:function(){return{showkanbanm:!1,showganttm:!1,showtarefas:!0,showkanban:!1,showgantt:!1,opened:!1,data:"",lista:[{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"descricao do que foi feito, falado etc",tags:["tag1","tag2"],checkboxModel:!1}],ratingModel:"",selectOptions:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],select:[],modelchips:["teste","cliente 2"]}},methods:{carregaComponent:function(e){"showtarefas"===e&&(this.showtarefas=!0,this.showkanban=!1,this.showgantt=!1),"showkanban"===e&&(this.showtarefas=!1,this.showkanban=!0,this.showgantt=!1),"showgantt"===e&&(this.showtarefas=!1,this.showkanban=!1,this.showgantt=!0)},abrirModal:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.opened=!0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},watch:{},created:function(){}},jE=RE,zE=(a("8a36"),Object(sc["a"])(jE,eE,tE,!1,null,"960924b4",null));zE.options.__file="TarefasDocumento.vue";var BE=zE.exports,LE=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-toolbar",{staticClass:"q-py-sm",attrs:{color:"transparent"}},[a("q-btn-group",{staticClass:"no-shadow"},[a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"vertical_split",color:e.sectionBT?"white":"none","text-color":e.sectionBT?"primary":"white"},nativeOn:{click:function(t){e.clicou("section")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"view_column",color:e.kanban?"white":"none","text-color":e.kanban?"primary":"white"},nativeOn:{click:function(t){e.clicou("kanban")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"mdi-chart-gantt",color:e.gantt?"white":"none","text-color":e.gantt?"primary":"white"},nativeOn:{click:function(t){e.clicou("gantt")}}}),a("q-btn",{staticClass:"q-px-xs",attrs:{icon:"view_headline",color:e.listBT?"white":"none","text-color":e.listBT?"primary":"white"},nativeOn:{click:function(t){e.clicou("list")}}})],1),a("q-toolbar-title",{staticClass:"q-px-none"}),a("q-btn",{staticClass:"no-shadow",attrs:{color:"white","text-color":"primary",icon:"add",label:"Tarefas",size:"md",dense:""}})],1),a("q-toolbar",{attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"q-px-none"},[a("q-search",{ref:"buscaCampo",staticStyle:{"max-width":"990px",margin:"0 auto"},attrs:{color:"none",inverted:"",placeholder:"Buscar"},model:{value:e.buscaCampo,callback:function(t){e.buscaCampo=t},expression:"buscaCampo"}})],1),a("q-btn",{staticClass:"no-shadow q-ml-xs q-px-xs",attrs:{icon:"mdi-filter",flat:"",dense:"",round:""},on:{click:e.abrirFiltro}})],1),a("q-tabs",{staticClass:"q-mt-md ",attrs:{color:"none","text-color":"white"},model:{value:e.tabsModel,callback:function(t){e.tabsModel=t},expression:"tabsModel"}},[a("q-tab",{staticClass:"q-py-none q-px-lg",attrs:{slot:"title",name:"xtab-1",label:"Label 1",default:""},slot:"title"}),a("q-tab",{staticClass:"q-py-none q-px-lg",attrs:{slot:"title",name:"xtab-2",label:"Label 2"},slot:"title"}),a("q-tab-pane",{staticClass:"q-pa-none",staticStyle:{"border-top":"1px solid rgba(255, 255, 255, 0.25)"},attrs:{name:"xtab-1"}},[a("q-list",{staticClass:"q-pt-none",attrs:{highlight:"","no-border":"",separator:""}},e._l(e.lista,function(t){return a("q-item",{key:t,staticClass:"q-pa-xs itemlista",nativeOn:{click:function(a){e.abrirItem(t)}}},[a("q-item-side",{staticClass:"sidecheckbox"},[a("q-checkbox",{attrs:{dark:"","keep-color":"",color:"white"},model:{value:e.checkboxModel,callback:function(t){e.checkboxModel=t},expression:"checkboxModel"}})],1),a("q-item-side",[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{staticClass:"text-white",attrs:{label:t.name}},[a("q-item-tile",{staticClass:"text-white",attrs:{stamp:""}},[e._v(e._s(t.email))]),a("q-item-tile",{staticClass:"text-white",attrs:{stamp:""}},[e._v(e._s(t.tel))]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Tag")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("Tag")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",color:"white",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-pa-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1)})),a("q-pagination",{staticClass:"justify-center q-mb-sm",attrs:{color:"white","text-color":"primary",min:e.minPages,max:e.maxPages},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1),a("q-tab-pane",{staticClass:"q-pa-none",staticStyle:{"border-top":"1px solid rgba(255, 255, 255, 0.25)"},attrs:{name:"xtab-2"}},[a("q-list",{staticClass:"q-pt-none",attrs:{highlight:"","no-border":"",separator:""}},e._l(e.lista,function(t){return a("q-item",{key:t,staticClass:"q-pa-xs itemlista"},[a("q-item-side",{staticClass:"sidecheckbox"},[a("q-checkbox",{attrs:{dark:"","keep-color":"",color:"white"},model:{value:e.checkboxModel,callback:function(t){e.checkboxModel=t},expression:"checkboxModel"}})],1),a("q-item-side",[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{staticClass:"text-white",attrs:{label:t.name}},[a("q-item-tile",{staticClass:"text-white",attrs:{stamp:""}},[e._v(e._s(t.email))]),a("q-item-tile",{staticClass:"text-white",attrs:{stamp:""}},[e._v(e._s(t.tel))]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"positive"}},[e._v("Tag")]),a("badge",{staticClass:"q-mr-sm",attrs:{escuro:"",cor:"primary"}},[e._v("Tag")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",color:"white",round:"",size:"md"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"q-pa-none",attrs:{link:"","no-border":"",separator:""}},[a("q-item",[a("q-item-side",{attrs:{icon:"edit"}}),a("q-item-main",{attrs:{label:"Editar"}})],1)],1)],1)],1)],1)],1)})),a("q-pagination",{staticClass:"justify-center q-mb-sm",attrs:{color:"white","text-color":"primary",min:e.minPages,max:e.maxPages},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1)],1)},VE=[];LE._withStripped=!0;var UE={components:{Avatar:Fc,Badge:Bd},props:{sectionBT:{default:!0,type:Boolean},listBT:{default:!1,type:Boolean}},data:function(){return{tabsModel:"xtab-1",lista:[{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],checkboxModel:!1}],page:1,minPages:1,maxPages:5,buscaCampo:"",checkboxModel:[],carregando:!1,contatosEmpresa:[],dados:{},empresas:{selected:[],options:[]},empresasSelecionadas:[],erroEmpresas:!1,erroPeriodo:!1,filtro:{codigoClienteSistema:"",codigoContatoUsuario:"",dataConsulta:"",empresas:[],periodo:{ini:null,fim:""}},showingHelp:!1,showFilters:!0,showFiltersOpt:!0,gantt:!1,kanban:!1}},methods:{isMobile:function(){return window.innerWidth<768},filtrar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log("filtrar");case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),clicou:function(e){"kanban"===e&&(this.section=!1,this.kanban=!0,this.gantt=!1,this.list=!1),"gantt"===e&&(this.section=!1,this.kanban=!1,this.gantt=!0,this.list=!1),"section"===e&&(this.section=!0,this.kanban=!1,this.gantt=!1,this.list=!1),"list"===e&&(this.section=!1,this.list=!0,this.kanban=!1,this.gantt=!1),"section"===e&&this.isMobile()?this.showFiltersOpt=!1:this.$emit("myEvent",e)},abrirItem:function(e){this.$emit("abrirItem",e)},abrirFiltro:function(){this.$emit("abrirFiltro")}}},HE=UE,QE=(a("1796"),Object(sc["a"])(HE,LE,VE,!1,null,"74d7e0c6",null));QE.options.__file="ListaMenu.vue";var GE=QE.exports,JE={components:{ListaMenu:GE,TarefasDadosClientes:Gy,TarefasKanban:GD,TarefasGantt:KD,TarefasLista:BE,BarraTopo:El,Avatar:Fc,Badge:Bd},computed:{},data:function(){return{showsectionm:!1,tabsModel:"xtab-1",lista:[{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tags:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"]},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1}],page:1,minPages:1,maxPages:5,buscaCampo:"",checkboxModel:[],carregando:!1,contatosEmpresa:[],dados:{},empresas:{selected:[],options:[]},empresasSelecionadas:[],erroEmpresas:!1,erroPeriodo:!1,filtro:{codigoClienteSistema:"",codigoContatoUsuario:"",dataConsulta:"",empresas:[],periodo:{ini:null,fim:""}},showingHelp:!1,showFilters:!1,showList:!1,gantt:!1,kanban:!1,ganttL:!1,kanbanL:!1,section:!1,list:!0,left:!1}},watch:{showFilters:function(e){!0===e?this.showList=!1:!0!==this.section&&!0!==this.kanban&&!0!==this.gantt||(this.showList=!0)}},methods:{filtrar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log("filtrar");case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),abrirFiltro:function(){!0===this.section||!0===this.kanban||!0===this.gantt?this.left=!0:this.left=!1,this.showFilters=!this.showFilters},carregaComponent:function(e){this.showFilters=!1,"kanban"===e&&(this.section=!1,this.kanban=!0,this.gantt=!1,this.list=!1,this.showList=!0,this.ganttL=!1,this.kanbanL=!1,this.left=!0),"gantt"===e&&(this.section=!1,this.kanban=!1,this.gantt=!0,this.list=!1,this.showList=!0,this.ganttL=!1,this.kanbanL=!1,this.left=!0),"section"===e&&(this.section=!0,this.kanban=!1,this.gantt=!1,this.list=!1,this.showList=!0,this.ganttL=!1,this.kanbanL=!1,this.left=!0),"ganttL"===e&&(this.section=!1,this.kanban=!1,this.kanbanL=!1,this.gantt=!1,this.ganttL=!0,this.list=!1,this.showList=!1,this.left=!1),"kanbanL"===e&&(this.section=!1,this.kanban=!1,this.kanbanL=!0,this.gantt=!1,this.ganttL=!1,this.list=!1,this.showList=!1,this.left=!1),"list"===e&&(this.left=!1,this.section=!1,this.showList=!1,this.list=!0,this.kanban=!1,this.gantt=!1,this.ganttL=!1,this.kanbanL=!1)}}},XE=JE,YE=(a("d739"),Object(sc["a"])(XE,zD,BD,!1,null,null,null));YE.options.__file="Tarefas.vue";var WE=YE.exports,ZE=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Site"},[a("barra-topo"),a("q-page-container",[a("q-page",{staticClass:"u-container"},[a("q-toolbar",{staticClass:"q-py-sm",attrs:{color:"none"}},[a("q-icon",{attrs:{name:"mdi-earth",size:"32px"}}),a("q-toolbar-title",[e._v("\n          Site\n        ")])],1),a("q-tabs",{attrs:{align:"justify",color:"none"}},[a("q-tab",{attrs:{slot:"title",default:"",name:"tab-1",icon:"mdi-home",label:"Home"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-2",icon:"extension",label:"Produtos"},slot:"title"}),a("q-tab-pane",{attrs:{name:"tab-1"}},[a("div",{staticClass:"q-card bg-white q-pa-sm q-my-md no-shadow"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("q-icon",{staticClass:"float-left q-ma-md text-faded",attrs:{name:"mdi-earth",size:"32px"}}),a("q-input",{attrs:{type:"text",prefix:"b15.com.br/","stack-label":"URL do Site"}})],1),a("div",{staticClass:"col-auto"},[a("q-toggle",{staticClass:"q-ma-md",attrs:{label:"Ativo"},model:{value:e.toogleChecked,callback:function(t){e.toogleChecked=t},expression:"toogleChecked"}})],1)])]),a("div",{staticClass:"q-card bg-white q-pa-sm q-my-md no-shadow"},[a("q-collapsible",{staticClass:"border-1 q-my-sm",attrs:{group:"somegroup",icon:"business",label:"Empresas"}},[a("div",[a("q-list",{staticClass:"q-pt-none",attrs:{highlight:"","no-border":"",separator:""}},e._l(e.lista,function(t){return a("q-item",{key:t,staticClass:"q-pa-xs itemlista"},[a("q-item-side",{staticClass:"sidecheckbox"},[a("q-toggle",{model:{value:e.checkboxModel,callback:function(t){e.checkboxModel=t},expression:"checkboxModel"}})],1),a("q-item-side",[a("avatar",{attrs:{imagem:t.photo,tamanho:"30"}})],1),a("q-item-main",{attrs:{label:t.name}},[a("q-item-tile",{attrs:{stamp:""}},[e._v(e._s(t.email))])],1)],1)}))],1)])],1),a("div",{staticClass:"q-card bg-white q-pa-sm q-my-md no-shadow"},[a("q-collapsible",{staticClass:"border-1 q-my-sm",attrs:{group:"somegroup",icon:"mdi-view-carousel",label:"Carrossel"}},[a("div",[a("arquivo",{ref:"arquivo"})],1)])],1),a("div",{staticClass:"q-card bg-white q-pa-sm q-my-md no-shadow"},[a("q-collapsible",{staticClass:"border-1 q-my-sm",attrs:{group:"somegroup",icon:"mdi-format-title",label:"Textos"}},[a("div",[a("q-input",{staticClass:"q-mb-sm",attrs:{"float-label":"Slogan"}}),a("q-field",[a("q-input",{staticClass:"bg-light q-px-md",attrs:{"float-label":"Descrição",rows:"3",type:"textarea"}})],1)],1)])],1),a("div",{staticClass:"q-card bg-white q-pa-sm q-my-md no-shadow"},[a("q-collapsible",{staticClass:"border-1 q-my-sm",attrs:{group:"somegroup",icon:"credit_card",label:"Formas de pagamento"}},[a("div",[a("q-list",{staticClass:"q-pt-none",attrs:{highlight:"","no-border":"",separator:""}},e._l(e.lista,function(t){return a("q-item",{key:t,staticClass:"q-pa-xs itemlista"},[a("q-item-side",{staticClass:"sidecheckbox"},[a("q-toggle",{model:{value:e.checkboxModel,callback:function(t){e.checkboxModel=t},expression:"checkboxModel"}})],1),a("q-item-main",{attrs:{label:t.name}}),a("q-item-side",{attrs:{right:""}},[a("q-btn",{staticClass:"buttons",attrs:{color:"tertiary",size:"md",icon:"edit",flat:"",dense:"",round:""}}),a("q-btn",{staticClass:"buttons",attrs:{color:"tertiary",size:"md",icon:"delete",flat:"",dense:"",round:""}})],1)],1)})),a("div",{staticClass:"q-mt-md text-center"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Adicionar",outline:"",size:"xs"}})],1)],1)])],1),a("div",{staticClass:"q-card bg-white q-pa-sm q-my-md no-shadow"},[a("q-collapsible",{staticClass:"border-1 q-my-sm",attrs:{group:"somegroup",icon:"mdi-code-tags",label:"Códigos marketing digital"}},[a("div",[a("q-field",[a("q-input",{staticClass:"bg-light q-px-md q-mb-md",attrs:{"float-label":"Código na tag head ",rows:"10",type:"textarea"}})],1),a("q-field",[a("q-input",{staticClass:"bg-light q-px-md",attrs:{"float-label":"Código após a tag de abertura body",rows:"10",type:"textarea"}})],1)],1)])],1)]),a("q-tab-pane",{attrs:{name:"tab-2"}},[a("q-card",{staticClass:"col-12 bg-white q-pa-md no-shadow "},[a("q-tree",{attrs:{nodes:e.tickable,color:"primary","default-expand-all":"",ticked:e.ticked,"tick-strategy":e.tickStrategy,filter:e.tickFilter,"node-key":"label"},on:{"update:ticked":function(t){e.ticked=t}}})],1)],1)],1),a("q-layout-footer",{staticClass:"bg-light no-shadow q-pa-sm text-right u-bordaCima",attrs:{reveal:""}},[a("div",{staticClass:"u-container relative-position"},[a("q-btn",{attrs:{color:"faded",flat:"",label:"Cancelar"}}),a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"primary",label:"Salvar",type:"submit"}})],1)])],1)],1)],1)},KE=[];ZE._withStripped=!0;var eT={components:{BarraTopo:El,Avatar:Fc,Arquivo:zv},computed:{},data:function(){return{toogleChecked:!0,opened:!1,ticked:[],tickStrategy:"leaf",tickFilter:null,tickable:[{label:"Empresas",icon:"business",children:[{label:"Geeks"},{label:"Carlos"}]},{label:"Telas e Diretivas",children:[{label:"Geeks"},{label:"Pleasant surroundings",icon:"photo",children:[{label:"Pleasing decor"}]},{label:"Extra information (has no tick)",icon:"photo"},{label:'Forced tick strategy (to "strict" in this case)',tickStrategy:"strict",icon:"school",children:[{label:"Happy atmosphere"},{label:"Good table presentation"},{label:"Very pleasing decor"}]}]}],checkboxModel:[],lista:[{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1},{name:"Jim Doe",photo:"statics/avatar.jpg",email:"jim@dow.com",tel:"16 9 9999-9999",tag:["tag1","tag2"],showPreviewDetail:!1}]}},methods:{abrirPDV:function(){this.opened=!0}}},tT=eT,aT=(a("ab0d"),Object(sc["a"])(tT,ZE,KE,!1,null,"754a2aaf",null));aT.options.__file="Site.vue";var oT=aT.exports,iT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Financeiro"},[a("barra-topo"),e.contato?a("q-page-container",[a("q-page",{staticClass:"u-container"},[a("q-toolbar",{staticClass:"q-py-sm topo",attrs:{color:"none"}},[a("avatar",{attrs:{imagem:e.contato.imagem,rotulo:!!e.podeAcessar&&e.contato.apelido,tamanho:"40"}}),a("q-toolbar-title",[a("q-select",{staticStyle:{float:"left",width:"auto"},attrs:{multiple:"",chips:"",options:e.dados.empresa},model:{value:e.dados.empresaselecionada,callback:function(t){e.$set(e.dados,"empresaselecionada",t)},expression:"dados.empresaselecionada"}})],1),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"search",size:"lg"}},[a("q-tooltip",[e._v("\n            Pesquisar (Receber/Pagar)\n          ")])],1),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"add",size:"lg"}},[a("q-tooltip",[e._v("\n            Incluir\n          ")])],1),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"show_chart",size:"lg"}},[a("q-popover",[a("q-list",{attrs:{"no-border":"",link:"","inset-delimiter":""}},[a("a",{staticClass:"q-item"},[a("q-item-side",{attrs:{icon:"show_chart"}}),a("q-item-main",{attrs:{label:"Fluxo de caixa"}})],1),a("a",{staticClass:"q-item"},[a("q-item-side",{attrs:{icon:"show_chart"}}),a("q-item-main",{attrs:{label:"DRE"}})],1),a("a",{staticClass:"q-item"},[a("q-item-side",{attrs:{icon:"show_chart"}}),a("q-item-main",{attrs:{label:"Balanço"}})],1)])],1)],1),a("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"more_vert",size:"lg"}},[a("q-popover",[a("q-list",{attrs:{"no-border":"",link:"","inset-delimiter":""}},[a("a",{staticClass:"q-item",on:{click:function(t){e.openedMarca=!0}}},[a("q-item-side",{attrs:{icon:"people"}}),a("q-item-main",{attrs:{label:"Data de Movimentação"}})],1),a("a",{staticClass:"q-item",on:{click:function(t){e.openedMarca=!0}}},[a("q-item-side",{attrs:{icon:"delete"}}),a("q-item-main",{attrs:{label:"Data de Consolidação"}})],1)])],1)],1)],1),a("q-tabs",{attrs:{align:"justify",color:"none"}},[e._l(e.abas,function(t,o){return a("q-route-tab",e._b({key:o,staticClass:"Financeiro-aba",attrs:{slot:"title"},slot:"title"},"q-route-tab",t,!1))}),e.podeAcessar||"FinanceiroDashboard"===e.$route.name?a("router-view"):a("div",{staticClass:"bg-white q-pa-xl text-center"},[e._v("\n          Não é possível acessar este recurso como\n          "),a("strong",[e._v("consumidor")]),e._v(". Por favor, cadastre ou selecione um contato.\n\n          "),a("div",{staticClass:"text-center q-mt-sm"},[a("q-btn",{staticClass:"q-ma-sm no-shadow",attrs:{color:"primary",icon:"person_add",label:"Novo contato"},on:{click:e.adicionarContato}}),a("q-btn",{staticClass:"q-ma-sm no-shadow",attrs:{color:"primary",icon:"search",label:"Buscar contato"},on:{click:e.buscarContato}})],1)])],2)],1)],1):e._e()],1)},rT=[];iT._withStripped=!0;var sT={components:{Avatar:Fc,BarraTopo:El},computed:{abas:function(){return[{icon:"attach_money",label:"Dashboard",to:{name:"FinanceiroDashboard"}},{icon:"trending_up",label:"Receber",to:{name:"FinanceiroReceber"}},{icon:"trending_down",label:"Pagar",to:{name:"FinanceiroPagar"}},{icon:"account_balance",label:"Extratos",to:{name:"FinanceiroExtrato"}}]},badge:function(){return this.contato.ativo?this.contato.condutaRestricao?{cor:"negative",rotulo:"Restrição"}:!!this.contato.condutaObservacao&&{cor:"warning",rotulo:"Observação"}:{cor:"faded",rotulo:"Excluído"}},badgeDetalhes:function(){var e=this.contato,t=e.ativo,a=e.condutaRestricao,o=e.condutaObservacao;return t&&(a||o)||!1},podeAcessar:function(){return"0"!==this.$route.params.id&&!!this.contato}},data:function(){return{contato:{},dados:{empresaselecionada:["Principal"],empresa:[{label:"Principal",value:"Principal"},{label:"Empresa X",value:"Emprexa X"},{label:"Emprexa P",value:"Emprexa P"},{label:"Emprexa T",value:"Emprexa T"},{label:"Emprexa O",value:"Emprexa O"}]},carregando:!1,contatosInativosModal:!1,contatosModal:!1,filtrosContatos:[]}},methods:{abrirContato:function(e){this.$router.push({params:{id:e}}),this.contatosInativosModal=!1,this.contatosModal=!1},adicionarContato:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),buscarContato:function(){this.filtrosContatos=[{campo:"ativo",filtro:"verdadeiro"}],this.contatosModal=!0}}},nT=sT,cT=(a("4cba"),Object(sc["a"])(nT,iT,rT,!1,null,null,null));cT.options.__file="Financeiro.vue";var lT=cT.exports,dT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"FinanceiroBoletos row"},[a("div",{staticClass:"no-shadow q-pa-md col"},[a("div",{staticClass:"bg-white q-pa-md"},[a("q-toolbar",{staticClass:"no-shadow",staticStyle:{padding:"0"},attrs:{"text-color":"black",color:"transparent"}},[a("q-toolbar-title",{staticStyle:{padding:"0"}},[e._v("\n          Envio\n        ")]),a("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"more_vert",color:"primary",size:"lg"}},[a("q-tooltip",[e._v("\n            Outras opções\n          ")])],1)],1),a("draggable",{staticClass:"dragArea bg-white",attrs:{list:e.list,group:"evenlope",draggable:".extratoItem"},on:{change:e.log}},e._l(e.list,function(t){return a("q-card",{key:t.name,staticClass:"q-pa-sm q-mb-md shadow-2 extratoItem",class:t.classe},[a("q-card-title",{staticClass:"q-py-none"},[e._v("\n            "+e._s(t.name)+"\n            "),a("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n              Laboratório: "+e._s(t.laboratorio)+"\n            ")]),a("div",{attrs:{slot:"right"},slot:"right"},[a("small",{staticStyle:{display:"block"}},[e._v("Envelope: "+e._s(t.codigo))]),a("small",{staticStyle:{display:"block"}},[e._v("Compra: "+e._s(t.codigoCompra))])])]),a("q-card-separator",{staticClass:"q-my-sm"}),a("q-card-main",{staticClass:"row q-py-none"},[e._v("\n            Responsável: "+e._s(t.responsavel)),a("br"),e._v("\n            Data de Emissao: "+e._s(t.dataEmissao)),a("br"),e._v("\n            Data de Retorno: "+e._s(t.dataRetorno)),a("br")])],1)})),a("q-layout-footer",{staticClass:"no-shadow",staticStyle:{"background-color":"#eeeeee",position:"static"},attrs:{reveal:""}},[a("q-toolbar",[a("q-btn",{staticClass:"no-shadow full-width",staticStyle:{float:"right"},attrs:{label:"Adicionar Boleto",flat:""}})],1)],1)],1)]),a("div",{staticClass:"no-shadow q-pa-md col"},[a("div",{staticClass:"bg-white q-pa-md"},[a("q-toolbar",{staticClass:"no-shadow",staticStyle:{padding:"0"},attrs:{"text-color":"black",color:"transparent"}},[a("q-toolbar-title",{staticStyle:{padding:"0"}},[e._v("\n          Processando\n        ")]),a("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"more_vert",color:"primary",size:"lg"}},[a("q-tooltip",[e._v("\n            Outras opções\n          ")])],1)],1),a("draggable",{staticClass:"dragArea bg-white",attrs:{list:e.list2,group:"evenlope",draggable:".extratoItem"},on:{change:e.log}},e._l(e.list2,function(t){return a("q-card",{key:t.name,staticClass:"q-pa-sm q-mb-md shadow-2 extratoItem",class:t.classe},[a("q-card-title",{staticClass:"q-py-none"},[e._v("\n            "+e._s(t.name)+"\n            "),a("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n              Laboratório: "+e._s(t.laboratorio)+"\n            ")]),a("div",{attrs:{slot:"right"},slot:"right"},[a("small",{staticStyle:{display:"block"}},[e._v("Envelope: "+e._s(t.codigo))]),a("small",{staticStyle:{display:"block"}},[e._v("Compra: "+e._s(t.codigoCompra))])])]),a("q-card-separator",{staticClass:"q-my-sm"}),a("q-card-main",{staticClass:"row q-py-none"},[e._v("\n            Responsável: "+e._s(t.responsavel)),a("br"),e._v("\n            Data de Emissao: "+e._s(t.dataEmissao)),a("br"),e._v("\n            Data de Retorno: "+e._s(t.dataRetorno)),a("br")])],1)})),a("q-layout-footer",{staticClass:"no-shadow",staticStyle:{"background-color":"#eeeeee",position:"static"},attrs:{reveal:""}},[a("q-toolbar",[a("q-btn",{staticClass:"no-shadow full-width",staticStyle:{float:"right"},attrs:{label:"Adicionar Boleto",flat:""}})],1)],1)],1)])])},uT=[];dT._withStripped=!0;var mT={components:{draggable:ay.a},data:function(){return{grupos:[],list:[{name:"John",dataRetorno:"11/03/2019",dataEmissao:"11/03/2019",cliente:"Nome do cliente",prioridade:"Alta",codigo:"0001",codigoCompra:"0001",laboratorio:"XPTO",responsavel:"Fulano",classe:"bordaVermelha"},{name:"José",dataRetorno:"11/03/2019",dataEmissao:"11/03/2019",cliente:"Nome do cliente",prioridade:"Alta",codigo:"0001",codigoCompra:"0001",laboratorio:"XPTO",responsavel:"Fulano",classe:"bordaAmarela"},{name:"João",dataRetorno:"11/03/2019",dataEmissao:"11/03/2019",cliente:"Nome do cliente",prioridade:"Alta",codigo:"0001",codigoCompra:"0001",laboratorio:"XPTO",responsavel:"Fulano",classe:"bordaVerde"}],list2:[{name:"Tadeo",dataRetorno:"11/03/2019",dataEmissao:"11/03/2019",cliente:"Nome do cliente",prioridade:"Alta",codigo:"0001",codigoCompra:"0001",laboratorio:"XPTO",responsavel:"Fulano",classe:"bordaAmarela"},{name:"Potro",dataRetorno:"11/03/2019",dataEmissao:"11/03/2019",cliente:"Nome do cliente",prioridade:"Alta",codigo:"0001",codigoCompra:"0001",laboratorio:"XPTO",responsavel:"Fulano",classe:"bordaVerde"},{name:"Mani",dataRetorno:"11/03/2019",dataEmissao:"11/03/2019",cliente:"Nome do cliente",prioridade:"Alta",codigo:"0001",codigoCompra:"0001",laboratorio:"XPTO",responsavel:"Fulano",classe:"bordaVermelha"}],activeNames:""}},methods:{add:function(){this.list.push({name:"Juan"})},replace:function(){this.list=[{name:"Edgard"}]},clone:function(e){return{name:e.name+" cloned"}},log:function(e){ei.log("FinanceiroBoletos",e)}},computed:{}},pT=mT,vT=(a("a3f1"),Object(sc["a"])(pT,dT,uT,!1,null,"2717901a",null));vT.options.__file="FinanceiroBoletos.vue";var hT=vT.exports,fT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"FinanceiroDashboard"},[a("grid-layout",{attrs:{layout:e.layout,"col-num":12,"row-height":30,"is-draggable":e.draggable,"is-resizable":e.resizable,margin:[30,30],"vertical-compact":!0,"use-css-transforms":!0}},e._l(e.layout,function(e){return a("grid-item",{key:e.i,attrs:{x:e.x,y:e.y,w:e.w,h:e.h,i:e.i,"drag-allow-from":".vue-draggable-handle","drag-ignore-from":".no-drag"}},[a("q-card",{staticClass:"text bg-white no-shadow row borderRadiusBottom"},[a("div",{staticClass:"vue-draggable-handle"}),a("div",{staticClass:"no-drag col-12"},[a(e.i,{tag:"component"})],1)])],1)}))],1)},CT=[];fT._withStripped=!0;var bT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md vermelho"},[a("q-toolbar",{staticClass:"q-ma-none",attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-negative q-title q-pa-none"},[e._v("Pagar")]),a("q-btn",{attrs:{rounded:"",flat:"",dense:"",color:"negative",icon:"remove_red_eye"}})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6 col-lg blocks"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary"},[e._v("\n        Até 31/01/2019\n      ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-right text-negative"},[a("div",{staticClass:"graph"},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),e._v("\n        5.000,00\n      ")])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary"},[e._v("\n        01/02 até 05/02/2019\n      ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-right text-negative"},[a("div",{staticClass:"graph"},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),e._v("\n        5.000,00\n      ")])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks"},[a("q-card-main",{staticStyle:{padding:"0",color:"#8e8e8e"}},[e._v("\n        06/02/2019\n      ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-right text-negative"},[a("div",{staticClass:"graph"},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),e._v("\n        5.000,00\n      ")])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary"},[e._v("\n        07/02 até 28/02/2019\n      ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-right text-negative"},[a("div",{staticClass:"graph"},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),e._v("\n        5.000,00\n      ")])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary"},[e._v("\n        Após 01/03/2019\n      ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-right text-negative"},[a("div",{staticClass:"graph"},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),e._v("\n        5.000,00\n      ")])],1)])],1)},gT=[];bT._withStripped=!0;var xT={},_T=xT,qT=(a("0064"),Object(sc["a"])(_T,bT,gT,!1,null,null,null));qT.options.__file="FinanceiroDashboardPagar.vue";var ST=qT.exports,IT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md verde"},[a("q-toolbar",{staticClass:"q-ma-none",attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-positive q-title q-pa-none"},[e._v("Receber")]),a("q-btn",{attrs:{rounded:"",flat:"",dense:"",color:"positive",icon:"remove_red_eye"}})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6 col-lg blocks"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary"},[e._v("\n        Até 31/01/2019\n      ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-right text-positive"},[a("div",{staticClass:"graph"},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),e._v("\n        5.000,00\n      ")])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary"},[e._v("\n        01/02 até 05/02/2019\n      ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-right text-positive"},[a("div",{staticClass:"graph"},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),e._v("\n        5.000,00\n      ")])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks"},[a("q-card-main",{staticStyle:{padding:"0",color:"#8e8e8e"}},[e._v("\n        06/02/2019\n      ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-right text-positive"},[a("div",{staticClass:"graph"},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),e._v("\n        5.000,00\n      ")])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary"},[e._v("\n        07/02 até 28/02/2019\n      ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-right text-positive"},[a("div",{staticClass:"graph"},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),e._v("\n        5.000,00\n      ")])],1),a("div",{staticClass:"col-12 col-md-6 col-lg blocks"},[a("q-card-main",{staticClass:"q-pa-none text-tertiary"},[e._v("\n        Após 01/03/2019\n      ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-right text-positive"},[a("div",{staticClass:"graph"},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),e._v("\n        5.000,00\n      ")])],1)])],1)},FT=[];IT._withStripped=!0;var wT={},yT=wT,NT=(a("e85d"),Object(sc["a"])(yT,IT,FT,!1,null,null,null));NT.options.__file="FinanceiroDashboardReceber.vue";var kT=NT.exports,MT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md"},[a("q-toolbar",{attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-blue-8 q-title q-pa-none"},[e._v("DRE")]),a("q-btn",{attrs:{rounded:"",flat:"",dense:"",color:"blue-6",icon:"remove_red_eye"}})],1),a("q-table",{staticClass:"no-shadow",attrs:{highlight:"",data:e.tableData,columns:e.columns}})],1)},PT=[];MT._withStripped=!0;var DT={data:function(){return{columns:[{name:"calories",label:"Data",field:"calories",sortable:!0},{name:"fat",label:"Forma",field:"fat",sortable:!0},{name:"carbs",label:"Parcela",field:"carbs"},{name:"protein",label:"Valor",field:"protein"}],tableData:[{calories:159,fat:6,carbs:24,protein:4},{calories:159,fat:6,carbs:24,protein:4},{calories:159,fat:6,carbs:24,protein:4}]}}},ET=DT,TT=Object(sc["a"])(ET,MT,PT,!1,null,null,null);TT.options.__file="FinanceiroDashboardNumero.vue";var AT=TT.exports,OT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-px-md q-pb-md"},[a("q-toolbar",{attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-blue-8 q-title q-pa-none"},[e._v("Balanço do mês")]),a("q-btn",{attrs:{rounded:"",flat:"",dense:"",color:"blue-6",icon:"remove_red_eye"}})],1),a("q-table",{staticClass:"no-shadow",attrs:{highlight:"",data:e.tableData,columns:e.columns}})],1)},$T=[];OT._withStripped=!0;var RT={data:function(){return{columns:[{name:"calories",label:"Data",field:"calories",sortable:!0},{name:"fat",label:"Forma",field:"fat",sortable:!0},{name:"carbs",label:"Parcela",field:"carbs"},{name:"protein",label:"Valor",field:"protein"}],tableData:[{calories:159,fat:6,carbs:24,protein:4},{calories:159,fat:6,carbs:24,protein:4},{calories:159,fat:6,carbs:24,protein:4}]}}},jT=RT,zT=Object(sc["a"])(jT,OT,$T,!1,null,null,null);zT.options.__file="FinanceiroDashboardNumero2.vue";var BT=zT.exports,LT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md blue"},[a("q-card-main",{staticClass:"text-tertiary q-pa-none"},[e._v("\n    Banco\n  ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-right text-blue-8"},[a("div",{staticClass:"graph"},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),e._v("\n    5.000,00\n  ")])],1)},VT=[];LT._withStripped=!0;var UT={},HT=UT,QT=(a("1662"),Object(sc["a"])(HT,LT,VT,!1,null,null,null));QT.options.__file="FinanceiroDashboardBotao.vue";var GT=QT.exports,JT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("q-card-main",{staticClass:"text-tertiary q-pa-none"},[e._v("\n    Banco\n  ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-right text-blue-8"},[a("div",{staticClass:"graph"},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),e._v("\n    5.000,00\n  ")])],1)},XT=[];JT._withStripped=!0;var YT={},WT=YT,ZT=(a("4e31"),Object(sc["a"])(WT,JT,XT,!1,null,null,null));ZT.options.__file="FinanceiroDashboardBotao2.vue";var KT=ZT.exports,eA=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("q-card-main",{staticClass:"text-tertiary q-pa-none"},[e._v("\n    Banco\n  ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-right text-blue-8"},[a("div",{staticClass:"graph"},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),e._v("\n    5.000,00\n  ")])],1)},tA=[];eA._withStripped=!0;var aA={},oA=aA,iA=(a("c71a"),Object(sc["a"])(oA,eA,tA,!1,null,null,null));iA.options.__file="FinanceiroDashboardBotao3.vue";var rA=iA.exports,sA=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md bg-grandiente"},[a("q-card-main",{staticClass:"text-white q-pa-none"},[e._v("\n    Saldo Total\n  ")]),a("q-toolbar-title",{staticClass:"q-display-1 text-weight-bold text-right text-white"},[a("div",{staticClass:"graph"},[a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"10px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"15px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"8px"}}),a("div",{staticClass:"graphbar",staticStyle:{height:"17px"}})]),e._v("\n    5.000,00\n  ")])],1)},nA=[];sA._withStripped=!0;var cA={},lA=cA,dA=(a("48be"),Object(sc["a"])(lA,sA,nA,!1,null,null,null));dA.options.__file="FinanceiroDashboardSaldo.vue";var uA=dA.exports,mA=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"FinanceiroDashboardFluxoDeCaixa q-px-md q-pb-md amarelo"},[a("q-toolbar",{attrs:{color:"transparent"}},[a("q-toolbar-title",{staticClass:"text-amber q-title q-pa-none"},[e._v("Fluxo de Caixa")]),a("q-btn",{attrs:{rounded:"",flat:"",dense:"",color:"amber",icon:"remove_red_eye"}})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-10"},[a("GChart",{attrs:{type:"ColumnChart",data:e.chartData,options:e.chartOptions}})],1),a("div",{staticClass:"col-12 col-lg-2"},[a("q-card-main",{staticClass:"q-mt-sm q-subheading text-amber q-pa-sm text-weight-bold"},[e._v("Próximos dias negativos:")]),a("q-card-main",{staticClass:"q-body-1 text-tertiary q-py-none q-mb-none"},[e._v("» 10/02/2109 - 5.000,00")]),a("q-card-main",{staticClass:"q-body-1 text-tertiary q-py-none q-mb-none"},[e._v("» 10/02/2109 - 5.000,00")]),a("q-card-main",{staticClass:"q-body-1 text-tertiary q-py-none q-mb-none"},[e._v("» 10/02/2109 - 5.000,00")]),a("q-card-main",{staticClass:"q-body-1 text-tertiary q-py-none q-mb-none"},[e._v("» 10/02/2109 - 5.000,00")]),a("q-card-main",{staticClass:"q-body-1 text-tertiary q-py-none q-mb-none"},[e._v("» 10/02/2109 - 5.000,00")])],1)])],1)},pA=[];mA._withStripped=!0;var vA=a("cb43"),hA={components:{GChart:vA["GChart"]},data:function(){return{chartData:[["Year","Sales","Expenses","Profit"],["2014",1e3,400,200],["2015",1170,460,250],["2016",660,1120,300],["2017",1030,540,350]],chartOptions:{chart:{title:"Company Performance",subtitle:"Sales, Expenses, and Profit: 2014-2017"}}}}},fA=hA,CA=Object(sc["a"])(fA,mA,pA,!1,null,null,null);CA.options.__file="FinanceiroDashboardFluxoDeCaixa.vue";var bA=CA.exports,gA={components:{GridLayout:tS.a.GridLayout,GridItem:tS.a.GridItem,DashPagar:ST,DashNumero:AT,DashNumero2:AT,DashBotao:GT,DashBotao2:GT,DashBotao3:GT,DashReceber:kT,DashSaldo:uA,FluxoDeCaixa:bA},methods:{handleResize:function(){window.innerWidth<768?this.layout=[{x:0,y:0,w:12,h:2,i:uA},{x:0,y:0,w:12,h:2,i:GT},{x:0,y:0,w:12,h:2,i:KT},{x:0,y:0,w:12,h:2,i:rA},{x:0,y:2,w:12,h:9,i:kT},{x:0,y:3,w:12,h:9,i:ST},{x:0,y:5,w:12,h:8,i:bA},{x:0,y:10,w:12,h:5,i:AT},{x:0,y:10,w:12,h:5,i:BT}]:window.innerWidth<=997?this.layout=[{x:0,y:0,w:6,h:2,i:uA},{x:6,y:0,w:6,h:2,i:GT},{x:0,y:2,w:6,h:2,i:KT},{x:6,y:2,w:6,h:2,i:rA},{x:0,y:2,w:12,h:6,i:kT},{x:0,y:3,w:12,h:6,i:ST},{x:0,y:5,w:12,h:8,i:bA},{x:0,y:10,w:12,h:6,i:AT},{x:0,y:10,w:12,h:6,i:BT}]:this.layout=[{x:0,y:0,w:3,h:2,i:uA},{x:3,y:0,w:3,h:2,i:GT},{x:6,y:0,w:3,h:2,i:KT},{x:9,y:0,w:3,h:2,i:rA},{x:0,y:2,w:12,h:3,i:kT},{x:0,y:3,w:12,h:3,i:ST},{x:0,y:5,w:12,h:5,i:bA},{x:0,y:7,w:6,h:6,i:AT},{x:6,y:7,w:6,h:6,i:BT}]}},data:function(){return{layout:[],draggable:!0,resizable:!0,responsive:!0,mirrored:!0,index:0}},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()}},xA=gA,_A=(a("3ea1"),Object(sc["a"])(xA,fT,CT,!1,null,null,null));_A.options.__file="FinanceiroDashboard.vue";var qA=_A.exports,SA=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"FinanceiroExtrato row"},[a("div",{staticClass:"col-12 col-lg-8 bg-white"},[a("div",{staticClass:"filters row q-pa-sm q-my-md gutter-x-sm bg-white"},[a("div",{staticClass:"col-12 col-md q-pl-none"},[a("div",{staticClass:"row "},[a("q-btn",{staticClass:"no-shadow",attrs:{icon:"filter_list",round:"",color:"faded"}}),a("q-chips-input",{staticClass:"col q-mx-sm",attrs:{color:"faded"},model:{value:e.grupos,callback:function(t){e.grupos=t},expression:"grupos"}})],1)]),a("div",{staticClass:"col-11 col-md"},[a("div",{staticClass:"row"},[a("q-btn",{staticClass:"no-shadow q-mx-md",attrs:{icon:"date_range",round:"",color:"faded"}}),a("q-select",{staticClass:"q-mx-md q-body-1",attrs:{placeholder:"Vencimento",options:e.selectDataTipo},model:{value:e.selectedDataTipo,callback:function(t){e.selectedDataTipo=t},expression:"selectedDataTipo"}}),a("q-datetime",{attrs:{type:"date"},model:{value:e.dataIni,callback:function(t){e.dataIni=t},expression:"dataIni"}}),a("label",{staticClass:"q-ma-sm"},[e._v("até")]),a("q-datetime",{attrs:{type:"date"},model:{value:e.dataFin,callback:function(t){e.dataFin=t},expression:"dataFin"}})],1)])]),a("q-card",{staticClass:" no-shadow row q-pa-md gutter-x-sm "},[a("q-list",{staticStyle:{width:"100%"},attrs:{highlight:""}},[a("q-list-header",{staticClass:"text-weight-bold"},[e._v("23/11/1984")]),a("a",{staticClass:"q-item"},[a("q-item-side",{attrs:{icon:"compare_arrows",color:"red"}}),a("q-item-main",{attrs:{label:"Salário do Ricardo"}},[a("p",[a("small",[e._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit.\n              ")])])]),a("q-item-side",{attrs:{right:""}},[a("p",{staticClass:"text-weight-bold",staticStyle:{margin:"0","text-align":"right",color:"red"}},[e._v("-2.240,00")]),a("p",{staticStyle:{margin:"0","text-align":"right"}},[a("small",[e._v("1.760,00")])])])],1),a("a",{staticClass:"q-item"},[a("q-item-side",{attrs:{icon:"trending_down",color:"red"}}),a("q-item-main",{attrs:{label:"Salário do Ricardo"}},[a("p",[a("small",[e._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit.\n              ")])])]),a("q-item-side",{attrs:{right:""}},[a("p",{staticClass:"text-weight-bold",staticStyle:{margin:"0","text-align":"right",color:"red"}},[e._v("-2.240,00")]),a("p",{staticStyle:{margin:"0","text-align":"right",color:"red"}},[a("small",[e._v("-480,00")])])])],1),a("q-list-header",{staticClass:"text-weight-bold"},[e._v("22/11/1984")]),a("q-item",[a("q-item-side",{attrs:{icon:"trending_down",color:"red"}}),a("q-item-main",{attrs:{label:"Salário do Ricardo"}},[a("p",[a("small",[e._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit.\n              ")])])]),a("q-item-side",{attrs:{right:""}},[a("p",{staticClass:"text-weight-bold",staticStyle:{margin:"0","text-align":"right",color:"red"}},[e._v("-2.240,00")]),a("p",{staticStyle:{margin:"0","text-align":"right",color:"red"}},[a("small",[e._v("-2.720,00")])])])],1),a("q-item",[a("q-item-side",{attrs:{icon:"trending_up",color:"green-6"}}),a("q-item-main",{attrs:{label:"Salário do Ricardo"}},[a("p",[a("small",[e._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit.\n              ")])])]),a("q-item-side",{attrs:{right:""}},[a("p",{staticClass:"text-weight-bold",staticStyle:{margin:"0","text-align":"right",color:"#4caf50"}},[e._v("3.000,00")]),a("p",{staticStyle:{margin:"0","text-align":"right"}},[a("small",[e._v("280,00")])])])],1)],1)],1)],1),a("div",{staticClass:"col-12 col-lg-4"},[a("q-card",{staticClass:"historico cinza shadow-3 no-shadow q-px-sm gutter-x-sm "},[a("q-card-title",[e._v("Gráfico")]),a("div",{staticClass:"row"},[a("GChart",{attrs:{type:"ColumnChart",data:e.chartData,options:e.chartOptions}})],1),a("q-card-title",[e._v("Analítico")]),a("q-table",{staticClass:"no-shadow",attrs:{data:e.tableData,columns:e.columns}})],1)],1)])},IA=[];SA._withStripped=!0;var FA={components:{GChart:vA["GChart"]},data:function(){return{grupos:[],select:"",dataIni:"",dataFin:"",selectListOptions:[{label:"Nome do banco",inset:!0,sublabel:"Enables communication",stamp:"Saldo",value:"fb1"},{label:"Nome do banco",inset:!0,sublabel:"Enables communication",stamp:"Saldo",value:"fb2"}],columns:[{name:"calories",label:"Data",field:"calories",sortable:!0},{name:"fat",label:"Forma",field:"fat",sortable:!0},{name:"carbs",label:"Parcela",field:"carbs"},{name:"protein",label:"Valor",field:"protein"}],tableData:[{calories:159,fat:6,carbs:24,protein:4},{calories:159,fat:6,carbs:24,protein:4},{calories:159,fat:6,carbs:24,protein:4}],chartData:[["Year","Sales","Expenses","Profit"],["2014",1e3,400,200],["2015",1170,460,250],["2016",660,1120,300],["2017",1030,540,350]],chartOptions:{backgroundColor:"transparent",chart:{title:"Company Performance",subtitle:"Sales, Expenses, and Profit: 2014-2017"}}}}},wA=FA,yA=(a("87f7"),Object(sc["a"])(wA,SA,IA,!1,null,null,null));yA.options.__file="FinanceiroExtrato.vue";var NA=yA.exports,kA=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"FinanceiroPagar"},[a("div",{staticClass:"q-pb-md"},[a("q-card",{staticClass:" shadow-3 row no-shadow"},[a("div",{staticClass:"col-12 q-pt-md"},[a("q-toolbar",{staticClass:"no-shadow q-pa-none",attrs:{"text-color":"black",color:"transparent"}},[a("q-toolbar-title",{staticClass:"q-pa-none"},[a("div",{staticClass:"filters row q-pa-sm q-ma-md gutter-x-sm bg-white",staticStyle:{"border-radius":"5px","min-height":"50px"}},[a("div",{staticClass:"col-12 col-md q-pl-none"},[a("div",{staticClass:"row "},[a("q-btn",{staticClass:"no-shadow",attrs:{icon:"filter_list",round:"",color:"faded"}}),a("q-chips-input",{staticClass:"col q-mx-sm",attrs:{color:"faded"},model:{value:e.grupos,callback:function(t){e.grupos=t},expression:"grupos"}})],1)]),a("div",{staticClass:"col-11 col-md"},[a("div",{staticClass:"row"},[a("q-btn",{staticClass:"no-shadow",attrs:{icon:"date_range",round:"",color:"faded"}}),a("q-select",{staticClass:"q-mx-md q-body-1",attrs:{placeholder:"Vencimento",options:e.selectDataTipo},model:{value:e.selectedDataTipo,callback:function(t){e.selectedDataTipo=t},expression:"selectedDataTipo"}}),a("q-datetime",{attrs:{type:"date"},model:{value:e.dataIni,callback:function(t){e.dataIni=t},expression:"dataIni"}}),a("label",{staticClass:"q-ma-sm"},[e._v("até")]),a("q-datetime",{attrs:{type:"date"},model:{value:e.dataFin,callback:function(t){e.dataFin=t},expression:"dataFin"}})],1)])])]),a("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"more_vert",color:"primary",size:"lg"}},[a("q-tooltip",[e._v("\n              Outras opções\n            ")])],1)],1),a("q-toolbar",{staticClass:"no-shadow q-pa-none",attrs:{"text-color":"black",color:"transparent"}},[a("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"view_stream",color:"primary",size:"lg"}},[a("q-tooltip",[e._v("\n              Agrupar\n            ")])],1)],1)],1)]),a("div",{staticClass:"no-shadow"},[a("q-list",[a("q-collapsible",{attrs:{opened:"",label:"Faturamento geral"}},[a("q-collapsible",{attrs:{opened:"",label:"25/11/2018"}},[a("q-card",{staticClass:"extratoItem bg-white q-mb-md q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-6"},[a("div",{staticClass:"q-px-sm"},[a("img",{staticClass:"avatar float-left",staticStyle:{"max-width":"40px",height:"auto",float:"left"},attrs:{src:"https://i.pinimg.com/originals/a9/38/09/a938091f6fdca06fc6e829688f2dbe88.jpg"}}),a("q-toolbar-title",[a("div",[e._v("Optidados Soluções para Opticas\n                      ")]),a("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n                        Optidados Soluções para Opticas Ltda - ME\n                      ")])]),a("q-chip",{staticClass:"q-ma-sm q-my-sm",attrs:{rounded:"",color:"grey",small:""}},[e._v("\n                      Renegociado\n                    ")]),a("q-chip",{staticClass:"q-my-sm",attrs:{rounded:"",color:"primary",small:""}},[e._v("\n                      Em Aberto\n                    ")]),a("p",{staticClass:"q-mt-sm"},[a("small",{staticStyle:{display:"block"}},[e._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit. A\n                        blanditiis commodi eaque iusto tempore.\n                      ")])])],1)]),a("div",{staticClass:"col-12 col-lg-2"},[a("div",{staticClass:"q-px-sm"},[a("dl",{staticClass:"q-mt-sm"},[a("dt",[e._v("Venda #1802")]),a("dd",[e._v("Cartão Visa")]),a("dt",{staticClass:"q-mt-md"},[e._v("Faturamento Geral")])])])]),a("div",{staticClass:"col-3 col-lg-1"},[a("q-tooltip",[e._v("\n                    Vencimento\n                  ")]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("DEZ")])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v("10")])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("2018")])])],1),a("div",{staticClass:"col-3 col-lg-1"},[a("q-tooltip",[e._v("\n                    Vencimento\n                  ")]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("DEZ")])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v("10")])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("2018")])])],1),a("div",{staticClass:"col-6 col-lg-2"},[a("dl",{staticClass:"float-right full-width q-mb-sm"},[a("dt",{staticClass:"text-right q-headline text-negative text-weight-bold"},[e._v("\n                      2.050,00\n                      "),a("p",{staticClass:"text-weight-normal text-tertiary q-body-1"},[e._v("\n                        1.050,00\n                      ")])])]),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"delete",color:"primary",size:"md"}}),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"edit",color:"primary",size:"md"},on:{click:function(t){e.openedTitulo=!0}}}),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"attach_money",size:"md",color:"primary"}}),a("div",{staticClass:"col q-pt-sm",staticStyle:{float:"right"}},[a("q-checkbox",{attrs:{color:"primary"},model:{value:e.checkedTitulo,callback:function(t){e.checkedTitulo=t},expression:"checkedTitulo"}})],1),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"keyboard_arrow_down",size:"md",color:"grey"},on:{click:function(t){e.showMoreDetails=!e.showMoreDetails}}})],1)]),e.showMoreDetails?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-6"},[a("div",{staticClass:"q-px-sm"},[a("q-toolbar-title",{staticClass:"q-mx-none q-mt-sm q-px-none"},[a("q-icon",{attrs:{name:"business"}}),e._v("\n                      Geeks Solucoes\n                    ")],1),a("p",{staticClass:"q-mt-sm"},[a("small",{staticStyle:{display:"block"}},[e._v("Lorem Observacao ipsum dolor sit amet, consectetura dipisicing\n                        elit. A blanditiis commodi eaqueiusto tempore.\n                      ")])])],1)]),a("div",{staticClass:"col-12 col-lg-2"},[a("div",{staticClass:"q-px-sm"},[a("dl",{staticClass:"q-mt-sm"},[a("dt",[e._v("Descricao do CC")])])])]),a("div",{staticClass:"col-2 col-lg-1"},[a("q-tooltip",[e._v("\n                    Vencimento Original\n                  ")]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("DEZ")])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v("10")])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("2018")])])],1),a("div",{staticClass:"col-2 col-lg-1"},[a("q-tooltip",[e._v("\n                    Emissão\n                  ")]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("DEZ")])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v("10")])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("2018")])])],1),a("div",{staticClass:"col-6 col-lg-2"},[a("div",{staticClass:"q-px-sm"},[a("dl",{staticClass:"q-mt-none text-right"},[a("dd",[a("small",[e._v("Desconto")]),a("span",{staticClass:"q-subheading"},[a("strong",[e._v("100,00")])])]),a("dd",[a("small",[e._v("Multa")]),a("span",{staticClass:"q-subheading"},[a("strong",[e._v("100,00 (2%)")])])]),a("dd",[a("small",[e._v("Juros")]),a("span",{staticClass:"q-subheading"},[a("strong",[e._v("1,00 (0,15% dia)")])])])])])])]):e._e()]),a("p",{staticClass:"text-right q-mt-sm"},[e._v("Receber\n              "),a("strong",[e._v("4.000,00")]),e._v(" - Recebido\n              "),a("strong",[e._v("6.000,00")])])],1)],1)],1)],1)],1),a("q-layout-footer",{staticClass:"no-shadow bg-cinza fixed",attrs:{reveal:""}},[a("div",{staticClass:"container"},[a("q-toolbar",{attrs:{color:"light-grey"}},[a("q-toolbar-title",{staticStyle:{color:"black"}},[a("q-btn",{staticStyle:{cursor:"default !important"},attrs:{flat:"",size:"md","no-ripple":"","text-color":"black",label:"5 registros"}})],1),a("q-btn",{staticStyle:{cursor:"default !important"},attrs:{flat:"",size:"md","no-ripple":"","text-color":"black",label:"A RECEBER 10.250,00"}}),a("q-btn",{staticClass:"no-shadow",staticStyle:{float:"right","margin-left":"6px",cursor:"default !important"},attrs:{"no-ripple":"",label:"RECEBIDO 0,00",color:"light-blue-9"}})],1)],1)]),a("q-modal",{staticClass:"bg-cinza",attrs:{maximized:""},model:{value:e.openedTitulo,callback:function(t){e.openedTitulo=t},expression:"openedTitulo"}},[a("q-modal-layout",[a("q-toolbar",{staticClass:"bg-gradiente",attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"}}),a("q-toolbar-title",[e._v("\n          Receber\n        ")]),a("q-btn",{staticClass:"no-shadow",attrs:{color:"primary",label:"Salvar"}})],1),a("div",{staticClass:" row justify-center"},[a("div",{staticStyle:{width:"1280px","max-width":"100%"}},[a("div",{staticClass:"no-shadow q-mb-md row gutter-sm q-mx-none"},[a("q-card",{staticClass:"col-12 col-lg-8 bg-white q-pb-md no-shadow reverse"},[a("div",{staticClass:"row reverse"},[a("div",{staticClass:"col-12 col-lg-6 "},[a("div",{staticClass:" row no-shadow q-pa-md q-px-md"},[a("q-alert",{staticClass:"no-shadow q-mb-md full-width",attrs:{color:"red-8","text-color":"white"}},[a("q-input",{staticClass:"no-shadow big",attrs:{color:"white",dark:"",value:"55,00","hide-underline":"",prefix:"Valor",align:"right"}})],1),e.checkedDetails||e.checkedVO?a("q-alert",{staticClass:"no-shadow q-mb-md full-width",attrs:{color:"red-7","text-color":"white"}},[a("q-input",{staticClass:"no-shadow ",attrs:{color:"white",dark:"",value:"55,00","hide-underline":"",prefix:"Valor Original",align:"right"}})],1):e._e(),a("div",{staticClass:"full-width",on:{click:function(t){e.checkedVO=!e.checkedVO}}},[a("q-card-title",{staticClass:"valorOriginal q-pa-sm q-body-1",staticStyle:{"background-color":"#ffebee"}},[e.checkedVO?a("q-icon",{attrs:{name:"arrow_drop_up"}}):e._e(),e.checkedVO?e._e():a("q-icon",{attrs:{name:"arrow_drop_down"}}),e._v("\n                        Outros Valores\n                        "),a("div",{staticClass:"row items-center q-body-1",attrs:{slot:"right"},slot:"right"},[e._v("\n                          55,00\n                        ")])],1)],1),e.checkedDetails||e.checkedVO?a("q-card-actions",{staticStyle:{"background-color":"#ffebee"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"row  q-px-sm gutter-xs"},[a("div",{staticClass:"col-3"},[a("q-card-title",{staticClass:"titleOtherValues"},[e._v("Desconto\n                            ")])],1),a("div",{staticClass:"col-3 offset-3"},[a("q-input",{attrs:{color:"red-7",value:"2500,00",suffix:"%",align:"right"}})],1),a("div",{staticClass:"col-3"},[a("q-input",{attrs:{color:"red-7",placeholder:"2050,00",prefix:"R$",align:"right"}})],1)]),a("div",{staticClass:"row  q-px-sm gutter-xs"},[a("div",{staticClass:"col-3"},[a("q-card-title",{staticClass:"titleOtherValues"},[e._v("Multa")])],1),a("div",{staticClass:"col-3 offset-3"},[a("q-input",{attrs:{color:"red-7",placeholder:"2050,00",suffix:"%",align:"right"}})],1),a("div",{staticClass:"col-3"},[a("q-input",{attrs:{color:"red-7",placeholder:"2050,00",prefix:"R$",align:"right"}})],1)]),a("div",{staticClass:"row  q-px-sm gutter-xs"},[a("div",{staticClass:"col-3"},[a("q-card-title",{staticClass:"titleOtherValues"},[e._v("Juros")])],1),a("div",{staticClass:"col-3"},[a("q-select",{staticClass:"q-body-1",attrs:{placeholder:"Tipo",radio:"",color:"red-7",options:e.selectOptionsPC},model:{value:e.selectPC,callback:function(t){e.selectPC=t},expression:"selectPC"}})],1),a("div",{staticClass:"col-3"},[a("q-input",{attrs:{color:"red-7",placeholder:"250,00",suffix:"%",align:"right"}})],1),a("div",{staticClass:"col-3"},[a("q-input",{attrs:{color:"red-7",placeholder:"250,00",prefix:"R$",align:"right"}})],1)]),a("div",{staticClass:"row  q-px-sm gutter-xs"},[a("div",{staticClass:"col-3"},[a("q-card-title",{staticClass:"titleOtherValues"},[e._v("Protesto\n                            ")])],1),a("div",{staticClass:"col-3 offset-6"},[a("q-input",{attrs:{color:"red-7",placeholder:"250,00",prefix:"R$",align:"right"}})],1)])])]):e._e(),a("q-alert",{staticClass:"no-shadow q-my-md full-width",staticStyle:{"border-radius":"0"},attrs:{color:"red-7","text-color":"white"}},[a("q-input",{staticClass:"no-shadow  ",attrs:{color:"white",dark:"",value:"55,00","hide-underline":"",prefix:"Total",align:"right"}})],1),a("q-alert",{staticClass:"no-shadow full-width",staticStyle:{"border-radius":"0"},attrs:{color:"red-6","text-color":"white"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 q-body-1"},[e._v("Liquidado")]),a("div",{staticClass:"col-6 q-body-1 text-right"},[e._v("\n                          1.355,00\n                          "),a("Br"),e._v("23/11/1984\n                        ")],1)])])],1),a("q-btn",{staticClass:"float-right q-mx-sm",attrs:{color:"primary",icon:"call_split",label:"Parcelar"}})],1),a("div",{staticClass:"col-12 col-lg-6 "},[a("div",{staticStyle:{padding:"0",widows:"100%"}},[a("q-list",{staticClass:"row"},[a("q-item",{staticClass:"col-12 col-lg-6 no-border"},[a("q-item-side",[a("q-item-tile",{attrs:{avatar:""}},[a("img",{attrs:{src:"https://i.pinimg.com/originals/a9/38/09/a938091f6fdca06fc6e829688f2dbe88.jpg"}})])],1),a("q-item-main",{attrs:{label:"Fulana de tal"}},[e._v("John Doe")]),a("q-item-side",{attrs:{right:""}},[a("q-item-tile",{attrs:{icon:"search",color:"red"}})],1)],1),a("q-item",{staticClass:"col-12 col-lg-6 no-border"},[a("q-item-main",[a("q-field",{attrs:{icon:"business"}},[a("q-select",{staticClass:"q-body-1",attrs:{"hide-underline":"","stack-label":"Empresa",radio:"",options:e.selectOptionsPC},model:{value:e.selectPC,callback:function(t){e.selectPC=t},expression:"selectPC"}})],1)],1)],1),a("q-item",{staticClass:"row no-border"},[a("q-chip",{staticClass:"q-ma-none",attrs:{color:"warning",small:""}},[e._v("\n                          Está atrasado em 1 dia\n                        ")]),a("q-chip",{staticClass:"q-mx-sm",attrs:{color:"primary",small:""}},[e._v("\n                          Em aberto\n                        ")]),a("q-chip",{staticClass:"q-mx-sm",attrs:{color:"primary",small:""}},[e._v("\n                          Parcela 1 / 10\n                        ")])],1),a("q-item",{staticClass:"no-border col-12"},[a("q-item-main",[a("q-input",{staticClass:"bg-white",attrs:{type:"textarea","stack-label":"Descrição","max-height":100,rows:"1"}})],1)],1),e.checkedDetails?e._e():a("q-item",{staticClass:"col-12 col-lg-12 no-border"},[a("q-datetime",{staticClass:"q-body-1 full-width",attrs:{"stack-label":"Vencimento",type:"date"},model:{value:e.selectPC,callback:function(t){e.selectPC=t},expression:"selectPC"}})],1),e.checkedDetails?a("q-item",{staticClass:"col-12 col-lg-6 no-border"},[a("q-datetime",{staticClass:"q-body-1 full-width",attrs:{"stack-label":"Vencimento",type:"date"},model:{value:e.selectPC,callback:function(t){e.selectPC=t},expression:"selectPC"}})],1):e._e(),e.checkedDetails?a("q-item",{staticClass:"col-12 col-lg-6 no-border"},[a("q-datetime",{staticClass:"q-body-1 full-width",attrs:{"stack-label":"Vencimento Original",type:"date"},model:{value:e.selectPC,callback:function(t){e.selectPC=t},expression:"selectPC"}})],1):e._e(),e.checkedDetails?a("q-item",{staticClass:"col-12 col-lg-6 no-border"},[a("q-datetime",{staticClass:"q-body-1 full-width",attrs:{"stack-label":"Competência",type:"date"},model:{value:e.selectPC,callback:function(t){e.selectPC=t},expression:"selectPC"}})],1):e._e(),e.checkedDetails?a("q-item",{staticClass:"col-12 col-lg-6 no-border"},[a("q-datetime",{staticClass:"q-body-1 full-width",attrs:{"stack-label":"Emissão",type:"date"},model:{value:e.selectPC,callback:function(t){e.selectPC=t},expression:"selectPC"}})],1):e._e(),a("q-item",{staticClass:"col-12 col-lg-6",staticStyle:{"border-bottom":"none"}},[a("q-item-main",[a("q-select",{staticClass:"q-body-1 full-width",attrs:{"stack-label":"Plano de Contas",radio:"",options:e.selectOptionsPC},model:{value:e.selectPC,callback:function(t){e.selectPC=t},expression:"selectPC"}})],1)],1),a("q-item",{staticClass:"col-12 col-lg-6",staticStyle:{"border-bottom":"none"}},[a("q-item-main",[a("q-select",{staticClass:"q-body-1 full-width",attrs:{"stack-label":"Centro de Custo",radio:"",options:e.selectOptionsPC},model:{value:e.selectPC,callback:function(t){e.selectPC=t},expression:"selectPC"}})],1)],1),e.checkedDetails?a("q-item",{staticClass:"col-12 no-border"},[a("q-input",{staticClass:"bg-cinza q-pa-sm q-body-1 full-width",attrs:{type:"textarea","stack-label":"Observações","max-height":100,rows:"2"}})],1):e._e()],1)],1)])]),e.checkedDetails?a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{margin:"0 auto",display:"block",padding:"0 12px 0 4px"},attrs:{rounded:"",dense:"",flat:"",icon:"keyboard_arrow_up",size:"xs",color:"grey",label:"Detalhes"},on:{click:function(t){e.checkedDetails=!e.checkedDetails}}}):e._e(),e.checkedDetails?e._e():a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{margin:"0 auto",display:"block",padding:"0 12px 0 4px"},attrs:{rounded:"",dense:"",flat:"",icon:"keyboard_arrow_down",size:"xs",color:"grey",label:"Detalhes"},on:{click:function(t){e.checkedDetails=!e.checkedDetails}}})],1),a("div",{staticClass:"col-12 col-lg-4"},[a("q-card",{staticClass:" bg-white no-shadow col-12 col-lg-12 q-pa-md q-px-md full-height"},[a("q-toolbar-title",[e._v("\n                  Boletos\n                ")]),a("div",{staticClass:"row q-px-md gutter-x-sm q-pt-sm justify-center"},[a("q-btn",{attrs:{flat:"",color:"primary",size:"md",label:"Gerar Boleto",icon:"add"}})],1),a("div",{staticClass:"row q-px-md gutter-x-sm q-pt-sm justify-center"},[a("q-btn",{attrs:{flat:"",color:"primary",size:"md",icon:"print"}},[a("q-tooltip",[e._v("\n                      Imprimir\n                    ")])],1),a("q-btn",{attrs:{flat:"",color:"primary",size:"md",icon:"print"}},[a("q-tooltip",[e._v("\n                      Imprimir Atualizado\n                    ")])],1),a("q-btn",{attrs:{flat:"",color:"red",size:"md",icon:"gavel"}},[a("q-tooltip",[e._v("\n                      Protestar Boleto\n                    ")])],1),a("q-btn",{attrs:{flat:"",color:"white","text-color":"red",size:"md",icon:"pan_tool"}},[a("q-tooltip",[e._v("\n                      Cancelar Protesto\n                    ")])],1),a("q-btn",{attrs:{flat:"",color:"white","text-color":"grey",size:"md",icon:"delete"}},[a("q-tooltip",[e._v("\n                      Cancelar Boleto\n                    ")])],1)],1),a("q-list",{staticStyle:{padding:"0"},attrs:{highlight:""}},[a("q-list-header",[e._v("#123456789"),a("br"),a("small",[e._v("Banco do Brasil - Ag 3312 - CC 107143")])]),a("a",{staticClass:"q-item",on:{click:function(t){e.openedSangria=!0}}},[a("q-item-side",{attrs:{icon:"add",color:"blue"}}),a("q-item-main",{attrs:{label:"15/10/2018"}},[a("p",[a("small",[e._v("Boleto gerado")])])]),a("q-item-side",{attrs:{right:""}},[a("p",{staticStyle:{margin:"0","text-align":"right"}},[e._v("55,00")])])],1),a("a",{staticClass:"q-item",on:{click:function(t){e.openedSangria=!0}}},[a("q-item-side",{attrs:{icon:"gavel",color:"red"}}),a("q-item-main",{attrs:{label:"25/10/2018"}},[a("p",[a("small",[e._v("Protestado")])])])],1),a("a",{staticClass:"q-item",on:{click:function(t){e.openedSangria=!0}}},[a("q-item-side",{attrs:{icon:"attach_money",color:"red"}}),a("q-item-main",{attrs:{label:"27/10/2018"}},[a("p",[a("small",[e._v("Liquidado")])])]),a("q-item-side",{attrs:{right:""}},[a("p",{staticStyle:{margin:"0","text-align":"right",color:"red"}},[e._v("58,50")])])],1)],1)],1)],1)],1),a("q-card",{staticClass:"row q-pb-md q-mb-md bg-white no-shadow"},[a("div",{staticClass:"col-12 col-lg-12"},[a("q-toolbar-title",{staticClass:" q-mt-lg"},[e._v("\n                Arquivos\n              ")]),a("div",{staticClass:"row q-px-md gutter-x-sm q-pt-sm"},[a("q-uploader",{staticClass:"full-width",attrs:{multiple:"",url:"","upload-factory":e.uploadFile}})],1),a("div",{staticClass:"row gutter-x-md q-px-md justify-center",staticStyle:{margin:"0"}},[a("div",{staticClass:"col-3 col-lg-2 shadow-1 q-ma-md q-pa-none",staticStyle:{"border-radius":"16px",overflow:"hidden"}},[a("q-card-media",[a("img",{attrs:{src:"https://i.pinimg.com/originals/a9/38/09/a938091f6fdca06fc6e829688f2dbe88.jpg"}})]),a("q-btn",{staticClass:"float-right",attrs:{flat:"",rounded:"",dense:"",icon:"delete",color:"grey "}})],1)])],1)]),a("q-tabs",{staticClass:"bg-cinza q-mb-md roundedB",attrs:{swipeable:"",color:"cinza","text-color":"light-blue-9"}},[a("q-tab",{attrs:{slot:"title",default:"",name:"tab-1",label:"Liquidar"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-2",label:"Movimentação"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-3",label:"Relacionados"},slot:"title"}),a("q-tab-pane",{staticClass:"bg-white",attrs:{name:"tab-1"}},[a("div",{staticClass:"q-pa-md"},[a("q-list",[a("q-item",{staticClass:"noborder"},[a("q-item-main",[a("div",{staticClass:"row gutter-x-sm "},[a("div",{staticClass:"col-12 col-md-5"},[a("q-select",{attrs:{"stack-label":"Forma de Pagamento",radio:"",options:e.dados.fonetipo},model:{value:e.dados.foneselect,callback:function(t){e.$set(e.dados,"foneselect",t)},expression:"dados.foneselect"}})],1),a("div",{staticClass:"col-12 col-md-2"},[a("q-input",{staticClass:"q-body-1",attrs:{"stack-label":"Valor"},model:{value:e.dados.fone,callback:function(t){e.$set(e.dados,"fone",t)},expression:"dados.fone"}})],1),a("div",{staticClass:"col-12 col-md-2"},[a("q-input",{staticClass:"col q-body-1",attrs:{"stack-label":"Parcelas"},model:{value:e.dados.fonedesc,callback:function(t){e.$set(e.dados,"fonedesc",t)},expression:"dados.fonedesc"}})],1),a("div",{staticClass:"col-12 col-md-2"},[a("q-input",{staticClass:"col q-body-1",attrs:{"stack-label":"Data"},model:{value:e.dados.fonedesc,callback:function(t){e.$set(e.dados,"fonedesc",t)},expression:"dados.fonedesc"}})],1),a("q-btn",{staticClass:"btadd q-mt-none",attrs:{flat:"",round:"",dense:"",icon:"add",color:"red"}})],1)])],1)],1),a("q-list",[a("q-item",{staticClass:"noborder"},[a("q-item-main",[a("div",{staticClass:"row gutter-x-sm "},[a("div",{staticClass:"col-12 col-md-5"},[e._v("\n                          Forma de Pagamento\n                        ")]),a("div",{staticClass:"col-12 col-md-2"},[e._v("\n                          Valor\n                        ")]),a("div",{staticClass:"col-12 col-md-2"},[e._v("\n                          Parcelas\n                        ")]),a("div",{staticClass:"col-12 col-md-2"},[e._v("\n                          Data\n                        ")]),a("q-btn",{staticStyle:{position:"absolute",right:"16px",top:"0px",border:"1px solid darkgray"},attrs:{flat:"",round:"",dense:"",icon:"close",color:"red"}})],1)])],1)],1),a("q-list",[a("q-item",{staticClass:"noborder"},[a("q-item-tile",{staticStyle:{"text-align":"right !important",width:"100%"}},[e._v("\n                      Restante\n                      "),a("strong",[e._v(" 3.130,00")])])],1)],1)],1)]),a("q-tab-pane",{staticClass:"bg-white",attrs:{name:"tab-2"}},[a("div",{staticClass:"row gutter-md q-pa-none q-ma-none"},[a("q-list",{staticClass:"col-12 col-lg-6 q-pa-none",attrs:{highlight:""}},[a("q-list-header",[e._v("Débito"),a("br"),a("small",[e._v("Movimentação\n                      "),a("strong",[e._v("10/10/2018")]),e._v(" - Vencimento\n                      "),a("strong",[e._v("08/10/2018")])])]),a("a",{staticClass:"q-item",on:{click:function(t){e.openedSangria=!0}}},[a("q-item-side",{attrs:{icon:"compare_arrows",color:"red"}}),a("q-item-main",{attrs:{label:"1002 - BB Ag 3312 CC 107143"}},[a("p",[a("small",[e._v("Xxxxxxxx")])])]),a("q-item-side",{attrs:{right:""}},[a("p",{staticStyle:{margin:"0","text-align":"right",color:"red"}},[e._v("50,00")])])],1),a("a",{staticClass:"q-item",on:{click:function(t){e.openedSangria=!0}}},[a("q-item-side",{attrs:{icon:"compare_arrows",color:"red"}}),a("q-item-main",{attrs:{label:"1001 - Dinheiro"}},[a("p",[a("small",[e._v("Xxxxxxxx2")])])]),a("q-item-side",{attrs:{right:""}},[a("p",{staticStyle:{margin:"0","text-align":"right",color:"red"}},[e._v("9,50")])])],1),a("q-item-side",{staticStyle:{padding:"0 16px"},attrs:{right:""}},[a("p",{staticStyle:{margin:"0","text-align":"right"}},[a("small",[e._v("59,50")])])])],1),a("q-list",{staticClass:"col-12 col-lg-6 q-pa-none",attrs:{highlight:""}},[a("q-list-header",[e._v("Crédito"),a("br"),a("small",[e._v("Movimentação\n                      "),a("strong",[e._v("10/10/2018")]),e._v(" - Vencimento\n                      "),a("strong",[e._v("08/10/2018")])])]),a("q-item",[a("q-item-side",{attrs:{icon:"compare_arrows",color:"grey"}}),a("q-item-main",{attrs:{label:"1102 - Título a Receber"}},[a("p",[a("small",[e._v("Zzzzzzz")])])]),a("q-item-side",{attrs:{right:""}},[a("p",{staticStyle:{margin:"0","text-align":"right"}},[e._v("55,00")])])],1),a("q-item",[a("q-item-side",{attrs:{icon:"compare_arrows",color:"grey"}}),a("q-item-main",{attrs:{label:"1108 - Multa e Juros"}},[a("p",[a("small",[e._v("Acrescimo por vencimento.")])])]),a("q-item-side",{attrs:{right:""}},[a("p",{staticStyle:{margin:"0","text-align":"right"}},[e._v("4,50")])])],1),a("q-item-side",{staticStyle:{padding:"0 16px"},attrs:{right:""}},[a("p",{staticStyle:{margin:"0","text-align":"right"}},[a("small",[e._v("59,50")])])])],1)],1)]),a("q-tab-pane",{staticClass:"bg-white",attrs:{name:"tab-3"}},[a("div",{staticClass:"q-pa-md"},[a("q-collapsible",{attrs:{label:"25/11/2018"}},[a("div",[a("q-card",{staticClass:"extratoItem bg-white q-mb-md q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-6"},[a("div",{staticClass:"q-px-sm"},[a("img",{staticClass:"avatar float-left",staticStyle:{"max-width":"40px",height:"auto"}}),a("q-toolbar-title",[a("div",[e._v("Optidados Soluções para Opticas\n                              ")]),a("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n                                Optidados Soluções para Opticas Ltda - ME\n                              ")])]),a("q-chip",{staticClass:"q-ma-sm float-left q-my-sm",attrs:{rounded:"",color:"grey",small:""}},[e._v("\n                              Renegociado\n                            ")]),a("q-chip",{staticClass:"q-ma-sm float-left q-my-sm",attrs:{rounded:"",color:"primary",small:""}},[e._v("\n                              Em Aberto\n                            ")]),a("p",{staticClass:"q-my-sm"},[a("small",{staticStyle:{display:"block"}},[e._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit.\n                                A blanditiis commodi eaque iusto tempore.\n                              ")])])],1)]),a("div",{staticClass:"col-12 col-lg-2"},[a("div",{staticClass:"q-px-sm"},[a("dl",{staticStyle:{"margin-top":"6px"}},[a("dt",[e._v("Venda #1802")]),a("dd",[e._v("Cartão Visa")]),a("dt",{staticClass:"q-mt-md"},[e._v("Faturamento Geral")])])])]),a("div",{staticClass:"col-3 col-lg-1"},[a("q-tooltip",[e._v("\n                            Vencimento\n                          ")]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("DEZ")])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v("10")])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("2018")])])],1),a("div",{staticClass:"col-3 col-lg-1"},[a("q-tooltip",[e._v("\n                            Vencimento\n                          ")]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("DEZ")])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v("10")])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("2018")])])],1),a("div",{staticClass:"col-6 col-lg-2"},[a("dl",{staticStyle:{float:"right",width:"100%","margin-bottom":"0"}},[a("dt",{staticStyle:{"text-align":"right","font-size":"24px",color:"red"}},[e._v("\n                              2.050,00\n                              "),a("small",{staticStyle:{display:"block","font-size":"0.65em","font-weight":"normal",color:"grey"}},[e._v("\n                                1.050,00\n                              ")])])]),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"delete",color:"primary",size:"md"}}),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"edit",color:"primary",size:"md"},on:{click:function(t){e.openedTitulo=!0}}}),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"attach_money",size:"md",color:"primary"}}),a("div",{staticClass:"col",staticStyle:{float:"right","padding-top":"7px"}},[a("q-checkbox",{attrs:{color:"primary"},model:{value:e.checkedTitulo,callback:function(t){e.checkedTitulo=t},expression:"checkedTitulo"}})],1),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"keyboard_arrow_down",size:"md",color:"grey"},on:{click:function(t){e.showMoreDetails=!e.showMoreDetails}}})],1)]),e.showMoreDetails?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-6"},[a("div",{staticClass:"q-px-sm"},[a("q-toolbar-title",{staticStyle:{clear:"left",margin:"6px 0 0 -16px"}},[a("q-icon",{attrs:{name:"business"}}),e._v("\n                              Geeks Solucoes\n                            ")],1),a("p",{staticStyle:{clear:"left",margin:"6px 0 0"}},[a("small",{staticStyle:{display:"block"}},[e._v("Lorem Observacao ipsum dolor sit amet, consectetura\n                                dipisicing elit. A blanditiis commodi eaqueiusto tempore.\n                              ")])])],1)]),a("div",{staticClass:"col-12 col-lg-2"},[a("div",{staticClass:"q-px-sm"},[a("dl",{staticStyle:{"margin-top":"6px"}},[a("dt",[e._v("Descricao do CC")])])])]),a("div",{staticClass:"col-2 col-lg-1"},[a("q-tooltip",[e._v("\n                            Vencimento Original\n                          ")]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("DEZ")])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v("10")])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("2018")])])],1),a("div",{staticClass:"col-2 col-lg-1"},[a("q-tooltip",[e._v("\n                            Emissão\n                          ")]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("DEZ")])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v("10")])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v("2018")])])],1),a("div",{staticClass:"col-6 col-lg-2"},[a("div",{staticClass:"q-px-sm"},[a("dl",{staticStyle:{"margin-top":"0px","text-align":"right"}},[a("dd",[a("small",[e._v("Desconto")]),a("span",{staticStyle:{"text-align":"center","font-size":"18px"}},[a("strong",[e._v("100,00")])])]),a("dd",[a("small",[e._v("Multa")]),a("span",{staticStyle:{"text-align":"center","font-size":"18px"}},[a("strong",[e._v("100,00 (2%)")])])]),a("dd",[a("small",[e._v("Juros")]),a("span",{staticStyle:{"text-align":"center","font-size":"18px"}},[a("strong",[e._v("1,00 (0,15% dia)")])])])])])])]):e._e()])],1),a("p",{staticStyle:{"text-align":"right"}},[e._v("Receber\n                    "),a("strong",[e._v("4.000,00")]),e._v(" - Recebido\n                    "),a("strong",[e._v("6.000,00")])])])],1)])],1)],1)])],1)],1)],1)},MA=[];kA._withStripped=!0;var PA={data:function(){return{checkedVO:!1,checkedDetails:!1,checkedTitulo:!1,showMoreDetails:!1,openedSangria:!1,openedTitulo:!1,showchat:!1,openedC:!1,showing:!1,dataIni:"",dataFin:"",grupos:[],selectListOptions:[{label:"Nome do banco",inset:!0,sublabel:"Enables communication",stamp:"Saldo",value:"fb1"},{label:"Nome do banco",inset:!0,sublabel:"Enables communication",stamp:"Saldo",value:"fb2"}],selectPC:"",selectedDataTipo:"",selectDataTipo:[{label:"Vencimento",value:"goog"},{label:"Outro",value:"fb"}],selectOptionsPC:[{label:"Google",value:"goog"},{label:"Facebook",value:"fb"}],dados:{fonetipo:[{label:"Principal",value:"Principal"},{label:"Celular",value:"Celular"},{label:"Fixo",value:"Fixo"},{label:"WhatsApp",value:"WhatsApp"}]}}}},DA=PA,EA=(a("6cb2"),Object(sc["a"])(DA,kA,MA,!1,null,"7972ce14",null));EA.options.__file="FinanceiroPagar.vue";var TA=EA.exports,AA=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Autenticacao bg-cover fit"},[a("div",{staticClass:"Autenticacao-main fixed-center text-center"},[a("img",{staticClass:"q-mb-lg",staticStyle:{height:"50px"},attrs:{alt:"B15",src:"statics/b15-white.svg"}}),a("router-view")],1)])},OA=[];AA._withStripped=!0;var $A={},RA=$A,jA=(a("f1b4"),Object(sc["a"])(RA,AA,OA,!1,null,null,null));jA.options.__file="Autenticacao.vue";var zA=jA.exports,BA=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"AutenticacaoBancos"},["semConexao"===e.operacao?a("q-alert",{attrs:{actions:e.erroAcoes,detail:"Tente novamente em instantes.",type:"negative"}},[e._v("\n    Erro ao estabelecer conexão.\n  ")]):"selecionar"===e.operacao?a("form",{staticClass:"text-white",on:{submit:function(t){return t.preventDefault(),e.adicionarBancos(t)}}},[a("p",[e._v("Selecione os bancos de dados que deseja disponibilizar nesta máquina:")]),a("div",{staticClass:"AutenticacaoBancos-bancos"},[a("campo",{attrs:{rotulo:"Filtro",inverted:"",classCampo:"transparent"},model:{value:e.filtro,callback:function(t){e.filtro=t},expression:"filtro"}}),e._l(e.clienteSistemasFiltrado,function(t,o){return a("q-field",{key:o},[a("q-checkbox",{attrs:{label:t.sistema+" - "+t.bancoDeDados,val:t.idClienteSistema},model:{value:e.idsClienteSistemaSelecionados,callback:function(t){e.idsClienteSistemaSelecionados=t},expression:"idsClienteSistemaSelecionados"}})],1)})],2),a("div",{staticClass:"actions q-mt-lg"},[a("q-btn",{attrs:{color:"transparent",label:"Desconectar",size:"md","text-color":"primary"},on:{click:e.desconectar}}),a("q-btn",{staticClass:"q-ml-md",attrs:{autofocus:"",color:"white",label:"Continuar","text-color":"primary",type:"submit",disable:!e.idsClienteSistemaSelecionados.length}})],1)]):"sincronizando"===e.operacao?a("div",{staticClass:"q-mt-md text-white"},[a("q-spinner",{attrs:{color:"white",size:35}}),a("div",{staticClass:"q-body-1 q-mt-sm"},[e._v("Aguarde, sincronizando...")]),a("div",{staticClass:"q-caption q-mt-sm text-light"},[e._v("\n      plataforma: "+e._s(e.sincronismoStatus.bancos.plataforma)+"\n    ")])],1):"redirecionando"===e.operacao?a("div",{staticClass:"q-mt-md text-white"},[a("div",{staticClass:"q-body-1 q-mt-sm"},[e._v("Redirecionando...")])]):"adicionandoBancoDeDados"===e.operacao?a("div",{staticClass:"q-mt-md text-white"},[a("q-spinner",{attrs:{color:"white",size:35}}),a("div",{staticClass:"q-body-1 q-mt-sm"},[e._v("Adicionado bancos de dados...")])],1):a("div",{staticClass:"q-mt-md text-white"},[a("div",{staticClass:"q-body-1 q-mt-sm"},[e._v("Carregando...")])])],1)},LA=[];BA._withStripped=!0;var VA={components:{Campo:Sl},data:function(){return{filtro:"",idsClienteSistemaSelecionados:[],operacao:"",sincronismoStatus:tc.status,clienteSistemasFiltrado:[],erroAcoes:[{label:"Retomar",handler:this.atualizar}]}},methods:{abrirSistema:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.operacao="redirecionando",e.next=3,this.routerRetry({name:"Home"});case 3:if(e.sent){e.next=8;break}return ei.log("AutenticacaoBancos","Erro no abrirSistema, fazendo reload",this.$route.name),e.next=7,xa(1e3);case 7:window.location.reload();case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),obterDispositivo:function(){var e=localStorage.getItem("dispositivoCliente");e||(e=hi(),localStorage.setItem("dispositivoCliente",e));var t={id:e,detalhe:JSON.stringify({navigator:navigator?{platform:navigator.platform,vendor:navigator.vendor,appVersion:navigator.appVersion,userAgent:navigator.userAgent,deviceMemory:navigator.deviceMemory,connection_downlink:(navigator.connection||{}).downlink}:{},screen:screen?{width:screen.width,height:screen.height}:{},usuario:{id:Zn.usuario.logado.id,nome:Zn.usuario.logado.nome},dataHora:na()})};return t},adicionarBancos:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log("AutenticacaoBancos","adicionarBancos()"),this.idsClienteSistemaSelecionados.length){e.next=4;break}return this.operacao="selecionar",e.abrupt("return",this.$q.notifyError("Banco de dados não selecionado"));case 4:return this.operacao="adicionandoBancoDeDados",t=JSON.parse(localStorage.getItem("clienteSistema")||"null"),a=this.sistemas.filter(function(e){return _.idsClienteSistemaSelecionados.includes(e.idClienteSistema)}),o=t&&this.idsClienteSistemaSelecionados.includes(t.id)?t:a[0],i=this.obterDispositivo(),r=a.filter(function(e){return"19A"===e.versao}),s=po(r,"bancoDeDados"),e.next=13,Ge.sincronismo.toArray();case 13:n=e.sent,Zn.cache.setJson("clienteSistemaBaixados",a),Zn.cache.setJson("clienteSistema",o),Zn.cache.set("bancoDeDados",o.bancoDeDados),localStorage.setItem("sincronismoPlat","sincronizando"),localStorage.setItem("versaoPlataforma",""),Zn.cache.setJson("sincronismoPlataforma",{}),c=!0,l=!1,d=void 0,e.prev=23,u=Ge.tables[Symbol.iterator]();case 25:if(c=(m=u.next()).done){e.next=33;break}if(p=m.value,"login"===p.name){e.next=30;break}return e.next=30,p.clear();case 30:c=!0,e.next=25;break;case 33:e.next=39;break;case 35:e.prev=35,e.t0=e["catch"](23),l=!0,d=e.t0;case 39:e.prev=39,e.prev=40,c||null==u.return||u.return();case 42:if(e.prev=42,!l){e.next=45;break}throw d;case 45:return e.finish(42);case 46:return e.finish(39);case 47:return e.next=49,Ve["a"].getDatabaseNames();case 49:e.t1=function(e){return"plataforma"!==e&&!s.includes(e)},v=e.sent.filter(e.t1),v.forEach(function(e){He(e,"delete")}),h=!0,f=!1,C=void 0,e.prev=55,b=regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=x.value,a=n.find(function(e){return e.bancoDeDados===t})||{bancoDeDados:t},e.next=4,Ge.sincronismo.put(a);case 4:return e.next=6,Zn.dispositivoCliente.grava(i,t);case 6:case"end":return e.stop()}},e)}),g=s[Symbol.iterator]();case 58:if(h=(x=g.next()).done){e.next=63;break}return e.delegateYield(b(),"t2",60);case 60:h=!0,e.next=58;break;case 63:e.next=69;break;case 65:e.prev=65,e.t3=e["catch"](55),f=!0,C=e.t3;case 69:e.prev=69,e.prev=70,h||null==g.return||g.return();case 72:if(e.prev=72,!f){e.next=75;break}throw C;case 75:return e.finish(72);case 76:return e.finish(69);case 77:return e.next=79,tc.atualizarStatus();case 79:return this.sincronismoStatus.bancos.plataforma="0 %",this.sincronismoStatus.concluidoPlat=!1,e.abrupt("return",this.sincronismoInicial());case 82:case"end":return e.stop()}},e,this,[[23,35,39,47],[40,,42,46],[55,65,69,77],[70,,72,76]])}));return function(){return e.apply(this,arguments)}}(),desconectar:function(){ei.log("AutenticacaoBancos","desconectar()"),Zn.usuario.desconecta(),this.$router.push({name:"Autenticacao"})},sincronismoInicial:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:ei.log("AutenticacaoBancos","sincronismoInicial()"),tc.descarregarPlataforma(),tc.descarregarErp(),this.operacao="sincronizando";case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log("AutenticacaoBancos","atualizar()"),e.prev=1,this.$q.loading.show(),navigator.onLine){e.next=6;break}return this.operacao="semConexao",e.abrupt("return");case 6:return t=JSON.parse(localStorage.getItem("clienteSistemaBaixados")||"[]"),a=t.map(function(e){return e.idClienteSistema}),o=function(e){return""+(99-Number(e.padrao))+Number(!a.includes(e.idClienteSistema))+e.sistema+e.bancoDeDados},e.next=11,Zn.usuario.inicializaLogado();case 11:if(!navigator.onLine){e.next=18;break}return e.next=14,this.$utils.geeksApi({clienteSistemas:{funcao:"50BD6521-7654-4455-A161-BDFFCC1AA3A9"}},"GeeksPlat15A");case 14:i=e.sent,this.sistemas=i.data.clienteSistemas.sort(function(e,t){return o(e).localeCompare(o(t))}),e.next=19;break;case 18:this.sistemas=Zn.usuario.logado.sistemas.sort(function(e,t){return o(e).localeCompare(o(t))});case 19:return e.next=21,Ve["a"].getDatabaseNames();case 21:if(r=e.sent,r.includes("plataforma")){e.next=25;break}return this.$q.notifyError("O banco principal não foi encontrado."),e.abrupt("return",this.desconectar());case 25:if(Array.isArray(this.sistemas)){e.next=28;break}return this.$q.notifyError("Não foi possível obter os bancos de dados."),e.abrupt("return",this.desconectar());case 28:if(!(this.sistemas.length<=0)){e.next=31;break}return this.$q.notifyError("Este usuário não possui direito de acesso a nenhum sistema."),e.abrupt("return",this.desconectar());case 31:if(s=this.sistemas.filter(function(e){return"19A"===e.versao}),"selecionar"!==this.operacao){e.next=37;break}return ei.log("AutenticacaoBancos","aguardando selecionar sistemas/bancos"),this.idsClienteSistemaSelecionados=a,this.clienteSistemasFiltrado=this.sistemas,e.abrupt("return");case 37:if(n=localStorage.getItem("clienteSistema"),n){e.next=41;break}return s.length<=1&&this.sistemas.length<=10?(ei.log("AutenticacaoBancos","menos de 10 sistemas online e 1 banco offline"),this.idsClienteSistemaSelecionados=this.sistemas.map(function(e){return e.idClienteSistema}),this.adicionarBancos()):(ei.log("AutenticacaoBancos","aguardando selecionar sistemas/bancos"),this.idsClienteSistemaSelecionados=a,this.clienteSistemasFiltrado=this.sistemas,this.operacao="selecionar"),e.abrupt("return");case 41:if(this.sincronismoStatus.concluidoPlat){e.next=43;break}return e.abrupt("return",this.sincronismoInicial());case 43:return ei.log("abrirSistema","via atualizar"),e.abrupt("return",this.abrirSistema());case 47:e.prev=47,e.t0=e["catch"](1),this.$q.notifyError("Erro na operação",e.t0);case 50:return e.prev=50,this.$q.loading.hide(),e.finish(50);case 53:case"end":return e.stop()}},e,this,[[1,47,50,53]])}));return function(){return e.apply(this,arguments)}}(),mostraTelaSelecao:function(e){ei.log("AutenticacaoBancos","aguardando selecionar sistemas/bancos"),this.idsClienteSistemaSelecionados=e;var t=function(t){return""+(99-Number(t.padrao))+Number(!e.includes(t.idClienteSistema))+t.sistema+t.bancoDeDados};this.clienteSistemasFiltrado=this.sistemas=this.sistemas.sort(function(e,a){return t(e).localeCompare(t(a))}),this.operacao="selecionar"}},watch:{filtro:function(e){ei.log("AutenticacaoBancos","filtro",e),this.clienteSistemasFiltrado=e?this.sistemas.filter(function(t){return t.bancoDeDados.toUpperCase().includes(e.toUpperCase())}):this.sistemas},"sincronismoStatus.concluidoPlat":function(e){ei.log("AutenticacaoBancos","sincronismoStatus.concluidoPlat",e),e&&"selecionar"!==this.operacao&&this.abrirSistema()}},created:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.operacao=this.$route.params.operacao;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),mounted:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.atualizar();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},UA=VA,HA=(a("f9f8"),Object(sc["a"])(UA,BA,LA,!1,null,null,null));HA.options.__file="AutenticacaoBancos.vue";var QA=HA.exports,GA=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"text-white",on:{submit:e.entrar}},[a("q-field",{attrs:{error:e.$v.campos.cpf.$error,"error-label":"Informe um CPF válido."}},[a("q-input",{attrs:{autocomplete:"username",autofocus:"",color:"white",dark:"",disable:e.carregando,"float-label":"CPF"},model:{value:e.campos.cpf,callback:function(t){e.$set(e.campos,"cpf",t)},expression:"campos.cpf"}})],1),a("q-field",{attrs:{error:e.$v.campos.senha.$error,"error-label":"Informe uma senha válida."}},[a("q-input",{attrs:{autocomplete:"current-password",color:"white",dark:"",disable:e.carregando,"float-label":"Senha",type:"password"},model:{value:e.campos.senha,callback:function(t){e.$set(e.campos,"senha",t)},expression:"campos.senha"}})],1),a("div",{staticClass:"actions q-mt-lg"},[a("q-btn",{staticClass:"full-width q-mb-md",attrs:{color:"white",label:"Entrar",loading:e.carregando,size:"lg","text-color":"primary",type:"submit"}}),a("q-btn",{attrs:{color:"transparent",label:"Esqueci a senha",size:"md","text-color":"primary"}})],1),a("p",{staticClass:"q-mt-lg"},[e._v("Não tem uma conta? "),a("q-btn",{attrs:{color:"transparent",label:"Cadastre-se",size:"md","text-color":"white"}})],1)],1)},JA=[];GA._withStripped=!0;var XA={data:function(){return{campos:{cpf:"",senha:""},carregando:!1}},methods:{entrar:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log("AutenticacaoEntrar","entrar()"),t&&t.preventDefault(),!this.carregando){e.next=4;break}return e.abrupt("return");case 4:if(this.$v.campos.$touch(),!this.$v.campos.$error){e.next=7;break}return e.abrupt("return");case 7:return this.carregando=!0,e.prev=8,e.next=11,Zn.usuario.autentica({cpf:this.campos.cpf,senha:this.campos.senha});case 11:this.$router.push({name:"AutenticacaoBancos"}),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](8),this.$q.notifyError(e.t0.message,e.t0);case 17:this.carregando=!1;case 18:case"end":return e.stop()}},e,this,[[8,14]])}));return function(t){return e.apply(this,arguments)}}()},validations:{campos:{cpf:{minLength:Object(rl["minLength"])(11),required:rl["required"]},senha:{minLength:Object(rl["minLength"])(2),required:rl["required"]}}}},YA=XA,WA=Object(sc["a"])(YA,GA,JA,!1,null,null,null);WA.options.__file="AutenticacaoEntrar.vue";var ZA=WA.exports,KA=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.dbUsuario.logado.desenvolvedor()?a("div",{staticClass:"q-ma-md"},[a("div",{staticClass:"q-mb-md"},[e._v("Ferramenta do desenvolvedor")]),a("div",[a("monaco-editor",{staticClass:"editor-dev",attrs:{language:"javascript",options:{automaticLayout:!0,lineNumbersMinChars:2},theme:"vs-dark"},on:{editorDidMount:e.aoIniciarEditor},model:{value:e.comando,callback:function(t){e.comando=t},expression:"comando"}}),a("div",{staticClass:"q-mt-sm"},[a("q-btn",{staticClass:"full-width",attrs:{color:"primary",icon:"send",label:"Executar"},on:{click:e.enviarComando}})],1),e.mensagemErro?a("div",{staticClass:"text-red q-mt-sm"},[e._v("\n      "+e._s(e.mensagemErro)+"\n    ")]):e._e(),a("div",{staticClass:"row q-my-sm"},[e._v("Resultado")]),a("div",{staticClass:"row bg-white q-mb-sm"},[a("campo",{staticClass:"col-6 col-md-1",attrs:{"somente-leitura":"","rotulo-fixo":"typeof"},model:{value:e.type_of,callback:function(t){e.type_of=t},expression:"type_of"}}),a("campo",{staticClass:"col-6 col-md-1",attrs:{"somente-leitura":"","rotulo-fixo":"constructor"},model:{value:e.constructor_,callback:function(t){e.constructor_=t},expression:"constructor_"}}),a("campo",{staticClass:"col-6 col-md-1",attrs:{"somente-leitura":"","rotulo-fixo":"registros"},model:{value:e.registros,callback:function(t){e.registros=t},expression:"registros"}}),a("campo",{staticClass:"col-6 col-md-2",attrs:{"somente-leitura":"","rotulo-fixo":"tamanho json"},model:{value:e.tamanhoJson,callback:function(t){e.tamanhoJson=t},expression:"tamanhoJson"}}),a("campo",{staticClass:"col-6 col-md-2",attrs:{"somente-leitura":"","rotulo-fixo":"tempoExecucao"},model:{value:e.tempoExecucao,callback:function(t){e.tempoExecucao=t},expression:"tempoExecucao"}})],1),a("campo",{staticClass:"row bg-white",attrs:{"somente-leitura":"","rotulo-fixo":"Retorno",rows:"5",tipo:"textoArea"},model:{value:e.retornoJson,callback:function(t){e.retornoJson=t},expression:"retornoJson"}})],1),a("div",{attrs:{id:"resultado"}}),a("div",{domProps:{innerHTML:e._s(e.vHtml)}}),a("canvas",{ref:"resultadoCanvas"}),a("svg",{attrs:{id:"resultadoSvg"}}),a("svg",{ref:"resultadoSvgRef"}),a("img",{ref:"resultadoImg"})]):e._e()},eO=[];KA._withStripped=!0;var tO=a("b17c"),aO=a.n(tO),oO=a("62c5"),iO=a.n(oO),rO=a("059c"),sO={Alerta:Mo,ErroValidacao:ko,adicionarSincronizar:rt,agrupar:ct,analisarRedeSocialLink:lt,arredondar:dt,arredondarPiso:mt,arredondarTeto:vt,base64:Ct,bulkPut:Qt,buscarCep:Jt,buscarEndereco:Xt,clonar:Yt,clonarCompactar:Zt,clonarV2:ea,compactarObjeto:aa,completarCodigoBarras:oa,converterDataHoraBr:sa,dataAtual:na,diferenca:va,diferencaNivel1:fa,diferencaObjetos:ga,dormir:xa,eventos:qa,executarApi:Ia,executarGraphql:ya,executarSql:jo,executarSqlProtegido:zo,extenso:ka,fbarcode:Qo,filtrar:Ma,filtrarDigitos:Pa,gconsole:ei,imposto:Oa,imprimir:Ra,isNumber:ja,jsBarcode128C:ni,juntar:za,logarDebug:Xo,logarFim:Wo,logarIni:Yo,mapearEstadoCodigo:La,mostrarErro:Ga,primeiraMaiuscula:Ja,primeiraMinuscula:Xa,processarFilho:Ya,processarFilhoEspecifico:Za,processarFilhos:eo,removerAcentos:oo,sincronismoEnviar:so,sistemaPai:co,somar:lo,sqlData:Bo,sqlNum:Lo,sqlStr:Vo,tratarErroGraphql:uo,unicos:po,uuid:hi,validarDocumentoNacional:mi,validarDocumentoNacionalUnico:pi,verificarAlerta:Do,verificarErro:Po,verificarExcecao:Eo,verificarSeCamposSaoValidos:Co},nO=at()({},sO,{BrowserQRCodeSvgWriter:Zc["BrowserQRCodeSvgWriter"],Dexie:Ve["a"],RobustIndexeddb:us,RobustSql:ps,axios:gt.a,date:At["d"],db:Zn,dbPlataforma:Zi,erp:He,merge:ot["merge"],moment:ra.a,JsBarcode:iO.a,orderBy:ot["orderBy"],plataforma:Ge,rb:vs,uid:ci["a"],vm:void 0}),cO={components:{Campo:Sl,MonacoEditor:rO["a"]},computed:{},data:function(){return{comando:"",constructor_:"",dbUsuario:Zn.usuario,mensagemErro:"",registros:"",retorno:"",retornoJson:"",tamanhoJson:"",tempoExecucao:"",type_of:"",vHtml:""}},methods:{aoIniciarEditor:function(e){var t=this;e.onKeyDown(function(e){var a=e.browserEvent||{};(a.ctrlKey||a.metaKey)&&13===a.which&&(e.stopPropagation(),t.enviarComando())})},enviarComando:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.mensagemErro="",nO.vm=this,localStorage.setItem("desenvolvedor",this.comando),t=aO()(Function,la()(Object.keys(nO)).concat(["return async function() {"+this.comando+"}()"])),this.constructor_="",this.mensagemErro="",this.registros="",this.retorno="",this.retornoJson="Processando ...",this.tamanhoJson="",this.tempoExecucao="",this.type_of="",a=new Date,e.next=16,t.apply(void 0,la()(Object.values(nO)));case 16:o=e.sent,i=new Date,this.type_of=Mt()(o),this.constructor_=null===o||void 0===o?"":o.constructor.name,"Array"===this.constructor_?this.registros=o.length:"Object"===this.constructor_&&(this.registros=Object.keys(o).length),this.tempoExecucao=lO(a,i),r=JSON.stringify(o,0,2),s=(r||"").length,this.tamanhoJson=dO(s),this.retornoJson=s<1e5?r:r.substr(0,1e4)+"\n\n...",e.next=32;break;case 28:e.prev=28,e.t0=e["catch"](0),this.retorno="",this.mensagemErro=e.t0.message;case 32:case"end":return e.stop()}},e,this,[[0,28]])}));return function(){return e.apply(this,arguments)}}(),eventoKeydown:function(e){"Control"===e.key&&(this.teclaControl=!0),this.teclaControl&&"Enter"===e.key&&this.enviarComando()},eventoKeyup:function(e){"Control"===e.key&&(this.teclaControl=!1)}},watch:{},created:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:ei.log("Desenvolvedor","created()"),this.dbUsuario.inicializaLogado(),this.comando=localStorage.getItem("desenvolvedor")||"";case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()};function lO(e,t){var a=t-e;return a<1e3?a.toFixed(0)+" ms":a<6e4?(a/1e3).toFixed(2)+" seg":(a/6e4).toFixed(2)+" min"}function dO(e){return e<1024?e.toFixed(0)+" byte(s)":e<Math.pow(1024,2)?(e/1024).toFixed(2)+" Kb":e<Math.pow(1024,3)?(e/Math.pow(1024,2)).toFixed(2)+" Mb":(e/Math.pow(1024,3)).toFixed(2)+" Gb"}var uO=cO,mO=(a("7d48"),Object(sc["a"])(uO,KA,eO,!1,null,null,null));mO.options.__file="Desenvolvedor.vue";var pO=mO.exports,vO=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Editor"},[a("q-layout-header",[a("q-toolbar",{attrs:{color:"dark"}},[a("q-btn",{attrs:{dense:"",flat:"",icon:"chevron_left",round:""},on:{click:e.fechar}}),a("q-toolbar-title",{nativeOn:{click:function(t){return e.abrirConfiguracoes(t)}}},[e._v("\n        "+e._s(e.campos.nomeObjeto||"Editor")+"\n        "),e.existeObjeto?a("badge",{staticClass:"Editor-id",attrs:{cor:"grey-10"}},[e._v(e._s(e.campos.codigoObjeto))]):e.temId&&!e.existeObjeto?a("badge",{staticClass:"Editor-id",attrs:{cor:"negative"}},[e._v("Rascunho")]):e._e(),e.campos.nomeObjeto?a("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("Editor")]):e._e()],1),e.modoDiff?a("q-btn",{staticClass:"q-mr-sm",attrs:{color:"negative",icon:"close",label:"Fechar Diff"},on:{click:e.fecharDiff}}):e._e(),a("q-btn-group",{staticClass:"q-mr-sm"},[e.atualizarAutomaticamente?e._e():a("q-btn",{attrs:{color:"blue",icon:"play_arrow",label:"Atualizar"},on:{click:e.atualizar}}),e.existeObjeto&&e.id?a("q-btn",{attrs:{color:"blue-5",icon:"remove_red_eye",target:"_blank",to:e.rotaImprimir}}):e._e()],1),a("q-btn",{staticClass:"q-ml-sm",attrs:{color:"white",label:"Novo",icon:"add","text-color":"dark"},on:{click:e.incluir}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{color:"white",label:"Abrir",icon:"search","text-color":"dark"},on:{click:e.abrirModalBuscar}}),a(e.existeObjeto?"q-btn-dropdown":"q-btn",{tag:"component",staticClass:"q-ml-md",attrs:{color:"yellow",disabled:e.salvando,icon:"save",label:e.salvando?"Salvando...":"Salvar",split:"","text-color":"dark"},on:{click:e.salvar}},[e.existeObjeto?a("q-list",{attrs:{link:""}},[a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){return e.abrirModalHistorico(t)}}},[a("q-item-side",{attrs:{icon:"history"}}),a("q-item-main",{attrs:{label:"Histórico"}})],1),a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){return e.abrirModalPublicar(t)}}},[a("q-item-side",{attrs:{icon:"publish"}}),a("q-item-main",{attrs:{label:"Publicar"}})],1)],1):e._e()],1)],1)],1),a("q-page-container",[a("div",{staticClass:"Editor-codigo u-alturaConteudo row"},[a("div",{staticClass:"u-alturaConteudo bg-dark text-white col col-lg-6",attrs:{id:"editor"}},[a("q-list",{staticClass:"q-pb-none",attrs:{"no-border":""}},[a("q-collapsible",{staticClass:"Editor-editorItem",attrs:{group:"editor",icon:"settings",label:"Configurações"},model:{value:e.areaConfiguracoes,callback:function(t){e.areaConfiguracoes=t},expression:"areaConfiguracoes"}},[a("div",{staticClass:"bg-grey-10 q-pb-md q-pt-sm q-px-md"},[a("campo",{ref:"campoNomeObjeto",attrs:{dark:"",rotulo:"Identificador"},model:{value:e.campos.nomeObjeto,callback:function(t){e.$set(e.campos,"nomeObjeto",t)},expression:"campos.nomeObjeto"}}),a("campo",{attrs:{dark:"",rotulo:"Descrição"},model:{value:e.campos.descricao,callback:function(t){e.$set(e.campos,"descricao",t)},expression:"campos.descricao"}}),a("campo",{attrs:{dark:"",ajuda:e.parametroBase64,rotulo:"Parâmetro",tipo:"textoArea"},model:{value:e.componente.parametro,callback:function(t){e.$set(e.componente,"parametro",t)},expression:"componente.parametro"}}),a("q-toggle",{staticClass:"q-mt-lg",attrs:{label:"Atualizar pré-visualização ao digitar?"},model:{value:e.atualizarAutomaticamente,callback:function(t){e.atualizarAutomaticamente=t},expression:"atualizarAutomaticamente"}}),a("q-list",{staticClass:"q-mt-lg q-pa-none",attrs:{dark:"",separator:""}},[a("q-collapsible",{attrs:{group:"configuracoes",label:"Atalhos da ferramenta"}},[a("table",{staticClass:"TabelaEscura q-caption q-mb-md q-mx-md"},[a("thead",[a("tr",[a("th",[e._v("Atalho")]),a("th",[e._v("Windows")]),a("th",[e._v("Linux")]),a("th",[e._v("macOS")])])]),a("tbody",[a("tr",[a("td",[e._v("Abrir documento")]),a("td",{staticClass:"text-center",attrs:{colspan:"2"}},[a("kbd",[e._v("CTRL")]),e._v(" + "),a("kbd",[e._v("O")])]),a("td",{staticClass:"text-center"},[a("kbd",[e._v("⌘")]),e._v(" + "),a("kbd",[e._v("O")])])]),a("tr",[a("td",[e._v("Salvar documento")]),a("td",{staticClass:"text-center",attrs:{colspan:"2"}},[a("kbd",[e._v("CTRL")]),e._v(" + "),a("kbd",[e._v("S")])]),a("td",{staticClass:"text-center"},[a("kbd",[e._v("⌘")]),e._v(" + "),a("kbd",[e._v("S")])])]),a("tr",[a("td",[e._v("Atualizar componente")]),a("td",{staticClass:"text-center",attrs:{colspan:"2"}},[a("kbd",[e._v("CTRL")]),e._v(" + "),a("kbd",[e._v("ENTER")])]),a("td",{staticClass:"text-center"},[a("kbd",[e._v("⌘")]),e._v(" + "),a("kbd",[e._v("ENTER")])])])])])]),a("q-collapsible",{attrs:{group:"configuracoes",label:"Atalhos do editor"}},[a("table",{staticClass:"TabelaEscura q-caption q-mb-md q-mx-md"},[a("thead",[a("tr",[a("th",[e._v("Atalho")]),a("th",[e._v("Windows")]),a("th",[e._v("Linux")]),a("th",[e._v("macOS")])])]),a("tbody",[a("tr",[a("td",[e._v("Paleta de comandos")]),a("td",{staticClass:"text-center",attrs:{colspan:"3"}},[a("kbd",[e._v("F1")])])]),a("tr",[a("td",[e._v("Colapsar tudo")]),a("td",{staticClass:"text-center",attrs:{colspan:"2"}},[a("kbd",[e._v("CTRL")]),e._v(" + "),a("kbd",[e._v("K")]),e._v(" | "),a("kbd",[e._v("CTRL")]),e._v(" + "),a("kbd",[e._v("0")])]),a("td",{staticClass:"text-center"},[a("kbd",[e._v("⌘")]),e._v(" + "),a("kbd",[e._v("K")]),e._v(" | "),a("kbd",[e._v("⌘")]),e._v(" + "),a("kbd",[e._v("0")])])]),a("tr",[a("td",[e._v("Comentar")]),a("td",{staticClass:"text-center",attrs:{colspan:"2"}},[a("kbd",[e._v("CTRL")]),e._v(" + "),a("kbd",[e._v("/")])]),a("td",{staticClass:"text-center"},[a("kbd",[e._v("⌘")]),e._v(" + "),a("kbd",[e._v("/")])])]),a("tr",[a("td",[e._v("Expandir tudo")]),a("td",{staticClass:"text-center",attrs:{colspan:"2"}},[a("kbd",[e._v("CTRL")]),e._v(" + "),a("kbd",[e._v("K")]),e._v(" | "),a("kbd",[e._v("CTRL")]),e._v(" + "),a("kbd",[e._v("J")])]),a("td",{staticClass:"text-center"},[a("kbd",[e._v("⌘")]),e._v(" + "),a("kbd",[e._v("K")]),e._v(" | "),a("kbd",[e._v("⌘")]),e._v(" + "),a("kbd",[e._v("J")])])]),a("tr",[a("td",[e._v("Formatar seleção")]),a("td",{staticClass:"text-center",attrs:{colspan:"2"}},[a("kbd",[e._v("CTRL")]),e._v(" + "),a("kbd",[e._v("K")]),e._v(" | "),a("kbd",[e._v("CTRL")]),e._v(" + "),a("kbd",[e._v("F")])]),a("td",{staticClass:"text-center"},[a("kbd",[e._v("⌘")]),e._v(" + "),a("kbd",[e._v("K")]),e._v(" | "),a("kbd",[e._v("⌘")]),e._v(" + "),a("kbd",[e._v("F")])])]),a("tr",[a("td",[e._v("Formatar tudo")]),a("td",{staticClass:"text-center"},[a("kbd",[e._v("CTRL")]),e._v(" + "),a("kbd",[e._v("SHIFT")]),e._v(" + "),a("kbd",[e._v("F")])]),a("td",{staticClass:"text-center"},[a("kbd",[e._v("CTRL")]),e._v(" + "),a("kbd",[e._v("SHIFT")]),e._v(" + "),a("kbd",[e._v("F")])]),a("td",{staticClass:"text-center"},[a("kbd",[e._v("⌘")]),e._v(" + "),a("kbd",[e._v("SHIFT")]),e._v(" + "),a("kbd",[e._v("F")])])]),a("tr",[a("td",[e._v("Localizar")]),a("td",{staticClass:"text-center",attrs:{colspan:"2"}},[a("kbd",[e._v("CTRL")]),e._v(" + "),a("kbd",[e._v("F")])]),a("td",{staticClass:"text-center"},[a("kbd",[e._v("⌘")]),e._v(" + "),a("kbd",[e._v("F")])])]),a("tr",[a("td",[e._v("Múltiplos cursores")]),a("td",{staticClass:"text-center"},[a("kbd",[e._v("CTRL")]),e._v(" + "),a("kbd",[e._v("ALT")]),e._v(" + "),a("kbd",[e._v("SHIFT")]),e._v(" + "),a("kbd",[e._v("↑↓")])]),a("td",{staticClass:"text-center"},[a("kbd",[e._v("CTRL")]),e._v(" + "),a("kbd",[e._v("SHIFT")]),e._v(" + "),a("kbd",[e._v("↑↓")])]),a("td",{staticClass:"text-center"},[a("kbd",[e._v("⌘")]),e._v(" + "),a("kbd",[e._v("SHIFT")]),e._v(" + "),a("kbd",[e._v("↑↓")])])]),a("tr",[a("td",[e._v("Selecionar tudo")]),a("td",{staticClass:"text-center",attrs:{colspan:"2"}},[a("kbd",[e._v("CTRL")]),e._v(" + "),a("kbd",[e._v("A")])]),a("td",{staticClass:"text-center"},[a("kbd",[e._v("⌘")]),e._v(" + "),a("kbd",[e._v("A")])])]),a("tr",[a("td",[e._v("Substituir")]),a("td",{staticClass:"text-center",attrs:{colspan:"2"}},[a("kbd",[e._v("CTRL")]),e._v(" + "),a("kbd",[e._v("H")])]),a("td",{staticClass:"text-center"},[a("kbd",[e._v("⌘")]),e._v(" + "),a("kbd",[e._v("H")])])])])])])],1)],1)]),a("q-collapsible",{staticClass:"Editor-editorItem",attrs:{group:"editor",icon:"dashboard",label:"Template (HTML)"}},[a("monaco-editor",{key:e.chaveDiff,staticClass:"Editor-editor",attrs:{language:"html",diffEditor:e.modoDiff,original:e.componenteDiff.template,options:e.editorOptions,theme:"vs-dark"},on:{editorDidMount:e.aoIniciarEditor,change:e.alterarConteudo},model:{value:e.componente.template,callback:function(t){e.$set(e.componente,"template",t)},expression:"componente.template"}})],1),a("q-collapsible",{staticClass:"Editor-editorItem",attrs:{group:"editor",icon:"code",label:"JavaScript (Vue)",opened:""}},[a("monaco-editor",{key:e.chaveDiff+1,staticClass:"Editor-editor",attrs:{language:"javascript",diffEditor:e.modoDiff,original:e.componenteDiff.script,options:e.editorOptions,theme:"vs-dark"},on:{editorDidMount:e.aoIniciarEditor,change:e.alterarConteudo},model:{value:e.componente.script,callback:function(t){e.$set(e.componente,"script",t)},expression:"componente.script"}})],1),a("q-collapsible",{staticClass:"Editor-editorItem",attrs:{group:"editor",icon:"format_paint",label:"Estilos (CSS)"}},[a("monaco-editor",{key:e.chaveDiff+2,staticClass:"Editor-editor",attrs:{language:"css",diffEditor:e.modoDiff,original:e.componenteDiff.estilo,options:e.editorOptions,theme:"vs-dark"},on:{editorDidMount:e.aoIniciarEditor,change:e.alterarConteudo},model:{value:e.componente.estilo,callback:function(t){e.$set(e.componente,"estilo",t)},expression:"componente.estilo"}})],1),a("q-collapsible",{staticClass:"Editor-editorItem",attrs:{group:"editor",icon:"speaker_notes",label:"Documentação (Markdown)"}},[a("monaco-editor",{staticClass:"Editor-editor",attrs:{language:"markdown",options:e.editorOptions,theme:"vs-dark"},on:{editorDidMount:e.aoIniciarEditor,change:e.alterarConteudo},model:{value:e.campos.documentacao,callback:function(t){e.$set(e.campos,"documentacao",t)},expression:"campos.documentacao"}})],1)],1)],1),a("div",{staticClass:"Editor-visualizador u-alturaConteudo col col-lg-6",attrs:{id:"visualizador"}},[a("visualizador",e._b({},"visualizador",e.visualizador,!1))],1)]),a("q-modal",{attrs:{"no-backdrop-dismiss":"","no-esc-dismiss":""},model:{value:e.modalBoasVindas,callback:function(t){e.modalBoasVindas=t},expression:"modalBoasVindas"}},[a("div",{staticClass:"layout-padding"},[a("h4",{staticClass:"q-mb-sm q-mt-none"},[e._v("Bem-vindo ao Editor.")]),a("p",[e._v("Através desta interface é possível criar ou editar objetos do sistema.")]),a("div",{staticClass:"q-mt-lg"},[a("q-btn",{attrs:{color:"primary",label:"Novo",icon:"add"},on:{click:e.incluir}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{color:"primary",label:"Abrir",icon:"search"},on:{click:e.abrirModalBuscar}})],1)])]),a("q-modal",{attrs:{"no-backdrop-dismiss":"","no-esc-dismiss":""},model:{value:e.modalPublicar,callback:function(t){e.modalPublicar=t},expression:"modalPublicar"}},[a("div",{staticClass:"layout-padding"},[a("h4",{staticClass:"q-mb-sm q-mt-none"},[e._v("Publicar")]),a("p",[e._v("Deixe uma mensagem para recordar o que há de novo nesta versão.")]),a("campo",{attrs:{rotulo:"Mensagem",placeholder:"Escreva a sua mensagem...",tipo:"textoArea"},model:{value:e.campoObservacao,callback:function(t){e.campoObservacao=t},expression:"campoObservacao"}}),a("div",{staticClass:"q-mt-lg"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{label:"Cancelar"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{color:"primary",label:"Publicar",icon:"publish"},on:{click:e.publicar}})],1)],1),a("q-inner-loading",{attrs:{visible:e.modalPublicar&&e.publicando}},[a("q-spinner",{attrs:{size:"50px",color:"primary"}})],1)],1),a("prompt",{attrs:{prop:{dados:e.objetos,esquema:e.esquema,limite:1e3,titulo:"Buscar Objeto"}},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.itens;return[a("q-list",{attrs:{link:"","no-border":"",separator:""}},e._l(o,function(t){return a("q-item",{key:t.id,nativeOn:{click:function(a){e.selecionarObjeto(t.id)}}},[a("q-item-main",[a("q-item-tile",[e._v(e._s(t.nomeObjeto))]),t.descricao?a("q-item-tile",{attrs:{sublabel:""}},[e._v(e._s(t.descricao))]):e._e()],1),a("q-item-side",[a("badge",{staticClass:"q-mt-md",attrs:{cor:"primary",escuro:""}},[e._v("#"+e._s(t.codigoObjeto))])],1)],1)}))]}}]),model:{value:e.modalBuscar,callback:function(t){e.modalBuscar=t},expression:"modalBuscar"}}),a("prompt",{attrs:{prop:{dados:e.versoes,titulo:"Histórico"}},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.itens;return[a("q-list",{attrs:{link:"","no-border":"",separator:""}},e._l(o,function(t){return a("q-item",{key:t.id},[a("q-item-main",[t.obs?a("q-item-tile",[e._v(e._s(t.obs))]):e._e(),t.dataHora?a("q-item-tile",{staticClass:"q-caption"},[e._v(e._s(t.publicado?"Publicado":"Salvo")+" em "+e._s(e._f("dataHora")(t.dataHora)))]):e._e()],1),a("q-item-side",[t.usuario?a("badge",{staticClass:"q-mr-sm",attrs:{cor:t.idUsuario===e.usuario.id?"primary":"grey",denso:"",escuro:""}},[e._v(e._s(t.usuario))]):e._e(),a("badge",{attrs:{cor:t.publicado?"positive":"grey",denso:"",escuro:""}},[e._v(e._s(t.id))])],1),a("q-item-side",[a("q-btn",{staticClass:"q-px-sm q-mr-sm",attrs:{dense:"",label:"Comparar"},on:{click:function(a){e.compararVersao(t)}}}),a("q-btn",{staticClass:"q-px-sm",attrs:{color:"primary",dense:"",label:"Abrir"},on:{click:function(a){e.selecionarVersao(t.id)}}})],1)],1)}))]}}]),model:{value:e.modalHistorico,callback:function(t){e.modalHistorico=t},expression:"modalHistorico"}})],1)],1)},hO=[];vO._withStripped=!0;var fO=a("1970"),CO={BrowserQRCodeSvgWriter:Zc["BrowserQRCodeSvgWriter"],JsBarcode:iO.a,agrupar:ct,arredondar:dt,dataAtual:na,dormir:xa,erp:He,fbarcode:Qo,gconsole:ei,mostrarErro:Ga,somar:lo,sql:zo,unicos:po,uuid:hi,verificarErro:Po},bO={props:{contexto:{default:function(){return{}},type:Object},estilo:{default:"",type:String},template:{default:"",type:String},script:{default:"{}",type:String}},render:function(e){return""===this.template?e("div"):e("iframe",{on:{load:this.carregarComponente},style:{border:"0",display:"block",height:"100%",width:"100%"}})},watch:{contexto:function(){this.carregarComponente()},estilo:function(){this.carregarComponente()},script:function(){this.carregarComponente()},template:function(){this.carregarComponente()}},methods:{carregarComponente:function(e){var t=this.$el||e.target;if(t){var a=null;try{CO=at()({},CO,this.contexto);var o=this.template.trim(),r=aO()(Function,la()(Object.keys(CO)).concat(["return ".concat(this.script.trim())])).apply(void 0,la()(Object.values(CO)));a=i["default"].component("Espectador",at()({template:o},r))}catch(e){a=i["default"].component("Erro",{template:'<pre :style="style">'.concat(e.toString(),"</pre>"),computed:{style:function(){return{backgroundColor:"MistyRose",color:"DarkRed",height:"100%",margin:"0",padding:"20px"}}}})}var s=t.contentDocument.body;while(s.firstChild)s.removeChild(s.firstChild);var n=document.createElement("div");s.appendChild(n);var c=document.createElement("style");c.innerHTML=this.estilo.trim(),s.appendChild(c);var l=new i["default"]({name:"quadroVue",render:function(e){return e(a)}});l.$mount(n)}}}},gO={components:{Badge:Bd,Campo:Sl,MonacoEditor:rO["a"],Prompt:Zf,Visualizador:bO},data:function(){return{alterarConteudo:null,alterouConteudo:!1,areaConfiguracoes:!0,atualizarAutomaticamente:!!parseInt(localStorage["editorAtualizar"]),campoObservacao:"",campos:{codigoObjeto:"",descricao:"",documentacao:"",nomeObjeto:""},componente:{parametro:"",estilo:"",script:"",template:""},componenteCache:{},componenteDiff:{},chaveDiff:0,esquema:[{prioridade:.8,rotulo:"Descrição",tipo:"texto",valor:"descricao"},{prioridade:.8,rotulo:"Nome do Objeto",tipo:"texto",valor:"nomeObjeto"}],modalBoasVindas:!1,modalBuscar:!1,modalHistorico:!1,modalPublicar:!1,modoDiff:!1,objetos:[],versoes:[],publicando:!1,salvando:!1}},computed:{editorOptions:function(){return{automaticLayout:!0,lineNumbersMinChars:2}},existeObjeto:function(){return this.temId&&"0"!==this.id},id:function(){return this.$route.params.id},temId:function(){return void 0!==this.id},parametroBase64:function(){return Ct.encodeToUrl(this.componente.parametro||"")},rotaImprimir:function(){return{name:"Imprimir",params:{nome:this.campos.nomeObjeto||"x",parametro:this.parametroBase64||void 0}}},usuario:function(){try{return JSON.parse(localStorage.usuario)}catch(e){return{}}},versao:function(){return this.$route.params.versao},visualizador:function(){return at()({},this.componenteCache,{contexto:{parametro:this.atualizarAutomaticamente?this.componente.parametro:this.componenteCache.parametro}})}},methods:{abrirConfiguracoes:function(){this.areaConfiguracoes=!0},abrirModalBuscar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.carregarObjetos();case 2:this.modalBuscar=!0;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),abrirModalHistorico:function(){this.carregarVersoes(),this.modalHistorico=!0},abrirModalPublicar:function(){this.modalPublicar=!0},aoIniciarEditor:function(e){var t=this;e.onKeyDown(function(e){var a=e.browserEvent||{};(a.ctrlKey||a.metaKey)&&13===a.which&&(e.stopPropagation(),t.atualizar())})},atualizar:function(){if(this.atualizarAutomaticamente)return null;this.componenteCache=Yt(this.componente),this.atualizado=!0},atualizarComponente:function(e){"string"===typeof e&&(e=JSON.parse(atob(e))),this.componente.parametro=e.parametro||"",this.componente.estilo=e.estilo||"",this.componente.script=e.script||"",this.componente.template=e.template||"",this.componenteCache=Yt(this.componente),this.alterouConteudo=!1},carregarObjetos:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zi.objeto.leOnline({colunas:"id codigoObjeto codigoPersonalizado descricao documentacao nomeObjeto tipo",filtros:{tipo:"vue"}});case 3:return this.objetos=e.sent,e.abrupt("return",this.objetos);case 7:throw e.prev=7,e.t0=e["catch"](0),this.$q.notify("Não foi possível obter a lista de objetos."),e.t0;case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),carregarObjeto:function(e){try{var t=this.objetos.find(function(t){return t.id===e});if(!t)return this.incluir(),this.$q.notify("Objeto inexistente.");this.campos.codigoObjeto=t.codigoObjeto,this.campos.nomeObjeto=t.nomeObjeto,this.campos.descricao=t.descricao,this.campos.documentacao=t.documentacao||"",this.atualizarComponente(t.codigoPersonalizado),this.abrirConfiguracoes(),this.fecharDiff()}catch(e){throw this.$q.notify("Não foi possível carregar o objeto."),e}},carregarVersao:function(e){var t=this.versoes.find(function(t){return t.id===e});this.campos.documentacao=t.documentacao||"",this.atualizarComponente(t.codigoPersonalizado),this.fecharDiff()},carregarVersoes:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zi.objetoVersao.leOnline({colunas:"id idObjeto idUsuario codigoPersonalizado dataHora obs publicado usuario",filtros:{idObjeto:this.id}});case 3:return this.versoes=e.sent,e.abrupt("return",this.versoes);case 7:throw e.prev=7,e.t0=e["catch"](0),this.$q.notify("Não foi possível obter a lista de versões."),e.t0;case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),compararVersao:function(e){this.componenteDiff=JSON.parse(atob(e.codigoPersonalizado)),this.modoDiff=!0,this.chaveDiff++,this.fecharModalHistorico()},confirmarSaida:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,a){if(!t.alterouConteudo)return e();t.$q.dialog({cancel:"Cancelar",color:"negative",message:"Parece que existem modificações que não foram salvas. Deseja continuar?",ok:"Sair sem salvar",title:"Sair sem salvar?"}).then(function(){return e()}).catch(function(e){})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),fecharDiff:function(){this.modoDiff&&(this.modoDiff=!1,this.chaveDiff++)},fecharModalBuscar:function(){this.modalBuscar=!1},fecharModalHistorico:function(){this.modalHistorico=!1},publicar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.publicando=!0,e.prev=1,e.next=4,this.gravar(this.id,!0,this.campoObservacao);case 4:t=e.sent,this.$q.notifyPositive("Publicado!"),this.campoObservacao="",this.modalPublicar=!1,this.$router.push({params:{versao:t}}),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),this.$q.notifyError("Erro ao publicar.");case 14:return e.prev=14,this.publicando=!1,e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])}));return function(){return e.apply(this,arguments)}}(),redefinirCampos:function(){this.campos.codigoObjeto="",this.campos.descricao="",this.campos.nomeObjeto=""},redefinirComponente:function(){this.componente.parametro="{}",this.componente.estilo=".foo {\n  color: green;\n}",this.componente.script="{\n  data: () => ({\n    bar: ''\n  })\n}",this.componente.template='<div class="foo">\n  {{ bar }}\n</div>',this.componenteCache=Yt(this.componente),this.alterouConteudo=!1},fechar:function(){history.back()},incluir:function(){var e=this;this.confirmarSaida().then(function(){0!==e.id&&"0"!==e.id||(e.redefinirCampos(),e.redefinirComponente()),e.$router.push({params:{id:"0",versao:void 0}})})},gravar:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a,o){var i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=hi(),r=btoa(JSON.stringify(this.componente)),!a&&this.existeObjeto){e.next=5;break}return e.next=5,Zi.objeto.grava(at()({},this.campos,{id:t,tipo:"vue",codigoPersonalizado:r}));case 5:return s={id:i,idObjeto:t,idUsuario:this.usuario.id,codigoPersonalizado:r,dataHora:Bo(new Date).replace(/'/g,""),documentacao:this.campos.documentacao||"",publicado:a?1:0,usuario:this.usuario.nome},o&&(s.obs=o),e.next=9,Zi.objetoVersao.grava(s);case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return function(t,a,o){return e.apply(this,arguments)}}(),salvar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(""!==this.campos.nomeObjeto){e.next=5;break}return this.$q.notify("O identificador é obrigatório."),this.abrirConfiguracoes(),setTimeout(function(){return o.$refs.campoNomeObjeto.focus()},1),e.abrupt("return",!1);case 5:return this.salvando=!0,e.prev=6,this.$q.loading.show(),t=this.existeObjeto?this.id:hi(),e.next=11,this.gravar(t);case 11:a=e.sent,this.alterouConteudo=!1,this.$router.push({params:{id:t,versao:a}}),this.$q.notifyPositive("Salvo com sucesso!"),e.next=21;break;case 17:throw e.prev=17,e.t0=e["catch"](6),this.$q.notify("Erro ao salvar."),e.t0;case 21:return e.prev=21,this.salvando=!1,this.$q.loading.hide(),e.finish(21);case 25:case"end":return e.stop()}},e,this,[[6,17,21,25]])}));return function(){return e.apply(this,arguments)}}(),selecionarObjeto:function(e){var t=this;this.fecharModalBuscar(),this.confirmarSaida().then(function(){return t.$router.push({params:{id:e,versao:void 0}})})},selecionarVersao:function(e){var t=this;this.fecharModalHistorico(),this.confirmarSaida().then(function(){t.carregarVersao(e),t.$router.push({params:{versao:e}})})},teclas:function(e){if(e&&(e.ctrlKey||e.metaKey))switch(e.which){case 13:e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),this.atualizar();break;case 79:e.preventDefault(),this.abrirModalBuscar();break;case 83:e.preventDefault(),this.salvar();break}}},created:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.redefinirComponente(),!this.existeObjeto){e.next=16;break}return this.$q.loading.show(),e.prev=3,e.next=6,this.carregarObjetos();case 6:if(this.carregarObjeto(this.id),!this.versao){e.next=11;break}return e.next=10,this.carregarVersoes();case 10:this.carregarVersao(this.versao);case 11:return e.prev=11,this.$q.loading.hide(),e.finish(11);case 14:e.next=17;break;case 16:this.temId||(this.modalBoasVindas=!0);case 17:document.addEventListener("keydown",this.teclas),this.alterarConteudo=Object(ot["debounce"])(function(){t.alterouConteudo=!0,t.atualizarAutomaticamente&&(t.componenteCache=Yt(t.componente))},500);case 19:case"end":return e.stop()}},e,this,[[3,,11,14]])}));return function(){return e.apply(this,arguments)}}(),mounted:function(){this.divisor=new fO["a"](["#editor","#visualizador"],{minSize:[300,20]})},beforeDestroy:function(){document.removeEventListener("keydown",this.teclas),this.divisor&&this.divisor.destroy()},watch:{id:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t||"0"===t){e.next=6;break}return e.next=3,this.carregarObjetos();case 3:this.carregarObjeto(t),e.next=8;break;case 6:this.redefinirCampos(),this.redefinirComponente();case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),atualizarAutomaticamente:function(e){e||(this.componenteCache=Yt(this.componente)),localStorage.setItem("editorAtualizar",e?1:0)}}},xO=gO,_O=(a("9e2c"),Object(sc["a"])(xO,vO,hO,!1,null,null,null));_O.options.__file="Editor.vue";var qO=_O.exports,SO=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Imprimir bg-white"},[a("q-layout-header",{staticClass:"Imprimir-barraTopo"},[a("q-toolbar",{attrs:{color:"primary"}},[a("q-btn",{attrs:{dense:"",flat:"",icon:"chevron_left",round:""},on:{click:e.voltar}}),a("q-toolbar-title",[e._v("\n        "+e._s(e.objeto.descricao||"Relatório")+"\n        "),e.objeto.descricao?a("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("Relatório")]):e._e()]),"nfe-danfe"===e.nome?a("q-btn",{attrs:{color:"white",flat:"",label:"Email",icon:"email"},on:{click:e.abrirNFeEmail}}):e._e(),a("q-btn",{attrs:{color:"white",flat:"",label:"Compartilhar",icon:"share"},on:{click:function(t){e.tryLoading(e.compartilhar)}}}),a("q-btn",{attrs:{color:"white",flat:"",label:"Imprimir",icon:"print"},on:{click:e.imprimirVisalizador}}),a("input",{ref:"urlCompartilhamento",attrs:{type:"hidden"},domProps:{value:e.urlCompartilhamento}})],1)],1),a("q-page-container",{staticClass:"Imprimir-pagina"},[a("div",{staticClass:"Imprimir-visualizador"},[e.temComponente?a("visualizador",e._b({ref:"visualizador"},"visualizador",e.componente,!1)):e._e()],1)]),a("NFeEmail")],1)},IO=[];SO._withStripped=!0;var FO=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{"content-css":{width:"100vw",maxWidth:"768px"}},model:{value:e.modalNFeEmail,callback:function(t){e.modalNFeEmail=t},expression:"modalNFeEmail"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Email")])],1),a("form",{on:{submit:function(t){return t.preventDefault(),e.enviarNFeEmail(t)}}},[a("div",{staticClass:"layout-padding"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{rotulo:"De",tipo:"texto","apenas-leitura":""},model:{value:e.email.de,callback:function(t){e.$set(e.email,"de",t)},expression:"email.de"}}),a("campo",{staticClass:"col-12",attrs:{rotulo:"Para",tipo:"texto"},model:{value:e.email.para,callback:function(t){e.$set(e.email,"para",t)},expression:"email.para"}}),a("campo",{staticClass:"col-12",attrs:{rotulo:"Assunto",tipo:"texto"},model:{value:e.email.assunto,callback:function(t){e.$set(e.email,"assunto",t)},expression:"email.assunto"}}),a("campo",{staticClass:"col-12",attrs:{rotulo:"Mensagem",tipo:"textoArea",rows:"4"},model:{value:e.email.mensagem,callback:function(t){e.$set(e.email,"mensagem",t)},expression:"email.mensagem"}})],1)]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",color:"primary",label:"Cancelar"}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Enviar"}})],1)])],1)],1)],1)],1)},wO=[];FO._withStripped=!0;var yO={components:{Campo:Sl},data:function(){return{modalNFeEmail:!1,email:{de:"",para:"",assunto:"",mensagem:""}}},methods:{enviarNFeEmail:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(ei.log("NFeEmail","enviarNFeEmail()",at()({},this.email)),e.prev=1,this.$q.loading.show(),t=[{name:"danfe_".concat(this.nota.nNF,".pdf"),content:this.html,method:"html2pdf"}],a=!0,o=!1,i=void 0,e.prev=7,r=this.xmls[Symbol.iterator]();!(a=(s=r.next()).done);a=!0)n=s.value,t.push({name:"".concat(n.tipo,"_").concat(n.nNF,"_").concat(n.operacao).concat(n.nSeqEvento>1?"_"+n.nSeqEvento:"",".xml"),content:n.xmlProt});e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](7),o=!0,i=e.t0;case 15:e.prev=15,e.prev=16,a||null==r.return||r.return();case 18:if(e.prev=18,!o){e.next=21;break}throw i;case 21:return e.finish(18);case 22:return e.finish(15);case 23:return c={host:"smtp.gmail.com",port:587,ssl:!0,auth:{user:"auto@geekssolucoes.com.br",pass:"xpto@9@9"},from:this.email.de,to:this.email.para,subject:this.email.assunto,text:this.email.mensagem,attachments:t},e.next=26,gt()({baseURL:"https://api.b15.com.br",method:"post",url:"/email/v2",data:c});case 26:l=e.sent,this.modalNFeEmail=!1,this.$q.notifyPositive(l.data.message),e.next=34;break;case 31:e.prev=31,e.t1=e["catch"](1),this.$q.notifyError("Erro ao enviar email",e.t1);case 34:return e.prev=34,this.$q.loading.hide(),e.finish(34);case 37:case"end":return e.stop()}},e,this,[[1,31,34,37],[7,11,15,23],[16,,18,22]])}));return function(){return e.apply(this,arguments)}}(),abrirNFeEmail:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,ei.log("NFeEmail","abrirNFeEmail()",t),this.html=a,e.next=5,Zn.documentoFiscalEletronico.le({id:t});case 5:return this.nota=e.sent,e.next=8,Zn.documentoFiscalEletronicoXml.le({idDocumentoFiscalEletronico:t});case 8:this.xmls=e.sent,this.json=JSON.parse(this.nota.json),this.email={de:"Geeks Soluções <auto@geekssolucoes.com.br>",para:this._.get(this.json,"infNFe.dest.email",""),assunto:"Nota Fiscal Eletrônica Nº ".concat(this.nota.nNF),mensagem:"Você está recebendo os arquivos digitais NFe (Nota Fiscal Eletrônica) da empresa ".concat(this.nota.xFantEmitente)},this.modalNFeEmail=!0,e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),this.$q.notifyError("Erro ao abrir a nota",e.t0);case 17:case"end":return e.stop()}},e,this,[[0,14]])}));return function(t,a){return e.apply(this,arguments)}}()},mounted:function(){qa.$off("abrirNFeEmail"),qa.$on("abrirNFeEmail",this.abrirNFeEmail)},beforeDestroy:function(){qa.$off("abrirNFeEmail")}},NO=yO,kO=(a("64a8"),Object(sc["a"])(NO,FO,wO,!1,null,"3406569a",null));kO.options.__file="NFeEmail.vue";var MO=kO.exports,PO={components:{NFeEmail:MO,Visualizador:bO},computed:{nome:function(){return this.$route.params.nome},parametro:function(){var e=this.$route.params.parametro;return e?Ct.decodeFromUrl(e):""}},data:function(){return{botaoImprimir:!0,componente:{contexto:{},estilo:"",script:"",template:""},objeto:{},temComponente:!1,urlCompartilhamento:""}},methods:{abrirNFeEmail:function(){ei.log("Imprimir","abrirNFeEmail()",this.parametro),qa.$emit("abrirNFeEmail",this.parametro,this.$refs.visualizador.$el.contentWindow.document.body.innerHTML)},carregarObjeto:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,ei.log("Imprimir",t),e.next=4,Zi.objeto.le({filtros:{nomeObjeto:t,tipo:"vue"}});case 4:if(a=e.sent,a&&a[0]&&a[0].codigoPersonalizado){e.next=7;break}return e.abrupt("return",this.$q.notify("Relatório indisponível ou sem permissão"));case 7:this.objeto=a[0],o=JSON.parse(Ct.decode(a[0].codigoPersonalizado)),this.componente.contexto={parametro:this.parametro},this.componente.estilo=o.estilo,this.componente.script=o.script,this.componente.template=o.template,this.temComponente=!0,e.next=20;break;case 16:throw e.prev=16,e.t0=e["catch"](0),this.$q.notify("Não foi possível carregar o relatório"),e.t0;case 20:case"end":return e.stop()}},e,this,[[0,16]])}));return function(t){return e.apply(this,arguments)}}(),compartilhar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t="",e.prev=1,this.$q.loading.show(),this.$utils.gconsole.log("Imprimir","compartilhar"),a=this.$refs.visualizador.$el.contentWindow.document.body.innerHTML,this.$utils.gconsole.log("Imprimir","tamanho html",a.length),e.next=8,gt()({baseURL:"https://api.b15.com.br",method:"post",url:"/html2pdf",data:{html:a}});case 8:o=e.sent,t=o.data.url,this.urlCompartilhamento=t,e.next=16;break;case 13:return e.prev=13,e.t0=e["catch"](1),e.abrupt("return",this.$q.notifyError("Erro ao gerar o link de compartilhamento.",e.t0));case 16:return e.prev=16,this.$q.loading.hide(),e.finish(16);case 19:this.$utils.gconsole.log("Imprimir","compartilhar url",t),i=this.objeto.descricao||"Relatório",r=[{label:"Copiar link",icon:"link",handler:function(){var e=s.$refs.urlCompartilhamento;e.type="text";try{e.select(),document.execCommand("copy"),s.$q.notify({message:"Copiado para a área de transferência.",type:"info"})}catch(e){s.$q.notify("Erro ao copiar.")}e.type="hidden",window.getSelection().removeAllRanges()}},{color:"green",label:"WhatsApp",icon:"message",handler:function(){var e=encodeURIComponent("Acesse o *".concat(i,"* através do link: ").concat(t,"."));Object(uw["a"])("https://wa.me/?text=".concat(e))}}],navigator.share&&r.push({label:"Outros",icon:"more_horiz",handler:function(){navigator.share({title:i,url:t})}}),this.$q.actionSheet({grid:!0,title:"Compartilhar",actions:r}).catch(function(){});case 24:case"end":return e.stop()}},e,this,[[1,13,16,19]])}));return function(){return e.apply(this,arguments)}}(),imprimirVisalizador:function(){if(window.cordova&&window.cordova.plugins&&window.cordova.plugins.printer){var e=this.$refs.visualizador.$el.contentWindow.document.body.innerHTML;return cordova.plugins.printer.print(e)}this.$refs.visualizador.$el.contentWindow.print()},voltar:function(){window&&window.history.back()}},created:function(){if(this.nome&&"0"!==this.nome)return this.carregarObjeto(this.nome);this.$q.notify("Relatório inválido")},beforeDestroy:function(){},watch:{nome:function(e){if(e&&"0"!==e)return this.carregarObjeto(e);this.voltar()}}},DO=PO,EO=(a("6c6e"),Object(sc["a"])(DO,SO,IO,!1,null,null,null));EO.options.__file="Imprimir.vue";var TO=EO.exports,AO=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Item Layout"},[a("barra-topo"),a("q-page-container",[a("q-page",{staticClass:"u-container"},[a("q-toolbar",{staticClass:"q-py-sm",attrs:{color:"none"}},[e.dbItem.selecionado.descricao?a("avatar",{attrs:{imagem:e.dbItem.selecionado.imagem,rotulo:e.dbItem.selecionado.descricao,tamanho:"40"}}):e._e(),a("q-toolbar-title",[e.dbItem.selecionado.descricaoConcatenada||e.dbItem.selecionado.descricao?[e._v("\n            "+e._s(e.dbItem.selecionado.descricaoConcatenada||e.dbItem.selecionado.descricao)+"\n            "),a("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v(e._s(e._f("dinheiro")(e.dbItem.selecionado.valorVenda))+" -\n              "),e._v("\n              "+e._s(e._f("numero")(e.dbItem.selecionado.quantidadeDisponivel,0))+"\n              "+e._s(e.dbItem.selecionado.unidade))])]:e._e()],2),a("q-btn",{attrs:{flat:"",dense:"",icon:"search",round:"",size:"lg"},on:{click:e.buscarItem}},[a("q-tooltip",[e._v("Buscar produto")])],1),e.permissaoFicha?a("q-btn",{attrs:{flat:"",dense:"",icon:"add",round:"",size:"lg"},on:{click:e.abrirModalCriar}},[a("q-tooltip",[e._v("Criar produto")])],1):e._e(),"optisoul"===e.sistemaPai?a("q-btn",{attrs:{icon:"help_outline",flat:"",dense:"",round:"",size:"lg"}},[a("q-popover",[a("q-list",{attrs:{link:"","no-border":"",separator:""}},[a("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[a("q-item-side",{attrs:{icon:"mdi-youtube"}}),a("q-item-main",{attrs:{label:"Videoaula - Cadastro de Produtos"},nativeOn:{click:function(t){e.showHelp("produtos")}}})],1)],1)],1)],1):e._e(),e.permissaoFicha?a("q-btn",{attrs:{flat:"",dense:"",icon:"more_vert",round:"",size:"lg"}},[a("q-popover",[a("q-list",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{link:"","no-border":"",separator:""}},[a("q-item",{nativeOn:{click:function(t){return e.duplicarItem(t)}}},[a("q-item-side",{attrs:{icon:"control_point_duplicate"}}),a("q-item-main",{attrs:{label:"Duplicar Produto/Serviço"}})],1),a("q-item",{nativeOn:{click:function(t){return e.buscarItemExcluido(t)}}},[a("q-item-side",{attrs:{icon:"search"}}),a("q-item-main",{attrs:{label:"Buscar excluídos"}})],1),a("q-item",{nativeOn:{click:function(t){e.modalImportar=!0}}},[a("q-item-side",{attrs:{icon:"import_export"}}),a("q-item-main",{attrs:{label:"Importar produtos"}})],1),a("q-item",{nativeOn:{click:function(t){e.combinarItensModal=!0}}},[a("q-item-side",{attrs:{icon:"compare_arrows"}}),a("q-item-main",{attrs:{label:"Combinar produtos duplicados"}})],1),a("q-item",{nativeOn:{click:function(t){return e.copiarUid(t)}}},[a("q-item-side",{attrs:{icon:"file_copy"}}),a("q-item-main",{attrs:{label:"Copiar código do produto"}}),a("input",{ref:"uid",attrs:{type:"hidden"},domProps:{value:e.dbItem.selecionado.id}})],1)],1)],1)],1):e._e()],1),e.dbItem.selecionado.id?a("MenuAbas",{attrs:{objetoPai:"item"}},[a("router-view",{ref:"componentefilho"})],1):a("div",{staticClass:"bg-white q-pa-xl text-center"},[e._v("\n        Por favor, cadastre ou selecione um Produto ou Serviço.\n\n        "),a("div",{staticClass:"text-center q-mt-sm"},[a("q-btn",{staticClass:"q-ma-sm no-shadow",attrs:{color:"primary",icon:"add",label:"Novo produto/serviço"},on:{click:e.abrirModalCriar}}),a("q-btn",{staticClass:"q-ma-sm no-shadow",attrs:{color:"primary",icon:"search",label:"Buscar produto/serviço"},on:{click:e.buscarItem}})],1)]),a("prompt-item-novo",{attrs:{filtro:{ativo:!0}},on:{selecionarItens:e.abrirItem},model:{value:e.itensModal,callback:function(t){e.itensModal=t},expression:"itensModal"}}),a("prompt-item-novo",{attrs:{filtro:{ativo:!1}},on:{selecionarItens:e.abrirItem},model:{value:e.itensInativosModal,callback:function(t){e.itensInativosModal=t},expression:"itensInativosModal"}}),a("prompt-item-novo",{attrs:{filtro:{ativo:!0}},on:{selecionarItens:e.selecionarCombinarItens},model:{value:e.combinarItensModal,callback:function(t){e.combinarItensModal=t},expression:"combinarItensModal"}}),a("importar-itens",{model:{value:e.modalImportar,callback:function(t){e.modalImportar=t},expression:"modalImportar"}}),a("q-modal",{model:{value:e.criar.modal,callback:function(t){e.$set(e.criar,"modal",t)},expression:"criar.modal"}},[a("div",{staticClass:"q-ma-sm"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.adicionarItem(t)}}},[a("div",{staticClass:"q-ma-md"},[a("div",{staticClass:"row q-headline text-weight-bold"},[e._v("Cadastrar produto")]),a("campo",e._b({staticClass:"row",attrs:{autofocus:""},model:{value:e.criar.descricao,callback:function(t){e.$set(e.criar,"descricao","string"===typeof t?t.trim():t)},expression:"criar.descricao"}},"campo",e.meta.descricao,!1)),a("campo",{staticClass:"row",attrs:{opcoes:e.opcoesTipo,rotulo:"Tipo",tipo:"seletor"},model:{value:e.criar.tipo,callback:function(t){e.$set(e.criar,"tipo",t)},expression:"criar.tipo"}})],1),a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(t){e.criar.modal=!1}}}),a("q-btn",{attrs:{flat:"",color:"primary",label:"Criar",type:"submit"}})],1)])])]),a("q-modal",{attrs:{"content-css":{minWidth:"100vw",minHeight:"100vh"}},model:{value:e.help.show,callback:function(t){e.$set(e.help,"show",t)},expression:"help.show"}},[a("q-modal-layout",{staticStyle:{height:"100vh",width:"100vw"}},[a("iframe",{staticStyle:{height:"100%",width:"100%"},attrs:{src:e.help.src,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v(e._s(e.help.title))]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1)],1)],1)],1)],1)],1)},OO=[];AO._withStripped=!0;var $O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-modal",{attrs:{value:e.value},on:{input:e.eventoInput}},[a("div",{staticClass:"q-ma-sm"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.importarItens(t)}}},[a("div",{staticClass:"q-ma-md"},[a("div",{staticClass:"row q-mb-md q-headline text-weight-bold"},[e._v("Importar produtos")]),a("q-uploader",{ref:"campoArquivoImportar",attrs:{"auto-expand":"",color:"none",extensions:".xlsx","float-label":"Selecione o arquivo (.xlsx)","hide-upload-button":"","hide-upload-progress":"","inverted-light":"",url:""},on:{add:e.importarAdicionarArquivo}}),e.importar.erro?a("div",{class:["row","q-pa-sm",e.importar.cor]},[e._v(e._s(e.importar.erro))]):a("div",{staticClass:"row q-mt-md justify-start"},[a("q-btn",{attrs:{color:"primary",flat:"",icon:"cloud_download",label:"Baixar arquivo modelo (.xlsx)"},on:{click:e.importarBaixarArquivo}})],1)],1),a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(t){e.eventoInput(!1)}}}),a("q-btn",{attrs:{flat:"",color:"primary",label:"Importar",type:"submit"}})],1)])])]),a("q-modal",{model:{value:e.importar.modalResultado,callback:function(t){e.$set(e.importar,"modalResultado",t)},expression:"importar.modalResultado"}},[a("div",{staticClass:"q-ma-sm"},[a("div",{staticClass:"q-mx-sm q-my-md"},[a("div",{staticClass:"row q-my-md q-headline text-weight-bold"},[e._v("Importar produtos")]),a("div",{staticClass:"row q-my-md"},[e._v(e._s(e.importar.mensagem))]),a("div",{staticClass:"row items-center q-my-md"},[a("div",{staticClass:"col-4"},[a("div",{staticClass:"row q-caption flex-center text-faded"},[e._v("Incluídos")]),a("div",{staticClass:"row q-py-xs flex-center text-positive"},[e._v(e._s(e._f("numero")(e.importar.incluidos,0)))])]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"row q-caption flex-center text-faded"},[e._v("Atualizados")]),a("div",{staticClass:"row q-py-xs flex-center text-positive"},[e._v(e._s(e._f("numero")(e.importar.alterados,0)))])]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"row q-caption flex-center text-faded"},[e._v("Erros")]),a("div",{staticClass:"row q-py-xs flex-center text-negative"},[e._v(e._s(e._f("numero")(e.importar.erros,0)))])])]),a("div",{class:["row","q-pa-sm",e.importar.corFinal]},[e._v(e._s(e.importar.mensagemFinal))]),a("div"),e.importar.listaErros.length?a("q-list",{staticClass:"row no-border"},[a("q-item",{staticClass:"col-12 q-px-none"},[a("q-item-main",[a("q-item-tile",{attrs:{sublabel:""}},[a("div",{staticClass:"row justify-around"},[a("div",{staticClass:"col-2 q-caption text-center"},[e._v("Linha")]),a("div",{staticClass:"col-10 q-caption"},[e._v("Erro")])])]),a("q-item-separator",{staticClass:"q-my-xs"}),e._l(e.importar.listaErros,function(t,o){return a("div",{key:o},[a("q-item-tile",{attrs:{sublabel:""}},[a("div",{staticClass:"row justify-around"},[a("div",{staticClass:"col-2 text-center"},[e._v(e._s(e._f("numero")(t.linha,0)))]),a("div",{staticClass:"col-10"},[e._v(e._s(t.mensagem))])])]),a("q-item-separator",{staticClass:"q-my-xs"}),a("q-item-tile",{attrs:{sublabel:""}})],1)})],2)],1)],1):e._e()],1),a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Fechar"},on:{click:function(t){e.importar.modalResultado=!1}}})],1)])])],1)},RO=[];$O._withStripped=!0;var jO={descricao:{maxlength:"50",rotulo:"Descrição",tipo:"texto"},idContato:{rotulo:"Nome fornecedor",tipo:"texto"},referencia:{maxlength:"30",rotulo:"Referência",tipo:"texto"}},zO={idItemUtilizado:{rotulo:"Produto para composição",tipo:"texto"},ordem:{max:"9999",min:"0",rotulo:"Ordem",tipo:"quantidade"},quantidade:{min:"0",rotulo:"Quantidade",tipo:"decimal",decimals:"4"},temporario:{total:{readonly:!0,rotulo:"Total",tipo:"decimal",decimals:"2"},unidade:{disable:!0,readonly:!0,rotuloFixo:"Unidade",tipo:"texto"},valor:{readonly:!0,rotulo:"Valor",tipo:"decimal",decimals:"2"}}},BO={descricao:{maxlength:"8000",rotulo:"Descrição",tipo:"texto"},idItemEquipamento:{rotulo:"Equipamento",tipo:"texto"},idItemFerramenta:{rotulo:"Ferramenta",tipo:"texto"},idItemServico:{rotulo:"Servico",tipo:"texto"},ordem:{max:"9999",min:"0",rotulo:"Ordem",tipo:"quantidade"}},LO={descricao:{maxlength:"150",rotulo:"Descrição"},especificacao:{maxlength:"150",rotulo:"Especificação"},limites:{maxlength:"150",rotulo:"Limites"}},VO={altura:{rotulo:"Altura",tipo:"decimal",decimals:"0"},armacaoCor:{rotuloFixo:"Cor",tipo:"seletor"},armacaoMaterial:{rotuloFixo:"Material",tipo:"seletor"},diagonal:{rotulo:"Diagonal",tipo:"decimal",decimals:"0"},genero:{class:"col-12 col-md-6",rotuloFixo:"Gênero",tipo:"seletor"},haste:{rotulo:"Haste",tipo:"decimal",decimals:"0"},modelo:{maxlength:"100",rotulo:"Modelo",tipo:"texto"},ponte:{rotulo:"Ponte",tipo:"decimal",decimals:"0"},largura:{maxlength:"100",rotulo:"Largura",tipo:"texto"},tipoMontagem:{rotuloFixo:"Tipo de montagem",tipo:"seletor"}},UO={aplicacao:{maxlength:"10000",rotulo:"Aplicação",rows:"2",tipo:"textoArea"},capacidade:{rotulo:"Capacidade",tipo:"decimal",decimals:"2"},capacidadeUnidade:{class:"col-12 col-md-3",maxlength:"20",rotulo:"Un. Capacidade",tipo:"texto"},codigoOrigem:{rotuloFixo:"Origem",tipo:"seletor",tipo2:"numerico"},comprimento:{rotulo:"Comprimento",tipo:"decimal",decimals:"2"},densidade:{rotulo:"Densidade",tipo:"decimal",decimals:"2"},embalagem:{class:"col-12 col-md-3",maxlength:"255",rotulo:"Embalagem",tipo:"texto"},garantiaDescricao:{maxlength:"255",rotulo:"Garantia descrição",tipo:"texto"},garantiaDias:{class:"col-12 col-md-4",min:"0",max:"9999",rotulo:"Garantia (dias)",tipo:"quantidade"},grupo:{rotuloFixo:"Grupo",tipo:"seletor"},idPerfilContabil:{class:"col-12 col-md-4",rotulo:"Perfil contábil",tipo:"seletor"},largura:{rotulo:"Largura",tipo:"decimal",decimals:"2"},observacao:{maxlength:"10000",rotulo:"Observação",rows:"4",tipo:"textoArea"},peso:{rotulo:"Peso",tipo:"decimal",decimals:"2"},subGrupo:{rotuloFixo:"SubGrupo",tipo:"seletor"},unidade:{rotuloFixo:"Unidade",tipo:"seletor"},unidade__:{valorInicial:"UN"},validadeMeses:{class:"col-12 col-md-3",min:"0",max:"9999",rotulo:"Validade (meses)",tipo:"decimal",decimals:"2"}},HO={consumoMedio:{min:"0",rotulo:"Consumo médio",tipo:"decimal",decimals:"2"},local:{maxlength:"20",rotulo:"Local",tipo:"texto"},quantidadeMinimaCompra:{min:"0",rotulo:"Qtde compra reposição",tipo:"decimal",decimals:"2"},quantidadeMinimaEstoque:{min:"0",rotulo:"Estoque mínimo",tipo:"decimal",decimals:"2"},tempoMedioReposicao:{min:"0",rotulo:"Tempo médio reposição (dias)",tipo:"quantidade"}},QO={codigoBarras:{erroRotulo:"Deve ter 12 ou 13 dígitos",maxlength:"13",rotulo:"Código de barras (GTIN ou EAN)",tipo:"texto"},descricao:{erroRotulo:"O nome deve ter pelo menos 2 caracteres",maxlength:"500",rotulo:"Nome do produto",tipo:"texto"},marca:{rotuloFixo:"Marca",tipo:"seletor"},fabricante:{rotuloFixo:"Fabricante",tipo:"seletor"},ncm:{maxlength:"8",rotulo:"NCM",tipo:"texto"},catalogo:{maxlength:"8",rotulo:"Catálogo Fabricante",tipo:"texto"},percentualMarkup:{rotulo:"Lucro",tipo:"decimal",decimals:"2"},referencia:{erroRotulo:"Referência deve ser única",maxlength:"30",rotulo:"Referência",tipo:"texto"},tipo:{rotuloFixo:"Tipo",tipo:"seletor"},utilizaComposicaoValorReposicao:{tipo:"logico"},utilizaMarkup:{tipo:"logico"},valorCustoReposicao:{rotulo:"Custo de reposição",tipo:"decimal",decimals:"2"},valorVenda:{rotulo:"Valor de venda",tipo:"decimal",decimals:"2"}},GO={adicaoFinal:{rotulo:"até",tipo:"decimal",decimals:"2"},adicaoInicial:{rotulo:"Adição",tipo:"decimal",decimals:"2"},alturaMinima:{rotulo:"Altura mínima",tipo:"decimal",decimals:"0"},cilindrico:{rotulo:"Cilíndrico",tipo:"decimal",decimals:"2"},cor:{rotuloFixo:"Cor",tipo:"seletor"},diametro:{rotulo:"Diâmetro",tipo:"decimal",decimals:"0"},eixo:{rotulo:"Eixo",tipo:"decimal",decimals:"2"},eixoFinal:{rotulo:"até",tipo:"decimal",decimals:"2"},esfericoFinal:{rotulo:"até",tipo:"decimal",decimals:"2"},esfericoInicial:{rotulo:"Esférico",tipo:"decimal",decimals:"2"},geometria:{rotulo:"Geometria",tipo:"seletor"},indiceRefracao:{rotulo:"Índice refração",tipo:"decimal",decimals:"2"},lenteTipo:{rotulo:"Tipo de lente",tipo:"seletor"},material:{rotuloFixo:"Material",tipo:"seletor"},RB1:{rotulo:"RB1",tipo:"decimal",decimals:"2"},RB2:{rotulo:"RB2",tipo:"decimal",decimals:"2"},surfacada:{rotulo:"Pronta ou surfaçada",tipo:"seletor"}},JO={procedimento:{maxlength:"10000",rotuloFixo:"Procedimento",rows:"3",tipo:"textoArea"},numeroPop:{maxlength:"50",rotulo:"Número Pop",tipo:"texto"}},XO={ativo:{tipo:"logico"},consumoMedioReal:{tipo:"quantidade"},percentualMarkupReal:{tipo:"decimal",decimals:"2"},quantidadeDisponivel:{tipo:"quantidade"},tempoMedioReposicaoReal:{tipo:"quantidade"},utilizaComposicaoPedido:{tipo:"logico"},valorCusto:{tipo:"decimal",decimals:"2"},valorCustoMedio:{tipo:"decimal",decimals:"2"},valorCustoUltimo:{tipo:"decimal",decimals:"2"}},YO=at()({composicao:{lista:zO},fornecedor:{lista:jO},producaoFase:{lista:BO},qualidade:{lista:LO}},VO,UO,HO,QO,GO,XO,JO),WO=YO,ZO={alterados:0,arquivo:null,cor:"text-negative",corFinal:"",erro:"",erros:0,incluidos:0,listaErros:[],mensagem:"",mensagemFinal:"",modalResultado:!1},KO={data:function(){return{importar:ea(ZO)}},watch:{value:function(){this.value&&(this.importar=ea(ZO),this.$refs.campoArquivoImportar.reset())}},methods:{eventoInput:function(e){this.$emit("input",e)},importarAdicionarArquivo:function(e){ei.log("ImportarItens","importarAdicionarArquivo"),this.importar.erro="",this.importar.arquivo=e[0]},importarArquivoXlsx:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,ei.log("ImportarItens","importarArquivoXlsx",this.importar.arquivo.name),this.importar.modalResultado=!0,this.eventoInput(!1),this.importar.mensagem="Carregando o arquivo .xlsx",e.next=7,He().item.toArray();case 7:return this.importarLista=e.sent,a={Item:WO,ItemFornecedor:WO.fornecedor.lista},e.next=11,Zb(t.target.result,a,this.importarCallbackParcial,this.importarCallbackErro,this.importarCallbackFinal);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),this.importar.erro=this.$q.notifyError("Ocorreu erro ao importar arquivo xlsx",e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])}));return function(t){return e.apply(this,arguments)}}(),importarBaixarArquivo:function(){ei.log("ImportarItens","importarBaixarArquivo"),window.open("statics/downloads/B15-Importar-ou-Atualizar-Produtos.xlsx","_self")},importarCallbackErro:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.importar.erros++,this.importar.listaErros.push({linha:t,mensagem:a});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),importarCallbackFinal:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:ei.log("ImportarItens","Importação concluida"),this.importar.incluidos+this.importar.alterados>0?this.importar.erros>0?(this.importar.corFinal="bg-warning",this.importar.mensagemFinal="Importação realizada parcialmente!"):(this.importar.corFinal="bg-positive text-white",this.importar.mensagemFinal="Importação concluída com sucesso!"):this.importar.erros>0?(this.importar.corFinal="text-negative",this.importar.mensagemFinal="Importação não realizada!"):(this.importar.corFinal="bg-warning",this.importar.mensagemFinal="Importação não realizada!");case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),acertarFornecedores:function(e){var t=!0,a=!1,o=void 0;try{for(var i,r=(e.atual.fornecedor||[])[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var s=i.value;s.id=hi(),s.idItem=e.atual.id}}catch(e){a=!0,o=e}finally{try{t||null==r.return||r.return()}finally{if(a)throw o}}var n=!0,c=!1,l=void 0;try{for(var d,u=function(){var t=d.value,a=e.atual.fornecedor.find(function(e){return(e.idContato||"")===(t.idContato||"")&&(e.descricao||"")===(t.descricao||"")&&(e.referencia||"")===(t.referencia||"")});a?a.id=t.id:e.atual.fornecedor.push(t)},m=(e.original.fornecedor||[])[Symbol.iterator]();!(n=(d=m.next()).done);n=!0)u()}catch(e){c=!0,l=e}finally{try{n||null==m.return||m.return()}finally{if(c)throw l}}},importarCallbackParcial:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n,c,l,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.Item[0],t.ItemFornecedor&&(a.fornecedor=t.ItemFornecedor),o=t.chaves.length>0?function(e){return t.chaves.reduce(function(t,o){return t&&e[o]===a[o]},!0)}:function(e){return!1},i=this.importarLista.filter(o),!a.referencia){e.next=17;break}if(r=this.importarLista.filter(function(e){return e.referencia===a.referencia}),!(r.length>1)){e.next=10;break}throw new ko("Referência deve ser única (".concat(a.referencia,")"));case 10:if(1!==r.length){e.next=17;break}if(0!==i.length){e.next=15;break}throw new ko("Referência deve ser única (".concat(a.referencia,")"));case 15:if(r[0].id===i[0].id){e.next=17;break}throw new ko("Referência deve ser única (".concat(a.referencia,")"));case 17:if(s=na(),0!==i.length){e.next=28;break}return n=at()({},Zn.item.vazio,{dataCadastro:s,_DataHoraUltimaAlteracao:s},a,{id:hi()}),c={atual:n,original:{}},this.acertarFornecedores(c),e.next=24,Zn.item.grava(c);case 24:this.importarLista.push(n),this.importar.incluidos++,e.next=42;break;case 28:if(1!==i.length){e.next=40;break}return e.next=31,Zn.item.leCompleto(i[0].id);case 31:return l=e.sent,a.id=l.atual.id,Object.assign(l.atual,a),this.acertarFornecedores(l),e.next=37,Zn.item.grava(l);case 37:this.importar.alterados++,e.next=42;break;case 40:throw d=t.chaves.map(function(e){return e+": "+a[e]}).join(", "),new ko("Existem ".concat(i.length," produtos no banco com a chave (").concat(d,")"));case 42:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),importarItens:function(){var e=this;ei.log("ImportarItens","importarItens");try{if(this.importar.arquivo){var t=new FileReader;t.onload=this.importarArquivoXlsx,t.onerror=function(){e.importar.erro="Falha na leitura do arquivo",e.$q.notifyError(e.importar.erro)},t.readAsBinaryString(this.importar.arquivo)}else this.importar.erro="Favor selecionar o arquivo para importação"}catch(e){this.importar.erro="Ocorreu erro ao importar produtos",this.$q.notifyError(this.importar.erro,e)}}},props:{value:{required:!0,type:Boolean}},created:function(){ei.log("ImportarItens","created()")}},e$=KO,t$=Object(sc["a"])(e$,$O,RO,!1,null,null,null);t$.options.__file="ImportarItens.vue";var a$=t$.exports,o$={components:{Avatar:Fc,BarraTopo:El,Campo:Sl,ImportarItens:a$,PromptItemNovo:Zv,MenuAbas:Fd},computed:{meta:function(){return WO},opcoesTipo:function(){return Zn.item.opcoesTipo}},data:function(){return{dbItem:Zn.item,combinarItensModal:!1,criar:{modal:!1,descricao:"",tipo:"Produto"},itensInativosModal:!1,itensModal:!1,modalImportar:!1,permissaoFicha:!1,help:{show:!1,src:"",title:"",map:{produtos:{src:"https://www.youtube.com/embed/iTV18eYOBSg",title:"Videoaula OptiSoul: Cadastro de produtos"}}},sistemaPai:""}},methods:{showHelp:function(e){this.help.src=this.help.map[e].src,this.help.title=this.help.map[e].title,this.help.show=!0},abrirItem:function(e){try{var t=Object.keys(e)[0];this.$router.push({name:"ItemFicha",params:{id:t}}),this.itensInativosModal=!1,this.itensModal=!1}catch(e){this.$q.notifyError("Ocorreu erro ao abrir produto",e)}},abrirModalCriar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=!!this.$refs.componentefilho&&!!this.$refs.componentefilho.desejaDescartar,!e.t0){e.next=5;break}return e.next=4,this.$refs.componentefilho.desejaDescartar();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return");case 7:this.criar={modal:!0,descricao:"",tipo:"Produto"};case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),adicionarItem:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.$q.loading.show(),e.prev=1,this.criar.descricao){e.next=5;break}return this.criar.modal=!1,e.abrupt("return");case 5:return t=at()({},Zn.item.vazio,{id:hi(),descricao:this.criar.descricao,tipo:this.criar.tipo}),e.next=8,Zn.item.grava({atual:t});case 8:this.criar.modal=!1,this.$router.push({name:"ItemFicha",params:{id:t.id}}),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),this.$q.notifyError("Ocorreu erro ao adicionar Produto",e.t0);case 15:return e.prev=15,this.$q.loading.hide(),e.finish(15);case 18:case"end":return e.stop()}},e,this,[[1,12,15,18]])}));return function(){return e.apply(this,arguments)}}(),atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,ei.log("Item","atualizar"),e.next=4,Zn.item.le({id:this.$route.params.id});case 4:return Zn.item.selecionado=e.sent,e.next=7,Zn.permissao.objeto("item//ficha");case 7:this.permissaoFicha=e.sent,"optisoul"===co()&&(Zn.item.opcoesTipo=[{rotulo:"Óculos de Sol",valor:"Óculos Sol"},{rotulo:"Óculos Vista (Pronto)",valor:"Óculos Pronto"},{rotulo:"Armação",valor:"Armação"},{rotulo:"Lente Oftálmica",valor:"Lente"},{rotulo:"Lente de Contato",valor:"Lente Contato"},{rotulo:"Tratamento",valor:"Tratamento"},{rotulo:"Equipamento",valor:"Equipamento"},{rotulo:"Ferramenta",valor:"Ferramenta"},{rotulo:"Outro Produto",valor:"Produto"},{rotulo:"Serviço",valor:"Serviço"}]),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),this.$q.notifyError("Ocorreu erro ao consultar produto",e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),buscarItem:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=!!this.$refs.componentefilho&&!!this.$refs.componentefilho.desejaDescartar,!e.t0){e.next=5;break}return e.next=4,this.$refs.componentefilho.desejaDescartar();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return");case 7:this.itensModal=!0;case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),buscarItemExcluido:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=!!this.$refs.componentefilho&&!!this.$refs.componentefilho.desejaDescartar,!e.t0){e.next=5;break}return e.next=4,this.$refs.componentefilho.desejaDescartar();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return");case 7:this.itensInativosModal=!0;case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),copiarUid:function(){var e=this.$refs.uid;e.type="text";try{e.select(),document.execCommand("copy"),this.$q.notify({message:"Copiado!",type:"info"})}catch(e){this.$q.notifyError("Ocorreu erro ao copiar",e)}e.type="hidden",window.getSelection().removeAllRanges()},duplicarItem:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zn.item.duplica(this.$route.params.id);case 3:t=e.sent,this.$router.push({name:"ItemFicha",params:{id:t}}),this.$q.notifyPositive("O produto foi duplicado com sucesso."),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$q.notifyError("Ocorreu erro ao duplicar Produto",e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),selecionarCombinarItens:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=Object.keys(t)[0],this.combinarItensModal=!1,e.prev=2,e.next=5,this.$q.dialog({cancel:!0,color:"negative",message:"Ao continuar você irá combinar todas as informações dos dois produtos em apenas um produto.",ok:"Combinar",title:"Tem certeza?"});case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e["catch"](2),e.abrupt("return");case 10:return this.$q.loading.show(),e.prev=11,o="\n        mutation itemCombinar(\n          $bancoDeDados: String!, \n          $token: String, \n          $idItemCombinar: ID!, \n          $idItemRemover: ID!\n        ) {\n          itemCombinar(\n            bancoDeDados: $bancoDeDados, \n            token: $token, \n            idItemCombinar: $idItemCombinar, \n            idItemRemover: $idItemRemover\n          ) {\n            sucesso\n            mensagem\n            codigo\n          }\n        }",e.next=15,ya(o,{idItemCombinar:Zn.item.selecionado.id,idItemRemover:a});case 15:i=e.sent,uo(i,"itemCombinar"),this.$q.notifyPositive("Os produtos foram combinados com sucesso."),e.next=23;break;case 20:e.prev=20,e.t1=e["catch"](11),this.$q.notifyError("Ocorreu um erro ao combinar produtos",e.t1);case 23:return e.prev=23,this.$q.loading.hide(),e.finish(23);case 26:case"end":return e.stop()}},e,this,[[2,7],[11,20,23,26]])}));return function(t){return e.apply(this,arguments)}}()},watch:{"$route.params.id":function(e){localStorage.setItem("itemSelecionado",e),this.atualizar()}},created:function(){ei.log("Item","created()",this.$route.params.id),localStorage.setItem("itemSelecionado",this.$route.params.id||"0"),this.sistemaPai=co(),this.atualizar()}},i$=o$,r$=Object(sc["a"])(i$,AO,OO,!1,null,null,null);r$.options.__file="Item.vue";var s$=r$.exports,n$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-card",{staticClass:"no-shadow"},[e._l(e.estoquePorEmpresa,function(t){return a("div",{key:t.idEmpresa,staticClass:"row gutter-x-sm bg-white q-px-md q-py-lg"},[a("q-toolbar-title",{staticClass:"col-12"},[e._v(e._s(t.nomeEmpresa))]),a("q-list",{staticClass:"col-12 no-border q-ml-sm"},[a("q-item",{staticClass:"q-pl-none"},[a("q-item-main",[a("q-item-tile",{attrs:{sublabel:""}},[a("div",{staticClass:"row text-weight-bold text-right justify-around"},[a("div",{staticClass:"col-2 text-center"},[e._v("Tipo estoque")]),a("div",{staticClass:"col-2 text-center"},[e._v("Lote")]),a("div",{staticClass:"col-2"},[e._v("Saldo")]),a("div",{staticClass:"col-2"},[e._v("Custo Médio")]),a("div",{staticClass:"col-2"},[e._v("Custo Real")]),a("div",{staticClass:"col-2"},[e._v("Custo Anterior")])])]),a("q-item-separator",{staticClass:"q-my-xs"}),e._l(t.estoquePorLote,function(t,o){return a("div",{key:o},[a("q-item-tile",{attrs:{sublabel:""}},[a("div",{staticClass:"row text-right justify-around"},[a("div",{staticClass:"col-2 text-center"},[e._v(e._s(t.tipoEstoque||"-"))]),a("div",{staticClass:"col-2 text-center"},[e._v(e._s(t.loteEmpresa||"-"))]),a("div",{staticClass:"col-2"},[e._v(e._s(e._f("numero")(t.saldo,2)))]),a("div",{staticClass:"col-2"},[e._v(e._s(e._f("numero")(t.valorCustoMedio,2)))]),a("div",{staticClass:"col-2"},[e._v(e._s(e._f("numero")(t.valorCusto,2)))]),a("div",{staticClass:"col-2"},[e._v(e._s(e._f("numero")(t.valorCustoAnterior,2)))])])]),a("q-item-separator",{staticClass:"q-my-xs"}),a("q-item-tile",{attrs:{sublabel:""}})],1)})],2)],1)],1)],1)}),0===e.estoquePorEmpresa.length?a("div",{staticClass:"row gutter-x-sm bg-white q-px-md q-py-lg"},[a("q-toolbar-title",{staticClass:"col-12"},[e._v("Sem informações de estoque")]),a("q-list",{staticClass:"col-12 no-border q-ml-sm"},[a("q-item",{staticClass:"q-pl-none"},[a("q-item-main",[a("q-item-tile",{attrs:{sublabel:""}},[a("div",{staticClass:"row text-weight-bold text-right justify-around"},[a("div",{staticClass:"col-2 text-center"},[e._v("Tipo estoque")]),a("div",{staticClass:"col-2 text-center"},[e._v("Lote")]),a("div",{staticClass:"col-2"},[e._v("Saldo")]),a("div",{staticClass:"col-2"},[e._v("Custo Médio")]),a("div",{staticClass:"col-2"},[e._v("Custo Real")]),a("div",{staticClass:"col-2"},[e._v("Custo Anterior")])])]),a("q-item-separator",{staticClass:"q-my-xs"}),a("div",[a("q-item-tile",{attrs:{sublabel:""}},[a("div",{staticClass:"row text-right justify-around"},[a("div",{staticClass:"col-2 text-center"},[e._v("-")]),a("div",{staticClass:"col-2 text-center"},[e._v("-")]),a("div",{staticClass:"col-2"},[e._v("-")]),a("div",{staticClass:"col-2"},[e._v("-")]),a("div",{staticClass:"col-2"},[e._v("-")]),a("div",{staticClass:"col-2"},[e._v("-")])])]),a("q-item-separator",{staticClass:"q-my-xs"}),a("q-item-tile",{attrs:{sublabel:""}})],1)],1)],1)],1)],1):e._e()],2),e.campos.ativo&&e.permissaoFicha?a("q-card",{staticClass:"bg-white gutter-x-md q-my-md q-px-md q-py-md no-shadow"},[a("q-toolbar-title",{staticClass:"row q-mb-sm"},[e._v("Parâmetros")]),a("form",{on:{submit:function(t){return t.preventDefault(),e.salvarItem(t)}}},[a("div",{staticClass:"row gutter-x-md q-mb-sm q-ml-sm"},[a("campo",e._b({staticClass:"col-6 col-md-3",attrs:{opcoes:{decimalPlaces:4}},model:{value:e.campos.quantidadeMinimaEstoque,callback:function(t){e.$set(e.campos,"quantidadeMinimaEstoque",t)},expression:"campos.quantidadeMinimaEstoque"}},"campo",e.meta.quantidadeMinimaEstoque,!1)),a("campo",e._b({staticClass:"col-6 col-md-3",attrs:{opcoes:{decimalPlaces:4}},model:{value:e.campos.quantidadeMinimaCompra,callback:function(t){e.$set(e.campos,"quantidadeMinimaCompra",t)},expression:"campos.quantidadeMinimaCompra"}},"campo",e.meta.quantidadeMinimaCompra,!1)),a("campo",e._b({staticClass:"col-6 col-md-3",model:{value:e.campos.tempoMedioReposicao,callback:function(t){e.$set(e.campos,"tempoMedioReposicao",t)},expression:"campos.tempoMedioReposicao"}},"campo",e.meta.tempoMedioReposicao,!1)),a("campo",e._b({staticClass:"col-6 col-md-3",model:{value:e.campos.consumoMedio,callback:function(t){e.$set(e.campos,"consumoMedio",t)},expression:"campos.consumoMedio"}},"campo",e.meta.consumoMedio,!1)),a("campo",e._b({staticClass:"col-6 col-md-3",model:{value:e.campos.local,callback:function(t){e.$set(e.campos,"local",t)},expression:"campos.local"}},"campo",e.meta.local,!1))],1),a("div",{staticClass:"row justify-end"},[a("q-btn",{staticClass:"no-shadow",attrs:{color:"primary",label:"Salvar",type:"submit"}})],1)])],1):e._e(),e.campos.ativo&&e.permissaoAjusteEstoque?a("q-card",{staticClass:"bg-white gutter-x-md q-my-md q-px-md q-py-md no-shadow"},[a("q-toolbar-title",{staticClass:"row q-mb-sm"},[e._v("Ajuste")]),a("form",{on:{submit:function(t){return t.preventDefault(),e.ajustarEstoque(t)}}},[a("div",{staticClass:"row gutter-x-md q-mb-sm q-ml-sm items-baseline"},[a("campo",e._b({staticClass:"col-12",attrs:{opcoes:e.opcoesEmpresa},model:{value:e.codigoEmpresaSelecionada,callback:function(t){e.codigoEmpresaSelecionada=t},expression:"codigoEmpresaSelecionada"}},"campo",e.meta.nomeEmpresa,!1))],1),a("div",{staticClass:"row gutter-x-md q-mb-sm q-ml-sm items-baseline"},[a("campo",e._b({staticClass:"col-6 col-md-3",model:{value:e.ajuste.lote,callback:function(t){e.$set(e.ajuste,"lote","string"===typeof t?t.trim():t)},expression:"ajuste.lote"}},"campo",e.meta.lote,!1)),a("campo",{staticClass:"col-6 col-md-3",attrs:{format:"DD/MM/YYYY HH:mm",rotulo:"Data",tipo:"dataHora",disable:e.ajusteDataSomenteLeitura},model:{value:e.ajuste.data,callback:function(t){e.$set(e.ajuste,"data",t)},expression:"ajuste.data"}}),a("campo",e._b({staticClass:"col-6 col-md-3",attrs:{erro:e.$v.ajuste.custoDesejado.$error},on:{blur:e.$v.ajuste.custoDesejado.$touch},model:{value:e.ajuste.custoDesejado,callback:function(t){e.$set(e.ajuste,"custoDesejado",t)},expression:"ajuste.custoDesejado"}},"campo",e.meta.custoDesejado,!1))],1),a("div",{staticClass:"row gutter-x-md q-mb-sm q-ml-sm items-baseline"},[a("campo",e._b({staticClass:"col-12 col-md-3",attrs:{opcoes:e.opcoesPlanoConta,erro:e.$v.ajuste.planoConta.$error},on:{blur:e.$v.ajuste.planoConta.$touch},model:{value:e.ajuste.planoConta,callback:function(t){e.$set(e.ajuste,"planoConta",t)},expression:"ajuste.planoConta"}},"campo",e.meta.planoConta,!1)),"0"===e.ajuste.planoConta?[a("campo",{staticClass:"col-12 col-md-3",attrs:{filter:"",erroRotulo:"Obrigatório",rotuloFixo:"Conta estoque",tipo:"seletor",opcoes:e.opcoesConta,erro:e.$v.ajuste.planoContaEstoque.$error},on:{blur:e.$v.ajuste.planoContaEstoque.$touch},model:{value:e.ajuste.planoContaEstoque,callback:function(t){e.$set(e.ajuste,"planoContaEstoque",t)},expression:"ajuste.planoContaEstoque"}}),a("campo",{staticClass:"col-12 col-md-3",attrs:{filter:"",erroRotulo:"Obrigatório",rotuloFixo:"Conta movimento",tipo:"seletor",opcoes:e.opcoesConta,erro:e.$v.ajuste.planoContaMovimento.$error},on:{blur:e.$v.ajuste.planoContaMovimento.$touch},model:{value:e.ajuste.planoContaMovimento,callback:function(t){e.$set(e.ajuste,"planoContaMovimento",t)},expression:"ajuste.planoContaMovimento"}})]:e._e()],2),a("div",{staticClass:"row items-center gutter-x-md q-mb-sm q-ml-sm"},[a("div",{staticClass:"col-6 col-md-3"},[a("div",{staticClass:"row q-caption text-faded"},[e._v("Saldo atual")]),a("div",{staticClass:"row q-py-xs"},[a("div",{staticClass:"col-11 text-faded"},[e._v(e._s(e._f("numero")(e.ajuste.qtdeMomento,4)))]),a("div",{staticClass:"col-1"},[e._v("+")])])]),a("div",{staticClass:"col-6 col-md-3"},[a("div",{staticClass:"row q-caption text-faded"},[e._v("Diferença")]),a("div",{staticClass:"row q-py-xs"},[a("div",{staticClass:"col-11 text-faded"},[e._v(e._s(e._f("numero")(e.ajuste.qtdeDiferenca,4)))]),a("div",{staticClass:"col-1"},[e._v("=")])])]),a("campo",e._b({staticClass:"col-6 col-md-3",attrs:{erro:e.$v.ajuste.qtdeDesejada.$error},on:{blur:e.$v.ajuste.qtdeDesejada.$touch,input:e.atualizarDiferenca},model:{value:e.ajuste.qtdeDesejada,callback:function(t){e.$set(e.ajuste,"qtdeDesejada",t)},expression:"ajuste.qtdeDesejada"}},"campo",e.meta.qtdeDesejada,!1))],1),a("div",{staticClass:"row justify-between gutter-x-md q-ma-xm q-ml-sm"},[a("div",{class:["q-pa-sm",e.ajusteCor]},[e._v(e._s(e.ajusteMensagem))]),a("q-btn",{attrs:{color:"primary",label:"Ajustar",type:"submit",disabled:"Processando"===e.ajusteMensagem}})],1)])],1):e._e(),e.campos.ativo?a("q-card",{staticClass:"bg-white gutter-x-md q-my-md q-px-md q-py-md no-shadow"},[a("q-toolbar-title",{staticClass:"row q-mb-sm"},[e._v("Historico de Movimentações (Kardex)")]),e.mensagemKardex?[a("div",{staticClass:"q-ml-sm"},[e._v(e._s(e.mensagemKardex))])]:[a("div",{staticClass:"row"},[a("campo",e._b({staticClass:"col-12 col-md-6 q-pl-md",attrs:{opcoes:e.opcoesEmpresa},model:{value:e.codigoEmpresaKardex,callback:function(t){e.codigoEmpresaKardex=t},expression:"codigoEmpresaKardex"}},"campo",e.meta.nomeEmpresa,!1)),a("campo",{staticClass:"col-12 col-md-6 q-pl-md",attrs:{opcoes:e.opcoesTipoEstoque,"rotulo-fixo":"Tido de estoque",tipo:"seletor"},model:{value:e.tipoEstoqueSelecionado,callback:function(t){e.tipoEstoqueSelecionado=t},expression:"tipoEstoqueSelecionado"}})],1),a("q-table",{attrs:{title:"",data:e.tabelaKardex,columns:e.colunasKardex,"row-key":"name"},scopedSlots:e._u([{key:"body",fn:function(t){return a("q-tr",{attrs:{props:t}},e._l(t.cols,function(o){return a("q-td",{key:o.name,attrs:{props:t}},["acao"===o.field?a("div",{staticClass:"row items-center no-wrap"},[e.permissaoAjusteEstoque&&"Estoque"===(t.cols.find(function(e){return"documentoTipo"===e.field})||{}).value?a("q-btn",{staticClass:"q-mr-sm",attrs:{size:"sm",round:"",dense:"",icon:"mdi-trash-can-outline"},on:{click:function(a){e.excluirAjuste((t.cols.find(function(e){return"codigoDocumento"===e.field})||{}).value)}}},[a("q-tooltip",{staticClass:"hideonmobile"},[e._v("\n                  Excluir ajuste\n                ")])],1):e._e()],1):a("div",[e._v(e._s(o.value))])])}))}}])})]],2):e._e()],1)},c$=[];n$._withStripped=!0;var l$={nomeEmpresa:{rotuloFixo:"Empresa",tipo:"seletor"}},d$={custoDesejado:{rotulo:"Custo desejado",tipo:"decimal",decimals:"2"},custoMomento:{rotulo:"Custo atual",tipo:"decimal",decimals:"2"},data:{format:"DD/MM/YYYY HH:mm",rotulo:"Data",tipo:"dataHora"},lote:{maxlength:"50",rotulo:"Lote",tipo:"texto"},planoConta:{erroRotulo:"Obrigatório",rotuloFixo:"Plano de contas",tipo:"seletor"},planoContaEstoque:{erroRotulo:"Obrigatório",rotuloFixo:"Conta estoque",tipo:"seletor"},planoContaMovimento:{erroRotulo:"Obrigatório",rotuloFixo:"Conta movimento",tipo:"seletor"},qtdeDesejada:{rotulo:"Saldo desejado",tipo:"decimal",decimals:"4"},qtdeDiferenca:{rotulo:"Diferença",tipo:"decimal",decimals:"4"},qtdeMomento:{rotulo:"Saldo atual",tipo:"decimal",decimals:"4"}},u$=at()({},l$,d$),m$=u$,p$=function(e){return e>0},v$=function(e){return e>=0},h$={components:{Campo:Sl},computed:{colunasKardex:function(){return[{align:"left",name:"DataHoraFinalizado",field:"dataHoraFinalizado",label:"Data Finalizado",sortable:!0,format:this.$filters.dataHora},{align:"left",name:"DocumentoTipo",field:"documentoTipo",label:"Documento",sortable:!0},{align:"middle",name:"Acao",field:"acao",label:"Ação"},{align:"right",name:"Numero",field:"numero",label:"Número",format:function(e){return e||0}},{align:"right",name:"Quantidade",field:"quantidade",label:"Quantidade"},{align:"left",name:"Unidade",field:"unidade",label:"Unidade"},{align:"right",name:"Saldo",field:"saldo",label:"Saldo",sortable:!0},{align:"left",name:"DescricaoContato",field:"descricaoContato",label:"Contato",format:function(e){return e||""}},{align:"right",name:"CustoMedio",field:"custoMedio",label:"Custo Médio",format:this.$filters.dinheiro},{align:"right",name:"Custo",field:"custo",label:"Custo Real",format:this.$filters.dinheiro},{align:"right",name:"Ordem",field:"ordem",label:"Ordem",sortable:!0},{align:"right",name:"Fator",field:"fator",label:"Fator"},{align:"left",name:"DocumentoItemOperacao",field:"documentoItemOperacao",label:"Operação Item",sortable:!0},{align:"left",name:"DocumentoItemStatus",field:"documentoItemStatus",label:"Status Item",sortable:!0},{align:"right",name:"CodigoDocumento",field:"codigoDocumento",label:"Código Documento",sortable:!0}]},meta:function(){return at()({},WO,m$)},opcoesEmpresa:function(){ei.log("ItemEstoque","computed opcoesEmpresa");var e=this.empresasContato.map(function(e){return{rotulo:e.apelido+" - "+e.nome,valor:e.codigoContato}});return 0===e.length&&(e=[{rotulo:"-",valor:""}]),e}},data:function(){return{ajuste:{custoDesejado:0,data:new Date,lote:"",planoConta:"",planoContaEstoque:"",planoContaMovimento:"",qtdeDesejada:0,qtdeDiferenca:0,qtdeMomento:0},ajusteCor:"text-primary",ajusteMensagem:"",ajusteDataSomenteLeitura:!1,campos:{},codigoEmpresaKardex:0,codigoEmpresaSelecionada:0,empresasContato:[],estoquePorEmpresa:[],mensagemKardex:"",opcoesConta:[],opcoesPlanoConta:[{rotulo:"-",valor:""}],opcoesTipoEstoque:[{rotulo:"-",valor:""}],permissaoAjusteEstoque:!1,permissaoFicha:!1,tabelaKardex:[],tipoEstoqueSelecionado:""}},methods:{ajustarEstoque:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log("ItemEstoque","ajustarEstoque",at()({codigoEmpresa:this.codigoEmpresaSelecionada,codigoItem:this.campos.codigoItem},this.ajuste)),this.ajusteCor="text-primary",this.ajusteMensagem="Processando",this.$v.ajuste.$touch(),!this.$v.ajuste.$error){e.next=8;break}return this.ajusteCor="text-negative",this.ajusteMensagem="Há erros de validação no formulário.",e.abrupt("return",this.$q.notify(this.ajusteMensagem));case 8:return e.prev=8,e.next=11,Qn.estoque.adicionarAjuste(at()({codigoEmpresa:this.codigoEmpresaSelecionada,codigoItem:+this.campos.codigoItem},this.ajuste));case 11:if(t=e.sent,ei.log("ItemEstoque","ajustarEstoque retorno",t),t&&t.data&&t.data.estoqueAdicionarAjuste&&t.data.estoqueAdicionarAjuste.sucesso){e.next=15;break}throw new ko(t.data.estoqueAdicionarAjuste.mensagem);case 15:return this.ajusteCor="text-positive",this.ajusteMensagem=t.data.estoqueAdicionarAjuste.mensagem,this.$q.notifyPositive(this.ajusteMensagem),e.next=20,this.atualizar();case 20:e.next=27;break;case 22:e.prev=22,e.t0=e["catch"](8),this.ajusteCor="text-negative",this.ajusteMensagem="Ocorreu um erro ao ajustar o estoque online",this.$q.notifyError(this.ajusteMensagem,e.t0);case 27:case"end":return e.stop()}},e,this,[[8,22]])}));return function(){return e.apply(this,arguments)}}(),atualizarDiferenca:function(){ei.log("ItemEstoque","atualizarDiferenca",this.ajuste.qtdeMomento,this.ajuste.qtdeDesejada),this.ajuste.qtdeDiferenca=this.ajuste.qtdeDesejada-this.ajuste.qtdeMomento},atualizarAjustePorLote:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=new Intl.DateTimeFormat("pt-BR",{dateStyle:"short",timeStyle:"medium"}),a="\n        select top 1\n          custoMedio valorCustoMedio,\n          saldo\n        from kardex\n        where\n          codigoItem = ".concat((this.campos||{}).codigoItem||0,"\n          and codigoEmpresa = ").concat(this.codigoEmpresaSelecionada||0,"\n          and datahorafinalizado <= '").concat(t.format(new Date(this.ajuste.data)),"'\n          and tipoEstoque = 'Disponível'\n          and ").concat((this.ajuste.lote||"").trim()?"loteEmpresa = '"+(this.ajuste.lote||"").trim()+"'":"(ltrim(rtrim(loteEmpresa)) = '' or loteEmpresa is null)","\n        order by ordem desc"),o={},e.prev=3,e.next=6,jo(a);case 6:if(e.t0=e.sent,e.t0){e.next=9;break}e.t0=[];case 9:i=e.t0,o=i[0]||{},e.next=20;break;case 13:e.prev=13,e.t1=e["catch"](3),this.ajusteDataSomenteLeitura=!0,ei.log("ItemEstoque","atualizarAjustePorLote",this.codigoEmpresaSelecionada,this.ajuste.lote),r=this.estoquePorEmpresa||[],s=(r.find(function(e){return e.codigoEmpresa===n.codigoEmpresaSelecionada})||{}).estoquePorLote||[],o=s.find(function(e){return"Disponível"===e.tipoEstoque&&(e.loteEmpresa||"")===n.ajuste.lote})||{};case 20:this.ajuste.custoMomento=o.valorCustoMedio||0,this.ajuste.custoDesejado=this.ajuste.custoDesejado||o.valorCustoMedio||0,this.ajuste.qtdeMomento=o.saldo||0,this.ajuste.qtdeDesejada=this.ajuste.qtdeMomento||0,this.atualizarDiferenca();case 25:case"end":return e.stop()}},e,this,[[3,13]])}));return function(){return e.apply(this,arguments)}}(),atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("ItemEstoque","atualizar()"),this.ajuste.data=na(),e.next=4,Zn.permissao.objeto("item//ficha");case 4:return this.permissaoFicha=e.sent,e.next=7,Zn.permissao.objeto("item//estoque/ajuste_estoque");case 7:return this.permissaoAjusteEstoque=e.sent,e.prev=8,e.next=11,Zn.item.leCompleto(this.$route.params.id);case 11:return this.itemCompleto=e.sent,Zn.item.selecionado=this.itemCompleto.atual,this.campos=this.itemCompleto.atual,e.next=16,Zn.empresa.le();case 16:return this.empresasContato=e.sent,e.next=19,Zn.estoqueSaldoProdutoEmpresa.leEstoquePorEmpresa(this.campos.id);case 19:this.estoquePorEmpresa=e.sent,e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](8),this.$q.notifyError("Ocorreu erro ao consultar produto",e.t0);case 25:return e.prev=25,e.next=28,Zn.configuracoes.le();case 28:return e.t1=function(e){return"item.estoque.ajuste"===e.nome},e.t2=function(e,t){return e.texto.localeCompare(t.texto)},t=e.sent.filter(e.t1).sort(e.t2),this.opcoesPlanoConta=[{rotulo:"-",valor:""}].concat(la()(t.map(function(e){return{rotulo:(e.texto||"").trim(),valor:e.valor}})),[{rotulo:"Especificar Contas",valor:"0"}]),e.next=34,Zn.financeiroPlanoConta.le();case 34:e.t3=function(e){return e.ativo&&!!e.tradutor&&"00000"!==e.tradutor.substr(12,5)},e.t4=function(e,t){return e.tradutor.localeCompare(t.tradutor)},a=e.sent.filter(e.t3).sort(e.t4),this.opcoesConta=a.map(function(e){return{valor:e.codigoFinanceiroPlanoConta,rotulo:(e.descricao||"").trim(),sublabel:(e.caminho||"").trim()}}),e.next=44;break;case 40:e.prev=40,e.t5=e["catch"](25),this.$q.notifyError("Ocorreu erro ao consultar o plano de contas",e.t5),this.opcoesConta=[];case 44:this.atualizarKardex(),this.codigoEmpresaSelecionada||(this.codigoEmpresaSelecionada=this.opcoesEmpresa[0].valor),this.atualizarAjustePorLote();case 47:case"end":return e.stop()}},e,this,[[8,22],[25,40]])}));return function(){return e.apply(this,arguments)}}(),atualizarKardex:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("ItemEstoque","atualizarKardex()"),this.codigoEmpresaKardex||(this.codigoEmpresaKardex=this.opcoesEmpresa[0].valor),e.prev=2,e.next=5,Qn.estoque.consultarKardex(this.campos.id,this.codigoEmpresaKardex);case 5:t=e.sent,this.opcoesTipoEstoque=po(t.data.kardex||[],"tipoEstoque").map(function(e){return{rotulo:e,valor:e}}),this.tipoEstoqueSelecionado||(this.tipoEstoqueSelecionado=(this.opcoesTipoEstoque[0]||{}).valor||""),this.tabelaKardex=(t.data.kardex||[]).filter(function(e){return e.tipoEstoque===a.tipoEstoqueSelecionado}),this.mensagemKardex="",e.next=17;break;case 12:e.prev=12,e.t0=e["catch"](2),this.mensagemKardex="É necessário estar com a internet ativa para acessar este serviço",console.error("Mensagem ao usuário: "+this.mensagemKardex),console.error(e.t0);case 17:case"end":return e.stop()}},e,this,[[2,12]])}));return function(){return e.apply(this,arguments)}}(),excluirAjuste:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$q.dialog({cancel:"Cancelar",message:"Ao continuar o ajuste será excluído.",noRefocus:!0,ok:"Continuar",title:"Tem certeza?"}).then(Le()(regeneratorRuntime.mark(function e(){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a.$q.loading.show({message:"Excluindo ajuste"}),o="\n          exec Sp_Estoque_ExcluirAjuste ".concat(t,", ").concat(a.campos.codigoItem,"\n        "),e.prev=2,e.next=5,jo(o);case 5:return e.next=7,a.atualizar();case 7:a.$q.notifyPositive("Ajuste excluído com sucesso"),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](2);case 12:return e.prev=12,a.$q.loading.hide(),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[2,10,12,15]])})));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),salvarItem:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log("ItemEstoque","salvarItem",this.campos),this.verificarSeAlterouCampos(this.campos)){e.next=4;break}return this.$q.notifyPositive("Não há dados alterados."),e.abrupt("return");case 4:return e.prev=4,e.next=7,Zn.item.grava(this.itemCompleto);case 7:return e.next=9,this.atualizar();case 9:this.$q.notifyPositive("Os dados foram salvos com sucesso."),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](4),this.$q.notifyError("Ocorreu um erro ao salvar",e.t0);case 15:case"end":return e.stop()}},e,this,[[4,12]])}));return function(){return e.apply(this,arguments)}}(),verificarSeAlterouCampos:function(){var e=va(this.itemCompleto.original,this.campos);return ei.log("ItemEstoque","verificarSeAlterouCampos",null!==e,e),null!==e}},validations:{ajuste:{planoConta:{required:rl["required"]},planoContaEstoque:{required:rl["required"]},planoContaMovimento:{required:rl["required"]},custoDesejado:{required:rl["required"],gt0:p$},qtdeDesejada:{required:rl["required"],gte0:v$}}},mixins:[cw],watch:{"ajuste.data":function(){this.atualizarAjustePorLote()},"ajuste.lote":function(){this.atualizarAjustePorLote()},codigoEmpresaSelecionada:function(){this.atualizarAjustePorLote()},codigoEmpresaKardex:function(){this.atualizarKardex()},tipoEstoqueSelecionado:function(){this.atualizarKardex()},"ajuste.planoConta":function(){if(ei.log("ItemEstoque","watch ajuste.planoConta",this.ajuste.planoConta),"0"!==this.ajuste.planoConta){var e=this.ajuste.planoConta.split(","),t=Ai()(e,2),a=t[0],o=t[1];this.ajuste.planoContaEstoque=+a||0,this.ajuste.planoContaMovimento=+o||0}},"$route.params.id":function(){ei.log("ItemEstoque","watch route id"),this.atualizar()}},created:function(){ei.log("ItemEstoque","created()"),this.atualizar()}},f$=h$,C$=Object(sc["a"])(f$,n$,c$,!1,null,null,null);C$.options.__file="ItemEstoque.vue";var b$=C$.exports,g$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.campos&&e.campos.id?a("form",{staticClass:"ItemFicha",on:{submit:function(t){return t.preventDefault(),e.salvarItem(t)}}},[a("q-card",{staticClass:"row gutter-x-sm bg-white q-px-md q-py-lg no-shadow"},[a("div",{staticClass:"col-12 col-md-3 text-center"},[a("avatar",{attrs:{imagem:e.campos.imagem,tamanho:"160",rotulo:e.campos.descricao},nativeOn:{click:function(t){return e.abrirModalFoto(t)}}})],1),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"text-right"},[a("badge",{attrs:{cor:e.badgeCor,escuro:""}},[e._v("#"+e._s((e.campos.codigoItem||0).toString().padStart(6,"0")))])],1),e.temDescricaoConcatenada?a("div",[e._v(e._s(e.descricaoConcatenada))]):e._e(),a("campo",e._b({staticClass:"col-12",attrs:{autofocus:"",erro:e.$v.campos.descricao.$error},on:{blur:e.$v.campos.descricao.$touch},model:{value:e.campos.descricao,callback:function(t){e.$set(e.campos,"descricao","string"===typeof t?t.trim():t)},expression:"campos.descricao"}},"campo",e.meta.descricao,!1)),a("div",{staticClass:"row gutter-x-sm"},[a("campo",e._b({staticClass:"col-12 col-md-6",attrs:{filter:"",opcoes:e.opcoesMarca,after:[{icon:"add_circle",handler:function(){e.abrirModalMarca()}}]},nativeOn:{click:function(t){return e.leOpcoesMarca(t)}},model:{value:e.campos.marca,callback:function(t){e.$set(e.campos,"marca",t)},expression:"campos.marca"}},"campo",e.meta.marca,!1)),a("campo",e._b({staticClass:"col-12 col-md-6",attrs:{opcoes:e.opcoesTipo},model:{value:e.campos.tipo,callback:function(t){e.$set(e.campos,"tipo",t)},expression:"campos.tipo"}},"campo",e.meta.tipo,!1))],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",e._b({staticClass:"col-12 col-md-6",attrs:{erro:e.$v.campos.referencia.$error},on:{blur:e.$v.campos.referencia.$touch},model:{value:e.campos.referencia,callback:function(t){e.$set(e.campos,"referencia","string"===typeof t?t.trim():t)},expression:"campos.referencia"}},"campo",e.meta.referencia,!1)),a("campo",e._b({directives:[{name:"mask",rawName:"v-mask",value:"##############",expression:"'##############'"}],staticClass:"col-12 col-md-6",on:{blur:e.completarCodigoBarras},model:{value:e.campos.codigoBarras,callback:function(t){e.$set(e.campos,"codigoBarras","string"===typeof t?t.trim():t)},expression:"campos.codigoBarras"}},"campo",e.meta.codigoBarras,!1))],1),"Serviço"!=e.campos.tipo?a("div",{staticClass:"row gutter-x-sm"},[a("q-field",{staticClass:"col-12 col-md-6",attrs:{helper:e.descricaoNcm,warning:!e.campos.ncm,"warning-label":"Preenchimento necessário para venda"}},[a("q-search",{attrs:{"float-label":"NCM","no-icon":""},on:{blur:e.conferirNcm},model:{value:e.campos.ncm,callback:function(t){e.$set(e.campos,"ncm",t)},expression:"campos.ncm"}},[a("q-autocomplete",{attrs:{"min-characters":2,"max-results":5,"value-field":function(e){return""+e.label}},on:{search:e.buscarNcm,selected:e.selecionarNcm}})],1)],1),a("SeletorCest",{staticClass:"col-12 col-md-6",attrs:{ncm:e.campos.ncm},model:{value:e.campos.cest,callback:function(t){e.$set(e.campos,"cest",t)},expression:"campos.cest"}})],1):e._e(),e.ehProdutoControlado?[a("div",{staticClass:"q-mt-md q-mb-sm col-12 q-title"},[e._v("Produto Controlado")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"row"},[a("campo",{staticClass:"col-xs-12 col-md-11",attrs:{rotulo:"Quantidade Exército",tipo:"decimal",decimals:"4"},model:{value:e.campos.controladoExercito,callback:function(t){e.$set(e.campos,"controladoExercito",t)},expression:"campos.controladoExercito"}})],1)]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"row"},[a("campo",{staticClass:"col-xs-12 col-md-11",attrs:{rotulo:"Quantidade Polícia Federal",tipo:"decimal",decimals:"4"},model:{value:e.campos.controladoPoliciaFederal,callback:function(t){e.$set(e.campos,"controladoPoliciaFederal",t)},expression:"campos.controladoPoliciaFederal"}})],1)]),a("campo",{staticClass:"col-12 col-md-4",attrs:{rotulo:"Quantidade Polícia Civil",tipo:"decimal",decimals:"4"},model:{value:e.campos.controladoPoliciaCivil,callback:function(t){e.$set(e.campos,"controladoPoliciaCivil",t)},expression:"campos.controladoPoliciaCivil"}})],1)]:e._e(),a("div",{staticClass:"q-mt-md q-mb-sm col-12 q-title"},[e._v("Valores")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"row"},[a("campo",e._b({staticClass:"col-8",attrs:{ajuda:e.utilizaComposicaoValorReposicaoInvertido?"":"Total da composição",disable:!e.utilizaComposicaoValorReposicaoInvertido,readonly:!e.utilizaComposicaoValorReposicaoInvertido},model:{value:e.campos.valorCustoReposicao,callback:function(t){e.$set(e.campos,"valorCustoReposicao",t)},expression:"campos.valorCustoReposicao"}},"campo",e.meta.valorCustoReposicao,!1)),a("q-field",{staticClass:"col-4"},[a("q-toggle",{model:{value:e.utilizaComposicaoValorReposicaoInvertido,callback:function(t){e.utilizaComposicaoValorReposicaoInvertido=t},expression:"utilizaComposicaoValorReposicaoInvertido"}})],1)],1)]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"row"},[a("campo",e._b({staticClass:"col-8",attrs:{disable:e.utilizaMarkupInvertido,readonly:e.utilizaMarkupInvertido},model:{value:e.campos.percentualMarkup,callback:function(t){e.$set(e.campos,"percentualMarkup",t)},expression:"campos.percentualMarkup"}},"campo",e.meta.percentualMarkup,!1)),a("q-field",{staticClass:"col-4"},[a("q-toggle",{model:{value:e.utilizaMarkupInvertido,callback:function(t){e.utilizaMarkupInvertido=t},expression:"utilizaMarkupInvertido"}})],1)],1)]),a("campo",e._b({staticClass:"col-12 col-md-4",attrs:{disable:!e.utilizaMarkupInvertido,readonly:!e.utilizaMarkupInvertido},on:{blur:e.atualizarTabelasPreco},model:{value:e.campos.valorVenda,callback:function(t){e.$set(e.campos,"valorVenda",t)},expression:"campos.valorVenda"}},"campo",e.meta.valorVenda,!1))],1),(e.tabelasPreco||[]).length>1?[a("div",{staticClass:"q-mt-md q-mb-sm col-12 q-title"},[e._v("Tabelas de Preço")]),a("div",{staticClass:"row"},[a("q-list",{staticClass:"col-12",attrs:{link:"","no-border":""}},e._l(e.tabelasPreco,function(t){return a("q-item",{key:t.id,staticClass:"q-pl-none q-pr-none",attrs:{link:"",tag:"label"}},[a("q-item-main",{attrs:{label:t.descricao}}),a("q-item-side",[a("q-toggle",{on:{input:function(a){e.atualizarTabelaPreco(t.id)}},model:{value:t.habilitada,callback:function(a){e.$set(t,"habilitada",a)},expression:"tabela.habilitada"}})],1),a("div",{staticClass:"q-pl-sm q-pr-sm"},[a("campo",e._b({attrs:{disable:!t.habilitada,readonly:!t.habilitada},model:{value:t.maximoDesconto,callback:function(a){e.$set(t,"maximoDesconto",a)},expression:"tabela.maximoDesconto"}},"campo",{rotulo:"Desc. Máximo (%)",tipo:"decimal",decimals:"2"},!1))],1),a("div",{staticClass:"q-pl-sm"},[a("campo",e._b({attrs:{disable:!t.habilitada,readonly:!t.habilitada},model:{value:t.valorVenda,callback:function(a){e.$set(t,"valorVenda",a)},expression:"tabela.valorVenda"}},"campo",{rotulo:"Valor de venda",tipo:"decimal",decimals:"2"},!1))],1)],1)}))],1)]:e._e()],2),a("div",{staticClass:"col-12 col-md-3"},[a("q-list",{staticClass:"bg-light no-border"},[a("q-list-header",[e._v("Estoque / Custos")]),a("q-scroll-area",{staticStyle:{height:"230px"},attrs:{"thumb-style":{background:"#0277bd",width:"5px",opacity:"1 !important"}}},[e._l(e.estoquePorEmpresa,function(t){return a("q-item",{key:t.idEmpresa},[a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v(e._s(t.nomeEmpresa))]),e._l(t.estoquePorLote,function(t,o){return a("div",{key:o},[a("q-item-tile",{attrs:{sublabel:""}},[a("div",{staticClass:"row q-pb-sm"},[e._v("Lote "+e._s(t.loteEmpresa||"-"))]),a("div",{staticClass:"row q-caption text-weight-bold text-center items-center"},[a("div",{staticClass:"col-3"},[e._v("Saldo")]),a("div",{staticClass:"col-3"},[e._v("Custo Médio")]),a("div",{staticClass:"col-3"},[e._v("Custo Real")]),a("div",{staticClass:"col-3"},[e._v("Custo Anterior")])])]),a("q-item-separator",{staticClass:"q-my-xs"}),a("q-item-tile",{attrs:{sublabel:""}},[a("div",{staticClass:"row q-caption text-center"},[a("div",{staticClass:"col-3"},[e._v(e._s(e._f("numero")(t.saldo,2)))]),a("div",{staticClass:"col-3"},[e._v(e._s(e._f("numero")(t.valorCustoMedio,2)))]),a("div",{staticClass:"col-3"},[e._v(e._s(e._f("numero")(t.valorCusto,2)))]),a("div",{staticClass:"col-3"},[e._v(e._s(e._f("numero")(t.valorCustoAnterior,2)))])])]),a("q-item-separator"),a("q-item-tile",{attrs:{sublabel:""}})],1)})],2)],1)}),0===e.estoquePorEmpresa.length?a("q-item",[a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v("Sem informação de estoque")])],1)],1):e._e()],2)],1)],1)]),e.temArmacao?a("q-card",{staticClass:"bg-white gutter-x-md q-my-md q-px-md q-py-md no-shadow items-center justify-around row"},[a("q-toolbar-title",{staticClass:"q-mb-sm col-12"},[e._v("Armação")]),a("div",{staticClass:"col-12 col-md-5"},[a("div",{staticClass:"gutter-x-sm items-end justify-around row"},[a("div",{staticClass:"col-6 col-md-2"},[a("div",{staticClass:"row"},[a("img",{staticStyle:{height:"100%",width:"100%"},attrs:{src:"statics/images/icon-haste.svg"}})]),a("div",{staticClass:"row"},[a("campo",e._b({model:{value:e.campos.haste,callback:function(t){e.$set(e.campos,"haste",t)},expression:"campos.haste"}},"campo",e.meta.haste,!1))],1)]),a("div",{staticClass:"col-6 col-md-2"},[a("div",{staticClass:"row"},[a("img",{staticStyle:{height:"100%",width:"100%"},attrs:{src:"statics/images/icon-altura.svg"}})]),a("div",{staticClass:"row"},[a("campo",e._b({model:{value:e.campos.altura,callback:function(t){e.$set(e.campos,"altura",t)},expression:"campos.altura"}},"campo",e.meta.altura,!1))],1)]),a("div",{staticClass:"col-6 col-md-2"},[a("div",{staticClass:"row"},[a("img",{staticStyle:{height:"100%",width:"100%"},attrs:{src:"statics/images/icon-ponte.svg"}})]),a("div",{staticClass:"row"},[a("campo",e._b({model:{value:e.campos.ponte,callback:function(t){e.$set(e.campos,"ponte",t)},expression:"campos.ponte"}},"campo",e.meta.ponte,!1))],1)]),a("div",{staticClass:"col-6 col-md-2"},[a("div",{staticClass:"row"},[a("img",{staticStyle:{height:"100%",width:"100%"},attrs:{src:"statics/images/icon-tamanho.svg"}})]),a("div",{staticClass:"row"},[a("campo",e._b({model:{value:e.campos.largura,callback:function(t){e.$set(e.campos,"largura","string"===typeof t?t.trim():t)},expression:"campos.largura"}},"campo",e.meta.largura,!1))],1)]),a("div",{staticClass:"col-6 col-md-2"},[a("div",{staticClass:"row"},[a("img",{staticStyle:{height:"100%",width:"100%"},attrs:{src:"statics/images/icon-diagonal.svg"}})]),a("div",{staticClass:"row"},[a("campo",e._b({model:{value:e.campos.diagonal,callback:function(t){e.$set(e.campos,"diagonal",t)},expression:"campos.diagonal"}},"campo",e.meta.diagonal,!1))],1)])])]),a("div",{staticClass:"col-12 col-md-7"},[a("div",{staticClass:"gutter-x-sm gutter-y-xm row"},[a("campo",e._b({attrs:{filter:"",opcoes:e.opcoesGenero},model:{value:e.campos.genero,callback:function(t){e.$set(e.campos,"genero",t)},expression:"campos.genero"}},"campo",e.meta.genero,!1)),a("campo",e._b({staticClass:"col-12 col-md-6",attrs:{opcoes:e.opcoesArmacaoMaterial,after:[{icon:"add_circle",handler:function(){e.abrirModalArmacaoMaterial()}}],filter:""},nativeOn:{click:function(t){return e.leOpcoesArmacaoMaterial(t)}},model:{value:e.campos.armacaoMaterial,callback:function(t){e.$set(e.campos,"armacaoMaterial",t)},expression:"campos.armacaoMaterial"}},"campo",e.meta.armacaoMaterial,!1)),a("campo",e._b({staticClass:"col-12 col-md-6",attrs:{opcoes:e.opcoesTipoMontagem,after:[{icon:"add_circle",handler:function(){e.abrirModalTipoMontagem()}}],filter:""},nativeOn:{click:function(t){return e.leOpcoesTipoMontagem(t)}},model:{value:e.campos.tipoMontagem,callback:function(t){e.$set(e.campos,"tipoMontagem",t)},expression:"campos.tipoMontagem"}},"campo",e.meta.tipoMontagem,!1)),a("campo",e._b({staticClass:"col-12 col-md-6",model:{value:e.campos.modelo,callback:function(t){e.$set(e.campos,"modelo",t)},expression:"campos.modelo"}},"campo",e.meta.modelo,!1)),a("campo",e._b({staticClass:"col-12 col-md-6",attrs:{opcoes:e.opcoesArmacaoCor,after:[{icon:"add_circle",handler:function(){e.abrirModalArmacaoCor()}}],filter:""},nativeOn:{click:function(t){return e.leOpcoesArmacaoCor(t)}},model:{value:e.campos.amarcaoCor,callback:function(t){e.$set(e.campos,"amarcaoCor",t)},expression:"campos.amarcaoCor"}},"campo",e.meta.armacaoCor,!1))],1)])],1):e._e(),e.temLente?a("q-card",{staticClass:"bg-white gutter-x-md q-my-md q-px-md q-py-md no-shadow"},[a("q-toolbar-title",{staticClass:"q-mb-md col-12"},[e._v("Lente")]),a("div",{staticClass:"row gutter-x-sm"},[a("campo",e._b({staticClass:"col-12 col-md-6",attrs:{opcoes:e.opcoesMaterial,filter:"",after:[{icon:"add_circle",handler:function(){e.abrirModalMaterial()}}]},nativeOn:{click:function(t){return e.leOpcoesMaterial(t)}},model:{value:e.campos.material,callback:function(t){e.$set(e.campos,"material",t)},expression:"campos.material"}},"campo",e.meta.material,!1)),a("campo",e._b({staticClass:"col-12 col-md-6",attrs:{opcoes:e.opcoesCor,filter:"",after:[{icon:"add_circle",handler:function(){e.abrirModalCor()}}]},nativeOn:{click:function(t){return e.leOpcoesCor(t)}},model:{value:e.campos.cor,callback:function(t){e.$set(e.campos,"cor",t)},expression:"campos.cor"}},"campo",e.meta.cor,!1))],1),"Óculos Pronto"===e.campos.tipo?[a("div",{staticClass:"row"},[a("campo",e._b({staticClass:"col-6 col-md-2",model:{value:e.campos.esfericoInicial,callback:function(t){e.$set(e.campos,"esfericoInicial",t)},expression:"campos.esfericoInicial"}},"campo",e.meta.esfericoInicial,!1))],1)]:e._e(),"Lente"===e.campos.tipo?[a("div",{staticClass:"row gutter-x-sm"},[a("campo",e._b({staticClass:"col-6 col-md-2",model:{value:e.campos.esfericoInicial,callback:function(t){e.$set(e.campos,"esfericoInicial",t)},expression:"campos.esfericoInicial"}},"campo",e.meta.esfericoInicial,!1)),a("campo",e._b({staticClass:"col-6 col-md-2",model:{value:e.campos.esfericoFinal,callback:function(t){e.$set(e.campos,"esfericoFinal",t)},expression:"campos.esfericoFinal"}},"campo",e.meta.esfericoFinal,!1)),a("campo",e._b({staticClass:"col-6 col-md-2",model:{value:e.campos.cilindrico,callback:function(t){e.$set(e.campos,"cilindrico",t)},expression:"campos.cilindrico"}},"campo",e.meta.cilindrico,!1))],1),a("div",{staticClass:"row gutter-x-sm"},["Monofocal"!==e.campos.lenteTipo?[a("campo",e._b({staticClass:"col-6 col-md-2",model:{value:e.campos.adicaoInicial,callback:function(t){e.$set(e.campos,"adicaoInicial",t)},expression:"campos.adicaoInicial"}},"campo",e.meta.adicaoInicial,!1)),a("campo",e._b({staticClass:"col-6 col-md-2",model:{value:e.campos.adicaoFinal,callback:function(t){e.$set(e.campos,"adicaoFinal",t)},expression:"campos.adicaoFinal"}},"campo",e.meta.adicaoFinal,!1))]:e._e(),a("campo",e._b({staticClass:"col-6 col-md-2",model:{value:e.campos.alturaMinima,callback:function(t){e.$set(e.campos,"alturaMinima",t)},expression:"campos.alturaMinima"}},"campo",e.meta.alturaMinima,!1)),a("campo",e._b({staticClass:"col-6 col-md-2",model:{value:e.campos.indiceRefracao,callback:function(t){e.$set(e.campos,"indiceRefracao",t)},expression:"campos.indiceRefracao"}},"campo",e.meta.indiceRefracao,!1)),a("campo",e._b({staticClass:"col-6 col-md-2",model:{value:e.campos.diametro,callback:function(t){e.$set(e.campos,"diametro",t)},expression:"campos.diametro"}},"campo",e.meta.diametro,!1))],2),a("div",{staticClass:"row gutter-x-sm"},[a("campo",e._b({staticClass:"col-12 col-md-3",attrs:{opcoes:e.opcoesLenteTipo},model:{value:e.campos.lenteTipo,callback:function(t){e.$set(e.campos,"lenteTipo",t)},expression:"campos.lenteTipo"}},"campo",e.meta.lenteTipo,!1))],1)]:e._e(),"Lente Contato"===e.campos.tipo?[a("div",{staticClass:"row gutter-x-sm"},[a("campo",e._b({staticClass:"col-6 col-md-2",model:{value:e.campos.esfericoInicial,callback:function(t){e.$set(e.campos,"esfericoInicial",t)},expression:"campos.esfericoInicial"}},"campo",e.meta.esfericoInicial,!1)),a("campo",e._b({staticClass:"col-6 col-md-2",model:{value:e.campos.esfericoFinal,callback:function(t){e.$set(e.campos,"esfericoFinal",t)},expression:"campos.esfericoFinal"}},"campo",e.meta.esfericoFinal,!1)),a("campo",e._b({staticClass:"col-6 col-md-2",model:{value:e.campos.eixo,callback:function(t){e.$set(e.campos,"eixo",t)},expression:"campos.eixo"}},"campo",e.meta.eixo,!1)),a("campo",e._b({staticClass:"col-6 col-md-2",model:{value:e.campos.eixoFinal,callback:function(t){e.$set(e.campos,"eixoFinal",t)},expression:"campos.eixoFinal"}},"campo",e.meta.eixoFinal,!1)),a("campo",e._b({staticClass:"col-6 col-md-2",model:{value:e.campos.adicaoInicial,callback:function(t){e.$set(e.campos,"adicaoInicial",t)},expression:"campos.adicaoInicial"}},"campo",e.meta.adicaoInicial,!1))],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",e._b({staticClass:"col-6 col-md-2",model:{value:e.campos.RB1,callback:function(t){e.$set(e.campos,"RB1",t)},expression:"campos.RB1"}},"campo",e.meta.RB1,!1)),a("campo",e._b({staticClass:"col-6 col-md-2",model:{value:e.campos.RB2,callback:function(t){e.$set(e.campos,"RB2",t)},expression:"campos.RB2"}},"campo",e.meta.RB2,!1)),a("campo",e._b({staticClass:"col-6 col-md-2",model:{value:e.campos.diametro,callback:function(t){e.$set(e.campos,"diametro",t)},expression:"campos.diametro"}},"campo",e.meta.diametro,!1)),a("campo",e._b({staticClass:"col-6 col-md-2",model:{value:e.campos.cilindrico,callback:function(t){e.$set(e.campos,"cilindrico",t)},expression:"campos.cilindrico"}},"campo",e.meta.cilindrico,!1))],1),a("div",{staticClass:"row gutter-x-sm"},[a("campo",e._b({staticClass:"col-12 col-md-3",attrs:{opcoes:e.opcoesGeometria},model:{value:e.campos.geometria,callback:function(t){e.$set(e.campos,"geometria",t)},expression:"campos.geometria"}},"campo",e.meta.geometria,!1)),a("campo",e._b({staticClass:"col-12 col-md-3",attrs:{opcoes:e.opcoesLenteTipo},model:{value:e.campos.lenteTipo,callback:function(t){e.$set(e.campos,"lenteTipo",t)},expression:"campos.lenteTipo"}},"campo",e.meta.lenteTipo,!1)),a("campo",e._b({staticClass:"col-12 col-md-3",attrs:{opcoes:e.opcoesSurfacada},model:{value:e.campos.surfacada,callback:function(t){e.$set(e.campos,"surfacada",t)},expression:"campos.surfacada"}},"campo",e.meta.surfacada,!1))],1)]:e._e()],2):e._e(),"Lente"===e.campos.tipo?a("q-card",{staticClass:"bg-white gutter-x-md q-my-md q-px-md q-py-md no-shadow"},[a("q-toolbar-title",{staticClass:"q-mb-md col-12"},[e._v("Tratamento")]),e._l(e.campos.composicao,function(t,o){return a("div",{key:o,staticClass:"u-separador animate-pop"},[a("div",{staticClass:"gutter-x-sm items-center row"},[a("campo",{staticClass:"col-6 col-sm-4",attrs:{value:t.descricaoItemUtilizado,before:[{icon:"search",handler:function(){e.abrirModalTratamento(o)}}],readonly:"",rotulo:"Tratamento"},on:{click:function(t){e.abrirModalTratamento(o)}}}),a("input",{attrs:{type:"hidden"},domProps:{value:t.idItemUtilizado}}),a("campo",e._b({staticClass:"col-6 col-sm-2",attrs:{disable:!0,readonly:!0},model:{value:e.campos.composicao[o].temporario.valor,callback:function(t){e.$set(e.campos.composicao[o].temporario,"valor",t)},expression:"campos.composicao[index].temporario.valor"}},"campo",e.meta.composicao.lista.temporario.valor,!1)),a("div",{staticClass:"col-2 col-sm-1 text-right"},[a("q-btn",{attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(t){e.removerComposicao(o)}}},[a("q-tooltip",[e._v("Excluir")])],1)],1)],1)])}),a("div",{staticClass:"q-mt-md text-center"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Tratamento",outline:"",size:"sm"},on:{click:e.adicionarComposicao}})],1)],2):e._e(),e._e(),a("q-tabs",{staticClass:"bg-transparent q-mt-lg",attrs:{color:"transparent","text-color":"primary"}},[a("q-tab",{attrs:{slot:"title",default:"",label:"Detalhes",name:"profile-tab-1"},slot:"title"}),a("q-tab",{attrs:{slot:"title",label:"Fornecedores",name:"profile-tab-2"},slot:"title"}),"Lente"!==e.campos.tipo&&"optisoul"!==e.sistemaPai?a("q-tab",{attrs:{slot:"title",label:"Composição",name:"profile-tab-3"},slot:"title"}):e._e(),"optisoul"!==e.sistemaPai?a("q-tab",{attrs:{slot:"title",label:"PCP",name:"profile-tab-4"},slot:"title"}):e._e(),a("q-tab-pane",{staticClass:"bg-white",attrs:{name:"profile-tab-1"}},[a("div",{staticClass:"gutter-sm items-top row"},[a("div",{staticClass:"col-12 col-md-8"},[a("div",{staticClass:"row gutter-x-md"},[a("campo",e._b({staticClass:"col-12 col-md-4",attrs:{filter:"",opcoes:e.opcoesGrupo,after:[{icon:"add_circle",handler:function(){e.abrirModalGrupo()}}]},nativeOn:{click:function(t){return e.leOpcoesGrupo(t)}},model:{value:e.campos.grupo,callback:function(t){e.$set(e.campos,"grupo",t)},expression:"campos.grupo"}},"campo",e.meta.grupo,!1)),a("campo",e._b({staticClass:"col-12 col-md-4",attrs:{filter:"",opcoes:e.opcoesSubGrupo,after:[{icon:"add_circle",handler:function(){e.abrirModalSubGrupo()}}]},nativeOn:{click:function(t){return e.leOpcoesSubGrupo(t)}},model:{value:e.campos.subGrupo,callback:function(t){e.$set(e.campos,"subGrupo",t)},expression:"campos.subGrupo"}},"campo",e.meta.subGrupo,!1)),a("campo",e._b({staticClass:"col-12 col-md-4",attrs:{opcoes:e.opcoesUnidade,after:[{icon:"add_circle",handler:function(){e.abrirModalUnidade()}}]},nativeOn:{click:function(t){return e.leOpcoesUnidade(t)}},model:{value:e.campos.unidade,callback:function(t){e.$set(e.campos,"unidade",t)},expression:"campos.unidade"}},"campo",e.meta.unidade,!1))],1),a("div",{staticClass:"row gutter-x-md"},[a("campo",e._b({model:{value:e.campos.garantiaDias,callback:function(t){e.$set(e.campos,"garantiaDias",t)},expression:"campos.garantiaDias"}},"campo",e.meta.garantiaDias,!1)),a("campo",e._b({staticClass:"col-12 col-md-8",model:{value:e.campos.garantiaDescricao,callback:function(t){e.$set(e.campos,"garantiaDescricao",t)},expression:"campos.garantiaDescricao"}},"campo",e.meta.garantiaDescricao,!1)),a("campo",e._b({attrs:{filter:"",opcoes:e.opcoesPerfilContabil},nativeOn:{click:function(t){return e.leOpcoesPerfilContabil(t)}},model:{value:e.campos.idPerfilContabil,callback:function(t){e.$set(e.campos,"idPerfilContabil",t)},expression:"campos.idPerfilContabil"}},"campo",e.meta.idPerfilContabil,!1)),a("campo",e._b({staticClass:"col-12 col-md-8",staticStyle:{"white-space":"normal"},attrs:{opcoes:e.opcoesOrigem},model:{value:e.campos.codigoOrigem,callback:function(t){e.$set(e.campos,"codigoOrigem",t)},expression:"campos.codigoOrigem"}},"campo",e.meta.codigoOrigem,!1))],1)]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"bg-light q-pt-xm q-pr-sm q-pl-sm q-pb-xm"},[a("campo",e._b({model:{value:e.campos.observacao,callback:function(t){e.$set(e.campos,"observacao",t)},expression:"campos.observacao"}},"campo",e.meta.observacao,!1))],1),a("div",{staticClass:"bg-light q-pt-xm q-pr-sm q-pl-sm q-pb-xm q-mt-sm"},[a("campo",e._b({model:{value:e.campos.aplicacao,callback:function(t){e.$set(e.campos,"aplicacao",t)},expression:"campos.aplicacao"}},"campo",e.meta.aplicacao,!1))],1)])]),a("div",{staticClass:"q-mt-md q-mb-sm row q-title"},[e._v("\n        Características\n      ")]),a("div",{staticClass:"row q-pl-md gutter-x-md"},[a("campo",e._b({staticClass:"col-12 col-md-3",attrs:{opcoes:{minimumValue:0,decimalPlaces:4}},model:{value:e.campos.peso,callback:function(t){e.$set(e.campos,"peso",t)},expression:"campos.peso"}},"campo",e.meta.peso,!1)),a("campo",e._b({staticClass:"col-12 col-md-3",attrs:{opcoes:{minimumValue:0,decimalPlaces:4}},model:{value:e.campos.densidade,callback:function(t){e.$set(e.campos,"densidade",t)},expression:"campos.densidade"}},"campo",e.meta.densidade,!1)),a("campo",e._b({staticClass:"col-12 col-md-3",attrs:{opcoes:{minimumValue:0,decimalPlaces:4}},model:{value:e.campos.comprimento,callback:function(t){e.$set(e.campos,"comprimento",t)},expression:"campos.comprimento"}},"campo",e.meta.comprimento,!1)),a("campo",e._b({staticClass:"col-12 col-md-3",attrs:{opcoes:{minimumValue:0,decimalPlaces:4}},model:{value:e.campos.largura,callback:function(t){e.$set(e.campos,"largura",t)},expression:"campos.largura"}},"campo",e.meta.largura,!1)),e.temLente?e._e():a("campo",e._b({staticClass:"col-12 col-md-3",attrs:{after:[{icon:"add_circle",handler:function(){e.abrirModalCor()}}],opcoes:e.opcoesCor},nativeOn:{click:function(t){return e.leOpcoesCor(t)}},model:{value:e.campos.cor,callback:function(t){e.$set(e.campos,"cor",t)},expression:"campos.cor"}},"campo",e.meta.cor,!1)),a("campo",e._b({staticClass:"col-12 col-md-3",model:{value:e.campos.embalagem,callback:function(t){e.$set(e.campos,"embalagem",t)},expression:"campos.embalagem"}},"campo",e.meta.embalagem,!1)),a("campo",e._b({staticClass:"col-12 col-md-3",attrs:{opcoes:{minimumValue:0,decimalPlaces:4}},model:{value:e.campos.capacidade,callback:function(t){e.$set(e.campos,"capacidade",t)},expression:"campos.capacidade"}},"campo",e.meta.capacidade,!1)),a("campo",e._b({staticClass:"col-12 col-md-3",model:{value:e.campos.capacidadeUnidade,callback:function(t){e.$set(e.campos,"capacidadeUnidade",t)},expression:"campos.capacidadeUnidade"}},"campo",e.meta.capacidadeUnidade,!1)),a("campo",e._b({staticClass:"col-12 col-md-3",model:{value:e.campos.validadeMeses,callback:function(t){e.$set(e.campos,"validadeMeses",t)},expression:"campos.validadeMeses"}},"campo",e.meta.validadeMeses,!1))],1)]),a("q-tab-pane",{staticClass:"bg-white",attrs:{name:"profile-tab-2"}},[e._l(e.campos.fornecedor,function(t,o){return a("div",{key:o,staticClass:"u-separador animate-pop"},[a("div",{staticClass:"gutter-x-sm items-center row"},[a("campo",e._b({staticClass:"col-6 col-sm-4",attrs:{value:t.descricaoContato,before:[{icon:"search",handler:function(){e.abrirModalFornecedor(o)}}],readonly:""},on:{click:function(t){e.abrirModalFornecedor(o)}}},"campo",e.meta.fornecedor.lista.idContato,!1)),a("input",{attrs:{type:"hidden"},domProps:{value:t.idContato}}),a("campo",e._b({staticClass:"col-4 col-sm-3",model:{value:t.descricao,callback:function(a){e.$set(t,"descricao",a)},expression:"fornecedor.descricao"}},"campo",e.meta.fornecedor.lista.descricao,!1)),a("campo",e._b({staticClass:"col-4 col-sm-3",model:{value:t.referencia,callback:function(a){e.$set(t,"referencia",a)},expression:"fornecedor.referencia"}},"campo",e.meta.fornecedor.lista.referencia,!1)),a("div",{staticClass:"col-2 col-sm-1 text-right"},[a("q-btn",{attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(t){e.removerItemDaLista(e.campos.fornecedor,o)}}},[a("q-tooltip",[e._v("Excluir")])],1)],1)],1)])}),a("div",{staticClass:"q-mt-md text-center"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Fornecedor",outline:"",size:"sm"},on:{click:function(t){e.adicionarItemNaLista(e.campos.fornecedor)}}})],1)],2),"Lente"!==e.campos.tipo?a("q-tab-pane",{staticClass:"bg-white",attrs:{name:"profile-tab-3"}},[a("div",{staticClass:"q-mb-md q-subheading"},[e._v("Composição")]),e._l(e.campos.composicao,function(t,o){return a("div",{key:o,staticClass:"u-separador animate-pop"},[a("div",{staticClass:"gutter-x-sm items-center row"},[a("campo",e._b({staticClass:"col-6 col-sm-2",attrs:{value:t.descricaoItemUtilizado,before:[{icon:"search",handler:function(){e.abrirModalItemUtilizado(o)}}],readonly:""},on:{click:function(t){e.abrirModalItemUtilizado(o)}}},"campo",e.meta.composicao.lista.idItemUtilizado,!1)),a("input",{attrs:{type:"hidden"},domProps:{value:t.idItemUtilizado}}),a("campo",e._b({staticClass:"col-6 col-sm-2",model:{value:t.ordem,callback:function(a){e.$set(t,"ordem",a)},expression:"comp.ordem"}},"campo",e.meta.composicao.lista.ordem,!1)),a("campo",e._b({staticClass:"col-6 col-sm-2",attrs:{disable:!0,readonly:!0},model:{value:e.campos.composicao[o].temporario.valor,callback:function(t){e.$set(e.campos.composicao[o].temporario,"valor",t)},expression:"campos.composicao[index].temporario.valor"}},"campo",e.meta.composicao.lista.temporario.valor,!1)),a("campo",e._b({staticClass:"col-6 col-sm-2",on:{input:function(t){e.atualizarItemComposicao(o)}},model:{value:t.quantidade,callback:function(a){e.$set(t,"quantidade",a)},expression:"comp.quantidade"}},"campo",e.meta.composicao.lista.quantidade,!1)),a("campo",e._b({staticClass:"col-6 col-sm-1",model:{value:t.temporario.unidade,callback:function(a){e.$set(t.temporario,"unidade",a)},expression:"comp.temporario.unidade"}},"campo",e.meta.composicao.lista.temporario.unidade,!1)),a("campo",e._b({staticClass:"col-6 col-sm-1",attrs:{disable:!0,readonly:!0},model:{value:t.temporario.total,callback:function(a){e.$set(t.temporario,"total",a)},expression:"comp.temporario.total"}},"campo",e.meta.composicao.lista.temporario.total,!1)),a("div",{staticClass:"col-2 col-sm-1 text-right"},[a("q-btn",{attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(t){e.removerComposicao(o)}}},[a("q-tooltip",[e._v("Excluir")])],1)],1)],1)])}),a("div",{staticClass:"q-mt-md text-center"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Composição",outline:"",size:"sm"},on:{click:e.adicionarComposicao}})],1)],2):e._e(),a("q-tab-pane",{staticClass:"bg-white",attrs:{name:"profile-tab-4"}},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",e._b({staticClass:"col-12 col-sm-6",model:{value:e.campos.numeroPop,callback:function(t){e.$set(e.campos,"numeroPop",t)},expression:"campos.numeroPop"}},"campo",e.meta.numeroPop,!1)),a("div",{staticClass:"col-12 col-sm-6"},[a("campo",e._b({staticClass:"bg-light q-px-sm",model:{value:e.campos.procedimento,callback:function(t){e.$set(e.campos,"procedimento",t)},expression:"campos.procedimento"}},"campo",e.meta.procedimento,!1))],1)],1),a("div",[a("div",{staticClass:"q-mb-md q-subheading"},[e._v("Qualidade")]),e._l(e.campos.qualidade,function(t,o){return a("div",{key:o,staticClass:"u-separador animate-pop"},[a("div",{staticClass:"gutter-x-sm items-center row"},[a("campo",e._b({staticClass:"col-12 col-sm-4",model:{value:t.descricao,callback:function(a){e.$set(t,"descricao",a)},expression:"qualid.descricao"}},"campo",e.meta.qualidade.lista.descricao,!1)),a("campo",e._b({staticClass:"col-12 col-sm-4",model:{value:t.especificacao,callback:function(a){e.$set(t,"especificacao",a)},expression:"qualid.especificacao"}},"campo",e.meta.qualidade.lista.especificacao,!1)),a("campo",e._b({staticClass:"col-10 col-sm-3",model:{value:t.limites,callback:function(a){e.$set(t,"limites",a)},expression:"qualid.limites"}},"campo",e.meta.qualidade.lista.limites,!1)),a("div",{staticClass:"col-2 col-sm-1 text-right"},[a("q-btn",{attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(t){e.removerItemDaLista(e.campos.qualidade,o)}}},[a("q-tooltip",[e._v("Excluir")])],1)],1)],1)])}),a("div",{staticClass:"q-mt-md text-center"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Qualidade",outline:"",size:"sm"},on:{click:function(t){e.adicionarItemNaLista(e.campos.qualidade)}}})],1)],2),a("div",[a("div",{staticClass:"q-mb-md q-subheading"},[e._v("Fase")]),e._l(e.campos.producaoFase,function(t,o){return a("div",{key:o,staticClass:"u-separador animate-pop"},[a("div",{staticClass:"gutter-x-sm items-center row"},[a("campo",e._b({staticClass:"col-6 col-sm-2",model:{value:t.ordem,callback:function(a){e.$set(t,"ordem",a)},expression:"fase.ordem"}},"campo",e.meta.producaoFase.lista.ordem,!1)),a("campo",e._b({staticClass:"col-12 col-sm-3",model:{value:t.descricao,callback:function(a){e.$set(t,"descricao",a)},expression:"fase.descricao"}},"campo",e.meta.producaoFase.lista.descricao,!1)),a("campo",{staticClass:"col-6 col-sm-2",attrs:{value:t.descricaoItemEquipamento,before:[{icon:"search",handler:function(){e.abrirModalEquipamento(o)}}],readonly:"",rotulo:"Equipamento"},on:{click:function(t){e.abrirModalEquipamento(o)}}}),a("input",{attrs:{type:"hidden"},domProps:{value:t.idItemEquipamento}}),a("campo",{staticClass:"col-6 col-sm-2",attrs:{value:t.descricaoItemFerramenta,before:[{icon:"search",handler:function(){e.abrirModalFerramenta(o)}}],readonly:"",rotulo:"Ferramenta"},on:{click:function(t){e.abrirModalFerramenta(o)}}}),a("input",{attrs:{type:"hidden"},domProps:{value:t.idItemFerramenta}}),a("campo",{staticClass:"col-6 col-sm-2",attrs:{value:t.descricaoItemServico,before:[{icon:"search",handler:function(){e.abrirModalServico(o)}}],readonly:"",rotulo:"Servico"},on:{click:function(t){e.abrirModalServico(o)}}}),a("input",{attrs:{type:"hidden"},domProps:{value:t.idItemServico}}),a("div",{staticClass:"col-2 col-sm-1 text-right"},[a("q-btn",{attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(t){e.removerItemDaLista(e.campos.producaoFase,o)}}},[a("q-tooltip",[e._v("Excluir")])],1)],1)],1)])}),a("div",{staticClass:"q-mt-md text-center"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Fase",outline:"",size:"sm"},on:{click:function(t){e.adicionarItemNaLista(e.campos.producaoFase)}}})],1)],2)])],1),a("div",{staticClass:"items-center justify-around q-my-lg row"},[e.campos.dataCadastro?a("small",[e._v("Data do cadastro: "+e._s(e._f("dataHora")(e.campos.dataCadastro)))]):e._e(),e.campos._DataHoraUltimaAlteracao?a("small",[e._v("Última alteração:\n      "+e._s(e._f("dataHora")(e.campos._DataHoraUltimaAlteracao)))]):e._e()]),a("q-layout-footer",{staticClass:"bg-light no-shadow q-pa-sm text-right u-bordaCima",attrs:{reveal:""}},[a("div",{staticClass:"u-container relative-position"},[e.campos.ativo?a("div",[a("q-btn",{attrs:{color:"faded",flat:"",label:"Cancelar"},on:{click:function(t){return t.preventDefault(),e.aoCancelar(t)}}}),a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"primary",label:"Salvar",type:"submit"}}),a("q-btn",{staticClass:"q-ml-lg",attrs:{color:"faded",flat:"",icon:"delete",round:""},on:{click:e.removerItem}},[a("q-tooltip",[e._v("Remover")])],1)],1):a("div",{staticClass:"q-py-sm text-faded"},[e._v("\n        Não é possível editar informações de um produto excluído.\n        "),a("q-btn",{staticClass:"q-ml-sm",attrs:{color:"primary"},on:{click:e.restaurarItem}},[e._v("Restaurar produto")])],1)])]),a("q-modal",{model:{value:e.modalFoto,callback:function(t){e.modalFoto=t},expression:"modalFoto"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Alterar foto")]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),a("div",{staticClass:"q-ma-sm"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.confirmarFoto(t)}}},[a("q-field",{staticClass:"q-ma-md"},[a("q-uploader",{ref:"fotoCampo",attrs:{"auto-expand":"",color:"none",extensions:".jpg,.jpeg","float-label":"Foto","hide-upload-button":"","hide-upload-progress":"","inverted-light":"",url:""},on:{add:e.trocarFoto}})],1),a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Confirmar"}})],1)],1)])],1)],1),a("q-modal",{model:{value:e.grupo.modal,callback:function(t){e.$set(e.grupo,"modal",t)},expression:"grupo.modal"}},[a("div",{staticClass:"q-ma-sm"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.criarGrupo(t)}}},[a("div",{staticClass:"q-ma-md"},[a("div",{staticClass:"row q-headline text-weight-bold"},[e._v("Cadastrar grupo")]),a("campo",{staticClass:"row",attrs:{erro:!!e.grupo.erro,"erro-rotulo":e.grupo.erro,maxlength:"50",rotulo:"Grupo"},model:{value:e.grupo.nome,callback:function(t){e.$set(e.grupo,"nome","string"===typeof t?t.trim():t)},expression:"grupo.nome"}})],1),a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(t){e.grupo.modal=!1}}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])])]),a("q-modal",{model:{value:e.marca.modal,callback:function(t){e.$set(e.marca,"modal",t)},expression:"marca.modal"}},[a("div",{staticClass:"q-ma-sm"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.criarMarca(t)}}},[a("div",{staticClass:"q-ma-md"},[a("div",{staticClass:"row q-headline text-weight-bold"},[e._v("Cadastrar marca")]),a("campo",{staticClass:"row",attrs:{erro:!!e.marca.erro,"erro-rotulo":e.marca.erro,maxlength:"50",rotulo:"Marca"},model:{value:e.marca.nome,callback:function(t){e.$set(e.marca,"nome","string"===typeof t?t.trim():t)},expression:"marca.nome"}})],1),a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(t){e.marca.modal=!1}}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])])]),a("q-modal",{model:{value:e.armacaoCor.modal,callback:function(t){e.$set(e.armacaoCor,"modal",t)},expression:"armacaoCor.modal"}},[a("div",{staticClass:"q-ma-sm"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.criarArmacaoCor(t)}}},[a("div",{staticClass:"q-ma-md"},[a("div",{staticClass:"row q-headline text-weight-bold"},[e._v("Cadastrar cor de armação")]),a("campo",{staticClass:"row",attrs:{erro:!!e.armacaoCor.erro,"erro-rotulo":e.armacaoCor.erro,maxlength:"50",rotulo:"Nome da cor"},model:{value:e.armacaoCor.nome,callback:function(t){e.$set(e.armacaoCor,"nome","string"===typeof t?t.trim():t)},expression:"armacaoCor.nome"}})],1),a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(t){e.armacaoCor.modal=!1}}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])])]),a("q-modal",{model:{value:e.armacaoMaterial.modal,callback:function(t){e.$set(e.armacaoMaterial,"modal",t)},expression:"armacaoMaterial.modal"}},[a("div",{staticClass:"q-ma-sm"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.criarArmacaoMaterial(t)}}},[a("div",{staticClass:"q-ma-md"},[a("div",{staticClass:"row q-headline text-weight-bold"},[e._v("Cadastrar material de armação")]),a("campo",{staticClass:"row",attrs:{erro:!!e.armacaoMaterial.erro,"erro-rotulo":e.armacaoMaterial.erro,maxlength:"50",rotulo:"Nome do material"},model:{value:e.armacaoMaterial.nome,callback:function(t){e.$set(e.armacaoMaterial,"nome","string"===typeof t?t.trim():t)},expression:"armacaoMaterial.nome"}})],1),a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(t){e.armacaoMaterial.modal=!1}}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])])]),a("q-modal",{model:{value:e.cor.modal,callback:function(t){e.$set(e.cor,"modal",t)},expression:"cor.modal"}},[a("div",{staticClass:"q-ma-sm"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.criarCor(t)}}},[a("div",{staticClass:"q-ma-md"},[a("div",{staticClass:"row q-headline text-weight-bold"},[e._v("Cadastrar cor de lente")]),a("campo",{staticClass:"row",attrs:{erro:!!e.cor.erro,"erro-rotulo":e.cor.erro,maxlength:"50",rotulo:"Nome da cor"},model:{value:e.cor.nome,callback:function(t){e.$set(e.cor,"nome","string"===typeof t?t.trim():t)},expression:"cor.nome"}})],1),a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(t){e.cor.modal=!1}}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])])]),a("q-modal",{model:{value:e.material.modal,callback:function(t){e.$set(e.material,"modal",t)},expression:"material.modal"}},[a("div",{staticClass:"q-ma-sm"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.criarMaterial(t)}}},[a("div",{staticClass:"q-ma-md"},[a("div",{staticClass:"row q-headline text-weight-bold"},[e._v("Cadastrar material de lente")]),a("campo",{staticClass:"row",attrs:{erro:!!e.material.erro,"erro-rotulo":e.material.erro,maxlength:"50",rotulo:"Nome do material"},model:{value:e.material.nome,callback:function(t){e.$set(e.material,"nome","string"===typeof t?t.trim():t)},expression:"material.nome"}})],1),a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(t){e.material.modal=!1}}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])])]),a("q-modal",{model:{value:e.tipoMontagem.modal,callback:function(t){e.$set(e.tipoMontagem,"modal",t)},expression:"tipoMontagem.modal"}},[a("div",{staticClass:"q-ma-sm"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.criarTipoMontagem(t)}}},[a("div",{staticClass:"q-ma-md"},[a("div",{staticClass:"row q-headline text-weight-bold"},[e._v("Cadastrar tipo de montagem de armação")]),a("campo",{staticClass:"row",attrs:{erro:!!e.tipoMontagem.erro,"erro-rotulo":e.tipoMontagem.erro,maxlength:"50",rotulo:"Tipo"},model:{value:e.tipoMontagem.nome,callback:function(t){e.$set(e.tipoMontagem,"nome","string"===typeof t?t.trim():t)},expression:"tipoMontagem.nome"}})],1),a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(t){e.tipoMontagem.modal=!1}}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])])]),a("q-modal",{model:{value:e.subGrupo.modal,callback:function(t){e.$set(e.subGrupo,"modal",t)},expression:"subGrupo.modal"}},[a("div",{staticClass:"q-ma-sm"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.criarSubGrupo(t)}}},[a("div",{staticClass:"q-ma-md"},[a("div",{staticClass:"row q-headline text-weight-bold"},[e._v("Cadastrar subGrupo")]),a("campo",{staticClass:"row",attrs:{erro:!!e.subGrupo.erro,"erro-rotulo":e.subGrupo.erro,maxlength:"50",rotulo:"subGrupo"},model:{value:e.subGrupo.nome,callback:function(t){e.$set(e.subGrupo,"nome","string"===typeof t?t.trim():t)},expression:"subGrupo.nome"}})],1),a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(t){e.subGrupo.modal=!1}}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])])]),a("q-modal",{model:{value:e.unidade.modal,callback:function(t){e.$set(e.unidade,"modal",t)},expression:"unidade.modal"}},[a("div",{staticClass:"q-ma-sm"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.criarUnidade(t)}}},[a("div",{staticClass:"q-ma-md"},[a("div",{staticClass:"row q-headline text-weight-bold"},[e._v("Cadastrar unidade")]),a("campo",{staticClass:"row",attrs:{erro:!!e.unidade.erro,"erro-rotulo":e.unidade.erro,maxlength:"50",rotulo:"unidade"},model:{value:e.unidade.nome,callback:function(t){e.$set(e.unidade,"nome","string"===typeof t?t.trim():t)},expression:"unidade.nome"}})],1),a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(t){e.unidade.modal=!1}}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])])]),a("prompt-item-novo",{attrs:{filtro:{tipo:"Equipamento",ativo:!0}},on:{selecionarItens:e.selecionarEquipamento},model:{value:e.modalEquipamento,callback:function(t){e.modalEquipamento=t},expression:"modalEquipamento"}}),a("prompt-item-novo",{attrs:{filtro:{tipo:"Ferramenta",ativo:!0}},on:{selecionarItens:e.selecionarFerramenta},model:{value:e.modalFerramenta,callback:function(t){e.modalFerramenta=t},expression:"modalFerramenta"}}),a("prompt-item-novo",{attrs:{filtro:{tipo:"Serviço",ativo:!0}},on:{selecionarItens:e.selecionarServico},model:{value:e.modalServico,callback:function(t){e.modalServico=t},expression:"modalServico"}}),a("prompt-item-novo",{attrs:{filtro:{tipo:"Tratamento",ativo:!0}},on:{selecionarItens:e.selecionarTratamento},model:{value:e.modalTratamento,callback:function(t){e.modalTratamento=t},expression:"modalTratamento"}}),a("prompt-item-novo",{attrs:{filtro:{ativo:!0}},on:{selecionarItens:e.selecionarItemUtilizado},model:{value:e.modalItemUtilizado,callback:function(t){e.modalItemUtilizado=t},expression:"modalItemUtilizado"}}),a("prompt-contato-novo",{attrs:{filtro:{ativo:!0}},on:{selecionar:e.selecionarFornecedor},model:{value:e.modalFornecedor,callback:function(t){e.modalFornecedor=t},expression:"modalFornecedor"}})],1):e._e()},x$=[];g$._withStripped=!0;var _$={components:{Avatar:Fc,Badge:Bd,Campo:Sl,PromptContatoNovo:Yd,PromptItemNovo:Zv,SeletorCest:Cp},computed:{badgeCor:function(){return this.campos.ativo?(this.campos.quantidadeDisponivel||0)<0?"negative":(this.campos.quantidadeDisponivel||0)<=(this.campos.quantidadeMinimaEstoque||0)?"orange":"positive":"faded"},descricaoConcatenada:function(){return Zn.item.descricaoConcatenada(this.campos)},ehProdutoControlado:function(){return"87089990"===this.campos.ncm},opcoesGenero:function(){return[{rotulo:"Masculino",valor:"Masculino"},{rotulo:"Feminino",valor:"Feminino"},{rotulo:"Unisex",valor:"Unisex"},{rotulo:"Masculino Kids",valor:"Masculino Kids"},{rotulo:"Feminino Kids",valor:"Feminino Kids"},{rotulo:"Unisex Kids",valor:"Unisex Kids"}]},opcoesGeometria:function(){return[{rotulo:"Asférica",valor:"Asférica"},{rotulo:"Esférica",valor:"Esférica"},{rotulo:"Tórica",valor:"Tórica"}]},opcoesLenteTipo:function(){return[{rotulo:"Monofocal",valor:"Monofocal"},{rotulo:"Bifocal",valor:"Bifocal"},{rotulo:"Multifocal",valor:"Multifocal"}]},opcoesOrigemOld:function(){return[{valor:"",rotulo:""},{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}]},opcoesSurfacada:function(){return[{rotulo:"Pronta",valor:"0"},{rotulo:"Surfaçada",valor:"1"}]},opcoesTipo:function(){return Zn.item.opcoesTipo},meta:function(){return WO},temArmacao:function(){return["Óculos Sol","Óculos Pronto","Armação"].includes(this.campos.tipo)},temDescricaoConcatenada:function(){return["Óculos Sol","Lente"].includes(this.campos.tipo)},temLente:function(){return["Óculos Sol","Óculos Pronto","Lente","Lente Contato"].includes(this.campos.tipo)}},data:function(){return{tabelasPrecoOriginal:[],tabelasPreco:[],campos:{},estoquePorEmpresa:[],opcoesArmacaoCor:[],opcoesArmacaoMaterial:[],opcoesCor:[],opcoesGrupo:[],opcoesMarca:[],opcoesMaterial:[],opcoesOrigem:[],opcoesPerfilContabil:[],opcoesSubGrupo:[],opcoesTipoMontagem:[],opcoesUnidade:[],modalEquipamento:!1,modalFerramenta:!1,modalFornecedor:!1,modalFoto:!1,modalItemUtilizado:!1,modalServico:!1,modalTratamento:!1,utilizaMarkupInvertido:!1,utilizaComposicaoValorReposicaoInvertido:!1,armacaoCor:{erro:"",modal:!1,nome:""},armacaoMaterial:{erro:"",modal:!1,nome:""},cor:{erro:"",modal:!1,nome:""},descricaoNcm:"",grupo:{erro:"",modal:!1,nome:""},marca:{erro:"",modal:!1,nome:""},material:{erro:"",modal:!1,nome:""},subGrupo:{erro:"",modal:!1,nome:""},tipoMontagem:{erro:"",modal:!1,nome:""},unidade:{erro:"",modal:!1,nome:""},sistemaPai:""}},methods:{indexarNcms:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.ncm=[],this.ncmIdx=void 0,He()._ncm.toArray().then(function(){var e=Le()(regeneratorRuntime.mark(function e(a){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a.forEach(function(e){t.ncm.push({id:e.id,ncm:e.ncm,descricao:e.descricao})}),o=t.ncm,e.next=4,dw()(function(){var e=this;this.ref("idx"),this.field("texto"),o.forEach(function(t,a){e.add({idx:a,texto:t.ncm+" "+t.descricao})})});case 4:t.ncmIdx=e.sent;case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),buscarNcm:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o,i,r,s,n,c,l,d,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(this.ncmIdx||a([]),/[^\d]/g.test(t)?(o=t.split(" "),o.forEach(function(e,t){e&&(/[^*]/g.test(e)?o[t]="+"+e+(/\*/g.test(e)?"":"~1"):(t>0?o[t-1]=o[t-1]+"*":o.length>0&&(o[1]="*"+o[1]),o[t]=""))}),t=oo(o.filter(function(e){return e}).join(" "))):t.length<8&&(t+="*"),i=[],r=!0,s=!1,n=void 0,e.prev=6,c=this.ncmIdx.search(t).slice(0,5)[Symbol.iterator]();!(r=(l=c.next()).done);r=!0)d=l.value,u=this.ncm[d.ref],i.push({label:u.ncm,sublabel:u.descricao,value:u.id});e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](6),s=!0,n=e.t0;case 14:e.prev=14,e.prev=15,r||null==c.return||c.return();case 17:if(e.prev=17,!s){e.next=20;break}throw n;case 20:return e.finish(17);case 21:return e.finish(14);case 22:a(i);case 23:case"end":return e.stop()}},e,this,[[6,10,14,22],[15,,17,21]])}));return function(t,a){return e.apply(this,arguments)}}(),abrirModalEquipamento:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,vs().list("item",{filterNi:{ativo:!0,tipo:"Equipamento"}});case 2:this.itensEquipamento=e.sent,ei.log("ItemFicha","abrirModalEquipamento()",this.itensEquipamento.length),this.indiceProducaoFase=t,this.modalEquipamento=!0;case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),abrirModalFerramenta:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:ei.log("ItemFicha","abrirModalFerramenta()"),this.indiceFerramenta=t,this.modalFerramenta=!0;case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),abrirModalServico:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,vs().list("item",{filterNi:{ativo:!0,tipo:"Serviço"}});case 2:this.itensServico=e.sent,ei.log("ItemFicha","abrirModalServico()",this.itensServico.length),this.indiceServico=t,this.modalServico=!0;case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),abrirModalTratamento:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,vs().list("item",{filterNi:{ativo:!0,tipo:"Tratamento"}});case 2:this.itensTratamento=e.sent,ei.log("ItemFicha","abrirModalTratamento()",this.itensTratamento.length),this.indiceTratamento=t,this.modalTratamento=!0;case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),abrirModalItemUtilizado:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,vs().list("item",{filterNi:{ativo:!0}});case 2:this.itensAtivos=e.sent,ei.log("ItemFicha","abrirModalItemUtilizado()",this.itensAtivos.length),this.indiceItemUtilizado=t,this.modalItemUtilizado=!0;case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),abrirModalFornecedor:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.indiceFornecedor=t,this.modalFornecedor=!0;case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),leOpcoesArmacaoCor:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.item.leValoresUnicos("amarcaoCor",this.campos.amarcaoCor);case 2:e.t0=function(e){return{rotulo:e,valor:e}},this.opcoesArmacaoCor=e.sent.map(e.t0);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),leOpcoesArmacaoMaterial:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.item.leValoresUnicos("armacaoMaterial",this.campos.armacaoMaterial);case 2:e.t0=function(e){return{rotulo:e,valor:e}},this.opcoesArmacaoMaterial=e.sent.map(e.t0);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),leOpcoesCor:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.item.leValoresUnicos("cor",this.campos.cor);case 2:e.t0=function(e){return{rotulo:e,valor:e}},this.opcoesCor=e.sent.map(e.t0);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),leOpcoesGrupo:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.item.leValoresUnicos("grupo",this.campos.grupo);case 2:e.t0=function(e){return{rotulo:e,valor:e}},this.opcoesGrupo=e.sent.map(e.t0);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),leOpcoesMarca:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.item.leValoresUnicos("marca",this.campos.marca);case 2:e.t0=function(e){return{rotulo:e,valor:e}},this.opcoesMarca=e.sent.map(e.t0);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),leOpcoesMaterial:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.item.leValoresUnicos("material",this.campos.material);case 2:e.t0=function(e){return{rotulo:e,valor:e}},this.opcoesMaterial=e.sent.map(e.t0);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),leOpcoesSubGrupo:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.item.leValoresUnicos("subGrupo",this.campos.subGrupo);case 2:e.t0=function(e){return{rotulo:e,valor:e}},this.opcoesSubGrupo=e.sent.map(e.t0);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),leOpcoesTipoMontagem:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.item.leValoresUnicos("tipoMontagem",this.campos.tipoMontagem);case 2:e.t0=function(e){return{rotulo:e,valor:e}},this.opcoesTipoMontagem=e.sent.map(e.t0);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),leOpcoesUnidade:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn.item.leValoresUnicos("unidade",this.campos.unidade);case 2:e.t0=function(e){return{rotulo:e,valor:e}},this.opcoesUnidade=e.sent.map(e.t0);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),leOpcoesPerfilContabil:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,vs().list("perfilContabil");case 2:e.t0=function(e,t){return e.descricao.localeCompare(t.descricao,void 0,{sensitivity:"base"})},e.t1=function(e){return{rotulo:e.descricao,valor:e.id}},t=e.sent.sort(e.t0).map(e.t1),this.opcoesPerfilContabil=[{rotulo:"",valor:""}].concat(la()(t));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),selecionarEquipamento:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=Object.keys(t)[0],o=t[a].item,ei.log("ItemFicha","selecionarEquipamento",o,this.indiceProducaoFase),i=this.campos.producaoFase[this.indiceProducaoFase],i.itemEquipamento=o,i.idItemEquipamento=a,i.descricaoItemEquipamento=o.descricao||"",this.modalEquipamento=!1;case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),selecionarFerramenta:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=Object.keys(t)[0],o=t[a].item,ei.log("ItemFicha","selecionarFerramenta",o,this.indiceFerramenta),i=this.campos.producaoFase[this.indiceFerramenta],i.itemFerramenta=o,i.idItemFerramenta=a,i.descricaoItemFerramenta=o.descricao||"",this.modalFerramenta=!1;case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),selecionarServico:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=Object.keys(t)[0],o=t[a].item,ei.log("ItemFicha","selecionarServico",o,this.indiceServico),i=this.campos.producaoFase[this.indiceServico],i.itemServico=o,i.idItemServico=a,i.descricaoItemServico=o.descricao||"",this.modalServico=!1;case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),selecionarTratamento:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=Object.keys(t)[0],o=t[a].item,ei.log("ItemFicha","selecionarTratamento",o,this.indiceTratamento),i=this.campos.composicao[this.indiceTratamento],i.idItemUtilizado=a,e.next=7,this.atualizarItemComposicao(this.indiceTratamento,o);case 7:this.modalTratamento=!1;case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),selecionarItemUtilizado:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=Object.keys(t)[0],o=t[a].item,ei.log("ItemFicha","selecionarItemUtilizado",o,this.indiceItemUtilizado),i=this.campos.composicao[this.indiceItemUtilizado],i.idItemUtilizado=a,e.next=7,this.atualizarItemComposicao(this.indiceItemUtilizado,o);case 7:this.modalItemUtilizado=!1;case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),selecionarFornecedor:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:ei.log("ItemFicha","selecionarFornecedor",a,this.indiceFornecedor),o=this.campos.fornecedor[this.indiceFornecedor],o.contato=a,o.idContato=t,o.descricaoContato=a.apelido||"",this.modalFornecedor=!1;case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),abrirModalArmacaoCor:function(){this.armacaoCor={modal:!0,nome:"",erro:""}},abrirModalArmacaoMaterial:function(){this.armacaoMaterial={modal:!0,nome:"",erro:""}},abrirModalCor:function(){this.cor={modal:!0,nome:"",erro:""}},abrirModalFoto:function(){this.modalFoto=!0,this.imagemModalFoto="",this.$refs.fotoCampo.reset()},abrirModalGrupo:function(){this.grupo={modal:!0,nome:"",erro:""}},abrirModalMarca:function(){this.marca={modal:!0,nome:"",erro:""}},abrirModalMaterial:function(){this.material={modal:!0,nome:"",erro:""}},abrirModalSubGrupo:function(){this.subGrupo={modal:!0,nome:"",erro:""}},abrirModalTipoMontagem:function(){this.tipoMontagem={modal:!0,nome:"",erro:""}},abrirModalUnidade:function(){this.unidade={modal:!0,nome:"",erro:""}},adicionarItemNaLista:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("ItemFicha","adicionarItemNaLista"),t.push({}),e.next=4,Zn.item.completa(this.campos);case 4:this.campos=e.sent,this.$set(t,t.length-1,t[t.length-1]);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),adicionarComposicao:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:ei.log("ItemFicha","adicionarComposicao",at()({},this.campos.composicao)),this.campos.composicao.push({idItemUtilizado:"",ordem:0,quantidade:1,temporario:{unidade:"",valor:0,total:0}});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),adicionarImagem:function(e){var t=this;this.$resizeImage(e[0],{crop:!0,outputFormat:"jpg",targetHeight:200,targetWidth:200},function(e,a){t.campos.imagem=a})},aoCancelar:function(){var e=this;if(!this.verificarSeAlterouCampos())return this.$q.notifyPositive("Não há dados alterados."),void this.atualizar();this.$q.dialog({cancel:"Continuar",message:"Ao continuar você irá perder todas as modificações.",ok:"Manter",title:"Tem certeza?"}).catch(function(){e.atualizar()})},atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=Yo("ItemFichaAtualizar"),e.prev=1,e.next=4,Zn.item.leCompleto(this.$route.params.id);case 4:return this.itemCompleto=e.sent,Zn.item.selecionado=this.itemCompleto.atual,this.campos=this.itemCompleto.atual,this.utilizaMarkupInvertido=!this.campos.utilizaMarkup,this.utilizaComposicaoValorReposicaoInvertido=!this.campos.utilizaComposicaoValorReposicao,this.opcoesArmacaoCor=[this.campos.amarcaoCor||""].map(function(e){return{rotulo:e,valor:e}}),this.opcoesArmacaoMaterial=[this.campos.armacaoMaterial||""].map(function(e){return{rotulo:e,valor:e}}),this.opcoesCor=[this.campos.cor||""].map(function(e){return{rotulo:e,valor:e}}),this.opcoesGrupo=[this.campos.grupo||""].map(function(e){return{rotulo:e,valor:e}}),this.opcoesMarca=[this.campos.marca||""].map(function(e){return{rotulo:e,valor:e}}),this.opcoesMaterial=[this.campos.material||""].map(function(e){return{rotulo:e,valor:e}}),this.opcoesSubGrupo=[this.campos.subGrupo||""].map(function(e){return{rotulo:e,valor:e}}),this.opcoesTipoMontagem=[this.campos.tipoMontagem||""].map(function(e){return{rotulo:e,valor:e}}),this.opcoesUnidade=[this.campos.unidade||""].map(function(e){return{rotulo:e,valor:e}}),e.next=20,vs().get("perfilContabil",this.campos.idPerfilContabil);case 20:return e.t0=e.sent,e.t1=function(e){return{rotulo:e.descricao,valor:e.id}},this.opcoesPerfilContabil=[e.t0].map(e.t1),e.next=25,vs().list("impostoParametro",{filter:{impParamTipoCod:2}});case 25:e.t2=function(e){return{rotulo:e.numero.trim()+" - "+e.descr,valor:Number(e.numero)}},e.t3=function(e,t){return Number(e.valor)-Number(t.valor)},this.opcoesOrigem=e.sent.map(e.t2).sort(e.t3),e.t4=regeneratorRuntime.keys(this.campos.composicao);case 29:if((e.t5=e.t4()).done){e.next=35;break}return a=e.t5.value,e.next=33,this.atualizarItemComposicao(a);case 33:e.next=29;break;case 35:return this.itemCompleto.original.composicao=ea(this.campos.composicao),e.next=38,vs().first("_ncm",{filter:{ncm:this.campos.ncm}});case 38:if(e.t6=e.sent.descricao,e.t6){e.next=41;break}e.t6="";case 41:return this.descricaoNcm=e.t6,e.next=44,Zn.estoqueSaldoProdutoEmpresa.leEstoquePorEmpresa(this.campos.id);case 44:this.estoquePorEmpresa=e.sent,this.carregarTabelasPreco(),e.next=51;break;case 48:e.prev=48,e.t7=e["catch"](1),this.$q.notifyError("Ocorreu erro ao consultar produto",e.t7);case 51:return e.prev=51,Wo(t),e.finish(51);case 54:case"end":return e.stop()}},e,this,[[1,48,51,54]])}));return function(){return e.apply(this,arguments)}}(),atualizarTabelasPreco:function(){var e=!0,t=!1,a=void 0;try{for(var o,i=this.tabelasPreco.map(function(e){return e.id})[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var r=o.value;this.atualizarTabelaPreco(r)}}catch(e){t=!0,a=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw a}}},atualizarTabelaPreco:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=this.tabelasPreco.find(function(e){return e.id===t&&!e.habilitada}),a){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,He().itemTabelaPreco.get(a.id);case 5:if(o=e.sent,o.id){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,Zn.itemTabelaPreco.obterValores(o,this.campos);case 10:if(e.t0=e.sent,e.t0){e.next=13;break}e.t0={};case 13:i=e.t0,a.valorVenda=i.valorVenda||0,a.maximoDesconto=i.maximoDesconto||0;case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),carregarTabelasPreco:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=[],e.next=3,He().itemTabelaPreco.filter(function(e){return 1===e.tabelaMaster}).toArray();case 3:t=e.sent,o=!0,i=!1,r=void 0,e.prev=7,s=t[Symbol.iterator]();case 9:if(o=(n=s.next()).done){e.next=26;break}if(c=n.value,!c.id){e.next=23;break}return l={},e.next=15,Zn.itemTabelaPreco.obterValores(c,this.campos);case 15:if(e.t0=e.sent,e.t0){e.next=18;break}e.t0={};case 18:d=e.t0,l.habilitada=!d.tabelaMaster,l.valorVenda=d.valorVenda||0,l.maximoDesconto=d.maximoDesconto||0,a.push(at()({id:c.id,descricao:c.descricao},l));case 23:o=!0,e.next=9;break;case 26:e.next=32;break;case 28:e.prev=28,e.t1=e["catch"](7),i=!0,r=e.t1;case 32:e.prev=32,e.prev=33,o||null==s.return||s.return();case 35:if(e.prev=35,!i){e.next=38;break}throw r;case 38:return e.finish(35);case 39:return e.finish(32);case 40:a=Object(ot["orderBy"])(a,"descricao","asc"),this.tabelasPreco=a,this.tabelasPrecoOriginal=ea(a);case 43:case"end":return e.stop()}},e,this,[[7,28,32,40],[33,,35,39]])}));return function(){return e.apply(this,arguments)}}(),salvarTabelasPreco:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this.tabelasPreco.filter(function(e){return!e.habilitada}),a=!0,o=!1,i=void 0,e.prev=4,r=regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=n.value,e.next=3,He().itemTabelaPreco.filter(function(e){return!e.tabelaMaster&&e.idItem===v.campos.id&&e.idItemTabelaPrecoPai===t.id}).toArray();case 3:a=e.sent,o=!0,i=!1,r=void 0,e.prev=7,s=a[Symbol.iterator]();case 9:if(o=(c=s.next()).done){e.next=18;break}return l=c.value,e.next=13,He().itemTabelaPreco.delete(l.id);case 13:return e.next=15,so("remover","itemTabelaPreco",l.id);case 15:o=!0,e.next=9;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e["catch"](7),i=!0,r=e.t0;case 24:e.prev=24,e.prev=25,o||null==s.return||s.return();case 27:if(e.prev=27,!i){e.next=30;break}throw r;case 30:return e.finish(27);case 31:return e.finish(24);case 32:case"end":return e.stop()}},e,null,[[7,20,24,32],[25,,27,31]])}),s=t[Symbol.iterator]();case 7:if(a=(n=s.next()).done){e.next=12;break}return e.delegateYield(r(),"t0",9);case 9:a=!0,e.next=7;break;case 12:e.next=18;break;case 14:e.prev=14,e.t1=e["catch"](4),o=!0,i=e.t1;case 18:e.prev=18,e.prev=19,a||null==s.return||s.return();case 21:if(e.prev=21,!o){e.next=24;break}throw i;case 24:return e.finish(21);case 25:return e.finish(18);case 26:t=this.tabelasPreco.filter(function(e){return e.habilitada}),c=!0,l=!1,d=void 0,e.prev=30,u=regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=p.value,e.next=3,He().itemTabelaPreco.filter(function(e){return!e.tabelaMaster&&e.idItem===v.campos.id&&e.idItemTabelaPrecoPai===t.id}).toArray();case 3:a=e.sent,o=!0,i=!1,r=void 0,e.prev=7,s=a[Symbol.iterator]();case 9:if(o=(n=s.next()).done){e.next=22;break}if(c=n.value,l={},c.valorVenda!==t.valorVenda&&(l.valorVenda=t.valorVenda),c.maximoDesconto!==t.maximoDesconto&&(l.maximoDesconto=t.maximoDesconto),!Object.keys(l).length){e.next=19;break}return e.next=17,He().itemTabelaPreco.update(c.id,l);case 17:return e.next=19,so("atualizar","itemTabelaPreco",c.id,l);case 19:o=!0,e.next=9;break;case 22:e.next=28;break;case 24:e.prev=24,e.t0=e["catch"](7),i=!0,r=e.t0;case 28:e.prev=28,e.prev=29,o||null==s.return||s.return();case 31:if(e.prev=31,!i){e.next=34;break}throw r;case 34:return e.finish(31);case 35:return e.finish(28);case 36:if(a.length){e.next=42;break}return d={id:hi(),tabelaMaster:0,descricao:v.campos.descricao,idItemTabelaPrecoPai:t.id,idItem:v.campos.id,valorVenda:t.valorVenda,maximoDesconto:t.maximoDesconto},e.next=40,He().itemTabelaPreco.put(d);case 40:return e.next=42,so("adicionar","itemTabelaPreco",d.id,d);case 42:case"end":return e.stop()}},e,null,[[7,24,28,36],[29,,31,35]])}),m=t[Symbol.iterator]();case 33:if(c=(p=m.next()).done){e.next=38;break}return e.delegateYield(u(),"t2",35);case 35:c=!0,e.next=33;break;case 38:e.next=44;break;case 40:e.prev=40,e.t3=e["catch"](30),l=!0,d=e.t3;case 44:e.prev=44,e.prev=45,c||null==m.return||m.return();case 47:if(e.prev=47,!l){e.next=50;break}throw d;case 50:return e.finish(47);case 51:return e.finish(44);case 52:case"end":return e.stop()}},e,this,[[4,14,18,26],[19,,21,25],[30,40,44,52],[45,,47,51]])}));return function(){return e.apply(this,arguments)}}(),atualizarItemComposicao:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:ei.log("ItemFicha","atualizarItemComposicao",t),o=this.campos.composicao[t],o.temporario||(o.temporario={}),o.item=a||o.item||{},o.descricaoItemUtilizado=o.item.descricao||"",o.temporario.unidade=o.item.unidade||"",o.temporario.valor=o.item.valorCustoReposicao||0,o.temporario.total=dt((o.temporario.valor||0)*(o.quantidade||0),2),this.atualizarCustoReposicao(),this.$set(this.campos.composicao,t,o);case 10:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),atualizarValorVendaLucro:function(){if(this.utilizaMarkupInvertido){if(this.campos.valorCustoReposicao&&this.campos.valorVenda){var e=100*(this.campos.valorVenda-this.campos.valorCustoReposicao)/this.campos.valorVenda;this.campos.percentualMarkup=dt(e,2)}}else{var t=(this.campos.percentualMarkup||0)/100;if(this.campos.valorCustoReposicao&&t<1){var a=this.campos.valorCustoReposicao/(1-t);a&&(this.campos.valorVenda=dt(a,2))}}},atualizarCustoReposicao:function(){this.campos&&this.campos.id&&!this.utilizaComposicaoValorReposicaoInvertido&&(this.campos.valorCustoReposicao=this.campos.composicao.reduce(function(e,t){return e+t.temporario.total},0))},completarCodigoBarras:function(){!this.campos.codigoBarras&&this.campos.codigoItem&&(this.campos.codigoBarras=oa(String(this.campos.codigoItem)))},confirmarFoto:function(){ei.log("ItemFicha","confirmarFoto"),this.modalFoto=!1,this.campos.imagem=this.imagemModalFoto},criarGrupo:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.grupo.nome){e.next=4;break}return this.grupo.erro="Favor preencher",e.abrupt("return");case 4:if(!(this.grupo.nome.length>50)){e.next=7;break}return this.grupo.erro="Máximo 50 caracteres",e.abrupt("return");case 7:if(!this.opcoesGrupo.find(function(e){return e.rotulo.toUpperCase()===t.grupo.nome.toUpperCase()})){e.next=10;break}return this.grupo.erro="Nome já existente",e.abrupt("return");case 10:this.grupo.modal=!1,this.campos.grupo=this.grupo.nome,this.opcoesGrupo=[this.campos.grupo||""].map(function(e){return{rotulo:e,valor:e}}),this.$q.notifyPositive("Grupo criado com sucesso."),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](0),this.$q.notifyError("Ocorreu um erro ao criar grupo",e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])}));return function(){return e.apply(this,arguments)}}(),criarMarca:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.marca.nome){e.next=4;break}return this.marca.erro="Favor preencher",e.abrupt("return");case 4:if(!(this.marca.nome.length>50)){e.next=7;break}return this.marca.erro="Máximo 50 caracteres",e.abrupt("return");case 7:if(!this.opcoesMarca.find(function(e){return e.rotulo.toUpperCase()===t.marca.nome.toUpperCase()})){e.next=10;break}return this.marca.erro="Nome já existente",e.abrupt("return");case 10:this.marca.modal=!1,this.campos.marca=this.marca.nome,this.opcoesMarca=[this.campos.marca||""].map(function(e){return{rotulo:e,valor:e}}),this.$q.notifyPositive("Marca criada com sucesso."),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](0),this.$q.notifyError("Ocorreu um erro ao criar marca",e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])}));return function(){return e.apply(this,arguments)}}(),criarArmacaoCor:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.armacaoCor.nome){e.next=4;break}return this.armacaoCor.erro="Favor preencher",e.abrupt("return");case 4:if(!(this.armacaoCor.nome.length>50)){e.next=7;break}return this.armacaoCor.erro="Máximo 50 caracteres",e.abrupt("return");case 7:if(!this.opcoesArmacaoCor.find(function(e){return e.rotulo.toUpperCase()===t.armacaoCor.nome.toUpperCase()})){e.next=10;break}return this.armacaoCor.erro="Nome já existente",e.abrupt("return");case 10:this.armacaoCor.modal=!1,this.campos.amarcaoCor=this.armacaoCor.nome,this.opcoesArmacaoCor=[this.campos.amarcaoCor||""].map(function(e){return{rotulo:e,valor:e}}),this.$q.notifyPositive("Cor criada com sucesso."),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](0),this.$q.notifyError("Ocorreu um erro ao criar Cor",e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])}));return function(){return e.apply(this,arguments)}}(),criarArmacaoMaterial:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.armacaoMaterial.nome){e.next=4;break}return this.armacaoMaterial.erro="Favor preencher",e.abrupt("return");case 4:if(!(this.armacaoMaterial.nome.length>50)){e.next=7;break}return this.armacaoMaterial.erro="Máximo 50 caracteres",e.abrupt("return");case 7:if(!this.opcoesArmacaoMaterial.find(function(e){return e.rotulo.toUpperCase()===t.armacaoMaterial.nome.toUpperCase()})){e.next=10;break}return this.armacaoMaterial.erro="Nome já existente",e.abrupt("return");case 10:this.armacaoMaterial.modal=!1,this.campos.armacaoMaterial=this.armacaoMaterial.nome,this.opcoesArmacaoMaterial=[this.campos.armacaoMaterial||""].map(function(e){return{rotulo:e,valor:e}}),this.$q.notifyPositive("Material criado com sucesso."),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](0),this.$q.notifyError("Ocorreu um erro ao criar Material",e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])}));return function(){return e.apply(this,arguments)}}(),criarCor:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.cor.nome){e.next=4;break}return this.cor.erro="Favor preencher",e.abrupt("return");case 4:if(!(this.cor.nome.length>50)){e.next=7;break}return this.cor.erro="Máximo 50 caracteres",e.abrupt("return");case 7:if(!this.opcoesCor.find(function(e){return e.rotulo.toUpperCase()===t.cor.nome.toUpperCase()})){e.next=10;break}return this.cor.erro="Nome já existente",e.abrupt("return");case 10:this.cor.modal=!1,this.campos.cor=this.cor.nome,this.opcoesCor=[this.campos.cor||""].map(function(e){return{rotulo:e,valor:e}}),this.$q.notifyPositive("Cor criada com sucesso."),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](0),this.$q.notifyError("Ocorreu um erro ao criar cor",e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])}));return function(){return e.apply(this,arguments)}}(),criarMaterial:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.material.nome){e.next=4;break}return this.material.erro="Favor preencher",e.abrupt("return");case 4:if(!(this.material.nome.length>50)){e.next=7;break}return this.material.erro="Máximo 50 caracteres",e.abrupt("return");case 7:if(!this.opcoesMaterial.find(function(e){return e.rotulo.toUpperCase()===t.material.nome.toUpperCase()})){e.next=10;break}return this.material.erro="Nome já existente",e.abrupt("return");case 10:this.material.modal=!1,this.campos.material=this.material.nome,this.opcoesMaterial=[this.campos.material||""].map(function(e){return{rotulo:e,valor:e}}),this.$q.notifyPositive("Material criado com sucesso."),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](0),this.$q.notifyError("Ocorreu um erro ao criar material",e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])}));return function(){return e.apply(this,arguments)}}(),criarTipoMontagem:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.tipoMontagem.nome){e.next=4;break}return this.tipoMontagem.erro="Favor preencher",e.abrupt("return");case 4:if(!(this.tipoMontagem.nome.length>50)){e.next=7;break}return this.tipoMontagem.erro="Máximo 50 caracteres",e.abrupt("return");case 7:if(!this.opcoesTipoMontagem.find(function(e){return e.rotulo.toUpperCase()===t.tipoMontagem.nome.toUpperCase()})){e.next=10;break}return this.tipoMontagem.erro="Nome já existente",e.abrupt("return");case 10:this.tipoMontagem.modal=!1,this.campos.tipoMontagem=this.tipoMontagem.nome,this.opcoesTipoMontagem=[this.campos.tipoMontagem||""].map(function(e){return{rotulo:e,valor:e}}),this.$q.notifyPositive("Tipo de montagem criado com sucesso."),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](0),this.$q.notifyError("Ocorreu um erro ao criar tipo de montagem",e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])}));return function(){return e.apply(this,arguments)}}(),criarSubGrupo:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.subGrupo.nome){e.next=4;break}return this.subGrupo.erro="Favor preencher",e.abrupt("return");case 4:if(!(this.subGrupo.nome.length>50)){e.next=7;break}return this.subGrupo.erro="Máximo 50 caracteres",e.abrupt("return");case 7:if(!this.opcoesSubGrupo.find(function(e){return e.rotulo.toUpperCase()===t.subGrupo.nome.toUpperCase()})){e.next=10;break}return this.subGrupo.erro="Nome já existente",e.abrupt("return");case 10:this.subGrupo.modal=!1,this.campos.subGrupo=this.subGrupo.nome,this.opcoesSubGrupo=[this.campos.subGrupo||""].map(function(e){return{rotulo:e,valor:e}}),this.$q.notifyPositive("SubGrupo criado com sucesso."),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](0),this.$q.notifyError("Ocorreu um erro ao criar SubGrupo",e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])}));return function(){return e.apply(this,arguments)}}(),criarUnidade:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.unidade.nome){e.next=4;break}return this.unidade.erro="Favor preencher",e.abrupt("return");case 4:if(!(this.unidade.nome.length>50)){e.next=7;break}return this.unidade.erro="Máximo 50 caracteres",e.abrupt("return");case 7:if(!this.opcoesUnidade.find(function(e){return e.rotulo.toUpperCase()===t.unidade.nome.toUpperCase()})){e.next=10;break}return this.unidade.erro="Nome já existente",e.abrupt("return");case 10:this.unidade.modal=!1,this.campos.unidade=this.unidade.nome,this.opcoesUnidade=[this.campos.unidade||""].map(function(e){return{rotulo:e,valor:e}}),this.$q.notifyPositive("Unidade criada com sucesso."),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](0),this.$q.notifyError("Ocorreu um erro ao criar unidade",e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])}));return function(){return e.apply(this,arguments)}}(),removerConfirma:function(){return this.$q.dialog({cancel:!0,color:"negative",title:"Tem certeza?",message:"Ao continuar você irá remover este item.",ok:"Remover"})},removerItem:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=!1,e.prev=1,e.next=4,this.removerConfirma();case 4:t=!0,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),t=!1;case 10:if(this.$q.loading.show(),e.prev=11,!t){e.next=19;break}return this.campos.ativo=!1,e.next=16,Zn.item.grava(this.itemCompleto);case 16:return e.next=18,this.atualizar();case 18:this.$q.notifyPositive("O produto foi excluído com sucesso.");case 19:e.next=24;break;case 21:e.prev=21,e.t1=e["catch"](11),this.$q.notifyError("Ocorreu um erro ao remover produto",e.t1);case 24:return e.prev=24,this.$q.loading.hide(),e.finish(24);case 27:case"end":return e.stop()}},e,this,[[1,7],[11,21,24,27]])}));return function(){return e.apply(this,arguments)}}(),removerItemDaLista:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.removerConfirma();case 3:return t.splice(a,1),e.next=6,Zn.item.completa(this.campos);case 6:this.campos=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),e.t0.message&&this.$q.notifyError("Ocorreu um erro ao remover",e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t,a){return e.apply(this,arguments)}}(),removerComposicao:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.removerConfirma();case 3:this.campos.composicao.splice(t,1),0===this.campos.composicao.length&&this.adicionarComposicao(),this.atualizarCustoReposicao(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),e.t0.message&&this.$q.notifyError("Ocorreu um erro ao remover",e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),removerImagem:function(){delete this.campo.imagem},restaurarItem:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$q.loading.show(),e.prev=1,this.campos.ativo=!0,e.next=5,Zn.item.grava(this.itemCompleto);case 5:return e.next=7,this.atualizar();case 7:this.$q.notifyPositive("O produto foi restaurado com sucesso."),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),this.$q.notifyError("Ocorreu um erro ao restaurar",e.t0);case 13:return e.prev=13,this.$q.loading.hide(),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[1,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),salvarItem:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(ei.log("ItemFicha","salvarItem"),this.verificarSeAlterouCampos()){e.next=3;break}return e.abrupt("return",this.$q.notifyPositive("Não há dados alterados."));case 3:return e.next=5,Co(this.$v.campos,this);case 5:if(e.sent){e.next=7;break}return e.abrupt("return",this.$q.notify("Há erros de validação no formulário."));case 7:return this.completarCodigoBarras(),e.prev=8,this.$q.loading.show(),e.next=12,Zn.item.grava(this.itemCompleto);case 12:return e.next=14,this.salvarTabelasPreco();case 14:return e.next=16,this.atualizar();case 16:this.$q.notifyPositive("Os dados do produto foram salvos com sucesso."),e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](8),this.$q.notifyError("Ocorreu um erro ao salvar",e.t0);case 22:return e.prev=22,this.$q.loading.hide(),e.finish(22);case 25:case"end":return e.stop()}},e,this,[[8,19,22,25]])}));return function(){return e.apply(this,arguments)}}(),conferirNcm:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t={},8!==this.campos.ncm.length||/[^\d]/g.test(this.campos.ncm)||(t=this.ncm.find(function(e){return e.ncm===a.campos.ncm})||{}),!t.id&&this.campos.ncm&&this.campos.idNcm&&(t=this.ncm[this.ncmIdx[this.campos.idNcm]]||{}),this.campos.ncm=t.ncm||"",this.campos.idNcm=t.id||"",this.descricaoNcm=t.descricao||"";case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),selecionarNcm:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:ei.log("ItemFicha","selecionarNcm",t),this.campos.ncm=t.label||"",this.campos.idNcm=t.value||"",this.descricaoNcm=t.sublabel||"";case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),trocarFoto:function(e){var t=this;this.$resizeImage(e[0],{crop:!0,outputFormat:"jpg",targetHeight:200,targetWidth:200},function(e,a){t.imagemModalFoto=a})},verificarSeAlterouCampos:function(){var e=va(this.itemCompleto.original,this.campos);return ei.log("ItemFicha","verificarSeAlterouCampos",null!==e,e),e||(e=va(this.tabelasPrecoOriginal,this.tabelasPreco)),null!==e}},mixins:[cw],validations:{campos:{descricao:{minLength:Object(rl["minLength"])(2),required:rl["required"]},referencia:{validar:Zn.item.validarReferenciaUnica}}},watch:{"campos.percentualMarkup":function(){this.atualizarValorVendaLucro()},utilizaComposicaoValorReposicaoInvertido:function(){this.campos.utilizaComposicaoValorReposicao=!this.utilizaComposicaoValorReposicaoInvertido,this.atualizarCustoReposicao()},utilizaMarkupInvertido:function(){this.campos.utilizaMarkup=!this.utilizaMarkupInvertido,this.atualizarValorVendaLucro()},"campos.valorCustoReposicao":function(){this.atualizarValorVendaLucro()},"campos.valorVenda":function(){ei.log("ItemFicha","watch campos.valorVenda"),this.atualizarValorVendaLucro()},descricaoConcatenada:function(e){this.campos.descricaoConcatenada=e},"$route.params.id":function(){this.atualizar()}},created:function(){ei.log("ItemFicha","created()"),this.sistemaPai=co(),this.atualizar(),this.indexarNcms()}},q$=_$,S$=Object(sc["a"])(q$,g$,x$,!1,null,null,null);S$.options.__file="ItemFicha.vue";var I$,F$,w$=S$.exports,y$={},N$=Object(sc["a"])(y$,I$,F$,!1,null,null,null);N$.options.__file="MenuFiscal.vue";var k$=N$.exports,M$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Layout"},[a("barra-topo"),a("q-page-container",[a("router-view")],1)],1)},P$=[];M$._withStripped=!0;var D$={components:{BarraTopo:El}},E$=D$,T$=Object(sc["a"])(E$,M$,P$,!1,null,null,null);T$.options.__file="LayoutBarraTopo.vue";var A$=T$.exports,O$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"u-container"},[e.sincronismoStatus.carregou&&!e.sincronismoStatus.concluidoErp?[a("q-toolbar",{staticClass:"q-py-sm",attrs:{color:"none"}},[a("q-toolbar-title",[e._v("\n        Sincronizando...\n        "),a("div",{staticClass:"q-body-2"},[e._v("\n          "+e._s(e.$db.cache.get("bancoDeDados"))+" - "+e._s(e.sincronismoStatus.percentagemErp)+"\n        ")]),a("div",{staticClass:"q-caption q-mt-md"},[e._v("\n          Utilize operações online ou aguarde\n        ")])])],1)]:[a("q-toolbar",{staticClass:"q-py-sm",attrs:{color:"none"}},[a("q-toolbar-title",[e._v("\n        Home\n        "),a("div",{staticClass:"q-body-2"},[e._v("\n          "+e._s(e.$db.cache.get("bancoDeDados"))+" - "+e._s(e.sincronismoStatus.percentagemErp)+"\n        ")])])],1)]],2)},$$=[];O$._withStripped=!0;var R$={components:{},computed:{},data:function(){return{sincronismoStatus:tc.status}},methods:{rotear:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("1"!==this.$db.cache.get("reload")){e.next=5;break}this.$db.cache.set("reload","0"),window.location.reload(),e.next=12;break;case 5:if(!this.sincronismoStatus.concluidoErp){e.next=12;break}return e.next=8,this.$db.permissao.telaInicial();case 8:return t=e.sent,this.$utils.gconsole.log("Home","roteando para a tela inicial",JSON.stringify(t),this.$route.name),e.next=12,this.routerRetry(t);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},watch:{"sincronismoStatus.concluidoErp":function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$utils.gconsole.log("Home","concluidoErp"),e.next=3,this.rotear();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},created:function(){this.$utils.gconsole.log("Home","entrou",this.sincronismoStatus.concluidoErp),this.rotear()}},j$=R$,z$=Object(sc["a"])(j$,O$,$$,!1,null,null,null);z$.options.__file="Home.vue";var B$=z$.exports,L$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.logado.administrador&&[1,2].includes(e.logado.grupoInterno)?a("div",{staticClass:"q-ma-md"},[a("q-toolbar",{staticClass:"q-py-sm",attrs:{color:"none"}},[a("q-toolbar-title",[e._v("\n      Criação de banco para novo cliente\n    ")])],1),a("form",{on:{submit:function(t){return t.preventDefault(),e.criarBanco(t)}}},[a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12 q-my-lg"}),a("q-input",{directives:[{name:"mask",rawName:"v-mask",value:["##.###.###/####-##"],expression:"['##.###.###/####-##']"}],staticClass:"col-12",attrs:{"float-label":"CNPJ"},model:{value:e.dados.cnpj,callback:function(t){e.$set(e.dados,"cnpj",t)},expression:"dados.cnpj"}}),a("campo",{staticClass:"col-12",attrs:{rotulo:"Razão Social"},model:{value:e.dados.razaoSocial,callback:function(t){e.$set(e.dados,"razaoSocial","string"===typeof t?t.trim():t)},expression:"dados.razaoSocial"}}),a("campo",{staticClass:"col-12",attrs:{rotulo:"Fantasia"},model:{value:e.dados.fantasia,callback:function(t){e.$set(e.dados,"fantasia","string"===typeof t?t.trim():t)},expression:"dados.fantasia"}}),a("campo",{staticClass:"col-12",attrs:{rotulo:"Base de Dados"},model:{value:e.dados.baseDados,callback:function(t){e.$set(e.dados,"baseDados","string"===typeof t?t.trim():t)},expression:"dados.baseDados"}}),a("campo",{staticClass:"col-12 col-md-6",attrs:{rotulo:"Sistema",tipo:"seletor",opcoes:e.sistemas},model:{value:e.dados.codigoSistema,callback:function(t){e.$set(e.dados,"codigoSistema",t)},expression:"dados.codigoSistema"}}),1===e.logado.grupoInterno?a("campo",{staticClass:"col-12 col-md-3",attrs:{rotulo:"Segmento"},model:{value:e.dados.segmento,callback:function(t){e.$set(e.dados,"segmento","string"===typeof t?t.trim():t)},expression:"dados.segmento"}}):e._e(),a("campo",{staticClass:"col-12 col-md-3",attrs:{rotulo:"Servidor","somente-leitura":""},model:{value:e.servidor.codigo,callback:function(t){e.$set(e.servidor,"codigo",t)},expression:"servidor.codigo"}}),a("q-input",{directives:[{name:"mask",rawName:"v-mask",value:["###.###.###-##"],expression:"['###.###.###-##']"}],staticClass:"col-12 col-md-3",attrs:{"float-label":"CPF usuario"},model:{value:e.dados.cpfUsuario,callback:function(t){e.$set(e.dados,"cpfUsuario",t)},expression:"dados.cpfUsuario"}}),a("campo",{staticClass:"col-12 col-md-9",attrs:{rotulo:"Nome"},model:{value:e.dados.nomeUsuario,callback:function(t){e.$set(e.dados,"nomeUsuario","string"===typeof t?t.trim():t)},expression:"dados.nomeUsuario"}})],1)]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-start"},[a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])],1)],1)],1):e._e()},V$=[];L$._withStripped=!0;var U$={components:{Campo:Sl},data:function(){return{dados:{},cnpjErro:!1,logado:Zn.usuario.logado,servidor:{},servidorOptisoul:{codigo:"srv7",sysDatabases:"[srv7.b15.com.br].master.sys.databases",ip:"\\\\10.233.112.2",at:"at [srv7.b15.com.br]"},servidorB15:{codigo:"srv5",sysDatabases:"sys.databases",ip:"C:\\",at:""},sistemas:[],sistemasOptisoul:[{valor:"52",rotulo:"Optisoul - Plano Controle"},{valor:"53",rotulo:"Optisoul - Plano Gestão"},{valor:"68",rotulo:"Optisoul - Operacional"}],sistemasB15:[{valor:"60",rotulo:"B15 Free"},{valor:"61",rotulo:"B15 Business"},{valor:"62",rotulo:"B15 Enterprise"}]}},methods:{atualiza:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.sistemas=2===this.logado.grupoInterno?this.sistemasOptisoul:la()(this.sistemasOptisoul).concat(la()(this.sistemasB15)),this.dados.segmento=2===this.logado.grupoInterno?"Ótica":"",this.servidor=2===this.logado.grupoInterno?this.servidorOptisoul:this.servidorB15;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),criarBanco:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p,v,h,f,C,b,g,x,_,q,S,I,F,w,y;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("CriarBanco","criarBanco()",this.dados),e.prev=1,(this.dados.cnpj||this.dados.razaoSocial||this.dados.fantasia)&&(Po(!this.dados.cnpj,"CNPJ não preenchido"),Po(!mi(this.dados.cnpj),"CNPJ inválido"),Po(!this.dados.razaoSocial,"Razão Social não preenchido"),Po(!this.dados.fantasia,"Fantasia não preenchido")),Po(!this.dados.codigoSistema,"Sistema não selecionado"),(this.dados.cpfUsuario||this.dados.nomeUsuario)&&(Po(!this.dados.cpfUsuario,"CFP do usuário não preenchido"),Po(!mi(this.dados.cpfUsuario),"CPF inválido"),Po(!this.dados.nomeUsuario,"Nome do usuário não preenchido")),t=this.dados.cnpj||this.dados.cpfUsuario,Po(!t,"CFP e CNPJ não preenchidos"),this.dados.baseDados=this.$utils.removerCaracteresEspeciais(this.dados.baseDados).replace(/ /g,""),Po(!this.dados.baseDados,"Base de Dados não preenchido"),this.$q.loading.show({message:"Criando"}),a="select * from clienteSistema where bancoDeDados = ".concat(Vo(this.dados.baseDados)),e.next=13,jo(a,"GeeksPlat15A");case 13:return o=e.sent,ei.log("CriarBanco","retClienteSistemaCadastrada",o),Po(!!o&&o.length>0,"Nome da Base de dados já existente no sistema"),a="select * from ".concat(this.servidor.sysDatabases," where name = ").concat(Vo(this.dados.baseDados)),e.next=19,jo(a,"GeeksPlat15A");case 19:return i=e.sent,ei.log("CriarBanco","retBancoCadastrado",i),Po(!!i&&i.length>0,"Nome da Base de dados já existente no servidor ".concat(this.servidor.codigo)),a="\n          declare @baseDados varchar(250) = ".concat(Vo(this.dados.baseDados),"\n          if not exists(Select 1 from ").concat(this.servidor.sysDatabases," where name=@baseDados)\n          begin\n            declare @sql varchar(max) = ''\n            set @sql = 'backup database BaseLimpaMobile to disk=''").concat(this.servidor.ip,"\\Geeks\\Backup\\BaseLimpaMobile.bkpsql.bak'' With INIT';\n            exec (@sql)\n            set @sql = 'create database ' + QUOTENAME(@baseDados)\n            exec (@sql) ").concat(this.servidor.at,"\n            set @sql = 'restore database ' + QUOTENAME(@baseDados) + ' from disk=''C:\\Geeks\\Backup\\BaseLimpaMobile.bkpsql.bak'' WITH FILE = 1,  NOUNLOAD,  REPLACE,  STATS = 5,'\n            set @sql = @sql + ' move ''OptiSoul'' to ''C:\\SqlData\\'+@baseDados+'.mdf'','\n            set @sql = @sql + ' move ''OptiSoul_Log'' to ''C:\\SqlData\\'+@baseDados+'_log.ldf'''\n            exec (@sql) ").concat(this.servidor.at,"\n          end\n          select @baseDados baseDados"),e.next=25,jo(a,"GeeksPlat15A");case 25:return r=e.sent,ei.log("CriarBanco","retBackupRestore",r),this.$q.notifyPositive("Banco ".concat(r[0].baseDados," criado com sucesso")),a="\n          insert into Contato (Nome,Apelido,NumeroDocumentoNacional,TipoDocumentoNacional)\n          Select ".concat(Vo(this.dados.razaoSocial||this.dados.nomeUsuario)," Nome, ").concat(Vo(this.dados.fantasia||this.dados.nomeUsuario)," Apelido, ").concat(Vo(t)," NumeroDocumentoNacional, 'CNPJ'\n          where not exists(select 1 from contato where NumeroDocumentoNacional = ").concat(Vo(t),")\n          select * from contato where NumeroDocumentoNacional = ").concat(Vo(t)),e.next=31,jo(a,"GeeksPlat15A");case 31:return n=e.sent,ei.log("CriarBanco","retContatoPlat",n),Po(!n||!n.length||!n[0].CodigoContato,"Erro na criação do contato empresa na plataforma"),s=n[0].CodigoContato,a="\n          insert into ClienteSistema (CodigoSistema,CodigoCliente,URLservidor,BancoDeDados)\n          Select\n            ".concat(Lo(this.dados.codigoSistema)," CodigoSistema,\n            ").concat(Lo(s)," CodigoCliente,\n            'https://api.b15.com.br/sql/").concat(this.servidor.codigo,"' URLServidor,\n            ").concat(Vo(this.dados.baseDados)," BancoDeDados\n          --where not exists(Select 1 from ClienteSistema where CodigoSistema=").concat(Lo(this.dados.codigoSistema)," and CodigoCliente=").concat(Lo(s)," and BancoDeDados=").concat(Vo(this.dados.baseDados),")\n          select * from ClienteSistema where CodigoSistema=").concat(Lo(this.dados.codigoSistema)," and CodigoCliente=").concat(Lo(s)," and BancoDeDados=").concat(Vo(this.dados.baseDados)),e.next=38,jo(a,"GeeksPlat15A");case 38:if(c=e.sent,ei.log("CriarBanco","retClienteSistema",c),Po(!c||!c.length||!c[0].CodigoClienteSistema,"Erro na criação do ClienteSistema"),l=c[0].CodigoClienteSistema,!this.dados.cpfUsuario){e.next=126;break}return a="\n          insert into Contato (Nome, Apelido, NumeroDocumentoNacional, TipoDocumentoNacional)\n          Select ".concat(Vo(this.dados.nomeUsuario)," Nome, ").concat(Vo(this.dados.nomeUsuario)," Apelido, ").concat(Vo(this.dados.cpfUsuario)," NumeroDocumentoNacional, 'CPF'\n          --where not exists(select 1 from contato where NumeroDocumentoNacional = ").concat(Vo(this.dados.cpfUsuario),")\n          select * from contato where NumeroDocumentoNacional = ").concat(Vo(this.dados.cpfUsuario)),e.next=46,jo(a,this.dados.baseDados);case 46:if(d=e.sent,ei.log("CriarBanco","retContatoCpf",d),Po(!d||!d.length||!d[0].CodigoContato,"Erro na criação do contato"),u=d[0].CodigoContato,!this.dados.cnpj){e.next=71;break}return a="\n            insert into Contato (Nome, Apelido, NumeroDocumentoNacional, TipoDocumentoNacional)\n            Select ".concat(Vo(this.dados.razaoSocial)," Nome, ").concat(Vo(this.dados.fantasia)," Apelido, ").concat(Vo(this.dados.cnpj)," NumeroDocumentoNacional, 'CNPJ'\n            --where not exists(select 1 from contato where NumeroDocumentoNacional = ").concat(Vo(this.dados.cnpj),")\n            select * from contato where NumeroDocumentoNacional = ").concat(Vo(this.dados.cnpj)),e.next=54,jo(a,this.dados.baseDados);case 54:return h=e.sent,ei.log("CriarBanco","retContatoCnpj",h),Po(!h||!h.length||!h[0].CodigoContato,"Erro na criação do contato"),v=h[0].CodigoContato,a="\n            insert into Empresa (Nome, Apelido, NumeroDocumentoNacional, codigoContato, codigoClienteSistema)\n            Select\n            ".concat(Vo(this.dados.razaoSocial)," Nome,\n            ").concat(Vo(this.dados.fantasia)," Apelido, \n            ").concat(Vo(this.dados.cnpj)," NumeroDocumentoNacional, \n            ").concat(Lo(v)," codigoContato, \n            ").concat(Lo(l)," codigoClienteSistema\n            --where not exists(select 1 from empresa where NumeroDocumentoNacional = ").concat(Vo(this.dados.cnpj)," and codigoClienteSistema = ").concat(Lo(l)," and codigoContato = ").concat(Lo(v),")\n            select * from empresa where NumeroDocumentoNacional = ").concat(Vo(this.dados.cnpj)," and codigoClienteSistema = ").concat(Lo(l)," and codigoContato = ").concat(Lo(v)),e.next=61,jo(a,this.dados.baseDados);case 61:return f=e.sent,ei.log("CriarBanco","retEmpresaErp",f),Po(!f||!f.length||!f[0].CodigoEmpresa,"Erro na criação da empresa Erp"),m=f[0].CodigoEmpresa,e.next=67,jo(a,"GeeksPlat15A");case 67:C=e.sent,ei.log("CriarBanco","retEmpresaPlat",C),Po(!C||!C.length||!C[0].CodigoEmpresa,"Erro na criação da empresa Plat"),p=C[0].CodigoEmpresa;case 71:return a="\n          insert into grupo (codigoClienteSistema, Descricao)\n          Select ".concat(Lo(l)," codigoClienteSistema, 'Administrador' Descricao\n          --where not exists(Select 1 from grupo where codigoClienteSistema= ").concat(Lo(l)," and Descricao='Administrador')\n          Select * from grupo where codigoClienteSistema= ").concat(Lo(l)," and Descricao='Administrador'"),e.next=74,jo(a,"GeeksPlat15A");case 74:return b=e.sent,ei.log("CriarBanco","retGrupo",b),Po(!b||!b.length||!b[0].CodigoGrupo,"Erro na criação do grupo"),g=b[0].CodigoGrupo,a="\n          insert into usuario (Nome, NumeroDocumentoNacional, senha, codigoContato, codigoGrupo)\n          Select\n            ".concat(Vo(this.dados.nomeUsuario)," Nome,\n            ").concat(Vo(this.dados.cpfUsuario)," NumeroDocumentoNacional, \n            '16a492d0689ac993da82e6fc034c12c1' senha, \n            ").concat(Lo(u)," codigoContato, \n            ").concat(Lo(g)," codigoGrupo\n          where not exists(select 1 from usuario where NumeroDocumentoNacional = ").concat(Vo(this.dados.cpfUsuario),")\n          select * from usuario where NumeroDocumentoNacional = ").concat(Vo(this.dados.cpfUsuario),"-- and codigoGrupo = ").concat(Lo(g)),e.next=81,jo(a,"GeeksPlat15A");case 81:return x=e.sent,ei.log("CriarBanco","retUsuario",x),Po(!x||!x.length||!x[0].CodigoUsuario,"Erro na criação do Usuario"),_=x[0].CodigoUsuario,a="\n          update Contato set codigoUsuario=".concat(Lo(_),", idUsuario=").concat(Vo(x[0].id),"\n          where codigoContato = ").concat(Lo(u)),e.next=88,jo(a,this.dados.baseDados);case 88:return q=e.sent,ei.log("CriarBanco","retUpdateContatoCpf",q),a="\n          insert into usuarioPermissaoSistema (codigoClienteSistema, codigoGrupo, codigoUsuario)\n          Select\n            ".concat(Lo(l)," codigoClienteSistema, \n            ").concat(Lo(g)," codigoGrupo, \n            ").concat(Lo(_)," codigoUsuario\n          --where not exists(select 1 from usuarioPermissaoSistema where codigoClienteSistema = ").concat(Lo(l)," and codigoGrupo = ").concat(Lo(g)," and codigoUsuario = ").concat(Lo(_),")\n          select * from usuarioPermissaoSistema where codigoClienteSistema = ").concat(Lo(l)," and codigoGrupo = ").concat(Lo(g)," and codigoUsuario = ").concat(Lo(_)),e.next=93,jo(a,"GeeksPlat15A");case 93:if(S=e.sent,ei.log("CriarBanco","retUsuarioPermissaoSistema",S),Po(!S||!S.length,"Erro na criação do UsuarioPermissaoSistema"),!(p&&m&&v)){e.next=109;break}return a="\n            insert into empresaUsuarioPermissao (codigoUsuario, codigoContato, codigoEmpresa)\n            Select\n            ".concat(Lo(_)," codigoUsuario,\n            ").concat(Lo(v)," codigoContato, \n            ").concat(Lo(p)," codigoEmpresa\n            --where not exists(select 1 from empresaUsuarioPermissao where codigoUsuario = ").concat(Lo(_)," and codigoEmpresa = ").concat(Lo(m),")\n            select * from empresaUsuarioPermissao where codigoUsuario = ").concat(Lo(_)," and codigoEmpresa = ").concat(Lo(p)),e.next=100,jo(a,this.dados.baseDados);case 100:return I=e.sent,ei.log("CriarBanco","retEmpresaUsuarioPermissaoErp",I),Po(!I||!I.length,"Erro na criação da EmpresaUsuarioPermissao Erp"),a="\n            insert into empresaUsuarioPermissao (codigoUsuario, codigoContato, codigoEmpresa)\n            Select\n            ".concat(Lo(_)," codigoUsuario,\n            ").concat(Lo(v)," codigoContato,\n            ").concat(Lo(p)," codigoEmpresa\n            --where not exists(select 1 from empresaUsuarioPermissao where codigoUsuario = ").concat(Lo(_)," and codigoEmpresa = ").concat(Lo(p),")\n            select * from empresaUsuarioPermissao where codigoUsuario = ").concat(Lo(_)," and codigoEmpresa = ").concat(Lo(p)),e.next=106,jo(a,"GeeksPlat15A");case 106:F=e.sent,ei.log("CriarBanco","retEmpresaUsuarioPermissaoPlat",F),Po(!F||!F.length,"Erro na criação da EmpresaUsuarioPermissao Plat");case 109:return a="\n          insert into grupoPermissao (codigoGrupo, codigoObjeto, permitir)\n          Select\n            ".concat(Lo(g)," codigoGrupo, \n            so.codigoObjeto,\n            1 permitir\n          from sistemaObjeto so\n          where codigoSistema = ").concat(Lo(this.dados.codigoSistema),"\n            --and not exists(select 1 from grupoPermissao gp where so.codigoObjeto = gp.codigoObjeto and codigoGrupo = ").concat(Lo(g),")\n          select * from grupoPermissao gp where codigoGrupo = ").concat(Lo(g)),e.next=112,jo(a,"GeeksPlat15A");case 112:return w=e.sent,ei.log("CriarBanco","retGrupoPermissao",w),w&&w.length||this.$q.notifyError("Sistema não possui objetos associados para liberar permissões"),this.$q.notifyPositive("Usuario, Empresa, Grupo e Permissões criados com sucesso"),a="exec SP_CriarBase_ParametrizacaoInicial ".concat(Lo(this.dados.codigoSistema),", ").concat(Vo(this.dados.segmento)),e.next=119,jo(a,this.dados.baseDados);case 119:return y=e.sent,ei.log("CriarBanco",a,y),this.$q.notifyPositive("Parametrização inicial realizada com sucesso"),a="\n          declare @baseDados varchar(250) = ".concat(Vo(this.dados.baseDados),"\n          update sincronismoBanco set ativo=1 where bancoDeDados=@baseDados\n          if @@Rowcount = 0\n          begin\n            insert into sincronismoBanco (bancoDeDados, ativo) values (@baseDados, 1)\n          end"),e.next=125,jo(a,"GeeksPlat15A");case 125:this.$q.notifyPositive("Sincronismo ativado para o banco");case 126:e.next=131;break;case 128:e.prev=128,e.t0=e["catch"](1),this.$q.notifyError("Erro na criação do banco",e.t0);case 131:return e.prev=131,this.$q.loading.hide(),e.finish(131);case 134:case"end":return e.stop()}},e,this,[[1,128,131,134]])}));return function(){return e.apply(this,arguments)}}()},watch:{"dados.codigoSistema":function(e){this.servidor=this.sistemasOptisoul.find(function(t){return t.valor===e})?this.servidorOptisoul:this.servidorB15,this.dados.segmento=this.sistemasOptisoul.find(function(t){return t.valor===e})?"Ótica":this.dados.segmento}},created:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("CriarBanco","created()"),e.next=3,Zn.usuario.inicializaLogado();case 3:return ei.log("CriarBanco",Zn.usuario.logado),this.logado=Zn.usuario.logado,e.next=7,this.atualiza();case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},H$=U$,Q$=Object(sc["a"])(H$,L$,V$,!1,null,null,null);Q$.options.__file="CriarBanco.vue";var G$=Q$.exports,J$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row gutter-sm q-py-md no-shadow"},e._l(e.configuracoes,function(t){return a("div",{key:t.id,staticClass:"col-12 col-sm-6 col-md-4"},[a("q-card",{staticClass:"config-card bg-white q-pa-md"},[a("div",{staticClass:"row"},[a("q-toolbar-title",[a("div",[e._v(e._s(t.descricao))])])],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("q-toolbar-title",[a("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("Emitente regime\n                "+e._s({1:"Simples",3:"Normal"}[e._.get(t,"emitente.regime")]))]),a("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("Ordem: "+e._s(t.ordem))]),e._.get(t,"ncms.length")?a("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("NCMs:\n                "+e._s(t.ncms.map(function(e){return e.codigo}).join(", ")))]):a("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("Todos os NCMs")]),e._.get(t,"cfops.length")?a("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("CFOPs:\n                "+e._s(t.cfops.map(function(e){return e.codigo}).join(", ")))]):a("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("Todos os CFOPs")])])],1),a("q-btn",{staticClass:"no-shadow q-ma-xs",attrs:{rounded:"",dense:"",flat:"",icon:"edit",color:"primary",size:"md"},on:{click:function(a){e.abrirConfig(t)}}}),a("q-btn",{staticClass:"no-shadow q-ma-xs",attrs:{rounded:"",dense:"",flat:"",icon:"delete",color:"primary",size:"md"},on:{click:function(a){e.tryCatch(e.removerConfig,t)}}})],1)])],1)})),a("div",{staticClass:"q-mt-md text-center"},[a("q-btn",{attrs:{color:"positive",icon:"add",label:"Configuração",outline:"",size:"sm"},on:{click:function(t){e.modalConfig={visivel:!0,campos:{}}}}})],1),a("ConfiguracoesImpostosModal",{attrs:{modal:e.modalConfig},on:{salvar:function(t){e.tryLoading(e.salvarConfig,{erro:"Ocorreu erro ao salvar config"})},duplicar:function(t){e.tryLoading(e.duplicarConfig)}}})],1)},X$=[];J$._withStripped=!0;var Y$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{attrs:{maximized:""},model:{value:e.modal.visivel,callback:function(t){e.$set(e.modal,"visivel",t)},expression:"modal.visivel"}},[e.modal.campos.id?a("q-modal-layout",{staticClass:"bg-light"},[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"}}),a("q-toolbar-title",[e._v("Configuração de imposto")]),a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"white","text-color":"primary",label:"Duplicar"},on:{click:function(t){e.$emit("duplicar")}}}),a("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"white","text-color":"primary",label:"Salvar"},on:{click:function(t){e.$emit("salvar")}}})],1),a("form",{on:{submit:function(t){return t.preventDefault(),e.gravarConfig(t)}}},[a("div",{staticClass:"bg-white q-mx-sm"},[a("div",{staticClass:"row gutter-x-md q-pa-md"},[a("campo",{staticClass:"col-12 col-md-8",attrs:{rotulo:"Descrição da configuraçao"},model:{value:e.campos.descricao,callback:function(t){e.$set(e.campos,"descricao",t)},expression:"campos.descricao"}}),a("campo",{staticClass:"col-12 col-md-2",attrs:{rotulo:"Ordem",tipo:"numero"},model:{value:e.campos.ordem,callback:function(t){e.$set(e.campos,"ordem",t)},expression:"campos.ordem"}})],1),a("div",{staticClass:"row q-px-md"},[e._v("Validade")]),a("div",{staticClass:"row gutter-x-md q-pl-lg q-pr-md q-pb-md"},[a("campo",{staticClass:"col-12 col-md-4",attrs:{rotulo:"Início",tipo:"data"},model:{value:e.campos.dataInicio,callback:function(t){e.$set(e.campos,"dataInicio",t)},expression:"campos.dataInicio"}}),a("campo",{staticClass:"col-12 col-md-4",attrs:{rotulo:"Fim",tipo:"data"},model:{value:e.campos.dataFim,callback:function(t){e.$set(e.campos,"dataFim",t)},expression:"campos.dataFim"}})],1)]),a("div",{staticClass:"row q-title bg-primary text-white q-pa-sm q-mx-sm q-mt-sm"},[e._v("Entrada")]),a("div",{staticClass:"row q-mr-sm"},[a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"bg-white q-ml-sm q-mt-sm q-pa-md"},[a("div",{staticClass:"row justify-between"},[a("div",{staticClass:"q-title"},[e._v("Emitente")])]),a("div",{staticClass:"row q-pt-md items-center"},[a("div",{staticClass:"col-12 q-mb-sm"},[e._v("Regime")]),a("q-btn-toggle",{attrs:{"toggle-color":"primary",options:[{label:"Simples",value:"1"},{label:"Normal",value:"3"}]},model:{value:e.campos.emitente.regime,callback:function(t){e.$set(e.campos.emitente,"regime",t)},expression:"campos.emitente.regime"}})],1),"3"===e.campos.emitente.regime?a("div",{staticClass:"row q-pt-md items-center"},[a("div",{staticClass:"col-12 q-mb-sm"},[e._v("Tributação")]),a("q-btn-toggle",{attrs:{"toggle-color":"primary",options:[{label:"Todos",value:"T"},{label:"Lucro real",value:"1"},{label:"Lucro presumido",value:"2"}]},model:{value:e.campos.emitente.tributacao,callback:function(t){e.$set(e.campos.emitente,"tributacao",t)},expression:"campos.emitente.tributacao"}})],1):e._e(),a("div",{staticClass:"row q-pt-md items-center"},[a("div",{staticClass:"col-12 q-mb-sm"},[e._v("Setor")]),a("q-btn-toggle",{attrs:{"toggle-color":"primary",options:[{label:"Todos",value:"T"},{label:"Indústria",value:"1"},{label:"Outros",value:"99"}]},model:{value:e.campos.emitente.tributacaoSetor,callback:function(t){e.$set(e.campos.emitente,"tributacaoSetor",t)},expression:"campos.emitente.tributacaoSetor"}})],1)]),a("div",{staticClass:"bg-white q-ml-sm q-mt-sm q-pa-md"},[a("div",{staticClass:"row q-pt-none items-center justify-between"},[a("div",{staticClass:"q-title"},[e._v("UFs emitente")]),a("q-btn",{staticClass:"self-center",attrs:{color:"faded",dense:"",flat:"",icon:"add",round:""},on:{click:function(t){e.adicionarLinhaNaLista(e.campos.emitente,"ufs")}}},[a("q-tooltip",[e._v("Adicionar")])],1)],1),e._.get(e.campos,"emitente.ufs.length")?a("div",{staticClass:"row"},e._l(e.campos.emitente.ufs,function(t,o){return a("div",{key:o,staticClass:"col-12"},[a("div",{staticClass:"row"},[a("campo",{staticClass:"col",attrs:{opcoes:e.metadados.infNFe.emit.enderEmit.UF._enumeration,"rotulo-fixo":e.metadados.infNFe.emit.enderEmit.UF._titulo,tipo:"seletor"},model:{value:t.codigo,callback:function(a){e.$set(t,"codigo",a)},expression:"uf.codigo"}}),a("q-btn",{staticClass:"col-auto self-center",attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""},on:{click:function(t){e.removerLinhaDaLista(e.campos.emitente,"ufs",o)}}},[a("q-tooltip",[e._v("Remover")])],1)],1)])})):a("div",{staticClass:"row q-pt-md justify-center"},[e._v("Todas as UFs")])])]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"bg-white q-ml-sm q-mt-sm q-pa-md"},[a("div",{staticClass:"row justify-between"},[a("div",{staticClass:"q-title"},[e._v("Destinatário")])]),a("div",{staticClass:"row q-pt-md items-center"},[a("campo",{staticClass:"col-12",attrs:{opcoes:[{rotulo:"Todos",valor:"T"},{rotulo:"Pessoa física",valor:"PF"},{rotulo:"Pessoa jurídica",valor:"PJ"},{rotulo:"Estrangeiro",valor:"Estrangeiro"}],"rotulo-fixo":"Classificação Jurídica",tipo:"seletor"},model:{value:e.campos.destinatario.pessoa,callback:function(t){e.$set(e.campos.destinatario,"pessoa",t)},expression:"campos.destinatario.pessoa"}})],1),"PJ"===e.campos.destinatario.pessoa?[a("div",{staticClass:"row q-pt-md items-center"},[a("div",{staticClass:"col-12 q-mb-sm"},[e._v("Regime")]),a("q-btn-toggle",{attrs:{"toggle-color":"primary",options:[{label:"Todos",value:"T"},{label:"Simples",value:"1"},{label:"Normal",value:"3"}]},model:{value:e.campos.destinatario.regime,callback:function(t){e.$set(e.campos.destinatario,"regime",t)},expression:"campos.destinatario.regime"}})],1),"3"===e.campos.destinatario.regime?a("div",{staticClass:"row q-pt-md items-center"},[a("div",{staticClass:"col-12 q-mb-sm"},[e._v("Tributação")]),a("q-btn-toggle",{attrs:{"toggle-color":"primary",options:[{label:"Todos",value:"T"},{label:"Lucro real",value:"1"},{label:"Lucro presumido",value:"2"}]},model:{value:e.campos.destinatario.tributacao,callback:function(t){e.$set(e.campos.destinatario,"tributacao",t)},expression:"campos.destinatario.tributacao"}})],1):e._e(),a("div",{staticClass:"row q-pt-md items-center"},[a("div",{staticClass:"col-12 q-mb-sm"},[e._v("Setor")]),a("q-btn-toggle",{attrs:{"toggle-color":"primary",options:[{label:"Todos",value:"T"},{label:"Indústria",value:"1"},{label:"Outros",value:"99"}]},model:{value:e.campos.destinatario.tributacaoSetor,callback:function(t){e.$set(e.campos.destinatario,"tributacaoSetor",t)},expression:"campos.destinatario.tributacaoSetor"}})],1),a("div",{staticClass:"row q-pt-md items-center"},[a("campo",{staticClass:"col-12",attrs:{opcoes:[{rotulo:"Todos",valor:"T"}].concat(e.metadados.infNFe.dest.indIEDest._enumeration),"rotulo-fixo":"Indicador da IE",tipo:"seletor"},model:{value:e.campos.destinatario.indicadorIE,callback:function(t){e.$set(e.campos.destinatario,"indicadorIE",t)},expression:"campos.destinatario.indicadorIE"}})],1)]:e._e(),a("div",{staticClass:"row q-pt-md items-center"},[a("div",{staticClass:"col-12 q-mb-sm"},[e._v("Consumidor final")]),a("q-btn-toggle",{attrs:{"toggle-color":"primary",options:[{label:"Todos",value:"T"},{label:"Sim",value:"S"},{label:"Não",value:"N"}]},model:{value:e.campos.destinatario.consumidor,callback:function(t){e.$set(e.campos.destinatario,"consumidor",t)},expression:"campos.destinatario.consumidor"}})],1),a("campo",{staticClass:"col-12",attrs:{dica:e.metadados.infNFe.ide.idDest._doc,opcoes:[{rotulo:"Todos",valor:"T"}].concat(e.metadados.infNFe.ide.idDest._enumeration),"rotulo-fixo":e.metadados.infNFe.ide.idDest._titulo,tipo:"seletor"},model:{value:e.campos.destinatario.destino,callback:function(t){e.$set(e.campos.destinatario,"destino",t)},expression:"campos.destinatario.destino"}})],2),a("div",{staticClass:"bg-white q-ml-sm q-mt-sm q-pa-md"},[a("div",{staticClass:"row q-pt-none items-center justify-between"},[a("div",{staticClass:"q-title"},[e._v("UFs destinatário")]),a("q-btn",{staticClass:"self-center",attrs:{color:"faded",dense:"",flat:"",icon:"add",round:""},on:{click:function(t){e.adicionarLinhaNaLista(e.campos.destinatario,"ufs")}}},[a("q-tooltip",[e._v("Adicionar")])],1)],1),e._.get(e.campos,"destinatario.ufs.length")?a("div",{staticClass:"row"},e._l(e.campos.destinatario.ufs,function(t,o){return a("div",{key:o,staticClass:"col-12"},[a("div",{staticClass:"row"},[a("campo",{staticClass:"col",attrs:{opcoes:e.metadados.infNFe.dest.enderDest.UF._enumeration,"rotulo-fixo":e.metadados.infNFe.dest.enderDest.UF._titulo,tipo:"seletor"},model:{value:t.codigo,callback:function(a){e.$set(t,"codigo",a)},expression:"uf.codigo"}}),a("q-btn",{staticClass:"col-auto self-center",attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""},on:{click:function(t){e.removerLinhaDaLista(e.campos.destinatario,"ufs",o)}}},[a("q-tooltip",[e._v("Remover")])],1)],1)])})):a("div",{staticClass:"row q-pt-md justify-center"},[e._v("Todas as UFs")])])]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"bg-white q-ml-sm q-mt-sm q-pa-md"},[a("div",{staticClass:"row justify-between"},[a("div",{staticClass:"q-title"},[e._v("Produto")])]),a("div",{staticClass:"row q-pt-md items-center"},[a("campo",{staticClass:"col-12",attrs:{opcoes:[{rotulo:"Todos",valor:"T"}].concat(e.metadados.infNFe.det.lista.imposto.noXml_orig._enumeration),"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.noXml_orig._titulo,tipo:"seletor"},model:{value:e.campos.origemMercadoria,callback:function(t){e.$set(e.campos,"origemMercadoria",t)},expression:"campos.origemMercadoria"}})],1),a("q-item-separator",{staticClass:"q-mt-md"})],1),a("div",{staticClass:"bg-white q-ml-sm q-mt-sm q-pa-md"},[a("div",{staticClass:"row justify-between"},[a("div",{staticClass:"q-title"},[e._v("NCMs"),a("q-tooltip",[e._v("Classificação tributária do produto")])],1),a("q-btn",{staticClass:"self-center",attrs:{color:"faded",dense:"",flat:"",icon:"add",round:""},on:{click:function(t){e.adicionarLinhaNaLista(e.campos,"ncms")}}},[a("q-tooltip",[e._v("Adicionar")])],1)],1),e._.get(e.campos,"ncms.length")?a("div",{staticClass:"row"},e._l(e.campos.ncms,function(t,o){return a("div",{key:o,staticClass:"col-12"},[a("div",{staticClass:"row"},[a("SeletorNcm",{staticClass:"col-12",model:{value:t.codigo,callback:function(a){e.$set(t,"codigo",a)},expression:"ncm.codigo"}})],1),a("div",{staticClass:"row"},[a("SeletorCest",{staticClass:"col",attrs:{ncm:t.codigo},model:{value:t.cest,callback:function(a){e.$set(t,"cest",a)},expression:"ncm.cest"}}),a("q-btn",{staticClass:"col-auto self-center",attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""},on:{click:function(t){e.removerLinhaDaLista(e.campos,"ncms",o)}}},[a("q-tooltip",[e._v("Remover")])],1)],1)])})):a("div",{staticClass:"row q-pt-md justify-center"},[e._v("Todos os NCMs")])]),a("div",{staticClass:"bg-white q-ml-sm q-mt-sm q-pa-md"},[a("div",{staticClass:"row justify-between"},[a("div",{staticClass:"q-title"},[e._v("CFOPs"),a("q-tooltip",[e._v("Código Fiscal de Operações e Prestações das entradas e saídas de\n                  mercadorias")])],1),a("q-btn",{staticClass:"self-center",attrs:{color:"faded",dense:"",flat:"",icon:"add",round:""},on:{click:function(t){e.adicionarLinhaNaLista(e.campos,"cfops")}}},[a("q-tooltip",[e._v("Adicionar")])],1)],1),e._.get(e.campos,"cfops.length")?a("div",{staticClass:"row"},e._l(e.campos.cfops,function(t,o){return a("div",{key:o,staticClass:"col-12"},[a("div",{staticClass:"row"},[a("SeletorCfop",{staticClass:"col",model:{value:t.codigo,callback:function(a){e.$set(t,"codigo",a)},expression:"cfop.codigo"}}),a("q-btn",{staticClass:"col-auto self-center",attrs:{color:"faded",dense:"",flat:"",icon:"delete",round:""},on:{click:function(t){e.removerLinhaDaLista(e.campos,"cfops",o)}}},[a("q-tooltip",[e._v("Remover")])],1)],1)])})):a("div",{staticClass:"row q-pt-md justify-center"},[e._v("Todos os CFOPs")])])])]),a("div",{staticClass:"row q-title bg-primary text-white q-pa-sm q-mx-sm q-mt-sm"},[e._v("Saida")]),a("div",{staticClass:"row q-mr-sm q-mb-xl"},[a("div",{staticClass:"col-12 col-md-8"},[a("div",{staticClass:"bg-white q-ml-sm q-mt-sm q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"q-title"},[e._v("ICMS")])]),a("div",{staticClass:"row gutter-x-sm"},["3"===e.campos.emitente.regime?a("campo",{staticClass:"col-12",attrs:{"rotulo-fixo":"CST",opcoes:e.metadados.infNFe.det.lista.imposto.noXml_CST._enumeration,tipo:"seletor"},model:{value:e.campos.imposto.cstCsosn,callback:function(t){e.$set(e.campos.imposto,"cstCsosn",t)},expression:"campos.imposto.cstCsosn"}}):a("campo",{staticClass:"col-12",attrs:{"rotulo-fixo":"CSOSN",opcoes:e.metadados.infNFe.det.lista.imposto.noXml_CSOSN._enumeration,tipo:"seletor"},model:{value:e.campos.imposto.cstCsosn,callback:function(t){e.$set(e.campos.imposto,"cstCsosn",t)},expression:"campos.imposto.cstCsosn"}}),e.mostraCampo(e.campos.imposto.cstCsosn,"modBC")?a("campo",{staticClass:"col-12 col-md-6",attrs:{opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.modBC._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.modBC._titulo,tipo:"seletor"},model:{value:e.campos.imposto.modBC,callback:function(t){e.$set(e.campos.imposto,"modBC",t)},expression:"campos.imposto.modBC"}}):e._e(),e.mostraCampo(e.campos.imposto.cstCsosn,"modBCST")?a("campo",{staticClass:"col-12 col-md-6",attrs:{opcoes:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBCST._enumeration,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBCST._titulo,tipo:"seletor"},model:{value:e.campos.imposto.modBCST,callback:function(t){e.$set(e.campos.imposto,"modBCST",t)},expression:"campos.imposto.modBCST"}}):e._e(),e.mostraCampo(e.campos.imposto.cstCsosn,"pICMS")?a("campo",{staticClass:"col-12 col-md-6",attrs:{rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.pICMS._titulo,tipo:"decimal",decimals:"4",suffix:"%"},model:{value:e.campos.imposto.pICMS,callback:function(t){e.$set(e.campos.imposto,"pICMS",t)},expression:"campos.imposto.pICMS"}}):e._e(),e.mostraCampo(e.campos.imposto.cstCsosn,"pICMSST")?a("campo",{staticClass:"col-12 col-md-6",attrs:{rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.pICMSST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},model:{value:e.campos.imposto.pICMSST,callback:function(t){e.$set(e.campos.imposto,"pICMSST",t)},expression:"campos.imposto.pICMSST"}}):e._e(),e.mostraCampo(e.campos.imposto.cstCsosn,"pST")?a("campo",{staticClass:"col-12 col-md-6",attrs:{rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional.pST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},model:{value:e.campos.imposto.pST,callback:function(t){e.$set(e.campos.imposto,"pST",t)},expression:"campos.imposto.pST"}}):e._e(),e.mostraCampo(e.campos.imposto.cstCsosn,"pICMSEfet")?a("campo",{staticClass:"col-12 col-md-6",attrs:{rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional3.pICMSEfet._titulo,tipo:"decimal",decimals:"4",suffix:"%"},model:{value:e.campos.imposto.pICMSEfet,callback:function(t){e.$set(e.campos.imposto,"pICMSEfet",t)},expression:"campos.imposto.pICMSEfet"}}):e._e()],1),e.mostraCampo(e.campos.imposto.cstCsosn,"pFCP")?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{rotulo:"FCP - Fundo de Combate à Pobreza",tipo:"logico"},model:{value:e.campos.imposto.pFCPVisivel,callback:function(t){e.$set(e.campos.imposto,"pFCPVisivel",t)},expression:"campos.imposto.pFCPVisivel"}}),e.campos.imposto.pFCPVisivel?a("campo",{staticClass:"col-12 col-md-6",attrs:{rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.opcional.pFCP._titulo,tipo:"decimal",decimals:"4",suffix:"%"},model:{value:e.campos.imposto.pFCP,callback:function(t){e.$set(e.campos.imposto,"pFCP",t)},expression:"campos.imposto.pFCP"}}):e._e()],1):e._e(),e.mostraCampo(e.campos.imposto.cstCsosn,"pFCPST")?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{rotulo:"FCP ST - Fundo de Combate à Pobreza ST",tipo:"logico"},model:{value:e.campos.imposto.pFCPSTVisivel,callback:function(t){e.$set(e.campos.imposto,"pFCPSTVisivel",t)},expression:"campos.imposto.pFCPSTVisivel"}}),e.campos.imposto.pFCPSTVisivel?a("campo",{staticClass:"col-12 col-md-6",attrs:{rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional2.pFCPST._titulo,tipo:"decimal",decimals:"4",suffix:"%"},model:{value:e.campos.imposto.pFCPST,callback:function(t){e.$set(e.campos.imposto,"pFCPST",t)},expression:"campos.imposto.pFCPST"}}):e._e()],1):e._e(),e.mostraCampo(e.campos.imposto.cstCsosn,"pFCPSTRet")?a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12 col-md-6",attrs:{rotulo:"FCP ST Retido anteriormente",tipo:"logico"},model:{value:e.campos.imposto.pFCPSTRetVisivel,callback:function(t){e.$set(e.campos.imposto,"pFCPSTRetVisivel",t)},expression:"campos.imposto.pFCPSTRetVisivel"}}),e.campos.imposto.pFCPSTRetVisivel?a("campo",{staticClass:"col-12 col-md-6",attrs:{rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS60.opcional2.pFCPSTRet._titulo,tipo:"decimal",decimals:"4",suffix:"%"},model:{value:e.campos.imposto.pFCPSTRet,callback:function(t){e.$set(e.campos.imposto,"pFCPSTRet",t)},expression:"campos.imposto.pFCPSTRet"}}):e._e()],1):e._e()]),a("div",{staticClass:"bg-white q-ml-sm q-mt-sm q-pa-md"},[a("div",{staticClass:"row"},[a("campo",{staticClass:"col-12 q-title",attrs:{rotulo:"ICMS interestadual para consumidor final, não contribuinte de ICMS",tipo:"logico"},model:{value:e.campos.icmsInterestadualVisivel,callback:function(t){e.$set(e.campos,"icmsInterestadualVisivel",t)},expression:"campos.icmsInterestadualVisivel"}})],1),e.campos.icmsInterestadualVisivel?[a("div",{staticClass:"row gutter-x-sm q-my-md q-body-2"},[a("div",{staticClass:"col-2 col-md-1"},[e._v("UF")]),a("div",{staticClass:"col-4 col-md-2"},[e._v(e._s(e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSInter._titulo)+"\n                  "),a("q-tooltip",[e._v(e._s(e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSInter._doc))])],1),a("div",{staticClass:"col-6 col-md-3"},[e._v(e._s(e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSUFDest._titulo)+"\n                  "),a("q-tooltip",[e._v(e._s(e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSUFDest._doc))])],1),a("div",{staticClass:"col-6 col-md-3"},[e._v(e._s(e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSInterPart._titulo)+"\n                  "),a("q-tooltip",[e._v(e._s(e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSInterPart._doc))])],1),a("div",{staticClass:"col-6 col-md-3"},[e._v(e._s(e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pFCPUFDest._titulo)+"\n                  "),a("q-tooltip",[e._v(e._s(e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pFCPUFDest._doc))])],1)]),e._l(e.campos.icmsInterestadual,function(t,o){return a("div",{key:o,staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-2 col-md-1",attrs:{"apenas-leitura":""},model:{value:t.uf,callback:function(a){e.$set(t,"uf",a)},expression:"item.uf"}}),a("campo",{staticClass:"col-4 col-md-2",attrs:{dica:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSInter._doc,opcoes:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSInter._enumeration,tipo:"seletor"},model:{value:t.pICMSInter,callback:function(a){e.$set(t,"pICMSInter",a)},expression:"item.pICMSInter"}}),a("campo",{staticClass:"col-6 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSUFDest._doc,tipo:"decimal",decimals:"2",suffix:"%"},model:{value:t.pICMSUFDest,callback:function(a){e.$set(t,"pICMSUFDest",a)},expression:"item.pICMSUFDest"}}),a("campo",{staticClass:"col-6 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pICMSInterPart._doc,tipo:"decimal",decimals:"2",suffix:"%"},model:{value:t.pICMSInterPart,callback:function(a){e.$set(t,"pICMSInterPart",a)},expression:"item.pICMSInterPart"}}),a("campo",{staticClass:"col-6 col-md-3",attrs:{dica:e.metadados.infNFe.det.lista.imposto.ICMSUFDest.pFCPUFDest._doc,tipo:"decimal",decimals:"2",suffix:"%"},model:{value:t.pFCPUFDest,callback:function(a){e.$set(t,"pFCPUFDest",a)},expression:"item.pFCPUFDest"}})],1)})]:e._e()],2)]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"bg-white q-ml-sm q-mt-sm q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"q-title"},[e._v("PIS")])]),a("div",{staticClass:"row"},[a("campo",{staticClass:"col-12",attrs:{opcoes:e.metadados.infNFe.det.lista.imposto.noXml_CSTPis._enumeration,"rotulo-fixo":"CST do PIS",tipo:"seletor"},model:{value:e.campos.imposto.pisCst,callback:function(t){e.$set(e.campos.imposto,"pisCst",t)},expression:"campos.imposto.pisCst"}}),e.mostraCampoPis(e.campos.imposto.pisCst,"pPIS")?a("campo",{staticClass:"col-12",attrs:{rotulo:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISAliq.pPIS._titulo,tipo:"decimal",decimals:"4",suffix:"%"},model:{value:e.campos.imposto.pPIS,callback:function(t){e.$set(e.campos.imposto,"pPIS",t)},expression:"campos.imposto.pPIS"}}):e._e(),e.mostraCampoPis(e.campos.imposto.pisCst,"vAliqProdPIS")?a("campo",{staticClass:"col-12",attrs:{rotulo:e.metadados.infNFe.det.lista.imposto.PIS.escolhas.PISQtde.vAliqProd._titulo,tipo:"decimal",decimals:"4"},model:{value:e.campos.imposto.vAliqProdPIS,callback:function(t){e.$set(e.campos.imposto,"vAliqProdPIS",t)},expression:"campos.imposto.vAliqProdPIS"}}):e._e()],1),a("q-item-separator",{staticClass:"q-mt-md q-pt-sm"})],1),a("div",{staticClass:"bg-white q-ml-sm q-mt-sm q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"q-title"},[e._v("COFINS")])]),a("div",{staticClass:"row"},[a("campo",{staticClass:"col-12",attrs:{opcoes:e.metadados.infNFe.det.lista.imposto.noXml_CSTCofins._enumeration,"rotulo-fixo":"CST do COFINS",tipo:"seletor"},model:{value:e.campos.imposto.cofinsCst,callback:function(t){e.$set(e.campos.imposto,"cofinsCst",t)},expression:"campos.imposto.cofinsCst"}}),e.mostraCampoCofins(e.campos.imposto.cofinsCst,"pCOFINS")?a("campo",{staticClass:"col-12",attrs:{rotulo:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSAliq.pCOFINS._titulo,tipo:"decimal",decimals:"4",suffix:"%"},model:{value:e.campos.imposto.pCOFINS,callback:function(t){e.$set(e.campos.imposto,"pCOFINS",t)},expression:"campos.imposto.pCOFINS"}}):e._e(),e.mostraCampoCofins(e.campos.imposto.cofinsCst,"vAliqProdCOFINS")?a("campo",{staticClass:"col-12",attrs:{rotulo:e.metadados.infNFe.det.lista.imposto.COFINS.escolhas.COFINSQtde.vAliqProd._titulo,tipo:"decimal",decimals:"4"},model:{value:e.campos.imposto.vAliqProdCOFINS,callback:function(t){e.$set(e.campos.imposto,"vAliqProdCOFINS",t)},expression:"campos.imposto.vAliqProdCOFINS"}}):e._e()],1)]),a("div",{staticClass:"bg-white q-ml-sm q-mt-sm q-pa-md"},[a("div",{staticClass:"row"},[a("campo",{staticClass:"col-12 q-title",attrs:{rotulo:"IPI",tipo:"logico"},model:{value:e.campos.imposto.ipiVisivel,callback:function(t){e.$set(e.campos.imposto,"ipiVisivel",t)},expression:"campos.imposto.ipiVisivel"}})],1),e.campos.imposto.ipiVisivel?a("div",{staticClass:"row"},[a("campo",{staticClass:"col-12 ",attrs:{opcoes:e.opcoesIpiTipo,"rotulo-fixo":"Tipo de tributação de IPI",tipo:"seletor"},model:{value:e.campos.imposto.ipiTipo,callback:function(t){e.$set(e.campos.imposto,"ipiTipo",t)},expression:"campos.imposto.ipiTipo"}}),e.campos.imposto.ipiTipo?a("campo",{staticClass:"col-12 ",attrs:{opcoes:e.opcoesIpiCstSaida,"rotulo-fixo":"CST para nota de saída",tipo:"seletor"},model:{value:e.campos.imposto.ipiCstSaida,callback:function(t){e.$set(e.campos.imposto,"ipiCstSaida",t)},expression:"campos.imposto.ipiCstSaida"}}):e._e(),e.campos.imposto.ipiTipo?a("campo",{staticClass:"col-12 ",attrs:{opcoes:e.opcoesIpiCstEntrada,"rotulo-fixo":"CST para nota de entrada",tipo:"seletor"},model:{value:e.campos.imposto.ipiCstEntrada,callback:function(t){e.$set(e.campos.imposto,"ipiCstEntrada",t)},expression:"campos.imposto.ipiCstEntrada"}}):e._e(),e.campos.imposto.ipiTipo?a("campo",{staticClass:"col-12 ",attrs:{opcoes:e.opcoesIpiCEnq,dica:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.cEnq._doc,"rotulo-fixo":e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.cEnq._titulo,tipo:"seletor"},model:{value:e.campos.imposto.ipiCEnq,callback:function(t){e.$set(e.campos.imposto,"ipiCEnq",t)},expression:"campos.imposto.ipiCEnq"}}):e._e(),["normal","reducao","outros"].includes(e.campos.imposto.ipiTipo)?a("campo",{staticClass:"col-12",attrs:{rotulo:e.metadados.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.pIPI._titulo,tipo:"decimal",decimals:"4",suffix:"%"},model:{value:e.campos.imposto.pIPI,callback:function(t){e.$set(e.campos.imposto,"pIPI",t)},expression:"campos.imposto.pIPI"}}):e._e()],1):e._e()])])])])],1):e._e()],1)},W$=[];Y$._withStripped=!0;var Z$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("campo",{directives:[{name:"mask",rawName:"v-mask",value:"####",expression:"'####'"}],attrs:{value:e.value,ajuda:e.descricaoCfop,before:[{icon:"search",handler:function(){return e.modalCfop=!0}}],dica:e.metadados.infNFe.det.lista.prod.CFOP._doc,maxlength:"4",rotulo:e.metadados.infNFe.det.lista.prod.CFOP._titulo},on:{input:e.eventoInput}}),a("PromptCfop",{on:{selecionar:e.selecionarCfop},model:{value:e.modalCfop,callback:function(t){e.modalCfop=t},expression:"modalCfop"}})],1)},K$=[];Z$._withStripped=!0;var eR={components:{Campo:Sl,PromptCfop:b_},computed:{metadados:function(){return Et}},data:function(){return{descricaoCfop:"",modalCfop:!1}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.value||4!==this.value.length){e.next=13;break}return e.next=4,this.$db.cfop.le({cfop:Number(this.value)});case 4:if(e.t2=e.sent[0],e.t2){e.next=7;break}e.t2={};case 7:if(e.t1=e.t2.descr,e.t1){e.next=10;break}e.t1="CFOP inválido";case 10:e.t0=e.t1,e.next=14;break;case 13:e.t0="Forneça um CFOP (4 dígitos)";case 14:this.descricaoCfop=e.t0,e.next=20;break;case 17:e.prev=17,e.t3=e["catch"](0),this.$q.notifyError("Ocorreu erro ao consultar CFOP",e.t3);case 20:case"end":return e.stop()}},e,this,[[0,17]])}));return function(){return e.apply(this,arguments)}}(),eventoInput:function(e){this.$emit("input",e)},selecionarCfop:function(e){this.$emit("input",String(e.cfop)),this.modalCfop=!1}},props:{value:{default:"",type:String}},watch:{value:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.atualizar();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},created:function(){this.atualizar()}},tR=eR,aR=Object(sc["a"])(tR,Z$,K$,!1,null,null,null);aR.options.__file="SeletorCfop.vue";var oR=aR.exports,iR=[{valor:"999",rotulo:"999 - Tributação normal IPI; Outros"}],rR=[{valor:"001",rotulo:"001 - Livros, jornais, periódicos e o papel destinado à sua impressão - Art. 18 Inciso I do Decreto 7.212/2010"},{valor:"002",rotulo:"002 - Produtos industrializados destinados ao exterior - Art. 18 Inciso II do Decreto 7.212/2010"},{valor:"003",rotulo:"003 - Ouro, definido em lei como ativo financeiro ou instrumento cambial - Art. 18 Inciso III do Decreto 7.212/2010"},{valor:"004",rotulo:"004 - Energia elétrica, derivados de petróleo, combustíveis e minerais do País - Art. 18 Inciso IV do Decreto 7.212/2010"},{valor:"005",rotulo:"005 - Exportação de produtos nacionais - sem saída do território brasileiro - venda para empresa sediada no exterior -atividades de pesquisa ou lavra de jazidas de petróleo e de gás natural - Art. 19 Inciso I do Decreto 7.212/2010"},{valor:"006",rotulo:"006 - Exportação de produtos nacionais - sem saída do território brasileiro - venda para empresa sediada no exterior - incorporados a produto final exportado para o Brasil - Art. 19 Inciso II do Decreto 7.212/2010"},{valor:"007",rotulo:"007 - Exportação de produtos nacionais - sem saída do território brasileiro - venda para órgão ou entidade de governo estrangeiro ou organismo internacional de que o Brasil seja membro, para ser entregue, no País, à ordem do comprador - Art. 19 Inciso III do Decreto 7.212/2010"}],sR=[{valor:"101",rotulo:"101 - Oleo de menta em bruto, produzido por lavradores - Art. 43 Inciso I do Decreto 7.212/2010"},{valor:"102",rotulo:"102 - Produtos remetidos à exposição em feiras de amostras e promoções semelhantes - Art. 43 Inciso II do Decreto 7.212/2010"},{valor:"103",rotulo:"103 - Produtos remetidos a depósitos fechados ou armazéns-gerais, bem assim aqueles devolvidos ao remetente - Art. 43 Inciso III do Decreto 7.212/2010"},{valor:"104",rotulo:"104 - Produtos industrializados, que com matérias-primas (MP), produtos intermediários (PI) e material de embalagem (ME) importados submetidos a regime aduaneiro especial (drawback - suspensão/isenção), remetidos diretamente a empresas industriais exportadoras - Art. 43 Inciso IV do Decreto 7.212/2010"},{valor:"105",rotulo:'105 - Produtos, destinados à exportação, que saiam do estabelecimento industrial para empresas comerciais exportadoras, com o fim específico de exportação - Art. 43, Inciso V, alínea "a" do Decreto 7.212/2010'},{valor:"106",rotulo:'106 - Produtos, destinados à exportação, que saiam do estabelecimento industrial para recintos alfandegados onde se processe o despacho aduaneiro de exportação - Art. 43, Inciso V, alíneas "b" do Decreto 7.212/2010'},{valor:"107",rotulo:'107 - Produtos, destinados à exportação, que saiam do estabelecimento industrial para outros locais onde se processe o despacho aduaneiro de exportação - Art. 43, Inciso V, alíneas "c" do Decreto 7.212/2010'},{valor:"108",rotulo:"108 - Matérias-primas (MP), produtos intermediários (PI) e material de embalagem (ME) destinados ao executor de industrialização por encomenda - Art. 43 Inciso VI do Decreto 7.212/2010"},{valor:"109",rotulo:"109 - Produtos industrializados por encomenda remetidos ao estabelecimento de origem - Art. 43 Inciso VII do Decreto 7.212/2010"},{valor:"110",rotulo:"110 - Matérias-primas ou produtos intermediários remetidos para emprego em operação industrial realizada pelo remetente fora do estabelecimento - Art. 43 Inciso VIII do Decreto 7.212/2010"},{valor:"111",rotulo:"111 - Veículo, aeronave ou embarcação destinados aemprego em provas de engenharia pelo fabricante - Art. 43 Inciso IX do Decreto 7.212/2010"},{valor:"112",rotulo:"112 - Produtos remetidos, para industrialização ou comércio, de um para outro estabelecimento da mesma firma - Art. 43 Inciso X do Decreto 7.212/2010"},{valor:"113",rotulo:"113 - Bens do ativo permanente remetidosa outro estabelecimento da mesma firma, para serem utilizados no processo industrial do recebedor - Art. 43 Inciso XI do Decreto 7.212/2010"},{valor:"114",rotulo:"114 - Bens do ativo permanente remetidosa outro estabelecimento, para serem utilizados no processo industrial de produtos encomendados pelo remetente - Art. 43 Inciso XII do Decreto 7.212/2010"},{valor:"115",rotulo:"115 - Partes e peças destinadas ao reparo de produtos com defeito de fabricação, quando a operação for executada gratuitamente, em virtude de garantia - Art. 43 Inciso XIII do Decreto 7.212/2010"},{valor:"116",rotulo:"116 - Matérias-primas (MP), produtos intermediários (PI) e material de embalagem (ME) de fabricação nacional, vendidos a estabelecimento industrial, para industrialização de produtos destinados à exportação ou a estabelecimento comercial, para industrialização em outro estabelecimento da mesma firma ou de terceiro, de produto destinado à exportação -Art. 43 Inciso XIV do Decreto 7.212/2010"},{valor:"117",rotulo:"117 - Produtos para emprego ou consumo na industrialização ou elaboração de produto a ser exportado, adquiridos no mercado interno ou importados - Art. 43 Inciso XV do Decreto 7.212/2010"},{valor:"118",rotulo:"118 - Bebidas alcóolicas e demais produtos de produção nacional acondicionados em recipientes de capacidade superior ao limite máximo permitido para venda a varejo - Art. 44 do Decreto 7.212/2010"},{valor:"119",rotulo:"119 - Produtos classificados NCM 21.06.90.10 Ex 02, 22.01, 22.02, exceto os Ex 01 e Ex 02 do Código 22.02.90.00 e 22.03 saídos de estabelecimento industrial destinado a comercial equiparado a industrial - Art. 45 Inciso I do Decreto7.212/2010"},{valor:"120",rotulo:"120 - Produtos classificados NCM 21.06.90.10 Ex 02, 22.01, 22.02, exceto os Ex 01 e Ex 02 do Código 22.02.90.00 e 22.03 saídos de estabelecimento comercial equiparado a industrial destinado aequiparado a industrial - Art. 45 Inciso II do Decreto7.212/2010"},{valor:"121",rotulo:"121 - Produtos classificados NCM 21.06.90.10 Ex 02, 22.01, 22.02, exceto os Ex 01 e Ex 02 do Código 22.02.90.00 e 22.03 saídos de importador destinado a equiparado a industrial - Art. 45 Inciso III do Decreto7.212/2010"},{valor:"122",rotulo:"122 - Matérias-primas (MP), produtos intermediários (PI) e material de embalagem (ME) destinados a estabelecimento que se dedique à elaboração de produtos classificados nos códigos previstos no art. 25 da Lei 10.684/2003 - Art. 46 Inciso I do Decreto 7.212/2010"},{valor:"123",rotulo:"123 - Matérias-primas (MP), produtos intermediários (PI) e material de embalagem (ME) adquiridos por estabelecimentos industriais fabricantes de partes e peças destinadas a estabelecimento industrial fabricante de produto classificado no Capítulo 88 da Tipi - Art. 46 Inciso II do Decreto 7.212/2010"},{valor:"124",rotulo:"124 - Matérias-primas (MP), produtos intermediários (PI) e material de embalagem (ME) adquiridos por pessoas jurídicas preponderantemente exportadoras - Art. 46 Inciso III do Decreto 7.212/2010"},{valor:"125",rotulo:"125 - Materiais e equipamentos destinados a embarcações pré-registradas ou registradas no Registro Especial Brasileira - REB quando adquiridos por estaleiros navais brasileiros - Art. 46 Inciso IV do Decreto 7.212/2010"},{valor:"126",rotulo:"126 - Aquisição por beneficiário de regime aduaneiro suspensivo do imposto, destinado a industrialização para exportação - Art. 47 do Decreto 7.212/2010"},{valor:"127",rotulo:"127 - Desembaraço de produtos de procedência estrangeira importados por lojas francas - Art. 48 Inciso I do Decreto 7.212/2010"},{valor:"128",rotulo:"128 - Desembaraço de maquinas, equipamentos, veículos, aparelhos e instrumentos sem similar nacional importados por empresas nacionais de engenharia, destinados à execução de obras no exterior - Art. 48 Inciso II do Decreto 7.212/2010"},{valor:"129",rotulo:"129 - Desembaraço de produtos de procedência estrangeira com saída de repartições aduaneiras com suspensão do Imposto de Importação - Art. 48 Inciso III do Decreto 7.212/2010"},{valor:"130",rotulo:"130 - Desembaraço de matérias-primas, produtos intermediários e materiais de embalagem, importados diretamente por estabelecimento de que tratam os incisos I a III do caput do Decreto 7.212/2010 - Art. 48 Inciso IV do Decreto 7.212/2010"},{valor:"131",rotulo:"131 - Remessa de produtos para a ZFM destinados ao seu consumo interno, utilização ou industrialização - Art. 84 do Decreto 7.212/2010"},{valor:"132",rotulo:"132 - Remessa de produtos para a ZFM destinados à exportação - Art. 85 Inciso I do Decreto 7.212/2010"},{valor:"133",rotulo:"133 - Produtos que, antes de sua remessa à ZFM, forem enviados pelo seu fabricante a outro estabelecimento, para industrialização adicional, por conta e ordem do destinatário - Art. 85 Inciso II do Decreto 7.212/2010"},{valor:"134",rotulo:"134 - Desembaraço de produtos de procedência estrangeira importados pela ZFM quando ali consumidos ou utilizados, exceto armas, munições, fumo, bebidas alcoólicas e automóveis de passageiros. - Art. 86 do Decreto 7.212/2010"},{valor:"135",rotulo:"135 - Remessa de produtos para a Amazônia Ocidental destinados ao seu consumo interno ou utilização - Art. 96 do Decreto 7.212/2010"},{valor:"136",rotulo:"136 - Entrada de produtos estrangeiros na Área de Livre Comércio de Tabatinga - ALCT destinados ao seu consumo interno ou utilização - Art. 106 do Decreto 7.212/2010"},{valor:"137",rotulo:"137 - Entrada de produtos estrangeiros na Área de Livre Comércio de Guajará-Mirim - ALCGM destinados ao seu consumo interno ou utilização - Art. 109 do Decreto 7.212/2010"},{valor:"138",rotulo:"138 - Entrada de produtos estrangeiros nas Áreas de Livre Comércio de Boa Vista - ALCBV e Bomfim - ALCB destinados a seu consumo interno ou utilização - Art. 112 do Decreto 7.212/2010"},{valor:"139",rotulo:"139 - Entrada de produtos estrangeiros na Área de Livre Comércio de Macapá e Santana -ALCMS destinados a seu consumo interno ou utilização - Art. 116 do Decreto 7.212/2010"},{valor:"140",rotulo:"140 - Entrada de produtos estrangeiros nas Áreas de Livre Comércio de Brasiléia - ALCB e de Cruzeiro do Sul - ALCCS destinados a seu consumo interno ou utilização - Art. 119 do Decreto 7.212/2010"},{valor:"141",rotulo:"141 - Remessa para Zona de Processamento de Exportação - ZPE - Art. 121 do Decreto 7.212/2010"},{valor:"142",rotulo:"142 - Setor Automotivo - Desembaraço aduaneiro, chassis e outros - regime aduaneiro especial - industrialização 87.01 a 87.05 - Art. 136, I do Decreto 7.212/2010"},{valor:"143",rotulo:"143 - Setor Automotivo - Do estabelecimento industrial produtos 87.01 a 87.05 da TIPI - mercado interno - empresa comercial atacadista controlada por PJ encomendante do exterior. - Art. 136, II do Decreto 7.212/2010"},{valor:"144",rotulo:"144 - Setor Automotivo - Do estabelecimento industrial - chassis e outros classificados nas posições 84.29, 84.32, 84.33, 87.01 a 87.06 e 87.11 da TIPI. - Art. 136, III do Decreto 7.212/2010"},{valor:"145",rotulo:"145 - Setor Automotivo - Desembaraço aduaneiro, chassis e outros classificados nas posições 84.29, 84.32, 84.33, 87.01 a 87.06 e 87.11 da TIPI quando importados diretamente por estabelecimento industrial - Art. 136, IV do Decreto 7.212/2010"},{valor:"146",rotulo:"146 - Setor Automotivo - do estabelecimento industrial matérias-primas, os produtos intermediários e os materiais de embalagem, adquiridos por fabricantes, preponderantemente, de componentes, chassis e outrosclassificados nos Códigos 84.29, 8432.40.00, 8432.80.00, 8433.20, 8433.30.00, 8433.40.00, 8433.5 e 87.01 a 87.06 da TIPIArt. 136, V do Decreto 7.212/2010"},{valor:"147",rotulo:"147 - Setor Automotivo -Desembaraço aduaneiro, as matérias-primas, os produtos intermediários e os materiais de embalagem, importados diretamente por fabricantes, preponderantemente, de componentes, chassis e outrosclassificados nos Códigos 84.29, 8432.40.00, 8432.80.00, 8433.20, 8433.30.00, 8433.40.00, 8433.5 e 87.01 a 87.06 da TIPI -Art. 136, VI do Decreto 7.212/2010"},{valor:"148",rotulo:"148 - Bens de Informática e Automação- matérias-primas, os produtos intermediários e os materiais de embalagem, quando adquiridos por estabelecimentos industriais fabricantes dos referidos bens. - Art. 148 do Decreto 7.212/2010"},{valor:"149",rotulo:"149 - Reporto - Saída de Estabelecimento de máquinas e outros quando adquiridos por beneficiários do REPORTO - Art. 166, I do Decreto 7.212/2010"},{valor:"150",rotulo:"150 - Reporto - Desembaraço aduaneiro de máquinas e outros quando adquiridos por beneficiários do REPORTO - Art. 166, II do Decreto 7.212/2010"},{valor:"151",rotulo:"151 - Repes - Desembaraço aduaneiro - bens sem similar nacional importados por beneficiários do REPES - Art. 171 do Decreto 7.212/2010"},{valor:"152",rotulo:"152 - Recine - Saída para beneficiário do regime - Art. 14, III da Lei 12.599/2012"},{valor:"153",rotulo:"153 - Recine - Desembaraço aduaneiro por beneficiário do regime - Art. 14, IV da Lei 12.599/2012"},{valor:"154",rotulo:"154 - Reif - Saída para beneficiário do regime - Lei 12.794/1013, art. 8, III"},{valor:"155",rotulo:"155 - Reif - Desembaraço aduaneiro por beneficiário do regime - Lei 12.794/1013, art. 8, IV"},{valor:"156",rotulo:"156 - Repnbl-Redes - Saída para beneficiário do regime - Lei n° 12.715/2012, art. 30, II"},{valor:"157",rotulo:"157 - Recompe - Saída de matérias-primas e produtos intermediários para beneficiários do regime - Decreto n° 7.243/2010, art. 5°, I"},{valor:"158",rotulo:"158 - Recompe - Saída de matérias-primas e produtos intermediários destinados a industrialização de equipamentos - Programa Estímulo Universidade-Empresa - Apoio à Inovação - Decreto n° 7.243/2010, art. 5°, III"},{valor:"159",rotulo:"159 - Rio 2016 - Produtos nacionais, duráveis, uso e consumo dos eventos, adquiridos pelas pessoas jurídicas mencionadas no § 2o do art. 4o da Lei n° 12.780/2013 - Lei n° 12.780/2013, Art. 13"},{valor:"160",rotulo:"160 - Regime Especial de Admissão Temporária nos Termos do Art. 2o da IN 1361/2013"},{valor:"161",rotulo:"161 - Regime Especial de Admissão Temporária nos termos do art. 5o da IN 1361/2013"},{valor:"162",rotulo:"162 - Regime Especial de Admissão Temporária nos termos do art. 7o da IN 1361/2013 (Suspensão com pagamento de tributos diferidos até a duração do regime, limitado a 100% do valor original)"},{valor:"163",rotulo:"163 - REPETRO-Industrialização Venda no mercado interno de matérias-primas, produtos intermediários e materiais de embalagem para serem utilizados integralmente no processo de industrialização de produto final destinado às atividades de exploração, de desenvolvimento e de produção de petróleo, de gás natural e de outros hidrocarbonetos fluidos à PJ habilitada no Repetro-Industrialização. - Instrução Normativa RFB nº 1901, de 17 de julho de 2019."},{valor:"164",rotulo:"164 - REPETRO-SPED Venda dos produtos finais destinados às atividades de exploração, de desenvolvimento e de produção de petróleo, de gás natural e de outros hidrocarbonetos fluidos previstas na Lei nº 9.478, de 6 de agosto de 1997 , na Lei nº 12.276, de 30 de junho de 2010, e na Lei nº 12.351, de 22 de dezembro de 2010, por fabricantes desses, beneficiários do RepetroIndustrialização, quando diretamente adquiridos por pessoa jurídica habilitada no RepetroSped.- Instrução Normativa RFB nº 1901, de 17 de julho de 2019."},{valor:"165",rotulo:"165 - O transportador com relação aos produtos tributados que transportar desacompanhados da documentação comprobatória de sua procedência; qualquer possuidor - com relação aos produtos tributados cuja posse mantiver para fins de venda ou industrialização; o industrial ou equiparado, mediante requerimento, nas operações anteriores, concomitantes ou posteriores às saídas que promover, nas hipóteses e condições estabelecidas pela Secretaria da Receita Federal, nos termos da IN RFB nº 1.081/2010."}],nR=[{valor:"301",rotulo:"301 - Produtos industrializados por instituições de educação ou de assistência social, destinados a uso próprio ou a distribuição gratuita a seus educandos ou assistidos - Art. 54 Inciso I do Decreto 7.212/2010"},{valor:"302",rotulo:"302 - Produtos industrializados por estabelecimentos públicos e autárquicos da União, dos Estados, do Distrito Federal e dos Municípios, não destinados a comércio - Art. 54 Inciso II do Decreto 7.212/2010"},{valor:"303",rotulo:"303 - Amostras de produtos para distribuição gratuita, de diminuto ou nenhum valor comercial -Art. 54 Inciso III do Decreto 7.212/2010"},{valor:"304",rotulo:"304 - Amostras de tecidos sem valor comercial- Art. 54 Inciso IV do Decreto 7.212/2010"},{valor:"305",rotulo:"305 - Pés isolados de calçados - Art. 54 Inciso V do Decreto 7.212/2010"},{valor:"306",rotulo:"306 - Aeronaves de uso militar e suas partes e peças, vendidas à União - Art. 54 Inciso VI do Decreto 7.212/2010"},{valor:"307",rotulo:"307 - Caixões funerários - Art. 54 Inciso VII do Decreto 7.212/2010"},{valor:"308",rotulo:"308 - Papel destinado à impressão de músicas - Art. 54 Inciso VIII do Decreto 7.212/2010"},{valor:"309",rotulo:"309 - Panelas e outros artefatos semelhantes, de uso doméstico, de fabricação rústica, de pedra ou barro bruto - Art. 54 Inciso IX do Decreto 7.212/2010"},{valor:"310",rotulo:"310 - Chapéus, roupas e proteção, de couro, próprios para tropeiros - Art. 54 Inciso X do Decreto 7.212/2010"},{valor:"311",rotulo:"311 - Material bélico, de uso privativo das Forças Armadas, vendido à União - Art. 54 Inciso XI do Decreto 7.212/2010"},{valor:"312",rotulo:"312 - Automóvel adquirido diretamente a fabricante nacional, pelas missões diplomáticas e repartições consulares de caráter permanente, ou seus integrantes, bem assim pelas representações internacionais ou regionais de que o Brasil seja membro, e seus funcionários, peritos, técnicos e consultores, de nacionalidade estrangeira, que exerçam funções de caráter permanente - Art. 54 Inciso XII do Decreto 7.212/2010"},{valor:"313",rotulo:"313 - Veículo de fabricação nacional adquirido por funcionário das missões diplomáticas acreditadas junto ao Governo Brasileiro - Art. 54 Inciso XIII do Decreto 7.212/2010"},{valor:"314",rotulo:"314 - Produtos nacionais saídos diretamente para Lojas Francas - Art. 54 Inciso XIV do Decreto 7.212/2010"},{valor:"315",rotulo:"315 - Materiais e equipamentos destinados a Itaipu Binacional - Art. 54 Inciso XV do Decreto 7.212/2010"},{valor:"316",rotulo:"316 - Produtos Importados por missões diplomáticas, consulados ou organismo internacional -Art. 54 Inciso XVI do Decreto 7.212/2010"},{valor:"317",rotulo:"317 - Bagagem de passageiros desembaraçada com isenção do II. - Art. 54 Inciso XVII do Decreto 7.212/2010"},{valor:"318",rotulo:"318 - Bagagem de passageiros desembaraçada com pagamento do II. - Art. 54 Inciso XVIII do Decreto 7.212/2010"},{valor:"319",rotulo:"319 - Remessas postais internacionais sujeitas a tributação simplificada. - Art. 54 Inciso XIX do Decreto 7.212/2010"},{valor:"320",rotulo:"320 - Máquinas e outros destinados à pesquisa científica e tecnológica - Art. 54 Inciso XX do Decreto 7.212/2010"},{valor:"321",rotulo:"321 - Produtos de procedência estrangeira, isentos do II conforme Lei n° 8032/1990. - Art. 54 Inciso XXI do Decreto 7.212/2010"},{valor:"322",rotulo:"322 - Produtos de procedência estrangeira utilizados em eventos esportivos - Art. 54 Inciso XXII do Decreto 7.212/2010"},{valor:"323",rotulo:"323 - Veículos automotores, máquinas, equipamentos, bem assim suas partes e peças separadas, destinadas à utilização nas atividades dos Corpos de Bombeiros - Art. 54 Inciso XXIII do Decreto 7.212/2010"},{valor:"324",rotulo:"324 - Produtos importados para consumo em congressos, feiras e exposições - Art. 54 Inciso XXIV do Decreto 7.212/2010"},{valor:"325",rotulo:"325 - Bens de informática, Matéria Prima, produtos intermediários e embalagem destinados a Urnas eletrônicas - TSE - Art. 54 Inciso XXV do Decreto 7.212/2010"},{valor:"326",rotulo:"326 - Materiais, equipamentos, máquinas, aparelhos e instrumentos, bem assim os respectivos acessórios, sobressalentes e ferramentas, que os acompanhem, destinados à construção do Gasoduto Brasil - Bolívia - Art. 54 Inciso XXVI do Decreto 7.212/2010"},{valor:"327",rotulo:"327 - Partes, peças e componentes, adquiridos por estaleiros navais brasileiros, destinados ao emprego na conservação, modernização, conversão ou reparo de embarcações registradas no Registro Especial Brasileiro - REB - Art. 54 Inciso XXVII do Decreto 7.212/2010"},{valor:"328",rotulo:"328 - Aparelhos transmissores e receptores de radiotelefonia e radiotelegrafia; veículos para patrulhamento policial; armas e munições, destinados a órgãos de segurança pública da União, dos Estados e do Distrito Federal - Art. 54 Inciso XXVIII do Decreto 7.212/2010"},{valor:"329",rotulo:"329 - Automóveis de passageiros de fabricação nacional destinados à utilização como táxi adquiridos por motoristas profissionais - Art. 55 Inciso I do Decreto 7.212/2010"},{valor:"330",rotulo:"330 - Automóveis de passageiros de fabricação nacional destinados à utilização como táxi por impedidos de exercer atividade por destruição, furto ou roubo do veículo adquiridos por motoristas profissionais. - Art. 55 Inciso II do Decreto 7.212/2010"},{valor:"331",rotulo:"331 - Automóveis de passageiros de fabricação nacional destinados à utilização como táxi adquiridos por cooperativas de trabalho. - Art. 55 Inciso II do Decreto 7.212/2010"},{valor:"332",rotulo:"332 - Automóveis de passageiros de fabricação nacional, destinados a pessoas portadoras de deficiência física, visual, mental severa ou profunda, ou autistas - Art. 55 Inciso IV do Decreto 7.212/2010"},{valor:"333",rotulo:"333 - Produtos estrangeiros, recebidos em doação de representações diplomáticas estrangeiras sediadas no País,vendidos em feiras, bazares e eventos semelhantes porentidades beneficentes - Art. 67 do Decreto 7.212/2010"},{valor:"334",rotulo:"334 - Produtos industrializados na Zona Franca de Manaus - ZFM, destinados ao seu consumo interno - Art. 81 Inciso I do Decreto 7.212/2010"},{valor:"335",rotulo:"335 - Produtos industrializados na ZFM, por estabelecimentos com projetos aprovados pela SUFRAMA, destinados a comercialização em qualquer outro ponto do Território Nacional -Art. 81 Inciso II do Decreto 7.212/2010"},{valor:"336",rotulo:"336 - Produtos nacionais destinados à entrada na ZFM, para seu consumo interno, utilização ou industrialização, ou ainda, para serem remetidos, por intermédio de seus entrepostos, à Amazônia Ocidental - Art. 81 Inciso III do Decreto 7.212/2010"},{valor:"337",rotulo:"337 - Produtos industrializados por estabelecimentos com projetos aprovados pela SUFRAMA, consumidos ou utilizados na Amazônia Ocidental,ou adquiridos através da ZFM ou de seus entrepostos na referida região - Art. 95 Inciso I do Decreto 7.212/2010"},{valor:"338",rotulo:"338 - Produtos de procedência estrangeira, relacionados na legislação, oriundos da ZFM e que derem entrada na Amazônia Ocidental para ali serem consumidos ou utilizados:- Art. 95 Inciso II do Decreto 7.212/2010"},{valor:"339",rotulo:"339 - Produtos elaborados com matérias-primas agrícolas e extrativas vegetais de produção regional, por estabelecimentos industriais localizados na Amazônia Ocidental, com projetos aprovados pela SUFRAMA - Art. 95 Inciso III do Decreto 7.212/2010"},{valor:"340",rotulo:"340 - Produtos industrializados em Area de Livre Comércio - Art. 105 do Decreto 7.212/2010"},{valor:"341",rotulo:"341 - Produtos nacionais ou nacionalizados, destinados à entrada na Area de Livre Comércio de Tabatinga - ALCT - Art. 107 do Decreto 7.212/2010"},{valor:"342",rotulo:"342 - Produtos nacionais ou nacionalizados, destinados à entrada na Area de Livre Comércio de Guajará-Mirim - ALCGM - Art. 110 do Decreto 7.212/2010"},{valor:"343",rotulo:"343 - Produtos nacionais ou nacionalizados, destinados à entrada nas Areas de Livre Comércio de Boa Vista - ALCBV e Bonfim - ALCB - Art. 113 do Decreto 7.212/2010"},{valor:"344",rotulo:"344 - Produtos nacionais ou nacionalizados, destinados à entrada na Area de Livre Comércio de Macapá e Santana - ALCMS - Art. 117 do Decreto 7.212/2010"},{valor:"345",rotulo:"345 - Produtos nacionais ou nacionalizados, destinados à entrada nas Areas de Livre Comércio de Brasiléia - ALCB e de Cruzeiro do Sul - ALCCS - Art. 120 do Decreto 7.212/2010"},{valor:"346",rotulo:"346 - Recompe - equipamentos de informática - de beneficiário do regime para escolas das redes públicas de ensino federal, estadual, distrital, municipal ou nas escolas sem fins lucrativos de atendimento a pessoas com deficiência - Decreto n° 7.243/2010, art. 7°"},{valor:"347",rotulo:"347 - Rio 2016 - Importação de materiais para os jogos (medalhas, troféus, impressos, bens não duráveis, etc.) - Lei n° 12.780/2013, Art. 4°, §1°, I"},{valor:"348",rotulo:"348 - Rio 2016 - Suspensão convertida em Isenção - Lei n° 12.780/2013, Art. 6°, I"},{valor:"349",rotulo:"349 - Rio 2016 - Empresas vinculadas ao CIO - Lei n° 12.780/2013, Art. 9°, I, d"},{valor:"350",rotulo:"350 - Rio 2016 - Saída de produtos importados pelo RIO 2016- Lei n° 12.780/2013, Art. 10, I, d"},{valor:"351",rotulo:"351 - Rio 2016 - Produtos nacionais, não duráveis, uso e consumo dos eventos, adquiridos pelas pessoas jurídicas mencionadas no § 2o do art. 4o da Lei n° 12.780/2013, Art. 12"}],cR=[{valor:"601",rotulo:"601 - Equipamentos e outros destinados à pesquisa e ao desenvolvimento tecnológico - Art. 72 do Decreto 7.212/2010"},{valor:"602",rotulo:"602 - Equipamentos e outros destinados àempresas habilitadas no PDTI e PDTA utilizados em pesquisa e ao desenvolvimento tecnológico - Art. 73 do Decreto 7.212/2010"},{valor:"603",rotulo:"603 - Microcomputadores e outros de até R$11.000,00, unidades de disco, circuitos, etc, destinados a bens de informática ou automação. Centro-Oeste SUDAM SUDENE - Art. 142, I do Decreto 7.212/2010"},{valor:"604",rotulo:"604 - Microcomputadores e outros de até R$11.000,00, unidades de disco, circuitos, etc, destinados a bens de informática ou automação. - Art. 142, I do Decreto 7.212/2010"},{valor:"605",rotulo:"605 - Bens de informática não incluídos no art. 142 do Decreto 7.212/2010 - Produzidos no CentroOeste, SUDAM, SUDENE - Art. 143, I do Decreto 7.212/2010"},{valor:"606",rotulo:"606 - Bens de informática não incluídos no art. 142 do Decreto 7.212/2010- Art. 143, II do Decreto 7.212/2010"},{valor:"607",rotulo:"607 - Padis - Art. 150 do Decreto 7.212/2010"},{valor:"608",rotulo:"608 - Patvd - Art. 158 do Decreto 7.212/2010"}],lR=[{valor:"999",rotulo:"999 - Tributação normal IPI; Outros"}],dR={normal:iR,imunidade:rR,isencao:nR,suspensao:sR,reducao:cR,outros:lR},uR={components:{Campo:Sl,SeletorCest:Cp,SeletorCfop:oR,SeletorNcm:AC},computed:{campos:function(){return this.modal.campos},metadados:function(){return Et},opcoesIpiTipo:function(){return[{rotulo:"Normal",valor:"normal"},{rotulo:"Tributada com Alíquota zero",valor:"aliquotaZero"},{rotulo:"Isenta",valor:"isencao"},{rotulo:"Não Tributada",valor:"naoTributada"},{rotulo:"Imune",valor:"imunidade"},{rotulo:"Com Suspensão",valor:"suspensao"},{rotulo:"Redução",valor:"reducao"},{rotulo:"Outros",valor:"outros"}]}},data:function(){return{opcoesIpiCEnq:[],opcoesIpiCstEntrada:[],opcoesIpiCstSaida:[]}},methods:{adicionarLinhaNaLista:function(e,t){e[t]||this.$set(e,t,[]),e[t].push({})},removerLinhaDaLista:function(e,t,a){e[t].splice(a,1)},mostraCampo:function(e,t){if(!e)return!1;var a={"00":"ICMS00",10:"ICMS10",20:"ICMS20",30:"ICMS30",40:"ICMS40",41:"ICMS40",50:"ICMS40",51:"ICMS51",60:"ICMS60",70:"ICMS70",90:"ICMS90",101:"ICMSSN101",102:"ICMSSN102",103:"ICMSSN102",201:"ICMSSN201",202:"ICMSSN202",203:"ICMSSN202",300:"ICMSSN102",400:"ICMSSN102",500:"ICMSSN500",900:"ICMSSN900"}[e],o={ICMS00:["modBC","pICMS","pFCP"],ICMS10:["pICMS","pFCP","modBCST","pICMSST","pFCPST"],ICMS20:["modBC","pICMS","pFCP"],ICMS30:["modBCST","pICMSST","pFCPST"],ICMS40:[],ICMS51:["modBC","pICMS","pFCP"],ICMS60:["pST","pFCPSTRet","pICMSEfet"],ICMS70:["modBC","pICMS","pFCP","modBCST","pICMSST","pFCPST"],ICMS90:["modBC","pICMS","pFCP","modBCST","pICMSST","pFCPST"],ICMSSN101:[],ICMSSN102:[],ICMSSN201:["modBCST","pICMSST","pFCPST"],ICMSSN202:["modBCST","pICMSST","pFCPST"],ICMSSN500:["pST","pFCPSTRet","pICMSEfet"],ICMSSN900:["modBC","pICMS","modBCST","pICMSST","pFCPST"]}[a];return!!o&&o.includes(t)},mostraCampoPis:function(e,t){if(!e)return!1;var a=e>="01"&&e<="02"?"PISAliq":"03"===e?"PISQtde":e>="04"&&e<="09"?"PISNT":"PISOutr",o={PISAliq:["pPIS"],PISQtde:["vAliqProdPIS"],PISNT:[],PISOutr:["pPIS","vAliqProdPIS"]}[a];return!!o&&o.includes(t)},mostraCampoCofins:function(e,t){if(!e)return!1;var a=e>="01"&&e<="02"?"COFINSAliq":"03"===e?"COFINSQtde":e>="04"&&e<="09"?"COFINSNT":"COFINSOutr",o={COFINSAliq:["pCOFINS"],COFINSQtde:["vAliqProdCOFINS"],COFINSNT:[],COFINSOutr:["pCOFINS","vAliqProdCOFINS"]}[a];return!!o&&o.includes(t)}},props:{modal:{required:!0,type:Object}},watch:{"modal.campos.icmsInterestadualVisivel":function(e){if(e&&void 0===this.modal.campos.icmsInterestadual){var t=[{uf:"AC",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"AL",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"AM",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"AP",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"BA",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"CE",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"DF",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"ES",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"GO",pICMSInter:"12.00",pICMSInterPart:"100.00"},{uf:"MA",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"MG",pICMSInter:"12.00",pICMSInterPart:"100.00"},{uf:"MS",pICMSInter:"12.00",pICMSInterPart:"100.00"},{uf:"MT",pICMSInter:"12.00",pICMSInterPart:"100.00"},{uf:"PA",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"PB",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"PE",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"PI",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"PR",pICMSInter:"12.00",pICMSInterPart:"100.00"},{uf:"RJ",pICMSInter:"12.00",pICMSInterPart:"100.00"},{uf:"RN",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"RO",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"RR",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"RS",pICMSInter:"12.00",pICMSInterPart:"100.00"},{uf:"SC",pICMSInter:"12.00",pICMSInterPart:"100.00"},{uf:"SE",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"SP",pICMSInter:"12.00",pICMSInterPart:"100.00"},{uf:"TO",pICMSInter:"7.00",pICMSInterPart:"100.00"},{uf:"EX",pICMSInter:"12.00",pICMSInterPart:"100.00"}];for(var a in this.$set(this.modal.campos,"icmsInterestadual",[]),t)this.$set(this.modal.campos.icmsInterestadual,a,t[a])}},"modal.campos.imposto.ipiTipo":function(e){this.campos.imposto||this.$set(this.campos,"imposto",{}),this.opcoesIpiCstEntrada={normal:Et.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST._enumeration.filter(function(e){return["50"].includes(e.valor)}),aliquotaZero:Et.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._enumeration.filter(function(e){return["51"].includes(e.valor)}),isencao:Et.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._enumeration.filter(function(e){return["52"].includes(e.valor)}),naoTributada:Et.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._enumeration.filter(function(e){return["53"].includes(e.valor)}),imunidade:Et.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._enumeration.filter(function(e){return["54"].includes(e.valor)}),suspensao:Et.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._enumeration.filter(function(e){return["55"].includes(e.valor)}),reducao:Et.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST._enumeration.filter(function(e){return["50","99"].includes(e.valor)}),outros:Et.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST._enumeration.filter(function(e){return["99"].includes(e.valor)})}[e]||[],1===this.opcoesIpiCstEntrada.length&&(this.campos.imposto.ipiCstEntrada=this.opcoesIpiCstEntrada[0].valor),this.opcoesIpiCstSaida={normal:Et.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST._enumeration.filter(function(e){return["00"].includes(e.valor)}),aliquotaZero:Et.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._enumeration.filter(function(e){return["01"].includes(e.valor)}),isencao:Et.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._enumeration.filter(function(e){return["02"].includes(e.valor)}),naoTributada:Et.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._enumeration.filter(function(e){return["03"].includes(e.valor)}),imunidade:Et.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._enumeration.filter(function(e){return["04"].includes(e.valor)}),suspensao:Et.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPINT.CST._enumeration.filter(function(e){return["05"].includes(e.valor)}),reducao:Et.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST._enumeration.filter(function(e){return["00","49"].includes(e.valor)}),outros:Et.infNFe.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST._enumeration.filter(function(e){return["49"].includes(e.valor)})}[e]||[],1===this.opcoesIpiCstSaida.length&&(this.campos.imposto.ipiCstSaida=this.opcoesIpiCstSaida[0].valor),this.opcoesIpiCEnq=dR[e]||dR.outros,1===this.opcoesIpiCEnq.length&&(this.campos.imposto.ipiCEnq=this.opcoesIpiCEnq[0].valor)},"modal.visivel":function(e){if(e){var t={id:this.$utils.uuid(),descricao:"Configuração",ordem:100,dataInicio:At["d"].formatDate(new Date((new Date).toDateString())),origemMercadoria:"T",destinatario:{consumidor:"T",destino:"T",indicadorIE:"T",pessoa:"T",regime:"T",tributacao:"T",tributacaoSetor:"T"},emitente:{regime:"1",tributacao:"T",tributacaoSetor:"T"},imposto:{cofinsCst:"",cstCsosn:"",ipiCEnq:"",ipiCstEntrada:"",ipiCstSaida:"",ipiTipo:"",ipiVisivel:!1,modBC:"",modBCST:"",pCOFINS:0,pFCP:0,pFCPST:0,pFCPSTRet:0,pFCPSTRetVisivel:!1,pFCPSTVisivel:!1,pFCPVisivel:!1,pICMS:0,pICMSEfet:0,pICMSST:0,pIPI:0,pPIS:0,pST:0,pisCst:"",vAliqProdCOFINS:0,vAliqProdPIS:0},icmsInterestadualVisivel:!1};for(var a in t)if("object"===Mt()(t[a]))for(var o in void 0===this.modal.campos[a]&&this.$set(this.modal.campos,a,{}),t[a])void 0===this.modal.campos[a][o]&&this.$set(this.modal.campos[a],o,t[a][o]);else void 0===this.modal.campos[a]&&this.$set(this.modal.campos,a,t[a])}}}},mR=uR,pR=(a("5e24"),Object(sc["a"])(mR,Y$,W$,!1,null,null,null));pR.options.__file="ConfiguracoesImpostosModal.vue";var vR=pR.exports,hR={components:{ConfiguracoesImpostosModal:vR},data:function(){return{modalConfig:{visivel:!1,campos:{}},configuracoes:[]}},methods:{abrirConfig:function(e){this.modalConfig={visivel:!0,campos:this.$utils.clonarV2(e),original:this.$utils.clonarV2(e)}},atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.$q.loading.show(),e.next=4,this.$db.configuracaoImposto.le();case 4:for(t=e.sent,a=[],o=!0,i=!1,r=void 0,e.prev=9,s=t[Symbol.iterator]();!(o=(n=s.next()).done);o=!0)c=n.value,l=JSON.parse(c.json),l.id=c.id,a.push(l);e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](9),i=!0,r=e.t0;case 17:e.prev=17,e.prev=18,o||null==s.return||s.return();case 20:if(e.prev=20,!i){e.next=23;break}throw r;case 23:return e.finish(20);case 24:return e.finish(17);case 25:this.configuracoes=a.sort(function(e,t){return e.ordem-t.ordem}),this.$utils.gconsole.log("ConfiguracoesImpostos","atualizar",this.configuracoes.length),e.next=32;break;case 29:e.prev=29,e.t1=e["catch"](0),this.$q.notifyError("Ocorreu erro ao consultar configuração",e.t1);case 32:return e.prev=32,this.$q.loading.hide(),e.finish(32);case 35:case"end":return e.stop()}},e,this,[[0,29,32,35],[9,13,17,25],[18,,20,24]])}));return function(){return e.apply(this,arguments)}}(),duplicarConfig:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this.$utils.clonarV2(this.modalConfig.campos),t.id=this.$utils.uuid(),this.modalConfig={visivel:!0,campos:t},this.$q.notifyPositive("Configuração duplicada com sucesso");case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),removerConfig:function(){var e=Le()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$q.dialog({cancel:!0,color:"negative",title:"Tem certeza?",message:"Ao continuar você irá remover a configuração",ok:"Remover"});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return");case 8:return e.next=10,this.$db.configuracaoImposto.remove(t.id);case 10:return e.next=12,this.atualizar();case 12:this.$q.notifyPositive("A configuração foi removida com sucesso");case 13:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),salvarConfig:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i,r,s,n,c,l,d,u,m,p;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(this.$utils.gconsole.log("ConfiguracoesImpostos","salvarConfig",this.modalConfig.campos),t=this.modalConfig.campos,t.icmsInterestadualVisivel||delete t.icmsInterestadual,Po(!t.descricao,"Descrição não fornecida."),Po(!t.ordem,"Ordem não fornecida."),Po(!t.imposto.cstCsosn,"CST ou CSOSN do ICMS não fornecido."),Po(!t.imposto.cofinsCst,"CST do COFINS não fornecido."),Po(!t.imposto.pisCst,"CST do PIS não fornecido."),a=!0,o=!1,i=void 0,e.prev=11,r=(t.ncms||[])[Symbol.iterator]();!(a=(s=r.next()).done);a=!0)n=s.value,Po(!n.codigo,"NCM não fornecida."),Po(8!==n.codigo.length||8!==Pa(n.codigo).length,"NCM inválido."),Po(!!n.cest&&(9!==n.cest.length||7!==Pa(n.cest).length),"CEST inválido.");e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](11),o=!0,i=e.t0;case 19:e.prev=19,e.prev=20,a||null==r.return||r.return();case 22:if(e.prev=22,!o){e.next=25;break}throw i;case 25:return e.finish(22);case 26:return e.finish(19);case 27:for(c=!0,l=!1,d=void 0,e.prev=30,u=(t.cfops||[])[Symbol.iterator]();!(c=(m=u.next()).done);c=!0)p=m.value,Po(!p.codigo,"CFOP não fornecida."),Po(4!==p.codigo.length||4!==Pa(p.codigo).length,"CFOP inválido.");e.next=38;break;case 34:e.prev=34,e.t1=e["catch"](30),l=!0,d=e.t1;case 38:e.prev=38,e.prev=39,c||null==u.return||u.return();case 41:if(e.prev=41,!l){e.next=44;break}throw d;case 44:return e.finish(41);case 45:return e.finish(38);case 46:return e.next=48,this.$db.configuracaoImposto.grava({atual:{id:this.modalConfig.campos.id,json:JSON.stringify(at()({},this.modalConfig.campos,{id:void 0}))},original:this.modalConfig.original});case 48:return e.next=50,this.atualizar();case 50:this.$q.notifyPositive("Configuração salva com sucesso"),this.modalConfig.visivel=!1;case 52:case"end":return e.stop()}},e,this,[[11,15,19,27],[20,,22,26],[30,34,38,46],[39,,41,45]])}));return function(){return e.apply(this,arguments)}}()},created:function(){this.atualizar()}},fR=hR,CR=(a("9aa6"),Object(sc["a"])(fR,J$,X$,!1,null,null,null));CR.options.__file="ConfiguracoesImpostos.vue";var bR=CR.exports,gR=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"Layout"},[a("barra-topo"),a("q-page-container",[a("q-page",{staticClass:"u-container"},[a("q-toolbar",{staticClass:"q-py-sm",attrs:{color:"none"}},[a("q-toolbar-title",[e._v("Nota fiscal")]),a("q-btn",{attrs:{flat:"",dense:"",icon:"add",round:"",size:"lg"},on:{click:e.adicionarNFe}},[a("q-tooltip",[e._v("Criar nota")])],1)],1),a("router-view")],1)],1)],1)},xR=[];gR._withStripped=!0;var _R={components:{BarraTopo:El},computed:{},data:function(){return{}},methods:{emConstrucao:function(){this.$q.notifyPositive("Em construção")},adicionarNFe:function(){ei.log("NFeLayout","adicionarNFe()"),qa.$emit("adicionarNFe")}},watch:{},created:function(){ei.log("NFeLayout","created()")},mounted:function(){ei.log("NFeLayout","mounted()")}},qR=_R,SR=Object(sc["a"])(qR,gR,xR,!1,null,null,null);SR.options.__file="NFeLayout.vue";var IR=SR.exports,FR=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"NFeLista q-pb-md"},[a("q-card",{staticClass:"shadow-3 row no-shadow"},[a("q-toolbar",{staticClass:"no-shadow q-pa-none",attrs:{"text-color":"black",color:"transparent"}},[a("q-toolbar-title",{staticClass:"q-pa-none"},[a("div",{staticClass:"filters row q-pa-sm q-ma-md bg-white",staticStyle:{"border-radius":"5px","min-height":"60px"}},[a("div",{staticClass:"col-auto"},[a("q-btn",{staticClass:"no-shadow",attrs:{icon:"mdi-filter",round:"",dense:"",flat:"",color:"faded"}})],1),a("div",{staticClass:"col-10 col-md-5 q-ml-sm"},[a("q-chips-input",{attrs:{color:"faded",placeholder:e.grupos.length?"":"Filtre por Empresa, Número..."},on:{input:e.atualizar},model:{value:e.grupos,callback:function(t){e.grupos=t},expression:"grupos"}})],1),a("div",{staticClass:"col-12 col-md-6 q-ml-sm"},[a("div",{staticClass:"row justify-between"},[a("div",{staticClass:"col-auto q-pl-lg"},[a("campo",{attrs:{tipo:"data"},on:{input:e.atualizar},model:{value:e.dataIni,callback:function(t){e.dataIni=t},expression:"dataIni"}})],1),a("div",{staticClass:"col-auto q-pl-sm q-pt-sm"},[a("label",[e._v("até")])]),a("div",{staticClass:"col-auto q-pl-lg"},[a("campo",{attrs:{tipo:"data"},on:{input:e.atualizar},model:{value:e.dataFim,callback:function(t){e.dataFim=t},expression:"dataFim"}})],1)])])])])],1)],1),e.temRegistros?[a("q-list",{staticClass:"no-border"},[e.notasEmDigitacao.length?a("q-collapsible",{attrs:{opened:"",label:"Em digitação"}},e._l(e.notasEmDigitacao,function(e){return a("div",{key:e.id},[a("NFeCard",{staticClass:"q-mb-md",attrs:{nota:e}})],1)})):e._e(),e.notasEmitidas.length?a("q-collapsible",{attrs:{opened:"",label:"Emitidas"}},e._l(e.notasEmitidas,function(e){return a("div",{key:e.id},[a("NFeCard",{staticClass:"q-mb-md",attrs:{nota:e}})],1)})):e._e(),e.notasOutras.length?a("q-collapsible",{attrs:{opened:"",label:"Outros status"}},e._l(e.notasOutras,function(e){return a("div",{key:e.id},[a("NFeCard",{staticClass:"q-mb-md",attrs:{nota:e}})],1)})):e._e()],1)]:[e._m(0)],a("NFePrincipal",{on:{fechar:e.fechouNFe}})],2)},wR=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-lg text-center"},[a("p",[a("small",[e._v("Não há notas com o filtro selecionado")])])])}];FR._withStripped=!0;var yR=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.nota.id?a("q-card",{staticClass:"NFeExtratoItem bg-white q-pa-md no-shadow"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-10 col-md-6"},[a("div",{staticClass:"q-px-sm"},[a("q-toolbar-title",[e._v("\n          "+e._s(e.nota.xNomeDestinatario||"Destinatário não preenchido")+"\n        ")]),a("q-chip",{staticClass:"q-ma-sm q-my-sm",attrs:{rounded:"",color:"grey",small:""}},[e._v("\n          "+e._s(e.nota.situacao)+e._s("2"===e.nota.tpAmb?" - Homologação":"")+"\n        ")])],1)]),a("div",{staticClass:"col-2 col-md-2"},[a("div",{staticClass:"q-px-sm"},[a("BadgeCopiarUid",{staticClass:"q-mr-sm",attrs:{id:e.nota.id,numero:e.nota.nNF,cor:e.badgeCor}})],1)]),a("div",{staticClass:"col-4 col-md-1"},[a("q-tooltip",[e._v("\n        Emissão\n      ")]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v(e._s(e._f("mesNome")(e.nota.dataHoraEmissao)))])]),a("p",{staticClass:"text-center q-my-none q-headline text-weight-bold"},[a("strong",[e._v(e._s(e._f("dia")(e.nota.dataHoraEmissao)))])]),a("p",{staticClass:"text-center q-my-none"},[a("small",[e._v(e._s(e._f("ano")(e.nota.dataHoraEmissao)))])])],1),a("div",{staticClass:"col-8 col-md-3"},[a("dl",{staticClass:"float-right full-width q-mb-sm"},[a("dt",{staticClass:"text-right q-headline text-positive text-weight-bold"},[e._v("\n          "+e._s(e._f("numero")(e.nota.vNF,2))+"\n        ")])]),"Em digitação"===e.nota.situacao?[a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"edit",color:"primary",size:"md"},on:{click:e.abrirNFe}})]:[a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"remove_red_eye",color:"primary",size:"md"},on:{click:e.abrirNFe}})],a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:"print",color:"primary",size:"md"}},[a("q-popover",[a("q-list",{attrs:{link:"",separator:""}},[a("q-item",{nativeOn:{click:function(t){e.imprimir("nfe-danfe",(e.nota||{}).id||"0")}}},[a("q-item-side",{attrs:{icon:"print"}}),a("q-item-main",{attrs:{label:"Imprimir DANFE"}})],1)],1)],1)],1),a("q-btn",{staticClass:"no-shadow q-ma-xs",staticStyle:{float:"right"},attrs:{rounded:"",dense:"",flat:"",icon:e.detalhesVisivel?"keyboard_arrow_up":"keyboard_arrow_down",size:"md",color:"grey"},on:{click:function(t){e.detalhesVisivel=!e.detalhesVisivel}}})],2)]),e.detalhesVisivel?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"q-px-sm"},[a("q-toolbar-title",{staticClass:"q-mx-none q-mt-sm q-px-none"},[a("q-icon",{attrs:{name:"business"}}),e._v("\n          "+e._s(e.nota.xFantEmitente||e.nota.xNomeEmitente)+"\n        ")],1)],1)])]):e._e()]):e._e()},NR=[];yR._withStripped=!0;var kR={components:{BadgeCopiarUid:px},data:function(){return{detalhesVisivel:!1}},computed:{},methods:{abrirNFe:function(){qa.$emit("abrirNFe",this.nota.id)}},mixins:[Xg],props:{nota:{required:!0,type:Object}},watch:{},created:function(){ei.log("NFeCard","created()")},mounted:function(){ei.log("NFeCard","mounted()")}},MR=kR,PR=(a("11b9"),Object(sc["a"])(MR,yR,NR,!1,null,null,null));PR.options.__file="NFeCard.vue";var DR=PR.exports,ER={components:{Campo:Sl,NFeCard:DR,NFePrincipal:fq},computed:{},data:function(){return{dataFim:null,dataIni:null,grupos:[],notasEmDigitacao:[],notasEmitidas:[],notasOutras:[],temRegistros:!1}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){var t,a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ei.log("NFeLista","atualizar()"),e.prev=1,this.$q.loading.show(),e.next=5,Zn.documentoFiscalEletronico.le({tipo:"NFe"});case 5:t=e.sent,this.dataIni&&this.dataFim&&(a=new Date(this.dataIni).setHours(0,0,0,0),o=new Date(this.dataFim).setHours(23,59,59,0),t=t.filter(function(e){var t=new Date(e.dataHoraEmissao);return t>=a&&t<=o})),this.grupos.length&&(i=this.grupos.map(function(e){return oo(e).toUpperCase()}),t=t.filter(function(e){var t=oo(e.chNFe.toUpperCase()+e.xNomeEmitente.toUpperCase()+e.xFantEmitente.toUpperCase()+e.cpfCnpjDestinatario.toUpperCase()+e.xNomeDestinatario.toUpperCase()+" "+String(e.nNF)+" "),a=!0,o=!0,r=!1,s=void 0;try{for(var n,c=i[Symbol.iterator]();!(o=(n=c.next()).done);o=!0){var l=n.value;a=l.length>9||isNaN(Number(l))?a&&t.includes(l):a&&t.includes(" "+l+" ")}}catch(e){r=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(r)throw s}}return a})),t=Object(ot["orderBy"])(t,["dataHoraEmissao"],["desc"]),this.notasEmDigitacao=t.filter(function(e){return["Em digitação"].includes(e.situacao)}),this.notasEmitidas=t.filter(function(e){return["Emitido","Carta de Correção"].includes(e.situacao)}),this.notasOutras=t.filter(function(e){return!["Em digitação","Carta de Correção","Emitido"].includes(e.situacao)}),this.temRegistros=!!this.notasEmDigitacao.length||!!this.notasEmitidas.length||!!this.notasOutras.length,e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](1),this.$q.notifyError("Erro ao carregar notas",e.t0);case 18:return e.prev=18,this.$q.loading.hide(),e.finish(18);case 21:case"end":return e.stop()}},e,this,[[1,15,18,21]])}));return function(){return e.apply(this,arguments)}}(),fechouNFe:function(e){ei.log("NFeLista","fechouNFe()",e),e&&this.atualizar()},limparFiltro:function(){this.grupos=[],this.dataFim=new Date,this.dataIni=new Date(ra()().add(-7,"days"))}},watch:{},created:function(){ei.log("NFeLista","created()")},mounted:function(){ei.log("NFeLista","mounted()"),this.limparFiltro(),this.atualizar()}},TR=ER,AR=(a("1885"),Object(sc["a"])(TR,FR,wR,!1,null,"51d8c0ca",null));AR.options.__file="NFeLista.vue";var OR=AR.exports,$R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},RR=[];$R._withStripped=!0;var jR={created:function(){this.$utils.gconsole.log("Plataforma15","created()",this.$route.name,JSON.stringify(this.$route.params))},watch:{"$route.params.objeto":function(e){this.$route.params.id||(this.$utils.gconsole.log("Plataforma15","$route.params.objeto",this.$route.params.objeto),this.$root.$emit("plaforma15EnviarMensagem",{objeto:this.$route.params.objeto}),this.$root.$emit("fecharMenu"))},"$route.params.id":function(e){e&&(this.$utils.gconsole.log("Plataforma15","objeto",this.$route.params.objeto),this.$root.$emit("plaforma15EnviarMensagem",{objeto:this.$route.params.objeto}),this.$root.$emit("fecharMenu"))}}},zR=jR,BR=Object(sc["a"])(zR,$R,RR,!1,null,null,null);BR.options.__file="Plataforma15.vue";var LR=BR.exports,VR=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"fixed-center text-center"},[o("img",{attrs:{src:a("c4e4"),alt:"Desenho de rosto triste."}}),o("h2",{staticClass:"q-mb-none text-dark"},[e._v("Erro 404")]),o("p",{staticClass:"text-faded"},[e._v("Desculpe, não há nada aqui.")]),o("q-btn",{staticClass:"q-mt-lg",attrs:{color:"grey",outline:""},on:{click:e.goBack}},[e._v("Voltar")])],1)},UR=[];VR._withStripped=!0;var HR={methods:{goBack:function(){this.$router.push("/")}}},QR=HR,GR=Object(sc["a"])(QR,VR,UR,!1,null,null,null);GR.options.__file="Erro404.vue";var JR=GR.exports,XR=[{path:"/",redirect:{name:"Home"}},{name:"Caixa",path:"/caixa/:id?",component:Ku,meta:{requiresAuth:!0},redirect:{name:"CaixaEmpresas"},children:[{name:"CaixaEmpresas",path:"empresas",component:fb},{name:"CaixaTesouraria",path:"tesouraria",component:Tb}]},{name:"Configuracoes",path:"/configuracoes/:id?",component:kd,meta:{requiresAuth:!0},children:[{name:"ConfiguracoesEmpresas",path:"empresas",component:eu},{name:"ConfiguracoesUsuarios",path:"usuarios",component:su},{name:"ConfiguracoesDocumentosFiscais",path:"documentos-fiscais",component:Su},{name:"ConfiguracoesImpostos",path:"configuracoes-impostos",component:bR},{name:"ConfiguracoesSped",path:"sped",component:Au},{name:"ConfiguracoesVendas",path:"vendas",component:Bu},{name:"ConfiguracoesFinanceiro",path:"financeiro",component:Gu}]},{name:"Atendimento",path:"/atendimento/:id?",component:ug,meta:{requiresAuth:!0},beforeEnter:function(e,t,a){if(e.params.id)return a(!0);var o=localStorage.getItem("contatoSelecionado")||"0";a({name:"Atendimento",params:{id:o}})},children:[{name:"AtendimentoAnotacoes",path:"anotacoes",component:Cg},{name:"AtendimentoContato",path:"contato",component:hw},{name:"AtendimentoFinanceiro",path:"financeiro",component:Mg},{name:"AtendimentoOticaReceita",path:"otica-receita",component:Lg},{name:"AtendimentoVenda",path:"venda",component:wq},{name:"AtendimentoFatura",path:"fatura",component:Dq},{name:"AtendimentoEquipamentos",path:"equipamentos",component:Uq}]},{name:"Qg",path:"/qg/:id?",component:kF,meta:{requiresAuth:!0},children:[{name:"QgQg",path:"qg",component:AF},{name:"QgEquipe",path:"equipe",component:BF},{name:"QgEstoque",path:"estoque",component:GF}]},{name:"Qg2",path:"/qg2/:id?",component:Wq,meta:{requiresAuth:!0},redirect:{name:"Qg2Dashboard"},children:[{name:"Qg2Dashboard",path:"dashboard",component:uI},{name:"Qg2Equipe",path:"equipe",component:CI},{name:"Qg2Records",path:"records",component:KI},{name:"Qg2Estoque",path:"estoque",component:SF}]},{name:"Autenticacao",path:"/autenticacao",component:zA,redirect:{name:"AutenticacaoEntrar"},children:[{name:"AutenticacaoBancos",path:"bancos-de-dados/:operacao?",component:QA,meta:{requiresAuth:!0}},{name:"AutenticacaoEntrar",path:"entrar",component:ZA}]},{name:"Cockpit",path:"/cockpit/:id?",component:Ak,meta:{requiresAuth:!0},children:[{name:"CockpitVendedor",path:"vendedor",component:Bk},{name:"CockpitEnvelopes",path:"envelopes",component:Gk,props:!0},{name:"CockpitPerformance",path:"performance",component:kM},{name:"CockpitVendas",path:"vendas",component:AM,props:!0},{name:"CockpitFaturas",path:"faturas",component:BM,props:!0}]},{name:"Site",path:"/site/:id?",component:oT,meta:{requiresAuth:!0}},{name:"Pdv",path:"/pdv/:id?",component:Rw,meta:{requiresAuth:!0}},{name:"Modelo",path:"/Modelo/:id?",component:SN,meta:{requiresAuth:!0}},{name:"ModeloFinanceiro",path:"/ModeloFinanceiro/:id?",component:AN,meta:{requiresAuth:!0}},{name:"ClubApp",path:"/clubapp/:id?",component:BN,meta:{requiresAuth:!0}},{name:"ClubApp2",path:"/clubapp2/:id?",component:GN,meta:{requiresAuth:!0}},{name:"ClubApp3",path:"/meub15/:id?",component:rk,meta:{requiresAuth:!0}},{name:"Club",path:"/club/:id?",component:uk,meta:{requiresAuth:!0}},{name:"ClubProdutoSingle",path:"/clubprodutosingle/:id?",component:kk,meta:{requiresAuth:!0}},{name:"ClubSingle",path:"/clubsingle/:id?",component:Sk,meta:{requiresAuth:!0}},{name:"Desenvolvedor",path:"/desenvolvedor",component:pO,meta:{requiresAuth:!0}},{name:"AdmEnvelopes",path:"/admenvelopes",component:WP,meta:{requiresAuth:!0}},{name:"AdmCustom",path:"/admcustom",component:_D,meta:{requiresAuth:!0}},{name:"AdmOS",path:"/admos",component:oD,meta:{requiresAuth:!0}},{name:"Kanban",path:"/kanban",component:yD,meta:{requiresAuth:!0}},{name:"FunilVendas",path:"/funilvendas",component:jD,meta:{requiresAuth:!0}},{name:"Tarefas",path:"/tarefas",component:WE,meta:{requiresAuth:!0}},{name:"Editor",path:"/editor/:id?/:versao?",component:qO,meta:{requiresAuth:!0}},{name:"Imprimir",path:"/imprimir/:nome/:parametro?",component:TO,meta:{requiresAuth:!0}},{name:"Financeiro",path:"/financeiro",component:lT,meta:{requiresAuth:!0},redirect:{name:"FinanceiroDashboard"},children:[{name:"FinanceiroDashboard",path:"dashboard",component:qA},{name:"FinanceiroReceber",path:"receber",component:tk},{name:"FinanceiroPagar",path:"pagar",component:TA},{name:"FinanceiroExtrato",path:"extrato",component:NA},{name:"FinanceiroBoletos",path:"boletos",component:hT}]},{name:"Item",path:"/item/:id?",component:s$,meta:{requiresAuth:!0},beforeEnter:function(e,t,a){if(e.params.id)return a(!0);var o=localStorage.getItem("itemSelecionado")||"0";a({name:"Item",params:{id:o}})},children:[{name:"ItemEstoque",path:"estoque",component:b$},{name:"ItemFicha",path:"ficha",component:w$}]},{name:"NFe",path:"/nfe",component:IR,meta:{requiresAuth:!0},redirect:{name:"NFeLista"},children:[{name:"NFeLista",path:"lista",component:OR}]},{name:"MenuFiscal",path:"/menu-fiscal",component:k$,meta:{requiresAuth:!0}},{name:"Plataforma15",path:"/plataforma15/:objeto/:id?",component:LR,meta:{requiresAuth:!0}},{name:"Pupilometro",path:"/pupilometro",component:bf,meta:{requiresAuth:!0}},{name:"LayoutBarraTopo",path:"",component:A$,children:[{name:"Home",path:"/home",component:B$,meta:{requiresAuth:!0}},{name:"CriarBanco",path:"/criar-banco",component:G$,meta:{requiresAuth:!0}}]}];XR.push({path:"*",component:JR});var YR=XR;i["default"].use(Cd["a"]);var WR=function(){var e=new Cd["a"]({scrollBehavior:function(){return{y:0}},routes:YR,mode:"history",base:"/"});return e.beforeEach(function(e,t,a){-1!==window.location.href.search("http://app")&&(window.location.href=window.location.href.replace("http:","https:"));var o=e.matched.some(function(e){return e.meta.requiresAuth}),i=JSON.parse(localStorage.getItem("usuario"))||!1,r=i&&"string"===typeof i.token;return ei.log("router","".concat(e.name," requerAutenticacao:").concat(o," possuiToken:").concat(r)),o?r?e.matched.some(function(e){return"AutenticacaoBancos"===e.name})?a(!0):"ok"!==localStorage.getItem("sincronismoPlat")?a({name:"AutenticacaoBancos"}):!tc.status.carregou||tc.status.concluidoErp||["CriarBanco","Desenvolvedor","Home","Plataforma15"].includes(e.name)?(fo(),a(!0)):(qa.$emit("notifyError","Aguarde o final do sincronismo para esta operaçao"),a({name:"Home"})):a({name:"AutenticacaoEntrar"}):a(!r||"/")}),e},ZR=function(){var e="function"===typeof fd?fd():fd,t="function"===typeof WR?WR({store:e}):WR;e.$router=t;var a={el:"#q-app",router:t,store:e,render:function(e){return e(Gl)}};return{app:a,store:e,router:t}},KR=a("9483");Object(KR["a"])("/service-worker.js",{ready:function(){console.log("App is being served from cache by a service worker.")},registered:function(e){console.log("Service worker has been registered.")},cached:function(e){console.log("Content has been cached for offline use.")},updatefound:function(e){console.log("New content is downloading.")},updated:function(e){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var ej=function(e){var t=e.Vue;t.prototype.$axios=gt.a},tj=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("campo",{attrs:{value:e.campos.apelido,before:[{icon:"search",handler:function(){return e.modal=!0}}],rotulo:e.rotulo,"apenas-leitura":""},on:{click:function(t){e.modal=!0}}}),a("PromptContatoNovo",{attrs:{filtro:e.filtro},on:{selecionar:e.selecionar},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}})],1)},aj=[];tj._withStripped=!0;var oj={components:{PromptContatoNovo:Yd},data:function(){return{campos:{},modal:!1}},methods:{atualizar:function(){var e=Le()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$db.contato.le({id:this.value});case 3:this.campos=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$q.notifyError("Erro ao consultar",e.t0);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),selecionar:function(e,t){try{this.campos=t,this.$emit("input",t.id),this.$emit("selecionar",t),this.modal=!1}catch(e){this.$q.notifyError("Erro ao selecionar",e)}}},props:{value:{default:"",type:String},filtro:{default:function(){return{ativo:!0}},type:Object},rotulo:{default:"",type:String}},watch:{value:function(e){e!==this.campos.id&&this.atualizar()}},created:function(){this.atualizar()}},ij=oj,rj=Object(sc["a"])(ij,tj,aj,!1,null,null,null);rj.options.__file="SeletorContato.vue";var sj=rj.exports,nj=function(e){var t=e.Vue;t.component("Badge",Bd),t.component("Campo",Sl),t.component("SeletorCest",Cp),t.component("SeletorCfop",oR),t.component("SeletorContato",sj),t.component("SeletorItem",Rf),t.component("SeletorNcm",AC)},cj=function(e){var t=e.Vue;t.prototype.$db=Zn};function lj(e){return"object"===Mt()(e)?e:(e="string"===typeof e&&10===e.length?new Date(e+"T00:00:00"):new Date(e),isNaN(e)?"":e)}var dj=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],uj=["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],mj=function(e){var t=e.Vue,a={ano:function(e){return e?lj(e).getFullYear().toString():""},cpfCnpj:function(e){return e?14===e.length?e.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/g,"$1.$2.$3/$4-$5"):11===e.length?e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/g,"$1.$2.$3-$4"):void 0:""},data:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e&&(e=lj(e),e)?e.toLocaleDateString("pt-BR"):t||""},dataExtenso:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(e&&(e=lj(e),e)){var a=ka(e.getDate()),o=uj[e.getMonth()],i=ka(e.getFullYear());return"".concat(a," de ").concat(o," de ").concat(i)}return t||""},dataHora:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e&&(e=lj(e),e)?e.toLocaleString("pt-BR"):t||""},dia:function(e){return e?lj(e).getDate().toString().padStart(2,"0"):""},diaMes:function(e){return e?lj(e).getDate().toString().padStart(2,"0")+"/"+(lj(e).getMonth()+1).toString().padStart(2,"0"):""},dinheiro:function(e){return e="number"===typeof e?e:Number(e),e.toLocaleString("pt-BR",{currency:"BRL",style:"currency"})},hora:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e&&(e=lj(e),e)?e.toLocaleTimeString("pt-BR"):t||""},numero:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return void 0===a||e?(Number(e)||0).toFixed(t||0).replace(".",",").replace(/\d(?=(\d{3})+,)/g,"$&."):a},numeroExtenso:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return void 0===t||e?ka(e||0,!0):t},numeroSinal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(void 0!==a&&!Number(e))return a;var o=Number(e)>0?"+":"";return o+(Number(e)||0).toFixed(t||0).replace(".",",").replace(/\d(?=(\d{3})+,)/g,"$&.")},numeroSinalPonto:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=Number(e)>0?"+":"";return a+(Number(e)||0).toFixed(t||0)},numeroNotaFiscal:function(e){return("000000000"+e).slice(-9).replace(/\d(?=(\d{3})+$)/g,"$&.")},mes:function(e){return e?(lj(e).getMonth()+1).toString().padStart(2,"0"):""},mesNome:function(e){return e?dj[lj(e).getMonth()]:""}};for(var o in a)t.filter(o,a[o]);t.prototype.$filters=a},pj=function(e){var t=e.Vue,a=e.router;t.prototype.imprimir=function(e,t){t=t?"object"===Mt()(t)?Ct.encodeToUrl(JSON.stringify(t)):Ct.encodeToUrl(t):"",a.push({name:"Imprimir",params:{nome:e,parametro:t}})}},vj=function(e){var t=e.Vue;e.router;t.prototype._=it.a},hj=function(e){var t=e.Vue;t.mixin({methods:{tryCatch:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(a);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e["catch"](0),o=a&&"object"===Mt()(a)&&a.erro?a.erro:"Ops! Ocorreu um erro",this.$q.notifyError(o,e.t0);case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t,a){return e.apply(this,arguments)}}(),tryLoading:function(){var e=Le()(regeneratorRuntime.mark(function e(t,a){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.$q.loading.show(),e.next=4,t(a);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](0),o=a&&"object"===Mt()(a)&&a.erro?a.erro:"Ops! Ocorreu um erro",this.$q.notifyError(o,e.t0);case 10:return e.prev=10,this.$q.loading.hide(),e.finish(10);case 13:case"end":return e.stop()}},e,this,[[0,6,10,13]])}));return function(t,a){return e.apply(this,arguments)}}(),routerRetry:function(){var e=Le()(regeneratorRuntime.mark(function e(t){var a,o,i,r,s,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,this.$q.loading.show(),a=this.$route.name,o=t.name,i=!1,r=1,s=1;case 7:if(!(s<=10)){e.next=32;break}return e.prev=8,e.next=11,new Promise(function(e,a){return n.$router.push(t,e,e)});case 11:r=1;case 12:if(i=o===this.$route.name||this.$route.name!==a,!i){e.next=16;break}return e.abrupt("return",!0);case 16:if(!(r++>10)){e.next=18;break}return e.abrupt("break",22);case 18:return e.next=20,this.$utils.dormir(1e3);case 20:e.next=12;break;case 22:console.error("Erro no router.push\nRota de:",this.$route.name,"\nRota para:",JSON.stringify(t),"\nTentativa:",s),e.next=29;break;case 25:return e.prev=25,e.t0=e["catch"](8),console.log("Router.push para a mesma rota\nRota de:",this.$route.name,"\nRota para:",JSON.stringify(t),"\nTentativa:",s),e.abrupt("return",!0);case 29:s++,e.next=7;break;case 32:return e.prev=32,this.$q.loading.hide(),e.finish(32);case 35:return e.abrupt("return",!1);case 36:case"end":return e.stop()}},e,this,[[0,,32,35],[8,25]])}));return function(t){return e.apply(this,arguments)}}()}})},fj=function(e){var t=e.Vue,a=t.prototype.$q;a.cancelDialog=function(e){var t={cancel:!0,color:"negative",title:"Tem certeza?",message:"Ao continuar você irá remover este item.",ok:"Remover"};return e&&"string"===typeof e&&(e={message:e}),e=Object.assign({},t,e),a.dialog(e)},a.notifyAlert=function(e){return a.notify({message:e,type:"warning"})},a.notifyError=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t&&t.name&&["Alerta","ErroValidacao"].includes(t.name);if(o&&(e=t.message),o?console.error("Mensagem ao usuário:",e):console.error("Mensagem ao usuário:",e,"\n",t.stack),a.notify({message:e,type:"Alerta"===t.name?"warning":"negative"}),t.message&&!o)try{He().sincronismoFila.add({id:hi(),acao:"erro",tabela:"erro",chave:hi(),valor:{mensagem:e,errorName:t.name,errorMessage:t.message,errorStack:t.stack},dataHora:na(),idUsuario:Zn.usuario.logado.id,nomeUsuario:Zn.usuario.logado.nome}).catch(function(e){return console.error("Erro 33:","\n",e.stack)})}catch(e){console.error("Erro 34:","\n",e.stack)}return e},a.notifyPositive=function(e){return a.notify({message:e,type:"positive"})}},Cj=a("2576"),bj=function(e){var t=e.Vue;t.prototype.$resizeImage=Cj["a"]},gj=function(e){var t=e.Vue;t.prototype.$utils=o},xj=a("3a60"),_j=a.n(xj),qj=function(e){var t=e.Vue;t.use(_j.a)},Sj=a("1dce"),Ij=a.n(Sj),Fj=function(e){var t=e.Vue;t.use(Ij.a)},wj=a("fe3c"),yj=a.n(wj),Nj=ZR(),kj=Nj.app,Mj=Nj.store,Pj=Nj.router;/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&document.addEventListener("DOMContentLoaded",function(){yj.a.attach(document.body)},!1),[ej,nj,cj,mj,pj,vj,hj,fj,bj,gj,qj,Fj].forEach(function(e){e({app:kj,router:Pj,store:Mj,Vue:i["default"],ssrContext:null})}),new i["default"](kj)},3:function(e,t){},"306b":function(e,t,a){"use strict";var o=a("bb95"),i=a.n(o);i.a},3186:function(e,t,a){"use strict";var o=a("07a4"),i=a.n(o);i.a},"321e":function(e,t,a){},"33ad":function(e,t,a){},3567:function(e,t,a){"use strict";var o=a("2acf"),i=a.n(o);i.a},"362a":function(e,t,a){},3658:function(e,t,a){},3665:function(e,t,a){},"37b3":function(e,t,a){"use strict";var o=a("4ed2"),i=a.n(o);i.a},"39c1":function(e,t,a){"use strict";var o=a("5fc9"),i=a.n(o);i.a},"3a02":function(e,t,a){},"3b28":function(e,t,a){"use strict";var o=a("c5a9"),i=a.n(o);i.a},"3bc2":function(e,t,a){},"3d25":function(e,t,a){},"3d4e":function(e,t,a){},"3da0":function(e,t,a){},"3dc3":function(e,t,a){},"3ea1":function(e,t,a){"use strict";var o=a("a763"),i=a.n(o);i.a},"3ee3":function(e,t,a){},"3ee9":function(e,t,a){"use strict";var o=a("1ffe"),i=a.n(o);i.a},"3f5e":function(e,t,a){"use strict";var o=a("8098"),i=a.n(o);i.a},"3fa9":function(e,t,a){},4033:function(e,t,a){},4105:function(e,t,a){},"413a":function(e,t,a){"use strict";var o=a("9fdb"),i=a.n(o);i.a},"41da":function(e,t,a){"use strict";var o=a("bcc6"),i=a.n(o);i.a},4462:function(e,t,a){},"455e":function(e,t,a){"use strict";var o=a("4874"),i=a.n(o);i.a},4678:function(e,t,a){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"68875","./br.js":"68875","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=r(e);return a(t)}function r(e){var t=o[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id="4678"},"47a2":function(e,t,a){},4874:function(e,t,a){},"48be":function(e,t,a){"use strict";var o=a("0f0e"),i=a.n(o);i.a},"492a":function(e,t,a){"use strict";var o=a("1c2e"),i=a.n(o);i.a},"49c5":function(e,t,a){},"4b12":function(e,t,a){},"4bc4":function(e,t,a){"use strict";var o=a("4462"),i=a.n(o);i.a},"4cba":function(e,t,a){"use strict";var o=a("0937"),i=a.n(o);i.a},"4cbb":function(e,t,a){"use strict";var o=a("4033"),i=a.n(o);i.a},"4cff":function(e,t,a){"use strict";var o=a("3fa9"),i=a.n(o);i.a},"4d14":function(e,t,a){},"4d30":function(e,t,a){},"4d4c":function(e,t,a){},"4e31":function(e,t,a){"use strict";var o=a("0f20"),i=a.n(o);i.a},"4ed2":function(e,t,a){},"4f64":function(e,t,a){"use strict";var o=a("2d7f2"),i=a.n(o);i.a},5000:function(e,t,a){"use strict";var o=a("fee0"),i=a.n(o);i.a},5160:function(e,t,a){},"53a6":function(e,t,a){"use strict";var o=a("4105"),i=a.n(o);i.a},5547:function(e,t,a){},"564d":function(e,t,a){"use strict";var o=a("3dc3"),i=a.n(o);i.a},"57ca":function(e,t,a){"use strict";var o=a("fbe0"),i=a.n(o);i.a},5845:function(e,t,a){},"58ad":function(e,t,a){},5969:function(e,t,a){},"59fb":function(e,t,a){},"5a0e":function(e,t,a){},"5b78":function(e,t,a){},"5cb2":function(e,t,a){"use strict";var o=a("015d"),i=a.n(o);i.a},"5cd8":function(e,t,a){},"5e24":function(e,t,a){"use strict";var o=a("7542"),i=a.n(o);i.a},"5e35":function(e,t,a){},"5ea5":function(e,t,a){"use strict";var o=a("3d4e"),i=a.n(o);i.a},"5f0d":function(e,t,a){},"5f3c":function(e,t,a){"use strict";var o=a("ecc1"),i=a.n(o);i.a},"5fc9":function(e,t,a){},"614d":function(e,t,a){"use strict";var o=a("f64a"),i=a.n(o);i.a},"61f1":function(e,t,a){},"61f3":function(e,t,a){"use strict";var o=a("5845"),i=a.n(o);i.a},"61fa":function(e,t,a){"use strict";var o=a("b261"),i=a.n(o);i.a},"640a":function(e,t,a){},"64a8":function(e,t,a){"use strict";var o=a("c0d3"),i=a.n(o);i.a},"64ad":function(e,t,a){"use strict";var o=a("afd8"),i=a.n(o);i.a},6622:function(e,t,a){"use strict";var o=a("0e0d"),i=a.n(o);i.a},"671f":function(e,t,a){},6838:function(e,t,a){},"68d9a":function(e,t,a){},6903:function(e,t,a){"use strict";var o=a("5e35"),i=a.n(o);i.a},"6c4b":function(e,t,a){},"6c6e":function(e,t,a){"use strict";var o=a("f30f"),i=a.n(o);i.a},"6cb2":function(e,t,a){"use strict";var o=a("3665"),i=a.n(o);i.a},"6da1":function(e,t,a){},"6dca":function(e,t,a){"use strict";var o=a("94d5"),i=a.n(o);i.a},"6ee1":function(e,t,a){},"6f43":function(e,t,a){"use strict";var o=a("74c6"),i=a.n(o);i.a},7112:function(e,t,a){},"72c5":function(e,t,a){"use strict";var o=a("5969"),i=a.n(o);i.a},7448:function(e,t,a){},"74c6":function(e,t,a){},7542:function(e,t,a){},7628:function(e,t,a){},"76ed":function(e,t,a){},7762:function(e,t,a){},"77f0":function(e,t,a){},"786d":function(e,t,a){"use strict";var o=a("202c"),i=a.n(o);i.a},"7b61":function(e,t,a){},"7d48":function(e,t,a){"use strict";var o=a("8a04"),i=a.n(o);i.a},"7e6d":function(e,t,a){},"7f4b":function(e,t,a){},"7fbc":function(e,t,a){"use strict";var o=a("3da0"),i=a.n(o);i.a},8047:function(e,t,a){"use strict";var o=a("c773"),i=a.n(o);i.a},8098:function(e,t,a){},"809d":function(e,t,a){},8137:function(e,t,a){"use strict";var o=a("02d9"),i=a.n(o);i.a},"813e":function(e,t,a){},"83e3":function(e,t,a){},"85fa":function(e,t,a){"use strict";var o=a("7762"),i=a.n(o);i.a},8630:function(e,t,a){},"86fd":function(e,t,a){"use strict";var o=a("5a0e"),i=a.n(o);i.a},8723:function(e,t,a){},8737:function(e,t,a){"use strict";var o=a("8cfb"),i=a.n(o);i.a},"87a7":function(e,t,a){"use strict";var o=a("6ee1"),i=a.n(o);i.a},"87dd":function(e,t,a){},"87f7":function(e,t,a){"use strict";var o=a("3d25"),i=a.n(o);i.a},8916:function(e,t,a){"use strict";var o=a("809d"),i=a.n(o);i.a},"899e":function(e,t,a){},"8a04":function(e,t,a){},"8a36":function(e,t,a){"use strict";var o=a("8d3f"),i=a.n(o);i.a},"8ca5":function(e,t,a){"use strict";var o=a("3a02"),i=a.n(o);i.a},"8cfb":function(e,t,a){},"8d3f":function(e,t,a){},"8e2c":function(e,t,a){},"8ea13":function(e,t,a){},"8ecb":function(e,t,a){"use strict";var o=a("4d14"),i=a.n(o);i.a},9039:function(e,t,a){"use strict";var o=a("a5e2"),i=a.n(o);i.a},"926b":function(e,t,a){"use strict";var o=a("3bc2"),i=a.n(o);i.a},9324:function(e,t,a){"use strict";var o=a("5cd8"),i=a.n(o);i.a},"93c7":function(e,t,a){"use strict";var o=a("c700"),i=a.n(o);i.a},"94ae":function(e,t,a){},"94d5":function(e,t,a){},"95d7":function(e,t,a){},"95f1":function(e,t,a){},"95fe":function(e,t,a){"use strict";var o=a("fdcf"),i=a.n(o);i.a},"96f8":function(e,t,a){"use strict";var o=a("59fb"),i=a.n(o);i.a},9712:function(e,t,a){},"987f":function(e,t,a){"use strict";var o=a("7628"),i=a.n(o);i.a},"9a19":function(e,t,a){"use strict";var o=a("58ad"),i=a.n(o);i.a},"9a75":function(e,t,a){"use strict";var o=a("a39b"),i=a.n(o);i.a},"9a76":function(e,t,a){"use strict";var o=a("2ba3"),i=a.n(o);i.a},"9aa6":function(e,t,a){"use strict";var o=a("2c5f"),i=a.n(o);i.a},"9b9d":function(e,t,a){"use strict";var o=a("09b1"),i=a.n(o);i.a},"9d5f":function(e,t,a){"use strict";var o=a("e303"),i=a.n(o);i.a},"9e0b":function(e,t,a){},"9e1b":function(e,t,a){},"9e2c":function(e,t,a){"use strict";var o=a("0148"),i=a.n(o);i.a},"9fa6":function(e,t,a){"use strict";var o=a("b2be"),i=a.n(o);i.a},"9fdb":function(e,t,a){},a032:function(e,t,a){"use strict";var o=a("8630"),i=a.n(o);i.a},a047:function(e,t,a){"use strict";var o=a("a352"),i=a.n(o);i.a},a08f:function(e,t,a){"use strict";var o=a("240a"),i=a.n(o);i.a},a0b9:function(e,t,a){"use strict";var o=a("f1bf"),i=a.n(o);i.a},a1c2:function(e,t,a){},a22ac:function(e,t,a){},a2a4:function(e){e.exports={versao:"v2020.1104.1628"}},a352:function(e,t,a){},a39b:function(e,t,a){},a3cd:function(e,t,a){"use strict";var o=a("0c03"),i=a.n(o);i.a},a3f1:function(e,t,a){"use strict";var o=a("da4b"),i=a.n(o);i.a},a5d6:function(e,t,a){},a5e2:function(e,t,a){},a72c:function(e,t,a){"use strict";var o=a("47a2"),i=a.n(o);i.a},a763:function(e,t,a){},a864:function(e,t,a){},a999:function(e,t,a){"use strict";var o=a("362a"),i=a.n(o);i.a},ab0d:function(e,t,a){"use strict";var o=a("9712"),i=a.n(o);i.a},abd9:function(e,t,a){"use strict";var o=a("6da1"),i=a.n(o);i.a},ad0e:function(e,t,a){},aefc:function(e,t,a){"use strict";var o=a("87dd"),i=a.n(o);i.a},af41:function(e,t,a){},afd8:function(e,t,a){},b089:function(e,t,a){},b192:function(e,t,a){"use strict";var o=a("2c21"),i=a.n(o);i.a},b261:function(e,t,a){},b29c:function(e,t,a){},b2be:function(e,t,a){},b750:function(e,t,a){},b75f:function(e,t,a){"use strict";var o=a("af41"),i=a.n(o);i.a},b89d:function(e,t,a){},b911:function(e,t,a){"use strict";var o=a("6838"),i=a.n(o);i.a},b981:function(e,t,a){},b9b2:function(e,t,a){"use strict";var o=a("61f1"),i=a.n(o);i.a},bb95:function(e,t,a){},bbb9:function(e,t,a){"use strict";var o=a("4b12"),i=a.n(o);i.a},bc97:function(e,t,a){"use strict";var o=a("77f0"),i=a.n(o);i.a},bcc6:function(e,t,a){},bd69:function(e,t,a){"use strict";var o=a("b29c"),i=a.n(o);i.a},bfc0:function(e,t,a){},c0d3:function(e,t,a){},c194:function(e,t,a){},c4e4:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNjYuNyAxNjguOSIgd2lkdGg9IjE2Ni43IiBoZWlnaHQ9IjE2OC45IiBpc29sYXRpb249Imlzb2xhdGUiPjxkZWZzPjxjbGlwUGF0aD48cmVjdCB3aWR0aD0iMTY2LjciIGhlaWdodD0iMTY4LjkiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGlwLXBhdGg9InVybCgjX2NsaXBQYXRoX1BQUGlFY09SaFJTWXdvcEVFTm5hUkZ6emVZU1htd3R0KSI+PHBhdGggZD0iTTY1LjYgMTM1LjJDNjUuNiAxMzcuMSA2NC4xIDEzOC42IDYyLjIgMTM4LjYgNjAuNCAxMzguNiA1OC45IDEzNy4xIDU4LjkgMTM1LjIgNTguOSAxMzAuNyA2MS45IDEyNi43IDY2LjggMTI0IDcxLjEgMTIxLjYgNzcgMTIwLjEgODMuMyAxMjAuMSA4OS43IDEyMC4xIDk1LjYgMTIxLjYgOTkuOSAxMjQgMTA0LjcgMTI2LjcgMTA3LjggMTMwLjcgMTA3LjggMTM1LjIgMTA3LjggMTM3LjEgMTA2LjMgMTM4LjYgMTA0LjQgMTM4LjYgMTAyLjYgMTM4LjYgMTAxLjEgMTM3LjEgMTAxLjEgMTM1LjIgMTAxLjEgMTMzLjMgOTkuNCAxMzEuMyA5Ni42IDEyOS44IDkzLjMgMTI3LjkgODguNiAxMjYuOCA4My4zIDEyNi44IDc4LjEgMTI2LjggNzMuNCAxMjcuOSA3MCAxMjkuOCA2Ny4zIDEzMS4zIDY1LjYgMTMzLjMgNjUuNiAxMzUuMlpNMTQ5LjIgMTUzLjNDMTQ5LjIgMTU3LjYgMTQ3LjUgMTYxLjUgMTQ0LjYgMTY0LjQgMTQxLjggMTY3LjIgMTM3LjkgMTY4LjkgMTMzLjYgMTY4LjkgMTI5LjMgMTY4LjkgMTI1LjQgMTY3LjIgMTIyLjYgMTY0LjQgMTIwLjkgMTYyLjggMTE5LjcgMTYwLjkgMTE4LjkgMTU4LjcgMTE0LjEgMTYxIDEwOSAxNjIuOCAxMDMuNyAxNjQuMSA5Ny4yIDE2NS44IDkwLjQgMTY2LjYgODMuMyAxNjYuNiA2MC4zIDE2Ni42IDM5LjUgMTU3LjMgMjQuNCAxNDIuMiA5LjMgMTI3LjEgMCAxMDYuMyAwIDgzLjMgMCA2MC4zIDkuMyAzOS41IDI0LjQgMjQuNCAzOS41IDkuMyA2MC4zIDAgODMuMyAwIDEwNi40IDAgMTI3LjIgOS4zIDE0Mi4zIDI0LjQgMTU3LjMgMzkuNSAxNjYuNyA2MC4zIDE2Ni43IDgzLjMgMTY2LjcgOTQuNSAxNjQuNSAxMDUuMSAxNjAuNSAxMTQuOSAxNTYuNiAxMjQuMiAxNTEuMSAxMzIuNyAxNDQuNCAxNDAgMTQ3IDE0NS4xIDE0OS4yIDE1MC4yIDE0OS4yIDE1My4zWk0xMzAuNyAxMjYuM0MxMzEuMSAxMjUuNSAxMzEuOCAxMjUgMTMyLjUgMTI0LjhMMTMyLjYgMTI0LjcgMTMyLjYgMTI0LjcgMTMyLjcgMTI0LjcgMTMyLjcgMTI0LjcgMTMyLjggMTI0LjcgMTMyLjkgMTI0LjYgMTMyLjkgMTI0LjYgMTMyLjkgMTI0LjYgMTMzIDEyNC42IDEzMyAxMjQuNkMxMzMgMTI0LjYgMTMzLjEgMTI0LjYgMTMzLjEgMTI0LjZMMTMzLjEgMTI0LjYgMTMzLjIgMTI0LjYgMTMzLjIgMTI0LjZDMTMzLjkgMTI0LjUgMTM0LjYgMTI0LjYgMTM1LjIgMTI1IDEzNS44IDEyNS4zIDEzNi4zIDEyNS44IDEzNi42IDEyNi40TDEzNi42IDEyNi40IDEzNi42IDEyNi40IDEzNi42IDEyNi40IDEzNi42IDEyNi40IDEzNi42IDEyNi40IDEzNi42IDEyNi41IDEzNi42IDEyNi41IDEzNi42IDEyNi41IDEzNi42IDEyNi41IDEzNi42IDEyNi41IDEzNi43IDEyNi41QzEzNyAxMjcuMiAxMzcuNyAxMjguMyAxMzguNCAxMjkuNkwxMzguNCAxMjkuNiAxMzguNSAxMjkuNyAxMzguNSAxMjkuNyAxMzguNiAxMjkuOCAxMzguNiAxMjkuOSAxMzguNiAxMjkuOSAxMzguNyAxMzAgMTM4LjcgMTMwLjEgMTM4LjcgMTMwLjEgMTM4LjcgMTMwLjEgMTM4LjggMTMwLjIgMTM4LjggMTMwLjIgMTM4LjggMTMwLjMgMTM4LjkgMTMwLjMgMTM4LjkgMTMwLjQgMTM4LjkgMTMwLjQgMTM4LjkgMTMwLjQgMTM5IDEzMC41IDEzOSAxMzAuNSAxMzkgMTMwLjYgMTM5LjEgMTMwLjcgMTM5LjEgMTMwLjcgMTM5LjEgMTMwLjcgMTM5LjIgMTMwLjggMTM5LjIgMTMwLjggMTM5LjIgMTMwLjlDMTM5LjggMTMxLjggMTQwLjQgMTMyLjkgMTQxIDEzMy45IDE0Ni41IDEyNy42IDE1MS4xIDEyMC4zIDE1NC4zIDExMi40IDE1OCAxMDMuNCAxNjAgOTMuNiAxNjAgODMuMyAxNjAgNjIuMSAxNTEuNCA0MyAxMzcuNiAyOS4xIDEyMy43IDE1LjIgMTA0LjUgNi43IDgzLjMgNi43IDYyLjIgNi43IDQzIDE1LjIgMjkuMSAyOS4xIDE1LjIgNDMgNi43IDYyLjEgNi43IDgzLjMgNi43IDEwNC41IDE1LjIgMTIzLjYgMjkuMSAxMzcuNSA0MyAxNTEuNCA2Mi4yIDE2MCA4My4zIDE2MCA4OS44IDE2MCA5Ni4xIDE1OS4yIDEwMi4xIDE1Ny43IDEwNy44IDE1Ni4yIDExMy4xIDE1NC4yIDExOC4xIDE1MS43TDExOC4xIDE1MS42IDExOC4yIDE1MS42IDExOC4yIDE1MS4zIDExOC4yIDE1MS4zIDExOC4zIDE1MSAxMTguMyAxNTEgMTE4LjQgMTUwLjcgMTE4LjQgMTUwLjYgMTE4LjUgMTUwLjQgMTE4LjUgMTUwLjMgMTE4LjUgMTUwIDExOC42IDE0OS45IDExOC42IDE0OS43IDExOC43IDE0OS42IDExOC44IDE0OS4zQzExOC45IDE0OC45IDExOSAxNDguNSAxMTkuMSAxNDguMkwxMTkuMiAxNDguMSAxMTkuMyAxNDcuOCAxMTkuMyAxNDcuNyAxMTkuNCAxNDcuNCAxMTkuNCAxNDcuNEMxMTkuNSAxNDcuMSAxMTkuNiAxNDYuOSAxMTkuNyAxNDYuN0wxMTkuNyAxNDYuNiAxMTkuOCAxNDYuMyAxMTkuOSAxNDYuMiAxMjAgMTQ1LjkgMTIwLjEgMTQ1LjlDMTIwLjIgMTQ1LjYgMTIwLjMgMTQ1LjMgMTIwLjQgMTQ1LjFMMTIwLjQgMTQ1LjEgMTIwLjYgMTQ0LjcgMTIwLjYgMTQ0LjYgMTIwLjcgMTQ0LjMgMTIwLjggMTQ0LjIgMTIwLjkgMTQzLjkgMTIwLjkgMTQzLjggMTIxIDE0My44IDEyMS4xIDE0My41IDEyMS4xIDE0My40IDEyMS4yIDE0My4yIDEyMS4zIDE0MyAxMjEuNCAxNDNDMTIxLjYgMTQyLjYgMTIxLjcgMTQyLjIgMTIyIDE0MS44TDEyMiAxNDEuNyAxMjIuMiAxNDEuNCAxMjIuMiAxNDEuMyAxMjIuNCAxNDAuOSAxMjIuNCAxNDAuOSAxMjIuNiAxNDAuNSAxMjIuNiAxNDAuNSAxMjIuOCAxNDAuMSAxMjMgMTM5LjggMTIzIDEzOS43IDEyMyAxMzkuNyAxMjMuNCAxMzguOSAxMjMuNSAxMzguOSAxMjMuNiAxMzguNiAxMjMuNyAxMzguNCAxMjMuOCAxMzguMyAxMjMuOSAxMzggMTI0IDEzNy45IDEyNC4yIDEzNy42IDEyNC4yIDEzNy41IDEyNC40IDEzNy4yIDEyNC40IDEzNy4yIDEyNC42IDEzNi44IDEyNC42IDEzNi44IDEyNC44IDEzNi40IDEyNC44IDEzNi40IDEyNSAxMzYuMSAxMjUuMSAxMzYgMTI1LjIgMTM1LjcgMTI1LjMgMTM1LjYgMTI1LjQgMTM1LjMgMTI1LjUgMTM1LjIgMTI1LjYgMTM1IDEyNS43IDEzNC44IDEyNS44IDEzNC42IDEyNS45IDEzNC40IDEyNi4yIDEzNCAxMjYuMiAxMzMuOSAxMjYuNCAxMzMuNiAxMjYuNCAxMzMuNiAxMjYuNiAxMzMuMyAxMjYuNiAxMzMuMiAxMjYuOCAxMzIuOSAxMjYuOCAxMzIuOSAxMjcgMTMyLjUgMTI3IDEzMi41IDEyNy4zIDEzMi4yIDEyNy40IDEzMS45IDEyNy40IDEzMS44IDEyNy42IDEzMS42IDEyNy43IDEzMS41IDEyNy44IDEzMS4zIDEyNy45IDEzMS4xIDEyOCAxMzEgMTI4LjEgMTMwLjggMTI4LjEgMTMwLjYgMTI4LjMgMTMwLjQgMTI4LjMgMTMwLjQgMTI4LjUgMTMwLjEgMTI4LjUgMTMwLjEgMTI4LjcgMTI5LjggMTI4LjcgMTI5LjggMTI4LjggMTI5LjUgMTI4LjggMTI5LjUgMTI4LjkgMTI5LjQgMTI4LjkgMTI5LjMgMTI5IDEyOS4zIDEyOSAxMjkuMiAxMjkgMTI5LjEgMTI5IDEyOS4xIDEyOS4xIDEyOSAxMjkuMSAxMjkgMTI5LjIgMTI4LjkgMTI5LjIgMTI4LjkgMTI5LjIgMTI4LjggMTI5LjIgMTI4LjggMTI5LjMgMTI4LjggMTI5LjMgMTI4LjggMTI5LjMgMTI4LjcgMTI5LjMgMTI4LjcgMTI5LjMgMTI4LjcgMTI5LjMgMTI4LjcgMTI5LjQgMTI4LjYgMTI5LjQgMTI4LjYgMTI5LjQgMTI4LjUgMTI5LjQgMTI4LjUgMTI5LjQgMTI4LjQgMTI5LjUgMTI4LjQgMTI5LjUgMTI4LjQgMTI5LjUgMTI4LjQgMTI5LjUgMTI4LjQgMTI5LjUgMTI4LjMgMTI5LjUgMTI4LjMgMTI5LjYgMTI4LjIgMTI5LjYgMTI4LjIgMTI5LjYgMTI4LjIgMTI5LjYgMTI4LjIgMTI5LjYgMTI4LjEgMTI5LjYgMTI4LjEgMTI5LjcgMTI4LjEgMTI5LjcgMTI4LjEgMTI5LjcgMTI4IDEyOS43IDEyOCAxMjkuOCAxMjcuOSAxMjkuOCAxMjcuOSAxMjkuOCAxMjcuOSAxMjkuOCAxMjcuOSAxMjkuOCAxMjcuOCAxMjkuOCAxMjcuOCAxMjkuOCAxMjcuOCAxMjkuOCAxMjcuOCAxMjkuOSAxMjcuNyAxMjkuOSAxMjcuNyAxMjkuOSAxMjcuNyAxMjkuOSAxMjcuNyAxMjkuOSAxMjcuNiAxMjkuOSAxMjcuNiAxMzAgMTI3LjYgMTMwIDEyNy42IDEzMCAxMjcuNSAxMzAgMTI3LjUgMTMwIDEyNy40IDEzMCAxMjcuNCAxMzAuMSAxMjcuNCAxMzAuMSAxMjcuNCAxMzAuMSAxMjcuNCAxMzAuMSAxMjcuNCAxMzAuMSAxMjcuMyAxMzAuMSAxMjcuMyAxMzAuMSAxMjcuMyAxMzAuMSAxMjcuMyAxMzAuMiAxMjcuMiAxMzAuMiAxMjcuMiAxMzAuMiAxMjcuMiAxMzAuMiAxMjcuMiAxMzAuMiAxMjcuMSAxMzAuMiAxMjcuMSAxMzAuMiAxMjcuMSAxMzAuMiAxMjcuMSAxMzAuMyAxMjcgMTMwLjMgMTI3IDEzMC4zIDEyNyAxMzAuMyAxMjcgMTMwLjMgMTI3IDEzMC4zIDEyNyAxMzAuNCAxMjYuOSAxMzAuNCAxMjYuOSAxMzAuNCAxMjYuOSAxMzAuNCAxMjYuOSAxMzAuNCAxMjYuOCAxMzAuNCAxMjYuOCAxMzAuNCAxMjYuOCAxMzAuNCAxMjYuOCAxMzAuNCAxMjYuOCAxMzAuNCAxMjYuOCAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNiAxMzAuNSAxMjYuNiAxMzAuNSAxMjYuNiAxMzAuNSAxMjYuNiAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNCAxMzAuNiAxMjYuNCAxMzAuNyAxMjYuNCAxMzAuNyAxMjYuNCAxMzAuNyAxMjYuNCAxMzAuNyAxMjYuNCAxMzAuNyAxMjYuMyAxMzAuNyAxMjYuMyAxMzAuNyAxMjYuMyAxMzAuNyAxMjYuM1pNMTQwIDE1OS42QzE0MS41IDE1OC4xIDE0Mi42IDE1NS44IDE0Mi42IDE1My4zIDE0Mi42IDE1MSAxNDAuMSAxNDYgMTM3LjQgMTQxLjFMMTM3LjQgMTQxLjEgMTM3LjQgMTQxLjEgMTM3LjQgMTQxLjFDMTM3IDE0MC40IDEzNi43IDEzOS44IDEzNi4zIDEzOS4xTDEzNi4yIDEzOSAxMzYuMiAxMzguOSAxMzYuMSAxMzguOSAxMzYuMSAxMzguOCAxMzYgMTM4LjUgMTM1LjkgMTM4LjVDMTM1LjIgMTM3LjIgMTM0LjUgMTM2LjEgMTMzLjkgMTM1TDEzMy44IDEzNC45IDEzMy44IDEzNC44IDEzMy44IDEzNC44IDEzMy43IDEzNC43IDEzMy42IDEzNC42IDEzMy42IDEzNC41IDEzMy40IDEzNC44IDEzMy4zIDEzNS4xIDEzMy4zIDEzNS4xIDEzMy4xIDEzNS40IDEzMy4xIDEzNS40IDEzMi45IDEzNS43IDEzMi43IDEzNiAxMzIuNyAxMzYgMTMyLjUgMTM2LjMgMTMyLjUgMTM2LjMgMTMyLjQgMTM2LjYgMTMyLjIgMTM2LjkgMTMyLjIgMTM2LjkgMTMyIDEzNy4yIDEzMS44IDEzNy41IDEzMS44IDEzNy41IDEzMS42IDEzNy45IDEzMS42IDEzNy45IDEzMS40IDEzOC4yIDEzMS40IDEzOC4yIDEzMS4yIDEzOC41IDEzMSAxMzguOSAxMzEgMTM4LjkgMTMwLjggMTM5LjIgMTMwLjggMTM5LjIgMTMwLjcgMTM5LjUgMTMwLjcgMTM5LjUgMTMwLjUgMTM5LjkgMTMwLjUgMTM5LjkgMTMwLjMgMTQwLjIgMTMwLjEgMTQwLjUgMTMwLjEgMTQwLjUgMTI5LjkgMTQwLjkgMTI5LjkgMTQwLjkgMTI5LjcgMTQxLjIgMTI5LjcgMTQxLjIgMTI5LjYgMTQxLjUgMTI5LjQgMTQxLjkgMTI5LjIgMTQyLjIgMTI5LjIgMTQyLjIgMTI5IDE0Mi42IDEyOSAxNDIuNiAxMjguOCAxNDIuOSAxMjguNiAxNDMuMiAxMjguNiAxNDMuMiAxMjguNSAxNDMuNiAxMjguMyAxNDMuOSAxMjguMyAxNDMuOSAxMjguMSAxNDQuMyAxMjguMSAxNDQuMyAxMjcuOSAxNDQuNiAxMjcuOSAxNDQuNiAxMjcuOCAxNDQuOSAxMjcuNiAxNDUuMiAxMjcuNCAxNDUuNiAxMjcuMyAxNDUuOSAxMjcuMyAxNDUuOSAxMjcuMSAxNDYuMiAxMjcgMTQ2LjUgMTI3IDE0Ni41IDEyNi44IDE0Ni44IDEyNi44IDE0Ni44IDEyNi43IDE0Ny4yIDEyNi43IDE0Ny4yIDEyNi41IDE0Ny41IDEyNi41IDE0Ny41IDEyNi40IDE0Ny44IDEyNi40IDE0Ny44IDEyNi4zIDE0OC4xIDEyNi4xIDE0OC40IDEyNiAxNDguNiAxMjYgMTQ4LjYgMTI1LjkgMTQ5IDEyNS45IDE0OSAxMjUuNyAxNDkuMyAxMjUuNyAxNDkuNSAxMjUuNyAxNDkuNSAxMjUuNiAxNDkuOCAxMjUuNiAxNDkuOCAxMjUuNCAxNTAgMTI1LjQgMTUwIDEyNS4zIDE1MC4zIDEyNS4zIDE1MC4zIDEyNS4zIDE1MC42IDEyNS4zIDE1MC42IDEyNS4yIDE1MC44IDEyNS4yIDE1MC44IDEyNS4xIDE1MS4xIDEyNS4xIDE1MS4xIDEyNSAxNTEuMyAxMjUgMTUxLjMgMTI1IDE1MS42IDEyNSAxNTEuNiAxMjQuOSAxNTEuOCAxMjQuOSAxNTEuOCAxMjQuOCAxNTIgMTI0LjggMTUyIDEyNC44IDE1Mi4yIDEyNC44IDE1Mi4yIDEyNC44IDE1Mi40IDEyNC44IDE1Mi40QzEyNC43IDE1Mi41IDEyNC43IDE1Mi41IDEyNC43IDE1Mi42TDEyNC43IDE1Mi42IDEyNC43IDE1Mi44IDEyNC43IDE1Mi44QzEyNC43IDE1Mi45IDEyNC43IDE1Mi45IDEyNC43IDE1M0wxMjQuNyAxNTMgMTI0LjYgMTUzLjIgMTI0LjYgMTUzLjIgMTI0LjYgMTUzLjMgMTI0LjYgMTUzLjRDMTI0LjcgMTU1LjkgMTI1LjcgMTU4LjEgMTI3LjMgMTU5LjcgMTI4LjkgMTYxLjMgMTMxLjEgMTYyLjMgMTMzLjYgMTYyLjMgMTM2LjEgMTYyLjMgMTM4LjMgMTYxLjMgMTQwIDE1OS42Wk0xMzUuMyA3Mi43QzEzNi4yIDc0LjMgMTM1LjYgNzYuMyAxMzMuOSA3Ny4yIDEzMi4zIDc4IDEzMC4zIDc3LjQgMTI5LjQgNzUuOCAxMjguNyA3NC4zIDEyNy42IDcyLjkgMTI2LjMgNzEuOSAxMjUgNzAuOCAxMjMuNCA3MC4xIDEyMS44IDY5LjZMMTIxLjggNjkuNkMxMjAuOCA2OS40IDExOS44IDY5LjIgMTE4LjkgNjkuMiAxMTcuOCA2OS4yIDExNi44IDY5LjMgMTE1LjggNjkuNSAxMTQgNjkuOSAxMTIuMyA2OC44IDExMS44IDY3IDExMS41IDY1LjIgMTEyLjYgNjMuNSAxMTQuNCA2MyAxMTUuOCA2Mi43IDExNy40IDYyLjYgMTE4LjkgNjIuNiAxMjAuNSA2Mi42IDEyMiA2Mi44IDEyMy40IDYzLjJMMTIzLjYgNjMuMkMxMjYuMSA2My45IDEyOC40IDY1LjEgMTMwLjQgNjYuNyAxMzIuNSA2OC4zIDEzNC4xIDcwLjQgMTM1LjMgNzIuN1pNMzcuMiA3NS44QzM2LjQgNzcuNCAzNC40IDc4IDMyLjcgNzcuMiAzMS4xIDc2LjMgMzAuNSA3NC4zIDMxLjMgNzIuNyAzMi41IDcwLjQgMzQuMiA2OC4zIDM2LjIgNjYuNyAzOC4yIDY1LjEgNDAuNiA2My45IDQzLjEgNjMuMkw0My4yIDYzLjJDNDQuNyA2Mi44IDQ2LjIgNjIuNiA0Ny43IDYyLjYgNDkuMyA2Mi42IDUwLjggNjIuNyA1Mi4zIDYzIDU0LjEgNjMuNSA1NS4yIDY1LjIgNTQuOCA2NyA1NC40IDY4LjggNTIuNiA2OS45IDUwLjkgNjkuNSA0OS45IDY5LjMgNDguOCA2OS4yIDQ3LjggNjkuMiA0Ni44IDY5LjIgNDUuOCA2OS40IDQ0LjkgNjkuNkw0NC45IDY5LjZDNDMuMiA3MC4xIDQxLjcgNzAuOCA0MC40IDcxLjkgMzkuMSA3Mi45IDM4IDc0LjMgMzcuMiA3NS44Wk0xMjUuMiA5Mi43QzEyNS4yIDkwLjcgMTI0LjUgODguOSAxMjMuMyA4Ny42IDEyMi4yIDg2LjUgMTIwLjYgODUuNyAxMTkgODUuNyAxMTcuMyA4NS43IDExNS44IDg2LjUgMTE0LjcgODcuNiAxMTMuNSA4OC45IDExMi44IDkwLjcgMTEyLjggOTIuNyAxMTIuOCA5NC42IDExMy41IDk2LjQgMTE0LjcgOTcuNyAxMTUuOCA5OC45IDExNy4zIDk5LjYgMTE5IDk5LjYgMTIwLjYgOTkuNiAxMjIuMiA5OC45IDEyMy4zIDk3LjcgMTI0LjUgOTYuNCAxMjUuMiA5NC42IDEyNS4yIDkyLjdaTTEyOC4yIDgzLjJDMTMwLjQgODUuNiAxMzEuOCA4OSAxMzEuOCA5Mi43IDEzMS44IDk2LjQgMTMwLjQgOTkuNyAxMjguMiAxMDIuMiAxMjUuOCAxMDQuNyAxMjIuNiAxMDYuMyAxMTkgMTA2LjMgMTE1LjQgMTA2LjMgMTEyLjEgMTA0LjcgMTA5LjggMTAyLjIgMTA3LjUgOTkuNyAxMDYuMSA5Ni40IDEwNi4xIDkyLjcgMTA2LjEgODkgMTA3LjUgODUuNiAxMDkuOCA4My4yIDExMi4xIDgwLjYgMTE1LjQgNzkuMSAxMTkgNzkuMSAxMjIuNiA3OS4xIDEyNS44IDgwLjYgMTI4LjIgODMuMlpNNTMuOSA5Mi43QzUzLjkgOTAuNyA1My4yIDg4LjkgNTIgODcuNiA1MC45IDg2LjUgNDkuNCA4NS43IDQ3LjcgODUuNyA0NiA4NS43IDQ0LjUgODYuNSA0My40IDg3LjYgNDIuMiA4OC45IDQxLjUgOTAuNyA0MS41IDkyLjcgNDEuNSA5NC42IDQyLjIgOTYuNCA0My40IDk3LjcgNDQuNSA5OC45IDQ2IDk5LjYgNDcuNyA5OS42IDQ5LjQgOTkuNiA1MC45IDk4LjkgNTIgOTcuNyA1My4yIDk2LjQgNTMuOSA5NC42IDUzLjkgOTIuN1pNNTYuOSA4My4yQzU5LjIgODUuNiA2MC41IDg5IDYwLjUgOTIuNyA2MC41IDk2LjQgNTkuMiA5OS43IDU2LjkgMTAyLjIgNTQuNSAxMDQuNyA1MS4zIDEwNi4zIDQ3LjcgMTA2LjMgNDQuMSAxMDYuMyA0MC45IDEwNC43IDM4LjUgMTAyLjIgMzYuMiA5OS43IDM0LjggOTYuNCAzNC44IDkyLjcgMzQuOCA4OSAzNi4yIDg1LjYgMzguNSA4My4yIDQwLjkgODAuNiA0NC4xIDc5LjEgNDcuNyA3OS4xIDUxLjMgNzkuMSA1NC41IDgwLjYgNTYuOSA4My4yWiIgZmlsbD0icmdiKDEsMjIsMzkpIiBmaWxsLW9wYWNpdHk9IjAuMiIvPjwvZz48L3N2Zz4NCg=="},c5a9:function(e,t,a){},c700:function(e,t,a){},c71a:function(e,t,a){"use strict";var o=a("ad0e"),i=a.n(o);i.a},c773:function(e,t,a){},c804:function(e,t,a){"use strict";var o=a("b750"),i=a.n(o);i.a},c93a:function(e,t,a){"use strict";var o=a("671f"),i=a.n(o);i.a},c980:function(e,t,a){"use strict";var o=a("e062"),i=a.n(o);i.a},ca68:function(e,t,a){},cb57:function(e,t,a){"use strict";var o=a("5160"),i=a.n(o);i.a},cbf2:function(e,t,a){},cd67:function(e,t,a){"use strict";var o=a("813e"),i=a.n(o);i.a},cd8b:function(e,t,a){"use strict";var o=a("321e"),i=a.n(o);i.a},ce87:function(e,t,a){"use strict";var o=a("de69"),i=a.n(o);i.a},ceaa:function(e,t,a){},cfef:function(e,t,a){"use strict";var o=a("7b61"),i=a.n(o);i.a},d1bf:function(e,t,a){},d215:function(e,t,a){"use strict";var o=a("640a"),i=a.n(o);i.a},d34e:function(e,t,a){"use strict";var o=a("c194"),i=a.n(o);i.a},d5d7:function(e,t,a){"use strict";var o=a("1dd9"),i=a.n(o);i.a},d656:function(e,t,a){},d6cf:function(e,t,a){"use strict";var o=a("d1bf"),i=a.n(o);i.a},d739:function(e,t,a){"use strict";var o=a("b89d"),i=a.n(o);i.a},d7bb:function(e,t,a){"use strict";var o=a("899e"),i=a.n(o);i.a},d839:function(e,t,a){"use strict";var o=a("4d4c"),i=a.n(o);i.a},d8eb:function(e,t,a){},d90a:function(e,t,a){},d9bf:function(e,t,a){"use strict";var o=a("6c4b"),i=a.n(o);i.a},da4b:function(e,t,a){},db8e:function(e,t,a){},dd4c:function(e,t,a){},ddac:function(e,t,a){"use strict";var o=a("ceaa"),i=a.n(o);i.a},de69:function(e,t,a){},de7a:function(e,t,a){"use strict";var o=a("ca68"),i=a.n(o);i.a},de7b:function(e,t,a){"use strict";var o=a("9e0b"),i=a.n(o);i.a},de98:function(e,t,a){"use strict";var o=a("1d6f"),i=a.n(o);i.a},dfbf:function(e,t,a){"use strict";var o=a("cbf2"),i=a.n(o);i.a},e00e:function(e,t,a){"use strict";var o=a("7112"),i=a.n(o);i.a},e062:function(e,t,a){},e193:function(e,t,a){"use strict";var o=a("03be"),i=a.n(o);i.a},e22f:function(e,t,a){},e25e:function(e,t,a){"use strict";var o=a("01f4"),i=a.n(o);i.a},e303:function(e,t,a){},e362:function(e,t,a){},e38f:function(e,t,a){"use strict";var o=a("e22f"),i=a.n(o);i.a},e3ba:function(e,t,a){"use strict";var o=a("8723"),i=a.n(o);i.a},e559:function(e,t,a){"use strict";var o=a("2808"),i=a.n(o);i.a},e85d:function(e,t,a){"use strict";var o=a("8ea13"),i=a.n(o);i.a},e9b3:function(e,t,a){"use strict";var o=a("db8e"),i=a.n(o);i.a},e9ca:function(e,t,a){"use strict";var o=a("7f4b"),i=a.n(o);i.a},eab3:function(e,t,a){"use strict";var o=a("d90a"),i=a.n(o);i.a},ecc1:function(e,t,a){},eda6:function(e,t,a){"use strict";var o=a("e362"),i=a.n(o);i.a},f15f:function(e,t,a){},f1b4:function(e,t,a){"use strict";var o=a("f15f"),i=a.n(o);i.a},f1bf:function(e,t,a){},f30f:function(e,t,a){},f51d:function(e,t,a){"use strict";var o=a("76ed"),i=a.n(o);i.a},f64a:function(e,t,a){},f774:function(e,t,a){},f899:function(e,t,a){"use strict";var o=a("dd4c"),i=a.n(o);i.a},f94a:function(e,t,a){"use strict";var o=a("1120"),i=a.n(o);i.a},f9f8:function(e,t,a){"use strict";var o=a("fed2"),i=a.n(o);i.a},fbe0:function(e,t,a){},fc31:function(e,t,a){"use strict";var o=a("94ae"),i=a.n(o);i.a},fdcf:function(e,t,a){},fed2:function(e,t,a){},fee0:function(e,t,a){}});