(self.webpackChunkb15=self.webpackChunkb15||[]).push([[82],{18841:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>so});var a=t(34182);const i={class:"row"},l={class:"col-12 row q-px-md q-mt-lg"},r=(0,a.createVNode)("strong",{class:"col-12 text-body1 text-dark"},"Período de Emissão",-1),s={class:"col-6 "},d={class:"col-6 "},c={class:"col-12 row q-px-md q-mt-lg"},n=(0,a.createVNode)("strong",{class:"col-12 text-body1 text-dark"},"Período de Finalização",-1),m={class:"col-6"},u={class:"col-6 "},p={class:"col-12 row q-px-md q-mt-lg"},h={class:"col-12 row q-px-md q-mt-lg"},f={class:"row items-center"},V=(0,a.createTextVNode)("Data Emissão"),C={class:"text-tertiary q-gutter-xs"},v=(0,a.createTextVNode)(" Editar"),x=(0,a.createTextVNode)(" Origem "),N=(0,a.createTextVNode)(" Destino ");var g=t(71986),w=t(26891),b=t(72407);const q=(0,a.createTextVNode)("Confirmar exclusão"),k=(0,a.createVNode)("div",{class:"row layout-padding"}," Deseja mesmo excluir o item? ",-1),y={class:"row justify-end"},_={data:()=>({modal:{visivel:!1}}),emits:["excluir"]};var I=t(39341),D=t(63626),z=t(54553),B=t(47266),T=t(48761),E=t(76210),M=t(83671),S=t(98586),Z=t(7518),F=t.n(Z);_.render=function(e,o,t,i,l,r){const s=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),n=(0,a.resolveComponent)("q-header"),m=(0,a.resolveComponent)("q-footer"),u=(0,a.resolveComponent)("q-layout"),p=(0,a.resolveComponent)("q-dialog"),h=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)("div",null,[(0,a.createVNode)(p,{modelValue:l.modal.visivel,"onUpdate:modelValue":o[2]||(o[2]=e=>l.modal.visivel=e),"content-css":{minWidth:"30vw"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{color:"negative"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[q])),_:1}),(0,a.withDirectives)((0,a.createVNode)(d,{dense:"",flat:"",icon:"close",round:""},null,512),[[h]])])),_:1})])),_:1}),k,(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{color:"light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)("div",y,[(0,a.withDirectives)((0,a.createVNode)(d,{flat:"",label:"Cancelar",color:"tertiary"},null,512),[[h]]),(0,a.withDirectives)((0,a.createVNode)(d,{unelevated:"",label:"Confirmar",color:"primary",onClick:o[1]||(o[1]=o=>e.$emit("excluir"))},null,512),[[h]])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])};const Q=_;F()(_,"components",{QDialog:I.Z,QLayout:D.Z,QHeader:z.Z,QToolbar:B.Z,QToolbarTitle:T.Z,QBtn:E.Z,QFooter:M.Z}),F()(_,"directives",{ClosePopup:S.Z});const L=(0,a.createTextVNode)("Manipulação de Itens "),A={key:0},U={ref:"form"},$={class:"col-12"},P={class:"col-12 col-md-6"},H={class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}},O=(0,a.createTextVNode)(" Origem "),R=(0,a.createTextVNode)("Adicionar Item"),j=(0,a.createVNode)("div",{class:"col-2 col-md"},"Código",-1),G=(0,a.createVNode)("div",{class:"col-10 col-md-4 "},"Descrição",-1),X=(0,a.createVNode)("div",{class:"col-6 col-md text-right"},"Quantidade",-1),W=(0,a.createVNode)("div",{class:"col-6 col-md text-right"},"Valor",-1),J=(0,a.createVNode)("div",{class:"col-6 col-md text-right"},"Total",-1),K=(0,a.createVNode)("div",{class:"col-6 col-md-1 text-right"},"Ações",-1),Y={class:"col-2 col-md-1 "},ee={class:"col-10 col-md-3 "},oe={class:"col-3 col-md-2 text-right"},te={class:"col-3 col-md-2 text-right"},ae={class:"col-3 col-md-2 text-right"},ie={key:0,class:"col-3 col-md-2 text-right"},le=(0,a.createTextVNode)("Excluir"),re=(0,a.createVNode)("div",{class:"col-2 col-md"},null,-1),se=(0,a.createVNode)("div",{class:"col-10 col-md-4 "},null,-1),de=(0,a.createVNode)("div",{class:"col-6 col-md text-right"},null,-1),ce=(0,a.createVNode)("div",{class:"col-6 col-md text-right"},null,-1),ne={class:"col-6 col-md text-right"},me=(0,a.createVNode)("div",{class:"col-6 col-md-1 text-right"}," ",-1),ue={class:"col-12 col-md-6"},pe={class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}},he=(0,a.createTextVNode)(" Destino "),fe=(0,a.createTextVNode)("Adicionar Item"),Ve=(0,a.createVNode)("div",{class:"col-2 col-md"},"Código",-1),Ce=(0,a.createVNode)("div",{class:"col-10 col-md-4 "},"Descrição",-1),ve=(0,a.createVNode)("div",{class:"col-6 col-md text-right"},"Quantidade",-1),xe=(0,a.createVNode)("div",{class:"col-6 col-md text-right"},"Valor",-1),Ne=(0,a.createVNode)("div",{class:"col-6 col-md text-right"},"Total",-1),ge=(0,a.createVNode)("div",{class:"col-6 col-md-1 text-right"},"Ações",-1),we={class:"col-2 col-md-1 "},be={class:"col-10 col-md-3 "},qe={class:"col-3 col-md-2 text-right"},ke={class:"col-3 col-md-2 text-right"},ye={class:"col-3 col-md-2 text-right"},_e={key:0,class:"col-3 col-md-2 text-right"},Ie=(0,a.createTextVNode)("Excluir"),De=(0,a.createVNode)("div",{class:"col-2 col-md"},null,-1),ze=(0,a.createVNode)("div",{class:"col-10 col-md-4 "},null,-1),Be=(0,a.createVNode)("div",{class:"col-6 col-md text-right"},null,-1),Te=(0,a.createVNode)("div",{class:"col-6 col-md text-right"},null,-1),Ee={class:"col-6 col-md text-right"},Me=(0,a.createVNode)("div",{class:"col-6 col-md-1 text-right"}," ",-1);var Se=t(96986),Ze=t(42138),Fe=t(60357);const Qe=(0,a.createTextVNode)("Confirmar exclusão"),Le=(0,a.createVNode)("div",{class:"row layout-padding"}," O item selecionado possue itens de composição, deseja preencher? ",-1),Ae={class:"row justify-end"},Ue={data:()=>({modal:{visivel:!1}}),emits:["adicionarComposicao"],render:function(e,o,t,i,l,r){const s=(0,a.resolveComponent)("q-toolbar-title"),d=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-toolbar"),n=(0,a.resolveComponent)("q-header"),m=(0,a.resolveComponent)("q-footer"),u=(0,a.resolveComponent)("q-layout"),p=(0,a.resolveComponent)("q-dialog"),h=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)("div",null,[(0,a.createVNode)(p,{modelValue:l.modal.visivel,"onUpdate:modelValue":o[2]||(o[2]=e=>l.modal.visivel=e),"content-css":{minWidth:"30vw"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{color:"warning"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[Qe])),_:1}),(0,a.withDirectives)((0,a.createVNode)(d,{dense:"",flat:"",icon:"close",round:""},null,512),[[h]])])),_:1})])),_:1}),Le,(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{color:"light"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)("div",Ae,[(0,a.withDirectives)((0,a.createVNode)(d,{flat:"",label:"Cancelar",color:"tertiary"},null,512),[[h]]),(0,a.withDirectives)((0,a.createVNode)(d,{unelevated:"",label:"Confirmar",color:"primary",onClick:o[1]||(o[1]=o=>e.$emit("adicionarComposicao"))},null,512),[[h]])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])}},$e=Ue;F()(Ue,"components",{QDialog:I.Z,QLayout:D.Z,QHeader:z.Z,QToolbar:B.Z,QToolbarTitle:T.Z,QBtn:E.Z,QFooter:M.Z}),F()(Ue,"directives",{ClosePopup:S.Z});var Pe=t(11463),He=t(48409);const Oe={components:{Badge:b.Z,Campo:w.Z,PromptItemNovo:Ze.Z,ModalComposicao:$e,PromptContatoNovo:Fe.Z},data:()=>({modalContatoEmpresa:{visivel:!1,retorno:{},aguardarRetorno:!0},itens:[],confirm:!0,documentoAnterior:{},documentoItensAnterior:[],documento:{id:"",codigoDocumento:"",idEmpresa:"",codigoEmpresa:"",descricaoEmpresa:"",operacao:"Manipulacao",tipo:"Estoque",status:"",dataEmissao:(0,Se.dataAtual)(),dataFinalizacao:""},documentoItens:[],campos:{empresa:{id:"",descricao:""}},adicionar:{modal:{name:"",value:!1}},itensComposicao:{},totalOrigem:0,totalDestino:0,carregando:!0,visibilidade:{modal:!1}}),emits:["atualizar","fechar"],methods:{async mostrar(){await(0,Se.dormir)(500),this.carregando=!1},fechar(){this.carregando=!0},async atualizar(e){if(this.zerarCampos(),e)this.documentoAnterior=await Pe.db.itemManipulacao.le({id:e}),this.documento=(0,Se.clonarV2)(this.documentoAnterior),this.documentoItensAnterior=await Pe.db.itemManipulacao.leItens({idDocumento:e}),this.documentoItens=(0,Se.clonarV2)(this.documentoItensAnterior),this.campos.empresa.id=this.documentoAnterior.idEmpresa,this.campos.empresa.nome=this.documentoAnterior.descricaoEmpresa;else{let e=[],o=await Pe.db.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0);if(o.length&&await(0,He.X)().empresa.where("idContato").anyOf(o.map((e=>e.id))).each((o=>{e.push(o)})),!e.length)return void this.$q.notify({message:"Não há empresa configurada",timeout:0,type:"negative",closeBtn:!0});let t={};if(this.modalContatoEmpresa.retorno={},this.modalContatoEmpresa.aguardarRetorno=!0,e.length>1){if(this.modalContatoEmpresa.visivel=!0,await new Promise(((e,o)=>{const t=setInterval((()=>{this.modalContatoEmpresa.aguardarRetorno||(clearInterval(t),e())}),100)})),!this.modalContatoEmpresa.retorno.id)return this.$emit("fechar"),this.$q.notifyError("Empresa não selecionada."),void(this.visibilidade.modal=!1);t=this.modalContatoEmpresa.retorno}else t=e[0];this.empresa=t}this.somarValorTotal()},async salvar(e=!1){if(this.campos.empresa.id){try{await Pe.db.itemManipulacao.grava({documentoAnterior:this.documentoAnterior,documento:this.documento,documentoItensAnterior:this.documentoItensAnterior,documentoItens:this.documentoItens})}catch(e){this.$q.notifyError("Erro ao salvar",e)}this.visibilidade.modal=e,this.atualizar(this.documento.id),this.$emit("atualizar")}else this.$q.notifyAlert("Selecione uma empresa")},finalizar(){if(this.verificarTotal())if(this.campos.empresa.id){this.documento.status="Finalizado",this.documento.dataHoraFinalizado=(0,Se.dataAtual)();for(let e of this.documentoItens)e.status="Finalizado",e.dataHoraFinalizado=(0,Se.dataAtual)();this.salvar(!1)}else this.$q.notifyAlert("Selecione uma empresa")},reabrir(){try{this.documento.status="Digitação",this.documento.dataHoraFinalizado="";for(let e of this.documentoItens)e.status="Digitação",e.dataHoraFinalizado="";this.salvar(!0)}catch(e){this.$q.notifyError("Erro ao reabrir",e)}},async excluirItem(e){this.documentoItens=this.documentoItens.filter((o=>o.id!==e)),this.somarValorTotal()},recalcularTotal(e){e.subTotal=(0,Se.arredondar)(e.quantidade*e.valorItem),e.total=(0,Se.arredondar)(e.quantidade*e.valorItem),this.somarValorTotal()},recalcularQuantidade(e){e.quantidade=(0,Se.arredondar)(e.subTotal/e.valorItem),e.total=e.subTotal,this.somarValorTotal()},zerarCampos(){this.empresa={},this.documentoAnterior={},this.documentoItensAnterior=[],this.documento={id:(0,Se.uuid)(),idEmpresa:"",descricaoEmpresa:"",operacao:"Manipulação",tipo:"Estoque",status:"Digitação",dataHoraEmissao:(0,Se.dataAtual)(),dataHoraFinalizado:""},this.documentoItens=[],this.totalOrigem=0,this.totalDestino=0,this.campos={empresa:{id:"",descricao:""},finalizado:!1}},async abrirModal(e,o=""){let t={},a=[];const i="Destino"===e?1:-1;a=o?this.documentoItens.filter((e=>e.idItem===o)):this.documentoItens.filter((e=>e.operacaoFator===i));for(const e of a)t[e.idItem]={item:await(0,He.X)().item.get(e.idItem)||{},quantidade:e.quantidade};this.$refs.promptItem.itensSelecionados=t,this.$refs.promptItem.termo=o,this.$refs.promptItem.atualizar(),this.adicionar.modal.value=!0,this.adicionar.modal.name=e},async selecionarEmpresa(e){if(this.modalContatoEmpresa.retorno={},!e)return void(this.modalContatoEmpresa.aguardarRetorno=!1);const o=await Pe.db.empresa.le({idContato:e});o.length&&(this.modalContatoEmpresa.retorno=o[0],this.campos.empresa=o[0]),this.modalContatoEmpresa.aguardarRetorno=!1,this.documento.idEmpresa=o[0].id,this.documento.descricaoEmpresa=o[0].nome},async selecionarItens(e){const o="Destino"===this.adicionar.modal.name?1:-1;for(const t in e){let a=await Pe.db.estoqueSaldoProdutoEmpresa.le({idEmpresa:this.campos.empresa.idContato,tipoEstoque:"Disponível",idItem:t});if(a=a[0],!a)return void this.$q.notifyError("Item não disponível no estoque");const i=e[t].item||{},l=e[t].quantidade||0,r=a.valorCustoMedio||i.valorCustoReposicao;let s=this.documentoItens.find((e=>e.idItem===t));s?(s.quantidade=l,s.quantidadeRealizado=l,s.subTotal=(0,Se.arredondar)(l*r),s.total=(0,Se.arredondar)(l*r)):this.documentoItens.push({dataHoraEmissao:(0,Se.dataAtual)(),dataHoraFinalizado:"",descricaoItem:i.descricao,id:(0,Se.uuid)(),idDocumento:this.documento.id,idItem:i.id,operacao:"Manipulação",operacaoFator:o,quantidade:l,quantidadeRealizado:l,status:"Digitação",tipoItem:i.tipoItem,subTotal:(0,Se.arredondar)(l*r),total:(0,Se.arredondar)(l*r),unidade:i.unidade,valorCustoMedio:a.valorCustoMedio,valorItem:r}),1===o&&await this.verificarComposicao(i.id,l)}this.somarValorTotal()},async verificarComposicao(e,o){let t=!1,a=[],i=await Pe.db.item.leCompleto({id:e});for(let e of i.atual.composicao)e.idItemUtilizado&&(e.quantidade=e.quantidade*o,a.push(e),t=!0);this.itensComposicao=a.reduce(((e,o)=>(e[o.idItemUtilizado]||(e[o.idItemUtilizado]=o),e)),{}),this.$refs.modalComposicao.modal.visivel=t},adicionarComposicao(){this.adicionar.modal.name="Origem",this.selecionarItens(this.itensComposicao)},somarValorTotal(){this.totalOrigem=this.documentoItens.filter((e=>-1===e.operacaoFator)).reduce(((e,o)=>e+o.total),0),this.totalDestino=this.documentoItens.filter((e=>1===e.operacaoFator)).reduce(((e,o)=>e+o.total),0),console.log(this.totalOrigem)},verificarTotal(){return 0===this.documentoItens.length&&0===this.totalDestino&&0===this.totalOrigem?(this.$q.notifyError("Selecione alguns itens na lista"),!1):this.totalOrigem===this.totalDestino||(this.$q.notifyError("Valores Totais de Origem e Destino devem ser iguais!"),!1)}}};var Re=t(7112),je=t(24515),Ge=t(83054),Xe=t(31106),We=t(68900),Je=t(4957),Ke=t(25901),Ye=t(77953),eo=t(60880),oo=t(83831);Oe.render=function(e,o,t,i,l,r){const s=(0,a.resolveComponent)("q-btn"),d=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar"),n=(0,a.resolveComponent)("q-header"),m=(0,a.resolveComponent)("badge"),u=(0,a.resolveComponent)("campo"),p=(0,a.resolveComponent)("row"),h=(0,a.resolveComponent)("q-card"),f=(0,a.resolveComponent)("q-icon"),V=(0,a.resolveComponent)("q-tooltip"),C=(0,a.resolveComponent)("q-item-label"),v=(0,a.resolveComponent)("q-separator"),x=(0,a.resolveComponent)("q-item-section"),N=(0,a.resolveComponent)("q-item"),g=(0,a.resolveComponent)("q-list"),w=(0,a.resolveComponent)("q-page"),b=(0,a.resolveComponent)("q-page-container"),q=(0,a.resolveComponent)("q-layout"),k=(0,a.resolveComponent)("q-dialog"),y=(0,a.resolveComponent)("prompt-item-novo"),_=(0,a.resolveComponent)("prompt-contato-novo"),I=(0,a.resolveComponent)("ModalComposicao"),D=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(a.Fragment,null,[(0,a.createVNode)(k,{modelValue:l.visibilidade.modal,"onUpdate:modelValue":o[7]||(o[7]=e=>l.visibilidade.modal=e),maximized:"",onShow:r.mostrar,onHide:r.fechar},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,{class:"bg-light",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{class:"u-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[D]]),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[L])),_:1}),(0,a.createVNode)(s,{class:"q-ml-sm no-shadow",color:"white",unelevated:"","text-color":"primary",label:"Salvar",onClick:o[1]||(o[1]=e=>r.salvar(!1))})])),_:1})])),_:1}),(0,a.createVNode)(w,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"q-pa-none q-ma-none q-my-md ",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"text-black q-px-none text-body2 "},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Emissão: "+(0,a.toDisplayString)(e.$filters.data(l.documento.dataHoraEmissao))+" ",1),l.documento.dataHoraFinalizado?((0,a.openBlock)(),(0,a.createBlock)("span",A,"Cancelamento: "+(0,a.toDisplayString)(e.$filters.data(l.documento.dataHoraFinalizado)),1)):(0,a.createCommentVNode)("",!0)])),_:1}),l.documento.status?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,cor:"positive",class:"q-mx-sm ",icone:"flag",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.documento.status),1)])),_:1})):(0,a.createCommentVNode)("",!0),l.documento.codigoDocumento?((0,a.openBlock)(),(0,a.createBlock)(m,{key:1,cor:"tertiary",escuro:"",icone:"playlist_add_check",class:"q-mx-xs "},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)(l.documento.codigoDocumento),1)])),_:1})):(0,a.createCommentVNode)("",!0),l.documento.codigoDocumento?((0,a.openBlock)(),(0,a.createBlock)(s,{key:2,class:"q-ml-xs",color:"primary",icon:"print",flat:"",dense:"",round:""})):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(h,{class:"bg-white q-pa-md  q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)("form",U,[(0,a.createVNode)(p,{class:" q-col-gutter-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)("div",$,[(0,a.createVNode)(u,{modelValue:l.campos.empresa.nome,"onUpdate:modelValue":o[2]||(o[2]=e=>l.campos.empresa.nome=e),disable:"",rotulo:"Empresa",tipo:"texto"},null,8,["modelValue"])])])),_:1})],512)])),_:1}),(0,a.createVNode)(p,{class:" q-col-gutter-x-sm q-mt-md "},{default:(0,a.withCtx)((()=>[(0,a.createVNode)("div",P,[(0,a.createVNode)(h,{class:"no-shadow bg-white full-width fit q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"q-pa-none q-ma-none q-mb-md",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)("p",H,[(0,a.createVNode)(f,{class:"q-mr-md",name:"shopping_cart",size:"24px",style:{color:"#737373"}}),O]),(0,a.createVNode)(d,{class:"q-pa-none q-ma-none",style:{height:"0 !important","min-height":"auto"}}),"Digitação"===l.documento.status?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,color:"positive",dense:"",flat:"",icon:"add",round:"",size:"md",onClick:o[3]||(o[3]=e=>r.abrirModal("Origem"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[R])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(g,{class:"col-12 no-border q-mx-none q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"q-col-gutter-md text-weight-bold text-left justify-around"},{default:(0,a.withCtx)((()=>[j,G,X,W,J,K])),_:1})])),_:1}),(0,a.createVNode)(v,{class:"q-my-xs"}),((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(l.documentoItens,((e,o)=>((0,a.openBlock)(),(0,a.createBlock)("div",{key:o},[-1===e.operacaoFator?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0,caption:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:" text-left justify-around"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)("div",Y,(0,a.toDisplayString)(e.codigoItem||"-"),1),(0,a.createVNode)("div",ee,(0,a.toDisplayString)(e.descricaoItem||"-"),1),(0,a.createVNode)("div",oe,[(0,a.createVNode)(u,{modelValue:e.quantidade,"onUpdate:modelValue":o=>e.quantidade=o,somenteLeitura:"Finalizado"===l.documento.status,decimals:"4",tipo:"decimal",onBlur:o=>r.recalcularTotal(e)},null,8,["modelValue","onUpdate:modelValue","somenteLeitura","onBlur"])]),(0,a.createVNode)("div",te,[(0,a.createVNode)(u,{modelValue:e.valorItem,"onUpdate:modelValue":o=>e.valorItem=o,decimals:"4",disable:"",tipo:"decimal"},null,8,["modelValue","onUpdate:modelValue"])]),(0,a.createVNode)("div",ae,[(0,a.createVNode)(u,{modelValue:e.subTotal,"onUpdate:modelValue":o=>e.subTotal=o,somenteLeitura:"Finalizado"===l.documento.status,decimals:"4",tipo:"decimal",onBlur:o=>r.recalcularQuantidade(e)},null,8,["modelValue","onUpdate:modelValue","somenteLeitura","onBlur"])]),"Digitação"===l.documento.status?((0,a.openBlock)(),(0,a.createBlock)("div",ie,[(0,a.createVNode)(s,{dense:"",flat:"",icon:"delete",round:"",size:"md",onClick:o=>r.excluirItem(e.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[le])),_:1})])),_:2},1032,["onClick"])])):(0,a.createCommentVNode)("",!0)])),_:2},1024)])),_:2},1024)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(v,{class:"q-my-xs"}),(0,a.createVNode)(C,{caption:""})])))),128))])),_:1})])),_:1}),(0,a.createVNode)(N,{class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:" text-weight-bold text-left justify-around"},{default:(0,a.withCtx)((()=>[re,se,de,ce,(0,a.createVNode)("div",ne,(0,a.toDisplayString)(e.$filters.numero(l.totalOrigem,2)),1),me])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(N,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"text-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-mx-auto",color:"positive",icon:"add",label:"Adicionar item",outline:"",size:"xs",onClick:o[4]||(o[4]=e=>r.abrirModal("Origem"))})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})]),(0,a.createVNode)("div",ue,[(0,a.createVNode)(h,{class:"no-shadow bg-white full-width fit q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"q-pa-none q-ma-none q-mb-md",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)("p",pe,[(0,a.createVNode)(f,{class:"q-mr-md",name:"shopping_cart",size:"24px",style:{color:"#737373"}}),he]),(0,a.createVNode)(d,{class:"q-pa-none q-ma-none",style:{height:"0 !important","min-height":"auto"}}),"Digitação"===l.documento.status?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,color:"positive",dense:"",flat:"",icon:"add",round:"",size:"md",onClick:o[5]||(o[5]=e=>r.abrirModal("Destino"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[fe])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(g,{class:"col-12 no-border q-mx-none q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"q-col-gutter-md text-weight-bold text-left justify-around"},{default:(0,a.withCtx)((()=>[Ve,Ce,ve,xe,Ne,ge])),_:1})])),_:1}),(0,a.createVNode)(v,{class:"q-my-xs"}),((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(l.documentoItens,((e,o)=>((0,a.openBlock)(),(0,a.createBlock)("div",{key:o},[1===e.operacaoFator?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0,caption:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:" text-left justify-around"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)("div",we,(0,a.toDisplayString)(e.codigoItem||"-"),1),(0,a.createVNode)("div",be,(0,a.toDisplayString)(e.descricaoItem||"-"),1),(0,a.createVNode)("div",qe,[(0,a.createVNode)(u,{modelValue:e.quantidade,"onUpdate:modelValue":o=>e.quantidade=o,somenteLeitura:"Finalizado"===l.documento.status,decimals:"4",tipo:"decimal",onBlur:o=>r.recalcularTotal(e)},null,8,["modelValue","onUpdate:modelValue","somenteLeitura","onBlur"])]),(0,a.createVNode)("div",ke,[(0,a.createVNode)(u,{modelValue:e.valorItem,"onUpdate:modelValue":o=>e.valorItem=o,somenteLeitura:"Finalizado"===l.documento.status,class:"col",decimals:"4",tipo:"decimal"},null,8,["modelValue","onUpdate:modelValue","somenteLeitura"]),(0,a.createVNode)(u,{modelValue:e.valorCustoMedio,"onUpdate:modelValue":o=>e.valorCustoMedio=o,class:"col",decimals:"4",disable:"",tipo:"decimal"},null,8,["modelValue","onUpdate:modelValue"])]),(0,a.createVNode)("div",ye,[(0,a.createVNode)(u,{modelValue:e.subTotal,"onUpdate:modelValue":o=>e.subTotal=o,somenteLeitura:"Finalizado"===l.documento.status,decimals:"4",tipo:"decimal",onBlur:o=>r.recalcularQuantidade(e)},null,8,["modelValue","onUpdate:modelValue","somenteLeitura","onBlur"])]),"Digitação"===l.documento.status?((0,a.openBlock)(),(0,a.createBlock)("div",_e,[(0,a.createVNode)(s,{dense:"",flat:"",icon:"delete",round:"",size:"md",onClick:o=>r.excluirItem(e.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[Ie])),_:1})])),_:2},1032,["onClick"])])):(0,a.createCommentVNode)("",!0)])),_:2},1024)])),_:2},1024)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(v,{class:"q-my-xs"}),(0,a.createVNode)(C,{caption:""})])))),128))])),_:1})])),_:1}),(0,a.createVNode)(N,{class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:" text-weight-bold text-left justify-around"},{default:(0,a.withCtx)((()=>[De,ze,Be,Te,(0,a.createVNode)("div",Ee,(0,a.toDisplayString)(e.$filters.numero(l.totalDestino,2)),1),Me])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(N,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{class:"text-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"q-mx-auto",color:"positive",icon:"add",label:"Adicionar item",outline:"",size:"xs",onClick:o[6]||(o[6]=e=>r.abrirModal("Destino"))})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","onShow","onHide"]),(0,a.createVNode)(y,{modelValue:l.adicionar.modal.value,"onUpdate:modelValue":o[8]||(o[8]=e=>l.adicionar.modal.value=e),filtro:{ativo:!0,idEmpresa:l.campos.empresa.idContato},ref:"promptItem",habilitarQuantidade:!0,onSelecionarItens:r.selecionarItens},null,8,["modelValue","filtro","onSelecionarItens"]),(0,a.createVNode)(_,{modelValue:l.modalContatoEmpresa.visivel,"onUpdate:modelValue":o[9]||(o[9]=e=>l.modalContatoEmpresa.visivel=e),filtro:{ativo:!0,empresas:!0},placeholder:"Seleciona a empresa",onSelecionar:r.selecionarEmpresa},null,8,["modelValue","onSelecionar"]),(0,a.createVNode)(I,{ref:"modalComposicao",onAdicionarComposicao:r.adicionarComposicao},null,8,["onAdicionarComposicao"])],64)};const to=Oe;F()(Oe,"components",{QDialog:I.Z,QLayout:D.Z,QPageContainer:Re.Z,QHeader:z.Z,QToolbar:B.Z,QBtn:E.Z,QToolbarTitle:T.Z,QPage:je.Z,QCard:Ge.Z,QItemLabel:Xe.Z,QIcon:We.Z,QTooltip:Je.Z,QList:Ke.Z,QItem:Ye.Z,QItemSection:eo.Z,QSeparator:oo.Z}),F()(Oe,"directives",{ClosePopup:S.Z});var ao=t(88603);const io={components:{lista:g.Z,Badge:b.Z,ItensManipulacao:to,ModalExcluir:Q},data:()=>({paginacao:{atual:1,minimo:1,maximo:1,total:1,limite:25},filtros:{tab:"digitacao",empresa:{selecionada:"",opcoes:[]},periodo:{emissao:{ini:"",fim:""},finalizado:{ini:"",fim:""}}},documentos:[],tabs:[{rotulo:"Digitação",value:"digitacao"},{rotulo:"Finalizados",value:"finalizado"},{rotulo:"Todos",value:"Todos"}],confirm:!1,currentId:null,documentoItens:null,showsectionm:!1,buscaCampo:"",checkboxModel:[],carregando:!1,contatosEmpresa:[],dados:{},erroEmpresas:!1,erroPeriodo:!1,modalManipulacao:!1}),watch:{showFilters:function(e){!0===e?this.showList=!1:!0!==this.section&&!0!==this.kanban&&!0!==this.gantt||(this.showList=!0)}},methods:{trocarTab(e){this.paginacao.atual=1,this.filtros.tab=e,this.atualizar()},async atualizar(){console.log(this.filtros.tab);try{this.$q.loading.show();const e=this.paginacao.limite,o=this.paginacao.atual,t="descricao";let a="";"digitacao"===this.filtros.tab?a="Digitação":"finalizado"===this.filtros.tab&&(a="Finalizado");let i=this.filtros.empresa.selecionada.value||"";this.filtros.idEmpresa=i;let l={};if(this.buscaCampo);else{let i=this.$utils.eliminarVazios(this.filtros);i.status=a,l=await this.filtrarCampos(i,e,o,t)}this.documentos=l.data,console.log(l),this.paginacao.total=l.total,this.paginacao.maximo=l.totalPages}catch(e){this.$q.notifyError("Erro iniciar",e)}finally{this.$q.loading.hide()}},filtrarCampos:async(e,o,t,a)=>(console.log({filtros:e}),Pe.db.itemManipulacao.leRefatorado({filtros:e,limit:o,page:t,sort:a})),async showDetails(e){let o=await Pe.db.itemManipulacao.leItens({idDocumento:e.id});e.documentoItens=o,e.showPreviewDetail=!e.showPreviewDetail},async editarManipulacao(e){this.$refs.itensManipulacao.visibilidade.modal=!0,await this.$refs.itensManipulacao.atualizar(e)},async adicionarManipulacaoItens(){this.$refs.itensManipulacao.visibilidade.modal=!0,await this.$refs.itensManipulacao.atualizar()},async excluirDocumento(){await Pe.db.itemManipulacao.remove(this.currentId),this.atualizar()},async filtrar(e=1){this.buscaCampo="";const o=(e-1)*this.pageSize;this.documentos.status="digitacao";let t=await Pe.db.itemManipulacao.le({periodoEmissao:{ini:this.filtro.periodo.emissao.ini,fim:this.filtro.periodo.emissao.fim},periodoFinalizado:{ini:this.filtro.periodo.finalizado.ini,fim:this.filtro.periodo.finalizado.fim},status:this.page.ativa,idEmpresa:this.filtro.empresas.selected,offset:o,limit:this.pageSize});this.documentos=t[0].map((e=>({...e,showPreviewDetail:!1,documentoItens:[]}))),this.documentos=(0,ao.orderBy)(this.documentos,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"]);let a=t[1];this.page.digitacao.max=Math.ceil(a/this.pageSize),this.page.finalizado.max=Math.ceil(a/this.pageSize)},getPage(e){this.page.ativa=e,this.filtrar()},excluir(e){this.currentId=e,this.$refs.modalExcluir.modal.visivel=!0},async buscar(){setTimeout((async()=>{let e=(await Pe.db.item.ler({filtros:{termoBusca:this.buscaCampo}})).data,o=[],t=[];for(let t of e)o=await Pe.db.itemManipulacao.leItens({idItem:t.id});for(let e of o){console.log("doc");let o=await Pe.db.itemManipulacao.le({id:e.idDocumento});t.push(o)}this.documentos=t.map((e=>({...e,showPreviewDetail:!1,documentoItens:[]})))}),1500)},abrirFiltro(){!0===this.section||!0===this.kanban||!0===this.gantt?this.left=!0:this.left=!1,this.showFilters=!this.showFilters},async empresaOpcoesCarregar(){console.log("carregar empresas"),this.filtros.empresa.opcoes=(await Pe.db.empresa.le()).map((e=>({rotulo:e.nome,valor:e.id})))},carregaComponent(e){this.showFilters=!1,"list"===e&&(this.left=!1,this.section=!1,this.showList=!1,this.list=!0,this.kanban=!1,this.gantt=!1,this.ganttL=!1,this.kanbanL=!1)}},created(){this.atualizar()}};var lo=t(40320),ro=t(54707);io.render=function(e,o,t,g,w,b){const q=(0,a.resolveComponent)("campo"),k=(0,a.resolveComponent)("q-select"),y=(0,a.resolveComponent)("q-btn"),_=(0,a.resolveComponent)("badge"),I=(0,a.resolveComponent)("q-item-section"),D=(0,a.resolveComponent)("q-item-label"),z=(0,a.resolveComponent)("q-icon"),B=(0,a.resolveComponent)("q-item-labe"),T=(0,a.resolveComponent)("q-tooltip"),E=(0,a.resolveComponent)("q-item"),M=(0,a.resolveComponent)("q-list"),S=(0,a.resolveComponent)("q-menu"),Z=(0,a.resolveComponent)("q-separator"),F=(0,a.resolveComponent)("lista"),Q=(0,a.resolveComponent)("ItensManipulacao"),L=(0,a.resolveComponent)("ModalExcluir"),A=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(a.Fragment,null,[(0,a.createVNode)(F,{titulo:"Manipulação de Itens",onCriar_click:b.adicionarManipulacaoItens,showAdd:"false",icone:"mdi-set-center-right",onCheckBoxGeral_click:e.checkBoxGeral_click,onFiltro_change:b.atualizar,onLimparFiltros_click:e.limparFiltros_click,onAbrirTodosPreview:e.abrirTodosPreview,onExportarXLSX_click:e.exportarXLSX_click,onRemoverTodos:e.removerTodos,onRestaurarTodos:e.restaurarTodos,tabSelecionada:e.tabSelecionada,tabs:w.tabs,lista:e.lista,listaLayout:e.listaLayout,paginacao:w.paginacao,filtros:w.filtros,opcoesMarca:e.opcoesMarca,opcoesGrupo:e.opcoesGrupo,opcoesSubGrupo:e.opcoesSubGrupo,opcoesTipo:e.opcoesTipo,buscaCampo:w.buscaCampo,"onUpdate:buscaCampo":o[8]||(o[8]=e=>w.buscaCampo=e),checkboxModel:w.checkboxModel,"onUpdate:checkboxModel":o[9]||(o[9]=e=>w.checkboxModel=e)},{filtroCampos:(0,a.withCtx)((()=>[(0,a.createVNode)("div",i,[(0,a.createVNode)("div",{class:"col-12 q-px-sm",onClick:o[2]||(o[2]=(...e)=>b.empresaOpcoesCarregar&&b.empresaOpcoesCarregar(...e))},[(0,a.createVNode)(q,{modelValue:w.filtros.empresa.selecionada,"onUpdate:modelValue":o[1]||(o[1]=e=>w.filtros.empresa.selecionada=e),opcoes:w.filtros.empresa.opcoes,rotulo:"Por Empresa",tipo:"seletor"},null,8,["modelValue","opcoes"])]),(0,a.createVNode)("div",l,[r,(0,a.createVNode)("div",s,[(0,a.createVNode)(q,{modelValue:w.filtros.periodo.emissao.ini,"onUpdate:modelValue":o[3]||(o[3]=e=>w.filtros.periodo.emissao.ini=e),after:[{icon:"mdi-close-circle",handler(){w.filtros.periodo.emissao.ini=""}}],class:"no-shadow full-width",rotulo:"De",tipo:"data"},null,8,["modelValue","after"])]),(0,a.createVNode)("div",d,[(0,a.createVNode)(q,{modelValue:w.filtros.periodo.emissao.fim,"onUpdate:modelValue":o[4]||(o[4]=e=>w.filtros.periodo.emissao.fim=e),after:[{icon:"mdi-close-circle",handler(){w.filtros.periodo.emissao.fim=""}}],class:"no-shadow full-width",rotulo:"até",tipo:"data"},null,8,["modelValue","after"])])]),(0,a.createVNode)("div",c,[n,(0,a.createVNode)("div",m,[(0,a.createVNode)(q,{modelValue:w.filtros.periodo.finalizado.ini,"onUpdate:modelValue":o[5]||(o[5]=e=>w.filtros.periodo.finalizado.ini=e),after:[{icon:"mdi-close-circle",handler(){e.filtro.periodo.finalizado.ini=""}}],class:"no-shadow full-width",rotulo:"De",tipo:"data"},null,8,["modelValue","after"])]),(0,a.createVNode)("div",u,[(0,a.createVNode)(q,{modelValue:w.filtros.periodo.finalizado.fim,"onUpdate:modelValue":o[6]||(o[6]=e=>w.filtros.periodo.finalizado.fim=e),after:[{icon:"mdi-close-circle",handler(){e.filtro.periodo.finalizado.fim=""}}],class:"no-shadow full-width",rotulo:"até",tipo:"data"},null,8,["modelValue","after"])])]),(0,a.createVNode)("div",p,[(0,a.createVNode)(k,{modelValue:w.paginacao.limite,"onUpdate:modelValue":o[7]||(o[7]=e=>w.paginacao.limite=e),options:[10,25,50,100],placeholder:"Quantidade por página"},null,8,["modelValue"])]),(0,a.createVNode)("div",h,[(0,a.createVNode)(y,{class:"col-12 ",color:"primary",label:"Aplicar",onClick:b.atualizar},null,8,["onClick"])])])])),itemLista:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(w.documentos,(o=>((0,a.openBlock)(),(0,a.createBlock)(M,{key:o.id,class:"q-py-none qListaItems",style:{border:"none !important"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,{class:"items-center d-flex"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{avatar:"",center:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)("div",f,[(0,a.createVNode)(_,{class:"q-mr-sm",cor:"positive",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)(o.codigoDocumento),1)])),_:2},1024)])])),_:2},1024),(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(D,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.descricaoEmpresa),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(I,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(z,{class:"text-tertiary",name:"event"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$filters.data(o.dataHoraEmissao)),1)])),_:2},1024),(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[V])),_:1})])),_:2},1024),(0,a.createVNode)(I,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"q-mr-sm",cor:"warning",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.status),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(I,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"q-mr-sm",cor:"primary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.operacao),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(I,{side:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)("div",C,[(0,a.createVNode)(y,{icon:o.showPreviewDetail?"keyboard_arrow_up":"keyboard_arrow_down",class:"buttons",color:"tertiary",dense:"",flat:"",round:"",size:"md",onClick:e=>b.showDetails(o)},null,8,["icon","onClick"]),(0,a.createVNode)(y,{class:"buttons",color:"primary",dense:"",flat:"",icon:"edit",round:"",size:"md",onClick:e=>b.editarManipulacao(o.id)},null,8,["onClick"]),(0,a.createVNode)(y,{class:"buttons",color:"tertiary",dense:"",flat:"",icon:"delete",round:"",size:"md",onClick:e=>b.excluir(o.id)},null,8,["onClick"]),(0,a.createVNode)(y,{class:"morevert",dense:"",flat:"",icon:"more_vert",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(M,{class:"q-py-none",link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{onClick:e=>b.editarManipulacao(o.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(z,{name:"edit",size:"sm"}),(0,a.createVNode)(D,{caption:""},{default:(0,a.withCtx)((()=>[v])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1536),[[A]])])),_:2},1024)])),_:2},1024)])])),_:2},1024)])),_:2},1024),o.showPreviewDetail?((0,a.openBlock)(),(0,a.createBlock)(E,{key:0,class:" q-pa-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[x,((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(o.documentoItens,(e=>((0,a.openBlock)(),(0,a.createBlock)("div",{key:e.id},[-1===e.operacaoFator?((0,a.openBlock)(),(0,a.createBlock)(I,{key:0,stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.quantidade)+" "+(0,a.toDisplayString)(e.unidade)+" - "+(0,a.toDisplayString)(e.descricaoItem),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0)])))),128))])),_:2},1024),(0,a.createVNode)(D,null,{default:(0,a.withCtx)((()=>[N,((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(o.documentoItens,(e=>((0,a.openBlock)(),(0,a.createBlock)("div",{key:e.id},[1===e.operacaoFator?((0,a.openBlock)(),(0,a.createBlock)(I,{key:0,stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.quantidade)+" "+(0,a.toDisplayString)(e.unidade)+" - "+(0,a.toDisplayString)(e.descricaoItem),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0)])))),128))])),_:2},1024)])),_:2},1024)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(Z)])),_:2},1024)))),128))])),_:1},8,["onCriar_click","onCheckBoxGeral_click","onFiltro_change","onLimparFiltros_click","onAbrirTodosPreview","onExportarXLSX_click","onRemoverTodos","onRestaurarTodos","tabSelecionada","tabs","lista","listaLayout","paginacao","filtros","opcoesMarca","opcoesGrupo","opcoesSubGrupo","opcoesTipo","buscaCampo","checkboxModel"]),(0,a.createVNode)(Q,{ref:"itensManipulacao",onAtualizar:b.atualizar},null,8,["onAtualizar"]),(0,a.createVNode)(L,{ref:"modalExcluir",onExcluir:b.excluirDocumento},null,8,["onExcluir"])],64)};const so=io;F()(io,"components",{QSelect:lo.Z,QBtn:E.Z,QList:Ke.Z,QItem:Ye.Z,QItemSection:eo.Z,QItemLabel:Xe.Z,QIcon:We.Z,QTooltip:Je.Z,QMenu:ro.Z,QSeparator:oo.Z}),F()(io,"directives",{ClosePopup:S.Z})}}]);