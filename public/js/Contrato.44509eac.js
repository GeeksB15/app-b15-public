"use strict";(globalThis.webpackChunkb15=globalThis.webpackChunkb15||[]).push([[919],{31196:(e,t,o)=>{o.r(t),o.d(t,{default:()=>U});var a=o(34182);const l=(0,a.createElementVNode)("p",null,null,-1),i=(0,a.createElementVNode)("span",{class:"col-12 text-body1 text-dark"},"Periodo",-1),r=(0,a.createElementVNode)("p",null,null,-1),n={class:"col-auto q-pl-none items-center"},s={class:"col"},c={class:"col-12"},d={class:"text-tertiary q-col-gutter-xs"},m={key:1},u={key:0,class:"q-pa-md showPreviewDetail"},p={class:"col-12 q-mb-md"},h={class:"col-12 col-md-3"},V={class:"col-12 col-md-3"},C={class:"col-12 col-md"},f=(0,a.createElementVNode)("small",null,"Descontos",-1),x=(0,a.createElementVNode)("br",null,null,-1),N={key:1,class:"row q-px-md q-pb-md showPreviewDetail"};var v=o(77365),w=o(9373),g=o(83130),k=o(72407),y=o(70933),b=o(84830),_=o.n(b);const q={components:{lista:v.Z,modalContatoFicha:w.Z,Avatar:g.Z,Badge:k.Z,ModalCombinarContato:y.Z},computed:{titulo(){return"FaturaOptisoul"===this.$route.name?"Fatura Optisoul":"FaturaB15"===this.$route.name?"Fatura B-15":""}},data(){let e=new Date;return{lista:[],listaOriginal:[],listaLayout:{},modalCombinarContatos:!1,campos:{nome:"",apelido:"",numeroDocumentoNacional:"",telefone:"",cep:"",numero:""},paginacao:{atual:1,maximo:1,total:1,limite:25},filtros:{nome:null,apelido:null,numeroDocumentoNacional:null,periodo:{ini:new Date(new Date(new Date((new Date).setDate(1)).setHours(0,0,0,0)).setFullYear(e.getFullYear()-1)),fim:new Date(new Date(new Date(e).setMonth(e.getMonth()+1)).setDate(0))}},buscaCampo:"",tabSelecionada:{valor:"EmAberto"},tabs:[{rotulo:"Em Aberto",value:"EmAberto"},{rotulo:"Finalizadas",value:"Finalizado"},{rotulo:"Todas",value:"Todos"}],msgRestricao:"",showAllPreviewDetail:!1,checkboxModel:!1}},methods:{async atualizar(){try{$q.loading.show();const e=$utils.eliminarVazios(this.filtros),t=new Date(this.filtros.periodo.ini).toISOString(),o=new Date(this.filtros.periodo.fim).toISOString(),a=JSON.parse(localStorage.getItem("usuario"));let l,i;delete e.ativo,"Ativos"===this.tabSelecionada.valor&&(e.ativo=!0),"Excluidos"===this.tabSelecionada.valor&&(e.ativo=!1),this.filtro={periodo:{ini:t,fim:o}},"FaturaOptisoul"===this.$route.name&&(i="9AAEB5C5-5DEB-4A14-8E05-22EFB82298CF"),"FaturaB15"===this.$route.name&&(i="2A40FEB6-DCAF-4903-81AF-9ECC9477D03D"),l=(await this.$utils.geeksApi({funcao:{funcao:i,periodo:this.filtro.periodo,paginacao:{atual:this.paginacao.atual,limite:this.paginacao.limite},nome:this.filtros.nome||"",apelido:this.filtros.apelido||"",numeroDocumentoNacional:this.filtros.numeroDocumentoNacional||"",usuarioCpf:a.numeroDocumentoNacional,status:this.tabSelecionada.valor}})).data.funcao,this.listaLayout={};for(let e of l.data){const t=await $db.contato.leCompletoV3(e.id);t.detalhes=!1,t.remover=!1,t.ende=$db.contato.contatoBase().endereco[0],this.listaLayout[e.id]=t}this.listaOriginal=$utils.clonarV2(l.data),this.lista=l.data,this.paginacao.total=l.total,this.paginacao.maximo=l.totalPages}catch(e){$q.notifyError("Erro iniciar",e)}finally{$q.loading.hide()}},contatoCriarPorModal_click(){this.$refs.modalFicha.show({id:""})},limparFiltros_click(){this.filtros={tab:"Ativos",nome:null,apelido:null,numeroDocumentoNacional:null,telefone:null,cidade:null,uf:null,grupo:null,segmento:null,estoque:null,vendedor:null},this.atualizar()},checkBoxGeral_click(){for(let e of this.lista)this.listaLayout[e.id].remover=this.checkboxModel},async removerTodos(){$q.dialog({title:"Remover Contatos",message:"Deseja remover todos os contatos selecionados?",cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{for(let e of this.lista)if(this.listaLayout[e.id].remover){let t=$utils.clonarV2(e);e.ativo=!1;try{await $db.contato.gravar({original:{contato:t},atual:{contato:e}})}catch(e){$q.notify("Houve um erro ao remover os contatos. Tente novamente")}}}))},async restaurarTodos(){$q.dialog({title:"Restaurar itens",message:"Deseja restaurar todos os itens selecionados?",cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{for(let e of this.lista)if(this.listaLayout[e.id].remover){let t=$utils.clonarV2(e);e.ativo=!0;try{await $db.contato.gravar({original:{contato:t},atual:{contato:e}})}catch(e){$q.notify("Houve um erro ao restaurar os itens. Tente novamente")}}}))},async abrirDetalhesItem(e,t){this.listaLayout[e.id].detalhes=t||!this.listaLayout[e.id]?.detalhes,this.listaLayout[e.id]?.detalhes&&await $db.contato.leCompleto(e.id)},abrirTodosPreview(){this.showAllPreviewDetail=!this.showAllPreviewDetail,this.lista.forEach((e=>{this.abrirDetalhesItem(e,this.showAllPreviewDetail)}))},async exportarXLSX_click(){try{$q.loading.show();const e=$utils.eliminarVazios(this.filtros);delete e.ativo,"Ativos"===this.tabSelecionada.valor&&(e.ativo=!0),"Excluidos"===this.tabSelecionada.valaor&&(e.ativo=!1);const t=await $db.contato.leRefatorado({filtros:e,limit:999999,page:1,sort:"descricao"}),o=_().utils.book_new(),a=_().utils.json_to_sheet(t.data,{header:Object.keys(t.data[0])});_().utils.book_append_sheet(o,a,"contatos"),_().writeFile(o,"contatos.xlsx")}catch(e){$q.notifyError("Erro iniciar",e)}finally{$q.loading.hide()}},imprimirBoleto(e){JSON.parse(localStorage.getItem("usuario"));const t=JSON.parse(localStorage.getItem("clienteSistema"));if(t.bancoDeDados="GeeksWeb",t.versao="15A","FaturaOptisoul"===this.$route.name){let o=`https://rel.storage.b15.com.br/Relatorios/email.html?rid=${e.id.toString().replace(/-/g,"")}&CodigoFinanceiroBoleto=${e.CodigoFinanceiroBoleto}&NomeReport=boleto_layout_itau&URLServidor=https://api.b15.com.br/sql/srv5&Banco=Optidados&CodigoUsuario=188&hfCodigoSistema={data:{ CodigoUsuario: 188, CodigoSistema: 4, CodigoClienteSistema: 35, Sistema: _GeeksInterno, Versao: ${t.versao}, URLServidor: https://api.b15.com.br/sql/srv5,BancoDeDados: ${t.bancoDeDados},CodigoCliente: 14,Cliente: GEEKSSOLUESEMSOFTWARELTDA,Padrao: false,Administrador: true,GrupoInterno: ${t.grupoInterno}}}`.trim();window.open(o,"_blank")}if("FaturaB15"===this.$route.name){let o=`https://rel.storage.b15.com.br/Relatorios/email.html?rid=${e.id.toString().replace(/-/g,"")}&CodigoFinanceiroBoleto=${e.CodigoFinanceiroBoleto}&NomeReport=boleto_layout_banco_brasil&URLServidor=https://api.b15.com.br/sql/srv5&Banco=${t.bancoDeDados}&CodigoUsuario=188&hfCodigoSistema={data:{ CodigoUsuario: 188, CodigoSistema: 4, CodigoClienteSistema: 35, Sistema: _GeeksInterno, Versao: ${t.versao}, URLServidor: https://api.b15.com.br/sql/srv5,BancoDeDados: ${t.bancoDeDados},CodigoCliente: 14,Cliente: GEEKSSOLUESEMSOFTWARELTDA,Padrao: false,Administrador: true,GrupoInterno: ${t.grupoInterno}}}`.trim();window.open(o,"_blank")}},copiarCodigoBarras(e){const t=document.createElement("INPUT");t.value=e,t.type="text",document.body.appendChild(t);try{t.select(),document.execCommand("copy"),document.body.removeChild(t),this.$q.notify({message:"Codigo de barras copiado para a área de transferência.",type:"info"})}catch(e){this.$q.notifyError("Erro ao copiar Codigo de barras",e)}t.type="hidden",window.getSelection().removeAllRanges()}},async mounted(){const e=await $utils.conduta.obter();this.msgRestricao=e?.restricao??"",this.atualizar()}};var I=o(74260),E=o(77953),B=o(60880),D=o(68900),S=o(25901),T=o(31106),$=o(46924),L=o(4957),A=o(37617),F=o(54707),M=o(83831),z=o(98586),Z=o(7518),P=o.n(Z);const U=(0,I.Z)(q,[["render",function(e,t,o,v,w,g){const k=(0,a.resolveComponent)("q-icon"),y=(0,a.resolveComponent)("q-item-section"),b=(0,a.resolveComponent)("q-item"),_=(0,a.resolveComponent)("campo"),q=(0,a.resolveComponent)("q-checkbox"),I=(0,a.resolveComponent)("badge"),E=(0,a.resolveComponent)("row"),B=(0,a.resolveComponent)("q-item-label"),D=(0,a.resolveComponent)("avatar"),S=(0,a.resolveComponent)("q-tooltip"),T=(0,a.resolveComponent)("q-btn"),$=(0,a.resolveComponent)("q-list"),L=((0,a.resolveComponent)("q-menu"),(0,a.resolveComponent)("q-separator")),A=(0,a.resolveComponent)("lista"),F=(0,a.resolveComponent)("modalContatoFicha"),M=(0,a.resolveComponent)("modalCombinarContato");return(0,a.resolveDirective)("close-popup"),(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(A,{titulo:g.titulo,onCriar_click:g.contatoCriarPorModal_click,onCheckBoxGeral_click:g.checkBoxGeral_click,icone:"attach_money",onFiltro_change:g.atualizar,onLimparFiltros_click:g.limparFiltros_click,onAbrirTodosPreview:g.abrirTodosPreview,onExportarXLSX_click:g.exportarXLSX_click,onRemoverTodos:g.removerTodos,onRestaurarTodos:g.restaurarTodos,tabSelecionada:w.tabSelecionada,tabs:w.tabs,lista:w.lista,listaLayout:w.listaLayout,paginacao:w.paginacao,filtros:w.filtros,buscaCampo:w.buscaCampo,"onUpdate:buscaCampo":t[8]||(t[8]=e=>w.buscaCampo=e),checkboxModel:w.checkboxModel,"onUpdate:checkboxModel":t[9]||(t[9]=e=>w.checkboxModel=e),abrirTodosVisible:!1,exportarXLSXVisible:!1,permissaoExtras:!1,removerTodosVisible:!1,checkboxVisible:!1,permissaoNovo:!1,bannerMsg:w.msgRestricao},{menuExtras:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{clickable:"",onClick:t[0]||(t[0]=()=>{this.modalCombinarContatos=!0})},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{name:"compare_arrows",size:"sm"})])),_:1}),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Combinar")])),_:1})])),_:1})])),filtroCampos:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{modelValue:w.filtros.nome,"onUpdate:modelValue":t[1]||(t[1]=e=>w.filtros.nome=e),rotulo:"Nome/Razão",dense:""},null,8,["modelValue"]),(0,a.createVNode)(_,{modelValue:w.filtros.apelido,"onUpdate:modelValue":t[2]||(t[2]=e=>w.filtros.apelido=e),rotulo:"Apelido/Fantasia",dense:""},null,8,["modelValue"]),(0,a.createVNode)(_,{modelValue:w.filtros.numeroDocumentoNacional,"onUpdate:modelValue":t[3]||(t[3]=e=>w.filtros.numeroDocumentoNacional=e),rotulo:"CPF/CNPJ",dense:""},null,8,["modelValue"]),l,i,(0,a.createVNode)(_,{modelValue:w.filtros.periodo.ini,"onUpdate:modelValue":t[4]||(t[4]=e=>w.filtros.periodo.ini=e),tipo:"data",class:"no-shadow full-width",rotulo:"De",col:"12",after:[{icon:"mdi-close-circle",handler(){w.filtros.periodo.ini=""}}],dense:""},null,8,["modelValue","after"]),(0,a.createVNode)(_,{modelValue:w.filtros.periodo.fim,"onUpdate:modelValue":t[5]||(t[5]=e=>w.filtros.periodo.fim=e),tipo:"data",class:"no-shadow full-width",rotulo:"até",col:"12",after:[{icon:"mdi-close-circle",handler(){w.filtros.periodo.fim=""}}],dense:""},null,8,["modelValue","after"]),r,(0,a.createVNode)(_,{modelValue:w.paginacao.limite,"onUpdate:modelValue":t[6]||(t[6]=e=>w.paginacao.limite=e),min:"1",rotulo:"Quantidade por página",tipo:"quantidade",dense:""},null,8,["modelValue"])])),itemLista:(0,a.withCtx)((()=>[(0,a.createVNode)($,{class:"rounded-borders"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(w.lista,(o=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o,class:"itemHover fullWidth"},[(0,a.createVNode)(b,{"manual-focus":"",clickable:"",class:"items-center d-flex q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{avatar:"",center:"",class:"mw120 hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,{class:"items-center"},{default:(0,a.withCtx)((()=>[(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("p",null,[(0,a.createVNode)(I,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)(parseInt(o.numero)||(o.id||"").slice(-6)),1)])),_:2},1024)])])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(y,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,{class:"items-center q-col-gutter-x-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,{modelValue:w.checkboxModel,"onUpdate:modelValue":t[7]||(t[7]=e=>w.checkboxModel=e),class:"q-ma-none q-pa-none hideondesktop"},null,8,["modelValue"]),(0,a.createElementVNode)("div",n,[(0,a.createVNode)(D,{imagem:o.photo,tamanho:"40",rotulo:o.nome,style:{display:"flex","align-self":"center"}},null,8,["imagem","rotulo"])]),(0,a.createElementVNode)("div",s,[(0,a.createVNode)(B,{class:"text-tertiary text-weight-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.Cliente),1)])),_:2},1024),(0,a.createVNode)(B,{caption:"",class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.nome),1)])),_:2},1024),(0,a.createVNode)(E,{class:"hideondesktop items-center q-my-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",c,[(0,a.createVNode)(I,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("#0001")])),_:1})])])),_:1})])])),_:2},1024)])),_:2},1024),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{class:"text-tertiary",name:"today"}),(0,a.createVNode)(B,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(o.DataVencimento)),1)])),_:2},1024),(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Data de Vendimento")])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" R$ "+(0,a.toDisplayString)(e.$filters.numero(o.ValorOriginal,2))+" ",1),(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Valor")])),_:1})])),_:2},1024)])),_:2},1024),(0,a.createVNode)(y,{side:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",d,[(0,a.createCommentVNode)("",!0),!0===o.receberPagar&&null===o.dataPagamento?((0,a.openBlock)(),(0,a.createElementBlock)("div",m,[(0,a.createVNode)(T,{color:"tertiary",size:"md",icon:"mdi-barcode-scan",flat:"",dense:"",round:"",class:"buttons",onClick:e=>g.copiarCodigoBarras(o.LinhaDigitavel)},null,8,["onClick"]),(0,a.createVNode)(T,{color:"tertiary",flat:"",icon:"print",onClick:e=>g.imprimirBoleto(o)},null,8,["onClick"])])):(0,a.createCommentVNode)("",!0),!0===o.receberPagar&&null!==o.dataPagamento?((0,a.openBlock)(),(0,a.createBlock)(B,{key:2,class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{class:"q-mr-sm",escuro:"",cor:"positive"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{class:"text-white",name:"today"}),(0,a.createTextVNode)(" Pago em "+(0,a.toDisplayString)(e.$filters.data(o.DataVencimento)),1)])),_:2},1024),(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Data de Pagamento")])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1024)):(0,a.createCommentVNode)("",!0),(0,a.createCommentVNode)("",!0)])])),_:2},1024)])),_:2},1024),w.listaLayout[o.id]?.detalhes?((0,a.openBlock)(),(0,a.createElementBlock)("div",u,[(0,a.createVNode)(E,{class:"q-col-gutter-md text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",p,[(0,a.createVNode)(B,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("52x - Descrição do item ")])),_:1})])])),_:1}),(0,a.createVNode)(E,{class:"q-col-gutter-md text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",h,[(0,a.createVNode)(B,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{class:"text-tertiary",name:"today"}),(0,a.createVNode)(B,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("22/01/2021 ")])),_:1}),(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Data de Emissão")])),_:1})])),_:1})])),_:1})]),(0,a.createElementVNode)("div",V,[(0,a.createVNode)(B,{class:"text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{class:"text-tertiary",name:"today"}),(0,a.createVNode)(B,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("22/01/2021 ")])),_:1}),(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Data de Vendimento")])),_:1})])),_:1})])),_:1})]),(0,a.createElementVNode)("div",C,[(0,a.createVNode)(B,{class:"text-tertiary text-right"},{default:(0,a.withCtx)((()=>[f,x,(0,a.createTextVNode)(" R$100,00 "),(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Valor")])),_:1})])),_:1})])])),_:1})])):(0,a.createCommentVNode)("",!0),w.listaLayout[o.id]?.detalhes?((0,a.openBlock)(),(0,a.createElementBlock)("div",N,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.tags,(e=>((0,a.openBlock)(),(0,a.createBlock)(I,{class:"q-mr-sm",escuro:"",cor:"primary",key:e},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e),1)])),_:2},1024)))),128))])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(L)])))),128))])),_:1})])),_:1},8,["titulo","onCriar_click","onCheckBoxGeral_click","onFiltro_change","onLimparFiltros_click","onAbrirTodosPreview","onExportarXLSX_click","onRemoverTodos","onRestaurarTodos","tabSelecionada","tabs","lista","listaLayout","paginacao","filtros","buscaCampo","checkboxModel","bannerMsg"]),(0,a.createVNode)(F,{ref:"modalFicha"},null,512),(0,a.createVNode)(M,{modelValue:w.modalCombinarContatos,"onUpdate:modelValue":t[10]||(t[10]=e=>w.modalCombinarContatos=e)},null,8,["modelValue"])])}]]);P()(q,"components",{QItem:E.Z,QItemSection:B.Z,QIcon:D.Z,QList:S.Z,QItemLabel:T.Z,QCheckbox:$.Z,QTooltip:L.Z,QBtn:A.Z,QMenu:F.Z,QSeparator:M.Z}),P()(q,"directives",{ClosePopup:z.Z})},77217:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Be});var a=o(34182);const l={class:"row items-center"},i=["onClick"],r={key:0,class:"col-12"},n={key:1,class:"col-12"},s={class:"text-tertiary q-col-gutter-xs"},c={class:"col-12 col-lg"},d={style:{"white-space":"pre-line"}},m=["onClick"],u={key:0,class:"col-10 col-lg"},p={key:1,class:"col-12 col-lg"},h={key:2,class:"col-10 col-lg"},V={key:3,class:"col-12 col-lg-auto q-pt-md",style:{"min-width":"115px !important"}};var C=o(62024),f=o(43805),x=o(72407);o(8465);const N={key:0},v={key:3},w={ref:"form"},g={class:"col-12 col-md"},k={class:"col-auto"},y={class:"col"},b={class:"col-12 col-md"},_={class:"col-auto"},q={class:"col"},I={class:"col-12 col-md"},E=(0,a.createElementVNode)("div",{class:"col-2 col-md"},"Código",-1),B=(0,a.createElementVNode)("div",{class:"col-10 col-md-4"},"Descrição",-1),D=(0,a.createElementVNode)("div",{class:"col-6 col-md text-right"},"Quantidade",-1),S=(0,a.createElementVNode)("div",{class:"col-6 col-md text-right"},"Valor",-1),T=(0,a.createElementVNode)("div",{class:"col-6 col-md text-right"},"Total",-1),$=(0,a.createElementVNode)("div",{class:"col-6 col-md-1 text-right"},"Ações",-1),L={class:"col-2 col-md"},A={class:"col-10 col-md-4"},F={class:"col-6 col-md text-right row"},M={class:"col-2"},z={class:"col-6 col-md text-right"},Z={class:"col-6 col-md text-right"},P={class:"col-6 col-md-1 text-right"},U=(0,a.createElementVNode)("div",{class:"col-2 col-md"},null,-1),Q=(0,a.createElementVNode)("div",{class:"col-10 col-md-4"},null,-1),R=(0,a.createElementVNode)("div",{class:"col-6 col-md text-right"},null,-1),O=(0,a.createElementVNode)("div",{class:"col-6 col-md text-right"},null,-1),G={class:"col-6 col-md text-right"},H=(0,a.createElementVNode)("div",{class:"col-6 col-md-1 text-right"}," ",-1),X={class:"u-container relative-position"};var j=o(48409),J=o(35451),W=o(87561),K=o(62983),Y=o(92674),ee=o(83130);const te={components:{Badge:x.Z,Campo:W.Z,PromptItemV2:K.Z,Avatar:ee.Z,PromptContatoNovo:Y.Z},data:()=>({cliente:{},emitente:{},diaVencimento:"",documentoAnterior:{},documentoItensAnterior:[],documento:{id:(0,J.uuid)(),dataHoraEmissao:(0,J.dataAtual)(),numero:"",descricaoContato:"",idContato:"",descricaoEmpresa:"",idEmpresa:"",numeroVolumeTransporte:"",status:"Ativo",tipo:"Contrato"},documentoItens:[],totalItens:0,visibilidade:{modal:!1},itensModal:!1,carregando:!0,contatosModal:!1,emitenteModal:!1,empresas:[],configImpressaoContrato:[]}),emits:["atualizar"],methods:{async atualizar(e){if(e=e??this.$route.params.id)this.documentoAnterior=await C.db.contrato.le({id:e}),this.documento=(0,J.clonarV2)(this.documentoAnterior),this.documentoItensAnterior=await C.db.itemManipulacao.leItens({idDocumento:e}),this.documentoItens=(0,J.clonarV2)(this.documentoItensAnterior),this.cliente.id=this.documento.idContato,this.cliente.nome=this.documento.descricaoContato,this.emitente.id=this.documento.idEmpresa,this.emitente.nome=this.documento.descricaoEmpresa,this.diaVencimento=this.documento.numeroVolumeTransporte;else{this.limparCampos();const e=await $g.promptContato.show({filtro:{ativo:!0,empresas:!0},placeholder:"Selecione"});this.emitente=(0,J.clonarV2)(e),this.documento.idEmpresa=this.emitente.id,this.documento.descricaoEmpresa=this.emitente.nome}const t=await C.db.item.ler();this.itens=t.data,this.empresas=await C.db.empresa.le(),this.somarValorTotal(),this.configuraImpressaoContrato(this.documento.idEmpresa)},async mostrar(){await(0,J.dormir)(500),this.carregando=!1},async configuraImpressaoContrato(e){const t=await C.db.configuracoes.porNome("impressao.contrato",e);this.configImpressaoContrato=t},fechar(){this.$router.replace({params:{id:""}}),this.carregando=!0},limparCampos(){this.documentoAnterior={},this.documento={id:(0,J.uuid)(),dataHoraEmissao:(0,J.dataAtual)(),numero:"",descricaoContato:"",idContato:"",descricaoEmpresa:"",idEmpresa:"",numeroVolumeTransporte:"",status:"Ativo",tipo:"Contrato"},this.documentoItensAnterior=[],this.documentoItens=[],this.cliente.id="",this.cliente.nome="",this.emitente.id="",this.emitente.nome="",this.diaVencimento=""},async abrirModal(e=""){let t={},o=[];o=e?this.documentoItens.filter((t=>t.idItem===e)):this.documentoItens;for(const e of o)t[e.idItem]={item:await(0,j.X)().item.get(e.idItem)||{},quantidade:e.quantidade};this.$refs.promptItem.itensSelecionados=t,this.$refs.promptItem.termo=e,this.$refs.promptItem.atualizar(),this.itensModal=!0},recalcularTotal(e){e.subTotal=(0,J.arredondar)(e.quantidade*e.valorItem),e.total=(0,J.arredondar)(e.quantidade*e.valorItem),this.somarValorTotal()},async selecionarCliente(){if("Cancelado"!==this.documento.status){const e=await $g.promptContato.show({filtro:{ativo:!0},placeholder:"Selecione"});this.cliente=(0,J.clonarV2)(e),this.contatosModal=!1,this.documento.idContato=this.cliente.id,this.documento.descricaoContato=this.cliente.nome}},async selecionarEmitente(e,t){e?(this.emitente=(0,J.clonarV2)(t),this.emitenteModal=!1,this.documento.idEmpresa=this.emitente.id,this.documento.descricaoEmpresa=this.emitente.nome):this.emitenteModal=!1},aoSelecionarVencimento(){this.documento.numeroVolumeTransporte=this.diaVencimento},selecionarItens:function(e){for(const t in e){const o=e[t].item||{},a=e[t].quantidade||0;let l=this.documentoItens.find((e=>e.idItem===t));l?(l.quantidade=a,l.quantidadeRealizado=a,l.total=(0,J.arredondar)(a*o.valorVenda)):this.documentoItens.push({dataHoraEmissao:(0,J.dataAtual)(),descricaoItem:o.descricao,id:(0,J.uuid)(),idDocumento:this.documento.id,idItem:o.id,operacao:"-",quantidade:a,unidade:o.unidade,quantidadeRealizado:a,tipoItem:o.tipo,total:(0,J.arredondar)(a*o.valorVenda),valorItem:o.valorVenda})}this.somarValorTotal()},somarValorTotal(){this.totalItens=this.documentoItens.reduce(((e,t)=>e+t.total),0)},excluirItem(e){this.documentoItens=this.documentoItens.filter((t=>t.id!==e)),this.somarValorTotal()},validaDia(){if(this.diaVencimento<1||this.diaVencimento>28)return this.$q.notifyAlert("O dia deve ser um valor entre 1 e 28"),void(this.diaVencimento="");this.aoSelecionarVencimento()},async gravar(e=!1){if(console.log("gravar"),console.log(this.cliente),console.log(this.emitente),this.cliente.id)if(this.emitente.id)if(this.diaVencimento)if(this.totalItens)try{await C.db.contrato.grava({documentoAnterior:this.documentoAnterior,documento:this.documento,documentoItensAnterior:this.documentoItensAnterior,documentoItens:this.documentoItens}),this.visibilidade.modal=e,this.atualizar(this.documento.id),this.$emit("atualizar")}catch(e){this.$q.notifyError("Erro ao salvar",e)}else this.$q.notifyAlert("Adicione alguns itens ao contrato");else this.$q.notifyAlert("Selecione um dia de Vencimento");else this.$q.notifyAlert("Selecione um Emitente");else this.$q.notifyAlert("Selecione um Cliente")},cancelar(){this.documento.status="Cancelado",this.documento.dataHoraFinalizado=(0,J.dataAtual)(),this.gravar(!0),$q.notifyPositive("Contrato Cancelado")},ativar(){this.documento.status="Ativo",this.documento.dataHoraFinalizado="",this.gravar(!0),$q.notifyPositive("Contrato Reativado")}},async created(){console.log("created")}};var oe=o(74260),ae=o(39341),le=o(63626),ie=o(7112),re=o(54553),ne=o(47266),se=o(37617),ce=o(48761),de=o(24515),me=o(4957),ue=o(54707),pe=o(25901),he=o(77953),Ve=o(60880),Ce=o(31106),fe=o(83054),xe=o(68900),Ne=o(83831),ve=o(83671),we=o(98586),ge=o(7518),ke=o.n(ge);const ye=(0,oe.Z)(te,[["render",function(e,t,o,l,i,r){const n=(0,a.resolveComponent)("q-btn"),s=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-toolbar"),d=(0,a.resolveComponent)("q-header"),m=(0,a.resolveComponent)("badge"),u=(0,a.resolveComponent)("q-tooltip"),p=(0,a.resolveComponent)("q-item-section"),h=(0,a.resolveComponent)("q-item-label"),V=(0,a.resolveComponent)("q-item"),C=(0,a.resolveComponent)("q-list"),f=(0,a.resolveComponent)("q-menu"),x=(0,a.resolveComponent)("avatar"),j=(0,a.resolveComponent)("campo"),J=(0,a.resolveComponent)("row"),W=(0,a.resolveComponent)("q-card"),K=(0,a.resolveComponent)("q-icon"),Y=(0,a.resolveComponent)("q-separator"),ee=(0,a.resolveComponent)("PromptItemV2"),te=(0,a.resolveComponent)("prompt-contato-novo"),oe=(0,a.resolveComponent)("q-page"),ae=(0,a.resolveComponent)("q-footer"),le=(0,a.resolveComponent)("q-page-container"),ie=(0,a.resolveComponent)("q-layout"),re=(0,a.resolveComponent)("q-dialog"),ne=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(re,{modelValue:i.visibilidade.modal,"onUpdate:modelValue":t[10]||(t[10]=e=>i.visibilidade.modal=e),maximized:"",onShow:r.mostrar,onHide:r.fechar},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(ie,{class:"bg-light",container:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(le,{class:"u-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(n,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[ne]]),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Contrato")])),_:1}),(0,a.createVNode)(n,{class:"no-shadow",unelevated:"",color:"white","text-color":"primary",label:"Salvar",onClick:t[0]||(t[0]=e=>r.gravar(!1))})])),_:1})])),_:1}),(0,a.createVNode)(oe,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"q-pa-none q-ma-none q-my-md",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"text-black q-px-none text-body2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Emissão: "+(0,a.toDisplayString)(e.$filters.data(i.documento.dataHoraEmissao))+" ",1),i.documento.dataHoraFinalizado?((0,a.openBlock)(),(0,a.createElementBlock)("span",N,"Cancelamento: "+(0,a.toDisplayString)(e.$filters.data(i.documento.dataHoraFinalizado)),1)):(0,a.createCommentVNode)("",!0)])),_:1}),"Ativo"===i.documento.status?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,cor:"positive",class:"q-mx-sm",icone:"flag",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(i.documento.status),1)])),_:1})):(0,a.createCommentVNode)("",!0),"Cancelado"===i.documento.status?((0,a.openBlock)(),(0,a.createBlock)(m,{key:1,cor:"negative",class:"q-mx-xs",icone:"flag",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(i.documento.status),1)])),_:1})):(0,a.createCommentVNode)("",!0),i.documento.numero?((0,a.openBlock)(),(0,a.createBlock)(m,{key:2,cor:"tertiary",escuro:"",icone:"playlist_add_check",class:"q-mx-xs"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)(i.documento.numero)+" ",1),i.documento.codigoDocumento?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Código: "+(0,a.toDisplayString)(i.documento.codigoDocumento),1)])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0),i.documento.numero?((0,a.openBlock)(),(0,a.createElementBlock)("div",v,[i.configImpressaoContrato.length>1?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0,class:"q-ml-xs",color:"primary",icon:"print",flat:"",dense:"",round:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{self:"top middle",anchor:"bottom middle"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{link:"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(i.configImpressaoContrato.filter((e=>e.valor)),(t=>((0,a.openBlock)(),(0,a.createBlock)(V,{key:t.valor,onClick:o=>e.$imprimir(t.valor,{id:(i.documento||{}).id||"0",Oculto:"0"})},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{icon:"print"}),(0,a.createVNode)(h,{label:t.texto},null,8,["label"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})):((0,a.openBlock)(),(0,a.createBlock)(n,{key:1,class:"q-ml-xs",color:"primary",icon:"print",flat:"",dense:"",round:"",onClick:t[1]||(t[1]=t=>e.$imprimir(i.configImpressaoContrato[0].valor,{id:(i.documento||{}).id||"0",Oculto:"0"}))}))])):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(W,{class:"bg-white q-pa-md q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("form",w,[(0,a.createVNode)(J,{class:"q-col-gutter-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",g,[(0,a.createVNode)(J,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",k,[(0,a.createVNode)(x,{imagem:i.emitente.imagem,rotulo:i.emitente.nome,tamanho:"30",style:{float:"left"},class:"q-mr-sm"},null,8,["imagem","rotulo"])]),(0,a.createElementVNode)("div",y,[(0,a.createVNode)(j,{rotulo:"Emitente",tipo:"texto",class:"col-10",modelValue:i.emitente.nome,"onUpdate:modelValue":t[2]||(t[2]=e=>i.emitente.nome=e),disable:""},null,8,["modelValue"])])])),_:1})]),(0,a.createElementVNode)("div",b,[(0,a.createVNode)(J,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",_,[(0,a.createVNode)(x,{imagem:i.cliente.imagem,rotulo:i.cliente.nome,tamanho:"30",style:{float:"left"},class:"q-mr-sm"},null,8,["imagem","rotulo"])]),(0,a.createElementVNode)("div",q,[(0,a.createVNode)(j,{placeholder:"Cliente",rotulo:"Cliente",tipo:"texto",after:[{icon:"edit",handler(){r.selecionarCliente()}}],modelValue:i.cliente.nome,"onUpdate:modelValue":[t[3]||(t[3]=e=>i.cliente.nome=e),e.aoSelecionarCliente],onClick:r.selecionarCliente,somenteLeitura:"Cancelado"===i.documento.status},null,8,["after","modelValue","onClick","onUpdate:modelValue","somenteLeitura"])])])),_:1})]),(0,a.createElementVNode)("div",I,[(0,a.createVNode)(j,{class:"col-12 col-md",rotulo:"Dia de Vencimento",modelValue:i.diaVencimento,"onUpdate:modelValue":t[4]||(t[4]=e=>i.diaVencimento=e),opcoes:{minimumValue:1,maximumValue:28},placeholder:"Dia Vencimento",tipo:"numero",onBlur:r.validaDia,errorMessage:"Dia entre 1 e 28",error:i.diaVencimento>28||i.diaVencimento<1},null,8,["modelValue","onBlur","error"])])])),_:1})],512)])),_:1}),(0,a.createVNode)(W,{class:"bg-white q-pa-md q-mt-md no-shadow"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"q-pa-none q-ma-none q-mb-md",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(K,{name:"shopping_cart",size:"24px",style:{color:"#737373"}}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Produtos e Serviços ")])),_:1}),"Cancelado"!==i.documento.status?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0,color:"positive",flat:"",dense:"",icon:"add",round:"",size:"md",onClick:t[5]||(t[5]=e=>r.abrirModal())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Adicionar Item")])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(C,{class:"col-12 no-border q-mx-none q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{class:"q-pa-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(J,{class:"q-col-gutter-md text-weight-bold text-left justify-around"},{default:(0,a.withCtx)((()=>[E,B,D,S,T,$])),_:1})])),_:1}),(0,a.createVNode)(Y,{class:"q-my-xs"}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(i.documentoItens,((t,o)=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:o},[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(J,{class:"q-col-gutter-md text-weight-bold text-left justify-around"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",L,(0,a.toDisplayString)(t.codigoItem||"-"),1),(0,a.createElementVNode)("div",A,(0,a.toDisplayString)(t.descricaoItem||"-"),1),(0,a.createElementVNode)("div",F,[(0,a.createVNode)(j,{class:"col-10",modelValue:t.quantidade,"onUpdate:modelValue":e=>t.quantidade=e,tipo:"decimal",decimals:"4",onBlur:e=>r.recalcularTotal(t)},null,8,["modelValue","onUpdate:modelValue","onBlur"]),(0,a.createElementVNode)("span",M,(0,a.toDisplayString)(t.unidade||"-"),1)]),(0,a.createElementVNode)("div",z,[(0,a.createVNode)(j,{class:"col-10",modelValue:t.valorItem,"onUpdate:modelValue":e=>t.valorItem=e,tipo:"decimal",decimals:"4",onBlur:e=>r.recalcularTotal(t)},null,8,["modelValue","onUpdate:modelValue","onBlur"])]),(0,a.createElementVNode)("div",Z,(0,a.toDisplayString)(e.$filters.numero(t.total,2)),1),(0,a.createElementVNode)("div",P,[(0,a.createVNode)(n,{flat:"",dense:"",icon:"edit",round:"",size:"md",onClick:e=>r.abrirModal(t.idItem)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Editar")])),_:1})])),_:2},1032,["onClick"]),(0,a.createVNode)(n,{flat:"",dense:"",icon:"delete",round:"",size:"md",onClick:e=>r.excluirItem(t.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Excluir")])),_:1})])),_:2},1032,["onClick"])])])),_:2},1024)])),_:2},1024),(0,a.createVNode)(Y,{class:"q-my-xs"})],64)))),128))])),_:1})])),_:1}),(0,a.createVNode)(V,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(J,{class:"q-col-gutter-md text-weight-bold text-left justify-around"},{default:(0,a.withCtx)((()=>[U,Q,R,O,(0,a.createElementVNode)("div",G,(0,a.toDisplayString)(e.$filters.numero(i.totalItens,2)),1),H])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(V,{class:"q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"text-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{color:"positive",icon:"add",class:"q-mx-auto",label:"Adicionar item",outline:"",size:"xs",onClick:t[6]||(t[6]=e=>r.abrirModal())})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(ee,{modelValue:i.itensModal,"onUpdate:modelValue":t[7]||(t[7]=e=>i.itensModal=e),filtro:{ativo:!0,idEmpresa:i.documento.idEmpresa},onSelecionarItens:r.selecionarItens,habilitarQuantidade:!0,ref:"promptItem"},null,8,["modelValue","filtro","onSelecionarItens"]),(0,a.createVNode)(te,{modelValue:i.contatosModal,"onUpdate:modelValue":t[8]||(t[8]=e=>i.contatosModal=e),filtro:{ativo:!0},placeholder:"Seleciona o Cliente",onSelecionar:e.aoSelecionarCliente},null,8,["modelValue","onSelecionar"]),(0,a.createVNode)(te,{modelValue:i.emitenteModal,"onUpdate:modelValue":t[9]||(t[9]=e=>i.emitenteModal=e),filtro:{ativo:!0,empresas:!0},placeholder:"Seleciona a empresa emitente",onSelecionar:r.selecionarEmitente},null,8,["modelValue","onSelecionar"])])),_:1}),(0,a.createVNode)(ae,{class:"bg-light no-shadow q-pa-sm text-right",bordered:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",X,[(0,a.createVNode)(s,{class:"text-right"},{default:(0,a.withCtx)((()=>["Cancelado"===i.documento.status?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0,color:"primary",label:"Ativar",unelevated:"",onClick:r.ativar},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),"Ativo"===i.documento.status?((0,a.openBlock)(),(0,a.createBlock)(n,{key:1,class:"q-mx-md",color:"negative",flat:"",label:"Cancelar",onClick:r.cancelar},null,8,["onClick"])):(0,a.createCommentVNode)("",!0)])),_:1})])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","onShow","onHide"])}]]);ke()(te,"components",{QDialog:ae.Z,QLayout:le.Z,QPageContainer:ie.Z,QHeader:re.Z,QToolbar:ne.Z,QBtn:se.Z,QToolbarTitle:ce.Z,QPage:de.Z,QTooltip:me.Z,QMenu:ue.Z,QList:pe.Z,QItem:he.Z,QItemSection:Ve.Z,QItemLabel:Ce.Z,QCard:fe.Z,QIcon:xe.Z,QSeparator:Ne.Z,QFooter:ve.Z}),ke()(te,"directives",{ClosePopup:we.Z});const be={components:{lista:f.Z,Badge:x.Z,ContratoModal:ye},data:()=>({paginacao:{atual:1,minimo:1,maximo:1,total:1,limite:25},filtros:{tab:"Ativos",empresa:{selecionada:"",opcoes:[]},periodo:{emissao:{ini:"",fim:""},finalizado:{ini:"",fim:""}}},documentos:[],tabs:[{rotulo:"Ativos",value:"Ativos"},{rotulo:"Cancelados",value:"Cancelados"},{rotulo:"Todos",value:"Todos"}],tabSelecionada:{valor:"Ativos"},checkboxModel:!1,showAllPreviewDetail:!1,listaItensLayout:{},showFilters:!1,filtrosDrawer:{ativo:null,descricaoAplicacao:null,codIdRef:null,codigoBarras:null,marca:null,fornecedor:null,grupo:null,subGrupo:null,estoque:null,tipo:null,codigoCompra:null},buscaCampo:"",opcoesMarca:[],opcoesGrupo:[],opcoesSubGrupo:[],opcoesTipo:["Produto"]}),methods:{async criarContrato(){await this.$refs.contratoModal.atualizar(),this.$refs.contratoModal.visibilidade.modal=!0},selecionarTodosXCheckBox(){for(let e of this.listaItens)this.listaItensLayout[e.id].remover=this.checkboxModel},async abrirItem(e){this.$router.replace({params:{id:e}}),await this.$refs.contratoModal.atualizar(e),this.$refs.contratoModal.visibilidade.modal=!0},abrirTodosPreview(){if(this.showAllPreviewDetail=!this.showAllPreviewDetail,this.showAllPreviewDetail)for(let e in this.listaItensLayout)this.listaItensLayout[e].showPreviewDetail=!0,this.listaItensLayout[e].detalhes=!0;else for(let e in this.listaItensLayout)this.listaItensLayout[e].showPreviewDetail=!1,this.listaItensLayout[e].detalhes=!1},async showDetails(e){let t=await $db.registro.leItens({idDocumento:e.id});e.documentoItens=t,e.showAllPreviewDetail=!e.showAllPreviewDetail,e.detalhes=!e.detalhes,this.listaItensLayout[e.id].detalhes=!this.listaItensLayout[e.id].detalhes},async atualizar(){this.filtros.tab=this.tabSelecionada.valor;try{this.$q.loading.show();const e=this.paginacao.limite,t=this.paginacao.atual,o="descricao";let a="";"Ativos"===this.filtros.tab?a="Ativo":"Cancelados"===this.filtros.tab&&(a="Cancelado");let l=this.filtros.empresa.selecionada.value||"";this.filtros.idEmpresa=l;let i={};if(this.buscaCampo);else{let l=this.$utils.eliminarVazios(this.filtros);l.status=a,i=await this.filtrarCampos(l,e,t,o)}for(let e of i.data){let t=await $db.registro.leItens({idDocumento:e.id});e.documentoItens=t,e.totalContrato=t.map((function(e){return e.total})),this.listaItensLayout[e.id]={detalhes:!1,showPreviewDetail:!1,remover:!1}}this.documentos=(0,J.clonarV2)(i.data),this.paginacao.total=i.total,this.paginacao.maximo=i.totalPages}catch(e){this.$q.notifyError("Erro iniciar",e)}finally{this.$q.loading.hide()}},filtrarCampos:async(e,t,o,a)=>C.db.contrato.leRefatorado({filtros:e,limit:t,page:o,sort:a}),async gerarLoteNFSe(){await this.$q.dialog({title:"Gerar lote de NFS-e",message:"Deseja gerar as notas de serviço a partir dos contratos?",cancel:{label:"Não",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk((async()=>{await C.db.contrato.gerarNFSEapartirContrato(),$q.notifyPositive("Exportação das notas finalizada.")})).onCancel((()=>{})).onDismiss((()=>{}))}},created(){this.atualizar()},mounted(){this.$route.params.id&&this.$route.params.id.length&&this.abrirItem(this.$route.params.id)}};var _e=o(46924),qe=o(15031),Ie=o(81312),Ee=o(95277);const Be=(0,oe.Z)(be,[["render",function(e,t,o,C,f,x){const N=(0,a.resolveComponent)("q-icon"),v=(0,a.resolveComponent)("q-item-section"),w=(0,a.resolveComponent)("q-item"),g=(0,a.resolveComponent)("campo"),k=(0,a.resolveComponent)("q-checkbox"),y=(0,a.resolveComponent)("badge"),b=(0,a.resolveComponent)("q-item-label"),_=(0,a.resolveComponent)("q-tooltip"),q=(0,a.resolveComponent)("row"),I=(0,a.resolveComponent)("q-btn"),E=(0,a.resolveComponent)("q-list"),B=(0,a.resolveComponent)("q-menu"),D=(0,a.resolveComponent)("q-toggle"),S=(0,a.resolveComponent)("q-field"),T=(0,a.resolveComponent)("q-separator"),$=(0,a.resolveComponent)("lista"),L=(0,a.resolveComponent)("ContratoModal"),A=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)($,{buscaCampo:f.buscaCampo,"onUpdate:buscaCampo":t[4]||(t[4]=e=>f.buscaCampo=e),checkboxModel:f.checkboxModel,"onUpdate:checkboxModel":t[5]||(t[5]=e=>f.checkboxModel=e),filtros:f.filtros,opcoesGrupo:f.opcoesGrupo,opcoesMarca:f.opcoesMarca,opcoesSubGrupo:f.opcoesSubGrupo,opcoesTipo:f.opcoesTipo,paginacao:f.paginacao,tabSelecionada:f.tabSelecionada,tabs:f.tabs,icone:"gavel",showAdd:"false",titulo:"Contratos",onAbrirTodosPreview:x.abrirTodosPreview,onCriar_click:x.criarContrato,onFiltro_change:x.atualizar},{menuExtras:(0,a.withCtx)((()=>[(0,a.createVNode)(w,{clickable:"",onClick:t[0]||(t[0]=e=>x.gerarLoteNFSe())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{name:"mdi-file-replace",size:"sm"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Gerar notas de serviço")])),_:1})])),_:1})])),filtroCampos:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{modelValue:f.filtrosDrawer.descricaoAplicacao,"onUpdate:modelValue":t[1]||(t[1]=e=>f.filtrosDrawer.descricaoAplicacao=e),dense:"",rotulo:"Descrição/Aplicação"},null,8,["modelValue"]),(0,a.createVNode)(g,{modelValue:f.filtrosDrawer.codIdRef,"onUpdate:modelValue":t[2]||(t[2]=e=>f.filtrosDrawer.codIdRef=e),dense:"",rotulo:"Código/ID/Referência"},null,8,["modelValue"]),(0,a.createVNode)(g,{modelValue:f.filtrosDrawer.codigoBarras,"onUpdate:modelValue":t[3]||(t[3]=e=>f.filtrosDrawer.codigoBarras=e),dense:"",rotulo:"Cód. Barras"},null,8,["modelValue"])])),itemLista:(0,a.withCtx)((()=>[(0,a.createVNode)(E,{class:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(f.documentos,(t=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:t.id},[(0,a.createVNode)(w,{class:"items-center d-flex q-pa-xs",clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:"",center:"",class:"mw120 hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",l,[(0,a.createVNode)(k,{modelValue:f.listaItensLayout[t.id].remover,"onUpdate:modelValue":e=>f.listaItensLayout[t.id].remover=e},null,8,["modelValue","onUpdate:modelValue"]),"Cancelado"===t.status?((0,a.openBlock)(),(0,a.createBlock)(y,{key:0,class:"q-mr-sm hideonmobile",cor:"tertiary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)((t.codigoDocumento||0).toString().padStart(3,"0")),1)])),_:2},1024)):((0,a.openBlock)(),(0,a.createBlock)(y,{key:1,class:"q-mr-sm hideonmobile",cor:"positive",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)((t.codigoDocumento||0).toString().padStart(3,"0")),1)])),_:2},1024))])])),_:2},1024),(0,a.createVNode)(v,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,{class:"items-center q-col-gutter-x-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{modelValue:f.listaItensLayout[t.id].remover,"onUpdate:modelValue":e=>f.listaItensLayout[t.id].remover=e,class:"q-ma-none q-pa-none hideondesktop"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createElementVNode)("div",{class:"col",onClick:e=>x.abrirItem(t.id)},[t.descricaoContato?((0,a.openBlock)(),(0,a.createBlock)(b,{key:0,class:"text-tertiary text-weight-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.descricaoContato),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(q,{class:"hideondesktop items-center q-my-sm"},{default:(0,a.withCtx)((()=>[t.dataHoraEmissao?((0,a.openBlock)(),(0,a.createElementBlock)("div",r,[(0,a.createVNode)(q,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"text-tertiary",name:"today"}),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(t.dataHoraEmissao)),1)])),_:2},1024),(0,a.createVNode)(_,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Data Emissão")])),_:1})])),_:2},1024)])):(0,a.createCommentVNode)("",!0),t.dataHoraFinalizado?((0,a.openBlock)(),(0,a.createElementBlock)("div",n,[(0,a.createVNode)(q,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"text-tertiary",name:"today"}),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(t.dataHoraFinalizado)),1)])),_:2},1024),(0,a.createVNode)(_,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Data Finalização")])),_:1})])),_:2},1024)])):(0,a.createCommentVNode)("",!0)])),_:2},1024)],8,i)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(v,{class:"hideonmobile",onClick:e=>x.abrirItem(t.id)},{default:(0,a.withCtx)((()=>[t.dataHoraEmissao?((0,a.openBlock)(),(0,a.createBlock)(q,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"text-tertiary",name:"today"}),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(t.dataHoraEmissao)),1)])),_:2},1024),(0,a.createVNode)(_,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Data Emissão")])),_:1})])),_:2},1024)):(0,a.createCommentVNode)("",!0)])),_:2},1032,["onClick"]),(0,a.createVNode)(v,{class:"hideonmobile",onClick:e=>x.abrirItem(t.id)},{default:(0,a.withCtx)((()=>[t.dataHoraFinalizado?((0,a.openBlock)(),(0,a.createBlock)(q,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"text-tertiary",name:"today"}),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(t.dataHoraFinalizado)),1)])),_:2},1024),(0,a.createVNode)(_,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Data Finalização")])),_:1})])),_:2},1024)):(0,a.createCommentVNode)("",!0)])),_:2},1032,["onClick"]),(0,a.createVNode)(v,{onClick:e=>x.abrirItem(t.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{caption:"",class:"text-right text-tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(t.totalContrato,2))+" ",1),(0,a.createVNode)(_,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Valor do Contrato")])),_:1})])),_:2},1024)])),_:2},1032,["onClick"]),(0,a.createVNode)(v,{side:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",s,[(0,a.createVNode)(I,{icon:f.listaItensLayout[t.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down",class:"buttons",color:"tertiary",dense:"",flat:"",round:"",size:"md",onClick:e=>x.showDetails(t)},null,8,["icon","onClick"]),(0,a.createVNode)(I,{class:"buttons",color:"primary",dense:"",flat:"",icon:"edit",round:"",size:"md",onClick:e=>x.abrirItem(t.id)},null,8,["onClick"]),(0,a.createVNode)(I,{dense:"",flat:"",icon:"more_vert",round:"",size:"md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(E,{class:"q-py-none",link:"","no-border":"",separator:""},{default:(0,a.withCtx)((()=>["Excluidos"!==f.filtros.tab?((0,a.openBlock)(),(0,a.createBlock)(w,{key:0,onClick:o=>e.removerItem(t)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{name:"delete"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Remover")])),_:1})])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0),"Excluidos"===f.filtros.tab?((0,a.openBlock)(),(0,a.createBlock)(w,{key:1,onClick:o=>e.restaurarItem(t)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{name:"restore_from_trash"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Restaurar")])),_:1})])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(w,{onClick:o=>e.duplicarItem(t.id)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{name:"control_point_duplicate"})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Duplicar Produto/Serviço")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)),[[A]])])),_:2},1024)])),_:2},1024)])])),_:2},1024)])),_:2},1024),f.listaItensLayout[t.id].detalhes?((0,a.openBlock)(),(0,a.createBlock)(w,{key:0,class:"collumnOnMobile q-px-md q-py-xs",onClick:e=>x.abrirItem(t.id)},{default:(0,a.withCtx)((()=>[t.grupo?((0,a.openBlock)(),(0,a.createBlock)(v,{key:0,class:"row full-width"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.grupo),1)])),_:2},1024),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.subGrupo),1)])),_:2},1024)])),_:2},1024)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(v,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{class:"q-mr-sm",cor:"primary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.tipo),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[t.quantidadeDisponivel?((0,a.openBlock)(),(0,a.createBlock)(b,{key:0,stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Estoque "),(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(t.quantidadeDisponivel),1),(0,a.createVNode)(y,{class:"q-ml-sm",cor:"tertiary",escuro:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.unidade),1)])),_:2},1024)])),_:2},1024)):(0,a.createCommentVNode)("",!0)])),_:2},1024),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[f.listaItensLayout[t.id].fornecedor?((0,a.openBlock)(),(0,a.createBlock)(b,{key:0,stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"q-mr-xs",name:"business"}),(0,a.createTextVNode)(" Fornecedor: "),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(f.listaItensLayout[t.id].fornecedor,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.idContato},(0,a.toDisplayString)(e.contato.nome),1)))),128))])),_:2},1024)):(0,a.createCommentVNode)("",!0)])),_:2},1024),(0,a.createElementVNode)("div",c,[t.codigoBarras?((0,a.openBlock)(),(0,a.createBlock)(v,{key:0,stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{class:"q-mr-xs",name:"mdi-barcode"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(t.codigoBarras),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0),t.address?((0,a.openBlock)(),(0,a.createBlock)(v,{key:1,stamp:""},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("span",d,(0,a.toDisplayString)(t.address),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0)])])),_:2},1032,["onClick"])):(0,a.createCommentVNode)("",!0),f.listaItensLayout[t.id].detalhes?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:1,class:"row q-col-gutter-x-md q-pa-md pointer",onClick:e=>x.abrirItem(t.id)},[(0,a.createVNode)(S,{class:"col-2 col-lg-auto"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(D,{modelValue:f.listaItensLayout[t.id].utilizaComposicaoValorReposicaoInvertido,"onUpdate:modelValue":e=>f.listaItensLayout[t.id].utilizaComposicaoValorReposicaoInvertido=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),e.permissaoFicha?((0,a.openBlock)(),(0,a.createElementBlock)("div",u,[(0,a.createVNode)(g,(0,a.mergeProps)({modelValue:t.valorCustoReposicao,"onUpdate:modelValue":e=>t.valorCustoReposicao=e,ajuda:f.listaItensLayout[t.id].utilizaComposicaoValorReposicaoInvertido?"":"Total da composição",disable:!f.listaItensLayout[t.id].utilizaComposicaoValorReposicaoInvertido,readonly:!f.listaItensLayout[t.id].utilizaComposicaoValorReposicaoInvertido,class:"no-shadow full-width"},e.meta.valorCustoReposicao),null,16,["modelValue","onUpdate:modelValue","ajuda","disable","readonly"])])):(0,a.createCommentVNode)("",!0),e.permissaoFicha?((0,a.openBlock)(),(0,a.createElementBlock)("div",p,[(0,a.createVNode)(g,(0,a.mergeProps)({modelValue:f.listaItensLayout[t.id].percentualMarkup,"onUpdate:modelValue":e=>f.listaItensLayout[t.id].percentualMarkup=e,disable:f.listaItensLayout[t.id].utilizaMarkupInvertido,readonly:f.listaItensLayout[t.id].utilizaMarkupInvertido,class:"no-shadow full-width",decimals:"2",rotulo:"Lucro",tipo:"decimal"},e.meta.percentualMarkup),null,16,["modelValue","onUpdate:modelValue","disable","readonly"])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(S,{class:"col-2 col-lg-auto"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(D,{modelValue:f.listaItensLayout[t.id].utilizaMarkupInvertido,"onUpdate:modelValue":e=>f.listaItensLayout[t.id].utilizaMarkupInvertido=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),e.permissaoFicha?((0,a.openBlock)(),(0,a.createElementBlock)("div",h,[(0,a.createVNode)(g,(0,a.mergeProps)({modelValue:t.valorVenda,"onUpdate:modelValue":e=>t.valorVenda=e,disable:!f.listaItensLayout[t.id].utilizaMarkupInvertido,readonly:!f.listaItensLayout[t.id].utilizaMarkupInvertido,class:"no-shadow full-width"},e.meta.valorVenda),null,16,["modelValue","onUpdate:modelValue","disable","readonly"])])):(0,a.createCommentVNode)("",!0),e.permissaoFicha?((0,a.openBlock)(),(0,a.createElementBlock)("div",V,[(0,a.createVNode)(I,{class:"full-width no-shadow",color:"primary",label:"Salvar",size:"sm",onClick:o=>e.salvarItem(t)},null,8,["onClick"])])):(0,a.createCommentVNode)("",!0)],8,m)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(T)],64)))),128))])),_:1})])),_:1},8,["buscaCampo","checkboxModel","filtros","opcoesGrupo","opcoesMarca","opcoesSubGrupo","opcoesTipo","paginacao","tabSelecionada","tabs","onAbrirTodosPreview","onCriar_click","onFiltro_change"]),(0,a.createVNode)(L,{ref:"contratoModal",onAtualizar:x.atualizar},null,8,["onAtualizar"])])}],["__scopeId","data-v-c160c4e2"]]);ke()(be,"components",{QItem:he.Z,QItemSection:Ve.Z,QIcon:xe.Z,QList:pe.Z,QCheckbox:_e.Z,QItemLabel:Ce.Z,QTooltip:me.Z,QBtn:se.Z,QMenu:ue.Z,QField:qe.Z,QToggle:Ie.Z,QSeparator:Ne.Z,QDrawer:Ee.Z}),ke()(be,"directives",{ClosePopup:we.Z})}}]);