"use strict";(self.webpackChunkb15=self.webpackChunkb15||[]).push([[64],{82008:(e,t,a)=>{a.d(t,{Z:()=>ie});var o=a(34182);const d={class:"col-auto q-pl-none items-center"},r={class:"col"},i={class:"col-12"},l=(0,o.createTextVNode)(" Finalizado "),n=(0,o.createTextVNode)(" Emissão "),s=(0,o.createTextVNode)(" Vendedor(a) "),c=(0,o.createTextVNode)("Valor total"),u=(0,o.createTextVNode)("NFe de Saída/Venda"),m=(0,o.createTextVNode)("NFe de Entrada/Devolução"),v=(0,o.createTextVNode)("NFe de Remessa"),p=(0,o.createTextVNode)("Migrar para nova fatura"),h=(0,o.createTextVNode)("Histórico do Status"),V=(0,o.createTextVNode)("Resetar Envio"),f={class:"col-12 col-md-4"},x=(0,o.createTextVNode)(" OS "),C=(0,o.createTextVNode)("OS "),N={class:"col-12 col-md-4"},w={class:"q-px-sm"},g={class:"q-mt-sm"},k={style:{display:"block"}},y=(0,o.createElementVNode)("br",null,null,-1),_={class:"round-borders"},b={class:"col-12 col-md-4"},E={class:"q-px-sm"},D=(0,o.createTextVNode)(" Faturamento "),B={class:"q-mt-sm"},q={style:{display:"block"}},S={class:"q-px-sm text-right"},T={class:"q-mt-none text-right"},F=(0,o.createElementVNode)("small",{class:"q-mr-xs"},"Desconto",-1),I={class:"text-subtitle1"};var $=a(33337),A=(a(91330),a(72407)),O=a(40480),z=a(19306),Z=a(59649),H=a(77418),M=a(84645),P=a(88603);a(65278);const Q={alterados:0,arquivo:null,cor:"text-negative",corFinal:"",erro:"",erros:0,incluidos:0,listaErros:[],mensagem:"",mensagemFinal:"",modalResultado:!1},R={components:{Avatar:$.Z,Badge:A.Z,DocumentosFiscais:O.Z,VendaModal:Z.Z,ModalHistoricoStatus:z.Z},computed:{config:()=>H.db.configuracoes.valores,podeMigrarFatura(){return!["Aguardando Estoque","Aguardando Financeiro","Aguardando Aprovação","Aguardando Pagamento","Cancelado","Não Aprovado","Orçamento","Faturado"].includes(this.dados.venda.status)}},data:()=>({importar:$utils.clonarV2(Q),dbUsuario:H.db.usuario,dados:{venda:{}},contatos:{},faturasAbertas:[],detalhesVisivel:!1,visibilidade:{botao:{editar:!1,remover:!1}},modalDevolucaoGarantia:{visivel:!1,item:{},orcamento:{}},sistemaPai:"",configImpressaoOrcamento:[],configImpressaoEnvelope:[]}),emits:["executar"],methods:{irParaAtendimentoFatura(e){this.$router.push({name:"AtendimentoFatura",params:{id:e}})},async migrarFatura(e){try{await this.$q.dialog({message:"Esta ação irá migrar esta venda para outra fatura.",noRefocus:!0,preventClose:!0,title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-primary",textColor:"white",flat:!0}})}catch(e){return}e||(e=H.db.fatura.criar(this.dados.venda),await H.db.fatura.grava({fatura:e})),e.id?(await H.db.venda.grava({venda:{id:this.dados.venda.id,idFatura:e.id},vendaOriginal:this.dados.venda}),localStorage.setItem("idFatura",e.id),this.dados.venda.idContato&&(this.$emit("executar","atualizar"),this.irParaAtendimentoFatura(this.dados.venda.idContato))):this.$q.notify("Não foi possível realizar a operação")},alternarDetalhes(){this.detalhesVisivel=!this.detalhesVisivel},async atualizar(){const e=await H.db.venda.leCompleto(this.id);if(e.venda.rotaJson&&e.venda.rotaJson.length>3&&(e.rotaJson=JSON.parse(e.venda.rotaJson)),this.fatura&&(e.fatura=this.fatura),e.carrinho.sort(((e,t)=>new Date(e.dataHoraEmissao)<new Date(t.dataHoraEmissao)?-1:1)),e.oss.sort(((e,t)=>new Date(e.documento.dataHoraEmissao)<new Date(t.documento.dataHoraEmissao)?-1:1)),e.customs.sort(((e,t)=>new Date(e.documento.dataHoraEmissao)<new Date(t.documento.dataHoraEmissao)?-1:1)),(e.venda||{}).idContato&&(e.venda||{}).idEmpresa){let t=[];t=await H.db.fatura.obterAbertas(e.venda.idContato,e.venda.idEmpresa),this.faturasAbertas=t.sort(((e,t)=>!e.numero||e.numero<t.numero?-1:1))}const t={};if(e.venda.idContato){const a=e.venda.idContato;t[a]||(t[a]=await H.db.contato.le({id:a}))}if(e.venda.idContatoVendedor){const a=e.venda.idContatoVendedor;t[a]||(t[a]=await H.db.contato.le({id:a}))}this.configuraImpressaoEnvelope(e.venda.idEmpresa),this.configuraImpressaoOrcamento(e.venda.idEmpresa),this.contatos=t,this.dados=e,await this.$nextTick(),e.venda.id===localStorage.getItem("idVenda")&&(this.$refs.vendaModal.mostrar({id:e.venda.id}),localStorage.removeItem("idVenda"))},async configuraImpressaoEnvelope(e){const t=await H.db.configuracoes.porNome("impressao.envelope",e);this.configImpressaoEnvelope=[...t.length?t.map((e=>({texto:"Imprimir Envelope",...e}))):[{valor:"envelope",texto:"Imprimir Envelope"},{valor:"envelopeMini",texto:"Imprimir Envelope Mini"}]]},async configuraImpressaoOrcamento(e){const t=await H.db.configuracoes.porNome("impressao.venda",e);this.configImpressaoOrcamento=[...t.length?t.map((e=>({texto:"Imprimir Orçamento",...e}))):[{valor:"invoice",texto:"Orçamento/Venda (Invoice)"},"optisoul"===this.sistemaPai?{valor:"orcamento",texto:"Orçamento (Antigo)"}:{}]]},copiarUid(){const e=this.$refs.uid;e.type="text";try{e.select(),document.execCommand("copy"),this.$q.notify({message:"UID copiado para a área de transferência.",type:"info"})}catch(e){this.$q.notify("Erro ao copiar.")}e.type="hidden",window.getSelection().removeAllRanges()},descricaoEnvelope(e){let t="";for(const a of this.dados.itensEnvelopes)a.idDocumentoAdicional===e&&a.descricaoItem.trim()&&(t+=a.descricaoItem.trim()+" | ");return t.slice(0,-3)},async devolucaoGarantia(e){let t=await H.db.documento.le({idContato:H.db.contato.selecionado.id,tipo:"Venda",status:"Orçamento"});t=(0,P.orderBy)(t,"dataHoraEmissao","desc"),t.length?this.modalDevolucaoGarantia={visivel:!0,item:e,orcamento:t[0]}:this.$q.notify({message:"Crie um orçamento para inclusão de devolução/garantia.",type:"info"})},editar(){this.$refs.vendaModal.mostrar({id:this.dados.venda.id})},executar(e){switch(e){case"atualizar":this.atualizar();break;case"cancelar":case"finalizar":case"reprovar":this.$emit("executar","atualizar");break;case"retornarOrcamento":this.$emit("executar",e)}},async finalizaDevolucaoGarantia(e,t,a){const o=(0,M.clonar)(e);"devolucao"===t&&(o.operacao="Devolução de Venda"),"garantia"===t&&(o.operacao="Garantia de Venda",o.motivo=a),o.idDocumentoItemVenda=o.id,o.idDocumentoVenda=o.idDocumento,o.id=(0,M.uuid)(),o.idDocumento=this.modalDevolucaoGarantia.orcamento.id,o.status="Orçamento",o.operacaoFator=1,o.codigoCfop=20,o.idCfop=(await H.db.cfop.le({codigoCfop:20}))[0].id,o.dataHoraEmissao=(0,M.dataAtual)(),o.dataHoraFinalizado="",o.subTotal=-1*o.subTotal,o.total=-1*o.total,o.valorItem=-1*o.valorItem,o.descontoSubTotal=0,delete o.codigoCfop,delete o.codigoDocumento,delete o.codigoDocumentoItem,delete o.codigoItem,delete o.codigoPlanoContaDestino,delete o.codigoPlanoContaEstoque,await H.db.documentoItem.grava({atual:o}),this.$q.notify({message:"Item adicionado ao orçamento.",type:"positive"}),localStorage.setItem("idVenda",this.modalDevolucaoGarantia.orcamento.id),this.$emit("executar","atualizar")},async remover(){this.$q.dialog({message:"Esta ação irá remover esta venda da fatura",title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{let e=(0,M.clonar)(this.dados.venda);this.dados.venda.idFatura="",await H.db.venda.grava({venda:this.dados.venda,vendaOriginal:e}),this.$emit("executar","remover")}))}},props:{id:{required:!0,type:String},sendRouteEasy:{required:!1,type:Function},sendRouteEasyAll:{required:!1,type:Function},fatura:{required:!1,type:Object},resetarEnvio:{required:!1,type:Function}},watch:{async dados(e){this.visibilidade.botao.editar=!1,this.visibilidade.botao.remover=!1,(await $db.contato.ler({filtros:{ativo:!0,empresas:!0}})).data.find((t=>t.id===e.venda.idEmpresa))&&(e.venda.idFatura&&this.faturasAbertas.find((t=>t.id===e.venda.idFatura))&&(this.visibilidade.botao.remover=await $db.permissao.objeto("Diretiva_Vendas_RemoverVendaFatura")),e.venda.idFatura&&this.faturasAbertas.find((t=>t.id===e.venda.idFatura))&&(this.visibilidade.botao.remover=!0),["Cancelado","Não Aprovado"].includes(e.venda.status)||e.venda.idFatura||(this.visibilidade.botao.editar=!0))}},mounted(){this.sistemaPai=(0,M.sistemaPai)(),this.atualizar()}};var L=a(74260),G=a(77953),J=a(60880),U=a(31106),W=a(76106),j=a(4957),K=a(37617),X=a(54707),Y=a(25901),ee=a(68900),te=a(48761),ae=a(83831),oe=a(98586),de=a(7518),re=a.n(de);const ie=(0,L.Z)(R,[["render",function(e,t,a,$,A,O){const z=(0,o.resolveComponent)("badge"),Z=(0,o.resolveComponent)("q-item-section"),H=(0,o.resolveComponent)("avatar"),M=(0,o.resolveComponent)("q-item-label"),P=(0,o.resolveComponent)("q-badge"),Q=(0,o.resolveComponent)("row"),R=(0,o.resolveComponent)("q-tooltip"),L=(0,o.resolveComponent)("q-btn"),G=(0,o.resolveComponent)("q-icon"),J=(0,o.resolveComponent)("q-item"),U=(0,o.resolveComponent)("q-list"),W=(0,o.resolveComponent)("q-menu"),j=(0,o.resolveComponent)("q-toolbar-title"),K=(0,o.resolveComponent)("documentos-fiscais"),X=(0,o.resolveComponent)("q-separator"),Y=(0,o.resolveComponent)("VendaModal"),ee=(0,o.resolveComponent)("modal-historico-status"),te=(0,o.resolveDirective)("close-popup");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[A.dados.venda.id?((0,o.openBlock)(),(0,o.createBlock)(J,{key:0,id:"VendaCard","manual-focus":"",clickable:"",class:"items-center d-flex q-pa-xs"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(Z,{avatar:"",center:"",class:"mw100",onClick:O.editar},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(z,{class:"q-mr-sm",escuro:"",cor:"positive",onClick:O.copiarUid},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)(" #"+(0,o.toDisplayString)(parseInt(A.dados.venda.numero)||(A.dados.venda.id||"").slice(-6))+" ",1),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"hidden","onUpdate:modelValue":t[0]||(t[0]=e=>A.dados.venda.id=e),ref:"uid"},null,512),[[o.vModelText,A.dados.venda.id]])])),_:1},8,["onClick"])])),_:1},8,["onClick"]),(0,o.createVNode)(Z,{onClick:O.editar},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(Q,{class:"items-center"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",d,[(0,o.createVNode)(H,{imagem:(A.contatos[A.dados.venda.idContato]||{}).imagem,rotulo:A.dados.venda.descricaoContato,tamanho:"40",style:{float:"left"}},null,8,["imagem","rotulo"])]),(0,o.createElementVNode)("div",r,[(0,o.createVNode)(M,{class:"text-tertiary text-weight-bold"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(A.dados.venda.descricaoContato),1)])),_:1}),(0,o.createVNode)(Q,{class:"hideondesktop items-center q-my-sm"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(P,{color:"tertiary"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(A.dados.venda.status),1)])),_:1})])])),_:1})])])),_:1})])),_:1},8,["onClick"]),(0,o.createVNode)(Z,{onClick:O.editar,class:"hideonmobile"},{default:(0,o.withCtx)((()=>[A.dados.venda.dataHoraFinalizado?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createTextVNode)((0,o.toDisplayString)(e.$filters.data(A.dados.venda.dataHoraFinalizado))+" ",1),(0,o.createVNode)(R,null,{default:(0,o.withCtx)((()=>[l])),_:1})],64)):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createTextVNode)((0,o.toDisplayString)(e.$filters.data(A.dados.venda.dataHoraEmissao))+" ",1),(0,o.createVNode)(R,null,{default:(0,o.withCtx)((()=>[n])),_:1})],64))])),_:1},8,["onClick"]),(0,o.createVNode)(Z,{onClick:O.editar,class:"hideonmobile"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)((A.contatos[A.dados.venda.idContatoVendedor]||{}).apelido)+" ",1),(0,o.createVNode)(R,null,{default:(0,o.withCtx)((()=>[s])),_:1})])),_:1},8,["onClick"]),(0,o.createVNode)(Z,{avatar:"",class:"mw240 hideonmobile"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(P,{color:"tertiary"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(A.dados.venda.status),1)])),_:1}),A.dados.venda.rotaStatus?((0,o.openBlock)(),(0,o.createBlock)(P,{key:0,color:"secondary",style:{"margin-top":"5px"}},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(A.dados.venda.rotaStatus),1)])),_:1})):(0,o.createCommentVNode)("",!0)])),_:1}),(0,o.createVNode)(Z,{onClick:O.editar},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(M,{caption:"",class:"text-right text-tertiary text-weight-bold"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$filters.numero(A.dados.venda.totalDocumento,2))+" ",1),(0,o.createVNode)(R,null,{default:(0,o.withCtx)((()=>[c])),_:1})])),_:1})])),_:1},8,["onClick"]),(0,o.createVNode)(Z,{side:"",top:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(Q,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(L,{rounded:"",dense:"",flat:"",icon:A.detalhesVisivel?"keyboard_arrow_up":"keyboard_arrow_down",size:"md",unelevated:"",class:"hideonmobile q-mx-xs",color:"tertiary",style:{float:"right"},onClick:O.alternarDetalhes},null,8,["icon","onClick"]),A.visibilidade.botao.remover?((0,o.openBlock)(),(0,o.createBlock)(L,{key:0,rounded:"",dense:"",flat:"",icon:"clear",color:"tertiary",unelevated:"",class:"hideonmobile q-mx-xs",size:"md",onClick:O.remover,style:{float:"right"}},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(R,{anchor:"top left",self:"bottom start"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)(" Remover da fatura #"+(0,o.toDisplayString)(parseInt(A.dados.venda.numero)||(A.dados.venda.id||"").slice(-6)),1)])),_:1})])),_:1},8,["onClick"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(L,{rounded:"",dense:"",flat:"",icon:"edit",color:"primary",unelevated:"",class:"hideonmobile q-mx-xs",size:"md",onClick:O.editar,style:{float:"right"}},null,8,["onClick"]),(0,o.createVNode)(L,{rounded:"",dense:"",flat:"",icon:"print",color:"primary",unelevated:"",class:"hideonmobile q-mx-xs",size:"md",style:{float:"right"}},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(W,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(U,{link:"",separator:""},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(A.configImpressaoOrcamento.filter((e=>e.valor)),(t=>((0,o.openBlock)(),(0,o.createBlock)(J,{clickable:"",key:t.valor,onClick:a=>e.$imprimir(t.valor,{id:(A.dados.venda||{}).id||"0",Oculto:"0"})},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(Z,{avatar:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(G,{name:"print"})])),_:1}),(0,o.createVNode)(Z,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(M,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(t.texto),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),"optisoul"===A.sistemaPai?((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,{key:0},(0,o.renderList)(A.configImpressaoEnvelope,(t=>((0,o.openBlock)(),(0,o.createBlock)(J,{clickable:"",key:t.valor,onClick:a=>e.$imprimir(t.valor,(A.dados.venda||{}).id||"0")},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(Z,{avatar:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(G,{name:"print"})])),_:1}),(0,o.createVNode)(Z,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(M,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(t.texto),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)):(0,o.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1}),(0,o.createVNode)(L,{rounded:"",dense:"",flat:"",icon:"more_vert",color:"tertiary",unelevated:"",class:"q-mx-xs",size:"md",style:{float:"right"}},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(W,null,{default:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createVNode)(U,{link:"",separator:""},{default:(0,o.withCtx)((()=>[e.$utils.mapearStatus(A.dados.venda).permiteNota?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.withDirectives)((0,o.createVNode)(J,{clickable:"",onClick:t[1]||(t[1]=t=>e.emitirNFeV2({idVenda:A.dados.venda.id},1,"Venda"))},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(Z,{avatar:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(G,{name:"account_balance"})])),_:1}),(0,o.createVNode)(Z,null,{default:(0,o.withCtx)((()=>[u])),_:1})])),_:1},512),[[te]]),(0,o.withDirectives)((0,o.createVNode)(J,{clickable:"",onClick:t[2]||(t[2]=t=>e.emitirNFeV2({idVenda:A.dados.venda.id},0,"Devolução"))},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(Z,{avatar:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(G,{name:"account_balance"})])),_:1}),(0,o.createVNode)(Z,null,{default:(0,o.withCtx)((()=>[m])),_:1})])),_:1},512),[[te]]),(0,o.withDirectives)((0,o.createVNode)(J,{clickable:"",onClick:t[3]||(t[3]=t=>e.emitirNFeV2({idVenda:A.dados.venda.id},1,"Remessa"))},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(Z,{avatar:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(G,{name:"account_balance"})])),_:1}),(0,o.createVNode)(Z,null,{default:(0,o.withCtx)((()=>[v])),_:1})])),_:1},512),[[te]])],64)):(0,o.createCommentVNode)("",!0),O.podeMigrarFatura?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(A.faturasAbertas.filter((e=>e.id!==A.dados.venda.idFatura)),(e=>(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)(J,{key:e.id,onClick:t=>O.migrarFatura(e)},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(Z,{avatar:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(G,{name:"mdi-folder-move"})])),_:1}),(0,o.createVNode)(Z,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)("Migrar para fatura #"+(e.numero||e.id.slice(-6))),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[te]]))),128)),(0,o.withDirectives)((0,o.createVNode)(J,{onClick:t[4]||(t[4]=e=>O.migrarFatura())},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(Z,{avatar:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(G,{name:"mdi-folder-move"})])),_:1}),(0,o.createVNode)(Z,null,{default:(0,o.withCtx)((()=>[p])),_:1})])),_:1},512),[[te]])],64)):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(J,{clickable:"",onClick:t[5]||(t[5]=t=>e.$refs.modalHistoricoStatus.mostrar({idDocumento:A.dados.venda.id}))},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(Z,{avatar:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(G,{name:"history"})])),_:1}),(0,o.createVNode)(Z,null,{default:(0,o.withCtx)((()=>[h])),_:1})])),_:1}),a.resetarEnvio&&A.dados.venda.rotaJson&&A.dados.venda.rotaJson.length>0?((0,o.openBlock)(),(0,o.createBlock)(J,{key:2,clickable:"",onClick:t[6]||(t[6]=e=>a.resetarEnvio(A.dados.venda))},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(Z,{avatar:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(G,{name:"restart_alt"})])),_:1}),(0,o.createVNode)(Z,null,{default:(0,o.withCtx)((()=>[V])),_:1})])),_:1})):(0,o.createCommentVNode)("",!0)])),_:1},512),[[te]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):(0,o.createCommentVNode)("",!0),A.detalhesVisivel?((0,o.openBlock)(),(0,o.createBlock)(Q,{key:1,class:"q-col-gutter-md q-pt-md"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",f,[A.detalhesVisivel?((0,o.openBlock)(),(0,o.createBlock)(U,{key:0},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(A.dados.carrinho,(t=>((0,o.openBlock)(),(0,o.createBlock)(J,{class:"fullWidth",key:t.id},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(Z,{avatar:"",class:"w120"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(M,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(t.quantidade)+"x",1)])),_:2},1024)])),_:2},1024),(0,o.createVNode)(Z,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(M,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(t.descricaoItem),1)])),_:2},1024)])),_:2},1024),(0,o.createVNode)(Z,{side:"",top:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(M,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$filters.numero(t.total,2)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(A.dados.customs,(t=>((0,o.openBlock)(),(0,o.createBlock)(J,{class:"fullWidth",key:t.documento.id},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(Z,{avatar:"",class:"w120"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(M,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(t.documento.numero)+"x ",1)])),_:2},1024)])),_:2},1024),(0,o.createVNode)(Z,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(M,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(t.documento.descricao),1)])),_:2},1024)])),_:2},1024),(0,o.createVNode)(Z,{side:"",top:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(M,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$filters.numero(t.documento.totalDocumento,2)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(A.dados.oss,(t=>((0,o.openBlock)(),(0,o.createBlock)(J,{class:"fullWidth",key:t.documento.id},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(Z,{avatar:"",class:"w120"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(M,null,{default:(0,o.withCtx)((()=>["Orçamento"!==t.documento.status?((0,o.openBlock)(),(0,o.createBlock)(z,{key:0,class:"q-mx-sm",escuro:"",cor:"grey-5",denso:"",round:""},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(t.documento.status)+" ",1),(0,o.createVNode)(R,null,{default:(0,o.withCtx)((()=>[x])),_:1})])),_:2},1024)):((0,o.openBlock)(),(0,o.createBlock)(z,{key:1},{default:(0,o.withCtx)((()=>[C])),_:1}))])),_:2},1024)])),_:2},1024),(0,o.createVNode)(Z,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(M,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(t.documento.descricao),1)])),_:2},1024)])),_:2},1024),(0,o.createVNode)(Z,{right:"",top:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(M,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$filters.numero(t.documento.totalDocumento,2)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(A.dados.envelopes,(t=>((0,o.openBlock)(),(0,o.createBlock)(J,{class:"fullWidth",key:t.id},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(Z,{avatar:"",class:"w120"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(z,{class:"q-mx-sm",escuro:"",cor:"grey-5",denso:"",round:""},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)(" #"+(0,o.toDisplayString)(parseInt(t.numero)||(t.id||"").slice(-6))+" ",1),(0,o.createVNode)(R,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(t.tipo)+" - "+(0,o.toDisplayString)(t.descricaoContato),1)])),_:2},1024)])),_:2},1024),"Orçamento"!==t.status?((0,o.openBlock)(),(0,o.createBlock)(z,{key:0,class:"q-mx-sm",escuro:"",cor:"grey-5",denso:"",round:""},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(t.status),1)])),_:2},1024)):(0,o.createCommentVNode)("",!0)])),_:2},1024),(0,o.createVNode)(Z,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(M,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(O.descricaoEnvelope(t.id)),1)])),_:2},1024)])),_:2},1024),(0,o.createVNode)(Z,{right:"",top:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(M,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$filters.numero(t.totalDocumento,2)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",N,[(0,o.createElementVNode)("div",w,[(0,o.createVNode)(j,{class:"q-mx-none q-mt-sm q-px-none"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(G,{name:"business"}),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(A.dados.venda.descricaoEmpresa),1)])),_:1}),(0,o.createElementVNode)("p",g,[(0,o.createElementVNode)("small",k,[(0,o.createTextVNode)((0,o.toDisplayString)(A.dados.venda.observacao)+" ",1),y,(0,o.createTextVNode)(" "+(0,o.toDisplayString)(A.dados.venda.observacaoInterna),1)])]),(0,o.createElementVNode)("div",_,[(0,o.createVNode)(K,{idVenda:A.dados.venda.id},null,8,["idVenda"])])])]),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",E,[(0,o.createVNode)(j,{class:"q-mx-none q-mt-sm q-px-none"},{default:(0,o.withCtx)((()=>[D])),_:1}),(0,o.createElementVNode)("p",B,[(0,o.createElementVNode)("small",q,(0,o.toDisplayString)(A.dados.venda.observacaoFaturamento),1)])]),(0,o.createElementVNode)("div",S,[(0,o.createElementVNode)("dl",T,[(0,o.createElementVNode)("dd",null,[F,(0,o.createElementVNode)("span",I,[(0,o.createElementVNode)("strong",null,(0,o.toDisplayString)(e.$filters.numero(A.dados.venda.totalDesconto,2)),1)])])])])])])),_:1})):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(X),(0,o.createVNode)(Y,{ref:"vendaModal",onExecutar:O.executar},null,8,["onExecutar"]),(0,o.createVNode)(ee,{ref:"modalHistoricoStatus"},null,512)])}]]);re()(R,"components",{QItem:G.Z,QItemSection:J.Z,QItemLabel:U.Z,QBadge:W.Z,QTooltip:j.Z,QBtn:K.Z,QMenu:X.Z,QList:Y.Z,QIcon:ee.Z,QToolbarTitle:te.Z,QSeparator:ae.Z}),re()(R,"directives",{ClosePopup:oe.Z})}}]);