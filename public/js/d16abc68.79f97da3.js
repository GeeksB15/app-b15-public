(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["d16abc68"],{"68db":function(o,i,a){"use strict";var e=function(){var o=this,i=o.$createElement,a=o._self._c||i;return a("q-modal",{attrs:{value:o.value},on:{input:o.eventoInput}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"arrow_back",round:""}}),a("q-toolbar-title",[o._v(o._s(o.titulo))])],1),a("form",{on:{submit:function(i){return i.preventDefault(),o.criarContato(i)}}},[a("div",{staticClass:"layout-padding"},[a("div",{staticClass:"row gutter-x-sm"},[a("campo",{staticClass:"col-12",attrs:{erro:o.$v.campos.nome.$error,"erro-rotulo":"O nome é obrigatório.",maxlength:"50",rotulo:"Nome do contato"},on:{blur:o.$v.campos.nome.$touch},model:{value:o.campos.nome,callback:function(i){o.$set(o.campos,"nome","string"===typeof i?i.trim():i)},expression:"campos.nome"}}),o.cpfCnpj?a("q-field",{staticClass:"col-12 col-sm-6",attrs:{error:o.$v.campos.numeroDocumentoNacional.$error,"error-label":o.campos.numeroDocumentoNacionalErro}},[a("q-input",{directives:[{name:"mask",rawName:"v-mask",value:["###.###.###-##","##.###.###/####-##"],expression:"['###.###.###-##', '##.###.###/####-##']"}],attrs:{"float-label":"CPF/CNPJ"},on:{blur:o.$v.campos.numeroDocumentoNacional.$touch},model:{value:o.campos.numeroDocumentoNacional,callback:function(i){o.$set(o.campos,"numeroDocumentoNacional",i)},expression:"campos.numeroDocumentoNacional"}})],1):o._e(),o.numeroDocumentoMunicipal?a("campo",{staticClass:"col-12 col-sm-6",attrs:{rotulo:o.numeroDocumentoMunicipal},model:{value:o.campos.numeroDocumentoMunicipal,callback:function(i){o.$set(o.campos,"numeroDocumentoMunicipal",i)},expression:"campos.numeroDocumentoMunicipal"}}):o._e(),o.dataNascimento?a("campo",{staticClass:"col-12 col-sm-6",attrs:{after:[{icon:"delete",handler:function(){o.campos.dataAbertura=""}}],format:"DD/MM/YYYY",rotulo:"Data de nascimento",max:Date.now(),tipo:"data"},model:{value:o.campos.dataAbertura,callback:function(i){o.$set(o.campos,"dataAbertura",i)},expression:"campos.dataAbertura"}}):o._e(),o.observacao?a("campo",{staticClass:"col-12",attrs:{maxlength:"50",rotulo:"Observacao"},model:{value:o.observacaoFilho,callback:function(i){o.observacaoFilho="string"===typeof i?i.trim():i},expression:"observacaoFilho"}}):o._e()],1)]),a("q-toolbar",{attrs:{slot:"footer",color:"light"},slot:"footer"},[a("q-toolbar-title",[a("div",{staticClass:"row justify-end"},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(i){o.eventoInput(!1)}}}),a("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])],1)],1)],1)],1)},t=[];e._withStripped=!0;a("96cf");var r=a("c973"),c=a.n(r),s=a("88db"),p=a("b5ae"),n=a("ed08"),d=a("8149"),l={components:{Campo:s["a"]},data:function(){return{campos:{nome:""},observacaoFilho:""}},methods:{criarContato:function(){var o=c()(regeneratorRuntime.mark(function o(){var i;return regeneratorRuntime.wrap(function(o){while(1)switch(o.prev=o.next){case 0:return n["gconsole"].log("ContatoCriar","criarContato"),o.next=3,Object(n["verificarSeCamposSaoValidos"])(this.$v.campos,this);case 3:if(o.sent){o.next=5;break}return o.abrupt("return",this.$q.notify("Há erros de validação no formulário."));case 5:return o.prev=5,this.$q.loading.show(),o.next=9,d["a"].contato.criarContatoBasico(this.campos);case 9:i=o.sent,i.observacaoFilho=this.observacaoFilho,this.eventoInput(!1),this.$q.notifyPositive(this.msgSucesso),this.$emit("pronto",i),o.next=19;break;case 16:o.prev=16,o.t0=o["catch"](5),this.$q.notifyError(this.msgErro,o.t0);case 19:return o.prev=19,this.$q.loading.hide(),o.finish(19);case 22:case"end":return o.stop()}},o,this,[[5,16,19,22]])}));return function(){return o.apply(this,arguments)}}(),eventoInput:function(o){this.$emit("input",o)}},props:{value:{required:!0,type:Boolean},cpfCnpj:{default:!1,type:Boolean},dataNascimento:{default:!1,type:Boolean},msgErro:{default:"Ocorreu um erro ao salvar.",type:String},msgSucesso:{default:"Contato criado com sucesso.",type:String},numeroDocumentoMunicipal:{type:String},observacao:{default:!1,type:Boolean},titulo:{default:"Criar contato",type:String}},validations:{campos:{nome:{minLength:Object(p["minLength"])(2),required:p["required"]},numeroDocumentoNacional:{cnpjOuCpfUnico:function(){var o=c()(regeneratorRuntime.mark(function o(i,a){var e,t,r,c;return regeneratorRuntime.wrap(function(o){while(1)switch(o.prev=o.next){case 0:return e=(a||{}).id||"",o.next=3,Object(n["validarDocumentoNacionalUnico"])(i,e);case 3:return t=o.sent,r=t.valido,c=t.mensagem,a.numeroDocumentoNacionalErro=c,o.abrupt("return",r);case 8:case"end":return o.stop()}},o)}));return function(i,a){return o.apply(this,arguments)}}()}}},watch:{value:function(o){o&&(this.campos={nome:""},this.observacaoFilho="",this.$v.campos.$reset())}}},m=l,u=a("2877"),h=Object(u["a"])(m,e,t,!1,null,null,null);h.options.__file="ContatoCriar.vue";i["a"]=h.exports},e38f1:function(o,i,a){"use strict";var e=function(){var o=this,i=o.$createElement,a=o._self._c||i;return a("q-modal",{attrs:{value:o.value,maximized:""},on:{input:o.eventoInput}},[a("q-modal-layout",{staticStyle:{background:"#eee","min-height":"100vh"}},[a("form",{on:{submit:function(i){return i.preventDefault(),o.salvarReceita(i)}}},[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"},on:{click:o.voltar}}),a("q-toolbar-title",[o._v("Receita")]),a("q-btn",{staticClass:"no-shadow",attrs:{color:"white","text-color":"primary",label:"Salvar",type:"submit"}})],1),a("div",{staticClass:"layout-padding q-mt-xl row justify-center"},[a("div",{staticStyle:{width:"1280px","max-width":"90vw"}},[a("q-card",{staticClass:"q-pb-md q-mb-md bg-white no-shadow "},[a("q-list",{staticStyle:{width:"100%",padding:"0"},attrs:{"no-border":""}},[a("q-item",{staticStyle:{padding:"0"}},[a("q-item-main",[a("q-list",{attrs:{"no-border":""}},[a("q-item",{staticStyle:{"padding-bottom":"0"}},[a("q-item-main",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"items-baseline col-12 col-lg-3"},[a("div",{staticClass:"row"},[a("q-btn",{attrs:{color:"faded",size:"lg",icon:"person_add",dense:"",flat:"",round:""},on:{click:o.abrirModalDependente}},[a("q-tooltip",[o._v("Incluir paciente")])],1),a("q-field",{staticClass:"col"},[a("q-select",{attrs:{"float-label":"Paciente",options:o.pacientes,filter:""},on:{input:o.alterarPaciente},model:{value:o.campos.paciente.id,callback:function(i){o.$set(o.campos.paciente,"id",i)},expression:"campos.paciente.id"}})],1)],1)]),a("div",{staticClass:"items-baseline col-12 col-lg-3"},[a("div",{staticClass:"row"},[a("q-btn",{attrs:{color:"faded",size:"lg",icon:"person_add",dense:"",flat:"",round:""},on:{click:o.abrirModalMedico}},[a("q-tooltip",[o._v("Incluir médico")])],1),a("q-field",{staticClass:"col"},[a("q-search",{attrs:{"float-label":"Médico","no-icon":""},model:{value:o.campos.medico.nome,callback:function(i){o.$set(o.campos.medico,"nome",i)},expression:"campos.medico.nome"}},[a("q-autocomplete",{attrs:{"min-characters":2,"max-results":10,"value-field":function(o){return""+o.label}},on:{search:o.buscarMedicos,selected:o.medicoSelecionado}})],1)],1)],1)]),a("div",{staticClass:"items-baseline col-12 col-lg-3"},[a("campo",{attrs:{maxlength:"10",rotulo:"Data",tipo:"data"},on:{input:function(i){o.atualizarValidade()}},model:{value:o.campos.data,callback:function(i){o.$set(o.campos,"data",i)},expression:"campos.data"}})],1),a("div",{staticClass:"items-baseline col-12 col-lg-3"},[a("campo",{attrs:{maxlength:"10",rotulo:"Validade",tipo:"data"},model:{value:o.campos.validade,callback:function(i){o.$set(o.campos,"validade",i)},expression:"campos.validade"}})],1)])],1)],1)],1)],1),a("q-item",{staticStyle:{padding:"0"}},[a("q-item-main",{staticClass:"row gutter-x-sm q-mx-md"},[a("campo",{staticClass:"col-12",attrs:{maxlength:"60",rotulo:"Observações",tipo:"texto"},model:{value:o.campos.observacoes,callback:function(i){o.$set(o.campos,"observacoes",i)},expression:"campos.observacoes"}})],1)],1)],1)],1),a("q-card",{staticClass:"q-pb-md q-mb-md bg-white no-shadow "},[a("div",{staticClass:"row gutter-x-sm"},[a("q-tabs",{staticStyle:{width:"100%"},attrs:{color:"grey-3","text-color":"primary"},model:{value:o.abaSelecionada,callback:function(i){o.abaSelecionada=i},expression:"abaSelecionada"}},[a("q-tab",{attrs:{slot:"title",label:"Dioptria",name:"dioptria"},slot:"title"}),a("q-tab",{attrs:{slot:"title",label:"Prisma",name:"prisma"},slot:"title"}),a("q-tab-pane",{staticClass:"bg-white",attrs:{name:"dioptria"}},[a("q-list",{staticStyle:{padding:"0"},attrs:{"no-border":""}},[a("q-item",{staticStyle:{padding:"0"}},[a("q-item-main",{staticClass:"row"},[o.confirmaHabilitaPerto?o._e():a("q-list",{staticClass:"col-12 col-lg-6",attrs:{"no-border":""}},[a("q-item",{staticStyle:{padding:"0"}},[a("q-item-side",[a("q-item-tile")],1),a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12"},[a("label",{staticStyle:{"font-size":"1.15rem"}},[o._v("Longe")])])])])],1),a("q-item",{staticStyle:{padding:"0"}},[a("q-item-side",[a("q-item-tile")],1),a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col"},[a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[o._v("Esférico")])]),a("div",{staticClass:"col"},[a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[o._v("Cilindrico")])]),a("div",{staticClass:"col"},[a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[o._v("Eixo")])]),a("div",{staticClass:"col"},[a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[o._v("DNP")])])])])],1),a("q-item",{staticStyle:{padding:"0"}},[a("q-item-side",[a("q-item-tile",[o._v("OD")])],1),a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-3 "},[a("campo",{attrs:{min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},on:{input:o.calcularAE},model:{value:o.campos.prescricao.dioptria.od.longe.esferico,callback:function(i){o.$set(o.campos.prescricao.dioptria.od.longe,"esferico",i)},expression:"campos.prescricao.dioptria.od.longe.esferico"}})],1),a("div",{staticClass:"col-3 "},[a("campo",{attrs:{aviso:o.campos.prescricao.dioptria.od.longe.cilindrico<-8||o.campos.prescricao.dioptria.od.longe.cilindrico>0,avisoRotulo:"Cilindrico está fora do comum '0 a -8'.",min:"-10",max:"10",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},model:{value:o.campos.prescricao.dioptria.od.longe.cilindrico,callback:function(i){o.$set(o.campos.prescricao.dioptria.od.longe,"cilindrico",i)},expression:"campos.prescricao.dioptria.od.longe.cilindrico"}})],1),a("div",{staticClass:"col-3 "},[a("campo",{attrs:{readonly:0==o.campos.prescricao.dioptria.od.longe.cilindrico,disable:0==o.campos.prescricao.dioptria.od.longe.cilindrico,min:"0",max:"180",tipo:"decimal",decimals:"0"},model:{value:o.campos.prescricao.dioptria.od.longe.eixo,callback:function(i){o.$set(o.campos.prescricao.dioptria.od.longe,"eixo",i)},expression:"campos.prescricao.dioptria.od.longe.eixo"}})],1),a("div",{staticClass:"col-3 "},[a("campo",{attrs:{min:"0",tipo:"decimal",decimals:"2"},on:{blur:function(i){o.calcularDnpPerto("direito")}},model:{value:o.campos.prescricao.dioptria.od.longe.dnp,callback:function(i){o.$set(o.campos.prescricao.dioptria.od.longe,"dnp",i)},expression:"campos.prescricao.dioptria.od.longe.dnp"}})],1)])])],1),a("q-item",{staticStyle:{padding:"0"}},[a("q-item-side",[a("q-item-tile",[o._v("OE")])],1),a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[o.confirmaHabilitaPerto?o._e():a("div",{staticClass:"col-3"},[a("campo",{attrs:{min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},on:{input:o.calcularAE},model:{value:o.campos.prescricao.dioptria.oe.longe.esferico,callback:function(i){o.$set(o.campos.prescricao.dioptria.oe.longe,"esferico",i)},expression:"campos.prescricao.dioptria.oe.longe.esferico"}})],1),o.confirmaHabilitaPerto?o._e():a("div",{staticClass:"col-3"},[a("campo",{attrs:{aviso:o.campos.prescricao.dioptria.oe.longe.cilindrico<-8||o.campos.prescricao.dioptria.oe.longe.cilindrico>0,avisoRotulo:"Cilindrico está fora do comum '0 a -8'.",min:"-10",max:"10",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},model:{value:o.campos.prescricao.dioptria.oe.longe.cilindrico,callback:function(i){o.$set(o.campos.prescricao.dioptria.oe.longe,"cilindrico",i)},expression:"campos.prescricao.dioptria.oe.longe.cilindrico"}})],1),o.confirmaHabilitaPerto?o._e():a("div",{staticClass:"col-3"},[a("campo",{attrs:{readonly:0==o.campos.prescricao.dioptria.oe.longe.cilindrico,disable:0==o.campos.prescricao.dioptria.oe.longe.cilindrico,min:"0",max:"180",tipo:"decimal",decimals:"0"},model:{value:o.campos.prescricao.dioptria.oe.longe.eixo,callback:function(i){o.$set(o.campos.prescricao.dioptria.oe.longe,"eixo",i)},expression:"campos.prescricao.dioptria.oe.longe.eixo"}})],1),o.confirmaHabilitaPerto?o._e():a("div",{staticClass:"col-3"},[a("campo",{attrs:{min:"0",tipo:"decimal",decimals:"2"},on:{blur:function(i){o.calcularDnpPerto("esquerdo")}},model:{value:o.campos.prescricao.dioptria.oe.longe.dnp,callback:function(i){o.$set(o.campos.prescricao.dioptria.oe.longe,"dnp",i)},expression:"campos.prescricao.dioptria.oe.longe.dnp"}})],1)])])],1)],1),a("q-list",{staticClass:"col-12 col-lg-6",attrs:{"no-border":""}},[a("q-item",{staticStyle:{padding:"0"}},[a("q-item-side",[a("q-item-tile")],1),a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[o.confirmaHabilitaPerto?o._e():a("div",{staticClass:"col-6"},[a("div",{staticClass:"row"},[a("label",{staticStyle:{"font-size":"1.15rem"}},[o._v("Médio")]),a("campo",{attrs:{tipo:"logico"},on:{input:function(i){o.zerarCamposMedio(!0)}},model:{value:o.habilitaMedio,callback:function(i){o.habilitaMedio=i},expression:"habilitaMedio"}})],1)]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"row"},[a("label",{staticStyle:{"font-size":"1.15rem"}},[o._v("Perto")]),a("campo",{attrs:{tipo:"logico"},on:{input:o.zerarCamposLongeMedio},model:{value:o.habilitaPerto,callback:function(i){o.habilitaPerto=i},expression:"habilitaPerto"}})],1)])])])],1),a("q-item",{staticStyle:{padding:"0"}},[a("q-item-side",[a("q-item-tile")],1),a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[o.confirmaHabilitaPerto?o._e():a("div",{staticClass:"col"},[o.habilitaAE?o._e():a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[o._v("Adição")]),o.habilitaAE?a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[o._v("Esférico")]):o._e()]),o.confirmaHabilitaPerto?o._e():a("div",{staticClass:"col"},[a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[o._v("DNP")])]),o.confirmaHabilitaPerto?o._e():a("div",{staticClass:"col"},[o.habilitaAE?o._e():a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[o._v("Adição")]),o.habilitaAE?a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[o._v("Esférico")]):o._e()]),o.confirmaHabilitaPerto?a("div",{staticClass:"col"},[a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[o._v("Esférico")])]):o._e(),o.confirmaHabilitaPerto?a("div",{staticClass:"col"},[a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[o._v("Cilindrico")])]):o._e(),o.confirmaHabilitaPerto?a("div",{staticClass:"col"},[a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[o._v("Eixo")])]):o._e(),a("div",{staticClass:"col"},[a("label",{staticStyle:{"font-size":".9rem","font-weight":"bold"}},[o._v("DNP")])])])])],1),a("q-item",{staticStyle:{padding:"0"}},[a("q-item-side",[a("q-item-tile",[o._v("OD")])],1),a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[o.confirmaHabilitaPerto?o._e():a("div",{staticClass:"col-3"},[o.habilitaAE?o._e():a("campo",{attrs:{readonly:!o.habilitaMedio,disable:!o.habilitaMedio,min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},on:{input:o.calcularAE},model:{value:o.campos.prescricao.dioptria.od.medio.adicao,callback:function(i){o.$set(o.campos.prescricao.dioptria.od.medio,"adicao",i)},expression:"campos.prescricao.dioptria.od.medio.adicao"}}),o.habilitaAE?a("campo",{attrs:{disable:!o.habilitaMedio,readonly:!o.habilitaMedio,min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},on:{input:o.calcularAE},model:{value:o.campos.prescricao.dioptria.od.medio.esferico,callback:function(i){o.$set(o.campos.prescricao.dioptria.od.medio,"esferico",i)},expression:"campos.prescricao.dioptria.od.medio.esferico"}}):o._e()],1),o.confirmaHabilitaPerto?o._e():a("div",{staticClass:"col-3"},[a("campo",{attrs:{disable:!o.habilitaMedio,readonly:!o.habilitaMedio,min:"0",tipo:"decimal",decimals:"2"},model:{value:o.campos.prescricao.dioptria.od.medio.dnp,callback:function(i){o.$set(o.campos.prescricao.dioptria.od.medio,"dnp",i)},expression:"campos.prescricao.dioptria.od.medio.dnp"}})],1),a("div",{staticClass:"col-3"},[o.habilitaAE||o.confirmaHabilitaPerto?o._e():a("campo",{attrs:{min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},on:{input:o.calcularAE,blur:function(i){o.calcularDnpPerto("direito")}},model:{value:o.campos.prescricao.dioptria.od.perto.adicao,callback:function(i){o.$set(o.campos.prescricao.dioptria.od.perto,"adicao",i)},expression:"campos.prescricao.dioptria.od.perto.adicao"}}),o.habilitaAE||o.confirmaHabilitaPerto?a("campo",{attrs:{min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},on:{input:o.calcularAE,blur:function(i){o.calcularDnpPerto("direito")}},model:{value:o.campos.prescricao.dioptria.od.perto.esferico,callback:function(i){o.$set(o.campos.prescricao.dioptria.od.perto,"esferico",i)},expression:"campos.prescricao.dioptria.od.perto.esferico"}}):o._e()],1),o.confirmaHabilitaPerto?a("div",{staticClass:"col-3"},[a("campo",{attrs:{aviso:o.campos.prescricao.dioptria.od.perto.cilindrico<-8||o.campos.prescricao.dioptria.od.perto.cilindrico>0,avisoRotulo:"Cilindrico está fora do comum '0 a -8'.",min:"-10",max:"10",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},model:{value:o.campos.prescricao.dioptria.od.perto.cilindrico,callback:function(i){o.$set(o.campos.prescricao.dioptria.od.perto,"cilindrico",i)},expression:"campos.prescricao.dioptria.od.perto.cilindrico"}})],1):o._e(),o.confirmaHabilitaPerto?a("div",{staticClass:"col-3"},[a("campo",{attrs:{readonly:0==o.campos.prescricao.dioptria.od.perto.cilindrico,disable:0==o.campos.prescricao.dioptria.od.perto.cilindrico,min:"0",max:"180",tipo:"decimal",decimals:"0"},model:{value:o.campos.prescricao.dioptria.od.perto.eixo,callback:function(i){o.$set(o.campos.prescricao.dioptria.od.perto,"eixo",i)},expression:"campos.prescricao.dioptria.od.perto.eixo"}})],1):o._e(),a("div",{staticClass:"col-3"},[a("campo",{attrs:{min:"0",tipo:"decimal",decimals:"2"},model:{value:o.campos.prescricao.dioptria.od.perto.dnp,callback:function(i){o.$set(o.campos.prescricao.dioptria.od.perto,"dnp",i)},expression:"campos.prescricao.dioptria.od.perto.dnp"}})],1)])])],1),a("q-item",{staticStyle:{padding:"0"}},[a("q-item-side",[a("q-item-tile",[o._v("OE")])],1),a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[o.confirmaHabilitaPerto?o._e():a("div",{staticClass:"col-3"},[o.habilitaAE?o._e():a("campo",{attrs:{disable:!o.habilitaMedio,readonly:!o.habilitaMedio,min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},on:{input:o.calcularAE},model:{value:o.campos.prescricao.dioptria.oe.medio.adicao,callback:function(i){o.$set(o.campos.prescricao.dioptria.oe.medio,"adicao",i)},expression:"campos.prescricao.dioptria.oe.medio.adicao"}}),o.habilitaAE?a("campo",{attrs:{disable:!o.habilitaMedio,readonly:!o.habilitaMedio,min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},on:{input:o.calcularAE},model:{value:o.campos.prescricao.dioptria.oe.medio.esferico,callback:function(i){o.$set(o.campos.prescricao.dioptria.oe.medio,"esferico",i)},expression:"campos.prescricao.dioptria.oe.medio.esferico"}}):o._e()],1),o.confirmaHabilitaPerto?o._e():a("div",{staticClass:"col-3"},[a("campo",{attrs:{disable:!o.habilitaMedio,readonly:!o.habilitaMedio,min:"0",tipo:"decimal",decimals:"2"},model:{value:o.campos.prescricao.dioptria.oe.medio.dnp,callback:function(i){o.$set(o.campos.prescricao.dioptria.oe.medio,"dnp",i)},expression:"campos.prescricao.dioptria.oe.medio.dnp"}})],1),a("div",{staticClass:"col-3"},[o.habilitaAE||o.confirmaHabilitaPerto?o._e():a("campo",{attrs:{min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},on:{input:o.calcularAE,blur:function(i){o.calcularDnpPerto("esquerdo")}},model:{value:o.campos.prescricao.dioptria.oe.perto.adicao,callback:function(i){o.$set(o.campos.prescricao.dioptria.oe.perto,"adicao",i)},expression:"campos.prescricao.dioptria.oe.perto.adicao"}}),o.habilitaAE||o.confirmaHabilitaPerto?a("campo",{attrs:{min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},on:{input:o.calcularAE,blur:function(i){o.calcularDnpPerto("esquerdo")}},model:{value:o.campos.prescricao.dioptria.oe.perto.esferico,callback:function(i){o.$set(o.campos.prescricao.dioptria.oe.perto,"esferico",i)},expression:"campos.prescricao.dioptria.oe.perto.esferico"}}):o._e()],1),o.confirmaHabilitaPerto?a("div",{staticClass:"col-3"},[a("campo",{attrs:{aviso:o.campos.prescricao.dioptria.oe.perto.cilindrico<-8||o.campos.prescricao.dioptria.oe.perto.cilindrico>0,avisoRotulo:"Cilindrico está fora do comum '0 a -8'.",min:"-10",max:"10",passo:".25",tipo:"decimal",decimals:"2",sinalPositivo:""},model:{value:o.campos.prescricao.dioptria.oe.perto.cilindrico,callback:function(i){o.$set(o.campos.prescricao.dioptria.oe.perto,"cilindrico",i)},expression:"campos.prescricao.dioptria.oe.perto.cilindrico"}})],1):o._e(),o.confirmaHabilitaPerto?a("div",{staticClass:"col-3"},[a("campo",{attrs:{readonly:0==o.campos.prescricao.dioptria.oe.perto.cilindrico,disable:0==o.campos.prescricao.dioptria.oe.perto.cilindrico,min:"0",max:"180",tipo:"decimal",decimals:"0"},model:{value:o.campos.prescricao.dioptria.oe.perto.eixo,callback:function(i){o.$set(o.campos.prescricao.dioptria.oe.perto,"eixo",i)},expression:"campos.prescricao.dioptria.oe.perto.eixo"}})],1):o._e(),a("div",{staticClass:"col-3"},[a("campo",{attrs:{min:"0",tipo:"decimal",decimals:"2"},model:{value:o.campos.prescricao.dioptria.oe.perto.dnp,callback:function(i){o.$set(o.campos.prescricao.dioptria.oe.perto,"dnp",i)},expression:"campos.prescricao.dioptria.oe.perto.dnp"}})],1)])])],1)],1)],1)],1)],1),a("div",{staticClass:"row gutter-x-sm",staticStyle:{padding:"0 24px"}},[a("q-btn",{staticClass:"no-shadow",attrs:{color:"primary",icon:"redo",label:"Copiar OD > OE"},on:{click:o.copiarODDioptria}}),o.confirmaHabilitaPerto?o._e():a("campo",{attrs:{rotulo:"Adição / Esférico",tipo:"logico"},model:{value:o.habilitaAE,callback:function(i){o.habilitaAE=i},expression:"habilitaAE"}})],1)],1),a("q-tab-pane",{staticClass:"bg-white row text-center",attrs:{name:"prisma"}},[a("q-list",{staticStyle:{width:"100%"},attrs:{"no-border":""}},[a("q-item",[a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12 col-md-auto text-right ",staticStyle:{"padding-top":"26px"}},[o._v("\n                            OD\n                          ")]),a("div",{staticClass:"col"},[a("campo",{attrs:{rotulo:"Prisma",min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2"},model:{value:o.campos.prescricao.prisma.od.valor,callback:function(i){o.$set(o.campos.prescricao.prisma.od,"valor",i)},expression:"campos.prescricao.prisma.od.valor"}})],1),a("div",{staticClass:"col"},[a("campo",{attrs:{rotulo:"Base",tipo:"seletor",opcoes:["Nasal","Temporal","Superior","Inferior"]},model:{value:o.campos.prescricao.prisma.od.base,callback:function(i){o.$set(o.campos.prescricao.prisma.od,"base",i)},expression:"campos.prescricao.prisma.od.base"}})],1)])])],1),a("q-item",[a("q-item-main",[a("div",{staticClass:"row gutter-x-sm"},[a("div",{staticClass:"col-12 col-md-auto text-right ",staticStyle:{"padding-top":"26px"}},[o._v("\n                            OE\n                          ")]),a("div",{staticClass:"col"},[a("campo",{attrs:{rotulo:"Prisma",min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2"},model:{value:o.campos.prescricao.prisma.oe.valor,callback:function(i){o.$set(o.campos.prescricao.prisma.oe,"valor",i)},expression:"campos.prescricao.prisma.oe.valor"}})],1),a("div",{staticClass:"col"},[a("campo",{attrs:{rotulo:"Base",tipo:"seletor",opcoes:["Nasal","Temporal","Superior","Inferior"]},model:{value:o.campos.prescricao.prisma.oe.base,callback:function(i){o.$set(o.campos.prescricao.prisma.oe,"base",i)},expression:"campos.prescricao.prisma.oe.base"}})],1)])])],1)],1),a("div",{staticClass:"row gutter-x-sm",staticStyle:{padding:"0 24px"}},[a("q-btn",{staticClass:"no-shadow",attrs:{color:"primary",icon:"redo",label:"Copiar OD > OE"},on:{click:o.copiarODPrisma}})],1)],1)],1)],1)])],1)])],1)]),a("contato-criar",{attrs:{"cpf-cnpj":"","data-nascimento":"","msg-erro":"Ocorreu um erro ao incluir o paciente.","msg-sucesso":"Paciente incluído com sucesso.",titulo:"Incluir Paciente",observacao:""},on:{pronto:o.criarDependencia},model:{value:o.modalDependente,callback:function(i){o.modalDependente=i},expression:"modalDependente"}}),a("contato-criar",{attrs:{"msg-erro":"Ocorreu um erro ao incluir o médico.","msg-sucesso":"Médico incluído com sucesso.",numeroDocumentoMunicipal:"CRM",titulo:"Incluir Médico"},on:{pronto:o.criarMedico},model:{value:o.modalMedico,callback:function(i){o.modalMedico=i},expression:"modalMedico"}}),a("prompt-codigo-barras",{on:{escanear:o.escanearQrCode},model:{value:o.modalQrCode,callback:function(i){o.modalQrCode=i},expression:"modalQrCode"}})],1)},t=[];e._withStripped=!0;var r=a("448a"),c=a.n(r),s=(a("ac4d"),a("8a81"),a("ac6a"),a("cadf"),a("456d"),a("96cf"),a("c973")),p=a.n(s),n=a("88db"),d=a("68db"),l=a("0e93"),m=a("1984"),u=a("f490"),h=a("8149"),f=a("2ef0"),b=a("ed08"),v={components:{Campo:n["a"],ContatoCriar:d["a"],PromptCodigoBarras:l["a"]},data:function(){return{abaSelecionada:"dioptria",campos:{id:"",idEmpresa:"",paciente:{id:"",nome:""},medico:{id:"",nome:""},data:null,validade:null,observacoes:"",prescricao:{dioptria:{od:{longe:{cilindrico:0,dnp:0,eixo:0,esferico:0,id:"",operacao:"",status:""},medio:{adicao:0,cilindrico:0,dnp:0,eixo:0,esferico:0,id:"",operacao:"",status:""},perto:{adicao:0,cilindrico:0,dnp:0,eixo:0,esferico:0,id:"",operacao:"",status:""}},oe:{longe:{cilindrico:0,dnp:0,eixo:0,esferico:0,id:"",operacao:"",status:""},medio:{adicao:0,cilindrico:0,dnp:0,eixo:0,esferico:0,id:"",operacao:"",status:""},perto:{adicao:0,cilindrico:0,dnp:0,eixo:0,esferico:0,id:"",operacao:"",status:""}}},prisma:{od:{base:"",valor:0},oe:{base:"",valor:0}}}},receitaOriginal:{},confirmaHabilitaPerto:!1,habilitaAE:!1,habilitaMedio:!1,habilitaPerto:!1,modalDependente:!1,modalMedico:!1,odLongeEsferico:0,odMedioAdicao:0,odMedioEsferico:0,odPertoAdicao:0,odPertoEsferico:0,oeLongeEsferico:0,oeMedioAdicao:0,oeMedioEsferico:0,oePertoAdicao:0,oePertoEsferico:0,pacientes:[{label:"",value:""}]}},methods:{voltar:function(){var o=p()(regeneratorRuntime.mark(function o(){var i;return regeneratorRuntime.wrap(function(o){while(1)switch(o.prev=o.next){case 0:if(i=Object(b["diferencaObjetos"])(this.receitaOriginal,this.campos),Object.keys(i).length){o.next=4;break}return this.$emit("input",!1),o.abrupt("return");case 4:return o.prev=4,o.next=7,this.$q.dialog({cancel:"Cancelar",message:"As alterações não serão salvas.",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 7:this.$emit("input",!1),o.next=12;break;case 10:o.prev=10,o.t0=o["catch"](4);case 12:case"end":return o.stop()}},o,this,[[4,10]])}));return function(){return o.apply(this,arguments)}}(),abrirModalDependente:function(){this.modalDependente=!0},abrirModalMedico:function(){this.modalMedico=!0},aoCopiarODOE:function(){var o=p()(regeneratorRuntime.mark(function o(i){return regeneratorRuntime.wrap(function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,this.$q.dialog({cancel:"Cancelar",message:"Esta ação irá sobrescrever os dados do olho esquerdo.",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 3:i(),o.next=8;break;case 6:o.prev=6,o.t0=o["catch"](0);case 8:case"end":return o.stop()}},o,this,[[0,6]])}));return function(i){return o.apply(this,arguments)}}(),alterarPaciente:function(){var o=p()(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,h["a"].contato.le({id:this.campos.paciente.id});case 2:this.campos.paciente.nome=o.sent.nome;case 3:case"end":return o.stop()}},o,this)}));return function(){return o.apply(this,arguments)}}(),atualizar:function(){var o=p()(regeneratorRuntime.mark(function o(){var i,a,e,t,r,c,s,p,n,d;return regeneratorRuntime.wrap(function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,h["a"].receita.le({id:this.id});case 2:return i=o.sent,this.campos=i,this.receitaOriginal=Object(b["clonar"])(i),this.campos.idEmpresa||(this.campos.idEmpresa=this.idEmpresa),a=!1,(this.campos.prescricao.dioptria.od.longe.esferico||this.campos.prescricao.dioptria.od.longe.cilindrico||this.campos.prescricao.dioptria.od.longe.eixo||this.campos.prescricao.dioptria.od.longe.dnp||this.campos.prescricao.dioptria.oe.longe.esferico||this.campos.prescricao.dioptria.oe.longe.cilindrico||this.campos.prescricao.dioptria.oe.longe.eixo||this.campos.prescricao.dioptria.oe.longe.dnp)&&(a=!0),(this.campos.prescricao.dioptria.od.medio.esferico||this.campos.prescricao.dioptria.od.medio.adicao||this.campos.prescricao.dioptria.od.medio.dnp||this.campos.prescricao.dioptria.oe.medio.esferico||this.campos.prescricao.dioptria.oe.medio.adicao||this.campos.prescricao.dioptria.oe.medio.dnp)&&(this.habilitaMedio=!0),!a&&(this.campos.prescricao.dioptria.od.perto.cilindrico||this.campos.prescricao.dioptria.od.perto.eixo||this.campos.prescricao.dioptria.oe.perto.cilindrico||this.campos.prescricao.dioptria.oe.perto.eixo)&&(this.confirmaHabilitaPerto=this.habilitaPerto=!0),this.odLongeEsferico=this.campos.prescricao.dioptria.od.longe.esferico,this.oeLongeEsferico=this.campos.prescricao.dioptria.oe.longe.esferico,this.odMedioAdicao=this.campos.prescricao.dioptria.od.medio.adicao,this.oeMedioAdicao=this.campos.prescricao.dioptria.oe.medio.adicao,this.odMedioEsferico=this.campos.prescricao.dioptria.od.medio.esferico,this.oeMedioEsferico=this.campos.prescricao.dioptria.oe.medio.esferico,this.odPertoAdicao=this.campos.prescricao.dioptria.od.perto.adicao,this.oePertoAdicao=this.campos.prescricao.dioptria.oe.perto.adicao,this.odPertoEsferico=this.campos.prescricao.dioptria.od.perto.esferico,this.oePertoEsferico=this.campos.prescricao.dioptria.oe.perto.esferico,o.next=22,h["a"].contato.leFilhos(h["a"].contato.selecionado.id);case 22:for(e=o.sent,e.push(h["a"].contato.selecionado),t=[],r=!0,c=!1,s=void 0,o.prev=28,p=e[Symbol.iterator]();!(r=(n=p.next()).done);r=!0)d=n.value,t.push({label:d.nome,value:d.id});o.next=36;break;case 32:o.prev=32,o.t0=o["catch"](28),c=!0,s=o.t0;case 36:o.prev=36,o.prev=37,r||null==p.return||p.return();case 39:if(o.prev=39,!c){o.next=42;break}throw s;case 42:return o.finish(39);case 43:return o.finish(36);case 44:this.pacientes=Object(f["orderBy"])(t,"label");case 45:case"end":return o.stop()}},o,this,[[28,32,36,44],[37,,39,43]])}));return function(){return o.apply(this,arguments)}}(),atualizarValidade:function(){this.campos.data&&(this.campos.validade=u["d"].formatDate(u["d"].addToDate(new Date(this.campos.data),{year:1})))},buscarMedicos:function(){var o=p()(regeneratorRuntime.mark(function o(i,a){var e;return regeneratorRuntime.wrap(function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,h["a"].contatoBusca.filtrar(i,{ativo:!0,medicos:!0},10);case 2:e=o.sent,a(e.map(function(o){return{label:o.nome,sublabel:o.numeroDocumentoMunicipal?"CRM: ".concat(o.numeroDocumentoMunicipal):"",value:o.id}}));case 4:case"end":return o.stop()}},o)}));return function(i,a){return o.apply(this,arguments)}}(),eventoInput:function(o){this.$emit("input",o)},calcularAE:function(){var o=this.campos.prescricao.dioptria.od.longe.esferico,i=this.campos.prescricao.dioptria.oe.longe.esferico;if(this.habilitaMedio){var a=this.campos.prescricao.dioptria.od.medio.adicao,e=this.campos.prescricao.dioptria.od.medio.esferico;a===this.odMedioAdicao&&e===this.odMedioEsferico&&(o===this.odLongeEsferico||0===a&&0===e)||(this.habilitaAE?a=e-o:e=o+a,this.odLongeEsferico=this.campos.prescricao.dioptria.od.longe.esferico=o,this.odMedioAdicao=this.campos.prescricao.dioptria.od.medio.adicao=a,this.odMedioEsferico=this.campos.prescricao.dioptria.od.medio.esferico=e);var t=this.campos.prescricao.dioptria.oe.medio.adicao,r=this.campos.prescricao.dioptria.oe.medio.esferico;t===this.oeMedioAdicao&&r===this.oeMedioEsferico&&(i===this.oeLongeEsferico||0===t&&0===r)||(this.habilitaAE?t=r-i:r=i+t,this.oeLongeEsferico=this.campos.prescricao.dioptria.oe.longe.esferico=i,this.oeMedioAdicao=this.campos.prescricao.dioptria.oe.medio.adicao=t,this.oeMedioEsferico=this.campos.prescricao.dioptria.oe.medio.esferico=r)}if(!this.habilitaPerto){var c=this.campos.prescricao.dioptria.od.perto.adicao,s=this.campos.prescricao.dioptria.od.perto.esferico;c===this.odPertoAdicao&&s===this.odPertoEsferico&&(o===this.odLongeEsferico||0===c&&0===s)||(this.habilitaAE?c=s-o:s=o+c,this.odLongeEsferico=this.campos.prescricao.dioptria.od.longe.esferico=o,this.odPertoAdicao=this.campos.prescricao.dioptria.od.perto.adicao=c,this.odPertoEsferico=this.campos.prescricao.dioptria.od.perto.esferico=s);var p=this.campos.prescricao.dioptria.oe.perto.adicao,n=this.campos.prescricao.dioptria.oe.perto.esferico;p===this.oePertoAdicao&&n===this.oePertoEsferico&&(i===this.oeLongeEsferico||0===p&&0===n)||(this.habilitaAE?p=n-i:n=i+p,this.oeLongeEsferico=this.campos.prescricao.dioptria.oe.longe.esferico=i,this.oePertoAdicao=this.campos.prescricao.dioptria.oe.perto.adicao=p,this.oePertoEsferico=this.campos.prescricao.dioptria.oe.perto.esferico=n)}},copiarODDioptria:function(){var o=this;this.aoCopiarODOE(function(){o.campos.prescricao.dioptria.oe.longe.cilindrico=o.campos.prescricao.dioptria.od.longe.cilindrico,o.campos.prescricao.dioptria.oe.longe.dnp=o.campos.prescricao.dioptria.od.longe.dnp,o.campos.prescricao.dioptria.oe.longe.eixo=o.campos.prescricao.dioptria.od.longe.eixo,o.campos.prescricao.dioptria.oe.longe.esferico=o.campos.prescricao.dioptria.od.longe.esferico,o.campos.prescricao.dioptria.oe.medio.adicao=o.campos.prescricao.dioptria.od.medio.adicao,o.campos.prescricao.dioptria.oe.medio.dnp=o.campos.prescricao.dioptria.od.medio.dnp,o.campos.prescricao.dioptria.oe.medio.esferico=o.campos.prescricao.dioptria.od.medio.esferico,o.campos.prescricao.dioptria.oe.medio.cilindrico=o.campos.prescricao.dioptria.od.medio.cilindrico,o.campos.prescricao.dioptria.oe.medio.eixo=o.campos.prescricao.dioptria.od.medio.eixo,o.campos.prescricao.dioptria.oe.perto.adicao=o.campos.prescricao.dioptria.od.perto.adicao,o.campos.prescricao.dioptria.oe.perto.cilindrico=o.campos.prescricao.dioptria.od.perto.cilindrico,o.campos.prescricao.dioptria.oe.perto.dnp=o.campos.prescricao.dioptria.od.perto.dnp,o.campos.prescricao.dioptria.oe.perto.eixo=o.campos.prescricao.dioptria.od.perto.eixo,o.campos.prescricao.dioptria.oe.perto.esferico=o.campos.prescricao.dioptria.od.perto.esferico})},copiarODPrisma:function(){var o=this;this.aoCopiarODOE(function(){o.campos.prescricao.prisma.oe=Object(b["clonar"])(o.campos.prescricao.prisma.od)})},criarDependencia:function(){var o=p()(regeneratorRuntime.mark(function o(i){var a;return regeneratorRuntime.wrap(function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,h["a"].contato.criarDependenciaContatos({contatoPai:h["a"].contato.selecionado,contatoFilho:i});case 3:return o.next=5,h["a"].contatoBusca.reindexar(h["a"].contato.selecionado.id);case 5:return o.next=7,h["a"].contatoBusca.reindexar(i.id);case 7:this.campos.paciente.id=i.id,this.campos.paciente.nome=i.nome,a=c()(this.pacientes),a.push({label:i.nome,value:i.id}),this.pacientes=Object(f["orderBy"])(a,"label"),o.next=17;break;case 14:o.prev=14,o.t0=o["catch"](0),this.$q.notifyError("Ocorreu um erro ao criar a dependência.",o.t0);case 17:case"end":return o.stop()}},o,this,[[0,14]])}));return function(i){return o.apply(this,arguments)}}(),criarMedico:function(){var o=p()(regeneratorRuntime.mark(function o(i){return regeneratorRuntime.wrap(function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,h["a"].contato.criarContatoGrupo({idContato:i.id,descricaoGrupo:"Médico"});case 3:return o.next=5,h["a"].contatoBusca.reindexar(i.id);case 5:this.campos.medico.id=i.id,this.campos.medico.nome=i.nome,o.next=12;break;case 9:o.prev=9,o.t0=o["catch"](0),this.$q.notifyError("Ocorreu um erro ao adicionar o contato ao grupo Médico.",o.t0);case 12:case"end":return o.stop()}},o,this,[[0,9]])}));return function(i){return o.apply(this,arguments)}}(),medicoSelecionado:function(o){this.campos.medico.id=o.value,this.campos.medico.nome=o.label},salvarReceita:function(){var o=p()(regeneratorRuntime.mark(function o(){var i,a,e,t;return regeneratorRuntime.wrap(function(o){while(1)switch(o.prev=o.next){case 0:if(this.campos.data&&this.campos.validade){o.next=3;break}return this.$q.notifyError("Preencha o período."),o.abrupt("return");case 3:if(i=(new Date).setHours(0,0,0,0),a=new Date(this.campos.data).setHours(0,0,0,0),!(a>i)){o.next=8;break}return this.$q.notifyError("Data da receita não pode ser maior que hoje."),o.abrupt("return");case 8:if(this.campos.medico.id&&this.campos.medico.nome){o.next=11;break}return this.$q.notifyError("Selecione o médico."),o.abrupt("return");case 11:if(this.campos.paciente.id&&this.campos.paciente.nome){o.next=14;break}return this.$q.notifyError("Selecione o paciente."),o.abrupt("return");case 14:return e="Receita salva com sucesso.",t="Ocorreu um erro ao salvar a receita.",this.duplicarReceita&&(this.campos.id=Object(b["uuid"])(),this.campos.medico.idDocumentoContato=Object(b["uuid"])(),this.campos.prescricao.dioptria.od.longe.id=Object(b["uuid"])(),this.campos.prescricao.dioptria.od.medio.id=Object(b["uuid"])(),this.campos.prescricao.dioptria.od.perto.id=Object(b["uuid"])(),this.campos.prescricao.dioptria.oe.longe.id=Object(b["uuid"])(),this.campos.prescricao.dioptria.oe.medio.id=Object(b["uuid"])(),this.campos.prescricao.dioptria.oe.perto.id=Object(b["uuid"])(),delete this.campos.dadosOriginais,e="Receita duplicada com sucesso.",t="Ocorreu um erro ao duplicar a receita."),o.prev=17,this.$q.loading.show({delay:500,message:"Salvando a receita"}),o.next=21,h["a"].receita.grava(this.campos);case 21:this.$q.loading.hide(),this.$q.notifyPositive(e),o.next=28;break;case 25:o.prev=25,o.t0=o["catch"](17),this.$q.notifyError(t,o.t0);case 28:this.$emit("atualizar"),this.$emit("input",!1);case 30:case"end":return o.stop()}},o,this,[[17,25]])}));return function(){return o.apply(this,arguments)}}(),zerarCamposLongeMedio:function(){var o=p()(regeneratorRuntime.mark(function o(){var i,a,e=this;return regeneratorRuntime.wrap(function(o){while(1)switch(o.prev=o.next){case 0:if(i=function(){var o=p()(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,e.zerarCamposMedio(!1);case 2:e.campos.prescricao.dioptria.od.longe.esferico=0,e.campos.prescricao.dioptria.od.longe.cilindrico=0,e.campos.prescricao.dioptria.od.longe.eixo=0,e.campos.prescricao.dioptria.od.longe.dnp=0,e.campos.prescricao.dioptria.od.perto.adicao=0,e.campos.prescricao.dioptria.od.perto.esferico=0,e.campos.prescricao.dioptria.od.perto.dnp=0,e.campos.prescricao.dioptria.od.perto.cilindrico=0,e.campos.prescricao.dioptria.od.perto.eixo=0,e.campos.prescricao.dioptria.oe.longe.esferico=0,e.campos.prescricao.dioptria.oe.longe.cilindrico=0,e.campos.prescricao.dioptria.oe.longe.eixo=0,e.campos.prescricao.dioptria.oe.longe.dnp=0,e.campos.prescricao.dioptria.oe.perto.adicao=0,e.campos.prescricao.dioptria.oe.perto.esferico=0,e.campos.prescricao.dioptria.oe.perto.dnp=0,e.campos.prescricao.dioptria.oe.perto.cilindrico=0,e.campos.prescricao.dioptria.oe.perto.eixo=0;case 20:case"end":return o.stop()}},o)}));return function(){return o.apply(this,arguments)}}(),a=!1,a=this.habilitaPerto?this.campos.prescricao.dioptria.od.longe.esferico||this.campos.prescricao.dioptria.od.longe.cilindrico||this.campos.prescricao.dioptria.od.longe.eixo||this.campos.prescricao.dioptria.od.longe.dnp||this.campos.prescricao.dioptria.od.medio.adicao||this.campos.prescricao.dioptria.od.medio.esferico||this.campos.prescricao.dioptria.od.medio.dnp||this.campos.prescricao.dioptria.od.perto.adicao||this.campos.prescricao.dioptria.od.perto.esferico||this.campos.prescricao.dioptria.od.perto.dnp||this.campos.prescricao.dioptria.oe.longe.esferico||this.campos.prescricao.dioptria.oe.longe.cilindrico||this.campos.prescricao.dioptria.oe.longe.eixo||this.campos.prescricao.dioptria.oe.longe.dnp||this.campos.prescricao.dioptria.oe.medio.adicao||this.campos.prescricao.dioptria.oe.medio.esferico||this.campos.prescricao.dioptria.oe.medio.dnp||this.campos.prescricao.dioptria.oe.perto.adicao||this.campos.prescricao.dioptria.oe.perto.esferico||this.campos.prescricao.dioptria.oe.perto.dnp:this.campos.prescricao.dioptria.od.perto.esferico||this.campos.prescricao.dioptria.od.perto.dnp||this.campos.prescricao.dioptria.od.perto.cilindrico||this.campos.prescricao.dioptria.od.perto.eixo||this.campos.prescricao.dioptria.oe.perto.esferico||this.campos.prescricao.dioptria.oe.perto.dnp||this.campos.prescricao.dioptria.oe.perto.cilindrico||this.campos.prescricao.dioptria.oe.perto.eixo,!a){o.next=18;break}return o.prev=4,o.next=7,this.$q.dialog({cancel:"Cancelar",message:"Ao continuar os dados serão perdidos.",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 7:return o.next=9,i();case 9:this.habilitaMedio=!1,this.habilitaAE=!1,o.next=16;break;case 13:o.prev=13,o.t0=o["catch"](4),this.habilitaPerto=!this.habilitaPerto;case 16:o.next=20;break;case 18:this.habilitaMedio=!1,this.habilitaAE=!1;case 20:this.confirmaHabilitaPerto=this.habilitaPerto;case 21:case"end":return o.stop()}},o,this,[[4,13]])}));return function(){return o.apply(this,arguments)}}(),zerarCamposMedio:function(){var o=p()(regeneratorRuntime.mark(function o(i){var a,e,t=this;return regeneratorRuntime.wrap(function(o){while(1)switch(o.prev=o.next){case 0:if(a=function(){t.odMedioAdicao=t.campos.prescricao.dioptria.od.medio.adicao=0,t.odMedioEsferico=t.campos.prescricao.dioptria.od.medio.esferico=0,t.campos.prescricao.dioptria.od.medio.dnp=0,t.oeMedioAdicao=t.campos.prescricao.dioptria.oe.medio.adicao=0,t.oeMedioEsferico=t.campos.prescricao.dioptria.oe.medio.esferico=0,t.campos.prescricao.dioptria.oe.medio.dnp=0,t.campos.prescricao.dioptria.od.medio.cilindrico=0,t.campos.prescricao.dioptria.od.medio.eixo=0,t.campos.prescricao.dioptria.oe.medio.cilindrico=0,t.campos.prescricao.dioptria.oe.medio.eixo=0},!i){o.next=15;break}if(e=this.campos.prescricao.dioptria.od.medio.adicao||this.campos.prescricao.dioptria.od.medio.esferico||this.campos.prescricao.dioptria.od.medio.dnp||this.campos.prescricao.dioptria.oe.medio.adicao||this.campos.prescricao.dioptria.oe.medio.esferico||this.campos.prescricao.dioptria.oe.medio.dnp,!e){o.next=13;break}return o.prev=4,o.next=7,this.$q.dialog({cancel:"Cancelar",message:"Ao continuar os dados serão perdidos.",noRefocus:!0,ok:"Continuar",preventClose:!0,title:"Tem certeza?"});case 7:a(),o.next=13;break;case 10:o.prev=10,o.t0=o["catch"](4),this.habilitaMedio=!this.habilitaMedio;case 13:o.next=16;break;case 15:a();case 16:case"end":return o.stop()}},o,this,[[4,10]])}));return function(i){return o.apply(this,arguments)}}(),calcularDnpPerto:function(o){if("direito"===o){var i=(this.campos.prescricao.dioptria.od.perto.adicao||this.campos.prescricao.dioptria.od.perto.esferico)&&!this.campos.prescricao.dioptria.od.perto.dnp,a=this.campos.prescricao.dioptria.od.longe.dnp;Object(b["isNumber"])(a)&&0!==a&&i&&(this.campos.prescricao.dioptria.od.perto.dnp=a-1.5)}if("esquerdo"===o){var e=(this.campos.prescricao.dioptria.oe.perto.adicao||this.campos.prescricao.dioptria.oe.perto.esferico)&&!this.campos.prescricao.dioptria.oe.perto.dnp,t=this.campos.prescricao.dioptria.oe.longe.dnp;Object(b["isNumber"])(t)&&0!==t&&e&&(this.campos.prescricao.dioptria.oe.perto.dnp=t-1.5)}}},mixins:[m["a"]],props:{duplicarReceita:{default:!1,required:!0,type:Boolean},id:{default:"",required:!0,type:String},idEmpresa:{default:"",required:!0,type:String},value:{default:!1,required:!0,type:Boolean}},watch:{value:function(){var o=p()(regeneratorRuntime.mark(function o(i){return regeneratorRuntime.wrap(function(o){while(1)switch(o.prev=o.next){case 0:if(this.abaSelecionada="dioptria",this.habilitaAE=!1,this.habilitaMedio=!1,this.habilitaPerto=this.confirmaHabilitaPerto=!1,!i){o.next=9;break}return this.$q.loading.show({delay:500,message:"Carregando a receita"}),o.next=8,this.atualizar();case 8:this.$q.loading.hide();case 9:case"end":return o.stop()}},o,this)}));return function(i){return o.apply(this,arguments)}}()}},g=v,x=a("2877"),C=Object(x["a"])(g,e,t,!1,null,null,null);C.options.__file="Receita.vue";i["a"]=C.exports}}]);