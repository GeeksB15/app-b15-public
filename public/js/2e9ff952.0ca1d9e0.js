(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2e9ff952"],{"08a7":function(t,o,e){},"37b3":function(t,o,e){"use strict";var i=e("4ed2"),a=e.n(i);a.a},"4e44":function(t,o,e){"use strict";e.r(o);var i=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",["TirarFoto"===t.tela?e("tirar-foto",{on:{mudarTela:t.mudarTela,upload:t.upload}}):t._e(),e("tamanho-foto",{directives:[{name:"show",rawName:"v-show",value:"TamanhoFoto"===t.tela,expression:"tela==='TamanhoFoto'"}],ref:"TamanhoFoto",on:{mudarTela:t.mudarTela}}),e("tamanho-armacao",{directives:[{name:"show",rawName:"v-show",value:"TamanhoArmacao"===t.tela,expression:"tela==='TamanhoArmacao'"}],ref:"TamanhoArmacao",on:{mudarTela:t.mudarTela}}),e("olho",{directives:[{name:"show",rawName:"v-show",value:"Olho"===t.tela,expression:"tela==='Olho'"}],ref:"Olho",on:{mudarTela:t.mudarTela}}),e("diagonal",{directives:[{name:"show",rawName:"v-show",value:"Diagonal"===t.tela,expression:"tela==='Diagonal'"}],on:{mudarTela:t.mudarTela}}),e("bifocal",{directives:[{name:"show",rawName:"v-show",value:"Bifocal"===t.tela,expression:"tela==='Bifocal'"}],on:{mudarTela:t.mudarTela}}),e("medidas",{directives:[{name:"show",rawName:"v-show",value:"Medidas"===t.tela,expression:"tela==='Medidas'"}],ref:"Medidas",attrs:{somenteLeitura:t.somenteLeitura},on:{mudarTela:t.mudarTela}}),e("palpebra",{directives:[{name:"show",rawName:"v-show",value:"Palpebra"===t.tela,expression:"tela==='Palpebra'"}],ref:"Palpebra",on:{mudarTela:t.mudarTela}})],1)},a=[];i._withStripped=!0;e("551c"),e("96cf");var s=e("c973"),r=e.n(s),n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("q-toolbar",{attrs:{color:"primary"}},[e("q-toolbar-title",[t._v("Tirar Foto")]),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_rewind"},on:{click:function(o){t.$emit("mudarTela","Fim")}}}),t.temFoto?e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_forward"},nativeOn:{click:function(o){return t.avancar(o)}}}):t._e()],1),e("div",{staticClass:"container"},[e("div",{staticClass:"texto"},[t._v("\n      "+t._s(t.capabilities.height?t.capabilities.height.max:"")+"x"+t._s(t.capabilities.width?t.capabilities.width.max:"")+"\n      ")]),e("video",{staticClass:"Video",attrs:{id:"Foto"}}),e("q-slider",{ref:"horizontal",staticClass:"SensorHorizontal",attrs:{color:t.sensorHorizontalCor,min:-90,max:90},model:{value:t.sensor.horizontal,callback:function(o){t.$set(t.sensor,"horizontal",o)},expression:"sensor.horizontal"}}),e("q-icon",{staticClass:"remove_red_eye",attrs:{name:"remove_red_eye",color:t.sensorHorizontalCor}}),e("q-slider",{ref:"vertical",staticClass:"SensorVertical",attrs:{color:t.sensorVerticalCor,min:63,max:180},model:{value:t.sensor.vertical,callback:function(o){t.$set(t.sensor,"vertical",o)},expression:"sensor.vertical"}})],1),e("q-btn",{staticClass:"BtUpload",attrs:{color:"primary",size:"md",round:"",icon:"attachment"},nativeOn:{click:function(o){return t.uploadClick(o)}}}),e("q-btn",{staticClass:"BtTrocarCamera",attrs:{color:"primary",size:"md",round:"",icon:"loop"},nativeOn:{click:function(o){return t.trocarCamera(o)}}}),e("q-btn",{ref:"BtFlash",staticClass:"BtFlash",attrs:{color:"primary",size:"md",round:"",icon:t.flashicon},nativeOn:{click:function(o){return t.flash(o)}}}),e("q-btn",{staticClass:"ZoomMais",attrs:{color:"primary",size:"md",round:"",icon:"zoom_in"},nativeOn:{click:function(o){t.zoomMais()}}}),e("q-btn",{staticClass:"ZoomMenos",attrs:{color:"primary",size:"md",round:"",icon:"zoom_out"},nativeOn:{click:function(o){t.zoomMenos()}}}),e("q-btn",{staticClass:"BtFoto",attrs:{color:"primary",size:"xl",round:"",icon:"camera"},nativeOn:{click:function(o){t.foto()}}})],1)},l=[];n._withStripped=!0;e("ac6a");var d=e("8149"),c={computed:{sensorHorizontalCor:function(){return this.sensor.horizontal<-10||this.sensor.horizontal>10?"red":"green"},sensorVerticalCor:function(){return this.sensor.vertical<85||this.sensor.vertical>95?"red":"green"},temFoto:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC"!==this.dbPupilometro.foto}},data:function(){return{dbPupilometro:d["a"].pupilometro,sensor:{horizontal:0,vertical:90},zoom:1,camera:"environment",flashicon:"flash_off",orientation:{},capabilities:{}}},methods:{zoomMais:function(){try{this.zoom+=this.capabilities.zoom.step,this.zoom>this.capabilities.zoom.max&&(this.zoom=this.capabilities.zoom.max),this.track.applyConstraints({advanced:[{zoom:this.zoom}]})}catch(t){console.log("erro zoom + ",t)}},zoomMenos:function(){try{this.zoom-=this.capabilities.zoom.step,this.zoom<this.capabilities.zoom.min&&(this.zoom=this.capabilities.zoom.min),this.track.applyConstraints({advanced:[{zoom:this.zoom}]})}catch(t){console.log("erro zoom + ",t)}},uploadClick:function(){this.$emit("mudarTela","TamanhoFoto"),this.$emit("upload")},foto:function(){var t=r()(regeneratorRuntime.mark(function t(){var o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(o=this,"flash_auto"!==o.flashicon){t.next=5;break}return o.track.applyConstraints({advanced:[{torch:!0}]}),t.next=5,new Promise(function(t){return setTimeout(t,1e3)});case 5:o.imageCapture.takePhoto().then(function(t){var e=document.createElement("canvas"),i=e.getContext("2d"),a=new Image;a.onload=function(){e.width=a.naturalWidth,e.height=a.naturalHeight,i.drawImage(a,0,0,a.naturalWidth,a.naturalHeight),o.dbPupilometro.fotoOriginal=e.toDataURL()+"",o.$emit("mudarTela","TamanhoFoto"),"flash_auto"===o.flashicon&&o.track.applyConstraints({advanced:[{torch:!1}]})},a.src=URL.createObjectURL(t)}).catch(function(t){return console.error("takePhoto() failed: ",t)});case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),flash:function(){switch(this.flashicon){case"flash_on":this.flashicon="flash_off",this.track.applyConstraints({advanced:[{torch:!1}]});break;case"flash_off":this.flashicon="flash_auto",this.track.applyConstraints({advanced:[{torch:!1}]});break;case"flash_auto":this.flashicon="flash_on",this.track.applyConstraints({advanced:[{torch:!0}]})}},avancar:function(){this.$emit("mudarTela","TamanhoFoto")},trocarCamera:function(){var t=r()(regeneratorRuntime.mark(function t(){var o,e,i,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(o){return setTimeout(o,t)})},"user"===this.camera?this.camera="environment":this.camera="user",e={audio:!1,video:{facingMode:this.camera}},i=document.getElementById("Foto"),i){t.next=7;break}return t.next=7,new Promise(function(t){a.interval=setInterval(function(){i=document.getElementById("Foto"),i&&(clearInterval(a.interval),t())},10)});case 7:i.setAttribute("playsinline",""),i.setAttribute("autoplay",""),i.setAttribute("muted","");try{i.srcObject.getTracks().forEach(function(t){return t.stop()})}catch(t){}navigator.mediaDevices.getUserMedia(e).then(function(){var t=r()(regeneratorRuntime.mark(function t(e){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i.srcObject=e,t.next=3,o(1e3);case 3:a.track=e.getVideoTracks()[0],a.capabilities=a.track.getCapabilities(),s=a.track.getSettings(),a.zoom=s.zoom,a.imageCapture=new ImageCapture(a.track);case 8:case"end":return t.stop()}},t)}));return function(o){return t.apply(this,arguments)}}());case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},mounted:function(){var t=this;try{window.DeviceOrientationEvent&&window.addEventListener("deviceorientation",function(o){var e=0,i=0;90===window.orientation&&(i=parseInt(o.gamma),i=i<0?-1*i:180-Math.abs(i),i<91?e=-1*parseInt(o.beta):(e=-1*parseInt(o.beta),e=e>0?180-e:Math.abs(e)-180)),-90===window.orientation&&(e=-1*parseInt(o.beta),i=parseInt(o.gamma),i=i<0?180+i:i,e=i<91?180===e?0:e:e>0?180-e:Math.abs(e)-180),0===window.orientation&&(i=parseInt(o.beta),e=i<91?-1*parseInt(o.gamma):parseInt(o.gamma)),e>90&&(e=90),e<-90&&(e=-90),t.sensor.horizontal!==e&&(t.sensor.horizontal=e);var a=t.sensor.horizontal<-10||t.sensor.horizontal>10?"red":"green";"red"===a&&(document.querySelector(".SensorHorizontal .q-slider-handle").style.visibility="visible"),"green"===a&&(document.querySelector(".SensorHorizontal .q-slider-handle").style.visibility="hidden"),i>180&&(i=180),i<63&&(i=63),t.sensor.vertical!==i&&(t.sensor.vertical=i),a=t.sensor.vertical<85||t.sensor.vertical>95?"red":"green","red"===a&&(document.querySelector(".SensorVertical .q-slider-handle").style.visibility="visible"),"green"===a&&(document.querySelector(".SensorVertical .q-slider-handle").style.visibility="hidden")},!1)}catch(t){}this.trocarCamera()},beforeDestroy:function(){this.track.stop(),clearInterval(this.interval)}},h=c,p=(e("6b7f"),e("2877")),u=Object(p["a"])(h,n,l,!1,null,"15fd6dbf",null);u.options.__file="Pupilometro01TirarFoto.vue";var m=u.exports,f=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"telaTamanhoFoto"}},[e("q-resize-observable",{on:{resize:t.redimensiona}}),e("img",{ref:"foto",staticClass:"Foto",attrs:{src:t.dbPupilometro.fotoOriginal}}),e("div",{ref:"quadro",staticClass:"quadro"}),e("q-toolbar",{attrs:{color:"primary"}},[e("q-toolbar-title",[t._v("Tratamento Foto")]),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_rewind"},nativeOn:{click:function(o){return t.btAnterior(o)}}}),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_forward"},nativeOn:{click:function(o){return t.btProximo(o)}}})],1),e("div",[1===t.tipoRosto?e("svg",{staticClass:"rosto",attrs:{viewBox:"0 0 300 420"}},[e("path",{attrs:{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M154.7,27.6c41,0,95.2,20.4,112.7,77.9c21,69.1,9.3,153.6-3,190.6c-11.5,34.6-62.2,96.4-122,96.4c-27.9,0-69.5-19-109.8-109.7c-11.4-25.6-21-128.4,6.3-195.2C62,30.8,130.2,27.9,143.7,27.9c0.8,0,1.3,0,1.4,0l0.6,0l0.6,0C148.9,27.7,151.7,27.6,154.7,27.6z"}})]):t._e(),2===t.tipoRosto?e("svg",{staticClass:"rosto",attrs:{viewBox:"0 0 300 420"}},[e("path",{attrs:{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M264.7,94.6C249.3,32.9,176.4,19,152,19l-1.1,0v0c-0.1,0-0.3,0-0.4,0l-0.5,0l-0.5,0c-0.1,0-0.3,0-0.4,0v0l-1.1,0c-24.3,0-97.2,13.9-112.6,75.6c-15.5,62-18.1,176.7,0.3,213.6c18.2,36.4,73.9,89.5,76.2,91.6l1.2,1.1l36,0.1v0l1,0l1,0v0l36-0.1l1.2-1.1c2.4-2.1,58-55.1,76.2-91.6C282.8,271.3,280.2,156.6,264.7,94.6z "}})]):t._e(),3===t.tipoRosto?e("svg",{staticClass:"rosto",attrs:{viewBox:"0 0 300 420"}},[e("path",{attrs:{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M289.8,214.2c-5.9-82.9-9.5-133-34.3-159.2C232.1,30.3,189.1,13.9,150,14.5C110.9,13.9,67.9,30.3,44.5,55c-24.8,26.2-28.4,76.2-34.3,159.2l-0.1,0.9l0.3,0.9C42.2,305.7,98.9,407,150,405.5c51.1,1.5,107.8-99.9,139.6-189.5l0.3-0.9L289.8,214.2z"}})]):t._e(),4===t.tipoRosto?e("svg",{staticClass:"btRosto",attrs:{viewBox:"0 0 300 420"}},[e("path",{attrs:{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M264.7,101C255,52.4,204.6,12.7,151,10.4v-0.1c-0.3,0-0.7,0-1,0c-0.3,0-0.7,0-1,0v0.1\n    C95.4,12.7,45,52.4,35.3,101c-7.4,37-6.8,100.2-6.3,150.9c0.1,11.9,0.2,23.2,0.2,33.5v0.6l0.2,0.6\n    c14.3,48.7,74.8,115.3,119.6,122.8v0.3c0.3,0,0.7-0.1,1-0.2c0.3,0,0.7,0.1,1,0.2v-0.3c44.8-7.5,105.3-74.1,119.6-122.8l0.2-0.6\n    v-0.6c0-10.2,0.1-21.5,0.2-33.5C271.5,201.2,272.1,138.1,264.7,101z"}})]):t._e(),5===t.tipoRosto?e("svg",{staticClass:"btRosto",attrs:{viewBox:"0 0 300 420"}},[e("path",{attrs:{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M280.7,173.8c-13.1-65.3-32.8-109.4-60.4-134.8c-24.7-22.7-51.4-25.6-70.3-25.3c-18.9-0.3-45.6,2.6-70.3,25.3c-27.6,25.3-47.3,69.4-60.4,134.8l-0.1,0.5l0,0.5c1.5,68.2,15.3,97.7,36.1,142.3l0.4,0.9c26.2,56.1,60,88.3,92.8,88.3c0.5,0,1,0,1.5,0c0.5,0,1,0,1.5,0c32.8,0,66.6-32.2,92.8-88.3l0.4-0.9c20.8-44.6,34.6-74.1,36.1-142.3l0-0.5L280.7,173.8z"}})]):t._e()]),e("q-btn",{staticClass:"ZoomMais",attrs:{"repeat-timeout":20,color:"primary",size:"md",round:"",icon:"zoom_in"},on:{click:function(o){t.zoomMais()}}}),e("q-btn",{staticClass:"ZoomMenos",attrs:{"repeat-timeout":20,color:"primary",size:"md",round:"",icon:"zoom_out"},on:{click:function(o){t.zoomMenos()}}}),e("q-btn",{staticClass:"BtUpload",attrs:{color:"primary",size:"md",round:"",icon:"attachment"},nativeOn:{click:function(o){return t.uploadClick(o)}}}),e("div",{directives:[{name:"touch-pan",rawName:"v-touch-pan.prevent",value:t.touch,expression:"touch",modifiers:{prevent:!0}}],staticClass:"ZonaTouch"}),e("div",{staticClass:"BaseBotoes"}),e("q-btn",{staticClass:"moveUp",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_up"},on:{click:t.moveUp}}),e("q-btn",{staticClass:"moveDown",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_down"},on:{click:t.moveDown}}),e("q-btn",{staticClass:"moveRight",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_right"},on:{click:t.moveRight}}),e("q-btn",{staticClass:"moveLeft",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_left"},on:{click:t.moveLeft}}),e("input",{ref:"Upload",staticStyle:{visibility:"hidden"},attrs:{type:"file",id:"Upload"},on:{change:t.abrirFoto}}),e("div",{staticClass:"btsTipoRosto"})],1)},v=[];f._withStripped=!0;e("ac4d"),e("8a81"),e("c7c6");var b={data:function(){return{dbPupilometro:d["a"].pupilometro,foto:{},fotoFator:1,tipoRosto:1,sensor:{horizontal:0,vertical:0},zoom:100,pinca:{zoom:0,scaling:!1,width:0,height:0,top:0,left:0},distancia:{x1i:0,y1i:0,x2i:0,y2i:0,x1f:0,y1f:0,x2f:0,y2f:0,distanciaInicial:0,distanciaFinal:0},qtde:0}},watch:{"dbPupilometro.fotoOriginal":function(){this.mudaCentralizaFoto()}},methods:{touch:function(t){var o=this,e=this.$refs.foto,i=0;try{i=t.evt.touches.length}catch(t){}if(this.qtde=i,this.pinca.scaling||2!==i&&Math.abs(t.delta.x+t.delta.y)<=20&&(e.style.left=parseFloat(e.style.left)+t.delta.x+"px",e.style.top=parseFloat(e.style.top)+t.delta.y+"px"),!this.pinca.scaling&&2===i){var a=this.distancia;a.x1i=t.evt.touches[0].pageX,a.y1i=t.evt.touches[0].pageY,a.x2i=t.evt.touches[1].pageX,a.y2i=t.evt.touches[1].pageY,a.distanciaInicial=Math.hypot(t.evt.touches[0].pageX-t.evt.touches[1].pageX,t.evt.touches[0].pageY-t.evt.touches[1].pageY),this.pinca.width=parseFloat(e.style.width),this.pinca.height=parseFloat(e.style.height),this.pinca.top=parseFloat(e.style.top),this.pinca.left=parseFloat(e.style.left),this.pinca.zoom=Math.hypot(t.evt.touches[0].pageX-t.evt.touches[1].pageX,t.evt.touches[0].pageY-t.evt.touches[1].pageY),this.pinca.scaling=!0,console.log("touchstart")}if(this.pinca.scaling&&0===i&&setTimeout(function(){o.pinca.scaling=!1},500),this.pinca.scaling&&2===i)try{var s=t.evt,r=Math.hypot(s.touches[0].pageX-s.touches[1].pageX,s.touches[0].pageY-s.touches[1].pageY)-this.pinca.zoom,n=this.$refs.foto;n.style.width=this.pinca.width+r+"px",n.style.height=this.pinca.height+r*this.fotoFator+"px",n.style.top=this.pinca.top-r/2*this.fotoFator+"px",n.style.left=this.pinca.left-r/2+"px"}catch(s){console.log(s)}},zoomMais:function(){var t=this.$refs.foto;t.style.width=parseFloat(t.style.width)+2+"px",t.style.height=parseFloat(t.style.height)+2*this.fotoFator+"px",t.style.top=parseFloat(t.style.top)-1*this.fotoFator+"px",t.style.left=parseFloat(t.style.left)-1+"px"},zoomMenos:function(){var t=this.$refs.foto;t.style.width=parseFloat(t.style.width)-2+"px",t.style.height=parseFloat(t.style.height)-2*this.fotoFator+"px",t.style.top=parseFloat(t.style.top)+1*this.fotoFator+"px",t.style.left=parseFloat(t.style.left)+1+"px"},moveUp:function(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)-1+"px"},moveDown:function(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)+1+"px"},moveRight:function(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)+1+"px"},moveLeft:function(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)-1+"px"},uploadClick:function(){this.$refs.Upload.click()},abrirFoto:function(t){var o=this,e=this.$refs.Upload.files;if(FileReader&&e&&e.length){var i=new FileReader;i.onload=function(){o.dbPupilometro.fotoOriginal=i.result},i.readAsDataURL(e[0])}},mudaCentralizaFoto:function(){var t=this.$refs.quadro,o={top:parseInt(t.style.top),left:parseInt(t.style.left),width:parseInt(t.style.width),height:parseInt(t.style.height)},e=this.$refs.foto,i=new Image,a=this;i.onload=function(){var t=i.width,s=i.height,r=1.001;r=i.width>i.height?o.width/i.height:o.width/i.width,t=parseInt(t*r),s=parseInt(s*r),e.style.top=(o.height-s)/2+o.top+"px",e.style.left=(o.width-t)/2+o.left+"px",e.style.width=t+"px",e.style.height=s+"px",a.fotoFator=i.height/i.width},i.src=this.dbPupilometro.fotoOriginal},btProximo:function(){var t=document.createElement("canvas"),o=t.getContext("2d"),e=this.$refs.foto;t.width=1200,t.height=1200;var i={left:parseFloat(this.$refs.foto.style.left),width:parseFloat(this.$refs.foto.style.width),top:parseFloat(this.$refs.foto.style.top),height:parseFloat(this.$refs.foto.style.height),naturalWidth:this.$refs.foto.naturalWidth,naturalHeight:this.$refs.foto.naturalHeight},a={left:parseFloat(this.$refs.quadro.style.left),width:parseFloat(this.$refs.quadro.style.width),top:parseFloat(this.$refs.quadro.style.top),height:parseFloat(this.$refs.quadro.style.height)},s={left:a.left-i.left,top:a.top-i.top};o.drawImage(e,s.left/i.width*i.naturalWidth,s.top/i.height*i.naturalHeight,a.width/i.width*i.naturalWidth,a.height/i.height*i.naturalHeight,0,0,1200,1200),this.dbPupilometro.foto=t.toDataURL()+"",this.$emit("mudarTela","TamanhoArmacao")},btAnterior:function(){this.$emit("mudarTela","TirarFoto")},redimensiona:function(){var t=this.$refs.quadro,o=document.body.clientWidth-20,e=document.body.clientHeight-100-20;t.style.height=o>e?e+"px":o+"px",t.style.width=t.style.height,t.style.top=(document.body.clientHeight-parseInt(t.style.height)-20)/2+"px",t.style.left=(document.body.clientWidth-parseInt(t.style.width))/2+"px";var i=document.getElementsByClassName("rosto"),a=!0,s=!1,r=void 0;try{for(var n,l=i[Symbol.iterator]();!(a=(n=l.next()).done);a=!0){var d=n.value;d.style.position="absolute",d.style.top=t.style.top,d.style.left=t.style.left,d.style.width=t.style.width,d.style.height=t.style.height}}catch(t){s=!0,r=t}finally{try{a||null==l.return||l.return()}finally{if(s)throw r}}}},mounted:function(){this.redimensiona()}},y=b,g=(e("e288"),Object(p["a"])(y,f,v,!1,null,"3f0e633b",null));g.options.__file="Pupilometro02TamanhoFoto.vue";var x=g.exports,w=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("q-toolbar",{attrs:{color:"primary"}},[e("q-toolbar-title",[t._v("Tamanho Armação")]),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_rewind"},nativeOn:{click:function(o){return t.btAnterior(o)}}}),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_forward"},nativeOn:{click:function(o){return t.btProximo(o)}}})],1),e("q-toolbar",{attrs:{color:"#eee","text-color":"dark"}},[e("campo",{staticClass:"campo",attrs:{tipo:"decimal",decimals:"2",suffix:"mm","rotulo-fixo":"Tamanho Armação"},model:{value:t.dbPupilometro.medidas.tamanhoArmacao,callback:function(o){t.$set(t.dbPupilometro.medidas,"tamanhoArmacao",o)},expression:"dbPupilometro.medidas.tamanhoArmacao"}})],1),e("img",{ref:"foto",staticClass:"Foto",attrs:{src:t.dbPupilometro.foto}}),e("q-resize-observable",{on:{resize:t.redimensiona}})],1)},z=[];w._withStripped=!0;var $=e("88db"),q={components:{Campo:$["a"]},data:function(){return{dbPupilometro:d["a"].pupilometro}},methods:{btProximo:function(){this.$emit("mudarTela","Olho")},btAnterior:function(){this.$emit("mudarTela","TamanhoFoto")},redimensiona:function(){var t=this.$refs.foto;t.style.position="absolute";var o=document.body.clientWidth-20,e=document.body.clientHeight-120-20;t.style.height=o>e?e+"px":o+"px",t.style.width=t.style.height,t.style.top="120px",t.style.left=(document.body.clientWidth-parseInt(t.style.width))/2+"px"}}},P=q,_=(e("37b3"),Object(p["a"])(P,w,z,!1,null,null,null));_.options.__file="Pupilometro03TamanhoArmacao.vue";var k=_.exports,F=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"telaOlho"}},[e("div",{ref:"quadro"},[e("img",{ref:"foto",staticClass:"Foto",attrs:{src:t.dbPupilometro.foto}}),e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.passo,expression:"passo===1"}],ref:"p1",attrs:{id:"p1"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.passo,expression:"passo===2"}],ref:"p2",attrs:{id:"p2"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:3===t.passo,expression:"passo===3"}],ref:"p3",attrs:{id:"p3"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:4===t.passo,expression:"passo===4"}],ref:"p4",attrs:{id:"p4"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:5===t.passo,expression:"passo===5"}],ref:"p5",attrs:{id:"p5"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:6===t.passo,expression:"passo===6"}],ref:"p6",attrs:{id:"p6"}})]),e("q-toolbar",{attrs:{color:"primary"}},[e("q-toolbar-title",[t._v(t._s(t.titulo))]),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_rewind"},nativeOn:{click:function(o){return t.btAnterior(o)}}}),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_forward"},nativeOn:{click:function(o){return t.btProximo(o)}}})],1),e("q-btn",{staticClass:"ZoomMais",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"zoom_in"},on:{click:function(o){t.zoomMais()}}}),e("q-btn",{staticClass:"ZoomMenos",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"zoom_out"},on:{click:function(o){t.zoomMenos()}}}),e("div",{directives:[{name:"touch-pan",rawName:"v-touch-pan.prevent",value:t.touch,expression:"touch",modifiers:{prevent:!0}}],staticClass:"ZonaTouch"}),e("div",{staticClass:"BaseBotoes"}),e("q-btn",{staticClass:"BtUp",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_up"},on:{click:function(o){t.moveu("up")}}}),e("q-btn",{staticClass:"BtDown",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_down"},on:{click:function(o){t.moveu("down")}}}),e("q-btn",{staticClass:"BtLeft",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_left"},on:{click:function(o){t.moveu("left")}}}),e("q-btn",{staticClass:"BtRight",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_right"},on:{click:function(o){t.moveu("right")}}}),e("q-resize-observable",{on:{resize:t.centralizaQuadroTela}})],1)},C=[];F._withStripped=!0;var O=e("3156"),T=e.n(O),B={data:function(){return{dbPupilometro:d["a"].pupilometro,sensor:{horizontal:0,vertical:0},foto:"",passo:1,isDown:!1,x:0,y:0,zoom:2,pinca:{scaling:!1},qtde:0}},computed:{titulo:function(){var t=[];return t[1]="Olho Direito",t[2]="Olho Direito",t[3]="Centro Olho Direito",t[4]="Olho Esquerdo",t[5]="Olho Esquerdo",t[6]="Centro Olho Esquerdo",t[this.passo]}},methods:{sleep:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(o){return setTimeout(o,t)})},desenha:function(){var t=this.$refs.quadro,o="scale(".concat(this.zoom,")");-1!==[1,2,3].indexOf(this.passo)?o+=" translateX(15%)":o+=" translateX(-15%)",t.style.transform=o},zoomMais:function(){this.zoom+=.01,this.desenha()},zoomMenos:function(){this.zoom-=.01,this.desenha()},touch:function(t){var o=this,e=0;try{e=t.evt.touches.length}catch(t){}if(this.qtde=e,this.pinca.scaling||2!==e&&(this.$refs["p"+this.passo].style.left=parseInt(this.$refs["p"+this.passo].style.left)+t.delta.x+"px",this.$refs["p"+this.passo].style.top=parseInt(this.$refs["p"+this.passo].style.top)+t.delta.y+"px"),this.pinca.scaling||2!==e||(this.pinca.zoom=Math.hypot(t.evt.touches[0].pageX-t.evt.touches[1].pageX,t.evt.touches[0].pageY-t.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&0===e&&setTimeout(function(){o.pinca.scaling=!1},250),this.pinca.scaling&&2===e)try{var i=Math.hypot(t.evt.touches[0].pageX-t.evt.touches[1].pageX,t.evt.touches[0].pageY-t.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+i/1e3,this.desenha()}catch(t){}},btProximo:function(){if(this.passo>=1&&this.passo<=5)return this.passo+=1,void this.desenha();6===this.passo&&(this.dbPupilometro.medidas.olhoDireito=T()({},this.dbPupilometro.medidas.olhoDireito,{superior:{top:parseFloat(this.$refs.p1.style.top),left:parseFloat(this.$refs.p1.style.left)},centroOlho:{top:parseFloat(this.$refs.p3.style.top),left:parseFloat(this.$refs.p3.style.left)},inferior:{top:parseFloat(this.$refs.p2.style.top),left:parseFloat(this.$refs.p2.style.left)}}),this.dbPupilometro.medidas.olhoEsquerdo=T()({},this.dbPupilometro.medidas.olhoEsquerdo,{superior:{top:parseFloat(this.$refs.p5.style.top),left:parseFloat(this.$refs.p5.style.left)},centroOlho:{top:parseFloat(this.$refs.p6.style.top),left:parseFloat(this.$refs.p6.style.left)},inferior:{top:parseFloat(this.$refs.p4.style.top),left:parseFloat(this.$refs.p4.style.left)}}),0===this.dbPupilometro.medidas.diagonal.p1.left&&(this.dbPupilometro.medidas.diagonal.p1.left=this.dbPupilometro.medidas.olhoEsquerdo.inferior.left,this.dbPupilometro.medidas.diagonal.p1.top=this.dbPupilometro.medidas.olhoEsquerdo.inferior.top,this.dbPupilometro.medidas.diagonal.p2.left=this.dbPupilometro.medidas.olhoEsquerdo.superior.left,this.dbPupilometro.medidas.diagonal.p2.top=this.dbPupilometro.medidas.olhoEsquerdo.superior.top),this.dbPupilometro.calcularDistancias(),this.$emit("mudarTela","Diagonal"))},btAnterior:function(){1!==this.passo?this.passo>=2&&this.passo<=6&&(this.passo-=1,this.desenha()):this.$emit("mudarTela","TamanhoArmacao")},moveu:function(t){var o=this.$refs["p"+this.passo];if("up"===t){var e=parseFloat(o.style.top)-1;e<0&&(e=0),o.style.top=e+"px"}if("down"===t&&(this.$refs["p"+this.passo].style.top=parseFloat(this.$refs["p"+this.passo].style.top)+1+"px"),"left"===t){var i=parseFloat(o.style.left)-1;i<0&&(i=0),o.style.left=i+"px"}"right"===t&&(this.$refs["p"+this.passo].style.left=parseFloat(this.$refs["p"+this.passo].style.left)+1+"px")},redimensiona:function(){var t=this.$refs.quadro;t.style.position="absolute";var o=document.body.clientWidth-20,e=document.body.clientHeight-60-20;this.zoom=o>e?e/1200:o/1200,this.zoom=2*this.zoom,t.style.top=(document.body.clientHeight-1200)/2+"px",t.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},centralizaQuadroTela:function(){var t=this.$refs.quadro;t.style.position="absolute",t.style.top=(document.body.clientHeight-1200)/2+"px",t.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()}},mounted:function(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="1200px",this.$refs.quadro.style.height="1200px";var t=this.dbPupilometro.medidas;this.$refs.p1.style.top=t.olhoDireito.superior.top+"px",this.$refs.p1.style.left=t.olhoDireito.superior.left+"px",this.$refs.p3.style.top=t.olhoDireito.centroOlho.top+"px",this.$refs.p3.style.left=t.olhoDireito.centroOlho.left+"px",this.$refs.p2.style.top=t.olhoDireito.inferior.top+"px",this.$refs.p2.style.left=t.olhoDireito.inferior.left+"px",this.$refs.p5.style.top=t.olhoEsquerdo.superior.top+"px",this.$refs.p5.style.left=t.olhoEsquerdo.superior.left+"px",this.$refs.p6.style.top=t.olhoEsquerdo.centroOlho.top+"px",this.$refs.p6.style.left=t.olhoEsquerdo.centroOlho.left+"px",this.$refs.p4.style.top=t.olhoEsquerdo.inferior.top+"px",this.$refs.p4.style.left=t.olhoEsquerdo.inferior.left+"px",this.redimensiona()}},D=B,M=(e("9c90"),Object(p["a"])(D,F,C,!1,null,"f960eebc",null));M.options.__file="Pupilometro04Olho.vue";var A=M.exports,E=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"telaBifocal"}},[e("div",{ref:"quadro"},[e("img",{directives:[{name:"touch-pan",rawName:"v-touch-pan.prevent",value:t.touch,expression:"touch",modifiers:{prevent:!0}}],ref:"foto",staticClass:"Foto",attrs:{src:t.dbPupilometro.foto}}),e("div",{ref:"p2",staticClass:"text-primary",attrs:{id:"p2"}},[e("q-icon",{directives:[{name:"touch-pan",rawName:"v-touch-pan.prevent",value:t.touchP2,expression:"touchP2",modifiers:{prevent:!0}}],staticStyle:{"font-size":"4rem"},attrs:{name:"open_with"}})],1),e("div",{ref:"p1",staticClass:"text-primary",attrs:{id:"p1"}},[e("q-icon",{directives:[{name:"touch-pan",rawName:"v-touch-pan.prevent",value:t.touchP1,expression:"touchP1",modifiers:{prevent:!0}}],staticStyle:{"font-size":"4rem"},attrs:{name:"open_with"}}),e("div",[t._v(t._s(t._f("numero")(t.dbPupilometro.medidas.diagonal.distancia,1))+" mm")])],1)]),e("q-toolbar",{attrs:{color:"primary"}},[e("q-toolbar-title",[t._v("Diagonal")]),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_rewind"},nativeOn:{click:function(o){return t.btAnterior(o)}}}),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_forward"},nativeOn:{click:function(o){return t.btProximo(o)}}})],1),e("q-btn",{staticClass:"ZoomMais",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"zoom_in"},on:{click:function(o){t.zoomMais()}}}),e("q-btn",{staticClass:"ZoomMenos",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"zoom_out"},on:{click:function(o){t.zoomMenos()}}}),e("q-btn",{staticClass:"Bt1Up",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_up"},on:{click:function(o){t.moveu("Bt1Up")}}}),e("q-btn",{staticClass:"Bt1Down",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_down"},on:{click:function(o){t.moveu("Bt1Down")}}}),e("q-btn",{staticClass:"Bt1Left",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_left"},on:{click:function(o){t.moveu("Bt1Left")}}}),e("q-btn",{staticClass:"Bt1Right",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_right"},on:{click:function(o){t.moveu("Bt1Right")}}}),e("q-btn",{staticClass:"Bt2Up",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_up"},on:{click:function(o){t.moveu("Bt2Up")}}}),e("q-btn",{staticClass:"Bt2Down",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_down"},on:{click:function(o){t.moveu("Bt2Down")}}}),e("q-btn",{staticClass:"Bt2Left",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_left"},on:{click:function(o){t.moveu("Bt2Left")}}}),e("q-btn",{staticClass:"Bt2Right",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_right"},on:{click:function(o){t.moveu("Bt2Right")}}}),e("q-resize-observable",{on:{resize:t.centralizaQuadroTela}})],1)},I=[];E._withStripped=!0;var U={data:function(){return{dbPupilometro:d["a"].pupilometro,sensor:{horizontal:0,vertical:0},foto:"",passo:1,isDown:!1,x:0,y:0,zoom:.87,pinca:{scaling:!1}}},methods:{desenha:function(){var t=this.dbPupilometro.medidas;t.diagonal.distanciapx=Math.hypot(Math.abs(t.diagonal.p2.left-t.diagonal.p1.left),Math.abs(t.diagonal.p1.top-t.diagonal.p2.top)),t.diagonal.distancia=t.diagonal.distanciapx/t.fator,this.$refs.p1.style.left=t.diagonal.p1.left+"px",this.$refs.p1.style.top=t.diagonal.p1.top+"px",this.$refs.p2.style.left=t.diagonal.p2.left+"px",this.$refs.p2.style.top=t.diagonal.p2.top+"px",this.$refs.p2.style.height=t.diagonal.distanciapx+"px";var o=t.diagonal.p2.left-t.diagonal.p1.left;o=Math.asin(o/t.diagonal.distanciapx)*(180/Math.PI),this.$refs.p2.style.transform="rotate(".concat(o,"deg)"),this.$refs.p2.style["transform-origin"]="0% 0%";var e=document.querySelector("#p2 i").style;e.transform="rotate(-".concat(o,"deg)"),e["transform-origin"]="0% 0%";var i=this.$refs.quadro,a="scale(".concat(this.zoom.toFixed(2),")");i.style.transform=a},zoomMais:function(){this.zoom+=.01,this.desenha()},zoomMenos:function(){this.zoom-=.01,this.desenha()},touch:function(t){var o=this,e=0;try{e=t.evt.touches.length}catch(t){}if(this.qtde=e,this.pinca.scaling||2!==e&&Math.abs(t.delta.x+t.delta.y)<=20&&(this.$refs.quadro.style.left=parseFloat(this.$refs.quadro.style.left)+t.delta.x+"px",this.$refs.quadro.style.top=parseFloat(this.$refs.quadro.style.top)+t.delta.y+"px"),this.pinca.scaling||2!==e||(this.pinca.zoom=Math.hypot(t.evt.touches[0].pageX-t.evt.touches[1].pageX,t.evt.touches[0].pageY-t.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&0===e&&setTimeout(function(){o.pinca.scaling=!1},250),this.pinca.scaling&&2===e)try{var i=Math.hypot(t.evt.touches[0].pageX-t.evt.touches[1].pageX,t.evt.touches[0].pageY-t.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+i/1e3,this.$refs.quadro.style.transform="scale(".concat(this.zoom.toFixed(2),")")}catch(t){}},touchP:function(t,o){var e=0;try{e=t.evt.touches.length}catch(t){}this.pinca.scaling||2!==e&&(this.dbPupilometro.medidas.diagonal[o].top=this.dbPupilometro.medidas.diagonal[o].top+t.delta.y,this.dbPupilometro.medidas.diagonal[o].left=this.dbPupilometro.medidas.diagonal[o].left+t.delta.x,this.desenha())},touchP1:function(t){this.touchP(t,"p1")},touchP2:function(t){this.touchP(t,"p2")},btProximo:function(){this.dbPupilometro.calcularDistancias(),this.dbPupilometro.medidas.bifocal?this.$emit("mudarTela","Bifocal"):this.$emit("mudarTela","Medidas")},btAnterior:function(){this.$emit("mudarTela","Olho")},moveu:function(t){"Bt1Up"===t&&(this.dbPupilometro.medidas.diagonal.p1.top=this.dbPupilometro.medidas.diagonal.p1.top-1),"Bt1Down"===t&&(this.dbPupilometro.medidas.diagonal.p1.top=this.dbPupilometro.medidas.diagonal.p1.top+1),"Bt1Left"===t&&(this.dbPupilometro.medidas.diagonal.p1.left=this.dbPupilometro.medidas.diagonal.p1.left-1),"Bt1Right"===t&&(this.dbPupilometro.medidas.diagonal.p1.left=this.dbPupilometro.medidas.diagonal.p1.left+1),"Bt2Up"===t&&(this.dbPupilometro.medidas.diagonal.p2.top=this.dbPupilometro.medidas.diagonal.p2.top-1),"Bt2Down"===t&&(this.dbPupilometro.medidas.diagonal.p2.top=this.dbPupilometro.medidas.diagonal.p2.top+1),"Bt2Left"===t&&(this.dbPupilometro.medidas.diagonal.p2.left=this.dbPupilometro.medidas.diagonal.p2.left-1),"Bt2Right"===t&&(this.dbPupilometro.medidas.diagonal.p2.left=this.dbPupilometro.medidas.diagonal.p2.left+1),this.desenha()},redimensiona:function(){var t=this.$refs.quadro;t.style.position="absolute";var o=document.body.clientWidth-20,e=document.body.clientHeight-60-20;this.zoom=o>e?e/600:o/600,t.style.top=(document.body.clientHeight-1200)/2+"px",t.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},centralizaQuadroTela:function(){var t=this.$refs.quadro;t.style.position="absolute",t.style.top=(document.body.clientHeight-1200)/2+"px",t.style.left="-500px",this.desenha()}},mounted:function(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="1200px",this.$refs.quadro.style.height="1200px",this.redimensiona()}},R=U,S=(e("89fb"),Object(p["a"])(R,E,I,!1,null,"e822d054",null));S.options.__file="Pupilometro05Diagonal.vue";var N=S.exports,H=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"telaBifocal"}},[e("div",{ref:"quadro"},[e("img",{directives:[{name:"touch-pan",rawName:"v-touch-pan.prevent",value:t.touch,expression:"touch",modifiers:{prevent:!0}}],ref:"foto",staticClass:"Foto",attrs:{src:t.dbPupilometro.foto}}),e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.passo,expression:"passo===1"}],ref:"p1",attrs:{id:"p1"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.passo,expression:"passo===2"}],ref:"p2",attrs:{id:"p2"}}),e("div",{ref:"odbifocal",attrs:{id:"odbifocal"}},[e("div"),e("div"),e("div")]),e("div",{ref:"oebifocal",attrs:{id:"oebifocal"}},[e("div"),e("div"),e("div")])]),e("q-toolbar",{attrs:{color:"primary"}},[e("q-toolbar-title",[t._v("Bifocal")]),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_rewind"},nativeOn:{click:function(o){return t.btAnterior(o)}}}),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_forward"},nativeOn:{click:function(o){return t.btProximo(o)}}})],1),e("q-btn",{staticClass:"ZoomMais",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"zoom_in"},on:{click:function(o){t.zoomMais()}}}),e("q-btn",{staticClass:"ZoomMenos",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"zoom_out"},on:{click:function(o){t.zoomMenos()}}}),e("q-btn",{staticClass:"BtOdUp",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_up"},on:{click:function(o){t.moveu("od-up")}}}),e("q-btn",{staticClass:"BtOdDown",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_down"},on:{click:function(o){t.moveu("od-down")}}}),e("q-btn",{staticClass:"BtOeUp",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_up"},on:{click:function(o){t.moveu("oe-up")}}}),e("q-btn",{staticClass:"BtOeDown",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"keyboard_arrow_down"},on:{click:function(o){t.moveu("oe-down")}}}),e("q-resize-observable",{on:{resize:t.centralizaQuadroTela}})],1)},Q=[];H._withStripped=!0;var L={data:function(){return{dbPupilometro:d["a"].pupilometro,sensor:{horizontal:0,vertical:0},foto:"",passo:1,isDown:!1,x:0,y:0,zoom:1.6,pinca:{scaling:!1}}},methods:{sleep:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(o){return setTimeout(o,t)})},desenha:function(){var t=this.dbPupilometro.medidas;this.$refs.odbifocal.style.height=t.olhoDireito.bifocalAltura+"px",this.$refs.odbifocal.style.left=t.olhoDireito.centroOlho.left+"px",this.$refs.odbifocal.style.top=t.olhoDireito.inferior.top-t.olhoDireito.bifocalAltura+"px",this.$refs.oebifocal.style.height=t.olhoEsquerdo.bifocalAltura+"px",this.$refs.oebifocal.style.left=t.olhoEsquerdo.centroOlho.left+"px",this.$refs.oebifocal.style.top=t.olhoEsquerdo.inferior.top-t.olhoEsquerdo.bifocalAltura+"px";var o=this.$refs.quadro,e="scale(".concat(this.zoom.toFixed(2),")");o.style.transform=e},zoomMais:function(){this.zoom+=.01,this.desenha()},zoomMenos:function(){this.zoom-=.01,this.desenha()},touch:function(t){var o=this,e=0;try{e=t.evt.touches.length}catch(t){}if(this.qtde=e,this.pinca.scaling||2!==e||(this.pinca.zoom=Math.hypot(t.evt.touches[0].pageX-t.evt.touches[1].pageX,t.evt.touches[0].pageY-t.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&0===e&&setTimeout(function(){o.pinca.scaling=!1},250),this.pinca.scaling&&2===e)try{var i=Math.hypot(t.evt.touches[0].pageX-t.evt.touches[1].pageX,t.evt.touches[0].pageY-t.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+i/1e3,this.$refs.quadro.style.transform="scale(".concat(this.zoom.toFixed(2),")")}catch(t){}},btProximo:function(){this.dbPupilometro.calcularDistancias(),this.$emit("mudarTela","Medidas")},btAnterior:function(){this.$emit("mudarTela","Diagonal")},moveu:function(t){"od-up"===t&&(this.dbPupilometro.medidas.olhoDireito.bifocalAltura=this.dbPupilometro.medidas.olhoDireito.bifocalAltura+1,this.desenha()),"od-down"===t&&(this.dbPupilometro.medidas.olhoDireito.bifocalAltura=this.dbPupilometro.medidas.olhoDireito.bifocalAltura-1,this.desenha()),"oe-up"===t&&(this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura=this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura+1,this.desenha()),"oe-down"===t&&(this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura=this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura-1,this.desenha())},redimensiona:function(){var t=this.$refs.quadro;t.style.position="absolute";var o=document.body.clientWidth-20,e=document.body.clientHeight-60-20;this.zoom=o>e?e/1200:o/1200,t.style.top=(document.body.clientHeight-1200)/2+"px",t.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},centralizaQuadroTela:function(){var t=this.$refs.quadro;t.style.position="absolute",t.style.top=(document.body.clientHeight-1200)/2+"px",t.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()}},mounted:function(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="1200px",this.$refs.quadro.style.height="1200px",this.redimensiona()}},X=L,Y=(e("5aa9"),Object(p["a"])(X,H,Q,!1,null,"7dd66c43",null));Y.options.__file="Pupilometro06Bifocal.vue";var W=Y.exports,Z=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"telaMedidas"}},[e("div",{ref:"quadro",staticClass:"Quadro"},[e("img",{directives:[{name:"touch-pan",rawName:"v-touch-pan.prevent.stop",value:t.touch,expression:"touch",modifiers:{prevent:!0,stop:!0}}],ref:"foto",staticClass:"Foto",attrs:{src:t.dbPupilometro.foto}}),e("div",{ref:"ods",attrs:{id:"ods"}}),e("div",{ref:"odi",attrs:{id:"odi"}}),e("div",{ref:"odc",attrs:{id:"odc"}}),e("div",{ref:"oei",attrs:{id:"oei"}}),e("div",{ref:"oes",attrs:{id:"oes"}}),e("div",{ref:"oec",attrs:{id:"oec"}}),e("div",{ref:"tamanhoarmacao",attrs:{id:"tamanhoarmacao"}},[e("div",[t._v(t._s(t._f("numero")(t.dbPupilometro.medidas.tamanhoArmacao,1)))]),e("div"),e("div")]),e("div",{ref:"ponte",attrs:{id:"ponte"}},[e("div",[t._v(t._s(t._f("numero")(t.dbPupilometro.medidas.ponte,1)))]),e("div"),e("div")]),e("div",{ref:"diptotal",attrs:{id:"diptotal"}},[e("div",[t._v(t._s(t._f("numero")(t.dbPupilometro.medidas.dip.total,1)))]),e("div"),e("div")]),e("div",{ref:"dnpOd",staticClass:"medidaHorizontal",attrs:{id:"dnpOd"}},[e("div",[t._v(t._s(t._f("numero")(t.dbPupilometro.medidas.dnp.od,1)))]),e("div"),e("div")]),e("div",{ref:"dnpOe",staticClass:"medidaHorizontal",attrs:{id:"dnpOe"}},[e("div",[t._v(t._s(t._f("numero")(t.dbPupilometro.medidas.dnp.oe,1)))]),e("div"),e("div")]),e("div",{ref:"odaltura",attrs:{id:"odaltura"}},[e("div",[t._v(t._s(t._f("numero")(t.dbPupilometro.medidas.dip.od.altura,1)))]),e("div"),e("div")]),e("div",{ref:"oealtura",attrs:{id:"oealtura"}},[e("div",[t._v(t._s(t._f("numero")(t.dbPupilometro.medidas.dip.oe.altura,1)))]),e("div"),e("div")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.dbPupilometro.medidas.bifocal,expression:"dbPupilometro.medidas.bifocal"}],ref:"odbifocal",attrs:{id:"odbifocal"}},[e("div",[t._v(t._s(t._f("numero")(t.dbPupilometro.medidas.bifocalOlhoDireito,1)))]),e("div"),e("div")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.dbPupilometro.medidas.bifocal,expression:"dbPupilometro.medidas.bifocal"}],ref:"oebifocal",attrs:{id:"oebifocal"}},[e("div",[t._v(t._s(t._f("numero")(t.dbPupilometro.medidas.bifocalOlhoEsquerdo,1)))]),e("div"),e("div")]),e("div",{ref:"oddiagonal",staticClass:"medidaVerticalAzul",attrs:{id:"oddiagonal"}},[e("div",[t._v(t._s(t._f("numero")(t.dbPupilometro.medidas.diagonal.distancia,1)))]),e("div"),e("div")])]),e("q-toolbar",{attrs:{color:"primary"}},[e("q-toolbar-title",[t._v("Medidas")]),e("q-btn",{directives:[{name:"show",rawName:"v-show",value:!t.somenteLeitura,expression:"!somenteLeitura"}],attrs:{flat:"",round:"",dense:"",icon:"fast_rewind"},nativeOn:{click:function(o){return t.btAnterior(o)}}}),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_forward"},nativeOn:{click:function(o){return t.btProximo(o)}}})],1),e("q-btn",{staticClass:"ZoomMais",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"zoom_in"},on:{click:function(o){t.zoomMais()}}}),e("q-btn",{staticClass:"ZoomMenos",attrs:{"repeat-timeout":50,color:"primary",size:"md",round:"",icon:"zoom_out"},on:{click:function(o){t.zoomMenos()}}}),e("q-btn",{directives:[{name:"show",rawName:"v-show",value:!t.somenteLeitura,expression:"!somenteLeitura"}],staticClass:"Bifocal",attrs:{color:"primary",label:"Bifocal"},on:{click:t.btBifocal}}),e("q-resize-observable",{on:{resize:t.centralizaQuadroTela}})],1)},j=[];Z._withStripped=!0;var V={data:function(){return{dbPupilometro:d["a"].pupilometro,foto:"",isDown:!1,x:0,y:0,zoom:1.6,zoomAnt:0,pinca:{scaling:!1},tela:{},qtde:0}},watch:{"dbPupilometro.medidas.bifocal":function(){this.dbPupilometro.medidas.bifocal&&!this.somenteLeitura&&this.$emit("mudarTela","Bifocal")}},methods:{desenha:function(){try{var t=this.dbPupilometro.medidas;this.$refs.ods.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top+"px",this.$refs.ods.style.left=this.dbPupilometro.medidas.olhoDireito.superior.left+"px",this.$refs.odi.style.top=this.dbPupilometro.medidas.olhoDireito.inferior.top+"px",this.$refs.odi.style.left=this.dbPupilometro.medidas.olhoDireito.inferior.left+"px",this.$refs.odc.style.top=this.dbPupilometro.medidas.olhoDireito.centroOlho.top+"px",this.$refs.odc.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.oes.style.top=this.dbPupilometro.medidas.olhoEsquerdo.superior.top+"px",this.$refs.oes.style.left=this.dbPupilometro.medidas.olhoEsquerdo.superior.left+"px",this.$refs.oei.style.top=this.dbPupilometro.medidas.olhoEsquerdo.inferior.top+"px",this.$refs.oei.style.left=this.dbPupilometro.medidas.olhoEsquerdo.inferior.left+"px",this.$refs.oec.style.top=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.top+"px",this.$refs.oec.style.left=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.left+"px",this.$refs.tamanhoarmacao.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top-120+"px",this.$refs.tamanhoarmacao.style.left=this.dbPupilometro.medidas.olhoDireito.superior.left+"px",this.$refs.tamanhoarmacao.style.width=this.dbPupilometro.medidas.olhoEsquerdo.superior.left-this.dbPupilometro.medidas.olhoDireito.superior.left+"px",this.$refs.diptotal.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top-80+"px",this.$refs.diptotal.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.diptotal.style.width=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.left-this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.dnpOd.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top-40+"px",this.$refs.dnpOd.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.dnpOd.style.width=t.tamanhoArmacaoPx/2-(t.olhoDireito.centroOlho.left-t.olhoDireito.superior.left)+"px",this.$refs.dnpOe.style.top=this.dbPupilometro.medidas.olhoEsquerdo.superior.top-40+"px",this.$refs.dnpOe.style.width=this.dbPupilometro.medidas.tamanhoArmacaoPx/2-(t.olhoEsquerdo.superior.left-t.olhoEsquerdo.centroOlho.left)+"px",this.$refs.dnpOe.style.left=this.dbPupilometro.medidas.olhoEsquerdo.superior.left-this.dbPupilometro.medidas.tamanhoArmacaoPx/2+"px",this.$refs.ponte.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top+30+"px",this.$refs.ponte.style.left=this.dbPupilometro.medidas.olhoDireito.inferior.left+"px",this.$refs.ponte.style.width=this.dbPupilometro.medidas.olhoEsquerdo.inferior.left-this.dbPupilometro.medidas.olhoDireito.inferior.left+"px",this.$refs.odaltura.style.top=this.dbPupilometro.medidas.olhoDireito.centroOlho.top+"px",this.$refs.odaltura.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left-60+"px",this.$refs.odaltura.style.height=this.dbPupilometro.medidas.olhoDireito.inferior.top-this.dbPupilometro.medidas.olhoDireito.centroOlho.top+"px",this.$refs.oealtura.style.top=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.top+"px",this.$refs.oealtura.style.left=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.left+60+"px",this.$refs.oealtura.style.height=this.dbPupilometro.medidas.olhoEsquerdo.inferior.top-this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.top+"px",this.$refs.odbifocal.style.height=t.olhoDireito.bifocalAltura+"px",this.$refs.odbifocal.style.left=t.olhoDireito.centroOlho.left+"px",this.$refs.odbifocal.style.top=t.olhoDireito.inferior.top-t.olhoDireito.bifocalAltura+"px",this.$refs.oebifocal.style.height=t.olhoEsquerdo.bifocalAltura+"px",this.$refs.oebifocal.style.left=t.olhoEsquerdo.centroOlho.left+"px",this.$refs.oebifocal.style.top=t.olhoEsquerdo.inferior.top-t.olhoEsquerdo.bifocalAltura+"px",this.$refs.oddiagonal.style.height=t.diagonal.distanciapx+"px",this.$refs.oddiagonal.style.left=t.diagonal.p2.left+"px",this.$refs.oddiagonal.style.top=t.diagonal.p2.top+"px";var o=t.diagonal.p2.left-t.diagonal.p1.left;o=Math.asin(o/t.diagonal.distanciapx)*(180/Math.PI),this.$refs.oddiagonal.style.transform="rotate(".concat(o,"deg)"),this.$refs.oddiagonal.style["transform-origin"]="0% 0%",document.querySelector("#oddiagonal div:nth-child(1)").style.transform="rotate(-".concat(o,"deg)");var e=this.$refs.quadro,i="scale(".concat(this.zoom.toFixed(2),")");e.style.transform=i}catch(t){console.log(t)}},redimensiona:function(){var t=this.$refs.quadro;t.style.position="absolute";var o={clientWidth:document.body.clientWidth,clientHeight:document.body.clientHeight};if(JSON.stringify(this.tela)!==JSON.stringify(o)){this.tela=o;var e=document.body.clientWidth-20,i=document.body.clientHeight-60-20;this.zoom=e>i?i/1200:e/1200}t.style.top=(document.body.clientHeight-1200)/2+"px",t.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},centralizaQuadroTela:function(){var t=this.$refs.quadro;t.style.position="absolute",t.style.top=(document.body.clientHeight-1200)/2+"px",t.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},zoomMais:function(){this.zoom+=.01,this.$refs.quadro.style.transform="scale(".concat(this.zoom.toFixed(2),")")},zoomMenos:function(){this.zoom-=.01,this.$refs.quadro.style.transform="scale(".concat(this.zoom.toFixed(2),")")},btBifocal:function(){this.dbPupilometro.medidas.bifocal=!this.dbPupilometro.medidas.bifocal,this.dbPupilometro.medidas.bifocal&&this.$emit("mudarTela","Bifocal")},touch:function(t){var o=this,e=0;try{e=t.evt.touches.length}catch(t){}if(this.qtde=e,this.pinca.scaling||2!==e&&Math.abs(t.delta.x+t.delta.y)<=20&&(this.$refs.quadro.style.left=parseFloat(this.$refs.quadro.style.left)+t.delta.x+"px",this.$refs.quadro.style.top=parseFloat(this.$refs.quadro.style.top)+t.delta.y+"px"),this.pinca.scaling||2!==e||(this.pinca.zoom=Math.hypot(t.evt.touches[0].pageX-t.evt.touches[1].pageX,t.evt.touches[0].pageY-t.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&0===e&&setTimeout(function(){o.pinca.scaling=!1},250),this.pinca.scaling&&2===e)try{var i=Math.hypot(t.evt.touches[0].pageX-t.evt.touches[1].pageX,t.evt.touches[0].pageY-t.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+i/1e3,this.$refs.quadro.style.transform="scale(".concat(this.zoom.toFixed(2),")")}catch(t){}},btProximo:function(){this.$emit("mudarTela","Fim")},btAnterior:function(){this.dbPupilometro.medidas.bifocal?this.$emit("mudarTela","Bifocal"):this.$emit("mudarTela","Diagonal")}},props:{somenteLeitura:Boolean},mounted:function(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.redimensiona()}},J=V,G=(e("fd7a"),Object(p["a"])(J,Z,j,!1,null,"64122ef7",null));G.options.__file="Pupilometro07Medidas.vue";var K=G.exports,tt=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("q-toolbar",{attrs:{color:"primary"}},[e("q-toolbar-title",[t._v("Palpebra")]),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_rewind"},nativeOn:{click:function(o){return t.btAnterior(o)}}}),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fast_forward"},nativeOn:{click:function(o){return t.btProximo(o)}}})],1),e("pre",[t._v(t._s(JSON.stringify(t.dbPupilometro.medidas,null,2)))])],1)},ot=[];tt._withStripped=!0;var et={data:function(){return{dbPupilometro:d["a"].pupilometro}},methods:{btProximo:function(){this.$emit("mudarTela","Medidas")},btAnterior:function(){this.$emit("mudarTela","Medidas")}}},it=et,at=Object(p["a"])(it,tt,ot,!1,null,null,null);at.options.__file="Pupilometro08Palpebra.vue";var st=at.exports,rt={components:{TirarFoto:m,TamanhoFoto:x,TamanhoArmacao:k,Olho:A,Diagonal:N,Bifocal:W,Medidas:K,Palpebra:st},data:function(){return{tela:""}},methods:{mudarTela:function(){var t=r()(regeneratorRuntime.mark(function t(o){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if("Fim"!==o){t.next=3;break}return this.$emit("fecharModal"),t.abrupt("return");case 3:if(this.tela=o,"Olho"!==o){t.next=8;break}return t.next=7,new Promise(function(t){return setTimeout(t,500)});case 7:this.$refs.Olho.desenha();case 8:if("Medidas"!==o){t.next=12;break}return t.next=11,new Promise(function(t){return setTimeout(t,500)});case 11:this.$refs.Medidas.desenha();case 12:case"end":return t.stop()}},t,this)}));return function(o){return t.apply(this,arguments)}}(),upload:function(){this.$refs.TamanhoFoto.uploadClick()}},props:{avancar:String,somenteLeitura:Boolean},created:function(){this.tela=this.avancar||"TirarFoto"}},nt=rt,lt=Object(p["a"])(nt,i,a,!1,null,null,null);lt.options.__file="Pupilometro.vue";o["default"]=lt.exports},"4ed2":function(t,o,e){},"5aa9":function(t,o,e){"use strict";var i=e("afaf"),a=e.n(i);a.a},"66d3":function(t,o,e){},"6b7f":function(t,o,e){"use strict";var i=e("cb39"),a=e.n(i);a.a},"89fb":function(t,o,e){"use strict";var i=e("08a7"),a=e.n(i);a.a},"9c90":function(t,o,e){"use strict";var i=e("66d3"),a=e.n(i);a.a},afaf:function(t,o,e){},baf6:function(t,o,e){},cb39:function(t,o,e){},d574:function(t,o,e){},e288:function(t,o,e){"use strict";var i=e("d574"),a=e.n(i);a.a},fd7a:function(t,o,e){"use strict";var i=e("baf6"),a=e.n(i);a.a}}]);