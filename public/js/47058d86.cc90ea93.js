(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["47058d86"],{4490:function(a,e,o){"use strict";o.r(e);var t=function(){var a=this,e=a.$createElement,o=a._self._c||e;return a.campos&&a.campos.id?o("form",{staticClass:"ItemFicha",on:{submit:function(e){return e.preventDefault(),a.salvarItem(e)}}},[o("q-card",{staticClass:"row gutter-x-sm bg-white q-px-md q-py-lg no-shadow"},[o("div",{staticClass:"col-12 col-md-3 text-center"},[o("avatar",{attrs:{imagem:a.campos.imagem,tamanho:"160",rotulo:a.campos.descricao},nativeOn:{click:function(e){return a.abrirModalFoto(e)}}})],1),o("div",{staticClass:"col-12 col-md-6"},[o("div",{staticClass:"text-right"},[o("badge",{attrs:{cor:a.badgeCor,escuro:""}},[a._v("#"+a._s((a.campos.codigoItem||0).toString().padStart(6,"0")))])],1),a.temDescricaoConcatenada?o("div",[a._v(a._s(a.descricaoConcatenada))]):a._e(),o("campo",a._b({staticClass:"col-12",attrs:{autofocus:"",erro:a.$v.campos.descricao.$error},on:{blur:a.$v.campos.descricao.$touch},model:{value:a.campos.descricao,callback:function(e){a.$set(a.campos,"descricao","string"===typeof e?e.trim():e)},expression:"campos.descricao"}},"campo",a.meta.descricao,!1)),o("div",{staticClass:"row gutter-x-sm"},[o("campo",a._b({staticClass:"col-12 col-md-6",attrs:{filter:"",opcoes:a.opcoesMarca,after:[{icon:"add_circle",handler:function(){a.abrirModalMarca()}}]},nativeOn:{click:function(e){return a.leOpcoesMarca(e)}},model:{value:a.campos.marca,callback:function(e){a.$set(a.campos,"marca",e)},expression:"campos.marca"}},"campo",a.meta.marca,!1)),o("campo",a._b({staticClass:"col-12 col-md-6",attrs:{opcoes:a.opcoesTipo},model:{value:a.campos.tipo,callback:function(e){a.$set(a.campos,"tipo",e)},expression:"campos.tipo"}},"campo",a.meta.tipo,!1))],1),o("div",{staticClass:"row gutter-x-sm"},[o("campo",a._b({staticClass:"col-12 col-md-6",attrs:{erro:a.$v.campos.referencia.$error},on:{blur:a.$v.campos.referencia.$touch},model:{value:a.campos.referencia,callback:function(e){a.$set(a.campos,"referencia","string"===typeof e?e.trim():e)},expression:"campos.referencia"}},"campo",a.meta.referencia,!1)),o("campo",a._b({directives:[{name:"mask",rawName:"v-mask",value:"##############",expression:"'##############'"}],staticClass:"col-12 col-md-6",on:{blur:a.completarCodigoBarras},model:{value:a.campos.codigoBarras,callback:function(e){a.$set(a.campos,"codigoBarras","string"===typeof e?e.trim():e)},expression:"campos.codigoBarras"}},"campo",a.meta.codigoBarras,!1))],1),"Serviço"!=a.campos.tipo?o("div",{staticClass:"row gutter-x-sm"},[o("q-field",{staticClass:"col-12 col-md-6",attrs:{helper:a.descricaoNcm,warning:!a.campos.ncm,"warning-label":"Preenchimento necessário para venda"}},[o("q-search",{attrs:{"float-label":"NCM","no-icon":""},on:{blur:a.conferirNcm},model:{value:a.campos.ncm,callback:function(e){a.$set(a.campos,"ncm",e)},expression:"campos.ncm"}},[o("q-autocomplete",{attrs:{"min-characters":2,"max-results":5,"value-field":function(a){return""+a.label}},on:{search:a.buscarNcm,selected:a.selecionarNcm}})],1)],1),o("SeletorCest",{staticClass:"col-12 col-md-6",attrs:{ncm:a.campos.ncm},model:{value:a.campos.cest,callback:function(e){a.$set(a.campos,"cest",e)},expression:"campos.cest"}})],1):a._e(),o("div",{staticClass:"q-mt-md q-mb-sm col-12 q-title"},[a._v("Valores")]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-md-4"},[o("div",{staticClass:"row"},[o("campo",a._b({staticClass:"col-8",attrs:{ajuda:a.utilizaComposicaoValorReposicaoInvertido?"":"Total da composição",disable:!a.utilizaComposicaoValorReposicaoInvertido,readonly:!a.utilizaComposicaoValorReposicaoInvertido},model:{value:a.campos.valorCustoReposicao,callback:function(e){a.$set(a.campos,"valorCustoReposicao",e)},expression:"campos.valorCustoReposicao"}},"campo",a.meta.valorCustoReposicao,!1)),o("q-field",{staticClass:"col-4"},[o("q-toggle",{model:{value:a.utilizaComposicaoValorReposicaoInvertido,callback:function(e){a.utilizaComposicaoValorReposicaoInvertido=e},expression:"utilizaComposicaoValorReposicaoInvertido"}})],1)],1)]),o("div",{staticClass:"col-12 col-md-4"},[o("div",{staticClass:"row"},[o("campo",a._b({staticClass:"col-8",attrs:{disable:a.utilizaMarkupInvertido,readonly:a.utilizaMarkupInvertido},model:{value:a.campos.percentualMarkup,callback:function(e){a.$set(a.campos,"percentualMarkup",e)},expression:"campos.percentualMarkup"}},"campo",a.meta.percentualMarkup,!1)),o("q-field",{staticClass:"col-4"},[o("q-toggle",{model:{value:a.utilizaMarkupInvertido,callback:function(e){a.utilizaMarkupInvertido=e},expression:"utilizaMarkupInvertido"}})],1)],1)]),o("campo",a._b({staticClass:"col-12 col-md-4",attrs:{disable:!a.utilizaMarkupInvertido,readonly:!a.utilizaMarkupInvertido},on:{blur:a.atualizarTabelasPreco},model:{value:a.campos.valorVenda,callback:function(e){a.$set(a.campos,"valorVenda",e)},expression:"campos.valorVenda"}},"campo",a.meta.valorVenda,!1))],1),(a.tabelasPreco||[]).length>1?[o("div",{staticClass:"q-mt-md q-mb-sm col-12 q-title"},[a._v("Tabelas de Preço")]),o("div",{staticClass:"row"},[o("q-list",{staticClass:"col-12",attrs:{link:"","no-border":""}},a._l(a.tabelasPreco,function(e){return o("q-item",{key:e.id,staticClass:"q-pl-none q-pr-none",attrs:{link:"",tag:"label"}},[o("q-item-main",{attrs:{label:e.descricao}}),o("q-item-side",[o("q-toggle",{on:{input:function(o){a.atualizarTabelaPreco(e.id)}},model:{value:e.habilitada,callback:function(o){a.$set(e,"habilitada",o)},expression:"tabela.habilitada"}})],1),o("div",{staticClass:"q-pl-sm q-pr-sm"},[o("campo",a._b({attrs:{disable:!e.habilitada,readonly:!e.habilitada},model:{value:e.maximoDesconto,callback:function(o){a.$set(e,"maximoDesconto",o)},expression:"tabela.maximoDesconto"}},"campo",{rotulo:"Desc. Máximo (%)",tipo:"decimal",decimals:"2"},!1))],1),o("div",{staticClass:"q-pl-sm"},[o("campo",a._b({attrs:{disable:!e.habilitada,readonly:!e.habilitada},model:{value:e.valorVenda,callback:function(o){a.$set(e,"valorVenda",o)},expression:"tabela.valorVenda"}},"campo",{rotulo:"Valor de venda",tipo:"decimal",decimals:"2"},!1))],1)],1)}))],1)]:a._e()],2),o("div",{staticClass:"col-12 col-md-3"},[o("q-list",{staticClass:"bg-light no-border"},[o("q-list-header",[a._v("Estoque / Custos")]),o("q-scroll-area",{staticStyle:{height:"230px"},attrs:{"thumb-style":{background:"#0277bd",width:"5px",opacity:"1 !important"}}},[a._l(a.estoquePorEmpresa,function(e){return o("q-item",{key:e.idEmpresa},[o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[a._v(a._s(e.nomeEmpresa))]),a._l(e.estoquePorLote,function(e,t){return o("div",{key:t},[o("q-item-tile",{attrs:{sublabel:""}},[o("div",{staticClass:"row q-pb-sm"},[a._v("Lote "+a._s(e.loteEmpresa||"-"))]),o("div",{staticClass:"row q-caption text-weight-bold text-center items-center"},[o("div",{staticClass:"col-3"},[a._v("Saldo")]),o("div",{staticClass:"col-3"},[a._v("Custo Médio")]),o("div",{staticClass:"col-3"},[a._v("Custo Real")]),o("div",{staticClass:"col-3"},[a._v("Custo Anterior")])])]),o("q-item-separator",{staticClass:"q-my-xs"}),o("q-item-tile",{attrs:{sublabel:""}},[o("div",{staticClass:"row q-caption text-center"},[o("div",{staticClass:"col-3"},[a._v(a._s(a._f("numero")(e.saldo,2)))]),o("div",{staticClass:"col-3"},[a._v(a._s(a._f("numero")(e.valorCustoMedio,2)))]),o("div",{staticClass:"col-3"},[a._v(a._s(a._f("numero")(e.valorCusto,2)))]),o("div",{staticClass:"col-3"},[a._v(a._s(a._f("numero")(e.valorCustoAnterior,2)))])])]),o("q-item-separator"),o("q-item-tile",{attrs:{sublabel:""}})],1)})],2)],1)}),0===a.estoquePorEmpresa.length?o("q-item",[o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[a._v("Sem informação de estoque")])],1)],1):a._e()],2)],1)],1)]),a.temArmacao?o("q-card",{staticClass:"bg-white gutter-x-md q-my-md q-px-md q-py-md no-shadow items-center justify-around row"},[o("q-toolbar-title",{staticClass:"q-mb-sm col-12"},[a._v("Armação")]),o("div",{staticClass:"col-12 col-md-5"},[o("div",{staticClass:"gutter-x-sm items-end justify-around row"},[o("div",{staticClass:"col-6 col-md-2"},[o("div",{staticClass:"row"},[o("img",{staticStyle:{height:"100%",width:"100%"},attrs:{src:"statics/images/icon-haste.svg"}})]),o("div",{staticClass:"row"},[o("campo",a._b({model:{value:a.campos.haste,callback:function(e){a.$set(a.campos,"haste",e)},expression:"campos.haste"}},"campo",a.meta.haste,!1))],1)]),o("div",{staticClass:"col-6 col-md-2"},[o("div",{staticClass:"row"},[o("img",{staticStyle:{height:"100%",width:"100%"},attrs:{src:"statics/images/icon-altura.svg"}})]),o("div",{staticClass:"row"},[o("campo",a._b({model:{value:a.campos.altura,callback:function(e){a.$set(a.campos,"altura",e)},expression:"campos.altura"}},"campo",a.meta.altura,!1))],1)]),o("div",{staticClass:"col-6 col-md-2"},[o("div",{staticClass:"row"},[o("img",{staticStyle:{height:"100%",width:"100%"},attrs:{src:"statics/images/icon-ponte.svg"}})]),o("div",{staticClass:"row"},[o("campo",a._b({model:{value:a.campos.ponte,callback:function(e){a.$set(a.campos,"ponte",e)},expression:"campos.ponte"}},"campo",a.meta.ponte,!1))],1)]),o("div",{staticClass:"col-6 col-md-2"},[o("div",{staticClass:"row"},[o("img",{staticStyle:{height:"100%",width:"100%"},attrs:{src:"statics/images/icon-tamanho.svg"}})]),o("div",{staticClass:"row"},[o("campo",a._b({model:{value:a.campos.largura,callback:function(e){a.$set(a.campos,"largura","string"===typeof e?e.trim():e)},expression:"campos.largura"}},"campo",a.meta.largura,!1))],1)]),o("div",{staticClass:"col-6 col-md-2"},[o("div",{staticClass:"row"},[o("img",{staticStyle:{height:"100%",width:"100%"},attrs:{src:"statics/images/icon-diagonal.svg"}})]),o("div",{staticClass:"row"},[o("campo",a._b({model:{value:a.campos.diagonal,callback:function(e){a.$set(a.campos,"diagonal",e)},expression:"campos.diagonal"}},"campo",a.meta.diagonal,!1))],1)])])]),o("div",{staticClass:"col-12 col-md-7"},[o("div",{staticClass:"gutter-x-sm gutter-y-xm row"},[o("campo",a._b({attrs:{filter:"",opcoes:a.opcoesGenero},model:{value:a.campos.genero,callback:function(e){a.$set(a.campos,"genero",e)},expression:"campos.genero"}},"campo",a.meta.genero,!1)),o("campo",a._b({staticClass:"col-12 col-md-6",attrs:{opcoes:a.opcoesArmacaoMaterial,after:[{icon:"add_circle",handler:function(){a.abrirModalArmacaoMaterial()}}],filter:""},nativeOn:{click:function(e){return a.leOpcoesArmacaoMaterial(e)}},model:{value:a.campos.armacaoMaterial,callback:function(e){a.$set(a.campos,"armacaoMaterial",e)},expression:"campos.armacaoMaterial"}},"campo",a.meta.armacaoMaterial,!1)),o("campo",a._b({staticClass:"col-12 col-md-6",attrs:{opcoes:a.opcoesTipoMontagem,after:[{icon:"add_circle",handler:function(){a.abrirModalTipoMontagem()}}],filter:""},nativeOn:{click:function(e){return a.leOpcoesTipoMontagem(e)}},model:{value:a.campos.tipoMontagem,callback:function(e){a.$set(a.campos,"tipoMontagem",e)},expression:"campos.tipoMontagem"}},"campo",a.meta.tipoMontagem,!1)),o("campo",a._b({staticClass:"col-12 col-md-6",model:{value:a.campos.modelo,callback:function(e){a.$set(a.campos,"modelo",e)},expression:"campos.modelo"}},"campo",a.meta.modelo,!1)),o("campo",a._b({staticClass:"col-12 col-md-6",attrs:{opcoes:a.opcoesArmacaoCor,after:[{icon:"add_circle",handler:function(){a.abrirModalArmacaoCor()}}],filter:""},nativeOn:{click:function(e){return a.leOpcoesArmacaoCor(e)}},model:{value:a.campos.amarcaoCor,callback:function(e){a.$set(a.campos,"amarcaoCor",e)},expression:"campos.amarcaoCor"}},"campo",a.meta.armacaoCor,!1))],1)])],1):a._e(),a.temLente?o("q-card",{staticClass:"bg-white gutter-x-md q-my-md q-px-md q-py-md no-shadow"},[o("q-toolbar-title",{staticClass:"q-mb-md col-12"},[a._v("Lente")]),o("div",{staticClass:"row gutter-x-sm"},[o("campo",a._b({staticClass:"col-12 col-md-6",attrs:{opcoes:a.opcoesMaterial,filter:"",after:[{icon:"add_circle",handler:function(){a.abrirModalMaterial()}}]},nativeOn:{click:function(e){return a.leOpcoesMaterial(e)}},model:{value:a.campos.material,callback:function(e){a.$set(a.campos,"material",e)},expression:"campos.material"}},"campo",a.meta.material,!1)),o("campo",a._b({staticClass:"col-12 col-md-6",attrs:{opcoes:a.opcoesCor,filter:"",after:[{icon:"add_circle",handler:function(){a.abrirModalCor()}}]},nativeOn:{click:function(e){return a.leOpcoesCor(e)}},model:{value:a.campos.cor,callback:function(e){a.$set(a.campos,"cor",e)},expression:"campos.cor"}},"campo",a.meta.cor,!1))],1),"Óculos Pronto"===a.campos.tipo?[o("div",{staticClass:"row"},[o("campo",a._b({staticClass:"col-6 col-md-2",model:{value:a.campos.esfericoInicial,callback:function(e){a.$set(a.campos,"esfericoInicial",e)},expression:"campos.esfericoInicial"}},"campo",a.meta.esfericoInicial,!1))],1)]:a._e(),"Lente"===a.campos.tipo?[o("div",{staticClass:"row gutter-x-sm"},[o("campo",a._b({staticClass:"col-6 col-md-2",model:{value:a.campos.esfericoInicial,callback:function(e){a.$set(a.campos,"esfericoInicial",e)},expression:"campos.esfericoInicial"}},"campo",a.meta.esfericoInicial,!1)),o("campo",a._b({staticClass:"col-6 col-md-2",model:{value:a.campos.esfericoFinal,callback:function(e){a.$set(a.campos,"esfericoFinal",e)},expression:"campos.esfericoFinal"}},"campo",a.meta.esfericoFinal,!1)),o("campo",a._b({staticClass:"col-6 col-md-2",model:{value:a.campos.cilindrico,callback:function(e){a.$set(a.campos,"cilindrico",e)},expression:"campos.cilindrico"}},"campo",a.meta.cilindrico,!1))],1),o("div",{staticClass:"row gutter-x-sm"},["Monofocal"!==a.campos.lenteTipo?[o("campo",a._b({staticClass:"col-6 col-md-2",model:{value:a.campos.adicaoInicial,callback:function(e){a.$set(a.campos,"adicaoInicial",e)},expression:"campos.adicaoInicial"}},"campo",a.meta.adicaoInicial,!1)),o("campo",a._b({staticClass:"col-6 col-md-2",model:{value:a.campos.adicaoFinal,callback:function(e){a.$set(a.campos,"adicaoFinal",e)},expression:"campos.adicaoFinal"}},"campo",a.meta.adicaoFinal,!1))]:a._e(),o("campo",a._b({staticClass:"col-6 col-md-2",model:{value:a.campos.alturaMinima,callback:function(e){a.$set(a.campos,"alturaMinima",e)},expression:"campos.alturaMinima"}},"campo",a.meta.alturaMinima,!1)),o("campo",a._b({staticClass:"col-6 col-md-2",model:{value:a.campos.indiceRefracao,callback:function(e){a.$set(a.campos,"indiceRefracao",e)},expression:"campos.indiceRefracao"}},"campo",a.meta.indiceRefracao,!1)),o("campo",a._b({staticClass:"col-6 col-md-2",model:{value:a.campos.diametro,callback:function(e){a.$set(a.campos,"diametro",e)},expression:"campos.diametro"}},"campo",a.meta.diametro,!1))],2),o("div",{staticClass:"row gutter-x-sm"},[o("campo",a._b({staticClass:"col-12 col-md-3",attrs:{opcoes:a.opcoesLenteTipo},model:{value:a.campos.lenteTipo,callback:function(e){a.$set(a.campos,"lenteTipo",e)},expression:"campos.lenteTipo"}},"campo",a.meta.lenteTipo,!1))],1)]:a._e(),"Lente Contato"===a.campos.tipo?[o("div",{staticClass:"row gutter-x-sm"},[o("campo",a._b({staticClass:"col-6 col-md-2",model:{value:a.campos.esfericoInicial,callback:function(e){a.$set(a.campos,"esfericoInicial",e)},expression:"campos.esfericoInicial"}},"campo",a.meta.esfericoInicial,!1)),o("campo",a._b({staticClass:"col-6 col-md-2",model:{value:a.campos.esfericoFinal,callback:function(e){a.$set(a.campos,"esfericoFinal",e)},expression:"campos.esfericoFinal"}},"campo",a.meta.esfericoFinal,!1)),o("campo",a._b({staticClass:"col-6 col-md-2",model:{value:a.campos.eixo,callback:function(e){a.$set(a.campos,"eixo",e)},expression:"campos.eixo"}},"campo",a.meta.eixo,!1)),o("campo",a._b({staticClass:"col-6 col-md-2",model:{value:a.campos.eixoFinal,callback:function(e){a.$set(a.campos,"eixoFinal",e)},expression:"campos.eixoFinal"}},"campo",a.meta.eixoFinal,!1)),o("campo",a._b({staticClass:"col-6 col-md-2",model:{value:a.campos.adicaoInicial,callback:function(e){a.$set(a.campos,"adicaoInicial",e)},expression:"campos.adicaoInicial"}},"campo",a.meta.adicaoInicial,!1))],1),o("div",{staticClass:"row gutter-x-sm"},[o("campo",a._b({staticClass:"col-6 col-md-2",model:{value:a.campos.RB1,callback:function(e){a.$set(a.campos,"RB1",e)},expression:"campos.RB1"}},"campo",a.meta.RB1,!1)),o("campo",a._b({staticClass:"col-6 col-md-2",model:{value:a.campos.RB2,callback:function(e){a.$set(a.campos,"RB2",e)},expression:"campos.RB2"}},"campo",a.meta.RB2,!1)),o("campo",a._b({staticClass:"col-6 col-md-2",model:{value:a.campos.diametro,callback:function(e){a.$set(a.campos,"diametro",e)},expression:"campos.diametro"}},"campo",a.meta.diametro,!1)),o("campo",a._b({staticClass:"col-6 col-md-2",model:{value:a.campos.cilindrico,callback:function(e){a.$set(a.campos,"cilindrico",e)},expression:"campos.cilindrico"}},"campo",a.meta.cilindrico,!1))],1),o("div",{staticClass:"row gutter-x-sm"},[o("campo",a._b({staticClass:"col-12 col-md-3",attrs:{opcoes:a.opcoesGeometria},model:{value:a.campos.geometria,callback:function(e){a.$set(a.campos,"geometria",e)},expression:"campos.geometria"}},"campo",a.meta.geometria,!1)),o("campo",a._b({staticClass:"col-12 col-md-3",attrs:{opcoes:a.opcoesLenteTipo},model:{value:a.campos.lenteTipo,callback:function(e){a.$set(a.campos,"lenteTipo",e)},expression:"campos.lenteTipo"}},"campo",a.meta.lenteTipo,!1)),o("campo",a._b({staticClass:"col-12 col-md-3",attrs:{opcoes:a.opcoesSurfacada},model:{value:a.campos.surfacada,callback:function(e){a.$set(a.campos,"surfacada",e)},expression:"campos.surfacada"}},"campo",a.meta.surfacada,!1))],1)]:a._e()],2):a._e(),"Lente"===a.campos.tipo?o("q-card",{staticClass:"bg-white gutter-x-md q-my-md q-px-md q-py-md no-shadow"},[o("q-toolbar-title",{staticClass:"q-mb-md col-12"},[a._v("Tratamento")]),a._l(a.campos.composicao,function(e,t){return o("div",{key:t,staticClass:"u-separador animate-pop"},[o("div",{staticClass:"gutter-x-sm items-center row"},[o("campo",{staticClass:"col-6 col-sm-4",attrs:{value:e.descricaoItemUtilizado,before:[{icon:"search",handler:function(){a.abrirModalTratamento(t)}}],readonly:"",rotulo:"Tratamento"},on:{click:function(e){a.abrirModalTratamento(t)}}}),o("input",{attrs:{type:"hidden"},domProps:{value:e.idItemUtilizado}}),o("campo",a._b({staticClass:"col-6 col-sm-2",attrs:{disable:!0,readonly:!0},model:{value:a.campos.composicao[t].temporario.valor,callback:function(e){a.$set(a.campos.composicao[t].temporario,"valor",e)},expression:"campos.composicao[index].temporario.valor"}},"campo",a.meta.composicao.lista.temporario.valor,!1)),o("div",{staticClass:"col-2 col-sm-1 text-right"},[o("q-btn",{attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(e){a.removerComposicao(t)}}},[o("q-tooltip",[a._v("Excluir")])],1)],1)],1)])}),o("div",{staticClass:"q-mt-md text-center"},[o("q-btn",{attrs:{color:"positive",icon:"add",label:"Tratamento",outline:"",size:"sm"},on:{click:a.adicionarComposicao}})],1)],2):a._e(),a._e(),o("q-tabs",{staticClass:"bg-transparent q-mt-lg",attrs:{color:"transparent","text-color":"primary"}},[o("q-tab",{attrs:{slot:"title",default:"",label:"Detalhes",name:"profile-tab-1"},slot:"title"}),o("q-tab",{attrs:{slot:"title",label:"Fornecedores",name:"profile-tab-2"},slot:"title"}),"Lente"!==a.campos.tipo&&"optisoul"!==a.sistemaPai?o("q-tab",{attrs:{slot:"title",label:"Composição",name:"profile-tab-3"},slot:"title"}):a._e(),"optisoul"!==a.sistemaPai?o("q-tab",{attrs:{slot:"title",label:"PCP",name:"profile-tab-4"},slot:"title"}):a._e(),o("q-tab-pane",{staticClass:"bg-white",attrs:{name:"profile-tab-1"}},[o("div",{staticClass:"gutter-sm items-top row"},[o("div",{staticClass:"col-12 col-md-8"},[o("div",{staticClass:"row gutter-x-md"},[o("campo",a._b({staticClass:"col-12 col-md-4",attrs:{filter:"",opcoes:a.opcoesGrupo,after:[{icon:"add_circle",handler:function(){a.abrirModalGrupo()}}]},nativeOn:{click:function(e){return a.leOpcoesGrupo(e)}},model:{value:a.campos.grupo,callback:function(e){a.$set(a.campos,"grupo",e)},expression:"campos.grupo"}},"campo",a.meta.grupo,!1)),o("campo",a._b({staticClass:"col-12 col-md-4",attrs:{filter:"",opcoes:a.opcoesSubGrupo,after:[{icon:"add_circle",handler:function(){a.abrirModalSubGrupo()}}]},nativeOn:{click:function(e){return a.leOpcoesSubGrupo(e)}},model:{value:a.campos.subGrupo,callback:function(e){a.$set(a.campos,"subGrupo",e)},expression:"campos.subGrupo"}},"campo",a.meta.subGrupo,!1)),o("campo",a._b({staticClass:"col-12 col-md-4",attrs:{opcoes:a.opcoesUnidade,after:[{icon:"add_circle",handler:function(){a.abrirModalUnidade()}}]},nativeOn:{click:function(e){return a.leOpcoesUnidade(e)}},model:{value:a.campos.unidade,callback:function(e){a.$set(a.campos,"unidade",e)},expression:"campos.unidade"}},"campo",a.meta.unidade,!1))],1),o("div",{staticClass:"row gutter-x-md"},[o("campo",a._b({model:{value:a.campos.garantiaDias,callback:function(e){a.$set(a.campos,"garantiaDias",e)},expression:"campos.garantiaDias"}},"campo",a.meta.garantiaDias,!1)),o("campo",a._b({staticClass:"col-12 col-md-8",model:{value:a.campos.garantiaDescricao,callback:function(e){a.$set(a.campos,"garantiaDescricao",e)},expression:"campos.garantiaDescricao"}},"campo",a.meta.garantiaDescricao,!1)),o("campo",a._b({attrs:{filter:"",opcoes:a.opcoesPerfilContabil},nativeOn:{click:function(e){return a.leOpcoesPerfilContabil(e)}},model:{value:a.campos.idPerfilContabil,callback:function(e){a.$set(a.campos,"idPerfilContabil",e)},expression:"campos.idPerfilContabil"}},"campo",a.meta.idPerfilContabil,!1)),o("campo",a._b({staticClass:"col-12 col-md-8",staticStyle:{"white-space":"normal"},attrs:{opcoes:a.opcoesOrigem},model:{value:a.campos.codigoOrigem,callback:function(e){a.$set(a.campos,"codigoOrigem",e)},expression:"campos.codigoOrigem"}},"campo",a.meta.codigoOrigem,!1))],1)]),o("div",{staticClass:"col-12 col-md-4"},[o("div",{staticClass:"bg-light q-pt-xm q-pr-sm q-pl-sm q-pb-xm"},[o("campo",a._b({model:{value:a.campos.observacao,callback:function(e){a.$set(a.campos,"observacao",e)},expression:"campos.observacao"}},"campo",a.meta.observacao,!1))],1),o("div",{staticClass:"bg-light q-pt-xm q-pr-sm q-pl-sm q-pb-xm q-mt-sm"},[o("campo",a._b({model:{value:a.campos.aplicacao,callback:function(e){a.$set(a.campos,"aplicacao",e)},expression:"campos.aplicacao"}},"campo",a.meta.aplicacao,!1))],1)])]),o("div",{staticClass:"q-mt-md q-mb-sm row q-title"},[a._v("\n        Características\n      ")]),o("div",{staticClass:"row q-pl-md gutter-x-md"},[o("campo",a._b({staticClass:"col-12 col-md-3",attrs:{opcoes:{minimumValue:0,decimalPlaces:4}},model:{value:a.campos.peso,callback:function(e){a.$set(a.campos,"peso",e)},expression:"campos.peso"}},"campo",a.meta.peso,!1)),o("campo",a._b({staticClass:"col-12 col-md-3",attrs:{opcoes:{minimumValue:0,decimalPlaces:4}},model:{value:a.campos.densidade,callback:function(e){a.$set(a.campos,"densidade",e)},expression:"campos.densidade"}},"campo",a.meta.densidade,!1)),o("campo",a._b({staticClass:"col-12 col-md-3",attrs:{opcoes:{minimumValue:0,decimalPlaces:4}},model:{value:a.campos.comprimento,callback:function(e){a.$set(a.campos,"comprimento",e)},expression:"campos.comprimento"}},"campo",a.meta.comprimento,!1)),o("campo",a._b({staticClass:"col-12 col-md-3",attrs:{opcoes:{minimumValue:0,decimalPlaces:4}},model:{value:a.campos.largura,callback:function(e){a.$set(a.campos,"largura",e)},expression:"campos.largura"}},"campo",a.meta.largura,!1)),a.temLente?a._e():o("campo",a._b({staticClass:"col-12 col-md-3",attrs:{after:[{icon:"add_circle",handler:function(){a.abrirModalCor()}}],opcoes:a.opcoesCor},nativeOn:{click:function(e){return a.leOpcoesCor(e)}},model:{value:a.campos.cor,callback:function(e){a.$set(a.campos,"cor",e)},expression:"campos.cor"}},"campo",a.meta.cor,!1)),o("campo",a._b({staticClass:"col-12 col-md-3",model:{value:a.campos.embalagem,callback:function(e){a.$set(a.campos,"embalagem",e)},expression:"campos.embalagem"}},"campo",a.meta.embalagem,!1)),o("campo",a._b({staticClass:"col-12 col-md-3",attrs:{opcoes:{minimumValue:0,decimalPlaces:4}},model:{value:a.campos.capacidade,callback:function(e){a.$set(a.campos,"capacidade",e)},expression:"campos.capacidade"}},"campo",a.meta.capacidade,!1)),o("campo",a._b({staticClass:"col-12 col-md-3",model:{value:a.campos.capacidadeUnidade,callback:function(e){a.$set(a.campos,"capacidadeUnidade",e)},expression:"campos.capacidadeUnidade"}},"campo",a.meta.capacidadeUnidade,!1)),o("campo",a._b({staticClass:"col-12 col-md-3",model:{value:a.campos.validadeMeses,callback:function(e){a.$set(a.campos,"validadeMeses",e)},expression:"campos.validadeMeses"}},"campo",a.meta.validadeMeses,!1))],1)]),o("q-tab-pane",{staticClass:"bg-white",attrs:{name:"profile-tab-2"}},[a._l(a.campos.fornecedor,function(e,t){return o("div",{key:t,staticClass:"u-separador animate-pop"},[o("div",{staticClass:"gutter-x-sm items-center row"},[o("campo",a._b({staticClass:"col-6 col-sm-4",attrs:{value:e.descricaoContato,before:[{icon:"search",handler:function(){a.abrirModalFornecedor(t)}}],readonly:""},on:{click:function(e){a.abrirModalFornecedor(t)}}},"campo",a.meta.fornecedor.lista.idContato,!1)),o("input",{attrs:{type:"hidden"},domProps:{value:e.idContato}}),o("campo",a._b({staticClass:"col-4 col-sm-3",model:{value:e.descricao,callback:function(o){a.$set(e,"descricao",o)},expression:"fornecedor.descricao"}},"campo",a.meta.fornecedor.lista.descricao,!1)),o("campo",a._b({staticClass:"col-4 col-sm-3",model:{value:e.referencia,callback:function(o){a.$set(e,"referencia",o)},expression:"fornecedor.referencia"}},"campo",a.meta.fornecedor.lista.referencia,!1)),o("div",{staticClass:"col-2 col-sm-1 text-right"},[o("q-btn",{attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(e){a.removerItemDaLista(a.campos.fornecedor,t)}}},[o("q-tooltip",[a._v("Excluir")])],1)],1)],1)])}),o("div",{staticClass:"q-mt-md text-center"},[o("q-btn",{attrs:{color:"positive",icon:"add",label:"Fornecedor",outline:"",size:"sm"},on:{click:function(e){a.adicionarItemNaLista(a.campos.fornecedor)}}})],1)],2),"Lente"!==a.campos.tipo?o("q-tab-pane",{staticClass:"bg-white",attrs:{name:"profile-tab-3"}},[o("div",{staticClass:"q-mb-md q-subheading"},[a._v("Composição")]),a._l(a.campos.composicao,function(e,t){return o("div",{key:t,staticClass:"u-separador animate-pop"},[o("div",{staticClass:"gutter-x-sm items-center row"},[o("campo",a._b({staticClass:"col-6 col-sm-2",attrs:{value:e.descricaoItemUtilizado,before:[{icon:"search",handler:function(){a.abrirModalItemUtilizado(t)}}],readonly:""},on:{click:function(e){a.abrirModalItemUtilizado(t)}}},"campo",a.meta.composicao.lista.idItemUtilizado,!1)),o("input",{attrs:{type:"hidden"},domProps:{value:e.idItemUtilizado}}),o("campo",a._b({staticClass:"col-6 col-sm-2",model:{value:e.ordem,callback:function(o){a.$set(e,"ordem",o)},expression:"comp.ordem"}},"campo",a.meta.composicao.lista.ordem,!1)),o("campo",a._b({staticClass:"col-6 col-sm-2",attrs:{disable:!0,readonly:!0},model:{value:a.campos.composicao[t].temporario.valor,callback:function(e){a.$set(a.campos.composicao[t].temporario,"valor",e)},expression:"campos.composicao[index].temporario.valor"}},"campo",a.meta.composicao.lista.temporario.valor,!1)),o("campo",a._b({staticClass:"col-6 col-sm-2",on:{input:function(e){a.atualizarItemComposicao(t)}},model:{value:e.quantidade,callback:function(o){a.$set(e,"quantidade",o)},expression:"comp.quantidade"}},"campo",a.meta.composicao.lista.quantidade,!1)),o("campo",a._b({staticClass:"col-6 col-sm-1",model:{value:e.temporario.unidade,callback:function(o){a.$set(e.temporario,"unidade",o)},expression:"comp.temporario.unidade"}},"campo",a.meta.composicao.lista.temporario.unidade,!1)),o("campo",a._b({staticClass:"col-6 col-sm-1",attrs:{disable:!0,readonly:!0},model:{value:e.temporario.total,callback:function(o){a.$set(e.temporario,"total",o)},expression:"comp.temporario.total"}},"campo",a.meta.composicao.lista.temporario.total,!1)),o("div",{staticClass:"col-2 col-sm-1 text-right"},[o("q-btn",{attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(e){a.removerComposicao(t)}}},[o("q-tooltip",[a._v("Excluir")])],1)],1)],1)])}),o("div",{staticClass:"q-mt-md text-center"},[o("q-btn",{attrs:{color:"positive",icon:"add",label:"Composição",outline:"",size:"sm"},on:{click:a.adicionarComposicao}})],1)],2):a._e(),o("q-tab-pane",{staticClass:"bg-white",attrs:{name:"profile-tab-4"}},[o("div",{staticClass:"row gutter-x-sm"},[o("campo",a._b({staticClass:"col-12 col-sm-6",model:{value:a.campos.numeroPop,callback:function(e){a.$set(a.campos,"numeroPop",e)},expression:"campos.numeroPop"}},"campo",a.meta.numeroPop,!1)),o("div",{staticClass:"col-12 col-sm-6"},[o("campo",a._b({staticClass:"bg-light q-px-sm",model:{value:a.campos.procedimento,callback:function(e){a.$set(a.campos,"procedimento",e)},expression:"campos.procedimento"}},"campo",a.meta.procedimento,!1))],1)],1),o("div",[o("div",{staticClass:"q-mb-md q-subheading"},[a._v("Qualidade")]),a._l(a.campos.qualidade,function(e,t){return o("div",{key:t,staticClass:"u-separador animate-pop"},[o("div",{staticClass:"gutter-x-sm items-center row"},[o("campo",a._b({staticClass:"col-12 col-sm-4",model:{value:e.descricao,callback:function(o){a.$set(e,"descricao",o)},expression:"qualid.descricao"}},"campo",a.meta.qualidade.lista.descricao,!1)),o("campo",a._b({staticClass:"col-12 col-sm-4",model:{value:e.especificacao,callback:function(o){a.$set(e,"especificacao",o)},expression:"qualid.especificacao"}},"campo",a.meta.qualidade.lista.especificacao,!1)),o("campo",a._b({staticClass:"col-10 col-sm-3",model:{value:e.limites,callback:function(o){a.$set(e,"limites",o)},expression:"qualid.limites"}},"campo",a.meta.qualidade.lista.limites,!1)),o("div",{staticClass:"col-2 col-sm-1 text-right"},[o("q-btn",{attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(e){a.removerItemDaLista(a.campos.qualidade,t)}}},[o("q-tooltip",[a._v("Excluir")])],1)],1)],1)])}),o("div",{staticClass:"q-mt-md text-center"},[o("q-btn",{attrs:{color:"positive",icon:"add",label:"Qualidade",outline:"",size:"sm"},on:{click:function(e){a.adicionarItemNaLista(a.campos.qualidade)}}})],1)],2),o("div",[o("div",{staticClass:"q-mb-md q-subheading"},[a._v("Fase")]),a._l(a.campos.producaoFase,function(e,t){return o("div",{key:t,staticClass:"u-separador animate-pop"},[o("div",{staticClass:"gutter-x-sm items-center row"},[o("campo",a._b({staticClass:"col-6 col-sm-2",model:{value:e.ordem,callback:function(o){a.$set(e,"ordem",o)},expression:"fase.ordem"}},"campo",a.meta.producaoFase.lista.ordem,!1)),o("campo",a._b({staticClass:"col-12 col-sm-3",model:{value:e.descricao,callback:function(o){a.$set(e,"descricao",o)},expression:"fase.descricao"}},"campo",a.meta.producaoFase.lista.descricao,!1)),o("campo",{staticClass:"col-6 col-sm-2",attrs:{value:e.descricaoItemEquipamento,before:[{icon:"search",handler:function(){a.abrirModalEquipamento(t)}}],readonly:"",rotulo:"Equipamento"},on:{click:function(e){a.abrirModalEquipamento(t)}}}),o("input",{attrs:{type:"hidden"},domProps:{value:e.idItemEquipamento}}),o("campo",{staticClass:"col-6 col-sm-2",attrs:{value:e.descricaoItemFerramenta,before:[{icon:"search",handler:function(){a.abrirModalFerramenta(t)}}],readonly:"",rotulo:"Ferramenta"},on:{click:function(e){a.abrirModalFerramenta(t)}}}),o("input",{attrs:{type:"hidden"},domProps:{value:e.idItemFerramenta}}),o("campo",{staticClass:"col-6 col-sm-2",attrs:{value:e.descricaoItemServico,before:[{icon:"search",handler:function(){a.abrirModalServico(t)}}],readonly:"",rotulo:"Servico"},on:{click:function(e){a.abrirModalServico(t)}}}),o("input",{attrs:{type:"hidden"},domProps:{value:e.idItemServico}}),o("div",{staticClass:"col-2 col-sm-1 text-right"},[o("q-btn",{attrs:{color:"negative",size:"xs",icon:"remove",outline:"",round:""},on:{click:function(e){a.removerItemDaLista(a.campos.producaoFase,t)}}},[o("q-tooltip",[a._v("Excluir")])],1)],1)],1)])}),o("div",{staticClass:"q-mt-md text-center"},[o("q-btn",{attrs:{color:"positive",icon:"add",label:"Fase",outline:"",size:"sm"},on:{click:function(e){a.adicionarItemNaLista(a.campos.producaoFase)}}})],1)],2)])],1),o("div",{staticClass:"items-center justify-around q-my-lg row"},[a.campos.dataCadastro?o("small",[a._v("Data do cadastro: "+a._s(a._f("dataHora")(a.campos.dataCadastro)))]):a._e(),a.campos._DataHoraUltimaAlteracao?o("small",[a._v("Última alteração:\n      "+a._s(a._f("dataHora")(a.campos._DataHoraUltimaAlteracao)))]):a._e()]),o("q-layout-footer",{staticClass:"bg-light no-shadow q-pa-sm text-right u-bordaCima",attrs:{reveal:""}},[o("div",{staticClass:"u-container relative-position"},[a.campos.ativo?o("div",[o("q-btn",{attrs:{color:"faded",flat:"",label:"Cancelar"},on:{click:function(e){return e.preventDefault(),a.aoCancelar(e)}}}),o("q-btn",{staticClass:"q-ml-sm no-shadow",attrs:{color:"primary",label:"Salvar",type:"submit"}}),o("q-btn",{staticClass:"q-ml-lg",attrs:{color:"faded",flat:"",icon:"delete",round:""},on:{click:a.removerItem}},[o("q-tooltip",[a._v("Remover")])],1)],1):o("div",{staticClass:"q-py-sm text-faded"},[a._v("\n        Não é possível editar informações de um produto excluído.\n        "),o("q-btn",{staticClass:"q-ml-sm",attrs:{color:"primary"},on:{click:a.restaurarItem}},[a._v("Restaurar produto")])],1)])]),o("q-modal",{model:{value:a.modalFoto,callback:function(e){a.modalFoto=e},expression:"modalFoto"}},[o("q-modal-layout",[o("q-toolbar",{attrs:{slot:"header"},slot:"header"},[o("q-toolbar-title",[a._v("Alterar foto")]),o("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{dense:"",flat:"",icon:"close",round:""}})],1),o("div",{staticClass:"q-ma-sm"},[o("form",{on:{submit:function(e){return e.preventDefault(),a.confirmarFoto(e)}}},[o("q-field",{staticClass:"q-ma-md"},[o("q-uploader",{ref:"fotoCampo",attrs:{"auto-expand":"",color:"none",extensions:".jpg,.jpeg","float-label":"Foto","hide-upload-button":"","hide-upload-progress":"","inverted-light":"",url:""},on:{add:a.trocarFoto}})],1),o("div",{staticClass:"row justify-end"},[o("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Confirmar"}})],1)],1)])],1)],1),o("q-modal",{model:{value:a.grupo.modal,callback:function(e){a.$set(a.grupo,"modal",e)},expression:"grupo.modal"}},[o("div",{staticClass:"q-ma-sm"},[o("form",{on:{submit:function(e){return e.preventDefault(),a.criarGrupo(e)}}},[o("div",{staticClass:"q-ma-md"},[o("div",{staticClass:"row q-headline text-weight-bold"},[a._v("Cadastrar grupo")]),o("campo",{staticClass:"row",attrs:{erro:!!a.grupo.erro,"erro-rotulo":a.grupo.erro,maxlength:"50",rotulo:"Grupo"},model:{value:a.grupo.nome,callback:function(e){a.$set(a.grupo,"nome","string"===typeof e?e.trim():e)},expression:"grupo.nome"}})],1),o("div",{staticClass:"row justify-end"},[o("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(e){a.grupo.modal=!1}}}),o("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])])]),o("q-modal",{model:{value:a.marca.modal,callback:function(e){a.$set(a.marca,"modal",e)},expression:"marca.modal"}},[o("div",{staticClass:"q-ma-sm"},[o("form",{on:{submit:function(e){return e.preventDefault(),a.criarMarca(e)}}},[o("div",{staticClass:"q-ma-md"},[o("div",{staticClass:"row q-headline text-weight-bold"},[a._v("Cadastrar marca")]),o("campo",{staticClass:"row",attrs:{erro:!!a.marca.erro,"erro-rotulo":a.marca.erro,maxlength:"50",rotulo:"Marca"},model:{value:a.marca.nome,callback:function(e){a.$set(a.marca,"nome","string"===typeof e?e.trim():e)},expression:"marca.nome"}})],1),o("div",{staticClass:"row justify-end"},[o("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(e){a.marca.modal=!1}}}),o("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])])]),o("q-modal",{model:{value:a.armacaoCor.modal,callback:function(e){a.$set(a.armacaoCor,"modal",e)},expression:"armacaoCor.modal"}},[o("div",{staticClass:"q-ma-sm"},[o("form",{on:{submit:function(e){return e.preventDefault(),a.criarArmacaoCor(e)}}},[o("div",{staticClass:"q-ma-md"},[o("div",{staticClass:"row q-headline text-weight-bold"},[a._v("Cadastrar cor de armação")]),o("campo",{staticClass:"row",attrs:{erro:!!a.armacaoCor.erro,"erro-rotulo":a.armacaoCor.erro,maxlength:"50",rotulo:"Nome da cor"},model:{value:a.armacaoCor.nome,callback:function(e){a.$set(a.armacaoCor,"nome","string"===typeof e?e.trim():e)},expression:"armacaoCor.nome"}})],1),o("div",{staticClass:"row justify-end"},[o("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(e){a.armacaoCor.modal=!1}}}),o("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])])]),o("q-modal",{model:{value:a.armacaoMaterial.modal,callback:function(e){a.$set(a.armacaoMaterial,"modal",e)},expression:"armacaoMaterial.modal"}},[o("div",{staticClass:"q-ma-sm"},[o("form",{on:{submit:function(e){return e.preventDefault(),a.criarArmacaoMaterial(e)}}},[o("div",{staticClass:"q-ma-md"},[o("div",{staticClass:"row q-headline text-weight-bold"},[a._v("Cadastrar material de armação")]),o("campo",{staticClass:"row",attrs:{erro:!!a.armacaoMaterial.erro,"erro-rotulo":a.armacaoMaterial.erro,maxlength:"50",rotulo:"Nome do material"},model:{value:a.armacaoMaterial.nome,callback:function(e){a.$set(a.armacaoMaterial,"nome","string"===typeof e?e.trim():e)},expression:"armacaoMaterial.nome"}})],1),o("div",{staticClass:"row justify-end"},[o("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(e){a.armacaoMaterial.modal=!1}}}),o("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])])]),o("q-modal",{model:{value:a.cor.modal,callback:function(e){a.$set(a.cor,"modal",e)},expression:"cor.modal"}},[o("div",{staticClass:"q-ma-sm"},[o("form",{on:{submit:function(e){return e.preventDefault(),a.criarCor(e)}}},[o("div",{staticClass:"q-ma-md"},[o("div",{staticClass:"row q-headline text-weight-bold"},[a._v("Cadastrar cor de lente")]),o("campo",{staticClass:"row",attrs:{erro:!!a.cor.erro,"erro-rotulo":a.cor.erro,maxlength:"50",rotulo:"Nome da cor"},model:{value:a.cor.nome,callback:function(e){a.$set(a.cor,"nome","string"===typeof e?e.trim():e)},expression:"cor.nome"}})],1),o("div",{staticClass:"row justify-end"},[o("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(e){a.cor.modal=!1}}}),o("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])])]),o("q-modal",{model:{value:a.material.modal,callback:function(e){a.$set(a.material,"modal",e)},expression:"material.modal"}},[o("div",{staticClass:"q-ma-sm"},[o("form",{on:{submit:function(e){return e.preventDefault(),a.criarMaterial(e)}}},[o("div",{staticClass:"q-ma-md"},[o("div",{staticClass:"row q-headline text-weight-bold"},[a._v("Cadastrar material de lente")]),o("campo",{staticClass:"row",attrs:{erro:!!a.material.erro,"erro-rotulo":a.material.erro,maxlength:"50",rotulo:"Nome do material"},model:{value:a.material.nome,callback:function(e){a.$set(a.material,"nome","string"===typeof e?e.trim():e)},expression:"material.nome"}})],1),o("div",{staticClass:"row justify-end"},[o("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(e){a.material.modal=!1}}}),o("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])])]),o("q-modal",{model:{value:a.tipoMontagem.modal,callback:function(e){a.$set(a.tipoMontagem,"modal",e)},expression:"tipoMontagem.modal"}},[o("div",{staticClass:"q-ma-sm"},[o("form",{on:{submit:function(e){return e.preventDefault(),a.criarTipoMontagem(e)}}},[o("div",{staticClass:"q-ma-md"},[o("div",{staticClass:"row q-headline text-weight-bold"},[a._v("Cadastrar tipo de montagem de armação")]),o("campo",{staticClass:"row",attrs:{erro:!!a.tipoMontagem.erro,"erro-rotulo":a.tipoMontagem.erro,maxlength:"50",rotulo:"Tipo"},model:{value:a.tipoMontagem.nome,callback:function(e){a.$set(a.tipoMontagem,"nome","string"===typeof e?e.trim():e)},expression:"tipoMontagem.nome"}})],1),o("div",{staticClass:"row justify-end"},[o("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(e){a.tipoMontagem.modal=!1}}}),o("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])])]),o("q-modal",{model:{value:a.subGrupo.modal,callback:function(e){a.$set(a.subGrupo,"modal",e)},expression:"subGrupo.modal"}},[o("div",{staticClass:"q-ma-sm"},[o("form",{on:{submit:function(e){return e.preventDefault(),a.criarSubGrupo(e)}}},[o("div",{staticClass:"q-ma-md"},[o("div",{staticClass:"row q-headline text-weight-bold"},[a._v("Cadastrar subGrupo")]),o("campo",{staticClass:"row",attrs:{erro:!!a.subGrupo.erro,"erro-rotulo":a.subGrupo.erro,maxlength:"50",rotulo:"subGrupo"},model:{value:a.subGrupo.nome,callback:function(e){a.$set(a.subGrupo,"nome","string"===typeof e?e.trim():e)},expression:"subGrupo.nome"}})],1),o("div",{staticClass:"row justify-end"},[o("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(e){a.subGrupo.modal=!1}}}),o("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])])]),o("q-modal",{model:{value:a.unidade.modal,callback:function(e){a.$set(a.unidade,"modal",e)},expression:"unidade.modal"}},[o("div",{staticClass:"q-ma-sm"},[o("form",{on:{submit:function(e){return e.preventDefault(),a.criarUnidade(e)}}},[o("div",{staticClass:"q-ma-md"},[o("div",{staticClass:"row q-headline text-weight-bold"},[a._v("Cadastrar unidade")]),o("campo",{staticClass:"row",attrs:{erro:!!a.unidade.erro,"erro-rotulo":a.unidade.erro,maxlength:"50",rotulo:"unidade"},model:{value:a.unidade.nome,callback:function(e){a.$set(a.unidade,"nome","string"===typeof e?e.trim():e)},expression:"unidade.nome"}})],1),o("div",{staticClass:"row justify-end"},[o("q-btn",{attrs:{flat:"",color:"primary",label:"Cancelar"},on:{click:function(e){a.unidade.modal=!1}}}),o("q-btn",{attrs:{flat:"",color:"primary",type:"submit",label:"Criar"}})],1)])])]),o("prompt-item-novo",{attrs:{filtro:{tipo:"Equipamento",ativo:!0}},on:{selecionarItens:a.selecionarEquipamento},model:{value:a.modalEquipamento,callback:function(e){a.modalEquipamento=e},expression:"modalEquipamento"}}),o("prompt-item-novo",{attrs:{filtro:{tipo:"Ferramenta",ativo:!0}},on:{selecionarItens:a.selecionarFerramenta},model:{value:a.modalFerramenta,callback:function(e){a.modalFerramenta=e},expression:"modalFerramenta"}}),o("prompt-item-novo",{attrs:{filtro:{tipo:"Serviço",ativo:!0}},on:{selecionarItens:a.selecionarServico},model:{value:a.modalServico,callback:function(e){a.modalServico=e},expression:"modalServico"}}),o("prompt-item-novo",{attrs:{filtro:{tipo:"Tratamento",ativo:!0}},on:{selecionarItens:a.selecionarTratamento},model:{value:a.modalTratamento,callback:function(e){a.modalTratamento=e},expression:"modalTratamento"}}),o("prompt-item-novo",{attrs:{filtro:{ativo:!0}},on:{selecionarItens:a.selecionarItemUtilizado},model:{value:a.modalItemUtilizado,callback:function(e){a.modalItemUtilizado=e},expression:"modalItemUtilizado"}}),o("prompt-contato-novo",{attrs:{filtro:{ativo:!0}},on:{selecionar:a.selecionarFornecedor},model:{value:a.modalFornecedor,callback:function(e){a.modalFornecedor=e},expression:"modalFornecedor"}})],1):a._e()},r=[];t._withStripped=!0;o("7514"),o("c5f6");var i=o("3156"),c=o.n(i),s=(o("cadf"),o("456d"),o("448a")),n=o.n(s),l=(o("55dd"),o("ac4d"),o("8a81"),o("386d"),o("28a5"),o("ac6a"),o("96cf"),o("c973")),m=o.n(l),u=(o("6762"),o("2fdb"),o("df3a")),p=o("a0fd"),d=o("88db"),f=o("41ff"),h=o("3c82"),v=o("51f0"),b=o("0dd6"),g=o("2f215"),x=o.n(g),C=o("7551"),k=o("8149"),q=o("3e8a"),w=o("b5ae"),M=o("2ef0"),y=o("5e32"),_=o("ed08"),R={components:{Avatar:u["a"],Badge:p["a"],Campo:d["a"],PromptContatoNovo:f["a"],PromptItemNovo:h["a"],SeletorCest:v["a"]},computed:{badgeCor:function(){return this.campos.ativo?(this.campos.quantidadeDisponivel||0)<0?"negative":(this.campos.quantidadeDisponivel||0)<=(this.campos.quantidadeMinimaEstoque||0)?"orange":"positive":"faded"},descricaoConcatenada:function(){return k["a"].item.descricaoConcatenada(this.campos)},opcoesGenero:function(){return[{rotulo:"Masculino",valor:"Masculino"},{rotulo:"Feminino",valor:"Feminino"},{rotulo:"Unisex",valor:"Unisex"},{rotulo:"Masculino Kids",valor:"Masculino Kids"},{rotulo:"Feminino Kids",valor:"Feminino Kids"},{rotulo:"Unisex Kids",valor:"Unisex Kids"}]},opcoesGeometria:function(){return[{rotulo:"Asférica",valor:"Asférica"},{rotulo:"Esférica",valor:"Esférica"},{rotulo:"Tórica",valor:"Tórica"}]},opcoesLenteTipo:function(){return[{rotulo:"Monofocal",valor:"Monofocal"},{rotulo:"Bifocal",valor:"Bifocal"},{rotulo:"Multifocal",valor:"Multifocal"}]},opcoesOrigemOld:function(){return[{valor:"",rotulo:""},{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos códigos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importação direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos básicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importação direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conteúdo de Importação superior a 70 %"}]},opcoesSurfacada:function(){return[{rotulo:"Pronta",valor:"0"},{rotulo:"Surfaçada",valor:"1"}]},opcoesTipo:function(){return k["a"].item.opcoesTipo},meta:function(){return C["a"]},temArmacao:function(){return["Óculos Sol","Óculos Pronto","Armação"].includes(this.campos.tipo)},temDescricaoConcatenada:function(){return["Óculos Sol","Lente"].includes(this.campos.tipo)},temLente:function(){return["Óculos Sol","Óculos Pronto","Lente","Lente Contato"].includes(this.campos.tipo)}},data:function(){return{tabelasPrecoOriginal:[],tabelasPreco:[],campos:{},estoquePorEmpresa:[],opcoesArmacaoCor:[],opcoesArmacaoMaterial:[],opcoesCor:[],opcoesGrupo:[],opcoesMarca:[],opcoesMaterial:[],opcoesOrigem:[],opcoesPerfilContabil:[],opcoesSubGrupo:[],opcoesTipoMontagem:[],opcoesUnidade:[],modalEquipamento:!1,modalFerramenta:!1,modalFornecedor:!1,modalFoto:!1,modalItemUtilizado:!1,modalServico:!1,modalTratamento:!1,utilizaMarkupInvertido:!1,utilizaComposicaoValorReposicaoInvertido:!1,armacaoCor:{erro:"",modal:!1,nome:""},armacaoMaterial:{erro:"",modal:!1,nome:""},cor:{erro:"",modal:!1,nome:""},descricaoNcm:"",grupo:{erro:"",modal:!1,nome:""},marca:{erro:"",modal:!1,nome:""},material:{erro:"",modal:!1,nome:""},subGrupo:{erro:"",modal:!1,nome:""},tipoMontagem:{erro:"",modal:!1,nome:""},unidade:{erro:"",modal:!1,nome:""},sistemaPai:""}},methods:{indexarNcms:function(){var a=m()(regeneratorRuntime.mark(function a(){var e=this;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:this.ncm=[],this.ncmIdx=void 0,Object(q["a"])()._ncm.toArray().then(function(){var a=m()(regeneratorRuntime.mark(function a(o){var t;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return o.forEach(function(a){e.ncm.push({id:a.id,ncm:a.ncm,descricao:a.descricao})}),t=e.ncm,a.next=4,x()(function(){var a=this;this.ref("idx"),this.field("texto"),t.forEach(function(e,o){a.add({idx:o,texto:e.ncm+" "+e.descricao})})});case 4:e.ncmIdx=a.sent;case 5:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}());case 3:case"end":return a.stop()}},a,this)}));return function(){return a.apply(this,arguments)}}(),buscarNcm:function(){var a=m()(regeneratorRuntime.mark(function a(e,o){var t,r,i,c,s,n,l,m,u;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:for(this.ncmIdx||o([]),/[^\d]/g.test(e)?(t=e.split(" "),t.forEach(function(a,e){a&&(/[^*]/g.test(a)?t[e]="+"+a+(/\*/g.test(a)?"":"~1"):(e>0?t[e-1]=t[e-1]+"*":t.length>0&&(t[1]="*"+t[1]),t[e]=""))}),e=Object(_["removerAcentos"])(t.filter(function(a){return a}).join(" "))):e.length<8&&(e+="*"),r=[],i=!0,c=!1,s=void 0,a.prev=6,n=this.ncmIdx.search(e).slice(0,5)[Symbol.iterator]();!(i=(l=n.next()).done);i=!0)m=l.value,u=this.ncm[m.ref],r.push({label:u.ncm,sublabel:u.descricao,value:u.id});a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](6),c=!0,s=a.t0;case 14:a.prev=14,a.prev=15,i||null==n.return||n.return();case 17:if(a.prev=17,!c){a.next=20;break}throw s;case 20:return a.finish(17);case 21:return a.finish(14);case 22:o(r);case 23:case"end":return a.stop()}},a,this,[[6,10,14,22],[15,,17,21]])}));return function(e,o){return a.apply(this,arguments)}}(),abrirModalEquipamento:function(){var a=m()(regeneratorRuntime.mark(function a(e){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(y["c"])().list("item",{filterNi:{ativo:!0,tipo:"Equipamento"}});case 2:this.itensEquipamento=a.sent,_["gconsole"].log("ItemFicha","abrirModalEquipamento()",this.itensEquipamento.length),this.indiceProducaoFase=e,this.modalEquipamento=!0;case 6:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}(),abrirModalFerramenta:function(){var a=m()(regeneratorRuntime.mark(function a(e){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:_["gconsole"].log("ItemFicha","abrirModalFerramenta()"),this.indiceFerramenta=e,this.modalFerramenta=!0;case 3:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}(),abrirModalServico:function(){var a=m()(regeneratorRuntime.mark(function a(e){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(y["c"])().list("item",{filterNi:{ativo:!0,tipo:"Serviço"}});case 2:this.itensServico=a.sent,_["gconsole"].log("ItemFicha","abrirModalServico()",this.itensServico.length),this.indiceServico=e,this.modalServico=!0;case 6:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}(),abrirModalTratamento:function(){var a=m()(regeneratorRuntime.mark(function a(e){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(y["c"])().list("item",{filterNi:{ativo:!0,tipo:"Tratamento"}});case 2:this.itensTratamento=a.sent,_["gconsole"].log("ItemFicha","abrirModalTratamento()",this.itensTratamento.length),this.indiceTratamento=e,this.modalTratamento=!0;case 6:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}(),abrirModalItemUtilizado:function(){var a=m()(regeneratorRuntime.mark(function a(e){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(y["c"])().list("item",{filterNi:{ativo:!0}});case 2:this.itensAtivos=a.sent,_["gconsole"].log("ItemFicha","abrirModalItemUtilizado()",this.itensAtivos.length),this.indiceItemUtilizado=e,this.modalItemUtilizado=!0;case 6:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}(),abrirModalFornecedor:function(){var a=m()(regeneratorRuntime.mark(function a(e){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:this.indiceFornecedor=e,this.modalFornecedor=!0;case 2:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}(),leOpcoesArmacaoCor:function(){var a=m()(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,k["a"].item.leValoresUnicos("amarcaoCor",this.campos.amarcaoCor);case 2:a.t0=function(a){return{rotulo:a,valor:a}},this.opcoesArmacaoCor=a.sent.map(a.t0);case 4:case"end":return a.stop()}},a,this)}));return function(){return a.apply(this,arguments)}}(),leOpcoesArmacaoMaterial:function(){var a=m()(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,k["a"].item.leValoresUnicos("armacaoMaterial",this.campos.armacaoMaterial);case 2:a.t0=function(a){return{rotulo:a,valor:a}},this.opcoesArmacaoMaterial=a.sent.map(a.t0);case 4:case"end":return a.stop()}},a,this)}));return function(){return a.apply(this,arguments)}}(),leOpcoesCor:function(){var a=m()(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,k["a"].item.leValoresUnicos("cor",this.campos.cor);case 2:a.t0=function(a){return{rotulo:a,valor:a}},this.opcoesCor=a.sent.map(a.t0);case 4:case"end":return a.stop()}},a,this)}));return function(){return a.apply(this,arguments)}}(),leOpcoesGrupo:function(){var a=m()(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,k["a"].item.leValoresUnicos("grupo",this.campos.grupo);case 2:a.t0=function(a){return{rotulo:a,valor:a}},this.opcoesGrupo=a.sent.map(a.t0);case 4:case"end":return a.stop()}},a,this)}));return function(){return a.apply(this,arguments)}}(),leOpcoesMarca:function(){var a=m()(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,k["a"].item.leValoresUnicos("marca",this.campos.marca);case 2:a.t0=function(a){return{rotulo:a,valor:a}},this.opcoesMarca=a.sent.map(a.t0);case 4:case"end":return a.stop()}},a,this)}));return function(){return a.apply(this,arguments)}}(),leOpcoesMaterial:function(){var a=m()(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,k["a"].item.leValoresUnicos("material",this.campos.material);case 2:a.t0=function(a){return{rotulo:a,valor:a}},this.opcoesMaterial=a.sent.map(a.t0);case 4:case"end":return a.stop()}},a,this)}));return function(){return a.apply(this,arguments)}}(),leOpcoesSubGrupo:function(){var a=m()(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,k["a"].item.leValoresUnicos("subGrupo",this.campos.subGrupo);case 2:a.t0=function(a){return{rotulo:a,valor:a}},this.opcoesSubGrupo=a.sent.map(a.t0);case 4:case"end":return a.stop()}},a,this)}));return function(){return a.apply(this,arguments)}}(),leOpcoesTipoMontagem:function(){var a=m()(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,k["a"].item.leValoresUnicos("tipoMontagem",this.campos.tipoMontagem);case 2:a.t0=function(a){return{rotulo:a,valor:a}},this.opcoesTipoMontagem=a.sent.map(a.t0);case 4:case"end":return a.stop()}},a,this)}));return function(){return a.apply(this,arguments)}}(),leOpcoesUnidade:function(){var a=m()(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,k["a"].item.leValoresUnicos("unidade",this.campos.unidade);case 2:a.t0=function(a){return{rotulo:a,valor:a}},this.opcoesUnidade=a.sent.map(a.t0);case 4:case"end":return a.stop()}},a,this)}));return function(){return a.apply(this,arguments)}}(),leOpcoesPerfilContabil:function(){var a=m()(regeneratorRuntime.mark(function a(){var e;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(y["c"])().list("perfilContabil");case 2:a.t0=function(a,e){return a.descricao.localeCompare(e.descricao,void 0,{sensitivity:"base"})},a.t1=function(a){return{rotulo:a.descricao,valor:a.id}},e=a.sent.sort(a.t0).map(a.t1),this.opcoesPerfilContabil=[{rotulo:"",valor:""}].concat(n()(e));case 6:case"end":return a.stop()}},a,this)}));return function(){return a.apply(this,arguments)}}(),selecionarEquipamento:function(){var a=m()(regeneratorRuntime.mark(function a(e){var o,t,r;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:o=Object.keys(e)[0],t=e[o].item,_["gconsole"].log("ItemFicha","selecionarEquipamento",t,this.indiceProducaoFase),r=this.campos.producaoFase[this.indiceProducaoFase],r.itemEquipamento=t,r.idItemEquipamento=o,r.descricaoItemEquipamento=t.descricao||"",this.modalEquipamento=!1;case 8:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}(),selecionarFerramenta:function(){var a=m()(regeneratorRuntime.mark(function a(e){var o,t,r;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:o=Object.keys(e)[0],t=e[o].item,_["gconsole"].log("ItemFicha","selecionarFerramenta",t,this.indiceFerramenta),r=this.campos.producaoFase[this.indiceFerramenta],r.itemFerramenta=t,r.idItemFerramenta=o,r.descricaoItemFerramenta=t.descricao||"",this.modalFerramenta=!1;case 8:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}(),selecionarServico:function(){var a=m()(regeneratorRuntime.mark(function a(e){var o,t,r;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:o=Object.keys(e)[0],t=e[o].item,_["gconsole"].log("ItemFicha","selecionarServico",t,this.indiceServico),r=this.campos.producaoFase[this.indiceServico],r.itemServico=t,r.idItemServico=o,r.descricaoItemServico=t.descricao||"",this.modalServico=!1;case 8:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}(),selecionarTratamento:function(){var a=m()(regeneratorRuntime.mark(function a(e){var o,t,r;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return o=Object.keys(e)[0],t=e[o].item,_["gconsole"].log("ItemFicha","selecionarTratamento",t,this.indiceTratamento),r=this.campos.composicao[this.indiceTratamento],r.idItemUtilizado=o,a.next=7,this.atualizarItemComposicao(this.indiceTratamento,t);case 7:this.modalTratamento=!1;case 8:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}(),selecionarItemUtilizado:function(){var a=m()(regeneratorRuntime.mark(function a(e){var o,t,r;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return o=Object.keys(e)[0],t=e[o].item,_["gconsole"].log("ItemFicha","selecionarItemUtilizado",t,this.indiceItemUtilizado),r=this.campos.composicao[this.indiceItemUtilizado],r.idItemUtilizado=o,a.next=7,this.atualizarItemComposicao(this.indiceItemUtilizado,t);case 7:this.modalItemUtilizado=!1;case 8:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}(),selecionarFornecedor:function(){var a=m()(regeneratorRuntime.mark(function a(e,o){var t;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:_["gconsole"].log("ItemFicha","selecionarFornecedor",o,this.indiceFornecedor),t=this.campos.fornecedor[this.indiceFornecedor],t.contato=o,t.idContato=e,t.descricaoContato=o.apelido||"",this.modalFornecedor=!1;case 6:case"end":return a.stop()}},a,this)}));return function(e,o){return a.apply(this,arguments)}}(),abrirModalArmacaoCor:function(){this.armacaoCor={modal:!0,nome:"",erro:""}},abrirModalArmacaoMaterial:function(){this.armacaoMaterial={modal:!0,nome:"",erro:""}},abrirModalCor:function(){this.cor={modal:!0,nome:"",erro:""}},abrirModalFoto:function(){this.modalFoto=!0,this.imagemModalFoto="",this.$refs.fotoCampo.reset()},abrirModalGrupo:function(){this.grupo={modal:!0,nome:"",erro:""}},abrirModalMarca:function(){this.marca={modal:!0,nome:"",erro:""}},abrirModalMaterial:function(){this.material={modal:!0,nome:"",erro:""}},abrirModalSubGrupo:function(){this.subGrupo={modal:!0,nome:"",erro:""}},abrirModalTipoMontagem:function(){this.tipoMontagem={modal:!0,nome:"",erro:""}},abrirModalUnidade:function(){this.unidade={modal:!0,nome:"",erro:""}},adicionarItemNaLista:function(){var a=m()(regeneratorRuntime.mark(function a(e){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return _["gconsole"].log("ItemFicha","adicionarItemNaLista"),e.push({}),a.next=4,k["a"].item.completa(this.campos);case 4:this.campos=a.sent,this.$set(e,e.length-1,e[e.length-1]);case 6:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}(),adicionarComposicao:function(){var a=m()(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:_["gconsole"].log("ItemFicha","adicionarComposicao",c()({},this.campos.composicao)),this.campos.composicao.push({idItemUtilizado:"",ordem:0,quantidade:1,temporario:{unidade:"",valor:0,total:0}});case 2:case"end":return a.stop()}},a,this)}));return function(){return a.apply(this,arguments)}}(),adicionarImagem:function(a){var e=this;this.$resizeImage(a[0],{crop:!0,outputFormat:"jpg",targetHeight:200,targetWidth:200},function(a,o){e.campos.imagem=o})},aoCancelar:function(){var a=this;if(!this.verificarSeAlterouCampos())return this.$q.notifyPositive("Não há dados alterados."),void this.atualizar();this.$q.dialog({cancel:"Continuar",message:"Ao continuar você irá perder todas as modificações.",ok:"Manter",title:"Tem certeza?"}).catch(function(){a.atualizar()})},atualizar:function(){var a=m()(regeneratorRuntime.mark(function a(){var e,o;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return e=Object(_["logarIni"])("ItemFichaAtualizar"),a.prev=1,a.next=4,k["a"].item.leCompleto(this.$route.params.id);case 4:return this.itemCompleto=a.sent,k["a"].item.selecionado=this.itemCompleto.atual,this.campos=this.itemCompleto.atual,this.utilizaMarkupInvertido=!this.campos.utilizaMarkup,this.utilizaComposicaoValorReposicaoInvertido=!this.campos.utilizaComposicaoValorReposicao,this.opcoesArmacaoCor=[this.campos.amarcaoCor||""].map(function(a){return{rotulo:a,valor:a}}),this.opcoesArmacaoMaterial=[this.campos.armacaoMaterial||""].map(function(a){return{rotulo:a,valor:a}}),this.opcoesCor=[this.campos.cor||""].map(function(a){return{rotulo:a,valor:a}}),this.opcoesGrupo=[this.campos.grupo||""].map(function(a){return{rotulo:a,valor:a}}),this.opcoesMarca=[this.campos.marca||""].map(function(a){return{rotulo:a,valor:a}}),this.opcoesMaterial=[this.campos.material||""].map(function(a){return{rotulo:a,valor:a}}),this.opcoesSubGrupo=[this.campos.subGrupo||""].map(function(a){return{rotulo:a,valor:a}}),this.opcoesTipoMontagem=[this.campos.tipoMontagem||""].map(function(a){return{rotulo:a,valor:a}}),this.opcoesUnidade=[this.campos.unidade||""].map(function(a){return{rotulo:a,valor:a}}),a.next=20,Object(y["c"])().get("perfilContabil",this.campos.idPerfilContabil);case 20:return a.t0=a.sent,a.t1=function(a){return{rotulo:a.descricao,valor:a.id}},this.opcoesPerfilContabil=[a.t0].map(a.t1),a.next=25,Object(y["c"])().list("impostoParametro",{filter:{impParamTipoCod:2}});case 25:a.t2=function(a){return{rotulo:a.numero.trim()+" - "+a.descr,valor:Number(a.numero)}},a.t3=function(a,e){return Number(a.valor)-Number(e.valor)},this.opcoesOrigem=a.sent.map(a.t2).sort(a.t3),a.t4=regeneratorRuntime.keys(this.campos.composicao);case 29:if((a.t5=a.t4()).done){a.next=35;break}return o=a.t5.value,a.next=33,this.atualizarItemComposicao(o);case 33:a.next=29;break;case 35:return this.itemCompleto.original.composicao=Object(_["clonarV2"])(this.campos.composicao),a.next=38,Object(y["c"])().first("_ncm",{filter:{ncm:this.campos.ncm}});case 38:if(a.t6=a.sent.descricao,a.t6){a.next=41;break}a.t6="";case 41:return this.descricaoNcm=a.t6,a.next=44,k["a"].estoqueSaldoProdutoEmpresa.leEstoquePorEmpresa(this.campos.id);case 44:this.estoquePorEmpresa=a.sent,this.carregarTabelasPreco(),a.next=51;break;case 48:a.prev=48,a.t7=a["catch"](1),this.$q.notifyError("Ocorreu erro ao consultar produto",a.t7);case 51:return a.prev=51,Object(_["logarFim"])(e),a.finish(51);case 54:case"end":return a.stop()}},a,this,[[1,48,51,54]])}));return function(){return a.apply(this,arguments)}}(),atualizarTabelasPreco:function(){var a=!0,e=!1,o=void 0;try{for(var t,r=this.tabelasPreco.map(function(a){return a.id})[Symbol.iterator]();!(a=(t=r.next()).done);a=!0){var i=t.value;this.atualizarTabelaPreco(i)}}catch(a){e=!0,o=a}finally{try{a||null==r.return||r.return()}finally{if(e)throw o}}},atualizarTabelaPreco:function(){var a=m()(regeneratorRuntime.mark(function a(e){var o,t,r;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(o=this.tabelasPreco.find(function(a){return a.id===e&&!a.habilitada}),o){a.next=3;break}return a.abrupt("return");case 3:return a.next=5,Object(q["a"])().itemTabelaPreco.get(o.id);case 5:if(t=a.sent,t.id){a.next=8;break}return a.abrupt("return");case 8:return a.next=10,k["a"].itemTabelaPreco.obterValores(t,this.campos);case 10:if(a.t0=a.sent,a.t0){a.next=13;break}a.t0={};case 13:r=a.t0,o.valorVenda=r.valorVenda||0,o.maximoDesconto=r.maximoDesconto||0;case 16:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}(),carregarTabelasPreco:function(){var a=m()(regeneratorRuntime.mark(function a(){var e,o,t,r,i,s,n,l,m,u;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return o=[],a.next=3,Object(q["a"])().itemTabelaPreco.filter(function(a){return 1===a.tabelaMaster}).toArray();case 3:e=a.sent,t=!0,r=!1,i=void 0,a.prev=7,s=e[Symbol.iterator]();case 9:if(t=(n=s.next()).done){a.next=26;break}if(l=n.value,!l.id){a.next=23;break}return m={},a.next=15,k["a"].itemTabelaPreco.obterValores(l,this.campos);case 15:if(a.t0=a.sent,a.t0){a.next=18;break}a.t0={};case 18:u=a.t0,m.habilitada=!u.tabelaMaster,m.valorVenda=u.valorVenda||0,m.maximoDesconto=u.maximoDesconto||0,o.push(c()({id:l.id,descricao:l.descricao},m));case 23:t=!0,a.next=9;break;case 26:a.next=32;break;case 28:a.prev=28,a.t1=a["catch"](7),r=!0,i=a.t1;case 32:a.prev=32,a.prev=33,t||null==s.return||s.return();case 35:if(a.prev=35,!r){a.next=38;break}throw i;case 38:return a.finish(35);case 39:return a.finish(32);case 40:o=Object(M["orderBy"])(o,"descricao","asc"),this.tabelasPreco=o,this.tabelasPrecoOriginal=Object(_["clonarV2"])(o);case 43:case"end":return a.stop()}},a,this,[[7,28,32,40],[33,,35,39]])}));return function(){return a.apply(this,arguments)}}(),salvarTabelasPreco:function(){var a=m()(regeneratorRuntime.mark(function a(){var e,o,t,r,i,c,s,n,l,m,u,p,d,f=this;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:e=this.tabelasPreco.filter(function(a){return!a.habilitada}),o=!0,t=!1,r=void 0,a.prev=4,i=regeneratorRuntime.mark(function a(){var e,o,t,r,i,c,n,l;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return e=s.value,a.next=3,Object(q["a"])().itemTabelaPreco.filter(function(a){return!a.tabelaMaster&&a.idItem===f.campos.id&&a.idItemTabelaPrecoPai===e.id}).toArray();case 3:o=a.sent,t=!0,r=!1,i=void 0,a.prev=7,c=o[Symbol.iterator]();case 9:if(t=(n=c.next()).done){a.next=18;break}return l=n.value,a.next=13,Object(q["a"])().itemTabelaPreco.delete(l.id);case 13:return a.next=15,Object(_["sincronismoEnviar"])("remover","itemTabelaPreco",l.id);case 15:t=!0,a.next=9;break;case 18:a.next=24;break;case 20:a.prev=20,a.t0=a["catch"](7),r=!0,i=a.t0;case 24:a.prev=24,a.prev=25,t||null==c.return||c.return();case 27:if(a.prev=27,!r){a.next=30;break}throw i;case 30:return a.finish(27);case 31:return a.finish(24);case 32:case"end":return a.stop()}},a,null,[[7,20,24,32],[25,,27,31]])}),c=e[Symbol.iterator]();case 7:if(o=(s=c.next()).done){a.next=12;break}return a.delegateYield(i(),"t0",9);case 9:o=!0,a.next=7;break;case 12:a.next=18;break;case 14:a.prev=14,a.t1=a["catch"](4),t=!0,r=a.t1;case 18:a.prev=18,a.prev=19,o||null==c.return||c.return();case 21:if(a.prev=21,!t){a.next=24;break}throw r;case 24:return a.finish(21);case 25:return a.finish(18);case 26:e=this.tabelasPreco.filter(function(a){return a.habilitada}),n=!0,l=!1,m=void 0,a.prev=30,u=regeneratorRuntime.mark(function a(){var e,o,t,r,i,c,s,n,l,m;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return e=d.value,a.next=3,Object(q["a"])().itemTabelaPreco.filter(function(a){return!a.tabelaMaster&&a.idItem===f.campos.id&&a.idItemTabelaPrecoPai===e.id}).toArray();case 3:o=a.sent,t=!0,r=!1,i=void 0,a.prev=7,c=o[Symbol.iterator]();case 9:if(t=(s=c.next()).done){a.next=22;break}if(n=s.value,l={},n.valorVenda!==e.valorVenda&&(l.valorVenda=e.valorVenda),n.maximoDesconto!==e.maximoDesconto&&(l.maximoDesconto=e.maximoDesconto),!Object.keys(l).length){a.next=19;break}return a.next=17,Object(q["a"])().itemTabelaPreco.update(n.id,l);case 17:return a.next=19,Object(_["sincronismoEnviar"])("atualizar","itemTabelaPreco",n.id,l);case 19:t=!0,a.next=9;break;case 22:a.next=28;break;case 24:a.prev=24,a.t0=a["catch"](7),r=!0,i=a.t0;case 28:a.prev=28,a.prev=29,t||null==c.return||c.return();case 31:if(a.prev=31,!r){a.next=34;break}throw i;case 34:return a.finish(31);case 35:return a.finish(28);case 36:if(o.length){a.next=42;break}return m={id:Object(_["uuid"])(),tabelaMaster:0,descricao:f.campos.descricao,idItemTabelaPrecoPai:e.id,idItem:f.campos.id,valorVenda:e.valorVenda,maximoDesconto:e.maximoDesconto},a.next=40,Object(q["a"])().itemTabelaPreco.put(m);case 40:return a.next=42,Object(_["sincronismoEnviar"])("adicionar","itemTabelaPreco",m.id,m);case 42:case"end":return a.stop()}},a,null,[[7,24,28,36],[29,,31,35]])}),p=e[Symbol.iterator]();case 33:if(n=(d=p.next()).done){a.next=38;break}return a.delegateYield(u(),"t2",35);case 35:n=!0,a.next=33;break;case 38:a.next=44;break;case 40:a.prev=40,a.t3=a["catch"](30),l=!0,m=a.t3;case 44:a.prev=44,a.prev=45,n||null==p.return||p.return();case 47:if(a.prev=47,!l){a.next=50;break}throw m;case 50:return a.finish(47);case 51:return a.finish(44);case 52:case"end":return a.stop()}},a,this,[[4,14,18,26],[19,,21,25],[30,40,44,52],[45,,47,51]])}));return function(){return a.apply(this,arguments)}}(),atualizarItemComposicao:function(){var a=m()(regeneratorRuntime.mark(function a(e,o){var t;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:_["gconsole"].log("ItemFicha","atualizarItemComposicao",e),t=this.campos.composicao[e],t.temporario||(t.temporario={}),t.item=o||t.item||{},t.descricaoItemUtilizado=t.item.descricao||"",t.temporario.unidade=t.item.unidade||"",t.temporario.valor=t.item.valorCustoReposicao||0,t.temporario.total=Object(_["arredondar"])((t.temporario.valor||0)*(t.quantidade||0),2),this.atualizarCustoReposicao(),this.$set(this.campos.composicao,e,t);case 10:case"end":return a.stop()}},a,this)}));return function(e,o){return a.apply(this,arguments)}}(),atualizarValorVendaLucro:function(){if(this.utilizaMarkupInvertido){if(this.campos.valorCustoReposicao&&this.campos.valorVenda){var a=100*(this.campos.valorVenda-this.campos.valorCustoReposicao)/this.campos.valorVenda;this.campos.percentualMarkup=Object(_["arredondar"])(a,2)}}else{var e=(this.campos.percentualMarkup||0)/100;if(this.campos.valorCustoReposicao&&e<1){var o=this.campos.valorCustoReposicao/(1-e);o&&(this.campos.valorVenda=Object(_["arredondar"])(o,2))}}},atualizarCustoReposicao:function(){this.campos&&this.campos.id&&!this.utilizaComposicaoValorReposicaoInvertido&&(this.campos.valorCustoReposicao=this.campos.composicao.reduce(function(a,e){return a+e.temporario.total},0))},completarCodigoBarras:function(){!this.campos.codigoBarras&&this.campos.codigoItem&&(this.campos.codigoBarras=Object(_["completarCodigoBarras"])(String(this.campos.codigoItem)))},confirmarFoto:function(){_["gconsole"].log("ItemFicha","confirmarFoto"),this.modalFoto=!1,this.campos.imagem=this.imagemModalFoto},criarGrupo:function(){var a=m()(regeneratorRuntime.mark(function a(){var e=this;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,this.grupo.nome){a.next=4;break}return this.grupo.erro="Favor preencher",a.abrupt("return");case 4:if(!(this.grupo.nome.length>50)){a.next=7;break}return this.grupo.erro="Máximo 50 caracteres",a.abrupt("return");case 7:if(!this.opcoesGrupo.find(function(a){return a.rotulo.toUpperCase()===e.grupo.nome.toUpperCase()})){a.next=10;break}return this.grupo.erro="Nome já existente",a.abrupt("return");case 10:this.grupo.modal=!1,this.campos.grupo=this.grupo.nome,this.opcoesGrupo=[this.campos.grupo||""].map(function(a){return{rotulo:a,valor:a}}),this.$q.notifyPositive("Grupo criado com sucesso."),a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](0),this.$q.notifyError("Ocorreu um erro ao criar grupo",a.t0);case 19:case"end":return a.stop()}},a,this,[[0,16]])}));return function(){return a.apply(this,arguments)}}(),criarMarca:function(){var a=m()(regeneratorRuntime.mark(function a(){var e=this;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,this.marca.nome){a.next=4;break}return this.marca.erro="Favor preencher",a.abrupt("return");case 4:if(!(this.marca.nome.length>50)){a.next=7;break}return this.marca.erro="Máximo 50 caracteres",a.abrupt("return");case 7:if(!this.opcoesMarca.find(function(a){return a.rotulo.toUpperCase()===e.marca.nome.toUpperCase()})){a.next=10;break}return this.marca.erro="Nome já existente",a.abrupt("return");case 10:this.marca.modal=!1,this.campos.marca=this.marca.nome,this.opcoesMarca=[this.campos.marca||""].map(function(a){return{rotulo:a,valor:a}}),this.$q.notifyPositive("Marca criada com sucesso."),a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](0),this.$q.notifyError("Ocorreu um erro ao criar marca",a.t0);case 19:case"end":return a.stop()}},a,this,[[0,16]])}));return function(){return a.apply(this,arguments)}}(),criarArmacaoCor:function(){var a=m()(regeneratorRuntime.mark(function a(){var e=this;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,this.armacaoCor.nome){a.next=4;break}return this.armacaoCor.erro="Favor preencher",a.abrupt("return");case 4:if(!(this.armacaoCor.nome.length>50)){a.next=7;break}return this.armacaoCor.erro="Máximo 50 caracteres",a.abrupt("return");case 7:if(!this.opcoesArmacaoCor.find(function(a){return a.rotulo.toUpperCase()===e.armacaoCor.nome.toUpperCase()})){a.next=10;break}return this.armacaoCor.erro="Nome já existente",a.abrupt("return");case 10:this.armacaoCor.modal=!1,this.campos.amarcaoCor=this.armacaoCor.nome,this.opcoesArmacaoCor=[this.campos.amarcaoCor||""].map(function(a){return{rotulo:a,valor:a}}),this.$q.notifyPositive("Cor criada com sucesso."),a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](0),this.$q.notifyError("Ocorreu um erro ao criar Cor",a.t0);case 19:case"end":return a.stop()}},a,this,[[0,16]])}));return function(){return a.apply(this,arguments)}}(),criarArmacaoMaterial:function(){var a=m()(regeneratorRuntime.mark(function a(){var e=this;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,this.armacaoMaterial.nome){a.next=4;break}return this.armacaoMaterial.erro="Favor preencher",a.abrupt("return");case 4:if(!(this.armacaoMaterial.nome.length>50)){a.next=7;break}return this.armacaoMaterial.erro="Máximo 50 caracteres",a.abrupt("return");case 7:if(!this.opcoesArmacaoMaterial.find(function(a){return a.rotulo.toUpperCase()===e.armacaoMaterial.nome.toUpperCase()})){a.next=10;break}return this.armacaoMaterial.erro="Nome já existente",a.abrupt("return");case 10:this.armacaoMaterial.modal=!1,this.campos.armacaoMaterial=this.armacaoMaterial.nome,this.opcoesArmacaoMaterial=[this.campos.armacaoMaterial||""].map(function(a){return{rotulo:a,valor:a}}),this.$q.notifyPositive("Material criado com sucesso."),a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](0),this.$q.notifyError("Ocorreu um erro ao criar Material",a.t0);case 19:case"end":return a.stop()}},a,this,[[0,16]])}));return function(){return a.apply(this,arguments)}}(),criarCor:function(){var a=m()(regeneratorRuntime.mark(function a(){var e=this;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,this.cor.nome){a.next=4;break}return this.cor.erro="Favor preencher",a.abrupt("return");case 4:if(!(this.cor.nome.length>50)){a.next=7;break}return this.cor.erro="Máximo 50 caracteres",a.abrupt("return");case 7:if(!this.opcoesCor.find(function(a){return a.rotulo.toUpperCase()===e.cor.nome.toUpperCase()})){a.next=10;break}return this.cor.erro="Nome já existente",a.abrupt("return");case 10:this.cor.modal=!1,this.campos.cor=this.cor.nome,this.opcoesCor=[this.campos.cor||""].map(function(a){return{rotulo:a,valor:a}}),this.$q.notifyPositive("Cor criada com sucesso."),a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](0),this.$q.notifyError("Ocorreu um erro ao criar cor",a.t0);case 19:case"end":return a.stop()}},a,this,[[0,16]])}));return function(){return a.apply(this,arguments)}}(),criarMaterial:function(){var a=m()(regeneratorRuntime.mark(function a(){var e=this;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,this.material.nome){a.next=4;break}return this.material.erro="Favor preencher",a.abrupt("return");case 4:if(!(this.material.nome.length>50)){a.next=7;break}return this.material.erro="Máximo 50 caracteres",a.abrupt("return");case 7:if(!this.opcoesMaterial.find(function(a){return a.rotulo.toUpperCase()===e.material.nome.toUpperCase()})){a.next=10;break}return this.material.erro="Nome já existente",a.abrupt("return");case 10:this.material.modal=!1,this.campos.material=this.material.nome,this.opcoesMaterial=[this.campos.material||""].map(function(a){return{rotulo:a,valor:a}}),this.$q.notifyPositive("Material criado com sucesso."),a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](0),this.$q.notifyError("Ocorreu um erro ao criar material",a.t0);case 19:case"end":return a.stop()}},a,this,[[0,16]])}));return function(){return a.apply(this,arguments)}}(),criarTipoMontagem:function(){var a=m()(regeneratorRuntime.mark(function a(){var e=this;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,this.tipoMontagem.nome){a.next=4;break}return this.tipoMontagem.erro="Favor preencher",a.abrupt("return");case 4:if(!(this.tipoMontagem.nome.length>50)){a.next=7;break}return this.tipoMontagem.erro="Máximo 50 caracteres",a.abrupt("return");case 7:if(!this.opcoesTipoMontagem.find(function(a){return a.rotulo.toUpperCase()===e.tipoMontagem.nome.toUpperCase()})){a.next=10;break}return this.tipoMontagem.erro="Nome já existente",a.abrupt("return");case 10:this.tipoMontagem.modal=!1,this.campos.tipoMontagem=this.tipoMontagem.nome,this.opcoesTipoMontagem=[this.campos.tipoMontagem||""].map(function(a){return{rotulo:a,valor:a}}),this.$q.notifyPositive("Tipo de montagem criado com sucesso."),a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](0),this.$q.notifyError("Ocorreu um erro ao criar tipo de montagem",a.t0);case 19:case"end":return a.stop()}},a,this,[[0,16]])}));return function(){return a.apply(this,arguments)}}(),criarSubGrupo:function(){var a=m()(regeneratorRuntime.mark(function a(){var e=this;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,this.subGrupo.nome){a.next=4;break}return this.subGrupo.erro="Favor preencher",a.abrupt("return");case 4:if(!(this.subGrupo.nome.length>50)){a.next=7;break}return this.subGrupo.erro="Máximo 50 caracteres",a.abrupt("return");case 7:if(!this.opcoesSubGrupo.find(function(a){return a.rotulo.toUpperCase()===e.subGrupo.nome.toUpperCase()})){a.next=10;break}return this.subGrupo.erro="Nome já existente",a.abrupt("return");case 10:this.subGrupo.modal=!1,this.campos.subGrupo=this.subGrupo.nome,this.opcoesSubGrupo=[this.campos.subGrupo||""].map(function(a){return{rotulo:a,valor:a}}),this.$q.notifyPositive("SubGrupo criado com sucesso."),a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](0),this.$q.notifyError("Ocorreu um erro ao criar SubGrupo",a.t0);case 19:case"end":return a.stop()}},a,this,[[0,16]])}));return function(){return a.apply(this,arguments)}}(),criarUnidade:function(){var a=m()(regeneratorRuntime.mark(function a(){var e=this;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,this.unidade.nome){a.next=4;break}return this.unidade.erro="Favor preencher",a.abrupt("return");case 4:if(!(this.unidade.nome.length>50)){a.next=7;break}return this.unidade.erro="Máximo 50 caracteres",a.abrupt("return");case 7:if(!this.opcoesUnidade.find(function(a){return a.rotulo.toUpperCase()===e.unidade.nome.toUpperCase()})){a.next=10;break}return this.unidade.erro="Nome já existente",a.abrupt("return");case 10:this.unidade.modal=!1,this.campos.unidade=this.unidade.nome,this.opcoesUnidade=[this.campos.unidade||""].map(function(a){return{rotulo:a,valor:a}}),this.$q.notifyPositive("Unidade criada com sucesso."),a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](0),this.$q.notifyError("Ocorreu um erro ao criar unidade",a.t0);case 19:case"end":return a.stop()}},a,this,[[0,16]])}));return function(){return a.apply(this,arguments)}}(),removerConfirma:function(){return this.$q.dialog({cancel:!0,color:"negative",title:"Tem certeza?",message:"Ao continuar você irá remover este item.",ok:"Remover"})},removerItem:function(){var a=m()(regeneratorRuntime.mark(function a(){var e;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return e=!1,a.prev=1,a.next=4,this.removerConfirma();case 4:e=!0,a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](1),e=!1;case 10:if(this.$q.loading.show(),a.prev=11,!e){a.next=19;break}return this.campos.ativo=!1,a.next=16,k["a"].item.grava(this.itemCompleto);case 16:return a.next=18,this.atualizar();case 18:this.$q.notifyPositive("O produto foi excluído com sucesso.");case 19:a.next=24;break;case 21:a.prev=21,a.t1=a["catch"](11),this.$q.notifyError("Ocorreu um erro ao remover produto",a.t1);case 24:return a.prev=24,this.$q.loading.hide(),a.finish(24);case 27:case"end":return a.stop()}},a,this,[[1,7],[11,21,24,27]])}));return function(){return a.apply(this,arguments)}}(),removerItemDaLista:function(){var a=m()(regeneratorRuntime.mark(function a(e,o){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,this.removerConfirma();case 3:return e.splice(o,1),a.next=6,k["a"].item.completa(this.campos);case 6:this.campos=a.sent,a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),a.t0.message&&this.$q.notifyError("Ocorreu um erro ao remover",a.t0);case 12:case"end":return a.stop()}},a,this,[[0,9]])}));return function(e,o){return a.apply(this,arguments)}}(),removerComposicao:function(){var a=m()(regeneratorRuntime.mark(function a(e){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,this.removerConfirma();case 3:this.campos.composicao.splice(e,1),0===this.campos.composicao.length&&this.adicionarComposicao(),this.atualizarCustoReposicao(),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),a.t0.message&&this.$q.notifyError("Ocorreu um erro ao remover",a.t0);case 11:case"end":return a.stop()}},a,this,[[0,8]])}));return function(e){return a.apply(this,arguments)}}(),removerImagem:function(){delete this.campo.imagem},restaurarItem:function(){var a=m()(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return this.$q.loading.show(),a.prev=1,this.campos.ativo=!0,a.next=5,k["a"].item.grava(this.itemCompleto);case 5:return a.next=7,this.atualizar();case 7:this.$q.notifyPositive("O produto foi restaurado com sucesso."),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](1),this.$q.notifyError("Ocorreu um erro ao restaurar",a.t0);case 13:return a.prev=13,this.$q.loading.hide(),a.finish(13);case 16:case"end":return a.stop()}},a,this,[[1,10,13,16]])}));return function(){return a.apply(this,arguments)}}(),salvarItem:function(){var a=m()(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(_["gconsole"].log("ItemFicha","salvarItem"),this.verificarSeAlterouCampos()){a.next=3;break}return a.abrupt("return",this.$q.notifyPositive("Não há dados alterados."));case 3:return a.next=5,Object(_["verificarSeCamposSaoValidos"])(this.$v.campos,this);case 5:if(a.sent){a.next=7;break}return a.abrupt("return",this.$q.notify("Há erros de validação no formulário."));case 7:return this.completarCodigoBarras(),a.prev=8,this.$q.loading.show(),a.next=12,k["a"].item.grava(this.itemCompleto);case 12:return a.next=14,this.salvarTabelasPreco();case 14:return a.next=16,this.atualizar();case 16:this.$q.notifyPositive("Os dados do produto foram salvos com sucesso."),a.next=22;break;case 19:a.prev=19,a.t0=a["catch"](8),this.$q.notifyError("Ocorreu um erro ao salvar",a.t0);case 22:return a.prev=22,this.$q.loading.hide(),a.finish(22);case 25:case"end":return a.stop()}},a,this,[[8,19,22,25]])}));return function(){return a.apply(this,arguments)}}(),conferirNcm:function(){var a=m()(regeneratorRuntime.mark(function a(){var e,o=this;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:e={},8!==this.campos.ncm.length||/[^\d]/g.test(this.campos.ncm)||(e=this.ncm.find(function(a){return a.ncm===o.campos.ncm})||{}),!e.id&&this.campos.ncm&&this.campos.idNcm&&(e=this.ncm[this.ncmIdx[this.campos.idNcm]]||{}),this.campos.ncm=e.ncm||"",this.campos.idNcm=e.id||"",this.descricaoNcm=e.descricao||"";case 6:case"end":return a.stop()}},a,this)}));return function(){return a.apply(this,arguments)}}(),selecionarNcm:function(){var a=m()(regeneratorRuntime.mark(function a(e){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:_["gconsole"].log("ItemFicha","selecionarNcm",e),this.campos.ncm=e.label||"",this.campos.idNcm=e.value||"",this.descricaoNcm=e.sublabel||"";case 4:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}(),trocarFoto:function(a){var e=this;this.$resizeImage(a[0],{crop:!0,outputFormat:"jpg",targetHeight:200,targetWidth:200},function(a,o){e.imagemModalFoto=o})},verificarSeAlterouCampos:function(){var a=Object(_["diferenca"])(this.itemCompleto.original,this.campos);return _["gconsole"].log("ItemFicha","verificarSeAlterouCampos",null!==a,a),a||(a=Object(_["diferenca"])(this.tabelasPrecoOriginal,this.tabelasPreco)),null!==a}},mixins:[b["a"]],validations:{campos:{descricao:{minLength:Object(w["minLength"])(2),required:w["required"]},referencia:{validar:k["a"].item.validarReferenciaUnica}}},watch:{"campos.percentualMarkup":function(){this.atualizarValorVendaLucro()},utilizaComposicaoValorReposicaoInvertido:function(){this.campos.utilizaComposicaoValorReposicao=!this.utilizaComposicaoValorReposicaoInvertido,this.atualizarCustoReposicao()},utilizaMarkupInvertido:function(){this.campos.utilizaMarkup=!this.utilizaMarkupInvertido,this.atualizarValorVendaLucro()},"campos.valorCustoReposicao":function(){this.atualizarValorVendaLucro()},"campos.valorVenda":function(){_["gconsole"].log("ItemFicha","watch campos.valorVenda"),this.atualizarValorVendaLucro()},descricaoConcatenada:function(a){this.campos.descricaoConcatenada=a},"$route.params.id":function(){this.atualizar()}},created:function(){_["gconsole"].log("ItemFicha","created()"),this.sistemaPai=Object(_["sistemaPai"])(),this.atualizar(),this.indexarNcms()}},I=R,$=o("2877"),F=Object($["a"])(I,t,r,!1,null,null,null);F.options.__file="ItemFicha.vue";e["default"]=F.exports},7551:function(a,e,o){"use strict";var t=o("3156"),r=o.n(t),i={descricao:{maxlength:"50",rotulo:"Descrição",tipo:"texto"},idContato:{rotulo:"Nome fornecedor",tipo:"texto"},referencia:{maxlength:"30",rotulo:"Referência",tipo:"texto"}},c={idItemUtilizado:{rotulo:"Produto para composição",tipo:"texto"},ordem:{max:"9999",min:"0",rotulo:"Ordem",tipo:"quantidade"},quantidade:{min:"0",rotulo:"Quantidade",tipo:"decimal",decimals:"4"},temporario:{total:{readonly:!0,rotulo:"Total",tipo:"decimal",decimals:"2"},unidade:{disable:!0,readonly:!0,rotuloFixo:"Unidade",tipo:"texto"},valor:{readonly:!0,rotulo:"Valor",tipo:"decimal",decimals:"2"}}},s={descricao:{maxlength:"8000",rotulo:"Descrição",tipo:"texto"},idItemEquipamento:{rotulo:"Equipamento",tipo:"texto"},idItemFerramenta:{rotulo:"Ferramenta",tipo:"texto"},idItemServico:{rotulo:"Servico",tipo:"texto"},ordem:{max:"9999",min:"0",rotulo:"Ordem",tipo:"quantidade"}},n={descricao:{maxlength:"150",rotulo:"Descrição"},especificacao:{maxlength:"150",rotulo:"Especificação"},limites:{maxlength:"150",rotulo:"Limites"}},l={altura:{rotulo:"Altura",tipo:"decimal",decimals:"0"},armacaoCor:{rotuloFixo:"Cor",tipo:"seletor"},armacaoMaterial:{rotuloFixo:"Material",tipo:"seletor"},diagonal:{rotulo:"Diagonal",tipo:"decimal",decimals:"0"},genero:{class:"col-12 col-md-6",rotuloFixo:"Gênero",tipo:"seletor"},haste:{rotulo:"Haste",tipo:"decimal",decimals:"0"},modelo:{maxlength:"100",rotulo:"Modelo",tipo:"texto"},ponte:{rotulo:"Ponte",tipo:"decimal",decimals:"0"},largura:{maxlength:"100",rotulo:"Largura",tipo:"texto"},tipoMontagem:{rotuloFixo:"Tipo de montagem",tipo:"seletor"}},m={aplicacao:{maxlength:"10000",rotulo:"Aplicação",rows:"2",tipo:"textoArea"},capacidade:{rotulo:"Capacidade",tipo:"decimal",decimals:"2"},capacidadeUnidade:{class:"col-12 col-md-3",maxlength:"20",rotulo:"Un. Capacidade",tipo:"texto"},codigoOrigem:{rotuloFixo:"Origem",tipo:"seletor",tipo2:"numerico"},comprimento:{rotulo:"Comprimento",tipo:"decimal",decimals:"2"},densidade:{rotulo:"Densidade",tipo:"decimal",decimals:"2"},embalagem:{class:"col-12 col-md-3",maxlength:"255",rotulo:"Embalagem",tipo:"texto"},garantiaDescricao:{maxlength:"255",rotulo:"Garantia descrição",tipo:"texto"},garantiaDias:{class:"col-12 col-md-4",min:"0",max:"9999",rotulo:"Garantia (dias)",tipo:"quantidade"},grupo:{rotuloFixo:"Grupo",tipo:"seletor"},idPerfilContabil:{class:"col-12 col-md-4",rotulo:"Perfil contábil",tipo:"seletor"},largura:{rotulo:"Largura",tipo:"decimal",decimals:"2"},observacao:{maxlength:"10000",rotulo:"Observação",rows:"4",tipo:"textoArea"},peso:{rotulo:"Peso",tipo:"decimal",decimals:"2"},subGrupo:{rotuloFixo:"SubGrupo",tipo:"seletor"},unidade:{rotuloFixo:"Unidade",tipo:"seletor"},unidade__:{valorInicial:"UN"},validadeMeses:{class:"col-12 col-md-3",min:"0",max:"9999",rotulo:"Validade (meses)",tipo:"decimal",decimals:"2"}},u={consumoMedio:{min:"0",rotulo:"Consumo médio",tipo:"decimal",decimals:"2"},local:{maxlength:"20",rotulo:"Local",tipo:"texto"},quantidadeMinimaCompra:{min:"0",rotulo:"Qtde compra reposição",tipo:"decimal",decimals:"2"},quantidadeMinimaEstoque:{min:"0",rotulo:"Estoque mínimo",tipo:"decimal",decimals:"2"},tempoMedioReposicao:{min:"0",rotulo:"Tempo médio reposição (dias)",tipo:"quantidade"}},p={codigoBarras:{erroRotulo:"Deve ter 12 ou 13 dígitos",maxlength:"13",rotulo:"Código de barras (GTIN ou EAN)",tipo:"texto"},descricao:{erroRotulo:"O nome deve ter pelo menos 2 caracteres",maxlength:"500",rotulo:"Nome do produto",tipo:"texto"},marca:{rotuloFixo:"Marca",tipo:"seletor"},fabricante:{rotuloFixo:"Fabricante",tipo:"seletor"},ncm:{maxlength:"8",rotulo:"NCM",tipo:"texto"},catalogo:{maxlength:"8",rotulo:"Catálogo Fabricante",tipo:"texto"},percentualMarkup:{rotulo:"Lucro",tipo:"decimal",decimals:"2"},referencia:{erroRotulo:"Referência deve ser única",maxlength:"30",rotulo:"Referência",tipo:"texto"},tipo:{rotuloFixo:"Tipo",tipo:"seletor"},utilizaComposicaoValorReposicao:{tipo:"logico"},utilizaMarkup:{tipo:"logico"},valorCustoReposicao:{rotulo:"Custo de reposição",tipo:"decimal",decimals:"2"},valorVenda:{rotulo:"Valor de venda",tipo:"decimal",decimals:"2"}},d={adicaoFinal:{rotulo:"até",tipo:"decimal",decimals:"2"},adicaoInicial:{rotulo:"Adição",tipo:"decimal",decimals:"2"},alturaMinima:{rotulo:"Altura mínima",tipo:"decimal",decimals:"0"},cilindrico:{rotulo:"Cilíndrico",tipo:"decimal",decimals:"2"},cor:{rotuloFixo:"Cor",tipo:"seletor"},diametro:{rotulo:"Diâmetro",tipo:"decimal",decimals:"0"},eixo:{rotulo:"Eixo",tipo:"decimal",decimals:"2"},eixoFinal:{rotulo:"até",tipo:"decimal",decimals:"2"},esfericoFinal:{rotulo:"até",tipo:"decimal",decimals:"2"},esfericoInicial:{rotulo:"Esférico",tipo:"decimal",decimals:"2"},geometria:{rotulo:"Geometria",tipo:"seletor"},indiceRefracao:{rotulo:"Índice refração",tipo:"decimal",decimals:"2"},lenteTipo:{rotulo:"Tipo de lente",tipo:"seletor"},material:{rotuloFixo:"Material",tipo:"seletor"},RB1:{rotulo:"RB1",tipo:"decimal",decimals:"2"},RB2:{rotulo:"RB2",tipo:"decimal",decimals:"2"},surfacada:{rotulo:"Pronta ou surfaçada",tipo:"seletor"}},f={procedimento:{maxlength:"10000",rotuloFixo:"Procedimento",rows:"3",tipo:"textoArea"},numeroPop:{maxlength:"50",rotulo:"Número Pop",tipo:"texto"}},h={ativo:{tipo:"logico"},consumoMedioReal:{tipo:"quantidade"},percentualMarkupReal:{tipo:"decimal",decimals:"2"},quantidadeDisponivel:{tipo:"quantidade"},tempoMedioReposicaoReal:{tipo:"quantidade"},utilizaComposicaoPedido:{tipo:"logico"},valorCusto:{tipo:"decimal",decimals:"2"},valorCustoMedio:{tipo:"decimal",decimals:"2"},valorCustoUltimo:{tipo:"decimal",decimals:"2"}},v=r()({composicao:{lista:c},fornecedor:{lista:i},producaoFase:{lista:s},qualidade:{lista:n}},l,m,u,p,d,h,f);e["a"]=v}}]);