(self.webpackChunkb15=self.webpackChunkb15||[]).push([[987],{64139:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>ce});var a=t(34182);const i=(0,a.createVNode)("span",{class:"col-12 text-body1 text-dark"},"Período de Emissão",-1),r=(0,a.createVNode)("span",{class:"col-12 text-body1 text-dark"},"Período de Finalização",-1);var d=t(71986);const l={class:"col-auto q-pl-none items-center"},n={class:"col"},s={class:"col-12"},c=(0,a.createTextVNode)(" Finalizado "),u=(0,a.createTextVNode)(" Emissão "),m=(0,a.createTextVNode)(" Vendedor(a) "),p=(0,a.createTextVNode)("Valor total"),f=(0,a.createTextVNode)("NFe de Saída/Venda"),h=(0,a.createTextVNode)("NFe de Entrada/Devolução"),V=(0,a.createTextVNode)("NFe de Remessa"),v=(0,a.createTextVNode)("Migrar para nova fatura"),g=(0,a.createTextVNode)("Histórico do Status"),C={class:"col-12 col-md-4"},x=(0,a.createTextVNode)(" OS "),N=(0,a.createTextVNode)("OS "),w={class:"col-12 col-md-4"},k={class:"q-px-sm"},b={class:"q-mt-sm"},y={style:{display:"block"}},_=(0,a.createVNode)("br",null,null,-1),D={class:"round-borders"},S={class:"col-12 col-md-4"},I={class:"q-px-sm"},B=(0,a.createTextVNode)(" Faturamento "),F={class:"q-mt-sm"},T={style:{display:"block"}},E={class:"q-px-sm text-right"},q={class:"q-mt-none text-right"},z=(0,a.createVNode)("small",{class:"q-mr-xs"},"Desconto",-1),M={class:"text-subtitle1"};var A=t(15358),$=t(72407),U=t(40480),H=t(79815),Z=t(87939),O=t(11463),L=t(96986),P=t(88603);const R={components:{Avatar:A.Z,Badge:$.Z,DocumentosFiscais:U.Z,VendaModal:Z.Z,ModalHistoricoStatus:H.Z},computed:{config:()=>O.db.configuracoes.valores,podeMigrarFatura(){return!["Aguardando Estoque","Aguardando Financeiro","Aguardando Aprovação","Aguardando Pagamento","Cancelado","Não Aprovado","Orçamento","Faturado"].includes(this.dados.venda.status)}},data:()=>({dbUsuario:O.db.usuario,dados:{venda:{}},contatos:{},faturasAbertas:[],detalhesVisivel:!1,visibilidade:{botao:{editar:!1,remover:!1}},modalDevolucaoGarantia:{visivel:!1,item:{},orcamento:{}},sistemaPai:"",configImpressaoOrcamento:[],configImpressaoEnvelope:[]}),emits:["executar"],methods:{irParaAtendimentoFatura(e){this.$router.push({name:"AtendimentoFatura",params:{id:e}})},async migrarFatura(e){try{await this.$q.dialog({message:"Esta ação irá migrar esta venda para outra fatura.",noRefocus:!0,preventClose:!0,title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-primary",textColor:"white",flat:!0}})}catch(e){return}e||(e=O.db.fatura.criar(this.dados.venda),await O.db.fatura.grava({fatura:e})),e.id?(await O.db.venda.grava({venda:{id:this.dados.venda.id,idFatura:e.id},vendaOriginal:this.dados.venda}),localStorage.setItem("idFatura",e.id),this.dados.venda.idContato&&(this.$emit("executar","atualizar"),this.irParaAtendimentoFatura(this.dados.venda.idContato))):this.$q.notify("Não foi possível realizar a operação")},alternarDetalhes(){this.detalhesVisivel=!this.detalhesVisivel},async atualizar(){const e=await O.db.venda.leCompleto(this.id);if(e.carrinho.sort(((e,o)=>new Date(e.dataHoraEmissao)<new Date(o.dataHoraEmissao)?-1:1)),e.oss.sort(((e,o)=>new Date(e.documento.dataHoraEmissao)<new Date(o.documento.dataHoraEmissao)?-1:1)),e.customs.sort(((e,o)=>new Date(e.documento.dataHoraEmissao)<new Date(o.documento.dataHoraEmissao)?-1:1)),(e.venda||{}).idContato&&(e.venda||{}).idEmpresa){let o=[];o=await O.db.fatura.obterAbertas(e.venda.idContato,e.venda.idEmpresa),this.faturasAbertas=o.sort(((e,o)=>!e.numero||e.numero<o.numero?-1:1))}const o={};if(e.venda.idContato){const t=e.venda.idContato;o[t]||(o[t]=await O.db.contato.le({id:t}))}if(e.venda.idContatoVendedor){const t=e.venda.idContatoVendedor;o[t]||(o[t]=await O.db.contato.le({id:t}))}this.configuraImpressaoEnvelope(e.venda.idEmpresa),this.configuraImpressaoOrcamento(e.venda.idEmpresa),this.contatos=o,this.dados=e,await this.$nextTick(),e.venda.id===localStorage.getItem("idVenda")&&(this.$refs.vendaModal.mostrar({id:e.venda.id}),localStorage.removeItem("idVenda"))},async configuraImpressaoEnvelope(e){const o=await O.db.configuracoes.porNome("impressao.envelope",e);this.configImpressaoEnvelope=[...o.length?o.map((e=>({texto:"Imprimir Envelope",...e}))):[{valor:"envelope",texto:"Imprimir Envelope"},{valor:"envelopeMini",texto:"Imprimir Envelope Mini"}]]},async configuraImpressaoOrcamento(e){const o=await O.db.configuracoes.porNome("impressao.venda",e);this.configImpressaoOrcamento=[...o.length?o.map((e=>({texto:"Imprimir Orçamento",...e}))):[{valor:"invoice",texto:"Orçamento/Venda (Invoice)"},"optisoul"===this.sistemaPai?{valor:"orcamento",texto:"Orçamento (Antigo)"}:{}]]},copiarUid(){const e=this.$refs.uid;e.type="text";try{e.select(),document.execCommand("copy"),this.$q.notify({message:"UID copiado para a área de transferência.",type:"info"})}catch(e){this.$q.notify("Erro ao copiar.")}e.type="hidden",window.getSelection().removeAllRanges()},descricaoEnvelope(e){let o="";for(const t of this.dados.itensEnvelopes)t.idDocumentoAdicional===e&&t.descricaoItem.trim()&&(o+=t.descricaoItem.trim()+" | ");return o.slice(0,-3)},async devolucaoGarantia(e){let o=await O.db.documento.le({idContato:O.db.contato.selecionado.id,tipo:"Venda",status:"Orçamento"});o=(0,P.orderBy)(o,"dataHoraEmissao","desc"),o.length?this.modalDevolucaoGarantia={visivel:!0,item:e,orcamento:o[0]}:this.$q.notify({message:"Crie um orçamento para inclusão de devolução/garantia.",type:"info"})},editar(){this.$refs.vendaModal.mostrar({id:this.dados.venda.id})},executar(e){switch(e){case"atualizar":this.atualizar();break;case"cancelar":case"finalizar":case"reprovar":this.$emit("executar","atualizar");break;case"retornarOrcamento":this.$emit("executar",e)}},async finalizaDevolucaoGarantia(e,o,t){const a=(0,L.clonar)(e);"devolucao"===o&&(a.operacao="Devolução de Venda"),"garantia"===o&&(a.operacao="Garantia de Venda",a.motivo=t),a.idDocumentoItemVenda=a.id,a.idDocumentoVenda=a.idDocumento,a.id=(0,L.uuid)(),a.idDocumento=this.modalDevolucaoGarantia.orcamento.id,a.status="Orçamento",a.operacaoFator=1,a.codigoCfop=20,a.idCfop=(await O.db.cfop.le({codigoCfop:20}))[0].id,a.dataHoraEmissao=(0,L.dataAtual)(),a.dataHoraFinalizado="",a.subTotal=-1*a.subTotal,a.total=-1*a.total,a.valorItem=-1*a.valorItem,a.descontoSubTotal=0,delete a.codigoCfop,delete a.codigoDocumento,delete a.codigoDocumentoItem,delete a.codigoItem,delete a.codigoPlanoContaDestino,delete a.codigoPlanoContaEstoque,await O.db.documentoItem.grava({atual:a}),this.$q.notify({message:"Item adicionado ao orçamento.",type:"positive"}),localStorage.setItem("idVenda",this.modalDevolucaoGarantia.orcamento.id),this.$emit("executar","atualizar")},async remover(){this.$q.dialog({message:"Esta ação irá remover esta venda da fatura",title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk((async()=>{let e=(0,L.clonar)(this.dados.venda);this.dados.venda.idFatura="",await O.db.venda.grava({venda:this.dados.venda,vendaOriginal:e}),this.$emit("executar","remover")}))}},props:{id:{required:!0,type:String}},watch:{async dados(e){this.visibilidade.botao.editar=!1,this.visibilidade.botao.remover=!1,(await O.db.contatoBusca.filtrar(null,{ativo:!0,empresas:!0},0)).find((o=>o.id===e.venda.idEmpresa))&&(e.venda.idFatura&&this.faturasAbertas.find((o=>o.id===e.venda.idFatura))&&(this.visibilidade.botao.remover=!0),["Cancelado","Não Aprovado"].includes(e.venda.status)||e.venda.idFatura||(this.visibilidade.botao.editar=!0))}},mounted(){this.sistemaPai=(0,L.sistemaPai)(),this.atualizar()}};var G=t(77953),Q=t(60880),X=t(31106),W=t(76106),j=t(4957),J=t(76210),K=t(54707),Y=t(25901),ee=t(68900),oe=t(48761),te=t(83831),ae=t(98586),ie=t(7518),re=t.n(ie);R.render=function(e,o,t,i,r,d){const A=(0,a.resolveComponent)("badge"),$=(0,a.resolveComponent)("q-item-section"),U=(0,a.resolveComponent)("avatar"),H=(0,a.resolveComponent)("q-item-label"),Z=(0,a.resolveComponent)("q-badge"),O=(0,a.resolveComponent)("row"),L=(0,a.resolveComponent)("q-tooltip"),P=(0,a.resolveComponent)("q-btn"),R=(0,a.resolveComponent)("q-icon"),G=(0,a.resolveComponent)("q-item"),Q=(0,a.resolveComponent)("q-list"),X=(0,a.resolveComponent)("q-menu"),W=(0,a.resolveComponent)("q-toolbar-title"),j=(0,a.resolveComponent)("documentos-fiscais"),J=(0,a.resolveComponent)("q-separator"),K=(0,a.resolveComponent)("VendaModal"),Y=(0,a.resolveComponent)("modal-historico-status"),ee=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(a.Fragment,null,[r.dados.venda.id?((0,a.openBlock)(),(0,a.createBlock)(G,{key:0,id:"VendaCard","manual-focus":"",clickable:"",class:"items-center d-flex q-pa-xs"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)($,{avatar:"",center:"",class:"mw100",onClick:d.editar},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{class:"q-mr-sm",escuro:"",cor:"positive",onClick:d.copiarUid},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)(parseInt(r.dados.venda.numero)||(r.dados.venda.id||"").slice(-6))+" ",1),(0,a.withDirectives)((0,a.createVNode)("input",{type:"hidden","onUpdate:modelValue":o[1]||(o[1]=e=>r.dados.venda.id=e),ref:"uid"},null,512),[[a.vModelText,r.dados.venda.id]])])),_:1},8,["onClick"])])),_:1},8,["onClick"]),(0,a.createVNode)($,{onClick:d.editar},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(O,{class:" items-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)("div",l,[(0,a.createVNode)(U,{imagem:(r.contatos[r.dados.venda.idContato]||{}).imagem,rotulo:r.dados.venda.descricaoContato,tamanho:"40",style:{float:"left"}},null,8,["imagem","rotulo"])]),(0,a.createVNode)("div",n,[(0,a.createVNode)(H,{class:"text-tertiary text-weight-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.dados.venda.descricaoContato),1)])),_:1}),(0,a.createVNode)(O,{class:"hideondesktop items-center q-my-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)("div",s,[(0,a.createVNode)(Z,{color:"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.dados.venda.status),1)])),_:1})])])),_:1})])])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)($,{onClick:d.editar,class:"hideonmobile"},{default:(0,a.withCtx)((()=>[r.dados.venda.dataHoraFinalizado?((0,a.openBlock)(),(0,a.createBlock)(a.Fragment,{key:0},[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(r.dados.venda.dataHoraFinalizado))+" ",1),(0,a.createVNode)(L,null,{default:(0,a.withCtx)((()=>[c])),_:1})],64)):((0,a.openBlock)(),(0,a.createBlock)(a.Fragment,{key:1},[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.data(r.dados.venda.dataHoraEmissao))+" ",1),(0,a.createVNode)(L,null,{default:(0,a.withCtx)((()=>[u])),_:1})],64))])),_:1},8,["onClick"]),(0,a.createVNode)($,{onClick:d.editar,class:"hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)((r.contatos[r.dados.venda.idContatoVendedor]||{}).apelido)+" ",1),(0,a.createVNode)(L,null,{default:(0,a.withCtx)((()=>[m])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)($,{avatar:"",class:"mw240 hideonmobile"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Z,{color:"tertiary"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.dados.venda.status),1)])),_:1})])),_:1}),(0,a.createVNode)($,{onClick:d.editar},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(H,{caption:"",class:"text-right text-tertiary text-weight-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(r.dados.venda.totalDocumento,2))+" ",1),(0,a.createVNode)(L,null,{default:(0,a.withCtx)((()=>[p])),_:1})])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)($,{side:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(O,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(P,{rounded:"",dense:"",flat:"",icon:r.detalhesVisivel?"keyboard_arrow_up":"keyboard_arrow_down",size:"md",unelevated:"",class:"hideonmobile q-mx-xs",color:"tertiary",style:{float:"right"},onClick:d.alternarDetalhes},null,8,["icon","onClick"]),(0,a.createVNode)(P,{rounded:"",dense:"",flat:"",icon:"clear",color:"tertiary",unelevated:"",class:"hideonmobile q-mx-xs",size:"md",onClick:d.remover,style:{float:"right"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(L,{anchor:"top left",self:"bottom start"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Remover da fatura #"+(0,a.toDisplayString)(parseInt(r.dados.venda.numero)||(r.dados.venda.id||"").slice(-6)),1)])),_:1})])),_:1},8,["onClick"]),(0,a.createVNode)(P,{rounded:"",dense:"",flat:"",icon:"edit",color:"primary",unelevated:"",class:"hideonmobile q-mx-xs",size:"md",onClick:d.editar,style:{float:"right"}},null,8,["onClick"]),(0,a.createVNode)(P,{rounded:"",dense:"",flat:"",icon:"print",color:"primary",unelevated:"",class:"hideonmobile q-mx-xs",size:"md",style:{float:"right"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(X,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Q,{link:"",separator:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(r.configImpressaoOrcamento.filter((e=>e.valor)),(o=>((0,a.openBlock)(),(0,a.createBlock)(G,{clickable:"",key:o.valor,onClick:t=>e.$imprimir(o.valor,{id:(r.dados.venda||{}).id||"0",Oculto:"0"})},{default:(0,a.withCtx)((()=>[(0,a.createVNode)($,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(R,{name:"print"})])),_:1}),(0,a.createVNode)($,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(H,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.texto),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),"optisoul"===r.sistemaPai?((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,{key:0},(0,a.renderList)(r.configImpressaoEnvelope,(o=>((0,a.openBlock)(),(0,a.createBlock)(G,{clickable:"",key:o.valor,onClick:t=>e.$imprimir(o.valor,(r.dados.venda||{}).id||"0")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)($,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(R,{name:"print"})])),_:1}),(0,a.createVNode)($,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(H,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.texto),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(P,{rounded:"",dense:"",flat:"",icon:"more_vert",color:"tertiary",unelevated:"",class:" q-mx-xs",size:"md",style:{float:"right"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(X,null,{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(Q,{link:"",separator:""},{default:(0,a.withCtx)((()=>[e.$utils.mapearStatus(r.dados.venda).permiteNota?((0,a.openBlock)(),(0,a.createBlock)(a.Fragment,{key:0},[(0,a.withDirectives)((0,a.createVNode)(G,{clickable:"",onClick:o[2]||(o[2]=o=>e.emitirNFeV2({idVenda:r.dados.venda.id},1,"Venda"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)($,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(R,{name:"account_balance"})])),_:1}),(0,a.createVNode)($,null,{default:(0,a.withCtx)((()=>[f])),_:1})])),_:1},512),[[ee]]),(0,a.withDirectives)((0,a.createVNode)(G,{clickable:"",onClick:o[3]||(o[3]=o=>e.emitirNFeV2({idVenda:r.dados.venda.id},0,"Devolução"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)($,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(R,{name:"account_balance"})])),_:1}),(0,a.createVNode)($,null,{default:(0,a.withCtx)((()=>[h])),_:1})])),_:1},512),[[ee]]),(0,a.withDirectives)((0,a.createVNode)(G,{clickable:"",onClick:o[4]||(o[4]=o=>e.emitirNFeV2({idVenda:r.dados.venda.id},1,"Remessa"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)($,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(R,{name:"account_balance"})])),_:1}),(0,a.createVNode)($,null,{default:(0,a.withCtx)((()=>[V])),_:1})])),_:1},512),[[ee]])],64)):(0,a.createCommentVNode)("",!0),d.podeMigrarFatura?((0,a.openBlock)(),(0,a.createBlock)(a.Fragment,{key:1},[((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(r.faturasAbertas.filter((e=>e.id!==r.dados.venda.idFatura)),(e=>(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(G,{key:e.id,onClick:o=>d.migrarFatura(e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)($,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(R,{name:"mdi-folder-move"})])),_:1}),(0,a.createVNode)($,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)("Migrar para fatura #"+(e.numero||e.id.slice(-6))),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[ee]]))),128)),(0,a.withDirectives)((0,a.createVNode)(G,{onClick:o[5]||(o[5]=e=>d.migrarFatura())},{default:(0,a.withCtx)((()=>[(0,a.createVNode)($,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(R,{name:"mdi-folder-move"})])),_:1}),(0,a.createVNode)($,null,{default:(0,a.withCtx)((()=>[v])),_:1})])),_:1},512),[[ee]])],64)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(G,{clickable:"",onClick:o[6]||(o[6]=o=>e.$refs.modalHistoricoStatus.mostrar({idDocumento:r.dados.venda.id}))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)($,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(R,{name:"history"})])),_:1}),(0,a.createVNode)($,null,{default:(0,a.withCtx)((()=>[g])),_:1})])),_:1})])),_:1},512),[[ee]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),r.detalhesVisivel?((0,a.openBlock)(),(0,a.createBlock)(O,{key:1,class:"q-col-gutter-md q-pt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)("div",C,[r.detalhesVisivel?((0,a.openBlock)(),(0,a.createBlock)(Q,{key:0},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(r.dados.carrinho,(o=>((0,a.openBlock)(),(0,a.createBlock)(G,{class:"fullWidth ",key:o.id},{default:(0,a.withCtx)((()=>[(0,a.createVNode)($,{avatar:"",class:"w120"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(H,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.quantidade)+"x",1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)($,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(H,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.descricaoItem),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)($,{side:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(H,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(o.total,2)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(r.dados.customs,(o=>((0,a.openBlock)(),(0,a.createBlock)(G,{class:"fullWidth ",key:o.documento.id},{default:(0,a.withCtx)((()=>[(0,a.createVNode)($,{avatar:"",class:"w120"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(H,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.documento.numero)+"x ",1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)($,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(H,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.documento.descricao),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)($,{side:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(H,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(o.documento.totalDocumento,2)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(r.dados.oss,(o=>((0,a.openBlock)(),(0,a.createBlock)(G,{class:"fullWidth ",key:o.documento.id},{default:(0,a.withCtx)((()=>[(0,a.createVNode)($,{avatar:"",class:"w120"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(H,null,{default:(0,a.withCtx)((()=>["Orçamento"!==o.documento.status?((0,a.openBlock)(),(0,a.createBlock)(A,{key:0,class:"q-mx-sm",escuro:"",cor:"grey-5",denso:"",round:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.documento.status)+" ",1),(0,a.createVNode)(L,null,{default:(0,a.withCtx)((()=>[x])),_:1})])),_:2},1024)):((0,a.openBlock)(),(0,a.createBlock)(A,{key:1},{default:(0,a.withCtx)((()=>[N])),_:1}))])),_:2},1024)])),_:2},1024),(0,a.createVNode)($,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(H,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.documento.descricao),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)($,{right:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(H,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(o.documento.totalDocumento,2)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(r.dados.envelopes,(o=>((0,a.openBlock)(),(0,a.createBlock)(G,{class:"fullWidth ",key:o.id},{default:(0,a.withCtx)((()=>[(0,a.createVNode)($,{avatar:"",class:"w120"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{class:"q-mx-sm",escuro:"",cor:"grey-5",denso:"",round:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" #"+(0,a.toDisplayString)(parseInt(o.numero)||(o.id||"").slice(-6))+" ",1),(0,a.createVNode)(L,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.tipo)+" - "+(0,a.toDisplayString)(o.descricaoContato),1)])),_:2},1024)])),_:2},1024),"Orçamento"!==o.status?((0,a.openBlock)(),(0,a.createBlock)(A,{key:0,class:"q-mx-sm",escuro:"",cor:"grey-5",denso:"",round:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.status),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0)])),_:2},1024),(0,a.createVNode)($,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(H,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(d.descricaoEnvelope(o.id)),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)($,{right:"",top:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(H,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$filters.numero(o.totalDocumento,2)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)("div",w,[(0,a.createVNode)("div",k,[(0,a.createVNode)(W,{class:"q-mx-none q-mt-sm q-px-none"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(R,{name:"business"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(r.dados.venda.descricaoEmpresa),1)])),_:1}),(0,a.createVNode)("p",b,[(0,a.createVNode)("small",y,[(0,a.createTextVNode)((0,a.toDisplayString)(r.dados.venda.observacao)+" ",1),_,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(r.dados.venda.observacaoInterna),1)])]),(0,a.createVNode)("div",D,[(0,a.createVNode)(j,{idVenda:r.dados.venda.id},null,8,["idVenda"])])])]),(0,a.createVNode)("div",S,[(0,a.createVNode)("div",I,[(0,a.createVNode)(W,{class:"q-mx-none q-mt-sm q-px-none"},{default:(0,a.withCtx)((()=>[B])),_:1}),(0,a.createVNode)("p",F,[(0,a.createVNode)("small",T,(0,a.toDisplayString)(r.dados.venda.observacaoFaturamento),1)])]),(0,a.createVNode)("div",E,[(0,a.createVNode)("dl",q,[(0,a.createVNode)("dd",null,[z,(0,a.createVNode)("span",M,[(0,a.createVNode)("strong",null,(0,a.toDisplayString)(e.$filters.numero(r.dados.venda.totalDesconto,2)),1)])])])])])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(J),(0,a.createVNode)(K,{ref:"vendaModal",onExecutar:d.executar},null,8,["onExecutar"]),(0,a.createVNode)(Y,{ref:"modalHistoricoStatus"},null,512)],64)};const de=R;re()(R,"components",{QItem:G.Z,QItemSection:Q.Z,QItemLabel:X.Z,QBadge:W.Z,QTooltip:j.Z,QBtn:J.Z,QMenu:K.Z,QList:Y.Z,QIcon:ee.Z,QToolbarTitle:oe.Z,QSeparator:te.Z}),re()(R,"directives",{ClosePopup:ae.Z});var le=t(60357);const ne={components:{lista:d.Z,VendaCard:de,PromptContatoNovo:le.Z,VendaModal:Z.Z},data:()=>({tabSelecionada:{valor:"Ativos"},tabs:[{rotulo:"Ativos",value:"Ativos"},{rotulo:"Canceladas",value:"Canceladas"},{rotulo:"Finalizadas",value:"Finalizadas"},{rotulo:"Todas",value:"Todas"}],page:{digitacao:{current:1,min:0,max:0},finalizado:{current:1,min:0,max:0},ativa:"Digitação"},status:[],operacoes:[],pageSize:10,grupos:[],buscaCampo:"",empresas:[],empresa:{},contatosModal:!1,vendedorModal:!1,digitadorModal:!1,filtro:{status:"",operacao:"",grupos:[],empresa:{id:""},cliente:{id:""},vendedor:{id:""},digitador:{id:""},periodo:{emissao:{ini:"",fim:""},finalizado:{ini:"",fim:""}}},paginacao:{atual:1,maximo:1,total:1,limite:25},dbContato:O.db.contato,documentos:null,showFilters:!1,itens:[],documentoItens:[]}),methods:{async filtrar(){let e=[];try{e=await O.db.venda.leNew({periodoEmissao:{ini:this.filtro.periodo.emissao.ini,fim:this.filtro.periodo.emissao.fim},periodoFinalizado:{ini:this.filtro.periodo.finalizado.ini,fim:this.filtro.periodo.finalizado.fim},status:this.filtro.status,operacao:this.filtro.operacao,idEmpresa:this.filtro.empresa.id,idContato:this.filtro.cliente.id,idContatoVendedor:this.filtro.vendedor.id,idContatoDigitador:this.filtro.digitador.id}),this.documentos=e}catch(e){this.$q.notify("Erro ao filtrar")}let o=[];for(const t of e){const e=await O.db.documentoItem.leNew({idDocumento:t.id});o=[...o,...e.filter((e=>e.idItem))]}let t=[],a={};for(const e of o)if(e.idItem&&!t.filter((o=>o.id===e.idItem)).length){const o=await O.db.item.leNew({id:e.idItem});t.push(o)}if(!this.filtro.grupos.length){e=(0,P.orderBy)(e,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"]),this.documentos=e.reduce(((e,o)=>(e[o.id]||(e[o.id]=o),e)),{});for(const e of o)if(!a[e.idItem]){const o=t.filter((o=>o.id===e.idItem));o.length&&(a[e.idItem]=o[0])}return this.itens=a,void(this.documentosItens=(0,P.orderBy)(o,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"]))}const i=(0,L.clonarV2)(this.filtro.grupos).map((e=>(0,L.removerAcentos)(e)));let r=e.filter((e=>{if(!e.numero)return!1;const o=String(e.numero);for(const e of i){const t=new RegExp(e,"gi");if(o.match(t))return!0}})),d=[],l=o.filter((e=>{if(!e.idItem&&!e.descricaoItem)return!1;const o=(0,L.removerAcentos)(e.descricaoItem);for(const t of i){const a=new RegExp(t,"gi");if(o.match(a))return d.push(e.id),!0}}));a=t.filter((e=>{const o=e.marca||"",t=e.referencia||"",a=e.codigoItem?String(e.codigoItem):"",r=e.codigoBarras||"",d=(0,L.removerAcentos)(o+t+a+r);for(const e of i){const o=new RegExp(e,"gi");if(d.match(o))return!0}}));for(const e of r){const t=o.filter((o=>{if(o.idItem&&o.idDocumento===e.id&&!d.includes(o.id))return d.push(o.id),!0}));l=[...l,...t]}for(const e of a){const t=o.filter((o=>{if(o.idItem===e.id&&!d.includes(o.id))return d.push(o.id),!0}));l=[...l,...t]}l=l.filter((o=>{let a=(0,L.clonarV2)(i),r=e.filter((e=>e.id===o.idDocumento)),d=t.filter((e=>e.id===o.idItem));r=r.length?r[0]:{},d=d.length?d[0]:{};let l=r.numero?String(r.numero):"";if(l+=o.descricaoItem||"",l+=d.marca||"",l+=d.referencia||"",l+=d.codigoItem?String(d.codigoItem):"",l+=d.codigoBarras||"",l)for(const e of i){const o=new RegExp(e,"gi");l.match(o)&&(a=a.filter((o=>o!==e)))}if(!a.length)return!0}));let n=[];r=[],a={};for(const o of l)if(n.includes(o.idDocumento)||(n.push(o.idDocumento),r=[...r,...e.filter((e=>e.id===o.idDocumento))]),!a[o.idItem]){const e=t.filter((e=>e.id===o.idItem));e.length&&(a[o.idItem]=e[0])}e=(0,P.orderBy)(r,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"]),this.documentos=r.reduce(((e,o)=>(e[o.id]||(e[o.id]=o),e)),{}),this.itens=a,this.documentosItens=(0,P.orderBy)(l,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"])},aoSelecionarEmpresa(){this.filtro.empresa=this.empresas.filter((e=>e.id===this.empresa.id))[0]},aoSelecionarCliente(e,o){e&&(this.filtro.cliente=(0,L.clonarV2)(o),this.contatosModal=!1)},aoSelecionarVendedor(e,o){e&&(this.filtro.vendedor=(0,L.clonarV2)(o),this.vendedorModal=!1)},aoSelecionarDigitador(e,o){e&&(this.filtro.digitador=(0,L.clonarV2)(o),this.digitadorModal=!1)},adicionarVenda(){this.$refs.modalVenda.mostrar()},async buscar(){let e=await O.db.venda.leNew(),o=[];for(const t of e){const e=await O.db.documentoItem.leNew({idDocumento:t.id});o=[...o,...e.filter((e=>e.idItem))]}let t=[],a={};for(const e of o)if(e.idItem&&!t.filter((o=>o.id===e.idItem)).length){const o=await O.db.item.leNew({id:e.idItem});t.push(o)}const i=[(0,L.removerAcentos)(this.buscaCampo)];let r=e.filter((e=>{if(!e.numero)return!1;const o=String(e.numero);for(const e of i){const t=new RegExp(e,"gi");if(o.match(t))return!0}})),d=[],l=o.filter((e=>{if(!e.idItem&&!e.descricaoItem)return!1;const o=(0,L.removerAcentos)(e.descricaoItem);for(const t of i){const a=new RegExp(t,"gi");if(o.match(a))return d.push(e.id),!0}}));a=t.filter((e=>{const o=e.marca||"",t=e.referencia||"",a=e.codigoItem?String(e.codigoItem):"",r=e.codigoBarras||"",d=(0,L.removerAcentos)(o+t+a+r);for(const e of i){const o=new RegExp(e,"gi");if(d.match(o))return!0}}));for(const e of r){const t=o.filter((o=>{if(o.idItem&&o.idDocumento===e.id&&!d.includes(o.id))return d.push(o.id),!0}));l=[...l,...t]}for(const e of a){const t=o.filter((o=>{if(o.idItem===e.id&&!d.includes(o.id))return d.push(o.id),!0}));l=[...l,...t]}l=l.filter((o=>{let a=(0,L.clonarV2)(i),r=e.filter((e=>e.id===o.idDocumento)),d=t.filter((e=>e.id===o.idItem));r=r.length?r[0]:{},d=d.length?d[0]:{};let l=r.numero?String(r.numero):"";if(l+=o.descricaoItem||"",l+=d.marca||"",l+=d.referencia||"",l+=d.codigoItem?String(d.codigoItem):"",l+=d.codigoBarras||"",l)for(const e of i){const o=new RegExp(e,"gi");l.match(o)&&(a=a.filter((o=>o!==e)))}if(!a.length)return!0}));let n=[];r=[],a={};for(const o of l)if(n.includes(o.idDocumento)||(n.push(o.idDocumento),r=[...r,...e.filter((e=>e.id===o.idDocumento))]),!a[o.idItem]){const e=t.filter((e=>e.id===o.idItem));e.length&&(a[o.idItem]=e[0])}e=(0,P.orderBy)(r,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"]),this.documentos=r.reduce(((e,o)=>(e[o.id]||(e[o.id]=o),e)),{}),this.itens=a,this.documentosItens=(0,P.orderBy)(l,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"])},async abrirEdicao(e){console.log(e);let o=await O.db.venda.leCompleto({codigoDocumento:e.codigoDocumento});console.log({leCompleto:o})},filtraDebounce(){(0,P.debounce)(this.refazFiltro,700)()},refazFiltro(){L.gconsole.log("FunilVendas","refazFiltro()",this.fraseFiltro,this.empresaSelecionada);const e=(0,L.removerAcentos)((this.fraseFiltro||"").toUpperCase()).split(" ").filter((e=>""!==e)),o={};for(const t in this.listas)for(const a of this.listas[t]){const t=(0,L.removerAcentos)((a.id||"").toUpperCase()+(a.nomeCliente||"").toUpperCase()+(a.nomeDigitador||"").toUpperCase()+(a.nomeVendedor||"").toUpperCase()+" "+String(a.numeroVenda||"")+" ");let i=!0;for(const o of e)i=isNaN(Number(o))?i&&t.includes(o):i&&t.includes(" "+o+" ");this.empresaSelecionada&&(i=i&&this.empresaSelecionada===a.codigoEmpresa),a.mostra=i,a.mostra&&(o[a.crmFunilStatus]=(o[a.crmFunilStatus]||0)+(a.totalDocumento||0))}this.total=o},async atualizar(){this.documentos=await O.db.venda.leNew(),this.empresas=await O.db.empresa.le(),this.documentos.map((e=>{this.status.includes(e.status)||this.status.push(e.status),this.operacoes.includes(e.operacao)||this.operacoes.push(e.operacao)})),await this.filtrar()}},watch:{filtro(e,o){console.log(e,o),this.filtrar()},"filtro.status"(e,o){console.log("status",e,o)}},created(){L.gconsole.log("FunilVendas","created()"),this.atualizar()}};var se=t(67280);ne.render=function(e,o,t,d,l,n){const s=(0,a.resolveComponent)("q-chips-input"),c=(0,a.resolveComponent)("campo"),u=(0,a.resolveComponent)("row"),m=(0,a.resolveComponent)("venda-card"),p=(0,a.resolveComponent)("q-list"),f=(0,a.resolveComponent)("lista"),h=(0,a.resolveComponent)("prompt-contato-novo"),V=(0,a.resolveComponent)("VendaModal");return(0,a.openBlock)(),(0,a.createBlock)(a.Fragment,null,[(0,a.createVNode)("div",null,[(0,a.createVNode)(f,{titulo:"Vendas",onCriar_click:n.adicionarVenda,onCheckBoxGeral_click:e.checkBoxGeral_click,showAdd:"false",icone:"mdi-cart-arrow-up",showToolbar:"false",onFiltro_change:n.atualizar,onLimparFiltros_click:e.limparFiltros_click,onAbrirTodosPreview:e.abrirTodosPreview,onExportarXLSX_click:e.exportarXLSX_click,onRemoverTodos:e.removerTodos,onRestaurarTodos:e.restaurarTodos,tabSelecionada:l.tabSelecionada,tabs:l.tabs,lista:e.lista,listaLayout:e.listaLayout,paginacao:l.paginacao,filtros:l.filtro,opcoesMarca:e.opcoesMarca,opcoesGrupo:e.opcoesGrupo,opcoesSubGrupo:e.opcoesSubGrupo,opcoesTipo:e.opcoesTipo,buscaCampo:l.buscaCampo,"onUpdate:buscaCampo":o[15]||(o[15]=e=>l.buscaCampo=e),checkboxModel:e.checkboxModel,"onUpdate:checkboxModel":o[16]||(o[16]=o=>e.checkboxModel=o)},{filtroCampos:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:l.filtro.grupos,"onUpdate:modelValue":o[1]||(o[1]=e=>l.filtro.grupos=e),color:"tertiary",class:"col-12",placeholder:"Filtre por Produto, Marca, Número..."},null,8,["modelValue","placeholder"]),(0,a.createVNode)(c,{tipo:"seletor",dense:"",modelValue:l.empresa.id,"onUpdate:modelValue":[o[2]||(o[2]=e=>l.empresa.id=e),n.aoSelecionarEmpresa],options:l.empresas.map((e=>({label:e.nome,value:e.id}))),clearable:"",rotulo:"Por empresa"},null,8,["modelValue","options","onUpdate:modelValue"]),(0,a.createVNode)(c,{tipo:"seletor",dense:"",modelValue:l.filtro.status,"onUpdate:modelValue":o[3]||(o[3]=e=>l.filtro.status=e),options:l.status.map((e=>({label:e,value:e}))),clearable:"",rotulo:"Status"},null,8,["modelValue","options"]),(0,a.createVNode)(c,{tipo:"seletor",dense:"",modelValue:l.filtro.operacao,"onUpdate:modelValue":o[4]||(o[4]=e=>l.filtro.operacao=e),options:l.operacoes.map((e=>({label:e,value:e}))),clearable:"",rotulo:"Operação"},null,8,["modelValue","options"]),(0,a.createVNode)(c,{rotulo:"Cliente",tipo:"texto",before:[{icon:"search"}],modelValue:l.filtro.cliente.nome,"onUpdate:modelValue":[o[5]||(o[5]=e=>l.filtro.cliente.nome=e),n.aoSelecionarCliente],onClick:o[6]||(o[6]=e=>l.contatosModal=!0),dense:""},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(c,{rotulo:"Vendedor",tipo:"texto",before:[{icon:"search"}],modelValue:l.filtro.vendedor.nome,"onUpdate:modelValue":[o[7]||(o[7]=e=>l.filtro.vendedor.nome=e),n.aoSelecionarVendedor],onClick:o[8]||(o[8]=e=>l.vendedorModal=!0),dense:""},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(c,{rotulo:"Digitador",tipo:"texto",before:[{icon:"search"}],modelValue:l.filtro.digitador.nome,"onUpdate:modelValue":[o[9]||(o[9]=e=>l.filtro.digitador.nome=e),n.aoSelecionarDigitador],onClick:o[10]||(o[10]=e=>l.digitadorModal=!0),dense:""},null,8,["modelValue","onUpdate:modelValue"]),(0,a.createVNode)(u,{class:"q-col-gutter-md q-mt-md"},{default:(0,a.withCtx)((()=>[i,(0,a.createVNode)(c,{modelValue:l.filtro.periodo.emissao.ini,"onUpdate:modelValue":o[11]||(o[11]=e=>l.filtro.periodo.emissao.ini=e),tipo:"data",class:"no-shadow full-width",rotulo:"De",col:"12",after:[{icon:"mdi-close-circle",handler(){l.filtro.periodo.emissao.ini=""}}],dense:""},null,8,["modelValue","after"]),(0,a.createVNode)(c,{modelValue:l.filtro.periodo.emissao.fim,"onUpdate:modelValue":o[12]||(o[12]=e=>l.filtro.periodo.emissao.fim=e),tipo:"data",class:"no-shadow full-width",rotulo:"até",col:"12",after:[{icon:"mdi-close-circle",handler(){l.filtro.periodo.emissao.fim=""}}],dense:""},null,8,["modelValue","after"])])),_:1}),(0,a.createVNode)(u,{class:"q-col-gutter-md q-mt-md"},{default:(0,a.withCtx)((()=>[r,(0,a.createVNode)(c,{modelValue:l.filtro.periodo.finalizado.ini,"onUpdate:modelValue":o[13]||(o[13]=e=>l.filtro.periodo.finalizado.ini=e),tipo:"data",class:"no-shadow full-width",rotulo:"De",col:"12",after:[{icon:"mdi-close-circle",handler(){l.filtro.periodo.finalizado.ini=""}}],dense:""},null,8,["modelValue","after"]),(0,a.createVNode)(c,{modelValue:l.filtro.periodo.finalizado.fim,"onUpdate:modelValue":o[14]||(o[14]=e=>l.filtro.periodo.finalizado.fim=e),tipo:"data",class:"no-shadow full-width",rotulo:"até",col:"12",after:[{icon:"mdi-close-circle",handler(){l.filtro.periodo.finalizado.fim=""}}],dense:""},null,8,["modelValue","after"])])),_:1})])),itemLista:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"rounded-borders"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(l.documentos,(e=>((0,a.openBlock)(),(0,a.createBlock)("div",{key:e.id,class:"itemHover fullWidth q-px-sm"},[(0,a.createVNode)(m,{id:e.id,class:"q-mb-md"},null,8,["id"])])))),128))])),_:1})])),_:1},8,["onCriar_click","onCheckBoxGeral_click","onFiltro_change","onLimparFiltros_click","onAbrirTodosPreview","onExportarXLSX_click","onRemoverTodos","onRestaurarTodos","tabSelecionada","tabs","lista","listaLayout","paginacao","filtros","opcoesMarca","opcoesGrupo","opcoesSubGrupo","opcoesTipo","buscaCampo","checkboxModel"])]),(0,a.createVNode)(h,{modelValue:l.contatosModal,"onUpdate:modelValue":o[17]||(o[17]=e=>l.contatosModal=e),filtro:{ativo:!0},onSelecionar:n.aoSelecionarCliente},null,8,["modelValue","onSelecionar"]),(0,a.createVNode)(h,{modelValue:l.vendedorModal,"onUpdate:modelValue":o[18]||(o[18]=e=>l.vendedorModal=e),filtro:{ativo:!0,vendedores:!0},onSelecionar:n.aoSelecionarVendedor},null,8,["modelValue","onSelecionar"]),(0,a.createVNode)(h,{modelValue:l.digitadorModal,"onUpdate:modelValue":o[19]||(o[19]=e=>l.digitadorModal=e),filtro:{ativo:!0},onSelecionar:n.aoSelecionarDigitador},null,8,["modelValue","onSelecionar"]),(0,a.createVNode)(V,{ref:"modalVenda",onExecutar:e.executar},null,8,["onExecutar"])],64)};const ce=ne;re()(ne,"components",{QChip:se.Z,QList:Y.Z})}}]);