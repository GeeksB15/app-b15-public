$((function(){for(var t=[],i=[],o=0;o<21;o+=.5)t.push([o,Math.sin(o)]),i.push([o,Math.cos(o)]);var a=$.plot($(".chart"),[{data:t,label:"sin(x)"},{data:i,label:"cos(x)"}],{series:{lines:{show:!0},points:{show:!0}},grid:{hoverable:!0,clickable:!0},yaxis:{min:-1.1,max:1.1},xaxis:{min:0,max:20}}),e=null;$(".chart").bind("plothover",(function(t,i,o){if($("#x").text(i.x.toFixed(2)),$("#y").text(i.y.toFixed(2)),$(".chart").length>0)if(o){if(e!=o.dataIndex){e=o.dataIndex,$("#tooltip").remove();var a=o.datapoint[0].toFixed(2),l=o.datapoint[1].toFixed(2);!function(t,i,o){$('<div id="tooltip" class="tooltip">'+o+"</div>").css({position:"absolute",display:"none",top:i+5,left:t+5,"z-index":"9999",color:"#fff","font-size":"11px",opacity:.8}).appendTo("body").fadeIn(200)}(o.pageX,o.pageY,o.series.label+" of "+a+" = "+l)}}else $("#tooltip").remove(),e=null})),$(".chart").bind("plotclick",(function(t,i,o){o&&($("#clickdata").text("You clicked point "+o.dataIndex+" in "+o.series.label+"."),a.highlight(o.series,o.datapoint))}))}));