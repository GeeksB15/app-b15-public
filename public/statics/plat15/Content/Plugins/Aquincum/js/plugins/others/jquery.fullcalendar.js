!function(t,e){function n(e){t.extend(!0,ot,e)}function r(n,r,l){function u(){setTimeout((function(){!A.start&&v()&&g()}),0)}function f(){return 0!==j.offsetWidth}function v(){return 0!==t("body")[0].offsetWidth}function h(e){if(!A||e!=A.name){J++,T();var n,r=A;r?((r.beforeHide||L)(),N(R,R.height()),r.element.hide()):N(R,1),R.css("overflow","hidden"),(A=P[e])?A.element.show():A=P[e]=new ct[e](n=O=t("<div class='fc-view fc-view-"+e+"' style='position:absolute'/>").appendTo(R),k),r&&H.deactivateButton(r.name),H.activateButton(e),g(),R.css("overflow",""),r&&N(R,1),n||(A.afterShow||L)(),J--}}function g(t){if(f()){J++,T(),_===e&&b();var a=!1;!A.start||t||V<A.start||V>=A.end?(A.render(V,t||0),M(!0),a=!0):A.sizeDirty?(A.clearEvents(),M(),a=!0):A.eventsDirty&&(A.clearEvents(),a=!0),A.sizeDirty=!1,A.eventsDirty=!1,function(t){!r.lazyFetching||I(A.visStart,A.visEnd)?C():t&&E()}(a),W=n.outerWidth(),H.updateTitle(A.title),(t=new Date)>=A.start&&t<A.end?H.disableButton("today"):H.enableButton("today"),J--,A.trigger("viewDisplay",j)}}function m(){y(),f()&&(b(),M(),T(),A.clearEvents(),A.renderEvents(X),A.sizeDirty=!1)}function y(){t.each(P,(function(t,e){e.sizeDirty=!0}))}function b(){_=r.contentHeight?r.contentHeight:r.height?r.height-(z?z.height():0)-F(R):Math.round(R.width()/Math.max(r.aspectRatio,.5))}function M(t){J++,A.setHeight(_,t),O&&(O.css("position","relative"),O=null),A.setWidth(R.width(),t),J--}function S(){if(!J)if(A.start){var t=++q;setTimeout((function(){t==q&&!J&&f()&&W!=(W=n.outerWidth())&&(J++,m(),A.trigger("windowResize",j),J--)}),200)}else u()}function C(){Y(A.visStart,A.visEnd)}function E(t){x(),f()&&(A.clearEvents(),A.renderEvents(X,t),A.eventsDirty=!1)}function x(){t.each(P,(function(t,e){e.eventsDirty=!0}))}function T(){A&&A.unselect()}var k=this;k.options=r,k.render=function(e){R?(b(),y(),x(),g(e)):(r.theme,n.addClass("fc"),r.isRTL&&n.addClass("fc-rtl"),r.theme&&n.addClass("ui-widget"),R=t("<div class='fc-content' style='position:relative'/>").prependTo(n),H=new a(k,r),(z=H.render())&&n.prepend(z),h(r.defaultView),t(window).resize(S),v()||u())},k.destroy=function(){t(window).unbind("resize",S),H.destroy(),R.remove(),n.removeClass("fc fc-rtl ui-widget")},k.refetchEvents=C,k.reportEvents=function(t){X=t,E()},k.reportEventChange=function(t){E(t)},k.rerenderEvents=E,k.changeView=h,k.select=function(t,n,r){A.select(t,n,r===e||r)},k.unselect=T,k.prev=function(){g(-1)},k.next=function(){g(1)},k.prevYear=function(){i(V,-1),g()},k.nextYear=function(){i(V,1),g()},k.today=function(){V=new Date,g()},k.gotoDate=function(t,e,n){t instanceof Date?V=d(t):p(V,t,e,n),g()},k.incrementDate=function(t,n,r){t!==e&&i(V,t),n!==e&&s(V,n),r!==e&&c(V,r),g()},k.formatDate=function(t,e){return D(t,e,r)},k.formatDates=function(t,e,n){return w(t,e,n,r)},k.getDate=function(){return d(V)},k.getView=function(){return A},k.option=function(t,n){if(n===e)return r[t];"height"!=t&&"contentHeight"!=t&&"aspectRatio"!=t||(r[t]=n,m())},k.trigger=function(t,e){if(r[t])return r[t].apply(e||j,Array.prototype.slice.call(arguments,2))},o.call(k,r,l);var H,z,R,A,W,_,O,B,I=k.isFetchNeeded,Y=k.fetchEvents,j=n[0],P={},q=0,J=0,V=new Date,X=[];p(V,r.year,r.month,r.date),r.droppable&&t(document).bind("dragstart",(function(e,n){var a=e.target,o=t(a);if(!o.parents(".fc").length){var i=r.dropAccept;(t.isFunction(i)?i.call(a,o):o.is(i))&&(B=a,A.dragStart(B,e,n))}})).bind("dragstop",(function(t,e){B&&(A.dragStop(B,t,e),B=null)}))}function a(e,n){function r(r){var a=t("<td class='fc-header-"+r+"'/>");return(r=n.header[r])&&t.each(r.split(" "),(function(r){var i;r>0&&a.append("<span class='fc-header-space'/>"),t.each(this.split(","),(function(r,s){var c;if("title"==s)a.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),i&&i.addClass(o+"-corner-right"),i=null;else if(e[s]?c=e[s]:ct[s]&&(c=function(){u.removeClass(o+"-state-hover"),e.changeView(s)}),c){r=n.theme?O(n.buttonIcons,s):null;var l=O(n.buttonText,s),u=t("<span class='fc-button fc-button-"+s+" "+o+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(r?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+r+"'/></span>":l)+"</span><span class='fc-button-effect'><span></span></span></span></span>");u&&(u.click((function(){u.hasClass(o+"-state-disabled")||c()})).mousedown((function(){u.not("."+o+"-state-active").not("."+o+"-state-disabled").addClass(o+"-state-down")})).mouseup((function(){u.removeClass(o+"-state-down")})).hover((function(){u.not("."+o+"-state-active").not("."+o+"-state-disabled").addClass(o+"-state-hover")}),(function(){u.removeClass(o+"-state-hover").removeClass(o+"-state-down")})).appendTo(a),i||u.addClass(),i=u)}})),i&&i.addClass()})),a}var a=this;a.render=function(){if(o=n.theme?"ui":"fc",n.header)return i=t("<table class='fc-header' style='width:100%'/>").append(t("<tr/>").append(r("left")).append(r("center")).append(r("right")))},a.destroy=function(){i.remove()},a.updateTitle=function(t){i.find("h2").html(t)},a.activateButton=function(t){i.find("span.fc-button-"+t).addClass(o+"-state-active")},a.deactivateButton=function(t){i.find("span.fc-button-"+t).removeClass(o+"-state-active")},a.disableButton=function(t){i.find("span.fc-button-"+t).addClass(o+"-state-disabled")},a.enableButton=function(t){i.find("span.fc-button-"+t).removeClass(o+"-state-disabled")};var o,i=t([])}function o(n,r){function a(t,e){o(t,(function(n){if(e==M){if(n){for(var r=0;r<n.length;r++)n[r].source=t,l(n[r]);E=E.concat(n)}--S||b(E)}}))}function o(e,r){var a,i,l=st.sourceFetchers;for(a=0;a<l.length;a++){if(!0===(i=l[a](e,h,g,r)))return;if("object"==typeof i)return void o(i,r)}if(a=e.events)t.isFunction(a)?(s(),a(d(h),d(g),(function(t){r(t),c()}))):t.isArray(a)?r(a):r();else if(e.url){var u=e.success,f=e.error,v=e.complete;a=t.extend({},e.data||{}),l=V(e.startParam,n.startParam),i=V(e.endParam,n.endParam),l&&(a[l]=Math.round(+h/1e3)),i&&(a[i]=Math.round(+g/1e3)),s(),t.ajax(t.extend({},lt,e,{data:a,success:function(e){e=e||[];var n=J(u,this,arguments);t.isArray(n)&&(e=n),r(e)},error:function(){J(f,this,arguments),r()},complete:function(){J(v,this,arguments),c()}}))}else r()}function i(e){if(t.isFunction(e)||t.isArray(e)?e={events:e}:"string"==typeof e&&(e={url:e}),"object"==typeof e)return function(t){t.className?"string"==typeof t.className&&(t.className=t.className.split(/\s+/)):t.className=[];for(var e=st.sourceNormalizers,n=0;n<e.length;n++)e[n](t)}(e),w.push(e),e}function s(){C++||p("loading",null,!0)}function c(){--C||p("loading",null,!1)}function l(t){var r=t.source||{},a=V(r.ignoreTimezone,n.ignoreTimezone);t._id=t._id||(t.id===e?"_fc"+ut++:t.id+""),t.date&&(t.start||(t.start=t.date),delete t.date),t._start=d(t.start=m(t.start,a)),t.end=m(t.end,a),t.end&&t.end<=t.start&&(t.end=null),t._end=t.end?d(t.end):null,t.allDay===e&&(t.allDay=V(r.allDayDefault,n.allDayDefault)),t.className?"string"==typeof t.className&&(t.className=t.className.split(/\s+/)):t.className=[]}function u(t,e){return t&&e&&f(t)==f(e)}function f(t){return("object"==typeof t?t.events||t.url:"")||t}var v=this;v.isFetchNeeded=function(t,e){return!h||t<h||e>g},v.fetchEvents=function(t,e){h=t,g=e,E=[],t=++M,S=e=w.length;for(var n=0;n<e;n++)a(w[n],t)},v.addEventSource=function(t){(t=i(t))&&(S++,a(t,M))},v.removeEventSource=function(e){w=t.grep(w,(function(t){return!u(t,e)})),E=t.grep(E,(function(t){return!u(t.source,e)})),b(E)},v.updateEvent=function(t){var e,n,r=E.length,a=y().defaultEventEnd,o=t.start-t._start,i=t.end?t.end-(t._end||a(t)):0;for(e=0;e<r;e++)(n=E[e])._id==t._id&&n!=t&&(n.start=new Date(+n.start+o),n.end=t.end?n.end?new Date(+n.end+i):new Date(+a(n)+i):null,n.title=t.title,n.url=t.url,n.allDay=t.allDay,n.className=t.className,n.editable=t.editable,n.color=t.color,n.backgroudColor=t.backgroudColor,n.borderColor=t.borderColor,n.textColor=t.textColor,l(n));l(t),b(E)},v.renderEvent=function(t,e){l(t),t.source||(e&&(D.events.push(t),t.source=D),E.push(t)),b(E)},v.removeEvents=function(e){if(e){if(!t.isFunction(e)){var n=e+"";e=function(t){return t._id==n}}for(E=t.grep(E,e,!0),r=0;r<w.length;r++)t.isArray(w[r].events)&&(w[r].events=t.grep(w[r].events,e,!0))}else{E=[];for(var r=0;r<w.length;r++)t.isArray(w[r].events)&&(w[r].events=[])}b(E)},v.clientEvents=function(e){return t.isFunction(e)?t.grep(E,e):e?(e+="",t.grep(E,(function(t){return t._id==e}))):E},v.normalizeEvent=l;var h,g,p=v.trigger,y=v.getView,b=v.reportEvents,D={events:[]},w=[D],M=0,S=0,C=0,E=[];for(v=0;v<r.length;v++)i(r[v])}function i(t,e,n){return t.setFullYear(t.getFullYear()+e),n||f(t),t}function s(t,e,n){if(+t){e=t.getMonth()+e;var r=d(t);for(r.setDate(1),r.setMonth(e),t.setMonth(e),n||f(t);t.getMonth()!=r.getMonth();)t.setDate(t.getDate()+(t<r?1:-1))}return t}function c(t,e,n){if(+t){e=t.getDate()+e;var r=d(t);r.setHours(9),r.setDate(e),t.setDate(e),n||f(t),l(t,r)}return t}function l(t,e){if(+t)for(;t.getDate()!=e.getDate();)t.setTime(+t+(t<e?1:-1)*vt)}function u(t,e){return t.setMinutes(t.getMinutes()+e),t}function f(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}function d(t,e){return e?f(new Date(+t)):new Date(+t)}function v(){var t,e=0;do{t=new Date(1970,e++,1)}while(t.getHours());return t}function h(t,e,n){for(e=e||1;!t.getDay()||n&&1==t.getDay()||!n&&6==t.getDay();)c(t,e);return t}function g(t,e){return Math.round((d(t,!0)-d(e,!0))/dt)}function p(t,n,r,a){n!==e&&n!=t.getFullYear()&&(t.setDate(1),t.setMonth(0),t.setFullYear(n)),r!==e&&r!=t.getMonth()&&(t.setDate(1),t.setMonth(r)),a!==e&&t.setDate(a)}function m(t,n){return"object"==typeof t?t:"number"==typeof t?new Date(1e3*t):"string"==typeof t?t.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(t)):(n===e&&(n=!0),y(t,n)||(t?new Date(t):null)):null}function y(t,e){if(!(t=t.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/)))return null;var n=new Date(t[1],0,1);return e||!t[13]?(e=new Date(t[1],0,1,9,0),t[3]&&(n.setMonth(t[3]-1),e.setMonth(t[3]-1)),t[5]&&(n.setDate(t[5]),e.setDate(t[5])),l(n,e),t[7]&&n.setHours(t[7]),t[8]&&n.setMinutes(t[8]),t[10]&&n.setSeconds(t[10]),t[12]&&n.setMilliseconds(1e3*Number("0."+t[12])),l(n,e)):(n.setUTCFullYear(t[1],t[3]?t[3]-1:0,t[5]||1),n.setUTCHours(t[7]||0,t[8]||0,t[10]||0,t[12]?1e3*Number("0."+t[12]):0),t[14]&&(e=60*Number(t[16])+(t[18]?Number(t[18]):0),e*="-"==t[15]?1:-1,n=new Date(+n+60*e*1e3))),n}function b(t){if("number"==typeof t)return 60*t;if("object"==typeof t)return 60*t.getHours()+t.getMinutes();if(t=t.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var e=parseInt(t[1],10);return t[3]&&(e%=12,"p"==t[3].toLowerCase().charAt(0)&&(e+=12)),60*e+(t[2]?parseInt(t[2],10):0)}}function D(t,e,n){return w(t,null,e,n)}function w(t,e,n,r){r=r||ot;var a,o,i,s,c=t,l=e,u=n.length,f="";for(a=0;a<u;a++)if("'"==(o=n.charAt(a))){for(i=a+1;i<u;i++)if("'"==n.charAt(i)){c&&(f+=i==a+1?"'":n.substring(a+1,i),a=i);break}}else if("("==o){for(i=a+1;i<u;i++)if(")"==n.charAt(i)){a=D(c,n.substring(a+1,i),r),parseInt(a.replace(/\D/,""),10)&&(f+=a),a=i;break}}else if("["==o){for(i=a+1;i<u;i++)if("]"==n.charAt(i)){(a=D(c,o=n.substring(a+1,i),r))!=D(l,o,r)&&(f+=a),a=i;break}}else if("{"==o)c=e,l=t;else if("}"==o)c=t,l=e;else{for(i=u;i>a;i--)if(s=gt[n.substring(a,i)]){c&&(f+=s(c,r)),a=i-1;break}i==a&&c&&(f+=o)}return f}function M(t){return t.end?function(t,e){return t=d(t),e||t.getHours()||t.getMinutes()?c(t,1):f(t)}(t.end,t.allDay):c(d(t.start),1)}function S(t,e){return 100*(e.msLength-t.msLength)+(t.event.start-e.event.start)}function C(t,e){return t.end>e.start&&t.start<e.end}function E(t,e,n,r){var a,o,i,s,c,l,u=[],f=t.length;for(a=0;a<f;a++)i=(o=t[a]).start,(s=e[a])>n&&i<r&&(i<n?(i=d(n),c=!1):(i=i,c=!0),s>r?(s=d(r),l=!1):(s=s,l=!0),u.push({event:o,start:i,end:s,isStart:c,isEnd:l,msLength:s-i}));return u.sort(S)}function x(t){var e,n,r,a,o,i=[],s=t.length;for(e=0;e<s;e++){for(n=t[e],r=0;;){if(a=!1,i[r])for(o=0;o<i[r].length;o++)if(C(i[r][o],n)){a=!0;break}if(!a)break;r++}i[r]?i[r].push(n):i[r]=[n]}return i}function T(n,r,a){n.unbind("mouseover").mouseover((function(n){for(var o,i=n.target;i!=this;)o=i,i=i.parentNode;(i=o._fci)!==e&&(o._fci=e,o=r[i],a(o.event,o.element,o),t(n.target).trigger(n)),n.stopPropagation()}))}function k(e,n,r){for(var a,o=0;o<e.length;o++)(a=t(e[o])).width(Math.max(0,n-z(a,r)))}function H(e,n,r){for(var a,o=0;o<e.length;o++)(a=t(e[o])).height(Math.max(0,n-F(a,r)))}function z(e,n){return function(e){return(parseFloat(t.curCSS(e[0],"paddingLeft",!0))||0)+(parseFloat(t.curCSS(e[0],"paddingRight",!0))||0)}(e)+function(e){return(parseFloat(t.curCSS(e[0],"borderLeftWidth",!0))||0)+(parseFloat(t.curCSS(e[0],"borderRightWidth",!0))||0)}(e)+(n?function(e){return(parseFloat(t.curCSS(e[0],"marginLeft",!0))||0)+(parseFloat(t.curCSS(e[0],"marginRight",!0))||0)}(e):0)}function F(e,n){return function(e){return(parseFloat(t.curCSS(e[0],"paddingTop",!0))||0)+(parseFloat(t.curCSS(e[0],"paddingBottom",!0))||0)}(e)+function(e){return(parseFloat(t.curCSS(e[0],"borderTopWidth",!0))||0)+(parseFloat(t.curCSS(e[0],"borderBottomWidth",!0))||0)}(e)+(n?R(e):0)}function R(e){return(parseFloat(t.curCSS(e[0],"marginTop",!0))||0)+(parseFloat(t.curCSS(e[0],"marginBottom",!0))||0)}function N(t,e){e="number"==typeof e?e+"px":e,t.each((function(t,n){n.style.cssText+=";min-height:"+e+";_height:"+e}))}function L(){}function A(t,e){return t-e}function W(t){return Math.max.apply(Math,t)}function _(t){return(t<10?"0":"")+t}function O(t,n){if(t[n]!==e)return t[n];for(var r,a=(n=n.split(/(?=[A-Z])/)).length-1;a>=0;a--)if((r=t[n[a].toLowerCase()])!==e)return r;return t[""]}function B(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function I(t){return t.id+"/"+t.className+"/"+t.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/gi,"")}function Y(t){t.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",(function(){return!1}))}function j(t){t.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function P(t,e){t.each((function(t,n){n.className=n.className.replace(/^fc-\w*/,"fc-"+ft[e.getDay()])}))}function q(t,e){var n=t.source||{},r=t.color,a=n.color,o=e("eventColor"),i=t.backgroundColor||r||n.backgroundColor||a||e("eventBackgroundColor")||o;return r=t.borderColor||r||n.borderColor||a||e("eventBorderColor")||o,t=t.textColor||n.textColor||e("eventTextColor"),e=[],i&&e.push("background-color:"+i),r&&e.push("border-color:"+r),t&&e.push("color:"+t),e.join(";")}function J(e,n,r){if(t.isFunction(e)&&(e=[e]),e){var a,o;for(a=0;a<e.length;a++)o=e[a].apply(n,r)||o;return o}}function V(){for(var t=0;t<arguments.length;t++)if(arguments[t]!==e)return arguments[t]}function X(e,n,r){function a(t){t.click(o).mousedown(K)}function o(t){if(!V("selectable")){var e=parseInt(this.className.match(/fc\-day(\d+)/)[1]);e=h(e),X("dayClick",this,e,!0,t)}}function i(t,e,n){n&&R.build(),n=d(m.visStart);for(var r=c(d(n),z),o=0;o<H;o++){var i,l=new Date(Math.max(n,t)),u=new Date(Math.min(r,e));l<u&&(W?(i=g(u,n)*_+O+1,l=g(l,n)*_+O+1):(i=g(l,n),l=g(u,n)),a(s(o,i,o,l-1))),c(n,7),c(r,7)}}function s(t,n,r,a){return t=R.rect(t,n,r,a,e),$(t,e)}function l(t){return{row:Math.floor(g(t,m.visStart)/7),col:p(t.getDay())}}function u(t){return v(t.row,t.col)}function v(t,e){return c(d(m.visStart),7*t+e*_+O)}function h(t){return v(Math.floor(t/z),t%z)}function p(t){return(t-Math.max(B,I)+z)%z*_+O}var m=this;m.renderBasic=function(n,r,o,i){H=r,z=o,(W=V("isRTL"))?(_=-1,O=z-1):(_=1,O=0),B=V("firstDay"),I=V("weekends")?0:1,q=V("theme")?"ui":"fc",J=V("columnFormat"),(r=!D)?function(n,r){var o,i,s=q+"-widget-header",c=q+"-widget-content";for(o="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>",i=0;i<z;i++)o+="<th class='fc- "+s+"'/>";for(o+="</tr></thead><tbody>",i=0;i<n;i++){for(o+="<tr class='fc-week"+i+"'>",s=0;s<z;s++)o+="<td class='fc- "+c+" fc-day"+(i*z+s)+"'><div>"+(r?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";o+="</tr>"}n=t(o+="</tbody></table>").appendTo(e),y=n.find("thead"),b=y.find("th"),D=n.find("tbody"),w=D.find("tr"),M=D.find("td"),S=M.filter(":first-child"),C=w.eq(0).find("div.fc-day-content div"),j(y.add(y.find("tr"))),j(w),w.eq(0).addClass("fc-first"),a(M),E=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(e)}(n,i):Z(),function(e){var n,r,a,o=e||1==H,i=m.start.getMonth(),s=f(new Date);o&&b.each((function(e,a){n=t(a),r=h(e),n.html(ot(r,J)),P(n,r)})),M.each((function(e,a){n=t(a),(r=h(e)).getMonth()==i?n.removeClass("fc-other-month"):n.addClass("fc-other-month"),+r==+s?n.addClass(q+"-state-highlight fc-today"):n.removeClass(q+"-state-highlight fc-today"),n.find("div.fc-day-number").text(r.getDate()),o&&P(n,r)})),w.each((function(e,n){a=t(n),e<H?(a.show(),e==H-1?a.addClass("fc-last"):a.removeClass("fc-last")):a.hide()}))}(r)},m.setHeight=function(e){var n,r,a;e-=y.height(),"variable"==V("weekMode")?n=r=Math.floor(e/(1==H?2:6)):(n=Math.floor(e/H),r=e-n*(H-1)),S.each((function(e,o){e<H&&N((a=t(o)).find("> div"),(e==H-1?r:n)-F(a))}))},m.setWidth=function(t){x=t,A.clear(),T=Math.floor(x/z),k(b.slice(0,-1),T)},m.renderDayOverlay=i,m.defaultSelectionEnd=function(t){return d(t)},m.renderSelection=function(t,e){i(t,c(d(e),1),!0)},m.clearSelection=function(){Q()},m.reportDayClick=function(t,e,n){var r=l(t);X("dayClick",M[r.row*z+r.col],t,e,n)},m.dragStart=function(t,e){L.start((function(t){Q(),t&&s(t.row,t.col,t.row,t.col)}),e)},m.dragStop=function(t,e,n){var r=L.stop();Q(),r&&(r=u(r),X("drop",t,r,!0,e,n))},m.defaultEventEnd=function(t){return d(t.start)},m.getHoverListener=function(){return L},m.colContentLeft=function(t){return A.left(t)},m.colContentRight=function(t){return A.right(t)},m.dayOfWeekCol=p,m.dateCell=l,m.cellDate=u,m.cellIsAllDay=function(){return!0},m.allDayRow=function(t){return w.eq(t)},m.allDayBounds=function(){return{left:0,right:x}},m.getRowCnt=function(){return H},m.getColCnt=function(){return z},m.getColWidth=function(){return T},m.getDaySegmentContainer=function(){return E},G.call(m,e,n,r),et.call(m),tt.call(m),U.call(m);var y,b,D,w,M,S,C,E,x,T,H,z,R,L,A,W,_,O,B,I,q,J,V=m.opt,X=m.trigger,Z=m.clearEvents,$=m.renderOverlay,Q=m.clearOverlays,K=m.daySelectionMousedown,ot=n.formatDate;Y(e.addClass("fc-cols")),R=new nt((function(e,n){var r,a,o;b.each((function(e,i){r=t(i),a=r.offset().left,e&&(o[1]=a),o=[a],n[e]=o})),o[1]=a+r.outerWidth(),w.each((function(n,i){n<H&&(r=t(i),a=r.offset().top,n&&(o[1]=a),o=[a],e[n]=o)})),o[1]=a+r.outerHeight()})),L=new rt(R),A=new at((function(t){return C.eq(t)}))}function U(){function e(e){var r=b(),a=D(),o=d(n.visStart);a=c(d(o),a);var i,s,l,u,f,v,h=t.map(e,M),g=[];for(i=0;i<r;i++){for(s=x(E(e,h,o,a)),l=0;l<s.length;l++)for(u=s[l],f=0;f<u.length;f++)(v=u[f]).row=i,v.level=l,g.push(v);c(o,7),c(a,7)}return g}var n=this;n.renderEvents=function(t,n){s(t),w(e(t),n)},n.compileDaySegs=e,n.clearEvents=function(){l(),g().empty()},n.bindDaySeg=function(t,e,n){o(t)&&function(t,e){var n,o=p();e.draggable({zIndex:9,delay:50,opacity:r("dragOpacity"),revertDuration:r("dragRevertDuration"),start:function(i,s){a("eventDragStart",e,t,i,s),v(t,e),o.start((function(a,o,i,s){e.draggable("option","revert",!a||!i&&!s),y(),a?(n=7*i+s*(r("isRTL")?-1:1),m(c(d(t.start),n),c(M(t),n))):n=0}),i,"drag")},stop:function(r,i){o.stop(),y(),a("eventDragStop",e,t,r,i),n?h(this,t,n,0,t.allDay,r,i):(e.css("filter",""),f(t,e))}})}(t,e),n.isEnd&&i(t)&&S(t,e,n),u(t,e)},K.call(n);var r=n.opt,a=n.trigger,o=n.isEventDraggable,i=n.isEventResizable,s=n.reportEvents,l=n.reportEventClear,u=n.eventElementHandlers,f=n.showEvents,v=n.hideEvents,h=n.eventDrop,g=n.getDaySegmentContainer,p=n.getHoverListener,m=n.renderDayOverlay,y=n.clearOverlays,b=n.getRowCnt,D=n.getColCnt,w=n.renderDaySegs,S=n.resizableDayEvent}function Z(n,r,a){function o(t){t.click(s).mousedown(Wt)}function i(t){t.click(s).mousedown(E)}function s(t){if(!Ht("selectable")){var e=Math.min(gt-1,Math.floor((t.pageX-z.offset().left-ut)/ft)),n=y(e),r=this.parentNode.className.match(/fc-slot(\d+)/);if(r){r=parseInt(r[1])*Ht("slotMinutes");var a=Math.floor(r/60);n.setHours(a),n.setMinutes(r%60+xt),zt("dayClick",W[e],n,!1,t)}else zt("dayClick",W[e],n,!0,t)}}function l(t,e,n){n&&mt.build();var r=d(T.visStart);St?(n=g(e,r)*Ct+Et+1,t=g(t,r)*Ct+Et+1):(n=g(t,r),t=g(e,r)),(n=Math.max(0,n))<(t=Math.min(gt,t))&&o(h(0,n,0,t-1))}function h(t,e,n,r){return t=mt.rect(t,e,n,r,I),Rt(t,I)}function p(t,e){for(var n=d(T.visStart),r=c(d(n),1),a=0;a<gt;a++){var o=new Date(Math.max(n,t)),s=new Date(Math.min(r,e));if(o<s){var l=a*Ct+Et;l=mt.rect(0,l,0,l,U),o=M(n,o),s=M(n,s),l.top=o,l.height=s-o,i(Rt(l,U))}c(n,1),c(r,1)}}function m(t){var e=y(t.col);return t=t.row,Ht("allDaySlot")&&t--,t>=0&&u(e,xt+t*Ht("slotMinutes")),e}function y(t){return c(d(T.visStart),t*Ct+Et)}function D(t){return Ht("allDaySlot")&&!t.row}function w(t){return(t-Math.max(wt,Mt)+gt)%gt*Ct+Et}function M(t,n){if(t=d(t,!0),n<u(d(t),xt))return 0;if(n>=u(d(t),Tt))return Q.height();t=Ht("slotMinutes"),n=60*n.getHours()+n.getMinutes()-xt;var r=Math.floor(n/t),a=Bt[r];return a===e&&(a=Bt[r]=Q.find("tr:eq("+r+") td div")[0].offsetTop),Math.max(0,Math.round(a-1+vt*(n%t/t)))}function S(e,n){var r=Ht("selectHelper");if(mt.build(),r){var a=g(e,T.visStart)*Ct+Et;if(a>=0&&a<gt){a=mt.rect(0,a,0,a,U);var o=M(e,e),s=M(e,n);s>o&&(a.top=o,a.height=s-o,a.left+=2,a.width-=5,t.isFunction(r)?(e=r(e,n))&&(a.position="absolute",a.zIndex=8,st=t(e).css(a).appendTo(U)):(a.isStart=!0,a.isEnd=!0,(st=t(_t({title:"",start:e,end:n,className:["fc-select-helper"],editable:!1},a))).css("opacity",Ht("dragOpacity"))),st&&(i(st),U.append(st),k(st,a.width,!0),H(st,a.height,!0)))}}else p(e,n)}function C(){Nt(),st&&(st.remove(),st=null)}function E(e){var n;1==e.which&&Ht("selectable")&&(At(e),yt.start((function(t,e){C(),t&&t.col==e.col&&!D(t)?(e=m(e),t=m(t),S((n=[e,u(d(e),Ht("slotMinutes")),t,u(d(t),Ht("slotMinutes"))].sort(A))[0],n[3])):n=null}),e),t(document).one("mouseup",(function(t){yt.stop(),n&&(+n[0]==+n[1]&&x(n[0],!1,t),Lt(n[0],n[3],!1,t))})))}function x(t,e,n){zt("dayClick",W[w(t.getDay())],t,e,n)}var T=this;T.renderAgenda=function(e){gt=e,Dt=Ht("theme")?"ui":"fc",Mt=Ht("weekends")?0:1,wt=Ht("firstDay"),(St=Ht("isRTL"))?(Ct=-1,Et=gt-1):(Ct=1,Et=0),xt=b(Ht("minTime")),Tt=b(Ht("maxTime")),kt=Ht("columnFormat"),z?Ft():function(){var e,r,a,s,c,l=Dt+"-widget-header",f=Dt+"-widget-content",h=Ht("slotMinutes")%15==0;for(e="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+l+"'>&nbsp;</th>",r=0;r<gt;r++)e+="<th class='fc- fc-col"+r+" "+l+"'/>";for(e+="<th class='fc-agenda-gutter "+l+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+l+"'>&nbsp;</th>",r=0;r<gt;r++)e+="<td class='fc- fc-col"+r+" "+f+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";for(z=t(e+="<td class='fc-agenda-gutter "+f+"'>&nbsp;</td></tr></tbody></table>").appendTo(n),R=z.find("thead"),N=R.find("th").slice(1,-1),L=z.find("tbody"),W=L.find("td").slice(0,-1),_=W.find("div.fc-day-content div"),O=W.eq(0),B=O.find("> div"),j(R.add(R.find("tr"))),j(L.add(L.find("tr"))),ot=R.find("th:first"),it=z.find(".fc-agenda-gutter"),I=t("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),Ht("allDaySlot")?(q=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(I),e="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+l+" fc-agenda-axis'>"+Ht("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+l+" fc-agenda-gutter'>&nbsp;</th></tr></table>",J=t(e).appendTo(I),o((V=J.find("tr")).find("td")),ot=ot.add(J.find("th:first")),it=it.add(J.find("th.fc-agenda-gutter")),I.append("<div class='fc-agenda-divider "+l+"'><div class='fc-agenda-divider-inner'/></div>")):q=t([]),X=t("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(I),U=t("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(X),Z=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(U),e="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",s=u(d(a=v()),Tt),u(a,xt),r=pt=0;a<s;r++)e+="<tr class='fc-slot"+r+" "+((c=a.getMinutes())?"fc-minor":"")+"'><th class='fc-agenda-axis "+l+"'>"+(h&&c?"&nbsp;":Ot(a,Ht("axisFormat")))+"</th><td class='"+f+"'><div style='position:relative'>&nbsp;</div></td></tr>",u(a,Ht("slotMinutes")),pt++;Q=t(e+="</tbody></table>").appendTo(U),K=Q.find("div:first"),i(Q.find("td")),ot=ot.add(Q.find("th:first"))}(),function(){var t,e,n,r,a=f(new Date);for(t=0;t<gt;t++)r=y(t),(e=N.eq(t)).html(Ot(r,kt)),n=W.eq(t),+r==+a?n.addClass(Dt+"-state-highlight fc-today"):n.removeClass(Dt+"-state-highlight fc-today"),P(e.add(n),r)}()},T.setWidth=function(e){ct=e,bt.clear(),ut=0,k(ot.width("").each((function(e,n){ut=Math.max(ut,t(n).outerWidth())})),ut),e=X[0].clientWidth,(dt=X.width()-e)?(k(it,dt),it.show().prev().removeClass("fc-last")):it.hide().prev().addClass("fc-last"),ft=Math.floor((e-ut)/gt),k(N.slice(0,-1),ft)},T.setHeight=function(t,n){t===e&&(t=lt),lt=t,Bt={};var r=L.position().top,a=X.position().top;t=Math.min(t-r,Q.height()+a+1),B.height(t-F(O)),I.css("top",r),X.height(t-a-1),vt=K.height()+1,n&&function(){function t(){X.scrollTop(r)}var e=v(),n=d(e);n.setHours(Ht("firstHour"));var r=M(e,n)+1;t(),setTimeout(t,0)}()},T.beforeHide=function(){ht=X.scrollTop()},T.afterShow=function(){X.scrollTop(ht)},T.defaultEventEnd=function(t){var e=d(t.start);return t.allDay?e:u(e,Ht("defaultEventMinutes"))},T.timePosition=M,T.dayOfWeekCol=w,T.dateCell=function(t){return{row:Math.floor(g(t,T.visStart)/7),col:w(t.getDay())}},T.cellDate=m,T.cellIsAllDay=D,T.allDayRow=function(){return V},T.allDayBounds=function(){return{left:ut,right:ct-dt}},T.getHoverListener=function(){return yt},T.colContentLeft=function(t){return bt.left(t)},T.colContentRight=function(t){return bt.right(t)},T.getDaySegmentContainer=function(){return q},T.getSlotSegmentContainer=function(){return Z},T.getMinMinute=function(){return xt},T.getMaxMinute=function(){return Tt},T.getBodyContent=function(){return U},T.getRowCnt=function(){return 1},T.getColCnt=function(){return gt},T.getColWidth=function(){return ft},T.getSlotHeight=function(){return vt},T.defaultSelectionEnd=function(t,e){return e?d(t):u(d(t),Ht("slotMinutes"))},T.renderDayOverlay=l,T.renderSelection=function(t,e,n){n?Ht("allDaySlot")&&l(t,c(d(e),1),!0):S(t,e)},T.clearSelection=C,T.reportDayClick=x,T.dragStart=function(t,e){yt.start((function(t){Nt(),t&&(D(t)?h(t.row,t.col,t.row,t.col):p(t=m(t),u(d(t),Ht("defaultEventMinutes"))))}),e)},T.dragStop=function(t,e,n){var r=yt.stop();Nt(),r&&zt("drop",t,m(r),D(r),e,n)},G.call(T,n,r,a),et.call(T),tt.call(T),$.call(T);var z,R,N,L,W,_,O,B,I,q,J,V,X,U,Z,Q,K,ot,it,st,ct,lt,ut,ft,dt,vt,ht,gt,pt,mt,yt,bt,Dt,wt,Mt,St,Ct,Et,xt,Tt,kt,Ht=T.opt,zt=T.trigger,Ft=T.clearEvents,Rt=T.renderOverlay,Nt=T.clearOverlays,Lt=T.reportSelection,At=T.unselect,Wt=T.daySelectionMousedown,_t=T.slotSegHtml,Ot=r.formatDate,Bt={};Y(n.addClass("fc-agenda")),mt=new nt((function(e,n){function r(t){return Math.max(c,Math.min(l,t))}var a,o,i;N.each((function(e,r){a=t(r),o=a.offset().left,e&&(i[1]=o),i=[o],n[e]=i})),i[1]=o+a.outerWidth(),Ht("allDaySlot")&&(o=(a=V).offset().top,e[0]=[o,o+a.outerHeight()]);for(var s=U.offset().top,c=X.offset().top,l=c+X.outerHeight(),u=0;u<pt;u++)e.push([r(s+vt*u),r(s+vt*(u+1))])})),yt=new rt(mt),bt=new at((function(t){return _.eq(t)}))}function $(){function n(e){var n,r,a,o,s=(e=x(E(e,t.map(e,M),i.visStart,i.visEnd))).length,c=[];for(n=0;n<s;n++)for(r=e[n],a=0;a<r.length;a++)(o=r[a]).row=0,o.level=n,c.push(o);return c}function r(t){return t.end?d(t.end):u(d(t.start),s("defaultEventMinutes"))}function a(t,e){var n="<",r=t.url,a=q(t,s),o=a?" style='"+a+"'":"",i=["fc-event","fc-event-skin","fc-event-vert"];return f(t)&&i.push("fc-event-draggable"),e.isStart&&i.push("fc-corner-top"),e.isEnd&&i.push("fc-corner-bottom"),i=i.concat(t.className),t.source&&(i=i.concat(t.source.className||[])),n+=r?"a href='"+B(t.url)+"'":"div",n+=" class='"+i.join(" ")+"' style='position:absolute;z-index:8;top:"+e.top+"px;left:"+e.left+"px;"+a+"'><div class='fc-event-inner fc-event-skin'"+o+"><div class='fc-event-head fc-event-skin'"+o+"><div class='fc-event-time'>"+B(tt(t.start,t.end,s("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+B(t.title)+"</div></div><div class='fc-event-bg'></div></div>",e.isEnd&&v(t)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+"</"+(r?"a":"div")+">"}function o(t,e,n){var r=e.find("div.fc-event-time");f(t)&&function(t,e,n){function r(e){var r,a=u(d(t.start),e);t.end&&(r=u(d(t.end),e)),n.text(tt(a,r,s("timeFormat")))}function a(){h&&(n.css("display",""),e.draggable("option","grid",[y,b]),h=!1)}var o,i,f,v,h=!1,g=s("isRTL")?-1:1,p=w(),m=W(),y=_(),b=O();e.draggable({zIndex:9,scroll:!1,grid:[y,b],axis:1==m&&"y",opacity:s("dragOpacity"),revertDuration:s("dragRevertDuration"),start:function(r,u){l("eventDragStart",e,t,r,u),J(t,e),o=e.position(),f=v=0,p.start((function(r,o,l,u){e.draggable("option","revert",!r),Z(),r&&(i=u*g,s("allDaySlot")&&!r.row?(h||(h=!0,n.hide(),e.draggable("option","grid",null)),U(c(d(t.start),i),c(M(t),i))):a())}),r,"drag")},drag:function(t,e){(f=Math.round((e.position.top-o.top)/b)*s("slotMinutes"))!=v&&(h||r(f),v=f)},stop:function(n,s){var c=p.stop();Z(),l("eventDragStop",e,t,n,s),c&&(i||f||h)?V(this,t,i,h?0:f,h,n,s):(a(),e.css("filter",""),e.css(o),r(0),P(t,e))}})}(t,e,r),n.isEnd&&v(t)&&function(t,e,n){var r,a,o=O();e.resizable({handles:{s:"div.ui-resizable-s"},grid:o,start:function(n,o){r=a=0,J(t,e),e.css("z-index",9),l("eventResizeStart",this,t,n,o)},resize:function(i,c){(r=Math.round((Math.max(o,e.height())-c.originalSize.height)/o))!=a&&(n.text(tt(t.start,r||t.end?u(h(t),s("slotMinutes")*r):null,s("timeFormat"))),a=r)},stop:function(n,a){l("eventResizeStop",this,t,n,a),r?X(this,t,0,s("slotMinutes")*r,n,a):(e.css("z-index",8),P(t,e))}})}(t,e,r),m(t,e)}var i=this;i.renderEvents=function(f,v){g(f);var h,p=f.length,m=[],b=[];for(h=0;h<p;h++)f[h].allDay?m.push(f[h]):b.push(f[h]);s("allDaySlot")&&(L(n(m),v),y()),function(n,r){var i,c,u,f,d,v,h,g,p,m,y,b,w,M=n.length,S="",C={},E={},x=D();for(i=W(),(y=s("isRTL"))?(b=-1,w=i-1):(b=1,w=0),i=0;i<M;i++)u=(c=n[i]).event,f=k(c.start,c.start),d=k(c.start,c.end),v=c.col,h=c.level,g=c.forward||0,p=R(v*b+w),m=N(v*b+w)-p,m=Math.min(m-6,.95*m),v=h?m/(h+g+1):g?2*(m/(g+1)-6):m,h=p+m/(h+g+1)*h*b+(y?m-v:0),c.top=f,c.left=h,c.outerWidth=v,c.outerHeight=d-f,S+=a(u,c);for(x[0].innerHTML=S,y=x.children(),i=0;i<M;i++)u=(c=n[i]).event,S=t(y[i]),!1===(b=l("eventRender",u,u,S))?S.remove():(b&&!0!==b&&(S.remove(),S=t(b).css({position:"absolute",top:c.top,left:c.left}).appendTo(x)),c.element=S,u._id===r?o(u,S,c):S[0]._fci=i,j(u,S));for(T(x,n,o),i=0;i<M;i++)(S=(c=n[i]).element)&&(u=C[r=c.key=I(S[0])],c.vsides=u===e?C[r]=F(S,!0):u,u=E[r],c.hsides=u===e?E[r]=z(S,!0):u,(r=S.find("div.fc-event-content")).length&&(c.contentTop=r[0].offsetTop));for(i=0;i<M;i++)(S=(c=n[i]).element)&&(S[0].style.width=Math.max(0,c.outerWidth-c.hsides)+"px",C=Math.max(0,c.outerHeight-c.vsides),S[0].style.height=C+"px",u=c.event,c.contentTop!==e&&C-c.contentTop<10&&(S.find("div.fc-event-time").text(G(u.start,s("timeFormat"))+" - "+u.title),S.find("div.fc-event-title").remove()),l("eventAfterRender",u,u,S))}(function(e){var n,a,o,s,l,f,v=W(),h=C(),g=S(),p=u(d(i.visStart),h),m=t.map(e,r),y=[];for(n=0;n<v;n++){for(Q(a=x(E(e,m,p,u(d(p),g-h)))),o=0;o<a.length;o++)for(s=a[o],l=0;l<s.length;l++)(f=s[l]).col=n,f.level=o,y.push(f);c(p,1,!0)}return y}(b),v)},i.compileDaySegs=n,i.clearEvents=function(){p(),b().empty(),D().empty()},i.slotSegHtml=a,i.bindDaySeg=function(t,e,n){f(t)&&function(t,e,n){function r(){u||(e.width(a).height("").draggable("option","grid",null),u=!0)}var a,o,i,u=!0,f=s("isRTL")?-1:1,v=w(),h=_(),g=O(),p=C();e.draggable({zIndex:9,opacity:s("dragOpacity","month"),revertDuration:s("dragRevertDuration"),start:function(p,m){l("eventDragStart",e,t,p,m),J(t,e),a=e.width(),v.start((function(a,l,v,p){Z(),a?(o=!1,i=p*f,a.row?n?u&&(e.width(h-10),H(e,g*Math.round((t.end?(t.end-t.start)/ht:s("defaultEventMinutes"))/s("slotMinutes"))),e.draggable("option","grid",[h,1]),u=!1):o=!0:(U(c(d(t.start),i),c(M(t),i)),r()),o=o||u&&!i):(r(),o=!0),e.draggable("option","revert",o)}),p,"drag")},stop:function(n,a){if(v.stop(),Z(),l("eventDragStop",e,t,n,a),o)r(),e.css("filter",""),P(t,e);else{var c=0;u||(c=Math.round((e.offset().top-Y().offset().top)/g)*s("slotMinutes")+p-(60*t.start.getHours()+t.start.getMinutes())),V(this,t,i,c,u,n,a)}}})}(t,e,n.isStart),n.isEnd&&v(t)&&A(t,e,n),m(t,e)},K.call(i);var s=i.opt,l=i.trigger,f=i.isEventDraggable,v=i.isEventResizable,h=i.eventEnd,g=i.reportEvents,p=i.reportEventClear,m=i.eventElementHandlers,y=i.setHeight,b=i.getDaySegmentContainer,D=i.getSlotSegmentContainer,w=i.getHoverListener,S=i.getMaxMinute,C=i.getMinMinute,k=i.timePosition,R=i.colContentLeft,N=i.colContentRight,L=i.renderDaySegs,A=i.resizableDayEvent,W=i.getColCnt,_=i.getColWidth,O=i.getSlotHeight,Y=i.getBodyContent,j=i.reportEventElement,P=i.showEvents,J=i.hideEvents,V=i.eventDrop,X=i.eventResize,U=i.renderDayOverlay,Z=i.clearOverlays,$=i.calendar,G=$.formatDate,tt=$.formatDates}function Q(t){var e,n,r,a,o,i;for(e=t.length-1;e>0;e--)for(a=t[e],n=0;n<a.length;n++)for(o=a[n],r=0;r<t[e-1].length;r++)C(o,i=t[e-1][r])&&(i.forward=Math.max(i.forward||0,(o.forward||0)+1))}function G(t,n,r){function a(t,e){return"object"==typeof(t=w[t])?O(t,e||r):t}function o(t,e){return n.trigger.apply(n,[t,e||h].concat(Array.prototype.slice.call(arguments,2),[h]))}function i(t){return V(t.editable,(t.source||{}).editable,a("editable"))}function s(t){return t.end?d(t.end):g(t)}function l(t,e,n){var r,a=(t=D[t._id]).length;for(r=0;r<a;r++)e&&t[r][0]==e[0]||t[r][n]()}function f(t,n,r,a){r=r||0;for(var o,i=t.length,s=0;s<i;s++)o=t[s],a!==e&&(o.allDay=a),u(c(o.start,n,!0),r),o.end&&(o.end=u(c(o.end,n,!0),r)),p(o,w)}function v(t,e,n){n=n||0;for(var r,a=t.length,o=0;o<a;o++)(r=t[o]).end=u(c(s(r),e,!0),n),p(r,w)}var h=this;h.element=t,h.calendar=n,h.name=r,h.opt=a,h.trigger=o,h.isEventDraggable=function(t){return i(t)&&!a("disableDragging")},h.isEventResizable=function(t){return i(t)&&!a("disableResizing")},h.reportEvents=function(t){y={};var e,n,r=t.length;for(e=0;e<r;e++)n=t[e],y[n._id]?y[n._id].push(n):y[n._id]=[n]},h.eventEnd=s,h.reportEventElement=function(t,e){b.push(e),D[t._id]?D[t._id].push(e):D[t._id]=[e]},h.reportEventClear=function(){b=[],D={}},h.eventElementHandlers=function(t,e){e.click((function(n){if(!e.hasClass("ui-draggable-dragging")&&!e.hasClass("ui-resizable-resizing"))return o("eventClick",this,t,n)})).hover((function(e){o("eventMouseover",this,t,e)}),(function(e){o("eventMouseout",this,t,e)}))},h.showEvents=function(t,e){l(t,e,"show")},h.hideEvents=function(t,e){l(t,e,"hide")},h.eventDrop=function(t,e,n,r,a,i,s){var c=e.allDay,l=e._id;f(y[l],n,r,a),o("eventDrop",t,e,n,r,a,(function(){f(y[l],-n,-r,c),m(l)}),i,s),m(l)},h.eventResize=function(t,e,n,r,a,i){var s=e._id;v(y[s],n,r),o("eventResize",t,e,n,r,(function(){v(y[s],-n,-r),m(s)}),a,i),m(s)};var g=h.defaultEventEnd,p=n.normalizeEvent,m=n.reportEventChange,y={},b=[],D={},w=n.options}function K(){function n(t){var e,n,r,a,o,i,s,c,l,u,f=v("isRTL"),d=t.length,h=(e=E()).left,m=e.right,y="";for(e=0;e<d;e++)r=(n=t[e]).event,o=["fc-event","fc-event-skin","fc-event-hori"],g(r)&&o.push("fc-event-draggable"),f?(n.isStart&&o.push("fc-corner-right"),n.isEnd&&o.push("fc-corner-left"),i=H(n.end.getDay()-1),s=H(n.start.getDay()),c=n.isEnd?x(i):h,l=n.isStart?k(s):m):(n.isStart&&o.push("fc-corner-left"),n.isEnd&&o.push("fc-corner-right"),i=H(n.start.getDay()),s=H(n.end.getDay()-1),c=n.isStart?x(i):h,l=n.isEnd?k(s):m),o=o.concat(r.className),r.source&&(o=o.concat(r.source.className||[])),a=r.url,u=q(r,v),y+=a?"<a href='"+B(a)+"'":"<div",y+=" class='"+o.join(" ")+"' style='position:absolute;z-index:8;left:"+c+"px;"+u+"'><div class='fc-event-inner fc-event-skin'"+(u?" style='"+u+"'":"")+">",!r.allDay&&n.isStart&&(y+="<span class='fc-event-time'>"+B(_(r.start,r.end,v("timeFormat")))+"</span>"),y+="<span class='fc-event-title'>"+B(r.title)+"</span></div>",n.isEnd&&p(r)&&(y+="<div class='ui-resizable-handle ui-resizable-"+(f?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),y+="</"+(a?"a":"div")+">",n.left=c,n.outerWidth=l-c,n.startCol=i,n.endCol=s+1;return y}function r(e,n){var r,a,o,i,s=e.length;for(r=0;r<s;r++)o=(a=e[r]).event,i=t(n[r]),!1===(o=h("eventRender",o,o,i))?i.remove():(o&&!0!==o&&(o=t(o).css({position:"absolute",left:a.left}),i.replaceWith(o),i=o),a.element=i)}function a(t){var n,r,a,o,i,s=t.length,c={};for(n=0;n<s;n++)(a=(r=t[n]).element)&&((i=c[o=r.key=I(a[0])])===e&&(i=c[o]=z(a,!0)),r.hsides=i)}function o(t){var e,n,r,a=t.length;for(e=0;e<a;e++)(r=(n=t[e]).element)&&(r[0].style.width=Math.max(0,n.outerWidth-n.hsides)+"px")}function i(t){var n,r,a,o,i,s=t.length,c={};for(n=0;n<s;n++)(a=(r=t[n]).element)&&((i=c[o=r.key])===e&&(i=c[o]=R(a)),r.outerHeight=a[0].offsetHeight+i)}function s(){var t,e=M(),n=[];for(t=0;t<e;t++)n[t]=C(t).find("td:first div.fc-day-content > div");return n}function l(t){var e,n=t.length,r=[];for(e=0;e<n;e++)r[e]=t[e][0].offsetTop;return r}function u(t,e){var n,r,a,o=t.length;for(n=0;n<o;n++)(a=(r=t[n]).element)&&(a[0].style.top=e[r.row]+(r.top||0)+"px",r=r.event,h("eventAfterRender",r,r,a))}var f=this;f.renderDaySegs=function(t,e){var c,f,d,v,h=L(),g=M(),p=S(),m=0,b=t.length;for(h[0].innerHTML=n(t),r(t,h.children()),function(t){var e,n,r,a=t.length;for(e=0;e<a;e++)(r=(n=t[e]).element)&&y(n.event,r)}(t),function(t,e,n){var r,a,o,i,s=t.length;for(r=0;r<s;r++)(o=(a=t[r]).element)&&((i=a.event)._id===n?A(i,o,a):o[0]._fci=r);T(e,t,A)}(t,h,e),a(t),o(t),i(t),e=s(),h=0;h<g;h++){for(c=[],f=0;f<p;f++)c[f]=0;for(;m<b&&(d=t[m]).row==h;){for(f=W(c.slice(d.startCol,d.endCol)),d.top=f,f+=d.outerHeight,v=d.startCol;v<d.endCol;v++)c[v]=f;m++}e[h].height(W(c))}u(t,l(e))},f.resizableDayEvent=function(e,g,p){var y=v("isRTL"),C=y?"w":"e",E=g.find("div.ui-resizable-"+C),x=!1;Y(g),g.mousedown((function(t){t.preventDefault()})).click((function(t){x&&(t.preventDefault(),t.stopImmediatePropagation())})),E.mousedown((function(v){if(1==v.which){x=!0;var E,T,k=f.getHoverListener(),H=M(),z=S(),R=y?-1:1,A=y?z-1:0,W=g.css("top"),_=t.extend({},e),B=F(e.start);P(),t("body").css("cursor",C+"-resize").one("mouseup",(function(n){h("eventResizeStop",this,e,n),t("body").css("cursor",""),k.stop(),j(),E&&w(this,e,E,0,n),setTimeout((function(){x=!1}),0)})),h("eventResizeStart",this,e,v),k.start((function(f,v){if(f){var h=Math.max(B.row,f.row);f=f.col,1==H&&(h=0),h==B.row&&(f=y?Math.min(B.col,f):Math.max(B.col,f)),E=7*h+f*R+A-(7*v.row+v.col*R+A),v=c(m(e),E,!0),E?(_.end=v,h=T,(T=function(e,c,f){var d,v=t("<div/>"),h=L(),g=e.length;for(v[0].innerHTML=n(e),v=v.children(),h.append(v),r(e,v),a(e),o(e),i(e),u(e,l(s())),v=[],h=0;h<g;h++)(d=e[h].element)&&(e[h].row===c&&d.css("top",f),v.push(d[0]));return t(v)}(N([_]),p.row,W)).find("*").css("cursor",C+"-resize"),h&&h.remove(),D(e)):T&&(b(e),T.remove(),T=null),j(),O(e.start,c(d(v),1))}}),v)}}))};var v=f.opt,h=f.trigger,g=f.isEventDraggable,p=f.isEventResizable,m=f.eventEnd,y=f.reportEventElement,b=f.showEvents,D=f.hideEvents,w=f.eventResize,M=f.getRowCnt,S=f.getColCnt,C=f.allDayRow,E=f.allDayBounds,x=f.colContentLeft,k=f.colContentRight,H=f.dayOfWeekCol,F=f.dateCell,N=f.compileDaySegs,L=f.getDaySegmentContainer,A=f.bindDaySeg,_=f.calendar.formatDates,O=f.renderDayOverlay,j=f.clearOverlays,P=f.clearSelection}function tt(){function e(t){l&&(l=!1,c(),o("unselect",null,t))}function n(t,e,n,r){l=!0,o("select",null,t,e,n,r)}var r=this;r.select=function(t,r,a){e(),r||(r=i(t,a)),s(t,r,a),n(t,r,a)},r.unselect=e,r.reportSelection=n,r.daySelectionMousedown=function(o){var i,l=r.cellDate,u=r.cellIsAllDay,f=r.getHoverListener(),d=r.reportDayClick;1==o.which&&a("selectable")&&(e(o),f.start((function(t,e){c(),t&&u(t)?(i=[l(e),l(t)].sort(A),s(i[0],i[1],!0)):i=null}),o),t(document).one("mouseup",(function(t){f.stop(),i&&(+i[0]==+i[1]&&d(i[0],!0,t),n(i[0],i[1],!0,t))})))};var a=r.opt,o=r.trigger,i=r.defaultSelectionEnd,s=r.renderSelection,c=r.clearSelection,l=!1;a("selectable")&&a("unselectAuto")&&t(document).mousedown((function(n){var r=a("unselectCancel");r&&t(n.target).parents(r).length||e(n)}))}function et(){this.renderOverlay=function(r,a){var o=n.shift();return o||(o=t("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),o[0].parentNode!=a[0]&&o.appendTo(a),e.push(o.css(r).show()),o},this.clearOverlays=function(){for(var t;t=e.shift();)n.push(t.hide().unbind())};var e=[],n=[]}function nt(t){var e,n,r=this;r.build=function(){t(e=[],n=[])},r.cell=function(t,r){var a,o=e.length,i=n.length,s=-1,c=-1;for(a=0;a<o;a++)if(r>=e[a][0]&&r<e[a][1]){s=a;break}for(a=0;a<i;a++)if(t>=n[a][0]&&t<n[a][1]){c=a;break}return s>=0&&c>=0?{row:s,col:c}:null},r.rect=function(t,r,a,o,i){return i=i.offset(),{top:e[t][0]-i.top,left:n[r][0]-i.left,width:n[o][1]-n[r][0],height:e[a][1]-e[t][0]}}}function rt(n){function r(t){!function(t){t.pageX===e&&(t.pageX=t.originalEvent.pageX,t.pageY=t.originalEvent.pageY)}(t),(!(t=n.cell(t.pageX,t.pageY))!=!s||t&&(t.row!=s.row||t.col!=s.col))&&(t?(i||(i=t),o(t,i,t.row-i.row,t.col-i.col)):o(t,i),s=t)}var a,o,i,s;this.start=function(e,c,l){o=e,i=s=null,n.build(),r(c),a=l||"mousemove",t(document).bind(a,r)},this.stop=function(){return t(document).unbind(a,r),s}}function at(t){function n(e){return a[e]=a[e]||t(e)}var r=this,a={},o={},i={};r.left=function(t){return o[t]=o[t]===e?n(t).position().left:o[t]},r.right=function(t){return i[t]=i[t]===e?r.left(t)+n(t).width():i[t]},r.clear=function(){a={},o={},i={}}}var ot={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"",next:"",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*"},it={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},st=t.fullCalendar={version:"1.5.3"},ct=st.views={};t.fn.fullCalendar=function(n){if("string"==typeof n){var a,o=Array.prototype.slice.call(arguments,1);return this.each((function(){var r=t.data(this,"fullCalendar");r&&t.isFunction(r[n])&&(r=r[n].apply(r,o),a===e&&(a=r),"destroy"==n&&t.removeData(this,"fullCalendar"))})),a!==e?a:this}var i=n.eventSources||[];return delete n.eventSources,n.events&&(i.push(n.events),delete n.events),n=t.extend(!0,{},ot,n.isRTL||n.isRTL===e&&ot.isRTL?it:{},n),this.each((function(e,a){a=new r(e=t(a),n,i),e.data("fullCalendar",a),a.render()})),this},st.sourceNormalizers=[],st.sourceFetchers=[];var lt={dataType:"json",cache:!1},ut=1;st.addDays=c,st.cloneDate=d,st.parseDate=m,st.parseISO8601=y,st.parseTime=b,st.formatDate=D,st.formatDates=w;var ft=["sun","mon","tue","wed","thu","fri","sat"],dt=864e5,vt=36e5,ht=6e4,gt={s:function(t){return t.getSeconds()},ss:function(t){return _(t.getSeconds())},m:function(t){return t.getMinutes()},mm:function(t){return _(t.getMinutes())},h:function(t){return t.getHours()%12||12},hh:function(t){return _(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return _(t.getHours())},d:function(t){return t.getDate()},dd:function(t){return _(t.getDate())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return _(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},yy:function(t){return(t.getFullYear()+"").substring(2)},yyyy:function(t){return t.getFullYear()},t:function(t){return t.getHours()<12?"a":"p"},tt:function(t){return t.getHours()<12?"am":"pm"},T:function(t){return t.getHours()<12?"A":"P"},TT:function(t){return t.getHours()<12?"AM":"PM"},u:function(t){return D(t,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(t){return(t=t.getDate())>10&&t<20?"th":["st","nd","rd"][t%10-1]||"th"}};st.applyAll=J,ct.month=function(t,e){var n=this;n.render=function(t,e){e&&(s(t,e),t.setDate(1)),(t=d(t,!0)).setDate(1),e=s(d(t),1);var i=d(t),l=d(e),u=r("firstDay"),f=r("weekends")?0:1;f&&(h(i),h(l,-1,!0)),c(i,-(i.getDay()-Math.max(u,f)+7)%7),c(l,(7-l.getDay()+Math.max(u,f))%7),u=Math.round((l-i)/(7*dt)),"fixed"==r("weekMode")&&(c(l,7*(6-u)),u=6),n.title=o(t,r("titleFormat")),n.start=t,n.end=e,n.visStart=i,n.visEnd=l,a(6,u,f?5:7,!0)},X.call(n,t,e,"month");var r=n.opt,a=n.renderBasic,o=e.formatDate},ct.basicWeek=function(t,e){var n=this;n.render=function(t,e){e&&c(t,7*e),t=c(d(t),-(t.getDay()-r("firstDay")+7)%7),e=c(d(t),7);var i=d(t),s=d(e),l=r("weekends");l||(h(i),h(s,-1,!0)),n.title=o(i,c(d(s),-1),r("titleFormat")),n.start=t,n.end=e,n.visStart=i,n.visEnd=s,a(1,1,l?7:5,!1)},X.call(n,t,e,"basicWeek");var r=n.opt,a=n.renderBasic,o=e.formatDates},ct.basicDay=function(t,e){var n=this;n.render=function(t,e){e&&(c(t,e),r("weekends")||h(t,e<0?-1:1)),n.title=o(t,r("titleFormat")),n.start=n.visStart=d(t,!0),n.end=n.visEnd=c(d(n.start),1),a(1,1,1,!1)},X.call(n,t,e,"basicDay");var r=n.opt,a=n.renderBasic,o=e.formatDate},n({weekMode:"fixed"}),ct.agendaWeek=function(t,e){var n=this;n.render=function(t,e){e&&c(t,7*e),t=c(d(t),-(t.getDay()-r("firstDay")+7)%7),e=c(d(t),7);var i=d(t),s=d(e),l=r("weekends");l||(h(i),h(s,-1,!0)),n.title=o(i,c(d(s),-1),r("titleFormat")),n.start=t,n.end=e,n.visStart=i,n.visEnd=s,a(l?7:5)},Z.call(n,t,e,"agendaWeek");var r=n.opt,a=n.renderAgenda,o=e.formatDates},ct.agendaDay=function(t,e){var n=this;n.render=function(t,e){e&&(c(t,e),r("weekends")||h(t,e<0?-1:1)),e=d(t,!0);var i=c(d(e),1);n.title=o(t,r("titleFormat")),n.start=n.visStart=e,n.end=n.visEnd=i,a(1)},Z.call(n,t,e,"agendaDay");var r=n.opt,a=n.renderAgenda,o=e.formatDate},n({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24})}(jQuery);