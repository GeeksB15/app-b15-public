!function(e){var o=new Array,t=new Array,i=new Array,n=new Array;function r(o){var t=e("#"+o.view+" option").size(),i=e("#"+o.storage+" option").size();e("#"+o.counter).text("Showing "+t+" of "+(t+i))}function c(t){var i,n=t.index;i=o[n].useFilters?e("#"+t.filter).val().toString().toLowerCase():"",e("#"+t.view+" option").filter((function(o){return-1==e(this).text().toString().toLowerCase().indexOf(i)})).appendTo("#"+t.storage),e("#"+t.storage+" option").filter((function(o){return-1!=e(this).text().toString().toLowerCase().indexOf(i)})).appendTo("#"+t.view);try{e("#"+t.view+" option").removeAttr("selected")}catch(e){}o[n].useSorting&&a(t),o[n].useCounters&&r(t)}function a(o){var t=e("#"+o.view+" option");t.sort(n[o.index]),e("#"+o.view).empty().append(t)}function s(t,i){d(o[t.index])?e("#"+t.view+" option:selected").appendTo("#"+i.view):e("#"+t.view+" option:selected:not([class*=copiedOption])").clone().appendTo("#"+i.view).end().end().addClass("copiedOption");try{e("#"+t.view+" option,#"+i.view+" option").removeAttr("selected")}catch(e){}c(i),o[t.index].useCounters&&r(t)}function l(t,i){d(o[t.index])?e("#"+t.view+" option").appendTo("#"+i.view):e("#"+t.view+" option:not([class*=copiedOption])").clone().appendTo("#"+i.view).end().end().addClass("copiedOption");try{e("#"+t.view+" option,#"+i.view+" option").removeAttr("selected")}catch(e){}c(i),o[t.index].useCounters&&r(t)}function u(t,i){e("#"+i.view+" option.copiedOption").add("#"+i.storage+" option.copiedOption").remove();try{e("#"+t.view+" option:selected").appendTo("#"+i.view).removeAttr("selected")}catch(e){}e("#"+t.view+" option").add("#"+t.storage+" option").clone().addClass("copiedOption").appendTo("#"+i.view),c(i),o[t.index].useCounters&&r(t)}function p(t){e("#"+t.filter).val(""),e("#"+t.storage+" option").appendTo("#"+t.view);try{e("#"+t.view+" option").removeAttr("selected")}catch(e){}o[t.index].useSorting&&a(t),o[t.index].useCounters&&r(t)}function d(e){return"move"==e.transferMode}e.configureBoxes=function(x){var v=o.push({box1View:"box1View",box1Storage:"box1Storage",box1Filter:"box1Filter",box1Clear:"box1Clear",box1Counter:"box1Counter",box2View:"box2View",box2Storage:"box2Storage",box2Filter:"box2Filter",box2Clear:"box2Clear",box2Counter:"box2Counter",to1:"to1",allTo1:"allTo1",to2:"to2",allTo2:"allTo2",transferMode:"move",sortBy:"text",useFilters:!0,useCounters:!0,useSorting:!0,selectOnSubmit:!0});v--,e.extend(o[v],x),t.push({view:o[v].box1View,storage:o[v].box1Storage,filter:o[v].box1Filter,clear:o[v].box1Clear,counter:o[v].box1Counter,index:v}),i.push({view:o[v].box2View,storage:o[v].box2Storage,filter:o[v].box2Filter,clear:o[v].box2Clear,counter:o[v].box2Counter,index:v}),"text"==o[v].sortBy?n.push((function(e,o){var t=e.text.toLowerCase(),i=o.text.toLowerCase();return t<i?-1:t>i?1:0})):n.push((function(e,o){var t=e.value.toLowerCase(),i=o.value.toLowerCase();return t<i?-1:t>i?1:0})),o[v].useFilters&&(e("#"+t[v].filter).keyup((function(){c(t[v])})),e("#"+i[v].filter).keyup((function(){c(i[v])})),e("#"+t[v].clear).click((function(){p(t[v])})),e("#"+i[v].clear).click((function(){p(i[v])}))),d(o[v])?(e("#"+i[v].view).dblclick((function(){s(i[v],t[v])})),e("#"+o[v].to1).click((function(){s(i[v],t[v])})),e("#"+o[v].allTo1).click((function(){l(i[v],t[v])}))):(e("#"+i[v].view).dblclick((function(){u(i[v],t[v])})),e("#"+o[v].to1).click((function(){u(i[v],t[v])})),e("#"+o[v].allTo1).click((function(){!function(t,i){e("#"+i.view+" option.copiedOption").add("#"+i.storage+" option.copiedOption").remove();try{e("#"+t.storage+" option").clone().addClass("copiedOption").add("#"+t.view+" option").appendTo("#"+i.view).removeAttr("selected")}catch(e){}c(i),o[t.index].useCounters&&r(t)}(i[v],t[v])}))),e("#"+t[v].view).dblclick((function(){s(t[v],i[v])})),e("#"+o[v].to2).click((function(){s(t[v],i[v])})),e("#"+o[v].allTo2).click((function(){l(t[v],i[v])})),o[v].useCounters&&(r(t[v]),r(i[v])),o[v].useSorting&&(a(t[v]),a(i[v])),e("#"+t[v].storage+",#"+i[v].storage).css("display","none"),o[v].selectOnSubmit&&e("#"+o[v].box2View).closest("form").submit((function(){e("#"+o[v].box2View).children("option").attr("selected","selected")}))}}(jQuery);