!function(s){s.uniform={options:{selectClass:"selector",radioClass:"radio",checkboxClass:"checker",fileClass:"uploader",filenameClass:"filename",fileBtnClass:"action",fileDefaultText:"No file selected",fileBtnText:"Choose File",checkedClass:"checked",focusClass:"focus",disabledClass:"disabled",buttonClass:"button",activeClass:"active",hoverClass:"hover",useID:!0,idPrefix:"uniform",resetSelector:!1,autoHide:!0},elements:[]},s.browser.msie&&s.browser.version<7?s.support.selectOpacity=!1:s.support.selectOpacity=!0,s.fn.uniform=function(e){e=s.extend(s.uniform.options,e);var a=this;function i(e){(e=s(e).get()).length>1?s.each(e,(function(e,a){s.uniform.elements.push(a)})):s.uniform.elements.push(e)}return 0!=e.resetSelector&&s(e.resetSelector).mouseup((function(){setTimeout((function(){s.uniform.update(a)}),10)})),s.uniform.restore=function(e){null==e&&(e=s(s.uniform.elements)),s(e).each((function(){s(this).is(":checkbox")?s(this).unwrap().unwrap():s(this).is("select")?(s(this).siblings("span").remove(),s(this).unwrap()):s(this).is(":radio")?s(this).unwrap().unwrap():s(this).is(":file")?(s(this).siblings("span").remove(),s(this).unwrap()):s(this).is("button, :submit, :reset, a, input[type='button']")&&s(this).unwrap().unwrap(),s(this).unbind(".uniform"),s(this).css("opacity","1");var a=s.inArray(s(e),s.uniform.elements);s.uniform.elements.splice(a,1)}))},s.uniform.noSelect=function(e){function a(){return!1}s(e).each((function(){this.onselectstart=this.ondragstart=a,s(this).mousedown(a).css({MozUserSelect:"none"})}))},s.uniform.update=function(a){null==a&&(a=s(s.uniform.elements)),(a=s(a)).each((function(){var i=s(this);if(i.is("select")){var t=i.siblings("span");(n=i.parent("div")).removeClass(e.hoverClass+" "+e.focusClass+" "+e.activeClass),t.html(i.find(":selected").html()),i.is(":disabled")?n.addClass(e.disabledClass):n.removeClass(e.disabledClass)}else if(i.is(":checkbox"))t=i.closest("span"),(n=i.closest("div")).removeClass(e.hoverClass+" "+e.focusClass+" "+e.activeClass),t.removeClass(e.checkedClass),i.is(":checked")&&t.addClass(e.checkedClass),i.is(":disabled")?n.addClass(e.disabledClass):n.removeClass(e.disabledClass);else if(i.is(":radio"))t=i.closest("span"),(n=i.closest("div")).removeClass(e.hoverClass+" "+e.focusClass+" "+e.activeClass),t.removeClass(e.checkedClass),i.is(":checked")&&t.addClass(e.checkedClass),i.is(":disabled")?n.addClass(e.disabledClass):n.removeClass(e.disabledClass);else if(i.is(":file")){var n=i.parent("div"),l=i.siblings(e.filenameClass);btnTag=i.siblings(e.fileBtnClass),n.removeClass(e.hoverClass+" "+e.focusClass+" "+e.activeClass),l.text(i.val()),i.is(":disabled")?n.addClass(e.disabledClass):n.removeClass(e.disabledClass)}else(i.is(":submit")||i.is(":reset")||i.is("button")||i.is("a")||a.is("input[type=button]"))&&((n=i.closest("div")).removeClass(e.hoverClass+" "+e.focusClass+" "+e.activeClass),i.is(":disabled")?n.addClass(e.disabledClass):n.removeClass(e.disabledClass))}))},this.each((function(){if(s.support.selectOpacity){var a=s(this);a.is("select")?1!=a.attr("multiple")&&"multiple"!=a.attr("multiple")&&(null==a.attr("size")||a.attr("size")<=1)&&function(a){var t=s(a),n=s("<div />"),l=s("<span />");"none"==!t.css("display")&&e.autoHide&&n.hide(),n.addClass(e.selectClass),e.useID&&""!=a.attr("id")&&n.attr("id",e.idPrefix+"-"+a.attr("id"));var o=a.find(":selected:first");0==o.length&&(o=a.find("option:first")),l.html(o.html()),a.css("opacity",0),a.wrap(n),a.before(l),n=a.parent("div"),l=a.siblings("span"),a.bind({"change.uniform":function(){l.text(a.find(":selected").html()),n.removeClass(e.activeClass)},"focus.uniform":function(){n.addClass(e.focusClass)},"blur.uniform":function(){n.removeClass(e.focusClass),n.removeClass(e.activeClass)},"mousedown.uniform touchbegin.uniform":function(){n.addClass(e.activeClass)},"mouseup.uniform touchend.uniform":function(){n.removeClass(e.activeClass)},"click.uniform touchend.uniform":function(){n.removeClass(e.activeClass)},"mouseenter.uniform":function(){n.addClass(e.hoverClass)},"mouseleave.uniform":function(){n.removeClass(e.hoverClass),n.removeClass(e.activeClass)},"keyup.uniform":function(){l.text(a.find(":selected").html())}}),s(a).attr("disabled")&&n.addClass(e.disabledClass),s.uniform.noSelect(l),i(a)}(a):a.is(":checkbox")?function(a){var t=s(a),n=s("<div />"),l=s("<span />");"none"==!t.css("display")&&e.autoHide&&n.hide(),n.addClass(e.checkboxClass),e.useID&&""!=a.attr("id")&&n.attr("id",e.idPrefix+"-"+a.attr("id")),s(a).wrap(n),s(a).wrap(l),l=a.parent(),n=l.parent(),s(a).css("opacity",0).bind({"focus.uniform":function(){n.addClass(e.focusClass)},"blur.uniform":function(){n.removeClass(e.focusClass)},"click.uniform touchend.uniform":function(){s(a).attr("checked")?l.addClass(e.checkedClass):l.removeClass(e.checkedClass)},"mousedown.uniform touchbegin.uniform":function(){n.addClass(e.activeClass)},"mouseup.uniform touchend.uniform":function(){n.removeClass(e.activeClass)},"mouseenter.uniform":function(){n.addClass(e.hoverClass)},"mouseleave.uniform":function(){n.removeClass(e.hoverClass),n.removeClass(e.activeClass)}}),s(a).attr("checked")&&l.addClass(e.checkedClass),s(a).attr("disabled")&&n.addClass(e.disabledClass),i(a)}(a):a.is(":radio")?function(a){var t=s(a),n=s("<div />"),l=s("<span />");"none"==!t.css("display")&&e.autoHide&&n.hide(),n.addClass(e.radioClass),e.useID&&""!=a.attr("id")&&n.attr("id",e.idPrefix+"-"+a.attr("id")),s(a).wrap(n),s(a).wrap(l),l=a.parent(),n=l.parent(),s(a).css("opacity",0).bind({"focus.uniform":function(){n.addClass(e.focusClass)},"blur.uniform":function(){n.removeClass(e.focusClass)},"click.uniform touchend.uniform":function(){if(s(a).attr("checked")){var i=e.radioClass.split(" ")[0];s("."+i+" span."+e.checkedClass+":has([name='"+s(a).attr("name")+"'])").removeClass(e.checkedClass),l.addClass(e.checkedClass)}else l.removeClass(e.checkedClass)},"mousedown.uniform touchend.uniform":function(){s(a).is(":disabled")||n.addClass(e.activeClass)},"mouseup.uniform touchbegin.uniform":function(){n.removeClass(e.activeClass)},"mouseenter.uniform touchend.uniform":function(){n.addClass(e.hoverClass)},"mouseleave.uniform":function(){n.removeClass(e.hoverClass),n.removeClass(e.activeClass)}}),s(a).attr("checked")&&l.addClass(e.checkedClass),s(a).attr("disabled")&&n.addClass(e.disabledClass),i(a)}(a):a.is(":file")?function(a){var t=s(a),n=s("<div />"),l=s("<span>"+e.fileDefaultText+"</span>"),o=s("<span>"+e.fileBtnText+"</span>");if("none"==!t.css("display")&&e.autoHide&&n.hide(),n.addClass(e.fileClass),l.addClass(e.filenameClass),o.addClass(e.fileBtnClass),e.useID&&""!=t.attr("id")&&n.attr("id",e.idPrefix+"-"+t.attr("id")),t.wrap(n),t.after(o),t.after(l),n=t.closest("div"),l=t.siblings("."+e.filenameClass),o=t.siblings("."+e.fileBtnClass),!t.attr("size")){var r=n.width();t.attr("size",r/10)}var u=function(){var s=t.val();s=""===s?e.fileDefaultText:(s=s.split(/[\/\\]+/))[s.length-1],l.text(s)};u(),t.css("opacity",0).bind({"focus.uniform":function(){n.addClass(e.focusClass)},"blur.uniform":function(){n.removeClass(e.focusClass)},"mousedown.uniform":function(){s(a).is(":disabled")||n.addClass(e.activeClass)},"mouseup.uniform":function(){n.removeClass(e.activeClass)},"mouseenter.uniform":function(){n.addClass(e.hoverClass)},"mouseleave.uniform":function(){n.removeClass(e.hoverClass),n.removeClass(e.activeClass)}}),s.browser.msie?t.bind("click.uniform.ie7",(function(){setTimeout(u,0)})):t.bind("change.uniform",u),t.attr("disabled")&&n.addClass(e.disabledClass),s.uniform.noSelect(l),s.uniform.noSelect(o),i(a)}(a):a.is(":text, :password, input[type='email']")?function(e){$el=s(e),$el.addClass($el.attr("type")),i(e)}(a):a.is("textarea")?function(e){s(e).addClass("uniform"),i(e)}(a):(a.is("a")||a.is(":submit")||a.is(":reset")||a.is("button")||a.is("input[type=button]"))&&function(a){var t,n=s(a),l=s("<div>"),o=s("<span>");l.addClass(e.buttonClass),e.useID&&""!=n.attr("id")&&l.attr("id",e.idPrefix+"-"+n.attr("id")),n.is("a")||n.is("button")?t=n.text():(n.is(":submit")||n.is(":reset")||n.is("input[type=button]"))&&(t=n.attr("value")),t=""==t?n.is(":reset")?"Reset":"Submit":t,o.html(t),n.css("opacity",0),n.wrap(l),n.wrap(o),l=n.closest("div"),o=n.closest("span"),n.is(":disabled")&&l.addClass(e.disabledClass),l.bind({"mouseenter.uniform":function(){l.addClass(e.hoverClass)},"mouseleave.uniform":function(){l.removeClass(e.hoverClass),l.removeClass(e.activeClass)},"mousedown.uniform touchbegin.uniform":function(){l.addClass(e.activeClass)},"mouseup.uniform touchend.uniform":function(){l.removeClass(e.activeClass)},"click.uniform touchend.uniform":function(e){if(s(e.target).is("span")||s(e.target).is("div"))if(a[0].dispatchEvent){var i=document.createEvent("MouseEvents");i.initEvent("click",!0,!0),a[0].dispatchEvent(i)}else a[0].click()}}),a.bind({"focus.uniform":function(){l.addClass(e.focusClass)},"blur.uniform":function(){l.removeClass(e.focusClass)}}),s.uniform.noSelect(l),i(a)}(a)}}))}}(jQuery);