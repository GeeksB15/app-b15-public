!function(){var e,t,n=0,i=[],r={},o={},a={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},s=/[<>&\"\']/g,l=window.setTimeout,u={};function c(){this.returnValue=!1}function f(){this.cancelBubble=!0}!function(e){var t,n,i,r="application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mpga mpega mp2 mp3,audio/x-wav,wav,audio/mp4,m4a,image/bmp,bmp,image/gif,gif,image/jpeg,jpeg jpg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/vnd.rn-realvideo,rv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe".split(/,/);for(t=0;t<r.length;t+=2)for(i=r[t+1].split(/ /),n=0;n<i.length;n++)o[i[n]]=r[t]}();var p,d,g,m,h,v,E={VERSION:"1.5.4",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:o,ua:(m=navigator,h=m.userAgent,v=m.vendor,g=(p=/WebKit/.test(h))&&-1!==v.indexOf("Apple"),d=window.opera&&window.opera.buildNumber,{windows:-1!==navigator.platform.indexOf("Win"),ie:!p&&!d&&/MSIE/gi.test(h)&&/Explorer/gi.test(m.appName),webkit:p,gecko:!p&&/Gecko/.test(h),safari:g,opera:!!d}),typeOf:function(e){return{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},extend:function(e){return E.each(arguments,(function(t,n){n>0&&E.each(t,(function(t,n){e[n]=t}))})),e},cleanName:function(e){var t,n;for(n=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"],t=0;t<n.length;t+=2)e=e.replace(n[t],n[t+1]);return(e=e.replace(/\s+/g,"_")).replace(/[^a-z0-9_\-\.]+/gi,"")},addRuntime:function(e,t){return t.name=e,i[e]=t,i.push(t),t},guid:function(){var e,t=(new Date).getTime().toString(32);for(e=0;e<5;e++)t+=Math.floor(65535*Math.random()).toString(32);return(E.guidPrefix||"p")+t+(n++).toString(32)},buildUrl:function(e,t){var n="";return E.each(t,(function(e,t){n+=(n?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(e)})),n&&(e+=(e.indexOf("?")>0?"&":"?")+n),e},each:function(t,n){var i,r,o;if(t)if((i=t.length)===e){for(r in t)if(t.hasOwnProperty(r)&&!1===n(t[r],r))return}else for(o=0;o<i;o++)if(!1===n(t[o],o))return},formatSize:function(t){return t===e||/\D/.test(t)?E.translate("N/A"):t>1073741824?Math.round(t/1073741824,1)+" GB":t>1048576?Math.round(t/1048576,1)+" MB":t>1024?Math.round(t/1024,1)+" KB":t+" b"},getPos:function(e,t){var n,i,r,o=0,a=0,s=document;function l(e){var t,n,i=0,r=0;return e&&(n=e.getBoundingClientRect(),t="CSS1Compat"===s.compatMode?s.documentElement:s.body,i=n.left+t.scrollLeft,r=n.top+t.scrollTop),{x:i,y:r}}if(e=e,t=t||s.body,e&&e.getBoundingClientRect&&navigator.userAgent.indexOf("MSIE")>0&&s.documentMode<8)return i=l(e),r=l(t),{x:i.x-r.x,y:i.y-r.y};for(n=e;n&&n!=t&&n.nodeType;)o+=n.offsetLeft||0,a+=n.offsetTop||0,n=n.offsetParent;for(n=e.parentNode;n&&n!=t&&n.nodeType;)o-=n.scrollLeft||0,a-=n.scrollTop||0,n=n.parentNode;return{x:o,y:a}},getSize:function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}},parseSize:function(e){var t;return"string"==typeof e&&(t=(e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,"")))[2],e=+e[1],"g"==t&&(e*=1073741824),"m"==t&&(e*=1048576),"k"==t&&(e*=1024)),e},xmlEncode:function(e){return e?(""+e).replace(s,(function(e){return a[e]?"&"+a[e]+";":e})):e},toArray:function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n},inArray:function(e,t){if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n}return-1},addI18n:function(e){return E.extend(r,e)},translate:function(e){return r[e]||e},isEmptyObj:function(t){if(t===e)return!0;for(var n in t)return!1;return!0},hasClass:function(e,t){return""!=e.className&&new RegExp("(^|\\s+)"+t+"(\\s+|$)").test(e.className)},addClass:function(e,t){E.hasClass(e,t)||(e.className=""==e.className?t:e.className.replace(/\s+$/,"")+" "+t)},removeClass:function(e,t){var n=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e.className=e.className.replace(n,(function(e,t,n){return" "===t&&" "===n?" ":""}))},getStyle:function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void 0},addEvent:function(n,i,r){var o,a,s;s=arguments[3],i=i.toLowerCase(),t===e&&(t="Plupload_"+E.guid()),n.addEventListener?(o=r,n.addEventListener(i,o,!1)):n.attachEvent&&(o=function(){var e=window.event;e.target||(e.target=e.srcElement),e.preventDefault=c,e.stopPropagation=f,r(e)},n.attachEvent("on"+i,o)),n[t]===e&&(n[t]=E.guid()),u.hasOwnProperty(n[t])||(u[n[t]]={}),(a=u[n[t]]).hasOwnProperty(i)||(a[i]=[]),a[i].push({func:o,orig:r,key:s})},removeEvent:function(n,i){var r,o,a;if("function"==typeof arguments[2]?o=arguments[2]:a=arguments[2],i=i.toLowerCase(),n[t]&&u[n[t]]&&u[n[t]][i]){for(var s=(r=u[n[t]][i]).length-1;s>=0&&(r[s].key!==a&&r[s].orig!==o||(n.removeEventListener?n.removeEventListener(i,r[s].func,!1):n.detachEvent&&n.detachEvent("on"+i,r[s].func),r[s].orig=null,r[s].func=null,r.splice(s,1),o===e));s--);if(r.length||delete u[n[t]][i],E.isEmptyObj(u[n[t]])){delete u[n[t]];try{delete n[t]}catch(i){n[t]=e}}}},removeAllEvents:function(n){var i=arguments[1];n[t]!==e&&n[t]&&E.each(u[n[t]],(function(e,t){E.removeEvent(n,t,i)}))},Uploader:function(t){var n,r,o={},a=[],s=!1;function u(){var e,t,n=0;if(this.state==E.STARTED){for(t=0;t<a.length;t++)e||a[t].status!=E.QUEUED?n++:((e=a[t]).status=E.UPLOADING,this.trigger("BeforeUpload",e)&&this.trigger("UploadFile",e));n==a.length&&(this.stop(),this.trigger("UploadComplete",a))}}function c(){var t,i;for(n.reset(),t=0;t<a.length;t++)(i=a[t]).size!==e?(n.size+=i.size,n.loaded+=i.loaded):n.size=e,i.status==E.DONE?n.uploaded++:i.status==E.FAILED?n.failed++:n.queued++;n.size===e?n.percent=a.length>0?Math.ceil(n.uploaded/a.length*100):0:(n.bytesPerSec=Math.ceil(n.loaded/((+new Date-r||1)/1e3)),n.percent=n.size>0?Math.ceil(n.loaded/n.size*100):0)}n=new E.QueueProgress,t=E.extend({chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:"file",filters:[]},t),E.extend(this,{state:E.STOPPED,runtime:"",features:{},files:a,settings:t,total:n,id:E.guid(),init:function(){var n,o,s,f=this,p=0;if("function"==typeof t.preinit?t.preinit(f):E.each(t.preinit,(function(e,t){f.bind(t,e)})),t.page_url=t.page_url||document.location.pathname.replace(/\/[^\/]+$/g,"/"),/^(\w+:\/\/|\/)/.test(t.url)||(t.url=t.page_url+t.url),t.chunk_size=E.parseSize(t.chunk_size),t.max_file_size=E.parseSize(t.max_file_size),f.bind("FilesAdded",(function(n,i){var r,o,s,u=0,c=t.filters;for(c&&c.length&&(s=[],E.each(c,(function(e){E.each(e.extensions.split(/,/),(function(e){/^\s*\*\s*$/.test(e)?s.push("\\.*"):s.push("\\."+e.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))}))})),s=new RegExp(s.join("|")+"$","i")),r=0;r<i.length;r++)(o=i[r]).loaded=0,o.percent=0,o.status=E.QUEUED,!s||s.test(o.name)?o.size!==e&&o.size>t.max_file_size?n.trigger("Error",{code:E.FILE_SIZE_ERROR,message:E.translate("File size error."),file:o}):(a.push(o),u++):n.trigger("Error",{code:E.FILE_EXTENSION_ERROR,message:E.translate("File extension error."),file:o});if(!u)return!1;l((function(){f.trigger("QueueChanged"),f.refresh()}),1)})),t.unique_names&&f.bind("UploadFile",(function(e,t){var n=t.name.match(/\.([^.]+)$/),i="tmp";n&&(i=n[1]),t.target_name=t.id+"."+i})),f.bind("UploadProgress",(function(e,t){t.percent=t.size>0?Math.ceil(t.loaded/t.size*100):100,c()})),f.bind("StateChanged",(function(e){if(e.state==E.STARTED)r=+new Date;else if(e.state==E.STOPPED)for(n=e.files.length-1;n>=0;n--)e.files[n].status==E.UPLOADING&&(e.files[n].status=E.QUEUED,c())})),f.bind("QueueChanged",c),f.bind("Error",(function(e,t){t.file&&(t.file.status=E.FAILED,c(),e.state==E.STARTED&&l((function(){u.call(f)}),1))})),f.bind("FileUploaded",(function(e,t){t.status=E.DONE,t.loaded=t.size,e.trigger("UploadProgress",t),l((function(){u.call(f)}),1)})),t.runtimes)for(o=[],s=t.runtimes.split(/\s?,\s?/),n=0;n<s.length;n++)i[s[n]]&&o.push(i[s[n]]);else o=i;!function e(){var t,n,i,r=o[p++];if(r){if(t=r.getFeatures(),n=f.settings.required_features)for(n=n.split(","),i=0;i<n.length;i++)if(!t[n[i]])return void e();r.init(f,(function(n){n&&n.success?(f.features=t,f.runtime=r.name,f.trigger("Init",{runtime:r.name}),f.trigger("PostInit"),f.refresh()):e()}))}else f.trigger("Error",{code:E.INIT_ERROR,message:E.translate("Init error.")})}(),"function"==typeof t.init?t.init(f):E.each(t.init,(function(e,t){f.bind(t,e)}))},refresh:function(){this.trigger("Refresh")},start:function(){a.length&&this.state!=E.STARTED&&(this.state=E.STARTED,this.trigger("StateChanged"),u.call(this))},stop:function(){this.state!=E.STOPPED&&(this.state=E.STOPPED,this.trigger("CancelUpload"),this.trigger("StateChanged"))},disableBrowse:function(){s=arguments[0]===e||arguments[0],this.trigger("DisableBrowse",s)},getFile:function(e){var t;for(t=a.length-1;t>=0;t--)if(a[t].id===e)return a[t]},removeFile:function(e){var t;for(t=a.length-1;t>=0;t--)if(a[t].id===e.id)return this.splice(t,1)[0]},splice:function(t,n){var i;return i=a.splice(t===e?0:t,n===e?a.length:n),this.trigger("FilesRemoved",i),this.trigger("QueueChanged"),i},trigger:function(e){var t,n,i=o[e.toLowerCase()];if(i)for((n=Array.prototype.slice.call(arguments))[0]=this,t=0;t<i.length;t++)if(!1===i[t].func.apply(i[t].scope,n))return!1;return!0},hasEventListener:function(e){return!!o[e.toLowerCase()]},bind:function(e,t,n){var i;e=e.toLowerCase(),(i=o[e]||[]).push({func:t,scope:n||this}),o[e]=i},unbind:function(t){t=t.toLowerCase();var n,i=o[t],r=arguments[1];if(i){if(r!==e){for(n=i.length-1;n>=0;n--)if(i[n].func===r){i.splice(n,1);break}}else i=[];i.length||delete o[t]}},unbindAll:function(){var e=this;E.each(o,(function(t,n){e.unbind(n)}))},destroy:function(){this.stop(),this.trigger("Destroy"),this.unbindAll()}})},File:function(e,t,n){var i=this;i.id=e,i.name=t,i.size=n,i.loaded=0,i.percent=0,i.status=0},Runtime:function(){this.getFeatures=function(){},this.init=function(e,t){}},QueueProgress:function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},runtimes:{}};window.plupload=E}();