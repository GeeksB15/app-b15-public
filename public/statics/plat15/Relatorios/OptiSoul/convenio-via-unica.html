<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <title>Convênio</title>
        <link rel="stylesheet" type="text/css" href="impressos.css"/>
		<script src="/Scripts/jquery-2.1.4.js"></script>
		<script src="/Restricted/Geeks.ERP.BasicReport.js"></script>
		<script src="/Scripts/codigobarras.js"></script>
		<script src="/Plugins/html2canvas.js"></script>
		<style type="text/css">
			.prescricao-dados{
				text-align: center;
			}

			span {
				font-size: 12px;
			}
		</style>

		<script type="vendaTemplate" id="vendaTemplate">
			<table class="content-table" id="DadosVenda">
				<tr>
					<td class="linha-divisoria" colspan="7"></td>
				</tr>
				<tr>
					<td colspan="2">
						<h4 style="align: right">Venda: <b>[NumeroVenda]</b></h4>
					</td>
					<td colspan="5">
						<h4 style="align: left">Data: <b>[DataHoraVenda]</b></h4>
					</td>
					
				</tr>
				<tr>
					<td width="5%"> <h4> Código </h4> </td>
					<td width="15%"> <h4> Barras </h4> </td>
					<td width="20%"> <h4> Marca </h4> </td>
					<td width="25% "> <h4 nowrap> Descrição </h4> </td>
					<td width="10%"> <h4 align="right"> Qtd </h4> </td>
					<td width="10%"> <h4 align="right"> Unitário </h4> </td>
					<td width="15%"> <h4 align="right"> SubTotal </h4> </td>
				</tr>
		</script>
		
		<script type = "itemVendaTemplate" id = "itemVendaTemplate">
				<tr>
					<td> <h4>[Codigo]</h4> </td>
					<td> <h4>[Barra]</h4> </td>
					<td> <h4>[Marca]</h4> </td>
					<td nowrap> <h4>[Descricao]</h4> </td>
					<td> <h4 align="right">[Quantidade]</h4> </td>
					<td> <h4 align="right">[Unitario]</h4> </td>
					<td> <h4 align="right">[SubTotal]</h4> </td>
				</tr>	
		</script>

		<script type="totalTemplate" id="totalTemplate">
			<table class="content-table" id="Totais">
				<tr>
					<td class="linha-divisoria" colspan="7"></td>
				</tr>
				<tr>
					<td width="65%" align="right"> <h4>SubTotal (=)</h4> </td>
					<td width="10%"> <h4 align="right">[TotalQuantidade]</h4> </td>
					<td width="10%"> <h4 align="right">  </h4> </td>
					<td width="15%"> <h4 align="right">[SubTotal]</h4> </td>
				</tr>
				<tr>
					<td width="65%" align="right"> <h4>Outros Recebimentos (-)</h4> </td>
					<td width="10%"> <h4 align="right"></h4> </td>
					<td width="10%"> <h4 align="right"></h4> </td>
					<td width="15%"> <h4 align="right">[Outros]</h4> </td>
				</tr>			
				<tr>
					<td width="65%" align="right"> <h4>Descontos (-)</h4> </td>
					<td width="10%"> <h4 align="right"></h4> </td>
					<td width="10%"> <h4 align="right"></h4> </td>
					<td width="15%"> <h4 align="right">[Descontos]</h4> </td>
				</tr>						
				<tr>
					<td width="65%" align="right"> <h4>Total Geral (=)</h4> </td>
					<td width="10%"> <h4 align="right"></h4> </td>
					<td width="10%"> <h4 align="right"></h4> </td>
					<td width="15%"> <h4 align="right"><b>[TotalGeral]</b></h4> </td>
				</tr>									
			</table>
		</script>

		<script type="parcelasTemplate" id="parcelasTemplate">
			<div>
			<table class="content-table" id="DadosVenda">
				<tr>
					<td colspan="7">&nbsp&nbsp</td>
				</tr>
				<tr>
					<td class="linha-divisoria" colspan="7"></td>
				</tr>
				<tr style="valign:center">
					<td class="titulo-sessao" colspan="7">
						<h4><b>Parcelas Convênio</b><h4>
					</td>
				</tr>			
				<tr>
					<td width="10%"> <h4> Parcelas </h4> </td>
					<td width="15%"> <h4 align="right"> Vencimento </h4> </td>
					<td width="15%"> <h4 align="right"> Valor  </h4> </td>
					<td width="15%"> <h4 align="right"> Multa/Juros </h4> </td>
					<td width="15%"> <h4 align="right"> Desconto </h4> </td>
					<td width="15%"> <h4 align="right"> Valor Pago </h4> </td>
					<td width="15%"> <h4 align="right"> Pagamento </h4> </td>
				</tr>
		</script>
		
		<script type="parcelasLinhasTemplate" id="parcelasLinhasTemplate">
			<table class="content-table" id="parcelasConvenio">
				<tr>
					<td width="10%"> <h4>[Parcela]</h4> </td>
					<td width="15%"> <h4 align="right">[DataVencimento]</h4> </td>
					<td width="15%"> <h4 align="right">[Valor]</h4> </td>
					<td width="15%"> <h4 align="right">[ValorMultaJuros]</h4> </td>
					<td width="15%"> <h4 align="right">[ValorDesconto]</h4> </td>
					<td width="15%"> <h4 align="right">[ValorPagamento]</h4> </td>
					<td width="15%"> <h4 align="right">[DataPagamento]</h4> </td>
				</tr>
		</script>	
		
		<script type="assinaturaTemplate" id="assinaturaTemplate">
				<tr>
					<td colspan="7">&nbsp</td>
				</tr>
				<tr>
					<td class="linha-divisoria" colspan="7"></td>
				</tr>
		
				<tr>
					<td colspan =7 align="justify" ><h4>Eu, <b>[NomeContatoTitular]</b>, residente em <b>[Endereco]</b>, portador do CPF: <b>[CPF]</b> e RG: <b>[RG]</b>, autorizo o desconto em folha de pagamento do meu salário em parcelas iguais e sucessivas ou, em caso de rescisão do contrato de trabalho, em uma só vez, da despesa acima expressa, realizada por mim e/ou por meu(s) dependente(s).</h4></td>
				</tr>
				<tr>
					<td colspan="7">&nbsp&nbsp</td>
				</tr>			
				<tr>
					<td colspan="7">&nbsp&nbsp</td>
				</tr>			
				<tr>
					<td colspan =5 width="80%"><h4>&nbsp</h4></td>
					<td colspan =2 width="20%"><h4>______________________________________________</td>
				</tr>			
				<tr>
					<td colspan =5 width="80%"><h4>&nbsp </h4></td>
					<td colspan =2 width="20%" ><h5 align="center">[NomeContatoTitularAssinatura]</h5></td>
				</tr>			
		</script>
    </head>
	
	<body>
		<div class="container" id="container">
			<!--cabeçalho do impresso-->
            <div class="pbottom-02">
                <!--dados loja-->
                <table class="content-table">
                    <tr>
                        <!--logo da loja-->
                        <td align="center" valign="center">
                        	<div class="logo" style="width: 140px; height: 60px;">
                            	<img class="img-responsive" src="optsoul-exemplo.png"/>
                            </div>
                        </td>

                        <!--dados da loja-->
						<td class="dados-loja">
							<h4> <span id="fantasiaEmissor">Carregando impressão</span> </h4>
							<h4> <span id="enderecoEmissor">-</span> </h4>
							<h4> <span id="telefoneEmissor"></span> </h4>
							<h4> <span id="emailEmissor">-</span> </h4>
							<h4> <span id="siteEmissor">-</span> </h4>
						</td>

                        <!--codigo de barras-->
						<td>
							<table class="sub-content-table">
								<tr align="right">
									<td> <h4> <span id="codFatura">-</span> </h4> </td>
								</tr>
								<tr align="right">
									<td> <span id="codBarras">-</span> </td>
								</tr>
							</table>
						</td>
					</tr>
					
                    <tr><td class="linha-divisoria" colspan="3"></td></tr>
                </table>
                <!--dados cliente-->
                <table class="content-table">
                    <tr>
                        <!--dados clietne-->
                        <td class="dados-cliente">
                            <h4> Empresa: <span id="nomeEmpresa"></span></h4>
                            <h4> Titular: <span id="codigoTitular"></span> - <span id = "nomeTitular"></span> </h4>
                            <h4> Endereco: <span id="enderecoTitular"></span> </h4>
                            <h4> Telefone: <span id="telefoneTitular"></span> </h4>
                        </td>

                        <!--data-->
                        <td class="float-right">
                            <h4>Impresso: <span id="impresso"></span> </h4>
                            <h4>Faturado: <span id="faturado"></span> </h4>
                        </td>
                    </tr>
					<tr> &nbsp </tr>
					<tr> &nbsp </tr>
					
                </table>
            </div>
            <!--.end cabeçalho do impresso-->
		</div>
			
		<script>
			$(document).ready(function(){

				//Connect DB
				var banco = getParameterByName("BancoDeDados");
				var usuario = getParameterByName("CodigoUsuario");				
				var url = decodeURIComponent(getParameterByName("URLServidor"));

				//Get Codigo fatura
				var codigoDocumento = getParameterByName("CodigoDocumento");

				//Create Var's
				var codPrescricao = "";
				var totalQuantidade = 0.00;
				
				//Print Codigo Fatura (CodigoDocumento)
				$("#codFatura").html("Fatura: " +codigoDocumento);


				//Dados da Loja 
				var dadosEmissor = GeeksSQL(
				    " SELECT"
				        +" IsNull(C.Nome, '') as Nome"
				        +" ,IsNull(C.[Site], '') as Site"
				        +" ,IsNull(C.Email, '') as Email"
				        +" ,IsNull(STUFF(("
				            +" SELECT ',  '+Ct.Telefone"
				            +" FROM ContatoTelefone Ct"
				            +" WHERE Ct.CodigoContato = C.CodigoContato"
				        +" FOR XML PATH('')), 1, 2, ''), '') as Telefone"
				        +" ,(IsNull(Ce.Logradouro+' ', '')+ IsNull(Ce.Numero+', ', '')+ IsNull(Ce.Complemento+', ', '')+ IsNull(Ce.Bairro+' - ', '')+ IsNull(Ce.Municipio+'/', '')+ IsNull(Ce.UF+' ', '')+ IsNull(Ce.CEP, '')) as Endereco"
				        +" ,IsNull(C.Imagem, 'Não informado') as Imagem"
				    +" FROM Contato C"
				        +" LEFT JOIN ContatoEndereco Ce ON(Ce.CodigoContato = C.CodigoContato) AND(Ce.Grupo = 'Principal')"
				    +" WHERE"
				        +" C.CodigoContato = (SELECT CodigoEmpresa FROM Documento WHERE CodigoDocumento ="+codigoDocumento+")"
				,false ,url ,banco ,usuario);

				//Dados Emissor -print to html
				$("#fantasiaEmissor").html(dadosEmissor.Records[0].Nome);
				$("#emailEmissor").html(dadosEmissor.Records[0].Email);
				$("#enderecoEmissor").html(dadosEmissor.Records[0].Endereco);
				$("#siteEmissor").html(dadosEmissor.Records[0].Site);
				$("#telefoneEmissor").html(dadosEmissor.Records[0].Telefone);


                //Dados do Titular
                var dadosTitular = GeeksSQL(
                    " SELECT"
                        +" IsNull(Cemp.CodigoContato, '') as CodigoContatoEmpresa"
                        +" ,IsNull(Cemp.Nome, '') as NomeContatoEmpresa"
                        +" ,IsNull(C.CodigoContato, '') as CodigoContatoTitular"
                        +" ,IsNull(C.Nome, '') as NomeContatoTitular"
                        +" ,IsNull(C.NumeroDocumentoNacional, 'Não informado') as CPF"
                        +" ,IsNull(C.NumeroDocumentoEstadual, 'Não informado') as RG"
                        +" ,IsNull(Ce.Logradouro, '') as Logradouro"
                        +" ,IsNull(Ce.Numero, '') as Numero"
                        +" ,IsNull(Ce.Complemento, '') as Complemento"
                        +" ,IsNull(Ce.Bairro, '') as Bairro"
                        +" ,IsNull(Ce.Municipio, '') as Cidade"
                        +" ,IsNull(Ce.UF, '') as UF"
                        +" ,IsNull(STUFF(("
                            +" SELECT ',  '+Ct.Telefone"
                            +" FROM ContatoTelefone Ct"
                            +" WHERE Ct.CodigoContato = C.CodigoContato"
                        +" FOR XML PATH('')), 1, 2, ''), '') as TelefoneContato"
                        +" ,Convert(Varchar, Dfat.DataHoraFinalizado, 103)+' '+ Convert(Varchar, Dfat.DataHoraFinalizado, 108) as Faturado"
                        +" ,Convert(Varchar, getdate(), 103)+' '+ Convert(Varchar, getdate(), 108) as Impresso"
                    +" FROM Documento Dfat"
                        +" LEFT JOIN Contato C ON(C.CodigoContato = Dfat.CodigoContato)"
                        +" LEFT JOIN ContatoEndereco Ce ON(Ce.CodigoContato = C.CodigoContato)"
                        +" LEFT JOIN ContatoFilho Cf ON(Cf.CodigoContato = C.CodigoContato)"
                        +" LEFT JOIN Contato Cemp ON(Cemp.CodigoContato = Cf.CodigoContatoRelacionado)"
                        +" LEFT JOIN ContatoGrupo Cg ON(Cg.CodigoContato = Cemp.CodigoContato)"
                    +" WHERE"
                        +" Cg.Descricao = 'Convênio'"
                        +" AND Dfat.CodigoDocumento ="+codigoDocumento
                ,false ,url ,banco ,usuario);

				//Dados do Titular -print to html
				$("#nomeEmpresa").html(dadosTitular.Records[0].NomeContatoEmpresa);
				$("#codgoTitular").html(dadosTitular.Records[0].CodigoContatoTitular);
				$("#nomeTitular").html(dadosTitular.Records[0].NomeContatoTitular);
				$("#enderecoTitular").html(dadosTitular.Records[0].Logradouro+ " "+dadosTitular.Records[0].Numero + " - " + dadosTitular.Records[0].Complemento + " " + dadosTitular.Records[0].Bairro + " " + dadosTitular.Records[0].Cidade + "/" + dadosTitular.Records[0].UF );
				$("#telefoneTitular").html(dadosTitular.Records[0].TelefoneContato );
				$("#impresso").html(dadosTitular.Records[0].Impresso);
				$("#faturado").html(dadosTitular.Records[0].Faturado);


				//Dados Venda
				var dadosVenda = GeeksSQL(
                    " SELECT"
                        +" IsNull(Dv.CodigoDocumento, '') as CodigoDocumento"
                        +" ,Convert(Varchar, Dv.DataHoraFinalizado, 103)+' '+ Convert(Varchar, Dv.DataHoraFinalizado, 108) as DataHoraVenda"
                    +" FROM Documento Dv"
                    +" WHERE Dv.CodigoFatura ="+codigoDocumento
                ,false ,url ,banco ,usuario);

				if(dadosVenda.RecordsAffected > 0) {

					//Insert html in var
					var vendaTemplateVazio = $("#vendaTemplate").html();
					
					for(var i = 0; i < dadosVenda.RecordsAffected; i++) {

						var dadosItensVenda = GeeksSQL(
							" SELECT"
								+" IsNull(It.CodigoItem, '') as CodigoItem"
								+" ,IsNull(Dp.DataHoraFinalizado, '') as DataHoraVenda"
								+" ,IsNull(Dp.DescricaoContato, '') as NomeBeneficiario"
								+" ,IsNull(It.CodigoBarras,'N/A') as CodigoBarras"
								+" ,IsNull(It.Marca, '') as Marca"
								+" ,IsNull(It.DescricaoComercial, '') as DescricaoComercial"
								+" ,IsNull(DI.Quantidade, 0) as Quantidade"
								+" ,IsNull(It.ValorVenda, 0) as ValorVenda"
								+" ,IsNull(Di.Total, 0) as Total"
							+" FROM"
								+" Documento Dv"
								+" LEFT JOIN Documento Dp ON(Dp.CodigoDocumentoAdicional = Dv.CodigoDocumento) AND(Dv.Tipo = 'Venda')"
								+" LEFT JOIN DocumentoItem Di ON(Dp.CodigoDocumento = Di.CodigoDocumento)"
								+" LEFT JOIN Item It ON(Di.CodigoItem = It.CodigoItem)"
							+" WHERE"
								+" Dv.CodigoDocumento ="+dadosVenda.Records[i].CodigoDocumento
						,false ,url ,banco ,usuario);

						if(dadosItensVenda.RecordsAffected > 0) {

							vendaTemplateHtml = vendaTemplateVazio;
						
							for(x = 0; x < dadosItensVenda.RecordsAffected; x++) {

								var itemTemplate = $("#itemVendaTemplate").html();

								itemTemplate = itemTemplate
									.replace("[Codigo]", dadosItensVenda.Records[x].CodigoItem)
									.replace("[Barra]", dadosItensVenda.Records[x].CodigoBarras)
									.replace("[Marca]", dadosItensVenda.Records[x].Marca)
									.replace("[Descricao]", dadosItensVenda.Records[x].DescricaoComercial)
									.replace("[Quantidade]",((dadosItensVenda.Records[x].Quantidade != null && dadosItensVenda.Records[x].Quantidade != "null") ? (dadosItensVenda.Records[x].Quantidade) : '') )
									.replace("[Unitario]", ((dadosItensVenda.Records[x].ValorVenda != null && dadosItensVenda.Records[x].ValorVenda != "null") ? (dadosItensVenda.Records[x].ValorVenda.toFixed(2).replace(".", ",")) : '') )
									.replace("[SubTotal]", ((dadosItensVenda.Records[x].Total != null && dadosItensVenda.Records[x].Total != "null") ? (dadosItensVenda.Records[x].Total.toFixed(2).replace(".", ",")) : '') )
								;
								
								totalQuantidade += dadosItensVenda.Records[x].Quantidade;
								vendaTemplateHtml = vendaTemplateHtml + itemTemplate;
							}//for
						}//if

						vendaTemplateHtml = vendaTemplateHtml
							.replace("[NumeroVenda]", dadosVenda.Records[i].CodigoDocumento)
							.replace("[DataHoraVenda]", dadosVenda.Records[i].DataHoraVenda)
						;
						$(container).append(vendaTemplateHtml);
	
						vendaTemplateHtml = vendaTemplateVazio;
					}//for


					//Totais, descontos e outras formas de pagamento
					var totalGeral = 0.00;
					var totalTemplate = $("#totalTemplate").html();

					//Quantidade Total
					totalTemplate = totalTemplate.replace("[TotalQuantidade]", ((totalQuantidade != null && totalQuantidade != "null") ? (totalQuantidade) : '') );


					//SubTotal
					var objGeral = GeeksSQL(
						" SELECT"
							+" SUM(IsNull(Ft.Valor, 0)) as Valor"
						+" FROM FinanceiroTitulo Ft"
						+" WHERE Ft.documentoCodigo ="+codigoDocumento
					,false ,url ,banco ,usuario);
					
					totalTemplate = totalTemplate.replace("[SubTotal]",((objGeral.Records[0].Valor != null && objGeral.Records[0].Valor != "null") ? (objGeral.Records[0].Valor.toFixed(2).replace(".", ",")) : '') );
					totalGeral = objGeral.Records[0].Valor;


					//Outros
					var objGeral = GeeksSQL(
						" SELECT"
							+" SUM(IsNull(Ft.Valor, 0)) as Valor"
						+" FROM FinanceiroTitulo Ft"
						+" WHERE"
							+" Ft.FormadePagamento <> 'Convênio'"
							+" AND Ft.documentoCodigo ="+codigoDocumento
					,false ,url ,banco ,usuario);

					totalTemplate = totalTemplate.replace("[Outros]",((objGeral.Records[0].Valor != null && objGeral.Records[0].Valor != "null") ? (objGeral.Records[0].Valor.toFixed(2).replace(".", ",")) : '') );
					totalGeral -= objGeral.Records[0].Valor;


					//Descontos
					var objGeral = GeeksSQL(
						" SELECT"
							+" SUM(IsNull(Ft.ValorDesconto, 0)) as Valor"
						+" FROM FinanceiroTitulo Ft"
						+" WHERE"
							+" Ft.FormadePagamento <> 'Convênio'"
							+" AND Ft.DocumentoCodigo ="+codigoDocumento
					,false ,url ,banco ,usuario);

					totalTemplate = totalTemplate.replace("[Descontos]", ((objGeral.Records[0].Valor != null && objGeral.Records[0].Valor != "null") ? (objGeral.Records[0].Valor.toFixed(2).replace(".", ",")) : '') );
					totalGeral -= objGeral.Records[0].Valor;


					//ToTalGeral
					totalTemplate = totalTemplate.replace("[TotalGeral]",((totalGeral != null && totalGeral != "null") ? (totalGeral.toFixed(2).replace(".", ",")) : '') );

					//Print
					$(container).append(totalTemplate);

				}//if


				//Dados Parcelas
				var dadosParcelas = GeeksSQL(
					" SELECT"
						+" IsNull(Ft.CodigoFinanceiroTitulo, '') CodigoFinanceiroTitulo"
						+" ,IsNull(Ft.Parcela, '') as Parcela"
						+" ,Convert(Varchar, Ft.DataVencimento, 103) as DataVencimento"
						+" ,IsNull(Ft.Valor, 0) as Valor"
						+" ,(IsNull(Ft.ValorMulta, 0)) + (IsNull(ValorJuros, 0)) as ValorMultaJuros"
						+" ,IsNull(Ft.ValorDesconto, 0) as ValorDesconto"
						+" ,IsNull(Ft.ValorRealizado, 0) as ValorPagamento"
						+" ,IsNull(Convert(Varchar, Ft.DataPagamento, 103), 'Em Aberto') as DataPagamento"
						+" ,IsNull(Ft.FormadePagamento, '') FormadePagamento"
					 +" FROM FinanceiroTitulo Ft"
					 +" WHERE"
					 	+" Ft.FormadePagamento = 'Convênio'"
					 	+" AND Ft.DocumentoCodigo ="+codigoDocumento
				,false ,url ,banco ,usuario);				
				
				if(dadosParcelas.RecordsAffected > 0) {

					//Insert html in var
					var parcelasTemplate = $("#parcelasTemplate").html();

					$(container).append(parcelasTemplate);
					
					for(i = 0; i < dadosParcelas.RecordsAffected; i++) {
						var parcelasLinhasTemplate = $("#parcelasLinhasTemplate").html();

						parcelasLinhasTemplate = parcelasLinhasTemplate
							.replace("[Parcela]", dadosParcelas.Records[i].Parcela)
							.replace("[DataVencimento]", dadosParcelas.Records[i].DataVencimento)
							.replace("[Valor]", ((dadosParcelas.Records[i].Valor != null && dadosParcelas.Records[i].Valor != "null") ? (dadosParcelas.Records[i].Valor.toFixed(2).replace(".", ",")) : '' ) )
							.replace("[ValorMultaJuros]", ((dadosParcelas.Records[i].ValorMultaJuros != null && dadosParcelas.Records[i].ValorMultaJuros != "null") ? (dadosParcelas.Records[i].ValorMultaJuros.toFixed(2).replace(".", ",")) : '') )
							.replace("[ValorDesconto]",((dadosParcelas.Records[i].ValorDesconto != null && dadosParcelas.Records[i].ValorDesconto != "null") ? (dadosParcelas.Records[i].ValorDesconto.toFixed(2).replace(".", ",")) : '') )
							.replace("[ValorPagamento]", ((dadosParcelas.Records[i].ValorPagamento != null && dadosParcelas.Records[i].ValorPagamento != "null") ? (dadosParcelas.Records[i].ValorPagamento.toFixed(2).replace(".", ",")) : '') )
							.replace("[DataPagamento]", dadosParcelas.Records[i].DataPagamento)
						;
						
						$(container).append(parcelasLinhasTemplate);
					}//for


					//Assinatura
					var assinaturaTemplate = $("#assinaturaTemplate").html();

					assinaturaTemplate = assinaturaTemplate
						.replace("[NomeContatoTitular]",dadosTitular.Records[0].NomeContatoTitular)
						.replace("[Endereco]",dadosTitular.Records[0].Logradouro+ " "+dadosTitular.Records[0].Numero + " - " + dadosTitular.Records[0].Complemento + " " + dadosTitular.Records[0].Bairro + " " + dadosTitular.Records[0].Cidade + "/" + dadosTitular.Records[0].UF)
						.replace("[CPF]",dadosTitular.Records[0].CPF)
						.replace("[RG]",dadosTitular.Records[0].RG)
						.replace("[NomeContatoTitularAssinatura]",dadosTitular.Records[0].NomeContatoTitular)
					;
					$(container).append(assinaturaTemplate);					
				}//if


				//Logo Loja
				if(dadosEmissor.Records[0].Imagem != "Não informado") {
					$(".logo").each(function() {
						$( this ).html('<img class="img-responsive" src="' + dadosEmissor.Records[0].Imagem.split("#")[0] + '" />');
					});
				}//if


				//Codigo de Barras da Fatura
				var numero = String(codigoDocumento);
				var zeros = 13 - Number(numero.length);

				for (var i = 0; i < zeros; i++) 
					numero = '0' + numero;

				$("#codBarras").css("white-space", "nowrap");
				$("#codBarras").css("background-color", "#fff");
				$("#codBarras").html(fbarcode(numero,20));
			});
		</script>
	</body>	
</html>