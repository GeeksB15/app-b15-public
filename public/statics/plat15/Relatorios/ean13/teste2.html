<!DOCTYPE html>
<html>

	<head>

		<meta charset="utf-8"/>
		<script type="text/javascript" src="jquery.min.js"></script>
		<script type="text/javascript" src="jquery-ean13.min.js"></script>

		<style type="text/css" media="print">
		
			@page {
				margin: 0;
			}

			.barcode-canvas {
				page-break-before: always;
			}

		</style>

	</head>

	<body>

		<canvas id="pagina" class="barcode-canvas" width="2150" height="2710"></canvas>

		<canvas id="ean" width="270" height="100"></canvas>

		<script type="text/javascript">
		 
			canvas = document.getElementById('pagina');
			ctx = canvas.getContext('2d'); 

			var mm = 1;

			var ImprimeEtiqueta = function (Produto, Linha, Coluna) {

				xin = 260 * mm + (850 * mm * Coluna);
				yin = 145 * mm + (130 * mm * Linha);

				/* ==================== Imprimir as bordas da etiqueta (retângulos). Descomentar se necessário

				ctx.beginPath();
				ctx.rect(xin, yin, 273 * mm, 100 * mm);
				ctx.stroke();

				ctx.beginPath();
				ctx.rect(xin + (273 * mm), yin, 273 * mm, 100 * mm);
				ctx.stroke(); 

				*/

				var x = xin + 10;
				var y = yin + 10;

				$("#ean").EAN13(Produto.CodigoBarras);
				ctx.drawImage(ean, x, y, 240 * mm, 90 * mm);

				ctx.font = '12pt "Arial"';
				x += 290 * mm;
				ctx.fillText(Produto.Nome + ' ' + Produto.Tamanho, x, y + 15 * mm);
				y += 35 * mm;
				ctx.fillText(Produto.Modelo + ' ' + Produto.Cor, x, y);
				y += 20 * mm;
				ctx.fillText(Produto.Valor, x, y);
				y += 20 * mm;
				ctx.fillText('Cód: ' + Produto.CodigoProduto, x, y);

			}

			var etiquetas = [

				{ 
					Nome: "Óculos Ray-Ban",
					Tamanho: "MKids",
					Modelo: "Padrão",
					Cor: "Preto",
					Valor: "R$ 1.200,00",
					CodigoProduto: "12345",
					CodigoBarras: "5901234123457"
				}

			];

			for (i = 0; i < 39; i++) { 
				etiquetas.push(etiquetas[0]);
				etiquetas[i].Codigo += 1;
			}

			var linha = 0;
			var coluna = 0;

			for (i in etiquetas){
				ImprimeEtiqueta(etiquetas[i], linha, coluna);				
				coluna += 1;
				if (coluna == 2) {
					coluna = 0;
					linha += 1;
				}
			}

			$("#ean").remove();

		</script>

	</body>
</html>
