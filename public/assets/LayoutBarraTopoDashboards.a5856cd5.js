import{_ as F,bY as I,b_ as g,p as c,o as u,d as i,f as s,w as l,B as S,D as h,x as o,l as m,E as B,t as _,n as x,A as y,Q as q,j as P,i as E,ai as p,aj as D,aL as Q,aC as O,aD as V,C as b,aB as v,G as z}from"./index.f980bb69.js";import{P as G}from"./Plataforma15.02864d6c.js";const T={components:{MenuGerador:I},computed:{termoBuscaInLowerCase(){return(this.termoBusca||"").toLowerCase()},versao(){return g.versao},piscarContador(){return this.contador==="00:00"}},data(){return{actualFullScreenIcon:"fullscreen",dbUsuario:$db.usuario,menu:!1,sistemaPai:"",termoBusca:"",termoBuscaOnline:"",horario:null,contador:null}},methods:{IsFullScreenCurrently(){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||null;return e===null?(this.actualFullScreenIcon="fullscreen_exit",!1):(this.actualFullScreenIcon="fullscreen",!0)},GoInFullscreen(e){console.log("GoInFullscreen"),e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},GoOutFullscreen(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},abrirFullscreen(){this.IsFullScreenCurrently()?this.GoOutFullscreen():this.GoInFullscreen(document.getElementById("dashboards"))},menu_click(e){this.$emit("menuClick",e)},alternarMenu(){this.menu=!this.menu},iniciarContador(){let e=6e4;this.contador=new Date(e).toISOString().substring(14,19),this.horario=new Date().toLocaleTimeString(),this.contadorInterval=setInterval(async()=>{e-=1e3,this.contador=new Date(e).toISOString().substring(14,19),e>0||(clearInterval(this.contadorInterval),await new Promise((a,f)=>{$utils.emitter.emit("atualizarDashboards",a)}),this.iniciarContador())},1e3)}},emits:["menuClick"],async mounted(){this.sistemaPai=$utils.sistemaPai(),this.iniciarContador()},beforeUnmount(){clearInterval(this.contadorInterval)}},k=e=>(O("data-v-3bfd2302"),e=e(),V(),e),L={class:"BarraTopo"},M={style:{height:"30px"}},U=k(()=>o("img",{src:"/assets/b15-white.svg",alt:"B15",style:{height:"30px"},class:"q-mr-md"},null,-1)),R={key:0,src:"/assets/optidados-white.svg",alt:"Optidados",style:{height:"30px"},class:"q-mr-md"},j={class:"q-mr-md flex justify-between items-center"},N={class:"q-mr-md"},$={class:"q-mt-md q-mx-md"},J=k(()=>o("small",null,"\xA92020 Geeks, B15",-1)),A={key:0};function H(e,a,f,C,t,r){const d=c("menu-gerador");return u(),i("div",L,[s(y,{unelevated:""},{default:l(()=>[s(S,{class:"bg-azul q-px-sm"},{default:l(()=>[s(h,{dense:"",flat:"",icon:"menu",color:"white",round:"",onClick:r.alternarMenu,class:"q-mr-sm"},null,8,["onClick"]),o("div",M,[U,t.sistemaPai==="optisoul"?(u(),i("img",R)):m("",!0)]),s(B,{class:"q-px-sm"}),o("div",j,[o("div",N,[o("span",null,_(t.horario)+" | ",1),o("span",{class:x(r.piscarContador?"blink":"")},_(t.contador),3)]),s(h,{dense:"",flat:"",icon:t.actualFullScreenIcon,color:"white",round:"",onClick:r.abrirFullscreen},null,8,["icon","onClick"])])]),_:1})]),_:1}),s(Q,{modelValue:t.menu,"onUpdate:modelValue":a[1]||(a[1]=n=>t.menu=n),behavior:"mobile",elevated:"",side:"left"},{default:l(()=>[o("div",$,[s(q,{modelValue:t.termoBusca,"onUpdate:modelValue":a[0]||(a[0]=n=>t.termoBusca=n),debounce:300,color:"none",dense:"",outlined:"",placeholder:"Filtrar",clearable:"","clear-icon":"close"},{prepend:l(()=>[s(P,{name:"mdi-filter"})]),_:1},8,["modelValue"])]),s(d,{termoBusca:r.termoBuscaInLowerCase,onMenuClick:r.menu_click},null,8,["termoBusca","onMenuClick"]),!!t.dbUsuario.logado.desenvolvedor&&t.dbUsuario.logado.desenvolvedor()||t.dbUsuario.logado.grupoInterno===2?(u(),E(p,{key:0,dense:"",link:"","no-border":""})):m("",!0),s(p,{"no-border":""},{default:l(()=>[s(D,{class:"justify-between text-caption row"},{default:l(()=>[J,t.sistemaPai==="optisoul"?(u(),i("small",A,"OptiSoul - Optidados")):m("",!0),o("small",null,_(r.versao),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var Y=F(T,[["render",H],["__scopeId","data-v-3bfd2302"]]);const K={components:{Plataforma15:G,BarraTopo:Y},data(){return{rota:"",start:!1}},methods:{async menu_click(e){this.$refs.Plataforma15.menu_click(e)}},mounted(){this.$route.name==="Plataforma15"&&!this.$route.redirectedFrom&&this.$refs.Plataforma15.menu_click(JSON.parse(JSON.stringify(this.$route.params)))}},W={ref:"dashboards",id:"dashboards"};function X(e,a,f,C,t,r){const d=c("barra-topo"),n=c("Plataforma15"),w=c("router-view");return u(),i("div",W,[s(d,{onMenuClick:r.menu_click},null,8,["onMenuClick"]),s(z,null,{default:l(()=>[b(s(n,{ref:"Plataforma15"},null,512),[[v,e.$route.name==="Plataforma15"]]),b(s(w,null,null,512),[[v,e.$route.name!=="Plataforma15"]])]),_:1})],512)}var se=F(K,[["render",X]]);export{se as default};
